[{"tags": ["javascript", "angular", "typescript", "bluetooth", "web-bluetooth"], "comments": [{"owner": {"reputation": 22898, "user_id": 1915893, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/580b31b0be7173bbc477ca1d6967d87c?s=128&d=identicon&r=PG", "display_name": "Aluan Haddad", "link": "https://stackoverflow.com/users/1915893/aluan-haddad"}, "edited": false, "score": 0, "creation_date": 1522887181, "post_id": 49662078, "comment_id": 86334502, "body": "Where&#39;s your attempted solution?"}, {"owner": {"reputation": 23, "user_id": 9599523, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2ab8887719ead9cdbcbd4077db39c7c8?s=128&d=identicon&r=PG&f=1", "display_name": "Avionic", "link": "https://stackoverflow.com/users/9599523/avionic"}, "reply_to_user": {"reputation": 22898, "user_id": 1915893, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/580b31b0be7173bbc477ca1d6967d87c?s=128&d=identicon&r=PG", "display_name": "Aluan Haddad", "link": "https://stackoverflow.com/users/1915893/aluan-haddad"}, "edited": false, "score": 0, "creation_date": 1522919116, "post_id": 49662078, "comment_id": 86346525, "body": "Ohh yes sorry. Like already mentioned, im pretty new to the whole web-thing. My attempted solution was to cut the last .map() away, let value = new Uint8Array(1); value[0] = 1; and return this.ble.writeValue$(characteristic, value). All more guessing than knowledge, but obviously its not the way how this works."}, {"owner": {"reputation": 22898, "user_id": 1915893, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/580b31b0be7173bbc477ca1d6967d87c?s=128&d=identicon&r=PG", "display_name": "Aluan Haddad", "link": "https://stackoverflow.com/users/1915893/aluan-haddad"}, "edited": false, "score": 0, "creation_date": 1522919172, "post_id": 49662078, "comment_id": 86346562, "body": "I&#39;m afraid no one will help you if you don&#39;t try to solve the problem yourself. Stack Overflow is not a code writing service."}, {"owner": {"reputation": 23, "user_id": 9599523, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2ab8887719ead9cdbcbd4077db39c7c8?s=128&d=identicon&r=PG&f=1", "display_name": "Avionic", "link": "https://stackoverflow.com/users/9599523/avionic"}, "reply_to_user": {"reputation": 22898, "user_id": 1915893, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/580b31b0be7173bbc477ca1d6967d87c?s=128&d=identicon&r=PG", "display_name": "Aluan Haddad", "link": "https://stackoverflow.com/users/1915893/aluan-haddad"}, "edited": false, "score": 0, "creation_date": 1522926779, "post_id": 49662078, "comment_id": 86351898, "body": "I am fully your opinion and that was not my intention, to have anyone else write my code! The topic (bluetooth in web app environment) is pretty interesting and i tried different approches but in the angular context there is not much to find yet(except this module). Only hoped for a little hint, that would help me to understand this particular case."}, {"owner": {"reputation": 22898, "user_id": 1915893, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/580b31b0be7173bbc477ca1d6967d87c?s=128&d=identicon&r=PG", "display_name": "Aluan Haddad", "link": "https://stackoverflow.com/users/1915893/aluan-haddad"}, "edited": false, "score": 0, "creation_date": 1522930564, "post_id": 49662078, "comment_id": 86354577, "body": "I think you just need to write something like  <code>this.ble.writeValue(BatteryLevelService.GATT_CHARACTERISTIC_&zwnj;&#8203;BATTERY_LEVEL, new UInt8Array(...)).subscribe(() =&gt; console.info(&#39;write succeeded&#39;), () =&gt; console.error(&#39;write failed&#39;));</code>. Does that help?"}, {"owner": {"reputation": 23, "user_id": 9599523, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2ab8887719ead9cdbcbd4077db39c7c8?s=128&d=identicon&r=PG&f=1", "display_name": "Avionic", "link": "https://stackoverflow.com/users/9599523/avionic"}, "reply_to_user": {"reputation": 22898, "user_id": 1915893, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/580b31b0be7173bbc477ca1d6967d87c?s=128&d=identicon&r=PG", "display_name": "Aluan Haddad", "link": "https://stackoverflow.com/users/1915893/aluan-haddad"}, "edited": false, "score": 0, "creation_date": 1522933699, "post_id": 49662078, "comment_id": 86356848, "body": "Wow, thanks for your patience! That was the kind of hint im talking about :) Think the way to notify isnt far. Updated initial question."}], "owner": {"reputation": 23, "user_id": 9599523, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2ab8887719ead9cdbcbd4077db39c7c8?s=128&d=identicon&r=PG&f=1", "display_name": "Avionic", "link": "https://stackoverflow.com/users/9599523/avionic"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1470, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1522934570, "creation_date": 1522885766, "last_edit_date": 1522934570, "question_id": 49662078, "link": "https://stackoverflow.com/questions/49662078/angular-web-bluetooth-write-and-notify-example", "title": "Angular web bluetooth write and notify example", "body": "<p>Currently i'm working with this module for angular: <a href=\"https://github.com/manekinekko/angular-web-bluetooth\" rel=\"nofollow noreferrer\">Angular web bluetooth</a></p>\n\n<p>I can find an example how to read characteristics and got it working. But there are no samples to write (or notify). I am pretty sure that this module is capable of this tasks, <a href=\"https://manekinekko.github.io/angular-web-bluetooth/injectables/BluetoothCore.html\" rel=\"nofollow noreferrer\">see here</a>, but my knowledge of Angular (or even JS?) isnt enough.</p>\n\n<p>Did someone have any idea where to find examples or/and can provide them?</p>\n\n<p>Snippet to read battery level:</p>\n\n<pre><code>getBatteryLevel() {\nconsole.log('Getting Battery Service...');\n\ntry {\n  return this.ble\n    .discover$({\n      acceptAllDevices: true,\n      optionalServices: [BatteryLevelService.GATT_PRIMARY_SERVICE]\n    })\n    .mergeMap((gatt: BluetoothRemoteGATTServer) =&gt; {\n      return this.ble.getPrimaryService$(\n        gatt,\n        BatteryLevelService.GATT_PRIMARY_SERVICE\n      );\n    })\n    .mergeMap((primaryService: BluetoothRemoteGATTService) =&gt; {\n      return this.ble.getCharacteristic$(\n        primaryService,\n        BatteryLevelService.GATT_CHARACTERISTIC_BATTERY_LEVEL\n      );\n    })\n    .mergeMap((characteristic: BluetoothRemoteGATTCharacteristic) =&gt; {\n      return this.ble.readValue$(characteristic);\n    })\n    .map((value: DataView) =&gt; value.getUint8(0));\n} catch (e) {\n  console.error('Oops! can not read value from %s');\n}\n</code></pre>\n\n<p>}</p>\n\n<p>Thank you.</p>\n\n<p>Edit: thanks to the assistance of Aluan Haddad i was able to perform a write request, with the right Service and Characteristic UUID</p>\n\n<pre><code>            .mergeMap((characteristic: BluetoothRemoteGATTCharacteristic) =&gt; {\n            let value = new Uint8Array(1);\n            value[0] = 2;\n          return this.ble.writeValue$(characteristic, value);\n        }).subscribe();\n</code></pre>\n"}, {"tags": ["javascript", "typescript"], "comments": [{"owner": {"reputation": 22898, "user_id": 1915893, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/580b31b0be7173bbc477ca1d6967d87c?s=128&d=identicon&r=PG", "display_name": "Aluan Haddad", "link": "https://stackoverflow.com/users/1915893/aluan-haddad"}, "edited": false, "score": 1, "creation_date": 1522887535, "post_id": 49661825, "comment_id": 86334614, "body": "You can&#39;t do this without assigning it first. Please explain why you&#39;re trying to do this, what the actual problem you&#39;re trying to solve is. You shouldn&#39;t need to mess around with global variables, and even if you do have a valid use case, identifying a function by its name instead of by reference doesn&#39;t make a lot of sense."}], "answers": [{"comments": [{"owner": {"reputation": 5428, "user_id": 1253298, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/h0lmg.jpg?s=128&g=1", "display_name": "BBaysinger", "link": "https://stackoverflow.com/users/1253298/bbaysinger"}, "edited": false, "score": 0, "creation_date": 1522945261, "post_id": 49673112, "comment_id": 86365422, "body": "That&#39;s a very nice solution!"}, {"owner": {"reputation": 612, "user_id": 3848573, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/eRiax.jpg?s=128&g=1", "display_name": "Joseph Khella", "link": "https://stackoverflow.com/users/3848573/joseph-khella"}, "edited": false, "score": 1, "creation_date": 1572175708, "post_id": 49673112, "comment_id": 103472783, "body": "@Daniel W Strimpel ,, very nice solution, may i ask what&#39;s BaseInterfaceSectionComponent?"}, {"owner": {"reputation": 7054, "user_id": 7407935, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/v4eTR.jpg?s=128&g=1", "display_name": "Daniel W Strimpel", "link": "https://stackoverflow.com/users/7407935/daniel-w-strimpel"}, "reply_to_user": {"reputation": 612, "user_id": 3848573, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/eRiax.jpg?s=128&g=1", "display_name": "Joseph Khella", "link": "https://stackoverflow.com/users/3848573/joseph-khella"}, "edited": false, "score": 1, "creation_date": 1572273662, "post_id": 49673112, "comment_id": 103498887, "body": "@JosephKhella the <code>BaseInterfaceSectionComponent</code> was just a base class that the dynamic components inherited some base behaviors from (just some app specific logic that was consistent). It also served as the interface to work with all of the components in a generic way (i.e. same inputs/outputs)."}], "tags": [], "owner": {"reputation": 7054, "user_id": 7407935, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/v4eTR.jpg?s=128&g=1", "display_name": "Daniel W Strimpel", "link": "https://stackoverflow.com/users/7407935/daniel-w-strimpel"}, "is_accepted": true, "score": 3, "last_activity_date": 1522933376, "creation_date": 1522933376, "answer_id": 49673112, "question_id": 49661825, "link": "https://stackoverflow.com/questions/49661825/angular-typescript-how-to-get-a-reference-to-a-class-from-a-string-at-runtime-w/49673112#49673112", "title": "Angular/TypeScript: How to get a reference to a class from a string at runtime without importing", "body": "<p>I had a similar need once for dynamically rendering components and only having a string reference to the class that needed to be injected into the page (dynamic dashboard type of app). I ended up doing the following:</p>\n\n<ul>\n<li>Create service to hold onto reference of component by string name</li>\n<li>Inject service into module component was part of and register the component</li>\n<li>Inject the service into the component that needed to get the component by string name</li>\n</ul>\n\n<p>This was roughly what I had for the service (the class took care of actually creating the dynamic component instead of getting the reference like below):</p>\n\n<pre><code>export class DynamicComponentService {\n    private dynamicComponentTypes: { [type: string]: Type&lt;BaseInterfaceSectionComponent&gt; } = {};\n\n    registerDynamicComponentTypes(...dynamicComponentTypesToRegister: { component: Type&lt;BaseInterfaceSectionComponent&gt;, name: string }[]) {\n        dynamicComponentTypesToRegister.forEach(dynamicComponentType =&gt; {\n            this.dynamicComponentTypes[dynamicComponentType.name] = dynamicComponentType.component;\n        });\n    }\n\n    getDynamicComponentType(name: string): Type&lt;BaseInterfaceSectionComponent&gt; {\n        return this.dynamicComponentTypes[name];\n    }\n}\n</code></pre>\n\n<p>I was unaware until doing this, but you can actually inject dependencies into a module's constructor. I used this feature to use the service to register the dynamic components:</p>\n\n<pre><code>export class BarChartContentModule {\n    constructor(dynamicComponentService: DynamicComponentService) {\n        const dynamicComponent = { component: BarChartContentComponent, name: 'BarChartContentComponent' };\n        dynamicComponentService.registerDynamicComponentTypes(dynamicComponent);\n    }\n}\n</code></pre>\n\n<p>Not sure if this is what you were looking for, but figured I'd share.</p>\n"}], "owner": {"reputation": 5428, "user_id": 1253298, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/h0lmg.jpg?s=128&g=1", "display_name": "BBaysinger", "link": "https://stackoverflow.com/users/1253298/bbaysinger"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 380, "favorite_count": 1, "accepted_answer_id": 49673112, "answer_count": 1, "score": 1, "last_activity_date": 1522933376, "creation_date": 1522883714, "last_edit_date": 1522887587, "question_id": 49661825, "link": "https://stackoverflow.com/questions/49661825/angular-typescript-how-to-get-a-reference-to-a-class-from-a-string-at-runtime-w", "title": "Angular/TypeScript: How to get a reference to a class from a string at runtime without importing", "body": "<p>I'm trying to figure out how to get a reference to a class in Angular 2+ (Angular 5) from a string at runtime. I tried the examples <a href=\"https://stackoverflow.com/questions/15338610/dynamically-loading-a-typescript-class-reflection-for-typescript/15339429\">on this page</a>. This one didn't work for me:</p>\n\n<pre><code>console.log((&lt;any&gt;Object).create(window[className])); // undefined\n</code></pre>\n\n<p>And the others are using an import, which I'm trying to avoid.</p>\n\n<p>I'm not using a namespace, but don't know if Angular has one of its own. I tried snooping on the window object to see if I could find anything. All I found were getAllAngularRootElements, getAllAngularTestabilities, and getAngularTestability, but those didn't seem like what I was looking for.</p>\n"}, {"tags": ["javascript", "angular", "typescript", "d3.js"], "answers": [{"comments": [{"owner": {"reputation": 22898, "user_id": 1915893, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/580b31b0be7173bbc477ca1d6967d87c?s=128&d=identicon&r=PG", "display_name": "Aluan Haddad", "link": "https://stackoverflow.com/users/1915893/aluan-haddad"}, "edited": false, "score": 0, "creation_date": 1522888765, "post_id": 49662349, "comment_id": 86334941, "body": "It usually means you&#39;re doing something wrong if you have to pass a type argument explicitly. If this is the case here the declarations are probably incorrectly ordered."}, {"owner": {"reputation": 43, "user_id": 7502768, "user_type": "registered", "profile_image": "https://graph.facebook.com/10101087355567550/picture?type=large", "display_name": "Eric Jobe", "link": "https://stackoverflow.com/users/7502768/eric-jobe"}, "edited": false, "score": 0, "creation_date": 1522931838, "post_id": 49662349, "comment_id": 86355562, "body": "That works. Thanks so much! The change over to v5, which my supervisor wants to use, has left a lack of a sufficient knowledge base for proper use, and the official documentation is not yet easily consumable by those new to the library."}, {"owner": {"reputation": 861, "user_id": 1103688, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/iwxq2.jpg?s=128&g=1", "display_name": "Vijay Kumar Kanta", "link": "https://stackoverflow.com/users/1103688/vijay-kumar-kanta"}, "edited": false, "score": 0, "creation_date": 1557316829, "post_id": 49662349, "comment_id": 98722536, "body": "Specifying &lt;T&gt; in d3.max() solves one of the problems."}], "tags": [], "owner": {"reputation": 18991, "user_id": 4235784, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/37b39477142baa729b47de7434341f19?s=128&d=identicon&r=PG&f=1", "display_name": "altocumulus", "link": "https://stackoverflow.com/users/4235784/altocumulus"}, "is_accepted": true, "score": 3, "last_activity_date": 1522887856, "creation_date": 1522887856, "answer_id": 49662349, "question_id": 49661797, "link": "https://stackoverflow.com/questions/49661797/d3-js-v5-domain-not-taking-variable-for-array/49662349#49662349", "title": "D3.js v5 Domain() not taking variable for array", "body": "<p>There are actually four <a href=\"https://github.com/DefinitelyTyped/DefinitelyTyped/blob/master/types/d3-array/index.d.ts#L48-L66\" rel=\"nofollow noreferrer\">type definitions</a> for <code>d3.min()</code>:</p>\n\n<pre><code>export function min(array: ArrayLike&lt;string&gt;): string | undefined;\n\nexport function min&lt;T extends Numeric&gt;(array: ArrayLike&lt;T&gt;): T | undefined;\n\nexport function min&lt;T&gt;(array: ArrayLike&lt;T&gt;, accessor: (datum: T, index: number, array: ArrayLike&lt;T&gt;) =&gt; string | undefined | null): string | undefined;\n\nexport function min&lt;T, U extends Numeric&gt;(array: ArrayLike&lt;T&gt;, accessor: (datum: T, index: number, array: ArrayLike&lt;T&gt;) =&gt; U | undefined | null): U | undefined;\n</code></pre>\n\n<p>The compiler will choose the best fit for your code, which, given that you have not provided any type parameter, comes down to the first type definition. As you can see, this expects an <code>ArrayLike&lt;string&gt;</code> argument and returns a <code>string</code> or <code>undefined</code>. This yields the error you observed. The same obviously holds true for <code>d3.max()</code>.</p>\n\n<p>Since you know your <code>data.totalCount</code> are all numbers, you can easily pass that in as the type parameter for the generic function:</p>\n\n<pre><code>let y0 = d3.scaleLinear().domain([\n  d3.min&lt;number&gt;(data.totalCount), \n  d3.max&lt;number&gt;(data.totalCount)\n]).range([this.height, 0]);\n</code></pre>\n\n<hr>\n\n<p>Side note not directly related to your problem: you can use <a href=\"https://github.com/d3/d3-array#extent\" rel=\"nofollow noreferrer\"><code>d3.extent()</code></a> which combines <code>d3.min()</code> and <code>d3.max()</code> in a single call.</p>\n\n<pre><code>let y0 = d3.scaleLinear()\n  .domain(d3.extent&lt;number&gt;(data.totalCount))\n  .range([this.height, 0]);\n</code></pre>\n"}], "owner": {"reputation": 43, "user_id": 7502768, "user_type": "registered", "profile_image": "https://graph.facebook.com/10101087355567550/picture?type=large", "display_name": "Eric Jobe", "link": "https://stackoverflow.com/users/7502768/eric-jobe"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 926, "favorite_count": 0, "accepted_answer_id": 49662349, "answer_count": 1, "score": 3, "last_activity_date": 1522887856, "creation_date": 1522883537, "question_id": 49661797, "link": "https://stackoverflow.com/questions/49661797/d3-js-v5-domain-not-taking-variable-for-array", "title": "D3.js v5 Domain() not taking variable for array", "body": "<p>In my Angular 5 project using D3 v5, if I give the following, the code will compile:</p>\n\n<pre><code>let y0 = d3.scaleLinear().domain([0, 100000]).range([this.height, 0]);\n</code></pre>\n\n<p>However, if I give the following with variable names for the upper and lower bounds of my domain, I get an error:</p>\n\n<pre><code>let y0 = d3.scaleLinear().domain([d3.min(data.totalCount), d3.max(data.totalCount)]).range([this.height, 0]);\n</code></pre>\n\n<p>Error: TS2345: Argument of type 'string[]' is not assignable to parameter of type 'number | or ({valueOf(): number;})[]'. Type 'string' is not assignable to type 'number | or {valueOf(): number;}.</p>\n\n<p>I know that the arguments going to d3.min and d3.max are numbers, and if I provide a test array of numbers, <code>test = [1, 2, 3, 4]</code>, I get the same error.</p>\n\n<p>Why is it trying to read these variables as strings? What am I doing wrong?</p>\n"}, {"tags": ["typescript", "typescript-typings"], "comments": [{"owner": {"reputation": 22898, "user_id": 1915893, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/580b31b0be7173bbc477ca1d6967d87c?s=128&d=identicon&r=PG", "display_name": "Aluan Haddad", "link": "https://stackoverflow.com/users/1915893/aluan-haddad"}, "edited": false, "score": 0, "creation_date": 1522888562, "post_id": 49661786, "comment_id": 86334888, "body": "Your expectation is not valid. The generated code is correct in every way."}], "answers": [{"tags": [], "owner": {"reputation": 4136, "user_id": 956435, "user_type": "registered", "accept_rate": 59, "profile_image": "https://i.stack.imgur.com/TmSi7.jpg?s=128&g=1", "display_name": "Ramon de Klein", "link": "https://stackoverflow.com/users/956435/ramon-de-klein"}, "is_accepted": true, "score": 0, "last_activity_date": 1523480595, "last_edit_date": 1523480595, "creation_date": 1522885674, "answer_id": 49662070, "question_id": 49661786, "link": "https://stackoverflow.com/questions/49661786/how-to-create-a-typings-file-to-export-a-module-as-a-class/49662070#49662070", "title": "How to create a typings file to export a module as a class", "body": "<p>This answer is based on <a href=\"https://stackoverflow.com/a/29598404/956435\">this answer</a>.</p>\n\n<p>It looks that the following method works:</p>\n\n<pre><code>declare module \"messageformat\" {\n  class MessageFormat {\n    constructor(locale: string);\n    public compile(messageString: string): string;\n  }\n\n  export = MessageFormat;\n}\n</code></pre>\n\n<p>Unfortunately, I cannot use the <code>import</code> statement anymore, but the following code seems to work:</p>\n\n<pre><code>import MessageFormat = require(\"messageformat\");\nconst mf = new MessageFormat(\"en-US\");\nconst text = mf.compile(...);\n</code></pre>\n\n<p>Although I think the <code>import MessageFormat = require(\"messageformat\")</code> looks a bit awkward, it does work and all typings can be used.</p>\n"}], "owner": {"reputation": 4136, "user_id": 956435, "user_type": "registered", "accept_rate": 59, "profile_image": "https://i.stack.imgur.com/TmSi7.jpg?s=128&g=1", "display_name": "Ramon de Klein", "link": "https://stackoverflow.com/users/956435/ramon-de-klein"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 141, "favorite_count": 0, "accepted_answer_id": 49662070, "answer_count": 1, "score": 0, "last_activity_date": 1523480595, "creation_date": 1522883423, "last_edit_date": 1522884647, "question_id": 49661786, "link": "https://stackoverflow.com/questions/49661786/how-to-create-a-typings-file-to-export-a-module-as-a-class", "title": "How to create a typings file to export a module as a class", "body": "<p>I have some Javascript code that imports the <code>messageformat</code> module. This module can be used like this:</p>\n\n<pre><code>const MessageFormat = require('messageformat');\nconst mf = new MessageFormat(\"en-US\");\nconst text = mf.compile(...);\n</code></pre>\n\n<p>This module exports a class, but it doesn't have a typings file. I created the following typings file:</p>\n\n<pre><code>declare module \"messageformat\" {\n  export class MessageFormat {\n    constructor(locale: string);\n    public compile(messageString: string): string;\n  }\n}\n</code></pre>\n\n<p>In my Typescript code I now use it as:</p>\n\n<pre><code>import { MessageFormat } from \"messageformat\";\nconst mf = new MessageFormat(\"en-US\");\nconst text = mf.compile(...);\n</code></pre>\n\n<p>Unfortunately, this doesn't generate <code>new MessageFormat(\"en-US\")</code>, but it generates <code>new messageformat_1.MessageFormat(\"en-US\")</code> which fails. I also tried the following approach:</p>\n\n<pre><code>declare module \"messageformat\" {\n  export default class MessageFormat {\n    constructor(locale: string);\n    public compile(messageString: string): string;\n  }\n}\n</code></pre>\n\n<p>In my Typescript code I now use it as:</p>\n\n<pre><code>import MessageFormat from \"messageformat\";\nconst mf = new MessageFormat(\"en-US\");\nconst text = mf.compile(...);\n</code></pre>\n\n<p>But this compiles to <code>new messageformat_1.default('en-US')</code> which is also not correct. How do I create the typings file (and how do I import the module) so the proper class is constructed?</p>\n"}, {"tags": ["html", "angular", "typescript"], "comments": [{"owner": {"reputation": 11274, "user_id": 9078341, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TAD0A.png?s=128&g=1", "display_name": "Randy Casburn", "link": "https://stackoverflow.com/users/9078341/randy-casburn"}, "edited": false, "score": 0, "creation_date": 1522883340, "post_id": 49661714, "comment_id": 86333409, "body": "Investigate the use of Pipes in Angular."}], "answers": [{"comments": [{"owner": {"reputation": 2388, "user_id": 2039574, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/0c31927b5d17a5c8297da615c9321aa4?s=128&d=identicon&r=PG&f=1", "display_name": "Euridice01", "link": "https://stackoverflow.com/users/2039574/euridice01"}, "edited": false, "score": 0, "creation_date": 1522883469, "post_id": 49661767, "comment_id": 86333448, "body": "I don&#39;t want to drop the items, I just want to position some items at the top. let me edit post to example further. Please see edited post @Help"}, {"owner": {"reputation": 5, "user_id": 9598720, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6b0b221ea07b7361d25ed6e99292a832?s=128&d=identicon&r=PG&f=1", "display_name": "Help", "link": "https://stackoverflow.com/users/9598720/help"}, "reply_to_user": {"reputation": 2388, "user_id": 2039574, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/0c31927b5d17a5c8297da615c9321aa4?s=128&d=identicon&r=PG&f=1", "display_name": "Euridice01", "link": "https://stackoverflow.com/users/2039574/euridice01"}, "edited": false, "score": 0, "creation_date": 1522883750, "post_id": 49661767, "comment_id": 86333540, "body": "Oh, then u want positioning the by filter per filter?, example: filter_a position one, filter_b position 3?"}, {"owner": {"reputation": 2388, "user_id": 2039574, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/0c31927b5d17a5c8297da615c9321aa4?s=128&d=identicon&r=PG&f=1", "display_name": "Euridice01", "link": "https://stackoverflow.com/users/2039574/euridice01"}, "edited": false, "score": 0, "creation_date": 1522883859, "post_id": 49661767, "comment_id": 86333569, "body": "filter dropdown to position certain elements. Let&#39;s make the filter Japanese and Chinese to be at the top of the list instead of alphabetically Afgan and American. Does that make sense? Just like in the example I showed."}, {"owner": {"reputation": 2388, "user_id": 2039574, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/0c31927b5d17a5c8297da615c9321aa4?s=128&d=identicon&r=PG&f=1", "display_name": "Euridice01", "link": "https://stackoverflow.com/users/2039574/euridice01"}, "edited": false, "score": 0, "creation_date": 1522890277, "post_id": 49661767, "comment_id": 86335301, "body": "@hello, why is there position_one and position_two arrays? Why two arrays and how will I bind to them in the html?"}], "tags": [], "owner": {"reputation": 5, "user_id": 9598720, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6b0b221ea07b7361d25ed6e99292a832?s=128&d=identicon&r=PG&f=1", "display_name": "Help", "link": "https://stackoverflow.com/users/9598720/help"}, "is_accepted": false, "score": 0, "last_activity_date": 1522884326, "last_edit_date": 1522884326, "creation_date": 1522883280, "answer_id": 49661767, "question_id": 49661714, "link": "https://stackoverflow.com/questions/49661714/how-can-i-filter-dropdown-list-to-show-certain-values-at-the-top-of-the-list/49661767#49661767", "title": "How can I filter dropdown list to show certain values at the top of the list?", "body": "<p>In html:</p>\n\n<pre><code>&lt;form action=\"exampleaction\"&gt;\n  &lt;input type=\"text\" name=\"firstname\" value=\"english\"&gt;\n  &lt;input type=\"text\" name=\"lastname\" value=\"african\"&gt;\n  &lt;input type=\"submit\" value=\"chinesse\"&gt;\n&lt;/form&gt;\n</code></pre>\n\n<p>In javascript:</p>\n\n<pre><code>var positions_one = [];\nvar positions_two = [];\nvar x = document.getElementsByTagName(\"input\");\nfor (var i in x) {\n    if(x[i].value.includes(\"chinesse\")) {\n        positions_one.push(x[i]);\n    }\n    if(x[i].value.includes(\"english\")) {\n        positions_two.push(x[i]);\n    }\n}\n</code></pre>\n\n<p>try this, this is a similar example...</p>\n\n<p>for a null values use this filter...</p>\n\n<pre><code>if(x[i].value !== null || x[i].value !== undefined) { not do nothing};\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 2388, "user_id": 2039574, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/0c31927b5d17a5c8297da615c9321aa4?s=128&d=identicon&r=PG&f=1", "display_name": "Euridice01", "link": "https://stackoverflow.com/users/2039574/euridice01"}, "edited": false, "score": 0, "creation_date": 1523542017, "post_id": 49797693, "comment_id": 86611971, "body": "Sorry that might not work because of the datatype of my nationalities. The data from the service looks like this: [{&quot;_nationalityKey&quot;:&quot;Afghan&quot;},{&quot;_nationalityKey&quot;:&quot;American&quot;}&zwnj;&#8203;, etc...]"}, {"owner": {"reputation": 5970, "user_id": 8945135, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mo1hF.png?s=128&g=1", "display_name": "ibenjelloun", "link": "https://stackoverflow.com/users/8945135/ibenjelloun"}, "reply_to_user": {"reputation": 2388, "user_id": 2039574, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/0c31927b5d17a5c8297da615c9321aa4?s=128&d=identicon&r=PG&f=1", "display_name": "Euridice01", "link": "https://stackoverflow.com/users/2039574/euridice01"}, "edited": false, "score": 0, "creation_date": 1523542120, "post_id": 49797693, "comment_id": 86612035, "body": "Then why don&#39;t you just start by : <code>this.nationalities = this.nationalities.map( n =&gt; n._nationalityKey)</code> ?"}, {"owner": {"reputation": 2388, "user_id": 2039574, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/0c31927b5d17a5c8297da615c9321aa4?s=128&d=identicon&r=PG&f=1", "display_name": "Euridice01", "link": "https://stackoverflow.com/users/2039574/euridice01"}, "edited": false, "score": 0, "creation_date": 1523542423, "post_id": 49797693, "comment_id": 86612240, "body": "Not sure but that code snippet is still breaking the binding to my control. I will have to debug."}, {"owner": {"reputation": 2388, "user_id": 2039574, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/0c31927b5d17a5c8297da615c9321aa4?s=128&d=identicon&r=PG&f=1", "display_name": "Euridice01", "link": "https://stackoverflow.com/users/2039574/euridice01"}, "edited": false, "score": 0, "creation_date": 1523542580, "post_id": 49797693, "comment_id": 86612336, "body": "With your transformation, the end result is like this: {&quot;0&quot;:&quot;Afghan&quot;}.... when I do the binding, it should be nationality.value or..? How do I make sure I get the correct value?"}, {"owner": {"reputation": 5970, "user_id": 8945135, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mo1hF.png?s=128&g=1", "display_name": "ibenjelloun", "link": "https://stackoverflow.com/users/8945135/ibenjelloun"}, "reply_to_user": {"reputation": 2388, "user_id": 2039574, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/0c31927b5d17a5c8297da615c9321aa4?s=128&d=identicon&r=PG&f=1", "display_name": "Euridice01", "link": "https://stackoverflow.com/users/2039574/euridice01"}, "edited": false, "score": 0, "creation_date": 1523543207, "post_id": 49797693, "comment_id": 86612826, "body": "Here I made a stackblitz with a running code, you can edit it if you want to example better what you want : <a href=\"https://stackblitz.com/edit/stackoverflow-49661714\" rel=\"nofollow noreferrer\">stackblitz.com/edit/stackoverflow-49661714</a>"}], "tags": [], "owner": {"reputation": 5970, "user_id": 8945135, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mo1hF.png?s=128&g=1", "display_name": "ibenjelloun", "link": "https://stackoverflow.com/users/8945135/ibenjelloun"}, "is_accepted": true, "score": 2, "last_activity_date": 1523539196, "creation_date": 1523539196, "answer_id": 49797693, "question_id": 49661714, "link": "https://stackoverflow.com/questions/49661714/how-can-i-filter-dropdown-list-to-show-certain-values-at-the-top-of-the-list/49797693#49797693", "title": "How can I filter dropdown list to show certain values at the top of the list?", "body": "<p>I suggest to split merge your array :</p>\n\n<pre><code>const mostPopularNationalities = ['Japanese', 'Chinese'];\nconst otherNationalities = this.nationalities\n.filter(nationality =&gt; !mostPopularNationalities.includes(nationality));\nthis.nationalities = {...mostPopularNationalities, ...otherNationalities};\n</code></pre>\n"}], "owner": {"reputation": 2388, "user_id": 2039574, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/0c31927b5d17a5c8297da615c9321aa4?s=128&d=identicon&r=PG&f=1", "display_name": "Euridice01", "link": "https://stackoverflow.com/users/2039574/euridice01"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 106, "favorite_count": 2, "accepted_answer_id": 49797693, "answer_count": 2, "score": 2, "last_activity_date": 1523539196, "creation_date": 1522882926, "last_edit_date": 1523504536, "question_id": 49661714, "link": "https://stackoverflow.com/questions/49661714/how-can-i-filter-dropdown-list-to-show-certain-values-at-the-top-of-the-list", "title": "How can I filter dropdown list to show certain values at the top of the list?", "body": "<p>So I have a dropdownlist with list of nationalities and I want to show certain nationalities at the top of the list (since they're the most common ones in that country). How can I do that? </p>\n\n<p>Here's my dropdownlist: </p>\n\n<pre><code>&lt;select [ngModel]=\"null\" formControlName=\"nationality\" required &gt;\n            &lt;option value=\"null\" disabled selected&gt;{{'SelectNationality' | translate}}&lt;/option&gt;\n            &lt;option *ngFor=\"let nationality of nationalities\"&gt;{{nationality._nationalityKey}}&lt;/option&gt;\n        &lt;/select&gt;\n</code></pre>\n\n<p>E.g. I want the nationality Japanese and Chinese at the top of the list instead of Afgdan and American which would be the top normally. </p>\n\n<p>How can I filter it so that e.g. the list looks like this: </p>\n\n<pre><code>Chinese, Japanese, Afgan, American. \n</code></pre>\n\n<p>instead of this: </p>\n\n<pre><code>Afgan, American, Chinese, Japanese \n</code></pre>\n\n<p>EDIT 1st attempt: </p>\n\n<pre><code>if (this.nationalities.indexOf('Japanese') &gt; 0) {\n  this.nationalities.splice(this.nationalities.indexOf('Japanese'), 1);\n  this.nationalities.unshift('Japanese');\n  }\n\nif (this.nationalities.indexOf('Chinese') &gt; 0) {\n  this.nationalities.splice(this.nationalities.indexOf('Chinese'), 1);\n  this.nationalities.unshift('Chinese');\n  }\n</code></pre>\n\n<p>Unfortunately, this is redundant code and it only works for when I initially initialize an array. If I populate an array with data from the server, it no longer works. Why and how can I make the above code better? </p>\n"}, {"tags": ["typescript", "monaco-editor"], "answers": [{"tags": [], "owner": {"reputation": 1367, "user_id": 1262566, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/RF0Wv.png?s=128&g=1", "display_name": "Devid", "link": "https://stackoverflow.com/users/1262566/devid"}, "is_accepted": true, "score": 0, "last_activity_date": 1523625458, "last_edit_date": 1523625458, "creation_date": 1523570562, "answer_id": 49806555, "question_id": 49661686, "link": "https://stackoverflow.com/questions/49661686/monaco-editor-change-double-quote-to-single-quote-character/49806555#49806555", "title": "Monaco editor change double quote to single quote character", "body": "<p>Altough I am not sure if registerOnTypeFormattingEditProvider is the best method to do this here is the code how I managed to accomplish this task:</p>\n\n<pre><code> // changes the double quote charachter to two single quote characters\nmonaco.languages.registerOnTypeFormattingEditProvider(clarionLanguage, {\n    autoFormatTriggerCharacters: ['\"'],\n    provideOnTypeFormattingEdits: (model, position, character, options, token) =&gt; {\n\n        // if inside string quotes then allow double quote character\n        let quotes: monaco.editor.FindMatch[] = model.findMatches(`'([^'])*'`, true, true, true, null, true);\n        if (quotes.length &gt; 0) {\n            for (let quote of quotes) {\n                if (quote &amp;&amp; (position.column &gt;= quote.range.startColumn &amp;&amp; position.column &lt;= quote.range.endColumn)) {\n                    return;\n                }\n            }\n        }\n\n        return [\n            {\n                range: {\n                    startLineNumber: position.lineNumber,\n                    startColumn: position.column - 1,\n                    endLineNumber: position.lineNumber,\n                    endColumn: position.column\n                },\n                text: `''`\n            }\n        ];\n    }\n});\n</code></pre>\n\n<hr>\n\n<p>This here is a much better solution (suggested by rcjsuen and alexandrudima on GitHub):</p>\n\n<pre><code> // change the double quotes to two single quotes\n    editor.onDidType(text =&gt; {\n        if (text === '\"') {\n            let selection = editor.getSelection();\n            let range = new monaco.Range(selection.startLineNumber, selection.startColumn - 1, selection.endLineNumber, selection.endColumn);\n            let id = { major: 1, minor: 1 };\n            let op = { identifier: id, range, text: \"''\", forceMoveMarkers: true };\n\n            editor.getModel().pushEditOperations([], [op], undefined);\n\n            editor.setSelection(selection);\n        }\n    });\n</code></pre>\n"}], "owner": {"reputation": 1367, "user_id": 1262566, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/RF0Wv.png?s=128&g=1", "display_name": "Devid", "link": "https://stackoverflow.com/users/1262566/devid"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 443, "favorite_count": 1, "accepted_answer_id": 49806555, "answer_count": 1, "score": 0, "last_activity_date": 1523625458, "creation_date": 1522882729, "last_edit_date": 1523570580, "question_id": 49661686, "link": "https://stackoverflow.com/questions/49661686/monaco-editor-change-double-quote-to-single-quote-character", "title": "Monaco editor change double quote to single quote character", "body": "<p>As my custom language uses single quote (') and not double quote (\") character for strings, I would like to change a double quote into two single quote characters on user input. Is this possible in monaco editor and what is the best way to do it ? </p>\n\n<p>So for example if the user inputs this \" it will automatically changed to this ''. The only time this is not the case would be inside of two single quote characters (' \" ').</p>\n\n<p>Any suggestions ?</p>\n"}, {"tags": ["typescript"], "comments": [{"owner": {"reputation": 22898, "user_id": 1915893, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/580b31b0be7173bbc477ca1d6967d87c?s=128&d=identicon&r=PG", "display_name": "Aluan Haddad", "link": "https://stackoverflow.com/users/1915893/aluan-haddad"}, "edited": false, "score": 0, "creation_date": 1522887898, "post_id": 49661422, "comment_id": 86334723, "body": "The problem is that you have both a declaration file and a source file  with the same name. The compiler will only consider one of them, preferring the source file, so the method you&#39;re declaring is being ignored."}, {"owner": {"reputation": 22898, "user_id": 1915893, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/580b31b0be7173bbc477ca1d6967d87c?s=128&d=identicon&r=PG", "display_name": "Aluan Haddad", "link": "https://stackoverflow.com/users/1915893/aluan-haddad"}, "edited": false, "score": 2, "creation_date": 1522888251, "post_id": 49661422, "comment_id": 86334810, "body": "I&#39;ve answered a very similar question in some detail before <a href=\"https://stackoverflow.com/q/43667085\">stackoverflow.com/q/43667085</a>"}, {"owner": {"reputation": 1452, "user_id": 3897362, "user_type": "registered", "accept_rate": 67, "profile_image": "https://graph.facebook.com/10713011/picture?type=large", "display_name": "Scott Lin", "link": "https://stackoverflow.com/users/3897362/scott-lin"}, "reply_to_user": {"reputation": 22898, "user_id": 1915893, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/580b31b0be7173bbc477ca1d6967d87c?s=128&d=identicon&r=PG", "display_name": "Aluan Haddad", "link": "https://stackoverflow.com/users/1915893/aluan-haddad"}, "edited": false, "score": 0, "creation_date": 1522890814, "post_id": 49661422, "comment_id": 86335409, "body": "@AluanHaddad, thanks. Your other answer helped me resolve the first error. Now I need to find a solution for the second error."}, {"owner": {"reputation": 22898, "user_id": 1915893, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/580b31b0be7173bbc477ca1d6967d87c?s=128&d=identicon&r=PG", "display_name": "Aluan Haddad", "link": "https://stackoverflow.com/users/1915893/aluan-haddad"}, "edited": false, "score": 0, "creation_date": 1522892350, "post_id": 49661422, "comment_id": 86335748, "body": "Can you update your question with the code that&#39;s giving you the error? I&#39;m not entirely clear on what it looks like. Also if the other answer helped you why not vote for it ;)?"}, {"owner": {"reputation": 1452, "user_id": 3897362, "user_type": "registered", "accept_rate": 67, "profile_image": "https://graph.facebook.com/10713011/picture?type=large", "display_name": "Scott Lin", "link": "https://stackoverflow.com/users/3897362/scott-lin"}, "reply_to_user": {"reputation": 22898, "user_id": 1915893, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/580b31b0be7173bbc477ca1d6967d87c?s=128&d=identicon&r=PG", "display_name": "Aluan Haddad", "link": "https://stackoverflow.com/users/1915893/aluan-haddad"}, "edited": false, "score": 0, "creation_date": 1522900589, "post_id": 49661422, "comment_id": 86337597, "body": "@AluanHaddad, as you wish."}, {"owner": {"reputation": 22898, "user_id": 1915893, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/580b31b0be7173bbc477ca1d6967d87c?s=128&d=identicon&r=PG", "display_name": "Aluan Haddad", "link": "https://stackoverflow.com/users/1915893/aluan-haddad"}, "edited": false, "score": 0, "creation_date": 1522901718, "post_id": 49661422, "comment_id": 86337906, "body": "This is weird. I saw definitely see the error and the only way I could fix it was by adding an augmentation <code>declare module &quot;stream&quot; {interface Readable extends NodeJS.ReadableStream {}}</code>(in a <i>module</i>). But, AFAIK  this shouldn&#39;t be necessary."}, {"owner": {"reputation": 1452, "user_id": 3897362, "user_type": "registered", "accept_rate": 67, "profile_image": "https://graph.facebook.com/10713011/picture?type=large", "display_name": "Scott Lin", "link": "https://stackoverflow.com/users/3897362/scott-lin"}, "reply_to_user": {"reputation": 22898, "user_id": 1915893, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/580b31b0be7173bbc477ca1d6967d87c?s=128&d=identicon&r=PG", "display_name": "Aluan Haddad", "link": "https://stackoverflow.com/users/1915893/aluan-haddad"}, "edited": false, "score": 0, "creation_date": 1522907907, "post_id": 49661422, "comment_id": 86339935, "body": "Interesting. Your latest suggestion made the compiler happy, but at runtime, the error <code>myReadableStreamVariable.readAll is not a function</code> pops up. Edit: I will post my most recent code in a minute."}], "owner": {"reputation": 1452, "user_id": 3897362, "user_type": "registered", "accept_rate": 67, "profile_image": "https://graph.facebook.com/10713011/picture?type=large", "display_name": "Scott Lin", "link": "https://stackoverflow.com/users/3897362/scott-lin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 861, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1522913249, "creation_date": 1522881031, "last_edit_date": 1522913249, "question_id": 49661422, "link": "https://stackoverflow.com/questions/49661422/how-to-extend-nodejs-readablestream-prototype-in-typescript-2-5", "title": "How to extend NodeJS.ReadableStream prototype in TypeScript 2.5?", "body": "<p>I'd like to add a prototype function to NodeJS.ReadableStream. Here is my attempted code along with resulting errors.</p>\n\n<h3>my.d.ts</h3>\n\n<pre><code>declare namespace NodeJS {\n    interface ReadableStream {\n        readAll(encoding: string): Promise&lt;string&gt;;\n    }\n}\n</code></pre>\n\n<h3>my.ts</h3>\n\n<pre><code>namespace NodeJS {\n    ReadableStream.prototype.readAll = function (this: ReadableStream, encoding: string) {\n        // do stuff\n    };\n}\n</code></pre>\n\n<h3>Errors</h3>\n\n<ul>\n<li><p><strong>lib.es6.d.ts:</strong> Property 'readAll' does not exist on type 'ReadableStream'.</p>\n\n<p>I'm not sure how to properly reference NodeJS ReadableStream interface instead of the lib.es6's ReadableStream interface within <code>my.ts</code>. I tried to provide scoping by means of <code>namespace NodeJS</code>, but it does not work.</p></li>\n<li><p><strong>node\\@types\\index.d.ts:</strong> Class 'Readable' incorrectly implements interface 'ReadableStream'. Property 'readAll' is missing in type 'Readable'.</p></li>\n</ul>\n\n<p><strong>Related</strong></p>\n\n<p>Note, I tried using my learning from <a href=\"https://stackoverflow.com/q/39877156/3897362\">How to extend String Prototype and use it next, in TypeScript</a> question, but haven't arrived at a solution.</p>\n\n<h3>Edit #1</h3>\n\n<p>As requested, here's the code from <code>node\\@types\\index.d.ts</code> that is producing the second error. The last line where <code>Readable</code> class is defined is specifically the error. The code is sourced from dependency <code>\"@types/node\": \"^8.5.8\"</code>. Note, I feel this is the pertinent code from the 7000+ line file and won't be pasting the rest. You can view it in full glory <a href=\"https://github.com/DefinitelyTyped/DefinitelyTyped/blob/master/types/node/index.d.ts\" rel=\"nofollow noreferrer\">here</a>.</p>\n\n<pre><code>declare module \"stream\" {\n    import * as events from \"events\";\n\n    class internal extends events.EventEmitter {\n        pipe&lt;T extends NodeJS.WritableStream&gt;(destination: T, options?: { end?: boolean; }): T;\n    }\n\n    namespace internal {\n        export class Stream extends internal { }\n\n        export interface ReadableOptions {\n            highWaterMark?: number;\n            encoding?: string;\n            objectMode?: boolean;\n            read?: (this: Readable, size?: number) =&gt; any;\n            destroy?: (error?: Error) =&gt; any;\n        }\n\n        export class Readable extends Stream implements NodeJS.ReadableStream {\n</code></pre>\n\n<h3>Edit #2</h3>\n\n<p>Working through the suggestions in the comments, I've arrived at the following code, which solves both of the original compiler errors. However, another error is popping up at run-time, <code>myReadableStreamVariable.readAll is not a function</code>.</p>\n\n<p><strong>my.ts</strong></p>\n\n<pre><code>declare namespace NodeJS {\n    interface ReadableStream {\n        readAll: typeof readAll;\n    }\n}\n\nfunction readAll(this: NodeJS.ReadableStream, encoding: string) {\n    // do stuff\n};\n</code></pre>\n\n<p><strong>hack.ts</strong></p>\n\n<pre><code>import { Readable } from \"stream\";\n\ndeclare module \"stream\" { interface Readable extends NodeJS.ReadableStream { } }\n</code></pre>\n"}, {"tags": ["reactjs", "typescript", "drop-down-menu", "office-ui-fabric"], "answers": [{"tags": [], "owner": {"reputation": 51, "user_id": 6041439, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-1VnH-UWMgGk/AAAAAAAAAAI/AAAAAAAAABA/GGp9hR1AOCI/photo.jpg?sz=128", "display_name": "OneBitAhead", "link": "https://stackoverflow.com/users/6041439/onebitahead"}, "is_accepted": false, "score": 1, "last_activity_date": 1523946936, "creation_date": 1523946936, "answer_id": 49871368, "question_id": 49661332, "link": "https://stackoverflow.com/questions/49661332/down-carat-doesnt-render-within-office-ui-fabric-reacts-drop-down-component/49871368#49871368", "title": "Down carat doesn&#39;t render within Office UI Fabric React&#39;s drop down component", "body": "<p>Make sure to initialize the icons using</p>\n\n<pre><code>import { initializeIcons } from '@uifabric/icons';\ninitializeIcons();\n</code></pre>\n\n<p>You only need to do that once in your app, so maybe place it in your entrypoint (e.g. App.js)</p>\n"}], "owner": {"reputation": 31, "user_id": 2820665, "user_type": "registered", "profile_image": "https://graph.facebook.com/627565634/picture?type=large", "display_name": "Vardhan Dugar", "link": "https://stackoverflow.com/users/2820665/vardhan-dugar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 374, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1523946936, "creation_date": 1522880555, "last_edit_date": 1522881302, "question_id": 49661332, "link": "https://stackoverflow.com/questions/49661332/down-carat-doesnt-render-within-office-ui-fabric-reacts-drop-down-component", "title": "Down carat doesn&#39;t render within Office UI Fabric React&#39;s drop down component", "body": "<p>My code currently doesn't render the down facing carat.</p>\n\n<p>Here's the code:</p>\n\n<pre><code>import * as React from \"react\";\nimport { Dropdown } from \"office-ui-fabric-react/lib/Dropdown\";\nimport * as styles from \"./dropdownMenu.scss\";\nimport { ResponsiveMode } from \"office-ui-fabric-react/lib/utilities/decorators/withResponsiveMode\";\n\nexport class DropDownMenu extends React.Component&lt;{}, {}&gt; {\n  public render() {\n    return (\n      &lt;div className={styles.size}&gt;\n        &lt;Dropdown\n          placeHolder=\"Select an option\"\n          id=\"timeFilterMenu\"\n          ariaLabel=\"Select a time filter for the analytics\"\n          defaultSelectedKey=\"B\"\n          options={[\n            { key: \"A\", text: \"Last 7 days\" },\n            { key: \"B\", text: \"Last 28 days\" }\n          ]}\n        /&gt;\n      &lt;/div&gt;\n    );\n  }\n}\n</code></pre>\n\n<p>Here's what it renders:\n<a href=\"https://i.stack.imgur.com/R00ai.png\" rel=\"nofollow noreferrer\">no chevron rendered</a></p>\n"}, {"tags": ["javascript", "angular", "rest", "typescript"], "comments": [{"owner": {"reputation": 11274, "user_id": 9078341, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TAD0A.png?s=128&g=1", "display_name": "Randy Casburn", "link": "https://stackoverflow.com/users/9078341/randy-casburn"}, "edited": false, "score": 0, "creation_date": 1522880512, "post_id": 49661260, "comment_id": 86332391, "body": "So where is the code the <code>test</code> route&#39;s component? Or does it route to the same component?"}, {"owner": {"reputation": 9, "user_id": 8558297, "user_type": "registered", "profile_image": "https://graph.facebook.com/1422479504533462/picture?type=large", "display_name": "Mohamed Ali Lassoued", "link": "https://stackoverflow.com/users/8558297/mohamed-ali-lassoued"}, "reply_to_user": {"reputation": 11274, "user_id": 9078341, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TAD0A.png?s=128&g=1", "display_name": "Randy Casburn", "link": "https://stackoverflow.com/users/9078341/randy-casburn"}, "edited": false, "score": 0, "creation_date": 1522880634, "post_id": 49661260, "comment_id": 86332432, "body": "after the search, it will be redirect to the test html page with the console result"}, {"owner": {"reputation": 11274, "user_id": 9078341, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TAD0A.png?s=128&g=1", "display_name": "Randy Casburn", "link": "https://stackoverflow.com/users/9078341/randy-casburn"}, "edited": false, "score": 0, "creation_date": 1522880646, "post_id": 49661260, "comment_id": 86332437, "body": "Can you put this up on StackBlitz pls? <a href=\"https://stackblitz.com\" rel=\"nofollow noreferrer\">StackBlitz</a>"}], "answers": [{"tags": [], "owner": {"reputation": 1949, "user_id": 6651984, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/BM3Ui.jpg?s=128&g=1", "display_name": "Abel Valdez", "link": "https://stackoverflow.com/users/6651984/abel-valdez"}, "is_accepted": false, "score": 0, "last_activity_date": 1522881391, "creation_date": 1522881391, "answer_id": 49661485, "question_id": 49661260, "link": "https://stackoverflow.com/questions/49661260/cannot-display-json-api-result-from-console-to-html-page/49661485#49661485", "title": "Cannot display JSON API result from console to html page", "body": "<p>Conosole.log is to show debug prints in Console no in HTML.</p>\n\n<p>To see the service results in HTML you must to get them from response object\nexample:</p>\n\n<p>... first init you variables to see them on html</p>\n\n<pre><code>this.names = \"Sample\"\nthis.prices = 5;\n</code></pre>\n\n<p>... then apply this code inside your function</p>\n\n<pre><code>this.http.get(\"http://127.0.0.1:8000/restapi/?source=\"+this.source+\"&amp;destination=\"+this.destination+\"&amp;date=\"+this.date+\"\")\n.subscribe(\n (res:Response) =&gt; {\n   this.router.navigate(['test']);\n   searchFlight= res.json();\n   console.log(searchFlight);\n\n   this.names = searchFlight.names;\n   this.prices = searchFlight.prices;\n }\n)\n</code></pre>\n\n<p>... <strong>Advice</strong>: check you api result, and check if you problem is just update the DOM </p>\n"}, {"tags": [], "owner": {"reputation": 149, "user_id": 4616691, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/dIEtF.png?s=128&g=1", "display_name": "Keith James", "link": "https://stackoverflow.com/users/4616691/keith-james"}, "is_accepted": false, "score": 0, "last_activity_date": 1522901497, "last_edit_date": 1522901497, "creation_date": 1522882694, "answer_id": 49661682, "question_id": 49661260, "link": "https://stackoverflow.com/questions/49661260/cannot-display-json-api-result-from-console-to-html-page/49661682#49661682", "title": "Cannot display JSON API result from console to html page", "body": "<p>The way you are trying to see the data will only show you on the Console.  You can use Firebug or Chrome Developer Tools (<kbd>Ctrl</kbd>+<kbd>Shift</kbd>+<kbd>I</kbd>) and you can see the object.  If you need to print it on the screen you can do something like this:</p>\n\n<pre><code>...\nexport class HomeComponent implements OnInit {\nconstructor( private http: Http, public router:Router ) {}\n\nngOnInit(){}\n\nget printObject() {return JSON.stringify(this.object)};  //set this method\n</code></pre>\n\n<p>and you can use this in your template like</p>\n\n<pre><code>&lt;div&gt; {{printObject}} &lt;/div&gt;\n</code></pre>\n\n<p>What this does is sets a method on the controller that returns a stringified representation of the object.  If you have an array, try something like this in your template</p>\n\n<pre><code>&lt;ul&gt;\n &lt;li *ngFor=\"let object of array\"&gt;{{object | json}}&lt;/li&gt;\n&lt;/ul&gt;\n</code></pre>\n"}], "owner": {"reputation": 9, "user_id": 8558297, "user_type": "registered", "profile_image": "https://graph.facebook.com/1422479504533462/picture?type=large", "display_name": "Mohamed Ali Lassoued", "link": "https://stackoverflow.com/users/8558297/mohamed-ali-lassoued"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 44, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1522901497, "creation_date": 1522880180, "last_edit_date": 1522889047, "question_id": 49661260, "link": "https://stackoverflow.com/questions/49661260/cannot-display-json-api-result-from-console-to-html-page", "title": "Cannot display JSON API result from console to html page", "body": "<p>Cannot display the console result in the html page\nand this is the code of the TS component (home.component.ts)\n<div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>import { Component, OnInit } from '@angular/core';\r\nimport { Http, Response } from '@angular/http'; \r\nimport {Router   } from '@angular/router';\r\n@Component({\r\n  selector: 'app-home',\r\n  templateUrl: './home.component.html',\r\n  styleUrls: ['./home.component.css']\r\n})\r\nexport class HomeComponent implements OnInit {\r\n  constructor( \r\n    \r\n    private http: Http,\r\n    public router:Router\r\n    \r\n  ) {}\r\n\r\n  ngOnInit() {}\r\n  \r\nsource=\"\";\r\ndestination=\"\";\r\ndate=\"\";\r\nnames=\"\";\r\nsearchCity(){\r\nthis.http.get(\"http://127.0.0.1:8000/restapi/?source=\"+this.source+\"&amp;destination=\"+this.destination+\"&amp;date=\"+this.date+\"\")\r\n.subscribe(\r\n (res:Response) =&gt; {\r\n   this.router.navigate(['test']);\r\n   const searchFlight= res.json();\r\n   console.log(searchFlight);\r\n   //this.names = searchFlight.names; \r\n }\r\n)\r\n}\r\n}</code></pre>\r\n</div>\r\n</div>\r\n\nThis is the page where i want to display the result (test page) (this.router.navigate(['test']);)\n(test.component.html)\n<div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>\t&lt;div class=\"hl1\"&gt;&lt;/div&gt;\r\n{{names}}\r\n{{prices}}\r\n&lt;div class=\"hl1\"&gt;&lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>and thess are the params i get \n(home.component.html)\n<div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;input type=\"text\" placeholder=\"From ...\" [(ngModel)]=source name=\"source\"&gt;\r\n\r\n&lt;input type=\"text\" placeholder=\"To ...\" [(ngModel)]=destination name=\"destination\"&gt;\r\n\r\n&lt;input type=\"text\" class=\"input datepicker\" value=\"Mm/Dd/Yy\" [(ngModel)]=date name=\"date\"&gt;\r\n\r\n &lt;button (click)=searchCity() type=\"submit\"&gt;Search&lt;/button&gt;</code></pre>\r\n</div>\r\n</div>\r\n\nand this is the console result \n<a href=\"https://i.stack.imgur.com/f87ht.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n"}, {"tags": ["angular", "typescript", "inheritance", "overriding"], "comments": [{"owner": {"reputation": 11274, "user_id": 9078341, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TAD0A.png?s=128&g=1", "display_name": "Randy Casburn", "link": "https://stackoverflow.com/users/9078341/randy-casburn"}, "edited": false, "score": 1, "creation_date": 1522879973, "post_id": 49660734, "comment_id": 86332215, "body": "Can you put this up on StackBlitz pls? <a href=\"https://stackblitz.com\" rel=\"nofollow noreferrer\">StackBlitz</a>"}, {"owner": {"reputation": 13005, "user_id": 5594389, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/pe2h9.jpg?s=128&g=1", "display_name": "Tomasz Kula", "link": "https://stackoverflow.com/users/5594389/tomasz-kula"}, "edited": false, "score": 0, "creation_date": 1522881302, "post_id": 49660734, "comment_id": 86332684, "body": "I know that this is an angular question, but take a look at <a href=\"https://reactjs.org/docs/composition-vs-inheritance.html\" rel=\"nofollow noreferrer\">reactjs.org/docs/composition-vs-inheritance.html</a> Important quote:  <code>At Facebook, we use React in thousands of components, and we haven\u2019t found any use cases where we would recommend creating component inheritance hierarchies.</code>"}, {"owner": {"reputation": 31, "user_id": 9599129, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f0584001d164bb67dcd6b6770f437b20?s=128&d=identicon&r=PG&f=1", "display_name": "E. Wedgeworth", "link": "https://stackoverflow.com/users/9599129/e-wedgeworth"}, "reply_to_user": {"reputation": 11274, "user_id": 9078341, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TAD0A.png?s=128&g=1", "display_name": "Randy Casburn", "link": "https://stackoverflow.com/users/9078341/randy-casburn"}, "edited": false, "score": 0, "creation_date": 1522942020, "post_id": 49660734, "comment_id": 86363352, "body": "@RandyCasburn I added the code to StackBlitz here: <a href=\"https://angular-cr1di4.stackblitz.io\" rel=\"nofollow noreferrer\">angular-cr1di4.stackblitz.io</a> , same is occurring, when I click the buttons it calls the parent instead of the overridden child functionOverride()"}, {"owner": {"reputation": 31, "user_id": 9599129, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f0584001d164bb67dcd6b6770f437b20?s=128&d=identicon&r=PG&f=1", "display_name": "E. Wedgeworth", "link": "https://stackoverflow.com/users/9599129/e-wedgeworth"}, "reply_to_user": {"reputation": 13005, "user_id": 5594389, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/pe2h9.jpg?s=128&g=1", "display_name": "Tomasz Kula", "link": "https://stackoverflow.com/users/5594389/tomasz-kula"}, "edited": false, "score": 0, "creation_date": 1522942262, "post_id": 49660734, "comment_id": 86363529, "body": "@TomaszKula Our case is very particular. We are modernizing a legacy application into a modern web application. The legacy application has deep inheritance trees on the UI components. Thus inheritance on the component side is necessary for us to replicate this. We have done this successfully in AngularJS, but this is the first try on Angular 2+."}, {"owner": {"reputation": 11274, "user_id": 9078341, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TAD0A.png?s=128&g=1", "display_name": "Randy Casburn", "link": "https://stackoverflow.com/users/9078341/randy-casburn"}, "edited": false, "score": 0, "creation_date": 1522942361, "post_id": 49660734, "comment_id": 86363586, "body": "This is so far outside the design concepts of an Angular app I won&#39;t go here. Read up on Angular&#39;s architecture and style guide. The entire framework was written to provide you efficient Muti-level integrated componentry that exists by nature in a hierarchy. Good luck."}, {"owner": {"reputation": 31, "user_id": 9599129, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f0584001d164bb67dcd6b6770f437b20?s=128&d=identicon&r=PG&f=1", "display_name": "E. Wedgeworth", "link": "https://stackoverflow.com/users/9599129/e-wedgeworth"}, "reply_to_user": {"reputation": 11274, "user_id": 9078341, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TAD0A.png?s=128&g=1", "display_name": "Randy Casburn", "link": "https://stackoverflow.com/users/9078341/randy-casburn"}, "edited": false, "score": 0, "creation_date": 1522942436, "post_id": 49660734, "comment_id": 86363644, "body": "@RandyCasburn This link may be more useful as you can see the code: <a href=\"https://stackblitz.com/edit/angular-cr1di4?file=prototype%2Fprototype-child.component.ts\" rel=\"nofollow noreferrer\">stackblitz.com/edit/&hellip;</a>"}, {"owner": {"reputation": 11274, "user_id": 9078341, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TAD0A.png?s=128&g=1", "display_name": "Randy Casburn", "link": "https://stackoverflow.com/users/9078341/randy-casburn"}, "edited": false, "score": 0, "creation_date": 1522942468, "post_id": 49660734, "comment_id": 86363665, "body": "Let me reiterate after your comment: The entire framework was designed to accomplish your goal. It just does it in a way that you don&#39;t care to implement properly. You should use React."}, {"owner": {"reputation": 11274, "user_id": 9078341, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TAD0A.png?s=128&g=1", "display_name": "Randy Casburn", "link": "https://stackoverflow.com/users/9078341/randy-casburn"}, "edited": false, "score": 0, "creation_date": 1522942498, "post_id": 49660734, "comment_id": 86363683, "body": "I have seen the code - that is where I form my opinion."}, {"owner": {"reputation": 31, "user_id": 9599129, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f0584001d164bb67dcd6b6770f437b20?s=128&d=identicon&r=PG&f=1", "display_name": "E. Wedgeworth", "link": "https://stackoverflow.com/users/9599129/e-wedgeworth"}, "reply_to_user": {"reputation": 11274, "user_id": 9078341, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TAD0A.png?s=128&g=1", "display_name": "Randy Casburn", "link": "https://stackoverflow.com/users/9078341/randy-casburn"}, "edited": false, "score": 0, "creation_date": 1522942701, "post_id": 49660734, "comment_id": 86363799, "body": "@RandyCasburn Thanks for the response. Would there be another way that you know of that could accomplish the following without inheritance? Re-usable components that can be developed without knowing the details of any &quot;child&quot; components that may need to use the functionality later"}, {"owner": {"reputation": 11274, "user_id": 9078341, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TAD0A.png?s=128&g=1", "display_name": "Randy Casburn", "link": "https://stackoverflow.com/users/9078341/randy-casburn"}, "edited": false, "score": 0, "creation_date": 1522943402, "post_id": 49660734, "comment_id": 86364256, "body": "Your thinking is pigeon holed into a single way of thinking about your problem. You see a UI hierarchy while Angular projects a Component Hierarchy. If the Child Component needs to execute an internal method, then do that - it needs nothing from the Parent Component. Otherwise. if the parent Component needs to execute an internal method, then do that. You see, in a Component hierarchy each component is as independent as you need them to be. In a UI hierarchy there is an intrinsic binding between parent and child where one must compete with the other. Angular removes this competition."}], "owner": {"reputation": 31, "user_id": 9599129, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f0584001d164bb67dcd6b6770f437b20?s=128&d=identicon&r=PG&f=1", "display_name": "E. Wedgeworth", "link": "https://stackoverflow.com/users/9599129/e-wedgeworth"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 2781, "favorite_count": 0, "answer_count": 0, "score": 3, "last_activity_date": 1522877287, "creation_date": 1522877287, "question_id": 49660734, "link": "https://stackoverflow.com/questions/49660734/angular-5-inheritance-function-overriding-issue", "title": "Angular 5 Inheritance / Function Overriding Issue", "body": "<p>I am trying to create a simple prototype of component inheritance with function overriding using Angular 5. I have created very simple PrototypeParent and PrototypeChild components, where the child extends the parent. I am triggering the call to the overridden function both through a button in the parent's HTML, and through the parent's typescript itself. In both cases, it is <strong>not</strong> calling the overridden function in the child, but instead calling the function in the parent component.</p>\n\n<p>When I navigate to the page through the browser, I am navigating to the child. Note that I am using transclusion (ng-content) for the HTML composition of the page, in case that affects anything.</p>\n\n<p><strong>prototype-parent.component.ts:</strong></p>\n\n<pre><code>export class PrototypeParentComponent {\n\n  screenbeanParent: PrototypeParentBean;\n\n  constructor() {\n  }\n\n  ngOnInit() {\n  }\n\n  functionOverride() {\n    console.log(\"functionOverride() called in Parent\");\n  }\n\n  functionA() {\n    this.functionOverride();\n  }\n}\n</code></pre>\n\n<p><strong>prototype-child.component.ts:</strong></p>\n\n<pre><code>export class PrototypeChildComponent extends PrototypeParentComponent {\n\n  screenbeanChild: PrototypeChildBean;\n\n  constructor() {\n    super();\n  }\n\n  ngOnInit() {\n  }\n\n  functionOverride() {\n    console.log(\"functionOverride() called in Child\");\n  }\n}\n</code></pre>\n\n<p><strong>prototype-parent.component.html:</strong></p>\n\n<pre><code>&lt;form id=\"prototypeParent\" class=\"form-horizontal\"&gt;\n    &lt;div id=\"header\" class=\"col-sm-12\" header-panel&gt;\n      &lt;div id=\"headerPnl\" class=\"panel panel-default\"&gt;\n        &lt;div class=\"panel-heading\"&gt;Parent Header Title&lt;/div&gt;\n        &lt;div class=\"panel-body\"&gt;\n          &lt;button (click)=\"functionOverride()\"&gt;functionOverride()&lt;/button&gt;\n          &lt;button (click)=\"functionA()\"&gt;functionA()&lt;/button&gt;\n        &lt;/div&gt;\n      &lt;/div&gt;\n    &lt;/div&gt;\n    &lt;div id=\"body\" class=\"col-sm-12\"&gt;\n      &lt;ng-content select=\"[prototype-body]\"&gt;&lt;/ng-content&gt;\n    &lt;/div&gt;\n    &lt;div id=\"footer\" class=\"col-sm-12\" footer-panel&gt;\n      &lt;div id=\"footerPnl\" class=\"panel panel-default\"&gt;\n        &lt;div class=\"panel-heading\"&gt;Parent Footer Title&lt;/div&gt;\n        &lt;div class=\"panel-body\"&gt;\n          Angular Function Message:\n          &lt;label id=\"message\"&gt;{{screenbeanParent.message}}&lt;/label&gt;\n        &lt;/div&gt;\n      &lt;/div&gt;\n   &lt;/div&gt;\n&lt;/form&gt;\n</code></pre>\n\n<p><strong>prototype-child.component.html:</strong></p>\n\n<pre><code>&lt;div id=\"prototypeChild\"&gt;\n  &lt;app-prototype-parent&gt;\n    &lt;div id=\"childPnl\" class=\"panel panel-primary\" prototype-body&gt;\n      &lt;div class=\"panel-heading\"&gt;Child Component Title&lt;/div&gt;\n      &lt;div class=\"panel-body\"&gt;\n        &lt;button (click)=\"functionOverride()\"&gt;functionOverride()&lt;/button&gt;\n      &lt;/div&gt;\n    &lt;/div&gt;\n  &lt;/app-prototype-parent&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>Any help or advice as to why the function overriding is not working would be greatly appreciated!</p>\n"}, {"tags": ["angular", "typescript"], "comments": [{"owner": {"reputation": 3104, "user_id": 1350162, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/Px86A.jpg?s=128&g=1", "display_name": "callback", "link": "https://stackoverflow.com/users/1350162/callback"}, "edited": false, "score": 0, "creation_date": 1522876616, "post_id": 49660416, "comment_id": 86330716, "body": "Does it work with the static value?"}, {"owner": {"reputation": 1243, "user_id": 4512634, "user_type": "registered", "accept_rate": 62, "profile_image": "https://lh6.googleusercontent.com/-QvUvj7DyNMs/AAAAAAAAAAI/AAAAAAAAA5s/bbpmpXLIJpE/photo.jpg?sz=128", "display_name": "Umair Jameel", "link": "https://stackoverflow.com/users/4512634/umair-jameel"}, "reply_to_user": {"reputation": 3104, "user_id": 1350162, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/Px86A.jpg?s=128&g=1", "display_name": "callback", "link": "https://stackoverflow.com/users/1350162/callback"}, "edited": false, "score": 0, "creation_date": 1522876701, "post_id": 49660416, "comment_id": 86330757, "body": "I am trying to show value in input box in html and it shows."}, {"owner": {"reputation": 13005, "user_id": 5594389, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/pe2h9.jpg?s=128&g=1", "display_name": "Tomasz Kula", "link": "https://stackoverflow.com/users/5594389/tomasz-kula"}, "edited": false, "score": 0, "creation_date": 1522876711, "post_id": 49660416, "comment_id": 86330764, "body": "Please post the example json file used for populating the form."}, {"owner": {"reputation": 1243, "user_id": 4512634, "user_type": "registered", "accept_rate": 62, "profile_image": "https://lh6.googleusercontent.com/-QvUvj7DyNMs/AAAAAAAAAAI/AAAAAAAAA5s/bbpmpXLIJpE/photo.jpg?sz=128", "display_name": "Umair Jameel", "link": "https://stackoverflow.com/users/4512634/umair-jameel"}, "edited": false, "score": 0, "creation_date": 1522876939, "post_id": 49660416, "comment_id": 86330891, "body": "I have updated question with snapshot. I only need description of both organization(s) object and for region object(s)"}], "answers": [{"tags": [], "owner": {"reputation": 1395, "user_id": 3937794, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/OWnAa.png?s=128&g=1", "display_name": "Sourav Dutta", "link": "https://stackoverflow.com/users/3937794/sourav-dutta"}, "is_accepted": false, "score": 1, "last_activity_date": 1598801510, "last_edit_date": 1598801510, "creation_date": 1587471027, "answer_id": 61343253, "question_id": 49660416, "link": "https://stackoverflow.com/questions/49660416/dynamic-reactive-forms-with-pre-populated-array-values-in-angular/61343253#61343253", "title": "Dynamic reactive forms with pre-populated array values in Angular", "body": "<blockquote>\n<p>I am trying to add one static value &quot;text&quot;, but lets say I have an\narray of organizations, how can I pre-populate this form?</p>\n<p>screen shot of example json format. Here I only need description from\nboth organization(s) and region(s) object(s)</p>\n</blockquote>\n<p><strong>TL;DR</strong>\n<a href=\"https://stackblitz.com/edit/angular-prepopulate-dynamic-reactive-form-array\" rel=\"nofollow noreferrer\"><strong>WORKING STACKBLITZ</strong></a></p>\n<hr />\n<p>You need to loop over the data and dynamically call the <code>buildOrganization</code> and the <code>buildRegion</code> instead of binding data statically.</p>\n<p>The methods could be modified like below:~</p>\n<pre><code>  public createForm() {\n    this.service.getOrgData().subscribe(response =&gt; {\n      this.orgData = response;\n      this.editForm = this.fb.group({\n        organizations: this.fb.array(\n          this.orgData.organisations.map(org =&gt; this.buildOrganization(org))\n        )\n      });\n    });\n  }\n\n  buildOrganization(org: any) {\n    return new FormGroup({\n      organizationTitle: new FormControl(org.description),\n      regions: this.fb.array(\n        org.regions.map(region =&gt; this.buildRegion(region))\n      )\n    });\n  }\n\n  buildRegion(region) {\n    return new FormGroup({\n      regionTitle: new FormControl(region.description)\n    });\n  }\n</code></pre>\n<p>This is the way to <strong>prepopulate a nested dynamic reactive form</strong> with nested form-arrays.</p>\n<p>Hope this helps!</p>\n"}], "owner": {"reputation": 1243, "user_id": 4512634, "user_type": "registered", "accept_rate": 62, "profile_image": "https://lh6.googleusercontent.com/-QvUvj7DyNMs/AAAAAAAAAAI/AAAAAAAAA5s/bbpmpXLIJpE/photo.jpg?sz=128", "display_name": "Umair Jameel", "link": "https://stackoverflow.com/users/4512634/umair-jameel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 287, "favorite_count": 1, "answer_count": 1, "score": 1, "last_activity_date": 1598801510, "creation_date": 1522875902, "last_edit_date": 1522877275, "question_id": 49660416, "link": "https://stackoverflow.com/questions/49660416/dynamic-reactive-forms-with-pre-populated-array-values-in-angular", "title": "Dynamic reactive forms with pre-populated array values in Angular", "body": "<p>I have json file that has array of organizations and each organization object has its properties and array of regions as well. I am building reactive angular form with pre-populated values in it as shown below.</p>\n\n<pre><code>public createForm() {\n  this.editForm = this.fb.group({\n   organizations: this.fb.array(\n     [this.buildOrganization('text')]\n   )\n  });\n }\n\n buildOrganization(name: String) {\n    return new FormGroup({\n      organizationTitle: new FormControl(name),\n      regions: this.fb.array(\n        [this.buildRegion()]\n      )\n    })\n }\n\n buildRegion() {\n    return new FormGroup({\n      regionTitle: new FormControl(''),\n    })\n }\n</code></pre>\n\n<p>I am trying to add one static value \"text\", but lets say I have an array of organizations, how can I pre-populate this form?</p>\n\n<p>screen shot of example json format. Here I only need description from both organization(s) and region(s) object(s)</p>\n\n<p><a href=\"https://i.stack.imgur.com/NePFs.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/NePFs.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["typescript"], "answers": [{"comments": [{"owner": {"reputation": 22898, "user_id": 1915893, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/580b31b0be7173bbc477ca1d6967d87c?s=128&d=identicon&r=PG", "display_name": "Aluan Haddad", "link": "https://stackoverflow.com/users/1915893/aluan-haddad"}, "edited": false, "score": 0, "creation_date": 1522877153, "post_id": 49660255, "comment_id": 86331007, "body": "This is sort of right but I feel like the question is asking why the type system doesn&#39;t track the need for <code>this</code>, even though by inspection it&#39;s clearly required, and doesn&#39;t report an error for the call to <code>b</code> with <code>a</code>. <code>a()</code>  could technically always be an error."}, {"owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "reply_to_user": {"reputation": 22898, "user_id": 1915893, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/580b31b0be7173bbc477ca1d6967d87c?s=128&d=identicon&r=PG", "display_name": "Aluan Haddad", "link": "https://stackoverflow.com/users/1915893/aluan-haddad"}, "edited": false, "score": 0, "creation_date": 1522910252, "post_id": 49660255, "comment_id": 86341008, "body": "@AluanHaddad I think this a matter of an unimplemented feature, since <code>this</code> is implicitly <code>any</code> and <code>this</code> is treated as any other parameter for compatibility.. compatibility is the conclusion the compiler reaches"}, {"owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "reply_to_user": {"reputation": 22898, "user_id": 1915893, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/580b31b0be7173bbc477ca1d6967d87c?s=128&d=identicon&r=PG", "display_name": "Aluan Haddad", "link": "https://stackoverflow.com/users/1915893/aluan-haddad"}, "edited": false, "score": 1, "creation_date": 1522910537, "post_id": 49660255, "comment_id": 86341151, "body": "@AluanHaddad, Addde relevant issue and discussion, apparently they are looking into this :)"}, {"owner": {"reputation": 69, "user_id": 2989075, "user_type": "registered", "profile_image": "https://graph.facebook.com/565796473/picture?type=large", "display_name": "SlurpTheo", "link": "https://stackoverflow.com/users/2989075/slurptheo"}, "edited": false, "score": 0, "creation_date": 1522953424, "post_id": 49660255, "comment_id": 86370119, "body": "@TitianCernicova-Dragomir Thanks for linking to that issue. I feel a little bad I didn&#39;t search for (or suggest) <code>--strictThis</code> myself yesterday."}, {"owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "reply_to_user": {"reputation": 69, "user_id": 2989075, "user_type": "registered", "profile_image": "https://graph.facebook.com/565796473/picture?type=large", "display_name": "SlurpTheo", "link": "https://stackoverflow.com/users/2989075/slurptheo"}, "edited": false, "score": 0, "creation_date": 1522953573, "post_id": 49660255, "comment_id": 86370214, "body": "@SlurpTheo <code>strictThis</code> is exactly the thing I searched for on GitHub, seemed like the obvious name to call it :)"}], "tags": [], "owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "is_accepted": false, "score": 3, "last_activity_date": 1522910516, "last_edit_date": 1522910516, "creation_date": 1522875243, "answer_id": 49660255, "question_id": 49660100, "link": "https://stackoverflow.com/questions/49660100/why-is-a-function-with-an-explicit-this-parameter-assignable-to-a-less-specifi/49660255#49660255", "title": "Why is a function with an explicit &quot;this parameter&quot; assignable to a less-specific signature?", "body": "<p>The problem is that if left unspecified, the type of <code>this</code> for a function is implicitly <code>any</code>, so your full definition would be:</p>\n\n<pre><code>function a(this: {x : number}) {\n    return \"\";\n}\n\nfunction b(fn: (this: any)=&gt; string) { }\n</code></pre>\n\n<p>These two function are compatible since <code>any</code> can be assigned to any other type including <code>{x : number}</code>, and this behavior is allowed even under <code>strictFunctions</code> and <code>strict</code>.</p>\n\n<p>The only way to ensure incompatibility is to define <code>this</code> on <code>b</code> as being <code>void</code> as an expression of the fact that no <code>this</code> will be passed to <code>fn</code>:</p>\n\n<pre><code>function a(this: {x : number}) {\n    return \"\";\n}\nfunction b(fn: (this: void)=&gt; string) { }\n\nb(a); //error\n</code></pre>\n\n<p>As to the matter of why this is not the default behavior, the compiler team has an open issue on this, so my guess is they are looking into it. See the <a href=\"https://github.com/Microsoft/TypeScript/issues/7968\" rel=\"nofollow noreferrer\">issue</a> and a <a href=\"https://github.com/Microsoft/TypeScript/issues/7689\" rel=\"nofollow noreferrer\">discussion</a> on the topic</p>\n"}], "owner": {"reputation": 69, "user_id": 2989075, "user_type": "registered", "profile_image": "https://graph.facebook.com/565796473/picture?type=large", "display_name": "SlurpTheo", "link": "https://stackoverflow.com/users/2989075/slurptheo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 75, "favorite_count": 0, "answer_count": 1, "score": 5, "last_activity_date": 1522910516, "creation_date": 1522874635, "question_id": 49660100, "link": "https://stackoverflow.com/questions/49660100/why-is-a-function-with-an-explicit-this-parameter-assignable-to-a-less-specifi", "title": "Why is a function with an explicit &quot;this parameter&quot; assignable to a less-specific signature?", "body": "<p>If function <code>a</code>'s signature requires that it be invoked with an explicit <code>this</code> type (i.e., <code>this: { x: number }</code>), why is it assignable to a less-specific signature (i.e., <code>() =&gt; string</code>)?</p>\n\n<p>Run-time error resulting because of this:\n<a href=\"https://i.stack.imgur.com/XAJEB.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/XAJEB.png\" alt=\"Runtime Error\"></a></p>\n\n<p>TypeScript-Handbook: <a href=\"https://www.typescriptlang.org/docs/handbook/functions.html#this-parameters\" rel=\"noreferrer\">this parameter</a>.</p>\n\n<p>Would this be something covered by a new <code>--strict</code> option or is it a limitation of the previously-existing ~<code>--strictFunctionTypes</code> option?</p>\n"}, {"tags": ["javascript", "angular", "typescript", "onload"], "comments": [{"owner": {"reputation": 2912, "user_id": 3081206, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YaKOY.jpg?s=128&g=1", "display_name": "takendarkk", "link": "https://stackoverflow.com/users/3081206/takendarkk"}, "edited": false, "score": 1, "creation_date": 1522873759, "post_id": 49659834, "comment_id": 86329257, "body": "Because the 2nd console.log runs before the onload event is executed."}, {"owner": {"reputation": 6954, "user_id": 1850851, "user_type": "registered", "accept_rate": 42, "profile_image": "https://www.gravatar.com/avatar/6784558f77f063472d44576d296a8a61?s=128&d=identicon&r=PG", "display_name": "Cristian Tra&#236;na", "link": "https://stackoverflow.com/users/1850851/cristian-tra%c3%acna"}, "edited": false, "score": 0, "creation_date": 1522873913, "post_id": 49659834, "comment_id": 86329329, "body": "The last console.log is executed when the script is firstly ran, the &quot;here&quot; console.log is executed when an event is triggered. How do you expect it works? Btw, the question is not related to Angular."}], "answers": [{"tags": [], "owner": {"reputation": 8064, "user_id": 5910563, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/snpEp.jpg?s=128&g=1", "display_name": "Horia Coman", "link": "https://stackoverflow.com/users/5910563/horia-coman"}, "is_accepted": true, "score": 0, "last_activity_date": 1522873900, "creation_date": 1522873900, "answer_id": 49659910, "question_id": 49659834, "link": "https://stackoverflow.com/questions/49659834/accessing-global-variable-in-img-onload-function-typescript/49659910#49659910", "title": "Accessing global variable in img.onload function Typescript", "body": "<p>This has to do with how the code is executed. The <code>onload</code> property indicates a function to be executed when the image loads. This is <em>after</em> the code you've written is run, and hence after the latter <code>console.log</code>. Even if the image is already available locally as is the case here. </p>\n\n<p>Checkout MDN's <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/EventLoop\" rel=\"nofollow noreferrer\">concurrency model and event loop</a> for a description of how this all works out in general. </p>\n"}], "owner": {"reputation": 21, "user_id": 5534432, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ba4a885416eb105a451c662e42c57f7b?s=128&d=identicon&r=PG&f=1", "display_name": "Felipe", "link": "https://stackoverflow.com/users/5534432/felipe"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 518, "favorite_count": 0, "accepted_answer_id": 49659910, "answer_count": 1, "score": 0, "last_activity_date": 1522873900, "creation_date": 1522873613, "question_id": 49659834, "link": "https://stackoverflow.com/questions/49659834/accessing-global-variable-in-img-onload-function-typescript", "title": "Accessing global variable in img.onload function Typescript", "body": "<p>I want to validate the width and height of an uploaded image and then returns false if its not valid</p>\n\n<p>I have this</p>\n\n<pre><code>  let valido = true;\n  const img = new Image();\n  img.src = window.URL.createObjectURL(event.target.files[0]);\n  img.onload = function () {\n    const width = img.naturalWidth;\n    const height = img.naturalHeight;\n    window.URL.revokeObjectURL(img.src);\n    // console.log(width)\n    // console.log(height)\n    if (width &gt; 588 || height &gt; 204) {\n      valido = false;\n      console.log('here')\n    }\n  };\n  console.log(valido);\n</code></pre>\n\n<p>On the console it logs 'here' but in the end the value of valido is still true</p>\n"}, {"tags": ["typescript"], "comments": [{"owner": {"reputation": 22898, "user_id": 1915893, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/580b31b0be7173bbc477ca1d6967d87c?s=128&d=identicon&r=PG", "display_name": "Aluan Haddad", "link": "https://stackoverflow.com/users/1915893/aluan-haddad"}, "edited": false, "score": 0, "creation_date": 1522888349, "post_id": 49659298, "comment_id": 86334831, "body": "I believe you&#39;re confusing declaration with definition but regardless, if you define something to be a string it will be a string. You don&#39;t need to do anything special here."}, {"owner": {"reputation": 21, "user_id": 8297493, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/607afad73a368a6874b8fba6a37ca6a1?s=128&d=identicon&r=PG&f=1", "display_name": "DarkTimber", "link": "https://stackoverflow.com/users/8297493/darktimber"}, "reply_to_user": {"reputation": 22898, "user_id": 1915893, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/580b31b0be7173bbc477ca1d6967d87c?s=128&d=identicon&r=PG", "display_name": "Aluan Haddad", "link": "https://stackoverflow.com/users/1915893/aluan-haddad"}, "edited": false, "score": 0, "creation_date": 1522890350, "post_id": 49659298, "comment_id": 86335314, "body": "Maybe not clear; given Names (or any object for that matter) and passing that to Object.keys(Names) I get back an array of strings; in this case the values: &#39;name1&#39;, &#39;name2&#39;, and &#39;name3&#39;, but not &#39;name3SubName1&#39;. In this case I might like something more like an array of &quot;Properties&quot; so that I could examine each one to see if they contain any children;"}, {"owner": {"reputation": 22898, "user_id": 1915893, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/580b31b0be7173bbc477ca1d6967d87c?s=128&d=identicon&r=PG", "display_name": "Aluan Haddad", "link": "https://stackoverflow.com/users/1915893/aluan-haddad"}, "edited": false, "score": 0, "creation_date": 1522892266, "post_id": 49659298, "comment_id": 86335727, "body": "that&#39;s the way <code>Object.keys</code> behaves. It always returns an array of strings. You might want <code>Object.values</code> or <code>Object.entries</code>. However, if you want to retrieve nested property names to arbitrary depths you will want to use recursion"}, {"owner": {"reputation": 21, "user_id": 8297493, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/607afad73a368a6874b8fba6a37ca6a1?s=128&d=identicon&r=PG&f=1", "display_name": "DarkTimber", "link": "https://stackoverflow.com/users/8297493/darktimber"}, "reply_to_user": {"reputation": 22898, "user_id": 1915893, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/580b31b0be7173bbc477ca1d6967d87c?s=128&d=identicon&r=PG", "display_name": "Aluan Haddad", "link": "https://stackoverflow.com/users/1915893/aluan-haddad"}, "edited": false, "score": 0, "creation_date": 1522965505, "post_id": 49659298, "comment_id": 86376119, "body": "Object.entries does indeed do what I want, but my environment seems to be es5, looks like I get to learn about polyfills next :-). Thanks Aluan!"}, {"owner": {"reputation": 22898, "user_id": 1915893, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/580b31b0be7173bbc477ca1d6967d87c?s=128&d=identicon&r=PG", "display_name": "Aluan Haddad", "link": "https://stackoverflow.com/users/1915893/aluan-haddad"}, "edited": false, "score": 0, "creation_date": 1522967025, "post_id": 49659298, "comment_id": 86376590, "body": "Sure. You can always grab <code>core-js</code> to get a massive amount of polyfills but it is a fairly large dependency."}], "owner": {"reputation": 21, "user_id": 8297493, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/607afad73a368a6874b8fba6a37ca6a1?s=128&d=identicon&r=PG&f=1", "display_name": "DarkTimber", "link": "https://stackoverflow.com/users/8297493/darktimber"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 215, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1522882196, "creation_date": 1522871416, "last_edit_date": 1522882196, "question_id": 49659298, "link": "https://stackoverflow.com/questions/49659298/reflecting-nested-property-literals-in-typescript", "title": "reflecting nested property literals in typescript", "body": "<p>I'm new to TypeScript/JavaScript and am trying to figure out a few things. I've got a type defined like such:</p>\n\n<pre><code>declare module \"Names\" {\n export = Names;\n  const Names: {\n   readonly name1: string;\n   readonly name2: string;\n   readonly name3: {\n    readonly name3SubName1: string;\n...\n</code></pre>\n\n<p>I'm trying to extract the names and values of all the strings from the Names object at runtime and Names can have nesting to multiple depth levels.</p>\n\n<p>I've been able to get the \"top level\" properties by iterating through the results of </p>\n\n<pre><code>Object.keys(Names)\n</code></pre>\n\n<p>but since the return value from that call is strings I'm not able to go in any deeper. In this example I would like to get into name3.name3SubName1. I've also tried combinations of hasOwnProperty and getOwnProperty, but am not able to get any of the nested properties. Is there a common practice for \"reflecting\" property objects in TS objects that can deal with nesting?</p>\n"}, {"tags": ["javascript", "angular", "typescript", "toggle", "angular-components"], "comments": [{"owner": {"reputation": 5258, "user_id": 3162724, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/833457f6ec5ea62785cd84e0c312a8a4?s=128&d=identicon&r=PG", "display_name": "Niladri", "link": "https://stackoverflow.com/users/3162724/niladri"}, "edited": false, "score": 0, "creation_date": 1522871729, "post_id": 49659230, "comment_id": 86328138, "body": "use @Output decorator with EventEmitter of type boolean"}, {"owner": {"reputation": 11274, "user_id": 9078341, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TAD0A.png?s=128&g=1", "display_name": "Randy Casburn", "link": "https://stackoverflow.com/users/9078341/randy-casburn"}, "edited": false, "score": 0, "creation_date": 1522872429, "post_id": 49659230, "comment_id": 86328568, "body": "My answer  forgot to change the state on the child element. Please accept Jun&#39;s answer."}, {"owner": {"reputation": 1495, "user_id": 4687221, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/b1ecbc581de41b47cf209b22fced4db0?s=128&d=identicon&r=PG&f=1", "display_name": "SEY_91", "link": "https://stackoverflow.com/users/4687221/sey-91"}, "edited": false, "score": 0, "creation_date": 1522873722, "post_id": 49659230, "comment_id": 86329236, "body": "@JordanBarber manipulating the dom directly is not the proper way to do such thing,"}, {"owner": {"reputation": 1709, "user_id": 3633970, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/j18ab.png?s=128&g=1", "display_name": "JordanBarber", "link": "https://stackoverflow.com/users/3633970/jordanbarber"}, "reply_to_user": {"reputation": 11274, "user_id": 9078341, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TAD0A.png?s=128&g=1", "display_name": "Randy Casburn", "link": "https://stackoverflow.com/users/9078341/randy-casburn"}, "edited": false, "score": 0, "creation_date": 1522875970, "post_id": 49659230, "comment_id": 86330411, "body": "@RandyCasburn, that is precisely why I asked this question.  I knew DOM manipulation was the wrong way and the answer I received has helped me to eliminate that.  Thanks for your help!"}], "answers": [{"tags": [], "owner": {"reputation": 1129, "user_id": 8062101, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/958686dc0efdc797db259f8a384bbac4?s=128&d=identicon&r=PG&f=1", "display_name": "Jun Kang", "link": "https://stackoverflow.com/users/8062101/jun-kang"}, "is_accepted": true, "score": 4, "last_activity_date": 1522873829, "last_edit_date": 1522873829, "creation_date": 1522872134, "answer_id": 49659466, "question_id": 49659230, "link": "https://stackoverflow.com/questions/49659230/update-parent-boolean-from-child-component-in-angular-5/49659466#49659466", "title": "Update parent boolean from child component in Angular 5", "body": "<p>Use <code>@Output()</code> like the others have mentioned, but it needs to emit an event and you also need to check for the event being triggered in the parent html.</p>\n\n<p>Here's a working <a href=\"https://stackblitz.com/edit/angular-3tfsnp?file=app%2Fapp.component.html\" rel=\"nofollow noreferrer\">StackBlitz</a>  </p>\n\n<p>In the child component.</p>\n\n<pre><code>@Output() onCloseClick = new EventEmitter();\n\ncloseFlyout() {\n  this.onCloseClick.emit();\n}\n</code></pre>\n\n<p>And in the parent components html.</p>\n\n<pre><code>&lt;app-child id=\"flyout\" [ngClass]=\"showFlyout ? 'active' : ''\" (onCloseClick)=\"showFlyout = false\"&gt;&lt;/app-child&gt;\n</code></pre>\n\n<p>You can also create a function in the parent component, and trigger that like <code>(onCloseClick)=\"doFunction()\"</code></p>\n"}, {"tags": [], "owner": {"reputation": 1495, "user_id": 4687221, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/b1ecbc581de41b47cf209b22fced4db0?s=128&d=identicon&r=PG&f=1", "display_name": "SEY_91", "link": "https://stackoverflow.com/users/4687221/sey-91"}, "is_accepted": false, "score": 1, "last_activity_date": 1522873566, "last_edit_date": 1522873566, "creation_date": 1522872798, "answer_id": 49659636, "question_id": 49659230, "link": "https://stackoverflow.com/questions/49659230/update-parent-boolean-from-child-component-in-angular-5/49659636#49659636", "title": "Update parent boolean from child component in Angular 5", "body": "<p>You can use two-way databinding to make it works:</p>\n\n<p>AppComponent:</p>\n\n<pre><code>&lt;app-child id=\"flyout\" [(showFlyoutModel)]=\"showFlyout\" [ngClass]=\"showFlyout ? 'active' : ''\"&gt;&lt;/app-child&gt;\n</code></pre>\n\n<p>ChildComponent :</p>\n\n<pre><code>   import { Component, OnInit, Input, Output, EventEmitter } from '@angular/core';\n\n    @Component({\n      selector: 'app-child',\n      templateUrl: './child.component.html'\n    })\n    export class ChildComponent implements OnInit {\n      @Input()\n      showFlyoutModel;\n\n      @Output()\n      showFlyoutModelChange = new EventEmitter&lt;boolean&gt;();\n      constructor() { }\n\n      ngOnInit() {\n      }\n\n      closeFlyout() {\n        this.showFlyoutModelChange.emit(!this.showFlyoutModel);\n      }\n\n    }\n</code></pre>\n\n<p><a href=\"https://stackblitz.com/edit/angular-v95emc?file=app%2Fchild-component%2Fchild.component.ts\" rel=\"nofollow noreferrer\">https://stackblitz.com/edit/angular-v95emc?file=app%2Fchild-component%2Fchild.component.ts</a></p>\n"}], "owner": {"reputation": 1709, "user_id": 3633970, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/j18ab.png?s=128&g=1", "display_name": "JordanBarber", "link": "https://stackoverflow.com/users/3633970/jordanbarber"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 5580, "favorite_count": 1, "accepted_answer_id": 49659466, "answer_count": 2, "score": 5, "last_activity_date": 1522873829, "creation_date": 1522871183, "question_id": 49659230, "link": "https://stackoverflow.com/questions/49659230/update-parent-boolean-from-child-component-in-angular-5", "title": "Update parent boolean from child component in Angular 5", "body": "<p>I simply want to update a boolean value in my parent component on click of a button in my child component.  I have a slide-out child component that I hide and show based on a dynamic ngClass.  The class is set based on the boolean value from the parent.  However when I close that component from a button in the child, I want to update the boolean value in the parent:</p>\n\n<p>The parent component typescript:</p>\n\n<pre><code>export class AppComponent implements OnInit   {\n\n  showFlyout: boolean\n\n  constructor() {}\n\n  ngOnInit() {\n    this.showFlyout = false;\n  }\n}\n</code></pre>\n\n<p>And parent html:</p>\n\n<pre><code>&lt;main&gt;\n\n  &lt;button (click)=\"showFlyout = !showFlyout\"&gt;&lt;i class=\"fa fa-check\"&gt;&lt;/i&gt;Show Flyout&lt;/button&gt;\n\n  {{showFlyout}}\n\n  &lt;app-child id=\"flyout\" [ngClass]=\"showFlyout ? 'active' : ''\"&gt;&lt;/app-child&gt;\n\n&lt;/main&gt;\n</code></pre>\n\n<p>The child component typescript:</p>\n\n<pre><code>export class ActivateFlyoutComponent implements OnInit {\n\n  constructor() { }\n\n  ngOnInit() {\n  }\n\n  closeActivationFlyout() {\n    const flyout = document.getElementById('flyout');\n    flyout.classList.remove('active');\n  }\n\n}\n</code></pre>\n\n<p>And child component html:</p>\n\n<pre><code>&lt;button (click)=\"closeFlyout()\"&gt;Close&lt;/button&gt;\n</code></pre>\n\n<p>Here's a <a href=\"https://stackblitz.com/edit/angular-qybjrr?file=app%2Fchild-component%2Fchild.component.html\" rel=\"noreferrer\">Stackblitz</a>.  You can see clicking the parent button properly toggles the class but how can I update that boolean from click in the child and therefore make the closeActivationFlyout() method unnecessary in the child component?</p>\n"}, {"tags": ["typescript", "visual-studio-code", "google-chrome-devtools"], "comments": [{"owner": {"reputation": 123770, "user_id": 2830850, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e48b39b77bf324de9aeefd6c5bfc10c6?s=128&d=identicon&r=PG&f=1", "display_name": "Tarun Lalwani", "link": "https://stackoverflow.com/users/2830850/tarun-lalwani"}, "reply_to_user": {"reputation": 3957, "user_id": 271200, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/x93aw.jpg?s=128&g=1", "display_name": "wonea", "link": "https://stackoverflow.com/users/271200/wonea"}, "edited": false, "score": 0, "creation_date": 1528867784, "post_id": 49658910, "comment_id": 88663486, "body": "@wonea, please have a look at answer I posted. Not an exact solution but sharing my findings from the last attempt to get something similar working"}, {"owner": {"reputation": 726, "user_id": 1750408, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/33a7d0f75bb48d3d5cb095d3df207670?s=128&d=identicon&r=PG", "display_name": "DAG", "link": "https://stackoverflow.com/users/1750408/dag"}, "edited": false, "score": 0, "creation_date": 1583870127, "post_id": 49658910, "comment_id": 107256612, "body": "For my needs I am taking advantage of the fact that objects in Chrome&#39;s DevTools when abbreviated (hover or collapsed in console) have the properties listed in the order they&#39;re found in code (or superclass if you have inheritance). This means putting the critical information (ie the &quot;toString&quot; type of information) as the first property defined in the class - this way you choose what you see."}], "answers": [{"comments": [{"owner": {"reputation": 2716, "user_id": 1087692, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/143e0e17fa2f09f8bd0ba9154bc555e2?s=128&d=identicon&r=PG", "display_name": "tzachs", "link": "https://stackoverflow.com/users/1087692/tzachs"}, "edited": false, "score": 0, "creation_date": 1522895662, "post_id": 49659198, "comment_id": 86336441, "body": "An example from c# world: <a href=\"https://blogs.msdn.microsoft.com/soultech/2011/04/05/why-override-tostring-use-debuggerdisplayattribute-instead/\" rel=\"nofollow noreferrer\">blogs.msdn.microsoft.com/soultech/2011/04/05/&hellip;</a>, compare the first  &quot;quick watch&quot; image with the second one."}, {"owner": {"reputation": 2716, "user_id": 1087692, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/143e0e17fa2f09f8bd0ba9154bc555e2?s=128&d=identicon&r=PG", "display_name": "tzachs", "link": "https://stackoverflow.com/users/1087692/tzachs"}, "edited": false, "score": 2, "creation_date": 1522895767, "post_id": 49659198, "comment_id": 86336464, "body": "And as for your second comment, modifying state or doing endless loop in toString() is a terrible thing to do. In c# + VS world, the debugger is executing the toString and has been doing it for years (I imagine it does have some timeout in case the toString is taking too long though)."}], "tags": [], "owner": {"reputation": 1, "user_id": 6046903, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4dccd19722596980e51177ee4c5162c1?s=128&d=identicon&r=PG&f=1", "display_name": "ppacher", "link": "https://stackoverflow.com/users/6046903/ppacher"}, "is_accepted": false, "score": 0, "last_activity_date": 1522871067, "creation_date": 1522871067, "answer_id": 49659198, "question_id": 49658910, "link": "https://stackoverflow.com/questions/49658910/typescript-tostring-ignored-by-debugger/49659198#49659198", "title": "TypeScript toString ignored by debugger", "body": "<p>Can you provide an example what what you actually want to see at which place in the debugger?</p>\n\n<p>If the question is about the variable scope (ie. Local and global variables available), the debugger will not call toString() as it would actually execute code within the debugged script which in turn may modify the state. Imagine an endless loop in toString().</p>\n"}, {"tags": [], "owner": {"reputation": 123770, "user_id": 2830850, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e48b39b77bf324de9aeefd6c5bfc10c6?s=128&d=identicon&r=PG&f=1", "display_name": "Tarun Lalwani", "link": "https://stackoverflow.com/users/2830850/tarun-lalwani"}, "is_accepted": false, "score": 2, "last_activity_date": 1528867723, "creation_date": 1528867723, "answer_id": 50829610, "question_id": 49658910, "link": "https://stackoverflow.com/questions/49658910/typescript-tostring-ignored-by-debugger/50829610#50829610", "title": "TypeScript toString ignored by debugger", "body": "<p>So your question is almost similar to below</p>\n\n<p><a href=\"https://stackoverflow.com/questions/49365663/how-to-change-string-representation-of-objects-in-nodejs-debug-console-view/49461757#49461757\">How to change string representation of objects in Nodejs debug console view</a></p>\n\n<p>The <code>toString</code> behaviour is not there as a part of normal v8 engine debugger API.</p>\n\n<p>I had dived in deep for the link I posted earlier and found few interesting pointers</p>\n\n<ul>\n<li><p>Compiling NodeJS from source and watching the debugger traffic, I realised there is a <code>customFormatter</code> concept </p>\n\n<p><a href=\"https://github.com/nodejs/node/blob/de732725d8ae232d7b6d56927ea8bef471d5bf1d/deps/v8/src/inspector/injected-script-source.js#L702\" rel=\"nofollow noreferrer\">setCustomObjectFormatterEnabled: function(enabled)</a></p></li>\n<li><p>I was able to change some stuff in this JavaScript and send the evaluated <code>toString</code> values back with the v8 API call</p></li>\n<li><p>The default VS code needs to be modified to change the behaviour and show a different text. </p></li>\n<li><p>I never got a clean way to actually see what can be done and how to formulate a proper solution, so left it there itself. </p></li>\n</ul>\n\n<p>So in short it is possible, but requires a decent effort to get it working</p>\n"}, {"tags": [], "owner": {"reputation": 2716, "user_id": 1087692, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/143e0e17fa2f09f8bd0ba9154bc555e2?s=128&d=identicon&r=PG", "display_name": "tzachs", "link": "https://stackoverflow.com/users/1087692/tzachs"}, "is_accepted": true, "score": 0, "last_activity_date": 1568383388, "creation_date": 1568383388, "answer_id": 57925127, "question_id": 49658910, "link": "https://stackoverflow.com/questions/49658910/typescript-tostring-ignored-by-debugger/57925127#57925127", "title": "TypeScript toString ignored by debugger", "body": "<p>I found out how to do it in Chrome DevTools (still don't have a solution for VSCode):</p>\n\n<p><a href=\"https://i.stack.imgur.com/JX9xW.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/JX9xW.png\" alt=\"custom string in dev tools\"></a></p>\n\n<p>For this to work we need to enable custom formatters in dev tools:</p>\n\n<ul>\n<li>Open dev tools</li>\n<li>Click on the hamburger menu (the 3 vertical dots) on the top right</li>\n<li>Click on \"settings\"</li>\n<li>Under \"Console\", make sure \"Enable custom formatters\" is checked. </li>\n</ul>\n\n<p>With this done you can create a custom formatter in the code and then assign it to <code>window[\"devtoolsFormatters\"]</code>.</p>\n\n<p>The full code for my example is here:</p>\n\n<pre><code>class Person {\n    constructor(firstName, lastName) {\n        this.firstName = firstName;\n        this.lastName = lastName;\n    }\n\n    toString() {\n        return `${this.firstName} ${this.lastName}`;\n    }\n}\n\nFormatter = function (simpleFormatter) {\n    this._simpleFormatter = simpleFormatter;\n}\n\nFormatter.prototype = {\n\n    header: function (object) {\n        if ((object instanceof Node))\n            return null;\n\n        var header = new JsonMLElement(\"span\");\n        let title = this._simpleFormatter.description(object);\n        if (typeof object.toString !== \"undefined\") {\n            title = `${object.toString()} [${this._simpleFormatter.description(object)}]`;\n        }\n        header.createTextChild(title);\n        return header.toJsonML();\n    },\n\n    hasBody: function (object) {\n        if (object instanceof Array)\n            return false;\n        return this._simpleFormatter.hasChildren(object);\n    },\n\n    body: function (object) {\n        var body = new JsonMLElement(\"ol\");\n        body.setStyle(\"list-style-type:none; padding-left: 0px; margin-top: 0px; margin-bottom: 0px; margin-left: 12px\");\n        var children = this._simpleFormatter.children(object);\n        for (var i = 0; i &lt; children.length; ++i) {\n            var child = children[i];\n            var li = body.createChild(\"li\");\n            var objectTag;\n            if (typeof child.value === \"object\")\n                objectTag = li.createObjectTag(child.value);\n            else\n                objectTag = li.createChild(\"span\");\n\n            var nameSpan = objectTag.createChild(\"span\");\n            nameSpan.createTextChild(child.key + \": \");\n            nameSpan.setStyle(\"color: rgb(136, 19, 145);\");\n            if (child.value instanceof Node) {\n                var node = child.value;\n                objectTag.createTextChild(node.nodeName.toLowerCase());\n                if (node.id)\n                    objectTag.createTextChild(\"#\" + node.id)\n                else\n                    objectTag.createTextChild(\".\" + node.className)\n            }\n            if (typeof child.value !== \"object\")\n                objectTag.createTextChild(\"\" + child.value);\n\n        }\n        return body.toJsonML();\n    },\n\n    _arrayFormatter: function (array) {\n        var j = new JsonMLElement();\n        j.createTextChild(\"[\");\n        for (var i = 0; i &lt; array.length; ++i) {\n            if (i != 0)\n                j.createTextChild(\", \")\n            j.createObjectTag(array[i]);\n        }\n        j.createTextChild(\"]\");\n        return j;\n    }\n}\n\nJsonMLElement = function (tagName) {\n    this._attributes = {};\n    this._jsonML = [tagName, this._attributes];\n}\n\n\nJsonMLElement.prototype = {\n\n    createChild: function (tagName) {\n        var c = new JsonMLElement(tagName);\n        this._jsonML.push(c.toJsonML());\n        return c;\n    },\n\n    createObjectTag: function (object) {\n        var tag = this.createChild(\"object\");\n        tag.addAttribute(\"object\", object);\n        return tag;\n    },\n\n    setStyle: function (style) {\n        this._attributes[\"style\"] = style;\n    },\n\n    addAttribute: function (key, value) {\n        this._attributes[key] = value;\n    },\n\n    createTextChild: function (text) {\n        this._jsonML.push(text + \"\");\n    },\n\n    toJsonML: function () {\n        return this._jsonML;\n    }\n}\n\nfunction SimpleFormatter() {\n\n}\n\nSimpleFormatter.prototype = {\n\n    description: function (object) {\n        if ((typeof object === \"object\") &amp;&amp; object)\n            return object.constructor.name;\n        return object;\n    },\n\n    hasChildren: function (object) {\n        return (typeof object === \"object\");\n    },\n\n    children: function (object) {\n        var result = [];\n        for (var key in object)\n            result.push({ key: key, value: object[key] });\n        return result;\n    }\n}\n\nwindow[\"devtoolsFormatters\"] = [new Formatter(new SimpleFormatter())];\n\nconst p = new Person(\"Luke\", \"Skywalker\")\nconsole.log(p)\n</code></pre>\n\n<p>More details can be found <a href=\"https://docs.google.com/document/d/1FTascZXT9cxfetuPRT2eXPQKXui4nWFivUnS_335T3U/view\" rel=\"nofollow noreferrer\">in this link</a> (my code is just a slightly modified version of one of the examples posted in that article).</p>\n"}], "owner": {"reputation": 2716, "user_id": 1087692, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/143e0e17fa2f09f8bd0ba9154bc555e2?s=128&d=identicon&r=PG", "display_name": "tzachs", "link": "https://stackoverflow.com/users/1087692/tzachs"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 491, "favorite_count": 1, "accepted_answer_id": 57925127, "answer_count": 3, "score": 5, "last_activity_date": 1568383388, "creation_date": 1522869902, "last_edit_date": 1528815451, "question_id": 49658910, "link": "https://stackoverflow.com/questions/49658910/typescript-tostring-ignored-by-debugger", "title": "TypeScript toString ignored by debugger", "body": "<p>As a follow-up question to this: <a href=\"https://stackoverflow.com/questions/35361482/typescript-override-tostring\">TypeScript override ToString()</a></p>\n\n<p>Let's say we have a <code>Person</code> class and we're overriding <code>toString</code> like this:</p>\n\n<pre><code>class Person {\n    constructor(\n        public firstName: string,\n        public lastName: string\n    ) {}\n\n    public toString(): string {\n       return this.firstName + ' ' + this.lastName;\n    }\n} \n</code></pre>\n\n<p>So, as mentioned in the original question, this works fine when doing <code>console.log(\"\" + myPerson);</code>, however when examining an instance of <code>Person</code> in a debugger the <code>toString</code> seems to be ignored and the default display is shown. I tested this both against Google Chrome's debugger (hovering over a variable) and against VS Code's debugger (both hovering over a variable, and looking in the \"locals\" tab).</p>\n\n<p>Is there any way to make one or both debuggers respect the <code>toString</code> override?</p>\n\n<p>Note: It doesn't matter if I use the lambda version of toString, the results are the same.</p>\n"}, {"tags": ["typescript"], "comments": [{"owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "edited": false, "score": 0, "creation_date": 1522874167, "post_id": 49658466, "comment_id": 86329451, "body": "So in your example value should be of type <code>string</code> ? And if you had a <code>IDictionary&lt;number&gt;</code> it should be <code>number</code> ?"}, {"owner": {"reputation": 7545, "user_id": 1315053, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/4d8154b3f9ba6f4190483c5231d577d3?s=128&d=identicon&r=PG", "display_name": "ken", "link": "https://stackoverflow.com/users/1315053/ken"}, "reply_to_user": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "edited": false, "score": 0, "creation_date": 1522948411, "post_id": 49658466, "comment_id": 86367275, "body": "yes that is right"}], "answers": [{"tags": [], "owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "is_accepted": true, "score": 1, "last_activity_date": 1522875469, "last_edit_date": 1522875469, "creation_date": 1522874342, "answer_id": 49660018, "question_id": 49658466, "link": "https://stackoverflow.com/questions/49658466/unwrapping-a-type-in-typescript/49660018#49660018", "title": "Unwrapping a type in typescript", "body": "<p>The problem is that the type query for <code>KK</code> indexes into <code>K</code> which is a <code>string</code>, so the type of <code>value</code> will always be a union of all properties of <code>string</code>. Based on your description, you want <code>KK</code> to be a key of the type of the property <code>T[K]</code></p>\n\n<pre><code>class dd&lt;T&gt; {\n\n    public async pushKey&lt;K extends keyof T, KK extends keyof T[K]&gt;(property: K, value: T[K][KK]) { ... }\n}\n\ndeclare let d:dd&lt;{\n    prop: IDictionary&lt;string&gt;\n}&gt;;\n\nd.pushKey(\"prop\", \"dd\") // ok\nd.pushKey(\"prop\", 1) //error, not a value for prop\n</code></pre>\n\n<p>Although since you don't actually use <code>KK</code> in any other sort of capacity it will never get constrained to anything more specific then <code>keyof T[K]</code>, so you could achieve the same effect without <code>KK</code>:</p>\n\n<pre><code>public async pushKey&lt;K extends keyof T&gt;(property: K, value: T[K][keyof T[K]]) { ... }\n</code></pre>\n"}], "owner": {"reputation": 7545, "user_id": 1315053, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/4d8154b3f9ba6f4190483c5231d577d3?s=128&d=identicon&r=PG", "display_name": "ken", "link": "https://stackoverflow.com/users/1315053/ken"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 404, "favorite_count": 0, "accepted_answer_id": 49660018, "answer_count": 1, "score": 0, "last_activity_date": 1522875469, "creation_date": 1522868350, "question_id": 49658466, "link": "https://stackoverflow.com/questions/49658466/unwrapping-a-type-in-typescript", "title": "Unwrapping a type in typescript", "body": "<p>I have a property of type <code>IDictionary&lt;string&gt;</code> where a dictionary is defined as:</p>\n\n<pre><code>export interface IDictionary&lt;T = any&gt; {\n  [key: string]: T;\n}\n</code></pre>\n\n<p>I would like to define a method which constrains the type to \"string\" in this case. Basically it unwraps the dictionary and exposes the type of it's values. Now, in matter of fact, there is another layer of abstraction involved here. So specifically my method is defined as:</p>\n\n<pre><code> public async pushKey&lt;K extends keyof T, KK extends keyof K&gt;(property: K, value: K[KK]) { ... }\n</code></pre>\n\n<p>So here, the type <code>T</code> is defined at the class level and is a set of properties which may be a \"push key\". This method is intended for those properties which <em>are</em> a \"pushKey\" and would therefore also be a object with string key's and values which could be constrained as any data structure. For simplicity sake we could assume it is always the <code>IDictionary&lt;string&gt;</code> structure as that is clearly a valid use case.</p>\n\n<p>I would have thought that the above signature would have gotten me what I was looking for but for a property T[K] -- which is indeed a <code>IDictionary&lt;string&gt;</code> -- I get the following type info from vs-code:</p>\n\n<p><a href=\"https://i.stack.imgur.com/CKTX6.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/CKTX6.png\" alt=\"enter image description here\"></a></p>\n\n<p>Can anyone help?</p>\n"}, {"tags": ["angular", "typescript", "testbed"], "comments": [{"owner": {"reputation": 630270, "user_id": 571407, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2f0d9dec16bae1e06552af55ddefc11f?s=128&d=identicon&r=PG", "display_name": "JB Nizet", "link": "https://stackoverflow.com/users/571407/jb-nizet"}, "edited": false, "score": 0, "creation_date": 1522867488, "post_id": 49658177, "comment_id": 86325666, "body": "You create an ActivatedRouteSnapshot, you populate it, you call the resolve() method with that route as argument, and you check that it returns the expected value."}, {"owner": {"reputation": 21940, "user_id": 5394220, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/U2VGk.jpg?s=128&g=1", "display_name": "Jota.Toledo", "link": "https://stackoverflow.com/users/5394220/jota-toledo"}, "edited": false, "score": 3, "creation_date": 1522870684, "post_id": 49658177, "comment_id": 86327531, "body": "could you try something?"}], "answers": [{"comments": [{"owner": {"reputation": 1897, "user_id": 1152570, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/74781cb67a450a9cce5c794ed64856b9?s=128&d=identicon&r=PG", "display_name": "ali akbar azizkhani", "link": "https://stackoverflow.com/users/1152570/ali-akbar-azizkhani"}, "edited": false, "score": 1, "creation_date": 1522950551, "post_id": 49661199, "comment_id": 86368481, "body": "How to construct JhiPaginationUtil ?"}, {"owner": {"reputation": 13005, "user_id": 5594389, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/pe2h9.jpg?s=128&g=1", "display_name": "Tomasz Kula", "link": "https://stackoverflow.com/users/5594389/tomasz-kula"}, "reply_to_user": {"reputation": 1897, "user_id": 1152570, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/74781cb67a450a9cce5c794ed64856b9?s=128&d=identicon&r=PG", "display_name": "ali akbar azizkhani", "link": "https://stackoverflow.com/users/1152570/ali-akbar-azizkhani"}, "edited": false, "score": 0, "creation_date": 1522958703, "post_id": 49661199, "comment_id": 86373045, "body": "I&#39;d just mock it. Create a spy for each property of the JhiPaginationUtil (<code>parsePage</code>, <code>parsePredicate</code>, <code>parseAscending</code>). Then you can change the expectations to something like: <code>expect(parsePageSpy).toHaveBeenCalledWith(...)</code>"}, {"owner": {"reputation": 3718, "user_id": 663064, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6901e3012a1bee56fca22ebcfd3da742?s=128&d=identicon&r=PG", "display_name": "David", "link": "https://stackoverflow.com/users/663064/david"}, "edited": false, "score": 0, "creation_date": 1566476466, "post_id": 49661199, "comment_id": 101673735, "body": "If you get the service with a <code>const service = TestBed.get(JhiResolvePagingParams)</code> you can avoid the injection"}], "tags": [], "owner": {"reputation": 13005, "user_id": 5594389, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/pe2h9.jpg?s=128&g=1", "display_name": "Tomasz Kula", "link": "https://stackoverflow.com/users/5594389/tomasz-kula"}, "is_accepted": true, "score": 9, "last_activity_date": 1522974765, "last_edit_date": 1522974765, "creation_date": 1522879818, "answer_id": 49661199, "question_id": 49658177, "link": "https://stackoverflow.com/questions/49658177/how-to-write-test-for-resolve/49661199#49661199", "title": "How to write test for Resolve", "body": "<p>You need to create a fake <code>ActivatedRoute</code> for each of you test cases and pass it to the <code>resolver.resolve()</code> method. Something like this:</p>\n\n<pre><code>import { JhiResolvePagingParams, JhiPaginationUtil } from '../..';\nimport { ActivatedRouteSnapshot } from '@angular/router';\nimport { TestBed, inject } from '@angular/core/testing';\n\ndescribe('ResolvePagingParams  service test', () =&gt; {\n\n    describe('ResolvePagingParams Links Service Test', () =&gt; {\n        let resolver: JhiResolvePagingParams;\n        let route: ActivatedRouteSnapshot;\n\n        beforeEach(() =&gt; {\n            resolver = new JhiResolvePagingParams(new JhiPaginationUtil());\n            route = new ActivatedRouteSnapshot();\n            TestBed.configureTestingModule({\n                providers: [\n                    JhiResolvePagingParams,\n                    JhiPaginationUtil\n                ]\n            });\n        });\n\n        it(`should return { page: 1, predicate: 'id',ascending: true } when page and sort and defaultSort is undefined` ,\n            inject([JhiResolvePagingParams], (service: JhiResolvePagingParams) =&gt; {\n            route.queryParams = { page: undefined, sort: undefined };\n            route.data = { defaultSort: undefined };\n            const { page, predicate, ascending } = resolver.resolve(route, null);\n\n            expect(page).toEqual(1);\n            expect(predicate).toEqual('id');\n            expect(ascending).toEqual(true);\n        }));\n\n    });\n});\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 518, "user_id": 2648444, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3c38e706f5b9668971752953d440501c?s=128&d=identicon&r=PG", "display_name": "vhbazan", "link": "https://stackoverflow.com/users/2648444/vhbazan"}, "is_accepted": false, "score": 0, "last_activity_date": 1590239990, "creation_date": 1590239990, "answer_id": 61972654, "question_id": 49658177, "link": "https://stackoverflow.com/questions/49658177/how-to-write-test-for-resolve/61972654#61972654", "title": "How to write test for Resolve", "body": "<p><strong>For Angular 8/9:</strong> </p>\n\n<p>Now you use <code>Testbed.inject([YourComponent/Service])</code> instead of <code>TestBed.get([YourComponent/Service])</code>, also you need to define the <code>providedIn: 'root'</code> property on the <code>@Injectable</code> annotation. And if you are using an angular service to fetch data, then this could help you to understand how to test that a Resolver was created: </p>\n\n<p>This is the unit test for the resolver I want to test: </p>\n\n<pre><code>describe('TagResolver', () =&gt; {\nlet resolver: TagResolver;\n\nbeforeEach(() =&gt; {\n  TestBed.configureTestingModule({\n    imports: [\n      HttpClientTestingModule\n    ],\n    providers: [\n\n    ]\n  });\n  resolver = TestBed.inject(TagResolver);\n});\n\nit('should create an instance', () =&gt; {\n    expect(resolver).toBeTruthy();\n  });\n});\n</code></pre>\n\n<p>This is the resolver: </p>\n\n<pre><code>@Injectable({\n  providedIn: 'root'\n})\nexport class TagResolver implements Resolve &lt;Observable&lt;Tag[]&gt;&gt; {\n\n  constructor(private readonly refTagService: RefTagsService) {\n  }\n  resolve(route: ActivatedRouteSnapshot,\n          state: RouterStateSnapshot):\n          Observable&lt;any[]&gt; |\n          Observable&lt;Observable&lt;any[]&gt;&gt; |\n          Promise&lt;Observable&lt;any[]&gt;&gt; {\n    return this.refTagService.getRefTags();\n  }\n}\n</code></pre>\n\n<p>And last one, this is the service which the resolver fetch data from:  </p>\n\n<pre><code>@Injectable({\n  providedIn: 'root'\n})\nexport class RefTagsService {\n  refTagsEndPoint = '/api/tags';\n  constructor(private readonly http: HttpClient) { }\n\n  getRefTags(): Observable&lt;Tag[]&gt; {\n    console.log('getRefTags');\n    return this.http.get&lt;Tag[]&gt;(`${this.refTagsEndPoint}`).pipe(\n      map(res =&gt; {\n        return res;\n      })\n    );\n  }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 333, "user_id": 4754308, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-XPCWdLtJ1jo/AAAAAAAAAAI/AAAAAAAAADQ/6ayRITyvcaY/photo.jpg?sz=128", "display_name": "Ron Jonk", "link": "https://stackoverflow.com/users/4754308/ron-jonk"}, "is_accepted": false, "score": 2, "last_activity_date": 1597674593, "last_edit_date": 1597674593, "creation_date": 1597673701, "answer_id": 63452715, "question_id": 49658177, "link": "https://stackoverflow.com/questions/49658177/how-to-write-test-for-resolve/63452715#63452715", "title": "How to write test for Resolve", "body": "<p>Example resolver for testing a token before the path is resolved:</p>\n<pre><code>@Injectable({\n  providedIn: 'root'\n})\nexport class JwtResolverService implements Resolve&lt;string&gt; {\n\n  constructor(private authService: AuthService) { }\n\n  resolve(route: ActivatedRouteSnapshot, state: RouterStateSnapshot): Observable&lt;string&gt; {\n    return this.authService.getToken()\n      .pipe(\n        tap(value =&gt; log.debug(`============= Resolving token: ${value} =============`)),\n        catchError(err =&gt; of(null))\n      );\n  }\n\n}\n</code></pre>\n<p>Test:</p>\n<pre><code>import { TestBed } from '@angular/core/testing';\nimport { JwtResolverService } from './jwt-resolver.service';\nimport { HttpClientTestingModule } from '@angular/common/http/testing';\nimport { Observable, of } from 'rxjs';\nimport { AuthService } from '../../auth/auth.service';\nimport { ActivatedRouteSnapshot } from '@angular/router';\n\nclass MockAuthService {\n  token = '1234';\n\n  getToken(): Observable&lt;string&gt; {\n    return of(this.token);\n  }\n}\n\ndescribe('JWT ResolverService', () =&gt; {\n  let resolver: JwtResolverService;\n  let authService: AuthService;\n  let route: ActivatedRouteSnapshot;\n\n  beforeEach(() =&gt; {\n    TestBed.configureTestingModule({\n      imports: [\n        HttpClientTestingModule\n      ],\n      providers: [\n        { provide: AuthService, useClass: MockAuthService },\n      ]\n    });\n\n    route = new ActivatedRouteSnapshot();\n    authService = TestBed.inject(AuthService);\n    resolver = TestBed.inject(JwtResolverService);\n  });\n\n  it('should be created', () =&gt; {\n    expect(resolver).toBeTruthy();\n  });\n\n  it('should resolve when token is available', () =&gt; {\n    // arrange\n\n    // act\n    resolver.resolve(route, null).subscribe(resolved =&gt; {\n      // assert\n      expect(resolved).toBeTruthy();\n    });\n\n  })\n\n  it('should not resolve when token is not available', () =&gt; {\n    // arrange\n    spyOn(authService, 'getToken').and.returnValue(of(null));\n\n    // act\n    resolver.resolve(route, null).subscribe(resolved =&gt; {\n      // assert\n      expect(resolved).toBeFalsy();\n    });\n\n  })\n\n  it('should not resolve on error', () =&gt; {\n    // arrange\n    spyOn(authService, 'getSVBToken').and.returnValue(throwError({status: 404}));\n\n    // act\n    resolver.resolve(route, null).subscribe(resolved =&gt; {\n      // assert\n      expect(resolved).toBeFalsy();\n    });\n  })\n});\n</code></pre>\n"}], "owner": {"reputation": 1897, "user_id": 1152570, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/74781cb67a450a9cce5c794ed64856b9?s=128&d=identicon&r=PG", "display_name": "ali akbar azizkhani", "link": "https://stackoverflow.com/users/1152570/ali-akbar-azizkhani"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 7304, "favorite_count": 1, "accepted_answer_id": 49661199, "answer_count": 3, "score": 2, "last_activity_date": 1597674593, "creation_date": 1522867204, "last_edit_date": 1522954544, "question_id": 49658177, "link": "https://stackoverflow.com/questions/49658177/how-to-write-test-for-resolve", "title": "How to write test for Resolve", "body": "<p>I want to write test for my service ,\n I want to sure parameter is send ok .how can i test that</p>\n\n<pre><code>import { Injectable } from '@angular/core';\nimport { Resolve, ActivatedRouteSnapshot, RouterStateSnapshot } from '@angular/router';\nimport { JhiPaginationUtil } from '.';\n\n@Injectable()\nexport class JhiResolvePagingParams implements Resolve&lt;any&gt; {\n\n    constructor(private paginationUtil: JhiPaginationUtil) { }\n\n    resolve(route: ActivatedRouteSnapshot, state: RouterStateSnapshot) {\n        const page = route.queryParams['page'] ? route.queryParams['page'] : '1';\n        const defaultSort = route.data['defaultSort'] ? route.data['defaultSort'] : 'id,asc';\n        const sort = route.queryParams['sort'] ? route.queryParams['sort'] : defaultSort;\n        return {\n            page: this.paginationUtil.parsePage(page),\n            predicate: this.paginationUtil.parsePredicate(sort),\n            ascending: this.paginationUtil.parseAscending(sort)\n        };\n    }\n}\n</code></pre>\n"}, {"tags": ["typescript", "es6-promise"], "comments": [{"owner": {"reputation": 630270, "user_id": 571407, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2f0d9dec16bae1e06552af55ddefc11f?s=128&d=identicon&r=PG", "display_name": "JB Nizet", "link": "https://stackoverflow.com/users/571407/jb-nizet"}, "edited": false, "score": 0, "creation_date": 1522866940, "post_id": 49657861, "comment_id": 86325341, "body": "<code>oneMethod&lt;Test&gt;(): Promise&lt;Test&gt;</code>is equivalent to <code>oneMethod&lt;T&gt;(): Promise&lt;T&gt;</code>: it&#39;s just that you chose to name the generic parameter Test instead of T. And <code>{ prop1: &#39;test&#39; }</code> is not of type T. You probably want Interface to be a generic interface, and implementation to implement interface&lt;Test&gt;."}], "answers": [{"comments": [{"owner": {"reputation": 791, "user_id": 2294382, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/23e5ebf31220eee1a3671a66d25daba6?s=128&d=identicon&r=PG", "display_name": "user2294382", "link": "https://stackoverflow.com/users/2294382/user2294382"}, "edited": false, "score": 0, "creation_date": 1522936652, "post_id": 49659690, "comment_id": 86359138, "body": "Thanks Oscar &amp;JB Nizet. I changed to a generic interface and it works fine now."}], "tags": [], "owner": {"reputation": 16747, "user_id": 3203588, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/68f7842f44e2c6a9889da1aba68d0160?s=128&d=identicon&r=PG&f=1", "display_name": "Oscar Paz", "link": "https://stackoverflow.com/users/3203588/oscar-paz"}, "is_accepted": true, "score": 2, "last_activity_date": 1522873039, "creation_date": 1522873039, "answer_id": 49659690, "question_id": 49657861, "link": "https://stackoverflow.com/questions/49657861/typescript-returning-a-promise-from-a-generic-method/49659690#49659690", "title": "Typescript - Returning a promise from a generic method", "body": "<p>Try it this way:</p>\n\n<pre><code>interface Test {\n    prop1: string\n}\n\ninterface Interface&lt;T&gt; {\n    oneMethod(): Promise&lt;T&gt;;\n}\n\nclass implementation implements Interface&lt;Test&gt; {\n    oneMethod(): Promise&lt;Test&gt; {\n        return Promise.resolve({\n            prop1: 'test'\n        });\n    }\n}\n</code></pre>\n\n<p>When you define a method/function as <code>method&lt;Type&gt;(): Type</code> you're not returning the existent type <code>Type</code> (if any). You're telling TypeScript that that method is generic and will return whatever type you indicate through the type parameter.</p>\n\n<p>Normally, you won't have a generic method in a non-generic interface. It is better to define the interface as generic, so the method depends on the type of the interface. Otherwise, you could just define a type as generic function forget about the interface.</p>\n"}], "owner": {"reputation": 791, "user_id": 2294382, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/23e5ebf31220eee1a3671a66d25daba6?s=128&d=identicon&r=PG", "display_name": "user2294382", "link": "https://stackoverflow.com/users/2294382/user2294382"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4270, "favorite_count": 0, "accepted_answer_id": 49659690, "answer_count": 1, "score": 1, "last_activity_date": 1522873039, "creation_date": 1522866071, "question_id": 49657861, "link": "https://stackoverflow.com/questions/49657861/typescript-returning-a-promise-from-a-generic-method", "title": "Typescript - Returning a promise from a generic method", "body": "<p>I have an issue where I am trying to return a promise from one of my methods, however, it complains that the type 'is not assignable'. See example below:</p>\n\n<pre><code>interface Test {\n    prop1: string\n}\n\ninterface Interface {\n    oneMethod&lt;T&gt;(): Promise&lt;T&gt;;\n}\n\nclass implementation implements Interface {\n    oneMethod&lt;Test&gt;(): Promise&lt;Test&gt; {\n        return Promise.resolve({\n            prop1: 'test'\n        });\n    }\n}\n</code></pre>\n\n<p>I get the error: </p>\n\n<pre><code>error TS2322: Type 'Promise&lt;{ prop1: string; }&gt;' is not assignable to type 'Promise&lt;Test&gt;'.\n  Type '{ prop1: string; }' is not assignable to type 'Test'.\n</code></pre>\n\n<p>I have tried adding 'as Test' to the return object but that then returns the issue 'cannot be converted to Type Test'</p>\n\n<p>Annoyingly, this works fine:</p>\n\n<pre><code>class anotherImp {\n\n    oneMethod(): Promise&lt;Test&gt; {\n        return Promise.resolve({\n            prop1: 'test'\n        });\n    }\n}\n</code></pre>\n\n<p>but this is not implementing my generic interface. If I remove the T from the oneMethod signature in the interface, then I get an error about the Promise not knowing T (Cannot find name 'T'). Removing from both gives me the error that Promise must implement a type (Generic type 'Promise' requires 1 type argument(s).)</p>\n\n<p>Any thoughts much appreciated.</p>\n\n<p>Thanks\nIain</p>\n"}, {"tags": ["typescript", "types"], "answers": [{"tags": [], "owner": {"reputation": 751, "user_id": 1526766, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/95c41dd97fe3df59ccbef30d0d6bfee8?s=128&d=identicon&r=PG", "display_name": "Radu Szasz", "link": "https://stackoverflow.com/users/1526766/radu-szasz"}, "is_accepted": true, "score": 0, "last_activity_date": 1523036268, "last_edit_date": 1523036268, "creation_date": 1523032642, "answer_id": 49697401, "question_id": 49657148, "link": "https://stackoverflow.com/questions/49657148/typescript-implement-interface-with-both-call-signature-and-constructor-signatu/49697401#49697401", "title": "TypeScript: Implement interface with both call signature and constructor signature", "body": "<p>After looking around, it is clearly possible for an object to implement the an interface with both a constructor signature and a call signature:</p>\n\n<p><a href=\"https://github.com/Microsoft/TypeScript/blob/master/lib/lib.d.ts#L142\" rel=\"nofollow noreferrer\">https://github.com/Microsoft/TypeScript/blob/master/lib/lib.d.ts#L142</a> is an example of this.</p>\n\n<p>The underlying function seems to be the same, albeit called in two different ways:</p>\n\n<pre><code>new Object(3);\n</code></pre>\n\n<p>and</p>\n\n<pre><code>Object(3);\n</code></pre>\n"}], "owner": {"reputation": 751, "user_id": 1526766, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/95c41dd97fe3df59ccbef30d0d6bfee8?s=128&d=identicon&r=PG", "display_name": "Radu Szasz", "link": "https://stackoverflow.com/users/1526766/radu-szasz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 234, "favorite_count": 0, "accepted_answer_id": 49697401, "answer_count": 1, "score": 2, "last_activity_date": 1523036268, "creation_date": 1522863414, "question_id": 49657148, "link": "https://stackoverflow.com/questions/49657148/typescript-implement-interface-with-both-call-signature-and-constructor-signatu", "title": "TypeScript: Implement interface with both call signature and constructor signature", "body": "<p>Is it possible create an object that implements the following interface:</p>\n\n<pre><code>interface I {\n    (): string;\n    new(): any;\n}\n</code></pre>\n\n<p>I saw that it is possible to implement an interface having a call signature and some fields from this question: <a href=\"https://stackoverflow.com/questions/16508435/implementing-typescript-interface-with-bare-function-signature-plus-other-fields\">Implementing TypeScript interface with bare function signature plus other fields</a></p>\n"}, {"tags": ["typescript", "generics"], "comments": [{"owner": {"reputation": 18865, "user_id": 1990451, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/kffVz.jpg?s=128&g=1", "display_name": "smnbbrv", "link": "https://stackoverflow.com/users/1990451/smnbbrv"}, "edited": false, "score": 1, "creation_date": 1522863898, "post_id": 49657042, "comment_id": 86323596, "body": "what is the purpose of your code? You pass the generic type and then convert the result to this type? You always have a <code>HTMLButtonElement</code> returned..."}, {"owner": {"reputation": 29709, "user_id": 741616, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/184deabab9de34477298331058ef8aed?s=128&d=identicon&r=PG", "display_name": "VJAI", "link": "https://stackoverflow.com/users/741616/vjai"}, "reply_to_user": {"reputation": 18865, "user_id": 1990451, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/kffVz.jpg?s=128&g=1", "display_name": "smnbbrv", "link": "https://stackoverflow.com/users/1990451/smnbbrv"}, "edited": false, "score": 0, "creation_date": 1522864139, "post_id": 49657042, "comment_id": 86323738, "body": "@smnbbrv I got the mistake. Can you post your comment as answer."}], "answers": [{"tags": [], "owner": {"reputation": 18865, "user_id": 1990451, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/kffVz.jpg?s=128&g=1", "display_name": "smnbbrv", "link": "https://stackoverflow.com/users/1990451/smnbbrv"}, "is_accepted": true, "score": 1, "last_activity_date": 1522864412, "creation_date": 1522864412, "answer_id": 49657442, "question_id": 49657042, "link": "https://stackoverflow.com/questions/49657042/type-htmlbuttonelement-cannot-be-converted-to-type-t/49657442#49657442", "title": "Type HTMLButtonElement cannot be converted to type T", "body": "<p>You pass the generic type and then convert the result to this type. This is obsolete because the returned type is always <code>HTMLButtonElement</code>. So this does not really make sense.</p>\n\n<p>There is one case when you normally still want to have the type being inferred. This happens when you want to create an instance of some class with a factory (thus you don't know the returned type). This is the example from <a href=\"http://www.typescriptlang.org/docs/handbook/generics.html\" rel=\"nofollow noreferrer\">official docs</a>:</p>\n\n<pre><code>class BeeKeeper {\n    hasMask: boolean;\n}\n\nclass ZooKeeper {\n    nametag: string;\n}\n\nclass Animal {\n    numLegs: number;\n}\n\nclass Bee extends Animal {\n    keeper: BeeKeeper;\n}\n\nclass Lion extends Animal {\n    keeper: ZooKeeper;\n}\n\nfunction createInstance&lt;A extends Animal&gt;(c: new () =&gt; A): A {\n    return new c();\n}\n\ncreateInstance(Lion).keeper.nametag;  // typechecks!\ncreateInstance(Bee).keeper.hasMask;   // typechecks!\n</code></pre>\n\n<p>Here the returned type is the one that is being passed.</p>\n"}], "owner": {"reputation": 29709, "user_id": 741616, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/184deabab9de34477298331058ef8aed?s=128&d=identicon&r=PG", "display_name": "VJAI", "link": "https://stackoverflow.com/users/741616/vjai"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 189, "favorite_count": 0, "accepted_answer_id": 49657442, "answer_count": 1, "score": 2, "last_activity_date": 1522864412, "creation_date": 1522863018, "question_id": 49657042, "link": "https://stackoverflow.com/questions/49657042/type-htmlbuttonelement-cannot-be-converted-to-type-t", "title": "Type HTMLButtonElement cannot be converted to type T", "body": "<p>I'm playing with TypeScript code playground with the below code. The code seems to be fine to me but it is giving the error </p>\n\n<blockquote>\n  <p>\"Type HTMLButtonElement cannot be converted to type T\"</p>\n</blockquote>\n\n<pre><code>class DomFactory {\n    create&lt;T extends HTMLElement&gt;(args): T {\n        return document.createElement('button') as T;\n    }\n}\n</code></pre>\n"}, {"tags": ["javascript", "typescript", "generics"], "answers": [{"comments": [{"owner": {"reputation": 5984, "user_id": 11137, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/c3deb6fdcec3c213e83a4aa7192ce8d3?s=128&d=identicon&r=PG", "display_name": "Dested", "link": "https://stackoverflow.com/users/11137/dested"}, "edited": false, "score": 0, "creation_date": 1522870552, "post_id": 49658616, "comment_id": 86327453, "body": "I see! Thank you so much for the research and answer!"}, {"owner": {"reputation": 6779, "user_id": 6749601, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GHTLW.jpg?s=128&g=1", "display_name": "Lynx 242", "link": "https://stackoverflow.com/users/6749601/lynx-242"}, "reply_to_user": {"reputation": 5984, "user_id": 11137, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/c3deb6fdcec3c213e83a4aa7192ce8d3?s=128&d=identicon&r=PG", "display_name": "Dested", "link": "https://stackoverflow.com/users/11137/dested"}, "edited": false, "score": 0, "creation_date": 1522870770, "post_id": 49658616, "comment_id": 86327565, "body": "My pleasure! :)"}, {"owner": {"reputation": 8576, "user_id": 802138, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/024ca42cf79ed90cd18eec585986629c?s=128&d=identicon&r=PG", "display_name": "Matthias", "link": "https://stackoverflow.com/users/802138/matthias"}, "edited": false, "score": 0, "creation_date": 1616079931, "post_id": 49658616, "comment_id": 117896077, "body": "It&#39;s not clear that this is &quot;on purpose&quot;, when the compiler fails to infer from more complicated types. Could it just be a technical limitation or feature not yet implemented?"}], "tags": [], "owner": {"reputation": 6779, "user_id": 6749601, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GHTLW.jpg?s=128&g=1", "display_name": "Lynx 242", "link": "https://stackoverflow.com/users/6749601/lynx-242"}, "is_accepted": true, "score": 1, "last_activity_date": 1522868861, "creation_date": 1522868861, "answer_id": 49658616, "question_id": 49657038, "link": "https://stackoverflow.com/questions/49657038/multiple-generic-parameter-type-inference-not-working/49658616#49658616", "title": "Multiple generic parameter type inference not working", "body": "<p>This happens on purpose as you can read here:</p>\n\n<p><a href=\"https://www.typescriptlang.org/docs/handbook/generics.html\" rel=\"nofollow noreferrer\">https://www.typescriptlang.org/docs/handbook/generics.html</a></p>\n\n<p>I extracted the interesting part:</p>\n\n<p>[...]</p>\n\n<p>Once we\u2019ve written the generic identity function, we can call it in one of two ways. The first way is to pass all of the arguments, including the type argument, to the function:</p>\n\n<pre><code>let output = identity&lt;string&gt;(\"myString\");  // type of output will be 'string'\n</code></pre>\n\n<p>Here we explicitly set T to be string as one of the arguments to the function call, denoted using the &lt;> around the arguments rather than ().</p>\n\n<p>The second way is also perhaps the most common. Here we use type argument inference \u2013 that is, we want the compiler to set the value of T for us automatically based on the type of the argument we pass in:</p>\n\n<pre><code>let output = identity(\"myString\");  // type of output will be 'string'\n</code></pre>\n\n<p>Notice that we didn\u2019t have to explicitly pass the type in the angle brackets (&lt;>); the compiler just looked at the value \"myString\", and set T to its type. </p>\n\n<p><em>While type argument inference can be a helpful tool to keep code shorter and more readable, you may need to explicitly pass in the type arguments as we did in the previous example when the compiler fails to infer the type,</em> <strong>as may happen in more complex examples.</strong></p>\n\n<p>[...]</p>\n"}], "owner": {"reputation": 5984, "user_id": 11137, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/c3deb6fdcec3c213e83a4aa7192ce8d3?s=128&d=identicon&r=PG", "display_name": "Dested", "link": "https://stackoverflow.com/users/11137/dested"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 72, "favorite_count": 0, "accepted_answer_id": 49658616, "answer_count": 1, "score": 0, "last_activity_date": 1522868861, "creation_date": 1522863007, "question_id": 49657038, "link": "https://stackoverflow.com/questions/49657038/multiple-generic-parameter-type-inference-not-working", "title": "Multiple generic parameter type inference not working", "body": "<pre><code>export class OneParam {\n    static bar&lt;P1&gt;(q:any, params: { p1: P1 }) {}\n}\n\nOneParam.bar('foo', { p1: 12 });\n</code></pre>\n\n<p>In the above block of code, <code>P1</code> is correctly inferred and does not need to be explicitly passed in, where as here:</p>\n\n<pre><code>export class TwoParams {\n    static bar&lt;T, P1&gt;(q:T ,params: { p1: P1 }) {}\n}\n\nTwoParams.bar&lt;string&gt;('foo', { p1: 12 });\n</code></pre>\n\n<p>The second parameter is not inferred. Is this a bug with the typescript inference or simply a misunderstanding?</p>\n"}, {"tags": ["reactjs", "typescript", "npm", "visual-studio-code", "font-awesome"], "comments": [{"owner": {"reputation": 291, "user_id": 7922157, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/c635986c9a1282668147ecb228113ab1?s=128&d=identicon&r=PG&f=1", "display_name": "Curious13", "link": "https://stackoverflow.com/users/7922157/curious13"}, "edited": false, "score": 0, "creation_date": 1522861929, "post_id": 49656532, "comment_id": 86322496, "body": "Why not simply just link it in the index.html file no need for npm?"}, {"owner": {"reputation": 10206, "user_id": 865866, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/QXzpS.jpg?s=128&g=1", "display_name": "0leg", "link": "https://stackoverflow.com/users/865866/0leg"}, "reply_to_user": {"reputation": 291, "user_id": 7922157, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/c635986c9a1282668147ecb228113ab1?s=128&d=identicon&r=PG&f=1", "display_name": "Curious13", "link": "https://stackoverflow.com/users/7922157/curious13"}, "edited": false, "score": 0, "creation_date": 1522862026, "post_id": 49656532, "comment_id": 86322564, "body": "Because it gives you tools to optimize the bundle - by not including tons of icons you are NOT going to use."}, {"owner": {"reputation": 291, "user_id": 7922157, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/c635986c9a1282668147ecb228113ab1?s=128&d=identicon&r=PG&f=1", "display_name": "Curious13", "link": "https://stackoverflow.com/users/7922157/curious13"}, "edited": false, "score": 0, "creation_date": 1522862462, "post_id": 49656532, "comment_id": 86322776, "body": "I see. Thanks for clarification."}, {"owner": {"reputation": 3356, "user_id": 5466933, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YqVL2.png?s=128&g=1", "display_name": "Noushad", "link": "https://stackoverflow.com/users/5466933/noushad"}, "edited": false, "score": 0, "creation_date": 1522864323, "post_id": 49656532, "comment_id": 86323842, "body": "paste your package.json  contents and package.lock resolution for this library please"}, {"owner": {"reputation": 3163, "user_id": 5893921, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/3ecdea8f57429444e23ce097d392c60d?s=128&d=identicon&r=PG&f=1", "display_name": "illiteratewriter", "link": "https://stackoverflow.com/users/5893921/illiteratewriter"}, "edited": false, "score": 0, "creation_date": 1522865903, "post_id": 49656532, "comment_id": 86324722, "body": "I tried the above code without typescript and it worked for me"}], "answers": [{"tags": [], "owner": {"reputation": 3163, "user_id": 5893921, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/3ecdea8f57429444e23ce097d392c60d?s=128&d=identicon&r=PG&f=1", "display_name": "illiteratewriter", "link": "https://stackoverflow.com/users/5893921/illiteratewriter"}, "is_accepted": false, "score": 0, "last_activity_date": 1522865794, "creation_date": 1522865794, "answer_id": 49657793, "question_id": 49656532, "link": "https://stackoverflow.com/questions/49656532/unable-to-use-font-awesome-in-react/49657793#49657793", "title": "Unable to use Font Awesome in React", "body": "<p>To use <code>fontawesome</code>with react use <a href=\"https://www.npmjs.com/package/@fortawesome/react-fontawesome\" rel=\"nofollow noreferrer\">react-fontawesome</a></p>\n\n<pre><code>npm i --save @fortawesome/fontawesome\nnpm i --save @fortawesome/react-fontawesome\nnpm i --save @fortawesome/fontawesome-free-solid\n</code></pre>\n\n<p>First install all the above packages. Then use as follows.</p>\n\n<pre><code>import React from 'react'\n\nimport FontAwesomeIcon from '@fortawesome/react-fontawesome'\nimport faCoffee from '@fortawesome/fontawesome-free-solid/faCoffee'\n\nclass Fonte extends React.Component {\n  render () {\n    return (\n        &lt;FontAwesomeIcon icon={faCoffee}/&gt;\n    )\n  }\n}\n\nexport default Fonte;\n</code></pre>\n\n<p>The issue, I believe is due to <code>import { FontAwesomeIcon } from '@fortawesome/react-fontawesome';</code> this in your code.</p>\n"}], "owner": {"reputation": 10206, "user_id": 865866, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/QXzpS.jpg?s=128&g=1", "display_name": "0leg", "link": "https://stackoverflow.com/users/865866/0leg"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1509, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1522865794, "creation_date": 1522861132, "question_id": 49656532, "link": "https://stackoverflow.com/questions/49656532/unable-to-use-font-awesome-in-react", "title": "Unable to use Font Awesome in React", "body": "<p>Following <a href=\"https://fontawesome.com/get-started/advanced-options\" rel=\"nofollow noreferrer\">official docs</a>. After running:</p>\n\n<pre><code>$ npm i --save @fortawesome/fontawesome\n$ npm i --save @fortawesome/react-fontawesome\n</code></pre>\n\n<p>and:</p>\n\n<pre><code>$ npm i --save @fortawesome/fontawesome-free-solid\n</code></pre>\n\n<p>trying to (TypeScript):</p>\n\n<pre><code>import { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faCoffee } from '@fortawesome/fontawesome-free-solid';\n...\n&lt;FontAwesomeIcon icon={faCoffee} /&gt;\n</code></pre>\n\n<p>getting:</p>\n\n<p><a href=\"https://i.stack.imgur.com/LoeVu.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/LoeVu.png\" alt=\"enter image description here\"></a></p>\n\n<p>However <code>@types/@fortawesome/react-fontawesome</code> is a wrong name and doesn't exist. Tried to sintall <a href=\"https://www.npmjs.com/package/@types/react-fontawesome\" rel=\"nofollow noreferrer\">https://www.npmjs.com/package/@types/react-fontawesome</a> without luck. </p>\n\n<p>Visual Studio Code. Any suggestions?</p>\n"}, {"tags": ["javascript", "typescript", "vue.js"], "comments": [{"owner": {"reputation": 2633, "user_id": 1611725, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/e680359c00d1a622f6a74ad1f1c481ce?s=128&d=identicon&r=PG", "display_name": "Matthias S", "link": "https://stackoverflow.com/users/1611725/matthias-s"}, "edited": false, "score": 0, "creation_date": 1522862435, "post_id": 49656524, "comment_id": 86322767, "body": "It shouldnt be a problem to have a method within a property. Maybe there is something wrong with your function or data? Did you try printing the result somewhere else? Like, what happens if you just put a <code>&lt;div&gt;{{ getIcon(item.name) }}&lt;&#47;div&gt;</code> in the loop?"}, {"owner": {"reputation": 325, "user_id": 8511619, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/17b8bc0079963c4f75ca7f6e8496c722?s=128&d=identicon&r=PG&f=1", "display_name": "Liana Pigeot", "link": "https://stackoverflow.com/users/8511619/liana-pigeot"}, "reply_to_user": {"reputation": 2633, "user_id": 1611725, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/e680359c00d1a622f6a74ad1f1c481ce?s=128&d=identicon&r=PG", "display_name": "Matthias S", "link": "https://stackoverflow.com/users/1611725/matthias-s"}, "edited": false, "score": 0, "creation_date": 1522863356, "post_id": 49656524, "comment_id": 86323262, "body": "Showing raw variables works. In my template there&#39;s a <code>{{ item.amount}}</code> and this one appears. But the part before the slash that calls a method doesn&#39;t. Also my breakpoints on the method get triggered with the correct parameter. Everything seems to run fine, except what the method returns is just not appearing in the dom at all"}], "answers": [{"tags": [], "owner": {"reputation": 113065, "user_id": 1850609, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/X0C56.jpg?s=128&g=1", "display_name": "acdcjunior", "link": "https://stackoverflow.com/users/1850609/acdcjunior"}, "is_accepted": true, "score": 1, "last_activity_date": 1522864146, "last_edit_date": 1522864146, "creation_date": 1522863380, "answer_id": 49657140, "question_id": 49656524, "link": "https://stackoverflow.com/questions/49656524/vue-js-how-to-bind-a-property-to-a-method-return-value-when-using-typescript-and/49657140#49657140", "title": "vue.js how to bind a property to a method return value when using TypeScript and vue-property-decorator?", "body": "<p>When decorated with <code>Emit</code>, the return Vue of the method is <a href=\"https://github.com/kaorun343/vue-property-decorator/blob/master/src/vue-property-decorator.ts#L115\" rel=\"nofollow noreferrer\">used to determine if the event should be emitted or not</a>.</p>\n\n<p>In other words, methods decorated with <code>Emit</code> <a href=\"https://github.com/kaorun343/vue-property-decorator/blob/master/src/vue-property-decorator.ts#L117\" rel=\"nofollow noreferrer\">will always return <code>undefined</code></a>.</p>\n\n<p><strong>Solution:</strong> remove the decorator and emit the events manually.</p>\n\n<p>The equivalent code is:</p>\n\n<pre><code>getPlayerAmount(itemName: string): string {\n    this.$emit('get-player-amount', itemName);\n    if (this.inventory[itemName]) {\n        return `'${this.inventory[itemName].amount}'`;\n    } else {\n        return '0';\n    }\n}\n\ngetIcon(itemName: string): string {\n    const icon = Items.getItemData(itemName).icon;\n    if (icon) this.$emit('get-icon', itemName);\n    return icon;\n}\n</code></pre>\n"}], "owner": {"reputation": 325, "user_id": 8511619, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/17b8bc0079963c4f75ca7f6e8496c722?s=128&d=identicon&r=PG&f=1", "display_name": "Liana Pigeot", "link": "https://stackoverflow.com/users/8511619/liana-pigeot"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2311, "favorite_count": 0, "accepted_answer_id": 49657140, "answer_count": 1, "score": 2, "last_activity_date": 1523019582, "creation_date": 1522861117, "last_edit_date": 1523019582, "question_id": 49656524, "link": "https://stackoverflow.com/questions/49656524/vue-js-how-to-bind-a-property-to-a-method-return-value-when-using-typescript-and", "title": "vue.js how to bind a property to a method return value when using TypeScript and vue-property-decorator?", "body": "<p>I have a single file vue component written in TypeScript. I use some component methods in the template to bind properties, but the dom stays empty for those values.</p>\n\n<p>The template (part of it, cut for simplicity) is like so:</p>\n\n<pre><code>&lt;div class=\"order-items\"&gt;\n    &lt;div class=\"order-item\" v-for=\"(item, itemIndex) in order.items\"&gt;\n        &lt;img class=\"order-item-icon\" :src=\"getIcon(item.name)\" /&gt;\n        &lt;span class=\"order-item-name\"&gt;{{ itemsList[item.name].name }}&lt;/span&gt;\n        &lt;span class=\"order-item-amount\"&gt;{{ getPlayerAmount(item.name) }}/{{ item.amount }}&lt;/span&gt;\n    &lt;/div&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>In the script part, there are those methods. I am using <a href=\"https://github.com/kaorun343/vue-property-decorator\" rel=\"nofollow noreferrer\">vue-property-decorator</a>, not sure how much of an impact that can have:</p>\n\n<pre><code>@Emit() getPlayerAmount(itemName: string): string {\n    if (this.inventory[itemName]) {\n        return `'${this.inventory[itemName].amount}'`;\n    } else {\n        return '0';\n    }\n}\n\n@Emit() getIcon(itemName: string): string {\n    const icon = Items.getItemData(itemName).icon;\n    return icon;\n}\n</code></pre>\n\n<p>Those methods are called by my template, as seen above. I have tried to put breakpoints in the code and the methods do get called and return the correct value. Yet, the dom stays empty. The <code>order-item-icon</code> img tag doesn't have an src, and the <code>order-item-amount</code> span is missing the first part before the <code>/</code>.</p>\n\n<p>Is there something particular I'm supposed to do for binding properties to component methods?</p>\n"}, {"tags": ["typescript", "generics", "inheritance"], "comments": [{"owner": {"reputation": 40169, "user_id": 457268, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/404bbb83c4aecfce65c2c882dc0cd94e?s=128&d=identicon&r=PG", "display_name": "k0pernikus", "link": "https://stackoverflow.com/users/457268/k0pernikus"}, "edited": false, "score": 1, "creation_date": 1522860886, "post_id": 49656432, "comment_id": 86321953, "body": "rhs lhs? Are you meaning right-handed-side vs left-handed-side? Please be careful with abbreviations."}, {"owner": {"reputation": 40169, "user_id": 457268, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/404bbb83c4aecfce65c2c882dc0cd94e?s=128&d=identicon&r=PG", "display_name": "k0pernikus", "link": "https://stackoverflow.com/users/457268/k0pernikus"}, "edited": false, "score": 0, "creation_date": 1522860966, "post_id": 49656432, "comment_id": 86321997, "body": "Related: <a href=\"https://stackoverflow.com/q/34098023/457268\">stackoverflow.com/q/34098023/457268</a>"}], "answers": [{"comments": [{"owner": {"reputation": 614, "user_id": 5904022, "user_type": "registered", "accept_rate": 43, "profile_image": "https://i.stack.imgur.com/y6ljy.jpg?s=128&g=1", "display_name": "Hannes Petri", "link": "https://stackoverflow.com/users/5904022/hannes-petri"}, "edited": false, "score": 0, "creation_date": 1522920782, "post_id": 49656870, "comment_id": 86347712, "body": "This could be an acceptable workaround in some cases, but I really want it at compile-time. Thanks though!"}, {"owner": {"reputation": 40169, "user_id": 457268, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/404bbb83c4aecfce65c2c882dc0cd94e?s=128&d=identicon&r=PG", "display_name": "k0pernikus", "link": "https://stackoverflow.com/users/457268/k0pernikus"}, "reply_to_user": {"reputation": 614, "user_id": 5904022, "user_type": "registered", "accept_rate": 43, "profile_image": "https://i.stack.imgur.com/y6ljy.jpg?s=128&g=1", "display_name": "Hannes Petri", "link": "https://stackoverflow.com/users/5904022/hannes-petri"}, "edited": false, "score": 0, "creation_date": 1522927295, "post_id": 49656870, "comment_id": 86352253, "body": "@HannesPetri I updated the answer with a shorter workaround using <code>o.constructor</code> check making the abstract name property obsolete."}], "tags": [], "owner": {"reputation": 40169, "user_id": 457268, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/404bbb83c4aecfce65c2c882dc0cd94e?s=128&d=identicon&r=PG", "display_name": "k0pernikus", "link": "https://stackoverflow.com/users/457268/k0pernikus"}, "is_accepted": false, "score": 1, "last_activity_date": 1522927245, "last_edit_date": 1522927245, "creation_date": 1522862388, "answer_id": 49656870, "question_id": 49656432, "link": "https://stackoverflow.com/questions/49656432/type-signifying-this-very-class-in-typescript/49656870#49656870", "title": "Type signifying &quot;this very class&quot; in TypeScript", "body": "<p>Instead of <code>self</code> you want <code>this</code> for the actual abstract class name.</p>\n\n<hr>\n\n<p>I don't know if it's possible to dynamically check for the subclass and I suspect you'll want to have it be invalid on compile-time.</p>\n\n<p>Yet as a workaround you'll could make do with a run-time check via the help of the constructor name:</p>\n\n<pre><code>abstract class Animal {\n    public mateWith(animal: this): string {\n        const msg = `${animal.constructor} with: ${this.constructor}, that: `;\n\n        if (animal.constructor !== this.constructor) {\n            return msg + \"WON'T work!\".trim() + \"\\n\";\n        }\n\n        return msg + \"works!\".trim() + \"\\n\";\n    }\n}\n\nclass Dog extends Animal {\n}\n\nclass Cat extends Animal {\n}\n\nclass Tiger extends Cat {\n}\n\nconst dog1 = new Dog();\nconst dog2 = new Dog();\nconst cat = new Cat();\nconst tiger = new Tiger();\n\nconsole.log(\n    dog1.mateWith(dog2),\n    dog1.mateWith(cat),\n    cat.mateWith(tiger),\n);\n</code></pre>\n\n<p>It will output:</p>\n\n<pre><code>class Dog extends Animal {\n} with: class Dog extends Animal {\n}, that: works!\n class Cat extends Animal {\n} with: class Dog extends Animal {\n}, that: WON'T work!\n class Tiger extends Cat {\n} with: class Cat extends Animal {\n}, that: WON'T work!\n</code></pre>\n"}], "owner": {"reputation": 614, "user_id": 5904022, "user_type": "registered", "accept_rate": 43, "profile_image": "https://i.stack.imgur.com/y6ljy.jpg?s=128&g=1", "display_name": "Hannes Petri", "link": "https://stackoverflow.com/users/5904022/hannes-petri"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 42, "favorite_count": 1, "answer_count": 1, "score": 2, "last_activity_date": 1522927245, "creation_date": 1522860756, "question_id": 49656432, "link": "https://stackoverflow.com/questions/49656432/type-signifying-this-very-class-in-typescript", "title": "Type signifying &quot;this very class&quot; in TypeScript", "body": "<p>I want to create a one-argument method where the rhs can only be of the exact same type as the lhs \u2013 not any of its superclasses or subclasses. What's the right type to use?</p>\n\n<p>The following code illustrates what I want to achieve. For the purpose of this question, I used <code>self</code>\u00a0but I suspect that it means something else.</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>abstract class Animal {\n    public mateWith(animal: self): void {\n        // ...          HERE \u2934\ufe0f\n    }\n}\n\nclass Dog extends Animal {}\nclass Cat extends Animal {}\nclass Tiger extends Cat {}\n\nconst dog1 = new Dog();\nconst dog2 = new Dog();\nconst cat = new Cat();\nconst tiger = new Tiger();    \n\ndog1.mateWith(dog2); // Valid\ndog1.mateWith(cat); // Invalid\ncat.mateWith(tiger); // Also invalid\n</code></pre>\n"}, {"tags": ["javascript", "typescript", "async-await"], "comments": [{"owner": {"reputation": 5852, "user_id": 6361314, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WknC7.jpg?s=128&g=1", "display_name": "Jeffrey Westerkamp", "link": "https://stackoverflow.com/users/6361314/jeffrey-westerkamp"}, "edited": false, "score": 0, "creation_date": 1522860467, "post_id": 49656142, "comment_id": 86321707, "body": "I think the only way to do this would be if <code>libraryObject</code> provides some cancelling mechanism for <code>&quot;draw-on-screen&quot;</code> events."}, {"owner": {"reputation": 507143, "user_id": 1048572, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/7f2c4de95e8f4f8f5a71c3aaf0ed312a?s=128&d=identicon&r=PG", "display_name": "Bergi", "link": "https://stackoverflow.com/users/1048572/bergi"}, "edited": false, "score": 0, "creation_date": 1522871651, "post_id": 49656142, "comment_id": 86328082, "body": "No, this is impossible. File a bug report with the library for featuring asynchrony, or choose a different third party."}], "answers": [{"comments": [{"owner": {"reputation": 507143, "user_id": 1048572, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/7f2c4de95e8f4f8f5a71c3aaf0ed312a?s=128&d=identicon&r=PG", "display_name": "Bergi", "link": "https://stackoverflow.com/users/1048572/bergi"}, "edited": false, "score": 1, "creation_date": 1522871786, "post_id": 49658071, "comment_id": 86328176, "body": "All your three reasons why this is a bad idea are secondary. You should not do it - can not do it - because it simply doesn&#39;t work. It&#39;s an infinite loop."}, {"owner": {"reputation": 1372, "user_id": 9392736, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/174bf8f91ac735b3d87da002df0d3451?s=128&d=identicon&r=PG&f=1", "display_name": "sripberger", "link": "https://stackoverflow.com/users/9392736/sripberger"}, "reply_to_user": {"reputation": 507143, "user_id": 1048572, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/7f2c4de95e8f4f8f5a71c3aaf0ed312a?s=128&d=identicon&r=PG", "display_name": "Bergi", "link": "https://stackoverflow.com/users/1048572/bergi"}, "edited": false, "score": 1, "creation_date": 1522872590, "post_id": 49658071, "comment_id": 86328654, "body": "Right you are. The promise handlers that set the <code>done</code> variables are never called because they can&#39;t be until the function exits. I probably should have tried it before posting it. &gt;.&lt;"}], "tags": [], "owner": {"reputation": 1372, "user_id": 9392736, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/174bf8f91ac735b3d87da002df0d3451?s=128&d=identicon&r=PG&f=1", "display_name": "sripberger", "link": "https://stackoverflow.com/users/9392736/sripberger"}, "is_accepted": false, "score": 0, "last_activity_date": 1522873308, "last_edit_date": 1522873308, "creation_date": 1522866818, "answer_id": 49658071, "question_id": 49656142, "link": "https://stackoverflow.com/questions/49656142/await-function-inside-third-party-non-async-function/49658071#49658071", "title": "await function inside third-party non-async function", "body": "<p>I'd see if you can find a better library, or-- if the library you're using is open-source-- try contributing async support yourself. Otherwise, there really isn't any way to do this.</p>\n\n<p>It might occur to you to do what's called a busy-wait, where you have a while loop that repeatedly checks some state that will be changed by a resolving promise. Even this won't work, though, because of the single-threaded nature of JS. The very handlers responsible for getting you out of the loop are blocked until you get out of the loop. <strong>Note: the following will cause an infinite loop, so don't actually do it</strong>:</p>\n\n<pre><code>libraryObject.onBeforeDrawOnScreen(function(){\n    let done = false;\n    let error = null;\n    myAsyncFunc()\n        .then(() =&gt; {\n            done = true;\n        }, (err) =&gt; {\n            error = err;\n            done = true;\n        });\n    while(!done);\n    if (error) throw error;\n});\n</code></pre>\n\n<p>This is why async support is so crucial in many JS libraries.</p>\n"}], "owner": {"reputation": 31, "user_id": 9377567, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0c6b4d1ed57d70ce08a603f14a62dd51?s=128&d=identicon&r=PG&f=1", "display_name": "SwiftTeam", "link": "https://stackoverflow.com/users/9377567/swiftteam"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 106, "favorite_count": 2, "answer_count": 1, "score": 3, "last_activity_date": 1522873308, "creation_date": 1522859774, "question_id": 49656142, "link": "https://stackoverflow.com/questions/49656142/await-function-inside-third-party-non-async-function", "title": "await function inside third-party non-async function", "body": "<pre><code>async function myAsyncFunc() : Promise&lt;void&gt; {\n    // do async stuff\n    // ex. delay with promise of setTimout\n}\n\nlibraryObject.onBeforeDrawOnScreen(function(){\n    myAsyncFunc(); // can't \"await\" or block.\n});\n</code></pre>\n\n<p>How can I wait before exit from 'onBeforeDrawOnScreen'?</p>\n\n<p>The library doesn't care about the callback's return type or value. There is no spacial check for Promise return, So it doesnt 'await' on my callack.\nso I cant add 'async' word on the callback.</p>\n\n<p>I'm aware to javascript's event loop, but ... There is a workaround?</p>\n\n<p>Thanks</p>\n"}, {"tags": ["javascript", "typescript"], "answers": [{"comments": [{"owner": {"reputation": 139, "user_id": 4746023, "user_type": "registered", "profile_image": "https://graph.facebook.com/10200373296130338/picture?type=large", "display_name": "Katie Kennedy", "link": "https://stackoverflow.com/users/4746023/katie-kennedy"}, "edited": false, "score": 0, "creation_date": 1522864060, "post_id": 49655973, "comment_id": 86323697, "body": "Thank you, .bind(this)); was the answer I was looking for."}], "tags": [], "owner": {"reputation": 177, "user_id": 7499413, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/73d20d5afcf8fb26edd1460c805be4f2?s=128&d=identicon&r=PG&f=1", "display_name": "ilsotov", "link": "https://stackoverflow.com/users/7499413/ilsotov"}, "is_accepted": true, "score": 1, "last_activity_date": 1522859174, "creation_date": 1522859174, "answer_id": 49655973, "question_id": 49655829, "link": "https://stackoverflow.com/questions/49655829/error-ts2339-property-imageid-does-not-exist-on-type-htmlelement/49655973#49655973", "title": "error TS2339: Property &#39;imageID&#39; does not exist on type &#39;HTMLElement&#39;", "body": "<p>The error occurs because this === button in your code</p>\n\n<pre><code>button.addEventListener('click', function(event) {\n       ...\n       this.imageID = getImage.id;\n       ...\n    })\n</code></pre>\n\n<p>if you want to write imageID as a global variable just use window</p>\n\n<pre><code>window.imageID = getImage.id;\n</code></pre>\n\n<p>if you want to write imageID to class instance attribute use bind</p>\n\n<pre><code>button.addEventListener('click', function(event) {\n       ...\n       this.imageID = getImage.id;\n       ...\n    }.bind(this))\n</code></pre>\n\n<p>or arrow function </p>\n\n<pre><code>button.addEventListener('click',(event) =&gt; {\n       ...\n       this.imageID = getImage.id;\n       ...\n    })\n</code></pre>\n"}], "owner": {"reputation": 139, "user_id": 4746023, "user_type": "registered", "profile_image": "https://graph.facebook.com/10200373296130338/picture?type=large", "display_name": "Katie Kennedy", "link": "https://stackoverflow.com/users/4746023/katie-kennedy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 105, "favorite_count": 0, "accepted_answer_id": 49655973, "answer_count": 1, "score": 0, "last_activity_date": 1522988009, "creation_date": 1522858631, "last_edit_date": 1522988009, "question_id": 49655829, "link": "https://stackoverflow.com/questions/49655829/error-ts2339-property-imageid-does-not-exist-on-type-htmlelement", "title": "error TS2339: Property &#39;imageID&#39; does not exist on type &#39;HTMLElement&#39;", "body": "<p>Trying to use the global variable <strong>imageID</strong>  to get the value of getImage, but keep getting error \"<em>Property 'imageID' does not exist on type 'HTMLElement'.\"</em> .\nWant to assign the HTMLELement to global variable <strong>imageID</strong>. Is there any way to parse the variable to a string or something?\nAny suggestions would be appreciated. </p>\n\n<p><strong>dashboard.component.ts</strong></p>\n\n<pre><code> import {Component,Input,OnChanges,OnInit,SimpleChanges} from '@angular/core';\nimport {ActivatedRoute} from '@angular/router';\nimport {Emotion} from 'emotion';\nimport {EmotionService} from 'emotion.service';\n\n\n\n@Component({\n    selector: 'dashboard',\n    templateUrl: './dashboard.component.html',\n    styleUrls: ['./dashboard.component.css']\n})\nexport class DashboardComponent implements OnInit {\n    emotions: Emotion[] = [];\n    emotion: string;\n    imageID: any;\n    constructor(private emotionService: EmotionService) {}\n\n    ngOnInit() {\n        this.getEmotions();\n       // this.makeMatch();\n\n        //function to randomize and get face images\n        var w = document.getElementById('wrapper');\n        var button = document.getElementById('randomize');\n        var images = w.children; // inner elements, your image divs\n        // a function to hide all divs\n        var hideDivs = function(imgs: HTMLCollection) {\n            for (var img of &lt; any &gt; imgs) {\n                (img as HTMLElement).style.display = 'none';\n            } //for\n        } //hideDivs\n\n        hideDivs(images); // hide all initially\n\n        button.addEventListener('click', function(event) {\n            console.log('');\n            console.log('%c=============================', \"color: blue\");\n            console.log('%c In getFaces method', \"color: blue\", );\n            var rnd = Math.floor(Math.random() * images.length); // get random index\n            hideDivs(images); // hide all images\n\n            (images[rnd] as HTMLElement).style.display = 'block'; // show random image\n            (event.target as HTMLElement).textContent = 'Click one more time!';\n            var getImage = (images[rnd] as HTMLElement);\n\n\n                    //where error occurs\n           this.imageID = getImage.id;\n\n\n            // this.imageID as HTMLElement = images[rnd].getAttribute('alt');\n              console.log('%c Image ID for match making: ', imageID );\n            console.log('%cImage ID: ', \"font-weight: bold\", getImage.id);\n           // console.log('%cAll image data:', \"font-weight: bold\", images[rnd]);\n            console.log('%c=============================', \"color: blue\");\n            console.log('');\n\n        }) //button\n</code></pre>\n"}, {"tags": ["typescript", "typescript2.0"], "comments": [{"owner": {"reputation": 3606, "user_id": 2042827, "user_type": "registered", "accept_rate": 47, "profile_image": "https://i.stack.imgur.com/8Wspp.jpg?s=128&g=1", "display_name": "ikos23", "link": "https://stackoverflow.com/users/2042827/ikos23"}, "edited": false, "score": 0, "creation_date": 1522858619, "post_id": 49655777, "comment_id": 86320615, "body": "just move it to some method, make that method to return this stuff and call that single method where you need it. I guess you could add this method to <code>SubstitutionAbstract</code>"}, {"owner": {"reputation": 241, "user_id": 9579547, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/46cb73db3b787bf80c6acad500fddd50?s=128&d=identicon&r=PG&f=1", "display_name": "dooglu", "link": "https://stackoverflow.com/users/9579547/dooglu"}, "reply_to_user": {"reputation": 3606, "user_id": 2042827, "user_type": "registered", "accept_rate": 47, "profile_image": "https://i.stack.imgur.com/8Wspp.jpg?s=128&g=1", "display_name": "ikos23", "link": "https://stackoverflow.com/users/2042827/ikos23"}, "edited": false, "score": 0, "creation_date": 1522858712, "post_id": 49655777, "comment_id": 86320669, "body": "Do you mean to do this method not abstract, can you share a sample?\\"}], "answers": [{"comments": [{"owner": {"reputation": 241, "user_id": 9579547, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/46cb73db3b787bf80c6acad500fddd50?s=128&d=identicon&r=PG&f=1", "display_name": "dooglu", "link": "https://stackoverflow.com/users/9579547/dooglu"}, "edited": false, "score": 0, "creation_date": 1522860011, "post_id": 49656067, "comment_id": 86321401, "body": "Can I do something as: return IMode:= {...para,eters}?"}, {"owner": {"reputation": 241, "user_id": 9579547, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/46cb73db3b787bf80c6acad500fddd50?s=128&d=identicon&r=PG&f=1", "display_name": "dooglu", "link": "https://stackoverflow.com/users/9579547/dooglu"}, "edited": false, "score": 0, "creation_date": 1522860132, "post_id": 49656067, "comment_id": 86321473, "body": "Or like this: <code>return {} as IModel;</code> ?"}, {"owner": {"reputation": 3606, "user_id": 2042827, "user_type": "registered", "accept_rate": 47, "profile_image": "https://i.stack.imgur.com/8Wspp.jpg?s=128&g=1", "display_name": "ikos23", "link": "https://stackoverflow.com/users/2042827/ikos23"}, "reply_to_user": {"reputation": 241, "user_id": 9579547, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/46cb73db3b787bf80c6acad500fddd50?s=128&d=identicon&r=PG&f=1", "display_name": "dooglu", "link": "https://stackoverflow.com/users/9579547/dooglu"}, "edited": false, "score": 0, "creation_date": 1522860217, "post_id": 49656067, "comment_id": 86321533, "body": "And this is a typescript-specific question that I cannot answer correctly, sorry ) Just try both maybe if you&#39;re not sure and check the behavior of your code in both cases. Maybe there is no difference."}], "tags": [], "owner": {"reputation": 3606, "user_id": 2042827, "user_type": "registered", "accept_rate": 47, "profile_image": "https://i.stack.imgur.com/8Wspp.jpg?s=128&g=1", "display_name": "ikos23", "link": "https://stackoverflow.com/users/2042827/ikos23"}, "is_accepted": true, "score": 1, "last_activity_date": 1522859530, "creation_date": 1522859530, "answer_id": 49656067, "question_id": 49655777, "link": "https://stackoverflow.com/questions/49655777/how-to-avoid-duplication-of-code-in-class/49656067#49656067", "title": "How to avoid duplication of code in class?", "body": "<p>This might be invalid typescript, just because I am not that good in typescript :) </p>\n\n<p>But your problem is not typescript specific, so maybe this will give you an idea of how such problems can be fixed.</p>\n\n<p>Create a method in <code>SubstitutionAbstract</code> :</p>\n\n<pre><code>class SubstitutionAbstract {\n\n    // this one should be called each time you need that object instead of duplicating\n    // you can make it protected if there is such stuff in typescript\n    public getMyStuff(param1, param2, param3, param4) {\n        return { lesson: param1,\n                 confirmed: param2,\n                 newTeacher: param3,\n                 subsDate: param4\n               };\n    }  \n    // .....\n}\n</code></pre>\n\n<p>In each your subclass just call it:</p>\n\n<pre><code>public _save() {\n    const substitutionAdd: ISubstitutionModelTeacher = \n             getMyStuff(this.substitution.lessonNumber, true, \n                           this.substitution.date, this.substitution.teacher);\n\n    return this.replaceService.addSubstitution(substitutionAdd);\n}\n</code></pre>\n\n<p>If you don't need <code>subsDate</code> in some implementation then pass <code>null</code> for that one to <code>getMyStuff</code>, don't think it can be a problem. Typescript probably checks types etc., so you might need to play with that method to make work (e.g. it should return something of type <code>ISubstitutionModelTeacher</code> I guess). </p>\n\n<p>And again - this is probably <strong>not working code</strong>, because typescript is not my area, but it describes the idea of how you could do.</p>\n\n<p>And sure there could be other ways, this is just 1 example.</p>\n\n<p>Happy Coding :)</p>\n"}], "owner": {"reputation": 241, "user_id": 9579547, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/46cb73db3b787bf80c6acad500fddd50?s=128&d=identicon&r=PG&f=1", "display_name": "dooglu", "link": "https://stackoverflow.com/users/9579547/dooglu"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 45, "favorite_count": 1, "accepted_answer_id": 49656067, "answer_count": 1, "score": 2, "last_activity_date": 1522859530, "creation_date": 1522858387, "question_id": 49655777, "link": "https://stackoverflow.com/questions/49655777/how-to-avoid-duplication-of-code-in-class", "title": "How to avoid duplication of code in class?", "body": "<p>I have two classes that extend abstract class:</p>\n\n<pre><code>   class SubstitutionTeacher extends SubstitutionAbstract {\n      abstract _save();\n    }\n\n    class SubstitutionFree extends SubstitutionAbstract {\n      public _save() {\n      }\n    }\n\n    class SubstitutionSubject extends SubstitutionAbstract {\n      public _save() {\n      }\n    }\n</code></pre>\n\n<p>In method <code>save()</code> I realize own behaviour like this:</p>\n\n<pre><code>  /* Class SubstitutionFree\n    public _save() {\n\n        const substitutionAdd: ISubstitutionModelTeacher = {\n          lesson: this.substitution.lessonNumber,\n          confirmed: true,\n          subsDate: this.substitution.date,\n          newTeacher: this.substitution.teacher\n        };\n\n        return this.replaceService.addSubstitution(substitutionAdd);\n      }\n\n /* Class SubstitutionSubject\n    public _save() {\n\n        const substitutionAdd: ISubstitutionModelTeacher = {\n          lesson: this.substitution.lessonNumber,\n          confirmed: true,\n          newTeacher: this.substitution.teacher\n        };\n\n        return this.replaceService.addSubstitution(substitutionAdd);\n      }\n</code></pre>\n\n<p>As you can see both method are almost similar. I want to avoid this duplication:</p>\n\n<pre><code>{ lesson: this.substitution.lessonNumber,\nconfirmed: true,\nnewTeacher: this.substitution.teacher\n}\n</code></pre>\n\n<p>I can change <code>save()</code> to regular <code>save()</code> and pass there a common part but it losts meaning of abstraction.</p>\n"}, {"tags": ["angular", "unit-testing", "typescript", "karma-jasmine"], "comments": [{"owner": {"reputation": 630270, "user_id": 571407, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2f0d9dec16bae1e06552af55ddefc11f?s=128&d=identicon&r=PG", "display_name": "JB Nizet", "link": "https://stackoverflow.com/users/571407/jb-nizet"}, "edited": false, "score": 0, "creation_date": 1522858415, "post_id": 49655670, "comment_id": 86320493, "body": "Post real code. This code wouldn&#39;t compile, and since functions do nothing, there is really nothing to test. Anyway, you can the constructor, and check that it does what it&#39;s supposed to do. Whether it delegates to functions doesn&#39;t matter."}, {"owner": {"reputation": 7054, "user_id": 7407935, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/v4eTR.jpg?s=128&g=1", "display_name": "Daniel W Strimpel", "link": "https://stackoverflow.com/users/7407935/daniel-w-strimpel"}, "edited": false, "score": 0, "creation_date": 1522859725, "post_id": 49655670, "comment_id": 86321231, "body": "Can you update your example code to be more explicit in what the conditions are? We can&#39;t see where <code>condition1</code> or <code>condition2</code> come from."}, {"owner": {"reputation": 245, "user_id": 1202268, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/1d572ce11d48eafbe71d02eb3b291e8d?s=128&d=identicon&r=PG", "display_name": "Chetan Khilare", "link": "https://stackoverflow.com/users/1202268/chetan-khilare"}, "reply_to_user": {"reputation": 7054, "user_id": 7407935, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/v4eTR.jpg?s=128&g=1", "display_name": "Daniel W Strimpel", "link": "https://stackoverflow.com/users/7407935/daniel-w-strimpel"}, "edited": false, "score": 0, "creation_date": 1522865069, "post_id": 49655670, "comment_id": 86324279, "body": "@DanielWStrimpel Please check the edited code above. Thank you."}, {"owner": {"reputation": 54898, "user_id": 1260204, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/402e1da680f92d16e7736ab14a696f06?s=128&d=identicon&r=PG", "display_name": "Igor", "link": "https://stackoverflow.com/users/1260204/igor"}, "edited": false, "score": 2, "creation_date": 1522865174, "post_id": 49655670, "comment_id": 86324340, "body": "Do not put business logic in your constructors, it does not belong there. Create methods on your services that are called from components from a defined life cycle event or other event trigger (like UI event). The main reason you are having issue is that the logic does not belong there, on the up side you discovered it while unit testing which is good as unit testing can highlight a poor design choice."}, {"owner": {"reputation": 245, "user_id": 1202268, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/1d572ce11d48eafbe71d02eb3b291e8d?s=128&d=identicon&r=PG", "display_name": "Chetan Khilare", "link": "https://stackoverflow.com/users/1202268/chetan-khilare"}, "edited": false, "score": 0, "creation_date": 1522865621, "post_id": 49655670, "comment_id": 86324553, "body": "Gotcha. I will move the code block from constructor to ngOnInit()."}, {"owner": {"reputation": 54898, "user_id": 1260204, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/402e1da680f92d16e7736ab14a696f06?s=128&d=identicon&r=PG", "display_name": "Igor", "link": "https://stackoverflow.com/users/1260204/igor"}, "edited": false, "score": 0, "creation_date": 1522866025, "post_id": 49655670, "comment_id": 86324805, "body": "<code>ngOnInit</code> will only be called from a Component as it is a life cycle defined on that type. It will never be called indirectly on a service. So if <code>Somename</code> is a service that is injected it will have to expose a method that is then called by the component from it&#39;s <code>ngOnInit</code> method."}, {"owner": {"reputation": 245, "user_id": 1202268, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/1d572ce11d48eafbe71d02eb3b291e8d?s=128&d=identicon&r=PG", "display_name": "Chetan Khilare", "link": "https://stackoverflow.com/users/1202268/chetan-khilare"}, "edited": false, "score": 0, "creation_date": 1522866667, "post_id": 49655670, "comment_id": 86325174, "body": "Ok. I need to incorporate that."}], "answers": [{"comments": [{"owner": {"reputation": 245, "user_id": 1202268, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/1d572ce11d48eafbe71d02eb3b291e8d?s=128&d=identicon&r=PG", "display_name": "Chetan Khilare", "link": "https://stackoverflow.com/users/1202268/chetan-khilare"}, "edited": false, "score": 0, "creation_date": 1522865130, "post_id": 49656268, "comment_id": 86324312, "body": "Hi Jose, Sorry. I hadn&#39;t provided enough details earlier. Please refer to the edited block of code above. Thank you."}, {"owner": {"reputation": 352, "user_id": 8938992, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/K4y1q.png?s=128&g=1", "display_name": "JoseJimRin", "link": "https://stackoverflow.com/users/8938992/josejimrin"}, "reply_to_user": {"reputation": 245, "user_id": 1202268, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/1d572ce11d48eafbe71d02eb3b291e8d?s=128&d=identicon&r=PG", "display_name": "Chetan Khilare", "link": "https://stackoverflow.com/users/1202268/chetan-khilare"}, "edited": false, "score": 0, "creation_date": 1522915823, "post_id": 49656268, "comment_id": 86344367, "body": "@ChetanKhilare I edited the post. I Hope this will help you."}], "tags": [], "owner": {"reputation": 352, "user_id": 8938992, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/K4y1q.png?s=128&g=1", "display_name": "JoseJimRin", "link": "https://stackoverflow.com/users/8938992/josejimrin"}, "is_accepted": false, "score": 1, "last_activity_date": 1522915760, "last_edit_date": 1522915760, "creation_date": 1522860236, "answer_id": 49656268, "question_id": 49655670, "link": "https://stackoverflow.com/questions/49655670/unit-test-function-calls-in-constructor-in-angular/49656268#49656268", "title": "Unit test function calls in constructor in Angular", "body": "<p>Something like this could be the skeleton:</p>\n\n<pre><code>describe('ComponentExample', () =&gt; {\n  let component: ComponentExample;\n  let fixture: ComponentFixture&lt;ComponentExample&gt;;\n\n  beforeEach(async(() =&gt; {\n    TestBed.configureTestingModule({\n      declarations: [ ComponentExample ]\n    })\n    .compileComponents();\n  }));\n\n  beforeEach(() =&gt; {\n    fixture = TestBed.createComponent(ComponentExample);\n    component = fixture.componentInstance;\n    fixture.detectChanges();\n  });\n\n  it('should create', () =&gt; {\n    // Lunch cordova here\n    expect(component).toBeTruthy();\n    // Not lunch cordova here \n    expect(component).toBeTruthy();\n  });\n});\n</code></pre>\n\n<p>This should works to check constructor, I do not know how to lunch cordova because i did not work with it. But you need to expect component after open or not open the window.</p>\n\n<p>I read some things about ngOnInit, and I think it is not necessary to test the constructor. If you initialize the component you will test the constructor, the problem here is about open cordova. Some way to check if you covered the constructor is using <em>ng test --code-coverage</em>. This will generate a directory <strong>coverage</strong> with a <em>index.html</em> file that resumes all lines of your code. And says if you covered certain lines or not. </p>\n\n<p>ngOnInit is most using to execute code when you are routting in your application. Is useful if you needs to do something when a component is charged, or a service. But this not differ with this test.</p>\n"}], "owner": {"reputation": 245, "user_id": 1202268, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/1d572ce11d48eafbe71d02eb3b291e8d?s=128&d=identicon&r=PG", "display_name": "Chetan Khilare", "link": "https://stackoverflow.com/users/1202268/chetan-khilare"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 5601, "favorite_count": 0, "answer_count": 1, "score": 3, "last_activity_date": 1522915760, "creation_date": 1522858019, "last_edit_date": 1522865035, "question_id": 49655670, "link": "https://stackoverflow.com/questions/49655670/unit-test-function-calls-in-constructor-in-angular", "title": "Unit test function calls in constructor in Angular", "body": "<p>I am working on writing a unit test for the service(refer to code block below) in Angular 2+. How can I achieve this using Jasmine framework ?</p>\n\n<pre><code>declare var window: any;\n\n@Injectable\nexport class Somename {\n\n   constructor() {\n     if (window.cordova) {\n       function1();\n     } else {\n       function2();\n     }\n   }\n\n   private function1() {\n   }\n\n   private function2() {\n   }\n}  \n</code></pre>\n"}, {"tags": ["angular", "typescript", "rxjs"], "answers": [{"tags": [], "owner": {"reputation": 3562, "user_id": 2328891, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/HgZFa.jpg?s=128&g=1", "display_name": "Shohel", "link": "https://stackoverflow.com/users/2328891/shohel"}, "is_accepted": true, "score": 1, "last_activity_date": 1522896044, "last_edit_date": 1522896044, "creation_date": 1522858807, "answer_id": 49655883, "question_id": 49655639, "link": "https://stackoverflow.com/questions/49655639/accessing-public-function-within-extended-httpclass/49655883#49655883", "title": "Accessing public function within extended HttpClass", "body": "<p>This is being violated the coding standard of angular. create a API service only for URL set and crud operation and for authentication extend the HTTP service of angular. </p>\n\n<p>For common API:</p>\n\n<pre><code>import { Injectable } from '@angular/core';\nimport { Http, Headers, RequestOptions } from '@angular/http';\n\nimport { Observable } from 'rxjs/Observable';\nimport 'rxjs/add/operator/map';\n\n@Injectable()\nexport class BaseService {\n\n  private headers = new Headers({ 'Content-Type': 'application/json', 'charset': 'UTF-8' });\n  private options = new RequestOptions({ headers: this.headers });\n\n  constructor(private http: Http) { }\n\n  // Get all\n  getAll(url: any): Observable&lt;any&gt; {\n    return this.http.get(url).map(res =&gt; res.json());\n  }\n\n  // Count all\n  count(url: any): Observable&lt;any&gt; {\n    return this.http.get(url).map(res =&gt; res.json());\n  }\n\n  // add\n  add(url: any, entity: any): Observable&lt;any&gt; {\n    return this.http.post(url, JSON.stringify(entity), this.options);\n  }\n\n  // Get by id\n  getById(url: any, entity: any): Observable&lt;any&gt; {\n    return this.http.get(url + `/${entity._id}`).map(res =&gt; res.json());\n  }\n\n  // Update by id\n  editById(url: any, entity: any): Observable&lt;any&gt; {\n    return this.http.put(url + `/${entity._id}`, JSON.stringify(entity), this.options);\n  }\n\n  // Delete by id\n  deleteById(url: any, entity: any): Observable&lt;any&gt; {\n    return this.http.delete(url + `/${entity._id}`, this.options);\n  }\n\n}\n</code></pre>\n\n<p><a href=\"https://github.com/mdshohelrana/mean-stack/blob/master/client/app/shared/services/base.service.ts\" rel=\"nofollow noreferrer\">https://github.com/mdshohelrana/mean-stack/blob/master/client/app/shared/services/base.service.ts</a></p>\n\n<p>For extended HTTP service:</p>\n\n<p><a href=\"http://www.adonespitogo.com/articles/angular-2-extending-http-provider/\" rel=\"nofollow noreferrer\">http://www.adonespitogo.com/articles/angular-2-extending-http-provider/</a></p>\n\n<p>I think It will be helpful to you.</p>\n"}], "owner": {"reputation": 323, "user_id": 3566132, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/0711c6d239eb90a297d627eb78b935fd?s=128&d=identicon&r=PG", "display_name": "francojay", "link": "https://stackoverflow.com/users/3566132/francojay"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 28, "favorite_count": 0, "accepted_answer_id": 49655883, "answer_count": 1, "score": 0, "last_activity_date": 1522896044, "creation_date": 1522857880, "last_edit_date": 1522858553, "question_id": 49655639, "link": "https://stackoverflow.com/questions/49655639/accessing-public-function-within-extended-httpclass", "title": "Accessing public function within extended HttpClass", "body": "<p>I am using an extended HttpClass so that I can apply headers and url paths dynamically. This is what it looks like: </p>\n\n<p><b>app.http.ts</b></p>\n\n<pre><code>export enum Type {\n  PREAUTH = 0,\n  AUTH = 1,\n  PRINTER = 2,\n  TERMINAL = 3\n}\n\n@Injectable()\nexport class AppHttp extends Http {\n  private typesOn: Array&lt;any&gt; = [false, false, false, false];\n\nconstructor(backend: ConnectionBackend, defaultOptions: RequestOptions) {\n    super(backend, defaultOptions);\n    this.presetPetition(Type.AUTH);\n}\n\npresetPetition(type: number) {\n    this.typesOn.forEach(t =&gt; (t = false));\n    this.typesOn[type] = true;\n}\n\nrequest(url: string | Request, options?: RequestOptionsArgs): Observable&lt;Response&gt; {\n    return super.request(url, options);\n}\n\nget(url: string, options?: RequestOptionsArgs): Observable&lt;Response&gt; {\n    return super.get(this.updateUrl(url), this.getRequestOptionArgs(options));\n}\n\nprivate updateUrl(req: string) {\n  if (this.typesOn[Type.AUTH]) {\n    return environment.apiURL + req\n  } else {\n    return req\n  }\n}\n</code></pre>\n\n<p><b>app.module.ts</b></p>\n\n<pre><code>providers: [\n AppHttp,\n  {\n    provide: Http,\n    useFactory: httpFactory,\n    deps: [XHRBackend, RequestOptions]\n  }\n]\n</code></pre>\n\n<p><b>http.factory.ts</b></p>\n\n<pre><code>export function httpFactory(xhrBackend: XHRBackend, requestOptions: \nRequestOptions): Http {\n  return new AppHttp(xhrBackend, requestOptions);\n}\n</code></pre>\n\n<p>When I attempt to change the type of http request, I import AppHttp into the component/service, and call <i>presetPetition()</i> right before my http request. </p>\n\n<p>I get a <code>No Provider for Backend Connection</code>.\nSo I understand that there can't be redundant provider imports (Http, and AppHttp), that must be that error.</p>\n\n<p>How can I access a public function within an extended class? Or is my approach wrong?</p>\n"}, {"tags": ["angular", "typescript", "ionic-framework", "ionic3"], "comments": [{"owner": {"reputation": 2005, "user_id": 2281093, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/flo35.jpg?s=128&g=1", "display_name": "Andrew Lively", "link": "https://stackoverflow.com/users/2281093/andrew-lively"}, "edited": false, "score": 0, "creation_date": 1522857858, "post_id": 49655526, "comment_id": 86320181, "body": "What plugin are you using?"}, {"owner": {"reputation": 7978, "user_id": 3418376, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/BdAlM.jpg?s=128&g=1", "display_name": "Joe Scotto", "link": "https://stackoverflow.com/users/3418376/joe-scotto"}, "reply_to_user": {"reputation": 2005, "user_id": 2281093, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/flo35.jpg?s=128&g=1", "display_name": "Andrew Lively", "link": "https://stackoverflow.com/users/2281093/andrew-lively"}, "edited": false, "score": 0, "creation_date": 1522858389, "post_id": 49655526, "comment_id": 86320479, "body": "@AndrewLively Ionic-Audio"}, {"owner": {"reputation": 23496, "user_id": 5468463, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/8eafc92b719d65512cded4c5087892ff?s=128&d=identicon&r=PG&f=1", "display_name": "Vega", "link": "https://stackoverflow.com/users/5468463/vega"}, "edited": false, "score": 0, "creation_date": 1522862367, "post_id": 49655526, "comment_id": 86322729, "body": "how about a getter on a property that will return this._audioProvider.tracks[0].progress?"}, {"owner": {"reputation": 5016, "user_id": 4254681, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/17tFz.jpg?s=128&g=1", "display_name": "Duannx", "link": "https://stackoverflow.com/users/4254681/duannx"}, "edited": false, "score": 0, "creation_date": 1522900584, "post_id": 49655526, "comment_id": 86337596, "body": "I think you should create an interval to check the value each amount of time"}], "owner": {"reputation": 7978, "user_id": 3418376, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/BdAlM.jpg?s=128&g=1", "display_name": "Joe Scotto", "link": "https://stackoverflow.com/users/3418376/joe-scotto"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 27, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1522859633, "creation_date": 1522857526, "last_edit_date": 1522859633, "question_id": 49655526, "link": "https://stackoverflow.com/questions/49655526/onchange-for-imported-class-property-in-ionic-angular", "title": "onChange for imported class property in Ionic/Angular", "body": "<p>I'm trying to monitor the change of a property that is imported from a plugin I'm using. </p>\n\n<p><code>this._audioProvider.tracks[0].progress</code> will update while an audio track is playing and is of the <code>number</code> type. </p>\n\n<p>There is no way for me to currently use <code>.subscribe()</code> on it and I don't know how I would be able to watch it for changes. Currently I'm attempting the <code>ngOnChanges()</code> function but don't seem to be getting what I want.</p>\n\n<pre><code>ngOnChanges(changes: SimpleChanges) {\n  console.log(this._audioProvider.tracks[0].progress);\n}\n</code></pre>\n\n<p>How would I simply subscribe to this property and get it's value as it's updated?</p>\n\n<p>Any help would be great, thanks!</p>\n"}, {"tags": ["typescript", "mapped-types"], "answers": [{"comments": [{"owner": {"reputation": 2545, "user_id": 5362826, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/517d1ec9402591c46a4b380113cf2c65?s=128&d=identicon&r=PG&f=1", "display_name": "tamj0rd2", "link": "https://stackoverflow.com/users/5362826/tamj0rd2"}, "edited": false, "score": 0, "creation_date": 1604050513, "post_id": 49655664, "comment_id": 114234594, "body": "Where did you find out about this? I can&#39;t find it in the docs. I&#39;ve seen similar be done with -readonly and I&#39;m trying to read more about it"}, {"owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "reply_to_user": {"reputation": 2545, "user_id": 5362826, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/517d1ec9402591c46a4b380113cf2c65?s=128&d=identicon&r=PG&f=1", "display_name": "tamj0rd2", "link": "https://stackoverflow.com/users/5362826/tamj0rd2"}, "edited": false, "score": 1, "creation_date": 1604052987, "post_id": 49655664, "comment_id": 114235626, "body": "@tamj0rd2 From the PR that added them <a href=\"https://github.com/Microsoft/TypeScript/pull/21919\" rel=\"nofollow noreferrer\">github.com/Microsoft/TypeScript/pull/21919</a>"}], "tags": [], "owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "is_accepted": true, "score": 25, "last_activity_date": 1549185094, "last_edit_date": 1549185094, "creation_date": 1522857978, "answer_id": 49655664, "question_id": 49655419, "link": "https://stackoverflow.com/questions/49655419/mapped-types-removing-optional-modifier/49655664#49655664", "title": "Mapped Types: removing optional modifier", "body": "<p>In Typescript 2.8 you can explicitly eliminate the modifier:</p>\n\n<pre><code>type Foo2 = {\n  [P in keyof Foo]-?: number;\n}\n</code></pre>\n\n<p>Or use the <code>Required</code> type that is built into newer versions.</p>\n\n<p>If you are using an older version you can use this workaround:</p>\n\n<pre><code>type Helper&lt;T, TNames extends string&gt; = { [P in TNames]: (T &amp; { [name: string]: never })[P] };\ntype Foo3 = Helper&lt;Foo, keyof Foo&gt;;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1904, "user_id": 2903697, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ckoIs.jpg?s=128&g=1", "display_name": "iarroyo", "link": "https://stackoverflow.com/users/2903697/iarroyo"}, "is_accepted": false, "score": 12, "last_activity_date": 1540310741, "creation_date": 1540310741, "answer_id": 52953465, "question_id": 49655419, "link": "https://stackoverflow.com/questions/49655419/mapped-types-removing-optional-modifier/52953465#52953465", "title": "Mapped Types: removing optional modifier", "body": "<p>You can use <code>Required&lt;T&gt;</code> as an alternative to <code>-?</code></p>\n\n<pre><code>interface Foo {\n  one?: string;\n  two?: string;\n}\n\ntype Foo2 = {\n  [P in keyof Required&lt;Foo&gt;]: number;\n};\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 257, "user_id": 651495, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ee0F6.png?s=128&g=1", "display_name": "Jose Greinch", "link": "https://stackoverflow.com/users/651495/jose-greinch"}, "is_accepted": false, "score": 0, "last_activity_date": 1609535580, "creation_date": 1609535580, "answer_id": 65533759, "question_id": 49655419, "link": "https://stackoverflow.com/questions/49655419/mapped-types-removing-optional-modifier/65533759#65533759", "title": "Mapped Types: removing optional modifier", "body": "<p>I would build my own Utility probably</p>\n<pre><code>interface Foo {\n  one?: string;\n  two?: string;\n}\n\ntype RequiredWithType&lt;T, V&gt; = {\n  [P in keyof T]-?: V;\n}\n\n// and then just use it\ntype Foo2 = RequiredWithType&lt;Foo, Number&gt;;\n</code></pre>\n<p>I've built a medium article <a href=\"https://medium.com/better-programming/mastering-typescripts-mapped-types-5fa5700385eb\" rel=\"nofollow noreferrer\">here</a> about mapped types that you mind find interesting :)</p>\n"}], "owner": {"reputation": 7110, "user_id": 800619, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/374b8f6eb41fb881b3c726786bc8383a?s=128&d=identicon&r=PG", "display_name": "NSjonas", "link": "https://stackoverflow.com/users/800619/nsjonas"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4117, "favorite_count": 2, "accepted_answer_id": 49655664, "answer_count": 3, "score": 14, "last_activity_date": 1609535580, "creation_date": 1522857146, "question_id": 49655419, "link": "https://stackoverflow.com/questions/49655419/mapped-types-removing-optional-modifier", "title": "Mapped Types: removing optional modifier", "body": "<p>Given this code:</p>\n\n<pre><code>interface Foo{\n  one?: string;\n  two?: string;\n}\n\ntype Foo2 = {\n  [P in keyof Foo]: number;\n}\n</code></pre>\n\n<p>I would expect the type of <code>Foo2</code> to be <code>{ one: number; two: number; }</code>  However, instead it seems to keep the optional modifier <code>{ one?: number; two?: number; }</code></p>\n\n<p>Is it possible to remove the optional modifier when using mapped types?</p>\n"}, {"tags": ["javascript", "typescript", "enums"], "comments": [{"owner": {"reputation": 507143, "user_id": 1048572, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/7f2c4de95e8f4f8f5a71c3aaf0ed312a?s=128&d=identicon&r=PG", "display_name": "Bergi", "link": "https://stackoverflow.com/users/1048572/bergi"}, "edited": false, "score": 0, "creation_date": 1523026018, "post_id": 49655241, "comment_id": 86403487, "body": "Think of how this would look without the proxy. <code>public status = Status</code> wouldn&#39;t make much sense, would it?"}], "answers": [{"comments": [{"owner": {"reputation": 27488, "user_id": 1778465, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/NxIPr.jpg?s=128&g=1", "display_name": "Get Off My Lawn", "link": "https://stackoverflow.com/users/1778465/get-off-my-lawn"}, "edited": false, "score": 0, "creation_date": 1523023534, "post_id": 49662503, "comment_id": 86401769, "body": "Not sure why I didn&#39;t think of doing it this way... The only issue is, that if the private property is changed, then the function won&#39;t be triggered..."}, {"owner": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "reply_to_user": {"reputation": 27488, "user_id": 1778465, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/NxIPr.jpg?s=128&g=1", "display_name": "Get Off My Lawn", "link": "https://stackoverflow.com/users/1778465/get-off-my-lawn"}, "edited": false, "score": 1, "creation_date": 1523025141, "post_id": 49662503, "comment_id": 86402864, "body": "That&#39;s why it&#39;s private.  If you absolutely need to protect target you can close over a local variable in the constructor function or use a proxy on <code>MyClass</code>."}, {"owner": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "reply_to_user": {"reputation": 27488, "user_id": 1778465, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/NxIPr.jpg?s=128&g=1", "display_name": "Get Off My Lawn", "link": "https://stackoverflow.com/users/1778465/get-off-my-lawn"}, "edited": false, "score": 0, "creation_date": 1523025383, "post_id": 49662503, "comment_id": 86403020, "body": "edited a way of doing it that hides <code>target</code> completely"}], "tags": [], "owner": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "is_accepted": true, "score": 2, "last_activity_date": 1523025368, "last_edit_date": 1523025368, "creation_date": 1522889159, "answer_id": 49662503, "question_id": 49655241, "link": "https://stackoverflow.com/questions/49655241/how-to-create-a-proxy-on-an-enum/49662503#49662503", "title": "How to create a proxy on an enum?", "body": "<p>I'm going to go out on a limb and suggest that you don't actually want a <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Proxy\" rel=\"nofollow noreferrer\">Proxy</a>, but <a href=\"https://www.typescriptlang.org/docs/handbook/classes.html#accessors\" rel=\"nofollow noreferrer\">accessors</a> for the <code>status</code> property of <code>MyClass</code> instead.  Like so:</p>\n\n<pre><code>export enum Status { Beginning, Middle, Ending }\n\nexport class MyClass {\n  private target: Status = Status.Beginning;\n\n  public get status(): Status {\n    return this.target;\n  }\n  public set status(status: Status) {\n    console.log(\"I have been set\");\n    this.target = status;\n  }\n}\n\nlet c = new MyClass();\nc.status = Status.Middle;\n// logs \"I have been set\".\n</code></pre>\n\n<p>The issues: if you want to intercept gets and sets on the <code>status</code> property of a <code>MyClass</code>, then you need to do the \"proxy-like\" behavior on <code>MyClass</code>, not on <code>Status</code>.  And if you are only trying to intercept gets and sets on a single known property, then a full Proxy is overkill, since you'd only be doing anything special when the <code>propertyKey</code> is equal to <code>status</code>... while accessors are specifically intended for wrapping single properties.</p>\n\n<p>Okay, hope that helps.  Good luck! </p>\n\n<hr>\n\n<p>If <code>private</code> isn't good enough for you, you can do this:</p>\n\n<pre><code>export class MyClass {\n  status!: Status; // status will be defined in the constructor\n\n  constructor() {\n    let target = Status.Beginning;\n    Object.defineProperty(this, 'status', {\n      get() { return target; },\n      set(status: Status) {\n        console.log(\"I have been set\");\n        target = status;\n      }\n    })\n  }\n}\n\nlet c = new MyClass();\nc.status = Status.Middle;\n// logs \"I have been set\".\n</code></pre>\n\n<p>which hides the underlying <code>target</code> in a closure, completely inaccessible to the outside world.  But note that you are essentially creating an \"own\" accessor on each instance of <code>MyClass</code>, instead of just one accessor on the <code>MyClass</code> prototype.  It's up to you if that matters.</p>\n\n<p>Good luck again.</p>\n"}], "owner": {"reputation": 27488, "user_id": 1778465, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/NxIPr.jpg?s=128&g=1", "display_name": "Get Off My Lawn", "link": "https://stackoverflow.com/users/1778465/get-off-my-lawn"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 220, "favorite_count": 0, "accepted_answer_id": 49662503, "answer_count": 1, "score": 2, "last_activity_date": 1523025368, "creation_date": 1522856546, "question_id": 49655241, "link": "https://stackoverflow.com/questions/49655241/how-to-create-a-proxy-on-an-enum", "title": "How to create a proxy on an enum?", "body": "<p>I have an <code>enum</code> that I would like to setup a <code>Proxy</code> for, however when I try to set the value of <code>this.status</code>, nothing happens. I am expecting <code>I have been set</code> to get output to the console but that doesn't happen. Why isn't the proxy working on an enum?</p>\n\n<pre><code>export enum Status { Beginning, Middle, Ending }\n\nexport class MyClass {\n  public status = new Proxy(Status, {\n    set: (target, propertyKey, value) = {\n      console.log('I have been set')\n      return Reflect.set(target, propertyKey, value)\n    },\n    get: (target, propertyKey) =&gt; Reflect.get(target, propertyKey)\n  })\n}\n</code></pre>\n\n<p>Usage:</p>\n\n<pre><code>let c = new MyClass\nc.status = Status.Middle\n</code></pre>\n\n<p>When I try to set it, I get the following error:</p>\n\n<blockquote>\n  <p>Type 'Status.Middle' is not assignable to type 'typeof Status'.</p>\n</blockquote>\n"}, {"tags": ["typescript", "html5-canvas"], "comments": [{"owner": {"reputation": 871364, "user_id": 157247, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/4HovX.jpg?s=128&g=1", "display_name": "T.J. Crowder", "link": "https://stackoverflow.com/users/157247/t-j-crowder"}, "edited": false, "score": 0, "creation_date": 1522856566, "post_id": 49655208, "comment_id": 86319303, "body": "How are you calling <code>draw</code>? The error suggests however you&#39;re doing it, you&#39;re not passing anything into it (or what you&#39;re passing in has the value <code>undefined</code>)."}, {"owner": {"reputation": 13, "user_id": 6442781, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c341b411ea8f97dc77ac2e105fa65d62?s=128&d=identicon&r=PG&f=1", "display_name": "L Jones", "link": "https://stackoverflow.com/users/6442781/l-jones"}, "reply_to_user": {"reputation": 871364, "user_id": 157247, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/4HovX.jpg?s=128&g=1", "display_name": "T.J. Crowder", "link": "https://stackoverflow.com/users/157247/t-j-crowder"}, "edited": false, "score": 0, "creation_date": 1522856708, "post_id": 49655208, "comment_id": 86319416, "body": "So for example I have <code>background.draw(ctx);</code> and I have ctx defined with <code>let ctx: CanvasRenderingContext2D;</code>"}, {"owner": {"reputation": 11274, "user_id": 9078341, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TAD0A.png?s=128&g=1", "display_name": "Randy Casburn", "link": "https://stackoverflow.com/users/9078341/randy-casburn"}, "edited": false, "score": 0, "creation_date": 1522856721, "post_id": 49655208, "comment_id": 86319427, "body": "You are using typescript, why don&#39;t you type the parameter. This is the exact reason for using static typing. (I can&#39;t believe I&#39;m saying this :-) ) - if you type it as <code>CanvasRenderingContext2D</code>, TJ&#39;s point will become clear."}, {"owner": {"reputation": 871364, "user_id": 157247, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/4HovX.jpg?s=128&g=1", "display_name": "T.J. Crowder", "link": "https://stackoverflow.com/users/157247/t-j-crowder"}, "edited": false, "score": 1, "creation_date": 1522856779, "post_id": 49655208, "comment_id": 86319477, "body": "@LJones: When do you ever assign something to <code>ctx</code>? From what you&#39;ve shown above, <code>ctx</code> will have the value <code>undefined</code>."}, {"owner": {"reputation": 13, "user_id": 6442781, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c341b411ea8f97dc77ac2e105fa65d62?s=128&d=identicon&r=PG&f=1", "display_name": "L Jones", "link": "https://stackoverflow.com/users/6442781/l-jones"}, "reply_to_user": {"reputation": 11274, "user_id": 9078341, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TAD0A.png?s=128&g=1", "display_name": "Randy Casburn", "link": "https://stackoverflow.com/users/9078341/randy-casburn"}, "edited": false, "score": 0, "creation_date": 1522859076, "post_id": 49655208, "comment_id": 86320901, "body": "@RandyCasburn so what you were suggesting was to type canvasContext so I&#39;d have <code>public draw = (canvasContext: CanvasRenderingContext2D): void =&gt; ...</code>? I&#39;m still struggling to understand why the error persists (sorry I&#39;m new to this), I don&#39;t know why my ctx would be undefined because in <code>window.onload</code> I have <code>ctx = canvas.getContext(&quot;2d&quot;);</code> but I&#39;m guessing that has nothing to do with it? It&#39;s frustrating because the code works as intended it just chucks an undefined error and I can&#39;t understand why"}, {"owner": {"reputation": 11274, "user_id": 9078341, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TAD0A.png?s=128&g=1", "display_name": "Randy Casburn", "link": "https://stackoverflow.com/users/9078341/randy-casburn"}, "edited": false, "score": 0, "creation_date": 1522859210, "post_id": 49655208, "comment_id": 86320978, "body": "And you have absolutely verified line number and stack trace of error origin?"}, {"owner": {"reputation": 13, "user_id": 6442781, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c341b411ea8f97dc77ac2e105fa65d62?s=128&d=identicon&r=PG&f=1", "display_name": "L Jones", "link": "https://stackoverflow.com/users/6442781/l-jones"}, "edited": false, "score": 0, "creation_date": 1522860391, "post_id": 49655208, "comment_id": 86321652, "body": "Yeah it&#39;s saying &quot;TypeError: canvasContext is undefined&quot; and redirects me to this function, I&#39;m not sure what I&#39;d have to do to fix that"}, {"owner": {"reputation": 11274, "user_id": 9078341, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TAD0A.png?s=128&g=1", "display_name": "Randy Casburn", "link": "https://stackoverflow.com/users/9078341/randy-casburn"}, "edited": false, "score": 0, "creation_date": 1522862182, "post_id": 49655208, "comment_id": 86322652, "body": "@LJones - it is the stack trace that is most important at this point. You need to validate &quot;which call&quot; to that function is sending an undefined context. Do you call this function within an event handler someplace?"}, {"owner": {"reputation": 11274, "user_id": 9078341, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TAD0A.png?s=128&g=1", "display_name": "Randy Casburn", "link": "https://stackoverflow.com/users/9078341/randy-casburn"}, "edited": false, "score": 0, "creation_date": 1522862210, "post_id": 49655208, "comment_id": 86322664, "body": "And to catch up a bit, YES, I recommend you do: <code>public draw = (canvasContext: CanvasRenderingContext2D): void =&gt; ...</code> : This helps you find the problem at compile time rather than run time."}], "answers": [{"comments": [{"owner": {"reputation": 11274, "user_id": 9078341, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TAD0A.png?s=128&g=1", "display_name": "Randy Casburn", "link": "https://stackoverflow.com/users/9078341/randy-casburn"}, "edited": false, "score": 0, "creation_date": 1522859391, "post_id": 49655618, "comment_id": 86321056, "body": "That doesn&#39;t answer the question - it provides troubleshooting steps."}], "tags": [], "owner": {"reputation": 9691, "user_id": 101251, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/d983612a465ed6bedaaf89005cc6e85e?s=128&d=identicon&r=PG", "display_name": "kctang", "link": "https://stackoverflow.com/users/101251/kctang"}, "is_accepted": false, "score": 0, "last_activity_date": 1522857830, "creation_date": 1522857830, "answer_id": 49655618, "question_id": 49655208, "link": "https://stackoverflow.com/questions/49655208/typeerror-cannot-read-property-save-of-undefined-function-to-draw-on-spec/49655618#49655618", "title": "\u201cTypeError: cannot read property \u2018save\u2019 of undefined&quot; - Function to draw on specified canvas", "body": "<p>I suggest debugging like this:</p>\n\n<pre><code>if(!canvasContext) {\n  debugger;\n}\ncanvasContext.save();\n</code></pre>\n\n<p>By adding the lines above <code>canvasContext.save()</code>, it will pause JS execution whenever canvasContext is falsy. From there, you should be able to tell what caused it (the stack trace).</p>\n"}], "owner": {"reputation": 13, "user_id": 6442781, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c341b411ea8f97dc77ac2e105fa65d62?s=128&d=identicon&r=PG&f=1", "display_name": "L Jones", "link": "https://stackoverflow.com/users/6442781/l-jones"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 408, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1522857830, "creation_date": 1522856454, "last_edit_date": 1522856573, "question_id": 49655208, "link": "https://stackoverflow.com/questions/49655208/typeerror-cannot-read-property-save-of-undefined-function-to-draw-on-spec", "title": "\u201cTypeError: cannot read property \u2018save\u2019 of undefined&quot; - Function to draw on specified canvas", "body": "<p>I've written a draw function to draw sprites on different canvases depending on the context I pass in:</p>\n\n<pre><code>public draw = (canvasContext): void =&gt; {\n    canvasContext.save();\n    canvasContext.translate(this.x, this.y);\n    canvasContext.drawImage(this.atlas.image,\n        this.atlas.frames[this.imageName].x, this.atlas.frames[this.imageName].y,\n        this.atlas.frames[this.imageName].w, this.atlas.frames[this.imageName].h,\n        0, 0,\n        this.atlas.frames[this.imageName].w, this.atlas.frames[this.imageName].h);\n    canvasContext.restore();\n}\n</code></pre>\n\n<p>The code operates fine, whenever I call the method I pass in the context of the canvas I want the sprite to be drawn on and it works. When I open up the console it says \u201cTypeError: cannot read property \u2018save\u2019 of undefined\" and I'm not really sure how to fix this, would I have to define canvasContext outside of this code somewhere? Unsure how I'd do that.</p>\n"}, {"tags": ["node.js", "angular", "azure", "typescript"], "answers": [{"tags": [], "owner": {"reputation": 3026, "user_id": 5403693, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-T6UqApDwHcc/AAAAAAAAAAI/AAAAAAAAEuM/OlAS3tBu0gc/photo.jpg?sz=128", "display_name": "kim", "link": "https://stackoverflow.com/users/5403693/kim"}, "is_accepted": false, "score": 2, "last_activity_date": 1522855519, "creation_date": 1522855519, "answer_id": 49654878, "question_id": 49654580, "link": "https://stackoverflow.com/questions/49654580/deploying-frontend-and-backend-to-the-same-web-service-on-azure/49654878#49654878", "title": "deploying frontend and backend to the same web service on azure", "body": "<p>You can run multiple web sites in different web apps in Azure so that they are sharing the same Azure App Service. </p>\n\n<p>You can think of the App Service as a virtual machine offering resources for your applications. How many web apps you can run simultaneously depends on the size of your plan, see <a href=\"https://azure.microsoft.com/en-us/pricing/details/app-service/\" rel=\"nofollow noreferrer\">this</a> page for details.</p>\n\n<p>This way you can deploy them separately, manually or automatically using e.g. <a href=\"https://docs.microsoft.com/en-us/vsts/build-release/?view=vsts\" rel=\"nofollow noreferrer\">VSTS</a>.</p>\n"}, {"tags": [], "owner": {"reputation": 17081, "user_id": 6755924, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2016daeafc6c9469fde7bab85f8214d6?s=128&d=identicon&r=PG&f=1", "display_name": "Bruce Chen", "link": "https://stackoverflow.com/users/6755924/bruce-chen"}, "is_accepted": true, "score": 3, "last_activity_date": 1522898014, "creation_date": 1522898014, "answer_id": 49663565, "question_id": 49654580, "link": "https://stackoverflow.com/questions/49654580/deploying-frontend-and-backend-to-the-same-web-service-on-azure/49663565#49663565", "title": "deploying frontend and backend to the same web service on azure", "body": "<blockquote>\n  <p>is it possible to make them both run on the same azure web service? or do i need a stand alone service for each?</p>\n</blockquote>\n\n<p>If you choose the Web App on Windows OS, IIS allows you to configure multiple virtual applications within a single website. For this approach, you could follow <a href=\"https://blogs.msdn.microsoft.com/tomholl/2014/09/21/deploying-multiple-virtual-directories-to-a-single-azure-website/\" rel=\"nofollow noreferrer\">Deploying multiple virtual directories to a single Azure Website</a>. <strong>Note:</strong> The multiple virtual applications would share the same application pool.</p>\n\n<p>As kim mentioned, <strong>you pay for the App Service Plan, not for the Web App</strong>. You could also host nodejs backend and angular frontend in different web apps under the same app service plan.</p>\n\n<p>For the deployment, you could leverage VS publish wizard or manually upload your files via <a href=\"https://blogs.msdn.microsoft.com/benjaminperkins/2014/03/24/using-kudu-with-windows-azure-web-sites/\" rel=\"nofollow noreferrer\">KUDU</a> or <a href=\"https://blogs.msdn.microsoft.com/kaushal/2014/08/01/microsoft-azure-web-site-connect-to-your-site-via-ftp-and-uploaddownload-files/\" rel=\"nofollow noreferrer\">FTP</a>. Moreover, you could also follow <a href=\"https://docs.microsoft.com/en-us/azure/app-service/app-service-deploy-content-sync\" rel=\"nofollow noreferrer\">Deploy the app</a> section about various approaches for deployment.</p>\n"}], "owner": {"reputation": 97, "user_id": 9104318, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7aa720791a0d87fb41501fca9ae8e62b?s=128&d=identicon&r=PG&f=1", "display_name": "ibrahim.bond", "link": "https://stackoverflow.com/users/9104318/ibrahim-bond"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4053, "favorite_count": 1, "accepted_answer_id": 49663565, "answer_count": 2, "score": 2, "last_activity_date": 1522898014, "creation_date": 1522854705, "question_id": 49654580, "link": "https://stackoverflow.com/questions/49654580/deploying-frontend-and-backend-to-the-same-web-service-on-azure", "title": "deploying frontend and backend to the same web service on azure", "body": "<p>i have a web app that has a seperate nodejs backend and angular frontend.</p>\n\n<p>is it possible to make them both run on the same azure web service? or do i need a stand alone service for each? </p>\n\n<p>my nodejs server is just a light API that feeds my angular app with some statistical data to render it. if it is possible what would be the way to do it?</p>\n\n<p>since i am using typescript i know i need to push my nodejs using zipdeployment and i know i need to use visual studio to push my angular project to azure. but when i want to run both on the same service, how do i do it? </p>\n"}, {"tags": ["angular", "typescript", "firebase", "firebase-realtime-database", "firebase-storage"], "owner": {"reputation": 616, "user_id": 9342966, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/dc5d6abb8ef464546bb7cc177eeab0a4?s=128&d=identicon&r=PG&f=1", "display_name": "Angulandy2", "link": "https://stackoverflow.com/users/9342966/angulandy2"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 48, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1522854036, "creation_date": 1522854036, "question_id": 49654342, "link": "https://stackoverflow.com/questions/49654342/angular-firebase-unsupported-field-value", "title": "Angular firebase unsupported field value", "body": "<p>I have uplaod.ts file : </p>\n\n<pre><code>export class Project {\n  $key: string;\n  file: File;\n  name: string;\n  title: string;  //can't write this to db with ngModel (look below)\n  cat: string; //can't write this to db with ngModel (look below)\n  url: string;\n  progress: number;\n  createdAt: Date = new Date();\n\n  constructor(file: File) {\n    this.file = file;\n  }\n}\n</code></pre>\n\n<p>Then in upload.service I have my pushUpload() function with savefiledata() : </p>\n\n<pre><code>//files\nuploads:Observable&lt;Project[]&gt;;\nproject:AngularFirestoreCollection&lt;Project[]&gt;\n\n\n//pushUpload uploads to storage\n\n  pushUpload(upload: Project) {\n    const storageRef = firebase.storage().ref();\n    const uploadTask = storageRef.child(`${this.basePath}/${upload.file.name}`).put(upload.file);\n\n    uploadTask.on(firebase.storage.TaskEvent.STATE_CHANGED,\n      (snapshot: firebase.storage.UploadTaskSnapshot) =&gt;  {\n        // upload in progress\n        const snap = snapshot;\n        upload.progress = (snap.bytesTransferred / snap.totalBytes) * 100\n\n      },\n      (error) =&gt; {\n        // upload failed\n        console.log(error);\n      },\n      () =&gt; {\n        // upload success\n        if (uploadTask.snapshot.downloadURL) {\n          upload.url = uploadTask.snapshot.downloadURL;\n          upload.name = upload.file.name;\n          this.fire.collection(`users/${this.auth.userId}/projects`).add( { photoURL: upload.url, file: upload.file.name})\n          this.saveFileData(upload);\n          return;\n        } else {\n          console.error('No download URL!');\n        }\n\n\n      },\n\n    );\n  }\n\n\n\n  // Writes the file details to the realtime db\n  private saveFileData(upload: Project) {\n\n    this.db.list(`profile/${this.auth.userId}/project`).push(upload);\n\n\n  }\n</code></pre>\n\n<p><strong>I can upload file to storage and save url/file name in database. But I can't save Title and Cat with ngModels.</strong> </p>\n\n<p><strong>upload.ts :</strong></p>\n\n<pre><code>selectedFiles: FileList | null;\n  currentUpload: Project;\n     proinfo = {} as Project;\n\n\n uploadSingle() {\n    const file = this.selectedFiles;\n    if (file &amp;&amp; file.length === 1) {\n      this.currentUpload = new Project(file.item(0));\n      this.navSrv.pushUpload(this.currentUpload);\n    } else {\n      console.error('No file found!');\n    }\n  }\n</code></pre>\n\n<p>upload.html  :</p>\n\n<pre><code>&lt;div class=\"box\"&gt;\n  &lt;h3&gt;Single File Upload&lt;/h3&gt;\n\n  &lt;label&gt;\n    &lt;input type=\"file\" class=\"button\" (change)=\"detectFiles($event)\"&gt;\n  &lt;/label&gt;\n  &lt;label&gt;\n    &lt;input [(ngModel)]=\"proinfo.title\" type=\"text\" class=\"button\"&gt;\n  &lt;/label&gt;\n  &lt;label&gt;\n    &lt;input [(ngModel)]=\"proinfo.cat\" type=\"text\" class=\"button\"&gt;\n  &lt;/label&gt;\n  &lt;button class=\"button is-primary\"\n          [disabled]=\"!selectedFiles\"\n          (click)=\"uploadSingle()\"&gt;\n    Upload Single\n  &lt;/button&gt;\n  &lt;hr&gt;\n\n  &lt;h3&gt;Multiple File Upload&lt;/h3&gt;\n\n  &lt;label&gt;\n    &lt;input type=\"file\" class=\"button\" (change)=\"detectFiles($event)\" multiple&gt;\n  &lt;/label&gt;\n  &lt;button class=\"button is-primary\"\n          [disabled]=\"!selectedFiles\"\n          (click)=\"uploadMulti()\"&gt;\n    Upload Multiple\n  &lt;/button&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p><strong>I get 0 errors, data is not saved in db (only the name, url and progress.)</strong></p>\n\n<p>Main question is : How to save title and cat in database with url,name,progress in same list ?</p>\n"}, {"tags": ["angular", "typescript"], "answers": [{"tags": [], "owner": {"reputation": 742, "user_id": 8340339, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9bb69568e5deaed66c42f230befc2ce3?s=128&d=identicon&r=PG&f=1", "display_name": "AntonioGarc&#237;a", "link": "https://stackoverflow.com/users/8340339/antoniogarc%c3%ada"}, "is_accepted": true, "score": 3, "last_activity_date": 1522853979, "creation_date": 1522853979, "answer_id": 49654323, "question_id": 49654140, "link": "https://stackoverflow.com/questions/49654140/how-to-use-ngfor-in-ngb-tabset/49654323#49654323", "title": "How to use *ngFor in ngb-tabset?", "body": "<p>What it is happening here is that you are using the same name for the element  where you are creating a local var named tabs. This is what the *ngFor is trying to iterate and not your component variable named tabs.</p>\n\n<p>I suggest you change any of the names to a different one and try again.</p>\n"}], "owner": {"reputation": 4800, "user_id": 8879527, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/uWfcF.jpg?s=128&g=1", "display_name": "Rahul Sharma", "link": "https://stackoverflow.com/users/8879527/rahul-sharma"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 975, "favorite_count": 0, "accepted_answer_id": 49654323, "answer_count": 1, "score": 0, "last_activity_date": 1522853979, "creation_date": 1522853503, "question_id": 49654140, "link": "https://stackoverflow.com/questions/49654140/how-to-use-ngfor-in-ngb-tabset", "title": "How to use *ngFor in ngb-tabset?", "body": "<p>How to create tabs dynamically in <code>ngb-tabset</code></p>\n\n<p>Component code</p>\n\n<pre><code> tabs = ['Tab-1','Tab-2'];\n</code></pre>\n\n<p>HTML Code</p>\n\n<pre><code>&lt;ngb-tabset #tabs&gt;\n  &lt;ngb-tab *ngFor=\"let tab of tabs\" [title]=\"tab\"&gt;\n    &lt;ng-template ngbTabContent&gt;\n       Some Data\n    &lt;/ng-template&gt;\n  &lt;/ngb-tab&gt;\n&lt;/ngb-tabset&gt;\n</code></pre>\n\n<p>I'm getting an error</p>\n\n<pre><code>ERROR Error: Cannot find a differ supporting object '[object Object]' of type 'object'. NgFor only supports binding to Iterables such as Arrays.\n    at NgForOf.webpackJsonp.../../../common/@angular/common.es5.js.NgForOf.ngOnChanges (common.es5.js:1689)\n    at checkAndUpdateDirectiveInline (core.es5.js:10812)\n    at checkAndUpdateNodeInline (core.es5.js:12238)\n    at checkAndUpdateNode (core.es5.js:12177)\n    at debugCheckAndUpdateNode (core.es5.js:12880)\n    at debugCheckDirectivesFn (core.es5.js:12821)\n    at Object.eval [as updateDirectives] (TabsMatchesComponent.html:14)\n    at Object.debugUpdateDirectives [as updateDirectives] (core.es5.js:12806)\n    at checkAndUpdateView (core.es5.js:12144)\n    at callViewAction (core.es5.js:12507)\n</code></pre>\n"}, {"tags": ["javascript", "typescript"], "answers": [{"comments": [{"owner": {"reputation": 885, "user_id": 9146205, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/187a1d988c80debe2831db995c733cb1?s=128&d=identicon&r=PG&f=1", "display_name": "Krishna", "link": "https://stackoverflow.com/users/9146205/krishna"}, "edited": false, "score": 0, "creation_date": 1522854356, "post_id": 49653879, "comment_id": 86317653, "body": "I have made a small change. My name contains #Surname but In filters I have only Krishna. How can I filter that?"}, {"owner": {"reputation": 31092, "user_id": 1715121, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/6nEEr.jpg?s=128&g=1", "display_name": "Ele", "link": "https://stackoverflow.com/users/1715121/ele"}, "reply_to_user": {"reputation": 885, "user_id": 9146205, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/187a1d988c80debe2831db995c733cb1?s=128&d=identicon&r=PG&f=1", "display_name": "Krishna", "link": "https://stackoverflow.com/users/9146205/krishna"}, "edited": false, "score": 0, "creation_date": 1522854490, "post_id": 49653879, "comment_id": 86317740, "body": "@Krishna do you want to accept that kind of names as well?"}, {"owner": {"reputation": 885, "user_id": 9146205, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/187a1d988c80debe2831db995c733cb1?s=128&d=identicon&r=PG&f=1", "display_name": "Krishna", "link": "https://stackoverflow.com/users/9146205/krishna"}, "edited": false, "score": 0, "creation_date": 1522854645, "post_id": 49653879, "comment_id": 86317859, "body": "Yes @Ele. I need to filter those kind of values also"}], "tags": [], "owner": {"reputation": 31092, "user_id": 1715121, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/6nEEr.jpg?s=128&g=1", "display_name": "Ele", "link": "https://stackoverflow.com/users/1715121/ele"}, "is_accepted": false, "score": 5, "last_activity_date": 1522854827, "last_edit_date": 1522854827, "creation_date": 1522852695, "answer_id": 49653879, "question_id": 49653822, "link": "https://stackoverflow.com/questions/49653822/typescript-filter-an-array-of-objects/49653879#49653879", "title": "Typescript filter an array of objects", "body": "<p>An alternative is using the function <code>filter</code> along with functions <code>includes</code> and <code>some</code>.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>let filters = { name: [\"Krishna\", \"Naveen\"], city : [\"London\"]},\r\n    results = [{    \"name\": \"Krishna#Surname\",    \"city\": \"London\",    \"age\": 23},{    \"name\": \"Naveen\",    \"city\": \"London\",    \"age\": 23},{    \"name\": \"Krishna\",    \"city\": \"NewYork\",    \"age\": 23},{    \"name\": \"Praveen\",    \"city\": \"Washington\",    \"age\": 23}],\r\n    result = results.filter(({name, city}) =&gt; filters.name.some(n =&gt; name.includes(n)) &amp;&amp; filters.city.includes(city));\r\n\r\nconsole.log(result);</code></pre>\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>.as-console-wrapper { max-height: 100% !important; top: 0; }</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"comments": [{"owner": {"reputation": 885, "user_id": 9146205, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/187a1d988c80debe2831db995c733cb1?s=128&d=identicon&r=PG&f=1", "display_name": "Krishna", "link": "https://stackoverflow.com/users/9146205/krishna"}, "edited": false, "score": 0, "creation_date": 1522854469, "post_id": 49653933, "comment_id": 86317724, "body": "I have made a small change. My name contains #Surname but In filters I have only Krishna. How can I filter that?"}, {"owner": {"reputation": 961, "user_id": 13101751, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-rq5TWONSq5s/AAAAAAAAAAI/AAAAAAAAAAA/AKF05nB7wTK8MHMDDV8d9scYqpNd81TFyg/photo.jpg?sz=128", "display_name": "Jnl", "link": "https://stackoverflow.com/users/13101751/jnl"}, "edited": false, "score": 0, "creation_date": 1591731260, "post_id": 49653933, "comment_id": 110166355, "body": "I couldn&#39;t figure out how to use your solution in my case. Could you take a look here?  <a href=\"https://stackoverflow.com/questions/62290308/using-filter-function-in-typescript\" title=\"using filter function in typescript\">stackoverflow.com/questions/62290308/&hellip;</a>"}], "tags": [], "owner": {"reputation": 319259, "user_id": 1447675, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ziYmO.gif?s=128&g=1", "display_name": "Nina Scholz", "link": "https://stackoverflow.com/users/1447675/nina-scholz"}, "is_accepted": true, "score": 5, "last_activity_date": 1522854621, "last_edit_date": 1522854621, "creation_date": 1522852841, "answer_id": 49653933, "question_id": 49653822, "link": "https://stackoverflow.com/questions/49653822/typescript-filter-an-array-of-objects/49653933#49653933", "title": "Typescript filter an array of objects", "body": "<p>You could check for every filter and returns that object which matches all conditions.</p>\n\n<p>This approach works for an arbitrary count of conditions.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>function multiFilter(array, filters) {\r\n    return array.filter(o =&gt;\r\n        Object.keys(filters).every(k =&gt;\r\n            [].concat(filters[k]).some(v =&gt; o[k].includes(v))));\r\n}\r\n\r\nvar filters = { name: [\"Krishna\", \"Naveen\"], city: [\"London\"] },\r\n    results = [{ name: \"Krishna#Surname\", city: \"London\", age: 23 }, { name: \"Naveen#Surname\", city: \"London\", age: 23 }, { name: \"Krishna#Surname\", city: \"NewYork\", age: 23 }, { name: \"Praveen#Surname\", city: \"Washington\", age: 23 }],\r\n    filtered = multiFilter(results, filters);\r\n  \r\n  console.log(filtered);</code></pre>\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>.as-console-wrapper { max-height: 100% !important; top: 0; }</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": [], "owner": {"reputation": 25159, "user_id": 2930661, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/zbiMW.jpg?s=128&g=1", "display_name": "Eddie", "link": "https://stackoverflow.com/users/2930661/eddie"}, "is_accepted": false, "score": 2, "last_activity_date": 1522852866, "creation_date": 1522852866, "answer_id": 49653945, "question_id": 49653822, "link": "https://stackoverflow.com/questions/49653822/typescript-filter-an-array-of-objects/49653945#49653945", "title": "Typescript filter an array of objects", "body": "<p>You can <code>filter</code> the array and use <code>includes</code> to check if name and city is on the array</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>let filters = {name: [\"Krishna\", \"Naveen\"],city: [\"London\"]};\r\nlet results = [{\"name\": \"Krishna\",\"city\": \"London\",\"age\": 23},{\"name\": \"Naveen\",\"city\": \"London\",\"age\": 23},{\"name\": \"Krishna\",\"city\": \"NewYork\",\"age\": 23},{\"name\": \"Praveen\",\"city\": \"Washington\",\"age\": 23}]\r\n\r\nlet result = results.filter(o =&gt; filters.name.includes(o.name) &amp;&amp; filters.city.includes(o.city));\r\n\r\nconsole.log(result);</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 885, "user_id": 9146205, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/187a1d988c80debe2831db995c733cb1?s=128&d=identicon&r=PG&f=1", "display_name": "Krishna", "link": "https://stackoverflow.com/users/9146205/krishna"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 31053, "favorite_count": 1, "accepted_answer_id": 49653933, "answer_count": 3, "score": 3, "last_activity_date": 1522854827, "creation_date": 1522852537, "last_edit_date": 1522854263, "question_id": 49653822, "link": "https://stackoverflow.com/questions/49653822/typescript-filter-an-array-of-objects", "title": "Typescript filter an array of objects", "body": "<p>I want to filter my <code>results</code> array based on the values stored in filters.\nI have tried the below code. But it is not applying.</p>\n\n<pre><code>let filters = {\n  name: [\"Krishna\", \"Naveen\"],\n  city : [\"London\"]\n};\nresults = [\n{\n    \"name\": \"Krishna#Surname\",\n    \"city\": \"London\",\n    \"age\": 23\n},\n{\n    \"name\": \"Naveen#Surname\",\n    \"city\": \"London\",\n    \"age\": 23\n},\n{\n    \"name\": \"Krishna#Surname\",\n    \"city\": \"NewYork\",\n    \"age\": 23\n},\n{\n    \"name\": \"Praveen#Surname\",\n    \"city\": \"Washington\",\n    \"age\": 23\n}\n]\nthis.results1 = this.multiFilter(results,filters);\n\nmultiFilter(array:any=[], filters:Object) {\nconst filterKeys = Object.keys(filters);\nreturn array.filter((item) =&gt; {\n  return filterKeys.every(key =&gt; {\n    let filters1= filters[key];\n    return filters1.every(key1 =&gt; {\n      return !!~ item[key].indexOf(key1)\n    });\n  });\n});\n}\n</code></pre>\n"}, {"tags": ["typescript", "http", "post", "angular-cli"], "comments": [{"owner": {"reputation": 21295, "user_id": 5437671, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8ZlWc.png?s=128&g=1", "display_name": "R. Richards", "link": "https://stackoverflow.com/users/5437671/r-richards"}, "edited": false, "score": 0, "creation_date": 1522865409, "post_id": 49653770, "comment_id": 86324463, "body": "Are you getting any error messages in the console when you run this?"}, {"owner": {"reputation": 95, "user_id": 7518977, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/16e2356cae2d3f9350c2284e17b45d1d?s=128&d=identicon&r=PG&f=1", "display_name": "Johan", "link": "https://stackoverflow.com/users/7518977/johan"}, "reply_to_user": {"reputation": 21295, "user_id": 5437671, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8ZlWc.png?s=128&g=1", "display_name": "R. Richards", "link": "https://stackoverflow.com/users/5437671/r-richards"}, "edited": false, "score": 0, "creation_date": 1522923765, "post_id": 49653770, "comment_id": 86349836, "body": "Nothing in console but when I debug and hover over som elements I get some errors.  For instance in add-to-api.component.ts when I hover over the function name addToAp(....  I get ReferenceError: GetApiService is not defined at eval"}], "owner": {"reputation": 95, "user_id": 7518977, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/16e2356cae2d3f9350c2284e17b45d1d?s=128&d=identicon&r=PG&f=1", "display_name": "Johan", "link": "https://stackoverflow.com/users/7518977/johan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 35, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1522852375, "creation_date": 1522852375, "question_id": 49653770, "link": "https://stackoverflow.com/questions/49653770/post-angularcli-does-not-work", "title": "Post AngularCli does not work", "body": "<p>AngularCli folks</p>\n\n<p>For some reason my post of adding new object/input to my mockApi does not work, at least my Api stays unchanged. \nIs there something wrong with my code or why won't it work?</p>\n\n<p>Let me know if there are further details needed.</p>\n\n<p><strong>add-to-api.component.html</strong></p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code> {{diagnostic}}\r\n  &lt;div class=\"container\"&gt;\r\n      &lt;h1&gt;Add to Api&lt;/h1&gt;\r\n      &lt;form (ngSubmit)=\"addToApi(devicemgForm.value)\" #devicemgForm=\"ngForm\"&gt;\r\n        &lt;div class=\"form-group\"&gt;\r\n          &lt;label for=\"hitInfo\"&gt;HitInfo&lt;/label&gt;\r\n          &lt;!-- HitInfo \u00e4r Name i guiden --&gt;\r\n          &lt;input type=\"text\" class=\"form-control\" id=\"hitInfo\" required [(ngModel)]=\"model.HitInfo\" name=\"hitInfo\" #hitInfo=\"ngModel\"&gt;\r\n          &lt;div [hidden]=\"hitInfo.valid || hitInfo.pristine\" class=\"alert alert-danger\"&gt;F\u00e4ltet m\u00e5ste fyllas i&lt;/div&gt;\r\n        &lt;/div&gt;\r\n\r\n        &lt;div class=\"form-group\"&gt;\r\n          &lt;label for=\"repairStatus\"&gt;RepairStatus&lt;/label&gt;\r\n          &lt;!-- RepairStatus \u00e4r Alter Ego i guiden --&gt;\r\n          &lt;input type=\"text\" class=\"form-control\" id=\"repairStatus\" required [(ngModel)]=\"model.RepairStatus\" name=\"repairStatus\" #repairStatus=\"ngModel\"&gt;\r\n          &lt;div [hidden]=\"repairStatus.valid || repairStatus.pristine\" class=\"alert alert-danger\"&gt;F\u00e4ltet m\u00e5ste fyllas i&lt;/div&gt;\r\n        &lt;/div&gt;\r\n\r\n        &lt;div class=\"form-group\"&gt;\r\n            &lt;label for=\"reported\"&gt;Reported&lt;/label&gt;\r\n            &lt;!-- Reported \u00e4r powers i guiden --&gt;\r\n            &lt;select class=\"form-control\" id=\"reported\" required [(ngModel)]=\"model.Reported\" name=\"reported\"&gt;\r\n              &lt;option *ngFor=\"let rep of reported\" [value]=\"rep\"&gt;{{rep}}&lt;/option&gt;\r\n            &lt;/select&gt;\r\n          &lt;/div&gt;\r\n\r\n\r\n        &lt;!-- &lt;button type=\"submit\" class=\"btn btn-success\" [disabled]=\"!devicemgForm.form.valid\"&gt;Submit&lt;/button&gt; --&gt;\r\n        &lt;button type=\"submit\" class=\"btn btn-success\" [disabled]=\"!devicemgForm.valid\"&gt;Submit&lt;/button&gt;\r\n\r\n\r\n        &lt;button type=\"button\" class=\"btn btn-default\" (click)=\"devicemgForm.reset()\"\r\n           &gt;Rensa formul\u00e4r&lt;/button&gt;\r\n\r\n      &lt;/form&gt;\r\n  &lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p><strong>Next the add-to-api.component.ts, this component is a part of another component via a router-outlet/routerLink so there are more imports than are visible in this .ts</strong></p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>import { Component, OnInit } from '@angular/core';\r\nimport { NgForm } from '@angular/forms';\r\nimport { HttpClient } from '@angular/common/http';\r\nimport {Devicemg} from '../devicemg';\r\nimport { GetApiService } from '../get-api.service';\r\n\r\n\r\n\r\n@Component({\r\n  selector: 'app-add-to-api',\r\n  templateUrl: './add-to-api.component.html',\r\n  styleUrls: ['./add-to-api.component.css']\r\n})\r\nexport class AddToApiComponent implements OnInit {\r\n  kurtan = [];\r\n  reported = ['true', 'false'];\r\n\r\n  model = new Devicemg ();\r\n\r\n\r\n  get diagnostic() { return JSON.stringify(this.model); }\r\n\r\n  constructor(private _getApiService: GetApiService) { }\r\n\r\n  ngOnInit() {\r\n\r\n  }\r\n\r\n\r\n    addToApi(devicemg: Devicemg) {\r\n      this._getApiService.addApi(devicemg).subscribe();\r\n    }\r\n\r\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p><strong>The service class I use get-api.sevice.ts</strong></p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>import { Injectable } from '@angular/core';\r\nimport { Devicemg } from './devicemg';\r\nimport { HttpClient, HttpErrorResponse, HttpResponse, HttpHeaders } from '@angular/common/http';\r\nimport { map } from 'rxjs/operators';\r\nimport { Observable } from 'rxjs/Observable';\r\nimport { NgForm } from '@angular/forms';\r\n\r\nconst httpOptions = {\r\n  headers: new HttpHeaders({\r\n    'Content-Type':  'application/json',\r\n    // 'Authorization': 'my-auth-token'\r\n  })\r\n};\r\n\r\n@Injectable()\r\nexport class GetApiService {\r\n\r\n  // private mainmenuUrl = 'https://logmanagementtool.azurewebsites.net/api/loganalysis/getall';\r\n\r\n  private jMockApi = 'http://demo8609839.mockable.io/johansmockapi';\r\n\r\n  constructor(private httpClient: HttpClient) { }\r\n\r\n  public getApi(): Observable&lt;any&gt; {\r\n    return this.httpClient.get(this.jMockApi)\r\n    .pipe(map((response: Response) =&gt; response));\r\n\r\n  } // ska inte ha .json() p\u00e5 slutet d\u00e5 detta g\u00f6rs automatiskt nuf\u00f6rtiden p\u00e5 Response i angular\r\n\r\n\r\n  public deleteIdFromApi (id: number): Observable&lt;{}&gt; {\r\n    const url = this.jMockApi + '/' + id;\r\n    return this.httpClient.delete(this.jMockApi, httpOptions).pipe(map((response: Response) =&gt; response));\r\n  }\r\n\r\n\r\n  public addApi (devicemg: Devicemg): Observable&lt;any&gt; {\r\n    return this.httpClient.post&lt;Devicemg&gt;(this.jMockApi, devicemg, httpOptions);\r\n  }\r\n\r\n\r\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p><strong>app module</strong></p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>import { BrowserModule } from '@angular/platform-browser';\r\nimport { NgModule } from '@angular/core';\r\nimport {FormsModule} from '@angular/forms';\r\n\r\nimport { AppComponent } from './app.component';\r\nimport { HttpClientModule } from '@angular/common/http';\r\nimport { DevicemgComponent } from './devicemg/devicemg.component';\r\nimport { AppRoutingModule } from './/app-routing.module';\r\n\r\nimport { GetApiService } from './get-api.service';\r\nimport { AddToApiComponent } from './add-to-api/add-to-api.component';\r\n\r\n// import { bootstrap } from\r\n\r\n\r\n@NgModule({\r\n  declarations: [\r\n    AppComponent,\r\n    DevicemgComponent,\r\n    AddToApiComponent\r\n  ],\r\n  imports: [\r\n    BrowserModule,\r\n    HttpClientModule,\r\n    FormsModule,\r\n    AppRoutingModule\r\n  ],\r\n  providers: [GetApiService],\r\n  bootstrap: [AppComponent]\r\n})\r\nexport class AppModule { }</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>Any help in understanding why it doesn't change my api: <a href=\"http://demo8609839.mockable.io/johansmockapi\" rel=\"nofollow noreferrer\">http://demo8609839.mockable.io/johansmockapi</a> </p>\n\n<p>Thanks</p>\n"}, {"tags": ["angular", "typescript", "angular5", "es6-promise"], "comments": [{"owner": {"reputation": 80516, "user_id": 227299, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/6483c2f0fcf64b578c55ca0df7e01096?s=128&d=identicon&r=PG", "display_name": "Juan Mendes", "link": "https://stackoverflow.com/users/227299/juan-mendes"}, "edited": false, "score": 0, "creation_date": 1522852470, "post_id": 49653705, "comment_id": 86316159, "body": "Maybe just a typo, but you defined an <code>init</code> function and referenced an <code>init1</code>"}, {"owner": {"reputation": 147776, "user_id": 3731501, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/e4783dfa8ec98c884e61d29f2192ac97?s=128&d=identicon&r=PG&f=1", "display_name": "Estus Flask", "link": "https://stackoverflow.com/users/3731501/estus-flask"}, "edited": false, "score": 0, "creation_date": 1522852657, "post_id": 49653705, "comment_id": 86316316, "body": "Apart from <code>init1</code>, I don&#39;t see why this shouldn&#39;t work. Are you able to replicate the problem in plunker or stackblitz?"}, {"owner": {"reputation": 781, "user_id": 6218093, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh3.googleusercontent.com/-Zc6hQFiLAcw/AAAAAAAAAAI/AAAAAAAAAu0/xJRc3LEhrGM/photo.jpg?sz=128", "display_name": "ranjit redekar", "link": "https://stackoverflow.com/users/6218093/ranjit-redekar"}, "edited": false, "score": 0, "creation_date": 1522853173, "post_id": 49653705, "comment_id": 86316762, "body": "init1 has mystically happened when adding a question on StackOverflow, Actually, its init and have checked this on local but not work, even not able to see the console messages."}, {"owner": {"reputation": 781, "user_id": 6218093, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh3.googleusercontent.com/-Zc6hQFiLAcw/AAAAAAAAAAI/AAAAAAAAAu0/xJRc3LEhrGM/photo.jpg?sz=128", "display_name": "ranjit redekar", "link": "https://stackoverflow.com/users/6218093/ranjit-redekar"}, "edited": false, "score": 0, "creation_date": 1522853238, "post_id": 49653705, "comment_id": 86316807, "body": "Ok, I will check this on stackblitz and same here."}, {"owner": {"reputation": 28328, "user_id": 1160794, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/b81c88d628038fbe7c8e5976f40d5b12?s=128&d=identicon&r=PG&f=1", "display_name": "David", "link": "https://stackoverflow.com/users/1160794/david"}, "edited": false, "score": 1, "creation_date": 1522917212, "post_id": 49653705, "comment_id": 86345219, "body": "What you have seems to work fine: <a href=\"https://stackblitz.com/edit/angular-fz99h8?file=app%2Fapp.module.ts\" rel=\"nofollow noreferrer\">stackblitz.com/edit/angular-fz99h8?file=app%2Fapp.module.ts</a>"}], "owner": {"reputation": 781, "user_id": 6218093, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh3.googleusercontent.com/-Zc6hQFiLAcw/AAAAAAAAAAI/AAAAAAAAAu0/xJRc3LEhrGM/photo.jpg?sz=128", "display_name": "ranjit redekar", "link": "https://stackoverflow.com/users/6218093/ranjit-redekar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 3150, "favorite_count": 1, "answer_count": 0, "score": 9, "last_activity_date": 1591422381, "creation_date": 1522852223, "last_edit_date": 1522852730, "question_id": 49653705, "link": "https://stackoverflow.com/questions/49653705/app-initializer-is-not-working-in-angular-5", "title": "APP_INITIALIZER is not working in angular 5", "body": "<p>I need to load configuration from service at the Angular initial level.\nSo, For demo I have created <strong>boot module</strong>, <strong>boot class</strong> and load APP_INITIALIZER from the Angular core into the boot module.</p>\n\n<p>Check the following file, I not able see the <strong>console.log(\"Init Function works\")</strong> as well as <strong>console.log(\"GET CONFIG WORKS\")</strong></p>\n\n<p>Please correct me if anything wrong.</p>\n\n<p>// Module file\n<strong>boot.modue.ts</strong></p>\n\n<pre><code>import { APP_INITIALIZER, NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { Boot, Config, Menu } from './../../core/classes';\nimport { MenusService } from './../services/';\n\nexport function init(_boot: Boot) {\n  console.log(\"Init Function works\");\n  return () =&gt; {\n    return _boot.getConfig();\n  };\n}\n\n\n@NgModule({\n  imports: [\n    CommonModule\n  ],\n  declarations: [],\n  providers: [Boot,\n    { provide: APP_INITIALIZER, \n      useFactory: init, \n      deps: [Boot], multi: true \n    }]\n})\n\nexport class BootModule {\n  constructor() { }\n}\n</code></pre>\n\n<p>// Class file\n<strong>boot.ts</strong></p>\n\n<pre><code>import 'rxjs/add/operator/toPromise';\n\nexport class Boot {\n    /**\n     * getConfig\n     */\n    public getConfig(): Promise&lt;any&gt; {\n        console.log(\"getConfig\");\n        return new Promise((resolve, reject) =&gt; {\n            setTimeout(() =&gt; {\n                console.log(\"GET CONFIG WORKS\");\n                resolve();\n            }, 3000);\n        });\n    }\n\n    /**\n     * initMenus\n     */\n    public initMenus() {\n\n    }\n}\n</code></pre>\n"}, {"tags": ["arrays", "angular", "typescript"], "answers": [{"tags": [], "owner": {"reputation": 2321, "user_id": 7610968, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/c2780545bb5d74b25c2b3b1c93dd8201?s=128&d=identicon&r=PG&f=1", "display_name": "Roland R&#225;cz", "link": "https://stackoverflow.com/users/7610968/roland-r%c3%a1cz"}, "is_accepted": true, "score": 2, "last_activity_date": 1522852264, "creation_date": 1522852264, "answer_id": 49653722, "question_id": 49653664, "link": "https://stackoverflow.com/questions/49653664/typescript-how-remove-last-item-from-array/49653722#49653722", "title": "Typescript: How remove last item from array", "body": "<p>For an elegant solution use <code>.slice(0, -1)</code> for the string:</p>\n\n<pre><code>let newString = \"one-,two-,three-,testing-\".slice(0, -1); // \"one-,two-,three-,testing\"\n</code></pre>\n\n<p>To get the new array, simply use <code>.split(',')</code>:</p>\n\n<pre><code>let newArray = newString.split(','); // [\"one-\", \"two-\", \"three-\", \"testing\"]\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 389, "user_id": 2970790, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/edceca6b0e09922ba9f57480b43646c8?s=128&d=identicon&r=PG&f=1", "display_name": "MattCorr", "link": "https://stackoverflow.com/users/2970790/mattcorr"}, "is_accepted": false, "score": 0, "last_activity_date": 1522852302, "creation_date": 1522852302, "answer_id": 49653737, "question_id": 49653664, "link": "https://stackoverflow.com/questions/49653664/typescript-how-remove-last-item-from-array/49653737#49653737", "title": "Typescript: How remove last item from array", "body": "<p>Do this: </p>\n\n<pre><code>var str = \"one-,two-,three-,testing-\";\nstr = str.substring(0, str.length - 1);\n</code></pre>\n\n<p>to take the last character off of your string. Then, to make it into a list: </p>\n\n<pre><code>var newList = str.split(\u201c,\u201d);\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 237, "user_id": 7978961, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-2xMkLhqbcH4/AAAAAAAAAAI/AAAAAAAAGMA/WThQtddZtYk/photo.jpg?sz=128", "display_name": "Sathish kumar Ramalingam", "link": "https://stackoverflow.com/users/7978961/sathish-kumar-ramalingam"}, "is_accepted": false, "score": 0, "last_activity_date": 1522853203, "creation_date": 1522853203, "answer_id": 49654048, "question_id": 49653664, "link": "https://stackoverflow.com/questions/49653664/typescript-how-remove-last-item-from-array/49654048#49654048", "title": "Typescript: How remove last item from array", "body": "<pre><code>const array = [\"one-\", \"two-\", \"three-\", \"testing-\"];\nlet DataStr = array.toString();\nlet OutputStr = DataStr.replace(\"-\", \"\");\nvar res = OutputStr.split(\",\");\nconsole.log(res);\n</code></pre>\n\n<p>try this</p>\n"}], "owner": {"reputation": 393, "user_id": 5588829, "user_type": "registered", "accept_rate": 42, "profile_image": "https://www.gravatar.com/avatar/313b849d1c65ed26a5012ddb050a1f40?s=128&d=identicon&r=PG&f=1", "display_name": "PAR", "link": "https://stackoverflow.com/users/5588829/par"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 287, "favorite_count": 0, "accepted_answer_id": 49653722, "answer_count": 3, "score": 1, "last_activity_date": 1522853203, "creation_date": 1522852103, "question_id": 49653664, "link": "https://stackoverflow.com/questions/49653664/typescript-how-remove-last-item-from-array", "title": "Typescript: How remove last item from array", "body": "<p>I have an array :</p>\n\n<pre><code>[\"one-\", \"two-\", \"three-\", \"testing-\"]\n</code></pre>\n\n<p>After converted into string</p>\n\n<pre><code>\"one-,two-,three-,testing-\"\n</code></pre>\n\n<p>How to remove last charecter hypen(-) after testing and how should i get new array.</p>\n\n<p>Accepted output</p>\n\n<pre><code>[\"one-\", \"two-\", \"three-\", \"testing\"]\n</code></pre>\n\n<p>Please help me.</p>\n"}, {"tags": ["javascript", "angular", "typescript", "frontend"], "comments": [{"owner": {"reputation": 94, "user_id": 8757460, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WYqzQ.png?s=128&g=1", "display_name": "lf303", "link": "https://stackoverflow.com/users/8757460/lf303"}, "edited": false, "score": 0, "creation_date": 1522851811, "post_id": 49653507, "comment_id": 86315604, "body": "You want to create components dynamically ? Why do you want your component selector to be name after a variables value ?"}, {"owner": {"reputation": 55, "user_id": 9597224, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2d8d6b3388c9b781497c2bd5b3bf5ba2?s=128&d=identicon&r=PG&f=1", "display_name": "Sanjaya", "link": "https://stackoverflow.com/users/9597224/sanjaya"}, "reply_to_user": {"reputation": 94, "user_id": 8757460, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WYqzQ.png?s=128&g=1", "display_name": "lf303", "link": "https://stackoverflow.com/users/8757460/lf303"}, "edited": false, "score": 0, "creation_date": 1522907769, "post_id": 49653507, "comment_id": 86339875, "body": "I have a lot of components attached in app-component.html, in which I have to put condition to show hide them. So, if it could possible to create selector tags using variable then I&#39;ll create them using a loop and use conditions as will."}, {"owner": {"reputation": 55, "user_id": 9597224, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2d8d6b3388c9b781497c2bd5b3bf5ba2?s=128&d=identicon&r=PG&f=1", "display_name": "Sanjaya", "link": "https://stackoverflow.com/users/9597224/sanjaya"}, "edited": false, "score": 0, "creation_date": 1522922035, "post_id": 49653507, "comment_id": 86348630, "body": "*ngIf is ok, but I need to name the selectors using dynamic values."}], "answers": [{"comments": [{"owner": {"reputation": 55, "user_id": 9597224, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2d8d6b3388c9b781497c2bd5b3bf5ba2?s=128&d=identicon&r=PG&f=1", "display_name": "Sanjaya", "link": "https://stackoverflow.com/users/9597224/sanjaya"}, "edited": false, "score": 0, "creation_date": 1522922931, "post_id": 49667171, "comment_id": 86349213, "body": "What you have explained will work but it&#39;s something different than my expectation. I cant use this as I have numbers of component to place. I need a simple solution to create the selector tags from a array of selector-name like below.  Array of Selectors in app.component.ts: [ &quot;app-header&quot;, &quot;app-banner&quot;, &quot;app-content&quot;, &quot;app-footer&quot;]  app.component.html should like: &lt;app-header&gt;&lt;/app-header&gt; &lt;app-banner&gt;&lt;/app-banner&gt; &lt;app-content&gt;&lt;/app-content&gt; &lt;app-footer&gt;&lt;/app-footer&gt;  I need to render the above html using the above array."}, {"owner": {"reputation": 94, "user_id": 8757460, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WYqzQ.png?s=128&g=1", "display_name": "lf303", "link": "https://stackoverflow.com/users/8757460/lf303"}, "reply_to_user": {"reputation": 55, "user_id": 9597224, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2d8d6b3388c9b781497c2bd5b3bf5ba2?s=128&d=identicon&r=PG&f=1", "display_name": "Sanjaya", "link": "https://stackoverflow.com/users/9597224/sanjaya"}, "edited": false, "score": 0, "creation_date": 1522924739, "post_id": 49667171, "comment_id": 86350526, "body": "I updated the stackblitz to show you how you can create the components you want.  Basically you should create an Array of component like this: <code>let componentArray = [HeaderComponent, BannerComponent, ...]; componentArray.forEach(component =&gt; createComponent(component)); </code> The createComponent method is almost the same function that was used, except it now has a parameter, being the component type that should be created and inserted in your ng-template"}, {"owner": {"reputation": 55, "user_id": 9597224, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2d8d6b3388c9b781497c2bd5b3bf5ba2?s=128&d=identicon&r=PG&f=1", "display_name": "Sanjaya", "link": "https://stackoverflow.com/users/9597224/sanjaya"}, "edited": false, "score": 0, "creation_date": 1522927991, "post_id": 49667171, "comment_id": 86352772, "body": "Ok, let me try with this."}], "tags": [], "owner": {"reputation": 94, "user_id": 8757460, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WYqzQ.png?s=128&g=1", "display_name": "lf303", "link": "https://stackoverflow.com/users/8757460/lf303"}, "is_accepted": true, "score": 1, "last_activity_date": 1522925373, "last_edit_date": 1522925373, "creation_date": 1522915460, "answer_id": 49667171, "question_id": 49653507, "link": "https://stackoverflow.com/questions/49653507/angular-create-selector-tag-app-component-using-variable-or-loop/49667171#49667171", "title": "Angular create Selector Tag &lt;app-component&gt; using variable or loop", "body": "<p>You can dynamically create your components within a ViewcontainerRef like this:</p>\n\n<p><a href=\"https://stackblitz.com/edit/angular-4asbmc\" rel=\"nofollow noreferrer\">https://stackblitz.com/edit/angular-4asbmc</a></p>\n\n<p>(Don't forget to add the components you want to dynamically inject in your dom in your app module's entryComponents)</p>\n\n<p>Once you are able to insert the components you shoud be able to manage which components have to be inserted into your with conditions.</p>\n\n<p><strong>Edit</strong></p>\n\n<p>You can iterate on an array of component that could look like this: </p>\n\n<pre><code>let componentArray = [HeaderComponent, BannerComponent, FooterComponent];\n</code></pre>\n\n<p>and then iterate over this array calling the method that inserts your components in your viewcontainer reference.</p>\n\n<pre><code>  createComponent(component) {\n    const factory = this.factoryResolver.resolveComponentFactory(component);\n    const componentRef = factory.create(yourViewContainerRef.parentInjector);\n    yourViewContainerRef.insert(componentRef.hostView);\n  }\n</code></pre>\n\n<p>Though it would be musch easier to just call your components from your app component html template, and have something like this in your template:</p>\n\n<pre><code>&lt;app-header *ngIf=\"yourConditions...\"&gt;&lt;/app-header&gt;\n&lt;app-banner *ngIf=\"otherConditions...\"&gt;&lt;/app-banner&gt;\n&lt;!-- and so on.... --&gt;\n</code></pre>\n"}], "owner": {"reputation": 55, "user_id": 9597224, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2d8d6b3388c9b781497c2bd5b3bf5ba2?s=128&d=identicon&r=PG&f=1", "display_name": "Sanjaya", "link": "https://stackoverflow.com/users/9597224/sanjaya"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1169, "favorite_count": 1, "accepted_answer_id": 49667171, "answer_count": 1, "score": 4, "last_activity_date": 1543897501, "creation_date": 1522851673, "last_edit_date": 1522891935, "question_id": 49653507, "link": "https://stackoverflow.com/questions/49653507/angular-create-selector-tag-app-component-using-variable-or-loop", "title": "Angular create Selector Tag &lt;app-component&gt; using variable or loop", "body": "<p>I need to make the Selector Tag of my app.component.html using a variable.</p>\n\n<p>Suppose variable name is: <code>componentVar:string</code></p>\n\n<p>I need my app.component.html:</p>\n\n<p><code>&lt;componentVar&gt;&lt;/componentVar&gt;</code> or <code>&lt;app-componentVar&gt;&lt;/app-componentVar&gt;</code></p>\n"}, {"tags": ["angular", "typescript", "angular-material"], "answers": [{"comments": [{"owner": {"reputation": 3095, "user_id": 3545438, "user_type": "registered", "accept_rate": 49, "profile_image": "https://www.gravatar.com/avatar/a7e318fc7a4e748e9be04ea7b03341e7?s=128&d=identicon&r=PG", "display_name": "Matthew Flynn", "link": "https://stackoverflow.com/users/3545438/matthew-flynn"}, "edited": false, "score": 0, "creation_date": 1522936712, "post_id": 49670236, "comment_id": 86359183, "body": "This a absolutely perfect, thanks so much for the code. As an angular newbie I wasn&#39;t aware of pipes."}, {"owner": {"user_type": "does_not_exist", "display_name": "user8750012"}, "edited": false, "score": 0, "creation_date": 1582898922, "post_id": 49670236, "comment_id": 106945942, "body": "I am getting errors like cannot read property &#39;replace&#39; of undefined. Can you help me with it?"}], "tags": [], "owner": {"reputation": 11251, "user_id": 9558399, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/RFQOg.jpg?s=128&g=1", "display_name": "bugs", "link": "https://stackoverflow.com/users/9558399/bugs"}, "is_accepted": true, "score": 32, "last_activity_date": 1585215930, "last_edit_date": 1585215930, "creation_date": 1522924519, "answer_id": 49670236, "question_id": 49653410, "link": "https://stackoverflow.com/questions/49653410/mat-autocomplete-filter-to-hightlight-partial-string-matches/49670236#49670236", "title": "mat-autocomplete filter to hightlight partial string matches", "body": "<p>You can use a custom pipe to highlight the partial match whenever the user types in something in the filter.</p>\n\n<pre><code>@Pipe({ name: 'highlight' })\nexport class HighlightPipe implements PipeTransform {\n  transform(text: string, search): string {\n    const pattern = search\n      .replace(/[\\-\\[\\]\\/\\{\\}\\(\\)\\*\\+\\?\\.\\\\\\^\\$\\|]/g, \"\\\\$&amp;\")\n      .split(' ')\n      .filter(t =&gt; t.length &gt; 0)\n      .join('|');\n    const regex = new RegExp(pattern, 'gi');\n\n    return search ? text.replace(regex, match =&gt; `&lt;b&gt;${match}&lt;/b&gt;`) : text;\n  }\n}\n</code></pre>\n\n<hr>\n\n<p><a href=\"https://stackblitz.com/edit/angular-nue8pb\" rel=\"noreferrer\">Demo</a></p>\n"}], "owner": {"reputation": 3095, "user_id": 3545438, "user_type": "registered", "accept_rate": 49, "profile_image": "https://www.gravatar.com/avatar/a7e318fc7a4e748e9be04ea7b03341e7?s=128&d=identicon&r=PG", "display_name": "Matthew Flynn", "link": "https://stackoverflow.com/users/3545438/matthew-flynn"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 8124, "favorite_count": 5, "protected_date": 1583578157, "accepted_answer_id": 49670236, "answer_count": 1, "score": 17, "last_activity_date": 1585215930, "creation_date": 1522851403, "last_edit_date": 1537776353, "question_id": 49653410, "link": "https://stackoverflow.com/questions/49653410/mat-autocomplete-filter-to-hightlight-partial-string-matches", "title": "mat-autocomplete filter to hightlight partial string matches", "body": "<p>I am trying to achieve a filter with <code>mat-autocomplete</code> that is similar to the following example;</p>\n\n<p><a href=\"https://www.checkatrade.com/\" rel=\"noreferrer\">trade input example</a></p>\n\n<p>So I am trying to achieve the functionality so that when a user begins to type in the trade they are looking for filters based on a partial string match anywhere in the string and highlight this in the option.</p>\n\n<p><a href=\"https://i.stack.imgur.com/5LDEK.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/5LDEK.png\" alt=\"cheackatrade screenshot\"></a></p>\n\n<p>I current have in my .html</p>\n\n<pre><code>&lt;mat-form-field class=\"form-group special-input\"&gt;\n            &lt;input type=\"text\" placeholder=\"Select a trade\" aria-label=\"Select a trade\" matInput [formControl]=\"categoriesCtrl\" [matAutocomplete]=\"auto\"&gt;\n            &lt;mat-autocomplete #auto=\"matAutocomplete\" md-menu-class=\"autocomplete\"&gt;\n                &lt;mat-option *ngFor=\"let option of filteredOptions | async\" [value]=\"option.name\"&gt;\n                    {{ option.name }} \n                &lt;/mat-option&gt;\n            &lt;/mat-autocomplete&gt;\n        &lt;/mat-form-field&gt;\n</code></pre>\n\n<p>where my .ts is</p>\n\n<pre><code>categoriesCtrl: FormControl;\n\nfilteredOptions: Observable&lt;ICategory[]&gt;;\noptions: ICategory[];\n\ncategorySubscription: Subscription;\n\nconstructor(fb: FormBuilder, private router: Router, private service: SearchService, private http: Http) {\n\n    this.categoriesCtrl = new FormControl();\n}\n\nngOnInit() {\n\nthis.categorySubscription = this.service.getCategories().subscribe((categories: ICategory[]) =&gt; {\n\n    this.options = categories;\n\n    this.filteredOptions = this.categoriesCtrl.valueChanges\n        .pipe(\n        startWith(''),\n        map(options =&gt; options ? this.filter(options) : this.options.slice())\n        );\n});    \n}\n\nngOnDestroy() {\n    this.categorySubscription.unsubscribe();\n}\n\nfilter(val: string): ICategory[] {\n\n    return this.options.filter(x =&gt;\n        x.name.toUpperCase().indexOf(val.toUpperCase()) !== -1);\n}\n</code></pre>\n\n<p><code>ICategory</code> is a basic interface. </p>\n\n<pre><code>export interface ICategory {\n    value: number;\n    name: string;  \n}\n</code></pre>\n\n<p>And the service getCategories() just returns all the categories from an api.</p>\n\n<p>The code is currently working and built per this example;</p>\n\n<p><a href=\"https://material.angular.io/components/autocomplete/examples\" rel=\"noreferrer\">Angular Material mat-autocomplete example</a></p>\n\n<p>I would like to add the effect of highlighting the term in the option string? Is this possible at all?</p>\n"}, {"tags": ["reactjs", "typescript", "material-ui"], "comments": [{"owner": {"reputation": 4933, "user_id": 6338762, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/52b2972a524d0ae0dbe0ce4cbeb57c00?s=128&d=identicon&r=PG&f=1", "display_name": "Kyle Richardson", "link": "https://stackoverflow.com/users/6338762/kyle-richardson"}, "edited": false, "score": 0, "creation_date": 1522851286, "post_id": 49653134, "comment_id": 86315136, "body": "Which version of TypeScript are you using?"}, {"owner": {"reputation": 159, "user_id": 4831549, "user_type": "registered", "accept_rate": 60, "profile_image": "https://graph.facebook.com/1099548170062123/picture?type=large", "display_name": "Bombel", "link": "https://stackoverflow.com/users/4831549/bombel"}, "reply_to_user": {"reputation": 4933, "user_id": 6338762, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/52b2972a524d0ae0dbe0ce4cbeb57c00?s=128&d=identicon&r=PG&f=1", "display_name": "Kyle Richardson", "link": "https://stackoverflow.com/users/6338762/kyle-richardson"}, "edited": false, "score": 0, "creation_date": 1522854216, "post_id": 49653134, "comment_id": 86317548, "body": "@KyleRichardson I&#39;m using 2.8.1 version of the TypeScript"}, {"owner": {"reputation": 4933, "user_id": 6338762, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/52b2972a524d0ae0dbe0ce4cbeb57c00?s=128&d=identicon&r=PG&f=1", "display_name": "Kyle Richardson", "link": "https://stackoverflow.com/users/6338762/kyle-richardson"}, "edited": false, "score": 0, "creation_date": 1522857596, "post_id": 49653134, "comment_id": 86320019, "body": "Looks like it has to do with how tsc types JSX elements. This may help you: <a href=\"https://github.com/Microsoft/TypeScript/issues/15449\" rel=\"nofollow noreferrer\">github.com/Microsoft/TypeScript/issues/15449</a>"}, {"owner": {"reputation": 159, "user_id": 4831549, "user_type": "registered", "accept_rate": 60, "profile_image": "https://graph.facebook.com/1099548170062123/picture?type=large", "display_name": "Bombel", "link": "https://stackoverflow.com/users/4831549/bombel"}, "reply_to_user": {"reputation": 4933, "user_id": 6338762, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/52b2972a524d0ae0dbe0ce4cbeb57c00?s=128&d=identicon&r=PG&f=1", "display_name": "Kyle Richardson", "link": "https://stackoverflow.com/users/6338762/kyle-richardson"}, "edited": false, "score": 0, "creation_date": 1522907478, "post_id": 49653134, "comment_id": 86339722, "body": "I managed to fix that. I edited my post."}], "owner": {"reputation": 159, "user_id": 4831549, "user_type": "registered", "accept_rate": 60, "profile_image": "https://graph.facebook.com/1099548170062123/picture?type=large", "display_name": "Bombel", "link": "https://stackoverflow.com/users/4831549/bombel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 4600, "favorite_count": 0, "answer_count": 0, "score": 7, "last_activity_date": 1614468902, "creation_date": 1522850663, "last_edit_date": 1522907458, "question_id": 49653134, "link": "https://stackoverflow.com/questions/49653134/property-does-not-exist-on-type-when-using-material-ui-next", "title": "Property does not exist on type when using Material-ui-next", "body": "<p>When trying to render a TextField from <a href=\"https://material-ui-next.com/demos/text-fields/\" rel=\"noreferrer\">material-ui-next</a> website using React 16.3 and TypeScript I'm getting the following error:</p>\n\n<pre><code>Property 'label' does not exist on type 'IntrinsicAttributes &amp; IntrinsicClassAttributes&lt;TextField&gt; &amp; Readonly&lt;{ children?: ReactNode; }&gt; \n</code></pre>\n\n<p>My component's tests are passing but it does not build.</p>\n\n<pre><code>&lt;TextField\n      id=\"name\"\n      label=\"Name\"\n      className={classes.textField}\n      value={this.state.name}\n      onChange={this.handleChange('name')}\n      margin=\"normal\"\n    /&gt;\n</code></pre>\n\n<p><strong>EDIT: 5.04.2018</strong></p>\n\n<p>I found the cause of this error. I had a package <strong>@types/material-ui</strong> installed which for some reason had a higher priority by TypeScript than type definitions inside the actual material-ui package. \nI removed it and everything works just fine.</p>\n"}, {"tags": ["angular", "typescript", "jasmine", "ionic3", "karma-jasmine"], "owner": {"reputation": 21, "user_id": 9597051, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-Kp--zX3Y0XY/AAAAAAAAAAI/AAAAAAAAAE4/icJ-zFhLWEc/photo.jpg?sz=128", "display_name": "Jacqueline Cygelman", "link": "https://stackoverflow.com/users/9597051/jacqueline-cygelman"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 683, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1522850385, "creation_date": 1522850385, "question_id": 49653012, "link": "https://stackoverflow.com/questions/49653012/karma-jasmine-for-ionic-mismatch-between-the-typescript-compiler-options-and-th", "title": "Karma-Jasmine for Ionic: mismatch between the Typescript compiler options and the Karma config", "body": "<p>I'm setting up Karma-Jasmine tests for a native Ionic problem.  We are using Ionic3 and Angular5.  When running test test (karma start  ) I am getting the following error:</p>\n\n<blockquote>\n  <p>04 04 2018 09:41:06.152:ERROR [karma]: Error: No source found for /Users/jackie.cygelman/WS/CRM-Mobile/src/app/app.component.spec.ts!\n  Is there a mismatch between the Typescript compiler options and the Karma config?</p>\n</blockquote>\n\n<p>Karma is correctly finding the spec, but it appears that the typescript version is not compiling correctly?  I have seen conflicting answers online, particularly regarding what should go in karmaTypescriptConfig within karma.conf.js .  Any suggestions regarding different compiling options to get this working would be greatly appreciated!</p>\n\n<p>tsconfig.js : </p>\n\n<pre><code>{\n  \"compilerOptions\": {\n\"allowSyntheticDefaultImports\": true,\n\"baseUrl\": \".\",\n\"declaration\": false,\n\"emitDecoratorMetadata\": true,\n\"experimentalDecorators\": true,\n\"lib\": [\n  \"dom\",\n  \"es6\"\n],\n\"module\": \"es2015\",\n\"moduleResolution\": \"node\",\n\"sourceMap\": true,\n\"target\": \"es5\"\n   },\n \"include\": [\n    \"src/**/*.ts\"\n  ],\n  \"exclude\": [\n\"node_modules\",\n\"src/**/*.spec.ts\",\n\"src/**/__tests__/*.ts\"\n  ],\n  \"compileOnSave\": false,\n  \"atom\": {\n\"rewriteTsconfig\": false\n  }\n }\n</code></pre>\n\n<p>karma.conf.js:</p>\n\n<pre><code>var webpackConfig = require('./webpack.test.js');\nrequire('karma-jasmine-html-reporter');\n\n\nmodule.exports = function(config) {\nconfig.set( {\nbasePath: '../',\n\nframeworks: ['jasmine','karma-typescript'],\n\nplugins: [\n    'karma-webpack', 'karma-coverage', 'karma-jasmine', 'karma-jasmine-html-reporter', 'karma-typescript'\n    ],\n\nfiles: [\n  {\n    pattern: './test-config/karma-test-shim.js',\n    watched: true\n  },\n  {\n    pattern: './src/**/*.ts',\n  },\n  {\n    pattern: './src/assets/**/*',\n    watched: false,\n    included: false,\n    served: true,\n    nocache: false\n  }\n],\n\nproxies: {\n  '/assets/': '/base/src/assets/'\n},\n\npreprocessors: {\n  './test-config/karma-test-shim.js': ['webpack'],\n  \"**/*.ts\": [\"karma-typescript\"]\n},\n\n   webpack: webpackConfig,\n\nwebpackMiddleware: {\n  stats: 'errors-only'\n},\n\nwebpackServer: {\n  noInfo: true\n},\n\nresolve: {\n  extensions: ['.js','.ts']\n},\n\nbrowserConsoleLogOptions: {\n  level: 'log',\n  format: '%b %T: %m',\n  terminal: true\n},\n\ncoverageIstanbulReporter: {\n  reports: [ 'html', 'lcovonly' ],\n  fixWebpackSourcePaths: true\n},\n\nkarmaTypescriptConfig: {\n  bundlerOptions: {\n      entrypoints:  /\\.spec\\.ts$/,\n      transforms: [\n          require(\"karma-typescript-angular2-transform\"),\n          require(\"karma-typescript-es6-transform\")()\n      ]\n  },\n  compilerOptions: {\n    \"lib\": [\n      \"dom\", \"es6\"\n    ]\n  },\n  tsconfig: \"./tsconfig.json\"\n  },\n\nreporters: config.coverage ? ['kjhtml', 'dots', 'coverage-istanbul'] : ['kjhtml','dots'],\nport: 9876,\ncolors: true,\nlogLevel: config.LOG_INFO,\nautoWatch: true,\nsingleRun: false\n   });\n\n};\n</code></pre>\n\n<p>karma-test-shim.js :</p>\n\n<pre><code>Error.stackTraceLimit = Infinity;\n\n require('core-js/es6');\n require('core-js/es7/reflect');\n\n require('zone.js/dist/zone');\n require('zone.js/dist/long-stack-trace-zone');\n require('zone.js/dist/proxy');\n require('zone.js/dist/sync-test');\n require('zone.js/dist/jasmine-patch');\n require('zone.js/dist/async-test');\n require('zone.js/dist/fake-async-test');\n\n var appContext = require.context('../src', true, /\\.spec\\.ts/);\n\n appContext.keys().forEach(appContext);\n\n var testing = require('@angular/core/testing');\n\n var browser = require('@angular/platform-browser-dynamic/testing');\n\n testing.TestBed.initTestEnvironment(\n browser.BrowserDynamicTestingModule,\n browser.platformBrowserDynamicTesting());\n</code></pre>\n"}, {"tags": ["angular", "typescript", "django-rest-framework", "angular-services", "angular4-httpclient"], "comments": [{"owner": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 1, "creation_date": 1522850410, "post_id": 49652913, "comment_id": 86314452, "body": "<a href=\"https://angular.io/guide/http#reading-the-full-response\" rel=\"nofollow noreferrer\">angular.io/guide/http#reading-the-full-response</a>"}, {"owner": {"reputation": 383, "user_id": 8337391, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-4AvKTiRK-sg/AAAAAAAAAAI/AAAAAAAAApE/UjC1MAlqOwk/photo.jpg?sz=128", "display_name": "iPaul", "link": "https://stackoverflow.com/users/8337391/ipaul"}, "reply_to_user": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 0, "creation_date": 1522852598, "post_id": 49652913, "comment_id": 86316267, "body": "@jonrsharpe Thanks."}], "answers": [{"comments": [{"owner": {"reputation": 383, "user_id": 8337391, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-4AvKTiRK-sg/AAAAAAAAAAI/AAAAAAAAApE/UjC1MAlqOwk/photo.jpg?sz=128", "display_name": "iPaul", "link": "https://stackoverflow.com/users/8337391/ipaul"}, "edited": false, "score": 0, "creation_date": 1522852491, "post_id": 49653374, "comment_id": 86316175, "body": "Thanks @Rhino for the help &amp; the link."}], "tags": [], "owner": {"reputation": 46, "user_id": 2596784, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6144b1d8604ec9f33f65b35b0c581b01?s=128&d=identicon&r=PG", "display_name": "Rhino", "link": "https://stackoverflow.com/users/2596784/rhino"}, "is_accepted": true, "score": 2, "last_activity_date": 1522851294, "creation_date": 1522851294, "answer_id": 49653374, "question_id": 49652913, "link": "https://stackoverflow.com/questions/49652913/unable-to-get-the-http-response-code-from-angular-service/49653374#49653374", "title": "Unable to get the HTTP Response Code from Angular Service", "body": "<p>You should set the observe value:</p>\n\n<p>So in your service method:</p>\n\n<pre><code>getResponse(pParams){\n  return this._httpConn.get(_URL, {params: pParams, observe: 'response'});\n}\n</code></pre>\n\n<p>And in your component:</p>\n\n<pre><code>this._myService.getResponse(vSearchParam).subscribe(\n  (response: HttpResponse&lt;any&gt;) =&gt; {\n    console.log(response.status);   \n  }\n);\n</code></pre>\n\n<p>The response will be an <a href=\"https://angular.io/api/common/http/HttpResponse\" rel=\"nofollow noreferrer\">HttpResponse</a> object.\nYou can find a complete guide <a href=\"https://angular.io/guide/http#reading-the-full-response\" rel=\"nofollow noreferrer\">reading-the-full-response</a></p>\n"}], "owner": {"reputation": 383, "user_id": 8337391, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-4AvKTiRK-sg/AAAAAAAAAAI/AAAAAAAAApE/UjC1MAlqOwk/photo.jpg?sz=128", "display_name": "iPaul", "link": "https://stackoverflow.com/users/8337391/ipaul"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2170, "favorite_count": 0, "accepted_answer_id": 49653374, "answer_count": 1, "score": -1, "last_activity_date": 1522851294, "creation_date": 1522850113, "question_id": 49652913, "link": "https://stackoverflow.com/questions/49652913/unable-to-get-the-http-response-code-from-angular-service", "title": "Unable to get the HTTP Response Code from Angular Service", "body": "<p>I am using Angular 4 as frontend &amp; Django REST Framework (DRF) as backend in my project. From the DRF end I am returning both the <em>Response JSON</em> &amp; <em>HTTP Response Code</em> in form of a response tuple <code>Response(data=vJSON, status=vStatus)</code>, from the view functions such as <code>GET</code>/<code>PUT</code>/<code>POST</code> etc.</p>\n\n<p>The problem is, from Angular end I am unable to extract the HTTP Response Code &amp; the Response JSON <strong>separately</strong>. This I need because the HTTP Response Code can help me to display error messages in UI end if the HTTP Code is not 200 or 201, that I am unable to do.</p>\n\n<p>I am getting only the JSON part from the response returned by the service function to the component function. So how to get the HTTP Code along with the Response JSON separately?</p>\n\n<p>Below are the codes:-</p>\n\n<p><strong>views.py</strong></p>\n\n<pre><code>from rest_framework.response import Response\nfrom rest_framework import status\n..\n..\ndef get(self, request, format = None):       \n   vJSON = {}\n   try:\n      vHTTPStatus = status.HTTP_200_OK\n      # All logics are here\n      ..\n      ..\n   except Exception as e:\n      vHTTPStatus = status.HTTP_400_BAD_REQUEST\n   finally:          \n      return Response(data=vJSON, status=vHTTPStatus)\n</code></pre>\n\n<p><strong>app.service.ts</strong></p>\n\n<pre><code>import {Observables} from 'rzjs/Observable';\nimport {HttpClient, HttpParams} from '@angular/common/http';\n\nexport class AppService{\n  private _URL: string;\n\n  constructor(private _httpConn: HttpClient){\n    this._URL = 'http://xx.xx.xx.xxx/8000/myapi/';\n  }\n\n  getResponse(pParams){\n    return this._httpConn.get(_URL, {params: pParams});\n  }\n}\n</code></pre>\n\n<p><strong>app.component.ts</strong> [ In comment section below inside the code I have mentioned my requirement ]</p>\n\n<pre><code>import {AppService} from ./app.service;\nimport {HttpParams} from '@angular/common/http';\n\nexport class AppComponent {\n\n  textAreaValue: string;\n\n  constructor(private _myService: AppService){\n    this.textAreaValue = \"\";\n  }\n\n  fetchData(): void{\n    let vSearchParam = new HttpParams();\n    vSearchParam = vSearchParam.append('id', '1000001');\n\n    this._myService.getResponse(vSearchParam).subscribe(\n      response =&gt; {\n        ..\n        /* Here are the logics how to use the response JSON */\n        console.log(response);\n        ..\n        ..\n        /* This is what I want \n           if (response.status != 200) {\n              this.displayError(\"There is a connection issue!\");\n              this.textAreaValue = \"Unable to show records!\";\n           }\n           else{\n              this.textAreaValue = response.data['value'];\n           }\n        */            \n      }\n    );\n  }\n}\n</code></pre>\n"}, {"tags": ["html", "angular", "typescript", "angular5"], "answers": [{"comments": [{"owner": {"reputation": 107, "user_id": 7562631, "user_type": "registered", "profile_image": "https://graph.facebook.com/253674428393010/picture?type=large", "display_name": "Luciano Trez", "link": "https://stackoverflow.com/users/7562631/luciano-trez"}, "edited": false, "score": 1, "creation_date": 1522854338, "post_id": 49652689, "comment_id": 86317641, "body": "Yes, my .ts was wrong, setting to utf-8 do the trick. Thanks."}], "tags": [], "owner": {"reputation": 2587, "user_id": 8038345, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-icRMJ-ft0qg/AAAAAAAAAAI/AAAAAAAAABQ/WCFUJf0i-K0/photo.jpg?sz=128", "display_name": "Gustavo Lopes", "link": "https://stackoverflow.com/users/8038345/gustavo-lopes"}, "is_accepted": true, "score": 3, "last_activity_date": 1522849575, "creation_date": 1522849575, "answer_id": 49652689, "question_id": 49652573, "link": "https://stackoverflow.com/questions/49652573/angular-5-set-document-title-with-html-escaped-entities-characters/49652689#49652689", "title": "Angular 5 set document title with html escaped (entities) characters", "body": "<p>You have to add a charset tag in your HTML file:</p>\n\n<pre><code>&lt;meta charset=\"utf-8\"&gt;\n</code></pre>\n\n<p>Also, your .ts files should be encoded in UTF-8 as well.</p>\n\n<p><a href=\"https://stackoverflow.com/questions/40504558/angular-cli-angular2-non-standard-chars-only-load-correctly-in-index-html-not\">Angular-CLI/Angular2: Non-standard chars only load correctly in index.html, not in components via ng serve</a></p>\n\n<p><a href=\"https://stackoverflow.com/questions/39436890/angular-template-view-with-utf-8-chars-doesnt-work\">Angular template view with utf-8 chars doesn&#39;t work</a></p>\n"}], "owner": {"reputation": 107, "user_id": 7562631, "user_type": "registered", "profile_image": "https://graph.facebook.com/253674428393010/picture?type=large", "display_name": "Luciano Trez", "link": "https://stackoverflow.com/users/7562631/luciano-trez"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 705, "favorite_count": 0, "accepted_answer_id": 49652689, "answer_count": 1, "score": 2, "last_activity_date": 1522849575, "creation_date": 1522849291, "question_id": 49652573, "link": "https://stackoverflow.com/questions/49652573/angular-5-set-document-title-with-html-escaped-entities-characters", "title": "Angular 5 set document title with html escaped (entities) characters", "body": "<p>Seems to be simple, but I can't find the easy solution.\nI'm using Title service to put title at document. This is working fine, see the documentation here:\n<a href=\"https://angular.io/guide/set-document-title\" rel=\"nofollow noreferrer\">https://angular.io/guide/set-document-title</a></p>\n\n<p>My problem is with the especial characters. In my code the title is set by routing service, but my pages titles have special characters. Take the example: page title \"In\u00edcio\", the \u00ed character do not format properly.</p>\n\n<p>There's some function or service to do this in Angular?</p>\n\n<p>My code, the problem is in setTitle:</p>\n\n<pre><code>AssinarEventosRoute(): any {\n        this.router.events\n            .filter((event) =&gt; event instanceof NavigationEnd)\n            .map(() =&gt; this.activatedRoute)\n            .map((route) =&gt; {\n                while (route.firstChild) route = route.firstChild;\n                return route;\n            })\n            .filter((route) =&gt; route.outlet === 'primary')\n            .mergeMap((route) =&gt; route.data)\n            .subscribe((event) =&gt; this.titleService.setTitle(`${event['title']} | Gerencial ISP 2`));\n    }\n</code></pre>\n"}, {"tags": ["typescript", "drop-down-menu", "angular5"], "comments": [{"owner": {"reputation": 2587, "user_id": 8038345, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-icRMJ-ft0qg/AAAAAAAAAAI/AAAAAAAAABQ/WCFUJf0i-K0/photo.jpg?sz=128", "display_name": "Gustavo Lopes", "link": "https://stackoverflow.com/users/8038345/gustavo-lopes"}, "edited": false, "score": 0, "creation_date": 1522849865, "post_id": 49652233, "comment_id": 86313978, "body": "Please, provide your source code so we can understand what you have done already. See how to do it here: <a href=\"https://stackoverflow.com/help/mcve\">stackoverflow.com/help/mcve</a>"}, {"owner": {"reputation": 57, "user_id": 9011470, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XWgpq.jpg?s=128&g=1", "display_name": "Jeizi", "link": "https://stackoverflow.com/users/9011470/jeizi"}, "reply_to_user": {"reputation": 2587, "user_id": 8038345, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-icRMJ-ft0qg/AAAAAAAAAAI/AAAAAAAAABQ/WCFUJf0i-K0/photo.jpg?sz=128", "display_name": "Gustavo Lopes", "link": "https://stackoverflow.com/users/8038345/gustavo-lopes"}, "edited": false, "score": 0, "creation_date": 1522875450, "post_id": 49652233, "comment_id": 86330143, "body": "yeah sorry here is my  source code :)"}], "owner": {"reputation": 57, "user_id": 9011470, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XWgpq.jpg?s=128&g=1", "display_name": "Jeizi", "link": "https://stackoverflow.com/users/9011470/jeizi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 36, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1522875413, "creation_date": 1522848312, "last_edit_date": 1522875413, "question_id": 49652233, "link": "https://stackoverflow.com/questions/49652233/call-different-services-in-one-submit-button-with-angular5", "title": "Call different services in one submit button with angular5", "body": "<p>I'm creating a form in which I want to make a call of 3 services on submit in angular5 depending on selected values in the dropdown form menu.</p>\n\n<p>I have 3 options in my dropdown list, if the user chooses one value from any list and clicks on the submit button, it will display the results that correspond to the selected value. </p>\n\n<p>I have only one submit button in the form, in which I am currently calling one service that displays the results list(s). But suppose I want to add the other two services conditionally?</p>\n\n<p>Can anybody help me on this?</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>        findUsersByName(type : string): Observable&lt;any[]&gt; {\r\n        const names = this._userUrl;\r\n        const headers = new Headers();\r\n        headers.append('Content-Type', 'application/json');\r\n        headers.append('Access-Control-Allow-Headers', 'Content-Type, Accept');\r\n        headers.append('Cache-control', 'no-store');\r\n        headers.append('Expires', '0');\r\n        headers.append('Pragma', 'no-cache');\r\n        return this.http.get(names, { headers })\r\n            .map((res: Response) =&gt;\r\n                res.json());\r\n    }</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>    findAll(): Observable&lt;any[]&gt; {\r\n        const userUrl = this._userUrl;\r\n        const headers = new Headers();\r\n        headers.append('Content-Type', 'application/json');\r\n        headers.append('Access-Control-Allow-Headers', 'Content-Type, Accept');\r\n        headers.append('Cache-control', 'no-store');\r\n        headers.append('Expires', '0');\r\n        headers.append('Pragma', 'no-cache');\r\n        return this.http.get(userUrl, { headers })\r\n            .map((res: Response) =&gt;\r\n                res.json());\r\n    }</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>  onSubmit(searchFormValue, formModel): void {\r\n    if (this.isValid(searchFormValue)) {\r\n      if (searchFormValue === searchFormValue.SelectedUser) {\r\n      }\r\n      let user = {\r\n        name: searchFormValue.selectedUseryName,\r\n        code: searchFormValue.selectedUserCode,\r\n        role: searchFormValue.selectedUserRole\r\n      }\r\n      this.onSearch.emit(user);\r\n      this.errorMessage = '';\r\n    }\r\n    this.searchForm.patchValue({\r\n      'selectedUserName' : formModel.name,\r\n      'selectedUserCode' : formModel.code,\r\n      'selectedUserRole' : formModel.role\r\n\r\n    })\r\n  }</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>      &lt;form [formGroup]=\"searchForm\" (ngSubmit)=\"onSubmit(searchForm.value)\"&gt;\r\n        &lt;div class=\"row\"&gt;\r\n          &lt;div class=\"col-xs-2\"&gt;\r\n            &lt;p-dropdown [options]=\"users\" (onChange)=\"onNameChange($event.value)\" filter=\"filter\" name =\"name\" placeholder=\"name\"\r\n              [style]=\"{'width':'100%'}\" [formControl]=\"searchForm.controls['selectedName']\"&gt;\r\n            &lt;/p-dropdown&gt;\r\n          &lt;/div&gt;\r\n          &lt;div class=\"col-xs-2\" id=\"type-filter-search\"&gt;\r\n            &lt;p-dropdown [options]=\"users\" filter=\"filter\" (onChange)=\"onRoleChange($event.value)\" name =\"role\" placeholder=\"role\"\r\n              [style]=\"{'width':'100%'}\" [formControl]=\"searchForm.controls['selectedRole']\"&gt;\r\n\r\n            &lt;/p-dropdown&gt;\r\n          &lt;/div&gt;\r\n          &lt;div class=\"col-xs-2\"&gt;\r\n            &lt;p-dropdown [options]=\"users\" filter=\"filter\" (onChange)=\"onCodeChange($event.value)\" name =\"code\"  placeholder=\"code\"\r\n              [style]=\"{'width':'100%'}\" [formControl]=\"searchForm.controls['selectedCode']\"&gt;\r\n            &lt;/p-dropdown&gt;\r\n          &lt;/div&gt;\r\n        &lt;/div&gt; &lt;br&gt;\r\n        &lt;div class=\"row\"&gt;\r\n          &lt;div class=\"col-xs-12\"&gt;\r\n            &lt;button type=\"submit\" class=\"btn btn-primary pull-right\" id=\"submit-button-filter-search\"&gt;&lt;span class=\"glyphicon glyphicon-search\"&gt;&lt;/span&gt;Search &lt;/button&gt;\r\n          &lt;/div&gt;\r\n        &lt;/div&gt;\r\n      &lt;/form&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": ["javascript", "jquery", "typescript", "datepicker"], "comments": [{"owner": {"reputation": 2330, "user_id": 801448, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ka1C0.png?s=128&g=1", "display_name": "Supun Praneeth", "link": "https://stackoverflow.com/users/801448/supun-praneeth"}, "edited": false, "score": 0, "creation_date": 1522848687, "post_id": 49651349, "comment_id": 86313037, "body": "can you give html code?"}, {"owner": {"reputation": 421, "user_id": 9434120, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/7ca3b1f5217c4b06b142ef05c0758fb0?s=128&d=identicon&r=PG&f=1", "display_name": "Balance", "link": "https://stackoverflow.com/users/9434120/balance"}, "reply_to_user": {"reputation": 2330, "user_id": 801448, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ka1C0.png?s=128&g=1", "display_name": "Supun Praneeth", "link": "https://stackoverflow.com/users/801448/supun-praneeth"}, "edited": false, "score": 0, "creation_date": 1522849257, "post_id": 49651349, "comment_id": 86313480, "body": "Update my post. Check it@SupunPraneeth"}, {"owner": {"reputation": 2330, "user_id": 801448, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ka1C0.png?s=128&g=1", "display_name": "Supun Praneeth", "link": "https://stackoverflow.com/users/801448/supun-praneeth"}, "edited": false, "score": 0, "creation_date": 1522849392, "post_id": 49651349, "comment_id": 86313603, "body": "you have to give me the generated html, not with the jsp code"}, {"owner": {"reputation": 421, "user_id": 9434120, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/7ca3b1f5217c4b06b142ef05c0758fb0?s=128&d=identicon&r=PG&f=1", "display_name": "Balance", "link": "https://stackoverflow.com/users/9434120/balance"}, "reply_to_user": {"reputation": 2330, "user_id": 801448, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ka1C0.png?s=128&g=1", "display_name": "Supun Praneeth", "link": "https://stackoverflow.com/users/801448/supun-praneeth"}, "edited": false, "score": 0, "creation_date": 1522849541, "post_id": 49651349, "comment_id": 86313715, "body": "Done, check it now@SupunPraneeth"}, {"owner": {"reputation": 2330, "user_id": 801448, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ka1C0.png?s=128&g=1", "display_name": "Supun Praneeth", "link": "https://stackoverflow.com/users/801448/supun-praneeth"}, "edited": false, "score": 0, "creation_date": 1522850474, "post_id": 49651349, "comment_id": 86314515, "body": "can I confirm this: if change first datepicker data you want that select date as  second datepicker mindate right ?"}, {"owner": {"reputation": 421, "user_id": 9434120, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/7ca3b1f5217c4b06b142ef05c0758fb0?s=128&d=identicon&r=PG&f=1", "display_name": "Balance", "link": "https://stackoverflow.com/users/9434120/balance"}, "reply_to_user": {"reputation": 2330, "user_id": 801448, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ka1C0.png?s=128&g=1", "display_name": "Supun Praneeth", "link": "https://stackoverflow.com/users/801448/supun-praneeth"}, "edited": false, "score": 0, "creation_date": 1522850546, "post_id": 49651349, "comment_id": 86314570, "body": "yes, you&#39;re right@SupunPraneeth"}, {"owner": {"reputation": 421, "user_id": 9434120, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/7ca3b1f5217c4b06b142ef05c0758fb0?s=128&d=identicon&r=PG&f=1", "display_name": "Balance", "link": "https://stackoverflow.com/users/9434120/balance"}, "reply_to_user": {"reputation": 2330, "user_id": 801448, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ka1C0.png?s=128&g=1", "display_name": "Supun Praneeth", "link": "https://stackoverflow.com/users/801448/supun-praneeth"}, "edited": false, "score": 0, "creation_date": 1522850561, "post_id": 49651349, "comment_id": 86314591, "body": "Let us <a href=\"https://chat.stackoverflow.com/rooms/168226/discussion-between-balance-and-supun-praneeth\">continue this discussion in chat</a>."}, {"owner": {"reputation": 2330, "user_id": 801448, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ka1C0.png?s=128&g=1", "display_name": "Supun Praneeth", "link": "https://stackoverflow.com/users/801448/supun-praneeth"}, "edited": false, "score": 0, "creation_date": 1522852087, "post_id": 49651349, "comment_id": 86315818, "body": "take a look: <a href=\"https://codepen.io/spmsupun/pen/WzgvZZ\" rel=\"nofollow noreferrer\">codepen.io/spmsupun/pen/WzgvZZ</a>"}, {"owner": {"reputation": 421, "user_id": 9434120, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/7ca3b1f5217c4b06b142ef05c0758fb0?s=128&d=identicon&r=PG&f=1", "display_name": "Balance", "link": "https://stackoverflow.com/users/9434120/balance"}, "reply_to_user": {"reputation": 2330, "user_id": 801448, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ka1C0.png?s=128&g=1", "display_name": "Supun Praneeth", "link": "https://stackoverflow.com/users/801448/supun-praneeth"}, "edited": false, "score": 0, "creation_date": 1522852888, "post_id": 49651349, "comment_id": 86316518, "body": "Yes, but now I get this error  <code>Cannot read property &#39;0&#39; of undefined</code>"}, {"owner": {"reputation": 2330, "user_id": 801448, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ka1C0.png?s=128&g=1", "display_name": "Supun Praneeth", "link": "https://stackoverflow.com/users/801448/supun-praneeth"}, "edited": false, "score": 0, "creation_date": 1522852968, "post_id": 49651349, "comment_id": 86316597, "body": "in the codepen it works fine"}, {"owner": {"reputation": 2330, "user_id": 801448, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ka1C0.png?s=128&g=1", "display_name": "Supun Praneeth", "link": "https://stackoverflow.com/users/801448/supun-praneeth"}, "edited": false, "score": 0, "creation_date": 1522853441, "post_id": 49651349, "comment_id": 86316954, "body": "you don&#39;t need this part: <code>if (date &gt; leg_1_datepicker.selectedDates[0]) { leg_1_datepicker.datepicker(&quot;setDate&quot;, date); }</code>"}, {"owner": {"reputation": 421, "user_id": 9434120, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/7ca3b1f5217c4b06b142ef05c0758fb0?s=128&d=identicon&r=PG&f=1", "display_name": "Balance", "link": "https://stackoverflow.com/users/9434120/balance"}, "reply_to_user": {"reputation": 2330, "user_id": 801448, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ka1C0.png?s=128&g=1", "display_name": "Supun Praneeth", "link": "https://stackoverflow.com/users/801448/supun-praneeth"}, "edited": false, "score": 1, "creation_date": 1522853729, "post_id": 49651349, "comment_id": 86317151, "body": "I guess yes. Thanks@SupunPraneeth"}], "owner": {"reputation": 421, "user_id": 9434120, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/7ca3b1f5217c4b06b142ef05c0758fb0?s=128&d=identicon&r=PG&f=1", "display_name": "Balance", "link": "https://stackoverflow.com/users/9434120/balance"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 70, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1522849526, "creation_date": 1522845799, "last_edit_date": 1522849526, "question_id": 49651349, "link": "https://stackoverflow.com/questions/49651349/cannot-update-date-of-second-datepicker", "title": "Cannot update date of second datepicker", "body": "<p>I have two datepickers.</p>\n\n<p>When I click date in one, I need to update minDate in second</p>\n\n<p>Here is html code:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;div class=\"search-field \" data-view='return'&gt;\r\n        &lt;div class=\"search-field-left\"&gt;\r\n  &lt;ul&gt;\r\n    &lt;li&gt;\r\n      &lt;div class=\"header\"&gt;Fr\u00e5n&lt;/div&gt;\r\n      &lt;input type=\"text\" name=\"search[legs][0][origin_text]\" id=\"search_legs_0_origin_text\" value=\"Stockholm (STO), Sverige\" class=\"field-1 airport_field\" placeholder=\"Fr\u00e5n\" data-source=\"/autocomplete/origin/flight\" data-id-element=\"#search_legs_0_origin_id\" /&gt;\r\n      &lt;input type=\"hidden\" name=\"search[legs][0][origin_id]\" id=\"search_legs_0_origin_id\" value=\"6540299\" /&gt;\r\n      &lt;div class=\"quick-destinations hide-small\"&gt;&lt;div class=\"quick-link\" data-text=\"K\u00f6penhamn (CPH), Danmark\" data-id=\"6547676\"&gt;K\u00f6penhamn&lt;/div&gt;, &lt;div class=\"quick-link\" data-text=\"Stockholm (STO), Sverige\" data-id=\"6540299\"&gt;Stockholm&lt;/div&gt;, &lt;div class=\"quick-link\" data-text=\"Bangkok Don Muang (DMK), Thailand\" data-id=\"6547002\"&gt;Bangkok&lt;/div&gt; eller &lt;div class=\"quick-link\" data-text=\"London Heathrow (LHR), England\" data-id=\"6540398\"&gt;London&lt;/div&gt;?&lt;/div&gt;\r\n    &lt;/li&gt;\r\n    &lt;li class=\"icon\"&gt;&lt;img class=\"right_left_arrow\" data-number=\"0\" src=\"http://res.cloudinary.com/dzwdseno3/image/asset/right_left_arrow-c0f7e54c0a61ac009de1b92fd2ff1a4f.png\" alt=\"Right left arrow\" /&gt;&lt;/li&gt;\r\n    &lt;li&gt;\r\n      &lt;div&gt;\r\n        &lt;div class=\"header\"&gt;Till&lt;/div&gt;\r\n        &lt;input type=\"text\" name=\"search[legs][0][destination_text]\" id=\"search_legs_0_destination_text\" value=\"Malaga (AGP), Spanien\" class=\"field-3 airport_field\" placeholder=\"Till\" data-source=\"/autocomplete/destination/flight\" data-id-element=\"#search_legs_0_destination_id\" /&gt;\r\n        &lt;input type=\"hidden\" name=\"search[legs][0][destination_id]\" id=\"search_legs_0_destination_id\" value=\"6547662\" /&gt;\r\n      &lt;/div&gt;\r\n    &lt;/li&gt;\r\n  &lt;/ul&gt;\r\n\r\n  &lt;ul class=\"show-small\"&gt;\r\n    &lt;li&gt;\r\n      &lt;div class=\"header\"&gt;Utresedatum&lt;/div&gt;\r\n      &lt;input type=\"text\" name=\"search[legs][0][date_demo]\" id=\"search_legs_0_date_demo\" value=\"2018-04-10\" class=\"field-1 multi_datepicker\" placeholder=\"Resedatum\" readonly=\"readonly\" data-minDate=\"2018-04-06\" data-maxDate=\"2019-04-01\" data-defaultDate=\"2018-04-11\" /&gt;\r\n    &lt;/li&gt;\r\n    &lt;li class=\"icon\"&gt;&amp;nbsp;&lt;/li&gt;\r\n    &lt;li&gt;\r\n      &lt;div class=\"return_fields\"&gt;\r\n        &lt;div class=\"header\"&gt;Hemresedatum&lt;/div&gt;\r\n        &lt;input type=\"text\" name=\"search[legs][1][date_demo]\" id=\"search_legs_1_date_demo\" value=\"2018-04-17\" class=\"field-1 multi_datepicker\" placeholder=\"Resedatum\" readonly=\"readonly\" data-minDate=\"2018-04-11\" data-maxDate=\"2019-04-01\" data-defaultDate=\"2018-04-18\" /&gt;\r\n        &lt;div class=\"return_overlay\"&gt;&lt;/div&gt;\r\n      &lt;/div&gt;\r\n    &lt;/li&gt;\r\n  &lt;/ul&gt;\r\n\r\n  &lt;ul class=\"hide-small\"&gt;\r\n    &lt;li&gt;\r\n      &lt;div class=\"header\"&gt;Utresedatum&lt;/div&gt;\r\n      &lt;div id=\"search_legs_0_datepicker\"\r\n           data-minDate=\"2018-04-06\"\r\n           data-maxDate=\"2019-04-01\"\r\n           data-defaultDate=\"2018-04-11\"&gt;&lt;/div&gt;\r\n      &lt;input type=\"hidden\" name=\"search[legs][0][date]\" id=\"search_legs_0_date\" /&gt;\r\n    &lt;/li&gt;\r\n    &lt;li class=\"icon\"&gt;&amp;nbsp;&lt;/li&gt;\r\n    &lt;li&gt;\r\n      &lt;div class=\"return_fields\"&gt;\r\n        &lt;div class=\"header\"&gt;Hemresedatum&lt;/div&gt;\r\n        &lt;div id=\"search_legs_1_datepicker\" data-minDate=\"2018-04-11\" data-maxDate=\"2019-04-01\" data-defaultDate=\"2018-04-18\"&gt;&lt;/div&gt;\r\n        &lt;input type=\"hidden\" name=\"search[legs][1][date]\" id=\"search_legs_1_date\" /&gt;\r\n        &lt;div class=\"return_overlay\"&gt;&lt;/div&gt;\r\n      &lt;/div&gt;\r\n    &lt;/li&gt;\r\n  &lt;/ul&gt;\r\n&lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>Here is code for 1 datepicker</p>\n\n<pre><code>export function load_datepickers_inline():void {\nconst search_legs_0_datepicker = $(\"#search_legs_0_datepicker\");\nconst leg_0_datepicker = $(\"#search_legs_0_datepicker\").datepicker({\n  // language: gon.locale,\n  classes: 'inline-picker',\n  altField: '#search_legs_0_date',\n  defaultDate: new Date(search_legs_0_datepicker.attr(\"data-defaultDate\")),\n  minDate: new Date(search_legs_0_datepicker.attr('data-mindate')),\n  maxDate: new Date(search_legs_0_datepicker.attr('data-maxdate')),\n  // altFieldDateFormat: 'yyyy-mm-dd',\n  onSelect: (formattedDate, date, inst) =&gt; {\n    if (!leg_0_datepicker) { return false; }\n    leg_1_datepicker.update('minDate', date);\n    if (date &gt; leg_1_datepicker.selectedDates[0]) { leg_1_datepicker.datepicker(\"setDate\", date); }\n    if ($(\"#search_legs_0_hotel_date\").length &gt; 0) {\n      $('#search_legs_0_hotel_date').datepicker().data('datepicker').update('minDate', date);\n      $('#search_legs_0_hotel_date').datepicker().data('datepicker').datepicker(\"setDate\", date);\n      $('#search_legs_1_hotel_date').datepicker().data('datepicker').update('minDate', date);\n    }\n  }\n})\n</code></pre>\n\n<p>When I click button, I get this error</p>\n\n<blockquote>\n  <p>leg_1_datepicker.update is not a function</p>\n</blockquote>\n\n<p>in this row </p>\n\n<blockquote>\n  <p>leg_1_datepicker.update('minDate', date);</p>\n</blockquote>\n\n<p>Here is leg_1_datepicker code</p>\n\n<pre><code> const search_legs_1_datepicker = $(\"#search_legs_1_datepicker\");\nvar leg_1_datepicker = $(\"#search_legs_1_datepicker\").datepicker({\n  // language: gon.locale,\n  classes: 'inline-picker',\n  altField: '#search_legs_1_date',\n  defaultDate: new Date(search_legs_1_datepicker.attr(\"data-defaultDate\")),\n  minDate: new Date(search_legs_1_datepicker.attr('data-mindate')),\n  maxDate: new Date(search_legs_1_datepicker.attr('data-maxdate')),\n  // altFieldDateFormat: 'yyyy-mm-dd',\n  onSelect: (formattedDate, date, inst) =&gt; {\n    if ($(\"#search_legs_1_hotel_date\").length &gt; 0) {\n      $('#search_legs_0_hotel_date').datepicker().data('datepicker').update('maxDate', date);\n      $('#search_legs_1_hotel_date').datepicker().data('datepicker').update('maxDate', date);\n      $('#search_legs_1_hotel_date').datepicker().data('datepicker').datepicker(\"setDate\", date);\n    }\n  }\n})\n</code></pre>\n\n<p>Where can be my trouble?</p>\n\n<p>Thank's for help</p>\n\n<p><strong>UPDATE</strong></p>\n\n<p>I try to fix it like this</p>\n\n<pre><code>leg_1_datepicker.datepicker('setDate','minDate', date);\n</code></pre>\n\n<p>But Now I have error</p>\n\n<blockquote>\n  <p>Cannot read property '0' of undefined</p>\n</blockquote>\n\n<p>Here</p>\n\n<blockquote>\n  <p>if (date > leg_1_datepicker.selectedDates[0]) { leg_1_datepicker.datepicker(\"setDate\", date); }</p>\n</blockquote>\n"}, {"tags": ["android", "json", "angular", "typescript", "ionic-framework"], "comments": [{"owner": {"reputation": 28036, "user_id": 4826457, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hXT0U.jpg?s=128&g=1", "display_name": "Suraj Rao", "link": "https://stackoverflow.com/users/4826457/suraj-rao"}, "edited": false, "score": 0, "creation_date": 1522846748, "post_id": 49651084, "comment_id": 86311499, "body": "<a href=\"https://stackoverflow.com/a/48162962/4826457\">stackoverflow.com/a/48162962/4826457</a>"}, {"owner": {"reputation": 421, "user_id": 7439880, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/482ffb5f5034ff2ac4aae3f538eda309?s=128&d=identicon&r=PG&f=1", "display_name": "BlueCat", "link": "https://stackoverflow.com/users/7439880/bluecat"}, "reply_to_user": {"reputation": 28036, "user_id": 4826457, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hXT0U.jpg?s=128&g=1", "display_name": "Suraj Rao", "link": "https://stackoverflow.com/users/4826457/suraj-rao"}, "edited": false, "score": 0, "creation_date": 1522847121, "post_id": 49651084, "comment_id": 86311772, "body": "@SurajRao This is bascially the code I&#39;m already having, but this still won&#39;t work"}, {"owner": {"reputation": 28036, "user_id": 4826457, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hXT0U.jpg?s=128&g=1", "display_name": "Suraj Rao", "link": "https://stackoverflow.com/users/4826457/suraj-rao"}, "edited": false, "score": 0, "creation_date": 1522847158, "post_id": 49651084, "comment_id": 86311789, "body": "I would suggest trying with a url similar to the link and not the whole Project/android_asset/.."}, {"owner": {"reputation": 421, "user_id": 7439880, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/482ffb5f5034ff2ac4aae3f538eda309?s=128&d=identicon&r=PG&f=1", "display_name": "BlueCat", "link": "https://stackoverflow.com/users/7439880/bluecat"}, "reply_to_user": {"reputation": 28036, "user_id": 4826457, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hXT0U.jpg?s=128&g=1", "display_name": "Suraj Rao", "link": "https://stackoverflow.com/users/4826457/suraj-rao"}, "edited": false, "score": 0, "creation_date": 1522847380, "post_id": 49651084, "comment_id": 86311942, "body": "@SurajRao When you look at my code, I don&#39;t use the whole path. I use relative paths. I just wrote the whole paths in my question for clarity, where my files are."}, {"owner": {"reputation": 28036, "user_id": 4826457, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hXT0U.jpg?s=128&g=1", "display_name": "Suraj Rao", "link": "https://stackoverflow.com/users/4826457/suraj-rao"}, "edited": false, "score": 0, "creation_date": 1522847524, "post_id": 49651084, "comment_id": 86312059, "body": "Also another typo you have string <code>&#39;url&#39;</code> instead of variable here: <code>this.http.get(&#39;url&#39;)</code>"}, {"owner": {"reputation": 421, "user_id": 7439880, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/482ffb5f5034ff2ac4aae3f538eda309?s=128&d=identicon&r=PG&f=1", "display_name": "BlueCat", "link": "https://stackoverflow.com/users/7439880/bluecat"}, "reply_to_user": {"reputation": 28036, "user_id": 4826457, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hXT0U.jpg?s=128&g=1", "display_name": "Suraj Rao", "link": "https://stackoverflow.com/users/4826457/suraj-rao"}, "edited": false, "score": 0, "creation_date": 1522847764, "post_id": 49651084, "comment_id": 86312268, "body": "@SurajRao Oh, thanks I didn&#39;t see this typo. I corrected it but sadly it still won&#39;t work. Any other ideas?"}], "answers": [{"tags": [], "owner": {"reputation": 1219, "user_id": 6382398, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/567598034dbeeb9a87b6685040caa4c0?s=128&d=identicon&r=PG&f=1", "display_name": "Stephan Strate", "link": "https://stackoverflow.com/users/6382398/stephan-strate"}, "is_accepted": false, "score": 0, "last_activity_date": 1522851185, "creation_date": 1522851185, "answer_id": 49653334, "question_id": 49651084, "link": "https://stackoverflow.com/questions/49651084/getting-local-json-data-to-android-with-ionic-3/49653334#49653334", "title": "getting local json data to android with ionic 3", "body": "<p>To access your assets in your <code>.html</code>, <code>.scss</code> and <code>.ts</code> files, you can start by using:</p>\n\n<pre><code>./assets/[YOUR PATH]\n</code></pre>\n\n<p><code>./</code> will let you reference your files, starting in the <code>src</code> folder!</p>\n"}, {"tags": [], "owner": {"reputation": 281, "user_id": 4527624, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/H9WhJ.jpg?s=128&g=1", "display_name": "Durga Sriram", "link": "https://stackoverflow.com/users/4527624/durga-sriram"}, "is_accepted": false, "score": 0, "last_activity_date": 1530792504, "creation_date": 1530792504, "answer_id": 51190949, "question_id": 49651084, "link": "https://stackoverflow.com/questions/49651084/getting-local-json-data-to-android-with-ionic-3/51190949#51190949", "title": "getting local json data to android with ionic 3", "body": "<p>Those who are still looking for solution for ios, android and browser, here is the approach which worked for me:</p>\n\n<pre><code>var url = \"\"; \n    if(this.platform.is('core') || this.platform.is('mobileweb')) {\n      url = 'assets/data/localfile.json'; \n    }else{\n      if(this.platform.is('android')){\n        url = \"/android_asset/www/assets/data/localfile.json\";\n      }else if(this.platform.is('ios')){\n        url = 'assets/data/localfile.json'; \n      }\n    }\n    return this.http.get(url)\n    .map((res:Response) =&gt; res.json());\n</code></pre>\n\n<p>And add this line in config.xml:- </p>\n\n<pre><code>&lt;allow-navigation href=\"http://localhost/*\" /&gt;\n</code></pre>\n"}], "owner": {"reputation": 421, "user_id": 7439880, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/482ffb5f5034ff2ac4aae3f538eda309?s=128&d=identicon&r=PG&f=1", "display_name": "BlueCat", "link": "https://stackoverflow.com/users/7439880/bluecat"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 700, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1530792504, "creation_date": 1522844997, "last_edit_date": 1522848088, "question_id": 49651084, "link": "https://stackoverflow.com/questions/49651084/getting-local-json-data-to-android-with-ionic-3", "title": "getting local json data to android with ionic 3", "body": "<p>I already googled the problem and found several solutions for it. But most of them are for ionic 2 and angular 2. I don't know if there are any changes for angular 5 and ionic 3, which i'm using.</p>\n\n<p>I'm having a local json file and i'm getting my data from it. In the browser it works totally fine but on my android tablet my data isn't shown.</p>\n\n<p>The solutions I found were mostly about a path problem. Most of them said to change the path for android like this:</p>\n\n<p><strong>service.ts</strong></p>\n\n<pre><code>  loadData() {   \n  var url = 'assets/data/skills.json';\n  if (this.platform.is('cordova') &amp;&amp; this.platform.is('android')) {\n          url = \"/android_asset/www/\" + url;\n      }\n    return new Promise(resolve =&gt; {\n      this.http.get(url)\n        .subscribe((data) =&gt; {\n          resolve(data);\n        }, err =&gt; {\n          console.log(err);\n        });\n    });\n  }\n</code></pre>\n\n<p>Path of service.ts:</p>\n\n<blockquote>\n  <p>Project/src/providers/service/service.ts</p>\n</blockquote>\n\n<p>The path of my json file:</p>\n\n<blockquote>\n  <p>Project/src/assets/data/skills.json</p>\n</blockquote>\n\n<p>Looking at my research, I assume the path of the json file for android deplyoment has to be something like this:</p>\n\n<blockquote>\n  <p>Project/android_asset/www/assets/data/skills.json</p>\n</blockquote>\n\n<p>But the folder \"android_asset\" doesn't even exist in my project, but most of the research said, that it should be there. Or was this probably only in an older angular/ionic version?</p>\n\n<p>How can I solve this problem?</p>\n"}, {"tags": ["javascript", "angular", "typescript"], "answers": [{"tags": [], "owner": {"reputation": 8115, "user_id": 4749297, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/LXTZX.jpg?s=128&g=1", "display_name": "Lansana Camara", "link": "https://stackoverflow.com/users/4749297/lansana-camara"}, "is_accepted": false, "score": 0, "last_activity_date": 1522846802, "creation_date": 1522846802, "answer_id": 49651727, "question_id": 49650613, "link": "https://stackoverflow.com/questions/49650613/winwheel-js-callback-funtion-not-work-in-angular/49651727#49651727", "title": "Winwheel.js callback funtion not work in Angular", "body": "<p>The bug tells you exactly what the issue is. </p>\n\n<p>Your logic inside <code>initWheel</code> (the <code>new Winwheel({...})</code>) is the issue. That <code>Winwheel</code> class does not have a <code>getIndicatedSegment</code> method on it. Either that, or that method has not been created at runtime yet (but I doubt that's the case). If you're using a lib, it should be there statically.</p>\n\n<p>So make sure you call a method that exists.</p>\n"}], "owner": {"reputation": 1, "user_id": 9596513, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1a654a841c2580e7a0bb3d1ea802f142?s=128&d=identicon&r=PG&f=1", "display_name": "ali", "link": "https://stackoverflow.com/users/9596513/ali"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 473, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1522846802, "creation_date": 1522843644, "last_edit_date": 1522845861, "question_id": 49650613, "link": "https://stackoverflow.com/questions/49650613/winwheel-js-callback-funtion-not-work-in-angular", "title": "Winwheel.js callback funtion not work in Angular", "body": "<p>I used this code in component ts file</p>\n\n<pre><code>wheelSpinning = false;\n\n  constructor() {\n  }\n\n  ngAfterViewInit() {\n    this.initWheel();\n  }\n\n  initWheel() {\n    this.wheel = new Winwheel({\n      'numSegments': 8,   // Specify number of segments.\n      'outerRadius': 155,  // Set radius to so wheel fits the background.\n      'innerRadius': 150,  // Set inner radius to make wheel hollow.\n      'pointerAngle': 90,\n      'textFontSize':0,\n      'segments':       // Define segments including colour and text.\n        [\n          { 'fillStyle': '#eae56f', 'text': 'Prize 1' },\n          { 'fillStyle': '#89f26e', 'text': 'Prize 2' },\n          { 'fillStyle': '#7de6ef', 'text': 'Prize 3' },\n          { 'fillStyle': '#e7706f', 'text': 'Prize 4' },\n          { 'fillStyle': '#eae56f', 'text': 'Prize 5' },\n          { 'fillStyle': '#89f26e', 'text': 'Prize 6' },\n          { 'fillStyle': '#7de6ef', 'text': 'Prize 7' },\n          { 'fillStyle': '#e7706f', 'text': 'Prize 8' }\n        ],\n      //'segments'        : this.getSegments(),\n      'animation':           // Define spin to stop animation.\n        {\n          'type': 'spinToStop',\n          'duration': 5,\n          'spins': 8,\n          'callbackFinished': 'alertPrize()'\n        },\n    });\n  }\n\n  startSpin() {\n    // Ensure that spinning can't be clicked again while already running.\n    if (this.wheelSpinning === false) {\n      this.wheel.startAnimation();\n      this.wheelSpinning = true;\n    }\n  }\n  resetWheel() {\n    this.wheel.stopAnimation(false);  // Stop the animation, false as param so does not call callback function.\n    this.wheel.rotationAngle = 0;     // Re-set the wheel angle to 0 degrees.\n    this.wheel.draw();                // Call draw to render changes to the wheel.\n\n    this.wheelSpinning = false;          // Reset to false to power buttons and spin can be clicked again.\n  }\n ngOnInit() {\n  }\n}\n</code></pre>\n\n<p>then use this function in index.html.</p>\n\n<pre><code>// This function called after the spin animation has stopped.\nfunction alertPrize() {\n  var winningSegment = this.wheel.getIndicatedSegment();\n  alert(winningSegment);\n  console.log(\"You have won \" + winningSegment.text + \"!\");\n}\n</code></pre>\n\n<p>But it says \"getIndicatedSegment\" is undefined.</p>\n\n<p>any solution here?</p>\n"}, {"tags": ["javascript", "typescript", "migration", "ionic3"], "answers": [{"tags": [], "owner": {"reputation": 1505, "user_id": 7512114, "user_type": "registered", "accept_rate": 25, "profile_image": "https://i.stack.imgur.com/P07Yi.png?s=128&g=1", "display_name": "treecon", "link": "https://stackoverflow.com/users/7512114/treecon"}, "is_accepted": false, "score": 0, "last_activity_date": 1524069308, "creation_date": 1524069308, "answer_id": 49904797, "question_id": 49650216, "link": "https://stackoverflow.com/questions/49650216/d-ts-typescript-file-for-a-javascript-library/49904797#49904797", "title": ".d.ts typescript file for a javascript library", "body": "<p>Instead of creating the d.ts file, I would maybe go on by ignoring the typescript errors.</p>\n\n<p>So, you install leaflet-pulse-icon through npm:</p>\n\n<pre><code>npm install leaflet-pulse-icon\n</code></pre>\n\n<p>...and you include it in your component:</p>\n\n<pre><code>import 'leaflet-pulse-icon';\n</code></pre>\n\n<p>To avoid the error, just make TypeScript ignore the typings for a while.. So, instead of: </p>\n\n<pre><code>let pulsingIcon = L.icon.pulse({iconSize:[20,20],color:'red'});\n</code></pre>\n\n<p>You should use:</p>\n\n<pre><code>let pulsingIcon = (L as any).icon.pulse({iconSize:[20,20],color:'red'});\n</code></pre>\n\n<p>...using L as \"of any type\" variable.</p>\n\n<p>Of course, TypeScript should not work without types(!) but occasionally, I find it convenient to bypass some errors using the \":any\" way.</p>\n"}], "owner": {"reputation": 416, "user_id": 2138897, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/54c4b0061ac57ce910680b6efc4e179e?s=128&d=identicon&r=PG", "display_name": "Zeno Trevisan", "link": "https://stackoverflow.com/users/2138897/zeno-trevisan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 243, "favorite_count": 1, "answer_count": 1, "score": 2, "last_activity_date": 1524069308, "creation_date": 1522842454, "last_edit_date": 1592644375, "question_id": 49650216, "link": "https://stackoverflow.com/questions/49650216/d-ts-typescript-file-for-a-javascript-library", "title": ".d.ts typescript file for a javascript library", "body": "<p>I'm trying to create a description file to use a javascript library with typescript.</p>\n<p>At the moment I'm trying to follow those guides: <a href=\"https://www.typescriptlang.org/docs/handbook/declaration-files/introduction.html\" rel=\"nofollow noreferrer\">TypeScript Official website</a> and <a href=\"https://medium.com/@chris_72272/migrating-to-typescript-write-a-declaration-file-for-a-third-party-npm-module-b1f75808ed2\" rel=\"nofollow noreferrer\">Medium guide to migrate to typescript</a></p>\n<p>To be specific I'm trying to create a typescript description file for <a href=\"https://github.com/mapshakers/leaflet-icon-pulse\" rel=\"nofollow noreferrer\">leaflet-icon-pulse</a>, which I thought was simple enough to start with</p>\n<p>So I downloaded the git project, created <strong>tsconfig.json</strong> as follows</p>\n<pre><code>{\n&quot;compilerOptions&quot;: {\n  &quot;outDir&quot;: &quot;./built&quot;,\n  &quot;allowJs&quot;: true,\n  &quot;noImplicitAny&quot;: true,\n  &quot;strictNullChecks&quot;: true,\n  &quot;target&quot;: &quot;es5&quot;,\n  &quot;module&quot;: &quot;commonjs&quot;\n},\n&quot;include&quot;: [\n  &quot;./src/**/*&quot;\n],\n&quot;exclude&quot;: [\n  &quot;node_modules&quot;\n]\n}\n</code></pre>\n<p>Then I tried to convert the file <strong>L.Icon.Pulse.js</strong> to <strong>L.Icon.Pulse.ts</strong>, but I started getting error like:</p>\n<pre><code>Property X does not exists on type Y\n</code></pre>\n<p>So as far as I understood I need to let the js be and simply create a L.Icon.Pulse.d.ts file</p>\n<p>Right now mine looks like:</p>\n<pre><code>import * as L from 'leaflet';\ndeclare module 'leaflet' {\n     function Pulse(options?: any): any;\n}\n</code></pre>\n<p>But now I have no idea how to precede, and I was not able to find a good tutorial or example on how to go on.</p>\n<p>Someone can give me some tips on how to procede?</p>\n<p>Thanks!</p>\n"}, {"tags": ["javascript", "angular", "typescript", "config", "tsconfig"], "comments": [{"owner": {"reputation": 6538, "user_id": 2275797, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/lg0K6.jpg?s=128&g=1", "display_name": "briosheje", "link": "https://stackoverflow.com/users/2275797/briosheje"}, "edited": false, "score": 0, "creation_date": 1522841519, "post_id": 49649869, "comment_id": 86307766, "body": "May you provide the entire stack trace please? perhaps the problem is not related to <b>that</b> tsconfig specifically. Sounds quite related to this though: <a href=\"https://stackoverflow.com/questions/35660498/angular-cant-find-promise-map-set-and-iterator\" title=\"angular cant find promise map set and iterator\">stackoverflow.com/questions/35660498/&hellip;</a>"}, {"owner": {"reputation": 564, "user_id": 5053585, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/514d5a899e0bb3bec2a63e0ac7b1cf21?s=128&d=identicon&r=PG&f=1", "display_name": "Hazlo8", "link": "https://stackoverflow.com/users/5053585/hazlo8"}, "edited": false, "score": 1, "creation_date": 1583145356, "post_id": 49649869, "comment_id": 107004929, "body": "In my case the map operator was a rxjs operator, and with RxJS 6, I have to import it manually with: import { map } from &#39;rxjs/operators&#39;;"}], "answers": [{"comments": [{"owner": {"reputation": 542, "user_id": 4874258, "user_type": "registered", "accept_rate": 71, "profile_image": "https://graph.facebook.com/10206388700413298/picture?type=large", "display_name": "Michele Sapignoli", "link": "https://stackoverflow.com/users/4874258/michele-sapignoli"}, "edited": false, "score": 0, "creation_date": 1522914779, "post_id": 49649965, "comment_id": 86343733, "body": "Turned out it was a problem with both reactivex and types/core-js"}], "tags": [], "owner": {"reputation": 1778, "user_id": 3476981, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/dclzA.jpg?s=128&g=1", "display_name": "DrNio", "link": "https://stackoverflow.com/users/3476981/drnio"}, "is_accepted": true, "score": 3, "last_activity_date": 1522841761, "creation_date": 1522841761, "answer_id": 49649965, "question_id": 49649869, "link": "https://stackoverflow.com/questions/49649869/compile-error-cannot-find-name-map-more-angular-2/49649965#49649965", "title": "Compile error - Cannot find name &#39;Map&#39; &amp; more - Angular 2", "body": "<p>Try this combination : \n<code>\"target\": \"es5\",</code>\n<code>\"lib\": [\"es5\", \"es6\", \"es7\", \"DOM\"],</code></p>\n\n<p>If that doesn't work try <code>npm install --save-dev @types/core-js</code>.</p>\n\n<p>Which Angular and CLI version are you running exactly ?</p>\n"}], "owner": {"reputation": 542, "user_id": 4874258, "user_type": "registered", "accept_rate": 71, "profile_image": "https://graph.facebook.com/10206388700413298/picture?type=large", "display_name": "Michele Sapignoli", "link": "https://stackoverflow.com/users/4874258/michele-sapignoli"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2032, "favorite_count": 0, "accepted_answer_id": 49649965, "answer_count": 1, "score": 1, "last_activity_date": 1522841761, "creation_date": 1522841458, "question_id": 49649869, "link": "https://stackoverflow.com/questions/49649869/compile-error-cannot-find-name-map-more-angular-2", "title": "Compile error - Cannot find name &#39;Map&#39; &amp; more - Angular 2", "body": "<p>I'm having issues with my Angular project. It was developed without Angular CLI and now I'm getting these errors, as it appears it can't find classes inside <em>collection.d.ts</em>:</p>\n\n<pre><code>Build:Cannot find name 'Map'.\nBuild:Cannot find name 'MapConstructor'.\n</code></pre>\n\n<p>and so on.\nMy <em>tsconfig.json</em> is the following:</p>\n\n<pre><code>{\n\"compilerOptions\": {\n    \"target\": \"es2015\",\n    \"module\": \"commonjs\",\n    \"moduleResolution\": \"node\",\n    \"sourceMap\": true,\n    \"emitDecoratorMetadata\": true,\n    \"experimentalDecorators\": true,\n    \"removeComments\": false,\n    \"noImplicitAny\": false,\n    \"outDir\": \"build/\",\n    \"skipLibCheck\": true,\n    \"lib\": [ \"es6\",\"dom\" ]\n},\n\"compileOnSave\": true]\n}\n</code></pre>\n\n<p>I've already searched online for a solution, targeting <em>es6</em>, <em>es5</em>, or adding other lib attributes. \nSolutions? \nThanks</p>\n"}, {"tags": ["html", "angular", "typescript"], "comments": [{"owner": {"reputation": 15836, "user_id": 1675492, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/HsMph.jpg?s=128&g=1", "display_name": "Ingo B&#252;rk", "link": "https://stackoverflow.com/users/1675492/ingo-b%c3%bcrk"}, "edited": false, "score": 2, "creation_date": 1522841314, "post_id": 49649652, "comment_id": 86307624, "body": "<code>ng-template</code> is not a DOM element, it doesn&#39;t have styling. But you can always nest some <code>div</code> inside the template and style that."}], "answers": [{"tags": [], "owner": {"reputation": 9344, "user_id": 1417185, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/5rjLN.jpg?s=128&g=1", "display_name": "Paritosh", "link": "https://stackoverflow.com/users/1417185/paritosh"}, "is_accepted": false, "score": 8, "last_activity_date": 1522841423, "creation_date": 1522841423, "answer_id": 49649860, "question_id": 49649652, "link": "https://stackoverflow.com/questions/49649652/how-to-give-styles-to-ng-template-tag-in-angular-4/49649860#49649860", "title": "How to give styles to ng-template tag in Angular 4?", "body": "<p>From Angular documentation,</p>\n\n<p><a href=\"https://angular.io/guide/structural-directives#the-ng-template\" rel=\"noreferrer\">The &lt;ng-template></a> </p>\n\n<blockquote>\n  <p>The &lt;ng-template> is an Angular element for rendering HTML. It is\n  never displayed directly. In fact, before rendering the view, Angular\n  replaces the &lt;ng-template> and its contents with a comment.</p>\n  \n  <p>If there is no structural directive and you merely wrap some elements\n  in a &lt;ng-template>, those elements disappear. That's the fate of the elements inside your &lt;ng-template>.</p>\n</blockquote>\n"}, {"tags": [], "owner": {"reputation": 4949, "user_id": 5928381, "user_type": "registered", "accept_rate": 11, "profile_image": "https://i.stack.imgur.com/3MFrQ.jpg?s=128&g=1", "display_name": "Anuradha Gunasekara", "link": "https://stackoverflow.com/users/5928381/anuradha-gunasekara"}, "is_accepted": false, "score": 1, "last_activity_date": 1522844072, "creation_date": 1522844072, "answer_id": 49650769, "question_id": 49649652, "link": "https://stackoverflow.com/questions/49649652/how-to-give-styles-to-ng-template-tag-in-angular-4/49650769#49650769", "title": "How to give styles to ng-template tag in Angular 4?", "body": "<p>The Angular  is a grouping element that doesn't interfere with styles or layout because Angular doesn't put it in the DOM. As a result you cant set styles to that .</p>\n"}], "owner": {"reputation": 151, "user_id": 7913639, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d8b6d327e588d42cb830789f85ae279d?s=128&d=identicon&r=PG&f=1", "display_name": "Midhun Gopinath", "link": "https://stackoverflow.com/users/7913639/midhun-gopinath"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 9075, "favorite_count": 1, "answer_count": 2, "score": 4, "last_activity_date": 1522844072, "creation_date": 1522840778, "last_edit_date": 1522840826, "question_id": 49649652, "link": "https://stackoverflow.com/questions/49649652/how-to-give-styles-to-ng-template-tag-in-angular-4", "title": "How to give styles to ng-template tag in Angular 4?", "body": "<pre><code> &lt;mat-dialog-content class=\"no-scroll\" &gt;\n\n  &lt;mat-divider&gt;&lt;/mat-divider&gt;\n  &lt;section class=\"row add-widget-container\"&gt;\n   &lt;span class=\"col-md-4 text-center\"&gt;\n      &lt;h4&gt;Available widgets&lt;/h4&gt;\n        &lt;div class=\"selectable-widgets\"&gt;\n            &lt;mat-button-toggle-group #group=\"matButtonToggleGroup\" [(ngModel)]=\"selectedWidget\" (change)=\"showPreview()\" [vertical]=\"true\"&gt;\n                &lt;mat-button-toggle color=\"primary\" *ngFor=\"let widget of availableWidgets\" \n                    [value]=\"widget\"&gt;{{widget.data.title}}&lt;/mat-button-toggle&gt;\n            &lt;/mat-button-toggle-group&gt;\n        &lt;/div&gt;\n   &lt;/span&gt;\n   &lt;span class=\"col-md-4\"&gt;\n      &lt;h4 class=\"text-center\"&gt;Preview&lt;/h4&gt;\n    &lt;ng-template #widgetPreview &gt;&lt;/ng-template&gt;\n  &lt;/span&gt;\n  &lt;span class=\"col-md-4 text-center\"&gt;\n      &lt;h4&gt;Options&lt;/h4&gt;  \n\n  &lt;/span&gt;\n  &lt;/section&gt;\n&lt;/mat-dialog-content&gt;\n</code></pre>\n\n<p>How can we set the height and width of  the  <code>ng-template</code> tag. I tried putting some inline style to the <code>ng-template</code> tag, but it is not reflecting there</p>\n"}, {"tags": ["javascript", "typescript"], "comments": [{"owner": {"reputation": 20897, "user_id": 1169519, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/j4Iyy.png?s=128&g=1", "display_name": "Teemu", "link": "https://stackoverflow.com/users/1169519/teemu"}, "edited": false, "score": 0, "creation_date": 1522839635, "post_id": 49649285, "comment_id": 86306539, "body": "<a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Functions/Arrow_functions\" rel=\"nofollow noreferrer\">developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/&hellip;</a> and <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Template_literals\" rel=\"nofollow noreferrer\">developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/&hellip;</a>"}, {"owner": {"reputation": 3256, "user_id": 2216975, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/b19a7797114087718a09cdfa2b081c19?s=128&d=identicon&r=PG", "display_name": "anish", "link": "https://stackoverflow.com/users/2216975/anish"}, "edited": false, "score": 1, "creation_date": 1522839699, "post_id": 49649285, "comment_id": 86306580, "body": "arrow functions."}], "answers": [{"tags": [], "owner": {"reputation": 12761, "user_id": 2365900, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a6ba2f26d137e5d34fda504e00fc1422?s=128&d=identicon&r=PG", "display_name": "Sefe", "link": "https://stackoverflow.com/users/2365900/sefe"}, "is_accepted": false, "score": 1, "last_activity_date": 1522840210, "creation_date": 1522840210, "answer_id": 49649486, "question_id": 49649285, "link": "https://stackoverflow.com/questions/49649285/what-is-this-form-of-code-called-in-javascript/49649486#49649486", "title": "What is this form of code called in javascript", "body": "<p>That is an arrow function. The most important difference of an arrow function compared to a \"regular\" function is that the <code>this</code> keyword within an arrow function des not refer to the object the function is called from, but to the scope where the function is defined.</p>\n\n<p>Arrow functions have been introduced in ES6. You can use them in <em>TypeScript</em> also when you target earlier JS versions. <em>TypeScript</em> will produce code that emulates the scope of <code>this</code> in the arrow function.</p>\n"}, {"tags": [], "owner": {"reputation": 1696, "user_id": 9177920, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SSUo5.jpg?s=128&g=1", "display_name": "Damian Peralta", "link": "https://stackoverflow.com/users/9177920/damian-peralta"}, "is_accepted": false, "score": 0, "last_activity_date": 1522840460, "creation_date": 1522840460, "answer_id": 49649557, "question_id": 49649285, "link": "https://stackoverflow.com/questions/49649285/what-is-this-form-of-code-called-in-javascript/49649557#49649557", "title": "What is this form of code called in javascript", "body": "<p>Besides arrow functions, you also have <code>template literals</code> here: <code>${API_QUERY_SVC_URL}dataset/protocols/${workbookId}</code></p>\n\n<p>Check documentation <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Template_literals\" rel=\"nofollow noreferrer\">here</a></p>\n"}], "owner": {"reputation": 31, "user_id": 3494319, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2d823a2d00b52c44b0b86df851e411cd?s=128&d=identicon&r=PG&f=1", "display_name": "Shousha", "link": "https://stackoverflow.com/users/3494319/shousha"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 46, "favorite_count": 0, "closed_date": 1522893545, "answer_count": 2, "score": -1, "last_activity_date": 1522840460, "creation_date": 1522839570, "question_id": 49649285, "link": "https://stackoverflow.com/questions/49649285/what-is-this-form-of-code-called-in-javascript", "closed_reason": "Duplicate", "title": "What is this form of code called in javascript", "body": "<p>I'm new to Javascript and I want to know what is the below pattern of code called.</p>\n\n<pre><code>GetDatasetProtocols: workbookId =&gt; `${API_QUERY_SVC_URL}dataset/protocols/${workbookId}`\n</code></pre>\n"}, {"tags": ["javascript", "typescript", "observable"], "comments": [{"owner": {"reputation": 7135, "user_id": 7080548, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a05e995eb5f5cc586a70c441414f3a4c?s=128&d=identicon&r=PG&f=1", "display_name": "Sebastian Kaczmarek", "link": "https://stackoverflow.com/users/7080548/sebastian-kaczmarek"}, "edited": false, "score": 0, "creation_date": 1522840521, "post_id": 49649270, "comment_id": 86307127, "body": "In the provided example you are not returning a <code>string</code>, but <code>Observable&lt;string&gt;</code>- and this makes a difference. In the <code>return</code> line you are returning an observable so everything is ok with types."}, {"owner": {"reputation": 374, "user_id": 5582285, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/8c2faf67ccb0d436f69c28a1282c554d?s=128&d=identicon&r=PG&f=1", "display_name": "Deepak Patidar", "link": "https://stackoverflow.com/users/5582285/deepak-patidar"}, "reply_to_user": {"reputation": 7135, "user_id": 7080548, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a05e995eb5f5cc586a70c441414f3a4c?s=128&d=identicon&r=PG&f=1", "display_name": "Sebastian Kaczmarek", "link": "https://stackoverflow.com/users/7080548/sebastian-kaczmarek"}, "edited": false, "score": 0, "creation_date": 1522841452, "post_id": 49649270, "comment_id": 86307711, "body": "Thanks @SebastianKaczmarek but  above we defining observable&lt;string&gt; and bellow returning observable&lt;json&gt; from return this.http.get() so  is that  ok"}], "answers": [{"tags": [], "owner": {"reputation": 16747, "user_id": 3203588, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/68f7842f44e2c6a9889da1aba68d0160?s=128&d=identicon&r=PG&f=1", "display_name": "Oscar Paz", "link": "https://stackoverflow.com/users/3203588/oscar-paz"}, "is_accepted": false, "score": 1, "last_activity_date": 1522841407, "creation_date": 1522841407, "answer_id": 49649854, "question_id": 49649270, "link": "https://stackoverflow.com/questions/49649270/typescript-strict-type-checking-not-working-with-string-and-array-in-observable/49649854#49649854", "title": "Typescript strict-type checking not working with string and array in observable", "body": "<p>Type checking works as expected.</p>\n\n<p>If you check Angular's <code>Response</code> class, you'll see that <code>Response.json()</code> is defined as <code>() =&gt; any</code>, meaning that the <code>json</code> method can return ANY type. This is logical, as you never know what kind of object you can get when parsin JSON.</p>\n\n<p>So, your <code>return</code> statement is performing the following type operations:</p>\n\n<pre><code>Observable&lt;Response&gt; -&gt; (map) -&gt; Observable&lt;any&gt;\n</code></pre>\n\n<p>Unfortunately, by using <code>any</code> in TypeScript you basically disable type checking. In TypeScript, <code>any</code> can be converted to and from anything. When using <code>any</code> you're telling TypeScript to mind its own bussiness because you know what you're doing.</p>\n\n<p>So, <code>Observable&lt;any&gt;</code> can be assigned to a variable of type <code>Observable&lt;string&gt;</code>, and the other way around.</p>\n\n<p>However, if you want to return text, maybe you shouldn't use <code>json()</code>, but <code>text()</code>. <code>text()</code> is <code>() =&gt; Observable&lt;string&gt;</code> and maybe is what you want.</p>\n\n<p>Or you can tell <code>map</code> what type of object you're returning. If you know that <code>json()</code> returns an object that complies with <code>MyObject</code> inteface, then you can write:</p>\n\n<pre><code>return this.http.get(url, options).map((resp: Response) =&gt; &lt;MyObject&gt;(resp.json()));\n</code></pre>\n\n<p>And now the type conversion is:</p>\n\n<pre><code>Observable&lt;Response&gt; =&gt; (map) =&gt; Observable&lt;MyObject&gt;\n</code></pre>\n\n<p>And TypeScript will protest because your function is supposed to return <code>Observable&lt;string&gt;</code>.</p>\n"}], "owner": {"reputation": 374, "user_id": 5582285, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/8c2faf67ccb0d436f69c28a1282c554d?s=128&d=identicon&r=PG&f=1", "display_name": "Deepak Patidar", "link": "https://stackoverflow.com/users/5582285/deepak-patidar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 392, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1522841407, "creation_date": 1522839533, "question_id": 49649270, "link": "https://stackoverflow.com/questions/49649270/typescript-strict-type-checking-not-working-with-string-and-array-in-observable", "title": "Typescript strict-type checking not working with string and array in observable", "body": "<p>I am trying Typescript strict-type  checking and setting a return type of  function is a \"string\" but on success I am returning \"resp.josn()\" and its working even TS having strict-type checking.</p>\n\n<p>Same issue with array like returning user[] but from response just passing object and that is working</p>\n\n<p>Please help why its allowing this.</p>\n\n<pre><code>  public getInfo(): Observable&lt;string&gt; {\n    const url = 'http://it-ebooks-apisss.info/v1/search/php%20mysql/page/3';\n    var options = new RequestOptions({\n       headers: new Headers({\n       'Accept': 'application/text',\n       })\n    });\n    return this.http.get(url, options).map((resp: Response) =&gt; (resp.json()))\n}\n</code></pre>\n"}, {"tags": ["javascript", "angular", "typescript", "angular-material2"], "comments": [{"owner": {"reputation": 302, "user_id": 2900305, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/100004246599256/picture?type=large", "display_name": "Igor Dimchevski", "link": "https://stackoverflow.com/users/2900305/igor-dimchevski"}, "edited": false, "score": 0, "creation_date": 1522837097, "post_id": 49648270, "comment_id": 86304919, "body": "Can you handle the index value and set it when you fetch the data from the API?"}, {"owner": {"reputation": 645, "user_id": 8483823, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c7b74299805eff9dd29d2eaeb92d4727?s=128&d=identicon&r=PG&f=1", "display_name": "pushplata patel", "link": "https://stackoverflow.com/users/8483823/pushplata-patel"}, "reply_to_user": {"reputation": 302, "user_id": 2900305, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/100004246599256/picture?type=large", "display_name": "Igor Dimchevski", "link": "https://stackoverflow.com/users/2900305/igor-dimchevski"}, "edited": false, "score": 0, "creation_date": 1522837356, "post_id": 49648270, "comment_id": 86305087, "body": "I&#39;m sorry, I didn&#39;t get you. Can you be more clear?"}], "answers": [{"comments": [{"owner": {"reputation": 645, "user_id": 8483823, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c7b74299805eff9dd29d2eaeb92d4727?s=128&d=identicon&r=PG&f=1", "display_name": "pushplata patel", "link": "https://stackoverflow.com/users/8483823/pushplata-patel"}, "edited": false, "score": 0, "creation_date": 1522837473, "post_id": 49648620, "comment_id": 86305157, "body": "Thank you. Will try it and let you know if it&#39;s working :)"}, {"owner": {"reputation": 6901, "user_id": 7436489, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d3f27318e4582da71b5ed0f0dc453100?s=128&d=identicon&r=PG&f=1", "display_name": "Roberto Zvjerkovi\u0107", "link": "https://stackoverflow.com/users/7436489/roberto-zvjerkovi%c4%87"}, "reply_to_user": {"reputation": 645, "user_id": 8483823, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c7b74299805eff9dd29d2eaeb92d4727?s=128&d=identicon&r=PG&f=1", "display_name": "pushplata patel", "link": "https://stackoverflow.com/users/8483823/pushplata-patel"}, "edited": false, "score": 3, "creation_date": 1522837563, "post_id": 49648620, "comment_id": 86305212, "body": "No problem. Here is a working StackBlitz example. <a href=\"https://stackblitz.com/edit/angular-acdxje?file=app/table-basic-example.html\" rel=\"nofollow noreferrer\">stackblitz.com/edit/angular-acdxje?file=app/&hellip;</a>"}, {"owner": {"reputation": 134, "user_id": 5378135, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/v5xWZ.jpg?s=128&g=1", "display_name": "Ramiro G.M.", "link": "https://stackoverflow.com/users/5378135/ramiro-g-m"}, "edited": false, "score": 1, "creation_date": 1574304017, "post_id": 49648620, "comment_id": 104187748, "body": "Works! But I&#39;d love to know where this came from....how did you know there&#39;s a variable index available to be consumed? Can someone explain this further please?"}, {"owner": {"reputation": 2467, "user_id": 1657333, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/fc7874685a8897860552e01c1e269265?s=128&d=identicon&r=PG", "display_name": "Eslam Sameh Ahmed", "link": "https://stackoverflow.com/users/1657333/eslam-sameh-ahmed"}, "edited": false, "score": 3, "creation_date": 1590424073, "post_id": 49648620, "comment_id": 109668021, "body": "Take care that it will repeat  per page if you enabled pagination"}, {"owner": {"reputation": 524, "user_id": 10264371, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wjGu8.png?s=128&g=1", "display_name": "Kasun", "link": "https://stackoverflow.com/users/10264371/kasun"}, "edited": false, "score": 0, "creation_date": 1610411548, "post_id": 49648620, "comment_id": 116119514, "body": "if you have pagination you can calculate row index like <code>{{this.paginator.pageIndex * this.paginator.pageSize + i}}</code>"}, {"owner": {"reputation": 2242, "user_id": 1682525, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/8aa51be6891dacd05786ed1d06980c77?s=128&d=identicon&r=PG", "display_name": "Santosh", "link": "https://stackoverflow.com/users/1682525/santosh"}, "edited": false, "score": 0, "creation_date": 1611235308, "post_id": 49648620, "comment_id": 116389049, "body": "<code>let i=dataIndex</code> this is working for me."}], "tags": [], "owner": {"reputation": 6901, "user_id": 7436489, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d3f27318e4582da71b5ed0f0dc453100?s=128&d=identicon&r=PG&f=1", "display_name": "Roberto Zvjerkovi\u0107", "link": "https://stackoverflow.com/users/7436489/roberto-zvjerkovi%c4%87"}, "is_accepted": true, "score": 129, "last_activity_date": 1606895971, "last_edit_date": 1606895971, "creation_date": 1522837364, "answer_id": 49648620, "question_id": 49648270, "link": "https://stackoverflow.com/questions/49648270/how-to-define-index-in-angular-material-table/49648620#49648620", "title": "how to define index in angular material table", "body": "<p>Can you add <code>index</code> to <code>let element; let i = index;&quot;</code> as you'd do with <code>*ngFor</code>?</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;mat-row *matRowDef=&quot;let row; columns: displayedColumns; let i = index&quot;&gt;&lt;/mat-row&gt;\n</code></pre>\n<p>Or like so:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;ng-container matColumnDef=&quot;index&quot;&gt;\n  &lt;mat-header-cell *matHeaderCellDef&gt; Index &lt;/mat-header-cell&gt;\n  &lt;mat-cell *matCellDef=&quot;let element; let i = index;&quot;&gt;{{i}}&lt;/mat-cell&gt;\n&lt;/ng-container&gt;\n</code></pre>\n<p>Working Example: <a href=\"https://stackblitz.com/edit/angular-acdxje?file=app/table-basic-example.html\" rel=\"noreferrer\">https://stackblitz.com/edit/angular-acdxje?file=app/table-basic-example.html</a></p>\n"}, {"comments": [{"owner": {"reputation": 394, "user_id": 8276880, "user_type": "registered", "profile_image": "https://graph.facebook.com/1618757451476354/picture?type=large", "display_name": "Nestor Perez", "link": "https://stackoverflow.com/users/8276880/nestor-perez"}, "edited": false, "score": 2, "creation_date": 1572114379, "post_id": 53525491, "comment_id": 103463442, "body": "Thank you, you save my day :D"}, {"owner": {"reputation": 2352, "user_id": 285409, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/e00f0a3eb220dd8775a406c687ec4ebf?s=128&d=identicon&r=PG", "display_name": "Limey", "link": "https://stackoverflow.com/users/285409/limey"}, "edited": false, "score": 2, "creation_date": 1588342645, "post_id": 53525491, "comment_id": 108865781, "body": "you deserve all the up votes!  i spent over an hour trying to figure out why my index didn&#39;t work till I came across your golden nugget!  Thanks so much!"}, {"owner": {"reputation": 2467, "user_id": 1657333, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/fc7874685a8897860552e01c1e269265?s=128&d=identicon&r=PG", "display_name": "Eslam Sameh Ahmed", "link": "https://stackoverflow.com/users/1657333/eslam-sameh-ahmed"}, "edited": false, "score": 3, "creation_date": 1590424118, "post_id": 53525491, "comment_id": 109668038, "body": "Take care that it will repeat per page if you enabled pagination"}], "tags": [], "owner": {"reputation": 23126, "user_id": 64279, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/5xdjT.png?s=128&g=1", "display_name": "adam0101", "link": "https://stackoverflow.com/users/64279/adam0101"}, "is_accepted": false, "score": 88, "last_activity_date": 1549356167, "last_edit_date": 1549356167, "creation_date": 1543428110, "answer_id": 53525491, "question_id": 49648270, "link": "https://stackoverflow.com/questions/49648270/how-to-define-index-in-angular-material-table/53525491#53525491", "title": "how to define index in angular material table", "body": "<p>For anyone who has set the <code>multiTemplateDataRows</code> property of <a href=\"https://material.angular.io/components/table/api#MatTable\" rel=\"noreferrer\">mat-table</a> to true, you can't use <code>index</code>. Instead you have use either <code>dataIndex</code> or <code>renderIndex</code>. </p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;mat-cell *matCellDef=\"let row; let i = dataIndex;\"&gt;{{i}}&lt;/mat-cell&gt;\n</code></pre>\n\n<p>See <a href=\"https://github.com/angular/material2/issues/12793\" rel=\"noreferrer\">https://github.com/angular/material2/issues/12793</a></p>\n"}, {"tags": [], "owner": {"reputation": 5282, "user_id": 3134112, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8990b8e611d60bd869d1c4f06ab6351e?s=128&d=identicon&r=PG&f=1", "display_name": "ElasticCode", "link": "https://stackoverflow.com/users/3134112/elasticcode"}, "is_accepted": false, "score": 6, "last_activity_date": 1554500518, "last_edit_date": 1554500518, "creation_date": 1554479867, "answer_id": 55539331, "question_id": 49648270, "link": "https://stackoverflow.com/questions/49648270/how-to-define-index-in-angular-material-table/55539331#55539331", "title": "how to define index in angular material table", "body": "<p>From Angular 5 you can alias <code>index</code> to local variable <code>i</code> using <code>index as i</code></p>\n\n<pre><code>&lt;ng-container matColumnDef=\"rowIndex\"&gt;\n  &lt;mat-header-cell *matHeaderCellDef&gt; Index &lt;/mat-header-cell&gt;\n  &lt;mat-cell *matCellDef=\"let element;index as i;\"&gt; {{ i }} &lt;/mat-cell&gt;\n&lt;/ng-container&gt;\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 592, "user_id": 1458382, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/213fd7b5fa7e6bbae37acaea6c93a1bf?s=128&d=identicon&r=PG", "display_name": "Muhammad Ali", "link": "https://stackoverflow.com/users/1458382/muhammad-ali"}, "edited": false, "score": 1, "creation_date": 1564165336, "post_id": 56821027, "comment_id": 100954913, "body": "Thanks a lot. This is exactly what I was looking for :)"}, {"owner": {"reputation": 1794, "user_id": 3304663, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0616eca3c03a19eb672d55849febe79e?s=128&d=identicon&r=PG", "display_name": "Aamer Shahzad", "link": "https://stackoverflow.com/users/3304663/aamer-shahzad"}, "edited": false, "score": 1, "creation_date": 1582806130, "post_id": 56821027, "comment_id": 106908590, "body": "<code>&lt;td td mat-cell *matCellDef=&quot;let index = index&quot;&gt;{{ (index + 1) + (paginator.pageIndex * paginator.pageSize) }}&lt;&#47;td&gt;</code> works best for paginated data table. thanks."}, {"owner": {"reputation": 3294, "user_id": 5316255, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/BYJ8v.jpg?s=128&g=1", "display_name": "Saurabh Tiwari", "link": "https://stackoverflow.com/users/5316255/saurabh-tiwari"}, "edited": false, "score": 1, "creation_date": 1608963281, "post_id": 56821027, "comment_id": 115719574, "body": "<code>Worth to note is that you really need the #paginator and [pageSize]=&quot;VALUE&quot;.</code> This is the real key."}], "tags": [], "owner": {"reputation": 3397, "user_id": 11127383, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FulXc.jpg?s=128&g=1", "display_name": "Daniel Danielecki", "link": "https://stackoverflow.com/users/11127383/daniel-danielecki"}, "is_accepted": false, "score": 9, "last_activity_date": 1561844340, "creation_date": 1561844340, "answer_id": 56821027, "question_id": 49648270, "link": "https://stackoverflow.com/questions/49648270/how-to-define-index-in-angular-material-table/56821027#56821027", "title": "how to define index in angular material table", "body": "<p>For those who are facing problem with keeping the right index when using pagination which table has more than 1 page. It can be especially important when you have editable element, thus you're using a <strong>routerLink</strong> to add/edit/delete selected elements.</p>\n\n<pre><code>&lt;ng-container matColumnDef=\"title\"&gt;\n &lt;mat-header-cell *matHeaderCellDef mat-sort-header&gt;Title&lt;/mat-header-cell&gt;\n &lt;mat-cell *matCellDef=\"let book; let i = index;\" fxLayoutAlign.lt-md=\"center center\"&gt;\n  &lt;button mat-button [routerLink]=\"[i + (paginator.pageIndex * paginator.pageSize)]\" routerLinkActive=\"active\"&lt;/button&gt;\n &lt;/mat-cell&gt;\n&lt;/ng-container&gt;\n</code></pre>\n\n<p>As well as</p>\n\n<pre><code>&lt;mat-paginator #paginator [pageSize]=\"5\" [pageSizeOptions]=\"[5, 10, 25, 100]\"&gt;&lt;/mat-paginator&gt;\n</code></pre>\n\n<p>In essence, <strong>i + (paginator.pageIndex * paginator.pageSize)</strong> is the solution, but it counts from <strong>0</strong>. If you'd like to index from <strong>1</strong>, simply make it <strong>(i+1) + (paginator.pageIndex * paginator.pageSize)</strong>. Worth to note is that you really need the <strong>#paginator</strong> and <strong>[pageSize]=\"VALUE\"</strong>.</p>\n"}, {"tags": [], "owner": {"reputation": 953, "user_id": 4582350, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d51de9922a80765fd14fe61af1136a87?s=128&d=identicon&r=PG&f=1", "display_name": "Ram", "link": "https://stackoverflow.com/users/4582350/ram"}, "is_accepted": false, "score": 6, "last_activity_date": 1570699880, "creation_date": 1570699880, "answer_id": 58319758, "question_id": 49648270, "link": "https://stackoverflow.com/questions/49648270/how-to-define-index-in-angular-material-table/58319758#58319758", "title": "how to define index in angular material table", "body": "<p>If someone using <code>&lt;mat-paginator ../&gt;</code>, then index can be interpreted as below</p>\n\n<pre><code>&lt;mat-cell *matCellDef=\"let element; index as i\"&gt; {{paginator.pageSize * paginator.pageIndex + i + 1}}&lt;/mat-cell&gt;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 12000872, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mDoHV3OFdQXv4KBzC4bmUgwAUcwjbcFtkNb0R3WCw=k-s128", "display_name": "Harith Dilshan", "link": "https://stackoverflow.com/users/12000872/harith-dilshan"}, "is_accepted": false, "score": 0, "last_activity_date": 1609581977, "last_edit_date": 1609581977, "creation_date": 1609581807, "answer_id": 65537903, "question_id": 49648270, "link": "https://stackoverflow.com/questions/49648270/how-to-define-index-in-angular-material-table/65537903#65537903", "title": "how to define index in angular material table", "body": "<p>If you are use paginator try this:</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;ng-container matColumnDef=\"position\"&gt;\n  &lt;th mat-header-cell *matHeaderCellDef&gt; Position &lt;/th&gt;\n  &lt;td mat-cell *matCellDef=\"let element; let i = index\"&gt; {{(i+1) + (paginator.pageIndex*paginator.pageSize)}} &lt;/td&gt;\n&lt;/ng-container&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n<p>this working perfectly for Angular version 8.you must use #paginator and [pageSize]=&quot;VALUE&quot;</p>\n"}], "owner": {"reputation": 645, "user_id": 8483823, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c7b74299805eff9dd29d2eaeb92d4727?s=128&d=identicon&r=PG&f=1", "display_name": "pushplata patel", "link": "https://stackoverflow.com/users/8483823/pushplata-patel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 69878, "favorite_count": 8, "accepted_answer_id": 49648620, "answer_count": 6, "score": 61, "last_activity_date": 1610354629, "creation_date": 1522836310, "last_edit_date": 1610354629, "question_id": 49648270, "link": "https://stackoverflow.com/questions/49648270/how-to-define-index-in-angular-material-table", "title": "how to define index in angular material table", "body": "<p>how should I define an index variable when angular material table is used as ngFor is not used in this table. </p>\n\n<p>I did search for it in the documentation but index is not mentioned any where in it. </p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>  &lt;mat-table #table [dataSource]=\"dataSource\"&gt;\r\n\r\n    &lt;!--- Note that these columns can be defined in any order.\r\n          The actual rendered columns are set as a property on the row definition\" --&gt;\r\n\r\n    &lt;!-- Position Column --&gt;\r\n    &lt;ng-container matColumnDef=\"position\"&gt;\r\n      &lt;mat-header-cell *matHeaderCellDef&gt; No. &lt;/mat-header-cell&gt;\r\n      &lt;mat-cell *matCellDef=\"let element\"&gt; {{element.position}} &lt;/mat-cell&gt;\r\n    &lt;/ng-container&gt;\r\n\r\n    &lt;!-- Name Column --&gt;\r\n    &lt;ng-container matColumnDef=\"name\"&gt;\r\n      &lt;mat-header-cell *matHeaderCellDef&gt; Name &lt;/mat-header-cell&gt;\r\n      &lt;mat-cell *matCellDef=\"let element\"&gt; {{element.name}} &lt;/mat-cell&gt;\r\n    &lt;/ng-container&gt;\r\n\r\n    &lt;!-- Weight Column --&gt;\r\n    &lt;ng-container matColumnDef=\"weight\"&gt;\r\n      &lt;mat-header-cell *matHeaderCellDef&gt; Weight &lt;/mat-header-cell&gt;\r\n      &lt;mat-cell *matCellDef=\"let element\"&gt; {{element.weight}} &lt;/mat-cell&gt;\r\n    &lt;/ng-container&gt;\r\n\r\n    &lt;!-- Symbol Column --&gt;\r\n    &lt;ng-container matColumnDef=\"symbol\"&gt;\r\n      &lt;mat-header-cell *matHeaderCellDef&gt; Symbol &lt;/mat-header-cell&gt;\r\n      &lt;mat-cell *matCellDef=\"let element\"&gt; {{element.symbol}} &lt;/mat-cell&gt;\r\n    &lt;/ng-container&gt;\r\n\r\n    &lt;mat-header-row *matHeaderRowDef=\"displayedColumns\"&gt;&lt;/mat-header-row&gt;\r\n    &lt;mat-row *matRowDef=\"let row; columns: displayedColumns;\"&gt;&lt;/mat-row&gt;\r\n  &lt;/mat-table&gt;\r\n&lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>where and how do i define an index variable for the array that  I used in this table, so that I can bind the index value in my table itself.</p>\n"}, {"tags": ["javascript", "angular", "typescript"], "answers": [{"comments": [{"owner": {"reputation": 2388, "user_id": 2039574, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/0c31927b5d17a5c8297da615c9321aa4?s=128&d=identicon&r=PG&f=1", "display_name": "Euridice01", "link": "https://stackoverflow.com/users/2039574/euridice01"}, "edited": false, "score": 0, "creation_date": 1522836965, "post_id": 49648370, "comment_id": 86304840, "body": "Thanks Oscar. Btw, the stackbiltz url you shared isn&#39;t the right one. Can you share the direct url instead (the url address from your browser instead of the one on stackbiltz?)"}], "tags": [], "owner": {"reputation": 16747, "user_id": 3203588, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/68f7842f44e2c6a9889da1aba68d0160?s=128&d=identicon&r=PG&f=1", "display_name": "Oscar Paz", "link": "https://stackoverflow.com/users/3203588/oscar-paz"}, "is_accepted": true, "score": 2, "last_activity_date": 1522837441, "last_edit_date": 1522837441, "creation_date": 1522836594, "answer_id": 49648370, "question_id": 49647537, "link": "https://stackoverflow.com/questions/49647537/updating-order-information-affects-another-order-information/49648370#49648370", "title": "Updating order information affects another order information", "body": "<p>Well, you've got a few problems. I've fixed them in <a href=\"https://stackblitz.com/edit/angular4-onsxlh\" rel=\"nofollow noreferrer\">https://stackblitz.com/edit/angular4-onsxlh</a></p>\n\n<p>The problems are:</p>\n\n<ol>\n<li><p>When you add a new order to the <code>orderDetails</code> array you are adding the same object, over and over, so if you modify one, you modify all:</p>\n\n<p><code>this.orderDetails.push(this.order);</code></p></li>\n</ol>\n\n<p>Instead of this, you must clone the object, if you want <code>this.order</code> to be the default object:</p>\n\n<pre><code>this.orderDetails.push({...this.order});\n</code></pre>\n\n<p>Now, instead of adding the same object, we are adding a clone of the object.</p>\n\n<ol start=\"2\">\n<li>When you call <code>updateTotal</code> you never use the <code>indx</code> of the order being modified. Instead, I don't really know what you are doing, modifying the same global variables (within the component) no matter which order you are editing. Besides, in the template, you are rendering the variable <code>extendedPrice</code> for every item, so it is logical that you always get the same value.</li>\n</ol>\n\n<p>To fix this, you must render the value of <code>order._extendedPrice</code>, so it shows the cost of that item. Also, in <code>updateTotal</code> you must modify the values of the current order, not global variables:</p>\n\n<pre><code>updateTotal(retailPrice: number, number: number, indx: number) {\n  const order = this.orderDetails[indx];\n  order._retailPrice = retailPrice;\n  order._quantity = number;\n  order._extendedPrice = retailPrice * number;\n  this.getTotal();\n}\n</code></pre>\n\n<ol start=\"3\">\n<li>Finally, you're never calculating the sum of all orders. For that, I added the <code>getTotal</code> method, which using <code>reduce</code> sums the extended price of every order.</li>\n</ol>\n\n<p>Now it works as expected.</p>\n"}], "owner": {"reputation": 2388, "user_id": 2039574, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/0c31927b5d17a5c8297da615c9321aa4?s=128&d=identicon&r=PG&f=1", "display_name": "Euridice01", "link": "https://stackoverflow.com/users/2039574/euridice01"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 54, "favorite_count": 0, "accepted_answer_id": 49648370, "answer_count": 1, "score": 0, "last_activity_date": 1522837441, "creation_date": 1522834458, "question_id": 49647537, "link": "https://stackoverflow.com/questions/49647537/updating-order-information-affects-another-order-information", "title": "Updating order information affects another order information", "body": "<p>So I'm trying to create a shopping cart kind of feature but in my scenario, user inputs a number and then a product gets added to a list to be displayed to the end user. The user can edit the price and quantity of the product and on update, the total amount of the price for that particular product should update as well.</p>\n\n<p>The issue I'm facing right now is I enter two numbers, e.g. 1234 and 2345,  two \"order\" divs get generated and they both have price and quantity info for the user to change. Right now, when I change the price or quantity, it affects the total amount. For that product in particular, it works fine but since I entered two sku numbers, then both products total amounts get updated to the last change. So product 1 changes affect product 2 and vice versa.</p>\n\n<p>I was wondering what can I do to fix these issues with this feature?</p>\n\n<p>Here's a stackbiltz where I made the issue reproducible (Sorry for the crappy layout, this was a minimal sample that I could provide and I didn't want to spend time fixing the layout): <a href=\"https://stackblitz.com/edit/angular4-nsy31g\" rel=\"nofollow noreferrer\">https://stackblitz.com/edit/angular4-nsy31g</a></p>\n\n<p>Here's the code: </p>\n\n<p>component: </p>\n\n<pre><code> quantity = 1;\n  retailPrice: number;\n  totalAmount: number;\n  extendedPrice: number;\n  orderDetails: Array&lt;IOrderDetails&gt; = [];\n  order: IOrderDetails;\n  showDetails;\n\n validateNumber(number: number) {\n\n   this.order = {\n        _extendedPrice : 195.95,\n        _retailPrice :  195.95,\n        _quantity : 1,\n        _productSkuKey : number,\n        _lineItemNumber : 1\n      }; \n\n      this.retailPrice = 195.95;\n      this.extendedPrice = this.retailPrice * this.quantity;\n      this.totalAmount = this.retailPrice * this.quantity;\n\n      this.orderDetails.push(this.order);\n      this.showDetails = true;\n\n}\n  updateTotal(retailPrice: number, number: number, indx: number) {\n      this.quantity = number;\n      this.extendedPrice = retailPrice * number;\n      this.totalAmount = retailPrice * number;\n\n  }\n</code></pre>\n\n<p>html: </p>\n\n<pre><code>&lt;p&gt;Calculate values&lt;/p&gt;\n&lt;input #number type=\"number\"&gt;\n&lt;button (click)=\"validateNumber(number.value)\"&gt;enter&lt;/button&gt;\n\n&lt;div *ngIf=\"showDetails\"&gt;\n  &lt;div *ngFor=\"let order of orderDetails; let idx = index\"&gt;\n  &lt;span&gt;\n        &lt;div style=\"padding-left:20px;padding-bottom:10px;\"&gt;Price* &lt;/div&gt;\n        &lt;div&gt;&lt;input #retailPrice class=\"transactionInput\" style=\"width: 120px !important;\" (keyup)=\"updateTotal(retailPrice.value, quantity.value, idx)\" value=\"195.95\" placeholder=\"Enter Price\"/&gt;x&lt;/div&gt;\n        &lt;/span&gt;\n        &lt;span&gt;\n        &lt;div style=\"text-align:center;padding-right:30px;padding-bottom:10px;\"&gt;Qty&lt;/div&gt;\n        &lt;div style=\"text-align:center;\"&gt;\n          &lt;input #quantity type='number' value=\"1\" min=1 oninput=\"validity.valid||(value=1);\" class='qty' (change)=\"updateTotal(retailPrice.value, quantity.value,idx)\"/&gt; =&lt;/div&gt;\n    &lt;/span&gt;\n      &lt;span&gt;\n            &lt;div style=\"text-align:center;\"&gt;\n              Extended Price\n            &lt;/div&gt;\n            &lt;div&gt;&lt;br&gt;&lt;/div&gt;\n            &lt;div style=\"text-align:center;\"&gt;\n              USD ${{extendedPrice | number : '1.2-2'}}\n            &lt;/div&gt;\n      &lt;/span&gt;\n&lt;/div&gt;\n &lt;div class=\"transactionDiv3\"&gt;\n      &lt;div style=\"font-weight:bold; text-align:right; padding-right:20px; padding-bottom:20px;\"&gt; TotalOrderAmount $ {{totalAmount | number : '1.2-2'}} &lt;/div&gt;\n  &lt;/div&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>Just iterate the issues: </p>\n\n<p>1) updating the retail price or quantity show only update the order on that specific item/line and not the other order if I add another order to the list</p>\n\n<p>2) total amount should be the sum of all orders in the list. </p>\n\n<p>Thanks! </p>\n"}, {"tags": ["javascript", "angular", "typescript", "date"], "comments": [{"owner": {"reputation": 3246, "user_id": 4031163, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a43f202249530e4c40877b31eb81140a?s=128&d=identicon&r=PG&f=1", "display_name": "Ru Chern Chong", "link": "https://stackoverflow.com/users/4031163/ru-chern-chong"}, "edited": false, "score": 1, "creation_date": 1522834595, "post_id": 49647536, "comment_id": 86303181, "body": "Have a look at <a href=\"https://momentjs.com/\" rel=\"nofollow noreferrer\">momentjs</a>"}, {"owner": {"reputation": 179, "user_id": 5360088, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/d7c5be2a6ecf94583d53f5fac7a92db8?s=128&d=identicon&r=PG&f=1", "display_name": "MelDsz", "link": "https://stackoverflow.com/users/5360088/meldsz"}, "reply_to_user": {"reputation": 3246, "user_id": 4031163, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a43f202249530e4c40877b31eb81140a?s=128&d=identicon&r=PG&f=1", "display_name": "Ru Chern Chong", "link": "https://stackoverflow.com/users/4031163/ru-chern-chong"}, "edited": false, "score": 0, "creation_date": 1522834708, "post_id": 49647536, "comment_id": 86303254, "body": "Any javascript method to achieve this? @RuChernChong"}, {"owner": {"reputation": 123667, "user_id": 257182, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/f2c683e7dc0c4d4bcc790f87eaa67301?s=128&d=identicon&r=PG", "display_name": "RobG", "link": "https://stackoverflow.com/users/257182/robg"}, "edited": false, "score": 1, "creation_date": 1522844019, "post_id": 49647536, "comment_id": 86309484, "body": "Date objects are always UTC. The timezone offset is from the host, it&#39;s not a property of the Date. The offset is used when creating a Date to ensure the time value is UTC. It is also used to generate &quot;local&quot; (host system) date and time values from the internal UTC time value. If you want a string in a particular format, you can do that yourself or use a formatting library, there are plenty to chose from. See <a href=\"https://stackoverflow.com/questions/1056728/where-can-i-find-documentation-on-formatting-a-date-in-javascript\"><i>Where can I find documentation on formatting a date in JavaScript?</i></a>"}], "answers": [{"comments": [{"owner": {"reputation": 179, "user_id": 5360088, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/d7c5be2a6ecf94583d53f5fac7a92db8?s=128&d=identicon&r=PG&f=1", "display_name": "MelDsz", "link": "https://stackoverflow.com/users/5360088/meldsz"}, "edited": false, "score": 0, "creation_date": 1522897895, "post_id": 49648623, "comment_id": 86336936, "body": "I tried <code>moment(epochDate).utcOffset(tzOffset)</code> here <code>tzOffset</code> is a string say, +05:30. this isn&#39;t working. How can I get the date in a timezone other than UTC"}, {"owner": {"reputation": 16747, "user_id": 3203588, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/68f7842f44e2c6a9889da1aba68d0160?s=128&d=identicon&r=PG&f=1", "display_name": "Oscar Paz", "link": "https://stackoverflow.com/users/3203588/oscar-paz"}, "reply_to_user": {"reputation": 179, "user_id": 5360088, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/d7c5be2a6ecf94583d53f5fac7a92db8?s=128&d=identicon&r=PG&f=1", "display_name": "MelDsz", "link": "https://stackoverflow.com/users/5360088/meldsz"}, "edited": false, "score": 0, "creation_date": 1522922651, "post_id": 49648623, "comment_id": 86349019, "body": "Unfortunately, I&#39;ve never used <code>momentjs</code> myself, so I can&#39;t help you with it."}], "tags": [], "owner": {"reputation": 16747, "user_id": 3203588, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/68f7842f44e2c6a9889da1aba68d0160?s=128&d=identicon&r=PG&f=1", "display_name": "Oscar Paz", "link": "https://stackoverflow.com/users/3203588/oscar-paz"}, "is_accepted": false, "score": 1, "last_activity_date": 1522837385, "creation_date": 1522837385, "answer_id": 49648623, "question_id": 49647536, "link": "https://stackoverflow.com/questions/49647536/constructing-a-date-object-along-with-time-zone/49648623#49648623", "title": "constructing a date object along with time zone", "body": "<p>JavaScript's Date does not store timezone info. It just stores the number of milliseconds from UNIX EPOCH. Then, depending if you use the UTC methods or not, it returns the date and time in UTC or the local time.</p>\n\n<p>You should have to change the date and time, based on the timezone indicated, to UTC or local time, and then store it in a Date object. But, of course, to show the stored time in another timezone different to the local one or UTC, you must do the conversions yourself, so, as @RuChengChong suggested, use a helper library like <code>momentjs</code>.</p>\n"}], "owner": {"reputation": 179, "user_id": 5360088, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/d7c5be2a6ecf94583d53f5fac7a92db8?s=128&d=identicon&r=PG&f=1", "display_name": "MelDsz", "link": "https://stackoverflow.com/users/5360088/meldsz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 43, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1522837462, "creation_date": 1522834456, "last_edit_date": 1522837462, "question_id": 49647536, "link": "https://stackoverflow.com/questions/49647536/constructing-a-date-object-along-with-time-zone", "title": "constructing a date object along with time zone", "body": "<p>I want to construct a <code>Date</code> object along with dynamically selected timezone. I am currently in IST time zone. I want to eliminate the usage of <code>Date.parse()</code> as it does not behave as expected at times. \nlet's assume <code>tzOffset</code> to be <code>+05:30</code> for now. It could be any other timezone based on what users want. <code>new Date(epochDate).toISOString();</code> converts the date to UTC timezone. How do I get the date in <code>toISOString()</code> format but also get it in the desired time zone</p>\n\n<pre><code>const tsConstruct = `${year}-${month}-${date}T${hour}:${min}:00${tzOffset}`;\n      const epochDate = Date.parse(tsConstruct);\n      scheduledTs = new Date(epochDate).toISOString();\n</code></pre>\n"}, {"tags": ["javascript", "angular", "typescript"], "answers": [{"tags": [], "owner": {"reputation": 183792, "user_id": 1749403, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/g0aFU.png?s=128&g=1", "display_name": "Sajeetharan", "link": "https://stackoverflow.com/users/1749403/sajeetharan"}, "is_accepted": true, "score": 3, "last_activity_date": 1522833817, "creation_date": 1522833817, "answer_id": 49647315, "question_id": 49647230, "link": "https://stackoverflow.com/questions/49647230/angular-4-argument-of-type-string-is-not-assignable-to-type-parameter-of-typ/49647315#49647315", "title": "Angular 4 - argument of type string[] is not assignable to type parameter of type &#39;string&#39;", "body": "<p>You cannot set String[] in headers, it should be of type string,</p>\n\n<p>The definition of the set method is:</p>\n\n<pre><code>set(param: string, value: string): HttpParams;\n</code></pre>\n\n<p>so value can be only a <strong><code>string</code></strong>.</p>\n\n<pre><code>let requestParams = new HttpParams().set('pages[]', pages); // it should be string\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 154, "user_id": 9589327, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-eNlIvf500dQ/AAAAAAAAAAI/AAAAAAAAACI/kCAjO8df-Fg/photo.jpg?sz=128", "display_name": "khawar jamil", "link": "https://stackoverflow.com/users/9589327/khawar-jamil"}, "is_accepted": false, "score": 1, "last_activity_date": 1522834009, "creation_date": 1522834009, "answer_id": 49647377, "question_id": 49647230, "link": "https://stackoverflow.com/questions/49647230/angular-4-argument-of-type-string-is-not-assignable-to-type-parameter-of-typ/49647377#49647377", "title": "Angular 4 - argument of type string[] is not assignable to type parameter of type &#39;string&#39;", "body": "<p>HttpParams().set can set only string values.However you can do something like below</p>\n\n<pre><code>   let pages: Array&lt;string&gt; = [];\n    let requestParams = new HttpParams().set('pages[]', pages.join(','));\n</code></pre>\n\n<p>and use split() to get values back into array.</p>\n"}], "owner": {"reputation": 12414, "user_id": 218725, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/42f3760d9b5dcabfb902d2f24f363dcc?s=128&d=identicon&r=PG", "display_name": "Zabs", "link": "https://stackoverflow.com/users/218725/zabs"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 312, "favorite_count": 0, "accepted_answer_id": 49647315, "answer_count": 2, "score": 0, "last_activity_date": 1522834009, "creation_date": 1522833583, "question_id": 49647230, "link": "https://stackoverflow.com/questions/49647230/angular-4-argument-of-type-string-is-not-assignable-to-type-parameter-of-typ", "title": "Angular 4 - argument of type string[] is not assignable to type parameter of type &#39;string&#39;", "body": "<p>I have the following function that shows the following error in the TSlinting - Can anyone suggest why I am getting this error?</p>\n\n<p><code>Argument of type 'string[]' is not assignable to type parameter of type 'string'</code></p>\n\n<pre><code>cancelEvent(id): any {\n    let pages: Array&lt;string&gt; = [];\n    let requestParams = new HttpParams().set('pages[]', pages);\n}\n</code></pre>\n"}, {"tags": ["typescript", "typescript2.0", "method-declaration"], "comments": [{"owner": {"reputation": 9768, "user_id": 8990367, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Dk1Kx.jpg?s=128&g=1", "display_name": "Fateme Fazli", "link": "https://stackoverflow.com/users/8990367/fateme-fazli"}, "edited": false, "score": 0, "creation_date": 1522832680, "post_id": 49646851, "comment_id": 86301846, "body": "see this <a href=\"https://basarat.gitbooks.io/typescript/docs/arrow-functions.html\" rel=\"nofollow noreferrer\">link</a> or <a href=\"https://codecraft.tv/courses/angular/es6-typescript/arrow/\" rel=\"nofollow noreferrer\">this</a>"}, {"owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "edited": false, "score": 0, "creation_date": 1522832813, "post_id": 49646851, "comment_id": 86301946, "body": "Maybe this link helps: <a href=\"https://stackoverflow.com/questions/47433652/different-ways-to-define-a-method-in-typescript/47434165#47434165\" title=\"different ways to define a method in typescript\">stackoverflow.com/questions/47433652/&hellip;</a>"}, {"owner": {"reputation": 25, "user_id": 8091294, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh5.googleusercontent.com/-GKBAP1acixU/AAAAAAAAAAI/AAAAAAAAAEE/yE_u_0YTkZ0/photo.jpg?sz=128", "display_name": "Im Flash", "link": "https://stackoverflow.com/users/8091294/im-flash"}, "edited": false, "score": 0, "creation_date": 1522923547, "post_id": 49646851, "comment_id": 86349653, "body": "Thank you all for the support! I marked my question as duplicate. I apologize, but i didn&#39;t know what to look for"}], "answers": [{"comments": [{"owner": {"reputation": 22898, "user_id": 1915893, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/580b31b0be7173bbc477ca1d6967d87c?s=128&d=identicon&r=PG", "display_name": "Aluan Haddad", "link": "https://stackoverflow.com/users/1915893/aluan-haddad"}, "edited": false, "score": 0, "creation_date": 1522876715, "post_id": 49647177, "comment_id": 86330770, "body": "Sorry but this is not quite correct. The question asks about method syntax vs property syntax."}, {"owner": {"reputation": 1305, "user_id": 2902161, "user_type": "registered", "accept_rate": 50, "profile_image": "https://graph.facebook.com/1261558429/picture?type=large", "display_name": "Ante Jablan Adamovi\u0107", "link": "https://stackoverflow.com/users/2902161/ante-jablan-adamovi%c4%87"}, "reply_to_user": {"reputation": 22898, "user_id": 1915893, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/580b31b0be7173bbc477ca1d6967d87c?s=128&d=identicon&r=PG", "display_name": "Aluan Haddad", "link": "https://stackoverflow.com/users/1915893/aluan-haddad"}, "edited": false, "score": 0, "creation_date": 1522878473, "post_id": 49647177, "comment_id": 86331591, "body": "And what exactly is not correct in my answer ? Also I am pretty sure he&#39;s asking about the difference in function declaration ..."}, {"owner": {"reputation": 1305, "user_id": 2902161, "user_type": "registered", "accept_rate": 50, "profile_image": "https://graph.facebook.com/1261558429/picture?type=large", "display_name": "Ante Jablan Adamovi\u0107", "link": "https://stackoverflow.com/users/2902161/ante-jablan-adamovi%c4%87"}, "reply_to_user": {"reputation": 22898, "user_id": 1915893, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/580b31b0be7173bbc477ca1d6967d87c?s=128&d=identicon&r=PG", "display_name": "Aluan Haddad", "link": "https://stackoverflow.com/users/1915893/aluan-haddad"}, "edited": false, "score": 1, "creation_date": 1522910881, "post_id": 49647177, "comment_id": 86341346, "body": "The link you passed in the comment has exactly the same answer as mine ... you failed to make your point."}, {"owner": {"reputation": 25, "user_id": 8091294, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh5.googleusercontent.com/-GKBAP1acixU/AAAAAAAAAAI/AAAAAAAAAEE/yE_u_0YTkZ0/photo.jpg?sz=128", "display_name": "Im Flash", "link": "https://stackoverflow.com/users/8091294/im-flash"}, "reply_to_user": {"reputation": 22898, "user_id": 1915893, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/580b31b0be7173bbc477ca1d6967d87c?s=128&d=identicon&r=PG", "display_name": "Aluan Haddad", "link": "https://stackoverflow.com/users/1915893/aluan-haddad"}, "edited": false, "score": 0, "creation_date": 1522923352, "post_id": 49647177, "comment_id": 86349507, "body": "Thank you mate. I was asking about function declaration as well @AluanHaddad."}, {"owner": {"reputation": 22898, "user_id": 1915893, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/580b31b0be7173bbc477ca1d6967d87c?s=128&d=identicon&r=PG", "display_name": "Aluan Haddad", "link": "https://stackoverflow.com/users/1915893/aluan-haddad"}, "edited": false, "score": 0, "creation_date": 1522996145, "post_id": 49647177, "comment_id": 86384493, "body": "@AnteJablanAdamovi\u0107 you&#39;re right, I overlooked that. Sorry: +1"}], "tags": [], "owner": {"reputation": 1305, "user_id": 2902161, "user_type": "registered", "accept_rate": 50, "profile_image": "https://graph.facebook.com/1261558429/picture?type=large", "display_name": "Ante Jablan Adamovi\u0107", "link": "https://stackoverflow.com/users/2902161/ante-jablan-adamovi%c4%87"}, "is_accepted": true, "score": 1, "last_activity_date": 1522833449, "creation_date": 1522833449, "answer_id": 49647177, "question_id": 49646851, "link": "https://stackoverflow.com/questions/49646851/typescript-function-declaration-style-difference/49647177#49647177", "title": "Typescript Function Declaration, style difference", "body": "<p>You are referring to <strong>regular functions</strong> and <strong>arrow function</strong>, they're explained in detail in TypeScript docs:\n<a href=\"http://www.typescriptlang.org/docs/handbook/functions.html\" rel=\"nofollow noreferrer\">http://www.typescriptlang.org/docs/handbook/functions.html</a></p>\n\n<p>The general difference between a regular function and arrow function is that regular function operates within it's own scope (this) while arrow function remains in the scope of the parent.</p>\n"}], "owner": {"reputation": 25, "user_id": 8091294, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh5.googleusercontent.com/-GKBAP1acixU/AAAAAAAAAAI/AAAAAAAAAEE/yE_u_0YTkZ0/photo.jpg?sz=128", "display_name": "Im Flash", "link": "https://stackoverflow.com/users/8091294/im-flash"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 105, "favorite_count": 0, "closed_date": 1522923383, "accepted_answer_id": 49647177, "answer_count": 1, "score": 0, "last_activity_date": 1522833449, "creation_date": 1522832440, "question_id": 49646851, "link": "https://stackoverflow.com/questions/49646851/typescript-function-declaration-style-difference", "closed_reason": "Duplicate", "title": "Typescript Function Declaration, style difference", "body": "<p>I started to use Typescript and i don't get what differences in these method declarations are:</p>\n\n<pre><code>onSave(){ /*method body*/ }\npublic onSave = () =&gt; { /*method body*/ }\n</code></pre>\n\n<p>Also, What I am supposed to search on Google or StackOverflow to find more about this topic?</p>\n\n<p>Thank you,</p>\n\n<p>(Sorry for the long post :D)</p>\n"}, {"tags": ["javascript", "angular", "typescript"], "comments": [{"owner": {"reputation": 3562, "user_id": 5677886, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/arsmW.jpg?s=128&g=1", "display_name": "Yerkon", "link": "https://stackoverflow.com/users/5677886/yerkon"}, "edited": false, "score": 1, "creation_date": 1523251994, "post_id": 49646657, "comment_id": 86465955, "body": "Create StackBlitz example of your problem"}], "answers": [{"comments": [{"owner": {"reputation": 13201, "user_id": 3486691, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6dc01f3f85a630c36252819704ad397d?s=128&d=identicon&r=PG", "display_name": "ForestG", "link": "https://stackoverflow.com/users/3486691/forestg"}, "reply_to_user": {"reputation": 2388, "user_id": 2039574, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/0c31927b5d17a5c8297da615c9321aa4?s=128&d=identicon&r=PG&f=1", "display_name": "Euridice01", "link": "https://stackoverflow.com/users/2039574/euridice01"}, "edited": false, "score": 0, "creation_date": 1522836593, "post_id": 49646778, "comment_id": 86304586, "body": "The error message indicates, that your error response does not contains a &quot;_errorMessages&quot; property. What does this show you in the console upon error?  <code>(err) =&gt; { console.log(&quot;error object:&quot;, err); }</code> You should bind your transactionResponse local object accordingly."}, {"owner": {"reputation": 2388, "user_id": 2039574, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/0c31927b5d17a5c8297da615c9321aa4?s=128&d=identicon&r=PG&f=1", "display_name": "Euridice01", "link": "https://stackoverflow.com/users/2039574/euridice01"}, "edited": false, "score": 0, "creation_date": 1522839862, "post_id": 49646778, "comment_id": 86306688, "body": "ForestG, my error response does contain a _message property though. Here&#39;s the console.log I get: &quot;error object: Http failure response for http://~/api/transactions/U004/search/bill/B123: 404 Not Found&quot;"}, {"owner": {"reputation": 13201, "user_id": 3486691, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6dc01f3f85a630c36252819704ad397d?s=128&d=identicon&r=PG", "display_name": "ForestG", "link": "https://stackoverflow.com/users/3486691/forestg"}, "reply_to_user": {"reputation": 2388, "user_id": 2039574, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/0c31927b5d17a5c8297da615c9321aa4?s=128&d=identicon&r=PG&f=1", "display_name": "Euridice01", "link": "https://stackoverflow.com/users/2039574/euridice01"}, "edited": false, "score": 0, "creation_date": 1522841576, "post_id": 49646778, "comment_id": 86307808, "body": "This is the message your browser lets through to your app. You can work from there: just simply set your this.transactionResponse by hand in the error handling."}, {"owner": {"reputation": 2388, "user_id": 2039574, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/0c31927b5d17a5c8297da615c9321aa4?s=128&d=identicon&r=PG&f=1", "display_name": "Euridice01", "link": "https://stackoverflow.com/users/2039574/euridice01"}, "edited": false, "score": 0, "creation_date": 1522851369, "post_id": 49646778, "comment_id": 86315204, "body": "I tried to do that but it is undefined. How do I define it in the error when I only define it in the subscribe?"}], "tags": [], "owner": {"reputation": 13201, "user_id": 3486691, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6dc01f3f85a630c36252819704ad397d?s=128&d=identicon&r=PG", "display_name": "ForestG", "link": "https://stackoverflow.com/users/3486691/forestg"}, "is_accepted": false, "score": 2, "last_activity_date": 1522832229, "creation_date": 1522832229, "answer_id": 49646778, "question_id": 49646657, "link": "https://stackoverflow.com/questions/49646657/how-do-i-get-the-post-json-when-there-is-a-404-error/49646778#49646778", "title": "How do I get the post json when there is a 404 error?", "body": "<p>Your problem is that in the event of an error, your </p>\n\n<pre><code>data =&gt; {\n       this.transactionResponse = data;\n</code></pre>\n\n<p>code does not get called - you got an <strong>error</strong> response, not a normal response afterall. </p>\n\n<p>Try to get the information from the </p>\n\n<pre><code> }, (err) =&gt; { this.transactionResponse = err\n</code></pre>\n\n<p>part. </p>\n"}, {"comments": [{"owner": {"reputation": 2388, "user_id": 2039574, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/0c31927b5d17a5c8297da615c9321aa4?s=128&d=identicon&r=PG&f=1", "display_name": "Euridice01", "link": "https://stackoverflow.com/users/2039574/euridice01"}, "edited": false, "score": 0, "creation_date": 1523059398, "post_id": 49700367, "comment_id": 86418630, "body": "I have the latest angular version and it still doesn&#39;t work. I get the error, &quot;Cannot read property &#39;_errorDetails&#39; of undefined for the binding set in my html. If I add the ? operator, I only get: &quot;http://~/api/transactions/U004/search/bill/fgfgf 404 (Not Found)&quot; message in the console window."}, {"owner": {"reputation": 2388, "user_id": 2039574, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/0c31927b5d17a5c8297da615c9321aa4?s=128&d=identicon&r=PG&f=1", "display_name": "Euridice01", "link": "https://stackoverflow.com/users/2039574/euridice01"}, "edited": false, "score": 0, "creation_date": 1523059466, "post_id": 49700367, "comment_id": 86418645, "body": "Can you make a StackBlitz to show your test example?"}, {"owner": {"reputation": 441, "user_id": 2391959, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f35359c37ba4aba8cdab9ba0654713d9?s=128&d=identicon&r=PG", "display_name": "josavish", "link": "https://stackoverflow.com/users/2391959/josavish"}, "reply_to_user": {"reputation": 2388, "user_id": 2039574, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/0c31927b5d17a5c8297da615c9321aa4?s=128&d=identicon&r=PG&f=1", "display_name": "Euridice01", "link": "https://stackoverflow.com/users/2039574/euridice01"}, "edited": false, "score": 0, "creation_date": 1523082266, "post_id": 49700367, "comment_id": 86422338, "body": "@Euridice01 The answer has been updated with a link to a <a href=\"https://stackblitz.com/edit/angular-shybo7?file=app%2Fapp.component.ts\" rel=\"nofollow noreferrer\">StackBlitz example</a>"}, {"owner": {"reputation": 2388, "user_id": 2039574, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/0c31927b5d17a5c8297da615c9321aa4?s=128&d=identicon&r=PG&f=1", "display_name": "Euridice01", "link": "https://stackoverflow.com/users/2039574/euridice01"}, "reply_to_user": {"reputation": 123770, "user_id": 2830850, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e48b39b77bf324de9aeefd6c5bfc10c6?s=128&d=identicon&r=PG&f=1", "display_name": "Tarun Lalwani", "link": "https://stackoverflow.com/users/2830850/tarun-lalwani"}, "edited": false, "score": 0, "creation_date": 1523245945, "post_id": 49700367, "comment_id": 86464407, "body": "@TarunLalwani unfortunately, not yet :( I&#39;m trying to see why it doesn&#39;t work for me in my case I highlighted above."}, {"owner": {"reputation": 2388, "user_id": 2039574, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/0c31927b5d17a5c8297da615c9321aa4?s=128&d=identicon&r=PG&f=1", "display_name": "Euridice01", "link": "https://stackoverflow.com/users/2039574/euridice01"}, "edited": false, "score": 0, "creation_date": 1523245971, "post_id": 49700367, "comment_id": 86464417, "body": "@josavish, where are you setting isTrusted json?"}, {"owner": {"reputation": 441, "user_id": 2391959, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f35359c37ba4aba8cdab9ba0654713d9?s=128&d=identicon&r=PG", "display_name": "josavish", "link": "https://stackoverflow.com/users/2391959/josavish"}, "edited": false, "score": 0, "creation_date": 1523246569, "post_id": 49700367, "comment_id": 86464526, "body": "The dev server that Stack Blitz uses is returning that response. If you try to hit the back-end using Postman or some equivalent with a resource that doesn&#39;t exist, is there a response that comes back? It may be that the server isn&#39;t returning a response. Or at least, it&#39;s not returning a response that the <code>HttpClient</code> can decipher."}], "tags": [], "owner": {"reputation": 441, "user_id": 2391959, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f35359c37ba4aba8cdab9ba0654713d9?s=128&d=identicon&r=PG", "display_name": "josavish", "link": "https://stackoverflow.com/users/2391959/josavish"}, "is_accepted": true, "score": 7, "last_activity_date": 1523082144, "last_edit_date": 1523082144, "creation_date": 1523045513, "answer_id": 49700367, "question_id": 49646657, "link": "https://stackoverflow.com/questions/49646657/how-do-i-get-the-post-json-when-there-is-a-404-error/49700367#49700367", "title": "How do I get the post json when there is a 404 error?", "body": "<p>The response body from the server should be in the <code>error</code> property of the error response that comes back in the <code>error</code> callback.</p>\n\n<p>Regarding <a href=\"https://angular.io/api/common/http/HttpErrorResponse#description\" rel=\"noreferrer\">HttpErrorResponse</a>, the documentation states:</p>\n\n<ul>\n<li>A response that represents an error or failure, either from a non-successful HTTP status, an error while executing the request, or some other failure which occurred during the parsing of the response.</li>\n<li>Any error returned on the <code>Observable</code> response stream will be wrapped in an <code>HttpErrorResponse</code> to provide additional context about the state of the HTTP layer when the error occurred. The error property will contain either a wrapped <code>Error</code> object or the error response returned from the server.</li>\n</ul>\n\n<p>If you want to use the same <code>transactionResponse</code> to display the errors, then assign the <code>error</code> property of the <code>err</code> that comes back to <code>this.transactionResponse</code>.</p>\n\n<p><strong>Service Call</strong></p>\n\n<pre><code>this._transactionService.findExistingTransaction(user, searchNumber).subscribe(\n   (data) =&gt; {\n\n     this.transactionResponse = data;\n     console.log(JSON.stringify(this.transactionResponse));\n\n     this.router.navigate(['/edit-transaction-portal'], {queryParams: {bill: searchNumber}});\n\n     this.onDismiss();\n  },\n  (err: HttpErrorResponse) =&gt; {\n    this.displayErrors = true;\n\n    // assign the error property of the err that comes back to the transactionResponse\n    this.transactionResponse = err.error;\n  });\n</code></pre>\n\n<p><strong>HTML</strong>\nThen this will work.</p>\n\n<pre><code>&lt;input #inputtedNumber class=\"transactionInput\" placeholder=\"{{ numberPlaceholder | translate }}\"/&gt;\n&lt;div class=\"error-msg1\" *ngIf=\"displayErrors\" style=\"margin-left:90px;\" name=\"errorMsg\"&gt;\n    {{transactionResponse._errorDetails._message}}\n&lt;/div&gt;\n</code></pre>\n\n<p>There was some work done to this part of Angular in September 2017. <a href=\"https://github.com/angular/angular/pull/19477\" rel=\"noreferrer\">parse error response body for responseType \"json\"</a> So you may need to update Angular depending on your version.</p>\n\n<p>This solution was tested on the following:</p>\n\n<ul>\n<li>Node v8.2.1</li>\n<li>NPM v5.3.0</li>\n<li>Angular CLI: 1.7.2</li>\n<li>Angular: 5.0.0</li>\n</ul>\n\n<p><strong>Edit: StackBlitz example</strong></p>\n\n<p><a href=\"https://stackblitz.com/edit/angular-shybo7?file=app%2Fapp.component.ts\" rel=\"noreferrer\">HttpErrorResponse StackBlitz example</a></p>\n\n<p>This example makes some assumptions about what the service looks like and what endpoint it is calling. The service makes a <code>POST</code> call to <code>www.google.com</code>. This fails and returns an <code>HttpErrorResponse</code>.</p>\n\n<pre><code>{\n  \"isTrusted\": true\n}\n</code></pre>\n\n<p>The <code>error</code> property of the <code>HttpErrorResponse</code> is assigned to <code>this._transactionResponse</code>. This can then be accessed in the template and displayed in the browser.</p>\n"}, {"comments": [{"owner": {"reputation": 2388, "user_id": 2039574, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/0c31927b5d17a5c8297da615c9321aa4?s=128&d=identicon&r=PG&f=1", "display_name": "Euridice01", "link": "https://stackoverflow.com/users/2039574/euridice01"}, "edited": false, "score": 0, "creation_date": 1523314693, "post_id": 49726239, "comment_id": 86500381, "body": "I&#39;m trying to get back the data from my json object not the default server error."}, {"owner": {"reputation": 3562, "user_id": 5677886, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/arsmW.jpg?s=128&g=1", "display_name": "Yerkon", "link": "https://stackoverflow.com/users/5677886/yerkon"}, "reply_to_user": {"reputation": 2388, "user_id": 2039574, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/0c31927b5d17a5c8297da615c9321aa4?s=128&d=identicon&r=PG&f=1", "display_name": "Euridice01", "link": "https://stackoverflow.com/users/2039574/euridice01"}, "edited": false, "score": 0, "creation_date": 1523331532, "post_id": 49726239, "comment_id": 86504318, "body": "@Euridice01, when return this data <code>{          &quot;_transactionNumber&quot;:null,        &quot;_order&quot;:null,        &quot;_errorDetails&quot;:{             &quot;_status&quot;:&quot;404&quot;,           &quot;_message&quot;:&quot;Number is not available&quot;        }     }</code> did you return <code>status code</code> in header?"}], "tags": [], "owner": {"reputation": 3562, "user_id": 5677886, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/arsmW.jpg?s=128&g=1", "display_name": "Yerkon", "link": "https://stackoverflow.com/users/5677886/yerkon"}, "is_accepted": false, "score": 0, "last_activity_date": 1523252369, "creation_date": 1523252369, "answer_id": 49726239, "question_id": 49646657, "link": "https://stackoverflow.com/questions/49646657/how-do-i-get-the-post-json-when-there-is-a-404-error/49726239#49726239", "title": "How do I get the post json when there is a 404 error?", "body": "<blockquote>\n  <p>I have a service call that when it returns a 404 error, I want to\n  display the message that comes from the server when the status is 404</p>\n</blockquote>\n\n<p>...</p>\n\n<blockquote>\n  <p>I bind to the transactionResponse object that I get back from my\n  service call. Unfortunately, although I believe this should work, I\n  get the issue that _errorDetails is undefined and so nothing shows up.</p>\n</blockquote>\n\n<p>Try this:</p>\n\n<p><a href=\"https://stackblitz.com/edit/angular-http-error-msg\" rel=\"nofollow noreferrer\">StackBlitz EXAMPLE</a></p>\n"}, {"tags": [], "owner": {"reputation": 1509, "user_id": 2093371, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hNNb8.jpg?s=128&g=1", "display_name": "hestellezg", "link": "https://stackoverflow.com/users/2093371/hestellezg"}, "is_accepted": false, "score": 2, "last_activity_date": 1523633810, "last_edit_date": 1523633810, "creation_date": 1523306180, "answer_id": 49741323, "question_id": 49646657, "link": "https://stackoverflow.com/questions/49646657/how-do-i-get-the-post-json-when-there-is-a-404-error/49741323#49741323", "title": "How do I get the post json when there is a 404 error?", "body": "<p>I think you can use a <a href=\"https://codingthesmartway.com/angular-4-3-httpclient-accessing-rest-web-services-with-angular/\" rel=\"nofollow noreferrer\">typed response:</a></p>\n\n<p>On your <code>error</code> notification type you could have something like:</p>\n\n<pre><code>err =&gt;  {\n        this.localErrorResponse = err as ErrorResponse;\n        this._order= this.localErrorResponse._order;\n      }\n</code></pre>\n\n<p>inside your class, also, you could have:</p>\n\n<pre><code>import { ErrorResponse } from './error-response';\n\nlocalErrorResponse: ErrorResponse;\n_order: string;\n</code></pre>\n\n<p>and then, you could have your <code>ErrorResponse</code> class like:</p>\n\n<pre><code>import { ErrorDetail } from './error-detail';\n\nexport class ErrorResponse{\n  _transactionNumber: number;\n  _order: string;\n  _errorDetails: ErrorDetail;\n}\n</code></pre>\n\n<p>and class <code>ErrorDetail</code></p>\n\n<pre><code>export class ErrorDetail {\n  _status: number;\n  _message: string\n}\n</code></pre>\n\n<p>then you can map some other variables, as <code>_order</code> (<code>this._order</code>), or get them from your <code>localErrorResponse</code> (<code>this.localErrorResponse</code>) variable</p>\n"}], "owner": {"reputation": 2388, "user_id": 2039574, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/0c31927b5d17a5c8297da615c9321aa4?s=128&d=identicon&r=PG&f=1", "display_name": "Euridice01", "link": "https://stackoverflow.com/users/2039574/euridice01"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4674, "favorite_count": 1, "accepted_answer_id": 49700367, "answer_count": 4, "score": 7, "last_activity_date": 1523633810, "creation_date": 1522831858, "last_edit_date": 1522856618, "question_id": 49646657, "link": "https://stackoverflow.com/questions/49646657/how-do-i-get-the-post-json-when-there-is-a-404-error", "title": "How do I get the post json when there is a 404 error?", "body": "<p>I have a service call that when it returns a 404 error, I want to display the message that comes from the server when the status is 404. So, in event of an error or success, I get a post json that gives me a status code and message that indicates if it was successful or not. </p>\n\n<p>Currrently, I have this service call: </p>\n\n<pre><code> this._transactionService.findExistingTransaction(user, searchNumber)\n       .subscribe(data =&gt; {\n\n       this.transactionResponse = data;\n       console.log(JSON.stringify(this.transactionResponse));\n\n       this.router.navigate(['/edit-transaction-portal'], {queryParams: {bill: searchNumber}});\n\n       this.onDismiss();\n      }, (err) =&gt; { this.displayErrors = true;});\n</code></pre>\n\n<p>on error, it will set the bool displayErrors = true and then I can show the error message in my UI. </p>\n\n<p>In html code: </p>\n\n<pre><code> &lt;input #inputtedNumber class=\"transactionInput\" placeholder=\"{{numberPlaceholder | translate }}\"/&gt;\n        &lt;div class=\"error-msg1\" *ngIf=\"displayErrors\" style=\"margin-left:90px;\" name=\"errorMsg\"&gt;\n           {{transactionResponse._errorDetails._message}} &lt;/div&gt;\n</code></pre>\n\n<p>This is the json that gets posted back when I directly try to access api endpoint: </p>\n\n<pre><code>{  \n   \"_transactionNumber\":null,\n   \"_order\":null,\n   \"_errorDetails\":{  \n      \"_status\":\"404\",\n      \"_message\":\"Number is not available\"\n   }\n}\n</code></pre>\n\n<p>I bind to the transactionResponse object that I get back from my service call. Unfortunately, although I believe this should work, I get the issue that _errorDetails is undefined and so nothing shows up. </p>\n\n<p>I wonder if this is the right setup for something like this? If now, how can I fix it? </p>\n\n<p>Thanks! </p>\n\n<p>EDIT: Duplicate SO post with no answer: <a href=\"https://stackoverflow.com/questions/46324494/how-to-read-custom-error-message-from-backend-in-angular-4-2\">How to read Custom error message from backend in Angular 4/2</a></p>\n"}, {"tags": ["javascript", "typescript", "ecmascript-6"], "comments": [{"owner": {"reputation": 2536, "user_id": 3432373, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/dd9272a0aaa7744349c43b461406b276?s=128&d=identicon&r=PG&f=1", "display_name": "t3__rry", "link": "https://stackoverflow.com/users/3432373/t3-rry"}, "edited": false, "score": 0, "creation_date": 1522830756, "post_id": 49646257, "comment_id": 86300588, "body": "Do you need to use it in vanilla JS or with a lib/framework?"}, {"owner": {"reputation": 11799, "user_id": 9259778, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/R157q.jpg?s=128&g=1", "display_name": "Nurbol Alpysbayev", "link": "https://stackoverflow.com/users/9259778/nurbol-alpysbayev"}, "reply_to_user": {"reputation": 2536, "user_id": 3432373, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/dd9272a0aaa7744349c43b461406b276?s=128&d=identicon&r=PG&f=1", "display_name": "t3__rry", "link": "https://stackoverflow.com/users/3432373/t3-rry"}, "edited": false, "score": 0, "creation_date": 1522830870, "post_id": 49646257, "comment_id": 86300662, "body": "Vanilla JS / TypeScript, no lib or framework"}, {"owner": {"reputation": 3078, "user_id": 8343610, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Pg6PA.jpg?s=128&g=1", "display_name": "Jesse", "link": "https://stackoverflow.com/users/8343610/jesse"}, "edited": false, "score": 0, "creation_date": 1522831177, "post_id": 49646257, "comment_id": 86300850, "body": "So, if I understand correctly, you want to execute some code in <code>Parent</code> everytime after creating a <code>Child</code>?"}, {"owner": {"reputation": 11799, "user_id": 9259778, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/R157q.jpg?s=128&g=1", "display_name": "Nurbol Alpysbayev", "link": "https://stackoverflow.com/users/9259778/nurbol-alpysbayev"}, "reply_to_user": {"reputation": 3078, "user_id": 8343610, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Pg6PA.jpg?s=128&g=1", "display_name": "Jesse", "link": "https://stackoverflow.com/users/8343610/jesse"}, "edited": false, "score": 0, "creation_date": 1522831209, "post_id": 49646257, "comment_id": 86300869, "body": "@JessedeBruijne, yes you got it :)"}, {"owner": {"reputation": 3078, "user_id": 8343610, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Pg6PA.jpg?s=128&g=1", "display_name": "Jesse", "link": "https://stackoverflow.com/users/8343610/jesse"}, "edited": false, "score": 0, "creation_date": 1522831433, "post_id": 49646257, "comment_id": 86301015, "body": "Maybe this answer will help you: <a href=\"https://stackoverflow.com/questions/1789892/access-parent-object-in-javascript\" title=\"access parent object in javascript\">stackoverflow.com/questions/1789892/&hellip;</a>"}, {"owner": {"reputation": 11799, "user_id": 9259778, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/R157q.jpg?s=128&g=1", "display_name": "Nurbol Alpysbayev", "link": "https://stackoverflow.com/users/9259778/nurbol-alpysbayev"}, "reply_to_user": {"reputation": 3078, "user_id": 8343610, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Pg6PA.jpg?s=128&g=1", "display_name": "Jesse", "link": "https://stackoverflow.com/users/8343610/jesse"}, "edited": false, "score": 0, "creation_date": 1522831962, "post_id": 49646257, "comment_id": 86301351, "body": "@JessedeBruijne Thanks. The accepted answer in the link you provided has possible solution, but it is nothing more than manual method calling after creating child object. That is not beautiful :)"}, {"owner": {"reputation": 11799, "user_id": 9259778, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/R157q.jpg?s=128&g=1", "display_name": "Nurbol Alpysbayev", "link": "https://stackoverflow.com/users/9259778/nurbol-alpysbayev"}, "edited": false, "score": 0, "creation_date": 1522832081, "post_id": 49646257, "comment_id": 86301437, "body": "@TheReason Oh, sorry, I didn&#39;t mention, that someChildCode() accesses &quot;this&quot;, and JS does not allow accessing &quot;this&quot; before super(), so that won&#39;t work"}], "answers": [{"comments": [{"owner": {"reputation": 11799, "user_id": 9259778, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/R157q.jpg?s=128&g=1", "display_name": "Nurbol Alpysbayev", "link": "https://stackoverflow.com/users/9259778/nurbol-alpysbayev"}, "edited": false, "score": 0, "creation_date": 1522832589, "post_id": 49646691, "comment_id": 86301786, "body": "Thanks, but someCode() still executes before the code, that I want to execute (someChildCode())"}, {"owner": {"reputation": 154, "user_id": 9589327, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-eNlIvf500dQ/AAAAAAAAAAI/AAAAAAAAACI/kCAjO8df-Fg/photo.jpg?sz=128", "display_name": "khawar jamil", "link": "https://stackoverflow.com/users/9589327/khawar-jamil"}, "reply_to_user": {"reputation": 11799, "user_id": 9259778, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/R157q.jpg?s=128&g=1", "display_name": "Nurbol Alpysbayev", "link": "https://stackoverflow.com/users/9259778/nurbol-alpysbayev"}, "edited": false, "score": 0, "creation_date": 1522833492, "post_id": 49646691, "comment_id": 86302402, "body": "Will this work... class Parent{  someCode(){    console.log(&quot;somecode&quot;);   } }  class Child extends Parent{     constructor(){      super();      super.someCode() \t console.log(&quot;childCode&quot;);     }  }"}], "tags": [], "owner": {"reputation": 154, "user_id": 9589327, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-eNlIvf500dQ/AAAAAAAAAAI/AAAAAAAAACI/kCAjO8df-Fg/photo.jpg?sz=128", "display_name": "khawar jamil", "link": "https://stackoverflow.com/users/9589327/khawar-jamil"}, "is_accepted": false, "score": 0, "last_activity_date": 1522831960, "creation_date": 1522831960, "answer_id": 49646691, "question_id": 49646257, "link": "https://stackoverflow.com/questions/49646257/in-two-es6-parent-child-classes-is-there-a-way-to-execute-some-code-in-parent-c/49646691#49646691", "title": "In two ES6 Parent-Child classes, is there a way to execute some code in parent class immediately after child constructor executes?", "body": "<p>If I understand this correctly, you can have an intermediate parent to achieve this given your code is generic and does not depend on child.</p>\n\n<pre><code>class Parent(){\n}\nclass InterMediateParent extends Parent{\n   constructor(){\n      super();\n      someCode();\n   }\n\n}\n\nclass Child extends InterMediateParent{\n    constructor(){\n     super();\n    }\n\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 11799, "user_id": 9259778, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/R157q.jpg?s=128&g=1", "display_name": "Nurbol Alpysbayev", "link": "https://stackoverflow.com/users/9259778/nurbol-alpysbayev"}, "edited": false, "score": 0, "creation_date": 1522832488, "post_id": 49646812, "comment_id": 86301723, "body": "Thanks, but you missed this part &quot; ...execute some code after someChildCode(). Yes, I can place it there, but requirement is not placing that code there...&quot;"}, {"owner": {"reputation": 1092, "user_id": 9167609, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/141aa63001cf2ec7ffbb8672be1c97aa?s=128&d=identicon&r=PG&f=1", "display_name": "Vishal-Lia", "link": "https://stackoverflow.com/users/9167609/vishal-lia"}, "reply_to_user": {"reputation": 11799, "user_id": 9259778, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/R157q.jpg?s=128&g=1", "display_name": "Nurbol Alpysbayev", "link": "https://stackoverflow.com/users/9259778/nurbol-alpysbayev"}, "edited": false, "score": 0, "creation_date": 1522833056, "post_id": 49646812, "comment_id": 86302104, "body": "@NurbolAlpysbayev,  I have edited the code. I hope this is what you need, if not be more clear about what you want and edit the question."}], "tags": [], "owner": {"reputation": 1092, "user_id": 9167609, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/141aa63001cf2ec7ffbb8672be1c97aa?s=128&d=identicon&r=PG&f=1", "display_name": "Vishal-Lia", "link": "https://stackoverflow.com/users/9167609/vishal-lia"}, "is_accepted": false, "score": 0, "last_activity_date": 1522832952, "last_edit_date": 1522832952, "creation_date": 1522832320, "answer_id": 49646812, "question_id": 49646257, "link": "https://stackoverflow.com/questions/49646257/in-two-es6-parent-child-classes-is-there-a-way-to-execute-some-code-in-parent-c/49646812#49646812", "title": "In two ES6 Parent-Child classes, is there a way to execute some code in parent class immediately after child constructor executes?", "body": "<p>You can add that function to the <em>Parent prototype</em> so that only one copy is maintained across all child objects and call that function in child's constructor.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>class Parent { \r\n  constructor() {\r\n  \r\n  } \r\n} \r\n\r\nParent.prototype.someCommonCode = function() {\r\n  console.log(\"Common code for all Parent as well as it's child objects\");\r\n}\r\n\r\nclass Child extends Parent {\r\n  constructor() {\r\n    //Child class code\r\n    super();\r\n    \r\n    //Some child code\r\n    this.someChildCode();\r\n    \r\n    //Call Parent's common function\r\n    super.someCommonCode();\r\n  }\r\n  \r\n  someChildCode() {\r\n     console.log(\"Some child code\");\r\n  }\r\n}\r\n\r\nlet child1 = new Child();\r\nlet child2 = new Child();</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"comments": [{"owner": {"reputation": 11799, "user_id": 9259778, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/R157q.jpg?s=128&g=1", "display_name": "Nurbol Alpysbayev", "link": "https://stackoverflow.com/users/9259778/nurbol-alpysbayev"}, "edited": false, "score": 0, "creation_date": 1522852152, "post_id": 49652400, "comment_id": 86315871, "body": "Your answer is definitely the best to date. And it totally technically answers the question! However, there is one more detail, that I did not reveal in order to keep question simple. The child constructor is always there, because it is compiled automatically by typescript compiler (TSC). TSC also places there default property definitions (this.prop = {defaultValue}), after which I wanted to execute common parent code. Anyway, I am going to select your answer as correct, because it is. My fault that the question was not comprehensive. Thanks anyway, for your time :)"}], "tags": [], "owner": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "is_accepted": true, "score": 1, "last_activity_date": 1522848788, "creation_date": 1522848788, "answer_id": 49652400, "question_id": 49646257, "link": "https://stackoverflow.com/questions/49646257/in-two-es6-parent-child-classes-is-there-a-way-to-execute-some-code-in-parent-c/49652400#49652400", "title": "In two ES6 Parent-Child classes, is there a way to execute some code in parent class immediately after child constructor executes?", "body": "<p>If you really need the exact same code to run in every child class upon construction, then that common code probably belongs in the parent constructor.  But maybe you need some child-specific code to run <em>before</em> the common code, in which case you still have an issue.</p>\n\n<p>Either way, one possible solution would be not to override the constructor in the child classes at all, but instead let them inherit the parent constructor, which contains any common code as well as pre- and post- hooks you can override in child classes as necessary.  For example:</p>\n\n<pre><code>class Parent {\n\n    // do not override the constructor, conceptually \"final\"        \n    constructor() {\n        this.beforeCommonConstructorCode();\n\n        // add any common constructor code here\n        console.log(\"Common constructor code\")\n\n        this.afterCommonConstructorCode();\n    }\n\n    // override this in child classes as needed\n    public beforeCommonConstructorCode() {\n        // empty\n    }\n\n    // override this in child classes as needed\n    public afterCommonConstructorCode() {\n        // empty\n    }\n}\n\nnew Parent();\n// in console:\n// &gt;&gt; Common constructor code\n</code></pre>\n\n<p>And when you subclass <code>Parent</code>, you leave the constructor alone and add code to the appropriate methods:</p>\n\n<pre><code>class Child extends Parent {\n\n    // remember, do not override constructor\n\n    public beforeCommonConstructorCode() {\n        console.log(\"Child pre-constructor code\")\n    }\n\n    public afterCommonConstructorCode() {\n        console.log(\"Child post-constructor code\")\n    }\n\n}\n\nnew Child();\n// in console:\n// &gt;&gt; Child pre-constructor code\n// &gt;&gt; Common constructor code\n// &gt;&gt; Child post-constructor code\n</code></pre>\n\n<p>Note that TypeScript will not prevent child classes from overriding the constructor (<a href=\"https://github.com/Microsoft/TypeScript/issues/8306\" rel=\"nofollow noreferrer\">there is no \"<code>final</code>\" keyword or functionality</a>) so discipline is needed.  Otherwise, I think this behaves the way you like; you are freed from having to place common code in each subclass. </p>\n\n<p>Hope that helps.  Good luck.</p>\n"}], "owner": {"reputation": 11799, "user_id": 9259778, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/R157q.jpg?s=128&g=1", "display_name": "Nurbol Alpysbayev", "link": "https://stackoverflow.com/users/9259778/nurbol-alpysbayev"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 43, "favorite_count": 0, "accepted_answer_id": 49652400, "answer_count": 3, "score": -1, "last_activity_date": 1522848788, "creation_date": 1522830650, "last_edit_date": 1522832699, "question_id": 49646257, "link": "https://stackoverflow.com/questions/49646257/in-two-es6-parent-child-classes-is-there-a-way-to-execute-some-code-in-parent-c", "title": "In two ES6 Parent-Child classes, is there a way to execute some code in parent class immediately after child constructor executes?", "body": "<p>Example:</p>\n\n<pre><code>class Parent { constructor() {} }  \nclass Child { constructor() { super(); someChildCode(); } }   \n</code></pre>\n\n<p>I just want to execute some code after someChildCode(). Yes, I can place it there, but requirement is not placing that code there. </p>\n\n<p>Because there are too many (n) child classes, and only one Parent, thus I want to not duplicate code (n) times.</p>\n\n<p>P.S. I want clean code solution as simple as new Child() when creating child objects.</p>\n\n<p>P.S. Downvoter, care to explain? I realise that the task may not be solvable, that is why I have asked the question, to be sure if that's the case.</p>\n"}, {"tags": ["javascript", "angular", "typescript"], "comments": [{"owner": {"reputation": 71380, "user_id": 3558960, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/a98b52149d419c2aad558befe51c8cc5?s=128&d=identicon&r=PG", "display_name": "Robby Cornelissen", "link": "https://stackoverflow.com/users/3558960/robby-cornelissen"}, "edited": false, "score": 2, "creation_date": 1522830391, "post_id": 49646145, "comment_id": 86300362, "body": "Seems like a good use case for a <a href=\"https://angular.io/guide/pipes\" rel=\"nofollow noreferrer\">pipe</a>."}, {"owner": {"reputation": 11251, "user_id": 9558399, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/RFQOg.jpg?s=128&g=1", "display_name": "bugs", "link": "https://stackoverflow.com/users/9558399/bugs"}, "edited": false, "score": 0, "creation_date": 1522830437, "post_id": 49646145, "comment_id": 86300395, "body": "Use a service and inject it wherever you need that functionality"}, {"owner": {"reputation": 2161, "user_id": 4080514, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/KlYAC.jpg?s=128&g=1", "display_name": "DarioN1", "link": "https://stackoverflow.com/users/4080514/darion1"}, "reply_to_user": {"reputation": 71380, "user_id": 3558960, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/a98b52149d419c2aad558befe51c8cc5?s=128&d=identicon&r=PG", "display_name": "Robby Cornelissen", "link": "https://stackoverflow.com/users/3558960/robby-cornelissen"}, "edited": false, "score": 0, "creation_date": 1522830797, "post_id": 49646145, "comment_id": 86300609, "body": "@RobbyCornelissen , it sounds good! Provide the response... I will accept it"}], "answers": [{"tags": [], "owner": {"reputation": 71380, "user_id": 3558960, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/a98b52149d419c2aad558befe51c8cc5?s=128&d=identicon&r=PG", "display_name": "Robby Cornelissen", "link": "https://stackoverflow.com/users/3558960/robby-cornelissen"}, "is_accepted": true, "score": 2, "last_activity_date": 1522831448, "last_edit_date": 1522831448, "creation_date": 1522830820, "answer_id": 49646315, "question_id": 49646145, "link": "https://stackoverflow.com/questions/49646145/angular-shared-html-formatter-function/49646315#49646315", "title": "Angular - Shared html formatter function", "body": "<p>It's a good use case for a <a href=\"https://angular.io/guide/pipes\" rel=\"nofollow noreferrer\">pipe</a>. The code could look something like this:</p>\n\n<pre><code>import {Pipe, PipeTransform} from '@angular/core';\n\n@Pipe({name: 'statusClass'})\nexport class StatusClassPipe implements PipeTransform {\n  transform(statusCode: string): string {\n    switch (statusCode) { \n      case 'NEW':\n        return 'label label-primary';\n      case 'CONFIRMED':\n        return 'label label-success';\n      case 'CANCELLED':\n        return 'label label-danger';\n      case 'CONCLUDED':\n        return 'label label-default';\n      default:\n        return '';\n    }\n  }\n}\n</code></pre>\n\n<p>And in your template use it as follows:</p>\n\n<pre><code>&lt;span class=\"{{offert.offertStatusCode | statusClass}}\"&gt;{{offert.offertStatus}}&lt;/span&gt;\n</code></pre>\n\n<p>Probably a little bit cleaner still to put the values in a map or object to eliminate the <code>switch</code> statement.</p>\n"}], "owner": {"reputation": 2161, "user_id": 4080514, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/KlYAC.jpg?s=128&g=1", "display_name": "DarioN1", "link": "https://stackoverflow.com/users/4080514/darion1"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 48, "favorite_count": 0, "accepted_answer_id": 49646315, "answer_count": 1, "score": 2, "last_activity_date": 1522835915, "creation_date": 1522830306, "last_edit_date": 1522835915, "question_id": 49646145, "link": "https://stackoverflow.com/questions/49646145/angular-shared-html-formatter-function", "title": "Angular - Shared html formatter function", "body": "<p>In my project, I have a function that is used to set the CSS class of an element.</p>\n\n<p>This function is declared in different components that need to apply dynamic CSS and each time I have to make a change in the function, I have made the change on all the ts file as well.</p>\n\n<p>What is the proper way to have a single function that works in HTML component files?</p>\n\n<p>Should I create a service?</p>\n\n<p>The function works in this way:</p>\n\n<p><strong>component.ts</strong></p>\n\n<pre><code>GetStatusClass(_s: string): string {\n\n    var c = \"\";\n    switch (_s) { \n      case \"NEW\":\n        c = \"label label-primary\";\n        break;\n      case \"CONFIRMED\":\n        c = \"label label-success\";\n        break;\n      case \"CANCELLED\":\n        c = \"label label-danger\";\n        break;\n      case \"CONCLUDED\":\n        c = \"label label-default\";\n        break;\n    }\n    return c;\n  }\n</code></pre>\n\n<p><strong>component.html</strong></p>\n\n<pre><code>h4&gt;&lt;span class=\"{{GetStatusClass(offert.offertStatusCode)}}\"&gt;{{offert.offertStatus}}&lt;/span&gt;&lt;/h4&gt;\n</code></pre>\n\n<p>Thanks to support</p>\n"}, {"tags": ["javascript", "typescript", "firebase", "google-cloud-functions", "puppeteer"], "comments": [{"owner": {"reputation": 8984, "user_id": 1332403, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2UwB9.png?s=128&g=1", "display_name": "kingdaro", "link": "https://stackoverflow.com/users/1332403/kingdaro"}, "edited": false, "score": 0, "creation_date": 1522830575, "post_id": 49646072, "comment_id": 86300464, "body": "Not a solution, but why the <code>: any</code> on so many variables? You may as well not use typescript at that point"}, {"owner": {"reputation": 233128, "user_id": 807126, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xpNqK.jpg?s=128&g=1", "display_name": "Doug Stevenson", "link": "https://stackoverflow.com/users/807126/doug-stevenson"}, "edited": false, "score": 0, "creation_date": 1522830648, "post_id": 49646072, "comment_id": 86300522, "body": "Puppeteer is known not to work on Cloud Functions.  <a href=\"https://stackoverflow.com/questions/48667933/running-puppeteer-code-in-firebase-cloud-functions?rq=1\" title=\"running puppeteer code in firebase cloud functions\">stackoverflow.com/questions/48667933/&hellip;</a>"}, {"owner": {"reputation": 6348, "user_id": 2873357, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/IBvqk.jpg?s=128&g=1", "display_name": "Relm", "link": "https://stackoverflow.com/users/2873357/relm"}, "reply_to_user": {"reputation": 233128, "user_id": 807126, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xpNqK.jpg?s=128&g=1", "display_name": "Doug Stevenson", "link": "https://stackoverflow.com/users/807126/doug-stevenson"}, "edited": false, "score": 1, "creation_date": 1522831327, "post_id": 49646072, "comment_id": 86300952, "body": "@DougStevenson, Ok that&#39;s completely disappointing from Firebase, anyway I can still get meta tags another way on cloud functions? Something that is supported?"}], "answers": [{"tags": [], "owner": {"reputation": 20402, "user_id": 15410, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/0b876cb059e6b31d050d4728184c3b62?s=128&d=identicon&r=PG", "display_name": "Rippo", "link": "https://stackoverflow.com/users/15410/rippo"}, "is_accepted": false, "score": 1, "last_activity_date": 1522871708, "creation_date": 1522871708, "answer_id": 49659368, "question_id": 49646072, "link": "https://stackoverflow.com/questions/49646072/puppeteer-typescript-fails-with-errors-when-transpilling/49659368#49659368", "title": "Puppeteer Typescript : Fails with errors when transpilling", "body": "<p>When using TS and puppeteer I seem to find transpiling down to ES5 seems to work better for me when using Mocha (ok not deployed to Firebase), but its worth a shot.</p>\n\n<pre><code>{\n    \"compilerOptions\": {\n        //\"target\": \"esnext\",\n        \"target\": \"es5\", //needed for node!\n        \"declaration\": true,\n        \"lib\": [\n            \"es2015\", \"dom\"\n        ]        \n    },\n    \"exclude\": [\n        \"node_modules\"\n    ]\n}\n</code></pre>\n"}], "owner": {"reputation": 6348, "user_id": 2873357, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/IBvqk.jpg?s=128&g=1", "display_name": "Relm", "link": "https://stackoverflow.com/users/2873357/relm"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2430, "favorite_count": 1, "answer_count": 1, "score": 2, "last_activity_date": 1522871708, "creation_date": 1522830100, "last_edit_date": 1522830508, "question_id": 49646072, "link": "https://stackoverflow.com/questions/49646072/puppeteer-typescript-fails-with-errors-when-transpilling", "title": "Puppeteer Typescript : Fails with errors when transpilling", "body": "<p>Source of the problem : I can't use Javascript as it is because Firebase Functions Node.Js version doesn't support Async/Await yet. So I put this in Typescript and now are trying to transpile to commonJs.</p>\n\n<p>Then I do.</p>\n\n<p><code>tsc -p config.json</code>, which then produces these erros.</p>\n\n<pre><code>../../../node_modules/firebase-functions/lib/providers/auth.d.ts(5,22): error TS2420: Class 'UserRecordMetadata' incorrectly implements interface 'UserMetadata'.\n  Property 'lastSignedInAt' is missing in type 'UserRecordMetadata'.\n../../../node_modules/firebase-functions/lib/providers/firestore.d.ts(17,19): error TS2694: Namespace 'admin' has no exported member 'firestore'.\n</code></pre>\n\n<p>Also, using <code>Firebase Serve -only-functions</code> worked ok using Vanilla Js, only started failing on Deploy, another thing, when running the vanilla script using <code>node getTags.js</code>, runs with no issues.</p>\n\n<p>So figure probably it's my tsconfig? Please help.</p>\n\n<p><strong>TSCONFIG.JSON</strong></p>\n\n<pre><code>{\n    \"compilerOptions\": {\n        \"lib\": [\n            \"es6\",\n            \"dom\"\n        ],\n        \"module\": \"commonjs\",\n        \"noImplicitReturns\": true,\n        \"outDir\": \"lib\",\n        \"target\": \"es6\"\n    },\n    \"files\": [\n        \"getTags.ts\"\n    ]\n}\n</code></pre>\n\n<p><strong>Typescript.</strong></p>\n\n<pre><code>import puppeteer from 'puppeteer';\nimport * as functions from 'firebase-functions'\n\nfunction getTitle() {\n    const ogSelector: any = document.querySelector('meta[property=\"og:title\"]');\n    if (ogSelector) {\n        return ogSelector.content;\n    }\n\n    const imgSelector: any = document.querySelector('[itemprop=\"name\"]');\n    if (imgSelector) {\n        return imgSelector.text;\n    }\n    if (document.querySelector('title')) {\n        return document.querySelector('title').text;\n    }\n    return window.location.href; // Print URL as a fallback\n}\n\nfunction getDescription() {\n    const ogDesc: any = document.querySelector('meta[property=\"og:description\"]');\n    if (ogDesc) {\n        return ogDesc.content;\n    }\n\n    const descSelector: any = document.querySelector('[itemprop=\"description\"]');\n    if (descSelector) {\n        return descSelector.text;\n    }\n\n    const nameDescSelector: any = document.querySelector('meta[name=\"description\"]');\n    if (nameDescSelector) {\n        return nameDescSelector.content;\n    }\n\n    return document.body.innerText.substring(0, 180) + '...';\n}\n\nfunction getImage() {\n    const ogImgSelector: any = document.querySelector('meta[property=\"og:image\"]');\n    if (ogImgSelector) {\n        return ogImgSelector.content;\n    }\n\n    const imgTagSelector: any = document.querySelector('[itemprop=\"image\"]');\n    if (imgTagSelector) {\n        return imgTagSelector.text;\n    }\n\n    return null;\n}\n\nexports.getTags = functions.https.onRequest((req, res) =&gt; {\n    (async () =&gt; {\n        const browser = await puppeteer.launch();\n        const page = await browser.newPage();\n        await page.goto('https://itunes.apple.com/za/album/my-dear-melancholy/1363309866?app=music&amp;ign-itsct=1363309866-1363309866&amp;ign-itscg=0176&amp;ign-mpt=uo%3D4');\n\n        const title = await page.evaluate(getTitle);\n        const description = await page.evaluate(getDescription);\n        const image = await page.evaluate(getImage) || await page.screenshot({ path: 'temp.png' });\n\n        browser.close();\n\n        const tags = {\n            title,\n            description,\n            image,\n        };\n        console.log(\"Tags \" + JSON.stringify(tags));\n        res.send(\"Done Tags :: \" + tags);\n    })();\n});\n</code></pre>\n"}, {"tags": ["javascript", "regex", "typescript"], "comments": [{"owner": {"reputation": 136042, "user_id": 5221149, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s4qlq.png?s=128&g=1", "display_name": "Andreas", "link": "https://stackoverflow.com/users/5221149/andreas"}, "edited": false, "score": 0, "creation_date": 1522828838, "post_id": 49645588, "comment_id": 86299513, "body": "What&#39;s with the <code>\\&quot;</code>? --- You only need to remove the <code>href</code> part? Not the <code>&lt;a&gt;</code> tag itself? Just the attribute?"}, {"owner": {"reputation": 87, "user_id": 2121117, "user_type": "registered", "accept_rate": 44, "profile_image": "https://i.stack.imgur.com/0zgjX.jpg?s=128&g=1", "display_name": "Roman \u0160imr", "link": "https://stackoverflow.com/users/2121117/roman-%c5%a0imr"}, "reply_to_user": {"reputation": 136042, "user_id": 5221149, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s4qlq.png?s=128&g=1", "display_name": "Andreas", "link": "https://stackoverflow.com/users/5221149/andreas"}, "edited": false, "score": 0, "creation_date": 1522829160, "post_id": 49645588, "comment_id": 86299676, "body": "This is what I am getting from JSON API. It must be there."}, {"owner": {"reputation": 505, "user_id": 4429666, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Q9Tuf.png?s=128&g=1", "display_name": "dtlvd", "link": "https://stackoverflow.com/users/4429666/dtlvd"}, "edited": false, "score": 0, "creation_date": 1522829990, "post_id": 49645588, "comment_id": 86300116, "body": "Do you need to keep the <code>class</code>, <code>data-gallery</code> etc and just removing the <code>href</code>? Or are you trying to remove the <code>&lt;a&gt;</code> tag and all its attributes ?"}, {"owner": {"reputation": 136042, "user_id": 5221149, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s4qlq.png?s=128&g=1", "display_name": "Andreas", "link": "https://stackoverflow.com/users/5221149/andreas"}, "edited": false, "score": 0, "creation_date": 1522830368, "post_id": 49645588, "comment_id": 86300346, "body": "If that is part of a JSON response, then I suggest you parse the JSON first. And you never answered my other question."}, {"owner": {"reputation": 87, "user_id": 2121117, "user_type": "registered", "accept_rate": 44, "profile_image": "https://i.stack.imgur.com/0zgjX.jpg?s=128&g=1", "display_name": "Roman \u0160imr", "link": "https://stackoverflow.com/users/2121117/roman-%c5%a0imr"}, "reply_to_user": {"reputation": 136042, "user_id": 5221149, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s4qlq.png?s=128&g=1", "display_name": "Andreas", "link": "https://stackoverflow.com/users/5221149/andreas"}, "edited": false, "score": 0, "creation_date": 1522830911, "post_id": 49645588, "comment_id": 86300686, "body": "@Andreas Omg sorry, Yes of course is JSON aleady parsed. Regular exp should be for classic link without slashes."}, {"owner": {"reputation": 136042, "user_id": 5221149, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s4qlq.png?s=128&g=1", "display_name": "Andreas", "link": "https://stackoverflow.com/users/5221149/andreas"}, "edited": false, "score": 0, "creation_date": 1522830979, "post_id": 49645588, "comment_id": 86300727, "body": "Then edit the question and correct it. And maybe answer my other question."}, {"owner": {"reputation": 87, "user_id": 2121117, "user_type": "registered", "accept_rate": 44, "profile_image": "https://i.stack.imgur.com/0zgjX.jpg?s=128&g=1", "display_name": "Roman \u0160imr", "link": "https://stackoverflow.com/users/2121117/roman-%c5%a0imr"}, "reply_to_user": {"reputation": 505, "user_id": 4429666, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Q9Tuf.png?s=128&g=1", "display_name": "dtlvd", "link": "https://stackoverflow.com/users/4429666/dtlvd"}, "edited": false, "score": 0, "creation_date": 1522830984, "post_id": 49645588, "comment_id": 86300730, "body": "@dtlvd I need remove full a href tag from beginning &lt; to end &gt;. Leave just image inner."}, {"owner": {"reputation": 87, "user_id": 2121117, "user_type": "registered", "accept_rate": 44, "profile_image": "https://i.stack.imgur.com/0zgjX.jpg?s=128&g=1", "display_name": "Roman \u0160imr", "link": "https://stackoverflow.com/users/2121117/roman-%c5%a0imr"}, "edited": false, "score": 0, "creation_date": 1522831107, "post_id": 49645588, "comment_id": 86300808, "body": "from &lt;a href=&quot;xxx&quot; xxxxx&gt;&lt;img&gt;&lt;/a&gt; I need to keep just &lt;img&gt;"}], "answers": [{"comments": [{"owner": {"reputation": 87, "user_id": 2121117, "user_type": "registered", "accept_rate": 44, "profile_image": "https://i.stack.imgur.com/0zgjX.jpg?s=128&g=1", "display_name": "Roman \u0160imr", "link": "https://stackoverflow.com/users/2121117/roman-%c5%a0imr"}, "edited": false, "score": 0, "creation_date": 1522829229, "post_id": 49645714, "comment_id": 86299714, "body": "Thanks but I need regular exp. I need remove it from string not from DOM."}], "tags": [], "owner": {"reputation": 1301, "user_id": 2556867, "user_type": "registered", "accept_rate": 44, "profile_image": "https://i.stack.imgur.com/OUmoL.jpg?s=128&g=1", "display_name": "degr", "link": "https://stackoverflow.com/users/2556867/degr"}, "is_accepted": false, "score": 0, "last_activity_date": 1522828808, "creation_date": 1522828808, "answer_id": 49645714, "question_id": 49645588, "link": "https://stackoverflow.com/questions/49645588/regex-to-remove-link-but-keep-image-inside/49645714#49645714", "title": "Regex to remove link but keep image inside", "body": "<p>try this:</p>\n\n<pre><code>var div = document.createElement('div');\ndiv.innerHTML = \"&lt;a href=\\\"https://slovan.azureedge.net/_obrazky/full/10/25322.jpg\\\" class=\\\"gallery-item\\\" data-gallery=\\\"gallery\\\" data-size=\\\"0x0\\\" itemprop=\\\"contentUrl\\\" data-toggle=\\\"lightbox\\\"&gt;&lt;img class=\\\"obrazok_sprava img-responsive img-responsive\\\" src=\\\"https://slovan.azureedge.net/_obrazky/top.2017/10/25322.jpg\\\" alt=\\\"Foto\\\" width=\\\"100%\\\" data-id=\\\"25322\\\" /&gt;&lt;/a&gt;\";\nvar link = div.getElementsByTagName('a')[0];\nvar imageText = link.innerHTML;\n</code></pre>\n\n<p>But I'm sure you are doing something wrong. In most cases, you should not need to parse html by self.</p>\n"}, {"comments": [{"owner": {"reputation": 87, "user_id": 2121117, "user_type": "registered", "accept_rate": 44, "profile_image": "https://i.stack.imgur.com/0zgjX.jpg?s=128&g=1", "display_name": "Roman \u0160imr", "link": "https://stackoverflow.com/users/2121117/roman-%c5%a0imr"}, "edited": false, "score": 0, "creation_date": 1522841730, "post_id": 49646949, "comment_id": 86307905, "body": "I want remove a href tag. Image I want to keep."}, {"owner": {"reputation": 397, "user_id": 9565050, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-fBKYxHgkm_0/AAAAAAAAAAI/AAAAAAAAABs/DCB2Hz-GUw8/photo.jpg?sz=128", "display_name": "Deathshadow", "link": "https://stackoverflow.com/users/9565050/deathshadow"}, "reply_to_user": {"reputation": 87, "user_id": 2121117, "user_type": "registered", "accept_rate": 44, "profile_image": "https://i.stack.imgur.com/0zgjX.jpg?s=128&g=1", "display_name": "Roman \u0160imr", "link": "https://stackoverflow.com/users/2121117/roman-%c5%a0imr"}, "edited": false, "score": 0, "creation_date": 1522845012, "post_id": 49646949, "comment_id": 86310228, "body": "Do you want to only remove href=&quot;<a href=\"https://slovan.azureedge.net/_obrazky/full/10/25322.jpg\" rel=\"nofollow noreferrer\">slovan.azureedge.net/_obrazky/full/10/25322.jpg</a>&quot; ?"}, {"owner": {"reputation": 87, "user_id": 2121117, "user_type": "registered", "accept_rate": 44, "profile_image": "https://i.stack.imgur.com/0zgjX.jpg?s=128&g=1", "display_name": "Roman \u0160imr", "link": "https://stackoverflow.com/users/2121117/roman-%c5%a0imr"}, "edited": false, "score": 0, "creation_date": 1522922854, "post_id": 49646949, "comment_id": 86349170, "body": "No, I just want remove link tag. I want to prevent user click. Just show image"}, {"owner": {"reputation": 397, "user_id": 9565050, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-fBKYxHgkm_0/AAAAAAAAAAI/AAAAAAAAABs/DCB2Hz-GUw8/photo.jpg?sz=128", "display_name": "Deathshadow", "link": "https://stackoverflow.com/users/9565050/deathshadow"}, "reply_to_user": {"reputation": 87, "user_id": 2121117, "user_type": "registered", "accept_rate": 44, "profile_image": "https://i.stack.imgur.com/0zgjX.jpg?s=128&g=1", "display_name": "Roman \u0160imr", "link": "https://stackoverflow.com/users/2121117/roman-%c5%a0imr"}, "edited": false, "score": 0, "creation_date": 1522927033, "post_id": 49646949, "comment_id": 86352069, "body": "look at my edit and answer me if I understood you right"}], "tags": [], "owner": {"reputation": 397, "user_id": 9565050, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-fBKYxHgkm_0/AAAAAAAAAAI/AAAAAAAAABs/DCB2Hz-GUw8/photo.jpg?sz=128", "display_name": "Deathshadow", "link": "https://stackoverflow.com/users/9565050/deathshadow"}, "is_accepted": false, "score": 0, "last_activity_date": 1522926952, "last_edit_date": 1522926952, "creation_date": 1522832715, "answer_id": 49646949, "question_id": 49645588, "link": "https://stackoverflow.com/questions/49645588/regex-to-remove-link-but-keep-image-inside/49646949#49646949", "title": "Regex to remove link but keep image inside", "body": "<p>EDIT:\nI still don't know exactly what you want but this is what you asked in your comment. If it's not what you want could you show me the example string you want to get?</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>function showPicture(){\r\nvar jsonString = '&lt;a href=\"https://slovan.azureedge.net/_obrazky/full/10/25322.jpg\" class=\"gallery-item\" data-gallery=\"gallery\" data-size=\"0x0\" itemprop=\"contentUrl\" data-toggle=\"lightbox\"&gt;&lt;img class=\"obrazok_sprava img-responsive img-responsive\" src=\"https://slovan.azureedge.net/_obrazky/top.2017/10/25322.jpg\" alt=\"Foto\" width=\"50px\" data-id=\"25322\" /&gt;&lt;/a&gt;';\r\nvar regex = /(&lt;img.*\\/&gt;)/;\r\nvar image = regex.exec(jsonString)[1]\r\n$('body').append(image); //inserts &lt;img class=\"obrazok_sprava img-responsive img-responsive\" src=\"https://slovan.azureedge.net/_obrazky/top.2017/10/25322.jpg\" alt=\"Foto\" width=\"50px\" data-id=\"25322\" /&gt; into the body and you can't click it\r\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;script src=\"https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js\"&gt;&lt;/script&gt;\r\n&lt;!DOCTYPE html&gt;\r\n&lt;html lang=\"en\"&gt;\r\n&lt;head&gt;\r\n    &lt;meta charset=\"UTF-8\"&gt;\r\n    &lt;title&gt;Title&lt;/title&gt;\r\n&lt;/head&gt;\r\n&lt;body onload='showPicture()'&gt;\r\n\r\n&lt;/body&gt;\r\n&lt;/html&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 87, "user_id": 2121117, "user_type": "registered", "accept_rate": 44, "profile_image": "https://i.stack.imgur.com/0zgjX.jpg?s=128&g=1", "display_name": "Roman \u0160imr", "link": "https://stackoverflow.com/users/2121117/roman-%c5%a0imr"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 71, "favorite_count": 1, "answer_count": 2, "score": -2, "last_activity_date": 1522926952, "creation_date": 1522828344, "last_edit_date": 1522831056, "question_id": 49645588, "link": "https://stackoverflow.com/questions/49645588/regex-to-remove-link-but-keep-image-inside", "title": "Regex to remove link but keep image inside", "body": "<p>I have little problem with regex which removes links from html text.</p>\n\n<p>I have this kind of links in my string variable.</p>\n\n<pre><code>&lt;a href=\"https://slovan.azureedge.net/_obrazky/full/10/25322.jpg\" class=\"gallery-item\" data-gallery=\"gallery\" data-size=\"0x0\" itemprop=\"contentUrl\" data-toggle=\"lightbox\"&gt;&lt;img class=\"obrazok_sprava img-responsive img-responsive\" src=\"https://slovan.azureedge.net/_obrazky/top.2017/10/25322.jpg\" alt=\"Foto\" width=\"100%\" data-id=\"25322\" /&gt;&lt;/a&gt;\n</code></pre>\n\n<p>and I need to remove a href part (full A tag from beginning to end). Image tag I don't want remove.</p>\n\n<p>This regex which I found there doesn't work.</p>\n\n<pre><code>html.replace(/&lt;a\\s+(?:[^&gt;]*?\\s+)?href=\"([^\"]*)\"/g, \"\")\n</code></pre>\n\n<p>Thank you for help</p>\n"}, {"tags": ["arrays", "angular", "typescript", "http", "angular-calendar"], "comments": [{"owner": {"reputation": 28328, "user_id": 1160794, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/b81c88d628038fbe7c8e5976f40d5b12?s=128&d=identicon&r=PG&f=1", "display_name": "David", "link": "https://stackoverflow.com/users/1160794/david"}, "edited": false, "score": 0, "creation_date": 1522830701, "post_id": 49645426, "comment_id": 86300554, "body": "Can you show th e structure of the returned json?"}, {"owner": {"reputation": 496, "user_id": 3983624, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/a1a6a736ec51f4931d6494d86f4dc85a?s=128&d=identicon&r=PG", "display_name": "nicogaldo", "link": "https://stackoverflow.com/users/3983624/nicogaldo"}, "reply_to_user": {"reputation": 28328, "user_id": 1160794, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/b81c88d628038fbe7c8e5976f40d5b12?s=128&d=identicon&r=PG&f=1", "display_name": "David", "link": "https://stackoverflow.com/users/1160794/david"}, "edited": false, "score": 0, "creation_date": 1522862902, "post_id": 49645426, "comment_id": 86323023, "body": "@David mmm thanks for making me see that, I&#39;m getting <code>undefined</code> :S"}, {"owner": {"reputation": 496, "user_id": 3983624, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/a1a6a736ec51f4931d6494d86f4dc85a?s=128&d=identicon&r=PG", "display_name": "nicogaldo", "link": "https://stackoverflow.com/users/3983624/nicogaldo"}, "reply_to_user": {"reputation": 28328, "user_id": 1160794, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/b81c88d628038fbe7c8e5976f40d5b12?s=128&d=identicon&r=PG&f=1", "display_name": "David", "link": "https://stackoverflow.com/users/1160794/david"}, "edited": false, "score": 0, "creation_date": 1522864628, "post_id": 49645426, "comment_id": 86324026, "body": "It should look like this: <a href=\"https://k50.kn3.net/C52C08FB4.png\" rel=\"nofollow noreferrer\">image</a>"}, {"owner": {"reputation": 496, "user_id": 3983624, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/a1a6a736ec51f4931d6494d86f4dc85a?s=128&d=identicon&r=PG", "display_name": "nicogaldo", "link": "https://stackoverflow.com/users/3983624/nicogaldo"}, "reply_to_user": {"reputation": 28328, "user_id": 1160794, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/b81c88d628038fbe7c8e5976f40d5b12?s=128&d=identicon&r=PG&f=1", "display_name": "David", "link": "https://stackoverflow.com/users/1160794/david"}, "edited": false, "score": 0, "creation_date": 1522977399, "post_id": 49645426, "comment_id": 86379190, "body": "@David I updated the question"}], "answers": [{"comments": [{"owner": {"reputation": 496, "user_id": 3983624, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/a1a6a736ec51f4931d6494d86f4dc85a?s=128&d=identicon&r=PG", "display_name": "nicogaldo", "link": "https://stackoverflow.com/users/3983624/nicogaldo"}, "edited": false, "score": 0, "creation_date": 1523038909, "post_id": 49687227, "comment_id": 86410950, "body": "1 day installing angular-calendar, 15min installing ng-fullcalendar with positive results. Anyway, I will test your code later and I will see that the library is more powerful. Thank you !"}], "tags": [], "owner": {"reputation": 28328, "user_id": 1160794, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/b81c88d628038fbe7c8e5976f40d5b12?s=128&d=identicon&r=PG&f=1", "display_name": "David", "link": "https://stackoverflow.com/users/1160794/david"}, "is_accepted": false, "score": 1, "last_activity_date": 1523039812, "last_edit_date": 1523039812, "creation_date": 1522998374, "answer_id": 49687227, "question_id": 49645426, "link": "https://stackoverflow.com/questions/49645426/angular-calendar-async-http-map-of-undefined/49687227#49687227", "title": "Angular calendar async http &#39;map&#39; of undefined", "body": "<p><strong>Answer for updated question</strong></p>\n\n<p>That's because the json returned by the webservice is no an array of <code>Consulta</code>, but an object which <code>consultats</code> properties is an array. So, in your subscribe, <code>results</code> is not an array</p>\n\n<p>You need to map (using observable's map method) the returned value from the htpp call to an array </p>\n\n<pre><code>cargarConsultas() : Observable&lt;Consulta[]&gt; \n{\n   let url = URL_SERVICIOS + '/consulta';\n   return this.http.get(url).map(res =&gt; res.consultas);\n}\n</code></pre>\n\n<p>Or you can directly access the correct property in the subscribe method</p>\n\n<pre><code>cargarConsultas() {\n let url = URL_SERVICIOS + '/consulta';\n return this.http.get(url);\n}\n\nmap(( results: any ) =&gt; \n{\nreturn results.consultas.map(\n</code></pre>\n\n<p><strong>Answer for original question</strong></p>\n\n<p>If you declare the map parameter like you originally did, this means that the http call returns an object, with a <code>result</code> property which if an array</p>\n\n<pre><code> map(({ results }: { results: any[] }) \n</code></pre>\n\n<p>From the json you provided, this is not the case. The <code>consultas</code> property contains the array. So it should be:</p>\n\n<pre><code> map(({ consultas }: { consultas: Consulta[] }) =&gt; {\n      return consultas.map((consulta: Consulta)  =&gt; {\n        return {\n          title: consulta.tratamiento_c,\n</code></pre>\n"}], "owner": {"reputation": 496, "user_id": 3983624, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/a1a6a736ec51f4931d6494d86f4dc85a?s=128&d=identicon&r=PG", "display_name": "nicogaldo", "link": "https://stackoverflow.com/users/3983624/nicogaldo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1496, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1523039812, "creation_date": 1522827830, "last_edit_date": 1592644375, "question_id": 49645426, "link": "https://stackoverflow.com/questions/49645426/angular-calendar-async-http-map-of-undefined", "title": "Angular calendar async http &#39;map&#39; of undefined", "body": "<p>I try to install the angular calendar in my app, I have the data of the events in the database, but when I try to call them I get an error:</p>\n<pre><code>ERROR TypeError: Cannot read property 'map' of undefined at MapSubscriber.eval\n</code></pre>\n<p>The original code is here: <a href=\"https://mattlewis92.github.io/angular-calendar/#/async-events\" rel=\"nofollow noreferrer\">https://mattlewis92.github.io/angular-calendar/#/async-events</a></p>\n<p>My <strong>component.ts</strong>:</p>\n<pre><code>import { Component, ChangeDetectionStrategy, ViewEncapsulation, OnInit } from '@angular/core';\nimport { ConsultaService } from '../../services/consulta/consulta.service';\nimport { Consulta } from '../../models/consulta.model';\n\n//calendar imports\nimport { HttpClient } from '@angular/common/http';\nimport { CalendarEvent } from 'angular-calendar';\nimport { map } from 'rxjs/operators/map';\nimport { Observable } from 'rxjs/Observable';\nimport {\n  /* ... */\n} from 'date-fns';\n\nconst colors: any = {\n  /* ... */\n};\n\n@Component({\n  selector: 'app-turnos',\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  templateUrl: './turnos.component.html',\n  styleUrls: ['./turnos.component.min.css'],\n  encapsulation: ViewEncapsulation.None\n})\nexport class TurnosComponent implements OnInit {\n\n  activeDayIsOpen: boolean = false;\n  view: string = 'month';\n  viewDate: Date = new Date();\n\n  events$: Observable&lt;Array&lt;CalendarEvent&lt;{ consulta: Consulta }&gt;&gt;&gt;;\n\n  constructor(\n    private http: HttpClient,\n    public _consultaService: ConsultaService,\n  ) {}\n\n  ngOnInit(): void {\n    this.fetchEvents();\n  }\n\n  fetchEvents(): void {\n    const getStart: any = {\n      month: startOfMonth,\n      week: startOfWeek,\n      day: startOfDay\n    }[this.view];\n\n    const getEnd: any = {\n      month: endOfMonth,\n      week: endOfWeek,\n      day: endOfDay\n    }[this.view];\n\n    this.events$ = this.http\n      .get('http://localhost:3000/consulta')\n      .pipe(\n        map(({ results }: { results: any[] }) =&gt; {\n          return results.map((consulta: any) =&gt; { // &lt;--- error line\n            return {\n              title: consulta.tratamiento_c,\n              start: new Date(consulta.date_a),\n              color: colors.yellow,\n              meta: {\n                consulta\n              }\n            };\n          });\n        })\n      );\n  }\n\n  dayClicked({\n    /* ... */\n  }\n\n  eventClicked(event: CalendarEvent&lt;{ consulta: Consulta }&gt;): void {\n    /* ... */\n  }\n\n}\n</code></pre>\n<p>When I use the <code>.get</code> example works well, it shows me all the data. But when I change the url and remove the parameters, by my url <code>http://localhost:3000/consulta</code> it does not work in the same way, the calendar is not rendered and throws the <code>map</code> error and as you can see, the map is included above.</p>\n<p>Adding, my <code>consulta.service.ts</code> has this function to bring all the data. How could I subscribe and display the data as the example using my service?</p>\n<pre><code>  cargarConsultas() {\n    let url = URL_SERVICIOS + '/consulta';\n\n    return this.http.get(url);\n  }\n</code></pre>\n<p>I hope you can guide me to the solution. Thanks!</p>\n<h2>UPDATE</h2>\n<p>I changed the line</p>\n<p><code>map(({ results }: { results: any[] }) =&gt; {</code></p>\n<p>for</p>\n<p><code>map(( results: Consulta[] ) =&gt; {</code></p>\n<p>and now I get the data from http, but new error appears:</p>\n<p><code>ERROR TypeError: results.map is not a function</code></p>\n<p>The error continues referring to the line that you mark in the code above</p>\n"}, {"tags": ["angular", "unit-testing", "typescript", "angular-cli", "karma-jasmine"], "owner": {"reputation": 183, "user_id": 9522340, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "cooper", "link": "https://stackoverflow.com/users/9522340/cooper"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 626, "favorite_count": 0, "answer_count": 0, "score": 4, "last_activity_date": 1522838759, "creation_date": 1522827615, "last_edit_date": 1522838759, "question_id": 49645368, "link": "https://stackoverflow.com/questions/49645368/getting-errors-on-ng-test-command-karma-jasmine-unit-tests", "title": "Getting Errors on ng test command ( KARMA - JASMINE unit tests)", "body": "<p>In my Application, I was integrating Angular cli as first it was not there!</p>\n\n<p>I want to test my Application with karma and jasmine.</p>\n\n<p>When I run the command <code>ng test</code>, I get errors:</p>\n\n<h3><code>package.json</code>:</h3>\n\n<pre><code>@angular/cli: 1.1.0\nnode: 7.10.1\nos: linux x64\n@angular/animations: 4.4.6\n@angular/common: 4.4.6\n@angular/compiler: 4.4.6\n@angular/core: 4.4.6\n@angular/forms: 4.4.6\n@angular/http: 4.4.6\n@angular/platform-browser: 4.4.6\n@angular/platform-browser-dynamic: 4.4.6\n@angular/router: 4.4.6\n@angular/service-worker: 1.0.0-beta.16\n@angular/cli: 1.1.0\n@angular/compiler-cli: 4.4.6\n@angular/language-service: 4.4.6\n@angular/platform-server: 4.4.6\n</code></pre>\n\n<h3>Observed behavior</h3>\n\n<pre><code>ERROR in /repo/node_modules/@angular/core/src/di/reflective_provider.d.ts (87,123): Cannot find name 'Map'.\n\nERROR in /repo/node_modules/@angular/core/src/di/reflective_provider.d.ts (87,165): Cannot find name 'Map'.\n\nERROR in /repo/node_modules/rxjs/Observable.d.ts (58,60): 'Promise' only refers to a type, but is being used as a value here.\n\nERROR in /repo/node_modules/rxjs/Observable.d.ts (73,59): 'Promise' only refers to a type, but is being used as a value here.\n\nERROR in /repo/node_modules/@angular/core/src/change_detection/differs/iterable_differs.d.ts (15,48): Cannot find name 'Iterable'.\n\nERROR in /repo/node_modules/@angular/core/src/change_detection/differs/keyvalue_differs.d.ts (23,18): Cannot find name 'Map'.\n\nERROR in /repo/node_modules/@angular/core/src/change_detection/differs/default_iterable_differ.d.ts (28,32): Cannot find name 'Iterable'.\n\nERROR in /repo/node_modules/@angular/core/src/change_detection/differs/default_keyvalue_differ.d.ts (24,16): Cannot find name 'Map'.\n\nERROR in /repo/node_modules/@angular/core/src/change_detection/differs/default_keyvalue_differ.d.ts (32,16): Cannot find name 'Map'.\n\nERROR in /repo/src/client/app/iterm-extended/component/get-a-quote.component.ts (32,14): Experimental support for decorators is a feature that is subject to change in a future release. Set the 'experimentalDecorators' option to remove this warning.\n</code></pre>\n\n<h3>Desired behavior</h3>\n\n<p>I want to see on the browser for <strong>UNIT TESTING</strong>.</p>\n\n<p>Because of these errors, I can't Test.</p>\n\n<p>Even on StackOverflow, I did not find anything related to these ERRORS. </p>\n\n<h3>tsconfig.json</h3>\n\n<pre><code>{\n  \"compilerOptions\": {\n    // \"module\": \"es2015\",\n    \"moduleResolution\": \"node\",\n    \"target\": \"es5\",\n    \"noImplicitAny\": false,\n    \"sourceMap\": true,\n    \"emitDecoratorMetadata\": true,\n    \"experimentalDecorators\": true,\n    \"lib\": [\n      \"es2017\",\n      \"dom\"\n    ],\n    \"typeRoots\": [\n      \"node_modules/@types\"\n    ],\n    \"skipLibCheck\": true\n  },\n  \"include\": [\n    \"src/client/**/*.ts\"\n  ],\n  \"exclude\": [\n    \"node_modules\",\n    \"src/client/main-prod.ts\"\n  ],\n  \"compileOnSave\": false\n}\n</code></pre>\n\n<h3>karma.config.js</h3>\n\n<pre><code>module.exports = function (config) {\n  config.set({\n    basePath: '',\n    frameworks: ['jasmine', '@angular/cli'],\n    plugins: [\n      require('karma-jasmine'),\n      require('karma-chrome-launcher'),\n      require('karma-jasmine-html-reporter'),\n      require('karma-coverage-istanbul-reporter'),\n      require('@angular/cli/plugins/karma')\n    ],\n    files: [\n      \"src/client/test-cases/iterm-extended/**/*.spec.ts\",\n      { pattern: 'node_modules/**', included: false, watched: false },\n      { pattern: 'src/client/app/iinvest/**', included: false, watched: false },\n      { pattern: 'src/client/app/imax/**', included: false, watched: false },\n      { pattern: 'src/client/app/iterm/**', included: false, watched: false },\n      { pattern: 'src/client/app/itermPlus-extended/**', included: false, watched: false },\n      { pattern: 'src/client/app/pages/**', included: false, watched: false },\n      { pattern: 'src/client/app/shared/**', included: false, watched: false }\n    ],\n    client: {\n      clearContext: false // leave Jasmine Spec Runner output visible in browser\n    },\n    coverageIstanbulReporter: {\n      reports: ['html', 'lcovonly'],\n      fixWebpackSourcePaths: true\n    },\n    angularCli: {\n      environment: 'dev'\n    },\n    reporters: ['progress', 'kjhtml'],\n    port: 9876,\n    colors: true,\n    logLevel: config.LOG_INFO,\n    autoWatch: true,\n    browsers: ['Chrome'],\n    singleRun: false\n  });\n};\n</code></pre>\n"}, {"tags": ["angular", "typescript", "ionic3"], "comments": [{"owner": {"reputation": 9768, "user_id": 8990367, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Dk1Kx.jpg?s=128&g=1", "display_name": "Fateme Fazli", "link": "https://stackoverflow.com/users/8990367/fateme-fazli"}, "edited": false, "score": 0, "creation_date": 1522823169, "post_id": 49644125, "comment_id": 86295956, "body": "may you please notice <code>this.storage</code> code ?"}, {"owner": {"reputation": 365, "user_id": 7597165, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/H1UUN.png?s=128&g=1", "display_name": "Videsh Chauhan", "link": "https://stackoverflow.com/users/7597165/videsh-chauhan"}, "reply_to_user": {"reputation": 9768, "user_id": 8990367, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Dk1Kx.jpg?s=128&g=1", "display_name": "Fateme Fazli", "link": "https://stackoverflow.com/users/8990367/fateme-fazli"}, "edited": false, "score": 0, "creation_date": 1522823457, "post_id": 49644125, "comment_id": 86296113, "body": "what do you mean please explain ?"}, {"owner": {"reputation": 9768, "user_id": 8990367, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Dk1Kx.jpg?s=128&g=1", "display_name": "Fateme Fazli", "link": "https://stackoverflow.com/users/8990367/fateme-fazli"}, "edited": false, "score": 0, "creation_date": 1522823588, "post_id": 49644125, "comment_id": 86296176, "body": "i mean where is your <code>this.storage</code> definition? do you mean local storage?"}, {"owner": {"reputation": 1840, "user_id": 6628404, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QoLQt.jpg?s=128&g=1", "display_name": "Utpaul", "link": "https://stackoverflow.com/users/6628404/utpaul"}, "edited": false, "score": 0, "creation_date": 1522823602, "post_id": 49644125, "comment_id": 86296185, "body": "Are you set data of user ...."}, {"owner": {"reputation": 365, "user_id": 7597165, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/H1UUN.png?s=128&g=1", "display_name": "Videsh Chauhan", "link": "https://stackoverflow.com/users/7597165/videsh-chauhan"}, "edited": false, "score": 0, "creation_date": 1522823705, "post_id": 49644125, "comment_id": 86296246, "body": "this.storage.set(&#39;user&#39;,detail);  yes i have set data in user"}, {"owner": {"reputation": 28036, "user_id": 4826457, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hXT0U.jpg?s=128&g=1", "display_name": "Suraj Rao", "link": "https://stackoverflow.com/users/4826457/suraj-rao"}, "edited": false, "score": 0, "creation_date": 1522823710, "post_id": 49644125, "comment_id": 86296249, "body": "Its <i>asynchronous</i> because it uses promises.. your console.log is executed before value is returned from db"}, {"owner": {"reputation": 365, "user_id": 7597165, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/H1UUN.png?s=128&g=1", "display_name": "Videsh Chauhan", "link": "https://stackoverflow.com/users/7597165/videsh-chauhan"}, "reply_to_user": {"reputation": 9768, "user_id": 8990367, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Dk1Kx.jpg?s=128&g=1", "display_name": "Fateme Fazli", "link": "https://stackoverflow.com/users/8990367/fateme-fazli"}, "edited": false, "score": 0, "creation_date": 1522823805, "post_id": 49644125, "comment_id": 86296302, "body": "@fatemefazli yes i mean localstorage"}, {"owner": {"reputation": 1840, "user_id": 6628404, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QoLQt.jpg?s=128&g=1", "display_name": "Utpaul", "link": "https://stackoverflow.com/users/6628404/utpaul"}, "edited": false, "score": 0, "creation_date": 1522823843, "post_id": 49644125, "comment_id": 86296327, "body": "@Videsh please check it i solve it....."}, {"owner": {"reputation": 365, "user_id": 7597165, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/H1UUN.png?s=128&g=1", "display_name": "Videsh Chauhan", "link": "https://stackoverflow.com/users/7597165/videsh-chauhan"}, "reply_to_user": {"reputation": 28036, "user_id": 4826457, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hXT0U.jpg?s=128&g=1", "display_name": "Suraj Rao", "link": "https://stackoverflow.com/users/4826457/suraj-rao"}, "edited": false, "score": 0, "creation_date": 1522823887, "post_id": 49644125, "comment_id": 86296351, "body": "@SurajRao so what is the solution ?"}, {"owner": {"reputation": 28036, "user_id": 4826457, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hXT0U.jpg?s=128&g=1", "display_name": "Suraj Rao", "link": "https://stackoverflow.com/users/4826457/suraj-rao"}, "edited": false, "score": 0, "creation_date": 1522823949, "post_id": 49644125, "comment_id": 86296383, "body": "@Videsh please check the dupe and answers there.."}, {"owner": {"reputation": 28036, "user_id": 4826457, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hXT0U.jpg?s=128&g=1", "display_name": "Suraj Rao", "link": "https://stackoverflow.com/users/4826457/suraj-rao"}, "edited": false, "score": 0, "creation_date": 1522824739, "post_id": 49644125, "comment_id": 86296876, "body": "Also if it is indeed <code>localStorage</code> then <code>then</code> function would throw error"}], "answers": [{"tags": [], "owner": {"reputation": 9768, "user_id": 8990367, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Dk1Kx.jpg?s=128&g=1", "display_name": "Fateme Fazli", "link": "https://stackoverflow.com/users/8990367/fateme-fazli"}, "is_accepted": false, "score": 0, "last_activity_date": 1522824006, "creation_date": 1522824006, "answer_id": 49644383, "question_id": 49644125, "link": "https://stackoverflow.com/questions/49644125/ionic-3-storage-get-function-return-null-value-outside-the-function/49644383#49644383", "title": "ionic 3 - storage.get function return null value outside the function", "body": "<p>if you want to use local storage:</p>\n\n<pre><code>username:any;\n\nthis.username = localStorage.getItem('user');\n\nconsole.log(this.username);\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 365, "user_id": 7597165, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/H1UUN.png?s=128&g=1", "display_name": "Videsh Chauhan", "link": "https://stackoverflow.com/users/7597165/videsh-chauhan"}, "edited": false, "score": 0, "creation_date": 1522824708, "post_id": 49644442, "comment_id": 86296851, "body": "i want to store array but it provide string"}, {"owner": {"user_type": "does_not_exist", "display_name": "user5035258"}, "reply_to_user": {"reputation": 365, "user_id": 7597165, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/H1UUN.png?s=128&g=1", "display_name": "Videsh Chauhan", "link": "https://stackoverflow.com/users/7597165/videsh-chauhan"}, "edited": false, "score": 0, "creation_date": 1522824912, "post_id": 49644442, "comment_id": 86296985, "body": "JSON.parse will convert string to array."}, {"owner": {"reputation": 365, "user_id": 7597165, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/H1UUN.png?s=128&g=1", "display_name": "Videsh Chauhan", "link": "https://stackoverflow.com/users/7597165/videsh-chauhan"}, "edited": false, "score": 0, "creation_date": 1522825212, "post_id": 49644442, "comment_id": 86297171, "body": "this is my array   {   &quot;user_type&quot;: &quot;shipper&quot;,   &quot;name&quot;: &quot;testuser&quot;,   &quot;mobile_number&quot;: &quot;1234567890&quot;,   &quot;updated_at&quot;: &quot;2018-04-04 06:57:42&quot;,   &quot;created_at&quot;: &quot;2018-04-04 06:57:42&quot;,   &quot;id&quot;: 40 } localStorage.setItem(&#39;user&#39;, auth); first of all i am set the item  but when i am getting the result this show me the error   &quot;JSON.parse: unexpected character at line 1 column 2 of the JSON data&quot;  here is my code for getItem  this.username = JSON.parse(localStorage.getItem(&#39;user&#39;));"}, {"owner": {"user_type": "does_not_exist", "display_name": "user5035258"}, "reply_to_user": {"reputation": 365, "user_id": 7597165, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/H1UUN.png?s=128&g=1", "display_name": "Videsh Chauhan", "link": "https://stackoverflow.com/users/7597165/videsh-chauhan"}, "edited": false, "score": 0, "creation_date": 1522825544, "post_id": 49644442, "comment_id": 86297386, "body": "<code>localStorage.setItem(&#39;user&#39;, JSON.stringify(auth));</code> save the auth data as string not object ."}, {"owner": {"reputation": 365, "user_id": 7597165, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/H1UUN.png?s=128&g=1", "display_name": "Videsh Chauhan", "link": "https://stackoverflow.com/users/7597165/videsh-chauhan"}, "edited": false, "score": 0, "creation_date": 1522825880, "post_id": 49644442, "comment_id": 86297603, "body": "its working ....thank you so much :)"}, {"owner": {"user_type": "does_not_exist", "display_name": "user5035258"}, "reply_to_user": {"reputation": 365, "user_id": 7597165, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/H1UUN.png?s=128&g=1", "display_name": "Videsh Chauhan", "link": "https://stackoverflow.com/users/7597165/videsh-chauhan"}, "edited": false, "score": 0, "creation_date": 1522826223, "post_id": 49644442, "comment_id": 86297803, "body": "most welcome :)"}], "tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user5035258"}, "is_accepted": true, "score": 1, "last_activity_date": 1522824288, "creation_date": 1522824288, "answer_id": 49644442, "question_id": 49644125, "link": "https://stackoverflow.com/questions/49644125/ionic-3-storage-get-function-return-null-value-outside-the-function/49644442#49644442", "title": "ionic 3 - storage.get function return null value outside the function", "body": "<p>Why are you using function ?\nYou can simply get the store value with the following code: </p>\n\n<pre><code>this.username = JSON.parse(localStorage.getItem('user'));\n</code></pre>\n"}], "owner": {"reputation": 365, "user_id": 7597165, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/H1UUN.png?s=128&g=1", "display_name": "Videsh Chauhan", "link": "https://stackoverflow.com/users/7597165/videsh-chauhan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1050, "favorite_count": 0, "closed_date": 1522857263, "accepted_answer_id": 49644442, "answer_count": 2, "score": -3, "last_activity_date": 1522827518, "creation_date": 1522822962, "last_edit_date": 1522827518, "question_id": 49644125, "link": "https://stackoverflow.com/questions/49644125/ionic-3-storage-get-function-return-null-value-outside-the-function", "closed_reason": "Duplicate", "title": "ionic 3 - storage.get function return null value outside the function", "body": "<p>storage. get function return null value out side the function.\nhere is my code</p>\n\n<pre><code>username:any;\n\nthis.storage.get('user').then((value) =&gt; {\n       this.username = value;\n    });\n\nconsole.log(this.username);\n\noutput : undefined;\n</code></pre>\n"}, {"tags": ["angular", "forms", "typescript"], "comments": [{"owner": {"reputation": 163341, "user_id": 314488, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/aYzi5.jpg?s=128&g=1", "display_name": "Pranay Rana", "link": "https://stackoverflow.com/users/314488/pranay-rana"}, "edited": false, "score": 0, "creation_date": 1522824458, "post_id": 49643990, "comment_id": 86296686, "body": "order is coming from where i dont see ??"}, {"owner": {"reputation": 381, "user_id": 3020656, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/50bf630f1e6e79ba518572f0bcb7b83f?s=128&d=identicon&r=PG&f=1", "display_name": "AYa", "link": "https://stackoverflow.com/users/3020656/aya"}, "reply_to_user": {"reputation": 163341, "user_id": 314488, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/aYzi5.jpg?s=128&g=1", "display_name": "Pranay Rana", "link": "https://stackoverflow.com/users/314488/pranay-rana"}, "edited": false, "score": 0, "creation_date": 1522824668, "post_id": 49643990, "comment_id": 86296820, "body": "@PranayRana Last few lines in the HTML. I want it to come from there. Basically, passing the value of <code>i</code> will do."}, {"owner": {"reputation": 163341, "user_id": 314488, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/aYzi5.jpg?s=128&g=1", "display_name": "Pranay Rana", "link": "https://stackoverflow.com/users/314488/pranay-rana"}, "edited": false, "score": 0, "creation_date": 1522824810, "post_id": 49643990, "comment_id": 86296923, "body": "then is thould be under *ngFor , right ??"}, {"owner": {"reputation": 381, "user_id": 3020656, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/50bf630f1e6e79ba518572f0bcb7b83f?s=128&d=identicon&r=PG&f=1", "display_name": "AYa", "link": "https://stackoverflow.com/users/3020656/aya"}, "reply_to_user": {"reputation": 163341, "user_id": 314488, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/aYzi5.jpg?s=128&g=1", "display_name": "Pranay Rana", "link": "https://stackoverflow.com/users/314488/pranay-rana"}, "edited": false, "score": 0, "creation_date": 1522825201, "post_id": 49643990, "comment_id": 86297162, "body": "@PranayRana Yes. I have edited. I had removed some parts of HTML and have kept only the relevant parts."}, {"owner": {"reputation": 28589, "user_id": 8558186, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8af66bb1af6d1875a2dd7be9dd1c8d2b?s=128&d=identicon&r=PG&f=1", "display_name": "Eliseo", "link": "https://stackoverflow.com/users/8558186/eliseo"}, "edited": false, "score": 1, "creation_date": 1522826010, "post_id": 49643990, "comment_id": 86297689, "body": "<a href=\"https://stackoverflow.com/questions/49596747/editing-a-form-in-angular\" title=\"editing a form in angular\">stackoverflow.com/questions/49596747/editing-a-form-in-angul&zwnj;&#8203;ar</a> ?"}], "answers": [{"comments": [{"owner": {"reputation": 381, "user_id": 3020656, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/50bf630f1e6e79ba518572f0bcb7b83f?s=128&d=identicon&r=PG&f=1", "display_name": "AYa", "link": "https://stackoverflow.com/users/3020656/aya"}, "edited": false, "score": 0, "creation_date": 1522828100, "post_id": 49644828, "comment_id": 86299048, "body": "How are you using the <code>setConfigs</code> function ?"}], "tags": [], "owner": {"reputation": 163341, "user_id": 314488, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/aYzi5.jpg?s=128&g=1", "display_name": "Pranay Rana", "link": "https://stackoverflow.com/users/314488/pranay-rana"}, "is_accepted": true, "score": 1, "last_activity_date": 1522850722, "last_edit_date": 1522850722, "creation_date": 1522825663, "answer_id": 49644828, "question_id": 49643990, "link": "https://stackoverflow.com/questions/49643990/using-values-from-formarray-to-hit-post-api-in-angular-2/49644828#49644828", "title": "Using values from FormArray to hit POST Api in Angular 2", "body": "<p>answer to questio 1 is like this you can do </p>\n\n<pre><code>    set initial value \n\n  ngOnChanges() {\n    //get received data \n     this.setConfigs();\n   }\n\n   setConfigs(configs: PipelineConfigs[]) {\n    const configFGs = configs.map(config=&gt; this._fb.group(config));\n    const configFormArray = this.fb.array(configFGs);\n    this.pipeLineForm .setControl('pipelineConfigs', configFormArray );\n  }\n\n   //get values \n    const formModel = this.pipeLineForm.value;\n    // deep copy of form model lairs\n    const secretLairsDeepCopy: PipelineConfigs[] = formModel.pipelineConfigs.map(\n      (config: PipelineConfigs) =&gt; Object.assign({}, config)\n    );\n</code></pre>\n\n<p>html should be like </p>\n\n<pre><code> &lt;div formArrayName=\"pipelineConfigs\"&gt;\n            &lt;div class=\"row\" *ngFor=\"let pipes of pipelineConfigs.controls; let i=index;\"&gt;\n                &lt;div [formGroupName]=\"i\"&gt;\n</code></pre>\n\n<p>for second question answer is ,order value you can pass yourself like this </p>\n\n<pre><code>const count = 0;\ninitPipeline() {\n    count++;\n    return this._fb.group({\n       query: ['', Validators.required],\n       Id: ['', Validators.required],\n       Path: ['', Validators.required],\n       Type: ['', Validators.required],\n       order:[count]\n    });\n}\n</code></pre>\n\n<p>Please read : <a href=\"https://angular.io/guide/reactive-forms#buttons\" rel=\"nofollow noreferrer\">https://angular.io/guide/reactive-forms#buttons</a> if you are facing issue in understanding.</p>\n"}], "owner": {"reputation": 381, "user_id": 3020656, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/50bf630f1e6e79ba518572f0bcb7b83f?s=128&d=identicon&r=PG&f=1", "display_name": "AYa", "link": "https://stackoverflow.com/users/3020656/aya"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 943, "favorite_count": 0, "accepted_answer_id": 49644828, "answer_count": 1, "score": 0, "last_activity_date": 1522850722, "creation_date": 1522822316, "last_edit_date": 1522825176, "question_id": 49643990, "link": "https://stackoverflow.com/questions/49643990/using-values-from-formarray-to-hit-post-api-in-angular-2", "title": "Using values from FormArray to hit POST Api in Angular 2", "body": "<p>I have a Formarray that takes input from User and forms a part of JSON that needs to be hit through an POST Api.</p>\n\n<p>The JSON structure is as follows:</p>\n\n<pre><code>{\n  \"Name\": \"string\",\n  \"Time\": 0,\n  \"Values\": [\n    {\n      \"base\": true,\n      \"order\": 0,\n      \"query\": \"string\",\n      \"Id\": \"string\",\n      \"Path\": \"string\",\n      \"Type\": \"string\"\n    },\n    {\n      \"base\": false,\n      \"order\": 1,\n      \"query\": \"string\",\n      \"Id\": \"string\",\n      \"Path\": \"string\",\n      \"Type\": \"string\"\n    }\n  ]\n}\n</code></pre>\n\n<p>Hence, I have defined a interface as follows:</p>\n\n<p><strong>pipeline-mapping.ts</strong></p>\n\n<pre><code>import { PipelineConfigs } from './pipeline-configs';\n\nexport interface PipelineMapping {\n    configName: String;\n    queryTimeThresholdInMs: 0;\n    sources: PipelineConfigs[];\n}\n</code></pre>\n\n<p><strong>pipeline-configs.ts</strong></p>\n\n<pre><code>export interface PipelineConfigs {\n    base: boolean;\n    order: any;\n    query: string;\n    Id: string;\n    Path: string;\n    Type: string;\n}\n</code></pre>\n\n<p>Now, I am taking the input of query, Id, Path and Type from an formarray as defined in my component file below.</p>\n\n<p><strong>component.ts</strong></p>\n\n<pre><code>public pipelineMapping: PipelineMapping;\npipelineConfigs: PipelineConfigs[];\n\nngOnInit() {\n    // initialize form here\n    this.pipeLineForm = this._fb.group({\n        pipelineConfigs: this.initPipeLineArray()\n    });\n\n    this.pipelineMapping = {\n        configName: '',\n        queryTimeThresholdInMs: 0,\n        sources: // What goes here ? \n    };\n}\ninitPipeLineArray() {\n    let pipeArray = this._fb.array([]);\n    pipeArray.push(this.initPipeline());\n    pipeArray.push(this.initPipeline());\n    return pipeArray;\n}\n\ninitPipeline() {\n    return this._fb.group({\n       query: ['', Validators.required],\n       Id: ['', Validators.required],\n       Path: ['', Validators.required],\n       Type: ['', Validators.required]\n    });\n}\n</code></pre>\n\n<p>Question 1: How do I assign <code>FormArray</code> type to type <code>PipelineConfigs</code> ? </p>\n\n<p>Question 2: Also, I am not sure how do I capture value of <code>Order</code> which is not an input, rather is just displayed on UI. <code>base</code> gets the value <code>true</code> if <code>order</code> is 0 else <code>false</code> Here is the relevant parts of the HTML :</p>\n\n<p><strong>html</strong></p>\n\n<pre><code>&lt;input class=\"form-control\" name=\"Name\" [(ngModel)]=\"pipelineMapping.Name\" type=\"text\"&gt;\n&lt;div class=\"panel panel-default clearfix\" [formGroup] = \"pipeLineForm\"&gt;\n   &lt;div class=\"row\"&gt;\n      &lt;div formArrayName=\"pipelineConfigs\"&gt;\n         &lt;div class=\"row\" *ngFor=\"let pipes of pipeLineForm.controls.pipelineConfigs.controls; let i=index;\"&gt;\n            &lt;div [formGroupName]=\"i\"&gt;\n               &lt;select formControlName=\"Type\"&gt;\n                  &lt;option disabled&gt;Select Type&lt;/option&gt;\n                  &lt;option value=\"Type 1\"&gt;Type 1&lt;/option&gt;\n                  &lt;option value=\"Type 2\"&gt;Type 2&lt;/option&gt;\n                  &lt;option value=\"Type 3\"&gt;Type 3&lt;/option&gt;\n               &lt;/select&gt;\n               &lt;input formControlName=\"Id\" type=\"text\"&gt;\n               &lt;input formControlName=\"Path\" type=\"text\"&gt;\n               &lt;textarea formControlName=\"query\"&gt;{{query}}&lt;/textarea&gt;\n               &lt;div class=\"col-xs-2 additional-details-actions\"&gt;\n                  &lt;div class=\"col-xs-4\"&gt;\n                     &lt;label class=\"label-text block\"&gt;Order&lt;/label&gt;\n                     &lt;label class=\"label-value block\"&gt;{{i}}&lt;/label&gt;\n                  &lt;/div&gt;\n               &lt;/div&gt;\n            &lt;/div&gt;\n         &lt;/div&gt;\n      &lt;/div&gt;\n   &lt;/div&gt;\n&lt;/div&gt;\n</code></pre>\n"}, {"tags": ["javascript", "typescript"], "comments": [{"owner": {"reputation": 25033, "user_id": 1113002, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CgW7b.png?s=128&g=1", "display_name": "Aleksey L.", "link": "https://stackoverflow.com/users/1113002/aleksey-l"}, "edited": false, "score": 1, "creation_date": 1522820959, "post_id": 49643627, "comment_id": 86294885, "body": "You have some options <a href=\"https://stackoverflow.com/questions/12766528/build-a-function-object-with-properties-in-typescript\">here</a>. Check answers below the accepted one"}, {"owner": {"reputation": 154, "user_id": 9589327, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-eNlIvf500dQ/AAAAAAAAAAI/AAAAAAAAACI/kCAjO8df-Fg/photo.jpg?sz=128", "display_name": "khawar jamil", "link": "https://stackoverflow.com/users/9589327/khawar-jamil"}, "edited": false, "score": 1, "creation_date": 1522821194, "post_id": 49643627, "comment_id": 86294993, "body": "check this out - <a href=\"https://www.reddit.com/r/typescript/comments/6cljb3/is_it_possible_to_add_methods_to_functions_in/\" rel=\"nofollow noreferrer\">reddit.com/r/typescript/comments/6cljb3/&hellip;</a>"}], "owner": {"reputation": 8121, "user_id": 773595, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/lO5f3.jpg?s=128&g=1", "display_name": "vdegenne", "link": "https://stackoverflow.com/users/773595/vdegenne"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 34, "favorite_count": 0, "closed_date": 1522821162, "answer_count": 0, "score": 0, "last_activity_date": 1522820678, "creation_date": 1522820678, "question_id": 49643627, "link": "https://stackoverflow.com/questions/49643627/how-to-assign-a-function-to-a-function-using-typescript", "closed_reason": "Duplicate", "title": "How to assign a Function to a Function using TypeScript?", "body": "<p>Please consider my previous post <a href=\"https://stackoverflow.com/questions/49643274/a-function-that-can-be-an-object-in-typescript?noredirect=1#comment86294230_49643274\">A Function that can be an Object in JavaScript ? [duplicate]</a> which was marked as duplicate and it makes perfect sense. I was asking how I could resolve that :</p>\n\n<pre><code>function foo () {}\nfoo.bar = function () {}\n</code></pre>\n\n<p>because during testing this didn't work, but while it would make pure sense in commonJS, my issue is TypeScript specific. If I write the snippet above in my editor and try to compile, Typescript will tell :</p>\n\n<blockquote>\n  <p>Property 'bar' does not exist on type '() => void'.</p>\n</blockquote>\n\n<p>How should I write to give a function property a function ?</p>\n"}, {"tags": ["typescript"], "comments": [{"owner": {"reputation": 574461, "user_id": 816620, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/Xu7hp.jpg?s=128&g=1", "display_name": "jfriend00", "link": "https://stackoverflow.com/users/816620/jfriend00"}, "edited": false, "score": 0, "creation_date": 1522822272, "post_id": 49643589, "comment_id": 86295494, "body": "Sorry, but I don&#39;t understand what you&#39;re asking."}, {"owner": {"reputation": 1, "user_id": 9298633, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-Vi4rSCqJik4/AAAAAAAAAAI/AAAAAAAAAb8/FaasjajEXkc/photo.jpg?sz=128", "display_name": "BhAnuJ RalHan", "link": "https://stackoverflow.com/users/9298633/bhanuj-ralhan"}, "reply_to_user": {"reputation": 574461, "user_id": 816620, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/Xu7hp.jpg?s=128&g=1", "display_name": "jfriend00", "link": "https://stackoverflow.com/users/816620/jfriend00"}, "edited": false, "score": 0, "creation_date": 1522822499, "post_id": 49643589, "comment_id": 86295598, "body": "when child is resolved at that time parent is again resolved so there is unnecessary calls for this.so how to prevent parent call again"}, {"owner": {"reputation": 574461, "user_id": 816620, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/Xu7hp.jpg?s=128&g=1", "display_name": "jfriend00", "link": "https://stackoverflow.com/users/816620/jfriend00"}, "edited": false, "score": 0, "creation_date": 1522823343, "post_id": 49643589, "comment_id": 86296051, "body": "I don&#39;t even know what you&#39;re showing in the code block.  It doesn&#39;t even look like legal Javascript and it&#39;s completely unclear what it means or what it&#39;s doing.  Still don&#39;t understand at all what this question means."}, {"owner": {"reputation": 1440, "user_id": 481585, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/af53fdd1052b2360d74168f2ec02e133?s=128&d=identicon&r=PG", "display_name": "DeclanMcD", "link": "https://stackoverflow.com/users/481585/declanmcd"}, "edited": false, "score": 0, "creation_date": 1522824489, "post_id": 49643589, "comment_id": 86296703, "body": "how is this angularjs?"}, {"owner": {"reputation": 204677, "user_id": 75525, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/IYU63.png?s=128&g=1", "display_name": "Fenton", "link": "https://stackoverflow.com/users/75525/fenton"}, "edited": false, "score": 1, "creation_date": 1522827972, "post_id": 49643589, "comment_id": 86298969, "body": "Please can you create a minimal working example of your issue to help clear up the confusion?"}, {"owner": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "edited": false, "score": 0, "creation_date": 1522848898, "post_id": 49643589, "comment_id": 86313194, "body": "Please read how to make a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."}], "owner": {"reputation": 1, "user_id": 9298633, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-Vi4rSCqJik4/AAAAAAAAAAI/AAAAAAAAAb8/FaasjajEXkc/photo.jpg?sz=128", "display_name": "BhAnuJ RalHan", "link": "https://stackoverflow.com/users/9298633/bhanuj-ralhan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 55, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1522860095, "creation_date": 1522820500, "last_edit_date": 1522860095, "question_id": 49643589, "link": "https://stackoverflow.com/questions/49643589/how-to-avoid-unnecessary-resolved-calls", "title": "how to avoid unnecessary resolved calls", "body": "<p>Consider <strong>A is a parent</strong> state and B is child state.\nhow to prevent the resolve <strong>call(A1,A2,A3)</strong> of parent state at the time of child resolved   </p>\n\n<pre><code>.state(A){\n\n        resolve: {\n         A1:{}\n         A2:{}\n         A3:{}    \n                  }\n      } .state(A.B){ \n       } }\n</code></pre>\n"}, {"tags": ["javascript", "typescript"], "comments": [{"owner": {"reputation": 181, "user_id": 5353501, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5bcaac8835d7bc7bd89eb59d34805cd4?s=128&d=identicon&r=PG&f=1", "display_name": "samsonthehero", "link": "https://stackoverflow.com/users/5353501/samsonthehero"}, "edited": false, "score": 0, "creation_date": 1522817991, "post_id": 49642943, "comment_id": 86293760, "body": "Have you also tried to add @types/react-native-touch-id to your dependencies?"}, {"owner": {"reputation": 12918, "user_id": 523507, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/5JZJn.png?s=128&g=1", "display_name": "manuelBetancurt", "link": "https://stackoverflow.com/users/523507/manuelbetancurt"}, "reply_to_user": {"reputation": 181, "user_id": 5353501, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5bcaac8835d7bc7bd89eb59d34805cd4?s=128&d=identicon&r=PG&f=1", "display_name": "samsonthehero", "link": "https://stackoverflow.com/users/5353501/samsonthehero"}, "edited": false, "score": 0, "creation_date": 1522818479, "post_id": 49642943, "comment_id": 86293934, "body": "hi @samsonthehero, yes no errors on import header"}, {"owner": {"reputation": 181, "user_id": 5353501, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5bcaac8835d7bc7bd89eb59d34805cd4?s=128&d=identicon&r=PG&f=1", "display_name": "samsonthehero", "link": "https://stackoverflow.com/users/5353501/samsonthehero"}, "edited": false, "score": 1, "creation_date": 1522818734, "post_id": 49642943, "comment_id": 86294038, "body": "In the tests file for this module (the typings) they are importing isSupported differently, see: <a href=\"https://github.com/DefinitelyTyped/DefinitelyTyped/blob/master/types/react-native-touch-id/react-native-touch-id-tests.ts\" rel=\"nofollow noreferrer\">github.com/DefinitelyTyped/DefinitelyTyped/blob/master/types&zwnj;&#8203;/&hellip;</a>"}], "answers": [{"comments": [{"owner": {"reputation": 12918, "user_id": 523507, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/5JZJn.png?s=128&g=1", "display_name": "manuelBetancurt", "link": "https://stackoverflow.com/users/523507/manuelbetancurt"}, "edited": false, "score": 0, "creation_date": 1522817570, "post_id": 49642990, "comment_id": 86293598, "body": "hi, if I import as your suggestion I will get: [ts] Module &#39;&#39;react-native-touch-id&#39;&#39; has no default export"}, {"owner": {"reputation": 9584, "user_id": 2087066, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/mddYz.jpg?s=128&g=1", "display_name": "SpiderCode", "link": "https://stackoverflow.com/users/2087066/spidercode"}, "reply_to_user": {"reputation": 12918, "user_id": 523507, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/5JZJn.png?s=128&g=1", "display_name": "manuelBetancurt", "link": "https://stackoverflow.com/users/523507/manuelbetancurt"}, "edited": false, "score": 0, "creation_date": 1522818060, "post_id": 49642990, "comment_id": 86293784, "body": "I can see few users posted same issue on <code>gitHub</code> regarding the same. Could you try with <code>var TouchID = require(&#39;react-native-touch-id&#39;);</code>  as suggested on <a href=\"https://github.com/naoufal/react-native-touch-id\" rel=\"nofollow noreferrer\">github.com/naoufal/react-native-touch-id</a>"}, {"owner": {"reputation": 12918, "user_id": 523507, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/5JZJn.png?s=128&g=1", "display_name": "manuelBetancurt", "link": "https://stackoverflow.com/users/523507/manuelbetancurt"}, "edited": false, "score": 0, "creation_date": 1522818207, "post_id": 49642990, "comment_id": 86293836, "body": "hi Spider, yes I&#39;ve tried, but I get the same error."}], "tags": [], "owner": {"reputation": 9584, "user_id": 2087066, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/mddYz.jpg?s=128&g=1", "display_name": "SpiderCode", "link": "https://stackoverflow.com/users/2087066/spidercode"}, "is_accepted": true, "score": 1, "last_activity_date": 1522817261, "creation_date": 1522817261, "answer_id": 49642990, "question_id": 49642943, "link": "https://stackoverflow.com/questions/49642943/typescrips-xxx-issupported-is-not-a-function/49642990#49642990", "title": "typescrips XXX.isSupported is not a function", "body": "<p>Import <code>TouchID</code> as </p>\n\n<pre><code>import TouchID from \"react-native-touch-id\";\n</code></pre>\n"}], "owner": {"reputation": 12918, "user_id": 523507, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/5JZJn.png?s=128&g=1", "display_name": "manuelBetancurt", "link": "https://stackoverflow.com/users/523507/manuelbetancurt"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 160, "favorite_count": 1, "accepted_answer_id": 49642990, "answer_count": 1, "score": 1, "last_activity_date": 1522817544, "creation_date": 1522816996, "last_edit_date": 1522817544, "question_id": 49642943, "link": "https://stackoverflow.com/questions/49642943/typescrips-xxx-issupported-is-not-a-function", "title": "typescrips XXX.isSupported is not a function", "body": "<p>implementing JS library on<br>\nTypescript </p>\n\n<p>If I use this function in JS it works fine</p>\n\n<pre><code>_clickHandler() {\nTouchID.isSupported()\n  .then(authenticate)\n  .catch(error =&gt; {\n    AlertIOS.alert('TouchID not supported');\n  });\n</code></pre>\n\n<p>}</p>\n\n<p>But when using it in Typescript</p>\n\n<blockquote>\n  <p>import * as TouchID from 'react-native-touch-id';</p>\n</blockquote>\n\n<pre><code>function FingerPrintCheck() {\n  console.log('altered');\n  TouchID.isSupported()\n  .then(authenticate)\n  .catch((error : any) =&gt; {\n    AlertIOS.alert('TouchID not supported');\n  });\n}\n</code></pre>\n\n<p>I get the error:</p>\n\n<blockquote>\n  <p>TouchID.isSupported is not a function</p>\n</blockquote>\n\n<p>So why is TS not recognizing the function? do I need to instantiate parameter or do something similar</p>\n\n<p>Edit:\nif I import as</p>\n\n<blockquote>\n  <p>import TouchID from \"react-native-touch-id\";</p>\n</blockquote>\n\n<p>I will get:</p>\n\n<blockquote>\n  <p>[ts] Module ''react-native-touch-id'' has no default export</p>\n</blockquote>\n"}, {"tags": ["angular", "typescript"], "comments": [{"owner": {"reputation": 163341, "user_id": 314488, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/aYzi5.jpg?s=128&g=1", "display_name": "Pranay Rana", "link": "https://stackoverflow.com/users/314488/pranay-rana"}, "edited": false, "score": 0, "creation_date": 1522816970, "post_id": 49642878, "comment_id": 86293380, "body": "check answer and let me know if you required any thing"}], "answers": [{"tags": [], "owner": {"reputation": 163341, "user_id": 314488, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/aYzi5.jpg?s=128&g=1", "display_name": "Pranay Rana", "link": "https://stackoverflow.com/users/314488/pranay-rana"}, "is_accepted": true, "score": 0, "last_activity_date": 1522816803, "creation_date": 1522816803, "answer_id": 49642908, "question_id": 49642878, "link": "https://stackoverflow.com/questions/49642878/how-do-i-click-the-button-to-send-the-desired-value-to-the-angular-4-controller/49642908#49642908", "title": "How do I click the button to send the desired value to the Angular 4 controller?", "body": "<p>if you want to pass value then you should pass in click function as argument like this </p>\n\n<pre><code>(click)=\"resList(argument)\" //in template html file \n</code></pre>\n\n<p>which means it should be like this if i am correct (check click function i passed route id)</p>\n\n<pre><code>&lt;div class=\"btn-group\" role=\"group\" \n     aria-label=\"Basic example\" *ngFor=\"let techlist of technology\"&gt;\n    &lt;button type=\"button\" class=\"btn btn-secondary\" \n      (click)=\"resList(techlist.TechnologyRouteId)\"&gt;\n               {{techlist.TechnologyRouteTitle}}&lt;/button&gt;\n  &lt;/div&gt;\n</code></pre>\n\n<p>and ts file </p>\n\n<pre><code> resList(argument): void {\n }\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 9348280, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-NZfXP3WCUwI/AAAAAAAAAAI/AAAAAAAAADI/PeYyLTnZ0_Q/photo.jpg?sz=128", "display_name": "dAimZon", "link": "https://stackoverflow.com/users/9348280/daimzon"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 34, "favorite_count": 0, "accepted_answer_id": 49642908, "answer_count": 1, "score": 0, "last_activity_date": 1522816803, "creation_date": 1522816624, "question_id": 49642878, "link": "https://stackoverflow.com/questions/49642878/how-do-i-click-the-button-to-send-the-desired-value-to-the-angular-4-controller", "title": "How do I click the button to send the desired value to the Angular 4 controller?", "body": "<p>I have this HTML code:</p>\n\n<pre><code> &lt;div class=\"btn-group\" role=\"group\" aria-label=\"Basic example\" *ngFor=\"let techlist of technology\"&gt;\n    &lt;button type=\"button\" class=\"btn btn-secondary\" (click)=\"resList()\"&gt;{{techlist.TechnologyRouteTitle}}&lt;/button&gt;\n  &lt;/div&gt;\n</code></pre>\n\n<p>The technology has a view model:</p>\n\n<pre><code>public ComponentTypeId: number;\npublic ComponentTypeTitle: string;\npublic TechnologyRouteId: number;\n</code></pre>\n\n<p>Now there are 4 elements. They have a unique TechnologyRouteKey. By clicking on one of them I need to load a list of technologies. I have this function:</p>\n\n<pre><code>  resList(): void {\n    this.TestService.getResearchList(this.filterResearchList)\n      .then(response =&gt; {\n        this.technology = response.Object;\n      });\n  }\n</code></pre>\n\n<p>this.filterResearchList Has such a view model: </p>\n\n<pre><code>public CompanyId: number;\npublic TechnologyRouteKey: string;\n</code></pre>\n\n<p>The company ID is always the same, but the TechnologyRouteKey needs to be changed depending on the button you pressed, how do I do this? Already an hour spent on it, does not work. Which way to look?</p>\n"}, {"tags": ["typescript"], "answers": [{"tags": [], "owner": {"reputation": 80876, "user_id": 188246, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/bTzLq.jpg?s=128&g=1", "display_name": "David Sherret", "link": "https://stackoverflow.com/users/188246/david-sherret"}, "is_accepted": true, "score": 0, "last_activity_date": 1522815577, "creation_date": 1522815577, "answer_id": 49642699, "question_id": 49642698, "link": "https://stackoverflow.com/questions/49642698/conditional-types-matching-a-specific-nullable-type/49642699#49642699", "title": "Conditional Types - Matching a specific nullable type", "body": "<p>The current way I've found to do this is to use a type parameter as an alias:</p>\n\n<pre><code>type ToPropertyWrapped&lt;T, K extends keyof T, NonNullableValue = NonNullable&lt;T[K]&gt;&gt; =\n    T[K] extends UnwrappedArray&lt;infer ArrayElementType&gt; ? Wrapped&lt;ArrayElementType&gt;[] :\n    T[K] extends Unwrapped ? Wrapped&lt;T[K]&gt; :\n    NonNullableValue extends Unwrapped ? Wrapped&lt;NonNullableValue&gt; | undefined :\n    T[K];\n</code></pre>\n\n<p>I'm guessing it's a limitation of the compiler that the code in the question does not work.</p>\n"}], "owner": {"reputation": 80876, "user_id": 188246, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/bTzLq.jpg?s=128&g=1", "display_name": "David Sherret", "link": "https://stackoverflow.com/users/188246/david-sherret"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 104, "favorite_count": 0, "accepted_answer_id": 49642699, "answer_count": 1, "score": 0, "last_activity_date": 1522816147, "creation_date": 1522815577, "last_edit_date": 1522816147, "question_id": 49642698, "link": "https://stackoverflow.com/questions/49642698/conditional-types-matching-a-specific-nullable-type", "title": "Conditional Types - Matching a specific nullable type", "body": "<p>I'm trying to match for a nullable type in a conditional type:</p>\n\n<pre><code>interface Unwrapped { dummyProp: string; }\ninterface UnwrappedArray&lt;T extends Unwrapped&gt; extends Array&lt;T&gt; { }\ninterface Wrapped&lt;T extends Unwrapped&gt; { unwrapped: T; }\n\ntype ToPropertyWrapped&lt;T, K extends keyof T&gt; =\n    T[K] extends UnwrappedArray&lt;infer ArrayElementType&gt; ? Wrapped&lt;ArrayElementType&gt;[] :\n    T[K] extends Unwrapped ? Wrapped&lt;T[K]&gt; :\n    NonNullable&lt;T[K]&gt; extends Unwrapped ? Wrapped&lt;NonNullable&lt;T[K]&gt;&gt; | undefined :\n    T[K];\n</code></pre>\n\n<p>But I'm getting this error...</p>\n\n<blockquote>\n  <p>error TS2344: Type 'NonNullable&lt;T[K]&gt;' does not satisfy the constraint 'Unwrapped'.</p>\n  \n  <p>Type 'T[K]' is not assignable to type 'Unwrapped'.</p>\n</blockquote>\n\n<p>...when passing in <code>Wrapped&lt;NonNullable&lt;T[K]&gt;&gt;</code>. How do I eliminate this compile error?</p>\n\n<pre><code>// example use that works... just have the compile error above\ninterface PropType extends Unwrapped {\n}\n\ninterface Test extends Unwrapped {\n    prop: PropType;\n    nullableProp: PropType | undefined;\n    arrayProp: PropType[];\n    numberProp: number;\n}\n\nlet t: ToPropertyWrapped&lt;Test, \"prop\"&gt;;         // Wrapped&lt;PropType&gt;\nlet u: ToPropertyWrapped&lt;Test, \"nullableProp\"&gt;; // Wrapped&lt;PropType&gt; | undefined\nlet v: ToPropertyWrapped&lt;Test, \"arrayProp\"&gt;;    // Wrapped&lt;PropType&gt;[]\nlet w: ToPropertyWrapped&lt;Test, \"numberProp\"&gt;;   // number\n</code></pre>\n"}, {"tags": ["javascript", "angular", "typescript"], "comments": [{"owner": {"reputation": 10010, "user_id": 1894021, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/JXt2j.jpg?s=128&g=1", "display_name": "Isaac", "link": "https://stackoverflow.com/users/1894021/isaac"}, "edited": false, "score": 1, "creation_date": 1522812472, "post_id": 49642243, "comment_id": 86292101, "body": "Does this help? <a href=\"https://angular.io/api/common/NgIf#showing-an-alternative-template-using-else\" rel=\"nofollow noreferrer\">angular.io/api/common/&hellip;</a>"}, {"owner": {"reputation": 7547, "user_id": 3429323, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/fc5012a49b4671fdf8c473ee90190fc0?s=128&d=identicon&r=PG", "display_name": "Elias Soares", "link": "https://stackoverflow.com/users/3429323/elias-soares"}, "edited": false, "score": 3, "creation_date": 1522812484, "post_id": 49642243, "comment_id": 86292104, "body": "Try <code>*ngIf=&quot;condition &amp;&amp; yourfunction()&quot;</code>. Your function must return true to the if evaluate to true, but it will only be executed if your condition is true, since an <code>and</code> operator will stop on first false."}, {"owner": {"reputation": 32699, "user_id": 202694, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/982e5d5973bcd2be7b77e52ec7dca27c?s=128&d=identicon&r=PG", "display_name": "Pace", "link": "https://stackoverflow.com/users/202694/pace"}, "edited": false, "score": 1, "creation_date": 1522812519, "post_id": 49642243, "comment_id": 86292116, "body": "Can you give some more context of what you are trying to do?  Otherwise the answer is to just add a check to ngOnCheck"}], "answers": [{"tags": [], "owner": {"reputation": 42804, "user_id": 2181397, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/616931b5c5ba8790a191fa6aea465c65?s=128&d=identicon&r=PG", "display_name": "brk", "link": "https://stackoverflow.com/users/2181397/brk"}, "is_accepted": false, "score": 1, "last_activity_date": 1522812649, "creation_date": 1522812649, "answer_id": 49642311, "question_id": 49642243, "link": "https://stackoverflow.com/questions/49642243/call-a-function-from-an-ngif-angular-5/49642311#49642311", "title": "Call a function from an *ngIf Angular 5", "body": "<p>Try like this</p>\n\n<pre><code>&lt;div *ngIf=\"item ===true?callFunction():'otherStuff'\"&gt;lorem ipsum&lt;/div&gt;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1787, "user_id": 7159911, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-qsRenyLBFaY/AAAAAAAAAAI/AAAAAAAAAEU/rrudovF3zBU/photo.jpg?sz=128", "display_name": "Abinesh Joyel", "link": "https://stackoverflow.com/users/7159911/abinesh-joyel"}, "is_accepted": false, "score": 1, "last_activity_date": 1522814829, "creation_date": 1522814829, "answer_id": 49642599, "question_id": 49642243, "link": "https://stackoverflow.com/questions/49642243/call-a-function-from-an-ngif-angular-5/49642599#49642599", "title": "Call a function from an *ngIf Angular 5", "body": "<p>You can try like this </p>\n\n<p><strong>Html</strong></p>\n\n<pre><code>&lt;div *ngIf=\"item; then callfunction; else nofunction\"&gt;&lt;/div&gt;\n&lt;ng-template #callfunction&gt;\n  {{call()}}\n&lt;/ng-template&gt;\n&lt;ng-template #nofunction&gt;\n &lt;!-- something else --&gt;\n&lt;/ng-template&gt;\n</code></pre>\n\n<p><strong>Ts</strong></p>\n\n<pre><code>call(){\n}\n</code></pre>\n\n<p>If you got better solution than this please post that to</p>\n"}, {"tags": [], "owner": {"reputation": 9729, "user_id": 4554116, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/cu8de.png?s=128&g=1", "display_name": "Julius", "link": "https://stackoverflow.com/users/4554116/julius"}, "is_accepted": true, "score": 7, "last_activity_date": 1522816813, "creation_date": 1522816813, "answer_id": 49642910, "question_id": 49642243, "link": "https://stackoverflow.com/questions/49642243/call-a-function-from-an-ngif-angular-5/49642910#49642910", "title": "Call a function from an *ngIf Angular 5", "body": "<p>Angular way would be:</p>\n\n<p><code>&lt;div *ngIf=\"name; then func(); else false\"&gt;;&lt;/div&gt;</code></p>\n\n<p>But as <code>*ngIf</code> evaluates passed in logical expression, you can also do:</p>\n\n<p><code>&lt;div *ngIf=\"name?func():false\"&gt;;&lt;/div&gt;</code></p>\n"}], "owner": {"reputation": 6268, "user_id": 8724160, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/mmcTl.jpg?s=128&g=1", "display_name": "Smokey Dawson", "link": "https://stackoverflow.com/users/8724160/smokey-dawson"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 22619, "favorite_count": 1, "accepted_answer_id": 49642910, "answer_count": 3, "score": 4, "last_activity_date": 1522816813, "creation_date": 1522812236, "question_id": 49642243, "link": "https://stackoverflow.com/questions/49642243/call-a-function-from-an-ngif-angular-5", "title": "Call a function from an *ngIf Angular 5", "body": "<p>Say I have this code here</p>\n\n<pre><code>&lt;div *ngIf=\"item\"&gt;lorem ipsum&lt;/div&gt;\n</code></pre>\n\n<p>Is there a way I can call a function if that *ngIf evaluates to true??</p>\n\n<p>you know something like this..</p>\n\n<pre><code>&lt;div *ngIf=\"(item) : callFunction() ? ...\"&gt;lorem ipsum&lt;/div&gt;\n</code></pre>\n\n<p>any help would be appreciated!</p>\n\n<p>Thanks</p>\n"}, {"tags": ["javascript", "typescript"], "comments": [{"owner": {"reputation": 2096, "user_id": 3085279, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7c7c2ae4f486c27b2631fabee13f7e37?s=128&d=identicon&r=PG&f=1", "display_name": "Tan Duong", "link": "https://stackoverflow.com/users/3085279/tan-duong"}, "edited": false, "score": 0, "creation_date": 1522808354, "post_id": 49641686, "comment_id": 86291052, "body": "Try to use <code>declare var PasscodeAuth: any;</code>."}], "answers": [{"tags": [], "owner": {"reputation": 22049, "user_id": 6293409, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/74f518a7b20445607bcf0b09f4c26ce1?s=128&d=identicon&r=PG&f=1", "display_name": "CRice", "link": "https://stackoverflow.com/users/6293409/crice"}, "is_accepted": true, "score": 3, "last_activity_date": 1522808367, "creation_date": 1522808367, "answer_id": 49641744, "question_id": 49641686, "link": "https://stackoverflow.com/questions/49641686/implementing-js-function-into-typescript/49641744#49641744", "title": "implementing JS function into typescript", "body": "<p>Putting aside the issue of if <code>PasscodeAuth</code> actually exists, you can inform typescript of it by using a <code>declare</code> statement. For your example:</p>\n\n<pre><code>// Put this at the root level of the file that uses PasscodeAuth\ndeclare const PasscodeAuth: any;\n</code></pre>\n\n<p>That will declare <code>PasscodeAuth</code> as a variable with type <code>any</code>. You can then use it in your file without errors related to that variable, but since it's typed as an <code>any</code>, you won't be getting any type safety from it. If you happen to know the type for it, you can specify a more specific type instead of <code>any</code>.</p>\n\n<p>A <code>declare</code> statement is only a type annotation, so that line won't actually have any effect on the emitted javascript code. You mentioned that your code already works as-is, despite the typescript errors, so a declaration sounds like exactly what you need.</p>\n"}], "owner": {"reputation": 12918, "user_id": 523507, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/5JZJn.png?s=128&g=1", "display_name": "manuelBetancurt", "link": "https://stackoverflow.com/users/523507/manuelbetancurt"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 50, "favorite_count": 0, "accepted_answer_id": 49641744, "answer_count": 1, "score": 3, "last_activity_date": 1522808367, "creation_date": 1522807912, "question_id": 49641686, "link": "https://stackoverflow.com/questions/49641686/implementing-js-function-into-typescript", "title": "implementing JS function into typescript", "body": "<p>I'm implementing a JS function into typescript, it works fine on JS, but on TS, I get:</p>\n\n<blockquote>\n  <p>[ts] Cannot find name 'PasscodeAuth'. Did you mean 'passcodeAuth'?</p>\n</blockquote>\n\n<pre><code>function passcodeAuth() {\n  return PasscodeAuth.isSupported()\n    .then(() =&gt; {\n      return PasscodeAuth.authenticate()\n    })\n    .then(success =&gt; {\n      AlertIOS.alert('Authenticated Successfully');\n    })\n    .catch(error =&gt; {\n      console.log(error)\n      AlertIOS.alert(error.message);\n    });\n}\n</code></pre>\n\n<p>So is not an import, or defined anywhere, but it works on JS, so how can I make it recognizable for TS?\nOn JS, I can name my parameter as any word on JS and it will have isSupported and authenticate, even though is now a real parameter?</p>\n\n<p>thanks!</p>\n"}, {"tags": ["javascript", "typescript"], "comments": [{"owner": {"reputation": 184244, "user_id": 14104, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/otetW.jpg?s=128&g=1", "display_name": "epascarello", "link": "https://stackoverflow.com/users/14104/epascarello"}, "edited": false, "score": 2, "creation_date": 1522805694, "post_id": 49641369, "comment_id": 86290434, "body": "So add () around the parameters like it says.... If you do not understand the error messages, look them up, they typically have solutions. <a href=\"https://eslint.org/docs/rules/arrow-parens\" rel=\"nofollow noreferrer\">eslint.org/docs/rules/arrow-parens</a>"}], "answers": [{"comments": [{"owner": {"reputation": 12918, "user_id": 523507, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/5JZJn.png?s=128&g=1", "display_name": "manuelBetancurt", "link": "https://stackoverflow.com/users/523507/manuelbetancurt"}, "edited": false, "score": 2, "creation_date": 1522805613, "post_id": 49641384, "comment_id": 86290410, "body": "hi , thanks, but it also needed the type, so (error : any)"}], "tags": [], "owner": {"reputation": 253913, "user_id": 9515207, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/34932d3e923ffad9a4a1423e30b1d9fc?s=128&d=identicon&r=PG&f=1", "display_name": "CertainPerformance", "link": "https://stackoverflow.com/users/9515207/certainperformance"}, "is_accepted": true, "score": 4, "last_activity_date": 1522805691, "last_edit_date": 1522805691, "creation_date": 1522805512, "answer_id": 49641384, "question_id": 49641369, "link": "https://stackoverflow.com/questions/49641369/migrating-function-to-typescript-from-js/49641384#49641384", "title": "migrating function to typescript from JS", "body": "<p>Just as it says, put parentheses around the parameter:</p>\n\n<p><code>.catch((error: any) =&gt; {</code></p>\n"}, {"tags": [], "owner": {"reputation": 779, "user_id": 2884613, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/m1C6J.jpg?s=128&g=1", "display_name": "raychz", "link": "https://stackoverflow.com/users/2884613/raychz"}, "is_accepted": false, "score": 4, "last_activity_date": 1522806461, "last_edit_date": 1522806461, "creation_date": 1522805868, "answer_id": 49641437, "question_id": 49641369, "link": "https://stackoverflow.com/questions/49641369/migrating-function-to-typescript-from-js/49641437#49641437", "title": "migrating function to typescript from JS", "body": "<p>If you'd rather not add parentheses around the parameter (it's not strictly required by Typescript), add the following to the <code>rules</code> object in your tslint.json file.</p>\n\n<pre><code>\"arrow-parens\": [true, \"ban-single-arg-parens\"]\n</code></pre>\n\n<p>Check out <a href=\"https://palantir.github.io/tslint/usage/configuration/\" rel=\"nofollow noreferrer\">https://palantir.github.io/tslint/usage/configuration/</a> and <a href=\"https://palantir.github.io/tslint/rules/arrow-parens/\" rel=\"nofollow noreferrer\">https://palantir.github.io/tslint/rules/arrow-parens/</a> for more details.</p>\n"}], "owner": {"reputation": 12918, "user_id": 523507, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/5JZJn.png?s=128&g=1", "display_name": "manuelBetancurt", "link": "https://stackoverflow.com/users/523507/manuelbetancurt"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 993, "favorite_count": 0, "accepted_answer_id": 49641384, "answer_count": 2, "score": 4, "last_activity_date": 1522806461, "creation_date": 1522805406, "question_id": 49641369, "link": "https://stackoverflow.com/questions/49641369/migrating-function-to-typescript-from-js", "title": "migrating function to typescript from JS", "body": "<p>I am implementing a working JS function to typescript, but I'm getting an error on parameters: \"error, success\"</p>\n\n<blockquote>\n  <p>[tslint] Parentheses are required around the parameters of an arrow function definition (arrow-parens)</p>\n</blockquote>\n\n<pre><code>function chapa() {\n  console.log('altered');\n  TouchID.isSupported()\n  .then(authenticate)\n  .catch(error =&gt; {\n    AlertIOS.alert('TouchID not supported');\n  });\n}\n</code></pre>\n\n<p>so the \"error\" is underlined with error, with this message:</p>\n\n<blockquote>\n  <p>[tslint] Parentheses are required around the parameters of an arrow function definition (arrow-parens)</p>\n</blockquote>\n\n<p>how should I pass then the \"error\" parameter?, cheers </p>\n"}, {"tags": ["typescript"], "answers": [{"tags": [], "owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "is_accepted": true, "score": 2, "last_activity_date": 1522805846, "creation_date": 1522805846, "answer_id": 49641434, "question_id": 49641329, "link": "https://stackoverflow.com/questions/49641329/using-a-class-as-both-constructor-and-type/49641434#49641434", "title": "Using a class as both constructor and type", "body": "<p>You should make <code>create</code> generic as well and have the compiler infer the instance type based on the constructor return type, right now you are basically creating <code>Model&lt;typeof Person&gt;</code> you want <code>Model&lt;Person&gt;</code>:</p>\n\n<pre><code>class Model&lt;T&gt; {\n    public constructor(schema: T) {}\n    public static create&lt;T&gt;(schema: new () =&gt; T) {\n        const schemaClass = new schema();\n        const model = new Model&lt;T&gt;(schemaClass);\n        return model;\n    }\n}\n\nclass Person {}\n\nlet personModel = Model.create(Person) // will be Model&lt;Person&gt;\n</code></pre>\n"}], "owner": {"reputation": 7545, "user_id": 1315053, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/4d8154b3f9ba6f4190483c5231d577d3?s=128&d=identicon&r=PG", "display_name": "ken", "link": "https://stackoverflow.com/users/1315053/ken"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 32, "favorite_count": 0, "accepted_answer_id": 49641434, "answer_count": 1, "score": 2, "last_activity_date": 1522806571, "creation_date": 1522805180, "last_edit_date": 1522806571, "question_id": 49641329, "link": "https://stackoverflow.com/questions/49641329/using-a-class-as-both-constructor-and-type", "title": "Using a class as both constructor and type", "body": "<p>I have a class called <code>Model</code> which wraps a <em>schema</em> class like \"Person\" and can be successfully instantiated like so:</p>\n\n<pre><code> const people = new Model&lt;Person&gt;(Person, db);\n</code></pre>\n\n<blockquote>\n  <p>DB is an abstraction to the database and allows the model to interact with the database without needing to know any DB details ... it is likely not terribly relevant for this question but I bring it up as it looks deliciously important.</p>\n</blockquote>\n\n<p>The redundancy of passing the Person class in twice is annoying and I thought I might be able to create a static method off of <code>Model</code> called <strong>create()</strong> which looked like so:</p>\n\n<pre><code>public static create(schema: new () =&gt; any, options: IModelOptions = {}) {\n  const schemaClass = new schema();\n  const db = options.db || Model.defaultDb;\n  const logger = options.logger || baseLogger;\n  const model = new Model&lt;typeof schema&gt;(schema, db, logger);\n  return model;\n}\n</code></pre>\n\n<p>Where I could then simply instantiate with:</p>\n\n<pre><code> const people = Model.create(Person, { db });\n</code></pre>\n\n<p>This almost seemed like it was working but it appears that Typescript is a bit off in understanding the generic type being used for the <code>Model</code>. Am I barking up the wrong tree? Is there a way to achieve what I want to do? If so, what am I doing wrong?</p>\n\n<hr>\n\n<p>To provide a bit more detail on what is <em>not</em> working ... I find that the generic type information passed in as \"T\":</p>\n\n<pre><code> export default class Model&lt;T extends BaseSchema&gt; { ... }\n</code></pre>\n\n<p>is not correctly typing things. So for instance many of the Model's public interface constrain the input to type <code>&lt;T&gt;</code> but rather than this being \"Person\" it is resolved to as the constructor function for Person: <code>new () =&gt; any</code> which seems to not constrain at all. </p>\n"}, {"tags": ["javascript", "typescript", "tdd", "jestjs"], "answers": [{"tags": [], "owner": {"reputation": 1668, "user_id": 6668441, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-BlhMWWB9x_s/AAAAAAAAAAI/AAAAAAAAAGk/syxF80dSXY0/photo.jpg?sz=128", "display_name": "Fabien Greard", "link": "https://stackoverflow.com/users/6668441/fabien-greard"}, "is_accepted": false, "score": 1, "last_activity_date": 1528392332, "creation_date": 1528392332, "answer_id": 50746998, "question_id": 49641085, "link": "https://stackoverflow.com/questions/49641085/how-to-compare-enoent-error-in-jest/50746998#50746998", "title": "How to compare ENOENT error in Jest?", "body": "<p>One way to make it work is to catch the error and compare the code it returns, using your example:</p>\n\n<pre><code>  test('Should return an error', async () =&gt; {\n    try {\n      await readAsync('./nomatch/nomatch.txt');\n    } catch (e) {\n      expect(e.code).toEqual('ENOENT');\n    }\n  });\n</code></pre>\n\n<p>JavaScript properties may be non-enumerable, which means they does not appear in for..in loops or Object.keys results.</p>\n\n<p>You may want to know wich key are available on the Error object with <code>Object.getOwnPropertyNames(e)</code></p>\n"}], "owner": {"reputation": 343, "user_id": 7092954, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/j2Tts.png?s=128&g=1", "display_name": "Lucas Almeida Carotta", "link": "https://stackoverflow.com/users/7092954/lucas-almeida-carotta"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 716, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1528392332, "creation_date": 1522803009, "question_id": 49641085, "link": "https://stackoverflow.com/questions/49641085/how-to-compare-enoent-error-in-jest", "title": "How to compare ENOENT error in Jest?", "body": "<p>I have the following function:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>export const readAsync = (filename: string): Promise&lt;object&gt; =&gt;\n    new Promise((resolve: (data: object) =&gt; void, reject: (data: Error) =&gt; void) =&gt; {\n        readFile(join(__dirname, `../../__mocks__/${filename}`), 'utf8', (err: Error, data: string) =&gt; {\n            if (err) {\n                reject(err);\n            } else {\n                resolve(JSON.parse(data));\n        }\n    });\n});\n</code></pre>\n\n<p>That I had wrote in TypeScript and I'm testing it in ts-jest through:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>describe('Testing readAsync function', () =&gt;\n    test('filename \\\"undefined\\\".', () =&gt; {\n        const filePath: string = join(__dirname, '../../__mocks__/undefined');\n        const errorMessage: Error = new Error(`ENOENT: no such file or directory, open \\'${filePath}\\'`);\n        expect.assertions(1);\n\n        return expect(readAsync(undefined)).rejects.toMatchObject(errorMessage);\n});\n</code></pre>\n\n<p>But this give me this error:</p>\n\n<pre class=\"lang-sh prettyprint-override\"><code>expect(received).toMatchObject(expected)\n\nExpected value to match object:\n  [Error: ENOENT: no such file or directory, open '/home/farm/Documents/podsearch_bot/__mocks__/undefined']\nReceived:\n  [Error: ENOENT: no such file or directory, open '/home/farm/Documents/podsearch_bot/__mocks__/undefined']\nDifference:\nCompared values have no visual difference.\n</code></pre>\n\n<p>I, sincerlly think, that must be a matcher option, but right know I've tested with:</p>\n\n<ul>\n<li>toMatchObject</li>\n<li>toBe</li>\n<li>toEqual</li>\n<li>toBeInstanceOf</li>\n<li>toThrow -- even knowing that throws nothing</li>\n<li>objectContaining</li>\n<li>toMatch</li>\n</ul>\n\n<p>But none seem to work... How can I fix this?</p>\n"}, {"tags": ["typescript", "angular5"], "comments": [{"owner": {"reputation": 410, "user_id": 6226495, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-1O19CA_lXO4/AAAAAAAAAAI/AAAAAAAAAEI/rAF-AV8uAho/photo.jpg?sz=128", "display_name": "Michael Ni&#241;o", "link": "https://stackoverflow.com/users/6226495/michael-ni%c3%b1o"}, "edited": false, "score": 0, "creation_date": 1522800781, "post_id": 49640814, "comment_id": 86289372, "body": "Refer to original post at: <a href=\"https://stackoverflow.com/questions/43991306/angular-4-5-global-variables/43991457\" title=\"angular 4 5 global variables\">stackoverflow.com/questions/43991306/&hellip;</a>"}], "answers": [{"comments": [{"owner": {"reputation": 410, "user_id": 6226495, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-1O19CA_lXO4/AAAAAAAAAAI/AAAAAAAAAEI/rAF-AV8uAho/photo.jpg?sz=128", "display_name": "Michael Ni&#241;o", "link": "https://stackoverflow.com/users/6226495/michael-ni%c3%b1o"}, "edited": false, "score": 0, "creation_date": 1522805989, "post_id": 49640906, "comment_id": 86290495, "body": "An interesting issue was introduced when implementing your recommendation. As I navigate between ng-bootstrap tabs, the counter directive is executed and the question numbers increment when they already have been incremented once. Is there to instruct a directive to execute once or is there a configuration option that addresses this issue. See <a href=\"https://ng-bootstrap.github.io/#/components/tabs/examples\" rel=\"nofollow noreferrer\">ng-bootstrap</a>"}, {"owner": {"reputation": 410, "user_id": 6226495, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-1O19CA_lXO4/AAAAAAAAAAI/AAAAAAAAAEI/rAF-AV8uAho/photo.jpg?sz=128", "display_name": "Michael Ni&#241;o", "link": "https://stackoverflow.com/users/6226495/michael-ni%c3%b1o"}, "edited": false, "score": 0, "creation_date": 1522807333, "post_id": 49640906, "comment_id": 86290795, "body": "It seems that I may need to adjust Angular 5 change detection? But I am unsure if the tab component or the directive should be changed if that is what should be done."}, {"owner": {"reputation": 147776, "user_id": 3731501, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/e4783dfa8ec98c884e61d29f2192ac97?s=128&d=identicon&r=PG&f=1", "display_name": "Estus Flask", "link": "https://stackoverflow.com/users/3731501/estus-flask"}, "reply_to_user": {"reputation": 410, "user_id": 6226495, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-1O19CA_lXO4/AAAAAAAAAAI/AAAAAAAAAEI/rAF-AV8uAho/photo.jpg?sz=128", "display_name": "Michael Ni&#241;o", "link": "https://stackoverflow.com/users/6226495/michael-ni%c3%b1o"}, "edited": false, "score": 0, "creation_date": 1522813065, "post_id": 49640906, "comment_id": 86292245, "body": "This is what <code>decrement question number</code> is for. You can decrement it when a directive is destroyed, so it won&#39;t be counted twice. No, this has nothing to do with change detection. Directive and component instances don&#39;t last forever, you can&#39;t rely on that. I&#39;m not sure what&#39;s the purpose of that. Are you trying to count all &#39;questions&#39; that are used in your app? Doing this in templates would be wrong approach for that."}, {"owner": {"reputation": 410, "user_id": 6226495, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-1O19CA_lXO4/AAAAAAAAAAI/AAAAAAAAAEI/rAF-AV8uAho/photo.jpg?sz=128", "display_name": "Michael Ni&#241;o", "link": "https://stackoverflow.com/users/6226495/michael-ni%c3%b1o"}, "edited": false, "score": 0, "creation_date": 1522958905, "post_id": 49640906, "comment_id": 86373162, "body": "I guess I assumed once a template or component is rendered that I could rely on it remaining rendered. Perhaps Angular does this to ensure resources are consumed minimally. However, this approach departs from how server-side templates behave. Or I should say that server-side templates do not behave this way. With that said, on the server I can reply on this expected behavior. As a result each question will be counted on the server instead...unless you have a different &quot;client-side approach&quot;."}, {"owner": {"reputation": 147776, "user_id": 3731501, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/e4783dfa8ec98c884e61d29f2192ac97?s=128&d=identicon&r=PG&f=1", "display_name": "Estus Flask", "link": "https://stackoverflow.com/users/3731501/estus-flask"}, "reply_to_user": {"reputation": 410, "user_id": 6226495, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-1O19CA_lXO4/AAAAAAAAAAI/AAAAAAAAAEI/rAF-AV8uAho/photo.jpg?sz=128", "display_name": "Michael Ni&#241;o", "link": "https://stackoverflow.com/users/6226495/michael-ni%c3%b1o"}, "edited": false, "score": 0, "creation_date": 1522965163, "post_id": 49640906, "comment_id": 86376000, "body": "I guess your conclusions are correct. The comparison with server or client template engines (e.g. Handlebars) isn&#39;t correct because Angular isn&#39;t just template engine and doesn&#39;t stop working after initial rendering. If you&#39;re translating this piece of code from server side template to Angular then your approach should differ drastically in order to end up with Angular app that makes sense."}], "tags": [], "owner": {"reputation": 147776, "user_id": 3731501, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/e4783dfa8ec98c884e61d29f2192ac97?s=128&d=identicon&r=PG&f=1", "display_name": "Estus Flask", "link": "https://stackoverflow.com/users/3731501/estus-flask"}, "is_accepted": true, "score": 1, "last_activity_date": 1522801677, "last_edit_date": 1522801677, "creation_date": 1522801359, "answer_id": 49640906, "question_id": 49640814, "link": "https://stackoverflow.com/questions/49640814/typescript-global-variable-counter/49640906#49640906", "title": "Typescript Global variable: Counter", "body": "<p><code>Globals</code> misuses static property. Since the service is expected to be a singleton (it is a singleton when it's provided in a module), it should be:</p>\n\n<pre><code>@Injectable()\nexport class Globals {\n    question_number: number = 1;\n\n    incrementQuestionNumber() {\n        return ++this.question_number;\n    }\n}\n</code></pre>\n\n<p><code>{{ globals.incrementQuestionNumber() }}</code> will naturally result in <code>ExpressionChangedAfterItHasBeenCheckedError</code>, because it's incremented not just on each occurrence but on each expression evaluation, it's unstable.</p>\n\n<p>To be incremented once per occurrence in a template, it should be a directive or component:</p>\n\n<pre><code>@Directive({ selector: '[question]' })\nclass QuestionDirective {\n  constructor(public globals: Globals) {\n    globals.incrementQuestionNumber();\n  }\n\n  ngOnDestroy() {\n    // decrement question number?\n  }\n}\n</code></pre>\n\n<p>Which is used like:</p>\n\n<pre><code>&lt;div question&gt;What is your favorite color?&lt;/div&gt;\n</code></pre>\n\n<p>Since 'question' entity is likely supposed to provide something more than just a string, <code>QuestionDirective</code> may be responsible for other question-related things and become a component.</p>\n"}], "owner": {"reputation": 410, "user_id": 6226495, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-1O19CA_lXO4/AAAAAAAAAAI/AAAAAAAAAEI/rAF-AV8uAho/photo.jpg?sz=128", "display_name": "Michael Ni&#241;o", "link": "https://stackoverflow.com/users/6226495/michael-ni%c3%b1o"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3071, "favorite_count": 0, "accepted_answer_id": 49640906, "answer_count": 1, "score": 3, "last_activity_date": 1522807427, "creation_date": 1522800537, "last_edit_date": 1522807427, "question_id": 49640814, "link": "https://stackoverflow.com/questions/49640814/typescript-global-variable-counter", "title": "Typescript Global variable: Counter", "body": "<p>The template cannot and does not use a *ngFor. I need an implementation to increment and display a counter when each occurrence of <code>incrementQuestionNumber()</code> is encountered. The Globals class is injected in my component however a <code>ExpressionChangedAfterItHasBeenCheckedError</code> exception is thrown.</p>\n\n<p><strong>Template:</strong></p>\n\n<pre><code>&lt;div&gt;\n{{ globals.incrementQuestionNumber() }}. What is your favorite color?\n&lt;/div&gt;\n&lt;div&gt;\n{{ globals.incrementQuestionNumber() }}. What is your favorite car?\n&lt;/div&gt;\n&lt;div&gt;\n{{ globals.incrementQuestionNumber() }}. Who is your favorite person?\n&lt;/div&gt;\n</code></pre>\n\n<p><strong>Typescript:</strong></p>\n\n<pre><code>import { Injectable } from '@angular/core';\n\n@Injectable()\nexport class Globals {\n    static question_number: number = 1;\n\n    incrementQuestionNumber() {\n        return ++Globals.question_number;\n    }\n}\n</code></pre>\n\n<p><strong>Update:</strong>\nIn case the final implementation isn't obvious (to others), it is provided below however another issue was introduced:</p>\n\n<pre><code>import {Directive, ElementRef} from '@angular/core';\nimport { Globals } from './globals';\n\n@Directive({\n  selector: '[counter]'\n})\nexport class CounterDirective {\n\n  constructor(private globals: Globals, private  el: ElementRef) {\n  let counter = globals.incrementQuestionNumber();\n  let html = el.nativeElement.innerHTML;\n  let match = html.match(/^(\\d+)/)\n  if (match === null)\n      el.nativeElement.innerHTML = counter + '. ' + html; // Doesn't execution when tab is navigated to...\n  }\n\n}\n</code></pre>\n"}, {"tags": ["node.js", "angular", "typescript", "express", "mean-stack"], "comments": [{"owner": {"reputation": 4106, "user_id": 3634032, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/PDCW3.jpg?s=128&g=1", "display_name": "Sam Herrmann", "link": "https://stackoverflow.com/users/3634032/sam-herrmann"}, "edited": false, "score": 0, "creation_date": 1522797180, "post_id": 49640365, "comment_id": 86288393, "body": "you configure your server to always serve <code>index.html</code> for all routes except for anything under <code>&#47;api</code>. Angular will then sort out the routing on the client side."}, {"owner": {"reputation": 2007, "user_id": 3066142, "user_type": "registered", "accept_rate": 44, "profile_image": "https://i.stack.imgur.com/7Ci81.jpg?s=128&g=1", "display_name": "Omar", "link": "https://stackoverflow.com/users/3066142/omar"}, "reply_to_user": {"reputation": 4106, "user_id": 3634032, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/PDCW3.jpg?s=128&g=1", "display_name": "Sam Herrmann", "link": "https://stackoverflow.com/users/3634032/sam-herrmann"}, "edited": false, "score": 0, "creation_date": 1522797223, "post_id": 49640365, "comment_id": 86288410, "body": "@samherrmann I know but how?"}, {"owner": {"reputation": 4106, "user_id": 3634032, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/PDCW3.jpg?s=128&g=1", "display_name": "Sam Herrmann", "link": "https://stackoverflow.com/users/3634032/sam-herrmann"}, "edited": false, "score": 0, "creation_date": 1522797490, "post_id": 49640365, "comment_id": 86288494, "body": "Ah my apologies, I missed the end where you did specified &quot;... served from index&quot;. I&#39;ll let someone more familiar with express answer. (maybe this is a helpful resource: <a href=\"https://angular.io/guide/deployment#server-configuration\" rel=\"nofollow noreferrer\">angular.io/guide/deployment#server-configuration</a>)"}], "answers": [{"comments": [{"owner": {"reputation": 2007, "user_id": 3066142, "user_type": "registered", "accept_rate": 44, "profile_image": "https://i.stack.imgur.com/7Ci81.jpg?s=128&g=1", "display_name": "Omar", "link": "https://stackoverflow.com/users/3066142/omar"}, "edited": false, "score": 0, "creation_date": 1522798659, "post_id": 49640419, "comment_id": 86288840, "body": "great. Angular Routes work. Can you show me how I would do <code>http:&#47;&#47;localhost:5000&#47;test.php</code>?"}, {"owner": {"reputation": 15257, "user_id": 1409312, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/4TCzB.jpg?s=128&g=1", "display_name": "Syntactic Fructose", "link": "https://stackoverflow.com/users/1409312/syntactic-fructose"}, "reply_to_user": {"reputation": 2007, "user_id": 3066142, "user_type": "registered", "accept_rate": 44, "profile_image": "https://i.stack.imgur.com/7Ci81.jpg?s=128&g=1", "display_name": "Omar", "link": "https://stackoverflow.com/users/3066142/omar"}, "edited": false, "score": 0, "creation_date": 1522799208, "post_id": 49640419, "comment_id": 86288968, "body": "If you&#39;d like to use PHP files, you&#39;re going to need to run a PHP server like apache. You should consider sticking to a single backend language, whether that be only PHP or NodeJS"}, {"owner": {"reputation": 2007, "user_id": 3066142, "user_type": "registered", "accept_rate": 44, "profile_image": "https://i.stack.imgur.com/7Ci81.jpg?s=128&g=1", "display_name": "Omar", "link": "https://stackoverflow.com/users/3066142/omar"}, "edited": false, "score": 0, "creation_date": 1522799435, "post_id": 49640419, "comment_id": 86289028, "body": "php wasnt my choice. I will just host it elsewhere"}], "tags": [], "owner": {"reputation": 15257, "user_id": 1409312, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/4TCzB.jpg?s=128&g=1", "display_name": "Syntactic Fructose", "link": "https://stackoverflow.com/users/1409312/syntactic-fructose"}, "is_accepted": true, "score": 3, "last_activity_date": 1522797344, "creation_date": 1522797344, "answer_id": 49640419, "question_id": 49640365, "link": "https://stackoverflow.com/questions/49640365/mean-nodejs-server-for-angular-app-how-do-i-serve-angular-routes/49640419#49640419", "title": "MEAN: nodejs server for Angular App - How do i serve angular routes", "body": "<p>Here's how I serve my angular application via nodejs:</p>\n\n<pre><code>var express = require('express'),\n   path = require('path'),\n   fs = require('fs');\nvar compression = require('compression');\nvar app = express();\nvar staticRoot = __dirname + '/';\nvar env = process.env.NODE_ENV || 'development';\n\napp.set('port', (process.env.PORT || 5000));\n\napp.use(compression());\n/* other middleware */\n\n/* place any backend routes you have here */    \n\napp.use(function(req, res, next) {\n    //if the request is not html then move along\n    var accept = req.accepts('html', 'json', 'xml');\n    if (accept !== 'html') {\n        return next();\n    }\n\n    // if the request has a '.' assume that it's for a file, move along\n    var ext = path.extname(req.path);\n    if (ext !== '') {\n        return next();\n    }\n\n    fs.createReadStream(staticRoot + 'index.html').pipe(res);\n\n});\n\napp.use(express.static(staticRoot));\n\napp.listen(app.get('port'), function() {\n    console.log('app running on port', app.get('port'));\n});\n</code></pre>\n\n<p>When serving the application, ensure all of your frontend dist files are in the same folder as this file (which I call <code>index.js</code>)</p>\n"}], "owner": {"reputation": 2007, "user_id": 3066142, "user_type": "registered", "accept_rate": 44, "profile_image": "https://i.stack.imgur.com/7Ci81.jpg?s=128&g=1", "display_name": "Omar", "link": "https://stackoverflow.com/users/3066142/omar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3355, "favorite_count": 1, "accepted_answer_id": 49640419, "answer_count": 1, "score": 4, "last_activity_date": 1522797344, "creation_date": 1522797018, "question_id": 49640365, "link": "https://stackoverflow.com/questions/49640365/mean-nodejs-server-for-angular-app-how-do-i-serve-angular-routes", "title": "MEAN: nodejs server for Angular App - How do i serve angular routes", "body": "<p>Here is my node <code>server.js</code> it is in the project root with its own npm config. All Angular files are in <code>/client</code> hence after <code>ng build</code> the dist will be at <code>client/dist</code></p>\n\n<p><a href=\"https://i.stack.imgur.com/ydOdt.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ydOdt.png\" alt=\"enter image description here\"></a></p>\n\n<pre><code>const express = require('express');\nconst colors = require('colors');\nconst bodyParser = require('body-parser');\nconst path = require('path');\nconst cors = require('cors');\n\nconst PORT = process.env.port||'3200';\n\n// init \"app\"\nconst app = express();\n\napp.use(cors({origin: `http://localhost:4200`}));\n\n// angular entry point\napp.use(express.static(path.join(__dirname, 'client/dist')));\n\n//parse incoming data before routes\napp.use(bodyParser.json())\n\n// api routes\napp.use('/api',require('./api/api'));\n\n// error middleware\napp.use(function(err, req, res, next){\n    console.log(`${err}`.red.bold)\n    res.status(422).send({error: err.message });\n});\n\n// listen\napp.listen(PORT, function(){\n    console.log(`app running on ${PORT}...`.magenta);\n});\n</code></pre>\n\n<p>When I go to the server <code>http://localhost:3200/</code> I see my angular app. and when I go to <code>http://localhost:3200/api/someExpressRoute</code> I get my api functions. great</p>\n\n<p>Now I need to figure out how to serve angular routes. for example <code>http://localhost:3200/about</code> is part of my angular single page app. But when I go to that url the server doesnt know what to do.</p>\n\n<p>How do I configure this server to handle <code>http://localhost:3200/*</code> as an angular route that is served from index?</p>\n"}, {"tags": ["javascript", "typescript", "date", "timestamp", "date-formatting"], "comments": [{"owner": {"reputation": 15257, "user_id": 1409312, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/4TCzB.jpg?s=128&g=1", "display_name": "Syntactic Fructose", "link": "https://stackoverflow.com/users/1409312/syntactic-fructose"}, "edited": false, "score": 0, "creation_date": 1522797124, "post_id": 49640260, "comment_id": 86288383, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/221294/how-do-you-get-a-timestamp-in-javascript\">How do you get a timestamp in JavaScript?</a>"}, {"owner": {"reputation": 123667, "user_id": 257182, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/f2c683e7dc0c4d4bcc790f87eaa67301?s=128&d=identicon&r=PG", "display_name": "RobG", "link": "https://stackoverflow.com/users/257182/robg"}, "edited": false, "score": 0, "creation_date": 1522797697, "post_id": 49640260, "comment_id": 86288565, "body": "What format should the timestamp be in? Possible duplicate of <a href=\"https://stackoverflow.com/questions/12920892/format-date-time-in-angularjs\"><i>Format Date time in AngularJS</i></a>"}], "answers": [{"tags": [], "owner": {"reputation": 15257, "user_id": 1409312, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/4TCzB.jpg?s=128&g=1", "display_name": "Syntactic Fructose", "link": "https://stackoverflow.com/users/1409312/syntactic-fructose"}, "is_accepted": true, "score": 1, "last_activity_date": 1522797079, "creation_date": 1522797079, "answer_id": 49640376, "question_id": 49640260, "link": "https://stackoverflow.com/questions/49640260/how-to-convert-date-to-a-timestamp-string-angular-2/49640376#49640376", "title": "How to Convert Date to a Timestamp string angular 2", "body": "<p>This more a javascript question than angular/typescript, but you can get a timestamp using </p>\n\n<pre><code>Date.now(); // return timestamp\n</code></pre>\n\n<p>You can read more here: <a href=\"https://stackoverflow.com/questions/221294/how-do-you-get-a-timestamp-in-javascript\">How do you get a timestamp in JavaScript?</a></p>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 7190795, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-e6iyhTJMV2M/AAAAAAAAAAI/AAAAAAAAABI/ga136gMQPvI/photo.jpg?sz=128", "display_name": "Marcelo Mour&#227;o", "link": "https://stackoverflow.com/users/7190795/marcelo-mour%c3%a3o"}, "is_accepted": false, "score": 0, "last_activity_date": 1522797201, "creation_date": 1522797201, "answer_id": 49640391, "question_id": 49640260, "link": "https://stackoverflow.com/questions/49640260/how-to-convert-date-to-a-timestamp-string-angular-2/49640391#49640391", "title": "How to Convert Date to a Timestamp string angular 2", "body": "<p>You can use <a href=\"https://momentjs.com/\" rel=\"nofollow noreferrer\">Moment.js</a>\nor an Angular pipe:</p>\n\n<pre><code>{{valueDate | date: 'dd/MM/yyyy'}}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 660, "user_id": 9560126, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/71b2850a1786b2de5cc0c40585e56714?s=128&d=identicon&r=PG&f=1", "display_name": "Abedin.Zhuniqi", "link": "https://stackoverflow.com/users/9560126/abedin-zhuniqi"}, "is_accepted": false, "score": 0, "last_activity_date": 1522798253, "last_edit_date": 1522798253, "creation_date": 1522797203, "answer_id": 49640393, "question_id": 49640260, "link": "https://stackoverflow.com/questions/49640260/how-to-convert-date-to-a-timestamp-string-angular-2/49640393#49640393", "title": "How to Convert Date to a Timestamp string angular 2", "body": "<p>You can try</p>\n\n<pre><code>d: string = new Date().toLocaleString();\n</code></pre>\n\n<p>Or <code>toISOString()</code></p>\n\n<p>But you can find best solutions here</p>\n\n<p><a href=\"https://developer.mozilla.org/de/docs/Web/JavaScript/Reference/Global_Objects/Date/toISOString\" rel=\"nofollow noreferrer\">https://developer.mozilla.org/de/docs/Web/JavaScript/Reference/Global_Objects/Date/toISOString</a></p>\n"}], "owner": {"reputation": 737, "user_id": 8747207, "user_type": "registered", "accept_rate": 40, "profile_image": "https://lh5.googleusercontent.com/-R1BCkXtE1t4/AAAAAAAAAAI/AAAAAAAAABk/04aQ8PYOW6s/photo.jpg?sz=128", "display_name": "Sergio Mendez", "link": "https://stackoverflow.com/users/8747207/sergio-mendez"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 5851, "favorite_count": 0, "accepted_answer_id": 49640376, "answer_count": 3, "score": 0, "last_activity_date": 1522798253, "creation_date": 1522796285, "last_edit_date": 1522797109, "question_id": 49640260, "link": "https://stackoverflow.com/questions/49640260/how-to-convert-date-to-a-timestamp-string-angular-2", "title": "How to Convert Date to a Timestamp string angular 2", "body": "<p>How do I convert a Date to a timestamp string?</p>\n\n<p>my variable is:</p>\n\n<pre><code>d: Date = new Date();\n</code></pre>\n\n<p>how do I get a timestamp of that variable?</p>\n\n<p>I'm using Angular2. Pleas help</p>\n"}, {"tags": ["javascript", "node.js", "typescript", "jsdoc"], "comments": [{"owner": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 0, "creation_date": 1522795371, "post_id": 49640121, "comment_id": 86287956, "body": "No, they need to be compiled to JavaScript. TypeScript isn&#39;t (necessarily) syntactically valid JS prior to compilation."}], "answers": [{"comments": [{"owner": {"reputation": 8143, "user_id": 90800, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/027d54c100a58268c4ccee4cd4d5ce0e?s=128&d=identicon&r=PG", "display_name": "Alexander Zeitler", "link": "https://stackoverflow.com/users/90800/alexander-zeitler"}, "edited": false, "score": 0, "creation_date": 1522872493, "post_id": 49640454, "comment_id": 86328608, "body": "Thanks, this seems to work. Can I also mix <code>require()</code> and <code>import</code> in <code>b.js</code>?"}, {"owner": {"reputation": 22898, "user_id": 1915893, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/580b31b0be7173bbc477ca1d6967d87c?s=128&d=identicon&r=PG", "display_name": "Aluan Haddad", "link": "https://stackoverflow.com/users/1915893/aluan-haddad"}, "reply_to_user": {"reputation": 8143, "user_id": 90800, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/027d54c100a58268c4ccee4cd4d5ce0e?s=128&d=identicon&r=PG", "display_name": "Alexander Zeitler", "link": "https://stackoverflow.com/users/90800/alexander-zeitler"}, "edited": false, "score": 0, "creation_date": 1522874518, "post_id": 49640454, "comment_id": 86329630, "body": "@AlexanderZeitler mixing <code>import</code> and <code>require</code> is orthogonal - it will work as you say. Whether or not you can use <code>require</code> depends on the module format (<code>--module</code>) you specify. You can <b>not</b> use <code>require</code> if you specify <code>system</code> or <code>es2015</code> because those formats don&#39;t provide it. If you specify <code>amd</code>, <code>commonjs</code>, or <code>umd</code> you can use it. However, it <i>is</i> a bad idea to mix them."}, {"owner": {"reputation": 8143, "user_id": 90800, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/027d54c100a58268c4ccee4cd4d5ce0e?s=128&d=identicon&r=PG", "display_name": "Alexander Zeitler", "link": "https://stackoverflow.com/users/90800/alexander-zeitler"}, "edited": false, "score": 0, "creation_date": 1522875272, "post_id": 49640454, "comment_id": 86330070, "body": "Thanks for the explanation. Mixing is just for migration purposes at the moment."}, {"owner": {"reputation": 22898, "user_id": 1915893, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/580b31b0be7173bbc477ca1d6967d87c?s=128&d=identicon&r=PG", "display_name": "Aluan Haddad", "link": "https://stackoverflow.com/users/1915893/aluan-haddad"}, "reply_to_user": {"reputation": 8143, "user_id": 90800, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/027d54c100a58268c4ccee4cd4d5ce0e?s=128&d=identicon&r=PG", "display_name": "Alexander Zeitler", "link": "https://stackoverflow.com/users/90800/alexander-zeitler"}, "edited": false, "score": 0, "creation_date": 1558211458, "post_id": 49640454, "comment_id": 99027801, "body": "Mixing isn&#39;t necessary for migration because the imports will be transpiled."}], "tags": [], "owner": {"reputation": 22898, "user_id": 1915893, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/580b31b0be7173bbc477ca1d6967d87c?s=128&d=identicon&r=PG", "display_name": "Aluan Haddad", "link": "https://stackoverflow.com/users/1915893/aluan-haddad"}, "is_accepted": true, "score": 52, "last_activity_date": 1602392774, "last_edit_date": 1602392774, "creation_date": 1522797598, "answer_id": 49640454, "question_id": 49640121, "link": "https://stackoverflow.com/questions/49640121/mixing-javascript-and-typescript-in-node-js/49640454#49640454", "title": "Mixing JavaScript and TypeScript in Node.js", "body": "<p>Yes this is possible.</p>\n<p>Combine the following TypeScript compiler options</p>\n<ol>\n<li><p><code>--allowJs</code></p>\n<p>Explicitly supports mixed JavaScript and TypeScript sources</p>\n</li>\n<li><p><code>--outDir</code></p>\n</li>\n</ol>\n<p>Since all files will be transpiled, it is necessary to output the resulting JavaScript into a different directory otherwise the input\n<code>.js</code> files would be overwritten<sup><strong>1</strong></sup>.</p>\n<ol start=\"3\">\n<li><code>--checkJs</code></li>\n</ol>\n<p>This is completely optional. If specified, the compiler will typecheck JavaScript files, reporting errors just as in TypeScript files, where as it would otherwise tolerate inconsistencies.</p>\n<p>As to using types declared in a TypeScript file in a JavaScript file, this can indeed be done.</p>\n<p>TypeScript actually powers all of the JavaScript intellisense in tools like Visual Studio Code.</p>\n<p>Types may be placed in JSDoc<sup><strong>2</strong></sup> comments. These comments can reference types imported from TypeScript (<code>.ts</code>/<code>.tsx</code>/<code>.d.ts</code>) files. IDEs like Visual Studio Code will provide syntax-highlighting and auto completion within these comments.</p>\n<p>There's a caveat however. Because there's no manifest syntax for types in JavaScript, they cannot be imported individually but must be attached to a <em>value</em> which is imported. This is most conveniently achieved via TypeScript's declaration merging as shown below.</p>\n<p>Example:</p>\n<p><strong>a.ts</strong></p>\n<pre><code>export default createThing;\n\nfunction createThing(...args): createThing.Thing  {...}\n\nnamespace createThing {\n  export interface Thing {...}\n}\n</code></pre>\n<p><strong>b.js</strong></p>\n<pre><code>import createThing from './a';\n\n/**\n * @param {createThing.Thing} thing\n */\nexport function takesThing(thing) {}\n</code></pre>\n<p><strong>Notes:</strong></p>\n<p><strong>1</strong>: <code>--outDir</code> is not necessary if you additionally specify the <code>--noEmit</code> flag. You would do this when using a tool such as <a href=\"https://github.com/systemjs/systemjs\" rel=\"noreferrer\">SystemJS</a> (with <a href=\"https://github.com/frankwallis/plugin-typescript\" rel=\"noreferrer\">plugin-typescript</a>) or <a href=\"https://webpack.js.org\" rel=\"noreferrer\">Webpack</a> (with <a href=\"https://github.com/TypeStrong/ts-loader\" rel=\"noreferrer\">ts-loader</a>) to host the TypeScript transpiler. The same applies if you are using <a href=\"https://github.com/TypeStrong/ts-node\" rel=\"noreferrer\">TS Node</a>.</p>\n<p><strong>2</strong>: Although called <a href=\"http://usejsdoc.org\" rel=\"noreferrer\">JSDoc</a> comments, they are interpreted in the context of the TypeScript type system, <em><strong>not</strong></em> the JSDoc system. Languages and tools like TypeScript, and Google's <a href=\"https://github.com/google/closure-compiler/wiki/Types-in-the-Closure-Type-System\" rel=\"noreferrer\">Closure Compiler</a>, effectively hijack the JSDoc syntax for their own purposes and thereby confer potentially conflicting meanings to its constructs. This isn't usually a problem but it's worth knowing because it can be difficult to determine the applicability and correctness of these comments and the compatibility of the types that they reference or declare.</p>\n<p><strong>Remarks:</strong></p>\n<p>Although this question and answer is all about importing types for use in JavaScript files, it's very often unnecessary as the compiler will infer the types from the values of your expressions.</p>\n<p>It's also worth mentioning that if you find yourself needing to write a lot of JSDoc style type annotations you are almost certainly better off converting the file to TypeScript as the syntax for expressing types in JSDoc is clumsy. Thanks to the <code>--allowJs</code> option, you can do this on a file by file basis, as described above.</p>\n"}], "owner": {"reputation": 8143, "user_id": 90800, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/027d54c100a58268c4ccee4cd4d5ce0e?s=128&d=identicon&r=PG", "display_name": "Alexander Zeitler", "link": "https://stackoverflow.com/users/90800/alexander-zeitler"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 24594, "favorite_count": 13, "accepted_answer_id": 49640454, "answer_count": 1, "score": 44, "last_activity_date": 1602392774, "creation_date": 1522795286, "last_edit_date": 1553351200, "question_id": 49640121, "link": "https://stackoverflow.com/questions/49640121/mixing-javascript-and-typescript-in-node-js", "title": "Mixing JavaScript and TypeScript in Node.js", "body": "<p>While having parts of a Node.js in plain ES6, is it possible to mix in some Typescript modules within the same project?</p>\n\n<p>E.g. having some Types defined in TypeScript that are imported via <code>require</code> into plain ES6 files?</p>\n"}, {"tags": ["typescript", "react-router-v4"], "answers": [{"tags": [], "owner": {"reputation": 1910, "user_id": 8089107, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/378b959fe8f632edcc8e8060bc7e7af1?s=128&d=identicon&r=PG&f=1", "display_name": "sn42", "link": "https://stackoverflow.com/users/8089107/sn42"}, "is_accepted": true, "score": 3, "last_activity_date": 1530465958, "creation_date": 1530465958, "answer_id": 51125455, "question_id": 49639761, "link": "https://stackoverflow.com/questions/49639761/write-privateroute-component-in-a-typescript-friendly-way/51125455#51125455", "title": "Write PrivateRoute Component in a typescript friendly way", "body": "<p>I use this code to mimic a Route:</p>\n\n<pre><code>export const PrivateRoute = ({ component, ...rest }: RouteProps) =&gt; {\n  if (!component) {\n    throw Error(\"component is undefined\");\n  }\n\n  const Component = component; // JSX Elements have to be uppercase.\n  const render = (props: RouteComponentProps&lt;any&gt;): React.ReactNode =&gt; {\n    if (fakeAuth.isAuthenticated) {\n      return &lt;Component {...props} /&gt;;\n    }\n    return &lt;Redirect to={{ pathname: '/login' }} /&gt;\n  };\n\n  return (&lt;Route {...rest} render={render} /&gt;);\n}\n</code></pre>\n\n<p>The original definition of Route is <code>Route&lt;T extends RouteProps = RouteProps&gt; extends React.Component&lt;T, any&gt;</code>, but with Typescript 2.9 there is currently no way to use the spread operator in the first line with generics, thats why the general RouteProps type is used. </p>\n"}, {"tags": [], "owner": {"reputation": 227, "user_id": 6089150, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cbdfb16bba3fee5b949d599a4f721c7f?s=128&d=identicon&r=PG&f=1", "display_name": "NbonD", "link": "https://stackoverflow.com/users/6089150/nbond"}, "is_accepted": false, "score": 10, "last_activity_date": 1544628186, "creation_date": 1544628186, "answer_id": 53746204, "question_id": 49639761, "link": "https://stackoverflow.com/questions/49639761/write-privateroute-component-in-a-typescript-friendly-way/53746204#53746204", "title": "Write PrivateRoute Component in a typescript friendly way", "body": "<p>There is a Typescript syntax for <a href=\"https://www.typescriptlang.org/docs/handbook/variable-declarations.html#property-renaming\" rel=\"noreferrer\">renaming destructured properties</a>. </p>\n\n<p>In building a private route, it looks like this:</p>\n\n<pre><code>const PrivateRoute = ({component: Component, ...rest}: {component: any}) =&gt; (\n    ...\n)\n</code></pre>\n"}], "owner": {"reputation": 25827, "user_id": 337134, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/W4Ucw.png?s=128&g=1", "display_name": "Knows Not Much", "link": "https://stackoverflow.com/users/337134/knows-not-much"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2720, "favorite_count": 0, "accepted_answer_id": 51125455, "answer_count": 2, "score": 2, "last_activity_date": 1544628186, "creation_date": 1522792800, "question_id": 49639761, "link": "https://stackoverflow.com/questions/49639761/write-privateroute-component-in-a-typescript-friendly-way", "title": "Write PrivateRoute Component in a typescript friendly way", "body": "<p>I am learning to use React Router in Typescript. I am also reading this article on how to implement PrivateRoutes in typescript+react router.</p>\n\n<p><a href=\"https://tylermcginnis.com/react-router-protected-routes-authentication/\" rel=\"nofollow noreferrer\">https://tylermcginnis.com/react-router-protected-routes-authentication/</a></p>\n\n<p>The blog above has a code segment to implement the PrivateRoute as </p>\n\n<pre><code>const PrivateRoute = ({component: Component, ...rest}) =&gt; (\n   &lt;Route {...rest} render={(props) =&gt; (\n      isLoggedIn.isAuthenticated === true ? &lt;Component {...props} /&gt; : &lt;Redirect to='/login' /&gt;\n   )} /&gt;\n)\n</code></pre>\n\n<p>However my typescript compiler doesn't like the above code</p>\n\n<pre><code>ERROR in [at-loader] ./src/components/Main.tsx:19:35\n    TS7031: Binding element 'Component' implicitly has an 'any' type.\nChild html-webpack-plugin for \"index.html\":\n</code></pre>\n\n<p>How can I modify this code above so that it becomes typescript friendly?</p>\n"}, {"tags": ["angular", "typescript"], "answers": [{"tags": [], "owner": {"reputation": 13005, "user_id": 5594389, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/pe2h9.jpg?s=128&g=1", "display_name": "Tomasz Kula", "link": "https://stackoverflow.com/users/5594389/tomasz-kula"}, "is_accepted": false, "score": 7, "last_activity_date": 1522791524, "creation_date": 1522791524, "answer_id": 49639519, "question_id": 49639447, "link": "https://stackoverflow.com/questions/49639447/angular-route-resolver-or-oninit/49639519#49639519", "title": "angular route resolver or onInit?", "body": "<p>Well it depends. If the component cannot function without the <code>data1</code>, <code>data2</code>, and <code>data3</code>, then the resolve approach makes a lot of sense. An example would be you bank account page. You do not really care about the page until you can see the details of your account.</p>\n\n<p>If you can show something to the user while he awaits for the data it might be better to get the data in the <code>ngOnInit</code>. An example would be a product page, where <code>data{1,2,3}</code> is a stream of recommended products. The product page can still be shown, even without the recommendations, and the recommended products can continue to load while the user can interact with the rest of the page.</p>\n\n<p>It will be very hard for anyone to answer this question without a deeper understanding of your business logic requirements.</p>\n"}, {"tags": [], "owner": {"reputation": 2587, "user_id": 8038345, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-icRMJ-ft0qg/AAAAAAAAAAI/AAAAAAAAABQ/WCFUJf0i-K0/photo.jpg?sz=128", "display_name": "Gustavo Lopes", "link": "https://stackoverflow.com/users/8038345/gustavo-lopes"}, "is_accepted": true, "score": 20, "last_activity_date": 1522791919, "creation_date": 1522791919, "answer_id": 49639596, "question_id": 49639447, "link": "https://stackoverflow.com/questions/49639447/angular-route-resolver-or-oninit/49639596#49639596", "title": "angular route resolver or onInit?", "body": "<p>The main difference between <code>resolvers</code> and <code>onInit</code> is the synchronicity.</p>\n\n<ul>\n<li><p><code>Resolver</code> is synchronous.</p>\n\n<ul>\n<li>You should use it when you need the data before the component is loaded.</li>\n<li>You block the component loading.</li>\n<li>You don't inject the service into the component (you can't use other methods there)</li>\n</ul></li>\n<li><p><code>OnInit</code> is asynchronous (in your code). </p>\n\n<ul>\n<li>You should use it when there is no need for the data being available before loading the component.</li>\n<li>You don't block the component loading.</li>\n<li>You inject the service into the component, therefore you can use other methods from this service.</li>\n</ul></li>\n</ul>\n\n<p>Take a look at this site: <a href=\"https://blog.thoughtram.io/angular/2016/10/10/resolving-route-data-in-angular-2.html\" rel=\"noreferrer\">https://blog.thoughtram.io/angular/2016/10/10/resolving-route-data-in-angular-2.html</a></p>\n"}, {"tags": [], "owner": {"reputation": 71, "user_id": 11464379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6869306a45582fde96baf46201600aa8?s=128&d=identicon&r=PG", "display_name": "alexsanzdev", "link": "https://stackoverflow.com/users/11464379/alexsanzdev"}, "is_accepted": false, "score": 2, "last_activity_date": 1575579675, "creation_date": 1575579675, "answer_id": 59203203, "question_id": 49639447, "link": "https://stackoverflow.com/questions/49639447/angular-route-resolver-or-oninit/59203203#59203203", "title": "angular route resolver or onInit?", "body": "<p>It's important to understand that <code>route resolvers</code> and <code>component ngOnInit</code> are two different solutions to two different problems, meaning that one tool is not better than the other. </p>\n\n<p>I would say the best practice is to use both in your application, depending on the situation - sometimes it makes sense, UX-wise, to display a view synchronously (blocking until data is loaded) and other times it's better to display the view immediately and load data asynchronously.</p>\n\n<p>So, it's not an application design or architectural decision - It's a UX/UI decision.</p>\n"}], "owner": {"reputation": 983, "user_id": 9014927, "user_type": "registered", "accept_rate": 25, "profile_image": "https://lh5.googleusercontent.com/-IWLxpf_KB1w/AAAAAAAAAAI/AAAAAAAAAB4/xIvFy2qNTek/photo.jpg?sz=128", "display_name": "Nazar Kalytiuk", "link": "https://stackoverflow.com/users/9014927/nazar-kalytiuk"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4741, "favorite_count": 6, "accepted_answer_id": 49639596, "answer_count": 3, "score": 17, "last_activity_date": 1590325842, "creation_date": 1522791201, "last_edit_date": 1590325842, "question_id": 49639447, "link": "https://stackoverflow.com/questions/49639447/angular-route-resolver-or-oninit", "title": "angular route resolver or onInit?", "body": "<p>What better for using <code>resolver</code> service or get data in OnInit hook? For example, if I need get data from 3 different sources into 1 page better user resolver or write code into ngOnInit?</p>\n\n<p>code</p>\n\n<pre><code>ngOnInit() {\n  service1.getData().subscribe(c =&gt; {\n    this.data1 = c;\n  });\n  service2.getData().subscribe(c =&gt; {\n    this.data2 = c;\n  });\n  service3.getData().subscribe(c =&gt; {\n    this.data3 = c;\n  });\n}\n</code></pre>\n\n<p>OR</p>\n\n<pre><code>RouterModule.forRoot([{\n  path: 'page/:id',\n  component: blabla,\n  resolve: {\n    data1: service1,\n    data2: service2,\n    data3: service3\n  }\n}])\n\nngOnInit() {\n  this.data1 = this.activatedRoute.snapshot.data.data1;\n  this.data2 = this.activatedRoute.snapshot.data.data2;\n  this.data3 = this.activatedRoute.snapshot.data.data3;\n}\n</code></pre>\n"}, {"tags": ["javascript", "typescript", "webpack"], "comments": [{"owner": {"reputation": 9909, "user_id": 5225844, "user_type": "registered", "accept_rate": 48, "profile_image": "https://i.stack.imgur.com/hKnPb.jpg?s=128&g=1", "display_name": "Naga Sai A", "link": "https://stackoverflow.com/users/5225844/naga-sai-a"}, "edited": false, "score": 0, "creation_date": 1522790764, "post_id": 49639143, "comment_id": 86286446, "body": "using environment variables is one option - <a href=\"https://webpack.js.org/guides/environment-variables/\" rel=\"nofollow noreferrer\">webpack.js.org/guides/environment-variables</a>"}, {"owner": {"reputation": 4631, "user_id": 763026, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/AxQR4.png?s=128&g=1", "display_name": "Angshuman Agarwal", "link": "https://stackoverflow.com/users/763026/angshuman-agarwal"}, "reply_to_user": {"reputation": 9909, "user_id": 5225844, "user_type": "registered", "accept_rate": 48, "profile_image": "https://i.stack.imgur.com/hKnPb.jpg?s=128&g=1", "display_name": "Naga Sai A", "link": "https://stackoverflow.com/users/5225844/naga-sai-a"}, "edited": false, "score": 0, "creation_date": 1522791077, "post_id": 49639143, "comment_id": 86286555, "body": "How will that help <code>dynamically</code> i.e.  during actual code execution ? Config is only used during the <code>build process</code>. Could you please elaborate with a sample if possible ?"}, {"owner": {"reputation": 10568, "user_id": 1525495, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/imb0b.jpg?s=128&g=1", "display_name": "Jorge Fuentes Gonz&#225;lez", "link": "https://stackoverflow.com/users/1525495/jorge-fuentes-gonz%c3%a1lez"}, "edited": false, "score": 0, "creation_date": 1522840453, "post_id": 49639143, "comment_id": 86307100, "body": "Hi @AngshumanAgarwal, have you achieved something? I would like to have some feedback on my answer"}, {"owner": {"reputation": 4631, "user_id": 763026, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/AxQR4.png?s=128&g=1", "display_name": "Angshuman Agarwal", "link": "https://stackoverflow.com/users/763026/angshuman-agarwal"}, "edited": false, "score": 0, "creation_date": 1522841193, "post_id": 49639143, "comment_id": 86307542, "body": "Thanks for your answer - researched more and found that <code>webpack</code> has nicely documented it too - <a href=\"https://webpack.js.org/guides/production/\" rel=\"nofollow noreferrer\">webpack.js.org/guides/production</a>"}, {"owner": {"reputation": 10568, "user_id": 1525495, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/imb0b.jpg?s=128&g=1", "display_name": "Jorge Fuentes Gonz&#225;lez", "link": "https://stackoverflow.com/users/1525495/jorge-fuentes-gonz%c3%a1lez"}, "edited": false, "score": 0, "creation_date": 1522842455, "post_id": 49639143, "comment_id": 86308423, "body": "@AngshumanAgarwal Woah, that&#39;s cool. I didn&#39;t know that. Going to apply it to my projects haha"}], "answers": [{"comments": [{"owner": {"reputation": 4631, "user_id": 763026, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/AxQR4.png?s=128&g=1", "display_name": "Angshuman Agarwal", "link": "https://stackoverflow.com/users/763026/angshuman-agarwal"}, "edited": false, "score": 0, "creation_date": 1522792730, "post_id": 49639482, "comment_id": 86287118, "body": "Thanks - will give a shot at it. My understanding is since the NODE_ENV environment variable and the corresponding process.env.NODE_ENV runtime field are strictly Node-specific concepts, by default that value does not exist in client-side code. Looks like DefinePlugin is forcing that to be a global variable ?"}, {"owner": {"reputation": 10568, "user_id": 1525495, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/imb0b.jpg?s=128&g=1", "display_name": "Jorge Fuentes Gonz&#225;lez", "link": "https://stackoverflow.com/users/1525495/jorge-fuentes-gonz%c3%a1lez"}, "reply_to_user": {"reputation": 4631, "user_id": 763026, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/AxQR4.png?s=128&g=1", "display_name": "Angshuman Agarwal", "link": "https://stackoverflow.com/users/763026/angshuman-agarwal"}, "edited": false, "score": 0, "creation_date": 1522792849, "post_id": 49639482, "comment_id": 86287153, "body": "@AngshumanAgarwal Exactly, <code>DefinePlugin</code> makes that inside any webpack bundle code running in any environment will have the defined variable."}, {"owner": {"reputation": 4631, "user_id": 763026, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/AxQR4.png?s=128&g=1", "display_name": "Angshuman Agarwal", "link": "https://stackoverflow.com/users/763026/angshuman-agarwal"}, "edited": false, "score": 0, "creation_date": 1522793121, "post_id": 49639482, "comment_id": 86287240, "body": "Hope <code>UglifyJS</code> does not strip that out as a dead code brach during minification because it will encounter <code>if(&quot;production&quot; !== &quot;production&quot;)</code> where <code>process.env.NODE_ENV = &quot;production&quot;</code> -- as being set from the cli during the build process."}, {"owner": {"reputation": 10568, "user_id": 1525495, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/imb0b.jpg?s=128&g=1", "display_name": "Jorge Fuentes Gonz&#225;lez", "link": "https://stackoverflow.com/users/1525495/jorge-fuentes-gonz%c3%a1lez"}, "reply_to_user": {"reputation": 4631, "user_id": 763026, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/AxQR4.png?s=128&g=1", "display_name": "Angshuman Agarwal", "link": "https://stackoverflow.com/users/763026/angshuman-agarwal"}, "edited": false, "score": 0, "creation_date": 1522796601, "post_id": 49639482, "comment_id": 86288265, "body": "@AngshumanAgarwal There&#39;s no problem with that, as if the branch is never reached, you don&#39;t need the code inside it. Is actually good to strip it to reduce bundle size."}, {"owner": {"reputation": 3265, "user_id": 4508758, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/ELK6p.jpg?s=128&g=1", "display_name": "WiseTap", "link": "https://stackoverflow.com/users/4508758/wisetap"}, "edited": false, "score": 0, "creation_date": 1602256602, "post_id": 49639482, "comment_id": 113672558, "body": "import using &quot;require&quot; worked for me: <code>new (require(&#39;webpack&#39;)).DefinePlugin({ ...</code>"}], "tags": [], "owner": {"reputation": 10568, "user_id": 1525495, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/imb0b.jpg?s=128&g=1", "display_name": "Jorge Fuentes Gonz&#225;lez", "link": "https://stackoverflow.com/users/1525495/jorge-fuentes-gonz%c3%a1lez"}, "is_accepted": true, "score": 2, "last_activity_date": 1522791378, "creation_date": 1522791378, "answer_id": 49639482, "question_id": 49639143, "link": "https://stackoverflow.com/questions/49639143/typescript-webpack-check-if-running-via-production-config/49639482#49639482", "title": "Typescript / Webpack check if running via Production config", "body": "<p>You can add a plugin to define an environment variable that can be accessed within the code, like this:</p>\n\n<pre><code>new webpack.DefinePlugin({\n    'process.env.NODE_ENV': JSON.stringify('production')\n})\n</code></pre>\n\n<p>And then inside your code you just have to check for <code>process.env.NODE_ENV</code>.</p>\n\n<p>Needless to say that you can manage the plugin with an environment variable that you can pass via cli, like this:</p>\n\n<pre><code>webpack --env.production\n</code></pre>\n\n<p>And then have your <code>webpack.config.js</code> with something like this:</p>\n\n<pre><code>module.exports = function(env) {\n    return {\n        /*[...]*/\n        plugins: [new webpack.DefinePlugin({\n            'process.env.NODE_ENV': JSON.stringify(env.production ? 'production' : 'development')\n        })]\n        /*[...]*/\n    };\n};\n</code></pre>\n\n<p>Source: That's how react works :-)</p>\n"}], "owner": {"reputation": 4631, "user_id": 763026, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/AxQR4.png?s=128&g=1", "display_name": "Angshuman Agarwal", "link": "https://stackoverflow.com/users/763026/angshuman-agarwal"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 643, "favorite_count": 0, "accepted_answer_id": 49639482, "answer_count": 1, "score": 1, "last_activity_date": 1522791378, "creation_date": 1522789553, "question_id": 49639143, "link": "https://stackoverflow.com/questions/49639143/typescript-webpack-check-if-running-via-production-config", "title": "Typescript / Webpack check if running via Production config", "body": "<p>I am using <code>webpack, reactjs, typescript</code>. In my <code>.tsx</code> code, I have a requirement where I need to route to URL depending upon my environment i.e. Production or Development. So, how can I check for the environment and load the correct URL <strong>dynamically</strong> ?</p>\n"}, {"tags": ["typescript", "automation", "protractor", "cucumberjs", "cucumber-serenity"], "comments": [{"owner": {"reputation": 11632, "user_id": 8582353, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aa2e22a564c1d0e098316210a2ec4fb1?s=128&d=identicon&r=PG&f=1", "display_name": "yong", "link": "https://stackoverflow.com/users/8582353/yong"}, "edited": false, "score": 0, "creation_date": 1522798484, "post_id": 49638620, "comment_id": 86288797, "body": "Please give a real HTML of your table"}], "answers": [{"comments": [{"owner": {"reputation": 189, "user_id": 4113275, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/vtLBm.png?s=128&g=1", "display_name": "kapperkp", "link": "https://stackoverflow.com/users/4113275/kapperkp"}, "edited": false, "score": 0, "creation_date": 1522853451, "post_id": 49640557, "comment_id": 86316960, "body": "I have updated the html and I also added my class that does the selecting and adding text along with my definiton function"}], "tags": [], "owner": {"reputation": 11632, "user_id": 8582353, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aa2e22a564c1d0e098316210a2ec4fb1?s=128&d=identicon&r=PG&f=1", "display_name": "yong", "link": "https://stackoverflow.com/users/8582353/yong"}, "is_accepted": false, "score": 0, "last_activity_date": 1522798450, "creation_date": 1522798450, "answer_id": 49640557, "question_id": 49638620, "link": "https://stackoverflow.com/questions/49638620/function-to-parse-a-html-identifier-in-typescript-from-cucumber-feature-file-to/49640557#49640557", "title": "function to parse a html identifier in typescript from cucumber .feature file to a pageobject file", "body": "<p>PageObject function:</p>\n\n<pre><code>static filterItems = {\n        dropDown: (name: string) =&gt; Target.the(`filter dropdown called ${name}`)\n            .located(by.xpath(`//th[normalize-space(.)=\"${name}\"]/select`)),\n        textBox: (name: string) =&gt; Target.the(`filter textbox called ${name}`)\n            .located(by.xpath(`//th[normalize-space(.)=\"${name}\"]/input[type=\"text\"]`)),\n    };\n</code></pre>\n\n<p>Step in feature file:</p>\n\n<pre><code>And he filters Account Name so that it contains dyno\n</code></pre>\n\n<p>Step defintion function:</p>\n\n<pre><code>And(/^he filters (.+) so that it (\\w+) (.+)$/, (columnName, filterMethod, filterWords) =&gt; {\n   // columnName   =&gt; Account Name\n   // filterMethod =&gt; contains\n   // filterWords  =&gt; dyno\n   pageA.filterItems.dropdown(columnName)... \n});\n</code></pre>\n"}], "owner": {"reputation": 189, "user_id": 4113275, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/vtLBm.png?s=128&g=1", "display_name": "kapperkp", "link": "https://stackoverflow.com/users/4113275/kapperkp"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 87, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1522883096, "creation_date": 1522787263, "last_edit_date": 1522883096, "question_id": 49638620, "link": "https://stackoverflow.com/questions/49638620/function-to-parse-a-html-identifier-in-typescript-from-cucumber-feature-file-to", "title": "function to parse a html identifier in typescript from cucumber .feature file to a pageobject file", "body": "<p>Attached I have an image example <a href=\"https://i.stack.imgur.com/e1e1R.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/e1e1R.png\" alt=\"accountlist\"></a>of my dropdown and textbox \nI have a dropdown and a text box, I want to create a Pageobject function that parses a .css or class html identifier and splits it with a \" - \"\nfor example:</p>\n\n<p>i have a cucumber <code>.feature</code> file that does this</p>\n\n<pre><code>And he filters account Name so that it contains dyno\n</code></pre>\n\n<p>So here I am saying find the Account Name column and select a value in the dropdown and then enter a value inside the text box, in theory if i get the Devs to create a html Identifier for the dropdown and textbox that is something similar to this: (specficially an identifier with accountName)</p>\n\n<pre><code>&lt;th _ngcontent-c2=\"\" class=\"ui-p-6 ui-sortable-column\" \n    preorderablecolumn=\"\" style=\"text-align:left;\" \n    ng-reflect-field=\"accountId\" draggable=\"true\"&gt;\n        Account Name\n\n  &lt;p-sorticon _ngcontent-c2=\"\" ng-reflect-field=\"accountId\"&gt;\n\n    &lt;span class=\"ui-sortable-column-icon fa fa-fw fa-sort\" \n          ng-reflect-klass=\"ui-sortable-column-icon fa fa-\" \n          ng-reflect-ng-class=\"[object Object]\"&gt;\n    &lt;/span&gt;\n\n  &lt;/p-sorticon&gt;\n&lt;/th&gt;\n</code></pre>\n\n<p>here is my step definition:</p>\n\n<pre><code>this.When(/^s?he filters (.*) so that it ?(.*)?(.*) ?(.*)$/,\n    (columnName: string, bySelectingTheFilter: string, \n     andEnteringText: string, intoTextBox: string) =&gt; {\n        return stage.theActorInTheSpotlight().attemptsTo(\n            FilterTheList.toShow(columnName, bySelectingTheFilter, \n                         andEnteringText, intoTextBox)\n        );\n    });\n</code></pre>\n\n<p>I have a task file that houses the class that does the selecting the dropdown and entering the data inside the text box here:</p>\n\n<pre><code>export class FilterTheList implements Task {\n    constructor(private columnName: string, private filter: string,\n                private text: string, private filterTextBox: string) {\n    }\n\n    static filterOptionShow() {\n        return Click.on(AccountListUI.accountListShowFilter);\n    }\n\n    static toShow(columnName: string, filter: string, text: string, filterTextBox: string){\n        // @todo need to sanitize columns to match HTML identifier\n        // this.columnName = columnName; \n\n        // @todo need to sanitize columns to match HTML identifier\n        // this.filterTextBox = filterTextBox;\n        return new FilterTheList(columnName, filter, text, filterTextBox);\n    }\n\n    @step('{0} filters the list to show #taskType items')\n    performAs(actor: PerformsTasks): PromiseLike&lt;void&gt; {\n        return actor.attemptsTo(\n            Select.theValue(this.filter)\n                .from(AccountListUI.filter.dropDown(this.columnName)),\n            Enter.theValue(this.text)\n                .into(AccountListUI.filter.textBox(this.filterTextBox))\n        );\n    }\n}\n</code></pre>\n\n<p>Im thinking I can make a pageoject function like so</p>\n\n<pre><code>static filterItems = {\n        dropDown: (name: string) =&gt; Target.the(`filter dropdown called ${name}`)\n            .located(by.css(`th.${name} input[type=\"select\"]`)),\n        textBox: (name: string) =&gt; Target.the(`filter textbox called ${name}`)\n            .located(by.css(`th.${name} input[type=\"text\"]`)),\n    };\n</code></pre>\n\n<p>but that function will be called after I find the column name</p>\n\n<p>this is where im lost on how I can make a function to say \"hey get the column name from the <code>.feature</code> file and parse it to what the html provides (ie: parsing account Name to accountName)</p>\n"}, {"tags": ["angular", "typescript", "npm"], "comments": [{"owner": {"reputation": 123770, "user_id": 2830850, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e48b39b77bf324de9aeefd6c5bfc10c6?s=128&d=identicon&r=PG&f=1", "display_name": "Tarun Lalwani", "link": "https://stackoverflow.com/users/2830850/tarun-lalwani"}, "edited": false, "score": 0, "creation_date": 1523029660, "post_id": 49638559, "comment_id": 86405867, "body": "What the expected behavior you are looking for?"}, {"owner": {"reputation": 1031, "user_id": 1516648, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/a5961313f676244bd53219376d389c52?s=128&d=identicon&r=PG", "display_name": "int-i", "link": "https://stackoverflow.com/users/1516648/int-i"}, "reply_to_user": {"reputation": 123770, "user_id": 2830850, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e48b39b77bf324de9aeefd6c5bfc10c6?s=128&d=identicon&r=PG&f=1", "display_name": "Tarun Lalwani", "link": "https://stackoverflow.com/users/2830850/tarun-lalwani"}, "edited": false, "score": 0, "creation_date": 1523032855, "post_id": 49638559, "comment_id": 86407728, "body": "As I stated, simply put, while authoring an angular library, what is the best mechanism to reference a static html &quot;within the library&quot;. When the library is installed by the consumer, the static html will be installed under ./node_modules/thirdparty/some.html."}, {"owner": {"reputation": 123770, "user_id": 2830850, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e48b39b77bf324de9aeefd6c5bfc10c6?s=128&d=identicon&r=PG&f=1", "display_name": "Tarun Lalwani", "link": "https://stackoverflow.com/users/2830850/tarun-lalwani"}, "edited": false, "score": 0, "creation_date": 1523096759, "post_id": 49638559, "comment_id": 86425942, "body": "The component needs to know its root path, if the component is mounted by 2 different modules at 2 different paths then how would it work? You can use <code>window.location.href</code> as such but I doubt that would help."}, {"owner": {"reputation": 7054, "user_id": 7407935, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/v4eTR.jpg?s=128&g=1", "display_name": "Daniel W Strimpel", "link": "https://stackoverflow.com/users/7407935/daniel-w-strimpel"}, "edited": false, "score": 0, "creation_date": 1523114009, "post_id": 49638559, "comment_id": 86431018, "body": "Can you show your package file structure as it is when installed in <code>node_modules</code>? I&#39;m a little confused as to where this third party stuff is getting installed and where your stuff is getting installed"}, {"owner": {"reputation": 1031, "user_id": 1516648, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/a5961313f676244bd53219376d389c52?s=128&d=identicon&r=PG", "display_name": "int-i", "link": "https://stackoverflow.com/users/1516648/int-i"}, "edited": false, "score": 0, "creation_date": 1523298739, "post_id": 49638559, "comment_id": 86493309, "body": "I have added the folder structure when the package is installed into a consumer application"}, {"owner": {"reputation": 526, "user_id": 7143288, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eecc49aef0db093ca477819468460995?s=128&d=identicon&r=PG&f=1", "display_name": "botika", "link": "https://stackoverflow.com/users/7143288/botika"}, "edited": false, "score": 0, "creation_date": 1523332437, "post_id": 49638559, "comment_id": 86504545, "body": "The application with angular-cli will build the bundle with all the dependencies that you import, styles, html, svg, img, etc. You can launch <code>ng build</code> and see the result in the <code>.&#47;dist</code> directory. If you want to know more about that process you can go to the webpack documentation."}, {"owner": {"reputation": 28328, "user_id": 1160794, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/b81c88d628038fbe7c8e5976f40d5b12?s=128&d=identicon&r=PG&f=1", "display_name": "David", "link": "https://stackoverflow.com/users/1160794/david"}, "edited": false, "score": 1, "creation_date": 1523346688, "post_id": 49638559, "comment_id": 86510795, "body": "You could try exposing publicly in your webserver the <code>thirdparty</code> folder and reference it like <code>window.open(&#39;&#47;thirdparty&#47;some.html&#39;)</code> in your component?"}, {"owner": {"reputation": 1031, "user_id": 1516648, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/a5961313f676244bd53219376d389c52?s=128&d=identicon&r=PG", "display_name": "int-i", "link": "https://stackoverflow.com/users/1516648/int-i"}, "reply_to_user": {"reputation": 28328, "user_id": 1160794, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/b81c88d628038fbe7c8e5976f40d5b12?s=128&d=identicon&r=PG&f=1", "display_name": "David", "link": "https://stackoverflow.com/users/1160794/david"}, "edited": false, "score": 0, "creation_date": 1523460547, "post_id": 49638559, "comment_id": 86573406, "body": "@David. I thought about instructing consumer of my package to either, manually copy <code>thirdparty</code> folder to their assets or other public folders or instructing them to use <code>TransferWebpackPlugin</code>. As I stated in the question, the basic intent is to have no extra steps other than importing the library in app-module after the consumer runs <code>npm install ng2-my-library</code>. The package should be self sufficient and should install/configure its static assets properly and should be able to access them webserver/build/pack tool agnostic."}], "answers": [{"comments": [{"owner": {"reputation": 1031, "user_id": 1516648, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/a5961313f676244bd53219376d389c52?s=128&d=identicon&r=PG", "display_name": "int-i", "link": "https://stackoverflow.com/users/1516648/int-i"}, "edited": false, "score": 0, "creation_date": 1523460068, "post_id": 49752601, "comment_id": 86573051, "body": "This made the url in the new window resolved to (On consumer of package) : <code>http:&#47;&#47;thirdparty&#47;some.html</code> which is inaccurate. Please see my additional info in the question about the web-pack"}], "tags": [], "owner": {"reputation": 2493, "user_id": 7101368, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4IDk2.png?s=128&g=1", "display_name": "4ndt3s", "link": "https://stackoverflow.com/users/7101368/4ndt3s"}, "is_accepted": false, "score": 1, "last_activity_date": 1523360615, "last_edit_date": 1523360615, "creation_date": 1523360106, "answer_id": 49752601, "question_id": 49638559, "link": "https://stackoverflow.com/questions/49638559/referencing-a-local-file-within-npm-package/49752601#49752601", "title": "Referencing a local file within npm package", "body": "<p>Use <code>__dirname</code> instead <code>.</code> to get the local directory which the file is saved in. Change your code to:</p>\n\n<pre><code>var newWindowUrl = __dirname + \"/thirdparty/some.html\";\nwindow.open(newWindowUrl);\n</code></pre>\n\n<p>More information about __dirname <a href=\"https://nodejs.org/api/modules.html#modules_dirname\" rel=\"nofollow noreferrer\">here</a>.</p>\n\n<p>Don't forget to include node types in your project:</p>\n\n<pre><code>npm install --save-dev @types/node\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1031, "user_id": 1516648, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/a5961313f676244bd53219376d389c52?s=128&d=identicon&r=PG", "display_name": "int-i", "link": "https://stackoverflow.com/users/1516648/int-i"}, "edited": false, "score": 0, "creation_date": 1523396673, "post_id": 49754433, "comment_id": 86542192, "body": "Unfortunately I do not use express"}, {"owner": {"reputation": 28328, "user_id": 1160794, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/b81c88d628038fbe7c8e5976f40d5b12?s=128&d=identicon&r=PG&f=1", "display_name": "David", "link": "https://stackoverflow.com/users/1160794/david"}, "reply_to_user": {"reputation": 1031, "user_id": 1516648, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/a5961313f676244bd53219376d389c52?s=128&d=identicon&r=PG", "display_name": "int-i", "link": "https://stackoverflow.com/users/1516648/int-i"}, "edited": false, "score": 1, "creation_date": 1523425347, "post_id": 49754433, "comment_id": 86549850, "body": "The  principle is the same whatever the webserver. Which one do you use?"}, {"owner": {"reputation": 1031, "user_id": 1516648, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/a5961313f676244bd53219376d389c52?s=128&d=identicon&r=PG", "display_name": "int-i", "link": "https://stackoverflow.com/users/1516648/int-i"}, "edited": false, "score": 0, "creation_date": 1523458279, "post_id": 49754433, "comment_id": 86571663, "body": "I am building a library, I prefer not to include instructions for copying or redirecting to html for different server technologies or webpack plugin configurations to client users. My library should be webserver agnostic as I am referring to an html file inside my npm package itself from within my component."}, {"owner": {"reputation": 28328, "user_id": 1160794, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/b81c88d628038fbe7c8e5976f40d5b12?s=128&d=identicon&r=PG&f=1", "display_name": "David", "link": "https://stackoverflow.com/users/1160794/david"}, "reply_to_user": {"reputation": 1031, "user_id": 1516648, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/a5961313f676244bd53219376d389c52?s=128&d=identicon&r=PG", "display_name": "int-i", "link": "https://stackoverflow.com/users/1516648/int-i"}, "edited": false, "score": 1, "creation_date": 1523460917, "post_id": 49754433, "comment_id": 86573671, "body": "@int-i imho since you want to serve a static file, it does depend on the webserver which means you need to configure it somehow. Even if you have a npm post install task copying the files somewhere, the webserver needs to be aware of it to configure the rules properly (even if assets are copied in root directory). That may work for assets folder only if you are sure that all users will have that assets folder in the same place"}, {"owner": {"reputation": 1031, "user_id": 1516648, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/a5961313f676244bd53219376d389c52?s=128&d=identicon&r=PG", "display_name": "int-i", "link": "https://stackoverflow.com/users/1516648/int-i"}, "edited": false, "score": 0, "creation_date": 1523462068, "post_id": 49754433, "comment_id": 86574473, "body": "This is what I felt from my research. I still believed there would be a way to embed the html using a build step(web pack for example) and thus getting it served as an when required. If you look at this npm package - <a href=\"https://www.npmjs.com/package/static-reference\" rel=\"nofollow noreferrer\">npmjs.com/package/static-reference</a>, it is successful for css files and quite does solve a similar problem(Not working with html though)"}, {"owner": {"reputation": 1031, "user_id": 1516648, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/a5961313f676244bd53219376d389c52?s=128&d=identicon&r=PG", "display_name": "int-i", "link": "https://stackoverflow.com/users/1516648/int-i"}, "edited": false, "score": 0, "creation_date": 1523462448, "post_id": 49754433, "comment_id": 86574759, "body": "In case if you would like to test with my library, here it is : <a href=\"https://www.npmjs.com/package/ng2-pdfjs-viewer\" rel=\"nofollow noreferrer\">npmjs.com/package/ng2-pdfjs-viewer</a>. Install instructions are available in the page. The client application can be a simple angular2+ application (ng new...)"}, {"owner": {"reputation": 1031, "user_id": 1516648, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/a5961313f676244bd53219376d389c52?s=128&d=identicon&r=PG", "display_name": "int-i", "link": "https://stackoverflow.com/users/1516648/int-i"}, "edited": false, "score": 0, "creation_date": 1523574602, "post_id": 49754433, "comment_id": 86629031, "body": "Though I am still seeking what is needed to be done to bind/embed html inside my package, our discussion yielded some insight into how this cannot be achieved. Hence I am awarding the bounty which would expire today"}, {"owner": {"reputation": 28328, "user_id": 1160794, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/b81c88d628038fbe7c8e5976f40d5b12?s=128&d=identicon&r=PG&f=1", "display_name": "David", "link": "https://stackoverflow.com/users/1160794/david"}, "reply_to_user": {"reputation": 1031, "user_id": 1516648, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/a5961313f676244bd53219376d389c52?s=128&d=identicon&r=PG", "display_name": "int-i", "link": "https://stackoverflow.com/users/1516648/int-i"}, "edited": false, "score": 0, "creation_date": 1523604321, "post_id": 49754433, "comment_id": 86637459, "body": "@int-i Thanks for that. Post an update if you do find another way, but I honestly don&#39;t think there is one"}], "tags": [], "owner": {"reputation": 28328, "user_id": 1160794, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/b81c88d628038fbe7c8e5976f40d5b12?s=128&d=identicon&r=PG&f=1", "display_name": "David", "link": "https://stackoverflow.com/users/1160794/david"}, "is_accepted": false, "score": 1, "last_activity_date": 1523461137, "last_edit_date": 1523461137, "creation_date": 1523365349, "answer_id": 49754433, "question_id": 49638559, "link": "https://stackoverflow.com/questions/49638559/referencing-a-local-file-within-npm-package/49754433#49754433", "title": "Referencing a local file within npm package", "body": "<p>You could try this</p>\n\n<p>1 - make the assets public</p>\n\n<p>Make static assets accessible from your webserver (i.e. the <code>thirdparty</code> folder)</p>\n\n<p>For instance, if you are using express, you could use the <a href=\"https://github.com/expressjs/serve-static\" rel=\"nofollow noreferrer\">serve-static</a> package</p>\n\n<pre><code>var path = require('path');\nvar assetsFolder = path.join(__dirname, './node_modules/ng2-my-library/thirdparty');\n\napp.use('/thirdparty', express.static(assetsFolder));\n//...\napp.listen ...\n</code></pre>\n\n<p>2 - reference the file</p>\n\n<p>In your package's component, reference the file like this</p>\n\n<pre><code>window.open('/thirdparty/some.html')\n</code></pre>\n\n<p>For instance, if you are using express, you can just</p>\n\n<p><strong>Edit</strong></p>\n\n<p>You could also copy the files with a npm post install task, but you still need to have them copied where the browser can serve them statically. You cannot be sure that all clients will have an <code>assets</code> folder for instance. So I think there will always be some kind of webserver configuration needed somehow</p>\n"}], "owner": {"reputation": 1031, "user_id": 1516648, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/a5961313f676244bd53219376d389c52?s=128&d=identicon&r=PG", "display_name": "int-i", "link": "https://stackoverflow.com/users/1516648/int-i"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1125, "favorite_count": 3, "answer_count": 2, "score": 3, "last_activity_date": 1523461137, "creation_date": 1522787015, "last_edit_date": 1523460280, "question_id": 49638559, "link": "https://stackoverflow.com/questions/49638559/referencing-a-local-file-within-npm-package", "title": "Referencing a local file within npm package", "body": "<p>How do we reference local files within npm package? Since the npm package is installed by another consumer, would these references become obsolete with respect to the root folder of consumer?</p>\n\n<p>For example, I have created a npm package for angular. This package also reships few html and css files from a third party(They do not have angular packages). I made sure the files are copied to <code>...dist\\thirdparty</code> during package publish. I would like to reference some of these files within my npm package using relative path or other mechanisms.</p>\n\n<p>E.g</p>\n\n<pre><code>@Component({\nselector: 'ng2-my-library',\ntemplate: '&lt;div&gt;&lt;/div&gt;'\n})\nexport class MyLibraryComponent {\n.....\nvar newWindowUrl = \"./thirdparty/some.html\"; **// Need to relatively locate some.html here**\nwindow.open(newWindowUrl);\n.....\n}\n</code></pre>\n\n<p>After I install <code>my-package</code> to a sample angular application, the above code results in <code>\"localhost:3000/thirdparty/some.html\"</code>, which is inaccurate.</p>\n\n<p>How do I do this?</p>\n\n<p>After installing my package, the consumer will have this structure<br>\n<code>consumerApp\n  node_modules(Folder)\n    ng2-my-library(Folder)\n      ng2-pdfjs-viewer.umd.js // This is where I need to access some.html\n      thirdparty(Folder)\n        some.html</code></p>\n\n<p>I also considered instructing consumers of the package to do something like this, but this instruction is quite dependant on other build tools to copy or redirect to the html, which is not what I want.</p>\n\n<pre><code>   var TransferWebpackPlugin = require('transfer-webpack-plugin');\n         ...\n         plugins: [\n           new TransferWebpackPlugin([\n             { from: 'node_modules/my-package/assets', to: path.join(__dirname, 'my/public') }\n           ])\n         ] \n</code></pre>\n\n<p>I also tried to use this package. Apparently it did not provide me proper results for html.\n<a href=\"https://www.npmjs.com/package/static-reference\" rel=\"nofollow noreferrer\">https://www.npmjs.com/package/static-reference</a></p>\n"}, {"tags": ["typescript", "visual-studio-2015", "typescript1.7"], "answers": [{"tags": [], "owner": {"reputation": 2004, "user_id": 887925, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/e639db655f3ff77d3193b8c2af77a245?s=128&d=identicon&r=PG&f=1", "display_name": "p0lar_bear", "link": "https://stackoverflow.com/users/887925/p0lar-bear"}, "is_accepted": false, "score": 0, "last_activity_date": 1522787730, "creation_date": 1522787730, "answer_id": 49638757, "question_id": 49638488, "link": "https://stackoverflow.com/questions/49638488/index-ts-file-not-finding-same-level-modules/49638757#49638757", "title": "index.ts file not finding same-level modules", "body": "<p>Ok, so, uh... having a module file with the same name as its containing folder caused it. I renamed the folder to something else and problem solved.</p>\n\n<p>[flips desk]</p>\n"}], "owner": {"reputation": 2004, "user_id": 887925, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/e639db655f3ff77d3193b8c2af77a245?s=128&d=identicon&r=PG&f=1", "display_name": "p0lar_bear", "link": "https://stackoverflow.com/users/887925/p0lar-bear"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 52, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1522787730, "creation_date": 1522786724, "question_id": 49638488, "link": "https://stackoverflow.com/questions/49638488/index-ts-file-not-finding-same-level-modules", "title": "index.ts file not finding same-level modules", "body": "<p>Firstly: in Visual Studio 2015 with Typescript 1.7.6.0. I am not an administrator of this machine so I am unable to install new Typescript versions to VS2015 on a whim.</p>\n\n<p>This is my current project directory structure. Each file contains a single class or interface being exported with the same name as the file:</p>\n\n<pre><code>+src\n|+Page\n||-index.ts\n||-IPageMedia.ts\n||-Page.ts\n||-PageImage.ts\n||-PageMedia.ts\n||-PageText.ts\n</code></pre>\n\n<p>My <code>index.ts</code> file contains this:</p>\n\n<pre><code>export * from './Page';\nexport * from './IPageMedia';\nexport * from './PageMedia';\nexport * from './PageText';\nexport * from './PageImage';\n</code></pre>\n\n<p>Intellisense is redlining each module name in <code>index.ts</code>, and the tooltip says \"Cannot find module\" for each module. My <code>Page</code> class imports the <code>IPageMedia</code> interface with no problem, and the <code>PageText</code> and <code>PageImage</code> classes both import the <code>PageMedia</code> class with no problems.</p>\n\n<p>What gives?</p>\n"}, {"tags": ["javascript", "typescript", "flowtype"], "comments": [{"owner": {"reputation": 105043, "user_id": 5260024, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XxSHe.jpg?s=128&g=1", "display_name": "Jonas Wilms", "link": "https://stackoverflow.com/users/5260024/jonas-wilms"}, "edited": false, "score": 0, "creation_date": 1522786396, "post_id": 49638317, "comment_id": 86284431, "body": "An object cant be a boolean?!?!"}], "answers": [{"comments": [{"owner": {"reputation": 105043, "user_id": 5260024, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XxSHe.jpg?s=128&g=1", "display_name": "Jonas Wilms", "link": "https://stackoverflow.com/users/5260024/jonas-wilms"}, "reply_to_user": {"reputation": 7159, "user_id": 877279, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/5fa0544f9a87c652a5b5c1d4b401fcae?s=128&d=identicon&r=PG", "display_name": "Tyler Sebastian", "link": "https://stackoverflow.com/users/877279/tyler-sebastian"}, "edited": false, "score": 0, "creation_date": 1522865952, "post_id": 49638431, "comment_id": 86324753, "body": "@tyler nearly every object fullfills <code>{ [name: string]: any }</code>, therefore you NEED to do additional type branches, so the type at the beginning doesnt really matter"}, {"owner": {"reputation": 7159, "user_id": 877279, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/5fa0544f9a87c652a5b5c1d4b401fcae?s=128&d=identicon&r=PG", "display_name": "Tyler Sebastian", "link": "https://stackoverflow.com/users/877279/tyler-sebastian"}, "edited": false, "score": 0, "creation_date": 1522881120, "post_id": 49638431, "comment_id": 86332627, "body": "sure, but <code>...args: any[]</code> will accept <code>someFunc(&quot;something&quot;)</code> which is invalid according to the boolean/object spec in the OP."}], "tags": [], "owner": {"reputation": 105043, "user_id": 5260024, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XxSHe.jpg?s=128&g=1", "display_name": "Jonas Wilms", "link": "https://stackoverflow.com/users/5260024/jonas-wilms"}, "is_accepted": false, "score": 0, "last_activity_date": 1522786499, "creation_date": 1522786499, "answer_id": 49638431, "question_id": 49638317, "link": "https://stackoverflow.com/questions/49638317/parameter-type-for-multitypes-in-typescript/49638431#49638431", "title": "Parameter type for multitypes in TypeScript", "body": "<p>As you have to do typechecking afterwards, just do:</p>\n\n<pre><code> function someFunc(...args: any[]) {\n  //...\n }\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 7159, "user_id": 877279, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/5fa0544f9a87c652a5b5c1d4b401fcae?s=128&d=identicon&r=PG", "display_name": "Tyler Sebastian", "link": "https://stackoverflow.com/users/877279/tyler-sebastian"}, "is_accepted": true, "score": 1, "last_activity_date": 1522787023, "creation_date": 1522787023, "answer_id": 49638561, "question_id": 49638317, "link": "https://stackoverflow.com/questions/49638317/parameter-type-for-multitypes-in-typescript/49638561#49638561", "title": "Parameter type for multitypes in TypeScript", "body": "<p>not quite</p>\n\n<pre><code>type SimpleObject = { [name: string]: any }\n\nfunction a(...params: (SimpleObject | boolean)[]): SimpleObject {\n  params.forEach(param =&gt; {\n    // param is either a boolean or SimpleObject\n  })\n\n  return ...\n}\n</code></pre>\n\n<p><code>{ [name: string]: any }[] &amp; boolean</code> doesn't really mean... anything</p>\n\n<p>you don't have to declare <code>SimpleObject</code> separately, you can do it inline, I just find it cleaner</p>\n"}], "owner": {"reputation": 2165, "user_id": 7852453, "user_type": "registered", "accept_rate": 85, "profile_image": "https://lh3.googleusercontent.com/-X8ECFPBAa9Y/AAAAAAAAAAI/AAAAAAAAAao/YDTJtVbzr58/photo.jpg?sz=128", "display_name": "Ramzan Chasygov", "link": "https://stackoverflow.com/users/7852453/ramzan-chasygov"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 53, "favorite_count": 0, "accepted_answer_id": 49638561, "answer_count": 2, "score": 0, "last_activity_date": 1540928397, "creation_date": 1522786050, "last_edit_date": 1540928397, "question_id": 49638317, "link": "https://stackoverflow.com/questions/49638317/parameter-type-for-multitypes-in-typescript", "title": "Parameter type for multitypes in TypeScript", "body": "<p>I wanna create type for function parameter. Pseudocode below. Explaining, what I want to reach: args could be array of objects <code>{[name: string]: any}[]</code> or it could be array of objects and boolean value <code>{[name: string]: any}[] &amp; boolean</code> and or operator between them <code>|</code>, return object <code>{[name: string]: any}</code>, so far this code doesn't work, how I can fix it or reach same result?</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const someFunc = (...args: {[name: string]: any}[] | ({[name: string]: any}[] &amp; boolean)): {[name: string]: any} =&gt; {\r\n  // ...\r\n  return output;\r\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": ["javascript", "angular", "typescript", "breeze", "devforce"], "answers": [{"comments": [{"owner": {"reputation": 10667, "user_id": 3345644, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/5e4fa66a71e59fe32c2d602bdb5068b5?s=128&d=identicon&r=PG", "display_name": "Alexander Abakumov", "link": "https://stackoverflow.com/users/3345644/alexander-abakumov"}, "edited": false, "score": 0, "creation_date": 1522787102, "post_id": 49638461, "comment_id": 86284791, "body": "Nice idea, thank you! If nobody comes up with a solution using some Breeze JS API instead of parsing paths manually, I&#39;ll accept your implementation."}, {"owner": {"reputation": 7159, "user_id": 877279, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/5fa0544f9a87c652a5b5c1d4b401fcae?s=128&d=identicon&r=PG", "display_name": "Tyler Sebastian", "link": "https://stackoverflow.com/users/877279/tyler-sebastian"}, "reply_to_user": {"reputation": 10667, "user_id": 3345644, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/5e4fa66a71e59fe32c2d602bdb5068b5?s=128&d=identicon&r=PG", "display_name": "Alexander Abakumov", "link": "https://stackoverflow.com/users/3345644/alexander-abakumov"}, "edited": false, "score": 0, "creation_date": 1522787157, "post_id": 49638461, "comment_id": 86284813, "body": "sorry! I missed that part of your comment! I&#39;m not familiar with Breeze."}, {"owner": {"reputation": 10667, "user_id": 3345644, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/5e4fa66a71e59fe32c2d602bdb5068b5?s=128&d=identicon&r=PG", "display_name": "Alexander Abakumov", "link": "https://stackoverflow.com/users/3345644/alexander-abakumov"}, "edited": false, "score": 0, "creation_date": 1522787316, "post_id": 49638461, "comment_id": 86284903, "body": "No, you excuse me for that - I added that part after your response, since I&#39;ve obviously failed to explain exactly what I&#39;m after :)"}], "tags": [], "owner": {"reputation": 7159, "user_id": 877279, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/5fa0544f9a87c652a5b5c1d4b401fcae?s=128&d=identicon&r=PG", "display_name": "Tyler Sebastian", "link": "https://stackoverflow.com/users/877279/tyler-sebastian"}, "is_accepted": true, "score": 1, "last_activity_date": 1522787126, "last_edit_date": 1522787126, "creation_date": 1522786594, "answer_id": 49638461, "question_id": 49638220, "link": "https://stackoverflow.com/questions/49638220/entity-list-by-parent-entity-and-dotted-paths/49638461#49638461", "title": "Entity list by parent entity and dotted paths", "body": "<p>not <em>really</em> sure what you're looking for. Assuming you're taking <code>path</code> and mapping those paths against the <code>entity</code> object... I came up with:</p>\n\n<pre><code>function getByPath(entity: any, path: string) {\n  if (!entity) return undefined\n\n  const parts = path.split(\".\")\n\n  if (parts.length === 1) {\n    return entity[path]\n  }\n\n  return getByPath(entity[parts[0]], parts.slice(1).join(\".\"))\n}\n</code></pre>\n\n<p>use like</p>\n\n<pre><code>const paths = [\"a\", \"a.b.c\", \"a.b.d\", \"d\", \"c\", \"d.c\"]\nconst entity = {\n  a: { b: { c: 1 } },\n  b: 1,\n  c: 2\n}\n\npaths.map(path =&gt; getByPath(entity, path)) // [ { b: { c: 1 } }, 1, undefined, undefined, 2, undefined ]\n</code></pre>\n\n<p>edit: if you're using <code>lodash</code> already, just use <a href=\"https://lodash.com/docs/4.17.5#get\" rel=\"nofollow noreferrer\"><code>lodash#get</code></a></p>\n"}], "owner": {"reputation": 10667, "user_id": 3345644, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/5e4fa66a71e59fe32c2d602bdb5068b5?s=128&d=identicon&r=PG", "display_name": "Alexander Abakumov", "link": "https://stackoverflow.com/users/3345644/alexander-abakumov"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 50, "favorite_count": 0, "accepted_answer_id": 49638461, "answer_count": 1, "score": 0, "last_activity_date": 1522789864, "creation_date": 1522785604, "last_edit_date": 1522789864, "question_id": 49638220, "link": "https://stackoverflow.com/questions/49638220/entity-list-by-parent-entity-and-dotted-paths", "title": "Entity list by parent entity and dotted paths", "body": "<p>I'm using Angular 5 + Breeze JS + breeze-bridge2-angular.</p>\n\n<p>Suppose we have a <code>Company</code> entity that have multiple navigation properties of type <code>Address</code> and <code>Address</code> entity type, in its own turn, has some navigation properties like <code>Country</code>, etc:</p>\n\n<pre><code>import { Entity } from \"breeze-client\"; // From https://www.npmjs.com/package/breeze-client package \n\nexport class Company implements Entity {\n    billingAddress: Address;\n    shippingAddress: Address;\n}\n\nexport class Address implements Entity {\n    country1: Country;\n    country2: Country;\n}\n\nexport class Country implements Entity {\n    ...\n}\n</code></pre>\n\n<p>All entities have been already queried into <code>EntityMnager</code>, no need to query anything from server.</p>\n\n<p><strong>How to implement a method (probably using some Breeze JS API I'm missing so far)</strong> taking a parent <code>Company</code> entity and a <code>string[]</code> of dotted property paths and returns a flat <code>Entity[]</code> list containing parent entity and all child entities located by using those dotted paths?</p>\n\n<p>The dotted paths are just the same as we use with <code>expand()</code> method in Breeze queries (see <strong>Dotted expand paths</strong> <a href=\"http://breeze.github.io/doc-js/navigation-properties.html\" rel=\"nofollow noreferrer\">here</a>), i.e.:</p>\n\n<pre><code>const company: Company = ...; // Query Company and its children into EntityManager\nconst paths: string[] = [\n    \"billingAddress\",\n    \"shippingAddress\",\n    \"billingAddress.country1\",\n    \"billingAddress.country2\"];\n\ngetEntitiesFlat(entity: Entity, paths: string[]): Entity[] {\n    // Not sure how to implement getChildren() method below\n    const childEntities: Entity[] = this.getChildren(entity, paths);\n\n    return [entity].concat(childEntities);\n}\n</code></pre>\n\n<p>By the way, I'm trying to implement deletion of parent entity and its <strong>specific</strong> child entities and the above is the cleanest way I've came up so far inspired by DevForce framework. Better ideas are extremely welcomed.</p>\n"}, {"tags": ["typescript"], "answers": [{"comments": [{"owner": {"reputation": 195, "user_id": 401123, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/234b63b5a11d0c131a8913fd8c0a93d3?s=128&d=identicon&r=PG", "display_name": "Arash", "link": "https://stackoverflow.com/users/401123/arash"}, "edited": false, "score": 0, "creation_date": 1522787942, "post_id": 49638308, "comment_id": 86285195, "body": "Regarding Typescript playing it safe, here is my mental model: <code>{readonly theFlag: boolean}</code> is the set of values that have <code>theFlag</code> with a getter, and <code>{theFlag: boolean}</code> is the set of values that have <code>theFlag</code> with both a getter and a setter. Since the latter is a subset of the former, the intersection of them should be the same as <code>{theFlag: boolean}</code>."}, {"owner": {"reputation": 5408, "user_id": 1793220, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Onk4P.jpg?s=128&g=1", "display_name": "Hisham H M", "link": "https://stackoverflow.com/users/1793220/hisham-h-m"}, "edited": false, "score": 0, "creation_date": 1616638956, "post_id": 49638308, "comment_id": 118068340, "body": "According to basic set theory, the intersection of {getter,setter} and {getter} is {getter}."}], "tags": [], "owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "is_accepted": true, "score": 2, "last_activity_date": 1522786020, "creation_date": 1522786020, "answer_id": 49638308, "question_id": 49638155, "link": "https://stackoverflow.com/questions/49638155/typescript-intersection-types-and-readonly-properties/49638308#49638308", "title": "TypeScript intersection types and readonly properties", "body": "<p>I think the compiler is playing it safe, since the property is readonly in one of the constituent types, it is readonly in the intersection. </p>\n\n<p>In 2.8 you can easily create a type that removed the <code>readonly</code> from any property:</p>\n\n<pre><code>type Mutable&lt;T&gt; = { -readonly [P in keyof T]: T[P]};\nfunction test(x: Mutable&lt;{theFlag: boolean} &amp; {readonly theFlag: boolean}&gt; ){\n  x.theFlag = true;\n}\n</code></pre>\n\n<p>In 2.7 and below, I think the following definition of <code>Mutable</code> should do the trick, I don't use any 2.8 syntax, but I don't have an old version to test:</p>\n\n<pre><code>type MutableHelper&lt;T, TNames extends string&gt; = { [P in TNames]: (T &amp; { [name: string]: never })[P]};\ntype Mutable&lt;T&gt; = MutableHelper&lt;T, keyof T&gt;;\n</code></pre>\n"}], "owner": {"reputation": 195, "user_id": 401123, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/234b63b5a11d0c131a8913fd8c0a93d3?s=128&d=identicon&r=PG", "display_name": "Arash", "link": "https://stackoverflow.com/users/401123/arash"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 145, "favorite_count": 0, "accepted_answer_id": 49638308, "answer_count": 1, "score": 3, "last_activity_date": 1522786020, "creation_date": 1522785329, "question_id": 49638155, "link": "https://stackoverflow.com/questions/49638155/typescript-intersection-types-and-readonly-properties", "title": "TypeScript intersection types and readonly properties", "body": "<p>I'm trying to write a piece of code in TypeScript that boils down to this pattern:</p>\n\n<pre><code>function test(x: {theFlag: boolean} &amp; {readonly theFlag: boolean} ){\n    x.theFlag = true;\n}\n</code></pre>\n\n<p>But I get the following error on this line <code>x.theFlag = true;</code></p>\n\n<blockquote>\n  <p>[ts] Cannot assign to 'theFlag' because it is a constant or a read-only property.</p>\n</blockquote>\n\n<p>I don't know why TypeScript is giving me an error on this. I think logically this should be allowed. </p>\n\n<p>Is there a good workaround to achieve what I'm trying to do?</p>\n\n<p>I'm using TypeScript version 2.7.2.</p>\n"}, {"tags": ["angular", "typescript", "firebase", "ionic-framework"], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 7777160, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6c2867bbb0f6de45e9c06043ffb6c2a6?s=128&d=identicon&r=PG&f=1", "display_name": "C.Coughlin", "link": "https://stackoverflow.com/users/7777160/c-coughlin"}, "edited": false, "score": 0, "creation_date": 1522800429, "post_id": 49638454, "comment_id": 86289294, "body": "I tried what you suggested and it returned a runtime error say that undefined is not an object and it also says that property subscribe does not exist on type DataSnapschot. I also dont understand how running ionic serve with that code commented out, and then uncommenting it after it is compiled makes the code work. Maybe it&#39;s not clicking for me. Sorry if its a simple concept that I am missing"}, {"owner": {"reputation": 6779, "user_id": 6749601, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GHTLW.jpg?s=128&g=1", "display_name": "Lynx 242", "link": "https://stackoverflow.com/users/6749601/lynx-242"}, "reply_to_user": {"reputation": 1, "user_id": 7777160, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6c2867bbb0f6de45e9c06043ffb6c2a6?s=128&d=identicon&r=PG&f=1", "display_name": "C.Coughlin", "link": "https://stackoverflow.com/users/7777160/c-coughlin"}, "edited": false, "score": 0, "creation_date": 1522824275, "post_id": 49638454, "comment_id": 86296582, "body": "Can you please figure out what the output of console.log(personSnapshot) is, if you place it inside personRef.on(&#39;value&#39;, personSnapshot =&gt; {}) ? Maybe personSnapshot is &#39;undefined&#39;."}, {"owner": {"reputation": 1, "user_id": 7777160, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6c2867bbb0f6de45e9c06043ffb6c2a6?s=128&d=identicon&r=PG&f=1", "display_name": "C.Coughlin", "link": "https://stackoverflow.com/users/7777160/c-coughlin"}, "edited": false, "score": 0, "creation_date": 1522932016, "post_id": 49638454, "comment_id": 86355688, "body": "personSnapshot [object Object] is what was logged for personSnapshot."}, {"owner": {"reputation": 6779, "user_id": 6749601, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GHTLW.jpg?s=128&g=1", "display_name": "Lynx 242", "link": "https://stackoverflow.com/users/6749601/lynx-242"}, "reply_to_user": {"reputation": 1, "user_id": 7777160, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6c2867bbb0f6de45e9c06043ffb6c2a6?s=128&d=identicon&r=PG&f=1", "display_name": "C.Coughlin", "link": "https://stackoverflow.com/users/7777160/c-coughlin"}, "edited": false, "score": 0, "creation_date": 1522934112, "post_id": 49638454, "comment_id": 86357152, "body": "Sorry for not having asked this in addition, but what is the output of console.log(dbObject.name); inside personSnapshot.subscribe(dbObject =&gt; {});?"}, {"owner": {"reputation": 1, "user_id": 7777160, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6c2867bbb0f6de45e9c06043ffb6c2a6?s=128&d=identicon&r=PG&f=1", "display_name": "C.Coughlin", "link": "https://stackoverflow.com/users/7777160/c-coughlin"}, "edited": false, "score": 0, "creation_date": 1522951666, "post_id": 49638454, "comment_id": 86369062, "body": "Never makes it that far. Says that personSnapshot.subscribe() does not exist on on type DataSnapshot."}, {"owner": {"reputation": 6779, "user_id": 6749601, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GHTLW.jpg?s=128&g=1", "display_name": "Lynx 242", "link": "https://stackoverflow.com/users/6749601/lynx-242"}, "reply_to_user": {"reputation": 1, "user_id": 7777160, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6c2867bbb0f6de45e9c06043ffb6c2a6?s=128&d=identicon&r=PG&f=1", "display_name": "C.Coughlin", "link": "https://stackoverflow.com/users/7777160/c-coughlin"}, "edited": false, "score": 0, "creation_date": 1522988745, "post_id": 49638454, "comment_id": 86381845, "body": "Sorry to hear that, but then I have no further idea as I don&#39;t use Ionic."}], "tags": [], "owner": {"reputation": 6779, "user_id": 6749601, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GHTLW.jpg?s=128&g=1", "display_name": "Lynx 242", "link": "https://stackoverflow.com/users/6749601/lynx-242"}, "is_accepted": false, "score": 2, "last_activity_date": 1522786580, "creation_date": 1522786580, "answer_id": 49638454, "question_id": 49638057, "link": "https://stackoverflow.com/questions/49638057/weird-typescript-errors-when-using-localstorage/49638454#49638454", "title": "Weird typescript errors when using localStorage", "body": "<p>The error message is telling all you ought to know. You're one step to early. </p>\n\n<p>personSnapshot is a FirebaseObjectObservable that contains the object you want to access. But to get this object you have to subscribe to the FirebaseObjectObservable first!</p>\n\n<p>Try it this way:</p>\n\n<pre><code>else {\n  personRef.on('value', personSnapshot =&gt; {\n    console.log(\"personalSnapshot\");\n\n     personSnapshot.subscribe(dbObject =&gt; {\n\n        console.log(dbObject.name);\n        //Sets the variables to the values from database when the page loads\n        localStorage.setItem('Pname', dbObject.name);\n        localStorage.setItem('Page', dbObject.age);\n        localStorage.setItem('Pabout', dbObject.about);\n        localStorage.setItem('Plocation', dbObject.location);\n        localStorage.setItem('Prating', dbObject.rating);\n\n     });\n\n  });\n}\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 7777160, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6c2867bbb0f6de45e9c06043ffb6c2a6?s=128&d=identicon&r=PG&f=1", "display_name": "C.Coughlin", "link": "https://stackoverflow.com/users/7777160/c-coughlin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 116, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1522786580, "creation_date": 1522784867, "question_id": 49638057, "link": "https://stackoverflow.com/questions/49638057/weird-typescript-errors-when-using-localstorage", "title": "Weird typescript errors when using localStorage", "body": "<p>I am working on a project for a senior design project and have been getting some odd typeScript errors. I am using typescript 2.3.4.</p>\n\n<pre><code>import { Component } from '@angular/core';\nimport { IonicPage, NavController } from 'ionic-angular';\nimport { AngularFireAuth } from 'angularfire2/auth'\nimport { LoginPage } from '../login/login'\nimport { AngularFireDatabase, FirebaseObjectObservable} from \"angularfire2/database-deprecated\";\nimport * as firebase from 'firebase';\nimport { AlertController } from 'ionic-angular';\n/**\n * Generated class for the Profile page.\n *\n * See http://ionicframework.com/docs/components/#navigation for more info\n * on Ionic pages and navigation.\n */\n\n@IonicPage()\n@Component({\n  selector: 'page-profile',\n  templateUrl: 'profile.html',\n})\nexport class ProfilePage {\n  userID: string;\n  userProfile: FirebaseObjectObservable&lt;any&gt;;\n  profiles: FirebaseObjectObservable&lt;any&gt;;\n  public profile = {};\n  public items: Array&lt;any&gt; = [];\n  constructor(public navCtrl: NavController, private afAuth: AngularFireAuth,        public af: AngularFireDatabase) {\n      this.afAuth.authState.subscribe(user =&gt; {\n      if(user) this.userID = user.uid;\n      this.userProfile = af.object(`userProfile/${user.uid}`);\n      this.profiles = af.object(`profiles/${user.uid}/`);\n    });\n  }\n\n    ionViewDidLoad() {\n    console.log('ionViewDidLoad Profile');\n    var tmp1='', tmp2='', tmp3='', tmp4='', tmp5 = '';\n    const personRef: firebase.database.Reference =    firebase.database().ref(`profiles/${this.userID}`);\n    const personRefCheck: firebase.database.Reference = firebase.database().ref(`profiles/${this.userID}`);\n    console.log(\"personRefCheck: \"+personRefCheck);\n    personRefCheck.on('value', checkSnapshot =&gt; {\n      if(!checkSnapshot.val()) {\n        console.log(\"!checkSnapshot\");\n        //Sets the local variables on load if the profile is null.\n        localStorage.setItem('Pname', tmp1);\n        localStorage.setItem('Page', tmp2);\n        localStorage.setItem('Pabout', tmp3);\n        localStorage.setItem('Plocation', tmp4);\n        localStorage.setItem('Prating', tmp5);\n        }\n\n      else {\n        personRef.on('value', personSnapshot =&gt; {\n          console.log(\"personalSnapshot\");\n          this.profiles = personSnapshot.val();\n          console.log(this.profiles.name);\n          //Sets the variables to the values from database when the page loads\n          localStorage.setItem('Pname', this.profiles.name);\n          localStorage.setItem('Page', this.profiles.age);\n          localStorage.setItem('Pabout', this.profiles.about);\n          localStorage.setItem('Plocation', this.profiles.location);\n          localStorage.setItem('Prating', this.profiles.rating);\n         });\n      }\n    });\n  }\n\n  submitProfileChanges(name, age, about, location, rating) {\n     //theoretically should have a .then() promise\n     //push a newTask to the 'tasks' database and set the owner and name\n     var var1, var2, var3, var4, var5;\n     //Variables set to local localStorage\n     var1 = localStorage.getItem('Pname');\n     var2 = localStorage.getItem('Page');\n     var3 = localStorage.getItem('Pabout');\n     var4 = localStorage.getItem('Plocation');\n     var5 = localStorage.getItem('Prating');\n\n     //If input is is null, sets the input equal to the database, then passes that back to the database\n     if(name == undefined){\n       name = var1;\n     }\n     if(age == undefined){\n       age = var2;\n     }\n     if (about == undefined){\n       about = var3;\n     }\n     if (location == undefined){\n       location = var4;\n     }\n     if (rating == undefined){\n       rating = var5;\n     }\n     //Pushes the profile update to the database\n     var profUpdate = this.profiles.update({\n       name,\n       age,\n       about,\n       location,\n       rating\n    });\n    alert(\"Profile Updated!\");\n  }\n\n  logoutUser() {\n     this.navCtrl.setRoot(LoginPage);\n  }\n}\n</code></pre>\n\n<p>This is the section of code that is causing issues. Here are the errors that I get when serving this uncommented.\n<strong><em>Property 'name' does not exist on type 'FirebaseObjectObservable'</em></strong> I get this error for age, about, location, and rating.</p>\n\n<pre><code>localStorage.setItem('Pname', this.profiles.name);\nlocalStorage.setItem('Page', this.profiles.age);\nlocalStorage.setItem('Pabout', this.profiles.about);\nlocalStorage.setItem('Plocation', this.profiles.location);\nlocalStorage.setItem('Prating', this.profiles.rating);\n</code></pre>\n\n<p>If I comment the above snippet of code out, the program compiles using ionic serve in the terminal line.\nHeres the kicker, after serving, I can un comment the code that was commented out, the program will rebuild on its own and will work flawlessly.</p>\n\n<p>Running ionic info spits out the following:</p>\n\n<pre><code>cli packages: (/usr/local/lib/node_modules)\n\n    @ionic/cli-utils  : 1.19.0\n    ionic (Ionic CLI) : 3.19.0\n\nglobal packages:\n\n    cordova (Cordova CLI) : 8.0.0 \n\nlocal packages:\n\n    @ionic/app-scripts : 3.1.8\n    Cordova Platforms  : ios 4.5.4\n    Ionic Framework    : ionic-angular 3.9.2\n\nSystem:\n\n    Node  : v9.9.0\n    npm   : 4.6.1 \n    OS    : macOS High Sierra\n    Xcode : Xcode 9.2 Build version 9C40b \n\nEnvironment Variables:\n\n    ANDROID_HOME : not set\n\nMisc:\n\n    backend : pro    \n</code></pre>\n"}, {"tags": ["typescript", "generics"], "comments": [{"owner": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "edited": false, "score": 1, "creation_date": 1522784320, "post_id": 49637876, "comment_id": 86283499, "body": "See <a href=\"https://github.com/Microsoft/TypeScript/wiki/FAQ#why-is-astring-assignable-to-anumber-for-interface-at--\" rel=\"nofollow noreferrer\">the FAQ</a>"}], "answers": [{"tags": [], "owner": {"reputation": 2201, "user_id": 7075699, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9c46e1aafdd2001f4b0869133edcfe0a?s=128&d=identicon&r=PG", "display_name": "Huy Nguyen", "link": "https://stackoverflow.com/users/7075699/huy-nguyen"}, "is_accepted": false, "score": 1, "last_activity_date": 1522785507, "creation_date": 1522785507, "answer_id": 49638193, "question_id": 49637876, "link": "https://stackoverflow.com/questions/49637876/typescript-no-error-on-generic-type-mismatch/49638193#49638193", "title": "Typescript no error on generic type mismatch", "body": "<p>The reason is that your generic type <code>GenericTypeMarker</code> doesn't use the type parameter <code>T</code>. As of TypeScript 2.8, the compiler can flag that as <a href=\"https://github.com/Microsoft/TypeScript/wiki/Breaking-Changes#unused-type-parameters-are-checked-under---nounusedparameters\" rel=\"nofollow noreferrer\">an error</a>. </p>\n\n<p>What you want is called <a href=\"https://flow.org/en/docs/types/literals/\" rel=\"nofollow noreferrer\">literal types</a> in Flow. There have been <a href=\"https://github.com/Microsoft/TypeScript/issues/202\" rel=\"nofollow noreferrer\">requests</a> to add it to TypeScript.</p>\n"}, {"comments": [{"owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "reply_to_user": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "edited": false, "score": 0, "creation_date": 1522788314, "post_id": 49638686, "comment_id": 86285348, "body": "@jcalz I can&#39;t believe keep  mixed them up again, 10x :)"}], "tags": [], "owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "is_accepted": false, "score": 1, "last_activity_date": 1522788272, "last_edit_date": 1522788272, "creation_date": 1522787487, "answer_id": 49638686, "question_id": 49637876, "link": "https://stackoverflow.com/questions/49637876/typescript-no-error-on-generic-type-mismatch/49638686#49638686", "title": "Typescript no error on generic type mismatch", "body": "<p>As others have mentioned if you don't use the type parameter it has little effect on compatibility, so the simplest solution is to use it. The most benign way to use it is to intersect <code>string</code> with a type that contains a dummy property, (similar to branded types)</p>\n\n<pre><code>// Generic key that holds value type info\ntype GenericTypeMarker&lt;T&gt; = string &amp; { markerHelper: T };\n\n// Standard dictionarny\nconst dictionary: { [id: string]: any } = {};\n\n// Put item into dict with type specified by key\nfunction putItem&lt;T&gt;(key: GenericTypeMarker&lt;T&gt;, item: T) {\n    dictionary[key] = item;\n}\n\nfunction makeMarker&lt;T&gt;(value : string) : GenericTypeMarker&lt;T&gt;{\n  return value as any\n}\n// create the key with an any assertion \nconst TestKey: GenericTypeMarker&lt;number&gt; = \"testKey\" as any;\n// or using the helper\nconst TestKey2 =  makeMarker&lt;number&gt;(\"testKey\");\n\nputItem(TestKey,2); // ok\nputItem(TestKey,\"2\");// error\n</code></pre>\n\n<p>The disadvantage is someone might try to access <code>TestKey.marker</code> and be surprised that there is no value. One workaround is to use <code>T &amp; never</code> for the <code>marker</code> type  which although when you try to access <code>marker</code>evaluates to <code>never</code> still works for the purpose of infering <code>T</code> in <code>putItems</code> for example:</p>\n\n<pre><code>type GenericTypeMarker&lt;T&gt; = string &amp; { marker: T &amp; never};\n\nconst TestKey =  makeMarker&lt;number&gt;(\"testKey\");\nlet d = TestKey.marker; // d is never\nputItem(TestKey,2); // ok\nputItem(TestKey,\"2\");// error\n</code></pre>\n"}], "owner": {"reputation": 3, "user_id": 4091709, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a0d272f405520ed4fddb95068e30b4c4?s=128&d=identicon&r=PG&f=1", "display_name": "Imtnt", "link": "https://stackoverflow.com/users/4091709/imtnt"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 442, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1522788272, "creation_date": 1522784136, "last_edit_date": 1522784666, "question_id": 49637876, "link": "https://stackoverflow.com/questions/49637876/typescript-no-error-on-generic-type-mismatch", "title": "Typescript no error on generic type mismatch", "body": "<p>I'm attempting to build a type safe attachment system, but typescript doesn't seem to throw an error when the types mismatch in a generic function call</p>\n\n<pre><code>// Generic key that holds value type info\ntype GenericTypeMarker&lt;T&gt; = string;\n\n// Standard dictionarny\nconst dictionary: { [id: string]: any } = {};\n\n// Put item into dict with type specified by key\nfunction putItem&lt;T&gt;(key: GenericTypeMarker&lt;T&gt;, item: T) {\n    dictionary[key] = item;\n}\n\n// Get item from dict with type specified by key\nfunction getItem&lt;T&gt;(key: GenericTypeMarker&lt;T&gt;): T {\n    return dictionary[key];\n}\n\n\n// A test key with type of number\nconst TestKey: GenericTypeMarker&lt;number&gt; = \"testKey\";\n\n// type mismatch between value and key, but no error\nputItem(TestKey, \"not a string\");\n</code></pre>\n\n<p><a href=\"https://www.typescriptlang.org/play/index.html#src=%2F%2F%20Generic%20key%20that%20holds%20value%20type%20info%0D%0Atype%20GenericTypeMarker%3CT%3E%20%3D%20string%3B%0D%0A%0D%0A%2F%2F%20Standard%20dictionarny%0D%0Aconst%20dictionary%3A%20%7B%20%5Bid%3A%20string%5D%3A%20any%20%7D%20%3D%20%7B%7D%3B%0D%0A%0D%0A%2F%2F%20Put%20item%20into%20dict%20with%20type%20specified%20by%20key%0D%0Afunction%20putItem%3CT%3E(key%3A%20GenericTypeMarker%3CT%3E%2C%20item%3A%20T)%20%7B%0D%0A%20%20%20%20dictionary%5Bkey%5D%20%3D%20item%3B%0D%0A%7D%0D%0A%0D%0A%2F%2F%20Get%20item%20from%20dict%20with%20type%20specified%20by%20key%0D%0Afunction%20getItem%3CT%3E(key%3A%20GenericTypeMarker%3CT%3E)%3A%20T%20%7B%0D%0A%20%20%20%20return%20dictionary%5Bkey%5D%3B%0D%0A%7D%0D%0A%0D%0A%0D%0A%2F%2F%20A%20test%20key%20with%20type%20of%20number%0D%0Aconst%20TestKey%3A%20GenericTypeMarker%3Cnumber%3E%20%3D%20%22testKey%22%3B%0D%0A%0D%0A%2F%2F%20type%20mismatch%20between%20value%20and%20key%2C%20but%20no%20error%0D%0AputItem(TestKey%2C%20%22not%20a%20string%22)%3B%0D%0A\" rel=\"nofollow noreferrer\" title=\"TS playground\">TS Playground link</a></p>\n\n<p>I don't see why the last line doesn't throw a compiler error when the type of the key and value don't line up.</p>\n\n<p>EDIT: per jcalz comment, I understand why this is the case. However, is there a way around this that maintains type safety?</p>\n"}, {"tags": ["javascript", "typescript", "variables"], "answers": [{"tags": [], "owner": {"reputation": 139, "user_id": 4746023, "user_type": "registered", "profile_image": "https://graph.facebook.com/10200373296130338/picture?type=large", "display_name": "Katie Kennedy", "link": "https://stackoverflow.com/users/4746023/katie-kennedy"}, "is_accepted": false, "score": 0, "last_activity_date": 1522864639, "creation_date": 1522864639, "answer_id": 49657503, "question_id": 49637167, "link": "https://stackoverflow.com/questions/49637167/get-variables-values-from-methods-outside-inside-ngoninit/49657503#49657503", "title": "Get variables values from methods outside/inside ngOnInit()", "body": "<p>So I ended up finding the answer to this question myself. \nI needed to declare two global variables in the component. (emotionMatch + imageMatch)</p>\n\n<pre><code>export class DashboardComponent implements OnInit {\n    emotions: Emotion[] = [];\n    emotionMatch: string;\n    imageMatch: string;\n    constructor(private emotionService: EmotionService) {}\n</code></pre>\n\n<p><strong>FOR INSIDE ngOnInit()</strong></p>\n\n<p>I then called imageMatch inside the button function for images using this.image and set it to the image id. </p>\n\n<p><em>I also had to use .bind(this) as the global varibale imageMatch could not exist on HTMLElement.</em></p>\n\n<pre><code>button.addEventListener('click', function(event) {\n    var rnd = Math.floor(Math.random() * images.length); // get random index\n    hideDivs(images); // hide all images\n\n    (images[rnd] as HTMLElement).style.display = 'block'; // show random image\n    (event.target as HTMLElement).textContent = 'Click one more time!';\n    var getImage = (images[rnd] as HTMLElement);\n\n     //update\n   this.imageMatch = getImage.id;\n\n    console.log('%cImage ID: ', \"font-weight: bold\", getImage.id);\n    console.log('%c=============================', \"color: blue\");\n    console.log('');\n\n}.bind(this)); //update\n</code></pre>\n\n<p><strong>FOR OUTSIDE ngOnInit()</strong></p>\n\n<p>Similar to inside, I just set the global variable emotionMatch to the event e.</p>\n\n<pre><code>submitEmotion(event, e: string) {\n\n        this.emotionMatch = e;\n        console.log(\"%c emotion clicked:\", \"font-weight: bold\", e);\n        console.log(\"%c emotion returned:\", \"font-weight: bold\", this.emotionMatch);\n\n\n        this.makeMatch();\n\n\n    } /\n\n     makeMatch() {\n        console.log('%c IMAGE CALLED:', \"font-weight: bold\", this.emotionMatch);\n        console.log('%c FACE CALLED:', \"font-weight: bold\", this.imageMatch );\n}\n</code></pre>\n\n<p>These are then both called in the makeMatch() Function and work successfully.\nHope this helps someone!</p>\n"}], "owner": {"reputation": 139, "user_id": 4746023, "user_type": "registered", "profile_image": "https://graph.facebook.com/10200373296130338/picture?type=large", "display_name": "Katie Kennedy", "link": "https://stackoverflow.com/users/4746023/katie-kennedy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 792, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1522864639, "creation_date": 1522781302, "question_id": 49637167, "link": "https://stackoverflow.com/questions/49637167/get-variables-values-from-methods-outside-inside-ngoninit", "title": "Get variables values from methods outside/inside ngOnInit()", "body": "<p>I am trying to get the returned values of <strong>images</strong> (the image on screen) and <strong>emotions</strong>(the button clicked. i.e: <em>returnedEmotions</em>). I want to put these into the makeMatch() function but they either appear as undefined or not in dashbaord component. I have tried having makeMatch() inside and outside of the ngOnInit but still having no luck. Any suggestions? Thanks in advance.</p>\n\n<p><em>Also the reason I want these to is to check when Image A is onscreen, if the user clicked emotion A/emotion B etc.</em></p>\n\n<p><strong><em>dashboard.component.ts</em></strong></p>\n\n<pre><code>import {Component,Input,OnChanges,OnInit,SimpleChanges} from '@angular/core';\nimport {ActivatedRoute} from '@angular/router';\nimport {Emotion} from 'emotion';\nimport {EmotionService} from 'emotion.service';\n\n@Component({\n    selector: 'dashboard',\n    templateUrl: './dashboard.component.html',\n    styleUrls: ['./dashboard.component.css']\n})\nexport class DashboardComponent implements OnInit {\n    emotions: Emotion[] = [];\n\n    constructor(private emotionService: EmotionService) {}\n\n    ngOnInit() {\n        this.getEmotions();\n\n        //function to randomize and get face images\n        var w = document.getElementById('wrapper');\n        var button = document.getElementById('randomize');\n        var images = w.children; // inner elements, your image divs\n        // a function to hide all divs\n        var hideDivs = function(imgs: HTMLCollection) {\n            for (var img of &lt; any &gt; imgs) {\n                (img as HTMLElement).style.display = 'none';\n            } //for\n        } //hideDivs\n\n        hideDivs(images); // hide all initially\n\n        button.addEventListener('click', function(event) {\n            var rnd = Math.floor(Math.random() * images.length); // get random index\n            hideDivs(images); // hide all images\n\n            (images[rnd] as HTMLElement).style.display = 'block'; // show random image\n            (event.target as HTMLElement).textContent = 'Click one more time!';\n            var getImage = (images[rnd] as HTMLElement);\n            console.log('%cImage ID: ', getImage.id);\n\n        }) //button\n\n\n         //WHERE I WANT TO GET THE IMAGE ONSCREEN AND THE EMOTION BUTTON CLICKED\n        var makeMatch = function() {\n            console.log('%c In makeMatch method' );\n            console.log('%c sE called:', this.submitEmotion);\n            console.log('%c gE called:', this.emotionService);\n        }\n\n    } //ngOnInitFinishes\n\n\n    getEmotions(): any {\n\n        this.emotionService.getEmotions().subscribe(emotions =&gt; {\n            const slice = emotions.slice(0, 9);\n            this.emotions = slice;\n        });\n    } //getEmotionsEnd\n\n\n    //FUNCTION submitEmotion- returns the emotion selected\n    submitEmotion(event, e: string) {\n\n        console.log(\"%c emotion clicked:\", \"font-weight: bold\", e);\n        var returnEmotion = e;\n        console.log(\"%c emotion returned:\", \"font-weight: bold\", returnEmotion);\n\n        return returnEmotion;\n\n    } \n\n\n} //end bracket\n</code></pre>\n\n<p><strong><em>dashboard.component.html</em></strong></p>\n\n<pre><code> //faces\n&lt;div id=\"wrapper\" align=\"center\"&gt;\n    &lt;img class=\"happy\" img src='../../assets/happy.PNG' alt=\"happy\" img id=\"happy-id\"&gt; \n    &lt;img class=\"sad\" img src='../../assets/sad.PNG' alt=\"sad\" img id=\"sad-id\"&gt;\n    &lt;img class=\"embarrassed\" img src='../../assets/embarrassed.PNG' alt=\"embarrassed\" img id=\"embarrassed-id\"&gt;\n    &lt;img class=\"sleepy\" img src='../../assets/sleepy.PNG' alt=\"sleepy\" img id=\"sleepy\"&gt;\n    &lt;img class=\"stressed\" img src='../../assets/stressed.PNG' alt=\"stressed\" img id=\"stressed\"&gt;\n    &lt;img class=\"suprised\" img src='../../assets/suprised.PNG' alt=\"suprised\" img id=\"suprised\"&gt;\n    &lt;img class=\"excited\" img src='../../assets/excited.PNG' alt=\"excited\" img id=\"excited\"&gt;\n &lt;/div&gt;\n &lt;button id='randomize' &gt;START GAME&lt;/button&gt;\n\n  //emotions\n&lt;div class=\"grid grid-pad\" align=\"center\"&gt;\n   &lt;a *ngFor=\"let emotion of emotions\" class=\"col-1-3\"  (click)=\"submitEmotion($event, emotion.name)\"&gt;\n   &lt;div class=\"module emotion\"&gt;\n      &lt;h4&gt;{{emotion.name}}&lt;/h4&gt;\n   &lt;/div&gt;\n   &lt;/a&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/xeXzE.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/xeXzE.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["javascript", "angular", "typescript", "http-headers"], "comments": [{"owner": {"reputation": 1459, "user_id": 3412090, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/8bbc8d8b966c0dca1f3a7e7da92a38c3?s=128&d=identicon&r=PG&f=1", "display_name": "floor", "link": "https://stackoverflow.com/users/3412090/floor"}, "edited": false, "score": 0, "creation_date": 1522782066, "post_id": 49637138, "comment_id": 86282371, "body": "maybe look at slacks api docs to see which headers are required to make the call."}, {"owner": {"reputation": 2007, "user_id": 3066142, "user_type": "registered", "accept_rate": 44, "profile_image": "https://i.stack.imgur.com/7Ci81.jpg?s=128&g=1", "display_name": "Omar", "link": "https://stackoverflow.com/users/3066142/omar"}, "reply_to_user": {"reputation": 1459, "user_id": 3412090, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/8bbc8d8b966c0dca1f3a7e7da92a38c3?s=128&d=identicon&r=PG&f=1", "display_name": "floor", "link": "https://stackoverflow.com/users/3412090/floor"}, "edited": false, "score": 0, "creation_date": 1522785443, "post_id": 49637138, "comment_id": 86284013, "body": "@floor I edited the question to include a snippet of what is working now"}], "answers": [{"comments": [{"owner": {"reputation": 2007, "user_id": 3066142, "user_type": "registered", "accept_rate": 44, "profile_image": "https://i.stack.imgur.com/7Ci81.jpg?s=128&g=1", "display_name": "Omar", "link": "https://stackoverflow.com/users/3066142/omar"}, "edited": false, "score": 0, "creation_date": 1522785592, "post_id": 49637680, "comment_id": 86284075, "body": "That doesnt change the outcome"}], "tags": [], "owner": {"reputation": 533, "user_id": 1027445, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/sxAEv.jpg?s=128&g=1", "display_name": "Praveen Kumar", "link": "https://stackoverflow.com/users/1027445/praveen-kumar"}, "is_accepted": false, "score": -1, "last_activity_date": 1522783351, "creation_date": 1522783351, "answer_id": 49637680, "question_id": 49637138, "link": "https://stackoverflow.com/questions/49637138/angular-5-http-post-response-for-preflight-has-invalid-http-status-code-400/49637680#49637680", "title": "Angular 5: HTTP post `Response for preflight has invalid HTTP status code 400.`", "body": "<p>try changing the following line of code:</p>\n\n<pre><code>headers.append('Content-Type', 'application/json');\n</code></pre>\n\n<p>to</p>\n\n<pre><code>headers.set('Content-Type', 'application/x-www-form-urlencoded');\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 2007, "user_id": 3066142, "user_type": "registered", "accept_rate": 44, "profile_image": "https://i.stack.imgur.com/7Ci81.jpg?s=128&g=1", "display_name": "Omar", "link": "https://stackoverflow.com/users/3066142/omar"}, "edited": false, "score": 0, "creation_date": 1522941818, "post_id": 49642712, "comment_id": 86363201, "body": "This doesnt work... There is no variation that rids me of the error <code>Response for preflight has invalid HTTP status code 400</code>..."}], "tags": [], "owner": {"reputation": 3097, "user_id": 6523329, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QxMLF.jpg?s=128&g=1", "display_name": "John Velasquez", "link": "https://stackoverflow.com/users/6523329/john-velasquez"}, "is_accepted": false, "score": 0, "last_activity_date": 1522817471, "last_edit_date": 1522817471, "creation_date": 1522815639, "answer_id": 49642712, "question_id": 49637138, "link": "https://stackoverflow.com/questions/49637138/angular-5-http-post-response-for-preflight-has-invalid-http-status-code-400/49642712#49642712", "title": "Angular 5: HTTP post `Response for preflight has invalid HTTP status code 400.`", "body": "<p>It seems your payload must be param instead of json\nTry this, if you have jQuery</p>\n\n<pre><code>import { Injectable } from '@angular/core';\nimport { Http, RequestOptions, Response, Headers } from '@angular/http';\nimport { Observable } from 'rxjs/Observable';\nimport 'rxjs/add/operator/map';\nimport 'rxjs/add/operator/catch';\ndeclare var $: any\n\n\n@Injectable()\nexport class SlackService {\n    extractData(res: Response) {\n        let body = res.json();\n        return body || {};\n    }\n    handleError (error: Response | any) {\n        console.error(error.message || error);\n        return Promise.reject(error.message || error);\n    }\n\n    private url: string = 'https://hooks.slack.com/services/xxx/xxx/xxx';\n\n    constructor(private http: Http) {}\n\n    public slack(data: any): Observable&lt;{}&gt; {\n        let body = $.param(data);\n        let headers: Headers = new Headers();\n        headers.append('Content-Type', 'application/x-www-form-urlencoded');\n\n        let options = new RequestOptions({ headers: headers });\n\n        return this.http.post(this.url, body, options)\n            .map(this.extractData)\n            .catch(this.handleError);\n    }\n\n}\n</code></pre>\n\n<p>Or try the new HttpClient soon the old htpp library will be deprecated see <a href=\"https://github.com/angular/angular/commit/37797e2\" rel=\"nofollow noreferrer\">here</a></p>\n\n<pre><code>import { Injectable } from '@angular/core';\nimport { HttpClient, HttpHeaders} from '@angular/common/http';\nimport { Observable } from 'rxjs/Observable';\nimport 'rxjs/add/operator/map';\nimport 'rxjs/add/operator/catch';\n\n\n\n@Injectable()\nexport class SlackService {\n\n    handleError (error: Response | any) {\n        console.error(error.message || error);\n        return Promise.reject(error.message || error);\n    }\n\n    private url: string = 'https://hooks.slack.com/services/xxx/xxx/xxx';\n\n    constructor(private http: HttpClient) {}\n\n    public slack(data: any): Observable&lt;{}&gt; {\n        const requestOptions = {\n            params: new HttpParams()\n        };\n        //Add all your payload here\n        requestOptions.params.set('foo', 'bar');\n\n\n        return this.http.post(this.url, requestOptions , {\n            headers: new HttpHeaders({ 'Content-Type': 'application/x-www-form-urlencoded;charset=utf-8;' })\n        })\n       .map((res) =&gt; res.json())\n       .catch(this.handleError);\n    }\n\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 2007, "user_id": 3066142, "user_type": "registered", "accept_rate": 44, "profile_image": "https://i.stack.imgur.com/7Ci81.jpg?s=128&g=1", "display_name": "Omar", "link": "https://stackoverflow.com/users/3066142/omar"}, "edited": false, "score": 0, "creation_date": 1523047680, "post_id": 49676258, "comment_id": 86414984, "body": "I am trying to make this call to Slack from the frontend... It works on other webprojects. This is an Angular HTTP module task. I must be miss using it some how"}], "tags": [], "owner": {"reputation": 1144, "user_id": 9576697, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7824934e4be99cf88ca82cc5863942b3?s=128&d=identicon&r=PG&f=1", "display_name": "Micha\u0142 Z.", "link": "https://stackoverflow.com/users/9576697/micha%c5%82-z"}, "is_accepted": false, "score": 0, "last_activity_date": 1522942679, "last_edit_date": 1522942679, "creation_date": 1522942367, "answer_id": 49676258, "question_id": 49637138, "link": "https://stackoverflow.com/questions/49637138/angular-5-http-post-response-for-preflight-has-invalid-http-status-code-400/49676258#49676258", "title": "Angular 5: HTTP post `Response for preflight has invalid HTTP status code 400.`", "body": "<p>For me looks like API is missing CORS configuration (<strong>OPTIONS</strong> http method).</p>\n\n<p>Modern web browsers make requests for <strong>OPTIONS</strong> (pre-flight) first if origin is different.</p>\n\n<p>Basically what you need to do is configure CORS at your backend - frontend have nothing to do with it.</p>\n\n<p>More about <a href=\"https://developer.mozilla.org/en-US/docs/Web/HTTP/CORS\" rel=\"nofollow noreferrer\">CORS</a></p>\n"}], "owner": {"reputation": 2007, "user_id": 3066142, "user_type": "registered", "accept_rate": 44, "profile_image": "https://i.stack.imgur.com/7Ci81.jpg?s=128&g=1", "display_name": "Omar", "link": "https://stackoverflow.com/users/3066142/omar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1589, "favorite_count": 0, "answer_count": 3, "score": 1, "last_activity_date": 1522942679, "creation_date": 1522781207, "last_edit_date": 1522941988, "question_id": 49637138, "link": "https://stackoverflow.com/questions/49637138/angular-5-http-post-response-for-preflight-has-invalid-http-status-code-400", "title": "Angular 5: HTTP post `Response for preflight has invalid HTTP status code 400.`", "body": "<p>I have the following service; no matter how much I configure it I cannot get the http request to work.</p>\n\n<p><strong>Chrome Console Error</strong>\n<code>Response for preflight has invalid HTTP status code 400.</code>\n<a href=\"https://i.stack.imgur.com/jH62V.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/jH62V.png\" alt=\"enter image description here\"></a></p>\n\n<p><strong>My Service</strong></p>\n\n<pre><code>import { Injectable } from '@angular/core';\nimport { Http, RequestOptions, Response, Headers } from '@angular/http';\nimport { Observable } from 'rxjs/Observable';\nimport 'rxjs/add/operator/map';\nimport 'rxjs/add/operator/catch';\n\n\n\n@Injectable()\nexport class SlackService {\n    extractData(res: Response) {\n        let body = res.json();\n        return body || {};\n    }\n    handleError (error: Response | any) {\n        console.error(error.message || error);\n        return Promise.reject(error.message || error);\n    }\n\n    private url: string = 'https://hooks.slack.com/services/xxx/xxx/xxx';\n\n    constructor(private http: Http) {}\n\n    public slack(data: any): Observable&lt;{}&gt; {\n        let body = JSON.stringify(data);\n        let headers: Headers = new Headers();\n        headers.append('Content-Type', 'application/json');\n\n        let options = new RequestOptions({ headers: headers });\n\n        return this.http.post(this.url, body, options)\n            .map(this.extractData)\n            .catch(this.handleError);\n    }\n\n}\n</code></pre>\n\n<p>I remember having this problem in AngularJS and the following fixed it... What is the equivalent in angular 2+?</p>\n\n<pre><code>app.config(function ($httpProvider) {\n  $httpProvider.defaults.headers.common = {};\n  $httpProvider.defaults.headers.post = {};\n  $httpProvider.defaults.headers.put = {};\n  $httpProvider.defaults.headers.patch = {};\n}); \n</code></pre>\n\n<p>Ive seen answers like this <a href=\"https://stackoverflow.com/questions/38881964/angular-2-token-response-for-preflight-has-invalid-http-status-code-400\">Angular 2 Token: Response for preflight has invalid HTTP status code 400</a> but hasnt helped </p>\n\n<p><strong>this worked in PostMan</strong></p>\n\n<pre><code>curl -X POST \\\n  https://hooks.slack.com/services/xx/xx/xx \\\n  -H 'content-type: application/x-www-form-urlencoded' \\\n  -d payload=%7B%0A%20%20%20%20%20%20%22channel%22%3A%20%22%23general%22%2C%0A%20%20%20%20%20%20%22username%22%3A%20%22webhookbot%22%2C%0A%20%20%20%20%20%20%22text%22%3A%20%22This%20is%20posted%20to%20%23general%20and%20comes%20from%20a%20bot%20named%20webhookbot.%22%2C%0A%20%20%20%20%20%20%22icon_emoji%22%3A%20%22%3Aghost%3A%22%0A%20%20%20%7D\n</code></pre>\n"}, {"tags": ["reactjs", "typescript", "react-proptypes", "victory-charts"], "answers": [{"comments": [{"owner": {"reputation": 1427, "user_id": 3646201, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/128c55921b80da89fd68d5cfe7232eea?s=128&d=identicon&r=PG&f=1", "display_name": "Farzad", "link": "https://stackoverflow.com/users/3646201/farzad"}, "edited": false, "score": 0, "creation_date": 1522794604, "post_id": 49637847, "comment_id": 86287714, "body": "Thank you @Caleb; adding the <code>labels</code> property seems to solve the issue. I&#39;m still confused however, I was doing the same thing in another component, and it was working fine... Anyway, maybe you can also give me a clue about this: I&#39;m trying to set <code>tickValues</code> for an axis, and now it&#39;s complaining that arrays or iterators should have <code>key</code> property set, but I&#39;m not sure if this is really the issue, or I&#39;m missing something else?"}], "tags": [], "owner": {"reputation": 111, "user_id": 6424048, "user_type": "registered", "profile_image": "https://graph.facebook.com/1188893991145473/picture?type=large", "display_name": "Caleb Anderson", "link": "https://stackoverflow.com/users/6424048/caleb-anderson"}, "is_accepted": true, "score": 2, "last_activity_date": 1522784011, "creation_date": 1522784011, "answer_id": 49637847, "question_id": 49636893, "link": "https://stackoverflow.com/questions/49636893/react-victory-giving-error-invalid-prop-data-of-type-object-supplied-to-vic/49637847#49637847", "title": "React Victory giving error Invalid prop `data` of type `object` supplied to `VictoryLabel`, expected `array`", "body": "<p>The Victory docs say:</p>\n\n<blockquote>\n  <p>The labelComponent prop takes a component instance which will be used to render labels for the component</p>\n</blockquote>\n\n<p>You still need to define the labels separately using the <code>labels</code> prop of <code>VictoryBar</code>. The purpose of <code>labelComponent</code> is to further customize things like positioning or add tooltip labels.</p>\n\n<p>An example from the docs: </p>\n\n<pre><code>&lt;VictoryBar\n  data={sampleData}\n  labels={(d) =&gt; d.y}\n  style={{ labels: { fill: \"white\" } }}\n  labelComponent={&lt;VictoryLabel dy={30}/&gt;}\n/&gt;\n</code></pre>\n\n<p>Here the <code>labelComponent</code> prop is used to move the y-axis of each label but we still have to define the label values with a separate prop. Hope this helps!</p>\n"}], "owner": {"reputation": 1427, "user_id": 3646201, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/128c55921b80da89fd68d5cfe7232eea?s=128&d=identicon&r=PG&f=1", "display_name": "Farzad", "link": "https://stackoverflow.com/users/3646201/farzad"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 656, "favorite_count": 0, "accepted_answer_id": 49637847, "answer_count": 1, "score": 2, "last_activity_date": 1522784011, "creation_date": 1522780199, "question_id": 49636893, "link": "https://stackoverflow.com/questions/49636893/react-victory-giving-error-invalid-prop-data-of-type-object-supplied-to-vic", "title": "React Victory giving error Invalid prop `data` of type `object` supplied to `VictoryLabel`, expected `array`", "body": "<p>I'm using Victory chart with React, and I'm VERY confused with what's happening. I'm receiving the following error:</p>\n\n<pre><code>Invalid prop `data` of type `object` supplied to `VictoryLabel`, expected `array`\n</code></pre>\n\n<p>What I have is very simple like this:</p>\n\n<pre><code>public render() {\n  return (\n    &lt;vic.VictoryChart&gt;\n      &lt;vic.VictoryBar\n        data={[\n          { x: 0, y: 100 },\n          { x: 1, y: 150 },\n          { x: 2, y: 200 },\n          { x: 3, y: 50 },\n          { x: 4, y: 500 },\n        ]}\n        labelComponent={\n          &lt;vic.VictoryLabel text={d =&gt; d.y} /&gt;\n        }\n      /&gt;\n    &lt;/vic.VictoryChart&gt;\n  );\n}\n</code></pre>\n\n<p>Can someone PLEASE give me an idea of the problem here? I have no idea why I'm getting the error!</p>\n"}, {"tags": ["javascript", "typescript", "rxjs"], "comments": [{"owner": {"reputation": 75411, "user_id": 310726, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/cc38ee5e151f1efb6470740c66262058?s=128&d=identicon&r=PG", "display_name": "martin", "link": "https://stackoverflow.com/users/310726/martin"}, "edited": false, "score": 4, "creation_date": 1522780149, "post_id": 49636824, "comment_id": 86281331, "body": "If you need to wait until all Observables complete you should use <code>forkJoin</code> instead. Otherwise try unpacking the array with <code>Observable.zip(...obsArray)</code>."}, {"owner": {"reputation": 15663, "user_id": 2564847, "user_type": "registered", "accept_rate": 75, "profile_image": "https://graph.facebook.com/1441871406/picture?type=large", "display_name": "Robin Dijkhof", "link": "https://stackoverflow.com/users/2564847/robin-dijkhof"}, "reply_to_user": {"reputation": 75411, "user_id": 310726, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/cc38ee5e151f1efb6470740c66262058?s=128&d=identicon&r=PG", "display_name": "martin", "link": "https://stackoverflow.com/users/310726/martin"}, "edited": false, "score": 0, "creation_date": 1522823960, "post_id": 49636824, "comment_id": 86296389, "body": "@martin will unpacking work? I thought <code>zip</code> emitted a value when all observables emitted a value. So not only when all are completed. Would <code>forkjoin</code> be the only solution?"}, {"owner": {"reputation": 1391, "user_id": 4783564, "user_type": "registered", "accept_rate": 83, "profile_image": "https://graph.facebook.com/831893070222928/picture?type=large", "display_name": "cerealex", "link": "https://stackoverflow.com/users/4783564/cerealex"}, "edited": false, "score": 0, "creation_date": 1522828788, "post_id": 49636824, "comment_id": 86299482, "body": "It worked with forkJoin. Thanks!"}], "answers": [{"tags": [], "owner": {"reputation": 3544, "user_id": 1861779, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/5240df899ccf11b1771b8737afada026?s=128&d=identicon&r=PG", "display_name": "t.888", "link": "https://stackoverflow.com/users/1861779/t-888"}, "is_accepted": false, "score": 1, "last_activity_date": 1522782114, "last_edit_date": 1522782114, "creation_date": 1522781763, "answer_id": 49637279, "question_id": 49636824, "link": "https://stackoverflow.com/questions/49636824/wait-for-two-observables-finish-with-zip/49637279#49637279", "title": "Wait for two observables finish with zip", "body": "<p><code>Observable.zip</code> takes arguments <code>(a, b, ..., n)</code>. I wasn't able to make it work with an array directly, but it should work with <code>apply</code>:</p>\n\n<pre><code>const zip = Observable.zip\nzip.apply(null, obsArray).subscribe(...)\n</code></pre>\n\n<p><code>apply</code> will convert the given array into a function call with the array elements passed as arguments.</p>\n\n<p>EDIT: As per @martin's comment, you can also use the spread operator if your environment supports it. <code>zip(...obsArray).subscribe(...)</code></p>\n"}], "owner": {"reputation": 1391, "user_id": 4783564, "user_type": "registered", "accept_rate": 83, "profile_image": "https://graph.facebook.com/831893070222928/picture?type=large", "display_name": "cerealex", "link": "https://stackoverflow.com/users/4783564/cerealex"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 194, "favorite_count": 0, "answer_count": 1, "score": 3, "last_activity_date": 1522782114, "creation_date": 1522779957, "question_id": 49636824, "link": "https://stackoverflow.com/questions/49636824/wait-for-two-observables-finish-with-zip", "title": "Wait for two observables finish with zip", "body": "<p>This is the method code. I'm trying to wait for two observables to complete using zip, but nothing logs, not even the http calls in fooProvider are called.</p>\n\n<pre><code>let obsArray: Observable&lt;any&gt;[] = [];\n\nthis.idArray.forEach(id =&gt; {\n  obsArray.push(this.fooProvider.bar(id, 1));\n});\n\nObservable.zip(obsArray)\n  .subscribe(res =&gt; console.log(res));\n</code></pre>\n"}, {"tags": ["typescript"], "comments": [{"owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "edited": false, "score": 1, "creation_date": 1522782142, "post_id": 49636562, "comment_id": 86282406, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/49630461/typescript-interface-dynamic-param-does-not-compile-without-any\">typescript interface dynamic param does not compile without any</a>"}, {"owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "edited": false, "score": 0, "creation_date": 1522782223, "post_id": 49636562, "comment_id": 86282439, "body": "It&#39;s basically the same problem as in the referenced question, in your case type type would be <code>type Profile = {     getXml: () =&gt; string;  } &amp; {     [key: string]: string; }</code> but the discussion applies"}, {"owner": {"reputation": 3482, "user_id": 271351, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/gtbCX.jpg?s=128&g=1", "display_name": "cjbarth", "link": "https://stackoverflow.com/users/271351/cjbarth"}, "reply_to_user": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "edited": false, "score": 0, "creation_date": 1522784045, "post_id": 49636562, "comment_id": 86283369, "body": "@TitianCernicova-Dragomir, The answer you linked to helped me to find what works. I wish that OP had marked that answer as correct. If you post it here, or a link to it, I&#39;ll gladly do so myself."}, {"owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "edited": false, "score": 0, "creation_date": 1522823687, "post_id": 49636562, "comment_id": 86296235, "body": "They accepted the answer, I had just answered  it that day, it was abit much to give the same answer again on the same day, 10x anyway :)"}], "owner": {"reputation": 3482, "user_id": 271351, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/gtbCX.jpg?s=128&g=1", "display_name": "cjbarth", "link": "https://stackoverflow.com/users/271351/cjbarth"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1894, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1522783943, "creation_date": 1522778823, "last_edit_date": 1522783943, "question_id": 49636562, "link": "https://stackoverflow.com/questions/49636562/typescript-interface-with-known-and-unknown-keys-not-using-any", "title": "TypeScript Interface With Known and Unknown Keys Not Using `any`", "body": "<p>I need an interface to describe a data structure that always contains a function, but can contain any number of properties, which all have a value of string. I know something like this works in theory:</p>\n\n<pre><code>declare interface Profile {\n    getXml: () =&gt; string;\n    [key: string]: string | Function;\n}\n</code></pre>\n\n<p>However, that interface isn't 100% accurate and makes using objects of that type more difficult because I can't assign a property of that interface to a string without checking or casting first.</p>\n\n<p>Is there any way that I can specify an interface have a certain set of known keys with their own unique value types and then have a 'catch-all' for everything else that might be on the object? The solution presented <a href=\"https://stackoverflow.com/questions/38260414/typescript-interface-for-objects-with-some-known-and-some-unknown-property-names\">here</a> requires the use of <code>any</code>, which is worse than what I have.</p>\n\n<p>Please see <a href=\"https://www.typescriptlang.org/play/#src=declare%20interface%20Profile%20%7B%0D%0A%20%20%20%20getXml%3A%20()%20%3D%3E%20string%3B%0D%0A%20%20%20%20%5Bkey%3A%20string%5D%3A%20string%20%7C%20Function%3B%0D%0A%7D%0D%0A%0D%0Avar%20incomingProfile%3A%20Profile%20%3D%20%7B%0D%0A%20%20getXml%3A%20()%20%3D%3E%20%7B%20return%20&#39;xml&#39;%3B%20%7D%2C%0D%0A%20%20data1%3A%20&#39;data1&#39;%2C%0D%0A%20%20data2%3A%20&#39;data2&#39;%2C%0D%0A%20%20otherData%3A%20&#39;otherData&#39;%0D%0A%7D%3B%0D%0A%0D%0A%2F%2F%20I%20don&#39;t%20want%20to%20have%20to%20cast%20or%20guard%20to%20get%20this%20to%20work%0D%0Avar%20incomingData%3A%20string%20%3D%20incomingProfile%5B&#39;data1&#39;%5D%3B%0D%0A%0D%0A%2F%2F%20This%20won&#39;t%20work%20because%20a%20Function%20isn&#39;t%20of%20type%20string%20%0D%0Adeclare%20interface%20Profile2%20%7B%0D%0A%20%20%20%20getXml%3A%20()%20%3D%3E%20string%3B%0D%0A%20%20%20%20%5Bkey%3A%20string%5D%3A%20string%3B%0D%0A%7D%0D%0A%0D%0Avar%20incomingProfile2%3A%20Profile2%20%3D%20%7B%0D%0A%20%20getXml%3A%20()%20%3D%3E%20%7B%20return%20&#39;xml&#39;%3B%20%7D%2C%0D%0A%20%20data1%3A%20&#39;data1&#39;%2C%0D%0A%20%20data2%3A%20&#39;data2&#39;%2C%0D%0A%20%20otherData%3A%20&#39;otherData&#39;%0D%0A%7D%3B%0D%0A\" rel=\"nofollow noreferrer\">this Playground</a> to see why some options that have been proposed don't work.</p>\n\n<p>Please see <a href=\"https://www.typescriptlang.org/play/#src=declare%20interface%20Profile%20%7B%0D%0A%20%20%20%20getXml%3A%20()%20%3D%3E%20string%3B%0D%0A%20%20%20%20%5Bkey%3A%20string%5D%3A%20string%20%7C%20Function%3B%0D%0A%7D%0D%0A%0D%0Avar%20incomingProfile%3A%20Profile%20%3D%20%3CProfile%3E%7B%7D%3B%0D%0A%0D%0A%2F%2F%20I%20don&#39;t%20want%20to%20have%20to%20cast%20or%20guard%20to%20get%20this%20to%20work%0D%0Avar%20incomingData%3A%20string%20%3D%20incomingProfile%5B&#39;data1&#39;%5D%3B%0D%0A%0D%0A%2F%2F%20This%20won&#39;t%20work%20because%20a%20Function%20isn&#39;t%20of%20type%20string%20%0D%0Adeclare%20interface%20Profile2%20%7B%0D%0A%20%20%20%20getXml%3A%20()%20%3D%3E%20string%3B%0D%0A%20%20%20%20%5Bkey%3A%20string%5D%3A%20string%3B%0D%0A%7D%0D%0A%0D%0Avar%20incomingProfile2%3A%20Profile2%20%3D%20%3CProfile2%3E%7B%7D%3B%0D%0A%0D%0A%2F%2F%20Works!%0D%0Aexport%20type%20Profile3%20%20%3D%20%7B%0D%0A%20%20%20%20%5Bkey%3A%20string%5D%3A%20string%3B%0D%0A%7D%20%26%20%7B%0D%0A%20%20%20%20getXml%3A%20()%20%3D%3E%20string%3B%0D%0A%7D%0D%0A%0D%0Avar%20incomingProfile3%3A%20Profile3%20%3D%20%3CProfile3%3E%7B%7D%3B%0D%0A%0D%0Avar%20incomingData3%3A%20string%20%3D%20incomingProfile3%5B&#39;data1&#39;%5D%0D%0Avar%20inccomingXml3%3A%20string%20%3D%20incomingProfile3.getXml()%3B\" rel=\"nofollow noreferrer\">this Playground</a> to see an options that does work thanks to <a href=\"https://stackoverflow.com/questions/49630461/typescript-interface-dynamic-param-does-not-compile-without-any\">this</a>.</p>\n"}]