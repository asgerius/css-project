[{"tags": ["typescript"], "answers": [{"tags": [], "owner": {"reputation": 133, "user_id": 8266984, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wFxbQ.jpg?s=128&g=1", "display_name": "Michael Wallace", "link": "https://stackoverflow.com/users/8266984/michael-wallace"}, "is_accepted": false, "score": 0, "last_activity_date": 1575507072, "creation_date": 1575507072, "answer_id": 59186650, "question_id": 59186085, "link": "https://stackoverflow.com/questions/59186085/use-the-generic-of-a-const-as-an-interface/59186650#59186650", "title": "Use the generic of a const as an interface", "body": "<p>You want to extract the props of a component to use it in your own component. But there is no way to do that.</p>\n\n<p>Since the props where declared using the generic type <code>&lt;UnifiedNumberFormatOptions &amp; CustomFormatConfig &amp; { value: number; }&gt;</code> if you want to use it you need to declare it the same way.</p>\n\n<p>What you can do to achieve the same result is declare it as a type:</p>\n\n<pre><code>type FormattedNumberProps = UnifiedNumberFormatOptions &amp; CustomFormatConfig &amp; { value: number; };\n</code></pre>\n\n<p>and use it on your interface:</p>\n\n<pre><code>interface Props {\n  usdProps?: FormattedNumberProps;\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 624, "user_id": 607386, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b62097f0991a4de0e228e434dfd3cc48?s=128&d=identicon&r=PG", "display_name": "Billy Shih", "link": "https://stackoverflow.com/users/607386/billy-shih"}, "edited": false, "score": 0, "creation_date": 1575509451, "post_id": 59186724, "comment_id": 104593981, "body": "This is exactly what I was looking for. Thank you for the answer and the links!"}], "tags": [], "owner": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "is_accepted": true, "score": 2, "last_activity_date": 1575507628, "creation_date": 1575507628, "answer_id": 59186724, "question_id": 59186085, "link": "https://stackoverflow.com/questions/59186085/use-the-generic-of-a-const-as-an-interface/59186724#59186724", "title": "Use the generic of a const as an interface", "body": "<p>Assuming that the type <code>React.FC&lt;T&gt;</code> depends <a href=\"https://github.com/Microsoft/TypeScript/wiki/FAQ#what-is-structural-typing\" rel=\"nofollow noreferrer\">structurally</a> on its generic type parameter <code>T</code> (i.e., it actually uses <code>T</code> as opposed to <a href=\"https://github.com/Microsoft/TypeScript/wiki/FAQ#why-doesnt-type-inference-work-on-this-interface-interface-foot--\" rel=\"nofollow noreferrer\">ignoring it</a>), then you should be able to use <a href=\"https://www.typescriptlang.org/docs/handbook/release-notes/typescript-2-8.html#type-inference-in-conditional-types\" rel=\"nofollow noreferrer\">conditional type inference</a> to extract <code>T</code> from <code>React.FC&lt;T&gt;</code>, like this:</p>\n\n<pre><code>interface Props {\n    usdProps?: typeof FormattedNumber extends React.FC&lt;infer T&gt; ? T : never\n}\n</code></pre>\n\n<p>You can verify that this type is the same as your manual version.</p>\n\n<p>Okay, hope that helps; good luck!</p>\n\n<p><a href=\"https://www.typescriptlang.org/play/#code/JYWwDg9gTgLgBAKjgQwM5wEoFNkGN4BmUEIcA5FDvmQFA0wCeYWcAqgHbAHBYAmAcgFcQAIyxQAYtBDIYAeTAxgEdugC8cAN5xB7AhABccGFEEsAvgG44AehtwA7gAtZWAG7j6TFgGFBqGBIpKBkYHxVuAHM4DW1cAlwjEzM4K1t7Z1c3AC86LAAPSFg4XixcABtkSjhcFQC4YNCYPiFRcSNsPBgAOgkfAB4OLh4BYTFJaVkFJTq4ADI4PwCgybCI4GiFzRo4Xbg3ZHKzI3Yx8UsacwA+C5pgdmaoAjwWAAViMHRtvZ1UXneIJ8APxJbwQAgNVbNUZtKBwArNdi8dCdfC9Ab3AjiOAAFSucCBuLgJ3cnnMNBsSHKEAgAGt0JEabwDDQABRgD7iRgASjgAM+3X8-w+qBBcFZQ24LTOExCU0UylU80W-kCIEasnCeg2yu+ewORywJxlF3MvIAPjokVhuOw+HAaAh7EA\" rel=\"nofollow noreferrer\">Link to code</a></p>\n"}], "owner": {"reputation": 624, "user_id": 607386, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b62097f0991a4de0e228e434dfd3cc48?s=128&d=identicon&r=PG", "display_name": "Billy Shih", "link": "https://stackoverflow.com/users/607386/billy-shih"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 61, "favorite_count": 0, "accepted_answer_id": 59186724, "answer_count": 2, "score": 2, "last_activity_date": 1575507628, "creation_date": 1575502193, "question_id": 59186085, "link": "https://stackoverflow.com/questions/59186085/use-the-generic-of-a-const-as-an-interface", "title": "Use the generic of a const as an interface", "body": "<p>I'm using react-intl and they have a TypeScript definition for a FormattedNumber component:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>export declare const FormattedNumber: React.FC&lt;UnifiedNumberFormatOptions &amp; CustomFormatConfig &amp; {\n    value: number;\n}&gt;;\n</code></pre>\n\n<p>I'm using this in my React component that takes a prop <code>usdProps</code> allows you to override the props of a FormattedNumber component:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>&lt;FormattedNumber\n  value={numAmount}\n  style=\"currency\"\n  currency={unit}\n  minimumFractionDigits={2}\n  maximumFractionDigits={2}\n  {...usdProps}\n/&gt;\n</code></pre>\n\n<p>How can I set the props of my component to be generic of FormattedNumber without copying that exact generic? </p>\n\n<p>Right now I can do this:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>interface Props {\n  usdProps?: UnifiedNumberFormatOptions &amp;\n    CustomFormatConfig &amp; {\n    value: number;\n  };\n}\n</code></pre>\n\n<p>But I'd prefer it to be directly coupled to FormattedNumbers (fake example):</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>interface Props {\n  usdProps?: genericsOf FormattedNumbers;\n}\n</code></pre>\n"}, {"tags": ["typescript", "firebase", "ionic-framework", "firebase-realtime-database", "ionic3"], "owner": {"reputation": 59, "user_id": 10099951, "user_type": "registered", "profile_image": "https://graph.facebook.com/2252014435080988/picture?type=large", "display_name": "Oliver Precious Chukwuemeka Jr", "link": "https://stackoverflow.com/users/10099951/oliver-precious-chukwuemeka-jr"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 76, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1575500245, "creation_date": 1575500245, "question_id": 59185788, "link": "https://stackoverflow.com/questions/59185788/how-to-delete-a-specific-data-from-a-list-of-data-in-ionic-3-real-time-firebase", "title": "how to delete a specific data from a list of data in ionic 3 real time Firebase", "body": "<p>I was able to upload and fetch data but i want to use a button to delete a data from a list of data.\nbelow is my code </p>\n\n<pre><code>ionViewDidLoad() {\n    console.log('ionViewDidLoad PagesAllpatientsPage');\n    this.ph.getPatientProfile(this.id).once('value', snapshot =&gt; {\n      this.patientsList = [];\n      console.log('sjiy')\n      snapshot.forEach(snap =&gt; {\n        this.patientsList.push({\n          id: snap.key,\n         name: snap.val().name,\n         age: snap.val().age,\n         gender: snap.val().gender,\n         phonenumber: snap.val().phonenumber,\n        });\n        console.log(this.patientsList)\n        return false\n      });\n    });\n\n  }\n\n  deletePatient(id:any,) {\n    firebase.database().ref(`userProfile/${this.user.uid}/PatientInfo/${id}`).remove(id)\n  }\n</code></pre>\n\n<p>All i want to achieve is to remove a data from patientInfo with a button click and please also provide <a href=\"https://i.stack.imgur.com/YKZGe.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/YKZGe.png\" alt=\"enter image description here\"></a></p>\n\n<pre><code>&lt;button ion-button block (click)=\"deletePatient(id)\"&gt;Delete Record&lt;/button&gt;\n</code></pre>\n"}, {"tags": ["angular", "typescript", "autocomplete"], "comments": [{"owner": {"reputation": 57675, "user_id": 1009922, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/K0eeL.jpg?s=128&g=1", "display_name": "ConnorsFan", "link": "https://stackoverflow.com/users/1009922/connorsfan"}, "edited": false, "score": 0, "creation_date": 1575496139, "post_id": 59184998, "comment_id": 104590560, "body": "You provided an image of the stackblitz. Can you give us a link to the actual stackblitz?"}, {"owner": {"reputation": 469, "user_id": 12302230, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Harry", "link": "https://stackoverflow.com/users/12302230/harry"}, "reply_to_user": {"reputation": 57675, "user_id": 1009922, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/K0eeL.jpg?s=128&g=1", "display_name": "ConnorsFan", "link": "https://stackoverflow.com/users/1009922/connorsfan"}, "edited": false, "score": 0, "creation_date": 1575498091, "post_id": 59184998, "comment_id": 104591120, "body": "@ConnorsFan Sorry !!! I already updated the link :("}], "answers": [{"comments": [{"owner": {"reputation": 147, "user_id": 14734781, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-QBFPTvc-T5Y/AAAAAAAAAAI/AAAAAAAAAAA/AMZuucll_9yaY2bbCQ7VATW1D30POyjB7A/s96-c/photo.jpg?sz=128", "display_name": "South star", "link": "https://stackoverflow.com/users/14734781/south-star"}, "edited": false, "score": 0, "creation_date": 1615074512, "post_id": 59185250, "comment_id": 117580259, "body": "Thanks. But there are white/ blank entries , and if added chip is created with blank value"}], "tags": [], "owner": {"reputation": 548, "user_id": 12469950, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dc559d7416d86f010be37e0207aab3e1?s=128&d=identicon&r=PG&f=1", "display_name": "Showy", "link": "https://stackoverflow.com/users/12469950/showy"}, "is_accepted": true, "score": 8, "last_activity_date": 1575496934, "creation_date": 1575496934, "answer_id": 59185250, "question_id": 59184998, "link": "https://stackoverflow.com/questions/59184998/angular-autocomplete-remove-element-from-list-when-it-is-selected/59185250#59185250", "title": "Angular Autocomplete - Remove element from list when it is selected", "body": "<p>Exclude the selected fruits with ngIf like this:</p>\n\n<pre><code>&lt;mat-autocomplete #auto=\"matAutocomplete\" (optionSelected)=\"selected($event)\"&gt;\n  &lt;ng-container *ngFor=\"let fruit of filteredFruits | async\"&gt;\n    &lt;mat-option *ngIf=\"!fruits.includes(fruit)\" [value]=\"fruit\"&gt;\n      {{fruit}}\n    &lt;/mat-option&gt;\n  &lt;/ng-container&gt;\n&lt;/mat-autocomplete&gt;\n</code></pre>\n"}], "owner": {"reputation": 469, "user_id": 12302230, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Harry", "link": "https://stackoverflow.com/users/12302230/harry"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1422, "favorite_count": 1, "accepted_answer_id": 59185250, "answer_count": 1, "score": 2, "last_activity_date": 1575498004, "creation_date": 1575495441, "last_edit_date": 1575498004, "question_id": 59184998, "link": "https://stackoverflow.com/questions/59184998/angular-autocomplete-remove-element-from-list-when-it-is-selected", "title": "Angular Autocomplete - Remove element from list when it is selected", "body": "<p>I am trying to develop an autocomplete. My problem is that I can't remove an element from the list when it is selected.</p>\n\n<p>The picture illustrate my problem</p>\n\n<p><a href=\"https://i.stack.imgur.com/YHgxs.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/YHgxs.png\" alt=\"Image\"></a></p>\n\n<p>I selected a name and then that same continuous name n dropdown :( it should \"disappear\" when it is selected</p>\n\n<p><strong>My Code --Stackblitz</strong></p>\n\n<p><a href=\"https://stackblitz.com/edit/angular-fcbmzy-nrauuk?file=app%2Fchips-autocomplete-example.html\" rel=\"nofollow noreferrer\">Stackbiltz</a></p>\n\n<p><strong>Component</strong></p>\n\n<pre><code>constructor(private userService: UserService) {\n    this.filteredFruits = this.fruitCtrl.valueChanges.pipe(\n        startWith(null),\n        map((fruit: string | null) =&gt; fruit ? this._filter(fruit) : this.allFruits.slice()));\n  }\n\n  ngOnInit() {\n    this.userService.getUsers().subscribe(\n      (val: any[]) =&gt;{\n        this.allFruits = val.map(user =&gt; user.username);\n        this.fruitCtrl.setValue(null); \n      } \n    )\n  }\n\n  remove(fruit: string): void {\n    const index = this.fruits.indexOf(fruit);\n\n    if (index &gt;= 0) {\n      this.fruits.splice(index, 1);\n    }\n  }\n\n  selected(event: MatAutocompleteSelectedEvent): void {\n    this.fruits.push(event.option.viewValue);\n    this.fruitInput.nativeElement.value = '';\n    this.fruitCtrl.setValue(null);\n  }\n\n  private _filter(value: string): string[] {\n    const filterValue = value.toLowerCase();\n\n    return this.allFruits.filter(fruit =&gt; fruit.toLowerCase().indexOf(filterValue) === 0);\n  }\n</code></pre>\n\n<p><strong>HTML</strong></p>\n\n<pre><code>&lt;mat-form-field class=\"example-chip-list\"&gt;\n  &lt;mat-chip-list #chipList&gt;\n    &lt;mat-chip\n      *ngFor=\"let fruit of fruits\"\n      [selectable]=\"selectable\"\n      [removable]=\"removable\"\n      (removed)=\"remove(fruit)\"&gt;\n      {{fruit}}\n      &lt;mat-icon matChipRemove *ngIf=\"removable\"&gt;cancel&lt;/mat-icon&gt;\n    &lt;/mat-chip&gt;\n    &lt;input\n      placeholder=\"New fruit...\"\n      #fruitInput\n      [formControl]=\"fruitCtrl\"\n      [matAutocomplete]=\"auto\"\n      [matChipInputFor]=\"chipList\"\n      [matChipInputSeparatorKeyCodes]=\"separatorKeysCodes\"\n      [matChipInputAddOnBlur]=\"addOnBlur\"\n      (matChipInputTokenEnd)=\"add($event)\"&gt;\n  &lt;/mat-chip-list&gt;\n  &lt;mat-autocomplete #auto=\"matAutocomplete\" (optionSelected)=\"selected($event)\"&gt;\n    &lt;mat-option *ngFor=\"let fruit of filteredFruits | async\" [value]=\"fruit\"&gt;\n      {{fruit}}\n    &lt;/mat-option&gt;\n  &lt;/mat-autocomplete&gt;\n&lt;/mat-form-field&gt;\n</code></pre>\n"}, {"tags": ["node.js", "typescript", "sequelize.js", "nestjs"], "answers": [{"comments": [{"owner": {"reputation": 711, "user_id": 1689262, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/PdyY3.jpg?s=128&g=1", "display_name": "coler-j", "link": "https://stackoverflow.com/users/1689262/coler-j"}, "edited": false, "score": 0, "creation_date": 1575495730, "post_id": 59184926, "comment_id": 104590427, "body": "OMG, I actually just stumbled upon this too. Was able to get it working with <code>&#39;&#47;dist&#47;**&#47;entities&#47;*.entity.js&#39;</code>. Was not able to use the <code>{dist,src}&#47;**&#47;entities&#47;*.entity.{js,ts}</code> with seqeulize-typescript though (gave me same error)"}, {"owner": {"reputation": 17343, "user_id": 9576186, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2beeea1d726e9c3fab3a91953895039b?s=128&d=identicon&r=PG", "display_name": "Jay McDoniel", "link": "https://stackoverflow.com/users/9576186/jay-mcdoniel"}, "reply_to_user": {"reputation": 711, "user_id": 1689262, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/PdyY3.jpg?s=128&g=1", "display_name": "coler-j", "link": "https://stackoverflow.com/users/1689262/coler-j"}, "edited": false, "score": 0, "creation_date": 1575495787, "post_id": 59184926, "comment_id": 104590440, "body": "Probably still trying to work with the src directory, which it definitely shouldn&#39;t. Oh, yeah, I usually use <code>__dirname</code> with it, and the <code>join</code> function from the <code>path</code> module. I&#39;ll update the answer to have that."}], "tags": [], "owner": {"reputation": 17343, "user_id": 9576186, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2beeea1d726e9c3fab3a91953895039b?s=128&d=identicon&r=PG", "display_name": "Jay McDoniel", "link": "https://stackoverflow.com/users/9576186/jay-mcdoniel"}, "is_accepted": true, "score": 1, "last_activity_date": 1575495815, "last_edit_date": 1575495815, "creation_date": 1575495048, "answer_id": 59184926, "question_id": 59184878, "link": "https://stackoverflow.com/questions/59184878/sequelize-typescript-when-using-glob-configuration-with-tsc-compiler-with-n/59184926#59184926", "title": "sequelize-typescript - When using glob configuration with `tsc` compiler (with NestJS) cannot resolve model modules", "body": "<p>You shouldn't be using <code>src</code> as part of your file path, as once you compile the code from Typescript to JavaScript, your code now lives in <code>dist</code> and the <code>src</code> folder is lost in the context. You should also change the <code>.ts</code> to <code>.js</code> as that's what files will be resolved at runtime. The other option is to use a glob like <code>join(__dirname, '{dist,src}/**/entities/*.entity.{js,ts}')</code> so that you can look at both without changing your code between <code>src</code> and <code>dist</code>. </p>\n\n<p>Note: <code>join</code> is from the <code>path</code> module</p>\n"}], "owner": {"reputation": 711, "user_id": 1689262, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/PdyY3.jpg?s=128&g=1", "display_name": "coler-j", "link": "https://stackoverflow.com/users/1689262/coler-j"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 432, "favorite_count": 0, "accepted_answer_id": 59184926, "answer_count": 1, "score": 0, "last_activity_date": 1575495815, "creation_date": 1575494754, "question_id": 59184878, "link": "https://stackoverflow.com/questions/59184878/sequelize-typescript-when-using-glob-configuration-with-tsc-compiler-with-n", "title": "sequelize-typescript - When using glob configuration with `tsc` compiler (with NestJS) cannot resolve model modules", "body": "<p>I am setting up <code>sequelize-typescript</code> and then adding models:</p>\n\n<pre><code>    import appRoot from 'app-root-path'\n\n    connection = new Sequelize({... connection details})\n    const appGlobPattern = join(appRoot.toString(), 'src/**/entities/*.entity.ts')\n    // appGlobPattern = absolute path to the root of the project (i.e. C:/Users/user/my-project/)\n    this.connection.addModels([appGlobPattern])\n</code></pre>\n\n<p>An error is thrown when trying to do the <code>require(fullPath)</code> line in <code>sequelize-service</code> (<a href=\"https://github.com/RobinBuschmann/sequelize-typescript/blob/1c34e87c968b1c8333ef6467c2dd44e069e06fa8/src/sequelize/sequelize/sequelize-service.ts#L57\" rel=\"nofollow noreferrer\">https://github.com/RobinBuschmann/sequelize-typescript/blob/1c34e87c968b1c8333ef6467c2dd44e069e06fa8/src/sequelize/sequelize/sequelize-service.ts#L57</a>)</p>\n\n<p>An error is thrown as the file resolver cannot resolve the file (which exists):</p>\n\n<blockquote>\n  <p>Error: Cannot find module 'C:\\Users\\user\\my-project\\src\\entities\\my-model.entity'</p>\n</blockquote>\n\n<p>Full stack track</p>\n\n<pre><code>Error: Cannot find module 'C:\\Users\\........\\notification\\entities\\communication-channel.entity'\n    at Function.Module._resolveFilename (internal/modules/cjs/loader.js:636:15)\n    at Function.Module._load (internal/modules/cjs/loader.js:562:25)\n    at Module.require (internal/modules/cjs/loader.js:692:17)\n    at require (internal/modules/cjs/helpers.js:25:18)\n    at glob.sync.filter.map.filter.map.fullPath (C:\\Users\\........\\notification\\node_modules\\sequelize-typescript\\dist\\sequelize\\sequelize\\sequelize-service.js:44:32)\n    at Array.map (&lt;anonymous&gt;)\n    at arg.reduce (C:\\Users\\........\\notification\\node_modules\\sequelize-typescript\\dist\\sequelize\\sequelize\\sequelize-service.js:43:18)\n    at Array.reduce (&lt;anonymous&gt;)\n    at Object.getModels (C:\\Users\\........\\notification\\node_modules\\sequelize-typescript\\dist\\sequelize\\sequelize\\sequelize-service.js:35:20)\n    at Sequelize.addModels (C:\\Users\\........\\notification\\node_modules\\sequelize-typescript\\dist\\sequelize\\sequelize\\sequelize.js:34:44)\n    at DatabaseConnection._addModelsToConnection (C:\\Users\\........\\notificationn\\dist\\database\\classes\\database-connection.js:33:25)\n    at DatabaseConnection.createConnection (C:\\Users\\........\\notification\\dist\\database\\classes\\database-connection.js:23:14)\n    at InstanceWrapper.useFactory [as metatype] (C:\\Users\\........\\notification\\dist\\database\\providers\\database-connection-pool.provider.js:13:30)\n    at process._tickCallback (internal/process/next_tick.js:68:7)\n    at Function.Module.runMain (internal/modules/cjs/loader.js:834:11)\n    at startup (internal/bootstrap/node.js:283:19)\n    at bootstrapNodeJSCore (internal/bootstrap/node.js:622:3)\n</code></pre>\n\n<p>It seems to potentially be something with the tsc compiler that NestJS is using by default. Or perhaps module loader does not play nice with absolute file paths.</p>\n\n<hr>\n\n<p>More details:</p>\n\n<ul>\n<li>sequelize: \"version\": \"5.21.2\"</li>\n<li>sequelize-typescript: \"version\": \"1.0.0\"</li>\n<li>typescript \"version\": \"3.7.2\"</li>\n</ul>\n\n<p>These are my tsconfig settings:</p>\n\n<pre><code>{\n  \"compilerOptions\": {\n    \"module\": \"CommonJS\",\n    \"moduleResolution\": \"node\",\n    \"declaration\": true,\n    \"removeComments\": true,\n    \"emitDecoratorMetadata\": true,\n    \"experimentalDecorators\": true,\n    \"esModuleInterop\": true,\n    \"target\": \"ES6\",\n    \"sourceMap\": true,\n    \"outDir\": \"./dist\",\n    \"baseUrl\": \"./\",\n    \"incremental\": true,\n    \"paths\": {\n      \"express\": [\"src/multi-tenancy/types/*\"]\n    }\n  },\n  \"exclude\": [\"node_modules\", \"dist\"]\n}\n</code></pre>\n"}, {"tags": ["angular", "typescript", "autocomplete", "angular-material"], "answers": [{"comments": [{"owner": {"reputation": 420, "user_id": 12382961, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-rvhQVhMOLPM/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcYZ7kEDZZaXaSDnUupiqwox6dwVA/photo.jpg?sz=128", "display_name": "Mike Landers", "link": "https://stackoverflow.com/users/12382961/mike-landers"}, "edited": false, "score": 0, "creation_date": 1575537424, "post_id": 59189838, "comment_id": 104602373, "body": "In filtered function I get the following Type &#39;string []&#39; is not assignable to type &#39;object []"}, {"owner": {"reputation": 9729, "user_id": 4554116, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/cu8de.png?s=128&g=1", "display_name": "Julius", "link": "https://stackoverflow.com/users/4554116/julius"}, "reply_to_user": {"reputation": 420, "user_id": 12382961, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-rvhQVhMOLPM/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcYZ7kEDZZaXaSDnUupiqwox6dwVA/photo.jpg?sz=128", "display_name": "Mike Landers", "link": "https://stackoverflow.com/users/12382961/mike-landers"}, "edited": false, "score": 0, "creation_date": 1575538807, "post_id": 59189838, "comment_id": 104603133, "body": "Ok, added <code>_filter</code> function. Change <code>any[]</code> to an interface your object uses"}, {"owner": {"reputation": 420, "user_id": 12382961, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-rvhQVhMOLPM/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcYZ7kEDZZaXaSDnUupiqwox6dwVA/photo.jpg?sz=128", "display_name": "Mike Landers", "link": "https://stackoverflow.com/users/12382961/mike-landers"}, "edited": false, "score": 0, "creation_date": 1575646088, "post_id": 59189838, "comment_id": 104647851, "body": "I get this error: Property &#39;name&#39; does not exist on type &#39;string&#39;."}, {"owner": {"reputation": 9729, "user_id": 4554116, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/cu8de.png?s=128&g=1", "display_name": "Julius", "link": "https://stackoverflow.com/users/4554116/julius"}, "reply_to_user": {"reputation": 420, "user_id": 12382961, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-rvhQVhMOLPM/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcYZ7kEDZZaXaSDnUupiqwox6dwVA/photo.jpg?sz=128", "display_name": "Mike Landers", "link": "https://stackoverflow.com/users/12382961/mike-landers"}, "edited": false, "score": 0, "creation_date": 1575647091, "post_id": 59189838, "comment_id": 104648426, "body": "You probably have type declared somewhere, eg - <code>allFruits: string[]</code>. Change it to <code>this.allFruits: any[]</code>. If you haven&#39;t declared it, somewhere it receives that type."}, {"owner": {"reputation": 420, "user_id": 12382961, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-rvhQVhMOLPM/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcYZ7kEDZZaXaSDnUupiqwox6dwVA/photo.jpg?sz=128", "display_name": "Mike Landers", "link": "https://stackoverflow.com/users/12382961/mike-landers"}, "edited": false, "score": 0, "creation_date": 1575647512, "post_id": 59189838, "comment_id": 104648642, "body": "value.toLowerCase is not a function  :(  I think you are close to the solution, and thanks to try help me"}, {"owner": {"reputation": 420, "user_id": 12382961, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-rvhQVhMOLPM/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcYZ7kEDZZaXaSDnUupiqwox6dwVA/photo.jpg?sz=128", "display_name": "Mike Landers", "link": "https://stackoverflow.com/users/12382961/mike-landers"}, "edited": false, "score": 0, "creation_date": 1575648717, "post_id": 59189838, "comment_id": 104649232, "body": "Solved, I dont need lowerCase because its a number, thanks !"}], "tags": [], "owner": {"reputation": 9729, "user_id": 4554116, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/cu8de.png?s=128&g=1", "display_name": "Julius", "link": "https://stackoverflow.com/users/4554116/julius"}, "is_accepted": true, "score": 1, "last_activity_date": 1575538761, "last_edit_date": 1575538761, "creation_date": 1575529207, "answer_id": 59189838, "question_id": 59184725, "link": "https://stackoverflow.com/questions/59184725/mat-autocomplete-display-name-but-save-user-id-value/59189838#59189838", "title": "Mat-autocomplete - Display name but save User ID value", "body": "<p>You definitely want to have stream of objects, not strings in <code>this.filteredFruits</code>. With current code base, you would have to find and id of selected string, which sounds fragile - better don't separate key/value pairs from each other or might face bugs when wrong id is used.</p>\n\n<pre><code>this.allFruits = val;\n</code></pre>\n\n<p>Then change <code>this._filter</code> function to filter <code>object[]</code> not <code>string[]</code>:</p>\n\n<pre><code>  private _filter(value: string): any[] {\n    const filterValue = value.toLowerCase();\n\n    return this.allFruits.filter(fruit =&gt; fruit.name.toLowerCase().indexOf(filterValue) === 0);\n  }\n</code></pre>\n\n<p>And for Mat Option:</p>\n\n<pre><code>&lt;mat-option *ngFor=\"let fruit of filteredFruits | async\" [value]=\"fruit.id\"&gt;    \n  {{fruit.name}}\n&lt;/mat-option&gt;\n</code></pre>\n\n<p>Now <code>fruitCtrl</code> should have an id as a value</p>\n"}], "owner": {"reputation": 420, "user_id": 12382961, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-rvhQVhMOLPM/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcYZ7kEDZZaXaSDnUupiqwox6dwVA/photo.jpg?sz=128", "display_name": "Mike Landers", "link": "https://stackoverflow.com/users/12382961/mike-landers"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 742, "favorite_count": 0, "accepted_answer_id": 59189838, "answer_count": 1, "score": 1, "last_activity_date": 1575538761, "creation_date": 1575493844, "last_edit_date": 1575498742, "question_id": 59184725, "link": "https://stackoverflow.com/questions/59184725/mat-autocomplete-display-name-but-save-user-id-value", "title": "Mat-autocomplete - Display name but save User ID value", "body": "<p>I am trying to implement autocomplete, however I want to save the selected user ID in the database.</p>\n\n<p>That is, in autocomplete I want to appear user name to select, but as a return value I do not want the name, but its ID.</p>\n\n<p>I think my problem is in this line:</p>\n\n<pre><code>this.userService.getUsers().subscribe(\n      (val: any[]) =&gt;{\n        this.allFruits = val.map(user =&gt; user.username);\n        this.fruitCtrl.setValue(null); \n      } \n    )\n</code></pre>\n\n<p><strong>My Code --Stackblitz</strong></p>\n\n<p><a href=\"https://stackblitz.com/edit/angular-fcbmzy-nrauuk?file=app%2Fchips-autocomplete-example.html\" rel=\"nofollow noreferrer\">Stackblitz</a></p>\n\n<p><strong>Component</strong></p>\n\n<pre><code>constructor(private userService: UserService) {\n    this.filteredFruits = this.fruitCtrl.valueChanges.pipe(\n        startWith(null),\n        map((fruit: string | null) =&gt; fruit ? this._filter(fruit) : this.allFruits.slice()));\n  }\n\n  ngOnInit() {\n    this.userService.getUsers().subscribe(\n      (val: any[]) =&gt;{\n        this.allFruits = val.map(user =&gt; user.username);\n        this.fruitCtrl.setValue(null); \n      } \n    )\n  }\n\n  remove(fruit: string): void {\n    const index = this.fruits.indexOf(fruit);\n\n    if (index &gt;= 0) {\n      this.fruits.splice(index, 1);\n    }\n  }\n\n  selected(event: MatAutocompleteSelectedEvent): void {\n    this.fruits.push(event.option.viewValue);\n    this.fruitInput.nativeElement.value = '';\n    this.fruitCtrl.setValue(null);\n  }\n\n  private _filter(value: string): string[] {\n    const filterValue = value.toLowerCase();\n\n    return this.allFruits.filter(fruit =&gt; fruit.toLowerCase().indexOf(filterValue) === 0);\n  }\n</code></pre>\n\n<p><strong>HTML</strong></p>\n\n<pre><code>&lt;mat-form-field class=\"example-chip-list\"&gt;\n  &lt;mat-chip-list #chipList&gt;\n    &lt;mat-chip\n      *ngFor=\"let fruit of fruits\"\n      [selectable]=\"selectable\"\n      [removable]=\"removable\"\n      (removed)=\"remove(fruit)\"&gt;\n      {{fruit}}\n      &lt;mat-icon matChipRemove *ngIf=\"removable\"&gt;cancel&lt;/mat-icon&gt;\n    &lt;/mat-chip&gt;\n    &lt;input\n      placeholder=\"New fruit...\"\n      #fruitInput\n      [formControl]=\"fruitCtrl\"\n      [matAutocomplete]=\"auto\"\n      [matChipInputFor]=\"chipList\"\n      [matChipInputSeparatorKeyCodes]=\"separatorKeysCodes\"\n      [matChipInputAddOnBlur]=\"addOnBlur\"\n      (matChipInputTokenEnd)=\"add($event)\"&gt;\n  &lt;/mat-chip-list&gt;\n  &lt;mat-autocomplete #auto=\"matAutocomplete\" (optionSelected)=\"selected($event)\"&gt;\n    &lt;mat-option *ngFor=\"let fruit of filteredFruits | async\" [value]=\"fruit\"&gt;\n      {{fruit}}\n    &lt;/mat-option&gt;\n  &lt;/mat-autocomplete&gt;\n&lt;/mat-form-field&gt;\n</code></pre>\n"}, {"tags": ["typescript"], "comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user9765720"}, "edited": false, "score": 0, "creation_date": 1575499895, "post_id": 59184570, "comment_id": 104591685, "body": "It&#39;s intentional and by design as written <a href=\"https://github.com/Microsoft/TypeScript/issues/12870#issuecomment-266637861\" rel=\"nofollow noreferrer\">here</a>. Does this answer your question? <a href=\"https://stackoverflow.com/questions/52856496/typescript-object-keys-return-string\">TypeScript: Object.keys return string&#91;&#93;</a>"}, {"owner": {"reputation": 5447, "user_id": 323929, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/969983b092e76c42d82380da3ecec1c7?s=128&d=identicon&r=PG", "display_name": "DexterW", "link": "https://stackoverflow.com/users/323929/dexterw"}, "edited": false, "score": 0, "creation_date": 1575500095, "post_id": 59184570, "comment_id": 104591749, "body": "Is all this to have type checking when indexing the array so you don&#39;t blow up?  I&#39;d like to understand the context of this question a bit more.  Is <code>list</code> always defined as a constant immediately above the index type?  Why not use a string enum?"}, {"owner": {"reputation": 806, "user_id": 1403226, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6673cb7e8afa4e6953dbdfdcad9402b6?s=128&d=identicon&r=PG", "display_name": "klaasman", "link": "https://stackoverflow.com/users/1403226/klaasman"}, "reply_to_user": {"reputation": 5447, "user_id": 323929, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/969983b092e76c42d82380da3ecec1c7?s=128&d=identicon&r=PG", "display_name": "DexterW", "link": "https://stackoverflow.com/users/323929/dexterw"}, "edited": false, "score": 0, "creation_date": 1575537097, "post_id": 59184570, "comment_id": 104602226, "body": "@DexterW The current use-case is a typed prop for a react component. The component can receive a prop which should be an existing index of an array which is defined somewhere in a theme (e.g. the prop <code>marginTop={3}</code> where the array inside a theme is <code>{ margins: [0, 4, 8, 16, ...] }</code>."}, {"owner": {"reputation": 806, "user_id": 1403226, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6673cb7e8afa4e6953dbdfdcad9402b6?s=128&d=identicon&r=PG", "display_name": "klaasman", "link": "https://stackoverflow.com/users/1403226/klaasman"}, "edited": false, "score": 0, "creation_date": 1575537133, "post_id": 59184570, "comment_id": 104602245, "body": "@KamNadimi thanks for those links. It does not answer my question but does give some more insights."}], "answers": [{"comments": [{"owner": {"reputation": 806, "user_id": 1403226, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6673cb7e8afa4e6953dbdfdcad9402b6?s=128&d=identicon&r=PG", "display_name": "klaasman", "link": "https://stackoverflow.com/users/1403226/klaasman"}, "edited": false, "score": 0, "creation_date": 1575537823, "post_id": 59185836, "comment_id": 104602565, "body": "Thanks for this answer, it looks like a nice escape hatch if there&#39;s no other more suitable solution :-)"}], "tags": [], "owner": {"reputation": 15749, "user_id": 4420812, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9yQ4D.jpg?s=128&g=1", "display_name": "Maciej Sikora", "link": "https://stackoverflow.com/users/4420812/maciej-sikora"}, "is_accepted": false, "score": 1, "last_activity_date": 1575500568, "creation_date": 1575500568, "answer_id": 59185836, "question_id": 59184570, "link": "https://stackoverflow.com/questions/59184570/get-index-type-of-an-array-literal/59185836#59185836", "title": "Get index type of an array literal", "body": "<p>What you get is the <a href=\"https://github.com/Microsoft/TypeScript/issues/12870\" rel=\"nofollow noreferrer\">designed behavior</a>. But we can achieve what you need by some mapping hack:</p>\n\n<pre><code>const list = ['foo', 'bar', 'baz'] as const;\n\ntype StrNum = {\n  \"0\": 0,\n  \"1\": 1,\n  \"2\": 2,\n  \"3\": 3,\n  \"4\": 4 // if your tuple will be longer extend this for it\n}\n\ntype MapToNum&lt;A extends keyof StrNum&gt; = {\n  [K in A]: StrNum[K]\n}[A] // this maps string keys into number by using StrNum type\n\ntype ListIndex = MapToNum&lt;Exclude&lt;keyof (typeof list), keyof []&gt;&gt;;\n// result type 0 | 1 | 2\n\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 806, "user_id": 1403226, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6673cb7e8afa4e6953dbdfdcad9402b6?s=128&d=identicon&r=PG", "display_name": "klaasman", "link": "https://stackoverflow.com/users/1403226/klaasman"}, "edited": false, "score": 0, "creation_date": 1575537772, "post_id": 59187769, "comment_id": 104602538, "body": "Thanks for your exhaustive answer, but I&#39;m afraid this is one step too deep into TS for me :-) The answer might lay right in front of me, but could you update your answer with the example on creating the actual numeric union type with the array literal as input?"}, {"owner": {"reputation": 6143, "user_id": 778430, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/oyv6J.png?s=128&g=1", "display_name": "KRyan", "link": "https://stackoverflow.com/users/778430/kryan"}, "reply_to_user": {"reputation": 806, "user_id": 1403226, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6673cb7e8afa4e6953dbdfdcad9402b6?s=128&d=identicon&r=PG", "display_name": "klaasman", "link": "https://stackoverflow.com/users/1403226/klaasman"}, "edited": false, "score": 0, "creation_date": 1575550860, "post_id": 59187769, "comment_id": 104609658, "body": "@klaasman Sure; sorry that was unclear. It\u2019s just <code>type ListIndex = IndicesOf&lt;typeof list&gt;</code>. I\u2019ll add that to the answer."}], "tags": [], "owner": {"reputation": 6143, "user_id": 778430, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/oyv6J.png?s=128&g=1", "display_name": "KRyan", "link": "https://stackoverflow.com/users/778430/kryan"}, "is_accepted": true, "score": 1, "last_activity_date": 1575551855, "last_edit_date": 1575551855, "creation_date": 1575516328, "answer_id": 59187769, "question_id": 59184570, "link": "https://stackoverflow.com/questions/59184570/get-index-type-of-an-array-literal/59187769#59187769", "title": "Get index type of an array literal", "body": "<p>There isn\u2019t a built-in way to get this, which is pretty annoying. There are open issues looking for ways to handle this, but right now we have to work around it.</p>\n\n<p>This is what I use to do that in my own project:</p>\n\n<pre><code>/** Type of the elements in an array */\ntype ElementOf&lt;T&gt; = T extends (infer E)[] ? E : T extends readonly (infer E)[] ? E : never;\n\n/** Used internally for `Tail`. */\ntype AsFunctionWithArgsOf&lt;T extends unknown[] | readonly unknown[]&gt; = (...args: T) =&gt; any;\n\n/** Used internally for `Tail` */\ntype TailArgs&lt;T&gt; = T extends (x: any, ...args: infer T) =&gt; any ? T : never;\n\n/** Elements of an array after the first. */\ntype Tail&lt;T extends unknown[] | readonly unknown[]&gt; = TailArgs&lt;AsFunctionWithArgsOf&lt;T&gt;&gt;;\n\n/** Used internally for `IndicesOf`; probably useless outside of that. */\ntype AsDescendingLengths&lt;T extends unknown[] | readonly unknown[]&gt; =\n    [] extends T ? [0] :\n    [ElementOf&lt;ElementOf&lt;AsDescendingLengths&lt;Tail&lt;T&gt;&gt;[]&gt;&gt;, T['length']];\n\n/** Union of numerical literals corresponding to a tuple's possible indices */\ntype IndicesOf&lt;T extends unknown[] | readonly unknown[]&gt; =\n    number extends T['length'] ? number :\n    [] extends T ? never :\n    ElementOf&lt;AsDescendingLengths&lt;Tail&lt;T&gt;&gt;&gt;;\n</code></pre>\n\n<p>With this, your code would look like</p>\n\n<pre><code>const list = ['foo', 'bar', 'baz'] as const;\n\ntype ListIndex = IndicesOf&lt;typeof list&gt;;\n</code></pre>\n\n<p>The idea behind this is that one way to get actual numbers that are <em>related</em> to the indices is to look into the <code>T['length']</code> type (where <code>type T = typeof list</code>). That number, of course, will be 1 greater than the greatest index in the array\u2014so if we can chop an element off of the array, the length will be the greatest index. Continue chopping until the array is empty, and each length as you go will be another index. So if you can recursively collect all the lengths as you pop elements off the tuple, you\u2019ll get all the indices.</p>\n\n<p>So in order to do that, we define <code>Tail</code> as the same tuple type except without the first element\u2014I have also seen this type called <code>Pop</code>. But Typescript has limited options for manipulating tuples, so in order to implement <code>Tail</code> we need to use the tuple as the arguments of a function. That gives us more options for modifying it.</p>\n\n<p><code>ElementOf</code> does what it says, returns an element of the array. We use that to get a union instead of another tuple.</p>\n\n<p><code>AsDescendingLengths</code> actually performs the recursion and the getting of lengths. <code>AsDescendingLengths&lt;['foo', 'bar']&gt;</code> is <code>[0, 1]</code>. The ridiculous <code>[ElementOf&lt;ElementOf&lt;</code> in <code>AsDescendingLengths</code> is to get around Typescript\u2019s attempts to prevent recursive types\u2014which probably means that this is a <em>really</em> bad idea for particularly-long tuples, as recursive types are avoided for performance reasons. I have used it without issue on tuples of length 20 or so.</p>\n\n<p><code>ElementOf</code> and <code>Tail</code> are also useful in their own rights, of course. The function-argument manipulations also have some other uses for producing types like these. Hard to imagine <code>AsDescendingLengths</code> having any other use, but oh well. I personally put these in an ambient <code>.d.ts</code> file, so I don\u2019t import them into files\u2014which has the downside of polluting the scope with them. Up to you if that\u2019s desirable or not.</p>\n\n<p>Another example usage:</p>\n\n<pre><code>interface Array&lt;T&gt; {\n    /**\n     * Returns the index of the first occurrence of a value in an array.\n     * @param searchElement The value to locate in the array.\n     * @param fromIndex The array index at which to begin the search.\n     * If `fromIndex` is omitted, the search starts at index 0.\n     * Returns -1 if `searchElement` is not found.\n     */\n    indexOf&lt;This extends T[], T&gt;(this: This, searchElement: T, fromIndex?: IndicesOf&lt;This&gt;): -1 | IndicesOf&lt;This&gt;;\n}\n\ninterface ReadonlyArray&lt;T&gt; {\n    /**\n     * Returns the index of the first occurrence of a value in an array.\n     * @param searchElement The value to locate in the array.\n     * @param fromIndex The array index at which to begin the search.\n     * If `fromIndex` is omitted, the search starts at index 0.\n     * Returns -1 if `searchElement` is not found.\n     */\n    indexOf&lt;This extends readonly T[], T&gt;(this: This, searchElement: T, fromIndex?: IndicesOf&lt;This&gt;): -1 | IndicesOf&lt;This&gt;;\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1997, "user_id": 11878963, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/42624bbe7eaf8d55c6e127d68a0c5761?s=128&d=identicon&r=PG&f=1", "display_name": "bela53", "link": "https://stackoverflow.com/users/11878963/bela53"}, "is_accepted": false, "score": 0, "last_activity_date": 1600182406, "creation_date": 1600182406, "answer_id": 63904714, "question_id": 59184570, "link": "https://stackoverflow.com/questions/59184570/get-index-type-of-an-array-literal/63904714#63904714", "title": "Get index type of an array literal", "body": "<p>You can use the following type:</p>\n<pre><code>type Indices&lt;T extends readonly any[]&gt; = Exclude&lt;Partial&lt;T&gt;[&quot;length&quot;], T[&quot;length&quot;]&gt;\n</code></pre>\n<p>Let's test it with <code>list</code>:</p>\n<pre><code>type Test = Indices&lt;typeof list&gt; // Test = 0 | 1 | 2 // works!\n</code></pre>\n<p><a href=\"https://www.typescriptlang.org/play?#code/MYewdgzgLgBANgS2jAvDA2gcgGYhJgGhkwCMBDAJ0OPIC9MBdGMiGUSKAbgChuoBPAA4BTGAGUoFBGADmASTAATBMGGs0AUQAewOAFdFwgDwBrYfxDYYACgEjL8JFACURMxavoGAPk4wA9P6oMABEAAwhMAA%20oQCMkTEhAEwhvHaiCsqqEEYAKjDCWlDCSqwUwmSK4HD8zGD8Xt7B2roGxgAKlFAIZHB53ughcCUyUAAWIQxEuYPDsuOT3nxCorlqsGiZKmpG6Q6I0E2BwWHRMLFnSUA\" rel=\"nofollow noreferrer\">Live playground code</a></p>\n"}], "owner": {"reputation": 806, "user_id": 1403226, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6673cb7e8afa4e6953dbdfdcad9402b6?s=128&d=identicon&r=PG", "display_name": "klaasman", "link": "https://stackoverflow.com/users/1403226/klaasman"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 295, "favorite_count": 0, "accepted_answer_id": 59187769, "answer_count": 3, "score": 2, "last_activity_date": 1600182406, "creation_date": 1575492942, "last_edit_date": 1575499101, "question_id": 59184570, "link": "https://stackoverflow.com/questions/59184570/get-index-type-of-an-array-literal", "title": "Get index type of an array literal", "body": "<p>Assume I have the following array literal:</p>\n\n<pre><code>const list = ['foo', 'bar', 'baz'] as const;\n</code></pre>\n\n<p>I'm trying to generate a type which represents possible indices of this array. I tried to implement this as follows:</p>\n\n<pre><code>const list = ['foo', 'bar', 'baz'] as const;\n\ntype ListIndex = Exclude&lt;keyof (typeof list), keyof []&gt;;\n</code></pre>\n\n<p>but that <code>ListIndex</code> now becomes <code>\"0\" | \"1\" | \"2\"</code> instead of <code>0 | 1 | 2</code>.</p>\n\n<p>Can anyone tell me how to get the desired <code>0 | 1 | 2</code> type?</p>\n"}, {"tags": ["angular", "typescript"], "comments": [{"owner": {"reputation": 24588, "user_id": 1527544, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/6665878d41d42307eb53e9fae311a471?s=128&d=identicon&r=PG", "display_name": "Antoniossss", "link": "https://stackoverflow.com/users/1527544/antoniossss"}, "edited": false, "score": 0, "creation_date": 1575493031, "post_id": 59184512, "comment_id": 104589517, "body": "isnt there an observable for that ?"}, {"owner": {"reputation": 24588, "user_id": 1527544, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/6665878d41d42307eb53e9fae311a471?s=128&d=identicon&r=PG", "display_name": "Antoniossss", "link": "https://stackoverflow.com/users/1527544/antoniossss"}, "edited": false, "score": 0, "creation_date": 1575493135, "post_id": 59184512, "comment_id": 104589565, "body": "You can always hook into ngDetectChanges and do it manually there."}, {"owner": {"reputation": 8702, "user_id": 828547, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/8ed7d7d8f26f5b8c1adb434e1bca4bae?s=128&d=identicon&r=PG&f=1", "display_name": "Jack", "link": "https://stackoverflow.com/users/828547/jack"}, "reply_to_user": {"reputation": 24588, "user_id": 1527544, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/6665878d41d42307eb53e9fae311a471?s=128&d=identicon&r=PG", "display_name": "Antoniossss", "link": "https://stackoverflow.com/users/1527544/antoniossss"}, "edited": false, "score": 0, "creation_date": 1575493197, "post_id": 59184512, "comment_id": 104589592, "body": "@antoniossss - that would require manually tracking the enabled/disabled state of all controls. Doable, but this seems OTT given this approach is not needed for any of the properties cited in my question (IMO)."}, {"owner": {"reputation": 42740, "user_id": 1031569, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/MTZr2.png?s=128&g=1", "display_name": "Reactgular", "link": "https://stackoverflow.com/users/1031569/reactgular"}, "edited": false, "score": 0, "creation_date": 1575497283, "post_id": 59184512, "comment_id": 104590897, "body": "have you tried? <code>person.statusChanges.pipe(map(()=&gt;person.disabled)).subscrib&zwnj;&#8203;e(value =&gt; console.log(value));</code>"}], "answers": [{"comments": [{"owner": {"reputation": 8702, "user_id": 828547, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/8ed7d7d8f26f5b8c1adb434e1bca4bae?s=128&d=identicon&r=PG&f=1", "display_name": "Jack", "link": "https://stackoverflow.com/users/828547/jack"}, "edited": false, "score": 0, "creation_date": 1575498115, "post_id": 59184628, "comment_id": 104591128, "body": "<code>statusChanges</code> only provides four possible validation status values (<code>VALID</code>, <code>INVALID</code>, <code>PENDING</code>, <code>DISABLED</code>). There is no clear way to map the status to a control and subsequently determine whether is has changed from enabled to disabled or vice versa. Here&#39;s a Stackblitz <a href=\"https://stackblitz.com/edit/formbuilder-uqisum\" rel=\"nofollow noreferrer\">stackblitz.com/edit/formbuilder-uqisum</a>"}, {"owner": {"reputation": 24588, "user_id": 1527544, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/6665878d41d42307eb53e9fae311a471?s=128&d=identicon&r=PG", "display_name": "Antoniossss", "link": "https://stackoverflow.com/users/1527544/antoniossss"}, "reply_to_user": {"reputation": 8702, "user_id": 828547, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/8ed7d7d8f26f5b8c1adb434e1bca4bae?s=128&d=identicon&r=PG&f=1", "display_name": "Jack", "link": "https://stackoverflow.com/users/828547/jack"}, "edited": false, "score": 0, "creation_date": 1575531848, "post_id": 59184628, "comment_id": 104600011, "body": "use <a href=\"https://angular.io/api/forms/FormControl#registerOnDisabledChange\" rel=\"nofollow noreferrer\">angular.io/api/forms/FormControl#registerOnDisabledChange</a>"}], "tags": [], "owner": {"reputation": 24588, "user_id": 1527544, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/6665878d41d42307eb53e9fae311a471?s=128&d=identicon&r=PG", "display_name": "Antoniossss", "link": "https://stackoverflow.com/users/1527544/antoniossss"}, "is_accepted": false, "score": 2, "last_activity_date": 1575531841, "last_edit_date": 1575531841, "creation_date": 1575493253, "answer_id": 59184628, "question_id": 59184512, "link": "https://stackoverflow.com/questions/59184512/get-all-angular-form-controls-that-have-changed-from-enabled-to-disabled-or-vic/59184628#59184628", "title": "Get all Angular form controls that have changed from enabled to disabled, or vice versa?", "body": "<p>You can try to give a shot to listen for control status changes - one of them is <code>disabled</code> </p>\n\n<p><a href=\"https://angular.io/api/forms/AbstractControl#status\" rel=\"nofollow noreferrer\">https://angular.io/api/forms/AbstractControl#status</a> </p>\n\n<p><a href=\"https://angular.io/api/forms/AbstractControl#statusChanges\" rel=\"nofollow noreferrer\">https://angular.io/api/forms/AbstractControl#statusChanges</a></p>\n\n<p>EDIT:</p>\n\n<p>There is obvious method for that, but it is called <code>registerOnDisabledChange</code></p>\n\n<p><a href=\"https://angular.io/api/forms/FormControl#registerOnDisabledChange\" rel=\"nofollow noreferrer\">https://angular.io/api/forms/FormControl#registerOnDisabledChange</a></p>\n\n<p>Showcase forked form your stackblitz <a href=\"https://stackblitz.com/edit/formbuilder-soydhk\" rel=\"nofollow noreferrer\">https://stackblitz.com/edit/formbuilder-soydhk</a></p>\n\n<p>If you need to listen for that on controll level, nothing stands in your way to write aggregating listener.</p>\n"}], "owner": {"reputation": 8702, "user_id": 828547, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/8ed7d7d8f26f5b8c1adb434e1bca4bae?s=128&d=identicon&r=PG&f=1", "display_name": "Jack", "link": "https://stackoverflow.com/users/828547/jack"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 547, "favorite_count": 1, "answer_count": 1, "score": 3, "last_activity_date": 1575552603, "creation_date": 1575492642, "last_edit_date": 1575552603, "question_id": 59184512, "link": "https://stackoverflow.com/questions/59184512/get-all-angular-form-controls-that-have-changed-from-enabled-to-disabled-or-vic", "title": "Get all Angular form controls that have changed from enabled to disabled, or vice versa?", "body": "<p><strong>TL,DR</strong>; A <a href=\"https://angular.io/api/forms/FormGroup\" rel=\"nofollow noreferrer\">FormGroup</a> is not considered <a href=\"https://angular.io/api/forms/AbstractControl#dirty\" rel=\"nofollow noreferrer\">dirty</a> when a nested <a href=\"https://angular.io/api/forms/FormControl\" rel=\"nofollow noreferrer\">FormControl</a> is changed from disabled to enabled, or vice versa.</p>\n\n<p><strong>Detail</strong>; What is a good way of getting all form controls belonging to a <a href=\"https://angular.io/api/forms/FormGroup\" rel=\"nofollow noreferrer\">FormGroup</a>, that have changed from <em>enabled</em> to <em>disabled</em>, or vice versa?</p>\n\n<p>As <a href=\"https://stackblitz.com/edit/formbuilder-6cjren\" rel=\"nofollow noreferrer\">this Stackblitz</a> shows, the <a href=\"https://angular.io/api/forms/AbstractControl#pristine\" rel=\"nofollow noreferrer\">pristine</a>, <a href=\"https://angular.io/api/forms/AbstractControl#dirty\" rel=\"nofollow noreferrer\">dirty</a>, <a href=\"https://angular.io/api/forms/AbstractControl#touched\" rel=\"nofollow noreferrer\">touched</a>, and <a href=\"https://angular.io/api/forms/AbstractControl#untouched\" rel=\"nofollow noreferrer\">untouched</a> properties remain unchanged when a control changes from <a href=\"https://angular.io/api/forms/AbstractControl#enable\" rel=\"nofollow noreferrer\">enabled</a> to <a href=\"https://angular.io/api/forms/AbstractControl#disable\" rel=\"nofollow noreferrer\">disabled</a>, or vice versa. </p>\n\n<pre class=\"lang-js prettyprint-override\"><code>export class AppComponent implements OnInit {\n  person: FormGroup;\n  constructor(private fb: FormBuilder) {}\n\n  ngOnInit() {\n    this.person = this.fb.group({\n      name: this.fb.control(''),\n      age: this.fb.control(100),\n    });\n  }\n}\n</code></pre>\n\n<p>The Typescript above defines a single <a href=\"https://angular.io/api/forms/FormGroup\" rel=\"nofollow noreferrer\">FormGroup</a> (<code>person</code>) with two <a href=\"https://angular.io/api/forms/FormControl\" rel=\"nofollow noreferrer\">FormControls</a> (<code>name</code> and <code>age</code>).</p>\n\n<p>The HTML below allows the <code>name</code> control to be enabled and disabled by clicking a button. Some properties are output too. </p>\n\n<pre class=\"lang-html prettyprint-override\"><code>&lt;form [formGroup]=\"person\"&gt;\n    &lt;input type=\"text\" placeholder=\"Name\" formControlName=\"name\"&gt;\n    &lt;button (click)=\"person.controls['name'].disable()\"&gt;Disable&lt;/button&gt;\n    &lt;button (click)=\"person.controls['name'].enable()\"&gt;Enable&lt;/button&gt;\n    &lt;br /&gt;\n    &lt;br /&gt;\n    &lt;input type=\"text\" placeholder=\"Age\" formControlName=\"age\"&gt;\n&lt;/form&gt;\n\n&lt;pre&gt;{{person.value | json}}&lt;/pre&gt;\n\ndisabled: {{ person.disabled }}&lt;br /&gt;\npristine: {{ person.pristine }}&lt;br /&gt;\ndirty: {{ person.dirty }}&lt;br /&gt;\ntouched: {{ person.touched }}&lt;br /&gt;\nuntouched: {{ person.untouched }}&lt;br /&gt;\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/YtlL0.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/YtlL0.png\" alt=\"enter image description here\"></a></p>\n\n<p>I'd expected it to be easy to detect when a control is:</p>\n\n<ul>\n<li>enabled (where it was previously disabled)</li>\n<li>disabled (where it was previously enabled)</li>\n</ul>\n\n<p>Unlike the <a href=\"https://angular.io/api/forms/AbstractControl#pristine\" rel=\"nofollow noreferrer\">pristine</a>, <a href=\"https://angular.io/api/forms/AbstractControl#dirty\" rel=\"nofollow noreferrer\">dirty</a>, <a href=\"https://angular.io/api/forms/AbstractControl#touched\" rel=\"nofollow noreferrer\">touched</a>, and <a href=\"https://angular.io/api/forms/AbstractControl#untouched\" rel=\"nofollow noreferrer\">untouched</a> properties, the enabled and disabled state seems transient.</p>\n\n<p>It seems there is no property of a FormGroup that reflects if child controls have been enabled or disabled away from their original state? The FormGroup remains pristine and untouched.</p>\n\n<p>It has been suggested to use <a href=\"https://angular.io/api/forms/AbstractControl#statusChanges\" rel=\"nofollow noreferrer\">statusChanges</a>. However, this only provides four possible validation status values (VALID, INVALID, PENDING, DISABLED). There is no clear way to map the status to a control and subsequently determine whether is has changed from enabled to disabled or vice versa. I've created <a href=\"https://stackblitz.com/edit/formbuilder-uqisum\" rel=\"nofollow noreferrer\">another Stackblitz</a> demonstrating this.</p>\n\n<p><strong>EDIT</strong></p>\n\n<p>I've opened a bug <a href=\"https://github.com/angular/angular/issues/34252\" rel=\"nofollow noreferrer\">FormGroup not dirty when a nested FormControl changes from disabled to enabled, or vice versa</a>.  </p>\n"}, {"tags": ["typescript", "ionic-framework", "ionic3"], "comments": [{"owner": {"reputation": 7431, "user_id": 4005366, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/b42e7e7888cd46f17946f04e8233bc77?s=128&d=identicon&r=PG&f=1", "display_name": "Sergey Rudenko", "link": "https://stackoverflow.com/users/4005366/sergey-rudenko"}, "edited": false, "score": 0, "creation_date": 1575494086, "post_id": 59184460, "comment_id": 104589884, "body": "can you share more of your code? like include a component from which you are trying to dismiss (is that app.component?) and where and how such modal gets presented? from another component?"}, {"owner": {"reputation": 435, "user_id": 5686581, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/S8WGr.jpg?s=128&g=1", "display_name": "Jayesh", "link": "https://stackoverflow.com/users/5686581/jayesh"}, "reply_to_user": {"reputation": 7431, "user_id": 4005366, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/b42e7e7888cd46f17946f04e8233bc77?s=128&d=identicon&r=PG&f=1", "display_name": "Sergey Rudenko", "link": "https://stackoverflow.com/users/4005366/sergey-rudenko"}, "edited": false, "score": 0, "creation_date": 1575496598, "post_id": 59184460, "comment_id": 104590689, "body": "yes this is app.component..."}, {"owner": {"reputation": 435, "user_id": 5686581, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/S8WGr.jpg?s=128&g=1", "display_name": "Jayesh", "link": "https://stackoverflow.com/users/5686581/jayesh"}, "reply_to_user": {"reputation": 7431, "user_id": 4005366, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/b42e7e7888cd46f17946f04e8233bc77?s=128&d=identicon&r=PG&f=1", "display_name": "Sergey Rudenko", "link": "https://stackoverflow.com/users/4005366/sergey-rudenko"}, "edited": false, "score": 0, "creation_date": 1575497115, "post_id": 59184460, "comment_id": 104590849, "body": "I am trying open NetworkComponent from app.component modalCtrl for multiple conditions,  but I want to dismiss the same before open next one"}], "owner": {"reputation": 435, "user_id": 5686581, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/S8WGr.jpg?s=128&g=1", "display_name": "Jayesh", "link": "https://stackoverflow.com/users/5686581/jayesh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 29, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1575495115, "creation_date": 1575492393, "last_edit_date": 1575495115, "question_id": 59184460, "link": "https://stackoverflow.com/questions/59184460/how-to-dismiss-a-modalctrl-from-app-component-ts-in-ionic-3", "title": "How to dismiss a modalCtrl from app.component.ts in Ionic 3", "body": "<p>Hi I am trying to dismiss a modalctrl from app.component.ts using this.viewCtrl.dismiss(); in Ionic3 , but getting below error</p>\n\n<pre><code>No provider for ViewController! \n</code></pre>\n\n<p>Is there any workaround for dismissing modalctrl from app.component.ts</p>\n\n<pre><code>/****app.component.ts***/\n    method(){\n    this.viewCtrl.dismiss();//error\n       const params = {\n          networkStatus: status,\n        };\n        this.modalCtrl\n          .create(NetworkComponent, params, {\n            showBackdrop: false,\n            enableBackdropDismiss: false,\n          })\n          .present();\n      }\n    }\n</code></pre>\n"}, {"tags": ["javascript", "typescript", "enums"], "answers": [{"tags": [], "owner": {"reputation": 105043, "user_id": 5260024, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XxSHe.jpg?s=128&g=1", "display_name": "Jonas Wilms", "link": "https://stackoverflow.com/users/5260024/jonas-wilms"}, "is_accepted": true, "score": 1, "last_activity_date": 1575492291, "creation_date": 1575492291, "answer_id": 59184442, "question_id": 59184158, "link": "https://stackoverflow.com/questions/59184158/mapping-typescript-enums-by-their-keys-without-using-a-map/59184442#59184442", "title": "Mapping Typescript Enums by their keys without using a Map?", "body": "<pre><code>  const categoryToTopic = { \"Guides\" : \"guide\", /*...*/ };\n\n  type TopicCategories = keyof typeof categoryToTopic;\n  type TopicTypes = (typeof categoryToTopic)[TopicCategories];\n</code></pre>\n\n<p>Not quite. enums only work well with primitives, therefore you can't directly store more data on the enums.</p>\n"}], "owner": {"reputation": 29171, "user_id": 1684269, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/5adbf1d60d27b9ee3aeee069591ba88b?s=128&d=identicon&r=PG", "display_name": "Ole", "link": "https://stackoverflow.com/users/1684269/ole"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 30, "favorite_count": 0, "accepted_answer_id": 59184442, "answer_count": 1, "score": 1, "last_activity_date": 1575492291, "creation_date": 1575491072, "question_id": 59184158, "link": "https://stackoverflow.com/questions/59184158/mapping-typescript-enums-by-their-keys-without-using-a-map", "title": "Mapping Typescript Enums by their keys without using a Map?", "body": "<p>Have the following Enum instances:</p>\n\n<pre><code>export enum TopicCategories {\n    GUIDES = 'Guides',\n    TASKS = 'Tasks',\n    CONCEPTS = 'Concepts',\n    FORMULAS = 'Formulas',\n    BLOGS = 'Blogs'\n}\n\nexport enum TopicTypes {\n    GUIDES = 'guide',\n    TASK = 'task',\n    CONCEPT = 'concept',\n    FORMULA = 'formula',\n    BLOG = 'blog'\n}\n\nexport const topicCategoryToTopicTypeMap:Map&lt;TopicCategories, TopicTypes&gt; = new Map();\n\ntopicCategoryToTopicTypeMap.set(TopicCategories.BLOGS, TopicTypes.BLOG);\n\n</code></pre>\n\n<p>The <code>topicCategoryToTopicTypeMap:Map</code> instance will allow me to get the <code>TopicType.BLOG</code> using the <code>TopicCategory.BLOG</code> as a key value.</p>\n\n<p>Is there a way to do this directly using only the <code>Enum</code> instances.  In other words is it possible to eliminate the <code>Map</code> instance and perform the mapping directly?</p>\n"}, {"tags": ["javascript", "typescript"], "comments": [{"owner": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "edited": false, "score": 3, "creation_date": 1575490674, "post_id": 59183989, "comment_id": 104588568, "body": "See the <a href=\"http://www.typescriptlang.org/docs/handbook/basic-types.html#any\" rel=\"nofollow noreferrer\">documentation</a>.  The <code>any</code> type allows you to <i>opt out</i> of type checking for parts of your code that cannot easily be made type safe.  It&#39;s best to use it sparingly, if at all.  I&#39;m almost positive there&#39;s a canonical Stack Overflow question/answer for this; searching..."}, {"owner": {"reputation": 10321, "user_id": 215552, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/26bda02894d869c95f620de4b7cd386d?s=128&d=identicon&r=PG", "display_name": "Heretic Monkey", "link": "https://stackoverflow.com/users/215552/heretic-monkey"}, "edited": false, "score": 1, "creation_date": 1575490721, "post_id": 59183989, "comment_id": 104588586, "body": "Try changing that to <code>x = y;</code> The compiler should warn you that you are trying to assign a number to a string (or something to a string)."}, {"owner": {"reputation": 507143, "user_id": 1048572, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/7f2c4de95e8f4f8f5a71c3aaf0ed312a?s=128&d=identicon&r=PG", "display_name": "Bergi", "link": "https://stackoverflow.com/users/1048572/bergi"}, "edited": false, "score": 0, "creation_date": 1575490732, "post_id": 59183989, "comment_id": 104588595, "body": "&quot;<i>if every variable is a sort of &quot;any&quot;</i>&quot; - you&#39;ve answered your own question there. <code>any</code> is precisely the type that we need a variable to have if it needs to hold any value."}, {"owner": {"reputation": 5738, "user_id": 7496073, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/9ad17da5f307d0462eff39880d8f105b?s=128&d=identicon&r=PG&f=1", "display_name": "John Montgomery", "link": "https://stackoverflow.com/users/7496073/john-montgomery"}, "edited": false, "score": 0, "creation_date": 1575490824, "post_id": 59183989, "comment_id": 104588632, "body": "&quot;For example, these codes output would be always yes for whatever value of x and y&quot; Well yeah, because they have the same value. Why wouldn&#39;t you expect them to be equal? For the record, all the type information is lost when your code is transpiled to JavaScript anyway - it has no idea what &quot;any&quot; is. The type information is only there to make it easier for you as a developer."}, {"owner": {"reputation": 507143, "user_id": 1048572, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/7f2c4de95e8f4f8f5a71c3aaf0ed312a?s=128&d=identicon&r=PG", "display_name": "Bergi", "link": "https://stackoverflow.com/users/1048572/bergi"}, "edited": false, "score": 1, "creation_date": 1575490916, "post_id": 59183989, "comment_id": 104588673, "body": "&quot;<i>these codes output would be always yes for whatever value of x and y</i>&quot; - except for <code>NaN</code> :-P"}, {"owner": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "edited": false, "score": 0, "creation_date": 1575490940, "post_id": 59183989, "comment_id": 104588686, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/a/46673732/2887218\">Type intersections using any</a>"}, {"owner": {"reputation": 80516, "user_id": 227299, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/6483c2f0fcf64b578c55ca0df7e01096?s=128&d=identicon&r=PG", "display_name": "Juan Mendes", "link": "https://stackoverflow.com/users/227299/juan-mendes"}, "edited": false, "score": 0, "creation_date": 1575491478, "post_id": 59183989, "comment_id": 104588905, "body": "It&#39;s unclear what the question is. As HereticMonkey explained, <code>x</code> is not of type <code>any</code>. Also note that many compile with <code>--noImplicitAny</code> to prevent any being inferred forcing you to explicitly say <code>any</code> in the rare cases you may need it. In your case, you need to type <code>y</code> as <code>any</code>, otherwise it would be inferred as a number and the compiler would not allow you to assign <code>x</code> (an inferred string) to it"}], "answers": [{"comments": [{"owner": {"reputation": 80516, "user_id": 227299, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/6483c2f0fcf64b578c55ca0df7e01096?s=128&d=identicon&r=PG", "display_name": "Juan Mendes", "link": "https://stackoverflow.com/users/227299/juan-mendes"}, "edited": false, "score": 1, "creation_date": 1575491561, "post_id": 59184232, "comment_id": 104588945, "body": "I mentioned something similar in a comment, wasn&#39;t sure if this was what the OP was asking about. But the OP does seem to be misunderstanding inferred types and understanding <code>--noImplicitAny</code> is likely what will help them clear it up."}], "tags": [], "owner": {"reputation": 108213, "user_id": 27423, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/CoNYx.jpg?s=128&g=1", "display_name": "Daniel Earwicker", "link": "https://stackoverflow.com/users/27423/daniel-earwicker"}, "is_accepted": false, "score": 1, "last_activity_date": 1575491425, "creation_date": 1575491425, "answer_id": 59184232, "question_id": 59183989, "link": "https://stackoverflow.com/questions/59183989/why-do-we-need-the-any-type-in-typescript/59184232#59184232", "title": "Why do we need the any type in Typescript?", "body": "<p><em>if every variable is a sort of \"any\", I assume if you don't specify the type</em></p>\n\n<p>This is true, but if you run TypeScript with the flag <code>--noImplicitAny</code> then TypeScript will no longer assume variables should have the type <code>any</code> in most situations, e.g.</p>\n\n<pre><code>function foo(x) {\n    // x is of type any\n}\n</code></pre>\n\n<p>The above will generate an error in <code>--noImplicitAny</code> mode. And so if in this specific situation you wanted <code>x</code> to be <code>any</code>, you'd have to request it explicitly:</p>\n\n<pre><code>function foo(x: any) {\n    // x is of type any\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 6143, "user_id": 778430, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/oyv6J.png?s=128&g=1", "display_name": "KRyan", "link": "https://stackoverflow.com/users/778430/kryan"}, "is_accepted": true, "score": 2, "last_activity_date": 1575517798, "creation_date": 1575517798, "answer_id": 59187961, "question_id": 59183989, "link": "https://stackoverflow.com/questions/59183989/why-do-we-need-the-any-type-in-typescript/59187961#59187961", "title": "Why do we need the any type in Typescript?", "body": "<p>The <code>any</code> type is an escape hatch\u2014it allows you to effectively <em>turn off</em> Typescript\u2019s type checking. Sometimes, there just isn\u2019t a good way to tell Typescript what you are doing, so you use <code>any</code> to work around that.</p>\n\n<p>And types are not necessarily <code>any</code> when you leave off a type annotation\u2014in many cases, Typescript will <em>infer</em> a type, and then enforce that. <code>let x = 2;</code> will infer <code>x</code> as having type <code>number</code>\u2014and using <code>x = \"cat\";</code> later will create an error. In such cases, you must use <code>any</code> if that\u2019s what you want.</p>\n\n<p>There are other cases where you have to use <code>any</code> explicitly, and could not just \u201cleave it out,\u201d for example, with generic types:</p>\n\n<pre><code>type Pair&lt;A, B&gt; = [A, B];\n\ndeclare function needsSomethingPairedWithString(value: Pair&lt;any, string&gt;): void;\n</code></pre>\n\n<p>For this <code>needsSomethingPairedWithString</code> function, we don\u2019t care what the first element of the pair is\u2014maybe we\u2019ll test its type, maybe we won\u2019t even use it, whatever, but the point is we don\u2019t care. But we want to specify that the second element of the <code>Pair</code> is <code>string</code>. So we need to write <code>Pair&lt;any, string&gt;</code> to indicate that.</p>\n\n<p>In many cases it is preferable to use <code>unknown</code> to <code>any</code> for these kinds of purposes\u2014<code>unknown</code>\u2019s meaning is closer to \u201cdon\u2019t know and don\u2019t care\u201d than <code>any</code>\u2019s is. However, particularly when dealing with constraints, <code>any</code> can be the correct type.</p>\n\n<p>Finally, note the existence of the <code>--noImplicitAny</code> compiler flag: this will cause cases where <code>any</code> <em>is</em> inferred for a type to become errors. That forces you to either fix things so they are inferred correctly, annotate the correct type, or at the very least, explicitly annotate the <code>any</code> type. This is <strong>highly recommended</strong> for projects that start from the beginning using Typescript\u2014implicit <code>any</code> should be reserved for projects gradually converting Javascript to Typescript, as it is a potential source of many bugs. Using <code>--noImplicitAny</code> forces you to be explicit about <code>any</code>, which means it will be immediately obvious to any developers reading it later that <code>any</code> is being used. This is important because <code>any</code> means that things are <em>not</em> going to be as safe as you\u2019d like.</p>\n"}], "owner": {"reputation": 35, "user_id": 12335160, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-ZG-IJJytkrc/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rf4wASDvJICtjTnwQsPUUweoWTT-A/photo.jpg?sz=128", "display_name": "Filip Machaj", "link": "https://stackoverflow.com/users/12335160/filip-machaj"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 357, "favorite_count": 0, "closed_date": 1575588391, "accepted_answer_id": 59187961, "answer_count": 2, "score": 3, "last_activity_date": 1575517798, "creation_date": 1575490340, "last_edit_date": 1575490564, "question_id": 59183989, "link": "https://stackoverflow.com/questions/59183989/why-do-we-need-the-any-type-in-typescript", "closed_reason": "Duplicate", "title": "Why do we need the any type in Typescript?", "body": "<p>I'm starting to learn Typescript.\nAnd I'm wondering why do we need <code>any</code> type if every variable is a sort of \"any\", I assume if you don't specify the type.</p>\n\n<p>For example, these codes output would be always yes for whatever value of x and y:</p>\n\n<pre><code>var x = \"d\";\nvar y: any = 5 ;\nalert(y);\ny = x ;\nalert(y);\nif (x===y) \n  alert(\"yes\");\nelse\n  alert(\"no\");\n</code></pre>\n"}, {"tags": ["javascript", "angular", "typescript"], "comments": [{"owner": {"reputation": 56, "user_id": 11730828, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9efb3df4bff649b7168e1634561f25e8?s=128&d=identicon&r=PG&f=1", "display_name": "Pierre D", "link": "https://stackoverflow.com/users/11730828/pierre-d"}, "edited": false, "score": 0, "creation_date": 1575487928, "post_id": 59183329, "comment_id": 104587441, "body": "You edit items in service and expect products in component edited instead ?"}, {"owner": {"reputation": 1757, "user_id": 1433107, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/311ae28285121bb38f0ec1b6717d1aca?s=128&d=identicon&r=PG", "display_name": "ulmas", "link": "https://stackoverflow.com/users/1433107/ulmas"}, "edited": false, "score": 1, "creation_date": 1575487944, "post_id": 59183329, "comment_id": 104587447, "body": "Thanks for posting a detailed question! Can you clarify what are you expecting to see? You can edit the question with the expected result."}, {"owner": {"reputation": 2953, "user_id": 5133088, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/d0efad94ced5dcd194c0a482cafd4f7b?s=128&d=identicon&r=PG&f=1", "display_name": "Jeroen Heier", "link": "https://stackoverflow.com/users/5133088/jeroen-heier"}, "edited": false, "score": 0, "creation_date": 1575489096, "post_id": 59183329, "comment_id": 104587914, "body": "Did you try to debug the CartService?"}], "answers": [{"comments": [{"owner": {"reputation": 21, "user_id": 11773053, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-sxMSV3imcec/AAAAAAAAAAI/AAAAAAAANUk/D3rMWYzfTns/photo.jpg?sz=128", "display_name": "Roman Rojas", "link": "https://stackoverflow.com/users/11773053/roman-rojas"}, "edited": false, "score": 0, "creation_date": 1575505858, "post_id": 59184020, "comment_id": 104593214, "body": "I&#39;ve updated the description. The basket should mutate and not the product that the user adds to the basket."}, {"owner": {"reputation": 21, "user_id": 11773053, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-sxMSV3imcec/AAAAAAAAAAI/AAAAAAAANUk/D3rMWYzfTns/photo.jpg?sz=128", "display_name": "Roman Rojas", "link": "https://stackoverflow.com/users/11773053/roman-rojas"}, "edited": false, "score": 0, "creation_date": 1575590255, "post_id": 59184020, "comment_id": 104627752, "body": "I&#39;ve been passing the product object as a reference instead of a value. I fixed the issue by using Object.assign({}, product)"}], "tags": [], "owner": {"reputation": 6381, "user_id": 12354911, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8Sz0V.jpg?s=128&g=1", "display_name": "Eldar", "link": "https://stackoverflow.com/users/12354911/eldar"}, "is_accepted": false, "score": 0, "last_activity_date": 1575561616, "last_edit_date": 1575561616, "creation_date": 1575490462, "answer_id": 59184020, "question_id": 59183329, "link": "https://stackoverflow.com/questions/59183329/angular-original-array-of-objects-gets-modified-when-function-should-modify-the/59184020#59184020", "title": "Angular original array of objects gets modified when function should modify the new array", "body": "<p>This returns a reference :</p>\n\n<pre><code> getItems() {\n    return this.items;\n    console.log(this.items);\n  }\n</code></pre>\n\n<p>And you assign it your basket :</p>\n\n<pre><code>ngOnInit() {\n    this.basket = this.cartService.getItems();\n  }\n</code></pre>\n\n<p>So they both points the same reference. When you make changes on your cart service items you also modifying the basket.</p>\n\n<p>If you want to avoid this behavior you can use sth like this</p>\n\n<pre><code>getItems() {\n    return this.items.slice(0); // or [...this.items] a.k.a create a new instance every time\n    console.log(this.items);\n}\n</code></pre>\n\n<p>And for your edit :</p>\n\n<pre><code>if (product === this.basketItems[i]) { // you check exactly they have same reference\n   let originalPrice =\n   this.basketItems[i].price / this.basketItems[i].count;\n   this.basketItems[i].count = this.basketItems[i].count + 1;\n   this.basketItems[i].price = this.basketItems[i].price + originalPrice;\n        console.log(\"this should not mutate ===&gt;\", product, \"but it does\");\n</code></pre>\n\n<p>So it doesn't matter how you modify the reference. They both get modified.</p>\n\n<p>So you are round tripping same objects.\nWhat you need to do is :</p>\n\n<pre><code> this.basketItems.push({...product}); // insert new object everytime\n // and checking part should be\n if (product.id === this.basketItems[i].id) // they are not same object anymore you can not check reference equality.\n</code></pre>\n"}], "owner": {"reputation": 21, "user_id": 11773053, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-sxMSV3imcec/AAAAAAAAAAI/AAAAAAAANUk/D3rMWYzfTns/photo.jpg?sz=128", "display_name": "Roman Rojas", "link": "https://stackoverflow.com/users/11773053/roman-rojas"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 245, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1575561616, "creation_date": 1575487407, "last_edit_date": 1575496996, "question_id": 59183329, "link": "https://stackoverflow.com/questions/59183329/angular-original-array-of-objects-gets-modified-when-function-should-modify-the", "title": "Angular original array of objects gets modified when function should modify the new array", "body": "<p>I have an array of products that is imported onto the add-product.component.ts</p>\n\n<p>There is a feature where you can add the product onto a cart called basket</p>\n\n<p>What the car.service will do it take the product and add it to and array called basketItems. If product already exists in basketItems array it should mutate that entry of basketItem. </p>\n\n<p>For some reason both basket and products are mutating and it's causing the origin product display to change in price when only the basket should.</p>\n\n<p>I'm new to Angular I'm not sure I'm passing a reference of that product when I run (click)=\"addToCart(product)\" in add-product.component.html</p>\n\n<p><a href=\"https://i.stack.imgur.com/jCVFo.png\" rel=\"nofollow noreferrer\">Product Page before adding anything to the cart</a></p>\n\n<p><a href=\"https://i.stack.imgur.com/LYTrM.png\" rel=\"nofollow noreferrer\">Product Page after adding something to the cart</a></p>\n\n<p><strong>add-product.component.html</strong></p>\n\n<p><strong>Array of Products</strong></p>\n\n<pre><code>&lt;div class=\"d-flex justify-content-between flex-wrap\"&gt;\n    &lt;div *ngFor='let product of products' class=\"card mb-5\" style=\"width: 20rem; height: 20rem\"&gt;\n        &lt;img style=\"object-fit: contain; margin-top: 5%\" height=\"45%\" src={{product.image}} [title]='product.name' class=\"card-img-top\" alt={{product.name}}&gt;\n        &lt;div class=\"card-body\"&gt;\n            &lt;div class=\"mb-3\"&gt;\n                &lt;h5 class=\"card-title\"&gt;{{product.name}}&lt;/h5&gt;\n                &lt;p class=\"card-text\"&gt;{{product.description | slice:0:60}}...&lt;/p&gt;\n            &lt;/div&gt;\n            &lt;a style=\"float: left\" (click)=\"addToCart(product)\" class=\"card-link text-primary\"&gt;Add&lt;/a&gt;\n            &lt;p style=\"float: right\"&gt;{{product.price | currency}}&lt;/p&gt;\n        &lt;/div&gt;\n    &lt;/div&gt;\n&lt;/div&gt;\n&lt;div&gt;\n    &lt;div&gt;\n        &lt;table class=\"table table-striped\"&gt;\n            &lt;thead&gt;\n                &lt;tr&gt;\n                    &lt;th scope=\"col\"&gt;&lt;/th&gt;\n                    &lt;th scope=\"col\"&gt;Count&lt;/th&gt;\n                    &lt;th scope=\"col\"&gt;Product Name&lt;/th&gt;\n                    &lt;th scope=\"col\"&gt;Description&lt;/th&gt;\n                    &lt;th scope=\"col\"&gt;Price&lt;/th&gt;\n                &lt;/tr&gt;\n            &lt;/thead&gt;\n            &lt;tbody&gt;\n                &lt;tr *ngFor='let item of basket; index as itemId'&gt;\n                    &lt;th scope=\"row\"&gt;&lt;button (click)=\"removeFromCart(itemId)\"&gt;X&lt;/button&gt;&lt;/th&gt;\n                    &lt;th scope=\"row\"&gt;{{item.count}}&lt;/th&gt;\n                    &lt;td&gt;{{item.name}}&lt;/td&gt;\n                    &lt;td&gt;{{item.description | slice:0:20}}&lt;/td&gt;\n                    &lt;td&gt;{{item.price | currency}}&lt;/td&gt;\n                &lt;/tr&gt;\n            &lt;/tbody&gt;\n            &lt;thead&gt;\n                &lt;tr&gt;\n                    &lt;th colspan=\"3\" scope=\"col\"&gt;&lt;/th&gt;\n                    &lt;th scope=\"col\"&gt;Total:&lt;/th&gt;\n                    &lt;th scope=\"col\"&gt;{{total | currency}}&lt;/th&gt;\n                &lt;/tr&gt;\n            &lt;/thead&gt;\n        &lt;/table&gt;\n    &lt;/div&gt;\n    &lt;button style=\"float: right\" class=\"btn btn-primary\"&gt;CHECK OUT&lt;/button&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p><strong>add-product.component.ts</strong></p>\n\n<pre><code>import { Component, OnInit } from \"@angular/core\";\nimport { products } from \"../products\";\nimport { CartService } from \"../cart.service\";\n\n@Component({\n  selector: \"app-add-product\",\n  templateUrl: \"./add-product.component.html\",\n  styleUrls: [\"./add-product.component.css\"]\n})\nexport class AddProductComponent implements OnInit {\n  // Array of products to be displayed on screen for the user to add to the basket\n  products: object[] = products;\n\n  // The basket is an array of items that were added by the user when they click the add button for that product\n  basket: object[];\n  total: number;\n  constructor(private cartService: CartService) {}\n\n  addToCart(item) {\n    this.cartService.addToCart(item);\n    this.total = this.basket.reduce((total, item) =&gt; total + item.price, 0);\n  }\n\n  removeFromCart(index) {\n    this.cartService.removeFromCart(index);\n    this.basket = this.cartService.getItems();\n    this.total = this.basket.reduce((total, item) =&gt; total + item.price, 0);\n  }\n\n  ngOnInit() {\n    this.basket = this.cartService.getItems();\n  }\n}\n\n</code></pre>\n\n<p><strong>cart.service.ts</strong></p>\n\n<pre><code>import { Injectable } from \"@angular/core\";\nimport { AngularFirestore } from \"@angular/fire/firestore\";\n@Injectable()\nexport class CartService {\n  basketItems: object[] = [];\n\n  constructor(private db: AngularFirestore) {}\n\n  addToCart(product) {\n    // if product is already in the basket\n    // FIX ME basket should mutate and not the product\n    for (let i = 0; i &lt; this.basketItems.length; i++) {\n      if (product === this.basketItems[i]) {\n        let originalPrice =\n          this.basketItems[i].price / this.basketItems[i].count;\n        this.basketItems[i].count = this.basketItems[i].count + 1;\n        this.basketItems[i].price = this.basketItems[i].price + originalPrice;\n        console.log(\"this should not mutate ===&gt;\", product, \"but it does\");\n        return;\n      }\n    }\n\n    this.basketItems.push(product);\n  }\n\n  removeFromCart(index) {\n    this.basketItems.splice(index, 1);\n  }\n\n  getItems() {\n    return this.basketItems;\n  }\n\n  clearCart() {\n    this.basketItems = [];\n    return this.basketItems;\n  }\n}\n\n\n</code></pre>\n\n<p>updated for accuracy </p>\n"}, {"tags": ["angular", "typescript", "mask"], "answers": [{"comments": [{"owner": {"reputation": 20737, "user_id": 130659, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b3d3a2cce932eca144b8c13a63966404?s=128&d=identicon&r=PG", "display_name": "AlBlue", "link": "https://stackoverflow.com/users/130659/alblue"}, "edited": false, "score": 0, "creation_date": 1613774226, "post_id": 66282151, "comment_id": 117189728, "body": "This does not provide an answer to the question. To critique or request clarification from an author, leave a comment below their post. - <a href=\"/review/low-quality-posts/28364557\">From Review</a>"}], "tags": [], "owner": {"reputation": 56, "user_id": 10868094, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-aSzoxshoFQU/AAAAAAAAAAI/AAAAAAAAD3A/rmkf-z6xPYM/photo.jpg?sz=128", "display_name": "Jorge Henrique Sartori Rocha", "link": "https://stackoverflow.com/users/10868094/jorge-henrique-sartori-rocha"}, "is_accepted": false, "score": 0, "last_activity_date": 1613846018, "last_edit_date": 1613846018, "creation_date": 1613755158, "answer_id": 66282151, "question_id": 59183244, "link": "https://stackoverflow.com/questions/59183244/behavior-mask-angular8-in-ngx-mask/66282151#66282151", "title": "behavior mask angular8 in ngx-mask", "body": "<p>Your condition is inverse, change if block by else and try to use 9s...</p>\n<p><code>static MASCARA_CPF = &quot;999.999.999-99&quot;;</code></p>\n<p><code>static MASCARA_CNPJ = &quot;99.999.999/9999-99&quot;;</code></p>\n"}], "owner": {"reputation": 159, "user_id": 11522066, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZdspX.jpg?s=128&g=1", "display_name": "Betini O. Heleno", "link": "https://stackoverflow.com/users/11522066/betini-o-heleno"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 531, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1613846018, "creation_date": 1575487051, "question_id": 59183244, "link": "https://stackoverflow.com/questions/59183244/behavior-mask-angular8-in-ngx-mask", "title": "behavior mask angular8 in ngx-mask", "body": "<p>I have a component where I need a mask to be according to the parameters entered by the user and that if it passes the 11 digits of cpf the field will have the mask of cnpj. Below is the code snippet:\nI am using ngx-mask;</p>\n\n<pre class=\"lang-html prettyprint-override\"><code>&lt;input type=\"text\" class=\"form-control form-control-sm\" formControlName=\"cpf_cnpj\" [mask]=\"mask\" (keyup)=\"cpfcnpjmask($event)\"&gt;\n</code></pre>\n\n<pre class=\"lang-js prettyprint-override\"><code> cpfcnpjmask() {\n    const value = this.dadosBancariosForm.get('cpf_cnpj').value;\n    console.log(value, value.length,this.dadosBancariosForm)\n    if(value.length &lt;= 14) {\n      this.mask = '00.000.000/0000-00'\n    }\n    else {\n      this.mask = '00.000.0000-00'\n    }\n  }\n\n\n</code></pre>\n\n<p>In this code it takes only the first chew and never falls in the second. Someone would have the solution to this impasse or some mask that accomplishes this purpose.\nThankful.</p>\n"}, {"tags": ["node.js", "typescript", "amazon-web-services", "class", "aws-lambda"], "answers": [{"comments": [{"owner": {"reputation": 21, "user_id": 4200137, "user_type": "registered", "accept_rate": 67, "profile_image": "https://graph.facebook.com/100002929348757/picture?type=large", "display_name": "Cristopher Ontiveros", "link": "https://stackoverflow.com/users/4200137/cristopher-ontiveros"}, "edited": false, "score": 1, "creation_date": 1575494348, "post_id": 59183499, "comment_id": 104589969, "body": "I agree. I believe it might have something to do with the import statement. I&#39;m not super good at typescript just yet hence the vanilla. I&#39;ll try compiling it. Thanks for the input!  ~cris"}, {"owner": {"reputation": 21, "user_id": 4200137, "user_type": "registered", "accept_rate": 67, "profile_image": "https://graph.facebook.com/100002929348757/picture?type=large", "display_name": "Cristopher Ontiveros", "link": "https://stackoverflow.com/users/4200137/cristopher-ontiveros"}, "edited": false, "score": 0, "creation_date": 1575557972, "post_id": 59183499, "comment_id": 104613720, "body": "If anyone stumbles across this, I ended up utilizing an sqs queue in the first function and writing a second lambda function with an sqs trigger that executes a handler function and runs the code to log it."}], "tags": [], "owner": {"reputation": 1513, "user_id": 12160881, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Pnvvr.jpg?s=128&g=1", "display_name": "Aaron Stuyvenberg", "link": "https://stackoverflow.com/users/12160881/aaron-stuyvenberg"}, "is_accepted": true, "score": 0, "last_activity_date": 1575488251, "creation_date": 1575488251, "answer_id": 59183499, "question_id": 59183189, "link": "https://stackoverflow.com/questions/59183189/accessing-lambda-module-with-nodejs-module-exports/59183499#59183499", "title": "accessing lambda module with nodejs module.exports", "body": "<p>A few things jump out at me right away - You're using typescript, but aren't using any types. Although your code is vanilla JS, your import statement is ES6 (which I don't think is supported in node yet). I'd try replacing your <code>import</code> statement (es6) with a vanilla <code>const generateShortname = require('./MailerClass');</code>.</p>\n\n<p>If that doesn't work, try compiling your typescript before deploying it. There are a lot of Serverless Framework plugins that can help with that. I'd recommend trying <code>serverless-typescript</code>, or if you'd prefer you can use <code>serverless-webpack</code>.</p>\n"}], "owner": {"reputation": 21, "user_id": 4200137, "user_type": "registered", "accept_rate": 67, "profile_image": "https://graph.facebook.com/100002929348757/picture?type=large", "display_name": "Cristopher Ontiveros", "link": "https://stackoverflow.com/users/4200137/cristopher-ontiveros"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 821, "favorite_count": 0, "accepted_answer_id": 59183499, "answer_count": 1, "score": 0, "last_activity_date": 1575488251, "creation_date": 1575486826, "last_edit_date": 1575488183, "question_id": 59183189, "link": "https://stackoverflow.com/questions/59183189/accessing-lambda-module-with-nodejs-module-exports", "title": "accessing lambda module with nodejs module.exports", "body": "<p>I am writing an application in nodejs-typescript using the serverless framework. I am trying to compartmentalize my code by exporting some generic functions as modules with a simple log (to test the concept works). I have two files. Service-alerts.ts and MailerClass.ts. It seems that I am constantly getting a syntax error when deploying my applications. I am very frustrated. Most tutorials are not using serverless, only node. Can you help me solve this?</p>\n\n<p>service-alert.ts (function that gets executed):</p>\n\n<pre><code>import generateShortname from './MailerClass';\nexport const handler = async (_event, _context) =&gt; {\n    generateShortname(\"hello\");\n    return;\n};\n</code></pre>\n\n<p>Mailerclass (file that logs value):</p>\n\n<pre><code>export const generateShortname = (value) =&gt; {\n    console.log(value);\n};\n</code></pre>\n\n<p>Error log from AWS Lambda execution:</p>\n\n<pre><code>Response:\n    {\n        \"errorType\": \"Runtime.UserCodeSyntaxError\",\n        \"errorMessage\": \"SyntaxError: Unexpected identifier\",\n        \"trace\": [\n             \"Runtime.UserCodeSyntaxError: SyntaxError: Unexpected identifier\",\n             \"    at _loadUserApp (/var/runtime/UserFunction.js:98:13)\",\n             \"    at Object.module.exports.load (/var/runtime/UserFunction.js:140:17)\",\n             \"    at Object.&lt;anonymous&gt; (/var/runtime/index.js:45:30)\",\n             \"    at Module._compile (internal/modules/cjs/loader.js:778:30)\",\n             \"    at Object.Module._extensions..js (internal/modules/cjs/loader.js:789:10)\",\n             \"    at Module.load (internal/modules/cjs/loader.js:653:32)\",\n             \"    at tryModuleLoad (internal/modules/cjs/loader.js:593:12)\",\n             \"    at Function.Module._load (internal/modules/cjs/loader.js:585:3)\",\n             \"    at Function.Module.runMain (internal/modules/cjs/loader.js:831:12)\",\n             \"    at startup (internal/bootstrap/node.js:283:19)\"\n        ]\n    }\n</code></pre>\n"}, {"tags": ["reactjs", "typescript", "code-formatting", "prettier"], "answers": [{"comments": [{"owner": {"reputation": 145, "user_id": 5899905, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/ygWao.jpg?s=128&g=1", "display_name": "Mark Uivari", "link": "https://stackoverflow.com/users/5899905/mark-uivari"}, "edited": false, "score": 1, "creation_date": 1575486067, "post_id": 59182994, "comment_id": 104586745, "body": "The bracketSpacing option adds spacing only for import statements, it doesn&#39;t affect react code."}, {"owner": {"reputation": 133, "user_id": 8266984, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wFxbQ.jpg?s=128&g=1", "display_name": "Michael Wallace", "link": "https://stackoverflow.com/users/8266984/michael-wallace"}, "reply_to_user": {"reputation": 145, "user_id": 5899905, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/ygWao.jpg?s=128&g=1", "display_name": "Mark Uivari", "link": "https://stackoverflow.com/users/5899905/mark-uivari"}, "edited": false, "score": 0, "creation_date": 1575486739, "post_id": 59182994, "comment_id": 104586986, "body": "It adds spacing in any object literals. But yes, it does not affect react props. So i think this option does not exist. You can try to accomplish the same effect with ESLint auto-fix, but i think there is no rule for this either."}], "tags": [], "owner": {"reputation": 133, "user_id": 8266984, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wFxbQ.jpg?s=128&g=1", "display_name": "Michael Wallace", "link": "https://stackoverflow.com/users/8266984/michael-wallace"}, "is_accepted": false, "score": 2, "last_activity_date": 1575486004, "creation_date": 1575486004, "answer_id": 59182994, "question_id": 59182936, "link": "https://stackoverflow.com/questions/59182936/configure-prettier-whitespaces-in-react-typescript/59182994#59182994", "title": "Configure Prettier Whitespaces in React Typescript", "body": "<p>The option <strong>bracket-spacing</strong> is what you are looking for: <code>bracketSpacing: true</code>.</p>\n\n<p><a href=\"https://prettier.io/docs/en/options.html#bracket-spacing\" rel=\"nofollow noreferrer\">https://prettier.io/docs/en/options.html#bracket-spacing</a></p>\n"}], "owner": {"reputation": 145, "user_id": 5899905, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/ygWao.jpg?s=128&g=1", "display_name": "Mark Uivari", "link": "https://stackoverflow.com/users/5899905/mark-uivari"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1837, "favorite_count": 0, "answer_count": 1, "score": 4, "last_activity_date": 1575486004, "creation_date": 1575485724, "question_id": 59182936, "link": "https://stackoverflow.com/questions/59182936/configure-prettier-whitespaces-in-react-typescript", "title": "Configure Prettier Whitespaces in React Typescript", "body": "<p>I use prettier for formatting my code. How can I configure prettier to add a space depending on curly braces in react code?</p>\n\n<p>Current code:</p>\n\n<pre><code>&lt;AdminPanel\n    theme={myTheme}\n    dataProvider={dataProvider}\n    authProvider={authProvider}\n    history={history}\n/&gt;\n</code></pre>\n\n<p>Expected result:</p>\n\n<pre><code>&lt;AdminPanel\n    theme={ myTheme }\n    dataProvider={ dataProvider }\n    authProvider={ authProvider }\n    history={ history }\n/&gt;\n</code></pre>\n"}, {"tags": ["javascript", "typescript", "vue.js", "vuejs2", "vue-component"], "answers": [{"comments": [{"owner": {"reputation": 7978, "user_id": 3418376, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/BdAlM.jpg?s=128&g=1", "display_name": "Joe Scotto", "link": "https://stackoverflow.com/users/3418376/joe-scotto"}, "edited": false, "score": 0, "creation_date": 1575487215, "post_id": 59183128, "comment_id": 104587170, "body": "That worked perfectly.. now if I wanted to add an SCSS style to that how could I do it?"}, {"owner": {"reputation": 354, "user_id": 12476310, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5600671f867be17bed062203133755df?s=128&d=identicon&r=PG&f=1", "display_name": "cischa", "link": "https://stackoverflow.com/users/12476310/cischa"}, "reply_to_user": {"reputation": 7978, "user_id": 3418376, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/BdAlM.jpg?s=128&g=1", "display_name": "Joe Scotto", "link": "https://stackoverflow.com/users/3418376/joe-scotto"}, "edited": false, "score": 0, "creation_date": 1575489409, "post_id": 59183128, "comment_id": 104588053, "body": "Awesome! If you want to combine all of (S)CSS, JS, and HTML into one file for a single component, Vue has a great framework for it called Vue single-file components: <a href=\"https://vuejs.org/v2/guide/single-file-components.html\" rel=\"nofollow noreferrer\">vuejs.org/v2/guide/single-file-components.html</a> It&#39;s great to start using when your projects start getting more serious"}], "tags": [], "owner": {"reputation": 354, "user_id": 12476310, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5600671f867be17bed062203133755df?s=128&d=identicon&r=PG&f=1", "display_name": "cischa", "link": "https://stackoverflow.com/users/12476310/cischa"}, "is_accepted": true, "score": 2, "last_activity_date": 1575486562, "creation_date": 1575486562, "answer_id": 59183128, "question_id": 59182893, "link": "https://stackoverflow.com/questions/59182893/vue-define-component-with-template-and-script-from-vue/59183128#59183128", "title": "Vue define component with template and script from Vue()", "body": "<p>Instead of defining the template for your component at the global Vue() component level, try defining it inside of './components/ts/list-club':</p>\n\n<pre><code>var ListClubsComponent = {\n    template : ...,\n    data:...\n    ...\n}\n</code></pre>\n\n<p>Then import and register that entire component altogether at the global Vue() component:</p>\n\n<pre><code>import ListClubsComponent from \"./components/ts/list-club\";\nnew Vue({\n    ...\n    components : {\n        'list-clubs' : ListClubsComponent\n    }\n    ...\n})\n</code></pre>\n\n<p>This should also be easier to maintain since the template is grouped together with its functionality.</p>\n\n<p>More info at <a href=\"https://vuejs.org/v2/guide/components-registration.html#Local-Registration\" rel=\"nofollow noreferrer\">https://vuejs.org/v2/guide/components-registration.html#Local-Registration</a></p>\n"}], "owner": {"reputation": 7978, "user_id": 3418376, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/BdAlM.jpg?s=128&g=1", "display_name": "Joe Scotto", "link": "https://stackoverflow.com/users/3418376/joe-scotto"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 220, "favorite_count": 0, "accepted_answer_id": 59183128, "answer_count": 1, "score": 1, "last_activity_date": 1575486562, "creation_date": 1575485511, "question_id": 59182893, "link": "https://stackoverflow.com/questions/59182893/vue-define-component-with-template-and-script-from-vue", "title": "Vue define component with template and script from Vue()", "body": "<p>I'm trying to define a component in my global Vue() init and have successfully defined the template for the component but cannot seem to define the actual class that is performing the work for the template. I am using Vue with typescript.</p>\n\n<pre><code>import ListClubsComponent from \"./components/ts/list-club\";\n\nnew Vue({\n    el: \"#app\",\n    components: {\n        \"list-clubs\": {\n            template: require(\"./components/clubs/list-clubs.html\"),\n            model: ListClubsComponent // This should be the class for the template\n        }\n    }\n});\n</code></pre>\n"}, {"tags": ["angular", "typescript"], "comments": [{"owner": {"reputation": 2770, "user_id": 4123372, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/554c51966d0ad0646b8d62f8d25dccd3?s=128&d=identicon&r=PG&f=1", "display_name": "Train", "link": "https://stackoverflow.com/users/4123372/train"}, "edited": false, "score": 0, "creation_date": 1575486102, "post_id": 59182798, "comment_id": 104586757, "body": "What does <code>this.updateProduct.setValue</code> do? That&#39;s not the reference to your form control, you&#39;re not referencing the select list in that line of code, that&#39;s why it&#39;s not updating. Or is that the reference to your form? Show all of your component code please."}, {"owner": {"reputation": 289, "user_id": 8043749, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4b375417e63427d672bb2cd4285fcc32?s=128&d=identicon&r=PG&f=1", "display_name": "ppgowda4", "link": "https://stackoverflow.com/users/8043749/ppgowda4"}, "edited": false, "score": 0, "creation_date": 1575486377, "post_id": 59182798, "comment_id": 104586841, "body": "What is <code>categories</code>  in your HTML? Is it list of object or category name?"}, {"owner": {"reputation": 3, "user_id": 12393206, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SqKjp.jpg?s=128&g=1", "display_name": "Rashell Smith", "link": "https://stackoverflow.com/users/12393206/rashell-smith"}, "reply_to_user": {"reputation": 2770, "user_id": 4123372, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/554c51966d0ad0646b8d62f8d25dccd3?s=128&d=identicon&r=PG&f=1", "display_name": "Train", "link": "https://stackoverflow.com/users/4123372/train"}, "edited": false, "score": 0, "creation_date": 1575486454, "post_id": 59182798, "comment_id": 104586869, "body": "@Train it&#39;s reference to my form not to my select list my select list options is being populated through the <code>*ngfor</code> for my category and supplier."}, {"owner": {"reputation": 3, "user_id": 12393206, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SqKjp.jpg?s=128&g=1", "display_name": "Rashell Smith", "link": "https://stackoverflow.com/users/12393206/rashell-smith"}, "reply_to_user": {"reputation": 289, "user_id": 8043749, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4b375417e63427d672bb2cd4285fcc32?s=128&d=identicon&r=PG&f=1", "display_name": "ppgowda4", "link": "https://stackoverflow.com/users/8043749/ppgowda4"}, "edited": false, "score": 0, "creation_date": 1575486612, "post_id": 59182798, "comment_id": 104586933, "body": "@ppgowda4   it&#39;s a list of objects  but I am displaying the the name through the object or accessing the name in the object."}], "answers": [{"comments": [{"owner": {"reputation": 3, "user_id": 12393206, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SqKjp.jpg?s=128&g=1", "display_name": "Rashell Smith", "link": "https://stackoverflow.com/users/12393206/rashell-smith"}, "edited": false, "score": 0, "creation_date": 1575554766, "post_id": 59183236, "comment_id": 104611860, "body": "Could you create a function that selects the category that matches this.product.category  option that then selects that option from the list of categories. I was thinking I could do that but I don not know how to approach that."}], "tags": [], "owner": {"reputation": 289, "user_id": 8043749, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4b375417e63427d672bb2cd4285fcc32?s=128&d=identicon&r=PG&f=1", "display_name": "ppgowda4", "link": "https://stackoverflow.com/users/8043749/ppgowda4"}, "is_accepted": true, "score": 0, "last_activity_date": 1575487024, "creation_date": 1575487024, "answer_id": 59183236, "question_id": 59182798, "link": "https://stackoverflow.com/questions/59182798/selecting-a-default-select-option-through-the-setvalue-method-with-angular-rea/59183236#59183236", "title": "Selecting a default select option through the setValue() method with angular reactive forms", "body": "<p>Assuming your <code>updateProduct</code> is a formGroup and service data is dynamically loaded based on ID and form group has default values then use <code>this.updateProduct.patchValue({...});</code>. This will update the form group with available values. You can set it partially also with selected fields.</p>\n\n<p>If you want to set all values then <code>setValue({...})</code> should do the job.</p>\n\n<p>In HTML, <code>[value]</code> attribute is sufficient to set the value. Update your first option to set <code>category</code> as value instead of name.\nMake sure <code>category</code> type in formGroup is same as category object.</p>\n\n<pre><code>&lt;select class=\"form-control\" formControlName=\"category\"&gt;\n     &lt;option [value]=\"this.product.category\"&gt; {{this.product.category.categoryName}} &lt;/option&gt;\n     &lt;option *ngFor=\"let category of categories\" [value]=\"category\"&gt;{{category.categoryName}}&lt;/option&gt;\n&lt;/select&gt;\n</code></pre>\n"}], "owner": {"reputation": 3, "user_id": 12393206, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SqKjp.jpg?s=128&g=1", "display_name": "Rashell Smith", "link": "https://stackoverflow.com/users/12393206/rashell-smith"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 262, "favorite_count": 0, "accepted_answer_id": 59183236, "answer_count": 1, "score": 0, "last_activity_date": 1575487024, "creation_date": 1575485048, "last_edit_date": 1575486690, "question_id": 59182798, "link": "https://stackoverflow.com/questions/59182798/selecting-a-default-select-option-through-the-setvalue-method-with-angular-rea", "title": "Selecting a default select option through the setValue() method with angular reactive forms", "body": "<p>I am using reactive forms for my form template. I have my <code>setValue()</code> in my subscribe method so I can set the form controls for my product to my subscribed to data. The problem I am having Is that I want my select options in my html to select the correct value. Right now it's not selecting any value  it just displays a blank select box. I know the value that I am setting with my <code>setValue()</code> method  the category and supplier I set it to is correct. I know that values in my html select option is not equal to what I am setting them to and that is why they won't select in the html. How do I set them \"===\" so that it will automatically select the correct value based on my <code>setValue()</code> method. I have declared my form and have click method that calls the <code>selectedId()</code>.</p>\n\n<p><br>\nIn my ts file I have all my services declared. In this function I am getting my product data by id then setting my form control instances to those values.</p>\n\n<pre><code>export class UpdateProductComponent implements OnInit {\n  availability:boolean;\n  category:number;\n  orderBy: String;\n  Ascdesc: String;\n  page = 0;\n  home: Home[];\n  product: Product;\n  categories: Category[];\n  suppliers: Supplier[];\n  selectedCategory: Category;\n  id: number;\n\n\n\nselectedId(id){\n\nthis.id = id;\n\nthis.homeService.getProduct(this.id).subscribe(data =&gt; {\n  this.product = data;\n  this.updateProduct.setValue({\n    id: this.product.id,\n    productName: this.product.productName,\n    category:this.product.category,\n    fullPrice: this.product.fullPrice,\n    salePrice: this.product.salePrice,\n    availability: this.product.availability,\n    supplier:this.product.supplier,\n    discount: this.product.discount\n  });\n\n}); \n\n}\n// not important to my problem \nselectedId2(id){\n  this.id = id ;\n\n  this.homeService.getProduct(this.id).subscribe(data =&gt; {\n    this.product = data;\n  }); \n}\n\n\n  selectCategory (category) {\n       this.category = category.category;\n   }\n\n   available(boolean){\n\n    this.availability = boolean;\n    }\n\n    update($event){\n      this.homeService.getByParm(this.availability,this.category).subscribe(data =&gt; {\n        this.home = data;\n      }); \n\n    }\n\n// Where my form is declared and form controls  are assigned\n    updateProduct = new FormGroup({\n      id: new FormControl(''),\n      productName: new FormControl(''),\n      category: new FormControl(null),\n      fullPrice: new FormControl(''),\n      salePrice: new FormControl(''),\n      availability: new FormControl(''),\n      supplier: new FormControl(null),\n      discount: new FormControl(''),\n\n    });\n\nconstructor(private homeService: HomeService,private supplierService: SupplierService, private categoryService: CategoryService) { }\n\n\nSortPrice($event:any){\n  let icon = document.getElementById(\"asc-desc1\");\n  if(icon.className === \"fas fa-angle-down\"){\n    icon.className =\"fas fa-angle-up\";\n    this.homeService.getByPriceAsc().subscribe(data =&gt; {\n    this.home = data;\n  });\n  }else{\n    icon.className =\"fas fa-angle-down\"\n    this.homeService.getByPriceDesc().subscribe(data =&gt; {\n      this.home = data;\n    });\n  };\n\n}\n\n//submit method form my form \nonSubmit() {\n  this.homeService.updateProduct(this.updateProduct.value).subscribe((res)=&gt;{\n    console.log(\"Created a product\")\n  });\n\n  console.warn(this.updateProduct.value);\n}\n\n\nSortSale($event:any){\n  let icon = document.getElementById(\"asc-desc2\");\n  if(icon.className === \"fas fa-angle-down\"){\n    icon.className =\"fas fa-angle-up\";\n    this.homeService.getBySaleAsc().subscribe(data =&gt; {\n    this.home = data;\n  });\n  }else{\n    icon.className =\"fas fa-angle-down\"\n    this.homeService.getBySaleDesc().subscribe(data =&gt; {\n      this.home = data;\n    });\n  };\n\n}\nSortDiscount($event:any){\n  let icon = document.getElementById(\"asc-desc3\");\n  if(icon.className === \"fas fa-angle-down\"){\n    icon.className =\"fas fa-angle-up\";\n    this.homeService.getByDiscountAsc().subscribe(data =&gt; {\n    this.home = data;\n  });\n  }else{\n    icon.className =\"fas fa-angle-down\"\n    this.homeService.getByDiscountDesc().subscribe(data =&gt; {\n      this.home = data;\n    });\n  };\n\n}\n\n\nngOnInit() {\n\n\n\n\n  this.supplierService.getAll().subscribe(data =&gt; {\n    this.suppliers = data;\n  });\n\n    this.homeService.getAll().subscribe(data =&gt; {\n    this.home = data;\n  });\n\n\n\n\n  this.categoryService.getAll().subscribe(data =&gt; {\n    this.categories = data;\n  });\n\n}\n\n}\n\n</code></pre>\n\n<p><br>\nthis is my html </p>\n\n<pre><code>&lt;td&gt;&lt;input class=\"form-control\"  formControlName=\"id\"  disabled&gt;&lt;/td&gt;\n          &lt;td&gt;&lt;input class=\"form-control\" id=\"productName\"  formControlName=\"productName\" &gt;&lt;/td&gt;\n          &lt;td &gt;\n              &lt;select class=\"form-control\" formControlName=\"category\"&gt;\n                &lt;option [ngValue]=\"this.product.category.categoryName\"&gt;{{this.product.category.categoryName}} &lt;/option&gt;\n                &lt;option *ngFor=\"let category of categories\" [ngValue]= \"category\"&gt;{{category.categoryName}}&lt;/option&gt;\n              &lt;/select&gt;\n            &lt;/td&gt;\n          &lt;td&gt;&lt;input class=\"form-control\" id=\"fullprice\" formControlName=\"fullPrice\"&gt;&lt;/td&gt;\n          &lt;td&gt;&lt;input class=\"form-control\" id=\"saleprice\"   formControlName=\"salePrice\"&gt;&lt;/td&gt;\n          &lt;td&gt;&lt;input type=\"checkbox\" class=\"form-control\" id=\"availability\"  formControlName=\"availability\" &gt;&lt;/td&gt;\n          &lt;td&gt;\n            &lt;select class=\"form-control\" formControlName=\"supplier\" &gt;\n\n              &lt;option *ngFor=\"let supplier of suppliers\" [ngValue]=\"supplier\"&gt;{{supplier.supplierName}}&lt;/option&gt;\n            &lt;/select&gt;\n          &lt;/td&gt;\n          &lt;td&gt;&lt;input class=\"form-control\" formControlName=\"discount\" id=\"discount\" &gt;&lt;/td&gt;\n</code></pre>\n"}, {"tags": ["javascript", "typescript", "decorator"], "answers": [{"comments": [{"owner": {"reputation": 1529, "user_id": 9095988, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yyfWH.jpg?s=128&g=1", "display_name": "Krzysztof Kaczy\u0144ski", "link": "https://stackoverflow.com/users/9095988/krzysztof-kaczy%c5%84ski"}, "edited": false, "score": 0, "creation_date": 1575484758, "post_id": 59182611, "comment_id": 104586234, "body": "There is a <code>FunctionConstructor</code> type but it also doesn&#39;t has a <code>.name</code> property. Maybe I should add <code>IClassConstructor</code> inteface which will extend <code>FunctionConstructor</code> interface and add <code>name: string</code> property ?"}, {"owner": {"reputation": 105043, "user_id": 5260024, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XxSHe.jpg?s=128&g=1", "display_name": "Jonas Wilms", "link": "https://stackoverflow.com/users/5260024/jonas-wilms"}, "reply_to_user": {"reputation": 1529, "user_id": 9095988, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yyfWH.jpg?s=128&g=1", "display_name": "Krzysztof Kaczy\u0144ski", "link": "https://stackoverflow.com/users/9095988/krzysztof-kaczy%c5%84ski"}, "edited": false, "score": 0, "creation_date": 1575484932, "post_id": 59182611, "comment_id": 104586304, "body": "No, <code>FunctionConstructor</code> is the global <code>Function</code> object."}, {"owner": {"reputation": 1529, "user_id": 9095988, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yyfWH.jpg?s=128&g=1", "display_name": "Krzysztof Kaczy\u0144ski", "link": "https://stackoverflow.com/users/9095988/krzysztof-kaczy%c5%84ski"}, "edited": false, "score": 0, "creation_date": 1575485014, "post_id": 59182611, "comment_id": 104586335, "body": "Ye but actually class constructor is also a function."}, {"owner": {"reputation": 105043, "user_id": 5260024, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XxSHe.jpg?s=128&g=1", "display_name": "Jonas Wilms", "link": "https://stackoverflow.com/users/5260024/jonas-wilms"}, "reply_to_user": {"reputation": 1529, "user_id": 9095988, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yyfWH.jpg?s=128&g=1", "display_name": "Krzysztof Kaczy\u0144ski", "link": "https://stackoverflow.com/users/9095988/krzysztof-kaczy%c5%84ski"}, "edited": false, "score": 0, "creation_date": 1575485225, "post_id": 59182611, "comment_id": 104586423, "body": "Oh, then add a typecast."}], "tags": [], "owner": {"reputation": 105043, "user_id": 5260024, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XxSHe.jpg?s=128&g=1", "display_name": "Jonas Wilms", "link": "https://stackoverflow.com/users/5260024/jonas-wilms"}, "is_accepted": true, "score": 1, "last_activity_date": 1575485510, "last_edit_date": 1575485510, "creation_date": 1575484200, "answer_id": 59182611, "question_id": 59182564, "link": "https://stackoverflow.com/questions/59182564/what-type-i-should-add-to-class-constructor-received-as-parameter/59182611#59182611", "title": "What type I should add to class constructor received as parameter?", "body": "<p>The type for a constructor would be:</p>\n\n<pre><code> { new(...args: any[]): any, name: string }\n</code></pre>\n\n<p>I'd type your code as:</p>\n\n<pre><code> export function classLogger&lt;T extends { new(...args: any[]): any }&gt;(originalConstructor: T) {\n  const newConstructor: T = (...args: any[]) =&gt; { \n    console.log(`New [${(originalConstructor as any).name}], has been created`);\n    return new originalConstructor(...args)\n  };\n  newConstructor.prototype = originalConstructor.prototype;\n  return newConstructor;\n};\n</code></pre>\n"}], "owner": {"reputation": 1529, "user_id": 9095988, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yyfWH.jpg?s=128&g=1", "display_name": "Krzysztof Kaczy\u0144ski", "link": "https://stackoverflow.com/users/9095988/krzysztof-kaczy%c5%84ski"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 51, "favorite_count": 0, "accepted_answer_id": 59182611, "answer_count": 1, "score": 0, "last_activity_date": 1575485510, "creation_date": 1575484024, "question_id": 59182564, "link": "https://stackoverflow.com/questions/59182564/what-type-i-should-add-to-class-constructor-received-as-parameter", "title": "What type I should add to class constructor received as parameter?", "body": "<p>I am creating my own class decorator(<code>classLogger</code>) in TypeScript. In <code>classLogger</code> I am recaving class constructor as a parameter of my decorator and I am wondering what type I should add to this parameter(<code>originalConstructor</code>) ?</p>\n\n<p>I was trying something like this:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>export const classLogger = &lt;T&gt;(originalConstructor: (...args: any[]) =&gt; T) =&gt; {\n</code></pre>\n\n<p>But then I van not acces <code>.name</code> property of my <code>originalConstructor</code> and also I can not use <strong>new</strong> on <code>originalConstructor</code>.</p>\n\n<p><strong>classLogger</strong></p>\n\n<pre class=\"lang-js prettyprint-override\"><code>export const classLogger = (originalConstructor: any) =&gt; {\n    const newConstructor = (...args: any[]) =&gt; { // same story here what type i should add to newConstructor\n        console.log(`New [${originalConstructor.name}], has been created`);\n        return new originalConstructor(...args)\n    };\n    newConstructor.prototype = originalConstructor.prototype;\n    return newConstructor;\n};\n</code></pre>\n\n<p><strong>Warrior</strong></p>\n\n<pre class=\"lang-js prettyprint-override\"><code>import {classLogger} from \"./decorators/classLogger\";\n\n@classLogger\nexport class Warrior {\n    firstName: string;\n    lastName: string;\n    age: number;\n\n    constructor(firstName: string, lastName: string, age: number) {\n        this.firstName = firstName;\n        this.lastName = lastName;\n        this.age = age;\n    }\n\n    challengeOpponent(message: string): string {\n        return `Hello I am ${this.firstName} ${this.lastName}. I want to challenge you! ${message}`;\n    }\n}\n</code></pre>\n\n<p><strong>PS</strong>. I am also getting this error:</p>\n\n<blockquote>\n  <p>Error:(3, 1) TS1238: Unable to resolve signature of class decorator when called as an expression.\n    Type '{ (...args: any[]): any; prototype: any; }' is not assignable to type 'typeof Warrior'.\n      Type '{ (...args: any[]): any; prototype: any; }' provides no match for the signature 'new (firstName: string, lastName: string, age: number): Warrior'.</p>\n</blockquote>\n\n<p>In <code>Warrior.ts</code> file</p>\n"}, {"tags": ["html", "angular", "typescript", "grid"], "answers": [{"tags": [], "owner": {"reputation": 442, "user_id": 12175891, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6b71c0e58668f88e44037e97c7d407a9?s=128&d=identicon&r=PG", "display_name": "Ali Wahab", "link": "https://stackoverflow.com/users/12175891/ali-wahab"}, "is_accepted": true, "score": 1, "last_activity_date": 1575496825, "creation_date": 1575496825, "answer_id": 59185233, "question_id": 59182459, "link": "https://stackoverflow.com/questions/59182459/how-to-create-dynamic-grid-component-in-angular-8-and-bootstrap-whit-row-col-an/59185233#59185233", "title": "How to create dynamic grid component in angular 8 and bootstrap whit row, col and list string?", "body": "<p>Try this code: \n<br>\n<code>your.compomnent.html</code></p>\n\n<pre><code>&lt;div&gt;\n  &lt;input type=\"number\" [(ngModel)]=\"rows\" /&gt;\n  &lt;input type=\"number\" [(ngModel)]=\"colums\" /&gt;\n  &lt;button (click)=\"setDimension()\" type=\"button\"&gt;Change&lt;/button&gt;\n  &lt;table class=\"table\"&gt;\n      &lt;thead&gt;\n        &lt;tr&gt;\n          &lt;th scope=\"col\" *ngFor=\"let col of colArray; index as i\"&gt;{{i+1}}&lt;/th&gt;\n        &lt;/tr&gt;\n      &lt;/thead&gt;\n      &lt;tbody&gt;\n        &lt;tr *ngFor=\"let col of rowArray; index as i\"&gt;\n          &lt;td *ngFor=\"let col of colArray; index as j\"&gt;{{j+1}}&lt;/td&gt;\n        &lt;/tr&gt;\n      &lt;/tbody&gt;\n    &lt;/table&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p><br>\n<code>your.compomnent.ts</code></p>\n\n<pre><code> colArray = [];\n rowArray = [];\n colums = 4;\n rows = 10;\n setDimension(){\n    this.colArray = [];\n    this.rowArray = [];\n    for(let i = 0; i&lt;this.colums; i++){\n      this.colArray.push(i);\n    }\n    for(let i = 0; i&lt;this.rows; i++){\n      this.rowArray.push(i);\n    }\n  }\n</code></pre>\n\n<p>The <code>i</code> which is pushed in rowArray could be your string URLs.</p>\n\n<p>Note: Table is the good way to use grids. You can even use BS rows and cols</p>\n"}], "owner": {"reputation": 99, "user_id": 12481509, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f3e728d77ded9dedb60bea5c0d9909a1?s=128&d=identicon&r=PG&f=1", "display_name": "RootAtKali", "link": "https://stackoverflow.com/users/12481509/rootatkali"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3103, "favorite_count": 0, "accepted_answer_id": 59185233, "answer_count": 1, "score": 2, "last_activity_date": 1575496825, "creation_date": 1575483568, "question_id": 59182459, "link": "https://stackoverflow.com/questions/59182459/how-to-create-dynamic-grid-component-in-angular-8-and-bootstrap-whit-row-col-an", "title": "How to create dynamic grid component in angular 8 and bootstrap whit row, col and list string?", "body": "<p>I have a problem understanding how to create a grid component, which has in input of a number of columns, rows and a list of strings for the inside element of grid.</p>\n\n<p>my <strong><em>thumbnails.component.ts</em></strong></p>\n\n<pre><code>import { Component, Input } from '@angular/core';\n\n@Component({\n  selector: 'thumbnails',\n  templateUrl: './thumbnails.component.html',\n  styleUrls: ['./thumbnails.component.scss']\n})\n\nexport class ThumbnailsComponent{\n\n  public UrlList = [\"one\",\"two\",\"three\",\"four\",\"five\",\"six\",\"seven\",\"eight\",\"nine\",\"ten\"];\n  private col: Number = 4;\n  private row: Number = 4;\n\n}\n</code></pre>\n\n<p>my <strong><em>thumbnails.component.html</em></strong></p>\n\n<pre><code>&lt;div id=\"grid\"&gt;\n    &lt;ng-container *ngFor=\"let x of UrlList; let i = index\"&gt;\n        &lt;div class=\"row\"&gt;\n            &lt;div class=\"col\"&gt;\n                {{x}}\n            &lt;/div&gt;\n        &lt;/div&gt;\n    &lt;/ng-container&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>I don't know how to implement it. Can someone help me and explain it to me?</p>\n"}, {"tags": ["angular", "typescript"], "answers": [{"tags": [], "owner": {"reputation": 2687, "user_id": 11769164, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-cascCTYxkPQ/AAAAAAAAAAI/AAAAAAAAAkQ/KzEi1WfT8Ks/photo.jpg?sz=128", "display_name": "Ashot Aleqsanyan", "link": "https://stackoverflow.com/users/11769164/ashot-aleqsanyan"}, "is_accepted": true, "score": 3, "last_activity_date": 1575483399, "creation_date": 1575483399, "answer_id": 59182428, "question_id": 59182343, "link": "https://stackoverflow.com/questions/59182343/looping-through-days-of-week-and-outputting-in-data-table-in-angular/59182428#59182428", "title": "Looping through days of week and outputting in data table in Angular", "body": "<p>Please can you change your table body with this</p>\n\n<pre><code>   &lt;tbody&gt;\n       &lt;tr *ngFor=\"let week of weeks\"&gt;\n            &lt;td *ngFor=\"let weekDay of week \"&gt;\n                {{ weekDay.getDate() }}\n            &lt;/td&gt;\n       &lt;/tr&gt;\n   &lt;/tbody&gt;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 14058, "user_id": 6139527, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/m3NWl.jpg?s=128&g=1", "display_name": "Nicholas K", "link": "https://stackoverflow.com/users/6139527/nicholas-k"}, "is_accepted": false, "score": 2, "last_activity_date": 1575485129, "last_edit_date": 1575485129, "creation_date": 1575483739, "answer_id": 59182501, "question_id": 59182343, "link": "https://stackoverflow.com/questions/59182343/looping-through-days-of-week-and-outputting-in-data-table-in-angular/59182501#59182501", "title": "Looping through days of week and outputting in data table in Angular", "body": "<p>As mentioned in the <a href=\"https://stackoverflow.com/a/59182428/6139527\">other answer</a> you need to change the <code>&lt;tbody&gt;</code>. Also you need to change your <code>&lt;thead&gt;</code> to:</p>\n\n<pre><code>&lt;thead&gt;\n    &lt;tr&gt;\n        &lt;th *ngFor=\"let day of days\"&gt;\n            {{ day }}\n        &lt;/th&gt;\n    &lt;/tr&gt;\n&lt;/thead&gt;\n</code></pre>\n\n<hr>\n\n<p>Furthermore, invoking a method from the template is bad practice,</p>\n\n<pre><code>&lt;h3&gt;{{ getMonth() }} {{ getYear() }}&lt;/h3&gt;\n</code></pre>\n\n<p>would cause the method to be called everytime change detection is triggered. Instead you can assign the <em>returned</em> string to a variable and display it on the template. </p>\n\n<p>For eg:</p>\n\n<pre><code>monthToDisplay: string;\n\nngOnInit() {\n   this.getMonth();\n}\n\ngetMonth() {\n   this.monthToDisplay = this.months[this.currentDate.getMonth()];\n}\n</code></pre>\n\n<p>and on the .html</p>\n\n<pre><code>&lt;h3&gt;{{ monthToDisplay }}&lt;/h3&gt;\n</code></pre>\n"}], "owner": {"reputation": 303, "user_id": 4617257, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/685d8a3944c90ffa284095d8e826011d?s=128&d=identicon&r=PG&f=1", "display_name": "Randy Goldsmith", "link": "https://stackoverflow.com/users/4617257/randy-goldsmith"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1034, "favorite_count": 0, "accepted_answer_id": 59182428, "answer_count": 2, "score": 1, "last_activity_date": 1575522048, "creation_date": 1575483042, "last_edit_date": 1575522048, "question_id": 59182343, "link": "https://stackoverflow.com/questions/59182343/looping-through-days-of-week-and-outputting-in-data-table-in-angular", "title": "Looping through days of week and outputting in data table in Angular", "body": "<p>I am creating a calendar. The literature of making a calendar in Angular is very little. I'm a beginner to Angular so I know there is a more efficient way to do this but I'm going with what I got. I want to loop through an array of an arrays that has my date data in it thats called weeks.</p>\n\n<p>I then want to output weeks into a table using *ngFor. I was able to successfully do it but my code repeats 5 times and I figure there is a more cohesive way to do this. This is only for the month of December. Here is my code:</p>\n\n<p>calendar.component.ts</p>\n\n<pre><code>export class CalendarComponent implements OnInit {\n\n  currentDate = new Date();\n  months : string[] = [\"January\", \"February\", \"March\", \"April\", \"May\", \"June\", \"July\", \"August\", \"September\", \"October\", \"November\", \"December\"];\n  days: string[] = [\"Sunday\", \"Monday\", \"Tuesday\", \"Wednesday\", \"Thursday\", \"Friday\", \"Saturday\"];\n\n  currentYear : number; \n\n  weeks: Array&lt;any&gt; = [\n    [\n      new Date(2019, 11, 1),\n      new Date(2019, 11, 2),\n      new Date(2019, 11, 3),\n      new Date(2019, 11, 4),\n      new Date(2019, 11, 5),\n      new Date(2019, 11, 6),\n      new Date(2019, 11, 7)],\n    [\n      new Date(2019, 11, 8),\n      new Date(2019, 11, 9),\n      new Date(2019, 11, 10),\n      new Date(2019, 11, 11),\n      new Date(2019, 11, 12),\n      new Date(2019, 11, 13),\n      new Date(2019, 11, 14),\n    ],\n    [\n      new Date(2019, 11, 15),\n      new Date(2019, 11, 16),\n      new Date(2019, 11, 17),\n      new Date(2019, 11, 18),\n      new Date(2019, 11, 19),\n      new Date(2019, 11, 20),\n      new Date(2019, 11, 21),\n    ],\n    [\n      new Date(2019, 11, 22),\n      new Date(2019, 11, 23),\n      new Date(2019, 11, 24),\n      new Date(2019, 11, 25),\n      new Date(2019, 11, 26),\n      new Date(2019, 11, 27),\n      new Date(2019, 11, 28),\n    ],\n    [\n      new Date(2019, 11, 29),\n      new Date(2019, 11, 30),\n      new Date(2019, 11, 31),\n    ]\n  ]\n\n\n  constructor() { }\n\n  ngOnInit() {\n  }\n\n  getMonth() {\n    return this.months[this.currentDate.getMonth()];\n  }\n\n  getFirstDay() {\n    return this.days[this.currentDate.getDay()];\n  }\n\n  getYear() {\n    return this.currentDate.getFullYear();\n  }\n}\n</code></pre>\n\n<p>calendar.component.html</p>\n\n<pre><code>&lt;h3&gt;{{ getMonth() }} {{ getYear() }}&lt;/h3&gt;\n&lt;table&gt;\n    &lt;thead&gt;\n        &lt;tr&gt;\n            &lt;th *ngFor=\"let week of weeks[0]; let i = index\"&gt;\n                 {{ days[week.getDay()] }}\n            &lt;/th&gt;\n        &lt;/tr&gt;\n    &lt;/thead&gt;\n    &lt;tbody&gt;\n        &lt;tr&gt;\n            &lt;td *ngFor=\"let week of weeks[0]\"&gt;\n                {{ week.getDate() }}\n            &lt;/td&gt;\n        &lt;/tr&gt;\n        &lt;tr&gt;\n            &lt;td *ngFor=\"let week of weeks[1]\"&gt;\n                {{ week.getDate() }}\n            &lt;/td&gt;\n        &lt;/tr&gt;\n        &lt;tr&gt;\n            &lt;td *ngFor=\"let week of weeks[2]\"&gt;\n                {{ week.getDate() }}\n            &lt;/td&gt;\n        &lt;/tr&gt;\n        &lt;tr&gt;\n            &lt;td *ngFor=\"let week of weeks[3]\"&gt;\n                {{ week.getDate() }}\n            &lt;/td&gt;\n        &lt;/tr&gt;\n        &lt;tr&gt;\n            &lt;td *ngFor=\"let week of weeks[4]\"&gt;\n                {{ week.getDate() }}\n            &lt;/td&gt;\n        &lt;/tr&gt;\n    &lt;/tbody&gt;\n&lt;/table&gt;\n</code></pre>\n"}, {"tags": ["typescript", "typescript-typings"], "comments": [{"owner": {"reputation": 30153, "user_id": 12299000, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0pja9.png?s=128&g=1", "display_name": "kaya3", "link": "https://stackoverflow.com/users/12299000/kaya3"}, "edited": false, "score": 0, "creation_date": 1575483100, "post_id": 59182296, "comment_id": 104585494, "body": "Which line do you expect an error on? You are not passing a <code>FunctionStep&lt;number&gt;</code>, because although <code>clean</code> has that type, you are passing <code>clean()</code>, not the function itself."}, {"owner": {"reputation": 565, "user_id": 1816108, "user_type": "registered", "accept_rate": 36, "profile_image": "https://i.stack.imgur.com/jaRnr.jpg?s=128&g=1", "display_name": "Lars", "link": "https://stackoverflow.com/users/1816108/lars"}, "reply_to_user": {"reputation": 30153, "user_id": 12299000, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0pja9.png?s=128&g=1", "display_name": "kaya3", "link": "https://stackoverflow.com/users/12299000/kaya3"}, "edited": false, "score": 0, "creation_date": 1575484079, "post_id": 59182296, "comment_id": 104585947, "body": "@kaya3 yes, you&#39;re right, but shouldn&#39;t it complain that not a <code>FunctionStep</code> is being passed? as what&#39;s getting into <code>pipe</code> is the result of calling <code>clean()</code>. And any idea about how to model the intended behavior then? I&#39;m out of ideas."}, {"owner": {"reputation": 30153, "user_id": 12299000, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0pja9.png?s=128&g=1", "display_name": "kaya3", "link": "https://stackoverflow.com/users/12299000/kaya3"}, "edited": false, "score": 0, "creation_date": 1575484406, "post_id": 59182296, "comment_id": 104586094, "body": "Well, it does complain about that. <a href=\"http://www.typescriptlang.org/play/?ssl=1&amp;ssc=1&amp;pln=49&amp;pc=2#code/JYOwLgpgTgZghgYwgAgMIHtwQB5mQbwChllgATALmRAFcBbAI2gG5CBfQw0SWRFAMRogEYYJgDKkAA4AeACoA+AsWQAKUFJpgA-FTggAngEoqqhJki4qco8gC8S1VKgQAbpIhSA8ls069hrYOyPoGrByEMEIiYiDIUsBSEPLIOJAgZADOyABKEOZQZDKZYFCgAOYANCGGCgpmcAA2jQyIANaZVACCUFBwBjKCwqIS0vJ1tkQkLmA0UHFmFmnWQY4AdBtwUOWdNcb2Svhs4ZzmICXIZ5ZgVBhYuPbKJORUAIwATJXsp5gXCI0QfRUIYxUaeGS0RjQJR2NSrNRXNLw1Two6cBJJGR3a71f6AkAooyLe5gIzMIA\" rel=\"nofollow noreferrer\">Playground Link</a> The error also occurs in your own link. I&#39;m not sure what your intended behaviour is, though."}, {"owner": {"reputation": 15749, "user_id": 4420812, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9yQ4D.jpg?s=128&g=1", "display_name": "Maciej Sikora", "link": "https://stackoverflow.com/users/4420812/maciej-sikora"}, "edited": false, "score": 0, "creation_date": 1575500955, "post_id": 59182296, "comment_id": 104591941, "body": "I have exactly wanted error in this code. Dont see an issue."}], "answers": [{"tags": [], "owner": {"reputation": 133, "user_id": 8266984, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wFxbQ.jpg?s=128&g=1", "display_name": "Michael Wallace", "link": "https://stackoverflow.com/users/8266984/michael-wallace"}, "is_accepted": false, "score": 0, "last_activity_date": 1575484247, "creation_date": 1575484247, "answer_id": 59182619, "question_id": 59182296, "link": "https://stackoverflow.com/questions/59182296/why-typescript-is-not-complaining-about-this-code/59182619#59182619", "title": "Why TypeScript is not complaining about this code?", "body": "<p><code>FunctionStep&lt;T&gt;</code> expects a generic type, this means that <code>T</code> can be anything.\nSo there is no error in calling <code>FunctionStep&lt;Context&gt;</code>.</p>\n\n<p>If FunctionStep should expect a Context there is no reason to use a generic type, it should be a simple parameter. You can also limit what T can be using <code>FunctionStep&lt;T extends X | Y&gt;</code>.</p>\n"}, {"comments": [{"owner": {"reputation": 30153, "user_id": 12299000, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0pja9.png?s=128&g=1", "display_name": "kaya3", "link": "https://stackoverflow.com/users/12299000/kaya3"}, "edited": false, "score": 0, "creation_date": 1575484893, "post_id": 59182702, "comment_id": 104586291, "body": "I&#39;m curious what &#39;suggestion&#39; I made; I only asked questions. It&#39;s still not clear to me what the actual problem is, since Typescript makes the same complaint about both this and the original code."}, {"owner": {"reputation": 565, "user_id": 1816108, "user_type": "registered", "accept_rate": 36, "profile_image": "https://i.stack.imgur.com/jaRnr.jpg?s=128&g=1", "display_name": "Lars", "link": "https://stackoverflow.com/users/1816108/lars"}, "reply_to_user": {"reputation": 30153, "user_id": 12299000, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0pja9.png?s=128&g=1", "display_name": "kaya3", "link": "https://stackoverflow.com/users/12299000/kaya3"}, "edited": false, "score": 0, "creation_date": 1575484964, "post_id": 59182702, "comment_id": 104586319, "body": "The fact that I wasn&#39;t passing the function but actually, the result of calling the function."}, {"owner": {"reputation": 30153, "user_id": 12299000, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0pja9.png?s=128&g=1", "display_name": "kaya3", "link": "https://stackoverflow.com/users/12299000/kaya3"}, "edited": false, "score": 0, "creation_date": 1575485004, "post_id": 59182702, "comment_id": 104586332, "body": "OK, but your question was &quot;why is Typescript not complaining about this code?&quot;, and this edit doesn&#39;t cause Typescript to complain about anything new; there was the same type error in the original code."}, {"owner": {"reputation": 565, "user_id": 1816108, "user_type": "registered", "accept_rate": 36, "profile_image": "https://i.stack.imgur.com/jaRnr.jpg?s=128&g=1", "display_name": "Lars", "link": "https://stackoverflow.com/users/1816108/lars"}, "reply_to_user": {"reputation": 30153, "user_id": 12299000, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0pja9.png?s=128&g=1", "display_name": "kaya3", "link": "https://stackoverflow.com/users/12299000/kaya3"}, "edited": false, "score": 1, "creation_date": 1575486774, "post_id": 59182702, "comment_id": 104586997, "body": "Yes, it wasn&#39;t complaining about the right type of the generic context, with that edit, if you try to use <code>const clean = (): FunctionStep&lt;number&gt; =&gt; (context) =&gt; () =&gt; {}</code> it will complain, which was the main goal."}], "tags": [], "owner": {"reputation": 565, "user_id": 1816108, "user_type": "registered", "accept_rate": 36, "profile_image": "https://i.stack.imgur.com/jaRnr.jpg?s=128&g=1", "display_name": "Lars", "link": "https://stackoverflow.com/users/1816108/lars"}, "is_accepted": false, "score": 0, "last_activity_date": 1575484613, "creation_date": 1575484613, "answer_id": 59182702, "question_id": 59182296, "link": "https://stackoverflow.com/questions/59182296/why-typescript-is-not-complaining-about-this-code/59182702#59182702", "title": "Why TypeScript is not complaining about this code?", "body": "<p>After tinkering a bit more and taking into account @kaya3 suggestion, I found a way of making it behave as intended:</p>\n\n<pre><code>interface Context {\n  id: number;\n}\n\ninterface FunctionStep&lt;T&gt; {\n  (context: T): (prevStepOutput?: any) =&gt; any;\n}\n\nfunction pipe&lt;T extends Record&lt;string, any&gt;&gt;(callbacks: Array&lt;FunctionStep&lt;T&gt;&gt;) {\n  return (context: T) =&gt; (...args: any) =&gt; {};\n}\n\nconst context: Context = {\n  id: 12,\n}\n\nconst clean = (): FunctionStep&lt;Context&gt; =&gt; (context) =&gt; () =&gt; {}\n\npipe&lt;Context&gt;(clean())(context);\n</code></pre>\n"}], "owner": {"reputation": 565, "user_id": 1816108, "user_type": "registered", "accept_rate": 36, "profile_image": "https://i.stack.imgur.com/jaRnr.jpg?s=128&g=1", "display_name": "Lars", "link": "https://stackoverflow.com/users/1816108/lars"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 139, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1575484613, "creation_date": 1575482846, "question_id": 59182296, "link": "https://stackoverflow.com/questions/59182296/why-typescript-is-not-complaining-about-this-code", "title": "Why TypeScript is not complaining about this code?", "body": "<p>If I have the following code:</p>\n\n<pre><code>interface Context {\n  id: number;\n}\n\ninterface FunctionStep&lt;T&gt; {\n  (input?: any): (context: T) =&gt; (prevStepOutput?: any) =&gt; any;\n}\n\nfunction pipe&lt;T extends Record&lt;string, any&gt;&gt;(callbacks: Array&lt;FunctionStep&lt;T&gt;&gt;) {\n  return (context: T) =&gt; (...args: any) =&gt; {};\n}\n\nconst context: Context = {\n  id: 12,\n}\n\nconst clean: FunctionStep&lt;number&gt; = () =&gt; (context) =&gt; () =&gt; {}\n\npipe&lt;Context&gt;(clean())(context);\n</code></pre>\n\n<p>I would expect TypeScript to complain because I'm passing a <code>FunctionStep&lt;number&gt;</code> where it should be expecting a <code>FunctionStep&lt;Context&gt;</code>. Why instead everything appears as correct?</p>\n\n<p>Test sandbox: <a href=\"https://codesandbox.io/s/brave-cookies-k51mb\" rel=\"nofollow noreferrer\">https://codesandbox.io/s/brave-cookies-k51mb</a></p>\n\n<p>If that's the expected behavior, how could I restrain the <code>FunctionStep</code> passed to <code>pipe</code> to be those of the correct <code>context</code> type?</p>\n"}, {"tags": ["javascript", "typescript", "syntax-error"], "comments": [{"owner": {"reputation": 6746, "user_id": 630614, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/d839f4ae809107700e1895cadd3591f5?s=128&d=identicon&r=PG", "display_name": "Charlie Schliesser", "link": "https://stackoverflow.com/users/630614/charlie-schliesser"}, "edited": false, "score": 0, "creation_date": 1575482569, "post_id": 59182184, "comment_id": 104585208, "body": "Well, when you read the errors what do they tell you?"}, {"owner": {"reputation": 31092, "user_id": 1715121, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/6nEEr.jpg?s=128&g=1", "display_name": "Ele", "link": "https://stackoverflow.com/users/1715121/ele"}, "edited": false, "score": 0, "creation_date": 1575482632, "post_id": 59182184, "comment_id": 104585237, "body": "You have a variable and a function called with the same name <code>digibord</code>."}], "answers": [{"tags": [], "owner": {"reputation": 993, "user_id": 4403376, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/wysy6.png?s=128&g=1", "display_name": "Derek Lawrence", "link": "https://stackoverflow.com/users/4403376/derek-lawrence"}, "is_accepted": true, "score": 1, "last_activity_date": 1575482636, "creation_date": 1575482636, "answer_id": 59182243, "question_id": 59182184, "link": "https://stackoverflow.com/questions/59182184/typeerror-index-is-declared-but-its-value-is-never-read-typescript/59182243#59182243", "title": "TypeError &#39;index&#39; is declared but its value is never read TypeScript", "body": "<p>The first error is just a warning its not being used.</p>\n\n<p>The second one, you have named a function and a variable the same name which you cannot do. Change the name of the variable or function</p>\n"}], "owner": {"reputation": 17, "user_id": 12444247, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-VprnkRLqxdg/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rfAE2M2lifeMyXUehF3Fx9lMVvcmg/photo.jpg?sz=128", "display_name": "Martijn_-", "link": "https://stackoverflow.com/users/12444247/martijn"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 632, "favorite_count": 0, "closed_date": 1575482705, "accepted_answer_id": 59182243, "answer_count": 1, "score": 0, "last_activity_date": 1575482636, "creation_date": 1575482423, "last_edit_date": 1575482567, "question_id": 59182184, "link": "https://stackoverflow.com/questions/59182184/typeerror-index-is-declared-but-its-value-is-never-read-typescript", "closed_reason": "Duplicate", "title": "TypeError &#39;index&#39; is declared but its value is never read TypeScript", "body": "<p>I'm currently making a chatbot for a school project. Its goal is to solve problems around school. But there are some issues in my code.                                                                           I keep getting the following message:</p>\n\n<pre><code>(parameter) index: any\n'index' is declared but its value is never read.ts(6133)\n</code></pre>\n\n<p>And...</p>\n\n<pre><code>TypeError: digibord is not a function\n    at digibord.forEach (C:\\Users\\marti\\Chatbot\\index.js:47:13)\n</code></pre>\n\n<p>My code looks like the following:</p>\n\n<pre><code>var digibord =\n    {\n        name: [\"digibord\",\"smartboard\",\"schoolbord\"]\n    };\n\nfunction handleMessage(message) {\n    digibord.forEach((value, index) =&gt; {\n        if (value.name.includes(message)) {\n            digibord();\n            console.log(message);\n        }\n    });\n}\n\nfunction digibord() {\n    const params = {\n        icon_emoji: ':smiley:'\n    }\n    bot.postMessageToChannel('general', 'Okay...In what classroom is your current problem?',params);\n};\n</code></pre>\n\n<p>Any tips on how to solve this? </p>\n"}, {"tags": ["typescript", "vue.js", "vue-reactivity"], "answers": [{"tags": [], "owner": {"reputation": 9767, "user_id": 4144, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/9aaf52f7772439d2a4c0ad12fe4929fa?s=128&d=identicon&r=PG", "display_name": "Mike Fielden", "link": "https://stackoverflow.com/users/4144/mike-fielden"}, "is_accepted": true, "score": 0, "last_activity_date": 1575484549, "creation_date": 1575484549, "answer_id": 59182686, "question_id": 59181847, "link": "https://stackoverflow.com/questions/59181847/vue-reactivity-when-using-typescript-classes/59182686#59182686", "title": "Vue Reactivity when using Typescript classes", "body": "<p>If you pass the instance of the class to the <code>data</code> of <code>Vue</code> then everything works as expected. Its not ideal but the following works:</p>\n\n<pre><code>const App = {\n    name: 'App',\n\n    template: `&lt;p&gt;Hello {{ name }}&lt;/p&gt;`,\n\n    computed: {\n        // Expect to resolve to 'Person data'\n        name() {\n            return this.$module.person;\n        }\n    },\n\n    data() {\n        return {\n            module: this.$module\n        };\n    },\n\n    async created() {\n        const data = await this.$module.fetchData();\n\n        this.$module.person = data;\n    }\n};\n\n</code></pre>\n"}], "owner": {"reputation": 9767, "user_id": 4144, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/9aaf52f7772439d2a4c0ad12fe4929fa?s=128&d=identicon&r=PG", "display_name": "Mike Fielden", "link": "https://stackoverflow.com/users/4144/mike-fielden"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 438, "favorite_count": 0, "accepted_answer_id": 59182686, "answer_count": 1, "score": 2, "last_activity_date": 1575485084, "creation_date": 1575481019, "question_id": 59181847, "link": "https://stackoverflow.com/questions/59181847/vue-reactivity-when-using-typescript-classes", "title": "Vue Reactivity when using Typescript classes", "body": "<p>I have a Vue 2.6.10 app running Typescript 3.6.3.</p>\n\n<p>I have a Typescript class declared that performs some standard functions for the application.  I have a plugin that assigns the instance of that class to Vue's prototype.</p>\n\n<p>No public member of that instantiated class is reactive regardless of its type.</p>\n\n<p>I distilled the example down <a href=\"https://codepen.io/ColdToast/pen/KKwwjwY\" rel=\"nofollow noreferrer\">https://codepen.io/ColdToast/pen/KKwwjwY</a></p>\n\n<p><strong>Class</strong></p>\n\n<pre class=\"lang-js prettyprint-override\"><code>class Module {\n    public _person = null;\n\n    constructor() {}\n\n    get person() {\n        return this._person;\n    }\n\n    set person(val) {\n        this._person = val;\n    }\n\n    fetchData() {\n        return new Promise((resolve, reject) =&gt; {\n            setTimeout(() =&gt; resolve('Person data'), 1000);\n        });\n    }\n}\n</code></pre>\n\n<p><strong>Plugin and App</strong></p>\n\n<pre class=\"lang-js prettyprint-override\"><code>const MyPlugin = {\n    install(Vue) {\n        Object.defineProperties(Vue.prototype, {\n            $module: { value: new Module() }\n        });\n    }\n};\n\nconst App = {\n    name: 'App',\n\n    template: `&lt;p&gt;Hello {{ name }}&lt;/p&gt;`,\n\n    computed: {\n        // Expect to resolve to 'Person data'\n        name() {\n            return this.$module.person;\n        }\n    },\n\n    async created() {\n        // I expect `data` to be 'Person data'\n        const data = await this.$module.fetchData();\n\n        // Properly logs 'Person data'\n        console.log(data);\n\n        this.$module.person = data;\n    }\n};\n</code></pre>\n"}, {"tags": ["typescript", "openlayers", "openlayers-6"], "answers": [{"tags": [], "owner": {"reputation": 7639, "user_id": 3783693, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/ySfy8.png?s=128&g=1", "display_name": "WebWanderer", "link": "https://stackoverflow.com/users/3783693/webwanderer"}, "is_accepted": false, "score": 0, "last_activity_date": 1575651078, "creation_date": 1575651078, "answer_id": 59217263, "question_id": 59181546, "link": "https://stackoverflow.com/questions/59181546/openlayers-6-forcibly-select-polygon/59217263#59217263", "title": "OpenLayers 6: Forcibly Select Polygon", "body": "<p>I found my answer in a pretty obscure place. This was <a href=\"https://stackoverflow.com/questions/49746970/openlayers-4-fit-to-extent-of-selected-features\">an old answer to an old question</a> about fitting a viewport to a selected set of polygons.</p>\n\n<p>It appears that you can modify a collection by reference and the map will update to reflect the changes.</p>\n\n<p>Therefore, we can get the Collection of selected features from a Select Interaction, clear the contents, and set the new contents.</p>\n\n<pre><code>import { Collection } from 'ol';\n\n...\n\ntype RegisteredListener = (event: MapBrowserEvent | DrawEvent | SelectEvent) =&gt; boolean;\n\n...\n\nprivate _drawingSource: VectorSource = new VectorSource({wrapX: false});\nprivate _drawingLayer: VectorLayer = new VectorLayer({\n    source: this._drawingSource\n});\nprivate _registeredDraw: Draw = new Draw({\n    source: this._drawingSource,\n    type: 'Polygon'\n});\nprivate _registeredSelector: Select = new Select({\n    condition: click,\n    multi: false,\n    filter: (feature: FeatureLike, layer: Layer) =&gt; {\n        const geometry: RenderFeature | Geometry | undefined = feature.getGeometry();\n        if (geometry &amp;&amp; geometry.getType() === 'Polygon') {\n            return true;\n        }\n        return false;\n    }\n});\n\n...\n\nprivate _onDrawEnd: RegisteredListener = (event: DrawEvent) =&gt; {\n    if (event.feature) {\n        // Get Collection of selected Features\n        const selectedCollection: Collection&lt;FeatureLike&gt; = this._registeredSelector.getFeatures();\n        // Clear the Collection\n        selectedCollection.clear();\n        // Add the recently drawn Feature to the collection\n        selectedCollection.push(event.feature);\n        event.stopPropagation();\n        // Re-enable the Select Interaction\n        // If we don't set a timeout before enabling the Select Interaction again,\n        // it will fire with the location if the last point, selecting only Point and/or LineString,\n        // not the Polygon. This would clear the selected features. This occurs even if we stop the event propagation.\n        setTimeout(() =&gt; {\n            this._registeredDraw.setActive(true);\n            this._registeredSelect.setActive(true);\n        });\n    }\n    return false;\n}\n</code></pre>\n"}], "owner": {"reputation": 7639, "user_id": 3783693, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/ySfy8.png?s=128&g=1", "display_name": "WebWanderer", "link": "https://stackoverflow.com/users/3783693/webwanderer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 344, "favorite_count": 1, "answer_count": 1, "score": 0, "last_activity_date": 1575651115, "creation_date": 1575479964, "last_edit_date": 1575651115, "question_id": 59181546, "link": "https://stackoverflow.com/questions/59181546/openlayers-6-forcibly-select-polygon", "title": "OpenLayers 6: Forcibly Select Polygon", "body": "<p>I've implemented OpenLayers 6 with a Select interaction and a Draw interaction, which I toggle between.</p>\n\n<p>We can assume that the user is only drawing polygons (geometry of three points or more).</p>\n\n<p>I want the polygon drawn to be selected once it is completed.</p>\n\n<p>So, I listen for 'drawend' on the Draw interaction, set the draw interaction to inactive, set the select interaction to active, but then I need to set the selected features to be only the drawn feature.</p>\n\n<p>So far, all I have is this clunky hack that I came up with:</p>\n\n<pre><code>// Find the center point of the drawn feature (EPSG:3857)\nconst featureCenter: [number, number] = this._getCenterOfExtent(geometry.getExtent());\n// Get the local pixel coordinate for the feature's center\nconst pixel: Pixel = this._map.getPixelFromCoordinate(featureCenter);\n// Create a new MapBrowserEvent registering a 'click' on this local pixel coordinate\nconst mbEvent: MapBrowserEvent = new MapBrowserEvent('click', this._map, new MouseEvent('click', {\n    bubbles: true,\n    cancelable: true,\n    clientX: pixel[0],\n    clientY: pixel[1]\n}));\n// Turn off multi-polygon selection on our Select Interaction. We only want the top polygon at this spot.\nthis._registeredSelector.setProperties({\n    multi: false\n});\n// Trigger the 'click' event on the map\nthis._map.dispatchEvent(mbEvent);\n</code></pre>\n\n<p>Unfortunately, this doesn't always work.\nI'm listening for 'click' on my Select interaction, and it does fire after forcibly triggering a click.\nSometimes, though, the event has multiple geometries of Point, LineString, and Polygon. Many times, it doesn't even have a Polygon geometry in the <code>selected</code> array. Other times, it has a nearby Polygon geometry in the <code>selected</code> array, and not the one we last drew.</p>\n\n<p>Is there an OpenLayers native method for forcibly triggering the selection of a specific feature?</p>\n\n<p>Also, here is my <code>_getCenterOfExtent</code> method:</p>\n\n<pre><code>/* EXPECTS EPSG:3857 */\nprivate _getCenterOfExtent(extent: Extent):[number, number] {\n    return [\n        extent[0] + (extent[2]-extent[0])/2,\n        extent[1] + (extent[3]-extent[1])/2\n    ];\n}\n</code></pre>\n\n<p><strong>UPDATE</strong>\nUsing the screen coordinates for my click event against the window object appears to work more accurately than attempting client coordinates against the map.\nAlso, I found that programmatically toggling <code>multi</code> on the Select Interaction does not actual work, at least not the way I was trying. I switched to always use single select, which should meet our needs.</p>\n\n<pre><code>const bbox: ClientRect | DOMRect = this._map.getTargetElement().getBoundingClientRect();\nlet mbEvent: MapBrowserEvent | undefined;\nif (bbox) {\n    pixel[0] += bbox.left;\n    pixel[1] += bbox.top;\n    mbEvent = new MapBrowserEvent('click', this._map, new MouseEvent('click', {\n        view: window,\n        bubbles: true,\n        cancelable: true,\n        screenX: pixel[0],\n        screenY: pixel[1]\n    }));\n} else {\n    mbEvent = new MapBrowserEvent('click', this._map, new MouseEvent('click', {\n        bubbles: true,\n        cancelable: true,\n        clientX: pixel[0],\n        clientY: pixel[1]\n    }));\n}\nthis._map.dispatchEvent(mbEvent);\n</code></pre>\n"}, {"tags": ["reactjs", "typescript", "redux", "redux-toolkit"], "answers": [{"tags": [], "owner": {"reputation": 5315, "user_id": 4332533, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dde08584163d505e3952393707ac25e4?s=128&d=identicon&r=PG&f=1", "display_name": "Freez", "link": "https://stackoverflow.com/users/4332533/freez"}, "is_accepted": true, "score": 0, "last_activity_date": 1575480654, "creation_date": 1575480654, "answer_id": 59181746, "question_id": 59181450, "link": "https://stackoverflow.com/questions/59181450/typing-middleware-with-redux-toolkit/59181746#59181746", "title": "Typing middleware with redux-toolkit", "body": "<p><code>ThunkDispatch</code> is not exported by <code>@reduxjs/toolkit</code>. You should import it from <code>redux-thunk</code> if you want to use it.</p>\n\n<pre><code>import { ThunkDispatch } from 'redux-thunk'; \n\nconst fetchPrices = () =&gt;\n  async (dispatch: ThunkDispatch) =&gt; {\n    const response = await fetch('https://jsonbox.io/box_4186ae80994ed3789969/prices/5de7e570de45ab001702a382')\n    const { prices } = await response.json()\n\n    dispatch(setPrices({ prices }))\n  }\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 3218, "user_id": 3440266, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/9d37ddb4e007bfd22023d6d5b95f0a45?s=128&d=identicon&r=PG&f=1", "display_name": "macabeus", "link": "https://stackoverflow.com/users/3440266/macabeus"}, "edited": false, "score": 0, "creation_date": 1576078589, "post_id": 59275967, "comment_id": 104783445, "body": "Thank you, but I found another solution using hooks to perform an async task =]"}], "tags": [], "owner": {"reputation": 4030, "user_id": 2075944, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CGDE9.png?s=128&g=1", "display_name": "phry", "link": "https://stackoverflow.com/users/2075944/phry"}, "is_accepted": false, "score": 0, "last_activity_date": 1576015018, "creation_date": 1576015018, "answer_id": 59275967, "question_id": 59181450, "link": "https://stackoverflow.com/questions/59181450/typing-middleware-with-redux-toolkit/59275967#59275967", "title": "Typing middleware with redux-toolkit", "body": "<p>The <a href=\"https://react-redux.js.org/using-react-redux/static-typing#typing-the-usedispatch-hook\" rel=\"nofollow noreferrer\">official suggestion</a> is to use <code>typeof store.dispatch</code>, as Redux-Toolkit's <code>store.dispatch</code> already includes <code>ThunkDispatch</code>. (And you can extend <code>store.dispatch</code> if you use additional middlewares and have everything in a central location then.)</p>\n\n<p>In addition, please also take a look at the <a href=\"https://redux-toolkit.js.org/usage/usage-with-typescript#getting-the-dispatch-type\" rel=\"nofollow noreferrer\">TypeScript documentation</a> of Redux-Toolkit. If you miss anything imporant, please open an issue and let us know :)</p>\n"}], "owner": {"reputation": 3218, "user_id": 3440266, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/9d37ddb4e007bfd22023d6d5b95f0a45?s=128&d=identicon&r=PG&f=1", "display_name": "macabeus", "link": "https://stackoverflow.com/users/3440266/macabeus"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 769, "favorite_count": 0, "accepted_answer_id": 59181746, "answer_count": 2, "score": 0, "last_activity_date": 1578349309, "creation_date": 1575479691, "last_edit_date": 1578349309, "question_id": 59181450, "link": "https://stackoverflow.com/questions/59181450/typing-middleware-with-redux-toolkit", "title": "Typing middleware with redux-toolkit", "body": "<p>I'm developing a webapp using TypeScript and <code>redux-toolkit</code>.</p>\n\n<p><strong>tl;dr</strong></p>\n\n<p>How to the set the type for <code>dispatch</code> parameter on a middleware?</p>\n\n<hr>\n\n<p>I need to fetch some data from my server and save it on my store. So I wrote a code like bellow (simplified):</p>\n\n<pre><code>import { createSlice } from '@reduxjs/toolkit'\nimport { TNewOrder } from '../store'\n\nconst initialState: TNewOrder = {\n  prices: [],\n  // other stuffs...\n}\n\nconst newOrderSlice = createSlice({\n  initialState,\n  name: 'new-order',\n  reducers: {\n    setPrices(state, action) {\n      const { payload } = action\n\n      return {\n        ...state,\n        prices: payload.prices\n      }\n    },\n\n    updateFormData(state, action) {\n      // not important...\n    }\n  }\n})\n\nconst { setPrices, updateFormData } = newOrderSlice.actions\n\nconst fetchPrices = () =&gt;\n  async (dispatch: any) =&gt; {\n    const response = await fetch('https://jsonbox.io/box_4186ae80994ed3789969/prices/5de7e570de45ab001702a382')\n    const { prices } = await response.json()\n\n    dispatch(setPrices({ prices }))\n  }\n\nexport { fetchPrices, updateFormData }\nexport default newOrderSlice.reducer\n</code></pre>\n\n<p>Note that, because to get fetch a data is an async task, I can't put it directly on <code>setPrices</code>. So I created a middleware called <code>fetchPrices</code> to do the request task and call <code>setPrices</code>.</p>\n\n<p>Despite it works, I'm unhappy with this solution because I set an <code>any</code> type. How is the correctly way to set a better type? I can't found a way to import <code>ThunkDispatch</code> from <code>redux-toolkit</code>.</p>\n\n<p>Is there a better way to do it?</p>\n"}, {"tags": ["javascript", "html", "css", "angular", "typescript"], "comments": [{"owner": {"reputation": 30623, "user_id": 1762224, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/20969bd926bb6a29ee19a07a25f7fea8?s=128&d=identicon&r=PG", "display_name": "Mr. Polywhirl", "link": "https://stackoverflow.com/users/1762224/mr-polywhirl"}, "edited": false, "score": 0, "creation_date": 1575479097, "post_id": 59181214, "comment_id": 104583383, "body": "Did you try <code>margin: 0 auto;</code>?"}], "answers": [{"tags": [], "owner": {"reputation": 2044, "user_id": 6790744, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-ika8-LBDpT8/AAAAAAAAAAI/AAAAAAAAANk/OXjEetrtAWc/photo.jpg?sz=128", "display_name": "Akshay Bande", "link": "https://stackoverflow.com/users/6790744/akshay-bande"}, "is_accepted": false, "score": 0, "last_activity_date": 1575479100, "creation_date": 1575479100, "answer_id": 59181294, "question_id": 59181214, "link": "https://stackoverflow.com/questions/59181214/how-to-position-input-and-p-element-such-that-their-centers-match-each-other/59181294#59181294", "title": "How to position input and p element such that their centers match each other", "body": "<p>Use <code>text-align:center</code>\n<div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;div style=\"text-align:center\"&gt;\r\n  &lt;input id=\"inputCustomer\" type=\"text\"&gt;\r\n&lt;/div&gt;\r\n&lt;p id=\"spandiv\" style=\"text-align:center\"&gt;Customer name&lt;/p&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": [], "owner": {"reputation": 30623, "user_id": 1762224, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/20969bd926bb6a29ee19a07a25f7fea8?s=128&d=identicon&r=PG", "display_name": "Mr. Polywhirl", "link": "https://stackoverflow.com/users/1762224/mr-polywhirl"}, "is_accepted": false, "score": 0, "last_activity_date": 1575479309, "creation_date": 1575479309, "answer_id": 59181352, "question_id": 59181214, "link": "https://stackoverflow.com/questions/59181214/how-to-position-input-and-p-element-such-that-their-centers-match-each-other/59181352#59181352", "title": "How to position input and p element such that their centers match each other", "body": "<p>You can:</p>\n\n<ol>\n<li>have the <code>&lt;input&gt;</code> display as a <code>block</code> and provide a left and right <code>margin</code> of <code>auto</code></li>\n<li>have the <code>&lt;p&gt;</code> align its text in the <code>center</code>, since the width (by default) is <code>100%</code>.</li>\n</ol>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>.wrapper &gt; input {\r\n  display: block;\r\n  margin-left: auto;\r\n  margin-right: auto;\r\n}\r\n.wrapper &gt; p {\r\n  text-align: center;\r\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;div class=\"wrapper\"&gt;\r\n  &lt;input id=\"inputCustomer\" tyep=\"text\"&gt;\r\n  &lt;p id=\"spandiv\"&gt;{{customerName}}&lt;/p&gt;\r\n&lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": [], "owner": {"reputation": 700, "user_id": 3136401, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9u5Fx.jpg?s=128&g=1", "display_name": "Sarvesh Mahajan", "link": "https://stackoverflow.com/users/3136401/sarvesh-mahajan"}, "is_accepted": false, "score": 0, "last_activity_date": 1575479826, "creation_date": 1575479826, "answer_id": 59181502, "question_id": 59181214, "link": "https://stackoverflow.com/questions/59181214/how-to-position-input-and-p-element-such-that-their-centers-match-each-other/59181502#59181502", "title": "How to position input and p element such that their centers match each other", "body": "<p>Please find below code snippet, this might be useful:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>ul {\r\n  list-style: none;\r\n  padding: 0;\r\n  margin: 0;\r\n}\r\n\r\nli {\r\n  padding: 0;\r\n  margin: 0;\r\n  display: inline-block;\r\n  position: relative;\r\n}\r\n\r\nli p {\r\n  display: none;\r\n  position: absolute;\r\n  top: 0;\r\n  left: 50px\r\n  background-color: #FFF;\r\n}\r\n\r\nli:hover p {\r\n  display: block;\r\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;ul&gt;\r\n  &lt;li&gt;\r\n    &lt;input type=\"text\" /&gt;\r\n    &lt;p&gt;Text to show&lt;/p&gt;\r\n  &lt;/li&gt;\r\n&lt;/ul&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 1633, "user_id": 11272449, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7a449ca3aaecdd974bd0d060e4bc3009?s=128&d=identicon&r=PG&f=1", "display_name": "karansys", "link": "https://stackoverflow.com/users/11272449/karansys"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 37, "favorite_count": 0, "answer_count": 3, "score": -2, "last_activity_date": 1575479826, "creation_date": 1575478837, "question_id": 59181214, "link": "https://stackoverflow.com/questions/59181214/how-to-position-input-and-p-element-such-that-their-centers-match-each-other", "title": "How to position input and p element such that their centers match each other", "body": "<p>I want the element #1 and #2 to have center matching against each other. I want element 1 and 2 center (mid point) to match. How do I achieve this using css?</p>\n\n<pre><code> &lt;input id=\"inputCustomer\" tyep=\"text\"&gt;\n &lt;p id=\"spandiv\"&gt;{{customerName}}&lt;/p&gt;\n\n</code></pre>\n\n<p>First element is input box and second element is p element, that appears when I hover over the input element. </p>\n\n<p><a href=\"https://i.stack.imgur.com/EDoHq.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/EDoHq.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["javascript", "java", "html", "typescript"], "comments": [{"owner": {"reputation": 125, "user_id": 9203198, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d53d6fc5dc57085c28bba07bb69d19b1?s=128&d=identicon&r=PG&f=1", "display_name": "GJL", "link": "https://stackoverflow.com/users/9203198/gjl"}, "edited": false, "score": 3, "creation_date": 1575478258, "post_id": 59180977, "comment_id": 104582886, "body": "Java and JavaScript are not the same thing."}, {"owner": {"reputation": 444, "user_id": 4682816, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/A5AbC.gif?s=128&g=1", "display_name": "scigs", "link": "https://stackoverflow.com/users/4682816/scigs"}, "edited": false, "score": 1, "creation_date": 1575478276, "post_id": 59180977, "comment_id": 104582897, "body": "console.log does not exist in java. are you trying to write a java or java script program"}], "answers": [{"tags": [], "owner": {"reputation": 2136, "user_id": 8045645, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-AHubENEZPy0/AAAAAAAAAAI/AAAAAAAAAMo/Cpy8tBFBHGA/photo.jpg?sz=128", "display_name": "Renaldo Balaj", "link": "https://stackoverflow.com/users/8045645/renaldo-balaj"}, "is_accepted": false, "score": 0, "last_activity_date": 1575478270, "creation_date": 1575478270, "answer_id": 59181014, "question_id": 59180977, "link": "https://stackoverflow.com/questions/59180977/how-can-i-use-log-in-java-just-like-console-log-in-javascript/59181014#59181014", "title": "How can I use log in Java, just like console.log() in javascript?", "body": "<p>You may need to take a <strong>tutorial</strong> anyway:</p>\n\n<pre><code>System.out.println(String msg)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 46, "user_id": 9504539, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7b56b0e11f96360f8cdd02c64f5ca316?s=128&d=identicon&r=PG&f=1", "display_name": "Alberto Mej&#237;a", "link": "https://stackoverflow.com/users/9504539/alberto-mej%c3%ada"}, "is_accepted": true, "score": 2, "last_activity_date": 1575478283, "creation_date": 1575478283, "answer_id": 59181022, "question_id": 59180977, "link": "https://stackoverflow.com/questions/59180977/how-can-i-use-log-in-java-just-like-console-log-in-javascript/59181022#59181022", "title": "How can I use log in Java, just like console.log() in javascript?", "body": "<p>You can use <code>System.out.print(\"Hello word\")</code> in order to print on your console.</p>\n\n<p>If you want to learn more <a href=\"https://www.javatpoint.com/system-out-println-in-java\" rel=\"nofollow noreferrer\">https://www.javatpoint.com/system-out-println-in-java</a></p>\n"}, {"tags": [], "owner": {"reputation": 3302, "user_id": 12431728, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d5fb7b733c152599fa38023820400e9b?s=128&d=identicon&r=PG&f=1", "display_name": "Matt U", "link": "https://stackoverflow.com/users/12431728/matt-u"}, "is_accepted": false, "score": 0, "last_activity_date": 1575478287, "creation_date": 1575478287, "answer_id": 59181024, "question_id": 59180977, "link": "https://stackoverflow.com/questions/59180977/how-can-i-use-log-in-java-just-like-console-log-in-javascript/59181024#59181024", "title": "How can I use log in Java, just like console.log() in javascript?", "body": "<p><code>System.out.println(\"message\");</code> will write a message to the console.</p>\n"}, {"tags": [], "owner": {"reputation": 116, "user_id": 7214332, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1c8d4081e1fd82bfc8c4ed8946857d87?s=128&d=identicon&r=PG", "display_name": "JoshMathews", "link": "https://stackoverflow.com/users/7214332/joshmathews"}, "is_accepted": false, "score": 2, "last_activity_date": 1575478361, "creation_date": 1575478361, "answer_id": 59181044, "question_id": 59180977, "link": "https://stackoverflow.com/questions/59180977/how-can-i-use-log-in-java-just-like-console-log-in-javascript/59181044#59181044", "title": "How can I use log in Java, just like console.log() in javascript?", "body": "<p>Java doesn't use console.log; it is a totally different language than Javascript.  You would use <code>System.out.print</code> or <code>System.out.println</code> instead.  </p>\n\n<p>Good luck with your learning!  </p>\n"}], "owner": {"reputation": 47, "user_id": 7543244, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-D6-lSw-tPJ4/AAAAAAAAAAI/AAAAAAAAAIM/8VvmPHPwei8/photo.jpg?sz=128", "display_name": "Eduardo Arellano", "link": "https://stackoverflow.com/users/7543244/eduardo-arellano"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 235, "favorite_count": 0, "closed_date": 1575479321, "accepted_answer_id": 59181022, "answer_count": 4, "score": -2, "last_activity_date": 1575478975, "creation_date": 1575478166, "last_edit_date": 1575478975, "question_id": 59180977, "link": "https://stackoverflow.com/questions/59180977/how-can-i-use-log-in-java-just-like-console-log-in-javascript", "closed_reason": "Duplicate", "title": "How can I use log in Java, just like console.log() in javascript?", "body": "<p>how can I use a <code>log()</code> on Java, the way we use <code>console.log()</code> in javascript?</p>\n\n<p>It gives me a syntax error</p>\n\n<p>Please and thank you, best regards</p>\n"}, {"tags": ["reactjs", "typescript"], "answers": [{"tags": [], "owner": {"reputation": 133, "user_id": 8266984, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wFxbQ.jpg?s=128&g=1", "display_name": "Michael Wallace", "link": "https://stackoverflow.com/users/8266984/michael-wallace"}, "is_accepted": false, "score": 1, "last_activity_date": 1575479420, "last_edit_date": 1575479420, "creation_date": 1575479108, "answer_id": 59181297, "question_id": 59180904, "link": "https://stackoverflow.com/questions/59180904/dont-know-the-point-of-typescript-definition-file-for-react-component/59181297#59181297", "title": "Don&#39;t know the point of TypeScript definition file for React Component", "body": "<p>As you have said \"typescript definition file helps us to use javascript version of the code with Typescript\", and that is exactly what is been done here.</p>\n\n<p>Your component is write in vanilla JS, so the component do not have types. This means that when you use the component like <code>&lt;Button/&gt;</code> his type will be <strong>any</strong> and there is no way for Typescript to infer what are the props you need to pass to the component.</p>\n\n<p>What this definition file do is declare what will be the types of the props for this component and pass it to the React.Component class through generics. But i do not know exactly why he is declaring this generic <code>T = {[key: string]: any}</code>, this would require a deeper analyses or is just a implementation error.</p>\n\n<p>And the react <strong>propTypes</strong> object just will be used in the runtime to check if you are not passing nothing wrong, but typescript will ignore it completely. Also, all typescript code will be transpiled to vanilla JS, this means that typescript will not do any type check in runtime.</p>\n\n<p>\"the javascript version of this component has 2 additional props\"</p>\n\n<p>Maybe these props already exist in the parent component he is extending: React.ButtonHTMLAttributes</p>\n"}], "owner": {"reputation": 361, "user_id": 12420662, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/32408b921819aa9d9dcbbf7d4a591950?s=128&d=identicon&r=PG&f=1", "display_name": "John Chucks", "link": "https://stackoverflow.com/users/12420662/john-chucks"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 195, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1575479708, "creation_date": 1575477910, "last_edit_date": 1575479708, "question_id": 59180904, "link": "https://stackoverflow.com/questions/59180904/dont-know-the-point-of-typescript-definition-file-for-react-component", "title": "Don&#39;t know the point of TypeScript definition file for React Component", "body": "<p>I know the TypeScript definition file helps us to use JavaScript version of the code with TypeScript. But I'm trying to understand the TypeScript definition file for a React component. These questions were asked by the interviewer and I don't know the answer to these questions. But I want to know. The component is written in JavaScript but also there is Typescript definition file.</p>\n\n<p><strong>Button.js:</strong></p>\n\n<pre><code>import React from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\nimport { mapToCssModules, tagPropType } from './utils';\n\nconst propTypes = {\n  active: PropTypes.bool,\n  'aria-label': PropTypes.string,\n  block: PropTypes.bool,\n  color: PropTypes.string,\n  disabled: PropTypes.bool,\n  outline: PropTypes.bool,\n  tag: tagPropType,\n  innerRef: PropTypes.oneOfType([PropTypes.object, PropTypes.func, PropTypes.string]),\n  onClick: PropTypes.func,\n  size: PropTypes.string,\n  children: PropTypes.node,\n  className: PropTypes.string,\n  cssModule: PropTypes.object,\n  close: PropTypes.bool,\n};\n\nconst defaultProps = {\n  color: 'secondary',\n  tag: 'button',\n};\n\nclass Button extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.onClick = this.onClick.bind(this);\n  }\n\n  onClick(e) {\n    if (this.props.disabled) {\n      e.preventDefault();\n      return;\n    }\n\n    if (this.props.onClick) {\n      this.props.onClick(e);\n    }\n  }\n\n  render() {\n    let {\n      active,\n      'aria-label': ariaLabel,\n      block,\n      className,\n      close,\n      cssModule,\n      color,\n      outline,\n      size,\n      tag: Tag,\n      innerRef,\n      ...attributes\n    } = this.props;\n\n    if (close &amp;&amp; typeof attributes.children === 'undefined') {\n      attributes.children = &lt;span aria-hidden&gt;\u00d7&lt;/span&gt;;\n    }\n\n    const btnOutlineColor = `btn${outline ? '-outline' : ''}-${color}`;\n\n    const classes = mapToCssModules(classNames(\n      className,\n      { close },\n      close || 'btn',\n      close || btnOutlineColor,\n      size ? `btn-${size}` : false,\n      block ? 'btn-block' : false,\n      { active, disabled: this.props.disabled }\n    ), cssModule);\n\n    if (attributes.href &amp;&amp; Tag === 'button') {\n      Tag = 'a';\n    }\n\n    const defaultAriaLabel = close ? 'Close' : null;\n\n    return (\n      &lt;Tag\n        type={(Tag === 'button' &amp;&amp; attributes.onClick) ? 'button' : undefined}\n        {...attributes}\n        className={classes}\n        ref={innerRef}\n        onClick={this.onClick}\n        aria-label={ariaLabel || defaultAriaLabel}\n      /&gt;\n    );\n  }\n}\n\nButton.propTypes = propTypes;\nButton.defaultProps = defaultProps;\n\nexport default Button;\n</code></pre>\n\n<p><strong>Button.d.ts:</strong></p>\n\n<pre><code>import * as React from 'react';\nimport { CSSModule } from '../index';\n\nexport interface ButtonProps extends React.ButtonHTMLAttributes&lt;HTMLButtonElement&gt; {\n    [key: string]: any;\n    outline?: boolean;\n    active?: boolean;\n    block?: boolean;\n    color?: string;\n    disabled?: boolean;\n    tag?: string | React.ReactType;\n    innerRef?: React.Ref&lt;HTMLButtonElement&gt;;\n    onClick?: React.MouseEventHandler&lt;any&gt;;\n    size?: any;\n    id?: string;\n    style?: React.CSSProperties;\n    cssModule?: CSSModule;\n}\n\ndeclare class Button&lt;T = {[key: string]: any}&gt; extends React.Component&lt;ButtonProps&gt; {}\nexport default Button;\n</code></pre>\n\n<p>In <code>Button.d.ts</code> file, there is an <code>interface</code> But,</p>\n\n<p>What is the purpose of <code>indexable-type</code> <code>[key: string]: any;</code> in the interface? and</p>\n\n<p>Why <code>declare class Button&lt;T = {[key: string]: any}&gt;</code> is written with Generic. Also, the JavaScript version of this component has 2 additional <code>props</code>. </p>\n\n<pre><code>children: PropTypes.node,\nclassName: PropTypes.string,\n</code></pre>\n\n<p>But why interface doesn't contain types declaration for these 2 <code>props</code>? </p>\n"}, {"tags": ["angular", "typescript", "rxjs", "rxjs-observables"], "comments": [{"owner": {"reputation": 107, "user_id": 2698770, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/599933447022a9214f2ff94559f9f427?s=128&d=identicon&r=PG&f=1", "display_name": "dismedia", "link": "https://stackoverflow.com/users/2698770/dismedia"}, "edited": false, "score": 0, "creation_date": 1575478313, "post_id": 59180733, "comment_id": 104582920, "body": "Can you post what both observables really are?"}, {"owner": {"reputation": 38, "user_id": 9016032, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NAVKY.jpg?s=128&g=1", "display_name": "Ashijo", "link": "https://stackoverflow.com/users/9016032/ashijo"}, "reply_to_user": {"reputation": 107, "user_id": 2698770, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/599933447022a9214f2ff94559f9f427?s=128&d=identicon&r=PG&f=1", "display_name": "dismedia", "link": "https://stackoverflow.com/users/2698770/dismedia"}, "edited": false, "score": 0, "creation_date": 1575479426, "post_id": 59180733, "comment_id": 104583573, "body": "Done, I removed some levels of abstraction to make it more clear.  Simply, I have a store, if it&#39;s not initialise, it will be soon, so the event fire twice"}], "answers": [{"tags": [], "owner": {"reputation": 342, "user_id": 7290992, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-10ZWZlniGGA/AAAAAAAAAAI/AAAAAAAAKQE/hXch1UfH8K4/photo.jpg?sz=128", "display_name": "Andrew Gura", "link": "https://stackoverflow.com/users/7290992/andrew-gura"}, "is_accepted": false, "score": 1, "last_activity_date": 1575478681, "last_edit_date": 1575478681, "creation_date": 1575478320, "answer_id": 59181036, "question_id": 59180733, "link": "https://stackoverflow.com/questions/59180733/twin-subscribes-block-forkjoin-subscription/59181036#59181036", "title": "Twin subscribes block forkJoin subscription", "body": "<p><code>forkJoin</code> waits all observables to be completed, until then it will not emit anything, as it is said in documentation here: <a href=\"https://rxjs-dev.firebaseapp.com/api/index/function/forkJoin\" rel=\"nofollow noreferrer\">https://rxjs-dev.firebaseapp.com/api/index/function/forkJoin</a></p>\n\n<p>Please consider using: </p>\n\n<ul>\n<li><code>combineLatest</code> if you want it to be fired every time when any of\nobservables emits something. <a href=\"https://rxjs-dev.firebaseapp.com/api/index/function/combineLatest\" rel=\"nofollow noreferrer\">Link</a></li>\n<li><code>withLatestFrom</code> if you want it to fire\nwhen one of the observables emits something (first one). <a href=\"https://rxjs-dev.firebaseapp.com/api/operators/withLatestFrom\" rel=\"nofollow noreferrer\">Link</a></li>\n<li><code>zip</code> if you want to combine every pair <a href=\"https://rxjs-dev.firebaseapp.com/api/operators/zip\" rel=\"nofollow noreferrer\">Link</a></li>\n</ul>\n\n<p>In order to get it done with <code>forkJoin</code>, you have to complete both of your observables, it can be done in many ways, for instance use <code>take(n)</code>, <code>takeUntil($end)</code> or <code>takeWhile(x =&gt; x &gt; 5)</code> etc. After last observable completed, you will see 'd' in console. </p>\n"}, {"tags": [], "owner": {"reputation": 565, "user_id": 12279362, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mDeRyy_GQnGetFSOnilqVIDmBW8YMrKGUbNkQ2SPA=k-s128", "display_name": "LALIT KANTA DIBYADARSHAN", "link": "https://stackoverflow.com/users/12279362/lalit-kanta-dibyadarshan"}, "is_accepted": true, "score": 1, "last_activity_date": 1575478689, "creation_date": 1575478689, "answer_id": 59181144, "question_id": 59180733, "link": "https://stackoverflow.com/questions/59180733/twin-subscribes-block-forkjoin-subscription/59181144#59181144", "title": "Twin subscribes block forkJoin subscription", "body": "<p>In this Scenario, the Observables are not completed. <code>ForkJoin</code> is usually used for the observables that are completed i.e HTTP requests. </p>\n\n<p>So For this scenario, you can use <code>CombineLatest</code>.</p>\n\n<pre><code>combineLatest(observableFoo$, observableNotFoo$).subscribe(([foo, ntFoo]) =&gt; {\n    console.log(foo, ntFoo);\n})\n</code></pre>\n\n<p>for more information visit : <a href=\"https://www.learnrxjs.io/operators/combination/combinelatest.html\" rel=\"nofollow noreferrer\">combineLatest</a></p>\n"}], "owner": {"reputation": 38, "user_id": 9016032, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NAVKY.jpg?s=128&g=1", "display_name": "Ashijo", "link": "https://stackoverflow.com/users/9016032/ashijo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 66, "favorite_count": 0, "accepted_answer_id": 59181144, "answer_count": 2, "score": 1, "last_activity_date": 1575479317, "creation_date": 1575477372, "last_edit_date": 1575479317, "question_id": 59180733, "link": "https://stackoverflow.com/questions/59180733/twin-subscribes-block-forkjoin-subscription", "title": "Twin subscribes block forkJoin subscription", "body": "<p>Here is the test, in the ngInit of any angular component:</p>\n\n<pre><code>console.log('a');\n\nobservableFoo$.subscribe(x =&gt; console.log('b'));\nobservableNotFoo$.subscribe(() =&gt; console.log('c'));\n\nforkJoin([\n  observableFoo$,\n  observableNotFoo$\n]).subscribe(([foo, ntFoo]) =&gt; {\n  console.log('d');\n});\n</code></pre>\n\n<p>The ObservableFoo$ will fire 2 times, that is behaviour that I need, this observable will observe a value that can quickly change during the initialisation. </p>\n\n<p>result is : </p>\n\n<pre><code>a\nb\nb\nc\n</code></pre>\n\n<p>And d never log.\nSo, I first tried to do the same, but with only ObservableNotFoo$ just to be sure I can forkJoin on a single Observable (useless but it works), then I tried the same thing with ObservableFoo$ and it's not working.</p>\n\n<p>It seems forkJoin just doesn't accept subscriptions that will fire twice. Is that so? Seem's really strange...</p>\n\n<p>** EDIT : **</p>\n\n<pre><code>observableFoo$ = initFoo(this.id); \n\nobservableNotFoo$ = of('notFoo');\n\n</code></pre>\n\n<pre><code>\ninitFoo(id: string): Observable&lt;any&gt; {\n const content = this.store.select({\n      filterBy: entity =&gt; entity.id === id\n    }).pipe(\n      flatMap(v =&gt; {\n        const value = v[0];\n        if (!value) {\n          return httpRequest.get(this.baseUrl + '/' + id).pipe(map(val =&gt; {\n            this.store.add(val);\n            return val;\n          }));\n        }\n        return of(value);\n      })\n    );\n    return content;\n  }\n}\n\n</code></pre>\n"}, {"tags": ["javascript", "angular", "typescript", "angular6", "angular8"], "comments": [{"owner": {"reputation": 21, "user_id": 4368019, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-Xz51JfH8mVU/AAAAAAAAAAI/AAAAAAAABwU/GyOGYXsWeqA/photo.jpg?sz=128", "display_name": "Rafael Tavares", "link": "https://stackoverflow.com/users/4368019/rafael-tavares"}, "reply_to_user": {"reputation": 7547, "user_id": 3429323, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/fc5012a49b4671fdf8c473ee90190fc0?s=128&d=identicon&r=PG", "display_name": "Elias Soares", "link": "https://stackoverflow.com/users/3429323/elias-soares"}, "edited": false, "score": 0, "creation_date": 1575480381, "post_id": 59180459, "comment_id": 104584062, "body": "what the problem in my question?"}], "answers": [{"comments": [{"owner": {"reputation": 21, "user_id": 4368019, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-Xz51JfH8mVU/AAAAAAAAAAI/AAAAAAAABwU/GyOGYXsWeqA/photo.jpg?sz=128", "display_name": "Rafael Tavares", "link": "https://stackoverflow.com/users/4368019/rafael-tavares"}, "edited": false, "score": 0, "creation_date": 1575477871, "post_id": 59180684, "comment_id": 104582643, "body": "Thx, really missing the index but still keeps changing when you select another item from another index"}], "tags": [], "owner": {"reputation": 1351, "user_id": 10363054, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0c526b69b7edeec99c74c6fdc5feaa7a?s=128&d=identicon&r=PG&f=1", "display_name": "Doflamingo19", "link": "https://stackoverflow.com/users/10363054/doflamingo19"}, "is_accepted": false, "score": 1, "last_activity_date": 1575477269, "creation_date": 1575477269, "answer_id": 59180684, "question_id": 59180459, "link": "https://stackoverflow.com/questions/59180459/how-do-i-change-the-responses-of-a-component-in-a-ngfor-addition-to-a-select-ke/59180684#59180684", "title": "How do I change the responses of a component in a ngFor addition to a Select, keep the others visible?", "body": "<p>Try this: </p>\n\n<pre><code>&lt;option [ngValue]=\"i+'_'+field.id\" *ngFor=\"let field of columnDefinitions\"&gt;{{field.name}}&lt;/option&gt;\n</code></pre>\n\n<p>The problem is that the option doesn't have anunique id</p>\n"}], "owner": {"reputation": 21, "user_id": 4368019, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-Xz51JfH8mVU/AAAAAAAAAAI/AAAAAAAABwU/GyOGYXsWeqA/photo.jpg?sz=128", "display_name": "Rafael Tavares", "link": "https://stackoverflow.com/users/4368019/rafael-tavares"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 27, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1575495485, "creation_date": 1575476593, "last_edit_date": 1575480248, "question_id": 59180459, "link": "https://stackoverflow.com/questions/59180459/how-do-i-change-the-responses-of-a-component-in-a-ngfor-addition-to-a-select-ke", "title": "How do I change the responses of a component in a ngFor addition to a Select, keep the others visible?", "body": "<p>When you select the item 'title' it is to hide the input. But when I select another item from another ngFor index, the selected input 'title' reappears.</p>\n\n<p><a href=\"https://i.stack.imgur.com/ai28R.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ai28R.png\" alt=\"On select &#39;title&#39; show item selected frist.\"></a></p>\n\n<pre><code>&lt;select class=\"form-control col-sm-6\" \n     id=\"groupField{{i}}\" \n     name=\"groupField{{i}}\" \n     [(ngModel)]=\"selectedGroupingFields[i]\" \n     (ngModelChange)=\"changeValue($event, i)\"&gt;\n\n&lt;option [ngValue]=\"i+'_'+field.id\" \n     *ngFor=\"let field of columnDefinitions\"&gt;{{field.name}}&lt;/option&gt;\n&lt;/select&gt;\n</code></pre>\n\n<p><a href=\"https://stackblitz.com/edit/component-angular-select-change\" rel=\"nofollow noreferrer\">Sample</a></p>\n"}, {"tags": ["javascript", "angular", "typescript", "components", "eventemitter"], "answers": [{"comments": [{"owner": {"reputation": 67, "user_id": 11902681, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8563a6376c7345e2ab1dbdc9feb66975?s=128&d=identicon&r=PG&f=1", "display_name": "Not-a-Whale", "link": "https://stackoverflow.com/users/11902681/not-a-whale"}, "edited": false, "score": 0, "creation_date": 1575541874, "post_id": 59180848, "comment_id": 104604755, "body": "I don&#39;t quite get how all this works, but isn&#39;t @Input suppose to get the information from outside?"}], "tags": [], "owner": {"reputation": 565, "user_id": 12279362, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mDeRyy_GQnGetFSOnilqVIDmBW8YMrKGUbNkQ2SPA=k-s128", "display_name": "LALIT KANTA DIBYADARSHAN", "link": "https://stackoverflow.com/users/12279362/lalit-kanta-dibyadarshan"}, "is_accepted": false, "score": 1, "last_activity_date": 1575478085, "last_edit_date": 1575478085, "creation_date": 1575477761, "answer_id": 59180848, "question_id": 59180308, "link": "https://stackoverflow.com/questions/59180308/how-to-pass-a-boolean-value-between-angular-components-for-switching-display-of/59180848#59180848", "title": "How to pass a boolean value between Angular components for switching display of a style", "body": "<p>There is a problem with how you handled the event. <code>@Input</code> will create a bindable property on the component selector. So don't use <code>@Input</code>.</p>\n\n<p>Like the following</p>\n\n<p>childComponent.ts</p>\n\n<pre><code>export class ChildComponent {\n  @Output() formReseted = new EventEmitter&lt;boolean&gt;();\n  formResetClicked = false;\n  public onReset() {\n    this.formResetClicked = !this.formResetClicked;\n    this.formReseted.emit(this.formResetClicked);\n  }\n}\n</code></pre>\n\n<p>parentComponent.html</p>\n\n<pre><code>&lt;app-child (formReseted)=\"onFormReset($event)\"&gt;&lt;/app-child&gt;\n</code></pre>\n\n<p>parentComponent.ts</p>\n\n<pre><code>onFormReset(isFormResetClicked) {\n   console.log(isFormResetClicked)\n}\n</code></pre>\n\n<p><a href=\"https://stackblitz.com/edit/angular-output-example?embed=1&amp;file=src/app/child/child.component.ts\" rel=\"nofollow noreferrer\">DEMO</a></p>\n"}, {"comments": [{"owner": {"reputation": 67, "user_id": 11902681, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8563a6376c7345e2ab1dbdc9feb66975?s=128&d=identicon&r=PG&f=1", "display_name": "Not-a-Whale", "link": "https://stackoverflow.com/users/11902681/not-a-whale"}, "edited": false, "score": 1, "creation_date": 1575541682, "post_id": 59181216, "comment_id": 104604649, "body": "Thanks, that does it for me!"}, {"owner": {"reputation": 67, "user_id": 11902681, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8563a6376c7345e2ab1dbdc9feb66975?s=128&d=identicon&r=PG&f=1", "display_name": "Not-a-Whale", "link": "https://stackoverflow.com/users/11902681/not-a-whale"}, "edited": false, "score": 0, "creation_date": 1575542560, "post_id": 59181216, "comment_id": 104605159, "body": "Okay, yeah, no. I did it in my project exactly how you pointed out I should and it doesn&#39;t work. You see, I don&#39;t have a child component tag in my HTML of a parrent, I have a router outlet. Should I put an event binding attribute on a &lt;router-outlet&gt;, or on a div that contains it?"}], "tags": [], "owner": {"reputation": 5201, "user_id": 8850397, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/A0dos.jpg?s=128&g=1", "display_name": "Sudarshana Dayananda", "link": "https://stackoverflow.com/users/8850397/sudarshana-dayananda"}, "is_accepted": true, "score": 4, "last_activity_date": 1575478841, "creation_date": 1575478841, "answer_id": 59181216, "question_id": 59180308, "link": "https://stackoverflow.com/questions/59180308/how-to-pass-a-boolean-value-between-angular-components-for-switching-display-of/59181216#59181216", "title": "How to pass a boolean value between Angular components for switching display of a style", "body": "<p>Do not need to use <strong><code>@Input()</code></strong>. \nYou can call child component to parent component using <strong><code>@Output()</code></strong> and <strong><code>EventEmitter</code></strong> as follows.</p>\n\n<p><strong>child.component.ts</strong></p>\n\n<pre><code>@Output() formReseted = new EventEmitter&lt;boolean&gt;();\n\nformResetClicked: boolean = false;\n\nonReset() {\n   this.formResetClicked = !this.formResetClicked;\n   this.formReseted.emit(this.formResetClicked); \n}\n</code></pre>\n\n<p>Listen to <strong><code>formReseted</code></strong> <strong><code>event</code></strong> from the parent as follows.</p>\n\n<p><strong>parent.component.html</strong></p>\n\n<pre><code>&lt;child (formReseted)=\"testShowHide($event)\"&gt;&lt;/child&gt;\n\n&lt;p *ngIf=\"show\"&gt;Showing the Modal&lt;/p&gt;\n</code></pre>\n\n<p><strong>parent.component.ts</strong></p>\n\n<pre><code>show: boolean = false;\n\n  testShowHide(show) {\n    this.show = show;\n  }\n</code></pre>\n\n<p><strong><a href=\"https://stackblitz.com/edit/stackoverflow-59180308?file=src/app/app.component.ts\" rel=\"nofollow noreferrer\">StackBlitz Demo</a></strong></p>\n"}], "owner": {"reputation": 67, "user_id": 11902681, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8563a6376c7345e2ab1dbdc9feb66975?s=128&d=identicon&r=PG&f=1", "display_name": "Not-a-Whale", "link": "https://stackoverflow.com/users/11902681/not-a-whale"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1417, "favorite_count": 0, "accepted_answer_id": 59181216, "answer_count": 2, "score": 2, "last_activity_date": 1575598953, "creation_date": 1575476018, "last_edit_date": 1575598953, "question_id": 59180308, "link": "https://stackoverflow.com/questions/59180308/how-to-pass-a-boolean-value-between-angular-components-for-switching-display-of", "title": "How to pass a boolean value between Angular components for switching display of a style", "body": "<p>I have this form that is almost ready. Now I only have to make a modal window with content and it should pop open with click on a button which is inside of a child component. Modal, on the other hand, is a part of a parent component. I need to communicate them with each other in order to inform the parent, that the button was clicked and that now it's time to open a modal. \nI emit a boolean event, which is equal to the state of a clicked button, but I don't get any reaction from the parent, although I have a property bindable from outside (<code>@Input()</code>)\nHow can I achieve such a task? Where am I mistaken? </p>\n\n<p>Child component method</p>\n\n<pre><code>  onReset() {\n    this.formResetClicked = !this.formResetClicked;\n\n    this.formReseted.emit(this.formResetClicked); }\n</code></pre>\n\n<p>Parent's HTML</p>\n\n<pre><code>&lt;div class=\"container\"&gt;\n  &lt;div class=\"wrapper\"&gt;\n    &lt;div class=\"slider\"&gt;\n        &lt;app-form-slider class=\"slider-app\"&gt;&lt;/app-form-slider&gt;\n    &lt;/div&gt;\n    &lt;div class=\"form\" (formReseted)=\"clickedState = $event\"&gt;\n        &lt;router-outlet&gt;&lt;/router-outlet&gt;\n    &lt;/div&gt;\n    &lt;div class=\"modal\" [ngStyle]=\"{display: clickedState ? 'block' : 'none'}\"&gt;\n      &lt;div class=\"modal__content\"&gt;\n        &lt;div class=\"modal__content--header\"&gt;\n          &lt;span&gt;&amp;times;&lt;/span&gt;\n          &lt;p&gt;WARNING!&lt;/p&gt;\n        &lt;/div&gt;\n        &lt;div class=\"modal__content--text\"&gt;\n          &lt;p&gt;If you click 'continue' the all information will be deleted. &lt;br&gt;Close this window if you don't want this to happen.&lt;/p&gt;\n        &lt;/div&gt;\n        &lt;div class=\"modal__content--button\"&gt;\n          &lt;button&gt;Continue&lt;/button&gt;\n        &lt;/div&gt;\n      &lt;/div&gt;\n    &lt;/div&gt;\n  &lt;/div&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>Property of a parrent</p>\n\n<pre><code>export class AppComponent {\n  title = 'AwesomeFormTask';\n\n  @Input() clickedState: boolean;\n\n}\n</code></pre>\n"}, {"tags": ["javascript", "node.js", "typescript", "webpack"], "answers": [{"comments": [{"owner": {"reputation": 997, "user_id": 1159548, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/86e82da416602ef838a19c6f86210ae1?s=128&d=identicon&r=PG", "display_name": "Jan Dolejsi", "link": "https://stackoverflow.com/users/1159548/jan-dolejsi"}, "edited": false, "score": 0, "creation_date": 1606262662, "post_id": 59270242, "comment_id": 114910257, "body": "For your point 2): how do you control where the *.d.ts files get generated? Eventhough I specify my entry point to my <code>src&#47;index.ts</code> folder, I get type declaration files created in <code>dist&#47;src</code> (which should go to just <code>dist</code>) and <code>dist&#47;test</code> (which I do not want to output at all)."}], "tags": [], "owner": {"reputation": 2672, "user_id": 223936, "user_type": "registered", "accept_rate": 59, "profile_image": "https://i.stack.imgur.com/j58Xn.jpg?s=128&g=1", "display_name": "Plastikfan", "link": "https://stackoverflow.com/users/223936/plastikfan"}, "is_accepted": true, "score": 3, "last_activity_date": 1575990567, "creation_date": 1575990567, "answer_id": 59270242, "question_id": 59179949, "link": "https://stackoverflow.com/questions/59179949/how-to-get-webpack-to-include-the-generated-declaration-files-for-a-typescript-n/59270242#59270242", "title": "How to get webpack to include the generated declaration files for a Typescript Nodejs (not browser) project (and how to consume)", "body": "<p>For other beginners stumbling on this issue, the problem of not being able to consume types from the clients perspective was caused by a multitude of issues in the source package, explained as follows.</p>\n\n<p>1) Actually, there was an issue only made apparent by the package.json which was not included in the original post, but it amounted to this:</p>\n\n<ul>\n<li><p>there are 2 build streams, 1 for the source code and the other for tests (in my package.json these are represented by the 2 separate scripts: <strong>\"build:d\"</strong> for dev source code [produces <em>./dist/jaxom-bundle.js</em>] build and <strong>\"build:t\"</strong> for test code build [produces <em>./dist/jaxom-test-bundle.js</em>]. Both of these scripts depend on a <strong>\"clean\"</strong> script which makes use of rimraf to remove existing built files (in <strong>\"dist/\"</strong> folder). With my current build setup, building the tests removed all existing built files then built the test bundle. The source bundle was missing.</p></li>\n<li><p>This meant that when I went to package the build (<strong>npm pack</strong> to create the tar ball that is published to npm registry), if I had just run the test build prior to publish, the test bundled which includes all the tests would be packaged. This is not what I intended. The simple fix for this scenario was to ensure that just prior to npm pack/publish, the source bundle should be built and this makes itself apparent when you look at the build: ie, you can see the included type files. For those devs just starting out this is really important to realise. Before publishing an npm package (particularly for a new package), you should go through this step of using npm pack, and then extract its contents to see what's in it, or simply take good notice of the result of npm pack and observe whats in the package.</p></li>\n</ul>\n\n<p>Take a look at the following output of npm pack for the source and test bundles:</p>\n\n<p><strong>source bundle (./dist/jaxom-bundle.js):</strong></p>\n\n<pre><code>\u03bb ~/dev/github/js/jaxom/ feature/define-exports* npm pack\nnpm notice \nnpm notice \ud83d\udce6  jaxom@0.0.1\nnpm notice === Tarball Contents === \nnpm notice 1.1kB   LICENSE                                           \nnpm notice 165.5kB dist/jaxom-bundle.js                              \nnpm notice 3.2kB   package.json                                      \nnpm notice 99B     README.md                                         \nnpm notice 455B    typings/exceptions.d.ts                           \nnpm notice 133B    typings/index.d.ts                                \nnpm notice 1.1kB   typings/normaliser/normaliser.class.d.ts          \nnpm notice 1.8kB   typings/specService/spec-option-service.class.d.ts\nnpm notice 9.4kB   typings/transformer/transformer.class.d.ts        \nnpm notice 2.5kB   typings/types.d.ts                                \nnpm notice 1.3kB   typings/converter/xpath-converter.class.d.ts      \nnpm notice 5.6kB   typings/converter/xpath-converter.impl.d.ts       \nnpm notice === Tarball Details === \nnpm notice name:          jaxom                                   \nnpm notice version:       0.0.1                                   \nnpm notice filename:      jaxom-0.0.1.tgz                         \nnpm notice package size:  50.5 kB                                 \nnpm notice unpacked size: 192.2 kB                                \nnpm notice shasum:        c43be4000932201c0ca077aeb3f102bd0130eef5\nnpm notice integrity:     sha512-96HaZbSHn7kCc[...]rS0K4pLxDMLPA==\nnpm notice total files:   12                                      \nnpm notice \njaxom-0.0.1.tgz\n\u03bb ~/dev/github/js/jaxom/\n</code></pre>\n\n<p><strong>test bundle (./dist/jaxom-test-bundle.js) polluted with test classes (spec.d.ts):</strong></p>\n\n<pre><code>\u03bb ~/dev/github/js/jaxom/ feature/define-exports* npm pack\nnpm notice \nnpm notice \ud83d\udce6  jaxom@0.0.1\nnpm notice === Tarball Contents === \nnpm notice 1.1kB   LICENSE                                                      \nnpm notice 165.5kB dist/jaxom-bundle.js                                         \nnpm notice 186.0kB dist/jaxom-test-bundle.js                                    \nnpm notice 3.2kB   package.json                                                 \nnpm notice 253.4kB dist/jaxom-test-bundle.js.map                                \nnpm notice 99B     README.md                                                    \nnpm notice 455B    typings/exceptions.d.ts                                      \nnpm notice 455B    typings/lib/exceptions.d.ts                                  \nnpm notice 133B    typings/index.d.ts                                           \nnpm notice 133B    typings/lib/index.d.ts                                       \nnpm notice 1.1kB   typings/lib/normaliser/normaliser.class.d.ts                 \nnpm notice 1.1kB   typings/normaliser/normaliser.class.d.ts                     \nnpm notice 11B     typings/tests/normaliser/normaliser.class.spec.d.ts          \nnpm notice 1.8kB   typings/lib/specService/spec-option-service.class.d.ts       \nnpm notice 1.8kB   typings/specService/spec-option-service.class.d.ts           \nnpm notice 20B     typings/tests/specService/spec-option-service.class.spec.d.ts\nnpm notice 329B    typings/tests/test-helpers.d.ts                              \nnpm notice 9.4kB   typings/lib/transformer/transformer.class.d.ts               \nnpm notice 9.4kB   typings/transformer/transformer.class.d.ts                   \nnpm notice 20B     typings/tests/transformer/transformer.class.spec.d.ts        \nnpm notice 2.5kB   typings/lib/types.d.ts                                       \nnpm notice 2.5kB   typings/types.d.ts                                           \nnpm notice 1.3kB   typings/converter/xpath-converter.class.d.ts                 \nnpm notice 1.3kB   typings/lib/converter/xpath-converter.class.d.ts             \nnpm notice 20B     typings/tests/converter/xpath-converter.class.spec.d.ts      \nnpm notice 5.6kB   typings/converter/xpath-converter.impl.d.ts                  \nnpm notice 5.6kB   typings/lib/converter/xpath-converter.impl.d.ts              \nnpm notice 20B     typings/tests/converter/xpath-converter.impl.spec.d.ts       \nnpm notice === Tarball Details === \nnpm notice name:          jaxom                                   \nnpm notice version:       0.0.1                                   \nnpm notice filename:      jaxom-0.0.1.tgz                         \nnpm notice package size:  115.6 kB                                \nnpm notice unpacked size: 654.3 kB                                \nnpm notice shasum:        8433700d3378bf2ab4ff3798a93e7dbb98baee86\nnpm notice integrity:     sha512-cQ9RUCLwHMOuq[...]xS4kMJe/4jPqQ==\nnpm notice total files:   28                                      \nnpm notice \njaxom-0.0.1.tgz\n\u03bb ~/dev/github/js/jaxom/\n</code></pre>\n\n<p>I think the best solution to the above issue would be to have a specific publish script that builds the correct bundle prior to publishing to npm. I found a couple of good articles than explain this well: <a href=\"https://itnext.io/step-by-step-building-and-publishing-an-npm-typescript-package-44fe7164964c\" rel=\"nofollow noreferrer\">Step by step: Building and publishing an NPM Typescript package</a> or <a href=\"https://cameronnokes.com/blog/the-30-second-guide-to-publishing-a-typescript-package-to-npm/\" rel=\"nofollow noreferrer\">The 30-second guide to publishing a TypeScript package to NPM</a></p>\n\n<p>2) Types in a separate folder (my bad!).</p>\n\n<ul>\n<li>having read a plethora of articles on the subject, I came to the miguided conclusion that is was a good idea to put the generated types into a separate folder than the resultant ./dist js bundles. This just makes using the library for the user more awkward and not intuitive to use. Instead of importing jaxom with: <strong>\"import * as jaxom from 'jaxom'\"</strong>, you would need to use <strong>\"import * as jaxom from 'jaxom/typings'\"</strong> (where <em>\"typings\"</em> is the name of the directory you export types to defined by type/typings entry in jaxom's package.json. This is just not a good idea and not what I intended.</li>\n</ul>\n\n<p>Best just let the types be generated into the same folder as your main bundle, in this case ./dist.</p>\n"}], "owner": {"reputation": 2672, "user_id": 223936, "user_type": "registered", "accept_rate": 59, "profile_image": "https://i.stack.imgur.com/j58Xn.jpg?s=128&g=1", "display_name": "Plastikfan", "link": "https://stackoverflow.com/users/223936/plastikfan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2444, "favorite_count": 0, "accepted_answer_id": 59270242, "answer_count": 1, "score": 4, "last_activity_date": 1575990567, "creation_date": 1575474919, "question_id": 59179949, "link": "https://stackoverflow.com/questions/59179949/how-to-get-webpack-to-include-the-generated-declaration-files-for-a-typescript-n", "title": "How to get webpack to include the generated declaration files for a Typescript Nodejs (not browser) project (and how to consume)", "body": "<p>I have 2 typescript projects, 1 depends on the other. I can generate the typescript declaration files by setting \"declaration\": true in tsconfig (which would be applicable to both projects). I also set \"outDir\" to \"./dist\". I can see plenty of generated declaration files emitted to the dist folder.</p>\n\n<p>I am also using webpack. But how do I get wepack to include all those declaration files in the bundle so that the client can consume it?</p>\n\n<p>So my tsconfig looks like this:</p>\n\n<pre><code>{\n  \"compilerOptions\": {\n    \"allowJs\": true,\n    \"alwaysStrict\": true,\n    \"esModuleInterop\": true,\n    \"module\": \"commonjs\",\n    \"moduleResolution\": \"Node\",\n    \"noImplicitAny\": true,\n    \"sourceMap\": true,\n    \"strictNullChecks\": true,\n    \"target\": \"es5\",\n    \"declaration\": true,\n    \"outDir\": \"./dist\",\n    \"types\": [\n      \"mocha\", \"node\", \"./dist/index.d.ts\"\n    ],\n    \"lib\": [\n      \"es5\",\n      \"es2015\",\n      \"es6\",\n      \"dom\"\n    ]\n  },\n  \"include\": [\n    \"lib/**/*\", \"tests/**/*\"\n  ],\n  \"exclude\": [\n    \"node_modules\",\n    \"**/*.spec.ts\"\n  ]\n}\n</code></pre>\n\n<p>However, this is not working. The see the following error message:</p>\n\n<pre><code>ERROR in /Users/Plastikfan/dev/github/js/jaxom/tsconfig.json\n[tsl] ERROR\n      TS2688: Cannot find type definition file for './dist/index.d.ts'.\n</code></pre>\n\n<p>Actually, when I look at this:</p>\n\n<pre><code>\"types\": [\n  \"mocha\", \"node\", \"./dist/index.d.ts\"\n],\n</code></pre>\n\n<p>this makes me concerned, because /dist/index.d.ts is an output of the webpack/typescript build process, so how can the build see its content at the beginning of the build process when presumably it would not exist. To me this doesnt seem right, so how do I declare that \"./dist/index.d.ts\" are the declarations for the project? </p>\n\n<p>Then once this is fixed, how does the typescript client consume the typescript/javascript package; ie I have another project (zenobia) also a typescript project, which needs to consume the typescript project from npm, so what do I need to do to get this to work properly? Jaxom is the source typescript project to be consumed and in it's index file, its exporting all the client facing declarations actually it looks like this:</p>\n\n<pre><code>index.ts:\nexport * from './types';\nexport * from './specService/spec-option-service.class';\nexport * from './converter/xpath-converter.class';\n</code></pre>\n\n<p>which is the same as the corresponding generated dist/index.d.ts</p>\n\n<p>On the cosuming side (zenobia) I know I need some kind of triple slash directive and an import statement, but am going round in circles not getting it right.</p>\n\n<p>The tsconfig in zenobia is the same as jaxom (as I show above). </p>\n\n<p>The import on the client looks like this:</p>\n\n<blockquote>\n  <p>import * as Jaxom from 'jaxom';</p>\n</blockquote>\n\n<p>so I would expect all the definitions exported to be available on Jaxom. This import should work because its typescript. If it was js, then this wouldn't work for Nodejs projects.</p>\n\n<p>The documentation I have read is either ambiguous to me, or the explanation I require sits somewhere in between webpack and typescript with neither explaining the full integration properly or making assumptions.</p>\n\n<p>In Jaxom, I have 2 webpack configs (1 for the production code and the other for the tests). This is the pattern I've used/am using for all my webpack/typescript projects.</p>\n\n<p>production webpack config for Jaxom:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>module.exports = env =&gt; {\n  const { getIfUtils } = require('webpack-config-utils');\n  const nodeExternals = require('webpack-node-externals');\n  const { ifProduction } = getIfUtils(env);\n  const mode = ifProduction('production', 'development');\n\n  console.log('&gt;&gt;&gt; Jaxom Webpack Environment mode: ' + env.mode);\n  return {\n    entry: {\n      index: './lib/index.ts'\n    },\n    target: 'node',\n    externals: [nodeExternals()],\n    mode: mode,\n    module: {\n      rules: [\n        {\n          test: /\\.ts(x?)$/,\n          use: 'ts-loader'\n        },\n        {\n          test: /\\.json$/,\n          use: 'json-loader'\n        }\n      ]\n    },\n    plugins: [\n      new webpack.DefinePlugin({ 'process.env.NODE_ENV': '\"production\"' }),\n      new webpack.BannerPlugin({\n        banner: '#!/usr/bin/env node',\n        raw: true\n      })\n    ],\n    resolve: {\n      extensions: ['.ts', '.json']\n    },\n    watchOptions: {\n      ignored: /node_modules/\n    },\n    output: {\n      filename: 'jaxom-bundle.js',\n      sourceMapFilename: 'jaxom-bundle.js.map',\n      path: path.join(__dirname, 'dist'),\n      libraryTarget: 'commonjs'\n    }\n  };\n};\n</code></pre>\n\n<p>And the webpack config for the tests</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>module.exports = {\n  devtool: 'source-map',\n  mode: 'development',\n  entry: ['./tests/all-tests-entry.js', './lib'],\n  target: 'node',\n  externals: [nodeExternals()],\n  module: {\n    rules: [\n      {\n        test: /\\.xml$/i,\n        use: 'raw-loader'\n      },\n      { test: /\\.ts(x?)$/, loader: 'ts-loader' },\n      { test: /\\.json$/, loader: 'json-loader' }\n    ]\n  },\n  resolve: {\n    extensions: ['.ts', '.json']\n  },\n  watchOptions: {\n    ignored: /node_modules/\n  },\n  output: {\n    filename: 'jaxom-test-bundle.js',\n    sourceMapFilename: 'jaxom-test-bundle.js.map',\n    path: path.resolve(__dirname, 'dist'),\n    libraryTarget: 'commonjs'\n  }\n};\n</code></pre>\n"}, {"tags": ["typescript", "aws-lambda", "nestjs"], "answers": [{"tags": [], "owner": {"reputation": 1466, "user_id": 2208671, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/c12d888c5b9aa2ecf61e373128d9d483?s=128&d=identicon&r=PG", "display_name": "sevensevens", "link": "https://stackoverflow.com/users/2208671/sevensevens"}, "is_accepted": true, "score": 0, "last_activity_date": 1575563849, "last_edit_date": 1575563849, "creation_date": 1575523657, "answer_id": 59188788, "question_id": 59179872, "link": "https://stackoverflow.com/questions/59179872/getting-cognito-data-i-e-requestcontext-in-aws-lambda-using-nest-js/59188788#59188788", "title": "Getting Cognito data (i.e. requestContext) in AWS Lambda using nest.js", "body": "<p>Finally tracked this down.</p>\n\n<p><a href=\"https://github.com/awslabs/aws-serverless-express/tree/master/examples/basic-starter\" rel=\"nofollow noreferrer\">aws-serverless-example</a> gave me the hint I needed. </p>\n\n<p>Part of <a href=\"https://github.com/awslabs/aws-serverless-express\" rel=\"nofollow noreferrer\">aws-serverless-express</a> is a middleware that will add the event information to the <code>req</code> body.</p>\n\n<p><strong>In app.ts (or whatever your launch file is)</strong></p>\n\n<pre><code>import * as awsServerlessExpressMiddleware from \"aws-serverless-express/middleware\";\napp.use(awsServerlessExpressMiddleware.eventContext());\napp.get('/', (req, res) =&gt; {\n    res.json(req.apiGateway.event);\n});\n</code></pre>\n\n<p><strong>and in the controller/resolver</strong></p>\n\n<pre><code>  @Query(returns =&gt; String)\n  async eventCreate(@Context() context, @Info() info): Promise&lt;string&gt; {\n      let c = context;\n      return Promise.resolve(\"WTF\");\n  }\n</code></pre>\n"}], "owner": {"reputation": 1466, "user_id": 2208671, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/c12d888c5b9aa2ecf61e373128d9d483?s=128&d=identicon&r=PG", "display_name": "sevensevens", "link": "https://stackoverflow.com/users/2208671/sevensevens"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 285, "favorite_count": 0, "accepted_answer_id": 59188788, "answer_count": 1, "score": 0, "last_activity_date": 1575563849, "creation_date": 1575474699, "question_id": 59179872, "link": "https://stackoverflow.com/questions/59179872/getting-cognito-data-i-e-requestcontext-in-aws-lambda-using-nest-js", "title": "Getting Cognito data (i.e. requestContext) in AWS Lambda using nest.js", "body": "<p>I'm following the example in <a href=\"https://github.com/serverless/examples/tree/master/aws-node-typescript-nest\" rel=\"nofollow noreferrer\">https://github.com/serverless/examples/tree/master/aws-node-typescript-nest</a></p>\n\n<p><strong>What I've done</strong></p>\n\n<p>1) Successfully deployed this to AWS and added a Cognito authorizer (I've verified all this works and I'm getting user data in requestContext).</p>\n\n<p>2) Setup NestJS to handle routing.</p>\n\n<p><strong>What I need to do</strong></p>\n\n<p>Hand the <code>event</code> and <code>context</code> variables to either the NestJS controller or an injectable service so I can do further verification and personalization.</p>\n\n<p><strong>main.ts snippit where request are first routed.  Notice event and context</strong></p>\n\n<pre><code>async function bootstrapServer(): Promise&lt;Server&gt; {\n  if (!cachedServer) {\n    try {\n      const expressApp = require('express')();\n      const nestApp = await NestFactory.create(AppModule, expressApp);\n      nestApp.use(eventContext());\n      await nestApp.init();\n      cachedServer = createServer(expressApp, undefined, binaryMimeTypes);\n    }\n    catch (error) {\n      return Promise.reject(error);\n    }\n  }\n  return Promise.resolve(cachedServer);\n}\n\nexport const handler: Handler = async (event: any, context: Context) =&gt; {\n  cachedServer = await bootstrapServer();\n  // LOOK HERE!!!!!!\n  // How do I pass  event and context\n  return proxy(cachedServer, event, context, 'PROMISE').promise;\n}\n</code></pre>\n\n<p>And here is the controller</p>\n\n<p><strong>controller snippit where I'd like to use event and context</strong></p>\n\n<pre><code>import { AppService } from './app.service';\n\n@Controller()\nexport class AppController {\n  // how do I access event and context in this controller class?\n  constructor(private readonly appService: AppService) {}\n\n  @Get('hello')\n  getHello(): string {\n    return this.appService.getHello();\n  }\n}\n</code></pre>\n"}, {"tags": ["typescript", "tsc", "tsconfig", "tsconfig-paths"], "answers": [{"comments": [{"owner": {"reputation": 1418, "user_id": 4559414, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bde91c5b14f4bac3b149d658ba2df9ab?s=128&d=identicon&r=PG", "display_name": "Gander", "link": "https://stackoverflow.com/users/4559414/gander"}, "edited": false, "score": 0, "creation_date": 1576652869, "post_id": 59386941, "comment_id": 104964796, "body": "Explain what these repositories are for?"}, {"owner": {"reputation": 31, "user_id": 8028101, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-EF9U3tiKvrQ/AAAAAAAAAAI/AAAAAAAAAHc/PfDnPRNVjB8/photo.jpg?sz=128", "display_name": "MarcusRise", "link": "https://stackoverflow.com/users/8028101/marcusrise"}, "reply_to_user": {"reputation": 1418, "user_id": 4559414, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bde91c5b14f4bac3b149d658ba2df9ab?s=128&d=identicon&r=PG", "display_name": "Gander", "link": "https://stackoverflow.com/users/4559414/gander"}, "edited": false, "score": 0, "creation_date": 1576676433, "post_id": 59386941, "comment_id": 104976006, "body": "I think README files of those repo-s will help you)"}, {"owner": {"reputation": 1481, "user_id": 3799856, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/QmOiT.jpg?s=128&g=1", "display_name": "SeizeTheDay", "link": "https://stackoverflow.com/users/3799856/seizetheday"}, "edited": false, "score": 0, "creation_date": 1599862488, "post_id": 59386941, "comment_id": 112917111, "body": "This looks like it&#39;d work just fine! Unfortunately, <code>typescript-transform-paths</code> doesn&#39;t work in TS 4.0: <a href=\"https://github.com/LeDDGroup/typescript-transform-paths/issues/68\" rel=\"nofollow noreferrer\">github.com/LeDDGroup/typescript-transform-paths/issues/68</a>"}, {"owner": {"reputation": 1481, "user_id": 3799856, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/QmOiT.jpg?s=128&g=1", "display_name": "SeizeTheDay", "link": "https://stackoverflow.com/users/3799856/seizetheday"}, "edited": false, "score": 0, "creation_date": 1599864654, "post_id": 59386941, "comment_id": 112917582, "body": "The best alternative I&#39;ve found so far is this: <a href=\"https://github.com/joonhocho/tscpaths\" rel=\"nofollow noreferrer\">github.com/joonhocho/tscpaths</a>"}, {"owner": {"reputation": 1023, "user_id": 1285763, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/ed7bc4d137dba9171b03d3f9b44d0086?s=128&d=identicon&r=PG", "display_name": "Nikolay Shebanov", "link": "https://stackoverflow.com/users/1285763/nikolay-shebanov"}, "reply_to_user": {"reputation": 1481, "user_id": 3799856, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/QmOiT.jpg?s=128&g=1", "display_name": "SeizeTheDay", "link": "https://stackoverflow.com/users/3799856/seizetheday"}, "edited": false, "score": 1, "creation_date": 1614617708, "post_id": 59386941, "comment_id": 117433494, "body": "@SeizeTheDay the support for TS 4+ was introduced a week after your comment \ud83c\udf89"}], "tags": [], "owner": {"reputation": 31, "user_id": 8028101, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-EF9U3tiKvrQ/AAAAAAAAAAI/AAAAAAAAAHc/PfDnPRNVjB8/photo.jpg?sz=128", "display_name": "MarcusRise", "link": "https://stackoverflow.com/users/8028101/marcusrise"}, "is_accepted": false, "score": 3, "last_activity_date": 1594458362, "last_edit_date": 1594458362, "creation_date": 1576652476, "answer_id": 59386941, "question_id": 59179787, "link": "https://stackoverflow.com/questions/59179787/tsc-doesnt-compile-alias-paths/59386941#59386941", "title": "tsc - doesn&#39;t compile alias paths", "body": "<p><a href=\"https://github.com/cevek/ttypescript\" rel=\"nofollow noreferrer\">ttypescript</a></p>\n<p><a href=\"https://github.com/LeDDGroup/typescript-transform-paths\" rel=\"nofollow noreferrer\">typescript-transform-paths</a></p>\n<p><a href=\"https://github.com/tleunen/babel-plugin-module-resolver\" rel=\"nofollow noreferrer\">babel-plugin-module-resolver</a></p>\n<p><code>package.json</code> part</p>\n<pre><code>&quot;build&quot;: &quot;ttsc &amp;&amp; babel dist -d dist&quot;,\n</code></pre>\n<p><code>ttsc</code> is not a mistake, it's a plugin over typescript config for more complex transpiling</p>\n<p><code>tsconfig.json</code> part</p>\n<pre><code>&quot;outDir&quot;: &quot;dist&quot;,\n&quot;baseUrl&quot;: &quot;./&quot;,\n&quot;paths&quot;: {\n    &quot;@/*&quot;: [\n        &quot;./src/*&quot;\n    ],\n    &quot;$/*&quot;: [\n        &quot;./tests/unit/*&quot;\n    ]\n},\n&quot;plugins&quot;: [\n    {\n        &quot;transform&quot;: &quot;typescript-transform-paths&quot;,\n        &quot;afterDeclarations&quot;: true\n    }\n],\n</code></pre>\n<p><code>.babelrc</code> whole content</p>\n<pre><code>{\n  &quot;compact&quot;: false,\n  &quot;retainLines&quot;: true,\n  &quot;minified&quot;: false,\n  &quot;inputSourceMap&quot;: false,\n  &quot;sourceMaps&quot;: false,\n  &quot;plugins&quot;: [\n    [\n      &quot;module-resolver&quot;,\n      {\n        &quot;root&quot;: [&quot;./dist&quot;],\n        &quot;alias&quot;: {\n          &quot;@&quot;: &quot;./dist&quot;\n        }\n      }\n    ]\n  ]\n}\n\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 271, "user_id": 3469261, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7DoA0.jpg?s=128&g=1", "display_name": "Jethro91", "link": "https://stackoverflow.com/users/3469261/jethro91"}, "is_accepted": false, "score": 1, "last_activity_date": 1615510218, "creation_date": 1615510218, "answer_id": 66592655, "question_id": 59179787, "link": "https://stackoverflow.com/questions/59179787/tsc-doesnt-compile-alias-paths/66592655#66592655", "title": "tsc - doesn&#39;t compile alias paths", "body": "<p>There's a long discussion in typescript issues about this, and I can't seem find better solution than this.</p>\n<p><strong>Development</strong></p>\n<pre><code>npm i -save-dev tsconfig-paths/register\n</code></pre>\n<p>tsconfig.json</p>\n<pre><code>{\n &quot;compilerOptions&quot;: {\n    &quot;baseUrl&quot;: &quot;.&quot;,\n    &quot;paths&quot;: {\n      &quot;@src/*&quot;: [&quot;src/*&quot;],\n    },   \n  }\n}\n</code></pre>\n<p>package.json</p>\n<pre><code>&quot;scripts&quot;: {\n  dev: &quot;ts-node -r tsconfig-paths/register src/index.ts&quot;\n}\n</code></pre>\n<p><strong>Build</strong></p>\n<pre><code>npm i -save-d ttypescript @zerollup/ts-transform-paths\n</code></pre>\n<p>tsconfig.json</p>\n<pre><code>{\n &quot;compilerOptions&quot;: {\n    &quot;baseUrl&quot;: &quot;.&quot;,\n    &quot;paths&quot;: {\n      &quot;@src/*&quot;: [&quot;src/*&quot;],\n    },   \n  }\n &quot;plugins&quot;: [\n      {\n          &quot;transform&quot;: &quot;@zerollup/ts-transform-paths&quot;,\n      }\n  ],\n}\n</code></pre>\n<p>package.json</p>\n<pre><code>&quot;scripts&quot;: {\n  build: &quot;ttsc -P ./tsconfig.json&quot;\n}\n</code></pre>\n"}], "owner": {"reputation": 546, "user_id": 7815298, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-IDFm6a0cU4w/AAAAAAAAAAI/AAAAAAAAACE/sVXWFqzcvUo/photo.jpg?sz=128", "display_name": "ahadortiz", "link": "https://stackoverflow.com/users/7815298/ahadortiz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4672, "favorite_count": 1, "answer_count": 2, "score": 8, "last_activity_date": 1615510218, "creation_date": 1575474426, "question_id": 59179787, "link": "https://stackoverflow.com/questions/59179787/tsc-doesnt-compile-alias-paths", "title": "tsc - doesn&#39;t compile alias paths", "body": "<p>I have typescript and uses the aliases.\nHere is part of tsconfig.json</p>\n\n<pre><code>\"compilerOptions\": {\n  \"baseUrl\": \"./src\",\n   ...\n},\n</code></pre>\n\n<p>By setting the base url, I can change</p>\n\n<pre><code>import User from \"src/models/User.model.ts\"\n</code></pre>\n\n<p>to</p>\n\n<pre><code>import User from \"models/User.model.ts\"\n</code></pre>\n\n<p>The problem is that tsc compiles src folder to dist folder, so User import path should be changed to the relative path something like this:</p>\n\n<pre><code>\"../models/User.model.js\"\n</code></pre>\n\n<p>But it doesn't change, so I get the following error:</p>\n\n<pre><code>\"models/User.model.js\" not found\n</code></pre>\n\n<p>I searched for the answer, but no luck.</p>\n"}, {"tags": ["node.js", "typescript", "typescript-typings"], "comments": [{"owner": {"reputation": 646, "user_id": 6179417, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f760bab000516647ccfddfdeb864c933?s=128&d=identicon&r=PG", "display_name": "Fdebijl", "link": "https://stackoverflow.com/users/6179417/fdebijl"}, "edited": false, "score": 1, "creation_date": 1575474545, "post_id": 59178648, "comment_id": 104580649, "body": "Is your JS example using a third-party package to extract the command line arguments (perhaps <a href=\"https://www.npmjs.com/package/command-line-args\" rel=\"nofollow noreferrer\">command-line-args</a>)? <code>global.commandLineArgs.args</code> is not a standard way to retrieve command line arguments as far as I&#39;m aware."}, {"owner": {"reputation": 27, "user_id": 4310730, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-VbswV9momhU/AAAAAAAAAAI/AAAAAAAACm4/EnkTqcMJ42I/photo.jpg?sz=128", "display_name": "Senthil K", "link": "https://stackoverflow.com/users/4310730/senthil-k"}, "reply_to_user": {"reputation": 646, "user_id": 6179417, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f760bab000516647ccfddfdeb864c933?s=128&d=identicon&r=PG", "display_name": "Fdebijl", "link": "https://stackoverflow.com/users/6179417/fdebijl"}, "edited": false, "score": 0, "creation_date": 1575476878, "post_id": 59178648, "comment_id": 104582094, "body": "Yes it does uses 3rd party packages,. Can you please standard way to retrieve command line arguments in TS?"}, {"owner": {"reputation": 646, "user_id": 6179417, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f760bab000516647ccfddfdeb864c933?s=128&d=identicon&r=PG", "display_name": "Fdebijl", "link": "https://stackoverflow.com/users/6179417/fdebijl"}, "edited": false, "score": 1, "creation_date": 1575479221, "post_id": 59178648, "comment_id": 104583465, "body": "Using a third party package is not bad in and of itself, but if you do you probably don&#39;t need to use the <code>global</code> object. The &#39;standard&#39; way is to use <code>process.argv.slice(2)</code>, which returns an array of all the arguments passed into the process. A more robust way would be to use something like <a href=\"https://github.com/substack/minimist\" rel=\"nofollow noreferrer\">minimist</a> to do the parsing for you. What library are you currently using to parse the command line arguments?"}, {"owner": {"reputation": 27, "user_id": 4310730, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-VbswV9momhU/AAAAAAAAAAI/AAAAAAAACm4/EnkTqcMJ42I/photo.jpg?sz=128", "display_name": "Senthil K", "link": "https://stackoverflow.com/users/4310730/senthil-k"}, "reply_to_user": {"reputation": 646, "user_id": 6179417, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f760bab000516647ccfddfdeb864c933?s=128&d=identicon&r=PG", "display_name": "Fdebijl", "link": "https://stackoverflow.com/users/6179417/fdebijl"}, "edited": false, "score": 0, "creation_date": 1575824038, "post_id": 59178648, "comment_id": 104686802, "body": "@Fdebijl your suggestion works perfectly. Thank you so much !! :)"}, {"owner": {"reputation": 646, "user_id": 6179417, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f760bab000516647ccfddfdeb864c933?s=128&d=identicon&r=PG", "display_name": "Fdebijl", "link": "https://stackoverflow.com/users/6179417/fdebijl"}, "edited": false, "score": 0, "creation_date": 1575976054, "post_id": 59178648, "comment_id": 104739286, "body": "No problem! I&#39;ll port my comment to an answer so you can mark this question as closed."}], "answers": [{"tags": [], "owner": {"reputation": 646, "user_id": 6179417, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f760bab000516647ccfddfdeb864c933?s=128&d=identicon&r=PG", "display_name": "Fdebijl", "link": "https://stackoverflow.com/users/6179417/fdebijl"}, "is_accepted": true, "score": 2, "last_activity_date": 1610903841, "last_edit_date": 1610903841, "creation_date": 1575977493, "answer_id": 59266227, "question_id": 59178648, "link": "https://stackoverflow.com/questions/59178648/how-to-retrieve-command-line-args-which-was-passed-during-building-custom-build/59266227#59266227", "title": "How to retrieve command-line args which was passed during building [custom build system] in typescript", "body": "<p>In Typescript and Node.js in general, there's a few ways to retrieve command line arguments. You can either use the built-in <a href=\"https://nodejs.org/docs/latest/api/process.html#process_process_argv\" rel=\"nofollow noreferrer\"><code>process.argv</code></a> property, which returns an array containing the command line arguments passed when the Node.js process was launched. Since the first two arguments will almost always be <code>node</code> and <code>path/to/script.js</code>, it is generally used as <code>process.argv.slice(2)</code>.</p>\n<p><strong>Example:</strong></p>\n<pre class=\"lang-sh prettyprint-override\"><code>node script.js --build --test-args TestArgument1\n</code></pre>\n<p><em>script.js</em></p>\n<pre class=\"lang-js prettyprint-override\"><code>console.log(process.argv.slice(2)) // [ '--build', '--test-args', 'TestArgument1' ]\n</code></pre>\n<hr />\n<p>The other, arguably better, way is to use a tried and tested library to parse your command line arguments. Popular options include:</p>\n<p><strong><a href=\"https://github.com/substack/minimist\" rel=\"nofollow noreferrer\">Minimist</a></strong>: For minimal argument parsing.</p>\n<p><strong><a href=\"https://github.com/tj/commander.js\" rel=\"nofollow noreferrer\">Commander.js</a></strong>: Most adopted module for argument parsing.</p>\n<p><strong><a href=\"https://github.com/sindresorhus/meow\" rel=\"nofollow noreferrer\">Meow</a></strong>: Lighter alternative to Commander.js</p>\n<p><strong><a href=\"https://github.com/bcoe/yargs\" rel=\"nofollow noreferrer\">Yargs</a></strong>: More sophisticated argument parsing (heavy).</p>\n<p><strong><a href=\"https://github.com/dthree/vorpal\" rel=\"nofollow noreferrer\">Vorpal.js</a></strong>: Mature / interactive command-line applications with argument parsing.</p>\n<p>For your case Minimist would probably the best solution.<br />\n<code>node script.js --build --test-args TestArgument1</code> would look like this:</p>\n<pre class=\"lang-js prettyprint-override\"><code>const argv: minimist.ParsedArgs = require('minimist')(process.argv.slice(2));\nconsole.dir(argv); \n/*\n { \n   _: [ 'build' ],\n   test-args: 'TestArgument1'\n }\n*/\n</code></pre>\n"}], "owner": {"reputation": 27, "user_id": 4310730, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-VbswV9momhU/AAAAAAAAAAI/AAAAAAAACm4/EnkTqcMJ42I/photo.jpg?sz=128", "display_name": "Senthil K", "link": "https://stackoverflow.com/users/4310730/senthil-k"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2176, "favorite_count": 0, "accepted_answer_id": 59266227, "answer_count": 1, "score": 1, "last_activity_date": 1610903841, "creation_date": 1575470727, "question_id": 59178648, "link": "https://stackoverflow.com/questions/59178648/how-to-retrieve-command-line-args-which-was-passed-during-building-custom-build", "title": "How to retrieve command-line args which was passed during building [custom build system] in typescript", "body": "<p>I know how to retrieve command-line args in JS by using following manner,</p>\n\n<pre><code>`Config.getTestArgs = () =&gt; {\n    try {\n        return global.commandLineArgs.args[\"test-args\"];\n    }\n    catch (e) {\n        logger.error(`Error reading test - args from command line: ${ e } `);\n        return null;\n    }\n};`\n</code></pre>\n\n<p>When i use the same way in Typescript, i get an error <code>Cannot find module- global</code></p>\n\n<p>If i pass my input like </p>\n\n<pre><code>`--build --test-args TestArument1`\n</code></pre>\n\n<p><code>getTestArgs</code> should return TestArgument1 as output.</p>\n\n<p>Consider we have our own build system which uses nodeJs and Typescript. Which nodeJS dependencies should i need to consider?</p>\n"}, {"tags": ["javascript", "typescript", "asynchronous", "iframe"], "comments": [{"owner": {"reputation": 973, "user_id": 3367669, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/466c7865b463a6c4cbb820b42dde9e58?s=128&d=identicon&r=PG", "display_name": "Sid Vishnoi", "link": "https://stackoverflow.com/users/3367669/sid-vishnoi"}, "edited": false, "score": 0, "creation_date": 1575472892, "post_id": 59178406, "comment_id": 104579648, "body": "&quot;to call the second postMessage only after the first is finished&quot;... do you mean the iframe will return some response that you have to wait for?"}, {"owner": {"reputation": 1, "user_id": 10248874, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "\u0415\u043a\u0430\u0442\u0435\u0440\u0438\u043d\u0430 \u0418\u0448\u0442\u044b\u0440\u044f\u043a\u043e\u0432\u0430", "link": "https://stackoverflow.com/users/10248874/%d0%95%d0%ba%d0%b0%d1%82%d0%b5%d1%80%d0%b8%d0%bd%d0%b0-%d0%98%d1%88%d1%82%d1%8b%d1%80%d1%8f%d0%ba%d0%be%d0%b2%d0%b0"}, "reply_to_user": {"reputation": 973, "user_id": 3367669, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/466c7865b463a6c4cbb820b42dde9e58?s=128&d=identicon&r=PG", "display_name": "Sid Vishnoi", "link": "https://stackoverflow.com/users/3367669/sid-vishnoi"}, "edited": false, "score": 0, "creation_date": 1575473058, "post_id": 59178406, "comment_id": 104579745, "body": "no, I was said that it returns nothing"}], "owner": {"reputation": 1, "user_id": 10248874, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "\u0415\u043a\u0430\u0442\u0435\u0440\u0438\u043d\u0430 \u0418\u0448\u0442\u044b\u0440\u044f\u043a\u043e\u0432\u0430", "link": "https://stackoverflow.com/users/10248874/%d0%95%d0%ba%d0%b0%d1%82%d0%b5%d1%80%d0%b8%d0%bd%d0%b0-%d0%98%d1%88%d1%82%d1%8b%d1%80%d1%8f%d0%ba%d0%be%d0%b2%d0%b0"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 39, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1575470432, "creation_date": 1575470022, "last_edit_date": 1575470432, "question_id": 59178406, "link": "https://stackoverflow.com/questions/59178406/sequence-of-postmessage-invocations-on-iframe", "title": "Sequence of postMessage invocations on iframe", "body": "<p>In my main document I had the function showOnMap, wich communicated with inner ifame by several postMessage methods. Then I was asked to call the second postMessage only after the first is finished. Is it possible to do this? I have no control over the iframe itself, it comes from an external source. My current code: </p>\n\n<pre><code>function showOnMap(record: ITableData) {\n const frame = document.querySelector('iframe') as HTMLIFrameElement;\n if (frame &amp;&amp; frame.contentWindow) {\n   frame.contentWindow.postMessage(getFirstMessage(record), '*');\n   frame.contentWindow.postMessage(getSecondMessage([record]), '*');\n }\n}\n</code></pre>\n"}, {"tags": ["reactjs", "typescript", "bit"], "comments": [{"owner": {"reputation": 101, "user_id": 11201868, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-jMwMAoNlrmQ/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcyuCo9ryWOOFokYB0WVmbZwpYz5A/mo/photo.jpg?sz=128", "display_name": "Amit Feldman", "link": "https://stackoverflow.com/users/11201868/amit-feldman"}, "edited": false, "score": 0, "creation_date": 1575972020, "post_id": 59178211, "comment_id": 104737134, "body": "Also running into the same issue, any updates?"}, {"owner": {"reputation": 2648, "user_id": 2281602, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/b63b31ed172fe78fa96cfd03f50d97e0?s=128&d=identicon&r=PG", "display_name": "Rumpelstinsk", "link": "https://stackoverflow.com/users/2281602/rumpelstinsk"}, "reply_to_user": {"reputation": 101, "user_id": 11201868, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-jMwMAoNlrmQ/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcyuCo9ryWOOFokYB0WVmbZwpYz5A/mo/photo.jpg?sz=128", "display_name": "Amit Feldman", "link": "https://stackoverflow.com/users/11201868/amit-feldman"}, "edited": false, "score": 0, "creation_date": 1575972239, "post_id": 59178211, "comment_id": 104737245, "body": "@AmitFeldman not yet. I have openned a ticket on git: <a href=\"https://github.com/teambit/envs/issues/46\" rel=\"nofollow noreferrer\">github.com/teambit/envs/issues/46</a>"}, {"owner": {"reputation": 101, "user_id": 11201868, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-jMwMAoNlrmQ/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcyuCo9ryWOOFokYB0WVmbZwpYz5A/mo/photo.jpg?sz=128", "display_name": "Amit Feldman", "link": "https://stackoverflow.com/users/11201868/amit-feldman"}, "edited": false, "score": 1, "creation_date": 1575975642, "post_id": 59178211, "comment_id": 104739070, "body": "Okay so I found a quick fix. Go to the compile.js where the error is thrown. On line 160 where they create the pathPrefix the code is: var pathPrefix = &quot;&quot; + compDistRoot + (compDistRoot.endsWith(&#39;/&#39;) ? &#39;&#39; : &#39;/&#39;); I changed it to var pathPrefix = &quot;&quot; + compDistRoot + (compDistRoot.endsWith(&#39;\\\\&#39;) ? &#39;&#39; : &#39;\\\\&#39;); and it should work. I think it might be an issue because were on Windows"}], "owner": {"reputation": 2648, "user_id": 2281602, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/b63b31ed172fe78fa96cfd03f50d97e0?s=128&d=identicon&r=PG", "display_name": "Rumpelstinsk", "link": "https://stackoverflow.com/users/2281602/rumpelstinsk"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 413, "favorite_count": 0, "answer_count": 0, "score": 3, "last_activity_date": 1575972623, "creation_date": 1575469418, "last_edit_date": 1575972623, "question_id": 59178211, "link": "https://stackoverflow.com/questions/59178211/how-to-use-a-bit-build-in-a-react-app-with-typescript", "title": "How to use a `bit build` in a react app with typescript", "body": "<p>I'm having some troubles exposing my components in <a href=\"https://bit.dev/\" rel=\"nofollow noreferrer\">bit</a></p>\n\n<p>I have created a react-app with typescript, using: <code>npx create-react-app my-app --templates typescript</code>\nThen I have created this component:</p>\n\n<p><strong>..\\components\\TaskForm\\types.ts</strong></p>\n\n<pre><code>export interface ITaskFormTask{\n    [key:string]:string;\n    title: string;\n    description: string;\n}\n\nexport interface ITaskFormProps {\n    addANewTask: (task: ITaskFormTask) =&gt; void;\n}\n\nexport interface ITaskFormState {\n    task: ITaskFormTask;\n    showError: boolean;\n}\n</code></pre>\n\n<p><strong>..\\components\\TaskForm\\index.tsx</strong></p>\n\n<pre><code>import React, { Component } from 'react';\nimport * as TYPES from './types';\n\nexport {TYPES as TaskFormTypes};\n\nexport class TaskForm extends Component&lt;TYPES.ITaskFormProps, TYPES.ITaskFormState&gt; {\n    private emptyTask:TYPES.ITaskFormTask = {description: \"\", title: \"\"};\n\n    constructor(props: TYPES.ITaskFormProps) {\n        super(props);\n        this.state = {\n            task: this.emptyTask,\n            showError: false\n        };\n    }\n\n    private handleNewTask(e: React.FormEvent&lt;HTMLFormElement&gt;):void {\n        e.preventDefault();\n        let newTask: TYPES.ITaskFormTask = {\n            title: this.state.task.title,\n            description: this.state.task.description\n        };\n        this.props.addANewTask(newTask);\n\n        this.setState({\n            task: this.emptyTask\n        });\n    }\n\n    private handleOnChange(e: React.ChangeEvent&lt;HTMLInputElement | HTMLTextAreaElement&gt;):void {\n        let {name, value} = e.target;\n        let task:TYPES.ITaskFormTask = Object.assign({}, this.state.task);\n        task[name] = value;        \n        this.setState({task});\n    }\n    public render(): JSX.Element {\n        return (\n            &lt;div className=\"card card-body\"&gt;\n                &lt;form onSubmit={e =&gt; this.handleNewTask(e)}&gt;\n                    &lt;div className=\"form-group\"&gt;\n                        &lt;input\n                            type=\"text\"\n                            name=\"title\"\n                            className=\"form-control\"\n                            placeholder=\"TaskTitle\"\n                            onChange={e =&gt; this.handleOnChange(e)}\n                            value={this.state.task.title} /&gt;\n                    &lt;/div&gt;\n\n                    &lt;div className=\"form-group\"&gt;\n                        &lt;textarea\n                            name=\"description\"\n                            className=\"form-control\"\n                            placeholder=\"Task description\"\n                            value={this.state.task.description}\n                            onChange={e =&gt; this.handleOnChange(e)} &gt;&lt;/textarea&gt;\n\n                    &lt;/div&gt;\n                    &lt;button type=\"submit\" className=\"btn btn-primary btn-block\"&gt;Save&lt;/button&gt;\n\n                &lt;/form&gt;\n            &lt;/div&gt;\n        )\n    }\n}\n</code></pre>\n\n<p>This is a simple form with 2 fields and 1 button. I can run the project with no problem with <code>npm start</code> and it display the form. I have not posted the App.tsx, because it's irrelevant for the problem.</p>\n\n<p><a href=\"https://i.stack.imgur.com/2TriX.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/2TriX.png\" alt=\"enter image description here\"></a></p>\n\n<p>Now I want to export my component using bit. As I'm using typescript, I need a the bit compiler. So, first, I have imported it:</p>\n\n<p><code>bit import -c bit.envs/compilers/react-typescript</code></p>\n\n<p>Then when I try to build it using <code>bit build</code> it throws the next exception</p>\n\n<pre><code>error: bit failed to build &lt;my_name&gt;.poc_collection/task-form@1.0.0 with the following exception:\nCannot read property 'endsWith' of undefined\nTypeError: Cannot read property 'endsWith' of undefined\n    at C:\\Proyectos\\bit\\poc_collection\\.git\\bit\\components\\compilers\\react-typescript\\bit.envs\\3.1.16\\components\\.dependencies\\compilers\\typescript\\bit.envs\\3.1.12\\dist\\ts-compiler\\src\\compile.js:142:28\n    at Array.find (&lt;anonymous&gt;)\n    at findMainFile (C:\\Proyectos\\bit\\poc_collection\\.git\\bit\\components\\compilers\\react-typescript\\bit.envs\\3.1.16\\components\\.dependencies\\compilers\\typescript\\bit.envs\\3.1.12\\dist\\ts-compiler\\src\\compile.js:137:21)\n    at C:\\Proyectos\\bit\\poc_collection\\.git\\bit\\components\\compilers\\react-typescript\\bit.envs\\3.1.16\\components\\.dependencies\\compilers\\typescript\\bit.envs\\3.1.12\\dist\\ts-compiler\\src\\compile.js:120:32\n    at step (C:\\Proyectos\\bit\\poc_collection\\.git\\bit\\components\\compilers\\react-typescript\\bit.envs\\3.1.16\\components\\.dependencies\\compilers\\typescript\\bit.envs\\3.1.12\\dist\\ts-compiler\\src\\compile.js:32:23)\n    at Object.next (C:\\Proyectos\\bit\\poc_collection\\.git\\bit\\components\\compilers\\react-typescript\\bit.envs\\3.1.16\\components\\.dependencies\\compilers\\typescript\\bit.envs\\3.1.12\\dist\\ts-compiler\\src\\compile.js:13:53)\n    at fulfilled (C:\\Proyectos\\bit\\poc_collection\\.git\\bit\\components\\compilers\\react-typescript\\bit.envs\\3.1.16\\components\\.dependencies\\compilers\\typescript\\bit.envs\\3.1.12\\dist\\ts-compiler\\src\\compile.js:4:58)\n</code></pre>\n"}, {"tags": ["reactjs", "typescript", "styled-components"], "comments": [{"owner": {"reputation": 13638, "user_id": 4374566, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/61d5ab25523e9e65cec29bb4fa303bd3?s=128&d=identicon&r=PG", "display_name": "Agney", "link": "https://stackoverflow.com/users/4374566/agney"}, "edited": false, "score": 0, "creation_date": 1575469412, "post_id": 59178150, "comment_id": 104577594, "body": "The example you have given seems to <a href=\"https://stackblitz.com/edit/react-cux4ab\" rel=\"nofollow noreferrer\">work fine</a>"}, {"owner": {"reputation": 1370, "user_id": 4079725, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/a534d57879e3a46dcb2193f13f69bf14?s=128&d=identicon&r=PG&f=1", "display_name": "alsco77", "link": "https://stackoverflow.com/users/4079725/alsco77"}, "reply_to_user": {"reputation": 13638, "user_id": 4374566, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/61d5ab25523e9e65cec29bb4fa303bd3?s=128&d=identicon&r=PG", "display_name": "Agney", "link": "https://stackoverflow.com/users/4374566/agney"}, "edited": false, "score": 0, "creation_date": 1575469695, "post_id": 59178150, "comment_id": 104577778, "body": "@Agney If that is the case, possibly Typescript compiler is messing things up"}, {"owner": {"reputation": 12017, "user_id": 5005177, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/24654adb38f30006fb2d3bd07dd6242b?s=128&d=identicon&r=PG&f=1", "display_name": "trixn", "link": "https://stackoverflow.com/users/5005177/trixn"}, "edited": false, "score": 0, "creation_date": 1575470676, "post_id": 59178150, "comment_id": 104578397, "body": "@alsco77 Have you inspected the DOM confirming that the button has a class applied to it that contains the <code>background</code> property? In a sandbox your example works just fine."}, {"owner": {"reputation": 1370, "user_id": 4079725, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/a534d57879e3a46dcb2193f13f69bf14?s=128&d=identicon&r=PG&f=1", "display_name": "alsco77", "link": "https://stackoverflow.com/users/4079725/alsco77"}, "reply_to_user": {"reputation": 12017, "user_id": 5005177, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/24654adb38f30006fb2d3bd07dd6242b?s=128&d=identicon&r=PG&f=1", "display_name": "trixn", "link": "https://stackoverflow.com/users/5005177/trixn"}, "edited": false, "score": 0, "creation_date": 1575470873, "post_id": 59178150, "comment_id": 104578502, "body": "@trixn  This seems to only be happening when using Brave browser. I just checked in Chrome and its working fine there...."}], "answers": [{"comments": [{"owner": {"reputation": 13638, "user_id": 4374566, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/61d5ab25523e9e65cec29bb4fa303bd3?s=128&d=identicon&r=PG", "display_name": "Agney", "link": "https://stackoverflow.com/users/4374566/agney"}, "edited": false, "score": 0, "creation_date": 1575470172, "post_id": 59178229, "comment_id": 104578083, "body": "There is no rule against checking state outside <code>return</code>"}, {"owner": {"reputation": 12017, "user_id": 5005177, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/24654adb38f30006fb2d3bd07dd6242b?s=128&d=identicon&r=PG&f=1", "display_name": "trixn", "link": "https://stackoverflow.com/users/5005177/trixn"}, "edited": false, "score": 0, "creation_date": 1575470230, "post_id": 59178229, "comment_id": 104578122, "body": "As this is a functional component the whole component is the &quot;render&quot; function. You example is equivalent to the orginal code except that it adds a fragment."}, {"owner": {"reputation": 129, "user_id": 8924420, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a56b3daef5da86bd16ae33e8f77682af?s=128&d=identicon&r=PG&f=1", "display_name": "JamesGill", "link": "https://stackoverflow.com/users/8924420/jamesgill"}, "edited": false, "score": 0, "creation_date": 1575470898, "post_id": 59178229, "comment_id": 104578521, "body": "But yes the orginal example does work for me also, the version I have given should still work though and is a little more readable (imo)"}], "tags": [], "owner": {"reputation": 129, "user_id": 8924420, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a56b3daef5da86bd16ae33e8f77682af?s=128&d=identicon&r=PG&f=1", "display_name": "JamesGill", "link": "https://stackoverflow.com/users/8924420/jamesgill"}, "is_accepted": false, "score": 0, "last_activity_date": 1575470475, "last_edit_date": 1575470475, "creation_date": 1575469454, "answer_id": 59178229, "question_id": 59178150, "link": "https://stackoverflow.com/questions/59178150/styled-components-not-applying-style-on-fragment-excluded-from-initial-render/59178229#59178229", "title": "Styled-components not applying style on fragment excluded from initial render", "body": "<p>Hi i believe this is becuase you are checking the state outside of the render function so it is not rechecked each rerender, the following code should help. Let us know if you have any questions. </p>\n\n<pre><code>const StyledButton = styled.button`\n  background: black;\n`\n\nfunction TestComponent(props) {\n  const [x, setX] = useState(true)\n\n  useEffect(() =&gt; {\n    const timeout = setTimeout(() =&gt; {\n      setX(false)\n    }, 600)\n    return () =&gt; {\n      clearTimeout(timeout)\n    }\n  }, [])\n\n  return(\n    &lt;&gt;\n      {x ? &lt;&gt;{'test'}&lt;/&gt; :  &lt;StyledButton&gt;test&lt;/StyledButton&gt;}\n    &lt;/&gt;\n  )\n}\n</code></pre>\n"}], "owner": {"reputation": 1370, "user_id": 4079725, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/a534d57879e3a46dcb2193f13f69bf14?s=128&d=identicon&r=PG&f=1", "display_name": "alsco77", "link": "https://stackoverflow.com/users/4079725/alsco77"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 205, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1575470475, "creation_date": 1575469210, "question_id": 59178150, "link": "https://stackoverflow.com/questions/59178150/styled-components-not-applying-style-on-fragment-excluded-from-initial-render", "title": "Styled-components not applying style on fragment excluded from initial render", "body": "<p>In the example below, the background style on the <code>StyledButton</code> is not being applied. It seems to happen when a fragment is not included in the initial render of the component. For example, if we were to just render the StyledComponent here, it would have a black background as expected. Is this expected behaviour? </p>\n\n<p>NB: I am using create-react-app with Typescript</p>\n\n<pre><code>const StyledButton = styled.button`\n  background: black;\n`\n\nfunction TestComponent(props) {\n  const [x, setX] = useState(true)\n\n  useEffect(() =&gt; {\n    const timeout = setTimeout(() =&gt; {\n      setX(false)\n    }, 600)\n    return () =&gt; {\n      clearTimeout(timeout)\n    }\n  }, [])\n  if (x) {\n    return &lt;&gt;{'test'}&lt;/&gt;\n  }\n  return &lt;StyledButton&gt;test&lt;/StyledButton&gt;\n}\n</code></pre>\n"}, {"tags": ["angular", "typescript", "sass", "angular-material", "textarea"], "answers": [{"tags": [], "owner": {"reputation": 2944, "user_id": 2234569, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/A9a2p.jpg?s=128&g=1", "display_name": "Abbas Amiri", "link": "https://stackoverflow.com/users/2234569/abbas-amiri"}, "is_accepted": false, "score": 1, "last_activity_date": 1575551840, "last_edit_date": 1575551840, "creation_date": 1575469234, "answer_id": 59178158, "question_id": 59177689, "link": "https://stackoverflow.com/questions/59177689/change-color-of-characters-if-they-exceeded-the-certain-limit-in-textarea/59178158#59178158", "title": "Change color of characters if they exceeded the certain limit in textarea", "body": "<p>It's not possible with <code>textarea</code>. </p>\n\n<blockquote>\n  <p>The HTML  element represents a multi-line plain-text editing control, useful when you want to allow users to enter a sizeable amount of free-form text, for example a comment on a review or feedback form.</p>\n</blockquote>\n\n<p><a href=\"https://developer.mozilla.org/en-US/docs/Web/HTML/Element/textarea\" rel=\"nofollow noreferrer\">https://developer.mozilla.org/en-US/docs/Web/HTML/Element/textarea</a></p>\n\n<p>but you can use a <code>div</code> with <code>contenteditable</code>. In this way you can format the text inside the <code>div</code> with some formats which indicates that some portion of text is not valid.</p>\n\n<p>If you are looking for a library based on this idea, <a href=\"http://jakiestfu.github.io/Medium.js/docs/\" rel=\"nofollow noreferrer\">MEDIUM.JS</a> could be a good candidate.</p>\n\n<p>The code below could show how it works.</p>\n\n<pre><code>&lt;div id=\"textarea\" contenteditable&gt;&lt;/div&gt;\n    &lt;script&gt;\n        div = document.getElementById('textarea');\n        var maxLength = 10;\n        setInterval(function () {\n            var text = div.innerHTML;\n            text = text.replace('&lt;span style=\"color: red\"&gt;', '');\n            text = text.replace('&lt;/span&gt;', '');\n            if (text.length &gt; maxLength) {\n                var normalText = text.substring(0, maxLength);\n                var invalidText = text.substring(maxLength);\n                var result = normalText + '&lt;span style=\"color: red\"&gt;' + invalidText + '&lt;/span&gt;';\n                div.innerHTML = result;\n            }\n            setEndOfContenteditable(div);\n        }, 500);\n\n        function setEndOfContenteditable(contentEditableElement) {\n            var range, selection;\n            if (document.createRange)\n            {\n                range = document.createRange();\n                range.selectNodeContents(contentEditableElement);\n                range.collapse(false);\n                selection = window.getSelection();\n                selection.removeAllRanges();\n                selection.addRange(range);\n            }\n            else if (document.selection)\n            {\n                range = document.body.createTextRange();\n                range.moveToElementText(contentEditableElement);\n                range.collapse(false);\n                range.select();\n            }\n        }\n    &lt;/script&gt;\n</code></pre>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user5959252"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 480, "favorite_count": 0, "answer_count": 1, "score": 4, "last_activity_date": 1575551840, "creation_date": 1575467808, "last_edit_date": 1575468535, "question_id": 59177689, "link": "https://stackoverflow.com/questions/59177689/change-color-of-characters-if-they-exceeded-the-certain-limit-in-textarea", "title": "Change color of characters if they exceeded the certain limit in textarea", "body": "<p>I have added textarea to my angular form and I would like to limit the user input length here (let's say 1000 characters). Instead of using maxLength (which doesn't let you enter more than the specified limit) and I would like to mark the characters (for example, change the color to the red) which exceeded the limit.</p>\n\n<pre><code>  &lt;mat-form-field floatLabel=\"always\"&gt;\n    &lt;mat-label&gt;dummy textarea&lt;/mat-label&gt;\n    &lt;textarea matInput formControlName=\"textareaFormControl\" required trim=\"blur\"\n              [errorStateMatcher]=\"matcher\"&gt;\n    &lt;/textarea&gt;\n    &lt;mat-error *ngIf=\"textareaFormControl.hasError('required')\"&gt;\n      {{ 'formValidation.required' | translate }}\n    &lt;/mat-error&gt;\n  &lt;/mat-form-field&gt;\n</code></pre>\n\n<p>I would like to know if there are any libraries that could provide this functionality or how can I style the only part of the text.</p>\n\n<p>Example:\n<a href=\"https://i.stack.imgur.com/SiLd8.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/SiLd8.jpg\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["typescript", "unit-testing", "nestjs"], "comments": [{"owner": {"reputation": 7276, "user_id": 5784924, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/LC3Oq.png?s=128&g=1", "display_name": "Nicolas", "link": "https://stackoverflow.com/users/5784924/nicolas"}, "edited": false, "score": 0, "creation_date": 1575467992, "post_id": 59177653, "comment_id": 104576672, "body": "Hi welcome to stackoverflow ! For your controller part, how would you instanciate a controller that has 15 service, and each service has 15 service, recursively ? That can get confusing really fast."}, {"owner": {"reputation": 11, "user_id": 12478927, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mCEkKx9WAwI87Co7q9TnLIiEclyQiac9EVMHrXB=k-s128", "display_name": "Andreas Fyrstelin Fuller", "link": "https://stackoverflow.com/users/12478927/andreas-fyrstelin-fuller"}, "reply_to_user": {"reputation": 7276, "user_id": 5784924, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/LC3Oq.png?s=128&g=1", "display_name": "Nicolas", "link": "https://stackoverflow.com/users/5784924/nicolas"}, "edited": false, "score": 0, "creation_date": 1575468802, "post_id": 59177653, "comment_id": 104577208, "body": "I still need to provide the service in the module and if they are all mocks the next layer of service would not be necessary. For E2E tests it is another story."}], "answers": [{"comments": [{"owner": {"reputation": 11, "user_id": 12478927, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mCEkKx9WAwI87Co7q9TnLIiEclyQiac9EVMHrXB=k-s128", "display_name": "Andreas Fyrstelin Fuller", "link": "https://stackoverflow.com/users/12478927/andreas-fyrstelin-fuller"}, "edited": false, "score": 0, "creation_date": 1575482466, "post_id": 59181777, "comment_id": 104585155, "body": "Maybe a real-world example is needed, but in the <a href=\"https://github.com/jmcdo29/testing-nestjs/blob/master/apps/typeorm-graphql-sample/src/cat/cat.service.spec.ts\" rel=\"nofollow noreferrer\">cat.service.spec</a>, I do not see the point of the TestModule. Why not just create the service with the value provided in the Repo provider? I would still use mocks (just passing it directly to the service ctor instead of using the provider in the module) which will avoid the second example."}, {"owner": {"reputation": 17343, "user_id": 9576186, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2beeea1d726e9c3fab3a91953895039b?s=128&d=identicon&r=PG", "display_name": "Jay McDoniel", "link": "https://stackoverflow.com/users/9576186/jay-mcdoniel"}, "reply_to_user": {"reputation": 11, "user_id": 12478927, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mCEkKx9WAwI87Co7q9TnLIiEclyQiac9EVMHrXB=k-s128", "display_name": "Andreas Fyrstelin Fuller", "link": "https://stackoverflow.com/users/12478927/andreas-fyrstelin-fuller"}, "edited": false, "score": 0, "creation_date": 1575482730, "post_id": 59181777, "comment_id": 104585291, "body": "Again, it would be fine if the service only has one or two basic dependencies, but when it has multiple dependencies, or when it&#39;s dependencies have dependencies, it gets a little hard to &quot;just pass it directly&quot;. <a href=\"https://github.com/jmcdo29/zeldaPlay/blob/master/apps/api/src/app/auth/auth/auth.service.ts\" rel=\"nofollow noreferrer\">Here is a service from my main repository</a>, and <a href=\"https://github.com/jmcdo29/zeldaPlay/blob/master/apps/api/src/app/auth/auth/auth.service.spec.ts\" rel=\"nofollow noreferrer\">here is its test</a>. I don&#39;t worry about mocking the entirety of the classes, just what&#39;s necessary to make the class run."}, {"owner": {"reputation": 11, "user_id": 12478927, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mCEkKx9WAwI87Co7q9TnLIiEclyQiac9EVMHrXB=k-s128", "display_name": "Andreas Fyrstelin Fuller", "link": "https://stackoverflow.com/users/12478927/andreas-fyrstelin-fuller"}, "edited": false, "score": 0, "creation_date": 1575485763, "post_id": 59181777, "comment_id": 104586631, "body": "I still do not see it. I have forked your repo and in <a href=\"https://github.com/afkpost/zeldaPlay/commit/cf123c29b217ffa148d610ef7027407b81286d67?diff=split\" rel=\"nofollow noreferrer\">this commit</a> I have removed the testing module: it&#39;s fever lines of code, there is no IOC container (no providing of a mapping from the injection name to the instance) and the dependencies are stronger typed (a helper for modules is fairly trivial, but it has to support all the ways of adding providers). For me both ways handles the dependencies the same way (using mocks) - I just don&#39;t see the use for testing modules for unit tests."}, {"owner": {"reputation": 17343, "user_id": 9576186, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2beeea1d726e9c3fab3a91953895039b?s=128&d=identicon&r=PG", "display_name": "Jay McDoniel", "link": "https://stackoverflow.com/users/9576186/jay-mcdoniel"}, "reply_to_user": {"reputation": 11, "user_id": 12478927, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mCEkKx9WAwI87Co7q9TnLIiEclyQiac9EVMHrXB=k-s128", "display_name": "Andreas Fyrstelin Fuller", "link": "https://stackoverflow.com/users/12478927/andreas-fyrstelin-fuller"}, "edited": false, "score": 0, "creation_date": 1575486442, "post_id": 59181777, "comment_id": 104586865, "body": "And that&#39;s fine, you don&#39;t have to use the utilities provided if you don&#39;t want to. I just figured I would give my example as to why it can be helpful. It keeps all of your tests looking similar and most other devs who use Nest would know how to read them pretty quickly, but that doesn&#39;t mean this is the only way to do it at all, and you&#39;re free to do it how you want."}], "tags": [], "owner": {"reputation": 17343, "user_id": 9576186, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2beeea1d726e9c3fab3a91953895039b?s=128&d=identicon&r=PG", "display_name": "Jay McDoniel", "link": "https://stackoverflow.com/users/9576186/jay-mcdoniel"}, "is_accepted": false, "score": 0, "last_activity_date": 1575480753, "creation_date": 1575480753, "answer_id": 59181777, "question_id": 59177653, "link": "https://stackoverflow.com/questions/59177653/nestjs-architecture-and-testing/59181777#59181777", "title": "NestJS architecture and testing", "body": "<p>The ability to do something like</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>const myController = new MyConstroller(new MyService());\n</code></pre>\n\n<p>is great in theory, but once your service starts having dependencies on other services (Redis, TypeORM, other services in your application) it can quickly become handful to work with</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>const myController = new MyController(\n  new MyService(\n    new RedisService(redisOptions),\n    new MyEntityReposiotry(myEntityRepoOptions),\n    new OtherService(new RedisService(redisOpitons))\n  )\n);\n</code></pre>\n\n<p>and sure you can set these to variables before making your controller so you're instantiating less classes, but you're still having to make a lot of these injections yourself. </p>\n\n<p>With the Nest architecture and Test class you can do something quick like</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>beforeEach(async () =&gt; {\n  const module = await Test.createTestingModule({\n    controllers: [MyController],\n    providers: [\n      {\n        provide: MyService,\n        useValue: myServiceMock\n      }\n    ],\n  }).compile();\n});\n</code></pre>\n\n<p>And now you easily have a reference to what your mock for my service is, you can define the general structure and default return values of the service functions, and can still get the reference to the service and controller class with <code>module.get&lt;MySerivce|MyController&gt;(MyService|MyController)</code>.</p>\n\n<p>Of course, you can always use <code>jest.mock()</code> to start a basic stub and mock the return values as you see fit, but keep in mind how that can affect the look of your tests. One of the draws of NestJS is that it <em>is</em> opinionated and it has a certain way it likes to look. </p>\n\n<p>If you'd like to see examples, <a href=\"https://github.com/jmcdo29/testing-nestjs\" rel=\"nofollow noreferrer\">you an check out this repo</a> with a bunch of test samples for different types of projects, including rxjs, typeorm, and graphql.</p>\n"}], "owner": {"reputation": 11, "user_id": 12478927, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mCEkKx9WAwI87Co7q9TnLIiEclyQiac9EVMHrXB=k-s128", "display_name": "Andreas Fyrstelin Fuller", "link": "https://stackoverflow.com/users/12478927/andreas-fyrstelin-fuller"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 419, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1575480753, "creation_date": 1575467696, "question_id": 59177653, "link": "https://stackoverflow.com/questions/59177653/nestjs-architecture-and-testing", "title": "NestJS architecture and testing", "body": "<p>I am currently working on a project using NestJS and when it comes to testing I think the architecture is bit of a pain. As far as I understand the recommended approach is to have two layers: controllers and service.</p>\n\n<h2>Controllers</h2>\n\n<p>The controllers is fairly easy to test when needed, although I do not understand the need for testingModules (same goes for services):</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>const module = await Test.createTestingModule({\n  controllers: [MyController]\n  providers: [MyService] // jest.mock is used to mock MyService\n}).compile();\n\ncontroller = module.get(MyController)\n</code></pre>\n\n<p>It seems fairly easy to inject whatever mock I need directly:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>controller = new MyController(new MyService()) // again jest.mock is used to mock MyService\n</code></pre>\n\n<p>For me the latter example is shorter, easier to understand and expresses exactly what I want to test. It does not test that my dependency injection works, but (at least in our application) that is checked by NestJS at startup.</p>\n\n<h2>Services</h2>\n\n<p>When it comes to testing services, I find myself doing a <strong>lot</strong> of mocking of repositories.</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>const spy = jest.spyOn(repository, 'save')\n  .mockReturnValueOnce(null) // something like jest-when should be introduced\n\nawait service.create('Question on Stackoverflow', 'I do not get it...')\n\nexpect(spy.mock.calls[0][0]).toEqual({\n  title: 'Question on Stackoverflow',\n  content: 'I do not get it...',\n  comments: [] // no initial comments\n})\n</code></pre>\n\n<p>Every tutorial/example I've found suggests putting the Repository in the service. I've thought about putting it in the controller (or resolver for GraphQL), but is just doesn't feel like the right separation of responsibilities and leads to duplication of code when both Rest and GraphQL is used. For me the best approach seems to be creating another layer (or add functions to my entity classes), which would then be responsible for the domain/business logic. This is easy to test (no mocks and no promises)</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>const question = Domain.create('Question on Stackoverflow', 'I do not get it...')\n// or const question = Question.create('Question on Stackoverflow', 'I do not get it...')\n\nexpect(question).toEqual({\n  title: 'Question on Stackoverflow',\n  content: 'I do not get it...',\n  comments: [] // no initial comments\n})\n</code></pre>\n\n<p>The service would then only be responsible for I/O which seems like a great separation of concerns.</p>\n\n<p>My question is now: does this make sense when it comes to NestJS? It seems like this is not the suggested way to do it. Maybe I am missing some important stuff or maybe I am complicating the architecture more that necessary.</p>\n\n<p>Thanks for your inputs in advance<br>\nAndreas</p>\n"}, {"tags": ["reactjs", "typescript"], "comments": [{"owner": {"reputation": 1370, "user_id": 4379173, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jzLB3.png?s=128&g=1", "display_name": "Vladimir Bogomolov", "link": "https://stackoverflow.com/users/4379173/vladimir-bogomolov"}, "edited": false, "score": 1, "creation_date": 1575467377, "post_id": 59177472, "comment_id": 104576320, "body": "Never tried ts with react but shouldn&#39;t <code>const [countBox, setCount] = useState&lt;number&gt;(0); </code> be sufficient?"}, {"owner": {"reputation": 485, "user_id": 3371251, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f732ba605f84aec7f9bf015536d6a131?s=128&d=identicon&r=PG&f=1", "display_name": "Paul", "link": "https://stackoverflow.com/users/3371251/paul"}, "reply_to_user": {"reputation": 1370, "user_id": 4379173, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jzLB3.png?s=128&g=1", "display_name": "Vladimir Bogomolov", "link": "https://stackoverflow.com/users/4379173/vladimir-bogomolov"}, "edited": false, "score": 1, "creation_date": 1575467557, "post_id": 59177472, "comment_id": 104576419, "body": "Sometimes it can be that easy"}], "answers": [{"tags": [], "owner": {"reputation": 1270, "user_id": 11338984, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6c2ec8d695eae952c47bc20540076cd7?s=128&d=identicon&r=PG&f=1", "display_name": "Ertan Hasani", "link": "https://stackoverflow.com/users/11338984/ertan-hasani"}, "is_accepted": true, "score": 1, "last_activity_date": 1575467550, "creation_date": 1575467550, "answer_id": 59177612, "question_id": 59177472, "link": "https://stackoverflow.com/questions/59177472/react-usestate-one-variable-only-with-typescript/59177612#59177612", "title": "react useState (one variable only) with typescript", "body": "<p>If you want to use <code>StateCount</code> as an interface of your state, than that's the way you should do it. Otherwise you can use</p>\n\n<pre><code>const [countBox, setCountBox] = useState&lt;number&gt;(0);\n\n//and set it as\nsetCount(countBox + 1)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 11, "user_id": 8881883, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8b0c8ae56b018c885e78622e5ed8845b?s=128&d=identicon&r=PG&f=1", "display_name": "Dru Bradley", "link": "https://stackoverflow.com/users/8881883/dru-bradley"}, "is_accepted": false, "score": 1, "last_activity_date": 1575468235, "creation_date": 1575468235, "answer_id": 59177829, "question_id": 59177472, "link": "https://stackoverflow.com/questions/59177472/react-usestate-one-variable-only-with-typescript/59177829#59177829", "title": "react useState (one variable only) with typescript", "body": "<p>If you aren't planning on adding any other members to StateCount then you can use the number type instead.</p>\n\n<pre><code>function Example() {\n  const [count, setCount] = useState&lt;number&gt;(0);\n\n  return (\n    &lt;div&gt;\n      &lt;p&gt;You clicked {count} times&lt;/p&gt;\n      &lt;button onClick={() =&gt; setCount(count + 1)}&gt;\n        Click me\n      &lt;/button&gt;\n    &lt;/div&gt;\n  );\n}\n</code></pre>\n\n<p>Typescript can also imply that the type is number because you're specifying an initial value.</p>\n\n<p>If you are needing to add more members to your state, you can instead have multiple useState calls for each value you need; otherwise, you will have to access the specific member you're using.</p>\n"}], "owner": {"reputation": 485, "user_id": 3371251, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f732ba605f84aec7f9bf015536d6a131?s=128&d=identicon&r=PG&f=1", "display_name": "Paul", "link": "https://stackoverflow.com/users/3371251/paul"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 186, "favorite_count": 0, "accepted_answer_id": 59177612, "answer_count": 2, "score": 0, "last_activity_date": 1575468235, "creation_date": 1575467061, "last_edit_date": 1575467349, "question_id": 59177472, "link": "https://stackoverflow.com/questions/59177472/react-usestate-one-variable-only-with-typescript", "title": "react useState (one variable only) with typescript", "body": "<p>I am taking an example from <a href=\"https://reactjs.org/\" rel=\"nofollow noreferrer\">reactjs.org</a>:</p>\n\n<pre><code>function Example() {\n  const [count, setCount] = useState(0);\n\n  return (\n    &lt;div&gt;\n      &lt;p&gt;You clicked {count} times&lt;/p&gt;\n      &lt;button onClick={() =&gt; setCount(count + 1)}&gt;\n        Click me\n      &lt;/button&gt;\n    &lt;/div&gt;\n  );\n}\n</code></pre>\n\n<p>Now I would like to extend this example with typescript. I get it to work, but I do not know if there is an easier way:</p>\n\n<pre><code>interface StateCount {\n    count: number;\n}\n\nfunction Example() {\n  const [countBox, setCount] = useState&lt;StateCount&gt;({count: 0});\n\n  return (\n    &lt;div&gt;\n      &lt;p&gt;You clicked {count} times&lt;/p&gt;\n      &lt;button onClick={() =&gt; setCount(countBox.count + 1)}&gt;\n        Click me\n      &lt;/button&gt;\n    &lt;/div&gt;\n  );\n}\n</code></pre>\n\n<p>Now it's much more complicated to access the variable. Is it possible to declare it in this way:</p>\n\n<pre><code>const [count, setCount] = useState&lt;StateCount&gt;(0);\n</code></pre>\n\n<p>and access it again in this way?</p>\n\n<pre><code>&lt;button onClick={() =&gt; setCount(count + 1)}&gt;\n</code></pre>\n"}, {"tags": ["javascript", "arrays", "angular", "typescript", "ngfor"], "comments": [{"owner": {"reputation": 307, "user_id": 9177846, "user_type": "registered", "profile_image": "https://graph.facebook.com/10206906384769550/picture?type=large", "display_name": "Glenn van Acker", "link": "https://stackoverflow.com/users/9177846/glenn-van-acker"}, "edited": false, "score": 0, "creation_date": 1575465253, "post_id": 59176867, "comment_id": 104575075, "body": "because workdata is an array, and does not have a property hours_present"}], "answers": [{"tags": [], "owner": {"reputation": 183792, "user_id": 1749403, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/g0aFU.png?s=128&g=1", "display_name": "Sajeetharan", "link": "https://stackoverflow.com/users/1749403/sajeetharan"}, "is_accepted": false, "score": 0, "last_activity_date": 1575465299, "creation_date": 1575465299, "answer_id": 59176912, "question_id": 59176867, "link": "https://stackoverflow.com/questions/59176867/how-can-i-show-array-stored-inside-of-array-using-angular/59176912#59176912", "title": "How can I show array stored inside of array using angular", "body": "<p>If workdata is another array inside the users you need to use another ngFor within</p>\n\n<pre><code>  &lt;ng-container *ngFor=\"let user of users\"\"&gt;\n       &lt;tr *ngFor=\"let workdataobj of user.workdata\"&gt;\n         &lt;td&gt;{{workdataobj.hours_present}}&lt;/td&gt;\n       &lt;/tr&gt;\n   &lt;ng-container&gt;\n</code></pre>\n\n<p>or you can access particular element using index,</p>\n\n<pre><code>&lt;td&gt;&lt;img src=\"{{user.workdata[0].hours_present}}\" class=\"avatar\"&gt;&lt;/td&gt;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 106, "user_id": 11554426, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/669e7332ac06dd01dc36e0e5d665fadc?s=128&d=identicon&r=PG&f=1", "display_name": "Usman Saleem", "link": "https://stackoverflow.com/users/11554426/usman-saleem"}, "is_accepted": false, "score": 0, "last_activity_date": 1575472944, "last_edit_date": 1575472944, "creation_date": 1575465636, "answer_id": 59177034, "question_id": 59176867, "link": "https://stackoverflow.com/questions/59176867/how-can-i-show-array-stored-inside-of-array-using-angular/59177034#59177034", "title": "How can I show array stored inside of array using angular", "body": "<p>First you need to iterate of your users array, than you can iterate through your workdata array of each user.</p>\n\n<pre><code>&lt;div *ngFor=\"let user of users\"\"&gt;\n    &lt;tr *ngFor=\"let workData of user.workdata\"&gt;\n        &lt;td&gt;{{workData.hours_present}}&lt;/td&gt;\n    &lt;/tr&gt;\n&lt;/div&gt;\n</code></pre>\n"}], "owner": {"reputation": 219, "user_id": 12371568, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mBKK-W1GFF2JAko9QRF-_bdj1YsbRkHDVCXXPq7Mw=k-s128", "display_name": "stan", "link": "https://stackoverflow.com/users/12371568/stan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 114, "favorite_count": 0, "answer_count": 2, "score": -1, "last_activity_date": 1575472944, "creation_date": 1575465135, "last_edit_date": 1575465270, "question_id": 59176867, "link": "https://stackoverflow.com/questions/59176867/how-can-i-show-array-stored-inside-of-array-using-angular", "title": "How can I show array stored inside of array using angular", "body": "<p>I have a table that shows the user data. See the code below.</p>\n\n<pre><code>&lt;tr *ngFor=\"let user of users\"&gt;\n    &lt;td&gt;&lt;img src=\"{{user.picture}}\" class=\"avatar\"&gt;&lt;/td&gt;\n    &lt;td&gt;{{user.name}}&lt;/td&gt;\n    &lt;td&gt;&lt;/td&gt;\n    &lt;td&gt;&lt;/td&gt;\n    &lt;td&gt;&lt;/td&gt;\n    &lt;td&gt;%&lt;/td&gt;\n    &lt;td&gt;&lt;/td&gt;\n    &lt;td&gt;&lt;a href=\"\"&gt;&lt;button&gt;Download&lt;/button&gt;&lt;/a&gt;&lt;/td&gt;\n&lt;/tr&gt;\n</code></pre>\n\n<p>I have an array stored inside of my 'users' array, called 'workdata'. inside the 'workdata' array are a couple items I want to show on the page. When I try this <code>{{ user.workdata.hours_present }}</code> It does not show anything. Can somebody help me out?  </p>\n"}, {"tags": ["typescript"], "answers": [{"comments": [{"owner": {"reputation": 393, "user_id": 8019037, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-QNk6_Q67kJg/AAAAAAAAAAI/AAAAAAAAeRI/9jsUfdZsd0o/photo.jpg?sz=128", "display_name": "Rick Conrad", "link": "https://stackoverflow.com/users/8019037/rick-conrad"}, "edited": false, "score": 0, "creation_date": 1575465671, "post_id": 59176838, "comment_id": 104575304, "body": "Perfect! I knew there had to be something like that."}], "tags": [], "owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "is_accepted": true, "score": 2, "last_activity_date": 1575465043, "creation_date": 1575465043, "answer_id": 59176838, "question_id": 59176741, "link": "https://stackoverflow.com/questions/59176741/typescript-union-function-parameter-typeguarding/59176838#59176838", "title": "Typescript: Union function parameter typeguarding", "body": "<p>The shortest way to narrow the type in this case is to use an <code>in</code> type guard:</p>\n\n<pre><code>export function widgets(params: {colorId: number} | {seriesId: number}) {\n  if ('colorId' in params) {\n    params.colorId\n    // Search widgets by color\n  } else {\n    params.seriesId\n    // Search widgets by series\n  }\n}\n</code></pre>\n\n<p><a href=\"https://www.typescriptlang.org/play/?ssl=9&amp;ssc=2&amp;pln=1&amp;pc=1#code/KYDwDg9gTgLgBAMwK4DsDGMCWEVwO6YAmA5sDAM4AUYAhlDQLbkBccA3mhADbQCShrFEgYAjYFAC+cAD7ty4zMHL9BwsZICU7ALAAoOHEwI4lAOSceUfqcO5a9JlrZ6DB+43IA6C30IvXAPQBcADKwHRoABb4RKQUcCIAnnA+UP5SwFzyOvqu7kye8lCKyn65BkGh4VBRMSRk5AnJRSXpehJAA\" rel=\"nofollow noreferrer\">Playground Link</a></p>\n"}], "owner": {"reputation": 393, "user_id": 8019037, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-QNk6_Q67kJg/AAAAAAAAAAI/AAAAAAAAeRI/9jsUfdZsd0o/photo.jpg?sz=128", "display_name": "Rick Conrad", "link": "https://stackoverflow.com/users/8019037/rick-conrad"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 22, "favorite_count": 0, "accepted_answer_id": 59176838, "answer_count": 1, "score": 0, "last_activity_date": 1575465043, "creation_date": 1575464726, "question_id": 59176741, "link": "https://stackoverflow.com/questions/59176741/typescript-union-function-parameter-typeguarding", "title": "Typescript: Union function parameter typeguarding", "body": "<p>I want to search widgets by color or series (at least one is required). This doesn't compile:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>export function widgets(params: {colorId: number} | {seriesId: number}) {\n  if (params.colorId){\n    // Search widgets by color\n  } else {\n    // Search widgets by series\n  }\n}\n</code></pre>\n\n<p>Error: <code>Property 'colorId' does not exist on type '{ colorId: number; } | { seriesId: number; }'.</code></p>\n\n<p>I know I can make it work this way:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>type ColorId = { colorId: number };\nfunction isColorId(params: any): params is ColorId {\n  return typeof params.colorId === \"number\";\n}\nexport function widgets(params: { colorId: number } | { seriesId: number }) {\n  if (isColorId(params)) {\n    // Search widgets by color\n  } else {\n    // Search widgets by series\n  }\n}\n</code></pre>\n\n<p>What I'm looking for is a solution with less boilerplate. It seems like there should be something more elegant for this.</p>\n"}, {"tags": ["javascript", "typescript"], "comments": [{"owner": {"reputation": 2647, "user_id": 832009, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/009fa7a90fa08dc24fee138fb8d04fa4?s=128&d=identicon&r=PG", "display_name": "QuentinUK", "link": "https://stackoverflow.com/users/832009/quentinuk"}, "edited": false, "score": 0, "creation_date": 1575465968, "post_id": 59176668, "comment_id": 104575476, "body": "Check whether the library is listed at Definitely Typed <a href=\"https://github.com/DefinitelyTyped/DefinitelyTyped\" rel=\"nofollow noreferrer\">github.com/DefinitelyTyped/DefinitelyTyped</a>"}, {"owner": {"reputation": 1796, "user_id": 9955460, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8554e7f4c93d6a15bf478e1e64e0e131?s=128&d=identicon&r=PG&f=1", "display_name": "Juraj Kocan", "link": "https://stackoverflow.com/users/9955460/juraj-kocan"}, "edited": false, "score": 0, "creation_date": 1575466027, "post_id": 59176668, "comment_id": 104575510, "body": "export * from &#39;third-party&#39;. yes you can do this. what error you have?"}, {"owner": {"reputation": 1353, "user_id": 3250984, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/e361b04391eca1bb10b4113dee776479?s=128&d=identicon&r=PG", "display_name": "bordeltabernacle", "link": "https://stackoverflow.com/users/3250984/bordeltabernacle"}, "reply_to_user": {"reputation": 2647, "user_id": 832009, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/009fa7a90fa08dc24fee138fb8d04fa4?s=128&d=identicon&r=PG", "display_name": "QuentinUK", "link": "https://stackoverflow.com/users/832009/quentinuk"}, "edited": false, "score": 0, "creation_date": 1575469510, "post_id": 59176668, "comment_id": 104577661, "body": "@QuentinUK it&#39;s a private internal library"}, {"owner": {"reputation": 1353, "user_id": 3250984, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/e361b04391eca1bb10b4113dee776479?s=128&d=identicon&r=PG", "display_name": "bordeltabernacle", "link": "https://stackoverflow.com/users/3250984/bordeltabernacle"}, "reply_to_user": {"reputation": 1796, "user_id": 9955460, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8554e7f4c93d6a15bf478e1e64e0e131?s=128&d=identicon&r=PG&f=1", "display_name": "Juraj Kocan", "link": "https://stackoverflow.com/users/9955460/juraj-kocan"}, "edited": false, "score": 0, "creation_date": 1575469596, "post_id": 59176668, "comment_id": 104577721, "body": "@JurajKocan I&#39;ve updated the question with the error"}, {"owner": {"reputation": 1796, "user_id": 9955460, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8554e7f4c93d6a15bf478e1e64e0e131?s=128&d=identicon&r=PG&f=1", "display_name": "Juraj Kocan", "link": "https://stackoverflow.com/users/9955460/juraj-kocan"}, "edited": false, "score": 0, "creation_date": 1575470560, "post_id": 59176668, "comment_id": 104578332, "body": "this error is when you type &quot;export * from &#39;third-party&#39;&quot;??."}, {"owner": {"reputation": 1353, "user_id": 3250984, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/e361b04391eca1bb10b4113dee776479?s=128&d=identicon&r=PG", "display_name": "bordeltabernacle", "link": "https://stackoverflow.com/users/3250984/bordeltabernacle"}, "edited": false, "score": 0, "creation_date": 1575470736, "post_id": 59176668, "comment_id": 104578420, "body": "the error is when I try importing, <code>import {Button} from &#39;my-lib&#39;</code> where <i>my-lib</i> includes the <code>export * from &#39;third-party&#39;</code>"}, {"owner": {"reputation": 1796, "user_id": 9955460, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8554e7f4c93d6a15bf478e1e64e0e131?s=128&d=identicon&r=PG&f=1", "display_name": "Juraj Kocan", "link": "https://stackoverflow.com/users/9955460/juraj-kocan"}, "edited": false, "score": 0, "creation_date": 1575471720, "post_id": 59176668, "comment_id": 104579025, "body": "third-party is pure js? does it have d.ts? it looks that only ts dont know that this export is there. in runtime it should be ok"}], "answers": [{"tags": [], "owner": {"reputation": 83, "user_id": 12100540, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-biZ97Y4WXIo/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3reW0zYTCgPeHGmh4ChzIK3fUFM90Q/photo.jpg?sz=128", "display_name": "Samuel Petroline", "link": "https://stackoverflow.com/users/12100540/samuel-petroline"}, "is_accepted": false, "score": 3, "last_activity_date": 1575466364, "creation_date": 1575466364, "answer_id": 59177246, "question_id": 59176668, "link": "https://stackoverflow.com/questions/59176668/how-can-i-export-everything-from-a-third-party-javascript-library-in-my-own-libr/59177246#59177246", "title": "How can I export everything from a third party JavaScript library in my own library?", "body": "<p>You could try export using a <code>namespace</code></p>\n\n<pre><code>export * as utils from 'third-party'\n</code></pre>\n"}], "owner": {"reputation": 1353, "user_id": 3250984, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/e361b04391eca1bb10b4113dee776479?s=128&d=identicon&r=PG", "display_name": "bordeltabernacle", "link": "https://stackoverflow.com/users/3250984/bordeltabernacle"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 102, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1575469577, "creation_date": 1575464505, "last_edit_date": 1575469577, "question_id": 59176668, "link": "https://stackoverflow.com/questions/59176668/how-can-i-export-everything-from-a-third-party-javascript-library-in-my-own-libr", "title": "How can I export everything from a third party JavaScript library in my own library?", "body": "<p>I'm wrapping a third party JS library with my own TS code. Up until know I've been importing and exporting components ad-hoc.</p>\n\n<p><strong>index.ts:</strong></p>\n\n<pre><code>import { Button } from 'third-party'\n\nexport { Button }\n</code></pre>\n\n<p>Can I just export everything from the library? I tried <code>export * from 'third-party'</code> but this didn't work.</p>\n\n<p><strong>EDIT</strong> \nThe error I'm seeing is</p>\n\n<pre><code>Module ... has no exported member ...\n</code></pre>\n"}, {"tags": ["typescript", "reflect-metadata"], "owner": {"reputation": 7895, "user_id": 3170087, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/u2QTo.jpg?s=128&g=1", "display_name": "Makla", "link": "https://stackoverflow.com/users/3170087/makla"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 61, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1575884216, "creation_date": 1575464136, "last_edit_date": 1575884216, "question_id": 59176562, "link": "https://stackoverflow.com/questions/59176562/how-to-get-all-properties-in-class-which-inherits-from-base-class-decorated-wi", "title": "How to get all properties in class, which inherits from base class, decorated with a certain decoration", "body": "<p>I am trying to get all properties that are decorated with certain decorator. I am trying to use <code>reflect metadata</code> for this, but it doesn't work properly if class inherits from another class which also has decorated property.</p>\n\n<p>Problem is that target in decorator method is always base class. This means that when pulling out data from <code>Reflect.getMetadata</code> which brings out all properties, not only for specific class.</p>\n\n<p>Lower screenshot from <a href=\"https://stackblitz.com/edit/angular-pdvmml?file=src/app/app.component.ts\" rel=\"nofollow noreferrer\">this Stackblitz</a> shows problem.</p>\n\n<p><a href=\"https://i.stack.imgur.com/1ncVp.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/1ncVp.png\" alt=\"screenshots\"></a></p>\n"}, {"tags": ["node.js", "reactjs", "typescript", "docker", "dockerfile"], "comments": [{"owner": {"reputation": 64542, "user_id": 10008173, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e3ea5d6d5d63e054acb8cfa95a39240d?s=128&d=identicon&r=PG&f=1", "display_name": "David Maze", "link": "https://stackoverflow.com/users/10008173/david-maze"}, "edited": false, "score": 1, "creation_date": 1575463996, "post_id": 59176404, "comment_id": 104574330, "body": "Since <code>NODE_ENV=production</code> <i>before</i> you run <code>yarn install</code>, you&#39;re not getting any of your <code>devDependencies</code>, which includes things like <code>tsc</code> and the Typescript <code>@types&#47;...</code> modules.  Consider a multi-stage build if you want a smaller runtime image that doesn&#39;t include these dependencies in the final image."}, {"owner": {"reputation": 189352, "user_id": 243782, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/gInNr.png?s=128&g=1", "display_name": "Pentium10", "link": "https://stackoverflow.com/users/243782/pentium10"}, "reply_to_user": {"reputation": 64542, "user_id": 10008173, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e3ea5d6d5d63e054acb8cfa95a39240d?s=128&d=identicon&r=PG&f=1", "display_name": "David Maze", "link": "https://stackoverflow.com/users/10008173/david-maze"}, "edited": false, "score": 0, "creation_date": 1575464986, "post_id": 59176404, "comment_id": 104574910, "body": "@DavidMaze can you point me to an article to get this understood better, I might lack information about how build for dev vs production it&#39;s the same build script, is it different etc..."}, {"owner": {"reputation": 34972, "user_id": 3288890, "user_type": "registered", "accept_rate": 43, "profile_image": "https://i.stack.imgur.com/sSQpx.jpg?s=128&g=1", "display_name": "Adiii", "link": "https://stackoverflow.com/users/3288890/adiii"}, "edited": false, "score": 0, "creation_date": 1575465939, "post_id": 59176404, "comment_id": 104575454, "body": "how you import or require the pacakge?"}, {"owner": {"reputation": 189352, "user_id": 243782, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/gInNr.png?s=128&g=1", "display_name": "Pentium10", "link": "https://stackoverflow.com/users/243782/pentium10"}, "edited": false, "score": 0, "creation_date": 1575469375, "post_id": 59176404, "comment_id": 104577561, "body": "It&#39;s done by <code>yarn install</code> from <code>package.json</code>."}], "answers": [{"tags": [], "owner": {"reputation": 1410, "user_id": 5817056, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4cb8cc5a593728016414d7bead5a9912?s=128&d=identicon&r=PG&f=1", "display_name": "Talgat Saribayev", "link": "https://stackoverflow.com/users/5817056/talgat-saribayev"}, "is_accepted": true, "score": 0, "last_activity_date": 1575488587, "creation_date": 1575488587, "answer_id": 59183584, "question_id": 59176404, "link": "https://stackoverflow.com/questions/59176404/building-a-docker-image-gives-errors-when-node-env-production-in-use-could-not/59183584#59183584", "title": "Building a docker image gives errors when NODE_ENV=production in use (Could not find a declaration file for module)", "body": "<p>You probably need first run <code>yarn install</code> and then set env. Also why you installing globally rimraf and typescript?</p>\n\n<pre><code>FROM node:lts-slim\nRUN yarn install\nENV NODE_ENV=production\nRUN yarn build:prod \nCMD yarn run micro -l tcp://0.0.0.0:${PORT} build/src\nEXPOSE ${PORT}\n</code></pre>\n"}], "owner": {"reputation": 189352, "user_id": 243782, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/gInNr.png?s=128&g=1", "display_name": "Pentium10", "link": "https://stackoverflow.com/users/243782/pentium10"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 296, "favorite_count": 0, "accepted_answer_id": 59183584, "answer_count": 1, "score": 0, "last_activity_date": 1575488587, "creation_date": 1575463617, "question_id": 59176404, "link": "https://stackoverflow.com/questions/59176404/building-a-docker-image-gives-errors-when-node-env-production-in-use-could-not", "title": "Building a docker image gives errors when NODE_ENV=production in use (Could not find a declaration file for module)", "body": "<p>When we have in our <code>Dockerfile</code></p>\n\n<p><code>ENV NODE_ENV=production</code></p>\n\n<p>we get the below errors for our <code>yarn install</code></p>\n\n<pre><code>Step #0: Step 7/9 : RUN yarn install; npm i -g rimraf typescript; yarn build:prod\nStep #0:  ---&gt; Running in 2ca9c250ce30\nStep #0: yarn install v1.19.1\nStep #0: [1/4] Resolving packages...\nStep #0: [2/4] Fetching packages...\nStep #0: info fsevents@1.2.9: The platform \"linux\" is incompatible with this module.\nStep #0: info \"fsevents@1.2.9\" is an optional dependency and failed compatibility check. Excluding it from installation.\nStep #0: [3/4] Linking dependencies...\nStep #0: [91mwarning \"request-promise &gt; request-promise-core@1.1.3\" has unmet peer dependency \"request@^2.34\".\nStep #0: [0m[91mwarning \" &gt; request-promise@4.2.5\" has unmet peer dependency \"request@^2.34\".\nStep #0: [0m[4/4] Building fresh packages...\nStep #0: Done in 12.79s.\nStep #0: /usr/local/bin/rimraf -&gt; /usr/local/lib/node_modules/rimraf/bin.js\nStep #0: /usr/local/bin/tsc -&gt; /usr/local/lib/node_modules/typescript/bin/tsc\nStep #0: /usr/local/bin/tsserver -&gt; /usr/local/lib/node_modules/typescript/bin/tsserver\nStep #0: + rimraf@3.0.0\nStep #0: + typescript@3.7.3\nStep #0: added 13 packages from 5 contributors in 2.037s\nStep #0: yarn run v1.19.1\nStep #0: $ rimraf build &amp;&amp; tsc -b\nStep #0: src/lib/pg-typed/client.ts(1,16): error TS7016: Could not find a declaration file for module 'pg'. '/var/www/node_modules/pg/lib/index.js' implicitly has an 'any' type.\nStep #0:   Try `npm install @types/pg` if it exists or add a new declaration (.d.ts) file containing `declare module 'pg';`\nStep #0: src/lib/pg-typed/column.ts(1,15): error TS7016: Could not find a declaration file for module 'lodash'. '/var/www/node_modules/lodash/lodash.js' implicitly has an 'any' type.\nStep #0:   Try `npm install @types/lodash` if it exists or add a new declaration (.d.ts) file containing `declare module 'lodash';`\nStep #0: src/lib/pg-typed/database.ts(1,16): error TS7016: Could not find a declaration file for module 'pg'. '/var/www/node_modules/pg/lib/index.js' implicitly has an 'any' type.\nStep #0:   Try `npm install @types/pg` if it exists or add a new declaration (.d.ts) file containing `declare module 'pg';`\nStep #0: src/lib/pg-typed/sql.ts(1,15): error TS7016: Could not find a declaration file for module 'lodash'. '/var/www/node_modules/lodash/lodash.js' implicitly has an 'any' type.\nStep #0:   Try `npm install @types/lodash` if it exists or add a new declaration (.d.ts) file containing `declare module 'lodash';`\nStep #0: src/lib/pg-typed/select.ts(1,15): error TS7016: Could not find a declaration file for module 'lodash'. '/var/www/node_modules/lodash/lodash.js' implicitly has an 'any' type.\nStep #0:   Try `npm install @types/lodash` if it exists or add a new declaration (.d.ts) file containing `declare module 'lodash';`\nStep #0: src/lib/pg-typed/select.ts(73,49): error TS7006: Parameter 'key' implicitly has an 'any' type.\nStep #0: src/lib/pg-typed/select.ts(74,50): error TS7006: Parameter 'col' implicitly has an 'any' type.\nStep #0: src/lib/pg-typed/select.ts(80,7): error TS7006: Parameter 'rel' implicitly has an 'any' type.\nStep #0: src/lib/pg-typed/table.ts(1,15): error TS7016: Could not find a declaration file for module 'lodash'. '/var/www/node_modules/lodash/lodash.js' implicitly has an 'any' type.\nStep #0:   Try `npm install @types/lodash` if it exists or add a new declaration (.d.ts) file containing `declare module 'lodash';`\n</code></pre>\n\n<p>Frankly I don't understand this, so why it fails:</p>\n\n<pre><code>package.json\n{\n  \"scripts\": {\n    \"testdb\": \"dbmate -e TEST_DATABASE_URL drop &amp;&amp; dbmate -e TEST_DATABASE_URL --no-dump-schema up\",\n    \"test\": \"yarn run testdb &amp;&amp; jest\",\n    \"build\": \"rimraf build &amp;&amp; tsc\",\n    \"build:prod\": \"rimraf build &amp;&amp; tsc -b\",\n    \"dev\": \"micro-dev build/src --watch build\"\n  },\n  \"jest\": {\n    \"preset\": \"ts-jest\",\n    \"globalSetup\": \"./tests/globalSetup.ts\",\n    \"testPathIgnorePatterns\": [\n      \"&lt;rootDir&gt;/build/\",\n      \"&lt;rootDir&gt;/node_modules/\"\n    ]\n  },\n  \"dependencies\": {\n    \"dotenv\": \"^8.2.0\",\n    \"fastest-validator\": \"^1.0.0-beta4\",\n    \"lodash\": \"^4.17.15\",\n    \"micro\": \"^9.3.4\",\n    \"microrouter\": \"^3.1.3\",\n    \"murmurhash\": \"^0.0.2\",\n    \"pg\": \"^7.14.0\"\n  },\n  \"devDependencies\": {\n    \"@types/jest\": \"^24.0.22\",\n    \"@types/lodash\": \"^4.14.147\",\n    \"@types/micro\": \"^7.3.3\",\n    \"@types/microrouter\": \"^3.1.1\",\n    \"@types/pg\": \"^7.11.2\",\n    \"jest\": \"^24.9.0\",\n    \"micro-dev\": \"^3.0.0\",\n    \"request-promise\": \"^4.2.5\",\n    \"rimraf\": \"^3.0.0\",\n    \"test-listen\": \"^1.1.0\",\n    \"ts-jest\": \"^24.1.0\",\n    \"tslint\": \"^5.20.1\",\n    \"typescript\": \"^3.7.2\"\n  }\n}\n</code></pre>\n\n<p>So someone could shed light how should we should run this build for production.</p>\n\n<p>we have this <code>Dockerfile</code></p>\n\n<pre><code>FROM node:lts-slim\nENV NODE_ENV=production\nRUN yarn install; npm i -g rimraf typescript; yarn build:prod \nCMD yarn run micro -l tcp://0.0.0.0:${PORT} build/src\nEXPOSE ${PORT}\n</code></pre>\n"}, {"tags": ["javascript", "arrays", "json", "typescript"], "comments": [{"owner": {"reputation": 14807, "user_id": 6870228, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/13425c63b585e3bba05d30509e9e2b00?s=128&d=identicon&r=PG&f=1", "display_name": "Keith", "link": "https://stackoverflow.com/users/6870228/keith"}, "edited": false, "score": 0, "creation_date": 1575464957, "post_id": 59176216, "comment_id": 104574882, "body": "Just a heads up, your working with a Javascript Object..  Although it looks similar JSON is something else."}], "answers": [{"tags": [], "owner": {"reputation": 1553, "user_id": 3778960, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NegL5.jpg?s=128&g=1", "display_name": "Yaroslav Gaponov", "link": "https://stackoverflow.com/users/3778960/yaroslav-gaponov"}, "is_accepted": false, "score": 0, "last_activity_date": 1575464194, "creation_date": 1575464194, "answer_id": 59176579, "question_id": 59176216, "link": "https://stackoverflow.com/questions/59176216/search-a-string-in-json-using-typescript/59176579#59176579", "title": "Search a string in JSON using Typescript", "body": "<p>Try this code as basic</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"true\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>interface Item {\r\n    id: string|number;\r\n    name?: string;\r\n    subNames?: null|Item[];\r\n}\r\n\r\n\r\nfunction search(data: Item|Item[], s: string): Item[] {\r\n    let result: Item[] = [];\r\n    if (data instanceof Array) {\r\n        for (let i = 0; i &lt; data.length; i++) {\r\n            result = result.concat(search(data[i], s));\r\n        }\r\n    } else {\r\n        if (data.subNames instanceof Array) {\r\n            result = result.concat(search(data.subNames, s));\r\n        } else {\r\n            if (data.name === s) {\r\n                result = result.concat(data);\r\n            }\r\n        }\r\n    }\r\n    return result;\r\n}\r\n\r\nconsole.log(\r\n\r\n    search([\r\n        {\r\n            id: 8,\r\n            name: 'football',\r\n            subNames: [\r\n                {\r\n                    id: 9,\r\n                    name: 'boot',\r\n                    subNames: [\r\n                        {\r\n                            id: 10,\r\n                            name: 'white',\r\n                        }\r\n                    ]\r\n                }\r\n            ]\r\n        }\r\n    ], 'white')\r\n    \r\n);</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": [], "owner": {"reputation": 319259, "user_id": 1447675, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ziYmO.gif?s=128&g=1", "display_name": "Nina Scholz", "link": "https://stackoverflow.com/users/1447675/nina-scholz"}, "is_accepted": true, "score": 3, "last_activity_date": 1575465013, "creation_date": 1575465013, "answer_id": 59176825, "question_id": 59176216, "link": "https://stackoverflow.com/questions/59176216/search-a-string-in-json-using-typescript/59176825#59176825", "title": "Search a string in JSON using Typescript", "body": "<p>In plain Javascript, you could look for a value first or have a check for <code>subNames</code> and their nested occurences.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>function find(array, string) {\r\n    return array.reduce((r, o) =&gt; {\r\n        if (Object.values(o).some(v =&gt; v === string)) {\r\n            r.push(o);\r\n            return r;\r\n        }\r\n        if (Array.isArray(o.subNames)) {\r\n            var subNames = find(o.subNames, string);\r\n            if (subNames.length) r.push(Object.assign({}, o, { subNames }));\r\n        }\r\n        return r;\r\n    }, []);\r\n}\r\n\r\nvar data = [{ id: 1, name: 'cricket', subNames: [{ id: 2, name: 'bat', subNames: [{ id: 3, name: 'batsman', subNames: [{ id: 4, subNames: 'left' }] }] }, { id: 4, name: 'ball', subNames: [{ id: 6, subNames: 'red' }, { id: 7, name: 'white' }] }] }, { id: 8, name: 'football', subNames: [{ id: 9, name: 'boot', subNames: [{ id: 10, name: 'white' }] }] }];\r\n\r\nconsole.log(find(data, 'white'));</code></pre>\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>.as-console-wrapper { max-height: 100% !important; top: 0; }</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": [], "owner": {"reputation": 707, "user_id": 5082454, "user_type": "registered", "accept_rate": 79, "profile_image": "https://lh6.googleusercontent.com/-prgcfFtkUoo/AAAAAAAAAAI/AAAAAAAAFUk/QSG_HvHJBt8/photo.jpg?sz=128", "display_name": "Yann Thibodeau", "link": "https://stackoverflow.com/users/5082454/yann-thibodeau"}, "is_accepted": false, "score": 0, "last_activity_date": 1589076362, "creation_date": 1589076362, "answer_id": 61706276, "question_id": 59176216, "link": "https://stackoverflow.com/questions/59176216/search-a-string-in-json-using-typescript/61706276#61706276", "title": "Search a string in JSON using Typescript", "body": "<p>I have written a very simple library you can use <a href=\"https://github.com/yann510/ss-search\" rel=\"nofollow noreferrer\">ss-search</a></p>\n\n<p>The code would look like this:</p>\n\n<pre><code>search(JSON_DATA, [\"name\", \"subNames[name]\", \"subNames[subNames].subNames[name]\"], \"SEARCH_STRING\")\n</code></pre>\n"}], "owner": {"reputation": 132, "user_id": 5883678, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-gwfgqukqZZ0/AAAAAAAAAAI/AAAAAAAAAR0/k-NZCQAtuc4/photo.jpg?sz=128", "display_name": "Nithin Benny", "link": "https://stackoverflow.com/users/5883678/nithin-benny"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1020, "favorite_count": 0, "accepted_answer_id": 59176825, "answer_count": 3, "score": 3, "last_activity_date": 1589076362, "creation_date": 1575462931, "last_edit_date": 1575516121, "question_id": 59176216, "link": "https://stackoverflow.com/questions/59176216/search-a-string-in-json-using-typescript", "title": "Search a string in JSON using Typescript", "body": "<p>Search a string in JSON using Typescript. How can I search for a string in the below given JSON array? The JSON input array is given below.</p>\n\n<pre><code>let JSON_DATA: Object[] = [\n    {\n        id: \"1\",\n        name: 'cricket',\n        subNames: [\n            { \n                id: 2, \n                name: 'bat',\n                subNames: [\n                    { \n                        id: 3, \n                        name: 'batsman',\n                        subNames: [\n                            { \n                                id: 4, \n                                subNames: 'left',\n                            }\n                        ]\n                    }\n                ]\n            },\n            { \n                id: , \n                name: 'ball',\n                subNames: [\n                    { \n                        id: 6, \n                        subNames: 'red',\n                    },\n                    { \n                        id: 7, \n                        name: 'white',\n                    }\n                ]\n            }\n        ]\n    },\n    {\n        id: 8,\n        name: 'football',\n        subNames: [\n            { \n                id: 9, \n                name: 'boot',\n                subNames: [\n                    { \n                        id: 10, \n                        name: 'white',\n                    }\n                ]\n            }\n        ]\n    },\n]\n\n</code></pre>\n\n<p>I want to search a string in the above JSON object</p>\n\n<p>For example, if a user types 'white' then it should search for the string 'white'  in the whole JSON array and return the JSON object like below...</p>\n\n<pre><code>let JSON_DATA: Object[] = [\n    {\n        id: \"1\",\n        name: 'cricket',\n        subNames: [\n            { \n                id: , \n                name: 'ball',\n                subNames: [\n                    { \n                        id: 7, \n                        name: 'white',\n                    }\n                ]\n            }\n        ]\n    },\n    {\n        id: 8,\n        name: 'football',\n        subNames: [\n            { \n                id: 9, \n                name: 'boot',\n                subNames: [\n                    { \n                        id: 10, \n                        name: 'white',\n                    }\n                ]\n            }\n        ]\n    },\n]\n</code></pre>\n"}, {"tags": ["angular", "typescript", "autocomplete", "angular-material"], "answers": [{"comments": [{"owner": {"reputation": 481, "user_id": 4019118, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/ZXv8a.jpg?s=128&g=1", "display_name": "PieterSchool", "link": "https://stackoverflow.com/users/4019118/pieterschool"}, "edited": false, "score": 0, "creation_date": 1575463842, "post_id": 59176311, "comment_id": 104574246, "body": "I have seen this implementation, however I have seen no implementation which uses an async call to obtain the data. They all use a predefined list.  The function to obtain the data is in a generated service which uses a callback function to send the data back."}], "tags": [], "owner": {"reputation": 2346, "user_id": 993328, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a3012905df3539f948994f218db07423?s=128&d=identicon&r=PG", "display_name": "GaurangDhorda", "link": "https://stackoverflow.com/users/993328/gaurangdhorda"}, "is_accepted": false, "score": 0, "last_activity_date": 1575463346, "creation_date": 1575463346, "answer_id": 59176311, "question_id": 59176103, "link": "https://stackoverflow.com/questions/59176103/material-autocomplete-selection-by-click/59176311#59176311", "title": "Material autocomplete selection by click", "body": "<p>You can find complete example in this <a href=\"https://stackblitz.com/edit/ng-autocomplete\" rel=\"nofollow noreferrer\">StackBlitz Link</a></p>\n\n<p>Make your input like this in your template file...</p>\n\n<pre><code>&lt;input matInput placeholder=\"Select State\" aria-label=\"State\" \n                    [matAutocomplete]=\"auto\" [formControl]=\"stateCtrl\" (click)=\"getStates()\"&gt;\n</code></pre>\n\n<p>and your autocomplete is..</p>\n\n<pre><code>&lt;mat-autocomplete #auto=\"matAutocomplete\"&gt;\n        &lt;mat-option *ngFor=\"let state of filteredStates | async\" [value]=\"state\"&gt;\n            &lt;span&gt;{{ state }}&lt;/span&gt;\n        &lt;/mat-option&gt;\n&lt;/mat-autocomplete&gt;\n</code></pre>\n"}], "owner": {"reputation": 481, "user_id": 4019118, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/ZXv8a.jpg?s=128&g=1", "display_name": "PieterSchool", "link": "https://stackoverflow.com/users/4019118/pieterschool"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 147, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1575463934, "creation_date": 1575462516, "last_edit_date": 1575463934, "question_id": 59176103, "link": "https://stackoverflow.com/questions/59176103/material-autocomplete-selection-by-click", "title": "Material autocomplete selection by click", "body": "<p>I have an autocomplete implemented, the autocomplete can receive suggestions and select suggestions by pressing enter. However, when clicking on an option, the options disappear without making the selection. </p>\n\n<p>I have tried adding a (click) and other bindings to the options, but these methods are also not called.\nDoes anyone have an idea what the reason is that using enter to select works and clicking does not.</p>\n\n<pre><code>  &lt;mat-form-field class=\"name\" appearance=\"outline\"&gt;\n&lt;input (change)=\"competenceChange()\" placeholder=\"Competence name\" matInput [(ngModel)]=\"competencePart.name\"\n  (ngModelChange)=\"this.competenceNameUpdate.next($event)\" autocomplete=\"off\" [matAutocomplete]=\"autoComplete\"&gt;\n\n&lt;mat-autocomplete autoActiveFirstOption #autoComplete=\"matAutocomplete\"&gt;\n  &lt;mat-option *ngFor=\"let proposal of competenceProposals\" [value]=\"proposal\"&gt;\n    {{ proposal }}\n  &lt;/mat-option&gt;\n&lt;/mat-autocomplete&gt;\n</code></pre>\n\n<p></p>\n\n<pre><code>  ngOnInit(): void {\n// Use the set debounce time to delay the execution of the search query.\n// Every keypress resets the delay timer.\nthis.competenceNameUpdate.pipe(\n  debounceTime(this.textboxInputDebounceTimeMS),\n  distinctUntilChanged())\n  .subscribe(value =&gt; {\n    this.obtainAutocompleteProposals(value);\n  });\n\n\n  private obtainAutocompleteProposals(value: string): void {\nif (this.competencePart.name.trim() === '') { this.competenceProposals = []; return; }\nthis.competenceService.GetCompletionProposals(\n  this.competencePart.type.valueOf(),\n  value,\n  response =&gt; {\n    this.competenceProposals = response.completionProposals;\n  },\n  failure =&gt; {\n    console.error(failure);\n  });\n</code></pre>\n\n<p>It is important that the implementation supports the callback implementation which is used here as this is how our services are generated.</p>\n"}, {"tags": ["angular", "typescript", "ecmascript-6", "ngrx-store", "ngrx-effects"], "owner": {"reputation": 1626, "user_id": 7167775, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/f5d07b0f5196292dff1fad0a55985671?s=128&d=identicon&r=PG&f=1", "display_name": "Arter", "link": "https://stackoverflow.com/users/7167775/arter"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 85, "favorite_count": 1, "answer_count": 0, "score": 1, "last_activity_date": 1575525937, "creation_date": 1575462367, "last_edit_date": 1575525937, "question_id": 59176065, "link": "https://stackoverflow.com/questions/59176065/move-ngrx-store-to-new-version", "title": "Move @ngrx-store to new version", "body": "<p>I have @ngrx-store in my app, and now Im going to update actions, reducers and effect to last version... until now, with old action/reducer/effect everything is worked ok, but now I can not get data from effects, getting this error</p>\n\n<blockquote>\n  <p>ERROR TypeError: \n          Dispatch expected an object, instead it received a function.\n          If you're using the createAction function, make sure to invoke the function\n          before dispatching the action. For example, someAction should be someAction().</p>\n</blockquote>\n\n<p>Here is my action</p>\n\n<pre><code>import { createAction, props } from \"@ngrx/store\";\nimport { IAppAll} from \"./../../app.model\";\n\nexport const loadApps = createAction(\"[App] Load Apps\");\n\nexport const loadAppsSuccess = createAction(\n  \"[App] Load AppSuccess\",\n  props&lt;{ sites: IAppAll[] }&gt;()\n);\n</code></pre>\n\n<p>here is reducer</p>\n\n<pre><code>import { Action, createReducer, on } from \"@ngrx/store\";\nimport * as AppActions from \"../actions/app.actions\";\nimport { initialState, State } from \"../state/site.model\";\n\nexport const appeFeatureKey = \"app\";\n\nconst appReducer = createReducer(\n  initialState,\n  on(AppActions.loadApp, state =&gt; ({ ...state })),\n  on(AppActions.createApp, (state, { app}) =&gt; ({ ...state }))\n);\n\nexport function reducer(state: State | undefined, action: Action) {\n  return appReducer(state, action);\n}\n</code></pre>\n\n<p>And here is effect</p>\n\n<pre><code>export class AppEffects {\n  loadApps$ = createEffect(() =&gt;\n    this.actions$.pipe(\n      ofType(appActions.loadApps),\n      concatMap(() =&gt;\n        this.appService\n          .getApps()\n          .pipe(\n            map((apps: IAppAll[]) =&gt; appActions.loadAppsSuccess({ apps }))\n          )\n      )\n    )\n  );\n</code></pre>\n\n<p>My json is like this </p>\n\n<pre><code>[{key: value, key1: value1},\n{key: value, key1: value1}]\n</code></pre>\n\n<p>This data worked correctly on \"last\" <code>ngrx/store</code> version\nIn <code>action &lt;props&gt;</code> is object, but how to change this? </p>\n\n<p>thnx</p>\n"}, {"tags": ["javascript", "c#", "angular", "typescript", "asp.net-core"], "comments": [{"owner": {"reputation": 2571, "user_id": 4350476, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b21688dae053aecc4eba6e102fc4bb6f?s=128&d=identicon&r=PG&f=1", "display_name": "miselking", "link": "https://stackoverflow.com/users/4350476/miselking"}, "edited": false, "score": 1, "creation_date": 1575462276, "post_id": 59175988, "comment_id": 104573418, "body": "You should do <code>ngFor</code> over <i>items</i> not <i>Subscription</i>. Try something like this: <code>*ngFor=&quot;let item of model&quot;</code>"}, {"owner": {"reputation": 5375, "user_id": 4051471, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e1b589521219a496f63dbf63f2f6b595?s=128&d=identicon&r=PG&f=1", "display_name": "shrys", "link": "https://stackoverflow.com/users/4051471/shrys"}, "edited": false, "score": 1, "creation_date": 1575462413, "post_id": 59175988, "comment_id": 104573489, "body": "you could call the method in constructor: <code>this.vm.getHypervisorsForVm().subscribe(h =&gt; this.items = h)</code>"}, {"owner": {"reputation": 512, "user_id": 10111056, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FaFuS.jpg?s=128&g=1", "display_name": "Arzu Suleymanov", "link": "https://stackoverflow.com/users/10111056/arzu-suleymanov"}, "reply_to_user": {"reputation": 5375, "user_id": 4051471, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e1b589521219a496f63dbf63f2f6b595?s=128&d=identicon&r=PG&f=1", "display_name": "shrys", "link": "https://stackoverflow.com/users/4051471/shrys"}, "edited": false, "score": 0, "creation_date": 1575462767, "post_id": 59175988, "comment_id": 104573663, "body": "@shrys thanks it helped one little thing I need to save hypervisorId but in my case I got exception 400 when I am trying to save if I a use simple input and manually add integer it works fine, so in this case I need somehow extract hypervisorId from getHyper() and save this id"}], "answers": [{"comments": [{"owner": {"reputation": 512, "user_id": 10111056, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FaFuS.jpg?s=128&g=1", "display_name": "Arzu Suleymanov", "link": "https://stackoverflow.com/users/10111056/arzu-suleymanov"}, "edited": false, "score": 0, "creation_date": 1575464071, "post_id": 59176319, "comment_id": 104574378, "body": "Unfortunately it does not helped. However I have also class VirtualMachine instead of model I used this approach before, for strong typing I understand you, but I need just id for saving and this one throws exception exactly in hypervisorId, for ex if I manually enter id using simple input it works fine, I only want exclude id from method and save this id to db."}, {"owner": {"reputation": 512, "user_id": 10111056, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FaFuS.jpg?s=128&g=1", "display_name": "Arzu Suleymanov", "link": "https://stackoverflow.com/users/10111056/arzu-suleymanov"}, "edited": false, "score": 0, "creation_date": 1575464577, "post_id": 59176319, "comment_id": 104574665, "body": "problem is it returns 0 when I select value from drop-down. It does not matter which value I select but it returns 0, but in  network I am getting actual id-s from db"}], "tags": [], "owner": {"reputation": 5367, "user_id": 11011793, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0p7CT.jpg?s=128&g=1", "display_name": "MoxxiManagarm", "link": "https://stackoverflow.com/users/11011793/moxximanagarm"}, "is_accepted": false, "score": 3, "last_activity_date": 1575464208, "last_edit_date": 1575464208, "creation_date": 1575463367, "answer_id": 59176319, "question_id": 59175988, "link": "https://stackoverflow.com/questions/59175988/how-to-extract-values-from-method-in-angular-ngfor/59176319#59176319", "title": "How to extract values from method in Angular ngFor", "body": "<p>You should make an effort to remove  <code>any</code> types, doing this will greatly help you find bugs!.</p>\n\n<p>With that said you can try this:</p>\n\n<pre><code>export interface Hypervisor {\n  hypervisorName: string;\n  hypervisorId: number;\n}\n\nexport interface Projectmanagement {\n  projectId: number;\n  managementId: number;\n}\n\nexport class AddVmComponent implements OnInit {\n  hypervisors$: Observable&lt;Hypervisor&gt;;\n  disabledProperty: boolean = true;\n  model: Projectmanagement;\n\n  constructor(\n    private alertify: AlertifyService,\n    private vm: VmService,\n    private route: ActivatedRoute,\n    private http: HttpClient)\n  {\n    this.hypervisors$ = this.vm.getHypervisorsForVm();\n  }\n\n  ngOnInit() {\n    this.model.projectId = +this.route.snapshot.paramMap.get('projectId');\n    this.model.managementId = 1;\n  }\n}\n\n&lt;div class=\"input-group mt-1\"&gt;\n      &lt;div class=\"input-group-prepend\"&gt;\n        &lt;div class=\"input-group-text\"&gt;\n          &lt;i class=\"fas fa-dot-circle text-info\"&gt;&lt;/i&gt;&amp;nbsp;Hypervisor\n        &lt;/div&gt;\n      &lt;/div&gt;\n     &lt;select class=\"form-control\" &gt;\n       &lt;option disabled&gt;-Please choose hypervisor-&lt;/option&gt;\n       &lt;option *ngFor=\"let item of hypervisors$ | async\" [value]=\"item.hypervisorId\"&gt;\n        {{ item.hypervisorName }}\n       &lt;/option&gt;\n     &lt;/select&gt;\n    &lt;/div&gt;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 512, "user_id": 10111056, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FaFuS.jpg?s=128&g=1", "display_name": "Arzu Suleymanov", "link": "https://stackoverflow.com/users/10111056/arzu-suleymanov"}, "is_accepted": true, "score": 2, "last_activity_date": 1575464826, "creation_date": 1575464826, "answer_id": 59176773, "question_id": 59175988, "link": "https://stackoverflow.com/questions/59175988/how-to-extract-values-from-method-in-angular-ngfor/59176773#59176773", "title": "How to extract values from method in Angular ngFor", "body": "<p>Changed my html and it works fine now:</p>\n\n<pre><code>   &lt;div class=\"input-group mt-1\"&gt;\n      &lt;div class=\"input-group-prepend\"&gt;\n        &lt;div class=\"input-group-text\"&gt;\n          &lt;i class=\"fas fa-dot-circle text-info\"&gt;&lt;/i&gt;&amp;nbsp;Hypervisor\n        &lt;/div&gt;\n      &lt;/div&gt;\n     &lt;select name=\"hypervisorId\" [(ngModel)]=\"model.hypervisorId\" class=\"form- \n              control\" &gt;\n       &lt;option disabled&gt;-Please choose hypervisor-&lt;/option&gt;\n       &lt;option *ngFor=\"let item of model.items\" [ngValue]=\"item.hypervisorId\"&gt;\n        {{ item.hypervisorName }}\n       &lt;/option&gt;\n     &lt;/select&gt;\n    &lt;/div&gt;\n</code></pre>\n"}], "owner": {"reputation": 512, "user_id": 10111056, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FaFuS.jpg?s=128&g=1", "display_name": "Arzu Suleymanov", "link": "https://stackoverflow.com/users/10111056/arzu-suleymanov"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 215, "favorite_count": 1, "accepted_answer_id": 59176773, "answer_count": 2, "score": 2, "last_activity_date": 1575464826, "creation_date": 1575462166, "question_id": 59175988, "link": "https://stackoverflow.com/questions/59175988/how-to-extract-values-from-method-in-angular-ngfor", "title": "How to extract values from method in Angular ngFor", "body": "<p>I am trying to implement drop-down using method but it returns empty.\nIf I try to put inside ngOninit I lose my snapshot router values and not able return 200 result.\nI putted inside constructor it returns values but I again lose my values.</p>\n\n<p>I got result like this (works fine):</p>\n\n<pre><code> [{\"hypervisorName\":\"Steve\",\"hypervisorId\":1},{\"hypervisorName\":\"Docker\",\"hypervisorId\":2}, \n   {\"hypervisorName\":\"kubernetes\",\"hypervisorId\":3}]\n</code></pre>\n\n<p>My back-end method:</p>\n\n<pre><code> [HttpGet(\"hyperforvm\")]\n public IActionResult GetHypervisorsForVm()\n {\n        var model = from hyper in _context.Hypervisors\n                   select new \n        { HypervisorName = hyper.Name, HypervisorId = hyper.HypervisorId };\n          return Ok(model);\n }\n</code></pre>\n\n<p>My component:</p>\n\n<pre><code>export class AddVmComponent implements OnInit {\n  model: any = {};\n  disabledProperty: boolean = true;\n  items: any;\n\n  constructor(private alertify: AlertifyService, private vm: VmService, private route: \n   ActivatedRoute, private http: HttpClient) {\n    this.items = this.getHyper()\n  }\n\n  ngOnInit() {\n    let projectId = +this.route.snapshot.paramMap.get('projectId')\n    this.model.projectId = projectId\n    this.model.managementId = 1    \n  }\n\n  getHyper() {\n    this.vm.getHypervisorsForVm().subscribe(h =&gt; this.model = h)\n  }  \n}\n</code></pre>\n\n<p>My Html looks like:</p>\n\n<pre><code>    &lt;div class=\"input-group mt-1\"&gt;\n      &lt;div class=\"input-group-prepend\"&gt;\n        &lt;div class=\"input-group-text\"&gt;\n          &lt;i class=\"fas fa-dot-circle text-info\"&gt;&lt;/i&gt;&amp;nbsp;Hypervisor\n        &lt;/div&gt;\n      &lt;/div&gt;\n     &lt;select class=\"form-control\" &gt;\n       &lt;option disabled&gt;-Please choose hypervisor-&lt;/option&gt;\n       &lt;option *ngFor=\"let item of items\" [value]=\"item.hypervisorId\"&gt;\n        {{ item.hypervisorName }}\n       &lt;/option&gt;\n     &lt;/select&gt;\n    &lt;/div&gt;\n</code></pre>\n\n<p>Situation is I need to save hypervisorId to db and in drop-down show hypervisorName (backend is ok tested with postman evrything is ok).Problems are does not matter I put inside constructor or ngOninit I lose my snapshot values. Inside constructor getHyper() method returns result but inside ngOninit not.\nBut both cases the values does not showing inside drop-down.\nHow to show hypervisorName save hypervisorId and beside them don't lose snapshot values.</p>\n"}, {"tags": ["typescript", "visual-studio-code", "protractor"], "comments": [{"owner": {"reputation": 4808, "user_id": 9150146, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/r3Zq7.png?s=128&g=1", "display_name": "Sergey Pleshakov", "link": "https://stackoverflow.com/users/9150146/sergey-pleshakov"}, "edited": false, "score": 0, "creation_date": 1575486544, "post_id": 59175931, "comment_id": 104586906, "body": "check here <a href=\"https://stackoverflow.com/questions/25300034/sending-ctrla-combination-to-an-element\" title=\"sending ctrla combination to an element\">stackoverflow.com/questions/25300034/&hellip;</a>"}], "answers": [{"comments": [{"owner": {"reputation": 43, "user_id": 8856337, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4386b305121de5df3a6796a4e03b2ee8?s=128&d=identicon&r=PG&f=1", "display_name": "Shai", "link": "https://stackoverflow.com/users/8856337/shai"}, "edited": false, "score": 0, "creation_date": 1575468411, "post_id": 59176306, "comment_id": 104576937, "body": "unfortunately, it didn&#39;t help me .it seems that it&#39;s not clicking those buttons."}], "tags": [], "owner": {"reputation": 604, "user_id": 8130251, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-eFU-35c564A/AAAAAAAAAAI/AAAAAAAAB1s/RY27yRXddP0/photo.jpg?sz=128", "display_name": "cengiz sevimli", "link": "https://stackoverflow.com/users/8130251/cengiz-sevimli"}, "is_accepted": false, "score": 0, "last_activity_date": 1575463329, "creation_date": 1575463329, "answer_id": 59176306, "question_id": 59175931, "link": "https://stackoverflow.com/questions/59175931/send-combination-keys-to-the-browser/59176306#59176306", "title": "Send combination keys to the browser", "body": "<p>Can you try this and if this still do not resolves your case, you can share stack trace or error message.\n<code>browser.actions().keyDown(protractor.Key.SHIFT).sendKeys('~').perform();</code></p>\n"}, {"tags": [], "owner": {"reputation": 43, "user_id": 8856337, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4386b305121de5df3a6796a4e03b2ee8?s=128&d=identicon&r=PG&f=1", "display_name": "Shai", "link": "https://stackoverflow.com/users/8856337/shai"}, "is_accepted": true, "score": 0, "last_activity_date": 1575795790, "creation_date": 1575795790, "answer_id": 59233904, "question_id": 59175931, "link": "https://stackoverflow.com/questions/59175931/send-combination-keys-to-the-browser/59233904#59233904", "title": "Send combination keys to the browser", "body": "<p>finally, this helped me : </p>\n\n<pre><code>      await imagePicked.click();\n     await browser.actions().sendKeys(protractor.Key.SHIFT,('~')).keyUp(protractor.Key.SHIFT).perform();\n     await browser.actions().sendKeys(barcode).perform();\n     await browser.actions().keyDown(protractor.Key.SHIFT).sendKeys('3').keyUp(protractor.Key.SHIFT).perform();\n</code></pre>\n\n<p>thanks all.</p>\n"}], "owner": {"reputation": 43, "user_id": 8856337, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4386b305121de5df3a6796a4e03b2ee8?s=128&d=identicon&r=PG&f=1", "display_name": "Shai", "link": "https://stackoverflow.com/users/8856337/shai"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 66, "favorite_count": 0, "accepted_answer_id": 59233904, "answer_count": 2, "score": 0, "last_activity_date": 1600239922, "creation_date": 1575461977, "last_edit_date": 1600239922, "question_id": 59175931, "link": "https://stackoverflow.com/questions/59175931/send-combination-keys-to-the-browser", "title": "Send combination keys to the browser", "body": "<p>I am having trouble trying to send Shift and then immediately tilde (~).\nI have tried several examples, here is one that I am trying.\nIn the system - I am trying to test the next scenario -\nI need to choose a certain image, and then send shift ~  -&gt; insert certain number, shift 3</p>\n<p>shift 3 for example is an immediate action, can't wait between those two.\nSame for shift ~</p>\n<pre><code>browser.actions().mouseMove(imagePicked).perform();\n         await imagePicked.click();\n         await browser.actions().sendKeys(((protractor.Key.SHIFT,&quot;~&quot;))).perform();\n         await browser.actions().sendKeys(barcode).perform();\n         await browser.actions().sendKeys(((protractor.Key.SHIFT,&quot;3&quot;))).perform();\n</code></pre>\n<p>thanks in advance.</p>\n"}, {"tags": ["node.js", "angular", "typescript", "ionic4", "pouchdb"], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 12445359, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-pdL3K2-htBM/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcXRQVgTYs7VzTCLbgNKAqfH_mFxg/photo.jpg?sz=128", "display_name": "KarebCN", "link": "https://stackoverflow.com/users/12445359/karebcn"}, "edited": false, "score": 0, "creation_date": 1575464101, "post_id": 59176009, "comment_id": 104574393, "body": "Thanks for pointing that mistake but still it doesn&#39;t show anything in my console @fchoura"}, {"owner": {"reputation": 170, "user_id": 4884870, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/495450c9feb246d7a77459d660a76c1d?s=128&d=identicon&r=PG&f=1", "display_name": "Faisal Choura", "link": "https://stackoverflow.com/users/4884870/faisal-choura"}, "reply_to_user": {"reputation": 1, "user_id": 12445359, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-pdL3K2-htBM/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcXRQVgTYs7VzTCLbgNKAqfH_mFxg/photo.jpg?sz=128", "display_name": "KarebCN", "link": "https://stackoverflow.com/users/12445359/karebcn"}, "edited": false, "score": 0, "creation_date": 1575464409, "post_id": 59176009, "comment_id": 104574562, "body": "Did you try to add a log/breakpoint in getdataDB before the http call? Just to check if you&#39;re calling that method or not (maybe for some reason it&#39;s not getting to that point)"}, {"owner": {"reputation": 1, "user_id": 12445359, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-pdL3K2-htBM/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcXRQVgTYs7VzTCLbgNKAqfH_mFxg/photo.jpg?sz=128", "display_name": "KarebCN", "link": "https://stackoverflow.com/users/12445359/karebcn"}, "edited": false, "score": 0, "creation_date": 1575465028, "post_id": 59176009, "comment_id": 104574941, "body": "could you suggest me how to do that? @fchoura"}, {"owner": {"reputation": 170, "user_id": 4884870, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/495450c9feb246d7a77459d660a76c1d?s=128&d=identicon&r=PG&f=1", "display_name": "Faisal Choura", "link": "https://stackoverflow.com/users/4884870/faisal-choura"}, "reply_to_user": {"reputation": 1, "user_id": 12445359, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-pdL3K2-htBM/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcXRQVgTYs7VzTCLbgNKAqfH_mFxg/photo.jpg?sz=128", "display_name": "KarebCN", "link": "https://stackoverflow.com/users/12445359/karebcn"}, "edited": false, "score": 0, "creation_date": 1575466671, "post_id": 59176009, "comment_id": 104575878, "body": "Just add a console.log(&quot;Im in getDatadb&quot;) before you do this.http.get() and check if you get a log message"}, {"owner": {"reputation": 170, "user_id": 4884870, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/495450c9feb246d7a77459d660a76c1d?s=128&d=identicon&r=PG&f=1", "display_name": "Faisal Choura", "link": "https://stackoverflow.com/users/4884870/faisal-choura"}, "reply_to_user": {"reputation": 1, "user_id": 12445359, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-pdL3K2-htBM/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcXRQVgTYs7VzTCLbgNKAqfH_mFxg/photo.jpg?sz=128", "display_name": "KarebCN", "link": "https://stackoverflow.com/users/12445359/karebcn"}, "edited": false, "score": 0, "creation_date": 1575470526, "post_id": 59176009, "comment_id": 104578300, "body": "Okay so you have something wrong that I cant see in the code you provided. The main issue is that your code is not getting to ionViewDidLoad hence your call is not running and that&#39;s why you can&#39;t see anything log on your dev tools console"}, {"owner": {"reputation": 1, "user_id": 12445359, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-pdL3K2-htBM/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcXRQVgTYs7VzTCLbgNKAqfH_mFxg/photo.jpg?sz=128", "display_name": "KarebCN", "link": "https://stackoverflow.com/users/12445359/karebcn"}, "edited": false, "score": 0, "creation_date": 1575530318, "post_id": 59176009, "comment_id": 104599384, "body": "I replaced the ionViewDidLoad with an Button and now I get the Error msg: Uncaught (in promise): SyntaxError: Error reading @fchoura"}, {"owner": {"reputation": 170, "user_id": 4884870, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/495450c9feb246d7a77459d660a76c1d?s=128&d=identicon&r=PG&f=1", "display_name": "Faisal Choura", "link": "https://stackoverflow.com/users/4884870/faisal-choura"}, "reply_to_user": {"reputation": 1, "user_id": 12445359, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-pdL3K2-htBM/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcXRQVgTYs7VzTCLbgNKAqfH_mFxg/photo.jpg?sz=128", "display_name": "KarebCN", "link": "https://stackoverflow.com/users/12445359/karebcn"}, "edited": false, "score": 0, "creation_date": 1575539439, "post_id": 59176009, "comment_id": 104603488, "body": "Check my update if that doesn&#39;t work then you&#39;ve got something wrong with your setup"}, {"owner": {"reputation": 1, "user_id": 12445359, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-pdL3K2-htBM/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcXRQVgTYs7VzTCLbgNKAqfH_mFxg/photo.jpg?sz=128", "display_name": "KarebCN", "link": "https://stackoverflow.com/users/12445359/karebcn"}, "edited": false, "score": 0, "creation_date": 1575541166, "post_id": 59176009, "comment_id": 104604396, "body": "sadly same error msg. I just saw that in terminal I get [info] POST /wsman 404 - 127.0.0.1 and before it worked totally fine @fchoura"}, {"owner": {"reputation": 170, "user_id": 4884870, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/495450c9feb246d7a77459d660a76c1d?s=128&d=identicon&r=PG&f=1", "display_name": "Faisal Choura", "link": "https://stackoverflow.com/users/4884870/faisal-choura"}, "reply_to_user": {"reputation": 1, "user_id": 12445359, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-pdL3K2-htBM/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcXRQVgTYs7VzTCLbgNKAqfH_mFxg/photo.jpg?sz=128", "display_name": "KarebCN", "link": "https://stackoverflow.com/users/12445359/karebcn"}, "edited": false, "score": 0, "creation_date": 1575542220, "post_id": 59176009, "comment_id": 104604959, "body": "I can&#39;t help more with the code you provided.If the project is not huge and you&#39;re just testing stuff out/learning I&#39;d recommend start another one and pay attention to the flow of the application"}, {"owner": {"reputation": 1, "user_id": 12445359, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-pdL3K2-htBM/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcXRQVgTYs7VzTCLbgNKAqfH_mFxg/photo.jpg?sz=128", "display_name": "KarebCN", "link": "https://stackoverflow.com/users/12445359/karebcn"}, "edited": false, "score": 0, "creation_date": 1575543202, "post_id": 59176009, "comment_id": 104605532, "body": "That&#39;s weird. anyway thanks for taking your time to help me! @fchoura"}], "tags": [], "owner": {"reputation": 170, "user_id": 4884870, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/495450c9feb246d7a77459d660a76c1d?s=128&d=identicon&r=PG&f=1", "display_name": "Faisal Choura", "link": "https://stackoverflow.com/users/4884870/faisal-choura"}, "is_accepted": false, "score": 0, "last_activity_date": 1575539387, "last_edit_date": 1575539387, "creation_date": 1575462231, "answer_id": 59176009, "question_id": 59175873, "link": "https://stackoverflow.com/questions/59175873/it-wont-conncect-from-ionic-to-my-remote-database/59176009#59176009", "title": "It wont conncect from Ionic to my remote Database", "body": "<p>You're not calling getdataDB in ionViewDidLoad you're just calling setUpPDB. Hence the method isn't called and the get request isn't made</p>\n\n<p><strong>Update</strong></p>\n\n<p>ngOnInit won't work the same way ionViewDidLoad does cuz it only works once when the component is created and not every time you nav to an ionic page. But try this to see if you're getting to this component</p>\n\n<p>Try this and let me know what happens:</p>\n\n<pre><code>import { Component, OnInit } from '@angular/core';\nimport { ApiService } from '../api.service';\n@Component({\n  selector: 'app-home',\n  templateUrl: 'home.page.html',\n  styleUrls: ['home.page.scss'],\n})\nexport class HomePage implements OnInit {\n\n  constructor(private api: ApiService) { }\n\n  ngOnInit() {\n    this.api.setUpPDB();\n    this.api.getdataDB();\n\n  }\n}\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 12445359, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-pdL3K2-htBM/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcXRQVgTYs7VzTCLbgNKAqfH_mFxg/photo.jpg?sz=128", "display_name": "KarebCN", "link": "https://stackoverflow.com/users/12445359/karebcn"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 42, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1575539387, "creation_date": 1575461799, "last_edit_date": 1575464056, "question_id": 59175873, "link": "https://stackoverflow.com/questions/59175873/it-wont-conncect-from-ionic-to-my-remote-database", "title": "It wont conncect from Ionic to my remote Database", "body": "<p>I created a database on Fauxten and I am trying now to connect it to my project. I can open the link on my browser but when I try to call it in the app nothing happens. I can't see where I miss something</p>\n\n<pre><code>import { Injectable } from '@angular/core';\nimport PouchDB from 'pouchdb';\nimport { HttpClient } from '@angular/common/http';\n\n\n@Injectable({\n  providedIn: 'root'\n})\n\nexport class ApiService {\n  private db;\n  url = 'http://localhost:5984/_utils/#database/grundbaustein/_all_docs';\nconstructor(private http: HttpClient) { }\n\n\n  setUpPDB() {\n    this.db = new PouchDB(this.url);\n  }\n\n  getdataDB() {\n    this.http.get(this.url).subscribe((res) =&gt; {\n      console.log(res);\n    });\n\n    }\n\n  }\n</code></pre>\n\n<p>that the Service I want to use to get access to my Database </p>\n\n<pre><code>import { Component } from '@angular/core';\nimport { ApiService } from '../api.service';\n@Component({\n  selector: 'app-home',\n  templateUrl: 'home.page.html',\n  styleUrls: ['home.page.scss'],\n})\nexport class HomePage  {\n\n  constructor(private api: ApiService) { }\n\nionViewDidLoad() {\nthis.api.setUpPDB();\nthis.api.getdataDB();\n\n  }\n}\n</code></pre>\n\n<p>And thats my Page.ts where I wanna use the information I get from the database. </p>\n\n<pre><code>{\n  \"name\": \"firstapp\",\n  \"version\": \"0.0.1\",\n  \"author\": \"Ionic Framework\",\n  \"homepage\": \"https://ionicframework.com/\",\n  \"scripts\": {\n    \"ng\": \"ng\",\n    \"start\": \"ng serve\",\n    \"build\": \"ng build\",\n    \"test\": \"ng test\",\n    \"lint\": \"ng lint\",\n    \"e2e\": \"ng e2e\"\n  },\n  \"private\": true,\n  \"dependencies\": {\n    \"@angular/common\": \"~8.1.2\",\n    \"@angular/core\": \"~8.1.2\",\n    \"@angular/forms\": \"~8.1.2\",\n    \"@angular/platform-browser\": \"~8.1.2\",\n    \"@angular/platform-browser-dynamic\": \"~8.1.2\",\n    \"@angular/router\": \"~8.1.2\",\n    \"@ionic-native/core\": \"^5.0.0\",\n    \"@ionic-native/http\": \"^5.17.1\",\n    \"@ionic-native/splash-screen\": \"^5.0.0\",\n    \"@ionic-native/status-bar\": \"^5.0.0\",\n    \"@ionic/angular\": \"^4.7.1\",\n    \"@types/pouchdb\": \"^6.4.0\",\n    \"cordova-plugin-advanced-http\": \"^2.3.0\",\n    \"core-js\": \"^2.5.4\",\n    \"pouchdb\": \"^7.1.1\",\n    \"rxjs\": \"~6.5.1\",\n    \"tslib\": \"^1.9.0\",\n    \"zone.js\": \"~0.9.1\"\n  },\n  \"devDependencies\": {\n    \"@angular-devkit/architect\": \"~0.801.2\",\n    \"@angular-devkit/build-angular\": \"~0.801.2\",\n    \"@angular-devkit/core\": \"~8.1.2\",\n    \"@angular-devkit/schematics\": \"~8.1.2\",\n    \"@angular/cli\": \"~8.1.2\",\n    \"@angular/compiler\": \"~8.1.2\",\n    \"@angular/compiler-cli\": \"~8.1.2\",\n    \"@angular/language-service\": \"~8.1.2\",\n    \"@ionic/angular-toolkit\": \"^2.1.1\",\n    \"@types/jasmine\": \"~3.3.8\",\n    \"@types/jasminewd2\": \"~2.0.3\",\n    \"@types/node\": \"~8.9.4\",\n    \"codelyzer\": \"^5.0.0\",\n    \"jasmine-core\": \"~3.4.0\",\n    \"jasmine-spec-reporter\": \"~4.2.1\",\n    \"karma\": \"~4.1.0\",\n    \"karma-chrome-launcher\": \"~2.2.0\",\n    \"karma-coverage-istanbul-reporter\": \"~2.0.1\",\n    \"karma-jasmine\": \"~2.0.1\",\n    \"karma-jasmine-html-reporter\": \"^1.4.0\",\n    \"protractor\": \"~5.4.0\",\n    \"ts-node\": \"~7.0.0\",\n    \"tslint\": \"~5.15.0\",\n    \"typescript\": \"~3.4.3\"\n  },\n  \"description\": \"An Ionic project\",\n  \"cordova\": {\n    \"plugins\": {\n      \"cordova-plugin-advanced-http\": {}\n    }\n  }\n}\n</code></pre>\n"}, {"tags": ["javascript", "angular", "typescript", "ag-grid-angular"], "comments": [{"owner": {"reputation": 1, "user_id": 12479586, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7076744dcb4a8510b85130d2f619d9c3?s=128&d=identicon&r=PG&f=1", "display_name": "Shiv Swami", "link": "https://stackoverflow.com/users/12479586/shiv-swami"}, "edited": false, "score": 1, "creation_date": 1575461188, "post_id": 59175662, "comment_id": 104572798, "body": "import { GridOptions, Module, AllModules } from &#39;@ag-grid-enterprise/all-modules&#39;;                                                                                                                                   Written TS Code :   public modules: Module[] = AllModules;"}], "answers": [{"tags": [], "owner": {"reputation": 1, "user_id": 12479586, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7076744dcb4a8510b85130d2f619d9c3?s=128&d=identicon&r=PG&f=1", "display_name": "Shiv Swami", "link": "https://stackoverflow.com/users/12479586/shiv-swami"}, "is_accepted": true, "score": 0, "last_activity_date": 1576585129, "creation_date": 1576585129, "answer_id": 59374114, "question_id": 59175662, "link": "https://stackoverflow.com/questions/59175662/ag-grid-module-binding/59374114#59374114", "title": "Ag Grid Module binding", "body": "<p>To Resolve the issue for \"Can not found Module[]\"=> Use any[] array\neg. public modules:any[] = AllCommunityModules;</p>\n"}], "owner": {"reputation": 1, "user_id": 12479586, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7076744dcb4a8510b85130d2f619d9c3?s=128&d=identicon&r=PG&f=1", "display_name": "Shiv Swami", "link": "https://stackoverflow.com/users/12479586/shiv-swami"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 985, "favorite_count": 0, "accepted_answer_id": 59374114, "answer_count": 1, "score": 0, "last_activity_date": 1576585129, "creation_date": 1575461105, "last_edit_date": 1575527045, "question_id": 59175662, "link": "https://stackoverflow.com/questions/59175662/ag-grid-module-binding", "title": "Ag Grid Module binding", "body": "<p>Can't bind to <code>modules</code> since it isn't a known property of <code>ag-grid-angular</code></p>\n\n<p><a href=\"https://i.stack.imgur.com/2zwY2.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/2zwY2.png\" alt=\"enter image description here\"></a></p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;ag-grid-angular\r\n      #agGrid\r\n      style=\"width: 100%; height: 100%;\"\r\n      id=\"myGrid\"\r\n      class=\"ag-theme-balham\"\r\n      [modules]=\"modules\"\r\n      [columnDefs]=\"columnDefs\"\r\n      [masterDetail]=\"true\"\r\n      [detailCellRendererParams]=\"detailCellRendererParams\"\r\n      [rowData]=\"rowData\"\r\n      (firstDataRendered)=\"onFirstDataRendered($event)\"\r\n      (gridReady)=\"onGridReady($event)\"\r\n    &gt;&lt;/ag-grid-angular&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": ["angularjs", "typescript", "webpack", "excel-formula"], "comments": [{"owner": {"reputation": 687, "user_id": 1452028, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SpAKf.png?s=128&g=1", "display_name": "sebbab", "link": "https://stackoverflow.com/users/1452028/sebbab"}, "edited": false, "score": 0, "creation_date": 1575461006, "post_id": 59175465, "comment_id": 104572693, "body": "Can you also provide information about how you declared formularParser in typings.d.ts?"}, {"owner": {"reputation": 658, "user_id": 3141993, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/jUffO.jpg?s=128&g=1", "display_name": "Hamed Mahdizadeh", "link": "https://stackoverflow.com/users/3141993/hamed-mahdizadeh"}, "reply_to_user": {"reputation": 687, "user_id": 1452028, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SpAKf.png?s=128&g=1", "display_name": "sebbab", "link": "https://stackoverflow.com/users/1452028/sebbab"}, "edited": false, "score": 0, "creation_date": 1575461101, "post_id": 59175465, "comment_id": 104572743, "body": "I&#39;ve defined it as var : declare var formulaParser;"}, {"owner": {"reputation": 1316, "user_id": 4746639, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh5.googleusercontent.com/-D0PvMWvD0Gc/AAAAAAAAAAI/AAAAAAAAAGg/V6ByFqwuBPo/photo.jpg?sz=128", "display_name": "CharybdeBE", "link": "https://stackoverflow.com/users/4746639/charybdebe"}, "edited": false, "score": 0, "creation_date": 1575461443, "post_id": 59175465, "comment_id": 104572939, "body": "I think you need to have the export keyword (but not sure)"}], "owner": {"reputation": 658, "user_id": 3141993, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/jUffO.jpg?s=128&g=1", "display_name": "Hamed Mahdizadeh", "link": "https://stackoverflow.com/users/3141993/hamed-mahdizadeh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 51, "favorite_count": 1, "answer_count": 0, "score": 0, "last_activity_date": 1575484735, "creation_date": 1575460514, "last_edit_date": 1575484735, "question_id": 59175465, "link": "https://stackoverflow.com/questions/59175465/combine-existing-bundled-javascript-webpack-module-with-typescript-and-re-bundle", "title": "Combine existing bundled JavaScript WebPack module with TypeScript and re-bundle them", "body": "<p>I have converted my angularjs application from javascript to typescript and I tried different ways to import formula-parser <a href=\"https://github.com/handsontable/formula-parser/\" rel=\"nofollow noreferrer\">https://github.com/handsontable/formula-parser/</a> to typescript and defined formulaParser in typings.d.ts but formulaParser always is undefined.</p>\n\n<pre><code>import \"./formula-parser.js\";\n\nimport   formulaParser from \"./formula-parser\"\n\nvar parser = new formulaParser.Parser();\n</code></pre>\n\n<p>I couldn't find any appropriate solution so I just defined formulaParser as</p>\n\n<pre><code> var formulaParser: any;\n</code></pre>\n\n<p>and included the js file in the html page without any bundling.</p>\n"}, {"tags": ["typescript"], "answers": [{"tags": [], "owner": {"reputation": 15749, "user_id": 4420812, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9yQ4D.jpg?s=128&g=1", "display_name": "Maciej Sikora", "link": "https://stackoverflow.com/users/4420812/maciej-sikora"}, "is_accepted": false, "score": 1, "last_activity_date": 1608250888, "last_edit_date": 1608250888, "creation_date": 1575461231, "answer_id": 59175696, "question_id": 59175342, "link": "https://stackoverflow.com/questions/59175342/typescript-type-assertion-for-union-of-tuples-how-to-assert-only-one-member/59175696#59175696", "title": "TypeScript - type assertion for union of tuples - how to assert only one member and make TS figure out type of other members?", "body": "<p>In order to allow TS to narrow the type we can use <a href=\"https://www.typescriptlang.org/docs/handbook/advanced-types.html#type-guards-and-differentiating-types\" rel=\"nofollow noreferrer\">type guards</a>. Consider below code:</p>\n<pre><code>const isOk = &lt;T&gt;(r: Result&lt;T&gt;): r is ResultOk&lt;T&gt; =&gt; r[0] === null; // type guard\n\nconst result: Result&lt;I&gt; = f(); // here result is either Ok or Error still\n\nif (isOk(result)) {\n  const [error1, result1] = result; // inside the if result is ResultOk\n}\n\n</code></pre>\n<p><strong>Additional info</strong> - yes you can do that by standard if statement <code>r[0] !== null</code> also, but having named type guard for custom structure is preferred way to go.</p>\n"}, {"comments": [{"owner": {"reputation": 15749, "user_id": 4420812, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9yQ4D.jpg?s=128&g=1", "display_name": "Maciej Sikora", "link": "https://stackoverflow.com/users/4420812/maciej-sikora"}, "edited": false, "score": 0, "creation_date": 1575463569, "post_id": 59175786, "comment_id": 104574088, "body": "This condition is a type guard, but anonymous one. Having custom structure with named type guards is a preferred pattern. Or you want to have this result[0] check in every place."}], "tags": [], "owner": {"reputation": 687, "user_id": 1452028, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SpAKf.png?s=128&g=1", "display_name": "sebbab", "link": "https://stackoverflow.com/users/1452028/sebbab"}, "is_accepted": false, "score": 0, "last_activity_date": 1575461534, "creation_date": 1575461534, "answer_id": 59175786, "question_id": 59175342, "link": "https://stackoverflow.com/questions/59175342/typescript-type-assertion-for-union-of-tuples-how-to-assert-only-one-member/59175786#59175786", "title": "TypeScript - type assertion for union of tuples - how to assert only one member and make TS figure out type of other members?", "body": "<p>Your code is almost perfectly shaped to behave as you want.</p>\n\n<p>There is one tiny detail: You shouldn't use destructuring when declaring the results variable, refer to it as a single value instead:</p>\n\n<pre><code>const result: Result&lt;I&gt; = f();\n\nif (result[0] === null) {\n  const {x} = result[1]\n  console.log(x); // ok\n}\n</code></pre>\n\n<p>This works as expected and you don't need to create any additional function or type guard.</p>\n\n<p>Credits should go to this answer which explains really well why typescript behaves like this: <a href=\"https://stackoverflow.com/questions/55264378/narrow-type-based-on-conditional-typetypescript#answer-55265125\">Narrow type based on conditional type(Typescript)</a></p>\n"}], "owner": {"reputation": 834, "user_id": 491745, "user_type": "registered", "accept_rate": 60, "profile_image": "https://graph.facebook.com/563492932/picture?type=large", "display_name": "Max", "link": "https://stackoverflow.com/users/491745/max"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 210, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1608250888, "creation_date": 1575460095, "question_id": 59175342, "link": "https://stackoverflow.com/questions/59175342/typescript-type-assertion-for-union-of-tuples-how-to-assert-only-one-member", "title": "TypeScript - type assertion for union of tuples - how to assert only one member and make TS figure out type of other members?", "body": "<p>I'm trying to make type assertion for \"error-first\" pattern.</p>\n\n<p>My function returns tuples like <code>['error', null]</code> or <code>[null, 'non-error']</code>.</p>\n\n<p>I want to check only for <code>error === null</code> and TS should assume that the second member is not-null.</p>\n\n<p>Here is an example which clarifies my needs:</p>\n\n<pre class=\"lang-typescript prettyprint-override\"><code>type ErrorMessage = string;\ntype ResultError = [ErrorMessage, null];\ntype ResultOk&lt;T&gt; = [null, T];\ntype Result&lt;T&gt; = ResultError | ResultOk&lt;T&gt;;\n\ninterface I {\n    x: number;\n}\nfunction f(): Result&lt;I&gt; {\n    if (Math.random() &gt; 0.5) {\n        return [null, {x: 1}];\n    } else {\n        return ['my-error', null];\n    }\n}\n\nconst [error1, result1]: Result&lt;I&gt; = f();\n\n// works, but i dont want to check result1...\nif (result1 !== null) {\n    console.log(result1.x);\n}\n\n// instead i want to check if error is null,\n// and assume result1 is I\nif (error1 === null) {\n    console.log(result1.x); // TS2531: Object is possibly 'null' &lt;&lt;=====\n}\n</code></pre>\n"}, {"tags": ["typescript"], "comments": [{"owner": {"reputation": 1796, "user_id": 9955460, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8554e7f4c93d6a15bf478e1e64e0e131?s=128&d=identicon&r=PG&f=1", "display_name": "Juraj Kocan", "link": "https://stackoverflow.com/users/9955460/juraj-kocan"}, "edited": false, "score": 2, "creation_date": 1575458470, "post_id": 59174764, "comment_id": 104571366, "body": "i had similar question... &quot;The implementation will still complain though, because TypeScript type guards will only narrow the type of a single value. That is, in if (a) { } else { }, it&#39;s possible that the type of a will be narrowed inside the then and else clauses, but the type of b will not be narrowed when you check a, even if there is some constraint between the types of a and b.&quot;. check this <a href=\"https://stackoverflow.com/questions/55264378/narrow-type-based-on-conditional-typetypescript\">question</a>"}], "answers": [{"comments": [{"owner": {"reputation": 15749, "user_id": 4420812, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9yQ4D.jpg?s=128&g=1", "display_name": "Maciej Sikora", "link": "https://stackoverflow.com/users/4420812/maciej-sikora"}, "edited": false, "score": 0, "creation_date": 1575478941, "post_id": 59180294, "comment_id": 104583288, "body": "Ach we can do even better by KeysWithCallback&lt;A&gt;[keyof A]. Will update my answer later"}, {"owner": {"reputation": 63, "user_id": 6761033, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7oVKZ.jpg?s=128&g=1", "display_name": "Codeceps", "link": "https://stackoverflow.com/users/6761033/codeceps"}, "edited": false, "score": 0, "creation_date": 1575482681, "post_id": 59180294, "comment_id": 104585265, "body": "Jackpot with the 3rd solution!  It never occurred to me to tie the event with its callback in a tuple and change the definition of the method to take a rest parameter with the type being the union of those tuples, and the VsCode offers the expected intellisense both when the method is called and for the <i>if</i> checks"}, {"owner": {"reputation": 15749, "user_id": 4420812, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9yQ4D.jpg?s=128&g=1", "display_name": "Maciej Sikora", "link": "https://stackoverflow.com/users/4420812/maciej-sikora"}, "reply_to_user": {"reputation": 63, "user_id": 6761033, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7oVKZ.jpg?s=128&g=1", "display_name": "Codeceps", "link": "https://stackoverflow.com/users/6761033/codeceps"}, "edited": false, "score": 0, "creation_date": 1575499738, "post_id": 59180294, "comment_id": 104591632, "body": "@Codeceps I cleaned the answer, also there is no need for using manual union. So we have the union out of box from KeyWithCallback&lt;UserEvents&gt;"}], "tags": [], "owner": {"reputation": 15749, "user_id": 4420812, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9yQ4D.jpg?s=128&g=1", "display_name": "Maciej Sikora", "link": "https://stackoverflow.com/users/4420812/maciej-sikora"}, "is_accepted": true, "score": 3, "last_activity_date": 1575501093, "last_edit_date": 1575501093, "creation_date": 1575475977, "answer_id": 59180294, "question_id": 59174764, "link": "https://stackoverflow.com/questions/59174764/type-narrowing-of-event-callback-based-on-the-event-key/59180294#59180294", "title": "Type narrowing of event callback based on the event key", "body": "<p>In order to achieve wanted behavior, we need to compose both things into one data structure, fortunately when choosing <a href=\"https://www.typescriptlang.org/docs/handbook/basic-types.html#tuple\" rel=\"nofollow noreferrer\">tuple</a> for such structure and combining it with spreading function arguments the result will match the exact need.</p>\n\n<p>Consider below code:</p>\n\n<pre><code>interface UserEvents {\n    nameChanged: string;\n    phoneChanged: number;\n}\n\n// generic type in order to use with different objects then UserEvents only\ntype KeyWithCallback&lt;A extends object&gt; = {\n  [K in keyof A]: [K, (_: A[K]) =&gt; void]\n}[keyof A];\n\nfunction on(...args: KeyWithCallback&lt;UserEvents&gt;) {\n  if (args[0] === 'nameChanged') {\n    const [_, clb] = args; // destructuring inside condition\n    clb('') // here clb allows on string only (string) =&gt; void\n  } else {\n    const [_, clb] = args; // destructuring inside condition\n    clb(1); // here clb allows on number only (number) =&gt; void\n  }\n}\n// using\non('nameChanged', (a:string) =&gt; {}) // ok\non('nameChanged', (a:number) =&gt; {}) // error as expected\n\n</code></pre>\n\n<p>I have used <a href=\"https://www.typescriptlang.org/docs/handbook/advanced-types.html#mapped-types\" rel=\"nofollow noreferrer\">mapped type</a> <code>KeyWithCallback</code> to represent all possible arguments as <code>[key, callback]</code> pairs. The result is a union of pairs (2-nd tuple).</p>\n\n<p><code>KeyWithCallback&lt;UserEvents&gt;</code> evaluates into:</p>\n\n<pre><code>| [\"nameChanged\", (_: string) =&gt; void] \n| [\"phoneChanged\", (_: number) =&gt; void]\n</code></pre>\n\n<p>The second important thing is to annotate function arguments <code>...args: KeyWithCallback&lt;UserEvents&gt;</code>. From now on, function body will understand that function has two arguments, and one relates to another, and this relation is described in every pair from the union type.</p>\n\n<p>Checking first element of the pair automatically inference the second element. </p>\n"}], "owner": {"reputation": 63, "user_id": 6761033, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7oVKZ.jpg?s=128&g=1", "display_name": "Codeceps", "link": "https://stackoverflow.com/users/6761033/codeceps"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 138, "favorite_count": 1, "accepted_answer_id": 59180294, "answer_count": 1, "score": 2, "last_activity_date": 1575501093, "creation_date": 1575458187, "question_id": 59174764, "link": "https://stackoverflow.com/questions/59174764/type-narrowing-of-event-callback-based-on-the-event-key", "title": "Type narrowing of event callback based on the event key", "body": "<p>While searching for options on how to write a type safe event emitter, i stumbled on this pattern where you first define your event names and their values in an interface, e.g:</p>\n\n<pre><code>interface UserEvents {\n    nameChanged: string;\n    phoneChanged: number;\n}\n</code></pre>\n\n<p>and the '<strong><em>on</em></strong>' method is defined to take a <em>keyof</em> UserEvents, and a callback whose parameter is of the type pointed by the key obtained using the feature known as lookup type - UserEvents[keyof T]:</p>\n\n<pre><code>function on&lt;T extends keyof UserEvents&gt;(e: T, cb: (val: UserEvents[T]) =&gt; void) {/**/}\n</code></pre>\n\n<p>giving type safe method calls:</p>\n\n<pre><code>on('nameChanged', (val) =&gt; {}); // callback parameter type inferred to be a string\non('phoneChanged', (val) =&gt; {}); // ... inferred as number\n</code></pre>\n\n<p>The issue i have is inside the body of the '<strong><em>on</em></strong>' method where i can't narrow the type of the passed callback based on the passed key value. Since the event names and their types are defined in the same interface, i expected the callback to be narrowed if i checked for the key type but that is not the case:</p>\n\n<pre><code>function on&lt;T extends keyof UserEvents&gt;(e: T, cb: (_: UserEvents[T]) =&gt; void) {\n    if (e === 'nameChanged') {\n        // expecting the cb type to be (string) =&gt; void\n    } else {\n        // and here to be (number) =&gt; void\n    }\n\n    // but regardless of the checks, the cb type\n    // inside the method body is of type (string &amp; number) =&gt; void\n}\n</code></pre>\n\n<p>Is there any way to achieve automatic type inference of the callback based on the event key, using other TypeScript features like type guards, discriminated unions, etc., with this specific method call signature?</p>\n"}, {"tags": ["javascript", "arrays", "json", "angular", "typescript"], "answers": [{"tags": [], "owner": {"reputation": 5451, "user_id": 9765167, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0hpIB.jpg?s=128&g=1", "display_name": "Ramesh Reddy", "link": "https://stackoverflow.com/users/9765167/ramesh-reddy"}, "is_accepted": true, "score": 2, "last_activity_date": 1575457854, "creation_date": 1575457854, "answer_id": 59174647, "question_id": 59174594, "link": "https://stackoverflow.com/questions/59174594/how-to-only-extract-first-value-from-list-of-json-array-in-angular/59174647#59174647", "title": "How to only extract first value from list of JSON Array in Angular", "body": "<p>just push an object like this:</p>\n\n<pre><code>resultArr.forEach(AllDate =&gt; {\n dateArr.push({date: AllDate.date});\n});\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 6840, "user_id": 6555572, "user_type": "registered", "accept_rate": 50, "profile_image": "https://lh5.googleusercontent.com/-cTlFQs7dpvU/AAAAAAAAAAI/AAAAAAAABnU/Ywbtd98U9fY/photo.jpg?sz=128", "display_name": "Saurabh Agrawal", "link": "https://stackoverflow.com/users/6555572/saurabh-agrawal"}, "is_accepted": false, "score": 4, "last_activity_date": 1575541097, "last_edit_date": 1575541097, "creation_date": 1575457903, "answer_id": 59174663, "question_id": 59174594, "link": "https://stackoverflow.com/questions/59174594/how-to-only-extract-first-value-from-list-of-json-array-in-angular/59174663#59174663", "title": "How to only extract first value from list of JSON Array in Angular", "body": "<p>You can use <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/map\" rel=\"nofollow noreferrer\">Array.prototype.map()</a>:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>let array1 = [{ date: \"2019-10-08\", value0: 68 },\r\n{ date: \"2019-11-08\", value0: 68 },\r\n{ date: \"2019-12-08\", value0: 68 }];;\r\n\r\nlet res = array1.map(({date}, index) =&gt; {\r\n    return { date }\r\n})\r\nconsole.log(res);</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>Using <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/forEach\" rel=\"nofollow noreferrer\">Array.prototype.forEach()</a>\n<div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>let resultArr = [{ date: \"2019-10-08\", value0: 68 },\r\n{ date: \"2019-11-08\", value0: 68 },\r\n{ date: \"2019-12-08\", value0: 68 }];;\r\n\r\nlet dateArr = [];\r\nresultArr.forEach(AllDate =&gt; dateArr.push({date: AllDate.date}));\r\nconsole.log(dateArr);</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": [], "owner": {"reputation": 125, "user_id": 5290960, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/687402b24c1b603f7c6271601ce096a6?s=128&d=identicon&r=PG&f=1", "display_name": "KCFragrance", "link": "https://stackoverflow.com/users/5290960/kcfragrance"}, "is_accepted": false, "score": 0, "last_activity_date": 1575457916, "creation_date": 1575457916, "answer_id": 59174664, "question_id": 59174594, "link": "https://stackoverflow.com/questions/59174594/how-to-only-extract-first-value-from-list-of-json-array-in-angular/59174664#59174664", "title": "How to only extract first value from list of JSON Array in Angular", "body": "<p>Try this</p>\n\n<pre><code>let dateArray = resultArr.map(AllDate =&gt; return {date:AllDate.date} );\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 906, "user_id": 5663949, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/jGfBg.png?s=128&g=1", "display_name": "Akshay Sharma", "link": "https://stackoverflow.com/users/5663949/akshay-sharma"}, "is_accepted": false, "score": 2, "last_activity_date": 1575458706, "last_edit_date": 1575458706, "creation_date": 1575457920, "answer_id": 59174666, "question_id": 59174594, "link": "https://stackoverflow.com/questions/59174594/how-to-only-extract-first-value-from-list-of-json-array-in-angular/59174666#59174666", "title": "How to only extract first value from list of JSON Array in Angular", "body": "<p>plz try this </p>\n\n<pre><code>let result = [{date: \"2019-10-08\", value0: 68}, \n{date: \"2019-10-08\", value0: 68}, \n{date: \"2019-10-08\", value0: 68}, \n{date: \"2019-10-08\", value0: 68}];\n\nlet dateArr = [];\n\nresult.forEach(AllDate =&gt; dateArr.push({date : AllDate.date}));\n\nconsole.log(dateArr);\n</code></pre>\n\n<p>With map()</p>\n\n<pre><code>let dateArr = result.map((value, key) =&gt; return {date : value.date} );\nconsole.log(dateArr);\n\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 57406, "user_id": 7461381, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/20611e3583655e5bf1f727727804c4f8?s=128&d=identicon&r=PG&f=1", "display_name": "Mamun", "link": "https://stackoverflow.com/users/7461381/mamun"}, "is_accepted": false, "score": 2, "last_activity_date": 1575458678, "last_edit_date": 1575458678, "creation_date": 1575458054, "answer_id": 59174718, "question_id": 59174594, "link": "https://stackoverflow.com/questions/59174594/how-to-only-extract-first-value-from-list-of-json-array-in-angular/59174718#59174718", "title": "How to only extract first value from list of JSON Array in Angular", "body": "<p>You can try with <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/map\" rel=\"nofollow noreferrer\"><strong>Array.prototype.map()</strong></a> with <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Destructuring_assignment\" rel=\"nofollow noreferrer\"><strong>Destructuring assignment</strong></a>:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>var data = [{date: \"2019-10-08\", value0: 68},\r\n{date: \"2019-11-08\", value0: 69},\r\n{date: \"2019-12-08\", value0: 70}];\r\n\r\nvar resultArr = data.map(({date}) =&gt; ({date}));\r\nconsole.log(resultArr);</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 346, "user_id": 7665848, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/67561934c88413cda37e9248acfb2481?s=128&d=identicon&r=PG&f=1", "display_name": "Sam", "link": "https://stackoverflow.com/users/7665848/sam"}, "delete_vote_count": 1, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 786, "favorite_count": 0, "closed_date": 1575458489, "accepted_answer_id": 59174647, "answer_count": 5, "score": 0, "last_activity_date": 1575541097, "creation_date": 1575457673, "question_id": 59174594, "link": "https://stackoverflow.com/questions/59174594/how-to-only-extract-first-value-from-list-of-json-array-in-angular", "closed_reason": "Duplicate", "title": "How to only extract first value from list of JSON Array in Angular", "body": "<p>I have data array which is like <code>{date: \"2019-10-08\", value0: 68}</code></p>\n\n<p>I  only want to extract all dates so the result is like:</p>\n\n<pre><code>{date: \"2019-10-08\"}\n{date: \"2019-11-08\"}\n{date: \"2019-12-08\"}\n</code></pre>\n\n<p>I have tried the line of code below but it only gives me all the date values like</p>\n\n<p><code>resultArr.forEach(AllDate =&gt; dateArr.push(AllDate.date));</code></p>\n\n<p><code>[\"2019-10-08\",\"2019-11-08\",\"2019-12-08\"]</code> this is not what i want.</p>\n\n<p>i would like the text \"date\" i am looking for this. </p>\n\n<pre><code>{date: \"2019-10-08\"}\n{date: \"2019-11-08\"}\n{date: \"2019-12-08\"}\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/OnMZN.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/OnMZN.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["typescript", "http", "request", "aurelia"], "comments": [{"owner": {"reputation": 11724, "user_id": 1981050, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/MimfZ.png?s=128&g=1", "display_name": "Matthew James Davis", "link": "https://stackoverflow.com/users/1981050/matthew-james-davis"}, "edited": false, "score": 1, "creation_date": 1575552304, "post_id": 59174560, "comment_id": 104610482, "body": "Your server is down."}], "answers": [{"tags": [], "owner": {"reputation": 4797, "user_id": 250094, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/49d80e4d995467c5c00f1300db855698?s=128&d=identicon&r=PG", "display_name": "Alex Dresko", "link": "https://stackoverflow.com/users/250094/alex-dresko"}, "is_accepted": false, "score": 1, "last_activity_date": 1575465168, "creation_date": 1575465168, "answer_id": 59176882, "question_id": 59174560, "link": "https://stackoverflow.com/questions/59174560/what-can-be-the-possible-cause-of-unhandled-promise-rejection-typeerror-in-au/59176882#59176882", "title": "What can be the possible cause of &#39;Unhandled Promise Rejection: TypeError&#39; in aurelia?", "body": "<p>It sounds like you're doing async/await, and you haven't wrapped your <code>await</code> call in a <code>try/catch</code>. </p>\n\n<p>Some versions of Aurelia use Bluebird as a Promise shim, and you can use their <a href=\"http://bluebirdjs.com/docs/api/error-management-configuration.html#global-rejection-events\" rel=\"nofollow noreferrer\">global rejection events</a> to deal with those problems. </p>\n\n<p>Here's what that looks like. </p>\n\n<pre><code>// NOTE: event name is all lower case as per DOM convention\nwindow.addEventListener(\"unhandledrejection\", function(e) {\n    // NOTE: e.preventDefault() must be manually called to prevent the default\n    // action which is currently to log the stack trace to console.warn\n    e.preventDefault();\n    // NOTE: parameters are properties of the event detail property\n    var reason = e.detail.reason;\n    var promise = e.detail.promise;\n    // See Promise.onPossiblyUnhandledRejection for parameter documentation\n});\n\n// NOTE: event name is all lower case as per DOM convention\nwindow.addEventListener(\"rejectionhandled\", function(e) {\n    // NOTE: e.preventDefault() must be manually called prevent the default\n    // action which is currently unset (but might be set to something in the future)\n    e.preventDefault();\n    // NOTE: parameters are properties of the event detail property\n    var promise = e.detail.promise;\n    // See Promise.onUnhandledRejectionHandled for parameter documentation\n});\n</code></pre>\n\n<p>Of course, you might be using a different Promise shim. But, ultimately, <code>try/catch</code> is your answer. </p>\n"}], "owner": {"reputation": 145, "user_id": 12479304, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mD05Dlb3Fu7ZndimIhgmi7aiWtrwdyCZzlpKMWW=k-s128", "display_name": "Dandy Mandy", "link": "https://stackoverflow.com/users/12479304/dandy-mandy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 195, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1575465168, "creation_date": 1575457582, "question_id": 59174560, "link": "https://stackoverflow.com/questions/59174560/what-can-be-the-possible-cause-of-unhandled-promise-rejection-typeerror-in-au", "title": "What can be the possible cause of &#39;Unhandled Promise Rejection: TypeError&#39; in aurelia?", "body": "<p>I have been into Aurelia development but took break for two months. Now I have started a new project in it and I am encountering an unknown issue when trying to use <code>http-fetch-client</code>.</p>\n\n<p>Console shows:</p>\n\n<pre><code>aurelia-fetch-client.js?a909:199 OPTIONS http://url.com/api/login net::ERR_CONNECTION_REFUSED\n\nindex.js?07f7:248 Possible Unhandled Promise Rejection: TypeError: Failed to fetch\n\n</code></pre>\n\n<p>Network tab shows:</p>\n\n<pre><code>Request URL: http://url.com/api/login\nReferrer Policy: no-referrer-when-downgrade\n</code></pre>\n\n<p>To my surprise, my previous project (that was executing fetch client request successfully two months ago) is also showing this error now.\nCan anyone give insight over this issue?\nWhy am I encountering this?  </p>\n"}, {"tags": ["typescript", "pdf", "angular7", "jspdf", "html2canvas"], "comments": [{"owner": {"reputation": 8669, "user_id": 7124761, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-LwwM-Cj7GLE/AAAAAAAAAAI/AAAAAAAAAJw/32uCg85dMvg/photo.jpg?sz=128", "display_name": "Prashant Pimpale", "link": "https://stackoverflow.com/users/7124761/prashant-pimpale"}, "edited": false, "score": 0, "creation_date": 1575459264, "post_id": 59174515, "comment_id": 104571765, "body": "Are you sure <code>document.getElementById(&#39;contentToConvert&#39;);</code> return an element?"}, {"owner": {"reputation": 8669, "user_id": 7124761, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-LwwM-Cj7GLE/AAAAAAAAAAI/AAAAAAAAAJw/32uCg85dMvg/photo.jpg?sz=128", "display_name": "Prashant Pimpale", "link": "https://stackoverflow.com/users/7124761/prashant-pimpale"}, "edited": false, "score": 0, "creation_date": 1575460890, "post_id": 59174515, "comment_id": 104572622, "body": "Can you provide a stackblitz demo?"}, {"owner": {"reputation": 1, "user_id": 12479319, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d23bce2d57e4c420e7554c5df95d575e?s=128&d=identicon&r=PG&f=1", "display_name": "Filippo", "link": "https://stackoverflow.com/users/12479319/filippo"}, "reply_to_user": {"reputation": 8669, "user_id": 7124761, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-LwwM-Cj7GLE/AAAAAAAAAAI/AAAAAAAAAJw/32uCg85dMvg/photo.jpg?sz=128", "display_name": "Prashant Pimpale", "link": "https://stackoverflow.com/users/7124761/prashant-pimpale"}, "edited": false, "score": 0, "creation_date": 1575461911, "post_id": 59174515, "comment_id": 104573212, "body": "i&#39;m not sure but this should be the stackblitz demo...  <a href=\"https://stackblitz.com/edit/angular-brntuv\" rel=\"nofollow noreferrer\">stackblitz.com/edit/angular-brntuv</a>"}, {"owner": {"reputation": 8669, "user_id": 7124761, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-LwwM-Cj7GLE/AAAAAAAAAAI/AAAAAAAAAJw/32uCg85dMvg/photo.jpg?sz=128", "display_name": "Prashant Pimpale", "link": "https://stackoverflow.com/users/7124761/prashant-pimpale"}, "edited": false, "score": 0, "creation_date": 1575463403, "post_id": 59174515, "comment_id": 104574000, "body": "Check this:<a href=\"https://stackoverflow.com/questions/23035858/export-html-table-to-pdf-using-jspdf\" title=\"export html table to pdf using jspdf\">stackoverflow.com/questions/23035858/&hellip;</a>"}, {"owner": {"reputation": 1, "user_id": 12479319, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d23bce2d57e4c420e7554c5df95d575e?s=128&d=identicon&r=PG&f=1", "display_name": "Filippo", "link": "https://stackoverflow.com/users/12479319/filippo"}, "reply_to_user": {"reputation": 8669, "user_id": 7124761, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-LwwM-Cj7GLE/AAAAAAAAAAI/AAAAAAAAAJw/32uCg85dMvg/photo.jpg?sz=128", "display_name": "Prashant Pimpale", "link": "https://stackoverflow.com/users/7124761/prashant-pimpale"}, "edited": false, "score": 0, "creation_date": 1575468492, "post_id": 59174515, "comment_id": 104577000, "body": "in the example is possible to obtain a pdf with the strings contained in the page, i want to camptur via canvas a screen and then convert it into a pdf"}], "owner": {"reputation": 1, "user_id": 12479319, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d23bce2d57e4c420e7554c5df95d575e?s=128&d=identicon&r=PG&f=1", "display_name": "Filippo", "link": "https://stackoverflow.com/users/12479319/filippo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 62, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1575460580, "creation_date": 1575457446, "last_edit_date": 1575460580, "question_id": 59174515, "link": "https://stackoverflow.com/questions/59174515/generate-pdf-from-html-angular7", "title": "Generate pdf from html Angular7", "body": "<p>i'm facing a problem generating a pdf from my page.\nI'm using jspdf and html2canvas but the pdf generated is a white page. Help me please</p>\n\n<p>HTML:</p>\n\n<pre><code>&lt;mat-card&gt;\n    &lt;table id=\"contentToConvert\"&gt;\n      &lt;tr&gt;\n        &lt;th&gt;Column1&lt;/th&gt;\n        &lt;th&gt;Column2&lt;/th&gt;\n        &lt;th&gt;Column3&lt;/th&gt;\n      &lt;/tr&gt;\n      &lt;tr&gt;\n        &lt;td&gt;Row 1&lt;/td&gt;\n        &lt;td&gt;Row 1&lt;/td&gt;\n        &lt;td&gt;Row 1&lt;/td&gt;\n      &lt;/tr&gt;\n      &lt;tr&gt;\n        &lt;td&gt;Row 2&lt;/td&gt;\n        &lt;td&gt;Row 2&lt;/td&gt;\n        &lt;td&gt;Row 2&lt;/td&gt;\n      &lt;/tr&gt;\n      &lt;tr&gt;\n\n    &lt;/table&gt;\n\n  &lt;/mat-card&gt;\n</code></pre>\n\n<p>Component.ts:</p>\n\n<pre><code>import * as jspdf from 'jspdf';\nimport html2canvas from 'html2canvas';\n.\n.\n.\n public captureScreen() {\nvar data = document.getElementById('contentToConvert');\nhtml2canvas(data).then(canvas =&gt; {\n\n  var imgWidth = 208;\n  var pageHeight = 295;\n  var imgHeight = canvas.height * imgWidth / canvas.width;\n  var heightLeft = imgHeight;\n\n  const contentDataURL = canvas.toDataURL('image/png')\n  let pdf = new jspdf('p', 'mm', 'a2'); // A4 size page of PDF  \n  var position = 0;\n  pdf.addImage(contentDataURL, 'PNG', 0, position, imgWidth, imgHeight)\n  pdf.save('MYPdf.pdf'); // Generated PDF   \n});}\n</code></pre>\n\n<p>this is what I see in the browser console, in the result of getElementById</p>\n\n<pre><code>accessKey: \"\"\nalign: \"\"\nassignedSlot: null\nattributeStyleMap: StylePropertyMap {size: 0}\nattributes: NamedNodeMap {0: _ngcontent-eks-c6, 1: id, _ngcontent-eks-c6: _ngcontent-eks-c6, id: id, length: 2}\nautocapitalize: \"\"\nbaseURI: \"http://localhost:4200/sigma2.0/\"\nbgColor: \"\"\nborder: \"\"\ncaption: null\ncellPadding: \"\"\ncellSpacing: \"\"\nchildElementCount: 1\nchildNodes: NodeList [tbody]\nchildren: HTMLCollection [tbody]\nclassList: DOMTokenList [value: \"\"]\nclassName: \"\"\nclientHeight: 140\nclientLeft: 0\nclientTop: 0\nclientWidth: 180\ncontentEditable: \"inherit\"\ndataset: DOMStringMap {}\ndir: \"\"\ndraggable: false\nelementTiming: \"\"\nenterKeyHint: \"\"\nfirstChild: tbody\nfirstElementChild: tbody\nframe: \"\"\nhidden: false\nid: \"contentToConvert\"\ninnerHTML: \"&lt;tbody _ngcontent-eks-c6=\"\"&gt;&lt;tr _ngcontent-eks-c6=\"\"&gt;&lt;th _ngcontent-eks-c6=\"\"&gt;Column1&lt;/th&gt;&lt;th _ngcontent-eks-c6=\"\"&gt;Column2&lt;/th&gt;&lt;th _ngcontent-eks-c6=\"\"&gt;Column3&lt;/th&gt;&lt;/tr&gt;&lt;tr _ngcontent-eks-c6=\"\"&gt;&lt;td _ngcontent-eks-c6=\"\"&gt;Row 1&lt;/td&gt;&lt;td _ngcontent-eks-c6=\"\"&gt;Row 1&lt;/td&gt;&lt;td _ngcontent-eks-c6=\"\"&gt;Row 1&lt;/td&gt;&lt;/tr&gt;&lt;tr _ngcontent-eks-c6=\"\"&gt;&lt;td _ngcontent-eks-c6=\"\"&gt;Row 2&lt;/td&gt;&lt;td _ngcontent-eks-c6=\"\"&gt;Row 2&lt;/td&gt;&lt;td _ngcontent-eks-c6=\"\"&gt;Row 2&lt;/td&gt;&lt;/tr&gt;&lt;tr _ngcontent-eks-c6=\"\"&gt;&lt;td _ngcontent-eks-c6=\"\"&gt;Row 3&lt;/td&gt;&lt;td _ngcontent-eks-c6=\"\"&gt;Row 3&lt;/td&gt;&lt;td _ngcontent-eks-c6=\"\"&gt;Row 3&lt;/td&gt;&lt;/tr&gt;&lt;tr _ngcontent-eks-c6=\"\"&gt;&lt;td _ngcontent-eks-c6=\"\"&gt;Row 4&lt;/td&gt;&lt;td _ngcontent-eks-c6=\"\"&gt;Row 4&lt;/td&gt;&lt;td _ngcontent-eks-c6=\"\"&gt;Row 4&lt;/td&gt;&lt;/tr&gt;&lt;tr _ngcontent-eks-c6=\"\"&gt;&lt;td _ngcontent-eks-c6=\"\"&gt;Row 5&lt;/td&gt;&lt;td _ngcontent-eks-c6=\"\"&gt;Row 5&lt;/td&gt;&lt;td _ngcontent-eks-c6=\"\"&gt;Row 5&lt;/td&gt;&lt;/tr&gt;&lt;tr _ngcontent-eks-c6=\"\"&gt;&lt;td _ngcontent-eks-c6=\"\"&gt;Row 6&lt;/td&gt;&lt;td _ngcontent-eks-c6=\"\"&gt;Row 6&lt;/td&gt;&lt;td _ngcontent-eks-c6=\"\"&gt;Row 6&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;\"\ninnerText: \"Column1 Column2 Column3\u21b5Row 1   Row 1   Row 1\u21b5Row 2 Row 2   Row 2\u21b5Row 3 Row 3   Row 3\u21b5Row 4 Row 4   Row 4\u21b5Row 5 Row 5   Row 5\u21b5Row 6 Row 6   Row 6\"\ninputMode: \"\"\nisConnected: true\nisContentEditable: false\nlang: \"\"\nlastChild: tbody\nlastElementChild: tbody\nlocalName: \"table\"\nnamespaceURI: \"http://www.w3.org/1999/xhtml\"\nnextElementSibling: null\nnextSibling: null\nnodeName: \"TABLE\"\nnodeType: 1\nnodeValue: null\nnonce: \"\"\noffsetHeight: 140\noffsetLeft: 16\noffsetParent: mat-card.mat-card\noffsetTop: 16\noffsetWidth: 180\nouterHTML: \"&lt;table _ngcontent-eks-c6=\"\" id=\"contentToConvert\"&gt;&lt;tbody _ngcontent-eks-c6=\"\"&gt;&lt;tr _ngcontent-eks-c6=\"\"&gt;&lt;th _ngcontent-eks-c6=\"\"&gt;Column1&lt;/th&gt;&lt;th _ngcontent-eks-c6=\"\"&gt;Column2&lt;/th&gt;&lt;th _ngcontent-eks-c6=\"\"&gt;Column3&lt;/th&gt;&lt;/tr&gt;&lt;tr _ngcontent-eks-c6=\"\"&gt;&lt;td _ngcontent-eks-c6=\"\"&gt;Row 1&lt;/td&gt;&lt;td _ngcontent-eks-c6=\"\"&gt;Row 1&lt;/td&gt;&lt;td _ngcontent-eks-c6=\"\"&gt;Row 1&lt;/td&gt;&lt;/tr&gt;&lt;tr _ngcontent-eks-c6=\"\"&gt;&lt;td _ngcontent-eks-c6=\"\"&gt;Row 2&lt;/td&gt;&lt;td _ngcontent-eks-c6=\"\"&gt;Row 2&lt;/td&gt;&lt;td _ngcontent-eks-c6=\"\"&gt;Row 2&lt;/td&gt;&lt;/tr&gt;&lt;tr _ngcontent-eks-c6=\"\"&gt;&lt;td _ngcontent-eks-c6=\"\"&gt;Row 3&lt;/td&gt;&lt;td _ngcontent-eks-c6=\"\"&gt;Row 3&lt;/td&gt;&lt;td _ngcontent-eks-c6=\"\"&gt;Row 3&lt;/td&gt;&lt;/tr&gt;&lt;tr _ngcontent-eks-c6=\"\"&gt;&lt;td _ngcontent-eks-c6=\"\"&gt;Row 4&lt;/td&gt;&lt;td _ngcontent-eks-c6=\"\"&gt;Row 4&lt;/td&gt;&lt;td _ngcontent-eks-c6=\"\"&gt;Row 4&lt;/td&gt;&lt;/tr&gt;&lt;tr _ngcontent-eks-c6=\"\"&gt;&lt;td _ngcontent-eks-c6=\"\"&gt;Row 5&lt;/td&gt;&lt;td _ngcontent-eks-c6=\"\"&gt;Row 5&lt;/td&gt;&lt;td _ngcontent-eks-c6=\"\"&gt;Row 5&lt;/td&gt;&lt;/tr&gt;&lt;tr _ngcontent-eks-c6=\"\"&gt;&lt;td _ngcontent-eks-c6=\"\"&gt;Row 6&lt;/td&gt;&lt;td _ngcontent-eks-c6=\"\"&gt;Row 6&lt;/td&gt;&lt;td _ngcontent-eks-c6=\"\"&gt;Row 6&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;\"\nouterText: \"Column1 Column2 Column3\u21b5Row 1   Row 1   Row 1\u21b5Row 2 Row 2   Row 2\u21b5Row 3 Row 3   Row 3\u21b5Row 4 Row 4   Row 4\u21b5Row 5 Row 5   Row 5\u21b5Row 6 Row 6   Row 6\"\nownerDocument: document\nparentElement: mat-card.mat-card\nparentNode: mat-card.mat-card\npart: DOMTokenList [value: \"\"]\nprefix: null\npreviousElementSibling: null\npreviousSibling: null\nrows: HTMLCollection(7) [tr, tr, tr, tr, tr, tr, tr]\nrules: \"\"\nscrollHeight: 140\nscrollLeft: 0\nscrollTop: 0\nscrollWidth: 180\nshadowRoot: null\nslot: \"\"\nspellcheck: true\nstyle: CSSStyleDeclaration {alignContent: \"\", alignItems: \"\", alignSelf: \"\", alignmentBaseline: \"\", all: \"\", \u2026}\nsummary: \"\"\ntBodies: HTMLCollection [tbody]\ntFoot: null\ntHead: null\ntabIndex: -1\ntagName: \"TABLE\"\ntextContent: \"Column1Column2Column3Row 1Row 1Row 1Row 2Row 2Row 2Row 3Row 3Row 3Row 4Row 4Row 4Row 5Row 5Row 5Row 6Row 6Row 6\"\ntitle: \"\"\ntranslate: true\nwidth: \"\"\n__proto__: HTMLTableElement\n</code></pre>\n\n<p>Seems that operation getElementById is ok, i don't understand.</p>\n\n<p>thanks in advance.\nFilippo</p>\n"}, {"tags": ["typescript"], "comments": [{"owner": {"reputation": 1574, "user_id": 3977134, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/103abcff33337fc9d15ed8ed5fd77bf9?s=128&d=identicon&r=PG&f=1", "display_name": "r3dst0rm", "link": "https://stackoverflow.com/users/3977134/r3dst0rm"}, "edited": false, "score": 0, "creation_date": 1575457288, "post_id": 59174372, "comment_id": 104570798, "body": "What&#39;s the interface/type of <code>VerifierOptions</code>?"}, {"owner": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 2, "creation_date": 1575457309, "post_id": 59174372, "comment_id": 104570805, "body": "Because the <code>logLevel</code> in a <code>VerifierOptions</code> isn&#39;t just <code>string</code>, it&#39;s a <a href=\"https://www.typescriptlang.org/docs/handbook/advanced-types.html#string-literal-types\" rel=\"nofollow noreferrer\">string literal type</a>."}, {"owner": {"reputation": 25462, "user_id": 1137669, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/ynWJw.jpg?s=128&g=1", "display_name": "basickarl", "link": "https://stackoverflow.com/users/1137669/basickarl"}, "reply_to_user": {"reputation": 1574, "user_id": 3977134, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/103abcff33337fc9d15ed8ed5fd77bf9?s=128&d=identicon&r=PG&f=1", "display_name": "r3dst0rm", "link": "https://stackoverflow.com/users/3977134/r3dst0rm"}, "edited": false, "score": 0, "creation_date": 1575457616, "post_id": 59174372, "comment_id": 104570959, "body": "@r3dst0rm Why would that matter? It&#39;s telling me that the type of the property is incompatible?"}, {"owner": {"reputation": 1574, "user_id": 3977134, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/103abcff33337fc9d15ed8ed5fd77bf9?s=128&d=identicon&r=PG&f=1", "display_name": "r3dst0rm", "link": "https://stackoverflow.com/users/3977134/r3dst0rm"}, "reply_to_user": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 1, "creation_date": 1575457906, "post_id": 59174372, "comment_id": 104571114, "body": "Well, I did think in the wrong direction at first. As @jonrsharpe already mentioned. It&#39;s because your <code>opts</code> object has <code>logLevel</code> set to: type <code>string</code>. But your <code>VerifierOptions</code> do have a <code>string literal type</code> which does not match. Fixable by: <code>const opts: VerifierOptions = { ... }</code>"}, {"owner": {"reputation": 1574, "user_id": 3977134, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/103abcff33337fc9d15ed8ed5fd77bf9?s=128&d=identicon&r=PG&f=1", "display_name": "r3dst0rm", "link": "https://stackoverflow.com/users/3977134/r3dst0rm"}, "edited": false, "score": 0, "creation_date": 1575457989, "post_id": 59174372, "comment_id": 104571165, "body": "You can have a look at my sketch here: <a href=\"https://www.typescriptlang.org/play/#code/JYOwLgpgTgZghgYwgAgGrWDY0DyAHMYAexAGdkBvZAGyIHMAZCANwmoC5kAiUGIr5AB9u0KESgCAvgG4AsACgFCEqTDIAHsgC8lBchr0mrDsgDkvIqYA0CyQoUwAriASESyMEQBCEAMJxqaggAEwAKIgJiMk50KExsKHw3MgBKXXl9KAgwRygQDyhHCDl5O0V5Tx9-QJDQ9RSSpRU1AE8YjCxcSJVtdP1aRhY2Th4QPi5bewrvPwCgsJaGoA\" rel=\"nofollow noreferrer\">typescriptlang.org/play/#code/&hellip;</a>"}, {"owner": {"reputation": 25462, "user_id": 1137669, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/ynWJw.jpg?s=128&g=1", "display_name": "basickarl", "link": "https://stackoverflow.com/users/1137669/basickarl"}, "reply_to_user": {"reputation": 1574, "user_id": 3977134, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/103abcff33337fc9d15ed8ed5fd77bf9?s=128&d=identicon&r=PG&f=1", "display_name": "r3dst0rm", "link": "https://stackoverflow.com/users/3977134/r3dst0rm"}, "edited": false, "score": 0, "creation_date": 1575458387, "post_id": 59174372, "comment_id": 104571333, "body": "@r3dst0rm Thanks man. It was indeed because of the string literal."}, {"owner": {"reputation": 25462, "user_id": 1137669, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/ynWJw.jpg?s=128&g=1", "display_name": "basickarl", "link": "https://stackoverflow.com/users/1137669/basickarl"}, "reply_to_user": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 0, "creation_date": 1575458726, "post_id": 59174372, "comment_id": 104571486, "body": "@jonrsharpe You were correct dude!"}], "answers": [{"comments": [{"owner": {"reputation": 1796, "user_id": 9955460, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8554e7f4c93d6a15bf478e1e64e0e131?s=128&d=identicon&r=PG&f=1", "display_name": "Juraj Kocan", "link": "https://stackoverflow.com/users/9955460/juraj-kocan"}, "edited": false, "score": 1, "creation_date": 1575458836, "post_id": 59174909, "comment_id": 104571542, "body": "as typescript said: &quot; Type &#39;string&#39; is not assignable to type &#39;&quot;error&quot; | &quot;trace&quot; | &quot;debug&quot; | &quot;info&quot; | &quot;warn&quot; | &quot;fatal&quot; | undefined&#39;.&quot;... message is not misleading. you just didnt understand that error"}, {"owner": {"reputation": 1574, "user_id": 3977134, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/103abcff33337fc9d15ed8ed5fd77bf9?s=128&d=identicon&r=PG&f=1", "display_name": "r3dst0rm", "link": "https://stackoverflow.com/users/3977134/r3dst0rm"}, "edited": false, "score": 1, "creation_date": 1575473010, "post_id": 59174909, "comment_id": 104579716, "body": "Just to complete the above. Using <code>someVar as VerifierOptions[&#39;logLevel&#39;]</code> does turn off the type check here. Means, setting something like: <code>logLevel: &quot;thisWillBreakMuhahahaha&quot; as VerifierOptions[&#39;logLevel&#39;]</code> would compile correctly but could result in a runtime error under circumstances. Therefore the first approach is 100% type-safe (and would complain about issues at compile time) whereas the latter one is not."}, {"owner": {"reputation": 25462, "user_id": 1137669, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/ynWJw.jpg?s=128&g=1", "display_name": "basickarl", "link": "https://stackoverflow.com/users/1137669/basickarl"}, "reply_to_user": {"reputation": 1796, "user_id": 9955460, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8554e7f4c93d6a15bf478e1e64e0e131?s=128&d=identicon&r=PG&f=1", "display_name": "Juraj Kocan", "link": "https://stackoverflow.com/users/9955460/juraj-kocan"}, "edited": false, "score": 0, "creation_date": 1575474107, "post_id": 59174909, "comment_id": 104580348, "body": "@JurajKocan So why didn&#39;t the compiler know the naming of type: <code>&#39;&quot;error&quot; | &quot;trace&quot; | &quot;debug&quot; | &quot;info&quot; | &quot;warn&quot; | &quot;fatal&quot; | undefined&#39;.</code> ?"}, {"owner": {"reputation": 25462, "user_id": 1137669, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/ynWJw.jpg?s=128&g=1", "display_name": "basickarl", "link": "https://stackoverflow.com/users/1137669/basickarl"}, "reply_to_user": {"reputation": 1574, "user_id": 3977134, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/103abcff33337fc9d15ed8ed5fd77bf9?s=128&d=identicon&r=PG&f=1", "display_name": "r3dst0rm", "link": "https://stackoverflow.com/users/3977134/r3dst0rm"}, "edited": false, "score": 0, "creation_date": 1575474233, "post_id": 59174909, "comment_id": 104580445, "body": "@r3dst0rm I am using the third approach in my application due to the value coming in from an environmental variable so it cannot be a string literal in my case."}, {"owner": {"reputation": 1574, "user_id": 3977134, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/103abcff33337fc9d15ed8ed5fd77bf9?s=128&d=identicon&r=PG&f=1", "display_name": "r3dst0rm", "link": "https://stackoverflow.com/users/3977134/r3dst0rm"}, "edited": false, "score": 0, "creation_date": 1575476782, "post_id": 59174909, "comment_id": 104582024, "body": "If it&#39;s possible in your case, you can change the type of <code>logLevel</code> to an enum (as it seems VerifierOptions are under your control). Which would allow you to parse the string, and therefore keep your typesafety. As sketched here: <a href=\"https://codesandbox.io/s/zx1c0\" rel=\"nofollow noreferrer\">codesandbox.io/s/zx1c0</a>"}, {"owner": {"reputation": 1796, "user_id": 9955460, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8554e7f4c93d6a15bf478e1e64e0e131?s=128&d=identicon&r=PG&f=1", "display_name": "Juraj Kocan", "link": "https://stackoverflow.com/users/9955460/juraj-kocan"}, "edited": false, "score": 0, "creation_date": 1575529166, "post_id": 59174909, "comment_id": 104598977, "body": "@KarlMorrison compiler didn&#39;t know that you want to use string literal as typeof VerifierOptions[&#39;logLevel&#39;]. in your case it was just string."}], "tags": [], "owner": {"reputation": 25462, "user_id": 1137669, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/ynWJw.jpg?s=128&g=1", "display_name": "basickarl", "link": "https://stackoverflow.com/users/1137669/basickarl"}, "is_accepted": false, "score": 0, "last_activity_date": 1575474188, "last_edit_date": 1575474188, "creation_date": 1575458618, "answer_id": 59174909, "question_id": 59174372, "link": "https://stackoverflow.com/questions/59174372/type-string-is-not-assignable-to-type/59174909#59174909", "title": "Type &#39;string&#39; is not assignable to type", "body": "<p>As the comments under the question suggested it was because of <code>string</code> vs string literal.</p>\n\n<p>There are two/three ways to solve this:</p>\n\n<pre><code>// Type safe approach\nconst opts: VerifierOptions = {\n    provider: 'SG',\n    logLevel: 'info',\n</code></pre>\n\n<p>Or:</p>\n\n<pre><code>// Not type safe approach\nconst opts = {\n    provider: 'SG',\n    logLevel: 'info' as VerifierOptions['logLevel'],\n</code></pre>\n\n<p>And if you need to use a variable:</p>\n\n<pre><code>// Not type safe approach\nconst opts = {\n    provider: 'SG',\n    logLevel: someVar as VerifierOptions['logLevel'],\n</code></pre>\n"}], "owner": {"reputation": 25462, "user_id": 1137669, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/ynWJw.jpg?s=128&g=1", "display_name": "basickarl", "link": "https://stackoverflow.com/users/1137669/basickarl"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 728, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1575474188, "creation_date": 1575456978, "question_id": 59174372, "link": "https://stackoverflow.com/questions/59174372/type-string-is-not-assignable-to-type", "title": "Type &#39;string&#39; is not assignable to type", "body": "<pre><code>const opts = {\n    provider: 'SG',\n    logLevel: 'info', // &lt;--- here is what the error is referring to\n    providerBaseUrl:\n    ...\n</code></pre>\n\n<p>Error:</p>\n\n<pre><code>test/contract/api.provider.spec.ts:81:47 - error TS2345: Argument of type '{ provider: string; logLevel: string; providerBaseUrl: string; stateHandlers: { 'Has list of stations': () =&gt; Promise&lt;string&gt;; 'Has list of terminals': () =&gt; Promise&lt;string&gt;; 'Has list of centerlines': () =&gt; Promise&lt;...&gt;; }; ... 5 more ...; providerVersion: string; }' is not assignable to parameter of type 'VerifierOptions'.\n  Types of property 'logLevel' are incompatible.\n    Type 'string' is not assignable to type '\"error\" | \"trace\" | \"debug\" | \"info\" | \"warn\" | \"fatal\" | undefined'.\n\n81             const output = await new Verifier(opts).verifyProvider();\n                                                 ~~~~\n\n\nFound 1 error.\n</code></pre>\n\n<p>Why is TypeScript complaining. I'm obviously setting a string value for that property.</p>\n"}, {"tags": ["typescript"], "comments": [{"owner": {"reputation": 6901, "user_id": 7436489, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d3f27318e4582da71b5ed0f0dc453100?s=128&d=identicon&r=PG&f=1", "display_name": "Roberto Zvjerkovi\u0107", "link": "https://stackoverflow.com/users/7436489/roberto-zvjerkovi%c4%87"}, "edited": false, "score": 0, "creation_date": 1575455952, "post_id": 59173980, "comment_id": 104570076, "body": "<a href=\"https://spin.atomicobject.com/2017/10/07/absolute-paths-javascript/\" rel=\"nofollow noreferrer\">spin.atomicobject.com/2017/10/07/absolute-paths-javascript</a>"}], "answers": [{"tags": [], "owner": {"reputation": 839, "user_id": 6354805, "user_type": "registered", "accept_rate": 70, "profile_image": "https://lh3.googleusercontent.com/-a5GHGYYgyd4/AAAAAAAAAAI/AAAAAAAAcog/JCIIoDbwVAY/photo.jpg?sz=128", "display_name": "Neel Kamath", "link": "https://stackoverflow.com/users/6354805/neel-kamath"}, "is_accepted": true, "score": 1, "last_activity_date": 1575457133, "creation_date": 1575457133, "answer_id": 59174419, "question_id": 59173980, "link": "https://stackoverflow.com/questions/59173980/is-there-a-way-in-typescript-to-make-a-namespace-global/59174419#59174419", "title": "Is there a way in Typescript to make a namespace global?", "body": "<p>No, it would be a nightmare to find where that file is coming from if you haven't specified the path correctly. And having it be imported even without an <code>import</code> would be even worse. The \"clean\" way of importing is the way you are currently doing it.</p>\n"}], "owner": {"reputation": 1151, "user_id": 4214922, "user_type": "registered", "accept_rate": 57, "profile_image": "https://graph.facebook.com/100003077452923/picture?type=large", "display_name": "Mike Ottink", "link": "https://stackoverflow.com/users/4214922/mike-ottink"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 28, "favorite_count": 0, "accepted_answer_id": 59174419, "answer_count": 1, "score": -1, "last_activity_date": 1576694158, "creation_date": 1575455735, "last_edit_date": 1576694158, "question_id": 59173980, "link": "https://stackoverflow.com/questions/59173980/is-there-a-way-in-typescript-to-make-a-namespace-global", "title": "Is there a way in Typescript to make a namespace global?", "body": "<p>I have an Input module that needs to be accessible globally, is it possible to make the import a bit cleaner. Currently, I would have to import it like this <code>import { Input } from \"./Input/Input\";</code> Is there a way to not have to define the path for modules that have an abstract class? So it would look more like this <code>import { Input } from \"Input\";</code> no matter where the module is in the project? Or maybe not even an import at all?</p>\n\n<pre><code>import { KeyboardInput } from \"./KeyboardInput\";\nimport { TouchInput } from \"./TouchInput\";\nimport { MouseInput } from \"./MouseInput\";\n\nabstract class Input {\n    static keyboard: KeyboardInput;\n    static touchInput: TouchInput;\n    static mouseInput: MouseInput;\n\n    static initialize() {\n        Input.keyboard = new KeyboardInput();\n        Input.touchInput = new TouchInput();\n        Input.mouseInput = new MouseInput();\n    }\n}\n\nexport { Input };\n</code></pre>\n"}, {"tags": ["javascript", "angular", "typescript"], "comments": [{"owner": {"reputation": 1125, "user_id": 12130501, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-UKDZ5pOqWow/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcaXx5P-3Kgn-EBgT2_TibEvDndQA/photo.jpg?sz=128", "display_name": "Mridul", "link": "https://stackoverflow.com/users/12130501/mridul"}, "edited": false, "score": 0, "creation_date": 1575455670, "post_id": 59173878, "comment_id": 104569928, "body": "proposalRequest.subscribe(response =&gt; (this.proposal = response.json())); what&#39;s the response ?"}, {"owner": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 0, "creation_date": 1575455875, "post_id": 59173878, "comment_id": 104570038, "body": "You have marked <code>proposal</code> as an <code>@Input</code>, but actually seem to be getting it from the service; that&#39;s likely unrelated to the problem, but is a bit confusing."}, {"owner": {"reputation": 98, "user_id": 5316226, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/PwpJ8.jpg?s=128&g=1", "display_name": "IsolatePy", "link": "https://stackoverflow.com/users/5316226/isolatepy"}, "reply_to_user": {"reputation": 1125, "user_id": 12130501, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-UKDZ5pOqWow/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcaXx5P-3Kgn-EBgT2_TibEvDndQA/photo.jpg?sz=128", "display_name": "Mridul", "link": "https://stackoverflow.com/users/12130501/mridul"}, "edited": false, "score": 0, "creation_date": 1575456864, "post_id": 59173878, "comment_id": 104570572, "body": "@Mridul I&#39;ve updated the error code"}], "answers": [{"comments": [{"owner": {"reputation": 98, "user_id": 5316226, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/PwpJ8.jpg?s=128&g=1", "display_name": "IsolatePy", "link": "https://stackoverflow.com/users/5316226/isolatepy"}, "edited": false, "score": 0, "creation_date": 1575478238, "post_id": 59174963, "comment_id": 104582876, "body": "Works like charm , Thanks &lt;3"}], "tags": [], "owner": {"reputation": 2396, "user_id": 7547379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/93d2af3a4c5cbf1b51597570ad0cd638?s=128&d=identicon&r=PG&f=1", "display_name": "Vadi", "link": "https://stackoverflow.com/users/7547379/vadi"}, "is_accepted": true, "score": 1, "last_activity_date": 1575459322, "last_edit_date": 1575459322, "creation_date": 1575458772, "answer_id": 59174963, "question_id": 59173878, "link": "https://stackoverflow.com/questions/59173878/angular-8-problem-on-showing-list-with-api/59174963#59174963", "title": "Angular 8 problem on showing list with api", "body": "<blockquote>\n  <p>core.js:6014 ERROR TypeError: response.json is not a function</p>\n</blockquote>\n\n<p>You're using <code>HttpClient</code>, so there's no need to call <code>json</code> on the response, because it's already called (by Angular HttpClient). Try: </p>\n\n<pre><code>proposalRequest.subscribe(response =&gt; this.proposal = response);\n</code></pre>\n"}], "owner": {"reputation": 98, "user_id": 5316226, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/PwpJ8.jpg?s=128&g=1", "display_name": "IsolatePy", "link": "https://stackoverflow.com/users/5316226/isolatepy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 393, "favorite_count": 0, "accepted_answer_id": 59174963, "answer_count": 1, "score": 1, "last_activity_date": 1575459322, "creation_date": 1575455431, "last_edit_date": 1575456842, "question_id": 59173878, "link": "https://stackoverflow.com/questions/59173878/angular-8-problem-on-showing-list-with-api", "title": "Angular 8 problem on showing list with api", "body": "<p>I have a problem in angular 8 with printing my list in page \nhere is my code proposal-component.ts</p>\n\n<pre><code>import { Component, OnInit, Input } from \"@angular/core\";\nimport { ActivatedRoute, Params } from \"@angular/router\";\nimport { Proposal } from \"./proposal\";\nimport { HttpClient } from \"@angular/common/http\";\nimport { Observable } from \"rxjs/Rx\";\nimport { ProposalService } from \"./proposal.service\";\n\n@Component({\n  selector: \"proposal-show\",\n  templateUrl: \"proposal-show.component.html\",\n  styleUrls: [\"proposal-show.component.css\"],\n  providers: [ProposalService]\n})\nexport class ProposalShowComponent implements OnInit {\n  constructor(\n    private http: HttpClient,\n    private route: ActivatedRoute,\n    private proposalService: ProposalService\n  ) {}\n  @Input()\n  proposal: Proposal;\n\n  ngOnInit(): void {\n    let proposalRequest = this.route.params.flatMap((params: Params) =&gt;\n      this.proposalService.getProposal(params[\"id\"])\n    );\n    proposalRequest.subscribe(response =&gt; (this.proposal = response.json()));\n  }\n}\n</code></pre>\n\n<p>this is my proposal.service.ts</p>\n\n<pre><code>import { Injectable } from \"@angular/core\";\nimport { HttpClient } from \"@angular/common/http\";\nimport { Proposal } from \"./proposal\";\nimport { Observable } from \"rxjs/Rx\";\nimport { throwError } from \"rxjs\";\nimport { map } from \"rxjs/operators\";\nimport { retry, catchError } from \"rxjs/operators\";\n\n@Injectable()\nexport class ProposalService {\n  private proposalsUrl = \"http://localhost:3002/proposals\";\n  constructor(private http: HttpClient) {}\n  getProposals(): Observable&lt;Proposal[]&gt; {\n    return this.http.get&lt;Proposal[]&gt;(this.proposalsUrl).catch(this.handleError);\n  }\n  getProposal(id: number) {\n    return this.http.get(this.proposalsUrl + \"/\" + id + \".json\");\n  }\n  handleError(error) {\n    let errorMessage = \"\";\n    if (error.error instanceof ErrorEvent) {\n      // client-side error\n      errorMessage = `Error: ${error.error.message}`;\n    } else {\n      // server-side error\n      errorMessage = `Error Code: ${error.status}\\nMessage: ${error.message}`;\n    }\n    console.error(errorMessage);\n    return throwError(errorMessage);\n  }\n}\n</code></pre>\n\n<p>this is my app.module.ts</p>\n\n<pre><code>import { BrowserModule } from \"@angular/platform-browser\";\nimport { NgModule } from \"@angular/core\";\nimport { FormsModule } from \"@angular/forms\";\nimport { NgbModule } from \"@ng-bootstrap/ng-bootstrap\";\nimport { HttpClientModule } from \"@angular/common/http\";\nimport { AppComponent } from \"./app.component\";\nimport { HomepageComponent } from \"./homepage/homepage.component\";\nimport { AppRoutingModule } from \"./app-routing.module\";\nimport { DocumentsComponent } from \"./documents/documents.component\";\nimport { DocumentService } from \"./documents/document.service\";\nimport { ProposalComponent } from \"./proposal/proposal.component\";\nimport { ProposalNewComponent } from \"./proposal/proposal-new.component\";\nimport { ProposalShowComponent } from \"./proposal/proposal-show.component\";\nimport { ProposalService } from \"./proposal/proposal.service\";\n\nimport {\n  NgbPaginationModule,\n  NgbAlertModule\n} from \"@ng-bootstrap/ng-bootstrap\";\n\n@NgModule({\n  declarations: [\n    AppComponent,\n    HomepageComponent,\n    DocumentsComponent,\n    ProposalComponent,\n    ProposalNewComponent,\n    ProposalShowComponent\n  ],\n  imports: [\n    BrowserModule,\n    AppRoutingModule,\n    FormsModule,\n    NgbModule,\n    NgbPaginationModule,\n    NgbAlertModule,\n    HttpClientModule\n  ],\n  providers: [DocumentService, ProposalService],\n  bootstrap: [AppComponent]\n})\nexport class AppModule {}\n</code></pre>\n\n<p>this is my show page </p>\n\n<pre><code>&lt;div class=\"container\"&gt;\n  &lt;div *ngIf=\"proposal\" class=\"card proposal-card\"&gt;\n    &lt;h1&gt;{{ proposal.customer }}&lt;/h1&gt;\n    &lt;div class=\"col-md-6\"&gt;\n      &lt;div&gt;\n        &lt;p&gt;Hi {{ proposal.customer }},&lt;/p&gt;\n\n        &lt;p&gt;\n          It was a pleasure getting to meet with you and review your project\n          requirements, I believe it is a great fit for the types of\n          applications that I build out. Please feel free to check out some of\n          my past projects\n          &lt;a href=\"{{ proposal.portfolio_url }}\"&gt;here&lt;/a&gt;.\n        &lt;/p&gt;\n\n        &lt;p&gt;\n          To successfully build out the application I will be utilizing\n          {{ proposal.tools }}, and a number of other tools to ensure that the\n          project follows industry wide best practices.\n        &lt;/p&gt;\n\n        &lt;p&gt;\n          Ensuring that you are fully informed is one of my top priorities, so\n          in addition to incorporating everything that we discussed, I will also\n          be creating a project management dashboard and sending you a project\n          update message daily so that you can have a transparent view of the\n          development as it takes place.\n        &lt;/p&gt;\n\n        &lt;p&gt;\n          To accomplish the project and meet the requirements that we discussed,\n          I am estimating that it will take\n          {{ proposal.estimated_hours }} hours in development time to complete.\n          The project should take {{ proposal.weeks_to_complete }} weeks to\n          complete and with my hourly rate of {{ proposal.hourly_rate }}/hour,\n          the estimated total will be\n          {{\n            proposal.hourly_rate * proposal.estimated_hours\n              | currency: \"USD\":true:\".0\"\n          }}.\n        &lt;/p&gt;\n\n        &lt;p&gt;\n          The next step from here is to set up a meeting to finalize the project\n          and sign contracts.\n        &lt;/p&gt;\n\n        &lt;p&gt;I am excited to working with you and build out this project.&lt;/p&gt;\n      &lt;/div&gt;\n    &lt;/div&gt;\n  &lt;/div&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>I have this error on console</p>\n\n<blockquote>\n  <p>core.js:6014 ERROR TypeError: response.json is not a function\n  core.js:6014 ERROR TypeError: this.proposal is not a function\n      at SafeSubscriber._next (proposal-show.component.ts:27)\n      at SafeSubscriber.__tryOrUnsub (Subscriber.js:185)\n      at SafeSubscriber.next (Subscriber.js:124)\n      at Subscriber._next (Subscriber.js:72)\n      at Subscriber.next (Subscriber.js:49)\n      at MergeMapSubscriber.notifyNext (mergeMap.js:69)\n      at InnerSubscriber._next (InnerSubscriber.js:11)\n      at InnerSubscriber.next (Subscriber.js:49)\n      at MapSubscriber._next (map.js:35)\n      at MapSubscriber.next (Subscriber.js:49)</p>\n</blockquote>\n\n<p>Note: The API is working properly and does not have any issues.\nThe API server is on rails</p>\n"}, {"tags": ["json", "angular", "typescript", "object", "nativescript"], "comments": [{"owner": {"reputation": 1557, "user_id": 4906669, "user_type": "registered", "accept_rate": 59, "profile_image": "https://i.stack.imgur.com/Qp4wk.jpg?s=128&g=1", "display_name": "Prabhjot Singh Kainth", "link": "https://stackoverflow.com/users/4906669/prabhjot-singh-kainth"}, "edited": false, "score": 0, "creation_date": 1575455495, "post_id": 59173538, "comment_id": 104569841, "body": "Are you receiving any errors?"}, {"owner": {"reputation": 327, "user_id": 10439861, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-tFvvb4uvSkM/AAAAAAAAAAI/AAAAAAAAAAA/AAN31DX3McviQfxH7jByc6ZLUwF42ZMLrA/mo/photo.jpg?sz=128", "display_name": "nativescript", "link": "https://stackoverflow.com/users/10439861/nativescript"}, "reply_to_user": {"reputation": 1557, "user_id": 4906669, "user_type": "registered", "accept_rate": 59, "profile_image": "https://i.stack.imgur.com/Qp4wk.jpg?s=128&g=1", "display_name": "Prabhjot Singh Kainth", "link": "https://stackoverflow.com/users/4906669/prabhjot-singh-kainth"}, "edited": false, "score": 0, "creation_date": 1575456186, "post_id": 59173538, "comment_id": 104570201, "body": "No. In <code>this.cartlength = cart.length;</code> I get number 2. But I want to get number of product."}, {"owner": {"reputation": 1557, "user_id": 4906669, "user_type": "registered", "accept_rate": 59, "profile_image": "https://i.stack.imgur.com/Qp4wk.jpg?s=128&g=1", "display_name": "Prabhjot Singh Kainth", "link": "https://stackoverflow.com/users/4906669/prabhjot-singh-kainth"}, "edited": false, "score": 0, "creation_date": 1575456357, "post_id": 59173538, "comment_id": 104570305, "body": "simply use cart.StatusDescription[0].products.length for getting the length of 1st products  if you want the total length of all products just use forEach loop."}], "answers": [{"comments": [{"owner": {"reputation": 129, "user_id": 8693921, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0fa5247a8afd239ea79a476b5bcc3774?s=128&d=identicon&r=PG&f=1", "display_name": "arm", "link": "https://stackoverflow.com/users/8693921/arm"}, "reply_to_user": {"reputation": 18991, "user_id": 4235784, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/37b39477142baa729b47de7434341f19?s=128&d=identicon&r=PG&f=1", "display_name": "altocumulus", "link": "https://stackoverflow.com/users/4235784/altocumulus"}, "edited": false, "score": 0, "creation_date": 1575457926, "post_id": 59174518, "comment_id": 104571128, "body": "True, in that case he could just use another reduce for the products array in each pharmacy, edited answer accordingly."}], "tags": [], "owner": {"reputation": 129, "user_id": 8693921, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0fa5247a8afd239ea79a476b5bcc3774?s=128&d=identicon&r=PG&f=1", "display_name": "arm", "link": "https://stackoverflow.com/users/8693921/arm"}, "is_accepted": true, "score": 1, "last_activity_date": 1575457862, "last_edit_date": 1575457862, "creation_date": 1575457451, "answer_id": 59174518, "question_id": 59173538, "link": "https://stackoverflow.com/questions/59173538/show-product-length-when-i-have-json-obj-json-obj-json/59174518#59174518", "title": "Show product.length when I have JSON / OBJ / JSON / OBJ / JSON", "body": "<p>If cart is the array containing all the pharmacies you could use reduce method to determine the total quantity of all products for each pharmacy.</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>this.cartlength = this.cart.reduce((count, pharmacy) =&gt; {\n    count += pharmacy.products.reduce((totalQty, product) =&gt; {\n        return totalQty += product.quantity;\n    }, 0)\n    return count;\n}, 0)\n</code></pre>\n"}], "owner": {"reputation": 327, "user_id": 10439861, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-tFvvb4uvSkM/AAAAAAAAAAI/AAAAAAAAAAA/AAN31DX3McviQfxH7jByc6ZLUwF42ZMLrA/mo/photo.jpg?sz=128", "display_name": "nativescript", "link": "https://stackoverflow.com/users/10439861/nativescript"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 42, "favorite_count": 0, "accepted_answer_id": 59174518, "answer_count": 1, "score": 0, "last_activity_date": 1575461101, "creation_date": 1575454259, "last_edit_date": 1575461101, "question_id": 59173538, "link": "https://stackoverflow.com/questions/59173538/show-product-length-when-i-have-json-obj-json-obj-json", "title": "Show product.length when I have JSON / OBJ / JSON / OBJ / JSON", "body": "<p>I have this JSON</p>\n\n<pre><code>{\n    \"StatusCode\": 0,\n    \"StatusMessage\": \"OK\",\n    \"StatusDescription\": [\n        {\n            \"_id\": \"12123\",\n            \"dateCreated\": \"2019-12-03T13:45:30.418Z\",\n            \"pharmacy_id\": \"011E752345553380ABC13FFA163ECD15\"\n            \"products\": [\n                {\n                    \"productID\": \"1\",\n                    \"quantity\": 3,\n                    \"product_name\": \"BETADINE\",\n                    \"price\": 10\n                },\n                {\n                    \"productID\": \"2\",\n                    \"quantity\": 1,\n                    \"product_name\": \"EUCARBON\",\n                    \"price\": 10\n                }\n            ]\n        },\n        {\n            \"_id\": \"56233\",\n            \"dateCreated\": \"2019-12-04T09:55:21.555Z\",\n            \"pharmacy_id\": \"011E762345552280FBC13FFA163ECD10\"\n            \"products\": [\n                {\n                    \"productID\": \"44\",\n                    \"quantity\": 1,\n                    \"product_name\": \"BETADINE\",\n                    \"price\": 10\n                }\n            ]\n        }\n    ]\n}\n</code></pre>\n\n<p>In this JOSN I want to get length of products. For example in this I have 2 pharmacy and 5 products. I want to show 5 in my shop cart.</p>\n\n<p>So I get this JSON from API with this function:</p>\n\n<pre><code>  public cart: Shop[];\n  cartlength: number;\n\n  ngOnInit(): void {\n        this.shopservice.getShoppingCart().subscribe(\n            cart =&gt; {\n                this.cart = cart;\n                this.cartlength = cart.length;\n            },\n            err =&gt; console.error('errorrrrrrr', err),\n            () =&gt; console.log('error')\n        );\n    }\n</code></pre>\n\n<p>IN HTML:</p>\n\n<pre><code>&lt;ActionItem ios.systemIcon=\"9\" ios.position=\"left\" android.position=\"actionBar\"  [text]='cartlength'&gt;&lt;/ActionItem&gt; \n</code></pre>\n\n<p>Any idea please?</p>\n"}, {"tags": ["javascript", "node.js", "typescript", "profiler"], "owner": {"reputation": 2249, "user_id": 5766143, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/ztzpE.jpg?s=128&g=1", "display_name": "relief.melone", "link": "https://stackoverflow.com/users/5766143/relief-melone"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 253, "favorite_count": 1, "answer_count": 0, "score": 4, "last_activity_date": 1575453868, "creation_date": 1575453868, "question_id": 59173406, "link": "https://stackoverflow.com/questions/59173406/node-js-profiler-everything-in-shared-libraries", "title": "Node.js profiler - Everything in Shared Libraries?", "body": "<p>I am currently doing <a href=\"https://adventofcode.com/\" rel=\"nofollow noreferrer\">Advent Of Code</a> (definately to recommend btw but off topic. However on Day 3 I was pretty unhappy with the performance of my algorithm.</p>\n\n<p>So I started using the built in node profiler to test out where I am wasting time. Here's the link to the repo in case you want to reproduce my steps <a href=\"https://github.com/relief-melone/advent-of-code-2019-typescript\" rel=\"nofollow noreferrer\">advent-of-code-2019-typescript</a>. Also if you do run</p>\n\n<pre class=\"lang-sh prettyprint-override\"><code>npm install\nnpm run build\n</code></pre>\n\n<p>before running the profiler</p>\n\n<h2>Steps to reproduce</h2>\n\n<p>I was following the <a href=\"https://nodejs.org/es/docs/guides/simple-profiling/\" rel=\"nofollow noreferrer\">guide from node.js</a> to analyze my code. So first i ran my Code for Day 3 with the profiler</p>\n\n<pre class=\"lang-sh prettyprint-override\"><code>node --prof ./dist/src/03.01/index.js\nnode --prof-process isolate-xxxxxx-v8.log &gt; processed.txt\n</code></pre>\n\n<p>Now the Output is not really helping   </p>\n\n<p><em>processed.txt [Summary-Section]</em></p>\n\n<pre><code> [Summary]:\n   ticks  total  nonlib   name\n     12    0.0%   70.6%  JavaScript\n      0    0.0%    0.0%  C++\n    344    0.6%  2023.5%  GC\n  56103  100.0%          Shared libraries\n      5    0.0%          Unaccounted\n</code></pre>\n\n<p>As you see practicaly all ticks show up under Shared libraries. My guess is that this happens because index.js imports all the functions it needs and executes them. Practically everything should turn up under JavaScript yet only 12 ticks do.</p>\n\n<p>If I am correct and this is the reason my question would be </p>\n\n<p><strong>How can i resolve the Shared Libaries Section to actually show all the functions being called and their ticks?</strong>   </p>\n\n<h2>Bonus-Question</h2>\n\n<p>I would be happy if my question above was answered but this would help me further. I use TypeScript, so the Profiler runs on the transpiled Code. As a result my functions show up as  and i would have to check in the transpiled code with line refers to which function. Possible but not pretty.</p>\n\n<p><strong>Is there a way to map this to the typescript files?</strong></p>\n"}, {"tags": ["angular", "typescript"], "comments": [{"owner": {"reputation": 57430, "user_id": 3106920, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pO5sC.jpg?s=128&g=1", "display_name": "Poul Kruijt", "link": "https://stackoverflow.com/users/3106920/poul-kruijt"}, "edited": false, "score": 0, "creation_date": 1575453940, "post_id": 59173234, "comment_id": 104568925, "body": "<code>Buffer</code> is not available in frontend JS anyways, so you might want to look at another way to do what you want. Also <code>Buffer.from</code> expects an <code>integer[]</code>, and not a string"}], "answers": [{"tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user9744623"}, "is_accepted": true, "score": 1, "last_activity_date": 1575456508, "creation_date": 1575456508, "answer_id": 59174211, "question_id": 59173234, "link": "https://stackoverflow.com/questions/59173234/error-referenceerror-buffer-is-not-defined-while-ng-build/59174211#59174211", "title": "ERROR ReferenceError: &quot;Buffer is not defined&quot; while `ng build`", "body": "<p>Install Buffer by this command in your machine </p>\n\n<pre><code>npm install Buffer\n</code></pre>\n\n<p>Then you may import Buffer in your register.component.ts as</p>\n\n<pre><code>import * as Buffer from \"Buffer\";\n</code></pre>\n\n<p>Now you can use Buffer, hopefully there would be no problem</p>\n"}], "owner": {"reputation": 57, "user_id": 11993072, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dd43b748e1ae74ffd6f5f975ebe0b3b8?s=128&d=identicon&r=PG&f=1", "display_name": "Ahmad Raza", "link": "https://stackoverflow.com/users/11993072/ahmad-raza"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2310, "favorite_count": 0, "accepted_answer_id": 59174211, "answer_count": 1, "score": 1, "last_activity_date": 1575456508, "creation_date": 1575453373, "question_id": 59173234, "link": "https://stackoverflow.com/questions/59173234/error-referenceerror-buffer-is-not-defined-while-ng-build", "title": "ERROR ReferenceError: &quot;Buffer is not defined&quot; while `ng build`", "body": "<p>I'm trying to use Buffer in my angular component ts for encoding Authorization string.</p>\n\n<p>It is not compiling with <code>ng build</code>. I tried <code>npm i @types/node</code> and added \"node\" to types field in tsconfig.json. But error is still there.</p>\n\n<p><strong><em>Following is error detail:</em></strong></p>\n\n<pre><code>ERROR in src/app/register/register.component.ts(40,29): error TS2591: Cannot find name 'Buffer'. Do you need to install type definitions for node? Try `npm i @types/node` and then add `node` to the types field in your tsconfig.\n</code></pre>\n\n<p><strong><em>Here is code of register.component.ts</em></strong></p>\n\n<pre><code>import { Component, OnInit } from '@angular/core';\nimport { HttpClient, HttpHeaders } from '@angular/common/http';\nimport { User, PricingPlan } from 'api';\nimport * as EmailValidator from 'email-validator';\n\n@Component({\n  selector: 'app-register',\n  templateUrl: './register.component.html',\n  styleUrls: ['./register.component.scss']\n})\nexport class RegisterComponent implements OnInit {\n  model = new User();\n  passwordRepeat = '';\n  pricingPlans: PricingPlan[];\n  userExist = false;\n\n  serverUrl = 'http://127.0.0.1:3000/';\n  registerSuccess = false;\n  registerFailed = false;\n\n  constructor(private http: HttpClient) {}\n\n  ngOnInit() {\n    this.http\n      .get(`${this.serverUrl}pricingplans`)\n      .subscribe((pricingplans: PricingPlan[]) =&gt; {\n        this.pricingPlans = pricingplans;\n      });\n  }\n\n  validateEmail(em) {\n    return EmailValidator.validate(em);\n  }\n\n  validatePasswords() {\n    return this.passwordRepeat === this.model.password;\n  }\n\n  save() {\n    const auth = 'Basic ' + Buffer.from(this.model.email).toString('base64');\n\n    this.http.get(`${this.serverUrl}user`, {\n      headers: {\n        Authorization: auth\n      }\n    }).subscribe((responce: User) =&gt; {\n      this.userExist = (responce.email === this.model.email);\n    });\n\n    if (this.userExist) {\n      return;\n    }\n  }\n}\n</code></pre>\n\n<p><strong><em>Following is my tsconfig.json</em></strong></p>\n\n<pre><code>{\n  \"compileOnSave\": false,\n  \"compilerOptions\": {\n    \"baseUrl\": \"./\",\n    \"outDir\": \"./dist/out-tsc\",\n    \"sourceMap\": true,\n    \"declaration\": false,\n    \"downlevelIteration\": true,\n    \"experimentalDecorators\": true,\n    \"module\": \"esnext\",\n    \"moduleResolution\": \"node\",\n    \"importHelpers\": true,\n    \"target\": \"es2015\",\n    \"typeRoots\": [\n      \"node_modules/@types\"\n    ],\n    \"types\": [\n      \"node\"\n    ],\n    \"lib\": [\n      \"es2018\",\n      \"dom\"\n    ]\n  },\n  \"angularCompilerOptions\": {\n    \"fullTemplateTypeCheck\": true,\n    \"strictInjectionParameters\": true\n  }\n}\n</code></pre>\n"}, {"tags": ["typescript"], "answers": [{"comments": [{"owner": {"reputation": 75, "user_id": 9218881, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FdtQ6.jpg?s=128&g=1", "display_name": "HanQ", "link": "https://stackoverflow.com/users/9218881/hanq"}, "edited": false, "score": 0, "creation_date": 1575530019, "post_id": 59175511, "comment_id": 104599298, "body": "Thanks for your answer.   I went through the issue and  learned to refer to generic types to prevent types on both sides of the equation from resolving to the corresponding union or intersection types when statically checked.But in this case, how do the types on both sides of the equality sign translate in typescript\uff1f"}, {"owner": {"reputation": 28393, "user_id": 5669456, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/aeueo.png?s=128&g=1", "display_name": "ford04", "link": "https://stackoverflow.com/users/5669456/ford04"}, "reply_to_user": {"reputation": 75, "user_id": 9218881, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FdtQ6.jpg?s=128&g=1", "display_name": "HanQ", "link": "https://stackoverflow.com/users/9218881/hanq"}, "edited": false, "score": 0, "creation_date": 1575546781, "post_id": 59175511, "comment_id": 104607432, "body": "Given <code>prev: T</code> with constraint <code>&lt;T extends object&gt;</code> and <code>key</code> with type <code>keyof T</code>, the type of <code>prev[key]</code> in an assignment <code>prev[key] = ...</code> would be just resolved to <code>T[keyof T]</code> and not the intersection of all possible property values (like with non generic types), as the shape of <code>T</code> is unknown and type resolution deferred here. <a href=\"https://www.typescriptlang.org/play/#code/GYVwdgxgLglg9mABMAPAFUQUwB5U2AEwGdE4AjAK02gD4AKABwCdMA3ALkTQEpEBvALAAoRIggIiURAGtMATxIBeRAHlK1KADpZCxi1a8AhiTo64wLtwDaAXQDcw0cDhNEdcWEkz5pCzqK8giKiiMxsVjo2iMqasYgA9PGIUHIMmFwR8uZcUThp0JgEjogAvsJlQkA\" rel=\"nofollow noreferrer\">Example</a>"}, {"owner": {"reputation": 75, "user_id": 9218881, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FdtQ6.jpg?s=128&g=1", "display_name": "HanQ", "link": "https://stackoverflow.com/users/9218881/hanq"}, "edited": false, "score": 0, "creation_date": 1575549931, "post_id": 59175511, "comment_id": 104609106, "body": "Thank you for your explanation.Based on your last comment, <code>a[key]</code> in a assignment <code>prev[key] = a[key]</code> will also be translated to <code>T[keyof T]</code> , assume type of  <code>a</code> same as type of <code>prev</code>  so it can match.Is that right?"}, {"owner": {"reputation": 28393, "user_id": 5669456, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/aeueo.png?s=128&g=1", "display_name": "ford04", "link": "https://stackoverflow.com/users/5669456/ford04"}, "reply_to_user": {"reputation": 75, "user_id": 9218881, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FdtQ6.jpg?s=128&g=1", "display_name": "HanQ", "link": "https://stackoverflow.com/users/9218881/hanq"}, "edited": false, "score": 0, "creation_date": 1575554237, "post_id": 59175511, "comment_id": 104611537, "body": "Yes! Here is what you can do: <a href=\"https://www.typescriptlang.org/play/#code/GYVwdgxgLglg9mABAWwKYCcDmqA8AVRVADylTABMBnROAIwCtVoA+ACigEYAuRPAGkRQATDzwBKRAG8AsAChEiCAkpRBHANKoAntQC8iAPIMmUAHQBrbZXYcJAQ2qtLWuMF5iA2gF0A3HIXAcOiIrEpgKojONG6cmjoSMvIKah7OXoj6wqna6YgA9HmCWgAOqLzZLm546cSl0Kjk-ogAvnLNQA\" rel=\"nofollow noreferrer\">Sample</a>. <a href=\"https://github.com/microsoft/TypeScript/pull/30769#issuecomment-503643456\" rel=\"nofollow noreferrer\">This</a> is another example of your mentioned case."}], "tags": [], "owner": {"reputation": 28393, "user_id": 5669456, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/aeueo.png?s=128&g=1", "display_name": "ford04", "link": "https://stackoverflow.com/users/5669456/ford04"}, "is_accepted": true, "score": 4, "last_activity_date": 1575465234, "last_edit_date": 1575465234, "creation_date": 1575460645, "answer_id": 59175511, "question_id": 59173087, "link": "https://stackoverflow.com/questions/59173087/type-undefined-is-not-assignable-to-type-never/59175511#59175511", "title": "Type &#39;undefined&#39; is not assignable to type &#39;never&#39;", "body": "<p>In TS 3.5 there actually happened a breaking change with the PR <a href=\"https://github.com/microsoft/TypeScript/pull/30769\" rel=\"nofollow noreferrer\">Improve soundness of indexed access types</a>:</p>\n\n<blockquote>\n  <p>When an indexed access T[K] occurs on the source side of a type relationship, it resolves to a union type of the properties selected by T[K], but when it occurs on the target side of a type relationship, it now resolves to an intersection type of the properties selected by T[K]. Previously, the target side would resolve to a union type as well, which is unsound.</p>\n</blockquote>\n\n<p>Carried over to your example, <code>prev[key] = a[key]</code> now emits an error, because <code>key</code> has the union type <code>\"name\" | \"age\"</code> and <code>prev[key]</code> (the target side of the assignment) resolves to an intersection type of all selected properties: <code>A[\"name\"] &amp; A[\"age\"]</code>, which is <code>string &amp; number</code> or in other words <code>never</code> (with <code>prev</code> of type <code>A</code>).</p>\n\n<p>The thought behind this inferred intersection for <code>prev[key]</code> is to ensure that all possible keys <code>\"name\" | \"age\"</code> of <code>prev</code> can be safely written to. If the run-time value of <code>key</code> is <code>age</code>, it would be an error to write a <code>string</code> (the expected property type of <code>name</code>) to it. At compile time with type <code>keyof A</code>, we don't know, what the exact value of <code>key</code> is, so the changes in the PR enforce safer types.</p>\n\n<p>The solution is to introduce generic type parameters for the object (<code>prev</code>) and/or property name(<code>key</code>). Some examples are given <a href=\"https://github.com/microsoft/TypeScript/pull/30769#issuecomment-500913385\" rel=\"nofollow noreferrer\">here</a>, <a href=\"https://github.com/microsoft/TypeScript/pull/30769#issuecomment-498428559\" rel=\"nofollow noreferrer\">here</a> and <a href=\"https://github.com/microsoft/TypeScript/pull/30769#issuecomment-503643456\" rel=\"nofollow noreferrer\">here</a> by the maintainers. I am not sure about your use case, but for example you could rewrite the code like this:</p>\n\n<pre><code>const result: A = (Object.keys(a) as Array&lt;keyof A&gt;).reduce(\n  &lt;K extends keyof A&gt;(prev: A, key: K) =&gt; {\n    // t[key] === 0 would only work for numbers\n    if (a[key] /* || t[key] === 0 */) {\n      prev[key] = a[key]\n    }\n    return prev\n  }, {} as A)\n</code></pre>\n\n<p><a href=\"https://www.typescriptlang.org/play/?ssl=18&amp;ssc=14&amp;pln=11&amp;pc=1#code/JYOwLgpgTgZghgYwgAgILIN4FgBQzkhwC2EA-AFzIDOYUoA5rvnPRJSAK5EBG0uAvrlwIA9iBrI4ldAF5MTAsTbIA5CoA0ClsoBMAZgFCco8WGRQIVDgBsw05HIAUAeW4ArCAjAA6ANYQATypHOABKSSo0KCg4AIAefwCRGDQAPlDvCwATDiRHBTiAaWQIAA9IECzIxOS0xwAHCwA3aXVkRMpC8JlU+Tx8ZAB6QeQwAG1EgF0HGTkABmQAdxEbLOQxawClkShfZBgdgi5eKCoFfGAUkInA6cGAKmQAHyfRm4Dp2fnke8Hw7H6A2QjQgTXen0k4POyEEgPMEDAHCgIGBzQU-DaGH4ETQoSMJioImsEG81hE9EcACkAMrOABy3hodBA9EuAUcFistlCoSAA\" rel=\"nofollow noreferrer\">Playground</a></p>\n"}], "owner": {"reputation": 75, "user_id": 9218881, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FdtQ6.jpg?s=128&g=1", "display_name": "HanQ", "link": "https://stackoverflow.com/users/9218881/hanq"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1472, "favorite_count": 2, "accepted_answer_id": 59175511, "answer_count": 1, "score": 4, "last_activity_date": 1575465234, "creation_date": 1575452944, "last_edit_date": 1575453246, "question_id": 59173087, "link": "https://stackoverflow.com/questions/59173087/type-undefined-is-not-assignable-to-type-never", "title": "Type &#39;undefined&#39; is not assignable to type &#39;never&#39;", "body": "<pre class=\"lang-js prettyprint-override\"><code>interface A {\n  name?: string\n  age: number\n}\n\nvar a: A = {\n  name: '',\n  age: 23\n}\n\nvar result:A = (Object.keys(a) as Array&lt;keyof A&gt;).reduce((prev, key) =&gt; {\n  if (a[key] || a[key] === 0) {\n    prev[key] = a[key] // this reported a error about `Type 'undefined' is not assignable to type 'never'`\n  }\n  return prev\n}, {} as A)\n\nconsole.log(JSON.stringify(result))\n</code></pre>\n\n<p>above is reproduce code.</p>\n\n<p>I found that the code works under typescript@~3.4.0,but does not compileunder typescript@^3.5.0, and I checked the update log between 3.4 and 3.5,but I did not find any references about this.</p>\n\n<p>So I guess if it is because <code>index signature</code> is not set, then:</p>\n\n<pre><code>interface A {\n  name?: string\n  age: number\n  [K:string]:any &lt;-- add this line\n}\n\nvar a: A = {\n  name: '',\n  age: 23\n}\n\nvar result:A = (Object.keys(a) as Array&lt;keyof A&gt;).reduce((prev, key/* validation lost */) =&gt; {\n  if (a[key] || a[key] === 0) {\n    prev[key] = a[key]\n  }\n  return prev\n}, {} as A)\n\nconsole.log(JSON.stringify(result))\n</code></pre>\n\n<p>The previous error disappeared, but the type of <code>key</code> that was the parameter in the <code>reduce</code> callback became <code>string|number</code>, causing the type validation of the key to be lost.</p>\n\n<p>Is this the normal behavior?</p>\n\n<p>if yes, I wonder that how to solve <code>Type 'undefined' is not assignable to type 'never'</code>,and keep the type check for the <code>key</code>.</p>\n"}, {"tags": ["node.js", "angular", "typescript", "express"], "comments": [{"owner": {"reputation": 14058, "user_id": 6139527, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/m3NWl.jpg?s=128&g=1", "display_name": "Nicholas K", "link": "https://stackoverflow.com/users/6139527/nicholas-k"}, "edited": false, "score": 0, "creation_date": 1575451789, "post_id": 59172702, "comment_id": 104567639, "body": "What does <code>this.aliasesService.getAlias(params.id)</code> return?"}, {"owner": {"reputation": 307, "user_id": 9177846, "user_type": "registered", "profile_image": "https://graph.facebook.com/10206906384769550/picture?type=large", "display_name": "Glenn van Acker", "link": "https://stackoverflow.com/users/9177846/glenn-van-acker"}, "edited": false, "score": 1, "creation_date": 1575451812, "post_id": 59172702, "comment_id": 104567650, "body": "you are trying to reference an array of aliases in a property of type alias. either change the property to an array, or have the backend send back a single alias"}, {"owner": {"reputation": 18485, "user_id": 3980621, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/EBFzE.png?s=128&g=1", "display_name": "malbarmavi", "link": "https://stackoverflow.com/users/3980621/malbarmavi"}, "edited": false, "score": 0, "creation_date": 1575451910, "post_id": 59172702, "comment_id": 104567709, "body": "alias must be with type Alias[] not  Alias"}, {"owner": {"reputation": 871364, "user_id": 157247, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/4HovX.jpg?s=128&g=1", "display_name": "T.J. Crowder", "link": "https://stackoverflow.com/users/157247/t-j-crowder"}, "edited": false, "score": 0, "creation_date": 1575452013, "post_id": 59172702, "comment_id": 104567776, "body": "Please see <a href=\"https://stackoverflow.com/questions/59159035/get-array-from-response-instead-of-object#comment104542867_59159035\">my comment</a> on <a href=\"https://stackoverflow.com/q/59159035/157247\">your last question about this</a>. Names matter. Using <code>alias</code> when you mean <code>aliases</code> is a problem you need to fix. Similarly, I strongly recommend using a meaningful name, not <code>res</code>, for the parameter of your <code>observe</code> callback. Make sure it matches what&#39;s being provided (<code>alias</code> for one alias, <code>aliases</code> for more than one). It will help you avoid these problems."}, {"owner": {"reputation": 11, "user_id": 12474254, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/12583270bebfa1918010f34c4d907cf0?s=128&d=identicon&r=PG&f=1", "display_name": "MarrZZ", "link": "https://stackoverflow.com/users/12474254/marrzz"}, "reply_to_user": {"reputation": 14058, "user_id": 6139527, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/m3NWl.jpg?s=128&g=1", "display_name": "Nicholas K", "link": "https://stackoverflow.com/users/6139527/nicholas-k"}, "edited": false, "score": 0, "creation_date": 1575453405, "post_id": 59172702, "comment_id": 104568584, "body": "@NicholasK it returns a single Alias"}], "answers": [{"comments": [{"owner": {"reputation": 11, "user_id": 12474254, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/12583270bebfa1918010f34c4d907cf0?s=128&d=identicon&r=PG&f=1", "display_name": "MarrZZ", "link": "https://stackoverflow.com/users/12474254/marrzz"}, "edited": false, "score": 0, "creation_date": 1575453731, "post_id": 59172768, "comment_id": 104568800, "body": "it works but now &quot;res&quot;  returns object Object instead of array. So I can&#39;t display it"}, {"owner": {"reputation": 548, "user_id": 12469950, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dc559d7416d86f010be37e0207aab3e1?s=128&d=identicon&r=PG&f=1", "display_name": "Showy", "link": "https://stackoverflow.com/users/12469950/showy"}, "reply_to_user": {"reputation": 11, "user_id": 12474254, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/12583270bebfa1918010f34c4d907cf0?s=128&d=identicon&r=PG&f=1", "display_name": "MarrZZ", "link": "https://stackoverflow.com/users/12474254/marrzz"}, "edited": false, "score": 0, "creation_date": 1575454704, "post_id": 59172768, "comment_id": 104569384, "body": "@MarrZZ show me your html code and console.log the &quot;res&quot;"}], "tags": [], "owner": {"reputation": 548, "user_id": 12469950, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dc559d7416d86f010be37e0207aab3e1?s=128&d=identicon&r=PG&f=1", "display_name": "Showy", "link": "https://stackoverflow.com/users/12469950/showy"}, "is_accepted": false, "score": 2, "last_activity_date": 1575452530, "last_edit_date": 1575452530, "creation_date": 1575451968, "answer_id": 59172768, "question_id": 59172702, "link": "https://stackoverflow.com/questions/59172702/type-alias-has-no-properties-in-common-with-type-alias/59172768#59172768", "title": "Type &#39;Alias[]&#39; has no properties in common with type &#39;Alias&#39;", "body": "<p>Change this:</p>\n\n<pre><code>getAlias(id: string): Observable&lt;Alias[]&gt; {\n  return this.http.get&lt;Alias[]&gt;(`${this.API_URI}/aliases/${id}`);\n}\n</code></pre>\n\n<p>To this:</p>\n\n<pre><code>//I guess this api returns a single Alias\ngetAlias(id: string): Observable&lt;Alias&gt; {\n  return this.http.get&lt;Alias&gt;(`${this.API_URI}/aliases/${id}`);\n}\n</code></pre>\n\n<p><strong>EDIT:</strong></p>\n\n<p>By the way, you can simplify your code like this</p>\n\n<p>From:</p>\n\n<pre><code>alias: Alias = {\n  id: 0,\n  domain_id: 0,\n  source: '',\n  destination: ''\n};\n</code></pre>\n\n<p>To:</p>\n\n<pre><code>alias: Alias = {} as Alias; //it's the same thing\n</code></pre>\n"}], "owner": {"reputation": 11, "user_id": 12474254, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/12583270bebfa1918010f34c4d907cf0?s=128&d=identicon&r=PG&f=1", "display_name": "MarrZZ", "link": "https://stackoverflow.com/users/12474254/marrzz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 61, "favorite_count": 0, "answer_count": 1, "score": -3, "last_activity_date": 1575452530, "creation_date": 1575451711, "question_id": 59172702, "link": "https://stackoverflow.com/questions/59172702/type-alias-has-no-properties-in-common-with-type-alias", "title": "Type &#39;Alias[]&#39; has no properties in common with type &#39;Alias&#39;", "body": "<p>I got an error: </p>\n\n<blockquote>\n  <p>Type 'Alias[]' has no properties in common with type 'Alias'</p>\n</blockquote>\n\n<p>This is my Alias</p>\n\n<pre><code>  alias: Alias = {\n    id: 0,\n    domain_id: 0,\n    source: '',\n    destination: ''\n  };\n</code></pre>\n\n<p>This is my Alias model</p>\n\n<pre><code>export interface Alias {\n    id?: number;\n    domain_id?: number;\n    source?: string;\n    destination?: string;\n}\n</code></pre>\n\n<p>and I go error here in line with this.alias = res </p>\n\n<pre><code>  ngOnInit() {\n    const params = this.activedRoute.snapshot.params.id;\n    console.log('parms '+params);\n    if (params.id) {\n      this.aliasesService.getAlias(params.id).subscribe(\n        res =&gt; {\n          this.alias = res;\n          this.edit = true;\n        },\n        err =&gt; console.error(err)\n      );\n    }\n  }\n</code></pre>\n\n<p>And there is my service</p>\n\n<pre><code>getAlias(id: string): Observable&lt;Alias[]&gt; {\n    return this.http.get&lt;Alias[]&gt;(`${this.API_URI}/aliases/${id}`);\n  }\n</code></pre>\n\n<p>How can I fix that? </p>\n"}, {"tags": ["reactjs", "typescript", "redux"], "answers": [{"tags": [], "owner": {"reputation": 15749, "user_id": 4420812, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9yQ4D.jpg?s=128&g=1", "display_name": "Maciej Sikora", "link": "https://stackoverflow.com/users/4420812/maciej-sikora"}, "is_accepted": true, "score": 24, "last_activity_date": 1575458059, "last_edit_date": 1575458059, "creation_date": 1575457349, "answer_id": 59174492, "question_id": 59172453, "link": "https://stackoverflow.com/questions/59172453/should-i-pass-useselector-to-usestate/59174492#59174492", "title": "Should I pass useSelector to useState", "body": "<p>The first is invalid. And it is invalid because state from <code>useState</code> is persistent, and the argument which is set in <code>useState</code> is <strong>default</strong> value, what it means is - it will be set only when component mounts for the first time. So changing of the redux state and new value given from <code>useSelector</code> will not effect the local state, it will indicate all the time the original default value. </p>\n\n<p>Answering your question - the answer is not about what I prefer, but what works, the second is just the proper one. However what I would propose here as the best solution from the code perspective is to merge little bit both, in order to avoid setting null as default and setting generic types in <code>useState</code>. Consider following code:</p>\n\n<pre><code>const campaign = useSelector(campaignSelector);\nconst [audienceSample, setAudienceSample] = useState(campaign?.max_completes_total); // set campaign as default\n\nuseEffect(() =&gt; {\n   setAudienceSample(campaign?.max_completes_total)\n},[campaign]) // set the relation between redux campaign and local state\n\n</code></pre>\n\n<p>Additionally as you see I have used <a href=\"https://www.typescriptlang.org/docs/handbook/release-notes/typescript-3-7.html#optional-chaining\" rel=\"noreferrer\">optional chaining</a> in order to simplify the code. The type of the local state will automatically be inferred as <code>number | undefined</code>.</p>\n\n<p>Above all as I understood your case is to have a relation between redux and local state, then the second is the only option. If your intention was to set only the default value, then using <code>useEffect</code> is not needed at all.</p>\n"}], "owner": {"reputation": 191, "user_id": 3943132, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0310731689d6ef4d50a79494df284a33?s=128&d=identicon&r=PG&f=1", "display_name": "Morpheus", "link": "https://stackoverflow.com/users/3943132/morpheus"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 6921, "favorite_count": 1, "accepted_answer_id": 59174492, "answer_count": 1, "score": 13, "last_activity_date": 1575458059, "creation_date": 1575450784, "question_id": 59172453, "link": "https://stackoverflow.com/questions/59172453/should-i-pass-useselector-to-usestate", "title": "Should I pass useSelector to useState", "body": "<p>Hello guys I have question regarding which method you prefer:</p>\n\n<p>In a React functional component with TypeScript, that gets values from Redux State using useSelector is:\n1) </p>\n\n<pre><code> const campaign = useSelector(campaignSelector);\n const [audienceSample, setAudienceSample] = useState&lt;number | null&gt;((campaign || \n  {max_completes_total: null})['max_completes_total']);\n</code></pre>\n\n<p>from \n2) </p>\n\n<pre><code> const campaign = useSelector(campaignSelector);\n  const [audienceSample, setAudienceSample] = useState&lt;number | null&gt;(null);\n  useEffect(() =&gt; {\n    setAudienceSample(campaign.max_completes_total)\n     },[campaign])\n</code></pre>\n\n<p>I know 1 is less code but do you think it is faster and which one would you prefer\nthank you guys</p>\n"}, {"tags": ["javascript", "typescript", "types"], "comments": [{"owner": {"reputation": 253913, "user_id": 9515207, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/34932d3e923ffad9a4a1423e30b1d9fc?s=128&d=identicon&r=PG&f=1", "display_name": "CertainPerformance", "link": "https://stackoverflow.com/users/9515207/certainperformance"}, "edited": false, "score": 0, "creation_date": 1575450786, "post_id": 59172416, "comment_id": 104567122, "body": "Do you mean, when <code>isValid</code> is <code>false</code>?"}, {"owner": {"reputation": 4854, "user_id": 446357, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/2374e43485f6caeb3302e66c327608e2?s=128&d=identicon&r=PG", "display_name": "MTilsted", "link": "https://stackoverflow.com/users/446357/mtilsted"}, "edited": false, "score": 19, "creation_date": 1575490863, "post_id": 59172416, "comment_id": 104588645, "body": "isValid is redundant then. You might as well just have the errorText, and then if errorText is null, there is no error."}, {"owner": {"reputation": 967, "user_id": 1022009, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cffef1f66bc2f960ca74f654f4d9afdc?s=128&d=identicon&r=PG", "display_name": "Arman", "link": "https://stackoverflow.com/users/1022009/arman"}, "reply_to_user": {"reputation": 4854, "user_id": 446357, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/2374e43485f6caeb3302e66c327608e2?s=128&d=identicon&r=PG", "display_name": "MTilsted", "link": "https://stackoverflow.com/users/446357/mtilsted"}, "edited": false, "score": 0, "creation_date": 1575559854, "post_id": 59172416, "comment_id": 104614760, "body": "Yes, @MTilsted, you are right, but we have to keep it because of our legacy codes."}], "answers": [{"comments": [{"owner": {"reputation": 73538, "user_id": 43681, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/6c2dd6a39d3f38f1bb47a8c1fe8325e2?s=128&d=identicon&r=PG", "display_name": "sleske", "link": "https://stackoverflow.com/users/43681/sleske"}, "edited": false, "score": 7, "creation_date": 1575543448, "post_id": 59172570, "comment_id": 104605681, "body": "Nice answer. And fascinating that the compiler can actually tell that <code>r</code> must be of type <code>Invalid</code> here."}, {"owner": {"reputation": 35039, "user_id": 825780, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/9a0aa4140019bfc225ef98d270c00d33?s=128&d=identicon&r=PG", "display_name": "Umur Kontac\u0131", "link": "https://stackoverflow.com/users/825780/umur-kontac%c4%b1"}, "edited": false, "score": 1, "creation_date": 1576798583, "post_id": 59172570, "comment_id": 105023666, "body": "This is called discriminated unions. Pretty cool stuff: <a href=\"https://www.typescriptlang.org/docs/handbook/advanced-types.html#discriminated-unions\" rel=\"nofollow noreferrer\">typescriptlang.org/docs/handbook/&hellip;</a>"}], "tags": [], "owner": {"reputation": 11251, "user_id": 9558399, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/RFQOg.jpg?s=128&g=1", "display_name": "bugs", "link": "https://stackoverflow.com/users/9558399/bugs"}, "is_accepted": true, "score": 94, "last_activity_date": 1575998995, "last_edit_date": 1575998995, "creation_date": 1575451215, "answer_id": 59172570, "question_id": 59172416, "link": "https://stackoverflow.com/questions/59172416/conditional-types-in-typescript/59172570#59172570", "title": "Conditional types in TypeScript", "body": "<p>One way to model this kind of logic is to use a union type, something like this</p>\n\n<pre><code>interface Valid {\n  isValid: true\n}\n\ninterface Invalid {\n  isValid: false\n  errorText: string\n}\n\ntype ValidationResult = Valid | Invalid\n\nconst validate = (n: number): ValidationResult =&gt; {\n  return n === 4 ? { isValid: true } : { isValid: false, errorText: \"num is not 4\" }\n}\n</code></pre>\n\n<p>The compiler is then able to narrow the type down based on the boolean flag</p>\n\n<pre><code>const getErrorTextIfPresent = (r: ValidationResult): string | null =&gt; {\n  return r.isValid ? null : r.errorText\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 253913, "user_id": 9515207, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/34932d3e923ffad9a4a1423e30b1d9fc?s=128&d=identicon&r=PG&f=1", "display_name": "CertainPerformance", "link": "https://stackoverflow.com/users/9515207/certainperformance"}, "is_accepted": false, "score": 43, "last_activity_date": 1575503270, "last_edit_date": 1575503270, "creation_date": 1575451624, "answer_id": 59172678, "question_id": 59172416, "link": "https://stackoverflow.com/questions/59172416/conditional-types-in-typescript/59172678#59172678", "title": "Conditional types in TypeScript", "body": "<p>To avoid creating multiple interfaces which only get used to create a third, you can also alternate directly, with a <code>type</code> instead:</p>\n\n<pre><code>type ValidationResult = {\n    isValid: false;\n    errorText: string;\n} | {\n    isValid: true;\n};\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1513, "user_id": 2044866, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/6b767d0f7110b85046df4be3333d281f?s=128&d=identicon&r=PG", "display_name": "Peilonrayz", "link": "https://stackoverflow.com/users/2044866/peilonrayz"}, "edited": false, "score": 3, "creation_date": 1575547954, "post_id": 59186788, "comment_id": 104608054, "body": "I&#39;m sure these are really helpful at times. But, to me, the syntax looks really nasty."}, {"owner": {"reputation": 6143, "user_id": 778430, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/oyv6J.png?s=128&g=1", "display_name": "KRyan", "link": "https://stackoverflow.com/users/778430/kryan"}, "reply_to_user": {"reputation": 1513, "user_id": 2044866, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/6b767d0f7110b85046df4be3333d281f?s=128&d=identicon&r=PG", "display_name": "Peilonrayz", "link": "https://stackoverflow.com/users/2044866/peilonrayz"}, "edited": false, "score": 3, "creation_date": 1575552251, "post_id": 59186788, "comment_id": 104610447, "body": "@Peilonrayz Eh, it has good consistency with other Typescript coding, and <code>extends</code> is the right operator to use. And it has extremely powerful, particularly since you can also use it to dig into types: <code>type SecondOf&lt;T&gt; = T extends Pair&lt;any, infer U&gt; ? U : never;</code>."}, {"owner": {"reputation": 1513, "user_id": 2044866, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/6b767d0f7110b85046df4be3333d281f?s=128&d=identicon&r=PG", "display_name": "Peilonrayz", "link": "https://stackoverflow.com/users/2044866/peilonrayz"}, "edited": false, "score": 0, "creation_date": 1575706697, "post_id": 59186788, "comment_id": 104662942, "body": "@KRyan I&#39;ve been thinking about that. Does that basically just mean <code>SecondOf&lt;number&gt;</code> &#39;expands&#39; to <code>Pair&lt;any, number&gt;</code>? I guess the saying &quot;don&#39;t judge a book by it&#39;s cover&quot; is pertinent here."}, {"owner": {"reputation": 6143, "user_id": 778430, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/oyv6J.png?s=128&g=1", "display_name": "KRyan", "link": "https://stackoverflow.com/users/778430/kryan"}, "reply_to_user": {"reputation": 1513, "user_id": 2044866, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/6b767d0f7110b85046df4be3333d281f?s=128&d=identicon&r=PG", "display_name": "Peilonrayz", "link": "https://stackoverflow.com/users/2044866/peilonrayz"}, "edited": false, "score": 0, "creation_date": 1576872320, "post_id": 59186788, "comment_id": 105047475, "body": "@Peilonrayz Ah, no; rather the opposite. <code>SecondOf&lt;Pair&lt;any, number&gt;&gt;</code> evaluates to <code>number</code>. <code>SecondOf&lt;number&gt;</code> evaluates to <code>never</code>, because <code>number extends Pair&lt;any, infer U&gt;</code> is false, as <code>number</code> does not extend any <code>Pair</code>"}], "tags": [], "owner": {"reputation": 6143, "user_id": 778430, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/oyv6J.png?s=128&g=1", "display_name": "KRyan", "link": "https://stackoverflow.com/users/778430/kryan"}, "is_accepted": false, "score": 22, "last_activity_date": 1575549066, "last_edit_date": 1575549066, "creation_date": 1575508198, "answer_id": 59186788, "question_id": 59172416, "link": "https://stackoverflow.com/questions/59172416/conditional-types-in-typescript/59186788#59186788", "title": "Conditional types in TypeScript", "body": "<p>The <a href=\"https://stackoverflow.com/a/59172570/778430\">union demonstrated by bugs</a> is how I recommend handling this. Nonetheless, Typescript <strong>does</strong> have something known as \u201c<a href=\"https://www.typescriptlang.org/docs/handbook/advanced-types.html#conditional-types\" rel=\"noreferrer\">conditional types</a>,\u201d and they can handle this.</p>\n\n<pre><code>type ValidationResult&lt;IsValid extends boolean = boolean&gt; = (IsValid extends true\n    ? { isValid: IsValid; }\n    : { isValid: IsValid; errorText: string; }\n);\n\n\ndeclare const validation: ValidationResult;\nif (!validation.isValid) {\n    validation.errorText;\n}\n</code></pre>\n\n<p>This <code>ValidationResult</code> (which is actually <code>ValidationResult&lt;boolean&gt;</code> due to the default parameter) is equivalent to the union produced in bugs\u2019s answer or in <a href=\"https://stackoverflow.com/a/59172678/778430\">CertainPerformance\u2019s answer</a>, and can be used in the same manner.</p>\n\n<p>The advantage here is that you could also pass around a known <code>ValidationResult&lt;false&gt;</code> value, and then you wouldn\u2019t have to test <code>isValid</code> as it would be known to be <code>false</code> and <code>errorString</code> would be known to exist. Probably not necessary for a case like this\u2014and conditional types can be complex and difficult to debug, so they probably shouldn\u2019t be used unnecessarily. But you could, and that seemed worth mentioning.</p>\n"}], "owner": {"reputation": 967, "user_id": 1022009, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cffef1f66bc2f960ca74f654f4d9afdc?s=128&d=identicon&r=PG", "display_name": "Arman", "link": "https://stackoverflow.com/users/1022009/arman"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 5496, "favorite_count": 7, "accepted_answer_id": 59172570, "answer_count": 3, "score": 71, "last_activity_date": 1575998995, "creation_date": 1575450660, "last_edit_date": 1575510204, "question_id": 59172416, "link": "https://stackoverflow.com/questions/59172416/conditional-types-in-typescript", "title": "Conditional types in TypeScript", "body": "<p>I was wondering if I can have conditional types in TypeScript?</p>\n\n<p>Currently I have the following interface:</p>\n\n<pre><code>interface ValidationResult {\n  isValid: boolean;\n  errorText?: string;\n}\n</code></pre>\n\n<p>But I want to remove <code>errorText</code>, and only have it when <code>isValid</code> is <code>false</code> as a <strong>required</strong> property.</p>\n\n<p>I wish I was able to write it as the following interface:</p>\n\n<pre><code>interface ValidationResult {\n  isValid: true;\n}\n\ninterface ValidationResult {\n  isValid: false;\n  errorText: string;\n}\n</code></pre>\n\n<p>But as you know, it is not possible. So, what is your idea about this situation?</p>\n"}, {"tags": ["angular", "typescript", "rxjs"], "comments": [{"owner": {"reputation": 8097, "user_id": 8618350, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d5f100e1a27815164cb9a9bf00487858?s=128&d=identicon&r=PG&f=1", "display_name": "Fan Cheung", "link": "https://stackoverflow.com/users/8618350/fan-cheung"}, "edited": false, "score": 0, "creation_date": 1575450697, "post_id": 59172306, "comment_id": 104567081, "body": "You question here is quite board really"}, {"owner": {"reputation": 14058, "user_id": 6139527, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/m3NWl.jpg?s=128&g=1", "display_name": "Nicholas K", "link": "https://stackoverflow.com/users/6139527/nicholas-k"}, "edited": false, "score": 0, "creation_date": 1575450750, "post_id": 59172306, "comment_id": 104567107, "body": "While we understand that you are new to Angular, you have failed to explain what you are trying to achieve here.."}, {"owner": {"reputation": 319, "user_id": 9741878, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-TWiB1H2wSg8/AAAAAAAAAAI/AAAAAAAAAA8/yzlbvLnvzAs/photo.jpg?sz=128", "display_name": "Torben Van Assche", "link": "https://stackoverflow.com/users/9741878/torben-van-assche"}, "reply_to_user": {"reputation": 14058, "user_id": 6139527, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/m3NWl.jpg?s=128&g=1", "display_name": "Nicholas K", "link": "https://stackoverflow.com/users/6139527/nicholas-k"}, "edited": false, "score": 0, "creation_date": 1575450986, "post_id": 59172306, "comment_id": 104567227, "body": "@NicholasK I am loading data from a json file first, after that is done I need to check  the id that was passed into the router so I can get the right element out of the json file. this data is an interface which is used to apply variables to my html page."}, {"owner": {"reputation": 14058, "user_id": 6139527, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/m3NWl.jpg?s=128&g=1", "display_name": "Nicholas K", "link": "https://stackoverflow.com/users/6139527/nicholas-k"}, "edited": false, "score": 0, "creation_date": 1575451292, "post_id": 59172306, "comment_id": 104567375, "body": "1. What does the json file / response look like? 2. Does your current attempt not work (sorry it isn&#39;t really clear)"}, {"owner": {"reputation": 319, "user_id": 9741878, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-TWiB1H2wSg8/AAAAAAAAAAI/AAAAAAAAAA8/yzlbvLnvzAs/photo.jpg?sz=128", "display_name": "Torben Van Assche", "link": "https://stackoverflow.com/users/9741878/torben-van-assche"}, "reply_to_user": {"reputation": 14058, "user_id": 6139527, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/m3NWl.jpg?s=128&g=1", "display_name": "Nicholas K", "link": "https://stackoverflow.com/users/6139527/nicholas-k"}, "edited": false, "score": 0, "creation_date": 1575451489, "post_id": 59172306, "comment_id": 104567492, "body": "@NicholasK The json file is an array of my IProject interface (that I have edited into my question). The response is working, but I am being told having a subscribe inside another subscribe is bad practice, so I am looking for the proper way to do this one."}, {"owner": {"reputation": 8533, "user_id": 9423231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c54730771ababc9c107cf6dac3087b23?s=128&d=identicon&r=PG&f=1", "display_name": "frido", "link": "https://stackoverflow.com/users/9423231/frido"}, "edited": false, "score": 0, "creation_date": 1575472907, "post_id": 59172306, "comment_id": 104579660, "body": "TypeScript 2.9 allows you to import json files directly. You don&#39;t have to do a http request to get a json file from your assets folder. <a href=\"https://medium.com/@baerree/angular-7-import-json-14f8bba534af\" rel=\"nofollow noreferrer\">medium.com/@baerree/angular-7-import-json-14f8bba534af</a>"}], "answers": [{"comments": [{"owner": {"reputation": 319, "user_id": 9741878, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-TWiB1H2wSg8/AAAAAAAAAAI/AAAAAAAAAA8/yzlbvLnvzAs/photo.jpg?sz=128", "display_name": "Torben Van Assche", "link": "https://stackoverflow.com/users/9741878/torben-van-assche"}, "edited": false, "score": 0, "creation_date": 1575452181, "post_id": 59172761, "comment_id": 104567871, "body": "My route is defined like this  { path: &#39;projectname&#39;, component: ProjectInfoComponent, data: {id: &#39;0&#39;} }, which I subscribe to when the active route changes"}], "tags": [], "owner": {"reputation": 33, "user_id": 1630166, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ad609c1e8274f52ace12af31173450c9?s=128&d=identicon&r=PG", "display_name": "Blazh", "link": "https://stackoverflow.com/users/1630166/blazh"}, "is_accepted": false, "score": 2, "last_activity_date": 1575454986, "last_edit_date": 1575454986, "creation_date": 1575451935, "answer_id": 59172761, "question_id": 59172306, "link": "https://stackoverflow.com/questions/59172306/understanding-rxjs-pipe-and-choosing-the-appropriate-operator-for-it/59172761#59172761", "title": "Understanding RxJs pipe and choosing the appropriate operator for it", "body": "<p>You can use async pipe for that inside the template and avoid subscription inside the component. </p>\n\n<p>In the component you would have:</p>\n\n<pre><code>private project$: Observable&lt;IProject&gt;;\n\n...\nthis.project$ = this.dataReader.getProjects().pipe(map(projects =&gt; projects.find(project =&gt; project.id === id)))\n</code></pre>\n\n<p>Notice that you need to define id property, in your code you are comparing route object with id. Also consider to move that to ngOnInit instead of putting it into the constructor</p>\n\n<p>In the template:</p>\n\n<pre><code>&lt;div *ngIf=\"project$ | async as project\"&gt;\n    {{ project }}\n&lt;/div&gt;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 2346, "user_id": 993328, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a3012905df3539f948994f218db07423?s=128&d=identicon&r=PG", "display_name": "GaurangDhorda", "link": "https://stackoverflow.com/users/993328/gaurangdhorda"}, "is_accepted": false, "score": 1, "last_activity_date": 1575460614, "last_edit_date": 1575460614, "creation_date": 1575451984, "answer_id": 59172771, "question_id": 59172306, "link": "https://stackoverflow.com/questions/59172306/understanding-rxjs-pipe-and-choosing-the-appropriate-operator-for-it/59172771#59172771", "title": "Understanding RxJs pipe and choosing the appropriate operator for it", "body": "<p>In your ngOnInit() first get id of routed path.</p>\n\n<pre><code>ngOnInit(){\n   const id  = this.route.snapshot.paramMap.get('id');\n   this.service.getProjects(id).subscribe(data =&gt;{ this.items = data })\n}\n</code></pre>\n\n<p>then, In your service method is..</p>\n\n<pre><code>getProjects(id){\n   return this.http.get('../../assets/projects.json').pipe(\n      map(projects =&gt; projects.find(project =&gt; project.id === id))\n   );\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 319, "user_id": 9741878, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-TWiB1H2wSg8/AAAAAAAAAAI/AAAAAAAAAA8/yzlbvLnvzAs/photo.jpg?sz=128", "display_name": "Torben Van Assche", "link": "https://stackoverflow.com/users/9741878/torben-van-assche"}, "edited": false, "score": 1, "creation_date": 1575453367, "post_id": 59172947, "comment_id": 104568555, "body": "I am indeed using RxJS 6.4.0, this seems a lot cleaner to use than what I am doing."}, {"owner": {"reputation": 319, "user_id": 9741878, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-TWiB1H2wSg8/AAAAAAAAAAI/AAAAAAAAAA8/yzlbvLnvzAs/photo.jpg?sz=128", "display_name": "Torben Van Assche", "link": "https://stackoverflow.com/users/9741878/torben-van-assche"}, "edited": false, "score": 0, "creation_date": 1575453681, "post_id": 59172947, "comment_id": 104568770, "body": "Should I not save that subscription and unsubscribe in ondestroy though? or is that handled by the GC?"}, {"owner": {"reputation": 26417, "user_id": 10959940, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cfe2af4009a4fe0acb46a707c8d5eab3?s=128&d=identicon&r=PG&f=1", "display_name": "wentjun", "link": "https://stackoverflow.com/users/10959940/wentjun"}, "reply_to_user": {"reputation": 319, "user_id": 9741878, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-TWiB1H2wSg8/AAAAAAAAAAI/AAAAAAAAAA8/yzlbvLnvzAs/photo.jpg?sz=128", "display_name": "Torben Van Assche", "link": "https://stackoverflow.com/users/9741878/torben-van-assche"}, "edited": false, "score": 1, "creation_date": 1575453850, "post_id": 59172947, "comment_id": 104568876, "body": "@TorbenVanAssche yes! You should still unsubscribe, and one way of doing so would be to use the  <code>takeUntil()</code> operator ."}], "tags": [], "owner": {"reputation": 26417, "user_id": 10959940, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cfe2af4009a4fe0acb46a707c8d5eab3?s=128&d=identicon&r=PG&f=1", "display_name": "wentjun", "link": "https://stackoverflow.com/users/10959940/wentjun"}, "is_accepted": true, "score": 1, "last_activity_date": 1575452561, "creation_date": 1575452561, "answer_id": 59172947, "question_id": 59172306, "link": "https://stackoverflow.com/questions/59172306/understanding-rxjs-pipe-and-choosing-the-appropriate-operator-for-it/59172947#59172947", "title": "Understanding RxJs pipe and choosing the appropriate operator for it", "body": "<p>If you are using RxJS 6, the right way would be to make use of pipeable operators. There are multiple ways of approaching this problem.</p>\n\n<p>One way of doing so would have separate chains to handle the observables from both the service method and route, followed by using <a href=\"https://www.learnrxjs.io/operators/combination/combinelatest.html\" rel=\"nofollow noreferrer\">combineLatest</a> to obtain the returned values.</p>\n\n<pre><code>const getProjects$ = dataReader.getProjects();\nconst getRoute$ = getProjects$.pipe(\n  switchMap(user =&gt; route.data)\n);\n\ncombineLatest(getProjects$, getRoute$).pipe(\n  map(([data, result]) =&gt; {\n    // handle the rest here\n    data.projects.forEach(element =&gt; {\n      if (element.route === result.id) {\n        this.project = element;\n      }\n    });\n  }),\n).subscribe();\n</code></pre>\n"}], "owner": {"reputation": 319, "user_id": 9741878, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-TWiB1H2wSg8/AAAAAAAAAAI/AAAAAAAAAA8/yzlbvLnvzAs/photo.jpg?sz=128", "display_name": "Torben Van Assche", "link": "https://stackoverflow.com/users/9741878/torben-van-assche"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 356, "favorite_count": 0, "accepted_answer_id": 59172947, "answer_count": 3, "score": 0, "last_activity_date": 1575460614, "creation_date": 1575450253, "last_edit_date": 1575451748, "question_id": 59172306, "link": "https://stackoverflow.com/questions/59172306/understanding-rxjs-pipe-and-choosing-the-appropriate-operator-for-it", "title": "Understanding RxJs pipe and choosing the appropriate operator for it", "body": "<p>I wrote this code and was promptly told this way of coding is 'not done' in Angular. They told me to research and use RxJs. I am however struggling to understand what I need for my use case. There are so many different options with the pipe operations that I am getting seriously confused about understanding which I need... So after reading through the <a href=\"http://reactivex.io/rxjs/class/es6/Observable.js~Observable.html#instance-method-zip\" rel=\"nofollow noreferrer\">documentation</a> I have come to stack overflow to hopefully get a clearer understanding of how the various pipes would work, and what I would need in my case... </p>\n\n<p>I should note that I have only recently started doing Angular, while I understand the concepts of Observables, I am really struggling with setting up pipes, while they seem to be pretty integral in Angular...</p>\n\n<p>First I am getting my data: </p>\n\n<pre class=\"lang-js prettyprint-override\"><code>getProjects(): Observable&lt;ProjectsData&gt; {\n    return this.http.get('../../assets/projects.json') as Observable&lt;ProjectsData&gt;;\n  }\n</code></pre>\n\n<p>and using it in this constructor to assign into my html:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>export class ProjectInfoComponent {\n  project: IProject;\n\n  constructor(private route: ActivatedRoute, dataReader: DataService) {\n    dataReader.getProjects().subscribe(data =&gt; {\n      route.data.subscribe(result =&gt; {\n        data.projects.forEach(element =&gt; {\n          if (element.route === result.id) {\n            this.project = element;\n          }\n        });\n      });\n    });\n  }\n}\n</code></pre>\n\n<pre class=\"lang-js prettyprint-override\"><code>export interface IProject {\n    title: string;\n    preview: string;\n    header?: string;\n    route?: string;\n    alternatePreview?: string;\n    softwareUsed?: string[];\n    text?: string;\n    thumbnailSize?: number;\n}\n\nexport interface ProjectsData {\n    projects: IProject[];\n}\n</code></pre>\n\n<p>Link to actual JSON for reference: <a href=\"https://github.com/GrimZero/Portfolio/blob/master/docs/assets/projects.json\" rel=\"nofollow noreferrer\">https://github.com/GrimZero/Portfolio/blob/master/docs/assets/projects.json</a></p>\n"}, {"tags": ["javascript", "reactjs", "typescript", "webpack"], "comments": [{"owner": {"reputation": 539, "user_id": 8003721, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4d0957015c2475972ee051957945ee01?s=128&d=identicon&r=PG&f=1", "display_name": "Andrew Ault", "link": "https://stackoverflow.com/users/8003721/andrew-ault"}, "edited": false, "score": 0, "creation_date": 1575466863, "post_id": 59172216, "comment_id": 104576009, "body": "how are you calling the <code>pluralize</code> method?"}, {"owner": {"reputation": 1307, "user_id": 4110257, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/Ujg66.png?s=128&g=1", "display_name": "iamdevlinph", "link": "https://stackoverflow.com/users/4110257/iamdevlinph"}, "reply_to_user": {"reputation": 539, "user_id": 8003721, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4d0957015c2475972ee051957945ee01?s=128&d=identicon&r=PG&f=1", "display_name": "Andrew Ault", "link": "https://stackoverflow.com/users/8003721/andrew-ault"}, "edited": false, "score": 0, "creation_date": 1575468788, "post_id": 59172216, "comment_id": 104577199, "body": "<code>import { pluralize } from &#39;lodash-inflection&#39;;</code> and then <code>&lt;&gt;{pluralize(foo, bar)}&lt;&#47;&gt;</code>"}], "answers": [{"comments": [{"owner": {"reputation": 1307, "user_id": 4110257, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/Ujg66.png?s=128&g=1", "display_name": "iamdevlinph", "link": "https://stackoverflow.com/users/4110257/iamdevlinph"}, "edited": false, "score": 0, "creation_date": 1575506605, "post_id": 59180755, "comment_id": 104593380, "body": "It worked! Wow. I never though of doing that since I&#39;ve been thinking maybe the fix would be in webpack. I&#39;ve seen that open issue but didn&#39;t think it&#39;s related. Any idea why it&#39;s working fine with <code>awesome-typescript-loader</code>?"}, {"owner": {"reputation": 539, "user_id": 8003721, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4d0957015c2475972ee051957945ee01?s=128&d=identicon&r=PG&f=1", "display_name": "Andrew Ault", "link": "https://stackoverflow.com/users/8003721/andrew-ault"}, "reply_to_user": {"reputation": 1307, "user_id": 4110257, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/Ujg66.png?s=128&g=1", "display_name": "iamdevlinph", "link": "https://stackoverflow.com/users/4110257/iamdevlinph"}, "edited": false, "score": 1, "creation_date": 1575553511, "post_id": 59180755, "comment_id": 104611198, "body": "without looking at the code, I&#39;d guess that <code>awesome-typescript-loader</code> was probably importing the whole package under the hood while <code>babel-loader</code> is properly <a href=\"https://medium.com/@netxm/what-is-tree-shaking-de7c6be5cadd\" rel=\"nofollow noreferrer\">tree-shaking</a>"}], "tags": [], "owner": {"reputation": 539, "user_id": 8003721, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4d0957015c2475972ee051957945ee01?s=128&d=identicon&r=PG&f=1", "display_name": "Andrew Ault", "link": "https://stackoverflow.com/users/8003721/andrew-ault"}, "is_accepted": true, "score": 0, "last_activity_date": 1575477444, "creation_date": 1575477444, "answer_id": 59180755, "question_id": 59172216, "link": "https://stackoverflow.com/questions/59172216/babel-loader-breaks-the-this-variable-in-an-npm-package/59180755#59180755", "title": "babel-loader breaks the `this` variable in an npm package", "body": "<p>Looking at the <code>lodash-inflection</code> package, it seems that there's an <a href=\"https://github.com/danhper/lodash-inflection/issues/11\" rel=\"nofollow noreferrer\">open issue</a> with trying to import and use individual methods. Try importing the whole package instead:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>import inflection from 'lodash-inflection';\n//...\ninflection.pluralize(foo, bar);\n</code></pre>\n"}], "owner": {"reputation": 1307, "user_id": 4110257, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/Ujg66.png?s=128&g=1", "display_name": "iamdevlinph", "link": "https://stackoverflow.com/users/4110257/iamdevlinph"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 60, "favorite_count": 0, "accepted_answer_id": 59180755, "answer_count": 1, "score": 3, "last_activity_date": 1575477444, "creation_date": 1575449853, "last_edit_date": 1575466792, "question_id": 59172216, "link": "https://stackoverflow.com/questions/59172216/babel-loader-breaks-the-this-variable-in-an-npm-package", "title": "babel-loader breaks the `this` variable in an npm package", "body": "<p>I switched from <code>awesome-typescript-loader</code> to <code>babel-loader</code> and I've been getting this issue in an npm package we use - <code>lodash-inflection</code>.</p>\n\n<p><code>Uncaught TypeError: this.pluralize is not a function at pluralize (lodash-inflection.js:68)</code></p>\n\n<p>Below is a breakpoint between the broken (<strong>left</strong>) and the working one (<strong>right</strong>). </p>\n\n<p><a href=\"https://i.stack.imgur.com/5FW9T.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/5FW9T.png\" alt=\"enter image description here\"></a></p>\n\n<p>The  <code>this</code> variable in the <code>lodash-inflection.js</code> becomes  the <code>window</code> instead of the actual value expected by the package so the package does not work anymore.</p>\n\n<p>Below are the changes to the <code>webpack.js</code></p>\n\n<h2>OLD</h2>\n\n<pre><code>{\n  test: /\\.tsx?$/,\n  exclude: /(node_modules|bower_components)/,\n  loader: 'awesome-typescript-loader',\n  options: {\n    getCustomTransformers: isDev &amp;&amp; path.join(__dirname, './webpack.ts-transformers.js')\n  }\n}\n</code></pre>\n\n<h2>NEW</h2>\n\n<pre><code>{\n  test: /\\.tsx?$/,\n  exclude: /(node_modules|bower_components)/,\n  use: [{\n    loader: 'babel-loader',\n    options: {\n      presets: [\n        [\"@babel/preset-env\", { modules: \"false\" }],\n        [\"@babel/preset-typescript\", { \"allExtensions\": true, \"isTSX\": true }],\n        \"@babel/preset-react\",\n      ],\n      plugins: [\n        \"@babel/plugin-proposal-class-properties\",\n        \"@babel/plugin-proposal-object-rest-spread\",\n        \"@babel/plugin-syntax-dynamic-import\",\n        \"@babel/plugin-transform-runtime\",\n        \"@babel/plugin-proposal-optional-chaining\",\n        \"@babel/plugin-proposal-nullish-coalescing-operator\"\n      ],\n      env: {\n        development: {\n          plugins: [\n            [\n              \"styled-components\",\n              {\n                displayName: true\n              }\n            ]\n          ]\n        }, production: {\n          plugins: [\n            [\n              \"styled-components\",\n              {\n                displayName: false\n              }\n            ]\n          ]\n        }\n      }\n    }\n  }],\n}\n</code></pre>\n\n<p>Most of the babel options I've seen are just like that. I also tried changing the order of the <code>presets</code>.</p>\n"}, {"tags": ["typescript", "angular7"], "comments": [{"owner": {"reputation": 16310, "user_id": 4758494, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/ywtVA.jpg?s=128&g=1", "display_name": "Hassan Imam", "link": "https://stackoverflow.com/users/4758494/hassan-imam"}, "edited": false, "score": 0, "creation_date": 1575449903, "post_id": 59172211, "comment_id": 104566665, "body": "Use <code>array.join(&#39;,&#39;)</code>"}, {"owner": {"user_type": "does_not_exist", "display_name": "user11675217"}, "reply_to_user": {"reputation": 16310, "user_id": 4758494, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/ywtVA.jpg?s=128&g=1", "display_name": "Hassan Imam", "link": "https://stackoverflow.com/users/4758494/hassan-imam"}, "edited": false, "score": 0, "creation_date": 1575449926, "post_id": 59172211, "comment_id": 104566677, "body": "can u explain in brief"}, {"owner": {"reputation": 16310, "user_id": 4758494, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/ywtVA.jpg?s=128&g=1", "display_name": "Hassan Imam", "link": "https://stackoverflow.com/users/4758494/hassan-imam"}, "edited": false, "score": 0, "creation_date": 1575449998, "post_id": 59172211, "comment_id": 104566718, "body": "The join() method creates and returns a new string by concatenating all of the elements in an array (or an array-like object), separated by commas or a specified separator string."}, {"owner": {"user_type": "does_not_exist", "display_name": "user11675217"}, "reply_to_user": {"reputation": 16310, "user_id": 4758494, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/ywtVA.jpg?s=128&g=1", "display_name": "Hassan Imam", "link": "https://stackoverflow.com/users/4758494/hassan-imam"}, "edited": false, "score": 0, "creation_date": 1575450082, "post_id": 59172211, "comment_id": 104566762, "body": "please give an example"}, {"owner": {"reputation": 8669, "user_id": 7124761, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-LwwM-Cj7GLE/AAAAAAAAAAI/AAAAAAAAAJw/32uCg85dMvg/photo.jpg?sz=128", "display_name": "Prashant Pimpale", "link": "https://stackoverflow.com/users/7124761/prashant-pimpale"}, "edited": false, "score": 0, "creation_date": 1575450405, "post_id": 59172211, "comment_id": 104566930, "body": "Why the question is tagged with <code>angular7</code>?"}], "answers": [{"tags": [], "owner": {"reputation": 16310, "user_id": 4758494, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/ywtVA.jpg?s=128&g=1", "display_name": "Hassan Imam", "link": "https://stackoverflow.com/users/4758494/hassan-imam"}, "is_accepted": true, "score": 0, "last_activity_date": 1575450426, "last_edit_date": 1575450426, "creation_date": 1575450174, "answer_id": 59172288, "question_id": 59172211, "link": "https://stackoverflow.com/questions/59172211/how-to-display-value-of-array-to-comma-separated-values/59172288#59172288", "title": "How to display value of array to comma separated values", "body": "<p>You can use <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/join\" rel=\"nofollow noreferrer\"><code>array#join</code></a></p>\n\n<blockquote>\n  <p>The join() method creates and returns a new string by concatenating all of the elements in an array (or an array-like object), separated by commas or a specified separator string.</p>\n</blockquote>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const data = [\"https://localhost:44375/api/Image/2388\", \"https://localhost:44375/api/Image/2388\"],\r\nresult = data.join(', ');\r\nconsole.log(result);</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user11675217"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 31, "favorite_count": 0, "accepted_answer_id": 59172288, "answer_count": 1, "score": 0, "last_activity_date": 1575450426, "creation_date": 1575449843, "question_id": 59172211, "link": "https://stackoverflow.com/questions/59172211/how-to-display-value-of-array-to-comma-separated-values", "title": "How to display value of array to comma separated values", "body": "<p><code>31: (2) [\"https://localhost:44375/api/Image/2388\", \"https://localhost:44375/api/Image/2388\"]</code></p>\n\n<p>I am getting value like this but I want to display it like,</p>\n\n<p><code>https://localhost:44375/api/Image/2388, https://localhost:44375/api/Image/2388</code></p>\n\n<p>How can I achieve that?</p>\n"}, {"tags": ["angular", "typescript", "rxjs", "observable"], "comments": [{"owner": {"reputation": 1164, "user_id": 6729295, "user_type": "registered", "accept_rate": 67, "profile_image": "https://graph.facebook.com/10154409674010699/picture?type=large", "display_name": "Marcel Hoekstra", "link": "https://stackoverflow.com/users/6729295/marcel-hoekstra"}, "edited": false, "score": 2, "creation_date": 1575451193, "post_id": 59172146, "comment_id": 104567321, "body": "Can&#39;t you just use the share operator: http.get&lt;any&gt;().pipe(share())?"}], "answers": [{"tags": [], "owner": {"reputation": 724, "user_id": 7962589, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NOsYs.png?s=128&g=1", "display_name": "Ismail", "link": "https://stackoverflow.com/users/7962589/ismail"}, "is_accepted": false, "score": 0, "last_activity_date": 1575450111, "creation_date": 1575450111, "answer_id": 59172276, "question_id": 59172146, "link": "https://stackoverflow.com/questions/59172146/how-to-unsubscribe-from-nested-observable/59172276#59172276", "title": "How to unsubscribe from nested observable", "body": "<p>Get the subscription Object and unsubscribe from it.</p>\n\n<pre><code>import { HttpClient } from \"@angular/common/http\";\nimport { Injectable } from \"@angular/core\";\nimport { AsyncSubject, Subscription } from \"rxjs\";\n\n@Injectable()\nexport class HttpCacheHelper {\n    public cache = new Map&lt;string, AsyncSubject&lt;any&gt;&gt;();\n    private mySubscription: Subscription;\n    public constructor(private readonly http: HttpClient) {        \n\n    }\n\n    public get&lt;T&gt;(url: string): AsyncSubject&lt;T&gt; {\n        if (!this.cache.has(url)) {\n            const subject = new AsyncSubject&lt;T&gt;();\n            this.cache.set(url, subject);\n    this.mySubscription = this.http.get(url)\n                .subscribe((data:any) =&gt; {\n                    subject.next(data as T);\n                    subject.complete();\n                });\n        }\n        return this.cache.get(url);\n    }\n\n// Use below function when required\nngOnDestroy(): void {\n    this.mySubscription.unsubscribe();\n  }\n\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1, "user_id": 8247749, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-nguzwxzksF0/AAAAAAAAAAI/AAAAAAAAAFo/sllmHuod3sM/photo.jpg?sz=128", "display_name": "Johan Versteeg", "link": "https://stackoverflow.com/users/8247749/johan-versteeg"}, "edited": false, "score": 0, "creation_date": 1575450706, "post_id": 59172281, "comment_id": 104567084, "body": "As far as I understand it unsubscribes on completion of the request. In my case I want to unsubscribe on leaving a component."}, {"owner": {"reputation": 718, "user_id": 6236935, "user_type": "registered", "profile_image": "https://graph.facebook.com/1158124387531995/picture?type=large", "display_name": "Ivan Tarskich", "link": "https://stackoverflow.com/users/6236935/ivan-tarskich"}, "reply_to_user": {"reputation": 1, "user_id": 8247749, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-nguzwxzksF0/AAAAAAAAAAI/AAAAAAAAAFo/sllmHuod3sM/photo.jpg?sz=128", "display_name": "Johan Versteeg", "link": "https://stackoverflow.com/users/8247749/johan-versteeg"}, "edited": false, "score": 0, "creation_date": 1575451151, "post_id": 59172281, "comment_id": 104567300, "body": "why dont u put this.http.get(url) in the cache ?"}, {"owner": {"reputation": 1, "user_id": 8247749, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-nguzwxzksF0/AAAAAAAAAAI/AAAAAAAAAFo/sllmHuod3sM/photo.jpg?sz=128", "display_name": "Johan Versteeg", "link": "https://stackoverflow.com/users/8247749/johan-versteeg"}, "edited": false, "score": 0, "creation_date": 1575451485, "post_id": 59172281, "comment_id": 104567488, "body": "The second time I subscribe on the http.get the call is repeated."}, {"owner": {"reputation": 718, "user_id": 6236935, "user_type": "registered", "profile_image": "https://graph.facebook.com/1158124387531995/picture?type=large", "display_name": "Ivan Tarskich", "link": "https://stackoverflow.com/users/6236935/ivan-tarskich"}, "reply_to_user": {"reputation": 1, "user_id": 8247749, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-nguzwxzksF0/AAAAAAAAAAI/AAAAAAAAAFo/sllmHuod3sM/photo.jpg?sz=128", "display_name": "Johan Versteeg", "link": "https://stackoverflow.com/users/8247749/johan-versteeg"}, "edited": false, "score": 0, "creation_date": 1575458190, "post_id": 59172281, "comment_id": 104571250, "body": "as @Marcel-Hoekstra metioned u can use the share operator"}, {"owner": {"reputation": 1, "user_id": 8247749, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-nguzwxzksF0/AAAAAAAAAAI/AAAAAAAAAFo/sllmHuod3sM/photo.jpg?sz=128", "display_name": "Johan Versteeg", "link": "https://stackoverflow.com/users/8247749/johan-versteeg"}, "edited": false, "score": 0, "creation_date": 1575552626, "post_id": 59172281, "comment_id": 104610692, "body": "Does the share operator work with already completed calls? In this case I use it for caching and the cache can be used minutes after the original call is made."}], "tags": [], "owner": {"reputation": 718, "user_id": 6236935, "user_type": "registered", "profile_image": "https://graph.facebook.com/1158124387531995/picture?type=large", "display_name": "Ivan Tarskich", "link": "https://stackoverflow.com/users/6236935/ivan-tarskich"}, "is_accepted": false, "score": 1, "last_activity_date": 1575450686, "last_edit_date": 1575450686, "creation_date": 1575450138, "answer_id": 59172281, "question_id": 59172146, "link": "https://stackoverflow.com/questions/59172146/how-to-unsubscribe-from-nested-observable/59172281#59172281", "title": "How to unsubscribe from nested observable", "body": "<p>I this case u dont have to unsubscribe from the http source ( see <a href=\"https://stackoverflow.com/questions/35042929/is-it-necessary-to-unsubscribe-from-observables-created-by-http-methods\">this question)</a>. Genarally you could use the take operator or flatmap for nested subscribtions.</p>\n"}, {"comments": [{"owner": {"reputation": 1, "user_id": 8247749, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-nguzwxzksF0/AAAAAAAAAAI/AAAAAAAAAFo/sllmHuod3sM/photo.jpg?sz=128", "display_name": "Johan Versteeg", "link": "https://stackoverflow.com/users/8247749/johan-versteeg"}, "edited": false, "score": 0, "creation_date": 1575451073, "post_id": 59172374, "comment_id": 104567265, "body": "This looks promising! Which type can I use for the cache map? new Map&lt;string, ?????&gt;();"}, {"owner": {"reputation": 4264, "user_id": 7330592, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/08ff85e692b55924933f9d78a837bc4d?s=128&d=identicon&r=PG&f=1", "display_name": "undefined", "link": "https://stackoverflow.com/users/7330592/undefined"}, "reply_to_user": {"reputation": 1, "user_id": 8247749, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-nguzwxzksF0/AAAAAAAAAAI/AAAAAAAAAFo/sllmHuod3sM/photo.jpg?sz=128", "display_name": "Johan Versteeg", "link": "https://stackoverflow.com/users/8247749/johan-versteeg"}, "edited": false, "score": 0, "creation_date": 1575451392, "post_id": 59172374, "comment_id": 104567435, "body": "I think it can be Observable&lt;T&gt;"}], "tags": [], "owner": {"reputation": 4264, "user_id": 7330592, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/08ff85e692b55924933f9d78a837bc4d?s=128&d=identicon&r=PG&f=1", "display_name": "undefined", "link": "https://stackoverflow.com/users/7330592/undefined"}, "is_accepted": false, "score": 0, "last_activity_date": 1575450511, "creation_date": 1575450511, "answer_id": 59172374, "question_id": 59172146, "link": "https://stackoverflow.com/questions/59172146/how-to-unsubscribe-from-nested-observable/59172374#59172374", "title": "How to unsubscribe from nested observable", "body": "<p>You'll need to unsubscribe from the source:</p>\n\n<pre><code>public get&lt;T&gt;(url: string): AsyncSubject&lt;T&gt; {\n    if (!this.cache.has(url)) {\n        const subject = new AsyncSubject&lt;T&gt;();\n\n        const subscription = this.http.get(url)\n            .subscribe((data:any) =&gt; {\n                subject.next(data as T);\n                subject.complete();\n            });\n\n         this.cache.set(url, {\n           subscribe(observer) { subject.subscribe(observer) },\n           unsubscribe(observer) { subscription.unsubscribe() }\n         });\n    }\n\n    return this.cache.get(url);\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 725, "user_id": 7951438, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f195ff2e037a55012b48d769523b437a?s=128&d=identicon&r=PG&f=1", "display_name": "Jayme", "link": "https://stackoverflow.com/users/7951438/jayme"}, "is_accepted": false, "score": 0, "last_activity_date": 1575462362, "creation_date": 1575462362, "answer_id": 59176062, "question_id": 59172146, "link": "https://stackoverflow.com/questions/59172146/how-to-unsubscribe-from-nested-observable/59176062#59176062", "title": "How to unsubscribe from nested observable", "body": "<p>You could try unsubscribing this way as well</p>\n\n<p>Create a subject we want to use to unsubscribe</p>\n\n<pre><code>private onDestroy$ = new Subject();\n</code></pre>\n\n<p>Add this before any .subscribe() that you need to unsubscribe from</p>\n\n<pre><code>.pipe(takeUntil(this.onDestroy$))\n</code></pre>\n\n<p>example </p>\n\n<pre><code>this.anyService.getData()\n  .pipe(takeUntil(this.onDestroy$))\n  .subscribe((data: any) =&gt; {\n    // Do work ...\n  });\n</code></pre>\n\n<p>Then use <code>ngOnDestroy()</code> like this</p>\n\n<pre><code>ngOnDestroy() {\n  this.onDestroy$.next();\n  this.onDestroy$.complete(); // Also unsubscribe from the subject itself\n}\n</code></pre>\n\n<p>When we <code>ngOnDestroy()</code> runs and we complete the subject any subscriptions using the <code>takeUntill</code> will also automatically unsubscribe</p>\n"}, {"tags": [], "owner": {"reputation": 9429, "user_id": 4159572, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/h25zb.png?s=128&g=1", "display_name": "Bazinga", "link": "https://stackoverflow.com/users/4159572/bazinga"}, "is_accepted": false, "score": 0, "last_activity_date": 1575538193, "creation_date": 1575538193, "answer_id": 59191968, "question_id": 59172146, "link": "https://stackoverflow.com/questions/59172146/how-to-unsubscribe-from-nested-observable/59191968#59191968", "title": "How to unsubscribe from nested observable", "body": "<p>I would just go with a <code>publishReplay</code> and <code>refCount</code>:</p>\n\n<pre><code>@Injectable()\nexport class HttpCacheHelper {\n  public cache = new Map&lt;string, Observable&lt;yourType&gt;&gt;();\n\n  public constructor(private readonly http: HttpClient) {}\n\n  public get&lt;T&gt;(url: string): Observable&lt;T&gt; {\n    if (!this.cache.has(url)) {\n      const obs = this.http.get(url).pipe(\n         publishReplay(1),\n         refCount()\n      )\n\n      this.cache.set(url, obs); \n    }\n\n    return this.cache.get(url);\n  }\n\n  // Use below function when required\n  ngOnDestroy(): void {\n    this.mySubscription.unsubscribe();\n  }\n}\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 8247749, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-nguzwxzksF0/AAAAAAAAAAI/AAAAAAAAAFo/sllmHuod3sM/photo.jpg?sz=128", "display_name": "Johan Versteeg", "link": "https://stackoverflow.com/users/8247749/johan-versteeg"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 391, "favorite_count": 0, "answer_count": 5, "score": 0, "last_activity_date": 1575538193, "creation_date": 1575449538, "last_edit_date": 1575451734, "question_id": 59172146, "link": "https://stackoverflow.com/questions/59172146/how-to-unsubscribe-from-nested-observable", "title": "How to unsubscribe from nested observable", "body": "<p>Using the ngOnDestroy() method on our Angular component we cancel http requests if they are still pending when leaving a page. On some pages we use a custom generic cache helper to prevent reloading data which are already loaded.</p>\n\n<pre><code>import { HttpClient } from \"@angular/common/http\";\nimport { Injectable } from \"@angular/core\";\nimport { AsyncSubject } from \"rxjs\";\n\n@Injectable()\nexport class HttpCacheHelper {\n    public cache = new Map&lt;string, AsyncSubject&lt;any&gt;&gt;();\n\n    public constructor(private readonly http: HttpClient) {        \n\n    }\n\n    public get&lt;T&gt;(url: string): AsyncSubject&lt;T&gt; {\n        if (!this.cache.has(url)) {\n            const subject = new AsyncSubject&lt;T&gt;();\n            this.cache.set(url, subject);\n            this.http.get(url)\n                .subscribe((data:any) =&gt; {\n                    subject.next(data as T);\n                    subject.complete();\n                });\n        }\n        return this.cache.get(url);\n    }\n}\n</code></pre>\n\n<p>If I unsubscribe from the AsyncSubject my http call is (of course) not cancelled. How to accomplish that?</p>\n"}, {"tags": ["angular", "typescript", "angular-reactive-forms"], "comments": [{"owner": {"reputation": 3200, "user_id": 4609855, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/R4OoT.jpg?s=128&g=1", "display_name": "Gille Q.", "link": "https://stackoverflow.com/users/4609855/gille-q"}, "edited": false, "score": 0, "creation_date": 1575449541, "post_id": 59172071, "comment_id": 104566473, "body": "You can retrieve the value of your aleas form control and cast it to a Number like this: <code>Number(this.registerForm.get(&quot;aleas&quot;).value)</code>"}, {"owner": {"reputation": 14058, "user_id": 6139527, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/m3NWl.jpg?s=128&g=1", "display_name": "Nicholas K", "link": "https://stackoverflow.com/users/6139527/nicholas-k"}, "edited": false, "score": 0, "creation_date": 1575449928, "post_id": 59172071, "comment_id": 104566678, "body": "Use : <code>const aleas =  this.registerForm.controls[&#39;aleas&#39;].value ? 1 : 0;</code>"}, {"owner": {"reputation": 51, "user_id": 12094632, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f15cdb9601c6a6fa1988688d95a72f2a?s=128&d=identicon&r=PG&f=1", "display_name": "Zephyr", "link": "https://stackoverflow.com/users/12094632/zephyr"}, "reply_to_user": {"reputation": 3200, "user_id": 4609855, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/R4OoT.jpg?s=128&g=1", "display_name": "Gille Q.", "link": "https://stackoverflow.com/users/4609855/gille-q"}, "edited": false, "score": 0, "creation_date": 1575450059, "post_id": 59172071, "comment_id": 104566746, "body": "@GilleQ. it now shows only <code>null</code>"}, {"owner": {"reputation": 51, "user_id": 12094632, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f15cdb9601c6a6fa1988688d95a72f2a?s=128&d=identicon&r=PG&f=1", "display_name": "Zephyr", "link": "https://stackoverflow.com/users/12094632/zephyr"}, "reply_to_user": {"reputation": 14058, "user_id": 6139527, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/m3NWl.jpg?s=128&g=1", "display_name": "Nicholas K", "link": "https://stackoverflow.com/users/6139527/nicholas-k"}, "edited": false, "score": 0, "creation_date": 1575450179, "post_id": 59172071, "comment_id": 104566812, "body": "@NicholasK getting only <code>null</code>"}, {"owner": {"reputation": 14058, "user_id": 6139527, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/m3NWl.jpg?s=128&g=1", "display_name": "Nicholas K", "link": "https://stackoverflow.com/users/6139527/nicholas-k"}, "edited": false, "score": 0, "creation_date": 1575450442, "post_id": 59172071, "comment_id": 104566946, "body": "It worked for me. How are you initializing the form-group? Are you getting any errors?"}, {"owner": {"reputation": 51, "user_id": 12094632, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f15cdb9601c6a6fa1988688d95a72f2a?s=128&d=identicon&r=PG&f=1", "display_name": "Zephyr", "link": "https://stackoverflow.com/users/12094632/zephyr"}, "reply_to_user": {"reputation": 14058, "user_id": 6139527, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/m3NWl.jpg?s=128&g=1", "display_name": "Nicholas K", "link": "https://stackoverflow.com/users/6139527/nicholas-k"}, "edited": false, "score": 0, "creation_date": 1575450622, "post_id": 59172071, "comment_id": 104567026, "body": "@NicholasK my bad on this one, it works as expected I did a <code>console.log(aleas)</code> and it shows me as a number but it nows seems like a back-end problem, thank you!"}, {"owner": {"reputation": 14058, "user_id": 6139527, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/m3NWl.jpg?s=128&g=1", "display_name": "Nicholas K", "link": "https://stackoverflow.com/users/6139527/nicholas-k"}, "edited": false, "score": 0, "creation_date": 1575450669, "post_id": 59172071, "comment_id": 104567062, "body": "No worries. Glad to help!"}], "answers": [{"comments": [{"owner": {"reputation": 51, "user_id": 12094632, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f15cdb9601c6a6fa1988688d95a72f2a?s=128&d=identicon&r=PG&f=1", "display_name": "Zephyr", "link": "https://stackoverflow.com/users/12094632/zephyr"}, "edited": false, "score": 1, "creation_date": 1575450554, "post_id": 59172223, "comment_id": 104566995, "body": "Thank you, each of those works as exepected but I have a backend problem, thank you!"}], "tags": [], "owner": {"reputation": 3200, "user_id": 4609855, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/R4OoT.jpg?s=128&g=1", "display_name": "Gille Q.", "link": "https://stackoverflow.com/users/4609855/gille-q"}, "is_accepted": false, "score": 1, "last_activity_date": 1575449869, "creation_date": 1575449869, "answer_id": 59172223, "question_id": 59172071, "link": "https://stackoverflow.com/questions/59172071/change-registerform-value-boolean-to-number/59172223#59172223", "title": "Change registerForm value ( boolean to number )", "body": "<p>You have a few method to convert your boolean to a number, that works either with the compiler and at runtime, but you need to get the value of your formControl the right way before that.</p>\n\n<pre><code>const aleasFirst = this.registerForm.get(\"aleas\").value ? 1 : 0; // your method\nconst aleasSecond = Number(this.registerForm.get(\"aleas\").value);\nconst aleasThird = +this.registerForm.get(\"aleas\").value; // unary operator\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 28589, "user_id": 8558186, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8af66bb1af6d1875a2dd7be9dd1c8d2b?s=128&d=identicon&r=PG&f=1", "display_name": "Eliseo", "link": "https://stackoverflow.com/users/8558186/eliseo"}, "edited": false, "score": 0, "creation_date": 1575451268, "post_id": 59172251, "comment_id": 104567361, "body": "I like more my aproach :)"}], "tags": [], "owner": {"reputation": 14058, "user_id": 6139527, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/m3NWl.jpg?s=128&g=1", "display_name": "Nicholas K", "link": "https://stackoverflow.com/users/6139527/nicholas-k"}, "is_accepted": true, "score": 1, "last_activity_date": 1575449988, "creation_date": 1575449988, "answer_id": 59172251, "question_id": 59172071, "link": "https://stackoverflow.com/questions/59172071/change-registerform-value-boolean-to-number/59172251#59172251", "title": "Change registerForm value ( boolean to number )", "body": "<p>You need to use the correct syntax to access the value from the <em>form-control</em>:</p>\n\n<pre><code>const aleas = this.registerForm.controls['aleas'].value ? 1 : 0;\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 51, "user_id": 12094632, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f15cdb9601c6a6fa1988688d95a72f2a?s=128&d=identicon&r=PG&f=1", "display_name": "Zephyr", "link": "https://stackoverflow.com/users/12094632/zephyr"}, "edited": false, "score": 0, "creation_date": 1575451372, "post_id": 59172549, "comment_id": 104567423, "body": "Thank you! That&#39;s an interesting one I didn&#39;t knew about"}], "tags": [], "owner": {"reputation": 28589, "user_id": 8558186, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8af66bb1af6d1875a2dd7be9dd1c8d2b?s=128&d=identicon&r=PG&f=1", "display_name": "Eliseo", "link": "https://stackoverflow.com/users/8558186/eliseo"}, "is_accepted": false, "score": 1, "last_activity_date": 1575451144, "creation_date": 1575451144, "answer_id": 59172549, "question_id": 59172071, "link": "https://stackoverflow.com/questions/59172071/change-registerform-value-boolean-to-number/59172549#59172549", "title": "Change registerForm value ( boolean to number )", "body": "<p>As a formControl exist even you has no a control, you can use ngModel inside the form</p>\n\n<pre><code>&lt;div class=\"container\"&gt;\n  &lt;form [formGroup]=\"registerForm\" (ngSubmit)=\"onSubmit()\" &gt;\n    &lt;input type=\"checkbox\" class=\"custom-control-input\" id=\"customCheck\" \n    name=\"example1\" \n       [ngModelOptions]=\"{standalone:true}\"\n       [ngModel]=\"registerForm.get('aleas').value==1\" \n       (ngModelChange)=\"registerForm.get('aleas').setValue($event?1:0)\"&gt;\n  &lt;/form&gt;\n&lt;/div&gt;\n</code></pre>\n"}], "owner": {"reputation": 51, "user_id": 12094632, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f15cdb9601c6a6fa1988688d95a72f2a?s=128&d=identicon&r=PG&f=1", "display_name": "Zephyr", "link": "https://stackoverflow.com/users/12094632/zephyr"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 172, "favorite_count": 0, "accepted_answer_id": 59172251, "answer_count": 3, "score": 2, "last_activity_date": 1575451144, "creation_date": 1575449247, "last_edit_date": 1575450503, "question_id": 59172071, "link": "https://stackoverflow.com/questions/59172071/change-registerform-value-boolean-to-number", "title": "Change registerForm value ( boolean to number )", "body": "<p>So I got a little issue understanding how to cast a boolean to number</p>\n\n<p><strong>Problem :</strong></p>\n\n<p>I' ve been trying to cast my <code>registerForm.value.aleas</code> which is a checkbox to a number ( 0 false, 1 true ),  to do a <code>POST</code> method (the <code>API</code> expect <strong>1</strong> or <strong>0</strong> value ) but I can't find a way to do it since <code>registerForm.value</code> always return me his default value ( <strong>false</strong> if checkbox isn't clicked and <strong>true</strong> is she is ).</p>\n\n<p><strong>What I've tried :</strong></p>\n\n<p>I've tried using <code>? 1 : 0</code> but I don't think <code>registerForm</code> accept it and I don't see any other way</p>\n\n<p><strong>Code sample :</strong></p>\n\n<p><em>app.component.ts</em></p>\n\n<pre><code>  postParams(){\nconst token = JSON.parse(window.localStorage.getItem('token'));\nconst aleas = this.registerForm.value.aleas? 1 : 0;\nreturn this.httpClient.post(`this.url?token=`,\n  {\n    token: token.token,\n    is_alea_chantier: aleas,\n\n  })\n  .subscribe(\n    data =&gt; {\n      console.log(\"POST PARAMS DONE\",data)\n    },\n    error =&gt; {\n      console.log(\"POST PARAMS FAILED\", error)\n    }\n\n  )\n}\n\n\nget f() {\n return this.registerForm.controls;\n  }\n\nonSubmit{\n  this.submitted = true;\n  console.log(this.registerForm.value.title)\n  //stop here if form is invalid\n  if (this.registerForm.invalid){\n    console.log(\"INVALID FORM\")\n     return;\n   } else {\n    console.log(\"VALID FORM\")\n    this.postParams();\n   }\n }\n</code></pre>\n\n<p><em>app.component.html</em></p>\n\n<pre><code>&lt;div class=\"container\"&gt;\n  &lt;form [formGroup]=\"registerForm\" (ngSubmit)=\"onSubmit()\" &gt;\n    &lt;input formControlName=\"aleas\" type=\"checkbox\" class=\"custom-control-input\" id=\"customCheck\" \n    name=\"example1\"&gt;\n  &lt;/form&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>Don't hesitate to tell me if you need anything else if anyone can lead me on the right way I'd really appreciate it, thank you for your time!</p>\n\n<p><strong>EDIT</strong></p>\n\n<p>Every answers work, but it seems to be a backend problem now, thank you!</p>\n"}, {"tags": ["angular", "typescript"], "comments": [{"owner": {"reputation": 14058, "user_id": 6139527, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/m3NWl.jpg?s=128&g=1", "display_name": "Nicholas K", "link": "https://stackoverflow.com/users/6139527/nicholas-k"}, "edited": false, "score": 0, "creation_date": 1575448896, "post_id": 59171933, "comment_id": 104566151, "body": "Why are you trying to avoid it?"}], "answers": [{"comments": [{"owner": {"reputation": 297, "user_id": 6576948, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2c23a8b39715f9543a2e187e9db264f6?s=128&d=identicon&r=PG&f=1", "display_name": "niehoelzz", "link": "https://stackoverflow.com/users/6576948/niehoelzz"}, "edited": false, "score": 0, "creation_date": 1575449346, "post_id": 59171970, "comment_id": 104566359, "body": "When i do this: let A = new Date(&quot;04.12.2019, 09:35&quot;); console.log(A); I just get the log: &quot;Invalid Date&quot;"}, {"owner": {"reputation": 421, "user_id": 7597542, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81dd4b76c1367596b89daf99a990dd67?s=128&d=identicon&r=PG&f=1", "display_name": "KBell", "link": "https://stackoverflow.com/users/7597542/kbell"}, "reply_to_user": {"reputation": 297, "user_id": 6576948, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2c23a8b39715f9543a2e187e9db264f6?s=128&d=identicon&r=PG&f=1", "display_name": "niehoelzz", "link": "https://stackoverflow.com/users/6576948/niehoelzz"}, "edited": false, "score": 0, "creation_date": 1575450247, "post_id": 59171970, "comment_id": 104566853, "body": "@niehoelzz you need to replace dots with spaces. I&#39;ll update my answer."}, {"owner": {"reputation": 421, "user_id": 7597542, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81dd4b76c1367596b89daf99a990dd67?s=128&d=identicon&r=PG&f=1", "display_name": "KBell", "link": "https://stackoverflow.com/users/7597542/kbell"}, "reply_to_user": {"reputation": 297, "user_id": 6576948, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2c23a8b39715f9543a2e187e9db264f6?s=128&d=identicon&r=PG&f=1", "display_name": "niehoelzz", "link": "https://stackoverflow.com/users/6576948/niehoelzz"}, "edited": false, "score": 0, "creation_date": 1575450695, "post_id": 59171970, "comment_id": 104567078, "body": "@niehoelzz this should work now. Ah you already solved it :)"}, {"owner": {"reputation": 297, "user_id": 6576948, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2c23a8b39715f9543a2e187e9db264f6?s=128&d=identicon&r=PG&f=1", "display_name": "niehoelzz", "link": "https://stackoverflow.com/users/6576948/niehoelzz"}, "edited": false, "score": 0, "creation_date": 1575451504, "post_id": 59171970, "comment_id": 104567504, "body": "Now i got another problem, since im in germany, we write our dates like this: DD MM JJJJ but Date takes the args like the follwing: MM DD JJJJ. Is there a way to set properties to the &quot;new Date()&quot;?"}, {"owner": {"reputation": 421, "user_id": 7597542, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81dd4b76c1367596b89daf99a990dd67?s=128&d=identicon&r=PG&f=1", "display_name": "KBell", "link": "https://stackoverflow.com/users/7597542/kbell"}, "reply_to_user": {"reputation": 297, "user_id": 6576948, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2c23a8b39715f9543a2e187e9db264f6?s=128&d=identicon&r=PG&f=1", "display_name": "niehoelzz", "link": "https://stackoverflow.com/users/6576948/niehoelzz"}, "edited": false, "score": 0, "creation_date": 1575452607, "post_id": 59171970, "comment_id": 104568116, "body": "@niehoelzz Not that i know, you can invert month and day by string manipulation (using <code>dateString.split(&#39;  &#39;)</code>)"}], "tags": [], "owner": {"reputation": 421, "user_id": 7597542, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81dd4b76c1367596b89daf99a990dd67?s=128&d=identicon&r=PG&f=1", "display_name": "KBell", "link": "https://stackoverflow.com/users/7597542/kbell"}, "is_accepted": false, "score": 0, "last_activity_date": 1575450612, "last_edit_date": 1575450612, "creation_date": 1575448889, "answer_id": 59171970, "question_id": 59171933, "link": "https://stackoverflow.com/questions/59171933/how-to-convert-a-string-to-a-date-without-moment-js/59171970#59171970", "title": "How to convert a string to a Date without moment.js", "body": "<p>You can just use <code>Date</code> i guess :</p>\n\n<pre><code>let dateString = '04.12.2019, 09:35'.replace(/\\./g,' ').replace(',', '');\nlet dateString2 = '05.12.2019, 12:50'.replace(/\\./g,' ').replace(',', '');\nlet newDate = new Date(dateString);\nlet newDate2 = new Date(dateString2);\n//Your comparison between newDate and newDate2 here\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 297, "user_id": 6576948, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2c23a8b39715f9543a2e187e9db264f6?s=128&d=identicon&r=PG&f=1", "display_name": "niehoelzz", "link": "https://stackoverflow.com/users/6576948/niehoelzz"}, "edited": false, "score": 0, "creation_date": 1575449352, "post_id": 59171972, "comment_id": 104566365, "body": "When i do this: let A = new Date(&quot;04.12.2019, 09:35&quot;); console.log(A); I just get the log: &quot;Invalid Date&quot;"}, {"owner": {"reputation": 167, "user_id": 3724544, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ANJtR.jpg?s=128&g=1", "display_name": "Soumya Ranjan Swain", "link": "https://stackoverflow.com/users/3724544/soumya-ranjan-swain"}, "reply_to_user": {"reputation": 297, "user_id": 6576948, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2c23a8b39715f9543a2e187e9db264f6?s=128&d=identicon&r=PG&f=1", "display_name": "niehoelzz", "link": "https://stackoverflow.com/users/6576948/niehoelzz"}, "edited": false, "score": 0, "creation_date": 1575449565, "post_id": 59171972, "comment_id": 104566491, "body": "Which Javascript version you are running in?"}, {"owner": {"reputation": 297, "user_id": 6576948, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2c23a8b39715f9543a2e187e9db264f6?s=128&d=identicon&r=PG&f=1", "display_name": "niehoelzz", "link": "https://stackoverflow.com/users/6576948/niehoelzz"}, "edited": false, "score": 0, "creation_date": 1575449674, "post_id": 59171972, "comment_id": 104566539, "body": "Typescript version 3.5.3"}, {"owner": {"reputation": 167, "user_id": 3724544, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ANJtR.jpg?s=128&g=1", "display_name": "Soumya Ranjan Swain", "link": "https://stackoverflow.com/users/3724544/soumya-ranjan-swain"}, "reply_to_user": {"reputation": 297, "user_id": 6576948, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2c23a8b39715f9543a2e187e9db264f6?s=128&d=identicon&r=PG&f=1", "display_name": "niehoelzz", "link": "https://stackoverflow.com/users/6576948/niehoelzz"}, "edited": false, "score": 0, "creation_date": 1575449989, "post_id": 59171972, "comment_id": 104566712, "body": "It should work, I tested in online compiler also. Try to get the debugging point in this line and check the data of date."}], "tags": [], "owner": {"reputation": 167, "user_id": 3724544, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ANJtR.jpg?s=128&g=1", "display_name": "Soumya Ranjan Swain", "link": "https://stackoverflow.com/users/3724544/soumya-ranjan-swain"}, "is_accepted": false, "score": 0, "last_activity_date": 1575448892, "creation_date": 1575448892, "answer_id": 59171972, "question_id": 59171933, "link": "https://stackoverflow.com/questions/59171933/how-to-convert-a-string-to-a-date-without-moment-js/59171972#59171972", "title": "How to convert a string to a Date without moment.js", "body": "<p>You can do like this:</p>\n\n<pre><code>let A = new Date(\"04.12.2019, 09:35\");\nlet B = new Date(\"05.12.2019, 12:50\");\n\nif (A === B) { // Do Stuffs }\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 297, "user_id": 6576948, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2c23a8b39715f9543a2e187e9db264f6?s=128&d=identicon&r=PG&f=1", "display_name": "niehoelzz", "link": "https://stackoverflow.com/users/6576948/niehoelzz"}, "edited": false, "score": 0, "creation_date": 1575449128, "post_id": 59172000, "comment_id": 104566246, "body": "But when i log the date it says &quot;Invalid Date&quot;"}, {"owner": {"reputation": 3015, "user_id": 8318091, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/S9Vn3.jpg?s=128&g=1", "display_name": "Saurabh Yadav", "link": "https://stackoverflow.com/users/8318091/saurabh-yadav"}, "reply_to_user": {"reputation": 297, "user_id": 6576948, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2c23a8b39715f9543a2e187e9db264f6?s=128&d=identicon&r=PG&f=1", "display_name": "niehoelzz", "link": "https://stackoverflow.com/users/6576948/niehoelzz"}, "edited": false, "score": 0, "creation_date": 1575449516, "post_id": 59172000, "comment_id": 104566455, "body": "seems its working fine"}], "tags": [], "owner": {"reputation": 3015, "user_id": 8318091, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/S9Vn3.jpg?s=128&g=1", "display_name": "Saurabh Yadav", "link": "https://stackoverflow.com/users/8318091/saurabh-yadav"}, "is_accepted": false, "score": 0, "last_activity_date": 1575448991, "creation_date": 1575448991, "answer_id": 59172000, "question_id": 59171933, "link": "https://stackoverflow.com/questions/59171933/how-to-convert-a-string-to-a-date-without-moment-js/59172000#59172000", "title": "How to convert a string to a Date without moment.js", "body": "<p><a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Date\" rel=\"nofollow noreferrer\">JavaScript Date instance</a> \n<div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>let date1 = new Date(\"04.12.2019, 09:35\");\r\nlet date2 =  new Date(\"05.12.2019, 12:50\");\r\n\r\nlet result = date1 &lt; date2 ? 'still will come' : 'already passed'; \r\nconsole.log(result);</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 297, "user_id": 6576948, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2c23a8b39715f9543a2e187e9db264f6?s=128&d=identicon&r=PG&f=1", "display_name": "niehoelzz", "link": "https://stackoverflow.com/users/6576948/niehoelzz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 249, "favorite_count": 0, "closed_date": 1575449804, "answer_count": 3, "score": -3, "last_activity_date": 1575475015, "creation_date": 1575448714, "last_edit_date": 1575475015, "question_id": 59171933, "link": "https://stackoverflow.com/questions/59171933/how-to-convert-a-string-to-a-date-without-moment-js", "closed_reason": "Duplicate", "title": "How to convert a string to a Date without moment.js", "body": "<p>I have 2 dates stored like this:</p>\n\n<pre><code>\"04.12.2019, 09:35\" // Today\n\"05.12.2019, 12:50\" // Some different date\n</code></pre>\n\n<p>And i want to compare them (wether the date has already passed or still will come).</p>\n\n<p>My thought about this was converting them to a Date and then comparing the dates but the online solutions to converting these strings into a date all use moment.js</p>\n\n<p>Is there a way to convert these strings to a date without using moment.js or comparing them without even converting them to a date at all?</p>\n"}, {"tags": ["reactjs", "typescript", "cesium"], "comments": [{"owner": {"reputation": 1002, "user_id": 1278023, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/fj0WV.jpg?s=128&g=1", "display_name": "Omar Shehata", "link": "https://stackoverflow.com/users/1278023/omar-shehata"}, "edited": false, "score": 0, "creation_date": 1576465288, "post_id": 59171805, "comment_id": 104895999, "body": "createTileMapServiceProvider has been deprecated in favor of TileMapServiceImageryProvider. Trying using that instead: <a href=\"https://cesium.com/docs/cesiumjs-ref-doc/TileMapServiceImageryProvider.html?classFilter=TileMap\" rel=\"nofollow noreferrer\">cesium.com/docs/cesiumjs-ref-doc/&hellip;</a>"}], "owner": {"reputation": 511, "user_id": 8622826, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/0b0ad6d0f9881f83c409bdbab87da20a?s=128&d=identicon&r=PG&f=1", "display_name": "WhiteSolstice", "link": "https://stackoverflow.com/users/8622826/whitesolstice"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1180, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1575449271, "creation_date": 1575448175, "last_edit_date": 1575449271, "question_id": 59171805, "link": "https://stackoverflow.com/questions/59171805/cesium-using-local-offline-tileserver-typescript", "title": "Cesium using local/offline tileserver (TypeScript)", "body": "<p>I am trying to set up a local/offline tileserver to serve Cesium's tiles for the 3D Planet/Globe. I have completed my setup for Resium and Cesium based on the following <a href=\"https://stackoverflow.com/questions/58990689/unable-to-determine-cesium-base-url-automatically-typescript\">thread</a> I created. After the necessary setup I then retrieved a <a href=\"https://github.com/AnalyticalGraphicsInc/cesium/tree/master/Source\" rel=\"nofollow noreferrer\">Precompiled Cesium Assets</a> provided by cesium and placed it within my Python Server. I Have also came across the following guide for <a href=\"https://github.com/AnalyticalGraphicsInc/cesium/wiki/Offline-Guide\" rel=\"nofollow noreferrer\">Offline Cesium</a> as well as an example for <a href=\"https://resium.darwineducation.com/examples/?path=/story/viewer--basic\" rel=\"nofollow noreferrer\">Online Cesium</a>.</p>\n\n<p>After following the guide I noticed that it wasn't working as expected and found out that <a href=\"https://cesium.com/docs/cesiumjs-ref-doc/createTileMapServiceImageryProvider.html\" rel=\"nofollow noreferrer\">createTileMapServiceImageryProvider</a> has been deprecated, so I decided to use <a href=\"https://cesium.com/docs/cesiumjs-ref-doc/UrlTemplateImageryProvider.html\" rel=\"nofollow noreferrer\">UrlTemplateImageryProvider</a> instead.</p>\n\n<p>Next, I began to render react cesium using the following code.</p>\n\n<p>First, I did the necessary Imports</p>\n\n<pre><code>import * as cesium from 'cesium';\nimport * as React from 'react';\nimport { Entity, PointGraphics, Viewer } from 'resium';\n</code></pre>\n\n<p>Secondly, I created my Tile Server Properties</p>\n\n<pre><code>const tms = new cesium.UrlTemplateImageryProvider({\n   url: 'https://localhost:5000/{z}/{x}/{y}.png',\n   maximumLevel:10,\n})\n</code></pre>\n\n<p>Once created I used it for my Viewer.</p>\n\n<pre><code>&lt;Viewer\n   baseLayerPicker={ false }\n   geocoder={ false }\n   imageryProvider={ tms }\n   full={ false }\n   homeButton={ false }\n   fullscreenButton={ false }\n   vrButton={ false }\n   infoBox={ false }\n   navigationHelpButton={ false }\n&gt;\n   &lt;Entity position= { cesium.Cartesian3.fromDegree(-74, 40, 100) }&gt;\n      &lt;PointGraphics pixelSize={ 10 }/&gt;\n   &lt;/Entity&gt;\n&lt;/Viewer&gt;\n</code></pre>\n\n<p>Even with the following settings above I noticed that my \"Network\" tab is not retrieving the necessary PNG Files. Which means that cesium is not even attempting to render my Planet/Globe for some reason. </p>\n\n<p>Currently, there are two errors within my console which states <code>importScripts failed for Workers/createVerticesFromHeightmap.....</code> and <code>TypeError: data.loaderConfig is undefined</code></p>\n\n<p>It can be noted that <code>geocoder</code> and <code>baseLayerPicker</code> is set as false to prevent an error related to <code>cesium ion default access token</code>.</p>\n"}, {"tags": ["reactjs", "typescript", "mask", "formik"], "answers": [{"tags": [], "owner": {"reputation": 704, "user_id": 5330103, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/7a1b9518a1b9591ae9e3b322dd644d2f?s=128&d=identicon&r=PG", "display_name": "Amir Rezvani", "link": "https://stackoverflow.com/users/5330103/amir-rezvani"}, "is_accepted": false, "score": 0, "last_activity_date": 1575450795, "creation_date": 1575450795, "answer_id": 59172457, "question_id": 59171696, "link": "https://stackoverflow.com/questions/59171696/how-to-mask-material-ui-input-in-formic-with-using-react-input-mask-typescript/59172457#59172457", "title": "How to mask material ui input in formic with using react-input-mask (typescript)", "body": "<p>I'm not sure how it works in TypeScript but you can do this.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>/*  Create Your Mask Component Like This */\r\n\r\nconst phoneMaskComponent = arg =&gt; {\r\n\tconst { inputRef, ...other } = arg;\r\n\tconst digitRegExp = /[0-9\u0660-\u0669\u06f0-\u06f9]/;\r\n\r\n\treturn (\r\n\t\t&lt;MaskedInput\r\n\t\t\tref={ref =&gt; {\r\n\t\t\t\tinputRef(ref ? ref.inputElement : null);\r\n\t\t\t}}\r\n\t\t\tguide={false}\r\n\t\t\tmask={strNumber =&gt; {\r\n\t\t\t\treturn strNumber.split('').map(() =&gt; {\r\n\t\t\t\t\treturn digitRegExp;\r\n\t\t\t\t});\r\n\t\t\t}}\r\n\t\t\tpipe={str =&gt; {\r\n\t\t\t\tconst newStr = str\r\n\t\t\t\t\t.replace(/[\u0660\u0661\u0662\u0663\u0664\u0665\u0666\u0667\u0668\u0669]/g, d =&gt; d.charCodeAt(0) - 1632)\r\n\t\t\t\t\t.replace(/[\u06f0\u06f1\u06f2\u06f3\u06f4\u06f5\u06f6\u06f7\u06f8\u06f9]/g, d =&gt; d.charCodeAt(0) - 1776)\r\n\t\t\t\t\t.replace(/[^0-9]+/g, '');\r\n\r\n\t\t\t\treturn {\r\n\t\t\t\t\tvalue: newStr,\r\n\t\t\t\t\tindexesOfPipedChars: range(newStr.length * 2),\r\n\t\t\t\t};\r\n\t\t\t}}\r\n\t\t\t{...other}\r\n\t\t/&gt;\r\n\t);\r\n};\r\n\r\n/* Set The Mask in Your Input Component */\r\n&lt;InputBase\r\n    fullWidth\r\n    isLtr\r\n    name=\"phone\"\r\n    label=\"Enter Phone Number\"\r\n    type=\"tel\"\r\n    value={formik.values.phone}\r\n    /* Use The Mask like This */\r\n    inputComponent={phoneMaskComponent}\r\n  /&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>this mask dose not let user to enter En numbers.</p>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 11286893, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0984d524d73329bf2065fead14f791ee?s=128&d=identicon&r=PG&f=1", "display_name": "Guilherme Jacobsen", "link": "https://stackoverflow.com/users/11286893/guilherme-jacobsen"}, "is_accepted": false, "score": 0, "last_activity_date": 1584619324, "creation_date": 1584619324, "answer_id": 60756825, "question_id": 59171696, "link": "https://stackoverflow.com/questions/59171696/how-to-mask-material-ui-input-in-formic-with-using-react-input-mask-typescript/60756825#60756825", "title": "How to mask material ui input in formic with using react-input-mask (typescript)", "body": "<p>i done that way and it works for me:</p>\n\n<pre><code>const MYInput = ({...props}) =&gt; (\n    &lt;Field\n        name={props.name}\n        render={({field}) =&gt; {\n          return (\n            &lt;InputMask\n              {...field}\n              mask={props.mask}\n              &gt; \n                {(innerProps) =&gt; (\n                    &lt;TextField\n                      {...innerProps}\n                      variant={props.variant ? props.variant : 'filled'}\n                      label={props.label ? props.label : ''}\n                      /&gt;\n\n                )}\n              &lt;/InputMask&gt;\n\n          )\n        }}\n      /&gt;\n\n\n);\n\n&lt;MYInput name=\"Phone\" label=\"Phone\" mask=\"(99) 99999-9999\" /&gt;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 111, "user_id": 14013535, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AOh14GgVMmGIYEEZja1Rn0EI52BJ7hhXVNJq4KO59i2e=k-s128", "display_name": "Mriganka Ghosh", "link": "https://stackoverflow.com/users/14013535/mriganka-ghosh"}, "is_accepted": false, "score": 0, "last_activity_date": 1597134772, "creation_date": 1597134772, "answer_id": 63354452, "question_id": 59171696, "link": "https://stackoverflow.com/questions/59171696/how-to-mask-material-ui-input-in-formic-with-using-react-input-mask-typescript/63354452#63354452", "title": "How to mask material ui input in formic with using react-input-mask (typescript)", "body": "<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>import { TextField, TextFieldProps } from \"@material-ui/core\";\nimport InputMask, {Props} from 'react-input-mask';\n\n    &lt;InputMask\n      mask=\"99/99/9999\"\n      value={formik.values.phone}\n      onChange={formik.handleChange}\n      onBlur={formik.handleBlur}\n    &gt;\n      {/*\n          'props' supplied to TextField weren't matching the required type. \n          Hence we use '&amp;' operator which is for intersecting two types\n       */} \n      {(inputProps: Props &amp; TextFieldProps)=&gt;\n        &lt;TextField\n          {...inputProps}\n          type=\"tel\"\n          label={t(\"addDriverModal.phone\")}\n        /&gt;\n      }\n    &lt;/InputMask&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 33, "user_id": 11447875, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-0g_sP50z6E0/AAAAAAAAAAI/AAAAAAAAADM/fSyCJy4tW_w/photo.jpg?sz=128", "display_name": "Who AmI", "link": "https://stackoverflow.com/users/11447875/who-ami"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 2187, "favorite_count": 2, "answer_count": 3, "score": 2, "last_activity_date": 1602292715, "creation_date": 1575447759, "question_id": 59171696, "link": "https://stackoverflow.com/questions/59171696/how-to-mask-material-ui-input-in-formic-with-using-react-input-mask-typescript", "title": "How to mask material ui input in formic with using react-input-mask (typescript)", "body": "<p>Input in formik\nError in type of TextField</p>\n\n<pre><code>        &lt;InputMask\n          mask=\"99/99/9999\"\n          value={formik.values.phone}\n          onChange={formik.handleChange}\n          onBlur={formik.handleBlur}\n        &gt;\n          {(inputProps: Props): ReactElement =&gt; (\n            &lt;TextField\n              {...inputProps}\n              type=\"tel\"\n              label={t(\"addDriverModal.phone\")}\n            /&gt;\n          )}\n        &lt;/InputMask&gt;\n</code></pre>\n\n<p>Does not work. Props - type declaration from @types/react-input-mask</p>\n"}, {"tags": ["typescript"], "answers": [{"tags": [], "owner": {"reputation": 1230, "user_id": 11306392, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f712ad3fe37ee35c0f5c2dcaa373f2e3?s=128&d=identicon&r=PG&f=1", "display_name": "Bohdan Stupak", "link": "https://stackoverflow.com/users/11306392/bohdan-stupak"}, "is_accepted": true, "score": 2, "last_activity_date": 1575453006, "creation_date": 1575453006, "answer_id": 59173108, "question_id": 59171689, "link": "https://stackoverflow.com/questions/59171689/whats-the-correct-way-to-define-a-function-with-returned-type-the-same-as-its-f/59173108#59173108", "title": "what&#39;s the correct way to define a function with returned type the same as its first parameter", "body": "<p>Looks like you've misplaced <code>&lt;T&gt;</code>\nThe code below works</p>\n\n<pre><code>type IF&lt;T&gt; = (name: T) =&gt; T\n\nlet f: IF&lt;string&gt; = (name: string) =&gt; {\n    return name + ''\n}\n</code></pre>\n"}], "owner": {"reputation": 622, "user_id": 6944636, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/YU4ag.jpg?s=128&g=1", "display_name": "jiajianrong", "link": "https://stackoverflow.com/users/6944636/jiajianrong"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 21, "favorite_count": 0, "accepted_answer_id": 59173108, "answer_count": 1, "score": 1, "last_activity_date": 1575453006, "creation_date": 1575447729, "question_id": 59171689, "link": "https://stackoverflow.com/questions/59171689/whats-the-correct-way-to-define-a-function-with-returned-type-the-same-as-its-f", "title": "what&#39;s the correct way to define a function with returned type the same as its first parameter", "body": "<p>What I want is simple, I want a function return a type the same as its parameter. I've tried the below code but it's wrong.</p>\n\n<pre><code>type IF = &lt;T&gt;(name: T) =&gt; T\n\nlet f: IF = (name: string) =&gt; {\n    return name + ''\n}\n\n</code></pre>\n\n<p>However, below code works but it's not my wanted</p>\n\n<pre><code>type IF = &lt;T&gt;(name: T) =&gt; T\n\nlet f: IF = (name) =&gt; {\n    return name\n}\n</code></pre>\n"}, {"tags": ["angular", "typescript", "ngrx", "typescript2.0", "ngrx-store"], "answers": [{"tags": [], "owner": {"reputation": 4291, "user_id": 7344164, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TKHbU.jpg?s=128&g=1", "display_name": "DevLoverUmar", "link": "https://stackoverflow.com/users/7344164/devloverumar"}, "is_accepted": true, "score": 0, "last_activity_date": 1575532435, "creation_date": 1575532435, "answer_id": 59190516, "question_id": 59171491, "link": "https://stackoverflow.com/questions/59171491/why-the-change-in-state-of-store-is-not-broadcasted-to-my-component/59190516#59190516", "title": "Why the change in state of store is not broadcasted to my component", "body": "<p>After a struggle of almost 2 days I found the answer!\nHere is the selector code which fixed the issue:</p>\n\n<pre><code>export const selectRangeSchemasState: MemoizedSelector&lt;\n  object,\n  State\n&gt; = createFeatureSelector&lt;State&gt;('raw-signals');\n\nconst getRangeSchemas = (state: State): RangeSchema[] =&gt; state.rangeSchemas;\n\nexport const selectRangeSchemasViewModel: MemoizedSelector&lt;\nobject,\n  RangeSchemaViewModel[]\n&gt; = createSelector(\n  selectRangeSchemasState,\n  getRangeSchemas,\n  (state, rangeSchemas) =&gt; {\n    return state.rangeSchemas.map(item =&gt; {\n      let rangeSchemaViewModel: RangeSchemaViewModel = {\n        id: 0,\n        rangeSchemaName: ''\n      };\n      rangeSchemaViewModel.id = item.mapping.id;\n      rangeSchemaViewModel.rangeSchemaName = item.mapping.rangeSchemaName;\n      return rangeSchemaViewModel;\n    });\n  }\n);\n</code></pre>\n\n<p>The reasons of problem are following:</p>\n\n<p><strong>Its the global state from which I should construct the view Model i.e.,</strong> </p>\n\n<pre><code>return state.rangeSchemas.map(item =&gt; {...\n</code></pre>\n\n<p><strong>rangeSchemaViewModel variable was undefined so I instantiated it with default values.</strong></p>\n\n<pre><code>let rangeSchemaViewModel: RangeSchemaViewModel = {\n    id: 0,\n    rangeSchemaName: ''\n  };\n</code></pre>\n"}], "owner": {"reputation": 4291, "user_id": 7344164, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TKHbU.jpg?s=128&g=1", "display_name": "DevLoverUmar", "link": "https://stackoverflow.com/users/7344164/devloverumar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 38, "favorite_count": 0, "accepted_answer_id": 59190516, "answer_count": 1, "score": 1, "last_activity_date": 1575532542, "creation_date": 1575446945, "last_edit_date": 1575532542, "question_id": 59171491, "link": "https://stackoverflow.com/questions/59171491/why-the-change-in-state-of-store-is-not-broadcasted-to-my-component", "title": "Why the change in state of store is not broadcasted to my component", "body": "<p>When onMetaSignalChanged() is called in the component, it causes an effect which in turn calls the reducer case rangeSchemasLoadCompletedSuccess. I have debugged the App and its working fine till that point. \nAs you can see rangeSchemasLoadCompletedSuccess updating the rangeSchemas of store state, so I think my rangeSchemas$ observable should get the updated value after that? But its not being updated, Am I missing something?</p>\n\n<p>Model Class:</p>\n\n<pre><code>export interface RangeSchemaViewModel {\n id: number;\n rangeSchemaName: string;\n}\n</code></pre>\n\n<p>In my component I'm selecting the store state as: </p>\n\n<pre><code>export class MyComponent implements OnInit, OnDestroy {\n  rangeSchemas$: Observable&lt;RangeSchemaViewModel[]&gt;;\n\n  ngOnInit() {\n    this.rangeSchemas$ = this.store.pipe(\n      select(RawSignalsStoreSelectors.selectRangeSchemasViewModel)\n    );\n  }\n\n   onMetaSignalChanged(event: any) {\n     this.store.dispatch(\n       RawSignalsStoreActions.changeMetaSignal({ id: event.meta_Signal_Id })\n     );\n   }\n\n  //onmetaSignalChanged, Action is called which is updating the state of rangeSchemas$\n}\n</code></pre>\n\n<p>Here is my selector code:</p>\n\n<pre><code>const getRangeSchemas = (state: State): RangeSchema[] =&gt; state.rangeSchemas;\n\nexport const selectRangeSchemasState: MemoizedSelector&lt;\n  object,\n  State\n&gt; = createFeatureSelector&lt;State&gt;('raw-signals');\n\nexport const selectRangeSchemasViewModel: MemoizedSelector&lt; \n  object,\n  RangeSchemaViewModel[]\n&gt; = createSelector(\n    selectRangeSchemasState,\n    getRangeSchemas,\n    (state, rangeSchemas) =&gt; {\n        return rangeSchemas.map((item) =&gt;{\n            let rangeSchemaViewModel: RangeSchemaViewModel;\n            rangeSchemaViewModel.id= item.mapping.id;\n            rangeSchemaViewModel.rangeSchemaName= item.mapping.rangeSchemaName;\n            return rangeSchemaViewModel;\n        })\n    });\n</code></pre>\n\n<p>Reducer Code:</p>\n\n<pre><code>on(rawSignalsActions.changeMetaSignal, (state, { id }) =&gt; ({\n...state,\nlinkedMetaSignal: state.metaSignals.filter(item =&gt; item.id === id)[0]\n })),\non(rawSignalsActions.rangeSchemasLoadCompletedError, state =&gt; ({\n    ...state,\n    loading: { ...state.loading, rangeSchemas: false }\n })),\non(rawSignalsActions.rangeSchemasLoadCompletedSuccess,\n    // tslint:disable-next-line: no-shadowed-variable\n    (state, { rangeSchemas }) =&gt; ({\n      ...state,\n      rangeSchemas,\n      loading: { ...state.loading, rangeSchemas: false }\n    })\n  )\n</code></pre>\n\n<p>Effects Code: </p>\n\n<pre><code>  getRangeSchemas$ = createEffect(() =&gt;\n  this.actions$.pipe(\n      ofType(RawSignalsActions.changeMetaSignal),\n      concatMap(action =&gt; this.rawSignalsDataService.getRangeSchemas(action.id).pipe(\n        map(rs1 =&gt; this.constructSignalCounts(rs1)),\n        map(rs2 =&gt; RawSignalsActions.rangeSchemasLoadCompletedSuccess( { rangeSchemas: rs2 })),\n          catchError(err =&gt; of(RawSignalsActions.rangeSchemasLoadCompletedError({ error: err })))\n      )),\n  ));\n\n  constructSignalCounts = ( rangeSchemas: RangeSchema[]) =&gt; {\n    for (var rangeSchema of rangeSchemas){\n        let signalCounts: SignalCount[] = [];\n        for (var abstractSignal of rangeSchema.abstractSignals) {\n            let signalCount: SignalCount = { range: \"0\", populationSize: 0, populationPerc: 0, lowRange: 0, highRange:0 };\n            signalCount.range = abstractSignal.abstractSignal.name;\n            signalCount.populationSize = 20;\n            signalCount.populationPerc = 40;\n            if (rangeSchema.mapping.type == 2) {    // 2 -&gt; numeric, 3 -&gt; Text\n              // actually type will come from Signal Range Schema\n              signalCount.lowRange = abstractSignal.numericMappings[0].minValue;\n              signalCount.highRange = abstractSignal.numericMappings[0].maxValue;\n            }\n            signalCounts.push(signalCount);\n          }\n          rangeSchema.signalCounts = signalCounts;\n\n    }\n    return rangeSchemas;\n  };\n</code></pre>\n"}, {"tags": ["javascript", "typescript"], "comments": [{"owner": {"reputation": 1067, "user_id": 4565953, "user_type": "registered", "profile_image": "https://graph.facebook.com/789324271159194/picture?type=large", "display_name": "HaSnen Tai", "link": "https://stackoverflow.com/users/4565953/hasnen-tai"}, "edited": false, "score": 0, "creation_date": 1575445187, "post_id": 59170994, "comment_id": 104564533, "body": "did you tried  key1: any; instead of  key1: string;"}, {"owner": {"reputation": 1575, "user_id": 5048112, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/CIfhR.jpg?s=128&g=1", "display_name": "Shubham", "link": "https://stackoverflow.com/users/5048112/shubham"}, "reply_to_user": {"reputation": 1067, "user_id": 4565953, "user_type": "registered", "profile_image": "https://graph.facebook.com/789324271159194/picture?type=large", "display_name": "HaSnen Tai", "link": "https://stackoverflow.com/users/4565953/hasnen-tai"}, "edited": false, "score": 0, "creation_date": 1575445255, "post_id": 59170994, "comment_id": 104564564, "body": "@HaSnenTai I don&#39;t want to use type any in my code. With type <code>any</code> I can assign the values directly without error."}, {"owner": {"reputation": 28393, "user_id": 5669456, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/aeueo.png?s=128&g=1", "display_name": "ford04", "link": "https://stackoverflow.com/users/5669456/ford04"}, "edited": false, "score": 0, "creation_date": 1575452670, "post_id": 59170994, "comment_id": 104568149, "body": "So you want to copy only the common properties from a source to a target object if I interpret the example correctly. Also, you want get rid of <code>array1</code>, <code>array2</code> and don&#39;t manually define those keys?"}, {"owner": {"reputation": 1575, "user_id": 5048112, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/CIfhR.jpg?s=128&g=1", "display_name": "Shubham", "link": "https://stackoverflow.com/users/5048112/shubham"}, "reply_to_user": {"reputation": 28393, "user_id": 5669456, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/aeueo.png?s=128&g=1", "display_name": "ford04", "link": "https://stackoverflow.com/users/5669456/ford04"}, "edited": false, "score": 0, "creation_date": 1575455202, "post_id": 59170994, "comment_id": 104569671, "body": "@ford04 What you interpret it correct, only one correction I want to use array1 and array2 to define what property I want to retrieve. Type of these arrays can be changed in order to achieve the goal."}], "answers": [{"comments": [{"owner": {"reputation": 1575, "user_id": 5048112, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/CIfhR.jpg?s=128&g=1", "display_name": "Shubham", "link": "https://stackoverflow.com/users/5048112/shubham"}, "edited": false, "score": 0, "creation_date": 1575450120, "post_id": 59171467, "comment_id": 104566778, "body": "Not fixing the issue."}], "tags": [], "owner": {"reputation": 1927, "user_id": 3125339, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NJoVN.png?s=128&g=1", "display_name": "MEDZ", "link": "https://stackoverflow.com/users/3125339/medz"}, "is_accepted": false, "score": 0, "last_activity_date": 1575450828, "last_edit_date": 1575450828, "creation_date": 1575446828, "answer_id": 59171467, "question_id": 59170994, "link": "https://stackoverflow.com/questions/59170994/how-to-add-dynamic-values-from-one-object-to-another-object-of-different-type-in/59171467#59171467", "title": "How to add dynamic values from one object to another object of different type in typescript", "body": "<p>You can try <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/in\" rel=\"nofollow noreferrer\"><code>in</code></a> operator to check if the key exists inside an object before assignment:</p>\n\n<pre><code>array1.forEach((key: keyof type2) =&gt; {\n    if(key in obj1)\n       obj1[key] = obj2[key]; /* Error occurred while adding value */\n});\n\narray2.forEach((key: keyof type3) =&gt; {\n    if(key in obj3)\n       obj3[key] = obj2[key]; /* Error occurred while adding value */\n});\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1575, "user_id": 5048112, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/CIfhR.jpg?s=128&g=1", "display_name": "Shubham", "link": "https://stackoverflow.com/users/5048112/shubham"}, "edited": false, "score": 1, "creation_date": 1575520950, "post_id": 59178656, "comment_id": 104596412, "body": "Thanks a lot. You&#39;re a life saver :)."}], "tags": [], "owner": {"reputation": 28393, "user_id": 5669456, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/aeueo.png?s=128&g=1", "display_name": "ford04", "link": "https://stackoverflow.com/users/5669456/ford04"}, "is_accepted": true, "score": 1, "last_activity_date": 1575470741, "creation_date": 1575470741, "answer_id": 59178656, "question_id": 59170994, "link": "https://stackoverflow.com/questions/59170994/how-to-add-dynamic-values-from-one-object-to-another-object-of-different-type-in/59178656#59178656", "title": "How to add dynamic values from one object to another object of different type in typescript", "body": "<p>Here is a workable solution with minimal adjustments to your code (<a href=\"https://www.typescriptlang.org/play/#code/JYOwLgpgTgZghgYwgAjATwA4QIzIN4CwAUMsgNYRrYBcyAzmFKAOYDcxpFaATLQ0yDYdylAMwB+Wuiyj2RAL7FioSLEQppEbvmFca9RizmdKvAwKEkRaAKx9Dg49YBstEAFcAtgCNocxUTK4NDwSKiYEKI6Vlw2kuZGupTO8R4+fsQBxAgA9iAMyDneAFb6mrgAvPjyyHB04VjYcrn5YIUlZpraVXjW+gDkABbA-QA01mZDEAA20zlj1nbI-QASOdNwC1yuyNjcUfLNeQVwUFBwVMhVANr9egt3pv0AurX1LQxKRKfnVAB0MByUAAoohBgAKAA8AGlkBAAB6QEAAE3qXByMGQ4PKyAAPg0tABKAB84K4tGhhKuxOipCKpWuXFeVXp3EZlGerGQmUJcmyxza9NEUgiUR6NTqBNk-NatTOF26yFusQe2xeb2QHzAXx+CoBQNBCAhMLhiIgKLRlAxWM0UXxXRJZMoFKpFRphCsQvZaGZ7WKbKZXJ5fKIH3WED+c2Y4Pp2F5Mro4cjOWjQsJQA\" rel=\"nofollow noreferrer\">Playground</a>):</p>\n\n<pre><code>const obj1: type1 = {} as type1;\nconst obj2: type2 = { key1: 'hi', key2: 'hello', key5: 'Hola', key6: 123 };\nconst array1 = ['key1', 'key2'] as const\n\narray1.forEach(&lt;K extends keyof (type1 | type2)&gt;(key: K) =&gt; {\n  obj1[key] = obj2[key]; \n});\n\n// same with 2nd case (obj2, obj3, array2)\n</code></pre>\n\n<p>We can define <code>array1</code> and <code>array2</code> as tuples with const assertion, no need to annotate an explicit type.</p>\n\n<p>In order to get the computed property access with both <code>obj1</code> and <code>obj2</code> to work, the <code>key</code> has to be declared as generic type parameter <code>K</code> with constraint <code>K extends keyof (type1 | type2)</code> (means, restrict to all common properties of <code>type1</code> and <code>type2</code>). See <a href=\"https://stackoverflow.com/questions/59173087/type-undefined-is-not-assignable-to-type-never/59175511#59175511\">this answer</a> for an explanation of issues with computed property access with union key types and why generics are necessary.</p>\n\n<p>Object spread is a second alternative, where the types get a bit easier (<a href=\"https://www.typescriptlang.org/play/?ssl=26&amp;ssc=2&amp;pln=19&amp;pc=1#code/JYOwLgpgTgZghgYwgAjATwA4QIzIN4CwAUMsgNYRrYBcyAzmFKAOYDcxpFaATLQ0yDYdylAMwB%20Wuiyj2RAL7FioSLEQppEbvmFca9RizmdKvAwKEkRaAKx9Dg49YBstEAFcAtgCNocxUTK4NDwSKiYEKI6Vlw2kuZGupTO8R4%20fsQBxAgA9iAMyDneAFb6mrgAvPjyyHB04VjYcrn5YIUlZpraVXjW%20gDkABbA-QA01mZDEAA20zlj1nbI-QASOdNwC1yuyNjcUfJy2XkFRaUAchAA7sg9wgB0j2fYow%20PABQA2v16Cz%20m-QAurV6i0GABKe5QCAAE3cSHe70QCHGCHcUHBtwAfMJSO9eo97sjxoTep80VBAbQztxyejgTV5ODxnganUGjhmZklEQwW0zqIpBEoj02fVNLIeXz2sVRJcbncrISBa8lR9vrE-tsgSDkHzIdC4QikQgUXr0ZiKjirHiCY9ichScg6ZTqR0XQzkEyWWKOaJwdzAryTusIPc5sx3s95QHg-lQ%20GcpGBTGgA\" rel=\"nofollow noreferrer\">Playground</a>):</p>\n\n<pre><code>const obj1: type1 = {} as type1;\nconst obj2: type2 = { key1: 'hi', key2: 'hello', key5: 'Hola', key6: 123 };\n\nconst obj1New = {\n  ...obj1,\n  ...(['key1', 'key2'] as const).reduce((acc, cur) =&gt;\n    ({ ...acc, ...{ [cur]: obj2[cur] } }), {} as type1),\n}\n\n// same with 2nd case (obj2, obj3, array2)\n</code></pre>\n"}], "owner": {"reputation": 1575, "user_id": 5048112, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/CIfhR.jpg?s=128&g=1", "display_name": "Shubham", "link": "https://stackoverflow.com/users/5048112/shubham"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 65, "favorite_count": 0, "accepted_answer_id": 59178656, "answer_count": 2, "score": 0, "last_activity_date": 1575470741, "creation_date": 1575444815, "last_edit_date": 1575445175, "question_id": 59170994, "link": "https://stackoverflow.com/questions/59170994/how-to-add-dynamic-values-from-one-object-to-another-object-of-different-type-in", "title": "How to add dynamic values from one object to another object of different type in typescript", "body": "<pre><code>interface type1 {\n    key1: string;\n    key2: string;\n    key3?: type3;\n}\n\ninterface type2 {\n    key1: string;\n    key2: string;\n    key5: string;\n    key6: number;\n}\n\ninterface type3 { \n    key5?: string;\n    key6?: number;\n}\n\nconst obj1: type1 = &lt;type1&gt;{};\n\nconst obj2: type2 = {\n    key1: 'hi',\n    key2: 'hello',\n    key5: 'Hola',\n    key6: 123\n};\n\nconst obj3: type3 = &lt;type3&gt;{};\n\nconst array1: (keyof type2)[] = ['key1', 'key2'];\nconst array2: (keyof type3)[] = ['key5', 'key6'];\n\n\narray1.forEach((key: keyof type2) =&gt; {\n    obj1[key] = obj2[key]; /* Error occurred while adding value */\n});\n\narray2.forEach((key: keyof type3) =&gt; {\n    obj3[key] = obj2[key]; /* Error occurred while adding value */\n});\n\nobj1.key3 = obj3;\n\nconsole.log(obj1);\n</code></pre>\n\n<p>I have 3 objects of different types but some keys are common in objects. I want to add values dynamically from one object to another. I've added the code what I tried till now.</p>\n\n<p>Is there any way to achieve it. Practically I've more keys than what I've put on the example. assigning them one by one will be huge and inefficient.</p>\n\n<p>Thanks in advance.</p>\n"}, {"tags": ["typescript"], "comments": [{"owner": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 1, "creation_date": 1575444801, "post_id": 59170979, "comment_id": 104564375, "body": "Interfaces don&#39;t exist in JavaScript, there&#39;s nothing concrete to output from that file."}], "answers": [{"tags": [], "owner": {"reputation": 565, "user_id": 12279362, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mDeRyy_GQnGetFSOnilqVIDmBW8YMrKGUbNkQ2SPA=k-s128", "display_name": "LALIT KANTA DIBYADARSHAN", "link": "https://stackoverflow.com/users/12279362/lalit-kanta-dibyadarshan"}, "is_accepted": true, "score": 1, "last_activity_date": 1575447567, "creation_date": 1575447567, "answer_id": 59171645, "question_id": 59170979, "link": "https://stackoverflow.com/questions/59170979/typescript-compiled-javascript-is-not-in-corresponding-file/59171645#59171645", "title": "Typescript compiled javascript is not in corresponding file", "body": "<p>Interfaces are there in TypeScript to enable a strong type check. Typescript restricts dynamic data binding and shows errors in compile-time, which saves from accidental type change in run time.  But on the other hand, Javascript has dynamically typed. So it does not require Interface. That's why you got nothing js file.</p>\n"}], "owner": {"reputation": 65, "user_id": 10396560, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YiDdm.jpg?s=128&g=1", "display_name": "CMarker", "link": "https://stackoverflow.com/users/10396560/cmarker"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 29, "favorite_count": 0, "accepted_answer_id": 59171645, "answer_count": 1, "score": -1, "last_activity_date": 1575447567, "creation_date": 1575444738, "last_edit_date": 1575445601, "question_id": 59170979, "link": "https://stackoverflow.com/questions/59170979/typescript-compiled-javascript-is-not-in-corresponding-file", "title": "Typescript compiled javascript is not in corresponding file", "body": "<p>I have this Typescript file defining Interfaces for the project. And when I'm looking in the compiled .js file for that exact file I don't see any compiled code. How come I can't see the equivalent code in this file?</p>\n\n<p>Side note: in almost every other .js file in the build folder I can find the compiled ts code.</p>\n\n<p>src/interfaces/company.ts</p>\n\n<pre><code>export interface Company {\n  companyId: string;\n  name: string;\n  desc: string;\n  presets: Preset[];\n  locations: Location[];\n  profileHistory: Profile[];\n  subscriptions: Subscription[];\n}\n\nexport interface CompanyInput {\n  companyId: string;\n  name: string;\n  desc: string;\n}\n</code></pre>\n\n<p>build/interfaces/company.js</p>\n\n<pre><code>\"use strict\";\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsInNvdXJjZXNDb250ZW50IjpbXX0=\n</code></pre>\n\n<p>the base64 encoded string decodes to: <code>{\"version\":3,\"sources\":[],\"names\":[],\"mappings\":\"\",\"sourcesContent\":[]}</code></p>\n"}, {"tags": ["angular", "typescript"], "comments": [{"owner": {"reputation": 738, "user_id": 6582724, "user_type": "registered", "accept_rate": 35, "profile_image": "https://www.gravatar.com/avatar/383695d8744db87cb9bbe0890d2a89b3?s=128&d=identicon&r=PG&f=1", "display_name": "Manihtraa", "link": "https://stackoverflow.com/users/6582724/manihtraa"}, "edited": false, "score": 1, "creation_date": 1575445538, "post_id": 59170957, "comment_id": 104564689, "body": "Your logic is wrong, explain little bit more, what your trying to do?"}, {"owner": {"reputation": 1, "user_id": 11977631, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-tLFu9KfpCH8/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rdyY486lQrb05HoQwzYk88FOUjzgg/photo.jpg?sz=128", "display_name": "Vivek Maurya", "link": "https://stackoverflow.com/users/11977631/vivek-maurya"}, "reply_to_user": {"reputation": 738, "user_id": 6582724, "user_type": "registered", "accept_rate": 35, "profile_image": "https://www.gravatar.com/avatar/383695d8744db87cb9bbe0890d2a89b3?s=128&d=identicon&r=PG&f=1", "display_name": "Manihtraa", "link": "https://stackoverflow.com/users/6582724/manihtraa"}, "edited": false, "score": 0, "creation_date": 1575450823, "post_id": 59170957, "comment_id": 104567142, "body": "I updated the project."}, {"owner": {"reputation": 15657, "user_id": 1164465, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qtP66.jpg?s=128&g=1", "display_name": "Christopher Peisert", "link": "https://stackoverflow.com/users/1164465/christopher-peisert"}, "edited": false, "score": 0, "creation_date": 1575462996, "post_id": 59170957, "comment_id": 104573770, "body": "You could try using <code>FormArray</code> and its <code>insert</code> method. See <a href=\"https://stackoverflow.com/a/59118097/1164465\">dyamic form example</a>"}], "owner": {"reputation": 1, "user_id": 11977631, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-tLFu9KfpCH8/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rdyY486lQrb05HoQwzYk88FOUjzgg/photo.jpg?sz=128", "display_name": "Vivek Maurya", "link": "https://stackoverflow.com/users/11977631/vivek-maurya"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 115, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1575886284, "creation_date": 1575444661, "last_edit_date": 1575886284, "question_id": 59170957, "link": "https://stackoverflow.com/questions/59170957/use-splice-in-angular-reactive-form-to-add-new-controls-at-given-index-position", "title": "use splice in Angular Reactive Form to add new controls at given index position", "body": "<p>I am new to Angular. I am currently working on Angular Form Builder. I have employee List(name and salary) in todo.service and display these list in  todo-list.html using form-builder. I would like, when click the change  button, new employee list (name: mayank and salary: 70000) is added below this index position. For this we used splice() method. At the first time project work right. but the second, third and so on times target employee list (name: mayank and salary: 70000) is not added the right position. e.g. When I click Vivek1 button, mayank is added below Vivek1. After that when I click Vivek4 button, mayank is not added below Vivek4.\n<a href=\"https://github.com/777Vikki/Add-list-in-array-using-splice\" rel=\"nofollow noreferrer\">https://github.com/777Vikki/Add-list-in-array-using-splice</a></p>\n"}, {"tags": ["angular", "typescript", "ng2-smart-table"], "answers": [{"comments": [{"owner": {"reputation": 103, "user_id": 11835682, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a46976ae31b0789464a0aec67e46661a?s=128&d=identicon&r=PG&f=1", "display_name": "Deep", "link": "https://stackoverflow.com/users/11835682/deep"}, "edited": false, "score": 0, "creation_date": 1575444545, "post_id": 59170829, "comment_id": 104564284, "body": "BTW, I have done it by creating two class one for cost disbursement and one for progress inside the same component. And calling the respective class to be rendered."}, {"owner": {"reputation": 127, "user_id": 4831536, "user_type": "registered", "profile_image": "https://graph.facebook.com/844167752299290/picture?type=large", "display_name": "Aakash Bumiya", "link": "https://stackoverflow.com/users/4831536/aakash-bumiya"}, "reply_to_user": {"reputation": 103, "user_id": 11835682, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a46976ae31b0789464a0aec67e46661a?s=128&d=identicon&r=PG&f=1", "display_name": "Deep", "link": "https://stackoverflow.com/users/11835682/deep"}, "edited": false, "score": 0, "creation_date": 1575447787, "post_id": 59170829, "comment_id": 104565633, "body": "<code>@Input()title:string  onClick=()=&gt;{    console.log(this.title) }</code>"}, {"owner": {"reputation": 127, "user_id": 4831536, "user_type": "registered", "profile_image": "https://graph.facebook.com/844167752299290/picture?type=large", "display_name": "Aakash Bumiya", "link": "https://stackoverflow.com/users/4831536/aakash-bumiya"}, "reply_to_user": {"reputation": 103, "user_id": 11835682, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a46976ae31b0789464a0aec67e46661a?s=128&d=identicon&r=PG&f=1", "display_name": "Deep", "link": "https://stackoverflow.com/users/11835682/deep"}, "edited": false, "score": 0, "creation_date": 1575447837, "post_id": 59170829, "comment_id": 104565652, "body": "<code>&lt;app-button title=&quot;Cost Disbursement&quot;&gt;Cost Disbursement&lt;&#47;button&gt; &lt;app-button title=&quot;Physical Progress&quot;&gt;Physical Progress&lt;&#47;button&gt;</code>"}], "tags": [], "owner": {"reputation": 127, "user_id": 4831536, "user_type": "registered", "profile_image": "https://graph.facebook.com/844167752299290/picture?type=large", "display_name": "Aakash Bumiya", "link": "https://stackoverflow.com/users/4831536/aakash-bumiya"}, "is_accepted": false, "score": 0, "last_activity_date": 1575444129, "creation_date": 1575444129, "answer_id": 59170829, "question_id": 59170357, "link": "https://stackoverflow.com/questions/59170357/i-have-the-same-button-rendered-in-two-different-place-how-to-know-which-button/59170829#59170829", "title": "I have the same button rendered in two different place. How to know which button is clicked?", "body": "<p>Add one @input() Attribute to your childComponent(Button Component) i.e title = 'Physical Progress' or title = 'Cost Disbursement' and then pass it to onClick(title)</p>\n"}, {"tags": [], "owner": {"reputation": 28589, "user_id": 8558186, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8af66bb1af6d1875a2dd7be9dd1c8d2b?s=128&d=identicon&r=PG&f=1", "display_name": "Eliseo", "link": "https://stackoverflow.com/users/8558186/eliseo"}, "is_accepted": false, "score": 1, "last_activity_date": 1575446418, "creation_date": 1575446418, "answer_id": 59171379, "question_id": 59170357, "link": "https://stackoverflow.com/questions/59170357/i-have-the-same-button-rendered-in-two-different-place-how-to-know-which-button/59171379#59171379", "title": "I have the same button rendered in two different place. How to know which button is clicked?", "body": "<p>Deep say you add to your button.component.ts</p>\n\n<pre><code>@Input()title:string\n\n//and change the onClick like\nonClick=()=&gt;{\n   console.log(this.title)\n   ...\n}\n</code></pre>\n\n<p>And change the main.html like</p>\n\n<pre><code>&lt;app-button [title]=\"'one'\"&gt;One&lt;/button&gt;\n&lt;app-button [title]=\"'two'\"&gt;Two&lt;/button&gt;\n</code></pre>\n\n<p>Well, when a \"input\" is fixed, it's recomender use @attribute. That's imagine you has in your app.component</p>\n\n<pre><code>&lt;app-button something=\"one\"&gt;One&lt;/button&gt;\n</code></pre>\n\n<p>See that the \"attribute\" it's not enclosed by [] and is a simple string. You can \"get\" the attribute in the constructor of app-button:</p>\n\n<pre><code>constructor(@Attribute('something') public something: string) {}\n</code></pre>\n\n<p>See <a href=\"https://stackblitz.com/edit/angular-cp2cc1?file=src%2Fapp%2Fhello.component.ts\" rel=\"nofollow noreferrer\">simple stackblitz</a></p>\n\n<p>This is most efficient, because Angular don't ask about an attribute</p>\n"}, {"tags": [], "owner": {"reputation": 21, "user_id": 11497957, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-XBTvzeRJpB8/AAAAAAAAAAI/AAAAAAAACW0/PNVfFH6VdAQ/photo.jpg?sz=128", "display_name": "Luis Liu Zhou", "link": "https://stackoverflow.com/users/11497957/luis-liu-zhou"}, "is_accepted": false, "score": 1, "last_activity_date": 1580286536, "creation_date": 1580286536, "answer_id": 59963113, "question_id": 59170357, "link": "https://stackoverflow.com/questions/59170357/i-have-the-same-button-rendered-in-two-different-place-how-to-know-which-button/59963113#59963113", "title": "I have the same button rendered in two different place. How to know which button is clicked?", "body": "<p>maybe you just want to do something when one of the buttons is clicked:</p>\n\n<p>In your settings:</p>\n\n<pre><code>  cost_disbursement: {\n    title: 'Cost Disbursement',\n    filter:{\n      type: 'custom',\n      component: RangeFilterComponent,\n      onComponentInitFunction: (instance) =&gt; {\n      instance.click.subscribe(()=&gt; {\n        this.methodA();\n        });\n      },\n    },\n  },\n  physical_progress: {\n    title: 'Physical Progress',\n    filter:{\n      type: 'custom',\n      component: RangeFilterComponent,\n      onComponentInitFunction: (instance) =&gt; {\n      instance.click.subscribe(()=&gt; {\n        this.methodB();\n        });\n      },\n    }\n  },\n</code></pre>\n\n<p>In your custom render component:</p>\n\n<pre><code>@Component({\n  template: `\n    &lt;button (click)=\"onClick()\"&gt;Select Range&lt;/button&gt;\n  `,\n})\nexport class RangeFilterComponent extends DefaultFilter implements OnInit {\n\n  inputControl = new FormControl();\n  @Output() click = new EventEmitter();\n\n  constructor(private dialogService: NbDialogService) {\n    super();   \n  }\n\n  ngOnInit() {\n  }\n\n  onClick()=&gt;{\n    this.click.emit();\n  }\n}\n</code></pre>\n\n<p>and manage the open modal in the methodA() and methodB()</p>\n"}], "owner": {"reputation": 103, "user_id": 11835682, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a46976ae31b0789464a0aec67e46661a?s=128&d=identicon&r=PG&f=1", "display_name": "Deep", "link": "https://stackoverflow.com/users/11835682/deep"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 141, "favorite_count": 0, "answer_count": 3, "score": 0, "last_activity_date": 1580286536, "creation_date": 1575442051, "question_id": 59170357, "link": "https://stackoverflow.com/questions/59170357/i-have-the-same-button-rendered-in-two-different-place-how-to-know-which-button", "title": "I have the same button rendered in two different place. How to know which button is clicked?", "body": "<p>I am using ng2-smart-table. I used the custom filter and rendered same button in both the filter. But I am confused how to know which button is clicked.?</p>\n\n<p><a href=\"https://i.stack.imgur.com/b1Uca.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/b1Uca.png\" alt=\"enter image description here\"></a></p>\n\n<p>This is the component of the button.</p>\n\n<pre><code>@Component({\n  template: `\n    &lt;button (click)=\"onClick()\"&gt;Select Range&lt;/button&gt;\n  `,\n})\nexport class RangeFilterComponent extends DefaultFilter implements OnInit {\n\n  inputControl = new FormControl();\n\n  constructor(private dialogService: NbDialogService) {\n    super();   \n  }\n\n  ngOnInit() {\n  }\n\n  onClick=()=&gt;{\n    this.dialogService.open(ShowcaseDialogComponent, {\n      context: {\n        title: 'Select Range',\n      },\n    });\n  }\n}\n</code></pre>\n\n<p>This is the settings of ng2-smart-table where i have rendered the button</p>\n\n<pre><code>columns: {\n      name: {\n        title: 'Project Name',\n        type: 'string',\n      },\n      description: {\n        title: 'Description',\n        type: 'string',\n      },\n      type: {\n        title: 'Project Type',\n        type: 'string',\n      },\n      scheme: {\n        title: 'Scheme',\n        type: 'string',\n      },\n      assigned_to: {\n        title: 'Engineer',\n        type: 'string',\n      },\n      assigned_contractor: {\n        title: 'Contractor',\n        type: 'string',\n      },\n      cost_disbursement: {\n        title: 'Cost Disbursement',\n        filter:{\n          type: 'custom',\n          component: RangeFilterComponent\n        }\n      },\n      physical_progress: {\n        title: 'Physical Progress',\n        filter:{\n          type: 'custom',\n          component: RangeFilterComponent\n        }\n      },\n</code></pre>\n"}, {"tags": ["angular", "typescript"], "answers": [{"comments": [{"owner": {"reputation": 739, "user_id": 9552112, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Mr. Learner", "link": "https://stackoverflow.com/users/9552112/mr-learner"}, "edited": false, "score": 0, "creation_date": 1575442303, "post_id": 59170189, "comment_id": 104563437, "body": "getting <code>TypeError: Cannot read property &#39;triggerModal&#39; of undefined</code>"}, {"owner": {"reputation": 17679, "user_id": 7603109, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/BoIE4.png?s=128&g=1", "display_name": "Adrita Sharma", "link": "https://stackoverflow.com/users/7603109/adrita-sharma"}, "reply_to_user": {"reputation": 739, "user_id": 9552112, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Mr. Learner", "link": "https://stackoverflow.com/users/9552112/mr-learner"}, "edited": false, "score": 0, "creation_date": 1575442371, "post_id": 59170189, "comment_id": 104563455, "body": "What is the selector of <code>ModalComponent </code>?"}, {"owner": {"reputation": 739, "user_id": 9552112, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Mr. Learner", "link": "https://stackoverflow.com/users/9552112/mr-learner"}, "edited": false, "score": 0, "creation_date": 1575442540, "post_id": 59170189, "comment_id": 104563501, "body": "<code>app-alert-modal</code> .  i need to change like this <code>&lt;app-alert-modall #target&gt;&lt;&#47;app-alert-modal&gt;</code> ?"}, {"owner": {"reputation": 739, "user_id": 9552112, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Mr. Learner", "link": "https://stackoverflow.com/users/9552112/mr-learner"}, "edited": false, "score": 0, "creation_date": 1575442801, "post_id": 59170189, "comment_id": 104563601, "body": "can you pls create stackblitz for this? im still getting console error even after changed with proper selector.!"}], "tags": [], "owner": {"reputation": 17679, "user_id": 7603109, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/BoIE4.png?s=128&g=1", "display_name": "Adrita Sharma", "link": "https://stackoverflow.com/users/7603109/adrita-sharma"}, "is_accepted": false, "score": 1, "last_activity_date": 1575441371, "creation_date": 1575441371, "answer_id": 59170189, "question_id": 59170108, "link": "https://stackoverflow.com/questions/59170108/viewchild-not-triggering-modal-pop-and-throwing-error-triggermodal-is-not-a-fun/59170189#59170189", "title": "@viewChild not triggering modal pop and throwing error triggerModal is not a function- Angular", "body": "<p>Since <code>target</code> is type of <code>ModalComponent</code>, it will be:</p>\n\n<p>.html</p>\n\n<pre><code>&lt;button (click)=\"openModal()\"&gt;open modal&lt;/button&gt;\n&lt;app-modal #target&gt;&lt;/app-modal&gt;\n</code></pre>\n\n<p>.ts</p>\n\n<pre><code>@ViewChild('target') private target: ModalComponent;\n\nopenModal(){\n  this.target.triggerModal();\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 739, "user_id": 9552112, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Mr. Learner", "link": "https://stackoverflow.com/users/9552112/mr-learner"}, "is_accepted": false, "score": 0, "last_activity_date": 1575447610, "creation_date": 1575447610, "answer_id": 59171657, "question_id": 59170108, "link": "https://stackoverflow.com/questions/59170108/viewchild-not-triggering-modal-pop-and-throwing-error-triggermodal-is-not-a-fun/59171657#59171657", "title": "@viewChild not triggering modal pop and throwing error triggerModal is not a function- Angular", "body": "<p>I fix my issue and the solution is here in <a href=\"https://stackblitz.com/edit/angular-h2wbhz\" rel=\"nofollow noreferrer\">StackBlitz</a> . someone may need this in future</p>\n"}, {"tags": [], "owner": {"reputation": 1990, "user_id": 12326421, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-JbJl27mnzzQ/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3reae_Gn8hEX-jZUqSenBmr_v-zCaw/photo.jpg?sz=128", "display_name": "Himanshu Singh", "link": "https://stackoverflow.com/users/12326421/himanshu-singh"}, "is_accepted": true, "score": 1, "last_activity_date": 1575451568, "creation_date": 1575451568, "answer_id": 59172668, "question_id": 59170108, "link": "https://stackoverflow.com/questions/59170108/viewchild-not-triggering-modal-pop-and-throwing-error-triggermodal-is-not-a-fun/59172668#59172668", "title": "@viewChild not triggering modal pop and throwing error triggerModal is not a function- Angular", "body": "<p>You can do it using <code>@ViewChild</code> as follows:</p>\n\n<pre><code>  @ViewChild(ModalComponent) modalC:ModalComponent; \n  parentButtonHandler(){\n     this.modalC.triggerModal();\n  }\n</code></pre>\n\n<p>The working demo for opening Modal of child from parent is :\n<a href=\"https://stackblitz.com/edit/angular-2pmdzk\" rel=\"nofollow noreferrer\">demo</a></p>\n"}], "owner": {"reputation": 739, "user_id": 9552112, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Mr. Learner", "link": "https://stackoverflow.com/users/9552112/mr-learner"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 289, "favorite_count": 0, "accepted_answer_id": 59172668, "answer_count": 3, "score": 0, "last_activity_date": 1575451568, "creation_date": 1575440982, "question_id": 59170108, "link": "https://stackoverflow.com/questions/59170108/viewchild-not-triggering-modal-pop-and-throwing-error-triggermodal-is-not-a-fun", "title": "@viewChild not triggering modal pop and throwing error triggerModal is not a function- Angular", "body": "<p>I don't know why click event not firing from parent component to show bootstrap 3 modal. its throwing error like below</p>\n\n<pre><code>ERROR TypeError: this.target.triggerModal is not a function\n</code></pre>\n\n<p>So far what i've;</p>\n\n<p><strong>componentPrnt</strong></p>\n\n<pre><code>@ViewChild('target') private target: modalComponent;\n\nngOnInit(){\nthis.target.triggerModal();\n}\n\n&lt;btton #target&gt;open modal&lt;/button&gt;\n</code></pre>\n\n<p><strong>modalComponet</strong></p>\n\n<pre><code>export class ModalComponent implements OnInit {     \n    constructor() { }\n    ngOnInit() {        \n\n  }    \n    triggerModal() {\n        console.log('model opened');\n        $('#myModal').modal(\"show\");\n    }\n}\n\n\n&lt;div class=\"modal fade\" id=\"myModal\" role=\"dialog\"&gt;\n    &lt;div class=\"modal-dialog\"&gt;\n        &lt;div class=\"modal-content\"&gt;\n            &lt;div class=\"modal-header\"&gt;\n                &lt;button type=\"button\" class=\"close\" data-dismiss=\"modal\"&gt;&amp;times;&lt;/button&gt;\n                &lt;h4 class=\"modal-title\"&gt;Modal Header&lt;/h4&gt;\n            &lt;/div&gt;\n            &lt;div class=\"modal-body\"&gt;\n                &lt;p&gt;Some text in the modal.&lt;/p&gt;\n            &lt;/div&gt;\n            &lt;div class=\"modal-footer\"&gt;\n                &lt;button type=\"button\" class=\"btn btn-default\" data-dismiss=\"modal\"&gt;Close&lt;/button&gt;\n            &lt;/div&gt;\n        &lt;/div&gt;\n    &lt;/div&gt;\n&lt;/div&gt;\n</code></pre>\n"}, {"tags": ["javascript", "angular", "typescript", "rxjs"], "answers": [{"comments": [{"owner": {"reputation": 208, "user_id": 10122953, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/11d5ab7854194d6cc11de9379101391b?s=128&d=identicon&r=PG&f=1", "display_name": "Nick", "link": "https://stackoverflow.com/users/10122953/nick"}, "edited": false, "score": 0, "creation_date": 1575440923, "post_id": 59170062, "comment_id": 104562985, "body": "Does not work, I get <code>Cannot read property subscribe of undefined</code>"}, {"owner": {"reputation": 17679, "user_id": 7603109, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/BoIE4.png?s=128&g=1", "display_name": "Adrita Sharma", "link": "https://stackoverflow.com/users/7603109/adrita-sharma"}, "reply_to_user": {"reputation": 208, "user_id": 10122953, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/11d5ab7854194d6cc11de9379101391b?s=128&d=identicon&r=PG&f=1", "display_name": "Nick", "link": "https://stackoverflow.com/users/10122953/nick"}, "edited": false, "score": 0, "creation_date": 1575441070, "post_id": 59170062, "comment_id": 104563029, "body": "Can you check the demo? Its with dummy APIs"}], "tags": [], "owner": {"reputation": 17679, "user_id": 7603109, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/BoIE4.png?s=128&g=1", "display_name": "Adrita Sharma", "link": "https://stackoverflow.com/users/7603109/adrita-sharma"}, "is_accepted": true, "score": 1, "last_activity_date": 1575441050, "last_edit_date": 1575441050, "creation_date": 1575440734, "answer_id": 59170062, "question_id": 59170016, "link": "https://stackoverflow.com/questions/59170016/angular-8-return-observable-after-chain-of-async-calls/59170062#59170062", "title": "Angular 8 return observable after chain of async calls", "body": "<p>Try like this:</p>\n\n<p><a href=\"https://stackblitz.com/edit/angular-t4qgjo?embed=1&amp;file=src/app/app.component.ts\" rel=\"nofollow noreferrer\">Working Demo</a></p>\n\n<pre><code>getData() {\n    return this.getUsers('2')\n      .pipe(\n        flatMap((data: any) =&gt; {  \n          return this.getPosts(data.id);\n        }),\n        flatMap((data: any) =&gt; {            \n          return this.getPosts(data[0].userId);\n        })\n      )\n  }\n</code></pre>\n"}], "owner": {"reputation": 208, "user_id": 10122953, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/11d5ab7854194d6cc11de9379101391b?s=128&d=identicon&r=PG&f=1", "display_name": "Nick", "link": "https://stackoverflow.com/users/10122953/nick"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 161, "favorite_count": 0, "accepted_answer_id": 59170062, "answer_count": 1, "score": 1, "last_activity_date": 1575442071, "creation_date": 1575440477, "last_edit_date": 1575442071, "question_id": 59170016, "link": "https://stackoverflow.com/questions/59170016/angular-8-return-observable-after-chain-of-async-calls", "title": "Angular 8 return observable after chain of async calls", "body": "<p>I have a simple function that calls 3 async functions one after another like this:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>getData() {\n    this.getUsers('2')\n        .pipe(\n        flatMap((data: any) =&gt; {  \n            return this.getPosts(data.id);\n        }),\n        flatMap((data: any) =&gt; {            \n            return this.getPosts(data[0].userId);\n        })\n        ).subscribe(results =&gt; {    \n        return new Observable((observer) =&gt; {\n        observer.next(results);\n        observer.complete();\n        });\n    });\n}\n</code></pre>\n\n<p>I would like someway to be able to call something like:\n<code>this.getdata.subscribe()</code> and that be called when all 3 flatMaps are completed. I assume I would have to have the getData() function return an observable which I tried to do at the bottom but it does not work and I am not able to call .subscribe on the getData() function.</p>\n"}, {"tags": ["angular", "typescript"], "answers": [{"comments": [{"owner": {"reputation": 129, "user_id": 7686159, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/a8fe4e9eb991f1421d517b871611ee91?s=128&d=identicon&r=PG&f=1", "display_name": "aw3123", "link": "https://stackoverflow.com/users/7686159/aw3123"}, "edited": false, "score": 0, "creation_date": 1575441424, "post_id": 59170018, "comment_id": 104563148, "body": "<code>Cli</code> is not an angular app"}], "tags": [], "owner": {"reputation": 167, "user_id": 3724544, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ANJtR.jpg?s=128&g=1", "display_name": "Soumya Ranjan Swain", "link": "https://stackoverflow.com/users/3724544/soumya-ranjan-swain"}, "is_accepted": false, "score": 0, "last_activity_date": 1575440485, "creation_date": 1575440485, "answer_id": 59170018, "question_id": 59169971, "link": "https://stackoverflow.com/questions/59169971/how-to-access-angular-routing-data-outside-angular-app/59170018#59170018", "title": "How to access angular routing data outside angular app", "body": "<p>To get the active route without subscribing to router events, you can simply use a while loop recursively to find the lowest child.</p>\n\n<pre><code>private getActivatedRoute(): ActivatedRoute {\n    let route = this.router.routerState.root;\n    while (route.firstChild) {\n        route = route.firstChild;\n    }\n    return route;\n}\n</code></pre>\n\n<p>Hope this helps.</p>\n"}, {"tags": [], "owner": {"reputation": 530, "user_id": 9370401, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7n8bP.jpg?s=128&g=1", "display_name": "HDallakyan", "link": "https://stackoverflow.com/users/9370401/hdallakyan"}, "is_accepted": false, "score": 0, "last_activity_date": 1575441926, "creation_date": 1575441926, "answer_id": 59170326, "question_id": 59169971, "link": "https://stackoverflow.com/questions/59169971/how-to-access-angular-routing-data-outside-angular-app/59170326#59170326", "title": "How to access angular routing data outside angular app", "body": "<p>Not very good solution, but you can put your data in to <code>window</code> object, and then get it from other module:</p>\n\n<pre><code>const routeData = {name: 'home'}\nwindow['routeData'] = {...routeData};\n</code></pre>\n"}], "owner": {"reputation": 129, "user_id": 7686159, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/a8fe4e9eb991f1421d517b871611ee91?s=128&d=identicon&r=PG&f=1", "display_name": "aw3123", "link": "https://stackoverflow.com/users/7686159/aw3123"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 83, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1575441926, "creation_date": 1575440274, "question_id": 59169971, "link": "https://stackoverflow.com/questions/59169971/how-to-access-angular-routing-data-outside-angular-app", "title": "How to access angular routing data outside angular app", "body": "<p>I need to generate sitemap for each module on build time.</p>\n\n<p>My Project structure</p>\n\n<pre><code>- cli\n- client\n   -- Module A\n      -- Routing A\n   -- Module B\n      -- Routing B\n   -- Module C\n      -- Routing C\n- server\n</code></pre>\n\n<p>I need to access the router data of each modules in the <code>CLI</code> folder to generate the sitemap for respective modules.</p>\n\n<p>I have the logic to generate the sitemap. But I dono how to access the router data. </p>\n\n<p>Please help.</p>\n"}, {"tags": ["angular", "typescript", "angular-material", "angular7"], "comments": [{"owner": {"reputation": 8669, "user_id": 7124761, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-LwwM-Cj7GLE/AAAAAAAAAAI/AAAAAAAAAJw/32uCg85dMvg/photo.jpg?sz=128", "display_name": "Prashant Pimpale", "link": "https://stackoverflow.com/users/7124761/prashant-pimpale"}, "edited": false, "score": 0, "creation_date": 1577169457, "post_id": 59169913, "comment_id": 105109707, "body": "Can you provide a demo in the stackblitz? i.e your tried code"}, {"owner": {"user_type": "does_not_exist", "display_name": "user12555362"}, "edited": false, "score": 0, "creation_date": 1577178913, "post_id": 59169913, "comment_id": 105112557, "body": "will need code to accept as answer, thanks"}, {"owner": {"user_type": "does_not_exist", "display_name": "user12555362"}, "edited": false, "score": 0, "creation_date": 1577178965, "post_id": 59169913, "comment_id": 105112583, "body": "code should be able to work without FormControlName,"}, {"owner": {"reputation": 442, "user_id": 12175891, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6b71c0e58668f88e44037e97c7d407a9?s=128&d=identicon&r=PG", "display_name": "Ali Wahab", "link": "https://stackoverflow.com/users/12175891/ali-wahab"}, "edited": false, "score": 0, "creation_date": 1577179825, "post_id": 59169913, "comment_id": 105112908, "body": "Hi Matt can you please provide your working StackBlitz?"}, {"owner": {"user_type": "does_not_exist", "display_name": "user12555362"}, "edited": false, "score": 0, "creation_date": 1577183194, "post_id": 59169913, "comment_id": 105114133, "body": "<a href=\"https://stackblitz.com/edit/angular6-phone-mask\" rel=\"nofollow noreferrer\">stackblitz.com/edit/angular6-phone-mask</a>   this needs to be transferred into 1 component"}], "answers": [{"tags": [], "owner": {"reputation": 5335, "user_id": 2342414, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/VSR39.jpg?s=128&g=1", "display_name": "benshabatnoam", "link": "https://stackoverflow.com/users/2342414/benshabatnoam"}, "is_accepted": true, "score": 3, "last_activity_date": 1577610082, "last_edit_date": 1577610082, "creation_date": 1577608745, "answer_id": 59517932, "question_id": 59169913, "link": "https://stackoverflow.com/questions/59169913/create-phone-textbox-into-angular-component-wrapper/59517932#59517932", "title": "Create Phone Textbox into Angular Component Wrapper", "body": "<blockquote>\n  <p>Working <a href=\"https://stackblitz.com/edit/nbs-so-angular6-phone-mask\" rel=\"nofollow noreferrer\">Forked StackBlitz</a></p>\n</blockquote>\n\n<p><strong>TypeScript:</strong></p>\n\n<pre><code>import { Component, forwardRef, OnInit, Input, Output, EventEmitter, Injector, HostListener, ViewChild, ElementRef } from '@angular/core';\nimport { FormControl, FormGroupDirective, NgForm, NG_VALUE_ACCESSOR, ControlValueAccessor, NgControl } from '@angular/forms';\n\nexport interface ErrorStateMatcher {\n  isErrorState(control: FormControl | null, form: FormGroupDirective | NgForm | null): boolean;\n}\n\nexport class CustomFieldErrorMatcher implements ErrorStateMatcher {\n  constructor(private customControl: FormControl, private errors: any) { }\n\n  isErrorState(control: FormControl | null, form: FormGroupDirective | NgForm | null): boolean {\n    return this.customControl &amp;&amp; this.customControl.touched &amp;&amp; (this.customControl.invalid || this.errors);\n  }\n}\n\n@Component({\n  selector: 'app-input-phone',\n  templateUrl: './input-phone.component.html',\n  providers: [\n    {\n      provide: NG_VALUE_ACCESSOR,\n      useExisting: forwardRef(() =&gt; InputPhoneComponent),\n      multi: true\n    }\n  ]\n})\n\nexport class InputPhoneComponent implements OnInit, ControlValueAccessor {\n  disabled: boolean;\n  control: FormControl;\n  @Input() MaxLength: string;\n  @Input() ReadOnly: boolean;\n  @Input() value: string;\n  @Input() type: string;\n  @Input() Label: string;\n  @Input() PlaceHolder: string;\n  @Output() saveValue = new EventEmitter();\n  @Output() stateChange = new EventEmitter();\n  @Input() errors: any = null;\n  @ViewChild('input', { static: true }) inputViewChild: ElementRef;\n\n  readonly errorStateMatcher: ErrorStateMatcher = {\n    isErrorState: (ctrl: FormControl) =&gt; (ctrl &amp;&amp; ctrl.invalid)\n  };\n\n  constructor(public injector: Injector) { }\n  ngOnInit() { }\n\n  saveValueAction(e: any) { this.saveValue.emit(e.target.value); }\n  writeValue(value: any) {\n    this.value = value ? value : '';\n    if (this.inputViewChild &amp;&amp; this.inputViewChild.nativeElement) {\n      if (this.value === undefined || this.value == null) {\n        this.inputViewChild.nativeElement.value = '';\n      } else {\n        const maskValue = this.convertToMaskValue(this.value, false);\n        this.inputViewChild.nativeElement.value = maskValue;\n      }\n    }\n  }\n\n  onModelChange: Function = () =&gt; { };\n  onChange(e) { this.value = e; }\n  onTouched() { this.stateChange.emit(); }\n\n  registerOnChange(fn: () =&gt; void): void {\n    this.onModelChange = fn;\n  }\n  registerOnTouched(fn: any) { this.onTouched = fn; }\n  setDisabledState(isDisabled) { this.disabled = isDisabled; }\n\n  errorMatcher() {\n    return new CustomFieldErrorMatcher(this.control, this.errors);\n  }\n\n  onInputChange(event) {\n    setTimeout(() =&gt; {\n      const maskValue = this.convertToMaskValue(event.target.value, event.inputType === 'deleteContentBackward');\n      this.inputViewChild.nativeElement.value = maskValue;\n      this.value = this.convertToRealValue(maskValue);\n      this.onModelChange(this.value);\n    }, 0);\n  }\n\n  private convertToMaskValue(value: string, backspace: boolean): string {\n    let newVal = value;\n    if (newVal &amp;&amp; newVal.length &gt; 0) {\n      if (backspace &amp;&amp; value.length &lt;= 12) {\n        newVal = value.substring(0, value.length - 1);\n      }\n      newVal = this.convertToRealValue(newVal);\n      if (newVal.length === 0) {\n        newVal = '';\n      } else if (newVal.length &lt;= 3) {\n        newVal = newVal.replace(/^(\\d{0,3})/, '($1)');\n      } else if (newVal.length &lt;= 6) {\n        newVal = newVal.replace(/^(\\d{0,3})(\\d{0,3})/, '($1) ($2)');\n      } else if (newVal.length &lt;= 10) {\n        newVal = newVal.replace(/^(\\d{0,3})(\\d{0,3})(\\d{0,4})/, '($1) ($2)-$3');\n      } else {\n        newVal = newVal.substring(0, 10);\n        newVal = newVal.replace(/^(\\d{0,3})(\\d{0,3})(\\d{0,4})/, '($1) ($2)-$3');\n      }\n    }\n    return newVal;\n  }\n\n  private convertToRealValue(value: string): string {\n    return value.replace(/\\D/g, '');\n  }\n}\n</code></pre>\n\n<p><strong>HTML:</strong></p>\n\n<pre><code>&lt;div class=\"input-wrap\"&gt;\n  &lt;mat-form-field&gt;\n    &lt;mat-label&gt;{{Label}}&lt;/mat-label&gt;\n    &lt;input #input matInput [attr.maxlength]=\"MaxLength\" [placeholder]=\"PlaceHolder ? PlaceHolder : ''\"\n      [readonly]=\"ReadOnly\" [type]=\"type ? type: 'text'\"\n      (input)=\"onInputChange($event)\" (blur)=\"onTouched()\"&gt;\n  &lt;/mat-form-field&gt;\n&lt;/div&gt;\n</code></pre>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user12425844"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 337, "favorite_count": 1, "accepted_answer_id": 59517932, "answer_count": 1, "score": 2, "last_activity_date": 1577610082, "creation_date": 1575439977, "last_edit_date": 1575449113, "question_id": 59169913, "link": "https://stackoverflow.com/questions/59169913/create-phone-textbox-into-angular-component-wrapper", "title": "Create Phone Textbox into Angular Component Wrapper", "body": "<p>I am trying to convert Phone Mask from solution below into Angular component. Does anyone know how to conduct this?  * Any answer which creates 1 similar component for Phone textbox will work.</p>\n\n<p><a href=\"https://stackoverflow.com/questions/37800841/mask-for-an-input-to-allow-phone-numbers\">Mask for an Input to allow phone numbers?</a></p>\n\n<p><a href=\"https://stackblitz.com/edit/angular6-phone-mask\" rel=\"nofollow noreferrer\">https://stackblitz.com/edit/angular6-phone-mask</a></p>\n\n<p>I tried, copied code into component below. Receiving errors,</p>\n\n<ul>\n<li><p>phonebox allows text to Exceed 10 characters.</p></li>\n<li><p>In debugging, when backspacing all characters, a character value\nstill remains. </p></li>\n</ul>\n\n<p>The original answer uses directive, and only works with formcontrol. Goal is to have custom company textbox component with its only styling, inputs, etc.</p>\n\n<p>At the bottom, we reference stackblitz code.</p>\n\n<p><strong>Typescript:</strong></p>\n\n<pre><code>export class CustomFieldErrorMatcher implements ErrorStateMatcher {\n  constructor(private customControl: FormControl,private errors:any) { }\n\n  isErrorState(control: FormControl | null, form: FormGroupDirective | NgForm | null): boolean {\n    return this.customControl &amp;&amp; this.customControl.touched &amp;&amp;(this.customControl.invalid || this.errors);\n  }\n}\n\n@Component({\n  selector: 'app-input-phone',\n  templateUrl: './input-phone.component.html',\n  providers: [\n    {\n      provide: NG_VALUE_ACCESSOR,\n      useExisting: forwardRef(() =&gt; InputPhoneComponent),\n      multi: true\n    }\n  ]})\n\nexport class InputPhoneComponent implements OnInit, ControlValueAccessor {\n  @Input() MaxLength: string;\n  @Input() ReadOnly: boolean;\n  @Input() Value: string;\n  @Input() type: string;\n  @Input() Label: string;\n  @Input() PlaceHolder: string;\n  @Output() saveValue = new EventEmitter();\n  @Output() onStateChange = new EventEmitter();\n  @Input() errors: any = null;\n  disabled: boolean;\n  control: FormControl;\n\n  constructor(public injector: Injector) {}\n  ngOnInit() {  }\n\n  ngAfterViewInit(): void {\n    const ngControl: NgControl = this.injector.get(NgControl, null);\n    if (ngControl) {\n      setTimeout(() =&gt; {\n        this.control = ngControl.control as FormControl;\n      })\n    }}\n\n  saveValueAction(e) { this.saveValue.emit(e.target.value); }\n  writeValue(value: any) { this.Value = value ? value : ''; }\n  onChange(e) { this.Value = e; }\n  onTouched() { this.onStateChange.emit(); }\n\n  registerOnChange(fn: any) { this.onChange = fn; }\n  registerOnTouched(fn: any) { this.onTouched = fn; }\n  setDisabledState(isDisabled) { this.disabled = isDisabled; }\n\n  errorMatcher() {\n    return new CustomFieldErrorMatcher(this.control,this.errors)\n  }\n\n  readonly errorStateMatcher: ErrorStateMatcher = {\n    isErrorState: (ctrl: FormControl) =&gt; (ctrl &amp;&amp; ctrl.invalid)\n  };\n\n  //Section from Stackblitz reference\n\n  @HostListener('ngModelChange', ['$event'])\n  onModelChange(event) {\n    this.onInputChange(event, false);\n  }\n\n  @HostListener('keydown.backspace', ['$event'])\n  keydownBackspace(event) {\n    this.onInputChange(event.target.value, true);\n  }\n\n  onInputChange(event, backspace) {\n    let newVal = event.replace(/\\D/g, '');\n    if (backspace &amp;&amp; newVal.length &lt;= 6) {\n      newVal = newVal.substring(0, newVal.length - 1);\n    }\n    if (newVal.length === 0) {\n      newVal = '';\n    } else if (newVal.length &lt;= 3) {\n      newVal = newVal.replace(/^(\\d{0,3})/, '($1)');\n    } else if (newVal.length &lt;= 6) {\n      newVal = newVal.replace(/^(\\d{0,3})(\\d{0,3})/, '($1) ($2)');\n    } else if (newVal.length &lt;= 10) {\n      newVal = newVal.replace(/^(\\d{0,3})(\\d{0,3})(\\d{0,4})/, '($1) ($2)-$3');\n    } else {\n      newVal = newVal.substring(0, 10);\n      newVal = newVal.replace(/^(\\d{0,3})(\\d{0,3})(\\d{0,4})/, '($1) ($2)-$3');\n    }\n    this.writeValue(newVal);\n  }\n\n}\n</code></pre>\n\n<p><strong>HTML:</strong></p>\n\n<pre><code>&lt;div class=\"input-wrap\"&gt;\n    &lt;mat-form-field&gt;\n        &lt;mat-label&gt;{{Label}}&lt;/mat-label&gt;   \n        &lt;input \n            matInput \n            [attr.maxlength] = \"MaxLength\"\n            [value]=\"Value ? Value : ''\"\n            [placeholder]=\"PlaceHolder ? PlaceHolder : ''\"\n            [readonly]=\"ReadOnly\"\n            [type]=\"type ? type: 'text'\"\n            [ngModel]=\"Value\" \n            [errorStateMatcher]=\"errorMatcher()\"\n\n            (input)=\"onChange($event.target.value)\"\n            (blur)=\"onTouched()\"\n            (change)=\"saveValueAction($event)\"\n            (ngModelChange)=\"Value=$event\"\n        &gt;\n    &lt;/mat-form-field&gt;\n&lt;/div&gt;\n</code></pre>\n"}, {"tags": ["angular", "typescript", "redux", "ngrx", "angular8"], "comments": [{"owner": {"reputation": 399, "user_id": 4346733, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/a82461271238c1ddab9d264448597224?s=128&d=identicon&r=PG&f=1", "display_name": "kiranghule27", "link": "https://stackoverflow.com/users/4346733/kiranghule27"}, "edited": false, "score": 0, "creation_date": 1575439267, "post_id": 59169688, "comment_id": 104562506, "body": "Could you please add some more info as from where the error is emerging, what you are trying to achieve etc. Apart from this, I haven&#39;t worked on ngrx and stuff but I see the <code>.data</code> is accessed in reducer file <code>createSelector</code> function. So probably <code>state</code> is undefined. But, question has to be more elaborative, in order for someone to answer."}, {"owner": {"reputation": 4048, "user_id": 3292482, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/jd3T1.jpg?s=128&g=1", "display_name": "Pathik Vejani", "link": "https://stackoverflow.com/users/3292482/pathik-vejani"}, "reply_to_user": {"reputation": 399, "user_id": 4346733, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/a82461271238c1ddab9d264448597224?s=128&d=identicon&r=PG&f=1", "display_name": "kiranghule27", "link": "https://stackoverflow.com/users/4346733/kiranghule27"}, "edited": false, "score": 0, "creation_date": 1575439430, "post_id": 59169688, "comment_id": 104562556, "body": "@kiranghule27 when trying to get list in component.html file, I am getting that error!"}], "answers": [{"comments": [{"owner": {"reputation": 4048, "user_id": 3292482, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/jd3T1.jpg?s=128&g=1", "display_name": "Pathik Vejani", "link": "https://stackoverflow.com/users/3292482/pathik-vejani"}, "edited": false, "score": 0, "creation_date": 1575440120, "post_id": 59169917, "comment_id": 104562734, "body": "let me try this."}, {"owner": {"reputation": 4048, "user_id": 3292482, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/jd3T1.jpg?s=128&g=1", "display_name": "Pathik Vejani", "link": "https://stackoverflow.com/users/3292482/pathik-vejani"}, "edited": false, "score": 0, "creation_date": 1575440658, "post_id": 59169917, "comment_id": 104562901, "body": "which array? Pfa[]&lt;--this?"}, {"owner": {"reputation": 14359, "user_id": 11487196, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b4493b1f4bc88550d52d4556bc74c096?s=128&d=identicon&r=PG&f=1", "display_name": "Tony Ngo", "link": "https://stackoverflow.com/users/11487196/tony-ngo"}, "reply_to_user": {"reputation": 4048, "user_id": 3292482, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/jd3T1.jpg?s=128&g=1", "display_name": "Pathik Vejani", "link": "https://stackoverflow.com/users/3292482/pathik-vejani"}, "edited": false, "score": 0, "creation_date": 1575440843, "post_id": 59169917, "comment_id": 104562962, "body": "Array of data come from your payload. Do you understand how redux work ?"}, {"owner": {"reputation": 4048, "user_id": 3292482, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/jd3T1.jpg?s=128&g=1", "display_name": "Pathik Vejani", "link": "https://stackoverflow.com/users/3292482/pathik-vejani"}, "edited": false, "score": 0, "creation_date": 1575440893, "post_id": 59169917, "comment_id": 104562974, "body": "I am trying to understand but not getting it"}, {"owner": {"reputation": 4048, "user_id": 3292482, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/jd3T1.jpg?s=128&g=1", "display_name": "Pathik Vejani", "link": "https://stackoverflow.com/users/3292482/pathik-vejani"}, "edited": false, "score": 0, "creation_date": 1575441101, "post_id": 59169917, "comment_id": 104563039, "body": "added both file code, but I am getting error in <code>effects.ts</code>, this line <code>map(items =&gt; new GetProfileFunctionAreaSuccess(items)),</code> for items"}, {"owner": {"reputation": 4048, "user_id": 3292482, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/jd3T1.jpg?s=128&g=1", "display_name": "Pathik Vejani", "link": "https://stackoverflow.com/users/3292482/pathik-vejani"}, "edited": false, "score": 0, "creation_date": 1575441136, "post_id": 59169917, "comment_id": 104563052, "body": "erorr is <code>Argument of type &#39;FunctionArea[]&#39; is not assignable to parameter of type &#39;Pfa[]&#39;.   Type &#39;FunctionArea&#39; is not assignable to type &#39;Pfa&#39;.     Property &#39;id&#39; is optional in type &#39;FunctionArea&#39; but required in type &#39;Pfa&#39;.</code>"}, {"owner": {"reputation": 4048, "user_id": 3292482, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/jd3T1.jpg?s=128&g=1", "display_name": "Pathik Vejani", "link": "https://stackoverflow.com/users/3292482/pathik-vejani"}, "edited": false, "score": 0, "creation_date": 1575442068, "post_id": 59169917, "comment_id": 104563354, "body": "can help with??"}], "tags": [], "owner": {"reputation": 14359, "user_id": 11487196, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b4493b1f4bc88550d52d4556bc74c096?s=128&d=identicon&r=PG&f=1", "display_name": "Tony Ngo", "link": "https://stackoverflow.com/users/11487196/tony-ngo"}, "is_accepted": false, "score": 0, "last_activity_date": 1575440016, "creation_date": 1575440016, "answer_id": 59169917, "question_id": 59169688, "link": "https://stackoverflow.com/questions/59169688/error-typeerror-cannot-read-property-data-of-undefined-in-reducer/59169917#59169917", "title": "ERROR TypeError: Cannot read property &#39;data&#39; of undefined in reducer", "body": "<p>This line of code is wrong</p>\n\n<pre><code>        return {\n            ...state,\n            action: PfaAction.GET_PROFILEFUNCTIONAREA\n        }\n</code></pre>\n\n<p>You should be return </p>\n\n<pre><code>        return {\n            ...state,\n            data: [] // add your array here\n        }\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 9151, "user_id": 10112124, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9e6297e8a8df7affbe897ed476212148?s=128&d=identicon&r=PG", "display_name": "timdeschryver", "link": "https://stackoverflow.com/users/10112124/timdeschryver"}, "is_accepted": false, "score": 0, "last_activity_date": 1575445960, "creation_date": 1575445960, "answer_id": 59171262, "question_id": 59169688, "link": "https://stackoverflow.com/questions/59169688/error-typeerror-cannot-read-property-data-of-undefined-in-reducer/59171262#59171262", "title": "ERROR TypeError: Cannot read property &#39;data&#39; of undefined in reducer", "body": "<p>A reducer should always return state, in the snippet the reducer will only return state for <code>PfaAction.GET_PROFILEFUNCTIONAREA</code> and will return <code>undefined</code> for every other action that is dispatch. This is because an action will be dispatched to all reducers. </p>\n\n<p>To fix this, add a <code>default</code> case:</p>\n\n<pre><code>export function reducer(state = initialState, action: AppAction) {\n    switch(action.type) {\n        case PfaAction.GET_PROFILEFUNCTIONAREA:\n            return {\n                ...state,\n                action: PfaAction.GET_PROFILEFUNCTIONAREA\n            }\n\n       // add this\n       default:\n          return state;\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 4048, "user_id": 3292482, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/jd3T1.jpg?s=128&g=1", "display_name": "Pathik Vejani", "link": "https://stackoverflow.com/users/3292482/pathik-vejani"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 384, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1575445960, "creation_date": 1575438695, "last_edit_date": 1575441049, "question_id": 59169688, "link": "https://stackoverflow.com/questions/59169688/error-typeerror-cannot-read-property-data-of-undefined-in-reducer", "title": "ERROR TypeError: Cannot read property &#39;data&#39; of undefined in reducer", "body": "<p>I am getting below error: </p>\n\n<blockquote>\n  <p>ERROR TypeError: Cannot read property 'data' of undefined</p>\n</blockquote>\n\n<p><strong>reducer file</strong>:</p>\n\n<pre><code>import * as PfaAction from '../actions/profilefunctionarea.actions';\nimport { Action, createSelector, createFeatureSelector } from \"@ngrx/store\";\nimport { AppAction } from 'src/app/app.action';\nimport { Pfa } from '../shared/pfa';\n\nexport interface State {\n    data: Pfa[];\n}\n\nconst initialState: State = {\n    data: [],\n};\n\nexport function reducer(state = initialState, action: AppAction) {\n    switch(action.type) {\n        case PfaAction.GET_PROFILEFUNCTIONAREA:\n            return {\n                ...state,\n                action: PfaAction.GET_PROFILEFUNCTIONAREA\n            }\n    }\n}\n\nexport const getPfaState = createFeatureSelector &lt; State &gt; ('pfas');\nexport const getAllPfas = createSelector(getPfaState, (state: State) =&gt; state.data); &lt;-- here getting error\n</code></pre>\n\n<p><strong>component.ts:</strong></p>\n\n<pre><code>import { Pfa } from 'src/app/ngrx/shared/pfa';\n\npfas: Observable&lt;Pfa[]&gt;;\nngOnInit() {\n    this.pfas = this.store.select(getAllPfas);\n}\n</code></pre>\n\n<p><strong>component.html:</strong></p>\n\n<pre><code>&lt;select *ngFor=\"let pfa of pfas | async\"&gt;\n   &lt;option value=\"pfa.id\"&gt;{{pfa.area}}&lt;/option&gt;\n&lt;/select&gt;\n</code></pre>\n\n<p><strong>Pfa.ts:</strong></p>\n\n<pre><code>export class Pfa {\n    id: number;\n    area: string;\n}\n</code></pre>\n\n<p><strong>action.ts:</strong></p>\n\n<pre><code>import { Action } from '@ngrx/store';\nimport { ProfileFunctionArea } from 'src/app/_interface/profilefucntionarea.module';\nimport { Pfa } from '../shared/pfa';\n\nexport const GET_PROFILEFUNCTIONAREA = '[ALL] Profile Function Area';\nexport const GET_PROFILEFUNCTIONAREA_SUCCESS = '[ALL] Profile Function Area Success';\nexport const GET_PROFILEFUNCTIONAREA_ERROR = '[ALL] Profile Function Area Error';\n\nexport class GetProfileFunctionArea implements Action {\n    readonly type = GET_PROFILEFUNCTIONAREA;\n}\n\nexport class GetProfileFunctionAreaSuccess implements Action {\n    readonly type = GET_PROFILEFUNCTIONAREA_SUCCESS;\n    constructor(public payload: Pfa[]) { }\n}\n\nexport class GetProfileFunctionAreaError implements Action {\n    readonly type = GET_PROFILEFUNCTIONAREA_ERROR;\n    constructor(public payload: Error) { }\n}\n</code></pre>\n\n<p><strong>effects.ts:</strong></p>\n\n<pre><code>@Injectable()\nexport class ProfileFunctionAreaEffects {\n    constructor(private actions$: Actions, private ps: ProfileService) { }\n\n    @Effect() GetProfileFunctionArea$: Observable&lt;Action&gt; = this.actions$.pipe( ofType(PfaAction.GET_PROFILEFUNCTIONAREA),\n    switchMap(() =&gt; this.ps.GetProfileFunctionAreaGet()),\n    map(items =&gt; new GetProfileFunctionAreaSuccess(items)), &lt;-- getting error here\n    catchError((err) =&gt; [new GetProfileFunctionAreaError(err)]));\n\n}\n</code></pre>\n"}, {"tags": ["javascript", "angular", "typescript"], "owner": {"reputation": 249, "user_id": 12212344, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-kVOZ786rnAM/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3reJlxXZdHmapwYNB1VUFyLU7jVRcw/photo.jpg?sz=128", "display_name": "kianoush dortaj", "link": "https://stackoverflow.com/users/12212344/kianoush-dortaj"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 442, "favorite_count": 1, "answer_count": 0, "score": 1, "last_activity_date": 1575438237, "creation_date": 1575438237, "question_id": 59169595, "link": "https://stackoverflow.com/questions/59169595/show-stream-file-in-angular-8", "title": "show stream file in angular 8", "body": "<p>i create a component for preview file <code>audio</code> , <code>video</code> , <code>image</code> or etc .</p>\n\n<p>but i have problem with this :</p>\n\n<p>it not show me any things . the url is currect , when i console the address file and copy it in browser it show file , but it not show file in my component . </p>\n\n<pre><code>    export interface DialogData {\n    src: string;\n    type: TypeFile;\n    apiControllName: string;\n}\n\ndeclare const require: any;\n\n@Component({\n    selector: 'kt-preview',\n    templateUrl: './preview.component.html',\n    styleUrls: ['./preview.component.scss']\n})\nexport class PreviewComponent implements OnInit, OnDestroy {\n\n    @Output() showButton = new EventEmitter&lt;boolean&gt;();\n\n    subscriptions: Subscription;\n    thumbnail: any;\n    fileSource: any;\n    Video = 'Video';\n    Picture = 'Picture';\n    Text = 'Text';\n    Sound = 'Sound';\n    type: any;\n    isLoading: boolean;\n    showVid: any;\n    fileType = TypeFile;\n    show = true;\n    url: string;\n    AdressFile: string;\n\n    constructor(\n        @Inject(MAT_DIALOG_DATA) public data: DialogData\n        , @Inject(APP_CONFIG) private appConfig: IAppConfig\n        , private dialogRef: MatDialogRef&lt;PreviewComponent&gt;\n        , private authService: AuthService\n        , private sanitizer: DomSanitizer) {\n\n    }\n\n\n\n    @HostListener('window:keyup.esc') onKeyUp(): void {\n        this.dialogRef.close();\n    }\n\n    ngOnInit(): void {\n        if (this.data.src.startsWith('data:image/png;base64,')) {\n            this.AdressFile = this.data.src;\n        } else {\n            this.AdressFile = this.appConfig.apiEndpoint + '/' + this.data.src + '/?access_token=' + this.authService.getRawAuthToken(AuthTokenType.AccessToken);\n        }\n        this.type = this.data.type;\n        this.AdressFile = this.url;\n        this.show = false;\n    }\n\n    ngOnDestroy(): void {\n        if (this.subscriptions) {\n            this.subscriptions.unsubscribe();\n        }\n    }\n\n    createImageFromBlob(image: Blob): void {\n        const blob = new Blob([image], { type: 'application/octet-stream' });\n        this.fileSource = this.sanitizer.bypassSecurityTrustResourceUrl(window.URL.createObjectURL(blob));\n    }\n\n    close(): void {\n        this.dialogRef.close();\n    }\n}\n</code></pre>\n\n<p>and this html file :</p>\n\n<pre><code>    &lt;div class=\"toolbar col-md-12 col-sm-12 col-lg-12 col-xl-12 p-0\"&gt;\n    &lt;div class=\"topbar col-md-12 col-xl-12 col-sm-12 col-xl-12 col-lg-12\"&gt;\n        &lt;div class=\"detail-title\"&gt;\n            &lt;label&gt;\u0646\u0645\u0627\u06cc\u0634&lt;/label&gt;\n        &lt;/div&gt;\n        &lt;span&gt;\n            &lt;i (click)=\"close()\" class=\"fas fa-times\"&gt;&lt;/i&gt;\n        &lt;/span&gt;\n    &lt;/div&gt;\n&lt;/div&gt;\n&lt;div class=\"col-md-12 col-sm-12 col-lg-12 col-xl-12 p-0 prev\"&gt;\n    &lt;!-- Video Show --&gt;\n    &lt;div *ngIf=\"data.type===1\"&gt;\n        &lt;video autoplay controls&gt;\n            &lt;source src=\"{{data.src}}\" type=\"video/mp4\"&gt;\n            &lt;source src=\"{{data.src}}\" type=\"video/ogg\"&gt;\n            Your browser does not support the video tag.\n        &lt;/video&gt;\n    &lt;/div&gt;\n    &lt;div *ngIf=\"type===fileType[1]\" id=\"video_bg\"&gt;\n        &lt;video controls autoplay&gt;\n            &lt;source [src]=\"AdressFile\" type=\"video/mp4\"&gt;\n            &lt;source [src]=\"AdressFile\" type=\"video/ogg\"&gt;\n            Your browser does not support the video tag.\n        &lt;/video&gt;\n    &lt;/div&gt;\n    &lt;!-- PDF Show --&gt;\n    &lt;div *ngIf=\"data.type===0\"&gt;\n        &lt;a href=\"{{data.src}}\" target=\"_blank\"&gt;&lt;/a&gt;\n    &lt;/div&gt;\n    &lt;div *ngIf=\"type===fileType[0]\"&gt;\n        &lt;a [href]=\"AdressFile\" target=\"_blank\"&gt;&lt;/a&gt;\n    &lt;/div&gt;\n    &lt;!-- Sound Show --&gt;\n    &lt;div *ngIf=\"data.type===2\"&gt;\n        &lt;audio controls&gt;\n            &lt;source src=\"{{data.src}}\" type=\"audio/ogg\"&gt;\n            &lt;source src=\"{{data.src}}\" type=\"audio/mpeg\"&gt;\n            Your browser does not support the audio element.\n        &lt;/audio&gt;\n    &lt;/div&gt;\n    &lt;div *ngIf=\"type===fileType[2]\" id=\"sound_bg\"&gt;\n        &lt;audio controls autoplay&gt;\n            &lt;source [src]=\"AdressFile\" type=\"audio/mp3\"&gt;\n        &lt;/audio&gt;\n    &lt;/div&gt;\n    &lt;!-- Image Show --&gt;\n    &lt;div *ngIf=\"data.type===3\"&gt;\n        &lt;div class=\"img col-md-12 col-xl-12 col-sm-12 col-xl-12 p-0\"&gt;\n            &lt;img *ngIf=\"!isLoading\" src=\"{{AdressFile}}\" class=\" float-left\" alt=\"...\"&gt;\n        &lt;/div&gt;\n    &lt;/div&gt;\n    &lt;div *ngIf=\"type===fileType[3]\"&gt;\n        &lt;div class=\"img col-md-12 col-xl-12 col-sm-12 col-xl-12 p-0\"&gt;\n            &lt;img *ngIf=\"!isLoading\" [src]=\"AdressFile\" class=\" float-left\" alt=\"...\"&gt;\n        &lt;/div&gt;\n    &lt;/div&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p><strong>whats the problem ? how can i solve it ??</strong></p>\n"}, {"tags": ["javascript", "angular", "typescript"], "comments": [{"owner": {"reputation": 2451, "user_id": 1575598, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/ufrXk.jpg?s=128&g=1", "display_name": "Maher", "link": "https://stackoverflow.com/users/1575598/maher"}, "edited": false, "score": 0, "creation_date": 1575435833, "post_id": 59169164, "comment_id": 104561583, "body": "it&#39;s angular (typescript) not angulaJjs, right?"}], "answers": [{"comments": [{"owner": {"reputation": 324, "user_id": 4918576, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-Ra910xa1L7w/AAAAAAAAAAI/AAAAAAAAAQ0/QgWEGVSrlbM/photo.jpg?sz=128", "display_name": "Roberto C. Rodriguez-Hidalgo", "link": "https://stackoverflow.com/users/4918576/roberto-c-rodriguez-hidalgo"}, "edited": false, "score": 0, "creation_date": 1575474467, "post_id": 59169870, "comment_id": 104580585, "body": "Thanks LALI KANTA for your rapid answer. I just change my code by yours and the component did what I wanted."}, {"owner": {"reputation": 565, "user_id": 12279362, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mDeRyy_GQnGetFSOnilqVIDmBW8YMrKGUbNkQ2SPA=k-s128", "display_name": "LALIT KANTA DIBYADARSHAN", "link": "https://stackoverflow.com/users/12279362/lalit-kanta-dibyadarshan"}, "reply_to_user": {"reputation": 324, "user_id": 4918576, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-Ra910xa1L7w/AAAAAAAAAAI/AAAAAAAAAQ0/QgWEGVSrlbM/photo.jpg?sz=128", "display_name": "Roberto C. Rodriguez-Hidalgo", "link": "https://stackoverflow.com/users/4918576/roberto-c-rodriguez-hidalgo"}, "edited": false, "score": 0, "creation_date": 1575474860, "post_id": 59169870, "comment_id": 104580860, "body": "Nice to hear that \ud83d\ude07..  If it helps , please accept the answer"}], "tags": [], "owner": {"reputation": 565, "user_id": 12279362, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mDeRyy_GQnGetFSOnilqVIDmBW8YMrKGUbNkQ2SPA=k-s128", "display_name": "LALIT KANTA DIBYADARSHAN", "link": "https://stackoverflow.com/users/12279362/lalit-kanta-dibyadarshan"}, "is_accepted": true, "score": 0, "last_activity_date": 1575439724, "creation_date": 1575439724, "answer_id": 59169870, "question_id": 59169164, "link": "https://stackoverflow.com/questions/59169164/passing-params-to-my-components-in-angular/59169870#59169870", "title": "Passing params to my components in Angular", "body": "<p>The way you defined is a perfect way !! </p>\n\n<pre><code>&lt;app-date-picker [inputDisabled]=\"false\"&gt;&lt;/app-date-picker&gt;\n</code></pre>\n\n<p>In DatePickerComponent you need to take the input using <code>@Input</code></p>\n\n<p>In date-picker.component.ts </p>\n\n<pre><code>export class DatePickerComponent {\n    @Input() inputDisabled: boolean;\n}\n</code></pre>\n\n<p>In date-picker.component.html</p>\n\n<pre><code>&lt;mat-form-field&gt;\n    &lt;input matInput [matDatepicker]=\"picker\" placeholder=\"Date issued\" [disabled]=\"inputDisabled\"&gt;\n    &lt;mat-datepicker-toggle matSuffix [for]=\"picker\"&gt;&lt;/mat-datepicker-toggle&gt;\n    &lt;mat-datepicker #picker disabled=\"false\"&gt;&lt;/mat-datepicker&gt;\n&lt;/mat-form-field&gt;\n</code></pre>\n"}], "owner": {"reputation": 324, "user_id": 4918576, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-Ra910xa1L7w/AAAAAAAAAAI/AAAAAAAAAQ0/QgWEGVSrlbM/photo.jpg?sz=128", "display_name": "Roberto C. Rodriguez-Hidalgo", "link": "https://stackoverflow.com/users/4918576/roberto-c-rodriguez-hidalgo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 43, "favorite_count": 0, "accepted_answer_id": 59169870, "answer_count": 1, "score": 0, "last_activity_date": 1586198230, "creation_date": 1575435229, "last_edit_date": 1586198230, "question_id": 59169164, "link": "https://stackoverflow.com/questions/59169164/passing-params-to-my-components-in-angular", "title": "Passing params to my components in Angular", "body": "<p>I'm customizing a datepicker in angular because I need to use it throughout the whole app. Is there a way to do this by passing params from component's definition. I mean e.g.:</p>\n\n<p>Taking into account that my component's tag is <code>&lt;app-date-picker&gt;&lt;/app-date-picker&gt;</code>, whose code inside is very simple:</p>\n\n<pre><code>&lt;mat-form-field&gt;\n    &lt;input matInput [matDatepicker]=\"picker\" placeholder=\"Date issued\" disabled&gt;\n    &lt;mat-datepicker-toggle matSuffix [for]=\"picker\"&gt;&lt;/mat-datepicker-toggle&gt;\n    &lt;mat-datepicker #picker disabled=\"false\"&gt;&lt;/mat-datepicker&gt;\n&lt;/mat-form-field&gt;\n</code></pre>\n\n<p>So, I need to define my component like this <code>&lt;app-date-picker [inputDisabled]=\"false\"&gt;&lt;/app-date-picker&gt;</code> for the input to be disabled for some instances, or like this <code>&lt;app-date-picker [inputDisabled]=\"true\"&gt;&lt;/app-date-picker&gt;</code> for the input to be enabled.</p>\n\n<p>Is this possible? What's the way to do it?</p>\n"}, {"tags": ["javascript", "reactjs", "typescript", "native"], "comments": [{"owner": {"reputation": 8598, "user_id": 11872246, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/AtBA9.jpg?s=128&g=1", "display_name": "keikai", "link": "https://stackoverflow.com/users/11872246/keikai"}, "edited": false, "score": 0, "creation_date": 1575433915, "post_id": 59168793, "comment_id": 104561141, "body": "Does this answer your question? <a href=\"https://stackoverflow.com/questions/38406448/generic-react-components-in-typescript-jsx\">Generic React components in TypeScript/JSX?</a>"}], "answers": [{"tags": [], "owner": {"reputation": 687, "user_id": 1452028, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SpAKf.png?s=128&g=1", "display_name": "sebbab", "link": "https://stackoverflow.com/users/1452028/sebbab"}, "is_accepted": false, "score": 0, "last_activity_date": 1575462276, "creation_date": 1575462276, "answer_id": 59176025, "question_id": 59168793, "link": "https://stackoverflow.com/questions/59168793/how-to-inherit-component-in-react-native-with-typescript/59176025#59176025", "title": "How to inherit component in react native with typescript?", "body": "<p>Use</p>\n\n<pre><code>export default class DynamicListPage extends BaseListPage {\n</code></pre>\n\n<p>instead of</p>\n\n<pre><code>export default class DynamicListPage extends BaseListPage&lt;Props, State&gt; {\n</code></pre>\n\n<p>That should be enough to make your code work as you expected.</p>\n\n<p>More info about this topic can be found here: <a href=\"https://www.typescriptlang.org/docs/handbook/generics.html\" rel=\"nofollow noreferrer\">https://www.typescriptlang.org/docs/handbook/generics.html</a></p>\n"}, {"tags": [], "owner": {"reputation": 536, "user_id": 7583056, "user_type": "registered", "accept_rate": 75, "profile_image": "https://graph.facebook.com/10211132897144187/picture?type=large", "display_name": "Matt Wills", "link": "https://stackoverflow.com/users/7583056/matt-wills"}, "is_accepted": false, "score": 0, "last_activity_date": 1575463810, "creation_date": 1575463810, "answer_id": 59176473, "question_id": 59168793, "link": "https://stackoverflow.com/questions/59168793/how-to-inherit-component-in-react-native-with-typescript/59176473#59176473", "title": "How to inherit component in react native with typescript?", "body": "<p>It's because you're passing type arguments to your <code>BaseListPage</code> class with the <code>BaseListPage&lt;Props, State&gt;</code> part of <code>class DynamicListPage extends BaseListPage&lt;Props, State&gt;</code>, but the class doesn't accept any type arguments.</p>\n\n<p>You can let <code>BaseListPage</code> take type arguments by making it a 'generic': </p>\n\n<pre><code>class BaseListPage&lt;Props, State&gt; extends Component&lt;Props, State&gt; {\n</code></pre>\n\n<p>see - <a href=\"https://www.typescriptlang.org/docs/handbook/generics.html\" rel=\"nofollow noreferrer\">https://www.typescriptlang.org/docs/handbook/generics.html</a></p>\n\n<hr>\n\n<p>Since a react component could have any shape of props or state, those type arguments allow you to define exactly what they will look like for a given instance of a class, allowing you to run the necessary type checks.</p>\n\n<p>Eg.</p>\n\n<pre><code> interface Props {\n   foo: string\n }\n\n class MyComponent extends Component&lt;Props&gt; {\n   render() {\n     console.log(this.props.foo) // Fine\n     console.log(this.props.bar) // Error\n\n     ...\n   }\n }\n</code></pre>\n\n<p>So either, define the exact Props and State that a <code>BaseListPage</code> component can have like so, thereby removing the need for it to be generic:</p>\n\n<pre><code> interface BaseListPageProps {\n   foo: string\n }\n\n interface BaseListPageState {\n   bar: string\n }\n\n class BaseListPage extends Component&lt;BaseListPageProps, BaseListPageState&gt; {\n   ...\n }\n\n class DynamicListPage extends BaseListPage {\n  render() {\n     console.log(this.props.foo) // Fine\n     console.log(this.state.bar) // Fine\n\n     console.log(this.props.bar) // Error\n\n     ...\n   }\n }\n</code></pre>\n\n<p>or let it be generic, allowing the DynamicListPage to decide the Props and State types:</p>\n\n<pre><code> class BaseListPage&lt;Props, State&gt; extends Component&lt;Props, State&gt; {\n   ...\n }\n\n interface DynamicListPageProps {\n   foo: string\n }\n\n interface DynamicListPageState {\n   bar: string\n }\n\n class DynamicListPage extends BaseListPage&lt;DynamicListPageProps, DynamicListPageState&gt; {\n</code></pre>\n\n<p>Better yet, compose via composition, not inheritance. <a href=\"https://reactjs.org/docs/composition-vs-inheritance.html\" rel=\"nofollow noreferrer\">https://reactjs.org/docs/composition-vs-inheritance.html</a></p>\n"}], "owner": {"reputation": 39, "user_id": 6885165, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aa07fad1efac9af7c504c0616f93858e?s=128&d=identicon&r=PG&f=1", "display_name": "mgfjx", "link": "https://stackoverflow.com/users/6885165/mgfjx"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 242, "favorite_count": 0, "answer_count": 2, "score": 2, "last_activity_date": 1575463810, "creation_date": 1575432408, "question_id": 59168793, "link": "https://stackoverflow.com/questions/59168793/how-to-inherit-component-in-react-native-with-typescript", "title": "How to inherit component in react native with typescript?", "body": "<p>I wrote a <code>BaseListPage</code> component like this:</p>\n\n<pre><code>export default class BaseListPage extends Component&lt;Props, State&gt; {\n</code></pre>\n\n<p>and, I want to write another component inherited <code>BaseListPage</code>, like this:</p>\n\n<pre><code>export default class DynamicListPage extends BaseListPage&lt;Props, State&gt; {\n</code></pre>\n\n<p>but it prompts <code>Type 'BaseListPage' is not generic.</code>.</p>\n\n<p>I'm a new typescripter in react-native, please help!</p>\n"}, {"tags": ["angular", "typescript", "three.js", "babeljs"], "comments": [{"owner": {"reputation": 885, "user_id": 4249232, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/fmA2i.jpg?s=128&g=1", "display_name": "Sanil Khurana", "link": "https://stackoverflow.com/users/4249232/sanil-khurana"}, "edited": false, "score": 1, "creation_date": 1575432471, "post_id": 59168792, "comment_id": 104560817, "body": "Can you post the exact error message that you are getting?"}, {"owner": {"reputation": 170, "user_id": 11951474, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vd2sO.png?s=128&g=1", "display_name": "Adam", "link": "https://stackoverflow.com/users/11951474/adam"}, "reply_to_user": {"reputation": 885, "user_id": 4249232, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/fmA2i.jpg?s=128&g=1", "display_name": "Sanil Khurana", "link": "https://stackoverflow.com/users/4249232/sanil-khurana"}, "edited": false, "score": 0, "creation_date": 1575432539, "post_id": 59168792, "comment_id": 104560838, "body": "Yes, I&#39;ve updated my questions."}, {"owner": {"reputation": 885, "user_id": 4249232, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/fmA2i.jpg?s=128&g=1", "display_name": "Sanil Khurana", "link": "https://stackoverflow.com/users/4249232/sanil-khurana"}, "edited": false, "score": 0, "creation_date": 1575432601, "post_id": 59168792, "comment_id": 104560858, "body": "Maybe this might help - <a href=\"https://stackoverflow.com/questions/58802463/types-sequelize-error-ts1086-an-accessor-cannot-be-declared-in-ambient-context\" title=\"types sequelize error ts1086 an accessor cannot be declared in ambient context\">stackoverflow.com/questions/58802463/&hellip;</a>"}, {"owner": {"reputation": 13815, "user_id": 3197383, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/bifYg.jpg?s=128&g=1", "display_name": "R&#233;mi Becheras", "link": "https://stackoverflow.com/users/3197383/r%c3%a9mi-becheras"}, "edited": false, "score": 0, "creation_date": 1577054785, "post_id": 59168792, "comment_id": 105079767, "body": "Could you accept the answer ?"}], "answers": [{"comments": [{"owner": {"reputation": 1004, "user_id": 4668359, "user_type": "registered", "accept_rate": 31, "profile_image": "https://lh5.googleusercontent.com/-b1ytZU2R7o4/AAAAAAAAAAI/AAAAAAAAAIs/Kh9yhSSdcPY/photo.jpg?sz=128", "display_name": "Gitesh Purbia", "link": "https://stackoverflow.com/users/4668359/gitesh-purbia"}, "edited": false, "score": 0, "creation_date": 1578113559, "post_id": 59348073, "comment_id": 105342116, "body": "this solution not working in my case, i am using angular 8 and angular 8 support typescript &lt;v3.5"}, {"owner": {"reputation": 4617, "user_id": 6600549, "user_type": "registered", "accept_rate": 44, "profile_image": "https://i.stack.imgur.com/CeZTt.png?s=128&g=1", "display_name": "George C.", "link": "https://stackoverflow.com/users/6600549/george-c"}, "reply_to_user": {"reputation": 1004, "user_id": 4668359, "user_type": "registered", "accept_rate": 31, "profile_image": "https://lh5.googleusercontent.com/-b1ytZU2R7o4/AAAAAAAAAAI/AAAAAAAAAIs/Kh9yhSSdcPY/photo.jpg?sz=128", "display_name": "Gitesh Purbia", "link": "https://stackoverflow.com/users/4668359/gitesh-purbia"}, "edited": false, "score": 0, "creation_date": 1578141197, "post_id": 59348073, "comment_id": 105346894, "body": "Look at the types"}, {"owner": {"reputation": 1004, "user_id": 4668359, "user_type": "registered", "accept_rate": 31, "profile_image": "https://lh5.googleusercontent.com/-b1ytZU2R7o4/AAAAAAAAAAI/AAAAAAAAAIs/Kh9yhSSdcPY/photo.jpg?sz=128", "display_name": "Gitesh Purbia", "link": "https://stackoverflow.com/users/4668359/gitesh-purbia"}, "edited": false, "score": 1, "creation_date": 1578141901, "post_id": 59348073, "comment_id": 105347039, "body": "i have installed types and included in tsconfig.app.json, but dint work"}], "tags": [], "owner": {"reputation": 4617, "user_id": 6600549, "user_type": "registered", "accept_rate": 44, "profile_image": "https://i.stack.imgur.com/CeZTt.png?s=128&g=1", "display_name": "George C.", "link": "https://stackoverflow.com/users/6600549/george-c"}, "is_accepted": false, "score": 3, "last_activity_date": 1576444066, "creation_date": 1576444066, "answer_id": 59348073, "question_id": 59168792, "link": "https://stackoverflow.com/questions/59168792/three-js-angular-7-getting-error-bufferattribute-after-imported-to-controller/59348073#59348073", "title": "Three JS + Angular 7 getting error BufferAttribute after imported to controller", "body": "<p>Install this <strong>devDependencies</strong></p>\n\n<pre><code>npm install --save-dev @types/offscreencanvas\nnpm install --save-dev @types/webgl2\n</code></pre>\n\n<p>Update your <strong>tsconfig.app.json</strong></p>\n\n<pre><code> \"types\": [\"node\", \"webgl2\", \"offscreencanvas\"]\n\n</code></pre>\n\n<h3><code>package.json</code> looks like this.</h3>\n\n<pre><code>{\n  \"name\": \"sketch\",\n  \"version\": \"0.0.0\",\n  \"scripts\": {\n    \"ng\": \"ng\",\n    \"start\": \"ng serve\",\n    \"build\": \"ng build\",\n    \"test\": \"ng test\",\n    \"lint\": \"ng lint\",\n    \"e2e\": \"ng e2e\"\n  },\n  \"private\": true,\n  \"dependencies\": {\n    \"@angular/animations\": \"~8.2.14\",\n    \"@angular/cdk\": \"~8.2.3\",\n    \"@angular/common\": \"~8.2.14\",\n    \"@angular/compiler\": \"~8.2.14\",\n    \"@angular/core\": \"~8.2.14\",\n    \"@angular/flex-layout\": \"^8.0.0-beta.27\",\n    \"@angular/forms\": \"~8.2.14\",\n    \"@angular/material\": \"^8.2.3\",\n    \"@angular/platform-browser\": \"~8.2.14\",\n    \"@angular/platform-browser-dynamic\": \"~8.2.14\",\n    \"@angular/router\": \"~8.2.14\",\n    \"hammerjs\": \"^2.0.8\",\n    \"rxjs\": \"~6.4.0\",\n    \"subsink\": \"^1.0.0\",\n    \"three\": \"^0.110.0\",\n    \"tslib\": \"^1.10.0\",\n    \"zone.js\": \"~0.9.1\"\n  },\n  \"devDependencies\": {\n    \"@angular-devkit/build-angular\": \"~0.803.20\",\n    \"@angular/cli\": \"~8.3.20\",\n    \"@angular/compiler-cli\": \"~8.2.14\",\n    \"@angular/language-service\": \"~8.2.14\",\n    \"@types/jasmine\": \"~3.3.8\",\n    \"@types/jasminewd2\": \"~2.0.3\",\n    \"@types/node\": \"~8.9.4\",\n    \"@types/offscreencanvas\": \"^2019.6.0\",\n    \"@types/webgl2\": \"0.0.5\",\n    \"codelyzer\": \"^5.0.0\",\n    \"jasmine-core\": \"~3.4.0\",\n    \"jasmine-spec-reporter\": \"~4.2.1\",\n    \"karma\": \"~4.1.0\",\n    \"karma-chrome-launcher\": \"~2.2.0\",\n    \"karma-coverage-istanbul-reporter\": \"~2.0.1\",\n    \"karma-jasmine\": \"~2.0.1\",\n    \"karma-jasmine-html-reporter\": \"^1.4.0\",\n    \"protractor\": \"~5.4.0\",\n    \"ts-node\": \"~7.0.0\",\n    \"tslint\": \"~5.15.0\",\n    \"typescript\": \"~3.5.3\"\n  }\n}\n\n</code></pre>\n\n<h3><code>tsconfig.app.json</code> looks like this.</h3>\n\n<pre><code>{\n  \"extends\": \"./tsconfig.json\",\n  \"compilerOptions\": {\n    \"outDir\": \"./out-tsc/app\",\n    \"types\": [\"node\", \"webgl2\", \"offscreencanvas\"]\n  },\n  \"files\": [\n    \"src/main.ts\",\n    \"src/polyfills.ts\"\n  ],\n  \"include\": [\n    \"src/**/*.ts\"\n  ],\n  \"exclude\": [\n    \"src/test.ts\",\n    \"src/**/*.spec.ts\"\n  ]\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 86, "user_id": 3424168, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0gebs.jpg?s=128&g=1", "display_name": "Omar Arturo", "link": "https://stackoverflow.com/users/3424168/omar-arturo"}, "is_accepted": false, "score": 3, "last_activity_date": 1578852191, "creation_date": 1578852191, "answer_id": 59706665, "question_id": 59168792, "link": "https://stackoverflow.com/questions/59168792/three-js-angular-7-getting-error-bufferattribute-after-imported-to-controller/59706665#59706665", "title": "Three JS + Angular 7 getting error BufferAttribute after imported to controller", "body": "<p>Simply use the </p>\n\n<blockquote>\n  <p>\"three\": \"^0.110.0\"</p>\n</blockquote>\n"}, {"tags": [], "owner": {"reputation": 31, "user_id": 8508386, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d96a1eb13023244fa810507966b81c06?s=128&d=identicon&r=PG&f=1", "display_name": "malavpatel", "link": "https://stackoverflow.com/users/8508386/malavpatel"}, "is_accepted": false, "score": 2, "last_activity_date": 1579866216, "creation_date": 1579866216, "answer_id": 59895775, "question_id": 59168792, "link": "https://stackoverflow.com/questions/59168792/three-js-angular-7-getting-error-bufferattribute-after-imported-to-controller/59895775#59895775", "title": "Three JS + Angular 7 getting error BufferAttribute after imported to controller", "body": "<p>For <strong>Angular 8</strong> we can do\nAs Omar Arturo said we can downgrade <strong>threejs</strong> to <strong>0.110.0</strong> but does not work out of the box we have to</p>\n\n<pre><code>npm install @types/webgl2\n</code></pre>\n\n<p>and <strong>tsconfig.app.json</strong></p>\n\n<pre><code>\"types\": [\"node\", \"webgl2\", \"offscreencanvas\"]\n</code></pre>\n\n<p>That should do it.</p>\n"}, {"tags": [], "owner": {"reputation": 137, "user_id": 2378218, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fcc27cbb0016be156bce67b2980350f9?s=128&d=identicon&r=PG", "display_name": "Yomi1984", "link": "https://stackoverflow.com/users/2378218/yomi1984"}, "is_accepted": false, "score": 1, "last_activity_date": 1586041747, "creation_date": 1586041747, "answer_id": 61035945, "question_id": 59168792, "link": "https://stackoverflow.com/questions/59168792/three-js-angular-7-getting-error-bufferattribute-after-imported-to-controller/61035945#61035945", "title": "Three JS + Angular 7 getting error BufferAttribute after imported to controller", "body": "<p>Looks like this is solved in latest Three r115. Works out of the box.</p>\n"}, {"tags": [], "owner": {"reputation": 477, "user_id": 11795725, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZeIig.png?s=128&g=1", "display_name": "nipun-kavishka", "link": "https://stackoverflow.com/users/11795725/nipun-kavishka"}, "is_accepted": false, "score": 1, "last_activity_date": 1603474516, "creation_date": 1603474516, "answer_id": 64504803, "question_id": 59168792, "link": "https://stackoverflow.com/questions/59168792/three-js-angular-7-getting-error-bufferattribute-after-imported-to-controller/64504803#64504803", "title": "Three JS + Angular 7 getting error BufferAttribute after imported to controller", "body": "<p>You have to do two things. Also, make sure that you installed the following modules,</p>\n<p><strong>Step 01 :</strong>\nInstall devDependencies</p>\n<pre><code>npm install --save-dev @types/offscreencanvas\n</code></pre>\n<p>then update <strong>tsconfig.app.json</strong></p>\n<pre><code>&quot;types&quot;: [&quot;node&quot;, &quot;webgl2&quot;]\n</code></pre>\n<p><strong>Step 02 :</strong>\nGo to the tsconfig.json file and add <strong>skipLibCheck: true</strong> in <strong>&quot;compilerOptions&quot;</strong> object.\neg:</p>\n<pre><code>&quot;compilerOptions&quot;: {\n    ...\n    ...\n    &quot;skipLibCheck&quot;: true, \n  },\n</code></pre>\n<p>For more: this error happens because of the typescript version issue. So you can fix this by skipping lib check. In fact, some others facing that WebGL issue. So if you are using three.js then these solutions will solve your problem.</p>\n"}], "owner": {"reputation": 170, "user_id": 11951474, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vd2sO.png?s=128&g=1", "display_name": "Adam", "link": "https://stackoverflow.com/users/11951474/adam"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2014, "favorite_count": 3, "answer_count": 5, "score": 4, "last_activity_date": 1603474516, "creation_date": 1575432395, "last_edit_date": 1575432475, "question_id": 59168792, "link": "https://stackoverflow.com/questions/59168792/three-js-angular-7-getting-error-bufferattribute-after-imported-to-controller", "title": "Three JS + Angular 7 getting error BufferAttribute after imported to controller", "body": "<p>I am using Angular 7 and I want to add <a href=\"https://threejs.org/\" rel=\"nofollow noreferrer\">Three JS</a> to my project. But I'm getting an error after I imported it to my component controller. I did install  <code>npm install three --save</code> and their type <code>npm install @type/webgl2</code>. It shows error in my terminal VS code and code doesn't work either. I not quite sure that I am made it correctly, but what I import is <code>import * as THREE from 'three';</code>. I've been following one <a href=\"https://stackblitz.com/edit/angular7-playground-j1yzza?file=src%2Fapp%2Fapp.component.ts\" rel=\"nofollow noreferrer\">document</a> on Stackblitz and it working but still have an error shows that makes me cannot build my project. Any way to get rid of these errors? \nThis is what my error looks like:</p>\n\n<pre><code>ERROR in node_modules/three/src/core/BufferAttribute.d.ts(21,6): error \nTS1086: An accessor cannot be declared in an ambient context.\nnode_modules/three/src/core/InterleavedBufferAttribute.d.ts(19,6): error \nTS1086: An accessor cannot be declared in an ambient context.\nnode_modules/three/src/core/InterleavedBufferAttribute.d.ts(20,6): error \nTS1086: An accessor cannot be declared in an ambient context.\n</code></pre>\n"}, {"tags": ["javascript", "angular", "typescript"], "comments": [{"owner": {"reputation": 7215, "user_id": 6831341, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wPogL.png?s=128&g=1", "display_name": "Alexander Nied", "link": "https://stackoverflow.com/users/6831341/alexander-nied"}, "edited": false, "score": 2, "creation_date": 1575427271, "post_id": 59168163, "comment_id": 104559797, "body": "It seems like the salient question is how to get the total number of items in an array that fit a certain criteria, no?  Seems like you could just use <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/filter\" rel=\"nofollow noreferrer\"><code>Array.prototype.filter</code></a> and take the length of the result?  I&#39;m not sure that we actually need to concern ourselves with the fact that this takes place in an Angular context... unless I&#39;m misunderstanding the question/issue..."}, {"owner": {"reputation": 28101, "user_id": 3082296, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/5eac8c095f63cb9fe29a9af3cb97eb0e?s=128&d=identicon&r=PG&f=1", "display_name": "adiga", "link": "https://stackoverflow.com/users/3082296/adiga"}, "edited": false, "score": 1, "creation_date": 1575427429, "post_id": 59168163, "comment_id": 104559834, "body": "There is no <code>status</code> in the screenshot added. What do <code>params</code> and <code>group</code> look like? Please create a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> by adding the actual data as text instead of an image."}], "answers": [{"comments": [{"owner": {"reputation": 674, "user_id": 10153626, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-6c9YXJEAnzw/AAAAAAAAAAI/AAAAAAAAAAA/AAnnY7pIghGpr9K0BV_LukZEisWugJqDmg/mo/photo.jpg?sz=128", "display_name": "ABC", "link": "https://stackoverflow.com/users/10153626/abc"}, "edited": false, "score": 0, "creation_date": 1575428589, "post_id": 59168231, "comment_id": 104560050, "body": "how&#39;bout when there&#39;s 4 array"}, {"owner": {"reputation": 1757, "user_id": 1433107, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/311ae28285121bb38f0ec1b6717d1aca?s=128&d=identicon&r=PG", "display_name": "ulmas", "link": "https://stackoverflow.com/users/1433107/ulmas"}, "reply_to_user": {"reputation": 674, "user_id": 10153626, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-6c9YXJEAnzw/AAAAAAAAAAI/AAAAAAAAAAA/AAnnY7pIghGpr9K0BV_LukZEisWugJqDmg/mo/photo.jpg?sz=128", "display_name": "ABC", "link": "https://stackoverflow.com/users/10153626/abc"}, "edited": false, "score": 0, "creation_date": 1575431431, "post_id": 59168231, "comment_id": 104560634, "body": "I updated the answer for multiple arrays. It&#39;s a separate action: you need to concat your arrays into a single one first, then do the 2 filters. It&#39;s really outside of the original question you asked, but I hope it helped. I also added a note about your use of groupBy. If this answer helped, please don&#39;t forget to upvote/accept it."}], "tags": [], "owner": {"reputation": 1757, "user_id": 1433107, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/311ae28285121bb38f0ec1b6717d1aca?s=128&d=identicon&r=PG", "display_name": "ulmas", "link": "https://stackoverflow.com/users/1433107/ulmas"}, "is_accepted": true, "score": 2, "last_activity_date": 1575430999, "last_edit_date": 1575430999, "creation_date": 1575427629, "answer_id": 59168231, "question_id": 59168163, "link": "https://stackoverflow.com/questions/59168163/how-to-get-display-the-total-length-of-the-array-object-in-angular/59168231#59168231", "title": "How to get/display the total length of the array object in angular", "body": "<p>Assuming <code>group</code> is that array that you have the screenshot attached:</p>\n\n<pre><code>const pending = group.filter(asset =&gt; asset.status === 'PENDING').length;\nconst rejected = group.filter(asset =&gt; asset.status === 'REJECTED').length;\n</code></pre>\n\n<p><code>filter</code> does the filtering by status, and <code>length</code> returns the total number of filtered items.</p>\n\n<p>If you have multiple arrays, you can first concatenate them using <code>concat()</code> to get a single array:</p>\n\n<pre><code>var hege = [\"Cecilie\", \"Lone\"];\nvar stale = [\"Emil\", \"Tobias\", \"Linus\"];\nvar children = hege.concat(stale);\n</code></pre>\n\n<p><a href=\"https://www.w3schools.com/jsref/jsref_concat_array.asp\" rel=\"nofollow noreferrer\">https://www.w3schools.com/jsref/jsref_concat_array.asp</a></p>\n\n<p><em>Note:</em></p>\n\n<p>In your original code, you are doing <code>groupBy()</code> to create a new object with two keys (pending and rejected), but you don't even need that because <code>filter</code> will do what you need, and with concat you can merge multiple arrays into one.</p>\n"}], "owner": {"reputation": 674, "user_id": 10153626, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-6c9YXJEAnzw/AAAAAAAAAAI/AAAAAAAAAAA/AAnnY7pIghGpr9K0BV_LukZEisWugJqDmg/mo/photo.jpg?sz=128", "display_name": "ABC", "link": "https://stackoverflow.com/users/10153626/abc"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 100, "favorite_count": 0, "accepted_answer_id": 59168231, "answer_count": 1, "score": -1, "last_activity_date": 1575430999, "creation_date": 1575426952, "last_edit_date": 1575428266, "question_id": 59168163, "link": "https://stackoverflow.com/questions/59168163/how-to-get-display-the-total-length-of-the-array-object-in-angular", "title": "How to get/display the total length of the array object in angular", "body": "<p>How to get/display the total <code>length</code> of the <code>PENDING</code> and <code>REJECTED</code> in angular</p>\n\n<p>if <code>status === 'PENDING'</code> else if <code>status === 'REJECTED</code></p>\n\n<p>here's the code:</p>\n\n<p><strong><em>list.components.ts</em></strong></p>\n\n<pre><code>const group: any = groupBy(params, 'status');\n\n    Object.values(group).map((x: any) =&gt; {\n      x.map((key: any) =&gt; {\n        console.log(key);\n      });\n</code></pre>\n\n<p>here's the <code>array</code></p>\n\n<pre><code>{\n          \"assetcode\": \"001\", \"assetname\": \"Machine Print\", \"assettype\": \"Type\", \"floorcode\": \"58\",\n          \"linecode\": \"02\", \"rowNo\": 0, \"lastpmdate\": \"2019-12-02 08:00:00\", \"status\": \"PENDING\"\n        },\n        {\n          \"assetcode\": \"002\", \"assetname\": \"Machine Print\", \"assettype\": \"Type\", \"floorcode\": \"58\",\n          \"linecode\": \"02\", \"rowNo\": 0, \"lastpmdate\": \"2019-12-02 08:00:00\", \"status\": \"PENDING\"\n        },\n        {\n          \"assetcode\": \"003\", \"assetname\": \"Machine Print-V2\", \"assettype\": \"Type\", \"floorcode\": \"58\",\n          \"linecode\": \"03\", \"rowNo\": 0, \"lastpmdate\": \"2019-12-02 08:00:00\", \"status\": \"PENDING\"\n        },\n        {\n          \"assetcode\": \"003\", \"assetname\": \"Machine Print-V2\", \"assettype\": \"Type\", \"floorcode\": \"58\",\n          \"linecode\": \"03\", \"rowNo\": 0, \"lastpmdate\": \"2019-12-02 08:00:00\", \"status\": \"PENDING\"\n        },\n        {\n          \"assetcode\": \"003\", \"assetname\": \"Machine Print-V2\", \"assettype\": \"Type\", \"floorcode\": \"58\",\n          \"linecode\": \"03\", \"rowNo\": 0, \"lastpmdate\": \"2019-12-02 08:00:00\", \"status\": \"PENDING\"\n        },\n        {\n          \"assetcode\": \"003\", \"assetname\": \"Machine Print-V2\", \"assettype\": \"Type\", \"floorcode\": \"58\",\n          \"linecode\": \"03\", \"rowNo\": 0, \"lastpmdate\": \"2019-12-02 08:00:00\", \"status\": \"PENDING\"\n        },\n        {\n          \"assetcode\": \"003\", \"assetname\": \"Machine Print-V2\", \"assettype\": \"Type\", \"floorcode\": \"58\",\n          \"linecode\": \"03\", \"rowNo\": 0, \"lastpmdate\": \"2019-12-02 08:00:00\", \"status\": \"REJECTED\"\n        },\n        {\n          \"assetcode\": \"003\", \"assetname\": \"Machine Print-V2\", \"assettype\": \"Type\", \"floorcode\": \"58\",\n          \"linecode\": \"03\", \"rowNo\": 0, \"lastpmdate\": \"2019-12-04 08:00:00\", \"status\": \"REJECTED\"\n        },\n        {\n          \"assetcode\": \"003\", \"assetname\": \"Machine Print-V2\", \"assettype\": \"Type\", \"floorcode\": \"58\",\n          \"linecode\": \"03\", \"rowNo\": 0, \"lastpmdate\": \"2019-12-03 08:00:00\", \"status\": \"PENDING\"\n        },\n</code></pre>\n\n<p>here's the <code>group</code></p>\n\n<pre><code>{PENDING: Array(6), REJECTED: Array(1)}\nPENDING: Array(6)\n0: {assetcode: \"001\", assetname: \"Machine Print\", assettype: \"Type\", floorcode: \"58\", linecode: \"02\", \u2026}\n1: {assetcode: \"002\", assetname: \"Machine Print\", assettype: \"Type\", floorcode: \"58\", linecode: \"02\", \u2026}\n2: {assetcode: \"003\", assetname: \"Machine Print-V2\", assettype: \"Type\", floorcode: \"58\", linecode: \"03\", \u2026}\n3: {assetcode: \"003\", assetname: \"Machine Print-V2\", assettype: \"Type\", floorcode: \"58\", linecode: \"03\", \u2026}\n4: {assetcode: \"003\", assetname: \"Machine Print-V2\", assettype: \"Type\", floorcode: \"58\", linecode: \"03\", \u2026}\n5: {assetcode: \"003\", assetname: \"Machine Print-V2\", assettype: \"Type\", floorcode: \"58\", linecode: \"03\", \u2026}\nlength: 6\nREJECTED: Array(1)\n0: {assetcode: \"003\", assetname: \"Machine Print-V2\", assettype: \"Type\", floorcode: \"58\", linecode: \"03\", \u2026}\nlength: 1\n{PENDING: Array(2)}\nPENDING: Array(2)\n0: {assetcode: \"003\", assetname: \"Machine Print-V2\", assettype: \"Type\", floorcode: \"58\", linecode: \"03\", \u2026}\n1: {assetcode: \"003\", assetname: \"Machine Print-V2\", assettype: \"Type\", floorcode: \"58\", linecode: \"03\", \u2026}\nlength: 2;\n{REJECTED: Array(1)}\nREJECTED: Array(1)\n0: {assetcode: \"003\", assetname: \"Machine Print-V2\", assettype: \"Type\", floorcode: \"58\", linecode: \"03\", \u2026}\nlength: 1\n</code></pre>\n\n<p>console\n<a href=\"https://i.stack.imgur.com/TJ8aj.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/TJ8aj.png\" alt=\"enter image description here\"></a></p>\n\n<p>total <code>length</code> is <code>10</code>\nthere's <code>8</code> for <code>PENDING</code> and <code>2</code> for <code>REJECTED</code></p>\n\n<p>it should be display like this</p>\n\n<pre><code> if (key.status === 'PENDING') {\n     /// the output should be 8\n    } else if (key.status === 'REJECTED') {\n /// the output should be 2\n}\n</code></pre>\n"}, {"tags": ["angular", "typescript"], "answers": [{"tags": [], "owner": {"reputation": 704, "user_id": 7121238, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vxmeW.jpg?s=128&g=1", "display_name": "Mohammad", "link": "https://stackoverflow.com/users/7121238/mohammad"}, "is_accepted": true, "score": 2, "last_activity_date": 1575427102, "last_edit_date": 1575427102, "creation_date": 1575426781, "answer_id": 59168138, "question_id": 59168103, "link": "https://stackoverflow.com/questions/59168103/difference-between-service-in-the-constructor-versus-listed-as-a-provider-in-a-c/59168138#59168138", "title": "Difference Between Service in the Constructor Versus Listed as a Provider in a Component?", "body": "<p>When you register a provider at the component level, you get a new instance of the service with each new instance of that component.</p>\n\n<p>When you provide the service at the root level, Angular creates a single, shared instance of MyService and injects it into any class that asks for it. </p>\n\n<p>Registering the provider in the @Injectable() metadata also allows Angular to optimize an app by removing the service from the compiled app if it isn't used.</p>\n\n<pre><code>@Injectable({ providedIn: 'root' })\n</code></pre>\n"}], "owner": {"reputation": 163, "user_id": 11704842, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5d1f451d840363c83e3a534724d6a274?s=128&d=identicon&r=PG&f=1", "display_name": "TheGreatZab", "link": "https://stackoverflow.com/users/11704842/thegreatzab"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 59, "favorite_count": 0, "accepted_answer_id": 59168138, "answer_count": 1, "score": 0, "last_activity_date": 1575427102, "creation_date": 1575426475, "question_id": 59168103, "link": "https://stackoverflow.com/questions/59168103/difference-between-service-in-the-constructor-versus-listed-as-a-provider-in-a-c", "title": "Difference Between Service in the Constructor Versus Listed as a Provider in a Component?", "body": "<p>What would be the difference if in a component I declare a service as:</p>\n\n<p>A provider:</p>\n\n<pre><code>@Component({\n  ...\n  providers: [MyService]})\n</code></pre>\n\n<p>Versus in the constructor:</p>\n\n<pre><code>constructor(private myService: MyService) {\n    ...\n}\n</code></pre>\n\n<p>Is there a preferred method?</p>\n"}, {"tags": ["typescript"], "answers": [{"tags": [], "owner": {"reputation": 42593, "user_id": 340688, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/46a6db74ccc3bf4e009f875283401c14?s=128&d=identicon&r=PG", "display_name": "ThomasReggi", "link": "https://stackoverflow.com/users/340688/thomasreggi"}, "is_accepted": false, "score": 0, "last_activity_date": 1575426776, "creation_date": 1575426776, "answer_id": 59168137, "question_id": 59168036, "link": "https://stackoverflow.com/questions/59168036/infering-class-method-arguments-from-any-means/59168137#59168137", "title": "&quot;Infering&quot; class method arguments from any means", "body": "<p>This is the only way that satisfies above, however <code>ResolverType</code> is not a class anymore. </p>\n\n<p>I would like to understand I can have this be a class.</p>\n\n<pre><code>import { NodePlopAPI } from 'plop';\nimport { PlopPrompt } from '../shared/PlopPrompt';\n\ninterface PlopPrompt {\n    prompt(): any\n    partials(plop: NodePlopAPI): void\n}\n\nexport const ResolverType: PlopPrompt = {\n    prompt: () =&gt; ({\n        type: 'list',\n        name: 'resolverType',\n        message: 'Choose a resolver type:',\n        choices: [\n            'query',\n            'mutation'\n        ]\n    }),\n    partials(plop) {\n        plop.setPartial('resolverType', '{{ resolverType }}')\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 42593, "user_id": 340688, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/46a6db74ccc3bf4e009f875283401c14?s=128&d=identicon&r=PG", "display_name": "ThomasReggi", "link": "https://stackoverflow.com/users/340688/thomasreggi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 27, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1575427025, "creation_date": 1575425901, "last_edit_date": 1575427025, "question_id": 59168036, "link": "https://stackoverflow.com/questions/59168036/infering-class-method-arguments-from-any-means", "title": "&quot;Infering&quot; class method arguments from any means", "body": "<p>I have a class it has two methods and looks like this:</p>\n\n<pre><code>export class ResolverType {\n    prompt = () =&gt; ({\n        type: 'list',\n        name: 'resolverType',\n        message: 'Choose a resolver type:',\n        choices: [\n            'query',\n            'mutation'\n        ]\n    })\n    partials = (plop) =&gt; {\n        plop.setPartial('resolverType', '{{ resolverType }}')\n    }\n}\n</code></pre>\n\n<p>This is apart of a common type of class called a <code>PlopPrompt</code>. </p>\n\n<p>Each <code>PlopPrompt</code> has the same shape. They look like this:</p>\n\n<pre><code>import { NodePlopAPI, PlopGenerator } from 'plop';\n\nabstract class PlopPrompt {\n    abstract prompt(): PlopGenerator['prompts'][number]\n    abstract partials(plop: NodePlopAPI): void\n}\n</code></pre>\n\n<p>or</p>\n\n<pre><code>interface PlopPrompt {\n    prompt(): PlopGenerator['prompts'][number]\n    partials(plop: NodePlopAPI): void\n}\n</code></pre>\n\n<p>or switching to <code>static</code> and using <code>@PlopPrompt</code> decorator.</p>\n\n<pre><code>interface PlopPromptInterface {\n    prompt(): any\n    partials(plop: NodePlopAPI): void\n}\n\nexport function PlopPrompt() {\n    return &lt;U extends PlopPromptInterface&gt;(constructor: U) =&gt; { constructor };\n}\n</code></pre>\n\n<p>I am looking for a way to: </p>\n\n<ol>\n<li>Ensure a <code>PlotPrompt</code> has these two methods.</li>\n<li>Is it possible for <code>partials</code> arguments to be automatically typed? It's already defined in the definition, I don't understand why I can't see the typing and the <code>plop</code> argument comes back as <code>any</code>.</li>\n</ol>\n\n<hr>\n\n<p>Not quite understanding why <code>plop</code> is typed here:</p>\n\n<pre><code>interface Contract {\n    prompt(): any\n    partials(plop: NodePlopAPI): void\n}\n\nconst example: Contract = {\n    prompt: () =&gt; ({\n        type: 'list',\n        name: 'resolverType',\n        message: 'Choose a resolver type:',\n        choices: [\n            'query',\n            'mutation'\n        ]\n    }),\n    partials: (plop) =&gt; {\n        plop.setGenerator()\n        plop.setPartial('resolverType', '{{ resolverType }}')\n    }\n}\n</code></pre>\n\n<p>But not typed here:</p>\n\n<pre><code>interface Contract {\n    prompt(): any\n    partials(plop: NodePlopAPI): void\n}\n\nclass Example extends Contract {\n    prompt = () =&gt; ({\n        type: 'list',\n        name: 'resolverType',\n        message: 'Choose a resolver type:',\n        choices: [\n            'query',\n            'mutation'\n        ]\n    })\n    partials = (plop) =&gt; {\n        plop.setGenerator()\n        plop.setPartial('resolverType', '{{ resolverType }}')\n    }\n}\n</code></pre>\n\n<p>Is there any way to rectify this? <a href=\"https://github.com/microsoft/TypeScript/issues/10570\" rel=\"nofollow noreferrer\">I found a long conversation here, but no answers.</a>`</p>\n\n<hr>\n\n<p>Also tried this, using anonymous class. Arguments, are still not typed.</p>\n\n<pre><code>const ResolverType: PlopPrompt = class {\n    static prompt = () =&gt; ({\n        type: 'list',\n        name: 'resolverType',\n        message: 'Choose a resolver type:',\n        choices: [\n            'query',\n            'mutation'\n        ]\n    })\n    static partials = (plop) =&gt; {\n        plop.setPartial('resolverType', '{{ resolverType }}')\n    }\n}\n</code></pre>\n"}, {"tags": ["angular", "typescript", "ngx-datatable"], "comments": [{"owner": {"reputation": 1635, "user_id": 2595012, "user_type": "registered", "accept_rate": 44, "profile_image": "https://i.stack.imgur.com/byoZJ.jpg?s=128&g=1", "display_name": "Ajay Malhotra", "link": "https://stackoverflow.com/users/2595012/ajay-malhotra"}, "edited": false, "score": 0, "creation_date": 1575435581, "post_id": 59167713, "comment_id": 104561515, "body": "check this: <a href=\"https://therichpost.com/angular-7-datatables-working-example/\" rel=\"nofollow noreferrer\">therichpost.com/angular-7-datatables-working-example</a>"}, {"owner": {"reputation": 159, "user_id": 11522066, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZdspX.jpg?s=128&g=1", "display_name": "Betini O. Heleno", "link": "https://stackoverflow.com/users/11522066/betini-o-heleno"}, "reply_to_user": {"reputation": 1635, "user_id": 2595012, "user_type": "registered", "accept_rate": 44, "profile_image": "https://i.stack.imgur.com/byoZJ.jpg?s=128&g=1", "display_name": "Ajay Malhotra", "link": "https://stackoverflow.com/users/2595012/ajay-malhotra"}, "edited": false, "score": 0, "creation_date": 1575486708, "post_id": 59167713, "comment_id": 104586973, "body": "this post don&#180;t say anything about that question."}], "owner": {"reputation": 159, "user_id": 11522066, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZdspX.jpg?s=128&g=1", "display_name": "Betini O. Heleno", "link": "https://stackoverflow.com/users/11522066/betini-o-heleno"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 373, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1575422919, "creation_date": 1575422919, "question_id": 59167713, "link": "https://stackoverflow.com/questions/59167713/ngx-datatable-date-sorting-by-year-angular-8", "title": "ngx-datatable date sorting by Year ANGULAR 8", "body": "<p>I have the following situation in ngx-datatable from angular. When you click on a column, it does the sorting in alphabetical order and in the case of the date it is taking by day and not by year. I believe it is because the American format is the first year. (2019-12-03 and not as in brasil 03-12-2019). Would anyone know how to resolve this impasse? It follows below.</p>\n\n<p><a href=\"https://i.stack.imgur.com/iaLTe.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/iaLTe.jpg\" alt=\"enter image description here\"></a></p>\n\n<pre class=\"lang-js prettyprint-override\"><code>@Component({\n    selector: 'app-macroareas',\n    templateUrl: './macroareas.component.html',\n    styleUrls: ['./macroareas.component.scss']\n})\nexport class MacroareasComponent implements OnInit {\n    title = 'Macro\u00e1reas';\n    public macroarea = [];\n    loadingIndicator = true;\n    reorderable = true;\n    public right_side_bar: boolean;\n\n    columns = [\n        { prop: 'id' },\n        { prop: 'macroarea', name: 'Macro\u00e1rea' },\n        { prop: 'data_formatada', name: 'Data de cadastro' },\n    ];\n\n}\n\n</code></pre>\n\n<p>And how do I display the data in my macroareas.component.html</p>\n\n<pre class=\"lang-html prettyprint-override\"><code>       &lt;div class=\"card-body custom-datatable\"&gt;\n                    &lt;ngx-datatable class=\"bootstrap pointer\" [rows]=\"macroarea\" [loadingIndicator]=\"loadingIndicator\"\n                        [columns]=\"columns\" [columnMode]=\"'force'\" [headerHeight]=\"40\" [summaryPosition]=\"'bottom'\"\n                        [footerHeight]=\"40\" [rowHeight]=\"'auto'\" [reorderable]=\"reorderable\" \n                        [selectionType]=\"SelectionType.single\" [limit]=\"10\" (select)=\"open(mymodalEdit, $event)\"\n                        (activate)=\"onLoadMacroaresDatas($event)\"&gt;\n                    &lt;/ngx-datatable&gt;\n                &lt;/div&gt;\n\n</code></pre>\n\n<p>Would anyone know the solution to such a problem in ngx-datatable?</p>\n"}, {"tags": ["javascript", "reactjs", "typescript"], "comments": [{"owner": {"reputation": 2131, "user_id": 7674358, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-C3MZIj8KGao/AAAAAAAAAAI/AAAAAAAACQA/EwJ93h-Abno/photo.jpg?sz=128", "display_name": "ajai Jothi", "link": "https://stackoverflow.com/users/7674358/ajai-jothi"}, "edited": false, "score": 0, "creation_date": 1575422201, "post_id": 59167613, "comment_id": 104558648, "body": "can you paste your import statement?"}, {"owner": {"reputation": 7968, "user_id": 485676, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/6b9bd46ef45b1c9e0c7cbe422c0326e5?s=128&d=identicon&r=PG", "display_name": "Nemoden", "link": "https://stackoverflow.com/users/485676/nemoden"}, "edited": false, "score": 0, "creation_date": 1575422498, "post_id": 59167613, "comment_id": 104558715, "body": "I don&#39;t see you ever exporting <code>trace</code>... If you don&#39;t export it, how come would it be imported? :)"}, {"owner": {"reputation": 125, "user_id": 10699991, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/74dc290fafb1127cbe28377766760d60?s=128&d=identicon&r=PG&f=1", "display_name": "C.Programming", "link": "https://stackoverflow.com/users/10699991/c-programming"}, "edited": false, "score": 0, "creation_date": 1575422502, "post_id": 59167613, "comment_id": 104558718, "body": "Yes, the statement is now in my post. So I export with export const trace... and import like so and it does not work. Otherwise, if I move this variable declaration above my function, it still does not work."}, {"owner": {"reputation": 125, "user_id": 10699991, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/74dc290fafb1127cbe28377766760d60?s=128&d=identicon&r=PG&f=1", "display_name": "C.Programming", "link": "https://stackoverflow.com/users/10699991/c-programming"}, "edited": false, "score": 0, "creation_date": 1575422573, "post_id": 59167613, "comment_id": 104558727, "body": "I have added the export to my post to be more clear. But it is not that I have getting a compile error, or even a runtime error. I am just getting different results in my view if I declare the variable in the function or have it in another scope."}, {"owner": {"reputation": 26112, "user_id": 8526705, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/buwQ5.jpg?s=128&g=1", "display_name": "Dacre Denny", "link": "https://stackoverflow.com/users/8526705/dacre-denny"}, "edited": false, "score": 0, "creation_date": 1575422643, "post_id": 59167613, "comment_id": 104558749, "body": "Can you confirm that <code>trace</code> is not be accessed and modified by other code in your project? ie, if you change the <code>trace</code> variable to be named <code>foo</code>, does that rule out any &quot;rouge libraries&quot; as the cause of unexpected data?"}, {"owner": {"reputation": 125, "user_id": 10699991, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/74dc290fafb1127cbe28377766760d60?s=128&d=identicon&r=PG&f=1", "display_name": "C.Programming", "link": "https://stackoverflow.com/users/10699991/c-programming"}, "reply_to_user": {"reputation": 26112, "user_id": 8526705, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/buwQ5.jpg?s=128&g=1", "display_name": "Dacre Denny", "link": "https://stackoverflow.com/users/8526705/dacre-denny"}, "edited": false, "score": 0, "creation_date": 1575422797, "post_id": 59167613, "comment_id": 104558786, "body": "@DacreDenny I can confirm. Only place I use it."}, {"owner": {"reputation": 26112, "user_id": 8526705, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/buwQ5.jpg?s=128&g=1", "display_name": "Dacre Denny", "link": "https://stackoverflow.com/users/8526705/dacre-denny"}, "edited": false, "score": 0, "creation_date": 1575422899, "post_id": 59167613, "comment_id": 104558812, "body": "Are you able to provide some more context? ie, code in the surrounding source file, project config, or a github repo?"}, {"owner": {"reputation": 2967, "user_id": 928138, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/1yooW.jpg?s=128&g=1", "display_name": "Dan", "link": "https://stackoverflow.com/users/928138/dan"}, "edited": false, "score": 0, "creation_date": 1575422926, "post_id": 59167613, "comment_id": 104558823, "body": "show us the mangled object you claim is different from the original?"}, {"owner": {"reputation": 125, "user_id": 10699991, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/74dc290fafb1127cbe28377766760d60?s=128&d=identicon&r=PG&f=1", "display_name": "C.Programming", "link": "https://stackoverflow.com/users/10699991/c-programming"}, "reply_to_user": {"reputation": 2967, "user_id": 928138, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/1yooW.jpg?s=128&g=1", "display_name": "Dan", "link": "https://stackoverflow.com/users/928138/dan"}, "edited": false, "score": 0, "creation_date": 1575423677, "post_id": 59167613, "comment_id": 104558969, "body": "@Dan I have added a comparison of the objects. There appears to be no difference. It is the strangest thing. This object is accessed once and is only read only where I just assign variables from the properties."}, {"owner": {"reputation": 970, "user_id": 12352927, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/856004218b8ec31474877b2e289a6833?s=128&d=identicon&r=PG&f=1", "display_name": "Stepan", "link": "https://stackoverflow.com/users/12352927/stepan"}, "edited": false, "score": 0, "creation_date": 1575424409, "post_id": 59167613, "comment_id": 104559119, "body": "add &quot;export default trace;&quot; after object definition"}, {"owner": {"reputation": 112977, "user_id": 390278, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/84715fec547362389d02f5be0ed12814?s=128&d=identicon&r=PG", "display_name": "Jeff Mercado", "link": "https://stackoverflow.com/users/390278/jeff-mercado"}, "edited": false, "score": 1, "creation_date": 1575426050, "post_id": 59167613, "comment_id": 104559492, "body": "You need to show us how you&#39;re &quot;testing&quot; this. Show us the objects (all of it) and not just a picture of a , before and after. Show us the view you&#39;re applying this to that shows you why it&#39;s not working. Point out what makes the results you&#39;re seeing &quot;wrong&quot;."}], "answers": [{"comments": [{"owner": {"reputation": 2967, "user_id": 928138, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/1yooW.jpg?s=128&g=1", "display_name": "Dan", "link": "https://stackoverflow.com/users/928138/dan"}, "edited": false, "score": 0, "creation_date": 1575484350, "post_id": 59167897, "comment_id": 104586073, "body": "there is something else going on that you are not considering - you have showed us that the object is the same - some logic in your app is changing your object OR your view logic is not properly using your object."}], "tags": [], "owner": {"reputation": 125, "user_id": 10699991, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/74dc290fafb1127cbe28377766760d60?s=128&d=identicon&r=PG&f=1", "display_name": "C.Programming", "link": "https://stackoverflow.com/users/10699991/c-programming"}, "is_accepted": false, "score": 0, "last_activity_date": 1575424577, "creation_date": 1575424577, "answer_id": 59167897, "question_id": 59167613, "link": "https://stackoverflow.com/questions/59167613/javascript-object-array-not-importing-correctly/59167897#59167897", "title": "JavaScript object array not importing correctly", "body": "<p>I found out if I import the array of objects as before, then I run:</p>\n\n<pre><code>const traceJson: string = JSON.stringify(trace);\n// then\nconst traceObject = JSON.parse(traceJson);\n// ...\n\n</code></pre>\n\n<p>That this works correctly. I still have no idea what is causing this. It must be the format of my object that I am importing. Somehow the function must correct JSON irregularities while outside the function scope, it does not.</p>\n\n<p>If someone sees a problem with my JSON, and/or can tell me what is the difference between these scopes, I would be happy to learn and will mark your answer accepted.</p>\n\n<p>Thank you all for your help.</p>\n"}], "owner": {"reputation": 125, "user_id": 10699991, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/74dc290fafb1127cbe28377766760d60?s=128&d=identicon&r=PG&f=1", "display_name": "C.Programming", "link": "https://stackoverflow.com/users/10699991/c-programming"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 173, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1575424577, "creation_date": 1575421912, "last_edit_date": 1575424083, "question_id": 59167613, "link": "https://stackoverflow.com/questions/59167613/javascript-object-array-not-importing-correctly", "title": "JavaScript object array not importing correctly", "body": "<p>I have this array of objects defined as: </p>\n\n<pre><code>export const trace: IStackTrace[] = [\n  {\n    ordered_globals: [\"c\"],\n    stdout: \"\",\n    func_name: \"&lt;module&gt;\",\n    stack_to_render: [],\n    globals: {\n      c: [\"REF\", 1]\n    },\n    heap: {\n      \"1\": [\"ARRAY\", 1, [\"REF\", 2]],\n      \"2\": [\"ARRAY\", 2, null]\n    },\n    line: 2,\n    event: \"return\"\n  },\n  {\n    ordered_globals: [\"c\", \"d\"],\n    stdout: \"\",\n    func_name: \"&lt;module&gt;\",\n    stack_to_render: [],\n    globals: {\n      c: [\"REF\", 1],\n      d: [\"REF\", 3]\n    },\n    heap: {\n      \"1\": [\"ARRAY\", 1, [\"REF\", 2]],\n      \"2\": [\"ARRAY\", 2, null],\n      \"3\": [\"ARRAY\", 1, [\"REF\", 1]]\n    },\n    line: 2,\n    event: \"return\"\n  }\n];\n</code></pre>\n\n<p>import: </p>\n\n<pre><code>import { trace } from \"./Examples\";\n</code></pre>\n\n<p>This code works;</p>\n\n<pre><code>const StackTraceView = (props: IProps) =&gt; {\n   const [stepNumber, setStepNumber] = useState&lt;number&gt;(0);\n   const trace = ...\n   const currentTrace = trace[stepNumber];\n   // ...\n}\n</code></pre>\n\n<p>This does not</p>\n\n<pre><code>import { trace } from \"./Examples\";\n\nconst StackTraceView = (props: IProps) =&gt; {\n   const [stepNumber, setStepNumber] = useState&lt;number&gt;(0);\n   const currentTrace = trace[stepNumber];\n   // ...\n}\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/upTi4.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/upTi4.png\" alt=\"Comparison between &quot;currentTrace&quot; objects\"></a></p>\n\n<p>The objects appear the same to me. But my view disagrees.</p>\n\n<p>When I declare and initialize this variable as above inside my React component, then this variable works as expected and my display shows the trace. However, when I put this object into another file and import, or if I declare this object in the \"global\" space, deep properties of the object seem to be null and my display breaks.</p>\n\n<p>I have no idea what the difference is between declaring this deep object array inside function scope versus importing it is. I tried to deep object clone and still had the same result. </p>\n\n<p>Any help understanding what is going on is much appreciated.</p>\n\n<p>Edit: Added further context. Real question is what the difference between this variable declaration within a function, or using the variable when it is declared outside function scope.</p>\n"}, {"tags": ["typescript", "firebase", "google-cloud-functions"], "comments": [{"owner": {"reputation": 10308, "user_id": 1738915, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/YXjto.jpg?s=128&g=1", "display_name": "Kolban", "link": "https://stackoverflow.com/users/1738915/kolban"}, "edited": false, "score": 0, "creation_date": 1575421384, "post_id": 59167484, "comment_id": 104558495, "body": "What does your package directory structure look like?   Might this help <a href=\"https://stackoverflow.com/questions/43117124/how-to-read-local-files-in-the-google-cloud-functions-emulator\" title=\"how to read local files in the google cloud functions emulator\">stackoverflow.com/questions/43117124/&hellip;</a>"}, {"owner": {"reputation": 1680, "user_id": 4967050, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/b318bf5ef5a26780e0836b9481808e67?s=128&d=identicon&r=PG&f=1", "display_name": "acidgate", "link": "https://stackoverflow.com/users/4967050/acidgate"}, "reply_to_user": {"reputation": 10308, "user_id": 1738915, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/YXjto.jpg?s=128&g=1", "display_name": "Kolban", "link": "https://stackoverflow.com/users/1738915/kolban"}, "edited": false, "score": 0, "creation_date": 1575421597, "post_id": 59167484, "comment_id": 104558524, "body": "@Kolban check edit for folder structure"}, {"owner": {"reputation": 10308, "user_id": 1738915, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/YXjto.jpg?s=128&g=1", "display_name": "Kolban", "link": "https://stackoverflow.com/users/1738915/kolban"}, "edited": false, "score": 1, "creation_date": 1575423370, "post_id": 59167484, "comment_id": 104558901, "body": "You pose a good question ... got me wondering what the running environment of a Cloud Function looks like from a file system perspective.  I made some tests and got some results.  What I&#39;d suggest is look at the following ... <a href=\"https://stackoverflow.com/questions/59167743/how-can-i-see-the-file-system-nature-of-my-node-js-cloud-function-environment/59167744#59167744\" title=\"how can i see the file system nature of my node js cloud function environment\">stackoverflow.com/questions/59167743/&hellip;</a> and incorporate this as a test."}, {"owner": {"reputation": 1680, "user_id": 4967050, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/b318bf5ef5a26780e0836b9481808e67?s=128&d=identicon&r=PG&f=1", "display_name": "acidgate", "link": "https://stackoverflow.com/users/4967050/acidgate"}, "reply_to_user": {"reputation": 10308, "user_id": 1738915, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/YXjto.jpg?s=128&g=1", "display_name": "Kolban", "link": "https://stackoverflow.com/users/1738915/kolban"}, "edited": false, "score": 1, "creation_date": 1575424294, "post_id": 59167484, "comment_id": 104559090, "body": "@Kolban you&#39;ve been a lot of help! Thanks!"}, {"owner": {"reputation": 10308, "user_id": 1738915, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/YXjto.jpg?s=128&g=1", "display_name": "Kolban", "link": "https://stackoverflow.com/users/1738915/kolban"}, "edited": false, "score": 0, "creation_date": 1575429116, "post_id": 59167484, "comment_id": 104560149, "body": "did you find an answer?  What was it?  Maybe post an answer to your own question?"}, {"owner": {"reputation": 10308, "user_id": 1738915, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/YXjto.jpg?s=128&g=1", "display_name": "Kolban", "link": "https://stackoverflow.com/users/1738915/kolban"}, "edited": false, "score": 0, "creation_date": 1575435097, "post_id": 59167484, "comment_id": 104561403, "body": "On a bigger meta note ... I&#39;d be tempted to run your cloud function with its own service account that implicitly has the authority it needs (via IAM) to access firebase.  This will mean that you don&#39;t need to pass around credentials files with all the negative impacts that may have."}], "answers": [{"comments": [{"owner": {"reputation": 10308, "user_id": 1738915, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/YXjto.jpg?s=128&g=1", "display_name": "Kolban", "link": "https://stackoverflow.com/users/1738915/kolban"}, "edited": false, "score": 0, "creation_date": 1575475428, "post_id": 59168663, "comment_id": 104581211, "body": "Howdy Doug ... is there a semantic difference between const serviceAccountKey = &quot;serviceAccountKey.json&quot; and const serviceAccountKey = &quot;./serviceAccountKey.json&quot;"}, {"owner": {"reputation": 233128, "user_id": 807126, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xpNqK.jpg?s=128&g=1", "display_name": "Doug Stevenson", "link": "https://stackoverflow.com/users/807126/doug-stevenson"}, "reply_to_user": {"reputation": 10308, "user_id": 1738915, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/YXjto.jpg?s=128&g=1", "display_name": "Kolban", "link": "https://stackoverflow.com/users/1738915/kolban"}, "edited": false, "score": 0, "creation_date": 1575481265, "post_id": 59168663, "comment_id": 104584536, "body": "@Kolban It&#39;s a matter of being specific about telling the Admin SDK where the file lives."}, {"owner": {"reputation": 316, "user_id": 13090475, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AOh14GglJ4Sw45pFTACvVn81BoeKGw5tle5RQJsyuEQ2=k-s128", "display_name": "Hudson Kim", "link": "https://stackoverflow.com/users/13090475/hudson-kim"}, "edited": false, "score": 0, "creation_date": 1596866180, "post_id": 59168663, "comment_id": 111953979, "body": "@DougStevenson one note I would add is that if you are writing your cloud function using typescript, and you use a relative path, you must place your .json folder in the lib folder where the index.js file is located, not in the src file where index.ts is located."}, {"owner": {"reputation": 233128, "user_id": 807126, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xpNqK.jpg?s=128&g=1", "display_name": "Doug Stevenson", "link": "https://stackoverflow.com/users/807126/doug-stevenson"}, "reply_to_user": {"reputation": 316, "user_id": 13090475, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AOh14GglJ4Sw45pFTACvVn81BoeKGw5tle5RQJsyuEQ2=k-s128", "display_name": "Hudson Kim", "link": "https://stackoverflow.com/users/13090475/hudson-kim"}, "edited": false, "score": 0, "creation_date": 1596869188, "post_id": 59168663, "comment_id": 111954509, "body": "@HudsonKim Or, you can place it in the functions folder as I suggested here, in neither src nor lib, and refer to it as &quot;../file.json&quot;.  In this way, it doesn&#39;t matter where the including file lived, and you don&#39;t have to put files in lib that are not compiled files."}], "tags": [], "owner": {"reputation": 233128, "user_id": 807126, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xpNqK.jpg?s=128&g=1", "display_name": "Doug Stevenson", "link": "https://stackoverflow.com/users/807126/doug-stevenson"}, "is_accepted": true, "score": 2, "last_activity_date": 1575431315, "creation_date": 1575431315, "answer_id": 59168663, "question_id": 59167484, "link": "https://stackoverflow.com/questions/59167484/how-to-pass-certificate-key-file-when-deploying-cloud-function/59168663#59168663", "title": "How to pass certificate key file when deploying cloud function?", "body": "<p>When you deploy content to Cloud Functions using the Firebase CLI, it will upload the entire contents of your functions folder (except node_modules, which it will rebuild using the contents of your package.json).  That folder will become the root of your deployment.  When your function executes, it will have all of those files ready for use, but you will have to refer to them correctly using relative paths.</p>\n\n<p>Using that as perspective, I can see that your serviceAccount.json and compiled index.js are all in a folder called \"lib\".  If you want code in index.js to be able to load JSON out of other files in the same folder, what you'll have to do is refer to it using a relative path, like this:</p>\n\n<pre><code>const serviceAccountKey = \"./serviceAccountKey.json\"\n</code></pre>\n\n<p>Note the \"./\" at the start of the path.  That's telling node that you want to refer to a file that's in the same folder as the current source file.</p>\n\n<p>I'll make one recommendation: For TypeScript projects, lib is typically reserved for compiled code.  I would avoid putting your service account file in there, since that folder could be removed during clean build.  It might be better to put it at the root of the deployment and refer to it as \"../serviceAccount.json\", which is my usual practice.</p>\n"}], "owner": {"reputation": 1680, "user_id": 4967050, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/b318bf5ef5a26780e0836b9481808e67?s=128&d=identicon&r=PG&f=1", "display_name": "acidgate", "link": "https://stackoverflow.com/users/4967050/acidgate"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 276, "favorite_count": 0, "accepted_answer_id": 59168663, "answer_count": 1, "score": 0, "last_activity_date": 1575431315, "creation_date": 1575420695, "last_edit_date": 1575430965, "question_id": 59167484, "link": "https://stackoverflow.com/questions/59167484/how-to-pass-certificate-key-file-when-deploying-cloud-function", "title": "How to pass certificate key file when deploying cloud function?", "body": "<p>In my TypeScript file, I have the following:</p>\n\n<pre><code>import * as admin from 'firebase-admin'\nimport * as functions from 'firebase-functions'\nconst serviceAccountKey = \"serviceAccountKey.json\"\nconst databaseURL = \"https://blahblah.firebaseio.com\"\n\nadmin.initializeApp({\n    credential: admin.credential.cert(serviceAccountKey),\n    databaseURL: databaseURL\n});\n</code></pre>\n\n<p>My functions run fine in the emulator (which can only happen if the json key is successfully passed) but when I try to deploy them, I get the following error:</p>\n\n<pre><code>Error: Error occurred while parsing your function triggers.\nError: Failed to parse certificate key file: Error: ENOENT: no such file or directory, open 'serviceAccountKey.json'\n</code></pre>\n\n<p>I've tried moving the json file to the root folder, the lib folder (where the index.js file resides), the functions folder, without any luck. How do I pass the key when deploying?</p>\n\n<p><a href=\"https://i.stack.imgur.com/WunHh.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/WunHh.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["javascript", "arrays", "angular", "typescript"], "comments": [{"owner": {"reputation": 71380, "user_id": 3558960, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/a98b52149d419c2aad558befe51c8cc5?s=128&d=identicon&r=PG", "display_name": "Robby Cornelissen", "link": "https://stackoverflow.com/users/3558960/robby-cornelissen"}, "edited": false, "score": 0, "creation_date": 1575418366, "post_id": 59167204, "comment_id": 104557889, "body": "You don&#39;t need to include the <code>false</code> properties in option 1. Just leave them undefined."}, {"owner": {"user_type": "does_not_exist", "display_name": "user6440081"}, "reply_to_user": {"reputation": 71380, "user_id": 3558960, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/a98b52149d419c2aad558befe51c8cc5?s=128&d=identicon&r=PG", "display_name": "Robby Cornelissen", "link": "https://stackoverflow.com/users/3558960/robby-cornelissen"}, "edited": false, "score": 0, "creation_date": 1575418935, "post_id": 59167204, "comment_id": 104557994, "body": "But then I must check if the parameter actually exists, for example via  <code>if (&#39;comedy&#39; in movieObject === true)</code>. Wouldn&#39;t that be similar to <code>.include()</code>?"}, {"owner": {"reputation": 8698, "user_id": 4897779, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/m3fOc.png?s=128&g=1", "display_name": "jered", "link": "https://stackoverflow.com/users/4897779/jered"}, "edited": false, "score": 0, "creation_date": 1575419013, "post_id": 59167204, "comment_id": 104558014, "body": "Are you prematurely optimizing here, or have you actually run into performance problems? This kind of filtering should ideally be done by the server, either with server-side-rendering or as an API endpoint. The client should not have to deal with such kinds of heavy computation. If you absolutely must do it though, how about doing it with a WebWorker so it runs in a separate thread? You could also run your own JS performance benchmarks to determine the fastest method."}, {"owner": {"reputation": 392, "user_id": 1227309, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aa97007268612f05c1e0c0304d7a9ddf?s=128&d=identicon&r=PG", "display_name": "MS_AU", "link": "https://stackoverflow.com/users/1227309/ms-au"}, "reply_to_user": {"reputation": 8698, "user_id": 4897779, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/m3fOc.png?s=128&g=1", "display_name": "jered", "link": "https://stackoverflow.com/users/4897779/jered"}, "edited": false, "score": 0, "creation_date": 1575423921, "post_id": 59167204, "comment_id": 104559014, "body": "I agreed with @jered that you may be prematurely optimizing here. Option 2 is clean and easy to understand. If a new genre is introduced then the <i>shape</i> of your <code>movie</code> object will not need to change, unlike with Option 1. There are no doubt optimizations that can be applied based on your use case. My advice is to try it first - measure - and assess."}, {"owner": {"reputation": 198293, "user_id": 707111, "user_type": "moderator", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/oXZkh.jpg?s=128&g=1", "display_name": "Ry-", "link": "https://stackoverflow.com/users/707111/ry"}, "edited": false, "score": 0, "creation_date": 1575451044, "post_id": 59167204, "comment_id": 104567251, "body": "What does your actual data look like (how many tags, how many entries) and what operations will you need (search for single tags, union of tags, intersection of tags, exclude tags)?"}], "answers": [{"tags": [], "owner": {"reputation": 71380, "user_id": 3558960, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/a98b52149d419c2aad558befe51c8cc5?s=128&d=identicon&r=PG", "display_name": "Robby Cornelissen", "link": "https://stackoverflow.com/users/3558960/robby-cornelissen"}, "is_accepted": true, "score": 0, "last_activity_date": 1575419201, "creation_date": 1575419201, "answer_id": 59167327, "question_id": 59167204, "link": "https://stackoverflow.com/questions/59167204/choosing-the-right-data-structure-boolean-check-vs-array-include-performance/59167327#59167327", "title": "Choosing the right data structure: boolean check vs array .include (performance vs redundancy)", "body": "<p>You don't need to include the <code>false</code> properties in option 1. Just leave them <code>undefined</code>, which is a <a href=\"https://developer.mozilla.org/en-US/docs/Glossary/Falsy\" rel=\"nofollow noreferrer\"><em>falsy</em></a> value.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const movies = [\r\n  {id: 1, name: 'some movie 1', comedy: true, thriller: true, drama: true, adventure: true},\r\n  {id: 2, name: 'some movie 2', thriller: true},\r\n  {id: 3, name: 'some movie 3', comedy: true, thriller: true, drama: true, adventure: true},\r\n  {id: 4, name: 'some movie 4', comedy: true, thriller: true, drama: true,}\r\n];\r\n\r\nconst comedies = movies.filter(m =&gt; m.comedy);\r\n\r\nconsole.log(comedies);</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>This gets rid of the redundant data, while still allowing for good filtering performance.</p>\n"}, {"comments": [{"owner": {"reputation": 198293, "user_id": 707111, "user_type": "moderator", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/oXZkh.jpg?s=128&g=1", "display_name": "Ry-", "link": "https://stackoverflow.com/users/707111/ry"}, "edited": false, "score": 1, "creation_date": 1575421719, "post_id": 59167581, "comment_id": 104558553, "body": "Like <code>genre &amp; 4</code>?"}, {"owner": {"reputation": 3976, "user_id": 9410412, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/v7cIX.jpg?s=128&g=1", "display_name": "ibrahim tanyalcin", "link": "https://stackoverflow.com/users/9410412/ibrahim-tanyalcin"}, "reply_to_user": {"reputation": 198293, "user_id": 707111, "user_type": "moderator", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/oXZkh.jpg?s=128&g=1", "display_name": "Ry-", "link": "https://stackoverflow.com/users/707111/ry"}, "edited": false, "score": 0, "creation_date": 1575421759, "post_id": 59167581, "comment_id": 104558560, "body": "same, sure, why not"}], "tags": [], "owner": {"reputation": 3976, "user_id": 9410412, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/v7cIX.jpg?s=128&g=1", "display_name": "ibrahim tanyalcin", "link": "https://stackoverflow.com/users/9410412/ibrahim-tanyalcin"}, "is_accepted": false, "score": 0, "last_activity_date": 1575421820, "last_edit_date": 1575421820, "creation_date": 1575421637, "answer_id": 59167581, "question_id": 59167204, "link": "https://stackoverflow.com/questions/59167204/choosing-the-right-data-structure-boolean-check-vs-array-include-performance/59167581#59167581", "title": "Choosing the right data structure: boolean check vs array .include (performance vs redundancy)", "body": "<p>have a single genres key with an integer with meaningful binary representation, like flags:</p>\n\n<pre><code>comedy  drama   something else  \n   1      0            1       === 1 * 2^2 + 0 * 2^1 + 1 === 5\n</code></pre>\n\n<p>you end up:</p>\n\n<pre><code>{\n    id:1,\n    name: \"some\",\n    genre: 5\n}\n</code></pre>\n\n<p>to see if this includes comedy, you have to test:</p>\n\n<pre><code>(genre ^ 4) === (genre - 4)\n</code></pre>\n\n<p>if you would test to see for drama you would do:</p>\n\n<pre><code>(5 ^ 2) === (5 - 2) //false\n</code></pre>\n\n<p>I mean you get the idea, you can also go for shorter bitmasking <code>genre &amp; 4</code> , as others pointed out in the comments.Whatever suits your taste</p>\n"}, {"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user6440081"}, "edited": false, "score": 0, "creation_date": 1575525101, "post_id": 59167621, "comment_id": 104597599, "body": "Not sure who downvoted you really, your post had some useful information for me, +1 from me"}, {"owner": {"reputation": 198293, "user_id": 707111, "user_type": "moderator", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/oXZkh.jpg?s=128&g=1", "display_name": "Ry-", "link": "https://stackoverflow.com/users/707111/ry"}, "edited": false, "score": 0, "creation_date": 1599554496, "post_id": 59167621, "comment_id": 112801731, "body": "This advice is waaaaaaay too general. There are many cases where the client would be a perfectly acceptable place to filter data, and many volumes of data for which a WebWorker may well be overcomplicated."}], "tags": [], "owner": {"reputation": 8698, "user_id": 4897779, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/m3fOc.png?s=128&g=1", "display_name": "jered", "link": "https://stackoverflow.com/users/4897779/jered"}, "is_accepted": false, "score": -2, "last_activity_date": 1575421979, "creation_date": 1575421979, "answer_id": 59167621, "question_id": 59167204, "link": "https://stackoverflow.com/questions/59167204/choosing-the-right-data-structure-boolean-check-vs-array-include-performance/59167621#59167621", "title": "Choosing the right data structure: boolean check vs array .include (performance vs redundancy)", "body": "<p>You should not be doing this kind of filtering on the client. Computing big datasets is slow and will block the main browser thread, causing UI stutter and slowdowns. You should set up a server with an API to filter this type of stuff completely independent of the client, so that you can simply query the API and get the filtered data you need. If you are filtering/computing so much data on the client that performance concerns become an issue, <em>you are probably doing something wrong</em> in terms of how you've structured your app.</p>\n\n<p>If you absolutely MUST do filtering like this on the client, <a href=\"https://developer.mozilla.org/en-US/docs/Web/API/Web_Workers_API/Using_web_workers\" rel=\"nofollow noreferrer\">I suggest you do it in a WebWorker</a> so that it happens in a background thread and does not block the UI.</p>\n\n<p>Even then, if you decide to do it on the client (WebWorker or not) you are going to run into cross-browser concerns. Every browser potentially implements JavaScript a little differently and has their own quirks. One method may be faster in one browser but slower in another. If you really want to know which method is fastest, you could run some benchmarks to try and figure it out. <a href=\"https://jsperf.com/large-data-filtering\" rel=\"nofollow noreferrer\">Which I went ahead and did here</a>.</p>\n\n<p><a href=\"https://i.stack.imgur.com/X1mLb.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/X1mLb.png\" alt=\"JSPerf benchmark\"></a></p>\n\n<p>As you can see, there are differences between browsers, because Chrome, FireFox and Safari use different JavaScript engines (V8, SpiderMonkey, and Webkit respectively). Your safest bet would be to pick the most-universally-fast method, which in this case seems to be <code>Array.includes()</code> (longer bars are better). It is tied for best performance in Chrome, the most popular browser, with good performance in Firefox and pretty good performance in Safari too.</p>\n\n<p>Conclusion:</p>\n\n<ol>\n<li>Built an API for this kind of task if possible</li>\n<li>If you must do it client-side, use a WebWorker</li>\n<li>In any case, <code>Array.includes()</code> seems to be the best bet</li>\n</ol>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user6440081"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 69, "favorite_count": 0, "accepted_answer_id": 59167327, "answer_count": 3, "score": 1, "last_activity_date": 1575421979, "creation_date": 1575418253, "question_id": 59167204, "link": "https://stackoverflow.com/questions/59167204/choosing-the-right-data-structure-boolean-check-vs-array-include-performance", "title": "Choosing the right data structure: boolean check vs array .include (performance vs redundancy)", "body": "<p>I have objects which can have one or more properties assigned. In my particular case, there are a total of 5 different properties.</p>\n\n<p>To simplify things, let's take a basic movie example with 5 different genres which could be assigned to every movie.</p>\n\n<p>I thought of two ways to do that: </p>\n\n<ul>\n<li>have a boolean for every single property for every single object OR</li>\n<li>have an array with a list of assigned properties for every object</li>\n</ul>\n\n<p>That means: </p>\n\n<p>Option 1:</p>\n\n<pre><code>[{id: 1, name: 'some movie 1', comedy: true, thriller: true, drama: true, action: false, adventure: true},\n{id: 2, name: 'some movie 2', comedy: false, thriller: true, drama: false, action: false, adventure: false},\n{id: 3, name: 'some movie 3', comedy: true, thriller: true, drama: true, action: false, adventure: true},\n{id: 4, name: 'some movie 4', comedy: true, thriller: true, drama: true, action: false, adventure: false}, ...]\n</code></pre>\n\n<p>Option 2:</p>\n\n<pre><code>[{id: 1, name: 'some movie 1', genre: ['comedy','thriller','drama']},\n{id: 2, name: 'some movie 2', genre: ['thriller','drama']},\n{id: 3, name: 'some movie 3', genre: ['comedy','thriller','adventure']},\n{id: 4, name: 'some movie 4', genre: ['comedy','thriller']}, ...]\n</code></pre>\n\n<p>I want to go with option 2 as it's more compact and doesn't store redundant data (boolean false-values).</p>\n\n<p>However, I am worried about the performance as I have to check the arrays via .include() for the particular property string, while option 1 requires a simple boolean check which is seemingly faster.</p>\n\n<p>So if my statement above is correct, I'm feeling like having to choose between redundancy and performance (please correct if wrong). Is there perhaps a better approach for this, i.e. a different data structure altogether?</p>\n\n<p>Thanks in advance!</p>\n"}, {"tags": ["typescript", "eslint", "react-proptypes"], "comments": [{"owner": {"reputation": 229185, "user_id": 251311, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/b6b0ca5d4ef200ec8e3cd1fa2aefd836?s=128&d=identicon&r=PG", "display_name": "zerkms", "link": "https://stackoverflow.com/users/251311/zerkms"}, "edited": false, "score": 1, "creation_date": 1575420524, "post_id": 59167193, "comment_id": 104558338, "body": "If you use typed components - you don&#39;t need <code>react&#47;prop-types</code>. What it wants from you is to declare the <code>propTypes</code> explicitly: <code>Comp.propTypes = { ... }</code>"}], "owner": {"reputation": 1780, "user_id": 1217608, "user_type": "registered", "accept_rate": 47, "profile_image": "https://www.gravatar.com/avatar/93bca75fef2f24da26f7a164b5c971a9?s=128&d=identicon&r=PG", "display_name": "benjamin.keen", "link": "https://stackoverflow.com/users/1217608/benjamin-keen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 214, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1575418187, "creation_date": 1575418187, "question_id": 59167193, "link": "https://stackoverflow.com/questions/59167193/react-prop-types-error-on-ts-type-for-unknown-object-structure", "title": "react/prop-types error on TS type for unknown object structure", "body": "<p>Puzzling eslint error. I have an unknown object structure passed into a component like so:</p>\n\n<pre><code>type Props = {\n    i18n: {\n        [key: string]: string;\n    }\n};\n\nconst Comp = ({ i18n }: Props) =&gt; (\n    ...\n    // i18n.myPropertyName\n);\n</code></pre>\n\n<p>Referencing i18n.myPropertyName yields the following error:</p>\n\n<pre><code>19:55  error  'i18n.myPropertyName' is missing in props validation  react/prop-types\n</code></pre>\n\n<p>What do I need to do to make it accept any object structure? I thought my TS type def was correct.</p>\n"}, {"tags": ["c#", "json", "angular", "typescript", "object-properties"], "comments": [{"owner": {"reputation": 704, "user_id": 7121238, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vxmeW.jpg?s=128&g=1", "display_name": "Mohammad", "link": "https://stackoverflow.com/users/7121238/mohammad"}, "edited": false, "score": 0, "creation_date": 1575420824, "post_id": 59167035, "comment_id": 104558400, "body": "Are you sure you can get values in backend controller correctly? It seems to be JObject is null!"}], "answers": [{"tags": [], "owner": {"reputation": 401, "user_id": 5684326, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/4cbc76c7f21a79beca0210a706109122?s=128&d=identicon&r=PG&f=1", "display_name": "jdmneon", "link": "https://stackoverflow.com/users/5684326/jdmneon"}, "is_accepted": false, "score": 0, "last_activity_date": 1575491496, "creation_date": 1575491496, "answer_id": 59184250, "question_id": 59167035, "link": "https://stackoverflow.com/questions/59167035/properties-getting-dropped-from-object-using-typescript-and-angular/59184250#59184250", "title": "Properties getting dropped from Object using Typescript and Angular", "body": "<p>I found out that I needed to declare the variables in my class as public</p>\n\n<pre><code>        Int32 userId { get; set; }\n        Int32 id { get; set; }\n        String title { get; set; }\n        String completed { get; set; }\n</code></pre>\n\n<p>needed to be</p>\n\n<pre><code>        public Int32 userId { get; set; }\n        public Int32 id { get; set; }\n        public String title { get; set; }\n        public String completed { get; set; }\n</code></pre>\n\n<p>the class now looks like</p>\n\n<pre><code>    public class RandomValue\n    {\n        public Int32 userId { get; set; }\n        public Int32 id { get; set; }\n        public String title { get; set; }\n        public Boolean? completed { get; set; }\n        public RandomValue() { }\n        public RandomValue RandomVal(JObject obj)\n        {\n            RandomValue val = new RandomValue();\n            val.userId = Int32.TryParse(obj.GetValue(\"userId\").ToString(), out int userIdResult) ? userIdResult : 0;\n            val.id =  Int32.TryParse(obj.GetValue(\"id\").ToString(), out int idRes) ? idRes : 0;\n            val.title = obj.TryGetValue(\"title\", out JToken titleToken) ? titleToken.ToString() : null;\n            if (obj.TryGetValue(\"completed\", out JToken completed) &amp;&amp; BooleanExtensions.TryParse(completed.ToString()))\n            {\n                val.completed = BooleanExtensions.Parse(completed.ToString());\n            }\n            return val;\n        }\n    }\n</code></pre>\n\n<p>I am still not sure why I needed to do this because it certainly seemed like the values were being assigned correctly when using the visual studio debugger so if anyone can explain it that would help</p>\n"}], "owner": {"reputation": 401, "user_id": 5684326, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/4cbc76c7f21a79beca0210a706109122?s=128&d=identicon&r=PG&f=1", "display_name": "jdmneon", "link": "https://stackoverflow.com/users/5684326/jdmneon"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 88, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1575491496, "creation_date": 1575416750, "last_edit_date": 1575445376, "question_id": 59167035, "link": "https://stackoverflow.com/questions/59167035/properties-getting-dropped-from-object-using-typescript-and-angular", "title": "Properties getting dropped from Object using Typescript and Angular", "body": "<p>I have a class called RandomValue and a class called WeatherForecast. The WeatherForecast class works correctly and data populates the table. The RandomValues class/interface seems to return a list of objects with no properties. So I get a table with the correct number of rows but no properties. I could really use some help with this</p>\n\n<pre><code>using System;\nusing System.Collections.Generic;\nusing System.Linq;\nusing System.Threading.Tasks;\nusing Newtonsoft.Json.Linq;\n\nnamespace WebApplication14.Models\n{\n    public class RandomValue\n    {\n        public RandomValue RandomVal(JObject obj)\n        {\n            RandomValue val = new RandomValue();\n            val.userId = Int32.Parse(obj.GetValue(\"userId\").ToString());\n            val.id =  Int32.Parse(obj.GetValue(\"id\").ToString());\n            val.title = obj.GetValue(\"title\").ToString();\n            val.completed = obj.GetValue(\"completed\").ToString();\n            return val;\n        }\n\n        Int32 userId { get; set; }\n        Int32 id { get; set; }\n        String title { get; set; }\n        String completed { get; set; }\n    }\n}\n\n</code></pre>\n\n<pre><code>using System;\n\nnamespace WebApplication14\n{\n    public class WeatherForecast\n    {\n        public DateTime Date { get; set; }\n\n        public int TemperatureC { get; set; }\n\n        public int TemperatureF =&gt; 32 + (int)(TemperatureC / 0.5556);\n\n        public string Summary { get; set; }\n    }\n}\n</code></pre>\n\n<p>here are their respective controllers: </p>\n\n<pre><code> public class RandomValuesController : ControllerBase\n    {\n        public RandomValuesController(ILogger&lt;RandomValuesController&gt; logger)\n        {\n            Logger = logger;\n        }\n\n        public ILogger&lt;RandomValuesController&gt; Logger { get; }\n\n        [HttpGet]\n        public IEnumerable&lt;RandomValue&gt; Get()\n        {\n            using var httpClient = new WebClient();\n\n            Int32 NumberRows = new Random().Next(1, 10);\n            List&lt;RandomValue&gt; Values = new List&lt;RandomValue&gt;();\n\n            for (Int32 row = 0; row &lt; NumberRows; row++)\n            {\n                Int32 randomRow = new Random().Next(1, 200);\n                JObject randomJSON = JObject.Parse(httpClient.DownloadString(\"https://jsonplaceholder.typicode.com/todos/\" + randomRow));\n\n                RandomValue value = new RandomValue().RandomVal(randomJSON);\n                Values.Add(value);\n            }\n            RandomValue[] theValues = Values.ToArray();\n            return theValues;\n        }\n    }\n</code></pre>\n\n<pre><code>using System;\nusing System.Collections.Generic;\nusing System.Linq;\nusing System.Threading.Tasks;\nusing Microsoft.AspNetCore.Authorization;\nusing Microsoft.AspNetCore.Mvc;\nusing Microsoft.Extensions.Logging;\n\nnamespace WebApplication14.Controllers\n{\n    [Authorize]\n    [ApiController]\n    [Route(\"[controller]\")]\n    public class WeatherForecastController : ControllerBase\n    {\n        private static readonly string[] Summaries = new[]\n        {\n            \"Freezing\", \"Bracing\", \"Chilly\", \"Cool\", \"Mild\", \"Warm\", \"Balmy\", \"Hot\", \"Sweltering\", \"Scorching\"\n        };\n\n        private readonly ILogger&lt;WeatherForecastController&gt; _logger;\n\n        public WeatherForecastController(ILogger&lt;WeatherForecastController&gt; logger)\n        {\n            _logger = logger;\n        }\n\n        [HttpGet]\n        public IEnumerable&lt;WeatherForecast&gt; Get()\n        {\n            var rng = new Random();\n            var example =  Enumerable.Range(1, 5).Select(\n            index =&gt; new WeatherForecast\n            {\n                Date = DateTime.Now.AddDays(index),\n                TemperatureC = rng.Next(-20, 55),\n                Summary = Summaries[rng.Next(Summaries.Length)]\n            })\n            .ToArray();\n            return example;\n        }\n    }\n}\n\n</code></pre>\n\n<p>both of the controllers return an array of the type in question and the models and controllers seem to work fine. </p>\n\n<p>Now here is my typescript file</p>\n\n<pre><code>import { Component, Inject } from '@angular/core';\nimport { HttpClient } from '@angular/common/http';\n\n@Component({\n  selector: 'app-fetch-data',\n  templateUrl: './fetch-data.component.html'\n})\n\n\nexport class FetchDataComponent {\n  public forecasts: WeatherForecast[];\n  public randomvalues: RandomValue[];\n\n\n  constructor(http: HttpClient, @Inject('BASE_URL') baseUrl: string) {\n      http.get&lt;WeatherForecast[]&gt;(baseUrl + 'weatherforecast')\n          .subscribe(result =&gt; { this.forecasts = result; }, error =&gt; console.error(error));\n\n      http.get&lt;RandomValue[]&gt;(baseUrl + 'randomvalues')\n          .subscribe(result =&gt; { this.randomvalues = result;  }, error =&gt; console.error(error));\n\n  }\n}\n\ninterface WeatherForecast {\n  date: string;\n  temperatureC: number;\n  temperatureF: number;\n  summary: string;\n}\n\ninterface RandomValue {\n    userId: number;\n    id: number;\n    title: string;\n    completed: string;\n}\n</code></pre>\n\n<p>and here is my html file</p>\n\n<pre><code>&lt;h1 id=\"tableLabel\"&gt;Weather forecast&lt;/h1&gt;\n\n&lt;p&gt;This component demonstrates fetching data from the server.&lt;/p&gt;\n\n&lt;p *ngIf=\"!forecasts\"&gt;&lt;em&gt;Loading...&lt;/em&gt;&lt;/p&gt;\n\n&lt;table class='table table-striped' aria-labelledby=\"tableLabel\" *ngIf=\"forecasts\"&gt;\n  &lt;thead&gt;\n    &lt;tr&gt;\n      &lt;th&gt;Date&lt;/th&gt;\n      &lt;th&gt;Temp. (C)&lt;/th&gt;\n      &lt;th&gt;Temp. (F)&lt;/th&gt;\n      &lt;th&gt;Summary&lt;/th&gt;\n    &lt;/tr&gt;\n  &lt;/thead&gt;\n  &lt;tbody&gt;\n    &lt;tr *ngFor=\"let forecast of forecasts\"&gt;\n      &lt;td&gt;{{ forecast.date }}&lt;/td&gt;\n      &lt;td&gt;{{ forecast.temperatureC }}&lt;/td&gt;\n      &lt;td&gt;{{ forecast.temperatureF }}&lt;/td&gt;\n      &lt;td&gt;{{ forecast.summary }}&lt;/td&gt;\n    &lt;/tr&gt;\n  &lt;/tbody&gt;\n&lt;/table&gt;\n\n&lt;table class='table table-striped' aria-labelledby=\"tableLabel\" *ngIf=\"randomvalues\"&gt;\n  &lt;thead&gt;\n    &lt;tr&gt;\n      &lt;th&gt;UserId&lt;/th&gt;\n      &lt;th&gt;Id&lt;/th&gt;\n      &lt;th&gt;Title&lt;/th&gt;\n      &lt;th&gt;Completed&lt;/th&gt;\n    &lt;/tr&gt;\n  &lt;/thead&gt;\n  &lt;tbody&gt;\n    &lt;tr *ngFor=\"let value of randomvalues\"&gt;\n      &lt;td&gt;{{ value.userId }}&lt;/td&gt;\n      &lt;td&gt;{{ value.id }}&lt;/td&gt;\n      &lt;td&gt;{{ value.title }}&lt;/td&gt;\n      &lt;td&gt;{{ value.completed }}&lt;/td&gt;\n    &lt;/tr&gt;\n  &lt;/tbody&gt;\n&lt;/table&gt;\n</code></pre>\n\n<p>WeatherForecasts is a list of Objects with the correct properties inside them\nRandomValues is a list of Objects but the Objects don't have any properties inside them</p>\n"}]