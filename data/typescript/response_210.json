[{"tags": ["javascript", "node.js", "typescript", "express"], "comments": [{"owner": {"reputation": 20976, "user_id": 591487, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/c5e1a6f7698e7fc0f986262543b5bb9f?s=128&d=identicon&r=PG", "display_name": "inorganik", "link": "https://stackoverflow.com/users/591487/inorganik"}, "edited": false, "score": 1, "creation_date": 1547678989, "post_id": 54226364, "comment_id": 95279142, "body": "Try removing morgan"}, {"owner": {"reputation": 1, "user_id": 10924785, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FEbfy.png?s=128&g=1", "display_name": "Przemek", "link": "https://stackoverflow.com/users/10924785/przemek"}, "reply_to_user": {"reputation": 20976, "user_id": 591487, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/c5e1a6f7698e7fc0f986262543b5bb9f?s=128&d=identicon&r=PG", "display_name": "inorganik", "link": "https://stackoverflow.com/users/591487/inorganik"}, "edited": false, "score": 0, "creation_date": 1547682282, "post_id": 54226364, "comment_id": 95280149, "body": "Only went down by like ~20ms, I tried removing the router entirely and seeing if adding the route directly to the express app variable would change anything but nothing there either."}, {"owner": {"reputation": 20976, "user_id": 591487, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/c5e1a6f7698e7fc0f986262543b5bb9f?s=128&d=identicon&r=PG", "display_name": "inorganik", "link": "https://stackoverflow.com/users/591487/inorganik"}, "edited": false, "score": 0, "creation_date": 1547683085, "post_id": 54226364, "comment_id": 95280322, "body": "is there any middleware that is adding a simulated delay?"}, {"owner": {"reputation": 1, "user_id": 10924785, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FEbfy.png?s=128&g=1", "display_name": "Przemek", "link": "https://stackoverflow.com/users/10924785/przemek"}, "reply_to_user": {"reputation": 20976, "user_id": 591487, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/c5e1a6f7698e7fc0f986262543b5bb9f?s=128&d=identicon&r=PG", "display_name": "inorganik", "link": "https://stackoverflow.com/users/591487/inorganik"}, "edited": false, "score": 0, "creation_date": 1547700304, "post_id": 54226364, "comment_id": 95283569, "body": "There shouldn&#39;t be. All my middlewares are in config(). When I ran express in debug however, it says the response time was only 2.289ms. Now I&#39;m completely lost."}, {"owner": {"reputation": 1, "user_id": 10924785, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FEbfy.png?s=128&g=1", "display_name": "Przemek", "link": "https://stackoverflow.com/users/10924785/przemek"}, "reply_to_user": {"reputation": 20976, "user_id": 591487, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/c5e1a6f7698e7fc0f986262543b5bb9f?s=128&d=identicon&r=PG", "display_name": "inorganik", "link": "https://stackoverflow.com/users/591487/inorganik"}, "edited": false, "score": 0, "creation_date": 1547700474, "post_id": 54226364, "comment_id": 95283613, "body": "This might actually just be a browser issue. Using the &#39;got&#39; package, the time it gave me was something much faster than what chrome was telling me."}], "owner": {"reputation": 1, "user_id": 10924785, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FEbfy.png?s=128&g=1", "display_name": "Przemek", "link": "https://stackoverflow.com/users/10924785/przemek"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 102, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1547677726, "creation_date": 1547677726, "question_id": 54226364, "link": "https://stackoverflow.com/questions/54226364/express-js-simple-get-request-takes-a-while-to-load", "title": "Express.js: Simple Get request takes a while to load?", "body": "<p>I was playing around with Express and Typescript when I noticed that the load time for a simple GET request was ~700ms. For a normal webapp, this isn't really a big deal but considering the response I'm sending for my GET request is just 'Hello get', I thought it was a little weird.</p>\n\n<p>When I tested this with just plain JS, I got the same load time. </p>\n\n<p>Any idea on what's causing this?</p>\n\n<p>Here's the code in case that helps</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>// index.ts\n\nimport app from \"./app\";\nconst PORT = process.env.PORT || 3000;\napp.listen(PORT, () =&gt; { console.log(`Server running on port ${PORT}`)});\n</code></pre>\n\n<pre class=\"lang-js prettyprint-override\"><code>// app/index.ts\n\nimport express from \"express\";\nimport morgan from \"morgan\";\nimport api from \"./routes/api\";\n\nclass App \n{\n    public app: express.Application;\n\n    constructor()\n    {\n        this.app = express();\n        this.config();\n        this.routes();\n    }\n\n    private config() \n    {\n        this.app.use(express.json());\n        this.app.use(express.urlencoded({ extended: false }));\n        this.app.use(morgan(\"dev\"));\n    }\n\n    private routes() \n    {\n        this.app.use(\"/api\", api);\n    }\n}\n\nexport default new App().app;\n</code></pre>\n\n<pre class=\"lang-js prettyprint-override\"><code>// routes/api.ts\n\nimport { Request, Response, Router } from \"express\";\n\nclass Api\n{\n    public api: Router = Router();\n\n    constructor()\n    {\n        this.api.get(\"/\", (req: Request, res: Response) =&gt; {\n            res.send(\"Hello get\");\n        });\n    }\n}\n\nexport default new Api().api;\n</code></pre>\n"}, {"tags": ["typescript", "dynamic"], "comments": [{"owner": {"reputation": 3518, "user_id": 4959547, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rIjar.png?s=128&g=1", "display_name": "molamk", "link": "https://stackoverflow.com/users/4959547/molamk"}, "edited": false, "score": 3, "creation_date": 1547676772, "post_id": 54226111, "comment_id": 95278311, "body": "Since your variables are dynamic, maybe try using an <i>array</i> or a <i>map</i> to store your values?"}], "answers": [{"comments": [{"owner": {"reputation": 1469, "user_id": 2017131, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/e5834b1d67b4f0c3b1c95103cfa938bf?s=128&d=identicon&r=PG", "display_name": "Sriks", "link": "https://stackoverflow.com/users/2017131/sriks"}, "edited": false, "score": 0, "creation_date": 1547735530, "post_id": 54227115, "comment_id": 95300773, "body": "I don&#39;t have myList as a variable. So I can&#39;t iterate through myList"}], "tags": [], "owner": {"reputation": 31, "user_id": 4848902, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8fINB.jpg?s=128&g=1", "display_name": "Rob H", "link": "https://stackoverflow.com/users/4848902/rob-h"}, "is_accepted": false, "score": 0, "last_activity_date": 1547682724, "creation_date": 1547682724, "answer_id": 54227115, "question_id": 54226111, "link": "https://stackoverflow.com/questions/54226111/typescript-dynamically-generate-variable-name/54227115#54227115", "title": "Typescript dynamically generate variable name", "body": "<p>Use template string literals and bracket notation syntax with <code>this</code>:</p>\n\n<pre><code>myList.forEach((data: object, index: number) =&gt; {\n    this[`myList${index + 1}`][data.id] = `${data.id}-${data.desc}`;\n});\n</code></pre>\n"}], "owner": {"reputation": 1469, "user_id": 2017131, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/e5834b1d67b4f0c3b1c95103cfa938bf?s=128&d=identicon&r=PG", "display_name": "Sriks", "link": "https://stackoverflow.com/users/2017131/sriks"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1613, "favorite_count": 1, "answer_count": 1, "score": 1, "last_activity_date": 1547699179, "creation_date": 1547676394, "last_edit_date": 1547699179, "question_id": 54226111, "link": "https://stackoverflow.com/questions/54226111/typescript-dynamically-generate-variable-name", "title": "Typescript dynamically generate variable name", "body": "<p>I need to dynamically create variable instances and assign values in single statement as below.</p>\n\n<pre><code>this.myList1[data.id] = data.id + \"-\" + data.desc;\nthis.myList2[data.id] = data.id + \"-\" + data.desc;\nthis.myList3[data.id] = data.id + \"-\" + data.desc;\nthis.myList4[data.id] = data.id + \"-\" + data.desc;\nthis.myList5[data.id] = data.id + \"-\" + data.desc;\nthis.myList6[data.id] = data.id + \"-\" + data.desc;\n</code></pre>\n\n<p>Can someone suggest me what is the best way to do this in Typescript?</p>\n"}, {"tags": ["javascript", "typescript"], "comments": [{"owner": {"reputation": 73287, "user_id": 3874623, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/6df0aa136ee42f4ea24ef08b7c348e7a?s=128&d=identicon&r=PG&f=1", "display_name": "Mark", "link": "https://stackoverflow.com/users/3874623/mark"}, "edited": false, "score": 0, "creation_date": 1547675545, "post_id": 54225909, "comment_id": 95277793, "body": "I can&#39;t reproduce this. If I make <code>isReady</code> return false, I get <code>Fail</code>. Can you make a snippet that demonstrates the problem."}, {"owner": {"reputation": 11755, "user_id": 4797603, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/AwTvE.jpg?s=128&g=1", "display_name": "Ronnie Royston", "link": "https://stackoverflow.com/users/4797603/ronnie-royston"}, "edited": false, "score": 0, "creation_date": 1547692968, "post_id": 54225909, "comment_id": 95282133, "body": "declare a <code>var result = await anAsyncFunction();</code> and then if.  Change <code>async</code> to <code>async function</code>"}], "answers": [{"tags": [], "owner": {"reputation": 6633, "user_id": 392025, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7ac8fa292707d21768f9ebe17de4b523?s=128&d=identicon&r=PG", "display_name": "Aurel B&#237;l&#253;", "link": "https://stackoverflow.com/users/392025/aurel-b%c3%adl%c3%bd"}, "is_accepted": false, "score": 3, "last_activity_date": 1547675720, "creation_date": 1547675720, "answer_id": 54225991, "question_id": 54225909, "link": "https://stackoverflow.com/questions/54225909/async-operation-in-an-if-condition/54225991#54225991", "title": "Async operation in an if condition", "body": "<p>I cannot reproduce this either \u2013 if <code>isReady</code> returns <code>false</code>, <code>check</code> will print \"fail\" in the console.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>async function isReady() {\r\n  return new Promise((resolve, reject) =&gt; {\r\n      window.setTimeout(() =&gt; resolve(false), 1000);\r\n    });\r\n}\r\n\r\nasync function check() {\r\n  if (await isReady()) {\r\n    console.log(\"success\");\r\n  } else {\r\n    console.log(\"fail\");\r\n  }\r\n}\r\n\r\ncheck();</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 14571, "user_id": 1669996, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/89e5a1861e6429b8f5d3cc45900b98ae?s=128&d=identicon&r=PG", "display_name": "casillas", "link": "https://stackoverflow.com/users/1669996/casillas"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 66, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1547692600, "creation_date": 1547675324, "last_edit_date": 1547692600, "question_id": 54225909, "link": "https://stackoverflow.com/questions/54225909/async-operation-in-an-if-condition", "title": "Async operation in an if condition", "body": "<p>Once I click on a button, it calls the following check function which calls <code>isReady()</code> function which does some operations to find out whether or not it is true.</p>\n\n<p>When I was checking, <code>isReady()</code> method actually returns false, but it returns <code>Success</code> in the console, it seems it does not wait async call to finish.</p>\n\n<pre><code>async check() {\n\n   if(await this.isReady(this.entireSchool))\n   {\n      console.log (\"Success\")\n   }\n   else\n   {\n      console.log (\"Fail\")\n   }\n}\n\nasync isReady(classes: Class)\n{\n  // does not include code here, \n  //during the test it returns false, it has been confirmed.\n}\n</code></pre>\n"}, {"tags": ["typescript", "generics", "type-systems"], "answers": [{"comments": [{"owner": {"reputation": 22324, "user_id": 769384, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/3fa57b5dc94ebba0dd8dc93878ccd922?s=128&d=identicon&r=PG", "display_name": "ducin", "link": "https://stackoverflow.com/users/769384/ducin"}, "edited": false, "score": 0, "creation_date": 1547811541, "post_id": 54226097, "comment_id": 95330370, "body": "Thanks a lot Titian! So is it true to say that I was trying to infer <i>incorrectly</i> by assigning a generic function to a certain-type function; and the right way to infer is not by assigning, but by invoking the function?"}], "tags": [], "owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "is_accepted": true, "score": 21, "last_activity_date": 1547676816, "last_edit_date": 1547676816, "creation_date": 1547676302, "answer_id": 54226097, "question_id": 54225839, "link": "https://stackoverflow.com/questions/54225839/required-vs-inferred-generic-types-in-typescript/54226097#54226097", "title": "Required vs inferred generic types in TypeScript", "body": "<p>The two are very different in the function signature they define. </p>\n\n<ul>\n<li>The first defines a regular function signature, that can be customized with a type parameter when used, and that type becomes is fixed into the signature</li>\n<li>The second defines a generic function signature, that is a function that can accept a parameter of any type <code>T</code>, with <code>T</code> being inferred (or specified explicitly) when the function is called.</li>\n</ul>\n\n<p>Consider the following declarations: </p>\n\n<pre><code>declare const fn: FnWithRequiredParam&lt;number&gt; \ndeclare const genericFn: FnWithParamInferred;\n\n// T was fixed on declaration \nfn(1) // ok\nfn(\"1\") // err  \n\n// T is decded by the caller\ngenericFn(1) // ok T is number for this call\ngenericFn(\"1\") // ok T is string  for this call\ngenericFn&lt;number&gt;(\"1\") // err T was specified as number but string was passed in \n</code></pre>\n\n<p>The reason for the error you are getting is that you are attempting to assign a function with a <code>number</code> parameter to a function that should accept a parameter of any type <code>T</code>, with <code>T</code> to be decided by the caller of the function. Only a generic function can satisfy the type <code>FnWithParamInferred</code></p>\n\n<pre><code>var f: FnWithParamInferred = &lt;T&gt;(a: T) =&gt; { console.log(a) }\n</code></pre>\n\n<p>I think what you really want is to be able to omit the explicit type argument from the variable declaration and have it be inferred based on the value assigned to it. Typescript does not support this. If you define a type annotation for a variable no inference will be done for the variable. </p>\n\n<p>You can omit the type annotation altogether to let the compiler infer the function type:  </p>\n\n<pre><code>var f = (a: number) =&gt; { console.log(a) } // inferred as (a: number) =&gt; void\n</code></pre>\n\n<p>Or you can define a generic helper function to infer <code>T</code>, but restrict the function signature based on <code>FnWithRequiredParam</code></p>\n\n<pre><code>function createFunction&lt;T&gt;(fn: FnWithRequiredParam&lt;T&gt;) {\n    return fn;\n}\n\nvar f = createFunction((a: number) =&gt; { console.log(a) }) // inferred as FnWithRequiredParam&lt;number&gt;\n</code></pre>\n"}], "owner": {"reputation": 22324, "user_id": 769384, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/3fa57b5dc94ebba0dd8dc93878ccd922?s=128&d=identicon&r=PG", "display_name": "ducin", "link": "https://stackoverflow.com/users/769384/ducin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4400, "favorite_count": 2, "accepted_answer_id": 54226097, "answer_count": 1, "score": 9, "last_activity_date": 1547676816, "creation_date": 1547674973, "question_id": 54225839, "link": "https://stackoverflow.com/questions/54225839/required-vs-inferred-generic-types-in-typescript", "title": "Required vs inferred generic types in TypeScript", "body": "<p>What is the difference between following generic types:</p>\n\n<pre><code>type FnWithRequiredParam&lt;T&gt; = (t: T) =&gt; void\ntype FnWithParamInferred = &lt;T&gt;(t: T) =&gt; void\n</code></pre>\n\n<p>As far as I understand, the <code>FnWithRequiredParam</code> will always fail <em>if not explicitly given</em> the generic type in any context. Passing the generic (which is enforced), e.g. <code>FnWithRequiredParam&lt;string&gt;</code> will basically turn it into <code>(t: string) =&gt; void</code> in all contexts.</p>\n\n<p>However, I can't find the meaning of the <code>FnWithParamInferred</code>. In some contexts <code>&lt;T&gt;</code> gets inferred from the place it's used (such as Array.map), but the following line throws an error:</p>\n\n<pre><code>var f: FnWithParamInferred = (a: number) =&gt; { console.log(a) }\n</code></pre>\n\n<p>saying that <code>number</code> and <code>T</code> are incompatible. In above line, what is actually <code>T</code>? It's never been declared precisely and is being compared to another type. What are the rules for determining what is the generic <code>T</code> defined in function types like <code>&lt;T&gt;(...) =&gt; ...</code>?</p>\n\n<p>Seems that, if <code>&lt;T&gt;</code> is defined as a required generic of a class/interface, e.g. an <code>Array&lt;T&gt;</code>, then methods od array can successfully infer <code>T</code>. But if it's outside of a class/interface, type inference doesn't seem to work.</p>\n"}, {"tags": ["javascript", "angular", "typescript", "webpack", "iife"], "answers": [{"comments": [{"owner": {"reputation": 2138, "user_id": 4284401, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rz99Q.jpg?s=128&g=1", "display_name": "Zac Delventhal", "link": "https://stackoverflow.com/users/4284401/zac-delventhal"}, "edited": false, "score": 1, "creation_date": 1547679908, "post_id": 54226013, "comment_id": 95279459, "body": "Thanks! I am a little reticent to modify the source file with an export statement, because I want to be able to just drop in a new version if/when it comes. The declaration might be the only way to go, but I was hoping there was something clever I could do like isolate/export the IIFE&#39;s global scope in a separate module or something."}], "tags": [], "owner": {"reputation": 5852, "user_id": 6361314, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WknC7.jpg?s=128&g=1", "display_name": "Jeffrey Westerkamp", "link": "https://stackoverflow.com/users/6361314/jeffrey-westerkamp"}, "is_accepted": false, "score": 3, "last_activity_date": 1547677895, "last_edit_date": 1547677895, "creation_date": 1547675843, "answer_id": 54226013, "question_id": 54225603, "link": "https://stackoverflow.com/questions/54225603/how-do-i-import-an-iife-based-javascript-module-into-an-angular-typescript-app/54226013#54226013", "title": "How do I import an IIFE-based JavaScript module into an Angular TypeScript app?", "body": "<p>The best way to have a proper import statement for the actual <em>value</em> of <code>ThirdPartySDK</code> is to refactor the script to a module that exports this value. The following snippet allows you to use the import statement as showed:</p>\n\n<pre><code>export const ThirdPartySDK = {\n    foo() { console.log('Doing foo'); }\n};\n</code></pre>\n\n<p>For big libraries refactoring is not always that easy, so I see 2 approaches that do not involve too much refactoring:</p>\n\n<hr>\n\n<p><strong>1. Export the <code>ThirdPartySDK</code> variable</strong></p>\n\n<p>You could simply make a module out of the IIFE file by exporting the current <code>IThirdPartySDK</code> variable (returned by the IIFE), and then import it as you showed:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>export const ThirdPartySDK = (function() {\n    var _export = {};\n\n    // Add some methods to export\n\n    return _export;\n})();\n</code></pre>\n\n<p>Note that if you want to have some useful information about the shape of <code>ThirdPartySDK</code> you would have to add a type annotation to the <code>const</code> declaration, and if <code>SomeType</code> (see below) does not yet exist you'll have to write it yourself:</p>\n\n<pre><code>export const ThirdPartySDK: SomeType = (function() {\n// ...\n</code></pre>\n\n<p>At this point Typescript will start to complain about the IIFE expression not being assignable to SomeType; the quick 'solution' to tell typescript to pretend the expression evaluates to a value of type <code>SomeType</code> using the <code>as</code> keyword:</p>\n\n<pre><code>export const ThirdPartySDK: SomeType = (function() {\n    // ...\n})() as SomeType;\n</code></pre>\n\n<p><strong>2. Keep the <code>&lt;script&gt;</code> tag and declare the variable</strong></p>\n\n<p>Another option it to keep the script tag, import nothing, and <a href=\"https://www.typescriptlang.org/docs/handbook/declaration-files/by-example.html#global-variables\" rel=\"nofollow noreferrer\"><em>declare</em> the variable</a> and its expected type in typescript:</p>\n\n<p>(But also in this case you might have to provide type definitions yourself)</p>\n\n<pre><code>interface SomeType {\n    // SDK type shape goes here...\n}\n\ndeclare const ThirdPartySDK: SomeType;\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 2138, "user_id": 4284401, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rz99Q.jpg?s=128&g=1", "display_name": "Zac Delventhal", "link": "https://stackoverflow.com/users/4284401/zac-delventhal"}, "edited": false, "score": 0, "creation_date": 1547697222, "post_id": 54228029, "comment_id": 95282986, "body": "In the browser unfortunately. I&#39;m a little surprised there is no standard solution for this considering how many IIFE modules used to be kicking around."}, {"owner": {"reputation": 823, "user_id": 1211581, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TYVpV.jpg?s=128&g=1", "display_name": "mbj", "link": "https://stackoverflow.com/users/1211581/mbj"}, "reply_to_user": {"reputation": 2138, "user_id": 4284401, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rz99Q.jpg?s=128&g=1", "display_name": "Zac Delventhal", "link": "https://stackoverflow.com/users/4284401/zac-delventhal"}, "edited": false, "score": 0, "creation_date": 1547697840, "post_id": 54228029, "comment_id": 95283087, "body": "@ZacDelventhal: Okay, so which module loader are you using? It shouldn&#39;t be too hard to adapt this approach to also work in the browser."}, {"owner": {"reputation": 2138, "user_id": 4284401, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rz99Q.jpg?s=128&g=1", "display_name": "Zac Delventhal", "link": "https://stackoverflow.com/users/4284401/zac-delventhal"}, "edited": false, "score": 0, "creation_date": 1547738781, "post_id": 54228029, "comment_id": 95302849, "body": "It&#39;s an Angular 6/TypeScript front-end using webpack."}, {"owner": {"reputation": 823, "user_id": 1211581, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TYVpV.jpg?s=128&g=1", "display_name": "mbj", "link": "https://stackoverflow.com/users/1211581/mbj"}, "reply_to_user": {"reputation": 2138, "user_id": 4284401, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rz99Q.jpg?s=128&g=1", "display_name": "Zac Delventhal", "link": "https://stackoverflow.com/users/4284401/zac-delventhal"}, "edited": false, "score": 1, "creation_date": 1547740205, "post_id": 54228029, "comment_id": 95303760, "body": "@ZacDelventhal: I haven&#39;t played around with Angular or Webpack in a long time (it was Angular 2.0 back then), but I could try experimenting a little to find out the details for how to make my approach work there, if that&#39;s what it&#39;s going to take for you to accept my answer :-) In the meantime, you might want to edit the question to include this requirement and also add the <code>webpack</code> tag."}, {"owner": {"reputation": 2138, "user_id": 4284401, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rz99Q.jpg?s=128&g=1", "display_name": "Zac Delventhal", "link": "https://stackoverflow.com/users/4284401/zac-delventhal"}, "edited": false, "score": 1, "creation_date": 1547746234, "post_id": 54228029, "comment_id": 95307051, "body": "Haha. I like your answer, but I don&#39;t think it is ideal, at least given my tool chain. I am playing around with an angular/webpack solution now, and will post it if I get it working. Took your advice and updated the tags/title/description to reflect the whole tool chain though."}], "tags": [], "owner": {"reputation": 823, "user_id": 1211581, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TYVpV.jpg?s=128&g=1", "display_name": "mbj", "link": "https://stackoverflow.com/users/1211581/mbj"}, "is_accepted": false, "score": 2, "last_activity_date": 1547690968, "creation_date": 1547690968, "answer_id": 54228029, "question_id": 54225603, "link": "https://stackoverflow.com/questions/54225603/how-do-i-import-an-iife-based-javascript-module-into-an-angular-typescript-app/54228029#54228029", "title": "How do I import an IIFE-based JavaScript module into an Angular TypeScript app?", "body": "<p>You can wrap the third-party SDK in a TypeScript module using a hack with <code>eval</code>. </p>\n\n<p>Let's say that ThirdPartySDK.js looks like this: \n</p>\n\n<pre><code>var ThirdPartySDK = (function () {\n    var exports = {\n        foo: function () { console.log(\"Hello, world!\"); }\n    };\n    return exports;\n})();\n</code></pre>\n\n<p>You would then create a ThirdPartySDK-wrapper.ts module that looks something like this: \n</p>\n\n<pre class=\"lang-ts prettyprint-override\"><code>import * as fs from 'fs';\nconst script = fs.readFileSync('../lib/ThirdPartySDK.js').toString();\n\nglobal.eval(script);\n\n//@ts-ignore\nexport default ThirdPartySDK;\n</code></pre>\n\n<p>The <code>@ts-ignore</code> directive is required to keep the TypeScript compiler from complaining about not finding a declaration for the <code>ThirdPartySDK</code> variable (it is declared in the script executed through <code>eval</code>).</p>\n\n<p>You can then import ThirdPartySDK through the wrapper module:</p>\n\n<pre class=\"lang-ts prettyprint-override\"><code>import ThirdPartySDK from './wrapper';\nThirdPartySDK.foo();  // Console output: \"Hello, world!\" \n</code></pre>\n\n<p>Note that this wrapper only works for applications running in Node.js, since it uses <code>fs.fileReadSync</code> to get the contents of the script. </p>\n\n<p>If you're going to use it in a browser, you will need some other way to retrieve the script. You could probably use frameworks such as WebPack to bundle the ThirdPartySDK script as a string value that you can <code>require</code> in the wrapper module.</p>\n"}], "owner": {"reputation": 2138, "user_id": 4284401, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rz99Q.jpg?s=128&g=1", "display_name": "Zac Delventhal", "link": "https://stackoverflow.com/users/4284401/zac-delventhal"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3222, "favorite_count": 5, "answer_count": 2, "score": 8, "last_activity_date": 1547746040, "creation_date": 1547673829, "last_edit_date": 1547746040, "question_id": 54225603, "link": "https://stackoverflow.com/questions/54225603/how-do-i-import-an-iife-based-javascript-module-into-an-angular-typescript-app", "title": "How do I import an IIFE-based JavaScript module into an Angular TypeScript app?", "body": "<p>So I have a third-party SDK written as an oldschool IIFE based module. In other words it looks something like this:</p>\n\n<pre><code>var ThirdPartySDK = (function() {\n  var export = {};\n\n  // Add some methods to export\n\n  return export;\n})();\n</code></pre>\n\n<p>You would then be expected to use it by referencing it on the global scope like this:</p>\n\n<pre><code>&lt;html&gt;\n  &lt;body&gt;\n    &lt;script src=\"lib/ThirdPartySDK.js\"&gt;\n    &lt;script&gt;\n      ThirdPartySDK.foo();\n    &lt;\\script&gt;\n  &lt;\\body&gt;\n&lt;\\html&gt;\n</code></pre>\n\n<p>I could still use it this way of course, but is that really the best practice with Angular and TypeScript? Is there some way to set things up with angular/TypeScript/webpack so that I can use a proper import statement? Something like this:</p>\n\n<pre><code>import { ThirdPartySDK } from '../lib/ThirdPartySDK.js';\nThirdPartySDK.foo();\n</code></pre>\n"}, {"tags": ["typescript"], "answers": [{"tags": [], "owner": {"reputation": 7369, "user_id": 2436655, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2f13e1ea8bbf6506462623c85acb8e32?s=128&d=identicon&r=PG&f=1", "display_name": "pzaenger", "link": "https://stackoverflow.com/users/2436655/pzaenger"}, "is_accepted": false, "score": 3, "last_activity_date": 1547672754, "creation_date": 1547672754, "answer_id": 54225375, "question_id": 54225239, "link": "https://stackoverflow.com/questions/54225239/what-the-best-way-to-check-if-path-exists-in-array/54225375#54225375", "title": "What the best way to check if path exists in array?", "body": "<p>You could use <a href=\"https://lodash.com/\" rel=\"nofollow noreferrer\">lodash</a> and its <a href=\"https://lodash.com/docs/4.17.11#get\" rel=\"nofollow noreferrer\">get</a> function (<code>npm i lodash &amp;&amp; npm i --save-dev @types/lodash</code>):</p>\n\n<pre><code>Gets the value at path of object. If the resolved value is undefined, the defaultValue is returned in its place.\n</code></pre>\n\n<p>In your case it would be something like:</p>\n\n<pre><code>import * as _ from \"lodash\"; // or import { get } from \"lodash\"\n\n// Get by path without default value\nif (!_.isUndefined(_.get(exampleObject, 'first.second')) {\n  // Not undefined\n  // ...\n}\n</code></pre>\n\n<p><strong>Edit:</strong> I have read your question again and I am not so sure anymore, that my answer might help you. Maybe you can clarify your question a bit, so that I can improve my answer.</p>\n"}], "owner": {"reputation": 161, "user_id": 10292162, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a94ec933ee4311d7502040699cc5a7ab?s=128&d=identicon&r=PG&f=1", "display_name": "Dakito", "link": "https://stackoverflow.com/users/10292162/dakito"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 130, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1547674044, "creation_date": 1547672120, "last_edit_date": 1547674044, "question_id": 54225239, "link": "https://stackoverflow.com/questions/54225239/what-the-best-way-to-check-if-path-exists-in-array", "title": "What the best way to check if path exists in array?", "body": "<p>If I had simple and unchangeable path like <code>exampleObject['first']['second']</code>, it would so easy to check it. But I have a path which is dynamic. Therefore I put the keys to an array <code>['first', 'second']</code> and then want to check, if array with that route exists.</p>\n\n<p>Do you know a method which will help me?</p>\n"}, {"tags": ["typescript"], "answers": [{"comments": [{"owner": {"reputation": 15873, "user_id": 139667, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/e083e1865879535bb75306472b4ba5d0?s=128&d=identicon&r=PG&f=1", "display_name": "Trident D&#39;Gao", "link": "https://stackoverflow.com/users/139667/trident-dgao"}, "edited": false, "score": 0, "creation_date": 1547675016, "post_id": 54225597, "comment_id": 95277569, "body": "can you explain what this does: {} extends { [P in K]: T[K] }"}, {"owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "reply_to_user": {"reputation": 15873, "user_id": 139667, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/e083e1865879535bb75306472b4ba5d0?s=128&d=identicon&r=PG&f=1", "display_name": "Trident D&#39;Gao", "link": "https://stackoverflow.com/users/139667/trident-dgao"}, "edited": false, "score": 0, "creation_date": 1547675374, "post_id": 54225597, "comment_id": 95277718, "body": "@AlekseyBykov I included a link to the original source of the types jcalz explains it  there and you should read it and upvote him, but the idea is that : <code>{}</code> extends <code>{a?: string}</code>, but <code>{}</code> does not extend <code>{a: string}</code> or even <code>{a: string | undefined}</code>"}, {"owner": {"reputation": 28847, "user_id": 43848, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/l6ogn.png?s=128&g=1", "display_name": "artem", "link": "https://stackoverflow.com/users/43848/artem"}, "edited": false, "score": 0, "creation_date": 1547675396, "post_id": 54225597, "comment_id": 95277731, "body": "In other words, <code>{} extends { [P in K]: T[K] }</code> type condition is true if empty object is compatible with a type which has its properties in <code>K</code>, meaning that all these properties are optional. And the outer mapped type <code>{[K in keyof T] ...}</code> makes <code>K</code> go over properties from <code>keyof T</code> one by one, allowing the condition to select only optional ones (or required in the inverted case)."}, {"owner": {"reputation": 15873, "user_id": 139667, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/e083e1865879535bb75306472b4ba5d0?s=128&d=identicon&r=PG&f=1", "display_name": "Trident D&#39;Gao", "link": "https://stackoverflow.com/users/139667/trident-dgao"}, "edited": false, "score": 0, "creation_date": 1547675729, "post_id": 54225597, "comment_id": 95277869, "body": "you gave me an idea, here is my solution:  <code>type EachNonOptional&lt;T&gt; = { [K in keyof T]-?: T[K]; }</code>  <code>type EachUndefinedOrNever&lt;T&gt; = { [K in keyof T]: undefined extends T[K] ? undefined : never };</code>  <code>type EachOptionalAsUndefined&lt;T&gt; = { [K in keyof T]: EachNonOptional&lt;T&gt;[K] | EachUndefinedOrNever&lt;T&gt;[K] };</code>"}, {"owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "reply_to_user": {"reputation": 15873, "user_id": 139667, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/e083e1865879535bb75306472b4ba5d0?s=128&d=identicon&r=PG&f=1", "display_name": "Trident D&#39;Gao", "link": "https://stackoverflow.com/users/139667/trident-dgao"}, "edited": false, "score": 0, "creation_date": 1547676747, "post_id": 54225597, "comment_id": 95278296, "body": "@AlekseyBykov not exactly the same. In your question the optionality is removed from the resulting type. The property can be <code>undefined</code> but it has to be present. The version in the comment keeps the property as optional."}, {"owner": {"reputation": 15873, "user_id": 139667, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/e083e1865879535bb75306472b4ba5d0?s=128&d=identicon&r=PG&f=1", "display_name": "Trident D&#39;Gao", "link": "https://stackoverflow.com/users/139667/trident-dgao"}, "edited": false, "score": 1, "creation_date": 1547676865, "post_id": 54225597, "comment_id": 95278343, "body": "here i fixed it:  <code>type EachNonOptional&lt;T&gt; = { [K in keyof T]-?: T[K]; } type EachUndefinedOrNever&lt;T&gt; = { [K in keyof T]: undefined extends T[K] ? undefined : never }; type EachOptionalAsUndefined&lt;T&gt; = { [K in keyof EachNonOptional&lt;T&gt;]: EachNonOptional&lt;T&gt;[K] | EachUndefinedOrNever&lt;T&gt;[K] };</code>"}, {"owner": {"reputation": 15873, "user_id": 139667, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/e083e1865879535bb75306472b4ba5d0?s=128&d=identicon&r=PG&f=1", "display_name": "Trident D&#39;Gao", "link": "https://stackoverflow.com/users/139667/trident-dgao"}, "edited": false, "score": 0, "creation_date": 1547677521, "post_id": 54225597, "comment_id": 95278632, "body": "jeez, it&#39;s even simplier than that: <code>type EachNonOptional&lt;T&gt; = { [K in keyof T]-?: T[K]; } type EachOptionalAsUndefined&lt;T&gt; = { [K in keyof EachNonOptional&lt;T&gt;]:T[K] }; </code>"}], "tags": [], "owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "is_accepted": false, "score": 3, "last_activity_date": 1547673815, "creation_date": 1547673815, "answer_id": 54225597, "question_id": 54225232, "link": "https://stackoverflow.com/questions/54225232/is-there-a-way-to-turn-an-optional-property-like-x-number-to-required-und/54225597#54225597", "title": "is there a way to turn an optional property like { x?: number } to required (undefinable) `{ x: undefined | number }` via map types in typescript?", "body": "<p>You can get the type you want using mapped types. You can get the optional and required keys from a type as described <a href=\"https://stackoverflow.com/questions/49579094/typescript-conditional-types-filter-out-readonly-properties-pick-only-requir/49579497#49579497\">here</a></p>\n\n<pre><code>type OptionalKeys&lt;T&gt; = { [K in keyof T]-?:\n  ({} extends { [P in K]: T[K] } ? K : never)\n}[keyof T]\n\ntype RequiredKeys&lt;T&gt; = { [K in keyof T]-?:\n  ({} extends { [P in K]: T[K] } ? never : K)\n}[keyof T]\n\ntype Id&lt;T&gt; = { [P in keyof T]: T[P]}\ntype OptionalToUndefined&lt;T&gt; = Id&lt;{\n  [K in OptionalKeys&lt;T&gt;]-?: T[K] | undefined  \n} &amp; { \n  [K in RequiredKeys&lt;T&gt;]-?: T[K] \n}&gt;\n//  { y: number | undefined; x: boolean; }\ntype Foo = OptionalToUndefined&lt;{ x: boolean; y?: number }&gt; \n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 15873, "user_id": 139667, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/e083e1865879535bb75306472b4ba5d0?s=128&d=identicon&r=PG&f=1", "display_name": "Trident D&#39;Gao", "link": "https://stackoverflow.com/users/139667/trident-dgao"}, "is_accepted": false, "score": 1, "last_activity_date": 1547677563, "last_edit_date": 1547677563, "creation_date": 1547676027, "answer_id": 54226052, "question_id": 54225232, "link": "https://stackoverflow.com/questions/54225232/is-there-a-way-to-turn-an-optional-property-like-x-number-to-required-und/54226052#54226052", "title": "is there a way to turn an optional property like { x?: number } to required (undefinable) `{ x: undefined | number }` via map types in typescript?", "body": "<p><strike>I ended up using this:</p>\n\n<pre><code>type EachNonOptional&lt;T&gt; = { [K in keyof T]-?: T[K]; }\ntype EachUndefinedOrNever&lt;T&gt; = { [K in keyof T]: undefined extends T[K] ? undefined : never };\ntype EachOptionalAsUndefined&lt;T&gt; = { [K in keyof EachNonOptional&lt;T&gt;]: EachNonOptional&lt;T&gt;[K] | EachUndefinedOrNever&lt;T&gt;[K] };\ndeclare const x: EachOptionalAsUndefined&lt;{ x?: number; y: string}&gt;; // {x : number | undefined; x: string; }\n</code></pre>\n\n<p></strike>\nor EVEN SIMPLIER:</p>\n\n<pre><code>type EachNonOptional&lt;T&gt; = { [K in keyof T]-?: T[K]; }\ntype EachOptionalAsUndefined&lt;T&gt; = { [K in keyof EachNonOptional&lt;T&gt;]: T[K] };\n</code></pre>\n"}], "owner": {"reputation": 15873, "user_id": 139667, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/e083e1865879535bb75306472b4ba5d0?s=128&d=identicon&r=PG&f=1", "display_name": "Trident D&#39;Gao", "link": "https://stackoverflow.com/users/139667/trident-dgao"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 153, "favorite_count": 0, "answer_count": 2, "score": 2, "last_activity_date": 1547677758, "creation_date": 1547672101, "last_edit_date": 1547677758, "question_id": 54225232, "link": "https://stackoverflow.com/questions/54225232/is-there-a-way-to-turn-an-optional-property-like-x-number-to-required-und", "title": "is there a way to turn an optional property like { x?: number } to required (undefinable) `{ x: undefined | number }` via map types in typescript?", "body": "<p>I have something like <code>{ y: string; x?: number }</code>, i need to get <code>{ y: string; x: undefined | number }</code>. Is there a way to turn the first one into the second one via map types in typescript?</p>\n"}, {"tags": ["typescript", "visual-studio-code"], "answers": [{"comments": [{"owner": {"reputation": 5905, "user_id": 451492, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/fdf65c922a011afa1e050031a8895c85?s=128&d=identicon&r=PG", "display_name": "doberkofler", "link": "https://stackoverflow.com/users/451492/doberkofler"}, "edited": false, "score": 0, "creation_date": 1547704941, "post_id": 54227108, "comment_id": 95284789, "body": "Sure, I use that all the time but without running <code>tsc</code> as task it only shows me the problems in the currently open source file."}, {"owner": {"reputation": 8361, "user_id": 439026, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/eb050c54b891309ffdd14a0e1fdd5e66?s=128&d=identicon&r=PG", "display_name": "zeh", "link": "https://stackoverflow.com/users/439026/zeh"}, "reply_to_user": {"reputation": 5905, "user_id": 451492, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/fdf65c922a011afa1e050031a8895c85?s=128&d=identicon&r=PG", "display_name": "doberkofler", "link": "https://stackoverflow.com/users/451492/doberkofler"}, "edited": false, "score": 0, "creation_date": 1547742427, "post_id": 54227108, "comment_id": 95305017, "body": "It shouldn&#39;t. The above is without running tsc as a client task. Did you open your project folder? Do you have a tsconfig.json there?"}, {"owner": {"reputation": 5905, "user_id": 451492, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/fdf65c922a011afa1e050031a8895c85?s=128&d=identicon&r=PG", "display_name": "doberkofler", "link": "https://stackoverflow.com/users/451492/doberkofler"}, "edited": false, "score": 0, "creation_date": 1547745625, "post_id": 54227108, "comment_id": 95306727, "body": "Strange. It sees as if VSC would do exactly what I expected but I does not work for me. I always open the project folder as my root and it contains the tsconfig.json file that i also use when executing my tasks. I sometimes see the JS/TS Language services starting in the status bar of VSC when opening a file but then all other messages disappear and I only see the ones for the specific open file. Only when running tsc again I see all messages."}, {"owner": {"reputation": 5905, "user_id": 451492, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/fdf65c922a011afa1e050031a8895c85?s=128&d=identicon&r=PG", "display_name": "doberkofler", "link": "https://stackoverflow.com/users/451492/doberkofler"}, "edited": false, "score": 0, "creation_date": 1547805644, "post_id": 54227108, "comment_id": 95327163, "body": "I just found an SR (<a href=\"https://github.com/Microsoft/vscode/issues/13953\" rel=\"nofollow noreferrer\">github.com/Microsoft/vscode/issues/13953</a>) that suggests that it is currently not possible. I\u2019m really interested on how your solution works!"}], "tags": [], "owner": {"reputation": 8361, "user_id": 439026, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/eb050c54b891309ffdd14a0e1fdd5e66?s=128&d=identicon&r=PG", "display_name": "zeh", "link": "https://stackoverflow.com/users/439026/zeh"}, "is_accepted": false, "score": 1, "last_activity_date": 1547682681, "creation_date": 1547682681, "answer_id": 54227108, "question_id": 54224824, "link": "https://stackoverflow.com/questions/54224824/is-it-possible-to-use-tsserver-instead-of-tsc-to-validate-all-source-files-in-vi/54227108#54227108", "title": "Is it possible to use TSServer instead of tsc to validate all source files in Visual Studio Code", "body": "<p>Have you tried doing \"View\" > \"Problems\"? It should list <em>all</em> issues in your current project.</p>\n\n<p><a href=\"https://i.stack.imgur.com/ZmJ2P.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ZmJ2P.png\" alt=\"enter image description here\"></a></p>\n\n<p>The downside, depending on your preferences, is that it'll also show errors from other tools - eslint, tslint, type-coverage, etc.</p>\n"}], "owner": {"reputation": 5905, "user_id": 451492, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/fdf65c922a011afa1e050031a8895c85?s=128&d=identicon&r=PG", "display_name": "doberkofler", "link": "https://stackoverflow.com/users/451492/doberkofler"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 397, "favorite_count": 1, "answer_count": 1, "score": 1, "last_activity_date": 1547682681, "creation_date": 1547670275, "question_id": 54224824, "link": "https://stackoverflow.com/questions/54224824/is-it-possible-to-use-tsserver-instead-of-tsc-to-validate-all-source-files-in-vi", "title": "Is it possible to use TSServer instead of tsc to validate all source files in Visual Studio Code", "body": "<p>I'm using Visual Studio Code to manage my TypeScript projects. I use the following workflow:</p>\n\n<p>1) I (only) transpile the projects using the <code>ts-loader</code> plugin in <code>webpack</code>:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>use: [{\n    loader: 'ts-loader',\n    options: {\n        transpileOnly: true\n    }\n}\n</code></pre>\n\n<p>2) I validate my sources using <code>tsc</code> and the <code>noEmit</code> option in <code>tsconfig.json</code>:</p>\n\n<pre><code>{\n  \"compilerOptions\": {\n    \"moduleResolution\": \"node\",\n    \"baseUrl\": \"./\",\n    \"target\": \"es5\",\n    \"module\": \"es6\",\n    \"lib\": [\n      \"es2015\",\n      \"es2016\",\n      \"es2017\",\n      \"dom\",\n      \"scripthost\"\n    ],\n    \"jsx\": \"react\",\n    \"allowJs\": true,\n    \"checkJs\": false,\n    \"sourceMap\": true,\n    \"noEmit\": true,\n    \"esModuleInterop\": true\n  },\n}\n</code></pre>\n\n<p>3) I run the <code>npm</code> script from Visual Studio Code  as tasks and this works as expected.</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>{\n    \"tasks\": [\n        {\n            \"type\": \"npm\",\n            \"script\": \"type-check\",\n            \"problemMatcher\": [\n                \"$tsc\"\n            ]\n        }\n    ]\n}\n</code></pre>\n\n<p>While editing in Visual Studio Code I receive immediate visual feedback from the <code>TSServer</code> that runs in the background but only shows me the problems in one specific file.</p>\n\n<p>Is it possible to use <code>TSServer</code> to validate all files in a project instead of manually running the <code>tsc</code> cli?</p>\n"}, {"tags": ["typescript", "type-conversion"], "comments": [{"owner": {"reputation": 2401, "user_id": 4834335, "user_type": "registered", "accept_rate": 47, "profile_image": "https://www.gravatar.com/avatar/86791ed05ec4ca83739830e8a15dd68d?s=128&d=identicon&r=PG&f=1", "display_name": "Sebastian Bergl&#246;nn", "link": "https://stackoverflow.com/users/4834335/sebastian-bergl%c3%b6nn"}, "edited": false, "score": 0, "creation_date": 1547670203, "post_id": 54224738, "comment_id": 95275413, "body": "You need to cast it, as it is called. Scroll down to <code>type assertions</code> on this site, to get some info <a href=\"https://www.typescriptlang.org/docs/handbook/basic-types.html\" rel=\"nofollow noreferrer\">typescriptlang.org/docs/handbook/basic-types.html</a>"}, {"owner": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "edited": false, "score": 0, "creation_date": 1547670231, "post_id": 54224738, "comment_id": 95275425, "body": "What, specifically, are you trying to do?  There is not enough information here for a meaningful answer."}, {"owner": {"reputation": 2150, "user_id": 3697695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/5f49197df1d151d4c42bdfc05177cb4d?s=128&d=identicon&r=PG", "display_name": "Joel", "link": "https://stackoverflow.com/users/3697695/joel"}, "edited": false, "score": 0, "creation_date": 1547670501, "post_id": 54224738, "comment_id": 95275559, "body": "You could eventually have an union type <code>number|string</code>, but to be honest, it&#39;s probably much cleaner to declare an entirely new type. In any case you have to run the conversion manually."}, {"owner": {"reputation": 3782, "user_id": 972828, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/8OSD1.jpg?s=128&g=1", "display_name": "netdjw", "link": "https://stackoverflow.com/users/972828/netdjw"}, "reply_to_user": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "edited": false, "score": 0, "creation_date": 1547670677, "post_id": 54224738, "comment_id": 95275645, "body": "@jcalz : the <code>parnet_id</code> is created originally as a number, but the backend accept only higher than zero integer or empty string. <code>0</code> isn&#39;t acceptable value."}], "answers": [{"tags": [], "owner": {"reputation": 36, "user_id": 8178488, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2750a6b9660063dc4e73ea0befccf113?s=128&d=identicon&r=PG&f=1", "display_name": "pedmer", "link": "https://stackoverflow.com/users/8178488/pedmer"}, "is_accepted": true, "score": 2, "last_activity_date": 1547670277, "creation_date": 1547670277, "answer_id": 54224825, "question_id": 54224738, "link": "https://stackoverflow.com/questions/54224738/how-to-convert-a-number-type-value-to-empty-string/54224825#54224825", "title": "How to convert a number type value to empty string?", "body": "<p>You could define an interface like:</p>\n\n<pre><code>interface DataInterface {\n  parent_id: number | string;\n  name: string;\n}\n</code></pre>\n\n<p>Then you can define the object:</p>\n\n<pre><code>const data: DataInterface = {\n  parent_id: 0,\n  name: 'foo'\n};\n</code></pre>\n\n<p>and this would be allowed too:</p>\n\n<pre><code>data.parent_id = '';\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 21, "user_id": 10924457, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-Sw2Bw-TPYRk/AAAAAAAAAAI/AAAAAAAAATY/rp-VRCi7RtM/photo.jpg?sz=128", "display_name": "Jordan Gray", "link": "https://stackoverflow.com/users/10924457/jordan-gray"}, "is_accepted": false, "score": 0, "last_activity_date": 1547670502, "creation_date": 1547670502, "answer_id": 54224878, "question_id": 54224738, "link": "https://stackoverflow.com/questions/54224738/how-to-convert-a-number-type-value-to-empty-string/54224878#54224878", "title": "How to convert a number type value to empty string?", "body": "<p>I think the best thing to do would to simply define their ID as a string prior to inputting it in your data class, i.e.</p>\n\n<pre><code> id = '0';\n private data = {\n     parent_id: id,\n     name: ''\n };\n</code></pre>\n\n<p>This way throughout, if you have any other IDs as strings, you can make them a variable and use the <code>.toString()</code> function which will automatically convert the number to a string and then you could copy what I did above.</p>\n"}, {"comments": [{"owner": {"reputation": 3782, "user_id": 972828, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/8OSD1.jpg?s=128&g=1", "display_name": "netdjw", "link": "https://stackoverflow.com/users/972828/netdjw"}, "edited": false, "score": 0, "creation_date": 1547713559, "post_id": 54227033, "comment_id": 95288266, "body": "nice solution, but I need to accept <code>0</code> and <code>&#39;&#39;</code> too. This is the point of the question. I need to accept these values: <code>&#39;&#39;</code>, <code>0</code>, <code>1</code>, and other integers higher than <code>0</code>. But only empty string."}], "tags": [], "owner": {"reputation": 31, "user_id": 4848902, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8fINB.jpg?s=128&g=1", "display_name": "Rob H", "link": "https://stackoverflow.com/users/4848902/rob-h"}, "is_accepted": false, "score": 1, "last_activity_date": 1547682028, "creation_date": 1547682028, "answer_id": 54227033, "question_id": 54224738, "link": "https://stackoverflow.com/questions/54224738/how-to-convert-a-number-type-value-to-empty-string/54227033#54227033", "title": "How to convert a number type value to empty string?", "body": "<p>We can actually tell the compiler to make this distinction for us with a conditional type and the <code>typeof</code> keyword. See below:</p>\n\n<pre><code>type isZero&lt;N&gt; = N extends (0 | '') ? '' : number;\ntype ParentIdType = isZero&lt;typeof instance.id&gt;;\n\ninterface Data {\n    parent_id: ParentIdType;\n    name: string;\n}\n\nclass SomeClassWithData {\n    readonly id = &lt;your value&gt;;\n\n    private data: Data = {\n        parent_id: this.id,\n        name: 'foo',\n    }\n}\n\nconst instance = new SomeClassWithData();\n</code></pre>\n\n<hr>\n\n<h2>How It Works</h2>\n\n<p>This works because the compiler infers constants and readonly class properties as their literal types. Here's an example of how it works when <code>instance.id = 0;</code>:</p>\n\n<pre><code>type isZero&lt;N&gt; = N extends (0 | '') ? '' : number; // '' because 0 extends 0\ntype ParentIdType = isZero&lt;typeof instance.id&gt;;  // isZero&lt;0&gt;\n\ninterface Data {\n    parent_id: ParentIdType;  // ParentIdType --&gt; isZero&lt;0&gt; --&gt; ''\n    name: string;\n}\n\nclass SomeClassWithData {\n    readonly id = 0; // inferred as type 0 instead of number because it's a readonly property\n\n    private data: Data = {\n        parent_id: this.id,  // Error: Type 'number' is not assignable to type '\"\"'.\n        name: 'foo',\n    }\n}\n\nconst instance = new SomeClassWithData();\n</code></pre>\n\n<p>This solution is nice because</p>\n\n<p><code>instance.id = 1;</code></p>\n\n<p>and</p>\n\n<p><code>instance.id = '';</code></p>\n\n<p>are allowed but</p>\n\n<p><code>instance.id = 0;</code></p>\n\n<p>and</p>\n\n<p><code>instance.id = 'foo';</code></p>\n\n<p>will throw an error.</p>\n"}], "owner": {"reputation": 3782, "user_id": 972828, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/8OSD1.jpg?s=128&g=1", "display_name": "netdjw", "link": "https://stackoverflow.com/users/972828/netdjw"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 365, "favorite_count": 0, "accepted_answer_id": 54224825, "answer_count": 3, "score": 0, "last_activity_date": 1547682028, "creation_date": 1547669957, "question_id": 54224738, "link": "https://stackoverflow.com/questions/54224738/how-to-convert-a-number-type-value-to-empty-string", "title": "How to convert a number type value to empty string?", "body": "<p>I'm using this <code>TypeScript</code> data structure (TypeScript is important because of types):</p>\n\n<pre><code>  private data = {\n    parent_id: 0,\n    name: ''\n  };\n</code></pre>\n\n<p>I want to get this:</p>\n\n<pre><code>  private data = {\n    parent_id: '',\n    name: ''\n  };\n</code></pre>\n\n<p>How can I convert the <code>parent_id:number</code> field to <code>parent_id:string</code>?</p>\n"}, {"tags": ["reactjs", "typescript", "mapping"], "answers": [{"comments": [{"owner": {"reputation": 125, "user_id": 10699991, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/74dc290fafb1127cbe28377766760d60?s=128&d=identicon&r=PG&f=1", "display_name": "C.Programming", "link": "https://stackoverflow.com/users/10699991/c-programming"}, "edited": false, "score": 0, "creation_date": 1547670034, "post_id": 54224668, "comment_id": 95275341, "body": "Wow, I&#39;m dumb. Thank you!"}], "tags": [], "owner": {"reputation": 1656, "user_id": 800093, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/STqXw.jpg?s=128&g=1", "display_name": "Chase", "link": "https://stackoverflow.com/users/800093/chase"}, "is_accepted": true, "score": 0, "last_activity_date": 1547669673, "creation_date": 1547669673, "answer_id": 54224668, "question_id": 54224640, "link": "https://stackoverflow.com/questions/54224640/mapping-array-to-interface-object/54224668#54224668", "title": "Mapping Array to Interface Object", "body": "<p>You're not returning or breaking after your initial case so your default case is always running. </p>\n\n<p>Add a <code>break;</code> statement at the end of the first case.</p>\n"}], "owner": {"reputation": 125, "user_id": 10699991, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/74dc290fafb1127cbe28377766760d60?s=128&d=identicon&r=PG&f=1", "display_name": "C.Programming", "link": "https://stackoverflow.com/users/10699991/c-programming"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 150, "favorite_count": 0, "accepted_answer_id": 54224668, "answer_count": 1, "score": 1, "last_activity_date": 1547669673, "creation_date": 1547669561, "question_id": 54224640, "link": "https://stackoverflow.com/questions/54224640/mapping-array-to-interface-object", "title": "Mapping Array to Interface Object", "body": "<p>I am working with typescript in React. I have an array of Tag objects each with a name and id property. I am trying to map these tags to a new Select Item interface which has properties name and value. </p>\n\n<p>My code:</p>\n\n<pre><code>let items: ISelectItem[];\n        switch (this.state.selectedType) {\n            case \"Tag\":{\n               items = tags.map(tag =&gt; {\n                   return {\n                    name: tag.name, \n                    value: tag.id\n                   }\n                });\n            }\n            default: {\n                items = [];\n            }\n        } \n</code></pre>\n\n<p>I am console.logging the items array and upon debugging it seems that I am hitting the correct switch case, however at the end my new items array is empty. What am I doing wrong with my mapping?</p>\n"}, {"tags": ["typescript", "webpack", "node-gyp", "typeorm"], "answers": [{"comments": [{"owner": {"reputation": 231, "user_id": 5735967, "user_type": "registered", "profile_image": "https://graph.facebook.com/855224311241649/picture?type=large", "display_name": "Thiago Zanivan Felisberto", "link": "https://stackoverflow.com/users/5735967/thiago-zanivan-felisberto"}, "edited": false, "score": 0, "creation_date": 1576685826, "post_id": 57538622, "comment_id": 104981403, "body": "I know it is not a good solution, but this should be the accepted since it is recommended in the <a href=\"https://github.com/typeorm/typeorm/blob/master/docs/faq.md#how-to-use-webpack-for-the-backend\" rel=\"nofollow noreferrer\">official docs</a>. Ideally, the drivers should be separate modules and this feature is already in the <a href=\"https://github.com/typeorm/typeorm/issues/3267#issuecomment-518430129\" rel=\"nofollow noreferrer\">roadmap</a>"}], "tags": [], "owner": {"reputation": 1754, "user_id": 8795673, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-tpjjFhuX6xI/AAAAAAAAAAI/AAAAAAAAABc/CzfHO0UcdGo/photo.jpg?sz=128", "display_name": "Adrien De Peretti", "link": "https://stackoverflow.com/users/8795673/adrien-de-peretti"}, "is_accepted": false, "score": 1, "last_activity_date": 1566064056, "creation_date": 1566064056, "answer_id": 57538622, "question_id": 54224535, "link": "https://stackoverflow.com/questions/54224535/typeorm-module-not-found-when-building-webpack/57538622#57538622", "title": "TypeORM &#39;Module not found&#39; when building (webpack)", "body": "<p>i've got the same issue while i was setting up my project.</p>\n\n<p>To resolve that you can add the following plugin into your webpack config in order to remove the warning for the plugin that you don't want to use</p>\n\n<pre><code>new FilterWarningsPlugin({\n    exclude: [/mongodb/, /mssql/, /mysql/, /mysql2/, /oracledb/, /redis/, /sqlite3/, /sql.js/, /react-native-sqlite-storage/]\n})\n</code></pre>\n\n<p>Hope that will help you :)</p>\n"}], "owner": {"reputation": 569, "user_id": 3602302, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/ac65f92798b5a138b506a03ce1bda3d3?s=128&d=identicon&r=PG&f=1", "display_name": "Shin", "link": "https://stackoverflow.com/users/3602302/shin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1465, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1566064056, "creation_date": 1547669046, "question_id": 54224535, "link": "https://stackoverflow.com/questions/54224535/typeorm-module-not-found-when-building-webpack", "title": "TypeORM &#39;Module not found&#39; when building (webpack)", "body": "<p>I googled the issue for a while and found several posts on the <code>typeorm</code> github, but they were all closed without a solution provided. It seem to be a <code>webpack</code> issue, but I don't understand what the issue is exactly. The example compiles well for me.</p>\n\n<p>It happens as soon as I call <code>createConnection</code>, which is imported from <code>typeorm</code>. The error I get is the following. I have cut off most of the \"Can't resolve  in ...\" but you get the idea.</p>\n\n<pre><code>WARNING in ./node_modules/typeorm/platform/PlatformTools.js\nModule not found: Error: Can't resolve 'redis' in '/my/project/node_modules/typeorm/platform'\n@ ./node_modules/typeorm/platform/PlatformTools.js\n@ ./node_modules/typeorm/index.js\n@ ./src/main.ts\n\nWARNING in ./node_modules/typeorm/platform/PlatformTools.js\nModule not found: Error: Can't resolve 'sql.js' in '/my/project/node_modules/typeorm/platform'\n@ ./node_modules/typeorm/platform/PlatformTools.js\n@ ./node_modules/typeorm/index.js\n@ ./src/main.ts\n\nWARNING in ./node_modules/node-pre-gyp/lib/util/nw-pre-gyp/index.html 1:0\nModule parse failed: Unexpected token (1:0)\nYou may need an appropriate loader to handle this file type.\n&gt; &lt;!doctype html&gt;\n| &lt;html&gt;\n| &lt;head&gt;\n@ ./node_modules/node-pre-gyp/lib sync ^\\.\\/.*$ ./util/nw-pre-gyp/index.html\n@ ./node_modules/node-pre-gyp/lib/node-pre-gyp.js\n@ ./node_modules/sqlite3/lib/sqlite3.js\n@ ./node_modules/typeorm/platform/PlatformTools.js\n@ ./node_modules/typeorm/index.js\n@ ./src/main.ts\n\nWARNING in ./node_modules/node-gyp/lib/Find-VS2017.cs 7:6\nModule parse failed: Unexpected token (7:6)\nYou may need an appropriate loader to handle this file type.\n| // Usage:\n| // powershell -ExecutionPolicy Unrestricted -Version \"2.0\" -Command \"&amp;{Add-Type -Path Find-VS2017.cs; [VisualStudioConfiguration.Main]::Query()}\"\n&gt; using System;\n| using System.Text;\n| using System.Runtime.InteropServices;\n@ ./node_modules/node-gyp/lib sync ^\\.\\/.*$ ./Find-VS2017.cs\n@ ./node_modules/node-gyp/lib/node-gyp.js\n@ ./node_modules/node-pre-gyp/lib/util/compile.js\n@ ./node_modules/node-pre-gyp/lib sync ^\\.\\/.*$\n@ ./node_modules/node-pre-gyp/lib/node-pre-gyp.js\n@ ./node_modules/sqlite3/lib/sqlite3.js\n@ ./node_modules/typeorm/platform/PlatformTools.js\n@ ./node_modules/typeorm/index.js\n@ ./src/main.ts\n\nERROR in ./node_modules/node-pre-gyp/lib/unpublish.js\nModule not found: Error: Can't resolve 'aws-sdk' in '/my/project/node_modules/node-pre-gyp/lib'\n@ ./node_modules/node-pre-gyp/lib/unpublish.js 16:14-32\n@ ./node_modules/node-pre-gyp/lib sync ^\\.\\/.*$\n@ ./node_modules/node-pre-gyp/lib/node-pre-gyp.js\n@ ./node_modules/sqlite3/lib/sqlite3.js\n@ ./node_modules/typeorm/platform/PlatformTools.js\n@ ./node_modules/typeorm/index.js\n@ ./src/main.ts\n\nERROR in ./node_modules/node-pre-gyp/lib/info.js\nModule not found: Error: Can't resolve 'aws-sdk' in '/my/project/node_modules/node-pre-gyp/lib'\n@ ./node_modules/node-pre-gyp/lib/info.js 14:14-32\n@ ./node_modules/node-pre-gyp/lib sync ^\\.\\/.*$\n@ ./node_modules/node-pre-gyp/lib/node-pre-gyp.js\n@ ./node_modules/sqlite3/lib/sqlite3.js\n@ ./node_modules/typeorm/platform/PlatformTools.js\n@ ./node_modules/typeorm/index.js\n@ ./src/main.ts\n\nERROR in ./node_modules/node-pre-gyp/lib/publish.js\nModule not found: Error: Can't resolve 'aws-sdk' in '/my/project/node_modules/node-pre-gyp/lib'\n@ ./node_modules/node-pre-gyp/lib/publish.js 18:14-32\n@ ./node_modules/node-pre-gyp/lib sync ^\\.\\/.*$\n@ ./node_modules/node-pre-gyp/lib/node-pre-gyp.js\n@ ./node_modules/sqlite3/lib/sqlite3.js\n@ ./node_modules/typeorm/platform/PlatformTools.js\n@ ./node_modules/typeorm/index.js\n@ ./src/main.ts\n</code></pre>\n\n<p>My <code>package.json</code> (I removed some dependencies to shorten it a bit)</p>\n\n<pre><code>{\n  \"name\": \"something-with-electron\",\n  \"version\": \"1.0.0\",\n  \"description\": \"\",\n  \"main\": \"index.js\",\n  \"scripts\": {\n    \"prestart\": \"npm run build\",\n    \"start\": \"npm run build &amp;&amp; electron ./dist/main.js\",\n    \"build\": \"webpack --config ./webpack.config.js\",\n    \"postinstall\": \"install-app-deps\"\n  },\n  \"keywords\": [],\n  \"author\": \"\",\n  \"license\": \"ISC\",\n  \"dependencies\": {},\n  \"devDependencies\": {\n    \"@babel/cli\": \"^7.2.0\",\n    \"@babel/core\": \"^7.2.0\",\n    \"@babel/plugin-proposal-class-properties\": \"^7.2.1\",\n    \"@babel/preset-env\": \"^7.2.0\",\n    \"@babel/preset-react\": \"^7.0.0\",\n    \"@babel/preset-typescript\": \"^7.1.0\",\n    \"@blueprintjs/core\": \"^3.10.0\",\n    \"@types/lodash\": \"^4.14.119\",\n    \"@types/mime-types\": \"^2.1.0\",\n    \"@types/node\": \"^10.12.12\",\n    \"@types/react\": \"^16.7.13\",\n    \"@types/react-dom\": \"^16.0.11\",\n    \"@types/react-redux\": \"^6.0.11\",\n    \"@types/electron-devtools-installer\": \"^2.2.0\",\n    \"babel-loader\": \"^8.0.4\",\n    \"css-loader\": \"^2.0.0\",\n    \"electron\": \"^3.0.10\",\n    \"electron-builder\": \"^20.38.5\",\n    \"electron-devtools-installer\": \"^2.2.4\",\n    \"html-webpack-plugin\": \"^3.2.0\",\n    \"node-sass\": \"^4.11.0\",\n    \"react\": \"^16.6.3\",\n    \"react-dom\": \"^16.6.3\",\n    \"redux\": \"^4.0.1\",\n    \"sass-loader\": \"^7.1.0\",\n    \"sqlite3\": \"^4.0.6\",\n    \"standard\": \"^12.0.1\",\n    \"standard-loader\": \"^6.0.1\",\n    \"style-loader\": \"^0.23.1\",\n    \"ts-loader\": \"^5.3.1\",\n    \"tslint\": \"^5.11.0\",\n    \"tslint-config-standard\": \"^8.0.1\",\n    \"tslint-loader\": \"^3.5.4\",\n    \"tslint-webpack-plugin\": \"^1.3.0\",\n    \"typeorm\": \"^0.2.11\",\n    \"typescript\": \"^3.2.2\",\n    \"webpack\": \"^4.27.1\",\n    \"webpack-cli\": \"^3.1.2\"\n  }\n}\n</code></pre>\n\n<p>And my <code>webpack.config.js</code>:</p>\n\n<pre><code>const path = require('path')\nconst HTMLWebpackPlugin = require('html-webpack-plugin');\n\nconst commonConfig = {\n  output: {\n    path: path.resolve(__dirname, 'dist'),\n    filename: '[name].js'\n  },\n  mode: 'development',\n  module: {\n    rules: [\n      {\n        test: /\\.ts$/,\n        enforce: 'pre',\n        loader: 'babel-loader'\n      },\n      {\n        test: /\\.tsx?$/,\n        loader: 'babel-loader'\n      },\n      {\n        test: /\\.js$/,\n        enforce: 'pre',\n        loader: 'standard-loader'\n      },\n      {\n        test: /\\.scss$/,\n        use: [\n          {\n            loader: 'style-loader'\n          },\n          {\n            loader: 'css-loader'\n          },\n          {\n            loader: 'sass-loader'\n          }\n        ]\n      }\n    ]\n  },\n  node: {\n    __dirname: false,\n    __filename: false\n  },\n  resolve: {\n    extensions: ['.js', '.ts', '.tsx', '.jsx', '.json']\n  }\n}\n\nmodule.exports = [\n  Object.assign(\n    {\n      target: 'electron-main',\n      entry: { main: './src/main.ts' }\n    },\n    commonConfig),\n\n  Object.assign(\n    {\n      target: 'electron-renderer',\n      entry: { gui: './src/gui.tsx' },\n      plugins: [new HTMLWebpackPlugin({\n        title: 'something',\n        template: './src/index.html'\n      })]\n    },\n    commonConfig)\n]\n</code></pre>\n\n<p>Any help is appreciated!</p>\n"}, {"tags": ["javascript", "typescript", "functional-programming", "generator"], "comments": [{"owner": {"reputation": 1340, "user_id": 9898651, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/633ab16a76904ee3826867715fd6d5cd?s=128&d=identicon&r=PG&f=1", "display_name": "Adam H", "link": "https://stackoverflow.com/users/9898651/adam-h"}, "edited": false, "score": 0, "creation_date": 1547668973, "post_id": 54224476, "comment_id": 95274840, "body": "Please post a <a href=\"https://stackoverflow.com/help/mcve\">MCVE</a>"}, {"owner": {"reputation": 253913, "user_id": 9515207, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/34932d3e923ffad9a4a1423e30b1d9fc?s=128&d=identicon&r=PG&f=1", "display_name": "CertainPerformance", "link": "https://stackoverflow.com/users/9515207/certainperformance"}, "edited": false, "score": 1, "creation_date": 1547669013, "post_id": 54224476, "comment_id": 95274856, "body": "Can you elaborate, show some example code and the desired output? See <a href=\"http://2ality.com/2016/10/asynchronous-iteration.html\" rel=\"nofollow noreferrer\">here</a>, <code>asyncIterator.next()</code> seems to be fine"}, {"owner": {"reputation": 489, "user_id": 1013096, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/e91a2acad48fc3cf783de1f641610622?s=128&d=identicon&r=PG&f=1", "display_name": "lsankar4033", "link": "https://stackoverflow.com/users/1013096/lsankar4033"}, "edited": false, "score": 0, "creation_date": 1547670863, "post_id": 54224476, "comment_id": 95275721, "body": "sorry about that, updated!"}, {"owner": {"reputation": 507143, "user_id": 1048572, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/7f2c4de95e8f4f8f5a71c3aaf0ed312a?s=128&d=identicon&r=PG", "display_name": "Bergi", "link": "https://stackoverflow.com/users/1048572/bergi"}, "edited": false, "score": 1, "creation_date": 1547673667, "post_id": 54224476, "comment_id": 95276973, "body": "I&#39;m getting back an <code>AsyncGenerator</code> instance from calling your <code>asyncGenFn()</code> as expected. What is this <code>AsyncIterableIterator</code> you are talking about, what environment are you running this in?"}, {"owner": {"reputation": 907, "user_id": 713456, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/AOMdl.png?s=128&g=1", "display_name": "Segers-Ian", "link": "https://stackoverflow.com/users/713456/segers-ian"}, "edited": false, "score": 1, "creation_date": 1547673895, "post_id": 54224476, "comment_id": 95277088, "body": "It does allow to run <code>next()</code>, I wrote a small blog about async generators here... <a href=\"https://medium.com/@segersian/howto-async-generators-in-nodejs-c7f0851f9c02\" rel=\"nofollow noreferrer\">medium.com/@segersian/&hellip;</a> , so the <code>next()</code> function is exposed, you just need to make sure to await."}, {"owner": {"reputation": 489, "user_id": 1013096, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/e91a2acad48fc3cf783de1f641610622?s=128&d=identicon&r=PG&f=1", "display_name": "lsankar4033", "link": "https://stackoverflow.com/users/1013096/lsankar4033"}, "edited": false, "score": 0, "creation_date": 1547674024, "post_id": 54224476, "comment_id": 95277143, "body": "Ok, I just realized this was an issue on my end; didn&#39;t include <code>esnext.asynciterable</code> in my typescript compiler options. Will add an answer saying so and close this out  Thanks all for taking a look!"}, {"owner": {"reputation": 253913, "user_id": 9515207, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/34932d3e923ffad9a4a1423e30b1d9fc?s=128&d=identicon&r=PG&f=1", "display_name": "CertainPerformance", "link": "https://stackoverflow.com/users/9515207/certainperformance"}, "edited": false, "score": 2, "creation_date": 1547679090, "post_id": 54224476, "comment_id": 95279175, "body": "You might want to edit in the exact Typescript warning that you got, so that future searchers with the same problem will be able to find this question :)"}], "answers": [{"tags": [], "owner": {"reputation": 489, "user_id": 1013096, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/e91a2acad48fc3cf783de1f641610622?s=128&d=identicon&r=PG&f=1", "display_name": "lsankar4033", "link": "https://stackoverflow.com/users/1013096/lsankar4033"}, "is_accepted": false, "score": 1, "last_activity_date": 1547674176, "creation_date": 1547674176, "answer_id": 54225683, "question_id": 54224476, "link": "https://stackoverflow.com/questions/54224476/how-does-one-do-2-way-communication-with-async-javascript-generators/54225683#54225683", "title": "How does one do 2-way communication with async javascript generators?", "body": "<p>This was an issue on my end having to do with Typescript compilation options. Adding the following to my <code>tsconfig.json</code> solved the problem for me:</p>\n\n<pre><code>\"compilerOptions\": {\n  \"lib\": [\"esnext.asynciterable\"]\n}\n</code></pre>\n\n<p>Thanks everyone who took a look!</p>\n"}, {"tags": [], "owner": {"reputation": 106013, "user_id": 633183, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/RHeN9.png?s=128&g=1", "display_name": "Thank you", "link": "https://stackoverflow.com/users/633183/thank-you"}, "is_accepted": true, "score": 2, "last_activity_date": 1547741953, "last_edit_date": 1547741953, "creation_date": 1547714250, "answer_id": 54231888, "question_id": 54224476, "link": "https://stackoverflow.com/questions/54224476/how-does-one-do-2-way-communication-with-async-javascript-generators/54231888#54231888", "title": "How does one do 2-way communication with async javascript generators?", "body": "<p>Here's an example of 2-way communication using generators -</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const g = function* (x)\r\n{ // yield sends a message \"out\"\r\n  // inbound message will be assigned to msg1\r\n  const msg1 = yield \"sending this out\"\r\n  \r\n  // another outbound message\r\n  // inbound message will be assigned to msg2\r\n  const msg2 = yield \"sending this too\" \r\n  \r\n  // do something\r\n  console.log(msg1, msg2)\r\n  \r\n  // finally, return a value\r\n  // don't forget generators can accept arguments, like x here\r\n  return x * 2\r\n}\r\n\r\n// instantiate the generator\r\nconst iterator = g (100)\r\n\r\n// get the first value from the iterator\r\nlet val = iterator.next()\r\n\r\n// some example message to send to the generator\r\nlet m = 1\r\n\r\nwhile (!val.done)\r\n{ // log each outbound message\r\n  console.log(\"received message\", val.value)\r\n  \r\n  // .next resumes the generator and sends a message back \"in\"\r\n  val = iterator.next(m)\r\n  \r\n  // increment the example message\r\n  m = m + 1\r\n}\r\n\r\n// display the final value\r\nconsole.log(\"return value\", val.value)</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>Output</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>received message sending this out\nreceived message sending this too\n1 2\nreturn value 200\n</code></pre>\n\n<hr>\n\n<p>It might be better to learn about 2-way communication by applying it to a problem. This pause/resume behavior given to us by generators makes them great for handling asynchronous operations. The newer <code>async</code> and <code>await</code> allows us to blur the lines between synchronous and asynchronous code -</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const delay = x =&gt;\r\n  new Promise (r =&gt; setTimeout (r, 1e3, x))\r\n\r\nconst main = async (z) =&gt;\r\n{ const x = await delay (200) // some promise\r\n  const y = await delay (300) // some promise\r\n  return x + y + z            // some computation with all the values\r\n}\r\n\r\nmain (100) .then (console.log, console.error)\r\n// 2 seconds later...\r\n// =&gt; 600</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>But before we had <code>async</code> and <code>await</code>, we had generators. One nice demonstration of 2-way communication with generators is <code>run</code> below. It allows us to write our program exactly the same, except using a generator function and a <code>yield</code> expression -</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const delay = x =&gt;\r\n  new Promise (r =&gt; setTimeout (r, 1e3, x))\r\n\r\nconst main = function* (z)\r\n{ const x = yield delay (200) // some promise\r\n  const y = yield delay (300) // some promise\r\n  return x + y + z            // some computation with all the values\r\n}\r\n\r\nconst run = it =&gt;\r\n{ const loop = ({ done, value }) =&gt;\r\n    done\r\n      ? Promise .resolve (value)\r\n      : value .then (x =&gt; loop (it .next (x)))\r\n  return loop (it .next ())\r\n}\r\n\r\nrun (main (100)) .then (console.log, console.error)\r\n// 2 seconds later...\r\n// =&gt; 600</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>Above, <code>run</code> is implemented as a simple recursive function that takes a generators outbound promise and sends the promise's resolved value back into the generator. It does this until the generator is exhausted and resolves the final value -</p>\n\n<pre><code>const run = it =&gt;\n{ const loop = ({ done, value }) =&gt;\n\n    // if the iterator is done\n    done\n\n      // resolve the final value\n      ? Promise .resolve (value)\n\n      // otherwise resolve the value, send it back into the generator, recur\n      : value .then (x =&gt; loop (it .next (x)))\n\n  // initialize the loop with the first value\n  return loop (it .next ())\n}\n</code></pre>\n\n<p>Before we could use generators to mock coroutines, we were stuck writing asynchronous programs by manually chaining <code>.then</code> calls around in our code -</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const delay = x =&gt;\r\n  new Promise (r =&gt; setTimeout (r, 1e3, x))\r\n\r\nconst main = z =&gt;\r\n  delay (200) .then (x =&gt; // manually chain then\r\n  delay (300) .then (y =&gt; // manually chain then\r\n  x + y + z               // some computation with all the values\r\n  ))                      // close each then\r\n  \r\nmain (100) .then (console.log, console.error)\r\n// 2 seconds later...\r\n// =&gt; 600</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>As you can see, 2-way communication with generators is powerful and affords us beautiful expression of complex programs. JavaScript adds <code>async</code>/<code>await</code> keywords that might make it seem like magic, but <code>run</code> gives you an idea of how you can use 2-way communication to get the same behaviour, even without the new keywords.</p>\n"}], "owner": {"reputation": 489, "user_id": 1013096, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/e91a2acad48fc3cf783de1f641610622?s=128&d=identicon&r=PG&f=1", "display_name": "lsankar4033", "link": "https://stackoverflow.com/users/1013096/lsankar4033"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 115, "favorite_count": 0, "closed_date": 1547726472, "accepted_answer_id": 54231888, "answer_count": 2, "score": 0, "last_activity_date": 1547741953, "creation_date": 1547668839, "last_edit_date": 1547670844, "question_id": 54224476, "link": "https://stackoverflow.com/questions/54224476/how-does-one-do-2-way-communication-with-async-javascript-generators", "closed_reason": "Not suitable for this site", "title": "How does one do 2-way communication with async javascript generators?", "body": "<p>The ability to do 2-way communication with js generators is super powerful (see <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Generator/next#Sending_values_to_the_generator\" rel=\"nofollow noreferrer\">here</a>). It enables something similar to channels in programming languages based on CSP. </p>\n\n<p>I can't seem to figure out how to do this with async generators though. Suppose I create an async generator in the following way:</p>\n\n<pre><code>async function* asyncGenFn() {\n  yield Promise.resolve(true)\n}\n</code></pre>\n\n<p>This function returns <code>AsyncIterableIterator</code> (not <code>AsyncIterator</code>), which doesn't seem to have a <code>next</code> function like <code>IterablIterator</code> does.</p>\n\n<p>Is there a way to do 2-way communication with async generators created this way? Or am I just barking up the wrong tree here?</p>\n"}, {"tags": ["typescript", "angular5", "array-filter"], "answers": [{"comments": [{"owner": {"reputation": 1227, "user_id": 8152794, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/9jg7T.jpg?s=128&g=1", "display_name": "Fahad Subzwari", "link": "https://stackoverflow.com/users/8152794/fahad-subzwari"}, "edited": false, "score": 0, "creation_date": 1547669181, "post_id": 54224492, "comment_id": 95274936, "body": "I have also tried this  <code>nameSearchFilter(event : any){     this.recordsCopy = this.records;     const val = event.target.value.toLowerCase();     console.log(val);     this.recordsCopy = this.recordsCopy.filter(function (d) {       return d.Name.toLowerCase().indexOf(val) !== -1 || !val;     });     this.records = this.recordsCopy;   }</code> But is not working"}], "tags": [], "owner": {"reputation": 638, "user_id": 1504196, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c18db55f2f3f68aa58678292fef4ffe5?s=128&d=identicon&r=PG&f=1", "display_name": "GreenTeaCake", "link": "https://stackoverflow.com/users/1504196/greenteacake"}, "is_accepted": false, "score": 0, "last_activity_date": 1547668896, "creation_date": 1547668896, "answer_id": 54224492, "question_id": 54224411, "link": "https://stackoverflow.com/questions/54224411/how-to-update-client-side-angular5-array-using-array-filter/54224492#54224492", "title": "How to update client side angular5 array using array.filter?", "body": "<p>You are modifying your source <code>records</code> array in <code>nameSearchFilter</code> method. That's wrong. You need to create a <code>recordsToDisplay</code> array and use it to draw table rows and assign the results of filtering into it.</p>\n"}, {"comments": [{"owner": {"reputation": 1227, "user_id": 8152794, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/9jg7T.jpg?s=128&g=1", "display_name": "Fahad Subzwari", "link": "https://stackoverflow.com/users/8152794/fahad-subzwari"}, "edited": false, "score": 0, "creation_date": 1547669028, "post_id": 54224494, "comment_id": 95274861, "body": "so exactly where should i change in my code and what?"}, {"owner": {"reputation": 1227, "user_id": 8152794, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/9jg7T.jpg?s=128&g=1", "display_name": "Fahad Subzwari", "link": "https://stackoverflow.com/users/8152794/fahad-subzwari"}, "edited": false, "score": 0, "creation_date": 1547669432, "post_id": 54224494, "comment_id": 95275033, "body": "but i have my all array data orignially in <code>records</code> array which i bind in my html so at the time of page load it displays all data into html if i replace <code>records</code> with <code>filteredRecords</code> so there will be no records at page load"}, {"owner": {"reputation": 1227, "user_id": 8152794, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/9jg7T.jpg?s=128&g=1", "display_name": "Fahad Subzwari", "link": "https://stackoverflow.com/users/8152794/fahad-subzwari"}, "edited": false, "score": 0, "creation_date": 1547669514, "post_id": 54224494, "comment_id": 95275068, "body": "I have also tried this  <code>nameSearchFilter(event : any){     this.recordsCopy = this.records;     const val = event.target.value.toLowerCase();     console.log(val);     this.recordsCopy = this.recordsCopy.filter(function (d) {       return d.Name.toLowerCase().indexOf(val) !== -1 || !val;     });     this.records = this.recordsCopy;   }</code> But is not working"}, {"owner": {"reputation": 1227, "user_id": 8152794, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/9jg7T.jpg?s=128&g=1", "display_name": "Fahad Subzwari", "link": "https://stackoverflow.com/users/8152794/fahad-subzwari"}, "edited": false, "score": 0, "creation_date": 1547669792, "post_id": 54224494, "comment_id": 95275201, "body": "Thanx. I got it."}, {"owner": {"reputation": 1227, "user_id": 8152794, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/9jg7T.jpg?s=128&g=1", "display_name": "Fahad Subzwari", "link": "https://stackoverflow.com/users/8152794/fahad-subzwari"}, "edited": false, "score": 0, "creation_date": 1547670798, "post_id": 54224494, "comment_id": 95275698, "body": "i just posted question with static declared array with records to just correct my filter logic. I applied your logic onto stackblitz code that have static array with records so it is working. But when i used your logic in my actual project which fetches records on Angular  <code>ngOnInit</code> so it stops working. I have updated the post. Please respond it accordingly"}, {"owner": {"reputation": 1227, "user_id": 8152794, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/9jg7T.jpg?s=128&g=1", "display_name": "Fahad Subzwari", "link": "https://stackoverflow.com/users/8152794/fahad-subzwari"}, "edited": false, "score": 0, "creation_date": 1547671318, "post_id": 54224494, "comment_id": 95275916, "body": "Sorry i was mistaking in code. Your example worked for me."}], "tags": [], "owner": {"reputation": 11358, "user_id": 2708650, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-iuLvd5ToDQ8/AAAAAAAAAAI/AAAAAAAAAEA/aGdWcMU2x_4/photo.jpg?sz=128", "display_name": "Ian MacDonald", "link": "https://stackoverflow.com/users/2708650/ian-macdonald"}, "is_accepted": true, "score": 1, "last_activity_date": 1547668901, "creation_date": 1547668901, "answer_id": 54224494, "question_id": 54224411, "link": "https://stackoverflow.com/questions/54224411/how-to-update-client-side-angular5-array-using-array-filter/54224494#54224494", "title": "How to update client side angular5 array using array.filter?", "body": "<p>You are permanently modifying your data source.</p>\n\n<p>The easiest non-angular way of doing this would be to create a <code>filteredRecords</code> copy that you <em>only assign</em>, while still filtering your original <code>records</code>.</p>\n\n<pre><code>this.filteredRecords = this.records.filter(...)\n</code></pre>\n\n<p>If you wanted to be more angulary, you could make a filter pipe that does this for you on the way to your template.</p>\n"}], "owner": {"reputation": 1227, "user_id": 8152794, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/9jg7T.jpg?s=128&g=1", "display_name": "Fahad Subzwari", "link": "https://stackoverflow.com/users/8152794/fahad-subzwari"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 15, "favorite_count": 0, "accepted_answer_id": 54224494, "answer_count": 2, "score": -2, "last_activity_date": 1547670683, "creation_date": 1547668548, "last_edit_date": 1547670683, "question_id": 54224411, "link": "https://stackoverflow.com/questions/54224411/how-to-update-client-side-angular5-array-using-array-filter", "title": "How to update client side angular5 array using array.filter?", "body": "<p>I am implementing array filtering in Angular5.</p>\n\n<p>Here is my component.ts </p>\n\n<pre><code> ngOnInit() {\n this.getFileDetails();\n this.recordsCopy = this.records;\n}\n\ngetFileDetails() {\nthis.appService.fetchFileDetails(this.filename).then((resp: any) =&gt; {\n  if (resp.success) {\n    this.records = resp.data;\n    this.records.map(item=&gt;{\n      item.editable = false;\n     })\n   }\n  });\n }\n\n  nameSearchFilter(event : any){\n    const val = event.target.value.toLowerCase();\n    console.log(val);\n    this.recordsCopy  = this.records.filter(function (d) {\n     return d.Name.toLowerCase().indexOf(val) !== -1 || !val;\n  });\n }\n</code></pre>\n\n<p>Here is my component.html</p>\n\n<pre><code>&lt;div class=\"tale-responsive\"&gt;\n        &lt;table class=\"table\"&gt;\n          &lt;thead&gt;\n            &lt;tr&gt;\n              &lt;th&gt;Name&lt;/th&gt;\n              &lt;th&gt;Speciality&lt;/th&gt;\n              &lt;th&gt;Credentials&lt;/th&gt;\n              &lt;th&gt;City&lt;/th&gt;\n            &lt;/tr&gt;\n         &lt;/thead&gt;\n          &lt;tbody&gt;\n              &lt;tr&gt;\n                &lt;td&gt;\n                  &lt;input type=\"text\" class=\"form-control\"  (keyup)='nameSearchFilter($event)'/&gt;\n                &lt;/td&gt;\n                &lt;td&gt;\n                  &lt;input type=\"text\" class=\"form-control\"/&gt;\n                &lt;/td&gt;\n                &lt;td&gt;\n                  &lt;input type=\"text\" class=\"form-control\" /&gt;\n                &lt;/td&gt;\n                &lt;td&gt;\n                  &lt;input type=\"text\" class=\"form-control\"/&gt;\n                &lt;/td&gt;\n              &lt;/tr&gt;\n            &lt;/tbody&gt;\n        &lt;/table&gt;\n      &lt;/div&gt;\n\n      &lt;div class=\"table-responsive\"&gt;\n&lt;div class=\"table\"&gt;\n  &lt;tr&gt;\n    &lt;th&gt;Name&lt;/th&gt;\n    &lt;th&gt;Speciality&lt;/th&gt;\n    &lt;th&gt;Credentials&lt;/th&gt;\n    &lt;th&gt;City&lt;/th&gt;\n  &lt;/tr&gt;\n  &lt;tr *ngFor=\"let record of records\"&gt;\n    &lt;td&gt;{{record.Name}}&lt;/td&gt;\n    &lt;td&gt;{{record.Specailty}}&lt;/td&gt;\n    &lt;td&gt;{{record.Credentials}}&lt;/td&gt;\n    &lt;td&gt;{{record.City}}&lt;/td&gt;\n  &lt;/tr&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p></p>\n\n<p>I am implementing array filtering on <code>keyup</code> angular event so that as user starts type then array should display table filtration real time.\nBut it is not working. Where i am mistaking in my code?</p>\n"}, {"tags": ["angular", "typescript", "jhipster"], "comments": [{"owner": {"reputation": 3804, "user_id": 1205647, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/7b03ae8795066ff29f8da0860b6411b5?s=128&d=identicon&r=PG", "display_name": "Aragorn", "link": "https://stackoverflow.com/users/1205647/aragorn"}, "edited": false, "score": 0, "creation_date": 1547664142, "post_id": 54223321, "comment_id": 95272612, "body": "Can you rely on the Id? compare them by Id.."}, {"owner": {"reputation": 323, "user_id": 7195689, "user_type": "registered", "profile_image": "https://graph.facebook.com/1264860073566021/picture?type=large", "display_name": "Misael Landeros", "link": "https://stackoverflow.com/users/7195689/misael-landeros"}, "reply_to_user": {"reputation": 3804, "user_id": 1205647, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/7b03ae8795066ff29f8da0860b6411b5?s=128&d=identicon&r=PG", "display_name": "Aragorn", "link": "https://stackoverflow.com/users/1205647/aragorn"}, "edited": false, "score": 0, "creation_date": 1547675209, "post_id": 54223321, "comment_id": 95277653, "body": "@Aragorn yes but in that case I had to set the [ngValue]=&quot;userOption.id&quot; an then when I try to make the update the DTO requires a User object no a Long"}, {"owner": {"reputation": 3804, "user_id": 1205647, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/7b03ae8795066ff29f8da0860b6411b5?s=128&d=identicon&r=PG", "display_name": "Aragorn", "link": "https://stackoverflow.com/users/1205647/aragorn"}, "edited": false, "score": 0, "creation_date": 1547737140, "post_id": 54223321, "comment_id": 95301739, "body": "ngValue doesn&#39;t have to be userOption.id, post your code, someone will be able to suggest an improvement."}], "answers": [{"tags": [], "owner": {"reputation": 323, "user_id": 7195689, "user_type": "registered", "profile_image": "https://graph.facebook.com/1264860073566021/picture?type=large", "display_name": "Misael Landeros", "link": "https://stackoverflow.com/users/7195689/misael-landeros"}, "is_accepted": true, "score": 0, "last_activity_date": 1547840740, "creation_date": 1547840740, "answer_id": 54260510, "question_id": 54223321, "link": "https://stackoverflow.com/questions/54223321/make-two-objets-to-mach/54260510#54260510", "title": "Make two Objets to mach", "body": "<p>Was doing wrong JHipster generate in the DTO a Long usuarioId then in the Angular side they get all the Users and compare the id when I save the entity I get the User objete using the UserService find by login. </p>\n\n<p>So this is the way it works I think maybe some can find helpful </p>\n\n<p>first in the ManyToMany relationship </p>\n\n<pre><code> @ManyToOne\n @JsonIgnoreProperties(\"\")\n private User coordinador;\n         public User getCoordinador() {\n            return coordinador;\n        }\n\n        public ExtendedUser coordinador(User user) {\n            this.coordinador = user;\n            return this;\n        }\n\n        public void setCoordinador(User user) {\n            this.coordinador = user;\n        }\n</code></pre>\n\n<p>And in the DTO</p>\n\n<pre><code>  private Long coordinadorId;\n\n  private String coordinadorLogin;\n\n  public Long getCoordinadorId() {\n        return coordinadorId;\n    }\n\n    public void setCoordinadorId(Long userId) {\n        this.coordinadorId = userId;\n    }\n\n    public String getCoordinadorLogin() {\n        return coordinadorLogin;\n    }\n\n    public void setCoordinadorLogin(String userLogin) {\n        this.coordinadorLogin = userLogin;\n    }\n</code></pre>\n\n<p>In the angular side this is how it look the component.html</p>\n\n<pre><code> &lt;div class=\"form-group\"&gt;\n                    &lt;label class=\"form-control-label\" jhiTranslate=\"sigemApp.extendedUser.coordinador\" for=\"field_coordinador\"&gt;Coordinador&lt;/label&gt;\n                    &lt;select class=\"form-control\" id=\"field_coordinador\" name=\"coordinador\" [(ngModel)]=\"extendedUser.coordinadorLogin\" &gt;\n                        &lt;option [ngValue]=\"null\"&gt;&lt;/option&gt;\n                        &lt;option [ngValue]=\"userOption.login\" *ngFor=\"let userOption of users; trackBy: trackUserById\"&gt;{{userOption.login}}&lt;/option&gt;\n    &lt;/select&gt;&lt;/div&gt;\n</code></pre>\n\n<p>Finally in the component.ts</p>\n\n<pre><code>users: IUser[];\n this.userService.query().subscribe(\n            (res: HttpResponse&lt;IUser[]&gt;) =&gt; {\n                this.users = res.body;\n            },\n            (res: HttpErrorResponse) =&gt; this.onError(res.message)\n        );\n trackUserById(index: number, item: IUser) {\n        return item.login;\n    }\ngetSelected(selectedVals: Array&lt;any&gt;, option: any) {\n        if (selectedVals) {\n            for (let i = 0; i &lt; selectedVals.length; i++) {\n                if (option.id === selectedVals[i].id) {\n                    return selectedVals[i];\n                }\n            }\n        }\n        return option;\n    }\n</code></pre>\n\n<p>To save it i use the userService to get the User user object so in the User service</p>\n\n<pre><code>    Optional&lt;User&gt; coordinador = userRepository.findOneByLogin(extendedUserDTO.getCoordinadorLogin());\n  updateExtendedUser.setCoordinador(coordinador.get());\n        extendedUserService.save(updateExtendedUser);\n</code></pre>\n"}], "owner": {"reputation": 323, "user_id": 7195689, "user_type": "registered", "profile_image": "https://graph.facebook.com/1264860073566021/picture?type=large", "display_name": "Misael Landeros", "link": "https://stackoverflow.com/users/7195689/misael-landeros"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 46, "favorite_count": 0, "accepted_answer_id": 54260510, "answer_count": 1, "score": -2, "last_activity_date": 1547840740, "creation_date": 1547663887, "question_id": 54223321, "link": "https://stackoverflow.com/questions/54223321/make-two-objets-to-mach", "title": "Make two Objets to mach", "body": "<p>So I have two objects one comes from my DTO and the other From the User service. </p>\n\n<p>I want to blind a previously saved value to the select. </p>\n\n<p>but because the objects are different is not showing the value (thats what i think)</p>\n\n<p>This is the object with the data. </p>\n\n<p><a href=\"https://i.stack.imgur.com/hBHkZ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/hBHkZ.png\" alt=\"enter image description here\"></a></p>\n\n<p>And this is the objets from the list in the select </p>\n\n<p><a href=\"https://i.stack.imgur.com/hZNmU.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/hZNmU.png\" alt=\"enter image description here\"></a></p>\n\n<p>\u00bfSo how I can delete or filter it to mach?</p>\n"}, {"tags": ["javascript", "typescript", "amcharts"], "answers": [{"tags": [], "owner": {"reputation": 14487, "user_id": 6106614, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/maZZf.png?s=128&g=1", "display_name": "xorspark", "link": "https://stackoverflow.com/users/6106614/xorspark"}, "is_accepted": true, "score": 7, "last_activity_date": 1547663980, "last_edit_date": 1592644375, "creation_date": 1547663980, "answer_id": 54223338, "question_id": 54223199, "link": "https://stackoverflow.com/questions/54223199/how-to-show-all-labels-or-reduce-label-padding-on-amcharts4-category-axis/54223338#54223338", "title": "How to show all labels or reduce label padding on AmCharts4 Category Axis?", "body": "<p>You need to set <code>minGridDistance</code> to a small enough value to make the chart display more/all labels, e.g.</p>\n<pre><code>categoryAxis.renderer.minGridDistance = 20;\n</code></pre>\n<p>From the <a href=\"https://www.amcharts.com/docs/v4/concepts/axes/positioning-axis-elements/#Setting_the_density_of_the_the_grid_labels\" rel=\"noreferrer\">documentation</a></p>\n<blockquote>\n<p>Actual behavior depends on available space. But it's all governed by a single axis renderer's property: <code>minGridDistance</code>.</p>\n<p>In human language it means this: &quot;Whatever happens DO NOT place two grid lines closer than X pixels. I'm serious, man!&quot;.</p>\n<p>Default settings depend on orientation. For example horizontal axis renderers (<code>AxisRendererX</code>) has a default of 120. Vertical axis renderer (<code>AxisRendererY</code>): 40.</p>\n<p>Increasing these numbers will mean likely sparser grid lines and related labels. Decreasing will probably result in denser grid/labels.</p>\n</blockquote>\n"}], "owner": {"reputation": 798, "user_id": 4005915, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/631230112/picture?type=large", "display_name": "Nathan Clement", "link": "https://stackoverflow.com/users/4005915/nathan-clement"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2816, "favorite_count": 0, "accepted_answer_id": 54223338, "answer_count": 1, "score": 2, "last_activity_date": 1547663980, "creation_date": 1547663234, "question_id": 54223199, "link": "https://stackoverflow.com/questions/54223199/how-to-show-all-labels-or-reduce-label-padding-on-amcharts4-category-axis", "title": "How to show all labels or reduce label padding on AmCharts4 Category Axis?", "body": "<p>I'm building a Pareto chart to show percent and count by category. It is important to be able to see all category labels on the chart. There is currently plenty of space to show more category labels, but the axis isn't showing them. </p>\n\n<p>Is there a way to tell the axis to show all labels, or to reduce the padding/margin on axis labels so that more can be shown?</p>\n\n<p>I am using Typescript in an Angular app.</p>\n\n<p>Current Axis Creation Code:</p>\n\n<pre><code>let categoryAxis = chart.yAxes.push(new am4charts.CategoryAxis());\ncategoryAxis .title.text = 'Category';\ncategoryAxis.dataFields.category = categoryField;\ncategoryAxis.renderer.fontSize = 12;\n</code></pre>\n\n<p>Image of issue:</p>\n\n<p><a href=\"https://i.stack.imgur.com/DS1CZ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/DS1CZ.png\" alt=\"Image of issue\"></a></p>\n"}, {"tags": ["angular", "typescript", "firebase", "ionic-framework", "ionic3"], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 10923932, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8c0edf92b5094848b22368dbd98672f5?s=128&d=identicon&r=PG&f=1", "display_name": "Angular-ionic", "link": "https://stackoverflow.com/users/10923932/angular-ionic"}, "edited": false, "score": 1, "creation_date": 1547669645, "post_id": 54224403, "comment_id": 95275124, "body": "Thanks for that. I appreciate your effort. I tried it and it comes up with a new error: Type &#39;Observable&lt;Observable&lt;{ key: string; name: string; quantity: number; price: number; }[]&gt;&gt;&#39; is not assignable to type &#39;Observable&lt;Item[]&gt;&#39;.   Type &#39;Observable&lt;{ key: string; name: string; quantity: number; price: number; }[]&gt;&#39; is missing the following properties from type &#39;Item[]&#39;: length, pop, push, join, and 17 more."}, {"owner": {"reputation": 500, "user_id": 4169946, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4Gyg4.jpg?s=128&g=1", "display_name": "Rafael Lucini", "link": "https://stackoverflow.com/users/4169946/rafael-lucini"}, "reply_to_user": {"reputation": 1, "user_id": 10923932, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8c0edf92b5094848b22368dbd98672f5?s=128&d=identicon&r=PG&f=1", "display_name": "Angular-ionic", "link": "https://stackoverflow.com/users/10923932/angular-ionic"}, "edited": false, "score": 0, "creation_date": 1547728031, "post_id": 54224403, "comment_id": 95296420, "body": "your variable return a Item instead a array of Item, i&#39;l edit the post."}, {"owner": {"reputation": 1, "user_id": 10923932, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8c0edf92b5094848b22368dbd98672f5?s=128&d=identicon&r=PG&f=1", "display_name": "Angular-ionic", "link": "https://stackoverflow.com/users/10923932/angular-ionic"}, "edited": false, "score": 0, "creation_date": 1547748948, "post_id": 54224403, "comment_id": 95308257, "body": "Thanks for your help. Unfortunately that gave the same errors: Type &#39;Observable&lt;Observable&lt;{ length: number; toString():. 25 more ...; key: string; }[]&gt;&#39; is missing the following properties from type &#39;Item[]&#39;: length, pop, push, join, and 17 more...."}, {"owner": {"reputation": 1, "user_id": 10923932, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8c0edf92b5094848b22368dbd98672f5?s=128&d=identicon&r=PG&f=1", "display_name": "Angular-ionic", "link": "https://stackoverflow.com/users/10923932/angular-ionic"}, "edited": false, "score": 0, "creation_date": 1547748998, "post_id": 54224403, "comment_id": 95308282, "body": "It also added the following error to the service functions: &quot;Argument of type &#39;Item&#39; is not assignable to parameter of type &#39;Item[]&#39;.   Type &#39;Item&#39; is missing the following properties from type &#39;Item[]&#39;: length, pop, push, concat, and 25 more.&quot;"}], "tags": [], "owner": {"reputation": 500, "user_id": 4169946, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4Gyg4.jpg?s=128&g=1", "display_name": "Rafael Lucini", "link": "https://stackoverflow.com/users/4169946/rafael-lucini"}, "is_accepted": false, "score": 0, "last_activity_date": 1547728210, "last_edit_date": 1547728210, "creation_date": 1547668514, "answer_id": 54224403, "question_id": 54222961, "link": "https://stackoverflow.com/questions/54222961/typeerror-function-expected-app-with-angular-typescript-firebase-and-ionic/54224403#54224403", "title": "TypeError Function expected: App with Angular, TypeScript, Firebase and Ionic", "body": "<p>try this:</p>\n\n<p>First, import this:</p>\n\n<pre><code>import {of} from \"rxjs\";\n</code></pre>\n\n<p>After, replace this:</p>\n\n<pre><code> this.shoppingList$ = of(this.shopping\n  .getShoppingList() // database list\n  .snapshotChanges() // gets key and value\n  .map(changes =&gt; { // for each change, get a new object\n    return changes.map(c =&gt; ({\n      key: c.payload.key,\n      ...c.payload.val()\n    }));\n  }));\n</code></pre>\n\n<p>And rename the type in your service:</p>\n\n<pre><code>private shoppingListRef= this.db.list&lt;Item[]&gt;('shopping-list');\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 10923932, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8c0edf92b5094848b22368dbd98672f5?s=128&d=identicon&r=PG&f=1", "display_name": "Angular-ionic", "link": "https://stackoverflow.com/users/10923932/angular-ionic"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 787, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1547728210, "creation_date": 1547662267, "last_edit_date": 1547665482, "question_id": 54222961, "link": "https://stackoverflow.com/questions/54222961/typeerror-function-expected-app-with-angular-typescript-firebase-and-ionic", "title": "TypeError Function expected: App with Angular, TypeScript, Firebase and Ionic", "body": "<p>I've researched errors which come up with \"TypeError Function expect\" such as <a href=\"https://stackoverflow.com/questions/47862033/ngfor-template-parse-errors-parser-error-unexpected-token-at-column\">here</a> and <a href=\"https://github.com/dart-lang/angular/issues/800\" rel=\"nofollow noreferrer\">here</a> but they don't seem to be relevant to this problem and I can't figure out how to solve it. I've been at it for 6+ hours.</p>\n\n<p>Please can someone help me?</p>\n\n<p>I'm a newbie and making a shopping list app using Angular, Firebase, Ionic 3 and TypeScript. It essentially should add new items to the display screen/view of the app i.e. HomePage.</p>\n\n<p>The below is the interface code:</p>\n\n<pre><code>export interface Item {\n    key?: string;\n    name: string;\n    quantity: number;\n    price: number;\n\n}\n</code></pre>\n\n<p>The below is the code for the HomePage.ts, where the interface Item is imported:</p>\n\n<pre><code>import { Component } from '@angular/core';\nimport { NavController, IonicPage } from 'ionic-angular';\nimport { ShoppingListService } from '../../services/shopping list/shopping-list.service';\nimport { Item } from '../../models/item/item.model';\nimport { Observable } from 'rxjs/Observable';\n\n@IonicPage()\n@Component({\n  selector: 'page-home',\n  templateUrl: 'home.html'\n})\n\nexport class HomePage {\n\n  shoppingList$: Observable&lt;Item[]&gt;\n\n  constructor(public navCtrl: NavController, private shopping: ShoppingListService) {\n  this.shoppingList$ = this.shopping\n  .getShoppingList() // database list\n  .snapshotChanges() // gets key and value\n  .map(changes =&gt; { // for each change, get a new object\n    return changes.map(c =&gt; ({\n      key: c.payload.key,\n      ...c.payload.val()\n    }));\n  });\n  }\n</code></pre>\n\n<p>The below is the homepage.html where the list of items should display:</p>\n\n<pre><code>&lt;ion-item *ngFor=\"let item of shoppingList$ | async\" &gt;\n    {{item.name}}\n   &lt;/ion-item&gt;\n</code></pre>\n\n<p>This is the service provider code shopping-list.service.ts which connects to the firebase database:</p>\n\n<pre><code>import { Injectable } from '@angular/core';\nimport { AngularFireDatabase } from '@angular/fire/database';\nimport { Item } from '../../models/item/item.model';\n\n@Injectable()\nexport class ShoppingListService {\n    private shoppingListRef= this.db.list&lt;Item&gt;('shopping-list');\n\n    constructor (private db: AngularFireDatabase) { }\n    getShoppingList(){\n        return this.shoppingListRef;\n    }\n}\n</code></pre>\n\n<p>But I get this error:</p>\n\n<pre><code>TypeError: Function expected\n   at Anonymous function (http://localhost:8100/build/vendor.js:74479:9)\n   at SwitchMapSubscriber.prototype._next (http://localhost:8100/build/vendor.js:62604:13)\n   at Subscriber.prototype.next (http://localhost:8100/build/vendor.js:20750:13)\n   at Subscriber.prototype._next (http://localhost:8100/build/vendor.js:20786:9)\n   at Subscriber.prototype.next (http://localhost:8100/build/vendor.js:20750:13)\n   at Subject.prototype.next (http://localhost:8100/build/vendor.js:23237:17)\n   at Subscriber.prototype._next (http://localhost:8100/build/vendor.js:20786:9)\n   at Subscriber.prototype.next (http://localhost:8100/build/vendor.js:20750:13)\n   at Notification.prototype.observe (http://localhost:8100/build/vendor.js:52062:17)\n   at DelaySubscriber.dispatch (http://localhost:8100/build/vendor.js:76789:13)\n</code></pre>\n"}, {"tags": ["typescript"], "answers": [{"comments": [{"owner": {"reputation": 670, "user_id": 186625, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/d88310e5a376cf2f2c212dce91756586?s=128&d=identicon&r=PG", "display_name": "maga", "link": "https://stackoverflow.com/users/186625/maga"}, "edited": false, "score": 0, "creation_date": 1547693042, "post_id": 54226636, "comment_id": 95282141, "body": "Thanks! This might be a naive question, but what do I do with the class itself, how should I declare it now?"}], "tags": [], "owner": {"reputation": 2516, "user_id": 5389131, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/uB2LO.png?s=128&g=1", "display_name": "S&#248;ren D. Pt&#230;us", "link": "https://stackoverflow.com/users/5389131/s%c3%b8ren-d-pt%c3%a6us"}, "is_accepted": false, "score": 1, "last_activity_date": 1547679410, "creation_date": 1547679410, "answer_id": 54226636, "question_id": 54222932, "link": "https://stackoverflow.com/questions/54222932/declaring-types-for-mixin-class/54226636#54226636", "title": "Declaring types for mixin class", "body": "<p>You can use <a href=\"https://www.typescriptlang.org/docs/handbook/generics.html#generic-constraints\" rel=\"nofollow noreferrer\">generic constraints</a> to specify that your return type extends <code>IndexedCollection</code> like this:</p>\n\n<pre><code>declare function ArrayMixin&lt;T extends IndexedCollection&gt;(Base: IndexedCollection): T\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 670, "user_id": 186625, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/d88310e5a376cf2f2c212dce91756586?s=128&d=identicon&r=PG", "display_name": "maga", "link": "https://stackoverflow.com/users/186625/maga"}, "is_accepted": true, "score": 2, "last_activity_date": 1547733771, "creation_date": 1547733771, "answer_id": 54237599, "question_id": 54222932, "link": "https://stackoverflow.com/questions/54222932/declaring-types-for-mixin-class/54237599#54237599", "title": "Declaring types for mixin class", "body": "<p>Researching more into generics, as S\u00f8ren D. Pt\u00e6us suggested, led me to the following.\nIn order to declare this JavaScript construction:</p>\n\n<pre><code>function ArrayMixin(Base) {\n  class ExtendedArray extends Base {}\n  return ExtendedArray;\n}\n</code></pre>\n\n<p>We need this in the declaration file:</p>\n\n<pre><code>export declare class ExtendedArray {}\n\ninterface Constructor&lt;T&gt; {\n    new (...args): T;\n}\n\nexport declare function ArrayMixin&lt;T extends IndexedCollection&gt;(Base?: Constructor&lt;T&gt;):\n Constructor&lt;T &amp; ExtendedArray&gt;;\n</code></pre>\n"}], "owner": {"reputation": 670, "user_id": 186625, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/d88310e5a376cf2f2c212dce91756586?s=128&d=identicon&r=PG", "display_name": "maga", "link": "https://stackoverflow.com/users/186625/maga"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 57, "favorite_count": 0, "accepted_answer_id": 54237599, "answer_count": 2, "score": 3, "last_activity_date": 1547733771, "creation_date": 1547662151, "question_id": 54222932, "link": "https://stackoverflow.com/questions/54222932/declaring-types-for-mixin-class", "title": "Declaring types for mixin class", "body": "<p>Not a TypeScript user, but I'm writing a TypeScript declaration file for my JavaScript library, and I'm stuck on the following code:</p>\n\n<pre><code>function ArrayMixin(Base) {\n  class ExtendedArray extends Base {}\n  return ExtendedArray;\n}\n</code></pre>\n\n<p>This returns a class that extends a given class. In this case I'd like to limit the Base to Arrays and TypedArrays (so-called indexed collections). I can create a union type declaring all the necessary constructors and use it as type in the function signature:</p>\n\n<pre><code>type IndexedCollection = ArrayConstructor|Int8ArrayConstructor\ndeclare function ArrayMixin(Base: IndexedCollection): ExtendedArray\n</code></pre>\n\n<p>But how do I specify that my ExtendedArray extends any of those in IndexedCollection? How do I declare ExtendedArray?</p>\n"}, {"tags": ["angular", "typescript", "authentication", "ngrx"], "comments": [{"owner": {"reputation": 11274, "user_id": 9078341, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TAD0A.png?s=128&g=1", "display_name": "Randy Casburn", "link": "https://stackoverflow.com/users/9078341/randy-casburn"}, "edited": false, "score": 0, "creation_date": 1547660537, "post_id": 54222383, "comment_id": 95270893, "body": "Sounds like you have a circular route configured. Please provide your router config."}, {"owner": {"reputation": 478, "user_id": 1904180, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/14314e5e5c5b8921101db1e352a677fb?s=128&d=identicon&r=PG", "display_name": "Driver", "link": "https://stackoverflow.com/users/1904180/driver"}, "reply_to_user": {"reputation": 11274, "user_id": 9078341, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TAD0A.png?s=128&g=1", "display_name": "Randy Casburn", "link": "https://stackoverflow.com/users/9078341/randy-casburn"}, "edited": false, "score": 0, "creation_date": 1547660750, "post_id": 54222383, "comment_id": 95270989, "body": "I just want to go to the root of the App. With window.location.href = &#39;/&#39; i get a 304 Not Modified"}, {"owner": {"reputation": 6779, "user_id": 6749601, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GHTLW.jpg?s=128&g=1", "display_name": "Lynx 242", "link": "https://stackoverflow.com/users/6749601/lynx-242"}, "edited": false, "score": 0, "creation_date": 1547660772, "post_id": 54222383, "comment_id": 95270997, "body": "When is <code>this.authService.logout();</code> supposed to be called? In your current code it&#39;s always called before <code>this.state.subscribe...</code> is processed. That could actually be the main problem here."}, {"owner": {"reputation": 478, "user_id": 1904180, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/14314e5e5c5b8921101db1e352a677fb?s=128&d=identicon&r=PG", "display_name": "Driver", "link": "https://stackoverflow.com/users/1904180/driver"}, "reply_to_user": {"reputation": 6779, "user_id": 6749601, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GHTLW.jpg?s=128&g=1", "display_name": "Lynx 242", "link": "https://stackoverflow.com/users/6749601/lynx-242"}, "edited": false, "score": 0, "creation_date": 1547660803, "post_id": 54222383, "comment_id": 95271011, "body": "@Lynx242 it&#39;s Ngrx, i call the Reducer and then it will callback when the logout actions have been performed"}, {"owner": {"reputation": 478, "user_id": 1904180, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/14314e5e5c5b8921101db1e352a677fb?s=128&d=identicon&r=PG", "display_name": "Driver", "link": "https://stackoverflow.com/users/1904180/driver"}, "edited": false, "score": 0, "creation_date": 1547660956, "post_id": 54222383, "comment_id": 95271099, "body": "I just found a solution. Just put the this.router.navigate inside the effects.ts"}], "answers": [{"tags": [], "owner": {"reputation": 478, "user_id": 1904180, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/14314e5e5c5b8921101db1e352a677fb?s=128&d=identicon&r=PG", "display_name": "Driver", "link": "https://stackoverflow.com/users/1904180/driver"}, "is_accepted": false, "score": 0, "last_activity_date": 1547661020, "creation_date": 1547661020, "answer_id": 54222680, "question_id": 54222383, "link": "https://stackoverflow.com/questions/54222383/angular-7-hangs-on-redirect/54222680#54222680", "title": "Angular 7 Hangs on Redirect", "body": "<p>I just found a solution.</p>\n\n<p>I've put the <code>this.router.navigateByUrl('/')</code> inside the effects.ts . Working now!</p>\n"}], "owner": {"reputation": 478, "user_id": 1904180, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/14314e5e5c5b8921101db1e352a677fb?s=128&d=identicon&r=PG", "display_name": "Driver", "link": "https://stackoverflow.com/users/1904180/driver"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 987, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1547661020, "creation_date": 1547659887, "question_id": 54222383, "link": "https://stackoverflow.com/questions/54222383/angular-7-hangs-on-redirect", "title": "Angular 7 Hangs on Redirect", "body": "<p>I'm trying to implement a Logout Component in Angular, but when i access /auth/logout on Chrome just hangs and on Firefox i'm getting a \"A web page is slowing down your browser\", like there was a for(;;) running.</p>\n\n<pre><code>ngOnInit() {\n   this.subscription = this.state.subscribe((state: any) =&gt; {\n       if (isEmpty(state.auth) || state.auth.isAuthenticated === false) {\n         this.router.navigate(['/']);\n       }\n   });\n   this.authService.logout();\n}\n</code></pre>\n\n<p>Has anyone ever had this issue?\nThanks in advance</p>\n"}, {"tags": ["javascript", "typescript", "unit-testing", "mocking", "jestjs"], "comments": [{"owner": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 0, "creation_date": 1547659899, "post_id": 54222277, "comment_id": 95270572, "body": "Have you read e.g. <a href=\"https://jestjs.io/docs/en/manual-mocks\" rel=\"nofollow noreferrer\">jestjs.io/docs/en/manual-mocks</a>? Note that you should <code>jest.mock</code> <i>outside</i> the test spec, otherwise it can&#39;t be hoisted and you have to re-import the thing you&#39;re testing"}, {"owner": {"reputation": 16730, "user_id": 101095, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/9e5c6cdbcebd9b26a264a97465f713ce?s=128&d=identicon&r=PG", "display_name": "Cuga", "link": "https://stackoverflow.com/users/101095/cuga"}, "reply_to_user": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 0, "creation_date": 1547660418, "post_id": 54222277, "comment_id": 95270835, "body": "I did... extensively.  It&#39;s really unclear from the docs.  I was writing custom test modules and everything.  I finally figured out an answer that I&#39;ll update in a minute."}], "answers": [{"tags": [], "owner": {"reputation": 16730, "user_id": 101095, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/9e5c6cdbcebd9b26a264a97465f713ce?s=128&d=identicon&r=PG", "display_name": "Cuga", "link": "https://stackoverflow.com/users/101095/cuga"}, "is_accepted": true, "score": 7, "last_activity_date": 1547660870, "creation_date": 1547660870, "answer_id": 54222649, "question_id": 54222277, "link": "https://stackoverflow.com/questions/54222277/how-to-mock-a-directly-imported-function-using-jest/54222649#54222649", "title": "How to mock a directly-imported function using Jest?", "body": "<p>Finally figured out the answer.</p>\n\n<p>Nothing needed to change in the source code (either the imported module or the class under test).</p>\n\n<p>The import needed to change from:</p>\n\n<pre><code>import {getJSON} from '../../../src/web/getJSON';\n</code></pre>\n\n<p>to:</p>\n\n<pre><code>import * as getJSON from '../../../src/web/getJSON';\n</code></pre>\n\n<p>And then I was able to directly specify the function for spying with:</p>\n\n<pre><code>const jsonSpy = jest.spyOn(getJSON, 'getJSON');\n</code></pre>\n\n<h2>Fixed test case</h2>\n\n<p>Here's how it all works together now.</p>\n\n<p><em>LandingPageManager.test.ts</em></p>\n\n<pre><code>import 'jest';\n// **** 1.) Changed the below line: ****\nimport * as getJSON from '../../../src/web/getJSON';\nimport {LandingPageManager} from '../../../src/web/LandingPageManager';\n\ndescribe('fetchData', () =&gt; {\n  let manager = new LandingPageManager();\n  it('passes the correct URL to getJSON', () =&gt; {\n    // **** 2.) Can now specify the method for direct mocking ****\n    const jsonSpy = jest.spyOn(getJSON, 'getJSON');\n\n    manager.fetchData('sampleValue');\n    expect(getJsonSpy).toHaveBeenCalledWith('sampleValue');\n\n    getJsonSpy.restoreAllMocks();\n  });\n});\n</code></pre>\n"}], "owner": {"reputation": 16730, "user_id": 101095, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/9e5c6cdbcebd9b26a264a97465f713ce?s=128&d=identicon&r=PG", "display_name": "Cuga", "link": "https://stackoverflow.com/users/101095/cuga"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4581, "favorite_count": 0, "accepted_answer_id": 54222649, "answer_count": 1, "score": 1, "last_activity_date": 1547805711, "creation_date": 1547659496, "last_edit_date": 1547805711, "question_id": 54222277, "link": "https://stackoverflow.com/questions/54222277/how-to-mock-a-directly-imported-function-using-jest", "title": "How to mock a directly-imported function using Jest?", "body": "<p>I'm trying to verify that my method is correctly invoking another, imported method.  For the life of me, I can't figure out how to mock the imported method using Jest.</p>\n\n<h2>Method I want to test</h2>\n\n<p><em>LandingPageManager.ts</em></p>\n\n<pre><code>import {getJSON} from './getJSON';\n\npublic fetchData(url: string) {\n    getJSON(url);\n}\n</code></pre>\n\n<h2>Method I want to mock</h2>\n\n<p><em>getJSON.ts</em></p>\n\n<pre><code>export function getJSON(url: string) {\n    // XHR requests logic \n}\n</code></pre>\n\n<h2>Test method</h2>\n\n<p><em>LandingPageManager.test.ts</em></p>\n\n<pre><code>import 'jest';\nimport {getJSON} from '../../../src/web/getJSON';\nimport {LandingPageManager} from '../../../src/web/LandingPageManager';\n\ndescribe('fetchData', () =&gt; {\n  let manager = new LandingPageManager();\n  it('passes the correct URL to getJSON', () =&gt; {\n    const getJsonSpy = jest.mock('../../../src/web/getJSON', jest.fn());\n\n    manager.fetchData('sampleValue');\n    expect(getJsonSpy).toHaveBeenCalledWith('sampleValue');\n\n    getJsonSpy.restoreAllMocks();\n  });\n});\n</code></pre>\n\n<h2>Error I'm getting</h2>\n\n<pre><code> jest.fn() value must be a mock function or spy\n</code></pre>\n\n<p>I've tried setting up the mock a variety of different ways.  But I can't seem to get the syntax right.  </p>\n\n<p>Can anyone help point me in the right direction?  I feel like this should be possible.</p>\n"}, {"tags": ["angular", "typescript", "ng-bootstrap"], "comments": [{"owner": {"reputation": 2918, "user_id": 3979823, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/azljt.png?s=128&g=1", "display_name": "ABOS", "link": "https://stackoverflow.com/users/3979823/abos"}, "edited": false, "score": 0, "creation_date": 1547659355, "post_id": 54222028, "comment_id": 95270298, "body": "try import it using <code>NgbModule.forRoot()</code>"}, {"owner": {"reputation": 51440, "user_id": 387194, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/dc10501a6e08f9efcb42bf7b434bf1b1?s=128&d=identicon&r=PG", "display_name": "jcubic", "link": "https://stackoverflow.com/users/387194/jcubic"}, "reply_to_user": {"reputation": 2918, "user_id": 3979823, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/azljt.png?s=128&g=1", "display_name": "ABOS", "link": "https://stackoverflow.com/users/3979823/abos"}, "edited": false, "score": 0, "creation_date": 1547659534, "post_id": 54222028, "comment_id": 95270384, "body": "@ABOS I&#39;ve tried and it don&#39;t work."}, {"owner": {"reputation": 2918, "user_id": 3979823, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/azljt.png?s=128&g=1", "display_name": "ABOS", "link": "https://stackoverflow.com/users/3979823/abos"}, "edited": false, "score": 0, "creation_date": 1547660016, "post_id": 54222028, "comment_id": 95270644, "body": "forRoot is for old version ng-bootstrap. sorry for the noise"}, {"owner": {"reputation": 57675, "user_id": 1009922, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/K0eeL.jpg?s=128&g=1", "display_name": "ConnorsFan", "link": "https://stackoverflow.com/users/1009922/connorsfan"}, "edited": false, "score": 0, "creation_date": 1547661317, "post_id": 54222028, "comment_id": 95271255, "body": "Can you reproduce the problem in a stackblitz?"}, {"owner": {"reputation": 28589, "user_id": 8558186, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8af66bb1af6d1875a2dd7be9dd1c8d2b?s=128&d=identicon&r=PG&f=1", "display_name": "Eliseo", "link": "https://stackoverflow.com/users/8558186/eliseo"}, "edited": false, "score": 0, "creation_date": 1547661515, "post_id": 54222028, "comment_id": 95271353, "body": "@jcubic, you must <b>NOT</b> have bootstrap, ONLY bootstrap.css. So remove &quot;bootstrap&quot;: &quot;^4.2.1&quot;, from your angular.json, and only add the bootstrap.css in styles tag of angular.json"}, {"owner": {"reputation": 51440, "user_id": 387194, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/dc10501a6e08f9efcb42bf7b434bf1b1?s=128&d=identicon&r=PG", "display_name": "jcubic", "link": "https://stackoverflow.com/users/387194/jcubic"}, "reply_to_user": {"reputation": 57675, "user_id": 1009922, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/K0eeL.jpg?s=128&g=1", "display_name": "ConnorsFan", "link": "https://stackoverflow.com/users/1009922/connorsfan"}, "edited": false, "score": 0, "creation_date": 1547661608, "post_id": 54222028, "comment_id": 95271408, "body": "@ConnorsFan is it possible to install pacakges from npm on stackblitz? I don&#39;t see an option."}, {"owner": {"reputation": 28589, "user_id": 8558186, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8af66bb1af6d1875a2dd7be9dd1c8d2b?s=128&d=identicon&r=PG&f=1", "display_name": "Eliseo", "link": "https://stackoverflow.com/users/8558186/eliseo"}, "edited": false, "score": 0, "creation_date": 1547661672, "post_id": 54222028, "comment_id": 95271448, "body": "@jCubic just expand the &quot;dependencies&quot; and add in the input"}, {"owner": {"reputation": 51440, "user_id": 387194, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/dc10501a6e08f9efcb42bf7b434bf1b1?s=128&d=identicon&r=PG", "display_name": "jcubic", "link": "https://stackoverflow.com/users/387194/jcubic"}, "reply_to_user": {"reputation": 28589, "user_id": 8558186, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8af66bb1af6d1875a2dd7be9dd1c8d2b?s=128&d=identicon&r=PG&f=1", "display_name": "Eliseo", "link": "https://stackoverflow.com/users/8558186/eliseo"}, "edited": false, "score": 0, "creation_date": 1547661674, "post_id": 54222028, "comment_id": 95271450, "body": "@Eliseo can you give more details? Also I don&#39;t think that boostrap have anything to do with this. JS of ng-booststrap should still work even without bootstrap.css."}, {"owner": {"reputation": 51440, "user_id": 387194, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/dc10501a6e08f9efcb42bf7b434bf1b1?s=128&d=identicon&r=PG", "display_name": "jcubic", "link": "https://stackoverflow.com/users/387194/jcubic"}, "reply_to_user": {"reputation": 28589, "user_id": 8558186, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8af66bb1af6d1875a2dd7be9dd1c8d2b?s=128&d=identicon&r=PG&f=1", "display_name": "Eliseo", "link": "https://stackoverflow.com/users/8558186/eliseo"}, "edited": false, "score": 0, "creation_date": 1547661872, "post_id": 54222028, "comment_id": 95271547, "body": "@Eliseo ` &quot;bootstrap&quot;: &quot;^4.2.1&quot;` is <code>package.json</code> file."}], "answers": [{"comments": [{"owner": {"reputation": 51440, "user_id": 387194, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/dc10501a6e08f9efcb42bf7b434bf1b1?s=128&d=identicon&r=PG", "display_name": "jcubic", "link": "https://stackoverflow.com/users/387194/jcubic"}, "edited": false, "score": 0, "creation_date": 1547669880, "post_id": 54223105, "comment_id": 95275245, "body": "That was it, thanks, would never figure that out on my own. Also props for finding that I&#39;ve used subModules this was my first look at the project and I&#39;ve didn&#39;t nice that, I&#39;ve only tried to add to Router Module."}], "tags": [], "owner": {"reputation": 2918, "user_id": 3979823, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/azljt.png?s=128&g=1", "display_name": "ABOS", "link": "https://stackoverflow.com/users/3979823/abos"}, "is_accepted": true, "score": 3, "last_activity_date": 1547669750, "last_edit_date": 1547669750, "creation_date": 1547662883, "answer_id": 54223105, "question_id": 54222028, "link": "https://stackoverflow.com/questions/54222028/angular-7-bootstrap-directives-dont-load/54223105#54223105", "title": "Angular 7 Bootstrap directives don&#39;t load", "body": "<p>If you have submodules you need to add <code>ng-bootstrap</code> also to that module. So in StudyModule, you have to import <code>ng-bootstrap</code> again and add it to <code>imports</code> array, </p>\n\n<pre><code>import { NgbModule } from '@ng-bootstrap/ng-bootstrap';\nimports:[ ..., NgbModule ],\n</code></pre>\n\n<p>angular is very strict on this.</p>\n"}], "owner": {"reputation": 51440, "user_id": 387194, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/dc10501a6e08f9efcb42bf7b434bf1b1?s=128&d=identicon&r=PG", "display_name": "jcubic", "link": "https://stackoverflow.com/users/387194/jcubic"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2247, "favorite_count": 0, "accepted_answer_id": 54223105, "answer_count": 1, "score": 3, "last_activity_date": 1547669750, "creation_date": 1547658491, "last_edit_date": 1547661899, "question_id": 54222028, "link": "https://stackoverflow.com/questions/54222028/angular-7-bootstrap-directives-dont-load", "title": "Angular 7 Bootstrap directives don&#39;t load", "body": "<p>I have this code:</p>\n\n<p>Component html:</p>\n\n<pre><code>&lt;td&gt;\n  &lt;div ngbDropdown class=\"d-inline-block\"&gt;\n    &lt;a ngbDropdownToggle&gt;\n      &lt;fa-icon [icon]=\"faEllipsis\"&gt;&lt;/fa-icon&gt;\n    &lt;/a&gt;\n    &lt;div ngbDropdownMenu aria-labelledby=\"dropdownBasic1\"&gt;\n      &lt;button class=\"dropdown-item\"&gt;Action - 1&lt;/button&gt;\n      &lt;button class=\"dropdown-item\"&gt;Another Action&lt;/button&gt;\n      &lt;button class=\"dropdown-item\"&gt;Something else is here&lt;/button&gt;\n    &lt;/div&gt;\n  &lt;/div&gt;\n&lt;/td&gt;\n</code></pre>\n\n<p>Component ts:</p>\n\n<pre><code>import { Component, Input, OnInit } from '@angular/core';\nimport { Group } from \"../../../common/models/Group\";\nimport { faEllipsisV } from '@fortawesome/free-solid-svg-icons';\n\n\n@Component({\n  selector: '[study-groups-row]',\n  templateUrl: './study-groups-row.component.html',\n  styleUrls: ['./study-groups-row.component.css']\n})\nexport class StudyGroupsRowComponent implements OnInit {\n  @Input() group: Group;\n  faEllipsis = faEllipsisV;\n\n  constructor() {\n  }\n\n  ngOnInit() {\n\n  }\n\n}\n</code></pre>\n\n<p>and this in my module:</p>\n\n<pre><code>@NgModule({\n  declarations: [\n    AppComponent,\n    StudyComponent,\n    PageNotFoundComponent,\n    CreateNewStudyComponent,\n    LoadingBackgroundComponent\n  ],\n  imports: [\n    BrowserModule,\n    FormsModule,\n    NgbModule,\n    HttpClientModule,\n    FontAwesomeModule,\n    AppRoutingModule,\n    StudyModule\n  ],\n  bootstrap: [AppComponent],\n  providers: [\n  ]\n})\nexport class AppModule {\n  constructor() {\n    library.add(faSpinner, faSave, faAngleDown);\n  }\n}\n</code></pre>\n\n<p>I have this in my package.json:</p>\n\n<pre><code> \"@angular/core\": \"~7.2.0\",\n \"bootstrap\": \"^4.2.1\",\n \"@ng-bootstrap/ng-bootstrap\": \"^4.0.1\",\n</code></pre>\n\n<p>It compiles without error and there are not errors in console but dropdown don't work? There are no bootstrap classes added? Should they be added dynamically by directives?</p>\n\n<p>I've added breakpoint in vendor.js in line:</p>\n\n<pre><code>var NgbDropdownMenu = /** @class */ (function () {\n    function NgbDropdownMenu(dropdown, _elementRef, _renderer) {\n</code></pre>\n\n<p>but it don't paused when I've refreshed the page. My angular.json have boostrap css and it's loaded.</p>\n\n<p>What I've missed? <a href=\"https://ng-bootstrap.github.io/#/getting-started\" rel=\"nofollow noreferrer\">Docs say that you only need add import into ngModule</a>.</p>\n\n<p><strong>EDIT</strong>: docs say that it support Angular 7.0.0 I was using 7.2. I've downgraded to 7.0 but it still don't work. I've tried to add first component from docs (Accordion) and got this error now (dropdown give no visible indication that it's running):</p>\n\n<pre><code>Uncaught Error: Template parse errors:\nThere is no directive with \"exportAs\" set to \"ngbAccordion\" (\"&lt;ngb-accordion [ERROR -&gt;]#acc=\"ngbAccordion\" activeIds=\"ngb-panel-0\"&gt;\n  &lt;ngb-panel title=\"Simple\"&gt;\n    &lt;ng-template ngbPanelCo\"): ng:///StudyModule/StudyGroupsComponent.html@0:15\n'ngb-panel' is not a known element:\n1. If 'ngb-panel' is an Angular component, then verify that it is part of this module.\n2. If 'ngb-panel' is a Web Component then add 'CUSTOM_ELEMENTS_SCHEMA' to the '@NgModule.schemas' of this component to suppress this message. (\"&lt;ngb-accordion #acc=\"ngbAccordion\" activeIds=\"ngb-panel-0\"&gt;\n  [ERROR -&gt;]&lt;ngb-panel title=\"Simple\"&gt;\n    &lt;ng-template ngbPanelContent&gt;\n      Anim pariatur cliche reprehenderit\"): ng:///StudyModule/StudyGroupsComponent.html@1:2\n'ngb-panel' is not a known element:\n1. If 'ngb-panel' is an Angular component, then verify that it is part of this module.\n2. If 'ngb-panel' is a Web Component then add 'CUSTOM_ELEMENTS_SCHEMA' to the '@NgModule.schemas' of this component to suppress this message. (\"\n    &lt;/ng-template&gt;\n  &lt;/ngb-panel&gt;\n  [ERROR -&gt;]&lt;ngb-panel&gt;\n    &lt;ng-template ngbPanelTitle&gt;\n      &lt;span&gt;&amp;#9733; &lt;b&gt;Fancy&lt;/b&gt; title &amp;#9733;&lt;/span&gt;\n\"): ng:///StudyModule/StudyGroupsComponent.html@11:2\n'ngb-accordion' is not a known element:\n1. If 'ngb-accordion' is an Angular component, then verify that it is part of this module.\n2. If 'ngb-accordion' is a Web Component then add 'CUSTOM_ELEMENTS_SCHEMA' to the '@NgModule.schemas' of this component to suppress this message. (\"[ERROR -&gt;]&lt;ngb-accordion #acc=\"ngbAccordion\" activeIds=\"ngb-panel-0\"&gt;\n  &lt;ngb-panel title=\"Simple\"&gt;\n    &lt;ng-temp\"): ng:///StudyModule/StudyGroupsComponent.html@0:0\n    at syntaxError (compiler.js:2547)\n    at TemplateParser.push../node_modules/@angular/compiler/fesm5/compiler.js.TemplateParser.parse (compiler.js:19495)\n    at JitCompiler.push../node_modules/@angular/compiler/fesm5/compiler.js.JitCompiler._parseTemplate (compiler.js:25041)\n    at JitCompiler.push../node_modules/@angular/compiler/fesm5/compiler.js.JitCompiler._compileTemplate (compiler.js:25028)\n    at compiler.js:24971\n    at Set.forEach (&lt;anonymous&gt;)\n    at JitCompiler.push../node_modules/@angular/compiler/fesm5/compiler.js.JitCompiler._compileComponents (compiler.js:24971)\n    at compiler.js:24881\n    at Object.then (compiler.js:2538)\n    at JitCompiler.push../node_modules/@angular/compiler/fesm5/compiler.js.JitCompiler._compileModuleAndComponents (compiler.js:24880)\n</code></pre>\n\n<p>Vendor.js have this code:</p>\n\n<pre><code>        NgbAccordion.decorators = [{\n            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__[\"Component\"],\n            args: [{\n                selector: 'ngb-accordion',\n                exportAs: 'ngbAccordion',\n                host: {\n                    'class': 'accordion',\n                    'role': 'tablist',\n                    '[attr.aria-multiselectable]': '!closeOtherPanels'\n                },\n                template: \"\\n    &lt;ng-template ngFor let-panel [ngForOf]=\\\"panels\\\"&gt;\\n      &lt;div class=\\\"card\\\"&gt;\\n        &lt;div role=\\\"tab\\\" id=\\\"{{panel.id}}-header\\\" [class]=\\\"'card-header ' + (panel.type ? 'bg-'+panel.type: type ? 'bg-'+type : '')\\\"&gt;\\n          &lt;h5 class=\\\"mb-0\\\"&gt;\\n            &lt;button type=\\\"button\\\" class=\\\"btn btn-link\\\"\\n              (click)=\\\"toggle(panel.id)\\\" [disabled]=\\\"panel.disabled\\\" [class.collapsed]=\\\"!panel.isOpen\\\"\\n              [attr.aria-expanded]=\\\"panel.isOpen\\\" [attr.aria-controls]=\\\"panel.id\\\"&gt;\\n              {{panel.title}}&lt;ng-template [ngTemplateOutlet]=\\\"panel.titleTpl?.templateRef\\\"&gt;&lt;/ng-template&gt;\\n            &lt;/button&gt;\\n          &lt;/h5&gt;\\n        &lt;/div&gt;\\n        &lt;div id=\\\"{{panel.id}}\\\" role=\\\"tabpanel\\\" [attr.aria-labelledby]=\\\"panel.id + '-header'\\\"\\n             class=\\\"collapse\\\" [class.show]=\\\"panel.isOpen\\\" *ngIf=\\\"!destroyOnHide || panel.isOpen\\\"&gt;\\n          &lt;div class=\\\"card-body\\\"&gt;\\n               &lt;ng-template [ngTemplateOutlet]=\\\"panel.contentTpl?.templateRef\\\"&gt;&lt;/ng-template&gt;\\n          &lt;/div&gt;\\n        &lt;/div&gt;\\n      &lt;/div&gt;\\n    &lt;/ng-template&gt;\\n  \"\n            }]\n        }];\n</code></pre>\n\n<p>NgbModule is added to main Module.</p>\n"}, {"tags": ["angular", "typescript"], "answers": [{"tags": [], "owner": {"reputation": 2587, "user_id": 8038345, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-icRMJ-ft0qg/AAAAAAAAAAI/AAAAAAAAABQ/WCFUJf0i-K0/photo.jpg?sz=128", "display_name": "Gustavo Lopes", "link": "https://stackoverflow.com/users/8038345/gustavo-lopes"}, "is_accepted": false, "score": 0, "last_activity_date": 1547666921, "creation_date": 1547666921, "answer_id": 54224013, "question_id": 54222013, "link": "https://stackoverflow.com/questions/54222013/how-can-i-check-if-an-image-link-have-width-and-height-more-than-1000-in-angular/54224013#54224013", "title": "How can i check if an image link have width and height more than 1000 in angular", "body": "<p>Your problem is that you're trying to get the image width of a empty image.</p>\n\n<p>When you do <code>this.img.src = linkAlvo</code>, the image starts loading, but it takes a while.</p>\n\n<p>You have to wait the image to load to verify its dimensions. The image element has a <code>load</code> event</p>\n\n<pre><code>img.onload = () =&gt; {\n    if(this.img.width &lt; 1000){\n        ....\n    }\n}\n</code></pre>\n\n<p>So your code should be like:</p>\n\n<pre><code>img = new Image();\n\nverificaImagemValida(fotoAlvo: number, linkAlvo: string){\n\n    img.onload = () =&gt; {\n\n        if(this.img.width &lt; 1000 || this.img.height &lt; 1000 || !this.img.src.match(/jpg/)){\n          this.toastrService.showToast(false,\"Ops, temos um problema\", \"Imagem \"+fotoAlvo+\" deve ter 1000x1000px no formato JPG!\");\n          if(fotoAlvo == 1){\n            this.produto.foto_prin_1 = null;\n          }\n        }\n\n    }\n\n    this.img.src = linkAlvo;\n\n}\n</code></pre>\n\n<p>The load event should be set before the image url, so you don't miss the loading event, in case it happens super fast, before defining the event.</p>\n\n<p>I couldn't test this snippet, so it may have a few changes, but this is the main part you were missing.</p>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user10916807"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 58, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1547666921, "creation_date": 1547658438, "question_id": 54222013, "link": "https://stackoverflow.com/questions/54222013/how-can-i-check-if-an-image-link-have-width-and-height-more-than-1000-in-angular", "title": "How can i check if an image link have width and height more than 1000 in angular", "body": "<p>I'm trying to make a function that after i paste one link in one input check if the image of this link have width and height more than 1000 and the format is JPG.</p>\n\n<p>I try to do this way:</p>\n\n<p><strong>HTML:</strong></p>\n\n<pre><code>&lt;input (change)=\"verificaImagemValida(1, produto.foto_prin_1)\" [(ngModel)]=\"produto.foto_prin_1\" required type=\"text\" name=\"foto_prin_1\" id=\"foto_prin_1\" class=\"form-control\"&gt;\n</code></pre>\n\n<p><strong>TS:</strong></p>\n\n<pre><code>img = new Image();\n\nverificaImagemValida(fotoAlvo: number, linkAlvo: string){\n\n    console.log(linkAlvo);\n\n    this.img.src = linkAlvo;\n\n        if(this.img.width &lt; 1000 || this.img.height &lt; 1000 || !this.img.src.match(/jpg/)){\n          this.toastrService.showToast(false,\"Ops, temos um problema\", \"Imagem \"+fotoAlvo+\" deve ter 1000x1000px no formato JPG!\");\n          if(fotoAlvo == 1){\n            this.produto.foto_prin_1 = null;\n          }\n        }\n</code></pre>\n\n<p>The first time that i paste the link that have a image with width e height more than 1000 and jpg the function shows the showToast function becausse the img.width and img.height have value 0. When i try to paste the same link in the input, this works properly. Why have wrong?</p>\n"}, {"tags": ["angular", "typescript", "angular6", "primeng", "angular-ngmodel"], "comments": [{"owner": {"reputation": 6020, "user_id": 7199668, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/e47d89b0ada41bf07a3d80b0002f0386?s=128&d=identicon&r=PG&f=1", "display_name": "mast3rd3mon", "link": "https://stackoverflow.com/users/7199668/mast3rd3mon"}, "edited": false, "score": 0, "creation_date": 1547658146, "post_id": 54221910, "comment_id": 95269659, "body": "you dont need the <code>value=&quot;{{userInfo.email}}&quot;</code> if you have the <code>[(ngModel)]</code>, also, have you declared <code>userInfo:string = &quot;&quot;;</code> in the component?"}], "answers": [{"tags": [], "owner": {"reputation": 183792, "user_id": 1749403, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/g0aFU.png?s=128&g=1", "display_name": "Sajeetharan", "link": "https://stackoverflow.com/users/1749403/sajeetharan"}, "is_accepted": true, "score": 3, "last_activity_date": 1547658363, "creation_date": 1547658363, "answer_id": 54221988, "question_id": 54221910, "link": "https://stackoverflow.com/questions/54221910/cannot-get-ngmodel-value-to-use-in-component-angular-6/54221988#54221988", "title": "cannot get [(ngModel)] value to use in component Angular 6", "body": "<p>Do not use value with ngModel, remove it first,</p>\n\n<pre><code>  &lt;input id=\"userInfoEmail\" type=\"text\" class=\"form-control\" [(ngModel)]=\"userInfo.email\" disabled&gt;\n</code></pre>\n\n<p>now you should be able to access the value in controller like,</p>\n\n<pre><code>console.log(this.userInfo.email);\n</code></pre>\n\n<p>whereas userInfo should be defiend at the top as,</p>\n\n<p><strong><code>userInfo: any = {};</code></strong> if you have a type change any with type</p>\n"}, {"tags": [], "owner": {"reputation": 235, "user_id": 7975982, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-9xt-7uu8Bo4/AAAAAAAAAAI/AAAAAAAAASk/-axGDC-CIuw/photo.jpg?sz=128", "display_name": "Muhammad Danish", "link": "https://stackoverflow.com/users/7975982/muhammad-danish"}, "is_accepted": false, "score": 0, "last_activity_date": 1560424500, "creation_date": 1560424500, "answer_id": 56579217, "question_id": 54221910, "link": "https://stackoverflow.com/questions/54221910/cannot-get-ngmodel-value-to-use-in-component-angular-6/56579217#56579217", "title": "cannot get [(ngModel)] value to use in component Angular 6", "body": "<p>you can also did that </p>\n\n<p>in ts file make a function </p>\n\n<pre><code>  get_coin_current_market_value(symbol){\nconsole.log('symbol is ',symbol);\n</code></pre>\n\n<p>}</p>\n\n<p>and in html</p>\n\n<pre><code> &lt;select class=\"form-control\" name=\"coin\" [(ngModel)]=\"symbol\" \n        (ngModelChange)=\"get_coin_current_market_value(symbol)\"&gt;\n        &lt;option *ngFor=\"let coin of allCoinsArray\"&gt;\n               {{ coin.symbol }}\n         &lt;/option&gt;\n &lt;/select&gt;\n</code></pre>\n"}], "owner": {"reputation": 287, "user_id": 9970857, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/MDRpM.jpg?s=128&g=1", "display_name": "hafizi hamid", "link": "https://stackoverflow.com/users/9970857/hafizi-hamid"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2785, "favorite_count": 0, "accepted_answer_id": 54221988, "answer_count": 2, "score": -1, "last_activity_date": 1560424500, "creation_date": 1547658058, "question_id": 54221910, "link": "https://stackoverflow.com/questions/54221910/cannot-get-ngmodel-value-to-use-in-component-angular-6", "title": "cannot get [(ngModel)] value to use in component Angular 6", "body": "<p>in html file, using ngModel which i want to get its value to use in my component</p>\n\n<p><strong>edit-customer.component.html</strong></p>\n\n<pre><code>  &lt;input id=\"userInfoEmail\" type=\"text\" class=\"form-control\" value=\"{{userInfo.email}}\" [(ngModel)]=\"userInfo.email\" disabled&gt;\n</code></pre>\n\n<p>since its two way binding, i had use it im my component as follows,</p>\n\n<p><strong>edit-customer.component.ts</strong></p>\n\n<pre><code>checkUserEmail(): void {\n    this.userInfo.email = this.userEmail;\n    this.customerService.checkEmail(this.userEmail).subscribe((res) =&gt; {\n        if (res.twoFactorEnabled === true) {\n            this.isButtonDisabled = false;\n        }\n        else {\n            this.isButtonDisabled = true;\n        }\n    })\n}\n</code></pre>\n\n<p>also I had declared <code>this.userEmail:string;</code>, but unfortunately got error 'undefined' on my console, I read that i need to initialize the object but cant figure it out, </p>\n"}, {"tags": ["typescript"], "answers": [{"comments": [{"owner": {"reputation": 5736, "user_id": 283181, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/8cda855dadc64aa1e2a984c0ddd1f381?s=128&d=identicon&r=PG", "display_name": "Pierre", "link": "https://stackoverflow.com/users/283181/pierre"}, "edited": false, "score": 0, "creation_date": 1547661622, "post_id": 54222267, "comment_id": 95271426, "body": "That is a great answer, thanks. I have one additional question though ; your proposal works as is. However, it fails whenever I try to replace <code>[K in keyof F]</code> by <code>[K in NonFunctionPropertyNames&lt;F&gt;]</code>, with <code>NonFunctionPropertyNames</code> defined as on the page <a href=\"https://www.typescriptlang.org/docs/handbook/advanced-types.html\" rel=\"nofollow noreferrer\">typescriptlang.org/docs/handbook/advanced-types.html</a>. The conditional test is only negative with that change. Would you have any idea why, by luck?"}, {"owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "reply_to_user": {"reputation": 5736, "user_id": 283181, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/8cda855dadc64aa1e2a984c0ddd1f381?s=128&d=identicon&r=PG", "display_name": "Pierre", "link": "https://stackoverflow.com/users/283181/pierre"}, "edited": false, "score": 1, "creation_date": 1547662536, "post_id": 54222267, "comment_id": 95271875, "body": "@Pierre added the code to make it work with filtering as well"}], "tags": [], "owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "is_accepted": true, "score": 1, "last_activity_date": 1547662514, "last_edit_date": 1547662514, "creation_date": 1547659448, "answer_id": 54222267, "question_id": 54221867, "link": "https://stackoverflow.com/questions/54221867/typescript-conditional-validation-depending-on-field-nullability/54222267#54222267", "title": "Typescript conditional validation depending on field nullability", "body": "<p>Using the types defined <a href=\"https://stackoverflow.com/questions/49579094/typescript-conditional-types-filter-out-readonly-properties-pick-only-requir/49579497#49579497\">here </a> as an example we can create a conditional type where if the field is required <code>field</code> type will be of type <code>{ required : true }</code> or <code>{}</code> otherwise:</p>\n\n<pre><code>type DomainDefinition&lt;F, M&gt; = {\n    fields?: {\n        [K in keyof F]: ({} extends { [P in K]: F[K] } ? {} : { required: true }) &amp; {} // Intersect with other properties as necessary\n    },\n    methods?: { [K in keyof M]: M[K] &amp; Function },\n}\n\ntype User = {\n    id: string,\n    name?: string\n}\n\nfunction createDomain&lt;T&gt;(o: DomainDefinition&lt;T, any&gt;) {\n    return o;\n}\n\nexport const User = createDomain&lt;User&gt;({\n    fields: {\n        id: { required: true },\n        name: {},\n    },\n});\n</code></pre>\n\n<p><strong>Note</strong> This will test for optionality (the <code>?</code> modifier) it will not test for nullability ( <code>| null | undefined</code>) depending on your use case this may or may not be important.</p>\n\n<p>Also of interest may be <a href=\"https://stackoverflow.com/questions/52443276/how-to-exclude-getter-only-properties-from-type-in-typescript/52473108#52473108\">this</a> answer that has a test for the <code>readonly</code> modifier. Using it, you can also add a <code>isReadonly</code> field:</p>\n\n<pre><code>type IfEquals&lt;X, Y, A, B&gt; =\n    (&lt;T&gt;() =&gt; T extends X ? 1 : 2) extends\n(&lt;T&gt;() =&gt; T extends Y ? 1 : 2) ? A : B;\n\ntype DomainDefinition&lt;F, M&gt; = {\n    fields?: {\n        [K in keyof F]:\n        ({} extends { [P in K]: F[P] } ? {} : { required: true })\n        &amp; IfEquals&lt;{ [P in K]: F[P] }, { -readonly [P in K]: F[P] }, {}, { isReadonly: true }&gt;\n    },\n    methods?: { [K in keyof M]: M[K] &amp; Function },\n}\n\ntype User = {\n    id: string,\n    readonly name?: string\n}\n\nfunction createDomain&lt;T&gt;(o: DomainDefinition&lt;T, any&gt;) {\n    return o;\n}\n\nexport const User = createDomain&lt;User&gt;({\n    fields: {\n        id: { required: true },\n        name: { isReadonly: true },\n    },\n});\n</code></pre>\n\n<p>If you want to filter out some properties, for example functions, you would have to replace all occurrences of <code>F</code> with a filtered <code>F</code>. To make it simpler just define an extra type alias:</p>\n\n<pre><code>type NonFunctionPropertyNames&lt;T&gt; = { [K in keyof T]: T[K] extends Function ? never : K }[keyof T];\ntype DomainPropertyHelper&lt;F&gt; = {\n  [K in keyof F]: ({} extends { [P in K]: F[K] } ? {} : { required: true }) &amp; {} // Intersect with other properties as necessary\n}; \ntype DomainDefinition&lt;F, M&gt; = {\n    fields?: DomainPropertyHelper&lt;Pick&lt;F, NonFunctionPropertyNames&lt;F&gt;&gt;&gt;,\n    methods?: { [K in keyof M]: M[K] &amp; Function },\n}\n</code></pre>\n"}], "owner": {"reputation": 5736, "user_id": 283181, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/8cda855dadc64aa1e2a984c0ddd1f381?s=128&d=identicon&r=PG", "display_name": "Pierre", "link": "https://stackoverflow.com/users/283181/pierre"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 654, "favorite_count": 0, "accepted_answer_id": 54222267, "answer_count": 1, "score": 0, "last_activity_date": 1547662514, "creation_date": 1547657906, "question_id": 54221867, "link": "https://stackoverflow.com/questions/54221867/typescript-conditional-validation-depending-on-field-nullability", "title": "Typescript conditional validation depending on field nullability", "body": "<p>I do have the following code:</p>\n\n<pre><code>type DomainFieldDefinition&lt;T&gt; = {\n  required?: boolean\n}\n\ntype DomainDefinition&lt;F, M&gt; = {\n  fields?: { [K in keyof F]: DomainFieldDefinition&lt;F[K]&gt; },\n  methods?: { [K in keyof M]: M[K] &amp; Function },\n}\n\ntype User = {\n  id: string,\n  name?: string\n}\n\nexport const User = createDomain&lt;User&gt;({\n  fields: {\n    id: { required: true },\n    name: {},\n  },\n});\n</code></pre>\n\n<p>I am trying to validate that the <code>required</code> key in the definition object passed to the <code>createDomain</code> method for a field has a value that matches the requiredness of the type it is based on (here, <code>User</code>) ; ideally at compile time.</p>\n\n<p>I have the sensation that conditional types may help in doing so, but I could not find a way to do so based on requiredness. Specifically, I'm trying to constrain <code>required</code> to be:</p>\n\n<ul>\n<li><code>true</code> if the field is not nullable,</li>\n<li><code>false</code> or undefined if it is</li>\n</ul>\n\n<p>Any hints?</p>\n"}, {"tags": ["javascript", "typescript"], "comments": [{"owner": {"reputation": 181, "user_id": 5353501, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5bcaac8835d7bc7bd89eb59d34805cd4?s=128&d=identicon&r=PG&f=1", "display_name": "samsonthehero", "link": "https://stackoverflow.com/users/5353501/samsonthehero"}, "edited": false, "score": 2, "creation_date": 1547658051, "post_id": 54221816, "comment_id": 95269597, "body": "Relevant github issue: <a href=\"https://github.com/Microsoft/TypeScript/issues/7576\" rel=\"nofollow noreferrer\">github.com/Microsoft/TypeScript/issues/7576</a>"}, {"owner": {"reputation": 638, "user_id": 1504196, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c18db55f2f3f68aa58678292fef4ffe5?s=128&d=identicon&r=PG&f=1", "display_name": "GreenTeaCake", "link": "https://stackoverflow.com/users/1504196/greenteacake"}, "edited": false, "score": 0, "creation_date": 1547658537, "post_id": 54221816, "comment_id": 95269858, "body": "Is <code>arr</code> variable typified?"}, {"owner": {"reputation": 2544, "user_id": 5701672, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/bc2f06639040535d6dcf69d6c04ae1a7?s=128&d=identicon&r=PG&f=1", "display_name": "Jonca33", "link": "https://stackoverflow.com/users/5701672/jonca33"}, "reply_to_user": {"reputation": 638, "user_id": 1504196, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c18db55f2f3f68aa58678292fef4ffe5?s=128&d=identicon&r=PG&f=1", "display_name": "GreenTeaCake", "link": "https://stackoverflow.com/users/1504196/greenteacake"}, "edited": false, "score": 0, "creation_date": 1547658584, "post_id": 54221816, "comment_id": 95269878, "body": "@grumbler_chester How so?"}, {"owner": {"reputation": 638, "user_id": 1504196, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c18db55f2f3f68aa58678292fef4ffe5?s=128&d=identicon&r=PG&f=1", "display_name": "GreenTeaCake", "link": "https://stackoverflow.com/users/1504196/greenteacake"}, "edited": false, "score": 0, "creation_date": 1547658717, "post_id": 54221816, "comment_id": 95269946, "body": "@Jonca33 Does it have some type annotation like:     type User {         name: string;         age: number;     }     const arr: User[] = ..."}, {"owner": {"reputation": 2544, "user_id": 5701672, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/bc2f06639040535d6dcf69d6c04ae1a7?s=128&d=identicon&r=PG&f=1", "display_name": "Jonca33", "link": "https://stackoverflow.com/users/5701672/jonca33"}, "reply_to_user": {"reputation": 638, "user_id": 1504196, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c18db55f2f3f68aa58678292fef4ffe5?s=128&d=identicon&r=PG&f=1", "display_name": "GreenTeaCake", "link": "https://stackoverflow.com/users/1504196/greenteacake"}, "edited": false, "score": 0, "creation_date": 1547658769, "post_id": 54221816, "comment_id": 95269966, "body": "@grumbler_chester I didn&#39;t add any types to <code>arr</code>. Suggestions?"}, {"owner": {"reputation": 638, "user_id": 1504196, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c18db55f2f3f68aa58678292fef4ffe5?s=128&d=identicon&r=PG&f=1", "display_name": "GreenTeaCake", "link": "https://stackoverflow.com/users/1504196/greenteacake"}, "edited": false, "score": 0, "creation_date": 1547658942, "post_id": 54221816, "comment_id": 95270073, "body": "@Jonca33 I suppose TS can infer type of destructed fields if array for mapping (<code>arr</code>) is typified."}, {"owner": {"reputation": 2544, "user_id": 5701672, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/bc2f06639040535d6dcf69d6c04ae1a7?s=128&d=identicon&r=PG&f=1", "display_name": "Jonca33", "link": "https://stackoverflow.com/users/5701672/jonca33"}, "reply_to_user": {"reputation": 638, "user_id": 1504196, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c18db55f2f3f68aa58678292fef4ffe5?s=128&d=identicon&r=PG&f=1", "display_name": "GreenTeaCake", "link": "https://stackoverflow.com/users/1504196/greenteacake"}, "edited": false, "score": 0, "creation_date": 1547659047, "post_id": 54221816, "comment_id": 95270129, "body": "@grumbler_chester cld you pls post an answer with what you have in mind?"}], "answers": [{"tags": [], "owner": {"reputation": 4336, "user_id": 787796, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0d25e7ddda1b06661b915c8b5fd4188f?s=128&d=identicon&r=PG", "display_name": "Tim Wickstrom", "link": "https://stackoverflow.com/users/787796/tim-wickstrom"}, "is_accepted": true, "score": 2, "last_activity_date": 1547658598, "creation_date": 1547658598, "answer_id": 54222058, "question_id": 54221816, "link": "https://stackoverflow.com/questions/54221816/types-for-array-destructuring/54222058#54222058", "title": "Types for Array Destructuring", "body": "<p>If you would like to maintain strict type checking you could define your models.</p>\n\n<p>File Architecture example.</p>\n\n<pre><code>/src\n  /models\n    Person.js\n</code></pre>\n\n<p>Person.js</p>\n\n<pre><code>export default {\n  name: string,\n  age: number\n}\n</code></pre>\n\n<p>In your file </p>\n\n<p>Import Person from './models/Person.js' // Path to Person.js</p>\n\n<pre><code>const newArr = arr.map(({name, age}:Person) =&gt; `${name} ${age}`)\n</code></pre>\n\n<p>Alternatively, if you do not require strict type checking and would like to suppress the warning this should work:</p>\n\n<p>In your tsconfig.json (<a href=\"https://www.typescriptlang.org/docs/handbook/tsconfig-json.html\" rel=\"nofollow noreferrer\">https://www.typescriptlang.org/docs/handbook/tsconfig-json.html</a>) you can add the following:</p>\n\n<p>from</p>\n\n<pre><code>\"noImplicitAny\": false,\n</code></pre>\n\n<p>to</p>\n\n<pre><code>\"noImplicitAny\": true,\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 638, "user_id": 1504196, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c18db55f2f3f68aa58678292fef4ffe5?s=128&d=identicon&r=PG&f=1", "display_name": "GreenTeaCake", "link": "https://stackoverflow.com/users/1504196/greenteacake"}, "reply_to_user": {"reputation": 2544, "user_id": 5701672, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/bc2f06639040535d6dcf69d6c04ae1a7?s=128&d=identicon&r=PG&f=1", "display_name": "Jonca33", "link": "https://stackoverflow.com/users/5701672/jonca33"}, "edited": false, "score": 0, "creation_date": 1547660047, "post_id": 54222292, "comment_id": 95270660, "body": "@Jonca33 I cannot provide you exact answer without the code but in general usual reason for such error is a collision when TS loses/cannot infer type of <code>arr</code> somewhere &quot;above&quot;."}, {"owner": {"reputation": 2544, "user_id": 5701672, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/bc2f06639040535d6dcf69d6c04ae1a7?s=128&d=identicon&r=PG&f=1", "display_name": "Jonca33", "link": "https://stackoverflow.com/users/5701672/jonca33"}, "edited": false, "score": 0, "creation_date": 1547660287, "post_id": 54222292, "comment_id": 95270776, "body": "indeed, I appreciate your insight, that lead me to a solution, please see my updated question."}], "tags": [], "owner": {"reputation": 638, "user_id": 1504196, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c18db55f2f3f68aa58678292fef4ffe5?s=128&d=identicon&r=PG&f=1", "display_name": "GreenTeaCake", "link": "https://stackoverflow.com/users/1504196/greenteacake"}, "is_accepted": false, "score": 1, "last_activity_date": 1547659555, "creation_date": 1547659555, "answer_id": 54222292, "question_id": 54221816, "link": "https://stackoverflow.com/questions/54221816/types-for-array-destructuring/54222292#54222292", "title": "Types for Array Destructuring", "body": "<p>You can add type annotation to your <code>arr</code> variable and TS will infer type of destructed fields.</p>\n\n<p>Please see <a href=\"https://www.typescriptlang.org/play/#src=type%20Person%20%3D%20%7B%0D%0A%20%20%20%20name%3A%20string%3B%0D%0A%20%20%20%20age%3A%20number%3B%0D%0A%7D%0D%0A%0D%0Aconst%20arr0%20%3D%20%5B%5D%3B%0D%0Aconst%20arr1%3A%20Person%5B%5D%20%3D%20%5B%5D%3B%0D%0A%0D%0Aconst%20newArr0%20%3D%20arr0.map((%7B%20name%2C%20age%20%7D)%20%3D%3E%20%60%24%7Bname%7D%20%24%7Bage%7D%60)%3B%0D%0Aconst%20newArr1%20%3D%20arr1.map((%7B%20name%2C%20age%20%7D)%20%3D%3E%20%60%24%7Bname%7D%20%24%7Bage%7D%60)%3B\" rel=\"nofollow noreferrer\">example in playground</a> (note <code>noImplicitAny</code> is <code>true</code> in options, error for <code>arr0</code> mapping and no error for <code>arr1</code> mapping)</p>\n\n<p>And please check <a href=\"https://www.typescriptlang.org/docs/handbook/type-inference.html\" rel=\"nofollow noreferrer\">Type Inference</a> for theory behind example.</p>\n"}], "owner": {"reputation": 2544, "user_id": 5701672, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/bc2f06639040535d6dcf69d6c04ae1a7?s=128&d=identicon&r=PG&f=1", "display_name": "Jonca33", "link": "https://stackoverflow.com/users/5701672/jonca33"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 188, "favorite_count": 0, "accepted_answer_id": 54222058, "answer_count": 2, "score": 3, "last_activity_date": 1547660133, "creation_date": 1547657723, "last_edit_date": 1547660133, "question_id": 54221816, "link": "https://stackoverflow.com/questions/54221816/types-for-array-destructuring", "title": "Types for Array Destructuring", "body": "<p>I'm mapping through an array and using destructuring.</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>const newArr = arr.map(({name, age}) =&gt; `${name} ${age}`)\n</code></pre>\n\n<p>The above errors as: <strong><em>Binding element 'name' implicitly has an 'any' type</em></strong></p>\n\n<p>Error goes away by adding:\n</p>\n\n<pre><code>const newArr = arr.map(({name, age}: { name: string; age: number }) =&gt; `${name} ${age}`)\n</code></pre>\n\n<p><strong>The question is:</strong> Could I go about this with a more terse syntax and/or apply the needed types via an interface?</p>\n\n<hr>\n\n<p><strong>UPDATE:</strong> As a combination from the comments below and the suggestions by @grumbler_chester and @TimWickstrom</p>\n\n<p>This was the more terse way I found to shorten my syntax:</p>\n\n<p><em>Solution:</em></p>\n\n<pre class=\"lang-js prettyprint-override\"><code>// User.tsx\ninterface User {\n  name: string \n  age: number\n}\n\nconst newArr = arr.map(({name, age}: User) =&gt; `${name} ${age}`)\n</code></pre>\n"}, {"tags": ["angular", "typescript", "angular7"], "answers": [{"comments": [{"owner": {"reputation": 71, "user_id": 10829487, "user_type": "registered", "profile_image": "https://graph.facebook.com/2034687549900499/picture?type=large", "display_name": "Imran Ali", "link": "https://stackoverflow.com/users/10829487/imran-ali"}, "edited": false, "score": 0, "creation_date": 1547657974, "post_id": 54221802, "comment_id": 95269553, "body": "it say cannot find name &quot;token&quot;"}, {"owner": {"reputation": 71, "user_id": 10829487, "user_type": "registered", "profile_image": "https://graph.facebook.com/2034687549900499/picture?type=large", "display_name": "Imran Ali", "link": "https://stackoverflow.com/users/10829487/imran-ali"}, "edited": false, "score": 0, "creation_date": 1547658665, "post_id": 54221802, "comment_id": 95269914, "body": ".map((token: string )=&gt; this.saveToken(token));"}], "tags": [], "owner": {"reputation": 7685, "user_id": 8718377, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kGFwM.png?s=128&g=1", "display_name": "veben", "link": "https://stackoverflow.com/users/8718377/veben"}, "is_accepted": true, "score": 0, "last_activity_date": 1547658680, "last_edit_date": 1547658680, "creation_date": 1547657676, "answer_id": 54221802, "question_id": 54221708, "link": "https://stackoverflow.com/questions/54221708/argument-of-type-object-is-not-assignable-to-parameter-of-type-string/54221802#54221802", "title": "Argument of type &#39;Object&#39; is not assignable to parameter of type &#39;string&#39;", "body": "<p>As the error say, you assign <code>Object</code> to <code>string</code>.</p>\n\n<p>Try to replace your code like that:</p>\n\n<pre><code>public login(userData: any): Observable&lt;string&gt; {\n    return this.http\n      .post(\"/api/users/login\", userData)\n      .map((token: string) =&gt; this.saveToken(token));\n}\n\n\nprivate saveToken(token: string): string {\n    localStorage.setItem(\"car_auth\", token);\n    return token;\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 71, "user_id": 10829487, "user_type": "registered", "profile_image": "https://graph.facebook.com/2034687549900499/picture?type=large", "display_name": "Imran Ali", "link": "https://stackoverflow.com/users/10829487/imran-ali"}, "edited": false, "score": 0, "creation_date": 1547658126, "post_id": 54221804, "comment_id": 95269645, "body": "it say cannot find name &quot;token&quot;"}, {"owner": {"reputation": 71, "user_id": 10829487, "user_type": "registered", "profile_image": "https://graph.facebook.com/2034687549900499/picture?type=large", "display_name": "Imran Ali", "link": "https://stackoverflow.com/users/10829487/imran-ali"}, "edited": false, "score": 0, "creation_date": 1547658628, "post_id": 54221804, "comment_id": 95269895, "body": "its work thanks first i create typo mistake thanks alot"}], "tags": [], "owner": {"reputation": 1320, "user_id": 6196099, "user_type": "registered", "accept_rate": 50, "profile_image": "https://lh4.googleusercontent.com/-45hNp81idDE/AAAAAAAAAAI/AAAAAAAAAB4/OLaZOd7rtF0/photo.jpg?sz=128", "display_name": "Florian", "link": "https://stackoverflow.com/users/6196099/florian"}, "is_accepted": false, "score": 0, "last_activity_date": 1547658162, "last_edit_date": 1547658162, "creation_date": 1547657684, "answer_id": 54221804, "question_id": 54221708, "link": "https://stackoverflow.com/questions/54221708/argument-of-type-object-is-not-assignable-to-parameter-of-type-string/54221804#54221804", "title": "Argument of type &#39;Object&#39; is not assignable to parameter of type &#39;string&#39;", "body": "<p>Transcompiler needs a hint of what your  <code>http.post</code> returns because you typed the argument of <code>saveToken</code>. Transcompiler wants to make sure you're passing a string.</p>\n\n<p>add explicit type : </p>\n\n<pre><code>public login(userData: any) {\n  return this.http\n    .post(\"/api/users/login\", userData)\n    .map((token: string) =&gt; this.saveToken(token));\n}\n</code></pre>\n"}], "owner": {"reputation": 71, "user_id": 10829487, "user_type": "registered", "profile_image": "https://graph.facebook.com/2034687549900499/picture?type=large", "display_name": "Imran Ali", "link": "https://stackoverflow.com/users/10829487/imran-ali"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 6311, "favorite_count": 1, "accepted_answer_id": 54221802, "answer_count": 2, "score": 0, "last_activity_date": 1547663505, "creation_date": 1547657358, "last_edit_date": 1547663505, "question_id": 54221708, "link": "https://stackoverflow.com/questions/54221708/argument-of-type-object-is-not-assignable-to-parameter-of-type-string", "title": "Argument of type &#39;Object&#39; is not assignable to parameter of type &#39;string&#39;", "body": "<p>My application works fine but I have the following error:</p>\n\n<blockquote>\n  <p>Argument of type 'Object' is not assignable to parameter of type\n  'string')</p>\n</blockquote>\n\n<p>Below my code:</p>\n\n<pre><code>public login(userData: any): Observable&lt;any&gt; {\n    return this.http\n      .post(\"/api/users/login\", userData)\n      .map(token =&gt; this.saveToken(token));\n}\n\n\nprivate saveToken(token: string): string {\n    localStorage.setItem(\"car_auth\", token);\n    return token;\n}\n</code></pre>\n"}, {"tags": ["reactjs", "typescript", "react-router", "react-router-v4"], "answers": [{"tags": [], "owner": {"reputation": 1361, "user_id": 5073189, "user_type": "registered", "accept_rate": 27, "profile_image": "https://www.gravatar.com/avatar/783103cd0c5602484616eb286aa4871b?s=128&d=identicon&r=PG&f=1", "display_name": "James Morrison", "link": "https://stackoverflow.com/users/5073189/james-morrison"}, "is_accepted": true, "score": 1, "last_activity_date": 1570202074, "last_edit_date": 1570202074, "creation_date": 1547722299, "answer_id": 54234281, "question_id": 54221448, "link": "https://stackoverflow.com/questions/54221448/unit-testing-react-stateless-component-wrapped-with-withrouter-in-enzyme-how/54234281#54234281", "title": "Unit testing React stateless component wrapped with withRouter() in Enzyme, how to pass match parameter", "body": "<p>OK so there doesn't seem to be any way to pass match as a parameter but I've found a pretty elegant solution. The reason match is empty on the component is because it's being directly rendered, it hasn't matched with anything. I've wrapped the component in a route that matches the <code>initialEntries</code> prop on <code>MemoryRouter</code> as below.</p>\n\n<pre><code>var routerWrappedComponent= Enzyme.mount(&lt;MemoryRouter initialEntries={[`/studio/00000000-0000-0000-0000-000000000000/manage/11111111-0000-0000-0000-000000000000`]}&gt;\n       &lt;Route path={`/studio/:customerId/:page/:serviceId`} component={() =&gt;  \n    &lt;RouterWrappedComponent closeModalFunction={() =&gt; { }} closeModalLinkPath={\"\"} /&gt;\n&lt;/MemoryRouter&gt;);\n</code></pre>\n\n<p>and presto, match is filled</p>\n\n<pre><code>match: { path: '/studio/:customerId/:page/:serviceId',\n    url: '/studio/00000000-0000-0000-0000-000000000000/manage/11111111-0000-0000-0000-000000000000',\n    isExact: true,\n    params:\n     { customerId: '00000000-0000-0000-0000-000000000000',\n       page: 'manage',\n       serviceId: '11111111-0000-0000-0000-000000000000' } }\n</code></pre>\n"}], "owner": {"reputation": 1361, "user_id": 5073189, "user_type": "registered", "accept_rate": 27, "profile_image": "https://www.gravatar.com/avatar/783103cd0c5602484616eb286aa4871b?s=128&d=identicon&r=PG&f=1", "display_name": "James Morrison", "link": "https://stackoverflow.com/users/5073189/james-morrison"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1323, "favorite_count": 0, "accepted_answer_id": 54234281, "answer_count": 1, "score": 2, "last_activity_date": 1570202074, "creation_date": 1547656449, "last_edit_date": 1547656904, "question_id": 54221448, "link": "https://stackoverflow.com/questions/54221448/unit-testing-react-stateless-component-wrapped-with-withrouter-in-enzyme-how", "title": "Unit testing React stateless component wrapped with withRouter() in Enzyme, how to pass match parameter", "body": "<p>I'm trying to test a React functional component that I've wrapped in withRouter from react-router-dom. The component structure is as below.</p>\n\n<pre><code>import * as React from 'react';\nimport { Switch, Route, withRouter, RouteComponentProps } from 'react-router-dom';\n\n\nexport interface Props extends RouteComponentProps {\n    closeModalLinkPath: string;\n    closeModalFunction: any;\n}\n\nconst RouterWrappedComponent= withRouter(({ match, history, closeModalLinkPath, closeModalFunction }: Props) =&gt; {\n\nreturn (&lt;div&gt;&lt;/div)\n    }\n});\n\nexport default RouterWrappedComponent;\n</code></pre>\n\n<p>This structure works perfectly in the browser, however I am having difficulty writing unit tests. Due to the nature of the component I need an accurate match object but I can't find any way of passing this through on generation.</p>\n\n<pre><code>var routerWrappedComponent= Enzyme.mount(&lt;MemoryRouter initialEntries={[`/studio/00000000-0000-0000-0000-000000000000/manage`]}&gt;\n    &lt;RouterWrappedComponent closeModalFunction={() =&gt; { }} closeModalLinkPath={`/studio/00000000-0000-0000-0000-000000000000`} /&gt;\n&lt;/MemoryRouter&gt;);\n</code></pre>\n\n<p>Despite the component's props inheriting from <code>RouteComponentProps</code> I can't add this to the components props and I can't find any variation of <code>MemoryRouter</code> that will let me pass match in through props, can anyone help?</p>\n\n<p>EDIT: The withRouter wrapping came from <a href=\"https://stackoverflow.com/questions/45244413/passing-props-to-a-react-component-wrapped-in-withrouter-function\" >here</a></p>\n"}, {"tags": ["typescript", "inheritance"], "comments": [{"owner": {"reputation": 2531, "user_id": 4515408, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cRFDi.png?s=128&g=1", "display_name": "Shane", "link": "https://stackoverflow.com/users/4515408/shane"}, "edited": false, "score": 2, "creation_date": 1547655080, "post_id": 54220963, "comment_id": 95267878, "body": "The <code>as</code> keyword is just for the compiler to understand the <i>alleged</i> type. It does not transform from A to B."}, {"owner": {"reputation": 1471, "user_id": 7152435, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a9906a6518ec618da986b2f299327571?s=128&d=identicon&r=PG&f=1", "display_name": "Alexis Facques", "link": "https://stackoverflow.com/users/7152435/alexis-facques"}, "edited": false, "score": 0, "creation_date": 1547655461, "post_id": 54220963, "comment_id": 95268094, "body": "In TS, <code>as</code> and <code>&lt;&gt;</code> should never have been referred to as &quot;Casting&quot; (as you&#39;re trying to do) in the first place, but &quot;Type assertors&quot;. These do not exist in the runtime, and are only a way for you to provide hints to the compiler on how you want your code to be analyzed."}], "answers": [{"tags": [], "owner": {"reputation": 13, "user_id": 13540102, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/42510678dcc0adc46026acfd2f61125e?s=128&d=identicon&r=PG&f=1", "display_name": "Cem Demirkartal", "link": "https://stackoverflow.com/users/13540102/cem-demirkartal"}, "is_accepted": false, "score": 0, "last_activity_date": 1602749276, "creation_date": 1602749276, "answer_id": 64367347, "question_id": 54220963, "link": "https://stackoverflow.com/questions/54220963/typescript-sub-class-function-that-calls-super-returns-parent-class-type/64367347#64367347", "title": "Typescript - Sub class function that calls super returns parent class type", "body": "<p>You should use &quot;new this.constructor()&quot; for this kind of polymorphism. And return type as &quot;this&quot; for TypeScript. After this, you do not need to override the method.</p>\n"}], "owner": {"reputation": 263, "user_id": 4208955, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/b322f63cffea1fd8be9390d72bf6149a?s=128&d=identicon&r=PG&f=1", "display_name": "DAnsermino", "link": "https://stackoverflow.com/users/4208955/dansermino"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 314, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1602749276, "creation_date": 1547654667, "question_id": 54220963, "link": "https://stackoverflow.com/questions/54220963/typescript-sub-class-function-that-calls-super-returns-parent-class-type", "title": "Typescript - Sub class function that calls super returns parent class type", "body": "<p>I am confused by the inheritance scheme in typescript. I seem to be unable to return the child type when making a call to super. Can someone explain why this example does not return the child type? What is the effect of <code>as</code>? Is there a way to achieve this behavior?</p>\n\n<pre><code>class Parent {\n    _value: number\n    constructor(value: number){\n        this._value = value\n    }\n    add(x: Parent): Parent {\n        return new Parent(x._value + this._value)\n    }\n}\n\nclass Child extends Parent {\n    constructor(value: number) {\n        super(value)\n    }\n    add(x: Child): Child {\n        return super.add(x) as Child\n    }\n}\n\nlet a = new Child(10)\nlet b = new Child(5)\nlet c = a.add(b)\n\nconsole.log(a)\nconsole.log(b)\nconsole.log(c)\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>Child { _value: 10 }\nChild { _value: 5 }\nParent { _value: 15 }\n</code></pre>\n"}, {"tags": ["typescript", "enums"], "comments": [{"owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "edited": false, "score": 0, "creation_date": 1547655200, "post_id": 54220914, "comment_id": 95267939, "body": "What version of typescript are you using... I&#39;m not really seeing the errors in the playground .."}, {"owner": {"reputation": 1, "user_id": 10923335, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-P87q-_Ox10k/AAAAAAAAAAI/AAAAAAAAO6c/Mjvrh9pZ9-8/photo.jpg?sz=128", "display_name": "Harry de Kroon", "link": "https://stackoverflow.com/users/10923335/harry-de-kroon"}, "reply_to_user": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "edited": false, "score": 1, "creation_date": 1547657758, "post_id": 54220914, "comment_id": 95269436, "body": "Thank you very much! I thought it was 3.2, but my Eclipse was set to use it&#39;s internal compiler, which is 2.x"}], "answers": [{"tags": [], "owner": {"reputation": 1, "user_id": 10923335, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-P87q-_Ox10k/AAAAAAAAAAI/AAAAAAAAO6c/Mjvrh9pZ9-8/photo.jpg?sz=128", "display_name": "Harry de Kroon", "link": "https://stackoverflow.com/users/10923335/harry-de-kroon"}, "is_accepted": false, "score": 0, "last_activity_date": 1547659505, "creation_date": 1547659505, "answer_id": 54222279, "question_id": 54220914, "link": "https://stackoverflow.com/questions/54220914/how-tot-use-an-enum-member-as-index-for-a-records-o-type/54222279#54222279", "title": "How tot use an Enum member as index for a Record&lt;S,O&gt; type?", "body": "<p>As Titian Cernicova pointed out, I was just using an older Typescript compiler. Eclipse allows you to use a project-specific compiler, but I neglected to adjust the project configuration.</p>\n"}], "owner": {"reputation": 1, "user_id": 10923335, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-P87q-_Ox10k/AAAAAAAAAAI/AAAAAAAAO6c/Mjvrh9pZ9-8/photo.jpg?sz=128", "display_name": "Harry de Kroon", "link": "https://stackoverflow.com/users/10923335/harry-de-kroon"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 68, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1547659505, "creation_date": 1547654472, "question_id": 54220914, "link": "https://stackoverflow.com/questions/54220914/how-tot-use-an-enum-member-as-index-for-a-records-o-type", "title": "How tot use an Enum member as index for a Record&lt;S,O&gt; type?", "body": "<p>For a library I want to allow the user to modify it's config by means of some presets. My idea is to provide an Enum with all possible presets exported with the select function.</p>\n\n<p>Unfortunately, I could not get it completely as I had in mind, due to some weird behavior of the type checker.</p>\n\n<p>The code below does provide the presets and the select method, but it requires an \"illegal\" preset. When I remove it (a.1), the type checker complains that my Presets does not have an index property. Alternatively, one can keep that illegal preset in the enum, but that requires also that the Presets const has a property added with the enum value as key. </p>\n\n<p>Another issue is that I cannot use the enum to create the Presets const itself. When I uncomment (b.2) all remains valid and function, but when I then comment (b.1) the type checker compains that the type of the literal is not compatible (b.3)</p>\n\n<p>What do I do wrong?</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>export enum Preset\n{\n    EASY = 'one',\n    DEFAULT = 'two',\n    HARD = 'three',\n    IMPOSSIBLE = 'do_not_use' // (a.1)\n}\n\ntype Config = Record&lt;'a' | 'b', number&gt;\ntype PresetNames = Preset.DEFAULT | Preset.EASY | Preset.HARD\ntype ConfigByPreset = Record&lt;PresetNames, Config&gt;\n\n/* (b.3)\n * [ts] Type '{ [x: string]: { a: number; b: number; }; one: { a: number; b: number; }; two: { a: number; b: nu...' \n * is not assignable to type 'Record&lt;PresetNames, Record&lt;\"a\" | \"b\", number&gt;&gt;'.\n * Property 'three' is missing in type '{ [x: string]: { a: number; b: number; }; one: { a: number; b: number; }; \n * two: { a: number; b: nu...'.\n */\nconst Presets: ConfigByPreset = {\n    one: { a: 1, b: 101 },\n    two: { a: 2, b: 201 },\n    ['three']: { a: 3, b: 301 },        // (b.1)\n    // [Preset.HARD]: { a: 4, b: 301 }, // (b.2)\n}\n\nconst defaultConfig = Presets[Preset.DEFAULT]\n\nexport function selectPreset( preset: PresetNames ) \n{\n    // (a.2) [ts] Element implicitly has an 'any' type because type 'Record&lt;Preset, Record&lt;\"a\" | \"b\", number&gt;&gt;' has no index signature.\n    const selectedConfig = Presets[preset]\n    const otherConfig = Presets['three']\n\n    console.log( 'config = ', selectedConfig, otherConfig, defaultConfig )\n}\n\nselectPreset( Preset.EASY )\n\n</code></pre>\n"}, {"tags": ["angular", "typescript"], "comments": [{"owner": {"reputation": 12931, "user_id": 1472222, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/b0970aeafe38e05589964ef6ec1ec3b4?s=128&d=identicon&r=PG", "display_name": "theMayer", "link": "https://stackoverflow.com/users/1472222/themayer"}, "edited": false, "score": 0, "creation_date": 1547654151, "post_id": 54220792, "comment_id": 95267315, "body": "I think the issue is probably in your service class, which we would need the code for. Also, what does the debugger show you\u2019re getting back?"}, {"owner": {"reputation": 5392, "user_id": 4705426, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/Ebo0b.jpg?s=128&g=1", "display_name": "Elias Garcia", "link": "https://stackoverflow.com/users/4705426/elias-garcia"}, "edited": false, "score": 0, "creation_date": 1547654395, "post_id": 54220792, "comment_id": 95267480, "body": "Is the <code>user</code> result on the subscribe function actually an instance of the <code>User</code> class?"}, {"owner": {"reputation": 2256, "user_id": 4870785, "user_type": "registered", "accept_rate": 67, "profile_image": "https://lh5.googleusercontent.com/-ltjqt7eh40M/AAAAAAAAAAI/AAAAAAAAAEk/A684PsNrkAI/photo.jpg?sz=128", "display_name": "Kapcash", "link": "https://stackoverflow.com/users/4870785/kapcash"}, "reply_to_user": {"reputation": 12931, "user_id": 1472222, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/b0970aeafe38e05589964ef6ec1ec3b4?s=128&d=identicon&r=PG", "display_name": "theMayer", "link": "https://stackoverflow.com/users/1472222/themayer"}, "edited": false, "score": 0, "creation_date": 1547654420, "post_id": 54220792, "comment_id": 95267493, "body": "As @theMayer said, I think we will need the <code>getUser()</code> code to understand the error."}, {"owner": {"reputation": 1320, "user_id": 6196099, "user_type": "registered", "accept_rate": 50, "profile_image": "https://lh4.googleusercontent.com/-45hNp81idDE/AAAAAAAAAAI/AAAAAAAAAB4/OLaZOd7rtF0/photo.jpg?sz=128", "display_name": "Florian", "link": "https://stackoverflow.com/users/6196099/florian"}, "edited": false, "score": 0, "creation_date": 1547655367, "post_id": 54220792, "comment_id": 95268026, "body": "You&#39;re not creating an instance of User here ? You could use <code>map</code>"}], "answers": [{"comments": [{"owner": {"reputation": 12931, "user_id": 1472222, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/b0970aeafe38e05589964ef6ec1ec3b4?s=128&d=identicon&r=PG", "display_name": "theMayer", "link": "https://stackoverflow.com/users/1472222/themayer"}, "edited": false, "score": 0, "creation_date": 1547673026, "post_id": 54221118, "comment_id": 95276662, "body": "But this completely defeats the purpose of having a class in the first place, at least so far as TypeScript is concerned."}, {"owner": {"reputation": 3804, "user_id": 1205647, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/7b03ae8795066ff29f8da0860b6411b5?s=128&d=identicon&r=PG", "display_name": "Aragorn", "link": "https://stackoverflow.com/users/1205647/aragorn"}, "reply_to_user": {"reputation": 12931, "user_id": 1472222, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/b0970aeafe38e05589964ef6ec1ec3b4?s=128&d=identicon&r=PG", "display_name": "theMayer", "link": "https://stackoverflow.com/users/1472222/themayer"}, "edited": false, "score": 0, "creation_date": 1547736884, "post_id": 54221118, "comment_id": 95301570, "body": "@theMayer you are right in a way, if you read at MDN, JavaScript classes are not really classes, its just a syntax improvement over the old Prototype based inheritance. Added the link to answer, explore more. Thx"}, {"owner": {"reputation": 12931, "user_id": 1472222, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/b0970aeafe38e05589964ef6ec1ec3b4?s=128&d=identicon&r=PG", "display_name": "theMayer", "link": "https://stackoverflow.com/users/1472222/themayer"}, "edited": false, "score": 0, "creation_date": 1547737393, "post_id": 54221118, "comment_id": 95301885, "body": "Yes, but the whole purpose of Typescript is &quot;compile-time&quot; checking. So if you do this, you&#39;re getting all of the drawbacks and none of the benefits."}, {"owner": {"reputation": 3804, "user_id": 1205647, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/7b03ae8795066ff29f8da0860b6411b5?s=128&d=identicon&r=PG", "display_name": "Aragorn", "link": "https://stackoverflow.com/users/1205647/aragorn"}, "reply_to_user": {"reputation": 12931, "user_id": 1472222, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/b0970aeafe38e05589964ef6ec1ec3b4?s=128&d=identicon&r=PG", "display_name": "theMayer", "link": "https://stackoverflow.com/users/1472222/themayer"}, "edited": false, "score": 0, "creation_date": 1547737804, "post_id": 54221118, "comment_id": 95302160, "body": "The issue you have is not TypeScript related. This is JavaScript classes behavior. Where TypeScript comes to play is, say for example, you are assigning an object that is not <code>User</code> to the variable <code>user</code>, like <code>this.user = Object.assign(new OtherObject, user)</code> then TypeScript will help you at compile time."}, {"owner": {"reputation": 12931, "user_id": 1472222, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/b0970aeafe38e05589964ef6ec1ec3b4?s=128&d=identicon&r=PG", "display_name": "theMayer", "link": "https://stackoverflow.com/users/1472222/themayer"}, "edited": false, "score": 0, "creation_date": 1547738962, "post_id": 54221118, "comment_id": 95302979, "body": "That\u2019s correct, which is why I asked for the service code. Something is broken there (you\u2019re not going to write an angular service in plain JS unless you\u2019re way off the reservation)."}, {"owner": {"reputation": 3804, "user_id": 1205647, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/7b03ae8795066ff29f8da0860b6411b5?s=128&d=identicon&r=PG", "display_name": "Aragorn", "link": "https://stackoverflow.com/users/1205647/aragorn"}, "reply_to_user": {"reputation": 12931, "user_id": 1472222, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/b0970aeafe38e05589964ef6ec1ec3b4?s=128&d=identicon&r=PG", "display_name": "theMayer", "link": "https://stackoverflow.com/users/1472222/themayer"}, "edited": false, "score": 1, "creation_date": 1547739217, "post_id": 54221118, "comment_id": 95303146, "body": "@theMayer you are right, sorry I took you for OP and kept explaining the answer =), yes, the service might as well create the user prototype object and return. That&#39;s an other way to do it if the OP has control over that service. I&#39;ll add that to the answer to improve. thx."}], "tags": [], "owner": {"reputation": 3804, "user_id": 1205647, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/7b03ae8795066ff29f8da0860b6411b5?s=128&d=identicon&r=PG", "display_name": "Aragorn", "link": "https://stackoverflow.com/users/1205647/aragorn"}, "is_accepted": true, "score": 1, "last_activity_date": 1547739632, "last_edit_date": 1547739632, "creation_date": 1547655268, "answer_id": 54221118, "question_id": 54220792, "link": "https://stackoverflow.com/questions/54220792/angular-typescript-class-instance/54221118#54221118", "title": "Angular TypeScript class instance", "body": "<p>Try creating a <code>prototype</code> object for <code>User</code> like this. <code>User</code> you are getting from the service may not be a <code>prototype</code> object and hence the functions on it are not available.</p>\n\n<pre><code>user: User;\nthis.userService.getUser(this.loggedUser.nameid).subscribe((user: User) =&gt; {\n    this.user = Object.assign(new User, user) //--&gt;notice the use of new here..\n    this.user.givenname = this.loggedUser.given_name;\n    this.user.surname = this.loggedUser.family_name;\n    console.log(this.user.fullName);\n    this.user.sayHello();\n  });\n</code></pre>\n\n<p>Update:\nJavaScript classes are not exactly an object oriented model. As per MDN:</p>\n\n<blockquote>\n  <p>JavaScript classes, introduced in ECMAScript 2015, are primarily syntactical sugar over JavaScript's existing prototype-based inheritance. The class syntax does not introduce a new object-oriented inheritance model to JavaScript.</p>\n</blockquote>\n\n<p>Read more <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Classes\" rel=\"nofollow noreferrer\">here</a></p>\n\n<p>Also, as pointed out by @theMayer in comment, the service that returns <code>user</code> can also return the proper <code>User</code> object which has the prototype functions. So, its the displacement of code to create the object from the client to service. I like that approach, just because that means any other consumer of the service can use the object behaviors (functions), without having to duplicate (<code>Object.assign</code>)the object.</p>\n\n<p>So, in the <code>UserService.ts</code> (or wherever that <code>userService</code> is defined), something like:</p>\n\n<pre><code>getUser(id: string):User {\n  //existing logig\n  return Object.assign(new User(), user)//--&gt; there are other ways to create object too, this is just one way.\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1320, "user_id": 6196099, "user_type": "registered", "accept_rate": 50, "profile_image": "https://lh4.googleusercontent.com/-45hNp81idDE/AAAAAAAAAAI/AAAAAAAAAB4/OLaZOd7rtF0/photo.jpg?sz=128", "display_name": "Florian", "link": "https://stackoverflow.com/users/6196099/florian"}, "is_accepted": false, "score": 0, "last_activity_date": 1547656962, "last_edit_date": 1547656962, "creation_date": 1547656524, "answer_id": 54221474, "question_id": 54220792, "link": "https://stackoverflow.com/questions/54220792/angular-typescript-class-instance/54221474#54221474", "title": "Angular TypeScript class instance", "body": "<p>You're not creating an instance of User.<br>\nHere is an example of how it could be implemented :</p>\n\n<pre><code> export class User {\n\n    id?: number;\n    userName?: string;\n    knownAs?: string;\n    age?: number;\n    gender?: string;\n    created?: Date;\n    lastActive?: Date;\n    photoUrl?: string;\n    city?: string;\n    country?: string;\n    surname?: string;\n    givenname?: string;\n\n    constructor(args: User = {}) {\n      this.id = args.id;\n      this.userName = args.userName;\n      this.knownAs = args.knownAs;\n      this.age = args.age;\n      this.gender = args.gender;\n      this.created = args.created;\n      this.lastActive = args.lastActive;\n      this.photoUrl = args.photoUrl;\n      this.city = args.city;\n      this.country = args.country;\n      this.surname = args.surname;\n      this.givenname = args.givenname;\n    }\n\n    get fullName(): string {\n        return `${this.givenname} ${this.surname}`;\n    }\n\n    sayHello() {\n        console.log(`Hello, my name is ${this.surname} ${this.givenname}!`);\n      }\n}\n</code></pre>\n\n<p>Use <a href=\"https://www.learnrxjs.io/operators/transformation/map.html\" rel=\"nofollow noreferrer\">map</a> to create your User instance :</p>\n\n<pre><code>user: User;\nthis.userService.getUser(this.loggedUser.nameid)\n  .pipe(map((user: User) =&gt; new User(user)))\n  .subscribe((user: User) =&gt; {\n    this.user = user;\n    this.user.givenname = this.loggedUser.given_name;\n    this.user.surname = this.loggedUser.family_name;\n    console.log(this.user.fullName);\n    this.user.sayHello();\n  });\n</code></pre>\n"}], "owner": {"reputation": 977, "user_id": 295541, "user_type": "registered", "accept_rate": 34, "profile_image": "https://www.gravatar.com/avatar/64d42b01a1ed47a8e97b70c43c575567?s=128&d=identicon&r=PG", "display_name": "user295541", "link": "https://stackoverflow.com/users/295541/user295541"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 933, "favorite_count": 0, "accepted_answer_id": 54221118, "answer_count": 2, "score": 0, "last_activity_date": 1547739632, "creation_date": 1547654040, "question_id": 54220792, "link": "https://stackoverflow.com/questions/54220792/angular-typescript-class-instance", "title": "Angular TypeScript class instance", "body": "<p>I have a typescript class:</p>\n\n<pre><code>\n export class User {\n\n    id: number;\n    userName: string;\n    knownAs: string;\n    age: number;\n    gender: string;\n    created: Date;\n    lastActive: Date;\n    photoUrl: string;\n    city: string;\n    country: string;\n    surname: string;\n    givenname: string;\n\n    get fullName(): string {\n        return `${this.givenname} ${this.surname}`;\n    }\n\n    sayHello() {\n        console.log(`Hello, my name is ${this.surname} ${this.givenname}!`);\n      }\n}\n</code></pre>\n\n<p>I have a Service function:</p>\n\n<pre><code>\n\n    user: User;\n    this.userService.getUser(this.loggedUser.nameid).subscribe((user: User) => {\n        this.user = user;\n        this.user.givenname = this.loggedUser.given_name;\n        this.user.surname = this.loggedUser.family_name;\n        console.log(this.user.fullName);\n        this.user.sayHello();\n      });\n\n</code></pre>\n\n<p>the result in the console:\nconsole.log(this.user.fullName) = undefined\nthis.user.sayHello(); = ERROR TypeError: Object doesn't support property or method 'sayHello'</p>\n\n<p>After when I get back the user data from the server, how I can reach property and function which I've defined in the user class?</p>\n"}, {"tags": ["typescript", "express", "mongoose", "angular6"], "comments": [{"owner": {"reputation": 51813, "user_id": 860099, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/125k3.jpg?s=128&g=1", "display_name": "Kamil Kie\u0142czewski", "link": "https://stackoverflow.com/users/860099/kamil-kie%c5%82czewski"}, "edited": false, "score": 0, "creation_date": 1547654161, "post_id": 54220764, "comment_id": 95267320, "body": "show component where ` this.meeting ` is defined (show it definition)"}, {"owner": {"reputation": 61, "user_id": 10351758, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fb1ccbe046e01cdcb3c75f2b237f5c20?s=128&d=identicon&r=PG&f=1", "display_name": "J1297", "link": "https://stackoverflow.com/users/10351758/j1297"}, "reply_to_user": {"reputation": 51813, "user_id": 860099, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/125k3.jpg?s=128&g=1", "display_name": "Kamil Kie\u0142czewski", "link": "https://stackoverflow.com/users/860099/kamil-kie%c5%82czewski"}, "edited": false, "score": 0, "creation_date": 1547654288, "post_id": 54220764, "comment_id": 95267407, "body": "I tried to define it as   meeting : any, meeting, and meeting = [ ]"}], "answers": [{"comments": [{"owner": {"reputation": 61, "user_id": 10351758, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fb1ccbe046e01cdcb3c75f2b237f5c20?s=128&d=identicon&r=PG&f=1", "display_name": "J1297", "link": "https://stackoverflow.com/users/10351758/j1297"}, "edited": false, "score": 0, "creation_date": 1547654479, "post_id": 54220855, "comment_id": 95267540, "body": "added the whole component instead of a snippet. This doesn&#39;t work for me though."}, {"owner": {"reputation": 61, "user_id": 10351758, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fb1ccbe046e01cdcb3c75f2b237f5c20?s=128&d=identicon&r=PG&f=1", "display_name": "J1297", "link": "https://stackoverflow.com/users/10351758/j1297"}, "edited": false, "score": 0, "creation_date": 1547711375, "post_id": 54220855, "comment_id": 95287256, "body": "thanks for the quick reply, but how do i make it accessible outside of the subscribe function since I want to use it in my component.html to output the data in the meeting Array?"}, {"owner": {"reputation": 51813, "user_id": 860099, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/125k3.jpg?s=128&g=1", "display_name": "Kamil Kie\u0142czewski", "link": "https://stackoverflow.com/users/860099/kamil-kie%c5%82czewski"}, "reply_to_user": {"reputation": 61, "user_id": 10351758, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fb1ccbe046e01cdcb3c75f2b237f5c20?s=128&d=identicon&r=PG&f=1", "display_name": "J1297", "link": "https://stackoverflow.com/users/10351758/j1297"}, "edited": false, "score": 0, "creation_date": 1547742411, "post_id": 54220855, "comment_id": 95305007, "body": "@J1297 the data are accesible outside subscribe! But not immediatley (as I say) but after some time (when server return response) - and If you use it in template by eg. <code>&lt;div *ngIf=&quot;meeting&quot;&gt;Data are loaded: {{ meeting | json }}&lt;&#47;div&gt;</code> the angular will detect changes of <code>meeting</code> value and show above div."}], "tags": [], "owner": {"reputation": 51813, "user_id": 860099, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/125k3.jpg?s=128&g=1", "display_name": "Kamil Kie\u0142czewski", "link": "https://stackoverflow.com/users/860099/kamil-kie%c5%82czewski"}, "is_accepted": true, "score": 1, "last_activity_date": 1547742635, "last_edit_date": 1547742635, "creation_date": 1547654254, "answer_id": 54220855, "question_id": 54220764, "link": "https://stackoverflow.com/questions/54220764/angular-6-cant-bind-api-data-to-var-in-client/54220855#54220855", "title": "Angular 6: Can&#39;t bind api data to var in client", "body": "<p>You don't show definition of meeting type and your controler class but try </p>\n\n<pre><code>.subscribe(data =&gt; { this.meeting = data; console.log(this.meeting) } )\n</code></pre>\n\n<p>The problem that <code>console.log</code> shows <code>undefined</code> is because callback function inside subscribe is run asynchronously (AFTER next line of code: console.log) - so if you put console.log inside callback, then you will see result  </p>\n\n<p>You can also use following construction with async/await:</p>\n\n<pre><code>async getData() {\n    this.meeting = await this.meetServ.rolloutMeeting(this.singleMeetingID).toPromise();\n    console.log(this.meeting)\n}\n</code></pre>\n\n<p>but you should be aware that in fact code after await (console.log) will run asynchronously after data was loaded (so this is something like syntax sugar which make that your asynchronous code looks like synchronous so it is less nested)</p>\n"}], "owner": {"reputation": 61, "user_id": 10351758, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fb1ccbe046e01cdcb3c75f2b237f5c20?s=128&d=identicon&r=PG&f=1", "display_name": "J1297", "link": "https://stackoverflow.com/users/10351758/j1297"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 264, "favorite_count": 0, "accepted_answer_id": 54220855, "answer_count": 1, "score": 1, "last_activity_date": 1547742635, "creation_date": 1547653960, "last_edit_date": 1547654403, "question_id": 54220764, "link": "https://stackoverflow.com/questions/54220764/angular-6-cant-bind-api-data-to-var-in-client", "title": "Angular 6: Can&#39;t bind api data to var in client", "body": "<p>i'm having trouble binding requested api-data to a variable in my component.</p>\n\n<p>So first, my serverside method (using express and mongoose)</p>\n\n<pre><code>    app.post('/api/rolloutMeeting', async (req, res)=&gt; {\n    var singleMeetingID = req.body\n    singleMeetingID = singleMeetingID.singleMeetingID\n    var meeting = []\n\n    meeting[0] = await Meeting.findOne({_id: singleMeetingID})\n    companyID = meeting[0].compID.compID\n\n    meeting[1] = []\n    for(var i = 0; i &lt; meeting[0].projectIDs.length+1; i++) {\n        meeting[1][i] = await Project.findOne({_id: meeting[0].projectIDs[i]})\n    }\n\n    meeting[2] = []\n    for(var j = 0; j &lt; meeting[1][j].taskIDs.length; j++) {\n        for(var k = 0; k &lt; meeting[1][j].taskIDs.length; k++) {\n            meeting[2][j] = await Content.findOne({_id: meeting[1][j].taskIDs[j]})\n        }\n    }\n\n    console.log(meeting)\n\n    res.json(meeting)\n})\n</code></pre>\n\n<p>The output is working fine and exactly as i wanted.</p>\n\n<p>This is my Service Method that requests the data from the api.</p>\n\n<pre><code>  rolloutMeeting(singleMeetingID) {\n    return this.http.post('/api/rolloutMeeting', {\n      singleMeetingID\n    })\n  }\n</code></pre>\n\n<p>And finally my component where most-likely the mistake is hidden:</p>\n\n<pre><code>      import { Component, OnInit, Input } from '@angular/core';\nimport { MeetingService } from '../../meeting.service';\nimport { ProjectService } from '../../project.service';\nimport { ContentService } from '../../content.service'\nimport { meeting } from '../../meeting'\nimport { project } from '../../project';\n\n@Component({\n  selector: 'app-singlemeeting',\n  templateUrl: './singlemeeting.component.html',\n  styleUrls: ['./singlemeeting.component.css']\n})\nexport class SinglemeetingComponent implements OnInit {\n  @Input() singleMeetingID: String;\n\n  constructor(private meetServ: MeetingService,\n    private proServ: ProjectService,\n    private taskServ: ContentService) { }\n\n  ngOnInit() {\n    this.getData()\n  }\n\n  getData() {\n    this.meetServ.rolloutMeeting(this.singleMeetingID)\n      .subscribe(data =&gt; this.meeting : any = data)\n    console.log(this.meeting)\n  }\n\n  tasks = []\n  projects = []\n  meeting : any\n}\n</code></pre>\n\n<p>Now when I do this:\n.subscribe(data => console.log(data)) im getting the exact output as when im console.logging the meeting array on my server.</p>\n\n<p>I made a lot of different attempts to bind it to my meeting Array in the Client like:</p>\n\n<pre><code>.subscribe(data =&gt; this.meeting = data[0] as meeting)\n</code></pre>\n\n<p>and</p>\n\n<pre><code>.subscribe(data =&gt; this.meeting = data as meeting)\n</code></pre>\n\n<p>and</p>\n\n<pre><code>    .subscribe(data =&gt; function {\n    this.meeting = data\n})\n</code></pre>\n\n<p>Also for each try, I initialised the meeting var as any, as array and without any declaration.</p>\n\n<p>However, none of those tries seemed to work for me, console.log(this.meeting) always gives me undefined, while console.log(data) always returns the answer i actually want to have.</p>\n\n<p>What I want to do is, putting data[0] into a meeting variable and running my meeting interface over it, data[1] into project Array with project interface and so on...</p>\n\n<p>Thanks for trying to anyone who reads this.</p>\n\n<p>Best Regards</p>\n"}, {"tags": ["typescript", "interface", "type-assertion"], "answers": [{"comments": [{"owner": {"reputation": 25778, "user_id": 4467208, "user_type": "registered", "accept_rate": 51, "profile_image": "https://i.stack.imgur.com/H3QRx.jpg?s=128&g=1", "display_name": "Murat Karag&#246;z", "link": "https://stackoverflow.com/users/4467208/murat-karag%c3%b6z"}, "reply_to_user": {"reputation": 5553, "user_id": 1540350, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/bcigi.jpg?s=128&g=1", "display_name": "Martin Braun", "link": "https://stackoverflow.com/users/1540350/martin-braun"}, "edited": false, "score": 0, "creation_date": 1547654611, "post_id": 54220706, "comment_id": 95267618, "body": "@modiX Seems like type assertion is the correct way since the official docs also use it like that."}], "tags": [], "owner": {"reputation": 25778, "user_id": 4467208, "user_type": "registered", "accept_rate": 51, "profile_image": "https://i.stack.imgur.com/H3QRx.jpg?s=128&g=1", "display_name": "Murat Karag&#246;z", "link": "https://stackoverflow.com/users/4467208/murat-karag%c3%b6z"}, "is_accepted": false, "score": 0, "last_activity_date": 1547654582, "last_edit_date": 1547654582, "creation_date": 1547653744, "answer_id": 54220706, "question_id": 54220621, "link": "https://stackoverflow.com/questions/54220621/how-to-define-an-object-that-is-also-a-function-object-from-interface-in-one-s/54220706#54220706", "title": "How to define an object that is also a function (object from interface) in one statement without type assertion?", "body": "<p>As far as I can see there is no way to do that without type assertions. The docs for <a href=\"https://www.typescriptlang.org/docs/handbook/interfaces.html\" rel=\"nofollow noreferrer\">Hybrid Types</a> also use it that way e.g.</p>\n\n<pre><code>interface Counter {\n    (start: number): string;\n    interval: number;\n    reset(): void;\n}\n\nfunction getCounter(): Counter {\n    let counter = &lt;Counter&gt;function (start: number) { };\n    counter.interval = 123;\n    counter.reset = function () { };\n    return counter;\n}\n\nlet c = getCounter();\nc(10);\nc.reset();\nc.interval = 5.0;\n</code></pre>\n"}], "owner": {"reputation": 5553, "user_id": 1540350, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/bcigi.jpg?s=128&g=1", "display_name": "Martin Braun", "link": "https://stackoverflow.com/users/1540350/martin-braun"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 22, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1547654582, "creation_date": 1547653479, "last_edit_date": 1547654247, "question_id": 54220621, "link": "https://stackoverflow.com/questions/54220621/how-to-define-an-object-that-is-also-a-function-object-from-interface-in-one-s", "title": "How to define an object that is also a function (object from interface) in one statement without type assertion?", "body": "<p>Since in JavaScript functions are also objects, a TypeScript interface can be both (an object and a function) at the same time, like so:</p>\n\n<pre><code>//TS:\ninterface ITest {\n    (arg: any): void\n    field: number\n}\n\nlet test: ITest = ((arg: any) =&gt; { }) as ITest\ntest.field = 123\ntest(\"foo\")\ntest.field = 456\n\n//JS:\nvar test = (function (arg) { });\ntest.field = 123;\ntest(\"foo\");\ntest.field = 456;\n</code></pre>\n\n<p>At the line <code>let test: ITest =</code> it won't complain that I do not obey the interface, because I do a type assertion to <code>ITest</code>. However, I'd like to define the entire object in one statement. Something like:</p>\n\n<pre><code>let test: ITest = { \n    ((arg: any) =&gt; { }), // Cannot invoke an expression whose type lacks a call signature\n    field: 123,\n}\n</code></pre>\n\n<p>But it fails. Is this even possible?</p>\n"}, {"tags": ["json", "string", "typescript", "class", "tostring"], "comments": [{"owner": {"reputation": 42740, "user_id": 1031569, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/MTZr2.png?s=128&g=1", "display_name": "Reactgular", "link": "https://stackoverflow.com/users/1031569/reactgular"}, "edited": false, "score": 0, "creation_date": 1547653187, "post_id": 54220472, "comment_id": 95266717, "body": "Did you try adding the <code>toJSONString</code> method to the <code>Bar</code> class?"}, {"owner": {"reputation": 11718, "user_id": 2516399, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/9b863a419fbe344810cfab0c03107c6e?s=128&d=identicon&r=PG", "display_name": "smartmouse", "link": "https://stackoverflow.com/users/2516399/smartmouse"}, "reply_to_user": {"reputation": 42740, "user_id": 1031569, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/MTZr2.png?s=128&g=1", "display_name": "Reactgular", "link": "https://stackoverflow.com/users/1031569/reactgular"}, "edited": false, "score": 0, "creation_date": 1547653259, "post_id": 54220472, "comment_id": 95266755, "body": "As you can see in the second playground, even adding the same method in <code>Bar</code> class doesn&#39;t do the trick."}], "answers": [{"comments": [{"owner": {"reputation": 11718, "user_id": 2516399, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/9b863a419fbe344810cfab0c03107c6e?s=128&d=identicon&r=PG", "display_name": "smartmouse", "link": "https://stackoverflow.com/users/2516399/smartmouse"}, "edited": false, "score": 0, "creation_date": 1547741735, "post_id": 54232399, "comment_id": 95304575, "body": "Amazing! Thank you!"}], "tags": [], "owner": {"reputation": 2725, "user_id": 1222240, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/6f742a69a26a9fedc4b8d6b4fd0e23cc?s=128&d=identicon&r=PG", "display_name": "valepu", "link": "https://stackoverflow.com/users/1222240/valepu"}, "is_accepted": true, "score": 1, "last_activity_date": 1547741934, "last_edit_date": 1547741934, "creation_date": 1547716184, "answer_id": 54232399, "question_id": 54220472, "link": "https://stackoverflow.com/questions/54220472/convert-typescript-class-to-string-with-getter-and-setter-instead-of-private-va/54232399#54232399", "title": "Convert Typescript class to string, with getter and setter instead of private variables", "body": "<p>There are 2 things to keep in mind here:</p>\n\n<ol>\n<li><p>When you define getters and setters they do not become instance methods once transpiled into Javascript, but they are added to the prototype using Object.defineProperty. This means you won't get them simply using JSON.stringify</p></li>\n<li><p>Passing the replacer array to JSON.stringify and telling it to use only the prototype values does the job but it kinda doesn't work on nested objects. Truth is JSON.stringify will parse only the properties with that name no matter where it resides in the object structure. </p></li>\n</ol>\n\n<p>For Example</p>\n\n<pre><code>let a = {\n    user: \"Foo\",\n    data: {\n        name: \"Bar\"\n    }\n};\n\nJSON.stringify(a, [\"user\", \"data\"]);\n</code></pre>\n\n<p>Will output <code>{\"user\":\"Foo\",\"data\":{}}</code> because even though the nested object's key is <code>data</code>, the object itself does not have properties named <code>user</code> or <code>data</code><br>\nBut</p>\n\n<pre><code>let a = {\n    user: \"Foo\",\n    data: {\n        user: \"Bar\"\n    }\n};\n\nJSON.stringify(a, [\"user\", \"data\"]);\n</code></pre>\n\n<p>Will output <code>{\"user\":\"Foo\",\"data\":{\"user\":\"Bar\"}}</code> because the nested object has a proprety called <code>user</code>, just like its parent</p>\n\n<p>I reckon this behavior can be confusing but it's possible to implement a solution by creating a method that gets all the properties of all the objects you are interested in. I haven't found a way in Typescript to check whether a class implements a interface (or extends a class) so I had to work a bit with what I know it works even though it's not that \"elegant\".</p>\n\n<pre><code>abstract class Stringifyiable {\n    private isStringifyiable(value): boolean {\n        return value != null &amp;&amp; (typeof value === 'object' || typeof value === 'function') &amp;&amp; value['getJsonKeys'] &amp;&amp; typeof value['getJsonKeys'] === 'function';\n    }\n\n    public getJsonKeys(): string[] {\n        let keys = Object.keys(this.constructor.prototype);\n        keys.forEach(key =&gt; {\n            if (this.isStringifyiable(this[key])) {\n                keys = keys.concat(this[key].getJsonKeys());\n            }\n        });\n\n        return keys;\n    }\n\n    public toJSONString(): string {\n        return JSON.stringify(this, this.getJsonKeys());\n    }\n}\n\n\n\nclass Foo extends Stringifyiable {\n    private _id: number;\n    private _desc: string;\n    private _user: Bar;\n\n    constructor(id: number, desc: string, user: Bar) {\n        super();\n        this._id = id;\n        this._desc = desc;\n        this._user = user;\n    }\n\n    public get id(): number {\n        return this._id;\n    } \n\n    public set id(value: number) {\n        this._id = value;\n    }\n\n    public get desc():string {\n        return this._desc;\n    } \n\n    public set desc(value: string) {\n        this._desc = value;\n    }\n\n    public get user(): Bar {\n        return this._user;\n    } \n\n    public set user(value: Bar) {\n        this._user = value;\n    }\n}\n\n\n\nclass Bar extends Stringifyiable {\n    private _name: string;\n    private _surname: string;\n\n    constructor(name: string, surname: string) {\n        super();\n        this._name = name;\n        this._surname = surname;\n    }\n\n    public get name(): string {\n        return this._name;\n    } \n\n    public set name(value: string) {\n        this._name = value;\n    }\n\n    public get surname():string {\n        return this._surname;\n    } \n\n    public set surname(value: string) {\n        this._surname = value;\n    }\n}\n\nlet foo = new Foo(1, 'something', new Bar('foo', 'bar'));\n//this will output {\"id\":1,\"desc\":\"something\",\"user\":{\"name\":\"foo\",\"surname\":\"bar\"}}\nfoo.toJSONString();\n</code></pre>\n\n<p>Be careful with cyclic references because it will go into an endless loop (I'm sure it can be fixed though).</p>\n"}], "owner": {"reputation": 11718, "user_id": 2516399, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/9b863a419fbe344810cfab0c03107c6e?s=128&d=identicon&r=PG", "display_name": "smartmouse", "link": "https://stackoverflow.com/users/2516399/smartmouse"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 333, "favorite_count": 0, "accepted_answer_id": 54232399, "answer_count": 1, "score": 2, "last_activity_date": 1547741934, "creation_date": 1547653030, "last_edit_date": 1547654109, "question_id": 54220472, "link": "https://stackoverflow.com/questions/54220472/convert-typescript-class-to-string-with-getter-and-setter-instead-of-private-va", "title": "Convert Typescript class to string, with getter and setter instead of private variables", "body": "<p>I have the following Typescript code:</p>\n\n<pre><code>class Foo {\n    private _id: number;\n    private _desc: string;\n\n    constructor(id: number, desc: string) {\n        this._id = id;\n        this._desc = desc;\n    }\n\n    public get id(): number {\n        return this.id;\n    } \n\n    public set id(value: number) {\n        this._id = value;\n    }\n\n    public get desc():string {\n        return this.desc;\n    } \n\n    public set desc(value: string) {\n        this._desc = value;\n    }\n}\n\nlet foo = new Foo(1, 'something');\n</code></pre>\n\n<p>I would like to get a string from a Typescript class, I mean with getter and setter. Then I should get the following string:</p>\n\n<pre><code>{\"id\":1,\"desc\":\"something\"}\n</code></pre>\n\n<p>According to this <a href=\"https://stackoverflow.com/a/41288591/2516399\">answer</a> I can reach that adding the following method to the class:</p>\n\n<pre><code>public toJSONString(): string {\n    return JSON.stringify(this, Object.keys(this.constructor.prototype));\n}\n</code></pre>\n\n<p>It works.</p>\n\n<p>It doesn't work if the Typescript class contains any other sub class.</p>\n\n<p>So if I have the following code:</p>\n\n<pre><code>class Foo {\n    private _id: number;\n    private _desc: string;\n    private _user: Bar;\n\n    constructor(id: number, desc: string, user: Bar) {\n        this._id = id;\n        this._desc = desc;\n        this._user = user;\n    }\n\n    public get id(): number {\n        return this._id;\n    } \n\n    public set id(value: number) {\n        this._id = value;\n    }\n\n    public get desc():string {\n        return this._desc;\n    } \n\n    public set desc(value: string) {\n        this._desc = value;\n    }\n\n    public get user(): Bar {\n        return this._user;\n    } \n\n    public set user(value: Bar) {\n        this._user = value;\n    }\n\n    public toJSONString(): string {\n        return JSON.stringify(this, Object.keys(this.constructor.prototype));\n    }\n}\n\nclass Bar {\n    private _name: string;\n    private _surname: string;\n\n    constructor(name: string, surname: string) {\n        this._name = name;\n        this._surname = surname;\n    }\n\n    public get name(): string {\n        return this._name;\n    } \n\n    public set name(value: string) {\n        this._name = value;\n    }\n\n    public get surname():string {\n        return this._surname;\n    } \n\n    public set surname(value: string) {\n        this._surname = value;\n    }\n}\n\nlet foo = new Foo(1, 'something', new Bar('foo', 'bar'));\n</code></pre>\n\n<p>If I use <code>toJSONString</code> method I get the following string:</p>\n\n<pre><code>{\"id\":1,\"desc\":\"something\",\"user\":{}}\n</code></pre>\n\n<p>instead of this:</p>\n\n<pre><code>{\"id\":1,\"desc\":\"something\",\"user\":{ \"name\": \"foo\", \"surname\": \"bar\"}}\n</code></pre>\n\n<p>So, how can I get a string from a Typescript class that has other sub classes?</p>\n\n<p>(If you need here is the <a href=\"http://www.typescriptlang.org/play/#src=class%20Foo%20%7B%0D%0A%20%20%20%20private%20_id%3A%20number%3B%0D%0A%20%20%20%20private%20_desc%3A%20string%3B%0D%0A%0D%0A%20%20%20%20constructor(id%3A%20number%2C%20desc%3A%20string)%20%7B%0D%0A%20%20%20%20%20%20%20%20this._id%20%3D%20id%3B%0D%0A%20%20%20%20%20%20%20%20this._desc%20%3D%20desc%3B%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20public%20get%20id()%3A%20number%20%7B%0D%0A%20%20%20%20%20%20%20%20return%20this._id%3B%0D%0A%20%20%20%20%7D%20%0D%0A%0D%0A%20%20%20%20public%20set%20id(value%3A%20number)%20%7B%0D%0A%20%20%20%20%20%20%20%20this._id%20%3D%20value%3B%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20public%20get%20desc()%3Astring%20%7B%0D%0A%20%20%20%20%20%20%20%20return%20this._desc%3B%0D%0A%20%20%20%20%7D%20%0D%0A%0D%0A%20%20%20%20public%20set%20desc(value%3A%20string)%20%7B%0D%0A%20%20%20%20%20%20%20%20this._desc%20%3D%20value%3B%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20public%20toJSONString()%3A%20string%20%7B%0D%0A%20%20%20%20%20%20%20%20return%20JSON.stringify(this%2C%20Object.keys(this.constructor.prototype))%3B%0D%0A%20%20%20%20%7D%0D%0A%7D%0D%0A%0D%0Alet%20foo%20%3D%20new%20Foo(1%2C%20&#39;something&#39;)%3B%0D%0Alet%20json%20%3D%20foo.toJSONString()%3B%0D%0A%0D%0Adocument.write(json)%3B\" rel=\"nofollow noreferrer\">playground</a> for the first code and here is the <a href=\"http://www.typescriptlang.org/play/#src=class%20Foo%20%7B%0D%0A%20%20%20%20private%20_id%3A%20number%3B%0D%0A%20%20%20%20private%20_desc%3A%20string%3B%0D%0A%20%20%20%20private%20_user%3A%20Bar%3B%0D%0A%0D%0A%20%20%20%20constructor(id%3A%20number%2C%20desc%3A%20string%2C%20user%3A%20Bar)%20%7B%0D%0A%20%20%20%20%20%20%20%20this._id%20%3D%20id%3B%0D%0A%20%20%20%20%20%20%20%20this._desc%20%3D%20desc%3B%0D%0A%20%20%20%20%20%20%20%20this._user%20%3D%20user%3B%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20public%20get%20id()%3A%20number%20%7B%0D%0A%20%20%20%20%20%20%20%20return%20this._id%3B%0D%0A%20%20%20%20%7D%20%0D%0A%0D%0A%20%20%20%20public%20set%20id(value%3A%20number)%20%7B%0D%0A%20%20%20%20%20%20%20%20this._id%20%3D%20value%3B%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20public%20get%20desc()%3Astring%20%7B%0D%0A%20%20%20%20%20%20%20%20return%20this._desc%3B%0D%0A%20%20%20%20%7D%20%0D%0A%0D%0A%20%20%20%20public%20set%20desc(value%3A%20string)%20%7B%0D%0A%20%20%20%20%20%20%20%20this._desc%20%3D%20value%3B%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20public%20get%20user()%3A%20Bar%20%7B%0D%0A%20%20%20%20%20%20%20%20return%20this._user%3B%0D%0A%20%20%20%20%7D%20%0D%0A%0D%0A%20%20%20%20public%20set%20user(value%3A%20Bar)%20%7B%0D%0A%20%20%20%20%20%20%20%20this._user%20%3D%20value%3B%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20public%20toJSONString()%3A%20string%20%7B%0D%0A%20%20%20%20%20%20%20%20return%20JSON.stringify(this%2C%20Object.keys(this.constructor.prototype))%3B%0D%0A%20%20%20%20%7D%0D%0A%7D%0D%0A%0D%0Aclass%20Bar%20%7B%0D%0A%20%20%20%20private%20_name%3A%20string%3B%0D%0A%20%20%20%20private%20_surname%3A%20string%3B%0D%0A%0D%0A%20%20%20%20constructor(name%3A%20string%2C%20surname%3A%20string)%20%7B%0D%0A%20%20%20%20%20%20%20%20this._name%20%3D%20name%3B%0D%0A%20%20%20%20%20%20%20%20this._surname%20%3D%20surname%3B%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20public%20get%20name()%3A%20string%20%7B%0D%0A%20%20%20%20%20%20%20%20return%20this._name%3B%0D%0A%20%20%20%20%7D%20%0D%0A%0D%0A%20%20%20%20public%20set%20name(value%3A%20string)%20%7B%0D%0A%20%20%20%20%20%20%20%20this._name%20%3D%20value%3B%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20public%20get%20surname()%3Astring%20%7B%0D%0A%20%20%20%20%20%20%20%20return%20this._surname%3B%0D%0A%20%20%20%20%7D%20%0D%0A%0D%0A%20%20%20%20public%20set%20surname(value%3A%20string)%20%7B%0D%0A%20%20%20%20%20%20%20%20this._surname%20%3D%20value%3B%0D%0A%20%20%20%20%7D%0D%0A%7D%0D%0A%0D%0Alet%20foo%20%3D%20new%20Foo(1%2C%20&#39;something&#39;%2C%20new%20Bar(&#39;foo&#39;%2C%20&#39;bar&#39;))%3B%0D%0Alet%20json%20%3D%20foo.toJSONString()%3B%0D%0A%0D%0Adocument.write(json)%3B\" rel=\"nofollow noreferrer\">playground</a> for the second code)</p>\n"}, {"tags": ["typescript", "generics", "interface"], "answers": [{"comments": [{"owner": {"reputation": 39, "user_id": 2890476, "user_type": "registered", "profile_image": "https://graph.facebook.com/1609149844/picture?type=large", "display_name": "skillmotion", "link": "https://stackoverflow.com/users/2890476/skillmotion"}, "edited": false, "score": 0, "creation_date": 1547656176, "post_id": 54220642, "comment_id": 95268535, "body": "This is amazing. Thank you so much, especially for the explanation. Works like charme"}], "tags": [], "owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "is_accepted": true, "score": 0, "last_activity_date": 1547655122, "last_edit_date": 1547655122, "creation_date": 1547653551, "answer_id": 54220642, "question_id": 54220210, "link": "https://stackoverflow.com/questions/54220210/is-there-a-way-to-pass-the-data-of-one-interface-property-as-this-to-another-p/54220642#54220642", "title": "Is there a way to pass the data of one interface property as &quot;this&quot; to another property?", "body": "<p>You are pretty close with your type, the problem is that typescript will not perform any inference on variables. If you set the type in the variable type annotation then that is the final type. </p>\n\n<p>To get the inference behavior you want you need to use a function. Functions can have extra type parameters that the compiler will infer based on the actual parameter type:</p>\n\n<pre><code>interface IExample&lt;Model extends Record&lt;string, any&gt;&gt; {\n  model: () =&gt; Model,\n  evaluator: Record&lt;string, (this: Model) =&gt; boolean&gt;\n}\n\nfunction createExample&lt;T&gt;(o: IExample&lt;T&gt;) {\n  return o;\n}\n\nconst example = createExample({\n  model: () =&gt; ({\n    k1: true,\n    k2: 'some content',\n    k3: [1, 2, 3]\n  }),\n  evaluator: {\n    testEvaluator: function () {\n      // this is  { k1: boolean; k2: string; k3: number[]; }\n\n      return this.k1 === true\n    }\n  }\n});\n</code></pre>\n"}], "owner": {"reputation": 39, "user_id": 2890476, "user_type": "registered", "profile_image": "https://graph.facebook.com/1609149844/picture?type=large", "display_name": "skillmotion", "link": "https://stackoverflow.com/users/2890476/skillmotion"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 98, "favorite_count": 0, "accepted_answer_id": 54220642, "answer_count": 1, "score": 1, "last_activity_date": 1547655122, "creation_date": 1547652055, "last_edit_date": 1547652609, "question_id": 54220210, "link": "https://stackoverflow.com/questions/54220210/is-there-a-way-to-pass-the-data-of-one-interface-property-as-this-to-another-p", "title": "Is there a way to pass the data of one interface property as &quot;this&quot; to another property?", "body": "<p>I'm trying to wrap my head around generic types in interfaces and passing the data of one interface property to another.</p>\n\n<p>Maybe it's easier to understand with an example:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>interface IExample {\n    model: () =&gt; Record&lt;string, any&gt;\n    evaluator: Record&lt;string, () =&gt; boolean&gt;\n}\n</code></pre>\n\n<p>The use case would be something like this:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>const example: IExample = {\n    model: () =&gt; {\n        // The content can be changed by the user\n        return {\n            k1: true,\n            k2: 'some content',\n            k3: [1, 2, 3]\n        }\n    },\n    evaluator: {\n        testEvaluator: function () {\n            /**\n             * This is where I would like to have an autocompletion\n             * So internally example.model() is called and\n             * the return value is passed as `this`-argument\n             */\n            return this.k1 === true\n        }\n    }\n}\n</code></pre>\n\n<p>As mentioned in the code comment I would like to provide autocompletion\nto the user when he writes his code for an evaluator</p>\n\n<p>What i tried so far looks round about like this:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>interface IExample&lt;Model extends Record&lt;string, any&gt; = Record&lt;string, any&gt;&gt; {\n    model: () =&gt; Data,\n    evaluator: &lt;Record&lt;string, (this: Data) =&gt; boolean&gt;\n}\n</code></pre>\n\n<p>Is this even possible? If so: I'm really grateful for any kind of hint.</p>\n"}, {"tags": ["angular", "typescript", "angular6"], "answers": [{"comments": [{"owner": {"reputation": 729, "user_id": 10176081, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e2e3d78e0d50fd3c8d0a39ed3a482c06?s=128&d=identicon&r=PG&f=1", "display_name": "Empty_Soul", "link": "https://stackoverflow.com/users/10176081/empty-soul"}, "edited": false, "score": 0, "creation_date": 1547654328, "post_id": 54220798, "comment_id": 95267430, "body": "Thanks for you responce, in you solutuon i am able to perform olny <b>delete</b>, but  i want perform add&amp;edit also."}, {"owner": {"reputation": 1884, "user_id": 4532316, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-1IrwGSquUJw/AAAAAAAAAAI/AAAAAAAAAD8/wvpurNRUL_o/photo.jpg?sz=128", "display_name": "Danil Gudz", "link": "https://stackoverflow.com/users/4532316/danil-gudz"}, "reply_to_user": {"reputation": 729, "user_id": 10176081, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e2e3d78e0d50fd3c8d0a39ed3a482c06?s=128&d=identicon&r=PG&f=1", "display_name": "Empty_Soul", "link": "https://stackoverflow.com/users/10176081/empty-soul"}, "edited": false, "score": 0, "creation_date": 1547655229, "post_id": 54220798, "comment_id": 95267952, "body": "you need to use input or whatever with formControl directives to edit data. updated stackblitz for address: <a href=\"https://stackblitz.com/edit/angular-movie-read-load-json-sample-eg-w9ty9b?file=src/app/app.component.html\" rel=\"nofollow noreferrer\">stackblitz.com/edit/&hellip;</a>"}], "tags": [], "owner": {"reputation": 1884, "user_id": 4532316, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-1IrwGSquUJw/AAAAAAAAAAI/AAAAAAAAAD8/wvpurNRUL_o/photo.jpg?sz=128", "display_name": "Danil Gudz", "link": "https://stackoverflow.com/users/4532316/danil-gudz"}, "is_accepted": false, "score": 1, "last_activity_date": 1547670163, "last_edit_date": 1547670163, "creation_date": 1547654063, "answer_id": 54220798, "question_id": 54220193, "link": "https://stackoverflow.com/questions/54220193/how-to-edit-and-update-the-dynamically-added-input-values/54220798#54220798", "title": "How to edit and update the dynamically added input values", "body": "<p>When you work with a form in Angular then try accessing and working with data from form directives: <code>FormGroup</code>, <code>FormArray</code> etc.</p>\n\n<p>In your code you've combined output of data from simple contacts array and tried then mix it with form controls.</p>\n\n<p>Create form group for all the form correctly so that it matches your interface, then use data from it on the form, especially if you have an ability to modify it in form.</p>\n\n<p>Using <code>formControl</code>s on inputs etc your data is being modified on user input so you can retrieve it with a <code>.value</code> property. When you group data in formGroups you can access all then aggregated data with <code>formGroup.value</code> where all the structure and data you created will be.</p>\n\n<p>I've updated your stackblitz. With partially implemented what I've told. Continue in this way and you'll get maintainable and quite readable code.</p>\n\n<p><a href=\"https://stackblitz.com/edit/angular-movie-read-load-json-sample-eg-l6awjk?file=src/app/app.component.html\" rel=\"nofollow noreferrer\">https://stackblitz.com/edit/angular-movie-read-load-json-sample-eg-l6awjk?file=src/app/app.component.html</a></p>\n\n<p><strong>Update</strong></p>\n\n<p>Address edit example in stackblitz:\n<a href=\"https://stackblitz.com/edit/angular-movie-read-load-json-sample-eg-w9ty9b?file=src/app/app.component.html\" rel=\"nofollow noreferrer\">https://stackblitz.com/edit/angular-movie-read-load-json-sample-eg-w9ty9b?file=src/app/app.component.html</a></p>\n"}, {"comments": [{"owner": {"reputation": 729, "user_id": 10176081, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e2e3d78e0d50fd3c8d0a39ed3a482c06?s=128&d=identicon&r=PG&f=1", "display_name": "Empty_Soul", "link": "https://stackoverflow.com/users/10176081/empty-soul"}, "edited": false, "score": 0, "creation_date": 1547655229, "post_id": 54220941, "comment_id": 95267951, "body": "Your solution is working fine but one issue is there: when we edit one particular <code>address</code>.after that input fields should become empty on hitting <code>add</code> button, so that i can add a new <code>address</code> but it is not posaible in your link."}, {"owner": {"reputation": 1808, "user_id": 7291379, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/cefa38e73f3511d31f0ee0d51a79e0de?s=128&d=identicon&r=PG&f=1", "display_name": "Chunbin Li", "link": "https://stackoverflow.com/users/7291379/chunbin-li"}, "reply_to_user": {"reputation": 729, "user_id": 10176081, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e2e3d78e0d50fd3c8d0a39ed3a482c06?s=128&d=identicon&r=PG&f=1", "display_name": "Empty_Soul", "link": "https://stackoverflow.com/users/10176081/empty-soul"}, "edited": false, "score": 1, "creation_date": 1547703751, "post_id": 54220941, "comment_id": 95284426, "body": "I update saveAddress(), you can see it in my change log"}], "tags": [], "owner": {"reputation": 1808, "user_id": 7291379, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/cefa38e73f3511d31f0ee0d51a79e0de?s=128&d=identicon&r=PG&f=1", "display_name": "Chunbin Li", "link": "https://stackoverflow.com/users/7291379/chunbin-li"}, "is_accepted": true, "score": 1, "last_activity_date": 1547703720, "last_edit_date": 1547703720, "creation_date": 1547654579, "answer_id": 54220941, "question_id": 54220193, "link": "https://stackoverflow.com/questions/54220193/how-to-edit-and-update-the-dynamically-added-input-values/54220941#54220941", "title": "How to edit and update the dynamically added input values", "body": "<p>try this <a href=\"https://stackblitz.com/edit/angular-movie-read-load-json-sample-eg-u7tmvm?file=src/app/app.component.ts\" rel=\"nofollow noreferrer\">online example</a></p>\n\n<p>I changed these:</p>\n\n<ul>\n<li>use <strong>Update mode</strong> if an address is selected or <strong>Add mode</strong> if it is not</li>\n<li><em>add</em> your form data to contacts array for a particular index</li>\n<li><em>update</em> the selected address from your edit data</li>\n</ul>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>  selectAddr(addr) {\r\n    this.newAttribute.addressType = addr.addressType;\r\n    this.newAttribute.postalCode = addr.postalCode;\r\n    this.newAttribute.city = addr.city;\r\n\r\n    this.selectedAddr = addr;\r\n  }\r\n\r\n  saveAddress(index, form: FormGroup) {\r\n    const mode: 'update' | 'add' = this.selectedAddr ? 'update' : 'add';\r\n\r\n    if (mode === 'add') {\r\n      this.contacts[index].addresses.push({ ...this.newAttribute });\r\n    } else if (mode === 'update') {\r\n      Object.assign(this.selectedAddr, this.newAttribute);\r\n    }\r\n\r\n    // reset\r\n    this.selectedAddr = undefined;\r\n    form.reset();\r\n  }</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;div class=\"main\" *ngFor=\"let contact of contacts;let i = index\"&gt;\r\n\r\n&lt;form [formGroup]=\"addForm\" #myForm&gt;\r\n\r\n  &lt;p&gt;Name: {{contact.name}}&lt;/p&gt;\r\n  &lt;br&gt;\r\n&lt;!--Address section--&gt;\r\n      &lt;div  class=\"address-sec\"&gt;\r\n        &lt;p id=\"addr\"&gt;Addresses&lt;/p&gt;\r\n        &lt;br&gt;\r\n        &lt;table style=\"width:100%\" *ngFor=\"let addr of contact.addresses\"&gt;\r\n            &lt;tr&gt;\r\n                &lt;td&gt;\r\n                  &lt;div id=\"field-type\"&gt;\r\n                      &lt;mat-chip-list&gt;\r\n                        &lt;mat-chip color=\"primary\" (click)=\"selectAddr(addr)\" selected&gt;{{addr.addressType}}&lt;/mat-chip&gt;\r\n                      &lt;/mat-chip-list&gt;\r\n                  &lt;/div&gt;\r\n                &lt;/td&gt;\r\n                &lt;td&gt;\r\n                    &lt;div class=\"field-data\"&gt;\r\n                   {{addr.city}}-{{addr.postalCode}}\r\n                &lt;/div&gt;\r\n                  &lt;/td&gt;\r\n                &lt;td&gt;\r\n                    &lt;div class=\"field-data\"&gt;\r\n                    &lt;b&gt;Delete&lt;/b&gt;\r\n                   &lt;/div&gt;\r\n                &lt;/td&gt;\r\n            &lt;/tr&gt;\r\n          &lt;/table&gt;\r\n        &lt;hr&gt;\r\n        &lt;br&gt;\r\n      &lt;/div&gt;\r\n  &lt;br&gt;\r\n  &lt;!--Address Section--&gt;\r\n\r\n  &lt;mat-form-field&gt;\r\n    &lt;mat-select formControlName=\"addressType\" placeholder=\"Type\" [(ngModel)]=\"newAttribute.addressType\"&gt;\r\n        &lt;mat-option *ngFor=\"let addressType of addresstypes\" [value]=\"addressType.value\"&gt;\r\n            {{addressType.viewValue}}\r\n        &lt;/mat-option&gt;\r\n    &lt;/mat-select&gt;\r\n&lt;/mat-form-field&gt;\r\n\t\t\t\r\n&lt;br&gt;\r\n     \r\n&lt;mat-form-field &gt;\r\n    &lt;input matInput formControlName=\"postalCode\"  [(ngModel)]=\"newAttribute.postalCode\"  placeholder=\"Postal Code\" &gt;\r\n&lt;/mat-form-field&gt;\r\n&lt;br&gt;\r\n&lt;mat-form-field &gt;\r\n    &lt;input matInput formControlName=\"city\"  [(ngModel)]=\"newAttribute.city\"  placeholder=\"City\" &gt;\r\n&lt;/mat-form-field&gt;\r\n&lt;br&gt;\r\n\r\n     &lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;\r\n        &lt;button mat-flat-button    (click)=\"saveAddress(i,myForm)\"&gt;Save&lt;/button&gt;\r\n&lt;/form&gt; \r\n&lt;br&gt;\r\n&lt;hr&gt;\r\n&lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 729, "user_id": 10176081, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e2e3d78e0d50fd3c8d0a39ed3a482c06?s=128&d=identicon&r=PG&f=1", "display_name": "Empty_Soul", "link": "https://stackoverflow.com/users/10176081/empty-soul"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 363, "favorite_count": 0, "closed_date": 1553229266, "accepted_answer_id": 54220941, "answer_count": 2, "score": 0, "last_activity_date": 1547703720, "creation_date": 1547652010, "question_id": 54220193, "link": "https://stackoverflow.com/questions/54220193/how-to-edit-and-update-the-dynamically-added-input-values", "closed_reason": "Not suitable for this site", "title": "How to edit and update the dynamically added input values", "body": "<p><strong>Scenario:</strong></p>\n\n<p>Below is my <code>json</code> file called <code>contacts</code>:</p>\n\n<pre><code>[\n   {\n     \"name\": \"Ailis Wyld\",\n     \"addresses\": [\n        {\n            \"addressType\": \"Business\",\n            \"city\": \"Lansing\",\n            \"postalCode\": \"48930\"\n        },\n        {\n            \"addressType\": \"Home\",\n            \"city\": \"Young America\",\n            \"postalCode\": \"55573\"\n        }\n     ]\n  },\n  {\n    \"name\": \"Aksel\",\n    \"addresses\": [\n        {\n            \"addressType\": \"Business\",\n            \"city\": \"Battle Creek\",\n            \"postalCode\": \"49018\"\n        },\n        {\n            \"addressType\": \"Home\",\n            \"city\": \"Memphis\",\n            \"postalCode\": \"38131\"\n        }\n    ]\n   },\n   {\n     \"name\": \"Dearan\",\n     \"addresses\": [\n        {\n            \"addressType\": \"Other\",\n            \"city\": \"Minneapolis\",\n            \"postalCode\": \"55417\"\n        },\n        {\n            \"addressType\": \"Other\",\n            \"city\": \"Sacramento\",\n            \"postalCode\": \"95833\"\n        }\n    ]\n   }\n\n]\n</code></pre>\n\n<p>I am displaying the <code>name</code> and <code>address</code> of the <code>contacts</code>(For ex one particular contact) like this:</p>\n\n<p><a href=\"https://i.stack.imgur.com/oL1Ks.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/oL1Ks.png\" alt=\"enter image description here\"></a></p>\n\n<p><strong>Expected Result:</strong></p>\n\n<ul>\n<li>I am displaying many <code>addresses</code>, If i click on particular <code>address</code>(For ex addressType: Home) i must able edit that <code>address</code> means i should get that address  values(i,e addressType, city, postalCode) in the below input fields like this:\n<a href=\"https://i.stack.imgur.com/Tt4S2.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Tt4S2.png\" alt=\"enter image description here\"></a></li>\n</ul>\n\n<p>So that i can edit and update that particular address.</p>\n\n<ul>\n<li>Then i should be able add a new <strong>address</strong> from that input fields.</li>\n</ul>\n\n<p>Below is my stackblitz <strong><a href=\"https://stackblitz.com/edit/angular-movie-read-load-json-sample-eg-gjszmu?file=src/app/app.component.html\" rel=\"nofollow noreferrer\">DEMO</a></strong></p>\n"}, {"tags": ["typescript"], "answers": [{"comments": [{"owner": {"reputation": 1387, "user_id": 1930482, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b5960053b3ba9ed93f79bced9dce97c8?s=128&d=identicon&r=PG", "display_name": "Aviad Hadad", "link": "https://stackoverflow.com/users/1930482/aviad-hadad"}, "edited": false, "score": 0, "creation_date": 1547660247, "post_id": 54220942, "comment_id": 95270753, "body": "ok, when checking, this doesn&#39;t work with <code>strictFunctionTypes</code> , and I prefer not to disable any strict flags. (I prefer casting to <code>any</code> locally)  Like I wrote, I&#39;m interested in a solution even purely from a theoretical point of view, trying to understand if something like this is possible to write with static types. it might just not be possible.  If you come up with a different solution it would be great if you can share it, I&#39;m kinda lost. removed acceptance for nowm if nobody will answer in a day or two will accept yours. Thanks for the help!"}, {"owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "reply_to_user": {"reputation": 1387, "user_id": 1930482, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b5960053b3ba9ed93f79bced9dce97c8?s=128&d=identicon&r=PG", "display_name": "Aviad Hadad", "link": "https://stackoverflow.com/users/1930482/aviad-hadad"}, "edited": false, "score": 0, "creation_date": 1547660535, "post_id": 54220942, "comment_id": 95270890, "body": "@AviadHadad wops, I thought I had it turned on ...sorry"}], "tags": [], "owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "is_accepted": true, "score": 1, "last_activity_date": 1547654585, "creation_date": 1547654585, "answer_id": 54220942, "question_id": 54220062, "link": "https://stackoverflow.com/questions/54220062/typescript-tagged-actions-and-array-of-reducers/54220942#54220942", "title": "Typescript, tagged actions and array of reducers", "body": "<p>The problem is that <code>minireducer</code> will be a union of all signatures, and the signature is not callable. </p>\n\n<p>There is <a href=\"https://github.com/Microsoft/TypeScript/pull/29011\" rel=\"nofollow noreferrer\">feature</a> for typescript <code>3.3</code> to relax this restriction but your code will not work as that will expect the first argument to be an intersection of all arguments in the signature union.</p>\n\n<p>One solution, if you don't mind an extra function call is to use an extra function, that will put the compiler to rest that the object will have the correct signature:</p>\n\n<pre><code>const reducer2 = (action: Actions, state: State) =&gt; {\n    // r must have a property K that is a function taking Action&lt;K&gt; \n    function call&lt;K extends Tags&gt;(o: Action&lt;K&gt;, r: Record&lt;K, (action: Action&lt;K&gt;, state: State) =&gt; State&gt;, state: State) {\n        r[o.type](o, state); // r[o.type] is  (action: Action&lt;K&gt;, state: State) =&gt; State which is callable with an Action&lt;K&gt; \n    }\n    const newState = call(action, minireducers, state);\n    return newState;\n}\n</code></pre>\n"}], "owner": {"reputation": 1387, "user_id": 1930482, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b5960053b3ba9ed93f79bced9dce97c8?s=128&d=identicon&r=PG", "display_name": "Aviad Hadad", "link": "https://stackoverflow.com/users/1930482/aviad-hadad"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 124, "favorite_count": 0, "accepted_answer_id": 54220942, "answer_count": 1, "score": 1, "last_activity_date": 1547654585, "creation_date": 1547651596, "question_id": 54220062, "link": "https://stackoverflow.com/questions/54220062/typescript-tagged-actions-and-array-of-reducers", "title": "Typescript, tagged actions and array of reducers", "body": "<p>I'm using typescript and working on code that borrows heavily from redux way of work, <code>(action, state) =&gt; state</code>.</p>\n\n<p>Trying really hard to use typescript in the strictest way possible. My issue is best explained with the example. </p>\n\n<p>First, I have an enum describing the types of actions:</p>\n\n<pre><code>enum Tags {\n  TAG_A = 'tagA',\n  TAG_B = 'tagB'\n}\n</code></pre>\n\n<p>next I define unique fields of every type:</p>\n\n<pre><code>type Payload = {\n  [Tags.TAG_A]: {\n    foo: string;\n  },\n  [Tags.TAG_B]: {\n    bar: number;\n  }\n}\n</code></pre>\n\n<p>now I define my action types:</p>\n\n<pre><code>type Action&lt;T extends Tags&gt; = {\n  type: T;\n  id: string;\n  moreCommonField: boolean;\n} &amp; Payload[T];\n\ntype Actions = { [T in Tags]: Action&lt;T&gt; }[Tags]\n</code></pre>\n\n<p>and now the reducer:</p>\n\n<pre><code>type State = { somevar: string }; //doesnt matter, example\n\nconst reducer = (action: Actions, state: State): State =&gt; {\n  switch (action.type) {\n    case Tags.TAG_A:\n      action.foo; /* correct type, yay */\n      break;\n    case Tags.TAG_B:\n      action.bar; /* correct type, yay */\n      break;\n  }\n  return {...state};\n}\n</code></pre>\n\n<p>So far, everything is great!</p>\n\n<p>But in the real world, I have lots and lots of action, and my <code>switch</code> looks kinda ugly.</p>\n\n<p>so I tried this:</p>\n\n<pre><code>const minireducers: { [K in Tags]: (action: Action&lt;K&gt;, state: State) =&gt; State } = {\n  [Tags.TAG_A]: (action, state) =&gt; {\n    // we have correct type of action here, big benefit\n    return {...state};\n  },\n  [Tags.TAG_B]: (action, state) =&gt; ({...state})\n}\n</code></pre>\n\n<p>This is great because most \"minireducers\" are just oneliners. This also has the benefit of forcing me to not forget to handle any actions I might add later. </p>\n\n<p>However, when I try to write the actual reducer for this:</p>\n\n<pre><code>const reducer2 = (action: Actions, state: State) =&gt; {\n  const minireducer = minireducers[action.type]; \n  const newState = minireducer(action, state); //error\n  return newState;\n}\n</code></pre>\n\n<hr>\n\n<p>The error here is clear to me, <code>action.type</code> isn't narrowed to any specific type, so <code>minireducer</code> can be many things, and it's type is a union, you can't call a union. With casting it will obviously work, but I would like a solution that doesn't require casting. Even just as a thought experiment. </p>\n\n<p>Anyone has any idea to a solution that is as type safe as possible and that would allow me to split my reducer into smaller reducers like in the example? </p>\n\n<p>You don't have to stick to my type definitions or structure, But again, type safety and good type inference is the goal here. </p>\n\n<p><a href=\"http://www.typescriptlang.org/play/#src=enum%20Tags%20%7B%0D%0A%20%20TAG_A%20%3D%20&#39;tagA&#39;%2C%0D%0A%20%20TAG_B%20%3D%20&#39;tagB&#39;%0D%0A%7D%0D%0A%0D%0Atype%20Payload%20%3D%20%7B%0D%0A%20%20%5BTags.TAG_A%5D%3A%20%7B%0D%0A%20%20%20%20foo%3A%20string%3B%0D%0A%20%20%7D%2C%0D%0A%20%20%5BTags.TAG_B%5D%3A%20%7B%0D%0A%20%20%20%20bar%3A%20number%3B%0D%0A%20%20%7D%0D%0A%7D%0D%0A%0D%0Atype%20Action%3CT%20extends%20Tags%3E%20%3D%20%7B%0D%0A%20%20type%3A%20T%3B%0D%0A%20%20id%3A%20string%3B%0D%0A%20%20moreCommonField%3A%20boolean%3B%0D%0A%7D%20%26%20Payload%5BT%5D%3B%0D%0Atype%20Actions%20%3D%20%7B%20%5BT%20in%20Tags%5D%3A%20Action%3CT%3E%20%7D%5BTags%5D%0D%0A%0D%0Atype%20State%20%3D%20%7B%20somevar%3A%20string%20%7D%3B%20%2F%2Fdoesnt%20matter%0D%0A%0D%0Aconst%20reducer%20%3D%20(action%3A%20Actions%2C%20state%3A%20State)%3A%20State%20%3D%3E%20%7B%0D%0A%20%20switch%20(action.type)%20%7B%0D%0A%20%20%20%20case%20Tags.TAG_A%3A%0D%0A%20%20%20%20%20%20action.foo%3B%20%2F%2Fcorrect%20type%2C%20yay%0D%0A%20%20%20%20%20%20break%3B%0D%0A%20%20%20%20case%20Tags.TAG_B%3A%0D%0A%20%20%20%20%20%20action.bar%3B%20%2F%2Fcorrect%20type%2C%20yay%0D%0A%20%20%20%20%20%20break%3B%0D%0A%20%20%7D%0D%0A%20%20return%20%7B...state%7D%0D%0A%7D%0D%0A%0D%0A%0D%0A%2F*%20now%20trying%20to%20break%20this%20*%2F%0D%0A%0D%0A%0D%0Aconst%20minireducers%3A%20%7B%20%5BK%20in%20Tags%5D%3A%20(action%3A%20Action%3CK%3E%2C%20state%3A%20State)%20%3D%3E%20State%20%7D%20%3D%20%7B%0D%0A%20%20%5BTags.TAG_A%5D%3A%20(action%2C%20state)%20%3D%3E%20%7B%0D%0A%20%20%20%20%2F%2F%20we%20have%20correct%20type%20of%20action%20here%2C%20big%20benfit%0D%0A%20%20%20%20return%20%7B...state%7D%3B%0D%0A%20%20%7D%2C%0D%0A%20%20%5BTags.TAG_B%5D%3A%20(action%2C%20state)%20%3D%3E%20%7B%0D%0A%20%20%20%20return%20%7B...state%7D%3B%0D%0A%20%20%7D%0D%0A%7D%0D%0A%0D%0Aconst%20reducer2%20%3D%20(action%3A%20Actions%2C%20state%3A%20State)%20%3D%3E%20%7B%0D%0A%20%20const%20minireducer%20%3D%20minireducers%5Baction.type%5D%3B%20%0D%0A%20%20const%20newState%20%3D%20minireducer(action%2C%20state)%3B%20%2F%2Ferror%0D%0A%0D%0A%20%20%2F%2Fwith%20casting%20it&#39;s%20fine%0D%0A%20%20const%20minireducer2%20%3D%20minireducers%5Baction.type%5D%20as%20(action%3A%20Actions%2C%20state%3A%20State)%20%3D%3E%20State%3B%0D%0A%20%20const%20newState2%20%3D%20minireducer2(action%2C%20state)%20%0D%0A%20%20return%20newState2%3B%0D%0A%7D\" rel=\"nofollow noreferrer\">link to playground</a></p>\n"}, {"tags": ["typescript", "async-await", "jestjs", "nock"], "answers": [{"tags": [], "owner": {"reputation": 26, "user_id": 7116855, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qUv1w.png?s=128&g=1", "display_name": "alaarmann", "link": "https://stackoverflow.com/users/7116855/alaarmann"}, "is_accepted": false, "score": 0, "last_activity_date": 1548026767, "creation_date": 1548026767, "answer_id": 54281928, "question_id": 54219928, "link": "https://stackoverflow.com/questions/54219928/how-to-specify-async-callback-function-as-reply-in-nock/54281928#54281928", "title": "how to specify async callback function as reply in nock?", "body": "<p>The current <a href=\"https://github.com/nock/nock#specifying-replies\" rel=\"nofollow noreferrer\">nock documentation</a> doesn't mention that <code>reply()</code> supports <code>async</code> / Promise-returning functions, but only a callback argument or node.js streams. </p>\n\n<p>According to that you could use the callback mechanism instead, the callback is provided as a third argument:</p>\n\n<pre><code>nock()\n  .get('/goodey')\n  .reply(async function (uri, requestBody, cb) {\n    let abc = await global.MyClass.backendRes();\n    cb(null, [abc.getStatus(), abc.getBody(),\n      abc.getHeader()];\n    return;\n  });\n</code></pre>\n"}], "owner": {"reputation": 109, "user_id": 8004295, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1951c2f8508e564efe23a082a046198e?s=128&d=identicon&r=PG&f=1", "display_name": "lanzchilz", "link": "https://stackoverflow.com/users/8004295/lanzchilz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 727, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1548026767, "creation_date": 1547651120, "last_edit_date": 1547659381, "question_id": 54219928, "link": "https://stackoverflow.com/questions/54219928/how-to-specify-async-callback-function-as-reply-in-nock", "title": "how to specify async callback function as reply in nock?", "body": "<p>I have a nock interceptor that intercepts calls from an async function (Which returns a promise)</p>\n\n<pre><code>public async backendRes(): Promise&lt;container&gt; {\n  get some data from abckend \n  return new container(stat, body, header);\n}\n</code></pre>\n\n<p>im calling it using nock like this: </p>\n\n<pre><code>nock()\n  .get('/goodey')\n  .reply(async function () {\n    let abc = await global.MyClass.backendRes();\n    return [abc.getStatus(), abc.getBody(),\n      abc.getHeader()];\n  });\n</code></pre>\n\n<p>But this doesnt work - somehow the reply within the nock is wrong. I am not sure how to fix it. Please help</p>\n"}, {"tags": ["javascript", "reactjs", "typescript", "d3.js"], "answers": [{"comments": [{"owner": {"reputation": 15031, "user_id": 1256496, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/hlmB0.jpg?s=128&g=1", "display_name": "zemirco", "link": "https://stackoverflow.com/users/1256496/zemirco"}, "edited": false, "score": 0, "creation_date": 1547711743, "post_id": 54220805, "comment_id": 95287406, "body": "You brought me on the right track. Here is my solution.          <code>drag().on(&#39;drag&#39;, (d: ISample, i: number, group) =&gt; {           const element = group[i];           const coordinates = mouse(element);           const x = coordinates[0];           d.x = this.xScale.invert(x);           select(element).attr(&#39;cx&#39;, x);         })</code>"}], "tags": [], "owner": {"reputation": 11834, "user_id": 9938317, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6b72fceef5630b6b962624fed6ac9c82?s=128&d=identicon&r=PG&f=1", "display_name": "rioV8", "link": "https://stackoverflow.com/users/9938317/riov8"}, "is_accepted": true, "score": 1, "last_activity_date": 1547654080, "creation_date": 1547654080, "answer_id": 54220805, "question_id": 54219862, "link": "https://stackoverflow.com/questions/54219862/drag-circles-with-scalelinear-initial-position/54220805#54220805", "title": "Drag circles with scaleLinear initial position", "body": "<p>You need to transform the mouse position to the <code>g</code> of the chart</p>\n\n<pre><code>import { event, select, Selection, mouse } from \"d3-selection\";\n\n\n  public yellow(data: ISample[]) {\n    // draw circles\n    var that = this;\n    this.chart\n      .selectAll(\"circle\")\n      .data(data)\n      .enter()\n      .append(\"circle\")\n      .attr(\"cx\", d =&gt; this.xScale(d.x))\n      .attr(\"cy\", d =&gt; this.yScale(d.y))\n      .attr(\"r\", 8)\n      .attr(\"fill\", \"orange\")\n      .attr(\"class\", \"circle\")\n      .call(\n        drag().on(\"drag\", function(d) {\n          select(this).attr(\"cx\", (d.x = mouse(that.chart.node())[0]));\n        })\n      );\n  }\n</code></pre>\n"}], "owner": {"reputation": 15031, "user_id": 1256496, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/hlmB0.jpg?s=128&g=1", "display_name": "zemirco", "link": "https://stackoverflow.com/users/1256496/zemirco"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 98, "favorite_count": 1, "accepted_answer_id": 54220805, "answer_count": 1, "score": 2, "last_activity_date": 1547655080, "creation_date": 1547650943, "last_edit_date": 1547655080, "question_id": 54219862, "link": "https://stackoverflow.com/questions/54219862/drag-circles-with-scalelinear-initial-position", "title": "Drag circles with scaleLinear initial position", "body": "<p>I'm having trouble dragging circles within my chart. Here is the live demo <a href=\"https://codesandbox.io/s/71loxoq65j\" rel=\"nofollow noreferrer\">https://codesandbox.io/s/71loxoq65j</a>.</p>\n\n<p>My chart</p>\n\n<pre><code>import { event, select, Selection } from \"d3-selection\";\nimport { scaleLinear, ScaleLinear } from \"d3-scale\";\nimport { Axis, axisBottom, axisLeft } from \"d3-axis\";\nimport { line, Line } from \"d3-shape\";\nimport { drag } from \"d3-drag\";\n\ninterface IMargin {\n  left: number;\n  right: number;\n  top: number;\n  bottom: number;\n}\n\ninterface IConfig {\n  height: number;\n  margin: IMargin;\n  target: SVGSVGElement;\n  width: number;\n}\n\ninterface ISample {\n  x: number;\n  y: number;\n}\n\nexport default class Trigger {\n  private chart: Selection&lt;SVGGElement, {}, null, undefined&gt;;\n  private xScale: ScaleLinear&lt;number, number&gt;;\n  private yScale: ScaleLinear&lt;number, number&gt;;\n  private xAxis: Axis&lt;number&gt;;\n  private xAxisGroup: Selection&lt;SVGGElement, {}, null, undefined&gt;;\n  private yAxis: Axis&lt;number&gt;;\n  private yAxisGroup: Selection&lt;SVGGElement, {}, null, undefined&gt;;\n\n  constructor(config: IConfig) {\n    const w = config.width - config.margin.left - config.margin.right;\n    const h = config.height - config.margin.top - config.margin.bottom;\n\n    // create global chart object\n    this.chart = select(config.target)\n      .attr(\"width\", config.width)\n      .attr(\"height\", config.height)\n      .append(\"g\")\n      .attr(\n        \"transform\",\n        `translate(${config.margin.left}, ${config.margin.top})`\n      );\n\n    // create x scale function\n    this.xScale = scaleLinear()\n      .domain([0, 100])\n      .range([0, w]);\n\n    // create y scale function\n    this.yScale = scaleLinear()\n      .domain([0, 100])\n      .range([h, 0]);\n\n    // create x axis function\n    this.xAxis = (axisBottom(this.xScale) as Axis&lt;number&gt;).ticks(5);\n\n    // create y axis function\n    this.yAxis = (axisLeft(this.yScale) as Axis&lt;number&gt;).ticks(5);\n\n    // append x axis to chart and call xAxis function\n    this.xAxisGroup = this.chart\n      .append(\"g\")\n      .attr(\"class\", \"x axis\")\n      .attr(\"transform\", `translate(0, ${h})`)\n      .call(this.xAxis);\n\n    // append y axis to chart and call yAxis function\n    this.yAxisGroup = this.chart\n      .append(\"g\")\n      .attr(\"class\", \"y axis\")\n      .call(this.yAxis);\n\n    // add x axis description\n    this.chart\n      .append(\"text\")\n      .attr(\"x\", w / 2)\n      .attr(\"y\", h + config.margin.bottom)\n      .style(\"text-anchor\", \"middle\")\n      .text(\"foo\");\n\n    // add y axis description\n    this.chart\n      .append(\"text\")\n      .attr(\"x\", -h / 2)\n      .attr(\"y\", -config.margin.left)\n      .attr(\"transform\", \"rotate(-90)\")\n      .attr(\"text-anchor\", \"middle\")\n      .attr(\"alignment-baseline\", \"hanging\")\n      .text(\"bar\");\n  }\n\n  public yellow(data: ISample[]) {\n    // draw circles\n    this.chart\n      .selectAll(\"circle\")\n      .data(data)\n      .enter()\n      .append(\"circle\")\n      .attr(\"cx\", d =&gt; this.xScale(d.x))\n      .attr(\"cy\", d =&gt; this.yScale(d.y))\n      .attr(\"r\", 8)\n      .attr(\"fill\", \"orange\")\n      .attr(\"class\", \"circle\")\n      .call(\n        drag().on(\"drag\", function(d) {\n          select(this).attr(\"cx\", (d.x = event.x));\n        })\n      );\n  }\n}\n</code></pre>\n\n<p>And my component which is calling the chart</p>\n\n<pre><code>import * as React from \"react\";\nimport { render } from \"react-dom\";\nimport Chart from \"./chart\";\n\nimport \"./styles.css\";\n\nconst Trigger = () =&gt; {\n  const chart: React.MutableRefObject&lt;Chart | null&gt; = React.useRef(null);\n\n  const chartRef = React.useRef(null);\n\n  const [start, setStart] = React.useState(20);\n  const [end, setEnd] = React.useState(50);\n\n  // run on did mount but never again\n  React.useEffect(() =&gt; {\n    chart.current = new Chart({\n      height: 320,\n      margin: {\n        bottom: 40,\n        left: 50,\n        right: 20,\n        top: 10\n      },\n      target: chartRef.current!,\n      width: 640\n    });\n\n    const yellow = [{ x: start, y: 50 }, { x: end, y: 50 }];\n    chart.current.yellow(yellow);\n  }, []);\n\n  return (\n    &lt;div&gt;\n      &lt;svg ref={chartRef} /&gt;\n    &lt;/div&gt;\n  );\n};\n\nconst rootElement = document.getElementById(\"root\");\nrender(&lt;Trigger /&gt;, rootElement);\n</code></pre>\n\n<p>As you can see the initial position on the first drag is wrong. It always starts at <code>0</code>. The circle jumps to the left. Afterwards everything is fine and it works as expected. I tried to follow this simple example <a href=\"https://bl.ocks.org/mbostock/22994cc97fefaeede0d861e6815a847e\" rel=\"nofollow noreferrer\">https://bl.ocks.org/mbostock/22994cc97fefaeede0d861e6815a847e</a> but it doesn't have any scales.</p>\n\n<p>What am I doing wrong?</p>\n\n<p>Best regards,\nMirco</p>\n"}, {"tags": ["angular", "typescript", "angular6", "observable"], "comments": [{"owner": {"reputation": 5261, "user_id": 858757, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mMQgQ.png?s=128&g=1", "display_name": "Silvermind", "link": "https://stackoverflow.com/users/858757/silvermind"}, "edited": false, "score": 1, "creation_date": 1547649894, "post_id": 54219510, "comment_id": 95264725, "body": "It&#39;s an observable, not an array. Have you tried <code>*ngFor=&quot;let todo of (cs.$todos | async)&quot;</code>"}, {"owner": {"reputation": 290, "user_id": 9945539, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/EG22g.png?s=128&g=1", "display_name": "samga", "link": "https://stackoverflow.com/users/9945539/samga"}, "reply_to_user": {"reputation": 5261, "user_id": 858757, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mMQgQ.png?s=128&g=1", "display_name": "Silvermind", "link": "https://stackoverflow.com/users/858757/silvermind"}, "edited": false, "score": 0, "creation_date": 1547650739, "post_id": 54219510, "comment_id": 95265261, "body": "Thanks it worked."}], "answers": [{"comments": [{"owner": {"reputation": 57675, "user_id": 1009922, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/K0eeL.jpg?s=128&g=1", "display_name": "ConnorsFan", "link": "https://stackoverflow.com/users/1009922/connorsfan"}, "edited": false, "score": 1, "creation_date": 1547651103, "post_id": 54219572, "comment_id": 95265489, "body": "Is <code>| async</code> also missing from your answer? :-)"}], "tags": [], "owner": {"reputation": 7081, "user_id": 71245, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/f9ccd98c185d7407c6d27e2875335a31?s=128&d=identicon&r=PG", "display_name": "Leon Radley", "link": "https://stackoverflow.com/users/71245/leon-radley"}, "is_accepted": true, "score": 0, "last_activity_date": 1547883443, "last_edit_date": 1547883443, "creation_date": 1547650053, "answer_id": 54219572, "question_id": 54219510, "link": "https://stackoverflow.com/questions/54219510/how-do-i-loop-through-my-data-which-i-receive-per-api/54219572#54219572", "title": "How do I loop through my data which I receive per api", "body": "<p>As your error says.\nAngular only supports iterating over arrays.</p>\n\n<p>I think you are missing the <code>| async</code> for converting your observable back to an array.</p>\n\n<p><code>&lt;app-editform [toDo$]=\"todo\" *ngFor=\"let todo of cs.$todos | async\"&gt;&lt;/app-editform&gt;</code></p>\n"}, {"tags": [], "owner": {"reputation": 7685, "user_id": 8718377, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kGFwM.png?s=128&g=1", "display_name": "veben", "link": "https://stackoverflow.com/users/8718377/veben"}, "is_accepted": false, "score": 0, "last_activity_date": 1547650885, "last_edit_date": 1547650885, "creation_date": 1547650274, "answer_id": 54219642, "question_id": 54219510, "link": "https://stackoverflow.com/questions/54219510/how-do-i-loop-through-my-data-which-i-receive-per-api/54219642#54219642", "title": "How do I loop through my data which I receive per api", "body": "<p>You can't iterate to an <code>Observable</code>. You should subscribe to it to recover the <strong>array</strong> of <code>TodoService</code>. Try something like that:</p>\n\n<pre><code>public $todos :TodoService[];\n\n// ..\n\npublic getGlobalData() {\n    this.getToDoData().subscribe(result =&gt; this.$todos = result);\n}\n</code></pre>\n\n<p>Or you can directly convert the <code>Observable</code> to an array using <code>async</code> in yout html:</p>\n\n<pre><code>&lt;app-editform [toDo$]=\"todo\" *ngFor=\"let todo of (cs.$todos | async)\"&gt;&lt;/app-editform&gt;\n</code></pre>\n"}], "owner": {"reputation": 290, "user_id": 9945539, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/EG22g.png?s=128&g=1", "display_name": "samga", "link": "https://stackoverflow.com/users/9945539/samga"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 57, "favorite_count": 0, "accepted_answer_id": 54219572, "answer_count": 2, "score": 0, "last_activity_date": 1548237553, "creation_date": 1547649808, "last_edit_date": 1548237553, "question_id": 54219510, "link": "https://stackoverflow.com/questions/54219510/how-do-i-loop-through-my-data-which-i-receive-per-api", "title": "How do I loop through my data which I receive per api", "body": "<p>So when I try to loop through data which I receive per api, I get this error:</p>\n\n<blockquote>\n  <p>Cannot find a differ supporting object '[object Object]' of type 'object'. >NgFor only supports binding to Iterables such as Arrays.</p>\n</blockquote>\n\n<p>Here is my component where I try to loop through it (<strong>main.component.html</strong>):</p>\n\n<p><code>&lt;app-editform [toDo$]=\"todo\" *ngFor=\"let todo of cs.$todos\"&gt;&lt;/app-editform&gt;</code> </p>\n\n<p>Here is the constructor of <strong>main.component.ts</strong>:</p>\n\n<pre><code>import {ConfigService} from '../service/config.service';\n\nconstructor(public cs : ConfigService) { \n}\n</code></pre>\n\n<p>Here is my <strong>config.service.ts</strong> file:</p>\n\n<pre><code>import {TodoService} from './todo.service';\nimport { Observable } from 'rxjs';\n\nexport class ConfigService {\n\n    public $todos: Observable&lt;TodoService[]&gt;;\n\n    constructor(private http:HttpClient) {\n        this.getGlobalData();\n    }\n\n    public getGlobalData(): void {\n        this.$todos = this.getToDoData();\n    }\n\n    public getToDoData(): Observable&lt;TodoService[]&gt; {\n        return this.http.get&lt;TodoService[]&gt;(`${this.url}`);\n    }\n}\n</code></pre>\n"}, {"tags": ["angular", "typescript"], "comments": [{"owner": {"reputation": 2918, "user_id": 3979823, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/azljt.png?s=128&g=1", "display_name": "ABOS", "link": "https://stackoverflow.com/users/3979823/abos"}, "edited": false, "score": 0, "creation_date": 1547648646, "post_id": 54219128, "comment_id": 95263873, "body": "can you query offsetWidth after hiding?"}, {"owner": {"reputation": 57675, "user_id": 1009922, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/K0eeL.jpg?s=128&g=1", "display_name": "ConnorsFan", "link": "https://stackoverflow.com/users/1009922/connorsfan"}, "edited": false, "score": 1, "creation_date": 1547648903, "post_id": 54219128, "comment_id": 95264039, "body": "Can you show how you use <code>menu_bar_status</code> in the HTML template?"}, {"owner": {"reputation": 3, "user_id": 7447777, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-apLRtUcQroI/AAAAAAAAAAI/AAAAAAAAAgY/r3h4s8pHPZg/photo.jpg?sz=128", "display_name": "Sergey Dymov", "link": "https://stackoverflow.com/users/7447777/sergey-dymov"}, "edited": false, "score": 0, "creation_date": 1547649531, "post_id": 54219128, "comment_id": 95264493, "body": "&lt;span [class.menu-bar]=&quot;menu_bar_status&quot; class=&quot;ml-1&quot;&gt;{{link.name}}&lt;/span&gt;"}], "answers": [{"comments": [{"owner": {"reputation": 6954, "user_id": 1850851, "user_type": "registered", "accept_rate": 42, "profile_image": "https://www.gravatar.com/avatar/6784558f77f063472d44576d296a8a61?s=128&d=identicon&r=PG", "display_name": "Cristian Tra&#236;na", "link": "https://stackoverflow.com/users/1850851/cristian-tra%c3%acna"}, "edited": false, "score": 0, "creation_date": 1547649876, "post_id": 54219466, "comment_id": 95264709, "body": "Why zone doesn&#39;t work? I thought ZoneJS overrode setTimeout"}, {"owner": {"reputation": 42740, "user_id": 1031569, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/MTZr2.png?s=128&g=1", "display_name": "Reactgular", "link": "https://stackoverflow.com/users/1031569/reactgular"}, "reply_to_user": {"reputation": 6954, "user_id": 1850851, "user_type": "registered", "accept_rate": 42, "profile_image": "https://www.gravatar.com/avatar/6784558f77f063472d44576d296a8a61?s=128&d=identicon&r=PG", "display_name": "Cristian Tra&#236;na", "link": "https://stackoverflow.com/users/1850851/cristian-tra%c3%acna"}, "edited": false, "score": 0, "creation_date": 1547650861, "post_id": 54219466, "comment_id": 95265345, "body": "@CristianTra&#236;na I believe you are correct. Thank. I&#39;ll update the answer"}], "tags": [], "owner": {"reputation": 42740, "user_id": 1031569, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/MTZr2.png?s=128&g=1", "display_name": "Reactgular", "link": "https://stackoverflow.com/users/1031569/reactgular"}, "is_accepted": true, "score": 1, "last_activity_date": 1547650904, "last_edit_date": 1547650904, "creation_date": 1547649659, "answer_id": 54219466, "question_id": 54219128, "link": "https://stackoverflow.com/questions/54219128/how-to-call-method-after-completing-method/54219466#54219466", "title": "How to call method after completing method?", "body": "<p>You have to allow time for the changes in the component to be rendered to the DOM. </p>\n\n<p>One way to do this is to use a <code>window.setTimeout()</code> to execute the <code>change_margin()</code> in the next JavaScript cycle.</p>\n\n<pre><code>toggle_menu_text() {\n    this.menu_bar_status = !this.menu_bar_status;\n    window.setTimeout(()=&gt;this.change_margin());\n}\n</code></pre>\n\n<p>The above will delay the call to the function, but now change detection won't work. So we must run the callback inside Angular using a zone. You can use a zone by injecting <code>NgZone</code> into your component's constructor and calling the <code>run()</code> method.</p>\n\n<pre><code>toggle_menu_text() {\n    this.menu_bar_status = !this.menu_bar_status;\n    window.setTimeout(()=&gt; this.zone.run(()=&gt;this.change_margin()));\n}\n</code></pre>\n\n<p><strong>UPDATED:</strong></p>\n\n<p>As pointed out in the comment. I do not believe you need to use zones with <code>setTimeout()</code>.</p>\n\n<p><a href=\"https://stackoverflow.com/questions/46065859/when-should-i-use-zone-run-in-angular-2\">When should i use zone.run in angular 2</a></p>\n"}], "owner": {"reputation": 3, "user_id": 7447777, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-apLRtUcQroI/AAAAAAAAAAI/AAAAAAAAAgY/r3h4s8pHPZg/photo.jpg?sz=128", "display_name": "Sergey Dymov", "link": "https://stackoverflow.com/users/7447777/sergey-dymov"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 45, "favorite_count": 0, "accepted_answer_id": 54219466, "answer_count": 1, "score": 0, "last_activity_date": 1547650904, "creation_date": 1547648523, "question_id": 54219128, "link": "https://stackoverflow.com/questions/54219128/how-to-call-method-after-completing-method", "title": "How to call method after completing method?", "body": "<p>Ok, i tried to change margin after hidden text in sidebar by using width of element, but it gets value before hiding text, how can i fix it?</p>\n\n<p>TS </p>\n\n<pre><code>toggle_menu_text() {\n    this.menu_bar_status = !this.menu_bar_status;\n    this.change_margin();\n  }\n  change_margin() {\n    this.side_bar_width = document.getElementById('side_nav_width').offsetWidth;\n    console.log(this.side_bar_width);\n  }\n</code></pre>\n\n<p>HTML </p>\n\n<pre><code>&lt;mat-sidenav-content [style.margin-left.px] = \"side_bar_width\"&gt;\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/73i3M.gif\" rel=\"nofollow noreferrer\">GIF</a></p>\n"}, {"tags": ["javascript", "angular", "typescript", "oauth-2.0"], "comments": [{"owner": {"reputation": 162935, "user_id": 1175966, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8d3d9dfbd040f9cbc1a6b82f0da2b345?s=128&d=identicon&r=PG", "display_name": "charlietfl", "link": "https://stackoverflow.com/users/1175966/charlietfl"}, "edited": false, "score": 1, "creation_date": 1547660527, "post_id": 54219076, "comment_id": 95270886, "body": "Can use postMessage API or storage events to communicate between the two windows. Use a very minimal page for the redirect and put script in that oage to tell opening page of success. Will know success when the redirect gets loaded and has the proper params in url"}, {"owner": {"reputation": 4945, "user_id": 1891133, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/DHTbb.png?s=128&g=1", "display_name": "Max", "link": "https://stackoverflow.com/users/1891133/max"}, "edited": false, "score": 0, "creation_date": 1547718439, "post_id": 54219076, "comment_id": 95290947, "body": "In this situation is better to open a popup window."}, {"owner": {"reputation": 29, "user_id": 9734024, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GB2la.png?s=128&g=1", "display_name": "bMikolaj", "link": "https://stackoverflow.com/users/9734024/bmikolaj"}, "edited": false, "score": 0, "creation_date": 1547822701, "post_id": 54219076, "comment_id": 95336380, "body": "We will use a popup window. It&#39;s best if we dont over complicate things if it&#39;s not needed."}], "owner": {"reputation": 29, "user_id": 9734024, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GB2la.png?s=128&g=1", "display_name": "bMikolaj", "link": "https://stackoverflow.com/users/9734024/bmikolaj"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 52, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1547648376, "creation_date": 1547648376, "question_id": 54219076, "link": "https://stackoverflow.com/questions/54219076/microsoft-authorization-with-new-tab", "title": "Microsoft authorization with new tab", "body": "<p>I need to implement login functionality with Microsoft via a new tab.</p>\n\n<p>Currently our login process works with Microsoft in a  way which is not really suited for our needs. The  user clicks a login button, gets redirected to the Microsoft sign in page, enters his information and gets redirected back to our login page. This all happens on the same tab. In the code bellow is an example of this:</p>\n\n<pre><code>authenticateOffice(finallyCallback?: () =&gt; void): void {\n    finallyCallback = finallyCallback || (() =&gt; {\n    });\n\n    let currentUrl = location.href;\n    this.redirectLocationUrl = currentUrl.substr(0, currentUrl.indexOf('#'));\n    let url = \"https://login.microsoftonline.com/\".concat(this.office365Domain, \"/oauth2/v2.0/authorize?client_id=\", this.clientId,\n        \"&amp;response_type=id_token&amp;redirect_uri=\", this.redirectLocationUrl, \"&amp;response_mode=fragment&amp;scope=openid profile&amp;state=12345&amp;nonce=678910\");\n\n     window.location.href = url;\n}\n</code></pre>\n\n<p>Pretty straightforward and nothing too complex.</p>\n\n<p>What we need to do in layman's terms is:<br>\n1. Open a new tab when clicking the login button<br>\n2. User enters his information on the Microsoft login page<br>\n3. When authorized, tab is automatically closed<br>\n4. Our login page then receives the \"id_token\" from Microsoft from oauth2 and with this I do the rest of my login logic</p>\n\n<pre><code>else if (!StringHelper.isNullOrEmpty(window.location.hash) &amp;&amp; window.location.hash.startsWith('#id_token')) {\n    let response = window.location.hash;\n    this._office365Service.getOfficeId(response)\n        .subscribe((result: string) =&gt; {\n                let key = result;\n                if (key) {\n                    this._loginService.processOfficeIdResult(key);\n                } else {\n                    abp.message.warn(this._localizationService.localize('Office365User', this.localizationSourceName));\n                }                  \n            });\n}\n</code></pre>\n\n<p>My question is this:\nHow can we regain or rather take control of this \"new\" tab and do something with it?\nHow can we know when authorization is complete?If it fails or is successful?</p>\n\n<p>In my previous research all i could come by was the callback approach but how can you send a function to a new tab which knows when to close the tab?And how can you receive authorization information when the user is successfully authenticated?                                               </p>\n\n<pre><code>var win = window.open(\"window.html\"); \n</code></pre>\n\n<p>And then what? You write a function which calls itself every second and checks for input?<br>\n(just throwing ideas here)</p>\n"}, {"tags": ["html", "css", "typescript", "input"], "comments": [{"owner": {"reputation": 495, "user_id": 2989484, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/1682c070b62c2a2c2e4f761a28db0f7b?s=128&d=identicon&r=PG&f=1", "display_name": "guitarzero", "link": "https://stackoverflow.com/users/2989484/guitarzero"}, "edited": false, "score": 0, "creation_date": 1547649012, "post_id": 54218985, "comment_id": 95264113, "body": "Do you beforehand know how many integers the user can/will use?"}, {"owner": {"reputation": 47740, "user_id": 395910, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/59c1bcdff2510bdb021b3afe1eb69677?s=128&d=identicon&r=PG", "display_name": "Terry", "link": "https://stackoverflow.com/users/395910/terry"}, "edited": false, "score": 1, "creation_date": 1547653822, "post_id": 54218985, "comment_id": 95267138, "body": "The additional string you want to append to the value should simply reside in a sibling element after the <code>&lt;input&gt;</code> element."}], "answers": [{"tags": [], "owner": {"reputation": 706, "user_id": 1433116, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e4a0766ac42c8a56cf3c6adaf8b09a10?s=128&d=identicon&r=PG", "display_name": "night_owl", "link": "https://stackoverflow.com/users/1433116/night-owl"}, "is_accepted": false, "score": 0, "last_activity_date": 1547649779, "creation_date": 1547649779, "answer_id": 54219502, "question_id": 54218985, "link": "https://stackoverflow.com/questions/54218985/append-a-text-to-input-field-without-changing-its-value/54219502#54219502", "title": "Append a text to input field without changing its value?", "body": "<p>You could do this somewhat cheaply by simply sticking a span after the input and applying a negative margin-right to the input:</p>\n\n<pre><code>&lt;input type='number' style='margin-right: -10em;'&gt;&lt;span&gt;days&lt;/span&gt;\n</code></pre>\n\n<p>That way you aren't touching your data at all and it remains purely cosmetic.</p>\n"}, {"tags": [], "owner": {"reputation": 495, "user_id": 2989484, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/1682c070b62c2a2c2e4f761a28db0f7b?s=128&d=identicon&r=PG&f=1", "display_name": "guitarzero", "link": "https://stackoverflow.com/users/2989484/guitarzero"}, "is_accepted": false, "score": 0, "last_activity_date": 1547650268, "creation_date": 1547650268, "answer_id": 54219639, "question_id": 54218985, "link": "https://stackoverflow.com/questions/54218985/append-a-text-to-input-field-without-changing-its-value/54219639#54219639", "title": "Append a text to input field without changing its value?", "body": "<p>You could absolute position a span or :after at the end of the input. This is more useful if you actually know the length of the input however. Otherwise I would use JS to calculate width of the input and append it.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"true\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code snippet-currently-hidden\">\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>.wrapper {\r\n  display: inline-block;\r\n  border: 1px solid gray;\r\n  position: relative;\r\n  font-family: Arial;\r\n  font-size: 1rem;\r\n}\r\n\r\n.wrapper:after {\r\n  content: 'kg';\r\n  position: absolute;\r\n  top: 50%;\r\n  transform: translateY(-50%);\r\n  right: .5rem;\r\n  pointer-events: none;\r\n}\r\n\r\ninput {\r\n  width: 4rem;\r\n  padding: .5rem;\r\n  border: none;\r\n  box-sizing: border-box;\r\n  display: block;\r\n  font-size: 1rem;\r\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;div class=\"wrapper\"&gt;\r\n  &lt;input type=\"text\" value=\"100\"&gt;\r\n&lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": [], "owner": {"reputation": 396, "user_id": 5309673, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cef74781beab9087d416f012f3906c54?s=128&d=identicon&r=PG", "display_name": "shanomurphy", "link": "https://stackoverflow.com/users/5309673/shanomurphy"}, "is_accepted": false, "score": 1, "last_activity_date": 1547653166, "creation_date": 1547653166, "answer_id": 54220517, "question_id": 54218985, "link": "https://stackoverflow.com/questions/54218985/append-a-text-to-input-field-without-changing-its-value/54220517#54220517", "title": "Append a text to input field without changing its value?", "body": "<p>Instead of inserting the unit into the input why not have a specific style of input for these scenarios where you can append or prepend any unit. Something like:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>.unit-input {\r\n  border: #DFDFDF solid 1px;\r\n  display: inline-flex;\r\n  border-radius: 4px;\r\n  overflow: hidden;\r\n  font-family: sans-serif;\r\n  width: 10em;\r\n}\r\n\r\n.unit-input__input {\r\n  border: 0;\r\n  padding: .5em;\r\n  font-size: 1em;\r\n  width: 100%;\r\n}\r\n\r\n.unit-input__input:focus {\r\n  background: #EDFFFB;\r\n  outline: none;\r\n}\r\n\r\n.unit-input__prepend,\r\n.unit-input__append {\r\n  background: #F4F4F4;\r\n  padding: .5em;\r\n  border: #DFDFDF solid 0;\r\n  flex-grow: 0;\r\n}\r\n\r\n.unit-input__prepend {\r\n  border-right-width: 1px;\r\n}\r\n\r\n.unit-input__append {\r\n  border-left-width: 1px;\r\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;p&gt;\r\n  &lt;span class=\"unit-input\"&gt;\r\n    &lt;input class=\"unit-input__input\" type=\"number\"&gt;\r\n    &lt;span class=\"unit-input__append\"&gt;days&lt;/span&gt;\r\n  &lt;/span&gt;\r\n&lt;/p&gt;\r\n\r\n&lt;p&gt;\r\n  &lt;span class=\"unit-input\"&gt;\r\n    &lt;span class=\"unit-input__prepend\"&gt;$&lt;/span&gt;\r\n    &lt;input class=\"unit-input__input\" type=\"number\"&gt;\r\n  &lt;/span&gt;\r\n&lt;/p&gt;\r\n\r\n&lt;p&gt;\r\n  &lt;span class=\"unit-input\"&gt;\r\n    &lt;input class=\"unit-input__input\" type=\"number\"&gt;\r\n    &lt;span class=\"unit-input__append\"&gt;kg&lt;/span&gt;\r\n  &lt;/span&gt;\r\n&lt;/p&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 620, "user_id": 4388875, "user_type": "registered", "accept_rate": 46, "profile_image": "https://i.stack.imgur.com/cFjAf.png?s=128&g=1", "display_name": "ignite-me", "link": "https://stackoverflow.com/users/4388875/ignite-me"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 969, "favorite_count": 0, "answer_count": 3, "score": 0, "last_activity_date": 1547653166, "creation_date": 1547648090, "question_id": 54218985, "link": "https://stackoverflow.com/questions/54218985/append-a-text-to-input-field-without-changing-its-value", "title": "Append a text to input field without changing its value?", "body": "<p>I have an input field with type \"number\", but I want to append text \" days\" inside that input field value without changing the actual value that comes out of it.</p>\n\n<pre><code>&lt;input type=\"number\" class=\"days\" (keyup)=\"valueChanged($event)\"/&gt;\n</code></pre>\n\n<p>If the user changes the value, they should be able to change only the numerical value and the appended \" days\" is only visual <em>addon</em> to that field.</p>\n\n<p>Is there a way to do it in CSS or TypeScript/JS?</p>\n"}, {"tags": ["javascript", "angular", "typescript", "bootstrap-datepicker"], "comments": [{"owner": {"reputation": 42804, "user_id": 2181397, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/616931b5c5ba8790a191fa6aea465c65?s=128&d=identicon&r=PG", "display_name": "brk", "link": "https://stackoverflow.com/users/2181397/brk"}, "edited": false, "score": 0, "creation_date": 1547647517, "post_id": 54218783, "comment_id": 95263121, "body": "Is this line <code>return item.getTime() == value.getTime()</code> working ? item is just a variable which may not have getTime method?"}, {"owner": {"reputation": 17982, "user_id": 3689450, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SXuSR.png?s=128&g=1", "display_name": "VLAZ", "link": "https://stackoverflow.com/users/3689450/vlaz"}, "edited": false, "score": 4, "creation_date": 1547647535, "post_id": 54218783, "comment_id": 95263137, "body": "<a href=\"https://stackoverflow.com/questions/3127429/how-does-the-this-keyword-work\"><code>this</code> does not have the value you expect</a>."}, {"owner": {"reputation": 14830, "user_id": 3757232, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/kLzML.jpg?s=128&g=1", "display_name": "Jared Smith", "link": "https://stackoverflow.com/users/3757232/jared-smith"}, "edited": false, "score": 4, "creation_date": 1547647747, "post_id": 54218783, "comment_id": 95263262, "body": "Also note that you can use <code>Array.prototype.some</code> instead of <code>Array.prototype.find</code> to avoid the need to cast to boolean."}], "answers": [{"tags": [], "owner": {"reputation": 2078, "user_id": 554021, "user_type": "registered", "accept_rate": 27, "profile_image": "https://i.stack.imgur.com/Gef5G.jpg?s=128&g=1", "display_name": "Baruch", "link": "https://stackoverflow.com/users/554021/baruch"}, "is_accepted": true, "score": 6, "last_activity_date": 1547647679, "creation_date": 1547647679, "answer_id": 54218859, "question_id": 54218783, "link": "https://stackoverflow.com/questions/54218783/function-is-not-a-function/54218859#54218859", "title": "Function is not a function?", "body": "<p>You are changing the scope of your <code>beforeShowMonth</code> function.</p>\n\n<p>Try using arrow functions instead</p>\n\n<pre><code>beforeShowMonth: (date: Date) =&gt; \n  this.isInArray(this.datepickerRange, date.getDate())\n</code></pre>\n\n<p>Arrow functions maintain the scope of the enclosing object. You can read more abuot it <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Functions/Arrow_functions\" rel=\"noreferrer\">here</a> </p>\n"}], "owner": {"reputation": 529, "user_id": 8683646, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/36878cd25773fdf10558202385813ae0?s=128&d=identicon&r=PG&f=1", "display_name": "D.Zet", "link": "https://stackoverflow.com/users/8683646/d-zet"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 82, "favorite_count": 1, "closed_date": 1547647764, "accepted_answer_id": 54218859, "answer_count": 1, "score": 1, "last_activity_date": 1547647715, "creation_date": 1547647429, "last_edit_date": 1547647715, "question_id": 54218783, "link": "https://stackoverflow.com/questions/54218783/function-is-not-a-function", "closed_reason": "Duplicate", "title": "Function is not a function?", "body": "<p>I have a little problem becouse I want to use my function in options for bootstrap-datepicker. I have function to check that date is in array of dates:</p>\n\n<pre><code>isInArray(array, value) {\n    return !!array.find(item =&gt; {\n        return item.getTime() == value.getTime()\n    });\n}\n</code></pre>\n\n<p>And I want to use it in this option (<a href=\"https://bootstrap-datepicker.readthedocs.io/en/latest/options.html#beforeshowmonth\" rel=\"nofollow noreferrer\">https://bootstrap-datepicker.readthedocs.io/en/latest/options.html#beforeshowmonth</a>) so I put this to my options:</p>\n\n<pre><code>this.datepickerOptionsForMonths = {\n    minViewMode: 1,\n    format: \"mm-yyyy\",\n    startDate: this.dateFrom,\n    endDate: this.dateTo,\n    beforeShowMonth: function (date: Date) {\n       return this.isInArray(this.datepickerRange, date.getDate());\n    }\n};\n</code></pre>\n\n<p>And now is the problem becouse compilation is completed, everything seems fine but then in console I'm getting errors:</p>\n\n<pre><code>this.isInArray is not a function\n</code></pre>\n\n<p>Maybe the problem is that I've already used this function in the same body where datepickerOptionsForMonths are (in ngOnInit). Can someone help me?</p>\n"}, {"tags": ["html", "angular", "typescript", "unit-testing", "dom"], "answers": [{"tags": [], "owner": {"reputation": 1, "user_id": 11878665, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0dfb5931618caf59dde89734e53ea276?s=128&d=identicon&r=PG&f=1", "display_name": "Rookie1992", "link": "https://stackoverflow.com/users/11878665/rookie1992"}, "is_accepted": false, "score": 0, "last_activity_date": 1572268484, "last_edit_date": 1572268484, "creation_date": 1572268131, "answer_id": 58591520, "question_id": 54218755, "link": "https://stackoverflow.com/questions/54218755/unit-testing-presence-of-mat-error-after-touching-and-untouching-mat-input/58591520#58591520", "title": "Unit testing presence of mat-error after touching and untouching mat-input", "body": "<p>Maybe something like:  </p>\n\n<pre><code>const input = fixture.debugElement.query(By.css(\"[formControlName='someInput']\"));\nconst errors = fixture.debugElement.queryAll(By.css(\"mat-error\"));\n\ninput.nativeElement.dispatchEvent(new Event(\"input\"));\nfixture.detectChanges();\n\nexpect(errors.length).toEqual(1);\nexpect(errors[0].nativeElement.innerHTML.trim()).toMatch(\"* required\");\n</code></pre>\n"}], "owner": {"reputation": 3897, "user_id": 3061047, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/8254f5cf0a9a916e0a1a2dbf4bff6041?s=128&d=identicon&r=PG&f=1", "display_name": "physicsboy", "link": "https://stackoverflow.com/users/3061047/physicsboy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 605, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1572268484, "creation_date": 1547647315, "question_id": 54218755, "link": "https://stackoverflow.com/questions/54218755/unit-testing-presence-of-mat-error-after-touching-and-untouching-mat-input", "title": "Unit testing presence of mat-error after touching and untouching mat-input", "body": "<p>How would I test that the mat-error is present in the DOM when I haven't touched the input, and also when I have touched and untouched the input without entering any text?</p>\n\n<p>I am testing using Jest</p>\n\n<p><strong>HTML</strong></p>\n\n<pre><code>&lt;mat-form-field&gt;\n  &lt;input matInput formControlName=\"someInput\"/&gt;\n  &lt;mat-error id=\"my_error\"&gt;* required&lt;/mat-error&gt;\n&lt;/mat-form-field&gt;\n</code></pre>\n\n<p><strong>Test</strong></p>\n\n<pre><code>it('Should not show error', () =&gt; {\n  const myEl = fixture.debugElement.query(By.css('#my_error'));\n\n  expect(myEl).toBeUndefined();\n});\n\nit('Should show error', () =&gt; {\n  const myEl = fixture.debugElement.query(By.css('#my_error'));\n\n // code to touch and untouch the element\n\n  expect(myEl).not.toBeUndefined();\n});\n</code></pre>\n"}, {"tags": ["javascript", "typescript", "oop", "es6-class"], "answers": [{"comments": [{"owner": {"reputation": 507143, "user_id": 1048572, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/7f2c4de95e8f4f8f5a71c3aaf0ed312a?s=128&d=identicon&r=PG", "display_name": "Bergi", "link": "https://stackoverflow.com/users/1048572/bergi"}, "edited": false, "score": 0, "creation_date": 1547651808, "post_id": 54220117, "comment_id": 95265917, "body": "Disclaimer: as you probably can see, I have no idea of TypeScript. Please suggest fixes by editing :-)"}, {"owner": {"reputation": 2933, "user_id": 3465318, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/039c44d45fc59dcd6f6624c67b9f4932?s=128&d=identicon&r=PG&f=1", "display_name": "QuestionAndAnswer", "link": "https://stackoverflow.com/users/3465318/questionandanswer"}, "edited": false, "score": 0, "creation_date": 1547758792, "post_id": 54220117, "comment_id": 95312923, "body": "Well, even without typescript, idea is working. I was needed only to create additional method for strong types control. Thanks!"}], "tags": [], "owner": {"reputation": 507143, "user_id": 1048572, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/7f2c4de95e8f4f8f5a71c3aaf0ed312a?s=128&d=identicon&r=PG", "display_name": "Bergi", "link": "https://stackoverflow.com/users/1048572/bergi"}, "is_accepted": true, "score": 1, "last_activity_date": 1547651774, "creation_date": 1547651774, "answer_id": 54220117, "question_id": 54218497, "link": "https://stackoverflow.com/questions/54218497/way-to-define-dynamic-decorator-in-ts-for-long-class-without-redefinition-of-all/54220117#54220117", "title": "Way to define dynamic decorator in TS for long class without redefinition of all methods", "body": "<p>Implement the decorator as a factory function that uses <code>Object.create</code> instead of <code>class</code> syntax so that you won't need to use <code>Object.setPrototypeOf</code>:</p>\n\n<pre><code>function fooDecorator&lt;T&gt;(provider: IFoo): T implements IFoo {\n    return Object.create(provider, {\n        method1: {\n            value(): number {\n                return provider.method1() + 1;\n            },\n            writable: true,\n            configurable: true\n        }\n    });\n}\n</code></pre>\n"}], "owner": {"reputation": 2933, "user_id": 3465318, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/039c44d45fc59dcd6f6624c67b9f4932?s=128&d=identicon&r=PG&f=1", "display_name": "QuestionAndAnswer", "link": "https://stackoverflow.com/users/3465318/questionandanswer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 32, "favorite_count": 0, "accepted_answer_id": 54220117, "answer_count": 1, "score": 0, "last_activity_date": 1547651774, "creation_date": 1547646556, "last_edit_date": 1547647140, "question_id": 54218497, "link": "https://stackoverflow.com/questions/54218497/way-to-define-dynamic-decorator-in-ts-for-long-class-without-redefinition-of-all", "title": "Way to define dynamic decorator in TS for long class without redefinition of all methods", "body": "<p>I have a class with pretty much of methods in it. Let's not focus here, that probably this class might be refactored and rewritten as several classes, because it will be eventually, but not know. I would like to have decorator, that decorates only one method of this class. We can do it in a several ways.</p>\n\n<p><strong>Class interface:</strong></p>\n\n<pre><code>interface IFoo {\n    method1 (): number;\n    method2 (a: string): number;\n    method3 (b: IFoo): number;\n    method4 (c: string | (() =&gt; string)): number;\n    method5 (d: number, e: string): number;\n}\n</code></pre>\n\n<ol>\n<li><p>Classical OOP solution: define decorator which redefines particular methods, and just calling super implementation for all others. Something like this.</p>\n\n<pre><code>class FooDecorator implements IFoo {\n    constructor (\n        private readonly provider: IFoo\n    ) {}\n\n    public method1 (): number {\n        return this.provider.method1() + 1;\n    }\n\n    public method2 (a: string): number {\n        return this.provider.method2.apply(this.provider, arguments);\n    }\n\n    public method3 (b: IFoo): number {\n        return this.provider.method3.apply(this.provider, arguments);\n    }\n\n    public method4 (c: string | (() =&gt; string)): number {\n        return this.provider.method4.apply(this.provider, arguments);\n    }\n\n    public method5 (d: number, e: string): number {\n        return this.provider.method5.apply(this.provider, arguments);\n    }\n}\n</code></pre>\n\n<p>As you can see, pretty long writing and code duplication.</p></li>\n<li><p>Try to utilize some JS capabilities.</p>\n\n<pre><code>interface IFooDecorator {\n    method1: IFoo[\"method1\"];\n}\n\nclass FooDecorator implements IFooDecorator {\n    constructor (\n        private readonly provider: IFoo\n    ) {\n        Object.setPrototypeOf(this, provider);\n    }\n\n    public method1 (): number {\n        return this.provider.method1() + 1;\n    }\n}\n</code></pre>\n\n<p>Obvious downsides are wrong typization and usage of setPrototypeOf</p></li>\n</ol>\n\n<p>I also tried to use Proxy, but there is poor support of typings with proxy usage as well. Does there any other solutions for that? The first approach is good, in case we can automate non decorated methods redefinition with <code>.apply</code> call. </p>\n"}, {"tags": ["arrays", "typescript"], "comments": [{"owner": {"reputation": 1351, "user_id": 3641014, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/76a77f72f2e4efc7bce1f0029a655294?s=128&d=identicon&r=PG&f=1", "display_name": "schlonzo", "link": "https://stackoverflow.com/users/3641014/schlonzo"}, "edited": false, "score": 1, "creation_date": 1547645142, "post_id": 54218057, "comment_id": 95261654, "body": "<i>splice()</i> is the way to go. What is your problem with it?"}, {"owner": {"reputation": 175871, "user_id": 454533, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/c7715e765817254e0534f89a4092c0aa?s=128&d=identicon&r=PG", "display_name": "Explosion Pills", "link": "https://stackoverflow.com/users/454533/explosion-pills"}, "edited": false, "score": 2, "creation_date": 1547645325, "post_id": 54218057, "comment_id": 95261764, "body": "Can you show us the <code>splice</code> code that isn&#39;t working?"}, {"owner": {"reputation": 382, "user_id": 9631005, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/uyQ44.png?s=128&g=1", "display_name": "Rigo Sarmiento", "link": "https://stackoverflow.com/users/9631005/rigo-sarmiento"}, "edited": false, "score": 0, "creation_date": 1547646797, "post_id": 54218057, "comment_id": 95262686, "body": "Well I honestly thought something like this would&#39;ve worked <code>this.nominees.splice(id);</code>. Apparently it don&#39;t be like that. I&#39;m looking for the similar function in java <code>removeIf(...)</code>. Thought it was similar"}], "answers": [{"comments": [{"owner": {"reputation": 1351, "user_id": 3641014, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/76a77f72f2e4efc7bce1f0029a655294?s=128&d=identicon&r=PG&f=1", "display_name": "schlonzo", "link": "https://stackoverflow.com/users/3641014/schlonzo"}, "edited": false, "score": 0, "creation_date": 1547645835, "post_id": 54218254, "comment_id": 95262079, "body": "This would create a new Array, which may not be bad - but it could."}, {"owner": {"reputation": 284, "user_id": 3767437, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/58444a9c181429513ed69e405a03adab?s=128&d=identicon&r=PG&f=1", "display_name": "Vincenzo", "link": "https://stackoverflow.com/users/3767437/vincenzo"}, "reply_to_user": {"reputation": 1351, "user_id": 3641014, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/76a77f72f2e4efc7bce1f0029a655294?s=128&d=identicon&r=PG&f=1", "display_name": "schlonzo", "link": "https://stackoverflow.com/users/3641014/schlonzo"}, "edited": false, "score": 1, "creation_date": 1547646758, "post_id": 54218254, "comment_id": 95262661, "body": "What about doing it in place ?  <code>nominees = nominees.filter(n =&gt; n.id !== 10);</code>"}, {"owner": {"reputation": 382, "user_id": 9631005, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/uyQ44.png?s=128&g=1", "display_name": "Rigo Sarmiento", "link": "https://stackoverflow.com/users/9631005/rigo-sarmiento"}, "edited": false, "score": 0, "creation_date": 1547646903, "post_id": 54218254, "comment_id": 95262748, "body": "Although it doesn&#39;t technically delete it, it gives me what I want. Thanks!"}, {"owner": {"reputation": 1351, "user_id": 3641014, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/76a77f72f2e4efc7bce1f0029a655294?s=128&d=identicon&r=PG&f=1", "display_name": "schlonzo", "link": "https://stackoverflow.com/users/3641014/schlonzo"}, "edited": false, "score": 0, "creation_date": 1547647095, "post_id": 54218254, "comment_id": 95262885, "body": "@Vincenzo Even then you would create a copy, which you afterwards assign to <i>nominees</i> . But as it seems this works for the thread opener."}], "tags": [], "owner": {"reputation": 284, "user_id": 3767437, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/58444a9c181429513ed69e405a03adab?s=128&d=identicon&r=PG&f=1", "display_name": "Vincenzo", "link": "https://stackoverflow.com/users/3767437/vincenzo"}, "is_accepted": true, "score": 2, "last_activity_date": 1547645733, "creation_date": 1547645733, "answer_id": 54218254, "question_id": 54218057, "link": "https://stackoverflow.com/questions/54218057/delete-element-with-specific-value-from-array-in-typescript/54218254#54218254", "title": "Delete element with specific value from array in typescript", "body": "<p>If you don't want to use splice, you can use filter as below:</p>\n\n<pre><code>let result = nominees.filter(n =&gt; n.id !== 10);\n</code></pre>\n"}], "owner": {"reputation": 382, "user_id": 9631005, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/uyQ44.png?s=128&g=1", "display_name": "Rigo Sarmiento", "link": "https://stackoverflow.com/users/9631005/rigo-sarmiento"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 140, "favorite_count": 0, "accepted_answer_id": 54218254, "answer_count": 1, "score": 0, "last_activity_date": 1547645733, "creation_date": 1547645105, "question_id": 54218057, "link": "https://stackoverflow.com/questions/54218057/delete-element-with-specific-value-from-array-in-typescript", "title": "Delete element with specific value from array in typescript", "body": "<p>I have this:</p>\n\n<pre><code>  nominees: Array&lt;{ id: number,  title: string, company: string, category: string }&gt;;\n</code></pre>\n\n<p>I want to delete based on id, e.g. if the given id is 10, then I want to delete the element with the id of 10</p>\n\n<p>I've been looking at splice, but honestly I'm really having a hard time. I'm quite new to Typescript</p>\n"}, {"tags": ["angular", "typescript", "webix"], "answers": [{"tags": [], "owner": {"reputation": 4869, "user_id": 2080, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a481258bff0239b9c117db8c8a7795ff?s=128&d=identicon&r=PG", "display_name": "Aquatic", "link": "https://stackoverflow.com/users/2080/aquatic"}, "is_accepted": true, "score": 0, "last_activity_date": 1550052135, "creation_date": 1550052135, "answer_id": 54667364, "question_id": 54218000, "link": "https://stackoverflow.com/questions/54218000/how-to-run-webix-filemanger-correctly-in-angular-6/54667364#54667364", "title": "How to run webix filemanger correctly in angular 6", "body": "<p>Unfortunately such approach will not work for now. ( Webix 6.1 )\nWhile you can import the main library, extra widgets ( such as filemanager ) will still relay on global \u201cwebix\u201d and will fail when webix is not available in the global scope.</p>\n\n<p>For now, the only working solution is to include webix.js as global script ( or configure toolchain to process webix imports as global script includes )</p>\n\n<p>New version of Webix will be released on February 22 (Webix 6.2), it will have updated packages for the extra widgets, which will work in the above case</p>\n"}], "owner": {"reputation": 13, "user_id": 1076519, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/OxNEF.png?s=128&g=1", "display_name": "Mohammed Abdelhay", "link": "https://stackoverflow.com/users/1076519/mohammed-abdelhay"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 337, "favorite_count": 0, "accepted_answer_id": 54667364, "answer_count": 1, "score": 0, "last_activity_date": 1550052135, "creation_date": 1547644913, "question_id": 54218000, "link": "https://stackoverflow.com/questions/54218000/how-to-run-webix-filemanger-correctly-in-angular-6", "title": "How to run webix filemanger correctly in angular 6", "body": "<p>I am trying using filemanager in my angular 6 app, but I got an error \nunknown view: filemanager\nI have tried so many ways to fix but it is working with all view such as label, button an datatable but not with file manager</p>\n\n<p>here is my code</p>\n\n<pre><code>import { Component, ElementRef, OnDestroy, OnInit } from '@angular/core';\nimport * as webix from \"webix\";\nimport  'filemanager/codebase/filemanager';\n\ndeclare let $$:any;\n@Component({\n   selector: 'app-root',\n   templateUrl: './app.component.html',\n   styleUrls: ['./app.component.css']\n})\nexport class AppComponent implements OnInit, OnDestroy {\n\n  private ui : webix.ui.filemanager;\n\n  constructor(root: ElementRef){\n    webix.ready(()=&gt;{\n       this.ui = &lt;webix.ui.filemanager&gt; webix.ui({\n                 rows:[\n                     { view: \"label\", css: \"header\", label: \"File Manager allows to upload files into selected folder.\"},\n            {\n                view:\"filemanager\",\n                id:\"files\",\n                handlers:{\n                    \"upload\" : \"https://jsonplaceholder.typicode.com/users\",\n                    \"download\": \"https://jsonplaceholder.typicode.com/users\",\n                    \"remove\": \"https://jsonplaceholder.typicode.com/users\"\n                }\n            }\n        ]\n    });\n\n    $$(\"files\").load(\"https://jsonplaceholder.typicode.com/users\");\n   });\n  }\n\n    ngOnInit(){\n      this.ui.resize();\n   }\n  ngOnDestroy(){\n     this.ui.destructor();\n    }\n  } \n</code></pre>\n"}, {"tags": ["json", "reactjs", "typescript", "redux", "react-redux"], "comments": [{"owner": {"reputation": 1014, "user_id": 6139043, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Rwpt3.jpg?s=128&g=1", "display_name": "Ulug Toprak", "link": "https://stackoverflow.com/users/6139043/ulug-toprak"}, "edited": false, "score": 0, "creation_date": 1547645610, "post_id": 54217975, "comment_id": 95261944, "body": "Can you include your <code>setupProxy.js</code>? Also what IDE are you using? VS Code?"}, {"owner": {"reputation": 379, "user_id": 5913092, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-6klOhLOIlFQ/AAAAAAAAAAI/AAAAAAAAAa8/CfXSF-rtbDk/photo.jpg?sz=128", "display_name": "Giovanni Giampaolo", "link": "https://stackoverflow.com/users/5913092/giovanni-giampaolo"}, "reply_to_user": {"reputation": 1014, "user_id": 6139043, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Rwpt3.jpg?s=128&g=1", "display_name": "Ulug Toprak", "link": "https://stackoverflow.com/users/6139043/ulug-toprak"}, "edited": false, "score": 0, "creation_date": 1547652292, "post_id": 54217975, "comment_id": 95266179, "body": "@UlugToprak I&#39;m using WebStorm. I resolved the error commenting the line &quot;isolatedModules&quot;: false that was initially marked on true"}], "answers": [{"tags": [], "owner": {"reputation": 667, "user_id": 2154598, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zlQIp.png?s=128&g=1", "display_name": "EladTal", "link": "https://stackoverflow.com/users/2154598/eladtal"}, "is_accepted": false, "score": 0, "last_activity_date": 1553789331, "last_edit_date": 1553789331, "creation_date": 1553787044, "answer_id": 55401436, "question_id": 54217975, "link": "https://stackoverflow.com/questions/54217975/cannot-compile-namespaces-when-the-isolatedmodules-flag-is-provided-websto/55401436#55401436", "title": "Cannot compile namespaces when the &#39;--isolatedModules&#39; flag is provided - WebStorm", "body": "<p>You should use the export keyword post to your component declaration, that in order to be aligned to the ECMAScript standards when declaring a public component. so it should look like that:</p>\n\n<pre><code>const professori  = (props: any) =&gt; (\n  ...\n);\nexport default professori;\n</code></pre>\n\n<p>this will resolve the error.</p>\n"}], "owner": {"reputation": 379, "user_id": 5913092, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-6klOhLOIlFQ/AAAAAAAAAAI/AAAAAAAAAa8/CfXSF-rtbDk/photo.jpg?sz=128", "display_name": "Giovanni Giampaolo", "link": "https://stackoverflow.com/users/5913092/giovanni-giampaolo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 780, "favorite_count": 1, "answer_count": 1, "score": 1, "last_activity_date": 1553789331, "creation_date": 1547644842, "question_id": 54217975, "link": "https://stackoverflow.com/questions/54217975/cannot-compile-namespaces-when-the-isolatedmodules-flag-is-provided-websto", "title": "Cannot compile namespaces when the &#39;--isolatedModules&#39; flag is provided - WebStorm", "body": "<p>I've this error, I'm using WebStorm.</p>\n\n<pre><code>/src/Component/Professori.tsx\nType error: Cannot compile namespaces when the '--isolatedModules' flag is provided.  TS1208\n</code></pre>\n\n<p>I've also added the flag marked as false into tsconfig.json in this way</p>\n\n<pre><code>    \"isolatedModules\": false\n</code></pre>\n"}, {"tags": ["typescript", "visual-studio-code", "typescript-typings"], "comments": [{"owner": {"reputation": 284, "user_id": 3767437, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/58444a9c181429513ed69e405a03adab?s=128&d=identicon&r=PG&f=1", "display_name": "Vincenzo", "link": "https://stackoverflow.com/users/3767437/vincenzo"}, "edited": false, "score": 0, "creation_date": 1547648299, "post_id": 54217964, "comment_id": 95263635, "body": "Can you please share with us your tsconfig.json?"}, {"owner": {"reputation": 71, "user_id": 10922517, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/34b7907b00fbb8ed456b73e92fa23f7b?s=128&d=identicon&r=PG&f=1", "display_name": "Danil Kamyshov", "link": "https://stackoverflow.com/users/10922517/danil-kamyshov"}, "reply_to_user": {"reputation": 284, "user_id": 3767437, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/58444a9c181429513ed69e405a03adab?s=128&d=identicon&r=PG&f=1", "display_name": "Vincenzo", "link": "https://stackoverflow.com/users/3767437/vincenzo"}, "edited": false, "score": 0, "creation_date": 1547653641, "post_id": 54217964, "comment_id": 95267025, "body": "@Vincenzo sure, original post now includes both configs"}], "owner": {"reputation": 71, "user_id": 10922517, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/34b7907b00fbb8ed456b73e92fa23f7b?s=128&d=identicon&r=PG&f=1", "display_name": "Danil Kamyshov", "link": "https://stackoverflow.com/users/10922517/danil-kamyshov"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1286, "favorite_count": 2, "answer_count": 0, "score": 7, "last_activity_date": 1547653607, "creation_date": 1547644816, "last_edit_date": 1547653607, "question_id": 54217964, "link": "https://stackoverflow.com/questions/54217964/how-to-disable-excess-auto-import-suggestions-in-vs-code-typescript", "title": "How to disable excess auto import suggestions in VS Code / TypeScript?", "body": "<p>I have an npm package that is shipped with typings, file structure is similar to the following:</p>\n\n<p><code>./typings/index.d.ts</code>:</p>\n\n<pre><code>export { ISomeInterface } from './something';\n</code></pre>\n\n<p><code>./typings/something.d.ts</code>:</p>\n\n<pre><code>/*\n  This interface is used by the package internally,\n  so I can't simply remove the export.\n*/\nexport interface ISomeOtherInterface {\n  someField: number;\n}\n\nexport interface ISomeInterface {\n  someObject: ISomeOtherInterface;\n}\n</code></pre>\n\n<p><code>./package.json</code>:</p>\n\n<pre><code>\"typings\": \"./typings/index.d.ts\"\n</code></pre>\n\n<p>The problem is whenever I type something like</p>\n\n<pre><code>const a: ISome...\n</code></pre>\n\n<p>VS Code's IntelliSense shows me two suggestions:</p>\n\n<pre><code>| Auto import ISomeInterface from 'my-package'\n| Auto import ISomeOtherInterface from 'my-package/typings/something'\n</code></pre>\n\n<p>What is the correct way to prevent VS Code from auto suggesting the second import?</p>\n\n<p>typescript@3.2.2, VSCode@1.30.2</p>\n\n<p>UPD:</p>\n\n<p>library tsconfig (the one used to generate typings for the library):</p>\n\n<pre><code>{\n  \"compilerOptions\": {\n    \"target\": \"es5\",                          \n    \"module\": \"esnext\",                     \n    \"lib\": [\"dom\", \"es2016\", \"esnext\"],                             \n    \"jsx\": \"react\",  \n    \"importHelpers\": true,\n    \"strict\": true,                           \n    \"noImplicitAny\": true,                 \n    \"strictNullChecks\": true,              \n    \"strictFunctionTypes\": true,           \n    \"strictBindCallApply\": true,           \n    \"strictPropertyInitialization\": true,  \n    \"noImplicitThis\": true,                \n    \"alwaysStrict\": true,                  \n    \"noUnusedLocals\": true,                \n    \"noImplicitReturns\": true,             \n    \"noFallthroughCasesInSwitch\": true,    \n    \"moduleResolution\": \"node\",            \n    \"allowSyntheticDefaultImports\": true,  \n    \"esModuleInterop\": true,\n    \"declaration\": true,\n    \"emitDeclarationOnly\": true,\n    \"rootDir\": \"src\",\n    \"outDir\": \"typings\"                   \n  },\n  \"include\": [\n    \"src/lib/**/*.ts\",\n    \"src/lib/**/*.tsx\"\n  ],\n  \"exclude\": [\n    \"node_modules\",\n    \"dist\",\n    \"typings\",\n    \"src/**/*.spec.ts\",\n    \"src/**/*.spec.tsx\"\n  ]\n}\n</code></pre>\n\n<p>project tsconfig (the one used in the project where the library is used):</p>\n\n<pre><code>{\n  \"compilerOptions\": {\n    \"target\": \"es5\",                          \n    \"module\": \"esnext\",                     \n    \"lib\": [\"dom\", \"es2016\", \"esnext\"],                             \n    \"jsx\": \"react\",\n    \"importHelpers\": true,\n    \"strict\": true,                           \n    \"noImplicitAny\": true,                 \n    \"strictNullChecks\": true,              \n    \"strictFunctionTypes\": true,           \n    \"strictBindCallApply\": true,           \n    \"alwaysStrict\": true,\n    \"noUnusedLocals\": true,              \n    \"noImplicitReturns\": true,             \n    \"noFallthroughCasesInSwitch\": true,    \n    \"moduleResolution\": \"node\",            \n    \"baseUrl\": \"./\",\n    \"allowSyntheticDefaultImports\": true,  \n    \"esModuleInterop\": true,\n    \"paths\": {\n      \"*\": [\"node_modules/@types/*\", \"*\"]\n    }\n  }\n}\n</code></pre>\n"}, {"tags": ["angular", "typescript", "angular7"], "answers": [{"tags": [], "owner": {"reputation": 1884, "user_id": 4532316, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-1IrwGSquUJw/AAAAAAAAAAI/AAAAAAAAAD8/wvpurNRUL_o/photo.jpg?sz=128", "display_name": "Danil Gudz", "link": "https://stackoverflow.com/users/4532316/danil-gudz"}, "is_accepted": true, "score": 2, "last_activity_date": 1547645200, "last_edit_date": 1547645200, "creation_date": 1547644427, "answer_id": 54217847, "question_id": 54217735, "link": "https://stackoverflow.com/questions/54217735/component-pautascomponent-is-not-part-of-any-ngmodule-or-the-module-when-actual/54217847#54217847", "title": "Component PautasComponent is not part of any NgModule or the module: When actually exists [Angular 7]", "body": "<p>Two dots here in path. Remove one. Path to the component isn't correct in your feature routing module</p>\n\n<pre><code>import { PautasComponent } from '../components/pautas/pautas.component';\n</code></pre>\n"}], "owner": {"reputation": 395, "user_id": 8579973, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1dEtj.png?s=128&g=1", "display_name": "sebaLinares", "link": "https://stackoverflow.com/users/8579973/sebalinares"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 582, "favorite_count": 0, "accepted_answer_id": 54217847, "answer_count": 1, "score": 1, "last_activity_date": 1547645200, "creation_date": 1547644018, "question_id": 54217735, "link": "https://stackoverflow.com/questions/54217735/component-pautascomponent-is-not-part-of-any-ngmodule-or-the-module-when-actual", "title": "Component PautasComponent is not part of any NgModule or the module: When actually exists [Angular 7]", "body": "<p>I get this error</p>\n\n<pre><code>ERROR Error: Uncaught (in promise): Error: Component PautasComponent is not part of any NgModule \nor the module has not been imported into your module.\nError: Component PautasComponent is not part of any NgModule or the module has not been imported into your module.\n    at JitCompiler.push../node_modules/@angular/compiler/fesm5/compiler.js.JitCompiler._createCompiledHostTemplate\n</code></pre>\n\n<p>The thing is that I had the same problem yesterday, so today I created a new module and the same thing happens.</p>\n\n<p>Folder structure:</p>\n\n<pre><code>app-routing.ts/\napp.component.ts\napp.module.ts\n  |--features/\n      |--features-routing.module.ts\n      |--features.module.ts\n      |--features.components.ts\n      |--pautas/\n         |--pautas.component.ts\n      |--estudiantes/\n         |-- estudiantes.component.ts\n  |--shared/\n      |--components/\n        |--navbar/\n          |-- navbar.component.ts\n        |--sidebar/\n          |-- sidebar.component.ts\n</code></pre>\n\n<p>In the app.component.ts there's just a <code>&lt;router-outlet&gt;&lt;/router-outlet&gt;</code></p>\n\n<p>app.module.ts</p>\n\n<pre><code>import { BrowserModule } from '@angular/platform-browser';\nimport { NgModule } from '@angular/core';\nimport { ReactiveFormsModule, FormsModule } from '@angular/forms';\nimport { HttpClientModule } from '@angular/common/http';\nimport { AppComponent } from './app.component';\n// Feature routing modules\nimport { AppRoutingModule } from './app-routing.module';\n\n@NgModule({\n  declarations: [\n    AppComponent,\n    RegisterComponent,\n],\n  imports: [\n    BrowserModule,\n    AppRoutingModule,\n    HttpClientModule,\n    ReactiveFormsModule,\n    CoreModule,\n    FormsModule\n  ],\n  providers: [],\n  bootstrap: [AppComponent]\n})\nexport class AppModule { }\n</code></pre>\n\n<p>app-routing.module.ts</p>\n\n<pre><code>import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\nconst appRoutes: Routes = [\n  // Auth Module\n  {\n    path:'login',\n    loadChildren: './auth/auth.module#AuthModule'\n  },\n  {\n    path: 'features',\n    loadChildren: './features/features.module#FeaturesModule'\n  },\n  {\n    path:'',\n    redirectTo: '/login',\n    pathMatch: 'full'\n  }\n]\n\n@NgModule({\n  imports: [RouterModule.forRoot(appRoutes, { enableTracing: true})],\n  exports: [RouterModule]\n})\nexport class AppRoutingModule { }\n</code></pre>\n\n<p>features.module.ts</p>\n\n<pre><code>import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\n\nimport { FeaturesRoutingModule } from './features-routing.module';\nimport { FeaturesComponent } from './features.component';\nimport { ComponentsModule } from '../shared/components/components.module';\nimport { PautasComponent } from './components/pautas/pautas.component';\nimport { EstudiantesComponent } from './components/estudiantes/estudiantes.component';\n\n@NgModule({\n  declarations: [FeaturesComponent, PautasComponent, EstudiantesComponent],\n  imports: [\n    CommonModule,\n    ComponentsModule, // This is from the shared folder\n    FeaturesRoutingModule\n  ]\n})\nexport class FeaturesModule { }\n</code></pre>\n\n<p>Here you can see pautas.component is declared</p>\n\n<p>features.routing.ts</p>\n\n<pre><code>import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\nimport { FeaturesComponent } from './features.component';\nimport { DashboardComponent } from './components/dashboard/dashboard.component';\nimport { PautasComponent } from '../components/pautas/pautas.component';\nimport { EstudiantesComponent } from './components/estudiantes/estudiantes.component';\n\nconst routes: Routes = [\n  {path: '', component: FeaturesComponent, children: [\n      { path: 'dashboard', component: DashboardComponent},\n      { path: 'estudiantes', component: EstudiantesComponent},\n      { path: 'pautas',   component: PautasComponent },\n      { path: '', redirectTo: 'dashboard'}\n    ]\n  },\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule]\n})\nexport class FeaturesRoutingModule { }\n</code></pre>\n\n<p>I thought that creating new modules would solve the problem, but it didn't. AND it happens <em>only with the pautas.component</em> because when I comment out the pautas route in <code>features-routing.module.ts</code> I get no error and the estudiantes.component.ts is rendered perfectly (this is really odd behavior). </p>\n\n<p>Both render when i <code>[routerLink]=\"['pautas']\"</code> or [routerLink]=\"['estudiantes']\" from the sidebar.component. So they are basically twins but one just doesn't work.</p>\n"}, {"tags": ["angular", "typescript"], "answers": [{"comments": [{"owner": {"reputation": 169, "user_id": 9957933, "user_type": "registered", "profile_image": "https://graph.facebook.com/2063574510527002/picture?type=large", "display_name": "Raza Ellahi", "link": "https://stackoverflow.com/users/9957933/raza-ellahi"}, "edited": false, "score": 0, "creation_date": 1547720979, "post_id": 54218796, "comment_id": 95292508, "body": "Thanks , both of your answers are valid"}, {"owner": {"reputation": 169, "user_id": 9957933, "user_type": "registered", "profile_image": "https://graph.facebook.com/2063574510527002/picture?type=large", "display_name": "Raza Ellahi", "link": "https://stackoverflow.com/users/9957933/raza-ellahi"}, "edited": false, "score": 0, "creation_date": 1547721040, "post_id": 54218796, "comment_id": 95292548, "body": "but i have a question, should i implement first suggestion? because 2 pipe takes more time than binding"}, {"owner": {"reputation": 1884, "user_id": 4532316, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-1IrwGSquUJw/AAAAAAAAAAI/AAAAAAAAAD8/wvpurNRUL_o/photo.jpg?sz=128", "display_name": "Danil Gudz", "link": "https://stackoverflow.com/users/4532316/danil-gudz"}, "reply_to_user": {"reputation": 169, "user_id": 9957933, "user_type": "registered", "profile_image": "https://graph.facebook.com/2063574510527002/picture?type=large", "display_name": "Raza Ellahi", "link": "https://stackoverflow.com/users/9957933/raza-ellahi"}, "edited": false, "score": 0, "creation_date": 1547726247, "post_id": 54218796, "comment_id": 95295404, "body": "hm, actually the second approach should work faster I think because there are only two bindings here (2 pipes) and also pipes are pure so that if value didn&#39;t change then no update required  for angular. In the first case two ngifs will be processed on each change detection with pipe in ngif expression and if first one is ok then one more pipe will be processed. But these are just my suspicions and if you checked that the first one is faster then you can use it."}], "tags": [], "owner": {"reputation": 1884, "user_id": 4532316, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-1IrwGSquUJw/AAAAAAAAAAI/AAAAAAAAAD8/wvpurNRUL_o/photo.jpg?sz=128", "display_name": "Danil Gudz", "link": "https://stackoverflow.com/users/4532316/danil-gudz"}, "is_accepted": true, "score": 1, "last_activity_date": 1547647457, "creation_date": 1547647457, "answer_id": 54218796, "question_id": 54217568, "link": "https://stackoverflow.com/questions/54217568/how-to-apply-conditions-on-data-coming-from-pipes/54218796#54218796", "title": "How to apply conditions on data coming from pipes", "body": "<p>There are a few ways of cause in implementing such task.</p>\n\n<p>First one is quick but quite bad for performance because of relatively a lot of bindings:</p>\n\n<pre><code>&lt;div&gt;\n  &lt;span *ngIf=\"firstdate | myPipe : agent.lastUpdated\"&gt;\n    {{firstdate | myPipe : agent.lastUpdated}} d ago\n  &lt;/span&gt;\n  &lt;span *ngIf=\"!(firstdate | myPipe : agent.lastUpdated)\"&gt;\n    recently\n  &lt;/span&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>I'd suggest you create two pipes: one for calculating the difference in days and the second one to display correctly.</p>\n\n<pre><code>@Pipe({\n  name: 'dayDiff',\n  pure: true\n})\nexport class DayDiff implements PipeTransform {\n  private millisecondsInDay = 24 * 3600 * 1000;\n  transform(from: any , till: any): any {\n     if(!from || !till){\n         return from;\n     }\n     const fromDate = new Date(from);\n     const tillDate = new Date(till);\n     return Math.floor((firstDate - secondDate) / this.millisecondsInDay);\n  }\n}\n\n...\n\n@Pipe({\n  name: 'dayDiffDisplay',\n  pure: true\n})\nexport class DayDiffDisplay implements PipeTransform {\n  transform(diff: number): any {\n     if(!diff){\n         return 'recently';\n     }\n     return `${diff} d ago`;\n  }\n}\n\n</code></pre>\n\n<p>So the usage is simply:</p>\n\n<pre><code>{{firstdate | dayDiff : agent.lastUpdated | dayDiffDisplay}}\n</code></pre>\n"}], "owner": {"reputation": 169, "user_id": 9957933, "user_type": "registered", "profile_image": "https://graph.facebook.com/2063574510527002/picture?type=large", "display_name": "Raza Ellahi", "link": "https://stackoverflow.com/users/9957933/raza-ellahi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 23, "favorite_count": 0, "accepted_answer_id": 54218796, "answer_count": 1, "score": 0, "last_activity_date": 1547647457, "creation_date": 1547643432, "question_id": 54217568, "link": "https://stackoverflow.com/questions/54217568/how-to-apply-conditions-on-data-coming-from-pipes", "title": "How to apply conditions on data coming from pipes", "body": "<p>I implement a pipe which gets two value and finds the duration between them,it counts the duration in days if duration is less than 1 day it returns 0, but i don't want to show 0 in that case, i want to display \"recently\" if duration is less than a day.</p>\n\n<p>HTML</p>\n\n<pre><code>     &lt;div&gt;{{firstdate | myPipe : agent.lastUpdated}} d ago&lt;/div&gt;\n</code></pre>\n\n<p>pipe.ts</p>\n\n<pre><code>import { PipeTransform, Pipe } from \"@angular/core\";\n@Pipe({\nname: 'myPipe',\npure: true\n\n  })\n export class durationPipe implements PipeTransform{\n\ntransform(firstDate:any , secondDate:any):any{\n   if(!firstDate || !secondDate){\n       return firstDate;\n   }\n\n   const dropdt:any = new Date(firstDate);\n  const pickdt:any = new Date(secondDate);\n      const time = +((firstDate - secondDate) / (24 * 3600 * 1000));\n    //   console.log(\"this is currentTime \"+firstDate);\n    //   console.log(\"this is userTime \"+secondDate);\n     const a = time.toString().split('.',1);\n    // console.log(\"time is \"+a);\n      return a;\n  }\n}\n</code></pre>\n"}, {"tags": ["typescript", "rxjs", "rxjs6"], "comments": [{"owner": {"reputation": 75411, "user_id": 310726, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/cc38ee5e151f1efb6470740c66262058?s=128&d=identicon&r=PG", "display_name": "martin", "link": "https://stackoverflow.com/users/310726/martin"}, "edited": false, "score": 0, "creation_date": 1547643933, "post_id": 54217306, "comment_id": 95260988, "body": "<code>fromEvent</code> isn&#39;t deprecated (only it&#39;s variant with result selector is deprecated) and yes, you have <code>Observable&lt;Observable&lt;any&gt;&gt;</code>"}, {"owner": {"reputation": 1392, "user_id": 2248174, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/b1a78cfc3b13538ed7f37d899dc0597b?s=128&d=identicon&r=PG", "display_name": "Lenny D", "link": "https://stackoverflow.com/users/2248174/lenny-d"}, "reply_to_user": {"reputation": 75411, "user_id": 310726, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/cc38ee5e151f1efb6470740c66262058?s=128&d=identicon&r=PG", "display_name": "martin", "link": "https://stackoverflow.com/users/310726/martin"}, "edited": false, "score": 0, "creation_date": 1547647229, "post_id": 54217306, "comment_id": 95262963, "body": "@martin Sorry what I had did not actually work, any idea on how I do this ?"}, {"owner": {"reputation": 75411, "user_id": 310726, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/cc38ee5e151f1efb6470740c66262058?s=128&d=identicon&r=PG", "display_name": "martin", "link": "https://stackoverflow.com/users/310726/martin"}, "edited": false, "score": 0, "creation_date": 1547647722, "post_id": 54217306, "comment_id": 95263243, "body": "I don&#39;t know what you want to do"}, {"owner": {"reputation": 2902, "user_id": 2511384, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/ZNmBY.png?s=128&g=1", "display_name": "Mehdi Benmoha", "link": "https://stackoverflow.com/users/2511384/mehdi-benmoha"}, "edited": false, "score": 0, "creation_date": 1547649267, "post_id": 54217306, "comment_id": 95264296, "body": "you dont have to pipe/map the eventObservable just return it in the end"}, {"owner": {"reputation": 1392, "user_id": 2248174, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/b1a78cfc3b13538ed7f37d899dc0597b?s=128&d=identicon&r=PG", "display_name": "Lenny D", "link": "https://stackoverflow.com/users/2248174/lenny-d"}, "reply_to_user": {"reputation": 2902, "user_id": 2511384, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/ZNmBY.png?s=128&g=1", "display_name": "Mehdi Benmoha", "link": "https://stackoverflow.com/users/2511384/mehdi-benmoha"}, "edited": false, "score": 0, "creation_date": 1547655003, "post_id": 54217306, "comment_id": 95267843, "body": "@MehdiBenmoha I need to map because the event firing does not provide any response. I have figured this out now. In the end I had to use a subject as the problem was the onloadend event was firing before the template had subscribed to the observable, a race condition basically."}], "answers": [{"tags": [], "owner": {"reputation": 1392, "user_id": 2248174, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/b1a78cfc3b13538ed7f37d899dc0597b?s=128&d=identicon&r=PG", "display_name": "Lenny D", "link": "https://stackoverflow.com/users/2248174/lenny-d"}, "is_accepted": false, "score": 0, "last_activity_date": 1547655548, "creation_date": 1547655548, "answer_id": 54221188, "question_id": 54217306, "link": "https://stackoverflow.com/questions/54217306/rxjs-return-result-of-event-inside-map/54221188#54221188", "title": "rxjs return result of event inside map", "body": "<p>Ok figured this in the end. So I needed to use <code>mergeMap</code> based on the response, and if wanted <code>asBase64</code> create a new observable from the <code>onloadend</code> file reader event.</p>\n\n<p>But it didn't also quite work becuause of these lines (see the code in my original question).</p>\n\n<pre><code>let reader = new FileReader();\n                    let eventObservable = fromEvent(reader, 'onloadend').pipe(map(() =&gt; {\n                        return reader.result;\n                    }));\n                    reader.readAsDataURL(data);\n                    return eventObservable;\n</code></pre>\n\n<p>The problem with the fromEvent approach is that the event only fires once and in my case was firing before my Angular template had managed to subscribe to the observable, the solution was to use a <code>Subject</code> not sure if thats ideal in this case but seems ok to me.</p>\n\n<pre><code>transform(url: string, asBase64: boolean): Observable&lt;any&gt; {\n        return this.http\n            .get(url, {responseType: 'blob'})\n            .pipe(map(val =&gt;\n                &lt;any&gt;(asBase64 ? val : this.sanitizer.bypassSecurityTrustUrl(URL.createObjectURL(val)))\n            )).pipe(mergeMap(data =&gt; {\n                if (!asBase64) {\n                    return of(data)\n                } else {\n                    let reader = new FileReader();\n                    let subject = new Subject&lt;any&gt;();\n                    reader.onloadend = () =&gt; {\n                        subject.next(reader.result);\n                    };\n                    reader.readAsDataURL(data);\n                    return subject;\n                }\n            }));\n    }\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 126, "user_id": 10922948, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-zhKZhB5FQDs/AAAAAAAAAAI/AAAAAAAAAAA/AKxrwcZGs6edIRwgBCnMhhatsvWAow98Lg/mo/photo.jpg?sz=128", "display_name": "Alykam Burdzaki", "link": "https://stackoverflow.com/users/10922948/alykam-burdzaki"}, "is_accepted": true, "score": 1, "last_activity_date": 1547656671, "creation_date": 1547656671, "answer_id": 54221519, "question_id": 54217306, "link": "https://stackoverflow.com/questions/54217306/rxjs-return-result-of-event-inside-map/54221519#54221519", "title": "rxjs return result of event inside map", "body": "<p>The problem is that the FileReader onLoadEnd event is asynchronous, so it won't work inside the map function. </p>\n\n<p>One way to solve your problem is to wrap your function with a Promise, create an observable from the promise with <a href=\"https://www.learnrxjs.io/operators/creation/from.html\" rel=\"nofollow noreferrer\">from</a>, and use the <a href=\"https://www.learnrxjs.io/operators/transformation/switchmap.html\" rel=\"nofollow noreferrer\">switchMap</a> operator to map your observable to the new one from the promise.</p>\n\n<p>Now when you subscribe to the resulting observable, it will emit the result from the FileReader. If it rejects you can get the error with the second parameter of the subscribe method.</p>\n\n<pre><code>import {from} from 'rxjs'\nimport {switchMap} from 'rxjs/operators'\n\ntransform(url: string, asBase64: boolean): Observable&lt;any&gt; {  \n  return this.http\n    .get(url, {responseType: 'blob'})\n    .pipe(\n      switchMap(\n        val =&gt; from( // create the observable from a promise\n          new Promise((resolve, reject) =&gt; { //create a new Promise               \n            if (!asBase64) {\n                resolve(this.sanitizer.bypassSecurityTrustUrl(URL.createObjectURL(val))) //resolve if base64\n            }            \n            const reader = new FileReader();\n            reader.readAsDataURL(val);\n\n            reader.onloadend = () =&gt; resolve(reader.result); //resolve when it finishes to load the file\n            reader.onerror = () =&gt; reject(reader.error); //rejects if there was an error while reading the file\n          })\n        )\n      )\n    );\n}\n\n...\nconst file$ = transform(url, asBase64)\nfile$.subscribe(\n   (file) =&gt; console.log(file), // do stuff with the file here\n   (error) =&gt; console.log(error)  // there was an error while reading the file\n)\n\n</code></pre>\n"}], "owner": {"reputation": 1392, "user_id": 2248174, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/b1a78cfc3b13538ed7f37d899dc0597b?s=128&d=identicon&r=PG", "display_name": "Lenny D", "link": "https://stackoverflow.com/users/2248174/lenny-d"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 442, "favorite_count": 0, "accepted_answer_id": 54221519, "answer_count": 2, "score": 0, "last_activity_date": 1547656671, "creation_date": 1547642489, "last_edit_date": 1547647998, "question_id": 54217306, "link": "https://stackoverflow.com/questions/54217306/rxjs-return-result-of-event-inside-map", "title": "rxjs return result of event inside map", "body": "<p>hope someone can help I have an observable that returns base64 string inside a map of a http request below</p>\n\n<pre><code>transform(url: string, asBase64: boolean): Observable&lt;any&gt; {\n        return this.http\n            .get(url, {responseType: 'blob'})\n            .pipe(map(val =&gt; {\n                if (!asBase64) {\n                    return this.sanitizer.bypassSecurityTrustUrl(URL.createObjectURL(val))\n                }\n                let base64Data = null;\n                let reader = new FileReader();\n                reader.readAsDataURL(val);\n                reader.onloadend = () =&gt; {\n                    base64Data = reader.result; // need to return this! \n                    console.log(base64Data);\n\n                };\n            }));\n    }\n</code></pre>\n\n<p>The problem is I need to conditionally return the result  <code>reader.onloadend = () =&gt; {</code></p>\n\n<p>I guess I need to convert this to a promise and use mergeMap? Not sure how.</p>\n\n<p><strong>Update</strong> </p>\n\n<p>So had another stab at this.. From the mergeMap docs looks like this should work, debugging I can see the blob being passed to <code>reader.readAsDataURL(data);</code> but <code>return reader.result;</code> never fires, looks like I'm losing the reference to <code>reader</code></p>\n\n<pre><code>transform(url: string, asBase64: boolean): Observable&lt;any&gt; {\n        return this.http\n            .get(url, {responseType: 'blob'})\n            .pipe(map(val =&gt;\n                &lt;any&gt;(asBase64 ? val : this.sanitizer.bypassSecurityTrustUrl(URL.createObjectURL(val)))\n            )).pipe(mergeMap(data =&gt; {\n                if (!asBase64) {\n                    return of(data)\n                } else {\n                    let reader = new FileReader();\n                    let eventObservable = fromEvent(reader, 'onloadend').pipe(map(() =&gt; {\n                        return reader.result;\n                    }));\n                    reader.readAsDataURL(data);\n                    return eventObservable;\n                }\n            }));\n    }\n</code></pre>\n"}, {"tags": ["javascript", "node.js", "typescript", "swagger", "nestjs"], "comments": [{"owner": {"reputation": 32017, "user_id": 4694994, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Fnpae.jpg?s=128&g=1", "display_name": "Kim Kern", "link": "https://stackoverflow.com/users/4694994/kim-kern"}, "edited": false, "score": 0, "creation_date": 1548007727, "post_id": 54217256, "comment_id": 95380612, "body": "I&#39;m glad this helped you. :-) You don&#39;t need to copy parts of the answer into the question though. Instead, you can accept an answer that solved your problem or leave this question unsolved and wait until you get an answer that solves your problem. Have a look at <a href=\"https://stackoverflow.com/help/someone-answers\">stackoverflow.com/help/someone-answers</a>"}], "answers": [{"comments": [{"owner": {"reputation": 13, "user_id": 9476908, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7e80e65c7c336f3961eba5072a8cc6df?s=128&d=identicon&r=PG", "display_name": "jentix", "link": "https://stackoverflow.com/users/9476908/jentix"}, "edited": false, "score": 0, "creation_date": 1547811497, "post_id": 54225762, "comment_id": 95330353, "body": "You helped eliminate the error, thanks. Now swagger generate all fields, that I need <a href=\"https://yadi.sk/i/szEQFjCtGOdYzQ\" rel=\"nofollow noreferrer\">screenshot</a>, but it&#39;s generate wrong request, without string field."}, {"owner": {"reputation": 13, "user_id": 9476908, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7e80e65c7c336f3961eba5072a8cc6df?s=128&d=identicon&r=PG", "display_name": "jentix", "link": "https://stackoverflow.com/users/9476908/jentix"}, "edited": false, "score": 0, "creation_date": 1547811553, "post_id": 54225762, "comment_id": 95330378, "body": "Request example:  curl -X POST &quot;<a href=\"http://localhost:3000/api/infographics\" rel=\"nofollow noreferrer\">localhost:3000/api/infographics</a>&quot; -H &quot;accept: application/json&quot; -H &quot;Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJsb2dpbiI6ImFkbWluIiw&zwnj;&#8203;icm9sZV9pZCI6MSwidXN&zwnj;&#8203;lcl9zdGF0dXNfaWQiOjE&zwnj;&#8203;sImlhdCI6MTU0NzgxMDk&zwnj;&#8203;xOSwiZXhwIjoxNTQ3ODU&zwnj;&#8203;0MTE5fQ.BV5h4JmsP8BY&zwnj;&#8203;hqJuYaZpwlA_lfPd8p15&zwnj;&#8203;YHSoLzIZVeE&quot; -H &quot;Content-Type: multipart/form-data&quot; -F &quot;file_preview=@768px-JavaScript_logo.png;type=image/png&quot; -F &quot;file=@160px-JavaScript_logo.png;type=image/png&quot;"}], "tags": [], "owner": {"reputation": 32017, "user_id": 4694994, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Fnpae.jpg?s=128&g=1", "display_name": "Kim Kern", "link": "https://stackoverflow.com/users/4694994/kim-kern"}, "is_accepted": true, "score": 0, "last_activity_date": 1547906934, "last_edit_date": 1547906934, "creation_date": 1547674569, "answer_id": 54225762, "question_id": 54217256, "link": "https://stackoverflow.com/questions/54217256/swagger-documentation-with-multipart-form-data-and-apiimplicitbody/54225762#54225762", "title": "Swagger documentation with multipart/form-data and @ApiImplicitBody", "body": "<h3>Error</h3>\n\n<p>You have to use <code>String</code> instead of <code>'string'</code> for the type:</p>\n\n<pre><code>@ApiImplicitBody({ name: 'name', description: 'Infographic title', type: String })\n                                                                         ^^^^^^\n</code></pre>\n\n<p><hr></p>\n\n<h3>Form Data</h3>\n\n<p>Documenting form-data parameters is not yet supported by @nestjs/swagger according to this <a href=\"https://github.com/nestjs/swagger/issues/167\" rel=\"nofollow noreferrer\">github issue</a>. There already exists a <a href=\"https://github.com/nestjs/swagger/pull/168\" rel=\"nofollow noreferrer\">pull request</a> that would add this feature but it is not merges yet. You can subscribe to it to get notified when the status updates. </p>\n"}], "owner": {"reputation": 13, "user_id": 9476908, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7e80e65c7c336f3961eba5072a8cc6df?s=128&d=identicon&r=PG", "display_name": "jentix", "link": "https://stackoverflow.com/users/9476908/jentix"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4734, "favorite_count": 0, "accepted_answer_id": 54225762, "answer_count": 1, "score": 1, "last_activity_date": 1548007752, "creation_date": 1547642283, "last_edit_date": 1548007752, "question_id": 54217256, "link": "https://stackoverflow.com/questions/54217256/swagger-documentation-with-multipart-form-data-and-apiimplicitbody", "title": "Swagger documentation with multipart/form-data and @ApiImplicitBody", "body": "<p>I'm trying to create a controller action, which has to upload some files and saves them with some strings into the database.\nFor upload files I use <code>FileFieldsInterceptor</code> and for other data strings DTO. It works.\nBut I want document this endpoint by swagger and it doesn't work. For files, I can use <code>@ApiImplicitFile</code> with <code>@ApiConsumes('multipart/form-data')</code>, but for other body parameters I try use <code>@ApiImplicitBody</code> decorator and the app crashes with an error in <code>api-parameters.explorer.js</code>.</p>\n\n<p>How can I document a body parameter (other than file) into <code>multipart/form-data</code> by <code>@nestjs/swagger</code> module ?</p>\n\n<pre><code>@Post()\n@ApiOperation({ ...config.api.post })\n@ApiConsumes('multipart/form-data')\n@ApiImplicitFile({ name: 'file', required: true, description: 'Infographic file' })\n@ApiImplicitFile({ name: 'file_preview', required: true, description: 'Infographic preview file' })\n@ApiImplicitBody({ name: 'name', required: true, description: 'Infographic title', type: 'string' })\n@UseInterceptors(FileFieldsInterceptor([\n        { name: 'file', maxCount: 1 },\n        { name: 'file_preview', maxCount: 1 },\n    ],\n    {\n        storage: storageUpload('infographics'),\n        limits: {\n            fileSize: 20971520, // 20Mb\n        },\n        fileFilter: (req, file, cb) =&gt; {\n            const mimeTypeList = ['image/png', 'image/jpeg', 'application/pdf'];\n\n            return mimeTypeList.some(item =&gt; item === file.mimetype)\n                ? cb(null, true)\n                : cb(null, false);\n        },\n    },\n  ), new FilesValidationInterceptor())\nupload(@UploadedFiles() files, @Body() createDto: CreateInfographicsDto) {\n    return this.infographicsService.create(files, createDto);\n}\n</code></pre>\n"}, {"tags": ["angular", "typescript", "browser", "angular-local-storage"], "comments": [{"owner": {"reputation": 1226, "user_id": 8129670, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0154e301979f85ac1d5ce168b84190a7?s=128&d=identicon&r=PG", "display_name": "Jelle", "link": "https://stackoverflow.com/users/8129670/jelle"}, "edited": false, "score": 0, "creation_date": 1547763082, "post_id": 54217002, "comment_id": 95314528, "body": "Could it be that the <code>storageService</code> used in both components is not the same instance? Could you try to call the <code>storageService.setItem</code> from within the <code>FacebookLoginComponent</code> and check whether the <code>console.log()</code> is run for you?  If that is the case then you might need to check whether these components are part of the same module. <a href=\"https://angular.io/guide/singleton-services\" rel=\"nofollow noreferrer\">https://angular.io/guide/singleton-services</a> may help you in that regard"}, {"owner": {"reputation": 1325, "user_id": 3578809, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/6vKum.jpg?s=128&g=1", "display_name": "johannesMatevosyan", "link": "https://stackoverflow.com/users/3578809/johannesmatevosyan"}, "edited": false, "score": 0, "creation_date": 1572435652, "post_id": 54217002, "comment_id": 103556783, "body": "did you find any solution?"}], "owner": {"reputation": 350, "user_id": 6845008, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh3.googleusercontent.com/-gYFWr3vasMA/AAAAAAAAAAI/AAAAAAAALxs/CJJ5UxdzV9g/photo.jpg?sz=128", "display_name": "Dato Gogshelidze", "link": "https://stackoverflow.com/users/6845008/dato-gogshelidze"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 2227, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1547641953, "creation_date": 1547641337, "last_edit_date": 1547641953, "question_id": 54217002, "link": "https://stackoverflow.com/questions/54217002/how-to-subscribe-localstorage-in-angular-7", "title": "How to subscribe localstorage in angular 7", "body": "<p>I want to communicate between parent and child tabs. I will get some data in child tab (different component then parent) and then send this data to parent. \nI think that using browser localstorage is right way. So I'm insert data to localstorage and want that parent component automatically absorb this change, get data from localstorage and close child window.</p>\n\n<p>I have 2 components for parent and child windows and one service for subscribe localstorage. Problem is that parent component did not see changes because I am changing subject with \"next\" from child one.</p>\n\n<p>service code is:</p>\n\n<pre><code>export class ObserveLocalStorageService {\n  private storageSub= new Subject&lt;any&gt;();\n\n  watchStorage(): Observable&lt;any&gt; {\n    return this.storageSub.asObservable();\n  }\n\n  setItem(key: string, data: any) {\n    localStorage.setItem(key, data);\n    this.storageSub.next('changed');\n  }\n\n  removeItem(key) {\n    localStorage.removeItem(key);\n    this.storageSub.next('changed');\n  }\n}\n</code></pre>\n\n<p>child component code is:</p>\n\n<pre><code>export class FbLoginPopupComponent implements OnInit {\n\n     uriObject: any;\n\n     constructor(private storageService: ObserveLocalStorageService, \n                 private activatedRoute: ActivatedRoute) {}\n\n     ngOnInit() {\n       this.activatedRoute.fragment.subscribe((fragment: string) =&gt; {\n         console.log('My hash fragment is here =&gt; ', fragment);\n\n         this.uriObject = JSON.parse('{\"' + decodeURI(fragment)\n           .replace(/\"/g, '\\\\\"')\n           .replace(/&amp;/g, '\",\"')\n           .replace(/=/g,'\":\"') + '\"}');\n\n\n         if (this.uriObject['access_token']) {\n           this.storageService.setItem('fb_tk', true);\n           this.storageService.setItem('fb_tk_is', this.uriObject['access_token']);\n         } else {\n           this.storageService.setItem('fb_tk_err', this.uriObject['error']);\n           this.storageService.setItem('fb_tk_err_desc', this.uriObject['error_description']);\n         }\n     }\n}\n</code></pre>\n\n<p>Finally my parent component looks like:</p>\n\n<pre><code>export class FacebookLoginComponent implements OnInit, OnDestroy {\n\n  private authWindow: Window;     \n\n  constructor(private storageService: ObserveLocalStorageService) {}\n\n  ngOnInit() {\n     this.storageService.watchStorage().subscribe((data: string) =&gt; {\n       console.log(data); &lt;------------------ **problem is here. data is not loging**\n     });\n\n  launchFbLogin() {\n    this.authWindow = window.open('https://www.facebook.com/v2.11/dialog/oauth?' +\n      '&amp;response_type=token' +\n      '&amp;display=popup' +\n      '&amp;client_id=123321123321123321123321' +\n      '&amp;display=popup' +\n      '&amp;redirect_uri=https://localhost:44312/auth/fb-login-popup' +\n      // '&amp;redirect_uri=https://localhost:44312/facebook-auth.html' +\n      '&amp;scope=email',null,'width=600,height=400');\n  }\n\n}\n</code></pre>\n\n<p>I can not find solution. Please help.</p>\n\n<p>Thank you</p>\n"}, {"tags": ["typescript", "typescript-typings"], "comments": [{"owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "edited": false, "score": 0, "creation_date": 1547643540, "post_id": 54217001, "comment_id": 95260767, "body": "Could you please provide a full example of what you are trying to do?"}, {"owner": {"reputation": 2394, "user_id": 1283825, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/9dbf63dbbb275a443bced85ac711cb32?s=128&d=identicon&r=PG", "display_name": "Alexandre Hitchcox", "link": "https://stackoverflow.com/users/1283825/alexandre-hitchcox"}, "reply_to_user": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "edited": false, "score": 0, "creation_date": 1547644980, "post_id": 54217001, "comment_id": 95261561, "body": "@TitianCernicova-Dragomir I&#39;ve updated the question"}, {"owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "edited": false, "score": 0, "creation_date": 1547839792, "post_id": 54217001, "comment_id": 95344722, "body": "The problem is, that as far as I can tell there is no relation between <code>JSX.IntrinsicElements.a</code> and <code>AnchorProps</code>. On what basis could we make this association. Without an extra type to map between the <code>a</code> and <code>AnchorProps</code> or a single module exporting all components, and some extra type info on each to allow us to create a relation between the <code>a</code> and <code>AnchorProps</code> there is no way to automate the creation of  <code>Overrides</code>"}], "answers": [{"tags": [], "owner": {"reputation": 3933, "user_id": 7186598, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5f869a58e83c9ef8ddd17c4c7879ef1?s=128&d=identicon&r=PG&f=1", "display_name": "Gerrit0", "link": "https://stackoverflow.com/users/7186598/gerrit0"}, "is_accepted": false, "score": 0, "last_activity_date": 1547924438, "creation_date": 1547924438, "answer_id": 54270402, "question_id": 54217001, "link": "https://stackoverflow.com/questions/54217001/inherit-generic-value-from-object-property-in-typescript/54270402#54270402", "title": "Inherit generic value from object property in TypeScript", "body": "<p>No, you cannot inherit the <code>Props</code> type from the <code>component</code> type. This just isn't something that's possible with TypeScript</p>\n\n<p>You also can't do this directly if you are using custom interfaces for <code>AnchorProps</code> and <code>ParagraphProps</code> instead of the standard <code>React.AnchorHTMLAttributes&lt;HTMLAnchorElement&gt;</code> and <code>React.HTMLAttributes&lt;HTMLParagraphElement&gt;</code></p>\n\n<p>However, if your <code>Anchor</code> component takes the same props that the standard <code>HTMLAnchorElement</code> does, it is possible to achieve your desired result with only a few lines.</p>\n\n<pre class=\"lang-ts prettyprint-override\"><code>declare const Anchor: React.ComponentType&lt;React.AnchorHTMLAttributes&lt;HTMLAnchorElement&gt;&gt;\ndeclare const Paragraph: React.ComponentType&lt;React.HTMLAttributes&lt;HTMLElement&gt;&gt;\n\ntype Overrides = {\n  [tag in keyof JSX.IntrinsicElements]?: {\n    component: React.ComponentType&lt;JSX.IntrinsicElements[tag]&gt;,\n    props?: JSX.IntrinsicElements[tag]\n  }\n}\n\nconst overrides: Overrides = {\n  a: {\n    component: Anchor,\n    props: {\n      href: 'str', // ok\n      broken: true // error, as expected\n    }\n  },\n  p: {\n    component: Paragraph\n  }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 14263, "user_id": 10325032, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UwH88.jpg?s=128&g=1", "display_name": "Karol Majewski", "link": "https://stackoverflow.com/users/10325032/karol-majewski"}, "is_accepted": false, "score": 0, "last_activity_date": 1547941267, "creation_date": 1547941267, "answer_id": 54272315, "question_id": 54217001, "link": "https://stackoverflow.com/questions/54217001/inherit-generic-value-from-object-property-in-typescript/54272315#54272315", "title": "Inherit generic value from object property in TypeScript", "body": "<p>You need to tell TypeScript what is the relation between an intrinsic element and your custom props.</p>\n\n<pre><code>interface OverriddenProps extends JSX.IntrinsicElements {\n  a: AnchorProps;\n  p: ParagraphProps;\n}\n</code></pre>\n\n<p>Create your <code>Overrides</code> mapped type:</p>\n\n<pre><code>type Overrides = {\n  [Tag in keyof JSX.IntrinsicElements]?: {\n    component: React.ComponentType&lt;OverriddenProps[Tag]&gt;;\n    props: OverriddenProps[Tag]\n  }\n}\n</code></pre>\n\n<p>The type inference will now work correctly.</p>\n"}], "owner": {"reputation": 2394, "user_id": 1283825, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/9dbf63dbbb275a443bced85ac711cb32?s=128&d=identicon&r=PG", "display_name": "Alexandre Hitchcox", "link": "https://stackoverflow.com/users/1283825/alexandre-hitchcox"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 234, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1547941267, "creation_date": 1547641336, "last_edit_date": 1547644957, "question_id": 54217001, "link": "https://stackoverflow.com/questions/54217001/inherit-generic-value-from-object-property-in-typescript", "title": "Inherit generic value from object property in TypeScript", "body": "<p>Given the following generic type is there any way to inherit the <code>Props</code> type from the required <code>component</code> property without having to pass <code>Props</code> to <code>Override</code>?</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>type Override&lt;Props extends {} = {}&gt; = {\n  component: React.ComponentType&lt;Props&gt;\n  props?: Props\n}\n</code></pre>\n\n<p>What I'm trying to achieve is the following</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>type AnchorProps = { [...] }\nconst Anchor: React.ComponentType&lt;AnchorProps&gt; = [...]\ntype ParagraphProps = { [...] }\nconst Paragraph: React.ComponentType&lt;ParagraphProps&gt; = [...]\n\ntype Overrides = {\n  // i want to do this\n  [tag in keyof JSX.IntrinsicElements]?: Override\n\n  // rather than this\n  a: Override&lt;AnchorProps&gt;,\n  p: Override&lt;ParagraphProps&gt;,\n  [...]\n}\n\nconst overrides: Overrides = {\n  a: {\n    component: Anchor, // type is now `React.ComponentType&lt;AnchorProps&gt;`\n    props: { [...] },  // type should inherit from `component` and be `AnchorProps`\n  },\n  p: {\n    component: Paragraph, // type is `React.ComponentType&lt;ParagraphProps&gt;`\n    props: { [...] },     // type should inherit `ParagraphProps`\n  },\n  [...]\n}\n</code></pre>\n"}, {"tags": ["javascript", "angular", "typescript", "ngrx", "ngrx-effects"], "comments": [{"owner": {"reputation": 131, "user_id": 1811531, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b696d649242ac0d991b3541ff821117a?s=128&d=identicon&r=PG", "display_name": "sam_dev", "link": "https://stackoverflow.com/users/1811531/sam-dev"}, "edited": false, "score": 0, "creation_date": 1590845698, "post_id": 54216925, "comment_id": 109838027, "body": "Were you able to find solution ?"}], "owner": {"reputation": 1144, "user_id": 4219282, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/0ea19d4c69933c8efb5ba01bb96d0d29?s=128&d=identicon&r=PG&f=1", "display_name": "mr__brainwash", "link": "https://stackoverflow.com/users/4219282/mr-brainwash"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 367, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1547641055, "creation_date": 1547641055, "question_id": 54216925, "link": "https://stackoverflow.com/questions/54216925/generic-type-for-ngrx-actions-in-angular-7", "title": "Generic type for ngrx Actions in Angular 7", "body": "<p>I have dynamic action:</p>\n\n<pre><code>export class ChangeCurrentConfig implements Action {\n  readonly type = ActionTypes.ChangeCurrentConfig;\n\n  constructor(public payload: { key: string, value: any }) {}\n}\n</code></pre>\n\n<p>Where <code>key</code> is dynamic key of the reducer. For example i have:</p>\n\n<pre><code>interface Config1 {\n  myPath1: string\n}\n\ninterface Config2 {\n  myPath2: string\n}\n</code></pre>\n\n<p>And i load them dynamically in <code>CurrentConfig</code> reducer. And in effects of every config i handle changes for every config. For example <code>Config1</code> effect:</p>\n\n<pre><code>@Effect()\n  changeMyPath1$ = this.actions$.pipe(\n    ofType(ChangeMyPath1),\n    map((action: ChangeMyPath1) =&gt; action.payload.myPath1),\n    map(value =&gt; {\n      return new ChangeCurrentActivityConfig({\n        key: 'myPath1',\n        value,\n      });\n    })\n  );\n</code></pre>\n\n<p>The problem is that there is easy to make a mistake in this line <code>key: 'myPath1',</code>. I want to prevent this with generic for <code>ChangeCurrentConfig</code> action. I tried:</p>\n\n<pre><code>export class ChangeCurrentConfig&lt;T&gt; implements Action {\n  readonly type = ActionTypes.ChangeCurrentConfig;\n\n  constructor(public payload: { key: keyof T, value: any }) {}\n}\n</code></pre>\n\n<p>It works good, but i want to make this generic type <strong>required</strong> for new instances of the class. So if i write in effects <code>new ChangeCurrentActivityConfig</code> without generic type it will show an error. How i can achieve this? </p>\n"}, {"tags": ["reactjs", "typescript", "npm"], "answers": [{"tags": [], "owner": {"reputation": 125, "user_id": 1910065, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4256c39fc54b26e2a42d7919e2cd78de?s=128&d=identicon&r=PG", "display_name": "liquid boy", "link": "https://stackoverflow.com/users/1910065/liquid-boy"}, "is_accepted": false, "score": 0, "last_activity_date": 1572789156, "creation_date": 1572789156, "answer_id": 58680816, "question_id": 54216489, "link": "https://stackoverflow.com/questions/54216489/react-custom-scrollbars-package-working-example-typescript-react/58680816#58680816", "title": "react-custom-scrollbars package working example typescript react", "body": "<p><a href=\"https://gitlab.com/damjan89/i18next-typescript-example\" rel=\"nofollow noreferrer\">https://gitlab.com/damjan89/i18next-typescript-example</a> Here you can find implementation of react-custom-scrollbars in typescript</p>\n"}], "owner": {"reputation": 1199, "user_id": 7024844, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cgX7x.jpg?s=128&g=1", "display_name": "Usama Tahir", "link": "https://stackoverflow.com/users/7024844/usama-tahir"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 350, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1572789156, "creation_date": 1547639488, "question_id": 54216489, "link": "https://stackoverflow.com/questions/54216489/react-custom-scrollbars-package-working-example-typescript-react", "title": "react-custom-scrollbars package working example typescript react", "body": "<p>I want to use the react-custom-scrollbars package in a typescript react project but I can't make it work. I am looking for a working example as the examples mentioned in the GitHub repo aren't working in a typescript react project.</p>\n"}, {"tags": ["javascript", "angular", "typescript", "fin-hypergrid"], "comments": [{"owner": {"reputation": 835, "user_id": 5539487, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/f510c791ab135e9e10d8427e2d22a711?s=128&d=identicon&r=PG&f=1", "display_name": "Vince", "link": "https://stackoverflow.com/users/5539487/vince"}, "edited": false, "score": 0, "creation_date": 1550570072, "post_id": 54216212, "comment_id": 96306953, "body": "Try changing your import to: <code>import Hypergrid from &quot;fin-hypergrid&#47;src&#47;Hypergrid&quot;;</code> and then you can instantiate the grid as <code>new Hypergrid(...)</code> (rather than <code>fin.Hypergrid(...)</code>....)"}], "answers": [{"tags": [], "owner": {"reputation": 751, "user_id": 6434407, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6JbFb.jpg?s=128&g=1", "display_name": "Anuradha Mudalige", "link": "https://stackoverflow.com/users/6434407/anuradha-mudalige"}, "is_accepted": true, "score": 2, "last_activity_date": 1553754539, "creation_date": 1553754539, "answer_id": 55391387, "question_id": 54216212, "link": "https://stackoverflow.com/questions/54216212/how-to-use-fin-hypergrid-library-in-angular-6-ionic-4/55391387#55391387", "title": "How to use fin-hypergrid library in Angular 6/Ionic 4", "body": "<p>I am using fin-hypergrid 3.2.0 <a href=\"https://www.npmjs.com/package/fin-hypergrid\" rel=\"nofollow noreferrer\">version</a>. Here this answer will demonstrate how to use it inside the angular 2+.</p>\n\n<pre class=\"lang-html prettyprint-override\"><code>&lt;div id=\"json-example\" #hypergrid&gt;&lt;/div&gt;\n</code></pre>\n\n<pre class=\"lang-js prettyprint-override\"><code>import { Component, OnInit, AfterViewInit } from '@angular/core';\nimport * as Hypergrid from 'fin-hypergrid';\n\n@Component({\n  selector: 'app-markbook-new',\n  templateUrl: './markbook-new.page.html',\n  styleUrls: ['./markbook-new.page.scss']\n})\nexport class MarkBookNewPage implements OnInit, AfterViewInit {\n  protected grid: Hypergrid;\n\n  constructor() {\n    const data = [\n        {\n            \"Name\": \"Alabama\",\n            \"Code\": \"AL\",\n            \"Capital\": \"Montgomery\",\n            \"Statehood\": \"December 14, 1819\",\n            \"Population\": 4833722,\n            \"Area\": 52420,\n            \"House Seats\": 7\n        }\n    ];\n  }\n\n  ngOnInit() {\n  }\n\n  ngAfterViewInit() {\n     this.grid = new Hypergrid('#' + 'json-example',\n            {\n              data: this._rowList,\n              schema: [],\n              canvasContextAttributes: { alpha: true }\n            });\n  }\n\n  async ionViewDidEnter() {\n\n  }\n\n}\n</code></pre>\n\n<p>And you don't need <code>schema: [], canvasContextAttributes: { alpha: true }</code>, this will fix your problem. But you need to work more on getting grid to work.</p>\n"}], "owner": {"reputation": 337, "user_id": 1346742, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/qhsGT.jpg?s=128&g=1", "display_name": "Dan Reil", "link": "https://stackoverflow.com/users/1346742/dan-reil"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 231, "favorite_count": 0, "accepted_answer_id": 55391387, "answer_count": 1, "score": 0, "last_activity_date": 1553754539, "creation_date": 1547638450, "question_id": 54216212, "link": "https://stackoverflow.com/questions/54216212/how-to-use-fin-hypergrid-library-in-angular-6-ionic-4", "title": "How to use fin-hypergrid library in Angular 6/Ionic 4", "body": "<p>Trying to use the fin-hypergrid library in Angular, think the import is wrong. It's not a native typescript library so not sure exactly how to import it.</p>\n\n<p>Component/Page</p>\n\n<pre><code>import { Component, OnInit } from '@angular/core';\nimport * as Hypergrid from 'fin-hypergrid';\n\n@Component({\n  selector: 'app-markbook-new',\n  templateUrl: './markbook-new.page.html',\n  styleUrls: ['./markbook-new.page.scss']\n})\nexport class MarkBookNewPage implements OnInit {\n\n  constructor() {\n    const data = [\n        {\n            \"Name\": \"Alabama\",\n            \"Code\": \"AL\",\n            \"Capital\": \"Montgomery\",\n            \"Statehood\": \"December 14, 1819\",\n            \"Population\": 4833722,\n            \"Area\": 52420,\n            \"House Seats\": 7\n        }\n    ];\n    console.log(fin);\n    const div = document.querySelector('div#json-example'),\n      grid = new fin.Hypergrid(div, { data: data });\n  }\n\n  ngOnInit() {\n  }\n\n  async ionViewDidEnter() {\n\n  }\n\n}\n</code></pre>\n\n<p>HTML</p>\n\n<pre><code>&lt;div id=\"json-example\" style=\"position:relative; width:600px; height:100px\"&gt;&lt;/div&gt;\n</code></pre>\n\n<p>I get error <code>Cannot Find fin</code></p>\n\n<p>If I change <code>import * as Hypergrid from 'fin-hypergrid';</code> to <code>import * as fin from 'fin-hypergrid';</code></p>\n\n<p>I get <code>ERROR Error: Uncaught (in promise): TypeError: fin_hypergrid__WEBPACK_IMPORTED_MODULE_1__.Hypergrid is not a constructor</code></p>\n\n<p>Library used:</p>\n\n<p><a href=\"https://github.com/fin-hypergrid/core\" rel=\"nofollow noreferrer\">https://github.com/fin-hypergrid/core</a></p>\n\n<p>Above example taken from:</p>\n\n<p><a href=\"https://github.com/fin-hypergrid/build/blob/master/demo/basic.html\" rel=\"nofollow noreferrer\">https://github.com/fin-hypergrid/build/blob/master/demo/basic.html</a></p>\n"}, {"tags": ["typescript"], "comments": [{"owner": {"reputation": 798, "user_id": 7026966, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/n9wJa.jpg?s=128&g=1", "display_name": "Himanshu Shekhar", "link": "https://stackoverflow.com/users/7026966/himanshu-shekhar"}, "edited": false, "score": 0, "creation_date": 1547637030, "post_id": 54215653, "comment_id": 95257091, "body": "Did you read this article. <a href=\"http://www.tutorialsteacher.com/typescript/type-inference\" rel=\"nofollow noreferrer\">tutorialsteacher.com/typescript/type-inference</a>"}, {"owner": {"reputation": 1170, "user_id": 6848923, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f1181f52e611d02616d9beee2197eac5?s=128&d=identicon&r=PG&f=1", "display_name": "Gourav Pokharkar", "link": "https://stackoverflow.com/users/6848923/gourav-pokharkar"}, "reply_to_user": {"reputation": 798, "user_id": 7026966, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/n9wJa.jpg?s=128&g=1", "display_name": "Himanshu Shekhar", "link": "https://stackoverflow.com/users/7026966/himanshu-shekhar"}, "edited": false, "score": 0, "creation_date": 1547637734, "post_id": 54215653, "comment_id": 95257474, "body": "No, I mean clear difference between both terms with example."}], "answers": [{"comments": [{"owner": {"reputation": 1170, "user_id": 6848923, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f1181f52e611d02616d9beee2197eac5?s=128&d=identicon&r=PG&f=1", "display_name": "Gourav Pokharkar", "link": "https://stackoverflow.com/users/6848923/gourav-pokharkar"}, "edited": false, "score": 1, "creation_date": 1547638323, "post_id": 54216030, "comment_id": 95257844, "body": "Thanks!! This Explains!!"}], "tags": [], "owner": {"reputation": 204677, "user_id": 75525, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/IYU63.png?s=128&g=1", "display_name": "Fenton", "link": "https://stackoverflow.com/users/75525/fenton"}, "is_accepted": true, "score": 3, "last_activity_date": 1547637863, "creation_date": 1547637863, "answer_id": 54216030, "question_id": 54215653, "link": "https://stackoverflow.com/questions/54215653/what-is-difference-between-type-annotations-and-type-inference/54216030#54216030", "title": "What is difference between Type Annotations and Type Inference?", "body": "<p>Type inference is where the compiler works out the type on your behalf:</p>\n\n<pre><code>const a = 'Some value';\n</code></pre>\n\n<p>The variable <code>a</code> has an <em>inferred</em> type of <code>string</code>.</p>\n\n<p>A type annotation is where you explicitly state the type:</p>\n\n<pre><code>const a: string = 'Some value';\n</code></pre>\n\n<p>You have specifically indicated that this should be a string with a type annotation (typically in the format <code>: type</code>).</p>\n\n<p>The practical difference is that where types can be inferred, you save a great deal of typing without losing the benefits. In some cases, being explicit can be beneficial:</p>\n\n<ul>\n<li>When creating an object with a literal value - as it catches mis-typed members</li>\n<li>Function signatures - as parameter types are tricky to infer and return types will end up as a union of types found in return statements, so you might not realise you are returning different types in different cases</li>\n</ul>\n"}], "owner": {"reputation": 1170, "user_id": 6848923, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f1181f52e611d02616d9beee2197eac5?s=128&d=identicon&r=PG&f=1", "display_name": "Gourav Pokharkar", "link": "https://stackoverflow.com/users/6848923/gourav-pokharkar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 233, "favorite_count": 0, "accepted_answer_id": 54216030, "answer_count": 1, "score": 3, "last_activity_date": 1547637863, "creation_date": 1547636607, "question_id": 54215653, "link": "https://stackoverflow.com/questions/54215653/what-is-difference-between-type-annotations-and-type-inference", "title": "What is difference between Type Annotations and Type Inference?", "body": "<p>I was going through a TypeScript Tutorial and encountered with these terms: Type Annotations and Type Inference. I am not satisfied with the web explanation and not getting clear difference out of it. Need simple difference based explanation.  </p>\n"}, {"tags": ["javascript", "angular", "typescript", "angular-directive"], "answers": [{"tags": [], "owner": {"reputation": 127, "user_id": 3886058, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/d319c3e65eabeaca10e33d6a036be519?s=128&d=identicon&r=PG&f=1", "display_name": "MaxB", "link": "https://stackoverflow.com/users/3886058/maxb"}, "is_accepted": false, "score": 0, "last_activity_date": 1557346473, "creation_date": 1557346473, "answer_id": 56048407, "question_id": 54215331, "link": "https://stackoverflow.com/questions/54215331/angular-how-can-i-use-a-directive-to-format-an-input-value/56048407#56048407", "title": "Angular: How can I use a directive to format an input value?", "body": "<p>The data for the DOM element is not yet bound when <code>ngOnInit()</code> fires for any attached directives so the value is bound afterwards and any changes made in the directives' <code>ngOnInit()</code> are lost. The only way I have found you can fire a function after the data has been bound in a directive is to implement <code>DoCheck</code>.</p>\n\n<p>So you would want to do something like this:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>export class NumberMaskDirective implements DoCheck {\nprivate firstRun = true;\n\npublic ngDoCheck() {\n    if (firstRun) {\n        this.el.value = this.numberMaskPipe.transform(this.initialValue);\n        firstRun = false;\n    }\n}\n</code></pre>\n\n<p>The reason for the flag is that <code>ngDoCheck</code> is called every time the data model is updated. You could also use <code>ngAfterContentChecked</code> or <code>ngAfterViewChecked</code> but they have the same problem as <code>ngDoCheck</code> of firing on every update so I'm just going with <code>ngDoCheck</code> because it fires first of all three of these hooks. I am not sure if there is a better lifecycle hook to use that does not require a flag to ensure it only runs once, but I have not been able to find one.</p>\n"}], "owner": {"reputation": 71, "user_id": 10895761, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a762fecf6be01f6a17d039554a1f548f?s=128&d=identicon&r=PG&f=1", "display_name": "Schallus", "link": "https://stackoverflow.com/users/10895761/schallus"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1716, "favorite_count": 1, "answer_count": 1, "score": 1, "last_activity_date": 1557346473, "creation_date": 1547635455, "question_id": 54215331, "link": "https://stackoverflow.com/questions/54215331/angular-how-can-i-use-a-directive-to-format-an-input-value", "title": "Angular: How can I use a directive to format an input value?", "body": "<p>I tried to create a custom directive to allow users to type only numbers in a text field and those numbers will be formatted using the locale format (thousands separators, decimal separator)</p>\n\n<p>I have been able to create a directive that use a custom pipe to do so, however, I can't set the default value using the correct format.</p>\n\n<p>I've made a Plunker so that you know exactly what I'm talking about : </p>\n\n<p><a href=\"https://next.plnkr.co/edit/ToxPEEooR5lvCJOm?preview\" rel=\"nofollow noreferrer\">https://next.plnkr.co/edit/ToxPEEooR5lvCJOm?preview</a></p>\n\n<p>I don't know why but I can't make the demo app on Plunker work. Probably a small issue.</p>\n\n<p>Here is my directive</p>\n\n<pre><code>import { Directive, HostListener, ElementRef, OnInit, Input } from '@angular/core';\nimport { NumberMaskPipe } from './number-mask.pipe';\n\n@Directive({\n  selector: 'input[type=text][numberMask]'\n})\nexport class NumberMaskDirective implements OnInit {\n\n  private el: HTMLInputElement;\n  // tslint:disable-next-line:no-input-rename\n  @Input('ngModel') private initialValue: any;\n\n  constructor(\n    private elementRef: ElementRef,\n    private numberMaskPipe: NumberMaskPipe\n  ) {\n    this.el = this.elementRef.nativeElement;\n  }\n\n  public ngOnInit() {\n    console.log('ngOnInit', this.initialValue); // LOG ngOnInit 1005698\n    console.log(this.numberMaskPipe.transform(this.initialValue)); // LOG 1,005,698.00\n    console.log('this.el', this.el); // LOG this.el &lt;input _ng2content-c2 class=\"form-control...\n    console.log('this.el.value', this.el.value); // this.el.value is empty on init. Why ??\n    this.el.value = this.numberMaskPipe.transform(this.initialValue); // Does not change the input value. Why ??\n  }\n\n  @HostListener('focus', ['$event.target.value'])\n  onFocus(value) {\n    this.el.value = this.numberMaskPipe.parse(value); // opposite of transform\n  }\n\n  @HostListener('blur', ['$event.target.value'])\n  onBlur(value) {\n    this.el.value = this.numberMaskPipe.transform(value);\n  }\n\n  @HostListener('keydown', ['$event']) onKeyDown(event) {\n    const e = &lt; KeyboardEvent &gt; event;\n    if ([46, 8, 9, 27, 13, 110, 190].indexOf(e.keyCode) !== -1 ||\n      // Allow: Ctrl+A\n      (e.keyCode === 65 &amp;&amp; (e.ctrlKey || e.metaKey)) ||\n      // Allow: Ctrl+C\n      (e.keyCode === 67 &amp;&amp; (e.ctrlKey || e.metaKey)) ||\n      // Allow: Ctrl+V\n      (e.keyCode === 86 &amp;&amp; (e.ctrlKey || e.metaKey)) ||\n      // Allow: Ctrl+X\n      (e.keyCode === 88 &amp;&amp; (e.ctrlKey || e.metaKey)) ||\n      // Allow: home, end, left, right\n      (e.keyCode &gt;= 35 &amp;&amp; e.keyCode &lt;= 39)) {\n      // let it happen, don't do anything\n      return;\n    }\n    // Ensure that it is a number and stop the keypress\n    if ((e.shiftKey || (e.keyCode &lt; 48 || e.keyCode &gt; 57)) &amp;&amp; (e.keyCode &lt; 96 || e.keyCode &gt; 105)) {\n      e.preventDefault();\n    }\n  }\n}\n</code></pre>\n\n<p>Could you please tell me how to initialize the input field with its value formatted using my directive ?</p>\n\n<p>Thanks in advance</p>\n"}, {"tags": ["html", "css", "angular", "typescript", "angular-material"], "comments": [{"owner": {"reputation": 2577, "user_id": 4049659, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1e8833ee05eac302c81650c970e22db5?s=128&d=identicon&r=PG&f=1", "display_name": "Xenio Gracias", "link": "https://stackoverflow.com/users/4049659/xenio-gracias"}, "edited": false, "score": 0, "creation_date": 1547634700, "post_id": 54214998, "comment_id": 95255811, "body": "please share the jsfiddle link. thanks"}, {"owner": {"reputation": 148, "user_id": 8008363, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/Zr399.jpg?s=128&g=1", "display_name": "A. Bechir", "link": "https://stackoverflow.com/users/8008363/a-bechir"}, "edited": false, "score": 1, "creation_date": 1547635313, "post_id": 54214998, "comment_id": 95256168, "body": "Did you try <code>overflow-y:hidden</code> ?"}, {"owner": {"reputation": 135, "user_id": 7273146, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8H4t9.png?s=128&g=1", "display_name": "ggsdc", "link": "https://stackoverflow.com/users/7273146/ggsdc"}, "reply_to_user": {"reputation": 148, "user_id": 8008363, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/Zr399.jpg?s=128&g=1", "display_name": "A. Bechir", "link": "https://stackoverflow.com/users/8008363/a-bechir"}, "edited": false, "score": 0, "creation_date": 1547635445, "post_id": 54214998, "comment_id": 95256255, "body": "@A.Bechir yes, I did try it does not seem to work either, even tried <code>overflow:hidden !important</code>"}, {"owner": {"reputation": 148, "user_id": 8008363, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/Zr399.jpg?s=128&g=1", "display_name": "A. Bechir", "link": "https://stackoverflow.com/users/8008363/a-bechir"}, "edited": false, "score": 0, "creation_date": 1547635551, "post_id": 54214998, "comment_id": 95256305, "body": "So please share jsfiddle link"}, {"owner": {"reputation": 17877, "user_id": 6782707, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2425200c04f326a53ef0085b703369d6?s=128&d=identicon&r=PG", "display_name": "Edric", "link": "https://stackoverflow.com/users/6782707/edric"}, "edited": false, "score": 0, "creation_date": 1547645399, "post_id": 54214998, "comment_id": 95261815, "body": "Why are you using AngularJS Material with Angular Material?"}, {"owner": {"reputation": 17877, "user_id": 6782707, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2425200c04f326a53ef0085b703369d6?s=128&d=identicon&r=PG", "display_name": "Edric", "link": "https://stackoverflow.com/users/6782707/edric"}, "reply_to_user": {"reputation": 148, "user_id": 8008363, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/Zr399.jpg?s=128&g=1", "display_name": "A. Bechir", "link": "https://stackoverflow.com/users/8008363/a-bechir"}, "edited": false, "score": 0, "creation_date": 1547645421, "post_id": 54214998, "comment_id": 95261830, "body": "@A.Bechir OP is using Angular, the newer framework. AFAIK, it&#39;s not possible to have an Angular project on JSFiddle."}], "answers": [{"tags": [], "owner": {"reputation": 600, "user_id": 10887749, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/huDhN.png?s=128&g=1", "display_name": "Sethuraman", "link": "https://stackoverflow.com/users/10887749/sethuraman"}, "is_accepted": true, "score": 2, "last_activity_date": 1547636276, "creation_date": 1547636276, "answer_id": 54215547, "question_id": 54214998, "link": "https://stackoverflow.com/questions/54214998/disable-scrolling-bar-in-mat-menu/54215547#54215547", "title": "Disable scrolling bar in mat menu", "body": "<p>Because , when you using angular one common attribute will be rendered in DOM like \nng-content which will over write your class properties written in css , so try this code this will eliminate native angular styles to use in application . </p>\n\n<p>Go to the Component, </p>\n\n<pre><code>import {ViewEncapsulation} from '@angular/core';\n</code></pre>\n\n<p>then</p>\n\n<pre><code>@Component({\n.....\n.....\nencapsulation: ViewEncapsulation.None\n})\n</code></pre>\n\n<p>then your styles will taken by browser .</p>\n"}, {"tags": [], "owner": {"reputation": 38, "user_id": 5158280, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-rZHKjZ04q7w/AAAAAAAAAAI/AAAAAAAAELM/Ad6IfNDlw3I/photo.jpg?sz=128", "display_name": "Arix Zajicek", "link": "https://stackoverflow.com/users/5158280/arix-zajicek"}, "is_accepted": false, "score": 0, "last_activity_date": 1610742687, "creation_date": 1610742687, "answer_id": 65743166, "question_id": 54214998, "link": "https://stackoverflow.com/questions/54214998/disable-scrolling-bar-in-mat-menu/65743166#65743166", "title": "Disable scrolling bar in mat menu", "body": "<p>I know this question is a couple years old, but the last answer can cause serious issues with css classes from your own style bleeding into child elements. Sure, you can now overwrite css styles from sub-components easily, but it also means you can easily overwrite them unintentionally. <code>ViewEncapsulation.None</code> should not be used unless absolutely necessary.</p>\n<p>Instead, it's better to use <code>::ng-deep</code> (<a href=\"https://ngrefs.com/latest/styling/ng-deep-selector\" rel=\"nofollow noreferrer\">see the reference</a>) to specify when you would like to override a sub-component's styling.</p>\n<p>In your case, you'd be able to do the following:</p>\n<pre><code>::ng-deep .menu-without-scroll {\n    overflow: hidden !important;\n}\n</code></pre>\n<p>Note that while <code>::ng-deep</code> is deprecated, there is currently no alternative and hence it's reasonable to continue using it. See <a href=\"https://stackoverflow.com/a/49308475/5158280\">this answer</a> for more info.</p>\n"}], "owner": {"reputation": 135, "user_id": 7273146, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8H4t9.png?s=128&g=1", "display_name": "ggsdc", "link": "https://stackoverflow.com/users/7273146/ggsdc"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3097, "favorite_count": 0, "accepted_answer_id": 54215547, "answer_count": 2, "score": 3, "last_activity_date": 1610742687, "creation_date": 1547634339, "last_edit_date": 1547637197, "question_id": 54214998, "link": "https://stackoverflow.com/questions/54214998/disable-scrolling-bar-in-mat-menu", "title": "Disable scrolling bar in mat menu", "body": "<p>I am trying to make the scroll bar in a material menu disappear but I don't seem to be able to do it.</p>\n\n<p>As it is right now:</p>\n\n<p><a href=\"https://i.stack.imgur.com/Bs0FQ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Bs0FQ.png\" alt=\"As it is\"></a></p>\n\n<p>As I want it to be:</p>\n\n<p><a href=\"https://i.stack.imgur.com/oFCQy.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/oFCQy.png\" alt=\"As i want it\"></a></p>\n\n<p>I've tried the solutions proposed <a href=\"https://stackoverflow.com/questions/45267462/how-to-remove-angular-material-design-menu-box-scroll-bars\">here</a> and <a href=\"https://stackoverflow.com/questions/39165401/how-to-disable-scroll-in-md-menu\">here</a>, without success.</p>\n\n<p>I know that the option I must set in the css is <code>overflow: hidden;</code> but this does not seem to do the trick when I put it in the component css.</p>\n\n<p>I've tried setting that option to <code>.mat-menu-panel</code>, <code>.mat-menu</code> and even with a custom class, but it does not work.</p>\n\n<p>My html looks like this:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;mat-table [dataSource]=\"dataSource\"&gt;\r\n\r\n      &lt;ng-container matColumnDef=\"employee_name\"&gt;\r\n        &lt;th mat-header-cell *matHeaderCellDef class=\"rest\"&gt; Nombre &lt;/th&gt;\r\n        &lt;td mat-cell *matCellDef=\"let element\"&gt; {{element.employee_name}}&lt;/td&gt;\r\n      &lt;/ng-container&gt;\r\n\r\n      &lt;ng-container matColumnDef=\"date\"&gt;\r\n        &lt;th mat-header-cell *matHeaderCellDef class=\"rest\"&gt; Fecha &lt;/th&gt;\r\n        &lt;td mat-cell *matCellDef=\"let element\"&gt; {{element.date | date:'yyyy-MM-dd'}}&lt;/td&gt;\r\n      &lt;/ng-container&gt;\r\n\r\n      &lt;ng-container matColumnDef=\"duration\"&gt;\r\n        &lt;th mat-header-cell *matHeaderCellDef class=\"rest\"&gt; Duraci\u00f3n &lt;/th&gt;\r\n        &lt;td mat-cell *matCellDef=\"let element\"&gt; {{element.duration}}&lt;/td&gt;\r\n      &lt;/ng-container&gt;\r\n\r\n      &lt;ng-container matColumnDef=\"actions\"&gt;\r\n        &lt;th mat-header-cell *matHeaderCellDef class=\"menu\"&gt;&lt;/th&gt;\r\n        &lt;td mat-cell *matCellDef=\"let element\" (click)=\"$event.stopPropagation()\"&gt;\r\n          &lt;button mat-icon-button [matMenuTriggerFor]=\"menu\"&gt;\r\n            &lt;mat-icon&gt;more_vert&lt;/mat-icon&gt;\r\n          &lt;/button&gt;\r\n          &lt;mat-menu #menu=\"matMenu\" class=\"menu-without-scroll\"&gt;\r\n            &lt;button mat-menu-item (click)=\"editDuration(element)\"&gt;\r\n              &lt;mat-icon&gt;edit&lt;/mat-icon&gt;\r\n              &lt;span&gt;Editar&lt;/span&gt;\r\n            &lt;/button&gt;\r\n            &lt;button mat-menu-item (click)=\"deleteDuration(element)\"&gt;\r\n              &lt;mat-icon&gt;delete&lt;/mat-icon&gt;\r\n              &lt;span&gt;Eliminar&lt;/span&gt;\r\n            &lt;/button&gt;\r\n          &lt;/mat-menu&gt;\r\n        &lt;/td&gt;\r\n\r\n      &lt;/ng-container&gt;\r\n\r\n      &lt;tr mat-header-row *matHeaderRowDef=\"displayedComumns\"&gt;&lt;/tr&gt;\r\n      &lt;tr mat-row *matRowDef=\"let row; columns: displayedComumns;\" (click)=\"onEdit(row)\"&gt;&lt;/tr&gt;\r\n    &lt;/mat-table&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>The menu is in one of the cells of the table.</p>\n\n<p>From the developer tools in the browser if I change in <code>.mat-menu-panel</code> <code>overflow: auto</code> to <code>overflow:hidden</code> it renders correctly but if I change it in the .css it does not work.</p>\n\n<p>The dependencies, in case it helps, are:</p>\n\n<pre><code>\"dependencies\": {\n    \"@angular/animations\": \"~7.0.0\",\n    \"@angular/cdk\": \"^7.2.1\",\n    \"@angular/common\": \"~7.0.0\",\n    \"@angular/compiler\": \"~7.0.0\",\n    \"@angular/core\": \"~7.0.0\",\n    \"@angular/forms\": \"~7.0.0\",\n    \"@angular/http\": \"~7.0.0\",\n    \"@angular/material\": \"^7.2.1\",\n    \"@angular/platform-browser\": \"~7.0.0\",\n    \"@angular/platform-browser-dynamic\": \"~7.0.0\",\n    \"@angular/router\": \"~7.0.0\",\n    \"angular-material\": \"^1.1.12\",\n    \"core-js\": \"^2.5.4\",\n    \"hammerjs\": \"^2.0.8\",\n    \"rxjs\": \"~6.3.3\",\n    \"zone.js\": \"~0.8.26\"\n  },\n</code></pre>\n\n<p>Tell me if you need more information.</p>\n"}, {"tags": ["angular", "typescript", "dynamic-import"], "answers": [{"tags": [], "owner": {"reputation": 6954, "user_id": 1850851, "user_type": "registered", "accept_rate": 42, "profile_image": "https://www.gravatar.com/avatar/6784558f77f063472d44576d296a8a61?s=128&d=identicon&r=PG", "display_name": "Cristian Tra&#236;na", "link": "https://stackoverflow.com/users/1850851/cristian-tra%c3%acna"}, "is_accepted": false, "score": 0, "last_activity_date": 1547634632, "creation_date": 1547634632, "answer_id": 54215093, "question_id": 54214910, "link": "https://stackoverflow.com/questions/54214910/how-to-use-types-with-dynamic-imports/54215093#54215093", "title": "How to use types with dynamic imports?", "body": "<p>I don't know your context, so I suppose two things:</p>\n\n<ol>\n<li><p>You defined a XLSX type elsewhere, but the XLSX parameter variable is shadowing the external variable. To avoid shadowing, just use another name for the parameter variable (for example prepending an underscore):</p>\n\n<pre><code>import('xlsx').then(_XLSX =&gt; {\n    const wb: XLSX.WorkBook = _XLSX.read(bstr, { type: 'binary' });\n})\n</code></pre></li>\n<li><p>You think that <code>XLSX.WorkBook</code> is a type, but it's not! XLSX is a javascript library, and javascript doesn't have a concept of type. Also when using TypeScript, it's then get transpilled to javascript and any information about type gets lost. There is no a solution for this problem, but probably you have to import the type from somewhere else, for example DefinetelyTyped. Just import the type in your component then you'll be able to use it.</p></li>\n</ol>\n"}, {"comments": [{"owner": {"reputation": 834, "user_id": 1278187, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/21ce3dbf025dde1e58788030dd826041?s=128&d=identicon&r=PG", "display_name": "MrVoodoo", "link": "https://stackoverflow.com/users/1278187/mrvoodoo"}, "edited": false, "score": 0, "creation_date": 1547636747, "post_id": 54215112, "comment_id": 95256923, "body": "Didn&#39;t know about eliding modules. That worked great, thanks!"}], "tags": [], "owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "is_accepted": true, "score": 5, "last_activity_date": 1547635103, "last_edit_date": 1547635103, "creation_date": 1547634687, "answer_id": 54215112, "question_id": 54214910, "link": "https://stackoverflow.com/questions/54214910/how-to-use-types-with-dynamic-imports/54215112#54215112", "title": "How to use types with dynamic imports?", "body": "<p><code>XLSX</code> will only represent the value of the import, not the types. </p>\n\n<p>You have two options. </p>\n\n<p><strong>Use an import type:</strong></p>\n\n<pre><code>import('xlsx').then(XLSX =&gt; {\n    const wb: import('xlsx').WorkBook = XLSX.read(bstr, { type: 'binary' });\n})\n</code></pre>\n\n<p>You can define a type alias to make this easier: <code>type WorkBook = import('xlsx').WorkBook</code> </p>\n\n<p><strong>Import the type:</strong></p>\n\n<pre><code>import { WorkBook } from 'xlsx' // Just for the type, will be elided in this example\n\nimport('xlsx').then(XLSX =&gt; {\n    const wb: WorkBook = XLSX.read(bstr, { type: 'binary' });\n})\n</code></pre>\n\n<p>This second option is more tricky to get right, if you only use the imports from the static import in types, the import statement should be elided (ie not outputted to JS). As soon as you use any import from the static import in an expression (ie. any position that will end up in the JS) the import will not be elided. See more about <a href=\"https://github.com/Microsoft/TypeScript/wiki/FAQ#why-are-imports-being-elided-in-my-emit\" rel=\"nofollow noreferrer\">module being elided</a></p>\n"}], "owner": {"reputation": 834, "user_id": 1278187, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/21ce3dbf025dde1e58788030dd826041?s=128&d=identicon&r=PG", "display_name": "MrVoodoo", "link": "https://stackoverflow.com/users/1278187/mrvoodoo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1034, "favorite_count": 1, "accepted_answer_id": 54215112, "answer_count": 2, "score": 4, "last_activity_date": 1547635103, "creation_date": 1547634040, "question_id": 54214910, "link": "https://stackoverflow.com/questions/54214910/how-to-use-types-with-dynamic-imports", "title": "How to use types with dynamic imports?", "body": "<p>I'm using dynamic imports with Angular 7 to reduce the size of the initial vendor bundle.</p>\n\n<pre><code>import('xlsx').then(XLSX =&gt; {\n    const wb: XLSX.WorkBook = XLSX.read(bstr, { type: 'binary' });\n})\n</code></pre>\n\n<p>But there is an error on the <code>XLSX.WorkBook</code> type saying 'Cannot find namespace XLSX'.<br>\nXLSX.read works fine.</p>\n\n<p>Question : How do I define types when using dynamic imports?</p>\n"}, {"tags": ["css", "angular", "twitter-bootstrap", "typescript", "ng-bootstrap"], "comments": [{"owner": {"reputation": 12075, "user_id": 8757883, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gQGYY.png?s=128&g=1", "display_name": "Akber Iqbal", "link": "https://stackoverflow.com/users/8757883/akber-iqbal"}, "edited": false, "score": 0, "creation_date": 1547633967, "post_id": 54214831, "comment_id": 95255389, "body": "you did inlcude the bootstrap.css in index.html or angular.json, right?"}, {"owner": {"reputation": 93, "user_id": 3994909, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/9a77cf43e41471ec8b7ef5d6a0b15e17?s=128&d=identicon&r=PG&f=1", "display_name": "Bassem", "link": "https://stackoverflow.com/users/3994909/bassem"}, "reply_to_user": {"reputation": 12075, "user_id": 8757883, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gQGYY.png?s=128&g=1", "display_name": "Akber Iqbal", "link": "https://stackoverflow.com/users/8757883/akber-iqbal"}, "edited": false, "score": 0, "creation_date": 1547634361, "post_id": 54214831, "comment_id": 95255617, "body": "sorry what do you mean ?"}, {"owner": {"reputation": 28589, "user_id": 8558186, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8af66bb1af6d1875a2dd7be9dd1c8d2b?s=128&d=identicon&r=PG&f=1", "display_name": "Eliseo", "link": "https://stackoverflow.com/users/8558186/eliseo"}, "edited": false, "score": 2, "creation_date": 1547634431, "post_id": 54214831, "comment_id": 95255658, "body": "You need add encapsulation:ViewEncapsulation.None in your component. <a href=\"https://angular.io/api/core/ViewEncapsulation\" rel=\"nofollow noreferrer\">angular.io/api/core/ViewEncapsulation</a>"}, {"owner": {"reputation": 93, "user_id": 3994909, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/9a77cf43e41471ec8b7ef5d6a0b15e17?s=128&d=identicon&r=PG&f=1", "display_name": "Bassem", "link": "https://stackoverflow.com/users/3994909/bassem"}, "edited": false, "score": 0, "creation_date": 1547634802, "post_id": 54214831, "comment_id": 95255872, "body": "Elisio , wow , worked,  should i add this option to all components ,  please post your answer so i can mark it as answer"}, {"owner": {"reputation": 93, "user_id": 3994909, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/9a77cf43e41471ec8b7ef5d6a0b15e17?s=128&d=identicon&r=PG&f=1", "display_name": "Bassem", "link": "https://stackoverflow.com/users/3994909/bassem"}, "edited": false, "score": 0, "creation_date": 1547635310, "post_id": 54214831, "comment_id": 95256165, "body": "the default value is Emulated , why it doesn&#39;t work with this option"}], "owner": {"reputation": 93, "user_id": 3994909, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/9a77cf43e41471ec8b7ef5d6a0b15e17?s=128&d=identicon&r=PG&f=1", "display_name": "Bassem", "link": "https://stackoverflow.com/users/3994909/bassem"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1211, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1547633802, "creation_date": 1547633802, "question_id": 54214831, "link": "https://stackoverflow.com/questions/54214831/angular-ng-bootstrap-ngbmodal-popup-windowclass-property-is-not-working", "title": "Angular - ng-bootstrap - NgbModal Popup windowClass property is not working", "body": "<p>I have a Modal popup , i want to increase the width of it.</p>\n\n<p>here is angular code </p>\n\n<pre><code>openTaskDetails(content) {\nconst options : NgbModalOptions={\n  size : 'lg',\n  windowClass :'mycustomClass'\n}\nthis.modalService.open(content ,options).result.then((result) =&gt; {\n  this.saveTask(result);\n}, (reason) =&gt; {\n  console.log(reason);\n});\n}\n</code></pre>\n\n<p>and the css is </p>\n\n<pre><code>.mycustomClass .modal-lg {\n      width : 80% !important;\n      max-width: 90% !important;\n      background-color:red;\n}\n</code></pre>\n\n<p>size property is working fine but windowClass is not.\ni tried </p>\n\n<pre><code>.mycustomClass {\n       width : 80% !important;\n       max-width: 90% !important;\n       background-color:red;\n}\n</code></pre>\n\n<p>but same problem still exist , the width of popup is not increased.</p>\n\n<p>when i inspect element , i see the class name mycustomClass inserted within the HTML but the css is not found.</p>\n"}, {"tags": ["angular", "typescript", "npm", "angular-cli"], "comments": [{"owner": {"reputation": 3093, "user_id": 7672014, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/91fd0095c66b334d8946e1aa9cad8ea1?s=128&d=identicon&r=PG&f=1", "display_name": "Swoox", "link": "https://stackoverflow.com/users/7672014/swoox"}, "edited": false, "score": 0, "creation_date": 1547634066, "post_id": 54214751, "comment_id": 95255448, "body": "The file should had be included where the project was. Try to copy it from some angular example and try again. This file is needed for the cli. CLI 6.0+ don&#39;t need this file yes."}, {"owner": {"reputation": 2155, "user_id": 1913063, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/4c9690dcd8dc4a59798f5c158ed4c600?s=128&d=identicon&r=PG", "display_name": "Perrier", "link": "https://stackoverflow.com/users/1913063/perrier"}, "reply_to_user": {"reputation": 3093, "user_id": 7672014, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/91fd0095c66b334d8946e1aa9cad8ea1?s=128&d=identicon&r=PG&f=1", "display_name": "Swoox", "link": "https://stackoverflow.com/users/7672014/swoox"}, "edited": false, "score": 0, "creation_date": 1547638762, "post_id": 54214751, "comment_id": 95258113, "body": "I&#39;he added the file and now having other errors. With older compiler-cli and typescript I get a length of undefined error. If I update to newer compiler-cli and typescript it throws the <code>Versions of @angular&#47;compiler-cli and typescript could not be determined.</code> error again so I&#39;m at the beginning again."}, {"owner": {"reputation": 3093, "user_id": 7672014, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/91fd0095c66b334d8946e1aa9cad8ea1?s=128&d=identicon&r=PG&f=1", "display_name": "Swoox", "link": "https://stackoverflow.com/users/7672014/swoox"}, "edited": false, "score": 0, "creation_date": 1547641361, "post_id": 54214751, "comment_id": 95259594, "body": "I seen the answer to try <code>npm install -g angular-cli@1.7.4</code>"}], "answers": [{"comments": [{"owner": {"reputation": 2155, "user_id": 1913063, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/4c9690dcd8dc4a59798f5c158ed4c600?s=128&d=identicon&r=PG", "display_name": "Perrier", "link": "https://stackoverflow.com/users/1913063/perrier"}, "edited": false, "score": 0, "creation_date": 1547638469, "post_id": 54215581, "comment_id": 95257939, "body": "I&#39;ve tried to update angular-cli but it means that I eventually have to update everything to angular 7. Which means a lof of changes in the code."}], "tags": [], "owner": {"reputation": 107, "user_id": 10754444, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-QdB-YzNjeC8/AAAAAAAAAAI/AAAAAAAAABc/ZerfvcArips/photo.jpg?sz=128", "display_name": "Gopal Meena", "link": "https://stackoverflow.com/users/10754444/gopal-meena"}, "is_accepted": false, "score": 0, "last_activity_date": 1547636380, "creation_date": 1547636380, "answer_id": 54215581, "question_id": 54214751, "link": "https://stackoverflow.com/questions/54214751/build-an-old-angular-project/54215581#54215581", "title": "Build an old angular project", "body": "<p>After reading some issues reported on the GitHub repository, I found the solution.</p>\n\n<p>In order to update the angular-cli package installed globally in your system, you need to run:</p>\n\n<p>npm uninstall -g angular-cli\nnpm cache clean or npm cache verify (if npm > 5)\nnpm install -g @angular/cli@latest\nDepending on your system, you may need to prefix the above commands with sudo.</p>\n\n<p>Also, most likely you want to also update your local project version, because inside your project directory it will be selected with higher priority than the global one:</p>\n\n<p>rm -rf node_modules\nnpm uninstall --save-dev angular-cli\nnpm install --save-dev @angular/cli@latest\nnpm install</p>\n"}], "owner": {"reputation": 2155, "user_id": 1913063, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/4c9690dcd8dc4a59798f5c158ed4c600?s=128&d=identicon&r=PG", "display_name": "Perrier", "link": "https://stackoverflow.com/users/1913063/perrier"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1317, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1547637166, "creation_date": 1547633525, "last_edit_date": 1547637166, "question_id": 54214751, "link": "https://stackoverflow.com/questions/54214751/build-an-old-angular-project", "title": "Build an old angular project", "body": "<p>I can not build an old angular project. I have pulled down the code, started with npm install <code>@angular/cli@1.7.4</code> and ng build throws this error:</p>\n\n<blockquote>\n  <p>Versions of @angular/compiler-cli and typescript could not be\n  determined. The most common reason for this is a broken npm install.</p>\n  \n  <p>Please make sure your package.json contains both @angular/compiler-cli\n  and typescript in devDependencies, then delete node_modules and\n  package-lock.json (if you have one) and run npm install again.</p>\n</blockquote>\n\n<p>I'm not sure that 1.7.4 would be the corrent cli version as package.json doesn't contain angular/cli. <strong>How can I restore everything for this project to build without touching the code?</strong></p>\n\n<p><strong>Update:</strong></p>\n\n<p>I have installed @angular/compiler-cli@2.4.5 and typescript@2.3.4 into devDependencies. This post contains the updated package.json, too. The error now says: </p>\n\n<blockquote>\n  <p>Unable to find any apps in <code>.angular-cli.json</code>.</p>\n</blockquote>\n\n<p>That's because I don't have .angular-cli.json. Which was the last version of angular cli that did't need this file?</p>\n\n<p><strong>Update 2:</strong></p>\n\n<p>I've created an .angular-cli.json file and tried to build the project. Ater some jsonn file modifications I got a misterious error:</p>\n\n<blockquote>\n  <p>TypeError: Cannot read property 'length' of undefined</p>\n</blockquote>\n\n<p>I suppose this comes from an older cli/compiler/typescript version but how can I determine the real problem?</p>\n\n<p>If I start to update cli and others that's a disaster because I couldn't stop updateing Angular to 7.2 and that means a lot of code changes. (Tried that and gave up after one day.)</p>\n\n<p>package.json:</p>\n\n<pre><code>\"dependencies\": {\n    \"@angular/cli\": \"^1.7.4\",\n    \"@angular/common\": \"^2.4.5\",\n    \"@angular/compiler\": \"^2.4.5\",\n    \"@angular/core\": \"^2.4.5\",\n    \"@angular/forms\": \"^2.4.5\",\n    \"@angular/http\": \"^2.4.5\",\n    \"@angular/platform-browser\": \"^2.4.5\",\n    \"@angular/platform-browser-dynamic\": \"^2.4.5\",\n    \"@angular/platform-server\": \"^2.4.5\",\n    \"@angular/router\": \"^3.4.5\",\n    \"@types/node\": \"^6.0.42\",\n    \"angular2-modal\": \"^2.0.3\",\n    \"angular2-platform-node\": \"~2.0.11\",\n    \"angular2-template-loader\": \"^0.6.2\",\n    \"angular2-universal\": \"^2.1.0-rc.1\",\n    \"angular2-universal-patch\": \"^0.2.1\",\n    \"angular2-universal-polyfills\": \"^2.1.0-rc.1\",\n    \"aspnet-prerendering\": \"^2.0.0\",\n    \"aspnet-webpack\": \"^1.0.17\",\n    \"awesome-typescript-loader\": \"^3.0.0\",\n    \"bootstrap\": \"^3.3.7\",\n    \"css\": \"^2.2.1\",\n    \"css-loader\": \"^0.25.0\",\n    \"es6-shim\": \"^0.35.1\",\n    \"event-source-polyfill\": \"^0.0.7\",\n    \"expose-loader\": \"^0.7.1\",\n    \"extract-text-webpack-plugin\": \"^2.0.0-rc\",\n    \"file-loader\": \"^0.9.0\",\n    \"html-loader\": \"^0.4.4\",\n    \"isomorphic-fetch\": \"^2.2.1\",\n    \"jquery\": \"^2.2.4\",\n    \"json-loader\": \"^0.5.4\",\n    \"ng-select\": \"^1.0.0-beta.5\",\n    \"preboot\": \"^4.5.2\",\n    \"raw-loader\": \"^0.5.1\",\n    \"rxjs\": \"^5.4.0\",\n    \"style-loader\": \"^0.13.1\",\n    \"to-string-loader\": \"^1.1.5\",\n    \"url-loader\": \"^0.5.7\",\n    \"webpack\": \"^2.2.0\",\n    \"webpack-hot-middleware\": \"^2.12.2\",\n    \"webpack-merge\": \"^0.14.1\",\n    \"zone.js\": \"^0.7.8\"\n  },\n  \"devDependencies\": {\n    \"@angular/compiler-cli\": \"^2.4.5\",\n    \"@types/chai\": \"^3.4.34\",\n    \"@types/jasmine\": \"^2.5.37\",\n    \"@types/jquery\": \"^2.0.41\",\n    \"chai\": \"^3.5.0\",\n    \"jasmine-core\": \"^2.5.2\",\n    \"karma\": \"^1.3.0\",\n    \"karma-chai\": \"^0.1.0\",\n    \"karma-chrome-launcher\": \"^2.0.0\",\n    \"karma-cli\": \"^1.0.1\",\n    \"karma-jasmine\": \"^1.0.2\",\n    \"karma-webpack\": \"^1.8.0\",\n    \"typescript\": \"^2.3.0\"\n  }\n</code></pre>\n"}, {"tags": ["typescript", "ag-grid-angular"], "comments": [{"owner": {"reputation": 9909, "user_id": 5225844, "user_type": "registered", "accept_rate": 48, "profile_image": "https://i.stack.imgur.com/hKnPb.jpg?s=128&g=1", "display_name": "Naga Sai A", "link": "https://stackoverflow.com/users/5225844/naga-sai-a"}, "edited": false, "score": 0, "creation_date": 1547848622, "post_id": 54214583, "comment_id": 95348002, "body": "cell color is changing to red from the stackblitz"}, {"owner": {"reputation": 9909, "user_id": 5225844, "user_type": "registered", "accept_rate": 48, "profile_image": "https://i.stack.imgur.com/hKnPb.jpg?s=128&g=1", "display_name": "Naga Sai A", "link": "https://stackoverflow.com/users/5225844/naga-sai-a"}, "edited": false, "score": 0, "creation_date": 1547848636, "post_id": 54214583, "comment_id": 95348005, "body": "are you trying to change cell background?"}], "owner": {"reputation": 55, "user_id": 10428588, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/515359ba9a75bf2ede603b9dc14a2403?s=128&d=identicon&r=PG&f=1", "display_name": "JordanA29", "link": "https://stackoverflow.com/users/10428588/jordana29"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1376, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1547632940, "creation_date": 1547632940, "question_id": 54214583, "link": "https://stackoverflow.com/questions/54214583/ag-grid-cellvaluechanged-style-update", "title": "Ag-grid cellValueChanged style update", "body": "<p>I use Ag Grid to display an editable table and I have a default style applied to the cells. I want to update the cell style upon user modification. \nSo I use the cellValueChanged event and try to update the style of the modified cell. </p>\n\n<p>You can see in the <a href=\"https://stackblitz.com/edit/angular-ag-grid-angular-drzrme\" rel=\"nofollow noreferrer\">Stackblitz</a> that whenever I do a modification, the cellStyle is updated but for the entire column so the behaviour is: </p>\n\n<ol>\n<li>Modification of a cell </li>\n<li>cellStyle applied to the column </li>\n<li>Whenever you click in a cell the new style is applied (modification or not)</li>\n</ol>\n\n<p>What I want to do is get the modified cell and apply the style to the cell itself. Is that possible with Ag Grid?</p>\n"}, {"tags": ["angular", "typescript", "protractor", "gherkin"], "answers": [{"tags": [], "owner": {"reputation": 25722, "user_id": 2192903, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/mNrNH.png?s=128&g=1", "display_name": "Arnaud Denoyelle", "link": "https://stackoverflow.com/users/2192903/arnaud-denoyelle"}, "is_accepted": true, "score": 1, "last_activity_date": 1547637559, "creation_date": 1547637559, "answer_id": 54215922, "question_id": 54214563, "link": "https://stackoverflow.com/questions/54214563/check-expected-url-and-display-the-actual-url/54215922#54215922", "title": "Check expected URL and display the actual URL", "body": "<p>I finally found it : </p>\n\n<pre><code>Then('The URL contains {string}', function (url, callback) {\n  browser.wait(EC.urlContains(url), 5000)\n    .then(() =&gt; callback())\n    .catch(() =&gt; {\n      browser.getCurrentUrl().then((url) =&gt; { throw Error('URL was ' + url); });\n    });\n});\n</code></pre>\n"}], "owner": {"reputation": 25722, "user_id": 2192903, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/mNrNH.png?s=128&g=1", "display_name": "Arnaud Denoyelle", "link": "https://stackoverflow.com/users/2192903/arnaud-denoyelle"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 102, "favorite_count": 0, "accepted_answer_id": 54215922, "answer_count": 1, "score": 0, "last_activity_date": 1547637559, "creation_date": 1547632887, "question_id": 54214563, "link": "https://stackoverflow.com/questions/54214563/check-expected-url-and-display-the-actual-url", "title": "Check expected URL and display the actual URL", "body": "<p>In a functional test, I am trying to write a \"Then\" step where I check the current URL.</p>\n\n<p>After looking on SO, it seems that the right way to do it is to \"wait\" that the url becomes the expected one : </p>\n\n<pre><code>Then('The URL contains {string}', function(url, callback) {\n  browser.wait(EC.urlContains(url), 5000)\n    .then(() =&gt; callback())\n});\n</code></pre>\n\n<p>The problem is that if the condition is wrong, I don't know what is the actual URL and that would be helpful for debugging.</p>\n\n<p>I tried to do the following : </p>\n\n<pre><code>Then('The URL contains {string}', function(url, callback) {\n  browser.wait(EC.urlContains(url), 5000)\n    .then(() =&gt; callback())\n    .catch(() =&gt; { throw Error('URL was ' + location.href); });\n});\n</code></pre>\n\n<p>but I get an error because <code>location</code> is <code>undefined</code>.</p>\n\n<p>I also tried the following : </p>\n\n<pre><code>Then('The URL contains {string}', function(url, callback) {\n  browser.wait(EC.urlContains(url), 5000)\n    .then(() =&gt; callback())\n    .catch(() =&gt; { throw Error('URL was ' + browser.executeScript('location.href')); });\n});\n</code></pre>\n\n<p>But I can only see :</p>\n\n<blockquote>\n  <p>Error: URL was ManagedPromise::19695 {[[PromiseStatus]]: \"pending\"}</p>\n</blockquote>\n\n<p>Because <code>browser.executeScript</code> only returns a <code>Promise</code>.</p>\n\n<p>What is the right way to display the actual URL in the error message ?</p>\n"}, {"tags": ["angular", "typescript", "amcharts"], "comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user4676340"}, "edited": false, "score": 0, "creation_date": 1547633462, "post_id": 54214534, "comment_id": 95255122, "body": "Is that a compilation error or a runtime error ?"}, {"owner": {"reputation": 1845, "user_id": 1638800, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/eccb31e3d98b905031f97acb17225254?s=128&d=identicon&r=PG", "display_name": "Niladri Banerjee - Uttarpara", "link": "https://stackoverflow.com/users/1638800/niladri-banerjee-uttarpara"}, "edited": false, "score": 0, "creation_date": 1547633594, "post_id": 54214534, "comment_id": 95255192, "body": "I think compilation error. ng serve is showing me the error. But if I modified the code the errors showing but the project runs anyhow and show me the expected result. My intention is to hide the error in the command line so that there will no issue during build creation."}, {"owner": {"user_type": "does_not_exist", "display_name": "user4676340"}, "edited": false, "score": 2, "creation_date": 1547633890, "post_id": 54214534, "comment_id": 95255344, "body": "Try with <code>target.dataItem.dataContext &amp;&amp; (target.dataItem.dataContext as any).selected</code>"}], "answers": [{"tags": [], "owner": {"reputation": 1434, "user_id": 5300496, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JFKjP.jpg?s=128&g=1", "display_name": "Julien METRAL", "link": "https://stackoverflow.com/users/5300496/julien-metral"}, "is_accepted": true, "score": 3, "last_activity_date": 1547633920, "creation_date": 1547633920, "answer_id": 54214870, "question_id": 54214534, "link": "https://stackoverflow.com/questions/54214534/es6-property-selected-does-not-exist-on-type-object/54214870#54214870", "title": "ES6: Property &#39;selected&#39; does not exist on type &#39;Object&#39;", "body": "<p>Can you try something like this :</p>\n\n<pre><code>polygonTemplate.adapter.add(\"fill\", function(fill, target) {\n    const ctx = target.dataItem.dataContext as any;\n    if (ctx &amp;&amp; ctx.selected) {\n        return am4core.color(\"#666666\");\n    }\n    return fill;\n});\n</code></pre>\n"}], "owner": {"reputation": 1845, "user_id": 1638800, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/eccb31e3d98b905031f97acb17225254?s=128&d=identicon&r=PG", "display_name": "Niladri Banerjee - Uttarpara", "link": "https://stackoverflow.com/users/1638800/niladri-banerjee-uttarpara"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1008, "favorite_count": 0, "accepted_answer_id": 54214870, "answer_count": 1, "score": 2, "last_activity_date": 1547633920, "creation_date": 1547632801, "last_edit_date": 1547632930, "question_id": 54214534, "link": "https://stackoverflow.com/questions/54214534/es6-property-selected-does-not-exist-on-type-object", "title": "ES6: Property &#39;selected&#39; does not exist on type &#39;Object&#39;", "body": "<p>From 'AMcharts4 codepen pre selecting areas', I want to convert the JS into ES6. However, I got error</p>\n\n<blockquote>\n  <p>error TS2339: Property 'selected' does not exist on type 'Object'.</p>\n</blockquote>\n\n<p>The code which I want to convert is given below:</p>\n\n<pre><code>// Create map instance\nlet chart = am4core.create(\"chartdivmap\", am4maps.MapChart);\n\n// Set map definition\nchart.geodata = am4geodata_worldHigh;\n\n// Set projection\nchart.projection = new am4maps.projections.Miller();\n\n// Center on the groups by default\nchart.homeZoomLevel = 1.5;\nchart.homeGeoPoint = {\n    longitude: 10,\n    latitude: 52\n};\n\n// Polygon series\nlet polygonSeries = chart.series.push(new am4maps.MapPolygonSeries());\npolygonSeries.useGeodata = true;\n\n\nvar polygonTemplate = polygonSeries.mapPolygons.template;\npolygonTemplate.tooltipText = \"{name}\";\npolygonTemplate.fill = chart.colors.getIndex(0);\n\n// Hover state\nvar hs = polygonTemplate.states.create(\"hover\");\npolygonTemplate.fill = am4core.color(\"#CCCCCC\");\nhs.properties.fill = am4core.color(\"#010101\");\n\npolygonTemplate.adapter.add(\"fill\", function(fill, target) {\n    if (target.dataItem.dataContext &amp;&amp; target.dataItem.dataContext.selected) {\n        return am4core.color(\"#666666\");\n    }\n    return fill;\n});\n</code></pre>\n\n<p>I tried by <code>let k:any = target;</code> and pass the variable like <code>function(fill, target, k)</code> and tried to catch the value like: <code>k.dataItem.dataContext.selected</code> which gave me more error.</p>\n"}, {"tags": ["javascript", "reactjs", "typescript", "webpack"], "comments": [{"owner": {"reputation": 7845, "user_id": 5734311, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7iVq7.jpg?s=128&g=1", "display_name": "Chris G", "link": "https://stackoverflow.com/users/5734311/chris-g"}, "edited": false, "score": 0, "creation_date": 1547633144, "post_id": 54214532, "comment_id": 95254936, "body": "Correct me if I&#39;m wrong but I don&#39;t think you need webpack for this. You are creating modules to be included, and webpack only enters the picture when it comes to deploying the final app."}, {"owner": {"reputation": 5668, "user_id": 2548746, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/0ccce8d8768f2a8173e18c5f1ea329c5?s=128&d=identicon&r=PG", "display_name": "PlayMa256", "link": "https://stackoverflow.com/users/2548746/playma256"}, "edited": false, "score": 0, "creation_date": 1547635519, "post_id": 54214532, "comment_id": 95256288, "body": "the html file generated by running <code>npm build</code> with your setup is useless, what metters is the .js files created alogside it. You can insert them anywhere you want."}], "owner": {"reputation": 119, "user_id": 4831430, "user_type": "registered", "accept_rate": 67, "profile_image": "https://graph.facebook.com/829417240462151/picture?type=large", "display_name": "Shay Lugassy", "link": "https://stackoverflow.com/users/4831430/shay-lugassy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 545, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1565321398, "creation_date": 1547632793, "question_id": 54214532, "link": "https://stackoverflow.com/questions/54214532/react-components-library-typescript", "title": "React Components Library + TypeScript", "body": "<p>I want to create a java-script library file that contains a few React components I composed and I used \"create-react-app my-app --scripts-version=react-scripts-ts\" command with npm to create the project (<a href=\"https://github.com/Microsoft/TypeScript-React-Starter\" rel=\"nofollow noreferrer\">link</a>).</p>\n\n<p>I want to pack/bundle this project (Webpack) without having any html file.. only components so I can take the output js file, include it in another project and use its components.</p>\n\n<p>I tried looking for some Webpack configuration but all I find is not sutiable for TypeScript project.</p>\n\n<p><strong>Can you help me configuring Webpack?</strong></p>\n"}, {"tags": ["javascript", "json", "angular", "typescript", "ngx-translate"], "answers": [{"tags": [], "owner": {"reputation": 1848, "user_id": 2972087, "user_type": "registered", "accept_rate": 74, "profile_image": "https://graph.facebook.com/100000232966204/picture?type=large", "display_name": "kris_IV", "link": "https://stackoverflow.com/users/2972087/kris-iv"}, "is_accepted": false, "score": 0, "last_activity_date": 1548355123, "creation_date": 1548355123, "answer_id": 54353375, "question_id": 54214294, "link": "https://stackoverflow.com/questions/54214294/cannot-change-translate-values-of-existing-translation-object-ngx-translate/54353375#54353375", "title": "Cannot change translate values of existing translation object ngx translate", "body": "<p>First of all - you have an error in this line:</p>\n\n<pre><code>&lt;div [translate]=\"'first_name'\" [translateParams]=\"{value: 'world'}\"&gt;&lt;/div&gt;\n</code></pre>\n\n<p>It should be:</p>\n\n<pre><code>&lt;div [translate]=\"'admin.first_name'\" [translateParams]=\"{value: 'world'}\"&gt;&lt;/div&gt;\n</code></pre>\n\n<p>But to be honest I don't understand your problem. Can you write in steps what you need?</p>\n"}], "owner": {"reputation": 387, "user_id": 9122537, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/nODCL.jpg?s=128&g=1", "display_name": "Mohamed Wahshey", "link": "https://stackoverflow.com/users/9122537/mohamed-wahshey"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 763, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1548355123, "creation_date": 1547632131, "question_id": 54214294, "link": "https://stackoverflow.com/questions/54214294/cannot-change-translate-values-of-existing-translation-object-ngx-translate", "title": "Cannot change translate values of existing translation object ngx translate", "body": "<p>I'm trying to change the value of an object property inside the translation JSON file using ngx translate but the value is not changing, still the same.</p>\n\n<p>I want that when i receive values from API to update it dynamically to the translation object, i tried to use setTranslation() method and set() method but both don't work, when i try to console the value after updating it it's showing Correctly but inside the HTML it's not.</p>\n\n<p>Here is my TS file:</p>\n\n<pre><code>getDict() {\n    this.getDictionary.getDictionary('dictionary').subscribe(\n      res =&gt; {\n        console.log(res)\n        console.log('ar');\n        this.translateService.use('ar').subscribe(response =&gt; {\n        let config = [];\n        for (let i in res) {\n        if(res[i].language == 'ar') {\n        config[res[i].key] = res[i].value;\n        console.log('this is obj ', config);\n        this.translateService.get(config[res[i].key]).subscribe((result: \n        String) =&gt; {\n          console.log('tr res ', result);\n          console.log(this.translateService.get(res[i].key));\n          this.translateService.set(config[res[i].key], \n          config[res[i].value], 'ar');\n        });\n       }\n       }\n     })\n    this.translateService.getTranslation('ar').subscribe(res =&gt; {\n      console.log('this is the language translation ', res);\n    });\n   }\n )\n}\n</code></pre>\n\n<p>My HTML:</p>\n\n<pre><code>&lt;div [translate]=\"'first_name'\" [translateParams]=\"{value: 'world'}\"&gt;&lt;/div&gt;\n</code></pre>\n\n<p>My ar.json file:</p>\n\n<pre><code>{\n  \"admin\": {\n       \"first_name\": \"{{value}}\"\n           }\n}\n</code></pre>\n\n<p>Note that I reviewed my app module, no issues with it it can read the translation file with no problems at all, I also reviewed the API response, works well without errors and i'm able to return the data from it.</p>\n\n<p>Kindly assist and if you need further information tell me.</p>\n"}, {"tags": ["angular", "typescript", "error-handling"], "owner": {"reputation": 1126, "user_id": 854805, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/76eac77f499e1c1abf66a6f1be97ed2c?s=128&d=identicon&r=PG", "display_name": "Nikola Yankov", "link": "https://stackoverflow.com/users/854805/nikola-yankov"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 160, "favorite_count": 2, "answer_count": 0, "score": 1, "last_activity_date": 1549883837, "creation_date": 1547632077, "last_edit_date": 1549883837, "question_id": 54214275, "link": "https://stackoverflow.com/questions/54214275/angular-correct-way-to-propagate-an-exception-in-route-resolver-to-custom-globa", "title": "Angular: Correct way to propagate an exception in route resolver to custom global error handler", "body": "<p>I have simple route resolver:</p>\n\n<pre><code>@Injectable()\nexport class DeviceResolver {\n    constructor(private deviceService: DevicesService) {}\n\n    resolve(route: ActivatedRouteSnapshot, state: RouterStateSnapshot) {\n        const id = +route.params['id'];\n        if (id === 0) {\n            return {};\n        }\n        const promise = this.deviceService.getDevice(id).toPromise()\n        .then(\n          data =&gt; Promise.resolve()\n        ).catch(\n          error =&gt;  {\n            console.log('[DeviceResolver]', error);\n            throw error;\n          }\n        );\n\n        return promise;\n    }\n}\n</code></pre>\n\n<p>and simple global custom error handler:</p>\n\n<pre><code>@Injectable()\nexport class ErrorsHandler implements ErrorHandler {\n    handleError(error: any) {\n        // Log the error anyway\n        console.log(error);\n    }\n}\n</code></pre>\n\n<p>If an exception occurred in the resolver, the catch handler of the promise is executed and in console is printed:</p>\n\n<pre><code>[DeviceResolver] HttpErrorResponse\u00a0{headers: HttpHeaders,...\n</code></pre>\n\n<p>This is fine. It's an object instance from HttpErrorResponse.</p>\n\n<p>In the ErrorsHandler however the console output is:</p>\n\n<pre><code>Error: Uncaught (in promise): HttpErrorResponse: {\"headers\":{\"normalizedNames\":{},\n</code></pre>\n\n<p>Why the original exception have been caught and wrapped in another Error object?\nHow can I have the original exception in the global error handler?</p>\n\n<p>Please note that this is happening only in a resolver. If I use direct service call from a component, the exception is thrown and propagated correctly to global error handler.</p>\n"}, {"tags": ["typescript", "generics", "type-inference"], "answers": [{"tags": [], "owner": {"reputation": 15625, "user_id": 3786294, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/o0RBY.png?s=128&g=1", "display_name": "Paleo", "link": "https://stackoverflow.com/users/3786294/paleo"}, "is_accepted": true, "score": 1, "last_activity_date": 1547631594, "creation_date": 1547631594, "answer_id": 54214122, "question_id": 54213565, "link": "https://stackoverflow.com/questions/54213565/typescript-infer-type-without-extends-within-interface-scope/54214122#54214122", "title": "Typescript: Infer type without extends within interface scope", "body": "<p>It is not exactly what you want but you could do:</p>\n\n<pre><code>interface Prop&lt;U&gt; {\n    x: U,\n    validate: (x: U) =&gt; U\n}\n\nfunction makeProp&lt;U&gt;(x: U, validate: (x: U) =&gt; U): Prop&lt;U&gt; {\n    return { x, validate }\n}\n\nconst state = {\n    asString: makeProp('', value =&gt; value + ' is string'),\n    asBoolean: makeProp(true, value =&gt; !value)\n}\n// Here, 'state' is of type: { asString: Prop&lt;string&gt;, asBoolean: Prop&lt;boolean&gt; }\n</code></pre>\n"}], "owner": {"reputation": 1265, "user_id": 862567, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KzqUX.png?s=128&g=1", "display_name": "Eduard Jacko", "link": "https://stackoverflow.com/users/862567/eduard-jacko"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 89, "favorite_count": 0, "accepted_answer_id": 54214122, "answer_count": 1, "score": 0, "last_activity_date": 1556680847, "creation_date": 1547629614, "last_edit_date": 1556680847, "question_id": 54213565, "link": "https://stackoverflow.com/questions/54213565/typescript-infer-type-without-extends-within-interface-scope", "title": "Typescript: Infer type without extends within interface scope", "body": "<p>I'm not sure if this is even declarative enough but I need to infer type inside interface scope and use it within same scope as argument for method. Here is simple example</p>\n\n<pre><code>interface Prop {\n    x: infer U,\n    // ^^^^^^^ store type coming from 'x'\n    validate: (x: U) =&gt; U\n    //            ^ use type\n}\n\ninterface IState {\n    [key: string]: Prop\n}\n</code></pre>\n\n<p>and usecase</p>\n\n<pre><code>const state:IState = {\n    asString: {\n        x: '',\n        validate: value =&gt; value + ' is string',\n        //        ^^^^^ string\n    },\n    asBoolean: {\n        x: true,\n        validate: value =&gt; !value;\n        //        ^^^^^ boolean\n    }\n}\n</code></pre>\n\n<p>Is this even possible?</p>\n"}, {"tags": ["typescript", "jsx"], "comments": [{"owner": {"reputation": 71380, "user_id": 3558960, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/a98b52149d419c2aad558befe51c8cc5?s=128&d=identicon&r=PG", "display_name": "Robby Cornelissen", "link": "https://stackoverflow.com/users/3558960/robby-cornelissen"}, "edited": false, "score": 0, "creation_date": 1547629561, "post_id": 54213525, "comment_id": 95252779, "body": "The question is not very clear. What do you mean when you say &quot;using generics&quot;? What would your solution ideally look like? However it may be, the answer to your question will probably be something along the lines of &quot;generics are a compile-time construct, and type information is not available at runtime&quot;."}, {"owner": {"reputation": 408, "user_id": 1467876, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/0611c5a00a0f24e45e5bc52bf085fecb?s=128&d=identicon&r=PG", "display_name": "thegalah", "link": "https://stackoverflow.com/users/1467876/thegalah"}, "reply_to_user": {"reputation": 71380, "user_id": 3558960, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/a98b52149d419c2aad558befe51c8cc5?s=128&d=identicon&r=PG", "display_name": "Robby Cornelissen", "link": "https://stackoverflow.com/users/3558960/robby-cornelissen"}, "edited": false, "score": 0, "creation_date": 1547629839, "post_id": 54213525, "comment_id": 95252935, "body": "I&#39;ve updated the question to be a bit more clear but I intend to use the signature: <code>private getJSXFromScreenTypeZ&lt;T&gt;(type: T, props?: object): JSX.Element {</code>"}], "owner": {"reputation": 408, "user_id": 1467876, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/0611c5a00a0f24e45e5bc52bf085fecb?s=128&d=identicon&r=PG", "display_name": "thegalah", "link": "https://stackoverflow.com/users/1467876/thegalah"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 42, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1547630951, "creation_date": 1547629470, "last_edit_date": 1547629821, "question_id": 54213525, "link": "https://stackoverflow.com/questions/54213525/jsx-using-typescript-generics-to-render-components-instead-of-using-a-switch", "title": "JSX using Typescript generics to render components instead of using a switch", "body": "<p>Currently I have this to render some JSX depending on an enum type:</p>\n\n<pre><code>enum NavigationScreenType {\n    SplashScreen,\n    LoginSelectionScreen,\n    LoginScreen,\n}\n\n    private getJSXFromScreenType(type: NavigationScreenType, props?: object): JSX.Element {\n        switch (type) {\n            case NavigationScreenType.LoginSelectionScreen:\n                return (&lt;LoginSelectionScreen {...props} /&gt;);\n            case NavigationScreenType.LoginScreen:\n                return (&lt;LoginScreen {...props} /&gt;);\n            default:\n                return (&lt;SplashScreen {...props}/&gt;);\n        }\n    }\n</code></pre>\n\n<p>Is there a way to achieve this using generics instead? I intend to modify the function to accept a type and return in a single line something along the lines of:</p>\n\n<pre><code>    private getJSXFromScreenType&lt;T extends BaseNavigationScreen&gt;(type: T, props?: object): JSX.Element {\n        return (&lt;type {...props}/&gt;);\n    }\n</code></pre>\n"}, {"tags": ["typescript", "hapi"], "answers": [{"tags": [], "owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "is_accepted": true, "score": 1, "last_activity_date": 1547632664, "creation_date": 1547632664, "answer_id": 54214482, "question_id": 54213306, "link": "https://stackoverflow.com/questions/54213306/how-to-augment-hapi-js-server-methods-when-using-typescript/54214482#54214482", "title": "How to augment Hapi.js server methods when using TypeScript?", "body": "<p>While we can't modify the type of an existing field in an interface, we can modify the type of the field in this case. The type of the field is <code>Util.Dictionary&lt;ServerMethod&gt;</code>. While  <code>Util.Dictionary</code> is used in several places, the only place it is used with the type argument <code>ServerMethod</code> is for this member. </p>\n\n<p>We can extend the <code>Dictionary</code> interface with the extra methods and have the methods only show up if the type parameter is <code>ServerMethod</code> (also we do a bit of magic insipider from <a href=\"https://stackoverflow.com/questions/49927523/disallow-call-with-any/49928360#49928360\">here</a> to not show the methods if <code>T</code> is <code>any</code>)</p>\n\n<pre><code>declare module 'hapi' {\n    export namespace Util {\n        type IfAny&lt;T, Y, N&gt; = 0 extends (1 &amp; T) ? Y : N; \n        export interface Dictionary&lt;T&gt; {\n            getUsername&lt;T extends ServerMethod&gt;(this: Dictionary&lt;T&gt; &amp; IfAny&lt;T, never, {}&gt;) : Promise&lt;string&gt;;\n        }\n    }\n}\n\nlet d = new Server({})\nlet f!: Util.Dictionary&lt;any&gt;;\n\nd.methods.getUsername() // type checked\n</code></pre>\n\n<p><strong>Note</strong>\nIdeally there would be a dedicated type for <code>methods</code> that would allow us to add methods to it without extending the very generic <code>Dictionary</code> interface, but the typings are what they are right now. Someone could do a pull request to create a new interface for <code>methods</code>....</p>\n"}], "owner": {"reputation": 10808, "user_id": 5723098, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/7SKfC.jpg?s=128&g=1", "display_name": "Harshal Patil", "link": "https://stackoverflow.com/users/5723098/harshal-patil"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 289, "favorite_count": 1, "accepted_answer_id": 54214482, "answer_count": 1, "score": 2, "last_activity_date": 1547632664, "creation_date": 1547628719, "last_edit_date": 1547629023, "question_id": 54213306, "link": "https://stackoverflow.com/questions/54213306/how-to-augment-hapi-js-server-methods-when-using-typescript", "title": "How to augment Hapi.js server methods when using TypeScript?", "body": "<p>To augment <code>hapi</code> module to add type checking for server methods, following is the code:</p>\n\n<pre><code>import { Server } from 'hapi';\n\ndeclare module 'hapi' {\n\n    export interface Server {\n        methods: {\n            getUsername: () =&gt; Promise&lt;string&gt;;\n        };\n    }\n}\n</code></pre>\n\n<p>However, this doesn't work because <code>@types/hapi</code> package already defines <code>methods</code> as:</p>\n\n<pre><code>readonly methods: Util.Dictionary&lt;ServerMethod&gt;;\n</code></pre>\n\n<p>From this StackOverflow question, <a href=\"https://stackoverflow.com/q/48690619/5723098\">As far as I know</a>, it is not possible to redefine the existing property. But I am not sure. I could not find any documentation about this. <strong>If this is not the case, how can I augment/patch/fix the type info?</strong></p>\n\n<p>As a workaround, I have created a new Hapi.js Server interface that extends the original interface. So instead of using hapi <code>Server</code> interface, I am using the one I created:</p>\n\n<pre><code>// src/augment.d.ts\nimport { Server as HapiServer } from 'hapi';\n\nexport interface Server extends HapiServer {\n\n    methods: {\n        getUsername: () =&gt; Promise&lt;string&gt;;\n    };\n}\n\n// In my file src/server.ts file\nimport { Server } from 'src/augment';\n\n// NOW IT TYPECHECKS CORRECTLY\nconst username = server.methods.getUsername();\n</code></pre>\n\n<p><strong>Is this the right approach to take?</strong></p>\n"}, {"tags": ["angular", "typescript", "bootstrap-4"], "comments": [{"owner": {"reputation": 28589, "user_id": 8558186, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8af66bb1af6d1875a2dd7be9dd1c8d2b?s=128&d=identicon&r=PG&f=1", "display_name": "Eliseo", "link": "https://stackoverflow.com/users/8558186/eliseo"}, "edited": false, "score": 0, "creation_date": 1547631358, "post_id": 54212842, "comment_id": 95253792, "body": "You can replace [checked]=&quot;value&quot; by [(ngModel)]=&quot;value&quot;"}, {"owner": {"reputation": 8706, "user_id": 8798220, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-xqpLhuyyjbc/AAAAAAAAAAI/AAAAAAAABMA/haAk1UYFMQA/photo.jpg?sz=128", "display_name": "Nisharg Shah", "link": "https://stackoverflow.com/users/8798220/nisharg-shah"}, "edited": false, "score": 0, "creation_date": 1547633105, "post_id": 54212842, "comment_id": 95254908, "body": "you can pass <code>$event</code> in onclick and use this <code>data.target.classList</code> to get className"}], "owner": {"reputation": 4516, "user_id": 4661692, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/r0god.jpg?s=128&g=1", "display_name": "Runtime Terror", "link": "https://stackoverflow.com/users/4661692/runtime-terror"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 74, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1547626817, "creation_date": 1547626817, "question_id": 54212842, "link": "https://stackoverflow.com/questions/54212842/prevent-bootstrap-4-from-adding-automatically-active-class-to-a-checkbox-button", "title": "Prevent bootstrap 4 from adding automatically active class to a checkbox button", "body": "<p>I want to create a custom angular checkbox component. My problem is, that bootstrap's JavaScript somehow automatically adds class name <code>active</code> to a button when it's pressed and keeps it there. When I click to a checkbox's label, everything works fine. The problem is only when I click to a checkbox. Can I somehow prevent this?</p>\n\n<p>Here is a working <a href=\"https://stackblitz.com/edit/angular-aizo8s\" rel=\"nofollow noreferrer\">example</a>.</p>\n\n<p>My custom component looks like this:</p>\n\n<p><strong>checkbox.component.html</strong></p>\n\n<pre><code>&lt;div class=\"checkbox btn-group-toggle\" data-toggle=\"buttons\" (click)=\"onClick($event)\"&gt;\n&lt;label class=\"checkbox-input btn btn-xs\"\n[ngClass]=\"{'btn-primary active': value, 'btn-outline-secondary': !value}\"&gt;\n    &lt;input type=\"checkbox\" [checked]=\"value\" autocomplete=\"off\"&gt;\n    &lt;i class=\"fas fa-check\" [ngClass]=\"{'fa-invisible': !value}\"&gt;&lt;/i&gt;\n&lt;/label&gt;\n&lt;label class=\"checkbox-label\" *ngIf=\"label\"&gt;{{ label }}&lt;/label&gt;\n</code></pre>\n\n<p></p>\n\n<p><strong>checkbox.component.ts</strong></p>\n\n<pre><code>import {Component, EventEmitter, Input, Output} from \"@angular/core\";\n\n@Component({\n    selector: \"checkbox\",\n    templateUrl: \"./checkbox.component.html\"\n})\nexport class CheckboxComponent {\n\n@Output()\npublic valueChange: EventEmitter&lt;boolean&gt; = new EventEmitter();\n\n@Input()\npublic value: boolean = false;\n\n@Input()\npublic label: string;\n\n// ToDo: if the user un-selects checkbox by clicking directly on checkbox, the class \"active\" remains on element\n\npublic constructor() {}\n\npublic onClick(event: MouseEvent): void {\n\n  event.preventDefault();\n\n    this.value =! this.value;\n\n    this.valueChange.emit(this.value);\n}\n</code></pre>\n\n<p>}</p>\n"}, {"tags": ["typescript", "types", "pipe", "flow", "function-composition"], "comments": [{"owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "edited": false, "score": 0, "creation_date": 1547625687, "post_id": 54212552, "comment_id": 95251019, "body": "Nope, that is currently the only way to do it"}, {"owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "edited": false, "score": 0, "creation_date": 1547626017, "post_id": 54212552, "comment_id": 95251151, "body": "The only improvement might be to not have overrides for the multiple arguments (remove the A1... AN overloads keep just one set)."}], "answers": [{"tags": [], "owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "is_accepted": true, "score": 3, "last_activity_date": 1547626540, "creation_date": 1547626540, "answer_id": 54212779, "question_id": 54212552, "link": "https://stackoverflow.com/questions/54212552/funciton-composition-in-typescript-without-overloads/54212779#54212779", "title": "Funciton composition in Typescript without overloads", "body": "<p>There isn't a way to remove all the overloads. The way the type <code>R*</code> parameters depend on one another is not expressible in the type system currently. </p>\n\n<p>One improvement we can make is to remove the need for overloads adding extra parameters on the first function (the ones that add the <code>A*</code> type parameters). This can be done in 3.0 using <a href=\"https://github.com/Microsoft/TypeScript/pull/24897\" rel=\"nofollow noreferrer\">tuples in rest parameters</a></p>\n\n<pre><code>interface LoDashStatic {\n\n    flow&lt;A extends any[], R1, R2&gt;(f1: (...a: A) =&gt; R1, f2: (a: R1) =&gt; R2): (...a: A) =&gt; R2;\n\n    flow&lt;A extends any[], R1, R2, R3&gt;(f1: (...a: A) =&gt; R1, f2: (a: R1) =&gt; R2, f3: (a: R2) =&gt; R3): (...a: A) =&gt; R3;\n\n    flow&lt;A extends any[], R1, R2, R3, R4&gt;(f1: (...a: A) =&gt; R1, f2: (a: R1) =&gt; R2, f3: (a: R2) =&gt; R3, f4: (a: R3) =&gt; R4): (...a: A) =&gt; R4;\n\n    flow&lt;A extends any[], R1, R2, R3, R4, R5&gt;(f1: (...a: A) =&gt; R1, f2: (a: R1) =&gt; R2, f3: (a: R2) =&gt; R3, f4: (a: R3) =&gt; R4, f5: (a: R4) =&gt; R5): (...a: A) =&gt; R5;\n\n    flow&lt;A extends any[], R1, R2, R3, R4, R5, R6&gt;(f1: (...a: A) =&gt; R1, f2: (a: R1) =&gt; R2, f3: (a: R2) =&gt; R3, f4: (a: R3) =&gt; R4, f5: (a: R4) =&gt; R5, f6: (a: R5) =&gt; R6): (...a: A) =&gt; R6;\n\n    flow&lt;A extends any[], R1, R2, R3, R4, R5, R6, R7&gt;(f1: (...a: A) =&gt; R1, f2: (a: R1) =&gt; R2, f3: (a: R2) =&gt; R3, f4: (a: R3) =&gt; R4, f5: (a: R4) =&gt; R5, f6: (a: R5) =&gt; R6, f7: (a: R6) =&gt; R7): (...a: A) =&gt; R7;\n\n}\n\ndeclare const _: LoDashStatic;\n\nlet f = _.flow((n: number, s: string) =&gt; n + s, o =&gt; o.toUpperCase()); // f: (n: number, s: string) =&gt; string\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 127, "user_id": 4425335, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-3CWLmEFT0zw/AAAAAAAAAAI/AAAAAAAAAcY/GJ4TDumbWmQ/photo.jpg?sz=128", "display_name": "Jaroslav \u0160mol&#237;k", "link": "https://stackoverflow.com/users/4425335/jaroslav-%c5%a0mol%c3%adk"}, "is_accepted": false, "score": 0, "last_activity_date": 1555325791, "creation_date": 1555325791, "answer_id": 55687677, "question_id": 54212552, "link": "https://stackoverflow.com/questions/54212552/funciton-composition-in-typescript-without-overloads/55687677#55687677", "title": "Funciton composition in Typescript without overloads", "body": "<p>It might not be completely obvious why are the overloads still required. I played with various implementations and got to the core of the problem I belive, at least given one approach, which resolved around enumerate all chains bottom-up (which is slightly better than overloads, because you could self-refernce lower levels) and you should still get the type inference.</p>\n\n<pre><code>const a: [(_: string) =&gt; number, (_: number) =&gt; boolean] | [(_: string) =&gt; boolean] = [x =&gt; x.length, y =&gt; true]\n</code></pre>\n\n<p>The overloads are needed just to detect the tuple by its length. TS can manage it with overloads (select signature based on number of arguments), but fails to do that with plain tuples without function signatures. That is why <code>y</code> is not inferred in the snippet and why effort to make the solution more compact cannot sucees with the current state without overloads.</p>\n\n<p>So approved answer seems to be the best soltion at the moment!</p>\n"}, {"tags": [], "owner": {"reputation": 386, "user_id": 5308589, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/3BiYe.jpg?s=128&g=1", "display_name": "Edward Kotarski", "link": "https://stackoverflow.com/users/5308589/edward-kotarski"}, "is_accepted": false, "score": 0, "last_activity_date": 1557130684, "creation_date": 1557130684, "answer_id": 56001303, "question_id": 54212552, "link": "https://stackoverflow.com/questions/54212552/funciton-composition-in-typescript-without-overloads/56001303#56001303", "title": "Funciton composition in Typescript without overloads", "body": "<p>This is now four years old, but I managed to get a typed version working without overloads:</p>\n\n<p><strong>There are a couple of nasty things needed:</strong></p>\n\n<p>There are two reasons we need lists of numbers:</p>\n\n<ul>\n<li>Given a particular index we need to be able to retrieve the previous index</li>\n<li>We need to be able to convert the stringy tuple indices to numeric indices</li>\n</ul>\n\n<pre><code>type SNumbers = [\n   \"0\",  \"1\",  \"2\",  \"3\",  \"4\",  \"5\",  \"6\",  \"7\",  \"8\",  \"9\",  \"10\", \"11\", \"12\", \"13\", \"14\", \"15\",\n   \"16\", \"17\", \"18\", \"19\", \"20\", \"21\", \"22\", \"23\", \"24\", \"25\", \"26\", \"27\", \"28\", \"29\", \"30\", \"31\",\n   \"32\", \"33\", \"34\", \"35\", \"36\", \"37\", \"38\", \"39\", \"40\", \"41\", \"42\", \"43\", \"44\", \"45\", \"46\", \"47\",\n   \"48\", \"49\", \"50\", \"51\", \"52\", \"53\", \"54\", \"55\", \"56\", \"57\", \"58\", \"59\", \"60\", \"61\", \"62\", \"63\"];\n\ntype Numbers = [\n   0,  1,  2,  3,  4,  5,  6,  7,  8,  9,  10, 11, 12, 13, 14, 15,\n   16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31,\n   32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47,\n   48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63];\n\n// Util to prepend a value to a Tuple from: https://stackoverflow.com/a/54607819/5308589\ntype PrependTuple&lt;A, T extends Array&lt;any&gt;&gt; =\n  (((a: A, ...b: T) =&gt; void) extends (...a: infer I) =&gt; void ? I : [])\n\n// Get the previous number (for indexing)    (2=&gt;1, 1=&gt;0, 0=&gt;never)\ntype PrevN&lt;T extends number&gt; = PrependTuple&lt;never, Numbers&gt;[T];\n\n// Convert a string index to a number\ntype S_N&lt;S extends SNumbers[number]&gt; = {\n   [K in SNumbers[number]]: Numbers[K]\n}[S]\n</code></pre>\n\n<p><strong>A couple of helpers:</strong></p>\n\n<p>Pipe/Compose act on unary functions</p>\n\n<pre><code>// Only unary functions wanted \ntype Unary = (i: any) =&gt; any;\n\n// Get the (single) argument of a given unary function\ntype ParameterUnary&lt;F extends Unary&gt; = Parameters&lt;F&gt;[\"0\"]\n\n// ReturnType is a builtin\n</code></pre>\n\n<p><strong>The main types:</strong></p>\n\n<p>UnariesToPiped/UnariesToComposed take a tuple of unary functions and tries to map it to a tuple containing the correct function types</p>\n\n<p>Then Pipe/Compose simply take the mapped tuple as an argument and pull the first parameter type and last return type.</p>\n\n<pre><code>type UnariesToPiped&lt;F extends Unary[]&gt; = {\n   [K in keyof F]:\n   K extends SNumbers[number] \n      ? K extends \"0\"\n         ? F[K]\n         : (i: ReturnType&lt;F[PrevN&lt;S_N&lt;K&gt;&gt;]&gt;) =&gt; ReturnType&lt;F[S_N&lt;K&gt;]&gt;\n      : F[K]\n}\n\ntype Pipe = &lt;F extends Unary[]&gt;(...funcs: UnariesToPiped&lt;F&gt;) =&gt; (i: ParameterUnary&lt;F[0]&gt;) =&gt; ReturnType&lt;F[PrevN&lt;F[\"length\"]&gt;]&gt;\n\ntype UnariesToComposed&lt;F extends Unary[]&gt; = {\n   [K in keyof F]:\n   K extends SNumbers[number] \n      ? K extends \"0\"\n         ? F[K]\n         : (i: ParameterUnary&lt;F[S_N&lt;K&gt;]&gt;) =&gt; ParameterUnary&lt;F[PrevN&lt;S_N&lt;K&gt;&gt;]&gt;\n      : F[K]\n}\n\ntype Compose = &lt;F extends Unary[]&gt;(...funcs: UnariesToComposed&lt;F&gt;) =&gt; (i: ParameterUnary&lt;F[PrevN&lt;F[\"length\"]&gt;]&gt;) =&gt; ReturnType&lt;F[0]&gt;\n</code></pre>\n\n<p>For examples of usage I published this to <a href=\"https://github.com/Kotarski/ts-functionaltypes\" rel=\"nofollow noreferrer\">Github</a> and <a href=\"https://www.npmjs.com/package/ts-functionaltypes\" rel=\"nofollow noreferrer\">NPM</a></p>\n"}], "owner": {"reputation": 127, "user_id": 4425335, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-3CWLmEFT0zw/AAAAAAAAAAI/AAAAAAAAAcY/GJ4TDumbWmQ/photo.jpg?sz=128", "display_name": "Jaroslav \u0160mol&#237;k", "link": "https://stackoverflow.com/users/4425335/jaroslav-%c5%a0mol%c3%adk"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 233, "favorite_count": 1, "accepted_answer_id": 54212779, "answer_count": 3, "score": 2, "last_activity_date": 1557130684, "creation_date": 1547625529, "question_id": 54212552, "link": "https://stackoverflow.com/questions/54212552/funciton-composition-in-typescript-without-overloads", "title": "Funciton composition in Typescript without overloads", "body": "<p>Is it possible to define a Typescript type for function composition (see <a href=\"https://lodash.com/docs/#flow\" rel=\"nofollow noreferrer\">flow</a> or <a href=\"https://ramdajs.com/docs/#pipe\" rel=\"nofollow noreferrer\">pipe</a>)\nfor any number of arguments (functions to compose) <strong>without overwrites</strong> but with ability to hint types?</p>\n\n<p>Without the type inference, there is a <a href=\"https://stackoverflow.com/a/53175538/4425335\">marvelous answer</a> in my previous <a href=\"https://stackoverflow.com/questions/53173203/typescript-recursive-function-composition\">question</a>.</p>\n\n<p>Alas this solution only validates the chain and reports errors when defining types explicitly:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>const badChain = flow(\n  (x: number)=&gt;\"string\",\n  (y: string)=&gt;false,\n  (z: number)=&gt;\"oops\"\n); // error, boolean not assignable to number\n</code></pre>\n\n<p>But all arguments are </p>\n\n<pre class=\"lang-js prettyprint-override\"><code>flow(\n  (x: number)=&gt;\"string\",\n  (y: string)=&gt;false,\n  z =&gt; {/*z is any, but should be inferred as boolean*/}\n);\n</code></pre>\n\n<p>This inference works in lodash and ramda types, but its definition is using lengthly unmaintainable overloads, as stated in my previous questtion.</p>\n\n<p><strong>Is there a way to avoid <a href=\"https://github.com/DefinitelyTyped/DefinitelyTyped/blob/64104e9760065bd498a3d62d98bb05ea26500dc2/types/lodash/common/util.d.ts#L209\" rel=\"nofollow noreferrer\">overwrites</a> and not lose the type inference?</strong></p>\n"}, {"tags": ["reactjs", "typescript"], "comments": [{"owner": {"reputation": 147776, "user_id": 3731501, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/e4783dfa8ec98c884e61d29f2192ac97?s=128&d=identicon&r=PG&f=1", "display_name": "Estus Flask", "link": "https://stackoverflow.com/users/3731501/estus-flask"}, "edited": false, "score": 0, "creation_date": 1547626180, "post_id": 54212513, "comment_id": 95251210, "body": "It depends. setExploreMode and onSomething aren&#39;t shown."}, {"owner": {"reputation": 13971, "user_id": 554807, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/11449ff391eb9e813ac9f467ae6e0102?s=128&d=identicon&r=PG", "display_name": "GreenAsJade", "link": "https://stackoverflow.com/users/554807/greenasjade"}, "reply_to_user": {"reputation": 147776, "user_id": 3731501, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/e4783dfa8ec98c884e61d29f2192ac97?s=128&d=identicon&r=PG&f=1", "display_name": "Estus Flask", "link": "https://stackoverflow.com/users/3731501/estus-flask"}, "edited": false, "score": 0, "creation_date": 1547626405, "post_id": 54212513, "comment_id": 95251289, "body": "@estus Can you elaborate on what details of those would make a difference?   (I got rid of onSomething from my question, it was duplicating the illustrative purpose of setExploreMode)."}, {"owner": {"reputation": 147776, "user_id": 3731501, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/e4783dfa8ec98c884e61d29f2192ac97?s=128&d=identicon&r=PG&f=1", "display_name": "Estus Flask", "link": "https://stackoverflow.com/users/3731501/estus-flask"}, "edited": false, "score": 0, "creation_date": 1547626567, "post_id": 54212513, "comment_id": 95251362, "body": "If you&#39;re able to extract a part to a separate component, it&#39;s a good thing to do. It&#39;s a matter of taste after all. From the code, it&#39;s unclear why <code>&lt;div className=&quot;left-column&quot;&gt;</code> should be extracted and <code>&lt;div className=&quot;main-panel&quot;&gt;</code> should not."}, {"owner": {"reputation": 13971, "user_id": 554807, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/11449ff391eb9e813ac9f467ae6e0102?s=128&d=identicon&r=PG", "display_name": "GreenAsJade", "link": "https://stackoverflow.com/users/554807/greenasjade"}, "reply_to_user": {"reputation": 147776, "user_id": 3731501, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/e4783dfa8ec98c884e61d29f2192ac97?s=128&d=identicon&r=PG&f=1", "display_name": "Estus Flask", "link": "https://stackoverflow.com/users/3731501/estus-flask"}, "edited": false, "score": 0, "creation_date": 1547626697, "post_id": 54212513, "comment_id": 95251405, "body": "@estus My question will get deleted if it boils down to taste :)   I really am trying to ask &quot;what are the technical implications of doing this?&quot;.   How is it different to either in-line, factor out  in a function or factor out in a component?   I think I understand that if there are props and state involved, then a separate component can render independently, which can be a good thing.  That leaves me with the question of &quot;what if there aren&#39;t?&quot;"}, {"owner": {"reputation": 147776, "user_id": 3731501, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/e4783dfa8ec98c884e61d29f2192ac97?s=128&d=identicon&r=PG&f=1", "display_name": "Estus Flask", "link": "https://stackoverflow.com/users/3731501/estus-flask"}, "edited": false, "score": 3, "creation_date": 1547627021, "post_id": 54212513, "comment_id": 95251559, "body": "I see no technical implications besides testing. You have more options to test it when it&#39;s separate component, though you will likely want to test the whole view as single component here. It really depends on the case. In this case I don&#39;t see any difference, but I also don&#39;t see a reason to extract renderLeftBoringStuff part, it&#39;s not that bulky. If renderLeftBoringStuff  can be reused, it&#39;s certainly worth to be extracted to a component."}, {"owner": {"reputation": 13971, "user_id": 554807, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/11449ff391eb9e813ac9f467ae6e0102?s=128&d=identicon&r=PG", "display_name": "GreenAsJade", "link": "https://stackoverflow.com/users/554807/greenasjade"}, "reply_to_user": {"reputation": 147776, "user_id": 3731501, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/e4783dfa8ec98c884e61d29f2192ac97?s=128&d=identicon&r=PG&f=1", "display_name": "Estus Flask", "link": "https://stackoverflow.com/users/3731501/estus-flask"}, "edited": false, "score": 0, "creation_date": 1547627360, "post_id": 54212513, "comment_id": 95251721, "body": "Thanks for digging in and finding out what I&#39;m asking.  I think that if the answer could be phrased as &quot;there is no technical difference between in-lining and factoring into a function&quot; it turns out that this would be the answer to my question.   If that is true, I&#39;d be happy to accept that answer."}], "answers": [{"tags": [], "owner": {"reputation": 147776, "user_id": 3731501, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/e4783dfa8ec98c884e61d29f2192ac97?s=128&d=identicon&r=PG&f=1", "display_name": "Estus Flask", "link": "https://stackoverflow.com/users/3731501/estus-flask"}, "is_accepted": true, "score": 1, "last_activity_date": 1547629478, "last_edit_date": 1547629478, "creation_date": 1547629126, "answer_id": 54213425, "question_id": 54212513, "link": "https://stackoverflow.com/questions/54212513/are-there-technical-downsides-to-factoring-out-part-of-a-render-with-a-plain-f/54213425#54213425", "title": "Are there technical downsides to factoring out part of a render() with a plain function in React?", "body": "<p>There is no practical difference besides testing, the size of a class and some difference in performance. If a part that was extracted to a method is bulky, a class doesn't decrease in size and can be hard to be read and maintain. It may be worthwhile to test a part in separation. There is insignificant performance difference (a component provides abstraction layer that has some overhead) but it can be ignored in general, unless proven otherwise; when a part is extracted to functional component, it can be <a href=\"https://stackoverflow.com/questions/52047063/direct-call-of-a-functional-component\">called directly</a> for optimization purposes, too.</p>\n\n<p>Another consideration is that with the introduction of React hooks, functional components are becoming universal choice. Refactoring a huge class to functional component for the sake of uniformity will result in a huge function that may be harder to maintain.</p>\n\n<p>Components are more suitable for isolated unit tests, particularly with Enzyme <code>shallow</code> renderer. If a part is supposed to be reused, it's a good practice to extract it to a component regardless of its size and complexity.</p>\n\n<p>In this example <code>renderLeftBoringStuff</code> is small and simple piece of a view that doesn't benefit from being tested separately. On the other hand, it doesn't really benefit from being extracted from <code>render</code> due to its size.</p>\n\n<p>As a rule of thumb, if a part is big and complex enough so it certainly deserves to be extracted to a method, it may benefit from being a component even more.</p>\n"}], "owner": {"reputation": 13971, "user_id": 554807, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/11449ff391eb9e813ac9f467ae6e0102?s=128&d=identicon&r=PG", "display_name": "GreenAsJade", "link": "https://stackoverflow.com/users/554807/greenasjade"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 44, "favorite_count": 0, "accepted_answer_id": 54213425, "answer_count": 1, "score": 1, "last_activity_date": 1547637163, "creation_date": 1547625327, "last_edit_date": 1547637163, "question_id": 54212513, "link": "https://stackoverflow.com/questions/54212513/are-there-technical-downsides-to-factoring-out-part-of-a-render-with-a-plain-f", "title": "Are there technical downsides to factoring out part of a render() with a plain function in React?", "body": "<p>Are there any downsides to this sort of thing:</p>\n\n<pre><code>render() {\n    return (\n        &lt;div className={\"the-page\"}&gt;\n            &lt;div className=\"left-col\"&gt;\n                 {this.renderLeftColumnBoringStuff()}\n            &lt;/div&gt;\n            &lt;div className=\"main-panel\"&gt;\n                &lt;ExitingPanel stuff={this.state.stuff_that_changes}/&gt;\n            &lt;/div&gt;\n        &lt;/div&gt; )};\n\nrenderLeftBoringStuff = () =&gt; (\n    &lt;div className=\"left-column\"&gt;\n        button className=\"btn s primary\" onClick={this.setExploreMode}&gt;\n             {_(\"Explore\")}\n        &lt;/button&gt;\n            (etc ... more of these)\n    &lt;/div&gt;\n);\n</code></pre>\n\n<p>The motivation is that the structure of the page is clear in this layout, and the boring stuff doesn't need a functional component, it has no props, doesn't need to be re-rendered - it's just buttons and static layout that can be described separately.</p>\n\n<p>I'm doing it, and I'm asking myself \"why aren't you making this a pure component?\", and I'm answering \"because even that seems heavy weight to just refactor some boring definitional stuff\".</p>\n\n<p>The twist is that the boring stuff has references to functions on the current component, which are called when the buttons in there are pressed, so it is non-trivial to pass those into a subcomponent.</p>\n\n<p>From comments below, I think the question can also be viewed this way:</p>\n\n<p>How is it different to either in-line, factor out in a function or factor out in a component? I think I understand that if there are props and state involved, then a separate component can render independently, which can be a good thing. That leaves me with the question of \"what if there aren't?\"</p>\n\n<p>(This question is about whether there are technical downsides that I may not appreciate when forming an opinion about this, not searching for opinions themselves.)</p>\n"}, {"tags": ["angular", "typescript"], "comments": [{"owner": {"reputation": 6901, "user_id": 7436489, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d3f27318e4582da71b5ed0f0dc453100?s=128&d=identicon&r=PG&f=1", "display_name": "Roberto Zvjerkovi\u0107", "link": "https://stackoverflow.com/users/7436489/roberto-zvjerkovi%c4%87"}, "edited": false, "score": 1, "creation_date": 1547628241, "post_id": 54212288, "comment_id": 95252131, "body": "You can just <code>console.log(new JwtService())</code> somewhere, right click on it in a console, save it as a variable and then use it as you wish."}, {"owner": {"reputation": 581, "user_id": 4401980, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/6fc904160b62d0f44fe5ad4e139e9990?s=128&d=identicon&r=PG&f=1", "display_name": "Meh", "link": "https://stackoverflow.com/users/4401980/meh"}, "reply_to_user": {"reputation": 6901, "user_id": 7436489, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d3f27318e4582da71b5ed0f0dc453100?s=128&d=identicon&r=PG&f=1", "display_name": "Roberto Zvjerkovi\u0107", "link": "https://stackoverflow.com/users/7436489/roberto-zvjerkovi%c4%87"}, "edited": false, "score": 0, "creation_date": 1547631117, "post_id": 54212288, "comment_id": 95253648, "body": "Works, although I&#39;d rather avoid saving variables in the console at runtime: +1"}], "answers": [{"comments": [{"owner": {"reputation": 2438, "user_id": 2759473, "user_type": "registered", "accept_rate": 41, "profile_image": "https://i.stack.imgur.com/fkdGV.jpg?s=128&g=1", "display_name": "Tomas", "link": "https://stackoverflow.com/users/2759473/tomas"}, "edited": false, "score": 0, "creation_date": 1547636485, "post_id": 54212738, "comment_id": 95256786, "body": "This hack is marvelous!"}, {"owner": {"reputation": 61, "user_id": 583740, "user_type": "registered", "profile_image": "https://graph.facebook.com/1311280299/picture?type=large", "display_name": "Carl Armbruster", "link": "https://stackoverflow.com/users/583740/carl-armbruster"}, "edited": false, "score": 1, "creation_date": 1581037265, "post_id": 54212738, "comment_id": 106305334, "body": "TypeScript won&#39;t let you do this . . .           window.errorService = this;  But it will let you do this . . .           window[&#39;errorService&#39;] = this;  And you can avoid eval"}], "tags": [], "owner": {"reputation": 1350, "user_id": 10406529, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8bb49e2e5a6e2e332d7283cb5fd266c8?s=128&d=identicon&r=PG&f=1", "display_name": "Nabil Shahid", "link": "https://stackoverflow.com/users/10406529/nabil-shahid"}, "is_accepted": true, "score": 10, "last_activity_date": 1589120371, "last_edit_date": 1589120371, "creation_date": 1547626396, "answer_id": 54212738, "question_id": 54212288, "link": "https://stackoverflow.com/questions/54212288/call-a-service-function-from-browser-console-in-angular-6/54212738#54212738", "title": "Call a service function from browser console in angular 6", "body": "<p>To access a service in a console, it needs to be a global variable i.e. in window object of browser. There is a little trick which i use to access a service class instance in the console.</p>\n\n<p>In the constructor of the console, you can do <code>window.myService=this</code> but typescript wont let you do that because of <code>window</code> definition. Instead, you can do <code>window['myService'] = this</code>. Using this you can access the service using <code>myService</code> or <code>window.myService</code>. </p>\n\n<p>In your case it will be:</p>\n\n<pre><code>import { Injectable } from '@angular/core';\nimport { TranslatePipe } from 'src/app/pipes/translate/translate.pipe';\nimport { LoggerService } from \"src/app/services/logger/logger.service\";\n/**\n* Injects the JSON web token service in the project\n*/\n@Injectable({\n  providedIn: 'root'\n})\n\n/**\n* This service is responsible for management of the jwt token, which would be used\n* for authentication/authorization purposes. The service includes methods to save, delete\n* and retrieve the token\n*/\nexport class JwtService {\n\n\n  constructor(\n    private translate: TranslatePipe,\n    private logger: LoggerService) {\n          window['myService'] = this;\n   }\n\n  /**\n   * This method fetches the token from local storage and returns it.\n   *\n   * @method getToken\n   * @return\n   */\n  getToken(): string {\n    var token = window.localStorage['jwtToken'];\n    if (token !== undefined) {\n      return token;\n    } else {\n      this.logger.invokeConsoleMethod('error', this.translate.transform(\"generic[responses][error][token][001]\"));\n      throw new Error(this.translate.transform(\"generic[responses][error][token][001]\"));\n    }\n}\n</code></pre>\n\n<p>You can then access your service in the console using <code>myService</code> or <code>window.myService</code>. </p>\n\n<p>Also, make sure to remove this line for production as it might cause security issues.</p>\n"}], "owner": {"reputation": 581, "user_id": 4401980, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/6fc904160b62d0f44fe5ad4e139e9990?s=128&d=identicon&r=PG&f=1", "display_name": "Meh", "link": "https://stackoverflow.com/users/4401980/meh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3192, "favorite_count": 1, "accepted_answer_id": 54212738, "answer_count": 1, "score": 5, "last_activity_date": 1589120371, "creation_date": 1547624112, "question_id": 54212288, "link": "https://stackoverflow.com/questions/54212288/call-a-service-function-from-browser-console-in-angular-6", "title": "Call a service function from browser console in angular 6", "body": "<p>I have just made a few changes to some methods in one of the <code>services</code>, and wanted to see if the changes had worked properly or not, but instead of creating a class and testing them out manually, I wanted to know if there was a way to call the functions in chrome's console. </p>\n\n<p>I had followed <a href=\"https://robferguson.org/blog/2017/09/09/a-simple-logging-service-for-angular-4/\" rel=\"noreferrer\">this</a> example for implementing a logger service, and added to my already created <code>jwt service</code> below.</p>\n\n<p>Unfortunately I don't have any implementation of the error in the application so I can't really test it directly. I wanted to check if both conditions are working properly. I checked <a href=\"https://stackoverflow.com/questions/51164691/how-to-call-an-angular-6-function-from-browser-console\">this</a> answer out but when I try it for myself it gives me a <code>null</code> error (maybe because this expects a component and I want to test a service perhaps).</p>\n\n<p>To give an example, here is my class, and a method as an example which I want to test in the console:</p>\n\n<p><strong>Jwt.service.ts</strong></p>\n\n<pre><code>import { Injectable } from '@angular/core';\nimport { TranslatePipe } from 'src/app/pipes/translate/translate.pipe';\nimport { LoggerService } from \"src/app/services/logger/logger.service\";\n/**\n* Injects the JSON web token service in the project\n*/\n@Injectable({\n  providedIn: 'root'\n})\n\n/**\n* This service is responsible for management of the jwt token, which would be used\n* for authentication/authorization purposes. The service includes methods to save, delete\n* and retrieve the token\n*/\nexport class JwtService {\n\n\n  constructor(\n    private translate: TranslatePipe,\n    private logger: LoggerService) { }\n\n  /**\n   * This method fetches the token from local storage and returns it.\n   *\n   * @method getToken\n   * @return\n   */\n  getToken(): string {\n    var token = window.localStorage['jwtToken'];\n    if (token !== undefined) {\n      return token;\n    } else {\n      this.logger.invokeConsoleMethod('error', this.translate.transform(\"generic[responses][error][token][001]\"));\n      throw new Error(this.translate.transform(\"generic[responses][error][token][001]\"));\n    }\n}\n</code></pre>\n"}, {"tags": ["arrays", "angular", "typescript"], "answers": [{"tags": [], "owner": {"reputation": 1775, "user_id": 2401088, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f8f17309b5e6b0dd44075947ce5e4283?s=128&d=identicon&r=PG", "display_name": "Pankaj Prakash", "link": "https://stackoverflow.com/users/2401088/pankaj-prakash"}, "is_accepted": false, "score": 1, "last_activity_date": 1547623664, "creation_date": 1547623664, "answer_id": 54212200, "question_id": 54212127, "link": "https://stackoverflow.com/questions/54212127/angular-6-ngfor-loop-through-an-two-array/54212200#54212200", "title": "Angular 6 *ngFor loop through an two array", "body": "<p>Instead of maintaining <code>secondArray</code> as <code>Array</code> convert it to <code>HashMap</code></p>\n\n<p><strong>Example</strong></p>\n\n<pre><code>firstArray = [\n    { id: 1, name:'firstValue1' }, \n    { id: 2, name:'firstValue2' }\n];\nsecondArray = { \n    '1': { \"num\": 1, \"fullName\": \"SecondValue1\", id: 1 },\n    '2': { \"num\": 1, \"fullName\": \"SecondValue2\", id: 2 },\n}\n</code></pre>\n\n<p><strong>html</strong></p>\n\n<pre><code>&lt;div *ngFor=\"let item of firstArray\"&gt;\n    &lt;p&gt;{{item.name}} --&gt; {{secondArray[item.id]?.fullName}}&lt;/p&gt;\n&lt;/div&gt;\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 28589, "user_id": 8558186, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8af66bb1af6d1875a2dd7be9dd1c8d2b?s=128&d=identicon&r=PG&f=1", "display_name": "Eliseo", "link": "https://stackoverflow.com/users/8558186/eliseo"}, "edited": false, "score": 0, "creation_date": 1547624794, "post_id": 54212272, "comment_id": 95250715, "body": "Sidd, Your code works, but if the function is more complex, It&#39;s better create an auxiliar array because getSeconArrayItem are executed several, several several times along live of component"}, {"owner": {"reputation": 31296, "user_id": 2622292, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/ZKLxE.jpg?s=128&g=1", "display_name": "SiddAjmera", "link": "https://stackoverflow.com/users/2622292/siddajmera"}, "edited": false, "score": 0, "creation_date": 1547625949, "post_id": 54212272, "comment_id": 95251128, "body": "Can you please elaborate as to what exactly do you mean by <i>How can i populate this two array in [(ngModel)] or input or select box?</i>"}, {"owner": {"reputation": 190, "user_id": 9818698, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/uhzfI.jpg?s=128&g=1", "display_name": "rajhim", "link": "https://stackoverflow.com/users/9818698/rajhim"}, "edited": false, "score": 0, "creation_date": 1547626853, "post_id": 54212272, "comment_id": 95251484, "body": "see issues here: ==&gt; <a href=\"https://stackblitz.com/edit/angular-fabmfb?file=src/app/app.component.html\" rel=\"nofollow noreferrer\">stackblitz.com/edit/angular-fabmfb?file=src/app/&hellip;</a>"}], "tags": [], "owner": {"reputation": 31296, "user_id": 2622292, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/ZKLxE.jpg?s=128&g=1", "display_name": "SiddAjmera", "link": "https://stackoverflow.com/users/2622292/siddajmera"}, "is_accepted": false, "score": 0, "last_activity_date": 1547624028, "creation_date": 1547624028, "answer_id": 54212272, "question_id": 54212127, "link": "https://stackoverflow.com/questions/54212127/angular-6-ngfor-loop-through-an-two-array/54212272#54212272", "title": "Angular 6 *ngFor loop through an two array", "body": "<p>If you don't want to add an index manually to your <code>secondArray</code>, give this a try:</p>\n\n<pre><code>import { Component } from '@angular/core';\n\n@Component({\n  selector: 'my-app',\n  templateUrl: './app.component.html',\n  styleUrls: ['./app.component.css']\n})\nexport class AppComponent {\n  firstArray = [\n    { id: 1, name: 'firstValue1' },\n    { id: 2, name: 'firstValue2' }\n  ];\n\n  secondArray = [\n    { \"num\": 1, \"fullName\": 'SecondValue1', id: 1 },\n    { \"num\": 2, \"fullName\": 'SecondValue2', id: 2 }\n  ];\n\n  getSecondArrayItem(id) {\n    return this.secondArray.find(item =&gt; item.id === id);\n  }\n}\n</code></pre>\n\n<p>And in the template:</p>\n\n<pre><code>&lt;div *ngFor=\"let item of firstArray\"&gt;\n    &lt;p&gt;{{item.name}} --&gt; {{ getSecondArrayItem(item.id)?.fullName }}&lt;/p&gt;\n&lt;/div&gt;\n</code></pre>\n\n<hr>\n\n<blockquote>\n  <p>Here's a <a href=\"https://stackblitz.com/edit/angular-jmhnbi?file=src%2Fapp%2Fapp.component.html\" rel=\"nofollow noreferrer\"><strong>Working Sample StackBlitz</strong></a> for your ref.</p>\n</blockquote>\n"}], "owner": {"reputation": 190, "user_id": 9818698, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/uhzfI.jpg?s=128&g=1", "display_name": "rajhim", "link": "https://stackoverflow.com/users/9818698/rajhim"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 881, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1547624951, "creation_date": 1547623262, "last_edit_date": 1547624951, "question_id": 54212127, "link": "https://stackoverflow.com/questions/54212127/angular-6-ngfor-loop-through-an-two-array", "title": "Angular 6 *ngFor loop through an two array", "body": "<p>i have two array</p>\n\n<pre><code> firstArray= [{id: 1, name:'firstValue1'}, {id:2, name:'firstValue2'}]\n\n secondArray= [{ \"num\": 1, \"fullName\": SecondValue1 , id:1}]\n</code></pre>\n\n<p>i want to show data like this</p>\n\n<pre><code>firstValue1 --------&gt;&gt; SecondValue1\n\nfirstValue2 --------&gt;&gt; \n</code></pre>\n\n<p>How can i populate this two array in [(ngModel)] or input or select box?</p>\n\n<p>Thankyou for your time and response!</p>\n"}, {"tags": ["typescript", "vue.js", "prop", "two-way-binding"], "answers": [{"tags": [], "owner": {"reputation": 4160, "user_id": 3567063, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gJNZb.jpg?s=128&g=1", "display_name": "Ana Liza Pandac", "link": "https://stackoverflow.com/users/3567063/ana-liza-pandac"}, "is_accepted": true, "score": 1, "last_activity_date": 1547623566, "creation_date": 1547623566, "answer_id": 54212184, "question_id": 54211855, "link": "https://stackoverflow.com/questions/54211855/vue-cli-3-typescript-how-to-use-prop-with-two-way-binding/54212184#54212184", "title": "Vue Cli 3 -typescript how to use @Prop() with two way binding?", "body": "<p>If you are using Vue <code>2.3.0+</code>, you can use the <a href=\"https://vuejs.org/v2/guide/components-custom-events.html#sync-Modifier\" rel=\"nofollow noreferrer\"><code>.sync modifier</code></a> to have a  \"two-way binding\" for a prop.</p>\n\n<p>This can be done by emitting events in the pattern of <code>update:myPropName</code>.</p>\n\n<p>So in your child component, update the prop on button click by doing this.</p>\n\n<pre><code>&lt;v-btn color=\"pink\" flat @click=\"() =&gt; this.$emit('update:showSnackbar', false)\"&gt;Close&lt;/v-btn&gt;\n</code></pre>\n\n<p>And modify your parent component to the one below so it can listen to the emitted event and update a local data property which is <code>showSnackbar</code>.</p>\n\n<p><code>&lt;ali-snackbar v-bind:showSnackbar.sync=\"showSnackbar\"&gt;&lt;/ali-snackbar&gt;</code></p>\n"}], "owner": {"reputation": 875, "user_id": 9941079, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fbe4ca7bf05dae88149d1c4fcafd542a?s=128&d=identicon&r=PG&f=1", "display_name": "Mangesh Daundkar", "link": "https://stackoverflow.com/users/9941079/mangesh-daundkar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 943, "favorite_count": 0, "accepted_answer_id": 54212184, "answer_count": 1, "score": 0, "last_activity_date": 1547623566, "creation_date": 1547622054, "question_id": 54211855, "link": "https://stackoverflow.com/questions/54211855/vue-cli-3-typescript-how-to-use-prop-with-two-way-binding", "title": "Vue Cli 3 -typescript how to use @Prop() with two way binding?", "body": "<p>My source code is: </p>\n\n<p><strong>Child Component:</strong></p>\n\n<pre><code>&lt;template&gt;\n  &lt;v-snackbar\n    v-model=\"showSnackbar\"\n    :bottom=\"y === 'bottom'\"\n    :left=\"x === 'left'\"\n    :multi-line=\"mode === 'multi-line'\"\n    :right=\"x === 'right'\"\n    :timeout=\"timeout\"\n    :top=\"y === 'top'\"\n    :vertical=\"mode === 'vertical'\"\n  &gt;\n    {{ text }}\n    &lt;v-btn\n      color=\"pink\"\n      flat\n      @click=\"showSnackbar = false\"\n    &gt;\n      Close\n    &lt;/v-btn&gt;\n  &lt;/v-snackbar&gt;\n&lt;/template&gt;\n\nexport default class AliUMSSnackbar extends Vue {\n  @Prop() private showSnackbar!: Boolean;\n}\n</code></pre>\n\n<p><strong>Parent component:</strong></p>\n\n<pre><code>&lt;ali-snackbar v-bind:showSnackbar=\"showSnackbar\"&gt;&lt;/ali-snackbar&gt;\n</code></pre>\n\n<p>But on clicking Close button, getting this error '[Vue warn]: Avoid mutating a prop directly since the value will be overwritten whenever the parent component re-renders. Instead, use a data or computed property based on the prop's value. Prop being mutated: \"showSnackbar\"'</p>\n"}, {"tags": ["typescript"], "answers": [{"comments": [{"owner": {"reputation": 22898, "user_id": 1915893, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/580b31b0be7173bbc477ca1d6967d87c?s=128&d=identicon&r=PG", "display_name": "Aluan Haddad", "link": "https://stackoverflow.com/users/1915893/aluan-haddad"}, "edited": false, "score": 4, "creation_date": 1600571256, "post_id": 54214342, "comment_id": 113128096, "body": "This doesn&#39;t augment <code>&#39;hapi&#39;</code> it shadows it. You cannot augment a module and declare an ambient module in a single file. You need two files for this to work."}, {"owner": {"reputation": 15625, "user_id": 3786294, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/o0RBY.png?s=128&g=1", "display_name": "Paleo", "link": "https://stackoverflow.com/users/3786294/paleo"}, "reply_to_user": {"reputation": 22898, "user_id": 1915893, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/580b31b0be7173bbc477ca1d6967d87c?s=128&d=identicon&r=PG", "display_name": "Aluan Haddad", "link": "https://stackoverflow.com/users/1915893/aluan-haddad"}, "edited": false, "score": 0, "creation_date": 1600618586, "post_id": 54214342, "comment_id": 113138198, "body": "@AluanHaddad Please write the correct answer then I&#39;ll remove mine."}], "tags": [], "owner": {"reputation": 15625, "user_id": 3786294, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/o0RBY.png?s=128&g=1", "display_name": "Paleo", "link": "https://stackoverflow.com/users/3786294/paleo"}, "is_accepted": true, "score": 2, "last_activity_date": 1547632250, "creation_date": 1547632250, "answer_id": 54214342, "question_id": 54211733, "link": "https://stackoverflow.com/questions/54211733/how-to-to-augment-multiple-module-in-single-declaration-file-in-typescript/54214342#54214342", "title": "How to to augment multiple module in single declaration file in TypeScript?", "body": "<p>Try to move the <code>import</code> in the module declaration:</p>\n\n<pre><code>declare module '*.view.html' {\n    const contents: string;\n    export default contents;\n}\n\ndeclare module 'hapi' {\n    import { Server } from 'hapi';\n    interface Server {\n        x: string;\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 10808, "user_id": 5723098, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/7SKfC.jpg?s=128&g=1", "display_name": "Harshal Patil", "link": "https://stackoverflow.com/users/5723098/harshal-patil"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 696, "favorite_count": 2, "accepted_answer_id": 54214342, "answer_count": 1, "score": 2, "last_activity_date": 1547632250, "creation_date": 1547621325, "question_id": 54211733, "link": "https://stackoverflow.com/questions/54211733/how-to-to-augment-multiple-module-in-single-declaration-file-in-typescript", "title": "How to to augment multiple module in single declaration file in TypeScript?", "body": "<p>I notice very strange behavior with Module augmentation. I have one <code>agument.d.ts</code> file within my <code>src</code> folder i.e. <code>&lt;ROOT&gt;/src/augment.d.ts</code>. In this file, I am creating one module for Webpack <code>raw-loader</code> and also, augmenting existing <code>hapi</code> module. The code looks like this:</p>\n\n<pre><code>import { Server } from 'hapi';\n\ndeclare module '*.view.html' {\n    const contents: string;\n    export default contents;\n}\n\ndeclare module 'hapi' {\n\n    interface Server {\n        x: string;\n    }\n}\n</code></pre>\n\n<p>In my <code>tsconfig.json</code> file, I am using the default value for <code>typeRoots</code>. And my <code>include</code> is set to <code>[\"src/**/*.ts\"]</code>,.</p>\n\n<p><strong>The problem is</strong> - I notice that module augmentation for <code>hapi</code> works but not for <code>*.view.html</code>; The compiler keeps throwing an error for all the imports associated with <code>html</code> files.</p>\n\n<p>However, the strange behavior is when I move definition for <code>*.view.html</code> to some other file i.e. - <code>xyz.html.d.ts</code>, then it works perfectly.</p>\n\n<p>Is this the intended behavior? Should we have exactly one module augmentation per declaration file? Any rule I am unaware of!!!</p>\n"}, {"tags": ["angular", "typescript"], "comments": [{"owner": {"reputation": 989, "user_id": 7557023, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UK0sL.jpg?s=128&g=1", "display_name": "Sneha Pawar", "link": "https://stackoverflow.com/users/7557023/sneha-pawar"}, "edited": false, "score": 1, "creation_date": 1547620302, "post_id": 54211548, "comment_id": 95248963, "body": "please share your HTML code that we better to know what you want to do so far"}, {"owner": {"reputation": 153, "user_id": 10283072, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-tiBASQS5QBs/AAAAAAAAAAI/AAAAAAAAAAA/APUIFaMOP2RmmyqCcOcZie1oVqG8VxpcZQ/mo/photo.jpg?sz=128", "display_name": "Akhil Raghav", "link": "https://stackoverflow.com/users/10283072/akhil-raghav"}, "reply_to_user": {"reputation": 989, "user_id": 7557023, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UK0sL.jpg?s=128&g=1", "display_name": "Sneha Pawar", "link": "https://stackoverflow.com/users/7557023/sneha-pawar"}, "edited": false, "score": 0, "creation_date": 1547620627, "post_id": 54211548, "comment_id": 95249078, "body": "Added my requirement Can you please check Help me out If you are able to do?"}], "answers": [{"tags": [], "owner": {"reputation": 535, "user_id": 10889444, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/13ed5fd3924c422cb1fe173bb6466d54?s=128&d=identicon&r=PG&f=1", "display_name": "De Wet van As", "link": "https://stackoverflow.com/users/10889444/de-wet-van-as"}, "is_accepted": false, "score": 1, "last_activity_date": 1547620805, "creation_date": 1547620805, "answer_id": 54211654, "question_id": 54211548, "link": "https://stackoverflow.com/questions/54211548/how-to-change-send-button-color-when-i-enter-some-text-in-my-input-tag-in-angula/54211654#54211654", "title": "how to change send button color when I enter some text in my input tag in angular 6?", "body": "<p>Use NgClass</p>\n\n<p>ex. </p>\n\n<pre><code>[ngClass]=\"{'color-1': message.length &gt; 0, 'color-2': message.length === 0}\"\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 153, "user_id": 10283072, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-tiBASQS5QBs/AAAAAAAAAAI/AAAAAAAAAAA/APUIFaMOP2RmmyqCcOcZie1oVqG8VxpcZQ/mo/photo.jpg?sz=128", "display_name": "Akhil Raghav", "link": "https://stackoverflow.com/users/10283072/akhil-raghav"}, "edited": false, "score": 0, "creation_date": 1547621348, "post_id": 54211667, "comment_id": 95249340, "body": "Thanks for the help!! I am a  beginer"}], "tags": [], "owner": {"reputation": 813, "user_id": 5737571, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-AsuIvL39fi8/AAAAAAAAAAI/AAAAAAAAAGg/QAhDAPDTx9M/photo.jpg?sz=128", "display_name": "phucnh", "link": "https://stackoverflow.com/users/5737571/phucnh"}, "is_accepted": true, "score": 2, "last_activity_date": 1547620871, "creation_date": 1547620871, "answer_id": 54211667, "question_id": 54211548, "link": "https://stackoverflow.com/questions/54211548/how-to-change-send-button-color-when-i-enter-some-text-in-my-input-tag-in-angula/54211667#54211667", "title": "how to change send button color when I enter some text in my input tag in angular 6?", "body": "<p>Simple way use angular style <code>[style.background-color]=\"message &amp;&amp; message != '' ? 'red' : 'green'\"  [style.color]=\"message &amp;&amp; message != '' ? 'black' : 'white'\"</code></p>\n\n<pre><code>&lt;div class=\"send\" [style.background-color]=\"message &amp;&amp; message != '' ? 'red' : 'green'\"  [style.color]=\"message &amp;&amp; message != '' ? 'black' : 'white'\"&gt;\n          &lt;i class=\"material-icons\" (click)=\"onSubmit(message)\"&gt;\n            send\n          &lt;/i&gt;\n          &lt;br&gt;\n        &lt;/div&gt;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 989, "user_id": 7557023, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UK0sL.jpg?s=128&g=1", "display_name": "Sneha Pawar", "link": "https://stackoverflow.com/users/7557023/sneha-pawar"}, "is_accepted": false, "score": 0, "last_activity_date": 1547621076, "creation_date": 1547621076, "answer_id": 54211696, "question_id": 54211548, "link": "https://stackoverflow.com/questions/54211548/how-to-change-send-button-color-when-i-enter-some-text-in-my-input-tag-in-angula/54211696#54211696", "title": "how to change send button color when I enter some text in my input tag in angular 6?", "body": "<p>try this </p>\n\n<pre><code>[style.color]=\"message.length &gt; 0 ? 'white' : 'red'\"  \n</code></pre>\n"}], "owner": {"reputation": 153, "user_id": 10283072, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-tiBASQS5QBs/AAAAAAAAAAI/AAAAAAAAAAA/APUIFaMOP2RmmyqCcOcZie1oVqG8VxpcZQ/mo/photo.jpg?sz=128", "display_name": "Akhil Raghav", "link": "https://stackoverflow.com/users/10283072/akhil-raghav"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 252, "favorite_count": 0, "accepted_answer_id": 54211667, "answer_count": 3, "score": 1, "last_activity_date": 1547621076, "creation_date": 1547620184, "last_edit_date": 1547620578, "question_id": 54211548, "link": "https://stackoverflow.com/questions/54211548/how-to-change-send-button-color-when-i-enter-some-text-in-my-input-tag-in-angula", "title": "how to change send button color when I enter some text in my input tag in angular 6?", "body": "<p>how to change send button colour when I enter some text in my input tag in angular 6?\nIn the image I have to change colour of send button when my text is entered in input text field\n<div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>      &lt;div class=\"conversation\"&gt;\r\n        &lt;input id=\"chatMessageBox\" row=\"1\" placeholder=\"continue typing..\" autocomplete=\"off\" autocorrect=\"off\"\r\n          autocapitalize=\"off\" spellcheck=\"false\" class=\"text-input\" [(ngModel)]=\"message\"  (keydown)=\"sendMessageUsingKeypress($event)\"&gt;\r\n         \r\n        &lt;div class=\"send\"&gt;\r\n          &lt;i class=\"material-icons\" (click)=\"onSubmit(message)\"&gt;\r\n            send\r\n          &lt;/i&gt;\r\n          &lt;br&gt;\r\n        &lt;/div&gt;\r\n      &lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n\nHere i want to change color of send when i enter some text in inputbox</p>\n"}, {"tags": ["typescript"], "comments": [{"owner": {"reputation": 1515, "user_id": 2978923, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/K92kk.jpg?s=128&g=1", "display_name": "prabhatojha", "link": "https://stackoverflow.com/users/2978923/prabhatojha"}, "edited": false, "score": 1, "creation_date": 1547618592, "post_id": 54211084, "comment_id": 95248390, "body": "Your for loop will print only keys, to get values, use Sizes[size]."}, {"owner": {"reputation": 1515, "user_id": 2978923, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/K92kk.jpg?s=128&g=1", "display_name": "prabhatojha", "link": "https://stackoverflow.com/users/2978923/prabhatojha"}, "edited": false, "score": 0, "creation_date": 1547618663, "post_id": 54211084, "comment_id": 95248421, "body": "Also the output you posted is not correct, it can&#39;t print both key and value at the same time with your logic."}, {"owner": {"reputation": 511, "user_id": 5770245, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/c4d9d4e3c485f8ec2c8caf196583dbb7?s=128&d=identicon&r=PG&f=1", "display_name": "user82395214", "link": "https://stackoverflow.com/users/5770245/user82395214"}, "reply_to_user": {"reputation": 1515, "user_id": 2978923, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/K92kk.jpg?s=128&g=1", "display_name": "prabhatojha", "link": "https://stackoverflow.com/users/2978923/prabhatojha"}, "edited": false, "score": 2, "creation_date": 1547620459, "post_id": 54211084, "comment_id": 95249032, "body": "@Deshak9 Here&#39;s the fiddle : <a href=\"https://jsfiddle.net/98o7cysv/\" rel=\"nofollow noreferrer\">jsfiddle.net/98o7cysv</a>"}, {"owner": {"reputation": 6779, "user_id": 6749601, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GHTLW.jpg?s=128&g=1", "display_name": "Lynx 242", "link": "https://stackoverflow.com/users/6749601/lynx-242"}, "edited": false, "score": 0, "creation_date": 1547624930, "post_id": 54211084, "comment_id": 95250768, "body": "It actually seems to be a TypeScript-Bug. Even the recommended way in the Microsoft docs leads to the same result."}], "answers": [{"comments": [{"owner": {"reputation": 112977, "user_id": 390278, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/84715fec547362389d02f5be0ed12814?s=128&d=identicon&r=PG", "display_name": "Jeff Mercado", "link": "https://stackoverflow.com/users/390278/jeff-mercado"}, "edited": false, "score": 0, "creation_date": 1547626897, "post_id": 54212829, "comment_id": 95251503, "body": "You can check out the source too to see how it emits enums. <a href=\"https://github.com/Microsoft/TypeScript/blob/v2.3.4/src/compiler/transformers/ts.ts#L2496\" rel=\"nofollow noreferrer\">2.3</a> vs <a href=\"https://github.com/Microsoft/TypeScript/blob/v2.4.2/src/compiler/transformers/ts.ts#L2565\" rel=\"nofollow noreferrer\">2.4</a>"}, {"owner": {"reputation": 511, "user_id": 5770245, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/c4d9d4e3c485f8ec2c8caf196583dbb7?s=128&d=identicon&r=PG&f=1", "display_name": "user82395214", "link": "https://stackoverflow.com/users/5770245/user82395214"}, "edited": false, "score": 0, "creation_date": 1547667920, "post_id": 54212829, "comment_id": 95274356, "body": "This doesn&#39;t work as expected in the following example: <a href=\"https://jsfiddle.net/7jk6z3n2/\" rel=\"nofollow noreferrer\">jsfiddle.net/7jk6z3n2</a>"}, {"owner": {"reputation": 112977, "user_id": 390278, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/84715fec547362389d02f5be0ed12814?s=128&d=identicon&r=PG", "display_name": "Jeff Mercado", "link": "https://stackoverflow.com/users/390278/jeff-mercado"}, "reply_to_user": {"reputation": 511, "user_id": 5770245, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/c4d9d4e3c485f8ec2c8caf196583dbb7?s=128&d=identicon&r=PG&f=1", "display_name": "user82395214", "link": "https://stackoverflow.com/users/5770245/user82395214"}, "edited": false, "score": 0, "creation_date": 1547673076, "post_id": 54212829, "comment_id": 95276687, "body": "No, forcing them to be <code>any</code> will cause this to happen in current versions. To fix your fiddle, you need to force a specific version of typescript to be used (which doesn&#39;t seem to be possible)."}, {"owner": {"reputation": 112977, "user_id": 390278, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/84715fec547362389d02f5be0ed12814?s=128&d=identicon&r=PG", "display_name": "Jeff Mercado", "link": "https://stackoverflow.com/users/390278/jeff-mercado"}, "reply_to_user": {"reputation": 511, "user_id": 5770245, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/c4d9d4e3c485f8ec2c8caf196583dbb7?s=128&d=identicon&r=PG&f=1", "display_name": "user82395214", "link": "https://stackoverflow.com/users/5770245/user82395214"}, "edited": false, "score": 0, "creation_date": 1548026146, "post_id": 54212829, "comment_id": 95385478, "body": "jsfiddle uses version typescript version 1.7.3, which <i>does not</i> support string values for enums. <a href=\"http://fiddle.jshell.net/js/typescript/typescript.js\" rel=\"nofollow noreferrer\">See for yourself</a>, look for the <code>ts.version</code>."}], "tags": [], "owner": {"reputation": 112977, "user_id": 390278, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/84715fec547362389d02f5be0ed12814?s=128&d=identicon&r=PG", "display_name": "Jeff Mercado", "link": "https://stackoverflow.com/users/390278/jeff-mercado"}, "is_accepted": false, "score": 1, "last_activity_date": 1547626752, "creation_date": 1547626752, "answer_id": 54212829, "question_id": 54211084, "link": "https://stackoverflow.com/questions/54211084/getting-values-from-typescript-enum-with-strings/54212829#54212829", "title": "Getting values from Typescript enum with strings", "body": "<p>It appears the typescript compiler being used is pre-2.4 where they added string value support in enums. Usually there's a reverse mapping from values to enums and values are generally numbers. But if you attempt to use strings prior to 2.4, the compiler wouldn't know what to do about it (and would actually produce errors) but will still generate the source.</p>\n\n<p>Compare 2.4:</p>\n\n<pre><code>var Sizes;\n(function (Sizes) {\n    Sizes[\"Tiny\"] = \"Tiny\";\n    Sizes[\"VerySmall\"] = \"Very Small\";\n    Sizes[\"Small\"] = \"Small\";\n    Sizes[\"Medium\"] = \"Medium\";\n    Sizes[\"Large\"] = \"Large\";\n    Sizes[\"VeryLarge\"] = \"Very Large\";\n})(Sizes || (Sizes = {}));\n</code></pre>\n\n<p>To 2.3:</p>\n\n<pre><code>var Sizes;\n(function (Sizes) {\n    Sizes[Sizes[\"Tiny\"] = \"Tiny\"] = \"Tiny\";\n    Sizes[Sizes[\"VerySmall\"] = \"Very Small\"] = \"VerySmall\";\n    Sizes[Sizes[\"Small\"] = \"Small\"] = \"Small\";\n    Sizes[Sizes[\"Medium\"] = \"Medium\"] = \"Medium\";\n    Sizes[Sizes[\"Large\"] = \"Large\"] = \"Large\";\n    Sizes[Sizes[\"VeryLarge\"] = \"Very Large\"] = \"VeryLarge\";\n})(Sizes || (Sizes = {}));\n</code></pre>\n\n<p>And 2.3 without string values:</p>\n\n<pre><code>var Sizes;\n(function (Sizes) {\n    Sizes[Sizes[\"Tiny\"] = 0] = \"Tiny\";\n    Sizes[Sizes[\"VerySmall\"] = 1] = \"VerySmall\";\n    Sizes[Sizes[\"Small\"] = 2] = \"Small\";\n    Sizes[Sizes[\"Medium\"] = 3] = \"Medium\";\n    Sizes[Sizes[\"Large\"] = 4] = \"Large\";\n    Sizes[Sizes[\"VeryLarge\"] = 5] = \"VeryLarge\";\n})(Sizes || (Sizes = {}));\n</code></pre>\n\n<p>If you wanted to force that reverse mapping in 2.4 and up, you could assert the values to <code>any</code>.</p>\n\n<pre><code>enum Sizes {\n  Tiny = &lt;any&gt;\"Tiny\",\n  VerySmall = &lt;any&gt;\"Very Small\",\n  Small = &lt;any&gt;\"Small\",\n  Medium = &lt;any&gt;\"Medium\",\n  Large = &lt;any&gt;\"Large\",\n  VeryLarge = &lt;any&gt;\"Very Large\"\n}\n</code></pre>\n\n<p>Just call it a feature.</p>\n"}, {"comments": [{"owner": {"reputation": 131, "user_id": 10611836, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-HhNoCFJ803s/AAAAAAAAAAI/AAAAAAAAAAA/ABtNlbAXJpr-jDsvmXVw0tx4PHId84zrlw/mo/photo.jpg?sz=128", "display_name": "NoLogig", "link": "https://stackoverflow.com/users/10611836/nologig"}, "reply_to_user": {"reputation": 511, "user_id": 5770245, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/c4d9d4e3c485f8ec2c8caf196583dbb7?s=128&d=identicon&r=PG&f=1", "display_name": "user82395214", "link": "https://stackoverflow.com/users/5770245/user82395214"}, "edited": false, "score": 0, "creation_date": 1547721347, "post_id": 54213124, "comment_id": 95292755, "body": "Try out here  <a href=\"http://www.typescriptlang.org/play/index.html\" rel=\"nofollow noreferrer\">TypeScriptPlayground</a> I test it and it works, but remove the &#39;export&#39; before &#39;class&#39;"}], "tags": [], "owner": {"reputation": 131, "user_id": 10611836, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-HhNoCFJ803s/AAAAAAAAAAI/AAAAAAAAAAA/ABtNlbAXJpr-jDsvmXVw0tx4PHId84zrlw/mo/photo.jpg?sz=128", "display_name": "NoLogig", "link": "https://stackoverflow.com/users/10611836/nologig"}, "is_accepted": false, "score": 0, "last_activity_date": 1547721544, "last_edit_date": 1547721544, "creation_date": 1547628043, "answer_id": 54213124, "question_id": 54211084, "link": "https://stackoverflow.com/questions/54211084/getting-values-from-typescript-enum-with-strings/54213124#54213124", "title": "Getting values from Typescript enum with strings", "body": "<p>In TypeScrit</p>\n\n<pre><code>\nenum Sizes {\n  Tiny = \"Tiny\",\n  VerySmall = \"Very Small\",\n  Small = \"Small\",\n  Medium = \"Medium\",\n  Large = \"Large\",\n  VeryLarge = \"Very Large\"\n}\nclass Test {\n  constructor() {\n    let text = '';\n\n    for (const key in Sizes) {\n      if (Sizes.hasOwnProperty(key)) {\n        text += Sizes[key] + '&lt;br/&gt;';\n      }\n    }\n    console.log(text);\n\n    text = '';\n    Object.keys(Sizes).map(key =&gt; text += Sizes[key] + '&lt;br/&gt;');\n    console.log(text);\n  }\n}\nlet t = new Test();\n</code></pre>\n\n<p>Remember that a for-In should have a if-Statement!</p>\n\n<p>Both <code>console.log(text)</code>, should output the same string.</p>\n\n<pre><code>Tiny&lt;br/&gt;Very Small&lt;br/&gt;Small&lt;br/&gt;Medium&lt;br/&gt;Large&lt;br/&gt;Very Large&lt;br/&gt;\n</code></pre>\n\n<p>If you log <code>Sizes[size]</code> to console after the for-In you will imagine <a href=\"https://www.typescriptlang.org/docs/handbook/enums.html\" rel=\"nofollow noreferrer\">what</a> happens and <a href=\"https://www.typescriptlang.org/docs/handbook/enums.html\" rel=\"nofollow noreferrer\">why</a> you get the values.</p>\n"}, {"tags": [], "owner": {"reputation": 204677, "user_id": 75525, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/IYU63.png?s=128&g=1", "display_name": "Fenton", "link": "https://stackoverflow.com/users/75525/fenton"}, "is_accepted": false, "score": 0, "last_activity_date": 1547638492, "creation_date": 1547638492, "answer_id": 54216221, "question_id": 54211084, "link": "https://stackoverflow.com/questions/54211084/getting-values-from-typescript-enum-with-strings/54216221#54216221", "title": "Getting values from Typescript enum with strings", "body": "<p>You can use <code>Object.keys</code> to get the enum keys and log the values, like this:</p>\n\n<pre><code>enum Sizes {\n  Tiny = \"Tiny\",\n  VerySmall = \"Very Small\",\n  Small = \"Small\",\n  Medium = \"Medium\",\n  Large = \"Large\",\n  VeryLarge = \"Very Large\"\n}\n\nfor (const size of Object.keys(Sizes)) {\n    console.log(Sizes[size]);\n}\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>Tiny\nVery Small\nSmall\nMedium\nLarge\nVery Large\n</code></pre>\n\n<p>Transpiled example:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>var Sizes;\r\n(function (Sizes) {\r\n    Sizes[\"Tiny\"] = \"Tiny\";\r\n    Sizes[\"VerySmall\"] = \"Very Small\";\r\n    Sizes[\"Small\"] = \"Small\";\r\n    Sizes[\"Medium\"] = \"Medium\";\r\n    Sizes[\"Large\"] = \"Large\";\r\n    Sizes[\"VeryLarge\"] = \"Very Large\";\r\n})(Sizes || (Sizes = {}));\r\nfor (var _i = 0, _a = Object.keys(Sizes); _i &lt; _a.length; _i++) {\r\n    var size = _a[_i];\r\n    console.log(Sizes[size]);\r\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 511, "user_id": 5770245, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/c4d9d4e3c485f8ec2c8caf196583dbb7?s=128&d=identicon&r=PG&f=1", "display_name": "user82395214", "link": "https://stackoverflow.com/users/5770245/user82395214"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1401, "favorite_count": 0, "answer_count": 3, "score": 1, "last_activity_date": 1547721544, "creation_date": 1547617710, "question_id": 54211084, "link": "https://stackoverflow.com/questions/54211084/getting-values-from-typescript-enum-with-strings", "title": "Getting values from Typescript enum with strings", "body": "<p>I am trying to get the values out of this enum:</p>\n\n<pre><code>enum Sizes {\n  Tiny = \"Tiny\",\n  VerySmall = \"Very Small\",\n  Small = \"Small\",\n  Medium = \"Medium\",\n  Large = \"Large\",\n  VeryLarge = \"Very Large\"\n}\n</code></pre>\n\n<p>With the following code as suggested in other StackOverflows, I get the following output:</p>\n\n<pre><code>var text=\"\"\nfor (var size in Sizes) {\n    text = text + \"\\n\" + size;\n}\n\nconsole.log(text);\n</code></pre>\n\n<hr>\n\n<pre><code>Tiny\nVerySmall\nVery Small\nSmall\nMedium\nLarge\nVeryLarge\nVery Large\n</code></pre>\n\n<p>I do not want the entries VerySmall and VeryLarge, why are these appearing and how can I get my desired results?</p>\n\n<p>Thanks!</p>\n"}, {"tags": ["typescript"], "owner": {"reputation": 14428, "user_id": 1191551, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/97ced8a229689b73b098a542636052e8?s=128&d=identicon&r=PG", "display_name": "Chet", "link": "https://stackoverflow.com/users/1191551/chet"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 18, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1547616554, "creation_date": 1547616554, "question_id": 54210926, "link": "https://stackoverflow.com/questions/54210926/how-to-use-the-typescript-compilers-type-inferencing-engine", "title": "How to use the TypeScript compiler&#39;s type inferencing engine?", "body": "<p>Suppose I have some JSON data that looks like:</p>\n\n<pre><code>const x = {\n    a: \"apples\",\n    b: [1, 2, 3],\n}\n</code></pre>\n\n<p>When I hover over this value in VSCode, the TypeScript compiler has inferred the type of this object to be:</p>\n\n<pre><code>const x: {\n    a: string;\n    b: number[];\n}\n</code></pre>\n\n<p>My question is, where in the TypeScript compiler is this happening and how can I call a function that will interpret some JSON into this inferred schema? I'm hunting around the <a href=\"https://github.com/Microsoft/TypeScript/tree/master/src\" rel=\"nofollow noreferrer\">TypeScript compiler source code</a> and I'm completely lost.</p>\n"}, {"tags": ["javascript", "angular", "typescript", "frontend"], "comments": [{"owner": {"reputation": 791, "user_id": 3544646, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/562897e333b16f46d6dbee1d83a61954?s=128&d=identicon&r=PG&f=1", "display_name": "bubble", "link": "https://stackoverflow.com/users/3544646/bubble"}, "edited": false, "score": 0, "creation_date": 1547617144, "post_id": 54210922, "comment_id": 95247941, "body": "Please add the code for the clientHeaderService and your HTML. In any case your console.log() is done outside the subscribe method, so it won&#39;t work. Add this.clientHeaderService.getUser().subscribe(response =&gt; {this.user = response; console.log(this.user);}). Also the async pipe is to be used with observables, your user variable is not an observable"}], "answers": [{"comments": [{"owner": {"reputation": 169, "user_id": 7220339, "user_type": "registered", "profile_image": "https://graph.facebook.com/238658549843847/picture?type=large", "display_name": "Alisson Boucinhas", "link": "https://stackoverflow.com/users/7220339/alisson-boucinhas"}, "edited": false, "score": 0, "creation_date": 1547617914, "post_id": 54211025, "comment_id": 95248197, "body": "I&#39;m just logging into the console to be able to preview the data beforehand, because the intention is to actually display them in the HTML template. The problem is that in the template it does not matter what form I use, it always gives error loading anything from user."}, {"owner": {"reputation": 2304, "user_id": 410487, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/8725228523429c49c64c63b75787cb9e?s=128&d=identicon&r=PG", "display_name": "Yaobin Then", "link": "https://stackoverflow.com/users/410487/yaobin-then"}, "reply_to_user": {"reputation": 169, "user_id": 7220339, "user_type": "registered", "profile_image": "https://graph.facebook.com/238658549843847/picture?type=large", "display_name": "Alisson Boucinhas", "link": "https://stackoverflow.com/users/7220339/alisson-boucinhas"}, "edited": false, "score": 0, "creation_date": 1547618923, "post_id": 54211025, "comment_id": 95248515, "body": "<code>this.user</code> will not have any values until the <code>getUser()</code> actually emits any result, that&#39;s why it is undefined. You should show your HTML template too, or just use stackblitz"}], "tags": [], "owner": {"reputation": 2304, "user_id": 410487, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/8725228523429c49c64c63b75787cb9e?s=128&d=identicon&r=PG", "display_name": "Yaobin Then", "link": "https://stackoverflow.com/users/410487/yaobin-then"}, "is_accepted": false, "score": 0, "last_activity_date": 1547617255, "creation_date": 1547617255, "answer_id": 54211025, "question_id": 54210922, "link": "https://stackoverflow.com/questions/54210922/error-loading-uploaded-api-data-into-template/54211025#54211025", "title": "Error loading uploaded API data into template", "body": "<p><code>this.user</code> is not immediately available after you call <code>subscribe()</code>, it is very possible that the <code>getUser()</code> hasn't emitted any result by the time <code>console.log(this.user)</code> is called.</p>\n\n<p>If you just wanted to see what's in <code>this.user</code>, you may try it in the callback of <code>subscribe()</code></p>\n\n<pre><code>this.clientHeaderService.getUser().subscribe((response) =&gt; {\n  this.user = response;\n  console.log(this.user); // this.user should be available here\n})\n</code></pre>\n\n<p>On the template side, you should be able to just access the user via <code>{{ user }}</code>.</p>\n\n<p>I'd also suggest to use share your minimum reproducible code at <a href=\"https://stackblitz.com/\" rel=\"nofollow noreferrer\">https://stackblitz.com/</a>, to get help more easily.</p>\n"}, {"tags": [], "owner": {"reputation": 549, "user_id": 7902868, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/82e3ca2ec8197cd45b8bb8f039e4040b?s=128&d=identicon&r=PG&f=1", "display_name": "vaibhavmaster", "link": "https://stackoverflow.com/users/7902868/vaibhavmaster"}, "is_accepted": false, "score": 0, "last_activity_date": 1547617335, "creation_date": 1547617335, "answer_id": 54211033, "question_id": 54210922, "link": "https://stackoverflow.com/questions/54210922/error-loading-uploaded-api-data-into-template/54211033#54211033", "title": "Error loading uploaded API data into template", "body": "<p>Subscribe almost work like promise in javascript and it has a callback</p>\n\n<pre><code>.subscribe(response=&gt;this.user=response)\n</code></pre>\n\n<p>Callback are pushed to the end of current event loop .So you are accessing</p>\n\n<pre><code>console.log(this.user)\n</code></pre>\n\n<p>before callback in your subscribe get executed.</p>\n\n<p>instead\n  try  </p>\n\n<pre><code>.subscribe((response) =&gt; {\n  this.user=response;\n  //you can access value of this.user here or call other function here to \n  //access this.user\n  console.log(this.user);\n\n})\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 489, "user_id": 10916226, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1cadb0edc32c23c928ec6be6b12ce018?s=128&d=identicon&r=PG&f=1", "display_name": "yujinpan", "link": "https://stackoverflow.com/users/10916226/yujinpan"}, "is_accepted": true, "score": 2, "last_activity_date": 1547618125, "creation_date": 1547618125, "answer_id": 54211149, "question_id": 54210922, "link": "https://stackoverflow.com/questions/54210922/error-loading-uploaded-api-data-into-template/54211149#54211149", "title": "Error loading uploaded API data into template", "body": "<p>User$ represents a stream, should be assigned this way\uff1a</p>\n\n<pre><code>export class {\n    // a stream type\n    user$: Obserable&lt;User&gt;;\n\n    ngOnInit() {\n        // a stream type\n        this.user$ = this.clienteHeaderService.getUser();\n    }\n\n}\n</code></pre>\n\n<p>and the template add <code>|async</code> pipe.</p>\n"}], "owner": {"reputation": 169, "user_id": 7220339, "user_type": "registered", "profile_image": "https://graph.facebook.com/238658549843847/picture?type=large", "display_name": "Alisson Boucinhas", "link": "https://stackoverflow.com/users/7220339/alisson-boucinhas"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 46, "favorite_count": 0, "accepted_answer_id": 54211149, "answer_count": 3, "score": -2, "last_activity_date": 1547618125, "creation_date": 1547616542, "last_edit_date": 1547617015, "question_id": 54210922, "link": "https://stackoverflow.com/questions/54210922/error-loading-uploaded-api-data-into-template", "title": "Error loading uploaded API data into template", "body": "<p>I have a service that returns me the user's data according to the Token stored in the localStorage and everything is returned correctly until I get to my component.</p>\n\n<p>The real problem is that I have the following code in my component.ts file:\n<a href=\"https://i.stack.imgur.com/IEpvG.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/IEpvG.png\" alt=\"enter image description here\"></a></p>\n\n<p>Apparently, at least everything should work out for me. However, in the console it is possible to notice that even after I have assigned the return to my user property it is printed as undefined. As shown in the image below.\n<a href=\"https://i.stack.imgur.com/CIVim.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/CIVim.png\" alt=\"enter image description here\"></a></p>\n\n<p>When trying to use in the HTML template I get messages saying that it was not possible to load data from the user property. I have already tried using async pipe like this: (user $ | async) as user. I tried to use the safe navigation like this:user?.email. </p>\n\n<p>But it did nothing and I have no idea why this happens. Any help will be welcome!</p>\n"}, {"tags": ["typescript"], "answers": [{"comments": [{"owner": {"reputation": 3997, "user_id": 5006372, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/f7df1194f7039c4f4b85d9eb244e14c9?s=128&d=identicon&r=PG&f=1", "display_name": "Zen", "link": "https://stackoverflow.com/users/5006372/zen"}, "edited": false, "score": 0, "creation_date": 1551091297, "post_id": 54863293, "comment_id": 96499187, "body": "let <code>type Foo = { P1: V1, P2: V2, P3: V3  }    type Bar = P1 | P2</code>, <code>Foo[Bar]</code> will be <code>V1 | V2</code>? I haven&#39;t seen this usage in typescript documentation. Do you have any links?"}, {"owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "reply_to_user": {"reputation": 3997, "user_id": 5006372, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/f7df1194f7039c4f4b85d9eb244e14c9?s=128&d=identicon&r=PG&f=1", "display_name": "Zen", "link": "https://stackoverflow.com/users/5006372/zen"}, "edited": false, "score": 0, "creation_date": 1551092267, "post_id": 54863293, "comment_id": 96499776, "body": "@Zen yes <code>Foo[keyof Foo]</code> will be <code>V1 | V2</code>. Looking for official docs about that... but the handbook does not say anything explicit about it as far as I can tell.."}, {"owner": {"reputation": 3997, "user_id": 5006372, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/f7df1194f7039c4f4b85d9eb244e14c9?s=128&d=identicon&r=PG&f=1", "display_name": "Zen", "link": "https://stackoverflow.com/users/5006372/zen"}, "edited": false, "score": 0, "creation_date": 1551098414, "post_id": 54863293, "comment_id": 96503236, "body": "Never mind, I found it. <a href=\"https://stackoverflow.com/questions/49285864/is-there-a-valueof-similar-to-keyof-in-typescript\" title=\"is there a valueof similar to keyof in typescript\">stackoverflow.com/questions/49285864/&hellip;</a>"}, {"owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "reply_to_user": {"reputation": 3997, "user_id": 5006372, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/f7df1194f7039c4f4b85d9eb244e14c9?s=128&d=identicon&r=PG&f=1", "display_name": "Zen", "link": "https://stackoverflow.com/users/5006372/zen"}, "edited": false, "score": 0, "creation_date": 1551098561, "post_id": 54863293, "comment_id": 96503292, "body": "@Zen not exactly official reference, but I would take jcalz word for it. Then again you could take my word for it too :P"}], "tags": [], "owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "is_accepted": true, "score": 4, "last_activity_date": 1551087796, "creation_date": 1551087796, "answer_id": 54863293, "question_id": 54210806, "link": "https://stackoverflow.com/questions/54210806/how-does-typescript-functionpropertynames-work/54863293#54863293", "title": "How does typescript FunctionPropertyNames work?", "body": "<p>If never is present in a union, it is removed from the union. So <code>never | \"A\"</code> will just be <code>\"A\"</code>.</p>\n\n<p>Given this behavior, we want to construct a mapped type that has <code>never</code> as the type for the keys we don't want in the result, and the name of the key as the type of the key for the keys we want in the result. We do this using the conditional type <code>T[K] extends Function ? K : never</code> on each property. So for example:</p>\n\n<pre><code>type FunctionPropertyNamesMapped&lt;T&gt; = { [K in keyof T]: T[K] extends Function ? K : never }\ntype Test = FunctionPropertyNamesMapped&lt;{\n    a: number,\n    fn: () =&gt; {}\n}&gt;\n// Test is the same as\n// {\n//    a: never;\n//    fn: \"fn\";\n//}\n</code></pre>\n\n<p>Given this new mapped type, if we get a union of all key types in it (using <code>[keyof T]</code>) we would get the union <code>never | \"fn\"</code> which reduces to just <code>\"fn\"</code></p>\n\n<p>You can also listen to my audio explanation of something similar <a href=\"https://www.youtube.com/watch?v=9Swrzqr4MSs&amp;t=1404s\" rel=\"nofollow noreferrer\">here</a></p>\n"}], "owner": {"reputation": 3997, "user_id": 5006372, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/f7df1194f7039c4f4b85d9eb244e14c9?s=128&d=identicon&r=PG&f=1", "display_name": "Zen", "link": "https://stackoverflow.com/users/5006372/zen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 265, "favorite_count": 1, "accepted_answer_id": 54863293, "answer_count": 1, "score": 2, "last_activity_date": 1551087796, "creation_date": 1547615685, "last_edit_date": 1547617786, "question_id": 54210806, "link": "https://stackoverflow.com/questions/54210806/how-does-typescript-functionpropertynames-work", "title": "How does typescript FunctionPropertyNames work?", "body": "<pre class=\"lang-js prettyprint-override\"><code>type FunctionPropertyNames&lt;T&gt; = { [K in keyof T]: T[K] extends Function ? K : never }[keyof T];\n</code></pre>\n\n<p>I know mapped type <code>{ [P in keyof T]: T[P] }</code> and <code>keyof</code>, but how do they work together and filter <code>never</code>?</p>\n"}, {"tags": ["javascript", "typescript"], "answers": [{"comments": [{"owner": {"reputation": 3511, "user_id": 1920368, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/j1Nnt.jpg?s=128&g=1", "display_name": "Micah", "link": "https://stackoverflow.com/users/1920368/micah"}, "edited": false, "score": 0, "creation_date": 1547616412, "post_id": 54210854, "comment_id": 95247763, "body": "thank you found this <a href=\"https://github.com/Microsoft/TypeScript/issues/2552\" rel=\"nofollow noreferrer\">github.com/Microsoft/TypeScript/issues/2552</a>"}], "tags": [], "owner": {"reputation": 116, "user_id": 8278213, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0bde3e9f49bf72dce3bd3082931081c1?s=128&d=identicon&r=PG&f=1", "display_name": "Trace", "link": "https://stackoverflow.com/users/8278213/trace"}, "is_accepted": true, "score": 3, "last_activity_date": 1547616043, "creation_date": 1547616043, "answer_id": 54210854, "question_id": 54210676, "link": "https://stackoverflow.com/questions/54210676/typescript-error-or-just-typescript-checking-is-not-perfect/54210854#54210854", "title": "Typescript Error? or just typescript checking is not perfect?", "body": "<p>A class must be defined before you can use it as a type.</p>\n\n<p>Also, in your third example you are attempting to use a constant as a type. This won't work as A does not have a class definition and therefore cannot be declared as a type. Read up on Typescripts docs on class and type definitions for a more detailed example.</p>\n"}], "owner": {"reputation": 3511, "user_id": 1920368, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/j1Nnt.jpg?s=128&g=1", "display_name": "Micah", "link": "https://stackoverflow.com/users/1920368/micah"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 32, "favorite_count": 1, "accepted_answer_id": 54210854, "answer_count": 1, "score": 0, "last_activity_date": 1547616043, "creation_date": 1547614711, "question_id": 54210676, "link": "https://stackoverflow.com/questions/54210676/typescript-error-or-just-typescript-checking-is-not-perfect", "title": "Typescript Error? or just typescript checking is not perfect?", "body": "<p>I recently started to write typescript but have years experience with JS.</p>\n\n<hr>\n\n<p><strong>Example 1</strong></p>\n\n<p>Then while development I found that</p>\n\n<pre><code>const A : B = class B {}\n</code></pre>\n\n<p>Above will throw warning of \"Cannot fine name'B'\".</p>\n\n<p>However, this will not.</p>\n\n<pre><code>class B {}\n\nconst A : B = B ;\n</code></pre>\n\n<p><strong>Example 2</strong></p>\n\n<p>The other example is</p>\n\n<pre><code>class B {}\n\nconst A : B = B ;\n\nconst C : A = A ;\n</code></pre>\n\n<p>This will throw warning of \"Cannot fine name'A'\"</p>\n\n<hr>\n\n<p>The result, tsc checking seems like only can recognize anything start from \"class\".</p>\n\n<p>In JS perspective there is nothing wrong. Even compile with all of them will work....</p>\n\n<p>So my question is, I am thinking this is just the tsc checking not good enough...., however, if I bypass this will lose the meaning of type checking, therefore I can only compromise my writing style probably need to drop it down.</p>\n\n<p>Can you provide me some advise if I am wrong? or if there another reason for the error?</p>\n"}, {"tags": ["javascript", "angular", "typescript", "angular6"], "answers": [{"tags": [], "owner": {"reputation": 121, "user_id": 1736863, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/22939fc70ffc9614f31745b45980a591?s=128&d=identicon&r=PG", "display_name": "Rahul Dhamecha", "link": "https://stackoverflow.com/users/1736863/rahul-dhamecha"}, "is_accepted": false, "score": 1, "last_activity_date": 1547622058, "creation_date": 1547622058, "answer_id": 54211857, "question_id": 54210662, "link": "https://stackoverflow.com/questions/54210662/file-toggle-js-isnt-working-in-angular-6/54211857#54211857", "title": "File toggle js isn&#39;t working in angular 6", "body": "<p>Use EventEmitter for toggle then.\nsomething like below.</p>\n\n<p><strong>appchild.component.ts</strong></p>\n\n<pre><code>import { Component, Input, EventEmitter, Output } from '@angular/core';\n\n@Component({\n  selector: 'app-child',\n  template: `&lt;button class='btn btn-primary' (click)=\"handleclick()\"&gt;Click me&lt;/button&gt; `\n})\n\nexport class AppChildComponent {\n  handleclick() {\n    // Add toggle code here or set the flag to show/hide\n  }\n}\n</code></pre>\n"}], "owner": {"reputation": 31, "user_id": 4667898, "user_type": "registered", "profile_image": "https://graph.facebook.com/558096817663676/picture?type=large", "display_name": "DangKhoa Yesterday", "link": "https://stackoverflow.com/users/4667898/dangkhoa-yesterday"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 47, "favorite_count": 1, "answer_count": 1, "score": 2, "last_activity_date": 1547622058, "creation_date": 1547614562, "last_edit_date": 1547621361, "question_id": 54210662, "link": "https://stackoverflow.com/questions/54210662/file-toggle-js-isnt-working-in-angular-6", "title": "File toggle js isn&#39;t working in angular 6", "body": "<p>I using file toggle.js in theme <a href=\"https://urban.nyasha.me/html/\" rel=\"nofollow noreferrer\">Urban theme</a></p>\n\n<p>In html chatbox <a href=\"https://i.stack.imgur.com/uCvXD.png\" rel=\"nofollow noreferrer\">img</a> file toggle.js hard code => It's working good.\nBut I using code angular 6 => toggle.js not working</p>\n\n<p>Description: When I click a username then show chatbox</p>\n\n<p>This is my code(I using hardcode &amp;&amp; code angular 6):</p>\n\n<pre><code>&lt;a *ngFor=\"let item of data;\" href=\"javascript:;\"&gt; =&gt; not working\n            &lt;span class=\"status-online\"&gt;&lt;/span&gt;\n            &lt;span&gt;{{item.Username}}&lt;/span&gt;\n          &lt;/a&gt;\n          &lt;a href=\"javascript:;\"&gt; =&gt; hardcode working\n            &lt;span class=\"status-online\"&gt;&lt;/span&gt;\n            &lt;span&gt;Peter&lt;/span&gt;\n          &lt;/a&gt;\n</code></pre>\n\n<p>Please help me, thanks</p>\n"}, {"tags": ["typescript", "destructuring"], "comments": [{"owner": {"reputation": 48290, "user_id": 209259, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/bSPBw.jpg?s=128&g=1", "display_name": "Erik Philips", "link": "https://stackoverflow.com/users/209259/erik-philips"}, "edited": false, "score": 0, "creation_date": 1547671816, "post_id": 54210528, "comment_id": 95276140, "body": "Sadly as of this question, typescript requires a keyword <code>const</code>, <code>let</code> or <code>var</code> for this feature."}], "answers": [{"comments": [{"owner": {"reputation": 366, "user_id": 4614867, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/yFfs7.jpg?s=128&g=1", "display_name": "StragaSevera", "link": "https://stackoverflow.com/users/4614867/stragasevera"}, "edited": false, "score": 1, "creation_date": 1547638040, "post_id": 54212236, "comment_id": 95257654, "body": "If I use let just before destructurising, then variables will be if-block scoped, and I need to use them outside of if block."}], "tags": [], "owner": {"reputation": 131, "user_id": 10611836, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-HhNoCFJ803s/AAAAAAAAAAI/AAAAAAAAAAA/ABtNlbAXJpr-jDsvmXVw0tx4PHId84zrlw/mo/photo.jpg?sz=128", "display_name": "NoLogig", "link": "https://stackoverflow.com/users/10611836/nologig"}, "is_accepted": false, "score": 0, "last_activity_date": 1547623842, "creation_date": 1547623842, "answer_id": 54212236, "question_id": 54210528, "link": "https://stackoverflow.com/questions/54210528/destructuring-with-function-overloading/54212236#54212236", "title": "Destructuring with function overloading", "body": "<p>There is an <code>let</code> missing before you destructurise.</p>\n\n<pre><code>   let { x, y } = a as Coords;\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 366, "user_id": 4614867, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/yFfs7.jpg?s=128&g=1", "display_name": "StragaSevera", "link": "https://stackoverflow.com/users/4614867/stragasevera"}, "edited": false, "score": 2, "creation_date": 1547638134, "post_id": 54212749, "comment_id": 95257708, "body": "And if I do not want to use (not-recommended by style guides) var? I hope that there is another way."}, {"owner": {"reputation": 301, "user_id": 6462742, "user_type": "registered", "accept_rate": 50, "profile_image": "https://lh6.googleusercontent.com/-Dq8FcAEXigc/AAAAAAAAAAI/AAAAAAAAABU/JDkLzRkN-8M/photo.jpg?sz=128", "display_name": "Omprakash Sharma", "link": "https://stackoverflow.com/users/6462742/omprakash-sharma"}, "reply_to_user": {"reputation": 366, "user_id": 4614867, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/yFfs7.jpg?s=128&g=1", "display_name": "StragaSevera", "link": "https://stackoverflow.com/users/4614867/stragasevera"}, "edited": false, "score": 0, "creation_date": 1547638827, "post_id": 54212749, "comment_id": 95258152, "body": "yes can be another approach, you are missing destructing declaration."}, {"owner": {"reputation": 366, "user_id": 4614867, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/yFfs7.jpg?s=128&g=1", "display_name": "StragaSevera", "link": "https://stackoverflow.com/users/4614867/stragasevera"}, "edited": false, "score": 0, "creation_date": 1547638990, "post_id": 54212749, "comment_id": 95258260, "body": "Could you please share an example of this?"}, {"owner": {"reputation": 301, "user_id": 6462742, "user_type": "registered", "accept_rate": 50, "profile_image": "https://lh6.googleusercontent.com/-Dq8FcAEXigc/AAAAAAAAAAI/AAAAAAAAABU/JDkLzRkN-8M/photo.jpg?sz=128", "display_name": "Omprakash Sharma", "link": "https://stackoverflow.com/users/6462742/omprakash-sharma"}, "reply_to_user": {"reputation": 366, "user_id": 4614867, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/yFfs7.jpg?s=128&g=1", "display_name": "StragaSevera", "link": "https://stackoverflow.com/users/4614867/stragasevera"}, "edited": false, "score": 0, "creation_date": 1547640929, "post_id": 54212749, "comment_id": 95259368, "body": "declare an object globally and can be use anywhere inside. see the answer i modified this."}], "tags": [], "owner": {"reputation": 301, "user_id": 6462742, "user_type": "registered", "accept_rate": 50, "profile_image": "https://lh6.googleusercontent.com/-Dq8FcAEXigc/AAAAAAAAAAI/AAAAAAAAABU/JDkLzRkN-8M/photo.jpg?sz=128", "display_name": "Omprakash Sharma", "link": "https://stackoverflow.com/users/6462742/omprakash-sharma"}, "is_accepted": false, "score": 2, "last_activity_date": 1547641126, "last_edit_date": 1547641126, "creation_date": 1547626431, "answer_id": 54212749, "question_id": 54210528, "link": "https://stackoverflow.com/questions/54210528/destructuring-with-function-overloading/54212749#54212749", "title": "Destructuring with function overloading", "body": "<pre><code>need to destructuring declaration and to access global scope use var instead of let.\n\npublic getNeighbours(coords: Coords): Coords[];\npublic getNeighbours(x: number, y: number): Coords[];\n\npublic getNeighbours(a: number | Coords, b?: number): Coords[] {\n// let x: number;\n// let y: number;\nif (typeof a === 'object') {\n   var {x, y} = a as Coords; // A destructuring declaration must have an initializer\n   x = x;\n   y = y;\n   console.log('inside destructuring: ', x, y);\n } else {\n    x = a;\n    y = b as number;\n }\n console.log('outside destructuring: ', x,y);\n const result = [{ x: x - 1, y }, { x: x + 1, y }, { x, y: y - 1 }, { x, y: y + 1 }];\n return result;\n}\n</code></pre>\n\n<p>check here <a href=\"https://stackblitz.com/edit/angular-rxyuan?embed=1&amp;file=src/app/app.component.ts\" rel=\"nofollow noreferrer\">StackBlitz example</a></p>\n\n<p>can be avoid var and declare object as globally..</p>\n\n<pre><code>public getNeighbours(coords: Coords): Coords[];\npublic getNeighbours(x: number, y: number): Coords[];\n\npublic getNeighbours(a: number | Coords, b?: number): Coords[] {\n // let x: number;\n // let y: number;\n let globalStorage: any = {};\n if (typeof a === 'object') {\n   let {x, y} = a as Coords; // A destructuring declaration must have an initializer\n   globalStorage.x = x;\n   globalStorage.y = y;\n   console.log('inside destructuring: ', x, y);\n  } else {\n    globalStorage.x = a;\n    globalStorage.y = b as number;\n  }\n console.log('outside destructuring: ', globalStorage);\n const result = [{ x: globalStorage.x - 1, y:globalStorage.y }, { x: globalStorage.x + 1, y:globalStorage.y }, { x: globalStorage.x, y: globalStorage.y - 1 }, { x: globalStorage.x, y: globalStorage.y + 1 }];\n return result;\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 48290, "user_id": 209259, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/bSPBw.jpg?s=128&g=1", "display_name": "Erik Philips", "link": "https://stackoverflow.com/users/209259/erik-philips"}, "is_accepted": true, "score": 1, "last_activity_date": 1547672233, "creation_date": 1547672233, "answer_id": 54225252, "question_id": 54210528, "link": "https://stackoverflow.com/questions/54210528/destructuring-with-function-overloading/54225252#54225252", "title": "Destructuring with function overloading", "body": "<p>Seems a bit complicated, why not just reverse the logic, seems more readable to me.</p>\n\n<p><a href=\"https://codepen.io/erikphilips/pen/bOJMPd?editors=0012\" rel=\"nofollow noreferrer\">CodePen.IO Example</a></p>\n\n<pre><code>console.clear();\nclass Foo\n{\n  getNeighbours(coords: ICoords): ICoords[]; \n  getNeighbours(x: number, y: number) : ICoords[];\n  getNeighbours(coords: number | ICoords, y?: number) : ICoords[]{\n    if (typeof coords !==\"object\") {\n      coords = { x: coords, y: y};\n    }\n    const result = [\n      { x: coords.x - 1, y: coords.y }, \n      { x: coords.x + 1, y: coords.y }, \n      { x: coords.x, y: coords.y - 1 }, \n      { x: coords.x, y: coords.y + 1 }];\n    return result;\n  }\n}\n\ninterface ICoords {\n  x: number;\n  y: number;\n}\n\nlet foo = new Foo();\n//debugger;\nconsole.log(foo.getNeighbours(1,1));\nconsole.log(foo.getNeighbours({x:1,y:1}));\n</code></pre>\n"}], "owner": {"reputation": 366, "user_id": 4614867, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/yFfs7.jpg?s=128&g=1", "display_name": "StragaSevera", "link": "https://stackoverflow.com/users/4614867/stragasevera"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 237, "favorite_count": 0, "accepted_answer_id": 54225252, "answer_count": 3, "score": 2, "last_activity_date": 1547672233, "creation_date": 1547613611, "last_edit_date": 1547614561, "question_id": 54210528, "link": "https://stackoverflow.com/questions/54210528/destructuring-with-function-overloading", "title": "Destructuring with function overloading", "body": "<p>I'm trying to make a function which takes either a pair of coords or an object with <code>x</code> and <code>y</code> properties and returns a list of neighbors. But for some reason I cannot destructurise the object, even when I checked its type:</p>\n\n<pre><code>interface Coords {\n  x: number;\n  y: number;\n}\n\npublic getNeighbours(coords: Coords): Coords[];\npublic getNeighbours(x: number, y: number): Coords[];\npublic getNeighbours(a: number | Coords, b?: number): Coords[] {\n  let x: number;\n  let y: number;\n  if (typeof a === 'object') {\n    { x, y } = a as Coords; // failing\n  } else {\n    x = a;\n    y = b as number;\n  }\n  const result = [{ x: x - 1, y }, { x: x + 1, y }, { x, y: y - 1 }, { x, y: y + 1 }];\n  return result;\n}\n</code></pre>\n\n<p>Of course, I can simply use <code>x = a.x; y = a.y;</code>, but I'm interested - how can I make this destructuring work?</p>\n"}, {"tags": ["javascript", "arrays", "json", "typescript", "object"], "comments": [{"owner": {"reputation": 682, "user_id": 1442432, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d03b9d49431da72c96a55db920a229c4?s=128&d=identicon&r=PG", "display_name": "Leroy Stav", "link": "https://stackoverflow.com/users/1442432/leroy-stav"}, "edited": false, "score": 4, "creation_date": 1547612058, "post_id": 54210325, "comment_id": 95246718, "body": "Stackoverflow helps those who help themselves... what have you <i>tried</i>?"}, {"owner": {"reputation": 12499, "user_id": 2630817, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/zLW4a.png?s=128&g=1", "display_name": "Just code", "link": "https://stackoverflow.com/users/2630817/just-code"}, "edited": false, "score": 0, "creation_date": 1547612571, "post_id": 54210325, "comment_id": 95246840, "body": "Also, your json is invalid"}], "answers": [{"tags": [], "owner": {"reputation": 4214, "user_id": 3701393, "user_type": "registered", "profile_image": "https://graph.facebook.com/100002574192582/picture?type=large", "display_name": "holydragon", "link": "https://stackoverflow.com/users/3701393/holydragon"}, "is_accepted": true, "score": 2, "last_activity_date": 1547613038, "creation_date": 1547613038, "answer_id": 54210442, "question_id": 54210325, "link": "https://stackoverflow.com/questions/54210325/create-json-object-from-one-to-another-with-little-tweak/54210442#54210442", "title": "Create JSON object from one to another with little tweak", "body": "<p>There are many ways to do it. Here is one.</p>\n\n<p>Iterate through your <code>field2</code> array and use <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/delete\" rel=\"nofollow noreferrer\">delete</a> to remove the desired object properties.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>let data = {\r\n  \"id\": 1,\r\n  \"field1\": \"property1\",\r\n  \"field2\": [{\r\n      \"a\": \"A\",\r\n      \"b\": \"B\",\r\n      \"c\": \"C\",\r\n      \"d\": \"D\"\r\n    },\r\n    {\r\n      \"a\": \"E\",\r\n      \"b\": \"F\",\r\n      \"c\": \"G\",\r\n      \"d\": \"H\"\r\n    },\r\n    {\r\n      \"a\": \"I\",\r\n      \"b\": \"J\",\r\n      \"c\": \"K\",\r\n      \"d\": \"L\"\r\n    }\r\n  ]\r\n}\r\ndata.field2.forEach(obj =&gt; {\r\n  delete obj.c\r\n  delete obj.d\r\n})\r\nconsole.log(data)</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 1159, "user_id": 2158478, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/aab8eb00b849fd0797099e958c0c8494?s=128&d=identicon&r=PG", "display_name": "bunny", "link": "https://stackoverflow.com/users/2158478/bunny"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 29, "favorite_count": 0, "accepted_answer_id": 54210442, "answer_count": 1, "score": 0, "last_activity_date": 1547613038, "creation_date": 1547611982, "last_edit_date": 1547612996, "question_id": 54210325, "link": "https://stackoverflow.com/questions/54210325/create-json-object-from-one-to-another-with-little-tweak", "title": "Create JSON object from one to another with little tweak", "body": "<p>How to convert the below 1st JSON object to the 2nd one in TypeScript/JavaScript? The second one does not have field \"c\" and \"d\" in field2. Thanks!</p>\n\n<p>First Object:</p>\n\n<pre><code> {\n    \"id\" : 1,\n    \"field1\": \"property1\" \n    \"field2\": [ \n                    {\n                        \"a\": \"A\",\n                        \"b\": \"B\",\n                        \"c\": \"C\",\n                        \"d\": \"D\"\n                    },\n                    {\n                        \"a\": \"E\",\n                        \"b\": \"F\",\n                        \"c\": \"G\",\n                        \"d\": \"H\"\n                    },\n                    {\n                        \"a\": \"I\",\n                        \"b\": \"J\",\n                        \"c\": \"K\",\n                        \"d\": \"L\"\n                    }   \n              ]\n}\n</code></pre>\n\n<p>Second Object:</p>\n\n<pre><code>{\n    \"id\" : 1,\n    \"field1\": \"property1\" \n    \"field2\": [ \n                    {\n                        \"a\": \"A\",\n                        \"b\": \"B\",\n                    },\n                    {\n                        \"a\": \"E\",\n                        \"b\": \"F\",\n                    },\n                    {\n                        \"a\": \"I\",\n                        \"b\": \"J\"\n                    }   \n              ]\n}\n</code></pre>\n"}, {"tags": ["javascript", "reactjs", "typescript", "ecmascript-6"], "comments": [{"owner": {"reputation": 39638, "user_id": 8690857, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-47_HcdolAr0/AAAAAAAAAAI/AAAAAAAAB30/lD6xAXOWlu4/photo.jpg?sz=128", "display_name": "Drew Reese", "link": "https://stackoverflow.com/users/8690857/drew-reese"}, "edited": false, "score": 1, "creation_date": 1547608596, "post_id": 54209898, "comment_id": 95246033, "body": "React rerenders on state and prop changes. <code>appendSpan</code> updates neither.  You probably want to pass your callback to your Heroes component so the app can update something and pass the updated something in as a prop to be rendered."}, {"owner": {"reputation": 1268, "user_id": 8577350, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Em8st.jpg?s=128&g=1", "display_name": "Null isTrue", "link": "https://stackoverflow.com/users/8577350/null-istrue"}, "reply_to_user": {"reputation": 39638, "user_id": 8690857, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-47_HcdolAr0/AAAAAAAAAAI/AAAAAAAAB30/lD6xAXOWlu4/photo.jpg?sz=128", "display_name": "Drew Reese", "link": "https://stackoverflow.com/users/8690857/drew-reese"}, "edited": false, "score": 0, "creation_date": 1547608700, "post_id": 54209898, "comment_id": 95246053, "body": "I&#39;m still green on the React land, cld you please provide me an example om how to solve the above?"}, {"owner": {"reputation": 4750, "user_id": 2387934, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5cd1ea5e7c966767f05014b5e4de9fe1?s=128&d=identicon&r=PG", "display_name": "Ashley Brown", "link": "https://stackoverflow.com/users/2387934/ashley-brown"}, "edited": false, "score": 1, "creation_date": 1547608704, "post_id": 54209898, "comment_id": 95246054, "body": "the function returns a value sure, but what is it supposed to do with that value? insert it into the DOM somewhere?"}], "answers": [{"comments": [{"owner": {"reputation": 1268, "user_id": 8577350, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Em8st.jpg?s=128&g=1", "display_name": "Null isTrue", "link": "https://stackoverflow.com/users/8577350/null-istrue"}, "edited": false, "score": 0, "creation_date": 1547608814, "post_id": 54209935, "comment_id": 95246070, "body": "could you still provide me with an example on how to learn and implement this properly?"}], "tags": [], "owner": {"reputation": 862, "user_id": 10511386, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aafb7547d8d6fa0eaf535064a898b2f8?s=128&d=identicon&r=PG&f=1", "display_name": "Nikko Khresna", "link": "https://stackoverflow.com/users/10511386/nikko-khresna"}, "is_accepted": false, "score": 0, "last_activity_date": 1547608695, "creation_date": 1547608695, "answer_id": 54209935, "question_id": 54209898, "link": "https://stackoverflow.com/questions/54209898/react-component-not-updating-after-onclick-event/54209935#54209935", "title": "React Component Not Updating after onClick event", "body": "<p>Because your <code>.appendSpan()</code> returns react dom, but it returns in the scope of onClick event. </p>\n\n<p>When you say <code>&lt;p&gt;Are they both heroes? {appendSpan()}&lt;/p&gt;</code>, you are actually tell the app to append the span inside <code>&lt;p&gt;</code> tag...</p>\n\n<p>But <code>onClick={appendSpan}</code>, where do you tell it to append? You didnt tell where to append. So it never makes it to be appended in the DOM tree</p>\n"}, {"comments": [{"owner": {"reputation": 1268, "user_id": 8577350, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Em8st.jpg?s=128&g=1", "display_name": "Null isTrue", "link": "https://stackoverflow.com/users/8577350/null-istrue"}, "edited": false, "score": 0, "creation_date": 1547609224, "post_id": 54209959, "comment_id": 95246140, "body": "The only issue for me is that both <code>const</code> thor and hulk needs to exist within the child component. How would I then compare their equality from the parent component via state passed down as props? Could you please provide me an example?"}, {"owner": {"reputation": 1268, "user_id": 8577350, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Em8st.jpg?s=128&g=1", "display_name": "Null isTrue", "link": "https://stackoverflow.com/users/8577350/null-istrue"}, "edited": false, "score": 0, "creation_date": 1547611102, "post_id": 54209959, "comment_id": 95246502, "body": "Ferreira Bastos Brag,  thank you very much. Forte abra&#231;o!"}, {"owner": {"reputation": 827, "user_id": 1351652, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/6a5a3c6c5abfaf0fb9615fa058e40abd?s=128&d=identicon&r=PG", "display_name": "Bernardo Ferreira Bastos Braga", "link": "https://stackoverflow.com/users/1351652/bernardo-ferreira-bastos-braga"}, "reply_to_user": {"reputation": 1268, "user_id": 8577350, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Em8st.jpg?s=128&g=1", "display_name": "Null isTrue", "link": "https://stackoverflow.com/users/8577350/null-istrue"}, "edited": false, "score": 0, "creation_date": 1547611370, "post_id": 54209959, "comment_id": 95246556, "body": "Tranquilo, se puder aceitar minha resposta ajuda \ud83d\ude09"}, {"owner": {"reputation": 1268, "user_id": 8577350, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Em8st.jpg?s=128&g=1", "display_name": "Null isTrue", "link": "https://stackoverflow.com/users/8577350/null-istrue"}, "edited": false, "score": 0, "creation_date": 1547612028, "post_id": 54209959, "comment_id": 95246707, "body": "Tive que aceitar a do @Van pq ele postou primeiro. Valeu mais uma vez \ud83d\ude4c"}], "tags": [], "owner": {"reputation": 827, "user_id": 1351652, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/6a5a3c6c5abfaf0fb9615fa058e40abd?s=128&d=identicon&r=PG", "display_name": "Bernardo Ferreira Bastos Braga", "link": "https://stackoverflow.com/users/1351652/bernardo-ferreira-bastos-braga"}, "is_accepted": false, "score": 0, "last_activity_date": 1547611150, "last_edit_date": 1547611150, "creation_date": 1547608908, "answer_id": 54209959, "question_id": 54209898, "link": "https://stackoverflow.com/questions/54209898/react-component-not-updating-after-onclick-event/54209959#54209959", "title": "React Component Not Updating after onClick event", "body": "<p>The return from appendSpan function needs to be part of what you return in the render function.</p>\n\n<p>You could keep the state on the app component and write a onClick function that changes the state. Pass down the onClick and the state to the Heroes component as props. Depending on the state that you received from props, decide what to render.</p>\n\n<p>React won't \"react\" from class variables, I see you want to keep the state in the class. Try looking for hooks</p>\n\n<p><a href=\"https://codesandbox.io/s/01r3yy2n5v\" rel=\"nofollow noreferrer\"><img src=\"https://codesandbox.io/static/img/play-codesandbox.svg\" alt=\"Edit 01r3yy2n5v\"></a></p>\n"}, {"comments": [{"owner": {"reputation": 1268, "user_id": 8577350, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Em8st.jpg?s=128&g=1", "display_name": "Null isTrue", "link": "https://stackoverflow.com/users/8577350/null-istrue"}, "edited": false, "score": 0, "creation_date": 1547609508, "post_id": 54209987, "comment_id": 95246191, "body": "Thanks a lot for the example. Is a class-based component the only way around this? Could I solve this while still keeping it a functional component?"}, {"owner": {"reputation": 618, "user_id": 5978875, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dc215c75555503884700051a700bfbc1?s=128&d=identicon&r=PG&f=1", "display_name": "Van", "link": "https://stackoverflow.com/users/5978875/van"}, "reply_to_user": {"reputation": 1268, "user_id": 8577350, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Em8st.jpg?s=128&g=1", "display_name": "Null isTrue", "link": "https://stackoverflow.com/users/8577350/null-istrue"}, "edited": false, "score": 0, "creation_date": 1547609782, "post_id": 54209987, "comment_id": 95246250, "body": "@NullisTrue the onClick has to trigger something, either prop/state changes. It might be possible to use functional component for either <code>Heroes</code> or <code>App</code> but not both imho, let me try to tinker around in your sandbox"}, {"owner": {"reputation": 1268, "user_id": 8577350, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Em8st.jpg?s=128&g=1", "display_name": "Null isTrue", "link": "https://stackoverflow.com/users/8577350/null-istrue"}, "edited": false, "score": 0, "creation_date": 1547610254, "post_id": 54209987, "comment_id": 95246331, "body": "would this be possible with Hooks? I&#39;m just wondering but I&#39;m not sure."}, {"owner": {"reputation": 618, "user_id": 5978875, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dc215c75555503884700051a700bfbc1?s=128&d=identicon&r=PG&f=1", "display_name": "Van", "link": "https://stackoverflow.com/users/5978875/van"}, "reply_to_user": {"reputation": 1268, "user_id": 8577350, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Em8st.jpg?s=128&g=1", "display_name": "Null isTrue", "link": "https://stackoverflow.com/users/8577350/null-istrue"}, "edited": false, "score": 0, "creation_date": 1547610793, "post_id": 54209987, "comment_id": 95246433, "body": "@NullisTrue yes, it will be possible with Hooks, updated the answer above"}, {"owner": {"reputation": 1268, "user_id": 8577350, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Em8st.jpg?s=128&g=1", "display_name": "Null isTrue", "link": "https://stackoverflow.com/users/8577350/null-istrue"}, "edited": false, "score": 0, "creation_date": 1547611921, "post_id": 54209987, "comment_id": 95246680, "body": "thank you very much.  You&#39;ve helped and taught me tremendously tonight. I got great things to work and learn this week. I really appreciate your time and help!"}], "tags": [], "owner": {"reputation": 618, "user_id": 5978875, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dc215c75555503884700051a700bfbc1?s=128&d=identicon&r=PG&f=1", "display_name": "Van", "link": "https://stackoverflow.com/users/5978875/van"}, "is_accepted": true, "score": 3, "last_activity_date": 1547611622, "last_edit_date": 1547611622, "creation_date": 1547609193, "answer_id": 54209987, "question_id": 54209898, "link": "https://stackoverflow.com/questions/54209898/react-component-not-updating-after-onclick-event/54209987#54209987", "title": "React Component Not Updating after onClick event", "body": "<p>You can change the <code>Heroes</code> component to a stateful component instead and update the state on click or use <a href=\"https://reactjs.org/docs/hooks-overview.html\" rel=\"nofollow noreferrer\">Hooks</a></p>\n\n<p><strong>Update</strong> for tsx</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>class Heroes extends React.Component &lt;{}, any&gt; {\r\n    // for fututre reasons, these variables must leave within this component\r\n    private thor = \"isHero\";\r\n    private hulk = \"isHero\";\r\n\r\n    constructor(props) {\r\n      super(props);\r\n      this.state = {\r\n        showButton: false\r\n      };\r\n    }\r\n\r\n    appendSpan() {\r\n      // update the state to show the button\r\n      this.setState({\r\n        showButton: true\r\n      });\r\n    }\r\n\r\n    render() {\r\n      const { showButton } = this.state;\r\n      let button = this.thor === this.hulk ? &lt;span&gt; yes &lt;/span&gt; : &lt;span&gt;no&lt;/span &gt; ;\r\n      return ( &lt;p onClick={() =&gt; this.appendSpan()}&gt; Are they both heroes ? \r\n        { showButton ? button : '' } \r\n        &lt;/p&gt;);\r\n      }\r\n}\r\n\r\nfunction App() {\r\n  return ( &lt;div className = \"App\" &gt;\r\n      &lt;Heroes/&gt;\r\n    &lt;/div&gt;\r\n  );\r\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p><strong>Another update</strong> with react <a href=\"https://reactjs.org/docs/hooks-overview.html\" rel=\"nofollow noreferrer\">Hooks</a>, introduced in React v16.8.0-alpha.0</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>// import useState hooks\r\nimport { useState } from 'react';\r\n\r\nconst Heroes: React.SFC&lt;any&gt; = () =&gt; {\r\n  // for fututre reasons, these variables must leave within this component\r\n  const thor = \"isHero\";\r\n  const hulk = \"isHero\";\r\n  \r\n  // declare a new state variable flag and the update function setFlag\r\n  const [flag, setFlag] = useState(false);\r\n  \r\n  let button = thor === hulk ? &lt;span&gt; yes &lt;/span&gt; : &lt;span&gt; no &lt;/span &gt;;\r\n\r\n  return (&lt;p onClick={() =&gt; setFlag(true)}&gt;Are they both heroes?\r\n    {flag ? button : ''}\r\n  &lt;/p&gt;);\r\n};\r\n\r\nfunction App() {\r\n  return (\r\n    &lt;div className=\"App\"&gt;\r\n      &lt;Heroes /&gt;\r\n    &lt;/div&gt;\r\n  );\r\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>created a sandbox <a href=\"https://codesandbox.io/s/625xq2o793\" rel=\"nofollow noreferrer\">here</a> for the implementation with react hooks.</p>\n"}], "owner": {"reputation": 1268, "user_id": 8577350, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Em8st.jpg?s=128&g=1", "display_name": "Null isTrue", "link": "https://stackoverflow.com/users/8577350/null-istrue"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3614, "favorite_count": 0, "accepted_answer_id": 54209987, "answer_count": 3, "score": 1, "last_activity_date": 1547611622, "creation_date": 1547608242, "question_id": 54209898, "link": "https://stackoverflow.com/questions/54209898/react-component-not-updating-after-onclick-event", "title": "React Component Not Updating after onClick event", "body": "<p>I have a functional react-typescript component which receives a click handler that is firing correctly, however, the component does not update after <code>click event</code>.</p>\n\n<p>i.e:\n</p>\n\n<pre><code>// for reasons out of the scope of this question, \n// this component should be functional\n\nconst Heroes: React.SFC&lt;{}&gt; = () =&gt; {\n  // for fututre reasons, these variables must leave within this component\n  const thor = \"isHero\";\n  const hulk = \"isHero\";\n\n  function appendSpan() {\n    console.log(thor === hulk);\n    return thor === hulk ? &lt;span&gt;yes&lt;/span&gt; : &lt;span&gt;no&lt;/span&gt;;\n  }\n\n  return &lt;p onClick={appendSpan}&gt;Are they both heroes?&lt;/p&gt;;\n};\n\nfunction App() {\n  return (\n    &lt;div className=\"App\"&gt;\n      &lt;Heroes /&gt;\n    &lt;/div&gt;\n  );\n}\n\n</code></pre>\n\n<p>If I'd call the method immediately i.e <code>&lt;p&gt;Are they both heroes? {appendSpan()}&lt;/p&gt;</code></p>\n\n<p>The <code>&lt;span&gt;</code> is appended accordingly, However, the same isn't true for the onClick scenario.</p>\n\n<p>Could you please help me understand what I am missing here?</p>\n\n<p>Here's the <a href=\"https://codesandbox.io/s/lpz83843o7\" rel=\"nofollow noreferrer\">code sandbox</a></p>\n"}, {"tags": ["angular", "typescript", "dependency-injection", "angular-module", "angular-dependency-injection"], "comments": [{"owner": {"reputation": 1100, "user_id": 648789, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qqjd1.jpg?s=128&g=1", "display_name": "marckassay", "link": "https://stackoverflow.com/users/648789/marckassay"}, "edited": false, "score": 0, "creation_date": 1562863737, "post_id": 54209879, "comment_id": 100522127, "body": "I have a similar dilemma and I&#39;m curious on how this can be done. Have you considered using a <a href=\"https://angular.io/guide/dependency-injection-providers#factory-providers\" rel=\"nofollow noreferrer\">Factory provider</a> as a solution?"}, {"owner": {"reputation": 1647, "user_id": 2678218, "user_type": "registered", "accept_rate": 20, "profile_image": "https://i.stack.imgur.com/YE23p.jpg?s=128&g=1", "display_name": "Cold Cerberus", "link": "https://stackoverflow.com/users/2678218/cold-cerberus"}, "reply_to_user": {"reputation": 1100, "user_id": 648789, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qqjd1.jpg?s=128&g=1", "display_name": "marckassay", "link": "https://stackoverflow.com/users/648789/marckassay"}, "edited": false, "score": 0, "creation_date": 1563242768, "post_id": 54209879, "comment_id": 100625369, "body": "No I haven&#39;t. I&#39;d appreciate if someone could try it. Thanks for the idea. This post has been few months old and my code for this has been buried deep, lol."}], "owner": {"reputation": 1647, "user_id": 2678218, "user_type": "registered", "accept_rate": 20, "profile_image": "https://i.stack.imgur.com/YE23p.jpg?s=128&g=1", "display_name": "Cold Cerberus", "link": "https://stackoverflow.com/users/2678218/cold-cerberus"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1392, "favorite_count": 2, "answer_count": 0, "score": 6, "last_activity_date": 1547616942, "creation_date": 1547608128, "last_edit_date": 1547616942, "question_id": 54209879, "link": "https://stackoverflow.com/questions/54209879/how-to-set-config-or-usevalue-for-imported-modules-from-a-component", "title": "How to set config (or useValue) for imported modules from a component?", "body": "<p>We're well aware that there are various ways of setting config for imported modules. We have '.forRoot()', 'useValue', 'useClass' and such to be used in the importing module.</p>\n\n<p>Say for example, we want to use <a href=\"https://www.npmjs.com/package/ng2-currency-mask\" rel=\"nofollow noreferrer\">ng2-currency-mask</a>. Taking directly from its example usage in the documentation, we can set the configuration for <code>CurrencyMaskModule</code> by doing this in the importing module (AppModule in this case):</p>\n\n<pre><code>export const CustomCurrencyMaskConfig: CurrencyMaskConfig = {\n    align: \"right\",\n    allowNegative: true,\n    decimal: \",\",\n    precision: 2,\n    prefix: \"Module$ \",\n    suffix: \"\",\n    thousands: \".\"\n};\n\n@NgModule({\n    imports: [\n        ...\n        CurrencyMaskModule\n    ],\n    declarations: [...],\n    providers: [\n        { provide: CURRENCY_MASK_CONFIG, useValue: CustomCurrencyMaskConfig }\n    ],\n    bootstrap: [AppComponent]\n})\nexport class AppModule {}\n</code></pre>\n\n<p>However, if you want to set the config/<code>useValue</code> dynamically (e.g. a Settings page), we have to change it from within a component. Now I tested doing so with the following code written directly in the <code>AppComponent</code>:</p>\n\n<pre><code>import { Component, OnInit, Inject } from '@angular/core';\nimport { CURRENCY_MASK_CONFIG, CurrencyMaskConfig } from 'ng2-currency-mask/src/currency-mask.config';\n\n@Component({\n  selector: 'app-root',\n  templateUrl: './app.component.html',\n  styleUrls: ['./app.component.scss']\n})\nexport class AppComponent implements OnInit {\n  title = 'Testing Config App';\n\n  constructor(\n    @Inject(CURRENCY_MASK_CONFIG) ng2CurrencyMaskConfig: CurrencyMaskConfig,\n  ) {\n    // test\n    ng2CurrencyMaskConfig =  {\n      align: 'right',\n      allowNegative: false,\n      decimal: '.',\n      precision: 5,\n      prefix: 'Component$$$ ',\n      suffix: '',\n      thousands: ','\n    };\n  }\n\n  ngOnInit() {\n  }\n}\n</code></pre>\n\n<p>Unfortunately, the change did not reflect to the components using <code>ng2-currency-mask</code> and the config set from the <code>AppModule</code> (the one with \"Module$ \" as <code>prefix</code>) is still what is working.</p>\n\n<p>How do you successfully override/set a module's config from within a component?</p>\n\n<p><strong>UPDATE:</strong></p>\n\n<p>I have tried using <code>ReflectiveInjector</code>'s <code>resolve</code> and <code>fromResolvedProviders</code> methods which doesn't also work:</p>\n\n<pre><code>import { Component, OnInit, ReflectiveInjector, Injector } from '@angular/core';\nimport { CURRENCY_MASK_CONFIG, CurrencyMaskConfig } from 'ng2-currency-mask/src/currency-mask.config';\n\n@Component({\n  selector: 'app-root',\n  templateUrl: './app.component.html',\n  styleUrls: ['./app.component.scss']\n})\nexport class AppComponent implements OnInit {\n  title = 'Testing Config App';\n\n  constructor(\n    private injector: Injector,\n  ) {\n  }\n\n  ngOnInit() {\n     // test\n     const ng2CurrencyMaskConfig: CurrencyMaskConfig =  {\n      align: 'right',\n      allowNegative: false,\n      decimal: '.',\n      precision: 3,\n      prefix: 'TESTR$ ',\n      suffix: '',\n      thousands: ','\n    };\n\n    const providers = ReflectiveInjector.resolve([{ provide: CURRENCY_MASK_CONFIG, useValue: ng2CurrencyMaskConfig }]);\n    ReflectiveInjector.fromResolvedProviders(providers, this.injector);\n  }\n}\n</code></pre>\n\n<p>And using Static <code>Injector</code> doesn't work:</p>\n\n<pre><code>Injector.create(\n[\n    { \n        provide: CURRENCY_MASK_CONFIG, \n        useValue: ng2CurrencyMaskConfig \n    }\n], \nthis.injector);\n</code></pre>\n\n<p>Side Note:\nI'm well aware of an alternative solution for this specific module (<code>CurrencyMaskModule</code>) where we can actually just make a provider with a mutable property that will hold the <code>CurrencyMaskConfig</code> value. But this will leave me forced to change all input fields to add an attribute <code>options</code> to all the input fields using the <code>currencyMask</code> directive. In other words, I will be inserting something like <code>[options]=\"myConfigProvider.currencyMaskConfig\"</code> in all those inputs needing it. I'm hoping to see a better/ more elegant way of doing this.</p>\n"}, {"tags": ["reactjs", "typescript", "jsx", "mobx", "mobx-react"], "answers": [{"comments": [{"owner": {"reputation": 157, "user_id": 10210374, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4b2177c793e44c3ca7dca46c97b4c74a?s=128&d=identicon&r=PG&f=1", "display_name": "mdb", "link": "https://stackoverflow.com/users/10210374/mdb"}, "edited": false, "score": 0, "creation_date": 1547601052, "post_id": 54209041, "comment_id": 95244537, "body": "Thank you, I&#39;ll check out the links!"}], "tags": [], "owner": {"reputation": 938, "user_id": 2450556, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/V7kiS.jpg?s=128&g=1", "display_name": "Ashutosh", "link": "https://stackoverflow.com/users/2450556/ashutosh"}, "is_accepted": true, "score": 1, "last_activity_date": 1547600580, "creation_date": 1547600580, "answer_id": 54209041, "question_id": 54208732, "link": "https://stackoverflow.com/questions/54208732/strict-null-check-typescript-error-on-a-jsx-element/54209041#54209041", "title": "Strict Null Check Typescript Error on a JSX Element", "body": "<p>If the intention is to just remove the error, add ! after the variable which you know is not null to quell this error.This tells the Typescript that the object is not null.</p>\n\n<p>e.g.</p>\n\n<pre><code>&lt;div\n  style={{backgroundColor: css!.primaryColor || '#707070'}}\n/&gt;\n</code></pre>\n\n<p>If you wish to learn how to use inline styles with Typescript, see the following links-</p>\n\n<ol>\n<li><a href=\"https://medium.com/@zvona/react-native-and-typescript-meets-styles-b727ecf7e677\" rel=\"nofollow noreferrer\">https://medium.com/@zvona/react-native-and-typescript-meets-styles-b727ecf7e677</a></li>\n<li><a href=\"https://blog.blueberry.io/how-we-handle-inline-styles-with-typescript-and-react-2c257e039f2b\" rel=\"nofollow noreferrer\">https://blog.blueberry.io/how-we-handle-inline-styles-with-typescript-and-react-2c257e039f2b</a></li>\n</ol>\n"}], "owner": {"reputation": 157, "user_id": 10210374, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4b2177c793e44c3ca7dca46c97b4c74a?s=128&d=identicon&r=PG&f=1", "display_name": "mdb", "link": "https://stackoverflow.com/users/10210374/mdb"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1261, "favorite_count": 0, "accepted_answer_id": 54209041, "answer_count": 1, "score": 0, "last_activity_date": 1547600580, "creation_date": 1547598154, "question_id": 54208732, "link": "https://stackoverflow.com/questions/54208732/strict-null-check-typescript-error-on-a-jsx-element", "title": "Strict Null Check Typescript Error on a JSX Element", "body": "<p>I am creating a React component with Typescript which has a div JSX element with a 'style' attribute. One of the values is background color, and I'm pulling that value from a Mobx State Tree, like this:</p>\n\n<p><code>style={{backgroundColor: css.primaryColor}}</code></p>\n\n<p>However, this creates an error that the value might be undefined.</p>\n\n<p>Normally when calling from the Mobx tree in TS, I set the path equal to a variable, then add an if statement to satisfy this null check, like this:</p>\n\n<pre><code>const { store } = this.props\nconst currentBot = store.bots.current\nif (currentBot) {\n    do something\n}\n</code></pre>\n\n<p>So in the render function, I tried creating a variable called css, from which I can reference the different keys on the object (primaryColor in the above example). This didn't work, because css could still be undefined, so I also tried adding an OR operator with a default hexcode.</p>\n\n<pre><code>const { store } = this.props\nconst currentBot = store.bots.current\nlet css\nif (currentBot) {\n  css = currentBot.theme.css\n}\n\n...\n\n&lt;div\n  style={{backgroundColor: css.primaryColor || '#707070'}}\n/&gt;\n</code></pre>\n\n<p>I'm still getting 'Object is possibly undefined' on the 'css' in the style attribute in VSCode.</p>\n\n<p>How can I satisfy that null check? Do I need to put the entire return statement inside of an if statement?</p>\n"}, {"tags": ["typescript"], "comments": [{"owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "edited": false, "score": 0, "creation_date": 1547596683, "post_id": 54208512, "comment_id": 95243621, "body": "Not really sure where <code>pets</code> and <code>parents</code> should come from.."}, {"owner": {"reputation": 3766, "user_id": 342519, "user_type": "registered", "accept_rate": 94, "profile_image": "https://graph.facebook.com/1410347/picture?type=large", "display_name": "Wade Tandy", "link": "https://stackoverflow.com/users/342519/wade-tandy"}, "reply_to_user": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "edited": false, "score": 0, "creation_date": 1547597306, "post_id": 54208512, "comment_id": 95243767, "body": "Any of the keys with nested objects are entirely user defined, so the types should ideally not have to predefine them to take advantage.  Basically any key that isn&#39;t in the initial options list of the type interface should be of type <code>RecursiveOptions&lt;Type&gt;</code>."}, {"owner": {"reputation": 48290, "user_id": 209259, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/bSPBw.jpg?s=128&g=1", "display_name": "Erik Philips", "link": "https://stackoverflow.com/users/209259/erik-philips"}, "edited": false, "score": 0, "creation_date": 1547598158, "post_id": 54208512, "comment_id": 95243942, "body": "I guess I&#39;m confused as why there would be <i>seemly random properties</i> thrown into the mix.  I believe the point of a strongly-typed language is to throw errors on the exceptions you&#39;ve noted.  If you need user-defined options, they need to be separate from inner works of the class itself."}, {"owner": {"reputation": 3766, "user_id": 342519, "user_type": "registered", "accept_rate": 94, "profile_image": "https://graph.facebook.com/1410347/picture?type=large", "display_name": "Wade Tandy", "link": "https://stackoverflow.com/users/342519/wade-tandy"}, "edited": false, "score": 0, "creation_date": 1547622295, "post_id": 54208512, "comment_id": 95249690, "body": "This is for an API client library which takes arbitrary nested payloads like the one I describe, so to make the library generic enough to support the apis, this is necessary."}], "answers": [{"tags": [], "owner": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "is_accepted": true, "score": 2, "last_activity_date": 1547737060, "last_edit_date": 1547737060, "creation_date": 1547609779, "answer_id": 54210061, "question_id": 54208512, "link": "https://stackoverflow.com/questions/54208512/creating-a-recursive-options-type/54210061#54210061", "title": "Creating a recursive options type", "body": "<p>TypeScript doesn't have a natural representation for \"any key except for the following\".  That would require genuine <a href=\"https://github.com/Microsoft/TypeScript/issues/4183\" rel=\"nofollow noreferrer\">subtraction types</a> which TypeScript doesn't have.  So there's no way to represent <code>RecursiveOptions&lt;FilterOptions&gt;</code> as a concrete type.</p>\n\n<p>The closest I can see to giving you the behavior you want is to make a type function which <em>verifies</em> that a type <code>R</code> matches what you want <code>RecursiveOptions&lt;T&gt;</code> to be:</p>\n\n<pre><code>interface FilterOptions {\n  age: number\n  name: string\n}\n\ninterface PaginationOptions {\n  page: number\n  per_page: number\n}\n\ntype VerifyRecursiveOptions&lt;T, R&gt; =\n  R extends object ? { \n    [K in keyof R]: K extends keyof T ? T[K] : VerifyRecursiveOptions&lt;T, R[K]&gt; \n  } : never\n\ntype OptionsShape = { filters: any, pagination?: any }\n\ntype VerifyOptionsHash&lt;R extends OptionsShape&gt; = {\n  filters: VerifyRecursiveOptions&lt;FilterOptions, R['filters']&gt;\n  pagination?: VerifyRecursiveOptions&lt;PaginationOptions, R['pagination']&gt;\n}\n\nconst asOptionsHash = &lt;T extends OptionsShape&gt;(\n  x: T &amp; VerifyOptionsHash&lt;T&gt;\n): T =&gt; x;\n</code></pre>\n\n<p>and you get errors where you expect them:</p>\n\n<pre><code>let opts = asOptionsHash({\n  filters: {\n    age: 10,\n    name: \"Fred\",\n    foo: 10, // causes error\n    friends: {\n      age: 8,\n      name: 234, // causes error\n      pets: {\n        name: 'fido'\n      }\n    },\n    parents: {\n      name: \"Mom\"\n    }\n  },\n  pagination: {\n    page: 3,\n    friends: {\n      page: 1,\n      per_page: 3,\n      pets: {\n        per_page: 300\n      }\n    }\n  }\n});\n</code></pre>\n\n<p>But this is complicated and possibly fragile.  Instead of trying to bend TypeScript to your will you might want to try using a more compiler-friendly type, like:</p>\n\n<pre><code>type TractablyRecursiveOptions&lt;T&gt; = T &amp; { \n  recursivePart?: { [k: string]: TractablyRecursiveOptions&lt;T&gt; } \n};\n</code></pre>\n\n<p>In this case, instead of allowing <em>any extra key</em> to be added to <code>T</code>, you're only allowing just <code>recursivePart</code>.  This single well-known property can then have any keys you want.  But it requires refactoring of your <code>opts</code> value.</p>\n\n<p>Anyway, hope that helps; good luck!</p>\n"}], "owner": {"reputation": 3766, "user_id": 342519, "user_type": "registered", "accept_rate": 94, "profile_image": "https://graph.facebook.com/1410347/picture?type=large", "display_name": "Wade Tandy", "link": "https://stackoverflow.com/users/342519/wade-tandy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 52, "favorite_count": 1, "accepted_answer_id": 54210061, "answer_count": 1, "score": 0, "last_activity_date": 1547737060, "creation_date": 1547596422, "last_edit_date": 1547597356, "question_id": 54208512, "link": "https://stackoverflow.com/questions/54208512/creating-a-recursive-options-type", "title": "Creating a recursive options type", "body": "<p>I'm building a library in typescript and I'd like to be able to accept a recursive options hash where there are a number of predefined keys with a specific type and everything else is a recursive version of the same structure.  I can't figure out how to do this generically without having overly general types (index types make this too accepting).  </p>\n\n<p>An example of what I'm going for:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>interface FilterOptions {\n  age: number\n  name: string\n}\n\ninterface PaginationOptions {\n  page: number\n  per_page: number\n}\n\ntype OptionsHash = {\n  filters: RecursiveOptions&lt;FilterOptions&gt;\n  pagination?: RecursiveOptions&lt;PaginationOptions&gt; \n}\n\nlet opts: OptionsHash = {\n  filters: {\n    age: 10,\n    name: \"Fred\",\n    foo: 10, // causes error\n    friends: {\n      age: 8,\n      name: 234, // causes error\n      pets: {\n        name: 'fido'\n      }\n    },\n    parents: {\n      name: \"Mom\"\n    }\n  },\n  pagination: {\n    page: 3,\n    friends: {\n      page:1,\n      per_page: 3\n      pets: {\n        per_page: 300\n      }\n    }\n  }\n}\n</code></pre>\n\n<p>Please help me define <code>RecursiveOptions</code> in the above example.</p>\n"}, {"tags": ["angular", "typescript", "data-binding", "parent-child", "two-way-binding"], "comments": [{"owner": {"reputation": 94, "user_id": 4969500, "user_type": "registered", "accept_rate": 25, "profile_image": "https://i.stack.imgur.com/TB31H.png?s=128&g=1", "display_name": "John Gates", "link": "https://stackoverflow.com/users/4969500/john-gates"}, "edited": false, "score": 0, "creation_date": 1547596394, "post_id": 54208454, "comment_id": 95243568, "body": "Apparently, your approach is right. Do you get any errors in the console?"}, {"owner": {"reputation": 660, "user_id": 9560126, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/71b2850a1786b2de5cc0c40585e56714?s=128&d=identicon&r=PG&f=1", "display_name": "Abedin.Zhuniqi", "link": "https://stackoverflow.com/users/9560126/abedin-zhuniqi"}, "edited": false, "score": 0, "creation_date": 1547596596, "post_id": 54208454, "comment_id": 95243606, "body": "I think you need to change this line to two way databinding.  <code>[schoolObject]=&quot;selectedSchool&quot;</code> to <code>[(schoolObject)]=&quot;selectedSchool&quot;</code>"}, {"owner": {"reputation": 81, "user_id": 10919587, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-4kJ3AhxKvVc/AAAAAAAAAAI/AAAAAAAAAAA/AKxrwcaGXwMDBEiN8YxvLCntyj9m2jIB2w/mo/photo.jpg?sz=128", "display_name": "Robert Nish", "link": "https://stackoverflow.com/users/10919587/robert-nish"}, "edited": false, "score": 0, "creation_date": 1547598438, "post_id": 54208454, "comment_id": 95244005, "body": "I am sorry. I just tried [(schoolObject)]=&quot;selectedSchool&quot;. It makes no difference. :-("}, {"owner": {"reputation": 81, "user_id": 10919587, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-4kJ3AhxKvVc/AAAAAAAAAAI/AAAAAAAAAAA/AKxrwcaGXwMDBEiN8YxvLCntyj9m2jIB2w/mo/photo.jpg?sz=128", "display_name": "Robert Nish", "link": "https://stackoverflow.com/users/10919587/robert-nish"}, "edited": false, "score": 0, "creation_date": 1547598498, "post_id": 54208454, "comment_id": 95244017, "body": "I will update the question with a screen-shot of this page too. It will give you a clear picture"}, {"owner": {"reputation": 5951, "user_id": 2361308, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/99484dc9d142352778e01ac0c4948c1d?s=128&d=identicon&r=PG", "display_name": "Hearen", "link": "https://stackoverflow.com/users/2361308/hearen"}, "edited": false, "score": 1, "creation_date": 1547606216, "post_id": 54208454, "comment_id": 95245538, "body": "Would you please use <a href=\"https://stackblitz.com\" rel=\"nofollow noreferrer\">stackblitz.com</a> to create a demo for us to re-produce your issues? thank you :)"}, {"owner": {"reputation": 81, "user_id": 10919587, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-4kJ3AhxKvVc/AAAAAAAAAAI/AAAAAAAAAAA/AKxrwcaGXwMDBEiN8YxvLCntyj9m2jIB2w/mo/photo.jpg?sz=128", "display_name": "Robert Nish", "link": "https://stackoverflow.com/users/10919587/robert-nish"}, "edited": false, "score": 0, "creation_date": 1547606527, "post_id": 54208454, "comment_id": 95245594, "body": "Sure, I will do it next time. The second answer worked for me. Thank you"}, {"owner": {"reputation": 1646, "user_id": 1800337, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/TErst.jpg?s=128&g=1", "display_name": "Kushan Randima", "link": "https://stackoverflow.com/users/1800337/kushan-randima"}, "edited": false, "score": 0, "creation_date": 1547610366, "post_id": 54208454, "comment_id": 95246351, "body": "@RobertNish, Please remove the &#39;two-way-binding&#39; tag, as it doesn&#39;t make any sense in this context. You only pass the data from parent to child and use an EventEmitter to notify the parent. That&#39;s it."}, {"owner": {"reputation": 1646, "user_id": 1800337, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/TErst.jpg?s=128&g=1", "display_name": "Kushan Randima", "link": "https://stackoverflow.com/users/1800337/kushan-randima"}, "reply_to_user": {"reputation": 94, "user_id": 4969500, "user_type": "registered", "accept_rate": 25, "profile_image": "https://i.stack.imgur.com/TB31H.png?s=128&g=1", "display_name": "John Gates", "link": "https://stackoverflow.com/users/4969500/john-gates"}, "edited": false, "score": 0, "creation_date": 1547610682, "post_id": 54208454, "comment_id": 95246410, "body": "@JohnGates, If there are errors appear in the console, Robert must have seen it. Did you notice? He logs the school object on the console everytime it changes. Please see the the method - viewSchool() in lists.component.ts [Parent]"}], "answers": [{"comments": [{"owner": {"reputation": 81, "user_id": 10919587, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-4kJ3AhxKvVc/AAAAAAAAAAI/AAAAAAAAAAA/AKxrwcaGXwMDBEiN8YxvLCntyj9m2jIB2w/mo/photo.jpg?sz=128", "display_name": "Robert Nish", "link": "https://stackoverflow.com/users/10919587/robert-nish"}, "edited": false, "score": 0, "creation_date": 1547606616, "post_id": 54209476, "comment_id": 95245611, "body": "I am sorry, this solution did not work for me. Thank you"}, {"owner": {"reputation": 1646, "user_id": 1800337, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/TErst.jpg?s=128&g=1", "display_name": "Kushan Randima", "link": "https://stackoverflow.com/users/1800337/kushan-randima"}, "edited": false, "score": 0, "creation_date": 1547610117, "post_id": 54209476, "comment_id": 95246310, "body": "@alchi, Your concept is correct. Robert needs to set the school object every time the schoolObject gets a new Input."}, {"owner": {"reputation": 762, "user_id": 6091553, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c9ae40bbd66e3e1b776fdcc65dd9e122?s=128&d=identicon&r=PG&f=1", "display_name": "alchi baucha", "link": "https://stackoverflow.com/users/6091553/alchi-baucha"}, "edited": false, "score": 0, "creation_date": 1547685285, "post_id": 54209476, "comment_id": 95280763, "body": "I wonder why it didn&#39;t work. Every time the input&#39;s value is changed, the new value is passed to the SchoolObject&#39;s setter."}], "tags": [], "owner": {"reputation": 762, "user_id": 6091553, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c9ae40bbd66e3e1b776fdcc65dd9e122?s=128&d=identicon&r=PG&f=1", "display_name": "alchi baucha", "link": "https://stackoverflow.com/users/6091553/alchi-baucha"}, "is_accepted": false, "score": 0, "last_activity_date": 1547604486, "creation_date": 1547604486, "answer_id": 54209476, "question_id": 54208454, "link": "https://stackoverflow.com/questions/54208454/pass-values-to-child-component-angular-7/54209476#54209476", "title": "Pass values to child component Angular 7", "body": "<p>I think what's happening is: you are getting the school information on the 'schoolObject'. But what you are binding your values on the html file are 'school' object's properties. And on the current version of your ts file, I see that the school object is set only once on ngOnInit (disregarding the initialization).</p>\n\n<p>I think you need to set the school object every time the schoolObject gets a new Input.\nThen it will run fine. This is what you can do:</p>\n\n<pre><code>schoolObject: School;\n@Input()\nset SchoolObject(schoolObj){\n    this.schoolObject = schoolObj;\n    this.school = schoolObj;\n}\n</code></pre>\n\n<p>You will need to update the html to get the values using SchoolObject on your parent as:</p>\n\n<pre><code>&lt;app-list-item-view *ngIf=\"showViewScreen\" [SchoolObject]=\"selectedSchool\" (notifyParentOnUpdate)='onViewItem($event)'&gt;&lt;/app-list-item-view&gt;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1646, "user_id": 1800337, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/TErst.jpg?s=128&g=1", "display_name": "Kushan Randima", "link": "https://stackoverflow.com/users/1800337/kushan-randima"}, "is_accepted": true, "score": 6, "last_activity_date": 1547606273, "creation_date": 1547606273, "answer_id": 54209670, "question_id": 54208454, "link": "https://stackoverflow.com/questions/54208454/pass-values-to-child-component-angular-7/54209670#54209670", "title": "Pass values to child component Angular 7", "body": "<p>When you write a child component in Angular 7, that updates its content whenever input changes. So, you can add all necessary computations to the <a href=\"https://angular.io/guide/lifecycle-hooks\" rel=\"noreferrer\"><code>ngOnChanges</code></a> lifecycle hook. <code>ngOnInit</code> called once only.</p>\n\n<p>Please add the following code to list.item-view.component.ts </p>\n\n<pre><code>  ngOnChanges() {\n    this.school = this.schoolObject;\n  }\n</code></pre>\n\n<p>Good Luck!</p>\n"}], "owner": {"reputation": 81, "user_id": 10919587, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-4kJ3AhxKvVc/AAAAAAAAAAI/AAAAAAAAAAA/AKxrwcaGXwMDBEiN8YxvLCntyj9m2jIB2w/mo/photo.jpg?sz=128", "display_name": "Robert Nish", "link": "https://stackoverflow.com/users/10919587/robert-nish"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 12503, "favorite_count": 3, "accepted_answer_id": 54209670, "answer_count": 2, "score": 6, "last_activity_date": 1563717414, "creation_date": 1547596022, "last_edit_date": 1563717414, "question_id": 54208454, "link": "https://stackoverflow.com/questions/54208454/pass-values-to-child-component-angular-7", "title": "Pass values to child component Angular 7", "body": "<p>I went though <a href=\"https://angular.io/guide/component-interaction#!#parent-to-child-setter\" rel=\"nofollow noreferrer\">this</a>, and understand that after declaring a data-bound input property, Angular should automatically update the input value. In the component I created, it doesn't seems like that. </p>\n\n<p>When I click on a item on the grid on the parent it shows me the details properly. When I click on another item after that, it doesn't update the child component. I have put a console.log to monitor the selected record. It keeps changing according to the user selection.</p>\n\n<p>Can you please have a look and help me to understand where the issue is?</p>\n\n<p>lists.component.html [Parent]</p>\n\n<pre><code>&lt;div class=\"container-fluid\"&gt;\n  &lt;div class=\"row mt-2 mb-2\"&gt;\n    &lt;div class=\"col-8\"&gt;\n      &lt;app-list-item-add *ngIf=\"showAddnewScreen\" (notifyParentOnUpdate)='onAddItem($event)'&gt;&lt;/app-list-item-add&gt;\n      &lt;app-list-item-view *ngIf=\"showViewScreen\" [studentObject]=\"selectedstudent\" (notifyParentOnUpdate)='onViewItem($event)'&gt;&lt;/app-list-item-view&gt;\n    &lt;/div&gt;\n  &lt;/div&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>lists.component.ts [Parent]</p>\n\n<pre><code>import { Component, OnInit, ViewChild } from '@angular/core';\nimport { studentsService, student } from '../services/students.service';\nimport { Router, ActivatedRoute } from '@angular/router';\nimport { GridComponent, ToolbarItems, SortEventArgs, RowSelectEventArgs, SelectionSettingsModel } from '@syncfusion/ej2-ng-grids';\nimport { ClickEventArgs } from '@syncfusion/ej2-ng-navigations';\nimport * as moment from 'moment';\nimport { Internationalization } from '@syncfusion/ej2-base';\n\n@Component({\n  selector: 'app-lists',\n  templateUrl: './lists.component.html',\n  styleUrls: ['./lists.component.scss']\n})\nexport class ListsComponent implements OnInit {\n\n  constructor(public router: Router, private route: ActivatedRoute, private studentsService: studentsService) { }\n  selectedstudent: student = null;\n  students: student[] = new Array&lt;student&gt;();\n  intl: Internationalization = new Internationalization();\n  showAddnewScreen = false;\n  showViewScreen = false;\n\n  // Syncfusion GRID settings for the students grid.\n  // Documentation: https://ej2.syncfusion.com/16.1.32/angular/documentation/grid/getting-started.html\n  studentsGridId = 'studentsGrid';\n  @ViewChild('studentsGrid')\n  studentsGrid: GridComponent;\n  toolbar: ToolbarItems[];\n\n  // https://ej2.syncfusion.com/16.1.32/angular/documentation/grid/api-filterSettings.html\n  studentsFilteringSettings = {\n  };\n\n  // https://ej2.syncfusion.com/16.1.32/angular/documentation/grid/api-pageSettings.html\n  studentsPageSettings = {\n    currentPage: 1,\n    enableQueryString: true,\n    pageSizes: [10, 25, 50, 100],\n    pageSize: 10\n  };\n\n  // https://ej2.syncfusion.com/16.1.32/angular/documentation/grid/api-selectionSettings.html\n  studentsSelectionOptions: SelectionSettingsModel;\n\n  studentsToolbarClick(args: ClickEventArgs) {\n    // handles multiple grids on the page by prepending the Grid ID to the _eventname\n    // E.g.\n    // if (args.item.id == studentsGrid_excelexport)....\n    if (args.item.id === (this.studentsGridId + '_excelexport')) {\n      this.studentsGrid.excelExport();\n    }\n    if (args.item.id === (this.studentsGridId + '_pdfexport')) {\n      this.studentsGrid.pdfExport();\n    }\n  }\n\n  studentsRowSelected(args: RowSelectEventArgs) {\n    const selectedrowindex: number[] = this.studentsGrid.getSelectedRowIndexes();  // Get the selected row indexes.\n    console.log(selectedrowindex);\n    const selectedRecords: student[] = this.studentsGrid.getSelectedRecords() as student[];  // Get the selected records.\n    const selectedRecord = selectedRecords[0];\n    if (selectedRecord) {\n    }\n  }\n\n  gridActionHandler(args: SortEventArgs) {\n    console.log(args.requestType + ' ' + args.type);\n  }\n\n  ngOnInit() {\n    this.toolbar = ['Print', 'Search', 'ExcelExport', 'PdfExport'];\n    this.studentsSelectionOptions = {\n      type: 'Single',\n      mode: 'Row'\n    };\n\n    this.studentsService.getstudents(1000).subscribe((students) =&gt; {\n      this.students = students;\n      this.students.sort(this.sortBystudentNumber);\n      this.studentsGrid.dataSource = this.students;\n    });\n\n    // Listen for changes to list items\n    this.studentsService.studentAdded$.subscribe(student =&gt; {\n      // convert the students date strings into dates\n      student.createdOn = moment(student.createdOn).toDate();\n      student.modifiedOn = moment(student.modifiedOn).toDate();\n      // Add the new student to the list\n      this.students.push(student);\n      // resort the grid data\n      this.students.sort(this.sortBystudentNumber);\n      // refresh the grid\n      this.studentsGrid.refresh();\n    });\n    this.studentsService.studentChanged$.subscribe(student =&gt; {\n      // convert the students date strings into dates\n      student.createdOn = moment(student.createdOn).toDate();\n      student.modifiedOn = moment(student.modifiedOn).toDate();\n      // Update the student in the list.\n      this.students.splice(this.students.findIndex(s =&gt; s.id === student.id), 1, student);\n      // resort the grid data\n      this.students.sort(this.sortBystudentNumber);\n      // refresh the grid\n      this.studentsGrid.refresh();\n    });\n    this.studentsService.studentDeleted$.subscribe(id =&gt; {\n      // Remove the student from the list\n      this.students.splice(this.students.findIndex(s =&gt; s.id === id), 1);\n      // resort the grid data\n      this.students.sort(this.sortBystudentNumber);\n      // refresh the grid\n      this.studentsGrid.refresh();\n    });\n\n  }\n\n  addNew() {\n    this.showAddnewScreen = true;\n    this.showViewScreen = false;\n  }\n\n  viewstudent(data: student) {\n    console.log(data);\n    this.selectedstudent = data;\n    this.showViewScreen = true;\n    this.showAddnewScreen = false;\n  }\n\n  onAddItem(student: student): void {\n    this.showAddnewScreen = false;\n  }\n\n  onViewItem(command: string) {\n    this.showViewScreen = false;\n\n    if (command === 'cancel') {\n    } else if (command === 'save') {\n    } else if (command === 'delete') {\n    }\n  }\n\n  sortBystudentNumber = (s1, s2) =&gt; s1.studentNumber - s2.studentNumber;\n}\n</code></pre>\n\n<p>list-item-view.component.html [Child]</p>\n\n<pre><code>&lt;div class=\"row\"&gt;\n  &lt;div class=\"col-12\"&gt;\n    &lt;section class=\"studentDetails\"&gt;\n      &lt;app-section-title heading=\"student Details\" level=\"4\"&gt;&lt;/app-section-title&gt;\n\n      &lt;form #studentForm=\"ngForm\" class=\"pt-2\"&gt;\n        &lt;div class=\"row\"&gt;\n          &lt;div class=\"col-10\"&gt;\n\n            &lt;div class=\"form-group\"&gt;\n              &lt;div class=\"row\"&gt;\n                &lt;div class=\"col-4\"&gt;\n                  &lt;span&gt;student number&lt;/span&gt;\n                &lt;/div&gt;\n                &lt;div class=\"col-6\"&gt;\n                  &lt;input type=\"text\" class=\"form-control\" aria-label=\"student number\"\n                         [(ngModel)]=\"student.studentNumber\" name=\"student Number\" /&gt;\n                &lt;/div&gt;\n              &lt;/div&gt;\n            &lt;/div&gt;\n\n            &lt;div class=\"form-group\"&gt;\n              &lt;div class=\"row\"&gt;\n                &lt;div class=\"col-4\"&gt;\n                  &lt;span&gt;student name&lt;/span&gt;\n                &lt;/div&gt;\n                &lt;div class=\"col-6\"&gt;\n                  &lt;input type=\"text\" class=\"form-control\" aria-label=\"student name\"\n                         [(ngModel)]=\"student.studentName\" name=\"student Name\" /&gt;\n                &lt;/div&gt;\n              &lt;/div&gt;\n            &lt;/div&gt;\n\n            &lt;div class=\"form-group\"&gt;\n              &lt;div class=\"row\"&gt;\n                &lt;div class=\"col-4\"&gt;\n                  &lt;span&gt;student description&lt;/span&gt;\n                &lt;/div&gt;\n                &lt;div class=\"col-6\"&gt;\n                  &lt;input type=\"text\" class=\"form-control\" aria-label=\"student description\"\n                         [(ngModel)]=\"student.description\" name=\"Description\" /&gt;\n                &lt;/div&gt;\n              &lt;/div&gt;\n            &lt;/div&gt;\n\n            &lt;div class=\"form-group\"&gt;\n              &lt;div class=\"row\"&gt;\n                &lt;div class=\"col-4\"&gt;\n                  &lt;span&gt;Created date&lt;/span&gt;\n                &lt;/div&gt;\n                &lt;div class=\"col-6\"&gt;   \n                  &lt;ejs-datepicker placeholder='Enter date' format=\"dd-MM-yyyyy\" aria-label=\"Created date\" [readonly]=\"true\"\n                                  [(ngModel)]=\"student.createdOn\" name=\"Created On\"&gt;&lt;/ejs-datepicker&gt;\n                  &lt;label class=\"col-8 col-lg-9 col-form-label\"&gt;({{student.createdOn | timeago}})&lt;/label&gt;\n                &lt;/div&gt;\n              &lt;/div&gt;\n            &lt;/div&gt;\n\n            &lt;div class=\"form-group\"&gt;\n              &lt;div class=\"row\"&gt;\n                &lt;div class=\"col-4\"&gt;\n                  &lt;span&gt;Created by&lt;/span&gt;\n                &lt;/div&gt;\n                &lt;div class=\"col-6\"&gt;\n                  &lt;input type=\"text\" class=\"form-control\" aria-label=\"Created by\" [readonly]=\"true\"\n                         [(ngModel)]=\"student.createdBy\" name=\"Created By\" /&gt;\n                &lt;/div&gt;\n              &lt;/div&gt;\n            &lt;/div&gt;\n\n            &lt;div class=\"form-group\"&gt;\n              &lt;div class=\"row\"&gt;\n                &lt;div class=\"col-4\"&gt;\n                  &lt;span&gt;Modified date&lt;/span&gt;\n                &lt;/div&gt;\n                &lt;div class=\"col-6\"&gt;\n                  &lt;ejs-datepicker placeholder='Enter date' format=\"dd-MM-yyyyy\" aria-label=\"Modified date\"\n                                  [(ngModel)]=\"student.modifiedOn\" name=\"Modified On\"&gt;&lt;/ejs-datepicker&gt;\n                  &lt;label *ngIf=\"student.modifiedOn\" class=\"col-8 col-lg-9 col-form-label\"&gt;({{student.modifiedOn | timeago}})&lt;/label&gt;\n                &lt;/div&gt;\n              &lt;/div&gt;\n            &lt;/div&gt;\n\n            &lt;div class=\"form-group\"&gt;\n              &lt;div class=\"row\"&gt;\n                &lt;div class=\"col-4\"&gt;\n                  &lt;span&gt;Modified by&lt;/span&gt;\n                &lt;/div&gt;\n                &lt;div class=\"col-6\"&gt;\n                  &lt;input type=\"text\" class=\"form-control\" aria-label=\"Modified by\"\n                         [(ngModel)]=\"student.modifiedBy\" name=\"Modified By\" /&gt;\n                &lt;/div&gt;\n              &lt;/div&gt;\n            &lt;/div&gt;\n\n          &lt;/div&gt;\n        &lt;/div&gt;\n      &lt;/form&gt;\n    &lt;/section&gt;\n  &lt;/div&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>list-item-view.component.ts [Child]</p>\n\n<pre><code>import { Component, OnInit, ViewChild, EventEmitter, Output, Input } from '@angular/core';\nimport { studentsService, student } from '../services/students.service';\nimport { ActivatedRoute } from '@angular/router';\nimport { DatePicker } from '@syncfusion/ej2-calendars';\nimport * as moment from 'moment';\nimport { NgForm } from '@angular/forms';\n\n@Component({\n  selector: 'app-list-item-view',\n  templateUrl: './list-item-view.component.html',\n  styleUrls: ['./list-item-view.component.scss']\n})\n\nexport class ListItemViewComponent implements OnInit {\n  @Output() notifyParentOnUpdate: EventEmitter&lt;any&gt; = new EventEmitter&lt;any&gt;();\n  @Input() studentObject: student;\n\n  studentNumber: number;\n\n  constructor(private route: ActivatedRoute, private studentsService: studentsService) { }\n\n  @ViewChild(NgForm) studentForm: NgForm;\n\n  public student = new student();\n\n  ngOnInit() {\n    this.student = this.studentObject;\n  }\n\n  save() {\n    this.studentsService.updatestudent(this.student).subscribe(newstudent =&gt; {\n      this.notifyParentOnUpdate.emit('save');\n    });\n\n  }\n\n  delete() {\n    this.studentsService.deletestudent(this.student.id).subscribe(newstudent =&gt; {\n      this.notifyParentOnUpdate.emit('delete');\n    });\n  }\n\n  editOnBlur() {\n    this.notifyParentOnUpdate.emit('editOnBlur');\n  }\n\n  cancel() {\n    this.notifyParentOnUpdate.emit('cancel');\n  }\n}\n\n</code></pre>\n"}, {"tags": ["javascript", "reactjs", "typescript", "ecmascript-6", "tslint"], "comments": [{"owner": {"reputation": 3811, "user_id": 6351322, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/wai3S.png?s=128&g=1", "display_name": "guijob", "link": "https://stackoverflow.com/users/6351322/guijob"}, "edited": false, "score": 0, "creation_date": 1547592486, "post_id": 54207924, "comment_id": 95242585, "body": "arrow functions changes <code>this</code> value, you should avoid it using it with react"}, {"owner": {"reputation": 1268, "user_id": 8577350, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Em8st.jpg?s=128&g=1", "display_name": "Null isTrue", "link": "https://stackoverflow.com/users/8577350/null-istrue"}, "reply_to_user": {"reputation": 3811, "user_id": 6351322, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/wai3S.png?s=128&g=1", "display_name": "guijob", "link": "https://stackoverflow.com/users/6351322/guijob"}, "edited": false, "score": 0, "creation_date": 1547592518, "post_id": 54207924, "comment_id": 95242594, "body": "yes indeed, do you know how could I go about appropriately solving that issue?"}, {"owner": {"reputation": 3811, "user_id": 6351322, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/wai3S.png?s=128&g=1", "display_name": "guijob", "link": "https://stackoverflow.com/users/6351322/guijob"}, "edited": false, "score": 0, "creation_date": 1547592567, "post_id": 54207924, "comment_id": 95242616, "body": "use a normal function: <code>() =&gt; {</code> to <code>function() {</code>"}, {"owner": {"reputation": 805, "user_id": 3113569, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/828562349570aa477d3f1404cd4b5b98?s=128&d=identicon&r=PG&f=1", "display_name": "Pixxl", "link": "https://stackoverflow.com/users/3113569/pixxl"}, "edited": false, "score": 0, "creation_date": 1547592583, "post_id": 54207924, "comment_id": 95242624, "body": "To resolve the issue of using arrow functions when you shouldn&#39;t is by simply not using arrow functions. You can define a function with <code>= function() { ... };</code>"}, {"owner": {"reputation": 1268, "user_id": 8577350, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Em8st.jpg?s=128&g=1", "display_name": "Null isTrue", "link": "https://stackoverflow.com/users/8577350/null-istrue"}, "edited": false, "score": 0, "creation_date": 1547592741, "post_id": 54207924, "comment_id": 95242679, "body": "Do you mean <code>function append() { ... }</code> ? it errors: <code>Cannot read property &#39;append&#39; of undefined</code> and the <code>TS</code> error for <code>this</code> remains the same"}], "answers": [{"comments": [{"owner": {"reputation": 1268, "user_id": 8577350, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Em8st.jpg?s=128&g=1", "display_name": "Null isTrue", "link": "https://stackoverflow.com/users/8577350/null-istrue"}, "edited": false, "score": 0, "creation_date": 1547593609, "post_id": 54208092, "comment_id": 95242916, "body": "Thank you for posting an answer and explanation, Are we missing <code>( )</code>  on the suggested refactoring?, also I applied your suggested changes but nothing triggers on click: please see sandbox here <a href=\"https://codesandbox.io/s/lpz83843o7\" rel=\"nofollow noreferrer\">codesandbox.io/s/lpz83843o7</a>"}, {"owner": {"reputation": 48290, "user_id": 209259, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/bSPBw.jpg?s=128&g=1", "display_name": "Erik Philips", "link": "https://stackoverflow.com/users/209259/erik-philips"}, "edited": false, "score": 0, "creation_date": 1547593736, "post_id": 54208092, "comment_id": 95242950, "body": "It&#39;s because <code>this</code> is <a href=\"https://medium.freecodecamp.org/when-and-why-you-should-use-es6-arrow-functions-and-when-you-shouldnt-3d851d7f0b26\" rel=\"nofollow noreferrer\">lexically bound</a>."}, {"owner": {"reputation": 1268, "user_id": 8577350, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Em8st.jpg?s=128&g=1", "display_name": "Null isTrue", "link": "https://stackoverflow.com/users/8577350/null-istrue"}, "reply_to_user": {"reputation": 48290, "user_id": 209259, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/bSPBw.jpg?s=128&g=1", "display_name": "Erik Philips", "link": "https://stackoverflow.com/users/209259/erik-philips"}, "edited": false, "score": 0, "creation_date": 1547593879, "post_id": 54208092, "comment_id": 95242986, "body": "@ErikPhilips could you please post an answer?"}, {"owner": {"reputation": 1268, "user_id": 8577350, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Em8st.jpg?s=128&g=1", "display_name": "Null isTrue", "link": "https://stackoverflow.com/users/8577350/null-istrue"}, "edited": false, "score": 0, "creation_date": 1547597702, "post_id": 54208092, "comment_id": 95243850, "body": "@basarat by doing as you suggested, nothing happens after the click event."}], "tags": [], "owner": {"reputation": 204459, "user_id": 390330, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/1400be56ff17549b926dd3260da4a494?s=128&d=identicon&r=PG", "display_name": "basarat", "link": "https://stackoverflow.com/users/390330/basarat"}, "is_accepted": true, "score": 1, "last_activity_date": 1547593330, "creation_date": 1547593330, "answer_id": 54208092, "question_id": 54207924, "link": "https://stackoverflow.com/questions/54207924/react-typescript-context-of-this-onclick-event/54208092#54208092", "title": "React | TypeScript - Context of &quot;this&quot; onClick event", "body": "<h1>Fix</h1>\n\n<pre><code>export const Guess: React.SFC&lt;{}&gt; = () =&gt; {\n  const hero = \"Spider\";\n  const animal = \"Spider\";\n\n  const append = () =&gt; () =&gt; {\n    return hero === animal ? \"yes\" : \"no\";\n  };\n\n  return &lt;p onClick={this.append()}&gt;Are they similar? &lt;/p&gt;;\n};\n</code></pre>\n\n<p>Should be: </p>\n\n<pre><code>export const Guess: React.SFC&lt;{}&gt; = () =&gt; {\n  const hero = \"Spider\";\n  const animal = \"Spider\";\n\n  const append = () =&gt; () =&gt; {\n    return hero === animal ? \"yes\" : \"no\";\n  };\n\n  return &lt;p onClick={append}&gt;Are they similar? &lt;/p&gt;;\n};\n</code></pre>\n\n<h1>More</h1>\n\n<p>Simplification : <code>this</code> is for classes. You have a function. You don't need to use <code>this</code> as you do not have an instance. </p>\n\n<p>Also <code>onClick</code> takes a function. The expression <code>append()</code> is not a function. The expression <code>append</code> <em>is a function</em>. </p>\n"}], "owner": {"reputation": 1268, "user_id": 8577350, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Em8st.jpg?s=128&g=1", "display_name": "Null isTrue", "link": "https://stackoverflow.com/users/8577350/null-istrue"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1562, "favorite_count": 1, "accepted_answer_id": 54208092, "answer_count": 1, "score": 1, "last_activity_date": 1547606293, "creation_date": 1547592258, "last_edit_date": 1547606293, "question_id": 54207924, "link": "https://stackoverflow.com/questions/54207924/react-typescript-context-of-this-onclick-event", "title": "React | TypeScript - Context of &quot;this&quot; onClick event", "body": "<p><strong>In the context below, what would be the proper way to assign</strong> <code>this</code>?</p>\n\n<p>The following react functional component calls and executes my <code>append()</code> method accordingly.\n</p>\n\n<pre><code>export const Guess: React.SFC&lt;{}&gt; = () =&gt; {\n  const hero = \"Spider\";\n  const animal = \"Spider\";\n\n  function append() {\n    return hero === animal ? \"yes\" : \"no\";\n  };\n  return &lt;p&gt;Are they similar? {append()}&lt;/p&gt;;\n};\n</code></pre>\n\n<p>However, when trying to call the method <code>onClick</code>, and modifying the function to:\n</p>\n\n<pre><code>export const Guess: React.SFC&lt;{}&gt; = () =&gt; {\n  const hero = \"Spider\";\n  const animal = \"Spider\";\n\n  const append = () =&gt; () =&gt; {\n    return hero === animal ? \"yes\" : \"no\";\n  };\n\n  return &lt;p onClick={this.append()}&gt;Are they similar? &lt;/p&gt;;\n};\n</code></pre>\n\n<p>I get a TS error:\n<code>The containing arrow function captures the global value of 'this' which implicitly has type 'any'</code></p>\n\n<p>I read that Arrow functions do not have lexical contexts, so any invocation of <code>this</code> inside the body of an arrow will degenerate to its value in the outer scope.</p>\n\n<p>However, I'm not able to find the solution for this (pun intended :)</p>\n\n<p><strong>Update:</strong> Based on some of the comments below, I refactored the code to:\n</p>\n\n<pre><code>export const Guess: React.SFC&lt;{}&gt; = () =&gt; {\n  const hero = \"Spider\";\n  const animal = \"Spider\";\n\n  function append() {\n    console.log(hero === animal);\n    return hero === animal ? 'yes' : 'no';\n  }\n\n  return &lt;p onClick={append}&gt;Are they similar? &lt;/p&gt;;\n};\n</code></pre>\n"}, {"tags": ["typescript", "testing", "jestjs", "tslint"], "answers": [{"tags": [], "owner": {"reputation": 506, "user_id": 9601266, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-TeFOWheyPa0/AAAAAAAAAAI/AAAAAAAAEOY/o2WKSdszQyA/photo.jpg?sz=128", "display_name": "Marcin Natanek", "link": "https://stackoverflow.com/users/9601266/marcin-natanek"}, "is_accepted": true, "score": 1, "last_activity_date": 1547631961, "creation_date": 1547631961, "answer_id": 54214227, "question_id": 54207740, "link": "https://stackoverflow.com/questions/54207740/typescript-tests-issue-with-absolute-import-linting/54214227#54214227", "title": "Typescript Tests Issue With Absolute Import Linting", "body": "<p>If the only issue you have with types is jest methods, you should definitely have a look at <a href=\"https://www.npmjs.com/package/ts-jest\" rel=\"nofollow noreferrer\">ts-jest</a>. It will allow you to create jest config, that will make jest run typescript as code preprocessor and will strictly type jest methods.</p>\n\n<p>Opting out of type checking for tests seems tempting at first, but I personally found many bugs in my function calls or even application code when I stopped excluding them.</p>\n"}], "owner": {"reputation": 583, "user_id": 2159920, "user_type": "registered", "accept_rate": 40, "profile_image": "https://graph.facebook.com/1056450323/picture?type=large", "display_name": "Webber", "link": "https://stackoverflow.com/users/2159920/webber"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 64, "favorite_count": 1, "accepted_answer_id": 54214227, "answer_count": 1, "score": 1, "last_activity_date": 1547636391, "creation_date": 1547591011, "last_edit_date": 1547636391, "question_id": 54207740, "link": "https://stackoverflow.com/questions/54207740/typescript-tests-issue-with-absolute-import-linting", "title": "Typescript Tests Issue With Absolute Import Linting", "body": "<p>Inside my <code>tsconfig.json</code>, I have these exclusions.</p>\n\n<pre><code>  \"exclude\": [\n    \"**/node_modules\",\n    \"**/*.spec.ts\",\n    \"**/*.spec.tsx\",\n    \"**/*.test.ts\",\n    \"**/*.test.tsx\"\n  ]\n</code></pre>\n\n<p>Which is needed so the editor doesn't squawk at jest methods. However I need the following rule for absolute import</p>\n\n<pre><code>    \"baseUrl\": \".\"\n</code></pre>\n\n<p>How can I solve this issue?</p>\n"}, {"tags": ["typescript"], "comments": [{"owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "edited": false, "score": 0, "creation_date": 1547592934, "post_id": 54207631, "comment_id": 95242745, "body": "Since typescript does not infer literal tyeps for json, you will need to use a type assertion"}], "answers": [{"comments": [{"owner": {"reputation": 1736, "user_id": 7216259, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/NyCby.jpg?s=128&g=1", "display_name": "Maro\u0161 Be\u0165ko", "link": "https://stackoverflow.com/users/7216259/maro%c5%a1-be%c5%a5ko"}, "edited": false, "score": 0, "creation_date": 1547595973, "post_id": 54208170, "comment_id": 95243485, "body": "Well, that&#39;s a shame that feature like this is no yet present. I wasn&#39;t able to find any more information about it sadly."}, {"owner": {"reputation": 204459, "user_id": 390330, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/1400be56ff17549b926dd3260da4a494?s=128&d=identicon&r=PG", "display_name": "basarat", "link": "https://stackoverflow.com/users/390330/basarat"}, "reply_to_user": {"reputation": 1736, "user_id": 7216259, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/NyCby.jpg?s=128&g=1", "display_name": "Maro\u0161 Be\u0165ko", "link": "https://stackoverflow.com/users/7216259/maro%c5%a1-be%c5%a5ko"}, "edited": false, "score": 1, "creation_date": 1547596263, "post_id": 54208170, "comment_id": 95243540, "body": "I have it documented in the inference section in literal types : <a href=\"https://basarat.gitbooks.io/typescript/docs/types/literal-types.html\" rel=\"nofollow noreferrer\">basarat.gitbooks.io/typescript/docs/types/literal-types.html</a> \ud83c\udf39"}], "tags": [], "owner": {"reputation": 204459, "user_id": 390330, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/1400be56ff17549b926dd3260da4a494?s=128&d=identicon&r=PG", "display_name": "basarat", "link": "https://stackoverflow.com/users/390330/basarat"}, "is_accepted": true, "score": 1, "last_activity_date": 1547593856, "creation_date": 1547593856, "answer_id": 54208170, "question_id": 54207631, "link": "https://stackoverflow.com/questions/54207631/importing-json-into-interface-with-discriminated-unions/54208170#54208170", "title": "Importing JSON into interface with discriminated unions", "body": "<blockquote>\n  <p>The error message I get on the assignment of imported json to typed variable in ts is that type: string is not assignable to type: \"A\". I understand what it is trying to tell me and using type cast as Card[] is a simple workaround.</p>\n</blockquote>\n\n<p>Here is an equivalent simplification of the error: </p>\n\n<pre><code>type Card = {\n    a:\"A\",\n    value: number\n}\n\nconst failJSON = {\n    a: \"A\",\n    value: 123\n}\n\nconst fail: Card = failJSON; // Error: type string not assingable to type \"A\"\n</code></pre>\n\n<h1>Fix</h1>\n\n<p>If it was not json you would assert the inference at the point of creation: </p>\n\n<pre><code>type Card = {\n    a:\"A\",\n    value: number\n}\n\nconst passJSON = {\n    a: \"A\" as \"A\", // NOTICE!\n    value: 123\n}\n\nconst fail: Card = passJSON; // OK\n</code></pre>\n\n<p>But since it is a JSON file you cannot add an assertion in there. You only option is to assert <code>as Card[]</code> as you have already figured out.</p>\n\n<h1>Reason</h1>\n\n<p>TypeScript infers <code>string | number | boolean</code> etc. instead of literals for objects.</p>\n"}], "owner": {"reputation": 1736, "user_id": 7216259, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/NyCby.jpg?s=128&g=1", "display_name": "Maro\u0161 Be\u0165ko", "link": "https://stackoverflow.com/users/7216259/maro%c5%a1-be%c5%a5ko"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 149, "favorite_count": 0, "accepted_answer_id": 54208170, "answer_count": 1, "score": 1, "last_activity_date": 1547593856, "creation_date": 1547590342, "last_edit_date": 1547590786, "question_id": 54207631, "link": "https://stackoverflow.com/questions/54207631/importing-json-into-interface-with-discriminated-unions", "title": "Importing JSON into interface with discriminated unions", "body": "<p>I have a problem with importing json into interface with discriminated union pattern used. The error message I get on the assignment of imported json to typed variable in ts is that <code>type: string</code> is not assignable to <code>type: \"A\"</code>. I understand what it is trying to tell me and using type cast <code>as Card[]</code> is a simple workaround. I would rather know id it's possible to solve this correctly without the cast so the typescript can correctly check the imported json.</p>\n\n<p>Here are the interfaces:</p>\n\n<pre><code>// cards.tsx\nexport type CardType = \"A\" | \"B\";\n\nexport interface BaseCard {\n    type: CardType;\n    name: string;\n}\n\nexport interface ACard extends BaseCard {\n    type: \"A\";\n    foo: string;\n}\n\nexport interface BCard extends BaseCard {\n    type: \"B\";\n    goo: string;\n}\n\nexport type Card = ACard | BCard;\n</code></pre>\n\n<p>Here is the code that gives the error:</p>\n\n<pre><code>import { Card } from './cards.tsx';\nimport Cards from './cards.json';\n\nconst cards: Card[] = Cards;\n</code></pre>\n\n<p>Example json:</p>\n\n<pre><code>[\n    { \"type\": \"A\", \"name\": \"AName\", \"foo\": \"FOO\" },\n    { \"type\": \"B\", \"name\": \"BName\", \"goo\": \"GOO\" }\n]\n</code></pre>\n"}, {"tags": ["typescript", "loopbackjs"], "owner": {"reputation": 2913, "user_id": 4245294, "user_type": "registered", "accept_rate": 89, "profile_image": "https://lh4.googleusercontent.com/-ZTD9u96FrKU/AAAAAAAAAAI/AAAAAAAAAF0/uXngR7Vqjwg/photo.jpg?sz=128", "display_name": "Sam Malayek", "link": "https://stackoverflow.com/users/4245294/sam-malayek"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 158, "favorite_count": 1, "answer_count": 0, "score": 2, "last_activity_date": 1547590329, "creation_date": 1547590329, "question_id": 54207628, "link": "https://stackoverflow.com/questions/54207628/loopback-4-setting-strict-mode-on-models-to-false", "title": "Loopback 4: setting &quot;strict mode&quot; on models to false", "body": "<p>It seems like when I turn off \u201cstrict mode\u201d on a model (in decorator <code>settings:{strict:false}</code>) for the purpose of allowing custom model properties, I still get a ValidationError as the parent constructor is called. I have to remove this property key from the Partial data object before calling the parent constructor, and then I can add safely add the value after the parent constructor is called, like this:</p>\n\n<pre><code>constructor(data?: Partial&lt;User&gt;) {\n  let user_role;\n  if (data &amp;&amp; data.user_role) {\n    user_role = data.user_role;\n    delete data.user_role;\n  }\n  super(data);\n  if (user_role) {\n    this.user_role = user_role;\n  }\n}\n</code></pre>\n\n<p>The error:</p>\n\n<pre><code>The `Users` instance is not valid. Details: `user_role` is not defined in the model (value: undefined).\n</code></pre>\n\n<p>Is there a clean solution I'm not seeing?</p>\n"}, {"tags": ["typescript"], "comments": [{"owner": {"reputation": 28847, "user_id": 43848, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/l6ogn.png?s=128&g=1", "display_name": "artem", "link": "https://stackoverflow.com/users/43848/artem"}, "edited": false, "score": 1, "creation_date": 1547589385, "post_id": 54207173, "comment_id": 95241467, "body": "In general, no, there is no way to declare a class or interface that conforms to an interface or type which given as a type parameter for the class. See <a href=\"https://github.com/Microsoft/TypeScript/issues/2225\" rel=\"nofollow noreferrer\">this github issue</a>, still open. The mapped type syntax<code>[K in keyof ...] ...</code>  works only for <a href=\"https://www.typescriptlang.org/docs/handbook/advanced-types.html#mapped-types\" rel=\"nofollow noreferrer\">type aliases</a>, it&#39;s not allowed <a href=\"https://github.com/Microsoft/TypeScript/issues/13573\" rel=\"nofollow noreferrer\">for classes and interfaces</a>."}], "answers": [{"tags": [], "owner": {"reputation": 1633, "user_id": 103017, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9f4c83f1c2c91663757e25137b4aa471?s=128&d=identicon&r=PG", "display_name": "Jesse Hallett", "link": "https://stackoverflow.com/users/103017/jesse-hallett"}, "is_accepted": false, "score": 0, "last_activity_date": 1547589307, "creation_date": 1547589307, "answer_id": 54207433, "question_id": 54207173, "link": "https://stackoverflow.com/questions/54207173/classes-keyof-in-typescript/54207433#54207433", "title": "Classes &amp; Keyof in Typescript", "body": "<p>I think that there is now way to dynamically specify class properties like this. It does not work in an <code>interface</code> either. I tried a variation of your class with <code>implements Foo&lt;T&gt;</code> and got this error:</p>\n\n<blockquote>\n  <p>A class can only implement an object type or intersection of object types with statically known members.</p>\n</blockquote>\n\n<p>That leads me to believe that Typescript is specifically designed to avoid dynamically-specified class properties.</p>\n\n<p>You can do this with a constructor that is not a class. You can use your <code>Foo</code> type as the return type of a function that constructs a plain object with getters. Or if all you need is a read-only version of an object you can use <code>Object.freeze(data)</code>.</p>\n"}, {"comments": [{"owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "reply_to_user": {"reputation": 899, "user_id": 5584191, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/84815071fe6aff203ced3619660bbbe9?s=128&d=identicon&r=PG&f=1", "display_name": "lei li", "link": "https://stackoverflow.com/users/5584191/lei-li"}, "edited": false, "score": 0, "creation_date": 1559119155, "post_id": 54207465, "comment_id": 99316781, "body": "@leili it will loose statics (although I think you can add them back in using <code>Pick&lt;typeof _Domain, keyof typeof _Domain&gt;</code>). You also loose some type safety because of the assertion. But the class itself should be type safe and the call sites will be type safe."}], "tags": [], "owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "is_accepted": true, "score": 6, "last_activity_date": 1547589453, "creation_date": 1547589453, "answer_id": 54207465, "question_id": 54207173, "link": "https://stackoverflow.com/questions/54207173/classes-keyof-in-typescript/54207465#54207465", "title": "Classes &amp; Keyof in Typescript", "body": "<p>Mapped types can't be used in interfaces or classes. They can only be used within a type alias.</p>\n\n<p>Interface and class inheritance don't mix well with mapped types if there are generics involved. Typescript wants to know the shape of the base class/interface upfront, so while we can write something like :</p>\n\n<pre><code>interface Foo extends Pick&lt;UserType, keyof UserType&gt; {\n\n}\n</code></pre>\n\n<p>We can't write </p>\n\n<pre><code>interface Foo&lt;T&gt; extends Pick&lt;T, keyof T&gt; { //An interface can only extend an object type or intersection of object types with statically known members\n\n}\n</code></pre>\n\n<p>This removes any possibility of fooling the compiler with a class-interface merge.</p>\n\n<p>The only workaround is to define the class separately, and use a custom constructor signature. The custom constructor signature can have a generic type parameter and can use it in the instance type returned. We can make the returned type an instance of the <code>Domain</code> class in an intersection with <code>T</code>:</p>\n\n<pre><code>type UserType = {\n    id: number,\n    name: string,\n}\n\nclass _Domain&lt;T&gt;  {\n    _data: T;\n    constructor(data: T) {\n        this._data = data;\n        Object.keys(data).forEach((key) =&gt; Object.defineProperty(this, key, { get: () =&gt; this._data[key] }));\n    }\n}\n\nconst Domain = _Domain as ({\n    new &lt;T&gt;(data: T): _Domain&lt;T&gt; &amp; T\n})\n\nconst joeData: UserType = {\n    id: 1,\n    name: 'Joe',\n}\n\nconst joe = new Domain(joeData); // type: _Domain&lt;UserType&gt; &amp; UserType\nconsole.log(joe.id);\n</code></pre>\n"}], "owner": {"reputation": 5736, "user_id": 283181, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/8cda855dadc64aa1e2a984c0ddd1f381?s=128&d=identicon&r=PG", "display_name": "Pierre", "link": "https://stackoverflow.com/users/283181/pierre"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3969, "favorite_count": 2, "accepted_answer_id": 54207465, "answer_count": 2, "score": 1, "last_activity_date": 1547589453, "creation_date": 1547588083, "last_edit_date": 1547588446, "question_id": 54207173, "link": "https://stackoverflow.com/questions/54207173/classes-keyof-in-typescript", "title": "Classes &amp; Keyof in Typescript", "body": "<p>Beginning with TypeScript, I am trying to use <code>keyof</code> to define dynamic properties on a class:</p>\n\n<pre><code>type UserType = {\n  id: number,\n  name: string,\n}\n\nclass Domain&lt;T&gt; {\n  _data: T;\n  [K in keyof T]: T[K]; // Does not build:\n                        // (1) A computed property name must be of type \n                        //     'string', 'number', 'symbol', or 'any'\n                        // (2) Cannot find name 'keyof'\n\n\n  constructor(data: T) {\n    this._data = data;\n    Object.keys(data).forEach((key) =&gt; Object.defineProperty(this, key, { get: () =&gt; this._data[key] }));\n  }\n}\n\nconst joeData: UserType = {\n  id: 1,\n  name: 'Joe',\n}\n\nconst joe = new Domain(joeData); // type: Domain&lt;UserType&gt;\nconsole.log(joe.id);\n</code></pre>\n\n<p>I did write this code using the same (working) syntax as:</p>\n\n<pre><code>type Foo&lt;T&gt; = {\n  [K in keyof T]: T[K];\n}\n</code></pre>\n\n<p>Any hints on how to fix the issue?</p>\n"}, {"tags": ["javascript", "typescript", "mocha.js", "chai"], "comments": [{"owner": {"reputation": 9141, "user_id": 2652759, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/cb993f3435e19380a9ac6c688310a261?s=128&d=identicon&r=PG", "display_name": "quirimmo", "link": "https://stackoverflow.com/users/2652759/quirimmo"}, "edited": false, "score": 1, "creation_date": 1547588109, "post_id": 54207065, "comment_id": 95240934, "body": "are you using <code>chai</code> for assertions?"}, {"owner": {"reputation": 5618, "user_id": 2193290, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/QSiK2.jpg?s=128&g=1", "display_name": "Danny Delott", "link": "https://stackoverflow.com/users/2193290/danny-delott"}, "reply_to_user": {"reputation": 9141, "user_id": 2652759, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/cb993f3435e19380a9ac6c688310a261?s=128&d=identicon&r=PG", "display_name": "quirimmo", "link": "https://stackoverflow.com/users/2652759/quirimmo"}, "edited": false, "score": 0, "creation_date": 1547588698, "post_id": 54207065, "comment_id": 95241177, "body": "Oops, yes.Forgot to mention that. Added!"}, {"owner": {"reputation": 4819, "user_id": 2953420, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rMHsG.jpg?s=128&g=1", "display_name": "Dayan Moreno Leon", "link": "https://stackoverflow.com/users/2953420/dayan-moreno-leon"}, "edited": false, "score": 0, "creation_date": 1547588876, "post_id": 54207065, "comment_id": 95241235, "body": "Mocka/Assertion is actually working as expected, you are asserting your return is what you expected. If you want to test types you&#39;ll need to assert on that like this <a href=\"https://www.chaijs.com/api/bdd/#method_a\" rel=\"nofollow noreferrer\">chaijs.com/api/bdd/#method_a</a>. I would leave the types to typescript tho. that is what you got it there for"}, {"owner": {"reputation": 9141, "user_id": 2652759, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/cb993f3435e19380a9ac6c688310a261?s=128&d=identicon&r=PG", "display_name": "quirimmo", "link": "https://stackoverflow.com/users/2652759/quirimmo"}, "edited": false, "score": 0, "creation_date": 1547588883, "post_id": 54207065, "comment_id": 95241240, "body": "can you try <code>expect&lt;Foo&gt;(getFoo()).to.have.interface(Foo)</code>? p.s. but for this you need the module <code>chai-interface</code>"}, {"owner": {"reputation": 5618, "user_id": 2193290, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/QSiK2.jpg?s=128&g=1", "display_name": "Danny Delott", "link": "https://stackoverflow.com/users/2193290/danny-delott"}, "reply_to_user": {"reputation": 9141, "user_id": 2652759, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/cb993f3435e19380a9ac6c688310a261?s=128&d=identicon&r=PG", "display_name": "quirimmo", "link": "https://stackoverflow.com/users/2652759/quirimmo"}, "edited": false, "score": 0, "creation_date": 1547589124, "post_id": 54207065, "comment_id": 95241343, "body": "@quirimmo Unfortunately, chai <code>expect</code> does not expect any type arguments, so the generic signature is incorrect."}, {"owner": {"reputation": 9141, "user_id": 2652759, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/cb993f3435e19380a9ac6c688310a261?s=128&d=identicon&r=PG", "display_name": "quirimmo", "link": "https://stackoverflow.com/users/2652759/quirimmo"}, "edited": false, "score": 0, "creation_date": 1547589233, "post_id": 54207065, "comment_id": 95241399, "body": "sorry I usually use <code>should</code>, it gives me more an idea of BDD approach, btw the package I am saying for interfaces is here: <a href=\"https://www.chaijs.com/plugins/chai-interface/\" rel=\"nofollow noreferrer\">chaijs.com/plugins/chai-interface</a>"}, {"owner": {"reputation": 5618, "user_id": 2193290, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/QSiK2.jpg?s=128&g=1", "display_name": "Danny Delott", "link": "https://stackoverflow.com/users/2193290/danny-delott"}, "edited": false, "score": 0, "creation_date": 1547589375, "post_id": 54207065, "comment_id": 95241461, "body": "No worries, this should be doable without a chai plugin if the <code>expect</code> type signature  expressed the coupling between the actual and expected value."}], "answers": [{"comments": [{"owner": {"reputation": 16239, "user_id": 266535, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/QahmA.png?s=128&g=1", "display_name": "styfle", "link": "https://stackoverflow.com/users/266535/styfle"}, "edited": false, "score": 1, "creation_date": 1547664085, "post_id": 54208220, "comment_id": 95272584, "body": "I would even create a variable before returning it in the getFoo() function to avoid the return type on the method. Then your test and your function under test both create a variable :)"}], "tags": [], "owner": {"reputation": 204459, "user_id": 390330, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/1400be56ff17549b926dd3260da4a494?s=128&d=identicon&r=PG", "display_name": "basarat", "link": "https://stackoverflow.com/users/390330/basarat"}, "is_accepted": true, "score": 2, "last_activity_date": 1547594186, "creation_date": 1547594186, "answer_id": 54208220, "question_id": 54207065, "link": "https://stackoverflow.com/questions/54207065/strongly-typed-deep-equal-assertion-with-typescript-and-chai/54208220#54208220", "title": "Strongly typed deep equal assertion with TypeScript and Chai", "body": "<blockquote>\n  <p>Is there a type-safe way of doing expect().to.deep.equal()</p>\n</blockquote>\n\n<p>Not in the type definitions of <code>equal</code> which are intentionally <code>any</code> as it is designed for <em>runtime</em> checking. </p>\n\n<p>However easy to do externally: </p>\n\n<pre><code>const expected: Foo = {\n  bar: 'hello',\n  baz: 'world',\n};\nexpect(getFoo()).to.deep.equal(expected);\n</code></pre>\n"}], "owner": {"reputation": 5618, "user_id": 2193290, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/QSiK2.jpg?s=128&g=1", "display_name": "Danny Delott", "link": "https://stackoverflow.com/users/2193290/danny-delott"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1052, "favorite_count": 0, "accepted_answer_id": 54208220, "answer_count": 1, "score": 3, "last_activity_date": 1547594186, "creation_date": 1547587648, "last_edit_date": 1547588780, "question_id": 54207065, "link": "https://stackoverflow.com/questions/54207065/strongly-typed-deep-equal-assertion-with-typescript-and-chai", "title": "Strongly typed deep equal assertion with TypeScript and Chai", "body": "<p>I have a TypeScript function that returns a type <code>Foo</code>:</p>\n\n<pre><code>interface Foo {\n  bar: string;\n  baz: string;\n}\n\nfunction getFoo(): Foo {\n  return {\n    bar: 'hello',\n    baz: 'world',\n  };\n}\n\n// Chai Assertion\nit('Should return a Foo', () =&gt; {\n  expect(getFoo()).to.deep.equal({\n    bar: 'hello',\n    baz: 'world',\n  });\n})\n</code></pre>\n\n<p>When I change the <code>Foo</code> interface, my <code>getFoo()</code> function produces a TypeScript error:</p>\n\n<pre><code>interface Foo {\n  bar: number;  // change these to numbers instead\n  baz: number;\n}\n\nfunction getFoo(): Foo {\n  // Compile time error! Numbers aren't strings!\n  return {\n    bar: 'hello',\n    baz: 'world',\n  };\n}\n</code></pre>\n\n<p>However, my Mocha test does not trigger a compile time error!</p>\n\n<p>Is there a type-safe way of doing <code>expect().to.deep.equal()</code>? Something like:</p>\n\n<pre><code>// Strawman for how I'd like to do type-safety for deep equality assertions,\n// though this generic signature still seems unnecessary?\nexpect&lt;Foo&gt;(getFoo()).to.deep.equal({\n  bar: 'hello',\n  baz: 'world',\n});\n</code></pre>\n"}, {"tags": ["javascript", "typescript", "es6-promise"], "comments": [{"owner": {"reputation": 10128, "user_id": 2438423, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/DvKY9.png?s=128&g=1", "display_name": "StackSlave", "link": "https://stackoverflow.com/users/2438423/stackslave"}, "edited": false, "score": 0, "creation_date": 1547587129, "post_id": 54206934, "comment_id": 95240556, "body": "You&#39;re trying to overwrite a constant. Use <code>var</code> or <code>let</code>."}, {"owner": {"reputation": 482, "user_id": 7405634, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/e1cf66a4f465f14a3d2408d6cc4b817b?s=128&d=identicon&r=PG&f=1", "display_name": "DanielRM", "link": "https://stackoverflow.com/users/7405634/danielrm"}, "reply_to_user": {"reputation": 10128, "user_id": 2438423, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/DvKY9.png?s=128&g=1", "display_name": "StackSlave", "link": "https://stackoverflow.com/users/2438423/stackslave"}, "edited": false, "score": 0, "creation_date": 1547587194, "post_id": 54206934, "comment_id": 95240574, "body": "Where? I declare Promise but never reassign it, i use promise &amp;&amp; promise2"}, {"owner": {"reputation": 10128, "user_id": 2438423, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/DvKY9.png?s=128&g=1", "display_name": "StackSlave", "link": "https://stackoverflow.com/users/2438423/stackslave"}, "edited": false, "score": 0, "creation_date": 1547587231, "post_id": 54206934, "comment_id": 95240590, "body": "In your <code>data.data.length</code> loop."}, {"owner": {"reputation": 3811, "user_id": 6351322, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/wai3S.png?s=128&g=1", "display_name": "guijob", "link": "https://stackoverflow.com/users/6351322/guijob"}, "edited": false, "score": 2, "creation_date": 1547587274, "post_id": 54206934, "comment_id": 95240608, "body": "it depends where are you trying to  access you grades. you should wait all promises to resolve.. I recommend you using Promise.all"}, {"owner": {"reputation": 482, "user_id": 7405634, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/e1cf66a4f465f14a3d2408d6cc4b817b?s=128&d=identicon&r=PG&f=1", "display_name": "DanielRM", "link": "https://stackoverflow.com/users/7405634/danielrm"}, "edited": false, "score": 0, "creation_date": 1547587360, "post_id": 54206934, "comment_id": 95240639, "body": "will give that a shot, thank you guys"}], "answers": [{"comments": [{"owner": {"reputation": 482, "user_id": 7405634, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/e1cf66a4f465f14a3d2408d6cc4b817b?s=128&d=identicon&r=PG&f=1", "display_name": "DanielRM", "link": "https://stackoverflow.com/users/7405634/danielrm"}, "edited": false, "score": 1, "creation_date": 1547588950, "post_id": 54207019, "comment_id": 95241272, "body": "Thanks, i looked at the documentation for Promise.all and implemented it, it worked perfectly along with my tests. Thanks so much"}], "tags": [], "owner": {"reputation": 73387, "user_id": 107277, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/781f66c42983ae7ee3123bbd620d8568?s=128&d=identicon&r=PG", "display_name": "Matt Huggins", "link": "https://stackoverflow.com/users/107277/matt-huggins"}, "is_accepted": false, "score": 1, "last_activity_date": 1547587475, "creation_date": 1547587475, "answer_id": 54207019, "question_id": 54206934, "link": "https://stackoverflow.com/questions/54206934/promise-dosent-always-fetch-all-values-from-web-service/54207019#54207019", "title": "Promise dosen&#39;t always fetch all values from web service", "body": "<p>You're trying to perform a promise within a <code>forEach</code>, but the forEach function doesn't know that it should wait for the promise to complete.  You may want to get familiar with <code>Promise.all</code> when you want to perform many promises.</p>\n\n<p>Try something like this:</p>\n\n<pre><code>this.batGradesProvider.getAllCourseIds().then((courseIds) =&gt; {\n  return Promise.all(courseIds.map((courseId) =&gt; {\n    return provider.getCoursesGrades(siteId, courseId, userid);\n  }).then((results) =&gt; {\n    this.batGradesTable = [];\n\n    results.forEach((data) =&gt; {\n      for (let i = 0; i &lt; data.data.length; i++) {\n        const activity = data.data[i];\n        const activityObj = { /* ... */ };\n        this.batGradesTable.push(activityObject);\n      }\n    });\n\n    return this.batGradesTable;\n  });\n});\n</code></pre>\n"}], "owner": {"reputation": 482, "user_id": 7405634, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/e1cf66a4f465f14a3d2408d6cc4b817b?s=128&d=identicon&r=PG&f=1", "display_name": "DanielRM", "link": "https://stackoverflow.com/users/7405634/danielrm"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 35, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1547587475, "creation_date": 1547587033, "last_edit_date": 1547587246, "question_id": 54206934, "link": "https://stackoverflow.com/questions/54206934/promise-dosent-always-fetch-all-values-from-web-service", "title": "Promise dosen&#39;t always fetch all values from web service", "body": "<p>I am using promises to populate an array using multiple web services i created (<code>this.batGradesProvider.getAllCourseIds()</code> &amp;&amp; <code>provider.getCoursesGrades</code>) <strong>but i dont always get ALL the values from my web service. For example, for one of my test cases i KNOW I have an array of 6 course grades but i only receive 2 at the end</strong>. Am i doing something wrong with my promise or perhaps with the forEach? Thanks in advance.</p>\n\n<pre><code>const promise = this.batGradesProvider.getAllCourseIds();\n\n    promise.then((courseIds) =&gt; {\n\n        courseIds.forEach((courseId) =&gt; {\n\n            const promise2 = provider.getCoursesGrades(siteId, courseId, userid);\n            promise2.then((data) =&gt; {\n\n                for (let i = 0; i &lt; data.data.length; i++) {\n                    // Get this course\n                    const activity = data.data[i];\n\n                    const activityObj: Activity = {\n                        courseName: activity.courseName,\n                        courseId: courseId,\n                        name: activity.name,\n                        status: activity.status,\n                        complete: activity.complete,\n                        score: activity.grade,\n                        hasPassed: activity.hasPassed,\n                        user: activity.username,\n                        email: activity.useremail,\n                        activityName: activity.activityname,\n                        activityId: activity.activityid\n                    };\n                    // Add course to our running data\n                    this.batGradesTable.push(activityObj);\n                }\n\n                return this.batGradesTable;\n            });\n        });\n    })\n</code></pre>\n"}]