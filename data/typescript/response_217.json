[{"tags": ["javascript", "node.js", "typescript"], "comments": [{"owner": {"reputation": 1179, "user_id": 4855194, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/G6vvI.jpg?s=128&g=1", "display_name": "Steven Stark", "link": "https://stackoverflow.com/users/4855194/steven-stark"}, "edited": false, "score": 0, "creation_date": 1551916074, "post_id": 55033707, "comment_id": 96820394, "body": "It would be worth your while to review this post: <a href=\"https://stackoverflow.com/questions/103598/why-was-the-arguments-callee-caller-property-deprecated-in-javascript\" title=\"why was the arguments callee caller property deprecated in javascript\">stackoverflow.com/questions/103598/&hellip;</a>"}, {"owner": {"reputation": 29171, "user_id": 1684269, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/5adbf1d60d27b9ee3aeee069591ba88b?s=128&d=identicon&r=PG", "display_name": "Ole", "link": "https://stackoverflow.com/users/1684269/ole"}, "reply_to_user": {"reputation": 1179, "user_id": 4855194, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/G6vvI.jpg?s=128&g=1", "display_name": "Steven Stark", "link": "https://stackoverflow.com/users/4855194/steven-stark"}, "edited": false, "score": 0, "creation_date": 1551916436, "post_id": 55033707, "comment_id": 96820489, "body": "Already did ..."}, {"owner": {"reputation": 1179, "user_id": 4855194, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/G6vvI.jpg?s=128&g=1", "display_name": "Steven Stark", "link": "https://stackoverflow.com/users/4855194/steven-stark"}, "edited": false, "score": 0, "creation_date": 1551916631, "post_id": 55033707, "comment_id": 96820541, "body": "well, you already answered your own question; remove strict mode."}, {"owner": {"reputation": 29171, "user_id": 1684269, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/5adbf1d60d27b9ee3aeee069591ba88b?s=128&d=identicon&r=PG", "display_name": "Ole", "link": "https://stackoverflow.com/users/1684269/ole"}, "reply_to_user": {"reputation": 1179, "user_id": 4855194, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/G6vvI.jpg?s=128&g=1", "display_name": "Steven Stark", "link": "https://stackoverflow.com/users/4855194/steven-stark"}, "edited": false, "score": 0, "creation_date": 1551916903, "post_id": 55033707, "comment_id": 96820608, "body": "As I noted in the question, strict mode is removed."}, {"owner": {"reputation": 1179, "user_id": 4855194, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/G6vvI.jpg?s=128&g=1", "display_name": "Steven Stark", "link": "https://stackoverflow.com/users/4855194/steven-stark"}, "edited": false, "score": 0, "creation_date": 1551916995, "post_id": 55033707, "comment_id": 96820632, "body": "try this: <a href=\"https://stackoverflow.com/questions/38269478/prevent-use-strict-in-typescript\" title=\"prevent use strict in typescript\">stackoverflow.com/questions/38269478/&hellip;</a>"}, {"owner": {"reputation": 29171, "user_id": 1684269, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/5adbf1d60d27b9ee3aeee069591ba88b?s=128&d=identicon&r=PG", "display_name": "Ole", "link": "https://stackoverflow.com/users/1684269/ole"}, "reply_to_user": {"reputation": 1179, "user_id": 4855194, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/G6vvI.jpg?s=128&g=1", "display_name": "Steven Stark", "link": "https://stackoverflow.com/users/4855194/steven-stark"}, "edited": false, "score": 1, "creation_date": 1551918077, "post_id": 55033707, "comment_id": 96820902, "body": "Bullseye!!  Nice - Thanks!  My eye brow was starting to twitch over this one.  Please answer the question and I&#39;ll check it off."}], "answers": [{"tags": [], "owner": {"reputation": 1179, "user_id": 4855194, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/G6vvI.jpg?s=128&g=1", "display_name": "Steven Stark", "link": "https://stackoverflow.com/users/4855194/steven-stark"}, "is_accepted": true, "score": 2, "last_activity_date": 1551918434, "last_edit_date": 1551918434, "creation_date": 1551918304, "answer_id": 55034252, "question_id": 55033707, "link": "https://stackoverflow.com/questions/55033707/accessing-callee-on-typescript-strict-mode-functions/55034252#55034252", "title": "Accessing callee on Typescript strict mode functions?", "body": "<p>In addition to <code>\"strict\": false</code> also add <code>\"noImplicitUseStrict\": true</code>.</p>\n\n<p>TypeScript will add strict mode in on it's own, and this needs to be disabled. </p>\n\n<p>How to do this has been answered already here: <a href=\"https://stackoverflow.com/questions/38269478/prevent-use-strict-in-typescript\">prevent-use-strict-in-typescript</a></p>\n\n<blockquote>\n  <p>You can do that by compiling with the --noImplicitUseStrict compiler option\u2014add \"noImplicitUseStrict\": true to \"compilerOptions\" in tsconfig.json. Doing so will prevent the compiler from emitting \"use strict\".</p>\n</blockquote>\n"}], "owner": {"reputation": 29171, "user_id": 1684269, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/5adbf1d60d27b9ee3aeee069591ba88b?s=128&d=identicon&r=PG", "display_name": "Ole", "link": "https://stackoverflow.com/users/1684269/ole"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1243, "favorite_count": 0, "closed_date": 1552003402, "accepted_answer_id": 55034252, "answer_count": 1, "score": 0, "last_activity_date": 1551918434, "creation_date": 1551914209, "last_edit_date": 1551916938, "question_id": 55033707, "link": "https://stackoverflow.com/questions/55033707/accessing-callee-on-typescript-strict-mode-functions", "closed_reason": "Duplicate", "title": "Accessing callee on Typescript strict mode functions?", "body": "<p>I'm adding functions to <a href=\"https://www.npmjs.com/package/@fireflysemantics/is\" rel=\"nofollow noreferrer\">this library</a> that access<code>arugments.callee</code>.  Within the project's <code>tsconfig.json</code> I set <code>\"strict\": false</code>, causing this mini test to work:</p>\n\n<pre><code>    function check() {\n        console.log(arguments.callee.name);\n    }\n</code></pre>\n\n<p>That works.  Now if I import the part of the library that I want to run tests on like this:</p>\n\n<pre><code>    import {isNumberInRange} from './is';\n\n    function check() {\n        console.log(arguments.callee.name);\n    //    isNumberInRange(1,0,1);\n    }\n    check();\n</code></pre>\n\n<p>Even if I don't actually run the <code>isNumberInRange</code> function typescript still logs this:</p>\n\n<blockquote>\n  <p>TypeError: 'caller', 'callee', and 'arguments' properties may not be accessed on strict mode functions or the arguments objects for calls to them\n      at check (/home/ole/Github/is/src/test.ts:4:27)</p>\n</blockquote>\n\n<p>What else do I need to do to enable calling <code>arguments.callee.name</code>?</p>\n"}, {"tags": ["reactjs", "typescript", "redux", "type-safety"], "comments": [{"owner": {"reputation": 884, "user_id": 1379329, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ce3bc2efb236227cf86657c279a7d3c6?s=128&d=identicon&r=PG", "display_name": "Kevin Raoofi", "link": "https://stackoverflow.com/users/1379329/kevin-raoofi"}, "edited": false, "score": 0, "creation_date": 1551920849, "post_id": 55033680, "comment_id": 96821489, "body": "Can you explain what you feel is hacky about your solution? Is it that you are casting <code>store</code> to a <code>LoggedIn</code>? That shouldn&#39;t occur if you set up the types for <code>LoggedIn</code> and <code>LoggedOut</code> correctly. Also, you say that you don&#39;t want to pass in the whole store -- but the whole store is the entire object for LoggedIn/LoggedOut, so that&#39;s kind of unavoidable. Could you clarify what you mean?"}, {"owner": {"reputation": 1487, "user_id": 3668541, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/ba66d28285a3e98b836178617d096b75?s=128&d=identicon&r=PG&f=1", "display_name": "haz", "link": "https://stackoverflow.com/users/3668541/haz"}, "reply_to_user": {"reputation": 884, "user_id": 1379329, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ce3bc2efb236227cf86657c279a7d3c6?s=128&d=identicon&r=PG", "display_name": "Kevin Raoofi", "link": "https://stackoverflow.com/users/1379329/kevin-raoofi"}, "edited": false, "score": 0, "creation_date": 1551925687, "post_id": 55033680, "comment_id": 96822577, "body": "Basically, in Elm/Haskell I can guarantee that my main state will be in a certain configuration, which removes the need for a lot of &quot;if state is x then y, else z&quot;. I&#39;m trying to implement the same guarantees in Typescript, to avoid constant switch statements."}, {"owner": {"reputation": 884, "user_id": 1379329, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ce3bc2efb236227cf86657c279a7d3c6?s=128&d=identicon&r=PG", "display_name": "Kevin Raoofi", "link": "https://stackoverflow.com/users/1379329/kevin-raoofi"}, "edited": false, "score": 0, "creation_date": 1551926085, "post_id": 55033680, "comment_id": 96822667, "body": "TypeScript can guarantee that the store is <i>valid</i>, but that doesn&#39;t get rid of any conditionals in your code since you&#39;re gonna want to handle them differently based on their state."}, {"owner": {"reputation": 1487, "user_id": 3668541, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/ba66d28285a3e98b836178617d096b75?s=128&d=identicon&r=PG&f=1", "display_name": "haz", "link": "https://stackoverflow.com/users/3668541/haz"}, "reply_to_user": {"reputation": 884, "user_id": 1379329, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ce3bc2efb236227cf86657c279a7d3c6?s=128&d=identicon&r=PG", "display_name": "Kevin Raoofi", "link": "https://stackoverflow.com/users/1379329/kevin-raoofi"}, "edited": false, "score": 0, "creation_date": 1551943879, "post_id": 55033680, "comment_id": 96827760, "body": "That&#39;s what I&#39;m trying to get around. In Elm, I can pattern-match on the union type and render different routes accordingly. The specific types (e.g. <code>LoggedIn</code> or <code>LoggedOut</code>) are then passed to the component, not the whole union. How can I do this neatly in Typescript, without passing the store through props (which a lot of people discourage)?. Perhaps I need something to do with <code>Context</code>? I haven&#39;t used it before."}], "answers": [{"tags": [], "owner": {"reputation": 884, "user_id": 1379329, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ce3bc2efb236227cf86657c279a7d3c6?s=128&d=identicon&r=PG", "display_name": "Kevin Raoofi", "link": "https://stackoverflow.com/users/1379329/kevin-raoofi"}, "is_accepted": false, "score": 0, "last_activity_date": 1551977544, "creation_date": 1551977544, "answer_id": 55049030, "question_id": 55033680, "link": "https://stackoverflow.com/questions/55033680/how-to-pass-only-one-store-type-to-a-component-when-the-store-is-a-union-type/55049030#55049030", "title": "How to pass only one store type to a component (when the store is a union type)", "body": "<p>The following should type check correctly. Unfortunately, I believe that <code>react-redux</code>'s <code>connect</code> utility's type definitions doesn't properly support union types being mapped in <code>mapStateToProps</code>.</p>\n\n<p>This still has conditional rendering, but I don't see how that's any different from using pattern matching in Elm.</p>\n\n<pre><code>/** represents the store when logged out */\ninterface LoggedOutStore {\n  type: 'LOGGED_OUT';\n  login: LoggedOut;\n}\n\n/** represents the store when logged in */\ninterface LoggedInStore {\n  type: 'LOGGED_IN';\n  login: LoggedIn;\n}\n\ntype LogState = LoggedInStore | LoggedOutStore; // the part of the store with login state\ntype AppState = LogState &amp; OtherStateFields; // the actual redux store\n\n// dummy components w/ typing\nconst LoggedInComponent = ({ login }: { login: LoggedIn }) =&gt; &lt;&gt;&lt;/&gt;;\nconst LoggedOutComponent = ({ logout }: { logout: LoggedOut }) =&gt; &lt;&gt;&lt;/&gt;;\n\nfunction LogStateComponent(props: LogState) {\n  switch (props.type) {\n    case 'LOGGED_IN':\n      return &lt;LoggedInComponent login={props.login} /&gt;;\n    case 'LOGGED_OUT':\n      return &lt;LoggedOutComponent logout={props.login} /&gt;;\n  }\n}\n// Pick&lt;LogState, never&gt; === {}\ntype ConnectedLogStateComponentType = ConnectedComponentClass&lt;\n  typeof LogStateComponent,\n  Pick&lt;LogState, never&gt;&gt;;\n\n// this should work in theory; but unfortunately, it needs casting\nconst ConnectedLogStateComponent = connect((s: AppState): object =&gt; s)\n  (LogStateComponent) as any as ConnectedLogStateComponentType;\n\nconst initState: AppState = {\n  login: { isLoading: false, lastAttemptFailed: false },\n  type: 'LOGGED_OUT',\n};\n\nexport const App = () =&gt; &lt;Provider store={createStore((s = initState) =&gt; s)}&gt;\n  &lt;ConnectedLogStateComponent /&gt;\n&lt;/Provider&gt;;\n</code></pre>\n"}], "owner": {"reputation": 1487, "user_id": 3668541, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/ba66d28285a3e98b836178617d096b75?s=128&d=identicon&r=PG&f=1", "display_name": "haz", "link": "https://stackoverflow.com/users/3668541/haz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 45, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1551977544, "creation_date": 1551914038, "question_id": 55033680, "link": "https://stackoverflow.com/questions/55033680/how-to-pass-only-one-store-type-to-a-component-when-the-store-is-a-union-type", "title": "How to pass only one store type to a component (when the store is a union type)", "body": "<p>I'm using Typescript with React/Redux.</p>\n\n<p>A site visitor can be in one of two states, <code>LoggedIn</code> or <code>LoggedOut</code>. I've structured my state accordingly:</p>\n\n<pre><code>interface LoggedIn {\n    token: string,\n    user: Data.User\n}\n\ninterface LoggedOut {\n    isLoading: boolean,\n    lastAttempFailed: boolean\n}\n\ntype Store = LoggedIn | LoggedOut\n</code></pre>\n\n<p>Coming from Haskell &amp; Elm, this feels natural. In theory, it would be impossible for implementations to acccess <code>undefined</code> or <code>null</code> data, because they'd only be able to access state relevant to the components (i.e. once the user is logged in, a component cannot access <code>LoggedOut.isLoading</code>).</p>\n\n<p>How can I integrate this with <code>mapStateToProps</code>? I have a <code>Provider</code> component supplying my store. I want certain components to only accept a <code>LoggedIn</code> or <code>LoggedOut</code> instance - not the entire store.</p>\n\n<p>Ideally, this would be type-checked and passed down by a parent component, e.g.:</p>\n\n<pre><code>class PrivateRouteComponent extends React.Component&lt;OwnProps &amp; ConnectedState, any&gt; {\n    render() {\n        const { store, component, ...props } = this.props;\n        const Component = component;\n        switch (store.type) {\n            case \"LOGGED_IN\":\n                return &lt;Route render={() =&gt; &lt;Component store={store as Store.LoggedIn} {...props}/&gt;}/&gt;;\n            case \"LOGGED_OUT\":\n                return &lt;Redirect to=\"/login\"/&gt;;\n        }\n    }\n}\n</code></pre>\n\n<p>But this is hacky and it feels un-idiomatic to pass the store through props. (Aside: this also makes it very hard to use route params in <code>react-router</code>).</p>\n\n<p>Is there a good, typesafe solution to this problem? Cheers</p>\n"}, {"tags": ["typescript", "underscore.js"], "comments": [{"owner": {"reputation": 229185, "user_id": 251311, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/b6b0ca5d4ef200ec8e3cd1fa2aefd836?s=128&d=identicon&r=PG", "display_name": "zerkms", "link": "https://stackoverflow.com/users/251311/zerkms"}, "edited": false, "score": 0, "creation_date": 1551913177, "post_id": 55033538, "comment_id": 96819567, "body": "Have you installed <code>@types&#47;underscore</code>?"}, {"owner": {"reputation": 15309, "user_id": 807037, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/546d8372e2c1acbe9be124ae70e535b2?s=128&d=identicon&r=PG", "display_name": "Noel Yap", "link": "https://stackoverflow.com/users/807037/noel-yap"}, "reply_to_user": {"reputation": 229185, "user_id": 251311, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/b6b0ca5d4ef200ec8e3cd1fa2aefd836?s=128&d=identicon&r=PG", "display_name": "zerkms", "link": "https://stackoverflow.com/users/251311/zerkms"}, "edited": false, "score": 0, "creation_date": 1551913638, "post_id": 55033538, "comment_id": 96819717, "body": "Doing so didn&#39;t resolve the issue."}, {"owner": {"reputation": 229185, "user_id": 251311, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/b6b0ca5d4ef200ec8e3cd1fa2aefd836?s=128&d=identicon&r=PG", "display_name": "zerkms", "link": "https://stackoverflow.com/users/251311/zerkms"}, "edited": false, "score": 0, "creation_date": 1551914015, "post_id": 55033538, "comment_id": 96819848, "body": "&quot;elicits a type error&quot; --- what error?"}, {"owner": {"reputation": 15309, "user_id": 807037, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/546d8372e2c1acbe9be124ae70e535b2?s=128&d=identicon&r=PG", "display_name": "Noel Yap", "link": "https://stackoverflow.com/users/807037/noel-yap"}, "reply_to_user": {"reputation": 229185, "user_id": 251311, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/b6b0ca5d4ef200ec8e3cd1fa2aefd836?s=128&d=identicon&r=PG", "display_name": "zerkms", "link": "https://stackoverflow.com/users/251311/zerkms"}, "edited": false, "score": 0, "creation_date": 1551914113, "post_id": 55033538, "comment_id": 96819877, "body": "``` Type error: Argument of type &#39;{ default: UnderscoreStatic; each&lt;T&gt;(list: List&lt;T&gt;, iterator: ListIterator&lt;T, void&gt;, context?: any): List&lt;T&gt;; each&lt;T&gt;(object: Dictionary&lt;T&gt;, iterator: ObjectIterator&lt;T, void&gt;, context?: any): Dictionary&lt;...&gt;; ... 133 more ...; chain&lt;T&gt;(obj: T[]): _Chain&lt;...&gt;; chain&lt;T&gt;(obj: Dictionary&lt;...&gt;): _Chain&lt;...&gt;; chain&lt;T exte...&#39; is not assignable to parameter of type &#39;UnderscoreStatic&#39;. ```"}, {"owner": {"reputation": 229185, "user_id": 251311, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/b6b0ca5d4ef200ec8e3cd1fa2aefd836?s=128&d=identicon&r=PG", "display_name": "zerkms", "link": "https://stackoverflow.com/users/251311/zerkms"}, "edited": false, "score": 0, "creation_date": 1551914364, "post_id": 55033538, "comment_id": 96819951, "body": "What if you <code>import _ from &#39;underscore&#39;;</code> instead? It looks like <code>UnderscoreStatic</code> is the default export."}, {"owner": {"reputation": 15309, "user_id": 807037, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/546d8372e2c1acbe9be124ae70e535b2?s=128&d=identicon&r=PG", "display_name": "Noel Yap", "link": "https://stackoverflow.com/users/807037/noel-yap"}, "reply_to_user": {"reputation": 229185, "user_id": 251311, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/b6b0ca5d4ef200ec8e3cd1fa2aefd836?s=128&d=identicon&r=PG", "display_name": "zerkms", "link": "https://stackoverflow.com/users/251311/zerkms"}, "edited": false, "score": 0, "creation_date": 1551914590, "post_id": 55033538, "comment_id": 96820029, "body": "That did the trick. Convert your comment into an answer and I&#39;ll upvote it. Thanks!"}], "answers": [{"tags": [], "owner": {"reputation": 229185, "user_id": 251311, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/b6b0ca5d4ef200ec8e3cd1fa2aefd836?s=128&d=identicon&r=PG", "display_name": "zerkms", "link": "https://stackoverflow.com/users/251311/zerkms"}, "is_accepted": true, "score": 1, "last_activity_date": 1551914691, "creation_date": 1551914691, "answer_id": 55033778, "question_id": 55033538, "link": "https://stackoverflow.com/questions/55033538/how-to-use-partial-with-typescript/55033778#55033778", "title": "How to use `_.partial` with TypeScript?", "body": "<p>Given that <code>UnderscoreStatic</code> is defined as a <code>default</code> export one should </p>\n\n<pre><code>import _ from 'underscore';\n</code></pre>\n\n<p>instead.</p>\n\n<p>It would satisfy the type checker and the rest of the code should not change (since underscore exports both as named exports and as a properties of a default export).</p>\n"}], "owner": {"reputation": 15309, "user_id": 807037, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/546d8372e2c1acbe9be124ae70e535b2?s=128&d=identicon&r=PG", "display_name": "Noel Yap", "link": "https://stackoverflow.com/users/807037/noel-yap"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 220, "favorite_count": 0, "accepted_answer_id": 55033778, "answer_count": 1, "score": 1, "last_activity_date": 1551914691, "creation_date": 1551913065, "question_id": 55033538, "link": "https://stackoverflow.com/questions/55033538/how-to-use-partial-with-typescript", "title": "How to use `_.partial` with TypeScript?", "body": "<pre><code>\nimport * as _ from 'underscore';\n\nconst partialFn = _.partial(fn, _, fixedArg);\n</code></pre>\n\n<p>elicits a type error. I've tried type casting the <code>_</code> argument with <code>&lt;any&gt;</code> but that doesn't fix the issue.</p>\n\n<p>How is <code>_.partial</code> supposed to be used with TypeScript?</p>\n"}, {"tags": ["reactjs", "typescript"], "comments": [{"owner": {"reputation": 7629, "user_id": 978005, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/9219975d0b744e19422761516d419f12?s=128&d=identicon&r=PG", "display_name": "Phix", "link": "https://stackoverflow.com/users/978005/phix"}, "edited": false, "score": 0, "creation_date": 1551912283, "post_id": 55033355, "comment_id": 96819178, "body": "It&#39;s an inline type, with keys <code>some</code> and <code>some2</code> as strings."}, {"owner": {"reputation": 187, "user_id": 8684083, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/4f2bea892bdad26b3dbfeab4d7dbd6da?s=128&d=identicon&r=PG&f=1", "display_name": "Adee", "link": "https://stackoverflow.com/users/8684083/adee"}, "reply_to_user": {"reputation": 7629, "user_id": 978005, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/9219975d0b744e19422761516d419f12?s=128&d=identicon&r=PG", "display_name": "Phix", "link": "https://stackoverflow.com/users/978005/phix"}, "edited": false, "score": 0, "creation_date": 1551912417, "post_id": 55033355, "comment_id": 96819231, "body": "but why there are &quot;;&quot; signs? Why not &quot;,&quot;? This is not a part of the interface?"}], "answers": [{"tags": [], "owner": {"reputation": 115, "user_id": 7517072, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/28d396cd1121fefe2fde71ef5da23655?s=128&d=identicon&r=PG&f=1", "display_name": "Morten Twellmann", "link": "https://stackoverflow.com/users/7517072/morten-twellmann"}, "is_accepted": false, "score": 2, "last_activity_date": 1551914293, "last_edit_date": 1551914293, "creation_date": 1551913157, "answer_id": 55033551, "question_id": 55033355, "link": "https://stackoverflow.com/questions/55033355/react-and-typescript-componentprops/55033551#55033551", "title": "React and TypeScript - Component&lt;Props &amp; {}&gt;", "body": "<p>It's an intersection type. When defining interfaces in typescript you can separate each property with a semicolon. You can also use commas. It doesn't matter.</p>\n\n<p><a href=\"https://www.typescriptlang.org/docs/handbook/interfaces.html\" rel=\"nofollow noreferrer\">https://www.typescriptlang.org/docs/handbook/interfaces.html</a></p>\n"}, {"tags": [], "owner": {"reputation": 7629, "user_id": 978005, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/9219975d0b744e19422761516d419f12?s=128&d=identicon&r=PG", "display_name": "Phix", "link": "https://stackoverflow.com/users/978005/phix"}, "is_accepted": false, "score": 0, "last_activity_date": 1551914276, "creation_date": 1551914276, "answer_id": 55033715, "question_id": 55033355, "link": "https://stackoverflow.com/questions/55033355/react-and-typescript-componentprops/55033715#55033715", "title": "React and TypeScript - Component&lt;Props &amp; {}&gt;", "body": "<pre><code>export class App extends Component&lt;Props &amp; { some: string; some2: string; }&gt;\n</code></pre>\n\n<p>Is no different from</p>\n\n<pre><code>interface SomeInterface {\n    some: string;\n    some2: string;\n}\nexport class App extends Component&lt;Props &amp; SomeInterface&gt;\n</code></pre>\n\n<p>It's just written inline instead of creating a new interface for that one line.</p>\n"}], "owner": {"reputation": 187, "user_id": 8684083, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/4f2bea892bdad26b3dbfeab4d7dbd6da?s=128&d=identicon&r=PG&f=1", "display_name": "Adee", "link": "https://stackoverflow.com/users/8684083/adee"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 36, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1551914293, "creation_date": 1551912121, "question_id": 55033355, "link": "https://stackoverflow.com/questions/55033355/react-and-typescript-componentprops", "title": "React and TypeScript - Component&lt;Props &amp; {}&gt;", "body": "<p>What does this piece of code mean? </p>\n\n<pre><code>export class App extends Component&lt;Props &amp; { some: string; some2: string; }&gt;\n</code></pre>\n\n<p>I mean... what is after the <strong>&amp;</strong> sign</p>\n\n<pre><code>&amp; { some: string; some2: string; }\n</code></pre>\n"}, {"tags": ["javascript", "node.js", "typescript", "parquet"], "owner": {"reputation": 8627, "user_id": 5285068, "user_type": "registered", "accept_rate": 35, "profile_image": "https://www.gravatar.com/avatar/8967c033e617a2fb6f7d8fd7b5a12eb5?s=128&d=identicon&r=PG&f=1", "display_name": "Joe", "link": "https://stackoverflow.com/users/5285068/joe"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 264, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1551912202, "creation_date": 1551911853, "last_edit_date": 1551912202, "question_id": 55033306, "link": "https://stackoverflow.com/questions/55033306/nodejs-parquet-reader-how-to-read-from-a-variable-instead-of-file", "title": "NodeJS parquet-reader - how to read from a variable instead of file?", "body": "<p>I started using <code>node-parquet</code> (<a href=\"https://www.npmjs.com/package/node-parquet\" rel=\"nofollow noreferrer\">https://www.npmjs.com/package/node-parquet</a>) (src: <a href=\"https://github.com/mvertes/node-parquet\" rel=\"nofollow noreferrer\">https://github.com/mvertes/node-parquet</a>) and it is explained how we can read parquet data from a file:</p>\n\n<pre><code>var reader = new np.ParquetReader('myfile.parquet');\n</code></pre>\n\n<p>How to read parquet from a text variable instead of a file (text variable contains actual parquet data). </p>\n\n<p>Right now I am forced to save that text/parquet variable to into a file and then read it with above code..</p>\n"}, {"tags": ["reactjs", "typescript"], "comments": [{"owner": {"reputation": 699, "user_id": 9430279, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/MET0a.jpg?s=128&g=1", "display_name": "Shawn Yap", "link": "https://stackoverflow.com/users/9430279/shawn-yap"}, "edited": false, "score": 0, "creation_date": 1551911954, "post_id": 55033277, "comment_id": 96819057, "body": "You would have a <code>isLoading</code> state on the parent component that&#39;s passed down to the child component. Once the object fetch is completed, update the <code>loading</code> state and that&#39;s going to reflect on the child component."}, {"owner": {"reputation": 125, "user_id": 10699991, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/74dc290fafb1127cbe28377766760d60?s=128&d=identicon&r=PG&f=1", "display_name": "C.Programming", "link": "https://stackoverflow.com/users/10699991/c-programming"}, "reply_to_user": {"reputation": 699, "user_id": 9430279, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/MET0a.jpg?s=128&g=1", "display_name": "Shawn Yap", "link": "https://stackoverflow.com/users/9430279/shawn-yap"}, "edited": false, "score": 0, "creation_date": 1551912326, "post_id": 55033277, "comment_id": 96819195, "body": "@ShawnYap would this be better or easier than just passing the object[] down to my child component? This isLoading will be the case for multiple state arrays defined in the app, so would I have to either pass down multiple isLoading booleans or the arrays themselves?"}, {"owner": {"reputation": 699, "user_id": 9430279, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/MET0a.jpg?s=128&g=1", "display_name": "Shawn Yap", "link": "https://stackoverflow.com/users/9430279/shawn-yap"}, "edited": false, "score": 0, "creation_date": 1551912541, "post_id": 55033277, "comment_id": 96819293, "body": "I&#39;ve posted a generic approach below. It&#39;ll only pass the object to the child once it&#39;s done loading."}, {"owner": {"reputation": 125, "user_id": 10699991, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/74dc290fafb1127cbe28377766760d60?s=128&d=identicon&r=PG&f=1", "display_name": "C.Programming", "link": "https://stackoverflow.com/users/10699991/c-programming"}, "reply_to_user": {"reputation": 699, "user_id": 9430279, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/MET0a.jpg?s=128&g=1", "display_name": "Shawn Yap", "link": "https://stackoverflow.com/users/9430279/shawn-yap"}, "edited": false, "score": 0, "creation_date": 1551912554, "post_id": 55033277, "comment_id": 96819298, "body": "@ShawnYap The reason I am reluctant is that I am mutliple layers down from my parent app. The children along the way do utliize the getObjects function, but not necessarily the loading spinner. I guess I am uneasy about passing a bunch of booleans that will not be utilized by these child components, but need to be passed through their props to the grandchildren etc"}, {"owner": {"reputation": 699, "user_id": 9430279, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/MET0a.jpg?s=128&g=1", "display_name": "Shawn Yap", "link": "https://stackoverflow.com/users/9430279/shawn-yap"}, "edited": false, "score": 0, "creation_date": 1551912749, "post_id": 55033277, "comment_id": 96819387, "body": "Hmm if that&#39;s the case, is there a reason why you don&#39;t want your getObjects function to be in the grandchild component?"}, {"owner": {"reputation": 699, "user_id": 9430279, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/MET0a.jpg?s=128&g=1", "display_name": "Shawn Yap", "link": "https://stackoverflow.com/users/9430279/shawn-yap"}, "edited": false, "score": 0, "creation_date": 1551913282, "post_id": 55033277, "comment_id": 96819600, "body": "Maybe a HOC that controls the state and then wrap that HOC onto any components that requires those states might be worth looking into."}, {"owner": {"reputation": 125, "user_id": 10699991, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/74dc290fafb1127cbe28377766760d60?s=128&d=identicon&r=PG&f=1", "display_name": "C.Programming", "link": "https://stackoverflow.com/users/10699991/c-programming"}, "reply_to_user": {"reputation": 699, "user_id": 9430279, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/MET0a.jpg?s=128&g=1", "display_name": "Shawn Yap", "link": "https://stackoverflow.com/users/9430279/shawn-yap"}, "edited": false, "score": 0, "creation_date": 1551913543, "post_id": 55033277, "comment_id": 96819684, "body": "@ShawnYap I have posted more context for my problem. It should probably have been in the initial post since it was very vague. I am new to react and have read a tiny bit about HOCs, but I am unsure of how to use them on this greatgrandchild component which has children of its own."}], "answers": [{"comments": [{"owner": {"reputation": 125, "user_id": 10699991, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/74dc290fafb1127cbe28377766760d60?s=128&d=identicon&r=PG&f=1", "display_name": "C.Programming", "link": "https://stackoverflow.com/users/10699991/c-programming"}, "edited": false, "score": 0, "creation_date": 1551912001, "post_id": 55033317, "comment_id": 96819070, "body": "I am looking to do this without passing the object[] itself to my child component. Is that the only way to accomplish this?"}, {"owner": {"reputation": 699, "user_id": 9430279, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/MET0a.jpg?s=128&g=1", "display_name": "Shawn Yap", "link": "https://stackoverflow.com/users/9430279/shawn-yap"}, "edited": false, "score": 0, "creation_date": 1551912034, "post_id": 55033317, "comment_id": 96819087, "body": "If the object is empty, this would forever be loading."}, {"owner": {"reputation": 2112, "user_id": 10604378, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/nl64F.png?s=128&g=1", "display_name": "Muljayan", "link": "https://stackoverflow.com/users/10604378/muljayan"}, "reply_to_user": {"reputation": 125, "user_id": 10699991, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/74dc290fafb1127cbe28377766760d60?s=128&d=identicon&r=PG&f=1", "display_name": "C.Programming", "link": "https://stackoverflow.com/users/10699991/c-programming"}, "edited": false, "score": 0, "creation_date": 1551912450, "post_id": 55033317, "comment_id": 96819246, "body": "You can also try to set a loading state on parent and pass it to the children.I have updated the answer @C.Programming ."}, {"owner": {"reputation": 2112, "user_id": 10604378, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/nl64F.png?s=128&g=1", "display_name": "Muljayan", "link": "https://stackoverflow.com/users/10604378/muljayan"}, "reply_to_user": {"reputation": 699, "user_id": 9430279, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/MET0a.jpg?s=128&g=1", "display_name": "Shawn Yap", "link": "https://stackoverflow.com/users/9430279/shawn-yap"}, "edited": false, "score": 0, "creation_date": 1551912486, "post_id": 55033317, "comment_id": 96819266, "body": "@ShawnYap empty objects return true don&#39;t they ? I tried it just now and got true"}, {"owner": {"reputation": 699, "user_id": 9430279, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/MET0a.jpg?s=128&g=1", "display_name": "Shawn Yap", "link": "https://stackoverflow.com/users/9430279/shawn-yap"}, "edited": false, "score": 0, "creation_date": 1551913077, "post_id": 55033317, "comment_id": 96819532, "body": "@Muljayan What about some random cases where object is <code>null</code>?"}, {"owner": {"reputation": 2112, "user_id": 10604378, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/nl64F.png?s=128&g=1", "display_name": "Muljayan", "link": "https://stackoverflow.com/users/10604378/muljayan"}, "edited": false, "score": 0, "creation_date": 1551914061, "post_id": 55033317, "comment_id": 96819861, "body": "In that case an error handling can be done, but its outside the scope of the question i guess."}], "tags": [], "owner": {"reputation": 2112, "user_id": 10604378, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/nl64F.png?s=128&g=1", "display_name": "Muljayan", "link": "https://stackoverflow.com/users/10604378/muljayan"}, "is_accepted": false, "score": 0, "last_activity_date": 1551912287, "last_edit_date": 1551912287, "creation_date": 1551911887, "answer_id": 55033317, "question_id": 55033277, "link": "https://stackoverflow.com/questions/55033277/display-a-spinner-while-loading-parent-state-array/55033317#55033317", "title": "Display a Spinner while loading Parent State Array", "body": "<p>In your child component conditionally render the spinner and the object contents.</p>\n\n<pre><code>{\nyourObjectFromParent \n? (&lt;&gt;Your object contents here&lt;/&gt;)\n: (&lt;LoaderComponent/&gt;)\n}\n</code></pre>\n\n<p>OR</p>\n\n<p>You can try to set a state called loading=true in the parent and set it to false when object is loaded. You should pass this loading state as props to the child components. If thats the case your code will be like this. This can also be implemented with a global state handler like redux.</p>\n\n<pre><code>{\nprops.loading \n? (&lt;&gt;Your object contents here&lt;/&gt;)\n: (&lt;LoaderComponent/&gt;)\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 699, "user_id": 9430279, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/MET0a.jpg?s=128&g=1", "display_name": "Shawn Yap", "link": "https://stackoverflow.com/users/9430279/shawn-yap"}, "is_accepted": false, "score": 0, "last_activity_date": 1551912407, "creation_date": 1551912407, "answer_id": 55033407, "question_id": 55033277, "link": "https://stackoverflow.com/questions/55033277/display-a-spinner-while-loading-parent-state-array/55033407#55033407", "title": "Display a Spinner while loading Parent State Array", "body": "<p>This would show a spinner until loading is completed.</p>\n\n<pre><code>class MyComponent extends Component {\n  state = {\n        isLoading: true,\n        data: null\n  }\n\n  componentDidMount() {\n    fetchSomeData(url)\n      .then(data =&gt; {\n        this.setState({isLoading: false, data: data});\n      })\n    }\n\n    render() {\n        const {isLoading, data} = this.state;\n        return isLoading ? &lt;ChildComponent data={data} /&gt; : &lt;Spinner /&gt;\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 125, "user_id": 10699991, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/74dc290fafb1127cbe28377766760d60?s=128&d=identicon&r=PG&f=1", "display_name": "C.Programming", "link": "https://stackoverflow.com/users/10699991/c-programming"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 281, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1551913447, "creation_date": 1551911644, "last_edit_date": 1551913447, "question_id": 55033277, "link": "https://stackoverflow.com/questions/55033277/display-a-spinner-while-loading-parent-state-array", "title": "Display a Spinner while loading Parent State Array", "body": "<p>I am using React with typescript for my application. What I have now is in my top level \u201capp.tsx\u201d a state called objects which is an array of objects. I have passed down through a few child components a function that is getObjects which is defined in the top app level. This function returns the state object[] if it is defined otherwise calls an asynchronous function to load in the objects.</p>\n\n<blockquote>\n  <p>What I would like to do is to display a loading spinner in my child component while this state object[] is still undefined in the app.  </p>\n</blockquote>\n\n<p>I know that if I were to load the object[] as a local state in my child component I could easily accomplish this. Is there any way that I can call a callback at the child level after the state in the app has finished loading? The only way that I see to do it is to pass the object[] itself to the child component, but my knowledge is still very limited. Thank you, I appreciate all help. </p>\n\n<p><strong>Edit:</strong><br>\nI do need the getObjects function in my grandchild component. I've simplified the structure a bit. What really is the situation is in the app object is a Dictionary type that acts as a key-value pair with a number id corresponding to a specific array of objects. On app loading, one key-value pair is chosen and that is loaded asynchronously while the user can keep using the app. It loads in the backend for these initial child components so a spinner is not needed.   </p>\n\n<p>Later in the greatgrandchild component, there is a need to, if chosen by the user, load another id into the dictionary while using an API to populate the object[] portion of the dictionary. Once this portion of the dictionary is loaded, the getObjects call in the top app layer returns a converted array of objects in my greatgrandchild to be used for selection. What is happening now is that the selectbox is just being empty until the async function completes, then it populates as expected. What I would like to do is to display a spinner in the greatgrandchild in place of the selectbox while this operation completes. </p>\n\n<p>Since the structure is a dictionary and technically two values for the dictionary could be trying to be loaded at a time, I'm not sure that I want to try to pass through and use a boolean for this loading. </p>\n\n<p>I am reluctant to pass through the whole dictionary itself and wait for the particular dictionary key-value pair to be loaded since this seems like an anti-pattern. What is the best way to accomplish what I am trying to do?</p>\n"}, {"tags": ["javascript", "node.js", "typescript"], "comments": [{"owner": {"reputation": 21922, "user_id": 4855306, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2a6aabb85641845de100ab0b0b87463a?s=128&d=identicon&r=PG&f=1", "display_name": "bryan60", "link": "https://stackoverflow.com/users/4855306/bryan60"}, "edited": false, "score": 1, "creation_date": 1551911553, "post_id": 55033224, "comment_id": 96818904, "body": "typescript is transpiled into javascript, so no."}, {"owner": {"reputation": 135520, "user_id": 1715579, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/4B4y1.png?s=128&g=1", "display_name": "p.s.w.g", "link": "https://stackoverflow.com/users/1715579/p-s-w-g"}, "edited": false, "score": 1, "creation_date": 1551911674, "post_id": 55033224, "comment_id": 96818949, "body": "Plugging my own answer from a several years ago: <a href=\"https://stackoverflow.com/a/29572569/1715579\">yeah it&#39;s possible, but ugly</a> and not entirely reliable -- I recommend against using it in prod."}], "answers": [{"comments": [{"owner": {"reputation": 29171, "user_id": 1684269, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/5adbf1d60d27b9ee3aeee069591ba88b?s=128&d=identicon&r=PG", "display_name": "Ole", "link": "https://stackoverflow.com/users/1684269/ole"}, "edited": false, "score": 0, "creation_date": 1551913839, "post_id": 55033318, "comment_id": 96819788, "body": "Thanks @LeroyStav.  I&#39;m creating a custom Error and want to include the method name that threw the exception, and instead of writing it myself, I figured javascript could just grab it for me ... but apparently it&#39;s tricky :)"}, {"owner": {"reputation": 3130, "user_id": 2064808, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4d819efdb2d3f9983a1437f3c1b9f710?s=128&d=identicon&r=PG", "display_name": "David Knipe", "link": "https://stackoverflow.com/users/2064808/david-knipe"}, "edited": false, "score": 0, "creation_date": 1551914156, "post_id": 55033318, "comment_id": 96819893, "body": "If you just want to debug your code, why don&#39;t you print a stacktrace?"}, {"owner": {"reputation": 682, "user_id": 1442432, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d03b9d49431da72c96a55db920a229c4?s=128&d=identicon&r=PG", "display_name": "Leroy Stav", "link": "https://stackoverflow.com/users/1442432/leroy-stav"}, "edited": false, "score": 0, "creation_date": 1551918740, "post_id": 55033318, "comment_id": 96821030, "body": "Actually, thats pretty much what p.s.w.g describes in his comment&#39;s link... you can parse the stack trace from the Error object that is thrown.  put a breakpoint there and see what properties are available and figure out what works for you"}], "tags": [], "owner": {"reputation": 682, "user_id": 1442432, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d03b9d49431da72c96a55db920a229c4?s=128&d=identicon&r=PG", "display_name": "Leroy Stav", "link": "https://stackoverflow.com/users/1442432/leroy-stav"}, "is_accepted": true, "score": 2, "last_activity_date": 1551911895, "creation_date": 1551911895, "answer_id": 55033318, "question_id": 55033224, "link": "https://stackoverflow.com/questions/55033224/typescript-allowing-for-arguments-callee-name/55033318#55033318", "title": "Typescript allowing for arguments.callee.name?", "body": "<p>Sorry, buddy... either you want to be strict, or not.  arguments.callee was deprecated a decade ago.  What is the problem you are trying to solve?  Except for very specific circumstances there are better ways to deal with that...</p>\n"}], "owner": {"reputation": 29171, "user_id": 1684269, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/5adbf1d60d27b9ee3aeee069591ba88b?s=128&d=identicon&r=PG", "display_name": "Ole", "link": "https://stackoverflow.com/users/1684269/ole"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 324, "favorite_count": 0, "accepted_answer_id": 55033318, "answer_count": 1, "score": 0, "last_activity_date": 1551911895, "creation_date": 1551911391, "last_edit_date": 1551911781, "question_id": 55033224, "link": "https://stackoverflow.com/questions/55033224/typescript-allowing-for-arguments-callee-name", "title": "Typescript allowing for arguments.callee.name?", "body": "<p>If we <code>\"strict\": false</code> in <code>tsconfig.json</code>, then we can access <code>arguments.callee.name</code>. </p>\n\n<p>Is there some other setting that we can switch on, while keeping <code>\"strict\": true</code> to get the same effect?</p>\n\n<p>I'd like to be as strict as possible, and no stricter.</p>\n"}, {"tags": ["typescript", "momentjs"], "comments": [{"owner": {"reputation": 229185, "user_id": 251311, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/b6b0ca5d4ef200ec8e3cd1fa2aefd836?s=128&d=identicon&r=PG", "display_name": "zerkms", "link": "https://stackoverflow.com/users/251311/zerkms"}, "edited": false, "score": 0, "creation_date": 1551910781, "post_id": 55033049, "comment_id": 96818645, "body": "What is type <code>hooks</code>?"}, {"owner": {"user_type": "does_not_exist", "display_name": "user5655470"}, "reply_to_user": {"reputation": 229185, "user_id": 251311, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/b6b0ca5d4ef200ec8e3cd1fa2aefd836?s=128&d=identicon&r=PG", "display_name": "zerkms", "link": "https://stackoverflow.com/users/251311/zerkms"}, "edited": false, "score": 0, "creation_date": 1551977264, "post_id": 55033049, "comment_id": 96847900, "body": "its something in the moment.js file"}, {"owner": {"user_type": "does_not_exist", "display_name": "user5655470"}, "reply_to_user": {"reputation": 229185, "user_id": 251311, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/b6b0ca5d4ef200ec8e3cd1fa2aefd836?s=128&d=identicon&r=PG", "display_name": "zerkms", "link": "https://stackoverflow.com/users/251311/zerkms"}, "edited": false, "score": 0, "creation_date": 1551978933, "post_id": 55033049, "comment_id": 96848825, "body": "so, here&#39;s some irony:  the following works just fine:<code>Moment.locale(&#39;en-US&#39;)</code>; but the next line <code>_dateRangeControl.endDate = Moment(_now).add(_endInterval, &#39;M&#39;).format(&#39;YYYY-MM-DD&#39;);</code> dies with the hooks error not having &#39;add&#39; as a method.....UGH."}, {"owner": {"user_type": "does_not_exist", "display_name": "user5655470"}, "reply_to_user": {"reputation": 229185, "user_id": 251311, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/b6b0ca5d4ef200ec8e3cd1fa2aefd836?s=128&d=identicon&r=PG", "display_name": "zerkms", "link": "https://stackoverflow.com/users/251311/zerkms"}, "edited": false, "score": 0, "creation_date": 1551980716, "post_id": 55033049, "comment_id": 96849798, "body": "..its chaining that breaks it.  <code>let _m:Moment = Moment(new Date()); _m.format(&#39;L&#39;);</code>  works perfectly too..."}], "owner": {"user_type": "does_not_exist", "display_name": "user5655470"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 185, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1551910598, "creation_date": 1551910598, "question_id": 55033049, "link": "https://stackoverflow.com/questions/55033049/moment-js-in-typescript-all-methods-fail-as-method-does-not-exist-on-type-ho", "title": "Moment JS in typescript all methods fail as &#39;[method] does not exist on type &#39;hooks&#39;", "body": "<p>I have the moment.d.ts.  It is in my global.d.ts. ex: </p>\n\n<pre><code>import * as MOMENT from 'moment';\nMOMENT(new Date()).format('L') \n</code></pre>\n\n<p>results in: </p>\n\n<p><a href=\"https://i.stack.imgur.com/TGRnF.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/TGRnF.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["typescript"], "comments": [{"owner": {"reputation": 229185, "user_id": 251311, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/b6b0ca5d4ef200ec8e3cd1fa2aefd836?s=128&d=identicon&r=PG", "display_name": "zerkms", "link": "https://stackoverflow.com/users/251311/zerkms"}, "edited": false, "score": 1, "creation_date": 1551909708, "post_id": 55032744, "comment_id": 96818269, "body": "Even if <code>getSomething</code> type was inferred as <code>(t: Test) =&gt; Something | {}</code> you still would not be allowed to <code>getSomething(test).a</code>, since <code>a</code> does not exist in <code>{}</code>. But you could have used indexed access like <code>[&#39;a&#39;]</code>"}, {"owner": {"reputation": 229185, "user_id": 251311, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/b6b0ca5d4ef200ec8e3cd1fa2aefd836?s=128&d=identicon&r=PG", "display_name": "zerkms", "link": "https://stackoverflow.com/users/251311/zerkms"}, "edited": false, "score": 0, "creation_date": 1551911885, "post_id": 55032744, "comment_id": 96819033, "body": "@p.s.w.g your answer looks reasonable, why did you delete it?"}], "answers": [{"comments": [{"owner": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "edited": false, "score": 0, "creation_date": 1551917717, "post_id": 55034027, "comment_id": 96820825, "body": "\u201cUnion of <code>{}</code> with any type gives you <code>{}</code>\u201d... well, with any <i>object</i> type like <code>{foo: string}</code>, sure.  With primitive types like <code>string</code>, not so much.  I\u2019m sure you know this already... but maybe some readers won\u2019t?"}, {"owner": {"reputation": 28847, "user_id": 43848, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/l6ogn.png?s=128&g=1", "display_name": "artem", "link": "https://stackoverflow.com/users/43848/artem"}, "reply_to_user": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "edited": false, "score": 0, "creation_date": 1551918388, "post_id": 55034027, "comment_id": 96820955, "body": "Fixed, but it&#39;s more complicated because writing <code>type T = Something | {};</code> gives me <code>type T = {} | Something</code> in the tooltip for T. Surely it gets reduced at some time, and there are some relevant issues/PRs in the TypeScript repo but I can&#39;t find anything at the moment."}, {"owner": {"reputation": 197, "user_id": 870942, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1946d527f109cf37a5125966bd3cb5e1?s=128&d=identicon&r=PG", "display_name": "Shayan", "link": "https://stackoverflow.com/users/870942/shayan"}, "edited": false, "score": 0, "creation_date": 1552060177, "post_id": 55034027, "comment_id": 96880862, "body": "@artem Is the <code>Stricter</code> type actually stricter? For me it gets reduced to <code>{ [key: string]: undefined }</code>. jcalz actually explained why this happens in a <a href=\"https://stackoverflow.com/a/54448348/870942\">previous question</a> I&#39;d posted."}, {"owner": {"reputation": 28847, "user_id": 43848, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/l6ogn.png?s=128&g=1", "display_name": "artem", "link": "https://stackoverflow.com/users/43848/artem"}, "reply_to_user": {"reputation": 197, "user_id": 870942, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1946d527f109cf37a5125966bd3cb5e1?s=128&d=identicon&r=PG", "display_name": "Shayan", "link": "https://stackoverflow.com/users/870942/shayan"}, "edited": false, "score": 0, "creation_date": 1552064036, "post_id": 55034027, "comment_id": 96882729, "body": "@Shayan yes you are right, with <code>--strictNullChecks</code> it&#39;s the same as <code>{ [key: string]: undefined }</code>. It&#39;s different with <code>--strictNullChecks</code> off, no idea how useful it is."}], "tags": [], "owner": {"reputation": 28847, "user_id": 43848, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/l6ogn.png?s=128&g=1", "display_name": "artem", "link": "https://stackoverflow.com/users/43848/artem"}, "is_accepted": true, "score": 2, "last_activity_date": 1551918663, "last_edit_date": 1551918663, "creation_date": 1551916582, "answer_id": 55034027, "question_id": 55032744, "link": "https://stackoverflow.com/questions/55032744/union-with-empty-object-results-in-type-erasure/55034027#55034027", "title": "Union with empty object results in type erasure", "body": "<p>Formally, union of <code>{}</code> with any non-primitive (object) type is reduced to just <code>{}</code> for the purpose of type checking. It's because in TypeScript, <code>{}</code> as a type does not really mean \"an object with no properties\", it means \"an object with no <strong>known</strong> properties\", so that usual type compatibility rules can be applied and <code>{}</code> can serve as ultimate super type. </p>\n\n<p>So, adding anything to the union with <code>{}</code> does not really add any information known about the type - nothing is still known about properties of resulting type.</p>\n\n<p>But inferring <code>{}</code> as the type for empty object literal in this code</p>\n\n<pre><code>const getSomething = (t: Test) =&gt; t['key'] || {}\n</code></pre>\n\n<p>indeed causes information loss, because <strong>value</strong> <code>{}</code> is known to have no properties, and because of that, if the resulting type has any properties they must have come from <code>Something</code> and <code>a</code> must have type <code>string</code> if it's present at all.</p>\n\n<p>Maybe in the future TypeScript will be able to handle this with <a href=\"https://github.com/Microsoft/TypeScript/issues/12936\" rel=\"nofollow noreferrer\">exact types</a>, but for now, there's one possible workaround which you found.</p>\n\n<p>If you use type assertion <code>as {[n: string]: undefined}</code> for empty object,\nyou get the expected result because now the resulting type is calculated by going over common properties of the union type members and taking union of their types. So <code>Test</code> has <code>Something</code> as property type, and <code>undefined</code> comes from type assertion, giving <code>Something | undefined</code> as resulting property type.</p>\n\n<p><a href=\"https://github.com/Microsoft/TypeScript/issues/12936#issuecomment-462134690\" rel=\"nofollow noreferrer\">Conventionally</a>, <code>never</code> type is used instead of <code>undefined</code>, so you can define</p>\n\n<pre><code>type StricterEmptyObject = { [n in string]?: never };\n</code></pre>\n\n<p>which, again, works as expected because <code>never</code> is the opposite of <code>{}</code> and union of <code>never | undefined | Something</code> is <code>undefined | Something</code>.</p>\n\n<pre><code>// Inferred return type: Something | StricterEmptyObject\nconst getSomething = (t: Test) =&gt; t['key'] || {} as StricterEmptyObject;\n\n\ndeclare const test: Test;\n\n// inferred: string | undefined\nconst a = getSomething(test).a;\n</code></pre>\n"}], "owner": {"reputation": 197, "user_id": 870942, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1946d527f109cf37a5125966bd3cb5e1?s=128&d=identicon&r=PG", "display_name": "Shayan", "link": "https://stackoverflow.com/users/870942/shayan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 244, "favorite_count": 0, "accepted_answer_id": 55034027, "answer_count": 1, "score": 6, "last_activity_date": 1551918663, "creation_date": 1551909133, "question_id": 55032744, "link": "https://stackoverflow.com/questions/55032744/union-with-empty-object-results-in-type-erasure", "title": "Union with empty object results in type erasure", "body": "<p><a href=\"https://www.typescriptlang.org/play/#src=interface%20Something%20%7B%0A%20%20%20%20a%3A%20string%3B%0A%7D%0A%0Ainterface%20Test%20%7B%0A%20%20%20%20%5Bkey%3A%20string%5D%3A%20Something%20%7C%20undefined%20%0A%7D%0A%0Aconst%20getSomething%20%3D%20(t%3A%20Test)%20%3D%3E%20t%5B&#39;key&#39;%5D%20%7C%7C%20%7B%7D%20%2F%2F%20Expecting%3A%20Something%20%7C%20%7B%7D%0A%0A%0A%2F%2F%20Usage%3A%0Adeclare%20const%20test%3A%20Test%3B%0A%0Aconst%20a%20%3D%20getSomething(test).a%3B%20%2F%2F%20Expecting%3A%20string%20%7C%20undefined\" rel=\"noreferrer\">TypeScript Playground</a></p>\n\n<pre class=\"lang-js prettyprint-override\"><code>interface Something {\n    a: string;\n}\n\ninterface Test {\n    [key: string]: Something | undefined \n\n}\n// Expecting: Something | {}\n// Inferred: {}\nconst getSomething = (t: Test) =&gt; t['key'] || {}\n\n// Usage:\n\ndeclare const test: Test;\n\n// Expecting: string | undefined\n// Inferred: Error: `a` does not exist on type\nconst a = getSomething(test).a;\n</code></pre>\n\n<p>What is the reason that a union of <code>{}</code> with an object erases the object's type?</p>\n\n<p>If I write:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>type EmptyObject = { [key: string]: undefined }\n</code></pre>\n\n<p>and use <code>{} as EmptyObject</code> instead, then things work as expected.</p>\n"}, {"tags": ["angular", "typescript", ".d.ts"], "comments": [{"owner": {"reputation": 4589, "user_id": 2263572, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/bea7d4a6d62f5730775d5702cb0c6357?s=128&d=identicon&r=PG", "display_name": "user2263572", "link": "https://stackoverflow.com/users/2263572/user2263572"}, "edited": false, "score": 0, "creation_date": 1552227824, "post_id": 55031983, "comment_id": 96922060, "body": "Have you tried this?  <a href=\"https://github.com/angular/protractor/issues/3880\" rel=\"nofollow noreferrer\">github.com/angular/protractor/issues/3880</a>"}, {"owner": {"reputation": 4018, "user_id": 5515945, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/0dff377215259dc09c572ca2dbb0bbe1?s=128&d=identicon&r=PG&f=1", "display_name": "DiPix", "link": "https://stackoverflow.com/users/5515945/dipix"}, "reply_to_user": {"reputation": 4589, "user_id": 2263572, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/bea7d4a6d62f5730775d5702cb0c6357?s=128&d=identicon&r=PG", "display_name": "user2263572", "link": "https://stackoverflow.com/users/2263572/user2263572"}, "edited": false, "score": 0, "creation_date": 1552228599, "post_id": 55031983, "comment_id": 96922276, "body": "I saw this and actually there is no solution. Except update dependencies what I already did."}, {"owner": {"reputation": 2046, "user_id": 6478277, "user_type": "registered", "profile_image": "https://graph.facebook.com/1229096863781238/picture?type=large", "display_name": "Jimi Pajala", "link": "https://stackoverflow.com/users/6478277/jimi-pajala"}, "edited": false, "score": 1, "creation_date": 1552492824, "post_id": 55031983, "comment_id": 97033063, "body": "I would try to run TypeScript compiler with --noLib flag. more here <a href=\"https://www.typescriptlang.org/docs/handbook/compiler-options.html\" rel=\"nofollow noreferrer\">typescriptlang.org/docs/handbook/compiler-options.html</a>"}, {"owner": {"reputation": 4018, "user_id": 5515945, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/0dff377215259dc09c572ca2dbb0bbe1?s=128&d=identicon&r=PG&f=1", "display_name": "DiPix", "link": "https://stackoverflow.com/users/5515945/dipix"}, "reply_to_user": {"reputation": 2046, "user_id": 6478277, "user_type": "registered", "profile_image": "https://graph.facebook.com/1229096863781238/picture?type=large", "display_name": "Jimi Pajala", "link": "https://stackoverflow.com/users/6478277/jimi-pajala"}, "edited": false, "score": 0, "creation_date": 1552549621, "post_id": 55031983, "comment_id": 97053787, "body": "@JimiPajala <code>noLib: true</code> cannot be used with <code>lib: [&quot;es2017&quot;, &quot;dom&quot;]</code> which I have in tsconfig.json, anyway it seems that <code>skipLibCheck: true</code> helped. I need to make a few more tests to ensure that it didn&#39;t broke anything though."}, {"owner": {"reputation": 2046, "user_id": 6478277, "user_type": "registered", "profile_image": "https://graph.facebook.com/1229096863781238/picture?type=large", "display_name": "Jimi Pajala", "link": "https://stackoverflow.com/users/6478277/jimi-pajala"}, "edited": false, "score": 0, "creation_date": 1552553513, "post_id": 55031983, "comment_id": 97055749, "body": "@DiPix sorry was meant to mention exactly about <code>skipLibCheck</code>, great you got it solved! <code>skipLibCheck</code> should just work as not checking typings of your npm-modules which could be possible solution in this case. Otherwise it does not introduce any breaking changes to your development/production code."}, {"owner": {"reputation": 2046, "user_id": 6478277, "user_type": "registered", "profile_image": "https://graph.facebook.com/1229096863781238/picture?type=large", "display_name": "Jimi Pajala", "link": "https://stackoverflow.com/users/6478277/jimi-pajala"}, "edited": false, "score": 1, "creation_date": 1552554544, "post_id": 55031983, "comment_id": 97056370, "body": "And so to say it skips declaration file <code>.d.ts</code> file checks on compile time, you&#39;ll still get the TypeScript benefits on VSCode or an IDE that you are using."}], "answers": [{"comments": [{"owner": {"reputation": 5960, "user_id": 1522548, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/swFB2.png?s=128&g=1", "display_name": "JWP", "link": "https://stackoverflow.com/users/1522548/jwp"}, "edited": false, "score": 0, "creation_date": 1593680766, "post_id": 55238566, "comment_id": 110866915, "body": "I had this exact problem, this suggestion did not work for me."}], "tags": [], "owner": {"reputation": 4018, "user_id": 5515945, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/0dff377215259dc09c572ca2dbb0bbe1?s=128&d=identicon&r=PG&f=1", "display_name": "DiPix", "link": "https://stackoverflow.com/users/5515945/dipix"}, "is_accepted": true, "score": 6, "last_activity_date": 1552990735, "creation_date": 1552990735, "answer_id": 55238566, "question_id": 55031983, "link": "https://stackoverflow.com/questions/55031983/duplicated-types-in-typescript-libs-index-d-ts-duplicate-identifier-for-jas/55238566#55238566", "title": "Duplicated @types in typescript libs (index.d.ts - Duplicate identifier) for jasmine, jasminewd2, mocha", "body": "<p>Thanks to JimiPajala we have solution. </p>\n\n<p>I've added <code>\"skipLibCheck\": true,</code> to tsconfig.json</p>\n\n<p>Regarding to documentation:\n\"<em>Skip type checking of all declaration files (</em>.d.ts).*\"\n<a href=\"https://www.typescriptlang.org/docs/handbook/compiler-options.html\" rel=\"noreferrer\">https://www.typescriptlang.org/docs/handbook/compiler-options.html</a></p>\n"}], "owner": {"reputation": 4018, "user_id": 5515945, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/0dff377215259dc09c572ca2dbb0bbe1?s=128&d=identicon&r=PG&f=1", "display_name": "DiPix", "link": "https://stackoverflow.com/users/5515945/dipix"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1483, "favorite_count": 0, "accepted_answer_id": 55238566, "answer_count": 1, "score": 1, "last_activity_date": 1552990735, "creation_date": 1551905738, "question_id": 55031983, "link": "https://stackoverflow.com/questions/55031983/duplicated-types-in-typescript-libs-index-d-ts-duplicate-identifier-for-jas", "title": "Duplicated @types in typescript libs (index.d.ts - Duplicate identifier) for jasmine, jasminewd2, mocha", "body": "<p>I've got <code>jasmine</code>, <code>jasminewd2</code> and <code>mocha</code> in my Angular project. Those libs have <code>index.d.ts</code> files which seems to be duplicated. Is it some way to avoid this error? Since my Visual Studio cannot build it. I was already trying to exclude those files in my <code>tsconfig.json</code> file, upgrading version ain't helping as well.</p>\n\n<pre><code>6&gt;C:\\GIT\\proj\\node_modules\\@types\\jasmine\\index.d.ts(20,18): error TS2300: Build:Duplicate identifier 'describe'.\n6&gt;C:\\GIT\\proj\\node_modules\\@types\\jasmine\\index.d.ts(22,18): error TS2300: Build:Duplicate identifier 'xdescribe'.\n6&gt;C:\\GIT\\proj\\node_modules\\@types\\jasmine\\index.d.ts(31,18): error TS2300: Build:Duplicate identifier 'it'.\n6&gt;C:\\GIT\\proj\\node_modules\\@types\\jasmine\\index.d.ts(41,18): error TS2300: Build:Duplicate identifier 'xit'.\n6&gt;C:\\GIT\\proj\\node_modules\\@types\\jasminewd2\\index.d.ts(10,18): error TS2300: Build:Duplicate identifier 'it'.\n6&gt;C:\\GIT\\proj\\node_modules\\@types\\jasminewd2\\index.d.ts(12,18): error TS2300: Build:Duplicate identifier 'xit'.\n6&gt;C:\\GIT\\proj\\node_modules\\@types\\mocha\\index.d.ts(36,13): error TS2300: Build:Duplicate identifier 'describe'.\n6&gt;C:\\GIT\\proj\\node_modules\\@types\\mocha\\index.d.ts(37,13): error TS2300: Build:Duplicate identifier 'xdescribe'.\n6&gt;C:\\GIT\\proj\\node_modules\\@types\\mocha\\index.d.ts(42,13): error TS2300: Build:Duplicate identifier 'it'.\n6&gt;C:\\GIT\\proj\\node_modules\\@types\\mocha\\index.d.ts(43,13): error TS2300: Build:Duplicate identifier 'xit'.\n6&gt;C:\\GIT\\proj\\node_modules\\@types\\jasmine\\index.d.ts(20,18): error TS2300: Build:Duplicate identifier 'describe'.\n6&gt;C:\\GIT\\proj\\node_modules\\@types\\jasmine\\index.d.ts(22,18): error TS2300: Build:Duplicate identifier 'xdescribe'.\n6&gt;C:\\GIT\\proj\\node_modules\\@types\\jasmine\\index.d.ts(31,18): error TS2300: Build:Duplicate identifier 'it'.\n6&gt;C:\\GIT\\proj\\node_modules\\@types\\jasmine\\index.d.ts(41,18): error TS2300: Build:Duplicate identifier 'xit'.\n6&gt;C:\\GIT\\proj\\node_modules\\@types\\jasminewd2\\index.d.ts(10,18): error TS2300: Build:Duplicate identifier 'it'.\n6&gt;C:\\GIT\\proj\\node_modules\\@types\\jasminewd2\\index.d.ts(12,18): error TS2300: Build:Duplicate identifier 'xit'.\n6&gt;C:\\GIT\\proj\\node_modules\\@types\\mocha\\index.d.ts(36,13): error TS2300: Build:Duplicate identifier 'describe'.\n6&gt;C:\\GIT\\proj\\node_modules\\@types\\mocha\\index.d.ts(37,13): error TS2300: Build:Duplicate identifier 'xdescribe'.\n6&gt;C:\\GIT\\proj\\node_modules\\@types\\mocha\\index.d.ts(42,13): error TS2300: Build:Duplicate identifier 'it'.\n6&gt;C:\\GIT\\proj\\node_modules\\@types\\mocha\\index.d.ts(43,13): error TS2300: Build:Duplicate identifier 'xit'.\n</code></pre>\n"}, {"tags": ["javascript", "typescript"], "comments": [{"owner": {"reputation": 135520, "user_id": 1715579, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/4B4y1.png?s=128&g=1", "display_name": "p.s.w.g", "link": "https://stackoverflow.com/users/1715579/p-s-w-g"}, "edited": false, "score": 0, "creation_date": 1551904406, "post_id": 55031676, "comment_id": 96816026, "body": "It seems like it&#39;s actually an issue with <code>fetchAll</code>. What&#39;s its signature?"}, {"owner": {"reputation": 27465, "user_id": 168738, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/MMeLF.png?s=128&g=1", "display_name": "Leon Gaban", "link": "https://stackoverflow.com/users/168738/leon-gaban"}, "reply_to_user": {"reputation": 135520, "user_id": 1715579, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/4B4y1.png?s=128&g=1", "display_name": "p.s.w.g", "link": "https://stackoverflow.com/users/1715579/p-s-w-g"}, "edited": false, "score": 0, "creation_date": 1551904862, "post_id": 55031676, "comment_id": 96816218, "body": "@p.s.w.g added it! Also found out if I added <code>?</code> to all the keys the error goes away, but I feel that is a hack?"}, {"owner": {"reputation": 21215, "user_id": 79677, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/fc1ca130deb434dfe5bcc19fbbebe48a?s=128&d=identicon&r=PG&f=1", "display_name": "CBarr", "link": "https://stackoverflow.com/users/79677/cbarr"}, "edited": false, "score": 0, "creation_date": 1551905381, "post_id": 55031676, "comment_id": 96816421, "body": "You probably don&#39;t want all parameters to be optional, that is most likely a non-deal hack/workaround for the actual issue here.  I agree, something is probably not right with <code>fetchAll</code>.  You have something returning an array of untyped objects, so that&#39;s all it can guess at here.  You need to add typedefs everywhere you can to avoid issues like these."}], "answers": [{"comments": [{"owner": {"reputation": 27465, "user_id": 168738, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/MMeLF.png?s=128&g=1", "display_name": "Leon Gaban", "link": "https://stackoverflow.com/users/168738/leon-gaban"}, "edited": false, "score": 0, "creation_date": 1551906384, "post_id": 55032015, "comment_id": 96816853, "body": "Hmm thanks, trying to wrap my head about the <code>&lt;T&gt;</code> currently getting <code>Argument of type &#39;Promise&lt;any&gt;[]&#39; is not assignable to parameter of type &#39;IResponseConfig[]&#39;.   Type &#39;Promise&lt;any&gt;&#39; has no properties in common with type &#39;IResponseConfig&#39;</code> wondering if for the sake of another dev understanding context, <code>any</code> would suffice, since the arrays are strongly typed elsewhere."}, {"owner": {"reputation": 135520, "user_id": 1715579, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/4B4y1.png?s=128&g=1", "display_name": "p.s.w.g", "link": "https://stackoverflow.com/users/1715579/p-s-w-g"}, "reply_to_user": {"reputation": 27465, "user_id": 168738, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/MMeLF.png?s=128&g=1", "display_name": "Leon Gaban", "link": "https://stackoverflow.com/users/168738/leon-gaban"}, "edited": false, "score": 0, "creation_date": 1551909533, "post_id": 55032015, "comment_id": 96818197, "body": "@LeonGaban Ahh, I should have accounted for <code>Promise&lt;T&gt;</code> in the parameter type hint. See my updated answer. Hopefully this helps."}, {"owner": {"reputation": 27465, "user_id": 168738, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/MMeLF.png?s=128&g=1", "display_name": "Leon Gaban", "link": "https://stackoverflow.com/users/168738/leon-gaban"}, "edited": false, "score": 0, "creation_date": 1551935944, "post_id": 55032015, "comment_id": 96824997, "body": "Sweet Yes that worked! :D I don&#39;t need to rely on <code>any</code> anymore. And great link which linked to generics: <a href=\"https://basarat.gitbooks.io/typescript/content/docs/types/generics.html\" rel=\"nofollow noreferrer\">basarat.gitbooks.io/typescript/content/docs/types/generics.h&zwnj;&#8203;tml</a>"}], "tags": [], "owner": {"reputation": 135520, "user_id": 1715579, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/4B4y1.png?s=128&g=1", "display_name": "p.s.w.g", "link": "https://stackoverflow.com/users/1715579/p-s-w-g"}, "is_accepted": true, "score": 1, "last_activity_date": 1551909373, "last_edit_date": 1551909373, "creation_date": 1551905864, "answer_id": 55032015, "question_id": 55031676, "link": "https://stackoverflow.com/questions/55031676/type-is-missing-the-following-properties-from-type-iresponseconfig/55032015#55032015", "title": "Type &#39;{}&#39; is missing the following properties from type &#39;IResponseConfig&#39;", "body": "<p>It looks like you need to define <code>fetchAll</code> as a generic function, like this:</p>\n\n<pre><code>export const fetchAll = &lt;T extends {}&gt;(array: (T | Promise&lt;T&gt;)[]) =&gt; Promise.all(array);\n</code></pre>\n\n<p><sup>NOTE: See <a href=\"https://stackoverflow.com/q/32308370/1715579\">this question</a> for a discussion on why <code>&lt;T&gt;(array T[]) =&gt; ...</code> fails to parse as you might expect.</sup></p>\n\n<p>Assuming, that <code>getPrices</code> and <code>getAvailableSupply</code> both return either a <code>IResponseConfig</code> or <code>Promise&lt;IResponseConfig&gt;</code>, the parameter <code>responses</code> will be inferred to be of type <code>IResponseConfig[]</code>.</p>\n\n<p>If this is not the case, you may have to add some additional conversions, type hints, or assertions to coerce them into a consistent interface.</p>\n"}], "owner": {"reputation": 27465, "user_id": 168738, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/MMeLF.png?s=128&g=1", "display_name": "Leon Gaban", "link": "https://stackoverflow.com/users/168738/leon-gaban"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3090, "favorite_count": 1, "accepted_answer_id": 55032015, "answer_count": 1, "score": 2, "last_activity_date": 1551909373, "creation_date": 1551904212, "last_edit_date": 1551904839, "question_id": 55031676, "link": "https://stackoverflow.com/questions/55031676/type-is-missing-the-following-properties-from-type-iresponseconfig", "title": "Type &#39;{}&#39; is missing the following properties from type &#39;IResponseConfig&#39;", "body": "<p>So running into another vague Typescript error.</p>\n\n<p>I have the following function <code>fetchAllAssets</code> which ends with dispatching an action and running the <code>responses</code> through a function called <code>formatAssets</code>.</p>\n\n<p>And the error is on the <code>responses</code> array.</p>\n\n<pre><code>export const fetchAllAssets = () =&gt; (dispatch: DispatchAllAssets) =&gt; {\n  dispatch(actionGetAllAssets());\n  return fetchAll([getPrices(), getAvailableSupply()]).then((responses) =&gt;\n    dispatch(actionSetAllAssets(formatAssets(responses))));\n}\n</code></pre>\n\n<p>The <strong>formatAssets</strong> function:</p>\n\n<pre><code>export const formatAssets = (responses: IResponseConfig[]) =&gt; {\n  let prices: any;\n  let availableSupplies: any;\n  console.log('responses', responses);\n  responses.forEach((response: IResponseConfig) =&gt; {\n    const { config } = response;\n    const { url } = config;\n    if (url.includes('prices')) {\n      prices = response.data;\n    } else if (url.includes('dashboard')) {\n      availableSupplies = cleanAssets(response.data);\n    }\n    return {\n      prices,\n      availableSupplies\n    };\n  });\n</code></pre>\n\n<p><strong>The Error</strong></p>\n\n<p><a href=\"https://i.stack.imgur.com/f58uh.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/f58uh.png\" alt=\"enter image description here\"></a></p>\n\n<blockquote>\n  <p>Argument of type '[{}, {}, {}, {}, {}, {}, {}, {}, {}, {}]' is not assignable to parameter of type 'IResponseConfig[]'.\n    Type '{}' is missing the following properties from type 'IResponseConfig': config, data ts(2345)</p>\n</blockquote>\n\n<p>Here is what the interface for <strong>IResponseConfig</strong> looks like:</p>\n\n<pre><code>export interface IResponseConfig {\n  config: {\n    adapter: any;\n    baseUrl: string;\n    headers: {};\n    maxContentLength: number;\n    method: string;\n    params: {\n      key: string;\n    }\n    timeout: number;\n    transformRequest: {};\n    transformResponse: {};\n    url: string;\n    validateStatus: any;\n    xsrfCookieName: string;\n    xsrfHeaderName: string;\n  };\n  data: IAssetResponse[];\n  headers?: {};\n  request?: XMLHttpRequest;\n  upload?: XMLHttpRequestUpload;\n  status?: number;\n  statusText?: string;\n}\n</code></pre>\n\n<p>And here is what responses is:</p>\n\n<p><a href=\"https://i.stack.imgur.com/wD6O7.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/wD6O7.png\" alt=\"enter image description here\"></a></p>\n\n<p>What shape should <strong>IResponseConfig</strong> take in order for the error to go away?</p>\n\n<h2>Signature of fetchAll</h2>\n\n<pre><code>// @TODO Fix any type.\nexport const fetchAll = (array: any) =&gt; Promise.all(array);\n</code></pre>\n\n<h2>Also I was able to remove the error by making all keys optional (hack?)</h2>\n\n<pre><code>export interface IResponseConfig {\n  config?: any;\n  data?: IAssetResponse[];\n  headers?: any;\n  request?: XMLHttpRequest;\n  upload?: XMLHttpRequestUpload;\n  status?: number;\n  statusText?: string;\n}\n</code></pre>\n\n<p>What <code>IAssetResponse</code> looks like (the actual data I care about)</p>\n\n<pre><code>export interface IAssetResponse {\n  [key: string]: string | undefined;\n  currency: string;\n  price?: string;\n  availableSupply?: string;\n  maxSupply?: string;\n}\n</code></pre>\n"}, {"tags": ["angular", "typescript"], "comments": [{"owner": {"reputation": 54898, "user_id": 1260204, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/402e1da680f92d16e7736ab14a696f06?s=128&d=identicon&r=PG", "display_name": "Igor", "link": "https://stackoverflow.com/users/1260204/igor"}, "edited": false, "score": 0, "creation_date": 1551900737, "post_id": 55030820, "comment_id": 96814147, "body": "I think you are missing the point of pipe. It is to <i>display</i> the value as a (something) like currency or percentage or (whatever). <i>Not</i> to change the value."}], "answers": [{"tags": [], "owner": {"reputation": 2311, "user_id": 4478225, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-mJJSCwZIyR0/AAAAAAAAAAI/AAAAAAAAABA/_i_wHC3br9w/photo.jpg?sz=128", "display_name": "Gr&#233;gory Elhaimer", "link": "https://stackoverflow.com/users/4478225/gr%c3%a9gory-elhaimer"}, "is_accepted": true, "score": 1, "last_activity_date": 1551902799, "last_edit_date": 1551902799, "creation_date": 1551900923, "answer_id": 55030929, "question_id": 55030820, "link": "https://stackoverflow.com/questions/55030820/angular-typescript-convert-array-from-string-to-currency-and-percentage/55030929#55030929", "title": "Angular Typescript Convert array from string to currency and percentage", "body": "<p>You can wrapp the iteration inside another pipe:</p>\n\n<pre><code>@Pipe({name: 'arrayConverter'})\nexport class YourCustomPipe implements PipeTransform {\n\n  constructor(anyConverterPipe: ConverterPipe){}\n\n  transform(values: number[]): number {\n    const convertedValues = [];\n\n    values.forEach(value =&gt; convertedValues.push(this.anyConverterPipe.transform(value)));\n\n    return convertedValues;\n  }\n}\n</code></pre>\n\n<p>Then use it wherever you want.</p>\n"}], "owner": {"reputation": 705, "user_id": 10354765, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/362807c43e0c20377a2da88da2aee4e7?s=128&d=identicon&r=PG&f=1", "display_name": "c0micrage", "link": "https://stackoverflow.com/users/10354765/c0micrage"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 495, "favorite_count": 0, "accepted_answer_id": 55030929, "answer_count": 1, "score": 1, "last_activity_date": 1551902799, "creation_date": 1551900535, "last_edit_date": 1551900839, "question_id": 55030820, "link": "https://stackoverflow.com/questions/55030820/angular-typescript-convert-array-from-string-to-currency-and-percentage", "title": "Angular Typescript Convert array from string to currency and percentage", "body": "<p>I have been googling for a few hours to figure out what is the EASIEST way to convert all the content in an array of string which could look like the following</p>\n\n<pre><code>[123.23, 234.12, 23.23] // string to currency\n[1.2, 3.4, 2.2] // string to percentage\n</code></pre>\n\n<p>I readup about the Pipe in typescript like the following</p>\n\n<pre><code>import { CurrencyPipe, DatePipe , PercentPipe,   formatCurrency} from '@angular/common'\n</code></pre>\n\n<p>I looking for alternate to looping thru each array element like the following</p>\n\n<pre><code>for(var i=0; i&lt;myArray.length; i++) { myArray[i] = this.percentPipe.Transform(myArray[i]); }\n</code></pre>\n\n<p>I am looking to change the array data to currency and percentage and load the converted data to the UI. I can't use the pipe in the html mockup. I have to do it in the typescript.</p>\n\n<p>I am trying to look for a better method of conversion.</p>\n\n<p>Thanks,</p>\n"}, {"tags": ["javascript", "angular", "typescript", "angular-aot"], "comments": [{"owner": {"reputation": 1139, "user_id": 8687597, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5f1e0f5be5e0daafeeafc5c1f22dd71f?s=128&d=identicon&r=PG&f=1", "display_name": "displayName", "link": "https://stackoverflow.com/users/8687597/displayname"}, "reply_to_user": {"reputation": 13387, "user_id": 965834, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/BiCtr.png?s=128&g=1", "display_name": "Jeto", "link": "https://stackoverflow.com/users/965834/jeto"}, "edited": false, "score": 0, "creation_date": 1551900877, "post_id": 55030760, "comment_id": 96814228, "body": "It just an enum. Replacing <code>ResourceName.ORGANISATION</code> with <code>&#39;ORGANISATION&#39;</code> doesn&#39;t make a difference"}, {"owner": {"reputation": 13387, "user_id": 965834, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/BiCtr.png?s=128&g=1", "display_name": "Jeto", "link": "https://stackoverflow.com/users/965834/jeto"}, "edited": false, "score": 0, "creation_date": 1551900944, "post_id": 55030760, "comment_id": 96814261, "body": "Oh indeed, sorry I misread the question (I&#39;ll delete my comment)."}, {"owner": {"reputation": 3921, "user_id": 2050306, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/38d3c3d6d1dcea96cbe01afbba90c6d3?s=128&d=identicon&r=PG", "display_name": "robert", "link": "https://stackoverflow.com/users/2050306/robert"}, "edited": false, "score": 0, "creation_date": 1551905338, "post_id": 55030760, "comment_id": 96816405, "body": "What if you move your &quot;data&quot; object outside of routes. Something like this: const dat = {}; dat[environment.router.data.resourceName] = &#39;ORGANISATION&#39;; and then use it inside routes like this:  data: dat"}, {"owner": {"reputation": 1139, "user_id": 8687597, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5f1e0f5be5e0daafeeafc5c1f22dd71f?s=128&d=identicon&r=PG&f=1", "display_name": "displayName", "link": "https://stackoverflow.com/users/8687597/displayname"}, "edited": false, "score": 0, "creation_date": 1551905728, "post_id": 55030760, "comment_id": 96816567, "body": "still the same error :("}], "answers": [{"comments": [{"owner": {"reputation": 1139, "user_id": 8687597, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5f1e0f5be5e0daafeeafc5c1f22dd71f?s=128&d=identicon&r=PG&f=1", "display_name": "displayName", "link": "https://stackoverflow.com/users/8687597/displayname"}, "edited": false, "score": 0, "creation_date": 1551905833, "post_id": 55031906, "comment_id": 96816602, "body": "compiler says: <code>Function expressions are not supported in decorators in &#39;routes&#39;</code>"}, {"owner": {"reputation": 5898, "user_id": 3933927, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/Td4UR.png?s=128&g=1", "display_name": "Stavm", "link": "https://stackoverflow.com/users/3933927/stavm"}, "reply_to_user": {"reputation": 1139, "user_id": 8687597, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5f1e0f5be5e0daafeeafc5c1f22dd71f?s=128&d=identicon&r=PG&f=1", "display_name": "displayName", "link": "https://stackoverflow.com/users/8687597/displayname"}, "edited": false, "score": 0, "creation_date": 1551906201, "post_id": 55031906, "comment_id": 96816771, "body": "please try a simple function, above your export and below your imports. I suspect the issue might be something like <a href=\"https://github.com/auth0/angular2-jwt/issues/537#issuecomment-428185990\" rel=\"nofollow noreferrer\">this issue</a>"}, {"owner": {"reputation": 1139, "user_id": 8687597, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5f1e0f5be5e0daafeeafc5c1f22dd71f?s=128&d=identicon&r=PG&f=1", "display_name": "displayName", "link": "https://stackoverflow.com/users/8687597/displayname"}, "edited": false, "score": 0, "creation_date": 1551908358, "post_id": 55031906, "comment_id": 96817693, "body": "still the same error. I can pass the function to the decorator, but cannot call it"}], "tags": [], "owner": {"reputation": 5898, "user_id": 3933927, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/Td4UR.png?s=128&g=1", "display_name": "Stavm", "link": "https://stackoverflow.com/users/3933927/stavm"}, "is_accepted": false, "score": 0, "last_activity_date": 1551906150, "last_edit_date": 1551906150, "creation_date": 1551905394, "answer_id": 55031906, "question_id": 55030760, "link": "https://stackoverflow.com/questions/55030760/how-to-make-route-data-typed-in-angular-7-in-production/55031906#55031906", "title": "How to make Route data typed in Angular 7 (in production)?", "body": "<p>using a function, seems to work around this awkward issue.</p>\n\n<pre><code>function mydata() {\n    return {[environment.router.data.resourceName]: 'ORGANISATION'};\n}\n\nexport const routes: Routes = [\n  {\n    path: '',\n    resolve: [TranslateResolver],\n    children: [\n      {\n        path: 'organisations',\n        component: OrganisationListComponent,\n        canActivate: [RouteGuard],\n        data: mydata()\n      },...\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1139, "user_id": 8687597, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5f1e0f5be5e0daafeeafc5c1f22dd71f?s=128&d=identicon&r=PG&f=1", "display_name": "displayName", "link": "https://stackoverflow.com/users/8687597/displayname"}, "edited": false, "score": 0, "creation_date": 1552418241, "post_id": 55071787, "comment_id": 96999870, "body": "The thing is, I have around 30 routes in my application. and all of them have data property with the key <code>resourceName</code>. I added this key to environment file, so I don&#39;t have to repeat the same string 30 times. This way I would still repeat it, just in different place."}, {"owner": {"reputation": 1139, "user_id": 8687597, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5f1e0f5be5e0daafeeafc5c1f22dd71f?s=128&d=identicon&r=PG&f=1", "display_name": "displayName", "link": "https://stackoverflow.com/users/8687597/displayname"}, "edited": false, "score": 0, "creation_date": 1552418390, "post_id": 55071787, "comment_id": 96999948, "body": "So basically, my main problem is that Route data cannot be typed. I cannot create class which has <code>resourceName</code> property and instantiate it inside data, because function expressions aren&#39;t allowed in route config either."}, {"owner": {"reputation": 1139, "user_id": 8687597, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5f1e0f5be5e0daafeeafc5c1f22dd71f?s=128&d=identicon&r=PG&f=1", "display_name": "displayName", "link": "https://stackoverflow.com/users/8687597/displayname"}, "edited": false, "score": 0, "creation_date": 1552418964, "post_id": 55071787, "comment_id": 97000232, "body": "I updated the question, it really was dumbed down too much"}], "tags": [], "owner": {"reputation": 5280, "user_id": 592792, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/LSCC9.gif?s=128&g=1", "display_name": "Andr&#233; Werlang", "link": "https://stackoverflow.com/users/592792/andr%c3%a9-werlang"}, "is_accepted": false, "score": 1, "last_activity_date": 1552083574, "creation_date": 1552083574, "answer_id": 55071787, "question_id": 55030760, "link": "https://stackoverflow.com/questions/55030760/how-to-make-route-data-typed-in-angular-7-in-production/55071787#55071787", "title": "How to make Route data typed in Angular 7 (in production)?", "body": "<p>I understand you tried to narrow down the problem to an easy to reproduce problem but maybe you dumbed it down too much.</p>\n\n<p>This way, from what you can read from the compiler error messages, it's not allowed (expressions fed to the AOT compiler, [propertyName] on objects).</p>\n\n<p>I suggest you avoid this problem completely, as you can have different environment files, just define data like this:</p>\n\n<pre><code>export const environment = {\n  production: true,\n  version: '1.0.0',\n  router: {\n    data: {\n      'resourceName': 'ORGANISATION', // &lt;- replace 'resourceName' with whatever you need\n    }\n  }\n}\n</code></pre>\n\n<p>And then use like this:</p>\n\n<pre><code>import { environment } from '@env/environment';\n\nexport const routes: Routes = [\n  {\n    path: '',\n    resolve: [TranslateResolver],\n    children: [\n      {\n        path: 'organisations',\n        component: OrganisationListComponent,\n        canActivate: [RouteGuard],\n        data: environment.router.data,\n      },...\n</code></pre>\n\n<hr>\n\n<p>If your problem at hand requires something else, then again avoid expressions:</p>\n\n<pre><code>export const environment = {\n  production: false,\n  test: false,\n  router: {\n    data: {\n      resourceName: 'resourceName', // &lt;- replace 'resourceName' with whatever you need\n    }\n  },\n};\n</code></pre>\n\n<pre><code>export const environment = {\n  production: true,\n  version: '1.0.0',\n  router: {\n    data: {\n      resourceName: environment.router.data.resourceName,\n      value: 'ORGANIZATION',\n    }\n  }\n}\n</code></pre>\n\n<p>This requires changing the way you consume this data, but hey, it works.</p>\n"}, {"comments": [{"owner": {"reputation": 1139, "user_id": 8687597, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5f1e0f5be5e0daafeeafc5c1f22dd71f?s=128&d=identicon&r=PG&f=1", "display_name": "displayName", "link": "https://stackoverflow.com/users/8687597/displayname"}, "edited": false, "score": 1, "creation_date": 1552548860, "post_id": 55132482, "comment_id": 97053467, "body": "I only had to edit your <code>MyRoute</code> interface so that <code>data</code> is optional, and added <code>children?: MyRoute[]</code> as well"}], "tags": [], "owner": {"reputation": 5280, "user_id": 592792, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/LSCC9.gif?s=128&g=1", "display_name": "Andr&#233; Werlang", "link": "https://stackoverflow.com/users/592792/andr%c3%a9-werlang"}, "is_accepted": true, "score": 3, "last_activity_date": 1552435627, "creation_date": 1552435627, "answer_id": 55132482, "question_id": 55030760, "link": "https://stackoverflow.com/questions/55030760/how-to-make-route-data-typed-in-angular-7-in-production/55132482#55132482", "title": "How to make Route data typed in Angular 7 (in production)?", "body": "<p>Declare your own <em>Route</em> data type. Extend from <code>@angular/router</code>'s <code>Route</code> so it's all type-safe. This way, it's possible to assert the existence of the <code>resourceName</code> property, which could even be omitted otherwise.</p>\n\n<p>No need to involve the environment module in the process.</p>\n\n<pre><code>import { RouterModule, Route } from '@angular/router';\n\nexport interface MyRoute extends Route {\n    data: {\n        resourceName: string;\n    };\n}\n\nexport declare type MyRoutes = MyRoute[];\n\nexport const routes: MyRoutes = [\n  {\n    path: '',\n    children: [\n      {\n        path: 'organisations',\n        component: OrganisationListComponent,\n        data: {\n          resourceName: 'ORGANISATION'\n        }\n      },\n      {\n        path: 'organisations/create',\n        component: OrganisationCreateComponent,\n        data: {\n          resourceName: 'ORGANISATION_LIST'\n        },...\n      }\n\n\n</code></pre>\n"}], "owner": {"reputation": 1139, "user_id": 8687597, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5f1e0f5be5e0daafeeafc5c1f22dd71f?s=128&d=identicon&r=PG&f=1", "display_name": "displayName", "link": "https://stackoverflow.com/users/8687597/displayname"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 962, "favorite_count": 0, "accepted_answer_id": 55132482, "answer_count": 3, "score": 10, "last_activity_date": 1552435627, "creation_date": 1551900333, "last_edit_date": 1552434714, "question_id": 55030760, "link": "https://stackoverflow.com/questions/55030760/how-to-make-route-data-typed-in-angular-7-in-production", "title": "How to make Route data typed in Angular 7 (in production)?", "body": "<pre><code>import { environment } from '@env/environment';\n\nexport const routes: Routes = [\n  {\n    path: '',\n    children: [\n      {\n        path: 'organisations',\n        component: OrganisationListComponent,\n        data: {\n          [environment.router.data.resourceName]: 'ORGANISATION' // &lt;- error\n        }\n      },\n      {\n        path: 'organisations/create',\n        component: OrganisationCreateComponent,\n        data: {\n          [environment.router.data.resourceName]: 'ORGANISATION_LIST' // &lt;- error\n        },...\n      }\n\n</code></pre>\n\n<p>This is part of one of my routing module files. As you can see I want route data to have a property whose name I defined in environment file. But this won't work when compiling with --aot flag. This is the error:</p>\n\n<pre><code>ERROR in Error during template compile of 'AdminRoutingModule'\n  Expression form not supported in 'routes'\n    'routes' contains the error at app/admin/admin-routing.module.ts(30,11).\n</code></pre>\n\n<p>I have around 30 routes in my application, and all of them have data property with the key 'resourceName'. And I don't want to repeat this string 30 times in my application.</p>\n\n<p>I cannot create class which has resourceName property and instantiate it inside data, because function expressions aren't allowed inside route configuration either.</p>\n\n<p>Is there a way around this, or it's simply not possible to achieve with AOT complier?</p>\n\n<p>Edit: this is environement.ts file:</p>\n\n<pre><code>export const environment = {\n  production: true,\n  version: '1.0.0',\n  router: {\n    data: {\n      resourceName: 'resourceName'\n    }\n  }\n}\n</code></pre>\n"}, {"tags": ["angular", "typescript", "module", "font-awesome"], "answers": [{"tags": [], "owner": {"reputation": 10694, "user_id": 2069295, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/008127e8f10293f43e62de3b7b3520e1?s=128&d=identicon&r=PG", "display_name": "Jeremy Moritz", "link": "https://stackoverflow.com/users/2069295/jeremy-moritz"}, "is_accepted": false, "score": 1, "last_activity_date": 1551898678, "creation_date": 1551898678, "answer_id": 55030352, "question_id": 55030214, "link": "https://stackoverflow.com/questions/55030214/use-fontawesome-angular-with-an-angular-npm-module-for-export/55030352#55030352", "title": "Use FontAwesome-Angular with an Angular npm Module for export", "body": "<p>Turns out the problem was that i had not imported it into the spec.ts file.  Here was the fix:</p>\n\n<pre><code>import { DebugElement } from '@angular/core';\nimport { async, ComponentFixture, TestBed } from '@angular/core/testing';\n\nimport { NcuiFooterComponent } from './ncui-footer.component';\nimport { FontAwesomeModule } from '@fortawesome/angular-fontawesome';\n\ndescribe('NcuiFooterComponent', () =&gt; {\n  let component: NcuiFooterComponent;\n  let fixture: ComponentFixture&lt;NcuiFooterComponent&gt;;\n  let de: DebugElement;\n\n  beforeEach(async(() =&gt; TestBed.configureTestingModule({\n    declarations: [NcuiFooterComponent],\n    imports: [\n      FontAwesomeModule\n    ]\n  }).compileComponents()));\n\n  ...\n\n});\n</code></pre>\n"}], "owner": {"reputation": 10694, "user_id": 2069295, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/008127e8f10293f43e62de3b7b3520e1?s=128&d=identicon&r=PG", "display_name": "Jeremy Moritz", "link": "https://stackoverflow.com/users/2069295/jeremy-moritz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 250, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1551898678, "creation_date": 1551898180, "question_id": 55030214, "link": "https://stackoverflow.com/questions/55030214/use-fontawesome-angular-with-an-angular-npm-module-for-export", "title": "Use FontAwesome-Angular with an Angular npm Module for export", "body": "<p>I have an Angular 7 npm module (NOT a full app) that is meant to be imported into other Angular projects.  My module provides a header and footer that other apps can import.</p>\n\n<p>I'm having trouble importing the fontAwesome module into my module.  </p>\n\n<p>Here is my ncui.module.ts file (i do not have an app.module.ts file since this isn't an app):</p>\n\n<pre><code>import { NgModule, ModuleWithProviders } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { HttpClientModule } from '@angular/common/http';\nimport { FontAwesomeModule } from '@fortawesome/angular-fontawesome';\n\nimport { NcuiFooterComponent } from './ncui-footer.component';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    HttpClientModule,\n    FontAwesomeModule\n  ],\n  declarations: [\n    NcuiFooterComponent\n  ],\n  exports: [\n    NcuiFooterComponent\n  ],\n  providers: [\n    ...\n  ]\n})\nexport class NcuiModule {\n  static forRoot(): ModuleWithProviders {\n    return {\n      ngModule: NcuiModule,\n      providers: [\n        ...\n      ]\n    };\n  }\n}\n</code></pre>\n\n<p>And my footer.component.ts file (abbreviated of course):</p>\n\n<pre><code>import { Component, OnInit } from '@angular/core';\nimport { faQuestionCircle } from '@fortawesome/free-solid-svg-icons';\n\n@Component({\n  selector: 'ncui-footer',\n  templateUrl: './ncui-footer.component.html',\n  styleUrls: [\n    './css/global-main.scss'\n  ]\n})\nexport class NcuiFooterComponent implements OnInit {\n  faQuestionCircle = faQuestionCircle;\n\n  constructor(private ncuiAddressService: NcuiAddressService) {}\n}\n</code></pre>\n\n<p>And my footer.component.html file (the relevant piece only):</p>\n\n<pre><code>&lt;div&gt;\n  &lt;fa-icon [icon]=\"faQuestionCircle\"&gt;&lt;/fa-icon&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>When i run my tests, I get this error:</p>\n\n<pre><code>Can't bind to 'icon' since it isn't a known property of 'fa-icon'.\n        1. If 'fa-icon' is an Angular component and it has 'icon' input, then verify that it is part of this module.\n        2. If 'fa-icon' is a Web Component then add 'CUSTOM_ELEMENTS_SCHEMA' to the '@NgModule.schemas' of this component to suppress this message.\n</code></pre>\n\n<p>Any ideas what I need to do to import FontAwesome here?</p>\n"}, {"tags": ["typescript", "express"], "comments": [{"owner": {"reputation": 871364, "user_id": 157247, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/4HovX.jpg?s=128&g=1", "display_name": "T.J. Crowder", "link": "https://stackoverflow.com/users/157247/t-j-crowder"}, "edited": false, "score": 0, "creation_date": 1551897018, "post_id": 55029813, "comment_id": 96812406, "body": "I can tell you why Attempt #2 didn&#39;t work: You asked for a module namespace object, then tried to run it as a function."}, {"owner": {"reputation": 871364, "user_id": 157247, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/4HovX.jpg?s=128&g=1", "display_name": "T.J. Crowder", "link": "https://stackoverflow.com/users/157247/t-j-crowder"}, "edited": false, "score": 0, "creation_date": 1551897322, "post_id": 55029813, "comment_id": 96812565, "body": "Looks like <code>@types&#47;express</code> is missing the fact that Express provides a default export that&#39;s a function. (I just double-checked that it does, and that <code>import express from &quot;express&quot;;</code> correctly retrieves it in JavaScript code with <code>--experimental-modules</code> enabled.) So definitely a types thing (as the error suggests). Looking in <code>node_modules&#47;@types&#47;express&#47;index.d.ts</code>, I see that it at least <i>tries</i> to define an export for the express function: &quot;Creates an Express application. The express() function is a top-level function exported by the express module.&quot;"}, {"owner": {"reputation": 106152, "user_id": 1108891, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/zUoEd.jpg?s=128&g=1", "display_name": "Shaun Luttin", "link": "https://stackoverflow.com/users/1108891/shaun-luttin"}, "reply_to_user": {"reputation": 871364, "user_id": 157247, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/4HovX.jpg?s=128&g=1", "display_name": "T.J. Crowder", "link": "https://stackoverflow.com/users/157247/t-j-crowder"}, "edited": false, "score": 1, "creation_date": 1551898957, "post_id": 55029813, "comment_id": 96813260, "body": "@T.J.Crowder Doing a forced cast to a Function works: <code>const app = (express as unknown as Function)();</code>. It&#39;s certainly an ugly hack, though."}, {"owner": {"reputation": 106152, "user_id": 1108891, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/zUoEd.jpg?s=128&g=1", "display_name": "Shaun Luttin", "link": "https://stackoverflow.com/users/1108891/shaun-luttin"}, "reply_to_user": {"reputation": 871364, "user_id": 157247, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/4HovX.jpg?s=128&g=1", "display_name": "T.J. Crowder", "link": "https://stackoverflow.com/users/157247/t-j-crowder"}, "edited": false, "score": 0, "creation_date": 1551899156, "post_id": 55029813, "comment_id": 96813343, "body": "@T.J.Crowder Actually, that does not work... at runtime we get &#39;express is not a function&#39; even though we imported it with <code>import * as express from &#39;express&#39;</code>."}, {"owner": {"reputation": 871364, "user_id": 157247, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/4HovX.jpg?s=128&g=1", "display_name": "T.J. Crowder", "link": "https://stackoverflow.com/users/157247/t-j-crowder"}, "edited": false, "score": 0, "creation_date": 1551899494, "post_id": 55029813, "comment_id": 96813523, "body": "It should be <code>import express from &#39;express&#39;;</code> The <code>*</code> version imports a module namespace object, not the default export (see comments above)."}, {"owner": {"reputation": 871364, "user_id": 157247, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/4HovX.jpg?s=128&g=1", "display_name": "T.J. Crowder", "link": "https://stackoverflow.com/users/157247/t-j-crowder"}, "edited": false, "score": 1, "creation_date": 1551899687, "post_id": 55029813, "comment_id": 96813604, "body": "(Speaking of hacks: <code>import * as mno from &#39;express&#39;; const express = mno.default as unknown as Function;</code>) But the real solution (which sadly I can&#39;t help with) is to sort out the types in <code>@types&#47;express&#47;index.d.ts</code> and/or TypeScript&#39;s use of them."}, {"owner": {"reputation": 106152, "user_id": 1108891, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/zUoEd.jpg?s=128&g=1", "display_name": "Shaun Luttin", "link": "https://stackoverflow.com/users/1108891/shaun-luttin"}, "reply_to_user": {"reputation": 871364, "user_id": 157247, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/4HovX.jpg?s=128&g=1", "display_name": "T.J. Crowder", "link": "https://stackoverflow.com/users/157247/t-j-crowder"}, "edited": false, "score": 1, "creation_date": 1551906040, "post_id": 55029813, "comment_id": 96816699, "body": "Sorting out the types would be a worthwhile pull request. I can add that to my &quot;maybe someday&quot; list of things to do."}, {"owner": {"user_type": "does_not_exist", "display_name": "user11010433"}, "edited": false, "score": 0, "creation_date": 1551910852, "post_id": 55029813, "comment_id": 96818670, "body": "tsc with express types version 4.16.1 is not complaining about <i>import express, { Request, Response, Application } from &#39;express&#39;;</i>"}, {"owner": {"reputation": 106152, "user_id": 1108891, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/zUoEd.jpg?s=128&g=1", "display_name": "Shaun Luttin", "link": "https://stackoverflow.com/users/1108891/shaun-luttin"}, "edited": false, "score": 0, "creation_date": 1551922833, "post_id": 55029813, "comment_id": 96821940, "body": "@joseph-climber Have you also enabled <code>allowSyntheticDefaultImports</code> in the tsconfig.json file?"}, {"owner": {"user_type": "does_not_exist", "display_name": "user11010433"}, "edited": false, "score": 0, "creation_date": 1551995718, "post_id": 55029813, "comment_id": 96856530, "body": "I wasn&#39;t even aware of it :-). It was commented out but defaulting to true as <i>esModuleInterop</i> was set true and <i>target</i> was <i>es5</i> <a href=\"https://www.typescriptlang.org/docs/handbook/compiler-options.html\" rel=\"nofollow noreferrer\">I think</a>. Actually is the <i>allowSyntheticDefaultImport</i> option that makes the compiler stopping complaining about modules that don&#39;t have default exports but <i>esModuleInterop</i> is also needed because it uses the helper  <code>__importDefault</code> in the generated code and the helper wraps a modulewithoutdefault as an object <b>{ &#39;default&#39;: modulewithoutdefault }</b> so things don&#39;t blow up in run time."}, {"owner": {"reputation": 106152, "user_id": 1108891, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/zUoEd.jpg?s=128&g=1", "display_name": "Shaun Luttin", "link": "https://stackoverflow.com/users/1108891/shaun-luttin"}, "edited": false, "score": 0, "creation_date": 1551996834, "post_id": 55029813, "comment_id": 96856944, "body": "@joseph-climber Good to know. I have tended to disable <code>allowSyntheticDefaultImport</code> because it has lead to runtime troubles when compiling with Babel and testing with Jest. Maybe some other incantation of configuration options can make it work."}], "answers": [{"comments": [{"owner": {"reputation": 106152, "user_id": 1108891, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/zUoEd.jpg?s=128&g=1", "display_name": "Shaun Luttin", "link": "https://stackoverflow.com/users/1108891/shaun-luttin"}, "edited": false, "score": 0, "creation_date": 1554428571, "post_id": 55523133, "comment_id": 97758218, "body": "That&#39;s useful. In our case, though, we are targeting ECMAScript modules and see this error message: &#39;Import assignment cannot be used when targeting ECMAScript modules...&#39;"}, {"owner": {"reputation": 15352, "user_id": 166921, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/2af8cc3459a9a18e4376aaf0f8151bf5?s=128&d=identicon&r=PG", "display_name": "Kamil Szot", "link": "https://stackoverflow.com/users/166921/kamil-szot"}, "reply_to_user": {"reputation": 106152, "user_id": 1108891, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/zUoEd.jpg?s=128&g=1", "display_name": "Shaun Luttin", "link": "https://stackoverflow.com/users/1108891/shaun-luttin"}, "edited": false, "score": 1, "creation_date": 1554479441, "post_id": 55523133, "comment_id": 97781661, "body": "@ShaunLuttin I&#39;m afraid that using bare <code>require()</code> is the best way to go for you. Alternatively, if you are using webpack or babel you could preprocess module <code>express</code> to &quot;wrap&quot; it in the default export but it&#39;s probably too much of a hassle and it might mess the types."}, {"owner": {"reputation": 15352, "user_id": 166921, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/2af8cc3459a9a18e4376aaf0f8151bf5?s=128&d=identicon&r=PG", "display_name": "Kamil Szot", "link": "https://stackoverflow.com/users/166921/kamil-szot"}, "reply_to_user": {"reputation": 106152, "user_id": 1108891, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/zUoEd.jpg?s=128&g=1", "display_name": "Shaun Luttin", "link": "https://stackoverflow.com/users/1108891/shaun-luttin"}, "edited": false, "score": 1, "creation_date": 1554480736, "post_id": 55523133, "comment_id": 97782394, "body": "@ShaunLuttin Are you sure you want to target ECMAScript modules in you server-side code? Node uses commonjs. You probably bundle all modules before running them with node, so it doesn&#39;t matter, but then again, why use some specific kind of modules other than native nodejs modules? Why fit round peg in square hole if you are going to pour concrete over the whole thing in the end?"}, {"owner": {"reputation": 106152, "user_id": 1108891, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/zUoEd.jpg?s=128&g=1", "display_name": "Shaun Luttin", "link": "https://stackoverflow.com/users/1108891/shaun-luttin"}, "edited": false, "score": 0, "creation_date": 1554507047, "post_id": 55523133, "comment_id": 97792058, "body": "That&#39;s a terrific point about using <code>commonjs</code> on the server side. I went ahead and tried that. Since we are using <code>babel&#47;plugin-transform-typescript</code> to transpile instead of using <code>tsc</code>, there is a new error, because the babel build system does not allow <code>import =</code> to work. We could set <code>--allowSyntheticDefaultImports</code>, but that (used to) have some edge cases we want to avoid."}, {"owner": {"reputation": 15352, "user_id": 166921, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/2af8cc3459a9a18e4376aaf0f8151bf5?s=128&d=identicon&r=PG", "display_name": "Kamil Szot", "link": "https://stackoverflow.com/users/166921/kamil-szot"}, "reply_to_user": {"reputation": 106152, "user_id": 1108891, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/zUoEd.jpg?s=128&g=1", "display_name": "Shaun Luttin", "link": "https://stackoverflow.com/users/1108891/shaun-luttin"}, "edited": false, "score": 0, "creation_date": 1554651866, "post_id": 55523133, "comment_id": 97821432, "body": "@ShaunLuttin Yes. That&#39;s another solution. I updated my answer. I&#39;m afraid that <code>allowSyntheticDefaultImports</code> and <code>esModuleInterop</code> is the right way to go for you if you are using <code>babel&#47;plugin-transform-typescript</code>. I don&#39;t think you should be afraid of edge cases (anymore?) because what those switches do seems pretty straightforward. Just some equivalent of adding <code>module.exports.__default__ = module.exports</code> at the end of the module you are importing."}, {"owner": {"reputation": 106152, "user_id": 1108891, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/zUoEd.jpg?s=128&g=1", "display_name": "Shaun Luttin", "link": "https://stackoverflow.com/users/1108891/shaun-luttin"}, "edited": false, "score": 1, "creation_date": 1554683439, "post_id": 55523133, "comment_id": 97829311, "body": "The combination of using <code>commonjs</code> and setting <code>allowSyntheticDefaultImports</code> and <code>esModuleInterop</code> both to <code>true</code> appears to work."}], "tags": [], "owner": {"reputation": 15352, "user_id": 166921, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/2af8cc3459a9a18e4376aaf0f8151bf5?s=128&d=identicon&r=PG", "display_name": "Kamil Szot", "link": "https://stackoverflow.com/users/166921/kamil-szot"}, "is_accepted": true, "score": 17, "last_activity_date": 1554652374, "last_edit_date": 1554652374, "creation_date": 1554404134, "answer_id": 55523133, "question_id": 55029813, "link": "https://stackoverflow.com/questions/55029813/how-to-create-an-express-application-with-import-instead-of-require/55523133#55523133", "title": "How to create an express Application with import instead of require", "body": "<p>TypeScript has <a href=\"https://www.typescriptlang.org/docs/handbook/modules.html#export--and-import--require\" rel=\"noreferrer\">special import syntax</a> to deal with modules that export functions or some other custom objects as a whole (not as default export):</p>\n\n<pre><code>import { Request, Response, Application } from 'express';\nimport express = require('express');\n\nvar app: Application = express();\n\napp.get('/', function (req: Request, res: Response) {\n  res.send('Hello World')\n});\n\napp.listen(3000);\n</code></pre>\n\n<hr>\n\n<p>Alternatively you can use TypeScript compiler options to alter imported module so that they have default export:</p>\n\n<pre><code>// tsconfig.json\n{\n  \"compilerOptions\": {\n    \"allowSyntheticDefaultImports\": true,     /* Allow default imports from modules with no default export. This does not affect code emit, just typechecking. */\n    \"esModuleInterop\": true,                  /* Enables emit interoperability between CommonJS and ES Modules via creation of namespace objects for all imports. Implies 'allowSyntheticDefaultImports'. */\n  }\n}\n</code></pre>\n\n<p>and import using this default import:</p>\n\n<pre><code>import express from 'express' \nvar app = express();\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 14166892, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AOh14Gg7PV8F1C7v1vaKMgFZhuu6kpvrJgKP7LQFd8X_nQ=k-s128", "display_name": "Anthony Murilo", "link": "https://stackoverflow.com/users/14166892/anthony-murilo"}, "is_accepted": false, "score": 0, "last_activity_date": 1612865999, "last_edit_date": 1612865999, "creation_date": 1612865924, "answer_id": 66116988, "question_id": 55029813, "link": "https://stackoverflow.com/questions/55029813/how-to-create-an-express-application-with-import-instead-of-require/66116988#66116988", "title": "How to create an express Application with import instead of require", "body": "<p>Mine was giving the same error, maybe because of the version used, I decided::</p>\n<pre><code>const express = require('express');\nconst app = express();\nconst PORT = 3000;\n</code></pre>\n<p>e no package.json: &quot;node index.js&quot;</p>\n"}], "owner": {"reputation": 106152, "user_id": 1108891, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/zUoEd.jpg?s=128&g=1", "display_name": "Shaun Luttin", "link": "https://stackoverflow.com/users/1108891/shaun-luttin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 7019, "favorite_count": 2, "accepted_answer_id": 55523133, "answer_count": 2, "score": 6, "last_activity_date": 1612865999, "creation_date": 1551896515, "question_id": 55029813, "link": "https://stackoverflow.com/questions/55029813/how-to-create-an-express-application-with-import-instead-of-require", "title": "How to create an express Application with import instead of require", "body": "<p>This is what works with <code>require</code>. We instead want it to use <code>import</code>. </p>\n\n<pre><code>import { Request, Response, Application } from 'express';\n\n// TODO Figure out how NOT to use require here.\nconst express = require('express');\nvar app: Application = express();\n\napp.get('/', function (req: Request, res: Response) {\n  res.send('Hello World')\n});\n\napp.listen(3000);\n</code></pre>\n\n<h2>What we have tried</h2>\n\n<p>Our tsconfig.json has <code>\"esModuleInterop\": true</code>.</p>\n\n<h3>Attempt # 1</h3>\n\n<pre><code>import express from 'express';\n</code></pre>\n\n<p>That gives this error:</p>\n\n<blockquote>\n  <p>\"node_modules/@types/express/index\"' has no default export.ts</p>\n</blockquote>\n\n<h3>Attempt # 2</h3>\n\n<pre><code>import * as express from 'express';\nvar app = express();\n</code></pre>\n\n<p>That gives a different error: </p>\n\n<blockquote>\n  <p>Cannot invoke an expression whose type lacks a call signature. Type 'typeof e' has no compatible call signatures.ts(2349)\n  index.ts(1, 1): Type originates at this import. A namespace-style import cannot be called or constructed, and will cause a failure at runtime. Consider using a default import or import require here instead.</p>\n</blockquote>\n"}, {"tags": ["typescript"], "comments": [{"owner": {"reputation": 536, "user_id": 11081044, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JV2t1.jpg?s=128&g=1", "display_name": "Tyler Church", "link": "https://stackoverflow.com/users/11081044/tyler-church"}, "edited": false, "score": 0, "creation_date": 1551902689, "post_id": 55029372, "comment_id": 96815233, "body": "Could you rewrite your second to last paragraph to be a bit more clear about what you&#39;re asking? Are you saying it is working and you&#39;re not expecting it to? Or is there some error you&#39;re getting that you haven&#39;t listed above? For whatever it&#39;s worth, on TypeScript 3.1.1 with those flags set to false, I get TS1192: Module &#39;&quot;foo.css&quot;&#39; has no default export, which makes sense to me."}, {"owner": {"user_type": "does_not_exist", "display_name": "user10247087"}, "reply_to_user": {"reputation": 536, "user_id": 11081044, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JV2t1.jpg?s=128&g=1", "display_name": "Tyler Church", "link": "https://stackoverflow.com/users/11081044/tyler-church"}, "edited": false, "score": 0, "creation_date": 1551906240, "post_id": 55029372, "comment_id": 96816788, "body": "@TylerChurch I just create sample code (<a href=\"https://codesandbox.io/s/yp8xymmoqx\" rel=\"nofollow noreferrer\">codesandbox.io/s/yp8xymmoqx</a>). <code>index.ts</code> does not occur any errors and I expect to get errors using <code>import XXX from &quot;.&#47;xxx&quot;;</code> not using default exports."}, {"owner": {"reputation": 536, "user_id": 11081044, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JV2t1.jpg?s=128&g=1", "display_name": "Tyler Church", "link": "https://stackoverflow.com/users/11081044/tyler-church"}, "edited": false, "score": 0, "creation_date": 1551913902, "post_id": 55029372, "comment_id": 96819806, "body": "it&#39;s not clear to me what tsconfig.json options that codesandbox is using. If you try this here: <a href=\"https://repl.it/repls/EvenInfiniteOpensoundsystem\" rel=\"nofollow noreferrer\">repl.it/repls/EvenInfiniteOpensoundsystem</a> the error occurs (you may need to hit Run to see it)"}], "owner": {"user_type": "does_not_exist", "display_name": "user10247087"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 450, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1551894779, "creation_date": 1551894779, "question_id": 55029372, "link": "https://stackoverflow.com/questions/55029372/d-ts-file-can-be-imported-using-import-xxx-but-default-export-does-not-exist", "title": ".d.ts file can be imported using &quot;import XXX&quot; but default export does not exist", "body": "<p>First, creates .d.ts file like the following, not using default exports.</p>\n\n<pre><code>// foo.css.d.ts\nexport const a: string;\nexport const b: string;\n</code></pre>\n\n<p>Then, other TypeScript file imports it.</p>\n\n<pre><code>// bar.ts\nimport * as foo1 from \"./foo.css\";\nimport foo2 from \"./foo.css\";\n</code></pre>\n\n<p>As far as I remember, TypeScript conforms ES module specification and cannot import using <code>import XXX</code> from not including default export module. Why I can import it? Some options exist to enable the importing way in TypeScript?</p>\n\n<p>( <code>allowSyntheticDefaultImports: false</code> and <code>esModuleInterop: false</code> in <code>tsconfig.json</code>)</p>\n"}, {"tags": ["typescript"], "comments": [{"owner": {"reputation": 56338, "user_id": 4265352, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-lzAUc5pYb24/AAAAAAAAAAI/AAAAAAAAAGQ/q3h7bZUnqrs/photo.jpg?sz=128", "display_name": "axiac", "link": "https://stackoverflow.com/users/4265352/axiac"}, "edited": false, "score": 4, "creation_date": 1551893847, "post_id": 55029032, "comment_id": 96810875, "body": "It&#39;s documented: <a href=\"https://www.typescriptlang.org/docs/handbook/utility-types.html#thistypet\" rel=\"nofollow noreferrer\">typescriptlang.org/docs/handbook/utility-types.html#thistype&zwnj;&#8203;t</a>"}], "answers": [{"comments": [{"owner": {"reputation": 119, "user_id": 7325164, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/445e7e8233f7f211f9309cf3de401090?s=128&d=identicon&r=PG&f=1", "display_name": "chickenDinner", "link": "https://stackoverflow.com/users/7325164/chickendinner"}, "edited": false, "score": 0, "creation_date": 1583897491, "post_id": 55031623, "comment_id": 107263803, "body": "seems can&#39;t use ThisType in Function? Like this:   let helperFunction: Function &amp; ThisType&lt;HelperThisValue&gt; = function() {     this.logError(&#39;Error: Something went wrong!&#39;); } ;"}, {"owner": {"reputation": 536, "user_id": 11081044, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JV2t1.jpg?s=128&g=1", "display_name": "Tyler Church", "link": "https://stackoverflow.com/users/11081044/tyler-church"}, "reply_to_user": {"reputation": 119, "user_id": 7325164, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/445e7e8233f7f211f9309cf3de401090?s=128&d=identicon&r=PG&f=1", "display_name": "chickenDinner", "link": "https://stackoverflow.com/users/7325164/chickendinner"}, "edited": false, "score": 0, "creation_date": 1584139811, "post_id": 55031623, "comment_id": 107355137, "body": "@chickenDinner That&#39;s correct. ThisType is specifically for use with objects. However, you can specify &#39;this&#39; as the first parameter, like so:  const helperFunction: (this: HelperThisValue) =&gt; any = function() { this.logError(&#39;Error: Something went wrong!&#39;); };  Note that the function assigned can&#39;t be an arrow function, as those receive their &#39;this&#39; value from the surrounding scope, so specifying &#39;this&#39; wouldn&#39;t make sense."}], "tags": [], "owner": {"reputation": 536, "user_id": 11081044, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JV2t1.jpg?s=128&g=1", "display_name": "Tyler Church", "link": "https://stackoverflow.com/users/11081044/tyler-church"}, "is_accepted": true, "score": 13, "last_activity_date": 1551903964, "creation_date": 1551903964, "answer_id": 55031623, "question_id": 55029032, "link": "https://stackoverflow.com/questions/55029032/what-is-typescripts-thistype-used-for/55031623#55031623", "title": "What is TypeScript&#39;s ThisType used for?", "body": "<p><code>ThisType</code> is documented here: <a href=\"https://www.typescriptlang.org/docs/handbook/utility-types.html#thistypet\" rel=\"noreferrer\">https://www.typescriptlang.org/docs/handbook/utility-types.html#thistypet</a> (thanks to @axiac for linking that in the comments)</p>\n\n<p>However, the example the docs use feels a bit convoluted to me. This is the easiest way I've found to think about it:</p>\n\n<p>If you add <code>&amp; ThisType&lt;WhateverYouWantThisToBe&gt;</code> to the type of an object, the functions within that object will have <code>WhateverYouWantThisToBe</code> as the type used for <code>this</code>. This is helpful if you can't otherwise specify what <code>this</code> should be through the normal TypeScript mechanisms (it's not a <code>class</code>, etc.)</p>\n\n<p>If we imagine a world where we're writing some code that registers some helper functions, you could write it like this:</p>\n\n<pre><code>interface HelperThisValue {\n    logError: (error: string) =&gt; void;\n}\n\nlet helperFunctions: { [name: string]: Function } &amp; ThisType&lt;HelperThisValue&gt; = {\n    hello: function() {\n        this.logError(\"Error: Something went wrong!\"); // TypeScript successfully recognizes that \"logError\" is a part of \"this\".\n        this.update(); // TS2339: Property 'update' does not exist on HelperThisValue.\n    }\n}\n\nregisterHelpers(helperFunctions);\n</code></pre>\n\n<p>As I've indicated in the comments above, TypeScript now knows the correct type, and will give errors if we misuse it.</p>\n\n<p>Note that like all of TypeScript's typings, using <code>ThisType</code> has no effect on the resulting JavaScript code. There must be code elsewhere that ensures that when the members of <code>helperFunctions</code> get called, the proper <code>this</code> value is set (e.g. through use of <code>Function.bind</code>, <code>Function.apply</code>, <code>Function.call</code>, etc.)</p>\n"}], "owner": {"reputation": 1108, "user_id": 3942699, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/bVbLj.jpg?s=128&g=1", "display_name": "feihcsim", "link": "https://stackoverflow.com/users/3942699/feihcsim"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1693, "favorite_count": 0, "accepted_answer_id": 55031623, "answer_count": 1, "score": 5, "last_activity_date": 1599748374, "creation_date": 1551893588, "last_edit_date": 1599748374, "question_id": 55029032, "link": "https://stackoverflow.com/questions/55029032/what-is-typescripts-thistype-used-for", "title": "What is TypeScript&#39;s ThisType used for?", "body": "<p>TypeScript comes with an interface <a href=\"https://github.com/Microsoft/TypeScript/blob/master/lib/lib.es5.d.ts#L1531-L1534\" rel=\"nofollow noreferrer\"><code>ThisType</code></a>. I couldn't find much documentation on it, so I'm wondering: what is it used for? How do I use it? How does it work?</p>\n"}, {"tags": ["typescript"], "answers": [{"tags": [], "owner": {"reputation": 5844, "user_id": 1075401, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/b38e877fe17599d7eec56bfcc52eb63d?s=128&d=identicon&r=PG", "display_name": "gilamran", "link": "https://stackoverflow.com/users/1075401/gilamran"}, "is_accepted": true, "score": 2, "last_activity_date": 1551894558, "last_edit_date": 1551894558, "creation_date": 1551894248, "answer_id": 55029233, "question_id": 55029008, "link": "https://stackoverflow.com/questions/55029008/how-to-avoid-code-repetition-when-creating-a-more-complex-type-that-uses-the-sam/55029233#55029233", "title": "How to avoid code repetition when creating a more complex type that uses the same props with superset types in Typescript?", "body": "<p>You can create a new generic type that will do this for you. The new type will go over all the properties of the given type and \"convert\" each property to a <code>IComponentProp</code></p>\n\n<p>Like this:</p>\n\n<pre><code>export interface IPageElementProps {\n  maxContainerWidth: number;\n}\n\nexport interface ITextElementProps {\n  text: string;\n  styleRanges: ICanvasTextElementStyleRange[];\n}\n\nexport interface IComponentProp&lt;T&gt; {\n  dynamic: boolean;\n  value?: T;\n  defaultValue?: T;\n}\n\n// This is the magic type\ntype PageProps&lt;T&gt; = { [P in keyof T]: IComponentProp&lt;T[P]&gt; };\n\n// There new types will do the job\ntype IPageComponentProps = PageProps&lt;IPageElementProps&gt;;\ntype ITextComponentProps = PageProps&lt;ITextElementProps&gt;;\n</code></pre>\n"}], "owner": {"reputation": 8327, "user_id": 45974, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/04361eba6e039eecdd3458e2545f03e6?s=128&d=identicon&r=PG", "display_name": "Tom", "link": "https://stackoverflow.com/users/45974/tom"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 23, "favorite_count": 0, "accepted_answer_id": 55029233, "answer_count": 1, "score": 0, "last_activity_date": 1551894558, "creation_date": 1551893493, "question_id": 55029008, "link": "https://stackoverflow.com/questions/55029008/how-to-avoid-code-repetition-when-creating-a-more-complex-type-that-uses-the-sam", "title": "How to avoid code repetition when creating a more complex type that uses the same props with superset types in Typescript?", "body": "<p>I have two data structures that use \"props\", where one type of prop is more simple and the other type of prop is more complex. The simple prop type is used for \"elements\" and the complex one is used for \"components\".</p>\n\n<p>This is the simple data structure:</p>\n\n<pre><code>export interface IPageElementProps {\n  maxContainerWidth: number\n}\n\nexport interface ITextElementProps {\n  text: string\n  styleRanges: ICanvasTextElementStyleRange[]\n}\n</code></pre>\n\n<p>Each of these is then duplicated to allow for a more complicated data structure used by components' props:</p>\n\n<pre><code>export interface IPageComponentProps {\n  maxContainerWidth: IComponentProp&lt;number&gt;\n}\n\nexport interface ITextComponentProps {\n  text: IComponentProp&lt;string&gt;\n  styleRanges: IComponentProp&lt;ICanvasTextElementStyleRange[]&gt;\n}\n\n/**\n * A component property defines whether a property is injectable (dynamic)\n * or whether it is hardcoded within the component (non-dynamic or static).\n */\nexport interface IComponentProp&lt;T&gt; {\n  dynamic: boolean\n  value?: T\n  defaultValue?: T\n}\n</code></pre>\n\n<p>Instead of having to redefine each type of element/component (one for the simple data structure and one for the complex one), I would prefer to use a generic type argument. Something along the lines of:</p>\n\n<pre><code>export interface IPageProps&lt;T = undefined&gt; {\n  maxContainerWidth: T&lt;number&gt;\n}\n</code></pre>\n\n<p>Which I would then use for the simple type as simply <code>props: IPageProps</code> and for the complex type as <code>props: IPageProps&lt;IComponentProp&gt;</code>.</p>\n\n<p>Does this make sense and is there any such feature in Typescript?</p>\n"}, {"tags": ["typescript", "typescript-typings"], "comments": [{"owner": {"reputation": 14557, "user_id": 1319799, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/638c6066d351794d90fb3abfa1704c01?s=128&d=identicon&r=PG", "display_name": "Muhammad Umer", "link": "https://stackoverflow.com/users/1319799/muhammad-umer"}, "edited": false, "score": 1, "creation_date": 1554097825, "post_id": 55028810, "comment_id": 97611960, "body": "<a href=\"https://github.com/Microsoft/TypeScript/wiki/FAQ#why-is-a-file-in-the-exclude-list-still-picked-up-by-the-compiler\" rel=\"nofollow noreferrer\">github.com/Microsoft/TypeScript/wiki/&hellip;</a>"}], "owner": {"reputation": 2591, "user_id": 3601464, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/kXD7h.jpg?s=128&g=1", "display_name": "Andriy Horen", "link": "https://stackoverflow.com/users/3601464/andriy-horen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 139, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1551893395, "creation_date": 1551892859, "last_edit_date": 1551893395, "question_id": 55028810, "link": "https://stackoverflow.com/questions/55028810/typescript-compiler-includes-typings-of-outdir", "title": "Typescript compiler includes typings of outDir", "body": "<p>I'm having an issue when typescript compiler tries to include <code>*.d.ts</code> files from library output folder and then build fails as it can't rewrite those files. Apparently files are included because of following configuration in <code>package.json</code>:</p>\n\n<pre><code>\"main\": \"lib/index.js\",\n\"typings\": \"lib/index.d.ts\",\n</code></pre>\n\n<p>In <code>tsconfig.json</code> I have set up output folder and bunch of other configurations that are probably irrelevant in this case.</p>\n\n<pre><code>\"compilerOptions\": {\n    \"outDir\": \"./lib\"\n},\n</code></pre>\n\n<p>And the problem itself is when I run <code>tsc --listFiles</code> I can see that files from output folder are included:</p>\n\n<pre><code>...\n&lt;project-root&gt;/lib/contracts/index.d.ts\n&lt;project-root&gt;/lib/profiler/profile-request.d.ts\n&lt;project-root&gt;/lib/profiler/profile-response.d.ts\n&lt;project-root&gt;/lib/profiler/index.d.ts\n&lt;project-root&gt;/lib/config/elastic.config.d.ts\n...\n</code></pre>\n\n<p>And that later results in error:</p>\n\n<pre><code>error TS5055: Cannot write file '&lt;project-root&gt;lib/config/app.config.d.ts' because it would overwrite input file.\n...\n</code></pre>\n\n<p>Is this expected behavior for typescript compiler to include files in this \nscenario?</p>\n\n<p>And should I just remove <code>main / typings</code> configuration from <code>package.json</code>? It is advised to have that configuration in doc <a href=\"https://www.typescriptlang.org/docs/handbook/declaration-files/publishing.html\" rel=\"nofollow noreferrer\">Publishing</a></p>\n"}, {"tags": ["javascript", "html", "angular", "typescript", "angular-material2"], "comments": [{"owner": {"reputation": 467, "user_id": 2681943, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3b2c3a62fdd5a0e18ec18249b1a24172?s=128&d=identicon&r=PG", "display_name": "Nikhil Walvekar", "link": "https://stackoverflow.com/users/2681943/nikhil-walvekar"}, "edited": false, "score": 0, "creation_date": 1551892897, "post_id": 55028401, "comment_id": 96810312, "body": "Is small box component used in main component? can you post how are you using small box and which contents you want to pass?"}, {"owner": {"reputation": 998, "user_id": 8564532, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6867d0f1b8823d0f5f62b2fc3fee9189?s=128&d=identicon&r=PG", "display_name": "The224", "link": "https://stackoverflow.com/users/8564532/the224"}, "reply_to_user": {"reputation": 467, "user_id": 2681943, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3b2c3a62fdd5a0e18ec18249b1a24172?s=128&d=identicon&r=PG", "display_name": "Nikhil Walvekar", "link": "https://stackoverflow.com/users/2681943/nikhil-walvekar"}, "edited": false, "score": 0, "creation_date": 1551902069, "post_id": 55028401, "comment_id": 96814875, "body": "I edit the question @NikhilWalvekar"}], "answers": [{"comments": [{"owner": {"reputation": 998, "user_id": 8564532, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6867d0f1b8823d0f5f62b2fc3fee9189?s=128&d=identicon&r=PG", "display_name": "The224", "link": "https://stackoverflow.com/users/8564532/the224"}, "edited": false, "score": 0, "creation_date": 1551902174, "post_id": 55029885, "comment_id": 96814939, "body": "Yes, I want to do this... But there is an intermediate component <code>BtnInfoComponent</code>, so how can I pass it to the small box"}], "tags": [], "owner": {"reputation": 197, "user_id": 9075955, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/54c627e460acc6175684fd0c9f7f2259?s=128&d=identicon&r=PG&f=1", "display_name": "Kuldeep Semwal", "link": "https://stackoverflow.com/users/9075955/kuldeep-semwal"}, "is_accepted": false, "score": -2, "last_activity_date": 1551896800, "creation_date": 1551896800, "answer_id": 55029885, "question_id": 55028401, "link": "https://stackoverflow.com/questions/55028401/pass-ng-content-to-child-component/55029885#55029885", "title": "Pass ng-content to child component", "body": "<p>You can pass html from main component to small box component using content projection. Please follow this link for how to use content projection <a href=\"https://www.infragistics.com/community/blogs/b/infragistics/posts/simplifying-content-projection-in-angular\" rel=\"nofollow noreferrer\">https://www.infragistics.com/community/blogs/b/infragistics/posts/simplifying-content-projection-in-angular</a></p>\n"}, {"comments": [{"owner": {"reputation": 3779, "user_id": 3414662, "user_type": "registered", "accept_rate": 63, "profile_image": "https://i.stack.imgur.com/yL7Ho.png?s=128&g=1", "display_name": "Moussa", "link": "https://stackoverflow.com/users/3414662/moussa"}, "edited": false, "score": 1, "creation_date": 1616426743, "post_id": 66484009, "comment_id": 117992203, "body": "Hi thanx a lot for this, you deserve +100"}], "tags": [], "owner": {"reputation": 131, "user_id": 9807140, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-a_m_ObTAg4Y/AAAAAAAAAAI/AAAAAAAACAM/y6C-6oRYDjM/photo.jpg?sz=128", "display_name": "Josh Leslie", "link": "https://stackoverflow.com/users/9807140/josh-leslie"}, "is_accepted": false, "score": 2, "last_activity_date": 1616461598, "last_edit_date": 1616461598, "creation_date": 1614897010, "answer_id": 66484009, "question_id": 55028401, "link": "https://stackoverflow.com/questions/55028401/pass-ng-content-to-child-component/66484009#66484009", "title": "Pass ng-content to child component", "body": "<p>For future reference if anyone gets here, this may help -\n<a href=\"https://stackblitz.com/edit/angular-ivy-apjclv?file=src/app/child/child.component.html\" rel=\"nofollow noreferrer\">https://stackblitz.com/edit/angular-ivy-apjclv?file=src/app/child/child.component.html</a></p>\n<p>Edit:</p>\n<p>Basically, what you're looking for in the container:</p>\n<pre><code>&lt;app-parent&gt;\n&lt;span&gt; some content from container &lt;/span&gt;\n&lt;/app-parent&gt;\n</code></pre>\n<p>and in the parent:</p>\n<pre><code>&lt;app-child&gt;\n  &lt;ng-content select=&quot;[foo]&quot; ngProjectAs=&quot;[foo]&quot;&gt; &lt;/ng-content&gt;\n&lt;/app-child&gt;\n</code></pre>\n<p>and in the child:</p>\n<pre><code>&lt;ng-content select=&quot;[foo]&quot;&gt; &lt;/ng-content&gt;\n</code></pre>\n<p>Content can be added in the parent, but you'd need to split it up like:</p>\n<pre><code>&lt;ng-container ngProjectAs=&quot;[foo]&quot;&gt;\n  &lt;span&gt;some parent content&lt;/span&gt;\n  &lt;ng-content select=&quot;[foo]&quot;&gt;&lt;/ng-content&gt;\n&lt;ng-container&gt;\n</code></pre>\n<hr />\n<p>Edit 2: So I got carried away with passing TemplateRefs, to have the ability to access variables from the component projecting the content (aka 'parent' in these examples). Accessing variables deeper than the 'parent' gets to be untenable however. If you need to access child variables, at that point I would suggest using a service/observable instead / rethinking your structure.</p>\n<p><strong>TemplateRef Example</strong>, using the same container/parent/child structure above:</p>\n<pre><code>// parent-foo.component.ts\n@Input() templateFooSelector?: TemplateRef&lt;any&gt;;\n</code></pre>\n<pre><code>&lt;!-- container.component.html --&gt;\n&lt;app-parent [templateFooSelector]=&quot;containerTemplate&quot;&gt;&lt;/app-parent&gt;\n\n&lt;ng-template #containerTemplate let-parentFoo=&quot;parentFoo&quot;&gt;\n  &lt;div *ngIf=&quot;parentFoo.bar&quot;&gt; ParentFoo has variable Bar: {{parentFoo.bar}} &lt;/div&gt;\n&lt;/ng-template&gt;\n</code></pre>\n<pre><code>&lt;!-- parent.component.html --&gt;\n&lt;app-child&gt;\n  &lt;!-- this ngProjectAs is only necessary if the child uses a 'select=&quot;...&quot; ` --&gt;\n  &lt;ng-container ngProjectAs=&quot;[childSelector]&quot;&gt;\n    &lt;!-- the ngIfs may be unnecessary, haven't tested without --&gt;\n    &lt;ng-content *ngIf=&quot;!templateFooSelector&quot; select=&quot;[fooSelector]&quot;&gt;&lt;/ng-content&gt;\n    &lt;ng-container *ngIf=&quot;templateFooSelector&quot;&gt;\n      &lt;ng-container *ngTemplateOutlet=&quot;templateFooSelector; context: {parentFoo: this}&quot;&gt;\n      &lt;/ng-container&gt;\n    &lt;/ng-container&gt;\n  &lt;/ng-container&gt;\n&lt;app-child&gt;\n</code></pre>\n"}], "owner": {"reputation": 998, "user_id": 8564532, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6867d0f1b8823d0f5f62b2fc3fee9189?s=128&d=identicon&r=PG", "display_name": "The224", "link": "https://stackoverflow.com/users/8564532/the224"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1229, "favorite_count": 0, "answer_count": 2, "score": 9, "last_activity_date": 1616461598, "creation_date": 1551891464, "last_edit_date": 1551902053, "question_id": 55028401, "link": "https://stackoverflow.com/questions/55028401/pass-ng-content-to-child-component", "title": "Pass ng-content to child component", "body": "<p>thanks for your time.</p>\n\n<p>I have three component:</p>\n\n<ol>\n<li>Main page component</li>\n<li>A button who use <code>angular/cdk/overlay</code> <code>overlay.create</code> to create the third component</li>\n<li>A small box attached to the button who display text</li>\n</ol>\n\n<p>The goal is to display information about the page when the user clicks on the button. I can't use <code>@Input</code>, cause the format (<code>h1</code>, <code>p</code>, component) of the information will change for each page. </p>\n\n<h3>My question</h3>\n\n<p>How can I pass HTML from the main component to the small box component?</p>\n\n<p>or </p>\n\n<p>How can I intercept the content of the <code>ng-content</code> and send it to the small box component?</p>\n\n<p><em>Main</em></p>\n\n<pre class=\"lang-html prettyprint-override\"><code>&lt;app-btn-info&gt;\n   &lt;mat-icon&gt;info&lt;/mat-icon&gt;\n   &lt;h1&gt;Test&lt;/h1&gt;\n   &lt;p&gt;This is a test&lt;/p&gt;\n&lt;/app-btn-info&gt;\n</code></pre>\n\n<p><em>Button</em></p>\n\n<pre class=\"lang-js prettyprint-override\"><code>@Component({\n  selector: 'app-btn-info',\n  templateUrl: './btn-info.component.html',\n  styleUrls: ['./btn-info.component.scss']\n})\nexport class BtnInfoComponent {\n\n  @ViewChild('button') button: MatIcon;\n\n  constructor(private overlay: Overlay) { }\n\n  public onClick() {\n    this.overlay.create({\n      positionStrategy: this.overlay.position().connectedTo(this.button._elementRef,\n        { originX: 'start', originY: 'top' }, { overlayX: 'start', overlayY: 'top' }\n      )\n    });\n  }\n\n}\n</code></pre>\n\n<pre class=\"lang-html prettyprint-override\"><code>&lt;button #button mat-icon-button color=\"warn\" matTooltip=\"Choose an option\" (click)=\"onClick()\"&gt;\n    &lt;mat-icon&gt;refresh&lt;/mat-icon&gt;\n&lt;/button&gt;\n</code></pre>\n\n<p><em>Small box</em></p>\n\n<pre class=\"lang-html prettyprint-override\"><code>&lt;!-- From Main Component - But open by BtnInfoComponent --&gt;\n&lt;ng-content&gt;&lt;/ng-content&gt; \n</code></pre>\n"}, {"tags": ["css", "reactjs", "typescript"], "comments": [{"owner": {"reputation": 1182, "user_id": 3353505, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/sEVBu.jpg?s=128&g=1", "display_name": "GifCo", "link": "https://stackoverflow.com/users/3353505/gifco"}, "edited": false, "score": 0, "creation_date": 1551891611, "post_id": 55028349, "comment_id": 96809447, "body": "you can add any styles you want by adding the style prop. Also i dont think you need that library the material UI that you are going for uses the browsers default date picker and only styles a simple input tag. Add styles like this: &lt;input type=&#39;date&#39; style={{ border: &#39;none&#39; , color: &#39;red&#39;}} note the values have to be strings"}, {"owner": {"reputation": 573, "user_id": 6471558, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/e692dc54be613fd108b9f82f8ba3c0a2?s=128&d=identicon&r=PG&f=1", "display_name": "Haq.H", "link": "https://stackoverflow.com/users/6471558/haq-h"}, "reply_to_user": {"reputation": 1182, "user_id": 3353505, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/sEVBu.jpg?s=128&g=1", "display_name": "GifCo", "link": "https://stackoverflow.com/users/3353505/gifco"}, "edited": false, "score": 0, "creation_date": 1551892206, "post_id": 55028349, "comment_id": 96809843, "body": "Yeah, it seems simpler but there this library is built on the react-calendar which suits my needs better."}, {"owner": {"reputation": 1182, "user_id": 3353505, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/sEVBu.jpg?s=128&g=1", "display_name": "GifCo", "link": "https://stackoverflow.com/users/3353505/gifco"}, "edited": false, "score": 0, "creation_date": 1551892585, "post_id": 55028349, "comment_id": 96810116, "body": "The library you supplied does nothing special other than creating a custom styled date picker. Either way just set a  style={{}} on the &lt;DatePicker /&gt; and play around with it."}, {"owner": {"reputation": 573, "user_id": 6471558, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/e692dc54be613fd108b9f82f8ba3c0a2?s=128&d=identicon&r=PG&f=1", "display_name": "Haq.H", "link": "https://stackoverflow.com/users/6471558/haq-h"}, "reply_to_user": {"reputation": 1182, "user_id": 3353505, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/sEVBu.jpg?s=128&g=1", "display_name": "GifCo", "link": "https://stackoverflow.com/users/3353505/gifco"}, "edited": false, "score": 0, "creation_date": 1551898497, "post_id": 55028349, "comment_id": 96813065, "body": "well that was the first thing I tried but it throws this error: Type &#39;{ style: {}; name: string; value: Date; onChange: (e: any) =&gt; void; maxDate: Date; minDate: Date; }&#39; is not assignable to type &#39;IntrinsicAttributes &amp; DatePickerProps&#39;.   Property &#39;style&#39; does not exist on type &#39;IntrinsicAttributes &amp; DatePickerProps&#39;"}, {"owner": {"reputation": 573, "user_id": 6471558, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/e692dc54be613fd108b9f82f8ba3c0a2?s=128&d=identicon&r=PG&f=1", "display_name": "Haq.H", "link": "https://stackoverflow.com/users/6471558/haq-h"}, "reply_to_user": {"reputation": 1182, "user_id": 3353505, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/sEVBu.jpg?s=128&g=1", "display_name": "GifCo", "link": "https://stackoverflow.com/users/3353505/gifco"}, "edited": false, "score": 0, "creation_date": 1551899552, "post_id": 55028349, "comment_id": 96813553, "body": "I think instead of using inline styling the api provides a className prop which you can feed to affect the div of the date-picker or the calendar so I&#39;ll try using that."}, {"owner": {"reputation": 573, "user_id": 6471558, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/e692dc54be613fd108b9f82f8ba3c0a2?s=128&d=identicon&r=PG&f=1", "display_name": "Haq.H", "link": "https://stackoverflow.com/users/6471558/haq-h"}, "reply_to_user": {"reputation": 1182, "user_id": 3353505, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/sEVBu.jpg?s=128&g=1", "display_name": "GifCo", "link": "https://stackoverflow.com/users/3353505/gifco"}, "edited": false, "score": 0, "creation_date": 1551900668, "post_id": 55028349, "comment_id": 96814113, "body": "didn&#39;t work the className attribute affects on the values inside the textbox -_-"}, {"owner": {"reputation": 1182, "user_id": 3353505, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/sEVBu.jpg?s=128&g=1", "display_name": "GifCo", "link": "https://stackoverflow.com/users/3353505/gifco"}, "edited": false, "score": 0, "creation_date": 1551902839, "post_id": 55028349, "comment_id": 96815318, "body": "Yes the className will apply to the parent element. In your custom class you can then target child elements. Also the default example at <a href=\"http://projects.wojtekmaj.pl/react-date-picker/\" rel=\"nofollow noreferrer\">projects.wojtekmaj.pl/react-date-picker</a> doesnt even have borders, and most inputs use outline not border anyway. I would either ditch this component and style a nice input the way you want it and use the default date picker Or you are gonna have to spend some time understanding CSS and specifically css selector specificity so you can modify this component the way you want it."}, {"owner": {"reputation": 573, "user_id": 6471558, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/e692dc54be613fd108b9f82f8ba3c0a2?s=128&d=identicon&r=PG&f=1", "display_name": "Haq.H", "link": "https://stackoverflow.com/users/6471558/haq-h"}, "reply_to_user": {"reputation": 1182, "user_id": 3353505, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/sEVBu.jpg?s=128&g=1", "display_name": "GifCo", "link": "https://stackoverflow.com/users/3353505/gifco"}, "edited": false, "score": 0, "creation_date": 1551908408, "post_id": 55028349, "comment_id": 96817714, "body": "I do not want to use the material Input. I guess I&#39;ll try to figure out if it&#39;s possible to remove the borders through css otherwise I guess I&#39;ll find another library"}], "owner": {"reputation": 573, "user_id": 6471558, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/e692dc54be613fd108b9f82f8ba3c0a2?s=128&d=identicon&r=PG&f=1", "display_name": "Haq.H", "link": "https://stackoverflow.com/users/6471558/haq-h"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 52, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1555382384, "creation_date": 1551891299, "last_edit_date": 1555382384, "question_id": 55028349, "link": "https://stackoverflow.com/questions/55028349/how-to-style-react-library-components", "title": "how to style react library components", "body": "<p>I am using this library: <a href=\"https://www.npmjs.com/package/react-date-picker\" rel=\"nofollow noreferrer\">https://www.npmjs.com/package/react-date-picker</a>\nto display a date picker in my application. \nI am used to working with Angular and relatively new to react and have little to no exposure on how to style components provided by these libraries. </p>\n\n<p>The below is the set-up for the date picker in the react render() functions return:</p>\n\n<pre><code>&lt;DatePicker\n    name=\"date\"\n    value={Moment(values.date, 'YYYY/MM/DD').toDate()}\n    onChange={this.handleDateChange}\n    maxDate={maxDate}\n    minDate={minDate}\n/&gt;\n</code></pre>\n\n<p>The picker generated by the datepicker is an input box and I want to remove the top and side borders to make it resemble the material-ui pickers which are just their textfield with type='date' (<a href=\"https://material-ui.com/demos/pickers/\" rel=\"nofollow noreferrer\">https://material-ui.com/demos/pickers/</a>) .</p>\n\n<p>On a different note. The material text-field has a label property but the api for the date-picker api doens't mention anything about a label prop but is there a way to add it or is the best approach to just insert a div above the tag and style it to look like a label? </p>\n\n<p>Thank You~</p>\n\n<p>Update: </p>\n\n<p><a href=\"https://i.stack.imgur.com/SqXJC.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/SqXJC.png\" alt=\"enter image description here\"></a></p>\n\n<p>playing around with the console I found that the className attribute applys it's styles to the react-date-picker class whereas the border is affected by the react-date-picker___wrapper class. How can I change the styles of this class using the className property provided by the api currently playing around with no success T_T</p>\n"}, {"tags": ["angularjs", "typescript", "ionic3"], "answers": [{"comments": [{"owner": {"reputation": 121, "user_id": 10709428, "user_type": "registered", "profile_image": "https://graph.facebook.com/468114417049895/picture?type=large", "display_name": "Akil Demir", "link": "https://stackoverflow.com/users/10709428/akil-demir"}, "edited": false, "score": 0, "creation_date": 1551989605, "post_id": 55039302, "comment_id": 96854068, "body": "Tried but did not work. got the error that says &quot;Runtime Error: Zone already loaded.&quot;"}, {"owner": {"reputation": 104, "user_id": 10022288, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-kaIZjTblHz0/AAAAAAAAAAI/AAAAAAAAAAA/AB6qoq0mVti-OOLp1H81GaBKUsfuQQ6BMw/mo/photo.jpg?sz=128", "display_name": "Gonzalo Carmenado", "link": "https://stackoverflow.com/users/10022288/gonzalo-carmenado"}, "reply_to_user": {"reputation": 121, "user_id": 10709428, "user_type": "registered", "profile_image": "https://graph.facebook.com/468114417049895/picture?type=large", "display_name": "Akil Demir", "link": "https://stackoverflow.com/users/10709428/akil-demir"}, "edited": false, "score": 0, "creation_date": 1552032718, "post_id": 55039302, "comment_id": 96866574, "body": "that happens when you are loading the same module 2 times. look for duplicities in your imports"}], "tags": [], "owner": {"reputation": 104, "user_id": 10022288, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-kaIZjTblHz0/AAAAAAAAAAI/AAAAAAAAAAA/AB6qoq0mVti-OOLp1H81GaBKUsfuQQ6BMw/mo/photo.jpg?sz=128", "display_name": "Gonzalo Carmenado", "link": "https://stackoverflow.com/users/10022288/gonzalo-carmenado"}, "is_accepted": false, "score": 0, "last_activity_date": 1551947668, "creation_date": 1551947668, "answer_id": 55039302, "question_id": 55028320, "link": "https://stackoverflow.com/questions/55028320/ionic-v3-polyfill-js-uncaught-promise-error/55039302#55039302", "title": "Ionic v3 polyfill.js Uncaught promise error", "body": "<p>try to go to <code>Index.html</code> and put the <code>polifill.js</code> library before <code>cordoba.js</code> library: </p>\n\n<pre><code>&lt;script src=\"build/polyfills.js\"&gt;&lt;/script&gt;\n\n &lt;script src=\"cordova.js\"&gt;&lt;/script&gt;\n</code></pre>\n"}], "owner": {"reputation": 121, "user_id": 10709428, "user_type": "registered", "profile_image": "https://graph.facebook.com/468114417049895/picture?type=large", "display_name": "Akil Demir", "link": "https://stackoverflow.com/users/10709428/akil-demir"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 284, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1551947668, "creation_date": 1551891199, "question_id": 55028320, "link": "https://stackoverflow.com/questions/55028320/ionic-v3-polyfill-js-uncaught-promise-error", "title": "Ionic v3 polyfill.js Uncaught promise error", "body": "<p><a href=\"https://i.stack.imgur.com/2YeaD.png\" rel=\"nofollow noreferrer\">error image</a></p>\n\n<p>Do you guys have any idea why am I constantly getting this error? I couldn't debug because I don't see anything in my about my code in the stack and my app is working as expected. Thanks!</p>\n"}, {"tags": ["angular", "typescript", "angular-material", "angular-cdk"], "comments": [{"owner": {"reputation": 4691, "user_id": 1135971, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/IHJkN.jpg?s=128&g=1", "display_name": "andreivictor", "link": "https://stackoverflow.com/users/1135971/andreivictor"}, "edited": false, "score": 0, "creation_date": 1583782846, "post_id": 55028318, "comment_id": 107225018, "body": "Answered in <a href=\"https://stackoverflow.com/questions/53307611/cdkdraghandle-in-angular-material-mat-table-has-no-effect/60607276#60607276\" title=\"cdkdraghandle in angular material mat table has no effect\">stackoverflow.com/questions/53307611/&hellip;</a>."}], "answers": [{"tags": [], "owner": {"reputation": 1663, "user_id": 1958480, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/03cf8097a46ba2b0f9889fb4a6ffe31e?s=128&d=identicon&r=PG&f=1", "display_name": "jcuypers", "link": "https://stackoverflow.com/users/1958480/jcuypers"}, "is_accepted": false, "score": 2, "last_activity_date": 1551897322, "creation_date": 1551897322, "answer_id": 55030019, "question_id": 55028318, "link": "https://stackoverflow.com/questions/55028318/how-to-make-a-mat-table-row-drag-drop-work-with-cdkdraghandle-so-that-the-row-is/55030019#55030019", "title": "How to make a mat-table row drag-drop work with cdkDragHandle so that the row is only draggable using the handle?", "body": "<p>IMHO there is no quick-fix to this, other than hacking/overriding the source code of Angular Material / CDK. Testament of this is the open feature request at github: <a href=\"https://github.com/angular/material2/issues/13770\" rel=\"nofollow noreferrer\">https://github.com/angular/material2/issues/13770</a>.    </p>\n\n<p>The issue is that the cdkDrag on a datasource / MatTable automatically creates drag annotations on all child elements (which generates the behavior) and can't be (easily) overriden.</p>\n\n<p>Based on the documentation <code>cdkDrag/cdkDragDisabled</code> - <code>cdkDragHandle/cdkDragHandleDisabled</code> should help (it does work without a table).  I've upgraded all the libraries from the example to support them but to no effect.  </p>\n"}, {"comments": [{"owner": {"reputation": 9731, "user_id": 309830, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/e77037ae0695146ca8a3ad227d55b98f?s=128&d=identicon&r=PG", "display_name": "David S.", "link": "https://stackoverflow.com/users/309830/david-s"}, "edited": false, "score": 0, "creation_date": 1564556015, "post_id": 55868240, "comment_id": 101064771, "body": "You example broke the sorting function. Is that intentional?"}, {"owner": {"reputation": 3008, "user_id": 213050, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/738dce7fbadb6707dace69482d966320?s=128&d=identicon&r=PG", "display_name": "H Dog", "link": "https://stackoverflow.com/users/213050/h-dog"}, "reply_to_user": {"reputation": 9731, "user_id": 309830, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/e77037ae0695146ca8a3ad227d55b98f?s=128&d=identicon&r=PG", "display_name": "David S.", "link": "https://stackoverflow.com/users/309830/david-s"}, "edited": false, "score": 0, "creation_date": 1564582101, "post_id": 55868240, "comment_id": 101079777, "body": "As you can see from what I wrote, there is still a known bug with the actual reordering.  All my solution does, is allow dragging by a drag handle.  This is unfortunately an incomplete solution, we are still waiting for CDK to fix the buggy Drag/Drop implementation."}], "tags": [], "owner": {"reputation": 3008, "user_id": 213050, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/738dce7fbadb6707dace69482d966320?s=128&d=identicon&r=PG", "display_name": "H Dog", "link": "https://stackoverflow.com/users/213050/h-dog"}, "is_accepted": false, "score": 2, "last_activity_date": 1556284462, "last_edit_date": 1556284462, "creation_date": 1556283783, "answer_id": 55868240, "question_id": 55028318, "link": "https://stackoverflow.com/questions/55028318/how-to-make-a-mat-table-row-drag-drop-work-with-cdkdraghandle-so-that-the-row-is/55868240#55868240", "title": "How to make a mat-table row drag-drop work with cdkDragHandle so that the row is only draggable using the handle?", "body": "<p>I have achieved that UX by applying <code>cdkDrag</code> to the dragHandle itself, instead of the row, and using <code>cdkDragRootElement</code> to identify the row.  It achieves the UX of dragging via handle, but there's still a bug that prevents the actual reordering after the drop.</p>\n\n<p><a href=\"https://stackblitz.com/edit/angular-r4n3q5?file=src%2Fapp%2Fapp.component.html\" rel=\"nofollow noreferrer\">See Stackblitz here.</a></p>\n\n<p><a href=\"https://material.angular.io/cdk/drag-drop/overview#alternate-drag-root-element\" rel=\"nofollow noreferrer\">Documentation of cdkDragRootElement is here.</a></p>\n\n<p><a href=\"https://github.com/angular/components/issues/13770\" rel=\"nofollow noreferrer\">Here is link to Github issue about it.</a></p>\n"}, {"comments": [{"owner": {"reputation": 509, "user_id": 9973409, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-ICtaS6yxjvc/AAAAAAAAAAI/AAAAAAAAAAA/AB6qoq0ZjBsQvZivMyn9STyM-4_N3qR6NQ/mo/photo.jpg?sz=128", "display_name": "phelhe", "link": "https://stackoverflow.com/users/9973409/phelhe"}, "edited": false, "score": 0, "creation_date": 1562864950, "post_id": 56980201, "comment_id": 100522714, "body": "I ended up going a different route and just having a separate reorder view that is toggled on/off. But this seems good to me, nice!"}, {"owner": {"reputation": 165, "user_id": 6099767, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/6ec5292b34137ef7c06f35f3b9d91e06?s=128&d=identicon&r=PG&f=1", "display_name": "hjskeqwe", "link": "https://stackoverflow.com/users/6099767/hjskeqwe"}, "edited": false, "score": 0, "creation_date": 1574379109, "post_id": 56980201, "comment_id": 104223070, "body": "I ended up having two different views, and only one is shown at a time. So at the top of the page I have a toggle that turns on &quot;reorder mode&quot;, and when reorder mode is toggle on, then the mat-table is hidden, and a separate list of items is displayed that are drag-droppable."}, {"owner": {"reputation": 165, "user_id": 6099767, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/6ec5292b34137ef7c06f35f3b9d91e06?s=128&d=identicon&r=PG&f=1", "display_name": "hjskeqwe", "link": "https://stackoverflow.com/users/6099767/hjskeqwe"}, "edited": false, "score": 0, "creation_date": 1574379864, "post_id": 56980201, "comment_id": 104223254, "body": "Something like this but styled better: <a href=\"https://stackblitz.com/edit/angular-pjg922\" rel=\"nofollow noreferrer\">stackblitz.com/edit/angular-pjg922</a> Btw it&#39;s phelhe i changed my name to gibberish"}], "tags": [], "owner": {"reputation": 287, "user_id": 403004, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/da3e9354d6a2f30e34976113ede46186?s=128&d=identicon&r=PG", "display_name": "Mamoon ur Rasheed", "link": "https://stackoverflow.com/users/403004/mamoon-ur-rasheed"}, "is_accepted": true, "score": 2, "last_activity_date": 1562805104, "creation_date": 1562805104, "answer_id": 56980201, "question_id": 55028318, "link": "https://stackoverflow.com/questions/55028318/how-to-make-a-mat-table-row-drag-drop-work-with-cdkdraghandle-so-that-the-row-is/56980201#56980201", "title": "How to make a mat-table row drag-drop work with cdkDragHandle so that the row is only draggable using the handle?", "body": "<p>I have found a somewhat simple issue to this complex problem. For any simple text td in the draggable tr, we can use the pointer-events:none and it will disable all the text element.</p>\n\n<p>On the handle icon, use the pointer-events:all and it will enable dragging from only the icon.</p>\n\n<p>This also has the issue where it disables all the anchor and buttons. So for icon and buttons do the follwoing</p>\n\n<ol>\n<li>using mouseDown set a flag</li>\n<li>on drag start, check the drag and throw mouseup event</li>\n<li>on drag stop, check if flag is set and reset flag and return</li>\n</ol>\n\n<p>check this stackblits for working answer \n<a href=\"https://stackblitz.com/edit/angular-rwzc76\" rel=\"nofollow noreferrer\">https://stackblitz.com/edit/angular-rwzc76</a></p>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 12364028, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-P-BkSwWI6Ck/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rdrYaZaiNoXVtYg7c-ymDKac-ZSEQ/photo.jpg?sz=128", "display_name": "Chris Jardine", "link": "https://stackoverflow.com/users/12364028/chris-jardine"}, "is_accepted": false, "score": 0, "last_activity_date": 1574456928, "last_edit_date": 1574456928, "creation_date": 1573607293, "answer_id": 58828917, "question_id": 55028318, "link": "https://stackoverflow.com/questions/55028318/how-to-make-a-mat-table-row-drag-drop-work-with-cdkdraghandle-so-that-the-row-is/58828917#58828917", "title": "How to make a mat-table row drag-drop work with cdkDragHandle so that the row is only draggable using the handle?", "body": "<p>I have an alternate solution to the ones posted here. I had a requirement beyond just links and plain text cells that required more interactivity (including text selection, input fields, etc).</p>\n\n<p>Using a directive on any non-draggable cells that will be rendered in a <code>cdkDrag</code> table row (<code>tr</code>), I was able to stop the <code>mousedown</code> event from bubbling down to the active <code>cdkDrag</code> row of the <code>cdkDropList</code> instance.</p>\n\n<p>Here is what my directive eventually ended up looking like.</p>\n\n<pre><code>import {Directive, ElementRef, OnDestroy, OnInit} from '@angular/core';\n\n@Directive({\n  selector: '[appCancelCdkDrag]'\n})\nexport class CancelCdkDrag implements OnInit, OnDestroy {\n  $element: HTMLElement;\n\n  constructor(el: ElementRef) {\n    this.$element = el.nativeElement;\n  }\n\n  fireMouseUp($event: MouseEvent) {\n    $event.cancelBubble = true;\n  }\n\n  ngOnDestroy(): void {\n    this.$element.removeEventListener('mousedown', this.fireMouseUp);\n  }\n\n  ngOnInit(): void {\n    this.$element.addEventListener('mousedown', this.fireMouseUp);\n  }\n\n}\n</code></pre>\n\n<p>StackBlitz here: <a href=\"https://stackblitz.com/edit/angular-tgrcni\" rel=\"nofollow noreferrer\">https://stackblitz.com/edit/angular-tgrcni</a></p>\n\n<p>Here is a related comment on the Github Angular Components page: <a href=\"https://github.com/angular/components/issues/13770#issuecomment-553193486\" rel=\"nofollow noreferrer\">https://github.com/angular/components/issues/13770#issuecomment-553193486</a></p>\n\n<p>Hope this helps.</p>\n"}, {"tags": [], "owner": {"reputation": 156, "user_id": 5176222, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4a31b0b789ed5478fc181032b914f069?s=128&d=identicon&r=PG&f=1", "display_name": "Avin Shum", "link": "https://stackoverflow.com/users/5176222/avin-shum"}, "is_accepted": false, "score": 6, "last_activity_date": 1589264922, "last_edit_date": 1589264922, "creation_date": 1589255549, "answer_id": 61743526, "question_id": 55028318, "link": "https://stackoverflow.com/questions/55028318/how-to-make-a-mat-table-row-drag-drop-work-with-cdkdraghandle-so-that-the-row-is/61743526#61743526", "title": "How to make a mat-table row drag-drop work with cdkDragHandle so that the row is only draggable using the handle?", "body": "<p>Here is my workaround for this issue:</p>\n\n<ol>\n<li>Make a boolean to control whether <code>cdkDrag</code> should be disabled. Default behavior is disabled.</li>\n<li>Add a <code>mousedown</code>, <code>mouseup</code>, <code>touchstart</code>, and <code>touchend</code> event handler to the <code>cdkDragHandle</code> to toggle the control.</li>\n<li>In the <code>cdkDrag</code>, listen to the <code>cdkDragReleased</code> event to disable the <code>cdkDrag</code> after it is dragged.</li>\n</ol>\n\n<p>The side-effect is that it becomes harder to work with items that you really want to disable (e.g. apply style for those truly disabled items).</p>\n\n<p>The code looks like below:</p>\n\n<ul>\n<li>Component class</li>\n</ul>\n\n<pre class=\"lang-js prettyprint-override\"><code>  dragDisabled = true;\n</code></pre>\n\n<ul>\n<li>cdkDrag</li>\n</ul>\n\n<pre class=\"lang-html prettyprint-override\"><code>&lt;mat-row\n  *matRowDef=\"let row; columns: displayedColumns\"\n  cdkDrag\n  [cdkDragData]=\"row\"\n  [cdkDragDisabled]=\"dragDisabled\"\n  (cdkDragReleased)=\"dragDisabled = true\"\n&gt;&lt;/mat-row&gt;\n</code></pre>\n\n<ul>\n<li>cdkDragHandle</li>\n</ul>\n\n<pre class=\"lang-html prettyprint-override\"><code>&lt;mat-icon\n  cdkDragHandle\n  (touchstart)=\"dragDisabled = false\"\n  (touchend)=\"dragDisabled = true\"\n  (mousedown)=\"dragDisabled = false\"\n  (mouseup)=\"dragDisabled = true\"\n  &gt;drag_indicator&lt;/mat-icon\n&gt;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 92, "user_id": 3137301, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8f8ec6236af588bdffe3c0b50a42341d?s=128&d=identicon&r=PG&f=1", "display_name": "jdimmerman", "link": "https://stackoverflow.com/users/3137301/jdimmerman"}, "is_accepted": false, "score": 1, "last_activity_date": 1612367595, "creation_date": 1612367595, "answer_id": 66031025, "question_id": 55028318, "link": "https://stackoverflow.com/questions/55028318/how-to-make-a-mat-table-row-drag-drop-work-with-cdkdraghandle-so-that-the-row-is/66031025#66031025", "title": "How to make a mat-table row drag-drop work with cdkDragHandle so that the row is only draggable using the handle?", "body": "<p>I have an alternative answer here (which perhaps was not possible previously) - it combines <code>@H Dog</code> and <code>@Mamoon ur Rasheed</code>'s answers.</p>\n<p>As per H Dog's answer, move the drag handle into the cell itself instead of the row, and use <code>cdkDragRootElement</code> to select the parent mat-row. However, this still leaves the full row as draggable.</p>\n<p>Next, disable drag by default, bound to a boolean on the component. When a mousedown event is fired on the drag handle, enable drag and then, in the next frame, disable it again.</p>\n<p>This leaves the full row as allowing normal interaction, but enables dragging via the drag handle with proper placeholder and preview functionality.</p>\n"}], "owner": {"reputation": 509, "user_id": 9973409, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-ICtaS6yxjvc/AAAAAAAAAAI/AAAAAAAAAAA/AB6qoq0ZjBsQvZivMyn9STyM-4_N3qR6NQ/mo/photo.jpg?sz=128", "display_name": "phelhe", "link": "https://stackoverflow.com/users/9973409/phelhe"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 5798, "favorite_count": 3, "accepted_answer_id": 56980201, "answer_count": 6, "score": 5, "last_activity_date": 1612367595, "creation_date": 1551891190, "question_id": 55028318, "link": "https://stackoverflow.com/questions/55028318/how-to-make-a-mat-table-row-drag-drop-work-with-cdkdraghandle-so-that-the-row-is", "title": "How to make a mat-table row drag-drop work with cdkDragHandle so that the row is only draggable using the handle?", "body": "<p>I found <a href=\"https://stackblitz.com/edit/angular-igmugp\" rel=\"noreferrer\">this</a> stackblitz example of adding drag-drop to a mat-table using angular cdk. However, the desired behavior is that the row is only draggable using the element with the cdkDragHandle directive. In this example you can drag the element by clicking anywhere on the row. How can this be modified so that the row is only draggable using the drag handle?</p>\n\n<p><a href=\"https://stackblitz.com/edit/angular-igmugp\" rel=\"noreferrer\">https://stackblitz.com/edit/angular-igmugp</a></p>\n"}, {"tags": ["javascript", "angular", "typescript"], "comments": [{"owner": {"reputation": 33687, "user_id": 9624435, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/h44B4.jpg?s=128&g=1", "display_name": "Code Maniac", "link": "https://stackoverflow.com/users/9624435/code-maniac"}, "edited": false, "score": 1, "creation_date": 1551891088, "post_id": 55028235, "comment_id": 96809112, "body": "And i can&#39;t find <code>actualLocation</code> in your code anywhere. will you post relevant code please."}, {"owner": {"reputation": 1823, "user_id": 5571461, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/4c9584b3ff6b7efcd86fcb120d103d56?s=128&d=identicon&r=PG&f=1", "display_name": "AbhiRam", "link": "https://stackoverflow.com/users/5571461/abhiram"}, "reply_to_user": {"reputation": 33687, "user_id": 9624435, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/h44B4.jpg?s=128&g=1", "display_name": "Code Maniac", "link": "https://stackoverflow.com/users/9624435/code-maniac"}, "edited": false, "score": 0, "creation_date": 1551891211, "post_id": 55028235, "comment_id": 96809193, "body": "i updated my code please see once"}, {"owner": {"reputation": 33687, "user_id": 9624435, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/h44B4.jpg?s=128&g=1", "display_name": "Code Maniac", "link": "https://stackoverflow.com/users/9624435/code-maniac"}, "edited": false, "score": 0, "creation_date": 1551892078, "post_id": 55028235, "comment_id": 96809761, "body": "Simply this is not available in this context. Read here <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/this\" rel=\"nofollow noreferrer\">developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/&hellip;</a>"}], "answers": [{"comments": [{"owner": {"reputation": 1823, "user_id": 5571461, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/4c9584b3ff6b7efcd86fcb120d103d56?s=128&d=identicon&r=PG&f=1", "display_name": "AbhiRam", "link": "https://stackoverflow.com/users/5571461/abhiram"}, "edited": false, "score": 0, "creation_date": 1551891309, "post_id": 55028332, "comment_id": 96809254, "body": "what is this is this answer to my queston?"}], "tags": [], "owner": {"reputation": 1074, "user_id": 9363929, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-FS1lH1f5mjo/AAAAAAAAAAI/AAAAAAAAAAc/xLut-sRzp-0/photo.jpg?sz=128", "display_name": "miqrc", "link": "https://stackoverflow.com/users/9363929/miqrc"}, "is_accepted": false, "score": 0, "last_activity_date": 1551891564, "last_edit_date": 1551891564, "creation_date": 1551891251, "answer_id": 55028332, "question_id": 55028235, "link": "https://stackoverflow.com/questions/55028235/uncaught-typeerror-cannot-set-property-value-of-null/55028332#55028332", "title": "uncaught TypeError: Cannot set property value of null", "body": "<p>Use arrow functions to access \"this\" variable:</p>\n\n<pre><code>onSuccess = (position) =&gt; {\n    this.currentLat=position.coords.latitude;\n    this.currentLng=position.coords.longitude ;\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 7665, "user_id": 894532, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/epFXH.jpg?s=128&g=1", "display_name": "Maihan Nijat", "link": "https://stackoverflow.com/users/894532/maihan-nijat"}, "is_accepted": true, "score": 2, "last_activity_date": 1551892002, "last_edit_date": 1551892002, "creation_date": 1551891638, "answer_id": 55028457, "question_id": 55028235, "link": "https://stackoverflow.com/questions/55028235/uncaught-typeerror-cannot-set-property-value-of-null/55028457#55028457", "title": "uncaught TypeError: Cannot set property value of null", "body": "<p><code>this</code> is not available in your nested function. You can bind <code>this</code> like <code>onSuccess.bind(this);</code> to the function or easily assign <code>this</code> to another variable.</p>\n\n<pre><code>watchPosition() {\n  const that = this;\n  const options = {\n    maximumAge: 3600000,\n    timeout: 3000,\n    enableHighAccuracy: true,\n  };\n\n  const watchID = navigator.geolocation.watchPosition(onSuccess, onError, options);\n  function onSuccess(position) {\n    that.currentLat = position.coords.latitude;\n    that.currentLng = position.coords.longitude ;\n  }\n\n  function onError(error) {\n    alert('code: ' + error.code + '\\n' + 'message: ' + error.message + '\\n');\n  }\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 2396, "user_id": 7547379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/93d2af3a4c5cbf1b51597570ad0cd638?s=128&d=identicon&r=PG&f=1", "display_name": "Vadi", "link": "https://stackoverflow.com/users/7547379/vadi"}, "edited": false, "score": 0, "creation_date": 1551892684, "post_id": 55028521, "comment_id": 96810178, "body": "implementing <code>arrow functions</code> in that way, you&#39;ll got an error in typescript <code>Cannot find name [functionName]</code>"}], "tags": [], "owner": {"reputation": 2950, "user_id": 3365339, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CWtGg.jpg?s=128&g=1", "display_name": "Franklin Pious", "link": "https://stackoverflow.com/users/3365339/franklin-pious"}, "is_accepted": false, "score": 0, "last_activity_date": 1551891838, "creation_date": 1551891838, "answer_id": 55028521, "question_id": 55028235, "link": "https://stackoverflow.com/questions/55028235/uncaught-typeerror-cannot-set-property-value-of-null/55028521#55028521", "title": "uncaught TypeError: Cannot set property value of null", "body": "<p>The value of <code>this</code>is null since you are using it inside the function. You could use <strong><em>arrow functions</em></strong> instead. </p>\n\n<pre><code> watchPosition() {\n        var options = {\n            maximumAge: 3600000,\n            timeout: 3000,\n            enableHighAccuracy: true,\n        }\n        var watchID = navigator.geolocation.watchPosition(onSuccess, onError, options);\n        onSuccess = (position) =&gt; {\n            this.currentLat=position.coords.latitude;\n            this.currentLng=position.coords.longitude ;\n        };\n\n        onError = (error) =&gt; {\n            alert('code: ' + error.code + '\\n' + 'message: ' + error.message + '\\n');\n        }\n    }\n</code></pre>\n"}], "owner": {"reputation": 1823, "user_id": 5571461, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/4c9584b3ff6b7efcd86fcb120d103d56?s=128&d=identicon&r=PG&f=1", "display_name": "AbhiRam", "link": "https://stackoverflow.com/users/5571461/abhiram"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1282, "favorite_count": 0, "accepted_answer_id": 55028457, "answer_count": 3, "score": 2, "last_activity_date": 1551894122, "creation_date": 1551890901, "last_edit_date": 1551894122, "question_id": 55028235, "link": "https://stackoverflow.com/questions/55028235/uncaught-typeerror-cannot-set-property-value-of-null", "title": "uncaught TypeError: Cannot set property value of null", "body": "<p>Cannot set property 'currentLat' of null; I tried declaring all the variables globally so I can use the later but I don't know why I keep getting null when I call a variable and try to set its properties.</p>\n\n<pre><code>currentLat: any;\n currentLng: any;\n\n  ngOnInit() {\n        this.watchPosition();\n      }\n\n watchPosition() {\n        var options = {\n            maximumAge: 3600000,\n            timeout: 3000,\n            enableHighAccuracy: true,\n        }\n        var watchID = navigator.geolocation.watchPosition(onSuccess, onError, options);\n        function onSuccess(position) {\n            this.currentLat=position.coords.latitude;\n            this.currentLng=position.coords.longitude ;\n        };\n\n        function onError(error) {\n            alert('code: ' + error.code + '\\n' + 'message: ' + error.message + '\\n');\n        }\n    }\n</code></pre>\n"}, {"tags": ["angular", "typescript"], "comments": [{"owner": {"reputation": 9968, "user_id": 114900, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/ZGjf9.jpg?s=128&g=1", "display_name": "msanford", "link": "https://stackoverflow.com/users/114900/msanford"}, "edited": false, "score": 0, "creation_date": 1551891290, "post_id": 55028110, "comment_id": 96809240, "body": "That&#39;s not entirely dissimilar to what I do. YoukouleleY makes a good point. Side-note: don&#39;t put <code>debugger</code> into your actually source code, just use breakpoints in devtools. There is a non-zero risk that you push that into production."}, {"owner": {"reputation": 157, "user_id": 8479878, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/f7b8d7a14274ea1890101fc2498aa56b?s=128&d=identicon&r=PG&f=1", "display_name": "Nathan Elg", "link": "https://stackoverflow.com/users/8479878/nathan-elg"}, "reply_to_user": {"reputation": 9968, "user_id": 114900, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/ZGjf9.jpg?s=128&g=1", "display_name": "msanford", "link": "https://stackoverflow.com/users/114900/msanford"}, "edited": false, "score": 0, "creation_date": 1551892114, "post_id": 55028110, "comment_id": 96809788, "body": "For some reason my breakpoints don&#39;t work, so I have been using debuggers. I agree they are stupid and risk prone for production."}, {"owner": {"reputation": 9968, "user_id": 114900, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/ZGjf9.jpg?s=128&g=1", "display_name": "msanford", "link": "https://stackoverflow.com/users/114900/msanford"}, "edited": false, "score": 0, "creation_date": 1551892278, "post_id": 55028110, "comment_id": 96809891, "body": "Ah that&#39;s interesting. Perhaps you are missing source maps? Not the main problem but something to look at eventually. I wouldn&#39;t call it &quot;stupid&quot; necessarily, just risky. Sometimes you gotta do what you gotta do..."}], "answers": [{"comments": [{"owner": {"reputation": 157, "user_id": 8479878, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/f7b8d7a14274ea1890101fc2498aa56b?s=128&d=identicon&r=PG&f=1", "display_name": "Nathan Elg", "link": "https://stackoverflow.com/users/8479878/nathan-elg"}, "edited": false, "score": 0, "creation_date": 1551892523, "post_id": 55028283, "comment_id": 96810076, "body": "I like the look of this a lot more. I was thinking there might be a rxjs method that could perform this job, but that might be overkill for what i am trying to do here."}, {"owner": {"reputation": 17285, "user_id": 3738171, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2JdKH.jpg?s=128&g=1", "display_name": "Guerric P", "link": "https://stackoverflow.com/users/3738171/guerric-p"}, "reply_to_user": {"reputation": 157, "user_id": 8479878, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/f7b8d7a14274ea1890101fc2498aa56b?s=128&d=identicon&r=PG&f=1", "display_name": "Nathan Elg", "link": "https://stackoverflow.com/users/8479878/nathan-elg"}, "edited": false, "score": 0, "creation_date": 1551948132, "post_id": 55028283, "comment_id": 96829801, "body": "Indeed, you don&#39;t need to handle events here"}], "tags": [], "owner": {"reputation": 17285, "user_id": 3738171, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2JdKH.jpg?s=128&g=1", "display_name": "Guerric P", "link": "https://stackoverflow.com/users/3738171/guerric-p"}, "is_accepted": true, "score": 2, "last_activity_date": 1551891064, "creation_date": 1551891064, "answer_id": 55028283, "question_id": 55028110, "link": "https://stackoverflow.com/questions/55028110/building-update-object-in-angular/55028283#55028283", "title": "Building update object in Angular", "body": "<p>Your code could be simplified like this:</p>\n\n<pre><code>class TaskRoutingUpdate {\n  constructor(obj?: any) {\n    Object.assign(this, obj);\n  }\n}\n\n\n\nbuildTaskUpdateObject() {\n  this.tasks.forEach(({ taskGuid }) =&gt; {\n    this.confirmRoutingUpdate.push(new TaskRoutingUpdate({ taskGuid, printer: this.selectedEquipment.$id }));\n  });   \n}\n</code></pre>\n"}], "owner": {"reputation": 157, "user_id": 8479878, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/f7b8d7a14274ea1890101fc2498aa56b?s=128&d=identicon&r=PG&f=1", "display_name": "Nathan Elg", "link": "https://stackoverflow.com/users/8479878/nathan-elg"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 37, "favorite_count": 0, "accepted_answer_id": 55028283, "answer_count": 1, "score": -1, "last_activity_date": 1551891064, "creation_date": 1551890493, "question_id": 55028110, "link": "https://stackoverflow.com/questions/55028110/building-update-object-in-angular", "title": "Building update object in Angular", "body": "<p>This Code below seems terrible to me but I am not sure the best practices on building update objects on the frontend. </p>\n\n<pre><code>buildTaskUpdateObject() {\n    this.tasks.forEach(task =&gt; {\n        debugger;\n        const taskRoutingUpdate = new TaskRoutingUpdate();\n        taskRoutingUpdate.taskGuid = task.taskGuid;\n        taskRoutingUpdate.printer = this.selectedEquipment.$id;\n        this.confirmRoutingUpdate.push(taskRoutingUpdate);\n    });\n}\n</code></pre>\n\n<p>Are there best practices around taking a collection of objects and extracting certain pieces to update the db with?  </p>\n"}, {"tags": ["javascript", "angular", "typescript"], "comments": [{"owner": {"reputation": 5052, "user_id": 2950032, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/45bfee4307a21e38ef04af6c963dc564?s=128&d=identicon&r=PG&f=1", "display_name": "maazadeeb", "link": "https://stackoverflow.com/users/2950032/maazadeeb"}, "edited": false, "score": 0, "creation_date": 1551888457, "post_id": 55027434, "comment_id": 96807532, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/8493195/how-can-i-parse-a-csv-string-with-javascript-which-contains-comma-in-data\">How can I parse a CSV string with Javascript, which contains comma in data?</a>"}, {"owner": {"reputation": 3179, "user_id": 6656422, "user_type": "registered", "accept_rate": 52, "profile_image": "https://lh6.googleusercontent.com/-ruwgjJVn5rk/AAAAAAAAAAI/AAAAAAAAAio/mSV4_HKnoJ4/photo.jpg?sz=128", "display_name": "William Lohan", "link": "https://stackoverflow.com/users/6656422/william-lohan"}, "edited": false, "score": 0, "creation_date": 1551889086, "post_id": 55027434, "comment_id": 96807912, "body": "making a comment as this isn&#39;t an answer to the actual but there are a lot of CSV parse libraries, maybe use one of those or look at source to see how that do it."}, {"owner": {"reputation": 153, "user_id": 10634638, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JJGEM.jpg?s=128&g=1", "display_name": "bestinamir", "link": "https://stackoverflow.com/users/10634638/bestinamir"}, "edited": false, "score": 0, "creation_date": 1551889302, "post_id": 55027434, "comment_id": 96808034, "body": "Instead of actually splitting you could find all matches, then loop and check if it\u2019s not in quotes before changing it <a href=\"https://stackoverflow.com/a/12721944/10634638\">stackoverflow.com/a/12721944/10634638</a>"}], "answers": [{"tags": [], "owner": {"reputation": 937, "user_id": 450820, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/151c18cc6cc3bd1bb7a0528c6ef88c77?s=128&d=identicon&r=PG", "display_name": "Mike Stay", "link": "https://stackoverflow.com/users/450820/mike-stay"}, "is_accepted": false, "score": 0, "last_activity_date": 1551892371, "creation_date": 1551892371, "answer_id": 55028678, "question_id": 55027434, "link": "https://stackoverflow.com/questions/55027434/avoid-to-split-with-keychar-inside-a-value/55028678#55028678", "title": "Avoid to split with Keychar inside a value", "body": "<p>I'm assuming you don't have any escaped quotes in your quoted data, like \"Tell her I said, \\\"Hello,\\\" please.\"  Then you can split on quotes first, get rid of leading and trailing commas, and then split on commas and flatten:</p>\n\n<pre><code>\n&gt; 'one, \"two, three,\", four, \"five, six\", seven, eight, nine'\n    .split('\"')\n    .map((x,i)=&gt;i&amp;1\n      ?[`\"${x}\"`]\n      :x.replace(/\\s*,\\s*$/,'')\n        .replace(/^\\s*,\\s*/,'')\n        .split(','))\n    .map(a=&gt;a.map(x=&gt;x.trim()))\n    .flat()\n\n&lt;\u00b7 [\"one\", '\"two, three,\"', \"four\", '\"five, six\"', \"seven\", \"eight\", \"nine\"]\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1324, "user_id": 7231449, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/K4GZN.jpg?s=128&g=1", "display_name": "acarlstein", "link": "https://stackoverflow.com/users/7231449/acarlstein"}, "is_accepted": true, "score": 0, "last_activity_date": 1551897654, "creation_date": 1551897654, "answer_id": 55030093, "question_id": 55027434, "link": "https://stackoverflow.com/questions/55027434/avoid-to-split-with-keychar-inside-a-value/55030093#55030093", "title": "Avoid to split with Keychar inside a value", "body": "<p>If you are expecting the string to follow always the same format, 5 elements separated by commas that may or not include double quotes, then why not use regular expressions to extract the information?</p>\n\n<p>If your string goes as:\n<code>Robert, Pattinson, rober@company.com, \"London street, 19\", London</code></p>\n\n<p>then: </p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>var str = 'Robert, Pattinson, rober@company.com, \"London street, 19\", London';\r\nvar arr = str.split(/^\"[^\"\\\\]*(?:\\\\.[^\"\\\\]*)*\"|[^,]?$/);\r\nconsole.log(arr);</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>Note that my regular expression is not working 100% correctly. It is detecting an extra element at the end; however, if you ignore it, then you get all the elements into an array that its easy to access.</p>\n\n<p>Of course, you need to do your version in Java but it shouldn't be that hard since its regular expressions.</p>\n"}], "owner": {"reputation": 15, "user_id": 11060844, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-AZQMksE0wLE/AAAAAAAAAAI/AAAAAAAAtS8/sQnCKNpti64/photo.jpg?sz=128", "display_name": "Emilio Fernandez", "link": "https://stackoverflow.com/users/11060844/emilio-fernandez"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 39, "favorite_count": 0, "accepted_answer_id": 55030093, "answer_count": 2, "score": 0, "last_activity_date": 1551944486, "creation_date": 1551888342, "last_edit_date": 1551944486, "question_id": 55027434, "link": "https://stackoverflow.com/questions/55027434/avoid-to-split-with-keychar-inside-a-value", "title": "Avoid to split with Keychar inside a value", "body": "<p>I have a problem with split and I don't know how to solve it.</p>\n\n<p>I want to split a CSV file, avoiding some ' \" ' chars, and it's working fine, but some of the lines have text like the next example:</p>\n\n<pre><code>Robert, Pattinson, rober@company.com, \"London street, 19\", London\n</code></pre>\n\n<p>It splits like this:</p>\n\n<pre><code>Robert\nPattinson\nrober@company.com\nlondon street\n19\nLondon\n</code></pre>\n\n<p>And I want to split it like this:</p>\n\n<pre><code>Robert \nPattinson \nrober@company.com \nLondon street, 19 \nLondon\n</code></pre>\n\n<p>Here is the command I use for this:</p>\n\n<pre><code>let content = (evt.target as FileReader).result.toString().replace(/[\"]/g,'');\n</code></pre>\n\n<p>How can I fix this?</p>\n\n<p>Thanks in advance.</p>\n\n<p><strong>EDIT:</strong></p>\n\n<p>I just noticed I forgot to include the entire code to split, here it is:</p>\n\n<pre><code>let content = (evt.target as FileReader).result.toString().replace(/[\"]/g,''); \nlet lines = content.split('\\n'); \nlet commaSeparated = lines.map(function(line) { \nreturn line.split(',');\n});\n</code></pre>\n"}, {"tags": ["javascript", "json", "angular", "typescript", "ionic-framework"], "comments": [{"owner": {"reputation": 8252, "user_id": 6634591, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/eHVdG.jpg?s=128&g=1", "display_name": "Luca Kiebel", "link": "https://stackoverflow.com/users/6634591/luca-kiebel"}, "edited": false, "score": 2, "creation_date": 1551888262, "post_id": 55027382, "comment_id": 96807414, "body": "It&#39;s an array, <code>tarefa[0].numero</code> should work just fine"}, {"owner": {"reputation": 6941, "user_id": 579148, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/u46H6.jpg?s=128&g=1", "display_name": "jwatts1980", "link": "https://stackoverflow.com/users/579148/jwatts1980"}, "edited": false, "score": 0, "creation_date": 1551888346, "post_id": 55027382, "comment_id": 96807467, "body": "See the answer here: <a href=\"https://stackoverflow.com/questions/38544503/accessing-specific-array-element-in-an-angular2-template\" title=\"accessing specific array element in an angular2 template\">stackoverflow.com/questions/38544503/&hellip;</a>"}, {"owner": {"reputation": 8252, "user_id": 6634591, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/eHVdG.jpg?s=128&g=1", "display_name": "Luca Kiebel", "link": "https://stackoverflow.com/users/6634591/luca-kiebel"}, "edited": false, "score": 1, "creation_date": 1551888370, "post_id": 55027382, "comment_id": 96807478, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/38544503/accessing-specific-array-element-in-an-angular2-template\">Accessing specific array element in an Angular2 Template</a>"}], "answers": [{"comments": [{"owner": {"reputation": 249, "user_id": 7197551, "user_type": "registered", "accept_rate": 57, "profile_image": "https://graph.facebook.com/1817824118489192/picture?type=large", "display_name": "Tiago Silveira", "link": "https://stackoverflow.com/users/7197551/tiago-silveira"}, "edited": false, "score": 0, "creation_date": 1551890331, "post_id": 55027443, "comment_id": 96808688, "body": "Now the data is rendering, but keep throwing me error, as you can see... I edited the question"}], "tags": [], "owner": {"reputation": 28753, "user_id": 1138192, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/4ed67a4983ab0568593e133930430941?s=128&d=identicon&r=PG", "display_name": "Always Sunny", "link": "https://stackoverflow.com/users/1138192/always-sunny"}, "is_accepted": true, "score": 1, "last_activity_date": 1551888377, "creation_date": 1551888377, "answer_id": 55027443, "question_id": 55027382, "link": "https://stackoverflow.com/questions/55027382/json-with-name-zero/55027443#55027443", "title": "JSON with name Zero", "body": "<p>How about that with capturing the index of json like below-</p>\n\n<pre><code>this.tarefa = data[0] \nconsole.log(this.tarefa)//Here I can show the data\n</code></pre>\n\n<p>and then <code>{{tarefa.numero}}</code> should work for you.</p>\n"}, {"comments": [{"owner": {"reputation": 249, "user_id": 7197551, "user_type": "registered", "accept_rate": 57, "profile_image": "https://graph.facebook.com/1817824118489192/picture?type=large", "display_name": "Tiago Silveira", "link": "https://stackoverflow.com/users/7197551/tiago-silveira"}, "edited": false, "score": 0, "creation_date": 1551890446, "post_id": 55027663, "comment_id": 96808745, "body": "The second suggestion worked for me, and the template is ok now, but the console keeps throwing me error and I don&#39;t know why :/"}, {"owner": {"reputation": 1182, "user_id": 3353505, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/sEVBu.jpg?s=128&g=1", "display_name": "GifCo", "link": "https://stackoverflow.com/users/3353505/gifco"}, "reply_to_user": {"reputation": 249, "user_id": 7197551, "user_type": "registered", "accept_rate": 57, "profile_image": "https://graph.facebook.com/1817824118489192/picture?type=large", "display_name": "Tiago Silveira", "link": "https://stackoverflow.com/users/7197551/tiago-silveira"}, "edited": false, "score": 0, "creation_date": 1551891993, "post_id": 55027663, "comment_id": 96809701, "body": "you must be calling tarefa.numero before the get request to the API is actually completed."}, {"owner": {"reputation": 249, "user_id": 7197551, "user_type": "registered", "accept_rate": 57, "profile_image": "https://graph.facebook.com/1817824118489192/picture?type=large", "display_name": "Tiago Silveira", "link": "https://stackoverflow.com/users/7197551/tiago-silveira"}, "edited": false, "score": 0, "creation_date": 1551892421, "post_id": 55027663, "comment_id": 96809995, "body": "So, I have to do Async and await?? I know what it do, but I dont know how to implement, could ou help me?"}, {"owner": {"reputation": 1182, "user_id": 3353505, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/sEVBu.jpg?s=128&g=1", "display_name": "GifCo", "link": "https://stackoverflow.com/users/3353505/gifco"}, "reply_to_user": {"reputation": 249, "user_id": 7197551, "user_type": "registered", "accept_rate": 57, "profile_image": "https://graph.facebook.com/1817824118489192/picture?type=large", "display_name": "Tiago Silveira", "link": "https://stackoverflow.com/users/7197551/tiago-silveira"}, "edited": false, "score": 0, "creation_date": 1551892756, "post_id": 55027663, "comment_id": 96810230, "body": "Sorry I dont really know Angular all that well. You dont need to use async await, but you need to tell Angular NOT to load up the template until the data is actually fetched."}, {"owner": {"reputation": 1182, "user_id": 3353505, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/sEVBu.jpg?s=128&g=1", "display_name": "GifCo", "link": "https://stackoverflow.com/users/3353505/gifco"}, "reply_to_user": {"reputation": 249, "user_id": 7197551, "user_type": "registered", "accept_rate": 57, "profile_image": "https://graph.facebook.com/1817824118489192/picture?type=large", "display_name": "Tiago Silveira", "link": "https://stackoverflow.com/users/7197551/tiago-silveira"}, "edited": false, "score": 0, "creation_date": 1551892856, "post_id": 55027663, "comment_id": 96810285, "body": "Check out this question <a href=\"https://stackoverflow.com/questions/44900769/angular-wait-until-i-receive-data-before-loading-template\" title=\"angular wait until i receive data before loading template\">stackoverflow.com/questions/44900769/&hellip;</a>"}, {"owner": {"reputation": 1182, "user_id": 3353505, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/sEVBu.jpg?s=128&g=1", "display_name": "GifCo", "link": "https://stackoverflow.com/users/3353505/gifco"}, "reply_to_user": {"reputation": 249, "user_id": 7197551, "user_type": "registered", "accept_rate": 57, "profile_image": "https://graph.facebook.com/1817824118489192/picture?type=large", "display_name": "Tiago Silveira", "link": "https://stackoverflow.com/users/7197551/tiago-silveira"}, "edited": false, "score": 0, "creation_date": 1551893618, "post_id": 55027663, "comment_id": 96810732, "body": "@TiagoSilveira hahaha thats awesome!"}], "tags": [], "owner": {"reputation": 1182, "user_id": 3353505, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/sEVBu.jpg?s=128&g=1", "display_name": "GifCo", "link": "https://stackoverflow.com/users/3353505/gifco"}, "is_accepted": false, "score": 1, "last_activity_date": 1551889113, "creation_date": 1551889113, "answer_id": 55027663, "question_id": 55027382, "link": "https://stackoverflow.com/questions/55027382/json-with-name-zero/55027663#55027663", "title": "JSON with name Zero", "body": "<p>As others have said this.tarefa is an array, the object with all the data you want is in the first element of the array.</p>\n\n<p>Either access it by</p>\n\n<pre><code>this.tarefa[0].numero\n</code></pre>\n\n<p>or when you retrieve the data and store it in the tarefa variable just store the 1st (and only) element of the array.</p>\n\n<pre><code>this.tarefa = data[0]\n</code></pre>\n"}], "owner": {"reputation": 249, "user_id": 7197551, "user_type": "registered", "accept_rate": 57, "profile_image": "https://graph.facebook.com/1817824118489192/picture?type=large", "display_name": "Tiago Silveira", "link": "https://stackoverflow.com/users/7197551/tiago-silveira"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 92, "favorite_count": 0, "closed_date": 1552045548, "accepted_answer_id": 55027443, "answer_count": 2, "score": -1, "last_activity_date": 1551890265, "creation_date": 1551888190, "last_edit_date": 1551890265, "question_id": 55027382, "link": "https://stackoverflow.com/questions/55027382/json-with-name-zero", "closed_reason": "Not suitable for this site", "title": "JSON with name Zero", "body": "<p>I'm making a http request to a JSON server, and putting the value inside a variable, when a I make a <code>console.log()</code> it shows me all information from the json, but when I try to use the interpolation to bring the information to the template, it throws me this error</p>\n\n<pre><code>ERROR TypeError: Cannot read property 'numero' of undefined\n</code></pre>\n\n<p>A notted that the json comes with zero on his name, how can I Solve that?</p>\n\n<p>My service:</p>\n\n<pre><code>import { Injectable } from '@angular/core';\nimport { HttpClient } from '@angular/common/http';\n\nimport { API } from '../../../app.api';\n\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class TarefadetalheService {\n\n  constructor(private http: HttpClient) { }\n\n  recuperaDetalhes(): any{\n    return this.http.get(\"http://localhost:4000/tarefadetalhe\")\n\n }\n}\n</code></pre>\n\n<p>Here's my page that calls the service:</p>\n\n<pre><code>import { Component, OnInit } from '@angular/core';\nimport { NavParams } from '@ionic/angular';\nimport { TarefadetalheService } from './tarefadetalhe.service';\nimport { Tarefa } from '../../models/tarefa.model';\n\n@Component({\n  selector: 'app-tarefas-detalhe',\n  templateUrl: './tarefas-detalhe.page.html',\n  styleUrls: ['./tarefas-detalhe.page.scss'],\n})\nexport class TarefasDetalhePage implements OnInit {\n idTarefa = null\n tarefa: any\n  constructor(private navParams: NavParams, private getTarefaDetalhe: TarefadetalheService) { }\n\n  ngOnInit() {\n    this.idTarefa = this.navParams.get('id_tarefa');\n    this.getTarefaDetalhe.recuperaDetalhes().subscribe((data)=&gt;{\n      this.tarefa = data[0] //now it works \n    })\n  }\n}\n</code></pre>\n\n<p>Heres my template:</p>\n\n<pre><code>&lt;ion-header&gt;\n  &lt;ion-toolbar&gt;\n    &lt;ion-title&gt;{{tarefa.numero}}&lt;/ion-title&gt;\n  &lt;/ion-toolbar&gt;\n&lt;/ion-header&gt;\n\n&lt;ion-content padding&gt;\nID da tarefa \u00e9: {{idTarefa}}\n&lt;/ion-content&gt;\n</code></pre>\n\n<p>As you can see now I can show the data as I wanted, but it keeps me throwing error, I just tried to run <code>ionic serve</code> again and no effect\n<a href=\"https://i.stack.imgur.com/LsYFb.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/LsYFb.png\" alt=\"enter image description here\"></a></p>\n\n<p>I've tried to make {{tarefa[0].numero}} but this way he does not even shows me the data in the template.</p>\n"}, {"tags": ["typescript", "vue.js"], "comments": [{"owner": {"reputation": 773, "user_id": 9589875, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Viaib.jpg?s=128&g=1", "display_name": "MJ_Wales", "link": "https://stackoverflow.com/users/9589875/mj-wales"}, "edited": false, "score": 0, "creation_date": 1551889611, "post_id": 55027159, "comment_id": 96808215, "body": "Not sure what you&#39;re trying to achieve.  You want to post a book object to your express server and save it within a mongoose Data base?"}, {"owner": {"reputation": 17, "user_id": 10998014, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yLcCI.jpg?s=128&g=1", "display_name": "LoliLeague", "link": "https://stackoverflow.com/users/10998014/lolileague"}, "reply_to_user": {"reputation": 773, "user_id": 9589875, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Viaib.jpg?s=128&g=1", "display_name": "MJ_Wales", "link": "https://stackoverflow.com/users/9589875/mj-wales"}, "edited": false, "score": 0, "creation_date": 1551889734, "post_id": 55027159, "comment_id": 96808309, "body": "Ahh no I want to I want to post from my cue server to my mongodb :/ since it works differently in express since I could just do the .post to the router but not in view since I\u2019m confused as to how would I post from inside vue when I press my button to submit"}, {"owner": {"reputation": 773, "user_id": 9589875, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Viaib.jpg?s=128&g=1", "display_name": "MJ_Wales", "link": "https://stackoverflow.com/users/9589875/mj-wales"}, "edited": false, "score": 1, "creation_date": 1551890222, "post_id": 55027159, "comment_id": 96808622, "body": "Ahh ok. Its not possible to do that directly because Vue is a client-side framework so it can&#39;t communicate directly with a database. Vue can only communicate via HTTP therefore you would need to send a Post HTTP request to your express server. Your express server can then send commands directly to your mongoDB and save data to it, make sense?"}, {"owner": {"reputation": 17, "user_id": 10998014, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yLcCI.jpg?s=128&g=1", "display_name": "LoliLeague", "link": "https://stackoverflow.com/users/10998014/lolileague"}, "reply_to_user": {"reputation": 773, "user_id": 9589875, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Viaib.jpg?s=128&g=1", "display_name": "MJ_Wales", "link": "https://stackoverflow.com/users/9589875/mj-wales"}, "edited": false, "score": 0, "creation_date": 1551890300, "post_id": 55027159, "comment_id": 96808670, "body": "@MJ_Wales ahhh thanks for clearing up my misunderstandings of vue"}, {"owner": {"reputation": 773, "user_id": 9589875, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Viaib.jpg?s=128&g=1", "display_name": "MJ_Wales", "link": "https://stackoverflow.com/users/9589875/mj-wales"}, "edited": false, "score": 0, "creation_date": 1551890847, "post_id": 55027159, "comment_id": 96808968, "body": "Thanks! Happy coding :)"}], "answers": [{"tags": [], "owner": {"reputation": 773, "user_id": 9589875, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Viaib.jpg?s=128&g=1", "display_name": "MJ_Wales", "link": "https://stackoverflow.com/users/9589875/mj-wales"}, "is_accepted": true, "score": 1, "last_activity_date": 1551890726, "creation_date": 1551890726, "answer_id": 55028185, "question_id": 55027159, "link": "https://stackoverflow.com/questions/55027159/vue-equivalent-to-express-get-post/55028185#55028185", "title": "Vue equivalent to express [GET, POST]", "body": "<p>For future readers: Its not possible to directly access a database using Vue because it is a client-side framework. Vue can only communicate via HTTP therefore you would need to send a Post HTTP request to your a backend server (express in this case). The backend server would handle the request and then save the data to your database. </p>\n\n<p><a href=\"https://www.npmjs.com/package/axios\" rel=\"nofollow noreferrer\">Axios</a> is a very useful package for easily writing HTTP requests. Also see this <a href=\"https://stackoverflow.com/questions/53249384/read-data-from-a-mongodb-database-using-vuejs\">question</a> might be helpful as it describes all the steps you need to make.</p>\n"}], "owner": {"reputation": 17, "user_id": 10998014, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yLcCI.jpg?s=128&g=1", "display_name": "LoliLeague", "link": "https://stackoverflow.com/users/10998014/lolileague"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 37, "favorite_count": 0, "accepted_answer_id": 55028185, "answer_count": 1, "score": 1, "last_activity_date": 1585847530, "creation_date": 1551887565, "last_edit_date": 1585847530, "question_id": 55027159, "link": "https://stackoverflow.com/questions/55027159/vue-equivalent-to-express-get-post", "title": "Vue equivalent to express [GET, POST]", "body": "<p>Here is my piece of code I've written</p>\n\n<pre><code>export let postChapter = (req: Request, res: Response) =&gt; {\n    var chapterInfoModel = mongoose.model(`${req.params.novelId}`, RiChapterScheme);\n\n    var array = {\n        title: req.body.chapterTitle,\n        content: req.body.chapterContent\n    };\n\n    let newChapterInfo = new chapterInfoModel(array);\n\n    newChapterInfo.save((err, book) =&gt; {\n        if (err) {\n            res.send({ error: err, affected: book });\n        } else if (!err) {\n            res.redirect('/novels/' + req.params.novelId);\n        }\n    });\n};\n</code></pre>\n\n<p>The above code is my controller. This is the piece that I don't know how to convert into my vue setup</p>\n\n<p>since my express router is set up as so</p>\n\n<pre><code>this.router.post('/novels/:novelId', novelController.postNovel);\n</code></pre>\n\n<p>and here is my vue router</p>\n\n<p><strong>router.ts</strong></p>\n\n<pre><code>export default new Router({\n  mode: 'history',\n  base: process.env.BASE_URL,\n  routes: [\n    {\n      path: '/',\n      name: 'Home',\n      component: Home\n    }\n  ]\n})\n</code></pre>\n\n<p>my vue-cli plugins are as follows</p>\n\n<ul>\n<li>vue-router</li>\n<li>vuex</li>\n</ul>\n\n<p><strong>Home.Vue</strong></p>\n\n<pre><code>&lt;template&gt;\n    &lt;div&gt;\n        &lt;img id='mainLogo' src='@/assets/logo.jpg'&gt;\n        &lt;form method=\"POST\"&gt;&lt;/form&gt;\n            &lt;button type=\"submit\"&gt;&lt;/button&gt;\n    &lt;/div&gt;\n&lt;/template&gt;\n</code></pre>\n\n<p>How would I implement this?</p>\n\n<pre><code>var chapterInfoModel = mongoose.model(`${req.params.novelId}`, RiChapterScheme);\nlet newChapterInfo = new chapterInfoModel(array);\n\nnewChapterInfo.save((err, book) =&gt; {\n    if (err) {\n        res.send({ error: err, affected: book });\n    } else if (!err) {\n        res.redirect('/novels/' + req.params.novelId);\n    }\n});\n</code></pre>\n\n<p>into my vue router or does this go into my Home.vue?</p>\n\n<p>Thanks!</p>\n"}, {"tags": ["angular", "typescript", "angular-material", "settimeout", "delay"], "answers": [{"tags": [], "owner": {"reputation": 2502, "user_id": 3311001, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/011dc5bf6a350b0334887a89ce06038f?s=128&d=identicon&r=PG&f=1", "display_name": "Tom Faltesek", "link": "https://stackoverflow.com/users/3311001/tom-faltesek"}, "is_accepted": false, "score": -1, "last_activity_date": 1551887511, "creation_date": 1551887511, "answer_id": 55027139, "question_id": 55027016, "link": "https://stackoverflow.com/questions/55027016/angular2-delay-inside-foreach/55027139#55027139", "title": "Angular2 delay inside ForEach", "body": "<p>It looks like all your timeouts are scheduled for the same instant. Try this out:</p>\n\n<pre><code>play() {\n  if (!this.history) {\n    return;\n  }\n\n  const allEvents = this.history;\n  const historyLength = allEvents.length;\n  const progressInterval = 100 / historyLength;\n  this.playMode = true;\n\n  allEvents.forEach((event, index) =&gt; {\n    setTimeout(() =&gt; {\n      console.log(event);\n      this.progress += progressInterval;\n    }, 3000 * index);\n  });\n}\n</code></pre>\n\n<p>Note that we're now using the index provided by <code>forEach</code> to offset the timeouts by 3 seconds. The first one will fire immediately <code>(3000 * 0 = 0)</code>. If that is unwanted, you can simply add one to the index <code>setTimeout(() =&gt; {...}, 3000 * (index + 1))</code>.</p>\n"}, {"tags": [], "owner": {"reputation": 1775, "user_id": 2401088, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f8f17309b5e6b0dd44075947ce5e4283?s=128&d=identicon&r=PG", "display_name": "Pankaj Prakash", "link": "https://stackoverflow.com/users/2401088/pankaj-prakash"}, "is_accepted": true, "score": 1, "last_activity_date": 1551948473, "creation_date": 1551948473, "answer_id": 55039509, "question_id": 55027016, "link": "https://stackoverflow.com/questions/55027016/angular2-delay-inside-foreach/55039509#55039509", "title": "Angular2 delay inside ForEach", "body": "<p>Instead of using a forEach loop you can use it through normal array index notation. Here is an example</p>\n\n<pre><code>play() {\n  if (this.history !== undefined) {\n    this.playMode = true;\n    const allEvents = this.history;\n    const historyLength = allEvents.length;\n    const progressInterval = 100 / historyLength;\n    /*allEvents.forEach(e =&gt; {\n      console.log(e);\n      setTimeout(t =&gt; {\n        this.progress += progressInterval;\n      }, 3000);\n    });*/\n\n    this.incrementProgress(allEvents, 0, progressInterval);\n  }\n}\n\nincrementProgress(allEvents: any[], index: number, interval: number): void {\n  if (allEvents.length &lt;= 0 || index &lt; 0 || index &gt;= allEvents.length) {\n    return;\n  }\n\n  this.progress += interval;\n  setTimout(() =&gt; this.incrementProgress(allEvents, index + 1, interval), 3000);\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 6901, "user_id": 7436489, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d3f27318e4582da71b5ed0f0dc453100?s=128&d=identicon&r=PG&f=1", "display_name": "Roberto Zvjerkovi\u0107", "link": "https://stackoverflow.com/users/7436489/roberto-zvjerkovi%c4%87"}, "is_accepted": false, "score": 0, "last_activity_date": 1551948865, "creation_date": 1551948865, "answer_id": 55039634, "question_id": 55027016, "link": "https://stackoverflow.com/questions/55027016/angular2-delay-inside-foreach/55039634#55039634", "title": "Angular2 delay inside ForEach", "body": "<p>You could do what @t8ortotlover said, but it would still not guarantee 3 second delay. It would be close, but not quite.</p>\n\n<p>You should use timer:</p>\n\n<pre><code>import { timer } from 'rxjs';\n\nconst source = timer(3000);\nconst subscribe = source.subscribe(val =&gt; {\n    // Do something every 3 seconds\n});\n\n</code></pre>\n"}], "owner": {"reputation": 737, "user_id": 8747207, "user_type": "registered", "accept_rate": 40, "profile_image": "https://lh5.googleusercontent.com/-R1BCkXtE1t4/AAAAAAAAAAI/AAAAAAAAABk/04aQ8PYOW6s/photo.jpg?sz=128", "display_name": "Sergio Mendez", "link": "https://stackoverflow.com/users/8747207/sergio-mendez"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 265, "favorite_count": 0, "accepted_answer_id": 55039509, "answer_count": 3, "score": 0, "last_activity_date": 1551948865, "creation_date": 1551887164, "question_id": 55027016, "link": "https://stackoverflow.com/questions/55027016/angular2-delay-inside-foreach", "title": "Angular2 delay inside ForEach", "body": "<p>I have an application in angular2 in which I must reproduce a history of events.</p>\n\n<p>So, when I press the PLAY button, it must start with the first event, stay there for 3 seconds, then go to the next event, stay there for another 3 seconds, then the next, and so on.</p>\n\n<p>The event list is dynamic.</p>\n\n<p>The point is that with a simple <code>setTimeOut</code> this does not work and I want to know if there is another way to solve what I need.</p>\n\n<p>I tried this:</p>\n\n<pre><code>play() {\n  if (this.history !== undefined) {\n    this.playMode = true;\n    const allEvents = this.history;\n    const historyLength = allEvents.length;\n    const progressInterval = 100 / historyLength;\n    allEvents.forEach(e =&gt; {\n      console.log(e);\n      setTimeout(t =&gt; {\n        this.progress += progressInterval;\n      }, 3000);\n    });\n  }\n}\n</code></pre>\n\n<p>and I need the this.progress variable to show the progrees in a <code>mat-progress-barr</code></p>\n\n<pre><code>&lt;mat-progress-bar *ngIf=\"playMode\" strokeWidth=\"0.5\" mode=\"determinate\" [value]=\"progress\" color=\"accent\"&gt;&lt;/mat-progress-bar&gt;\n</code></pre>\n\n<p>Obviously my code doesn't works as I want.</p>\n\n<p>How can I do that \"delay\"?</p>\n"}, {"tags": ["reactjs", "typescript", "semantic-ui-react"], "answers": [{"comments": [{"owner": {"reputation": 15, "user_id": 10885017, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cbb6e82bc9d880411d261ef130ba04b8?s=128&d=identicon&r=PG&f=1", "display_name": "Wyverex", "link": "https://stackoverflow.com/users/10885017/wyverex"}, "edited": false, "score": 0, "creation_date": 1551908936, "post_id": 55027278, "comment_id": 96817945, "body": "Thank you, this is progress already. I guess I was somehow led astray by refs being mutable objects themselves. But having a setter function is much cleaner. Anyway, unfortunately it still doesn&#39;t work in my actual Typescript environment. I&#39;ve updated the original post. Any ideas? Much appreciated!"}, {"owner": {"reputation": 15, "user_id": 10885017, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cbb6e82bc9d880411d261ef130ba04b8?s=128&d=identicon&r=PG&f=1", "display_name": "Wyverex", "link": "https://stackoverflow.com/users/10885017/wyverex"}, "edited": false, "score": 0, "creation_date": 1551945966, "post_id": 55027278, "comment_id": 96828770, "body": "Got it working now with a hack. Your solution pointed me in the right direction so I&#39;ll accept it an answer."}], "tags": [], "owner": {"reputation": 1585, "user_id": 2307008, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1nDpN.png?s=128&g=1", "display_name": "Tom Finney", "link": "https://stackoverflow.com/users/2307008/tom-finney"}, "is_accepted": true, "score": 0, "last_activity_date": 1551887882, "creation_date": 1551887882, "answer_id": 55027278, "question_id": 55026962, "link": "https://stackoverflow.com/questions/55026962/how-to-store-a-ref-globally-in-react-typescript/55027278#55027278", "title": "How to store a ref globally in React &amp; Typescript", "body": "<p>Your problem stems from trying to mutate the <code>tooltipTarget</code> ref inside of the component body. You should declare another setter function in your context that you can call to change the current value of the ref.</p>\n\n<p>I poked around in the sandbox a bit: <a href=\"https://codesandbox.io/s/p6pknz837?fontsize=14\" rel=\"nofollow noreferrer\">https://codesandbox.io/s/p6pknz837?fontsize=14</a></p>\n"}], "owner": {"reputation": 15, "user_id": 10885017, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cbb6e82bc9d880411d261ef130ba04b8?s=128&d=identicon&r=PG&f=1", "display_name": "Wyverex", "link": "https://stackoverflow.com/users/10885017/wyverex"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 398, "favorite_count": 0, "accepted_answer_id": 55027278, "answer_count": 1, "score": 0, "last_activity_date": 1551952219, "creation_date": 1551887002, "last_edit_date": 1551952219, "question_id": 55026962, "link": "https://stackoverflow.com/questions/55026962/how-to-store-a-ref-globally-in-react-typescript", "title": "How to store a ref globally in React &amp; Typescript", "body": "<p>I have a lot of instances of a certain component, let's call it <code>&lt;Item&gt;</code>. When hovering over any <code>&lt;Item&gt;</code>, a (quite complex and dynamic) tooltip should appear at the item's position. </p>\n\n<p>As I am using semantic-ui-react, my tool of choice is to use a <code>Popup</code> to show tooltips. One way to use popups is to give them a trigger component (which would be my <code>&lt;Item&gt;</code>) and a content component and it will take care of automatically being displayed in a certain position around the trigger component. But then I have one <code>Popup</code> instance for each of my items which significantly increases response time of my app since all the <code>Popup</code>s have to be created even if I don't currently need them.</p>\n\n<p>Another way to use <code>Popup</code> is to give it a ref via its <code>context</code> property and it will open at that DOM node. So I would like to use this mechanism to have just a single <code>Popup</code> that will receive dynamic updates to its <code>context</code> property whenever I hover over an <code>&lt;Item&gt;</code>.</p>\n\n<p>To do this though, I need to pass the current <code>&lt;Item&gt;</code> ref to the Popup. Since I have a deeply nested application, I chose to use <a href=\"https://github.com/diegohaz/constate\" rel=\"nofollow noreferrer\">https://github.com/diegohaz/constate</a> for sharing state globally. </p>\n\n<p>Unfortunately, sharing the ref doesn't seem to work. Whenever I try to read it from the shared context, it's null.</p>\n\n<p>Please take a look at the simple example here:\n<a href=\"https://codesandbox.io/s/pplw689627\" rel=\"nofollow noreferrer\">https://codesandbox.io/s/pplw689627</a></p>\n\n<p>Although I can see in a debugger that <code>tooltipTarget</code> is written to in <code>onMouseEnter</code>, when it's read in the <code>&lt;Tooltip&gt;</code> component, it's always null.</p>\n\n<p>Any ideas what I'm doing wrong?</p>\n\n<p>I'm open to different suggestions, but I'd prefer to use Semantic's Popup if possible to keep a congruent visual style.</p>\n\n<hr>\n\n<p>UPDATE:</p>\n\n<p>Tom Finneys answer works in the sandbox above, unfortunately I'm using Typescript in my actual environment and there it doesn't work right away. I got a working solution in this sandbox:\n<a href=\"https://codesandbox.io/s/7143r32klj\" rel=\"nofollow noreferrer\">https://codesandbox.io/s/7143r32klj</a></p>\n\n<p>The main issue is that the <code>current</code> property of <code>RefObject&lt;T&gt;</code> is readonly. This prevents you from writing a context like this:</p>\n\n<pre><code>export function useTooltip() {\n  const [tooltipRecipe, setTooltipRecipe] = React.useState&lt;string | undefined&gt;(\n    undefined\n  );\n  let tooltipTarget = React.useRef&lt;HTMLElement&gt;(null);\n  const setTooltipTarget = (target: HTMLElement | null) =&gt; {\n    dummy.current = target;\n  };\n  return { tooltipRecipe, tooltipTarget, setTooltipRecipe, setTooltipTarget };\n}\n</code></pre>\n\n<p><code>setTooltipTarget</code> won't compile.</p>\n\n<p>The only way I could make it work right now is to cast <code>RefObject&lt;T&gt;</code> to a local type where <code>current</code> is not readonly. This is quite a hack but it works. See the solution in the sandbox.</p>\n\n<hr>\n\n<p>There's actually an ongoing discussion around this here:\n<a href=\"https://github.com/DefinitelyTyped/DefinitelyTyped/issues/31065\" rel=\"nofollow noreferrer\">https://github.com/DefinitelyTyped/DefinitelyTyped/issues/31065</a></p>\n"}, {"tags": ["javascript", "html", "angular", "typescript"], "comments": [{"owner": {"reputation": 42804, "user_id": 2181397, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/616931b5c5ba8790a191fa6aea465c65?s=128&d=identicon&r=PG", "display_name": "brk", "link": "https://stackoverflow.com/users/2181397/brk"}, "edited": false, "score": 0, "creation_date": 1551886633, "post_id": 55026806, "comment_id": 96806379, "body": "Do a console.log of event and check if there is any <code>target</code> object"}, {"owner": {"reputation": 57675, "user_id": 1009922, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/K0eeL.jpg?s=128&g=1", "display_name": "ConnorsFan", "link": "https://stackoverflow.com/users/1009922/connorsfan"}, "edited": false, "score": 6, "creation_date": 1551886687, "post_id": 55026806, "comment_id": 96806410, "body": "Use <code>(event.target as HTMLElement).id</code> or <code>(&lt;HTMLElement&gt;event.target).id</code>."}], "answers": [{"comments": [{"owner": {"reputation": 1462, "user_id": 1673761, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4ffbc5cb597682d1b158a74117f1ca95?s=128&d=identicon&r=PG", "display_name": "abumalick", "link": "https://stackoverflow.com/users/1673761/abumalick"}, "edited": false, "score": 1, "creation_date": 1598795818, "post_id": 55038706, "comment_id": 112568406, "body": "You mean using <code>(event.target as HTMLElement).id</code> right?"}, {"owner": {"reputation": 3897, "user_id": 3061047, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/8254f5cf0a9a916e0a1a2dbf4bff6041?s=128&d=identicon&r=PG&f=1", "display_name": "physicsboy", "link": "https://stackoverflow.com/users/3061047/physicsboy"}, "reply_to_user": {"reputation": 1462, "user_id": 1673761, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4ffbc5cb597682d1b158a74117f1ca95?s=128&d=identicon&r=PG", "display_name": "abumalick", "link": "https://stackoverflow.com/users/1673761/abumalick"}, "edited": false, "score": 0, "creation_date": 1599122006, "post_id": 55038706, "comment_id": 112677275, "body": "@abumalick It looks like I&#39;d not formatted the answer correctly. You can now see that I&#39;ve essentially done the same as you, just maybe not as elegantly."}], "tags": [], "owner": {"reputation": 3897, "user_id": 3061047, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/8254f5cf0a9a916e0a1a2dbf4bff6041?s=128&d=identicon&r=PG&f=1", "display_name": "physicsboy", "link": "https://stackoverflow.com/users/3061047/physicsboy"}, "is_accepted": true, "score": 2, "last_activity_date": 1599122023, "last_edit_date": 1599122023, "creation_date": 1551945381, "answer_id": 55038706, "question_id": 55026806, "link": "https://stackoverflow.com/questions/55026806/property-id-does-not-exist-on-type-eventtarget-thrown-when-working-with-even/55038706#55038706", "title": "Property &#39;id&#39; does not exist on type &#39;EventTarget&#39; thrown when working with event.target.id", "body": "<p>I will post @ConnorsFan's answer since his comment worked out for me.</p>\n<p>In the end I went with using <code>(&lt;HTMLElement&gt;event.target).id</code>.</p>\n<p>It seems that my attempt at setting event.target.id was misguided as I understand now that the  type should be applied to the target, and the ID is just an attribute of said target element.</p>\n"}], "owner": {"reputation": 3897, "user_id": 3061047, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/8254f5cf0a9a916e0a1a2dbf4bff6041?s=128&d=identicon&r=PG&f=1", "display_name": "physicsboy", "link": "https://stackoverflow.com/users/3061047/physicsboy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4237, "favorite_count": 0, "accepted_answer_id": 55038706, "answer_count": 1, "score": 4, "last_activity_date": 1599122023, "creation_date": 1551886522, "question_id": 55026806, "link": "https://stackoverflow.com/questions/55026806/property-id-does-not-exist-on-type-eventtarget-thrown-when-working-with-even", "title": "Property &#39;id&#39; does not exist on type &#39;EventTarget&#39; thrown when working with event.target.id", "body": "<p>I am attempting to perform a HostListener on my component, specifying that I want something to happen when anything <strong>BUT</strong> a specific element is clicked; however, I am receiving the error:</p>\n\n<blockquote>\n  <p>Property 'id' does not exist on type 'EventTarget'</p>\n</blockquote>\n\n<p>The code runs fine in the UI, but I can't shake this error thrown by linting.</p>\n\n<p>I understand that I must use a type for the this, such as  if I were performing it about an input element. However I am performing the check on a normal <code>&lt;div&gt;</code> that is being clicked...</p>\n\n<p>I am unsure of how to proceed.</p>\n\n<pre><code>@HostListener('document:click', [$event'])\nmyClick(event: MouseClick): void {\n  if (event.target.id !== 'some-id') {\n    // do something here\n  }\n}\n</code></pre>\n\n<p>I have been playing around with something such as:</p>\n\n<p><code>if (&lt;HTMLElement&gt;event.target.id...</code></p>\n\n<p>but I cannot find a fix for this...</p>\n"}, {"tags": ["javascript", "typescript", "promise"], "comments": [{"owner": {"reputation": 174103, "user_id": 23528, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/1595024881f1df4af9e2280926fb6272?s=128&d=identicon&r=PG", "display_name": "Daniel A. White", "link": "https://stackoverflow.com/users/23528/daniel-a-white"}, "edited": false, "score": 4, "creation_date": 1551886456, "post_id": 55026701, "comment_id": 96806256, "body": "how are you determining that its just <code>{}</code>?"}, {"owner": {"reputation": 11274, "user_id": 9078341, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TAD0A.png?s=128&g=1", "display_name": "Randy Casburn", "link": "https://stackoverflow.com/users/9078341/randy-casburn"}, "edited": false, "score": 0, "creation_date": 1551886893, "post_id": 55026701, "comment_id": 96806550, "body": "If your intent is to get a <code>data:image</code> type return, you should use <code>canvas.toDataURL(&quot;image&#47;png&quot;);</code> with your desired image MIME type."}, {"owner": {"reputation": 22589, "user_id": 542251, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/c6a0ac3e18f1cd8d0f1be4c2e3a4cfbd?s=128&d=identicon&r=PG", "display_name": "Liam", "link": "https://stackoverflow.com/users/542251/liam"}, "edited": false, "score": 0, "creation_date": 1551886902, "post_id": 55026701, "comment_id": 96806556, "body": "It&#39;s hard to tell because you haven&#39;t actually added the crucial bit of code, but I&#39;d imagine this is a duplicate of <a href=\"https://stackoverflow.com/questions/14220321/how-do-i-return-the-response-from-an-asynchronous-call\">How do I return the response from an asynchronous call?</a>"}, {"owner": {"reputation": 158222, "user_id": 871050, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/A9cyT.png?s=128&g=1", "display_name": "Madara&#39;s Ghost", "link": "https://stackoverflow.com/users/871050/madaras-ghost"}, "edited": false, "score": 1, "creation_date": 1551886968, "post_id": 55026701, "comment_id": 96806590, "body": "The <code>{}</code> is the return type that TypeScript reports, or the actual value in runtime?"}, {"owner": {"reputation": 932, "user_id": 4512646, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3c0f839fa180bc135ceae2034c9c0525?s=128&d=identicon&r=PG&f=1", "display_name": "K41F4r", "link": "https://stackoverflow.com/users/4512646/k41f4r"}, "edited": false, "score": 0, "creation_date": 1551888664, "post_id": 55026701, "comment_id": 96807653, "body": "It&#39;s actually in Angular build/serve, getting: Argument of type &#39;{}&#39; is not assignable to parameter of type &#39;ImageData&#39;.   Type &#39;{}&#39; is missing the following properties from type &#39;ImageData&#39;: data, height, width"}], "answers": [{"comments": [{"owner": {"reputation": 507143, "user_id": 1048572, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/7f2c4de95e8f4f8f5a71c3aaf0ed312a?s=128&d=identicon&r=PG", "display_name": "Bergi", "link": "https://stackoverflow.com/users/1048572/bergi"}, "edited": false, "score": 0, "creation_date": 1551893647, "post_id": 55027753, "comment_id": 96810747, "body": "But why can it not infer the type? Seems like it should work."}, {"owner": {"reputation": 4828, "user_id": 8378419, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/2772206b4d6afcbdfe7485286554190d?s=128&d=identicon&r=PG&f=1", "display_name": "Robbie Milejczak", "link": "https://stackoverflow.com/users/8378419/robbie-milejczak"}, "reply_to_user": {"reputation": 507143, "user_id": 1048572, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/7f2c4de95e8f4f8f5a71c3aaf0ed312a?s=128&d=identicon&r=PG", "display_name": "Bergi", "link": "https://stackoverflow.com/users/1048572/bergi"}, "edited": false, "score": 0, "creation_date": 1551893915, "post_id": 55027753, "comment_id": 96810910, "body": "I agree it&#39;s odd, I think it has something to do with using <code>resolve</code> and <code>reject</code> as opposed to marking the function <code>async</code>. Seems like <code>resolve</code> is typed to return <code>{}</code> instead of using some generic for whatever reason"}], "tags": [], "owner": {"reputation": 4828, "user_id": 8378419, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/2772206b4d6afcbdfe7485286554190d?s=128&d=identicon&r=PG&f=1", "display_name": "Robbie Milejczak", "link": "https://stackoverflow.com/users/8378419/robbie-milejczak"}, "is_accepted": true, "score": 2, "last_activity_date": 1551889324, "creation_date": 1551889324, "answer_id": 55027753, "question_id": 55026701, "link": "https://stackoverflow.com/questions/55026701/promise-returns-instead-of-imagedata-typescript/55027753#55027753", "title": "Promise returns {} instead of ImageData (TypeScript)", "body": "<p><code>{}</code> is currently TypeScript's fallback type. If TypeScript cannot infer what type is being returned from a function, it will automatically infer <code>{}</code>. TypeScript, is not able to infer the type of <code>img</code> in the context you're using it, so it infers <code>{}</code> and fails to compile.</p>\n\n<p>You can confirm this is happening if you have TypeScript integrated into your code editor by simply hovering over the function, you will see the return type is <code>Promise&lt;{}&gt;</code>. You can easily fix this by annotating the functions return type:</p>\n\n<pre><code>convertURIToImageData(URI): Promise&lt;ImageData&gt; {\n</code></pre>\n\n<p>Now the return type is correctly shown as <code>Promise&lt;ImageData&gt;</code> and your code should compile.</p>\n"}], "owner": {"reputation": 932, "user_id": 4512646, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3c0f839fa180bc135ceae2034c9c0525?s=128&d=identicon&r=PG&f=1", "display_name": "K41F4r", "link": "https://stackoverflow.com/users/4512646/k41f4r"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 319, "favorite_count": 0, "accepted_answer_id": 55027753, "answer_count": 1, "score": 1, "last_activity_date": 1551959903, "creation_date": 1551886233, "last_edit_date": 1551959903, "question_id": 55026701, "link": "https://stackoverflow.com/questions/55026701/promise-returns-instead-of-imagedata-typescript", "title": "Promise returns {} instead of ImageData (TypeScript)", "body": "<p>Trying to use this code in TypeScript:</p>\n\n<pre><code>convertURIToImageData(URI) {\n    return new Promise((resolve, reject) =&gt; {\n      if (URI == null) { return reject(); }\n      const canvas = document.createElement('canvas');\n      const context = canvas.getContext('2d');\n      const image = new Image();\n      image.addEventListener('load', () =&gt; {\n        canvas.width = image.width;\n        canvas.height = image.height;\n        context.drawImage(image, 0, 0, canvas.width, canvas.height);\n        const imageData = context.getImageData(0, 0, canvas.width, canvas.height);\n        resolve(imageData);\n      }, false);\n      image.src = URI;\n    });}\n</code></pre>\n\n<p>to return ImageData from the Promise but all I'm getting is {}</p>\n\n<p>Using it like this:</p>\n\n<pre><code>this.convertURIToImageData('url').then((img) =&gt; {\n  // do stuff with ImageData\n})\n</code></pre>\n\n<p>Getting:</p>\n\n<pre><code> Argument of type '{}' is not assignable to parameter of type 'ImageData'. Type '{}' is missing the following properties from type 'ImageData': data, height, width\n</code></pre>\n"}, {"tags": ["angular", "typescript", "angular7", "angular-httpclient"], "comments": [{"owner": {"reputation": 54898, "user_id": 1260204, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/402e1da680f92d16e7736ab14a696f06?s=128&d=identicon&r=PG", "display_name": "Igor", "link": "https://stackoverflow.com/users/1260204/igor"}, "edited": false, "score": 0, "creation_date": 1551886429, "post_id": 55026648, "comment_id": 96806235, "body": "<code>I can see this because nothing happened in the backend</code> &lt;= The request could be failing for a different reason entirely and might not be getting to the server to begin with. Double check your browser&#39;s network activity tab in the developer tools."}, {"owner": {"reputation": 15, "user_id": 7201174, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0h1Iz.jpg?s=128&g=1", "display_name": "Olivier Bouchoms", "link": "https://stackoverflow.com/users/7201174/olivier-bouchoms"}, "reply_to_user": {"reputation": 54898, "user_id": 1260204, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/402e1da680f92d16e7736ab14a696f06?s=128&d=identicon&r=PG", "display_name": "Igor", "link": "https://stackoverflow.com/users/1260204/igor"}, "edited": false, "score": 0, "creation_date": 1551889753, "post_id": 55026648, "comment_id": 96808326, "body": "I checked in the network tab. There are two request sent to the /refresh endpoint and they both get a 200 response. Only the second request has a response body though.  The first response has no body at all.."}], "owner": {"reputation": 15, "user_id": 7201174, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0h1Iz.jpg?s=128&g=1", "display_name": "Olivier Bouchoms", "link": "https://stackoverflow.com/users/7201174/olivier-bouchoms"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 67, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1551886080, "creation_date": 1551886080, "question_id": 55026648, "link": "https://stackoverflow.com/questions/55026648/angular-7-http-get-request-function-exits", "title": "Angular 7 Http get request function exits?", "body": "<p>I have a function in my Angular project which makes a get request to a REST backend and does something with the data. Nothing special. This is in authservice.ts.</p>\n\n<p>This method is called from the interceptor. However, before the request is completed, the interceptor calls handleAuthError() because the method returned false (how??) while the request hasn't been made. I can see this because nothing happened in the backend. Then the application does make the request and can handle the data.</p>\n\n<p>Has anybody experienced this issue or could suggest how I could fix this?</p>\n\n<pre><code>// api.interceptor.ts\n\n  intercept(request: HttpRequest&lt;any&gt;, next: HttpHandler): Observable&lt;HttpEvent&lt;any&gt;&gt; {\n      return next.handle(request).pipe(tap(data =&gt; {\n      return data;\n    },\n    error =&gt; {\n      // if (request.url.indexOf('/refresh') !== -1) {\n        // Already attempted to refresh the token. Log out\n        // this.authService.handleAuthError();\n      // } else {\n        // If the token can't be refreshed then log out.\n        if (!this.authService.refreshJwt(this.tokenService.get())) {\n          this.authService.handleAuthError();\n        }\n      // }\n    }));\n\n\n// auth.service.ts\n\nrefreshJwt(token: string): boolean {\n  if (token == null || token.length &lt;= 0) { return false; }\n\n  const requestUrl = this.apiUrl + '/refresh';\n\n  const requestOptions = {\n    headers: new HttpHeaders({\n      Authorization: `Bearer ` + this.tokenService.get()\n    }),\n  };\n\n  this.http.get(requestUrl, requestOptions).subscribe(\n    data =&gt; {\n      // return true;\n      return this.handleJwtResponse(data);\n    }, error =&gt; {\n      return false;\n    }\n  );\n}\n</code></pre>\n"}, {"tags": ["reactjs", "typescript", "webpack", "office-js"], "comments": [{"owner": {"reputation": 6984, "user_id": 6190031, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HDpYH.jpg?s=128&g=1", "display_name": "Rick Kirkham", "link": "https://stackoverflow.com/users/6190031/rick-kirkham"}, "edited": false, "score": 0, "creation_date": 1551892850, "post_id": 55026597, "comment_id": 96810281, "body": "You should be able to host an add-in on any service. Some questions: What are the exact steps that lead to the error and where do you see the error? Are you using <code>Office.initialize</code> or <code>Office.onReady</code>? Is the React bootstrapping code inside the <code>initialize</code> or <code>onReady</code>? How are you sideloading the manifest?"}, {"owner": {"reputation": 114, "user_id": 2062586, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7b93877fb5ccee2b28f2b5a1c33e08a0?s=128&d=identicon&r=PG", "display_name": "David Nickerson", "link": "https://stackoverflow.com/users/2062586/david-nickerson"}, "reply_to_user": {"reputation": 6984, "user_id": 6190031, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HDpYH.jpg?s=128&g=1", "display_name": "Rick Kirkham", "link": "https://stackoverflow.com/users/6190031/rick-kirkham"}, "edited": false, "score": 0, "creation_date": 1551896416, "post_id": 55026597, "comment_id": 96812141, "body": "I&#39;m seeing the error in the console using office365.  Also, just using the url in a browser shows the same error.   I&#39;m using Office.initialize, and it&#39;s bootstrapping there.  I&#39;m uisng insert-&gt;Office addins, and uploading the manifest.xml.   I&#39;ll include the entire index.tsx file in the original post for clarity."}, {"owner": {"reputation": 6984, "user_id": 6190031, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HDpYH.jpg?s=128&g=1", "display_name": "Rick Kirkham", "link": "https://stackoverflow.com/users/6190031/rick-kirkham"}, "edited": false, "score": 0, "creation_date": 1551910467, "post_id": 55026597, "comment_id": 96818555, "body": "I&#39;m still not clear on when/where you see the error. Do you have a ribbon button that opens the add-in a task pane? Is that when it errors? I don&#39;t know what &quot;the console using office 365&quot; means. If you comment out the line <code>render(App)</code> about 8 lines up from the bottom (not the one inside <code>Office.initialize</code>), do you still get the error? Finally, please verify that react and react-dom are in the bundle that you are hosting on AWS."}], "answers": [{"tags": [], "owner": {"reputation": 114, "user_id": 2062586, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7b93877fb5ccee2b28f2b5a1c33e08a0?s=128&d=identicon&r=PG", "display_name": "David Nickerson", "link": "https://stackoverflow.com/users/2062586/david-nickerson"}, "is_accepted": false, "score": 1, "last_activity_date": 1551984589, "creation_date": 1551984589, "answer_id": 55050853, "question_id": 55026597, "link": "https://stackoverflow.com/questions/55026597/deploying-officejs-fabric-react-word-add-in/55050853#55050853", "title": "deploying officejs fabric react word add in", "body": "<p>It turned out that it was looking for a globally defined \"React\", and so not resolving via an npm module. In the webpack.prod.js file removing the following solved the problem:</p>\n\n<pre><code>externals: {\n    'react': 'React',\n    'react-dom': 'ReactDOM'\n},\n</code></pre>\n"}], "owner": {"reputation": 114, "user_id": 2062586, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7b93877fb5ccee2b28f2b5a1c33e08a0?s=128&d=identicon&r=PG", "display_name": "David Nickerson", "link": "https://stackoverflow.com/users/2062586/david-nickerson"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 242, "favorite_count": 1, "answer_count": 1, "score": 1, "last_activity_date": 1551984589, "creation_date": 1551885938, "last_edit_date": 1551979652, "question_id": 55026597, "link": "https://stackoverflow.com/questions/55026597/deploying-officejs-fabric-react-word-add-in", "title": "deploying officejs fabric react word add in", "body": "<p>I have a word add in written in typescript using Officejs and office-ui-fabric-react. Everything works fine with the server running locally. I'd like to deploy into AWS S3 with Cloudfront. I'm building with npm run build, and npm run deploy (using deploy command \"aws --profile profile-name s3 sync dist/ s3://bucketname\".  Static web site hosting is enabled in the S3 bucket.  All files from the dist directory are seen in the bucket. After inserting the add in into Word with a manifest.xml file that points to the cloudfront endpoint I'm getting the error \"Uncaught ReferenceError: React is not defined\". The same error occurs when I point directly to the S3 static web endpoint. To see if I've missed anything I deployed a generic create-react-app using the steps above and it runs fine. I'm assuming that the problem lies with my webpack config so I've included that here (common, and prod).  I'd be happy to include anything else that's needed.  I'm also open to other deployment options if using AWS is causing the problem. </p>\n\n<p>webpack.common.js:</p>\n\n<pre><code>const webpack = require('webpack');\nconst path = require('path');\nconst package = require('../package.json');\nconst CopyWebpackPlugin = require('copy-webpack-plugin');\nconst HtmlWebpackPlugin = require('html-webpack-plugin');\nconst ExtractTextPlugin = require('extract-text-webpack-plugin');\nconst autoprefixer = require('autoprefixer');\n\nconst build = (() =&gt; {\n    const timestamp = new Date().getTime();\n    return {\n        name: package.name,\n        version: package.version,\n        timestamp: timestamp,\n        author: package.author\n    };\n})();\n\nconst entry = {\n    vendor: [\n        'react',\n        'react-dom',\n        'core-js',\n        'office-ui-fabric-react'\n    ],\n    app: [\n        'react-hot-loader/patch',\n        './index.tsx',\n    ],\n    'function-file': '../function-file/function-file.ts'\n};\n\nconst rules = [\n    {\n        test: /\\.tsx?$/,\n        use: [\n            'react-hot-loader/webpack',\n            'ts-loader'\n        ],\n        exclude: /node_modules/\n    },\n    {\n        test: /\\.css$/,\n        use: ['style-loader', 'css-loader']\n    },\n    {\n        test: /\\.less$/,\n        use: ['style-loader', 'css-loader', 'less-loader']\n    },\n    {\n        test: /\\.(png|jpe?g|gif|svg|woff|woff2|ttf|eot|ico)$/,\n        use: {\n            loader: 'file-loader',\n            query: {\n                name: 'assets/[name].[ext]'\n            }\n        }\n    }\n];\n\nconst output = {\n    path: path.resolve('dist'),\n    publicPath: '/',\n    filename: '[name].[hash].js',\n    chunkFilename: '[id].[hash].chunk.js'\n};\n\nconst WEBPACK_PLUGINS = [\n    new webpack.NamedModulesPlugin(),\n    new webpack.NoEmitOnErrorsPlugin(),\n    new webpack.BannerPlugin({ banner: `${build.name} v.${build.version} (${build.timestamp}) \u00a9 ${build.author}` }),\n    new webpack.DefinePlugin({\n        ENVIRONMENT: JSON.stringify({\n            build: build\n        })\n    }),\n    new webpack.LoaderOptionsPlugin({\n        options: {\n            postcss: [\n                autoprefixer({ browsers: ['Safari &gt;= 8', 'last 2 versions'] }),\n            ],\n            htmlLoader: {\n                minimize: true\n            }\n        }\n    })\n];\n\nmodule.exports = {\n    context: path.resolve('./src'),\n    entry,\n    output,\n    resolve: {\n        extensions: ['.js', '.jsx', '.ts', '.tsx', '.scss', '.css', '.html']\n    },\n    module: {\n        rules,\n    },\n    optimization: {\n        splitChunks: {\n          chunks: 'async',\n          minChunks: Infinity,\n          name: 'vendor'\n        }\n      },\n    plugins: [\n        ...WEBPACK_PLUGINS,\n        new ExtractTextPlugin('[name].[hash].css'),\n        new HtmlWebpackPlugin({\n            title: 'letterConfig',\n            filename: 'index.html',\n            template: './index.html',\n            chunks: ['app', 'vendor', 'polyfills']\n        }),\n        new HtmlWebpackPlugin({\n            title: 'letterConfig',\n            filename: 'function-file/function-file.html',\n            template: '../function-file/function-file.html',\n            chunks: ['function-file']\n        }),\n        new CopyWebpackPlugin([\n            {\n                from: '../assets',\n                ignore: ['*.scss'],\n                to: 'assets',\n            }\n        ])\n    ]\n};\n</code></pre>\n\n<p>webpack.prod.js:</p>\n\n<pre><code>const webpack = require('webpack');\nconst webpackMerge = require('webpack-merge');\nconst commonConfig = require('./webpack.common.js');\nconst ENV = process.env.NODE_ENV = process.env.ENV = 'development';\n\nmodule.exports = webpackMerge(commonConfig, {\n    devtool: 'source-map',\n\n    externals: {\n        'react': 'React',\n        'react-dom': 'ReactDOM'\n    },\n\n    performance: {\n        hints: \"warning\"\n    },\n\n    optimization: {\n        minimize: true\n      }\n});\n</code></pre>\n\n<p>index.tsx:</p>\n\n<pre><code>import * as React from 'react';\nimport * as ReactDOM from 'react-dom';\nimport { AppContainer } from 'react-hot-loader';\nimport { initializeIcons } from 'office-ui-fabric-react/lib/Icons';\n\nimport App from './components/App';\n\nimport './styles.less';\nimport 'office-ui-fabric-react/dist/css/fabric.min.css';\n\ninitializeIcons();\n\nlet isOfficeInitialized = false;\n\nconst title = 'letterConfig';\n\nconst render = (Component) =&gt; {\n    ReactDOM.render(\n        &lt;AppContainer&gt;\n            &lt;Component title={title} isOfficeInitialized={isOfficeInitialized} /&gt;\n        &lt;/AppContainer&gt;,\n        document.getElementById('container')\n    );\n};\n\n/* Render application after Office initializes */\nOffice.initialize = () =&gt; {\n    console.log('init');\n    isOfficeInitialized = true;\n    render(App);\n};\n\n/* Initial render showing a progress bar */\nrender(App);\n\nif ((module as any).hot) {\n    (module as any).hot.accept('./components/App', () =&gt; {\n        const NextApp = require('./components/App').default;\n        render(NextApp);\n    });\n}\n</code></pre>\n"}, {"tags": ["javascript", "node.js", "typescript", "nestjs"], "comments": [{"owner": {"reputation": 32017, "user_id": 4694994, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Fnpae.jpg?s=128&g=1", "display_name": "Kim Kern", "link": "https://stackoverflow.com/users/4694994/kim-kern"}, "edited": false, "score": 0, "creation_date": 1551886260, "post_id": 55026507, "comment_id": 96806137, "body": "Do you have a single hbs error template that you want to render on errors or should the error be rendered in the route&#39;s hbs template?"}, {"owner": {"reputation": 1904, "user_id": 75577, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/zGPuh.png?s=128&g=1", "display_name": "KingOfCoders", "link": "https://stackoverflow.com/users/75577/kingofcoders"}, "reply_to_user": {"reputation": 32017, "user_id": 4694994, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Fnpae.jpg?s=128&g=1", "display_name": "Kim Kern", "link": "https://stackoverflow.com/users/4694994/kim-kern"}, "edited": false, "score": 0, "creation_date": 1551886635, "post_id": 55026507, "comment_id": 96806383, "body": "Errors should be rendered in the hbs template (in the form)."}], "answers": [{"tags": [], "owner": {"reputation": 32017, "user_id": 4694994, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Fnpae.jpg?s=128&g=1", "display_name": "Kim Kern", "link": "https://stackoverflow.com/users/4694994/kim-kern"}, "is_accepted": true, "score": 2, "last_activity_date": 1551886925, "creation_date": 1551886925, "answer_id": 55026934, "question_id": 55026507, "link": "https://stackoverflow.com/questions/55026507/how-to-use-validation-in-nestjs-with-html-rendering/55026934#55026934", "title": "How to use validation in NestJs with HTML rendering?", "body": "<p>You can create an <code>Interceptor</code> that transforms the validation error into an error response:</p>\n\n<pre><code>@Injectable()\nexport class ErrorsInterceptor implements NestInterceptor {\n  intercept(\n    context: ExecutionContext,\n    call$: Observable&lt;any&gt;,\n  ): Observable&lt;any&gt; {\n    return call$.pipe(\n        // Here you can map (or rethrow) errors\n        catchError(err =&gt; ({errors: [err.message]}),\n      ),\n    );\n  }\n}\n</code></pre>\n\n<p>You can use it by adding <code>@UseInterceptors(ErrorsInterceptor)</code> to your controller or its methods.</p>\n"}], "owner": {"reputation": 1904, "user_id": 75577, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/zGPuh.png?s=128&g=1", "display_name": "KingOfCoders", "link": "https://stackoverflow.com/users/75577/kingofcoders"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 572, "favorite_count": 0, "accepted_answer_id": 55026934, "answer_count": 1, "score": 2, "last_activity_date": 1551886956, "creation_date": 1551885710, "last_edit_date": 1551886956, "question_id": 55026507, "link": "https://stackoverflow.com/questions/55026507/how-to-use-validation-in-nestjs-with-html-rendering", "title": "How to use validation in NestJs with HTML rendering?", "body": "<p>NestJS uses validation with validation pipes and </p>\n\n<pre><code>@UsePipes(ValidationPipe)\n</code></pre>\n\n<p>If this fails it throws an exception. This is fine for REST APIs that return JSON. </p>\n\n<p>How would one validate parameters when using HTML rendering and return </p>\n\n<pre><code>{ errors: ['First error'] }\n</code></pre>\n\n<p>to an hbs template?</p>\n"}, {"tags": ["reactjs", "typescript", "typescript-typings", "react-tsx"], "comments": [{"owner": {"reputation": 1796, "user_id": 5914352, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-95K_ALMidVw/AAAAAAAAAAI/AAAAAAAAABY/-XW0VDjXD7Q/photo.jpg?sz=128", "display_name": "Przemyslaw Jan Beigert", "link": "https://stackoverflow.com/users/5914352/przemyslaw-jan-beigert"}, "edited": false, "score": 0, "creation_date": 1551882830, "post_id": 55025351, "comment_id": 96803882, "body": "Do <code>{name}:{name:string}</code> throws some compilation errors?"}, {"owner": {"reputation": 3140, "user_id": 1624844, "user_type": "registered", "accept_rate": 43, "profile_image": "https://i.stack.imgur.com/SXXv0.png?s=128&g=1", "display_name": "Amir-Mousavi", "link": "https://stackoverflow.com/users/1624844/amir-mousavi"}, "reply_to_user": {"reputation": 1796, "user_id": 5914352, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-95K_ALMidVw/AAAAAAAAAAI/AAAAAAAAABY/-XW0VDjXD7Q/photo.jpg?sz=128", "display_name": "Przemyslaw Jan Beigert", "link": "https://stackoverflow.com/users/5914352/przemyslaw-jan-beigert"}, "edited": false, "score": 0, "creation_date": 1551883057, "post_id": 55025351, "comment_id": 96804039, "body": "Yes it throws <code>Type &#39;(e: MouseEvent&lt;HTMLAnchorElement, MouseEvent&gt;, { name }: { name: string; }) =&gt; void&#39; is not assignable to type &#39;(event: MouseEvent&lt;HTMLAnchorElement, MouseEvent&gt;, data: MenuItemProps) =&gt; void&#39;.</code>   @PrzemyslawPietrzak"}, {"owner": {"reputation": 1796, "user_id": 5914352, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-95K_ALMidVw/AAAAAAAAAAI/AAAAAAAAABY/-XW0VDjXD7Q/photo.jpg?sz=128", "display_name": "Przemyslaw Jan Beigert", "link": "https://stackoverflow.com/users/5914352/przemyslaw-jan-beigert"}, "edited": false, "score": 0, "creation_date": 1551884380, "post_id": 55025351, "comment_id": 96804916, "body": "is something wrong with my answer?"}], "answers": [{"comments": [{"owner": {"reputation": 3140, "user_id": 1624844, "user_type": "registered", "accept_rate": 43, "profile_image": "https://i.stack.imgur.com/SXXv0.png?s=128&g=1", "display_name": "Amir-Mousavi", "link": "https://stackoverflow.com/users/1624844/amir-mousavi"}, "edited": false, "score": 0, "creation_date": 1551886082, "post_id": 55025693, "comment_id": 96806025, "body": "sorry, it is not what I am searching for, it is more like a hack. 1. why should I pass an string where it is already passed nested in data. 2.I was searching for the type of the name as getting destruct 3.it is not the approach which the official docs says"}, {"owner": {"reputation": 3140, "user_id": 1624844, "user_type": "registered", "accept_rate": 43, "profile_image": "https://i.stack.imgur.com/SXXv0.png?s=128&g=1", "display_name": "Amir-Mousavi", "link": "https://stackoverflow.com/users/1624844/amir-mousavi"}, "edited": false, "score": 0, "creation_date": 1551886145, "post_id": 55025693, "comment_id": 96806059, "body": "Also I think you did not read my comment reagarding the compiler error correctly that you have mentioned &quot;<code>second argument of Menu.click callback is MouseEvent not a {name: string}</code>"}, {"owner": {"reputation": 1796, "user_id": 5914352, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-95K_ALMidVw/AAAAAAAAAAI/AAAAAAAAABY/-XW0VDjXD7Q/photo.jpg?sz=128", "display_name": "Przemyslaw Jan Beigert", "link": "https://stackoverflow.com/users/5914352/przemyslaw-jan-beigert"}, "reply_to_user": {"reputation": 3140, "user_id": 1624844, "user_type": "registered", "accept_rate": 43, "profile_image": "https://i.stack.imgur.com/SXXv0.png?s=128&g=1", "display_name": "Amir-Mousavi", "link": "https://stackoverflow.com/users/1624844/amir-mousavi"}, "edited": false, "score": 0, "creation_date": 1551888619, "post_id": 55025693, "comment_id": 96807621, "body": "I think i understand you now, please check edited part"}, {"owner": {"reputation": 1796, "user_id": 5914352, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-95K_ALMidVw/AAAAAAAAAAI/AAAAAAAAABY/-XW0VDjXD7Q/photo.jpg?sz=128", "display_name": "Przemyslaw Jan Beigert", "link": "https://stackoverflow.com/users/5914352/przemyslaw-jan-beigert"}, "reply_to_user": {"reputation": 3140, "user_id": 1624844, "user_type": "registered", "accept_rate": 43, "profile_image": "https://i.stack.imgur.com/SXXv0.png?s=128&g=1", "display_name": "Amir-Mousavi", "link": "https://stackoverflow.com/users/1624844/amir-mousavi"}, "edited": false, "score": 0, "creation_date": 1552402122, "post_id": 55025693, "comment_id": 96990116, "body": "@Amir-Mousavi is this a solution that you&#39;re looking for?"}, {"owner": {"reputation": 3140, "user_id": 1624844, "user_type": "registered", "accept_rate": 43, "profile_image": "https://i.stack.imgur.com/SXXv0.png?s=128&g=1", "display_name": "Amir-Mousavi", "link": "https://stackoverflow.com/users/1624844/amir-mousavi"}, "edited": false, "score": 0, "creation_date": 1552402605, "post_id": 55025693, "comment_id": 96990492, "body": "Actually before you send the edited version of the answer I figured it out and posted as answer, but your approach looks nice to yet had not time to test it and check if that is more beneficial or not but thanks for it, in few days got back to that project will test and accept your answer if it sounded more convenient"}], "tags": [], "owner": {"reputation": 1796, "user_id": 5914352, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-95K_ALMidVw/AAAAAAAAAAI/AAAAAAAAABY/-XW0VDjXD7Q/photo.jpg?sz=128", "display_name": "Przemyslaw Jan Beigert", "link": "https://stackoverflow.com/users/5914352/przemyslaw-jan-beigert"}, "is_accepted": false, "score": 2, "last_activity_date": 1551888587, "last_edit_date": 1551888587, "creation_date": 1551883237, "answer_id": 55025693, "question_id": 55025351, "link": "https://stackoverflow.com/questions/55025351/destruct-attribute-from-object-in-typescript/55025693#55025693", "title": "destruct attribute from object in typescript", "body": "<p>typing like this means <code>({ name })</code> that argument <code>name</code> is <code>any</code> type, so it will not throw error.</p>\n\n<p>to pass string e.g. \"messages\" to <code>handleItemClick</code> you should do something like this:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code> handleItemClick = (name: string) =&gt; () =&gt; this.setState({ activeItem: name })\n...\n&lt;Menu.Item\n    name='messages'\n    active={activeItem === 'messages'}\n    onClick={this.handleItemClick('message')}\n/&gt;\n</code></pre>\n\n<p>As you can see in TS error message, second argument of Menu.click callback is <code>MouseEvent</code> not a <code>{name: string}</code></p>\n\n<p>btw: to be more type safe you can turn on <code>strictFunctionTypes</code> flag in <code>compilerOptions</code> in <code>tsconfig.json</code> file</p>\n\n<p>---- Edited -----</p>\n\n<p>I think i got your point. Please forgot previous part:</p>\n\n<p><code>Menu.Item.onClick</code> is already typed by @types lib in <code>StrictMenuItemProps</code> interface. To get <code>onClick</code> type you can use this syntax <code>StrictMenuItemProps['onClick']</code> thats is equal to <code>onClick?: (event: React.MouseEvent&lt;HTMLAnchorElement&gt;, data: MenuItemProps) =&gt; void</code> but you can use it without copy code form lib.</p>\n\n<p>So instead typing <code>public handleItemClick</code> by <code>(arg1: Type1, arg2: Type2): Result { ...</code> you can type it by <code>public handleItemClick: StrictMenuItemProps['onClick'] = (e, {name}) =&gt; setState</code>.</p>\n\n<p>TS will match function's argument types to argument so <code>e</code> and <code>name</code> will not be <code>any</code> type</p>\n\n<p><a href=\"https://www.typescriptlang.org/play/index.html#src=type%20T%20%3D%20%7B%0D%0A%20%20%20%20cb%3A%20(ar%3A%20number)%20%3D%3E%20number%3B%0D%0A%7D%0D%0A%0D%0Aclass%20X%20%7B%0D%0A%20%20%20%20attr%3A%20T%5B&#39;cb&#39;%5D%20%3D%20arg%20%3D%3E%20arg%20%2B%201%3B%20%0D%0A%20%20%20%20attr%20%3D%20arg%20%3D%3E%20arg%20%2B%201%3B%0D%0A%7D%0D%0A%0D%0A\" rel=\"nofollow noreferrer\">Example</a></p>\n"}, {"tags": [], "owner": {"reputation": 3140, "user_id": 1624844, "user_type": "registered", "accept_rate": 43, "profile_image": "https://i.stack.imgur.com/SXXv0.png?s=128&g=1", "display_name": "Amir-Mousavi", "link": "https://stackoverflow.com/users/1624844/amir-mousavi"}, "is_accepted": false, "score": 0, "last_activity_date": 1551886282, "creation_date": 1551886282, "answer_id": 55026717, "question_id": 55025351, "link": "https://stackoverflow.com/questions/55025351/destruct-attribute-from-object-in-typescript/55026717#55026717", "title": "destruct attribute from object in typescript", "body": "<p>so it seems it does not matter that the name it self is of type <code>string</code> the whole object is of type <code>MenuItemProps</code></p>\n\n<p>therefore the following solved the issue</p>\n\n<pre><code>  public handleItemClick = (\n    e: React.MouseEvent&lt;HTMLAnchorElement&gt;,\n    { name }: MenuItemProps\n  ) =&gt; {\n    this.setState({ activeItem: name! });\n  };\n</code></pre>\n"}], "owner": {"reputation": 3140, "user_id": 1624844, "user_type": "registered", "accept_rate": 43, "profile_image": "https://i.stack.imgur.com/SXXv0.png?s=128&g=1", "display_name": "Amir-Mousavi", "link": "https://stackoverflow.com/users/1624844/amir-mousavi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 479, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1551888587, "creation_date": 1551882223, "last_edit_date": 1551883022, "question_id": 55025351, "link": "https://stackoverflow.com/questions/55025351/destruct-attribute-from-object-in-typescript", "title": "destruct attribute from object in typescript", "body": "<p>In my react application with typescript I am using <code>semantic-ui-react</code> for UI. this <a href=\"https://codesandbox.io/s/14mx2v6jyq?module=/example.js\" rel=\"nofollow noreferrer\">snabdobx</a> shows the usage of <code>Menu.Item</code> in javascript but I wan to use it in typescript and got confused.</p>\n\n<pre><code>&lt;Menu.Item  name=\"home\"  active={activeItem === 'home'}\n      onClick={this.handleItemClick}&gt;\n\npublic handleItemClick = (\n    e: React.MouseEvent&lt;HTMLAnchorElement&gt;,\n    {name} // Here I ahve problem with typings to destruct the name\n  ) =&gt; {\n    this.setState({ activeItem: name });\n  };\n</code></pre>\n\n<p>the types in the <code>MenuItem.d.ts</code> are</p>\n\n<pre><code>export interface MenuItemProps extends StrictMenuItemProps {[key: string]: any}\n\nexport interface StrictMenuItemProps {\n  /*many other values */\n  /** Internal name of the MenuItem. */\n  name?: string\n\n  onClick?: (event: React.MouseEvent&lt;HTMLAnchorElement&gt;, data: MenuItemProps) =&gt; void\n}\n</code></pre>\n\n<p>here <code>{name}:{name:string}</code> does not work. and geting whole data the I can not setState with <code>data.name</code></p>\n"}, {"tags": ["angular", "typescript"], "answers": [{"tags": [], "owner": {"reputation": 362, "user_id": 1365373, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5cb81b8bf14efa25aa1bdc4496efbc7d?s=128&d=identicon&r=PG", "display_name": "Void", "link": "https://stackoverflow.com/users/1365373/void"}, "is_accepted": true, "score": 1, "last_activity_date": 1551885948, "creation_date": 1551885948, "answer_id": 55026600, "question_id": 55025269, "link": "https://stackoverflow.com/questions/55025269/how-to-reuse-underlying-controls-validators/55026600#55026600", "title": "How to reuse underlying control&#39;s validators?", "body": "<p>I'm really not sure what you wan to do exactly but validators are in the end just functions.\nIf for example you want to dynamically add a validator to your existing control all while keeping old controls you can do something like this:</p>\n\n<pre><code>const fieldControl = myForm.get(fieldPath); // see FormGroup.get(path)\n// adding new validator while keeping old ones with fieldControl.validator since setValidators() resets validators\nfieldControl.setValidators([validator, fieldControl.validator]);\nfieldControl.updateValueAndValidity();\n</code></pre>\n\n<p>This means that you can get all your validators with fieldControl.validator and do whatever you want with it.</p>\n"}], "owner": {"reputation": 522, "user_id": 5118992, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b123079aaeabb268e7d55640cbba0c62?s=128&d=identicon&r=PG", "display_name": "Maxim Palenov", "link": "https://stackoverflow.com/users/5118992/maxim-palenov"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 37, "favorite_count": 0, "accepted_answer_id": 55026600, "answer_count": 1, "score": 2, "last_activity_date": 1551885948, "creation_date": 1551881987, "question_id": 55025269, "link": "https://stackoverflow.com/questions/55025269/how-to-reuse-underlying-controls-validators", "title": "How to reuse underlying control&#39;s validators?", "body": "<p>I don't see a good way to reuse validators of underlying controls. For example, I have a custom control which wraps up material datepicker which has four validators: min, max, filter and parse. Custom control could extend datepicker's functionality by adding additional buttons, timepicker or something else but it's clear that it would be nice to use original validators instead of duplication them.</p>\n\n<p>Does someone know a good approach?</p>\n\n<p>Thanks in advance!</p>\n"}, {"tags": ["angular", "typescript", "angular6", "observable", "subscribe"], "comments": [{"owner": {"reputation": 667, "user_id": 5430316, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/21474c38cfaf16b33f4493043bfe81a1?s=128&d=identicon&r=PG&f=1", "display_name": "emkay", "link": "https://stackoverflow.com/users/5430316/emkay"}, "edited": false, "score": 0, "creation_date": 1551881335, "post_id": 55024890, "comment_id": 96802980, "body": "console gives the correct output?"}, {"owner": {"reputation": 119, "user_id": 10984848, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JZoWr.jpg?s=128&g=1", "display_name": "Dervillers Matt&#233;o", "link": "https://stackoverflow.com/users/10984848/dervillers-matt%c3%a9o"}, "reply_to_user": {"reputation": 667, "user_id": 5430316, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/21474c38cfaf16b33f4493043bfe81a1?s=128&d=identicon&r=PG&f=1", "display_name": "emkay", "link": "https://stackoverflow.com/users/5430316/emkay"}, "edited": false, "score": 0, "creation_date": 1551881484, "post_id": 55024890, "comment_id": 96803058, "body": "For the e, i see the entire object in the console but for e.id, i see &#39;undefined&#39; whereas i can see &#39;id&#39; into e"}, {"owner": {"reputation": 306, "user_id": 1438587, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b60cae76182b1e8bacf8c32c2d9959e7?s=128&d=identicon&r=PG&f=1", "display_name": "Bruno", "link": "https://stackoverflow.com/users/1438587/bruno"}, "edited": false, "score": 1, "creation_date": 1551881530, "post_id": 55024890, "comment_id": 96803084, "body": "By naming of&#39; getAll(); I would assume you are getting and array so maybe e[0].id would do the trick. But until we see what your actual response you get this is just a guess."}, {"owner": {"reputation": 119, "user_id": 10984848, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JZoWr.jpg?s=128&g=1", "display_name": "Dervillers Matt&#233;o", "link": "https://stackoverflow.com/users/10984848/dervillers-matt%c3%a9o"}, "edited": false, "score": 0, "creation_date": 1551881648, "post_id": 55024890, "comment_id": 96803167, "body": "Sorry Bruno, i wanted to write &#39;getOne()&#39;, i just have an object in the output"}, {"owner": {"reputation": 667, "user_id": 5430316, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/21474c38cfaf16b33f4493043bfe81a1?s=128&d=identicon&r=PG&f=1", "display_name": "emkay", "link": "https://stackoverflow.com/users/5430316/emkay"}, "edited": false, "score": 0, "creation_date": 1551881765, "post_id": 55024890, "comment_id": 96803237, "body": "Can you create a small stackblitz for this? It seems a rather unusual behaviour."}, {"owner": {"reputation": 121, "user_id": 898424, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1cca0a846e954b1d959861f75a1de725?s=128&d=identicon&r=PG", "display_name": "Lasse", "link": "https://stackoverflow.com/users/898424/lasse"}, "edited": false, "score": 0, "creation_date": 1551882517, "post_id": 55024890, "comment_id": 96803677, "body": "I made a stackblitz of this: <a href=\"https://stackblitz.com/edit/angular-pyz5oi\" rel=\"nofollow noreferrer\">stackblitz</a>, and <code>e.id</code> is working - Can you see any difference between your code and mine?"}, {"owner": {"reputation": 3966, "user_id": 2882236, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/5738f40ace978188914bf0e2e2c68ff3?s=128&d=identicon&r=PG&f=1", "display_name": "gyc", "link": "https://stackoverflow.com/users/2882236/gyc"}, "edited": false, "score": 0, "creation_date": 1551882614, "post_id": 55024890, "comment_id": 96803735, "body": "{&quot;id&quot;:&quot;1&quot;, &quot;name&quot;:&quot;myName&quot;, ...} looks like a json string not a javascript object. Try to JSON.parse(e)"}, {"owner": {"reputation": 119, "user_id": 10984848, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JZoWr.jpg?s=128&g=1", "display_name": "Dervillers Matt&#233;o", "link": "https://stackoverflow.com/users/10984848/dervillers-matt%c3%a9o"}, "reply_to_user": {"reputation": 3966, "user_id": 2882236, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/5738f40ace978188914bf0e2e2c68ff3?s=128&d=identicon&r=PG&f=1", "display_name": "gyc", "link": "https://stackoverflow.com/users/2882236/gyc"}, "edited": false, "score": 0, "creation_date": 1551883123, "post_id": 55024890, "comment_id": 96804083, "body": "@gyc It said that e is not defined"}, {"owner": {"reputation": 119, "user_id": 10984848, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JZoWr.jpg?s=128&g=1", "display_name": "Dervillers Matt&#233;o", "link": "https://stackoverflow.com/users/10984848/dervillers-matt%c3%a9o"}, "reply_to_user": {"reputation": 121, "user_id": 898424, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1cca0a846e954b1d959861f75a1de725?s=128&d=identicon&r=PG", "display_name": "Lasse", "link": "https://stackoverflow.com/users/898424/lasse"}, "edited": false, "score": 0, "creation_date": 1551883219, "post_id": 55024890, "comment_id": 96804150, "body": "@Lasse my service is, not the same, i&#39;m returning an observable of my object i am using http.get(url)"}, {"owner": {"reputation": 3966, "user_id": 2882236, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/5738f40ace978188914bf0e2e2c68ff3?s=128&d=identicon&r=PG&f=1", "display_name": "gyc", "link": "https://stackoverflow.com/users/2882236/gyc"}, "edited": false, "score": 1, "creation_date": 1551883460, "post_id": 55024890, "comment_id": 96804310, "body": "how can e be undefined since you&#39;re logging it?"}, {"owner": {"reputation": 119, "user_id": 10984848, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JZoWr.jpg?s=128&g=1", "display_name": "Dervillers Matt&#233;o", "link": "https://stackoverflow.com/users/10984848/dervillers-matt%c3%a9o"}, "edited": false, "score": 0, "creation_date": 1551883559, "post_id": 55024890, "comment_id": 96804368, "body": "This is why i&#39;m trouble :/"}, {"owner": {"reputation": 121, "user_id": 898424, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1cca0a846e954b1d959861f75a1de725?s=128&d=identicon&r=PG", "display_name": "Lasse", "link": "https://stackoverflow.com/users/898424/lasse"}, "edited": false, "score": 0, "creation_date": 1551883633, "post_id": 55024890, "comment_id": 96804436, "body": "like this <code>return this.http.get&lt;YourObject&gt;(url)</code>? or are you not defining an object?"}, {"owner": {"reputation": 119, "user_id": 10984848, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JZoWr.jpg?s=128&g=1", "display_name": "Dervillers Matt&#233;o", "link": "https://stackoverflow.com/users/10984848/dervillers-matt%c3%a9o"}, "reply_to_user": {"reputation": 121, "user_id": 898424, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1cca0a846e954b1d959861f75a1de725?s=128&d=identicon&r=PG", "display_name": "Lasse", "link": "https://stackoverflow.com/users/898424/lasse"}, "edited": false, "score": 0, "creation_date": 1551883746, "post_id": 55024890, "comment_id": 96804500, "body": "@Lasse, yes like this :)"}, {"owner": {"reputation": 3966, "user_id": 2882236, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/5738f40ace978188914bf0e2e2c68ff3?s=128&d=identicon&r=PG&f=1", "display_name": "gyc", "link": "https://stackoverflow.com/users/2882236/gyc"}, "edited": false, "score": 0, "creation_date": 1551883899, "post_id": 55024890, "comment_id": 96804608, "body": "The code as you show us should work (except for the json string that is returned from the service and that you have to parse). If you cannot reproduce the problem in a stackblitz, then problem comes from somewhere else you&#39;re not showing us."}, {"owner": {"reputation": 119, "user_id": 10984848, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JZoWr.jpg?s=128&g=1", "display_name": "Dervillers Matt&#233;o", "link": "https://stackoverflow.com/users/10984848/dervillers-matt%c3%a9o"}, "edited": false, "score": 0, "creation_date": 1551883999, "post_id": 55024890, "comment_id": 96804675, "body": "Maybe into my Service ?"}, {"owner": {"reputation": 121, "user_id": 898424, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1cca0a846e954b1d959861f75a1de725?s=128&d=identicon&r=PG", "display_name": "Lasse", "link": "https://stackoverflow.com/users/898424/lasse"}, "reply_to_user": {"reputation": 3966, "user_id": 2882236, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/5738f40ace978188914bf0e2e2c68ff3?s=128&d=identicon&r=PG&f=1", "display_name": "gyc", "link": "https://stackoverflow.com/users/2882236/gyc"}, "edited": false, "score": 0, "creation_date": 1551884149, "post_id": 55024890, "comment_id": 96804772, "body": "I have updated the <a href=\"https://stackblitz.com/edit/angular-pyz5oi\" rel=\"nofollow noreferrer\">stackBlitz</a> to use http, and it is still working, so as @gyc says the problem must be somewhere else in your code"}, {"owner": {"reputation": 119, "user_id": 10984848, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JZoWr.jpg?s=128&g=1", "display_name": "Dervillers Matt&#233;o", "link": "https://stackoverflow.com/users/10984848/dervillers-matt%c3%a9o"}, "edited": false, "score": 0, "creation_date": 1551884279, "post_id": 55024890, "comment_id": 96804852, "body": "I&#39;ve just seen that, i will look at your code with mine and try to fix the problem. I will put the answer after that, thanks to all ! :)"}], "answers": [{"tags": [], "owner": {"reputation": 119, "user_id": 10984848, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JZoWr.jpg?s=128&g=1", "display_name": "Dervillers Matt&#233;o", "link": "https://stackoverflow.com/users/10984848/dervillers-matt%c3%a9o"}, "is_accepted": true, "score": 0, "last_activity_date": 1551884983, "creation_date": 1551884983, "answer_id": 55026296, "question_id": 55024890, "link": "https://stackoverflow.com/questions/55024890/how-to-read-object-in-subscribe-observable-angular-6/55026296#55026296", "title": "How to read object in subscribe (observable) -angular 6", "body": "<p>I founded the problem, i had 2 things in more into my getOne() method:</p>\n\n<p>I changed the method from</p>\n\n<pre><code>getOne(): Observable&lt;myObject&gt; {...}\n</code></pre>\n\n<p>to </p>\n\n<pre><code>getOne() {...}\n</code></pre>\n\n<p>I changed the return from</p>\n\n<pre><code>this.get&lt;myObject&gt;(url, httpOptions); //httpOptions contained headers and response type 'text' as 'json' \n</code></pre>\n\n<p>to</p>\n\n<pre><code>this.get&lt;myObject&gt;(url);\n</code></pre>\n\n<p>Now its functional, thank you for your help ! :)</p>\n"}], "owner": {"reputation": 119, "user_id": 10984848, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JZoWr.jpg?s=128&g=1", "display_name": "Dervillers Matt&#233;o", "link": "https://stackoverflow.com/users/10984848/dervillers-matt%c3%a9o"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 517, "favorite_count": 0, "accepted_answer_id": 55026296, "answer_count": 1, "score": 0, "last_activity_date": 1551884983, "creation_date": 1551880810, "last_edit_date": 1551883484, "question_id": 55024890, "link": "https://stackoverflow.com/questions/55024890/how-to-read-object-in-subscribe-observable-angular-6", "title": "How to read object in subscribe (observable) -angular 6", "body": "<p>I'm working on a project in angular 6 and i'm facing to a problem !\nI want to read the content of an object which is in my observable  like this:</p>\n\n<pre><code>this.myService.getOne().subscribe(e =&gt; {\n  this.e = e;\n  console.log(this.e);\n  console.log(this.e.id); // result =&gt; undefined\n});\n</code></pre>\n\n<p>I can see <strong>this.e</strong> which look like that:</p>\n\n<pre><code>{\"id\":\"1\", \"name\":\"myName\", ...}\n</code></pre>\n\n<p>But <strong>this.e.id</strong> is <em>'undefined'</em>, same thing when i write <strong>this.e['id']</strong>.</p>\n\n<p>Did you have any idea ?</p>\n"}, {"tags": ["angular", "typescript"], "comments": [{"owner": {"reputation": 6367, "user_id": 9386929, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0f9bac9557ecb2df1aa89cd5dc5442d0?s=128&d=identicon&r=PG", "display_name": "nircraft", "link": "https://stackoverflow.com/users/9386929/nircraft"}, "edited": false, "score": 0, "creation_date": 1551882196, "post_id": 55024740, "comment_id": 96803493, "body": "Why don&#39;t you use <code>yourForm.value</code> to get the details?"}, {"owner": {"reputation": 1227, "user_id": 4739210, "user_type": "registered", "accept_rate": 0, "profile_image": "https://graph.facebook.com/100004607761385/picture?type=large", "display_name": "Aymen Kanzari", "link": "https://stackoverflow.com/users/4739210/aymen-kanzari"}, "reply_to_user": {"reputation": 6367, "user_id": 9386929, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0f9bac9557ecb2df1aa89cd5dc5442d0?s=128&d=identicon&r=PG", "display_name": "nircraft", "link": "https://stackoverflow.com/users/9386929/nircraft"}, "edited": false, "score": 0, "creation_date": 1551883903, "post_id": 55024740, "comment_id": 96804611, "body": "@nircraft in my form i have many inputs for type checkbox, text, number... i want to get only the values of the inputs of type checkbox"}], "owner": {"reputation": 1227, "user_id": 4739210, "user_type": "registered", "accept_rate": 0, "profile_image": "https://graph.facebook.com/100004607761385/picture?type=large", "display_name": "Aymen Kanzari", "link": "https://stackoverflow.com/users/4739210/aymen-kanzari"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 190, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1551880374, "creation_date": 1551880374, "question_id": 55024740, "link": "https://stackoverflow.com/questions/55024740/get-name-for-element-in-angular-2", "title": "get name for element in angular 2", "body": "<p>i have the input checkbox that i display dynamically</p>\n\n<p>i want to get the names of all the inputs</p>\n\n<p>the parameters list contains 20 elements, the problem is that in the console it displays the first name repeated 20 times</p>\n\n<pre><code>&lt;ng-container *ngFor=\"let parameter of category.parameters\" [ngSwitch]=\"parameter.type\"&gt;\n    &lt;label class=\"switch switch-small\" *ngSwitchCase=\"'toggle'\"&gt;\n         &lt;input #toggle type=\"checkbox\" name=\"{{parameter.parameterId}}\" formControlName=\"{{parameter.parameterId}}\" (change)=\"checkboxAction(parameter.parameterId)\"&gt;\n         &lt;span class=\"slider round\"&gt;&lt;/span&gt;\n    &lt;/label&gt;                         \n&lt;/ng-container&gt;\n\n@ViewChild('toggle') toggle: any;\n\nsave(): void {\n    console.log(this.toggle.nativeElement.getAttribute('name'));\n}\n</code></pre>\n"}, {"tags": ["arrays", "typescript", "ecma"], "comments": [{"owner": {"reputation": 11316, "user_id": 4551041, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/dGGsC.jpg?s=128&g=1", "display_name": "H. Pauwelyn", "link": "https://stackoverflow.com/users/4551041/h-pauwelyn"}, "reply_to_user": {"reputation": 2172, "user_id": 6325822, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ggMPi.jpg?s=128&g=1", "display_name": "Baboo_", "link": "https://stackoverflow.com/users/6325822/baboo"}, "edited": false, "score": 0, "creation_date": 1551880775, "post_id": 55024735, "comment_id": 96802645, "body": "@Baboo_: It&#39;s not a duplicate because my question goes about <b>TypeScript</b> and not about JavaScript like the link you provided!"}, {"owner": {"reputation": 2172, "user_id": 6325822, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ggMPi.jpg?s=128&g=1", "display_name": "Baboo_", "link": "https://stackoverflow.com/users/6325822/baboo"}, "edited": false, "score": 0, "creation_date": 1551881068, "post_id": 55024735, "comment_id": 96802829, "body": "I missed copied, the link you provided is the one I wanted to provide ;)"}], "answers": [{"tags": [], "owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "is_accepted": false, "score": 5, "last_activity_date": 1551880633, "creation_date": 1551880633, "answer_id": 55024827, "question_id": 55024735, "link": "https://stackoverflow.com/questions/55024735/includes-does-not-exists-on-type-string-in-typescript/55024827#55024827", "title": "&#39;includes&#39; does not exists on type &#39;string[]&#39; in TypeScript", "body": "<p>Includes is defined in the <code>lib.es2016.array.include.d.ts</code>  since it is part of the <code>es2016</code> standard. You can include this lib in your <code>tsconfig</code> but you have to provide your own polyfil for the method:</p>\n\n<pre><code>{\n    \"compilerOptions\": {\n        \"target\": \"es5\",\n        \"lib\": [\n            \"dom\",\n            \"scripthost\",\n            \"es5\",\n            \"es2016.array.include\"\n        ]\n    }\n}\n</code></pre>\n\n<p>You can also provide the polyfill by assigning <code>Array.prototype.include</code> if your runtime does not provide this method on array (you can get a polyfill from <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/includes\" rel=\"noreferrer\">here</a> for example)</p>\n"}], "owner": {"reputation": 11316, "user_id": 4551041, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/dGGsC.jpg?s=128&g=1", "display_name": "H. Pauwelyn", "link": "https://stackoverflow.com/users/4551041/h-pauwelyn"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3377, "favorite_count": 0, "closed_date": 1551881045, "answer_count": 1, "score": 3, "last_activity_date": 1551880800, "creation_date": 1551880356, "last_edit_date": 1551880800, "question_id": 55024735, "link": "https://stackoverflow.com/questions/55024735/includes-does-not-exists-on-type-string-in-typescript", "closed_reason": "Duplicate", "title": "&#39;includes&#39; does not exists on type &#39;string[]&#39; in TypeScript", "body": "<p>From this question and the accepted answer, I know that there is an methode to <a href=\"https://stackoverflow.com/questions/237104/how-do-i-check-if-an-array-includes-an-object-in-javascript\">check if an array includes an object in JavaScript</a> by using this line of code:</p>\n\n<blockquote>\n<pre><code>&gt; ['joe', 'jane', 'mary'].includes('jane');\ntrue \n</code></pre>\n</blockquote>\n\n<p>However if I use the same code in <strong>TypeScript</strong> I've got this error:</p>\n\n<blockquote>\n  <p>Property <code>includes</code> does not exist on type <code>string[]</code>.</p>\n</blockquote>\n\n<ol>\n<li>Why gives the compiler this error? I'm expecting that everything that is available in JS, is available in TS.</li>\n<li>How could I solve this error without changing the code? It must be working on ES5.</li>\n</ol>\n"}, {"tags": ["javascript", "arrays", "angular", "typescript"], "comments": [{"owner": {"reputation": 28101, "user_id": 3082296, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/5eac8c095f63cb9fe29a9af3cb97eb0e?s=128&d=identicon&r=PG&f=1", "display_name": "adiga", "link": "https://stackoverflow.com/users/3082296/adiga"}, "edited": false, "score": 1, "creation_date": 1551880788, "post_id": 55024619, "comment_id": 96802653, "body": "Your question is unclear. But, <code>this.content.map(data =&gt; this.sections = data.sections)</code> sets <code>this.sections</code> to the last <code>data.sections</code> of <code>content</code>"}, {"owner": {"reputation": 184244, "user_id": 14104, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/otetW.jpg?s=128&g=1", "display_name": "epascarello", "link": "https://stackoverflow.com/users/14104/epascarello"}, "edited": false, "score": 0, "creation_date": 1551881528, "post_id": 55024619, "comment_id": 96803081, "body": "not sure how you expect to not do two loops...."}, {"owner": {"reputation": 89, "user_id": 11120089, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-JTG7Oli3IOk/AAAAAAAAAAI/AAAAAAAAAAA/ACevoQMUemgYrSHtsNgASnnDnVQd8PcdtQ/mo/photo.jpg?sz=128", "display_name": "stack s", "link": "https://stackoverflow.com/users/11120089/stack-s"}, "edited": false, "score": 0, "creation_date": 1551881542, "post_id": 55024619, "comment_id": 96803089, "body": "yes. and <code>this. sections</code> is as <code>array</code>"}, {"owner": {"reputation": 78750, "user_id": 2827823, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/1pdiw.png?s=128&g=1", "display_name": "Ason", "link": "https://stackoverflow.com/users/2827823/ason"}, "edited": false, "score": 0, "creation_date": 1551881715, "post_id": 55024619, "comment_id": 96803198, "body": "SO is not a primary place for <i>code review&#39;s</i>, <a href=\"https://codereview.stackexchange.com\">Code Review</a> might be. Also, asking for <i>code improvement</i> is both too broad and opinion-based, which is off topic here."}], "answers": [{"comments": [{"owner": {"reputation": 89, "user_id": 11120089, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-JTG7Oli3IOk/AAAAAAAAAAI/AAAAAAAAAAA/ACevoQMUemgYrSHtsNgASnnDnVQd8PcdtQ/mo/photo.jpg?sz=128", "display_name": "stack s", "link": "https://stackoverflow.com/users/11120089/stack-s"}, "edited": false, "score": 0, "creation_date": 1551881925, "post_id": 55025120, "comment_id": 96803321, "body": "getting this error <code>this.sections.map is not a function</code>, but when inspected <code>this.sections</code> this shows the list of arrays"}], "tags": [], "owner": {"reputation": 106594, "user_id": 575527, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/a1120319639f8c7ea84d66d4334bdfa9?s=128&d=identicon&r=PG", "display_name": "Joseph", "link": "https://stackoverflow.com/users/575527/joseph"}, "is_accepted": true, "score": 1, "last_activity_date": 1551881551, "creation_date": 1551881551, "answer_id": 55025120, "question_id": 55024619, "link": "https://stackoverflow.com/questions/55024619/best-way-to-use-map/55025120#55025120", "title": "Best way to use .map", "body": "<p>First of all, <code>array.map</code> is NOT for looping. That's <code>array.forEach</code>'s job. <code>array.map</code> is used to create an array from another array, optionally transforming each value.</p>\n\n<hr>\n\n<pre><code>this.content.map(data =&gt; this.sections = data.sections);\n</code></pre>\n\n<p>What this does is assign the last item in <code>this.content</code> to <code>this.sections</code>. You do not need <code>array.map</code> to do this. You can simply grab the last item via its index.</p>\n\n<pre><code>this.sections = this.content[this.content.length - 1]\n</code></pre>\n\n<hr>\n\n<p>You cannot avoid multiple loops if your data is nested. But what you could do to improve readability is to turn the nested loop into a flat series of loops. In your code, what you're after is the <code>response</code>. So let's flatten <code>this.sections</code> first, <em>then</em> loop through it.</p>\n\n<pre><code>this.sections\n  .map(rjfBlock =&gt; rjfBlock.rjf)\n  .reduce((c, rjf) =&gt; [...c, ...rjf], [])\n  .forEach(response =&gt; {\n    const type = this.contentMappings[response.type]\n    this.service.createComponent(response, type)\n  })\n</code></pre>\n\n<p>Let's break this down:</p>\n\n<ul>\n<li><code>.map</code> collects all <code>rjf</code> arrays into an array. At this point, we have an array of arrays.</li>\n<li><code>.reduce</code> flattens the array by merging each array into one array. At this point, we have a one-level array of responses.</li>\n<li><code>.forEach</code> - loops through each response.</li>\n</ul>\n"}], "owner": {"reputation": 89, "user_id": 11120089, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-JTG7Oli3IOk/AAAAAAAAAAI/AAAAAAAAAAA/ACevoQMUemgYrSHtsNgASnnDnVQd8PcdtQ/mo/photo.jpg?sz=128", "display_name": "stack s", "link": "https://stackoverflow.com/users/11120089/stack-s"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 49, "favorite_count": 0, "accepted_answer_id": 55025120, "answer_count": 1, "score": -1, "last_activity_date": 1564759945, "creation_date": 1551879985, "last_edit_date": 1564759945, "question_id": 55024619, "link": "https://stackoverflow.com/questions/55024619/best-way-to-use-map", "title": "Best way to use .map", "body": "<p>I've multiple arrays which I need to loop through.</p>\n\n<p>Below is the code I've written,How can I avoid multiple forEach.</p>\n\n<pre><code>  @Input() content: any;\n  public sections:any;\n      ngOnInit() {        \n        this.content.forEach(content =&gt; {\n          content.block.forEach(response =&gt; {\n            this.service.createComponent(response, type);\n          });\n        });\n      }\n</code></pre>\n\n<p>How can I reduce the above lines, and improve my code quality ?</p>\n"}, {"tags": ["javascript", "node.js", "typescript", "jestjs"], "answers": [{"tags": [], "owner": {"reputation": 2495, "user_id": 5334137, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/RB48D.jpg?s=128&g=1", "display_name": "leroydev", "link": "https://stackoverflow.com/users/5334137/leroydev"}, "is_accepted": false, "score": 0, "last_activity_date": 1551889334, "creation_date": 1551889334, "answer_id": 55027756, "question_id": 55024423, "link": "https://stackoverflow.com/questions/55024423/unit-testing-and-continuation-local-storage/55027756#55027756", "title": "Unit Testing and Continuation-Local Storage", "body": "<p>As Jest doesn't seem to support localStorage, you'll need to mock it instead.</p>\n\n<p>I'd suggest using a library such as <a href=\"https://www.npmjs.com/package/jest-localstorage-mock\" rel=\"nofollow noreferrer\">https://www.npmjs.com/package/jest-localstorage-mock</a> for this, as else you'd have to implement it all by yourself.</p>\n\n<p>You'd need to add that library to your <code>devDependencies</code> and add it as a jest setupFile in package.json:</p>\n\n<pre><code>{\n  \"jest\": {\n    \"setupFiles\": [\"jest-localstorage-mock\"]\n  }\n}\n</code></pre>\n\n<p>Your tests should pass after that.</p>\n"}, {"tags": [], "owner": {"reputation": 1713, "user_id": 243831, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/11f7be0cc892437ea95733a3ecdc9398?s=128&d=identicon&r=PG", "display_name": "Mark", "link": "https://stackoverflow.com/users/243831/mark"}, "is_accepted": true, "score": 0, "last_activity_date": 1551965928, "creation_date": 1551965928, "answer_id": 55045206, "question_id": 55024423, "link": "https://stackoverflow.com/questions/55024423/unit-testing-and-continuation-local-storage/55045206#55045206", "title": "Unit Testing and Continuation-Local Storage", "body": "<p>I was able to resolve my problem without the need for the <code>jest-localstorage-mock</code> dependency. In short, my <code>get(...)</code> call was attempting to read the store before async hooks were enabled, which is a requirement according to <a href=\"https://nodejs.org/api/async_hooks.html#async_hooks_asynchook_enable\" rel=\"nofollow noreferrer\">the documentation</a>. Additionally, my <code>get(...)</code> call was attempting to read the store too early; because I'm attempting to do this in a decorator I need to move the <code>get</code> call into the <code>descriptor.value</code>, which is what actually gets executed at runtime.</p>\n\n<p>My updated production code now includes the <code>enable()</code> call, the <code>get(...)</code> call is in the correct place, and all is well:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>const als = require('async-local-storage'); // pulled up to top of file\nals.enable(); // added\n\nexport function authorize(requiredPermissions: string[]) {\n    return (target: any, name: any, descriptor: any) =&gt; {\n        const protectedFunction = descriptor.value;\n\n        descriptor.value = function() {\n            console.log(`&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;My ID ${als.get('id')}`); // moved into function\n            // ... some code\n        }\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 1713, "user_id": 243831, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/11f7be0cc892437ea95733a3ecdc9398?s=128&d=identicon&r=PG", "display_name": "Mark", "link": "https://stackoverflow.com/users/243831/mark"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 452, "favorite_count": 0, "accepted_answer_id": 55045206, "answer_count": 2, "score": 0, "last_activity_date": 1551965928, "creation_date": 1551879413, "question_id": 55024423, "link": "https://stackoverflow.com/questions/55024423/unit-testing-and-continuation-local-storage", "title": "Unit Testing and Continuation-Local Storage", "body": "<p>I would like to harness CLS (continuation-local storage) in my TypeScript app so that I have somewhere I can put metadata (e.g. user ID, request ID) for various uses (e.g. logging) without having to pass the data in each method call.</p>\n\n<p>I have attempted to use both <a href=\"https://www.npmjs.com/package/cls-hooked\" rel=\"nofollow noreferrer\">cls-hooked</a> and <a href=\"https://www.npmjs.com/package/async-local-storage\" rel=\"nofollow noreferrer\">async-local-storage</a>. However, I haven't been able to get either working from my Jest unit test.</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>const als = require('async-local-storage');\nals.enable();\n\n// ... some code\n\ndescribe('Authorization tests', () =&gt; {\n  test('Cannot call without correct scope', () =&gt; {\n    als.set('id', \"123123123123\");\n    expect(() =&gt; service.registerApp(ctxt, app)).toThrowError(AuthorizationError.NOT_AUTHORIZED);\n  });\n});\n</code></pre>\n\n<p>The above setting of the datum <code>id</code> does not fail.</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>export function authorize(requiredPermissions: string[]) {\n    return (target: any, name: any, descriptor: any) =&gt; {\n        const protectedFunction = descriptor.value;\n        const als = require('async-local-storage');\n        console.log(`&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;My ID ${als.get('id')}`);\n\n        // ... some code\n    }\n}\n</code></pre>\n\n<p>However the above code simply outputs:</p>\n\n<pre><code>&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;My ID null\n</code></pre>\n\n<p>Is what I'm attempting possible? Thanks in advance.</p>\n"}, {"tags": ["angular", "typescript", "rxjs"], "comments": [{"owner": {"reputation": 2114, "user_id": 2093029, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/6bc1e235ce01688c66b0de5eba246c2e?s=128&d=identicon&r=PG&f=1", "display_name": "umutesen", "link": "https://stackoverflow.com/users/2093029/umutesen"}, "edited": false, "score": 0, "creation_date": 1551878492, "post_id": 55024091, "comment_id": 96801243, "body": "Have you looked at <a href=\"https://www.learnrxjs.io/operators/combination/forkjoin.html\" rel=\"nofollow noreferrer\">fork join</a>"}, {"owner": {"user_type": "does_not_exist", "display_name": "user4676340"}, "reply_to_user": {"reputation": 2114, "user_id": 2093029, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/6bc1e235ce01688c66b0de5eba246c2e?s=128&d=identicon&r=PG&f=1", "display_name": "umutesen", "link": "https://stackoverflow.com/users/2093029/umutesen"}, "edited": false, "score": 0, "creation_date": 1551878989, "post_id": 55024091, "comment_id": 96801555, "body": "@UmutEsen forkjoin emits the last values of closed observables. In this case, the second observable is using the result of the first one."}, {"owner": {"reputation": 636, "user_id": 1936186, "user_type": "registered", "accept_rate": 23, "profile_image": "https://i.stack.imgur.com/2xHgA.jpg?s=128&g=1", "display_name": "Narendra Singh Rathore", "link": "https://stackoverflow.com/users/1936186/narendra-singh-rathore"}, "edited": false, "score": 0, "creation_date": 1551879040, "post_id": 55024091, "comment_id": 96801579, "body": "Use mergeAll <a href=\"https://www.learnrxjs.io/operators/combination/mergeall.html\" rel=\"nofollow noreferrer\">learnrxjs.io/operators/combination/mergeall.html</a>"}, {"owner": {"user_type": "does_not_exist", "display_name": "user4676340"}, "reply_to_user": {"reputation": 636, "user_id": 1936186, "user_type": "registered", "accept_rate": 23, "profile_image": "https://i.stack.imgur.com/2xHgA.jpg?s=128&g=1", "display_name": "Narendra Singh Rathore", "link": "https://stackoverflow.com/users/1936186/narendra-singh-rathore"}, "edited": false, "score": 0, "creation_date": 1551879066, "post_id": 55024091, "comment_id": 96801597, "body": "@NarendraSinghRathore <code>In many cases you can use mergeMap as a single operator instead!</code>"}], "answers": [{"comments": [{"owner": {"reputation": 18716, "user_id": 3669981, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/WWWHe.png?s=128&g=1", "display_name": "TheUnreal", "link": "https://stackoverflow.com/users/3669981/theunreal"}, "edited": false, "score": 0, "creation_date": 1551880602, "post_id": 55024202, "comment_id": 96802531, "body": "Looks good! but there is an error when using the syntax in the <code>map</code> operator of your answer (<code>TS2695: Left side of comma operator is unused and has no side effects</code> )."}, {"owner": {"user_type": "does_not_exist", "display_name": "user4676340"}, "reply_to_user": {"reputation": 18716, "user_id": 3669981, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/WWWHe.png?s=128&g=1", "display_name": "TheUnreal", "link": "https://stackoverflow.com/users/3669981/theunreal"}, "edited": false, "score": 0, "creation_date": 1551880708, "post_id": 55024202, "comment_id": 96802604, "body": "Indeed, I forgot parenthesis : <code>map(result2 =&gt; ({ result1, result2 }))</code>"}], "tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user4676340"}, "is_accepted": true, "score": 2, "last_activity_date": 1551880696, "last_edit_date": 1551880696, "creation_date": 1551878700, "answer_id": 55024202, "question_id": 55024091, "link": "https://stackoverflow.com/questions/55024091/run-an-observable-when-another-one-emits-return-both-result/55024202#55024202", "title": "Run an observable when another one emits, return both result", "body": "<pre><code>dialog.afterClosed().pipe(\n  mergeMap(result1 =&gt; this.unitService.importPack(result.file).pipe(\n    map(result2 =&gt; ({ result1, result2 }))\n  ))\n).subscribe(({ result1, result2 }) =&gt; { ... });\n</code></pre>\n\n<p>Map the result of the second request to return the result you want. Here, I return an object of type <code>{ result1: any, result2: any }</code></p>\n"}], "owner": {"reputation": 18716, "user_id": 3669981, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/WWWHe.png?s=128&g=1", "display_name": "TheUnreal", "link": "https://stackoverflow.com/users/3669981/theunreal"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 96, "favorite_count": 0, "accepted_answer_id": 55024202, "answer_count": 1, "score": 0, "last_activity_date": 1551880696, "creation_date": 1551878392, "last_edit_date": 1551878756, "question_id": 55024091, "link": "https://stackoverflow.com/questions/55024091/run-an-observable-when-another-one-emits-return-both-result", "title": "Run an observable when another one emits, return both result", "body": "<p>I have the following code:</p>\n\n<pre><code>dialog.afterClosed()\n      .pipe(\n        filter((result) =&gt; result),\n        mergeMap((result) =&gt; this.unitService.importPack(result.file))\n      )\n      .subscribe((result) =&gt; {\n        console.log(result); // I need the result of both, not only the mergeMap result\n        this.updateStateAfterUpload(result.file, 'imported');\n      });\n</code></pre>\n\n<p>The issue here is that the <code>result</code> in my subscription is the result of the observable returned in my <code>mergeMap</code> operator, but I actually need to use both - the one returned from my <code>afterClosed()</code> observable AND the one returned by the <code>mergeMap</code> operator.</p>\n\n<p>How I can return the result of both observables in my subscription?</p>\n"}, {"tags": ["typescript", "webpack", "source-maps"], "comments": [{"owner": {"reputation": 9395, "user_id": 2708966, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1171d304e09ea84bd153c2622f0ae063?s=128&d=identicon&r=PG&f=1", "display_name": "Sergiu Paraschiv", "link": "https://stackoverflow.com/users/2708966/sergiu-paraschiv"}, "edited": false, "score": 0, "creation_date": 1551878100, "post_id": 55023743, "comment_id": 96800992, "body": "Yes, you need <code>{   &quot;compilerOptions&quot;: {     &quot;sourceMap&quot;: true   } }</code> in <code>tsconfig.json</code>."}, {"owner": {"reputation": 21, "user_id": 11069210, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1c11874b5c2df71769c51c0f3068d0c6?s=128&d=identicon&r=PG&f=1", "display_name": "Saveli Tomac", "link": "https://stackoverflow.com/users/11069210/saveli-tomac"}, "reply_to_user": {"reputation": 9395, "user_id": 2708966, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1171d304e09ea84bd153c2622f0ae063?s=128&d=identicon&r=PG&f=1", "display_name": "Sergiu Paraschiv", "link": "https://stackoverflow.com/users/2708966/sergiu-paraschiv"}, "edited": false, "score": 0, "creation_date": 1551879692, "post_id": 55023743, "comment_id": 96801966, "body": "Thank you for answer!  But I don&#39;t know what option I need select --inlineSourceMap or just --sourceMap"}], "answers": [{"comments": [{"owner": {"reputation": 21, "user_id": 11069210, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1c11874b5c2df71769c51c0f3068d0c6?s=128&d=identicon&r=PG&f=1", "display_name": "Saveli Tomac", "link": "https://stackoverflow.com/users/11069210/saveli-tomac"}, "edited": false, "score": 0, "creation_date": 1551937726, "post_id": 55030344, "comment_id": 96825490, "body": "Thank you! I will try to reformulate the question :)  I set up webpack for dev and prod environments, in prod mode I use source-map as devtool in webpack config and --sourceMap option in typescript, but in dev mode I use cheap-module-eval-source-map as devtool. cheap-module-eval-source-map will put generated source maps inside .js file, but I still use --sourceMap option in typescript now.  So, my question is: Must I use --inlineSourceMap instead --sourceMap in tsconfig.json for dev mode?  Best wishes!"}], "tags": [], "owner": {"reputation": 10410, "user_id": 87056, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/LYg63.jpg?s=128&g=1", "display_name": "Yakov Fain", "link": "https://stackoverflow.com/users/87056/yakov-fain"}, "is_accepted": false, "score": 3, "last_activity_date": 1551898649, "creation_date": 1551898649, "answer_id": 55030344, "question_id": 55023743, "link": "https://stackoverflow.com/questions/55023743/inlinesourcemap-or-sourcemap-in-tsconfig-json/55030344#55030344", "title": "--inlineSourceMap or --sourceMap in tsconfig.json", "body": "<p>The option --sourceMap tells the compiler that you want the source map generation.  The next question is if you want them as separate files .js.map or not.</p>\n\n<p>The option --inlineSourceMap will put generated source maps inside your .js file.</p>\n\n<p>There is yet another option --inlineSources. This one will create a separate .js.map file, which will include the original TypeScript source so you don't need to deploy your .ts files under the server.</p>\n"}], "owner": {"reputation": 21, "user_id": 11069210, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1c11874b5c2df71769c51c0f3068d0c6?s=128&d=identicon&r=PG&f=1", "display_name": "Saveli Tomac", "link": "https://stackoverflow.com/users/11069210/saveli-tomac"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4127, "favorite_count": 1, "answer_count": 1, "score": 2, "last_activity_date": 1551898649, "creation_date": 1551877252, "question_id": 55023743, "link": "https://stackoverflow.com/questions/55023743/inlinesourcemap-or-sourcemap-in-tsconfig-json", "title": "--inlineSourceMap or --sourceMap in tsconfig.json", "body": "<p>Must I turn on --inlineSourceMap instead --sourceMap in tsconfig.json when I use cheap-module-eval-source-map as devtool in webpack?</p>\n"}, {"tags": ["typescript"], "comments": [{"owner": {"reputation": 9395, "user_id": 2708966, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1171d304e09ea84bd153c2622f0ae063?s=128&d=identicon&r=PG&f=1", "display_name": "Sergiu Paraschiv", "link": "https://stackoverflow.com/users/2708966/sergiu-paraschiv"}, "edited": false, "score": 0, "creation_date": 1551877137, "post_id": 55023610, "comment_id": 96800430, "body": "Maybe <code>keyof Types</code>?"}], "answers": [{"comments": [{"owner": {"reputation": 46639, "user_id": 339852, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/mLxVl.jpg?s=128&g=1", "display_name": "Elliot Bonneville", "link": "https://stackoverflow.com/users/339852/elliot-bonneville"}, "edited": false, "score": 0, "creation_date": 1551881420, "post_id": 55023759, "comment_id": 96803022, "body": "This is helpful, thanks -- adopting type instead of interface gets me part of the way there. As you can see in my comment on Titian&#39;s answer, though, I&#39;m still stuck generating the union type from the array."}, {"owner": {"reputation": 109, "user_id": 11958390, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/27977f9ca6f06408867001761c4d5b5d?s=128&d=identicon&r=PG&f=1", "display_name": "raphisama", "link": "https://stackoverflow.com/users/11958390/raphisama"}, "edited": false, "score": 0, "creation_date": 1602820282, "post_id": 55023759, "comment_id": 113846412, "body": "I get <code>A computed property name in an interface must refer to an expression whose type is a literal type or a &#39;unique symbol&#39; type.ts(1169)</code>"}], "tags": [], "owner": {"reputation": 2034, "user_id": 515035, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/37ab5c5402023c0de6e27b37fce61dbe?s=128&d=identicon&r=PG", "display_name": "Dmitriy", "link": "https://stackoverflow.com/users/515035/dmitriy"}, "is_accepted": false, "score": 18, "last_activity_date": 1551877285, "creation_date": 1551877285, "answer_id": 55023759, "question_id": 55023610, "link": "https://stackoverflow.com/questions/55023610/union-type-as-key-in-interface/55023759#55023759", "title": "Union type as key in interface?", "body": "<p>You can use an object type instead of an interface, which are mostly interchangeable:</p>\n\n<pre><code>type IMargin = {\n    [key in 'foo' | 'bar']: boolean;\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 46639, "user_id": 339852, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/mLxVl.jpg?s=128&g=1", "display_name": "Elliot Bonneville", "link": "https://stackoverflow.com/users/339852/elliot-bonneville"}, "edited": false, "score": 0, "creation_date": 1551881203, "post_id": 55023762, "comment_id": 96802906, "body": "Hey, thank you for your answer. That works fine, as long as you pass in <code>(&#39;foo&#39;, &#39;bar&#39;)</code> directly. However, it doesn&#39;t work when you pass in <code>(...[&#39;foo&#39;, &#39;bar&#39;])</code>. Is there any way to fix this? The use case here is generating a type or interface from an array."}, {"owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "reply_to_user": {"reputation": 46639, "user_id": 339852, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/mLxVl.jpg?s=128&g=1", "display_name": "Elliot Bonneville", "link": "https://stackoverflow.com/users/339852/elliot-bonneville"}, "edited": false, "score": 0, "creation_date": 1551881485, "post_id": 55023762, "comment_id": 96803059, "body": "@ElliotBonneville you mean to the IIFE in <code>possibleTypes</code>?  The idea is that the array should be of a literal type that is either typed as the tuple <code>[&#39;foo&#39;, &#39;bar&#39;]</code> or the array <code>Array&lt;&#39;foo&#39; | &#39;bar&#39;&gt;</code>. If you have that array correctly typed you can just use that without the IIFE. Otherwise you either need to type assert it to something that is of one of the types above. If it&#39;s just a syntactic preference to use an array you can go with <code>const possibleTypes = (&lt;T extends string&gt;(o: T[]) =&gt; o)([&#39;foo&#39;, &#39;bar&#39;]);</code> but I like the original version better :)"}, {"owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "reply_to_user": {"reputation": 46639, "user_id": 339852, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/mLxVl.jpg?s=128&g=1", "display_name": "Elliot Bonneville", "link": "https://stackoverflow.com/users/339852/elliot-bonneville"}, "edited": false, "score": 0, "creation_date": 1551881690, "post_id": 55023762, "comment_id": 96803181, "body": "@ElliotBonneville the <code>(...[&#39;foo&#39;, &#39;bar&#39;])</code>  does not work, this a limitation of ts. The array literal will be inferred to <code>string[]</code> before the spread operation and thus the literal types are lost"}, {"owner": {"reputation": 46639, "user_id": 339852, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/mLxVl.jpg?s=128&g=1", "display_name": "Elliot Bonneville", "link": "https://stackoverflow.com/users/339852/elliot-bonneville"}, "edited": false, "score": 0, "creation_date": 1551882497, "post_id": 55023762, "comment_id": 96803666, "body": "Ah, I see. That helps more, and we&#39;re getting there! I&#39;m still getting stuck though pulling this into my actual use case. I have a feeling the string literal type is getting lost in translation somewhere. Here&#39;s what I&#39;m trying to accomplish: <a href=\"https://stackblitz.com/edit/typescript-dftj9c\" rel=\"nofollow noreferrer\">stackblitz.com/edit/typescript-dftj9c</a>"}, {"owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "reply_to_user": {"reputation": 46639, "user_id": 339852, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/mLxVl.jpg?s=128&g=1", "display_name": "Elliot Bonneville", "link": "https://stackoverflow.com/users/339852/elliot-bonneville"}, "edited": false, "score": 0, "creation_date": 1551882969, "post_id": 55023762, "comment_id": 96803970, "body": "@ElliotBonneville that is a horse of a different color .. you can&#39;t create string literal types from concatenations unfortunately. Your types are getting lost anyway because the parameters are types as <code>string[]</code> which can be solved with generics. But you still could not generate <code>prefix1_a</code> as a string literal type in the type system currently."}, {"owner": {"reputation": 46639, "user_id": 339852, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/mLxVl.jpg?s=128&g=1", "display_name": "Elliot Bonneville", "link": "https://stackoverflow.com/users/339852/elliot-bonneville"}, "edited": false, "score": 0, "creation_date": 1551883562, "post_id": 55023762, "comment_id": 96804370, "body": "Wait, I&#39;ve got it, I think. Just had to cast to <code>T</code>: <a href=\"https://stackblitz.com/edit/typescript-dftj9c\" rel=\"nofollow noreferrer\">stackblitz.com/edit/typescript-dftj9c</a>"}, {"owner": {"reputation": 46639, "user_id": 339852, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/mLxVl.jpg?s=128&g=1", "display_name": "Elliot Bonneville", "link": "https://stackoverflow.com/users/339852/elliot-bonneville"}, "edited": false, "score": 0, "creation_date": 1551883607, "post_id": 55023762, "comment_id": 96804418, "body": "Nope, close. It&#39;s not including the concatenated strings."}, {"owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "reply_to_user": {"reputation": 46639, "user_id": 339852, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/mLxVl.jpg?s=128&g=1", "display_name": "Elliot Bonneville", "link": "https://stackoverflow.com/users/339852/elliot-bonneville"}, "edited": false, "score": 0, "creation_date": 1551883692, "post_id": 55023762, "comment_id": 96804469, "body": "@ElliotBonneville trust me it&#39;s not possible to get it to work with concatenations. This is a current limitation of TS. If you want we can get it to work without those properties .. btu that is about it .."}, {"owner": {"reputation": 46639, "user_id": 339852, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/mLxVl.jpg?s=128&g=1", "display_name": "Elliot Bonneville", "link": "https://stackoverflow.com/users/339852/elliot-bonneville"}, "edited": false, "score": 0, "creation_date": 1551883856, "post_id": 55023762, "comment_id": 96804584, "body": "Gotcha. Yeah, it&#39;s straight up ignoring them. What about using Symbols or something of that nature? Is there absolutely no way to achieve this? Doesn&#39;t have to be string literals -- just some sort of unique identifier."}, {"owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "reply_to_user": {"reputation": 46639, "user_id": 339852, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/mLxVl.jpg?s=128&g=1", "display_name": "Elliot Bonneville", "link": "https://stackoverflow.com/users/339852/elliot-bonneville"}, "edited": false, "score": 0, "creation_date": 1551884037, "post_id": 55023762, "comment_id": 96804696, "body": "@ElliotBonneville If you are wiling to change you design, putting them in nested objects within the interface I think would be the most effective way to do it .."}, {"owner": {"reputation": 46639, "user_id": 339852, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/mLxVl.jpg?s=128&g=1", "display_name": "Elliot Bonneville", "link": "https://stackoverflow.com/users/339852/elliot-bonneville"}, "edited": false, "score": 0, "creation_date": 1551884189, "post_id": 55023762, "comment_id": 96804794, "body": "Ah, I see. The type or interface is used as props validation for a React component, actually, so I don&#39;t think that would work -- the structure would need to be flat I guess."}], "tags": [], "owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "is_accepted": true, "score": 2, "last_activity_date": 1551877294, "creation_date": 1551877294, "answer_id": 55023762, "question_id": 55023610, "link": "https://stackoverflow.com/questions/55023610/union-type-as-key-in-interface/55023762#55023762", "title": "Union type as key in interface?", "body": "<p>Interfaces do not support mapped types (which is what you are looing for here). You can use a type alias, for most uses it should work the same (not all cases but if the types are known you can implement the type alias just as you would the interface).</p>\n\n<pre><code>const possibleTypes = (&lt;T extends string[]&gt;(...o: T) =&gt; o)('foo', 'bar');\ntype Types = Record&lt;typeof possibleTypes[number], boolean&gt;\n</code></pre>\n\n<p>The mapped type <code>Record</code> should work will here</p>\n"}, {"tags": [], "owner": {"reputation": 328, "user_id": 3935401, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/1lLDB.jpg?s=128&g=1", "display_name": "Pablo Oliva", "link": "https://stackoverflow.com/users/3935401/pablo-oliva"}, "is_accepted": false, "score": 0, "last_activity_date": 1618394477, "creation_date": 1618394477, "answer_id": 67089592, "question_id": 55023610, "link": "https://stackoverflow.com/questions/55023610/union-type-as-key-in-interface/67089592#67089592", "title": "Union type as key in interface?", "body": "<p>This is not necessarily an answer, but I think this may interest others.</p>\n<p>You can use a Union Type <strong>as a key in a sub-property</strong> of an Interface.</p>\n<pre><code>export type Language = 'EN' | 'DE' | 'IT';\n\nexport interface Document {\n  generic: string;\n  languages: {\n    [key in Language]: string[];\n  }\n}\n</code></pre>\n"}], "owner": {"reputation": 46639, "user_id": 339852, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/mLxVl.jpg?s=128&g=1", "display_name": "Elliot Bonneville", "link": "https://stackoverflow.com/users/339852/elliot-bonneville"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 6548, "favorite_count": 0, "accepted_answer_id": 55023762, "answer_count": 3, "score": 13, "last_activity_date": 1618394477, "creation_date": 1551876833, "question_id": 55023610, "link": "https://stackoverflow.com/questions/55023610/union-type-as-key-in-interface", "title": "Union type as key in interface?", "body": "<p>Is it possible to use a union type as a key in an interface? For example, I want to do something like this:</p>\n\n<pre><code>interface IMargin {\n  [key in 'foo' | 'bar']: boolean;\n}\n</code></pre>\n\n<p>But I'm getting this error:</p>\n\n<blockquote>\n  <p>A computed property name in an interface must refer to an expression whose type is a literal type or a 'unique symbol' type.ts(1169)</p>\n</blockquote>\n\n<p>Is there any way around this?</p>\n\n<p>The use case is turning an array of values into an interface:</p>\n\n<pre><code>const possibleTypes = ['foo', 'bar'];\ninterface Types {\n    foo?: boolean;\n    bar?: boolean;\n}\n</code></pre>\n"}, {"tags": ["javascript", "angular", "typescript", "angular-components", "angular-module"], "comments": [{"owner": {"reputation": 1739, "user_id": 885338, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/9641b362641b2516869b0f56cbb2c5fc?s=128&d=identicon&r=PG", "display_name": "Arikael", "link": "https://stackoverflow.com/users/885338/arikael"}, "edited": false, "score": 0, "creation_date": 1551940569, "post_id": 55023607, "comment_id": 96826398, "body": "will your factory method in the file <code>app.component.ts</code> or even in the component?"}, {"owner": {"reputation": 1658, "user_id": 6475284, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/4be636df95ad64c032e87d6796cf4e56?s=128&d=identicon&r=PG&f=1", "display_name": "Codehan25", "link": "https://stackoverflow.com/users/6475284/codehan25"}, "reply_to_user": {"reputation": 1739, "user_id": 885338, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/9641b362641b2516869b0f56cbb2c5fc?s=128&d=identicon&r=PG", "display_name": "Arikael", "link": "https://stackoverflow.com/users/885338/arikael"}, "edited": false, "score": 0, "creation_date": 1551944408, "post_id": 55023607, "comment_id": 96828023, "body": "Hmm, I just do not know you mean. I want to move the factory to app.component.ts, so my AppModule is empty."}, {"owner": {"reputation": 1739, "user_id": 885338, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/9641b362641b2516869b0f56cbb2c5fc?s=128&d=identicon&r=PG", "display_name": "Arikael", "link": "https://stackoverflow.com/users/885338/arikael"}, "edited": false, "score": 0, "creation_date": 1551947558, "post_id": 55023607, "comment_id": 96829496, "body": "could you update the question with the code you currently use? (with the factory in <code>app.component.ts</code> and how you use it in your module)"}], "answers": [{"comments": [{"owner": {"reputation": 1658, "user_id": 6475284, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/4be636df95ad64c032e87d6796cf4e56?s=128&d=identicon&r=PG&f=1", "display_name": "Codehan25", "link": "https://stackoverflow.com/users/6475284/codehan25"}, "edited": false, "score": 0, "creation_date": 1551890283, "post_id": 55025817, "comment_id": 96808659, "body": "True, I did not think about the import. It just wondered me that it was placed in the AppModule as an exported function. I\u2018ll try it tomorrow. Thank you."}, {"owner": {"reputation": 1658, "user_id": 6475284, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/4be636df95ad64c032e87d6796cf4e56?s=128&d=identicon&r=PG&f=1", "display_name": "Codehan25", "link": "https://stackoverflow.com/users/6475284/codehan25"}, "edited": false, "score": 0, "creation_date": 1551946154, "post_id": 55025817, "comment_id": 96828862, "body": "Unfortunately it does not work. I have just noticed that I can not use the function as an exported function, but must call within my AppComponent class, so I have access to my services. Is there a possibility for that?"}, {"owner": {"reputation": 1739, "user_id": 885338, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/9641b362641b2516869b0f56cbb2c5fc?s=128&d=identicon&r=PG", "display_name": "Arikael", "link": "https://stackoverflow.com/users/885338/arikael"}, "edited": false, "score": 0, "creation_date": 1551947700, "post_id": 55025817, "comment_id": 96829568, "body": "you can inject services in a factory function. there is no need to instanciate a whole component. which will lead to problems anyway, because components are not meant to be used like that. If you show us your code including all the services you need, we can better help you :)"}], "tags": [], "owner": {"reputation": 34409, "user_id": 102181, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/a8bf03194a8ab9e09c26a38ee0404315?s=128&d=identicon&r=PG", "display_name": "Hoff", "link": "https://stackoverflow.com/users/102181/hoff"}, "is_accepted": false, "score": 0, "last_activity_date": 1551883631, "creation_date": 1551883631, "answer_id": 55025817, "question_id": 55023607, "link": "https://stackoverflow.com/questions/55023607/move-factory-method-from-appmodule-to-appcomponent-in-angular-7/55025817#55025817", "title": "Move factory method from AppModule to AppComponent in Angular 7", "body": "<p>It really should not matter where you define your factory, or any other function for that matter. Just be sure to import it correctly, somewhere in the top of <code>app.module.ts</code></p>\n\n<pre><code>import {multiTranslateHttpLoaderFactory} from 'path/to/your/component'\n</code></pre>\n"}], "owner": {"reputation": 1658, "user_id": 6475284, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/4be636df95ad64c032e87d6796cf4e56?s=128&d=identicon&r=PG&f=1", "display_name": "Codehan25", "link": "https://stackoverflow.com/users/6475284/codehan25"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 158, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1551883631, "creation_date": 1551876817, "question_id": 55023607, "link": "https://stackoverflow.com/questions/55023607/move-factory-method-from-appmodule-to-appcomponent-in-angular-7", "title": "Move factory method from AppModule to AppComponent in Angular 7", "body": "<p>I use <a href=\"https://github.com/denniske/ngx-translate-multi-http-loader\" rel=\"nofollow noreferrer\">ngx-translate-multi-http-loader</a> loader to create specific translations. The documentation requires that this factory has to be created within the app.module.ts:</p>\n\n<pre><code>export function multiTranslateHttpLoaderFactory(http: HttpClient) {\n  return new MultiTranslateHttpLoader(http, [\n    {prefix: './assets/i18n/default/', suffix: '.json'},\n    {prefix: './assets/i18n/bc/', suffix: '.json'}\n  ]);\n}\n</code></pre>\n\n<p>This factory is configured inside the import arrays in this way:</p>\n\n<pre><code>TranslateModule.forRoot({\n  loader: {\n    provide: TranslateLoader,\n    useFactory: multiTranslateHttpLoaderFactory,\n    deps: [HttpClient]\n  }\n}),\n</code></pre>\n\n<p>I need a way to put the factory into my app.component.ts, because I still have to program some logic and do not want to do that within my app.module.ts. </p>\n\n<p>But if I move the method into my app.component.ts and make all the necessary import statements on top of the file, angular doesn't compile and returns this error message:</p>\n\n<blockquote>\n  <p>ERROR in src / app / app.module.ts (55,21): error TS2304: Can not find\n  name 'multiTranslateHttpLoaderFactory'.</p>\n</blockquote>\n\n<p>Is there a possibility or do I really have to define the factory within app.module.ts ???</p>\n"}, {"tags": ["typescript"], "comments": [{"owner": {"reputation": 5062, "user_id": 5011469, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/u3AwK.jpg?s=128&g=1", "display_name": "OliverRadini", "link": "https://stackoverflow.com/users/5011469/oliverradini"}, "edited": false, "score": 0, "creation_date": 1551876841, "post_id": 55023523, "comment_id": 96800266, "body": "I asked something slightly similar a while ago, does it help at all?: <a href=\"https://stackoverflow.com/questions/54199582/typing-removal-of-a-key-from-an-object\" title=\"typing removal of a key from an object\">stackoverflow.com/questions/54199582/&hellip;</a>"}, {"owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "reply_to_user": {"reputation": 5062, "user_id": 5011469, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/u3AwK.jpg?s=128&g=1", "display_name": "OliverRadini", "link": "https://stackoverflow.com/users/5011469/oliverradini"}, "edited": false, "score": 0, "creation_date": 1551877085, "post_id": 55023523, "comment_id": 96800404, "body": "@OliverRadini forgot I answered that :))"}, {"owner": {"reputation": 5062, "user_id": 5011469, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/u3AwK.jpg?s=128&g=1", "display_name": "OliverRadini", "link": "https://stackoverflow.com/users/5011469/oliverradini"}, "reply_to_user": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "edited": false, "score": 1, "creation_date": 1551877313, "post_id": 55023523, "comment_id": 96800528, "body": "@TitianCernicova-Dragomir haha I was wondering if you&#39;d answer this one, your answer to my question was very useful!"}, {"owner": {"reputation": 39, "user_id": 2890476, "user_type": "registered", "profile_image": "https://graph.facebook.com/1609149844/picture?type=large", "display_name": "skillmotion", "link": "https://stackoverflow.com/users/2890476/skillmotion"}, "reply_to_user": {"reputation": 5062, "user_id": 5011469, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/u3AwK.jpg?s=128&g=1", "display_name": "OliverRadini", "link": "https://stackoverflow.com/users/5011469/oliverradini"}, "edited": false, "score": 1, "creation_date": 1551878182, "post_id": 55023523, "comment_id": 96801048, "body": "Thanks for the hint @OliverRadini. The problem is quite similar but for my purpose i had to be able to exclude 1+ keys"}], "answers": [{"comments": [{"owner": {"reputation": 39, "user_id": 2890476, "user_type": "registered", "profile_image": "https://graph.facebook.com/1609149844/picture?type=large", "display_name": "skillmotion", "link": "https://stackoverflow.com/users/2890476/skillmotion"}, "edited": false, "score": 0, "creation_date": 1551878116, "post_id": 55023646, "comment_id": 96801000, "body": "Thank you so much (actually: again ;)). I work&#39;s perfectly fine now"}], "tags": [], "owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "is_accepted": true, "score": 2, "last_activity_date": 1551876970, "creation_date": 1551876970, "answer_id": 55023646, "question_id": 55023523, "link": "https://stackoverflow.com/questions/55023523/return-an-object-without-certain-keys-dynamic-typesafe/55023646#55023646", "title": "Return an object without certain keys (dynamic, typesafe)", "body": "<p>You are very close you just need to get the compiler to infer literal types for <code>K</code>. The best way to do this is to restrict the items in <code>K</code> to <code>keyof T</code>. This will also check that property keys are part of the target object.</p>\n\n<pre><code>export function except&lt;\n  T extends Record&lt;string, any&gt;,\n  K extends Array&lt;keyof T&gt;,\n  R extends Pick&lt;T, Exclude&lt;keyof T, K[number]&gt;&gt;\n&gt; (value: T, ...exceptions: K): R {\n  const copy: Record&lt;string, any&gt; = {}\n  for (const key in value) {\n    if (!value.hasOwnProperty(key) || exceptions.includes(key)) continue\n\n    copy[key] = value[key]\n  }\n\n  return copy as R\n}\n\nconst obj = { a: true, b: 1, c: 'test', d: false }\nconst objExcept = except(obj, 'b', 'd')\nobjExcept.a\nobjExcept.b //err\n</code></pre>\n\n<p>If you want to allow any keys not necessarily just known keys of <code>T</code> you can also use <code>K extends Array&lt;PropertyKey&gt;</code> this will allow any key but exclude any keys that overlap from <code>T</code></p>\n"}], "owner": {"reputation": 39, "user_id": 2890476, "user_type": "registered", "profile_image": "https://graph.facebook.com/1609149844/picture?type=large", "display_name": "skillmotion", "link": "https://stackoverflow.com/users/2890476/skillmotion"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 44, "favorite_count": 0, "accepted_answer_id": 55023646, "answer_count": 1, "score": 1, "last_activity_date": 1551876970, "creation_date": 1551876540, "question_id": 55023523, "link": "https://stackoverflow.com/questions/55023523/return-an-object-without-certain-keys-dynamic-typesafe", "title": "Return an object without certain keys (dynamic, typesafe)", "body": "<p>I'm trying to implement a \"except\"-method in TypeScript.\nThe purpose would be something like this:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>const obj = { a: true, b: 1, c: 'test', d: false }\nconst objExcept = except(obj, 'b', 'd')\n</code></pre>\n\n<p>My problem is not the actual key exclusion, but the <strong>typesafe</strong> return value.\nIdeally accessing <code>objExcept.b</code> should give me an error, cause the return value is:</p>\n\n<pre><code>objExcept: { a: boolean, c: string } = { a: true, c: 'test' }`\n</code></pre>\n\n<p>This is my current implementation</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>export function except&lt;\n  T extends Dictionary,\n  K extends any[],\n  R extends Pick&lt;T, Exclude&lt;keyof T, K[number]&gt;&gt;\n&gt; (value: T, ...exceptions: K): R {\n  const copy: Record&lt;string: any&gt; = {}\n  for (const key in value) {\n    if (!value.hasOwnProperty(key) || exceptions.includes(key)) continue\n\n    copy[key] = value[key]\n  }\n\n  return copy as R\n}\n</code></pre>\n\n<p>Many thanks in advance</p>\n"}, {"tags": ["reactjs", "typescript", "react-router-v4", "react-hooks"], "comments": [{"owner": {"reputation": 81718, "user_id": 3617886, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/y26OT.jpg?s=128&g=1", "display_name": "Tholle", "link": "https://stackoverflow.com/users/3617886/tholle"}, "edited": false, "score": 0, "creation_date": 1551877636, "post_id": 55023221, "comment_id": 96800727, "body": "Does it work if you as an experiment change the logged in state to <code>useState(true)</code>?"}, {"owner": {"reputation": 695, "user_id": 3942132, "user_type": "registered", "profile_image": "https://graph.facebook.com/1661647564/picture?type=large", "display_name": "Roie Beck", "link": "https://stackoverflow.com/users/3942132/roie-beck"}, "reply_to_user": {"reputation": 81718, "user_id": 3617886, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/y26OT.jpg?s=128&g=1", "display_name": "Tholle", "link": "https://stackoverflow.com/users/3617886/tholle"}, "edited": false, "score": 0, "creation_date": 1551878835, "post_id": 55023221, "comment_id": 96801444, "body": "@Tholle , yes, it does when setting : isSignedIn={true} , it works, But I have tested the useEffect and made sure when the isValid() function return that the components is re-render"}, {"owner": {"reputation": 695, "user_id": 3942132, "user_type": "registered", "profile_image": "https://graph.facebook.com/1661647564/picture?type=large", "display_name": "Roie Beck", "link": "https://stackoverflow.com/users/3942132/roie-beck"}, "reply_to_user": {"reputation": 81718, "user_id": 3617886, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/y26OT.jpg?s=128&g=1", "display_name": "Tholle", "link": "https://stackoverflow.com/users/3617886/tholle"}, "edited": false, "score": 1, "creation_date": 1551880457, "post_id": 55023221, "comment_id": 96802432, "body": "@Tholle, that help me figure out the issue, because at the beginning I am not logged in after it is redirecting me to /wallet/login i need to check this first:    { isLoggedIn ? &lt;Redirect to=&quot;/wallet/portfolio&quot;/&gt; : &quot;&quot; }  only if the user is not logged in can I continue to redirect or register"}], "answers": [{"tags": [], "owner": {"reputation": 695, "user_id": 3942132, "user_type": "registered", "profile_image": "https://graph.facebook.com/1661647564/picture?type=large", "display_name": "Roie Beck", "link": "https://stackoverflow.com/users/3942132/roie-beck"}, "is_accepted": true, "score": 0, "last_activity_date": 1551880756, "creation_date": 1551880756, "answer_id": 55024873, "question_id": 55023221, "link": "https://stackoverflow.com/questions/55023221/react-router-dom-with-react-hooks-does-not-redirect-to-correct-route/55024873#55024873", "title": "react-router-dom with react hooks Does not redirect to correct route", "body": "<p>@Tholle helped me understand the issue, \nbecause at first the user is not authenticated(until JWT is authed by the server -> async) we need to add the following in the react dom Switch:</p>\n\n<pre><code>&lt;BrowserRouter&gt;\n    &lt;Switch&gt;\n        &lt;PrivateRoute exact path=\"/wallet/portfolio\"  component={AppPortfolio}  isSignedIn={isLoggedIn}/&gt;\n                    /*all other private routes here*/\n        { isLoggedIn ? &lt;Redirect to=\"/wallet/portfolio\"/&gt; : \"\" }\n        &lt;Route exact path=\"/wallet/login\" component={AppLogin} /&gt;\n        &lt;Route exact path=\"/wallet/register\" component={AppRegister} /&gt;\n        &lt;Redirect to={isLoggedIn ? \"/wallet/portfolio\" : \"/wallet/login\"}/&gt;\n    &lt;/Switch&gt;\n&lt;/BrowserRouter&gt;\n</code></pre>\n\n<p>of course the downside is that if user is logged in he will not be able to go to any public page(like registration), but I can live with that...</p>\n\n<p>thanks @Tholle</p>\n"}], "owner": {"reputation": 695, "user_id": 3942132, "user_type": "registered", "profile_image": "https://graph.facebook.com/1661647564/picture?type=large", "display_name": "Roie Beck", "link": "https://stackoverflow.com/users/3942132/roie-beck"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1909, "favorite_count": 0, "accepted_answer_id": 55024873, "answer_count": 1, "score": 0, "last_activity_date": 1551880756, "creation_date": 1551875625, "question_id": 55023221, "link": "https://stackoverflow.com/questions/55023221/react-router-dom-with-react-hooks-does-not-redirect-to-correct-route", "title": "react-router-dom with react hooks Does not redirect to correct route", "body": "<p>I am new to react and I am sure there is an explanation I do not understand, but I cannot find an answer...</p>\n\n<p>I Want to app if user is logged in,so I followed some guide and created HOC(PrivateRoute) but for some reason I keep ending up in the login page of the app,</p>\n\n<p>Even if localStorage contains a valid JWT and I am asking for the specific path(/wallet/portfolio),  it is still redirecting me to login page,\ncan someone please help me understand the issue(I am using typescript but I am sure it is unrelated to the issue)</p>\n\n<p>My Main Component(App.tsx)</p>\n\n<pre><code>//imports...\n\nexport const App = () =&gt; {\n    const[jWTContext, setJWTContext] = useState(jWTContextInitialState);\n    const[isLoggedIn, setIsLoggedIn] = useState(false);\n\n    useEffect(() =&gt; {\n        if (!isLoggedIn) {\n            jWTContext.isValid().then(loggedIn =&gt; {\n                    setIsLoggedIn(loggedIn);\n                }\n            ).catch(() =&gt; {setIsLoggedIn(false)});\n        }\n    });\n    return (\n        &lt;JWTContext.Provider value={jWTContext}&gt;\n            &lt;BrowserRouter&gt;\n                &lt;Switch&gt;\n                    &lt;PrivateRoute exact path=\"/wallet/portfolio\"  component={AppPortfolio}  isSignedIn={isLoggedIn}/&gt;\n                    &lt;Route exact path=\"/wallet/login\" component={AppLogin} /&gt;\n                    &lt;Route exact path=\"/wallet/register\" component={AppRegister} /&gt;\n                    &lt;Redirect to={isLoggedIn ? \"/wallet/portfolio\" : \"/wallet/login\"}/&gt;\n                &lt;/Switch&gt;\n            &lt;/BrowserRouter&gt;\n        &lt;/JWTContext.Provider&gt;\n    );\n};\n</code></pre>\n\n<p>PrivateRoute.tsx(copied from a guide on the web...)</p>\n\n<pre><code>import * as React from 'react';\nimport {Route, Redirect, RouteProps} from 'react-router-dom';\n\ninterface PrivateRouteProps extends RouteProps {\n    component: any;\n    isSignedIn: boolean;\n}\n\nconst PrivateRoute = (props: PrivateRouteProps) =&gt; {\n    const { component: Component, isSignedIn, ...rest } = props;\n\n    return (\n        &lt;Route\n            {...rest}\n            render={(routeProps) =&gt;\n                isSignedIn ? (\n                    &lt;Component {...routeProps} /&gt;\n                ) : (\n                    &lt;Redirect\n                        to={{\n                            pathname: '/wallet/login',\n                            state: { from: routeProps.location }\n                        }}\n                    /&gt;\n                )\n            }\n        /&gt;\n    );\n};\n\nexport default PrivateRoute;\n</code></pre>\n\n<p>JWTContext.tsx(My Context provider):</p>\n\n<pre><code>import React from 'react';\nimport {JWTBody, JWTHeader, JWTToken} from \"../interfaces/JWTToken\"\n\nexport interface JWTContext {\n    jWTToken: JWTToken | null;\n    setJWTToken(jWTToken: JWTToken | null): void;\n    isValid(): Promise&lt;boolean&gt;;\n    updateFromLocalStorage(): (JWTToken | null);\n}\n\nexport const jWTContextInitialState : JWTContext = {\n    jWTToken: initFromLocalStorage(),\n\n    setJWTToken: (jWTToken) =&gt; {\n        jWTContextInitialState.jWTToken = jWTToken;\n    },\n\n    isValid: async() =&gt; {\n        if (jWTContextInitialState.jWTToken) {\n            let response = await fetch(\"/auth/tokenvalid\",{\n                method: \"GET\",\n                headers: {\n                    \"Content-Type\": \"application/json\",\n                    \"Authorization\": JSON.stringify(jWTContextInitialState.jWTToken)}});\n            let res = await response.json();\n            if (res.code === 200)\n                return true;\n        }\n        return false;\n    },\n\n    updateFromLocalStorage: () =&gt; {\n        return initFromLocalStorage()\n    }\n};\n\nfunction initFromLocalStorage() {\n    let localStorageToken = localStorage.getItem(\"velonaJWT\");\n    if (localStorageToken) {\n        return parseJwt(localStorageToken);\n    }\n    return null;\n}\n\n\nfunction parseJwt (token: string): JWTToken {\n    token = token.replace(\"Bearer \", \"\");\n    let tokenArray = token.split('.');\n\n    let header = tokenArray[0];\n    header = header.replace('-', '+').replace('_', '/');\n    let bufferHeader = Buffer.from(header, \"base64\");\n    let dataHeader: JWTHeader =  JSON.parse(bufferHeader.toString());\n\n    let body = tokenArray[1];\n    body = body.replace('-', '+').replace('_', '/');\n    let bufferBody = Buffer.from(body, \"base64\");\n    let dataBody: JWTBody =  JSON.parse(bufferBody.toString());\n\n    return ({\n        header: dataHeader,\n        body: dataBody,\n        sig: tokenArray[2]\n    });\n    //return  JWTToken(JSON.parse(bufferHeader.toString()), JSON.parse(bufferBody.toString()), tokenArray[2])\n}\n\n\nexport const JWTContext = React.createContext(jWTContextInitialState);\n</code></pre>\n\n<p>and finally the (JWTToken.tsx -> just for interfaces)</p>\n\n<pre><code>\n// represent velona WJT token\nexport interface JWTToken {\n    header: JWTHeader,\n    body: JWTBody,\n    sig: string,\n}\n\nexport interface JWTHeader {\n    typ: string,\n    alg: string\n}\n\nexport interface JWTBody {\n    sub: number,\n    jti: string,\n    authorities: Authorities[],\n    iat: number,\n    nbf: number,\n    exp: number,\n    environment: string\n}\n\nexport enum Authorities {\n    ROLE_USER,\n    ROLE_TRUSTEE,\n    ROLE_EMPLOYEE,\n    ROLE_ADMIN\n}\n</code></pre>\n"}, {"tags": ["angular", "typescript", "observable", "subscribe"], "comments": [{"owner": {"reputation": 6901, "user_id": 7436489, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d3f27318e4582da71b5ed0f0dc453100?s=128&d=identicon&r=PG&f=1", "display_name": "Roberto Zvjerkovi\u0107", "link": "https://stackoverflow.com/users/7436489/roberto-zvjerkovi%c4%87"}, "edited": false, "score": 0, "creation_date": 1551875742, "post_id": 55023220, "comment_id": 96799682, "body": "What did you expect? <code>canAddUser: boolean;</code> means <code>canAddUser = undefined</code>."}, {"owner": {"reputation": 3911, "user_id": 5013729, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/02a313b0cc0da17999a1aea6cf89188a?s=128&d=identicon&r=PG", "display_name": "Bear Nithi", "link": "https://stackoverflow.com/users/5013729/bear-nithi"}, "edited": false, "score": 0, "creation_date": 1551875752, "post_id": 55023220, "comment_id": 96799691, "body": "where did you console.log(), because your console.log() in other places might be executed before the value is assigned to the this.canAddUser"}, {"owner": {"reputation": 4686, "user_id": 6736888, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b2f70e865bb04192d8afa5fb27e88c3d?s=128&d=identicon&r=PG&f=1", "display_name": "penleychan", "link": "https://stackoverflow.com/users/6736888/penleychan"}, "edited": false, "score": 0, "creation_date": 1551875837, "post_id": 55023220, "comment_id": 96799733, "body": "Makes sense. You&#39;re not setting anything to your variable as the initial state thus undefined"}, {"owner": {"reputation": 2114, "user_id": 2093029, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/6bc1e235ce01688c66b0de5eba246c2e?s=128&d=identicon&r=PG&f=1", "display_name": "umutesen", "link": "https://stackoverflow.com/users/2093029/umutesen"}, "edited": false, "score": 1, "creation_date": 1551875840, "post_id": 55023220, "comment_id": 96799734, "body": "Well, your console log call is within the subscribe so it will be ran when it has finished getting the result from the API. until then, <code>canAddUser</code> is undefined."}, {"owner": {"reputation": 371, "user_id": 8939031, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-ooI2qyR9zGs/AAAAAAAAAAI/AAAAAAAAAFM/gN7yiC94FIs/photo.jpg?sz=128", "display_name": "Exitl0l", "link": "https://stackoverflow.com/users/8939031/exitl0l"}, "reply_to_user": {"reputation": 3911, "user_id": 5013729, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/02a313b0cc0da17999a1aea6cf89188a?s=128&d=identicon&r=PG", "display_name": "Bear Nithi", "link": "https://stackoverflow.com/users/5013729/bear-nithi"}, "edited": false, "score": 0, "creation_date": 1551875855, "post_id": 55023220, "comment_id": 96799740, "body": "@BearNithi for example right after ** this.checkExistingEmail()** it gets the values wrong as I mentioned."}, {"owner": {"reputation": 3911, "user_id": 5013729, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/02a313b0cc0da17999a1aea6cf89188a?s=128&d=identicon&r=PG", "display_name": "Bear Nithi", "link": "https://stackoverflow.com/users/5013729/bear-nithi"}, "edited": false, "score": 0, "creation_date": 1551875941, "post_id": 55023220, "comment_id": 96799793, "body": "yes that&#39;s undefined bcz, your <code>findPrivilegedUsersUsingGET</code> is a service call, it&#39;s asynchronous.  so before it returns the response. the <code>console.log</code> after the <code>checkExistingEmail</code> executes. so it&#39;s undefined"}, {"owner": {"reputation": 371, "user_id": 8939031, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-ooI2qyR9zGs/AAAAAAAAAAI/AAAAAAAAAFM/gN7yiC94FIs/photo.jpg?sz=128", "display_name": "Exitl0l", "link": "https://stackoverflow.com/users/8939031/exitl0l"}, "reply_to_user": {"reputation": 2114, "user_id": 2093029, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/6bc1e235ce01688c66b0de5eba246c2e?s=128&d=identicon&r=PG&f=1", "display_name": "umutesen", "link": "https://stackoverflow.com/users/2093029/umutesen"}, "edited": false, "score": 0, "creation_date": 1551876005, "post_id": 55023220, "comment_id": 96799831, "body": "@UmutEsen but why is it still undefined or not correct if i log <code>canAddUser</code> after the function that handles the value assign?"}, {"owner": {"reputation": 6901, "user_id": 7436489, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d3f27318e4582da71b5ed0f0dc453100?s=128&d=identicon&r=PG&f=1", "display_name": "Roberto Zvjerkovi\u0107", "link": "https://stackoverflow.com/users/7436489/roberto-zvjerkovi%c4%87"}, "edited": false, "score": 1, "creation_date": 1551876148, "post_id": 55023220, "comment_id": 96799897, "body": "Because it&#39;s not &quot;after&quot; the handling of the function. It&#39;s after <i>calling</i> of the function. Observables are asynchronous and you need to subscribe to them. They take time to call the callback. <a href=\"https://angular.io/guide/observables\" rel=\"nofollow noreferrer\">angular.io/guide/observables</a>"}, {"owner": {"reputation": 1911, "user_id": 5369031, "user_type": "registered", "accept_rate": 43, "profile_image": "https://i.stack.imgur.com/uL0Gy.jpg?s=128&g=1", "display_name": "Arpit Kumar", "link": "https://stackoverflow.com/users/5369031/arpit-kumar"}, "edited": false, "score": 0, "creation_date": 1551876442, "post_id": 55023220, "comment_id": 96800056, "body": "@AlexBene, Make use of <code>Observable</code> or <code>Subject</code> or <code>BehaviorSubject</code> instead."}, {"owner": {"reputation": 371, "user_id": 8939031, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-ooI2qyR9zGs/AAAAAAAAAAI/AAAAAAAAAFM/gN7yiC94FIs/photo.jpg?sz=128", "display_name": "Exitl0l", "link": "https://stackoverflow.com/users/8939031/exitl0l"}, "reply_to_user": {"reputation": 1911, "user_id": 5369031, "user_type": "registered", "accept_rate": 43, "profile_image": "https://i.stack.imgur.com/uL0Gy.jpg?s=128&g=1", "display_name": "Arpit Kumar", "link": "https://stackoverflow.com/users/5369031/arpit-kumar"}, "edited": false, "score": 0, "creation_date": 1551876585, "post_id": 55023220, "comment_id": 96800136, "body": "@ArpitMeena Can you give me a short example to better understand?"}, {"owner": {"reputation": 449, "user_id": 9303950, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-Rah0mFHfa9Y/AAAAAAAAAAI/AAAAAAAAARQ/tKwHAEVbP-A/photo.jpg?sz=128", "display_name": "ashish pal", "link": "https://stackoverflow.com/users/9303950/ashish-pal"}, "edited": false, "score": 0, "creation_date": 1551876883, "post_id": 55023220, "comment_id": 96800290, "body": "can not use async values synchronously, this may help you <a href=\"https://stackoverflow.com/questions/39405962/angular2-set-variable-on-subscribe-not-working\" title=\"angular2 set variable on subscribe not working\">stackoverflow.com/questions/39405962/&hellip;</a>"}], "answers": [{"comments": [{"owner": {"reputation": 371, "user_id": 8939031, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-ooI2qyR9zGs/AAAAAAAAAAI/AAAAAAAAAFM/gN7yiC94FIs/photo.jpg?sz=128", "display_name": "Exitl0l", "link": "https://stackoverflow.com/users/8939031/exitl0l"}, "edited": false, "score": 0, "creation_date": 1551876332, "post_id": 55023399, "comment_id": 96800003, "body": "I got that what is async I am interested in how to solve this. So the value of canAddUser will be correct not just within the subscribtion but outside of it."}, {"owner": {"reputation": 2114, "user_id": 2093029, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/6bc1e235ce01688c66b0de5eba246c2e?s=128&d=identicon&r=PG&f=1", "display_name": "umutesen", "link": "https://stackoverflow.com/users/2093029/umutesen"}, "reply_to_user": {"reputation": 371, "user_id": 8939031, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-ooI2qyR9zGs/AAAAAAAAAAI/AAAAAAAAAFM/gN7yiC94FIs/photo.jpg?sz=128", "display_name": "Exitl0l", "link": "https://stackoverflow.com/users/8939031/exitl0l"}, "edited": false, "score": 0, "creation_date": 1551876839, "post_id": 55023399, "comment_id": 96800265, "body": "The value of canAddUser will be correct outside the subscription <b>once</b> asynchronous work is complete. You can write a function and call that from within the subscribe, if you don&#39;t want to have so many lines of code in the subscribe."}], "tags": [], "owner": {"reputation": 2114, "user_id": 2093029, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/6bc1e235ce01688c66b0de5eba246c2e?s=128&d=identicon&r=PG&f=1", "display_name": "umutesen", "link": "https://stackoverflow.com/users/2093029/umutesen"}, "is_accepted": false, "score": 0, "last_activity_date": 1551876642, "last_edit_date": 1551876642, "creation_date": 1551876142, "answer_id": 55023399, "question_id": 55023220, "link": "https://stackoverflow.com/questions/55023220/boolean-value-undefined-outside-of-subscribtion/55023399#55023399", "title": "Boolean value undefined outside of subscribtion?", "body": "<p>Your <code>findPrivilegedUsersUsingGET</code> function is asynchronous. This means it can take a few seconds or even minutes to complete. <code>canAddUser</code> will only be true or false at the end of the async call.</p>\n\n<pre><code>canAddUser: boolean; // undefined \n\n\n// this can take a while to complete.\nthis.userService.findPrivilegedUsersUsingGET().subscribe(users =&gt; {\n      const mailIndex = users.findIndex(user =&gt; user.email === this.formUser.email);\n      mailIndex !== -1 ? this.canAddUser = false : this.canAddUser = true;\n\n      // do work here          \n      console.log(this.canAddUser);\n      this.doWork();\n});\n\ndoWork() {\n     console.log(this.canAddUser);\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 639, "user_id": 3456021, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6d1cd14813b3135483cea7581a6ab769?s=128&d=identicon&r=PG&f=1", "display_name": "Askirkela", "link": "https://stackoverflow.com/users/3456021/askirkela"}, "is_accepted": false, "score": 0, "last_activity_date": 1551877944, "creation_date": 1551877944, "answer_id": 55023956, "question_id": 55023220, "link": "https://stackoverflow.com/questions/55023220/boolean-value-undefined-outside-of-subscribtion/55023956#55023956", "title": "Boolean value undefined outside of subscribtion?", "body": "<p>Basic answer, but you could just initialize your <code>canAddUser</code> to whatever you want be the default.</p>\n\n<p><code>canAddUser = false;</code> for example.</p>\n"}, {"comments": [{"owner": {"reputation": 371, "user_id": 8939031, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-ooI2qyR9zGs/AAAAAAAAAAI/AAAAAAAAAFM/gN7yiC94FIs/photo.jpg?sz=128", "display_name": "Exitl0l", "link": "https://stackoverflow.com/users/8939031/exitl0l"}, "edited": false, "score": 2, "creation_date": 1551953370, "post_id": 55024562, "comment_id": 96833101, "body": "Thanks a lot your last answer helped me the most. It&#39;s working now as expected."}, {"owner": {"reputation": 592, "user_id": 2139370, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/kjc3c.jpg?s=128&g=1", "display_name": "Parrotmaster", "link": "https://stackoverflow.com/users/2139370/parrotmaster"}, "edited": false, "score": 1, "creation_date": 1565787404, "post_id": 55024562, "comment_id": 101459951, "body": "The last code snippet did more to help me than 5 hours of googling did."}], "tags": [], "owner": {"reputation": 6901, "user_id": 7436489, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d3f27318e4582da71b5ed0f0dc453100?s=128&d=identicon&r=PG&f=1", "display_name": "Roberto Zvjerkovi\u0107", "link": "https://stackoverflow.com/users/7436489/roberto-zvjerkovi%c4%87"}, "is_accepted": true, "score": 2, "last_activity_date": 1551951531, "last_edit_date": 1551951531, "creation_date": 1551879837, "answer_id": 55024562, "question_id": 55023220, "link": "https://stackoverflow.com/questions/55023220/boolean-value-undefined-outside-of-subscribtion/55024562#55024562", "title": "Boolean value undefined outside of subscribtion?", "body": "<p>You can not guarantee to have your flag already assigned to anywhere in your code if you don't subscribe the async operation.</p>\n\n<p>What I would do is change the boolean flag to the Subject:</p>\n\n<p><code>canAddUser$: Subject&lt;boolean&gt;;</code></p>\n\n<p>Emit the value when needed:</p>\n\n<pre><code>mailIndex !== -1 ? this.canAddUser$.next(false): this.canAddUser$.next(true);\n// this.canAddUser$.next(mailIndex === -1);\n</code></pre>\n\n<p>And when you need it, subscribe to it:</p>\n\n<pre><code>someFunction() {\n    this.canAddUser$.subscribe(canAdd =&gt; {\n        // Here *canAdd* is a boolean\n    })\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 42740, "user_id": 1031569, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/MTZr2.png?s=128&g=1", "display_name": "Reactgular", "link": "https://stackoverflow.com/users/1031569/reactgular"}, "is_accepted": false, "score": 0, "last_activity_date": 1551879879, "creation_date": 1551879879, "answer_id": 55024575, "question_id": 55023220, "link": "https://stackoverflow.com/questions/55023220/boolean-value-undefined-outside-of-subscribtion/55024575#55024575", "title": "Boolean value undefined outside of subscribtion?", "body": "<p>You can eagerly load the list of users, and then pass the users to your component's functions via the template. </p>\n\n<p>In your component:</p>\n\n<pre><code>public users$: Observable&lt;any[]&gt;;\n\npublic ngOnInit() {\n    this.users$ = this.userService.findPrivilegedUsersUsingGET().pipe(share());\n}\n\nsetNewUserValues(users: any[]) {\n    if (this.formUser.email) {\n        this.checkExistingEmail(users);\n    }\n}\n\ncheckExistingEmail(users: any[]) {\n   this.mailIndex = users.findIndex(user =&gt; user.email === this.formUser.email);\n   this.validateEmail(this.mailIndex);\n   console.log(this.canAddUser);\n}\n\nprivate validateEmail(index: number) {\n   index !== -1 ? this.canAddUser = false : this.canAddUser = true;\n}\n</code></pre>\n\n<p>In your template:</p>\n\n<pre><code>&lt;ng-container *ngIf=\"users$ | async as users\"&gt;\n    &lt;button (click)=\"setNewUserValues(users)\"&gt;Example&lt;/button&gt;\n&lt;/ng-container&gt;\n&lt;ng-container *ngIf\"!(users$ | async\"&gt;\n    Loading users...\n&lt;/ng-container&gt;\n</code></pre>\n\n<p>That is one way to remove the side-effects of mixing procedural programming and reactive programming.</p>\n\n<p>The other approach is to make <code>checkExistingEmail()</code> return an observable (or a Promise).</p>\n\n<pre><code>public constructor(private _change: ChangeDetectorRef) {}\n\nsetNewUserValues() {\n  if (this.formUser.email) {\n     this.checkExistingEmail(this.formUser.email).subscribe(canAddUser =&gt; {\n         console.log(\"canAddUser:\", canAddUser);\n         this.canAddUser = canAddUser;\n         this._change.markForCheck();\n     });\n  }\n}\n\npublic checkExistingEmail(email): Observable&lt;boolean&gt; {\n   return this.userService.findPrivilegedUsersUsingGET().pipe(\n      map(users =&gt; users.findIndex(user =&gt; user.email === email) !== -1)\n   );\n}\n</code></pre>\n\n<p>The above will print the boolean result to the console, but I don't know what you want to do with this result. The operation is completed async and we need to tell Angular that the state of the component has changed, and the view should be updated so I call \"markForCheck()\", but if you aren't using <code>OnPush</code> change detection then this might not be required.</p>\n\n<p>As a general rule. If you write code like <code>this.XXXX = YYYY;</code> inside an async callback while inside a component. You're going to run into side-effects, because you are mixing procedural programming with reactive programming.</p>\n\n<p>Often people will ask the question \"how do I return a value from an async function\". I often <strong>cringe</strong> when I see their example source code using the <code>this</code> reference to update a property.</p>\n\n<p>Some further reading about reactive programming might help:</p>\n\n<p><a href=\"https://gist.github.com/staltz/868e7e9bc2a7b8c1f754\" rel=\"nofollow noreferrer\">https://gist.github.com/staltz/868e7e9bc2a7b8c1f754</a></p>\n\n<p><a href=\"https://egghead.io/courses/introduction-to-reactive-programming\" rel=\"nofollow noreferrer\">https://egghead.io/courses/introduction-to-reactive-programming</a></p>\n\n<p>It's a good idea to refresh yourself on the subject of reactive forms in Angular:</p>\n\n<p><a href=\"https://angular.io/guide/reactive-forms\" rel=\"nofollow noreferrer\">https://angular.io/guide/reactive-forms</a></p>\n"}], "owner": {"reputation": 371, "user_id": 8939031, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-ooI2qyR9zGs/AAAAAAAAAAI/AAAAAAAAAFM/gN7yiC94FIs/photo.jpg?sz=128", "display_name": "Exitl0l", "link": "https://stackoverflow.com/users/8939031/exitl0l"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 105, "favorite_count": 1, "closed_date": 1551900328, "accepted_answer_id": 55024562, "answer_count": 4, "score": 0, "last_activity_date": 1551951531, "creation_date": 1551875623, "last_edit_date": 1551878137, "question_id": 55023220, "link": "https://stackoverflow.com/questions/55023220/boolean-value-undefined-outside-of-subscribtion", "closed_reason": "Duplicate", "title": "Boolean value undefined outside of subscribtion?", "body": "<p>I have an API call which ends in a boolean check.\nI'd like to create new users but if an e-mail is exists in the db i want to set <strong>canAddUser = false</strong>.\nI do the following:</p>\n\n<pre><code>  canAddUser: boolean;\n\n  setNewUserValues() {\n    if (this.formUser.email) {\n      this.checkExistingEmail();\n    }\n  }\n\n  checkExistingEmail() {\n    this.userService.findPrivilegedUsersUsingGET().subscribe(users =&gt; {\n      const mailIndex = users.findIndex(user =&gt; user.email === this.formUser.email);\n      mailIndex !== -1 ? this.canAddUser = false : this.canAddUser = true;\n      console.log(this.canAddUser);\n    });\n  }\n</code></pre>\n\n<p>If I log the boolean to the console where I am currently doing, I get the right value. However if I log it elsewhere it's undefined first! then if i trigger the button that fires <strong>setNewUserValues()</strong> it gets the value right again.\nWhat am I missing so badly?</p>\n\n<p><strong>EDIT</strong></p>\n\n<p>Somewhat solved my issue.</p>\n\n<pre><code>  setNewUserValues() {\n    if (this.formUser.email) {\n      this.checkExistingEmail();\n    }\n  }\n\n  checkExistingEmail() {\n    this.userService.findPrivilegedUsersUsingGET().subscribe(users =&gt; {\n      this.mailIndex = users.findIndex(user =&gt; user.email === this.formUser.email);\n    });\n    this.validateEmail(this.mailIndex);\n    console.log(this.canAddUser);\n  }\n\n  private validateEmail(index: number) {\n    index !== -1 ? this.canAddUser = false : this.canAddUser = true;\n  }\n</code></pre>\n\n<p>If I pass an e-mail that's existing i got the correct value but if i pass one that's not in the db yet i get false value first then if i trigger it once more then the value is fine again.</p>\n"}, {"tags": ["javascript", "jquery", "angular", "typescript", "mean"], "answers": [{"tags": [], "owner": {"reputation": 567, "user_id": 6354892, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/96c1c26331cefc755432b51e21867106?s=128&d=identicon&r=PG&f=1", "display_name": "Dhaval", "link": "https://stackoverflow.com/users/6354892/dhaval"}, "is_accepted": false, "score": 1, "last_activity_date": 1551875372, "creation_date": 1551875372, "answer_id": 55023151, "question_id": 55023037, "link": "https://stackoverflow.com/questions/55023037/how-to-import-jquery-code-in-to-typescript/55023151#55023151", "title": "How to import jQuery code in to Typescript", "body": "<p><strong>Step: 1</strong></p>\n\n<p>Include jquery file in angular.json file:</p>\n\n<pre><code> .\n .\n \"scripts\": [\n     \"src/assets/js/core/jquery.min.js\"\n ],\n .\n .\n</code></pre>\n\n<p><strong>Step: 2</strong></p>\n\n<p>Declere $ vairable in ts file before @component devorated</p>\n\n<pre><code> declare var $: any;\n\n @Component({\n    .\n    .\n</code></pre>\n\n<p><strong>OR</strong></p>\n\n<p>import * as $ from \"jquery\";</p>\n"}, {"tags": [], "owner": {"reputation": 21, "user_id": 11113799, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-dP2LB7BdCRg/AAAAAAAAAAI/AAAAAAAAAAA/ACevoQNHeOc-iZJMlZOIGk_AJMdZ5gRnUw/mo/photo.jpg?sz=128", "display_name": "user3546364343", "link": "https://stackoverflow.com/users/11113799/user3546364343"}, "is_accepted": false, "score": 1, "last_activity_date": 1551875716, "creation_date": 1551875716, "answer_id": 55023258, "question_id": 55023037, "link": "https://stackoverflow.com/questions/55023037/how-to-import-jquery-code-in-to-typescript/55023258#55023258", "title": "How to import jQuery code in to Typescript", "body": "<p>Use: <code>import * as $ from 'jquery';</code></p>\n"}], "owner": {"reputation": 19, "user_id": 8470580, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-0mSH7OQGQQk/AAAAAAAAAAI/AAAAAAAADGQ/trcSyf5c4nk/photo.jpg?sz=128", "display_name": "iRIS", "link": "https://stackoverflow.com/users/8470580/iris"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 384, "favorite_count": 0, "answer_count": 2, "score": -1, "last_activity_date": 1551875716, "creation_date": 1551874945, "last_edit_date": 1551875071, "question_id": 55023037, "link": "https://stackoverflow.com/questions/55023037/how-to-import-jquery-code-in-to-typescript", "title": "How to import jQuery code in to Typescript", "body": "<p>I have Typescript code and I want to add jQuery code inside my Typescript code for MEAN Stack </p>\n\n<pre><code>$('.chips').chips();\n$('.chips-initial').chips({\n  data: [{\n    tag: 'Apple',\n  }, {\n    tag: 'Microsoft',\n  }, {\n    tag: 'Google',\n  }],\n});\n\n$('.chips-placeholder').chips({\n  placeholder: 'Enter a tag',\n  secondaryPlaceholder: '+Tag',\n});\n</code></pre>\n\n<p>TypeScript Code : </p>\n\n<pre class=\"lang-js prettyprint-override\"><code>import { Router } from '@angular/router';\nimport { FlashMessagesService } from 'angular2-flash-messages';\n\nComponent({\n  selector: 'navbar',\n  templateUrl: './navbar.component.html',\n  styleUrls: ['./navbar.component.css']\n})\n\nexport class NavbarComponent implements OnInit {\n  constructor() { }\n  ngOnInit() {\n  }\n  onLogoutClick() {\n    localStorage.removeItem('user');\n    this.fmService.show('Successfully logged-out', {\n      cssClass: 'alert-success',\n      timeout: 3000\n    });\n    this.router.navigate(['/']);\n  }\n}\n</code></pre>\n\n<p>I want to add previous details in my Typescript code. Help me to do this using jQuery code. </p>\n"}, {"tags": ["html", "angular", "typescript"], "comments": [{"owner": {"reputation": 6216, "user_id": 1471485, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/8qRCk.png?s=128&g=1", "display_name": "John", "link": "https://stackoverflow.com/users/1471485/john"}, "edited": false, "score": 0, "creation_date": 1551874627, "post_id": 55022818, "comment_id": 96799083, "body": "you can use <code>[(ngModel)]=&quot;selectedItem&quot;</code> on the select-element, and use that object to display the id."}, {"owner": {"reputation": 11, "user_id": 8959901, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-Z2hD-gaJa7k/AAAAAAAAAAI/AAAAAAAAPcU/TQLch29i27Y/photo.jpg?sz=128", "display_name": "R&#252;nk&#252;nk&#252;n", "link": "https://stackoverflow.com/users/8959901/r%c3%bcnk%c3%bcnk%c3%bcn"}, "reply_to_user": {"reputation": 6216, "user_id": 1471485, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/8qRCk.png?s=128&g=1", "display_name": "John", "link": "https://stackoverflow.com/users/1471485/john"}, "edited": false, "score": 0, "creation_date": 1551874661, "post_id": 55022818, "comment_id": 96799097, "body": "no sorry, i don&#39;t want it to be displayed. I want to bind it to some variable so i can use it later when the form gets submited."}, {"owner": {"reputation": 11, "user_id": 8959901, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-Z2hD-gaJa7k/AAAAAAAAAAI/AAAAAAAAPcU/TQLch29i27Y/photo.jpg?sz=128", "display_name": "R&#252;nk&#252;nk&#252;n", "link": "https://stackoverflow.com/users/8959901/r%c3%bcnk%c3%bcnk%c3%bcn"}, "reply_to_user": {"reputation": 6216, "user_id": 1471485, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/8qRCk.png?s=128&g=1", "display_name": "John", "link": "https://stackoverflow.com/users/1471485/john"}, "edited": false, "score": 0, "creation_date": 1551875383, "post_id": 55022818, "comment_id": 96799483, "body": "perfect, that works thx"}], "owner": {"reputation": 11, "user_id": 8959901, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-Z2hD-gaJa7k/AAAAAAAAAAI/AAAAAAAAPcU/TQLch29i27Y/photo.jpg?sz=128", "display_name": "R&#252;nk&#252;nk&#252;n", "link": "https://stackoverflow.com/users/8959901/r%c3%bcnk%c3%bcnk%c3%bcn"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 33, "favorite_count": 0, "closed_date": 1551875399, "answer_count": 0, "score": 0, "last_activity_date": 1551874883, "creation_date": 1551874173, "question_id": 55022818, "link": "https://stackoverflow.com/questions/55022818/how-to-bind-a-not-displayed-object-property", "closed_reason": "Duplicate", "title": "How to bind a not displayed object property", "body": "<p>Hey i have a form with a mainboard field this field gets it's options from a array that is filled with \"Mainboard\" objects. I then display the producer and the name property of every object. \nBut to create the computer at the end of the form I need the ID of the mainboard that has been selected but i don't have a idea how to do this in a smooth way.</p>\n\n<pre><code>      &lt;div class=\"form-group\"&gt;\n    &lt;label for=\"computermainboard\"&gt;Mainboard&lt;/label&gt;\n    &lt;select class=\"form-control\" id=\"computermainboard\" required name=\"computermainboard\"&gt;\n      &lt;option *ngFor=\"let main of computermainboards\" [value]=\"main\"&gt;{{main.producer + ' ' + main.name}}&lt;/option&gt;\n    &lt;/select&gt;\n  &lt;/div&gt;\n\n\n\n    export class Mainboard {\n\n  constructor(\n    public mainboard_id: number,\n    public producer: string,\n    public name: string,\n    public socket: string,\n    public chipset: string,\n    public dimmslots: number,\n    public pcieslots: number,\n    public m2slots: number,\n    public sataconnectors: number,\n    public formfactor: string,\n  ) { }\n}\n</code></pre>\n"}, {"tags": ["javascript", "typescript", "d3.js"], "answers": [{"tags": [], "owner": {"reputation": 5844, "user_id": 1075401, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/b38e877fe17599d7eec56bfcc52eb63d?s=128&d=identicon&r=PG", "display_name": "gilamran", "link": "https://stackoverflow.com/users/1075401/gilamran"}, "is_accepted": true, "score": 3, "last_activity_date": 1551874151, "creation_date": 1551874151, "answer_id": 55022813, "question_id": 55022691, "link": "https://stackoverflow.com/questions/55022691/pie-does-not-accept-an-array-of-objects/55022813#55022813", "title": "pie() does not accept an array of objects", "body": "<p><code>d3</code>'s <code>pie</code> accepts a generic just for that.</p>\n\n<p>Here's how to solve this:</p>\n\n<pre><code>interface IData {\n  value: number;\n  color: string;\n}\n\nconst data: IData[] = [\n  {\n    value: 61,\n    color: 'orange',\n  },\n  {\n    value: 29,\n    color: 'white',\n  },\n  {\n    value: 10,\n    color: 'blue',\n  },\n];\n\nconst pie = d3\n  .pie&lt;IData&gt;()\n  .padAngle(0)\n  .value(d =&gt; d.value);\n\nconst arcs = pie(data);\n</code></pre>\n"}], "owner": {"reputation": 1319, "user_id": 3877081, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/6b43ee7c8530d9e455674bf94106c8a7?s=128&d=identicon&r=PG", "display_name": "Phillipp", "link": "https://stackoverflow.com/users/3877081/phillipp"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 40, "favorite_count": 0, "accepted_answer_id": 55022813, "answer_count": 1, "score": 3, "last_activity_date": 1558532531, "creation_date": 1551873753, "last_edit_date": 1558532531, "question_id": 55022691, "link": "https://stackoverflow.com/questions/55022691/pie-does-not-accept-an-array-of-objects", "title": "pie() does not accept an array of objects", "body": "<p>I have the following code:</p>\n\n<pre><code>public data = [\n  {\n    value: 61,\n    color: 'orange',\n  },\n  {\n    value: 29,\n    color: 'white',\n  },\n  {\n    value: 10,\n    color: 'blue',\n  },\n];\n</code></pre>\n\n<pre><code>  public pie = d3\n    .pie()\n    .padAngle(0)\n    .value((d: any) =&gt; d.value);\n</code></pre>\n\n<pre><code>const arcs = this.pie(this.data);\n</code></pre>\n\n<p>Which is basically the outcome of some of the various tutorials about building a donut chart with d3js. </p>\n\n<p>Now I would like to add a custom interface for the items in the data array and also properly type the <code>d</code> parameter in the <code>.value()</code> function.</p>\n\n<p>The problem is, that the <code>@types/d3</code> package defines the expected data array as <code>number[]</code> and the <code>d</code> parameter as <code>number</code>. </p>\n\n<p>Which means that I cannot use a custom interface for the data items. The typings package for D3 seems to be wrong in this case because all the tutorials I've read do it this way and the code works just fine. </p>\n\n<p>What are my options in this case? Are there any workarounds? Can I override the typings that get into my way? </p>\n"}, {"tags": ["html", "angular", "typescript"], "comments": [{"owner": {"reputation": 3645, "user_id": 6019563, "user_type": "registered", "profile_image": "https://graph.facebook.com/1072513362799030/picture?type=large", "display_name": "Sachin Gupta", "link": "https://stackoverflow.com/users/6019563/sachin-gupta"}, "edited": false, "score": 2, "creation_date": 1551872699, "post_id": 55022333, "comment_id": 96797899, "body": "you can inject the <code>Router</code> and navigate using <code>this.router.navigateTo(URL)</code>;"}, {"owner": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 3, "creation_date": 1551872912, "post_id": 55022333, "comment_id": 96798027, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/40405775/angular-2-final-change-route-parameter-on-the-url-programmatically\">Angular 2 final - change route parameter on the URL programmatically</a>"}, {"owner": {"reputation": 165, "user_id": 10592616, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/efa829a3e7f6f2b3fce68d3d4c30e544?s=128&d=identicon&r=PG&f=1", "display_name": "S.A.R.A.", "link": "https://stackoverflow.com/users/10592616/s-a-r-a"}, "edited": false, "score": 0, "creation_date": 1551873463, "post_id": 55022333, "comment_id": 96798370, "body": "I added &quot;private router: Router&quot; to the constructor and &quot; this.router.navigate(url);&quot; to the method. I get &quot;Promise returned from navigate is ignored&quot; on &quot;navigate&quot;  and nothing happens when I click on edit (html page) What do you think?"}], "answers": [{"tags": [], "owner": {"reputation": 165, "user_id": 10592616, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/efa829a3e7f6f2b3fce68d3d4c30e544?s=128&d=identicon&r=PG&f=1", "display_name": "S.A.R.A.", "link": "https://stackoverflow.com/users/10592616/s-a-r-a"}, "is_accepted": false, "score": 0, "last_activity_date": 1551879111, "creation_date": 1551879111, "answer_id": 55024327, "question_id": 55022333, "link": "https://stackoverflow.com/questions/55022333/routerlink-in-angular-cli-typescript-method/55024327#55024327", "title": "RouterLink in Angular CLI / TypeScript method?", "body": "<p><strong>UPDATE</strong>\nThis one worked for me.</p>\n\n<pre><code>constructor(private router: Router) {\n  }\n\n\n  /.../\n  if (action.actionType === 'GO_TO') {\n      console.log('test');\n      const url = action.getUrl(user);\n      this.router.navigateByUrl(url).then();\n    }\n</code></pre>\n"}], "owner": {"reputation": 165, "user_id": 10592616, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/efa829a3e7f6f2b3fce68d3d4c30e544?s=128&d=identicon&r=PG&f=1", "display_name": "S.A.R.A.", "link": "https://stackoverflow.com/users/10592616/s-a-r-a"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 331, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1551879111, "creation_date": 1551872637, "question_id": 55022333, "link": "https://stackoverflow.com/questions/55022333/routerlink-in-angular-cli-typescript-method", "title": "RouterLink in Angular CLI / TypeScript method?", "body": "<p>I have to import my URL link (actionsConfig) to my component.</p>\n\n<p>In HTML I used to use \"router link\", how does it work in TypeScript?</p>\n\n<p>actionsConfig.ts : </p>\n\n<pre><code>export const ACTIONS = [\n  {\n    label: 'Delete',\n    actionType: 'DELETE',\n  },\n  {\n    label: 'Edit',\n    actionType: 'GO_TO',\n    getUrl: row =&gt; '/detail/' + row.id,\n  },\n];\n</code></pre>\n\n<p>component.ts :</p>\n\n<pre><code>actionFunc(action, user: User) {\nif (action.actionType === 'DELETE') {\n  if (confirm('Are you sure you want to delete this item?') === true) {\n    /*delete ok*/\n  }\n}\nif (action === 'GO_TO') {\n  const url = action.getUrl(user);\n  /* GO TO URL (routerlink?) */\n}\n</code></pre>\n\n<p>}</p>\n"}, {"tags": ["reactjs", "typescript", "emotion"], "comments": [{"owner": {"reputation": 466, "user_id": 2794048, "user_type": "registered", "accept_rate": 43, "profile_image": "https://graph.facebook.com/1728020687/picture?type=large", "display_name": "Corey Bruyere", "link": "https://stackoverflow.com/users/2794048/corey-bruyere"}, "edited": false, "score": 0, "creation_date": 1598628480, "post_id": 55022148, "comment_id": 112530504, "body": "Did you ever resolve this? Having the same issue"}], "answers": [{"comments": [{"owner": {"reputation": 11, "user_id": 11159368, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-aZoCiz1FY4U/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rc1f6oMkctQt3sMKhBjto0pKskG2w/mo/photo.jpg?sz=128", "display_name": "Xiavn", "link": "https://stackoverflow.com/users/11159368/xiavn"}, "edited": false, "score": 0, "creation_date": 1551956416, "post_id": 55027597, "comment_id": 96835121, "body": "Oh, god, sorry I&#39;ve just realised what a terrible example that was! Sorry, no I wasn&#39;t actually trying to pass values in rather than types, man I feel stupid. Basically even if I create the interface properly (like you mentioned) with blue and red being strings, (or creating a separate ColorPalette interface like in your example) and then using that it still causes the styled function of emotion to complain that an object is not a string, and it wants color to be a string. I&#39;ve updated my example to avoid confusion."}, {"owner": {"reputation": 1359, "user_id": 5441134, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/F648f.jpg?s=128&g=1", "display_name": "Natsathorn", "link": "https://stackoverflow.com/users/5441134/natsathorn"}, "reply_to_user": {"reputation": 11, "user_id": 11159368, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-aZoCiz1FY4U/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rc1f6oMkctQt3sMKhBjto0pKskG2w/mo/photo.jpg?sz=128", "display_name": "Xiavn", "link": "https://stackoverflow.com/users/11159368/xiavn"}, "edited": false, "score": 0, "creation_date": 1551957006, "post_id": 55027597, "comment_id": 96835474, "body": "could you update the question? how is your related code look likes? maybe I can understand more."}, {"owner": {"reputation": 11, "user_id": 11159368, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-aZoCiz1FY4U/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rc1f6oMkctQt3sMKhBjto0pKskG2w/mo/photo.jpg?sz=128", "display_name": "Xiavn", "link": "https://stackoverflow.com/users/11159368/xiavn"}, "edited": false, "score": 0, "creation_date": 1551959896, "post_id": 55027597, "comment_id": 96837188, "body": "I&#39;ve updated the example in the original question, and added a couple of comments to show the bit that actually causes the error. Hopefully that explains better. Thank you for trying to help :)"}, {"owner": {"reputation": 11, "user_id": 11159368, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-aZoCiz1FY4U/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rc1f6oMkctQt3sMKhBjto0pKskG2w/mo/photo.jpg?sz=128", "display_name": "Xiavn", "link": "https://stackoverflow.com/users/11159368/xiavn"}, "edited": false, "score": 0, "creation_date": 1551982873, "post_id": 55027597, "comment_id": 96850792, "body": "I&#39;m using <code>emotion</code> rather than <code>styled-components</code>, specifically the <code>@emotion&#47;styled</code> library that gives an interface very similar to styled-components. I believe the example you give here in your answer is the the same thing I&#39;m already doing in my example just using object syntax rather than the template literal style. Both still have &lt;BoxProps&gt; passed in in the same way though. The function is receiving my types, but is then causing an error because it doesn&#39;t want color to be an object, only a string. Thanks for trying to help."}], "tags": [], "owner": {"reputation": 1359, "user_id": 5441134, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/F648f.jpg?s=128&g=1", "display_name": "Natsathorn", "link": "https://stackoverflow.com/users/5441134/natsathorn"}, "is_accepted": false, "score": 0, "last_activity_date": 1551973677, "last_edit_date": 1551973677, "creation_date": 1551888855, "answer_id": 55027597, "question_id": 55022148, "link": "https://stackoverflow.com/questions/55022148/trying-to-use-color-as-a-property-with-an-emotion-styled-component-causing-err/55027597#55027597", "title": "Trying to use color as a property with an emotion (styled) component causing errors in typescript", "body": "<p>After you added some more detail, now I understand that you are working on <code>styled-components</code>. You want to add a type for you <code>styled.div</code> props.</p>\n\n<p>You can do this way.</p>\n\n<pre><code>const Box = styled('div')&lt;BoxProps&gt;`\n     color: ${props =&gt; props.color.blue};\n     backgroundColor: ${props =&gt; props.color.red},\n`;\n</code></pre>\n"}], "owner": {"reputation": 11, "user_id": 11159368, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-aZoCiz1FY4U/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rc1f6oMkctQt3sMKhBjto0pKskG2w/mo/photo.jpg?sz=128", "display_name": "Xiavn", "link": "https://stackoverflow.com/users/11159368/xiavn"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1438, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1551973677, "creation_date": 1551872068, "last_edit_date": 1551959777, "question_id": 55022148, "link": "https://stackoverflow.com/questions/55022148/trying-to-use-color-as-a-property-with-an-emotion-styled-component-causing-err", "title": "Trying to use color as a property with an emotion (styled) component causing errors in typescript", "body": "<p>I'm currently working on a React project that uses emotion (the styled package) for the css styling and typescript (created with create-react-app). I'm relatively new to typescript and I've hit a bit of a brick wall trying to use props with the same name as an attribute available on the base element I'm trying to style.</p>\n\n<p>For instance, when trying to style a div, if I build an interface that defines a color prop that is an object, I get an error when passing this interface into the styled function. I believe it's complaining because color being an object doesn't satisfy the constraint of color being a string or undefined, which is being set somewhere else (presumably within the typings of the emotion styled function?). Here's a basic example of what I'm trying to do.</p>\n\n<pre><code>import styled from '@emotion/styled';\nimport { ComponentType } from 'react';\n\ninterface ColorPalette {\n    blue: string;\n    red: string;\n}\n\ninterface BoxProps {\n    color: ColorPalette;\n    notColor?: ColorPalette;\n}\n\nconst Box = styled('div')&lt;BoxProps&gt;(({ color, notColor }) =&gt; ({ // Here &lt;BoxProps&gt; shows the error that ColorPalette doesn't satisfy the constraint of string\n    color: color.blue,\n    backgroundColor: color.red,\n}));\n\nconst Test: ComponentType = () =&gt; &lt;Box color={{ red: 'red', blue: 'blue' }} /&gt;; // This doesn't actually show any errors because it recognises that the inputted object matched ColorPalette\n\nexport default Box;\n</code></pre>\n\n<p>Essentially the error I get back is: \"Type 'BoxProps' does not satisfy the constraint 'Pick, HTMLDivElement>, \"color\">, \"color\">'.\n  Types of property 'color' are incompatible.\n    Type '{ blue: string; red: string } | undefined' is not assignable to type 'string | undefined'.\n      Type '{ blue: string; red:string }' is not assignable to type 'string'.\"</p>\n\n<p>This is a pretty simple example, in reality I'm using the styled-system library as well, which creates a color prop that has the possibility of being an array or object ( to set different values based on breakpoints), which it then converts to being a string, but the error is the same. It has the same issue on other types of elements, like providing a width prop on an svg element.</p>\n\n<p>I feel like I'm just missing something really basic, that I'm not understanding about Typescript about how I could fix this. I can set the color prop to any in the interface, but then that essentially loses the value of the typings in the first place.</p>\n"}, {"tags": ["javascript", "css", "typescript", "chart.js"], "comments": [{"owner": {"reputation": 18854, "user_id": 1083572, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/9xSFI.png?s=128&g=1", "display_name": "Kokodoko", "link": "https://stackoverflow.com/users/1083572/kokodoko"}, "edited": false, "score": 0, "creation_date": 1551871660, "post_id": 55021380, "comment_id": 96797267, "body": "In that image the charts are not superimposed? Can you reproduce the problem in code, for example on JSFiddle or by including a working code snippet?"}, {"owner": {"reputation": 1, "user_id": 11124405, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-EpY9pFCHR4s/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rckn-jBsupwuwmYlq2F79bTCzxTKA/mo/photo.jpg?sz=128", "display_name": "TheMOKETBOY", "link": "https://stackoverflow.com/users/11124405/themoketboy"}, "reply_to_user": {"reputation": 18854, "user_id": 1083572, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/9xSFI.png?s=128&g=1", "display_name": "Kokodoko", "link": "https://stackoverflow.com/users/1083572/kokodoko"}, "edited": false, "score": 0, "creation_date": 1551879081, "post_id": 55021380, "comment_id": 96801601, "body": "I can&#39;t use JSFiddle or a working code snippet but i can edit the post with a screen with my problem"}, {"owner": {"reputation": 18854, "user_id": 1083572, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/9xSFI.png?s=128&g=1", "display_name": "Kokodoko", "link": "https://stackoverflow.com/users/1083572/kokodoko"}, "edited": false, "score": 0, "creation_date": 1551962072, "post_id": 55021380, "comment_id": 96838509, "body": "To solve a code problem, it&#39;s best to post the code that produces the problem."}], "owner": {"reputation": 1, "user_id": 11124405, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-EpY9pFCHR4s/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rckn-jBsupwuwmYlq2F79bTCzxTKA/mo/photo.jpg?sz=128", "display_name": "TheMOKETBOY", "link": "https://stackoverflow.com/users/11124405/themoketboy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 24, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1551869735, "creation_date": 1551869735, "question_id": 55021380, "link": "https://stackoverflow.com/questions/55021380/make-responsive-3-graph-with-chartjs", "title": "Make responsive 3 Graph with ChartJs", "body": "<p>I\u2019ve got three charts and I\u2019d like to get all this in more responsive.\nOn a phone or other screen.\nSometimes the charts superimpose on the vertical</p>\n\n<p>You can find a screen with the 3 Charts.</p>\n\n<p><a href=\"https://i.stack.imgur.com/ckUQy.png\" rel=\"nofollow noreferrer\">3 Charts</a></p>\n\n<p>I use </p>\n\n<pre><code>var option: Chart.ChartOptions = {\n        responsive: true,\n        maintainAspectRatio: true,\n</code></pre>\n\n<p>index.html</p>\n\n<pre><code>       &lt;div class=\"chart1\"&gt;\n            &lt;canvas id=\"stub_pressureCanvas\"&gt;&lt;/canvas&gt;\n        &lt;/div&gt;\n        &lt;div class=\"chart2\"&gt;\n            &lt;canvas style=\"\"id=\"stub_flowCanvas\"&gt;&lt;/canvas&gt;\n        &lt;/div&gt;\n        &lt;div class=\"chart3\"&gt;\n            &lt;canvas id=\"stub_volumeCanvas\"&gt;&lt;/canvas&gt;\n        &lt;/div&gt;\n</code></pre>\n\n<p>Style.css</p>\n\n<pre><code>.chart1{\n    width: 40%;\n    position: absolute;\n    top: 24%;\n    left: 45%;\n    transform: translate(-50%, -50%);\n\n}\n\n.chart2{\n    width: 40%;\n    position: absolute;\n    top: 53%;\n    left: 45%;\n    transform: translate(-50%, -50%);\n\n}\n\n\n.chart3{\n    width: 40%;\n    position: absolute;\n    top: 81.5%;\n    left: 45.5%;\n    transform: translate(-50%, -50%);\n}\n</code></pre>\n"}, {"tags": ["angular", "typescript"], "comments": [{"owner": {"reputation": 1149, "user_id": 7541317, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6eGaI.jpg?s=128&g=1", "display_name": "Farhat Zaman", "link": "https://stackoverflow.com/users/7541317/farhat-zaman"}, "edited": false, "score": 0, "creation_date": 1551871551, "post_id": 55021305, "comment_id": 96797189, "body": "what you want to do with full image path? what is your needs?"}, {"owner": {"reputation": 93, "user_id": 10075913, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fd409b57086a1e9298e35109ff4aa3d0?s=128&d=identicon&r=PG&f=1", "display_name": "sm770", "link": "https://stackoverflow.com/users/10075913/sm770"}, "reply_to_user": {"reputation": 1149, "user_id": 7541317, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6eGaI.jpg?s=128&g=1", "display_name": "Farhat Zaman", "link": "https://stackoverflow.com/users/7541317/farhat-zaman"}, "edited": false, "score": 0, "creation_date": 1551872610, "post_id": 55021305, "comment_id": 96797851, "body": "@FarhatZaman I need to pass the file to httpPost which is present at the  local path(which needs to be extracted)"}, {"owner": {"reputation": 1149, "user_id": 7541317, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6eGaI.jpg?s=128&g=1", "display_name": "Farhat Zaman", "link": "https://stackoverflow.com/users/7541317/farhat-zaman"}, "edited": false, "score": 0, "creation_date": 1551942768, "post_id": 55021305, "comment_id": 96827243, "body": "why you are not using buit-in plugins for file uploading. like <code>primeng</code>"}, {"owner": {"reputation": 93, "user_id": 10075913, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fd409b57086a1e9298e35109ff4aa3d0?s=128&d=identicon&r=PG&f=1", "display_name": "sm770", "link": "https://stackoverflow.com/users/10075913/sm770"}, "reply_to_user": {"reputation": 1149, "user_id": 7541317, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6eGaI.jpg?s=128&g=1", "display_name": "Farhat Zaman", "link": "https://stackoverflow.com/users/7541317/farhat-zaman"}, "edited": false, "score": 0, "creation_date": 1551952066, "post_id": 55021305, "comment_id": 96832288, "body": "@FarhatZaman in primeNg file uplaod also getting local path is not there.."}], "answers": [{"comments": [{"owner": {"reputation": 93, "user_id": 10075913, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fd409b57086a1e9298e35109ff4aa3d0?s=128&d=identicon&r=PG&f=1", "display_name": "sm770", "link": "https://stackoverflow.com/users/10075913/sm770"}, "edited": false, "score": 0, "creation_date": 1551871233, "post_id": 55021744, "comment_id": 96797019, "body": "Thanks.Any other option?"}], "tags": [], "owner": {"reputation": 404, "user_id": 4498384, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1398e73c3506fa73d694e5b6f2883146?s=128&d=identicon&r=PG&f=1", "display_name": "JoH", "link": "https://stackoverflow.com/users/4498384/joh"}, "is_accepted": false, "score": 1, "last_activity_date": 1551870831, "creation_date": 1551870831, "answer_id": 55021744, "question_id": 55021305, "link": "https://stackoverflow.com/questions/55021305/how-to-get-full-path-of-selected-file-on-change-of-input-type-file-using-typ/55021744#55021744", "title": "How to get full path of selected file on change of &lt;input type=\u2018file\u2019&gt; using TypeScript/Angular 6", "body": "<p>Unfortunately, for obvious security reasons, JS doesn't have access to the file system.</p>\n"}], "owner": {"reputation": 93, "user_id": 10075913, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fd409b57086a1e9298e35109ff4aa3d0?s=128&d=identicon&r=PG&f=1", "display_name": "sm770", "link": "https://stackoverflow.com/users/10075913/sm770"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 116, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1551870831, "creation_date": 1551869544, "question_id": 55021305, "link": "https://stackoverflow.com/questions/55021305/how-to-get-full-path-of-selected-file-on-change-of-input-type-file-using-typ", "title": "How to get full path of selected file on change of &lt;input type=\u2018file\u2019&gt; using TypeScript/Angular 6", "body": "<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>uploadWrapper($event)\r\n  {\r\n  console.log(\"Need the local computer path of file selected\")\r\n    }</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;input  type=\"file\" (change)=\"filesPicked($event)\" class=\"form-control\" multiple&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>I need the full path of the file when user selects a file from Choose File.</p>\n"}, {"tags": ["javascript", "typescript", "unit-testing", "testing", "jestjs"], "answers": [{"comments": [{"owner": {"reputation": 506, "user_id": 7110178, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/DFAg6.jpg?s=128&g=1", "display_name": "Dan Zawadzki", "link": "https://stackoverflow.com/users/7110178/dan-zawadzki"}, "edited": false, "score": 0, "creation_date": 1551878156, "post_id": 55022278, "comment_id": 96801033, "body": "Thank you very much! I don&#39;t know if I would figure out anything like that, thanks! Testing is great and actually gives you a lot of sense of confidence, but testing such features are really painful, at least for me."}], "tags": [], "owner": {"reputation": 345, "user_id": 2858250, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/I0QfT.jpg?s=128&g=1", "display_name": "antoinechalifour", "link": "https://stackoverflow.com/users/2858250/antoinechalifour"}, "is_accepted": true, "score": 5, "last_activity_date": 1551872475, "creation_date": 1551872475, "answer_id": 55022278, "question_id": 55020924, "link": "https://stackoverflow.com/questions/55020924/testing-function-that-starts-file-download-with-jest/55022278#55022278", "title": "Testing function that starts file download with jest", "body": "<p>This function is not that easy to test because it does not return any value and performs side effects. A solution to this is using jest spies to mock the <code>createElement</code> function. Example : <a href=\"https://codesandbox.io/s/6xp9lqjzk3\" rel=\"noreferrer\">https://codesandbox.io/s/6xp9lqjzk3</a></p>\n"}], "owner": {"reputation": 506, "user_id": 7110178, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/DFAg6.jpg?s=128&g=1", "display_name": "Dan Zawadzki", "link": "https://stackoverflow.com/users/7110178/dan-zawadzki"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3717, "favorite_count": 1, "accepted_answer_id": 55022278, "answer_count": 1, "score": 2, "last_activity_date": 1551878237, "creation_date": 1551868296, "last_edit_date": 1551878237, "question_id": 55020924, "link": "https://stackoverflow.com/questions/55020924/testing-function-that-starts-file-download-with-jest", "title": "Testing function that starts file download with jest", "body": "<p>I'm trying to test this function with JEST library (I'm using also enzyme in the project), but I completely stuck. </p>\n\n<p>Describing this function in a few words, I use it to export previously prepared data. I machine some data and then pass it in the form of a single string, which this func wraps into a single text file and starts a download.</p>\n\n<p>Mostly, it's csv, tsv and text.</p>\n\n<pre><code>/**\n * Function creating text file and starting download process\n *\n * @param name - file name\n * @param extension - file extension\n * @param content - file content\n */\nexport const downloadTextFile = (name: string, extension: string, content: string) =&gt; {\n    const link = document.createElement('a');\n    link.className = 'download-helper';\n    link.download = name + '.' + extension;\n    link.href = `data:application/${extension},` + escape(content);\n    link.click();\n};\n</code></pre>\n\n<p>I want to develop good testing habits, so I'm also trying to understand edge cases like this one here. Any tips on how to start it?</p>\n\n<p>\ud83d\udc4b</p>\n"}, {"tags": ["javascript", "typescript", "sorting", "rank"], "comments": [{"owner": {"reputation": 3966, "user_id": 2882236, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/5738f40ace978188914bf0e2e2c68ff3?s=128&d=identicon&r=PG&f=1", "display_name": "gyc", "link": "https://stackoverflow.com/users/2882236/gyc"}, "edited": false, "score": 4, "creation_date": 1551868378, "post_id": 55020905, "comment_id": 96795303, "body": "how do you calculate rank here? {vendor:&quot;vendor1&quot;, item:&quot;item2&quot;,price:3000, rank:3} oh is it price / 1000 ?"}, {"owner": {"reputation": 1410, "user_id": 1174657, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/d187ae04c2106e517b00084a61d6d327?s=128&d=identicon&r=PG", "display_name": "Wildan Muhlis", "link": "https://stackoverflow.com/users/1174657/wildan-muhlis"}, "reply_to_user": {"reputation": 3966, "user_id": 2882236, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/5738f40ace978188914bf0e2e2c68ff3?s=128&d=identicon&r=PG&f=1", "display_name": "gyc", "link": "https://stackoverflow.com/users/2882236/gyc"}, "edited": false, "score": 0, "creation_date": 1551868675, "post_id": 55020905, "comment_id": 96795478, "body": "@gyc , i&#39;ve modify the question"}, {"owner": {"reputation": 4625, "user_id": 3654837, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7a32d6cce60c2b76de72f54250c0b8cd?s=128&d=identicon&r=PG&f=1", "display_name": "Mukyuu", "link": "https://stackoverflow.com/users/3654837/mukyuu"}, "edited": false, "score": 1, "creation_date": 1551869084, "post_id": 55020905, "comment_id": 96795712, "body": "There is some data discrepancy. Supposed that you can fill the rank. Why did the price in before and after also changed?"}, {"owner": {"reputation": 1992, "user_id": 7996196, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/r441d.jpg?s=128&g=1", "display_name": "Sourabh Somani", "link": "https://stackoverflow.com/users/7996196/sourabh-somani"}, "edited": false, "score": 0, "creation_date": 1551869110, "post_id": 55020905, "comment_id": 96795725, "body": "Please check input data and also check output data."}, {"owner": {"reputation": 1992, "user_id": 7996196, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/r441d.jpg?s=128&g=1", "display_name": "Sourabh Somani", "link": "https://stackoverflow.com/users/7996196/sourabh-somani"}, "edited": false, "score": 0, "creation_date": 1551869133, "post_id": 55020905, "comment_id": 96795742, "body": "Data you given is not right I think or you have some different algo"}, {"owner": {"reputation": 1410, "user_id": 1174657, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/d187ae04c2106e517b00084a61d6d327?s=128&d=identicon&r=PG", "display_name": "Wildan Muhlis", "link": "https://stackoverflow.com/users/1174657/wildan-muhlis"}, "reply_to_user": {"reputation": 4625, "user_id": 3654837, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7a32d6cce60c2b76de72f54250c0b8cd?s=128&d=identicon&r=PG&f=1", "display_name": "Mukyuu", "link": "https://stackoverflow.com/users/3654837/mukyuu"}, "edited": false, "score": 0, "creation_date": 1551869218, "post_id": 55020905, "comment_id": 96795803, "body": "@Mukyuu, thank you, I forget to edit first array"}, {"owner": {"reputation": 4625, "user_id": 3654837, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7a32d6cce60c2b76de72f54250c0b8cd?s=128&d=identicon&r=PG&f=1", "display_name": "Mukyuu", "link": "https://stackoverflow.com/users/3654837/mukyuu"}, "edited": false, "score": 0, "creation_date": 1551869294, "post_id": 55020905, "comment_id": 96795855, "body": "So you took the lower price as the lower rank? Based on same item compared with other vendor?"}, {"owner": {"reputation": 1410, "user_id": 1174657, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/d187ae04c2106e517b00084a61d6d327?s=128&d=identicon&r=PG", "display_name": "Wildan Muhlis", "link": "https://stackoverflow.com/users/1174657/wildan-muhlis"}, "reply_to_user": {"reputation": 4625, "user_id": 3654837, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7a32d6cce60c2b76de72f54250c0b8cd?s=128&d=identicon&r=PG&f=1", "display_name": "Mukyuu", "link": "https://stackoverflow.com/users/3654837/mukyuu"}, "edited": false, "score": 0, "creation_date": 1551869746, "post_id": 55020905, "comment_id": 96796144, "body": "@Mukyuu yes, that&#39;s what I mean"}], "answers": [{"comments": [{"owner": {"reputation": 1410, "user_id": 1174657, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/d187ae04c2106e517b00084a61d6d327?s=128&d=identicon&r=PG", "display_name": "Wildan Muhlis", "link": "https://stackoverflow.com/users/1174657/wildan-muhlis"}, "edited": false, "score": 0, "creation_date": 1551868824, "post_id": 55021040, "comment_id": 96795560, "body": "I&#39;ve modify the question"}, {"owner": {"reputation": 19565, "user_id": 6235047, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/ilJRk.png?s=128&g=1", "display_name": "prasanth", "link": "https://stackoverflow.com/users/6235047/prasanth"}, "reply_to_user": {"reputation": 1410, "user_id": 1174657, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/d187ae04c2106e517b00084a61d6d327?s=128&d=identicon&r=PG", "display_name": "Wildan Muhlis", "link": "https://stackoverflow.com/users/1174657/wildan-muhlis"}, "edited": false, "score": 1, "creation_date": 1551868961, "post_id": 55021040, "comment_id": 96795638, "body": "ya but .your question and expected result not same price value is there any condition .Elaborate more"}], "tags": [], "owner": {"reputation": 19565, "user_id": 6235047, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/ilJRk.png?s=128&g=1", "display_name": "prasanth", "link": "https://stackoverflow.com/users/6235047/prasanth"}, "is_accepted": false, "score": 0, "last_activity_date": 1551868867, "last_edit_date": 1551868867, "creation_date": 1551868702, "answer_id": 55021040, "question_id": 55020905, "link": "https://stackoverflow.com/questions/55020905/typescript-rank-by-partition-group/55021040#55021040", "title": "Typescript Rank By Partition / Group", "body": "<p>Try this .rank was created based on price value</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>var arr = [{vendor:\"vendor1\", item:\"item1\", price:1000, rank:0}, {vendor:\"vendor1\", item:\"item2\",price:1000, rank:0}, {vendor:\"vendor1\", item:\"item3\", price:1000, rank:0}, {vendor:\"vendor2\", item:\"item1\", price:2000, rank:0}, {vendor:\"vendor2\", item:\"item2\",price:2000, rank:0}, {vendor:\"vendor2\", item:\"item3\", price:2000, rank:0}, {vendor:\"vendor3\", item:\"item1\", price:3000, rank:0}, {vendor:\"vendor3\", item:\"item2\",price:3000, rank:0}, {vendor:\"vendor3\", item:\"item3\", price:3000, rank:0}];\r\narr.forEach(a =&gt; a.rank = (a.price/1000))\r\nconsole.log(arr)</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": [], "owner": {"reputation": 1992, "user_id": 7996196, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/r441d.jpg?s=128&g=1", "display_name": "Sourabh Somani", "link": "https://stackoverflow.com/users/7996196/sourabh-somani"}, "is_accepted": false, "score": -1, "last_activity_date": 1551869328, "creation_date": 1551869328, "answer_id": 55021232, "question_id": 55020905, "link": "https://stackoverflow.com/questions/55020905/typescript-rank-by-partition-group/55021232#55021232", "title": "Typescript Rank By Partition / Group", "body": "<p>You can do using <em>map</em> function</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>var arr = [{vendor:\"vendor1\", item:\"item1\", price:1000, rank:0},\r\n{vendor:\"vendor1\", item:\"item2\",price:3000, rank:0},\r\n{vendor:\"vendor1\", item:\"item3\", price:1000, rank:0},\r\n\r\n{vendor:\"vendor2\", item:\"item1\", price:2000, rank:0},\r\n{vendor:\"vendor2\", item:\"item2\",price:2000, rank:0},\r\n{vendor:\"vendor2\", item:\"item3\", price:3000, rank:0},\r\n\r\n{vendor:\"vendor3\", item:\"item1\", price:3000, rank:0},\r\n{vendor:\"vendor3\", item:\"item2\",price:1000, rank:0},\r\n{vendor:\"vendor3\", item:\"item3\", price:2000, rank:0}];\r\narr.map(a =&gt; a.rank = (a.price/1000))\r\nconsole.log(arr)</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>Or using <em>forEach</em> function</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>var arr = [{vendor:\"vendor1\", item:\"item1\", price:1000, rank:0},\r\n{vendor:\"vendor1\", item:\"item2\",price:3000, rank:0},\r\n{vendor:\"vendor1\", item:\"item3\", price:1000, rank:0},\r\n\r\n{vendor:\"vendor2\", item:\"item1\", price:2000, rank:0},\r\n{vendor:\"vendor2\", item:\"item2\",price:2000, rank:0},\r\n{vendor:\"vendor2\", item:\"item3\", price:3000, rank:0},\r\n\r\n{vendor:\"vendor3\", item:\"item1\", price:3000, rank:0},\r\n{vendor:\"vendor3\", item:\"item2\",price:1000, rank:0},\r\n{vendor:\"vendor3\", item:\"item3\", price:2000, rank:0}];\r\narr.forEach(a =&gt; a.rank = (a.price/1000))\r\nconsole.log(arr)</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": [], "owner": {"reputation": 4214, "user_id": 3701393, "user_type": "registered", "profile_image": "https://graph.facebook.com/100002574192582/picture?type=large", "display_name": "holydragon", "link": "https://stackoverflow.com/users/3701393/holydragon"}, "is_accepted": true, "score": 2, "last_activity_date": 1551869924, "creation_date": 1551869924, "answer_id": 55021434, "question_id": 55020905, "link": "https://stackoverflow.com/questions/55020905/typescript-rank-by-partition-group/55021434#55021434", "title": "Typescript Rank By Partition / Group", "body": "<p><strong>STEPS:</strong></p>\n\n<ol>\n<li>Get unique items.</li>\n<li>Filter the whole array into small arrays of objects by unique item and sort by price.</li>\n<li>Update the rank in every object in every separated array.</li>\n<li>Concatenate them all back together.</li>\n<li>Sort them by vendor to make it into the original order.</li>\n</ol>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>let arr = [{vendor:\"vendor1\", item:\"item1\", price:1000, rank:0},\r\n{vendor:\"vendor1\", item:\"item2\",price:3000, rank:0},\r\n{vendor:\"vendor1\", item:\"item3\", price:1000, rank:0},\r\n{vendor:\"vendor2\", item:\"item1\", price:2000, rank:0},\r\n{vendor:\"vendor2\", item:\"item2\",price:2000, rank:0},\r\n{vendor:\"vendor2\", item:\"item3\", price:3000, rank:0},\r\n{vendor:\"vendor3\", item:\"item1\", price:3000, rank:0},\r\n{vendor:\"vendor3\", item:\"item2\",price:1000, rank:0},\r\n{vendor:\"vendor3\", item:\"item3\", price:2000, rank:0},]\r\nlet items = [...new Set(arr.map(o =&gt; o.item))]\r\nlet resultArr = []\r\nitems.forEach(item =&gt; {\r\n  let filteredArr = arr.filter(o =&gt; o.item === item)\r\n  filteredArr.sort((a,b) =&gt; (a.price &gt; b.price) ? 1 : ((b.price &gt; a.price) ? -1 : 0))\r\n  for(let i = 0; i &lt; filteredArr.length; i++){\r\n    filteredArr[i].rank = i + 1\r\n  }\r\n  resultArr = resultArr.concat(filteredArr)\r\n})\r\nresultArr.sort((a,b) =&gt; (a.vendor &gt; b.vendor) ? 1 : ((b.vendor &gt; a.vendor) ? -1 : 0))\r\nconsole.log(resultArr)</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": [], "owner": {"reputation": 319259, "user_id": 1447675, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ziYmO.gif?s=128&g=1", "display_name": "Nina Scholz", "link": "https://stackoverflow.com/users/1447675/nina-scholz"}, "is_accepted": false, "score": 0, "last_activity_date": 1551870854, "last_edit_date": 1551870854, "creation_date": 1551870058, "answer_id": 55021481, "question_id": 55020905, "link": "https://stackoverflow.com/questions/55020905/typescript-rank-by-partition-group/55021481#55021481", "title": "Typescript Rank By Partition / Group", "body": "<p>You could collect the grouped <code>price</code>, sort them and apply the corrected index as <code>rank</code>.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>var data = [{ vendor: \"vendor1\", item: \"item1\", price: 1100, rank: 0 }, { vendor: \"vendor1\", item: \"item2\", price: 3200, rank: 0 }, { vendor: \"vendor1\", item: \"item3\", price: 1100, rank: 0 }, { vendor: \"vendor2\", item: \"item1\", price: 2000, rank: 0 }, { vendor: \"vendor2\", item: \"item2\", price: 2000, rank: 0 }, { vendor: \"vendor2\", item: \"item3\", price: 3200, rank: 0 }, { vendor: \"vendor3\", item: \"item1\", price: 3200, rank: 0 }, { vendor: \"vendor3\", item: \"item2\", price: 1100, rank: 0 }, { vendor: \"vendor3\", item: \"item3\", price: 2000, rank: 0 }],\r\n    collection = data.reduce((r, o) =&gt; ((r[o.item] = r[o.item] || []).push(o.price), r), {});\r\n\r\nObject.values(collection).forEach(a =&gt; a.sort((a, b) =&gt; a - b));\r\n\r\ndata.forEach(o =&gt; o.rank = collection[o.item].indexOf(o.price) + 1);\r\n\r\nconsole.log(data);</code></pre>\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>.as-console-wrapper { max-height: 100% !important; top: 0; }</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": [], "owner": {"reputation": 28101, "user_id": 3082296, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/5eac8c095f63cb9fe29a9af3cb97eb0e?s=128&d=identicon&r=PG&f=1", "display_name": "adiga", "link": "https://stackoverflow.com/users/3082296/adiga"}, "is_accepted": false, "score": 0, "last_activity_date": 1551873464, "last_edit_date": 1551873464, "creation_date": 1551870595, "answer_id": 55021661, "question_id": 55020905, "link": "https://stackoverflow.com/questions/55020905/typescript-rank-by-partition-group/55021661#55021661", "title": "Typescript Rank By Partition / Group", "body": "<p>You can <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/sort\" rel=\"nofollow noreferrer\"><code>sort</code></a> the array based on <code>item</code> and <code>price</code>. Then, loop through the sorted array and assign <code>rank</code> based on whether previous <code>item</code> is same as current <code>item</code>:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const arr = [{vendor:\"vendor1\",item:\"item1\",price:1100,rank:0},{vendor:\"vendor1\",item:\"item2\",price:3200,rank:0},{vendor:\"vendor1\",item:\"item3\",price:1100,rank:0},{vendor:\"vendor2\",item:\"item1\",price:2000,rank:0},{vendor:\"vendor2\",item:\"item2\",price:2000,rank:0},{vendor:\"vendor2\",item:\"item3\",price:3200,rank:0},{vendor:\"vendor3\",item:\"item1\",price:3200,rank:0},{vendor:\"vendor3\",item:\"item2\",price:1100,rank:0},{vendor:\"vendor3\",item:\"item3\",price:2000,rank:0}]\r\n\r\nconst output = arr.sort((a, b) =&gt; a.item.localeCompare(b.item) || a.price - b.price)\r\n  .map((o, i) =&gt; {\r\n    const prev = arr[arr.length - 1]\r\n    const rank = prev &amp;&amp; prev.item === o.item\r\n                   ? prev.rank + 1\r\n                   : 1;\r\n                   \r\n    return { ...o, rank }\r\n  })\r\n\r\nconsole.log(output)</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 1410, "user_id": 1174657, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/d187ae04c2106e517b00084a61d6d327?s=128&d=identicon&r=PG", "display_name": "Wildan Muhlis", "link": "https://stackoverflow.com/users/1174657/wildan-muhlis"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 71, "favorite_count": 0, "closed_date": 1551896204, "accepted_answer_id": 55021434, "answer_count": 5, "score": -1, "last_activity_date": 1551873464, "creation_date": 1551868222, "last_edit_date": 1551869616, "question_id": 55020905, "link": "https://stackoverflow.com/questions/55020905/typescript-rank-by-partition-group", "closed_reason": "Needs details or clarity", "title": "Typescript Rank By Partition / Group", "body": "<p>Let's say we have this initial array of object:</p>\n\n<pre><code>{vendor:\"vendor1\", item:\"item1\", price:1100, rank:0},\n{vendor:\"vendor1\", item:\"item2\",price:3200, rank:0},\n{vendor:\"vendor1\", item:\"item3\", price:1100, rank:0},\n\n{vendor:\"vendor2\", item:\"item1\", price:2000, rank:0},\n{vendor:\"vendor2\", item:\"item2\",price:2000, rank:0},\n{vendor:\"vendor2\", item:\"item3\", price:3200, rank:0},\n\n{vendor:\"vendor3\", item:\"item1\", price:3200, rank:0},\n{vendor:\"vendor3\", item:\"item2\",price:1100, rank:0},\n{vendor:\"vendor3\", item:\"item3\", price:2000, rank:0},\n</code></pre>\n\n<p>How to fill rank based on price property by it's item category compare to all vendor with same item. </p>\n\n<p>Desired Result:</p>\n\n<pre><code>{vendor:\"vendor1\", item:\"item1\", price:1100, rank:1},\n{vendor:\"vendor1\", item:\"item2\",price:3200, rank:3},\n{vendor:\"vendor1\", item:\"item3\", price:1100, rank:1},\n\n{vendor:\"vendor2\", item:\"item1\", price:2000, rank:2},\n{vendor:\"vendor2\", item:\"item2\",price:2000, rank:2},\n{vendor:\"vendor2\", item:\"item3\", price:3200, rank:3},\n\n{vendor:\"vendor3\", item:\"item1\", price:3200, rank:3},\n{vendor:\"vendor3\", item:\"item2\",price:1100, rank:1},\n{vendor:\"vendor3\", item:\"item3\", price:2000, rank:2},\n</code></pre>\n"}, {"tags": ["json", "typescript", "angular7"], "answers": [{"comments": [{"owner": {"reputation": 1796, "user_id": 9955460, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8554e7f4c93d6a15bf478e1e64e0e131?s=128&d=identicon&r=PG&f=1", "display_name": "Juraj Kocan", "link": "https://stackoverflow.com/users/9955460/juraj-kocan"}, "edited": false, "score": 1, "creation_date": 1551869582, "post_id": 55020932, "comment_id": 96796051, "body": "based on his repoutation score, he can not accept, but here is my upvote for you XD"}], "tags": [], "owner": {"reputation": 6901, "user_id": 7436489, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d3f27318e4582da71b5ed0f0dc453100?s=128&d=identicon&r=PG&f=1", "display_name": "Roberto Zvjerkovi\u0107", "link": "https://stackoverflow.com/users/7436489/roberto-zvjerkovi%c4%87"}, "is_accepted": true, "score": 1, "last_activity_date": 1551868307, "creation_date": 1551868307, "answer_id": 55020932, "question_id": 55020894, "link": "https://stackoverflow.com/questions/55020894/how-to-access-json-attribute-in-typescript/55020932#55020932", "title": "How to Access JSON attribute in typeScript", "body": "<p>You need to do the assignment inside  the subscribe callback:</p>\n\n<pre><code>this.http.get(this.url1)\n    .subscribe( e =&gt; {\n        this.response = e;\n        this.test = \"OK\";\n        this.t=this.response.name2;\n    });\n</code></pre>\n\n<p><code>http.get</code> is async and <code>this.response</code> will still not be defined on the next line, but it will be defined in <code>subscribe</code> callback.</p>\n"}], "owner": {"reputation": 5, "user_id": 10949485, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/X5YGM.jpg?s=128&g=1", "display_name": "Talha Zafar", "link": "https://stackoverflow.com/users/10949485/talha-zafar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 61, "favorite_count": 0, "accepted_answer_id": 55020932, "answer_count": 1, "score": 0, "last_activity_date": 1551868420, "creation_date": 1551868195, "last_edit_date": 1592644375, "question_id": 55020894, "link": "https://stackoverflow.com/questions/55020894/how-to-access-json-attribute-in-typescript", "title": "How to Access JSON attribute in typeScript", "body": "<h2>How to access the JSON attributes in typescript ?</h2>\n<p>As I am making Angular Project.<br />\n`</p>\n<pre><code>    test:string;\n    response:any;\n\n    web_assign() {\n    this.http.get(this.url1).subscribe( e =&gt; this.response = e);\n    this.test = &quot;OK&quot;;\n    this.t=this.response.name2;\n    return false;}\n</code></pre>\n<p>it is giving error on this line.\n<code>this.t=this.response.name2;</code>\nIt says that it cannot read property of 'name2'</p>\n"}, {"tags": ["javascript", "html", "typescript", "formio"], "owner": {"reputation": 229, "user_id": 10776598, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-EqclCl2CX5I/AAAAAAAAAAI/AAAAAAAAAAA/AGDgw-hnqbJVEXoUom3N1puWYYQ2U3sY9Q/mo/photo.jpg?sz=128", "display_name": "Rajan Bosh", "link": "https://stackoverflow.com/users/10776598/rajan-bosh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 617, "favorite_count": 1, "answer_count": 0, "score": 1, "last_activity_date": 1551868169, "creation_date": 1551868169, "question_id": 55020886, "link": "https://stackoverflow.com/questions/55020886/how-to-create-custom-formio-check-box-component-in-angular", "title": "How to create custom formio check box component in angular", "body": "<p>i have one js file called as Checkbox.js,and i have app.component.ts file as follows...</p>\n\n<p>AppComponent.ts\n<div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>import { Component } from '@angular/core';\r\nimport { Router } from '@angular/router';\r\nimport { FormioResources } from 'angular-formio/resource';\r\nimport { FormioAuthService } from 'angular-formio/auth';\r\nimport { AppConfig } from '../config';\r\nimport { FormioForm } from 'formiojs/full';\r\nimport from './Checkbox';\r\nimport 'core-js/es7/reflect';\r\nimport BaseComponent from 'formiojs/components/base/Base';\r\n\r\nimport * as _ from \"lodash\";\r\n\r\n\r\n@Component({\r\n  selector: 'app-root',\r\n  templateUrl: './app.component.html',\r\n  styleUrls: ['./app.component.scss']\r\n})\r\nexport class AppComponent {\r\n  title = 'app';\r\n  offlineCount = 0;\r\n  offlineMode: any = null;\r\n  offlineError = '';\r\n  constructor(private auth: FormioAuthService, private router: Router) {\r\n    this.auth.onLogin.subscribe(() =&gt; {\r\n      this.router.navigate(['/home']);\r\n    });\r\n\r\n    this.auth.onLogout.subscribe(() =&gt; {\r\n      this.router.navigate(['/auth/login']);\r\n    });\r\n\r\n    this.auth.onRegister.subscribe(() =&gt; {\r\n      this.router.navigate(['/home']);\r\n    });\r\n\r\n    // Register our custom components.\r\n    FormioForm.registerComponent('checkbox', Checkbox);\r\n  }\r\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>Checkbox.js\n<div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>import _ from 'lodash';\r\n/* import BaseComponent from '../base/Base'; */\r\nimport BaseComponent from 'formiojs/components/base/Base';\r\n\r\nexport default class CheckBoxComponent extends BaseComponent {\r\n  static schema(...extend) {\r\n    return BaseComponent.schema({\r\n      type: 'checkbox',\r\n      inputType: 'checkbox',\r\n      label: 'Checkbox',\r\n      key: 'checkbox',\r\n      dataGridLabel: true,\r\n      labelPosition: 'right',\r\n      value: '',\r\n      name: ''\r\n    }, ...extend);\r\n  }\r\n \r\n  static get builderInfo() {\r\n    return {\r\n      title: 'Checkbox',\r\n      group: 'basic',\r\n      icon: 'fa fa-check-square',\r\n      documentation: 'http://help.form.io/userguide/#checkbox',\r\n      weight: 50,\r\n      schema: CheckBoxComponent.schema()\r\n    };\r\n  }\r\n \r\n  get defaultSchema() {\r\n    return CheckBoxComponent.schema();\r\n  }\r\n \r\n  get defaultValue() {\r\n    return this.component.name ? '' : (this.component.defaultValue || false).toString() === 'true';\r\n  }\r\n \r\n  get hasSetValue() {\r\n    return this.hasValue();\r\n  }\r\n \r\n  elementInfo() {\r\n    const info = super.elementInfo();\r\n    info.type = 'input';\r\n    info.changeEvent = 'click';\r\n    info.attr.type = this.component.inputType || 'checkbox';\r\n    info.attr.class = 'form-check-input';\r\n    if (this.component.name) {\r\n      info.attr.name = `data[${this.component.name}]`;\r\n    }\r\n    info.attr.value = this.component.value ? this.component.value : 0;\r\n    return info;\r\n  }\r\n \r\n  build() {\r\n    if (this.viewOnly) {\r\n      return this.viewOnlyBuild();\r\n    }\r\n \r\n    if (!this.component.input) {\r\n      return;\r\n    }\r\n    this.createElement();\r\n    this.input = this.createInput(this.element);\r\n    this.createLabel(this.element, this.input);\r\n    if (!this.labelElement) {\r\n      this.addInput(this.input, this.element);\r\n    }\r\n    this.createDescription(this.element);\r\n    this.restoreValue();\r\n    if (this.shouldDisable) {\r\n      this.disabled = true;\r\n    }\r\n    this.autofocus();\r\n    this.attachLogic();\r\n  }\r\n \r\n  get emptyValue() {\r\n    return false;\r\n  }\r\n \r\n  isEmpty(value) {\r\n    return super.isEmpty(value) || value === false;\r\n  }\r\n \r\n  createElement() {\r\n    let className = `form-check ${this.className}`;\r\n    if (!this.labelIsHidden()) {\r\n      className += ` ${this.component.inputType || 'checkbox'}`;\r\n    }\r\n    this.element = this.ce('div', {\r\n      id: this.id,\r\n      class: className\r\n    });\r\n    this.element.component = this;\r\n  }\r\n \r\n  labelOnTheTopOrLeft() {\r\n    return ['top', 'left'].includes(this.component.labelPosition);\r\n  }\r\n \r\n  labelOnTheTopOrBottom() {\r\n    return ['top', 'bottom'].includes(this.component.labelPosition);\r\n  }\r\n \r\n  setInputLabelStyle(label) {\r\n    if (this.component.labelPosition === 'left') {\r\n      _.assign(label.style, {\r\n        textAlign: 'center',\r\n        paddingLeft: 0,\r\n      });\r\n    }\r\n \r\n    if (this.labelOnTheTopOrBottom()) {\r\n      _.assign(label.style, {\r\n        display: 'block',\r\n        textAlign: 'center',\r\n        paddingLeft: 0,\r\n      });\r\n    }\r\n  }\r\n \r\n  setInputStyle(input) {\r\n    if (!input) {\r\n      return;\r\n    }\r\n    if (this.component.labelPosition === 'left') {\r\n      _.assign(input.style, {\r\n        position: 'initial',\r\n        marginLeft: '7px'\r\n      });\r\n    }\r\n \r\n    if (this.labelOnTheTopOrBottom()) {\r\n      _.assign(input.style, {\r\n        width: '100%',\r\n        position: 'initial',\r\n        marginLeft: 0\r\n      });\r\n    }\r\n  }\r\n \r\n  createLabel(container, input) {\r\n    const isLabelHidden = this.labelIsHidden();\r\n    let className = 'control-label form-check-label';\r\n    if (this.component.input\r\n      &amp;&amp; !this.options.inputsOnly\r\n      &amp;&amp; this.component.validate\r\n      &amp;&amp; this.component.validate.required) {\r\n      className += ' field-required';\r\n    }\r\n \r\n    this.labelElement = this.ce('label', {\r\n      class: className\r\n    });\r\n    this.addShortcut();\r\n \r\n    const labelOnTheTopOrOnTheLeft = this.labelOnTheTopOrLeft();\r\n    if (!isLabelHidden) {\r\n      // Create the SPAN around the textNode for better style hooks\r\n      this.labelSpan = this.ce('span');\r\n \r\n      if (this.info.attr.id) {\r\n        this.labelElement.setAttribute('for', this.info.attr.id);\r\n      }\r\n    }\r\n    if (!isLabelHidden &amp;&amp; labelOnTheTopOrOnTheLeft) {\r\n      this.setInputLabelStyle(this.labelElement);\r\n      this.setInputStyle(input);\r\n      this.labelSpan.appendChild(this.text(this.component.label));\r\n      this.labelElement.appendChild(this.labelSpan);\r\n    }\r\n    this.addInput(input, this.labelElement);\r\n    if (!isLabelHidden &amp;&amp; !labelOnTheTopOrOnTheLeft) {\r\n      this.setInputLabelStyle(this.labelElement);\r\n      this.setInputStyle(input);\r\n      this.labelSpan.appendChild(this.text(this.addShortcutToLabel()));\r\n      this.labelElement.appendChild(this.labelSpan);\r\n    }\r\n    this.createTooltip(this.labelElement);\r\n    container.appendChild(this.labelElement);\r\n  }\r\n \r\n  createInput(container) {\r\n    if (!this.component.input) {\r\n      return;\r\n    }\r\n    const input = this.ce(this.info.type, this.info.attr);\r\n    this.errorContainer = container;\r\n    return input;\r\n  }\r\n \r\n  set dataValue(value) {\r\n    const setValue = (super.dataValue = value);\r\n    if (this.component.name) {\r\n      _.set(this.data, this.component.key, setValue === this.component.value);\r\n    }\r\n    return setValue;\r\n  }\r\n \r\n  get dataValue() {\r\n    const getValue = super.dataValue;\r\n    if (this.component.name) {\r\n      _.set(this.data, this.component.key, getValue === this.component.value);\r\n    }\r\n    return getValue;\r\n  }\r\n \r\n  get key() {\r\n    return this.component.name ? this.component.name : super.key;\r\n  }\r\n \r\n  getValueAt(index) {\r\n    if (this.component.name) {\r\n      return this.inputs[index].checked ? this.component.value : '';\r\n    }\r\n    return !!this.inputs[index].checked;\r\n  }\r\n \r\n  getValue() {\r\n    const value = super.getValue();\r\n    if (this.component.name) {\r\n      return value ? this.setCheckedState(value) : this.setCheckedState(this.dataValue);\r\n    }\r\n    else {\r\n      return value;\r\n    }\r\n  }\r\n \r\n  setCheckedState(value) {\r\n    if (!this.input) {\r\n      return;\r\n    }\r\n    if (this.component.name) {\r\n      this.input.value = (value === this.component.value) ? this.component.value : 0;\r\n      this.input.checked = (value === this.component.value) ? 1 : 0;\r\n    }\r\n    else if (value === 'on') {\r\n      this.input.value = 1;\r\n      this.input.checked = 1;\r\n    }\r\n    else if (value === 'off') {\r\n      this.input.value = 0;\r\n      this.input.checked = 0;\r\n    }\r\n    else if (value) {\r\n      this.input.value = 1;\r\n      this.input.checked = 1;\r\n    }\r\n    else {\r\n      this.input.value = 0;\r\n      this.input.checked = 0;\r\n    }\r\n    if (this.input.checked) {\r\n      this.input.setAttribute('checked', true);\r\n    }\r\n    else {\r\n      this.input.removeAttribute('checked');\r\n    }\r\n    return value;\r\n  }\r\n \r\n  setValue(value, flags) {\r\n    flags = this.getFlags.apply(this, arguments);\r\n    if (this.setCheckedState(value) !== undefined) {\r\n      return this.updateValue(flags);\r\n    }\r\n  }\r\n \r\n  getView(value) {\r\n    return value ? 'Yes' : 'No';\r\n  }\r\n \r\n  destroy() {\r\n    super.destroy();\r\n    this.removeShortcut();\r\n  }\r\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>when i am rendering check box component into my application,i am getting some errors like '=' required at import from './Checkbox' and can not find name Checkbox in appcomponent.ts file.</p>\n\n<p>I want to create one component which are in Basic Components of formio like check box component,i want render that component into my application which should look like as shown below,on that instead of showing check matrix component i have to show check box component....</p>\n\n<p><a href=\"https://i.stack.imgur.com/81Aag.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n"}, {"tags": ["typescript", "angular-cli", "html5-audio"], "answers": [{"comments": [{"owner": {"reputation": 1610, "user_id": 9570401, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7EfUT.jpg?s=128&g=1", "display_name": "Inamur Rahman", "link": "https://stackoverflow.com/users/9570401/inamur-rahman"}, "edited": false, "score": 0, "creation_date": 1595854814, "post_id": 55022039, "comment_id": 111609698, "body": "Where is  ??  var sound = new Howl();"}, {"owner": {"reputation": 167, "user_id": 11783353, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4032064c33d452ce48641a45adbb4911?s=128&d=identicon&r=PG&f=1", "display_name": "SuperJumpBros", "link": "https://stackoverflow.com/users/11783353/superjumpbros"}, "reply_to_user": {"reputation": 1610, "user_id": 9570401, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7EfUT.jpg?s=128&g=1", "display_name": "Inamur Rahman", "link": "https://stackoverflow.com/users/9570401/inamur-rahman"}, "edited": false, "score": 0, "creation_date": 1611920716, "post_id": 55022039, "comment_id": 116611130, "body": "@InamurRahman He&#39;s not using howler, he&#39;s using HTML5 Audio."}], "tags": [], "owner": {"reputation": 113, "user_id": 11159019, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-2t7VdE3bVdA/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3reAplgbpa-jlNdgvO_beXTnnXL1ig/mo/photo.jpg?sz=128", "display_name": "Sam Toorchi", "link": "https://stackoverflow.com/users/11159019/sam-toorchi"}, "is_accepted": true, "score": 0, "last_activity_date": 1551871776, "creation_date": 1551871776, "answer_id": 55022039, "question_id": 55020793, "link": "https://stackoverflow.com/questions/55020793/why-audio-pause-can-not-working-with-typescript-but-audio-play-works-very/55022039#55022039", "title": "why audio.pause() can not working with TypeScript, but audio.play(); works very well?", "body": "<p>for access to the pause(), mute() or load() the variable, aud must be declared in the class for global access. </p>\n\n<p>Solution:</p>\n\n<pre><code>export class personalCard { \nj = 0;\naud = new Audio ('../../assets/aud/Magdalena_Su_\u00df.opus');\n\nplayAudio(){\n\nthis.j= this.j + 1;\n\nif(this.j % 2 == 0){\n  aud.pause();\n  console.log('Pause');\n  }\n\nelse if(this.j % 2 != 0){\n  aud.play();\n  console.log('Play');\n     }\n   }\n\n}\n</code></pre>\n"}], "owner": {"reputation": 113, "user_id": 11159019, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-2t7VdE3bVdA/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3reAplgbpa-jlNdgvO_beXTnnXL1ig/mo/photo.jpg?sz=128", "display_name": "Sam Toorchi", "link": "https://stackoverflow.com/users/11159019/sam-toorchi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 854, "favorite_count": 0, "accepted_answer_id": 55022039, "answer_count": 1, "score": 0, "last_activity_date": 1551871776, "creation_date": 1551867916, "question_id": 55020793, "link": "https://stackoverflow.com/questions/55020793/why-audio-pause-can-not-working-with-typescript-but-audio-play-works-very", "title": "why audio.pause() can not working with TypeScript, but audio.play(); works very well?", "body": "<p>I have a problem with the pause() function of HTMLMediaElement. I tried to pause my audio, but nothing happens. play() works every time very well:</p>\n\n<pre><code>export class personalCard { \nj = 0;\n\nplayAudio(){\nlet aud = new Audio ('../../assets/aud/Magdalena_Su_\u00df.opus');\n\n\nthis.j= this.j + 1;\n\nif(this.j % 2 == 0){\n  aud.pause();\n  console.log('Pause');\n   }\n\nelse if(this.j % 2 != 0){\n  aud.play();\n  console.log('Play');\n   }\n\n }\n}\n</code></pre>\n\n<p>HTML:</p>\n\n<pre><code>&lt;button id=\"volume\" (click)=\"playAudio()\"&gt;&lt;/button&gt;\n</code></pre>\n\n<p>I can also see on console the log 'pause', but the aud.pause(); can never working. I don't use any frameworks for audio. \ncan anybody help me to solve the problem? </p>\n\n<p>thank you very much,\nSam</p>\n"}, {"tags": ["angular", "typescript"], "comments": [{"owner": {"reputation": 7439, "user_id": 224751, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/3bf59e6fc195123f8f07126e71d89fe4?s=128&d=identicon&r=PG", "display_name": "Thor Jacobsen", "link": "https://stackoverflow.com/users/224751/thor-jacobsen"}, "edited": false, "score": 0, "creation_date": 1551867615, "post_id": 55020581, "comment_id": 96794777, "body": "Can you be more specific on what you think is wrong? I don&#39;t see any difference with the <code>articleAuthors</code> list, but the casing of <code>title</code> is different in the 2 examples"}, {"owner": {"reputation": 1019, "user_id": 939116, "user_type": "registered", "accept_rate": 39, "profile_image": "https://www.gravatar.com/avatar/f94957291db07244b3918b7948bd1ef3?s=128&d=identicon&r=PG", "display_name": "Kr1", "link": "https://stackoverflow.com/users/939116/kr1"}, "reply_to_user": {"reputation": 7439, "user_id": 224751, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/3bf59e6fc195123f8f07126e71d89fe4?s=128&d=identicon&r=PG", "display_name": "Thor Jacobsen", "link": "https://stackoverflow.com/users/224751/thor-jacobsen"}, "edited": false, "score": 0, "creation_date": 1551868055, "post_id": 55020581, "comment_id": 96795070, "body": "Sorry for the Typo, it works with Title or title. The problem is only with articleAuthors, I just want to send a valid JSON but the server doesn&#39;t accept it"}, {"owner": {"reputation": 1033, "user_id": 7325882, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/f2m2E.jpg?s=128&g=1", "display_name": "Abhishek Gautam", "link": "https://stackoverflow.com/users/7325882/abhishek-gautam"}, "edited": false, "score": 0, "creation_date": 1551868075, "post_id": 55020581, "comment_id": 96795086, "body": "the thing is you are constructing your data well."}, {"owner": {"reputation": 531, "user_id": 10033999, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-D9fIcHA2ul0/AAAAAAAAAAI/AAAAAAAAAJI/8Wbz_pV9Vq4/photo.jpg?sz=128", "display_name": "Jimmy Hedstr&#246;m", "link": "https://stackoverflow.com/users/10033999/jimmy-hedstr%c3%b6m"}, "edited": false, "score": 0, "creation_date": 1551868886, "post_id": 55020581, "comment_id": 96795589, "body": "What are you actually sending to the server? Can you check the network tab in Chrome DevTools and see what&#39;s being shipped?"}], "answers": [{"comments": [{"owner": {"reputation": 1019, "user_id": 939116, "user_type": "registered", "accept_rate": 39, "profile_image": "https://www.gravatar.com/avatar/f94957291db07244b3918b7948bd1ef3?s=128&d=identicon&r=PG", "display_name": "Kr1", "link": "https://stackoverflow.com/users/939116/kr1"}, "edited": false, "score": 0, "creation_date": 1551869830, "post_id": 55021322, "comment_id": 96796196, "body": "Thank you for the suggestion. I tried it but unfortunately it didn&#39;t change anything"}, {"owner": {"reputation": 397, "user_id": 7010016, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-zu-CNLje7wU/AAAAAAAAAAI/AAAAAAAAB0U/AK1G7kUDMSU/photo.jpg?sz=128", "display_name": "arpit sharma", "link": "https://stackoverflow.com/users/7010016/arpit-sharma"}, "reply_to_user": {"reputation": 1019, "user_id": 939116, "user_type": "registered", "accept_rate": 39, "profile_image": "https://www.gravatar.com/avatar/f94957291db07244b3918b7948bd1ef3?s=128&d=identicon&r=PG", "display_name": "Kr1", "link": "https://stackoverflow.com/users/939116/kr1"}, "edited": false, "score": 0, "creation_date": 1551870047, "post_id": 55021322, "comment_id": 96796307, "body": "If you have access to server logs you can recheck what exception is there, usually 500: Internal server error is by mismatch of data parameters but sometimes other security exceptions are also there."}, {"owner": {"reputation": 1019, "user_id": 939116, "user_type": "registered", "accept_rate": 39, "profile_image": "https://www.gravatar.com/avatar/f94957291db07244b3918b7948bd1ef3?s=128&d=identicon&r=PG", "display_name": "Kr1", "link": "https://stackoverflow.com/users/939116/kr1"}, "edited": false, "score": 0, "creation_date": 1551870898, "post_id": 55021322, "comment_id": 96796827, "body": "I don&#39;t get any error in Backend side. And the same JSON using Postman is working well"}, {"owner": {"reputation": 397, "user_id": 7010016, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-zu-CNLje7wU/AAAAAAAAAAI/AAAAAAAAB0U/AK1G7kUDMSU/photo.jpg?sz=128", "display_name": "arpit sharma", "link": "https://stackoverflow.com/users/7010016/arpit-sharma"}, "reply_to_user": {"reputation": 1019, "user_id": 939116, "user_type": "registered", "accept_rate": 39, "profile_image": "https://www.gravatar.com/avatar/f94957291db07244b3918b7948bd1ef3?s=128&d=identicon&r=PG", "display_name": "Kr1", "link": "https://stackoverflow.com/users/939116/kr1"}, "edited": false, "score": 0, "creation_date": 1551871487, "post_id": 55021322, "comment_id": 96797161, "body": "are you using .net as backend ? if yes then double-check content-type in request and backend controller. As visible request content-type is application/json-patch json in postman it is usually application/json"}], "tags": [], "owner": {"reputation": 397, "user_id": 7010016, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-zu-CNLje7wU/AAAAAAAAAAI/AAAAAAAAB0U/AK1G7kUDMSU/photo.jpg?sz=128", "display_name": "arpit sharma", "link": "https://stackoverflow.com/users/7010016/arpit-sharma"}, "is_accepted": false, "score": 0, "last_activity_date": 1551869593, "creation_date": 1551869593, "answer_id": 55021322, "question_id": 55020581, "link": "https://stackoverflow.com/questions/55020581/how-to-convert-create-a-valid-json-to-send-to-a-web-service/55021322#55021322", "title": "How to convert/create a valid JSON to send to a web service?", "body": "<pre><code>articleAuthorObj.AuthorId = value;\n</code></pre>\n\n<p>you can keep casing consistent.</p>\n"}], "owner": {"reputation": 1019, "user_id": 939116, "user_type": "registered", "accept_rate": 39, "profile_image": "https://www.gravatar.com/avatar/f94957291db07244b3918b7948bd1ef3?s=128&d=identicon&r=PG", "display_name": "Kr1", "link": "https://stackoverflow.com/users/939116/kr1"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 47, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1551869593, "creation_date": 1551867294, "last_edit_date": 1551869396, "question_id": 55020581, "link": "https://stackoverflow.com/questions/55020581/how-to-convert-create-a-valid-json-to-send-to-a-web-service", "title": "How to convert/create a valid JSON to send to a web service?", "body": "<p>I am trying to send a JSON to my web service that looks like that:</p>\n\n<pre><code>{\n \"title\": \"Editorial updated\",\n \"id\": \"d4ef0cfe-0b7b-4432-a099-75a221c2258b\",\n \"articleAuthors\":[\n        {\n            \"AuthorId\":\"9f154e53-bf06-439e-9253-69d33081c064\"\n        },\n        {\n            \"AuthorId\":\"6f10c8ad-52d6-4dfd-a223-eec1cb635881\"\n        }\n    ]\n}\n</code></pre>\n\n<p>When I send this request using Postman, it works well.</p>\n\n<p>The problem occurs when I want to send the same content from my Angular component, specifically the <em>articleAuthors</em> part. Here is how I constructed it.</p>\n\n<pre><code>const authorsSelected = this.form.value.authors;\nconst authorsSelectedArray : {}[] = [];\nauthorsSelected.forEach(function (value) {\n  const articleAuthorObj = {} as ArticleAuthorTest;\n  articleAuthorObj.authorId = value;\n  authorsSelectedArray.push(articleAuthorObj);\n});\nthis.form.value.articleAuthors = authorsSelectedArray;\n</code></pre>\n\n<p>In Chrome Dev Tools, the JSON looks like that</p>\n\n<p><a href=\"https://i.stack.imgur.com/Bn2gv.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Bn2gv.png\" alt=\"enter image description here\"></a></p>\n\n<p>When I try to send this to the server, I keep stucked with an error 500. I don't any difference between the JSON created with Postman and the one created on Angular.</p>\n\n<p>As requested in comments, here is a screenshot of what is sent in 'Network' Tab</p>\n\n<p><a href=\"https://i.stack.imgur.com/1ysKb.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/1ysKb.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["typescript", "typescript-typings"], "comments": [{"owner": {"reputation": 25778, "user_id": 4467208, "user_type": "registered", "accept_rate": 51, "profile_image": "https://i.stack.imgur.com/H3QRx.jpg?s=128&g=1", "display_name": "Murat Karag&#246;z", "link": "https://stackoverflow.com/users/4467208/murat-karag%c3%b6z"}, "edited": false, "score": 0, "creation_date": 1551866422, "post_id": 55020193, "comment_id": 96793998, "body": "Do you want to fill the array with the types or what exactly is the use case to use the array like that?"}, {"owner": {"reputation": 2296, "user_id": 1103340, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/OgL6f.jpg?s=128&g=1", "display_name": "aherve", "link": "https://stackoverflow.com/users/1103340/aherve"}, "reply_to_user": {"reputation": 25778, "user_id": 4467208, "user_type": "registered", "accept_rate": 51, "profile_image": "https://i.stack.imgur.com/H3QRx.jpg?s=128&g=1", "display_name": "Murat Karag&#246;z", "link": "https://stackoverflow.com/users/4467208/murat-karag%c3%b6z"}, "edited": false, "score": 1, "creation_date": 1551866575, "post_id": 55020193, "comment_id": 96794091, "body": "@MuratKarag&#246;z kind of. I would like to be able to profit from the benefits of both <code>const x: Stuff</code> and <code>AVAILABLE_STUFF.forEach(stuff =&gt; ...)</code> with only one declaration. I don&#39;t care if I have to declare an array, a type, or whatever else that I yet don&#39;t know about :)"}, {"owner": {"reputation": 73538, "user_id": 43681, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/6c2dd6a39d3f38f1bb47a8c1fe8325e2?s=128&d=identicon&r=PG", "display_name": "sleske", "link": "https://stackoverflow.com/users/43681/sleske"}, "edited": false, "score": 0, "creation_date": 1551866582, "post_id": 55020193, "comment_id": 96794093, "body": "Have you considered using a string <a href=\"https://www.typescriptlang.org/docs/handbook/enums.html\" rel=\"nofollow noreferrer\">enum</a>? That looks like it should do what you want. It is a type, and you can iterate the values."}, {"owner": {"reputation": 39443, "user_id": 129164, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/ec326c009186734854c600265b69a6ce?s=128&d=identicon&r=PG", "display_name": "devuxer", "link": "https://stackoverflow.com/users/129164/devuxer"}, "edited": false, "score": 0, "creation_date": 1601920225, "post_id": 55020193, "comment_id": 113550146, "body": "Closely related to <a href=\"https://stackoverflow.com/questions/51521808/how-do-i-create-a-type-from-a-string-array-in-typescript\" title=\"how do i create a type from a string array in typescript\">stackoverflow.com/questions/51521808/&hellip;</a>"}], "answers": [{"comments": [{"owner": {"reputation": 15625, "user_id": 3786294, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/o0RBY.png?s=128&g=1", "display_name": "Paleo", "link": "https://stackoverflow.com/users/3786294/paleo"}, "edited": false, "score": 0, "creation_date": 1551867742, "post_id": 55020406, "comment_id": 96794858, "body": "In the second solution, I see that the type <code>Stuff</code> is correctly inferred but I don&#39;t understand the syntax. What is the role of <code>[number]</code> in <code>typeof AVAILABLE_STUFF[number]</code>?"}, {"owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "reply_to_user": {"reputation": 15625, "user_id": 3786294, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/o0RBY.png?s=128&g=1", "display_name": "Paleo", "link": "https://stackoverflow.com/users/3786294/paleo"}, "edited": false, "score": 1, "creation_date": 1551868090, "post_id": 55020406, "comment_id": 96795100, "body": "@Paleo added some explanations let me know if it is clearer now."}, {"owner": {"reputation": 15625, "user_id": 3786294, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/o0RBY.png?s=128&g=1", "display_name": "Paleo", "link": "https://stackoverflow.com/users/3786294/paleo"}, "edited": false, "score": 0, "creation_date": 1551869134, "post_id": 55020406, "comment_id": 96795743, "body": "I get it! Thank you."}, {"owner": {"reputation": 2296, "user_id": 1103340, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/OgL6f.jpg?s=128&g=1", "display_name": "aherve", "link": "https://stackoverflow.com/users/1103340/aherve"}, "edited": false, "score": 0, "creation_date": 1551869334, "post_id": 55020406, "comment_id": 96795878, "body": "Second option works for me, but I&#39;m still puzzled about <code>enum</code>. when I try <code>const x: Stuff = &#39;something&#39;</code>  I get an error <code>Type &#39;&quot;something&quot;&#39; is not assignable to type &#39;Stuff&#39;. </code> Am I doing something wrong ?"}, {"owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "reply_to_user": {"reputation": 2296, "user_id": 1103340, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/OgL6f.jpg?s=128&g=1", "display_name": "aherve", "link": "https://stackoverflow.com/users/1103340/aherve"}, "edited": false, "score": 1, "creation_date": 1551869770, "post_id": 55020406, "comment_id": 96796159, "body": "@aherve it is not a perfect replacement. you will need to use <code>let a: Stuff = Stuff.something</code> in TS code. At runtime the value of <code>a</code> will be <code>something</code>"}, {"owner": {"reputation": 2296, "user_id": 1103340, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/OgL6f.jpg?s=128&g=1", "display_name": "aherve", "link": "https://stackoverflow.com/users/1103340/aherve"}, "edited": false, "score": 0, "creation_date": 1551869982, "post_id": 55020406, "comment_id": 96796273, "body": "Ok got it. Thanks a lot !"}, {"owner": {"reputation": 23995, "user_id": 863110, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/3d721f4c46282afc254f3ea0cd05df30?s=128&d=identicon&r=PG", "display_name": "Mosh Feu", "link": "https://stackoverflow.com/users/863110/mosh-feu"}, "edited": false, "score": 0, "creation_date": 1582875119, "post_id": 55020406, "comment_id": 106934180, "body": "@TitianCernicova-Dragomir Thanks for the answer and the explanation. My question is how can I use that approach for a function signature with rest params? For example, <code>const {bar3} = foo(&#39;bar1&#39;, &#39;bar2&#39;)</code> will throw an error, but <code>const {bar1} = foo(&#39;bar1&#39;, &#39;bar2&#39;)</code> will work. (If it should be a different question, let me know and I&#39;ll create one) - <a href=\"https://mnmlurl.ml/#tMDWm\" rel=\"nofollow noreferrer\">Playground</a>"}, {"owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "reply_to_user": {"reputation": 23995, "user_id": 863110, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/3d721f4c46282afc254f3ea0cd05df30?s=128&d=identicon&r=PG", "display_name": "Mosh Feu", "link": "https://stackoverflow.com/users/863110/mosh-feu"}, "edited": false, "score": 1, "creation_date": 1582881009, "post_id": 55020406, "comment_id": 106936733, "body": "@MoshFeu This should work: <a href=\"https://www.typescriptlang.org/play/?ssl=5&amp;ssc=30&amp;pln=5&amp;pc=22#code/GYVwdgxgLglg9mABBBA3ApgJygHgCqLoAeU6YAJgM6KVSYxgDmAfABQB0nAhpo5QFyI8AbQC6ASkEAldCkzl8AGhp0GLRAG8AUIl2JM6KCExIefdgfIgI6VqwAOB1MojGDYKOMQBeZpp16gY7oqMKumO5QiKI+iADkXGAAnlAAFmpxiFzUiUkA3AGBugZGJojBqAWBAL7KGtVZ1DJyCnjKtPRMzOIF1VpaKGC0WRGxwglxynEARnGiBVBJ9uiI5LGLy3DAI5jCYCAAttNY8-2DwxpZiA3eyGhYUKwTU7M9WkA\" rel=\"nofollow noreferrer\">typescriptlang.org/play/&hellip;</a>"}], "tags": [], "owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "is_accepted": true, "score": 12, "last_activity_date": 1551868067, "last_edit_date": 1551868067, "creation_date": 1551866807, "answer_id": 55020406, "question_id": 55020193, "link": "https://stackoverflow.com/questions/55020193/is-it-possible-to-create-a-typescript-type-from-an-array/55020406#55020406", "title": "Is it possible to create a typescript type from an array?", "body": "<p>One built-in option would be to use an enum instead of the type and array approach.</p>\n\n<pre><code>export enum Stuff {\n    something = 'something',\n    else = 'else',\n}\n\nexport const AVAILABLE_STUFF: Stuff[] = Object.values(Stuff);\n</code></pre>\n\n<p>Another option is to extract the type from the type of <code>AVAILABLE_STUFF</code>. To do this we must force the compiler to infer a tuple of string literals for <code>AVAILABLE_STUFF</code>. This can be done in <code>3.4</code> with <code>as const</code> or before <code>3.4</code> using an extra function. After <code>AVAILABLE_STUFF</code> is a tuple type we can just use a type query to get the type of the elements:</p>\n\n<pre><code>export const AVAILABLE_STUFF = (&lt;T extends string[]&gt;(...o: T)=&gt; o)('something', 'else'); // typed as [\"something\", \"else\"]\n// export const AVAILABLE_STUFF = ['something', 'else'] as const; // typed as [\"something\", \"else\"]  in 3.4\nexport type Stuff = typeof AVAILABLE_STUFF[number] //\"something\" | \"else\"\n</code></pre>\n\n<p>A few explanations of the above code. <code>typeof AVAILABLE_STUFF</code> gives us the type of the constant (<code>[\"something\", \"else\"]</code>) to get the <code>[number]</code> is called a <a href=\"https://www.typescriptlang.org/docs/handbook/advanced-types.html#index-types\" rel=\"noreferrer\">type query</a> and will give us the type of an item in the tuple.</p>\n\n<p>The <code>(&lt;T extends string[]&gt;(...o: T)=&gt; o)</code> is just an IIFE we use to force the compiler to infer a string literal tuple type. It has to be generic as the compiler will only infer literal types and tuples in certain cases (a type parameter with a constraint of <code>string</code> being one of them). The <code>as const</code> version is what I would recommend using when it becomes available as it is more readable.</p>\n"}, {"comments": [{"owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "edited": false, "score": 0, "creation_date": 1551868130, "post_id": 55020473, "comment_id": 96795135, "body": "Also a nice solution"}], "tags": [], "owner": {"reputation": 15625, "user_id": 3786294, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/o0RBY.png?s=128&g=1", "display_name": "Paleo", "link": "https://stackoverflow.com/users/3786294/paleo"}, "is_accepted": false, "score": 7, "last_activity_date": 1551866993, "creation_date": 1551866993, "answer_id": 55020473, "question_id": 55020193, "link": "https://stackoverflow.com/questions/55020193/is-it-possible-to-create-a-typescript-type-from-an-array/55020473#55020473", "title": "Is it possible to create a typescript type from an array?", "body": "<p>Another possibility is to create an object and use <code>keyof</code>. I recommend that way only if you have anything useful to store as values (in replacement of <code>null</code> in the code below).</p>\n\n<pre><code>const stuffDict = {\n  something: null,\n  else: null,\n}\n\ntype Stuff = keyof typeof stuffDict\nconst AVAILABLE_STUFF = Object.keys(stuffDict) as Stuff[]\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 5336, "user_id": 618099, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/A3bOH.png?s=128&g=1", "display_name": "Norfeldt", "link": "https://stackoverflow.com/users/618099/norfeldt"}, "edited": false, "score": 0, "creation_date": 1618920687, "post_id": 65830913, "comment_id": 118744177, "body": "Why does it have to be <code>AVAILABLE_STUFF[number]</code> and not just <code>AVAILABLE_STUFF[]</code> ?"}], "tags": [], "owner": {"reputation": 1690, "user_id": 6475950, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FmoDe.jpg?s=128&g=1", "display_name": "Archit Garg", "link": "https://stackoverflow.com/users/6475950/archit-garg"}, "is_accepted": false, "score": 2, "last_activity_date": 1611244034, "creation_date": 1611244034, "answer_id": 65830913, "question_id": 55020193, "link": "https://stackoverflow.com/questions/55020193/is-it-possible-to-create-a-typescript-type-from-an-array/65830913#65830913", "title": "Is it possible to create a typescript type from an array?", "body": "<h1>Fairly simple as of Typescript v3.14</h1>\n<p>You can do like this-</p>\n<pre class=\"lang-js prettyprint-override\"><code>export const AVAILABLE_STUFF = &lt;const&gt; ['something', 'else'];\nexport type Stuff = typeof AVAILABLE_STUFF[number];\n</code></pre>\n<p>More Information -\n<a href=\"https://www.typescriptlang.org/docs/handbook/release-notes/typescript-3-4.html#const-assertions\" rel=\"nofollow noreferrer\">https://www.typescriptlang.org/docs/handbook/release-notes/typescript-3-4.html#const-assertions</a></p>\n"}], "owner": {"reputation": 2296, "user_id": 1103340, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/OgL6f.jpg?s=128&g=1", "display_name": "aherve", "link": "https://stackoverflow.com/users/1103340/aherve"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 8196, "favorite_count": 3, "accepted_answer_id": 55020406, "answer_count": 3, "score": 14, "last_activity_date": 1611244034, "creation_date": 1551866244, "question_id": 55020193, "link": "https://stackoverflow.com/questions/55020193/is-it-possible-to-create-a-typescript-type-from-an-array", "title": "Is it possible to create a typescript type from an array?", "body": "<p>I often use code such as </p>\n\n<pre><code>export type Stuff = 'something' | 'else'\nexport const AVAILABLE_STUFF: Stuff[] = ['something', 'else']\n</code></pre>\n\n<p>This way I can both use the type <code>Stuff</code>, and iterate over all the available stuffs if need be.</p>\n\n<p>This works, but it feels like repeating twice the information. And you have to be careful because an update of either <code>Stuff</code> or <code>AVAILABLE_STUFF</code> also requires an update of its counterpart.</p>\n\n<p>Is there a better way to define the type from the Array, or even to somewhat use the array to type some data ?</p>\n"}, {"tags": ["javascript", "angular", "typescript", "function", "google-cloud-firestore"], "answers": [{"comments": [{"owner": {"reputation": 89, "user_id": 9604989, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-J2_EcWw-_e8/AAAAAAAAAAI/AAAAAAAAIdY/GAS8VUVFrAk/photo.jpg?sz=128", "display_name": "tobias hassebrock", "link": "https://stackoverflow.com/users/9604989/tobias-hassebrock"}, "edited": false, "score": 0, "creation_date": 1551869080, "post_id": 55020727, "comment_id": 96795710, "body": "Then I get this error: Property &#39;take&#39; does not exist on type &#39;Observable&lt;Action&lt;DocumentSnapshot&lt;{}&gt;&gt;&gt;&#39;."}], "tags": [], "owner": {"reputation": 2221, "user_id": 4097981, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/RHhab.png?s=128&g=1", "display_name": "&#216;rjan", "link": "https://stackoverflow.com/users/4097981/%c3%98rjan"}, "is_accepted": false, "score": 0, "last_activity_date": 1551868207, "last_edit_date": 1551868207, "creation_date": 1551867705, "answer_id": 55020727, "question_id": 55020175, "link": "https://stackoverflow.com/questions/55020175/angular-firestore-display-a-button-depending-of-a-returned-boolean-which-checks/55020727#55020727", "title": "Angular Firestore display a button depending of a returned boolean which checks if an Firestore document exist", "body": "<p>A bit blind coding, but might this work?</p>\n\n<p>In the service using Rxjs to verify if the object exist, and return an Observable of the result. With snapshot changes so that the value can change dynamicly:</p>\n\n<pre><code>public callCheckFollow(followingID: string, followerID: string): Observable&lt;boolean&gt; {\n    return of(this.angularFirestore.collection('users/${followingID}/following').doc(followerID).snapshotChanges().take(1).do(d =&gt; d.payload.exists));\n}\n</code></pre>\n\n<p>In the TS Component, just grab the observable from the service. </p>\n\n<pre><code>export class ServiceTestComponent implements OnInit {\n\n  followState: Observable&lt;boolean&gt;;\n\n  constructor(private followService: ProfileFollowService) {\n     this.followState = this.followService.callCheckFollow('someID', 'someID');   \n   }\n}\n</code></pre>\n\n<p>And then in the html listen async for changes on the follow state.</p>\n\n<pre><code>&lt;div *ngIf=\"(followState | async)\"&gt;\n  &lt;p&gt;hello Doc&lt;/p&gt;\n&lt;/div&gt;\n\n&lt;div *ngIf=\"(!followState | async)\"&gt;\n  &lt;p&gt;No doc&lt;/p&gt;\n&lt;/div&gt;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1499, "user_id": 4953406, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-CHN-GAi-XLM/AAAAAAAAAAI/AAAAAAAABFc/a2czpm8Fiwk/photo.jpg?sz=128", "display_name": "Arif", "link": "https://stackoverflow.com/users/4953406/arif"}, "is_accepted": true, "score": 1, "last_activity_date": 1551871680, "creation_date": 1551871680, "answer_id": 55022006, "question_id": 55020175, "link": "https://stackoverflow.com/questions/55020175/angular-firestore-display-a-button-depending-of-a-returned-boolean-which-checks/55022006#55022006", "title": "Angular Firestore display a button depending of a returned boolean which checks if an Firestore document exist", "body": "<p>In component typescript you have property which is boolean and you are assigning it to Promise inside the constructor.</p>\n\n<p>Move your code to <code>ngOnInit</code> add <code>async</code> keyword before that and before assigning followState use keyword <code>await</code></p>\n\n<pre><code>export class ServiceTestComponent implements OnInit {\n\n  followState: boolean;\n\n  constructor(private followService: ProfileFollowService) { }\n\n   // logs [object Promise], should log true or false\n   async ngOnInit() {\n     console.log('followstate' + this.followState);\n\n     this.followState = await this.followService.callCheckFollow('someID', 'someID');\n   }\n\n\n}\n</code></pre>\n"}], "owner": {"reputation": 89, "user_id": 9604989, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-J2_EcWw-_e8/AAAAAAAAAAI/AAAAAAAAIdY/GAS8VUVFrAk/photo.jpg?sz=128", "display_name": "tobias hassebrock", "link": "https://stackoverflow.com/users/9604989/tobias-hassebrock"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 108, "favorite_count": 0, "accepted_answer_id": 55022006, "answer_count": 2, "score": 0, "last_activity_date": 1551871680, "creation_date": 1551866175, "question_id": 55020175, "link": "https://stackoverflow.com/questions/55020175/angular-firestore-display-a-button-depending-of-a-returned-boolean-which-checks", "title": "Angular Firestore display a button depending of a returned boolean which checks if an Firestore document exist", "body": "<p><strong>Requested behaviour:</strong> <br>\nDisplaying a button in an Angular view depending on a returned boolean of an Angular Service which checks if a Firestore document exists</p>\n\n<p><strong>Current State</strong> <br>\nThe Service checks the existence of the document successfully. It also updates the global variable in the if/else statement. I can call the function in the service and it logs the boolean value but it does not return it.</p>\n\n<p><strong>Issue</strong> <br>\nWhen I call the function from the component it always logs <code>[object Promise]</code> and I get a ts lint error: <code>Type 'Promise&lt;Boolean&gt;' is not assignable to type 'boolean'.</code></p>\n\n<p>How can I solve that? Do I have to convert the promise into a boolean or an Observable?</p>\n\n<p><strong>My Service:</strong> <br></p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>export class ProfileFollowService {\r\n    \r\n    // global variable which should be updated\r\n    followState: boolean;\r\n    \r\n    // checks if the document exist and returns a boolean\r\n    async checkFollow(followingID: string, followerID: string): Promise&lt;Boolean&gt; {\r\n    const followDoc =\r\n    this.angularFirestore.collection(`users/${followingID}/following`).doc(followerID).ref;\r\n\r\n    return followDoc.get().then((doc) =&gt; {\r\n      if (doc.exists) {\r\n          this.followState = true;\r\n      } else {\r\n          this.followState = false;\r\n      }\r\n\r\n      return this.followState;\r\n    });\r\n  }\r\n  \r\n  async callCheckFollow(followingID: string, followerID: string) {\r\n  \r\n    const result = await this.checkFollow(followingID, followerID);\r\n    console.log(result); //logs true or false as requested\r\n    return result;\r\n  }\r\n\r\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p><strong>My Component class:</strong> <br></p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>export class ServiceTestComponent implements OnInit {\r\n\r\n  followState: boolean;\r\n  \r\n  constructor(private followService: ProfileFollowService) {\r\n\r\n  // throws TS Lint error: Type 'Promise&lt;Boolean&gt;' is not assignable to type 'boolean'.\r\n    this.followState = this.followService.callCheckFollow('someID', 'someID');\r\n    \r\n   // logs [object Promise], should log true or false\r\n   ngOnInit() {console.log('followstate' + this.followState);}\r\n\r\n\r\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p><strong>My Component html:</strong> <br></p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;div *ngIf=\"followState === true\"&gt;\r\n  &lt;p&gt;hello Doc&lt;/p&gt;\r\n&lt;/div&gt;\r\n\r\n&lt;div *ngIf=\"followState === false\"&gt;\r\n  &lt;p&gt;No doc&lt;/p&gt;\r\n&lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": ["typescript"], "comments": [{"owner": {"reputation": 918, "user_id": 730515, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/c3cabf1fe82c4dcb6f4ca8397795d037?s=128&d=identicon&r=PG", "display_name": "Snorre", "link": "https://stackoverflow.com/users/730515/snorre"}, "edited": false, "score": 0, "creation_date": 1551867222, "post_id": 55020122, "comment_id": 96794513, "body": "Good overview of input validation <a href=\"https://medium.com/@gigobyte/custom-type-errors-and-input-validation-in-typescript-2-8-bca4fa6b2940\" rel=\"nofollow noreferrer\">medium.com/@gigobyte/&hellip;</a>"}], "answers": [{"tags": [], "owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "is_accepted": false, "score": 3, "last_activity_date": 1551866533, "creation_date": 1551866533, "answer_id": 55020303, "question_id": 55020122, "link": "https://stackoverflow.com/questions/55020122/typescript-narrow-generic-function/55020303#55020303", "title": "TypeScript narrow generic function", "body": "<p>There is no dedicated syntax for this unfortunately. The best we can do is repeat the signature as it would be instantiated by the call:</p>\n\n<pre><code>function hi&lt;T&gt;(name: T) { }\nconst hiAlex: (name: \"Alex\") =&gt; void = hi;\n\nhiAlex('Alex') // works well\nhiAlex('Jim')  // ERROR wrong name type\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 6901, "user_id": 7436489, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d3f27318e4582da71b5ed0f0dc453100?s=128&d=identicon&r=PG&f=1", "display_name": "Roberto Zvjerkovi\u0107", "link": "https://stackoverflow.com/users/7436489/roberto-zvjerkovi%c4%87"}, "is_accepted": false, "score": 1, "last_activity_date": 1551866717, "creation_date": 1551866717, "answer_id": 55020376, "question_id": 55020122, "link": "https://stackoverflow.com/questions/55020122/typescript-narrow-generic-function/55020376#55020376", "title": "TypeScript narrow generic function", "body": "<pre><code>function hi&lt;T&gt;(name: T extends string ? 'Alex' : T) { }\nhi('Alex')\nhi('Jim') // Argument of type '\"Jim\"' is not assignable to parameter of type '\"Alex\"'\n</code></pre>\n\n<p>Something like this should work, if I understood your question correctly.</p>\n\n<p>Or just don't make it a generic:</p>\n\n<p><code>function hi(name: 'Alex') { }</code></p>\n\n<p>Or </p>\n\n<p><code>function hi&lt;T&gt;(name: 'Alex') { }</code></p>\n"}], "owner": {"reputation": 9563, "user_id": 231624, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/pU5YW.jpg?s=128&g=1", "display_name": "Alex Craft", "link": "https://stackoverflow.com/users/231624/alex-craft"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 73, "favorite_count": 0, "answer_count": 2, "score": 2, "last_activity_date": 1551866717, "creation_date": 1551866045, "question_id": 55020122, "link": "https://stackoverflow.com/questions/55020122/typescript-narrow-generic-function", "title": "TypeScript narrow generic function", "body": "<p>Let's say we have a generic function</p>\n\n<pre><code>function hi&lt;T&gt;(name: T) { }\nhi('Alex')\nhi('Jim')\n</code></pre>\n\n<p>I would like to create a new function that would limit the generic type, and would allow only <code>Alex</code> as the <code>name</code>. Something like pseudo-code below</p>\n\n<pre><code>function hiAlex = hi&lt;'Alex'&gt;\nhiAlex('Alex') // works well\nhiAlex('Jim')  // ERROR wrong name type\n</code></pre>\n"}, {"tags": ["javascript", "node.js", "typescript", "ecmascript-6", "ecmascript-5"], "comments": [{"owner": {"reputation": 793711, "user_id": 19068, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d2d3229ed1961d2bd81853242493247?s=128&d=identicon&r=PG", "display_name": "Quentin", "link": "https://stackoverflow.com/users/19068/quentin"}, "edited": false, "score": 0, "creation_date": 1551866082, "post_id": 55020049, "comment_id": 96793768, "body": "Since you can increase performance by sacrificing compatibility, this is very much a matter of opinion."}, {"owner": {"reputation": 793711, "user_id": 19068, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d2d3229ed1961d2bd81853242493247?s=128&d=identicon&r=PG", "display_name": "Quentin", "link": "https://stackoverflow.com/users/19068/quentin"}, "edited": false, "score": 0, "creation_date": 1551867027, "post_id": 55020049, "comment_id": 96794376, "body": "It wasn&#39;t an answer, it was pointed out that you were asking for something which is &quot;primarily opinion-based&quot; and thus off-topic."}], "answers": [{"comments": [{"owner": {"reputation": 2509, "user_id": 2389232, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/s42UP.png?s=128&g=1", "display_name": "SnakeDrak", "link": "https://stackoverflow.com/users/2389232/snakedrak"}, "edited": false, "score": 0, "creation_date": 1551867431, "post_id": 55020522, "comment_id": 96794655, "body": "Thank you! Then the best way it would be to use ES6."}, {"owner": {"reputation": 147776, "user_id": 3731501, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/e4783dfa8ec98c884e61d29f2192ac97?s=128&d=identicon&r=PG&f=1", "display_name": "Estus Flask", "link": "https://stackoverflow.com/users/3731501/estus-flask"}, "reply_to_user": {"reputation": 2509, "user_id": 2389232, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/s42UP.png?s=128&g=1", "display_name": "SnakeDrak", "link": "https://stackoverflow.com/users/2389232/snakedrak"}, "edited": false, "score": 1, "creation_date": 1551867581, "post_id": 55020522, "comment_id": 96794748, "body": "That&#39;s correct. More specifically, ES2018, Node supports it with aforementioned exceptions (the closest target in TS is <code>es2017</code>)."}], "tags": [], "owner": {"reputation": 147776, "user_id": 3731501, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/e4783dfa8ec98c884e61d29f2192ac97?s=128&d=identicon&r=PG&f=1", "display_name": "Estus Flask", "link": "https://stackoverflow.com/users/3731501/estus-flask"}, "is_accepted": true, "score": 1, "last_activity_date": 1551867129, "creation_date": 1551867129, "answer_id": 55020522, "question_id": 55020049, "link": "https://stackoverflow.com/questions/55020049/typescript-ecmascript-target-for-nodejs/55020522#55020522", "title": "TypeScript ECMAScript target for NodeJS", "body": "<p>Node.js <a href=\"https://node.green/#ES2015\" rel=\"nofollow noreferrer\">fully supports ECMAScript 2015</a>, with the exception of <a href=\"https://stackoverflow.com/questions/23260390/node-js-tail-call-optimization-possible-or-not\">tail call optimization</a> and <a href=\"https://nodejs.org/api/esm.html\" rel=\"nofollow noreferrer\">ES modules</a> (experimental support is available with a flag and .mjs extension).</p>\n\n<p>It doesn't make sense to transpile to ES5 with TypeScript in Node, TypeScript doesn't follow the specs strictly and can also have its limitations, notably <a href=\"https://stackoverflow.com/a/50203532/3731501\">the extension of native ES6 classes</a>.</p>\n"}], "owner": {"reputation": 2509, "user_id": 2389232, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/s42UP.png?s=128&g=1", "display_name": "SnakeDrak", "link": "https://stackoverflow.com/users/2389232/snakedrak"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 684, "favorite_count": 0, "accepted_answer_id": 55020522, "answer_count": 1, "score": 1, "last_activity_date": 1551867129, "creation_date": 1551865795, "question_id": 55020049, "link": "https://stackoverflow.com/questions/55020049/typescript-ecmascript-target-for-nodejs", "title": "TypeScript ECMAScript target for NodeJS", "body": "<p>For performance purposes, compatibility, and scalability, which is the best <a href=\"https://www.typescriptlang.org/docs/handbook/compiler-options.html\" rel=\"nofollow noreferrer\">ECMAScript target</a> for the compiler TypeScript to use in a module with NodeJS?</p>\n\n<p>According to <a href=\"https://nodejs.org/en/docs/es6/\" rel=\"nofollow noreferrer\">NodeJS ES6 (ECMAScript 2015)</a> is not fully supported. Is it worth to use <a href=\"https://www.ecma-international.org/ecma-262/6.0/\" rel=\"nofollow noreferrer\">ES6</a> or is it better for the compatibility to add the target <a href=\"https://www.ecma-international.org/ecma-262/5.1/\" rel=\"nofollow noreferrer\">ES5</a> with the associated workarounds generated automatically by Typescript?</p>\n\n<p>On other hand, at this moment these are the <strong>in-progress</strong> functions in NodeJS for ES6:</p>\n\n<pre><code>  --harmony-do-expressions (enable \"harmony do-expressions\" (in progress))\n  --harmony-class-fields (enable \"harmony fields in class literals\" (in progress))\n  --harmony-static-fields (enable \"harmony static fields in class literals\" (in progress))\n  --harmony-array-flatten (enable \"harmony Array.prototype.flat{ten,Map}\" (in progress))\n  --harmony-locale (enable \"Intl.Locale\" (in progress))\n</code></pre>\n\n<p>I don't know if I need these features at this moment but for the maintainability of the code maybe it is not the best option.</p>\n"}, {"tags": ["angular", "typescript"], "comments": [{"owner": {"reputation": 6901, "user_id": 7436489, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d3f27318e4582da71b5ed0f0dc453100?s=128&d=identicon&r=PG&f=1", "display_name": "Roberto Zvjerkovi\u0107", "link": "https://stackoverflow.com/users/7436489/roberto-zvjerkovi%c4%87"}, "edited": false, "score": 0, "creation_date": 1551863883, "post_id": 55019405, "comment_id": 96792443, "body": "Just remove the <code>map</code>"}, {"owner": {"reputation": 21940, "user_id": 5394220, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/U2VGk.jpg?s=128&g=1", "display_name": "Jota.Toledo", "link": "https://stackoverflow.com/users/5394220/jota-toledo"}, "edited": false, "score": 0, "creation_date": 1551864077, "post_id": 55019405, "comment_id": 96792545, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/46005430/property-json-does-not-exist-on-type-object\">Property &#39;json&#39; does not exist on type &#39;Object&#39;</a>"}, {"owner": {"reputation": 21940, "user_id": 5394220, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/U2VGk.jpg?s=128&g=1", "display_name": "Jota.Toledo", "link": "https://stackoverflow.com/users/5394220/jota-toledo"}, "edited": false, "score": 0, "creation_date": 1551864113, "post_id": 55019405, "comment_id": 96792569, "body": "<a href=\"https://angular.io/guide/http\" rel=\"nofollow noreferrer\">angular.io/guide/http</a>"}, {"owner": {"reputation": 342, "user_id": 9675804, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/k6rHz.jpg?s=128&g=1", "display_name": "Jaykant", "link": "https://stackoverflow.com/users/9675804/jaykant"}, "edited": false, "score": 1, "creation_date": 1551864434, "post_id": 55019405, "comment_id": 96792785, "body": "In the new HttpClient (Angular 4.3+), the response object is JSON by default, so you don&#39;t need to do response.json() anymore. Just use response directly"}], "answers": [{"comments": [{"owner": {"reputation": 131, "user_id": 7556801, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-9VdKVyYMx58/AAAAAAAAAAI/AAAAAAAALX0/b6FlxYXUnJE/photo.jpg?sz=128", "display_name": "Christopher Kinyua", "link": "https://stackoverflow.com/users/7556801/christopher-kinyua"}, "edited": false, "score": 0, "creation_date": 1551864456, "post_id": 55019468, "comment_id": 96792802, "body": "I get the following error instead:  Type &#39;Observable&lt;Object&gt;&#39; is not assignable to type &#39;Observable&lt;SVCResult&gt;&#39;.   The &#39;Object&#39; type is assignable to very few other types. Did you mean to use the &#39;any&#39; type instead?     Property &#39;accuracy&#39; is missing in type &#39;Object&#39; but required in type &#39;SVCResult&#39;."}, {"owner": {"reputation": 3911, "user_id": 5013729, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/02a313b0cc0da17999a1aea6cf89188a?s=128&d=identicon&r=PG", "display_name": "Bear Nithi", "link": "https://stackoverflow.com/users/5013729/bear-nithi"}, "reply_to_user": {"reputation": 131, "user_id": 7556801, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-9VdKVyYMx58/AAAAAAAAAAI/AAAAAAAALX0/b6FlxYXUnJE/photo.jpg?sz=128", "display_name": "Christopher Kinyua", "link": "https://stackoverflow.com/users/7556801/christopher-kinyua"}, "edited": false, "score": 0, "creation_date": 1551864625, "post_id": 55019468, "comment_id": 96792912, "body": "try <code>any</code>, if everything works fine, then try to figure out which type is suited and whether the response has all the properties of the type or not."}, {"owner": {"reputation": 131, "user_id": 7556801, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-9VdKVyYMx58/AAAAAAAAAAI/AAAAAAAALX0/b6FlxYXUnJE/photo.jpg?sz=128", "display_name": "Christopher Kinyua", "link": "https://stackoverflow.com/users/7556801/christopher-kinyua"}, "edited": false, "score": 1, "creation_date": 1551865260, "post_id": 55019468, "comment_id": 96793296, "body": "I&#39;ve replaced &#39;Observable&lt;SVCResult&gt;&#39; with &#39;any&#39; and the error is gone. I really hope this is what I&#39;m supposed to do because I&#39;m just learning Angular."}, {"owner": {"reputation": 21940, "user_id": 5394220, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/U2VGk.jpg?s=128&g=1", "display_name": "Jota.Toledo", "link": "https://stackoverflow.com/users/5394220/jota-toledo"}, "reply_to_user": {"reputation": 131, "user_id": 7556801, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-9VdKVyYMx58/AAAAAAAAAAI/AAAAAAAALX0/b6FlxYXUnJE/photo.jpg?sz=128", "display_name": "Christopher Kinyua", "link": "https://stackoverflow.com/users/7556801/christopher-kinyua"}, "edited": false, "score": 0, "creation_date": 1551870170, "post_id": 55019468, "comment_id": 96796386, "body": "@ChristopherKinyua its not"}], "tags": [], "owner": {"reputation": 3911, "user_id": 5013729, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/02a313b0cc0da17999a1aea6cf89188a?s=128&d=identicon&r=PG", "display_name": "Bear Nithi", "link": "https://stackoverflow.com/users/5013729/bear-nithi"}, "is_accepted": true, "score": 0, "last_activity_date": 1551863942, "creation_date": 1551863942, "answer_id": 55019468, "question_id": 55019405, "link": "https://stackoverflow.com/questions/55019405/unable-to-map-post-response-angular-7/55019468#55019468", "title": "Unable to map post response Angular 7", "body": "<p>Angular 7 HttpClientModule, by default returns response as <strong><code>JSON</code></strong>, there's no need to map the response as <code>res.json()</code> just remove your pipe operator. Everything will work fine.</p>\n\n<pre><code>import {Injectable} from '@angular/core';\nimport {HttpClient} from '@angular/common/http';\nimport {Observable} from \"rxjs\";\nimport 'rxjs/add/operator/map';\nimport { map } from 'rxjs/operators';\n\nimport {\n    SVCParameters,\n    SVCResult\n} from \"./types\";\n\nconst SERVER_URL: string = 'api/';\n\n@Injectable()\nexport class IrisService {\n\n    constructor(private http: HttpClient) {\n    }\n\n    public trainModel(svcParameters: SVCParameters): Observable&lt;SVCResult&gt; {\n        return this.http.post(`${SERVER_URL}train`, svcParameters);\n\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 131, "user_id": 7556801, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-9VdKVyYMx58/AAAAAAAAAAI/AAAAAAAALX0/b6FlxYXUnJE/photo.jpg?sz=128", "display_name": "Christopher Kinyua", "link": "https://stackoverflow.com/users/7556801/christopher-kinyua"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 590, "favorite_count": 0, "accepted_answer_id": 55019468, "answer_count": 1, "score": -1, "last_activity_date": 1551864164, "creation_date": 1551863746, "last_edit_date": 1551864164, "question_id": 55019405, "link": "https://stackoverflow.com/questions/55019405/unable-to-map-post-response-angular-7", "title": "Unable to map post response Angular 7", "body": "<p>I am trying to setup a service on Angular version 7 but I'm having an issue on <code>res.json()</code> which throws the error <code>Property 'json' does not exist on type 'Object'</code>. This is my service's code:</p>\n\n<pre><code>import {Injectable} from '@angular/core';\nimport {HttpClient} from '@angular/common/http';\nimport {Observable} from \"rxjs\";\nimport 'rxjs/add/operator/map';\nimport { map } from 'rxjs/operators';\n\nimport {\n    SVCParameters,\n    SVCResult\n} from \"./types\";\n\nconst SERVER_URL: string = 'api/';\n\n@Injectable()\nexport class IrisService {\n\n    constructor(private http: HttpClient) {\n    }\n\n    public trainModel(svcParameters: SVCParameters): Observable&lt;SVCResult&gt; {\n        return this.http.post(`${SERVER_URL}train`, svcParameters).pipe(map(res =&gt; res.json()));\n\n    }\n}\n</code></pre>\n\n<p>The following is my types.ts code:</p>\n\n<pre><code>export class SVCParameters {\nC: number = 2.0;\n}\n\nexport class SVCResult{\naccuracy: number;\n}\n</code></pre>\n"}, {"tags": ["javascript", "reactjs", "typescript", "react-big-calendar"], "comments": [{"owner": {"reputation": 6901, "user_id": 7436489, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d3f27318e4582da71b5ed0f0dc453100?s=128&d=identicon&r=PG&f=1", "display_name": "Roberto Zvjerkovi\u0107", "link": "https://stackoverflow.com/users/7436489/roberto-zvjerkovi%c4%87"}, "edited": false, "score": 0, "creation_date": 1551863829, "post_id": 55019379, "comment_id": 96792416, "body": "<code>MyComponent.title(date)</code> =&gt; <code>this.title(date)</code>"}, {"owner": {"reputation": 114, "user_id": 3194322, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cratD.jpg?s=128&g=1", "display_name": "bogdanpetru", "link": "https://stackoverflow.com/users/3194322/bogdanpetru"}, "edited": false, "score": 0, "creation_date": 1551864583, "post_id": 55019379, "comment_id": 96792886, "body": "I&#39;ve tried the code you wrote, I do not have any error, please check: <a href=\"https://codesandbox.io/s/1qkz1ko073?fontsize=14\" rel=\"nofollow noreferrer\">codesandbox.io/s/1qkz1ko073?fontsize=14</a>"}], "answers": [{"tags": [], "owner": {"reputation": 180, "user_id": 7539158, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TtvtI.jpg?s=128&g=1", "display_name": "Naieem Mahmud Supto", "link": "https://stackoverflow.com/users/7539158/naieem-mahmud-supto"}, "is_accepted": true, "score": 0, "last_activity_date": 1551864288, "creation_date": 1551864288, "answer_id": 55019577, "question_id": 55019379, "link": "https://stackoverflow.com/questions/55019379/how-do-i-define-class-methods-outside-it-in-typescript-reactjs/55019577#55019577", "title": "How do I define class methods outside it in typescript reactjs?", "body": "<p>You component will look like this.Add static to your method title.</p>\n\n<pre><code>class MyComponent extends React.Component&lt;Props&gt; {\n      static title=date =&gt; {\n          return `My awesome week: ${date.toLocaleDateString()}`;\n       };\n      render() {\n          let { date } = this.props\n          let range = MyComponent.title(date)\n          return &lt;TimeGrid {...this.props} range={range} eventOffset={15} /&gt;\n      }\n}\n</code></pre>\n"}], "owner": {"reputation": 1997, "user_id": 5107321, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/UZAuv.jpg?s=128&g=1", "display_name": "YaSh Chaudhary", "link": "https://stackoverflow.com/users/5107321/yash-chaudhary"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 117, "favorite_count": 0, "accepted_answer_id": 55019577, "answer_count": 1, "score": 0, "last_activity_date": 1551864288, "creation_date": 1551863660, "question_id": 55019379, "link": "https://stackoverflow.com/questions/55019379/how-do-i-define-class-methods-outside-it-in-typescript-reactjs", "title": "How do I define class methods outside it in typescript reactjs?", "body": "<p>I want to use methods for the class as following:</p>\n\n<pre><code>class MyComponent extends React.Component&lt;Props&gt; {\nrender() {\nlet { date } = this.props\nlet range = MyComponent.title(date)\n\nreturn &lt;TimeGrid {...this.props} range={range} eventOffset={15} /&gt;\n}\n}\n</code></pre>\n\n<p>My method is:</p>\n\n<pre><code>MyComponent.title = date =&gt; {\nreturn `My awesome week: ${date.toLocaleDateString()}`;\n};\n</code></pre>\n\n<p>But I am getting error :</p>\n\n<blockquote>\n  <p>Property 'title' does not exist on type 'typeof MyComponent'</p>\n</blockquote>\n"}, {"tags": ["node.js", "typescript", "assert"], "answers": [{"tags": [], "owner": {"reputation": 871364, "user_id": 157247, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/4HovX.jpg?s=128&g=1", "display_name": "T.J. Crowder", "link": "https://stackoverflow.com/users/157247/t-j-crowder"}, "is_accepted": false, "score": 0, "last_activity_date": 1551863806, "creation_date": 1551863806, "answer_id": 55019425, "question_id": 55019334, "link": "https://stackoverflow.com/questions/55019334/whats-the-equivalent-of-assert-rejects-in-typescript/55019425#55019425", "title": "What&#39;s the equivalent of assert.rejects in TypeScript?", "body": "<p>Neither JavaScript nor TypeScript offer their own <code>assert</code> functionality. If you search for \"JavaScript assert\" or similar (remember TypeScript is JavaScript plus static types and one or two other small things), you'll find various libraries to do it that you can choose among.</p>\n"}, {"comments": [{"owner": {"reputation": 4425, "user_id": 769900, "user_type": "registered", "accept_rate": 45, "profile_image": "https://i.stack.imgur.com/CSGrK.jpg?s=128&g=1", "display_name": "Jeff Tian", "link": "https://stackoverflow.com/users/769900/jeff-tian"}, "edited": false, "score": 0, "creation_date": 1552036794, "post_id": 55019472, "comment_id": 96868442, "body": "Wow, it&#39;s a very clever way! But why isn&#39;t it builtin?"}, {"owner": {"reputation": 778, "user_id": 2118797, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c4ccd64eb78555e6d582cfb300219cba?s=128&d=identicon&r=PG", "display_name": "MrfksIV", "link": "https://stackoverflow.com/users/2118797/mrfksiv"}, "reply_to_user": {"reputation": 4425, "user_id": 769900, "user_type": "registered", "accept_rate": 45, "profile_image": "https://i.stack.imgur.com/CSGrK.jpg?s=128&g=1", "display_name": "Jeff Tian", "link": "https://stackoverflow.com/users/769900/jeff-tian"}, "edited": false, "score": 0, "creation_date": 1552915388, "post_id": 55019472, "comment_id": 97179583, "body": "No idea but it should have been. My guess is that async/await functionalities will eventually be added to all the major modules but it will take some time."}], "tags": [], "owner": {"reputation": 778, "user_id": 2118797, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c4ccd64eb78555e6d582cfb300219cba?s=128&d=identicon&r=PG", "display_name": "MrfksIV", "link": "https://stackoverflow.com/users/2118797/mrfksiv"}, "is_accepted": true, "score": 1, "last_activity_date": 1551863951, "creation_date": 1551863951, "answer_id": 55019472, "question_id": 55019334, "link": "https://stackoverflow.com/questions/55019334/whats-the-equivalent-of-assert-rejects-in-typescript/55019472#55019472", "title": "What&#39;s the equivalent of assert.rejects in TypeScript?", "body": "<p>I think using this function will solve your issue:</p>\n\n<pre><code>import * as assert from 'assert';\nasync function assertThrowsAsync(fn, regExp) {\n    let f = () =&gt; {};\n    try {\n        await fn();\n    } catch(e) {\n        f = () =&gt; {throw e};\n    } finally {\n        assert.throws(f, regExp);\n    }\n}\n</code></pre>\n\n<p>And use it in your tests:</p>\n\n<pre><code>await assertThrowsAsync(async () =&gt; async_function_call_here(), /Error/);\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 4425, "user_id": 769900, "user_type": "registered", "accept_rate": 45, "profile_image": "https://i.stack.imgur.com/CSGrK.jpg?s=128&g=1", "display_name": "Jeff Tian", "link": "https://stackoverflow.com/users/769900/jeff-tian"}, "is_accepted": false, "score": 0, "last_activity_date": 1580538339, "creation_date": 1580538339, "answer_id": 60014589, "question_id": 55019334, "link": "https://stackoverflow.com/questions/55019334/whats-the-equivalent-of-assert-rejects-in-typescript/60014589#60014589", "title": "What&#39;s the equivalent of assert.rejects in TypeScript?", "body": "<p><a href=\"https://stackoverflow.com/a/55019472/769900\">@MrfksIV's answer</a> is excellent, but it's tedious to write that helper function and reference it always.</p>\n\n<p>To assert async errors seems we can do it in this way, too:</p>\n\n<pre><code>try {\n  await someOperation();\n  assert(false, 'should not reach here');\n} catch (ex) {\n  assert(/Your Expected Error/.test(ex.message))\n}\n</code></pre>\n"}], "owner": {"reputation": 4425, "user_id": 769900, "user_type": "registered", "accept_rate": 45, "profile_image": "https://i.stack.imgur.com/CSGrK.jpg?s=128&g=1", "display_name": "Jeff Tian", "link": "https://stackoverflow.com/users/769900/jeff-tian"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 479, "favorite_count": 0, "accepted_answer_id": 55019472, "answer_count": 3, "score": 1, "last_activity_date": 1580538339, "creation_date": 1551863501, "question_id": 55019334, "link": "https://stackoverflow.com/questions/55019334/whats-the-equivalent-of-assert-rejects-in-typescript", "title": "What&#39;s the equivalent of assert.rejects in TypeScript?", "body": "<p>In node js we use <code>assert.rejects</code> to assert an error caused by async function. I found the <code>rejects</code> method was missing in TypeScript, how to assert async errors in TypeScript?</p>\n"}, {"tags": ["javascript", "typescript", "switch-statement", "angular5"], "comments": [{"owner": {"reputation": 1127, "user_id": 4714567, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/08048670c826c6137e8c274a6c6ac7f8?s=128&d=identicon&r=PG&f=1", "display_name": "Niek", "link": "https://stackoverflow.com/users/4714567/niek"}, "edited": false, "score": 0, "creation_date": 1551861779, "post_id": 55018730, "comment_id": 96791289, "body": "What is the type of <code>wallet</code>?"}, {"owner": {"reputation": 1068, "user_id": 6885729, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d83c8f6421336ddd1ed3ef9c0c960b26?s=128&d=identicon&r=PG&f=1", "display_name": "Sushmit Sagar", "link": "https://stackoverflow.com/users/6885729/sushmit-sagar"}, "reply_to_user": {"reputation": 1127, "user_id": 4714567, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/08048670c826c6137e8c274a6c6ac7f8?s=128&d=identicon&r=PG&f=1", "display_name": "Niek", "link": "https://stackoverflow.com/users/4714567/niek"}, "edited": false, "score": 0, "creation_date": 1551866287, "post_id": 55018730, "comment_id": 96793915, "body": "@Niek the wallet is an object."}], "answers": [{"tags": [], "owner": {"reputation": 946, "user_id": 1241250, "user_type": "registered", "accept_rate": 30, "profile_image": "https://i.stack.imgur.com/s3wz3.png?s=128&g=1", "display_name": "Qiaosen Huang", "link": "https://stackoverflow.com/users/1241250/qiaosen-huang"}, "is_accepted": true, "score": 9, "last_activity_date": 1551870150, "last_edit_date": 1551870150, "creation_date": 1551865546, "answer_id": 55019958, "question_id": 55018730, "link": "https://stackoverflow.com/questions/55018730/error-ts2678-type-string-is-not-comparable-to-type-in-angular-5/55019958#55019958", "title": "error TS2678 Type &quot;&#39;String&#39;&quot; is not comparable to type &#39;&quot;&quot;&#39; in angular 5", "body": "<p><code>switch (currencyType as any) {</code></p>\n\n<p>for some reason (maybe typescript version?), when you destruct <code>currencyType: ''</code> from wallet, it was interpreted by the compiler as type '\"\"' instead of 'string'. so cast it as any will do the trick</p>\n"}, {"tags": [], "owner": {"reputation": 541, "user_id": 331244, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/bfb6deb8bd2e1cfc7e0fa72cc1faa508?s=128&d=identicon&r=PG", "display_name": "user331244", "link": "https://stackoverflow.com/users/331244/user331244"}, "is_accepted": false, "score": 0, "last_activity_date": 1570443173, "creation_date": 1570443173, "answer_id": 58267480, "question_id": 55018730, "link": "https://stackoverflow.com/questions/55018730/error-ts2678-type-string-is-not-comparable-to-type-in-angular-5/58267480#58267480", "title": "error TS2678 Type &quot;&#39;String&#39;&quot; is not comparable to type &#39;&quot;&quot;&#39; in angular 5", "body": "<p>I just had the same error and it turned out to be triggered by a cyclic import dependency with webpack. </p>\n"}, {"tags": [], "owner": {"reputation": 653, "user_id": 605379, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/0edde2d02ed5f78d96d9c7d3c176259f?s=128&d=identicon&r=PG", "display_name": "Isolin", "link": "https://stackoverflow.com/users/605379/isolin"}, "is_accepted": false, "score": 1, "last_activity_date": 1592471370, "last_edit_date": 1592471370, "creation_date": 1592398483, "answer_id": 62429513, "question_id": 55018730, "link": "https://stackoverflow.com/questions/55018730/error-ts2678-type-string-is-not-comparable-to-type-in-angular-5/62429513#62429513", "title": "error TS2678 Type &quot;&#39;String&#39;&quot; is not comparable to type &#39;&quot;&quot;&#39; in angular 5", "body": "<p>The answer suggested by @QiaosenHuang works but it is not a good practice in terms of TypeScript as it gives up the type-safety being the main goal of TypeScript. The correct way is to pass in a typed <code>wallet</code> for example using an interface.</p>\n\n<pre class=\"lang-typescript prettyprint-override\"><code>interface IWallet {\n  countryId: string;\n  currencyType: string;\n  // any other properties ...\n}\n\nfunction gotToWallet(wallet?: IWallet) {\n  // your code from the question ...\n}\n</code></pre>\n\n<p>I noted that you test for <code>wallet || {}</code> so that is the reason for using a <a href=\"https://en.wikipedia.org/wiki/Null_coalescing_operator\" rel=\"nofollow noreferrer\">null coalescing operator</a> for the function argument. But your code actually doesn't do anything when <code>wallet</code> is <code>undefined</code>. So an even better solution would be to require <code>wallet</code> to be a true instance of the interface (wihtout the <code>?</code>) and move the <code>undefined</code> check outside of this function.</p>\n"}], "owner": {"reputation": 1068, "user_id": 6885729, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d83c8f6421336ddd1ed3ef9c0c960b26?s=128&d=identicon&r=PG&f=1", "display_name": "Sushmit Sagar", "link": "https://stackoverflow.com/users/6885729/sushmit-sagar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 5050, "favorite_count": 1, "accepted_answer_id": 55019958, "answer_count": 3, "score": 3, "last_activity_date": 1592471370, "creation_date": 1551861394, "question_id": 55018730, "link": "https://stackoverflow.com/questions/55018730/error-ts2678-type-string-is-not-comparable-to-type-in-angular-5", "title": "error TS2678 Type &quot;&#39;String&#39;&quot; is not comparable to type &#39;&quot;&quot;&#39; in angular 5", "body": "<p>Here's my code in angular 5:</p>\n\n<pre><code>gotToWallet(wallet) {\n\n  const { countryId = '', currencyType = '' } = wallet || {};\n\n  let walletIdentity;\n\n  switch (currencyType) {\n    case 'CRYPTO':\n      walletIdentity = 'userWalletIdentity';\n     break;\n    case 'FIAT':\n      walletIdentity = 'fiatWalletIdentity';\n     break;\n    case 'ERC20TOKEN':\n      walletIdentity = 'xbxUserWalletIdentity';\n     break;\n }\n\n  const { currencyId = '' } = (wallet || {})[walletIdentity] || {};\n  this.router.navigate([`walletMgmt/wallet-details/${currencyId}/${countryId}`]);\n\n}\n</code></pre>\n\n<p>I am getting the following error when running <code>ng build</code> command:</p>\n\n<pre><code>ERROR in src/app/wallet-management/wallets/wallets.component.ts(202,12): error TS2678: Type '\"CRYPTO\"' is not comparable to type '\"\"'.\nsrc/app/wallet-management/wallets/wallets.component.ts(205,12): error TS2678: Type '\"FIAT\"' is not comparable to type '\"\"'.\nsrc/app/wallet-management/wallets/wallets.component.ts(208,12): error TS2678: Type '\"ERC20TOKEN\"' is not comparable to type '\"\"'.\n</code></pre>\n\n<p>Why am i getting this error? the code seems to work fine when i run <code>ng serve</code>.\nI am getting this error only when trying to make build.</p>\n\n<p>Thanks, any help would be highly appreciated.</p>\n"}, {"tags": ["typescript"], "comments": [{"owner": {"reputation": 1359, "user_id": 5441134, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/F648f.jpg?s=128&g=1", "display_name": "Natsathorn", "link": "https://stackoverflow.com/users/5441134/natsathorn"}, "edited": false, "score": 1, "creation_date": 1551868975, "post_id": 55018687, "comment_id": 96795645, "body": "can you do it in another way? instead of having <code>namespace</code> as a key. return it as an array that contains namespace inside"}, {"owner": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "edited": false, "score": 0, "creation_date": 1551881853, "post_id": 55018687, "comment_id": 96803283, "body": "Shouldn&#39;t <code>timing</code> be an error everywhere? You seem to want <code>MakeNamespace&lt;T&gt;</code> to be the same as <code>T</code> but with possibly extra properties whose values are themselves of type <code>T</code>. But <code>timing</code> is not a key of <code>NodesState</code> and <code>{ duration: 500 }</code> is not compatible with <code>NodeState</code> so I don&#39;t know if I understand what you&#39;re trying to do."}, {"owner": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "edited": false, "score": 0, "creation_date": 1551881910, "post_id": 55018687, "comment_id": 96803312, "body": "And I&#39;m seeing an <code>opacity: &#39;0&#39;</code> in there instead of <code>opacity: 0</code>.  I&#39;m guessing these are just typos or something but it gets in the way of trying to answer this."}, {"owner": {"reputation": 21618, "user_id": 11755, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/5b9872f3076db04cb2ffb516091d80d0?s=128&d=identicon&r=PG", "display_name": "dagda1", "link": "https://stackoverflow.com/users/11755/dagda1"}, "edited": false, "score": 0, "creation_date": 1551881956, "post_id": 55018687, "comment_id": 96803338, "body": "oops yes, that is a typo"}, {"owner": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "edited": false, "score": 0, "creation_date": 1551882052, "post_id": 55018687, "comment_id": 96803407, "body": "So you edited <code>opacity</code>, but is <code>timing</code> supposed to be a property of <code>NodeState</code>?"}, {"owner": {"reputation": 21618, "user_id": 11755, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/5b9872f3076db04cb2ffb516091d80d0?s=128&d=identicon&r=PG", "display_name": "dagda1", "link": "https://stackoverflow.com/users/11755/dagda1"}, "edited": false, "score": 0, "creation_date": 1551882841, "post_id": 55018687, "comment_id": 96803891, "body": "apologies, I&#39;ve removed timing, that is from the real example.   Confusing for it to be there"}, {"owner": {"reputation": 21618, "user_id": 11755, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/5b9872f3076db04cb2ffb516091d80d0?s=128&d=identicon&r=PG", "display_name": "dagda1", "link": "https://stackoverflow.com/users/11755/dagda1"}, "edited": false, "score": 0, "creation_date": 1551883056, "post_id": 55018687, "comment_id": 96804037, "body": "Would this work <code>export type MakeNamespace&lt;T extends {}&gt; = {[P in keyof T]: T[P] extends T ? {[index: string]: T} : T[P] };</code>"}, {"owner": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "edited": false, "score": 0, "creation_date": 1551884550, "post_id": 55018687, "comment_id": 96805030, "body": "no, it wouldn&#39;t add any extra keys to <code>T</code>, sorry.  The only way to represent that type in TS is to do something like <code>MakeNamespace&lt;T, K extends keyof any&gt;</code> where <code>K</code> is the extra key set and do inference."}], "answers": [{"comments": [{"owner": {"reputation": 21618, "user_id": 11755, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/5b9872f3076db04cb2ffb516091d80d0?s=128&d=identicon&r=PG", "display_name": "dagda1", "link": "https://stackoverflow.com/users/11755/dagda1"}, "edited": false, "score": 0, "creation_date": 1551886516, "post_id": 55026108, "comment_id": 96806296, "body": "I&#39;m not in charge of the code so <code>namespaces</code> won&#39;t work unfortunately.  The last example is probably a bit much but agin, very interesting"}], "tags": [], "owner": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "is_accepted": true, "score": 0, "last_activity_date": 1551884421, "creation_date": 1551884421, "answer_id": 55026108, "question_id": 55018687, "link": "https://stackoverflow.com/questions/55018687/problem-with-return-type-in-typescript-with-optional-indexer/55026108#55026108", "title": "problem with return type in typescript with optional indexer", "body": "<p>If you are in control of enough code to change the design to something more TypeScript-friendly, that would be my suggestion.  For example, if you place the extra namespaces in a single property with a known name, it will be much simpler to describe the type (note that I'm going to remove code and types that are not relevant to the issue, such as the <code>INodeGroupProps['data']</code> property):</p>\n\n<pre><code>// add an optional \"namespaces\" property which is itself a bag of T\ntype MakeNamespace&lt;T&gt; = T &amp; { namespaces?: { [k: string]: T | undefined } };\n\nexport interface INodeGroupProps&lt;T, State&gt; {\n  start: (data: T, index: number) =&gt; MakeNamespace&lt;State&gt;;\n}\n\nexport interface NodesState {\n  top: number;\n  left: number;\n  opacity: number;\n}\n\nexport type Point = { x: number, y: number }\n\n// okay\nconst Nodes: INodeGroupProps&lt;Point, NodesState&gt; = {\n  start: (point: Point) =&gt; {\n    return {\n      top: point.y,\n      left: point.x,\n      opacity: 0,\n    }\n  }\n};\n\n// also okay\nconst Nodes2: INodeGroupProps&lt;Point, NodesState&gt; = {\n  start: (point: Point) =&gt; {\n    return {\n      top: point.y,\n      left: point.x,\n      opacity: 0,\n      namespaces: {\n        namespace1: {\n          top: point.y,\n          left: point.x,\n          opacity: 0,\n        }\n      }\n    }\n  }\n};\n</code></pre>\n\n<p>That still has the issue of widening the return type to <code>INodeGroupProps&lt;Point, NodesState&gt;</code> so the compiler will forget, for example, that <code>Nodes2.namespaces.namespace1</code> exists:</p>\n\n<pre><code>const ret = Nodes2.start({ x: 1, y: 2 }, 0);\nconst oops = ret.namespaces.namespace1; // error! possibly undefined?\nif (ret.namespaces &amp;&amp; ret.namespaces.namespace1) {\n  const ns = ret.namespaces.namespace1; // okay, ns is NodeState now\n} else {\n  throw new Error(\"why does the compiler think this can happen?!\")\n}\n</code></pre>\n\n<p>Generally the way around this is to change your possibly-too-wide type annotations to calling a helper function which requires that the value matches the annotation, but does not widen to it.  Like:</p>\n\n<pre><code>const ensure = &lt;T&gt;() =&gt; &lt;U extends T&gt;(x: U) =&gt; x;\n\nconst ensureRightNodes = ensure&lt;INodeGroupProps&lt;Point, NodeState&gt;&gt;();\n\n\nconst Nodes = ensureRightNodes({\n  start: (point: Point) =&gt; {\n    return {\n      top: point.y,\n      left: point.x,\n      opacity: 0,\n    }\n  }\n});\n\nconst Nodes2 = ensureRightNodes({\n  start: (point: Point) =&gt; {\n    return {\n      top: point.y,\n      left: point.x,\n      opacity: 0,\n      namespaces: {\n        namespace1: {\n          top: point.y,\n          left: point.x,\n          opacity: 0,\n          timing: { duration: 500 }\n        }\n      }\n    }\n  }\n});\n\n// Now Nodes and Nodes2 are narrowed:\n\nconst ret = Nodes2.start({ x: 1, y: 2 }); // Nodes2.start takes ONE param now\nconst ns = ret.namespaces.namespace1; // okay, ns is NodesState.\n</code></pre>\n\n<p>There are benefits to both widening and narrowing (widening: <code>Nodes2.start()</code> will accept two parameters as defined in <code>INodeGroupProps</code>; narrowing: <code>Nodes2.start(p).namespaces.namespace1</code> is known to exist) so it's a tradeoff and it's up to you to figure out where the right balance is for your needs.</p>\n\n<hr>\n\n<p>Backing up, it's possible you might need to keep the original \"<code>T</code> plus all sorts of extra properties\" definition, and in that case you can coax and cajole the compiler to accepting it using <a href=\"https://www.typescriptlang.org/docs/handbook/release-notes/typescript-2-8.html#conditional-types\" rel=\"nofollow noreferrer\">conditional types</a>, with the same caveats about narrowing as above:</p>\n\n<pre><code>type MakeNamespace&lt;T, K extends keyof any&gt; = T &amp; Record&lt;Exclude&lt;K, keyof T&gt;, T&gt;;\n\nexport interface INodeGroupProps&lt;T, State, K extends keyof any&gt; {\n  start: (data: T, index: number) =&gt; MakeNamespace&lt;State, K&gt;;\n}\n\ntype ExtraKeysFromINodeGroupProp&lt;T, State, N&gt; =\n  N extends INodeGroupProps&lt;any, any, any&gt; ?\n  Exclude&lt;keyof ReturnType&lt;N['start']&gt;, keyof State&gt; : never\n\ntype InferINodeGroupProp&lt;T, State, N&gt; =\n  INodeGroupProps&lt;T, State, ExtraKeysFromINodeGroupProp&lt;T, State, N&gt;&gt;;\n\nconst inferNodeGroupPropsFor = &lt;T, State&gt;() =&gt;\n  &lt;N&gt;(ingp: N &amp; InferINodeGroupProp&lt;T, State, N&gt;):\n    InferINodeGroupProp&lt;T, State, N&gt; =&gt; ingp;\n\nconst ngpPointNodesState = inferNodeGroupPropsFor&lt;Point, NodesState&gt;();\n\nconst Nodes = ngpPointNodesState({\n  start: (point: Point) =&gt; {\n    return {\n      top: point.y,\n      left: point.x,\n      opacity: 0,\n    }\n  }\n});\n\nconst Node2 = ngpPointNodesState({\n  start: (point: Point) =&gt; {\n    return {\n      top: point.y,\n      left: point.x,\n      opacity: 0,\n      namespace1: {\n        top: point.y,\n        left: point.x,\n        opacity: 0,\n      }\n    }\n  }\n});\n\n\nNode2.start({ x: 1, y: 1 }, 0).namespace1.left; // okay\n</code></pre>\n\n<p>To get that working you need to make <code>MakeNamespace</code> generic enough to represent <em>which</em> extra keys <code>K</code> you are adding, and then do all kinds of things to verify that a passed-in value matches <code>INodeGroupProps&lt;T, State, K&gt;</code> for some <code>K</code> that you extract from the value's type.  It's frankly a mess... so if possible I'd really recommend trying not to go the dynamic-extra-properties route.</p>\n\n<hr>\n\n<p>Okay, hope that helps.  Good luck!</p>\n"}], "owner": {"reputation": 21618, "user_id": 11755, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/5b9872f3076db04cb2ffb516091d80d0?s=128&d=identicon&r=PG", "display_name": "dagda1", "link": "https://stackoverflow.com/users/11755/dagda1"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 104, "favorite_count": 0, "accepted_answer_id": 55026108, "answer_count": 1, "score": 0, "last_activity_date": 1551884421, "creation_date": 1551861266, "last_edit_date": 1551882818, "question_id": 55018687, "link": "https://stackoverflow.com/questions/55018687/problem-with-return-type-in-typescript-with-optional-indexer", "title": "problem with return type in typescript with optional indexer", "body": "<p>In the following example I want to type the return type of a function:</p>\n\n<pre><code>type MakeNamespace&lt;T&gt; = T &amp; { [index: string]: T }\n\nexport interface INodeGroupProps&lt;T = unknown[], State = {}&gt; {\n  data: T[];\n  start: (data: T, index: number) =&gt;  MakeNamespace&lt;State&gt;;\n}\n\nexport interface NodesState {\n  top: number;\n  left: number;\n  opacity: number;\n}\n\nexport type Point = { x: number, y: number }\n\nconst points: Point[] = [{ x: 0, y: 0 }, { x: 1, y: 2 }, { x: 2, y: 3 }]\n\nconst Nodes: INodeGroupProps&lt;Point, NodesState&gt; = {\n  data: points,\n  keyAccessor: d =&gt; {\n    return d.x\n  },\n  start: point =&gt; {\n    return {\n      top: point.y,\n      left: point.x,\n      opacity: 0,\n    }\n  }\n}\n</code></pre>\n\n<p>The return type of the <code>start</code> function could be:</p>\n\n<pre><code>    return {\n      top: point.y,\n      left: point.x,\n      opacity: 0\n    }\n</code></pre>\n\n<p>or it could be:</p>\n\n<pre><code>return {\n  namespace1: {\n    top: point.y,\n    left: point.x,\n    opacity: 0\n  },\n  namespace2: {\n    top: point.y,\n    left: point.x,\n    opacity: 0\n  }\n}\n</code></pre>\n\n<p>My code will not allow this and typescript complains:</p>\n\n<blockquote>\n  <p>Property 'top' is incompatible with index signature</p>\n</blockquote>\n\n<p>Changing <code>MakeNamespace</code> to <code>type MakeNamespace&lt;T&gt; = T | { [index: string]: T }</code> works but won't cover this case:</p>\n\n<pre><code>const Nodes: INodeGroupProps&lt;Point, NodesState&gt; = {\n  data: points,\n  start: point =&gt; {\n    return {\n      top: point.y,\n      left: point.x,\n      opacity: 0\n      namespace1: {\n        top: point.y,\n        left: point.x,\n        opacity: 0\n      }\n    }\n  }\n}\n</code></pre>\n\n<p>Where i have a combination of both.</p>\n\n<p>Due to return type widening, I lose type safety on the <code>namespace</code> key because it is going for the <code>T</code> part of the union.</p>\n\n<p>My thoughts would be to make the indexer optional but I am not sure how to do that.</p>\n\n<p>Here is a <a href=\"http://www.typescriptlang.org/play/index.html#src=type%20MakeNamespace%3CT%3E%20%3D%20T%20%26%20%7B%20%5Bindex%3A%20string%5D%3A%20T%20%7D%0D%0A%0D%0Aexport%20interface%20INodeGroupProps%3CT%20%3D%20unknown%5B%5D%2C%20State%20%3D%20%7B%7D%3E%20%7B%0D%0A%20%20data%3A%20T%5B%5D%3B%0D%0A%20%20start%3A%20(data%3A%20T%2C%20index%3A%20number)%20%3D%3E%20%20MakeNamespace%3CState%3E%3B%0D%0A%7D%0D%0A%0D%0Aexport%20interface%20NodesState%20%7B%0D%0A%20%20top%3A%20number%3B%0D%0A%20%20left%3A%20number%3B%0D%0A%20%20opacity%3A%20number%3B%0D%0A%7D%0D%0A%0D%0Aexport%20type%20Point%20%3D%20%7B%20x%3A%20number%2C%20y%3A%20number%20%7D%0D%0A%0D%0Aconst%20points%3A%20Point%5B%5D%20%3D%20%5B%7B%20x%3A%200%2C%20y%3A%200%20%7D%2C%20%7B%20x%3A%201%2C%20y%3A%202%20%7D%2C%20%7B%20x%3A%202%2C%20y%3A%203%20%7D%5D%0D%0A%0D%0Aconst%20Nodes%3A%20INodeGroupProps%3CPoint%2C%20NodesState%3E%20%3D%20%7B%0D%0A%20%20data%3A%20points%2C%0D%0A%20%20keyAccessor%3A%20d%20%3D%3E%20%7B%0D%0A%20%20%20%20return%20d.x%0D%0A%20%20%7D%2C%0D%0A%20%20start%3A%20point%20%3D%3E%20%7B%0D%0A%20%20%20%20return%20%7B%0D%0A%20%20%20%20%20%20top%3A%20point.y%2C%0D%0A%20%20%20%20%20%20left%3A%20point.x%2C%0D%0A%20%20%20%20%20%20opacity%3A%200%0D%0A%20%20%20%20%7D%0D%0A%20%20%7D%0D%0A%7D\" rel=\"nofollow noreferrer\">playground</a></p>\n"}, {"tags": ["angular", "typescript", "lodash"], "comments": [{"owner": {"reputation": 8264, "user_id": 2118360, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yLaPr.jpg?s=128&g=1", "display_name": "TheParam", "link": "https://stackoverflow.com/users/2118360/theparam"}, "edited": false, "score": 1, "creation_date": 1551861930, "post_id": 55018665, "comment_id": 96791370, "body": "please share package.json code understand your problem"}, {"owner": {"reputation": 111, "user_id": 8746606, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-zshLMfFcRmY/AAAAAAAAAAI/AAAAAAAAADs/yPHq4LmrLH4/photo.jpg?sz=128", "display_name": "Rajesh Reddy", "link": "https://stackoverflow.com/users/8746606/rajesh-reddy"}, "reply_to_user": {"reputation": 8264, "user_id": 2118360, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yLaPr.jpg?s=128&g=1", "display_name": "TheParam", "link": "https://stackoverflow.com/users/2118360/theparam"}, "edited": false, "score": 0, "creation_date": 1551869303, "post_id": 55018665, "comment_id": 96795862, "body": "&quot;typescript&quot;: &quot;~2.7.2&quot;,   &quot;@types/lodash&quot;: &quot;^4.14.122&quot;, &quot;lodash&quot;: &quot;^4.17.10&quot;, &quot;@angular/cdk&quot;: &quot;^6.4.2&quot;, &quot;@angular/cli&quot;: &quot;~6.0.8&quot;,"}], "answers": [{"comments": [{"owner": {"reputation": 2499, "user_id": 3908601, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/L9qiP.jpg?s=128&g=1", "display_name": "Nate Birkholz", "link": "https://stackoverflow.com/users/3908601/nate-birkholz"}, "edited": false, "score": 0, "creation_date": 1557331701, "post_id": 55019611, "comment_id": 98731557, "body": "What do you mean you &quot;updated&quot;? I have changed the line in pakage.json but it doesn&#39;t work, do I need to run a command to make it take effect?"}], "tags": [], "owner": {"reputation": 41, "user_id": 1190699, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f50906182b6d70b4b131872321a76ffb?s=128&d=identicon&r=PG", "display_name": "MTA", "link": "https://stackoverflow.com/users/1190699/mta"}, "is_accepted": false, "score": 1, "last_activity_date": 1551868566, "last_edit_date": 1551868566, "creation_date": 1551864388, "answer_id": 55019611, "question_id": 55018665, "link": "https://stackoverflow.com/questions/55018665/following-lodash-error-on-build-cannot-find-name-exclude/55019611#55019611", "title": "following lodash error on build &#39;Cannot find name &#39;Exclude&#39;&#39;", "body": "<p>I have the same error since 2 days.</p>\n\n<p>my package.json:</p>\n\n<pre><code>{\n  \"name\": \"my-app\",\n  \"version\": \"0.0.0\",\n  \"license\": \"MIT\",\n  \"scripts\": {\n    \"ng\": \"ng\",\n    \"start\": \"ng serve\",\n    \"build\": \"ng build\",\n    \"prod\": \"ng build --prod\",\n    \"test\": \"ng test\",\n    \"lint\": \"ng lint\",\n    \"e2e\": \"ng e2e\"\n  },\n  \"private\": true,\n  \"dependencies\": {\n    \"@angular/animations\": \"^4.1.1\",\n    \"@angular/common\": \"^4.0.1\",\n    \"@angular/compiler\": \"^4.0.1\",\n    \"@angular/core\": \"^4.0.1\",\n    \"@angular/forms\": \"^4.0.1\",\n    \"@angular/http\": \"^4.0.1\",\n    \"@angular/platform-browser\": \"^4.0.1\",\n    \"@angular/platform-browser-dynamic\": \"^4.0.1\",\n    \"@angular/router\": \"^4.0.1\",\n    \"angular2-json-schema-form\": \"https://github.com/ptv-ldts/angular2-json-schema-form/tarball/impact?v1.0.2\",\n    \"angular2-notifications\": \"^0.7.3\",\n    \"bootstrap\": \"^3.3.7\",\n    \"clipboard\": \"^1.6.1\",\n    \"core-js\": \"^2.4.1\",\n    \"gulp\": \"^3.9.1\",\n    \"gulp-cheerio\": \"^0.6.2\",\n    \"gulp-clean\": \"^0.3.2\",\n    \"gulp-rename\": \"^1.2.2\",\n    \"lodash\": \"^4.17.4\",\n    \"ng2-ace-editor\": \"^0.1.9\",\n    \"ng2-bs3-modal\": \"^0.10.4\",\n    \"ng2-smart-table\": \"1.2.1\",\n    \"ngx-clipboard\": \"^5.1.0\",\n    \"zone.js\": \"^0.8.4\"\n  },\n  \"devDependencies\": {\n    \"@angular/cli\": \"1.0.0\",\n    \"@angular/compiler-cli\": \"^4.0.1\",\n    \"@types/jasmine\": \"2.5.38\",\n    \"@types/lodash\": \"^4.14.55\",\n    \"@types/node\": \"~6.0.60\",\n    \"angular-ide\": \"^0.9.19\",\n    \"codelyzer\": \"~2.0.0\",\n    \"jasmine-core\": \"~2.5.2\",\n    \"jasmine-spec-reporter\": \"~3.2.0\",\n    \"jquery\": \"^3.2.1\",\n    \"json-loader\": \"^0.5.4\",\n    \"karma\": \"~1.4.1\",\n    \"karma-chrome-launcher\": \"~2.0.0\",\n    \"karma-cli\": \"~1.0.1\",\n    \"karma-coverage\": \"^1.1.1\",\n    \"karma-coverage-istanbul-reporter\": \"^0.2.0\",\n    \"karma-jasmine\": \"~1.1.0\",\n    \"karma-jasmine-html-reporter\": \"^0.2.2\",\n    \"karma-junit-reporter\": \"^1.2.0\",\n    \"karma-phantomjs-launcher\": \"^1.0.4\",\n    \"protractor\": \"~5.1.0\",\n    \"ts-node\": \"~2.0.0\",\n    \"tslint\": \"~4.5.0\",\n    \"typescript\": \"~2.2.0\"\n  },\n  \"peerDependencies\": {\n    \"rxjs\": \"^5.1.0\"\n  }\n}\n</code></pre>\n\n<p>Update: \nWhat I found was, that exclude comes in with typescript 2.8. I changed the line in package json for typescript to \"typescript\": \"^2.2.0\" and updated.</p>\n"}, {"tags": [], "owner": {"reputation": 63, "user_id": 2144540, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/76acd0617b482559ac3a5afae90662d2?s=128&d=identicon&r=PG", "display_name": "L&#234; V\u0103n Hi\u1ebfu", "link": "https://stackoverflow.com/users/2144540/l%c3%aa-v%c4%83n-hi%e1%ba%bfu"}, "is_accepted": false, "score": 4, "last_activity_date": 1552468178, "last_edit_date": 1552468178, "creation_date": 1551864650, "answer_id": 55019685, "question_id": 55018665, "link": "https://stackoverflow.com/questions/55018665/following-lodash-error-on-build-cannot-find-name-exclude/55019685#55019685", "title": "following lodash error on build &#39;Cannot find name &#39;Exclude&#39;&#39;", "body": "<p>I have the same error for this evening. I try to re-install all of them but nothing happend.</p>\n\n<p>Current I use:</p>\n\n<p>Typescript: 2.2.2\n- Ionic: 3, Ionic CLI: 4.1.2\n- Cordova: 8.1.2\n- Angular CLI: 1.2.4</p>\n\n<p>My solution for now: Set the typesript version to 3.2.4 => It work for me</p>\n\n<p><strong>Updated</strong>\nFor now, I fix issue by force install the lodash: <code>npm install --save @types/lodash@4.14.118</code></p>\n"}, {"tags": [], "owner": {"reputation": 113, "user_id": 4055213, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-mllomdSsI9Y/AAAAAAAAAAI/AAAAAAAACiM/DJJKz5nd6Lk/photo.jpg?sz=128", "display_name": "Yuan", "link": "https://stackoverflow.com/users/4055213/yuan"}, "is_accepted": false, "score": 7, "last_activity_date": 1561360836, "last_edit_date": 1561360836, "creation_date": 1551881956, "answer_id": 55025259, "question_id": 55018665, "link": "https://stackoverflow.com/questions/55018665/following-lodash-error-on-build-cannot-find-name-exclude/55025259#55025259", "title": "following lodash error on build &#39;Cannot find name &#39;Exclude&#39;&#39;", "body": "<p>I'm facing the same issue this morning. \nOne possible solution for me is to fix the lodash version in the package.json :</p>\n\n<p><code>\"lodash\": \"^4.17.4\"</code> => <code>\"lodash\": \"4.17.4\"</code></p>\n\n<p><code>\"@types/lodash\": \"^4.14.55\"</code> => <code>\"@types/lodash\": \"4.14.55\"</code></p>\n\n<p>And waiting for a more stable fix/solution.</p>\n\n<p>Hope that works for you</p>\n"}, {"tags": [], "owner": {"reputation": 11, "user_id": 11160411, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e9eb0c7b567be614a9aa50983251bc74?s=128&d=identicon&r=PG&f=1", "display_name": "Kalyan", "link": "https://stackoverflow.com/users/11160411/kalyan"}, "is_accepted": false, "score": 1, "last_activity_date": 1551884123, "creation_date": 1551884123, "answer_id": 55026001, "question_id": 55018665, "link": "https://stackoverflow.com/questions/55018665/following-lodash-error-on-build-cannot-find-name-exclude/55026001#55026001", "title": "following lodash error on build &#39;Cannot find name &#39;Exclude&#39;&#39;", "body": "<p>We faced this issue and we had to increment the typescript version to \"2.8\" to solve the \"Exclude\" error.</p>\n\n<p>Note: Make sure to use the typescript version which is required by your @angular/cli version.</p>\n\n<p>Like, in my case @angluar/cli version is \"6.0.8\" which can accept typescript version \"2.8\".</p>\n"}, {"tags": [], "owner": {"reputation": 524, "user_id": 3090323, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/ea4914e7b5614a0a1924437c7c16791f?s=128&d=identicon&r=PG&f=1", "display_name": "Tirinoarim", "link": "https://stackoverflow.com/users/3090323/tirinoarim"}, "is_accepted": false, "score": 1, "last_activity_date": 1551886582, "creation_date": 1551886582, "answer_id": 55026824, "question_id": 55018665, "link": "https://stackoverflow.com/questions/55018665/following-lodash-error-on-build-cannot-find-name-exclude/55026824#55026824", "title": "following lodash error on build &#39;Cannot find name &#39;Exclude&#39;&#39;", "body": "<p>For me, it appeared to be a change of lodash from 4.14.118 -> 4.14.122.  Fixing at 4.14.118 fixed this issue.</p>\n\n<p>\"@types/lodash\": \"4.14.118\",</p>\n"}, {"tags": [], "owner": {"reputation": 91, "user_id": 11158906, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/340a27db35c002510003df4bad6650c7?s=128&d=identicon&r=PG&f=1", "display_name": "Ish", "link": "https://stackoverflow.com/users/11158906/ish"}, "is_accepted": false, "score": 6, "last_activity_date": 1561360820, "last_edit_date": 1561360820, "creation_date": 1551889761, "answer_id": 55027898, "question_id": 55018665, "link": "https://stackoverflow.com/questions/55018665/following-lodash-error-on-build-cannot-find-name-exclude/55027898#55027898", "title": "following lodash error on build &#39;Cannot find name &#39;Exclude&#39;&#39;", "body": "<p>There are recent updates on lodash typings\nreference : <a href=\"https://www.npmjs.com/package/@types/lodash\" rel=\"nofollow noreferrer\">https://www.npmjs.com/package/@types/lodash</a>\nLast updated: Mon, 04 Mar 2019 22:42:42 GMT</p>\n\n<p>changing <code>\"@types/lodash\": \"4.14.121\"</code> worked for me as this was the most stable version referred prior to recent update.</p>\n\n<p>Hope this helps.</p>\n"}, {"comments": [{"owner": {"reputation": 2584, "user_id": 4949684, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7d220.jpg?s=128&g=1", "display_name": "Carlos Cavero", "link": "https://stackoverflow.com/users/4949684/carlos-cavero"}, "edited": false, "score": 0, "creation_date": 1551960195, "post_id": 55043049, "comment_id": 96837384, "body": "First of all, welcome to StackOverflow. Following the advices of the community, it is recommended to include directly the images instead of links to better understand your response.  Please check the documentation <a href=\"https://stackoverflow.com/help/mcve\">on how to create a Minimal, Complete, and Verifiable example</a>"}], "tags": [], "owner": {"reputation": 31, "user_id": 11165181, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-TnyriNbZItM/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcDB_HFMlh8gb_ohunmWAL8-zwoBA/mo/photo.jpg?sz=128", "display_name": "poootta", "link": "https://stackoverflow.com/users/11165181/poootta"}, "is_accepted": false, "score": 3, "last_activity_date": 1557336934, "last_edit_date": 1557336934, "creation_date": 1551959234, "answer_id": 55043049, "question_id": 55018665, "link": "https://stackoverflow.com/questions/55018665/following-lodash-error-on-build-cannot-find-name-exclude/55043049#55043049", "title": "following lodash error on build &#39;Cannot find name &#39;Exclude&#39;&#39;", "body": "<p>I solved this problem indirectly.</p>\n\n<ol>\n<li><p>Find <code>@types/lodash</code> in <code>package-lock.json</code> \n<img src=\"https://i.stack.imgur.com/lZnuX.png\" alt=\"enter image description here\"></p></li>\n<li><p>Update <code>package.json</code>\n<img src=\"https://i.stack.imgur.com/g0p54.png\" alt=\"enter image description here\">   </p></li>\n</ol>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 11243896, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4dd65a2d9da0cf2ae540716e9271a40c?s=128&d=identicon&r=PG&f=1", "display_name": "aryan2312", "link": "https://stackoverflow.com/users/11243896/aryan2312"}, "is_accepted": false, "score": 0, "last_activity_date": 1561360933, "last_edit_date": 1561360933, "creation_date": 1553279286, "answer_id": 55305806, "question_id": 55018665, "link": "https://stackoverflow.com/questions/55018665/following-lodash-error-on-build-cannot-find-name-exclude/55305806#55305806", "title": "following lodash error on build &#39;Cannot find name &#39;Exclude&#39;&#39;", "body": "<p>We have faced the same issue but it got resolved after I change the version of lodash from - <code>\"@types/lodash\": \"^4.14.111\"</code> to  <code>\"@types/lodash\": \"4.14.121\"</code> in the package.json file</p>\n"}, {"comments": [{"owner": {"reputation": 149, "user_id": 8521196, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-ll-34lAZ1V0/AAAAAAAAAAI/AAAAAAAACPM/LTOpVSH0KI4/photo.jpg?sz=128", "display_name": "Gaius", "link": "https://stackoverflow.com/users/8521196/gaius"}, "reply_to_user": {"reputation": 4911, "user_id": 2884291, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/7688902c257eca6d9b222592d8db2d95?s=128&d=identicon&r=PG", "display_name": "Liran H", "link": "https://stackoverflow.com/users/2884291/liran-h"}, "edited": false, "score": 0, "creation_date": 1577512469, "post_id": 56662357, "comment_id": 105189454, "body": "Glad it helped\ud83d\udc4d"}, {"owner": {"reputation": 1172, "user_id": 3845839, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/20faf1feed421e2c28859ec27c475d54?s=128&d=identicon&r=PG", "display_name": "Joel James", "link": "https://stackoverflow.com/users/3845839/joel-james"}, "edited": false, "score": 0, "creation_date": 1591897680, "post_id": 56662357, "comment_id": 110237331, "body": "This solution fixed my issue. Thanks dude"}], "tags": [], "owner": {"reputation": 149, "user_id": 8521196, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-ll-34lAZ1V0/AAAAAAAAAAI/AAAAAAAACPM/LTOpVSH0KI4/photo.jpg?sz=128", "display_name": "Gaius", "link": "https://stackoverflow.com/users/8521196/gaius"}, "is_accepted": false, "score": 10, "last_activity_date": 1561014231, "last_edit_date": 1561014231, "creation_date": 1560929593, "answer_id": 56662357, "question_id": 55018665, "link": "https://stackoverflow.com/questions/55018665/following-lodash-error-on-build-cannot-find-name-exclude/56662357#56662357", "title": "following lodash error on build &#39;Cannot find name &#39;Exclude&#39;&#39;", "body": "<p><strong>Solution 1</strong> <br>\nI also had the same issue, i tried to downgrade typescript version and lodash version, but nothing worked, and at last i tried installing @types/lodash, and it worked.\njust try this:</p>\n\n<pre><code>npm i @types/lodash\n</code></pre>\n\n<p>hope it helps.</p>\n\n<p>If the above solution doesn't work try this: <br> <br>\n<strong>Solution 2</strong> <br>\nThe actual issue is, Exclude was added to typescript on version 2.8. You might have a version of @types/lodash that needs minimum typescript 2.8, and it can happen if your lodash and typescript version didn't match.</p>\n\n<p>So, install the last typescript 2.3 version compatible with lodash using this code :</p>\n\n<pre><code>npm i -D @types/lodash@ts2.3\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 7, "user_id": 10780803, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/07fc04aa1be6880ef3dbc5b972b67397?s=128&d=identicon&r=PG&f=1", "display_name": "Aishwarya Ramesh", "link": "https://stackoverflow.com/users/10780803/aishwarya-ramesh"}, "is_accepted": false, "score": 0, "last_activity_date": 1561355608, "last_edit_date": 1561355608, "creation_date": 1561349017, "answer_id": 56729698, "question_id": 55018665, "link": "https://stackoverflow.com/questions/55018665/following-lodash-error-on-build-cannot-find-name-exclude/56729698#56729698", "title": "following lodash error on build &#39;Cannot find name &#39;Exclude&#39;&#39;", "body": "<p>In my case, I had to update angular-tree-component from 7.2.0 to 8.2.0 and the problem got resolved!</p>\n"}, {"tags": [], "owner": {"reputation": 409, "user_id": 5397557, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1ca217a4a79aab94275c2a5558609b8f?s=128&d=identicon&r=PG&f=1", "display_name": "Santhosh mp", "link": "https://stackoverflow.com/users/5397557/santhosh-mp"}, "is_accepted": false, "score": 0, "last_activity_date": 1576214727, "last_edit_date": 1576214727, "creation_date": 1576156741, "answer_id": 59305552, "question_id": 55018665, "link": "https://stackoverflow.com/questions/55018665/following-lodash-error-on-build-cannot-find-name-exclude/59305552#59305552", "title": "following lodash error on build &#39;Cannot find name &#39;Exclude&#39;&#39;", "body": "<p>I faced the same issue.\nI solved it by installing lodash with below command</p>\n\n<p>npm install --save @types/lodash@4.14.55</p>\n\n<p>Check the version mentioned in Package.json and install corresponding version to resolve the issue.</p>\n"}], "owner": {"reputation": 111, "user_id": 8746606, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-zshLMfFcRmY/AAAAAAAAAAI/AAAAAAAAADs/yPHq4LmrLH4/photo.jpg?sz=128", "display_name": "Rajesh Reddy", "link": "https://stackoverflow.com/users/8746606/rajesh-reddy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 14339, "favorite_count": 0, "answer_count": 11, "score": 10, "last_activity_date": 1576214727, "creation_date": 1551861156, "last_edit_date": 1551862036, "question_id": 55018665, "link": "https://stackoverflow.com/questions/55018665/following-lodash-error-on-build-cannot-find-name-exclude", "title": "following lodash error on build &#39;Cannot find name &#39;Exclude&#39;&#39;", "body": "<p>I am getting following lodash error </p>\n\n<blockquote>\n  <p>ERROR in node_modules/@types/lodash/common/object.d.ts(1689,12): error\n  TS2304: Cannot find name 'Exclude'.\n  node_modules/@types/lodash/common/object.d.ts(1766,12): error TS2304:\n  Cannot find name 'Exclude'.\n  node_modules/@types/lodash/common/object.d.ts(1842,34): error TS2304:\n  Cannot find name 'Exclude'.</p>\n</blockquote>\n"}, {"tags": ["typescript", "webpack", "import", "karma-runner"], "answers": [{"tags": [], "owner": {"reputation": 779, "user_id": 6767060, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-tBxeApcpf2E/AAAAAAAAAAI/AAAAAAAACuo/qF9nJcUnUoI/photo.jpg?sz=128", "display_name": "Guy Yogev", "link": "https://stackoverflow.com/users/6767060/guy-yogev"}, "is_accepted": true, "score": 0, "last_activity_date": 1552150653, "creation_date": 1552150653, "answer_id": 55079729, "question_id": 55018399, "link": "https://stackoverflow.com/questions/55018399/karma-cant-load-ts-files-if-not-explicit/55079729#55079729", "title": "Karma can&#39;t load ts files if not explicit", "body": "<p>maybe its an issue with the <code>preprocessors</code> or <code>files</code> value at the karma config file.\nmake sure you pass both JS and TS files threw the typescript preprocessor.</p>\n"}], "owner": {"reputation": 3697, "user_id": 1811956, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/25eb8368017ee27392ed02c9607b2265?s=128&d=identicon&r=PG", "display_name": "IsraGab", "link": "https://stackoverflow.com/users/1811956/isragab"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 26, "favorite_count": 0, "accepted_answer_id": 55079729, "answer_count": 1, "score": 0, "last_activity_date": 1552150653, "creation_date": 1551860142, "question_id": 55018399, "link": "https://stackoverflow.com/questions/55018399/karma-cant-load-ts-files-if-not-explicit", "title": "Karma can&#39;t load ts files if not explicit", "body": "<p>in a javascript file (controller.js), I import a <strong>ts</strong> file (service) </p>\n\n<pre><code>import {service} from \"../../../service\";\n</code></pre>\n\n<p>While everything is ok when running project (dev &amp; prod), when running karma I have the following error:</p>\n\n<blockquote>\n  <p>ERROR in ..../controller.js\n  Module not found: Error: Can't resolve\n  '../../../service' in\n  'C:\\Workspaces....'</p>\n</blockquote>\n\n<p>If I write the extension it works fine, but here is many place to change.</p>\n\n<p>Is there a way to make karma working as it works in prod and dev?</p>\n\n<p>I'm using: webpack karma and mocha.</p>\n"}, {"tags": ["typescript"], "comments": [{"owner": {"reputation": 4609, "user_id": 4636715, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/5ebd8c54bb287f99b94373429b588e21?s=128&d=identicon&r=PG&f=1", "display_name": "vahdet", "link": "https://stackoverflow.com/users/4636715/vahdet"}, "edited": false, "score": 0, "creation_date": 1551859797, "post_id": 55018279, "comment_id": 96790207, "body": "This <a href=\"https://github.com/Microsoft/TypeScript/issues/8855\" rel=\"nofollow noreferrer\">github issue</a> argues a similar case to yours -except it is on files not folders. There are no direct ways but workarounds, yet maybe it can help."}, {"owner": {"reputation": 2278, "user_id": 2607703, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/aee995e08a41e26434fa61e9e316d23d?s=128&d=identicon&r=PG", "display_name": "codelovesme", "link": "https://stackoverflow.com/users/2607703/codelovesme"}, "reply_to_user": {"reputation": 4609, "user_id": 4636715, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/5ebd8c54bb287f99b94373429b588e21?s=128&d=identicon&r=PG&f=1", "display_name": "vahdet", "link": "https://stackoverflow.com/users/4636715/vahdet"}, "edited": false, "score": 0, "creation_date": 1551860438, "post_id": 55018279, "comment_id": 96790525, "body": "It seems like labeled as &quot;Won&#39;t Fix"}], "answers": [{"comments": [{"owner": {"reputation": 2278, "user_id": 2607703, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/aee995e08a41e26434fa61e9e316d23d?s=128&d=identicon&r=PG", "display_name": "codelovesme", "link": "https://stackoverflow.com/users/2607703/codelovesme"}, "edited": false, "score": 0, "creation_date": 1551859974, "post_id": 55018337, "comment_id": 96790285, "body": "Should I run command tsc -p . twice since it is project based ?"}, {"owner": {"reputation": 2278, "user_id": 2607703, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/aee995e08a41e26434fa61e9e316d23d?s=128&d=identicon&r=PG", "display_name": "codelovesme", "link": "https://stackoverflow.com/users/2607703/codelovesme"}, "edited": false, "score": 0, "creation_date": 1551860065, "post_id": 55018337, "comment_id": 96790334, "body": "Like tsc -p . &amp;&amp; tsc -p ./dir1/dir2"}, {"owner": {"reputation": 2665, "user_id": 290326, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/2dRyk.png?s=128&g=1", "display_name": "Fribu - Smart Solutions", "link": "https://stackoverflow.com/users/290326/fribu-smart-solutions"}, "reply_to_user": {"reputation": 2278, "user_id": 2607703, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/aee995e08a41e26434fa61e9e316d23d?s=128&d=identicon&r=PG", "display_name": "codelovesme", "link": "https://stackoverflow.com/users/2607703/codelovesme"}, "edited": false, "score": 0, "creation_date": 1551860251, "post_id": 55018337, "comment_id": 96790419, "body": "@codelovesme not sure on this, depends on the desired results. Had to test this first"}, {"owner": {"reputation": 2278, "user_id": 2607703, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/aee995e08a41e26434fa61e9e316d23d?s=128&d=identicon&r=PG", "display_name": "codelovesme", "link": "https://stackoverflow.com/users/2607703/codelovesme"}, "edited": false, "score": 0, "creation_date": 1551860502, "post_id": 55018337, "comment_id": 96790555, "body": "I have tested already, before asking the question. But that wasn&#39;t the solution"}], "tags": [], "owner": {"reputation": 2665, "user_id": 290326, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/2dRyk.png?s=128&g=1", "display_name": "Fribu - Smart Solutions", "link": "https://stackoverflow.com/users/290326/fribu-smart-solutions"}, "is_accepted": false, "score": 0, "last_activity_date": 1551859831, "creation_date": 1551859831, "answer_id": 55018337, "question_id": 55018279, "link": "https://stackoverflow.com/questions/55018279/is-it-possible-folder-based-configuration-in-a-typescript-project-multi-tsconf/55018337#55018337", "title": "Is it possible folder based configuration in a Typescript project ? Multi tsconfig.json or something else", "body": "<p>you might extend your default config:</p>\n\n<pre><code>{\n  \"extends\": \"../../tsconfig.json\",\n  \"noImplicitAny\": false\n}\n</code></pre>\n\n<p>but it is project/module based, not directory based.</p>\n"}], "owner": {"reputation": 2278, "user_id": 2607703, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/aee995e08a41e26434fa61e9e316d23d?s=128&d=identicon&r=PG", "display_name": "codelovesme", "link": "https://stackoverflow.com/users/2607703/codelovesme"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 294, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1551859831, "creation_date": 1551859563, "question_id": 55018279, "link": "https://stackoverflow.com/questions/55018279/is-it-possible-folder-based-configuration-in-a-typescript-project-multi-tsconf", "title": "Is it possible folder based configuration in a Typescript project ? Multi tsconfig.json or something else", "body": "<p>I would like to set </p>\n\n<pre><code>\"noImplicitAny\": true\n</code></pre>\n\n<p>in <strong>tsconfig.json</strong> only for a specified folder.</p>\n\n<p>Out of the folder it must be <strong>false</strong> again.</p>\n"}, {"tags": ["javascript", "angular", "typescript"], "comments": [{"owner": {"reputation": 667, "user_id": 5430316, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/21474c38cfaf16b33f4493043bfe81a1?s=128&d=identicon&r=PG&f=1", "display_name": "emkay", "link": "https://stackoverflow.com/users/5430316/emkay"}, "edited": false, "score": 0, "creation_date": 1551858485, "post_id": 55017927, "comment_id": 96789533, "body": "From Back button you are referring to the browser back button or your own made html button?"}, {"owner": {"reputation": 21687, "user_id": 1456376, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/1f8b9badfad57118d16484408f4f954d?s=128&d=identicon&r=PG", "display_name": "insertusernamehere", "link": "https://stackoverflow.com/users/1456376/insertusernamehere"}, "edited": false, "score": 0, "creation_date": 1551858587, "post_id": 55017927, "comment_id": 96789591, "body": "Can\u2019t you hide the alert when <code>ngOnDestroy</code> is called? Or is the back button not moving to another component?"}, {"owner": {"reputation": 45, "user_id": 11071159, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a0f38a46fe42144b0bbe7c498aa13231?s=128&d=identicon&r=PG&f=1", "display_name": "y3v2btr93iq", "link": "https://stackoverflow.com/users/11071159/y3v2btr93iq"}, "edited": false, "score": 0, "creation_date": 1551858675, "post_id": 55017927, "comment_id": 96789631, "body": "I corrected my post. now you can see my html file."}, {"owner": {"reputation": 45, "user_id": 11071159, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a0f38a46fe42144b0bbe7c498aa13231?s=128&d=identicon&r=PG&f=1", "display_name": "y3v2btr93iq", "link": "https://stackoverflow.com/users/11071159/y3v2btr93iq"}, "edited": false, "score": 0, "creation_date": 1551858736, "post_id": 55017927, "comment_id": 96789661, "body": "Where should I write the ngOnDestroy ? the &#39;Back&#39; button is working correctly, moving back to the posts component."}, {"owner": {"reputation": 21687, "user_id": 1456376, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/1f8b9badfad57118d16484408f4f954d?s=128&d=identicon&r=PG", "display_name": "insertusernamehere", "link": "https://stackoverflow.com/users/1456376/insertusernamehere"}, "edited": false, "score": 0, "creation_date": 1551858918, "post_id": 55017927, "comment_id": 96789764, "body": "<code>FormsComponent</code> could implement <code>OnDestroy</code> and then you add the function <code>ngOnDestroy() {}</code>, in which you hide the alert."}], "answers": [{"tags": [], "owner": {"reputation": 1320, "user_id": 6196099, "user_type": "registered", "accept_rate": 50, "profile_image": "https://lh4.googleusercontent.com/-45hNp81idDE/AAAAAAAAAAI/AAAAAAAAAB4/OLaZOd7rtF0/photo.jpg?sz=128", "display_name": "Florian", "link": "https://stackoverflow.com/users/6196099/florian"}, "is_accepted": false, "score": 0, "last_activity_date": 1551863471, "creation_date": 1551863471, "answer_id": 55019327, "question_id": 55017927, "link": "https://stackoverflow.com/questions/55017927/how-to-correctly-display-alerts-so-that-it-automatically-closes-after-clicking/55019327#55019327", "title": "how to correctly display alerts, so that it automatically closes after clicking &#39;back&#39;", "body": "<p>If you want to wipe the alert dialog whenever you click somewhere, I'd suggest you to add an observable to listen the <code>click</code> event on your <code>document</code>. Don't forget to inject <code>ElementRef</code> in your class constructor, and proper imports for <code>takeWhile</code>, <code>Subscription</code>, <code>BehaviorSubject</code>, and <code>Observable</code>. You might need to use <code>pipe</code> regarding your rxjs version.</p>\n\n<pre><code>private alertOpened$ = new BehaviorSubject(false); // your alert is closed by default\nprivate isOpenedSubscription: Subscription;\nprivate clickSubscription: Subscription;\nprivate isAlive = true; // auto unsubscribe\n\npublic ngOnInit() {\n  this.isOpenedSubsscription = this.alertOpened$\n    .takeWhile(() =&gt; this.isAlive)\n    .subscribe((isAlertOpened) =&gt; {\n      if (!isAlertOpened &amp;&amp; this.clickSubscription) {\n        this.clickSubscription.unsubscribe();\n      }\n      this.clickSubscription = Observable.fromEvent(document, 'click')\n        .takeWhile(() =&gt; this.isAlive)\n        .subscribe((event: MouseEvent) =&gt; {\n          if (!this.elemRef.nativeElement.contains(event.target)) {\n            this.formService.setAlert(null);\n            this.alertOpened$.next(false);\n          }      \n        });\n    });\n  }\n\npublic ngOnDestroy() {\n  this.isAlive = false;\n}\n\neditPost() {\n    this.formService.editForm()\n    .then((res:any) =&gt; {\n      this.alertOpened$.next(true);\n      this.formService.alert.setAlert(\"Post has been successfully saved !\");\n    })\n  }\n</code></pre>\n"}], "owner": {"reputation": 45, "user_id": 11071159, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a0f38a46fe42144b0bbe7c498aa13231?s=128&d=identicon&r=PG&f=1", "display_name": "y3v2btr93iq", "link": "https://stackoverflow.com/users/11071159/y3v2btr93iq"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 199, "favorite_count": 1, "answer_count": 1, "score": 0, "last_activity_date": 1551863471, "creation_date": 1551858104, "last_edit_date": 1551858608, "question_id": 55017927, "link": "https://stackoverflow.com/questions/55017927/how-to-correctly-display-alerts-so-that-it-automatically-closes-after-clicking", "title": "how to correctly display alerts, so that it automatically closes after clicking &#39;back&#39;", "body": "<p>I have created success alerts, which is displayed after successfully editing or deleting the post, but there is one issue. When I perform the operation, click the 'back' button and open another post, the alert message still remains displayed until I click 'X' close button.\nI know that it can be solved through changing the alert status after clicking 'back' but I wonder if there is a better solution. For example, creating an observable to display the alerts, and unsubscribing it at the end of each function. What do you think, how should I solve this?</p>\n\n<p>Here is my component.ts file:</p>\n\n<pre><code>import { Component, OnInit, OnDestroy } from '@angular/core';\nimport { ActivatedRoute, Router } from '@angular/router';\nimport { FormService } from './forms.service';\nimport { HttpClient } from '@angular/common/http';\nimport { alert } from './alert';\n\n@Component({\n  selector: 'app-forms',\n  templateUrl: './forms.component.html',\n  styleUrls: ['./forms.component.css']\n})\n\n\nexport class FormsComponent implements OnInit {\n\n  alert: alert;\n  id: any;\n  posts: any;\n\n  constructor(public formService: FormService ,private route: ActivatedRoute,\n    private router: Router, private http: HttpClient) { }\n\n\n\n  ngOnInit() {\n    this.id=this.route.snapshot.params['id'];\n    this.alert = new alert();\n\n    this.posts = this.formService.getForms(this.id).subscribe(\n      (forms: any) =&gt; {\n        this.formService.form = forms[0];\n      }\n    );\n  }\n\n  editPost() {\n    this.formService.editForm()\n    .then((res:any) =&gt; {\n      this.formService.alert.setAlert(\"Post has been successfully saved !\");\n    })\n  }\n\n  deletePost() {\n    this.formService.deleteForm()\n    .subscribe(\n      data  =&gt; {\n        console.log(\"DELETE Request is successful \", data);\n          this.formService.alert.setAlert(\"Post has been successfully deleted !\");\n      },\n      error  =&gt; {\n        console.log(\"Error\", error);\n      }\n    )\n  }\n\n}\n</code></pre>\n\n<p>Here is my service.ts file:</p>\n\n<pre><code>import { Injectable } from '@angular/core';\nimport { HttpClient } from '@angular/common/http';\nimport { form } from './form-interface';\nimport { alert } from './alert';\n\n\n@Injectable({\n    providedIn: 'root'\n}) \n\nexport class FormService {\n\n  formsUrl = \"https://jsonplaceholder.typicode.com/posts\";\n  form: form = {\n      id: 0,\n      userId: 0,\n      title: '',\n      body: ''\n  };\n  alert: alert;\n\n\n    constructor(private http: HttpClient) { \n      this.alert = new alert();\n    }\n\n    getForms(id) {\n            return this.http.get('https://jsonplaceholder.typicode.com/posts'\n            + \"?id=\" + id)\n    }\n\n    editForm() {\n        return fetch(this.formsUrl + \"/\" + this.form.id, {\n          method: 'PUT',\n          body: JSON.stringify(this.form),\n          headers: {\n            \"Content-type\": \"application/json; charset=UTF-8\"\n          }\n        })\n        .then(response =&gt; response.json())\n    }\n\n    deleteForm() {\n        return this.http.delete(this.formsUrl + \"/\" + this.form.id);\n    }\n\n}\n</code></pre>\n\n<p>Here is my alert.ts file:</p>\n\n<pre><code>    export class alert{\n        \"status\" : boolean;\n        \"text\": string;\n        constructor(){\n            this.status=false;\n            this.text=\"\";\n        }\n        public setAlert(text){\n            this.status = true;\n            this.text = text;\n        }\n        public close(){\n            this.status = false;\n        }\n    }\n</code></pre>\n\n<p>And here is my html file:</p>\n\n<pre><code>&lt;div class=\"container\"&gt;\n    &lt;a class=\"btn btn-primary pull-right\" routerLink = '/posts' &gt;\n      Back\n      &lt;/a&gt;\n&lt;/div&gt;\n\n&lt;div class=\"container\"&gt;\n    &lt;h2&gt;Edit:&lt;/h2&gt;\n&lt;/div&gt;\n\n&lt;div class=\"forms container\"&gt;\n  &lt;form #postForm=\"ngForm\"&gt;\n      &lt;div class=\"form-group\"&gt;\n          &lt;label for=\"title\"&gt;Title&lt;/label&gt;\n          &lt;input [(ngModel)]=\"formService.form.title\"\n          name=\"title\"  \n          id=\"title\" \n          type=\"text\" \n          class=\"form-control\"\n          &gt;\n      &lt;/div&gt;\n      &lt;div class=\"form-group\"&gt;\n        &lt;label for=\"body\"&gt;Body&lt;/label&gt;\n        &lt;textarea [(ngModel)]=\"formService.form.body\" \n        name= \"body\" \n        id=\"body\" \n        cols=\"30\" \n        rows=\"10\" \n        class=\"form-control\"\n        &gt;&lt;/textarea&gt;\n      &lt;/div&gt;\n      &lt;button class=\"btn btn-success\" (click) = \"editPost()\"&gt;Save&lt;/button&gt;\n      &lt;button class=\"btn btn-danger pull-right\" (click) = \"deletePost()\"&gt;Delete&lt;/button&gt;\n\n      &lt;div class=\"container mt-4\"&gt;\n        &lt;div class=\"row\"&gt;\n          &lt;div class=\"col\"&gt;\n            &lt;div *ngIf = \"formService.alert.status\"  class=\"alert alert-success \n            alert-dismissible fade show\" role=\"alert\"&gt;\n              &lt;button type=\"button\" class=\"close\" data-dismiss=\"alert\" aria-label=\"Close\"\n              (click) = \"formService.alert.close()\"&gt;\n                &lt;span aria-hidden=\"true\"&gt;&amp;times;&lt;/span&gt;\n              &lt;/button&gt;\n              {{formService.alert.text}}\n            &lt;/div&gt;  \n          &lt;/div&gt;\n        &lt;/div&gt;\n      &lt;/div&gt;\n\n    &lt;/form&gt;\n&lt;/div&gt;\n</code></pre>\n"}, {"tags": ["javascript", "node.js", "typescript", "webpack"], "answers": [{"tags": [], "owner": {"reputation": 3493, "user_id": 5650447, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9fe0cbc38e96c7a0cf2ac37535042d21?s=128&d=identicon&r=PG&f=1", "display_name": "Danila", "link": "https://stackoverflow.com/users/5650447/danila"}, "is_accepted": false, "score": 0, "last_activity_date": 1553011521, "creation_date": 1553011521, "answer_id": 55245338, "question_id": 55017359, "link": "https://stackoverflow.com/questions/55017359/how-to-use-webpack-to-compile-a-single-file/55245338#55245338", "title": "How to use webpack to compile a single file?", "body": "<p>Maybe you could use multiple entry points? Like so:</p>\n\n<pre><code>  entry: {\n    featureA: './src/featureA/index.ts',\n    featureB: './src/featureB/index.ts'\n  }\n</code></pre>\n\n<p>Webpack will compile both files into 2 separate bundles.</p>\n"}], "owner": {"reputation": 857, "user_id": 3558663, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/dB0IQ.jpg?s=128&g=1", "display_name": "Steve Lam", "link": "https://stackoverflow.com/users/3558663/steve-lam"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 2946, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1553011521, "creation_date": 1551855715, "question_id": 55017359, "link": "https://stackoverflow.com/questions/55017359/how-to-use-webpack-to-compile-a-single-file", "title": "How to use webpack to compile a single file?", "body": "<p>I'm setting up a typescript project which migrating from javascript files. The below is structure folder</p>\n\n<pre><code>src\n--featureA\n----script1.ts\n----script2.ts\n----index.ts\n--featureB\n----script1.ts\n----index.ts\ntsconfig.ts\nwebpack.config.js\npackage.json\n</code></pre>\n\n<p>My tsconfig.ts</p>\n\n<pre><code>{\n  \"compileOnSave\": true,\n  \"compilerOptions\": {\n    \"target\": \"es5\",\n    \"module\": \"commonjs\",\n    \"moduleResolution\": \"node\",\n    \"rootDir\": \"src\",\n    \"outDir\": \"dist\",\n    \"allowUnreachableCode\": false,\n    \"allowUnusedLabels\": false,\n    \"alwaysStrict\": true,\n    \"noImplicitAny\": true,\n    \"noImplicitReturns\": true,\n    \"noImplicitThis\": true,\n    \"noFallthroughCasesInSwitch\": true,\n    \"noUnusedLocals\": true,\n    \"noUnusedParameters\": true,\n    \"suppressExcessPropertyErrors\": false,\n    \"suppressImplicitAnyIndexErrors\": false,\n    \"strictFunctionTypes\": true,\n    \"strictNullChecks\": true,\n    \"strictPropertyInitialization\": true,\n    \"lib\": [\"es5\", \"dom\"],\n    \"typeRoots\": [\n      \"node_modules/@types\"\n    ],\n  },\n  \"include\": [\n    \"./src/**/*\"\n  ],\n  \"exclude\": [\n    \"node_modules\"\n  ]\n}\n</code></pre>\n\n<p>My webpack config</p>\n\n<pre><code>const { CheckerPlugin } = require(\"awesome-typescript-loader\");\n\nmodule.exports = {\n  mode: \"development\",\n\n  resolve: {\n    extensions: [\".ts\", \".tsx\", \".js\", \".jsx\"]\n  },\n\n  devtool: \"source-map\",\n\n  module: {\n    rules: [\n      {\n        test: /\\.tsx?$/,\n        loaders: [\"awesome-typescript-loader\"]\n      }\n    ]\n  },\n\n  plugins: [\n    new CheckerPlugin()\n  ],\n\n  devServer: {\n    before(app) {\n    },\n    contentBase: \"web\"\n  }\n};\n</code></pre>\n\n<p>My package.json</p>\n\n<pre><code>\"scripts\": {\n    \"start\": \"webpack-dev-server\"\n  },\n  \"devDependencies\": {\n    \"awesome-typescript-loader\": \"^3.5.0\",\n    \"typescript\": \"^2.7.2\",\n    \"typewiz\": \"^1.2.3\",\n    \"typewiz-webpack\": \"^1.2.3\",\n    \"webpack\": \"^4.20.0\",\n    \"webpack-cli\": \"^3.1.1\",\n    \"webpack-dev-server\": \"^3.1.0\"\n  }\n</code></pre>\n\n<p>Feature A and B are standalone and I dont have a main.js file served as an entry point. If I compile and minify feature A, I will get featureA.js file and deploy. That's a result I want to achieve.</p>\n\n<p>I still don't know if this setup is ok for my requirement? and how can I use webpack to compile each feature on demand and the desired command look like this:</p>\n\n<pre><code>Input: npm compile featureA\nOutput: featureA.js (with minified)\n</code></pre>\n\n<p>Could you help me?</p>\n"}, {"tags": ["javascript", "angular", "typescript"], "comments": [{"owner": {"reputation": 746, "user_id": 8043435, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d95070d9eb3351b52ab2bc199bbfefb8?s=128&d=identicon&r=PG&f=1", "display_name": "SU7", "link": "https://stackoverflow.com/users/8043435/su7"}, "edited": false, "score": 0, "creation_date": 1551854640, "post_id": 55016900, "comment_id": 96787836, "body": "Please check this link: <a href=\"https://blog.rsuter.com/angular-2-typescript-property-decorator-that-converts-input-values-to-the-correct-type/\" rel=\"nofollow noreferrer\">blog.rsuter.com/&hellip;</a>"}, {"owner": {"reputation": 8264, "user_id": 2118360, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yLaPr.jpg?s=128&g=1", "display_name": "TheParam", "link": "https://stackoverflow.com/users/2118360/theparam"}, "edited": false, "score": 0, "creation_date": 1551854960, "post_id": 55016900, "comment_id": 96787960, "body": "use typeof to check type in your ngOninit lifecycle hook of child component"}, {"owner": {"reputation": 22589, "user_id": 542251, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/c6a0ac3e18f1cd8d0f1be4c2e3a4cfbd?s=128&d=identicon&r=PG", "display_name": "Liam", "link": "https://stackoverflow.com/users/542251/liam"}, "edited": false, "score": 0, "creation_date": 1551862968, "post_id": 55016900, "comment_id": 96791934, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/4514602/type-checking-in-javascript\">type checking in javascript</a>"}], "answers": [{"tags": [], "owner": {"reputation": 3944, "user_id": 5262452, "user_type": "registered", "accept_rate": 25, "profile_image": "https://i.stack.imgur.com/bWa5S.png?s=128&g=1", "display_name": "devpato", "link": "https://stackoverflow.com/users/5262452/devpato"}, "is_accepted": false, "score": 0, "last_activity_date": 1551854842, "last_edit_date": 1551854842, "creation_date": 1551854551, "answer_id": 55017099, "question_id": 55016900, "link": "https://stackoverflow.com/questions/55016900/strict-type-checking-of-input-for-component/55017099#55017099", "title": "Strict type checking of @Input for component", "body": "<p>If you put it inside of the <code>constructor</code>, it won't work because the life cycle of the angular component hasn't got to this point, so you can put it in the <code>ngOnInit</code> or in a function and call it in the <code>ngOnInit</code> or any other life cycle that happens after.\nPlease check the following code:</p>\n\n<pre><code>ngOnInit() {\n     if(typeof this.someVal !== 'number') {\n      console.error(\"This is not a number\");\n    }\n  }\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1440, "user_id": 7151388, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/--TFs4qSoHr4/AAAAAAAAAAI/AAAAAAAAHqM/1vY0GNWfr3w/photo.jpg?sz=128", "display_name": "Benjamin Kindle", "link": "https://stackoverflow.com/users/7151388/benjamin-kindle"}, "edited": false, "score": 0, "creation_date": 1555809230, "post_id": 55017140, "comment_id": 98229754, "body": "If the approach of throwing an error is taken, it should be done onChanges. This is important because it ensures that an error is thrown even if the input is changed after the component is first created."}], "tags": [], "owner": {"reputation": 14745, "user_id": 7790376, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-i3Pxbe4117Y/AAAAAAAAAAI/AAAAAAAAAEw/r6BT0yIo_4E/photo.jpg?sz=128", "display_name": "Chellappan \u0bb5", "link": "https://stackoverflow.com/users/7790376/chellappan-%e0%ae%b5"}, "is_accepted": false, "score": 1, "last_activity_date": 1551862854, "last_edit_date": 1551862854, "creation_date": 1551854775, "answer_id": 55017140, "question_id": 55016900, "link": "https://stackoverflow.com/questions/55016900/strict-type-checking-of-input-for-component/55017140#55017140", "title": "Strict type checking of @Input for component", "body": "<p>You can validate your input using ngOnChanges Lifecycle hook </p>\n\n<pre><code>ngOnChanges(changes: SimpleChanges) {\n        const nameType = typeof changes['name'].currentValue;\n        if ( nameType !== 'string' ) {\n          console.warn(`You provided ${nameType} where string was expected`);\n        }\n      }\n</code></pre>\n\n<p>Check this article for more Info:<a href=\"https://medium.com/@abdelelmedny/angular-input-decorators-5d38089070aa\" rel=\"nofollow noreferrer\">https://medium.com/@abdelelmedny/angular-input-decorators-5d38089070aa</a></p>\n"}, {"tags": [], "owner": {"reputation": 8264, "user_id": 2118360, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yLaPr.jpg?s=128&g=1", "display_name": "TheParam", "link": "https://stackoverflow.com/users/2118360/theparam"}, "is_accepted": false, "score": 0, "last_activity_date": 1551854878, "creation_date": 1551854878, "answer_id": 55017174, "question_id": 55016900, "link": "https://stackoverflow.com/questions/55016900/strict-type-checking-of-input-for-component/55017174#55017174", "title": "Strict type checking of @Input for component", "body": "<p>The simplest way to check the type of <code>@Input</code> is using <strong>typeof</strong> provided by javascript. It will check the data type provided value is number or not then we can throw the error like below</p>\n\n<pre><code>export class HelloComponent implements OnInit {\n  @Input() name: string;\n  @Input() someVal : number;\n\n  constructor(){\n\n  }\n\n  ngOnInit() {\n    console.log(this.someVal)\n\n    if(typeof this.someVal !== \"number\" ) {\n      throw new Error('Please provide only number');\n\n    }\n  }\n\n\n}\n</code></pre>\n\n<p><strong><a href=\"https://stackblitz.com/edit/angular-w3r477?file=src%2Fapp%2Fhello.component.ts\" rel=\"nofollow noreferrer\">Here is solution on stackblitz</a></strong></p>\n"}], "owner": {"reputation": 758, "user_id": 6851769, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/2b122ab505e1a54a441f737629a2d766?s=128&d=identicon&r=PG&f=1", "display_name": "Samuel", "link": "https://stackoverflow.com/users/6851769/samuel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 302, "favorite_count": 0, "answer_count": 3, "score": 3, "last_activity_date": 1551862935, "creation_date": 1551853726, "last_edit_date": 1551862935, "question_id": 55016900, "link": "https://stackoverflow.com/questions/55016900/strict-type-checking-of-input-for-component", "title": "Strict type checking of @Input for component", "body": "<p>I have created <a href=\"https://stackblitz.com/edit/angular-vb4wbn?file=src%2Fapp%2Fhello.component.ts\" rel=\"nofollow noreferrer\">a sample demo</a></p>\n\n<p>As you can see, I am passing <code>ipNumber = '99';</code> to <code>HelloComponent</code>.</p>\n\n<p>but the <code>@Input</code> is like   </p>\n\n<pre><code>@Input() someVal : number;\n</code></pre>\n\n<p>I want to throw error when string is passed in @Input. </p>\n\n<p>The correct input should be </p>\n\n<pre><code>ipNumber = 99;\n</code></pre>\n\n<p>and not</p>\n\n<pre><code>ipNumber = '99';\n</code></pre>\n"}, {"tags": ["typescript"], "comments": [{"owner": {"reputation": 25033, "user_id": 1113002, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CgW7b.png?s=128&g=1", "display_name": "Aleksey L.", "link": "https://stackoverflow.com/users/1113002/aleksey-l"}, "edited": false, "score": 0, "creation_date": 1551852924, "post_id": 55016652, "comment_id": 96787179, "body": "So what&#39;s wrong with <code>interface Button extends ButtonStyles { text: string; }</code> ?"}, {"owner": {"reputation": 13, "user_id": 5473931, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-zqYfuhPGhSo/AAAAAAAAAAI/AAAAAAAACEo/ikXaHc0M1JQ/photo.jpg?sz=128", "display_name": "Austin Hartline", "link": "https://stackoverflow.com/users/5473931/austin-hartline"}, "reply_to_user": {"reputation": 25033, "user_id": 1113002, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CgW7b.png?s=128&g=1", "display_name": "Aleksey L.", "link": "https://stackoverflow.com/users/1113002/aleksey-l"}, "edited": false, "score": 0, "creation_date": 1551853376, "post_id": 55016652, "comment_id": 96787340, "body": "This is a pretty trivialized example. Let&#39;s pretend <code>Text</code> has several properties I want and I want to make it really easy to change the definition of what makes a <code>Text</code> and pass those changes along to all of my buttons and other extended types easily."}], "answers": [{"tags": [], "owner": {"reputation": 25033, "user_id": 1113002, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CgW7b.png?s=128&g=1", "display_name": "Aleksey L.", "link": "https://stackoverflow.com/users/1113002/aleksey-l"}, "is_accepted": true, "score": 0, "last_activity_date": 1551854822, "creation_date": 1551854822, "answer_id": 55017152, "question_id": 55016652, "link": "https://stackoverflow.com/questions/55016652/typescript-interface-extend-from-partialt-creates-diamond-problem-for-extended/55017152#55017152", "title": "Typescript interface extend from Partial&lt;T&gt; creates diamond problem for extended interfaces wanting to also extend T", "body": "<p>Mapped types <a href=\"https://github.com/Microsoft/TypeScript/wiki/What%27s-new-in-TypeScript#improved-control-over-mapped-type-modifiers\" rel=\"nofollow noreferrer\">allow</a> to add or remove optional (<code>?</code>) modifier from the props. So you could add a utility that makes specified keys required:</p>\n\n<pre><code>interface Text {\n    text: string;\n}\n\ninterface ButtonStyles extends Partial&lt;Text&gt; {\n    isBold?: boolean;\n}\n\ntype WithRequired&lt;T, TKeys extends keyof T&gt; = T &amp; { [P in TKeys]-?: T[P] };\n\ntype Button = WithRequired&lt;ButtonStyles, keyof Text&gt;;\n\nconst button: Button = { } // Error - Property 'text' is missing ...\n</code></pre>\n\n<p><a href=\"https://www.typescriptlang.org/play/index.html#src=interface%20Text1%20%7B%0D%0A%20%20%20%20text%3A%20string%3B%0D%0A%7D%0D%0A%0D%0Ainterface%20ButtonStyles%20extends%20Partial%3CText1%3E%20%7B%0D%0A%20%20%20%20isBold%3F%3A%20boolean%3B%0D%0A%7D%0D%0A%0D%0Atype%20WithRequired%3CT%2C%20TKeys%20extends%20keyof%20T%3E%20%3D%20T%20%26%20%7B%20%5BP%20in%20TKeys%5D-%3F%3A%20T%5BP%5D%20%7D%3B%0D%0A%0D%0Atype%20Button%20%3D%20WithRequired%3CButtonStyles%2C%20keyof%20Text1%3E%3B%0D%0A%0D%0Aconst%20button%3A%20Button%20%3D%20%7B%7D%20%2F%2F%20Error%20-%20Property%20&#39;text&#39;%20is%20missing%20...\" rel=\"nofollow noreferrer\">Playground</a></p>\n"}, {"tags": [], "owner": {"reputation": 2278, "user_id": 2607703, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/aee995e08a41e26434fa61e9e316d23d?s=128&d=identicon&r=PG", "display_name": "codelovesme", "link": "https://stackoverflow.com/users/2607703/codelovesme"}, "is_accepted": false, "score": 0, "last_activity_date": 1551857290, "creation_date": 1551857290, "answer_id": 55017730, "question_id": 55016652, "link": "https://stackoverflow.com/questions/55016652/typescript-interface-extend-from-partialt-creates-diamond-problem-for-extended/55017730#55017730", "title": "Typescript interface extend from Partial&lt;T&gt; creates diamond problem for extended interfaces wanting to also extend T", "body": "<p><strong>The code below would be one of the proper ways to go!</strong></p>\n\n<p>There is no problem to override field type since your requirement on that way. \"Button\" is another type collects from ButtonStyles however differs from it too.</p>\n\n<pre><code>interface Text {\n    text: string;\n}\n\ninterface ButtonStyles extends Partial&lt;Text&gt; {\n    isBold?: false;\n}\n\n//Overeriding the optional text field\ninterface Button extends ButtonStyles {\n    text: string\n}\n</code></pre>\n"}], "owner": {"reputation": 13, "user_id": 5473931, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-zqYfuhPGhSo/AAAAAAAAAAI/AAAAAAAACEo/ikXaHc0M1JQ/photo.jpg?sz=128", "display_name": "Austin Hartline", "link": "https://stackoverflow.com/users/5473931/austin-hartline"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 227, "favorite_count": 0, "accepted_answer_id": 55017152, "answer_count": 2, "score": 1, "last_activity_date": 1551857290, "creation_date": 1551852576, "question_id": 55016652, "link": "https://stackoverflow.com/questions/55016652/typescript-interface-extend-from-partialt-creates-diamond-problem-for-extended", "title": "Typescript interface extend from Partial&lt;T&gt; creates diamond problem for extended interfaces wanting to also extend T", "body": "<p>I'm trying to extend a Partial interface for a type, but this prevents me from requiring the fields that have already been provided in any interface that extends the original type.</p>\n\n<p>Example:</p>\n\n<pre><code>interface Text {\n    text: string;\n}\n\ninterface ButtonStyles extends Partial&lt;Text&gt; {\n    isBold?: false;\n}\n\n// is this a variant of the diamond problem?\ninterface Button extends ButtonStyles, Text {}\n</code></pre>\n\n<p>This produces <code>error TS2320: Interface 'Button' cannot simultaneously extend types 'ButtonStyles' and 'Text'1</code>. However, I am able to override the interface without extending <code>Text</code> by defining <code>Button</code> like this:</p>\n\n<pre><code>interface Button extends ButtonStyles {\n    text: string;\n}\n</code></pre>\n\n<p>What I really want is to have <code>ButtonStyles</code> not require a <code>text</code> property, but to allow it - while also force <code>Button</code> implementations to have a <code>text</code> property. Is there a more proper way to extract the properties as optional for the base interface while letting them be for the extended interface? Is there a name for this problem?</p>\n"}, {"tags": ["angular", "typescript"], "comments": [{"owner": {"reputation": 1669, "user_id": 5955138, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7ee000cb86f66861a3b7b4690715b42a?s=128&d=identicon&r=PG", "display_name": "shadowman_93", "link": "https://stackoverflow.com/users/5955138/shadowman-93"}, "edited": false, "score": 0, "creation_date": 1551852121, "post_id": 55016512, "comment_id": 96786891, "body": "This is common javascript trick. If you don&#39;t indicate type, typescript assing &lt;any&gt; type to varibales. So it&#39;s normal to see same result because typeless varibales are taking form by itself."}, {"owner": {"reputation": 829, "user_id": 8469870, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/05b96fc5aab9d82526e5858ceabb40e9?s=128&d=identicon&r=PG&f=1", "display_name": "Code.Freeze", "link": "https://stackoverflow.com/users/8469870/code-freeze"}, "reply_to_user": {"reputation": 1669, "user_id": 5955138, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7ee000cb86f66861a3b7b4690715b42a?s=128&d=identicon&r=PG", "display_name": "shadowman_93", "link": "https://stackoverflow.com/users/5955138/shadowman-93"}, "edited": false, "score": 0, "creation_date": 1551852226, "post_id": 55016512, "comment_id": 96786933, "body": "@shadowman_93 so its safe to say I can code without putting it <code>&lt;User[]&gt;</code> ?"}], "answers": [{"comments": [{"owner": {"reputation": 829, "user_id": 8469870, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/05b96fc5aab9d82526e5858ceabb40e9?s=128&d=identicon&r=PG&f=1", "display_name": "Code.Freeze", "link": "https://stackoverflow.com/users/8469870/code-freeze"}, "edited": false, "score": 0, "creation_date": 1551852820, "post_id": 55016603, "comment_id": 96787125, "body": "Thanks for pointing out the map didnt see it, But the data getting fetched is not even close to my <code>User.ts</code>. I will update on what data its getting."}], "tags": [], "owner": {"reputation": 5932, "user_id": 3016654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f841e106c58a9e27aa79fcb686607c9a?s=128&d=identicon&r=PG&f=1", "display_name": "Andrei T\u0103tar", "link": "https://stackoverflow.com/users/3016654/andrei-t%c4%83tar"}, "is_accepted": false, "score": 2, "last_activity_date": 1551852323, "creation_date": 1551852323, "answer_id": 55016603, "question_id": 55016512, "link": "https://stackoverflow.com/questions/55016512/difference-in-angular-rxjs/55016603#55016603", "title": "Difference in angular rxjs", "body": "<p>With <code>&lt;User[]&gt;</code> you instruct Typescript that the return of <code>http.get</code> is an <code>Observable&lt;User[]&gt;</code> so it will infer the type of <code>myUser</code> to <code>Observable&lt;User[]&gt;</code>. This is very helpful further in your application since the tooling will know what properties exist on your reponse types and if you did a mistake/typo. It will also fail during compile time if you access properties that don't exist. That is because <code>http.get</code> is a generic method where you can specify the response type (but if you don't specify it, it uses any).</p>\n\n<p>Without <code>&lt;User[]&gt;</code>, typescript will just use the <code>any</code> type, which brings no additional benefit over plain javascript.</p>\n\n<p>Also <code>map(resp =&gt; { return resp; })</code> is useless and you can safely remove it.</p>\n"}, {"comments": [{"owner": {"reputation": 829, "user_id": 8469870, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/05b96fc5aab9d82526e5858ceabb40e9?s=128&d=identicon&r=PG&f=1", "display_name": "Code.Freeze", "link": "https://stackoverflow.com/users/8469870/code-freeze"}, "edited": false, "score": 0, "creation_date": 1551853125, "post_id": 55016692, "comment_id": 96787251, "body": "But the data that I&#39;m getting is nowhere like my <code>User.ts</code>, Can you check my edit, Sorry for my bad english if it doesnt make sense"}, {"owner": {"reputation": 671, "user_id": 6024754, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5CZNH.jpg?s=128&g=1", "display_name": "Jason Awbrey", "link": "https://stackoverflow.com/users/6024754/jason-awbrey"}, "reply_to_user": {"reputation": 829, "user_id": 8469870, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/05b96fc5aab9d82526e5858ceabb40e9?s=128&d=identicon&r=PG&f=1", "display_name": "Code.Freeze", "link": "https://stackoverflow.com/users/8469870/code-freeze"}, "edited": false, "score": 0, "creation_date": 1551854046, "post_id": 55016692, "comment_id": 96787613, "body": "@Priz I added some more information, hope it helps!"}], "tags": [], "owner": {"reputation": 671, "user_id": 6024754, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5CZNH.jpg?s=128&g=1", "display_name": "Jason Awbrey", "link": "https://stackoverflow.com/users/6024754/jason-awbrey"}, "is_accepted": true, "score": 2, "last_activity_date": 1551854028, "last_edit_date": 1551854028, "creation_date": 1551852745, "answer_id": 55016692, "question_id": 55016512, "link": "https://stackoverflow.com/questions/55016512/difference-in-angular-rxjs/55016692#55016692", "title": "Difference in angular rxjs", "body": "<p>The difference between <code>this.http.get&lt;User[]&gt;</code> and <code>this.http.get</code> is that you're passing a type into the generic signature of <code>get</code>.</p>\n\n<p>From the <a href=\"https://github.com/angular/angular/blob/7.2.7/packages/common/http/src/client.ts#L1101\" rel=\"nofollow noreferrer\">Angular source code</a>:</p>\n\n<pre><code>  get&lt;T&gt;(url: string, options?: {\n    headers?: HttpHeaders | {[header: string]: string | string[]},\n    observe?: 'body',\n    params?: HttpParams|{[param: string]: string | string[]},\n    reportProgress?: boolean,\n    responseType?: 'json',\n    withCredentials?: boolean,\n  }): Observable&lt;T&gt;;\n</code></pre>\n\n<p>The <code>get&lt;T&gt;</code> stands for a <a href=\"https://www.typescriptlang.org/docs/handbook/generics.html\" rel=\"nofollow noreferrer\">generic type signature</a>, it means that you can declare what the data should look like. When you declare <code>this.http.get&lt;User[]&gt;</code>, you're saying that the data that comes back should look like an array of <code>User</code> - but that is all a TypeScript based idea, it's unrelated to RxJS/Observables/JavaScript. When you call <code>this.http.get</code>, you're still just using a JavaScript runtime, it's just making an HTTP request for data. Passing an interface into a generic signature does not force the actual data coming back to change - but it enhances your type safety by enabling the TS compiler to understand what the data should look like.</p>\n\n<p>EDIT:\nIt appears that you want to pick pieces of data off to match your <code>User.ts</code> class. By providing a type, like this: <code>this.http.get&lt;User[]&gt;</code>, that will not change the data, it will only hint to the code editor what the data <em>should</em> look like, but it doesn't touch the data at all. You'll need to actually pluck the data out if you want to change the shape of it to match your <code>User.ts</code> class, something like this:</p>\n\n<pre><code>myUser(header: any) {\n  const url = `${this.mainUrl}/my_user`;\n  return this.http.get(url, header).pipe(\n    map(resp =&gt; {\n      return {\n        id: resp.id,\n        username: resp.username\n      };\n    })\n  );\n}\n</code></pre>\n\n<p>That would help you match to an interface/class that looks like this:</p>\n\n<pre><code>interface User {\n  id: string;\n  username: string;\n}\n</code></pre>\n\n<p>But that is not the shape of the data, or the <em>type</em> of your data that you are getting, that looks more like this:</p>\n\n<pre><code>interface User {\n  username: string;\n  inserted_at: string;\n  id: string;\n  avatar: Avatar;\n  app_role: Role;\n  app_permission: boolean;\n}\n</code></pre>\n\n<p>That is a type that better matches what is actually coming back from your backend. With whatever type you pass into the generic, that will be the model for what is coming out of the Observable, but you'll need to then match the actual interface correctly, as I've done in the <code>map</code> example.</p>\n"}], "owner": {"reputation": 829, "user_id": 8469870, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/05b96fc5aab9d82526e5858ceabb40e9?s=128&d=identicon&r=PG&f=1", "display_name": "Code.Freeze", "link": "https://stackoverflow.com/users/8469870/code-freeze"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 88, "favorite_count": 0, "accepted_answer_id": 55016692, "answer_count": 2, "score": 0, "last_activity_date": 1551854028, "creation_date": 1551851911, "last_edit_date": 1551852951, "question_id": 55016512, "link": "https://stackoverflow.com/questions/55016512/difference-in-angular-rxjs", "title": "Difference in angular rxjs", "body": "<p>I'm new to angular came from angularjs, and I'm confused about rxjs observable.</p>\n\n<p>Example:</p>\n\n<p><strong>User.ts</strong></p>\n\n<pre><code>export class User {\nid?:any;\nusername:string;\npassword:string;\n}\n</code></pre>\n\n<p><strong>With</strong> <code>&lt;User[]&gt;</code></p>\n\n<pre><code>myUser(header: any) {\nconst url = `${this.mainUrl}/my_user`;\nreturn this.http.get&lt;User[]&gt;(url, header).pipe(\n  map(resp =&gt; {\n    return resp;\n  })\n);\n}\n</code></pre>\n\n<p><strong>Without</strong> <code>&lt;User[]&gt;</code></p>\n\n<pre><code>myUser(header: any) {\nconst url = `${this.mainUrl}/my_user`;\nreturn this.http.get(url, header).pipe(\n  map(resp =&gt; {\n    return resp;\n  })\n);\n}\n</code></pre>\n\n<p>This will return the same result. So I'm confused on whats the difference, with or without it.</p>\n\n<p><strong>EDIT</strong>:</p>\n\n<p>This is the data I'm fetching nowhere near look like my <code>User.ts</code> but its not throwing an error.</p>\n\n<pre><code>{\n\"username\": \"mhqadmin\",\n\"inserted_at\": \"2019-02-06T07:01:17.024874\",\n\"id\": \"b491e7c3-da11-40fe-b4b7-8f97fa88a9fd\",\n\"avatar\": {\n    \"middlename\": \"mhqadmin\",\n    \"lastname\": \"headquarters\",\n    \"id\": \"939c2eec-573e-4245-adcc-0771c73f22e4\",\n    \"firstname\": \"marte\"\n},\n\"app_role\": \"mhq-admin\",\n\"app_permission\": true\n}\n</code></pre>\n"}, {"tags": ["arrays", "json", "angular", "typescript", "ecmascript-6"], "comments": [{"owner": {"reputation": 14375, "user_id": 3888766, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/eClVG.jpg?s=128&g=1", "display_name": "Fullstack Guy", "link": "https://stackoverflow.com/users/3888766/fullstack-guy"}, "edited": false, "score": 3, "creation_date": 1551848645, "post_id": 55015880, "comment_id": 96785774, "body": "What is the expected output?"}], "answers": [{"tags": [], "owner": {"reputation": 445, "user_id": 4950189, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/4ded491004d8fd3570e01140dc40c96c?s=128&d=identicon&r=PG&f=1", "display_name": "Eftakhar", "link": "https://stackoverflow.com/users/4950189/eftakhar"}, "is_accepted": true, "score": 1, "last_activity_date": 1551849211, "creation_date": 1551849211, "answer_id": 55015968, "question_id": 55015880, "link": "https://stackoverflow.com/questions/55015880/dynamically-create-a-new-objects-from-json-data/55015968#55015968", "title": "Dynamically create a new object(s) from JSON data", "body": "<p>you are expecting something like this as output</p>\n\n<pre><code>{\n\"123\":[{\"item\":\"Gummy Bears\",\"areaCode\":123,\"Company\":\"Sally's Candy\"}],\n  \"321\":[{\"item\":\"Jelly Beans\",\"areaCode\":321,\"Company\":\"Bob's Candy\"}, \n         {\"item\":\"Snickers\",\"areaCode\":321,\"Company\":\"Bob's Candy\"}],\n  \"444\":[{\"item\":\"Skittles\",\"areaCode\":444,\"Company\":\"Jim's Candy\"}, \n         {\"item\":\"M&amp;Ms\",\"areaCode\":444,\"Company\":\"Jim's Candy\"}]\n}\n</code></pre>\n\n<p>then you can reduce to achieve it</p>\n\n<pre><code>const output = myArray.reduce((res,v) =&gt; {\n    if(!res[v.areaCode]) {\n        res[v.areaCode] = [v] \n    } else {\n    res[v.areaCode].push(v)\n    }\nreturn res\n},{} )\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 30872, "user_id": 5648954, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/14063c1678fb488df9da599458b0aef1?s=128&d=identicon&r=PG&f=1", "display_name": "Nick Parsons", "link": "https://stackoverflow.com/users/5648954/nick-parsons"}, "is_accepted": false, "score": 1, "last_activity_date": 1551849440, "creation_date": 1551849440, "answer_id": 55016011, "question_id": 55015880, "link": "https://stackoverflow.com/questions/55015880/dynamically-create-a-new-objects-from-json-data/55016011#55016011", "title": "Dynamically create a new object(s) from JSON data", "body": "<p>You can instead use <code>.reduce</code> to convert your array to an object, and then use <code>Object.values()</code> to get your array of unique objects from the reduces object like so:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const arr = [\r\n{item: 'Jelly Beans', areaCode: 321, Company: \"Bob's Candy\"},\r\n{item: 'Skittles', areaCode: 444, Company: \"Jim's Candy\"},\r\n{item: 'Snickers', areaCode: 321, Company: \"Bob's Candy\"},\r\n{item: 'M&amp;Ms', areaCode: 444, Company: \"Jim's Candy\"},\r\n{item: 'Gummy Bears', areaCode: 123, Company: \"Sally's Candy\"}];\r\n\r\nconst res = Object.values(arr.reduce((acc, {item, areaCode, Company}) =&gt; {\r\n  if(areaCode in acc) {\r\n    acc[areaCode].item.push(item);\r\n  } else {\r\n    acc[areaCode] = {item: [item], areaCode, Company};\r\n  };\r\n  \r\n  return acc;\r\n}, {}));\r\n\r\nconsole.log(res);</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 390, "user_id": 6376464, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/SF0lh.png?s=128&g=1", "display_name": "sm1l3y", "link": "https://stackoverflow.com/users/6376464/sm1l3y"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 56, "favorite_count": 0, "accepted_answer_id": 55015968, "answer_count": 2, "score": 0, "last_activity_date": 1551852368, "creation_date": 1551848523, "last_edit_date": 1551852368, "question_id": 55015880, "link": "https://stackoverflow.com/questions/55015880/dynamically-create-a-new-objects-from-json-data", "title": "Dynamically create a new object(s) from JSON data", "body": "<p>From a service call, I receive similar JSON data like follows:</p>\n\n<pre><code>myArray: any = [\n{item: 'Jelly Beans', areaCode: 321, Company: \"Bob's Candy\"},\n{item: 'Skittles', areaCode: 444, Company: \"Jim's Candy\"},\n{item: 'Snickers', areaCode: 321, Company: \"Bob's Candy\"},\n{item: 'M&amp;Ms', areaCode: 444, Company: \"Jim's Candy\"},\n{item: 'Gummy Bears', areaCode: 123, Company: \"Sally's Candy\"}];\n</code></pre>\n\n<p>I need to split this into multiple arrays of objects dynamically, based on areaCode.</p>\n\n<p>Or create a new object dynamically based on areaCode.</p>\n\n<pre><code>this.myArray= this.data.map(item =&gt; item.areaCode)\n.filter((value, index, self) =&gt; self.indexOf(value) === index);\n</code></pre>\n\n<p>I have thoughts of using the map function and filtering it out based on the areaCode, and then perhaps creating a new object with arrays based on areaCode. I just cannot seem to wrap my head around the process. If anyone could offer some advice I would be grateful.</p>\n"}, {"tags": ["angular", "typescript"], "comments": [{"owner": {"reputation": 12075, "user_id": 8757883, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gQGYY.png?s=128&g=1", "display_name": "Akber Iqbal", "link": "https://stackoverflow.com/users/8757883/akber-iqbal"}, "edited": false, "score": 0, "creation_date": 1551850194, "post_id": 55015872, "comment_id": 96786229, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/49048955/sort-array-of-objects-based-on-property-in-typescript\">Sort array of objects based on property in typescript</a>"}], "answers": [{"tags": [], "owner": {"reputation": 190, "user_id": 9818698, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/uhzfI.jpg?s=128&g=1", "display_name": "rajhim", "link": "https://stackoverflow.com/users/9818698/rajhim"}, "is_accepted": false, "score": 0, "last_activity_date": 1551854591, "creation_date": 1551854591, "answer_id": 55017108, "question_id": 55015872, "link": "https://stackoverflow.com/questions/55015872/sort-array-of-dicts-in-typescript/55017108#55017108", "title": "Sort array of dicts in typescript", "body": "<p>In ts file:</p>\n\n<pre><code>    sample = {\n        \"data\": [\n            {\n                \"name\": \"Azad University\",\n                \"tedad\": 80\n            },\n            {\n                \"name\": \"University of Science and Technology\",\n                \"tedad\": 14\n            },\n            {\n                \"name\": \"University of Kurdistan\",\n                \"tedad\": 30\n            }\n        ]\n    }\nconstructor(){\n    this.sample.data.sort(function(first, second) {\n                return (first.tedad - second.tedad);\n            });\n            console.log(this.sample);\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 6137, "user_id": 3870547, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/66b3e98f2a1ec4b92a87aa6c76e095d8?s=128&d=identicon&r=PG&f=1", "display_name": "zmag", "link": "https://stackoverflow.com/users/3870547/zmag"}, "is_accepted": false, "score": 0, "last_activity_date": 1551856011, "creation_date": 1551856011, "answer_id": 55017429, "question_id": 55015872, "link": "https://stackoverflow.com/questions/55015872/sort-array-of-dicts-in-typescript/55017429#55017429", "title": "Sort array of dicts in typescript", "body": "<p>parameters in <code>Array.prototype.sort()</code> are elements of the array. You can access by property of theirs.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const items = {\r\n  \"data\": [{\r\n      \"name\": \"Azad University\",\r\n      \"tedad\": 80\r\n    },\r\n    {\r\n      \"name\": \"University of Science and Technology\",\r\n      \"tedad\": 14\r\n    },\r\n    {\r\n      \"name\": \"University of Kurdistan\",\r\n      \"tedad\": 30\r\n    }\r\n  ]\r\n}\r\n\r\nconst sorted = items.data.sort((prev, curr) =&gt; prev.tedad - curr.tedad);\r\n\r\nconsole.log(sorted)</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 45, "user_id": 5381766, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/56be7e1459033cee36ec85ba96a43b95?s=128&d=identicon&r=PG&f=1", "display_name": "Nima", "link": "https://stackoverflow.com/users/5381766/nima"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 104, "favorite_count": 0, "answer_count": 2, "score": -1, "last_activity_date": 1551856011, "creation_date": 1551848406, "last_edit_date": 1551848817, "question_id": 55015872, "link": "https://stackoverflow.com/questions/55015872/sort-array-of-dicts-in-typescript", "title": "Sort array of dicts in typescript", "body": "<p>i am working on Angular7 and Typescript,\ni want to sort array of dict in typescript.\nhere is my data :</p>\n\n<pre><code>{\n  \"data\": [\n    {\n      \"name\": \"Azad University\",\n      \"tedad\": 80\n    },\n    {\n      \"name\": \"University of Science and Technology\",\n      \"tedad\": 14\n    },\n    {\n      \"name\": \"University of Kurdistan\",\n      \"tedad\": 30\n    }\n  ]\n}\n</code></pre>\n\n<p>i want to sort this data by  <code>tedad</code> key. how can i do this?<br>\ni see this code on stackoverflow but i dont know how to change it that works:</p>\n\n<pre><code>items.sort(function(first, second) {\n  return second[1] - first[1];\n});\n</code></pre>\n"}, {"tags": ["javascript", "typescript", "visual-studio-code", "vscode-settings"], "comments": [{"owner": {"reputation": 959, "user_id": 10980926, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fc6e1bb058d4c7c77a1642d2808b2ca7?s=128&d=identicon&r=PG&f=1", "display_name": "Pentium1080Ti", "link": "https://stackoverflow.com/users/10980926/pentium1080ti"}, "edited": false, "score": 0, "creation_date": 1551857612, "post_id": 55015865, "comment_id": 96789119, "body": "Have you tried <a href=\"https://code.visualstudio.com/docs/languages/javascript\" rel=\"nofollow noreferrer\">IntelliSense</a>? This may help, give a try."}, {"owner": {"reputation": 118, "user_id": 7061211, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/DQUKJ.jpg?s=128&g=1", "display_name": "TerrySu", "link": "https://stackoverflow.com/users/7061211/terrysu"}, "reply_to_user": {"reputation": 959, "user_id": 10980926, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fc6e1bb058d4c7c77a1642d2808b2ca7?s=128&d=identicon&r=PG&f=1", "display_name": "Pentium1080Ti", "link": "https://stackoverflow.com/users/10980926/pentium1080ti"}, "edited": false, "score": 0, "creation_date": 1551878195, "post_id": 55015865, "comment_id": 96801062, "body": "@Pentium1080Ti   I had, with no luck though. I suspect this was a bug of vscode itself, cuz having searched lots of related materials and tried almost all the related settings.     I&#39;ve posted this on <a href=\"https://github.com/Microsoft/vscode/issues/69888\" rel=\"nofollow noreferrer\">vscode github issues</a>. Anyway, thanks."}], "owner": {"reputation": 118, "user_id": 7061211, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/DQUKJ.jpg?s=128&g=1", "display_name": "TerrySu", "link": "https://stackoverflow.com/users/7061211/terrysu"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 118, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1551867486, "creation_date": 1551848373, "last_edit_date": 1551867486, "question_id": 55015865, "link": "https://stackoverflow.com/questions/55015865/vscode-auto-import-node-modules-how-to-display-import-a-from-modulename-rath", "title": "VSCode auto import node modules-How to display `import A from &quot;moduleName&quot;` rather than `import A = require(&quot;moduleName&quot;)`?", "body": "<p><a href=\"https://i.stack.imgur.com/DebVC.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/DebVC.png\" alt=\"enter image description here\"></a></p>\n\n<p><a href=\"https://i.stack.imgur.com/VjLVW.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/VjLVW.png\" alt=\"enter image description here\"></a></p>\n\n<p>VSCode auto import node modules:\nHow to display <code>import A from \"moduleName\"</code> rather than <code>import A = require(\"moduleName\")</code>?</p>\n"}, {"tags": ["html", "angular", "typescript", "data-binding"], "comments": [{"owner": {"reputation": 4016, "user_id": 2202748, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/9tSQE.jpg?s=128&g=1", "display_name": "Joel Joseph", "link": "https://stackoverflow.com/users/2202748/joel-joseph"}, "edited": false, "score": 0, "creation_date": 1551849072, "post_id": 55015721, "comment_id": 96785891, "body": "what do you mean by &quot; initializing newJob.state to &#39;State&#39;,  &quot; the value  should have been <code>&quot;&quot;</code> though since you have specified the value here <code>&lt;option value=&quot;&quot; invalid selected&gt;State&lt;&#47;option&gt;</code>"}, {"owner": {"reputation": 4016, "user_id": 2202748, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/9tSQE.jpg?s=128&g=1", "display_name": "Joel Joseph", "link": "https://stackoverflow.com/users/2202748/joel-joseph"}, "edited": false, "score": 0, "creation_date": 1551849175, "post_id": 55015721, "comment_id": 96785921, "body": "also a stack blitz on above code seems to work fine , cant reproduce the error . perhaps you could share a stackblitz  of your code with us"}, {"owner": {"reputation": 4016, "user_id": 2202748, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/9tSQE.jpg?s=128&g=1", "display_name": "Joel Joseph", "link": "https://stackoverflow.com/users/2202748/joel-joseph"}, "edited": false, "score": 0, "creation_date": 1551849283, "post_id": 55015721, "comment_id": 96785954, "body": "and if you are trying to prevent user from clicking the default value then you should go for <code>&lt;option value=&quot;&quot; disabled selected&gt;State&lt;&#47;option&gt;</code>"}], "answers": [{"comments": [{"owner": {"reputation": 70314, "user_id": 5043867, "user_type": "registered", "accept_rate": 42, "profile_image": "https://i.stack.imgur.com/RX8Aw.jpg?s=128&g=1", "display_name": "Pardeep Jain", "link": "https://stackoverflow.com/users/5043867/pardeep-jain"}, "edited": false, "score": 0, "creation_date": 1551847632, "post_id": 55015751, "comment_id": 96785474, "body": "Have you tried this? Anyways what&#39;s the hack in this? can you explain bit more"}], "tags": [], "owner": {"reputation": 3911, "user_id": 5013729, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/02a313b0cc0da17999a1aea6cf89188a?s=128&d=identicon&r=PG", "display_name": "Bear Nithi", "link": "https://stackoverflow.com/users/5013729/bear-nithi"}, "is_accepted": true, "score": 1, "last_activity_date": 1551847695, "last_edit_date": 1551847695, "creation_date": 1551847599, "answer_id": 55015751, "question_id": 55015721, "link": "https://stackoverflow.com/questions/55015721/selected-attribute-not-working-with-ngmodel-on-select-tag/55015751#55015751", "title": "Selected attribute not working with [(ngModel)] on select tag", "body": "<p>Try the following method by setting the default option style to <code>display: none</code>, It works for me. It acts as a placeholder when the user see the dropdown by default they ll see the <code>State</code>, when they open it, there'll be no <code>State</code> displayed. That's the hack. It acts like a placeholder.</p>\n\n<pre><code>&lt;option value=\"\" style=\"display: none\"&gt;State&lt;/option&gt;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 172, "user_id": 2114154, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZWJyR.jpg?s=128&g=1", "display_name": "mosi98", "link": "https://stackoverflow.com/users/2114154/mosi98"}, "is_accepted": false, "score": 0, "last_activity_date": 1551849781, "creation_date": 1551849781, "answer_id": 55016070, "question_id": 55015721, "link": "https://stackoverflow.com/questions/55015721/selected-attribute-not-working-with-ngmodel-on-select-tag/55016070#55016070", "title": "Selected attribute not working with [(ngModel)] on select tag", "body": "<p>I change this</p>\n\n<pre><code>  newJob: JobListing = {\n    jobTitle: '',\n    city: '',\n    state: '',\n    department: '',\n    type: '',\n    tags: []\n  };\n</code></pre>\n\n<p>to below code and work correctly</p>\n\n<pre><code>  newJob: any = {\n    jobTitle: \"\",\n    city: \"\",\n    state: \"\",\n    department: \"\",\n    type: \"\",\n    tags: []\n  };\n</code></pre>\n"}], "owner": {"reputation": 13, "user_id": 11070345, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/tHqpL.jpg?s=128&g=1", "display_name": "dirtydivider", "link": "https://stackoverflow.com/users/11070345/dirtydivider"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 48, "favorite_count": 0, "accepted_answer_id": 55015751, "answer_count": 2, "score": 1, "last_activity_date": 1551849781, "creation_date": 1551847430, "question_id": 55015721, "link": "https://stackoverflow.com/questions/55015721/selected-attribute-not-working-with-ngmodel-on-select-tag", "title": "Selected attribute not working with [(ngModel)] on select tag", "body": "<p>In trying to put an <code>[(ngModel)]</code> on a select tag, the selected option no longer appears on loading the page. Before I put this on the select tag itself, the default option <code>State</code> was showing up just fine when I first loaded the page. Here is the code I have currently.</p>\n\n<p>HTML:</p>\n\n<pre><code>&lt;select class=\"form-control\" id=\"inputState\" name=\"inputState\" [(ngModel)]=\"newJob.state\" required&gt;\n          &lt;option value=\"\" invalid selected&gt;State&lt;/option&gt;\n          &lt;option value=\"AL\"&gt;Alabama&lt;/option&gt;\n          &lt;option value=\"AK\"&gt;Alaska&lt;/option&gt;\n          &lt;option value=\"AZ\"&gt;Arizona&lt;/option&gt;\n          &lt;option value=\"AR\"&gt;Arkansas&lt;/option&gt;\n          &lt;option value=\"CA\"&gt;California&lt;/option&gt;\n          &lt;option value=\"CO\"&gt;Colorado&lt;/option&gt;\n          &lt;option value=\"CT\"&gt;Connecticut&lt;/option&gt;\n          &lt;option value=\"DE\"&gt;Delaware&lt;/option&gt;\n          &lt;option value=\"DC\"&gt;District Of Columbia&lt;/option&gt;\n          &lt;option value=\"FL\"&gt;Florida&lt;/option&gt;\n          &lt;option value=\"GA\"&gt;Georgia&lt;/option&gt;\n          &lt;option value=\"HI\"&gt;Hawaii&lt;/option&gt;\n          &lt;option value=\"ID\"&gt;Idaho&lt;/option&gt;\n          &lt;option value=\"IL\"&gt;Illinois&lt;/option&gt;\n          &lt;option value=\"IN\"&gt;Indiana&lt;/option&gt;\n          &lt;option value=\"IA\"&gt;Iowa&lt;/option&gt;\n          &lt;option value=\"KS\"&gt;Kansas&lt;/option&gt;\n          &lt;option value=\"KY\"&gt;Kentucky&lt;/option&gt;\n          &lt;option value=\"LA\"&gt;Louisiana&lt;/option&gt;\n          &lt;option value=\"ME\"&gt;Maine&lt;/option&gt;\n          &lt;option value=\"MD\"&gt;Maryland&lt;/option&gt;\n          &lt;option value=\"MA\"&gt;Massachusetts&lt;/option&gt;\n          &lt;option value=\"MI\"&gt;Michigan&lt;/option&gt;\n          &lt;option value=\"MN\"&gt;Minnesota&lt;/option&gt;\n          &lt;option value=\"MS\"&gt;Mississippi&lt;/option&gt;\n          &lt;option value=\"MO\"&gt;Missouri&lt;/option&gt;\n          &lt;option value=\"MT\"&gt;Montana&lt;/option&gt;\n          &lt;option value=\"NE\"&gt;Nebraska&lt;/option&gt;\n          &lt;option value=\"NV\"&gt;Nevada&lt;/option&gt;\n          &lt;option value=\"NH\"&gt;New Hampshire&lt;/option&gt;\n          &lt;option value=\"NJ\"&gt;New Jersey&lt;/option&gt;\n          &lt;option value=\"NM\"&gt;New Mexico&lt;/option&gt;\n          &lt;option value=\"NY\"&gt;New York&lt;/option&gt;\n          &lt;option value=\"NC\"&gt;North Carolina&lt;/option&gt;\n          &lt;option value=\"ND\"&gt;North Dakota&lt;/option&gt;\n          &lt;option value=\"OH\"&gt;Ohio&lt;/option&gt;\n          &lt;option value=\"OK\"&gt;Oklahoma&lt;/option&gt;\n          &lt;option value=\"OR\"&gt;Oregon&lt;/option&gt;\n          &lt;option value=\"PA\"&gt;Pennsylvania&lt;/option&gt;\n          &lt;option value=\"RI\"&gt;Rhode Island&lt;/option&gt;\n          &lt;option value=\"SC\"&gt;South Carolina&lt;/option&gt;\n          &lt;option value=\"SD\"&gt;South Dakota&lt;/option&gt;\n          &lt;option value=\"TN\"&gt;Tennessee&lt;/option&gt;\n          &lt;option value=\"TX\"&gt;Texas&lt;/option&gt;\n          &lt;option value=\"UT\"&gt;Utah&lt;/option&gt;\n          &lt;option value=\"VT\"&gt;Vermont&lt;/option&gt;\n          &lt;option value=\"VA\"&gt;Virginia&lt;/option&gt;\n          &lt;option value=\"WA\"&gt;Washington&lt;/option&gt;\n          &lt;option value=\"WV\"&gt;West Virginia&lt;/option&gt;\n          &lt;option value=\"WI\"&gt;Wisconsin&lt;/option&gt;\n          &lt;option value=\"WY\"&gt;Wyoming&lt;/option&gt;\n        &lt;/select&gt;\n</code></pre>\n\n<p>TS:</p>\n\n<pre><code>export class NewJobListingComponent implements OnInit {\n  isDeleted: boolean = false;\n  currentTag: string = '';\n  maxTags: boolean = false;\n\n\n  newJob: JobListing = {\n    jobTitle: '',\n    city: '',\n    state: '',\n    department: '',\n    type: '',\n    tags: []\n  };\n}\n</code></pre>\n\n<p>As I said, before I put <code>[(ngModel)]</code> on <code>&lt;select ...&gt;</code>, the dropdown box was correctly displaying <code>State</code> when the page first rendered, and now it is not. I even tried initializing newJob.state to 'State', and that did not work either.  What am I doing wrong?</p>\n"}, {"tags": ["javascript", "typescript", "webpack"], "comments": [{"owner": {"reputation": 25033, "user_id": 1113002, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CgW7b.png?s=128&g=1", "display_name": "Aleksey L.", "link": "https://stackoverflow.com/users/1113002/aleksey-l"}, "edited": false, "score": 1, "creation_date": 1551853378, "post_id": 55015716, "comment_id": 96787344, "body": "Could you update the question with more realistic example - <code>get computed1() { return this.computed1; }</code> will throw an error (never ending recursion). As a side note, you can generate getters and setters, but you won&#39;t get type checking for this. Let me know if you&#39;d like me to add an example."}, {"owner": {"reputation": 2676, "user_id": 7440006, "user_type": "registered", "accept_rate": 43, "profile_image": "https://lh4.googleusercontent.com/-_WnBnkztddk/AAAAAAAAAAI/AAAAAAAAAIs/lnk_CF1dRFw/photo.jpg?sz=128", "display_name": "ego", "link": "https://stackoverflow.com/users/7440006/ego"}, "reply_to_user": {"reputation": 25033, "user_id": 1113002, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CgW7b.png?s=128&g=1", "display_name": "Aleksey L.", "link": "https://stackoverflow.com/users/1113002/aleksey-l"}, "edited": false, "score": 0, "creation_date": 1551853955, "post_id": 55015716, "comment_id": 96787575, "body": "@AlekseyL. lol didn&#39;t realize that, thank you. Yeah, I&#39;d appreciate it."}], "answers": [{"tags": [], "owner": {"reputation": 1852, "user_id": 8318088, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/OBXoU.jpg?s=128&g=1", "display_name": "Danyal Imran", "link": "https://stackoverflow.com/users/8318088/danyal-imran"}, "is_accepted": false, "score": 0, "last_activity_date": 1551847730, "creation_date": 1551847730, "answer_id": 55015772, "question_id": 55015716, "link": "https://stackoverflow.com/questions/55015716/is-there-a-way-to-generate-getter-and-setter-pairs-in-typescript-class/55015772#55015772", "title": "Is there a way to generate getter and setter pairs in typescript class?", "body": "<p>There isn't any easy shortcut solution to your problem you'll need to handle each request via an if/else or switch statement</p>\n\n<pre><code>function makeComputer(op) {\n  switch (op) {\n    case 'computed1':\n      // logic\n      break;\n    case 'computer2':\n      // logic\n      break;\n    default:\n      // logic\n  }\n}\n</code></pre>\n\n<p>A good pattern I picked up was called the 'parm' from Microsoft Dynamics. This has combined getter setter in them, combined with the above approach you will be able to handle get/set and operation look up in one single function.</p>\n\n<pre><code>function parmX(x) {\n  if (x) this.x = x;\n  else return this.x;\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 2676, "user_id": 7440006, "user_type": "registered", "accept_rate": 43, "profile_image": "https://lh4.googleusercontent.com/-_WnBnkztddk/AAAAAAAAAAI/AAAAAAAAAIs/lnk_CF1dRFw/photo.jpg?sz=128", "display_name": "ego", "link": "https://stackoverflow.com/users/7440006/ego"}, "edited": false, "score": 0, "creation_date": 1552357813, "post_id": 55017445, "comment_id": 96968886, "body": "Thanks, it&#39;s good to know. Seeing that framework I&#39;m using (Vue.js) allows using plain js, I chose that path."}], "tags": [], "owner": {"reputation": 25033, "user_id": 1113002, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CgW7b.png?s=128&g=1", "display_name": "Aleksey L.", "link": "https://stackoverflow.com/users/1113002/aleksey-l"}, "is_accepted": false, "score": 1, "last_activity_date": 1551856067, "creation_date": 1551856067, "answer_id": 55017445, "question_id": 55015716, "link": "https://stackoverflow.com/questions/55015716/is-there-a-way-to-generate-getter-and-setter-pairs-in-typescript-class/55017445#55017445", "title": "Is there a way to generate getter and setter pairs in typescript class?", "body": "<p>Below is an example of defining getters and setters using <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/defineProperty\" rel=\"nofollow noreferrer\"><code>Object.defineProperty</code></a></p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>class Foo {\r\n}\r\n\r\nfunction makeComputed(prop) {\r\n    const field = `data${prop}`;\r\n    Object.defineProperty(Foo.prototype, prop, {\r\n        get: function () {\r\n            console.log(`getting ${field}`);\r\n            return this[field];\r\n        },\r\n        set: function (value) {\r\n            console.log(`updating ${field}`);\r\n            this[field] = value;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n}\r\n\r\nmakeComputed('computed1');\r\nmakeComputed('computed2');\r\n\r\nconst foo = new Foo();\r\n\r\nfoo.computed1 = 123;\r\nconsole.log(foo.computed1);</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p><strong>Pay attention</strong> - accessing such a properties (last two lines) will cause an error in Typescript, because it has no idea that <code>Foo</code> now has <code>computed1</code> and <code>computed2</code> props.</p>\n"}], "owner": {"reputation": 2676, "user_id": 7440006, "user_type": "registered", "accept_rate": 43, "profile_image": "https://lh4.googleusercontent.com/-_WnBnkztddk/AAAAAAAAAAI/AAAAAAAAAIs/lnk_CF1dRFw/photo.jpg?sz=128", "display_name": "ego", "link": "https://stackoverflow.com/users/7440006/ego"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 434, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1551856067, "creation_date": 1551847405, "last_edit_date": 1551854022, "question_id": 55015716, "link": "https://stackoverflow.com/questions/55015716/is-there-a-way-to-generate-getter-and-setter-pairs-in-typescript-class", "title": "Is there a way to generate getter and setter pairs in typescript class?", "body": "<p>I have many blocks of code, which are quite similar and look like this:</p>\n\n<pre><code>// BLOCK 1\nget computed1() {\n  return this.dataComputed1;\n}\nset computed1(value: any) {\n  update(value);\n}\n\n// BLOCK 2\nget computed2() {\n  return this.dataComputed2;\n}\nset computed2(value: any) {\n  update(value);\n}\n\n...\n</code></pre>\n\n<p>Now, seeing that \"BLOCK 1\" and \"BLOCK 2\" are quite similar (taken out of context and if we look at it as a text of course). I'm wondering if there's a way to transform this code by introducing some kind of code generator (similar to scss mixins):</p>\n\n<pre><code>// BLOCK 1\nmakeComputed('computed1');\n\n// BLOCK 2\nmakeComputed('computed2');\n\n...\n</code></pre>\n"}, {"tags": ["javascript", "node.js", "typescript"], "answers": [{"tags": [], "owner": {"reputation": 253913, "user_id": 9515207, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/34932d3e923ffad9a4a1423e30b1d9fc?s=128&d=identicon&r=PG&f=1", "display_name": "CertainPerformance", "link": "https://stackoverflow.com/users/9515207/certainperformance"}, "is_accepted": true, "score": 2, "last_activity_date": 1551845255, "creation_date": 1551845255, "answer_id": 55015404, "question_id": 55015386, "link": "https://stackoverflow.com/questions/55015386/get-the-method-that-threw-the-exception/55015404#55015404", "title": "Get the method that threw the exception?", "body": "<p>The <code>.stack</code> property will contain a string showing the stack trace - the first line will be the error thrown, the second line will list the containing function name (if any) and line / column number that threw the error:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>function method() {\r\n  try {\r\n    throw new Error('oh oh')\r\n  } catch (e) {\r\n    console.dir(e.stack.split('\\n')[1]);\r\n  }\r\n}\r\nmethod();</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": [], "owner": {"reputation": 996, "user_id": 11153160, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Qr9JL.png?s=128&g=1", "display_name": "ostrebler", "link": "https://stackoverflow.com/users/11153160/ostrebler"}, "is_accepted": false, "score": 1, "last_activity_date": 1551845364, "creation_date": 1551845364, "answer_id": 55015421, "question_id": 55015386, "link": "https://stackoverflow.com/questions/55015386/get-the-method-that-threw-the-exception/55015421#55015421", "title": "Get the method that threw the exception?", "body": "<p>This library might suit your needs : <a href=\"http://www.eriwen.com/javascript/stacktrace-update/\" rel=\"nofollow noreferrer\">http://www.eriwen.com/javascript/stacktrace-update/</a></p>\n"}], "owner": {"reputation": 29171, "user_id": 1684269, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/5adbf1d60d27b9ee3aeee069591ba88b?s=128&d=identicon&r=PG", "display_name": "Ole", "link": "https://stackoverflow.com/users/1684269/ole"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 30, "favorite_count": 0, "accepted_answer_id": 55015404, "answer_count": 2, "score": 0, "last_activity_date": 1551845403, "creation_date": 1551845109, "question_id": 55015386, "link": "https://stackoverflow.com/questions/55015386/get-the-method-that-threw-the-exception", "title": "Get the method that threw the exception?", "body": "<p>How do we get the method that threw the exception in Javascript?</p>\n\n<p>For example:</p>\n\n<pre><code>function method()\ntry { throw new Error('oh oh')}\ncatch(e) { e.stack... how to get the method ...}\n</code></pre>\n\n<p>Tried:</p>\n\n<pre><code>      console.log(\"The method is: \" + e.method);\n</code></pre>\n\n<p>But it comes up as <code>undefined</code>.</p>\n"}, {"tags": ["reactjs", "typescript", "webpack", "create-react-app"], "comments": [{"owner": {"reputation": 1528, "user_id": 10679524, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GSlY3.png?s=128&g=1", "display_name": "Akshay Mulgavkar", "link": "https://stackoverflow.com/users/10679524/akshay-mulgavkar"}, "edited": false, "score": 0, "creation_date": 1551846826, "post_id": 55015303, "comment_id": 96785274, "body": "did you import the file? <code>import Action from &#39;&#47;code&#47;app_react&#47;src&#47;common&#47;Action.tsx&#39;</code>"}, {"owner": {"reputation": 1842, "user_id": 267835, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/7a251834c69deff9fa09c2ae6da2e4db?s=128&d=identicon&r=PG", "display_name": "thehme", "link": "https://stackoverflow.com/users/267835/thehme"}, "reply_to_user": {"reputation": 1528, "user_id": 10679524, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GSlY3.png?s=128&g=1", "display_name": "Akshay Mulgavkar", "link": "https://stackoverflow.com/users/10679524/akshay-mulgavkar"}, "edited": false, "score": 0, "creation_date": 1551877419, "post_id": 55015303, "comment_id": 96800595, "body": "Yes, this works perfectly fine when the extension is <code>jsx</code>"}, {"owner": {"reputation": 510, "user_id": 299958, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e65993195f4e35f26973cb271a2b8643?s=128&d=identicon&r=PG", "display_name": "Glenn Jorde", "link": "https://stackoverflow.com/users/299958/glenn-jorde"}, "edited": false, "score": 2, "creation_date": 1553247524, "post_id": 55015303, "comment_id": 97321674, "body": "I have this issue as well. I&#39;m importing the file without extension, and after an extension change I always get ENOENT and have to restart dev server. Very frustrating since that script is soooo slow to start. I will try to import with explicit extension after rename and see if that solves it."}, {"owner": {"reputation": 1100, "user_id": 4650166, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/701d69c58a34ee0b1c11899d91d4c819?s=128&d=identicon&r=PG&f=1", "display_name": "Gmv", "link": "https://stackoverflow.com/users/4650166/gmv"}, "edited": false, "score": 0, "creation_date": 1562742329, "post_id": 55015303, "comment_id": 100467433, "body": "@thehme Did you find the solution for this issue?"}, {"owner": {"reputation": 1842, "user_id": 267835, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/7a251834c69deff9fa09c2ae6da2e4db?s=128&d=identicon&r=PG", "display_name": "thehme", "link": "https://stackoverflow.com/users/267835/thehme"}, "edited": false, "score": 0, "creation_date": 1562903626, "post_id": 55015303, "comment_id": 100533152, "body": "yes, i had to run <code>git rm &#47;code&#47;src&#47;common&#47;Action.jsx</code>"}], "answers": [{"comments": [{"owner": {"reputation": 510, "user_id": 299958, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e65993195f4e35f26973cb271a2b8643?s=128&d=identicon&r=PG", "display_name": "Glenn Jorde", "link": "https://stackoverflow.com/users/299958/glenn-jorde"}, "edited": false, "score": 4, "creation_date": 1553247657, "post_id": 55015669, "comment_id": 97321770, "body": "There is no <code>webpack.config.js</code> in an app created with <code>create-react-app</code>. Unless you eject or use react-rewired or some such tool."}], "tags": [], "owner": {"reputation": 1528, "user_id": 10679524, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GSlY3.png?s=128&g=1", "display_name": "Akshay Mulgavkar", "link": "https://stackoverflow.com/users/10679524/akshay-mulgavkar"}, "is_accepted": false, "score": 3, "last_activity_date": 1551847096, "creation_date": 1551847096, "answer_id": 55015669, "question_id": 55015303, "link": "https://stackoverflow.com/questions/55015303/reactjs-error-enoent-no-such-file-or-directory-open-after-converting-jsx/55015669#55015669", "title": "Reactjs &quot;Error: ENOENT: no such file or directory, open..&quot; after converting jsx file to tsx", "body": "<p>Maybe you have not imported the file. You need to import the file to use it.</p>\n\n<pre><code>import Action from '/code/app_react/src/common/Action.tsx';\n</code></pre>\n\n<p>Also add this to your webpack.config.js.</p>\n\n<pre><code>resolve: {\n    extensions: [\".ts\", \".tsx\", \".js\", \".jsx\"]\n},\n</code></pre>\n\n<p>You're good to go!</p>\n"}, {"tags": [], "owner": {"reputation": 1723, "user_id": 877682, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/707dbfbae8c633ee67005ad8ea125b98?s=128&d=identicon&r=PG", "display_name": "Aaron", "link": "https://stackoverflow.com/users/877682/aaron"}, "is_accepted": false, "score": 7, "last_activity_date": 1572344114, "creation_date": 1572344114, "answer_id": 58605360, "question_id": 55015303, "link": "https://stackoverflow.com/questions/55015303/reactjs-error-enoent-no-such-file-or-directory-open-after-converting-jsx/58605360#58605360", "title": "Reactjs &quot;Error: ENOENT: no such file or directory, open..&quot; after converting jsx file to tsx", "body": "<p>I was having this problem (though I had renamed <code>js</code> to <code>jsx</code>, rather than <code>jsx</code> to <code>tsx</code>), and the solution added to the question (running <code>git rm</code> on the original file) didn't work for me.</p>\n\n<p>What did work was suggested by <a href=\"https://www.reddit.com/r/reactjs/comments/95e9cc/how_can_i_use_js_instead_of_jsx/e3s160u\" rel=\"noreferrer\">this r/reactjs Reddit thread</a>: deleting and reinstalling <code>node_modules</code>:</p>\n\n<pre><code>rm -rf node_modules &amp;&amp; npm i\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 12796, "user_id": 4540183, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/zDZbu.png?s=128&g=1", "display_name": "Pedram", "link": "https://stackoverflow.com/users/4540183/pedram"}, "is_accepted": false, "score": 6, "last_activity_date": 1591945680, "last_edit_date": 1591945680, "creation_date": 1580884205, "answer_id": 60070104, "question_id": 55015303, "link": "https://stackoverflow.com/questions/55015303/reactjs-error-enoent-no-such-file-or-directory-open-after-converting-jsx/60070104#60070104", "title": "Reactjs &quot;Error: ENOENT: no such file or directory, open..&quot; after converting jsx file to tsx", "body": "<p>I had same issue, no need to remove <code>node_modules</code> or remove target file, you just have to kill the node process.</p>\n\n<p>If you're on <code>windows</code>:</p>\n\n<ul>\n<li><kbd>ctrl</kbd><kbd>+</kbd><kbd>alt</kbd><kbd>+</kbd><kbd>delete</kbd> to run task manager</li>\n<li>find <code>node</code></li>\n<li>end process</li>\n</ul>\n\n<p>If you're on <code>linux</code>:</p>\n\n<ul>\n<li>probably something like <code>pkill node</code>, etc.</li>\n</ul>\n\n<p>After I killed the <code>node</code> process and ran <code>npm start</code> again, it finds the target file.</p>\n"}, {"comments": [{"owner": {"reputation": 1966, "user_id": 3134055, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/3ff13bfbb362e8209b79c4d2370760bb?s=128&d=identicon&r=PG&f=1", "display_name": "akai", "link": "https://stackoverflow.com/users/3134055/akai"}, "edited": false, "score": 0, "creation_date": 1613647783, "post_id": 60229346, "comment_id": 117142645, "body": "It actually works. Are you serious."}, {"owner": {"reputation": 73, "user_id": 5072256, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/twfCh.jpg?s=128&g=1", "display_name": "Kayle Best", "link": "https://stackoverflow.com/users/5072256/kayle-best"}, "edited": false, "score": 0, "creation_date": 1618566164, "post_id": 60229346, "comment_id": 118645477, "body": "thanks,it works for me"}], "tags": [], "owner": {"reputation": 784, "user_id": 6352333, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/jSpP6.jpg?s=128&g=1", "display_name": "Code Wiget", "link": "https://stackoverflow.com/users/6352333/code-wiget"}, "is_accepted": false, "score": 31, "last_activity_date": 1581694724, "creation_date": 1581694724, "answer_id": 60229346, "question_id": 55015303, "link": "https://stackoverflow.com/questions/55015303/reactjs-error-enoent-no-such-file-or-directory-open-after-converting-jsx/60229346#60229346", "title": "Reactjs &quot;Error: ENOENT: no such file or directory, open..&quot; after converting jsx file to tsx", "body": "<p>Killed my yarn process running, killed vscode, re-started both and it works</p>\n"}, {"tags": [], "owner": {"reputation": 304, "user_id": 9871509, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/MPPnd.jpg?s=128&g=1", "display_name": "Ankit Tiwari", "link": "https://stackoverflow.com/users/9871509/ankit-tiwari"}, "is_accepted": false, "score": 0, "last_activity_date": 1601168264, "creation_date": 1601168264, "answer_id": 64083836, "question_id": 55015303, "link": "https://stackoverflow.com/questions/55015303/reactjs-error-enoent-no-such-file-or-directory-open-after-converting-jsx/64083836#64083836", "title": "Reactjs &quot;Error: ENOENT: no such file or directory, open..&quot; after converting jsx file to tsx", "body": "<p>I was working with redux and then came across this error!!</p>\n<p>I tried killing node , removing node modules, restarting the laptop but it still gave the same error then later I started debugging index.js</p>\n<p>I commented each line and started uncommenting from top to see where the code is breaking then observed</p>\n<blockquote>\n<p>I had not installed</p>\n<p>redux</p>\n<p>I had only installed react-redux</p>\n</blockquote>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 12066864, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mDWpoNkyHe3-mT-S9poA7pLGezEvWt92UCC_okiaQ=k-s128", "display_name": "theNaukiMatic", "link": "https://stackoverflow.com/users/12066864/thenaukimatic"}, "is_accepted": false, "score": 0, "last_activity_date": 1601174873, "creation_date": 1601174873, "answer_id": 64084308, "question_id": 55015303, "link": "https://stackoverflow.com/questions/55015303/reactjs-error-enoent-no-such-file-or-directory-open-after-converting-jsx/64084308#64084308", "title": "Reactjs &quot;Error: ENOENT: no such file or directory, open..&quot; after converting jsx file to tsx", "body": "<p>Just restart your npm server, it will automatically detect the typescript file and make adjustments</p>\n"}, {"tags": [], "owner": {"reputation": 293, "user_id": 488043, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4fc5e02e1597c49532a80f1b787909cc?s=128&d=identicon&r=PG", "display_name": "jpolete", "link": "https://stackoverflow.com/users/488043/jpolete"}, "is_accepted": false, "score": 0, "last_activity_date": 1603386469, "creation_date": 1603386469, "answer_id": 64487170, "question_id": 55015303, "link": "https://stackoverflow.com/questions/55015303/reactjs-error-enoent-no-such-file-or-directory-open-after-converting-jsx/64487170#64487170", "title": "Reactjs &quot;Error: ENOENT: no such file or directory, open..&quot; after converting jsx file to tsx", "body": "<p>I had the same issue converting .jsx to .tsx. If you're using Parcel to build your app, delete the <code>.cache</code> folder. That's where Parcel caches build files. That fixed it for me.</p>\n"}, {"comments": [{"owner": {"reputation": 1715, "user_id": 721809, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/TzkxT.png?s=128&g=1", "display_name": "Matej Kormuth", "link": "https://stackoverflow.com/users/721809/matej-kormuth"}, "edited": false, "score": 0, "creation_date": 1610714612, "post_id": 65611864, "comment_id": 116225878, "body": "Do we really need to restart <code>react-scripts</code> everytime we remove or move a file? I am tired of waiting 1 minute for <code>react-scripts</code> to boot up and compile my project :/"}, {"owner": {"reputation": 4129, "user_id": 268598, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/kQ8O1.jpg?s=128&g=1", "display_name": "Umanda", "link": "https://stackoverflow.com/users/268598/umanda"}, "reply_to_user": {"reputation": 1715, "user_id": 721809, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/TzkxT.png?s=128&g=1", "display_name": "Matej Kormuth", "link": "https://stackoverflow.com/users/721809/matej-kormuth"}, "edited": false, "score": 0, "creation_date": 1610857319, "post_id": 65611864, "comment_id": 116262736, "body": "Not need to every time but if you have cache issue, sometimes restarting and cache invalidation would help."}], "tags": [], "owner": {"reputation": 4129, "user_id": 268598, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/kQ8O1.jpg?s=128&g=1", "display_name": "Umanda", "link": "https://stackoverflow.com/users/268598/umanda"}, "is_accepted": false, "score": 2, "last_activity_date": 1610020268, "creation_date": 1610020268, "answer_id": 65611864, "question_id": 55015303, "link": "https://stackoverflow.com/questions/55015303/reactjs-error-enoent-no-such-file-or-directory-open-after-converting-jsx/65611864#65611864", "title": "Reactjs &quot;Error: ENOENT: no such file or directory, open..&quot; after converting jsx file to tsx", "body": "<p>It is happening because of the pre-built cache. A simple solution would be to restart your nodejs and react app.</p>\n<p><strong>In Linux</strong></p>\n<pre><code>$ pkill node   \n\n$ killall node  \n\n$ kill -9 &lt;pid&gt;\n</code></pre>\n<p><strong>In Windows</strong></p>\n<pre><code>C:\\&gt;taskkill /im node.exe\n\nC:\\&gt;taskkill /f /im node.exe\n\nC:\\&gt;taskkill /pid &lt;PID of node&gt;\n</code></pre>\n<p><strong>In MacOs</strong></p>\n<pre><code>$sudo killall -9 node\n</code></pre>\n<p>And then start your React application again.</p>\n<pre><code>npm start\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 364, "user_id": 5797564, "user_type": "registered", "accept_rate": 19, "profile_image": "https://www.gravatar.com/avatar/cdd975c31ebcf4e743e1f78645b355ae?s=128&d=identicon&r=PG&f=1", "display_name": "Zack", "link": "https://stackoverflow.com/users/5797564/zack"}, "is_accepted": false, "score": 0, "last_activity_date": 1611502818, "creation_date": 1611502818, "answer_id": 65872560, "question_id": 55015303, "link": "https://stackoverflow.com/questions/55015303/reactjs-error-enoent-no-such-file-or-directory-open-after-converting-jsx/65872560#65872560", "title": "Reactjs &quot;Error: ENOENT: no such file or directory, open..&quot; after converting jsx file to tsx", "body": "<p>I manually deleted the <code>node_modules</code> folder and re-installed them by running <code>npm i</code> and the trick worked for me.</p>\n"}], "owner": {"reputation": 1842, "user_id": 267835, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/7a251834c69deff9fa09c2ae6da2e4db?s=128&d=identicon&r=PG", "display_name": "thehme", "link": "https://stackoverflow.com/users/267835/thehme"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 25750, "favorite_count": 0, "answer_count": 9, "score": 19, "last_activity_date": 1611502818, "creation_date": 1551844512, "last_edit_date": 1553272791, "question_id": 55015303, "link": "https://stackoverflow.com/questions/55015303/reactjs-error-enoent-no-such-file-or-directory-open-after-converting-jsx", "title": "Reactjs &quot;Error: ENOENT: no such file or directory, open..&quot; after converting jsx file to tsx", "body": "<p>I have a <code>create-react-app</code> app and I am translation files from <code>jsx</code> to <code>typescript</code>. For example, one file is called <code>/code/app_react/src/common/Action.jsx</code> and I renamed it to <code>/code/app_react/src/common/Action.tsx</code>. I made the necessary changes to successfully convert it to <code>tsx</code>, but I am getting an error related to the name change:</p>\n\n<blockquote>\n  <p>./src/common/Action.jsx Error: ENOENT: no such file or\n  directory, open\n  '/code/src/common/Action.jsx'</p>\n</blockquote>\n\n<ul>\n<li>rebuilding the does not help</li>\n<li>for some reason, the old version of the file is expected</li>\n</ul>\n\n<p>The file importing this file is a <code>jsx</code> file, but now I am importing a <code>tsx</code> file into it.</p>\n\n<p>This is a CRA app, so is there a correct way to clear this error? </p>\n\n<p><strong>SOLUTION:</strong>\nI had to remove them from the <code>git</code> repository, using the <code>git rm</code> command, like this:</p>\n\n<pre><code>git rm /code/src/common/Action.jsx\n</code></pre>\n\n<p>Once I did that, it removed the <code>jsx</code> from the committed files and then I was able to use the new <code>tsx</code> files</p>\n"}, {"tags": ["typescript", "google-apps-script", "visual-studio-code", "clasp"], "comments": [{"owner": {"reputation": 32101, "user_id": 8404453, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/616cb81bb678bb5b17869511b2a41367?s=128&d=identicon&r=PG&f=1", "display_name": "TheMaster", "link": "https://stackoverflow.com/users/8404453/themaster"}, "edited": false, "score": 1, "creation_date": 1551865240, "post_id": 55015282, "comment_id": 96793278, "body": "You&#39;ll need type definitions file for that library just like <a href=\"https://github.com/DefinitelyTyped/DefinitelyTyped/blob/master/types/google-apps-script/google-apps-script.spreadsheet.d.ts\" rel=\"nofollow noreferrer\">github.com/DefinitelyTyped/DefinitelyTyped/blob/master/types&zwnj;&#8203;/&hellip;</a> found in <a href=\"https://www.npmjs.com/package/@types/google-apps-script\" rel=\"nofollow noreferrer\">npmjs.com/package/@types/google-apps-script</a> If  there isn&#39;t any available, you&#39;ll create one defining the types."}, {"owner": {"reputation": 70, "user_id": 7585747, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-gve8S8f1M3k/AAAAAAAAAAI/AAAAAAAAADA/Ts6v9m-8_JM/photo.jpg?sz=128", "display_name": "Mike McClure", "link": "https://stackoverflow.com/users/7585747/mike-mcclure"}, "reply_to_user": {"reputation": 32101, "user_id": 8404453, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/616cb81bb678bb5b17869511b2a41367?s=128&d=identicon&r=PG&f=1", "display_name": "TheMaster", "link": "https://stackoverflow.com/users/8404453/themaster"}, "edited": false, "score": 0, "creation_date": 1551908794, "post_id": 55015282, "comment_id": 96817880, "body": "No such file in the library to date. Will I have to create a TypeScript file that has an interface defined for each of the objects and functions in the library?"}, {"owner": {"reputation": 32101, "user_id": 8404453, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/616cb81bb678bb5b17869511b2a41367?s=128&d=identicon&r=PG&f=1", "display_name": "TheMaster", "link": "https://stackoverflow.com/users/8404453/themaster"}, "edited": false, "score": 0, "creation_date": 1551908964, "post_id": 55015282, "comment_id": 96817958, "body": "Yes<code>.</code>"}, {"owner": {"reputation": 70, "user_id": 7585747, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-gve8S8f1M3k/AAAAAAAAAAI/AAAAAAAAADA/Ts6v9m-8_JM/photo.jpg?sz=128", "display_name": "Mike McClure", "link": "https://stackoverflow.com/users/7585747/mike-mcclure"}, "reply_to_user": {"reputation": 32101, "user_id": 8404453, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/616cb81bb678bb5b17869511b2a41367?s=128&d=identicon&r=PG&f=1", "display_name": "TheMaster", "link": "https://stackoverflow.com/users/8404453/themaster"}, "edited": false, "score": 0, "creation_date": 1551928285, "post_id": 55015282, "comment_id": 96823149, "body": "Thanks. I&#39;ll reach out to the library owner first though..."}], "answers": [{"tags": [], "owner": {"reputation": 376, "user_id": 1233286, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/918385b77df621f5fbda88d3a551a793?s=128&d=identicon&r=PG", "display_name": "Grant Timmerman", "link": "https://stackoverflow.com/users/1233286/grant-timmerman"}, "is_accepted": true, "score": 0, "last_activity_date": 1564538156, "creation_date": 1564538156, "answer_id": 57282137, "question_id": 55015282, "link": "https://stackoverflow.com/questions/55015282/gas-clasp-how-do-i-get-autocomplete-intellisense-to-work-in-vscode-for-3rd-part/57282137#57282137", "title": "GAS/clasp: How do I get autocomplete/intellisense to work in VSCode for 3rd Party libraries", "body": "<p>For 3rd Party Libraries, like FirestoreApp, autocompletion does not work.</p>\n\n<p>You will need to create your own <code>.d.ts</code> files (optionally added to DefinitelyTyped).</p>\n\n<p>Another option would be to copy/paste the library into your script, and editors like VS Code will provide light autocompletion (1 level deep). The code doesn't need to be in the <code>node_modules</code> directory.</p>\n"}], "owner": {"reputation": 70, "user_id": 7585747, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-gve8S8f1M3k/AAAAAAAAAAI/AAAAAAAAADA/Ts6v9m-8_JM/photo.jpg?sz=128", "display_name": "Mike McClure", "link": "https://stackoverflow.com/users/7585747/mike-mcclure"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 636, "favorite_count": 0, "accepted_answer_id": 57282137, "answer_count": 1, "score": 0, "last_activity_date": 1564538156, "creation_date": 1551844398, "last_edit_date": 1551865078, "question_id": 55015282, "link": "https://stackoverflow.com/questions/55015282/gas-clasp-how-do-i-get-autocomplete-intellisense-to-work-in-vscode-for-3rd-part", "title": "GAS/clasp: How do I get autocomplete/intellisense to work in VSCode for 3rd Party libraries", "body": "<p>I am using VSCode to edit Google App Script (GAS) code with clasp.\nI have intellisense working for the core libraries just fine.</p>\n\n<p>(This <a href=\"https://stackoverflow.com/questions/49015874/enabling-autocomplete-for-google-apps-script-in-locally-installed-ide\">post</a> helped)</p>\n\n<p>However, I am also using a <a href=\"https://github.com/grahamearley/FirestoreGoogleAppsScript\" rel=\"nofollow noreferrer\">Firestore library</a> in the ScriptApp project and intellisense is not working for the FirestoreApp.</p>\n\n<p>I've tried included the library Javascript code in my project directory and also in the node_modules directory - but no luck.</p>\n\n<p>Does anyone have any tips? Thanks.</p>\n"}, {"tags": ["javascript", "arrays", "angular", "typescript"], "comments": [{"owner": {"reputation": 415, "user_id": 8217812, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-vUo_dVKPgdo/AAAAAAAAAAI/AAAAAAAAB_k/vimUAsMNzh0/photo.jpg?sz=128", "display_name": "Nery Ortez", "link": "https://stackoverflow.com/users/8217812/nery-ortez"}, "edited": false, "score": 0, "creation_date": 1551845747, "post_id": 55015248, "comment_id": 96785021, "body": "Please paste direct meaningful parts of the code that are giving you problems. That way, when your question is answered, it will help other people with the same problem."}, {"owner": {"reputation": 73, "user_id": 11123615, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bf05d806c692e42dc278a0a5250f3551?s=128&d=identicon&r=PG&f=1", "display_name": "Artemis J", "link": "https://stackoverflow.com/users/11123615/artemis-j"}, "reply_to_user": {"reputation": 415, "user_id": 8217812, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-vUo_dVKPgdo/AAAAAAAAAAI/AAAAAAAAB_k/vimUAsMNzh0/photo.jpg?sz=128", "display_name": "Nery Ortez", "link": "https://stackoverflow.com/users/8217812/nery-ortez"}, "edited": false, "score": 0, "creation_date": 1551848105, "post_id": 55015248, "comment_id": 96785614, "body": "Sure thing, anything I can do to help.  I&#39;m still new to the StackOverflow world and didn&#39;t even know stackblitz existed prior to a post I made a few days ago. ;)  Will include a bit of code in this post as well."}], "answers": [{"comments": [{"owner": {"reputation": 73, "user_id": 11123615, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bf05d806c692e42dc278a0a5250f3551?s=128&d=identicon&r=PG&f=1", "display_name": "Artemis J", "link": "https://stackoverflow.com/users/11123615/artemis-j"}, "edited": false, "score": 0, "creation_date": 1551847971, "post_id": 55015465, "comment_id": 96785567, "body": "Thanks so much for your response!  This looks like an interesting option for solving the problem."}], "tags": [], "owner": {"reputation": 83, "user_id": 9824866, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "NhutLe", "link": "https://stackoverflow.com/users/9824866/nhutle"}, "is_accepted": false, "score": 0, "last_activity_date": 1551846252, "last_edit_date": 1551846252, "creation_date": 1551845653, "answer_id": 55015465, "question_id": 55015248, "link": "https://stackoverflow.com/questions/55015248/problems-writing-to-a-nested-array-of-objects-in-angular/55015465#55015465", "title": "Problems writing to a nested array of objects in Angular", "body": "<p>This is a solution with array is type any</p>\n\n<blockquote>\n  <p><a href=\"https://stackblitz.com/edit/angular-shotgr?file=src/app/app.component.ts\" rel=\"nofollow noreferrer\">https://stackblitz.com/edit/angular-shotgr?file=src/app/app.component.ts</a></p>\n</blockquote>\n\n<p>Hope that it's help for you</p>\n\n<p><a href=\"https://i.stack.imgur.com/LglWi.png\" rel=\"nofollow noreferrer\">Result</a></p>\n"}, {"comments": [{"owner": {"reputation": 73, "user_id": 11123615, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bf05d806c692e42dc278a0a5250f3551?s=128&d=identicon&r=PG&f=1", "display_name": "Artemis J", "link": "https://stackoverflow.com/users/11123615/artemis-j"}, "edited": false, "score": 0, "creation_date": 1551848035, "post_id": 55015478, "comment_id": 96785590, "body": "Thank you for taking the time to provide a response!  I am familiar with the concept of interfaces but never actually used them (properly) before so this looks like a great opportunity to do so!"}, {"owner": {"reputation": 26417, "user_id": 10959940, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cfe2af4009a4fe0acb46a707c8d5eab3?s=128&d=identicon&r=PG&f=1", "display_name": "wentjun", "link": "https://stackoverflow.com/users/10959940/wentjun"}, "reply_to_user": {"reputation": 73, "user_id": 11123615, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bf05d806c692e42dc278a0a5250f3551?s=128&d=identicon&r=PG&f=1", "display_name": "Artemis J", "link": "https://stackoverflow.com/users/11123615/artemis-j"}, "edited": false, "score": 0, "creation_date": 1551848706, "post_id": 55015478, "comment_id": 96785787, "body": "You are welcome :) Yup! In this scenario, when you are defining data models, it is recommended to use Interface rather than Class. In addition, I created a separate interface <code>Pet</code> for your <code>pet</code> property. It is much cleaner than explicitly defining it on your class/interface!"}], "tags": [], "owner": {"reputation": 26417, "user_id": 10959940, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cfe2af4009a4fe0acb46a707c8d5eab3?s=128&d=identicon&r=PG&f=1", "display_name": "wentjun", "link": "https://stackoverflow.com/users/10959940/wentjun"}, "is_accepted": true, "score": 1, "last_activity_date": 1551845747, "creation_date": 1551845747, "answer_id": 55015478, "question_id": 55015248, "link": "https://stackoverflow.com/questions/55015248/problems-writing-to-a-nested-array-of-objects-in-angular/55015478#55015478", "title": "Problems writing to a nested array of objects in Angular", "body": "<p>there are some fundamental issues with your code. </p>\n\n<p>I believe you want to make use of <code>DataModel</code> as for structural typing. Therefore, if you wanna define a class/interface for type checking, your data.model.ts should be defined this way: </p>\n\n<pre><code>export interface DataModel {\n  firstname: string;\n  lastname: string;\n  pet: Array&lt;Pet&gt;;\n}\n\ninterface Pet {\n  petname: string;\n  pettype: string;\n  petalive: boolean;\n}\n</code></pre>\n\n<p>On your component.ts, you will need to initialise and define your <code>testModel</code> (of type <code>DataModel</code>). On your createArray() method, you can simply assign the properties this way:</p>\n\n<pre><code>testModel: DataModel = {\n    firstname: undefined,\n    lastname: undefined,\n    pet: []\n  };\n\ncreateArray(){\n  this.testModel.firstname = 'Jack';\n  this.testModel.lastname = 'Brown';\n  this.testModel.pet.push({\n    petalive: true,\n    petname: 'Whiskers',\n    pettype: 'Cat'\n  });\n  console.log(this.testModel);  \n  }\n</code></pre>\n"}], "owner": {"reputation": 73, "user_id": 11123615, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bf05d806c692e42dc278a0a5250f3551?s=128&d=identicon&r=PG&f=1", "display_name": "Artemis J", "link": "https://stackoverflow.com/users/11123615/artemis-j"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 153, "favorite_count": 0, "accepted_answer_id": 55015478, "answer_count": 2, "score": 0, "last_activity_date": 1551848382, "creation_date": 1551844154, "last_edit_date": 1551848382, "question_id": 55015248, "link": "https://stackoverflow.com/questions/55015248/problems-writing-to-a-nested-array-of-objects-in-angular", "title": "Problems writing to a nested array of objects in Angular", "body": "<p>I have a model component that defines the data structure that I'm using.  I then use that model in another component and try to write data to it.  I'm having challenges writing to the 'nested' object array in my data structure.  I'm pretty sure it's because I haven't declared the nested array correctly (instantiated it) but can't quite figure out how to do it properly.  No question it's a limitation in my knowledge but after thrashing on it for several hours I figured I'd reach out for help.  Any guidance would be appreciated.</p>\n\n<p>Simplified stackblitz below...\n<a href=\"https://stackblitz.com/edit/angular-bgk5fo\" rel=\"nofollow noreferrer\">https://stackblitz.com/edit/angular-bgk5fo</a></p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>export class Adventure {\r\n  id ? : string;\r\n  companylogo: string;\r\n  guideavatar: string;\r\n  quizavatar: string;\r\n  active: boolean;\r\n  treasureimage: string;\r\n  poi: [{\r\n    completedflag: boolean;\r\n    firsthint: string;\r\n    secondhint: string;\r\n    thirdhint: string;\r\n    quizanswer: string;\r\n    quizfail: string;\r\n    quizoptionone: string;\r\n    quizoptiontwo: string;\r\n    quizoptionthree: string;\r\n    quizquestion: string;\r\n    quizsuccess: string;\r\n    sortorder: number;\r\n    target: string;\r\n  }];\r\n}\r\n\r\nimport {\r\n  Component\r\n} from '@angular/core';\r\nimport {\r\n  DataModel\r\n} from './data.model'\r\n\r\n@Component({\r\n  selector: 'my-app',\r\n  templateUrl: './app.component.html',\r\n  styleUrls: ['./app.component.css']\r\n})\r\nexport class AppComponent {\r\n  name = 'Angular';\r\n\r\n  testModel = new DataModel();\r\n\r\n  createArray() {\r\n    this.testModel.firstname = 'Jack';\r\n    this.testModel.lastname = 'Brown';\r\n    this.testModel.pet[0].petalive = true;\r\n    this.testModel.pet[0].petname = 'Whiskers';\r\n    this.testModel.pet[0].pettype = 'Cat'\r\n  }\r\n\r\n\r\n\r\n\r\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": ["javascript", "typescript", "unit-testing", "jestjs"], "answers": [{"comments": [{"owner": {"reputation": 10009, "user_id": 1041641, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/FIz0K.png?s=128&g=1", "display_name": "TmTron", "link": "https://stackoverflow.com/users/1041641/tmtron"}, "edited": false, "score": 0, "creation_date": 1552029992, "post_id": 55015726, "comment_id": 96865519, "body": "And you need this to make <code>instanceof</code> work with subclasses of <code>Error</code>: see <a href=\"https://github.com/Microsoft/TypeScript/issues/13965\" rel=\"nofollow noreferrer\">#13965</a>"}, {"owner": {"reputation": 29171, "user_id": 1684269, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/5adbf1d60d27b9ee3aeee069591ba88b?s=128&d=identicon&r=PG", "display_name": "Ole", "link": "https://stackoverflow.com/users/1684269/ole"}, "reply_to_user": {"reputation": 10009, "user_id": 1041641, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/FIz0K.png?s=128&g=1", "display_name": "TmTron", "link": "https://stackoverflow.com/users/1041641/tmtron"}, "edited": false, "score": 0, "creation_date": 1552056699, "post_id": 55015726, "comment_id": 96879008, "body": "Excellent point ... Is there some final recommendation of this.  I read through the link, but it seems it was a bit up in the air.  Would be nice to be able to use <code>instanceof</code>.  Jest is able to check that the exception thrown is a <code>IsError</code>.  Do you know what type of check it uses?"}, {"owner": {"reputation": 29171, "user_id": 1684269, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/5adbf1d60d27b9ee3aeee069591ba88b?s=128&d=identicon&r=PG", "display_name": "Ole", "link": "https://stackoverflow.com/users/1684269/ole"}, "reply_to_user": {"reputation": 10009, "user_id": 1041641, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/FIz0K.png?s=128&g=1", "display_name": "TmTron", "link": "https://stackoverflow.com/users/1041641/tmtron"}, "edited": false, "score": 0, "creation_date": 1552057080, "post_id": 55015726, "comment_id": 96879230, "body": "Asked follow up question here: <a href=\"https://stackoverflow.com/questions/55065742/implementing-instanceof-checks-for-custom-typescript-errors\" title=\"implementing instanceof checks for custom typescript errors\">stackoverflow.com/questions/55065742/&hellip;</a>"}], "tags": [], "owner": {"reputation": 29171, "user_id": 1684269, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/5adbf1d60d27b9ee3aeee069591ba88b?s=128&d=identicon&r=PG", "display_name": "Ole", "link": "https://stackoverflow.com/users/1684269/ole"}, "is_accepted": true, "score": 0, "last_activity_date": 1551847465, "creation_date": 1551847465, "answer_id": 55015726, "question_id": 55015133, "link": "https://stackoverflow.com/questions/55015133/testing-for-typed-exceptions-with-jest/55015726#55015726", "title": "Testing for typed exceptions with Jest", "body": "<p>I had to add this to the constructor of the exception:</p>\n\n<pre><code>  super(message);\n  Object.setPrototypeOf(this, IsError.prototype);      \n</code></pre>\n"}], "owner": {"reputation": 29171, "user_id": 1684269, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/5adbf1d60d27b9ee3aeee069591ba88b?s=128&d=identicon&r=PG", "display_name": "Ole", "link": "https://stackoverflow.com/users/1684269/ole"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 70, "favorite_count": 0, "accepted_answer_id": 55015726, "answer_count": 1, "score": 0, "last_activity_date": 1551877883, "creation_date": 1551843439, "last_edit_date": 1551877883, "question_id": 55015133, "link": "https://stackoverflow.com/questions/55015133/testing-for-typed-exceptions-with-jest", "title": "Testing for typed exceptions with Jest", "body": "<p><a href=\"https://stackoverflow.com/questions/46042613/how-to-test-type-of-thrown-exception-in-jest\">Attempting to utilize the approach outlined in this SO post</a>.</p>\n\n<p>I have the following typed exception:</p>\n\n<pre><code>    /**\n     * @param message The error message\n     * @param value The value that violates the constraint\n     * @param field The name of the field\n     * @param type The expected type for the field\n     * @param code The application or module code for the error\n     */\n    export class IsError extends Error {\n      constructor(\n        public message:string,\n        public value: any, \n        public field:string, \n        public type: string,\n        public code?:string) {\n          super(message);\n          this.name = 'IsError';\n      }\n    }\n</code></pre>\n\n<p>This function throws it:</p>\n\n<pre><code> export function isBooleanError(value: any, field:string, code?: string): void {\n      if (!isBoolean(value)) {\n        const message:string = `The field ${field} should be a boolean valued.  It is set to ${value}. `;\n        throw new IsError(message, value, field, BOOLEAN_TYPE, code);\n      }\n    }\n</code></pre>\n\n<p>This works:</p>\n\n<pre><code>expect(()=&gt;{isBooleanError({}, '')}).toThrow(Error);\n</code></pre>\n\n<p>But this does not:</p>\n\n<pre><code>expect(()=&gt;{isBooleanError({}, '')}).toThrow(IsError);\n</code></pre>\n\n<p>Anyone know why the latter does not work? Jest logs:</p>\n\n<pre><code>expect(received).toThrow(expected)\n\nExpected name: \"IsError\"\nReceived name: \"Error\"\n</code></pre>\n"}, {"tags": ["typescript", "google-cloud-firestore", "google-cloud-functions"], "answers": [{"tags": [], "owner": {"reputation": 233128, "user_id": 807126, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xpNqK.jpg?s=128&g=1", "display_name": "Doug Stevenson", "link": "https://stackoverflow.com/users/807126/doug-stevenson"}, "is_accepted": true, "score": 1, "last_activity_date": 1551843824, "creation_date": 1551843824, "answer_id": 55015193, "question_id": 55015103, "link": "https://stackoverflow.com/questions/55015103/firebase-cloud-transaction-triggers-error/55015193#55015193", "title": "Firebase cloud transaction triggers error", "body": "<p><a href=\"https://cloud.google.com/nodejs/docs/reference/firestore/0.20.x/Firestore#runTransaction\" rel=\"nofollow noreferrer\"><code>runTransaction</code></a> returns a promise.  You need to <code>await</code> it.</p>\n\n<pre><code>    await admin.firestore().runTransaction(...);\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 415, "user_id": 8217812, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-vUo_dVKPgdo/AAAAAAAAAAI/AAAAAAAAB_k/vimUAsMNzh0/photo.jpg?sz=128", "display_name": "Nery Ortez", "link": "https://stackoverflow.com/users/8217812/nery-ortez"}, "is_accepted": false, "score": 0, "last_activity_date": 1551844497, "creation_date": 1551844497, "answer_id": 55015300, "question_id": 55015103, "link": "https://stackoverflow.com/questions/55015103/firebase-cloud-transaction-triggers-error/55015300#55015300", "title": "Firebase cloud transaction triggers error", "body": "<p>The <code>runTransaction</code> method returns a <code>Promise</code>.\nAnd as the <a href=\"https://firebase.googleblog.com/2017/06/keep-your-promises-when-using-cloud.html\" rel=\"nofollow noreferrer\">this blog post</a> says: You have to return that <code>Promise</code>.</p>\n\n<p>And these is important:</p>\n\n<blockquote>\n  <p>...if you want a function to stay alive during async work, you can do this by returning a promise from the function (except for HTTP/S triggers, which require a response sent to the client).</p>\n</blockquote>\n\n<p>Or in other words: If you don't return that <code>Promise</code>, your function could finish without completing the <code>transaction</code>.</p>\n\n<pre><code>import * as functions from 'firebase-functions';\nimport * as admin from 'firebase-admin';\nadmin.initializeApp();\n\nexports.addShard = functions.firestore\n    .document(`likes/{docID}`)\n    .onCreate(async (snap, context) =&gt; {\n        const postID: string = snap.data().postID;\n        const randNum: number = (Math.floor(Math.random()*3+1)); \n        const postRef = admin.firestore().doc(`post/${postID}/count_shards/${randNum}`);\n\n        return admin.firestore().runTransaction(async transaction =&gt; {\n            const postShard = (await transaction.get(postRef)).data();\n            postShard.count += 1;\n            return transaction.update(postRef, postShard);\n        });\n\n    });\n</code></pre>\n"}], "owner": {"reputation": 741, "user_id": 9736475, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ba4f19828f6bfbcac03ad4e8420583a?s=128&d=identicon&r=PG&f=1", "display_name": "PJQuakJag", "link": "https://stackoverflow.com/users/9736475/pjquakjag"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 73, "favorite_count": 0, "accepted_answer_id": 55015193, "answer_count": 2, "score": 0, "last_activity_date": 1551844497, "creation_date": 1551843203, "last_edit_date": 1551843932, "question_id": 55015103, "link": "https://stackoverflow.com/questions/55015103/firebase-cloud-transaction-triggers-error", "title": "Firebase cloud transaction triggers error", "body": "<p>I'm trying to create a distributed counter via a Firestore transaction. I have a collection of Posts each with a subcollection of \"count_shards\". These each have three documents (1, 2, 3) that contain a \"count\" field.</p>\n\n<p>When I create a \"like\" document for a post, I want to choose a random document and increment it by 1. I have the following Typescript code:</p>\n\n<pre><code>import * as functions from 'firebase-functions';\nimport * as admin from 'firebase-admin';\nadmin.initializeApp();\n\nexports.addShard = functions.firestore\n    .document(`likes/{docID}`)\n    .onCreate(async (snap, context) =&gt; {\n        const postID: string = snap.data().postID;\n        const randNum: number = (Math.floor(Math.random()*3+1)); \n        const postRef = admin.firestore().doc(`post/${postID}/count_shards/${randNum}`);\n\n        admin.firestore().runTransaction(async transaction =&gt; {\n            const postShard = (await transaction.get(postRef)).data();\n            postShard.count += 1;\n            return transaction.update(postRef, postShard);\n        });\n\n    });\n</code></pre>\n\n<p>I get the following error messages:</p>\n\n<p>\"ERROR: /Users//firecast/functions/src/index.ts[13, 9]: Promises must be handled appropriately\"</p>\n\n<p>\"functions@ lint: <code>tslint --project tsconfig.json</code>\"</p>\n\n<p>Anyone have any idea what I am doing wrong here?</p>\n"}, {"tags": ["typescript"], "answers": [{"comments": [{"owner": {"reputation": 11693, "user_id": 1252647, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/7cXay.jpg?s=128&g=1", "display_name": "Noel Llevares", "link": "https://stackoverflow.com/users/1252647/noel-llevares"}, "edited": false, "score": 0, "creation_date": 1551840383, "post_id": 55014728, "comment_id": 96783837, "body": "Yeah from a consumer&#39;s perspective, they are the same thing. You&#39;ll use them the same say. As a library developer, isn&#39;t there a more concrete way to know which is better knowing that at runtime those different ways actually do the same thing differently?"}, {"owner": {"reputation": 204459, "user_id": 390330, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/1400be56ff17549b926dd3260da4a494?s=128&d=identicon&r=PG", "display_name": "basarat", "link": "https://stackoverflow.com/users/390330/basarat"}, "reply_to_user": {"reputation": 11693, "user_id": 1252647, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/7cXay.jpg?s=128&g=1", "display_name": "Noel Llevares", "link": "https://stackoverflow.com/users/1252647/noel-llevares"}, "edited": false, "score": 0, "creation_date": 1551840461, "post_id": 55014728, "comment_id": 96783846, "body": "The simple const version will perform best as its simpler on the runtime as well."}, {"owner": {"reputation": 204459, "user_id": 390330, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/1400be56ff17549b926dd3260da4a494?s=128&d=identicon&r=PG", "display_name": "basarat", "link": "https://stackoverflow.com/users/390330/basarat"}, "reply_to_user": {"reputation": 11693, "user_id": 1252647, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/7cXay.jpg?s=128&g=1", "display_name": "Noel Llevares", "link": "https://stackoverflow.com/users/1252647/noel-llevares"}, "edited": false, "score": 0, "creation_date": 1551840508, "post_id": 55014728, "comment_id": 96783858, "body": "<code>As a library developer, isn&#39;t there a more concrete way to know which is better knowing</code> No. It&#39;s experience based. Always side with simplicity \ud83c\udf39"}], "tags": [], "owner": {"reputation": 204459, "user_id": 390330, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/1400be56ff17549b926dd3260da4a494?s=128&d=identicon&r=PG", "display_name": "basarat", "link": "https://stackoverflow.com/users/390330/basarat"}, "is_accepted": true, "score": 1, "last_activity_date": 1551840186, "creation_date": 1551840186, "answer_id": 55014728, "question_id": 55014715, "link": "https://stackoverflow.com/questions/55014715/whats-the-use-case-typescript-class-with-only-static-members-vs-object-with-pr/55014728#55014728", "title": "What&#39;s the use case? Typescript class with only static members vs object with properties", "body": "<blockquote>\n  <p>Assuming Utils is never meant to be instantiated (it's just going to be a collection of methods), is there a reason to use one or the other?</p>\n</blockquote>\n\n<p>Its different ways of creating the same thing. There are others as well. Since its not meant to be instantiated, I would do the simple <code>const Utils</code> version. </p>\n\n<h1>Other ways</h1>\n\n<p>e.g. <code>namespace</code></p>\n\n<pre><code>namespace Utils {\n    export function doSomething() {\n        return 'something'\n    }\n\n    export function doAnother() {\n        return 'another'\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 11693, "user_id": 1252647, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/7cXay.jpg?s=128&g=1", "display_name": "Noel Llevares", "link": "https://stackoverflow.com/users/1252647/noel-llevares"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 22, "favorite_count": 0, "accepted_answer_id": 55014728, "answer_count": 1, "score": 0, "last_activity_date": 1551840186, "creation_date": 1551840101, "question_id": 55014715, "link": "https://stackoverflow.com/questions/55014715/whats-the-use-case-typescript-class-with-only-static-members-vs-object-with-pr", "title": "What&#39;s the use case? Typescript class with only static members vs object with properties", "body": "<p>What's the benefit of this...</p>\n\n<pre><code>class Utils {\n    static doSomething() {\n        return 'something'\n    }\n\n    static doAnother() {\n        return 'another'\n    }\n}\n</code></pre>\n\n<p>versus this...</p>\n\n<pre><code>const Utils {\n    doSomething: () =&gt; 'something',\n    doAnother: () =&gt; 'another',\n}\n</code></pre>\n\n<p>Assuming <code>Utils</code> is never meant to be instantiated (it's just going to be a collection of methods), is there a reason to use one or the other?</p>\n"}, {"tags": ["javascript", "node.js", "typescript", "visual-studio-code", "intellisense"], "comments": [{"owner": {"reputation": 4010, "user_id": 2825551, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/vCq8n.jpg?s=128&g=1", "display_name": "Jhecht", "link": "https://stackoverflow.com/users/2825551/jhecht"}, "edited": false, "score": 0, "creation_date": 1551837625, "post_id": 55014358, "comment_id": 96783172, "body": "why not write the application entirely in typescript and then use something like TS-Node to build whatever Javascript files afterwards?"}, {"owner": {"reputation": 23, "user_id": 11157132, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-hTzVmtZvD7c/AAAAAAAAAAI/AAAAAAAAAqk/Z0fgxBXD50Q/photo.jpg?sz=128", "display_name": "Kevin Fischer", "link": "https://stackoverflow.com/users/11157132/kevin-fischer"}, "reply_to_user": {"reputation": 4010, "user_id": 2825551, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/vCq8n.jpg?s=128&g=1", "display_name": "Jhecht", "link": "https://stackoverflow.com/users/2825551/jhecht"}, "edited": false, "score": 1, "creation_date": 1551838183, "post_id": 55014358, "comment_id": 96783320, "body": "I barley know a thing about TypeScript. I would prefer to stay with JavaScript."}], "answers": [{"comments": [{"owner": {"reputation": 23, "user_id": 11157132, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-hTzVmtZvD7c/AAAAAAAAAAI/AAAAAAAAAqk/Z0fgxBXD50Q/photo.jpg?sz=128", "display_name": "Kevin Fischer", "link": "https://stackoverflow.com/users/11157132/kevin-fischer"}, "edited": false, "score": 0, "creation_date": 1551869374, "post_id": 55014479, "comment_id": 96795906, "body": "Thank you, but like this it only gives me access to function defined in the namespace. However it does work this: @param {import(&#39;coollib&#39;).CoolLibType}"}, {"owner": {"reputation": 14263, "user_id": 10325032, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UwH88.jpg?s=128&g=1", "display_name": "Karol Majewski", "link": "https://stackoverflow.com/users/10325032/karol-majewski"}, "reply_to_user": {"reputation": 23, "user_id": 11157132, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-hTzVmtZvD7c/AAAAAAAAAAI/AAAAAAAAAqk/Z0fgxBXD50Q/photo.jpg?sz=128", "display_name": "Kevin Fischer", "link": "https://stackoverflow.com/users/11157132/kevin-fischer"}, "edited": false, "score": 0, "creation_date": 1551882546, "post_id": 55014479, "comment_id": 96803698, "body": "There was no way for me to know how your <code>coollib</code> is structured. ;-) I\u02bcm glad you have found a way."}], "tags": [], "owner": {"reputation": 14263, "user_id": 10325032, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UwH88.jpg?s=128&g=1", "display_name": "Karol Majewski", "link": "https://stackoverflow.com/users/10325032/karol-majewski"}, "is_accepted": true, "score": 0, "last_activity_date": 1551838314, "creation_date": 1551838314, "answer_id": 55014479, "question_id": 55014358, "link": "https://stackoverflow.com/questions/55014358/visual-studio-code-using-javascript-with-a-typescript-file-as-reference-for-inte/55014479#55014479", "title": "Visual Studio Code using JavaScript with a TypeScript File as Reference for Intellisense", "body": "<p>Use what's called an <em>import type</em>.</p>\n\n<pre><code>/**\n * @param {typeof import('coollib')} obj\n */\nfunction foobar(obj) {\n  obj.lang.charAt(0); //with cool IntelliSense\n}\n</code></pre>\n\n<p>Read more about import types in <a href=\"https://www.typescriptlang.org/docs/handbook/release-notes/typescript-2-9.html\" rel=\"nofollow noreferrer\">TypeScript 2.9 release notes</a>.</p>\n"}], "owner": {"reputation": 23, "user_id": 11157132, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-hTzVmtZvD7c/AAAAAAAAAAI/AAAAAAAAAqk/Z0fgxBXD50Q/photo.jpg?sz=128", "display_name": "Kevin Fischer", "link": "https://stackoverflow.com/users/11157132/kevin-fischer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 142, "favorite_count": 0, "accepted_answer_id": 55014479, "answer_count": 1, "score": 0, "last_activity_date": 1551842516, "creation_date": 1551837391, "last_edit_date": 1551842516, "question_id": 55014358, "link": "https://stackoverflow.com/questions/55014358/visual-studio-code-using-javascript-with-a-typescript-file-as-reference-for-inte", "title": "Visual Studio Code using JavaScript with a TypeScript File as Reference for Intellisense", "body": "<p>I am currently using VisualStudioCode to write a nodejs app and I'm using the doc comments to link the parameters of functions to classes so the IntelliSense can kick in, but I encountered some problems when I want to use classes/types of modules.</p>\n\n<p>How I currently handle things:</p>\n\n<pre><code>class Foo{\n    constructor(){\n      this.bar = \"value\"\n    }\n}\n\n/**\n * @param {Foo} parameter \n */\nfunction foobar(parameter){\n  parameter.bar.charAt(0); //parameter.bar now with IntelliSense\n}\n</code></pre>\n\n<p>In <code>foobar</code> I can now see all available attributes/functions I can call on <code>bar</code>.</p>\n\n<p>Now, if somewhere in a node-module a TypeScript file:</p>\n\n<pre><code>declare module 'coollib' {\n  namespace lib {\n    type CoolLibType = {\n      begin?: string | number | Date;\n      liveBuffer?: number;\n      requestOptions?: {};\n      highWaterMark?: number;\n      lang?: string;\n    }\n  }\n  export = lib;\n}\n</code></pre>\n\n<p>How can I reference this? I would like to do something like this in my JavaScript file:</p>\n\n<pre><code>const CoolLibType = require('coollib')\n/**\n * @param {CoolLibType} obj \n */\nfunction foobar(obj){\n  obj.lang.charAt(0); //with cool IntelliSense\n}\n</code></pre>\n\n<p>But it obviously doesn't work like this.</p>\n"}, {"tags": ["javascript", "reactjs", "typescript", "jsx", "object-literal"], "answers": [{"comments": [{"owner": {"reputation": 3399, "user_id": 8936320, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/vF3VX.jpg?s=128&g=1", "display_name": "Ishan Patel", "link": "https://stackoverflow.com/users/8936320/ishan-patel"}, "edited": false, "score": 1, "creation_date": 1551837953, "post_id": 55014391, "comment_id": 96783251, "body": "Ah it was only missing last bit! Thank you @Karol"}], "tags": [], "owner": {"reputation": 14263, "user_id": 10325032, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UwH88.jpg?s=128&g=1", "display_name": "Karol Majewski", "link": "https://stackoverflow.com/users/10325032/karol-majewski"}, "is_accepted": true, "score": 4, "last_activity_date": 1551838025, "last_edit_date": 1551838025, "creation_date": 1551837606, "answer_id": 55014391, "question_id": 55014282, "link": "https://stackoverflow.com/questions/55014282/how-to-define-typescript-type-for-object-wrapper-that-has-string-as-a-key-reac/55014391#55014391", "title": "How to define TypeScript type for object wrapper that has string as a key &amp; React SFC as a value?", "body": "<p><strong>Solution</strong></p>\n\n<p>Make it explicit that <code>MapKindToComponentT</code> accepts function components of any kind.</p>\n\n<pre><code>type MapKindToComponentT = {\n  [key: string]: React.SFC&lt;any&gt;\n}\n</code></pre>\n\n<p><strong>Explanation</strong></p>\n\n<p>The default type parameter (the one that describes <code>Props</code>) for <code>React.SFC</code> defined in <code>@types/react</code> is <code>{}</code>.</p>\n\n<pre><code>type SFC&lt;P = {}&gt; = FunctionComponent&lt;P&gt;;\n</code></pre>\n\n<p>If a component expects some more precise type as its props, for example <code>{ foo: string }</code>:</p>\n\n<pre><code>declare const SomeComponent: React.SFC&lt;{ foo: string }&gt;;\n</code></pre>\n\n<p>such a component will not be assignable to <code>React.SFC</code>.</p>\n\n<pre><code>const MyComponent: React.SFC = SomeComponent;      // \u26d4\ufe0f Compile-time error\nconst MyComponent: React.SFC&lt;any&gt; = SomeComponent; // \u2705 OK\n</code></pre>\n"}], "owner": {"reputation": 3399, "user_id": 8936320, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/vF3VX.jpg?s=128&g=1", "display_name": "Ishan Patel", "link": "https://stackoverflow.com/users/8936320/ishan-patel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3887, "favorite_count": 0, "accepted_answer_id": 55014391, "answer_count": 1, "score": 0, "last_activity_date": 1551838025, "creation_date": 1551836871, "last_edit_date": 1551837751, "question_id": 55014282, "link": "https://stackoverflow.com/questions/55014282/how-to-define-typescript-type-for-object-wrapper-that-has-string-as-a-key-reac", "title": "How to define TypeScript type for object wrapper that has string as a key &amp; React SFC as a value?", "body": "<p>Following is the Form component</p>\n\n<pre><code>import React from 'react';\nimport { Elements } from '@helpers/ImportProxy';\nimport { mockApi } from '@constants/api';\n\ntype Props = {\n  // formValues: any\n};\n\ntype MapKindToComponentT = {\n  [key: string]: React.SFC\n}\n\n/** @component */\nexport const Form: React.SFC&lt;Props&gt; = __props =&gt; {\n  const renderQuestions = () =&gt;\n    mockApi.map(\n      (question, index): React.ReactElement | undefined =&gt; {\n        const mapKindToComponent: MapKindToComponentT = {\n            radio:        Elements.RadioElement,\n            text:         Elements.InputElement,\n            email:        Elements.InputElement,\n            url:          Elements.InputElement,\n            checkbox:     Elements.CheckBoxElement,\n            dropdown:     Elements.SelectElement,\n            textarea:     Elements.TextareaElement,\n        };\n        if(mapKindToComponent[question.kind]) {\n          const Element = mapKindToComponent[question.kind];\n          return &lt;Element key={index} question={question} /&gt;;\n        }\n      }\n    );\n\n  return (\n    &lt;form&gt;\n      {renderQuestions()}\n      &lt;div&gt;\n        &lt;button type=\"submit\"&gt;Submit&lt;/button&gt;\n      &lt;/div&gt;\n    &lt;/form&gt;\n  );\n};\n\nexport default Form;\n</code></pre>\n\n<p>Value of each key of <code>mapKindToComponent</code> is React functional component. </p>\n\n<p>Following is the error I get for it's currently defined type. Works fine with <code>any</code>.</p>\n\n<blockquote>\n  <p>Type error: Type 'FunctionComponent' is not assignable to type\n  'FunctionComponent&lt;{}>'.   Types of property 'propTypes' are\n  incompatible.\n      Type 'WeakValidationMap | undefined' is not assignable to type 'WeakValidationMap&lt;{}> | undefined'.\n        Type 'WeakValidationMap' is not assignable to type 'WeakValidationMap&lt;{}>'.\n          Type '{}' is not assignable to type 'Props'.  TS2322</p>\n</blockquote>\n"}, {"tags": ["javascript", "angular", "typescript", "ionic-framework"], "answers": [{"comments": [{"owner": {"reputation": 249, "user_id": 7197551, "user_type": "registered", "accept_rate": 57, "profile_image": "https://graph.facebook.com/1817824118489192/picture?type=large", "display_name": "Tiago Silveira", "link": "https://stackoverflow.com/users/7197551/tiago-silveira"}, "edited": false, "score": 0, "creation_date": 1551877516, "post_id": 55016922, "comment_id": 96800655, "body": "I Tried it, but it just works when a Imported the page inside the page in the app.module.ts"}], "tags": [], "owner": {"reputation": 905, "user_id": 2941150, "user_type": "registered", "profile_image": "https://graph.facebook.com/100000204192981/picture?type=large", "display_name": "Kuldeep Bhimte", "link": "https://stackoverflow.com/users/2941150/kuldeep-bhimte"}, "is_accepted": false, "score": 5, "last_activity_date": 1551853823, "creation_date": 1551853823, "answer_id": 55016922, "question_id": 55014212, "link": "https://stackoverflow.com/questions/55014212/no-component-factory-found-for-opening-a-modal/55016922#55016922", "title": "No component factory found for... Opening a Modal", "body": "<p>For opening a <code>component</code> in a modal, you have to add the <code>component</code> in the <code>app.module.js</code> as a <code>entryComponent</code>.</p>\n\n<p>Your <code>error</code> message shows that.</p>\n"}, {"tags": [], "owner": {"reputation": 232, "user_id": 10627156, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a0ce344adc527541db2989f55f3baa10?s=128&d=identicon&r=PG&f=1", "display_name": "Eeshwar Ankathi", "link": "https://stackoverflow.com/users/10627156/eeshwar-ankathi"}, "is_accepted": false, "score": 0, "last_activity_date": 1551871229, "creation_date": 1551871229, "answer_id": 55021852, "question_id": 55014212, "link": "https://stackoverflow.com/questions/55014212/no-component-factory-found-for-opening-a-modal/55021852#55021852", "title": "No component factory found for... Opening a Modal", "body": "<p>You have to edit the <code>NgModule</code> in your <code>tarefas.module.ts</code>.\nPlease add the rest of as needed.</p>\n\n<pre><code>@NgModule({\n    imports: [\n        MatDialogModule\n    ],\n    declarations: [\n        ComponentName\n    ],\n    providers: [\n        { provide: MAT_DIALOG_DEFAULT_OPTIONS, useValue: { hasBackdrop: true, closeOnNavigation: true } }\n    ],\n    entryComponents: [\n        ComponentName\n    ],\n    exports: [\n        ComponentName\n    ],\n})\n\nexport class Module {\n\n}\n</code></pre>\n"}], "owner": {"reputation": 249, "user_id": 7197551, "user_type": "registered", "accept_rate": 57, "profile_image": "https://graph.facebook.com/1817824118489192/picture?type=large", "display_name": "Tiago Silveira", "link": "https://stackoverflow.com/users/7197551/tiago-silveira"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2598, "favorite_count": 0, "answer_count": 2, "score": 5, "last_activity_date": 1551871229, "creation_date": 1551836372, "question_id": 55014212, "link": "https://stackoverflow.com/questions/55014212/no-component-factory-found-for-opening-a-modal", "title": "No component factory found for... Opening a Modal", "body": "<p>I have one page that should be loaded inside a modal, this page is child from other page (I think it does not matter, but...) the point is that when I try to create a modal I receive the error below</p>\n\n<pre><code>ERROR Error: Uncaught (in promise): Error: No component factory found for TarefasDetalhePage. Did you add it to @NgModule.entryComponents?\n</code></pre>\n\n<p>But, when I go to my AppModule to put that page into the entryComponents I got this error:</p>\n\n<pre><code>Component TarefasDetalhePage is not part of any NgModule or the module has not been imported into your module.\n</code></pre>\n\n<p>The call of the modal is on my HomePage.ts:</p>\n\n<pre><code>  async showModal(id){\n    const modal = await this.modalController.create({\n     component: TarefasDetalhePage,\n     componentProps:{\n       custom_id: id\n     }\n    });\n    modal.present();\n  }\n</code></pre>\n\n<p>Here's the markup:</p>\n\n<pre><code>    &lt;ion-list *ngIf=\"interna === true\" &gt;\n    &lt;ion-item (click)=\"showModal(tarefa.id)\"   routerDirection=\"forward\" detail *ngFor=\"let tarefa of tarefasInternas\" class=\"in-list item ion-focusable item-label hydrated\"&gt;\n      &lt;ion-label&gt;\n        &lt;h2&gt;#{{tarefa.numero}} - {{tarefa.descricao}}&lt;/h2&gt;\n        &lt;h3&gt;{{tarefa.inicio}} - {{tarefa.fim}}&lt;/h3&gt;\n        &lt;p&gt;{{tarefa.comentarios}}&lt;/p&gt;\n      &lt;/ion-label&gt;\n    &lt;/ion-item&gt;\n  &lt;/ion-list&gt;\n</code></pre>\n\n<p>That's my Structure:</p>\n\n<p><a href=\"https://i.stack.imgur.com/U7bXF.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/U7bXF.png\" alt=\"enter image description here\"></a></p>\n\n<p>Repo on github:\n<a href=\"https://github.com/tiagosilveiraa/PManager\" rel=\"noreferrer\">https://github.com/tiagosilveiraa/PManager</a></p>\n"}, {"tags": ["angular", "typescript", "generics"], "answers": [{"tags": [], "owner": {"reputation": 204459, "user_id": 390330, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/1400be56ff17549b926dd3260da4a494?s=128&d=identicon&r=PG", "display_name": "basarat", "link": "https://stackoverflow.com/users/390330/basarat"}, "is_accepted": false, "score": 0, "last_activity_date": 1551835905, "creation_date": 1551835905, "answer_id": 55014160, "question_id": 55014108, "link": "https://stackoverflow.com/questions/55014108/how-do-you-get-the-properties-of-a-generic-type-in-typescript/55014160#55014160", "title": "How do you get the properties of a generic type in Typescript", "body": "<blockquote>\n  <p>How can I get the properties of the class whose type is being used?</p>\n</blockquote>\n\n<p>The types exist only at compile time and are erased at build time when the JavaScript is generated. So you should not rely on smart runtime type information from instances of generics.</p>\n\n<h1>Suggestion</h1>\n\n<p>Think in terms of Data instead of Types. E.g. take rows as <code>string[][]</code> (2d array of rows / columns) and leave it up to the classes themselves to parse their data into the required 2d array.</p>\n"}], "owner": {"reputation": 1526, "user_id": 6146736, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/101a5d65b1317b9423c370cc7bc43c01?s=128&d=identicon&r=PG&f=1", "display_name": "LanceM", "link": "https://stackoverflow.com/users/6146736/lancem"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 643, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1551835905, "creation_date": 1551835534, "question_id": 55014108, "link": "https://stackoverflow.com/questions/55014108/how-do-you-get-the-properties-of-a-generic-type-in-typescript", "title": "How do you get the properties of a generic type in Typescript", "body": "<p>I've created a base class in Typescript that has a generic type and logic to fill a data table.  This class will be extended by Angular components who will pass various classes.  I would like to derive the properties of the generic type so I can define the column headers dynamically.  How can I get the properties of the class whose type is being used?  Please help.</p>\n\n<p>Below is the bare bones of how I was trying to do it.  I was trying to fill displayedColumns with the properties of the Dog or Cat class dynamically:</p>\n\n<pre><code>export class MyBaseClass&lt;T&gt;\n{\n    public displayedColumns: string[] = [];\n\n     constructor()\n    {\n       let dataItem: T = {} as T;\n       Object.keys(dataItem).forEach((key: string) =&gt; this.displayedColumns.push(key));\n    }\n}\n\nexport class PetsComponent extends MyBaseClass&lt;Dog&gt;\n{\n\n}\n\nexport class Dog\n{\n    public Id: number = 0;\n    public Name: string = \"\";\n}\n\nexport class Cat\n{\n    public Id: number = 0;\n    public Name: string = \"\";\n}\n</code></pre>\n"}, {"tags": ["angular", "typescript", "guard", "sweetalert", "sweetalert2"], "answers": [{"tags": [], "owner": {"reputation": 46, "user_id": 5988323, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bf0b55fddc1553ce86ec24d70cd72415?s=128&d=identicon&r=PG", "display_name": "Nico Jaimico", "link": "https://stackoverflow.com/users/5988323/nico-jaimico"}, "is_accepted": true, "score": 3, "last_activity_date": 1597104746, "creation_date": 1597104746, "answer_id": 63349744, "question_id": 55013903, "link": "https://stackoverflow.com/questions/55013903/angular-candeactivate-guard-not-working-with-sweet-alert-js/63349744#63349744", "title": "Angular CanDeactivate Guard not working with Sweet Alert JS", "body": "<p>You have to <code>return</code> the <code>Swal.fire</code> function as you do with the normal <code>confirm</code></p>\n<pre><code>export class QuestionEditGuard implements CanDeactivate&lt;FeedbackQuestionEditPage&gt; {\n    canDeactivate(component: FeedbackQuestionEditPage): Observable&lt;boolean&gt; | Promise&lt;boolean&gt; | boolean {\n        if (component.questionForm.dirty) {\n            const question = component.questionForm.get('description').value || 'New Question';\n            return swal.fire({ // &lt;- return here\n                title: 'Hey there!!',\n                text: `Navigate away and lose all changes to ${question}?`,\n                type: 'warning',\n                showCancelButton: true,\n                confirmButtonText: 'OK',\n            }).then((result) =&gt; {\n                if (result.value) {  // check if OK pressed\n                    return true;\n                } else {\n                    return false;\n                }\n            })\n        } else {\n            return true;\n        }\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 2519, "user_id": 10851213, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/r7MgN.jpg?s=128&g=1", "display_name": "fingers10", "link": "https://stackoverflow.com/users/10851213/fingers10"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 239, "favorite_count": 1, "accepted_answer_id": 63349744, "answer_count": 1, "score": 1, "last_activity_date": 1597104746, "creation_date": 1551833857, "question_id": 55013903, "link": "https://stackoverflow.com/questions/55013903/angular-candeactivate-guard-not-working-with-sweet-alert-js", "title": "Angular CanDeactivate Guard not working with Sweet Alert JS", "body": "<p>I'm using <code>CanDeactivate</code> guard in Angular with <a href=\"https://sweetalert2.github.io\" rel=\"nofollow noreferrer\">Sweet Alert js</a>. But ok click is not fired. I'm new to Angular Please assist. Here is the code with sweet alert. Sweet Alert is displayed but ok click not working.</p>\n\n<pre><code>export class QuestionEditGuard implements CanDeactivate&lt;FeedbackQuestionEditPage&gt; {\n    canDeactivate(component: FeedbackQuestionEditPage): Observable&lt;boolean&gt; | Promise&lt;boolean&gt; | boolean {\n        if (component.questionForm.dirty) {\n            const question = component.questionForm.get('description').value || 'New Question';\n            swal.fire({\n                title: 'Hey there!!',\n                text: `Navigate away and lose all changes to ${question}?`,\n                type: 'warning',\n                showCancelButton: true,\n                confirmButtonText: 'OK',\n            }).then((result) =&gt; {\n                return true;\n            });\n\n            return false;\n        }\n        return true;\n    }\n}\n</code></pre>\n\n<p>But with normal <code>Confirm</code> it works.</p>\n\n<pre><code>export class QuestionEditGuard implements CanDeactivate&lt;FeedbackQuestionEditPage&gt; {\n    canDeactivate(component: FeedbackQuestionEditPage): Observable&lt;boolean&gt; | Promise&lt;boolean&gt; | boolean {\n        if (component.questionForm.dirty) {\n            const question = component.questionForm.get('description').value || 'New Question';\n            return confirm(`Navigate away and lose all changes to ${question}?`);\n        }\n        return true;\n    }\n}\n</code></pre>\n\n<p>Am I missing anything?</p>\n"}, {"tags": ["javascript", "angular", "typescript", "lodash"], "comments": [{"owner": {"reputation": 742, "user_id": 4056395, "user_type": "registered", "accept_rate": 30, "profile_image": "https://www.gravatar.com/avatar/dd905348fdc682796f2afb6f35bc8b6e?s=128&d=identicon&r=PG&f=1", "display_name": "Ted Fitzpatrick", "link": "https://stackoverflow.com/users/4056395/ted-fitzpatrick"}, "edited": false, "score": 0, "creation_date": 1551831789, "post_id": 55013617, "comment_id": 96781924, "body": "How about merge the arrays first, then use .map function with your custom comparisons to order a new array?"}, {"owner": {"reputation": 31, "user_id": 9366149, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/12554789f068d4fa451bc9149afac87f?s=128&d=identicon&r=PG&f=1", "display_name": "MoreAngularStuff", "link": "https://stackoverflow.com/users/9366149/moreangularstuff"}, "reply_to_user": {"reputation": 742, "user_id": 4056395, "user_type": "registered", "accept_rate": 30, "profile_image": "https://www.gravatar.com/avatar/dd905348fdc682796f2afb6f35bc8b6e?s=128&d=identicon&r=PG&f=1", "display_name": "Ted Fitzpatrick", "link": "https://stackoverflow.com/users/4056395/ted-fitzpatrick"}, "edited": false, "score": 0, "creation_date": 1551832022, "post_id": 55013617, "comment_id": 96781971, "body": "How? I already tried that.. and I get undefined when i try to call e.name"}, {"owner": {"reputation": 14807, "user_id": 6870228, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/13425c63b585e3bba05d30509e9e2b00?s=128&d=identicon&r=PG&f=1", "display_name": "Keith", "link": "https://stackoverflow.com/users/6870228/keith"}, "edited": false, "score": 0, "creation_date": 1551832687, "post_id": 55013617, "comment_id": 96782117, "body": "<code>looks this in JSON format:</code>   When posting questions with example data, try and make it valid, it helps others help you."}], "answers": [{"comments": [{"owner": {"reputation": 4237, "user_id": 10787900, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-4Z6j7Qhowx8/AAAAAAAAAAI/AAAAAAAAAAA/AGDgw-ighhCw1JxvK6l7ZVG0ZYElO2DSUA/mo/photo.jpg?sz=128", "display_name": "Bibberty", "link": "https://stackoverflow.com/users/10787900/bibberty"}, "edited": false, "score": 0, "creation_date": 1551833761, "post_id": 55013748, "comment_id": 96782358, "body": "Great anser Taki. Just one tweak they want _id removed. But awesome nonetheless."}, {"owner": {"reputation": 31, "user_id": 9366149, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/12554789f068d4fa451bc9149afac87f?s=128&d=identicon&r=PG&f=1", "display_name": "MoreAngularStuff", "link": "https://stackoverflow.com/users/9366149/moreangularstuff"}, "edited": false, "score": 0, "creation_date": 1551853163, "post_id": 55013748, "comment_id": 96787267, "body": "Nice. what if the desired finalArray is :   `    &quot;finalArray&quot;:   [       { &quot;name&quot;: &quot;firstSub1&quot;, &quot;date&quot;: 05 / 20 / 1998, &quot;type&quot;: sometype1, &quot;count&quot;: 1, &quot;price&quot;: 4 },         { &quot;name&quot;: &quot;firstSub2&quot;  &quot;date&quot;: 12 / 22 / 2011, &quot;type&quot;: sometype2, &quot;count&quot;: 2, &quot;price&quot;: 7 },       { &quot;name&quot;: &quot;firstSub3&quot;, &quot;date&quot;: 09 / 23 / 2004, &quot;type&quot;: sometype3, &quot;count&quot;: 3, &quot;price&quot;: 1 },   `  how would the delete function be used on the arrays that has no match"}], "tags": [], "owner": {"reputation": 15224, "user_id": 7328218, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/69d338eadf83deb112f919f4c8a6052a?s=128&d=identicon&r=PG&f=1", "display_name": "Taki", "link": "https://stackoverflow.com/users/7328218/taki"}, "is_accepted": false, "score": 1, "last_activity_date": 1551834341, "last_edit_date": 1551834341, "creation_date": 1551832515, "answer_id": 55013748, "question_id": 55013617, "link": "https://stackoverflow.com/questions/55013617/how-can-i-merge-two-array-of-objects-with-two-different-sizes-by-using-key-valu/55013748#55013748", "title": "How can I merge two array of objects with two different sizes by using key, value pair to merge them into one array?", "body": "<p>Using vanilla Js, you can get an array of unique <code>_id</code> and <code>name</code> from both arrays, loop throught it and join the object from both arrays that matches the current <code>id</code> in the iteration :</p>\n\n<p>Deduped array of <code>id</code>s and <code>name</code>s :</p>\n\n<pre><code>const ids = [...new Set([...Arr1.map(e =&gt; e._id), ...Arr2.map(e =&gt; e.name)])];\n</code></pre>\n\n<p>Loop to join elements from both arrays : </p>\n\n<pre><code>const result = ids.map(e =&gt; ({\n  ...Arr1.find(o =&gt; o._id === e),\n  ...Arr2.find(o =&gt; o.name === e)\n}))\n</code></pre>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const Arr1 = [{\"_id\": \"firstSub1\",\"count\": 1,\"price\": 4},{\"_id\": \"firstSub2\",\"count\": 2,\"price\": 7},{\"_id\": \"firstSub3\",\"count\": 3,  \"price\": 1}, {\"_id\": \"firstSub4\",\"count\": 4,\"price\": 1}];\r\n\r\nconst Arr2 = [{\"name\": \"firstSub1\",\"date\": \"05 / 20 / 1998\",\"type\": \"sometype1\"}, {\"name\": \"firstSub2\",\"date\": \"12 / 22 / 2011\",\"type\": \"sometype2\"}, {\"name\": \"firstSub3\",\"date\": \"09 / 23 / 2004\",\"type\": \"sometype3\"}, {\"name\": \"firstSub9\",\"date\": \"09 / 23 / 2004\",\"type\": \"sometype9\"}];\r\n\r\nconst ids = [...new Set([...Arr1.map(e =&gt; e._id), ...Arr2.map(e =&gt; e.name)])];\r\n\r\nconst result = ids.map(e =&gt; ({\r\n  ...Arr2.find(o =&gt; o.name === e),\r\n  ...Arr1.find(o =&gt; o._id === e)\r\n}))\r\nconsole.log(result)</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>EDIT :\nYou can tweak the returned object in <code>.map()</code> to remove properties ( like <code>_id</code>) :</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const Arr1 = [{\"_id\": \"firstSub1\",\"count\": 1,\"price\": 4},{\"_id\": \"firstSub2\",\"count\": 2,\"price\": 7},{\"_id\": \"firstSub3\",\"count\": 3,  \"price\": 1}, {\"_id\": \"firstSub4\",\"count\": 4,\"price\": 1}];\r\n\r\nconst Arr2 = [{\"name\": \"firstSub1\",\"date\": \"05 / 20 / 1998\",\"type\": \"sometype1\"}, {\"name\": \"firstSub2\",\"date\": \"12 / 22 / 2011\",\"type\": \"sometype2\"}, {\"name\": \"firstSub3\",\"date\": \"09 / 23 / 2004\",\"type\": \"sometype3\"}, {\"name\": \"firstSub9\",\"date\": \"09 / 23 / 2004\",\"type\": \"sometype9\"}];\r\n\r\nconst ids = [...new Set([...Arr1.map(e =&gt; e._id), ...Arr2.map(e =&gt; e.name)])];\r\n\r\nconst result = ids.map(e =&gt; {\r\n  const obj = {\r\n    ...Arr2.find(o =&gt; o.name === e),\r\n    ...Arr1.find(o =&gt; o._id === e)\r\n  }\r\n  \r\n  if(obj.name &amp;&amp; obj._id) delete obj._id;\r\n  \r\n  return obj;\r\n})\r\nconsole.log(result)</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": [], "owner": {"reputation": 15524, "user_id": 10366495, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pRi10.png?s=128&g=1", "display_name": "Shidersz", "link": "https://stackoverflow.com/users/10366495/shidersz"}, "is_accepted": false, "score": 0, "last_activity_date": 1551833441, "last_edit_date": 1551833441, "creation_date": 1551833135, "answer_id": 55013821, "question_id": 55013617, "link": "https://stackoverflow.com/questions/55013617/how-can-i-merge-two-array-of-objects-with-two-different-sizes-by-using-key-valu/55013821#55013821", "title": "How can I merge two array of objects with two different sizes by using key, value pair to merge them into one array?", "body": "<p>One solution is to use <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/Reduce\" rel=\"nofollow noreferrer\">Array.reduce()</a> starting with an <code>accumulator</code> equal to a copy of <code>Arr2</code> (<code>JSON.parse(JSON.stringify(Arr2))</code>) so we don't mutate the original array <code>Arr2</code>. Now, while iterating over <code>Arr1</code>, if we found a match then we add the related properties using <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/assign\" rel=\"nofollow noreferrer\">Object.assign()</a> to the associated object on the <code>accumulator</code>, otherwise we put the entire object on the <code>accumulator</code>:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const Arr1 = [\r\n    {\"_id\": \"firstSub1\", \"count\": 1, \"price\": 4},\r\n    {\"_id\": \"firstSub2\", \"count\": 2, \"price\": 7},\r\n    {\"_id\": \"firstSub3\", \"count\": 3, \"price\": 1},\r\n    {\"_id\": \"firstSub4\", \"count\": 4, \"price\": 1}\r\n];\r\n\r\nconst Arr2 = [\r\n    {\"name\": \"firstSub1\", \"date\": \"05/20/1998\", \"type\": \"sometype1\"},\r\n    {\"name\": \"firstSub2\",  \"date\": \"12/22/2011\", \"type\": \"sometype2\"},\r\n    {\"name\": \"firstSub3\", \"date\": \"09/23/2004\", \"type\": \"sometype3\"},\r\n    {\"name\": \"firstSub9\", \"date\": \"09/23/2004\", \"type\": \"sometype9\"}\r\n];\r\n\r\nlet res = Arr1.reduce((acc, {_id, count, price}) =&gt;\r\n{\r\n    let fIdx = acc.findIndex(({name}) =&gt; name === _id);\r\n\r\n    if (fIdx &gt;= 0)\r\n        Object.assign(acc[fIdx], {count, price});\r\n    else\r\n        acc.push({_id, count, price});\r\n        \r\n    return acc;\r\n}, JSON.parse(JSON.stringify(Arr2)));\r\n\r\nconsole.log(res);</code></pre>\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>.as-console {background-color:black !important; color:lime;}\r\n.as-console-wrapper {max-height:100% !important; top:0;}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": [], "owner": {"reputation": 31092, "user_id": 1715121, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/6nEEr.jpg?s=128&g=1", "display_name": "Ele", "link": "https://stackoverflow.com/users/1715121/ele"}, "is_accepted": false, "score": 0, "last_activity_date": 1551834723, "last_edit_date": 1551834723, "creation_date": 1551833207, "answer_id": 55013835, "question_id": 55013617, "link": "https://stackoverflow.com/questions/55013617/how-can-i-merge-two-array-of-objects-with-two-different-sizes-by-using-key-valu/55013835#55013835", "title": "How can I merge two array of objects with two different sizes by using key, value pair to merge them into one array?", "body": "<p>You can sort by <code>name</code> and compare the <code>i + 1</code> index name to validate if the <code>i + 1</code> index and the <code>i</code> index should be merged or if the object doesn't have a pair for merging.</p>\n\n<p>For example, sorting by <code>name</code> means that the next object/index will be the pair.</p>\n\n<pre><code>[{name: \"firstSub1\", count: 1}, {name: \"firstSub1\", date: \"dd / mm / yyyy\"}] // Pair found\n</code></pre>\n\n<p>or</p>\n\n<pre><code>[{name: \"firstSub1\", count: 1}, {name: \"firstSub2\", count: 1}] // There is no a pair\n</code></pre>\n\n<p><strong><em>This is assuming there is max one pair</em></strong></p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>let obj = {  \"Arr1\": [{      \"_id\": \"firstSub1\",      \"count\": 1,      \"price\": 4    },    {      \"_id\": \"firstSub2\",      \"count\": 2,      \"price\": 7    },    {      \"_id\": \"firstSub3\",      \"count\": 3,      \"price\": 1    },    {      \"_id\": \"firstSub4\",      \"count\": 4,      \"price\": 1    }  ],  \"Arr2\": [{      \"name\": \"firstSub1\",      \"date\": \"05 / 20 / 1998\",      \"type\": \"sometype1\"    },    {      \"name\": \"firstSub2\",      \"date\": \"12 / 22 / 2011\",      \"type\": \"sometype2\"    },    {      \"name\": \"firstSub3\",      \"date\": \"09 / 23 / 2004\",      \"type\": \"sometype3\"    },    {      \"name\": \"firstSub9\",      \"date\": \"09 / 23 / 2004\",      \"type\": \"sometype9\"    }  ]};\r\n\r\n// All objects in one array.\r\nlet merge = [...obj.Arr2, \r\n             // The map is to change _id by name, this is used later.\r\n             ...obj.Arr1.map(({_id, count, price}) =&gt; ({name: _id, count, price}))]\r\n                  .sort((a, b) =&gt; a.name.localeCompare(b.name));\r\n\r\n// This approach doesn't mutate the source objects.\r\nlet result = [];\r\nfor (let i = 0; i &lt; merge.length;) {\r\n  if (merge[i + 1] &amp;&amp; merge[i + 1].name === merge[i].name) {\r\n    result.push(Object.assign(Object.create(null), merge[i], merge[i + 1]));\r\n    i++;\r\n  } else result.push(merge[i]);\r\n  i++;\r\n}\r\n\r\nconsole.log(result);</code></pre>\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>.as-console-wrapper { max-height: 100% !important; top: 0; }</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": [], "owner": {"reputation": 143310, "user_id": 5157454, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-QPadFFLbBGA/AAAAAAAAAAI/AAAAAAAADB8/FkNCMP_vkAc/photo.jpg?sz=128", "display_name": "Ori Drori", "link": "https://stackoverflow.com/users/5157454/ori-drori"}, "is_accepted": false, "score": 0, "last_activity_date": 1551854728, "creation_date": 1551854728, "answer_id": 55017134, "question_id": 55013617, "link": "https://stackoverflow.com/questions/55013617/how-can-i-merge-two-array-of-objects-with-two-different-sizes-by-using-key-valu/55017134#55017134", "title": "How can I merge two array of objects with two different sizes by using key, value pair to merge them into one array?", "body": "<p>You can use lodash's <code>_.flow()</code> to create a function that combines the arrays, groups them by <code>name</code> or <code>_id</code> (whatever is found on the object). If the a group contains more than 1 item, it's merged to a single object, and the <code>_id</code> property is omitted.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const { flow, partialRight: pr, concat, groupBy, map, merge, has, head, omit } = _\r\n\r\nconst fn = flow(\r\n  concat, // combine to a single array\r\n  pr(groupBy, o =&gt; o.name || o._id), // group by the value of name or _id\r\n  pr(map, o =&gt; o.length === 1 ? head(o) : _.omit( // if a group contains 2 items merge them, and remove _id\r\n    merge({}, ...o),\r\n    '_id'\r\n  )),\r\n)\r\n\r\nconst Arr1 = [{\"_id\": \"firstSub1\",\"count\": 1,\"price\": 4},{\"_id\": \"firstSub2\",\"count\": 2,\"price\": 7},{\"_id\": \"firstSub3\",\"count\": 3,  \"price\": 1}, {\"_id\": \"firstSub4\",\"count\": 4,\"price\": 1}]\r\n\r\nconst Arr2 = [{\"name\": \"firstSub1\",\"date\": \"05 / 20 / 1998\",\"type\": \"sometype1\"}, {\"name\": \"firstSub2\",\"date\": \"12 / 22 / 2011\",\"type\": \"sometype2\"}, {\"name\": \"firstSub3\",\"date\": \"09 / 23 / 2004\",\"type\": \"sometype3\"}, {\"name\": \"firstSub9\",\"date\": \"09 / 23 / 2004\",\"type\": \"sometype9\"}]\r\n\r\nconst result = fn(Arr2, Arr1)\r\n\r\nconsole.log(result)</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;script src=\"https://cdnjs.cloudflare.com/ajax/libs/lodash.js/4.17.11/lodash.js\"&gt;&lt;/script&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 31, "user_id": 9366149, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/12554789f068d4fa451bc9149afac87f?s=128&d=identicon&r=PG&f=1", "display_name": "MoreAngularStuff", "link": "https://stackoverflow.com/users/9366149/moreangularstuff"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 204, "favorite_count": 0, "answer_count": 4, "score": -1, "last_activity_date": 1551854728, "creation_date": 1551831350, "question_id": 55013617, "link": "https://stackoverflow.com/questions/55013617/how-can-i-merge-two-array-of-objects-with-two-different-sizes-by-using-key-valu", "title": "How can I merge two array of objects with two different sizes by using key, value pair to merge them into one array?", "body": "<p>I have two array of objects that looks this in JSON format: </p>\n\n<pre><code>   {\n  \"Arr1\":\n   [\n    { \"_id\": \"firstSub1\", \"count\": 1, \"price\": 4 },\n    { \"_id\": \"firstSub2\", \"count\": 2, \"price\": 7 },\n    { \"_id\": \"firstSub3\", \"count\": 3, \"price\": 1 }\n    { \"_id\": \"firstSub4\", \"count\": 4, \"price\": 1 }\n   ],\n\n    \"Arr2\":\n     [\n      { \"name\": \"firstSub1\", \"date\": 05 / 20 / 1998, \"type\": sometype1 },\n      { \"name\": \"firstSub2\"  \"date\": 12 / 22 / 2011, \"type\": sometype2 },\n      { \"name\": \"firstSub3\", \"date\": 09 / 23 / 2004, \"type\": sometype3 }\n      { \"name\": \"firstSub9\", \"date\": 09 / 23 / 2004, \"type\": sometype9 }\n    ]\n//Desired Output\n    \"finalArray\":\n     [\n      { \"name\": \"firstSub1\", \"date\": 05 / 20 / 1998, \"type\": sometype1, \"count\": 1, \"price\": 4 },  \n      { \"name\": \"firstSub2\"  \"date\": 12 / 22 / 2011, \"type\": sometype2, \"count\": 2, \"price\": 7 },\n      { \"name\": \"firstSub3\", \"date\": 09 / 23 / 2004, \"type\": sometype3, \"count\": 3, \"price\": 1 },\n      { \"name\": \"firstSub9\", \"date\": 09 / 23 / 2004, \"type\": sometype9 },\n      { \"_id\": \"firstSub4\", \"count\": 4, \"price\": 1 }\n          ]   \n\n}\n</code></pre>\n\n<p>I need to compare <code>_id</code> in the first array and see if there is a match with <code>name</code> in the Arr2 and match them if <code>_id === name</code>. </p>\n\n<p>I have tried using lodash and its undescores, and mapping functions like this:</p>\n\n<pre><code>  mergeArray() {\n    .... //pulling data\n\n    let Arr1 = data['Arr1Data'];\n    let Arr2 = data['Arr2Data'];\n\n    let finalArray = Arr2.map((e, _) =&gt;\n      (_ = Arr1.find((q) =&gt; e.name === q._id)) ?\n        { ...e, ..._ } : e)\n    console.log(finalArray)\n  }\n</code></pre>\n\n<p>All of the data from Arr2 is coming back and merging with only half of the data Arr1  my data is not coming back with the desired output...how can i map these two arrays and have a union and intersection? </p>\n"}, {"tags": ["javascript", "typescript", "bignum"], "comments": [{"owner": {"reputation": 1179, "user_id": 4855194, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/G6vvI.jpg?s=128&g=1", "display_name": "Steven Stark", "link": "https://stackoverflow.com/users/4855194/steven-stark"}, "edited": false, "score": 0, "creation_date": 1551832990, "post_id": 55013499, "comment_id": 96782181, "body": "I can&#39;t follow your  code.. you&#39;re importing <code>BigNumber</code>, but then are immediately declaring the same name as an interface. This should not be allowed to compile. I get you&#39;re trying to override the type, but I don&#39;t expect this is how that should be done. Please, correct me if I am wrong, I&#39;d love to learn if that&#39;s the case.  I&#39;d make my own class that uses BigNumber, wraps the methods, and returns <code>&#39;&#39;</code> for the<code>toString</code> method."}, {"owner": {"reputation": 129273, "user_id": 71522, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/f0e286ba0482e57904e89e753a4b36e6?s=128&d=identicon&r=PG", "display_name": "David Wolever", "link": "https://stackoverflow.com/users/71522/david-wolever"}, "reply_to_user": {"reputation": 1179, "user_id": 4855194, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/G6vvI.jpg?s=128&g=1", "display_name": "Steven Stark", "link": "https://stackoverflow.com/users/4855194/steven-stark"}, "edited": false, "score": 1, "creation_date": 1552000947, "post_id": 55013499, "comment_id": 96858254, "body": "@StevenStark that&#39;s the TypeScript syntax for extending an interface (scroll to &quot;Augmenting&quot;): <a href=\"https://www.typescriptlang.org/docs/handbook/declaration-merging.html\" rel=\"nofollow noreferrer\">typescriptlang.org/docs/handbook/declaration-merging.html</a>"}, {"owner": {"reputation": 1179, "user_id": 4855194, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/G6vvI.jpg?s=128&g=1", "display_name": "Steven Stark", "link": "https://stackoverflow.com/users/4855194/steven-stark"}, "edited": false, "score": 0, "creation_date": 1552001089, "post_id": 55013499, "comment_id": 96858299, "body": "Thank you, I didn&#39;t realize that was just a TS convention. I&#39;ve been using Flow exclusively these days."}], "answers": [{"comments": [{"owner": {"reputation": 24098, "user_id": 99777, "user_type": "registered", "accept_rate": 32, "profile_image": "https://www.gravatar.com/avatar/851524689a35bd68e0ccd953997c99db?s=128&d=identicon&r=PG", "display_name": "joeytwiddle", "link": "https://stackoverflow.com/users/99777/joeytwiddle"}, "edited": false, "score": 0, "creation_date": 1572427048, "post_id": 55013969, "comment_id": 103552130, "body": "As an alternative to patching the package, it&#39;s also possible to monkeypatch the library at runtime: <a href=\"https://github.com/MikeMcl/bignumber.js/issues/185#issuecomment-435071867\" rel=\"nofollow noreferrer\">GitHub issue</a>"}], "tags": [], "owner": {"reputation": 204459, "user_id": 390330, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/1400be56ff17549b926dd3260da4a494?s=128&d=identicon&r=PG", "display_name": "basarat", "link": "https://stackoverflow.com/users/390330/basarat"}, "is_accepted": true, "score": 3, "last_activity_date": 1551834377, "creation_date": 1551834377, "answer_id": 55013969, "question_id": 55013499, "link": "https://stackoverflow.com/questions/55013499/use-typescript-to-trigger-a-compile-error-when-bignumber-tostring-is-used/55013969#55013969", "title": "Use TypeScript to trigger a compile error when BigNumber.toString is used?", "body": "<blockquote>\n  <p>Is it possible to use TypeScript to trigger a compile-time error if BigNumber.toString is called</p>\n</blockquote>\n\n<p>Few options </p>\n\n<h1>Create a custom linter rule</h1>\n\n<p>Docs on tslint : <a href=\"https://palantir.github.io/tslint/develop/custom-rules/\" rel=\"nofollow noreferrer\">https://palantir.github.io/tslint/develop/custom-rules/</a> \nYou custom rule would be type checking rule : <a href=\"https://palantir.github.io/tslint/usage/type-checking/\" rel=\"nofollow noreferrer\">https://palantir.github.io/tslint/usage/type-checking/</a></p>\n\n<p>And change <code>toString</code> invocations on <code>BigNumber</code> to be an error. </p>\n\n<h1>Edit the types on install</h1>\n\n<p>Remove the <code>toString</code> method from BigNumber by editing the installed <code>.d.ts</code> and commit it using PatchPackage : <a href=\"https://github.com/ds300/patch-package\" rel=\"nofollow noreferrer\">https://github.com/ds300/patch-package</a> </p>\n\n<h1>Create a wrapper</h1>\n\n<p>Alternatively create a wrapper around BigNumber that doesn't expose anything you consider dangerous to your fellow developers \ud83c\udf39</p>\n\n<h1>Thoughts</h1>\n\n<p>I would personally use patch package as its the easier route. If you are doing a lot of financial work with the library then consider a wrapper for your use case. </p>\n"}], "owner": {"reputation": 129273, "user_id": 71522, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/f0e286ba0482e57904e89e753a4b36e6?s=128&d=identicon&r=PG", "display_name": "David Wolever", "link": "https://stackoverflow.com/users/71522/david-wolever"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 238, "favorite_count": 1, "accepted_answer_id": 55013969, "answer_count": 1, "score": 3, "last_activity_date": 1551834377, "creation_date": 1551830339, "question_id": 55013499, "link": "https://stackoverflow.com/questions/55013499/use-typescript-to-trigger-a-compile-error-when-bignumber-tostring-is-used", "title": "Use TypeScript to trigger a compile error when BigNumber.toString is used?", "body": "<p>Is it possible to use TypeScript to trigger a compile-time error if <code>BigNumber.toString</code> is called?</p>\n\n<p>Specifically, my application has experienced bugs because <code>BigNumber.toString()</code> will express sufficiently large and sufficiently small numbers in scientific notation:</p>\n\n<pre><code>&gt; x = new BigNumber('0.00000000001')\n&gt; x.toString()\n'1e-10'\n&gt; x.toFixed()\n'0.00000000001'\n</code></pre>\n\n<p>I've tried overriding the type:</p>\n\n<pre><code>import {BigNumber} from \"bignumber.js\";\n\ndeclare module \"bignumber.js\" {\n  interface BigNumber {\n    toString: never\n    someOtherThing: number\n  }\n}\n</code></pre>\n\n<p>But this doesn't seem to work (and the <code>someOtherThing</code> field is added, so I know the type definitions are being loaded)</p>\n\n<p>How can I trigger a compile error if <code>BigNumber.toString</code> is used?</p>\n\n<p>(also, note: I have set <code>BigNumber.config({ EXPONENTIAL_AT: 1e+9 })</code> and overloaded <code>BigNumber.toString</code> so it issues a warning, but it would be nice to have the added compile error)</p>\n"}, {"tags": ["typescript"], "answers": [{"comments": [{"owner": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "edited": false, "score": 1, "creation_date": 1551836246, "post_id": 55013967, "comment_id": 96782869, "body": "Related issue: <a href=\"https://github.com/Microsoft/TypeScript/issues/27859\" rel=\"nofollow noreferrer\">Microsoft/TypeScript#27859</a>"}], "tags": [], "owner": {"reputation": 135520, "user_id": 1715579, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/4B4y1.png?s=128&g=1", "display_name": "p.s.w.g", "link": "https://stackoverflow.com/users/1715579/p-s-w-g"}, "is_accepted": true, "score": 0, "last_activity_date": 1551835581, "last_edit_date": 1551835581, "creation_date": 1551834366, "answer_id": 55013967, "question_id": 55013392, "link": "https://stackoverflow.com/questions/55013392/destructuring-tuple-into-another-tuple-type-mismatch/55013967#55013967", "title": "Destructuring tuple into another tuple type mismatch", "body": "<p>It seems like the type checker does indeed widen tuple types to union types when applying the spread operator. Observe:</p>\n\n<pre><code>const foo: [A, B] = ...\nconst bar = [...foo];    // inferred type (A | B)[]\n</code></pre>\n\n<p>I'm not sure if this is by design or just a limitation of the current implementation. I expect it's actually the latter because any function that expects a <code>T[]</code> will <em>have to</em> widen <code>[A, B]</code> to <code>(A | B)[]</code> to fit the type parameter <code>T</code>.</p>\n\n<p>Case in point, there's no way to generate a <code>[A, B]</code> using <code>Array.of</code> because its signature is <code>T[] Array.of&lt;T&gt;(...items: T[])</code>:</p>\n\n<pre><code>Array.of(a, b);        // Argument of type 'B' is not assignable to parameter of type 'A'.\nArray.of&lt;A | B&gt;(a, b); // Fine, but inferred type (A | B)[]\nArray.of(...[a, b]);   // Fine, but inferred type (A | B)[]\n</code></pre>\n\n<p>One way around this would be simply construct the result array without the spread operator:</p>\n\n<pre><code>function testFunction&lt;A,B,C,D&gt; (a: A, more: [B, C, D]) : [A,B,C,D] {\n  return [a, more[0], more[1], more[2]];\n}\n</code></pre>\n\n<p>Or perhaps <em>slightly</em> cleaner:</p>\n\n<pre><code>function testFunction&lt;A,B,C,D&gt; (a: A, [b, c, d]: [B, C, D]) : [A,B,C,D] {\n  return [a, b, c, d];\n}\n</code></pre>\n"}], "owner": {"reputation": 23, "user_id": 924761, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/26e04f611b639c43145c21ba8c730c50?s=128&d=identicon&r=PG", "display_name": "David", "link": "https://stackoverflow.com/users/924761/david"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 62, "favorite_count": 0, "accepted_answer_id": 55013967, "answer_count": 1, "score": 2, "last_activity_date": 1551835581, "creation_date": 1551829732, "last_edit_date": 1551830560, "question_id": 55013392, "link": "https://stackoverflow.com/questions/55013392/destructuring-tuple-into-another-tuple-type-mismatch", "title": "Destructuring tuple into another tuple type mismatch", "body": "<p>As far as I can tell the following function seems like it should be logically sound in regards to typing:</p>\n\n<pre><code>function testFunction&lt;A,B,C,D&gt; (a: A, more: [B, C, D]) : [A,B,C,D] {\n    return [a, ...more];\n}\n</code></pre>\n\n<p>Instead Typescript complains about the <code>...more</code>, giving the following error:</p>\n\n<pre><code>Type 'B | C | D' is not assignable to type 'B'.\nType 'C' is not assignable to type 'B'.\n</code></pre>\n\n<p>Am I missing something here or is this an oversight in the type checker that would be safe to force the type with <code>return [a, ...more] as [A,B,C,D];</code></p>\n"}, {"tags": ["typescript"], "comments": [{"owner": {"reputation": 48290, "user_id": 209259, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/bSPBw.jpg?s=128&g=1", "display_name": "Erik Philips", "link": "https://stackoverflow.com/users/209259/erik-philips"}, "edited": false, "score": 0, "creation_date": 1551829801, "post_id": 55013294, "comment_id": 96781399, "body": "It would really be useful if you included all the code in your example.  For instance, both <code>IPost</code> and <code>IExam</code> are missing so we don&#39;t know properties those have even though you&#39;re example uses properties on them."}], "answers": [{"comments": [{"owner": {"reputation": 1410, "user_id": 617243, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/badeb4be07d422115225b85e28c5fabb?s=128&d=identicon&r=PG", "display_name": "Brandon", "link": "https://stackoverflow.com/users/617243/brandon"}, "edited": false, "score": 0, "creation_date": 1551831106, "post_id": 55013355, "comment_id": 96781755, "body": "Thanks, I saw that in the docs but I didn&#39;t know how to extend a union. Makes perfect sense :-)"}, {"owner": {"reputation": 1410, "user_id": 617243, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/badeb4be07d422115225b85e28c5fabb?s=128&d=identicon&r=PG", "display_name": "Brandon", "link": "https://stackoverflow.com/users/617243/brandon"}, "edited": false, "score": 0, "creation_date": 1551839529, "post_id": 55013355, "comment_id": 96783643, "body": "I can&#39;t figure out why by now I get <a href=\"https://www.dropbox.com/s/1emsa7nnh69ttym/carbon.png?dl=0\" rel=\"nofollow noreferrer\">dropbox.com/s/1emsa7nnh69ttym/carbon.png?dl=0</a>"}, {"owner": {"reputation": 14263, "user_id": 10325032, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UwH88.jpg?s=128&g=1", "display_name": "Karol Majewski", "link": "https://stackoverflow.com/users/10325032/karol-majewski"}, "reply_to_user": {"reputation": 1410, "user_id": 617243, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/badeb4be07d422115225b85e28c5fabb?s=128&d=identicon&r=PG", "display_name": "Brandon", "link": "https://stackoverflow.com/users/617243/brandon"}, "edited": false, "score": 0, "creation_date": 1551843520, "post_id": 55013355, "comment_id": 96784531, "body": "I wish I could help, but I don&#39;t use ESLint, and it seems like an ESLint parsing error. Your code is perfectly valid TypeScript."}], "tags": [], "owner": {"reputation": 14263, "user_id": 10325032, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UwH88.jpg?s=128&g=1", "display_name": "Karol Majewski", "link": "https://stackoverflow.com/users/10325032/karol-majewski"}, "is_accepted": true, "score": 1, "last_activity_date": 1551833540, "last_edit_date": 1551833540, "creation_date": 1551829492, "answer_id": 55013355, "question_id": 55013294, "link": "https://stackoverflow.com/questions/55013294/explicit-value-type-constraints-with-typescript-generics/55013355#55013355", "title": "Explicit value type constraints with typescript generics?", "body": "<p>Constrain your type parameter to be of type <code>IPost | IExam</code> only.</p>\n\n<pre><code>function filterByCourseNumber&lt;T extends IPost | IExam&gt;(data: T[], courses: string[]): T[] {\n</code></pre>\n"}], "owner": {"reputation": 1410, "user_id": 617243, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/badeb4be07d422115225b85e28c5fabb?s=128&d=identicon&r=PG", "display_name": "Brandon", "link": "https://stackoverflow.com/users/617243/brandon"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 54, "favorite_count": 0, "accepted_answer_id": 55013355, "answer_count": 1, "score": 1, "last_activity_date": 1551833540, "creation_date": 1551828986, "question_id": 55013294, "link": "https://stackoverflow.com/questions/55013294/explicit-value-type-constraints-with-typescript-generics", "title": "Explicit value type constraints with typescript generics?", "body": "<p>I have this function:</p>\n\n<pre><code>function filterByCourseNumber(data: IPost[] | IExam[], courses: string[]) {\n  if (courses.length === 0) return data;\n  return data.filter((item) =&gt; _includes(courses, item.courseNumber));\n}\n</code></pre>\n\n<p>It works fine when I pass in <code>IPost[]</code>, but when I do:</p>\n\n<pre><code>exams = filterByCourseNumber(exams, filters.courses)\n</code></pre>\n\n<p>I have this error:</p>\n\n<pre><code>Type 'IPost[]' is not assignable to type 'IExam[]'.\n  Type 'IPost' is not assignable to type 'IExam'.\n    Types of property 'claimer' are incompatible.\n      Type 'string | undefined' is not assignable to type 'string'.\n        Type 'undefined' is not assignable to type 'string'.ts(2322)\nlet exams: IExam[]\n</code></pre>\n\n<p>I know I need to use generics, but I can't figure out how to write my interface.</p>\n\n<p>I tried:</p>\n\n<pre><code>function filterByCourseNumber&lt;T&gt;(data: T[], courses: string[]): T[] {\n  if (courses.length === 0) return data;\n  return data.filter((item) =&gt; _includes(courses, item.courseNumber));\n}\n</code></pre>\n\n<p>But <code>item.courseNumber</code> has the error:</p>\n\n<pre><code>Property 'courseNumber' does not exist on type 'T'.\n</code></pre>\n\n<p>I think I'm close, but I'm not sure how to make my function know that <code>T</code> can only be <code>IPost</code> or <code>IExam</code>.</p>\n"}]