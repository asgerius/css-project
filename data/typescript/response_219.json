[{"tags": ["javascript", "typescript", "function", "generics", "parameters"], "answers": [{"tags": [], "owner": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "is_accepted": true, "score": 2, "last_activity_date": 1553127382, "creation_date": 1553127382, "answer_id": 55271984, "question_id": 55271494, "link": "https://stackoverflow.com/questions/55271494/generic-function-with-proper-signature/55271984#55271984", "title": "Generic function with proper signature", "body": "<p>First of all, note that <a href=\"https://github.com/Microsoft/TypeScript/wiki/FAQ#why-dont-i-get-type-checking-for-number--string-or-t--t\" rel=\"nofollow noreferrer\">parameter names in function types are required</a>, so this definition must be altered:</p>\n\n<pre><code>interface MyFoo {\n    foo1: (x: number) =&gt; void; \n    foo2: (x: string) =&gt; void;\n}\n</code></pre>\n\n<p>Now, in <code>Bar&lt;Foo&gt;</code> we only need one generic parameter <code>K</code> on the <code>boom()</code> method, since the type <code>Foo</code> will be specified for us.  I don't fully understand your use case, since it looks like <em>maybe</em> you want <code>boom()</code> to take a variable number of parameters, but this doesn't match the comment about how you need a callback function.  So I assume that <code>boom()</code> takes two parameters: a key name and a callback function:</p>\n\n<pre><code>class Bar&lt;Foo&gt; {\n    public boom&lt;K extends keyof Foo&gt;(first: K, second: Foo[K]) { }\n}\n</code></pre>\n\n<p>And then here's how you use it:</p>\n\n<pre><code>// okay, the callback is (x: number) =&gt; void\nnew Bar&lt;MyFoo&gt;().boom(\"foo1\", (x: number) =&gt; console.log(x.toFixed(2)));\n\n// error, the callback is (x: number) =&gt; void but should be (x: string) =&gt; void\nnew Bar&lt;MyFoo&gt;().boom(\"foo2\", (x: number) =&gt; console.log(x.toFixed(2))); \n</code></pre>\n\n<p>By the way, this doesn't stop you from using an interface with non-function properties:</p>\n\n<pre><code>interface MyFoo { age: number }\nnew Bar&lt;MyFoo&gt;().boom(\"age\", 40); // okay\n</code></pre>\n\n<p>If you require that <code>boom()</code> only work on keys corresponding to function-like properties, you will need some fancier <a href=\"https://github.com/Microsoft/TypeScript/wiki/What&#39;s-new-in-TypeScript#conditional-types\" rel=\"nofollow noreferrer\">conditional types</a>:</p>\n\n<pre><code>type KeysMatching&lt;T, V&gt; =\n    Extract&lt;keyof T, { [K in keyof T]: T[K] extends V ? K : never }[keyof T]&gt;;\n\nclass Bar&lt;Foo&gt; {\n    public boom&lt;K extends KeysMatching&lt;Foo, Function&gt;&gt;(first: K, second: Foo[K]) { }\n}\n\n// okay, the callback is (x: number) =&gt; void\nnew Bar&lt;MyFoo&gt;().boom(\"foo1\", (x: number) =&gt; console.log(x.toFixed(2)));\n\n// error, the callback is (x: number) =&gt; void but should be (x: string) =&gt; void\nnew Bar&lt;MyFoo&gt;().boom(\"foo2\", (x: number) =&gt; console.log(x.toFixed(2))); \n\ninterface MyFoo { age: number }\n\n// error, \"age\" is not accepted anymore\nnew Bar&lt;MyFoo&gt;().boom(\"age\", 40); // error\n</code></pre>\n\n<p>Hope that helps you.  Good luck!</p>\n"}], "owner": {"reputation": 7, "user_id": 2878807, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ddd4d59517f66fc597d49ea7f7070226?s=128&d=identicon&r=PG&f=1", "display_name": "Horyzont", "link": "https://stackoverflow.com/users/2878807/horyzont"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 72, "favorite_count": 0, "accepted_answer_id": 55271984, "answer_count": 1, "score": 0, "last_activity_date": 1553272466, "creation_date": 1553123745, "last_edit_date": 1553272466, "question_id": 55271494, "link": "https://stackoverflow.com/questions/55271494/generic-function-with-proper-signature", "title": "Generic function with proper signature", "body": "<p>I don't know how to declare second parameter of function boom to have proper type checking, I mean if somebody is sending to function boom first parameter as \"foo1\" then the second parameter should be only possible as: <code>(number) =&gt; void</code>. If \"foo2\" then <code>(string) =&gt; void</code>.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>interface MyFoo {\r\n    foo1: (number) =&gt; void;\r\n    foo2: (string) =&gt; void;\r\n}\r\n\r\nclass Bar&lt;Foo&gt; {\r\n    public boom&lt;T extends Foo, K extends keyof MyFoo&gt;(first: K,\r\n        ...args: Parameters&lt;T[K] /* here I don't know how to declare this parameter */){\r\n\r\n    }\r\n}\r\n\r\nnew Bar&lt;MyFoo&gt;().boom(\"foo1\", /* callback with signature: (number) =&gt; void */)</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": ["javascript", "angular", "typescript", "angular-material2"], "answers": [{"tags": [], "owner": {"reputation": 1, "user_id": 11167939, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-syiuWqkJL30/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rdVlzXUUySXcCSMxlzWjh__o4_jGA/mo/photo.jpg?sz=128", "display_name": "Pretty Code", "link": "https://stackoverflow.com/users/11167939/pretty-code"}, "is_accepted": false, "score": 0, "last_activity_date": 1553120541, "creation_date": 1553120541, "answer_id": 55271037, "question_id": 55270931, "link": "https://stackoverflow.com/questions/55270931/how-would-i-transform-an-object-of-boolean-values-for-use-with-angular-material/55271037#55271037", "title": "How would I transform an object of boolean values for use with Angular Material multi-select?", "body": "<p>If you do</p>\n\n<pre><code>public compareRoles(c1: any, c2: any): boolean {\n  if (c2 &amp;&amp; c2[0]) {\n    return c2[0].hasOwnProperty(c1) &amp;&amp; c2[0][c1];\n  }\n  return false;\n}\n</code></pre>\n\n<p>it should silence the error. You can add a <code>debugger</code> statement before returning false to figure out why c2[0] isn't defined (without a full working demo, it's somewhat difficult to diagnose).</p>\n"}], "owner": {"reputation": 2183, "user_id": 902525, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/Qzj7i.jpg?s=128&g=1", "display_name": "Lindauson", "link": "https://stackoverflow.com/users/902525/lindauson"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 153, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1553120541, "creation_date": 1553119974, "question_id": 55270931, "link": "https://stackoverflow.com/questions/55270931/how-would-i-transform-an-object-of-boolean-values-for-use-with-angular-material", "title": "How would I transform an object of boolean values for use with Angular Material multi-select?", "body": "<p>How would I transform the following object (retrieved from my endpoint) to initialize an Angular Material 2, Multi-select form field:</p>\n\n<p><strong>Object from API:</strong></p>\n\n<pre><code>roles = {\n    admin: false,\n    user: true,\n}\n</code></pre>\n\n<p><strong>Template:</strong></p>\n\n<pre><code>&lt;mat-select formControlName=\"roles\" required multiple [compareWith]=\"compareRoles\"&gt;\n    &lt;mat-option *ngFor=\"let role of roleList\" [value]=\"role\"&gt;{{role}}&lt;/mat-option&gt;\n&lt;/mat-select&gt;\n</code></pre>\n\n<p><strong>FormGroup:</strong></p>\n\n<pre><code>createForm(): FormGroup\n{\n    return this._formBuilder.group({\n        roles : [[this.roles]],\n    });\n}\n</code></pre>\n\n<p><strong>compareWith function:</strong></p>\n\n<pre><code>public compareRoles(c1: any, c2: any): boolean {\n    return c2[0].hasOwnProperty(c1) &amp;&amp; c2[0][c1]\n}\n</code></pre>\n\n<hr>\n\n<p>For some reason, I keep getting the following error:</p>\n\n<pre><code>\"Cannot read property 'hasOwnProperty' of undefined\"\n</code></pre>\n\n<p>What am I missing? I just want the multi-select box to be pre-filled with the data from the API.</p>\n"}, {"tags": ["typescript", "visual-studio-code", "vscode-extensions"], "answers": [{"comments": [{"owner": {"reputation": 1366, "user_id": 1708932, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SOgj6.png?s=128&g=1", "display_name": "Glutanimate", "link": "https://stackoverflow.com/users/1708932/glutanimate"}, "edited": false, "score": 0, "creation_date": 1553791064, "post_id": 55271392, "comment_id": 97525983, "body": "That works, thanks! FWIW, it seems like I can also just leave the <code>contributes</code> section blank and the commands will still be callable through command variables. However, that might be a hack rather than the proper way to do things, so I&#39;m marking this as the canonical answer."}, {"owner": {"reputation": 24360, "user_id": 2631715, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/25382df099e692f409929ce3bf4e9961?s=128&d=identicon&r=PG", "display_name": "Gama11", "link": "https://stackoverflow.com/users/2631715/gama11"}, "reply_to_user": {"reputation": 1366, "user_id": 1708932, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SOgj6.png?s=128&g=1", "display_name": "Glutanimate", "link": "https://stackoverflow.com/users/1708932/glutanimate"}, "edited": false, "score": 2, "creation_date": 1553791496, "post_id": 55271392, "comment_id": 97526256, "body": "I don&#39;t think that&#39;s necessarily a hack, you indeed don&#39;t need to register a command in <code>package.json</code> to be able to call it. <code>&quot;when&quot;: &quot;false&quot;</code> is mainly useful for commands that are used in the UI / for buttons, but shouldn&#39;t show up in the command palette. In that case you would want / have to set <code>&quot;title&quot;</code> and <code>&quot;icon&quot;</code> as well. I&#39;ll update my answer with that info."}], "tags": [], "owner": {"reputation": 24360, "user_id": 2631715, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/25382df099e692f409929ce3bf4e9961?s=128&d=identicon&r=PG", "display_name": "Gama11", "link": "https://stackoverflow.com/users/2631715/gama11"}, "is_accepted": true, "score": 8, "last_activity_date": 1553792208, "last_edit_date": 1553792208, "creation_date": 1553122959, "answer_id": 55271392, "question_id": 55270915, "link": "https://stackoverflow.com/questions/55270915/vs-code-extension-hide-commands-from-command-palette/55271392#55271392", "title": "VS Code extension: Hide commands from command palette", "body": "<p>If you don't need to associate an <code>\"icon\"</code> or a <code>\"title\"</code> with your command, you can simply omit it from <code>\"commands\"</code> - commands that are not listed there can still be called, as long as they have been registered via <code>vscode.commands</code>.</p>\n\n<p>Otherwise, you can use the following trick to hide it from the command palette:</p>\n\n<pre class=\"lang-json prettyprint-override\"><code>\"contributes\": {\n    \"menus\": {\n        \"commandPalette\": [\n            {\n                \"command\": \"extension.myCommand\",\n                \"when\": \"false\"\n            }\n        ]\n    }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 65, "user_id": 4229000, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/d9e578b9c081fb25b4a8fcf98c383325?s=128&d=identicon&r=PG&f=1", "display_name": "rygo18", "link": "https://stackoverflow.com/users/4229000/rygo18"}, "is_accepted": false, "score": 0, "last_activity_date": 1553357783, "creation_date": 1553357783, "answer_id": 55315777, "question_id": 55270915, "link": "https://stackoverflow.com/questions/55270915/vs-code-extension-hide-commands-from-command-palette/55315777#55315777", "title": "VS Code extension: Hide commands from command palette", "body": "<pre><code>\"contributes\": {\n\"commands\": [\n    {\n        \"command\": \"extension.myHiddenCommand\",\n        \"title\": \"Compile folder\"\n    }\n],\n\"menus\": {\n    \"commandPalette\": [\n        {\n            \"command\": \"extension.myHiddenCommand\",\n            \"when\": \"false\"\n        }\n    ]\n}\n</code></pre>\n\n<p>}</p>\n"}], "owner": {"reputation": 1366, "user_id": 1708932, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SOgj6.png?s=128&g=1", "display_name": "Glutanimate", "link": "https://stackoverflow.com/users/1708932/glutanimate"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1455, "favorite_count": 1, "accepted_answer_id": 55271392, "answer_count": 2, "score": 7, "last_activity_date": 1553792208, "creation_date": 1553119896, "question_id": 55270915, "link": "https://stackoverflow.com/questions/55270915/vs-code-extension-hide-commands-from-command-palette", "title": "VS Code extension: Hide commands from command palette", "body": "<p><strong>Background:</strong></p>\n\n<p>I'm currently working on a simple VS Code extension that will provide dynamically set <a href=\"https://code.visualstudio.com/docs/editor/variables-reference#_command-variables\" rel=\"noreferrer\">command variables</a> to my build &amp; debug tasks. The plan is to have a series of attributes that will be accessible in launch.json, etc. through the <code>\"${command:extension.myCommand}\"</code> syntax.</p>\n\n<p>Registering commands like this is as simple as adding an entry to the package.json file, e.g.:</p>\n\n<pre class=\"lang-json prettyprint-override\"><code>\"contributes\": {\n    \"commands\": [\n        {\n            \"command\": \"extension.myCommand\",\n            \"title\": \"\"\n        }\n    ]\n}\n</code></pre>\n\n<p>and implementing the corresponding commands in my main extension file:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>let disposable = vscode.commands.registerCommand('extension.myCommand', () =&gt; {\n    return \"dynvar\";\n});\ncontext.subscriptions.push(disposable);\n</code></pre>\n\n<p><strong>The Problem</strong>:</p>\n\n<p>Unfortunately these commands now also appear in the command palette, and as they don't have any interactive use that's quite annoying.</p>\n\n<p><strong>Question:</strong> </p>\n\n<p>Is there any way I can hide commands contributed through extensions from VS Code's command palette?</p>\n"}, {"tags": ["typescript", "d3.js"], "comments": [{"owner": {"reputation": 14845, "user_id": 522877, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/23600761a82cabda402d13f1bf45bfff?s=128&d=identicon&r=PG", "display_name": "Wex", "link": "https://stackoverflow.com/users/522877/wex"}, "edited": false, "score": 2, "creation_date": 1553119461, "post_id": 55270420, "comment_id": 97272877, "body": "It&#39;s not clear from this question what the domain for your scale is. Would each major version have its own color range? You&#39;d need to define the upper and lower bounds for each color. Can you provide an example of these inputs?"}, {"owner": {"reputation": 2878, "user_id": 977524, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/c77608603004acd9dd89446f8e649cea?s=128&d=identicon&r=PG", "display_name": "whiterook6", "link": "https://stackoverflow.com/users/977524/whiterook6"}, "reply_to_user": {"reputation": 14845, "user_id": 522877, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/23600761a82cabda402d13f1bf45bfff?s=128&d=identicon&r=PG", "display_name": "Wex", "link": "https://stackoverflow.com/users/522877/wex"}, "edited": false, "score": 0, "creation_date": 1553181680, "post_id": 55270420, "comment_id": 97297415, "body": "Sorry. The version strings are arbitrary and could be any strings (types of cats, days of the week, etc.) They&#39;re simply ordered, and there&#39;s N of them, that&#39;s all."}], "answers": [{"comments": [{"owner": {"reputation": 2878, "user_id": 977524, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/c77608603004acd9dd89446f8e649cea?s=128&d=identicon&r=PG", "display_name": "whiterook6", "link": "https://stackoverflow.com/users/977524/whiterook6"}, "edited": false, "score": 0, "creation_date": 1553205369, "post_id": 55271450, "comment_id": 97308916, "body": "Thanks, this is exactly why I am looking for."}], "tags": [], "owner": {"reputation": 90550, "user_id": 5768908, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/wf0PS.jpg?s=128&g=1", "display_name": "Gerardo Furtado", "link": "https://stackoverflow.com/users/5768908/gerardo-furtado"}, "is_accepted": true, "score": 2, "last_activity_date": 1553123384, "creation_date": 1553123384, "answer_id": 55271450, "question_id": 55270420, "link": "https://stackoverflow.com/questions/55270420/how-to-create-a-custom-color-scale/55271450#55271450", "title": "How to create a custom color scale?", "body": "<p>Because you have a fixed set of colours that you want to interpolate, no matter how big is the domain length, my solution involves using a linear scale to create the colours array, which you'll pass to the ordinal scale.</p>\n\n<p>Therefore, you can create the linear scale with the 3 colours you want...</p>\n\n<pre><code>const linearScale = d3.scaleLinear()\n  .domain([0, 0.5, 1])\n  .range([\"#efebeb\", \"#4d4d4d\", \"#ff5d5d\"]);\n</code></pre>\n\n<p>... and then you populate the colours array, which you'll pass to the ordinal scale:</p>\n\n<pre><code>const colorArray = d3.range(data.length)\n    .map(d =&gt; linearScale(d / (data.length - 1)));\n\nconst ordinalScale = d3.scaleOrdinal()\n  .domain(data)\n  .range(colorArray);\n</code></pre>\n\n<p>The advantage of this approach is that it's dynamic, working with any number of elements in the domain.</p>\n\n<p>Here is a demo with just 3 elements (that is, in your case, three <em>versions</em>):</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"true\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code snippet-currently-hidden\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const linearScale = d3.scaleLinear()\r\n\t.domain([0, 0.5, 1])\r\n  .range([\"#efebeb\", \"#4d4d4d\", \"#ff5d5d\"]);\r\n  \r\nconst data = \"abc\".split(\"\");\r\n\r\nconst colorArray = d3.range(data.length).map(d=&gt;linearScale(d/(data.length - 1)));\r\n\r\nconst ordinalScale = d3.scaleOrdinal()\r\n\t.domain(data)\r\n  .range(colorArray);\r\n  \r\nconst divs = d3.select(\"body\")\r\n\t.selectAll(null)\r\n  .data(data)\r\n  .enter()\r\n  .append(\"div\")\r\n  .style(\"background-color\", d=&gt;ordinalScale(d))</code></pre>\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>div {\r\n  display: inline-block;\r\n  width: 18px;\r\n  height: 18px;\r\n  margin-right: 4px;\r\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;script src=\"https://cdnjs.cloudflare.com/ajax/libs/d3/5.7.0/d3.min.js\"&gt;&lt;/script&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>Now with 10 versions:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"true\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code snippet-currently-hidden\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const linearScale = d3.scaleLinear()\r\n\t.domain([0, 0.5, 1])\r\n  .range([\"#efebeb\", \"#4d4d4d\", \"#ff5d5d\"]);\r\n  \r\nconst data = \"abcdefghij\".split(\"\");\r\n\r\nconst colorArray = d3.range(data.length).map(d=&gt;linearScale(d/(data.length - 1)));\r\n\r\nconst ordinalScale = d3.scaleOrdinal()\r\n\t.domain(data)\r\n  .range(colorArray);\r\n  \r\nconst divs = d3.select(\"body\")\r\n\t.selectAll(null)\r\n  .data(data)\r\n  .enter()\r\n  .append(\"div\")\r\n  .style(\"background-color\", d=&gt;ordinalScale(d))</code></pre>\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>div {\r\n  display: inline-block;\r\n  width: 18px;\r\n  height: 18px;\r\n  margin-right: 4px;\r\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;script src=\"https://cdnjs.cloudflare.com/ajax/libs/d3/5.7.0/d3.min.js\"&gt;&lt;/script&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>And, finally, with 50 versions:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"true\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code snippet-currently-hidden\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const linearScale = d3.scaleLinear()\r\n\t.domain([0, 0.5, 1])\r\n  .range([\"#efebeb\", \"#4d4d4d\", \"#ff5d5d\"]);\r\n  \r\nconst data = d3.range(50);\r\n\r\nconst colorArray = d3.range(data.length).map(d=&gt;linearScale(d/(data.length - 1)));\r\n\r\nconst ordinalScale = d3.scaleOrdinal()\r\n\t.domain(data)\r\n  .range(colorArray);\r\n  \r\nconst divs = d3.select(\"body\")\r\n\t.selectAll(null)\r\n  .data(data)\r\n  .enter()\r\n  .append(\"div\")\r\n  .style(\"background-color\", d=&gt;ordinalScale(d))</code></pre>\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>div {\r\n  display: inline-block;\r\n  width: 18px;\r\n  height: 18px;\r\n  margin-right: 4px;\r\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;script src=\"https://cdnjs.cloudflare.com/ajax/libs/d3/5.7.0/d3.min.js\"&gt;&lt;/script&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 2878, "user_id": 977524, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/c77608603004acd9dd89446f8e649cea?s=128&d=identicon&r=PG", "display_name": "whiterook6", "link": "https://stackoverflow.com/users/977524/whiterook6"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 600, "favorite_count": 1, "accepted_answer_id": 55271450, "answer_count": 1, "score": 0, "last_activity_date": 1553205341, "creation_date": 1553117058, "last_edit_date": 1553205341, "question_id": 55270420, "link": "https://stackoverflow.com/questions/55270420/how-to-create-a-custom-color-scale", "title": "How to create a custom color scale?", "body": "<p>I am trying to map a series of version strings to a series of RGB colors in hex form. Given a fixed set of version strings (eg <code>[\"1.1.2\", \"1.1.3\", ...]</code>) and a couple of colors (<code>[\"#efebeb\", \"#4d4d4d\", \"#ff5d5d\"]</code>) I want to create a scale that gives me an interpolated color for each version string. </p>\n\n<p>I tried this:</p>\n\n<pre><code>const palette = scaleOrdinal().domain(props.sdkVersions).range([\"#efebeb\", \"#4d4d4d\", \"#ff5d5d\"]);\n</code></pre>\n\n<p>But this just alternates between the three colors:</p>\n\n<p><a href=\"https://i.stack.imgur.com/41plU.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/41plU.png\" alt=\"ordinal scale just rotates through set colors.\"></a></p>\n\n<p>I'm looking for smooth interpolation. When I try other scales typescript complains that it's the wrong types, or that they need to be numbers, etc. I'd rather not precalculate the list of colors since I won't know how many I'll need.</p>\n\n<p>Is this possible?</p>\n"}, {"tags": ["javascript", "typescript"], "comments": [{"owner": {"reputation": 229185, "user_id": 251311, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/b6b0ca5d4ef200ec8e3cd1fa2aefd836?s=128&d=identicon&r=PG", "display_name": "zerkms", "link": "https://stackoverflow.com/users/251311/zerkms"}, "edited": false, "score": 0, "creation_date": 1553116622, "post_id": 55270306, "comment_id": 97271806, "body": "That&#39;s because <code>export</code> is for JS modules. And it should be loaded in a different way <a href=\"https://developers.google.com/web/fundamentals/primers/modules\" rel=\"nofollow noreferrer\">developers.google.com/web/fundamentals/primers/modules</a>"}, {"owner": {"reputation": 179, "user_id": 4892784, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/92638e6a774fd70b0de80998f986f57c?s=128&d=identicon&r=PG&f=1", "display_name": "Anthony Yershov", "link": "https://stackoverflow.com/users/4892784/anthony-yershov"}, "reply_to_user": {"reputation": 229185, "user_id": 251311, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/b6b0ca5d4ef200ec8e3cd1fa2aefd836?s=128&d=identicon&r=PG", "display_name": "zerkms", "link": "https://stackoverflow.com/users/251311/zerkms"}, "edited": false, "score": 0, "creation_date": 1553116924, "post_id": 55270306, "comment_id": 97271943, "body": "The compiled JS doesn&#39;t actually have the &quot;export&quot; keyword."}, {"owner": {"reputation": 28847, "user_id": 43848, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/l6ogn.png?s=128&g=1", "display_name": "artem", "link": "https://stackoverflow.com/users/43848/artem"}, "edited": false, "score": 0, "creation_date": 1553117947, "post_id": 55270306, "comment_id": 97272369, "body": "What does the error message say in the browser console? Is it something like &quot;VM56:1 Uncaught ReferenceError: exports is not defined&quot; ?"}, {"owner": {"reputation": 151, "user_id": 9530226, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NgFbB.png?s=128&g=1", "display_name": "maxpelic", "link": "https://stackoverflow.com/users/9530226/maxpelic"}, "edited": false, "score": 0, "creation_date": 1553118924, "post_id": 55270306, "comment_id": 97272691, "body": "In chrome, right click and select inspect or press <code>ctrl+i</code>"}, {"owner": {"reputation": 179, "user_id": 4892784, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/92638e6a774fd70b0de80998f986f57c?s=128&d=identicon&r=PG&f=1", "display_name": "Anthony Yershov", "link": "https://stackoverflow.com/users/4892784/anthony-yershov"}, "reply_to_user": {"reputation": 28847, "user_id": 43848, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/l6ogn.png?s=128&g=1", "display_name": "artem", "link": "https://stackoverflow.com/users/43848/artem"}, "edited": false, "score": 0, "creation_date": 1553118959, "post_id": 55270306, "comment_id": 97272705, "body": "@artem Uncaught ReferenceError: exports is not defined at GridObject.js:2"}, {"owner": {"reputation": 151, "user_id": 9530226, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NgFbB.png?s=128&g=1", "display_name": "maxpelic", "link": "https://stackoverflow.com/users/9530226/maxpelic"}, "edited": false, "score": 0, "creation_date": 1553118972, "post_id": 55270306, "comment_id": 97272713, "body": "May I ask why you added the <code>export</code> keyword?"}, {"owner": {"reputation": 179, "user_id": 4892784, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/92638e6a774fd70b0de80998f986f57c?s=128&d=identicon&r=PG&f=1", "display_name": "Anthony Yershov", "link": "https://stackoverflow.com/users/4892784/anthony-yershov"}, "reply_to_user": {"reputation": 151, "user_id": 9530226, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NgFbB.png?s=128&g=1", "display_name": "maxpelic", "link": "https://stackoverflow.com/users/9530226/maxpelic"}, "edited": false, "score": 0, "creation_date": 1553119265, "post_id": 55270306, "comment_id": 97272804, "body": "@maxpelic because I was writing some code that got a bit messy, so I wanted to split it up into separate files. Specifically 1 file for each class."}, {"owner": {"reputation": 28847, "user_id": 43848, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/l6ogn.png?s=128&g=1", "display_name": "artem", "link": "https://stackoverflow.com/users/43848/artem"}, "edited": false, "score": 1, "creation_date": 1553119271, "post_id": 55270306, "comment_id": 97272812, "body": "@AnthonyYershov so that&#39;s the reason - the compiled code throws an exception which prevents the line with <code>new GridObject()</code> from being executed. The exception is thrown because that&#39;s what browsers do when <code>&quot;use strict&quot;;</code> is declared and there&#39;s a reference to undeclared global object. <code>exports</code> is undeclared because it&#39;s a <code>node.js</code> specific global, which is absent in the browser. The compiled code is referencing <code>node.js</code>-specific <code>exports</code>  global probably because the compilation target is <code>CommonJS</code>."}, {"owner": {"reputation": 28847, "user_id": 43848, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/l6ogn.png?s=128&g=1", "display_name": "artem", "link": "https://stackoverflow.com/users/43848/artem"}, "edited": false, "score": 1, "creation_date": 1553119340, "post_id": 55270306, "comment_id": 97272830, "body": "The typical way to split code into modules and then use it in the browser is to use some kind of module bundler like webpack."}, {"owner": {"reputation": 179, "user_id": 4892784, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/92638e6a774fd70b0de80998f986f57c?s=128&d=identicon&r=PG&f=1", "display_name": "Anthony Yershov", "link": "https://stackoverflow.com/users/4892784/anthony-yershov"}, "edited": false, "score": 0, "creation_date": 1553119397, "post_id": 55270306, "comment_id": 97272853, "body": "So I googled the error msg and I found an answer that worked! All I had to do was type in &lt;script&gt;var exports = {};&lt;/script&gt; before JS references. <a href=\"https://stackoverflow.com/questions/43042889/typescript-referenceerror-exports-is-not-defined\" title=\"typescript referenceerror exports is not defined\">stackoverflow.com/questions/43042889/&hellip;</a>"}, {"owner": {"reputation": 229185, "user_id": 251311, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/b6b0ca5d4ef200ec8e3cd1fa2aefd836?s=128&d=identicon&r=PG", "display_name": "zerkms", "link": "https://stackoverflow.com/users/251311/zerkms"}, "edited": false, "score": 0, "creation_date": 1553119468, "post_id": 55270306, "comment_id": 97272880, "body": "@AnthonyYershov if you target pre-ES2015, then how exactly it exports a symbol to the global space depends on the compiler configuration. Just open the compiled file and check what it does."}, {"owner": {"reputation": 179, "user_id": 4892784, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/92638e6a774fd70b0de80998f986f57c?s=128&d=identicon&r=PG&f=1", "display_name": "Anthony Yershov", "link": "https://stackoverflow.com/users/4892784/anthony-yershov"}, "reply_to_user": {"reputation": 229185, "user_id": 251311, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/b6b0ca5d4ef200ec8e3cd1fa2aefd836?s=128&d=identicon&r=PG", "display_name": "zerkms", "link": "https://stackoverflow.com/users/251311/zerkms"}, "edited": false, "score": 0, "creation_date": 1553120019, "post_id": 55270306, "comment_id": 97273081, "body": "@zerkms vs code underlines &#39;exports&#39; and gives the following tool-tip: File is a CommonJS module; it may be converted to an ES6 module.ts(80001). Is this what you mean?"}, {"owner": {"reputation": 229185, "user_id": 251311, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/b6b0ca5d4ef200ec8e3cd1fa2aefd836?s=128&d=identicon&r=PG", "display_name": "zerkms", "link": "https://stackoverflow.com/users/251311/zerkms"}, "edited": false, "score": 0, "creation_date": 1553121848, "post_id": 55270306, "comment_id": 97273640, "body": "<a href=\"https://stackoverflow.com/q/7576001/251311\">stackoverflow.com/q/7576001/251311</a>"}], "owner": {"reputation": 179, "user_id": 4892784, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/92638e6a774fd70b0de80998f986f57c?s=128&d=identicon&r=PG&f=1", "display_name": "Anthony Yershov", "link": "https://stackoverflow.com/users/4892784/anthony-yershov"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 76, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1553118329, "creation_date": 1553116487, "last_edit_date": 1553118329, "question_id": 55270306, "link": "https://stackoverflow.com/questions/55270306/why-does-my-code-not-work-when-i-simply-add-export-in-front-of-my-class", "title": "why does my code not work when I simply add &quot;export&quot; in front of my class?", "body": "<p>Typescript code:</p>\n\n<pre><code>export class GridObject {\n  constructor() {\n    alert(\"hello from GridObject constructor!\");\n  }\n}\n\nvar go = new GridObject();\n</code></pre>\n\n<p>I'm calling the compiled js from my HTML. When I remove \"export\", the alert shows up, and it doesn't when I have \"export\".</p>\n\n<p>The following is the entire compiled js when using export</p>\n\n<pre><code>\"use strict\";\nexports.__esModule = true;\nvar GridObject = /** @class */ (function () {\n  function GridObject() {\n    alert(\"hello from GridObject constructor!\");\n  }\n  return GridObject;\n}());\nexports.GridObject = GridObject;\nvar go = new GridObject();\n</code></pre>\n\n<p>removing export from the TS removes the following 3 lines from the JS</p>\n\n<pre><code>\"use strict\";\nexports.__esModule = true;\n\nexports.GridObject = GridObject;\n</code></pre>\n\n<p>My HTML calls this script like this:</p>\n\n<pre><code>&lt;script src=\"GridObject.js\"&gt;&lt;/script&gt;\n</code></pre>\n\n<p>I tried adding type=\"module\" but that didn't work either.</p>\n"}, {"tags": ["javascript", "reactjs", "typescript", "audio", "jsx"], "answers": [{"comments": [{"owner": {"reputation": 95, "user_id": 10930746, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/w7qrI.png?s=128&g=1", "display_name": "Musayyab Naveed", "link": "https://stackoverflow.com/users/10930746/musayyab-naveed"}, "edited": false, "score": 0, "creation_date": 1553118538, "post_id": 55270654, "comment_id": 97272584, "body": "ohh, okay understand. No I don&#39;t just want to play the player immediately, I want to program it completely myself, so how should I call my functions?"}, {"owner": {"reputation": 36, "user_id": 6711065, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jpYgJ.png?s=128&g=1", "display_name": "Tyler Massey", "link": "https://stackoverflow.com/users/6711065/tyler-massey"}, "reply_to_user": {"reputation": 95, "user_id": 10930746, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/w7qrI.png?s=128&g=1", "display_name": "Musayyab Naveed", "link": "https://stackoverflow.com/users/10930746/musayyab-naveed"}, "edited": false, "score": 0, "creation_date": 1553118701, "post_id": 55270654, "comment_id": 97272638, "body": "Since you included the <code>controls</code> prop on the <code>audio</code> element, the user will have the ability to play/pause the audio. If you want further control, you could attach a <code>ref</code> to your <code>audio</code> element, and use that to control the audio. Here&#39;s an <a href=\"https://stackoverflow.com/questions/48748063/react-refs-audio-playback-unhandled-rejection-notsupportederror-on-ios\">example</a>"}, {"owner": {"reputation": 95, "user_id": 10930746, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/w7qrI.png?s=128&g=1", "display_name": "Musayyab Naveed", "link": "https://stackoverflow.com/users/10930746/musayyab-naveed"}, "edited": false, "score": 0, "creation_date": 1553118982, "post_id": 55270654, "comment_id": 97272716, "body": "<code>controls</code> prop is just temporary for testing purposes"}, {"owner": {"reputation": 95, "user_id": 10930746, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/w7qrI.png?s=128&g=1", "display_name": "Musayyab Naveed", "link": "https://stackoverflow.com/users/10930746/musayyab-naveed"}, "edited": false, "score": 0, "creation_date": 1553119024, "post_id": 55270654, "comment_id": 97272731, "body": "can you maybe show an example of how I can cast it properly it Typescript?"}, {"owner": {"reputation": 36, "user_id": 6711065, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jpYgJ.png?s=128&g=1", "display_name": "Tyler Massey", "link": "https://stackoverflow.com/users/6711065/tyler-massey"}, "reply_to_user": {"reputation": 95, "user_id": 10930746, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/w7qrI.png?s=128&g=1", "display_name": "Musayyab Naveed", "link": "https://stackoverflow.com/users/10930746/musayyab-naveed"}, "edited": false, "score": 0, "creation_date": 1553119110, "post_id": 55270654, "comment_id": 97272754, "body": "Again, this won&#39;t solve your problem, but to cast it, you could do this <code>const mytrack = document.getElementById(&#39;mytrack&#39;); (mytrack as HTMLAudioElement).play();</code>  I would recommend using the <code>ref</code> approach."}, {"owner": {"reputation": 95, "user_id": 10930746, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/w7qrI.png?s=128&g=1", "display_name": "Musayyab Naveed", "link": "https://stackoverflow.com/users/10930746/musayyab-naveed"}, "edited": false, "score": 0, "creation_date": 1553119236, "post_id": 55270654, "comment_id": 97272797, "body": "Thank you it is working, I am just calling it from <code>componentDidMount()</code> so that it gets rendered before"}], "tags": [], "owner": {"reputation": 36, "user_id": 6711065, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jpYgJ.png?s=128&g=1", "display_name": "Tyler Massey", "link": "https://stackoverflow.com/users/6711065/tyler-massey"}, "is_accepted": true, "score": 1, "last_activity_date": 1553118309, "creation_date": 1553118309, "answer_id": 55270654, "question_id": 55270136, "link": "https://stackoverflow.com/questions/55270136/cannot-play-audio-in-react-typescript-with-play-function-error-property-pl/55270654#55270654", "title": "Cannot Play Audio in React Typescript with play() function | Error: Property &#39;play&#39; does not exist", "body": "<p>There are a couple of issues here.</p>\n\n<ol>\n<li>The <code>play</code> method exists on <code>HTMLAudioElement</code> and not <code>HTMLElement</code>. <code>getElementById</code> returns <code>HTMLElement | null</code>, so you'd have to cast <code>mytrack</code> as <code>HTMLAudioElement</code> for TypeScript to allow it.</li>\n</ol>\n\n<p>But that's not the main problem.</p>\n\n<ol start=\"2\">\n<li>The real issue is that your code to get and play the audio file is running before the code (in <code>render</code>) that creates the audio element. If you're wanting to play the audio file immediately, try including the <code>autoplay</code> property on the <code>audio</code> element.</li>\n</ol>\n"}], "owner": {"reputation": 95, "user_id": 10930746, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/w7qrI.png?s=128&g=1", "display_name": "Musayyab Naveed", "link": "https://stackoverflow.com/users/10930746/musayyab-naveed"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1287, "favorite_count": 0, "accepted_answer_id": 55270654, "answer_count": 1, "score": 1, "last_activity_date": 1553118309, "creation_date": 1553115731, "question_id": 55270136, "link": "https://stackoverflow.com/questions/55270136/cannot-play-audio-in-react-typescript-with-play-function-error-property-pl", "title": "Cannot Play Audio in React Typescript with play() function | Error: Property &#39;play&#39; does not exist", "body": "<p>I have created a simple Audio Player in React js with Typescript and I am trying to use the normal HTML5 functions to Play and Pause the Audio but it is not working.</p>\n\n<p>When I do <code>mytrack.play();</code> I  get this error: <code>Property 'play' does not exist on type 'HTMLElement'.</code> </p>\n\n<p>Here is my code:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>import React, { Component } from \"react\";\r\nimport \"./SimplePlayer.css\";\r\nimport styled from \"styled-components\";\r\n\r\nexport interface SimplePlayerProps {}\r\n\r\nvar mytrack = document.getElementById(\"mytrack\");\r\nconsole.log(mytrack);\r\nmytrack.play();\r\n\r\nexport class SimplePlayer extends Component&lt;SimplePlayerProps&gt; {\r\n  constructor(props: SimplePlayerProps) {\r\n    super(props);\r\n    console.log(this.props);\r\n    this.state = {};\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      &lt;div id=\"wrapper\"&gt;\r\n        &lt;audio id=\"mytrack\" controls&gt;\r\n          &lt;source src=\"audio.mp3\" /&gt;\r\n        &lt;/audio&gt;\r\n        &lt;nav&gt;\r\n          &lt;div id=\"defaultBar\"&gt;\r\n            &lt;div id=\"progressBar\" /&gt;\r\n          &lt;/div&gt;\r\n          &lt;div id=\"buttons\"&gt;\r\n            &lt;button type=\"button\" id=\"playButton\" /&gt;\r\n            &lt;button type=\"button\" id=\"muteButton\" /&gt;\r\n            &lt;span id=\"currentTime\"&gt;0:00&lt;/span&gt;/\r\n            &lt;span id=\"fullDuration\"&gt;0:00&lt;/span&gt;\r\n          &lt;/div&gt;\r\n        &lt;/nav&gt;\r\n      &lt;/div&gt;\r\n    );\r\n  }\r\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>Any Help would be really appreciated :)\nMany Thanks</p>\n\n<p>Best Regards,\nMusayyab Naveed</p>\n"}, {"tags": ["angular", "typescript", "ionic-framework", "ionic4"], "comments": [{"owner": {"reputation": 15073, "user_id": 2279488, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/c41VI.jpg?s=128&g=1", "display_name": "Reza", "link": "https://stackoverflow.com/users/2279488/reza"}, "edited": false, "score": 0, "creation_date": 1553191914, "post_id": 55269883, "comment_id": 97303308, "body": "take a loot at this <a href=\"https://medium.com/@blewpri/sharing-logic-between-ionic2-apps-f06feaf51fad\" rel=\"nofollow noreferrer\">medium.com/@blewpri/&hellip;</a>"}, {"owner": {"reputation": 2835, "user_id": 3719922, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/KjMLK.png?s=128&g=1", "display_name": "Chris", "link": "https://stackoverflow.com/users/3719922/chris"}, "reply_to_user": {"reputation": 15073, "user_id": 2279488, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/c41VI.jpg?s=128&g=1", "display_name": "Reza", "link": "https://stackoverflow.com/users/2279488/reza"}, "edited": false, "score": 0, "creation_date": 1553262127, "post_id": 55269883, "comment_id": 97330256, "body": "@RezaRahmati thanks for the hint, unfortunately I had several errors with npm link, probably while compiling the external module. I will keep trying"}], "owner": {"reputation": 2835, "user_id": 3719922, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/KjMLK.png?s=128&g=1", "display_name": "Chris", "link": "https://stackoverflow.com/users/3719922/chris"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 133, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1553191337, "creation_date": 1553114716, "last_edit_date": 1553191337, "question_id": 55269883, "link": "https://stackoverflow.com/questions/55269883/share-ionic-4-angular7-modules-across-projects", "title": "Share ionic 4 / angular7 modules across projects", "body": "<p>I have an ionic4/angular7 project with several modules. Now I want to make a clone of this project, using the modules as shared modules in every clone.</p>\n\n<p>Structure:</p>\n\n<pre><code>folder\n  |-- shared-module-1\n       |--  index.ts\n       |--  package.json\n       |--  pages\n            |--  myPage\n       ...stuff\n\n  |-- shared-module-2\n       ...stuff\n\n  |-- ionic-project\n      |--  package.json\n      |--  angular.json\n      |--  tsconfig.json\n      ...stuff\n\n  |-- ionic-project-clone\n  etc\n</code></pre>\n\n<p>I specified to load the shared modules in tsconfig</p>\n\n<pre><code>\"paths\": {\n    \"@sharedModule1\": [\n       \"../shared-module-1\"\n    ]\n }\n</code></pre>\n\n<p>following this <a href=\"https://coding4dummies.net/sharing-local-angular-libraries-without-npm-99987470834c\" rel=\"nofollow noreferrer\">tutorial</a>. The typescript compiler in VS Code works fine and I can run ionic serve without a problem. However in the browser I get an error like <code>Cannot find module './pages/my-page/myPage.module'</code>. Whilst the page is part of the shared module and lazy loaded (if that is of importance).</p>\n\n<p>My guess is, webpack does not compile the page in my shared module. I tried messing around with lazyModules in the angular.json file, but so far no luck.</p>\n\n<p>Has anyone done something similar before? </p>\n\n<p>UPDATE:\nI think it must have something to do with lazy loading the page inside the shared module. The shared module gets loaded actually I could see in the console. Just the page-module inside fails to load.</p>\n\n<p>UPDATE 2:\nI tried the same with symlinks, but ended up in the same error.</p>\n"}, {"tags": ["reactjs", "typescript"], "answers": [{"tags": [], "owner": {"reputation": 81718, "user_id": 3617886, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/y26OT.jpg?s=128&g=1", "display_name": "Tholle", "link": "https://stackoverflow.com/users/3617886/tholle"}, "is_accepted": true, "score": 2, "last_activity_date": 1553114404, "creation_date": 1553114404, "answer_id": 55269797, "question_id": 55269749, "link": "https://stackoverflow.com/questions/55269749/dynamically-change-image-source-based-on-boolean-value/55269797#55269797", "title": "Dynamically change image source based on boolean value", "body": "<p>Instead of trying to manipulate the img element in the DOM, you could use <code>task.isComplete</code> with the ternary operator to give the img element the correct <code>src</code>.</p>\n\n<pre><code>&lt;img\n  src={\n    task.isComplete\n      ? \"../ClientApp/images/Green.png\"\n      : \"../ClientApp/images/Grey.png\"\n  }\n  width=\"22\"\n  alt=\"\"\n  className=\"icon\"\n  id=\"icon-status\"\n/&gt;\n</code></pre>\n"}], "owner": {"reputation": 597, "user_id": 8525056, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5895d0e70d946fbe5ab7c9aaf6b8aee3?s=128&d=identicon&r=PG&f=1", "display_name": "invrt", "link": "https://stackoverflow.com/users/8525056/invrt"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 339, "favorite_count": 0, "accepted_answer_id": 55269797, "answer_count": 1, "score": 2, "last_activity_date": 1553114404, "creation_date": 1553114166, "question_id": 55269749, "link": "https://stackoverflow.com/questions/55269749/dynamically-change-image-source-based-on-boolean-value", "title": "Dynamically change image source based on boolean value", "body": "<p>I have an API call that retrieves an array of objects that looks like this\n{id: 12313, isComplete: true}</p>\n\n<pre><code>   changeImage(isComplete: string) {\n    let image = document.getElementById(\"icon-status\") as HTMLImageElement    \n    if(isComplete) {\n      return image.src = '../ClientApp/images/Green.png'\n    }\n    return image.src = \"../ClientApp/images/Grey.png\";\n  }\n</code></pre>\n\n<p>Basically set image.src = \"green\" if isComplete = true, else set image.src = \"grey\"</p>\n\n<p>my HTML looks like this <code>&lt;img src={this.changeImage(task.isComplete)} width=\"22\" alt=\"\" className=\"icon\" id=\"icon-status\"/&gt;\n</code></p>\n\n<p>At the moment I'm getting TypeError: Cannot set property 'src' of null..</p>\n\n<p>Any ideas?</p>\n"}, {"tags": ["reactjs", "typescript", "jsx", "typescript-typings"], "comments": [{"owner": {"reputation": 11358, "user_id": 2708650, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-iuLvd5ToDQ8/AAAAAAAAAAI/AAAAAAAAAEA/aGdWcMU2x_4/photo.jpg?sz=128", "display_name": "Ian MacDonald", "link": "https://stackoverflow.com/users/2708650/ian-macdonald"}, "edited": false, "score": 0, "creation_date": 1553114122, "post_id": 55269728, "comment_id": 97270576, "body": "This doesn&#39;t appear to be proper TypeScript."}, {"owner": {"reputation": 1796, "user_id": 5914352, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-95K_ALMidVw/AAAAAAAAAAI/AAAAAAAAABY/-XW0VDjXD7Q/photo.jpg?sz=128", "display_name": "Przemyslaw Jan Beigert", "link": "https://stackoverflow.com/users/5914352/przemyslaw-jan-beigert"}, "edited": false, "score": 0, "creation_date": 1553114171, "post_id": 55269728, "comment_id": 97270612, "body": "Could you be more precise? what is your problem? complication error?"}, {"owner": {"reputation": 5465, "user_id": 1837080, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/6d11efa92fc1e87409bc48fa47d29e9e?s=128&d=identicon&r=PG", "display_name": "Zac", "link": "https://stackoverflow.com/users/1837080/zac"}, "edited": false, "score": 0, "creation_date": 1553114272, "post_id": 55269728, "comment_id": 97270670, "body": "Does it matter in your case, why not use <code>any</code> as the return type?"}, {"owner": {"reputation": 123, "user_id": 1675721, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/f54267f26d8a1738a105ec9806afc692?s=128&d=identicon&r=PG", "display_name": "Kenny Wagenknecht", "link": "https://stackoverflow.com/users/1675721/kenny-wagenknecht"}, "edited": false, "score": 0, "creation_date": 1554204974, "post_id": 55269728, "comment_id": 97658065, "body": "I need a specific type. Quick Example: I built a table in React. And the Table head needs to be a component type of <code>class TableHead extends React.Component\u2026</code>"}, {"owner": {"reputation": 108, "user_id": 9715126, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/oEIEy.jpg?s=128&g=1", "display_name": "Matt Tingen", "link": "https://stackoverflow.com/users/9715126/matt-tingen"}, "edited": false, "score": 0, "creation_date": 1559326455, "post_id": 55269728, "comment_id": 99398350, "body": "TypeScript cannot differentiate instantiated JSX nodes like this. There is <a href=\"https://github.com/Microsoft/TypeScript/issues/21699\" rel=\"nofollow noreferrer\">an open issue to track this functionality</a>, but it would be a breaking change so it has to be carefully considered."}], "answers": [{"tags": [], "owner": {"reputation": 5529, "user_id": 1939697, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/5af836fe4c7401f77e1f58f0d5cce819?s=128&d=identicon&r=PG", "display_name": "UncleDave", "link": "https://stackoverflow.com/users/1939697/uncledave"}, "is_accepted": false, "score": 1, "last_activity_date": 1553114322, "creation_date": 1553114322, "answer_id": 55269782, "question_id": 55269728, "link": "https://stackoverflow.com/questions/55269728/how-to-define-specific-return-type-of-react-method-typescript/55269782#55269782", "title": "How to define specific return type of react method (typescript)", "body": "<p>Your <code>renderComponentFoo</code> method should return <code>React.ReactNode</code> instead.</p>\n\n<p>JSX/TSX is just syntax sugar around <code>React.createElement()</code> which returns <code>React.ReactNode</code>. You are not returning an instance of <code>ComponentFoo</code> as your current code suggests.</p>\n"}], "owner": {"reputation": 123, "user_id": 1675721, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/f54267f26d8a1738a105ec9806afc692?s=128&d=identicon&r=PG", "display_name": "Kenny Wagenknecht", "link": "https://stackoverflow.com/users/1675721/kenny-wagenknecht"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 405, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1553114322, "creation_date": 1553114050, "question_id": 55269728, "link": "https://stackoverflow.com/questions/55269728/how-to-define-specific-return-type-of-react-method-typescript", "title": "How to define specific return type of react method (typescript)", "body": "<p>I want to define a return type of a specific react component.</p>\n\n<p>For Example:</p>\n\n<p><strong>Component 1</strong></p>\n\n<pre><code>class ComponentFoo extends React.Component&lt;any, any&gt; {\n   public render() {\u2026}\n}\n</code></pre>\n\n<p><strong>Component 2</strong></p>\n\n<pre><code>class ComponentBar extends React.Component&lt;any, any&gt; {\n    public renderComponentFoo() : ComponentFoo { &lt;---\n      return &lt;ComponentFoo /&gt;\n    }\n\n    public render() {\n      \u2026\n      {this.renderComponentFoo()}\n      \u2026\n    }\n}\n</code></pre>\n\n<p>Is something like this possible? </p>\n"}, {"tags": ["javascript", "typescript"], "comments": [{"owner": {"reputation": 27488, "user_id": 1778465, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/NxIPr.jpg?s=128&g=1", "display_name": "Get Off My Lawn", "link": "https://stackoverflow.com/users/1778465/get-off-my-lawn"}, "edited": false, "score": 2, "creation_date": 1553113720, "post_id": 55269637, "comment_id": 97270384, "body": "You can&#39;t use <code>import</code> to do that. However, you can use a <code>namespace</code>"}, {"owner": {"reputation": 28847, "user_id": 43848, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/l6ogn.png?s=128&g=1", "display_name": "artem", "link": "https://stackoverflow.com/users/43848/artem"}, "edited": false, "score": 0, "creation_date": 1553114223, "post_id": 55269637, "comment_id": 97270645, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/40084498/typescript-without-module-loader\">Typescript without module loader?</a>"}], "answers": [{"comments": [{"owner": {"reputation": 23477, "user_id": 374198, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/ed8129b80e0e4cd6152b1035e06a9a6a?s=128&d=identicon&r=PG&f=1", "display_name": "Josh M.", "link": "https://stackoverflow.com/users/374198/josh-m"}, "edited": false, "score": 0, "creation_date": 1553118071, "post_id": 55269780, "comment_id": 97272425, "body": "I will update the OP but I do need to use <code>import</code> within &quot;other-funcs&quot; for instance. Which I don&#39;t think is valid within a namespace -- right?"}, {"owner": {"reputation": 27488, "user_id": 1778465, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/NxIPr.jpg?s=128&g=1", "display_name": "Get Off My Lawn", "link": "https://stackoverflow.com/users/1778465/get-off-my-lawn"}, "reply_to_user": {"reputation": 23477, "user_id": 374198, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/ed8129b80e0e4cd6152b1035e06a9a6a?s=128&d=identicon&r=PG&f=1", "display_name": "Josh M.", "link": "https://stackoverflow.com/users/374198/josh-m"}, "edited": false, "score": 0, "creation_date": 1553139996, "post_id": 55269780, "comment_id": 97277845, "body": "To use import you then need to also use requirejs"}, {"owner": {"reputation": 27488, "user_id": 1778465, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/NxIPr.jpg?s=128&g=1", "display_name": "Get Off My Lawn", "link": "https://stackoverflow.com/users/1778465/get-off-my-lawn"}, "reply_to_user": {"reputation": 23477, "user_id": 374198, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/ed8129b80e0e4cd6152b1035e06a9a6a?s=128&d=identicon&r=PG&f=1", "display_name": "Josh M.", "link": "https://stackoverflow.com/users/374198/josh-m"}, "edited": false, "score": 0, "creation_date": 1553179441, "post_id": 55269780, "comment_id": 97295859, "body": "@JoshM. I have updated the answer with a way to use <code>import</code> within your browser application."}, {"owner": {"reputation": 27488, "user_id": 1778465, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/NxIPr.jpg?s=128&g=1", "display_name": "Get Off My Lawn", "link": "https://stackoverflow.com/users/1778465/get-off-my-lawn"}, "reply_to_user": {"reputation": 23477, "user_id": 374198, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/ed8129b80e0e4cd6152b1035e06a9a6a?s=128&d=identicon&r=PG&f=1", "display_name": "Josh M.", "link": "https://stackoverflow.com/users/374198/josh-m"}, "edited": false, "score": 0, "creation_date": 1553180930, "post_id": 55269780, "comment_id": 97296907, "body": "@JoshM. The answer now has 3 options for you to choose from to write a working browser application with typescript with/without <code>imports</code>."}, {"owner": {"reputation": 23477, "user_id": 374198, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/ed8129b80e0e4cd6152b1035e06a9a6a?s=128&d=identicon&r=PG&f=1", "display_name": "Josh M.", "link": "https://stackoverflow.com/users/374198/josh-m"}, "edited": false, "score": 0, "creation_date": 1553274538, "post_id": 55269780, "comment_id": 97337739, "body": "Thanks for your dedication! I&#39;ve decided to use rollup in order to make my generated JS code easily runnable in the browser."}], "tags": [], "owner": {"reputation": 27488, "user_id": 1778465, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/NxIPr.jpg?s=128&g=1", "display_name": "Get Off My Lawn", "link": "https://stackoverflow.com/users/1778465/get-off-my-lawn"}, "is_accepted": false, "score": 4, "last_activity_date": 1553182977, "last_edit_date": 1553182977, "creation_date": 1553114308, "answer_id": 55269780, "question_id": 55269637, "link": "https://stackoverflow.com/questions/55269637/use-typescript-to-output-plain-js-not-a-module/55269780#55269780", "title": "Use Typescript to output plain JS, not a module?", "body": "<h1>Vanilla JavaScript</h1>\n\n<p>Whenever you use <code>import</code> it will always build out to a module. You can however use <code>namespaces</code> alongside <code>\"module\": \"system\"</code>, this can then be output to a single file (or multiple files).</p>\n\n<p>so, for a very basic project you would have the following:</p>\n\n<h2>tsconfig.json</h2>\n\n<pre><code>{\n  \"compilerOptions\": {\n    \"target\": \"es2016\",\n    \"module\": \"system\",\n    \"outFile\": \"./lib.js\"\n  },\n  \"include\": [\n    \"./**/*.ts\"\n  ]\n}\n</code></pre>\n\n<p>Next you would then create your files to look like this:</p>\n\n<h2>index.ts</h2>\n\n<pre><code>namespace MyNamespace {\n  // This is a private method that cannot be accessed in other files\n  // the reason for that is because it isn't exported.\n  function y() {\n    alert(\"test\");\n  }\n\n  x(y)\n}\n</code></pre>\n\n<h2>functions.ts</h2>\n\n<pre><code>namespace MyNamespace {\n  // This method can be referenced in other files because it is exported.\n  export function x(callback: () =&gt; void): void {\n    callback();\n  }\n}\n</code></pre>\n\n<h2>The generated browser code</h2>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>var MyNamespace;\r\n(function(MyNamespace) {\r\n  function x(callback) {\r\n    callback();\r\n  }\r\n  MyNamespace.x = x;\r\n})(MyNamespace || (MyNamespace = {}));\r\nvar MyNamespace;\r\n(function(MyNamespace) {\r\n  function y() {\r\n    alert(\"test\");\r\n  }\r\n  MyNamespace.x(y);\r\n})(MyNamespace || (MyNamespace = {}));</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>You can then use these methods/functions outside of the namespace by simply by calling them via the namespace:</p>\n\n<pre><code>MyNamespace.y()\nMyNamespace.x(MyNamespace.y)\n// etc.\n</code></pre>\n\n<hr>\n\n<h1>Using requirejs</h1>\n\n<p>To use <code>import</code> within your project, you will need a 3rd party library <a href=\"https://www.npmjs.com/package/requirejs\" rel=\"nofollow noreferrer\">requirejs</a>. This will allow you to use modules within the browser.</p>\n\n<p>So, to do this, we first need to have the proper config file which looks similar to above the only difference is <code>\"module\": \"amd\"</code>.</p>\n\n<h2>tsconfig.json</h2>\n\n<pre><code>{\n  \"compilerOptions\": {\n    \"target\": \"es2016\",\n    \"module\": \"amd\",\n    \"outFile\": \"./lib.js\"\n  },\n  \"include\": [\n    \"./**/*.ts\"\n  ]\n}\n</code></pre>\n\n<p>Next we need to create the proper typescript main file:</p>\n\n<h2>index.ts</h2>\n\n<pre><code>requirejs(['functions'], function (util: any) {\n  function y() {\n    alert(\"test\");\n  }\n\n  util.x(y)\n})\n</code></pre>\n\n<p>Since this is using a 3rd party library, it is initialized differently (using <code>requirejs()</code>). This tells requirejs that this is the entry point to the application thus this is only needed once.</p>\n\n<h2>functions.ts</h2>\n\n<pre><code>export function x(callback: () =&gt; void): void {\n  callback();\n}\n</code></pre>\n\n<h2>The generated browser code</h2>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>define(\"functions\", [\"require\", \"exports\"], function (require, exports) {\r\n    \"use strict\";\r\n    Object.defineProperty(exports, \"__esModule\", { value: true });\r\n    function x(callback) {\r\n        callback();\r\n    }\r\n    exports.x = x;\r\n});\r\nrequirejs(['functions'], function (util) {\r\n    function y() {\r\n        alert(\"test\");\r\n    }\r\n    util.x(y);\r\n});</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;script src=\"https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.js\"&gt;&lt;/script&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>If your script is in an external file, you can use <code>data-main</code> on the script tag, requirejs will then load the file automatically.</p>\n\n<pre><code>&lt;script data-main=\"./lib\" src=\"https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.js\"&gt;&lt;/script&gt;\n</code></pre>\n\n<hr>\n\n<h1>Experimental Modules</h1>\n\n<p><a href=\"https://hacks.mozilla.org/2015/08/es6-in-depth-modules/\" rel=\"nofollow noreferrer\">This feature is still experimental, and not supported in all browsers</a>. All you need to do is use the <code>type=\"module\"</code> attribute on your script tag:</p>\n\n<pre><code>&lt;script type=\"module\" src=\"./path/to/main.js\"&gt;&lt;/script&gt;\n</code></pre>\n\n<h2>tsconfig.json</h2>\n\n<p><strong>Note:</strong> that here we use both a different <code>target</code> and <code>module</code>, and also an <code>outDir</code>.<br>\n<strong>Note:</strong> <code>es2016</code> is not a valid module type.</p>\n\n<pre><code>{\n  \"compilerOptions\": {\n    \"target\": \"es2016\",\n    \"module\": \"es2015\",\n    \"outDir\": \"./lib\"\n  },\n  \"include\": [\n    \"./**/*.ts\"\n  ]\n}\n</code></pre>\n\n<h2>index.ts</h2>\n\n<p><strong>Note:</strong> <code>import</code> uses a <code>.js</code> extension otherwise the browser can't load it unless you have rewrite rules in place.</p>\n\n<pre><code>import { x } from './functions.js'\nfunction y() {\n  alert(\"test\");\n}\n\nx(y)\n</code></pre>\n\n<h2>functions.ts</h2>\n\n<pre><code>export function x(callback: () =&gt; void): void {\n  callback();\n}\n</code></pre>\n\n<p>This will output nearly the same as the ts files (Stackoverflow doesn't support external js files unless they are hosted somewhere, so no snippet here):</p>\n\n<pre><code>// index.js\nimport { x } from './functions.js';\nfunction y() {\n    alert(\"test\");\n}\nx(y);\n\n// functions.js\nexport function x(callback) {\n    callback();\n}\n</code></pre>\n"}], "owner": {"reputation": 23477, "user_id": 374198, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/ed8129b80e0e4cd6152b1035e06a9a6a?s=128&d=identicon&r=PG&f=1", "display_name": "Josh M.", "link": "https://stackoverflow.com/users/374198/josh-m"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1274, "favorite_count": 0, "answer_count": 1, "score": 7, "last_activity_date": 1553182977, "creation_date": 1553113672, "last_edit_date": 1553118056, "question_id": 55269637, "link": "https://stackoverflow.com/questions/55269637/use-typescript-to-output-plain-js-not-a-module", "title": "Use Typescript to output plain JS, not a module?", "body": "<p>For example ...</p>\n\n<p><strong>index.ts</strong></p>\n\n<pre><code>import { x } from \"./other-funcs\";\n\nfunction y() {\n    alert(\"test\");\n}\n\nx(y);\n</code></pre>\n\n<p><strong>other-funcs.ts</strong></p>\n\n<pre><code>import { z } from \"some-module\";\n\nexport function x(callback: () =&gt; void): void {\n    z();\n    callback();\n}\n</code></pre>\n\n<p>(Note that \"other-funcs.ts\" uses an import statement to import a function from some other module.)</p>\n\n<p>I'd like to compile <code>index.ts</code> and have it result in a JS file which can be directly included in an HTML file, e.g. <code>&lt;script src=\"index.js\"&gt;&lt;/script&gt;</code>, and have it immediately execute in the browser (show the alert).</p>\n\n<p><strong>sample output</strong></p>\n\n<pre><code>function x(callback) {\n    callback();\n}\n\nfunction y() {\n    alert(\"test\");\n}\n\nx(y);\n</code></pre>\n\n<p>I can't seem to get the proper TS config to get this outcome. Please advise.</p>\n\n<p>Note: This is not the same as <a href=\"https://stackoverflow.com/questions/40084498\">this question</a> because I need to use <code>import</code>, etc. I just want the result to be simple JS output without a module loader.</p>\n"}, {"tags": ["reactjs", "typescript", "visual-studio-code", "intellisense"], "answers": [{"tags": [], "owner": {"reputation": 92, "user_id": 8286101, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-XoeSb1cW0v8/AAAAAAAAAAI/AAAAAAAAAb8/tPcNyROaEpQ/photo.jpg?sz=128", "display_name": "Lakshaya Sood", "link": "https://stackoverflow.com/users/8286101/lakshaya-sood"}, "is_accepted": false, "score": 0, "last_activity_date": 1553113713, "creation_date": 1553113713, "answer_id": 55269646, "question_id": 55269520, "link": "https://stackoverflow.com/questions/55269520/is-there-any-way-to-enable-typescript-interfaces-intellisense-for-react-project/55269646#55269646", "title": "Is there any way to enable TypeScript interfaces IntelliSense for React project in VSCode?", "body": "<p>you can check following extentions:</p>\n\n<ol>\n<li>TypeScript God</li>\n<li>TSLint</li>\n</ol>\n\n<p>React Typescript cheat-sheet: <a href=\"https://github.com/sw-yx/react-typescript-cheatsheet\" rel=\"nofollow noreferrer\">https://github.com/sw-yx/react-typescript-cheatsheet</a></p>\n"}], "owner": {"reputation": 3399, "user_id": 8936320, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/vF3VX.jpg?s=128&g=1", "display_name": "Ishan Patel", "link": "https://stackoverflow.com/users/8936320/ishan-patel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 127, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1553113713, "creation_date": 1553113118, "question_id": 55269520, "link": "https://stackoverflow.com/questions/55269520/is-there-any-way-to-enable-typescript-interfaces-intellisense-for-react-project", "title": "Is there any way to enable TypeScript interfaces IntelliSense for React project in VSCode?", "body": "<p>There are TypeScript interfaces available for DOM, ES5 &amp; for other JavaScript modules. </p>\n\n<p>I was wondering if it's possible to get intellisense like how <a href=\"https://www.typescriptlang.org/play/index.html\" rel=\"nofollow noreferrer\">TypeScript Playground</a> has for different interfaces in React project? </p>\n"}, {"tags": ["angular", "typescript"], "comments": [{"owner": {"reputation": 1796, "user_id": 5914352, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-95K_ALMidVw/AAAAAAAAAAI/AAAAAAAAABY/-XW0VDjXD7Q/photo.jpg?sz=128", "display_name": "Przemyslaw Jan Beigert", "link": "https://stackoverflow.com/users/5914352/przemyslaw-jan-beigert"}, "edited": false, "score": 0, "creation_date": 1553110469, "post_id": 55268835, "comment_id": 97268772, "body": "You sure that it works without <code>as ENV</code>?"}, {"owner": {"reputation": 1, "user_id": 11234071, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-sh_Q6AyLJAs/AAAAAAAAAAI/AAAAAAAAJ7E/-pn103BbS2k/photo.jpg?sz=128", "display_name": "Esteban Vera", "link": "https://stackoverflow.com/users/11234071/esteban-vera"}, "reply_to_user": {"reputation": 1796, "user_id": 5914352, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-95K_ALMidVw/AAAAAAAAAAI/AAAAAAAAABY/-XW0VDjXD7Q/photo.jpg?sz=128", "display_name": "Przemyslaw Jan Beigert", "link": "https://stackoverflow.com/users/5914352/przemyslaw-jan-beigert"}, "edited": false, "score": 0, "creation_date": 1553110695, "post_id": 55268835, "comment_id": 97268879, "body": "@PrzemyslawPietrzak Yes, but I want to handle the alias but in the update of angular and it does not work it says &quot;ERROR ReferenceError: _environment_1 is not defined&quot;"}, {"owner": {"reputation": 1478, "user_id": 1179284, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/d2ab3decc25a3b540e2669215c176545?s=128&d=identicon&r=PG", "display_name": "AndrewP", "link": "https://stackoverflow.com/users/1179284/andrewp"}, "edited": false, "score": 0, "creation_date": 1553125503, "post_id": 55268835, "comment_id": 97274700, "body": "code works for me - without the .ts on the end <code>import { environment as ENV } from &#39;environments&#47;environment&#39;;</code>"}], "owner": {"reputation": 1, "user_id": 11234071, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-sh_Q6AyLJAs/AAAAAAAAAAI/AAAAAAAAJ7E/-pn103BbS2k/photo.jpg?sz=128", "display_name": "Esteban Vera", "link": "https://stackoverflow.com/users/11234071/esteban-vera"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 50, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1553110271, "creation_date": 1553110271, "question_id": 55268835, "link": "https://stackoverflow.com/questions/55268835/it-seems-that-the-alias-as-no-longer-works-in-the-build-angular", "title": "it seems that the alias &quot;as&quot; no longer works in the build angular", "body": "<p>update my angular application 7.0.0 to 7.2.9. but when making the production build it says \"ERROR ReferenceError: _environment_1 is not defined\"</p>\n\n<p>I'm using the environment as well:</p>\n\n<p>import { environment as ENV } from 'environments/environment.ts';</p>\n\n<p>the alias(as ENV) is no longer working.</p>\n\n<p>in version 7.0.0 this did not happen</p>\n\n<p>my package.json</p>\n\n<pre><code>{\n\"name\": \"example\",\n\"version\": \"0.0.0\",\n\"scripts\": {\n\"ng\": \"ng\",\n\"start\": \"ng serve\",\n\"build:prod\": \"ng build --configuration=prod\",\n\"build:dev\": \"ng build --configuration=dev\",\n\"test\": \"ng test\",\n\"lint\": \"ng lint\",\n\"e2e\": \"ng e2e\"\n},\n\"private\": true,\n\"dependencies\": {\n\"@angular/animations\": \"~7.2.9\",\n\"@angular/common\": \"~7.2.9\",\n\"@angular/compiler\": \"~7.2.9\",\n\"@angular/core\": \"~7.2.9\",\n\"@angular/forms\": \"~7.2.9\",\n\"@angular/http\": \"~7.2.9\",\n\"@angular/platform-browser\": \"~7.2.9\",\n\"@angular/platform-browser-dynamic\": \"~7.2.9\",\n\"@angular/router\": \"~7.2.9\",\n\"@ngrx/effects\": \"^7.3.0\",\n\"@ngrx/store\": \"^7.3.0\",\n\"@ngrx/store-devtools\": \"^7.3.0\",\n\"@ngx-translate/core\": \"^11.0.1\",\n\"@ngx-translate/http-loader\": \"^4.0.0\",\n\"core-js\": \"^2.5.4\",\n\"js-sha512\": \"^0.8.0\",\n\"rxjs\": \"~6.4.0\",\n\"tiny-slider\": \"2.9.1\",\n\"zone.js\": \"~0.8.26\"\n},\n\"devDependencies\": {\n\"@angular-devkit/build-angular\": \"~0.10.0\",\n\"@angular/cli\": \"~7.3.6\",\n\"@angular/compiler-cli\": \"~7.2.9\",\n\"@angular/language-service\": \"~7.2.9\",\n\"@types/faker\": \"^4.1.4\",\n\"@types/jasmine\": \"~2.8.8\",\n\"@types/jasminewd2\": \"~2.0.3\",\n\"@types/node\": \"~8.9.4\",\n\"codelyzer\": \"~4.5.0\",\n\"faker\": \"^4.1.0\",\n\"http-server\": \"^0.11.1\",\n\"husky\": \"^1.2.1\",\n\"jasmine-core\": \"~2.99.1\",\n\"jasmine-spec-reporter\": \"~4.2.1\",\n\"json-server\": \"0.14.0\",\n\"karma\": \"~3.0.0\",\n\"karma-chrome-launcher\": \"~2.2.0\",\n\"karma-coverage-istanbul-reporter\": \"~2.0.1\",\n\"karma-jasmine\": \"~1.1.2\",\n\"karma-jasmine-html-reporter\": \"^0.2.2\",\n\"protractor\": \"~5.4.0\",\n\"ts-node\": \"~7.0.0\",\n\"tslint\": \"~5.11.0\",\n\"typescript\": \"~3.2.4\",\n\"webpack-bundle-analyzer\": \"^3.0.3\"\n}\n}\n</code></pre>\n"}, {"tags": ["angular", "typescript", "redux", "firebase-authentication", "observable"], "comments": [{"owner": {"reputation": 2637, "user_id": 2334568, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/835bf956a554f33565c3d38ed4c3c832?s=128&d=identicon&r=PG&f=1", "display_name": "Anand G", "link": "https://stackoverflow.com/users/2334568/anand-g"}, "edited": false, "score": 0, "creation_date": 1553108128, "post_id": 55268160, "comment_id": 97267595, "body": "Try importing <code>import &#39;rxjs&#47;add&#47;observable&#47;ofType&#39;</code>"}, {"owner": {"reputation": 165, "user_id": 6146029, "user_type": "registered", "accept_rate": 47, "profile_image": "https://www.gravatar.com/avatar/ba2727e5211e19e3a5275cdcd3aa7db8?s=128&d=identicon&r=PG&f=1", "display_name": "ProgFroz", "link": "https://stackoverflow.com/users/6146029/progfroz"}, "reply_to_user": {"reputation": 2637, "user_id": 2334568, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/835bf956a554f33565c3d38ed4c3c832?s=128&d=identicon&r=PG&f=1", "display_name": "Anand G", "link": "https://stackoverflow.com/users/2334568/anand-g"}, "edited": false, "score": 0, "creation_date": 1553108183, "post_id": 55268160, "comment_id": 97267616, "body": "You mean import &#39;rxjs/add/observable/of&#39;; ?"}, {"owner": {"reputation": 2637, "user_id": 2334568, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/835bf956a554f33565c3d38ed4c3c832?s=128&d=identicon&r=PG&f=1", "display_name": "Anand G", "link": "https://stackoverflow.com/users/2334568/anand-g"}, "edited": false, "score": 0, "creation_date": 1553108229, "post_id": 55268160, "comment_id": 97267636, "body": "edited my comment"}, {"owner": {"reputation": 165, "user_id": 6146029, "user_type": "registered", "accept_rate": 47, "profile_image": "https://www.gravatar.com/avatar/ba2727e5211e19e3a5275cdcd3aa7db8?s=128&d=identicon&r=PG&f=1", "display_name": "ProgFroz", "link": "https://stackoverflow.com/users/6146029/progfroz"}, "reply_to_user": {"reputation": 2637, "user_id": 2334568, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/835bf956a554f33565c3d38ed4c3c832?s=128&d=identicon&r=PG&f=1", "display_name": "Anand G", "link": "https://stackoverflow.com/users/2334568/anand-g"}, "edited": false, "score": 0, "creation_date": 1553108404, "post_id": 55268160, "comment_id": 97267725, "body": "Does not seem to change anything unfortunately."}], "answers": [{"comments": [{"owner": {"reputation": 165, "user_id": 6146029, "user_type": "registered", "accept_rate": 47, "profile_image": "https://www.gravatar.com/avatar/ba2727e5211e19e3a5275cdcd3aa7db8?s=128&d=identicon&r=PG&f=1", "display_name": "ProgFroz", "link": "https://stackoverflow.com/users/6146029/progfroz"}, "edited": false, "score": 0, "creation_date": 1553108895, "post_id": 55268400, "comment_id": 97267955, "body": "Cannot find the module redux-observable, is there anything else I have to add?"}, {"owner": {"reputation": 2637, "user_id": 2334568, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/835bf956a554f33565c3d38ed4c3c832?s=128&d=identicon&r=PG&f=1", "display_name": "Anand G", "link": "https://stackoverflow.com/users/2334568/anand-g"}, "reply_to_user": {"reputation": 165, "user_id": 6146029, "user_type": "registered", "accept_rate": 47, "profile_image": "https://www.gravatar.com/avatar/ba2727e5211e19e3a5275cdcd3aa7db8?s=128&d=identicon&r=PG&f=1", "display_name": "ProgFroz", "link": "https://stackoverflow.com/users/6146029/progfroz"}, "edited": false, "score": 0, "creation_date": 1553111028, "post_id": 55268400, "comment_id": 97269021, "body": "<code>npm i redux-observable</code>"}, {"owner": {"reputation": 165, "user_id": 6146029, "user_type": "registered", "accept_rate": 47, "profile_image": "https://www.gravatar.com/avatar/ba2727e5211e19e3a5275cdcd3aa7db8?s=128&d=identicon&r=PG&f=1", "display_name": "ProgFroz", "link": "https://stackoverflow.com/users/6146029/progfroz"}, "edited": false, "score": 0, "creation_date": 1553113123, "post_id": 55268400, "comment_id": 97270074, "body": "added but still cannot find the module. + redux-observable@1.0.0 added 1 package from 2 contributors and audited 42818 packages in 34.141s"}, {"owner": {"reputation": 165, "user_id": 6146029, "user_type": "registered", "accept_rate": 47, "profile_image": "https://www.gravatar.com/avatar/ba2727e5211e19e3a5275cdcd3aa7db8?s=128&d=identicon&r=PG&f=1", "display_name": "ProgFroz", "link": "https://stackoverflow.com/users/6146029/progfroz"}, "edited": false, "score": 0, "creation_date": 1553113676, "post_id": 55268400, "comment_id": 97270361, "body": "So it seems like it has finally found which module, but ofType is still red underlined as it does not find it, despite the import set. Do I maybe have to change something in the code I posted? Like a .pipe() ?"}], "tags": [], "owner": {"reputation": 2637, "user_id": 2334568, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/835bf956a554f33565c3d38ed4c3c832?s=128&d=identicon&r=PG&f=1", "display_name": "Anand G", "link": "https://stackoverflow.com/users/2334568/anand-g"}, "is_accepted": false, "score": 0, "last_activity_date": 1553108678, "creation_date": 1553108678, "answer_id": 55268400, "question_id": 55268160, "link": "https://stackoverflow.com/questions/55268160/angular-redux-oftype-not-found/55268400#55268400", "title": "Angular Redux ofType not found", "body": "<p>As per the documentation <a href=\"https://redux-observable.js.org/docs/basics/Epics.html#a-basic-example\" rel=\"nofollow noreferrer\">redux-observable</a>, you have to import <code>ofType</code> for filtering specific action.<br>\n<a href=\"https://i.stack.imgur.com/W2sDD.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/W2sDD.png\" alt=\"ofType Operator\"></a></p>\n\n<p>I assume this you probably have to add in your code to.</p>\n\n<p><code>import { ofType } from 'redux-observable';</code></p>\n\n<p>Hope this helps</p>\n"}, {"comments": [{"owner": {"reputation": 165, "user_id": 6146029, "user_type": "registered", "accept_rate": 47, "profile_image": "https://www.gravatar.com/avatar/ba2727e5211e19e3a5275cdcd3aa7db8?s=128&d=identicon&r=PG&f=1", "display_name": "ProgFroz", "link": "https://stackoverflow.com/users/6146029/progfroz"}, "edited": false, "score": 0, "creation_date": 1553129970, "post_id": 55271758, "comment_id": 97275705, "body": "Okay so it seems like there is a whole lot more that is not working anymore since version 5.2, I guess it is the best to downgrade to 5.2 and get that stuff working. Thank you for your help, it solved the issue!"}], "tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user10747134"}, "is_accepted": true, "score": 1, "last_activity_date": 1553125553, "creation_date": 1553125553, "answer_id": 55271758, "question_id": 55268160, "link": "https://stackoverflow.com/questions/55268160/angular-redux-oftype-not-found/55271758#55271758", "title": "Angular Redux ofType not found", "body": "<p>If you're using the modern versions of those libraries, you need to bring that operator from <code>@ngrx/effects</code> and use it in the <code>pipe</code> operator. <a href=\"https://www.learnrxjs.io/operators/transformation/switchmap.html\" rel=\"nofollow noreferrer\"><code>SwitchMap</code></a> is going to change as well so you can return the inner observable from there.</p>\n\n<p><a href=\"https://www.learnrxjs.io\" rel=\"nofollow noreferrer\">Here is an RXJS reference</a> I frequently use as a dictionary.</p>\n\n<p>As for the code, it could go something roughly along the lines of:</p>\n\n<pre><code>this.actions.pipe(\n  ofType&lt;GET_USER&gt;(userActions.GET_USER),\n  map((action: userActions.GetUser) =&gt; action.payload),\n  switchMap(payload =&gt;\n    this.angularFireAuth.authState.pipe(\n      delay(2000), // just to show some loading stuff\n      map( authData =&gt; {\n        if (authData) {\n          // User is logged in\n          const user = new User(authData.uid, authData.displayName);\n          return new userActions.Authenticated(user);\n        } else {\n          return new userActions.NotAuthenticated();\n        }\n      });\n    )\n  ),\n);\n\n</code></pre>\n"}], "owner": {"reputation": 165, "user_id": 6146029, "user_type": "registered", "accept_rate": 47, "profile_image": "https://www.gravatar.com/avatar/ba2727e5211e19e3a5275cdcd3aa7db8?s=128&d=identicon&r=PG&f=1", "display_name": "ProgFroz", "link": "https://stackoverflow.com/users/6146029/progfroz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 69, "favorite_count": 0, "accepted_answer_id": 55271758, "answer_count": 2, "score": 0, "last_activity_date": 1553125553, "creation_date": 1553107792, "last_edit_date": 1553122537, "question_id": 55268160, "link": "https://stackoverflow.com/questions/55268160/angular-redux-oftype-not-found", "title": "Angular Redux ofType not found", "body": "<p>I was watching a Tutorial which was made about a year ago, where a Redux-Firebase-Angular Authentication is created.\nThere is one function in particular which confuses me:</p>\n\n<p>We import <code>Actions</code> from <code>@ngrx/effects</code> and some more stuff, and write the following code into the <code>user.effects.ts</code>:</p>\n\n<pre><code>@Injectable()\nexport class UserEffects {\n  constructor(private actions: Actions, private angularFireAuth: AngularFireAuth) {}\n\n  @Effect()\n  getUser: Observable&lt;Action&gt; = this.actions.ofType(userActions.GET_USER)\n    .map((action: userActions.GetUser) =&gt; action.payload)\n    .switchMap(payload =&gt; this.angularFireAuth.authState)\n    .delay(2000) // just to show some loading stuff\n    .map( authData =&gt; {\n      if (authData) {\n        // User is logged in\n        const user = new User(authData.uid, authData.displayName);\n        return new userActions.Authenticated(user);\n      }\n    });\n}\n</code></pre>\n\n<p>Everything seems to work out, besides the 'ofType()' function which does not seem to be found. </p>\n\n<p>I went through the video a couple of times and searched on my own for updates or deprecations but did not find anything.</p>\n\n<p>The Tutorial I spoke about (created by Fireship): <a href=\"https://www.youtube.com/watch?v=wOLF-3wNQh8\" rel=\"nofollow noreferrer\">https://www.youtube.com/watch?v=wOLF-3wNQh8</a></p>\n\n<p>Unfortunately he does not tell anything about .ofType() at all so I do not even understand what this is meant to be or how I may replace it. \nAny help is appreciated.</p>\n\n<p>Edit: So I've added the import <code>import 'rxjs/add/observable/ofType';</code>which did not help and also imported the <code>import { ofType } from 'redux-observable';</code> which does not help.</p>\n\n<p>This leads to the question whether you could instead help me find a workaround for this snippet, as I am still not really understanding what this is supposed to do.</p>\n\n<p>Edit: I found a migration manual of redux-observable: <a href=\"https://redux-observable.js.org/MIGRATION.html\" rel=\"nofollow noreferrer\">https://redux-observable.js.org/MIGRATION.html</a> where there is a change made from 'typeOf()' to 'pipe()' with an internal 'typeOf' but I seem to be unable to adjust my code snippet to make it work, would be amazing if you could help me rebuilding that snippet of code according to the changes made.</p>\n"}, {"tags": ["typescript", "rest", "model"], "owner": {"reputation": 8590, "user_id": 1348596, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/bfd67447bded12f9006d99866d2f0269?s=128&d=identicon&r=PG", "display_name": "danielrvt", "link": "https://stackoverflow.com/users/1348596/danielrvt"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 35, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1553107965, "creation_date": 1553107441, "last_edit_date": 1553107965, "question_id": 55268058, "link": "https://stackoverflow.com/questions/55268058/typescript-api-manager-and-session-handling", "title": "TypeScript Api Manager and session handling", "body": "<p>I'm building an Api manager using typescript for an API I want to integrate to. There are a couple of considerations here:</p>\n\n<ol>\n<li><p>I have models, for example: <code>Student</code> Model. This model is allowed to login to get a session token like this: </p>\n\n<p>const student = Student.login('username', 'password');</p>\n\n<p>const courses = teacher.getCourses(student.id);</p>\n\n<p>...</p></li>\n</ol>\n\n<p>This login method would be implemented like this:</p>\n\n<pre><code>class Student {\n    ...\n    private token: string = undefined;\n    ...\n    public static login(username:string, password:string): Promise&lt;Student&gt; {\n        return MyManager.post('https://apihost/student/login', {username, password})\n            .then((res) =&gt; {return new Student(res.data)});\n    }\n    ...\n}\n</code></pre>\n\n<p>Now, let's suppose the user wants to see a list of courses the student is currently in, the <code>getCourses</code> method would be called and it would be implemented like this:</p>\n\n<pre><code>public getCourses = () =&gt; {\n    return MyManager.get(\"/courses\", {token: this.token})...\n}\n</code></pre>\n\n<p>Ok this is the issue right here... </p>\n\n<ul>\n<li>How do I save the token in the ApiManager to use it later? </li>\n<li>Should I use a Singleton for this? <code>setToken(token)</code> in login success.</li>\n<li><strong>How do I share this token and ApiManager with other classes like <code>Teacher</code>?</strong></li>\n</ul>\n\n<p>What if I want to do:</p>\n\n<pre><code>const teacher = new Teacher();\nteacher.getCourses(student.id);\n...\n\nclass Teacher {\n    ...\n    public getCourses() {\n        return MyManager.get(\"/courses\", {token: ???????}) \n        ...\n    }\n    ...\n}\n</code></pre>\n\n<p>I've being looking around and I think that I need something like an orm/odm <code>Connection</code> class to store the token, and then my models could just inherit from a ManagerClass or something. What do you think about this? </p>\n"}, {"tags": ["angular", "typescript", "typescript-generics"], "comments": [{"owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "edited": false, "score": 0, "creation_date": 1553105860, "post_id": 55267571, "comment_id": 97266454, "body": "Nope, keyof is only for public members"}, {"owner": {"reputation": 785, "user_id": 6111342, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/8a3496a45f21be18f54d420d5298b3e9?s=128&d=identicon&r=PG", "display_name": "Iv&#225;n S&#225;nchez", "link": "https://stackoverflow.com/users/6111342/iv%c3%a1n-s%c3%a1nchez"}, "reply_to_user": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "edited": false, "score": 0, "creation_date": 1553106065, "post_id": 55267571, "comment_id": 97266539, "body": "Yep I know with <code>keyof </code> I can&#39;t get them. But is any other way to get it? other keyword or something?"}, {"owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "edited": false, "score": 1, "creation_date": 1553106311, "post_id": 55267571, "comment_id": 97266664, "body": "Nope... Keyof is the only way to get fields, and keyof does not work with privates..."}], "owner": {"reputation": 785, "user_id": 6111342, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/8a3496a45f21be18f54d420d5298b3e9?s=128&d=identicon&r=PG", "display_name": "Iv&#225;n S&#225;nchez", "link": "https://stackoverflow.com/users/6111342/iv%c3%a1n-s%c3%a1nchez"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 342, "favorite_count": 1, "answer_count": 0, "score": 1, "last_activity_date": 1553133198, "creation_date": 1553105526, "last_edit_date": 1553133198, "question_id": 55267571, "link": "https://stackoverflow.com/questions/55267571/typescript-how-to-get-private-properties-from-generic-class-in-type", "title": "Typescript: how to get private properties from generic class in type?", "body": "<p>Is it posible that using generics I could check for the private/protected keys on a class?</p>\n\n<p>This is my code:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>export type SubjectListenerCloneTypeFrom&lt;T, N extends keyof T&gt; = UnPromisify&lt;\n  ClassReturnType&lt;T, N&gt;\n&gt;;\n</code></pre>\n\n<p>But with that, <code>create</code> that is the private method, does not show up</p>\n\n<p><a href=\"https://i.stack.imgur.com/Z9uhG.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Z9uhG.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["typescript", "rxjs"], "comments": [{"owner": {"reputation": 1371, "user_id": 4206178, "user_type": "registered", "accept_rate": 57, "profile_image": "https://graph.facebook.com/1295708890/picture?type=large", "display_name": "Anjil Dhamala", "link": "https://stackoverflow.com/users/4206178/anjil-dhamala"}, "edited": false, "score": 1, "creation_date": 1553106466, "post_id": 55267378, "comment_id": 97266731, "body": "I think it has to do with the fact that scan() works on the emitted data and mergeMap does the job of subscribing to the inner observable before mapping the value to the outer observable. If you put the scan() operator in the fakeRequest declaration statement, it&#39;ll, perhaps, be more clear that the scan doesn&#39;t get any values because of().pipe(delay()) is never subscribed to emit &#39;response&#39;."}, {"owner": {"reputation": 8097, "user_id": 8618350, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d5f100e1a27815164cb9a9bf00487858?s=128&d=identicon&r=PG&f=1", "display_name": "Fan Cheung", "link": "https://stackoverflow.com/users/8618350/fan-cheung"}, "edited": false, "score": 0, "creation_date": 1553133227, "post_id": 55267378, "comment_id": 97276409, "body": "your first example is working fine why you want to switch to second one"}, {"owner": {"reputation": 2155, "user_id": 1302710, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/987a0a6cfed1c7195a0989ca4c508d9c?s=128&d=identicon&r=PG", "display_name": "Nullius", "link": "https://stackoverflow.com/users/1302710/nullius"}, "reply_to_user": {"reputation": 8097, "user_id": 8618350, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d5f100e1a27815164cb9a9bf00487858?s=128&d=identicon&r=PG&f=1", "display_name": "Fan Cheung", "link": "https://stackoverflow.com/users/8618350/fan-cheung"}, "edited": false, "score": 0, "creation_date": 1553161201, "post_id": 55267378, "comment_id": 97284915, "body": "@FanCheung 1. because our fakeRequest observable comes from a service. We want to include the scan functionality in our data service because it belongs there. However, for some reason, we had to use a switchMap in our page component. Now we need to add the scan functionality in our component, which is not what we want and it is very unexpected behavior. We thought switchMap would almost literally &#39;switch&#39; to the inner Observable, including the scan operator. 2. Just trying to get to learn the quirks. We didn&#39;t expect operators of an inner observable to just being &#39;ignored&#39;."}], "answers": [{"tags": [], "owner": {"reputation": 5518, "user_id": 1858357, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/i1R4m.png?s=128&g=1", "display_name": "BizzyBob", "link": "https://stackoverflow.com/users/1858357/bizzybob"}, "is_accepted": false, "score": 0, "last_activity_date": 1612987896, "creation_date": 1612987896, "answer_id": 66144311, "question_id": 55267378, "link": "https://stackoverflow.com/questions/55267378/rxjs-scan-operator-inside-switchmap-mergemap/66144311#66144311", "title": "RxJS: scan operator inside switchMap/mergeMap", "body": "<p>The reason for the difference is because in the first case:</p>\n<pre><code>interval(1000).pipe(\n    mergeMap(_ =&gt; fakeRequest),\n    scan&lt;string&gt;((allResponses, currentResponse) =&gt; [...allResponses, currentResponse], []),\n)\n</code></pre>\n<p>You are <code>scan</code>ning the emissions from ALL observables created within <code>mergeMap</code>.</p>\n<p>However, in the second case:</p>\n<pre><code>interval(1000).pipe(\n    mergeMap(_ =&gt; fakeRequest.pipe(\n        scan&lt;string&gt;((allResponses, currentResponse) =&gt; [...allResponses, currentResponse], []),\n    )),\n)\n</code></pre>\n<p>You are <code>scan</code>ning the emissions from an observable, that only emits once!</p>\n<p>Essentially, <code>mergeMap()</code> is a source that emits multiple times.  The <code>fakeResponse</code> observable is a source that only emits once.</p>\n<p>I saw from your comment your reason for wanting to move the <code>scan</code> under the response, was due to wanting to perform the <code>scan</code> in your service, so individual consumers don't need to.  I know this is an old question, so maybe you figured this out by now, but you can certainly do the scan logic in your service (as long as your interval() is also in there) by tacking on a <code>.pipe(scan(...))</code>.</p>\n"}], "owner": {"reputation": 2155, "user_id": 1302710, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/987a0a6cfed1c7195a0989ca4c508d9c?s=128&d=identicon&r=PG", "display_name": "Nullius", "link": "https://stackoverflow.com/users/1302710/nullius"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 336, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1612987896, "creation_date": 1553104772, "question_id": 55267378, "link": "https://stackoverflow.com/questions/55267378/rxjs-scan-operator-inside-switchmap-mergemap", "title": "RxJS: scan operator inside switchMap/mergeMap", "body": "<p>We're using the scan operator for our 'load more' button in our table. With the scan operator, we just accumulate the new results with the previous ones.\nHowever, we encountered some unexpected-to-us behaviour.</p>\n\n<p>To simplify, let's say we have the following code:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>const fakeRequest = of('response').pipe(delay(2000));\ninterval(1000).pipe(\n    mergeMap(_ =&gt; fakeRequest),\n    scan&lt;string&gt;((allResponses, currentResponse) =&gt; [...allResponses, currentResponse], []),\n).subscribe(console.log);\n</code></pre>\n\n<p>produces:</p>\n\n<pre><code>[\"response\"]\n[\"response\", \"response\"]\n[\"response\", \"response\", \"response\"]\n[\"response\", \"response\", \"response\", \"response\"]\n...\n</code></pre>\n\n<p>While, if we just move the scan operator inside the mergeMap/switchMap operator:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>interval(1000).pipe(\n    mergeMap(_ =&gt; fakeRequest.pipe(\n        scan&lt;string&gt;((allResponses, currentResponse) =&gt; [...allResponses, currentResponse], []),\n    )),\n).subscribe(console.log);\n</code></pre>\n\n<p>We get the following results:</p>\n\n<pre><code>[\"response\"]\n[\"response\"]\n[\"response\"]\n[\"response\"]\n...\n</code></pre>\n\n<p>The scan operator isn't executed in the second example. I would expect the switchMap/mergeMap just flattens the inner observable, which has the scan operator piped into it.</p>\n\n<ul>\n<li>Is this desired behaviour?</li>\n<li>If so, can anyone explain why this is happening?</li>\n<li>If so, is there another way/workaround to achieve the same behavior inside the mergeMap or switchMap operators?</li>\n</ul>\n\n<p>Thanks!</p>\n"}, {"tags": ["angular", "typescript"], "comments": [{"owner": {"reputation": 11709, "user_id": 9325419, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JBsmO.jpg?s=128&g=1", "display_name": "jo_va", "link": "https://stackoverflow.com/users/9325419/jo-va"}, "edited": false, "score": 2, "creation_date": 1553104298, "post_id": 55267085, "comment_id": 97265674, "body": "Why don&#39;t you create a route for each possible entity ? with a generict component typed with that entity for example"}, {"owner": {"reputation": 25754, "user_id": 379855, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/EDoiY.png?s=128&g=1", "display_name": "Donal", "link": "https://stackoverflow.com/users/379855/donal"}, "edited": false, "score": 1, "creation_date": 1553104945, "post_id": 55267085, "comment_id": 97266011, "body": "Have a look at this: <a href=\"https://stackoverflow.com/a/50291939/379855\">stackoverflow.com/a/50291939/379855</a>"}, {"owner": {"reputation": 11709, "user_id": 9325419, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JBsmO.jpg?s=128&g=1", "display_name": "jo_va", "link": "https://stackoverflow.com/users/9325419/jo-va"}, "edited": false, "score": 0, "creation_date": 1553105098, "post_id": 55267085, "comment_id": 97266090, "body": "Or you could just keep your route with the <code>:entity</code> variable but switch over the entity values and call new on the different classes"}, {"owner": {"reputation": 11709, "user_id": 9325419, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JBsmO.jpg?s=128&g=1", "display_name": "jo_va", "link": "https://stackoverflow.com/users/9325419/jo-va"}, "edited": false, "score": 0, "creation_date": 1553105171, "post_id": 55267085, "comment_id": 97266136, "body": "Could you share more code ? what are the entities, how are you loading the object and what are they used for ?"}], "answers": [{"tags": [], "owner": {"reputation": 116, "user_id": 7941160, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Fdcef.png?s=128&g=1", "display_name": "Nestoro", "link": "https://stackoverflow.com/users/7941160/nestoro"}, "is_accepted": false, "score": 0, "last_activity_date": 1553114508, "creation_date": 1553114508, "answer_id": 55269823, "question_id": 55267085, "link": "https://stackoverflow.com/questions/55267085/how-to-use-variable-class-name-in-angular-7-typescript/55269823#55269823", "title": "How to use variable class name in Angular 7 / Typescript?", "body": "<p>First of all: You would need to fill your Variable not with an Object of Type newObject. Instead you had to fill it with the Type newObject. ( Dump the new ...())</p>\n\n<p>Second: You can't use the router like this.</p>\n\n<pre><code>RoutesModule.forRoot(APP_Routes);\n</code></pre>\n\n<p>is just getting called once, and you can't change the routes afterwards. What you can do is define more routes or define a route with a variable at the end. \nFor example '/splitter/:id' with splitter being a component that returns different Components based on id. But that is way easier done with child components.\nSee this:</p>\n\n<pre><code>const adminRoutes: Routes = [\n      { path: 'admin', component: AdminComponent,\n        children: [\n            { path: 'crises', component: ManageCrisesComponent },\n            { path: 'heroes', component: ManageHeroesComponent },\n            { path: '', component: AdminDashboardComponent }\n        ]}\n];\n</code></pre>\n\n<p>(taken from the <a href=\"https://angular.io/guide/router\" rel=\"nofollow noreferrer\">Angular Documentation</a></p>\n"}], "owner": {"reputation": 31, "user_id": 10128389, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4de097954b319929014c23373f57a318?s=128&d=identicon&r=PG&f=1", "display_name": "Simon Baconnais", "link": "https://stackoverflow.com/users/10128389/simon-baconnais"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 351, "favorite_count": 0, "answer_count": 1, "score": 3, "last_activity_date": 1553114508, "creation_date": 1553103711, "last_edit_date": 1553103841, "question_id": 55267085, "link": "https://stackoverflow.com/questions/55267085/how-to-use-variable-class-name-in-angular-7-typescript", "title": "How to use variable class name in Angular 7 / Typescript?", "body": "<p>Creating an Angular 7 app, I defined a form component I use for different entities.</p>\n\n<p>To do so, I create a variable route :</p>\n\n<pre><code>  {path: ':entity/create', component: FormComponent}\n</code></pre>\n\n<p>This work great, but depending on the entity I want to create, I have to load different object.</p>\n\n<p>So I'm trying to instantiate a class using a variable class name in Angular.</p>\n\n<p>I tried to do: </p>\n\n<pre><code>var object = eval('new myObject()');\n</code></pre>\n\n<p>But i got this error message :</p>\n\n<pre><code>ERROR Error: \"Uncaught (in promise): ReferenceError: myObject is not defined\n@http://localhost:4200/main.js line 3199 &gt; eval:1:1\n./src/app/form/form.component.ts/FormComponent.prototype.ngOnInit/&lt;/&lt;@http://localhost:4200/main.js:3199:24\nstep@http://localhost:4200/vendor.js:120599:18\nverb/&lt;@http://localhost:4200/vendor.js:120580:53\n__awaiter/&lt;@http://localhost:4200/vendor.js:120573:71\nZoneAwarePromise@http://localhost:4200/polyfills.js:3268:29\n__awaiter@http://localhost:4200/vendor.js:120569:12\n./src/app/form/form.component.ts/FormComponent.prototype.ngOnInit@http://localhost:4200/main.js:3195:16\ncheckAndUpdateDirectiveInline@http://localhost:4200/vendor.js:58018:9\ncheckAndUpdateNodeInline@http://localhost:4200/vendor.js:59282:20\ncheckAndUpdateNode@http://localhost:4200/vendor.js:59244:16\ndebugCheckAndUpdateNode@http://localhost:4200/vendor.js:59878:19\ndebugCheckDirectivesFn@http://localhost:4200/vendor.js:59838:13\nView_FormComponent_Host_0/&lt;@ng:///AppModule/FormComponent_Host.ngfactory.js:9:5\ndebugUpdateDirectives@http://localhost:4200/vendor.js:59830:12\ncheckAndUpdateView@http://localhost:4200/vendor.js:59226:5\ncallViewAction@http://localhost:4200/vendor.js:59467:21\nexecEmbeddedViewsAction@http://localhost:4200/vendor.js:59430:17\ncheckAndUpdateView@http://localhost:4200/vendor.js:59227:5\ncallViewAction@http://localhost:4200/vendor.js:59467:21\nexecComponentViewsAction@http://localhost:4200/vendor.js:59409:13\ncheckAndUpdateView@http://localhost:4200/vendor.js:59232:5\ncallWithDebugContext@http://localhost:4200/vendor.js:60096:22\ndebugCheckAndUpdateView@http://localhost:4200/vendor.js:59798:12\n./node_modules/@angular/core/fesm5/core.js/ViewRef_.prototype.detectChanges@http://localhost:4200/vendor.js:57607:13\n./node_modules/@angular/core/fesm5/core.js/ApplicationRef.prototype.tick/&lt;@http://localhost:4200/vendor.js:54038:58\n./node_modules/@angular/core/fesm5/core.js/ApplicationRef.prototype.tick@http://localhost:4200/vendor.js:54038:13\nnext/&lt;@http://localhost:4200/vendor.js:53929:99\n./node_modules/zone.js/dist/zone.js/&lt;/ZoneDelegate.prototype.invoke@http://localhost:4200/polyfills.js:2749:17\nonInvoke@http://localhost:4200/vendor.js:53218:24\n./node_modules/zone.js/dist/zone.js/&lt;/ZoneDelegate.prototype.invoke@http://localhost:4200/polyfills.js:2748:37\n./node_modules/zone.js/dist/zone.js/&lt;/Zone.prototype.run@http://localhost:4200/polyfills.js:2508:24\n./node_modules/@angular/core/fesm5/core.js/NgZone.prototype.run@http://localhost:4200/vendor.js:53132:16\nnext@http://localhost:4200/vendor.js:53929:69\n./node_modules/@angular/core/fesm5/core.js/EventEmitter.prototype.subscribe/schedulerFn&lt;@http://localhost:4200/vendor.js:49434:36\n./node_modules/rxjs/_esm5/internal/Subscriber.js/SafeSubscriber.prototype.__tryOrUnsub@http://localhost:4200/vendor.js:100897:13\n./node_modules/rxjs/_esm5/internal/Subscriber.js/SafeSubscriber.prototype.next@http://localhost:4200/vendor.js:100835:17\n./node_modules/rxjs/_esm5/internal/Subscriber.js/Subscriber.prototype._next@http://localhost:4200/vendor.js:100778:9\n./node_modules/rxjs/_esm5/internal/Subscriber.js/Subscriber.prototype.next@http://localhost:4200/vendor.js:100755:13\n./node_modules/rxjs/_esm5/internal/Subject.js/Subject.prototype.next@http://localhost:4200/vendor.js:100520:25\n./node_modules/@angular/core/fesm5/core.js/EventEmitter.prototype.emit@http://localhost:4200/vendor.js:49418:54\ncheckStable@http://localhost:4200/vendor.js:53187:13\nonHasTask@http://localhost:4200/vendor.js:53231:21\n./node_modules/zone.js/dist/zone.js/&lt;/ZoneDelegate.prototype.hasTask@http://localhost:4200/polyfills.js:2801:21\n./node_modules/zone.js/dist/zone.js/&lt;/ZoneDelegate.prototype._updateTaskCount@http://localhost:4200/polyfills.js:2821:17\n./node_modules/zone.js/dist/zone.js/&lt;/Zone.prototype._updateTaskCount@http://localhost:4200/polyfills.js:2649:34\n./node_modules/zone.js/dist/zone.js/&lt;/Zone.prototype.runTask@http://localhost:4200/polyfills.js:2570:25\ndrainMicroTaskQueue@http://localhost:4200/polyfills.js:2959:25\n</code></pre>\n\n<p>Is there a way to use a variable class name in Angular 7 / TypeScript?</p>\n\n<p>Am I using Angular incorrectly?</p>\n"}, {"tags": ["javascript", "json", "typescript", "lodash", "benchmarking"], "comments": [{"owner": {"reputation": 4693, "user_id": 5501536, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/50b9ab14ab8699a3862c14ee48126abe?s=128&d=identicon&r=PG&f=1", "display_name": "chevybow", "link": "https://stackoverflow.com/users/5501536/chevybow"}, "edited": false, "score": 3, "creation_date": 1553103694, "post_id": 55267049, "comment_id": 97265356, "body": "Use whichever one is more readable. I ran both your tests and did not get a major difference between the 2..."}], "answers": [{"tags": [], "owner": {"reputation": 105043, "user_id": 5260024, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XxSHe.jpg?s=128&g=1", "display_name": "Jonas Wilms", "link": "https://stackoverflow.com/users/5260024/jonas-wilms"}, "is_accepted": false, "score": 1, "last_activity_date": 1553104479, "creation_date": 1553104479, "answer_id": 55267289, "question_id": 55267049, "link": "https://stackoverflow.com/questions/55267049/performance-difference-between-lodash-get-and-if-else-clauses/55267289#55267289", "title": "Performance difference between lodash &quot;get&quot; and &quot;if else&quot; clauses", "body": "<blockquote>\n  <p>What is the proper way of benchmarking all this? </p>\n</blockquote>\n\n<p>Only benchmark the actual code you are comparing, move as much as possible outside of the tested block. Run every of the two pieces a few (hundred) thousand times, to average out the influence of other parts.</p>\n\n<blockquote>\n  <p>How should I interpret the results? </p>\n</blockquote>\n\n<p>1) check if they are valid:</p>\n\n<p>Do the results fit your expectation?\nIf not, could there be a cause for that?\nDoes the testcase replicate your actual usecase?</p>\n\n<p>2) check if the result is relevant:</p>\n\n<p>How does the time it takes compare to the actual time in your usecase? If your code takes 200ms to load, and both tests run in under ~1ms, your result doesnt matter. If you however try to optimize code that runs 60 times per second, 1ms is already a lot.</p>\n\n<p>3) check if the result is worth the work</p>\n\n<p>Often you have to do a lot of refactoring, or you have to type a lot, does the performance gain outweight the time you invest?</p>\n\n<blockquote>\n  <p>Is get so much slower that you can make argument in favour of if-else clauses, in spite of the very poor readability?</p>\n</blockquote>\n\n<p>I'd say no. use <code>_.get</code> (unless you are planning to run that a few hundred times per second).</p>\n"}, {"comments": [{"owner": {"reputation": 105043, "user_id": 5260024, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XxSHe.jpg?s=128&g=1", "display_name": "Jonas Wilms", "link": "https://stackoverflow.com/users/5260024/jonas-wilms"}, "edited": false, "score": 0, "creation_date": 1553104906, "post_id": 55267367, "comment_id": 97265990, "body": "&quot;sometimes libraries get to take shortcuts that the native engine cannot&quot; I&#39;d rather say that the library writers sometimes really know what they are doing ..."}, {"owner": {"reputation": 36858, "user_id": 1243641, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/a70aa9d494bf438c8b56aced999e897f?s=128&d=identicon&r=PG", "display_name": "Scott Sauyet", "link": "https://stackoverflow.com/users/1243641/scott-sauyet"}, "reply_to_user": {"reputation": 105043, "user_id": 5260024, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XxSHe.jpg?s=128&g=1", "display_name": "Jonas Wilms", "link": "https://stackoverflow.com/users/5260024/jonas-wilms"}, "edited": false, "score": 0, "creation_date": 1553107848, "post_id": 55267367, "comment_id": 97267467, "body": "@JonasWilms: I hope so (as one of those library writers myself.) . The point is that the specification for <code>Array.prototype.map</code> is fairly complex.  But <code>MyLib.map</code> does not have to even try to do everything it does.  It can also choose to do more.  Sometimes that leads to significant performance differences."}], "tags": [], "owner": {"reputation": 36858, "user_id": 1243641, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/a70aa9d494bf438c8b56aced999e897f?s=128&d=identicon&r=PG", "display_name": "Scott Sauyet", "link": "https://stackoverflow.com/users/1243641/scott-sauyet"}, "is_accepted": true, "score": 4, "last_activity_date": 1553104730, "creation_date": 1553104730, "answer_id": 55267367, "question_id": 55267049, "link": "https://stackoverflow.com/questions/55267049/performance-difference-between-lodash-get-and-if-else-clauses/55267367#55267367", "title": "Performance difference between lodash &quot;get&quot; and &quot;if else&quot; clauses", "body": "<p>I think you're asking the wrong question.</p>\n\n<p>First of all, if you're going to do performance micro-optimization (as opposed to, say, algorithmic optimization), you should really know whether the code in question is a bottleneck in your system.  Fix the worst bottlenecks until your performance is fine, then stop worrying overmuch about it.  I'd be quite surprised if variation between these ever amounted to more than a rounding error in a serious application. But I've been surprised before; hence the need to <em>test</em>.</p>\n\n<p>Then, when it comes to the actual optimization, the two implementations are only slightly different in speed, in either configuration.  But if you want to test the deep access to your object, it looks as though the second one is the correct way to think about it.  It doesn't seem as though it should make much difference in relative speeds, but the first one puts the initialization code where it will be \"executed before every block and is part of the benchmark.\"  The second one puts it where \"it will be run before every test, and is not part of the benchmark.\"  Since you want to compare data access and not data initialization, this seems more appropriate.</p>\n\n<p>Given this, there seems to be a very slight performance advantage to the <code>families &amp;&amp; families.Trump &amp;&amp; families.Trump.members &amp;&amp; ...</code> technique.  (Note: no <code>if</code>s or <code>else</code>s in sight here!)</p>\n\n<p>But is it worth it?  I would say not.  The code is much, much uglier.  I would not add a library such as lodash (or my favorite, <a href=\"https://ramdajs.com\" rel=\"nofollow noreferrer\">Ramda</a>) just to use a function as simple as this, but if I was already using lodash I wouldn't hesitate to use the simpler code here.  And I might import one from lodash or Ramda, or simply write my own otherwise, as it's fairly simple code.</p>\n\n<p>That native code is going to be faster than more generic library code shouldn't be a surprise.  It doesn't always happen, as sometimes libraries get to take shortcuts that the native engine cannot, but it's likely the norm.  The reason to use these libraries rarely has to do with performance, but with writing more expressive code.  Here the lodash version wins, hands-down.</p>\n"}], "owner": {"reputation": 781, "user_id": 8831115, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/e576be70be41fd87263dd39353077c43?s=128&d=identicon&r=PG&f=1", "display_name": "enanone", "link": "https://stackoverflow.com/users/8831115/enanone"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1401, "favorite_count": 0, "accepted_answer_id": 55267367, "answer_count": 2, "score": 2, "last_activity_date": 1553104730, "creation_date": 1553103560, "question_id": 55267049, "link": "https://stackoverflow.com/questions/55267049/performance-difference-between-lodash-get-and-if-else-clauses", "title": "Performance difference between lodash &quot;get&quot; and &quot;if else&quot; clauses", "body": "<p>Let's say you have a typescript object, where any element can be <code>undefined</code>. If you want to access a heavily nested component, you have to do a lot of comparisons against <code>undefined</code>.</p>\n\n<p>I wanted to compare two ways of doing this in terms of performance: regular <code>if-else</code> comparisons and the lodash function <code>get</code>. </p>\n\n<p>I have found this beautiful tool called <em>jsben</em> were you can benchmark different pieces of js code. However, I fail to interpret the results correctly.</p>\n\n<p>In this <a href=\"http://jsben.ch/Md1yb\" rel=\"nofollow noreferrer\">test</a>, lodash <code>get</code> seems to be slightly faster. However, <a href=\"http://jsben.ch/kOuvv\" rel=\"nofollow noreferrer\">if I define my variable in the <code>Setup block</code></a> (as opposed to the <code>Boilerplate code</code>), the <code>if-else</code> code is faster by a wide margin.</p>\n\n<p>What is the proper way of benchmarking all this?\nHow should I interpret the results?\nIs <code>get</code> so much slower that you can make argument in favour of <code>if-else</code> clauses, in spite of the very poor readability?</p>\n"}, {"tags": ["javascript", "typescript", "ecma"], "comments": [{"owner": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "edited": false, "score": 0, "creation_date": 1553102201, "post_id": 55266585, "comment_id": 97264558, "body": "Try turning on <code>--strict</code> for better error catching in TypeScript.  Specifically you want <a href=\"https://github.com/Microsoft/TypeScript/wiki/What&#39;s-new-in-TypeScript#strict-class-initialization\" rel=\"nofollow noreferrer\"><code>--strictPropertyInitialization</code></a> which will warn you that you did not initialize <code>adds</code>."}, {"owner": {"reputation": 871364, "user_id": 157247, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/4HovX.jpg?s=128&g=1", "display_name": "T.J. Crowder", "link": "https://stackoverflow.com/users/157247/t-j-crowder"}, "edited": false, "score": 1, "creation_date": 1553102419, "post_id": 55266585, "comment_id": 97264679, "body": "The overwhelming convention in TypeScript (inherited from JavaScript) is that interfaces start with a capital letter. So <code>Addition</code> rather than <code>addition</code>. You can obviously use anything you like in your own code, but when asking for help, using standard conventions makes it easier for people to help you."}, {"owner": {"reputation": 871364, "user_id": 157247, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/4HovX.jpg?s=128&g=1", "display_name": "T.J. Crowder", "link": "https://stackoverflow.com/users/157247/t-j-crowder"}, "edited": false, "score": 1, "creation_date": 1553102477, "post_id": 55266585, "comment_id": 97264709, "body": "The code in <code>Calculator</code> seems odd. It declares properties it never uses (and doesn&#39;t need, from the apparent API it provides). What are the <code>adds</code>, <code>num1</code>, and <code>num2</code> properties for? You&#39;re accepting the numbers as parameters to <code>add</code> and <code>sub</code>, and <code>Calculator</code> itself is the <code>addition</code> object."}], "answers": [{"tags": [], "owner": {"reputation": 871364, "user_id": 157247, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/4HovX.jpg?s=128&g=1", "display_name": "T.J. Crowder", "link": "https://stackoverflow.com/users/157247/t-j-crowder"}, "is_accepted": false, "score": 2, "last_activity_date": 1553102341, "creation_date": 1553102341, "answer_id": 55266691, "question_id": 55266585, "link": "https://stackoverflow.com/questions/55266585/not-able-to-set-property-of-interface-type-in-typescript/55266691#55266691", "title": "not able to set property of interface type in typescript", "body": "<p>It's not clear what the <code>adds</code> in <code>Calculator</code> is meant to be, but nothing in your code <em>creates</em> an <code>addition</code> object and assigns it to <code>adds</code>, so <code>adds</code> is <code>undefined</code>, and you can't access properties on <code>undefined</code>. Just declaring the property for it doesn't create it. You have to either create one or receive one. (But I suspect you don't want <code>adds</code> at all.)</p>\n\n<hr>\n\n<p>FWIW:</p>\n\n<p>The code in <code>Calculator</code> seems odd. It declares properties it never uses (and doesn't need, from the apparent API it provides). What are the <code>adds</code>, <code>num1</code>, and <code>num2</code> properties for? You're accepting the numbers as parameters to <code>add</code> and <code>sub</code>, and <code>Calculator</code> itself is the <code>addition</code> object.</p>\n\n<p>Without those properties, it would be rather simpler:</p>\n\n<pre><code>interface Addition { \n    add(num1:number, num2:number): number;\n}\nclass Calculator implements addition {\n    add(num1: number, num2: number): number { \n        return num1 + num2;\n    }    \n\n    sub(num1: number, num2: number): number { \n        return num1 - num2;\n    }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 14375, "user_id": 3888766, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/eClVG.jpg?s=128&g=1", "display_name": "Fullstack Guy", "link": "https://stackoverflow.com/users/3888766/fullstack-guy"}, "is_accepted": false, "score": 3, "last_activity_date": 1553102364, "creation_date": 1553102364, "answer_id": 55266696, "question_id": 55266585, "link": "https://stackoverflow.com/questions/55266585/not-able-to-set-property-of-interface-type-in-typescript/55266696#55266696", "title": "not able to set property of interface type in typescript", "body": "<p>You did not initialize the <code>adds</code> field in the declaration. So before using it the method <code>sub</code> you need to initialize it:</p>\n\n<pre><code> this.adds = //initialize with a value before using it in the next line.\n this.adds.num1=12;\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 73231, "user_id": 156142, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7dcad6d7e959ef6d6cfd67c6fb15c171?s=128&d=identicon&r=PG", "display_name": "ChaosPandion", "link": "https://stackoverflow.com/users/156142/chaospandion"}, "edited": false, "score": 0, "creation_date": 1553102850, "post_id": 55266826, "comment_id": 97264906, "body": "They could be looking to design some history functionality. The design would obviously need some additions."}], "tags": [], "owner": {"reputation": 6613, "user_id": 2190498, "user_type": "registered", "accept_rate": 30, "profile_image": "https://i.stack.imgur.com/tV6Vl.png?s=128&g=1", "display_name": "ttulka", "link": "https://stackoverflow.com/users/2190498/ttulka"}, "is_accepted": false, "score": 1, "last_activity_date": 1553102759, "creation_date": 1553102759, "answer_id": 55266826, "question_id": 55266585, "link": "https://stackoverflow.com/questions/55266585/not-able-to-set-property-of-interface-type-in-typescript/55266826#55266826", "title": "not able to set property of interface type in typescript", "body": "<p>Not sure, what you're trying to achieve, but I think a proper design would be:</p>\n\n<pre><code>interface Addition {\n    add(num1: number, num2: number): number;\n}\n\ninterface Subtraction {\n    sub(num1: number, num2: number): number;\n}\n\nclass Calculator implements Addition, Subtraction {\n\n    add(num1: number, num2: number): number {\n        return num1 + num2;\n    }\n\n    sub(num1: number, num2: number): number {\n        return num1 - num2\n    }\n}\n\nlet cal = new Calculator();\nconsole.log(cal.add(1, 2));\nconsole.log(cal.sub(2, 3));\n</code></pre>\n"}], "owner": {"reputation": 63, "user_id": 10215671, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-4MdxUntQ6n4/AAAAAAAAAAI/AAAAAAAABB0/QpcGnr6rL2Q/photo.jpg?sz=128", "display_name": "Sakib Mulla", "link": "https://stackoverflow.com/users/10215671/sakib-mulla"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 562, "favorite_count": 0, "answer_count": 3, "score": 2, "last_activity_date": 1553102759, "creation_date": 1553101984, "question_id": 55266585, "link": "https://stackoverflow.com/questions/55266585/not-able-to-set-property-of-interface-type-in-typescript", "title": "not able to set property of interface type in typescript", "body": "<p>I am beginner in typescript programming not able to set property interface type so please guide me about that.</p>\n\n<pre><code>interface addition { \n    num1: number;\n    num2: number;\n    add(num1:number, num2:number): number;\n}\n\nclass Calculator implements addition{\n    num1: number;\n    num2: number;\n    adds: addition;   //\n\n    add(num1: number, num2: number): number { \n        return num1 + num2;\n    }    \n\n    sub(num1: number, num2: number): number { \n        let sk: addition = new Calculator()\n        console.log(sk.add(2, 3)); \n        this.adds.num1=12;   // showing error here Uncaught TypeError: Cannot set property 'num1' of undefined\n        console.log(this.adds.num1)\n        return num1-num2\n    }\n}\n\nlet cal = new Calculator();\nconsole.log(cal.sub(2, 3));\n</code></pre>\n"}, {"tags": ["angular", "typescript", "asynchronous", "promise", "observable"], "comments": [{"owner": {"reputation": 630270, "user_id": 571407, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2f0d9dec16bae1e06552af55ddefc11f?s=128&d=identicon&r=PG", "display_name": "JB Nizet", "link": "https://stackoverflow.com/users/571407/jb-nizet"}, "edited": false, "score": 1, "creation_date": 1553102554, "post_id": 55266343, "comment_id": 97264752, "body": "You can&#39;t. Put the final <code>if</code> block inside the callback passed to subscribe, right after the for loop."}, {"owner": {"reputation": 140, "user_id": 5442617, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/33d9e8648fe88de00175dec06a4ca9f1?s=128&d=identicon&r=PG", "display_name": "BruceK", "link": "https://stackoverflow.com/users/5442617/brucek"}, "edited": false, "score": 0, "creation_date": 1553102653, "post_id": 55266343, "comment_id": 97264810, "body": "In the code sample above your front end check is already complete before you call your service, Therefore, you could wrap you service in an if(frontendChecked) and only call it when the front end check was successful. Then you know both checks have happened in the subscribe to your service call and can just do the check there. The forkJoin should already ensure that all service calls are complete if there are multiple instances although that is a different syntax that I typically use"}], "answers": [{"tags": [], "owner": {"reputation": 4535, "user_id": 25650, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0f52d9bce4427e6a0e36a0f7d78ec6ae?s=128&d=identicon&r=PG", "display_name": "Andrew Lewis", "link": "https://stackoverflow.com/users/25650/andrew-lewis"}, "is_accepted": true, "score": 1, "last_activity_date": 1553114227, "creation_date": 1553114227, "answer_id": 55269759, "question_id": 55266343, "link": "https://stackoverflow.com/questions/55266343/execute-if-statement-only-after-other-processes-in-function-are-complete-async/55269759#55269759", "title": "Execute if statement only after other processes in function are complete (async/await/promises vs observable)", "body": "<p>Change it to:</p>\n\n<pre><code>this.myService.forkJoin(myArray)\n   .subscribe(\n       data =&gt; { \n           for (var i = 0; i &lt; records.length; i++) {\n               //check for backend errors here\n               if( i === records.length - 1) {\n                   backendChecked = true;\n               }\n           }\n           if (frontendChecked) {\n              // I need to do these things last\n           }\n       }\n   );\n</code></pre>\n"}], "owner": {"reputation": 1317, "user_id": 6647188, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/Ol4rA.jpg?s=128&g=1", "display_name": "Kyle Vassella", "link": "https://stackoverflow.com/users/6647188/kyle-vassella"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 259, "favorite_count": 0, "accepted_answer_id": 55269759, "answer_count": 1, "score": 0, "last_activity_date": 1553114227, "creation_date": 1553101211, "question_id": 55266343, "link": "https://stackoverflow.com/questions/55266343/execute-if-statement-only-after-other-processes-in-function-are-complete-async", "title": "Execute if statement only after other processes in function are complete (async/await/promises vs observable)", "body": "<p>In <code>Angular 6</code>, I'm using the function <code>save()</code> whenever a user enters a new record into a table on our app.</p>\n\n<p>Within <code>save()</code> we check for two things:<br>\n1. 'front end' validation errors AKA <em>'you cant enter a price in the 'Price' column if the 'Item' column is empty'</em>. In this case, the data is never sent to the database.<br>\n2. 'back end' errors AKA user attempts to enter a duplicate record. This does try to POST to database via our service, but the database returns an error (database cant accept records where every column is a duplicate). </p>\n\n<p>Once these checks are complete, I have two variables <code>frontendChecked</code> and <code>backendChecked</code> which I set to 'true'.</p>\n\n<p>At the end of <code>save()</code>, I'm (incorrectly) attempting to do something once the above two processes are complete by using an <code>if statement</code> to check if these two variables are true. This <code>if statement</code> never runs due to the asynchronous nature of our backend errors.</p>\n\n<p><strong>myComponent.ts:</strong></p>\n\n<pre><code>save() {\n\n    var frontendChecked = false;\n    var backendChecked = false;\n\n    //----------- check for front end errors -----------//\n   for(var i=0; i&lt; records.length; i++) {\n      // check for front end errors here\n      if( i === records.length - 1) {\n          frontendChecked = true;\n      }\n   }\n\n   //----------- check for backend errors (forkjoin is an observable in our service which returns asynchronously - we subscribe to it here) -----------//\n   this.myService.forkJoin(myArray)\n   .subscribe(\n       data =&gt; { \n           for (var i = 0; i &lt; records.length; i++) {\n               //check for backend errors here\n               if( i === records.length - 1) {\n                   backendChecked = true;\n               }\n           }\n       }\n   );\n\n   //----------- this if statement never runs because backendChecked is not finished in time -----------//\n   if (frontendChecked &amp;&amp; backendChecked) {\n       // I need to do these things last\n   }\n\n}\n</code></pre>\n\n<p>How can I ensure that my if statement at the end of <code>save()</code> actually runs once both of those variables have been set? I've been looking into <code>async/await</code> with promises, and also observables. The result of <code>this.myService.forkJoin</code> is actually derived from us subscribing to the observable <code>forkJoin</code>, which is throwing me off a bit. Any ideas?</p>\n"}, {"tags": ["typescript", "vue.js", "vue-component", "vuex", "vue-router"], "comments": [{"owner": {"reputation": 1795, "user_id": 9764507, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bC1kL.png?s=128&g=1", "display_name": "Daniel", "link": "https://stackoverflow.com/users/9764507/daniel"}, "edited": false, "score": 0, "creation_date": 1553103405, "post_id": 55266340, "comment_id": 97265213, "body": "What happens when you change <code>...AppLayout</code> to <code>render: h =&gt; h(AppLayout)</code>?"}, {"owner": {"reputation": 337, "user_id": 5191157, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/1ed7bd10c6b33851e9ed88ebc0824f3c?s=128&d=identicon&r=PG&f=1", "display_name": "Praveen", "link": "https://stackoverflow.com/users/5191157/praveen"}, "reply_to_user": {"reputation": 1795, "user_id": 9764507, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bC1kL.png?s=128&g=1", "display_name": "Daniel", "link": "https://stackoverflow.com/users/9764507/daniel"}, "edited": false, "score": 0, "creation_date": 1553103594, "post_id": 55266340, "comment_id": 97265309, "body": "@Daniel same issue"}], "answers": [{"comments": [{"owner": {"reputation": 337, "user_id": 5191157, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/1ed7bd10c6b33851e9ed88ebc0824f3c?s=128&d=identicon&r=PG&f=1", "display_name": "Praveen", "link": "https://stackoverflow.com/users/5191157/praveen"}, "edited": false, "score": 0, "creation_date": 1553109906, "post_id": 55267953, "comment_id": 97268486, "body": "spot on!, fresh set of eyes always helps, thank you very much for your time."}, {"owner": {"reputation": 1795, "user_id": 9764507, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bC1kL.png?s=128&g=1", "display_name": "Daniel", "link": "https://stackoverflow.com/users/9764507/daniel"}, "edited": false, "score": 0, "creation_date": 1553112118, "post_id": 55267953, "comment_id": 97269577, "body": "@Daniel: Why then <code>Vue.use()</code> did not cause an error?"}, {"owner": {"reputation": 23212, "user_id": 197546, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/3f3f0b68c6bba7cc2cf07f51c1a1afcd?s=128&d=identicon&r=PG", "display_name": "Daniel", "link": "https://stackoverflow.com/users/197546/daniel"}, "edited": false, "score": 0, "creation_date": 1553117520, "post_id": 55267953, "comment_id": 97272180, "body": "I don&#39;t know &#175;\\_(\u30c4)_/&#175;"}], "tags": [], "owner": {"reputation": 23212, "user_id": 197546, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/3f3f0b68c6bba7cc2cf07f51c1a1afcd?s=128&d=identicon&r=PG", "display_name": "Daniel", "link": "https://stackoverflow.com/users/197546/daniel"}, "is_accepted": true, "score": 3, "last_activity_date": 1591153158, "last_edit_date": 1591153158, "creation_date": 1553107008, "answer_id": 55267953, "question_id": 55266340, "link": "https://stackoverflow.com/questions/55266340/vue-js-unknown-custom-element-router-view/55267953#55267953", "title": "Vue.js - Unknown custom element: &lt;router-view&gt;", "body": "<p>Looks like <code>Vue.use(VueRouter)</code> is not doing its thing...</p>\n\n<p>This is likely due to case sensitivity with your Vue import.</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>import Vue from 'Vue'  // &lt;--- should be 'vue' NOT 'Vue'\nimport VueRouter from 'vue-router'\nimport Category from './theme/Category.vue'\nimport Login from './theme/Login.vue'\n\nVue.use(VueRouter)\n\nconst router = new VueRouter({\n  routes: [\n    {path: '/', component: Category},\n    {path: '/login', component: Login}\n  ]\n})\n</code></pre>\n"}], "owner": {"reputation": 337, "user_id": 5191157, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/1ed7bd10c6b33851e9ed88ebc0824f3c?s=128&d=identicon&r=PG&f=1", "display_name": "Praveen", "link": "https://stackoverflow.com/users/5191157/praveen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2958, "favorite_count": 0, "accepted_answer_id": 55267953, "answer_count": 1, "score": 1, "last_activity_date": 1591153158, "creation_date": 1553101210, "last_edit_date": 1553105489, "question_id": 55266340, "link": "https://stackoverflow.com/questions/55266340/vue-js-unknown-custom-element-router-view", "title": "Vue.js - Unknown custom element: &lt;router-view&gt;", "body": "<p>I'm bit new to Vue.js and I'm trying to implement routing to the application but for some reason I'm facing an issue saying: </p>\n\n<blockquote>\n  <p>Unknown custom element: <code>&lt;router-view&gt;</code> - did you register the component\n  correctly? For recursive components, make sure to provide the \"name\" option</p>\n</blockquote>\n\n<p>Am i registering the component wrongly? Any help is much appreciated, my code below:</p>\n\n<p>app.js</p>\n\n<pre><code>import Vue from 'vue'\nimport AppLayout from './theme/Layout.vue'\nimport router from './router'\n\nconst app = new Vue({\n  router,\n  ...AppLayout\n})\n\nexport { app, router }\n</code></pre>\n\n<p>router.js </p>\n\n<pre><code>import Vue from 'Vue'\nimport VueRouter from 'vue-router'\nimport Category from './theme/Category.vue'\nimport Login from './theme/Login.vue'\n\nVue.use(VueRouter)\n\nconst router = new VueRouter({\n  routes: [\n    {path: '/', component: Category},\n    {path: '/login', component: Login}\n  ]\n})\n</code></pre>\n\n<p>export default router</p>\n\n<p>Layout.vue</p>\n\n<pre><code> &lt;template&gt;\n  &lt;div&gt;\n    &lt;app-header&gt;&lt;/app-header&gt;\n    &lt;section class='main-section section'&gt;\n      &lt;div class='container content'&gt;\n        &lt;router-view&gt;&lt;/router-view&gt;\n      &lt;/div&gt;\n    &lt;/section&gt;\n    &lt;app-footer&gt;&lt;/app-footer&gt;\n  &lt;/div&gt;\n&lt;/template&gt;\n&lt;script&gt;\nimport AppHeader from './AppHeader.vue'\nimport AppFooter from './AppFooter.vue'\nexport default {\n  components: {\n    'app-header': AppHeader,\n    'app-footer': AppFooter\n  }\n}\n&lt;/script&gt;\n&lt;style lang='scss'&gt;\n$primary: #287ab1;\n@import '~bulma';\n\n&lt;/style&gt;\n</code></pre>\n\n<p>I am following this guy's code <a href=\"https://github.com/bstavroulakis/vue-spa\" rel=\"nofollow noreferrer\">Here</a> and his <a href=\"https://app.pluralsight.com/library/courses/vue-js-single-page-applications/table-of-contents\" rel=\"nofollow noreferrer\">course</a></p>\n"}, {"tags": ["node.js", "typescript", "loopbackjs"], "answers": [{"comments": [{"owner": {"reputation": 494, "user_id": 541281, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3469425382ede265587adb125a4af0e5?s=128&d=identicon&r=PG", "display_name": "Shaun", "link": "https://stackoverflow.com/users/541281/shaun"}, "edited": false, "score": 0, "creation_date": 1584528249, "post_id": 55305575, "comment_id": 107461683, "body": "The question was about dev/prod configuration for lb4. This answer seems to be a solution to lb3."}], "tags": [], "owner": {"reputation": 9864, "user_id": 69868, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/CBade.jpg?s=128&g=1", "display_name": "Miroslav Bajto\u0161", "link": "https://stackoverflow.com/users/69868/miroslav-bajto%c5%a1"}, "is_accepted": false, "score": 1, "last_activity_date": 1553278332, "creation_date": 1553278332, "answer_id": 55305575, "question_id": 55266175, "link": "https://stackoverflow.com/questions/55266175/loopback4-switching-between-development-and-production-environments/55305575#55305575", "title": "Loopback4: Switching between development and production environments", "body": "<p><em>Hello from the LoopBack team \ud83d\udc4b</em></p>\n\n<p>LoopBack does not support dotenv out of the box.</p>\n\n<p>If you want to keep your environment-specific configuration in files, then you should place your production configuration to <code>server/datasources.production.json</code> and then set the environment variable <code>NODE_ENV</code> to <code>production</code>. LoopBack is reading <code>server/datasources.${NODE_ENV}.json</code> at startup and applying any overrides from that file on top of the default configuration specified in <code>server/datasources.json</code>.</p>\n\n<p>Having said that, we think it's better to use <a href=\"https://12factor.net\" rel=\"nofollow noreferrer\">https://12factor.net</a> and provide production configuration via environment variables. I guess that's what you are trying to achieve too?</p>\n\n<p>Maybe you are looking for a way how to configure datasources from environment variables? LoopBack supports variable substitution in certain configuration files, <code>datasources.json</code> is amongst the supported ones. For example:</p>\n\n<pre><code>{\n  \"db\": {\n    \"connector\": \"mysql\",\n\n    \"database\": \"${MYSQL_DB}\",\n    \"username\": \"${MYSQL_USER},\n    \"password\": \"${MYSQL_PASSWORD}\"\n}\n</code></pre>\n\n<p>When it comes to datasources in particular, we are recommending a slightly different approach:</p>\n\n<ul>\n<li>Connection settings used by local development are specified in <code>server/datasources.json</code> file using datasource configuration options like <code>host</code>, <code>database</code>, <code>username</code>, etc. </li>\n<li>When running in production (staging, etc.), the connection settings should be configured via a single connection string/url. The datasource file should contain an entry to set <code>url</code> property to the value provided by the environment.</li>\n<li>Under the hood, LoopBack and all connectors provide specific behavior to support this feature: the <code>url</code> property overrides all other settings, but is silently ignored when it's not present.</li>\n</ul>\n\n<p>An example datasource configuration:</p>\n\n<pre><code>{\n  \"db\": {\n    \"connector\": \"mysql\",\n\n    \"database\": \"demo\",\n    \"username\": \"demo\",\n    \"password\": \"L00pBack\"\n\n    \"url\": \"${MYSQL_URL}\"\n}\n</code></pre>\n\n<p>When running in production, you can set the connection string as follows:</p>\n\n<pre class=\"lang-sh prettyprint-override\"><code>export MYSQL_URL=mysql://prod:strong-password@localhost/realdb\n</code></pre>\n\n<p>Please refer to our older blog post <a href=\"https://strongloop.com/strongblog/managing-loopback-configurations-the-twelve-factor-way/\" rel=\"nofollow noreferrer\">https://strongloop.com/strongblog/managing-loopback-configurations-the-twelve-factor-way/</a> to learn more details.</p>\n"}], "owner": {"reputation": 849, "user_id": 3219816, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/5ijG5.jpg?s=128&g=1", "display_name": "iosifv", "link": "https://stackoverflow.com/users/3219816/iosifv"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 672, "favorite_count": 2, "answer_count": 1, "score": 1, "last_activity_date": 1560961685, "creation_date": 1553100774, "question_id": 55266175, "link": "https://stackoverflow.com/questions/55266175/loopback4-switching-between-development-and-production-environments", "title": "Loopback4: Switching between development and production environments", "body": "<p>Simply, how should I implement switching between dev and prod on a lp4 app.</p>\n\n<p>I have my datasource added and everything works fine, but it's a .json file. How can I switch to another configuration saved in a .env file that could be read through dotenv package.</p>\n\n<p>I have tried creating the datasource object manually, but I get errors so most likely my approach is wrong. Any suggestion would be appreciated.</p>\n"}, {"tags": ["angular", "typescript", "httpclient"], "answers": [{"tags": [], "owner": {"reputation": 7665, "user_id": 894532, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/epFXH.jpg?s=128&g=1", "display_name": "Maihan Nijat", "link": "https://stackoverflow.com/users/894532/maihan-nijat"}, "is_accepted": true, "score": 3, "last_activity_date": 1553100044, "creation_date": 1553100044, "answer_id": 55265952, "question_id": 55265758, "link": "https://stackoverflow.com/questions/55265758/angular-httpclient-map-response-to-entity-with-behaviour/55265952#55265952", "title": "Angular httpClient map response to entity with behaviour", "body": "<p>You need to create an instance of the class. The methods are not available when you cast your JSON into prototypical JavaScript/ TypeScript class.</p>\n\n<p>Edit:\nJust found a good explanation here:\n<a href=\"https://stackoverflow.com/a/22875957/894532\">https://stackoverflow.com/a/22875957/894532</a></p>\n"}, {"tags": [], "owner": {"reputation": 13387, "user_id": 965834, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/BiCtr.png?s=128&g=1", "display_name": "Jeto", "link": "https://stackoverflow.com/users/965834/jeto"}, "is_accepted": false, "score": 1, "last_activity_date": 1553111105, "creation_date": 1553111105, "answer_id": 55269029, "question_id": 55265758, "link": "https://stackoverflow.com/questions/55265758/angular-httpclient-map-response-to-entity-with-behaviour/55269029#55269029", "title": "Angular httpClient map response to entity with behaviour", "body": "<p>You can use the RxJS' <a href=\"https://www.learnrxjs.io/operators/transformation/map.html\" rel=\"nofollow noreferrer\"><code>map</code></a> operator to build a <code>TodoEntity</code> instance from the set of properties returned by the webservice, using <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/assign\" rel=\"nofollow noreferrer\"><code>Object.assign</code></a>:</p>\n\n<pre><code>this.http.get('https://jsonplaceholder.typicode.com/todos/1').pipe(\n  map(res =&gt; Object.assign(new TodoEntity(), res))\n).subscribe((res: TodoEntity) =&gt; {\n  console.log(res.foo());\n});\n</code></pre>\n\n<p><strong>Demo: <a href=\"https://stackblitz.com/edit/angular-igaw2q\" rel=\"nofollow noreferrer\">https://stackblitz.com/edit/angular-igaw2q</a></strong></p>\n"}], "owner": {"reputation": 33, "user_id": 8001629, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/VRLIi.jpg?s=128&g=1", "display_name": "Simon M&#252;ller", "link": "https://stackoverflow.com/users/8001629/simon-m%c3%bcller"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 655, "favorite_count": 0, "accepted_answer_id": 55265952, "answer_count": 2, "score": 2, "last_activity_date": 1553111105, "creation_date": 1553099407, "last_edit_date": 1553099696, "question_id": 55265758, "link": "https://stackoverflow.com/questions/55265758/angular-httpclient-map-response-to-entity-with-behaviour", "title": "Angular httpClient map response to entity with behaviour", "body": "<p>I'm trying to map the response of my GET-request to an entity-class.\nWhen calling a function on that response-object an error is thrown:</p>\n\n<blockquote>\n  <p>TypeError: res.foo is not a function</p>\n</blockquote>\n\n<p>GET-Request:</p>\n\n<pre><code> this.http.get&lt;TodoEntity&gt;('https://jsonplaceholder.typicode.com/todos/1').subscribe((res) =&gt; {\n    console.log(res.foo());\n  })\n</code></pre>\n\n<p>Entity-Class:</p>\n\n<pre><code>export class TodoEntity {\n public userId: number;\n public id: number;\n public title: string;\n public completed: boolean;\n public foo(): string {\n    return 'Hello world';\n }\n}\n</code></pre>\n\n<p>Is there a way to map the response directly to an entity class and call a function on it? Or do I have to manually create a new instance of <strong>TodoEntity</strong> based on the response-object?</p>\n\n<p>I'm using typescript 3.1.6 with angular 7.3.6.</p>\n"}, {"tags": ["typescript"], "answers": [{"comments": [{"owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "edited": false, "score": 1, "creation_date": 1553101790, "post_id": 55266296, "comment_id": 97264292, "body": "Just FYI it does not work under strict. I would not recommend using recusive type aliases like this, I believe it is actively discouraged and might not work in the future."}, {"owner": {"reputation": 1796, "user_id": 5914352, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-95K_ALMidVw/AAAAAAAAAAI/AAAAAAAAABY/-XW0VDjXD7Q/photo.jpg?sz=128", "display_name": "Przemyslaw Jan Beigert", "link": "https://stackoverflow.com/users/5914352/przemyslaw-jan-beigert"}, "reply_to_user": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "edited": false, "score": 0, "creation_date": 1553102138, "post_id": 55266296, "comment_id": 97264515, "body": "I agree that is not readable solution. Thanks for tip with strict mode, i fix it not it works. I&#39;m not sure about future of TS. On microsoft roadmap there is no mentions about breaking changes."}, {"owner": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "edited": false, "score": 1, "creation_date": 1553103423, "post_id": 55266296, "comment_id": 97265220, "body": "See <a href=\"https://github.com/Microsoft/TypeScript/issues/26980\" rel=\"nofollow noreferrer\">this issue</a> for more information.  What you&#39;re doing in <code>Check&lt;&gt;</code> is explicitly given a \ud83d\uded1 by <a href=\"https://github.com/ahejlsberg\" rel=\"nofollow noreferrer\">@ahejlsberg</a>, so I&#39;d stay away from it in any production/official code."}], "tags": [], "owner": {"reputation": 1796, "user_id": 5914352, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-95K_ALMidVw/AAAAAAAAAAI/AAAAAAAAABY/-XW0VDjXD7Q/photo.jpg?sz=128", "display_name": "Przemyslaw Jan Beigert", "link": "https://stackoverflow.com/users/5914352/przemyslaw-jan-beigert"}, "is_accepted": false, "score": 0, "last_activity_date": 1553102023, "last_edit_date": 1553102023, "creation_date": 1553101121, "answer_id": 55266296, "question_id": 55265679, "link": "https://stackoverflow.com/questions/55265679/enforce-that-an-array-is-exhaustive-over-a-union-type/55266296#55266296", "title": "Enforce that an array is exhaustive over a union type", "body": "<p>I have other proposition</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>type RemoveFirstFromTuple&lt;T extends any[]&gt; = \n  T extends [] ? undefined :\n  (((...b: T) =&gt; void) extends (a: any, ...b: infer I) =&gt; void ? I : [])\n\nconst tuple = &lt;T extends string[]&gt;(...args: T) =&gt; args;\n\ntype FurnitureUnion = 'chair' | 'table' | 'lamp';\ntype FurnitureTuple = ['chair', 'table' , 'lamp'];\n\ntype Check&lt;Union, Tuple extends Array&lt;any&gt;&gt; = {\n  \"error\": never,\n  \"next\": Check&lt;Union, RemoveFirstFromTuple&lt;Tuple&gt;&gt;,\n  \"exit\": true,\n}[Tuple extends [] ? \"exit\" : Tuple[0] extends Union ? \"next\" : \"error\"];\n\ntype R = Check&lt;FurnitureUnion, FurnitureTuple&gt;; // true\ntype R1 = Check&lt;'chair' | 'lamp' | 'table', FurnitureTuple&gt;; // true\ntype R2 = Check&lt;'chair' | 'lamp' | 'table', ['chair', 'table' , 'lamp', 'error']&gt;; // nerver\n</code></pre>\n\n<p>Remove from tuple takes tuple and return tuple without first element (will be needed later)</p>\n\n<p>Check will iterate on Tuple. Each step can return <code>never</code> when Tuple[0] don't extend Union, exit when input tuple is empty and next when Tuple[0] extends Union. In next step we recursive call Check but first we remove first element from Tuple by previous util</p>\n\n<p><a href=\"https://www.typescriptlang.org/play/index.html#src=type%20RemoveFirstFromTuple%3CT%20extends%20any%5B%5D%3E%20%3D%20%0D%0A%20%20T%20extends%20%5B%5D%20%3F%20undefined%20%3A%0D%0A%20%20(((...b%3A%20T)%20%3D%3E%20void)%20extends%20(a%3A%20any%2C%20...b%3A%20infer%20I)%20%3D%3E%20void%20%3F%20I%20%3A%20%5B%5D)%0D%0A%0D%0Aconst%20tuple%20%3D%20%3CT%20extends%20string%5B%5D%3E(...args%3A%20T)%20%3D%3E%20args%3B%0D%0A%0D%0Atype%20FurnitureUnion%20%3D%20&#39;chair&#39;%20%7C%20&#39;table&#39;%20%7C%20&#39;lamp&#39;%3B%0D%0Atype%20FurnitureTuple%20%3D%20%5B&#39;chair&#39;%2C%20&#39;table&#39;%20%2C%20&#39;lamp&#39;%5D%3B%0D%0A%0D%0Atype%20Check%3CUnion%2C%20Tuple%20extends%20Array%3Cany%3E%3E%20%3D%20%7B%0D%0A%20%20%22error%22%3A%20never%2C%0D%0A%20%20%22next%22%3A%20Check%3CUnion%2C%20RemoveFirstFromTuple%3CTuple%3E%3E%2C%0D%0A%20%20%22exit%22%3A%20true%2C%0D%0A%7D%5BTuple%20extends%20%5B%5D%20%3F%20%22exit%22%20%3A%20Tuple%5B0%5D%20extends%20Union%20%3F%20%22next%22%20%3A%20%22error%22%5D%3B%0D%0A%0D%0Atype%20R%20%3D%20Check%3CFurnitureUnion%2C%20FurnitureTuple%3E%3B%0D%0Atype%20R1%20%3D%20Check%3C&#39;chair&#39;%20%7C%20&#39;lamp&#39;%20%7C%20&#39;table&#39;%2C%20FurnitureTuple%3E%3B%0D%0Atype%20R2%20%3D%20Check%3C&#39;chair&#39;%20%7C%20&#39;lamp&#39;%20%7C%20&#39;table&#39;%2C%20%5B&#39;chair&#39;%2C%20&#39;table&#39;%20%2C%20&#39;lamp&#39;%2C%20&#39;error&#39;%5D%3E%3B\" rel=\"nofollow noreferrer\">Playground</a></p>\n"}, {"comments": [{"owner": {"reputation": 22848, "user_id": 480527, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/1ce5d75a43aea1b5815b8860c15b39e0?s=128&d=identicon&r=PG", "display_name": "Jamie Treworgy", "link": "https://stackoverflow.com/users/480527/jamie-treworgy"}, "edited": false, "score": 0, "creation_date": 1553111996, "post_id": 55266531, "comment_id": 97269516, "body": "This is pretty awesome. And I have to confess when I wrote this question I was absolutely trolling you because I&#39;m a huge fan of your canon of TypeScript solutions on SO. So I just need to decide is the double-invocation worse than what I&#39;ve been doing, e.g. <code>const furniture: { [key in Furniture]: true } = { chair: true, table: true, lamp: true };</code>. I think it&#39;s better; I care about order, and using a object where what I want is really an ordered set seems wrong, since then I have to (theoretically) worry about how consumers enumerate the keys."}], "tags": [], "owner": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "is_accepted": true, "score": 5, "last_activity_date": 1553101793, "creation_date": 1553101793, "answer_id": 55266531, "question_id": 55265679, "link": "https://stackoverflow.com/questions/55265679/enforce-that-an-array-is-exhaustive-over-a-union-type/55266531#55266531", "title": "Enforce that an array is exhaustive over a union type", "body": "<p>There are ways of doing this but it might be a bit messy for you.  The two stumbling blocks here are the absence of <a href=\"https://github.com/Microsoft/TypeScript/issues/26242\" rel=\"noreferrer\">partial type parameter inference</a> and <a href=\"https://github.com/Microsoft/TypeScript/issues/23689\" rel=\"noreferrer\">invalid types</a>.  Here is my solution:</p>\n\n<pre><code>type Furniture = 'chair' | 'table' | 'lamp' | 'ottoman';\n\nconst exhaustiveStringTuple = &lt;T extends string&gt;() =&gt;\n  &lt;L extends T[]&gt;(\n    ...x: L &amp; ([T] extends [L[number]] ? L : [\n      Error, \"You are missing \", Exclude&lt;T, L[number]&gt;])\n  ) =&gt; x;\n\nconst missingFurniture = exhaustiveStringTuple&lt;Furniture&gt;()('chair', 'table', 'lamp');\n// error, [string, string, string] is not assignable to parameter of type\n// [\"chair\", \"table\", \"lamp\"] &amp; [Error, \"You are missing\", \"ottoman\"]\n\nconst extraFurniture = exhaustiveStringTuple&lt;Furniture&gt;()(\n    'chair', 'table', 'lamp', 'ottoman', 'bidet');\n// error, \"bidet\" is not assignable to a parameter of type 'Furniture'\n\nconst furniture = exhaustiveStringTuple&lt;Furniture&gt;()('chair', 'table', 'lamp', 'ottoman');\n// okay\n</code></pre>\n\n<p>As you can see, <code>exhaustiveStringTuple</code> is a <a href=\"https://en.wikipedia.org/wiki/Currying\" rel=\"noreferrer\">curried</a> function, whose sole purpose is to take a manually specified type parameter <code>T</code> and then return a new function which takes arguments whose types are constrained by <code>T</code> but inferred by the call. (The currying could be eliminated if we had proper partial type parameter inference.)  In your case, <code>T</code> will be specified as <code>Furniture</code>.  If all you care about is <code>exhaustiveStringTuple&lt;Furniture&gt;()</code>, then you can use that instead:</p>\n\n<pre><code>const furnitureTuple = \n  &lt;L extends Furniture[]&gt;(\n    ...x: L &amp; ([Furniture] extends [L[number]] ? L : [\n    Error, \"You are missing \", Exclude&lt;Furniture, L[number]&gt;])\n  ) =&gt; x;\n\nconst missingFurniture = furnitureTuple('chair', 'table', 'lamp');\n// error, [string, string, string] is not assignable to parameter of type\n// [\"chair\", \"table\", \"lamp\"] &amp; [Error, \"You are missing\", \"ottoman\"]\n\nconst extraFurniture = furnitureTuple('chair', 'table', 'lamp', 'ottoman', 'bidet');\n// error, \"bidet\" is not assignable to a parameter of type 'Furniture'\n\nconst furniture = furnitureTuple('chair', 'table', 'lamp', 'ottoman');\n// okay\n</code></pre>\n\n<p>The other issue is that the error you get when you leave out a required argument is \ud83e\udd2e.  I just made a tuple of junk that hopefully the developer can interpret (<code>[Error, \"You are missing \", \"ottoman\"]</code>) even though it literally makes no sense in terms of a type.  If we had an invalid type I could customize the error message.  </p>\n\n<p>So that's the best I can do.  It behaves as you want, but as I said, might be messier than you'd like.  Hope that helps; good luck!</p>\n"}], "owner": {"reputation": 22848, "user_id": 480527, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/1ce5d75a43aea1b5815b8860c15b39e0?s=128&d=identicon&r=PG", "display_name": "Jamie Treworgy", "link": "https://stackoverflow.com/users/480527/jamie-treworgy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 410, "favorite_count": 1, "accepted_answer_id": 55266531, "answer_count": 2, "score": 4, "last_activity_date": 1553102023, "creation_date": 1553099199, "last_edit_date": 1553099670, "question_id": 55265679, "link": "https://stackoverflow.com/questions/55265679/enforce-that-an-array-is-exhaustive-over-a-union-type", "title": "Enforce that an array is exhaustive over a union type", "body": "<p>Given a strongly-typed tuple created using a technique such as described <a href=\"https://stackoverflow.com/questions/44497388/typescript-array-to-string-literal-type\">here</a>:</p>\n\n<pre><code>const tuple = &lt;T extends string[]&gt;(...args: T) =&gt; args;\nconst furniture = tuple('chair', 'table', 'lamp');\n\n// typeof furniture[number] === 'chair' | 'table' | 'lamp'\n</code></pre>\n\n<p>I want to assert at design time that it's exhaustive over another union type:</p>\n\n<pre><code>type Furniture = 'chair' | 'table' | 'lamp' | 'ottoman'\n</code></pre>\n\n<p>How can I create a type that will ensure that <code>furniture</code> contains each and only the types in the <code>Furniture</code> union?</p>\n\n<p>The goal is to be able to create an array at design time like this, and have it fail should <code>Furniture</code> change; an ideal syntax might look like:</p>\n\n<pre><code>const furniture = tuple&lt;Furniture&gt;('chair', 'table', 'lamp')\n</code></pre>\n"}, {"tags": ["javascript", "reactjs", "typescript"], "comments": [{"owner": {"reputation": 1499, "user_id": 7268109, "user_type": "registered", "accept_rate": 67, "profile_image": "https://lh6.googleusercontent.com/-7uPWQyvs8HE/AAAAAAAAAAI/AAAAAAAAAFM/Lle6epp4ctc/photo.jpg?sz=128", "display_name": "Limbo", "link": "https://stackoverflow.com/users/7268109/limbo"}, "edited": false, "score": 0, "creation_date": 1553096665, "post_id": 55264775, "comment_id": 97260992, "body": "Try to use <code>React.ComponentClass | React.FunctionComponent</code> instead of <code>React.Component</code>"}, {"owner": {"reputation": 505, "user_id": 10741122, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/867acac5be64a16f263f996979ba30ff?s=128&d=identicon&r=PG&f=1", "display_name": "user10741122", "link": "https://stackoverflow.com/users/10741122/user10741122"}, "reply_to_user": {"reputation": 1499, "user_id": 7268109, "user_type": "registered", "accept_rate": 67, "profile_image": "https://lh6.googleusercontent.com/-7uPWQyvs8HE/AAAAAAAAAAI/AAAAAAAAAFM/Lle6epp4ctc/photo.jpg?sz=128", "display_name": "Limbo", "link": "https://stackoverflow.com/users/7268109/limbo"}, "edited": false, "score": 0, "creation_date": 1553096835, "post_id": 55264775, "comment_id": 97261105, "body": "@LevitatorImbalance but the param can be either class component or functional. I thought ComponentClass indicates it is a Class Component?"}, {"owner": {"reputation": 1499, "user_id": 7268109, "user_type": "registered", "accept_rate": 67, "profile_image": "https://lh6.googleusercontent.com/-7uPWQyvs8HE/AAAAAAAAAAI/AAAAAAAAAFM/Lle6epp4ctc/photo.jpg?sz=128", "display_name": "Limbo", "link": "https://stackoverflow.com/users/7268109/limbo"}, "edited": false, "score": 0, "creation_date": 1553096959, "post_id": 55264775, "comment_id": 97261183, "body": "Just reviewed a question and edited my comment)"}, {"owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "edited": false, "score": 1, "creation_date": 1553097207, "post_id": 55264775, "comment_id": 97261389, "body": "Or use <code>ComponentType</code>, also don&#39;t use <code>: Function</code> that disables inference for <code>withQueryData</code>"}, {"owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "edited": false, "score": 0, "creation_date": 1553097264, "post_id": 55264775, "comment_id": 97261434, "body": "Also won&#39;t you want to forward some props from the wrapper component to the wrapped component ? Your current versions does nto allow any extra props"}], "answers": [{"tags": [], "owner": {"reputation": 1499, "user_id": 7268109, "user_type": "registered", "accept_rate": 67, "profile_image": "https://lh6.googleusercontent.com/-7uPWQyvs8HE/AAAAAAAAAAI/AAAAAAAAAFM/Lle6epp4ctc/photo.jpg?sz=128", "display_name": "Limbo", "link": "https://stackoverflow.com/users/7268109/limbo"}, "is_accepted": true, "score": 1, "last_activity_date": 1553097425, "creation_date": 1553097425, "answer_id": 55265096, "question_id": 55264775, "link": "https://stackoverflow.com/questions/55264775/how-to-correctly-type-a-react-component-that-is-a-param-of-a-function/55265096#55265096", "title": "How to correctly Type a React Component that is a param of a Function?", "body": "<p>Transforming my comment into an answer.</p>\n\n<p>There are two typings for declared react components:</p>\n\n<p><code>React.ComponentClass</code> - a typing for react component that is declared as class:</p>\n\n<pre><code>class SomeComponent extends React.Component {...} // this is React.ComponentClass\n</code></pre>\n\n<p><code>React.FunctionComponent</code> is a typing for function component (CO to the rescue! :D)</p>\n\n<pre><code>const MyFunctionComponent: React.FunctionComponent = props =&gt; \"something\"\n</code></pre>\n\n<p>So, if your component is one of <code>ComponentClass</code> or <code>FunctionComponent</code>, you can use <a href=\"https://www.typescriptlang.org/docs/handbook/advanced-types.html\" rel=\"nofollow noreferrer\">Union Type</a> and tell the TypeScript about it in this way:</p>\n\n<pre><code>const SomeUnionType: React.ComponentClass | React.FunctionComponent\n</code></pre>\n\n<p>Thats it! Hope, that helps :)</p>\n"}, {"tags": [], "owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "is_accepted": false, "score": 1, "last_activity_date": 1553097606, "creation_date": 1553097606, "answer_id": 55265152, "question_id": 55264775, "link": "https://stackoverflow.com/questions/55264775/how-to-correctly-type-a-react-component-that-is-a-param-of-a-function/55265152#55265152", "title": "How to correctly Type a React Component that is a param of a Function?", "body": "<p>You need to use <code>ComponentType</code> to represent a component type (functional or class, defined in react definitions as <code>type ComponentType&lt;P = {}&gt; = ComponentClass&lt;P&gt; | FunctionComponent&lt;P&gt;;</code>). </p>\n\n<p>Also you might want to allow the HOC to forward properties from the wrapped component. </p>\n\n<p>Also remove the <code>Function</code> annotation from <code>withQueryData</code> as that will remove all type safety from <code>withQueryData</code>.</p>\n\n<pre><code>import { Component, ComponentType } from \"react\";\ntype Omit&lt;T, K extends keyof T&gt; = Pick&lt;T, Exclude&lt;keyof T, K&gt;&gt;\nconst withQueryData = &lt;P extends { data: {} }&gt;(\n  GivenComponent: ComponentType&lt;P&gt;,\n  query: string\n) =&gt; (p: Omit&lt;P, 'data'&gt;) =&gt; (\n\n  &lt;Query query={gql(query)}&gt;\n    {({ loading, error, data }) =&gt; {\n      if (loading) return &lt;p&gt;Loading...&lt;/p&gt;;\n      if (error) return &lt;p&gt;Error! {error.message}&lt;/p&gt;;\n\n      return &lt;GivenComponent data={data} {...p as any} /&gt;;\n    }}\n  &lt;/Query&gt;\n);\n\nclass MyComponent extends Component&lt;{ data: {}, otherProp: string }&gt; {\n\n  render() {\n    return (\n      &lt;div&gt;...&lt;/div&gt;\n    );\n  }\n}\n\n\n\nconst MyComponentQuery = `query goes here...`;\n\nconst MyComponentWithData = withQueryData(\n  MyComponent,\n  MyComponentQuery\n);\n\nexport default MyComponentWithData;\n\nlet o = () =&gt; &lt;MyComponentWithData otherProp=\"\" &gt;&lt;/MyComponentWithData&gt;  // otherProp required, data provided bu the HOC\n</code></pre>\n"}], "owner": {"reputation": 505, "user_id": 10741122, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/867acac5be64a16f263f996979ba30ff?s=128&d=identicon&r=PG&f=1", "display_name": "user10741122", "link": "https://stackoverflow.com/users/10741122/user10741122"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 350, "favorite_count": 0, "accepted_answer_id": 55265096, "answer_count": 2, "score": 1, "last_activity_date": 1553097606, "creation_date": 1553096568, "last_edit_date": 1553096744, "question_id": 55264775, "link": "https://stackoverflow.com/questions/55264775/how-to-correctly-type-a-react-component-that-is-a-param-of-a-function", "title": "How to correctly Type a React Component that is a param of a Function?", "body": "<p>I have a function, which takes two params: a react component, and a string. I am trying to give them correct typings, however, am confused as to why the following wont work...</p>\n\n<p><strong>The problem is with the typing with GivenComponent in the Function.</strong> By giving the param that specific typing of Component&lt;>, the return of the GivenComponent (within the &lt; Query />) errors stating the following:</p>\n\n<p><em>JSX element type 'GivenComponent' does not have any construct or call signatures. [2604]</em></p>\n\n<p>However, how would you type that correctly? That param is a React Component, could be both a functional or a class component. As seen in the second part of code, the param isn't given as &lt; MyComponent />, it is given as MyComponent - so not the \"rendered\" jsx? maybe that changes things</p>\n\n<h1>Function:</h1>\n\n<p><strong>Basically takes a component and returns it with a higher order component wrapper around it</strong></p>\n\n<pre><code>import React, { Component } from \"react\";\n\nconst withQueryData: Function = (\n  GivenComponent: Component&lt;{ data: {} }, any&gt;,\n  query: string\n) =&gt; () =&gt; (\n\n  &lt;Query query={gql(query)}&gt;\n    {({ loading, error, data }) =&gt; {\n      if (loading) return &lt;p&gt;Loading...&lt;/p&gt;;\n      if (error) return &lt;p&gt;Error! {error.message}&lt;/p&gt;;\n\n      return &lt;GivenComponent data={data} /&gt;;\n    }}\n  &lt;/Query&gt;\n);\n\nexport default withQueryData;\n</code></pre>\n\n<h1>React Component:</h1>\n\n<p><strong>example of how the function above is called with params</strong></p>\n\n<pre><code>class MyComponent extends Component&lt;...removed...&gt; {\n\n  render() {\n    return (\n      &lt;div&gt;...&lt;/div&gt;\n    );\n  }\n}\n\n\n\nconst MyComponentQuery = `query goes here...`;\n\nconst MyComponentWithData = withQueryData(\n  MyComponent,\n  MyComponentQuery\n);\n\nexport default MyComponentWithData;\n</code></pre>\n"}, {"tags": ["node.js", "angular", "typescript", "webpack"], "comments": [{"owner": {"reputation": 22812, "user_id": 134904, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/7890c1ec354236e430753556632f5b1b?s=128&d=identicon&r=PG", "display_name": "kolypto", "link": "https://stackoverflow.com/users/134904/kolypto"}, "edited": false, "score": 0, "creation_date": 1617019054, "post_id": 55264625, "comment_id": 118174917, "body": "The solution is here: <a href=\"https://stackoverflow.com/questions/64919108/error-emfile-too-many-open-files-watch-unless-i-use-sudo\" title=\"error emfile too many open files watch unless i use sudo\">stackoverflow.com/questions/64919108/&hellip;</a>"}], "answers": [{"tags": [], "owner": {"reputation": 1, "user_id": 11203179, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ead216845e446c6ca7b31b3608167422?s=128&d=identicon&r=PG&f=1", "display_name": "Vyjayanthi", "link": "https://stackoverflow.com/users/11203179/vyjayanthi"}, "is_accepted": false, "score": 0, "last_activity_date": 1553106197, "creation_date": 1553106197, "answer_id": 55267742, "question_id": 55264625, "link": "https://stackoverflow.com/questions/55264625/angular-ng-build-emfile-too-many-open-files/55267742#55267742", "title": "Angular NG BUILD - EMFILE: too many open files", "body": "<p>while building the project , first make sure that all the opened files should be closed and the server should be stopped then only the ng build will be executed successfully.</p>\n"}], "owner": {"reputation": 384, "user_id": 4927000, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/d349029feb6e88831cbfb0d63edeca8a?s=128&d=identicon&r=PG&f=1", "display_name": "Josh", "link": "https://stackoverflow.com/users/4927000/josh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 807, "favorite_count": 0, "answer_count": 1, "score": 3, "last_activity_date": 1553106197, "creation_date": 1553096179, "question_id": 55264625, "link": "https://stackoverflow.com/questions/55264625/angular-ng-build-emfile-too-many-open-files", "title": "Angular NG BUILD - EMFILE: too many open files", "body": "<p>I have a project in which we use about 20,000 .png files as assets and anytime I go run <em>ng build</em>, I get an error that says EMFILE: too many open files, open '...\\file.png'. This seems to only be happening in a Windows environment, as it works fine on MacOS. Is there a Windows limitation here? How can I go about using these assets? Here is a copy of my angular.json file</p>\n\n<pre><code> {\n  \"$schema\": \"./node_modules/@angular/cli/lib/config/schema.json\",\n  \"version\": 1,\n  \"newProjectRoot\": \"projects\",\n  \"projects\": {\n    \"app\": {\n      \"root\": \"\",\n      \"sourceRoot\": \"src\",\n      \"projectType\": \"application\",\n      \"prefix\": \"app\",\n      \"schematics\": {\n        \"@schematics/angular:component\": {\n          \"style\": \"sass\"\n        }\n        },\n      \"architect\": {\n        \"build\": {\n          \"builder\": \"@angular-devkit/build-angular:browser\",\n          \"options\": {\n            \"progress\": true,\n            \"extractCss\": true,\n            \"outputPath\": \"dist\",\n            \"index\": \"src/index.html\",\n            \"main\": \"src/main.ts\",\n            \"polyfills\": \"src/polyfills.ts\",\n            \"tsConfig\": \"src/tsconfig.app.json\",\n            \"assets\": [\n              \"src/assets\",\n              {\n                \"glob\": \"appsettings.json\",\n                \"input\": \"./\",\n                \"output\": \"./assets/\"\n              }\n            ],\n            \"styles\": [\n              \"node_modules/bootstrap/dist/css/bootstrap.min.css\",\n              \"src/sass/styles.scss\"\n            ],\n            \"scripts\": []                            \n          },\n          \"configurations\": {\n            \"production\": {\n              \"fileReplacements\": [\n                {\n                  \"replace\": \"src/environments/environment.ts\",\n                  \"with\": \"src/environments/environment.prod.ts\"\n                }\n              ],\n              \"optimization\": true,\n              \"outputHashing\": \"all\",\n              \"sourceMap\": false,\n              \"extractCss\": true,\n              \"namedChunks\": false,\n              \"aot\": true,\n              \"extractLicenses\": true,\n              \"vendorChunk\": false,\n              \"buildOptimizer\": true\n            }\n          }\n        },\n        \"serve\": {\n          \"builder\": \"@angular-devkit/build-angular:dev-server\",\n          \"options\": {\n            \"browserTarget\": \"app:build\"\n          },\n          \"configurations\": {\n            \"production\": {\n              \"browserTarget\": \"app:build:production\"\n            }\n          }\n        },\n        \"extract-i18n\": {\n          \"builder\": \"@angular-devkit/build-angular:extract-i18n\",\n          \"options\": {\n            \"browserTarget\": \"app:build\"\n          }\n        },\n        \"test\": {\n          \"builder\": \"@angular-devkit/build-angular:karma\",\n          \"options\": {\n            \"main\": \"src/test.ts\",\n            \"polyfills\": \"src/polyfills.ts\",\n            \"tsConfig\": \"src/tsconfig.spec.json\",\n            \"karmaConfig\": \"src/karma.conf.js\",\n            \"styles\": [\n              \"src/styles.scss\"\n            ],\n            \"scripts\": [],\n            \"assets\": [\n              \"src/assets\"\n            ]\n          }\n        },\n        \"lint\": {\n          \"builder\": \"@angular-devkit/build-angular:tslint\",\n          \"options\": {\n            \"tsConfig\": [\n              \"src/tsconfig.app.json\",\n              \"src/tsconfig.spec.json\"\n            ],\n            \"exclude\": [\n              \"**/node_modules/**\"\n            ]\n          }\n        },\n        \"server\": {\n          \"builder\": \"@angular-devkit/build-angular:server\",\n          \"options\": {\n            \"outputPath\": \"dist-server\",\n            \"main\": \"src/main.ts\",\n            \"tsConfig\": \"src/tsconfig.server.json\"\n          },\n          \"configurations\": {\n            \"dev\": {\n              \"optimization\": true,\n              \"outputHashing\": \"all\",\n              \"sourceMap\": false,\n              \"namedChunks\": false,\n              \"extractLicenses\": true,\n              \"vendorChunk\": true\n            },\n            \"production\": {\n              \"optimization\": true,\n              \"outputHashing\": \"all\",\n              \"sourceMap\": false,\n              \"namedChunks\": false,\n              \"extractLicenses\": true,\n              \"vendorChunk\": false\n            }\n          }\n        }\n      }\n    },\n    \"app-e2e\": {\n      \"root\": \"e2e/\",\n      \"projectType\": \"application\",\n      \"architect\": {\n        \"e2e\": {\n          \"builder\": \"@angular-devkit/build-angular:protractor\",\n          \"options\": {\n            \"protractorConfig\": \"e2e/protractor.conf.js\",\n            \"devServerTarget\": \"app:serve\"\n          }\n        },\n        \"lint\": {\n          \"builder\": \"@angular-devkit/build-angular:tslint\",\n          \"options\": {\n            \"tsConfig\": \"e2e/tsconfig.e2e.json\",\n            \"exclude\": [\n              \"**/node_modules/**\"\n            ]\n          }\n        }\n      }\n    }\n  },\n  \"defaultProject\": \"app\"\n}\n</code></pre>\n\n<p>Is there a better way I should be handling this many assets?</p>\n\n<p>Thanks!</p>\n"}, {"tags": ["node.js", "typescript", "azure", "visual-studio-code", "azure-functions"], "answers": [{"tags": [], "owner": {"reputation": 656, "user_id": 1201466, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/4604ac38dbe158bd1f87c272c775c789?s=128&d=identicon&r=PG", "display_name": "PhoenixDev", "link": "https://stackoverflow.com/users/1201466/phoenixdev"}, "is_accepted": true, "score": 2, "last_activity_date": 1553159693, "creation_date": 1553159693, "answer_id": 55277045, "question_id": 55264418, "link": "https://stackoverflow.com/questions/55264418/hello-world-application-for-azure-functions-with-typescript-fails-to-start-with/55277045#55277045", "title": "Hello World application for Azure Functions with TypeScript fails to start with VSCode", "body": "<p>Figured out that the internet proxy wasn't fully functional. Once I got the corporate proxy to work, worked like a charm. <em>Facepalm</em></p>\n"}, {"comments": [{"owner": {"reputation": 1059, "user_id": 4385621, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/yzNPK.jpg?s=128&g=1", "display_name": "gmauch", "link": "https://stackoverflow.com/users/4385621/gmauch"}, "edited": false, "score": 1, "creation_date": 1564433357, "post_id": 57260917, "comment_id": 101021513, "body": "Is the error you mentioned the same one referenced in the question? I&#39;m not a JS expert, but it looks like a different one."}, {"owner": {"reputation": 41, "user_id": 11854243, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-5jKfCoomiiU/AAAAAAAAAAI/AAAAAAAAAD4/d-1Q02Ve8XE/photo.jpg?sz=128", "display_name": "Ammanuel g", "link": "https://stackoverflow.com/users/11854243/ammanuel-g"}, "reply_to_user": {"reputation": 1059, "user_id": 4385621, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/yzNPK.jpg?s=128&g=1", "display_name": "gmauch", "link": "https://stackoverflow.com/users/4385621/gmauch"}, "edited": false, "score": 0, "creation_date": 1567018495, "post_id": 57260917, "comment_id": 101840961, "body": "Yes, the problem is not the language instead it is a networking issue which are related to company proxy."}], "tags": [], "owner": {"reputation": 41, "user_id": 11854243, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-5jKfCoomiiU/AAAAAAAAAAI/AAAAAAAAAD4/d-1Q02Ve8XE/photo.jpg?sz=128", "display_name": "Ammanuel g", "link": "https://stackoverflow.com/users/11854243/ammanuel-g"}, "is_accepted": false, "score": 2, "last_activity_date": 1564431861, "creation_date": 1564431861, "answer_id": 57260917, "question_id": 55264418, "link": "https://stackoverflow.com/questions/55264418/hello-world-application-for-azure-functions-with-typescript-fails-to-start-with/57260917#57260917", "title": "Hello World application for Azure Functions with TypeScript fails to start with VSCode", "body": "<p>The error I am getting is as follow:\n\"[error] Worker 7d5cf8e1-c3bf-4c20-94fe-bbb321b3afc7 encountered event stream error:  { Error: 14 UNAVAILABLE: Connect Failed\"</p>\n\n<p>Solution:\nAs PhoenixDev mentioned, it is proxy issue and u need to do these two things.\n1. Set up ur proxy on vscode or terminal\nexport http_proxy=\"https://urproxyurl:port\"\nexport https_proxy=\"https://urproxyurl:port\"\n2. Since it is hosted locally and doesn't need the proxy to access the localhost, setup for no_proxy env.\nexport no_proxy=\"127.0.0.1, localhost, 0.0.0.0:7071\"</p>\n"}], "owner": {"reputation": 656, "user_id": 1201466, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/4604ac38dbe158bd1f87c272c775c789?s=128&d=identicon&r=PG", "display_name": "PhoenixDev", "link": "https://stackoverflow.com/users/1201466/phoenixdev"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1400, "favorite_count": 0, "accepted_answer_id": 55277045, "answer_count": 2, "score": 3, "last_activity_date": 1564431861, "creation_date": 1553095565, "last_edit_date": 1553157461, "question_id": 55264418, "link": "https://stackoverflow.com/questions/55264418/hello-world-application-for-azure-functions-with-typescript-fails-to-start-with", "title": "Hello World application for Azure Functions with TypeScript fails to start with VSCode", "body": "<p>I am trying to build a very basic Application to test out Azure Functions with TypeScript.\nI have the Azure Functions extension installed in Visual Studio Code. All detailed informtaion about the environment and the Log output with the errors is detailed further on.\nI have already tried playing around with different Node.js versions (v10.14.1), and adding </p>\n\n<blockquote>\n  <p>\"NODE_OPTIONS\": \"--inspect=5858\"</p>\n</blockquote>\n\n<p>to local.settings.json, to no avail.</p>\n\n<p>I installed the Azure Functions CLI using the command:</p>\n\n<blockquote>\n  <p>npm install -g azure-functions-core-tools</p>\n</blockquote>\n\n<p><a href=\"https://github.com/Microsoft/vscode-azurefunctions/issues/387\" rel=\"nofollow noreferrer\">This Thread</a> seems to have a similar problem, but none of the suggestions there have helped me out. Hoping the SO community can help me out and I won't have to waste more time fighting this issue :(</p>\n\n<p>VSCode version:</p>\n\n<p><a href=\"https://i.stack.imgur.com/5wjYv.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/5wjYv.png\" alt=\"enter image description here\"></a></p>\n\n<p>Node.js Version:</p>\n\n<blockquote>\n  <p>v10.15.3</p>\n</blockquote>\n\n<p>local.settings.json</p>\n\n<pre><code>{\n  \"IsEncrypted\": false,\n  \"Values\": {\n    \"AzureWebJobsStorage\": \"\",\n    \"FUNCTIONS_WORKER_RUNTIME\": \"node\"\n  }\n}\n</code></pre>\n\n<p>launch.json</p>\n\n<pre><code>{\n  \"version\": \"0.2.0\",\n  \"configurations\": [\n\n    {\n      \"name\": \"Attach to Node Functions\",\n      \"type\": \"node\",\n      \"request\": \"attach\",\n      \"port\": 5858,\n      \"preLaunchTask\": \"func: host start\"\n    }\n  ]\n}\n</code></pre>\n\n<p>Error:</p>\n\n<p><a href=\"https://i.stack.imgur.com/yA5yZ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/yA5yZ.png\" alt=\"enter image description here\"></a></p>\n\n<p>Log Output:</p>\n\n<pre><code>&gt; Executing task: func extensions install &lt;\n\nMicrosoft (R) Build Engine version 15.9.20+g88f5fadfbe for .NET Core\nCopyright (C) Microsoft Corporation. All rights reserved.\n\n  Restore completed in 85.17 ms for ...\\workspace\\Test_Azure_Functions_TSC\\extensions.csproj.\n  extensions -&gt; ...\\workspace\\Test_Azure_Functions_TSC\\bin\\extensions.dll\n\nBuild succeeded.\n    0 Warning(s)\n    0 Error(s)\n\nTime Elapsed 00:00:02.95\n\n\n\nTerminal will be reused by tasks, press any key to close it.\n\n&gt; Executing task: npm run build &lt;\n\n\n&gt; Test_Azure_Functions_TSC@0.1.0 build ...\\workspace\\Test_Azure_Functions_TSC\n&gt; tsc\n\n\nTerminal will be reused by tasks, press any key to close it.\n\n&gt; Executing task: func host start &lt;\n\n\n                  %%%%%%\n                 %%%%%%\n            @   %%%%%%    @\n          @@   %%%%%%      @@\n       @@@    %%%%%%%%%%%    @@@\n     @@      %%%%%%%%%%        @@\n       @@         %%%%       @@\n         @@      %%%       @@\n           @@    %%      @@\n                %%\n                %\n\nAzure Functions Core Tools (2.4.419 Commit hash: c9c1724d002bd90b2e6b41393915ea3a26bcf0ce)\nFunction Runtime Version: 2.0.12332.0\nSkipping 'AzureWebJobsStorage' from local settings as it's already defined in current environment variables.\n[20-Mar-19 2:52:22 PM] Starting Rpc Initialization Service.\n[20-Mar-19 2:52:22 PM] Initializing RpcServer\n[20-Mar-19 2:52:22 PM] Building host: startup suppressed:False, configuration suppressed: False\n[20-Mar-19 2:52:22 PM] Reading host configuration file '...\\workspace\\Test_Azure_Functions_TSC\\host.json'\n[20-Mar-19 2:52:22 PM] Host configuration file read:\n[20-Mar-19 2:52:22 PM] {\n[20-Mar-19 2:52:22 PM]   \"version\": \"2.0\"\n[20-Mar-19 2:52:22 PM] }\n[20-Mar-19 2:52:22 PM] Initializing Host.\n[20-Mar-19 2:52:22 PM] Host initialization: ConsecutiveErrors=0, StartupCount=1\n[20-Mar-19 2:52:22 PM] LoggerFilterOptions\n[20-Mar-19 2:52:22 PM] {\n[20-Mar-19 2:52:22 PM]   \"MinLevel\": \"None\",\n[20-Mar-19 2:52:22 PM]   \"Rules\": [\n[20-Mar-19 2:52:22 PM]     {\n[20-Mar-19 2:52:22 PM]       \"ProviderName\": null,\n[20-Mar-19 2:52:22 PM]       \"CategoryName\": null,\n[20-Mar-19 2:52:22 PM]       \"LogLevel\": null,\n[20-Mar-19 2:52:22 PM]       \"Filter\": \"&lt;AddFilter&gt;b__0\"\n[20-Mar-19 2:52:22 PM]     },\n[20-Mar-19 2:52:22 PM]     {\n[20-Mar-19 2:52:22 PM]       \"ProviderName\": \"Microsoft.Azure.WebJobs.Script.WebHost.Diagnostics.SystemLoggerProvider\",\n[20-Mar-19 2:52:22 PM]       \"CategoryName\": null,\n[20-Mar-19 2:52:22 PM]       \"LogLevel\": \"None\",\n[20-Mar-19 2:52:22 PM]       \"Filter\": null\n[20-Mar-19 2:52:22 PM]     },\n[20-Mar-19 2:52:22 PM]     {\n[20-Mar-19 2:52:22 PM]       \"ProviderName\": \"Microsoft.Azure.WebJobs.Script.WebHost.Diagnostics.SystemLoggerProvider\",\n[20-Mar-19 2:52:22 PM]       \"CategoryName\": null,\n[20-Mar-19 2:52:22 PM]       \"LogLevel\": null,\n[20-Mar-19 2:52:22 PM]       \"Filter\": \"&lt;AddFilter&gt;b__0\"\n[20-Mar-19 2:52:22 PM]     }\n[20-Mar-19 2:52:22 PM]   ]\n[20-Mar-19 2:52:22 PM] }\n[20-Mar-19 2:52:22 PM] FunctionResultAggregatorOptions\n[20-Mar-19 2:52:22 PM] {\n[20-Mar-19 2:52:22 PM]   \"BatchSize\": 1000,\n[20-Mar-19 2:52:22 PM]   \"FlushTimeout\": \"00:00:30\",\n[20-Mar-19 2:52:22 PM]   \"IsEnabled\": true\n[20-Mar-19 2:52:22 PM] }\n[20-Mar-19 2:52:22 PM] SingletonOptions\n[20-Mar-19 2:52:22 PM] {\n[20-Mar-19 2:52:22 PM]   \"LockPeriod\": \"00:00:15\",\n[20-Mar-19 2:52:23 PM]   \"ListenerLockPeriod\": \"00:00:15\",\n[20-Mar-19 2:52:23 PM]   \"LockAcquisitionTimeout\": \"10675199.02:48:05.4775807\",\n[20-Mar-19 2:52:23 PM]   \"LockAcquisitionPollingInterval\": \"00:00:05\",\n[20-Mar-19 2:52:23 PM]   \"ListenerLockRecoveryPollingInterval\": \"00:01:00\"\n[20-Mar-19 2:52:23 PM] }\n[20-Mar-19 2:52:23 PM] Starting JobHost\n[20-Mar-19 2:52:23 PM] Starting Host (HostId=lde2017-687981141, InstanceId=99ee5863-6cf9-49b2-ba81-71310eba322d, Version=2.0.12332.0, ProcessId=18168, AppDomainId=1, InDebugMode=False, InDiagnosticMode=False, FunctionsExtensionVersion=)\n[20-Mar-19 2:52:23 PM] Loading functions metadata\n[20-Mar-19 2:52:23 PM] 1 functions loaded\n[20-Mar-19 2:52:23 PM] Loading proxies metadata\n[20-Mar-19 2:52:23 PM] Initializing Azure Function proxies\n[20-Mar-19 2:52:23 PM] 0 proxies loaded\n[20-Mar-19 2:52:23 PM] WorkerRuntime: node. Will shutdown other standby channels\n[20-Mar-19 2:52:23 PM] Starting language worker process:node  --inspect=5858 \"...\\AppData\\Roaming\\npm\\node_modules\\azure-functions-core-tools\\bin\\workers\\node\\dist/src/nodejsWorker.js\" --host 127.0.0.1 --port 56824 --workerId f4d8989b-61b8-42cf-904e-d9c0e9052e77 --requestId 961eeab1-2013-4bed-8c5b-1d069cf53bef --grpcMaxMessageLength 134217728\n[20-Mar-19 2:52:24 PM] node process with Id=816 started\n[20-Mar-19 2:52:24 PM] Generating 1 job function(s)\n[20-Mar-19 2:52:24 PM] Found the following functions:\n[20-Mar-19 2:52:24 PM] Host.Functions.HttpTriggerTSC\n[20-Mar-19 2:52:24 PM]\n[20-Mar-19 2:52:24 PM] Host initialized (1308ms)\n[20-Mar-19 2:52:24 PM] Host started (1328ms)\n[20-Mar-19 2:52:24 PM] Job host started\nHosting environment: Production\nContent root path: ...\\workspace\\Test_Azure_Functions_TSC\nNow listening on: http://0.0.0.0:7071\nApplication started. Press Ctrl+C to shut down.\n\nHttp Functions:\n\n        HttpTriggerTSC: [GET,POST] http://localhost:7071/api/HttpTriggerTSC\n\n[20-Mar-19 2:52:24 PM] Debugger listening on ws://127.0.0.1:5858/e1a20b43-5896-4700-abdb-6ad8fc7a12ee\n[20-Mar-19 2:52:24 PM] For help, see: https://nodejs.org/en/docs/inspector\n[20-Mar-19 2:52:24 PM] Worker f4d8989b-61b8-42cf-904e-d9c0e9052e77 connecting on 127.0.0.1:56824\n[20-Mar-19 2:52:24 PM] [error] Worker f4d8989b-61b8-42cf-904e-d9c0e9052e77 encountered event stream error:  { Error: 14 UNAVAILABLE: Connect Failed\n[20-Mar-19 2:52:24 PM] Worker f4d8989b-61b8-42cf-904e-d9c0e9052e77 exited with code 1\n[20-Mar-19 2:52:24 PM] [error] Worker f4d8989b-61b8-42cf-904e-d9c0e9052e77 uncaught exception:  { Error: 14 UNAVAILABLE: Connect Failed\n[20-Mar-19 2:52:24 PM]     at Object.module.exports.exports.createStatusError (...\\AppData\\Roaming\\npm\\node_modules\\azure-functions-core-tools\\bin\\workers\\node\\worker-bundle.js:1358:15)\n[20-Mar-19 2:52:24 PM]     at ClientDuplexStream._emitStatusIfDone (...\\AppData\\Roaming\\npm\\node_modules\\azure-functions-core-tools\\bin\\workers\\node\\worker-bundle.js:7055:26)\n[20-Mar-19 2:52:24 PM]     at ClientDuplexStream._receiveStatus (...\\AppData\\Roaming\\npm\\node_modules\\azure-functions-core-tools\\bin\\workers\\node\\worker-bundle.js:7033:8)\n[20-Mar-19 2:52:24 PM]     at Object.onReceiveStatus (...\\AppData\\Roaming\\npm\\node_modules\\azure-functions-core-tools\\bin\\workers\\node\\worker-bundle.js:19706:15)\n[20-Mar-19 2:52:24 PM]     at InterceptingListener.module.exports.InterceptingListener._callNext (...\\AppData\\Roaming\\npm\\node_modules\\azure-functions-core-tools\\bin\\workers\\node\\worker-bundle.js:18968:42)\n[20-Mar-19 2:52:24 PM]     at InterceptingListener.module.exports.InterceptingListener.onReceiveStatus (...\\AppData\\Roaming\\npm\\node_modules\\azure-functions-core-tools\\bin\\workers\\node\\worker-bundle.js:19018:8)\n[20-Mar-19 2:52:24 PM]     at ...\\AppData\\Roaming\\npm\\node_modules\\azure-functions-core-tools\\bin\\workers\\node\\worker-bundle.js:19523:18\n[20-Mar-19 2:52:24 PM] Language Worker Process exited.\n[20-Mar-19 2:52:24 PM]   code: 14,\n[20-Mar-19 2:52:24 PM] node exited with code 1\n [error] Worker f4d8989b-61b8-42cf-904e-d9c0e9052e77 encountered event stream error:  { Error: 14 UNAVAILABLE: Connect Failed,    at Object.module.exports.exports.createStatusError (...\\AppData\\Roaming\\npm\\node_modules\\azure-functions-core-tools\\bin\\workers\\node\\worker-bundle.js:1358:15),  details: 'Connect Failed' }.\n[20-Mar-19 2:52:24 PM]   metadata: Metadata { _internal_repr: {} },\n[20-Mar-19 2:52:24 PM]   details: 'Connect Failed' }\n[20-Mar-19 2:52:24 PM]     at Object.module.exports.exports.createStatusError (...\\AppData\\Roaming\\npm\\node_modules\\azure-functions-core-tools\\bin\\workers\\node\\worker-bundle.js:1358:15)\n[20-Mar-19 2:52:24 PM]     at ClientDuplexStream._emitStatusIfDone (...\\AppData\\Roaming\\npm\\node_modules\\azure-functions-core-tools\\bin\\workers\\node\\worker-bundle.js:7055:26)\n[20-Mar-19 2:52:24 PM]     at ClientDuplexStream._receiveStatus (...\\AppData\\Roaming\\npm\\node_modules\\azure-functions-core-tools\\bin\\workers\\node\\worker-bundle.js:7033:8)\n[20-Mar-19 2:52:24 PM]     at Object.onReceiveStatus (...\\AppData\\Roaming\\npm\\node_modules\\azure-functions-core-tools\\bin\\workers\\node\\worker-bundle.js:19706:15)\n[20-Mar-19 2:52:24 PM]     at InterceptingListener.module.exports.InterceptingListener._callNext (...\\AppData\\Roaming\\npm\\node_modules\\azure-functions-core-tools\\bin\\workers\\node\\worker-bundle.js:18968:42)\n[20-Mar-19 2:52:24 PM]     at InterceptingListener.module.exports.InterceptingListener.onReceiveStatus (...\\AppData\\Roaming\\npm\\node_modules\\azure-functions-core-tools\\bin\\workers\\node\\worker-bundle.js:19018:8)\n[20-Mar-19 2:52:24 PM] Starting language worker process:node  --inspect=5858 \"...\\AppData\\Roaming\\npm\\node_modules\\azure-functions-core-tools\\bin\\workers\\node\\dist/src/nodejsWorker.js\" --host 127.0.0.1 --port 56824 --workerId 1b29d39e-80c8-41fb-a74c-474bd798a1f0 --requestId b6379939-7a72-4e83-8d60-e946c3ed5c04 --grpcMaxMessageLength 134217728\n[20-Mar-19 2:52:24 PM]     at ...\\AppData\\Roaming\\npm\\node_modules\\azure-functions-core-tools\\bin\\workers\\node\\worker-bundle.js:19523:18\n[20-Mar-19 2:52:24 PM]   code: 14,\n[20-Mar-19 2:52:24 PM]   metadata: Metadata { _internal_repr: {} },\n[20-Mar-19 2:52:24 PM]   details: 'Connect Failed' }\n[20-Mar-19 2:52:25 PM] node process with Id=3780 started\n[20-Mar-19 2:52:25 PM] Debugger listening on ws://127.0.0.1:5858/9ac2b1c2-95a8-46f0-a961-b880cfc3aac7\n[20-Mar-19 2:52:25 PM] For help, see: https://nodejs.org/en/docs/inspector\n[20-Mar-19 2:52:25 PM] Worker 1b29d39e-80c8-41fb-a74c-474bd798a1f0 connecting on 127.0.0.1:56824\n[20-Mar-19 2:52:25 PM] [error] Worker 1b29d39e-80c8-41fb-a74c-474bd798a1f0 encountered event stream error:  { Error: 14 UNAVAILABLE: Connect Failed\n[20-Mar-19 2:52:25 PM] Worker 1b29d39e-80c8-41fb-a74c-474bd798a1f0 exited with code 1\n[20-Mar-19 2:52:25 PM]     at Object.module.exports.exports.createStatusError (...\\AppData\\Roaming\\npm\\node_modules\\azure-functions-core-tools\\bin\\workers\\node\\worker-bundle.js:1358:15)\n[20-Mar-19 2:52:25 PM] Language Worker Process exited.\n[20-Mar-19 2:52:25 PM]     at ClientDuplexStream._emitStatusIfDone (...\\AppData\\Roaming\\npm\\node_modules\\azure-functions-core-tools\\bin\\workers\\node\\worker-bundle.js:7055:26)\n[20-Mar-19 2:52:25 PM] node exited with code 1\n [error] Worker 1b29d39e-80c8-41fb-a74c-474bd798a1f0 encountered event stream error:  { Error: 14 UNAVAILABLE: Connect Failed,    at Object.module.exports.exports.createStatusError (...\\AppData\\Roaming\\npm\\node_modules\\azure-functions-core-tools\\bin\\workers\\node\\worker-bundle.js:1358:15),  details: 'Connect Failed' }.\n[20-Mar-19 2:52:25 PM]     at ClientDuplexStream._receiveStatus (...\\AppData\\Roaming\\npm\\node_modules\\azure-functions-core-tools\\bin\\workers\\node\\worker-bundle.js:7033:8)\n[20-Mar-19 2:52:25 PM] [error] Worker 1b29d39e-80c8-41fb-a74c-474bd798a1f0 uncaught exception:  { Error: 14 UNAVAILABLE: Connect Failed\n[20-Mar-19 2:52:25 PM] Starting language worker process:node  --inspect=5858 \"...\\AppData\\Roaming\\npm\\node_modules\\azure-functions-core-tools\\bin\\workers\\node\\dist/src/nodejsWorker.js\" --host 127.0.0.1 --port 56824 --workerId a4fe21e8-d585-4fed-84e7-9b56f930071c --requestId c2edd5d4-967a-413f-9f7e-65b9fb761ce3 --grpcMaxMessageLength 134217728\n[20-Mar-19 2:52:25 PM]     at Object.onReceiveStatus (...\\AppData\\Roaming\\npm\\node_modules\\azure-functions-core-tools\\bin\\workers\\node\\worker-bundle.js:19706:15)\n[20-Mar-19 2:52:25 PM]     at InterceptingListener.module.exports.InterceptingListener._callNext (...\\AppData\\Roaming\\npm\\node_modules\\azure-functions-core-tools\\bin\\workers\\node\\worker-bundle.js:18968:42)\n[20-Mar-19 2:52:25 PM]     at InterceptingListener.module.exports.InterceptingListener.onReceiveStatus (...\\AppData\\Roaming\\npm\\node_modules\\azure-functions-core-tools\\bin\\workers\\node\\worker-bundle.js:19018:8)\n[20-Mar-19 2:52:25 PM]     at ...\\AppData\\Roaming\\npm\\node_modules\\azure-functions-core-tools\\bin\\workers\\node\\worker-bundle.js:19523:18\n[20-Mar-19 2:52:25 PM]   code: 14,\n[20-Mar-19 2:52:25 PM]   metadata: Metadata { _internal_repr: {} },\n[20-Mar-19 2:52:25 PM]   details: 'Connect Failed' }\n[20-Mar-19 2:52:26 PM] node process with Id=5864 started\n[20-Mar-19 2:52:26 PM] Debugger listening on ws://127.0.0.1:5858/eb4696fc-0c85-4cb9-93b2-90d850e35987\n[20-Mar-19 2:52:26 PM] For help, see: https://nodejs.org/en/docs/inspector\n[20-Mar-19 2:52:26 PM] Worker a4fe21e8-d585-4fed-84e7-9b56f930071c connecting on 127.0.0.1:56824\n[20-Mar-19 2:52:26 PM] [error] Worker a4fe21e8-d585-4fed-84e7-9b56f930071c encountered event stream error:  { Error: 14 UNAVAILABLE: Connect Failed\n[20-Mar-19 2:52:26 PM] Worker a4fe21e8-d585-4fed-84e7-9b56f930071c exited with code 1\n[20-Mar-19 2:52:26 PM] [error] Worker a4fe21e8-d585-4fed-84e7-9b56f930071c uncaught exception:  { Error: 14 UNAVAILABLE: Connect Failed\n[20-Mar-19 2:52:26 PM]     at Object.module.exports.exports.createStatusError (...\\AppData\\Roaming\\npm\\node_modules\\azure-functions-core-tools\\bin\\workers\\node\\worker-bundle.js:1358:15)\n[20-Mar-19 2:52:26 PM]     at ClientDuplexStream._emitStatusIfDone (...\\AppData\\Roaming\\npm\\node_modules\\azure-functions-core-tools\\bin\\workers\\node\\worker-bundle.js:7055:26)\n[20-Mar-19 2:52:26 PM]     at ClientDuplexStream._receiveStatus (...\\AppData\\Roaming\\npm\\node_modules\\azure-functions-core-tools\\bin\\workers\\node\\worker-bundle.js:7033:8)\n[20-Mar-19 2:52:26 PM]     at Object.onReceiveStatus (...\\AppData\\Roaming\\npm\\node_modules\\azure-functions-core-tools\\bin\\workers\\node\\worker-bundle.js:19706:15)\n[20-Mar-19 2:52:26 PM]     at InterceptingListener.module.exports.InterceptingListener._callNext (...\\AppData\\Roaming\\npm\\node_modules\\azure-functions-core-tools\\bin\\workers\\node\\worker-bundle.js:18968:42)\n[20-Mar-19 2:52:26 PM]     at InterceptingListener.module.exports.InterceptingListener.onReceiveStatus (...\\AppData\\Roaming\\npm\\node_modules\\azure-functions-core-tools\\bin\\workers\\node\\worker-bundle.js:19018:8)\n[20-Mar-19 2:52:26 PM]     at ...\\AppData\\Roaming\\npm\\node_modules\\azure-functions-core-tools\\bin\\workers\\node\\worker-bundle.js:19523:18\n[20-Mar-19 2:52:26 PM] Language Worker Process exited.[20-Mar-19 2:52:26 PM]   code: 14,\n\n[20-Mar-19 2:52:26 PM]   metadata: Metadata { _internal_repr: {} },\n[20-Mar-19 2:52:26 PM] node exited with code 1\n [error] Worker a4fe21e8-d585-4fed-84e7-9b56f930071c uncaught exception:  { Error: 14 UNAVAILABLE: Connect Failed,    at Object.module.exports.exports.createStatusError (...\\AppData\\Roaming\\npm\\node_modules\\azure-functions-core-tools\\bin\\workers\\node\\worker-bundle.js:1358:15),  details: 'Connect Failed' }.\n[20-Mar-19 2:52:26 PM]   details: 'Connect Failed' }\n[20-Mar-19 2:52:26 PM]     at Object.module.exports.exports.createStatusError (...\\AppData\\Roaming\\npm\\node_modules\\azure-functions-core-tools\\bin\\workers\\node\\worker-bundle.js:1358:15)\n[20-Mar-19 2:52:26 PM]     at ClientDuplexStream._emitStatusIfDone (...\\AppData\\Roaming\\npm\\node_modules\\azure-functions-core-tools\\bin\\workers\\node\\worker-bundle.js:7055:26)\n[20-Mar-19 2:52:26 PM]     at ClientDuplexStream._receiveStatus (...\\AppData\\Roaming\\npm\\node_modules\\azure-functions-core-tools\\bin\\workers\\node\\worker-bundle.js:7033:8)\n[20-Mar-19 2:52:26 PM]     at Object.onReceiveStatus (...\\AppData\\Roaming\\npm\\node_modules\\azure-functions-core-tools\\bin\\workers\\node\\worker-bundle.js:19706:15)\n[20-Mar-19 2:52:26 PM]     at InterceptingListener.module.exports.InterceptingListener._callNext (...\\AppData\\Roaming\\npm\\node_modules\\azure-functions-core-tools\\bin\\workers\\node\\worker-bundle.js:18968:42)\n[20-Mar-19 2:52:26 PM]     at InterceptingListener.module.exports.InterceptingListener.onReceiveStatus (...\\AppData\\Roaming\\npm\\node_modules\\azure-functions-core-tools\\bin\\workers\\node\\worker-bundle.js:19018:8)\n[20-Mar-19 2:52:26 PM]     at ...\\AppData\\Roaming\\npm\\node_modules\\azure-functions-core-tools\\bin\\workers\\node\\worker-bundle.js:19523:18\n[20-Mar-19 2:52:26 PM]   code: 14,\n[20-Mar-19 2:52:26 PM]   metadata: Metadata { _internal_repr: {} },\n[20-Mar-19 2:52:26 PM]   details: 'Connect Failed' }\n[20-Mar-19 2:52:29 PM] Host lock lease acquired by instance ID '000000000000000000000000119D7F5E'.\n</code></pre>\n\n<p>I also have the following exceptions in the OmniSharp log. Is that related to the exceptions I get when trying to run?</p>\n\n<pre><code>Starting OmniSharp server at 3/21/2019, 9:10:48 AM\n    Target: ...\\workspace\\Test_Azure_Functions_TSC\n\nOmniSharp server started.\n    Path: ...\\.vscode\\extensions\\ms-vscode.csharp-1.17.1\\.omnisharp\\1.32.8\\OmniSharp.exe\n    PID: 17248\n\n[info]: OmniSharp.Stdio.Host\n        Starting OmniSharp on Windows 6.2.9200.0 (x64)\n[info]: OmniSharp.Services.DotNetCliService\n        DotNetPath set to dotnet\n[info]: OmniSharp.MSBuild.Discovery.MSBuildLocator\n        Located 2 MSBuild instance(s)\n            1: Visual Studio Build Tools 2017 15.9.28307.280 - \"C:\\Program Files (x86)\\Microsoft Visual Studio\\2017\\BuildTools\\MSBuild\\15.0\\Bin\"\n            2: StandAlone 15.0 - \"...\\.vscode\\extensions\\ms-vscode.csharp-1.17.1\\.omnisharp\\1.32.8\\msbuild\\15.0\\Bin\"\n[info]: OmniSharp.MSBuild.Discovery.MSBuildLocator\n        Registered MSBuild instance: Visual Studio Build Tools 2017 15.9.28307.280 - \"C:\\Program Files (x86)\\Microsoft Visual Studio\\2017\\BuildTools\\MSBuild\\15.0\\Bin\"\n[info]: OmniSharp.Cake.CakeProjectSystem\n        Detecting Cake files in '...\\workspace\\Test_Azure_Functions_TSC'.\n[info]: OmniSharp.Cake.CakeProjectSystem\n        Could not find any Cake files\n[info]: OmniSharp.WorkspaceInitializer\n        Project system 'OmniSharp.DotNet.DotNetProjectSystem' is disabled in the configuration.\n[info]: OmniSharp.MSBuild.ProjectSystem\n        No solution files found in '...\\workspace\\Test_Azure_Functions_TSC'\n[info]: OmniSharp.MSBuild.ProjectManager\n        Queue project update for '...\\workspace\\Test_Azure_Functions_TSC\\extensions.csproj'\n[info]: OmniSharp.Script.ScriptProjectSystem\n        Detecting CSX files in '...\\workspace\\Test_Azure_Functions_TSC'.\n[info]: OmniSharp.Script.ScriptProjectSystem\n        Could not find any CSX files\n[info]: OmniSharp.WorkspaceInitializer\n        Invoking Workspace Options Provider: OmniSharp.Roslyn.CSharp.Services.CSharpWorkspaceOptionsProvider\n[info]: OmniSharp.MSBuild.ProjectManager\n        Loading project: ...\\workspace\\Test_Azure_Functions_TSC\\extensions.csproj\n[info]: OmniSharp.WorkspaceInitializer\n        Configuration finished.\n[info]: OmniSharp.Stdio.Host\n        Omnisharp server running using Stdio at location '...\\workspace\\Test_Azure_Functions_TSC' on host 16900.\n[warn]: OmniSharp.MSBuild.ProjectManager\n        Failed to load project file '...\\workspace\\Test_Azure_Functions_TSC\\extensions.csproj'.\n...\\workspace\\Test_Azure_Functions_TSC\\extensions.csproj(1,1)\nMicrosoft.Build.Exceptions.InvalidProjectFileException: Could not load SDK Resolver. A manifest file exists, but the path to the SDK Resolver DLL file could not be found. Manifest file path 'C:\\Program Files (x86)\\Microsoft Visual Studio\\2017\\BuildTools\\MSBuild\\15.0\\Bin\\SdkResolvers\\Microsoft.Build.NuGetSdkResolver\\Microsoft.Build.NuGetSdkResolver.xml'. SDK resolver path: C:\\Program Files (x86)\\Microsoft Visual Studio\\2017\\BuildTools\\Common7\\IDE\\CommonExtensions\\Microsoft\\NuGet\\Microsoft.Build.NuGetSdkResolver.dll  ...\\workspace\\Test_Azure_Functions_TSC\\extensions.csproj\n   at Microsoft.Build.Shared.ProjectFileErrorUtilities.VerifyThrowInvalidProjectFile(Boolean condition, String errorSubCategoryResourceName, BuildEventFileInfo projectFile, Exception innerException, String resourceName, Object[] args)\n   at Microsoft.Build.BackEnd.SdkResolution.SdkResolverLoader.TryAddAssemblyFromManifest(String pathToManifest, String manifestFolder, List`1 assembliesList, ElementLocation location)\n   at Microsoft.Build.BackEnd.SdkResolution.SdkResolverLoader.FindPotentialSdkResolvers(String rootFolder, ElementLocation location)\n   at Microsoft.Build.BackEnd.SdkResolution.SdkResolverLoader.LoadResolvers(LoggingContext loggingContext, ElementLocation location)\n   at Microsoft.Build.BackEnd.SdkResolution.SdkResolverService.Initialize(LoggingContext loggingContext, ElementLocation location)\n   at Microsoft.Build.BackEnd.SdkResolution.SdkResolverService.ResolveSdk(Int32 submissionId, SdkReference sdk, LoggingContext loggingContext, ElementLocation sdkReferenceLocation, String solutionPath, String projectPath, Boolean interactive)\n   at Microsoft.Build.BackEnd.SdkResolution.CachingSdkResolverService.&lt;&gt;c__DisplayClass3_0.&lt;ResolveSdk&gt;b__0(String key)\n   at System.Collections.Concurrent.ConcurrentDictionary`2.GetOrAdd(TKey key, Func`2 valueFactory)\n   at Microsoft.Build.BackEnd.SdkResolution.CachingSdkResolverService.ResolveSdk(Int32 submissionId, SdkReference sdk, LoggingContext loggingContext, ElementLocation sdkReferenceLocation, String solutionPath, String projectPath, Boolean interactive)\n   at Microsoft.Build.Evaluation.Evaluator`4.ExpandAndLoadImportsFromUnescapedImportExpressionConditioned(String directoryOfImportingFile, ProjectImportElement importElement, List`1&amp; projects, SdkResult&amp; sdkResult, Boolean throwOnFileNotExistsError)\n   at Microsoft.Build.Evaluation.Evaluator`4.ExpandAndLoadImports(String directoryOfImportingFile, ProjectImportElement importElement, SdkResult&amp; sdkResult)\n   at Microsoft.Build.Evaluation.Evaluator`4.EvaluateImportElement(String directoryOfImportingFile, ProjectImportElement importElement)\n   at Microsoft.Build.Evaluation.Evaluator`4.PerformDepthFirstPass(ProjectRootElement currentProjectOrImport)\n   at Microsoft.Build.Evaluation.Evaluator`4.Evaluate(ILoggingService loggingService, BuildEventContext buildEventContext)\n   at Microsoft.Build.Evaluation.Project.Reevaluate(ILoggingService loggingServiceForEvaluation, ProjectLoadSettings loadSettings, EvaluationContext evaluationContext)\n   at Microsoft.Build.Evaluation.Project.ReevaluateIfNecessary(ILoggingService loggingServiceForEvaluation, ProjectLoadSettings loadSettings, EvaluationContext evaluationContext)\n   at Microsoft.Build.Evaluation.Project.Initialize(IDictionary`2 globalProperties, String toolsVersion, String subToolsetVersion, ProjectLoadSettings loadSettings, EvaluationContext evaluationContext)\n   at Microsoft.Build.Evaluation.Project..ctor(String projectFile, IDictionary`2 globalProperties, String toolsVersion, String subToolsetVersion, ProjectCollection projectCollection, ProjectLoadSettings loadSettings, EvaluationContext evaluationContext)\n   at Microsoft.Build.Evaluation.ProjectCollection.LoadProject(String fileName, IDictionary`2 globalProperties, String toolsVersion)\n   at OmniSharp.MSBuild.ProjectLoader.EvaluateProjectFileCore(String filePath)\n   at OmniSharp.MSBuild.ProjectLoader.BuildProject(String filePath)\n   at OmniSharp.MSBuild.ProjectFile.ProjectFileInfo.Load(String filePath, ProjectLoader loader)\n   at OmniSharp.MSBuild.ProjectManager.LoadOrReloadProject(String projectFilePath, Func`1 loader)\n\n[fail]: OmniSharp.MSBuild.ProjectManager\n        Attemped to update project that is not loaded: ...\\workspace\\Test_Azure_Functions_TSC\\extensions.csproj\n</code></pre>\n"}, {"tags": ["typescript"], "answers": [{"comments": [{"owner": {"reputation": 1796, "user_id": 9955460, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8554e7f4c93d6a15bf478e1e64e0e131?s=128&d=identicon&r=PG&f=1", "display_name": "Juraj Kocan", "link": "https://stackoverflow.com/users/9955460/juraj-kocan"}, "edited": false, "score": 0, "creation_date": 1553099318, "post_id": 55265125, "comment_id": 97262825, "body": "i appreciate your effort, for now i did this kind of stupid thing &quot;I am smarter than the compiler&quot; (i really dont like this kind of code). But i will use this union type. Easy smart solution. I always complicate things in typescript. thx a lot"}], "tags": [], "owner": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "is_accepted": true, "score": 4, "last_activity_date": 1553097521, "creation_date": 1553097521, "answer_id": 55265125, "question_id": 55264378, "link": "https://stackoverflow.com/questions/55264378/narrow-type-based-on-conditional-typetypescript/55265125#55265125", "title": "Narrow type based on conditional type(Typescript)", "body": "<p>I don't think conditional types are helping you much.  I'd probably instead use a union of <a href=\"https://github.com/Microsoft/TypeScript/wiki/What&#39;s-new-in-TypeScript#tuples-in-rest-parameters-and-spread-expressions\" rel=\"nofollow noreferrer\">rest tuples</a> to describe the possible arguments:</p>\n\n<pre><code>type OneOfIsRequired = (...args: [a, b | undefined, number] | [undefined, b, number]) =&gt; any;\n</code></pre>\n\n<p>This should give you the same results when you call it:</p>\n\n<pre><code>fn(undefined, undefined, 1); // error\nfn({ propA: 1 }, undefined, 1); // okay\nfn(undefined, { propB: '1' }, 1); // okay\n</code></pre>\n\n<p>But it has the benefit that the compiler is much more likely to be able to narrow a union to one of its consitutents than it is to be able to narrow a generic conditional type to one of its concrete values.</p>\n\n<hr>\n\n<p>The implementation will still complain though, because TypeScript type guards will only narrow the type of a <em>single</em> value.  That is, in <code>if (a) { } else { }</code>, it's possible that the type of <code>a</code> will be narrowed inside the then and else clauses, but the type of <code>b</code> will not be narrowed when you check <code>a</code>, even if there is some constraint between the types of <code>a</code> and <code>b</code>.  </p>\n\n<p>The only way to have a type guard happen automatically is to have <code>a</code> and <code>b</code> part of a single value and check that single value.  You could make your own object like </p>\n\n<pre><code>const fn: OneOfIsRequired = (a, b, x) =&gt; {\n  const obj = { a: a, b: b } as { a: a, b: b | undefined } | { a: undefined, b: b };\n  if (obj.a) {\n    const propA = obj.a.propA;\n  } else {\n    const propB = obj.b.propB; \n  }\n};\n</code></pre>\n\n<p><em>but</em> you already have an object kind of like this if you use the rest tuple in your implementation:</p>\n\n<pre><code>// use the arguments as a tuple\nconst fn: OneOfIsRequired = (...ab) =&gt; {\n  if (ab[0]) {\n    const propA = ab[0].propA;\n  } else {\n    const propB = ab[1].propB; \n  }\n};\n</code></pre>\n\n<p>So this works but might be more refactoring than you want to do.</p>\n\n<hr>\n\n<p>If all of this is too much work for you, just admit that you are smarter than the compiler and use a <a href=\"https://www.typescriptlang.org/docs/handbook/basic-types.html#type-assertions\" rel=\"nofollow noreferrer\">type assertion</a> to tell it so.  Specifically, you can use <a href=\"https://github.com/Microsoft/TypeScript/wiki/What&#39;s-new-in-TypeScript#non-null-assertion-operator\" rel=\"nofollow noreferrer\">a non-null assertion</a> using <code>!</code>:</p>\n\n<pre><code>const fn: OneOfIsRequired = (a, b) =&gt; {\n  if (a) {\n    const propA = a.propA;\n  } else {\n    const propB = b!.propB; // I am smarter than the compiler \ud83e\udd13\n  }\n};\n</code></pre>\n\n<p>That <code>b!</code> just means that you've told the compiler that <code>b</code> is not <code>undefined</code>, no matter what it thinks.  And the error goes away.  This is less type safe than the above solutions, but it is much simpler and doesn't change your emitted JavaScript.</p>\n\n<hr>\n\n<p>Okay, hope that helps; good luck!</p>\n"}], "owner": {"reputation": 1796, "user_id": 9955460, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8554e7f4c93d6a15bf478e1e64e0e131?s=128&d=identicon&r=PG&f=1", "display_name": "Juraj Kocan", "link": "https://stackoverflow.com/users/9955460/juraj-kocan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 342, "favorite_count": 2, "accepted_answer_id": 55265125, "answer_count": 1, "score": 1, "last_activity_date": 1553339372, "creation_date": 1553095422, "last_edit_date": 1553339372, "question_id": 55264378, "link": "https://stackoverflow.com/questions/55264378/narrow-type-based-on-conditional-typetypescript", "title": "Narrow type based on conditional type(Typescript)", "body": "<p>I want to create function type where one of the optional parameters are required. </p>\n\n<p>As far as I get is to make conditional type but the problem is that in the function typescript can not narrow type based on this condition</p>\n\n<pre><code>type a = { propA: number };\ntype b = { propB: string };\n\ntype OneOfIsRequired = &lt;T extends a | undefined, S extends b | undefined&gt;\n  (parameterOne: S extends undefined ? a : T, parameterTwo?: T extends undefined ? b : S, x: number) =&gt; any;\n\nconst fn: OneOfIsRequired = (a, b) =&gt; {\n  if (a) {\n    const propA = a.propA;\n  } else {\n    const propB = b.propB; // Object is possibly 'undefined'.. typescript can not narrow type based on first if statement\n  }\n};\n\n\nfn(undefined, undefined, 1); // Argument of type 'undefined' is not assignable to parameter of type 'a' OK !, one of parameter is required\nfn({ propA: 1 }, undefined, 1);\nfn(undefined, { propB: '1' }, 1);\n</code></pre>\n\n<p>so i would expected that in lse condition in my function typescript can narrow correct type which is type \"b\" and not \"b | undefined\"</p>\n\n<p>Any idea how i can achieve this behavior? I do not want to retype it by myself  </p>\n"}, {"tags": ["typescript", "phaser-framework"], "answers": [{"comments": [{"owner": {"reputation": 18854, "user_id": 1083572, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/9xSFI.png?s=128&g=1", "display_name": "Kokodoko", "link": "https://stackoverflow.com/users/1083572/kokodoko"}, "edited": false, "score": 0, "creation_date": 1553274704, "post_id": 55275030, "comment_id": 97337811, "body": "Thanks this works. I find the docs somewhat unreadable. For some reason, IntelliSense doesn&#39;t work for me inside a <code>this.on(&#39;pointer down&#39;)</code> handler inside a sprite, so that&#39;s why I couldn&#39;t see that scene has another scene property."}, {"owner": {"reputation": 5597, "user_id": 3961598, "user_type": "registered", "profile_image": "https://graph.facebook.com/1386605679/picture?type=large", "display_name": "Krzysztof Grzybek", "link": "https://stackoverflow.com/users/3961598/krzysztof-grzybek"}, "reply_to_user": {"reputation": 18854, "user_id": 1083572, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/9xSFI.png?s=128&g=1", "display_name": "Kokodoko", "link": "https://stackoverflow.com/users/1083572/kokodoko"}, "edited": false, "score": 1, "creation_date": 1553439291, "post_id": 55275030, "comment_id": 97376181, "body": "I agree, docs require some extra work.However, dev logs saved me few times - highly recommend ( <a href=\"https://phaser.io/phaser3/devlog\" rel=\"nofollow noreferrer\">phaser.io/phaser3/devlog</a> )"}], "tags": [], "owner": {"reputation": 5597, "user_id": 3961598, "user_type": "registered", "profile_image": "https://graph.facebook.com/1386605679/picture?type=large", "display_name": "Krzysztof Grzybek", "link": "https://stackoverflow.com/users/3961598/krzysztof-grzybek"}, "is_accepted": true, "score": 1, "last_activity_date": 1553150470, "creation_date": 1553150470, "answer_id": 55275030, "question_id": 55264077, "link": "https://stackoverflow.com/questions/55264077/phaser-3-clickable-sprite-cant-start-scene/55275030#55275030", "title": "Phaser 3 clickable sprite can&#39;t start scene", "body": "<p>You should call method <code>start</code> on <code>scene</code> property on <code>Scene</code> object like You did on second example:</p>\n\n<pre><code>this.scene.scene.start('GameOver');\n</code></pre>\n\n<p><code>scene</code> property on <code>Scene</code> object refers to <code>ScenePlugin</code>, look at the <a href=\"https://photonstorm.github.io/phaser3-docs/Phaser.Scene.html#scene\" rel=\"nofollow noreferrer\">docs</a></p>\n"}], "owner": {"reputation": 18854, "user_id": 1083572, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/9xSFI.png?s=128&g=1", "display_name": "Kokodoko", "link": "https://stackoverflow.com/users/1083572/kokodoko"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 462, "favorite_count": 0, "accepted_answer_id": 55275030, "answer_count": 1, "score": 0, "last_activity_date": 1553519855, "creation_date": 1553094469, "last_edit_date": 1553519855, "question_id": 55264077, "link": "https://stackoverflow.com/questions/55264077/phaser-3-clickable-sprite-cant-start-scene", "title": "Phaser 3 clickable sprite can&#39;t start scene", "body": "<p>I have created a clickable sprite in Phaser 3 using typescript.\nI want to change scenes when the sprite is clicked:</p>\n\n<pre><code>export class BMO extends Phaser.GameObjects.Sprite {\n\n    constructor(scene) {\n        super(scene, 100,150, \"bmo\")\n        this.scene.add.existing(this)\n        this.setInteractive()\n\n        this.on('pointerdown', function (pointer) {\n            this.scene.start('GameOver');\n        }, this);\n    }\n}\n</code></pre>\n\n<p>When clicking on the sprite in the running game I get:</p>\n\n<blockquote>\n  <p>this.scene.start is not a function</p>\n</blockquote>\n\n<p>The exact same code does work when it's inside a scene instead of a sprite:</p>\n\n<pre><code>export class GameScene extends Phaser.Scene {\n\n    constructor() {\n        super({key: \"GameScene\"})\n    }\n\n    create(): void {\n        this.input.once('pointerdown', function (pointer) {\n            this.scene.start('GameOver');\n        }, this);\n    }\n}\n</code></pre>\n\n<p>How can I change scenes from a clickable sprite in Phaser 3?</p>\n"}, {"tags": ["javascript", "typescript"], "comments": [{"owner": {"reputation": 1796, "user_id": 5914352, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-95K_ALMidVw/AAAAAAAAAAI/AAAAAAAAABY/-XW0VDjXD7Q/photo.jpg?sz=128", "display_name": "Przemyslaw Jan Beigert", "link": "https://stackoverflow.com/users/5914352/przemyslaw-jan-beigert"}, "edited": false, "score": 0, "creation_date": 1553094998, "post_id": 55263547, "comment_id": 97259808, "body": "So you want to parse <code>Obj</code> into new one only with <code>index</code> and <code>visible </code> keys, don&#39;t you?"}, {"owner": {"reputation": 433, "user_id": 4658473, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/46a4b056f3279b841fec5c24519036da?s=128&d=identicon&r=PG&f=1", "display_name": "trigger", "link": "https://stackoverflow.com/users/4658473/trigger"}, "reply_to_user": {"reputation": 1796, "user_id": 5914352, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-95K_ALMidVw/AAAAAAAAAAI/AAAAAAAAABY/-XW0VDjXD7Q/photo.jpg?sz=128", "display_name": "Przemyslaw Jan Beigert", "link": "https://stackoverflow.com/users/5914352/przemyslaw-jan-beigert"}, "edited": false, "score": 0, "creation_date": 1553095097, "post_id": 55263547, "comment_id": 97259875, "body": "that&#39;s correct. But depends on concrete fields. e.g. i know, that &quot;hello&quot; field will be transformed to 3."}, {"owner": {"reputation": 1796, "user_id": 5914352, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-95K_ALMidVw/AAAAAAAAAAI/AAAAAAAAABY/-XW0VDjXD7Q/photo.jpg?sz=128", "display_name": "Przemyslaw Jan Beigert", "link": "https://stackoverflow.com/users/5914352/przemyslaw-jan-beigert"}, "edited": false, "score": 0, "creation_date": 1553095440, "post_id": 55263547, "comment_id": 97260118, "body": "Ok and how about <code>Obj</code> it must contains <code>hello</code> and <code>second</code> fields with booleans? And will any other keys affect on <code>ArrayItem</code>?"}, {"owner": {"reputation": 433, "user_id": 4658473, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/46a4b056f3279b841fec5c24519036da?s=128&d=identicon&r=PG&f=1", "display_name": "trigger", "link": "https://stackoverflow.com/users/4658473/trigger"}, "reply_to_user": {"reputation": 1796, "user_id": 5914352, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-95K_ALMidVw/AAAAAAAAAAI/AAAAAAAAABY/-XW0VDjXD7Q/photo.jpg?sz=128", "display_name": "Przemyslaw Jan Beigert", "link": "https://stackoverflow.com/users/5914352/przemyslaw-jan-beigert"}, "edited": false, "score": 0, "creation_date": 1553096038, "post_id": 55263547, "comment_id": 97260539, "body": "yes, they boolean. Obj has any other fields, which i do not need to handle. I have map with concrete fields which i need to map e.g.   const maps = {  hello: 3,  second: 4 }"}], "answers": [{"comments": [{"owner": {"reputation": 433, "user_id": 4658473, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/46a4b056f3279b841fec5c24519036da?s=128&d=identicon&r=PG&f=1", "display_name": "trigger", "link": "https://stackoverflow.com/users/4658473/trigger"}, "edited": false, "score": 0, "creation_date": 1553173655, "post_id": 55264766, "comment_id": 97292031, "body": "thanks @Przemyslaw Pietrzak, but seems its not what i need. I updated main topic, have a look please."}, {"owner": {"reputation": 1796, "user_id": 5914352, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-95K_ALMidVw/AAAAAAAAAAI/AAAAAAAAABY/-XW0VDjXD7Q/photo.jpg?sz=128", "display_name": "Przemyslaw Jan Beigert", "link": "https://stackoverflow.com/users/5914352/przemyslaw-jan-beigert"}, "reply_to_user": {"reputation": 433, "user_id": 4658473, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/46a4b056f3279b841fec5c24519036da?s=128&d=identicon&r=PG&f=1", "display_name": "trigger", "link": "https://stackoverflow.com/users/4658473/trigger"}, "edited": false, "score": 0, "creation_date": 1553174982, "post_id": 55264766, "comment_id": 97292889, "body": "To be honest i don&#39;t understand where is problem. I thought you want to have typed some values (e.g. 3 instead of number when &#39;hello&#39;). Could you elaborate more, or give more exaples?"}, {"owner": {"reputation": 433, "user_id": 4658473, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/46a4b056f3279b841fec5c24519036da?s=128&d=identicon&r=PG&f=1", "display_name": "trigger", "link": "https://stackoverflow.com/users/4658473/trigger"}, "edited": false, "score": 0, "creation_date": 1553176119, "post_id": 55264766, "comment_id": 97293611, "body": "Updated topic. See below &quot;More examples:&quot; @Przemyslaw Pietrzak,"}, {"owner": {"reputation": 1796, "user_id": 5914352, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-95K_ALMidVw/AAAAAAAAAAI/AAAAAAAAABY/-XW0VDjXD7Q/photo.jpg?sz=128", "display_name": "Przemyslaw Jan Beigert", "link": "https://stackoverflow.com/users/5914352/przemyslaw-jan-beigert"}, "reply_to_user": {"reputation": 433, "user_id": 4658473, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/46a4b056f3279b841fec5c24519036da?s=128&d=identicon&r=PG&f=1", "display_name": "trigger", "link": "https://stackoverflow.com/users/4658473/trigger"}, "edited": false, "score": 0, "creation_date": 1553185789, "post_id": 55264766, "comment_id": 97300043, "body": "I think you&#39;re looking for something like: click <code>Playground2</code> link"}], "tags": [], "owner": {"reputation": 1796, "user_id": 5914352, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-95K_ALMidVw/AAAAAAAAAAI/AAAAAAAAABY/-XW0VDjXD7Q/photo.jpg?sz=128", "display_name": "Przemyslaw Jan Beigert", "link": "https://stackoverflow.com/users/5914352/przemyslaw-jan-beigert"}, "is_accepted": true, "score": 1, "last_activity_date": 1553185812, "last_edit_date": 1553185812, "creation_date": 1553096533, "answer_id": 55264766, "question_id": 55263547, "link": "https://stackoverflow.com/questions/55263547/typescript-map-object-to-array-with-new-objects-according-to-fields/55264766#55264766", "title": "Typescript map object to array with new objects, according to fields", "body": "<p>Let's declare type definition of Obj</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>type Obj = { [key: string]: boolean };\n</code></pre>\n\n<p>Object with many key, and bool on all values.</p>\n\n<p>Array items look like this:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>interface ArrayItem {\n    index: number;\n    visible: boolean;\n}\n</code></pre>\n\n<p>But we can get some more knowledge about types based on values from <code>Obj</code>. To declare that let's write <code>InterfaceParser</code> generic.</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>type InterfaceParser&lt;T extends Obj&gt; = {\n  index: T['hello'] extends true ? 3 : number;\n  visible: boolean;\n}\n</code></pre>\n\n<p><code>T extends Obj</code> means that input type must be at least <code>Obj</code>. <code>extends true ? 3 : number</code> means that when hello key is true the type of index is not <code>number</code> is <code>3</code>.</p>\n\n<p><a href=\"https://www.typescriptlang.org/play/index.html#src=type%20Obj%20%3D%20%7B%20%5Bkey%3A%20string%5D%3A%20boolean%20%7D%3B%0D%0A%0D%0Ainterface%20ArrayItem%20%7B%0D%0A%09index%3A%20number%3B%0D%0A%09visible%3A%20boolean%3B%0D%0A%7D%0D%0A%0D%0Atype%20InterfaceParser%3CT%20extends%20Obj%3E%20%3D%20%7B%0D%0A%20%20index%3A%20T%5B&#39;hello&#39;%5D%20extends%20true%20%3F%203%20%3A%20number%3B%0D%0A%20%20visible%3A%20boolean%3B%0D%0A%7D%0D%0A%0D%0Alet%20map%20%3D%20(obj%3A%20Obj)%3A%20InterfaceParser%3CObj%3E%20%3D%3E%20(%7B%0D%0A%20%20index%3A%200%2C%0D%0A%20%20visible%3A%20true%2C%0D%0A%7D)\" rel=\"nofollow noreferrer\">Playground</a></p>\n\n<p><a href=\"https://www.typescriptlang.org/play/index.html#src=const%20obj1%20%3D%20%7B%0D%0A%20%20%20%20hello%3A%20true%2C%0D%0A%20%20%20%20second%3A%20false%2C%0D%0A%20%20%20%20third%3A%20311%2C%0D%0A%20%20%20%20fifty%3A%2050%0D%0A%7D%3B%0D%0A%0D%0Aconst%20mapped%3A%20%7B%20%5Bkey%3Astring%5D%3A%20number%20%7D%20%3D%20%7B%0D%0A%20%20%20%20hello%3A%203%2C%20%2F%2F%20index%20value%0D%0A%20%20%20%20second%3A%205%20%2F%2F%20index%20value%0D%0A%7D%0D%0A%0D%0Aconst%20output%20%3D%20Object.keys(mapped).map(key%20%3D%3E%20(%7B%0D%0A%20%20%20%20index%3A%20mapped%5Bkey%5D%2C%0D%0A%20%20%20%20visible%3A%20!!obj1%5Bkey%5D%2C%0D%0A%7D))\" rel=\"nofollow noreferrer\">Playground2</a></p>\n"}], "owner": {"reputation": 433, "user_id": 4658473, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/46a4b056f3279b841fec5c24519036da?s=128&d=identicon&r=PG&f=1", "display_name": "trigger", "link": "https://stackoverflow.com/users/4658473/trigger"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 285, "favorite_count": 0, "accepted_answer_id": 55264766, "answer_count": 1, "score": 0, "last_activity_date": 1553185812, "creation_date": 1553093092, "last_edit_date": 1553176074, "question_id": 55263547, "link": "https://stackoverflow.com/questions/55263547/typescript-map-object-to-array-with-new-objects-according-to-fields", "title": "Typescript map object to array with new objects, according to fields", "body": "<p>I have an object with some concrete fields:</p>\n\n<pre class=\"lang-ts prettyprint-override\"><code> const obj1: Obj = {  \n    hello: true, \n    second: false, \n    third: 311,  \n    fifty: 50  \n    .....  \n}  \n</code></pre>\n\n<p>I need to map some fields from this object to concrete number, (and use it value) and return array with it:</p>\n\n<pre class=\"lang-ts prettyprint-override\"><code>interface ArrayItem {\n    index: number;\n    visible: boolean;\n}\n\n// hello should be mapped to 3, and visible - 'true'\n// result is:\nconst arr: ArrayItem[] = [{index: 3, visible: true}]\n</code></pre>\n\n<p>For concrete field. e.g. if obj1, has field \"hello\", result will be:</p>\n\n<pre class=\"lang-ts prettyprint-override\"><code>[  \n    {\n     index: 3  \n     visible: (value of 'hello', so -&gt; true)  \n    }  \n]  \n</code></pre>\n\n<p>More examples:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code> const obj1: Obj = {\n    hello: true,\n    second: false,\n    third: 311,\n    fifty: 50\n    .....\n}\n</code></pre>\n\n<p>// fields, which i looking:</p>\n\n<pre class=\"lang-ts prettyprint-override\"><code>const mapped = {\n    hello: 3, // index value\n    second: 5 // index value\n}\n</code></pre>\n\n<p>output:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>[\n    {\n     index: 3\n     visible: (value of 'hello', so -&gt; true)\n    }\n    {\n     index: 5\n     visible: (value of 'second', so -&gt; false)\n    }\n]\n</code></pre>\n"}, {"tags": ["angular", "typescript", "angular-material"], "comments": [{"owner": {"reputation": 1425, "user_id": 5041973, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a74d15de9e0a9d237fcf5104246bfc13?s=128&d=identicon&r=PG&f=1", "display_name": "ukn", "link": "https://stackoverflow.com/users/5041973/ukn"}, "edited": false, "score": 0, "creation_date": 1553092716, "post_id": 55263290, "comment_id": 97258070, "body": "check <a href=\"https://stackoverflow.com/questions/50806610/how-do-you-pass-input-value-into-a-function-on-form-submit-in-angular-6/50811039\">this</a> out"}, {"owner": {"reputation": 523, "user_id": 6440759, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9d03889ae62d634408502470a9a7f64a?s=128&d=identicon&r=PG&f=1", "display_name": "B.Benjo", "link": "https://stackoverflow.com/users/6440759/b-benjo"}, "reply_to_user": {"reputation": 23496, "user_id": 5468463, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/8eafc92b719d65512cded4c5087892ff?s=128&d=identicon&r=PG&f=1", "display_name": "Vega", "link": "https://stackoverflow.com/users/5468463/vega"}, "edited": false, "score": 1, "creation_date": 1553092721, "post_id": 55263290, "comment_id": 97258079, "body": "@Vega i think he meant to say the value of the input"}, {"owner": {"reputation": 2253, "user_id": 4604530, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/0ce304c9957f0682e5074fc8cc07c4ad?s=128&d=identicon&r=PG&f=1", "display_name": "rst", "link": "https://stackoverflow.com/users/4604530/rst"}, "edited": false, "score": 0, "creation_date": 1553093851, "post_id": 55263290, "comment_id": 97258972, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/44440879/dynamic-template-reference-variable-inside-ngfor-angular-2\">Dynamic template reference variable inside ngFor (Angular 2)</a>"}], "answers": [{"comments": [{"owner": {"reputation": 2253, "user_id": 4604530, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/0ce304c9957f0682e5074fc8cc07c4ad?s=128&d=identicon&r=PG&f=1", "display_name": "rst", "link": "https://stackoverflow.com/users/4604530/rst"}, "edited": false, "score": 0, "creation_date": 1553093564, "post_id": 55263409, "comment_id": 97258752, "body": "That&#39;s it! Can you explain why that even works. I thought about that, but then I thought I&#39;d be declaring <code>#input</code> multiple times"}, {"owner": {"reputation": 1744, "user_id": 7391435, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d058b609bd442312c037a35eaf52467a?s=128&d=identicon&r=PG&f=1", "display_name": "Josef Kati\u010d", "link": "https://stackoverflow.com/users/7391435/josef-kati%c4%8d"}, "reply_to_user": {"reputation": 2253, "user_id": 4604530, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/0ce304c9957f0682e5074fc8cc07c4ad?s=128&d=identicon&r=PG&f=1", "display_name": "rst", "link": "https://stackoverflow.com/users/4604530/rst"}, "edited": false, "score": 0, "creation_date": 1553097480, "post_id": 55263409, "comment_id": 97261586, "body": "According to this <a href=\"https://stackoverflow.com/a/48348156/7391435\">answer</a> it is uniques because you use it inside the loop."}], "tags": [], "owner": {"reputation": 1744, "user_id": 7391435, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d058b609bd442312c037a35eaf52467a?s=128&d=identicon&r=PG&f=1", "display_name": "Josef Kati\u010d", "link": "https://stackoverflow.com/users/7391435/josef-kati%c4%8d"}, "is_accepted": true, "score": 3, "last_activity_date": 1553092756, "creation_date": 1553092756, "answer_id": 55263409, "question_id": 55263290, "link": "https://stackoverflow.com/questions/55263290/input-in-ngfor-list-with-action-when-clicking-on-button/55263409#55263409", "title": "Input in ngFor list with action when clicking on button", "body": "<p>You can achieve this by using <code>#input</code> in your html then you can pass the value of that input into the <code>addCookie</code> function.</p>\n\n<pre><code>&lt;mat-list role=\"list\"&gt;\n  &lt;mat-list-item *ngFor=\"let item of items\"&gt;{{item}}:\n    &lt;mat-form-field&gt;\n      &lt;input matInput #input&gt;\n    &lt;/mat-form-field&gt;\n    &lt;button mat-stroked-button (click)=\"addCookie(input.value)\"&gt;Add Cookie&lt;/button&gt;\n  &lt;/mat-list-item&gt;\n&lt;/mat-list&gt;\n</code></pre>\n"}], "owner": {"reputation": 2253, "user_id": 4604530, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/0ce304c9957f0682e5074fc8cc07c4ad?s=128&d=identicon&r=PG&f=1", "display_name": "rst", "link": "https://stackoverflow.com/users/4604530/rst"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 521, "favorite_count": 0, "accepted_answer_id": 55263409, "answer_count": 1, "score": -1, "last_activity_date": 1553092756, "creation_date": 1553092451, "question_id": 55263290, "link": "https://stackoverflow.com/questions/55263290/input-in-ngfor-list-with-action-when-clicking-on-button", "title": "Input in ngFor list with action when clicking on button", "body": "<p>I have a list that requires <code>ngFor</code>, so far so good, each item needs an <code>input</code> with a <code>button</code> that does something with the value of the input.</p>\n\n<pre><code>&lt;mat-list role=\"list\"&gt;\n  &lt;mat-list-item *ngFor=\"let item of items\"&gt;{{item}}: \n\n    &lt;mat-form-field&gt;\n      &lt;input matInput&gt;\n    &lt;/mat-form-field&gt;\n    &lt;button mat-stroked-button (click)=\"addCookie()\"&gt;Add Cookie&lt;/button&gt;\n\n  &lt;/mat-list-item&gt;\n&lt;/mat-list&gt;\n</code></pre>\n\n<p>Check <a href=\"https://stackblitz.com/edit/angular-lpiakc?file=app%2Flist-overview-example.ts\" rel=\"nofollow noreferrer\">https://stackblitz.com/edit/angular-lpiakc?file=app%2Flist-overview-example.ts</a></p>\n\n<p>How can I pass the value of the input to the method <code>addCookie</code>?</p>\n\n<pre><code>export class ListOverviewExample {\n  items = ['item 1', 'item 2', 'item 3'];\n\n  addCookie() {\n    console.log(\"here I would like to paste the value of the input field\");\n  }\n}\n</code></pre>\n"}, {"tags": ["javascript", "angular", "typescript", "ionic3"], "comments": [{"owner": {"reputation": 1147, "user_id": 11020515, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8Qrai.png?s=128&g=1", "display_name": "Chris Sandvik", "link": "https://stackoverflow.com/users/11020515/chris-sandvik"}, "edited": false, "score": 0, "creation_date": 1553092126, "post_id": 55263034, "comment_id": 97257605, "body": "I am confused what exactly you&#39;re trying to do.  Do you want to scroll above the element or below it?"}, {"owner": {"reputation": 3492, "user_id": 4983589, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/610eb31d22385e4687f5f50636ed904e?s=128&d=identicon&r=PG&f=1", "display_name": "Sireini", "link": "https://stackoverflow.com/users/4983589/sireini"}, "reply_to_user": {"reputation": 1147, "user_id": 11020515, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8Qrai.png?s=128&g=1", "display_name": "Chris Sandvik", "link": "https://stackoverflow.com/users/11020515/chris-sandvik"}, "edited": false, "score": 0, "creation_date": 1553092197, "post_id": 55263034, "comment_id": 97257655, "body": "@ChrisSandvik scroll to document.activeElement with an offset above. <code>document.activeElement.scrollIntoView(true);</code> this is working but with that method I cant give any offset."}, {"owner": {"reputation": 1147, "user_id": 11020515, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8Qrai.png?s=128&g=1", "display_name": "Chris Sandvik", "link": "https://stackoverflow.com/users/11020515/chris-sandvik"}, "edited": false, "score": 0, "creation_date": 1553092411, "post_id": 55263034, "comment_id": 97257814, "body": "Is is scrolling at all when you use <code>window.scrollTo</code>?  because the offset you are using should probably be negative"}, {"owner": {"reputation": 3492, "user_id": 4983589, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/610eb31d22385e4687f5f50636ed904e?s=128&d=identicon&r=PG&f=1", "display_name": "Sireini", "link": "https://stackoverflow.com/users/4983589/sireini"}, "reply_to_user": {"reputation": 1147, "user_id": 11020515, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8Qrai.png?s=128&g=1", "display_name": "Chris Sandvik", "link": "https://stackoverflow.com/users/11020515/chris-sandvik"}, "edited": false, "score": 0, "creation_date": 1553092601, "post_id": 55263034, "comment_id": 97257977, "body": "No not scrolling at all and the console.log(top) logs me <code>436.5238037109375</code> I also tried this.content with the viewchild(Content)"}, {"owner": {"reputation": 1147, "user_id": 11020515, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8Qrai.png?s=128&g=1", "display_name": "Chris Sandvik", "link": "https://stackoverflow.com/users/11020515/chris-sandvik"}, "edited": false, "score": 0, "creation_date": 1553092705, "post_id": 55263034, "comment_id": 97258059, "body": "maybe try setting <code>left: 0</code> in the options for scrollTo"}], "owner": {"reputation": 3492, "user_id": 4983589, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/610eb31d22385e4687f5f50636ed904e?s=128&d=identicon&r=PG&f=1", "display_name": "Sireini", "link": "https://stackoverflow.com/users/4983589/sireini"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 236, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1553092298, "creation_date": 1553091712, "last_edit_date": 1553092298, "question_id": 55263034, "link": "https://stackoverflow.com/questions/55263034/give-an-offset-with-scrollintoview", "title": "give an offset with scrollIntoView", "body": "<p>I am using <code>scrollIntoView()</code> to go to a selected input. But I set it to top, so I would like to give with an offset to that method.</p>\n\n<p>But this seems not to work I also checked the scrollTo method and did that like this:</p>\n\n<pre><code>this.keyboard.onKeyboardShow().subscribe(() =&gt; {\n    console.log('document.activeElement!!!!', document.activeElement)\n    // document.activeElement.scrollIntoView(true);\n    const top = document.activeElement.getBoundingClientRect().top + window.scrollY;\n    console.log(top);\n    window.scroll(0, top)\n    window.scrollTo({\n       top: top,\n       behavior: 'smooth'\n    });\n    // document.activeElement.scrollTo(0, 10);\n    window.scrollBy(-100, 0);\n});\n</code></pre>\n\n<p>But this will not scroll to that element anymore. Could somebody help me out setting an offset to <code>scrollIntoView()</code></p>\n"}, {"tags": ["typescript"], "comments": [{"owner": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "edited": false, "score": 1, "creation_date": 1553091294, "post_id": 55262814, "comment_id": 97257034, "body": "You might be writing your code inside a module and not in the global scope.  If so, you need to use <a href=\"https://www.typescriptlang.org/docs/handbook/declaration-merging.html#global-augmentation\" rel=\"nofollow noreferrer\">global augmentation</a>.  Try wrapping your above interface in <code>declare global { ... }</code> and see if it fixes your issue"}, {"owner": {"reputation": 386, "user_id": 10497104, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a66ea5fbdfe50cf8efae8eda20fd3842?s=128&d=identicon&r=PG&f=1", "display_name": "Alex G.", "link": "https://stackoverflow.com/users/10497104/alex-g"}, "reply_to_user": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "edited": false, "score": 0, "creation_date": 1553092021, "post_id": 55262814, "comment_id": 97257528, "body": "i`ve tried this, this adds &quot;Augmentations for the global scope can only be directly nested in external modules or ambient module declarations.&quot; error, and if i add something like &quot;export {}&quot; after declare global i still got &quot;Property &#39;gameManager&#39; does not exist on type &#39;Window&#39;&quot;"}, {"owner": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "edited": false, "score": 0, "creation_date": 1553092709, "post_id": 55262814, "comment_id": 97258065, "body": "Move the <code>declare global {}</code> out of any nested blocks, maybe?  \ud83e\udd1e  (If you want a better chance of having your problem solved you should try to make this into a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>.  We don&#39;t have access to your system, so all I can do is make guesses unless you provide enough details for the issue to be reproduced.)"}, {"owner": {"reputation": 386, "user_id": 10497104, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a66ea5fbdfe50cf8efae8eda20fd3842?s=128&d=identicon&r=PG&f=1", "display_name": "Alex G.", "link": "https://stackoverflow.com/users/10497104/alex-g"}, "reply_to_user": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "edited": false, "score": 0, "creation_date": 1553093397, "post_id": 55262814, "comment_id": 97258625, "body": "Well, you can check in my question, that this only file content, no nested blocks"}, {"owner": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "edited": false, "score": 0, "creation_date": 1553094607, "post_id": 55262814, "comment_id": 97259529, "body": "While you wait for someone to come along who knows how to read questions, I would suggest you review the guidelines about <a href=\"https://stackoverflow.com/help/how-to-ask\">how to ask a good one</a> and what constitutes a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>.  Good luck!"}], "answers": [{"tags": [], "owner": {"reputation": 22064, "user_id": 15677, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/6d694c8bf7fbebd7a67ddc74a5018133?s=128&d=identicon&r=PG", "display_name": "miracle2k", "link": "https://stackoverflow.com/users/15677/miracle2k"}, "is_accepted": false, "score": 6, "last_activity_date": 1554222086, "creation_date": 1554222086, "answer_id": 55479415, "question_id": 55262814, "link": "https://stackoverflow.com/questions/55262814/add-variable-to-window/55479415#55479415", "title": "Add variable to window", "body": "<p>So, if you do, as often recommended:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>declare global {\n  interface Window {\n    CONFIG: any\n  }\n}\n</code></pre>\n\n<p>then you will get the TS2669 error: <em>\"Augmentations for the global scope can only be directly nested in external modules or ambient module declarations.\"</em> </p>\n\n<p>This is confusing, but the answer apparently is to wrap it in an external module declaration:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>declare module 'my-config' {\n  global {\n    interface Window {\n      CONFIG: any\n    }\n  }\n}\n</code></pre>\n\n<p>Note that you do not need to import <code>my-config</code> anywhere, and the name of that take module seems irrelevant. <code>window.CONFIG</code> will simply be available globally.</p>\n"}], "owner": {"reputation": 386, "user_id": 10497104, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a66ea5fbdfe50cf8efae8eda20fd3842?s=128&d=identicon&r=PG&f=1", "display_name": "Alex G.", "link": "https://stackoverflow.com/users/10497104/alex-g"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1287, "favorite_count": 0, "answer_count": 1, "score": 3, "last_activity_date": 1554222086, "creation_date": 1553091138, "question_id": 55262814, "link": "https://stackoverflow.com/questions/55262814/add-variable-to-window", "title": "Add variable to window", "body": "<p>I`ve added </p>\n\n<p>window.d.ts file with next content\nas proposed by many answers here</p>\n\n<pre><code>interface Window {\n    gameManager?: any;\n}\n</code></pre>\n\n<p>but still getting <code>Property 'gameManager' does not exist on type 'Window'</code></p>\n\n<p>Do you have any idea how to simply add variable to window object without so much pain?</p>\n"}, {"tags": ["arrays", "angular", "typescript", "dynamic", "filter"], "answers": [{"comments": [{"owner": {"reputation": 23, "user_id": 9549465, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HdSzk.png?s=128&g=1", "display_name": "OguzTR", "link": "https://stackoverflow.com/users/9549465/oguztr"}, "edited": false, "score": 0, "creation_date": 1553982668, "post_id": 55264441, "comment_id": 97589297, "body": "Thanks your answer but this answer was couldn&#39;t help me. I will share here when I find a different solition"}], "tags": [], "owner": {"reputation": 346, "user_id": 3804427, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ck9hY.jpg?s=128&g=1", "display_name": "user3804427", "link": "https://stackoverflow.com/users/3804427/user3804427"}, "is_accepted": false, "score": 0, "last_activity_date": 1553095634, "creation_date": 1553095634, "answer_id": 55264441, "question_id": 55262598, "link": "https://stackoverflow.com/questions/55262598/angular6-dynamic-array-filter-typescript/55264441#55264441", "title": "Angular6 Dynamic Array Filter ( TypeScript )", "body": "<p>here is my example for filtering by many inputs:</p>\n\n<pre><code>  applyFilter() {\n    let custs = this.ch.customers.filter((cust: Customer) =&gt; {\n      return  (\n          ((cust.name.toLowerCase().trim().indexOf(this.filters[0]) !== -1) || (!this.filters[0])) &amp;&amp;\n          ((!this.filters[5]) || (cust.user.username.toLowerCase().trim().indexOf(this.filters[5]) !== -1)) &amp;&amp;\n          ((!this.filters[2]) || (cust.state.name.toLowerCase().trim().indexOf(this.filters[2]) !== -1)) &amp;&amp;\n          ((!this.filters[1]) || (cust.description.toLowerCase().trim().indexOf(this.filters[1]) !== -1)) &amp;&amp;\n          ((!this.filters[3]) || (cust.last_mess.toLowerCase().trim().indexOf(this.filters[3]) !== -1))\n      );\n    });\n\n    this.dataSource.data = custs;\n    this.ch.customers_filter = this.dataSource.data;\n    if (this.dataSource.paginator) {\n      this.dataSource.paginator.firstPage();\n    }\n  }\n</code></pre>\n\n<p>Variable Filter is array of string.</p>\n"}, {"tags": [], "owner": {"reputation": 17, "user_id": 3500458, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/d1d42c3659796de7328444ed7408212f?s=128&d=identicon&r=PG&f=1", "display_name": "vanitha", "link": "https://stackoverflow.com/users/3500458/vanitha"}, "is_accepted": false, "score": 0, "last_activity_date": 1609312576, "creation_date": 1609312576, "answer_id": 65503373, "question_id": 55262598, "link": "https://stackoverflow.com/questions/55262598/angular6-dynamic-array-filter-typescript/65503373#65503373", "title": "Angular6 Dynamic Array Filter ( TypeScript )", "body": "<p>x[colName] should work.</p>\n<pre><code>@Pipe({name: 'dataListFilterPipe'})\nexport class DataListFilterPipe implements PipeTransform {\n  transform(data: any, col: string, value: string): any {\n    if (data !== undefined) {\n      return data.filter(x =&gt; x[col] == value);\n    }\n  }\n}\n</code></pre>\n<p>I created a pipe in which list is filtered and it works. This is in angular 6</p>\n"}], "owner": {"reputation": 23, "user_id": 9549465, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HdSzk.png?s=128&g=1", "display_name": "OguzTR", "link": "https://stackoverflow.com/users/9549465/oguztr"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 524, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1609312576, "creation_date": 1553090588, "question_id": 55262598, "link": "https://stackoverflow.com/questions/55262598/angular6-dynamic-array-filter-typescript", "title": "Angular6 Dynamic Array Filter ( TypeScript )", "body": "<p>I have a question about dynamicly filter array.. I making a table and I have different filtering options. For example ; Only selected column filter, MultiSelect dropdown menu filter and \u0131 want filter multiple columns . <a href=\"https://i.stack.imgur.com/tBKg1.png\" rel=\"nofollow noreferrer\">my table</a></p>\n\n<p>For Example ;\nWrite a filter word in Brand filter. This code line is filtered my data. (veri = data. (in Turkish) ).</p>\n\n<pre><code>    public filter(str, i) {\n\n      const collName = this.bizimKolon[i].Baslik; // Column Name\n      this.veri = this.yedekVeri.filter(x =&gt; x[collName].toString().toLowerCase().includes(str.toLowerCase())); }\n</code></pre>\n\n<p>I want to filter the filtered data by year but is not working. And I have a more problem. We were suppose filtered Brand and Year. if the filter word we wrote is in the array, update my array and display into table. OK. No problem. We select colors in dropdown menu. After we want filter by colors ( White and Green ).  How we make do this? I don't know how many data will come to filter. in this point we need to dynamic filter. Please help me. thank you.. </p>\n"}, {"tags": ["typescript", "static"], "comments": [{"owner": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "edited": false, "score": 4, "creation_date": 1553090719, "post_id": 55262583, "comment_id": 97256556, "body": "Your <code>demo</code> property is not of type <code>DemoClass</code>, it&#39;s of type <code>typeof DemoClass</code>.  Change it to that and it should work (although you might choose to refactor that to something more general... otherwise just have <code>Main</code> depend on the <code>DemoClass</code> constructor without having to pass it in).  See <a href=\"https://stackoverflow.com/a/50396312/2887218\">this answer</a> if you are confused by the difference between <code>DemoClass</code> the type and <code>DemoClass</code> the value."}, {"owner": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "edited": false, "score": 1, "creation_date": 1553090923, "post_id": 55262583, "comment_id": 97256746, "body": "Also note that, as written, the type <code>DemoClass</code> is empty (no non-static properties or methods), which is <a href=\"https://github.com/Microsoft/TypeScript/wiki/FAQ#why-do-these-empty-classes-behave-strangely\" rel=\"nofollow noreferrer\">muddling up the issue</a>.  Add an instance property to <code>DemoClass</code> in your code above and you&#39;ll also get the error on <code>new Man(DemoClass)</code>, since <code>DemoClass</code> <i>should not be</i> of type <code>DemoClass</code> itself."}], "answers": [{"tags": [], "owner": {"reputation": 8174, "user_id": 13112018, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f11b1f10ce685d50cfb06a45c0905738?s=128&d=identicon&r=PG", "display_name": "satanTime", "link": "https://stackoverflow.com/users/13112018/satantime"}, "is_accepted": false, "score": 4, "last_activity_date": 1589735461, "creation_date": 1589735461, "answer_id": 61855696, "question_id": 55262583, "link": "https://stackoverflow.com/questions/55262583/property-runstaticmethod-is-a-static-member-of-type-democlass/61855696#61855696", "title": "Property &#39;runStaticMethod&#39; is a static member of type &#39;DemoClass&#39;", "body": "<p>Because it's a static property and you should access it in the way how TS requires it: <code>DemoClass.runStaticMethod()</code>, despite javascript supports <code>this.demo.runStaticMethod()</code>.</p>\n\n<p><a href=\"https://www.typescriptlang.org/docs/handbook/classes.html#static-properties\" rel=\"nofollow noreferrer\">https://www.typescriptlang.org/docs/handbook/classes.html#static-properties</a></p>\n\n<blockquote>\n  <p>Each instance accesses this value through prepending the name of the class. Similarly to prepending <code>this</code>. in front of instance accesses, here we prepend <code>Grid</code>. in front of static accesses.</p>\n</blockquote>\n"}, {"tags": [], "owner": {"reputation": 724, "user_id": 2632107, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bf6114b3072f3fd075698d514a5d1c05?s=128&d=identicon&r=PG", "display_name": "S0AndS0", "link": "https://stackoverflow.com/users/2632107/s0ands0"}, "is_accepted": false, "score": 0, "last_activity_date": 1611033208, "creation_date": 1611033208, "answer_id": 65785789, "question_id": 55262583, "link": "https://stackoverflow.com/questions/55262583/property-runstaticmethod-is-a-static-member-of-type-democlass/65785789#65785789", "title": "Property &#39;runStaticMethod&#39; is a static member of type &#39;DemoClass&#39;", "body": "<p>My tests show that adding an <code>interface</code> for <code>DemoClass</code> with a definition for <code>runStaticMethod</code> resolves errors, eg...</p>\n<pre class=\"lang-js prettyprint-override\"><code>export interface DemoClass {\n    runStaticMethod(...args: any[]): any;\n}\n</code></pre>\n<p>... And for easy copy/paste here's a starting point to customize further...</p>\n<pre class=\"lang-js prettyprint-override\"><code>export interface DemoClass {\n    runStaticMethod(...args: any[]): any;\n}\n\n\nexport class Main {\n    constructor(private demo: DemoClass) { }\n    public run() {\n        this.demo.runStaticMethod();\n    }\n}\n\n\nexport class DemoClass {\n    public static runStaticMethod() {\n        console.log('run...');\n    }\n}\n\n\nnew Main(DemoClass).run();\n</code></pre>\n<hr />\n"}], "owner": {"reputation": 388, "user_id": 1127241, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/e6Oof.png?s=128&g=1", "display_name": "Natarajan Ganapathi", "link": "https://stackoverflow.com/users/1127241/natarajan-ganapathi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 6079, "favorite_count": 0, "answer_count": 2, "score": 10, "last_activity_date": 1611033208, "creation_date": 1553090526, "question_id": 55262583, "link": "https://stackoverflow.com/questions/55262583/property-runstaticmethod-is-a-static-member-of-type-democlass", "title": "Property &#39;runStaticMethod&#39; is a static member of type &#39;DemoClass&#39;", "body": "<p>I am getting the following error when I build the following typescript code. </p>\n\n<pre><code>Property 'runStaticMethod' is a static member of type 'DemoClass'\n</code></pre>\n\n<p>Typescript Code: </p>\n\n<pre class=\"lang-js prettyprint-override\"><code>\nexport class Main {\n    constructor(private demo: DemoClass) { }\n    public run() {\n        this.demo.runStaticMethod();\n    }\n}\n\nexport class DemoClass {\n    public static runStaticMethod() {\n        console.log('run...');\n    }\n}\n\nnew Main(DemoClass).run();\n\n</code></pre>\n\n<p>I am getting the following <code>console</code> error when I build the above <code>typescript</code> code. But the <code>javascript</code> code is running as expected. </p>\n\n<p>Console Error:</p>\n\n<pre><code>Chitty:tsc NatarajanG$ tsc\nsrc/index.ts:5:19 - error TS2576: Property 'runStaticMethod' is a static member of type 'DemoClass'\n\n5         this.demo.runStaticMethod();\n                    ~~~~~~~~~~~~~~~\n\nChitty:tsc NatarajanG$ \n\n</code></pre>\n"}, {"tags": ["json", "ajax", "typescript", "api", "server"], "comments": [{"owner": {"reputation": 349, "user_id": 2068994, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0f649e3835a16b257a2c0bb08c136bbc?s=128&d=identicon&r=PG", "display_name": "Holger Schmitz", "link": "https://stackoverflow.com/users/2068994/holger-schmitz"}, "edited": false, "score": 1, "creation_date": 1553093465, "post_id": 55262565, "comment_id": 97258673, "body": "Can your let us know what you have tried and how it is not working?"}, {"owner": {"reputation": 57, "user_id": 9178183, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2c389e82a856b0886ac1063a9b0e8309?s=128&d=identicon&r=PG&f=1", "display_name": "Daniel Faulkner", "link": "https://stackoverflow.com/users/9178183/daniel-faulkner"}, "reply_to_user": {"reputation": 349, "user_id": 2068994, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0f649e3835a16b257a2c0bb08c136bbc?s=128&d=identicon&r=PG", "display_name": "Holger Schmitz", "link": "https://stackoverflow.com/users/2068994/holger-schmitz"}, "edited": false, "score": 0, "creation_date": 1553097154, "post_id": 55262565, "comment_id": 97261349, "body": "We&#39;d be here all day if I gave all the examples, I tried this one to no avail <a href=\"https://stackoverflow.com/questions/41103360/how-to-use-fetch-in-typescript\" title=\"how to use fetch in typescript\">stackoverflow.com/questions/41103360/&hellip;</a>"}, {"owner": {"reputation": 74246, "user_id": 80911, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/9e9b4f80c65dc6076d74cd421084e4fc?s=128&d=identicon&r=PG", "display_name": "Evert", "link": "https://stackoverflow.com/users/80911/evert"}, "edited": false, "score": 1, "creation_date": 1553099573, "post_id": 55262565, "comment_id": 97262987, "body": "@DanielFaulkner people in this community tend to prefer to work off incomplete non-working code and improve it, instead of writing the entire solution for anyone that asks. We have all day."}], "answers": [{"tags": [], "owner": {"reputation": 141, "user_id": 6837445, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/aqh8R.jpg?s=128&g=1", "display_name": "saylestyler", "link": "https://stackoverflow.com/users/6837445/saylestyler"}, "is_accepted": false, "score": 0, "last_activity_date": 1553098412, "creation_date": 1553098412, "answer_id": 55265425, "question_id": 55262565, "link": "https://stackoverflow.com/questions/55262565/how-would-i-make-this-code-pull-the-json-from-a-url-instead-of-having-it-in-the/55265425#55265425", "title": "How would I make this code pull the JSON from a url instead of having it in the script", "body": "<p>You would need to set up a server with a route that would then <em>serve</em> that JSON in response to a GET request. </p>\n\n<p>If you want to practice, I recommend using public APIs that already have \"fake\" data. </p>\n\n<p><a href=\"https://swapi.co\" rel=\"nofollow noreferrer\">www.swapi.co</a> is one example, returning data related to StarWars.</p>\n"}, {"comments": [{"owner": {"reputation": 57, "user_id": 9178183, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2c389e82a856b0886ac1063a9b0e8309?s=128&d=identicon&r=PG&f=1", "display_name": "Daniel Faulkner", "link": "https://stackoverflow.com/users/9178183/daniel-faulkner"}, "edited": false, "score": 0, "creation_date": 1553174186, "post_id": 55266036, "comment_id": 97292353, "body": "Hi thanks for the response, I already have the API setup I&#39;m just having trouble getting it to output in the format above??"}], "tags": [], "owner": {"reputation": 9718, "user_id": 8186898, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s0cEU.jpg?s=128&g=1", "display_name": "Nino Filiu", "link": "https://stackoverflow.com/users/8186898/nino-filiu"}, "is_accepted": false, "score": 0, "last_activity_date": 1553100333, "creation_date": 1553100333, "answer_id": 55266036, "question_id": 55262565, "link": "https://stackoverflow.com/questions/55262565/how-would-i-make-this-code-pull-the-json-from-a-url-instead-of-having-it-in-the/55266036#55266036", "title": "How would I make this code pull the JSON from a url instead of having it in the script", "body": "<p>You can code an API really quickly using <a href=\"https://expressjs.com\" rel=\"nofollow noreferrer\">Express</a>. Here's a quick and simple way to setup one that will serve your data:</p>\n\n<ol>\n<li>Navigate to <code>/where/you/want/your/server/to/be</code> (chose a directory that will host an NPM project)</li>\n<li>Initiate an NPM project: <code>npm init -y</code></li>\n<li>Install express: <code>npm install express</code></li>\n<li>In <code>./data.json</code>, paste your data (<code>[{\"id\": \"1\", \"question\":...</code>)</li>\n<li>In <code>server.js</code>, code a server that will serve your data over HTTP:</li>\n</ol>\n\n<pre><code>    const express = require('express');\n\n    // create an express server\n    const app = express();\n\n    // serves the 'data.json' at the path '/data'\n    app.get('/data', (req, res) =&gt; {\n      res.sendFile(`${__dirname}/data.json`);\n    });\n\n    // launches the server on localhost, port 8080\n    app.listen(8080, () =&gt; {\n      console.log('Server listening on http://localhost:8080');\n    })\n</code></pre>\n\n<p>And that's it! You can navigate to a browser at <code>localhost:8080/data</code> and you'll see your data being returned. Alternatively, you can programmatically fetch your data using JavaScript:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>fetch('http://localhost:8080/data')\r\n  .then(resp =&gt; resp.json()) // parse the JSON data\r\n  .then(data =&gt; console.log('received data:', data)); // logs the data</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 57, "user_id": 9178183, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2c389e82a856b0886ac1063a9b0e8309?s=128&d=identicon&r=PG&f=1", "display_name": "Daniel Faulkner", "link": "https://stackoverflow.com/users/9178183/daniel-faulkner"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 30, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1553100333, "creation_date": 1553090492, "last_edit_date": 1553099371, "question_id": 55262565, "link": "https://stackoverflow.com/questions/55262565/how-would-i-make-this-code-pull-the-json-from-a-url-instead-of-having-it-in-the", "title": "How would I make this code pull the JSON from a url instead of having it in the script", "body": "<p>I want to make the JSON you see in the script below get pulled from an API instead of being in the script itself. I can't figure it out for the life of me.  I'm fairly new to TypeScript, so forgive me if I sound like a noob :)</p>\n\n<pre><code>export class FaqFakeDb\n{ \n    public static data = [\n        {\n            \"id\": \"1\",\n            \"question\": \"test1\",\n            \"answer\": \"test1\"\n        },\n        {\n            \"id\": \"2\",\n            \"question\": \"test2\",\n            \"answer\": \"test2\"\n        },\n        {\n            \"id\": \"3\",\n            \"question\": \"test3\",\n            \"answer\": \"test3\"\n        }\n    ]\n}\n</code></pre>\n\n<p>I have tried everything and cannot seem to get it working. Any help would me much appreciated.</p>\n\n<p>p.s. Anyone looking to answer could you please include my code or give the full script because I'm not too familiar with the structure of Typescript yet, thanks.</p>\n"}, {"tags": ["angular", "typescript", "filter", "primeng", "primeng-turbotable"], "answers": [{"tags": [], "owner": {"reputation": 968, "user_id": 1181404, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/24z9t.png?s=128&g=1", "display_name": "Happy Coder", "link": "https://stackoverflow.com/users/1181404/happy-coder"}, "is_accepted": false, "score": 1, "last_activity_date": 1553186885, "creation_date": 1553186885, "answer_id": 55285427, "question_id": 55262075, "link": "https://stackoverflow.com/questions/55262075/primeng-filter-using-array-object/55285427#55285427", "title": "PrimeNG filter using array object", "body": "<p>you are not passing the column for col.field pass your column </p>\n\n<pre><code>(input)=\"dt.filter($event.target.value, col.field, col.filterMatchMode)\"\n</code></pre>\n"}], "owner": {"reputation": 119, "user_id": 10984848, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JZoWr.jpg?s=128&g=1", "display_name": "Dervillers Matt&#233;o", "link": "https://stackoverflow.com/users/10984848/dervillers-matt%c3%a9o"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1007, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1553186885, "creation_date": 1553089130, "question_id": 55262075, "link": "https://stackoverflow.com/questions/55262075/primeng-filter-using-array-object", "title": "PrimeNG filter using array object", "body": "<p>I wanted to know if it was possible to use an array of objects for filtering something into a table ?</p>\n\n<p>I'm using Angular 6 and PrimeNG 7</p>\n\n<p>My p-table looks like this: </p>\n\n<pre><code>&lt;p-table #table class=\"ui-table ui-table-responsive\" [value]=\"arrays\"  [columns]=\"cols\" &gt;\n    ...\n    &lt;div class=\"col-xl-4\"&gt;        \n    &lt;i class=\"fa fa-search\" style=\"margin:4px 4px 0 0\"&gt;&lt;/i&gt;\n    &lt;input type=\"text\" pInputText size=\"50\" placeholder=\"Rechercher\" (input)=\"table.filter($event.target.value, cols['sort'], 'contains')\" style=\"width:auto\"&gt;\n    &lt;/div&gt;\n    ...\n&lt;p-table&gt;\n</code></pre>\n\n<p>I want to use <strong>filter()</strong> and not <strong>globalFilter()</strong> because i need to specify the field that i want to filter.</p>\n\n<p>The content of cols is this:</p>\n\n<pre><code>this.cols = [\n  { field: 'number', sort: 'number', header: 'The number' },\n  { field: 'type', sort: 'type', header: 'The type' },\n  { field: 'place', field2: 'placeName', sort: 'place.placeName', header: 'The place'},\n  { field: 'city', field2: 'cityName',  sort: 'city.cityName', header: 'The city' },\n  ...\n  ...\n];\n</code></pre>\n\n<p>For the moment my filter won't work..</p>\n"}, {"tags": ["angular", "typescript", "lazy-loading"], "comments": [{"owner": {"reputation": 2902, "user_id": 2511384, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/ZNmBY.png?s=128&g=1", "display_name": "Mehdi Benmoha", "link": "https://stackoverflow.com/users/2511384/mehdi-benmoha"}, "edited": false, "score": 0, "creation_date": 1553089402, "post_id": 55262034, "comment_id": 97255680, "body": "Possible duplicate of: <a href=\"https://stackoverflow.com/questions/41580495/retrieving-the-active-component-and-path\" title=\"retrieving the active component and path\">stackoverflow.com/questions/41580495/&hellip;</a>"}, {"owner": {"reputation": 281, "user_id": 3619415, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/IxAmG.jpg?s=128&g=1", "display_name": "balslev", "link": "https://stackoverflow.com/users/3619415/balslev"}, "edited": false, "score": 0, "creation_date": 1553125459, "post_id": 55262034, "comment_id": 97274685, "body": "Import Router from @angular/router, check current route like this: this.router.url == &#39;start&#39; ... check against the path url not the module name."}], "answers": [{"comments": [{"owner": {"reputation": 252, "user_id": 10263768, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-0A4GY9i-U1k/AAAAAAAAAAI/AAAAAAAAIbk/cIMWR6IhX5Y/photo.jpg?sz=128", "display_name": "Boris Adamyan", "link": "https://stackoverflow.com/users/10263768/boris-adamyan"}, "edited": false, "score": 0, "creation_date": 1553089412, "post_id": 55262149, "comment_id": 97255686, "body": "You can ---&gt;  import Router from @angular/router"}], "tags": [], "owner": {"reputation": 252, "user_id": 10263768, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-0A4GY9i-U1k/AAAAAAAAAAI/AAAAAAAAIbk/cIMWR6IhX5Y/photo.jpg?sz=128", "display_name": "Boris Adamyan", "link": "https://stackoverflow.com/users/10263768/boris-adamyan"}, "is_accepted": false, "score": 3, "last_activity_date": 1553089915, "last_edit_date": 1553089915, "creation_date": 1553089345, "answer_id": 55262149, "question_id": 55262034, "link": "https://stackoverflow.com/questions/55262034/lazy-loading-get-current-routed-module/55262149#55262149", "title": "Lazy loading get current routed module", "body": "<pre><code>constructor(private router: Router ) {}\n</code></pre>\n\n<p>try to check </p>\n\n<pre><code>this.router.url === '/start' \n</code></pre>\n\n<p>then do something</p>\n\n<hr>\n\n<ol start=\"2\">\n<li><p>You can sucscribe to event</p>\n\n<pre><code> this.router.events.pipe(\n    filter((event) =&gt; event instanceof NavigationEnd))\n    .subscribe(x =&gt; {\n        console.log('THIS IS FOR TEST', x['url']);\n        }\n    );\n</code></pre></li>\n</ol>\n"}, {"tags": [], "owner": {"reputation": 212, "user_id": 3134134, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qk7Ix.jpg?s=128&g=1", "display_name": "Murtuza", "link": "https://stackoverflow.com/users/3134134/murtuza"}, "is_accepted": false, "score": 0, "last_activity_date": 1553089701, "creation_date": 1553089701, "answer_id": 55262291, "question_id": 55262034, "link": "https://stackoverflow.com/questions/55262034/lazy-loading-get-current-routed-module/55262291#55262291", "title": "Lazy loading get current routed module", "body": "<p>You can set a route change listener in your app-component like this:</p>\n\n<pre><code>import { Router, NavigationEnd } from '@angular/router';\nimport { filter } from 'rxjs/operators';\nconstructor(private router: Router)\n{\n  router.events.pipe(\n  filter(event =&gt; event instanceof NavigationEnd) ).subscribe((event: NavigationEnd) =&gt; {    \n    console.log(event.url);\n    if(event.url == 'start'){\n    // do you stuff\n    }\n});}\n</code></pre>\n"}], "owner": {"reputation": 705, "user_id": 7145135, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-r9AUs36y-sE/AAAAAAAAAAI/AAAAAAAAABs/wSJATFRkK7c/photo.jpg?sz=128", "display_name": "knnhcn", "link": "https://stackoverflow.com/users/7145135/knnhcn"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 594, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1553089915, "creation_date": 1553089015, "question_id": 55262034, "link": "https://stackoverflow.com/questions/55262034/lazy-loading-get-current-routed-module", "title": "Lazy loading get current routed module", "body": "<p>I am trying to exclude a component if a certain module has been routed in a lazy loading application.</p>\n\n<p>For example in my AppComponent i am using router-outlet and above a component:</p>\n\n<pre><code>&lt;div&gt;\n    &lt;my-component&gt;&lt;/my-component&gt;   --&gt; don't show if module is StartModule\n    &lt;router-outlet&gt;&lt;/router-outlet&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>My routing configuration looks like following:</p>\n\n<pre><code>export const routes: Routes = [\n  {\n    path: 'start',\n    loadChildren: './start/start.module#StartModule',\n  },\n  {\n    path: 'first',\n    loadChildren: './first/first.module#FirstModule'\n  },\n  {\n    path: 'second',\n    loadChildren: './second/second.module#SecondModule'\n  }\n];\n</code></pre>\n\n<p>Is there a parameter to receive the routed module to make a check like  </p>\n\n<pre><code>isStartModule(): boolean {\n    if (routedModule == StartModule) {\n        return true; \n    }\n}\n</code></pre>\n\n<p><code>&lt;my-component *ngIf=\"!isStartModule()\"&gt;&lt;/my-component&gt;</code></p>\n\n<p>?</p>\n"}, {"tags": ["javascript", "typescript"], "comments": [{"owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "edited": false, "score": 1, "creation_date": 1553088943, "post_id": 55261976, "comment_id": 97255367, "body": "Not possible currently for the compiler to infer the types of string operations unfortunately"}, {"owner": {"reputation": 105043, "user_id": 5260024, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XxSHe.jpg?s=128&g=1", "display_name": "Jonas Wilms", "link": "https://stackoverflow.com/users/5260024/jonas-wilms"}, "edited": false, "score": 0, "creation_date": 1553089072, "post_id": 55261976, "comment_id": 97255441, "body": "... and why would you need that? There is probably a way without building up string keys."}, {"owner": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "edited": false, "score": 0, "creation_date": 1553089211, "post_id": 55261976, "comment_id": 97255545, "body": "Feels like <a href=\"https://github.com/Microsoft/TypeScript/issues/13969\" rel=\"nofollow noreferrer\">this issue</a>, maybe go there to give it a \ud83d\udc4d and/or describe your use case if you think it&#39;s more compelling than the ones listed there"}, {"owner": {"reputation": 61, "user_id": 8537913, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-cn1kA8Q6pwE/AAAAAAAAAAI/AAAAAAAAElY/scEFdIWownE/photo.jpg?sz=128", "display_name": "Oliver Winter", "link": "https://stackoverflow.com/users/8537913/oliver-winter"}, "reply_to_user": {"reputation": 105043, "user_id": 5260024, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XxSHe.jpg?s=128&g=1", "display_name": "Jonas Wilms", "link": "https://stackoverflow.com/users/5260024/jonas-wilms"}, "edited": false, "score": 0, "creation_date": 1553089966, "post_id": 55261976, "comment_id": 97256074, "body": "Yes I agree @JonasWilms, but this is more for a migration to typescript from plain js issue, we have hundreds of &#39;asyncActionTypes&#39; as a way to reduce having to write out each request, success, error and cancelled. I will look at a different async action types. And will refer to the issue listed above. Thanks"}], "answers": [{"tags": [], "owner": {"reputation": 59971, "user_id": 1835379, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/i63aC.gif?s=128&g=1", "display_name": "Cerbrus", "link": "https://stackoverflow.com/users/1835379/cerbrus"}, "is_accepted": false, "score": 0, "last_activity_date": 1553089294, "creation_date": 1553089294, "answer_id": 55262138, "question_id": 55261976, "link": "https://stackoverflow.com/questions/55261976/typescript-infer-exact-values-from-dynamically-created-object/55262138#55262138", "title": "Typescript: Infer exact values from dynamically created object", "body": "<p>No, that's not possible.</p>\n\n<p>You could cast the individual values to their related types, but that would defeat the point of dynamically creating the object:</p>\n\n<p><a href=\"https://i.stack.imgur.com/y8yhH.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/y8yhH.png\" alt=\"enter image description here\"></a></p>\n\n<p>Typescript does not support \"dynamic typing\" like that.</p>\n"}], "owner": {"reputation": 61, "user_id": 8537913, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-cn1kA8Q6pwE/AAAAAAAAAAI/AAAAAAAAElY/scEFdIWownE/photo.jpg?sz=128", "display_name": "Oliver Winter", "link": "https://stackoverflow.com/users/8537913/oliver-winter"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 67, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1553089294, "creation_date": 1553088845, "question_id": 55261976, "link": "https://stackoverflow.com/questions/55261976/typescript-infer-exact-values-from-dynamically-created-object", "title": "Typescript: Infer exact values from dynamically created object", "body": "<p>Is there a way to infer the exact values from an object thats dynamically created with a helper function. </p>\n\n<p>The values of the object will always be inferred as type string, but I would like to have their exact value, like my attempt at casting on the SIGN_IN declaration.</p>\n\n<pre><code>const createAsyncActionTypes = (label: string) =&gt; ({\n  REQUEST: `${label}_${'SUCCESS'}`,\n  SUCCESS: `${label}_${'SUCCESS'}`,\n  ERROR: `${label}_${'ERROR'}`,\n  CANCELLED: `${label}_${'CANCELLED'}`,\n});\n\nconst SIGN_OUT = createAsyncActionTypes('SIGN_OUT');\n\nconst SIGN_IN: {\n  REQUEST: 'SIGN_IN_REQUEST';\n  SUCCESS: 'SIGN_IN_SUCCESS';\n  ERROR: 'SIGN_IN_ERROR';\n  CANCELLED: 'SIGN_IN_CANCELLED';\n} = createAsyncActionTypes('SIGN_IN');\n</code></pre>\n"}, {"tags": ["typescript", "webpack"], "answers": [{"tags": [], "owner": {"reputation": 1070, "user_id": 1998186, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5659190f97461834ce5723b38c44d371?s=128&d=identicon&r=PG", "display_name": "NealeU", "link": "https://stackoverflow.com/users/1998186/nealeu"}, "is_accepted": false, "score": 0, "last_activity_date": 1583871972, "creation_date": 1583871972, "answer_id": 60625424, "question_id": 55261870, "link": "https://stackoverflow.com/questions/55261870/typescript-project-references-with-webpack/60625424#60625424", "title": "Typescript Project References with Webpack", "body": "<p>There is support for project references in Webpack via <a href=\"https://github.com/TypeStrong/ts-loader#projectreferences\" rel=\"nofollow noreferrer\">ts-loader</a>, which may work for you.</p>\n\n<p>Beware that there is <a href=\"https://github.com/TypeStrong/ts-loader/pull/1028\" rel=\"nofollow noreferrer\">more work being done</a> toward ts-loader 7.0.0, so your mileage may vary.</p>\n"}], "owner": {"reputation": 141, "user_id": 3334157, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ce9049c25787d60727fb351a55b4e923?s=128&d=identicon&r=PG&f=1", "display_name": "user3334157", "link": "https://stackoverflow.com/users/3334157/user3334157"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 767, "favorite_count": 3, "answer_count": 1, "score": 2, "last_activity_date": 1583871972, "creation_date": 1553088525, "question_id": 55261870, "link": "https://stackoverflow.com/questions/55261870/typescript-project-references-with-webpack", "title": "Typescript Project References with Webpack", "body": "<p>I have been working on trying to speed up my webpack build of a Typescript project.   I cant seem to find any information of whether or not webpack respects Typescript project references.  I added a tsconfig to folder and build it independent of the rest of the project and the outDir was created and .js and .map files were output. However when I build with webpack  .js/.map files were generated and placed in the outDir.</p>\n\n<p>Is this supposed to work?  Can't seem to find and info on it.</p>\n"}, {"tags": ["angular", "typescript", "jasmine", "protractor", "webautomation"], "comments": [{"owner": {"reputation": 2328, "user_id": 10836734, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-i3j5WvTOFO4/AAAAAAAAAAI/AAAAAAAAAAA/AKxrwcbVJXbPYQ_-2AgenxGZd86uyud-Nw/mo/photo.jpg?sz=128", "display_name": "DublinDev", "link": "https://stackoverflow.com/users/10836734/dublindev"}, "edited": false, "score": 0, "creation_date": 1553092553, "post_id": 55261440, "comment_id": 97257929, "body": "When you say nothing happens do you mean to don&#39;t see anything happening on the screen or are you measuring this action another way?"}, {"owner": {"reputation": 101, "user_id": 10549851, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4c595d54432debda6d908ac6d627a2f0?s=128&d=identicon&r=PG&f=1", "display_name": "SeanRay", "link": "https://stackoverflow.com/users/10549851/seanray"}, "reply_to_user": {"reputation": 2328, "user_id": 10836734, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-i3j5WvTOFO4/AAAAAAAAAAI/AAAAAAAAAAA/AKxrwcbVJXbPYQ_-2AgenxGZd86uyud-Nw/mo/photo.jpg?sz=128", "display_name": "DublinDev", "link": "https://stackoverflow.com/users/10836734/dublindev"}, "edited": false, "score": 0, "creation_date": 1553093750, "post_id": 55261440, "comment_id": 97258897, "body": "i mean nothing literally happens, as if it did not perform the action on the screen"}, {"owner": {"reputation": 2328, "user_id": 10836734, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-i3j5WvTOFO4/AAAAAAAAAAI/AAAAAAAAAAA/AKxrwcbVJXbPYQ_-2AgenxGZd86uyud-Nw/mo/photo.jpg?sz=128", "display_name": "DublinDev", "link": "https://stackoverflow.com/users/10836734/dublindev"}, "edited": false, "score": 0, "creation_date": 1553095861, "post_id": 55261440, "comment_id": 97260416, "body": "I did need to work with mouse moves before and while it appeared nothing was happening on the screen we had some event listeners which detected that one element was dragged into another box successfully. Is seeing the mouse movement important to the purpose of your test?"}, {"owner": {"reputation": 101, "user_id": 10549851, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4c595d54432debda6d908ac6d627a2f0?s=128&d=identicon&r=PG&f=1", "display_name": "SeanRay", "link": "https://stackoverflow.com/users/10549851/seanray"}, "reply_to_user": {"reputation": 2328, "user_id": 10836734, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-i3j5WvTOFO4/AAAAAAAAAAI/AAAAAAAAAAA/AKxrwcbVJXbPYQ_-2AgenxGZd86uyud-Nw/mo/photo.jpg?sz=128", "display_name": "DublinDev", "link": "https://stackoverflow.com/users/10836734/dublindev"}, "edited": false, "score": 0, "creation_date": 1553134762, "post_id": 55261440, "comment_id": 97276717, "body": "Its not important but i would know that it work, because the item on the map should have change its status as selected, but in my case nothing happen when i run the code above"}, {"owner": {"reputation": 2328, "user_id": 10836734, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-i3j5WvTOFO4/AAAAAAAAAAI/AAAAAAAAAAA/AKxrwcbVJXbPYQ_-2AgenxGZd86uyud-Nw/mo/photo.jpg?sz=128", "display_name": "DublinDev", "link": "https://stackoverflow.com/users/10836734/dublindev"}, "edited": false, "score": 0, "creation_date": 1553271204, "post_id": 55261440, "comment_id": 97335909, "body": "Another user recently posted a slightly <a href=\"https://stackoverflow.com/questions/55275737/mouse-actions-not-working-correctly-in-protractor\">similar question</a> (but not the same). There approach may help you in this."}], "answers": [{"comments": [{"owner": {"reputation": 101, "user_id": 10549851, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4c595d54432debda6d908ac6d627a2f0?s=128&d=identicon&r=PG&f=1", "display_name": "SeanRay", "link": "https://stackoverflow.com/users/10549851/seanray"}, "edited": false, "score": 0, "creation_date": 1553136754, "post_id": 55263394, "comment_id": 97277158, "body": "<code>await browser.actions().mouseMove(element(by.id(&#39;waze_map1&#39;)), {x: 191, y: 56}).perform(); &#47;&#47;moved cursor to starting point     await browser.actions().mouseDown().perform(); &#47;&#47;clicks down     await browser.actions().mouseMove().perform(element(by.id(&#39;waze_ma&zwnj;&#8203;p1&#39;)), {x: 540, y: 504}); &#47;&#47;drags the cursor     await browser.actions().mouseUp().perform();   &#47;&#47;releases cursor</code> error occured in line 3 it prompted an error: <i>(method) ActionSequence.mouseMove(location: WebElement | ILocation, opt_offset?: ILocation): ActionSequence</i>"}, {"owner": {"reputation": 681, "user_id": 9119638, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d96ce237572ae1bd6d21f5e7d0824edf?s=128&d=identicon&r=PG&f=1", "display_name": "Ben Mohorc", "link": "https://stackoverflow.com/users/9119638/ben-mohorc"}, "reply_to_user": {"reputation": 101, "user_id": 10549851, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4c595d54432debda6d908ac6d627a2f0?s=128&d=identicon&r=PG&f=1", "display_name": "SeanRay", "link": "https://stackoverflow.com/users/10549851/seanray"}, "edited": false, "score": 0, "creation_date": 1553177231, "post_id": 55263394, "comment_id": 97294372, "body": "@SeanRay I accidently put the elementFinder in the perform() and not mouseMove(). I updated the code"}], "tags": [], "owner": {"reputation": 681, "user_id": 9119638, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d96ce237572ae1bd6d21f5e7d0824edf?s=128&d=identicon&r=PG&f=1", "display_name": "Ben Mohorc", "link": "https://stackoverflow.com/users/9119638/ben-mohorc"}, "is_accepted": false, "score": 0, "last_activity_date": 1553177159, "last_edit_date": 1553177159, "creation_date": 1553092731, "answer_id": 55263394, "question_id": 55261440, "link": "https://stackoverflow.com/questions/55261440/how-to-click-select-drag-on-a-map-element-using-protractor-typescript/55263394#55263394", "title": "How to click select drag on a map element using Protractor typescript", "body": "<p>I have had issues chaining <code>browser.actions()</code> which could be what you are running into. Chrome Driver has had issues with this before, although I believe it currently works as intended with current version. I have a similar function in my testing code that does the same thing, the main difference being that I am using async/await. Using your selectors it would look like:</p>\n\n<pre><code>await browser.actions().mouseMove(element(by.id('waze_map1')), '{x: 191, y: 56}').perform(); //moved cursor to starting point\nawait browser.actions().mouseDown().perform(); //clicks down\nawait browser.actions().mouseMove(element(by.id('waze_map1')), {x: 540, y: 504}).perform(); //drags the cursor\nawait browser.actions().mouseUp().perform();   //releases cursor\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 101, "user_id": 10549851, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4c595d54432debda6d908ac6d627a2f0?s=128&d=identicon&r=PG&f=1", "display_name": "SeanRay", "link": "https://stackoverflow.com/users/10549851/seanray"}, "edited": false, "score": 0, "creation_date": 1553162998, "post_id": 55266889, "comment_id": 97285917, "body": "On the line of code that has<code>build()</code> an error occurs, error prompt says <i>Property &#39;build&#39; does not exist on type &#39;ActionSequence&#39;</i>. While the code that does not have a build() same behavior nothing happens when i ran that code"}], "tags": [], "owner": {"reputation": 1285, "user_id": 8163071, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/101e4bdb5e073ed2b1afcb1c61d159b2?s=128&d=identicon&r=PG&f=1", "display_name": "C. Peck", "link": "https://stackoverflow.com/users/8163071/c-peck"}, "is_accepted": false, "score": 0, "last_activity_date": 1553102986, "creation_date": 1553102986, "answer_id": 55266889, "question_id": 55261440, "link": "https://stackoverflow.com/questions/55261440/how-to-click-select-drag-on-a-map-element-using-protractor-typescript/55266889#55266889", "title": "How to click select drag on a map element using Protractor typescript", "body": "<p>Took a look at Protractor's documentation <a href=\"https://www.protractortest.org/#/api?view=webdriver.WebDriver.prototype.actions\" rel=\"nofollow noreferrer\">here</a>.  </p>\n\n<p>This appears to simply inherit from the <code>Actions</code> defined by selenium. I am very confused because they give examples using <code>mouseDown()</code>, <code>mouseMove()</code>, and <code>mouseUp()</code>, but looking at the <a href=\"https://seleniumhq.github.io/selenium/docs/api/java/org/openqa/selenium/interactions/Actions.html\" rel=\"nofollow noreferrer\">source code for <code>Actions</code></a> in selenium, it does not appear to have any method <code>mouseDown()</code> or <code>mouseUp()</code> nor does it inherit them, unless I am missing something (<code>mouseMove()</code> can be found there).</p>\n\n<p>There is, however, a <code>dragAndDropBy()</code> method which purports to be \"A convenience method that performs click-and-hold at the location of the source element, moves by a given offset, then releases the mouse.\"  What if you try:</p>\n\n<pre><code>browser.actions().dragAndDropBy(yourElement, \"540\", \"504).perform()\n</code></pre>\n\n<p>or</p>\n\n<pre><code>browser.actions().dragAndDropBy(yourElement, \"540\", \"504).build().perform()\n</code></pre>\n"}], "owner": {"reputation": 101, "user_id": 10549851, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4c595d54432debda6d908ac6d627a2f0?s=128&d=identicon&r=PG&f=1", "display_name": "SeanRay", "link": "https://stackoverflow.com/users/10549851/seanray"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 505, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1553177159, "creation_date": 1553087103, "last_edit_date": 1553089564, "question_id": 55261440, "link": "https://stackoverflow.com/questions/55261440/how-to-click-select-drag-on-a-map-element-using-protractor-typescript", "title": "How to click select drag on a map element using Protractor typescript", "body": "<p>I need help on doing this, i want to click on a particular area, then select drag the area, and then release the click. similar to the image below:</p>\n\n<p><a href=\"https://i.stack.imgur.com/fyHuA.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/fyHuA.png\" alt=\"click drag and select\"></a></p>\n\n<p>i tried this code, but nothing happened:</p>\n\n<pre><code>browser.actions().\n  mouseDown(element(by.id('waze_map1')), '{x: 191, y: 56}').\n  mouseMove(element(by.id('waze_map1')), {x: 540, y: 504}).\n  mouseUp().\n  perform();\n</code></pre>\n\n<p>any suggestion and idea would greatly be appreciated. thanks</p>\n"}, {"tags": ["javascript", "typescript", "ecmascript-6"], "answers": [{"comments": [{"owner": {"reputation": 143310, "user_id": 5157454, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-QPadFFLbBGA/AAAAAAAAAAI/AAAAAAAADB8/FkNCMP_vkAc/photo.jpg?sz=128", "display_name": "Ori Drori", "link": "https://stackoverflow.com/users/5157454/ori-drori"}, "reply_to_user": {"reputation": 777, "user_id": 10842900, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-pIXYAAxqxNE/AAAAAAAAAAI/AAAAAAAAAAA/AKxrwcYQw9xLYysoRAl0oh2eZh79YeNrXA/mo/photo.jpg?sz=128", "display_name": "Indraraj26", "link": "https://stackoverflow.com/users/10842900/indraraj26"}, "edited": false, "score": 2, "creation_date": 1553087920, "post_id": 55261112, "comment_id": 97254721, "body": "You&#39;re welcome. Don&#39;t forget to <a href=\"https://stackoverflow.com/help/someone-answers\">accept</a>."}], "tags": [], "owner": {"reputation": 143310, "user_id": 5157454, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-QPadFFLbBGA/AAAAAAAAAAI/AAAAAAAADB8/FkNCMP_vkAc/photo.jpg?sz=128", "display_name": "Ori Drori", "link": "https://stackoverflow.com/users/5157454/ori-drori"}, "is_accepted": true, "score": 5, "last_activity_date": 1553085941, "creation_date": 1553085941, "answer_id": 55261112, "question_id": 55261055, "link": "https://stackoverflow.com/questions/55261055/template-literals-inside-the-javascript-object-es6/55261112#55261112", "title": "template literals inside the javascript object [es6]", "body": "<p>When you create the object <code>this</code> is the context in which the object is created, and not object itself (since it doesn't exist yet). Use a getter to compute the value.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>let test = {\r\n id:1,\r\n get name() { return this.id }\r\n}\r\n\r\nlet test2 = {\r\n id:1,\r\n get name() { return `hello, ${this.id}` }\r\n}\r\n\r\nconsole.log(test)\r\nconsole.log(test2);</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 777, "user_id": 10842900, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-pIXYAAxqxNE/AAAAAAAAAAI/AAAAAAAAAAA/AKxrwcYQw9xLYysoRAl0oh2eZh79YeNrXA/mo/photo.jpg?sz=128", "display_name": "Indraraj26", "link": "https://stackoverflow.com/users/10842900/indraraj26"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 71, "favorite_count": 0, "accepted_answer_id": 55261112, "answer_count": 1, "score": 1, "last_activity_date": 1553085941, "creation_date": 1553085770, "question_id": 55261055, "link": "https://stackoverflow.com/questions/55261055/template-literals-inside-the-javascript-object-es6", "title": "template literals inside the javascript object [es6]", "body": "<p>how can i assign object value to other key of object. I tried this but it is not working all i get is undefined.</p>\n\n<pre><code>let test = {\n id:1,\n name:this.test.id\n}\n\nlet test2 = {\n id:1,\n name:`hello, ${this.id}`\n}\n\nconsole.log(test)\nconsole.log(test2);\n</code></pre>\n"}, {"tags": ["typescript", "eslint", "eslint-config-airbnb"], "answers": [{"tags": [], "owner": {"reputation": 119, "user_id": 10984848, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JZoWr.jpg?s=128&g=1", "display_name": "Dervillers Matt&#233;o", "link": "https://stackoverflow.com/users/10984848/dervillers-matt%c3%a9o"}, "is_accepted": false, "score": 0, "last_activity_date": 1553087206, "creation_date": 1553087206, "answer_id": 55261470, "question_id": 55260680, "link": "https://stackoverflow.com/questions/55260680/typescript-import-type-eslint-import-named/55261470#55261470", "title": "Typescript import type Eslint: import/named", "body": "<p>Have you tried this ?</p>\n\n<pre><code>import A as A from '../A'; \n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 349, "user_id": 2068994, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0f649e3835a16b257a2c0bb08c136bbc?s=128&d=identicon&r=PG", "display_name": "Holger Schmitz", "link": "https://stackoverflow.com/users/2068994/holger-schmitz"}, "is_accepted": true, "score": 3, "last_activity_date": 1553088040, "creation_date": 1553088040, "answer_id": 55261724, "question_id": 55260680, "link": "https://stackoverflow.com/questions/55260680/typescript-import-type-eslint-import-named/55261724#55261724", "title": "Typescript import type Eslint: import/named", "body": "<p>I don't think that your error is related to the Eslint. From what I can see, it seems to be a basic Typescript error.</p>\n\n<p>Your <code>A.ts</code> does not contain a default export. In order to import the entire module from <code>A.ts</code> you should use</p>\n\n<pre><code>import * as A from '../A';\n</code></pre>\n\n<p>See also the <a href=\"https://www.typescriptlang.org/docs/handbook/modules.html#import\" rel=\"nofollow noreferrer\">Typsescript documentation on <code>import</code> statements</a></p>\n"}], "owner": {"reputation": 3304, "user_id": 6250402, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/L3iyE.jpg?s=128&g=1", "display_name": "hong4rc", "link": "https://stackoverflow.com/users/6250402/hong4rc"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 5045, "favorite_count": 0, "accepted_answer_id": 55261724, "answer_count": 2, "score": 3, "last_activity_date": 1553088040, "creation_date": 1553084496, "question_id": 55260680, "link": "https://stackoverflow.com/questions/55260680/typescript-import-type-eslint-import-named", "title": "Typescript import type Eslint: import/named", "body": "<p>I use Eslint for my project, use:</p>\n\n<ul>\n<li>parser: <code>@typescript-eslint/parser</code> 1.4.2</li>\n<li>plugin: <code>@typescript-eslint/eslint-plugin</code> 1.4.2</li>\n<li>resolver: <code>eslint-import-resolver-typescript</code> 1.1.1</li>\n<li>rule extends: <code>airbnb-base</code> and <code>plugin:@typescript-eslint/recommended</code></li>\n</ul>\n\n<p>or you can check my <code>.eslintrc</code>:</p>\n\n<pre><code>{\n  \"parser\": \"@typescript-eslint/parser\",\n  \"plugins\": [\n    \"@typescript-eslint\"\n  ],\n  \"extends\": [\"airbnb-base\", \"plugin:@typescript-eslint/recommended\"],\n  \"settings\": {\n    \"import/parsers\": {\n      \"@typescript-eslint/parser\": [\".ts\"]\n    },\n    \"import/resolver\": {\n      \"typescript\": {}\n    }\n  },\n  \"rules\": {\n    \"no-plusplus\": \"off\",\n    \"import/no-cycle\": \"warn\",\n    \"@typescript-eslint/indent\": [\"error\", 2],\n    \"@typescript-eslint/explicit-member-accessibility\": \"off\"\n  }\n}\n</code></pre>\n\n<p>In file <code>A.ts</code> I use: <code>export type Id = string;</code> and import from <code>B.ts</code>: <code>import { Id } from '../A';</code></p>\n\n<p>I tried to use:</p>\n\n<pre><code>import A from '../A';\n</code></pre>\n\n<p>and call A.Id but ide throw error:</p>\n\n<blockquote>\n  <p>A only refers to a type, but is being used as a namespace here</p>\n</blockquote>\n\n<p>Two way has an error, one from <code>eslint</code>, one from IDE (Vs Code, maybe Tshint)</p>\n\n<p>Can you help me fix one of them?</p>\n\n<p>Thank in advance!</p>\n"}, {"tags": ["typescript", "select", "arraylist", "angular7"], "comments": [{"owner": {"reputation": 1425, "user_id": 5041973, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a74d15de9e0a9d237fcf5104246bfc13?s=128&d=identicon&r=PG&f=1", "display_name": "ukn", "link": "https://stackoverflow.com/users/5041973/ukn"}, "edited": false, "score": 0, "creation_date": 1553088338, "post_id": 55260335, "comment_id": 97254969, "body": "You have names and myArray, which last item are you talking about and NAMES[] stays empty?"}, {"owner": {"reputation": 15, "user_id": 5528608, "user_type": "registered", "profile_image": "https://graph.facebook.com/10207781929456278/picture?type=large", "display_name": "Alkim Al", "link": "https://stackoverflow.com/users/5528608/alkim-al"}, "reply_to_user": {"reputation": 1425, "user_id": 5041973, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a74d15de9e0a9d237fcf5104246bfc13?s=128&d=identicon&r=PG&f=1", "display_name": "ukn", "link": "https://stackoverflow.com/users/5041973/ukn"}, "edited": false, "score": 0, "creation_date": 1553093492, "post_id": 55260335, "comment_id": 97258691, "body": "I has update my code, sorry if make you confuse about that. If you can see HTML. The result is list a, b, and c. When click a or b status is &quot;in progress&quot;. and the last item status is &quot;complete&quot;."}, {"owner": {"reputation": 1425, "user_id": 5041973, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a74d15de9e0a9d237fcf5104246bfc13?s=128&d=identicon&r=PG&f=1", "display_name": "ukn", "link": "https://stackoverflow.com/users/5041973/ukn"}, "edited": false, "score": 0, "creation_date": 1553095879, "post_id": 55260335, "comment_id": 97260429, "body": "Is your list ordered or its about the id?"}, {"owner": {"reputation": 15, "user_id": 5528608, "user_type": "registered", "profile_image": "https://graph.facebook.com/10207781929456278/picture?type=large", "display_name": "Alkim Al", "link": "https://stackoverflow.com/users/5528608/alkim-al"}, "reply_to_user": {"reputation": 1425, "user_id": 5041973, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a74d15de9e0a9d237fcf5104246bfc13?s=128&d=identicon&r=PG&f=1", "display_name": "ukn", "link": "https://stackoverflow.com/users/5041973/ukn"}, "edited": false, "score": 0, "creation_date": 1553097535, "post_id": 55260335, "comment_id": 97261630, "body": "what best practise to do? This is about list order selected. if select a or b i want show status &quot;in progress&quot; and the last status is &quot;completed&quot;"}, {"owner": {"reputation": 1425, "user_id": 5041973, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a74d15de9e0a9d237fcf5104246bfc13?s=128&d=identicon&r=PG&f=1", "display_name": "ukn", "link": "https://stackoverflow.com/users/5041973/ukn"}, "edited": false, "score": 0, "creation_date": 1553097762, "post_id": 55260335, "comment_id": 97261780, "body": "You know the order is not necessary kept when retreiving json. If you select c and b would they show as in progress and the last one (a) as completed."}, {"owner": {"reputation": 15, "user_id": 5528608, "user_type": "registered", "profile_image": "https://graph.facebook.com/10207781929456278/picture?type=large", "display_name": "Alkim Al", "link": "https://stackoverflow.com/users/5528608/alkim-al"}, "reply_to_user": {"reputation": 1425, "user_id": 5041973, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a74d15de9e0a9d237fcf5104246bfc13?s=128&d=identicon&r=PG&f=1", "display_name": "ukn", "link": "https://stackoverflow.com/users/5041973/ukn"}, "edited": false, "score": 0, "creation_date": 1553098929, "post_id": 55260335, "comment_id": 97262559, "body": "yes if select a and b show as in progress and the last one (c) as completed. and if select a and c show as in progress and the last one (b) as completed"}, {"owner": {"reputation": 15, "user_id": 5528608, "user_type": "registered", "profile_image": "https://graph.facebook.com/10207781929456278/picture?type=large", "display_name": "Alkim Al", "link": "https://stackoverflow.com/users/5528608/alkim-al"}, "reply_to_user": {"reputation": 1425, "user_id": 5041973, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a74d15de9e0a9d237fcf5104246bfc13?s=128&d=identicon&r=PG&f=1", "display_name": "ukn", "link": "https://stackoverflow.com/users/5041973/ukn"}, "edited": false, "score": 0, "creation_date": 1553099540, "post_id": 55260335, "comment_id": 97262968, "body": "So status completed happen if all item has clicked. That mean the last one item status show as completed"}], "answers": [{"comments": [{"owner": {"reputation": 15, "user_id": 5528608, "user_type": "registered", "profile_image": "https://graph.facebook.com/10207781929456278/picture?type=large", "display_name": "Alkim Al", "link": "https://stackoverflow.com/users/5528608/alkim-al"}, "edited": false, "score": 0, "creation_date": 1553127708, "post_id": 55267166, "comment_id": 97275248, "body": "Thank you for this, but not working. I have try it. Can you see here <a href=\"https://stackblitz.com/edit/angular-hzrvnq\" rel=\"nofollow noreferrer\">stackblitz.com/edit/angular-hzrvnq</a>. That code i create only completed in last item. But i want like this, if select a and b show as in progress and the last one (c) as completed or if select a and c show as in progress and the last one (b) as completed"}], "tags": [], "owner": {"reputation": 1425, "user_id": 5041973, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a74d15de9e0a9d237fcf5104246bfc13?s=128&d=identicon&r=PG&f=1", "display_name": "ukn", "link": "https://stackoverflow.com/users/5041973/ukn"}, "is_accepted": false, "score": 0, "last_activity_date": 1553104040, "creation_date": 1553104040, "answer_id": 55267166, "question_id": 55260335, "link": "https://stackoverflow.com/questions/55260335/last-status-array-with-index-in-typescript-angular/55267166#55267166", "title": "Last status array with index in Typescript Angular", "body": "<p>You can do something like this. Its not the cleanest but I think it would work. First you have an array of your selectedItem:</p>\n\n<p>You check if the item selected has already been selected</p>\n\n<ul>\n<li>If already selected do nothing</li>\n<li>If not, add it to the list</li>\n<li>if the selectedItem list has equal amount of item than myArray, it means that the</li>\n</ul>\n\n<p>Here is the code:</p>\n\n<pre><code>ngOnInit() {\n   this.removeEmptyContent();\n   this.selectedItem = []\n  }\n\n  selectFile(event) {\n    console.log('event', event);\n\n    if(this.selectedItem.find(item =&gt; item.id = event.id)){\n        this.selectedItem.push(event)\n    }\n    if(this.selectedItem.length === this.myArray.length){\n        console.log('completed'); \n    } else {\n        console.log('in progress');\n    }\n  }\n</code></pre>\n"}], "owner": {"reputation": 15, "user_id": 5528608, "user_type": "registered", "profile_image": "https://graph.facebook.com/10207781929456278/picture?type=large", "display_name": "Alkim Al", "link": "https://stackoverflow.com/users/5528608/alkim-al"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 44, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1553104040, "creation_date": 1553083400, "last_edit_date": 1553093260, "question_id": 55260335, "link": "https://stackoverflow.com/questions/55260335/last-status-array-with-index-in-typescript-angular", "title": "Last status array with index in Typescript Angular", "body": "<p>I am stuck with this logic.\nI have array and function :</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>import { Component } from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'my-app',\r\n  templateUrl: './app.component.html',\r\n  styleUrls: [ './app.component.css' ]\r\n})\r\nexport class AppComponent  {\r\n  name: any = 'World';\r\n\r\n  myArray: any = \r\n  [\r\n    {\r\n      id: 2001,\r\n      name:\"a\"\r\n    }, \r\n    {\r\n      id: 2002,\r\n      name:\"\"\r\n    }, \r\n    {\r\n      id: 2003,\r\n      name:\"b\"\r\n    }, \r\n    {\r\n      id: 2004,\r\n      name:\"c\"\r\n    }, \r\n  ];\r\n \r\n  ngOnInit() {\r\n   this.removeEmptyContent();\r\n  }\r\n\r\n  selectFile(event) {\r\n    console.log('event', event);\r\n     \r\n    this.myArray.forEach( (myObject) =&gt; {\r\n        console.log('myObject', myObject); \r\n            if(myObject.length &gt; -1){\r\n                console.log('completed'); \r\n            } else {\r\n                console.log('in progress'); \r\n        }\r\n    });   \r\n    console.log('getlast', this.myArray.length &gt; -1);\r\n  }\r\n\r\n  removeEmptyContent() {\r\n    this.myArray.forEach( (myObject, index) =&gt; {\r\n      if(!myObject.name){\r\n          this.myArray.splice(index, 1);\r\n      }\r\n    });   \r\n  }\r\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;hello name=\"{{ name }}\"&gt;&lt;/hello&gt;\r\n&lt;ul&gt;\r\n  &lt;li *ngFor=\"let item of myArray\"&gt;\r\n    &lt;div (click)=selectFile(item)&gt;\r\n      {{item.name}}\r\n    &lt;/div&gt;\r\n  &lt;/li&gt;\r\n&lt;/ul&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>I want that array have different value when selected last item.\nWhen select index 0,1,.. the status in \"<strong>progress</strong>\" but when select last index i want the status \"<strong>complete</strong>\". How to do that?</p>\n\n<p>Note: That code above need fix and update</p>\n\n<p>Thank you</p>\n"}, {"tags": ["javascript", "node.js", "typescript", "decorator", "typescript-decorator"], "comments": [{"owner": {"reputation": 26597, "user_id": 172363, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/eb96a4dcb7314d7c9993cbc824123be0?s=128&d=identicon&r=PG", "display_name": "Andrew Eisenberg", "link": "https://stackoverflow.com/users/172363/andrew-eisenberg"}, "edited": false, "score": 0, "creation_date": 1558312925, "post_id": 55260056, "comment_id": 99047312, "body": "The <code>arguments</code> property is only available inside of a function call. I don&#39;t understand why you need to use it here."}, {"owner": {"reputation": 73, "user_id": 8412430, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/779a2ba1638b48e661a0f4845d582dc5?s=128&d=identicon&r=PG&f=1", "display_name": "TheGorgeousSeal", "link": "https://stackoverflow.com/users/8412430/thegorgeousseal"}, "reply_to_user": {"reputation": 26597, "user_id": 172363, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/eb96a4dcb7314d7c9993cbc824123be0?s=128&d=identicon&r=PG", "display_name": "Andrew Eisenberg", "link": "https://stackoverflow.com/users/172363/andrew-eisenberg"}, "edited": false, "score": 0, "creation_date": 1560203313, "post_id": 55260056, "comment_id": 99650971, "body": "I found another way to retrieve arguments using metadata."}], "owner": {"reputation": 73, "user_id": 8412430, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/779a2ba1638b48e661a0f4845d582dc5?s=128&d=identicon&r=PG&f=1", "display_name": "TheGorgeousSeal", "link": "https://stackoverflow.com/users/8412430/thegorgeousseal"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 83, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1553082462, "creation_date": 1553082462, "question_id": 55260056, "link": "https://stackoverflow.com/questions/55260056/parameterdecorator-retrieve-parameter-type", "title": "ParameterDecorator: Retrieve parameter type", "body": "<p>I'm writing a little library using typescript decorator and I'm not able to retrieve parameter type. I'm using \"reflect-metadata\" library.</p>\n\n<p>This is a class that use decorators:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>\ninterface IParamInterface {\n    foo: string;\n    bar: string;\n}\n\n@ClassDecorator()\nclass MyClass {\n    @MethodDecorator()\n    myMethod(@ParamDecorator() param: IParamInterface)\n}\n\n</code></pre>\n\n<p>And at runtime, using decorators, I want to retrieve <code>param</code> type (<code>IParamInterface</code>) In order to call a function (so i need to bind a function somewhere) when <code>myMethod</code> is being called.</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>\nconst instance = new MyClass();\n\nlet prototype = Object.getPrototypeOf(instance);\nlet properties = Object.getOwnPropertyNames(prototype);\n\nfor (let property of properties) {\n    //Retrieve parameter metadata for method 'myMethod'\n    const paramMetadata = Reflect.getMetadata('param_decorator', instance[property]);\n    //Retrieve myMethod arguments\n    const arguments = instance[property].arguments\n}\n</code></pre>\n\n<p>But I can't do that because the compiler says:\n<code>\n'caller', 'callee', and 'arguments' properties may not be accessed on strict mode functions or the arguments objects for calls to them\n</code></p>\n\n<p>Is there a smart way to do that?</p>\n\n<p>Thanks for the help!</p>\n"}, {"tags": ["typescript", "rxjs"], "comments": [{"owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "edited": false, "score": 0, "creation_date": 1553082740, "post_id": 55260003, "comment_id": 97251461, "body": "<code>import(&quot;rxjs&quot;).Observable&lt;any&gt;</code> is not invalid .. it references the type in another module.. what issue are you having with this ?"}, {"owner": {"reputation": 4264, "user_id": 7330592, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/08ff85e692b55924933f9d78a837bc4d?s=128&d=identicon&r=PG&f=1", "display_name": "undefined", "link": "https://stackoverflow.com/users/7330592/undefined"}, "reply_to_user": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "edited": false, "score": 0, "creation_date": 1553082933, "post_id": 55260003, "comment_id": 97251570, "body": "I will add the original code, sec."}, {"owner": {"reputation": 4264, "user_id": 7330592, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/08ff85e692b55924933f9d78a837bc4d?s=128&d=identicon&r=PG&f=1", "display_name": "undefined", "link": "https://stackoverflow.com/users/7330592/undefined"}, "reply_to_user": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "edited": false, "score": 0, "creation_date": 1553083130, "post_id": 55260003, "comment_id": 97251715, "body": "typescript adding this import for me and it&#39;s broking the app unless I explicit add import { Observable } from &#39;rxjs&#39;"}, {"owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "edited": false, "score": 0, "creation_date": 1553084110, "post_id": 55260003, "comment_id": 97252322, "body": "Is &quot;borking&quot; a term of art I am not aware of ? :P What specific error is the <code>.d.ts</code> file causing. I can use this definition just fine as long as I have the types for <code>rxjs</code> installed and I am using a version of ts that supports the <code>import(&#39;...&#39;)</code> syntax."}, {"owner": {"reputation": 4264, "user_id": 7330592, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/08ff85e692b55924933f9d78a837bc4d?s=128&d=identicon&r=PG&f=1", "display_name": "undefined", "link": "https://stackoverflow.com/users/7330592/undefined"}, "reply_to_user": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "edited": false, "score": 0, "creation_date": 1553084169, "post_id": 55260003, "comment_id": 97252360, "body": "When consuming the library, I&#39;m getting type errors like error TS1005: &#39;)&#39; expected and error TS1128: Declaration or statement expected."}, {"owner": {"reputation": 4264, "user_id": 7330592, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/08ff85e692b55924933f9d78a837bc4d?s=128&d=identicon&r=PG&f=1", "display_name": "undefined", "link": "https://stackoverflow.com/users/7330592/undefined"}, "reply_to_user": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "edited": false, "score": 0, "creation_date": 1553084205, "post_id": 55260003, "comment_id": 97252392, "body": "@TitianCernicova-Dragomir broking =&gt; breaking"}, {"owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "edited": false, "score": 0, "creation_date": 1553084453, "post_id": 55260003, "comment_id": 97252560, "body": "What version of ts is the client app using? Is it using babel or tsc?"}, {"owner": {"reputation": 4264, "user_id": 7330592, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/08ff85e692b55924933f9d78a837bc4d?s=128&d=identicon&r=PG&f=1", "display_name": "undefined", "link": "https://stackoverflow.com/users/7330592/undefined"}, "reply_to_user": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "edited": false, "score": 0, "creation_date": 1553084485, "post_id": 55260003, "comment_id": 97252575, "body": "typescript 2.8 (not babel), tsc with webpack"}, {"owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "edited": false, "score": 0, "creation_date": 1553084713, "post_id": 55260003, "comment_id": 97252744, "body": "And there is the problem <code>import</code> types were added in 2.9 <a href=\"https://github.com/Microsoft/TypeScript/wiki/Roadmap#29-may-2018\" rel=\"nofollow noreferrer\">github.com/Microsoft/TypeScript/wiki/Roadmap#29-may-2018</a>. The library is compiled with a newer version of ts."}, {"owner": {"reputation": 4264, "user_id": 7330592, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/08ff85e692b55924933f9d78a837bc4d?s=128&d=identicon&r=PG&f=1", "display_name": "undefined", "link": "https://stackoverflow.com/users/7330592/undefined"}, "reply_to_user": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "edited": false, "score": 0, "creation_date": 1553084951, "post_id": 55260003, "comment_id": 97252925, "body": "Oh, I see, do you want to add an answer?"}, {"owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "edited": false, "score": 0, "creation_date": 1553085534, "post_id": 55260003, "comment_id": 97253254, "body": "Added the answer, 10x :)"}], "answers": [{"tags": [], "owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "is_accepted": true, "score": 1, "last_activity_date": 1553085521, "creation_date": 1553085521, "answer_id": 55260982, "question_id": 55260003, "link": "https://stackoverflow.com/questions/55260003/typescript-generates-definition-file-with-import-which-cause-error/55260982#55260982", "title": "Typescript generates definition file with import which cause error", "body": "<p><code>import(\"rxjs\").Observable&lt;any&gt;;</code> is valid syntax, if you are building on <code>2.9</code> or above. Problems with this syntax usually occur if you have a definition generated by a newer version of typescript (which uses the <code>import</code> type syntax) and try to consume it in an older version. </p>\n\n<p>As we discussed in the comments this was indeed the problem you were experiencing. The solution is to use the same version of TS in the library as in the app. </p>\n"}], "owner": {"reputation": 4264, "user_id": 7330592, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/08ff85e692b55924933f9d78a837bc4d?s=128&d=identicon&r=PG&f=1", "display_name": "undefined", "link": "https://stackoverflow.com/users/7330592/undefined"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 66, "favorite_count": 0, "accepted_answer_id": 55260982, "answer_count": 1, "score": 1, "last_activity_date": 1553085521, "creation_date": 1553082301, "last_edit_date": 1553083044, "question_id": 55260003, "link": "https://stackoverflow.com/questions/55260003/typescript-generates-definition-file-with-import-which-cause-error", "title": "Typescript generates definition file with import which cause error", "body": "<p>There are times when typescript generates the definition file with the following code, which causes a compile error:</p>\n\n<pre><code>// test.ts\nimport { Subject } from 'rxjs';\n\nclass Test {\n  get property() {\n    return new Subject().asObservable();\n  }\n}\n\n// test.d.ts\nclass Test {\n  property: import(\"rxjs\").Observable&lt;any&gt;;\n}\n</code></pre>\n\n<p>Why is that happen and how can I catch these types of errors?</p>\n"}, {"tags": ["angular", "typescript", "jasmine"], "comments": [{"owner": {"reputation": 8264, "user_id": 2118360, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yLaPr.jpg?s=128&g=1", "display_name": "TheParam", "link": "https://stackoverflow.com/users/2118360/theparam"}, "edited": false, "score": 1, "creation_date": 1553082254, "post_id": 55259962, "comment_id": 97251149, "body": "Have you tried removing node_modules and package-lock.json, clearing npm cache (npm cache clean --force) and reinstalling dependencies?"}, {"owner": {"reputation": 8264, "user_id": 2118360, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yLaPr.jpg?s=128&g=1", "display_name": "TheParam", "link": "https://stackoverflow.com/users/2118360/theparam"}, "edited": false, "score": 0, "creation_date": 1553082769, "post_id": 55259962, "comment_id": 97251488, "body": "will you please share your typescript version"}, {"owner": {"reputation": 6993, "user_id": 726965, "user_type": "registered", "accept_rate": 38, "profile_image": "https://i.stack.imgur.com/Glsj4.png?s=128&g=1", "display_name": "mindparse", "link": "https://stackoverflow.com/users/726965/mindparse"}, "reply_to_user": {"reputation": 8264, "user_id": 2118360, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yLaPr.jpg?s=128&g=1", "display_name": "TheParam", "link": "https://stackoverflow.com/users/2118360/theparam"}, "edited": false, "score": 0, "creation_date": 1553083045, "post_id": 55259962, "comment_id": 97251653, "body": "Thanks @TheParam - I tried the steps you suggested but I still get the same errors. I just checked the version of TypeScript the angular CLI is using when it does the build and its on 3.2.4, I see that caches path I shared above is referencing a 3.3 version of TS, so perhaps this is what the problem is, the version difference between cached copy and the one in my node_modules folder in my project?"}, {"owner": {"reputation": 8264, "user_id": 2118360, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yLaPr.jpg?s=128&g=1", "display_name": "TheParam", "link": "https://stackoverflow.com/users/2118360/theparam"}, "edited": false, "score": 0, "creation_date": 1553083288, "post_id": 55259962, "comment_id": 97251817, "body": "yes that might be the issue. you can delete the cached  folder and reinstall the typescript would help"}, {"owner": {"reputation": 7368, "user_id": 3479456, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/zuJYi.png?s=128&g=1", "display_name": "pushkin", "link": "https://stackoverflow.com/users/3479456/pushkin"}, "edited": false, "score": 0, "creation_date": 1561668069, "post_id": 55259962, "comment_id": 100150998, "body": "You solve this? I&#39;m having a similar issue."}, {"owner": {"reputation": 477, "user_id": 8249695, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4kmwu.jpg?s=128&g=1", "display_name": "Ricardo Ferreira", "link": "https://stackoverflow.com/users/8249695/ricardo-ferreira"}, "edited": false, "score": 0, "creation_date": 1572949738, "post_id": 55259962, "comment_id": 103712713, "body": "Which framework are you using to test your application?"}], "answers": [{"tags": [], "owner": {"reputation": 111, "user_id": 10324080, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3974d3a37257ecc619f722882c14234e?s=128&d=identicon&r=PG&f=1", "display_name": "user10324080", "link": "https://stackoverflow.com/users/10324080/user10324080"}, "is_accepted": false, "score": 3, "last_activity_date": 1566393158, "creation_date": 1566393158, "answer_id": 57592510, "question_id": 55259962, "link": "https://stackoverflow.com/questions/55259962/error-ts6200-definitions-of-the-following-identifiers-conflict-with-those-in-an/57592510#57592510", "title": "error TS6200: Definitions of the following identifiers conflict with those in another file (@types/jasmine)", "body": "<p>Having had the same problems when migrating from Angular 6.x to 8.x (typescript 3.5+) with both @types/jasmine type-files (index.d.ts &amp; 3.1/index.d.ts) competing with each other i solved it the following way:</p>\n\n<h1>Quick overview</h1>\n\n<ol>\n<li>Removed @types/jasmine from package.json and instead added its 3.1/index.d.ts as a static file within my sourcecode.</li>\n<li>As @types/jasminewd2 references @types/jasmine, also removed this lib from package.json and added as static file.</li>\n<li>Changed some config-files to recognize the static-type-files.</li>\n<li>Re-install libs</li>\n</ol>\n\n<h1>Steps in detail</h1>\n\n<p><strong>1. Removed:</strong></p>\n\n<p>entries from package.json</p>\n\n<pre><code>   \"devDependencies\": {\n       ...\n       \"@types/jasmine\": \"3.4.0\",\n       \"@types/jasminewd2\": \"2.0.6\",\n       ...\n   }\n</code></pre>\n\n<p><strong>2. Added instead:</strong></p>\n\n<p>folders &amp; files to file-structure below src-folder</p>\n\n<pre><code>src (folder)\n   ...\n   @types\n      jasmine\n         index.d.ts (from node_modules/@types/jasmine/3.1/index.d.ts)\n      jasminewd2\n         index.d.ts (from node_modules/@types/jasminewd2/index.d.ts)\n</code></pre>\n\n<p><strong>3. Changed configs:</strong></p>\n\n<p>tsconfig.json (where XXX corresponds to your folder-structure)</p>\n\n<pre><code>   ...\n   \"typeRoots\": [\n      ...\n      \"src/ XXX /@types\"\n   ]\n   ...\n</code></pre>\n\n<p>tsconfig.spec.json</p>\n\n<pre><code>   ...\n   \"types\": [\n      ...\n      \"jasminewd2\"\n   ]\n   ...\n</code></pre>\n\n<p><strong>4. Re-install libs</strong></p>\n\n<p>run <code>npm install</code></p>\n\n<h1>Once conflicts will be resumed lateron</h1>\n\n<ul>\n<li>undo the above steps</li>\n<li>re-install packages with</li>\n</ul>\n\n<p><code>npm install @types/jasmine --save-dev</code></p>\n\n<p><code>npm install @types/jasminewd2 --save-dev</code></p>\n\n<h1>Additional background</h1>\n\n<p>As searching the internet showed only 2 similar complaints the assumption is close, that the above mentioned solution is a fix only, but there must be a better one (otherwise more people would complain about the problem). it might be that there is an unrecognized error somewhere within the configuration of the angular-project that could lead to a point where a decision between \"we're using typescript below 3.1\" and \"we're using typescript from 3.1 up\" isn't possible within @types/jasmine.</p>\n\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/55259962/error-ts6200-definitions-of-the-following-identifiers-conflict-with-those-in-an\">error TS6200: Definitions of the following identifiers conflict with those in another file (@types/jasmine)</a></li>\n<li><a href=\"https://stackoverflow.com/questions/57418017/definitions-of-identifiers-conflict-with-those-in-another-file\">Definitions of identifiers conflict with those in another file</a></li>\n</ul>\n"}, {"tags": [], "owner": {"reputation": 522, "user_id": 5118992, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b123079aaeabb268e7d55640cbba0c62?s=128&d=identicon&r=PG", "display_name": "Maxim Palenov", "link": "https://stackoverflow.com/users/5118992/maxim-palenov"}, "is_accepted": false, "score": 4, "last_activity_date": 1574950759, "creation_date": 1574950759, "answer_id": 59090916, "question_id": 55259962, "link": "https://stackoverflow.com/questions/55259962/error-ts6200-definitions-of-the-following-identifiers-conflict-with-those-in-an/59090916#59090916", "title": "error TS6200: Definitions of the following identifiers conflict with those in another file (@types/jasmine)", "body": "<p>Just answered the same question here: <a href=\"https://stackoverflow.com/questions/57418017/definitions-of-identifiers-conflict-with-those-in-another-file/59090895#59090895\">Definitions of identifiers conflict with those in another file</a></p>\n\n<p>Posting it again.</p>\n\n<hr>\n\n<p>Check <code>types</code> subsection in your <code>tsconfig.spec.json</code>, most probably it has something like that</p>\n\n<pre><code>\"types\": [\n  \"jasmine\",\n  \"node\"\n]\n</code></pre>\n\n<p>I removed <code>jasmine</code> so my <code>types</code> section looks like that:</p>\n\n<pre><code>\"types\": [\n  \"node\"\n]\n</code></pre>\n\n<p>and it helped.</p>\n"}], "owner": {"reputation": 6993, "user_id": 726965, "user_type": "registered", "accept_rate": 38, "profile_image": "https://i.stack.imgur.com/Glsj4.png?s=128&g=1", "display_name": "mindparse", "link": "https://stackoverflow.com/users/726965/mindparse"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 12334, "favorite_count": 0, "answer_count": 2, "score": 16, "last_activity_date": 1574950759, "creation_date": 1553082159, "last_edit_date": 1553082529, "question_id": 55259962, "link": "https://stackoverflow.com/questions/55259962/error-ts6200-definitions-of-the-following-identifiers-conflict-with-those-in-an", "title": "error TS6200: Definitions of the following identifiers conflict with those in another file (@types/jasmine)", "body": "<p>I am receiving the following error when attempting to build my project (using Angular CLI)</p>\n\n<pre><code>ERROR in ../my-app/node_modules/@types/jasmine/index.d.ts(18,1): error TS6200: Definitions of the following identifiers conflict with those in another file: Expected, SpyObjMethodNames, clock, CustomEqualityTester, CustomMatcherFactory, ExpectationFailed, SpecFunction, SpyObj, jasmine\n</code></pre>\n\n<p>I am using VSCode, and when I go to the line in question, I have the option to view the file it says its conflicting with.</p>\n\n<p>This takes me to a file at the following location:</p>\n\n<p><code>/Users/&lt;user_name&gt;/Library/Caches/typescript/3.3/node_modules/@types/jasmine/ts3.1/index.d.ts</code></p>\n\n<p>I'm a little lost to understand why the TS compiler is trying to use this cached type definition, what could be going on here?</p>\n\n<p>Thanks</p>\n"}, {"tags": ["angular", "typescript", "ngx-translate"], "comments": [{"owner": {"reputation": 1796, "user_id": 5914352, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-95K_ALMidVw/AAAAAAAAAAI/AAAAAAAAABY/-XW0VDjXD7Q/photo.jpg?sz=128", "display_name": "Przemyslaw Jan Beigert", "link": "https://stackoverflow.com/users/5914352/przemyslaw-jan-beigert"}, "edited": false, "score": 0, "creation_date": 1553083563, "post_id": 55259872, "comment_id": 97251972, "body": "From your code i got <code>{&#39;1 - d&#39;: &quot;1 - do something&quot;, &#39;2 - d&#39;: &quot;2 - do anything&quot;}</code> in <code>getEnum</code>"}, {"owner": {"reputation": 660, "user_id": 9560126, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/71b2850a1786b2de5cc0c40585e56714?s=128&d=identicon&r=PG&f=1", "display_name": "Abedin.Zhuniqi", "link": "https://stackoverflow.com/users/9560126/abedin-zhuniqi"}, "reply_to_user": {"reputation": 1796, "user_id": 5914352, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-95K_ALMidVw/AAAAAAAAAAI/AAAAAAAAABY/-XW0VDjXD7Q/photo.jpg?sz=128", "display_name": "Przemyslaw Jan Beigert", "link": "https://stackoverflow.com/users/5914352/przemyslaw-jan-beigert"}, "edited": false, "score": 0, "creation_date": 1553085746, "post_id": 55259872, "comment_id": 97253403, "body": "@PrzemyslawPietrzak You are right but same I get but the problem is how to translate for example: <code>1 - do something</code> &#39; is <code>en.json</code> but <code>1 - macht etwas</code> is <code>de.json</code>. How to get the translations ?"}, {"owner": {"reputation": 660, "user_id": 9560126, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/71b2850a1786b2de5cc0c40585e56714?s=128&d=identicon&r=PG&f=1", "display_name": "Abedin.Zhuniqi", "link": "https://stackoverflow.com/users/9560126/abedin-zhuniqi"}, "reply_to_user": {"reputation": 1796, "user_id": 5914352, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-95K_ALMidVw/AAAAAAAAAAI/AAAAAAAAABY/-XW0VDjXD7Q/photo.jpg?sz=128", "display_name": "Przemyslaw Jan Beigert", "link": "https://stackoverflow.com/users/5914352/przemyslaw-jan-beigert"}, "edited": false, "score": 0, "creation_date": 1553086636, "post_id": 55259872, "comment_id": 97253958, "body": "@PrzemyslawPietrzak What do you suggest me to do so I can translate the <code>enums</code> ?"}, {"owner": {"reputation": 898, "user_id": 7829123, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Rwdmn.png?s=128&g=1", "display_name": "Martin Paucot", "link": "https://stackoverflow.com/users/7829123/martin-paucot"}, "edited": false, "score": 0, "creation_date": 1553087179, "post_id": 55259872, "comment_id": 97254269, "body": "You should take a look at <a href=\"http://www.ngx-translate.com/\" rel=\"nofollow noreferrer\">ngx-translate.com</a>"}], "answers": [{"comments": [{"owner": {"reputation": 221394, "user_id": 366904, "user_type": "moderator", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/3f8912af19fe86b7b34a0b011a962460?s=128&d=identicon&r=PG", "display_name": "Cody Gray", "link": "https://stackoverflow.com/users/366904/cody-gray"}, "edited": false, "score": 0, "creation_date": 1553127525, "post_id": 55261468, "comment_id": 97275206, "body": "Comments are not for extended discussion; this conversation has been <a href=\"https://chat.stackoverflow.com/rooms/190407/discussion-on-answer-by-przemyslaw-pietrzak-how-to-translate-enums-at-angular-6\">moved to chat</a>. Please make sure to <a href=\"https://stackoverflow.com/posts/55261468/edit\">edit</a> the answer to reflect any insights gained from the discussion."}], "tags": [], "owner": {"reputation": 1796, "user_id": 5914352, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-95K_ALMidVw/AAAAAAAAAAI/AAAAAAAAABY/-XW0VDjXD7Q/photo.jpg?sz=128", "display_name": "Przemyslaw Jan Beigert", "link": "https://stackoverflow.com/users/5914352/przemyslaw-jan-beigert"}, "is_accepted": true, "score": 2, "last_activity_date": 1553091189, "last_edit_date": 1553091189, "creation_date": 1553087198, "answer_id": 55261468, "question_id": 55259872, "link": "https://stackoverflow.com/questions/55259872/how-to-translate-enums-at-angular-6/55261468#55261468", "title": "How to translate enums at angular 6", "body": "<p>I suggest little bit different approach. Do not translate it: keep in enum keys to translation.json file e.g.</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>export enum Test {\n test1 = 'dropdown.doSomething.test1',\n test2 = 'dropdown.doSomething.test2',\n}\n</code></pre>\n\n<p>I that case enum will not depend on current language and you will be able to easily translate value from enum by:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>const enTranslations = {\n  dropdown: {\n    doSomething: {\n     test1: \"1 - do something\"\n    }\n  }\n};\n\nconst getTranslatedText = (tranlations, keys: string[]) =&gt; keys.reduce((acc, curr) =&gt; acc[curr], translations);\n\nconst key1 = Test.test1\nconst translatedEnText = getTranslatedText(enTranslations, key1.split('.'));\n</code></pre>\n\n<p>Then you can display <code>translatedEnText</code>, or pass it into function call. <code>translatedEnText === '1 - do something'</code></p>\n\n<p>If you want to have text from the same key in different language just call <code>getTranslatedText</code> with other translation object e.g. <code>deTranslations</code></p>\n\n<p>If you want to map your enum into object with same keys and translated values do something like this: </p>\n\n<pre class=\"lang-js prettyprint-override\"><code>const testEng = Object.values(Test).reduce((acc, key) =&gt; ({ ...acc, [key]: getTranslatedText(enTranslations, key.split('.'))}), {})\n</code></pre>\n\n<p>reducde will start with <code>{}</code> in <code>acc</code> and on each iteration step it will add to acc translated text from <code>getTranslatedText(enTranslations, key.split('.'))</code> (as value) under <code>key</code> key.</p>\n\n<p><a href=\"https://www.typescriptlang.org/play/index.html#src=%0D%0Aenum%20Test%20%7B%0D%0A%20test1%20%3D%20&#39;dropdown.doSomething.test1&#39;%2C%0D%0A%20test2%20%3D%20&#39;dropdown.doSomething.test2&#39;%2C%0D%0A%7D%0D%0A%0D%0A%0D%0Aconst%20enTranslations%20%3D%20%7B%0D%0A%20%20dropdown%3A%20%7B%0D%0A%20%20%20%20doSomething%3A%20%7B%0D%0A%20%20%20%20%20test1%3A%20%221%20-%20do%20something%22%0D%0A%20%20%20%20%7D%0D%0A%20%20%7D%0D%0A%7D%3B%0D%0A%0D%0Aconst%20getTranslatedText%20%3D%20(tranlations%2C%20keys%3A%20string%5B%5D)%20%3D%3E%20keys.reduce((acc%2C%20curr)%20%3D%3E%20acc%5Bcurr%5D%2C%20tranlations)%3B%0D%0A%0D%0Aconst%20key1%20%3D%20Test.test1%0D%0Aconst%20translatedText%20%3D%20getTranslatedText(enTranslations%2C%20key1.split(&#39;.&#39;))%3B%0D%0A%0D%0Aconst%20testEng%20%3D%20Object.values(Test).reduce((acc%2C%20key)%20%3D%3E%20(%7B%20...acc%2C%20%5Bkey%5D%3A%20getTranslatedText(enTranslations%2C%20key.split(&#39;.&#39;))%7D)%2C%20%7B%7D)\" rel=\"nofollow noreferrer\">Playground</a></p>\n"}], "owner": {"reputation": 660, "user_id": 9560126, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/71b2850a1786b2de5cc0c40585e56714?s=128&d=identicon&r=PG&f=1", "display_name": "Abedin.Zhuniqi", "link": "https://stackoverflow.com/users/9560126/abedin-zhuniqi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2387, "favorite_count": 0, "accepted_answer_id": 55261468, "answer_count": 1, "score": 1, "last_activity_date": 1553091189, "creation_date": 1553081843, "question_id": 55259872, "link": "https://stackoverflow.com/questions/55259872/how-to-translate-enums-at-angular-6", "title": "How to translate enums at angular 6", "body": "<p>I am trying to translate the enums at the Angular but the problem it is that I don't know how to translate them.\nI can read them, I can show in a dropdown but not to translate.</p>\n\n<p>Below is my code</p>\n\n<pre><code>export enum test {\n test1 = '1 - do something',\n test2 = '2 - do anything',\n}\n</code></pre>\n\n<p>I read the data something like this</p>\n\n<pre><code>public getEnum: any = {};\n\npublic ngOnInit(): void {\nObject.values(test).map(a: string) =&gt; {\n\nconst id = a.substr(0, 5);\nthis.getEnum[id] = a;\n}\n</code></pre>\n\n<p>And in the html I have something like this</p>\n\n<pre><code> [options]=\"getEnum\"\n</code></pre>\n\n<p>The translate is something like this.</p>\n\n<pre><code>\"dropdown\": {\n  \"doSomething\": {\n    \"test1\": \"1 - do something\"\n   }\n}\n</code></pre>\n"}, {"tags": ["angular", "typescript", "formio"], "comments": [{"owner": {"reputation": 1425, "user_id": 5041973, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a74d15de9e0a9d237fcf5104246bfc13?s=128&d=identicon&r=PG&f=1", "display_name": "ukn", "link": "https://stackoverflow.com/users/5041973/ukn"}, "edited": false, "score": 0, "creation_date": 1553087756, "post_id": 55259849, "comment_id": 97254623, "body": "What exactly are you trying to do?"}, {"owner": {"reputation": 229, "user_id": 10776598, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-EqclCl2CX5I/AAAAAAAAAAI/AAAAAAAAAAA/AGDgw-hnqbJVEXoUom3N1puWYYQ2U3sY9Q/mo/photo.jpg?sz=128", "display_name": "Rajan Bosh", "link": "https://stackoverflow.com/users/10776598/rajan-bosh"}, "reply_to_user": {"reputation": 1425, "user_id": 5041973, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a74d15de9e0a9d237fcf5104246bfc13?s=128&d=identicon&r=PG&f=1", "display_name": "ukn", "link": "https://stackoverflow.com/users/5041973/ukn"}, "edited": false, "score": 1, "creation_date": 1553089519, "post_id": 55259849, "comment_id": 97255762, "body": "I created one custom formio select component,and i have to give some predifined data that user cannot change and it for read only.For this i had given some fields like &#39;dataPath&#39; , dataSrc.Same this in the formio select component there is one field called key and value in data property,i have to set that fields also predifined and when i open formio and if i go to select component  there must be predefined data will present like   placeholder-Select Address , limit - 100 , dataPath-hello"}], "answers": [{"tags": [], "owner": {"reputation": 187, "user_id": 2082660, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/slYVN.png?s=128&g=1", "display_name": "scavenger", "link": "https://stackoverflow.com/users/2082660/scavenger"}, "is_accepted": false, "score": 0, "last_activity_date": 1606326680, "creation_date": 1606326680, "answer_id": 65010187, "question_id": 55259849, "link": "https://stackoverflow.com/questions/55259849/what-is-json-data-for-key-and-value-property-in-formio-select-component/65010187#65010187", "title": "What is JSON data for key and value property in formio select component", "body": "<p>yes add this at the same level than label/type/key etc:</p>\n<pre><code>&quot;data&quot;: {\n  &quot;values&quot;: [\n    {\n      &quot;label&quot;: &quot;label&quot;,\n      &quot;value&quot;: &quot;the value\n    },\n    ...\n  ]\n},\n</code></pre>\n"}], "owner": {"reputation": 229, "user_id": 10776598, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-EqclCl2CX5I/AAAAAAAAAAI/AAAAAAAAAAA/AGDgw-hnqbJVEXoUom3N1puWYYQ2U3sY9Q/mo/photo.jpg?sz=128", "display_name": "Rajan Bosh", "link": "https://stackoverflow.com/users/10776598/rajan-bosh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 537, "favorite_count": 1, "answer_count": 1, "score": 1, "last_activity_date": 1606326680, "creation_date": 1553081778, "last_edit_date": 1553088891, "question_id": 55259849, "link": "https://stackoverflow.com/questions/55259849/what-is-json-data-for-key-and-value-property-in-formio-select-component", "title": "What is JSON data for key and value property in formio select component", "body": "<p>I'm adding static values through JSON on Select Component.Here are some properties  ..</p>\n\n<pre><code> components: {\n     address: {\n         title: 'Address',\n         key: 'address',\n         icon: 'fa fa-th-list',\n         schema: {\n             label: 'Address',\n             type: 'select',\n             placeholder: 'Select Address',\n             key: 'address', \n             dataPath:'hello',\n             data:{\n                 url: https://cdn.rawgit.com/mshafrir/2646763/raw/states_titlecase.json',\n             },\n             limit: 100,\n             dataSrc: 'url',\n         }\n     }\n }\n</code></pre>\n\n<p>like the same I have to define key and value property here, is there any property names for that?</p>\n"}, {"tags": ["reactjs", "typescript", "react-props", "high-order-component"], "comments": [{"owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "edited": false, "score": 0, "creation_date": 1553082328, "post_id": 55259753, "comment_id": 97251193, "body": "What versions are you using? I just installed the definitions of <code>react-i18next</code> (<code>&quot;@types&#47;react&quot;: &quot;^16.8.8&quot;,     &quot;i18next&quot;: &quot;^15.0.7&quot;,     &quot;react&quot;: &quot;^16.8.4&quot;,     &quot;react-i18next&quot;: &quot;^10.5.2&quot;</code>) and it works as expected (<code>t</code> is not required)"}, {"owner": {"reputation": 40886, "user_id": 64750, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/1b3d2f05d99c73877467400933d5269b?s=128&d=identicon&r=PG", "display_name": "moribvndvs", "link": "https://stackoverflow.com/users/64750/moribvndvs"}, "reply_to_user": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "edited": false, "score": 0, "creation_date": 1553082656, "post_id": 55259753, "comment_id": 97251416, "body": "@TitianCernicova-Dragomir I&#39;m stuck on the latest react-i18next@9 because I&#39;m using next-i18next to integrate with NextJS  and they don&#39;t support 10 yet. However, I&#39;ve run into the same problem using other HOCs, for example Material-UI&#39;s <code>withStyles</code>."}], "owner": {"reputation": 40886, "user_id": 64750, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/1b3d2f05d99c73877467400933d5269b?s=128&d=identicon&r=PG", "display_name": "moribvndvs", "link": "https://stackoverflow.com/users/64750/moribvndvs"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 319, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1553081517, "creation_date": 1553081517, "question_id": 55259753, "link": "https://stackoverflow.com/questions/55259753/type-safe-handling-of-functional-component-props-injected-by-an-hoc", "title": "Type safe handling of functional component props injected by an HOC", "body": "<p><strong>TL;DNR:</strong> I'm using TypeScript 3.3.3. Is there a better way to declare props I need that are injected from an HOC, without making them visible to code consuming my component?</p>\n\n<hr>\n\n<p>Consider a basic component that is decorated with the <code>withNamespaces</code> HOC. The library and HOC used is arbitrary, I've run into this problem with any components that follow this pattern. It's also a bit of a problem with class components, but I'll focus on functions here.</p>\n\n<pre><code>// MyComponent.tsx\nimport * as React from 'react'\nimport { withNamespaces, WithNamespaces } from 'react-i18next'\n\n\nconst MyComponent: React.FunctionalComponent = ({ children, t }) =&gt; (\n  &lt;a title={t('my translated text')}&gt;{children}&lt;/a&gt;\n)\n\nexport default withNamespaces('my-component')(MyComponent)\n</code></pre>\n\n<p>I've got a second file that contains tests for my component.</p>\n\n<pre><code>// MyComponent.spec.tsx\nimport * as React from 'react'\nimport { shallow } from 'enzyme'\nimport MyComponent from './MyComponent'\n\nit('should render', () =&gt; {\n   const wrapper = shallow(&lt;MyComponent&gt;Test&lt;/MyComponent&gt;)\n\n   expect(wrapper.toExist()).toBeTruthy()\n})\n</code></pre>\n\n<p>Now this won't compile because <code>t</code> is not defined in my props. I can try fixing this a number of ways. In this example, the third-party library gives us a <code>WithNamespaces</code> type that defines <code>t</code>, and a bunch of other things that <code>withNamespaces</code> injects into our component, which we can use as or merge with our props type definition.</p>\n\n<pre><code> const MyComponent: React.FunctionalComponent&lt;WithNamespaces&gt; = ({children, t}) =&gt; ( // ...\n</code></pre>\n\n<p>Now <code>MyComponent</code> compiles and gives me nice type safety as to my possible props. However, now my test file is angry because I haven't provided values for props the component definition expects, for example <code>t</code>. However, we know this is going to get injected by the HOC, so creating a mock or providing this prop with a value of some garbage is just confusing and unnecessary extra work to fix type problems.</p>\n\n<pre><code>// type is missing the following properties from WithNamespaces: t, etc., etc.\nconst wrapper = shallow(&lt;MyComponent&gt;Test&lt;/MyComponent&gt;)\n</code></pre>\n\n<p>I can fudge that by making my component's props partial ala <code>FunctionalComponent&lt;Partial&lt;WithNamespaces&gt;&gt;</code>, but now I've got to conditionally check those props I need or use <code>t!</code> (not-null assertion operator), and these seem unnecessarily annoying, melts the brains of people new to TS, and seems a little smelly.</p>\n\n<p>I can also just cast the props inside my render function (or in classes, any method that is accessing props) to hide the injected props from my consumers:</p>\n\n<pre><code>const MyComponent: React.FunctionalComponent = (props) =&gt; {\n  const { children, t } = props as WithNamespaces\n  return (\n    &lt;a title={t('my translated text')}&gt;{children}&lt;/a&gt;\n  )\n}\n</code></pre>\n\n<p>This is a little handwavy and inelegant, though. There are a multitude of other ways, like casting to any and back to something that doesn't reference WithNamespaces, etc., but surely there's a better way to do this?</p>\n\n<p><strong>Misc</strong></p>\n\n<p><code>withNamespace</code> does have a definition that uses the <a href=\"https://dev.to/busypeoples/notes-on-typescript-pick-exclude-and-higher-order-components-40cp\" rel=\"nofollow noreferrer\"><code>Omit</code> pattern</a> to exclude the props in <code>WithNamespaces</code> from the returned type, but that doesn't seem to be working, at least with functional components.</p>\n"}, {"tags": ["angular", "typescript"], "answers": [{"tags": [], "owner": {"reputation": 186, "user_id": 10522711, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-kG2trv73D24/AAAAAAAAAAI/AAAAAAAAAAA/AAN31DXShUmFdCXsVVCHlLq0HDXXT8kR4A/mo/photo.jpg?sz=128", "display_name": "Rico Koldi", "link": "https://stackoverflow.com/users/10522711/rico-koldi"}, "is_accepted": false, "score": 0, "last_activity_date": 1553083803, "creation_date": 1553083803, "answer_id": 55260460, "question_id": 55259650, "link": "https://stackoverflow.com/questions/55259650/how-to-hide-kendo-grid-header-label-angular-4-6-7/55260460#55260460", "title": "How to hide kendo grid header label angular 4/6/7?", "body": "<p>You can hide the whole header row of the grid with CSS. Hope this helps.</p>\n\n<pre><code>&lt;style&gt;\n    .k-grid-header{\n      display: none;\n    }\n&lt;/style&gt;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 2407, "user_id": 3678157, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/x3whF.jpg?s=128&g=1", "display_name": "Chanaka Amarasinghe", "link": "https://stackoverflow.com/users/3678157/chanaka-amarasinghe"}, "is_accepted": true, "score": 0, "last_activity_date": 1553153016, "creation_date": 1553153016, "answer_id": 55275482, "question_id": 55259650, "link": "https://stackoverflow.com/questions/55259650/how-to-hide-kendo-grid-header-label-angular-4-6-7/55275482#55275482", "title": "How to hide kendo grid header label angular 4/6/7?", "body": "<p>This one easy to hide header labels. CSS classes sometimes not working</p>\n\n<pre><code>            &lt;kendo-grid-column width=\"40\"&gt;\n              &lt;ng-template kendoGridCellTemplate let-dataItem=\"dataItem\"&gt;\n                &lt;a&gt;{{dataItem.fileName}}&lt;/a&gt;\n              &lt;/ng-template&gt;\n            &lt;/kendo-grid-column&gt;\n</code></pre>\n"}], "owner": {"reputation": 2407, "user_id": 3678157, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/x3whF.jpg?s=128&g=1", "display_name": "Chanaka Amarasinghe", "link": "https://stackoverflow.com/users/3678157/chanaka-amarasinghe"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 326, "favorite_count": 0, "accepted_answer_id": 55275482, "answer_count": 2, "score": 0, "last_activity_date": 1553153016, "creation_date": 1553081103, "question_id": 55259650, "link": "https://stackoverflow.com/questions/55259650/how-to-hide-kendo-grid-header-label-angular-4-6-7", "title": "How to hide kendo grid header label angular 4/6/7?", "body": "<p>This is is my kendo grid code </p>\n\n<pre><code>      &lt;kendo-grid [data]=\"fileDetails\" [selectable]=\"{enabled: true, checkboxOnly: true}\" (selectionChange)=\"checkboxSelectionChange($event)\"&gt;\n            &lt;kendo-grid-checkbox-column class=\"text-center\" width=\"5\"&gt;\n            &lt;/kendo-grid-checkbox-column&gt;\n            &lt;kendo-grid-column field=\"fileName\" width=\"40\"&gt;\n            &lt;/kendo-grid-column&gt;\n      &lt;/kendo-grid&gt;\n</code></pre>\n\n<p>I need this fileName column. But without header label. It always shows header as fileName</p>\n"}, {"tags": ["javascript", "typescript", "mocha.js", "babeljs", "commonjs"], "comments": [{"owner": {"reputation": 17982, "user_id": 3689450, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SXuSR.png?s=128&g=1", "display_name": "VLAZ", "link": "https://stackoverflow.com/users/3689450/vlaz"}, "edited": false, "score": 0, "creation_date": 1553080917, "post_id": 55259306, "comment_id": 97250354, "body": "<code>import { getRandomConfig }</code> aren&#39;t you exporting a single function not an object?"}, {"owner": {"reputation": 41, "user_id": 11231487, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-2coOwMAslQ0/AAAAAAAAAAI/AAAAAAAAADM/xT4R1a1geqI/photo.jpg?sz=128", "display_name": "Edgar Passos", "link": "https://stackoverflow.com/users/11231487/edgar-passos"}, "reply_to_user": {"reputation": 17982, "user_id": 3689450, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SXuSR.png?s=128&g=1", "display_name": "VLAZ", "link": "https://stackoverflow.com/users/3689450/vlaz"}, "edited": false, "score": 0, "creation_date": 1553081344, "post_id": 55259306, "comment_id": 97250610, "body": "There are other functions being exported in the same file (<code>componentConfigMocks.ts</code>). If I&#39;m not mistaken, this - <code>import { foo } from ...</code> - is the way to import an export that is not <code>default</code>, whether it is an object or not."}], "answers": [{"tags": [], "owner": {"reputation": 41, "user_id": 11231487, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-2coOwMAslQ0/AAAAAAAAAAI/AAAAAAAAADM/xT4R1a1geqI/photo.jpg?sz=128", "display_name": "Edgar Passos", "link": "https://stackoverflow.com/users/11231487/edgar-passos"}, "is_accepted": true, "score": 4, "last_activity_date": 1553090244, "creation_date": 1553090244, "answer_id": 55262466, "question_id": 55259306, "link": "https://stackoverflow.com/questions/55259306/exported-function-is-undefined/55262466#55262466", "title": "Exported function is undefined", "body": "<p>I found out I have a circular dependency. That's why this was not working.</p>\n"}], "owner": {"reputation": 41, "user_id": 11231487, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-2coOwMAslQ0/AAAAAAAAAAI/AAAAAAAAADM/xT4R1a1geqI/photo.jpg?sz=128", "display_name": "Edgar Passos", "link": "https://stackoverflow.com/users/11231487/edgar-passos"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 685, "favorite_count": 0, "accepted_answer_id": 55262466, "answer_count": 1, "score": 0, "last_activity_date": 1553090244, "creation_date": 1553080071, "last_edit_date": 1553084295, "question_id": 55259306, "link": "https://stackoverflow.com/questions/55259306/exported-function-is-undefined", "title": "Exported function is undefined", "body": "<p>I'm facing an issue with my Mocha tests in Typescript, I fear it is related to Babel, but I am really not sure what's happening.</p>\n\n<p>Essentially, I have a function that is being exported in a file</p>\n\n<pre><code>// src/my-ts-lib/tests/components/factoryMocks/componentConfigMocks.ts\n\n...\n\nexport function getRandomConfig(type?: string): ComponentConfig {\n  const randomComponentType = type || randomType();\n  return {\n    type: randomComponentType,\n    config: configLibrary[randomComponentType]\n  }\n}\n</code></pre>\n\n<p>And being imported in another, which is being called by a test:</p>\n\n<pre><code>// src/my-ts-lib/tests/components/RouteComponent/mocks/routeMocks.ts\n\n...\n\nimport { getRandomConfig } from '../../factoryMocks/componentConfigMocks';\n\n..\n\nexport const getSingleRouteConfigMock = (componentType?: string): RouteProps =&gt; {\n  const defaultComponentType = 'PageLayout';\n  return {\n    childComponent: {\n      type: componentType || defaultComponentType,\n      config: getRandomConfig(componentType || defaultComponentType)\n    },\n    pageName: randomString(),\n    path: randomString(),\n  };\n};\n\n...\n</code></pre>\n\n<p>When running the tests, I get the following error:</p>\n\n<pre><code>RouteCompnent/mocks/routeMocks.ts:10\n      config: getRandomConfig(componentType || defaultComponentType),\n                                           ^\nTypeError: componentConfigMocks_1.getRandomConfig is not a function\n    at Object.exports.getSingleRouteConfigMock (/Users/.../routeMocks.ts:10:44)\n</code></pre>\n\n<p>If I comment the call and <code>console.log(getRandomConfig)</code> I can see that it is <code>undefined</code>. I do not know why this is happening. What's even weirder is that, in subsequent tests that call <code>getSingleRouteConfigMock</code>, this same <code>console.log</code> correctly outputs the function, meaning that it has been exported then.</p>\n\n<p>I've fiddled around with Babel, Mocha, and Typescript configs but have had no success.</p>\n\n<p>Here's the Babel config:</p>\n\n<pre><code>.babelrc\n\n{\n  \"presets\": [\"@babel/preset-env\", \"@babel/preset-react\"]\n}\n</code></pre>\n\n<p>The Mocha config:</p>\n\n<pre><code>mocha.opts\n\n--require ts-node/register\n--watch-extensions ts tsx\n--require source-map-support/register\n--recursive\n--require @babel/register\n--require @babel/polyfill\nsrc/**/*.spec.**\n</code></pre>\n\n<p>And the Typescript config:</p>\n\n<pre><code>tsconfig.json\n\n{\n   \"compilerOptions\": {\n     \"outDir\": \"./dist/\",\n     \"sourceMap\": true,\n     \"noImplicitAny\": false,\n     \"module\": \"commonjs\",\n     \"target\": \"es6\",\n     \"jsx\": \"react\"\n   },\n   \"include\": [\n     \"./src/**/*\"\n   ],\n   \"exclude\": [\n     \"./src/**/*.spec.ts\",\n     \"./src/my-ts-lib/components/**/*.spec.tsx\",\n     \"./src/my-ts-lib/test-helpers/*\"\n   ],\n }\n</code></pre>\n\n<p>And the relevant sections of the <code>package.json</code></p>\n\n<pre><code>...\n\"dependencies\": {\n  ...\n  \"@babel/polyfill\": \"7.2.x\",\n  ...\n},\n\"devDependencies\": {\n  \"@babel/core\": \"7.2.x\",\n  \"@babel/preset-env\": \"7.2.x\",\n  \"@babel/preset-react\": \"7.0.x\",\n  \"@babel/register\": \"7.0.x\",\n  \"babel-loader\": \"8.x\",\n  \"mocha\": \"3.2.x\",\n  ...\n}\n</code></pre>\n"}, {"tags": ["angular", "typescript", "service", "populate"], "answers": [{"tags": [], "owner": {"reputation": 17, "user_id": 3811645, "user_type": "registered", "profile_image": "https://graph.facebook.com/100000644671258/picture?type=large", "display_name": "Antaka", "link": "https://stackoverflow.com/users/3811645/antaka"}, "is_accepted": false, "score": 0, "last_activity_date": 1553081595, "creation_date": 1553081595, "answer_id": 55259787, "question_id": 55259270, "link": "https://stackoverflow.com/questions/55259270/angular-populate-a-list-from-a-filejson-xml-csv/55259787#55259787", "title": "Angular -Populate a list from a file(JSON/XML/CSV)", "body": "<p>Maybe you can build an <code>HttpInterceptor</code> and check for content type so you can provide a different parse of the response ? Check this answer as it may help you : <a href=\"https://stackoverflow.com/a/51491994/3811645\">https://stackoverflow.com/a/51491994/3811645</a></p>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user10557161"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 112, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1553081595, "creation_date": 1553079955, "question_id": 55259270, "link": "https://stackoverflow.com/questions/55259270/angular-populate-a-list-from-a-filejson-xml-csv", "title": "Angular -Populate a list from a file(JSON/XML/CSV)", "body": "<p>Context: Trying to build a CRUD app that reads a file from a given input field and then populates a list.</p>\n\n<p>What I've done so far:</p>\n\n<p>-service(products.service.ts):</p>\n\n<pre><code> @Injectable({\n  providedIn: 'root'\n})\nexport class ProductService {\n\n  constructor(private http : HttpClient) { }\n\n  private productsUrl= 'api/products';\n\n  private handleError&lt;T&gt;(operation ='operation', result?: T){\n    return (error: any): Observable&lt;T&gt; =&gt;{\n      console.log(error,'Operation : ${operation}');\n      return of (result as T);\n    }\n  }      \n  updateProduct(product: Product): Observable&lt;any&gt;{\n      return this.http.put(this.productsUrl,product,httpOptions)\n        .pipe(\n          tap(_ =&gt; console.log(`Updated product of id ${product.id}!`)),\n          catchError(this.handleError&lt;any&gt;('updateProduct'))\n        )\n    }\n\n addProduct(product: Product): Observable&lt;Product&gt; {\n      return this.http.post&lt;Product&gt;(this.productsUrl, product, httpOptions).pipe(\n        tap((product: Product) =&gt; console.log(`Added product with id ${product.id}!`)),\n        catchError(this.handleError&lt;Product&gt;('addProduct'))\n      );\n    }\n  (....)\n}\n</code></pre>\n\n<p>I used in-memory-service-web-api to simulate a web api that has been used in my products.service.ts</p>\n\n<p>Next up,comes the class that uses this service:</p>\n\n<pre><code>@Component({\n  selector: 'app-products',\n  templateUrl: './products.component.html',\n  styleUrls: ['./products.component.css']\n})\nexport class ProductsComponent implements OnInit {\n\n  products : Product[] ;\n\n  selectedProduct :  Product;\n  constructor(private productService : ProductService) { }\n\n  onSelectProduct(product){\n    this.selectedProduct = product;\n    this.productService.getProduct(2)\n      .subscribe(product =&gt;console.log(product));\n  }\n\n  ngOnInit() {\n    this.getProducts();\n  }\n  save(product): void {\n    this.productService.updateProduct(product)\n      .subscribe(()=&gt;console.log('Product saved!'))\n  }\n  add(name : string, price: number) : void {\n    this.productService.addProduct({name,price} as Product)\n      .subscribe(product =&gt;{\n        this.products.push(product);\n      });\n  }\n(...)\n    }\n</code></pre>\n\n<p>Also ,the template associated with that class: </p>\n\n<pre><code>(...)\n&lt;ul&gt;\n    &lt;li \n    class=\"product\" \n    [class.selected]=\"selectedProduct &amp;&amp; selectedProduct.name === product.name\"\n    *ngFor=\"let product of products\"\n    &gt;\n        &lt;input type=\"text\" pInputText [(ngModel)]=\"product.name\"/&gt;\n        &lt;div (click)=\"onSelectProduct(product)\"&gt;Name : {{product.name }}&lt;/div&gt;\n        &lt;div&gt;ID : {{product.id }}&lt;/div&gt;\n        &lt;div&gt;Price : {{product.price }}&lt;/div&gt;\n        &lt;button (click)=\"save(product)\" pButton type=\"button\" label=\"Save\" class=\"ui-button-success\"&gt;&lt;/button&gt;\n        &lt;button (click)=\"delete(product.id)\" pButton type=\"button\" label=\"Delete\" class=\"ui-button-raised ui-button-danger\"&gt;&lt;/button&gt;\n    &lt;/li&gt;\n  &lt;/ul&gt;\n(...)\n</code></pre>\n\n<p>As the title suggests ,I am trying to read from a file that can be of any format (not only JSON) and populate my list .How should I do this? I am trying to learn Angular and I'm stuck.</p>\n"}, {"tags": ["typescript", "function-binding"], "answers": [{"tags": [], "owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "is_accepted": true, "score": 3, "last_activity_date": 1553080109, "creation_date": 1553080109, "answer_id": 55259322, "question_id": 55259033, "link": "https://stackoverflow.com/questions/55259033/enforce-typings-when-using-bind/55259322#55259322", "title": "Enforce typings when using bind", "body": "<p>There is compiler option in <code>3.2</code> and newer, called <code>strictBindCallApply</code> documented <a href=\"https://github.com/Microsoft/TypeScript/pull/27028\" rel=\"nofollow noreferrer\">here</a>. You can also just enable <code>strict</code> which also enables <code>strictBindCallApply</code></p>\n\n<p>With this option active you will get an error on this line:</p>\n\n<pre><code>const bound = doSomethingWithValue.bind(null, 'a');\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "edited": false, "score": 0, "creation_date": 1553080198, "post_id": 55259327, "comment_id": 97249956, "body": "The issue is marked as fixed and references the PR I reference in my answer. It is now possible since 3.2 (Please delete the answer as is factually incorrect)"}], "tags": [], "owner": {"reputation": 7026, "user_id": 7141073, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7b0f2e16c86753e559fdd61cce2051b1?s=128&d=identicon&r=PG&f=1", "display_name": "Fyodor", "link": "https://stackoverflow.com/users/7141073/fyodor"}, "is_accepted": false, "score": -2, "last_activity_date": 1553080121, "creation_date": 1553080121, "answer_id": 55259327, "question_id": 55259033, "link": "https://stackoverflow.com/questions/55259033/enforce-typings-when-using-bind/55259327#55259327", "title": "Enforce typings when using bind", "body": "<p>You may look at <a href=\"https://github.com/Microsoft/TypeScript/issues/212\" rel=\"nofollow noreferrer\">https://github.com/Microsoft/TypeScript/issues/212</a></p>\n\n<p>Seems that even MS doesn't know how to make bind, call and apply strongly typed</p>\n"}], "owner": {"reputation": 29839, "user_id": 487813, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/lU5if.jpg?s=128&g=1", "display_name": "apokryfos", "link": "https://stackoverflow.com/users/487813/apokryfos"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 79, "favorite_count": 0, "accepted_answer_id": 55259322, "answer_count": 2, "score": 1, "last_activity_date": 1553080121, "creation_date": 1553079148, "last_edit_date": 1553079585, "question_id": 55259033, "link": "https://stackoverflow.com/questions/55259033/enforce-typings-when-using-bind", "title": "Enforce typings when using bind", "body": "<p>I'm trying to create a bound version of a function which has its arguments pre-set however I am unable to get any sort of type checks on the <code>bind</code> method.</p>\n\n<p>Here's my code:</p>\n\n<pre><code>interface I {\n  a: string;\n  b: string;\n}\n\nfunction doSomethingWithValue(value: I) {\n  // Do something\n}\n\nconst ivalue: I = { a: 'a', b: 'b' };\n\n// No error as expected.\ndoSomethingWithValue(ivalue);\n\n//\"Argument of type '\"a\"' is not assignable to parameter of type 'I'\" as expected.\ndoSomethingWithValue('a');\n\n// No error. Not what I expected\nconst bound = doSomethingWithValue.bind(null, 'a');\n\n// Will fail\nbound();\n</code></pre>\n\n<p>It seems that currently the TypeScript signature of <code>bind</code> is </p>\n\n<pre><code>bind(this: Function, thisArg: any, ...argArray: any[]): any;\n</code></pre>\n\n<p>Is there any way I could get types checks to work correctly with <code>bind</code>? </p>\n\n<p>I've tried creating an <code>index.d.ts</code> but I am stuck on how to declare function parameters as a generic.</p>\n"}, {"tags": ["typescript", "inheritance", "reflection", "abstract-class"], "comments": [{"owner": {"reputation": 442, "user_id": 10395209, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rmdQp.jpg?s=128&g=1", "display_name": "Harry Stylesheet", "link": "https://stackoverflow.com/users/10395209/harry-stylesheet"}, "edited": false, "score": 0, "creation_date": 1553079799, "post_id": 55258993, "comment_id": 97249704, "body": "Btw, what code editor are you using? I am using VSCode and if I copy your code inside my editor than a lot of errors come up wich can be easily fixed."}], "answers": [{"tags": [], "owner": {"reputation": 442, "user_id": 10395209, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rmdQp.jpg?s=128&g=1", "display_name": "Harry Stylesheet", "link": "https://stackoverflow.com/users/10395209/harry-stylesheet"}, "is_accepted": false, "score": 0, "last_activity_date": 1553080276, "last_edit_date": 1553080276, "creation_date": 1553079719, "answer_id": 55259197, "question_id": 55258993, "link": "https://stackoverflow.com/questions/55258993/typescript-get-properties-of-extending-class-from-parent-class/55259197#55259197", "title": "Typescript: Get properties of extending class from parent class", "body": "<p>I have improved your code a bit, the thing what you missed was the lack of a <code>super()</code>, this states that the child class inherrits all the properties from its parent class. Also the attributes in the parrent class need to be marked as abstract, or they need to be implemented in the parrent class. </p>\n\n<pre><code>abstract class Parent {\nabstract id: string;\n\n abstract logProps(): Parent; // make abstract or implement here\n}\n\nclass Child extends Parent {\n    id: string;\n    name: string;\n\n    constructor(name: string) {\n       super();\n       this.id = \"\"//some initial value\n       this.name = name;\n  }\n\n    logProps(): Parent {\n       return this;\n    }\n} \n\nconst child = new Child(\"Daniel\");\nchild.logProps();\n</code></pre>\n\n<p>I have chosen to make all properties abstract, you might also remove the <code>abstract</code> keyword and implement the method in the parent class.</p>\n\n<p><strong>EDIT</strong></p>\n\n<p>I have another implementation, you can define the method in the parrent class and simply log <code>this</code>, this will contain all properties. </p>\n\n<pre><code>abstract class Parent {\n\nid: string = \"DEFAULT VALUE\";\n\nlogProps() {\n    console.log(this); // Using this, this contains all properties\n }\n}\n\nclass Child extends Parent {\n\nname: string;\n\nconstructor(name: string) {\n    super();\n    this.name = name;\n }\n}\n\nconst child = new Child(\"Daniel\");\nchild.logProps(); \n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1446, "user_id": 1930817, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/66Aja.jpg?s=128&g=1", "display_name": "guzmonne", "link": "https://stackoverflow.com/users/1930817/guzmonne"}, "edited": false, "score": 1, "creation_date": 1566229605, "post_id": 57559874, "comment_id": 101581785, "body": "You should try to explain a little on how this solved the question of the OP."}], "tags": [], "owner": {"reputation": 1, "user_id": 4818031, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dad742160fc45ad1d9cf127b467425e9?s=128&d=identicon&r=PG&f=1", "display_name": "simplyVlad", "link": "https://stackoverflow.com/users/4818031/simplyvlad"}, "is_accepted": false, "score": 0, "last_activity_date": 1566228944, "creation_date": 1566228944, "answer_id": 57559874, "question_id": 55258993, "link": "https://stackoverflow.com/questions/55258993/typescript-get-properties-of-extending-class-from-parent-class/57559874#57559874", "title": "Typescript: Get properties of extending class from parent class", "body": "<pre><code>abstract class Parent {\n  constructor(public id?: string) {}\n  logProps() {\n      console.log(Object.keys(this));\n    }\n}\n\nclass Child extends Parent {    \n  constructor(public id?: string, public name?: string) {\n    super(id);\n  }\n}\n\nconst child = Child('01', \"Daniel\");\nchild.logProps(); \n</code></pre>\n"}], "owner": {"reputation": 8590, "user_id": 1348596, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/bfd67447bded12f9006d99866d2f0269?s=128&d=identicon&r=PG", "display_name": "danielrvt", "link": "https://stackoverflow.com/users/1348596/danielrvt"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 2232, "favorite_count": 0, "answer_count": 2, "score": 2, "last_activity_date": 1581314236, "creation_date": 1553079055, "last_edit_date": 1581314236, "question_id": 55258993, "link": "https://stackoverflow.com/questions/55258993/typescript-get-properties-of-extending-class-from-parent-class", "title": "Typescript: Get properties of extending class from parent class", "body": "<p>How can I get properties of a child class in an abstract class's method?</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>abstract class Parent {\n  id: string;\n\n  logProps() {\n    // HOW can I log all properties of a child class\n    // and their values? For example, the name.\n  }\n}\n\nclass Child extends Parent {\n  name: string;\n\n  constructor(name) {\n    super();\n    this.name = name;\n  }\n}\n\nconst child = new Child(\"Daniel\");\nchild.logProps();\n</code></pre>\n"}, {"tags": ["typescript", "ionic3", "angular-promise"], "comments": [{"owner": {"reputation": 765, "user_id": 5735893, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e1a9602dcf18b974965534743c0fe421?s=128&d=identicon&r=PG&f=1", "display_name": "Prabhashi Buddhima", "link": "https://stackoverflow.com/users/5735893/prabhashi-buddhima"}, "edited": false, "score": 0, "creation_date": 1573966820, "post_id": 55258800, "comment_id": 104059687, "body": "hi, do u solve the issue? I&#39;m having the same problem"}], "answers": [{"tags": [], "owner": {"reputation": 823, "user_id": 6699414, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/7e32082597c5678a976d298d91eba29e?s=128&d=identicon&r=PG&f=1", "display_name": "PhoenixBlue", "link": "https://stackoverflow.com/users/6699414/phoenixblue"}, "is_accepted": false, "score": 0, "last_activity_date": 1574062670, "creation_date": 1574062670, "answer_id": 58909892, "question_id": 55258800, "link": "https://stackoverflow.com/questions/55258800/ionic-uncaughtin-promiseobjectobject/58909892#58909892", "title": "ionic uncaught(in promise):[object:object]", "body": "<p>I just saw a comment by @kavindhi who apparently had the same problem.</p>\n\n<p>I switched my impleemntation to a new method, creating an array of <code>Promises</code> to be executed at once. It then became like so:</p>\n\n<pre><code>createDatabase(){\n  return this.sqlite.create({ name: DbApi.dbName, location: DbApi.dbLocation }).then((db:SQLiteObject) =&gt; {\n    this.db = db;\n\n    let allQueries:any = [];\n    let settingQuery = ' INSERT OR IGNORE INTO ' + DbApi.tableSetting + ' ( ' +\n                        DbApi.colKeyS + ',' + DbApi.colValS + ') VALUES (?, ?) ;';\n\n    // Queries to populate table settings\n    allQueries.push({query: settingQuery,               arguments:[ DbApi.settingPassword,  '']});\n    allQueries.push({query: settingQuery,               arguments:[ DbApi.settingQuestion1, 'Q1']});\n    allQueries.push({query: settingQuery,               arguments:[ DbApi.settingQuestion2, 'Q2']});\n    allQueries.push({query: settingQuery,               arguments:[ DbApi.settingAnswer1,   '']});\n    allQueries.push({query: settingQuery,               arguments:[ DbApi.settingAnswer2,   '']});\n    allQueries.push({query: settingQuery,               arguments:[ DbApi.settingPageItems, '50']});\n    // Queries to create tables\n    allQueries.push({query: DbApi.createTableTrans,     arguments:[]});\n    allQueries.push({query: DbApi.createTableCat,       arguments:[]});\n    allQueries.push({query: DbApi.createTableCredit,    arguments:[]});\n    allQueries.push({query: DbApi.createTableAcc,       arguments:[]});\n    allQueries.push({query: DbApi.createTableSetting,   arguments:[]});\n    allQueries.push({query: DbApi.createTableCurr,      arguments:[]});\n    allQueries.push({query: DbApi.createTableTransCred, arguments:[]});\n\n    return this.executeTransaction(db, allQueries).then(res=&gt;{\n      return this.populateCurrencies(); // Populate currencies\n    }).catch(err=&gt;{\n      console.log('DB PRE-SETTINGS FAILED! ' + JSON.stringify(err));\n    });\n  });\n}\n</code></pre>\n\n<p>I think from my first implementation, I should have done something like</p>\n\n<pre><code>return this.populateCurrencies().then((res) =&gt; {\n     this.populateSettings();\n})\n</code></pre>\n\n<p>I hope this helps!.</p>\n"}], "owner": {"reputation": 823, "user_id": 6699414, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/7e32082597c5678a976d298d91eba29e?s=128&d=identicon&r=PG&f=1", "display_name": "PhoenixBlue", "link": "https://stackoverflow.com/users/6699414/phoenixblue"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 231, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1574062670, "creation_date": 1553078468, "question_id": 55258800, "link": "https://stackoverflow.com/questions/55258800/ionic-uncaughtin-promiseobjectobject", "title": "ionic uncaught(in promise):[object:object]", "body": "<p>I am trying to populate some tables when creating the database in Ionic v3.\nThere is a table for currencies, all currencies are saved in a JSON file. There is also a table for settings. I want to set all settings to their default values when creating the DB. So here is my code:</p>\n\n<pre><code>import { HttpClient } from '@angular/common/http';\nimport { Injectable } from '@angular/core';\nimport { SQLite, SQLiteObject } from '@ionic-native/sqlite';\nimport { ObjBkpr } from \"../../shared/ObjBkpr\";\n\n@Injectable()\nexport class DbApi {\n  public db: SQLiteObject;\n\n  static readonly dbName = 'ebookiper_a45fed6.db';\n  static readonly dbLocation = 'default';\n\n  currenciesURL = 'assets/files/currencies.json';\n  currenciesData:any;\n\n  constructor(public http: HttpClient, private sqlite: SQLite) {\n  }\n\n  /** CREATE DATABASE AND TABLES IF NOT EXIST. ALSO INSERT ALL CURRENCIES IN TABLE */\n  createDatabase(){\n    return this.sqlite.create({ name: DbApi.dbName, location: DbApi.dbLocation }).then((db:SQLiteObject) =&gt; {\n      this.db = db;\n        return this.db.executeSql(DbApi.createTableTrans, []).then(data =&gt; {\n          return this.db.executeSql(DbApi.createTableCat, []). then(data =&gt; {\n            return this.db.executeSql(DbApi.createTableCredit, []). then(data =&gt; {\n              return this.db.executeSql(DbApi.createTableAcc, []). then(data =&gt; {\n                return this.db.executeSql(DbApi.createTableSetting, []). then(data =&gt; {\n                  return this.db.executeSql(DbApi.createTableCurr, []). then(data =&gt; {\n                    this.populateCurrencies();\n                    this.populateSettings();\n                  });\n                });\n              });\n            });\n          });\n        });\n    });\n  }\n\n\n  populateCurrencies(){\n    // Find if there are already records in the table\n    let sqlQuery = ' SELECT COUNT(*) AS total FROM ' + DbApi.tableCurrency + ';';\n    return this.sqlite.create({ name: DbApi.dbName, location: DbApi.dbLocation }).then((db:SQLiteObject) =&gt; {\n      return db.executeSql(sqlQuery, []).then(data =&gt;{\n        if (data.rows.length &gt; 0) {\n          if(data.rows.item(0).total == 0){\n            this.getCurrencies();\n          }\n        }\n      });\n    });\n  }\n\n  getCurrencies(){\n    this.http.get(this.currenciesURL)\n      .map(res =&gt; {\n        this.currenciesData = res;\n        let total = this.currenciesData.length;\n        if( total &gt; 0){\n          for(var i=0; i&lt;total; i++){\n            let item = this.currenciesData[i];\n            let cur = new ObjBkpr();\n            cur.designation = item.Code;\n            cur.notes = item.Country + ' [' + item.Currency + '] ';\n            this.insert(DbApi.tableCurrency, cur);\n          }\n        }\n      }).subscribe(data =&gt; {\n        // we've got back the raw data\n      });\n  }\n\n  populateSettings(){\n    // Find if there are already records in the table\n    let sqlQuery = ' SELECT COUNT(*) AS total FROM ' + DbApi.tableSetting + ';';\n    this.sqlite.create({ name: DbApi.dbName, location: DbApi.dbLocation }).then((db:SQLiteObject) =&gt; {\n      db.executeSql(sqlQuery, []).then(data =&gt;{\n        if (data.rows.length &gt; 0) {\n          if(data.rows.item(0).total == 0){\n            let defaultSettings = [ {key:DbApi.settingPassword,   value:''},\n                                    {key:DbApi.settingQuestion1,  value:''},\n                                    {key:DbApi.settingQuestion2,  value:''},\n                                    {key:DbApi.settingAnswer1,    value:''},\n                                    {key:DbApi.settingAnswer2,    value:''},\n                                    {key:DbApi.settingPageItems,  value:'50'}, ];\n            let nbItems = defaultSettings.length;\n            let setting = new ObjBkpr();\n            for(var i=0; i&lt;nbItems; i++){\n              setting.keyS   = defaultSettings[i].key;\n              setting.valueS = defaultSettings[i].value;\n              this.insert(DbApi.tableSetting, setting);\n            }\n          }\n        }\n      }).catch(e=&gt;{\n        console.log('POPULATE SETTINGS: ' + e.message);\n      });\n    });\n  }\n}\n</code></pre>\n\n<p>Notice the lines</p>\n\n<pre><code>this.populateCurrencies();\nthis.populateSettings();\n</code></pre>\n\n<p>The first one works fine. But the second gives me an error, <strong>Uncaught(in promise): [object: object]</strong>\nWhat is wrong with the code?\nHow do promises work when using the <code>.map()</code> or the <code>.then()</code>exactly</p>\n"}, {"tags": ["typescript", "redux", "react-redux", "middleware"], "answers": [{"tags": [], "owner": {"reputation": 2380, "user_id": 288096, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7aa1ac62349de7aebf7d43020c799dfe?s=128&d=identicon&r=PG", "display_name": "windmaomao", "link": "https://stackoverflow.com/users/288096/windmaomao"}, "is_accepted": true, "score": 1, "last_activity_date": 1553255060, "creation_date": 1553255060, "answer_id": 55298876, "question_id": 55258370, "link": "https://stackoverflow.com/questions/55258370/creating-react-middleware-that-listens-for-errors-on-all-actions/55298876#55298876", "title": "Creating React middleware that listens for errors on all actions", "body": "<p>I wrote a apiMiddleware recently, so here is the simplified version. What you want is to grab the error when there's an API issue and then dispatch an error action <code>{ type: errorType }</code>. Then you need a reducer to process these changes. </p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>export default function createApiMiddleware(axios) {\r\n  return ({ getState }) =&gt; next =&gt; action =&gt; {\r\n    const api = action[CALL_API]\r\n    if (!api) {\r\n      return next(action)\r\n    }\r\n\r\n    const obj = {}\r\n    const { actionPrefix, types, method, host, url, onSuccess, ...props } = api\r\n    const prefix = actionPrefix || ''\r\n    const [startedType, successType, errorType] = types ? types : ACTION_KEYS.map(v =&gt; prefix + v)\r\n\r\n    next({ type: startedType })\r\n\r\n    obj.method = method || 'get'\r\n    obj.url = host ? (host + url) : url\r\n\r\n    const onSuccessOps = Object.assign({}, defaultOnSuccess, onSuccess)\r\n    const { responseBody } = onSuccessOps\r\n\r\n    const afterSuccess = (payload) =&gt; {\r\n      const { customActions } = onSuccessOps\r\n      customActions.forEach(type =&gt; {\r\n        next({ type, payload })\r\n      })      \r\n    }\r\n\r\n    return axios(\r\n      Object.assign(obj, { ...props })\r\n    ).then(res =&gt; {\r\n      const payload = responseBody(res)      \r\n      next({ type: successType, payload })\r\n      afterSuccess(payload)\r\n    }, err =&gt; {\r\n      next({ type: errorType, payload: err })\r\n    })\r\n  }\r\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>export default function createApiReducer(actionPrefix, options) {\r\n  const ops = Object.assign({}, defaultOptions, options)\r\n  const initialState = {\r\n    data: [],\r\n    isLoaded: false,\r\n    isLoading: ops.loadOnStart,\r\n    error: null,\r\n  }\r\n\r\n  return (state = initialState, action) =&gt; {\r\n    const custom = ops.customActions[action.type]\r\n    if (custom) {\r\n      return custom(state)\r\n    }\r\n\r\n    switch (action.type) {\r\n      case `${actionPrefix}Loading`:\r\n        return {\r\n          ...state,\r\n          isLoading: true,\r\n          error: null\r\n        }\r\n      case `${actionPrefix}Error`:\r\n        return {\r\n          ...state,\r\n          isLoading: false,\r\n          error: action.payload\r\n        }\r\n      case `${actionPrefix}Success`:\r\n        return {\r\n          ...state,\r\n          isLoading: false,\r\n          isLoaded: true,\r\n          error: null,\r\n          data: action.payload\r\n        }\r\n      default:\r\n        return state\r\n    }\r\n  }\r\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>Since you want a middleware, therefore I put it here as a reference, normally you would just want to dispatch couple of actions for one API in any redux text book. Hope this helps. </p>\n"}], "owner": {"reputation": 203, "user_id": 10468970, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kU6Va.png?s=128&g=1", "display_name": "Prozak", "link": "https://stackoverflow.com/users/10468970/prozak"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 228, "favorite_count": 0, "accepted_answer_id": 55298876, "answer_count": 1, "score": 0, "last_activity_date": 1553255060, "creation_date": 1553077127, "question_id": 55258370, "link": "https://stackoverflow.com/questions/55258370/creating-react-middleware-that-listens-for-errors-on-all-actions", "title": "Creating React middleware that listens for errors on all actions", "body": "<p>I am writing my first custom middleware and slightly clueless to what is going on. My objective is to check if any action receives a network error, if so console.log it.</p>\n\n<pre><code>import { Middleware, MiddlewareAPI, Dispatch, Action } from \"redux\"\n\nexport const logger: Middleware = &lt;S&gt;(api: MiddlewareAPI&lt;S&gt;) =&gt; (\n  next: Dispatch&lt;S&gt;\n) =&gt; &lt;A extends Action&gt;(action: A): A =&gt; {\n  console.log(\"Before\")\n  const result = next(action)\n  if (action.type.HTTPStatus) {\n    console.log(\"HERE IS AN ERROR\")\n  }\n\n  console.log(\"After\", api.getState())\n  return result\n}\n</code></pre>\n\n<p>The action.type.HTTPStatus does not work. I've been trying to filter the actions based on action.type but am not sure how to do it. It seems everything I attach to action.type.whatever doesn't break anything but doesn't do anything either. Here is an example of an API action. </p>\n\n<pre><code>export const getTelevisionChannels = (televisionIds: string[]) =&gt; async (\n  dispatch: Dispatch&lt;AppState&gt;\n) =&gt; {\n  try {\n    const response = await API.post(\n      \"/Channels/querys/status\",\n      { body: JSON.stringify({ televisionIds }) },\n      true,\n      dispatch\n    )\n    const televisionChannels = await response.json()\n    televisionChannels.map((televisionChannel: any) =&gt;\n      dispatch(\n        getChannelsSuccess(televisionChannel.televisionId, televisionChannel.channels)\n      )\n    )\n  } catch (err) {\n    dispatch(push(\"/404\"))\n    console.log(err)\n  }\n}\n</code></pre>\n\n<p>I do have a goal to deal with this error with a separate Dispatch component with its own reducer and action but first I need to be able to get this middleware working.</p>\n"}, {"tags": ["typescript", "webpack", "vue-cli", "vue-cli-3"], "answers": [{"comments": [{"owner": {"reputation": 347, "user_id": 10064387, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f08bc327061eed4e5286b56b8d1436ef?s=128&d=identicon&r=PG&f=1", "display_name": "filipe", "link": "https://stackoverflow.com/users/10064387/filipe"}, "edited": false, "score": 1, "creation_date": 1556024277, "post_id": 55810460, "comment_id": 98290319, "body": "Thanks for the tip. I no longer work at that same place so I can&#39;t check if your solution is the correct one, but it seems like it!"}], "tags": [], "owner": {"reputation": 9996, "user_id": 1063392, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/vS0UT.jpg?s=128&g=1", "display_name": "Nathan Friend", "link": "https://stackoverflow.com/users/1063392/nathan-friend"}, "is_accepted": true, "score": 21, "last_activity_date": 1556037668, "last_edit_date": 1556037668, "creation_date": 1556019783, "answer_id": 55810460, "question_id": 55258355, "link": "https://stackoverflow.com/questions/55258355/vue-clis-type-checking-service-ignores-memory-limits/55810460#55810460", "title": "Vue CLI&#39;s type checking service ignores memory limits", "body": "<p>I ran into the same issue (although in my case, I wanted to raise the memory limit instead of lower it).  I was able to modify the configuration of the <code>ForkTsCheckerWebpackPlugin</code> by customizing Vue CLI's built-in <code>webpack.config</code>:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>// in vue.config.js\n\nconst ForkTsCheckerWebpackPlugin = require('fork-ts-checker-webpack-plugin');\n\nmodule.exports = {\n  configureWebpack: config =&gt; {\n\n    // get a reference to the existing ForkTsCheckerWebpackPlugin\n    const existingForkTsChecker = config.plugins.filter(\n      p =&gt; p instanceof ForkTsCheckerWebpackPlugin,\n    )[0];\n\n    // remove the existing ForkTsCheckerWebpackPlugin\n    // so that we can replace it with our modified version\n    config.plugins = config.plugins.filter(\n      p =&gt; !(p instanceof ForkTsCheckerWebpackPlugin),\n    );\n\n    // copy the options from the original ForkTsCheckerWebpackPlugin\n    // instance and add the memoryLimit property\n    const forkTsCheckerOptions = existingForkTsChecker.options;\n    forkTsCheckerOptions.memoryLimit = 8192;\n\n    config.plugins.push(new ForkTsCheckerWebpackPlugin(forkTsCheckerOptions));\n  },\n};\n</code></pre>\n\n<p>Now when I run my build, I see this in my output:</p>\n\n<pre><code>-  Building for production...\nStarting type checking service...\nUsing 1 worker with 8192MB memory limit\n</code></pre>\n\n<p>More info on the <code>configureWebpack</code> option here: <a href=\"https://cli.vuejs.org/config/#configurewebpack\" rel=\"noreferrer\">https://cli.vuejs.org/config/#configurewebpack</a></p>\n\n<p>To see the default Webpack configuration used by the Vue CLI, you can inspect it by running <code>vue inspect</code>: \n<a href=\"https://cli.vuejs.org/guide/webpack.html#inspecting-the-project-s-webpack-config\" rel=\"noreferrer\">https://cli.vuejs.org/guide/webpack.html#inspecting-the-project-s-webpack-config</a></p>\n"}, {"comments": [{"owner": {"reputation": 89, "user_id": 1692823, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/15ac382ad54fdbfa943ad90068d287e1?s=128&d=identicon&r=PG&f=1", "display_name": "user1692823", "link": "https://stackoverflow.com/users/1692823/user1692823"}, "edited": false, "score": 3, "creation_date": 1561646882, "post_id": 56459132, "comment_id": 100141808, "body": "This solution worked for me. Just to be clear, this piece of code in my project was preceded by  <code>configureWebpack{},</code>"}], "tags": [], "owner": {"reputation": 121, "user_id": 9976171, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-8aurvUVxg6o/AAAAAAAAAAI/AAAAAAAAAAA/AB6qoq07j3NIrdoBLzQZ0ivg-EH5yeMyiw/mo/photo.jpg?sz=128", "display_name": "Style Left", "link": "https://stackoverflow.com/users/9976171/style-left"}, "is_accepted": false, "score": 11, "last_activity_date": 1604017846, "last_edit_date": 1604017846, "creation_date": 1559732344, "answer_id": 56459132, "question_id": 55258355, "link": "https://stackoverflow.com/questions/55258355/vue-clis-type-checking-service-ignores-memory-limits/56459132#56459132", "title": "Vue CLI&#39;s type checking service ignores memory limits", "body": "<p>in <code>vue.config.js</code></p>\n<pre><code>const ForkTsCheckerWebpackPlugin = require('fork-ts-checker-webpack-plugin');\nconst os=require('os');\nmodule.exports = {\n    //......,\n    chainWebpack: config =&gt; {\n        config\n            .plugin('fork-ts-checker')\n            .tap(args =&gt; {\n                let totalmem=Math.floor(os.totalmem()/1024/1024); //get OS mem size\n                let allowUseMem= totalmem&gt;2500? 2048:1000;\n                // in vue-cli shuld args[0]['typescript'].memoryLimit\n                args[0].memoryLimit = allowUseMem;\n                return args\n            })\n    },\n   //......\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 21, "user_id": 1556806, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/86f55379d097d36448630847da3a46e4?s=128&d=identicon&r=PG", "display_name": "yuchao", "link": "https://stackoverflow.com/users/1556806/yuchao"}, "is_accepted": false, "score": 2, "last_activity_date": 1595811624, "last_edit_date": 1595811624, "creation_date": 1590387846, "answer_id": 61996891, "question_id": 55258355, "link": "https://stackoverflow.com/questions/55258355/vue-clis-type-checking-service-ignores-memory-limits/61996891#61996891", "title": "Vue CLI&#39;s type checking service ignores memory limits", "body": "<p>in <code>node_modules/fork-ts-checker-webpack-plugin/lib/index.js</code></p>\n<pre><code>declare class ForkTsCheckerWebpackPlugin {\n    static readonly DEFAULT_MEMORY_LIMIT = 4096;\n    static readonly ONE_CPU = 1;\n    static readonly ALL_CPUS: number;\n    static readonly ONE_CPU_FREE: number;\n    static readonly TWO_CPUS_FREE: number;\n    readonly options: Partial&lt;Options&gt;;\n</code></pre>\n"}], "owner": {"reputation": 347, "user_id": 10064387, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f08bc327061eed4e5286b56b8d1436ef?s=128&d=identicon&r=PG&f=1", "display_name": "filipe", "link": "https://stackoverflow.com/users/10064387/filipe"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 7713, "favorite_count": 4, "accepted_answer_id": 55810460, "answer_count": 3, "score": 18, "last_activity_date": 1604017846, "creation_date": 1553077087, "question_id": 55258355, "link": "https://stackoverflow.com/questions/55258355/vue-clis-type-checking-service-ignores-memory-limits", "title": "Vue CLI&#39;s type checking service ignores memory limits", "body": "<p>DevOps has requested that we limit our frontend builds to ~1GB of RAM, so that our Jenkins instance doesn't shut down. We use a standard <code>@vue/cli</code> project, with TypeScript. However, the TS type checking service ignores all attempts to limit its memory usage, which is always 2048 MB.</p>\n\n<p>I've tried disabling it and relying on <code>fork-ts-checker-webpack-plugin</code> but that introduces other problems.</p>\n\n<p>Based on what I found, this should work:</p>\n\n<pre><code>$ NODE_OPTIONS=--max_old_space_size=1024 \\\n    NODE_ENV=production \\\n    node \\\n    --max_old_space_size=1024 \\\n    --max-old-space-size=1024 \\\n    node_modules/.bin/vue-cli-service build\n</code></pre>\n\n<p>Note that I've no idea how these memory limits work, as I have limited awareness of Node's internals. But despite these, the type checking service always starts with a 2048 MB limit.</p>\n\n<p>I'm not sure if it's a problem specific to how Vue CLI configures Webpack/TS.</p>\n"}, {"tags": ["typescript", "visual-studio-code", "mocha.js"], "comments": [{"owner": {"reputation": 676, "user_id": 262469, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/78b2ab2080c9395b928f20ddc966741b?s=128&d=identicon&r=PG", "display_name": "Victor Ian", "link": "https://stackoverflow.com/users/262469/victor-ian"}, "edited": false, "score": 0, "creation_date": 1553663225, "post_id": 55258209, "comment_id": 97463007, "body": "Found the culprit - it was mocha. Downgraded to version 5.2.0 from 6+ and it was working again. However this is just a workaround and I need to find out what really was the issue."}], "answers": [{"comments": [{"owner": {"reputation": 676, "user_id": 262469, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/78b2ab2080c9395b928f20ddc966741b?s=128&d=identicon&r=PG", "display_name": "Victor Ian", "link": "https://stackoverflow.com/users/262469/victor-ian"}, "edited": false, "score": 2, "creation_date": 1553478410, "post_id": 55276613, "comment_id": 97386292, "body": "Added mocha to the types array in tsconfig.json and packages.json, still getting:       TypeError: mocha_1.describe is not a function"}, {"owner": {"reputation": 676, "user_id": 262469, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/78b2ab2080c9395b928f20ddc966741b?s=128&d=identicon&r=PG", "display_name": "Victor Ian", "link": "https://stackoverflow.com/users/262469/victor-ian"}, "edited": false, "score": 0, "creation_date": 1553663270, "post_id": 55276613, "comment_id": 97463018, "body": "Please see my comment on the original post."}], "tags": [], "owner": {"reputation": 5917, "user_id": 375148, "user_type": "registered", "accept_rate": 44, "profile_image": "https://i.stack.imgur.com/jZJi4.jpg?s=128&g=1", "display_name": "deerawan", "link": "https://stackoverflow.com/users/375148/deerawan"}, "is_accepted": false, "score": 0, "last_activity_date": 1553158048, "creation_date": 1553158048, "answer_id": 55276613, "question_id": 55258209, "link": "https://stackoverflow.com/questions/55258209/describe-is-not-defined-exception-on-typescript-mocha-and-vscode/55276613#55276613", "title": "Describe is not defined exception on Typescript, Mocha and VSCode", "body": "<p>Perhaps it may works by specifying <code>mocha</code> in <code>types</code> inside <code>tsconfig.json</code></p>\n\n<pre><code>{\n  \"compilerOptions\": {\n    ...\n    \"types\": [\n      \"node\",\n      \"mocha\" &lt;--- specify here\n    ]\n  },\n  \"compileOnSave\": true\n}\n</code></pre>\n\n<p>Also don't forget to install <code>@types/mocha</code></p>\n\n<pre><code>npm install @types/mocha --save-dev\n</code></pre>\n\n<p>Hope it can solve your issue</p>\n"}, {"comments": [{"owner": {"reputation": 676, "user_id": 262469, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/78b2ab2080c9395b928f20ddc966741b?s=128&d=identicon&r=PG", "display_name": "Victor Ian", "link": "https://stackoverflow.com/users/262469/victor-ian"}, "edited": false, "score": 0, "creation_date": 1553650291, "post_id": 55334270, "comment_id": 97460409, "body": "Test files are written in Typescript."}, {"owner": {"reputation": 676, "user_id": 262469, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/78b2ab2080c9395b928f20ddc966741b?s=128&d=identicon&r=PG", "display_name": "Victor Ian", "link": "https://stackoverflow.com/users/262469/victor-ian"}, "edited": false, "score": 1, "creation_date": 1553663253, "post_id": 55334270, "comment_id": 97463017, "body": "Dan, please see my comment on the question above."}], "tags": [], "owner": {"reputation": 2091, "user_id": 1043363, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/WFbQw.jpg?s=128&g=1", "display_name": "Daniel Persson", "link": "https://stackoverflow.com/users/1043363/daniel-persson"}, "is_accepted": false, "score": 0, "last_activity_date": 1553504429, "creation_date": 1553504429, "answer_id": 55334270, "question_id": 55258209, "link": "https://stackoverflow.com/questions/55258209/describe-is-not-defined-exception-on-typescript-mocha-and-vscode/55334270#55334270", "title": "Describe is not defined exception on Typescript, Mocha and VSCode", "body": "<p>Are your test files written in Javascript (you refer to *.js in your launch.json)?</p>\n\n<p>I'm using ts-node to debug the unit tests, and refer directly to the Typescript test files, so my launch.json entry looks like below. Before I used ts-node, I got the 'describe is not defined' error when running from inside VS Code.</p>\n\n<pre><code>{\n  \"type\": \"node\",\n  \"request\": \"launch\",\n  \"name\": \"Unit tests (mocha)\",\n  \"program\": \"${workspaceFolder}/node_modules/mocha/bin/_mocha\",\n  \"args\": [\n    \"-r\",\n    \"ts-node/register\",\n    \"--timeout\",\n    \"999999\",\n    \"--colors\",\n    \"${workspaceFolder}/test/**/*Test.ts\",\n  ],\n  \"console\": \"integratedTerminal\",\n  \"internalConsoleOptions\": \"neverOpen\",\n  \"protocol\": \"inspector\"\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 3817, "user_id": 5473170, "user_type": "registered", "accept_rate": 40, "profile_image": "https://lh3.googleusercontent.com/-TqTWy9pKa2g/AAAAAAAAAAI/AAAAAAAAASw/aJ0ynw2sjqM/photo.jpg?sz=128", "display_name": "Suraj Jain", "link": "https://stackoverflow.com/users/5473170/suraj-jain"}, "edited": false, "score": 1, "creation_date": 1555061476, "post_id": 55570526, "comment_id": 97986027, "body": "Thanks. It was a neat and quick fix."}, {"owner": {"reputation": 3817, "user_id": 5473170, "user_type": "registered", "accept_rate": 40, "profile_image": "https://lh3.googleusercontent.com/-TqTWy9pKa2g/AAAAAAAAAAI/AAAAAAAAASw/aJ0ynw2sjqM/photo.jpg?sz=128", "display_name": "Suraj Jain", "link": "https://stackoverflow.com/users/5473170/suraj-jain"}, "edited": false, "score": 0, "creation_date": 1555062685, "post_id": 55570526, "comment_id": 97986707, "body": "Nope, you just forgot it."}, {"owner": {"reputation": 3817, "user_id": 5473170, "user_type": "registered", "accept_rate": 40, "profile_image": "https://lh3.googleusercontent.com/-TqTWy9pKa2g/AAAAAAAAAAI/AAAAAAAAASw/aJ0ynw2sjqM/photo.jpg?sz=128", "display_name": "Suraj Jain", "link": "https://stackoverflow.com/users/5473170/suraj-jain"}, "edited": false, "score": 0, "creation_date": 1555063177, "post_id": 55570526, "comment_id": 97986984, "body": "and actually, in our case style was bdd, that is why tdd option is not working."}, {"owner": {"reputation": 4764, "user_id": 220156, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c440864aaad8ad59e2deb93c5e2388d6?s=128&d=identicon&r=PG", "display_name": "mfperzel", "link": "https://stackoverflow.com/users/220156/mfperzel"}, "edited": false, "score": 0, "creation_date": 1565156936, "post_id": 55570526, "comment_id": 101258438, "body": "thank you for coming back to answer your question. Saved me tons of time."}], "tags": [], "owner": {"reputation": 676, "user_id": 262469, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/78b2ab2080c9395b928f20ddc966741b?s=128&d=identicon&r=PG", "display_name": "Victor Ian", "link": "https://stackoverflow.com/users/262469/victor-ian"}, "is_accepted": true, "score": 18, "last_activity_date": 1554716673, "creation_date": 1554716673, "answer_id": 55570526, "question_id": 55258209, "link": "https://stackoverflow.com/questions/55258209/describe-is-not-defined-exception-on-typescript-mocha-and-vscode/55570526#55570526", "title": "Describe is not defined exception on Typescript, Mocha and VSCode", "body": "<p>Answering my own question here.</p>\n\n<p>I have figured out the issue after installing Mocha 6.1.1.  </p>\n\n<p>On the launch.json, change the args array from \"tdd\" to \"bdd\" so that:<br>\n<code>\"-u\", \"bdd\"</code></p>\n\n<p>Version 5.x worked with the \"tdd\" option so the next major version caused this hiccup of a badly written configuration.</p>\n"}, {"tags": [], "owner": {"reputation": 18800, "user_id": 80906, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/438fba067893ec13011469f2ba7365c5?s=128&d=identicon&r=PG", "display_name": "Francis Upton IV", "link": "https://stackoverflow.com/users/80906/francis-upton-iv"}, "is_accepted": false, "score": 0, "last_activity_date": 1606107220, "creation_date": 1606107220, "answer_id": 64962731, "question_id": 55258209, "link": "https://stackoverflow.com/questions/55258209/describe-is-not-defined-exception-on-typescript-mocha-and-vscode/64962731#64962731", "title": "Describe is not defined exception on Typescript, Mocha and VSCode", "body": "<p>Removing this import:</p>\n<pre><code>import { describe, it } from 'mocha';\n</code></pre>\n<p>Seems to fix it for me.</p>\n"}], "owner": {"reputation": 676, "user_id": 262469, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/78b2ab2080c9395b928f20ddc966741b?s=128&d=identicon&r=PG", "display_name": "Victor Ian", "link": "https://stackoverflow.com/users/262469/victor-ian"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2049, "favorite_count": 1, "accepted_answer_id": 55570526, "answer_count": 4, "score": 6, "last_activity_date": 1606107220, "creation_date": 1553076565, "question_id": 55258209, "link": "https://stackoverflow.com/questions/55258209/describe-is-not-defined-exception-on-typescript-mocha-and-vscode", "title": "Describe is not defined exception on Typescript, Mocha and VSCode", "body": "<p>For some reason my mocha test scripts are throwing an exception of \"describe is not defined\".</p>\n\n<p>I have read and tried the solutions suggested by these SO questions but no luck:<br>\n<a href=\"https://stackoverflow.com/questions/46193653/referenceerror-describe-is-not-defined\">describe is not a function</a><br>\n<a href=\"https://stackoverflow.com/questions/18430135/mocha-describe-is-not-defined\">\"Mocha describe is not defined duplicate\"</a>  </p>\n\n<p>other links are:<br>\n<a href=\"https://stackoverflow.com/questions/47716547/typescript-mocha-describe-is-not-a-function\">typescript mocha describe is not a function</a></p>\n\n<p>This is my VSCode launch.json.</p>\n\n<pre><code>{\n  \"type\": \"node\",\n  \"request\": \"launch\",\n  \"name\": \"Mocha Tests\",\n  \"program\": \"${workspaceFolder}/node_modules/mocha/bin/_mocha\",\n  \"args\": [\n    \"-u\",\n    \"tdd\",\n    \"--timeout\",\n    \"999999\",\n    \"--colors\",\n    \"${workspaceRoot}/dist/tests/**/*.js\"\n  ],\n  \"outFiles\": [\"${workspaceFolder}/dist/tests/**/*.js\"],\n  \"sourceMaps\": true,\n  \"protocol\": \"inspector\",\n  \"internalConsoleOptions\": \"openOnSessionStart\"\n}\n</code></pre>\n\n<p>This is my mocha test script:</p>\n\n<pre><code>import \"mocha\";\nimport assert = require(\"assert\");\n\ndescribe(\"Init\", () =&gt; {\n  before(() =&gt; {\n    console.log(\"before-hook\");\n  });\n\n  it(\"connected\", () =&gt; {\n    assert(true, \"is not true\");\n  });\n});\n</code></pre>\n\n<p>And this is my tsconfig.json:</p>\n\n<pre><code>{\n  \"compilerOptions\": {\n    \"experimentalDecorators\": true,\n    \"strict\": true,\n    \"noImplicitAny\": false,\n    \"module\": \"commonjs\",\n    \"target\": \"es6\",\n    \"lib\": [ \"es6\" ],\n    \"sourceMap\": true,\n    \"outDir\": \"dist\",\n    \"moduleResolution\": \"node\",\n    \"resolveJsonModule\": true,\n    \"strictNullChecks\": true,\n    \"allowJs\": false,\n    \"checkJs\": false,\n    \"types\": [\n      \"node\"\n    ]\n  },\n  \"compileOnSave\": true\n}\n</code></pre>\n\n<p>What am I doing wrong here? I really need to get back to using mocha.</p>\n"}, {"tags": ["angular", "typescript", "nebular"], "answers": [{"tags": [], "owner": {"reputation": 233, "user_id": 4463734, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/dyfzg.jpg?s=128&g=1", "display_name": "Hac&#232;ne", "link": "https://stackoverflow.com/users/4463734/hac%c3%a8ne"}, "is_accepted": false, "score": 1, "last_activity_date": 1555100928, "creation_date": 1555100928, "answer_id": 55659019, "question_id": 55257999, "link": "https://stackoverflow.com/questions/55257999/how-to-use-ngx-admin-components-without-using-ngx-admin-starter-kit/55659019#55659019", "title": "How to use ngx-Admin components, without using ngx-Admin Starter Kit?", "body": "<p>You cannot use components from the ngx-admin starter kit without using the ngx-admin starter kit.</p>\n\n<p>For example, <code>ngx-sample-layout</code> is not part of the <code>@nebular</code> packages you define in your <code>package.json</code>, it is part of ngx-admin.</p>\n\n<blockquote>\n  <p>So Is it possible to build 100% UI with an only nebular library which should exactly look like ngx-Admin Starter Kit UI?</p>\n</blockquote>\n\n<p>This is literally what ngx-admin is (it creates a UI using Nebular elements). If you want to do exactly that, simply copy what ngx-admin does.</p>\n"}, {"tags": [], "owner": {"reputation": 11, "user_id": 4306436, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-efVXZC3qcCU/AAAAAAAAAAI/AAAAAAAAAhg/WArwysIQyQk/photo.jpg?sz=128", "display_name": "George Trad", "link": "https://stackoverflow.com/users/4306436/george-trad"}, "is_accepted": false, "score": 0, "last_activity_date": 1616455637, "creation_date": 1616455637, "answer_id": 66755188, "question_id": 55257999, "link": "https://stackoverflow.com/questions/55257999/how-to-use-ngx-admin-components-without-using-ngx-admin-starter-kit/66755188#66755188", "title": "How to use ngx-Admin components, without using ngx-Admin Starter Kit?", "body": "<p>You can follow the guide on this page. This will give you all the styles you need from Nebular without having the starter kit code.</p>\n<p><a href=\"https://akveo.github.io/nebular/docs/guides/install-nebular#manually\" rel=\"nofollow noreferrer\">https://akveo.github.io/nebular/docs/guides/install-nebular#manually</a></p>\n"}], "owner": {"reputation": 115, "user_id": 4947881, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CablI.jpg?s=128&g=1", "display_name": "Chaitra Deshpande", "link": "https://stackoverflow.com/users/4947881/chaitra-deshpande"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1015, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1616455637, "creation_date": 1553075824, "last_edit_date": 1553079016, "question_id": 55257999, "link": "https://stackoverflow.com/questions/55257999/how-to-use-ngx-admin-components-without-using-ngx-admin-starter-kit", "title": "How to use ngx-Admin components, without using ngx-Admin Starter Kit?", "body": "<p>I have created a new project in Angular with nebular installed. I don't want to use ngx-Admin Starter kit. But can I use all the components from ngx-Admin Starter kit in my new Project without using the starter kit?</p>\n\n<p>So Is it possible to build 100% UI with an only nebular library which should exactly look like ngx-Admin Starter Kit UI?</p>\n\n<p>For Example : I am not able to use <code>&lt;ngx-sample-layout&gt;&lt;/ngx-sample-layout&gt;</code> in my new project.Simillarly what about other components like (<code>&lt;ngx-ecommerce-charts&gt;&lt;/ngx-ecommerce-charts&gt;, &lt;ngx-country-orders&gt;&lt;/ngx-country-orders&gt;, &lt;ngx-progress-section&gt;&lt;/ngx-progress-section&gt;</code> etc.)</p>\n"}, {"tags": ["typescript", "merge", "interface", "sequelize.js", "sequelize-typescript"], "owner": {"reputation": 324, "user_id": 1704131, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/b1ad12e266cc9adef7ba91bfd00f5bef?s=128&d=identicon&r=PG&f=1", "display_name": "Niklas Hantke", "link": "https://stackoverflow.com/users/1704131/niklas-hantke"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 192, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1553074858, "creation_date": 1553074858, "question_id": 55257676, "link": "https://stackoverflow.com/questions/55257676/typescript-merge-sequelize-typescipts-ifindoptions", "title": "Typescript: merge sequelize-typescipt&#39;s IFindOptions", "body": "<p>I want to extend IFindOptions of sequelize-typescipt.\nTherefore I made the folliowing code:</p>\n\n<pre><code>declare module \"sequelize-typescript\" {\n    interface IFindOptions&lt;T&gt; extends LoggingOptions, SearchPathOptions {\n        lang?: string\n    }\n}\n</code></pre>\n\n<p>Now I try to call my model:</p>\n\n<pre><code>ExampleModel.findAll({lang: 'en'})\n</code></pre>\n\n<p>The linter in VS-Code does not throw an error but I can't compile because of the following error</p>\n\n<pre><code>Error TS2345: Argument of type '{ where: { process_definition_id: any; }; include: { model: typeof StepSuccessorDefinition; as: s...' is not assignable to parameter of type 'IFindOptions&lt;StepDefinition&gt; | undefined'.\n  Object literal may only specify known properties, and 'lang' does not exist in type 'IFindOptions&lt;StepDefinition&gt; | undefined'.\n</code></pre>\n\n<p>How can I make the code compile?</p>\n"}, {"tags": ["typescript", "knockout.js"], "comments": [{"owner": {"reputation": 18926, "user_id": 3297291, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2d0d7237254b7a62c94e8e97cf1e0e29?s=128&d=identicon&r=PG&f=1", "display_name": "user3297291", "link": "https://stackoverflow.com/users/3297291/user3297291"}, "edited": false, "score": 0, "creation_date": 1553079110, "post_id": 55257670, "comment_id": 97249291, "body": "Isn&#39;t there a <code>computed</code> or <code>dependantObservable</code> type you assign to <code>x</code>? I&#39;m not entirely sure if &quot;every computed is also an observable&quot; is technically correct. Like you mention, I think the prototype for a <code>computed</code> is the <code>subscribable</code>, not the <code>observable</code>."}, {"owner": {"reputation": 151, "user_id": 10563591, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/75bb29e27fa203ec0131d95f3bae723f?s=128&d=identicon&r=PG&f=1", "display_name": "Tom HANAX", "link": "https://stackoverflow.com/users/10563591/tom-hanax"}, "reply_to_user": {"reputation": 18926, "user_id": 3297291, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2d0d7237254b7a62c94e8e97cf1e0e29?s=128&d=identicon&r=PG&f=1", "display_name": "user3297291", "link": "https://stackoverflow.com/users/3297291/user3297291"}, "edited": false, "score": 0, "creation_date": 1553094207, "post_id": 55257670, "comment_id": 97259243, "body": "In KO 3.4 with that &quot;old&quot; typing we sucessfully used <code>Observable</code> type as &quot;mother&quot; type for all &quot;more complicated&quot; types like <code>Computed</code>. This idea can be somehow derived from knockout documentation for util function, that states: <i>ko.isObservable - returns true for observables, observable arrays, and all computed observables.</i>. In new typings I can clearly see that <code>Subscribable</code> is parent for <code>Observable</code> and <code>Computed</code>, with no direct relation between its childs. It&#39;s somewhat sad that type system changed, but OK, we will adapt as always..."}], "answers": [{"comments": [{"owner": {"reputation": 151, "user_id": 10563591, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/75bb29e27fa203ec0131d95f3bae723f?s=128&d=identicon&r=PG&f=1", "display_name": "Tom HANAX", "link": "https://stackoverflow.com/users/10563591/tom-hanax"}, "edited": false, "score": 0, "creation_date": 1553093884, "post_id": 55260913, "comment_id": 97259000, "body": "Thanx, but KnockoutComputed type comes from <code>@types&#47;knockout</code> definition, which are for v3.4. However v3.5 on npm has it&#39;s own definitions, which are &quot;organized&quot; differently. I am seeking help with &quot;new&quot; type system, because in v3.4 type system it was perfectly OK to do <code>const x: KnockoutObservable&lt;boolean&gt; = ko.computed(() =&gt; true);</code>, which was great and supports idea that observable is supertype of all other complicated variants (like computed one)"}, {"owner": {"reputation": 28101, "user_id": 3082296, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/5eac8c095f63cb9fe29a9af3cb97eb0e?s=128&d=identicon&r=PG&f=1", "display_name": "adiga", "link": "https://stackoverflow.com/users/3082296/adiga"}, "reply_to_user": {"reputation": 151, "user_id": 10563591, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/75bb29e27fa203ec0131d95f3bae723f?s=128&d=identicon&r=PG&f=1", "display_name": "Tom HANAX", "link": "https://stackoverflow.com/users/10563591/tom-hanax"}, "edited": false, "score": 0, "creation_date": 1553109199, "post_id": 55260913, "comment_id": 97268127, "body": "@TomHANAX But <code>@types&#47;knockout</code> latest version is <code>3.4.64</code> according to: <a href=\"https://www.npmjs.com/package/@types/knockout\" rel=\"nofollow noreferrer\">npmjs.com/package/@types/knockout</a>"}], "tags": [], "owner": {"reputation": 28101, "user_id": 3082296, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/5eac8c095f63cb9fe29a9af3cb97eb0e?s=128&d=identicon&r=PG&f=1", "display_name": "adiga", "link": "https://stackoverflow.com/users/3082296/adiga"}, "is_accepted": false, "score": 0, "last_activity_date": 1553085300, "creation_date": 1553085300, "answer_id": 55260913, "question_id": 55257670, "link": "https://stackoverflow.com/questions/55257670/computed-is-not-assignable-to-observable-after-upgrade-to-knockout-js-3-5-0/55260913#55260913", "title": "Computed is not assignable to Observable after upgrade to Knockout.js 3.5.0", "body": "<p>You can use <code>KnockoutComputed&lt;T&gt;</code> like this:</p>\n\n<pre><code>const x: KnockoutComputed&lt;boolean&gt; = ko.computed(() =&gt; true);\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 3953, "user_id": 354473, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fc130eed76882c90de06ebc0ab5179a8?s=128&d=identicon&r=PG", "display_name": "codevision", "link": "https://stackoverflow.com/users/354473/codevision"}, "is_accepted": false, "score": 1, "last_activity_date": 1569402705, "creation_date": 1569402705, "answer_id": 58095002, "question_id": 55257670, "link": "https://stackoverflow.com/questions/55257670/computed-is-not-assignable-to-observable-after-upgrade-to-knockout-js-3-5-0/58095002#58095002", "title": "Computed is not assignable to Observable after upgrade to Knockout.js 3.5.0", "body": "<p>Alternatively you can add in your compiler options</p>\n\n<pre><code>\"path\" {\n   ...\n   \"knockout\": [ \"node_modules/@types/knockout\" ],\n   ...\n}\n</code></pre>\n\n<p>that way you can use old KO typings until better way to upgrade code would be found</p>\n"}, {"comments": [{"owner": {"reputation": 151, "user_id": 10563591, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/75bb29e27fa203ec0131d95f3bae723f?s=128&d=identicon&r=PG&f=1", "display_name": "Tom HANAX", "link": "https://stackoverflow.com/users/10563591/tom-hanax"}, "edited": false, "score": 0, "creation_date": 1569759963, "post_id": 58140811, "comment_id": 102693227, "body": "It is exactly what works as expected, including type checking. But IMHO <code>Subscribable</code> type should work as well, because as I understand it <code>ko.Observable&lt;boolean&gt; | ko.Computed&lt;boolean&gt;</code> in fact equals <code>ko.Subscribable&lt;boolean&gt;</code>, at least in any practical way. But looking into d.ts file it seems that maybe some extenders spoils this. Did not tested it. Anyway, for now this type union seems like the &quot;right way to do it&quot;, thanks."}], "tags": [], "owner": {"reputation": 1126, "user_id": 5500101, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/2e7840b73b25b730f2c71acbc054148e?s=128&d=identicon&r=PG", "display_name": "Greg Veres", "link": "https://stackoverflow.com/users/5500101/greg-veres"}, "is_accepted": true, "score": 0, "last_activity_date": 1569614898, "creation_date": 1569614898, "answer_id": 58140811, "question_id": 55257670, "link": "https://stackoverflow.com/questions/55257670/computed-is-not-assignable-to-observable-after-upgrade-to-knockout-js-3-5-0/58140811#58140811", "title": "Computed is not assignable to Observable after upgrade to Knockout.js 3.5.0", "body": "<p>I am going through the upgrade to 3.5.0 myself right now. It is a big change since we should be using the type file that comes with the project and that changes all the names of the classes and gets rid of the global ko. I think these are all good things. I have been happy with the transformation of my code (well, except for trying to get knockout-validation to compile).</p>\n\n<p>I ran into the exact issue you are running into. I knew that when I had assigned a computed to an observable typed variable that it was a hack, but I also knew it would work just fine because the interface was close enough. This upgrade forced me to revisit the hack and to deal with it properly. Here is how I do it now in my code:</p>\n\n<p>I know define the variable as one that takes either an observable or a computed:</p>\n\n<pre><code>class SomeClass {\n   public value: Observable&lt;boolean&gt; | Computed&lt;boolean&gt;;\n}\n</code></pre>\n\n<p>This allows all the other developers who might be reading the code that value might be a computed so they shouldn't just blindly assign a value to it. </p>\n"}, {"tags": [], "owner": {"reputation": 39, "user_id": 2620795, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a2aaebbdecf67ed0fe59eaa9041767d8?s=128&d=identicon&r=PG", "display_name": "Jon Keeping", "link": "https://stackoverflow.com/users/2620795/jon-keeping"}, "is_accepted": false, "score": 1, "last_activity_date": 1574117583, "creation_date": 1574117583, "answer_id": 58924109, "question_id": 55257670, "link": "https://stackoverflow.com/questions/55257670/computed-is-not-assignable-to-observable-after-upgrade-to-knockout-js-3-5-0/58924109#58924109", "title": "Computed is not assignable to Observable after upgrade to Knockout.js 3.5.0", "body": "<p>In Knockout 3.5.1, I was able to reference the interface <code>PureComputed</code> defined in the Knockout package:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>import * as ko from 'knockout';\nimport { Computed, PureComputed, Observable } from 'knockout';\n\nclass MyClass\n  originalComments: string;\n  comments: Observable&lt;string&gt;;\n\n  constructor(serverData: any) {\n    this.originalComments = serverData.comments || '';\n    this.comments = ko.observable(this.originalComments);\n  }\n\n  hasChanged: PureComputed&lt;boolean&gt; = ko.pureComputed(() =&gt; this.comments() !==  this.originalComments);\n}\n</code></pre>\n"}], "owner": {"reputation": 151, "user_id": 10563591, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/75bb29e27fa203ec0131d95f3bae723f?s=128&d=identicon&r=PG&f=1", "display_name": "Tom HANAX", "link": "https://stackoverflow.com/users/10563591/tom-hanax"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 621, "favorite_count": 0, "accepted_answer_id": 58140811, "answer_count": 4, "score": 2, "last_activity_date": 1574117583, "creation_date": 1553074838, "question_id": 55257670, "link": "https://stackoverflow.com/questions/55257670/computed-is-not-assignable-to-observable-after-upgrade-to-knockout-js-3-5-0", "title": "Computed is not assignable to Observable after upgrade to Knockout.js 3.5.0", "body": "<p>Knockout.js 3.5.0 comes with it's own type definitions on npm.\nLet's have this variable <code>x</code> defined as:</p>\n\n<pre><code>const x: ko.Observable&lt;boolean&gt; = ko.computed(() =&gt; true);\n</code></pre>\n\n<p>Now we got compiler error: \n<em>Type 'Computed' is missing the following properties from type 'Observable': valueHasMutated, valueWillMutate</em>.</p>\n\n<p>I understand what compiler is trying to tell me, but I think that principally this is wrong - because every computed is also an observable. This behaviour worked well on 3.4.x using type definitions from @types/knockout.</p>\n\n<p>There is the <code>Subscribable</code> type, which I believe is some \"parent\" type, and it works in declaration:</p>\n\n<pre><code>const x: ko.Subscribable&lt;boolean&gt; = ko.computed(() =&gt; true);\n</code></pre>\n\n<p>This throws no error. However no type checking is performed on value setter:</p>\n\n<pre><code>x(2);    // this is wrong but no compiler error\n</code></pre>\n\n<p>Can anybody shed some light on these new type hierarchy changes and how should we use it?</p>\n"}, {"tags": ["angular", "typescript", "firebase", "firebase-authentication"], "comments": [{"owner": {"reputation": 116, "user_id": 8881186, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-0JhWUi3We6g/AAAAAAAAAAI/AAAAAAAAAxE/lHnIqGRAhWo/photo.jpg?sz=128", "display_name": "Enes Yal&#231;\u0131n", "link": "https://stackoverflow.com/users/8881186/enes-yal%c3%a7%c4%b1n"}, "edited": false, "score": 0, "creation_date": 1553074538, "post_id": 55257516, "comment_id": 97246497, "body": "just to make sure: you are using the admin-SDK on a nodejs server and not in a front-end angular project right?"}, {"owner": {"reputation": 1651, "user_id": 9088126, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/a76c5653c772fce494ac6424d98f2bd0?s=128&d=identicon&r=PG&f=1", "display_name": "bellotas", "link": "https://stackoverflow.com/users/9088126/bellotas"}, "reply_to_user": {"reputation": 116, "user_id": 8881186, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-0JhWUi3We6g/AAAAAAAAAAI/AAAAAAAAAxE/lHnIqGRAhWo/photo.jpg?sz=128", "display_name": "Enes Yal&#231;\u0131n", "link": "https://stackoverflow.com/users/8881186/enes-yal%c3%a7%c4%b1n"}, "edited": false, "score": 0, "creation_date": 1553075006, "post_id": 55257516, "comment_id": 97246790, "body": "Not really, I am trying to get the users on my front-end angular project. But I do not really know how to do it. What I want to do is to check if one email is registered in my system"}], "answers": [{"comments": [{"owner": {"reputation": 1651, "user_id": 9088126, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/a76c5653c772fce494ac6424d98f2bd0?s=128&d=identicon&r=PG&f=1", "display_name": "bellotas", "link": "https://stackoverflow.com/users/9088126/bellotas"}, "edited": false, "score": 0, "creation_date": 1553075853, "post_id": 55257977, "comment_id": 97247345, "body": "Ok. This is what I thought, but I was trying to avoid starting to create this list. Thanks for the confirmation"}, {"owner": {"reputation": 1651, "user_id": 9088126, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/a76c5653c772fce494ac6424d98f2bd0?s=128&d=identicon&r=PG&f=1", "display_name": "bellotas", "link": "https://stackoverflow.com/users/9088126/bellotas"}, "edited": false, "score": 0, "creation_date": 1553082908, "post_id": 55257977, "comment_id": 97251556, "body": "I have updated the question. Could you have a look one second?"}, {"owner": {"reputation": 1651, "user_id": 9088126, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/a76c5653c772fce494ac6424d98f2bd0?s=128&d=identicon&r=PG&f=1", "display_name": "bellotas", "link": "https://stackoverflow.com/users/9088126/bellotas"}, "edited": false, "score": 0, "creation_date": 1553084392, "post_id": 55257977, "comment_id": 97252518, "body": "Nothing, it s been solved. I just needed to use  then after update profile and call it from there"}], "tags": [], "owner": {"reputation": 51583, "user_id": 3371862, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/DyCE6.png?s=128&g=1", "display_name": "Renaud Tarnec", "link": "https://stackoverflow.com/users/3371862/renaud-tarnec"}, "is_accepted": true, "score": 2, "last_activity_date": 1553075867, "last_edit_date": 1553075867, "creation_date": 1553075760, "answer_id": 55257977, "question_id": 55257516, "link": "https://stackoverflow.com/questions/55257516/manage-user-firebase-and-angular/55257977#55257977", "title": "Manage User - Firebase and Angular", "body": "<p>By doing</p>\n\n<pre><code>import * as firebase from \"firebase/app\";\n</code></pre>\n\n<p>in you client application you are actually importing the <a href=\"https://firebase.google.com/docs/reference/js/\" rel=\"nofollow noreferrer\">JavaScript SDK</a> and not the <a href=\"https://firebase.google.com/docs/reference/admin/\" rel=\"nofollow noreferrer\">Admin SDK</a>. This is the correct way if this import is done in a front-end application, since the Admin SDK is to be used \"from a secure server environment\".</p>\n\n<p>This is why you get the error <code>Property 'getUserByEmail' does not exist on type 'Auth'.ts(2339)</code>, because this method is not part of the Firebase <a href=\"https://firebase.google.com/docs/reference/js/firebase.auth.Auth\" rel=\"nofollow noreferrer\"><code>Auth</code></a> service.</p>\n\n<p>Having said that, you have to know that with the JavaScript SDK there is no straightforward way \"to get the list of all the users' email registered on [your] system\".</p>\n\n<p>The \"usual\" way of doing that is to maintain a list of users in your database (RealTime Database or Firestore) and query the database as needed.</p>\n"}, {"tags": [], "owner": {"reputation": 3083, "user_id": 4428159, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/VkaFW.jpg?s=128&g=1", "display_name": "Umar Hussain", "link": "https://stackoverflow.com/users/4428159/umar-hussain"}, "is_accepted": false, "score": 0, "last_activity_date": 1553075900, "creation_date": 1553075900, "answer_id": 55258024, "question_id": 55257516, "link": "https://stackoverflow.com/questions/55257516/manage-user-firebase-and-angular/55258024#55258024", "title": "Manage User - Firebase and Angular", "body": "<p>Only Firebase Admin SDK can get user from Firebase Authentication. Admin SDK should only be used in safe environment i.e. backend server.</p>\n\n<p>What you can do is use a Firebase cloud functions <a href=\"https://firebase.google.com/docs/functions/auth-events\" rel=\"nofollow noreferrer\">Auth creation trigger</a> and then write the email address in your Firebase database/ Firestore. \nThen you can <a href=\"https://firebase.google.com/docs/database/admin/retrieve-data\" rel=\"nofollow noreferrer\">query your database</a> in angular app to filter out users based on email address.</p>\n\n<p>Another option is to have a HTTPS function to which you can send the email address and the function can then use admin sdk to extract user from Firebase authentication.</p>\n"}, {"tags": [], "owner": {"reputation": 2206, "user_id": 7967164, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-fZY-EicPiTM/AAAAAAAAAAI/AAAAAAABvGI/Bb7G8qimGZY/photo.jpg?sz=128", "display_name": "Dennis Alund", "link": "https://stackoverflow.com/users/7967164/dennis-alund"}, "is_accepted": false, "score": 1, "last_activity_date": 1553076770, "creation_date": 1553076770, "answer_id": 55258269, "question_id": 55257516, "link": "https://stackoverflow.com/questions/55257516/manage-user-firebase-and-angular/55258269#55258269", "title": "Manage User - Firebase and Angular", "body": "<p>Like you have pointed out: <code>getUserByEmail</code> is only part of the admin SDK and you will not be able to call that from your Angular code.</p>\n\n<p>If your app is having a concept of finding or managing other users then you might consider that the users are part of your business data. So copy and create profile data when the auth account is created (<a href=\"https://medium.com/evenbit/create-user-data-for-new-firebase-auth-accounts-c730719b140a\" rel=\"nofollow noreferrer\">you can read more here</a>). </p>\n\n<p>You can find more information on what information that is available on the firebase user object <a href=\"https://firebase.google.com/docs/reference/functions/functions.auth.UserInfo\" rel=\"nofollow noreferrer\">in the documentation</a>.  Just copy what you need and store it in a collection that you can query from your Angular app.</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>export const createUserDoc = functions.auth.user().onCreate(event =&gt; {\n    const firebaseUser = event.data;\n    const user = {\n        name: firebaseUser.displayName,\n        email: firebaseUser.email,\n        photoUrl: firebaseUser.photoURL\n    };\n\n    return firebase.firestore().collection(\"users\").doc(firebaseUser.uid).set(user);\n});\n\n</code></pre>\n"}], "owner": {"reputation": 1651, "user_id": 9088126, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/a76c5653c772fce494ac6424d98f2bd0?s=128&d=identicon&r=PG&f=1", "display_name": "bellotas", "link": "https://stackoverflow.com/users/9088126/bellotas"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1547, "favorite_count": 0, "accepted_answer_id": 55257977, "answer_count": 3, "score": 1, "last_activity_date": 1553083200, "creation_date": 1553074323, "last_edit_date": 1553083200, "question_id": 55257516, "link": "https://stackoverflow.com/questions/55257516/manage-user-firebase-and-angular", "title": "Manage User - Firebase and Angular", "body": "<p>I am trying to get a user by email, and it seems to be pretty simple. I am following this <a href=\"https://firebase.google.com/docs/auth/admin/manage-users\" rel=\"nofollow noreferrer\">documentation</a></p>\n\n<p>It seems that my code does not recognize <code>admin</code>, what it is normal cause I haven't defined anywhere. What I have done is to change <code>admin</code> for <code>firebase</code>, being firebase:</p>\n\n<pre><code>import * as firebase from \"firebase/app\";\n</code></pre>\n\n<p>and the code would be:</p>\n\n<pre><code>firebase.auth.getUserByEmail(participantEmail)\n</code></pre>\n\n<p>but I get the following error:</p>\n\n<blockquote>\n  <p>Property 'getUserByEmail' does not exist on type 'Auth'.ts(2339)</p>\n</blockquote>\n\n<p>Do I need to pre-install something before? Do I miss something?</p>\n\n<p>My aim is to get the list of all the users' email registered on my system and then filter them, or directly get on a specific user by looking within an email (the second option would be better).</p>\n\n<p><strong>UPDATE</strong>\nNow I am creating a user list each time somebody logs in, but I think that firebase is restricting somehow the information.</p>\n\n<p><em>Register</em></p>\n\n<pre><code>  registerUser(\n    email: string,\n    pass: string,\n    displayName: string,\n    photoURL: string\n  ) {\n    return new Promise((resolve, reject) =&gt; {\n      this.afAuth.auth.createUserWithEmailAndPassword(email, pass).then(\n        user =&gt; {\n          resolve(user);\n          user.updateProfile({\n            displayName: displayName, // some displayName\n            photoURL: photoURL\n          });\n          //NEEDS TO BE INSIDE UPDATEPROFILE\n          this.insertUser(user);\n        },\n        err =&gt; {\n          this.s_registerError = err.message;\n          reject(err);\n        }\n      );\n    });\n  }\n</code></pre>\n\n<p><em>Insert list</em></p>\n\n<pre><code>  //Insert a new bet\n  insertUser(user) {\n    console.log(user);\n    console.log(user.email);\n    console.log(user.displayName);\n\n    this.listToStore = this.db.list(\"users\");\n    this.listToStore.push({\n      photoURL: user.photoURL,\n      email: user.email,\n      displayName: user.displayName\n    });\n  }\n</code></pre>\n\n<p>in here, I get the value of <code>user</code> within all its fields, meaning that when I use <code>console.log(user)</code> I am able to see the <code>displayName</code>, <code>email</code>, and <code>photoURL</code>. Nevertheless, If I try to use <code>console.log(user.displayName)</code> prints <code>null</code> and if I use <code>console.log(user.email)</code> prints its value.</p>\n\n<p>I have thought that could be because <code>user.updateProfile()</code> did not finish, but actually, I get the value of <code>user</code> in <code>insertUser()</code> without any problem</p>\n"}, {"tags": ["angular", "typescript", "innerhtml", "angular-directive"], "comments": [{"owner": {"reputation": 8690, "user_id": 4569506, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/Ommt6.png?s=128&g=1", "display_name": "Daniel", "link": "https://stackoverflow.com/users/4569506/daniel"}, "edited": false, "score": 0, "creation_date": 1553074133, "post_id": 55257427, "comment_id": 97246257, "body": "What happens if you remove the translate pipe (and just use <code>[innerHTML]=&quot;definition&quot;</code> where definition is the HTML)?"}, {"owner": {"reputation": 2945, "user_id": 8107464, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/f835a205571c44eaca74778b51c70242?s=128&d=identicon&r=PG&f=1", "display_name": "infodev", "link": "https://stackoverflow.com/users/8107464/infodev"}, "reply_to_user": {"reputation": 8690, "user_id": 4569506, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/Ommt6.png?s=128&g=1", "display_name": "Daniel", "link": "https://stackoverflow.com/users/4569506/daniel"}, "edited": false, "score": 0, "creation_date": 1553074260, "post_id": 55257427, "comment_id": 97246330, "body": "I get  the word <code>INFORMATION</code> printed"}, {"owner": {"reputation": 8690, "user_id": 4569506, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/Ommt6.png?s=128&g=1", "display_name": "Daniel", "link": "https://stackoverflow.com/users/4569506/daniel"}, "edited": false, "score": 0, "creation_date": 1553074314, "post_id": 55257427, "comment_id": 97246363, "body": "Try to change the <code>definition</code> variable and assign the value <code>&lt;b&gt;Here&#39;s an &lt;&#47;b&gt; example of text</code> to it directly and then <code>[innerHTML]=&quot;definition&quot;</code> in the template"}, {"owner": {"reputation": 4481, "user_id": 5939058, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/m438e.jpg?s=128&g=1", "display_name": "Surjeet Bhadauriya", "link": "https://stackoverflow.com/users/5939058/surjeet-bhadauriya"}, "edited": false, "score": 0, "creation_date": 1553074320, "post_id": 55257427, "comment_id": 97246367, "body": "Can you make a stackblitz for this? I have checked it just and it displaying me exactly as your expected output."}, {"owner": {"reputation": 21940, "user_id": 5394220, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/U2VGk.jpg?s=128&g=1", "display_name": "Jota.Toledo", "link": "https://stackoverflow.com/users/5394220/jota-toledo"}, "edited": false, "score": 0, "creation_date": 1553074737, "post_id": 55257427, "comment_id": 97246608, "body": "Shouldnt that be <code>this.definition = &#39;INFORMATION&#39;</code>?"}], "answers": [{"comments": [{"owner": {"reputation": 2945, "user_id": 8107464, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/f835a205571c44eaca74778b51c70242?s=128&d=identicon&r=PG&f=1", "display_name": "infodev", "link": "https://stackoverflow.com/users/8107464/infodev"}, "edited": false, "score": 0, "creation_date": 1553075807, "post_id": 55257605, "comment_id": 97247308, "body": "I use ngx-translate, I get a strange behavoir, sometimes when I reload the page the bold tag is applied then it disapear ."}, {"owner": {"reputation": 8690, "user_id": 4569506, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/Ommt6.png?s=128&g=1", "display_name": "Daniel", "link": "https://stackoverflow.com/users/4569506/daniel"}, "reply_to_user": {"reputation": 2945, "user_id": 8107464, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/f835a205571c44eaca74778b51c70242?s=128&d=identicon&r=PG&f=1", "display_name": "infodev", "link": "https://stackoverflow.com/users/8107464/infodev"}, "edited": false, "score": 0, "creation_date": 1553076028, "post_id": 55257605, "comment_id": 97247479, "body": "That explains a lot. Likely what&#39;s happening is that the first time the pipe resolves it properly applies the HTML, but the next time it only applies it on the actual content of the element"}, {"owner": {"reputation": 2945, "user_id": 8107464, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/f835a205571c44eaca74778b51c70242?s=128&d=identicon&r=PG&f=1", "display_name": "infodev", "link": "https://stackoverflow.com/users/8107464/infodev"}, "edited": false, "score": 0, "creation_date": 1553084129, "post_id": 55257605, "comment_id": 97252333, "body": "Any idea to make ngx-translate working with html tag, I&#39;m doing like here <a href=\"https://github.com/ngx-translate/core/issues/145\" rel=\"nofollow noreferrer\">github.com/ngx-translate/core/issues/145</a> but it does not working"}], "tags": [], "owner": {"reputation": 8690, "user_id": 4569506, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/Ommt6.png?s=128&g=1", "display_name": "Daniel", "link": "https://stackoverflow.com/users/4569506/daniel"}, "is_accepted": false, "score": 0, "last_activity_date": 1553076136, "last_edit_date": 1553076136, "creation_date": 1553074602, "answer_id": 55257605, "question_id": 55257427, "link": "https://stackoverflow.com/questions/55257427/innerhtml-directive-ignoring-html-tags-in-angular/55257605#55257605", "title": "InnerHTML directive ignoring html tags in Angular", "body": "<p>It is not Angular who is faulty here - but the translate pipe.</p>\n\n<p>Binding the HTML to <code>[innerHTML]</code> (or <code>[outerHTML]</code>) is the correct way to render html from a variable, so the issue must be the translation pipe that performs some logic to filter away the HTML tags.</p>\n\n<p>In case you're using ngx-translate:</p>\n\n<p>The binding will happen correctly the first time the pipe resolves and you will get your HTML in your innerHTML.</p>\n\n<p>But the next time the pipe resolves it will only take the content of the element.</p>\n"}], "owner": {"reputation": 2945, "user_id": 8107464, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/f835a205571c44eaca74778b51c70242?s=128&d=identicon&r=PG&f=1", "display_name": "infodev", "link": "https://stackoverflow.com/users/8107464/infodev"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 425, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1553076136, "creation_date": 1553074044, "last_edit_date": 1553075006, "question_id": 55257427, "link": "https://stackoverflow.com/questions/55257427/innerhtml-directive-ignoring-html-tags-in-angular", "title": "InnerHTML directive ignoring html tags in Angular", "body": "<p>I would like make a part of my text bold .</p>\n\n<p>I get a text from a specific file.</p>\n\n<p><code>\"INFORMATION\": \"&lt;b&gt;Here's an &lt;/b&gt; example of text\"</code></p>\n\n<p>I would make <code>Here an</code> bold.</p>\n\n<p>In my component.ts </p>\n\n<pre><code>ngOnInit() {\n  this.definition = INFORMATION\n}\n</code></pre>\n\n<p>In my html template </p>\n\n<pre><code>&lt;span [innerHTML]=\"definition | translate\"&gt;&lt;/span&gt;\n</code></pre>\n\n<p>What I get is: </p>\n\n<p>Here's an example of text</p>\n\n<p>What I expect</p>\n\n<p><strong>Here's an</strong> example of text</p>\n\n<p>It's like Angular is ignoring html tags</p>\n"}, {"tags": ["reactjs", "typescript", "callback", "setstate", "react-component"], "answers": [{"comments": [{"owner": {"reputation": 5165, "user_id": 6927748, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/64f5dc909e0616a0f62882517b6170b4?s=128&d=identicon&r=PG&f=1", "display_name": "VJR08", "link": "https://stackoverflow.com/users/6927748/vjr08"}, "edited": false, "score": 1, "creation_date": 1553083890, "post_id": 55257584, "comment_id": 97252181, "body": "Perfect! Thanks much"}], "tags": [], "owner": {"reputation": 156, "user_id": 9130512, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-a0bY2c2cnok/AAAAAAAAAAI/AAAAAAAAABY/GCtEz-8eSnw/photo.jpg?sz=128", "display_name": "Branko Zivanovic", "link": "https://stackoverflow.com/users/9130512/branko-zivanovic"}, "is_accepted": true, "score": 0, "last_activity_date": 1553074541, "creation_date": 1553074541, "answer_id": 55257584, "question_id": 55257237, "link": "https://stackoverflow.com/questions/55257237/react-js-calling-child-component-method-within-parent-component-react-with-ty/55257584#55257584", "title": "React JS : Calling Child component method within parent component (React with typescript)", "body": "<p>React's <code>setState</code> is asynchronous, and because of that <code>this.props.setValue</code> function is going to be called before <code>setState</code> has updated your state in child Numberpicker component. This is why an old value is passed to the parent component.</p>\n\n<p>Instead you can call <code>this.props.setValue</code> inside <code>setState</code>'s callback function.</p>\n\n<pre class=\"lang-js prettyprint-override\"><code> public doIncrement = () =&gt;\n    // INCREMENT CODE\n    {\n      this.setState({\n        value: this.state.value + 1\n      }, () =&gt; {\n              this.props.setValue(this.state.value);\n         });\n\n    };\n</code></pre>\n\n<pre class=\"lang-js prettyprint-override\"><code>public doDecrement = () =&gt;\n    // DECREMENT CODE\n    {\n      if (this.state.value &lt; 1) {\n        console.log(\"LESS THAN O\");\n      } else {\n        this.setState({\n          value: this.state.value - 1\n        }, () =&gt; {\n              this.props.setValue(this.state.value);\n           });\n      }\n    };\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 5165, "user_id": 6927748, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/64f5dc909e0616a0f62882517b6170b4?s=128&d=identicon&r=PG&f=1", "display_name": "VJR08", "link": "https://stackoverflow.com/users/6927748/vjr08"}, "edited": false, "score": 0, "creation_date": 1553083950, "post_id": 55257610, "comment_id": 97252214, "body": "Thank you for the recommendation"}], "tags": [], "owner": {"reputation": 357, "user_id": 7105503, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c8e87d42b5a845f105ab30d97626b454?s=128&d=identicon&r=PG&f=1", "display_name": "Pavel Kratochvil", "link": "https://stackoverflow.com/users/7105503/pavel-kratochvil"}, "is_accepted": false, "score": 0, "last_activity_date": 1553074628, "creation_date": 1553074628, "answer_id": 55257610, "question_id": 55257237, "link": "https://stackoverflow.com/questions/55257237/react-js-calling-child-component-method-within-parent-component-react-with-ty/55257610#55257610", "title": "React JS : Calling Child component method within parent component (React with typescript)", "body": "<p>setState is not a synchrounous function. So when you are calling the callback from parent you are calling it with old state value, because new value will be set sometime in future. You can call the callback with the same value you are setting to state: this.state.value - 1 or this.state.value + 1. It should work as expected. I also recommend to read <a href=\"https://reactjs.org/docs/thinking-in-react.html\" rel=\"nofollow noreferrer\">thinking in react</a> for better intuition about where you should hold your state.</p>\n"}, {"tags": [], "owner": {"reputation": 1048, "user_id": 8175059, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/L0sfE.png?s=128&g=1", "display_name": "Avinash Mahlawat", "link": "https://stackoverflow.com/users/8175059/avinash-mahlawat"}, "is_accepted": false, "score": 0, "last_activity_date": 1553075248, "creation_date": 1553075248, "answer_id": 55257794, "question_id": 55257237, "link": "https://stackoverflow.com/questions/55257237/react-js-calling-child-component-method-within-parent-component-react-with-ty/55257794#55257794", "title": "React JS : Calling Child component method within parent component (React with typescript)", "body": "<p>Don't use state for passing values in callback, you can do like:-</p>\n\n<pre><code>  handleChange = (\n    e: React.ChangeEvent&lt;HTMLInputElement&gt; // CHANGE HANDLER\n  ) =&gt; {\n    const val = parseInt(e.target.value);\n    // this.setState({ value: val });\n    this.props.setValue(val);\n  };\n</code></pre>\n\n<p>i hope it helps!</p>\n"}], "owner": {"reputation": 5165, "user_id": 6927748, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/64f5dc909e0616a0f62882517b6170b4?s=128&d=identicon&r=PG&f=1", "display_name": "VJR08", "link": "https://stackoverflow.com/users/6927748/vjr08"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 454, "favorite_count": 0, "accepted_answer_id": 55257584, "answer_count": 3, "score": 1, "last_activity_date": 1553075248, "creation_date": 1553073444, "last_edit_date": 1553073790, "question_id": 55257237, "link": "https://stackoverflow.com/questions/55257237/react-js-calling-child-component-method-within-parent-component-react-with-ty", "title": "React JS : Calling Child component method within parent component (React with typescript)", "body": "<p>I am trying to create a custom number picker component and trying to add it to the components wherever it is needed. But When I am trying to fetch the number picker value in the Parent component , I am getting the older value .\nCan someone help me with this?</p>\n\n<h2>Number Picker Component</h2>\n\n<pre><code>import * as React from \"react\";\n\ninterface IState {\n  value: number;\n}\n\ninterface IProps {\n  setValue(val: number): void;\n}\n\nclass NumberPicker extends React.Component&lt;IProps, IState&gt; {\n  constructor(props: any) {\n    super(props);\n    this.state = {\n      value: 0\n    };\n  }\n\n  public doDecrement = () =&gt;\n    // DECREMENT CODE\n    {\n      if (this.state.value &lt; 1) {\n        console.log(\"LESS THAN O\");\n      } else {\n        this.setState({\n          value: this.state.value - 1\n        });\n        this.props.setValue(this.state.value);\n      }\n    };\n\n  public doIncrement = () =&gt;\n    // INCREMENT CODE\n    {\n      this.setState({\n        value: this.state.value + 1\n      });\n      this.props.setValue(this.state.value);\n    };\n\n  public handleChange = (\n    e: React.ChangeEvent&lt;HTMLInputElement&gt; // CHANGE HANDLER\n  ) =&gt; {\n    const val = parseInt(e.target.value);\n    this.setState({ value: val });\n  };\n\n  public render() {\n    return (\n      &lt;div&gt;\n        &lt;button\n          onClick={this.doDecrement}\n          className=\"fa fa-minus fa-inverse fa-2x\"\n        /&gt;\n        &lt;input\n          type=\"text\"\n          className=\"number\"\n          value={this.state.value}\n          onChange={this.handleChange}\n        /&gt;\n        &lt;button\n          onClick={this.doIncrement}\n          className=\"fa fa-plus fa-inverse fa-2x\"\n        /&gt;\n      &lt;/div&gt;\n    );\n  }\n}\nexport default NumberPicker;\n</code></pre>\n\n<h2>PARENT COMPONENT CODE</h2>\n\n<pre><code>import * as React from \"react\";\nimport NumberPicker from \"./NumberPicker\";\n\ninterface IState {\n  val: number;\n}\n\ninterface IProps {}\n\nclass Parent extends React.Component&lt;IProps, IState&gt; {\n  constructor(props: any) {\n    super(props);\n    this.state = {\n      val: 0\n    };\n  }\n\n  handleVal = (value: number) =&gt; {\n    this.setState({ val: value }, () =&gt; console.log(this.state.val));\n  };\n\n  render() {\n    return (\n      //Some fields along with the below numberpicker\n      &lt;NumberPicker setValue={this.handleVal} /&gt;\n    );\n  }\n}\n\nexport default Parent;\n</code></pre>\n\n<p>I have tried using setState's callback function as well, but it does not seem to be working . Parent component always shows the older value.How will I get the updated value of the NumberPicker inside parent?\nHelp would be appreciated!</p>\n"}, {"tags": ["angular", "typescript", "ecmascript-6"], "comments": [{"owner": {"reputation": 11173, "user_id": 4976422, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/xf3k5.jpg?s=128&g=1", "display_name": "Ashish Ranjan", "link": "https://stackoverflow.com/users/4976422/ashish-ranjan"}, "edited": false, "score": 0, "creation_date": 1553073156, "post_id": 55257117, "comment_id": 97245699, "body": "your dict should actually be an Object, rather than an array so you can search any name in <code>O(1)</code>"}], "answers": [{"tags": [], "owner": {"reputation": 1998, "user_id": 6123101, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ksP9D.png?s=128&g=1", "display_name": "narayansharma91", "link": "https://stackoverflow.com/users/6123101/narayansharma91"}, "is_accepted": false, "score": 0, "last_activity_date": 1553073178, "creation_date": 1553073178, "answer_id": 55257157, "question_id": 55257117, "link": "https://stackoverflow.com/questions/55257117/for-loop-to-create-a-key-value-pair-in-typescript-es-6/55257157#55257157", "title": "For loop to create a key value-pair in TypeScript (ES 6)", "body": "<pre><code> let dict = [];\n    for (let company of this.listOfCompanies) {\n      dict[company.id]= companyName;\n      });\n    }\n</code></pre>\n\n<p>It might help you.</p>\n"}, {"tags": [], "owner": {"reputation": 6018, "user_id": 1122806, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/09b0387240456c6a2e480460127195b0?s=128&d=identicon&r=PG", "display_name": "Dimanoid", "link": "https://stackoverflow.com/users/1122806/dimanoid"}, "is_accepted": true, "score": 2, "last_activity_date": 1553073484, "creation_date": 1553073484, "answer_id": 55257250, "question_id": 55257117, "link": "https://stackoverflow.com/questions/55257117/for-loop-to-create-a-key-value-pair-in-typescript-es-6/55257250#55257250", "title": "For loop to create a key value-pair in TypeScript (ES 6)", "body": "<p>Set a type to help linter and compiler and use object instead of array.</p>\n\n<pre><code>let dict: { [id: number]: string } = {};\nfor (const company of this.listOfCompanies) {\n  dict[company.id] = company.name;\n}\n</code></pre>\n\n<p><code>dict</code> also can be declared as <code>const</code> if you are not planning to change the reference to it.</p>\n"}, {"tags": [], "owner": {"reputation": 14375, "user_id": 3888766, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/eClVG.jpg?s=128&g=1", "display_name": "Fullstack Guy", "link": "https://stackoverflow.com/users/3888766/fullstack-guy"}, "is_accepted": false, "score": 0, "last_activity_date": 1553074057, "last_edit_date": 1553074057, "creation_date": 1553073694, "answer_id": 55257310, "question_id": 55257117, "link": "https://stackoverflow.com/questions/55257117/for-loop-to-create-a-key-value-pair-in-typescript-es-6/55257310#55257310", "title": "For loop to create a key value-pair in TypeScript (ES 6)", "body": "<p>Try by considering <code>dict</code> as an object rather than an array. You can do this by using <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/Reduce\" rel=\"nofollow noreferrer\"><code>Array.reduce</code></a>.</p>\n\n<p>This is an example in vanilla es6 demonstrating this:\n<div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const listOfCompanies = [{\"id\": 100, \"companyName\": \"foo\"}, {\"id\": 101, \"companyName\": \"bar\"}];\r\nconst dict = listOfCompanies.reduce((acc, {id, companyName} ) =&gt;{ //destructuring id and companyName keys from the object to variables\r\n   acc[id] = companyName;\r\n   return acc;\r\n},{});\r\nconsole.log(dict[100]);\r\nconsole.log(dict[101]);</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": [], "owner": {"reputation": 480, "user_id": 7208045, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/g0zUb.png?s=128&g=1", "display_name": "Tuxedo Joe", "link": "https://stackoverflow.com/users/7208045/tuxedo-joe"}, "is_accepted": false, "score": 0, "last_activity_date": 1553074367, "creation_date": 1553074367, "answer_id": 55257530, "question_id": 55257117, "link": "https://stackoverflow.com/questions/55257117/for-loop-to-create-a-key-value-pair-in-typescript-es-6/55257530#55257530", "title": "For loop to create a key value-pair in TypeScript (ES 6)", "body": "<p>Thank  you for great answers. I ended up using a Map (which had some more nice features of not throwing errors when undefined):</p>\n\n<p>I'll define this:</p>\n\n<pre><code>companiesNames: Map&lt;number, string&gt; = new Map&lt;number, string&gt;();\n</code></pre>\n\n<p>Then in my function:</p>\n\n<pre><code>    for (let company of this.listOfCompanies) {\n      this.companiesNames.set(+company.id, company.name);\n    }\n    console.log(this.companiesNames.get(83519952));\n</code></pre>\n\n<p>That worked fine but is there any reason this would be a bad choice?   </p>\n"}], "owner": {"reputation": 480, "user_id": 7208045, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/g0zUb.png?s=128&g=1", "display_name": "Tuxedo Joe", "link": "https://stackoverflow.com/users/7208045/tuxedo-joe"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 221, "favorite_count": 0, "accepted_answer_id": 55257250, "answer_count": 4, "score": 1, "last_activity_date": 1553076866, "creation_date": 1553073053, "last_edit_date": 1553076866, "question_id": 55257117, "link": "https://stackoverflow.com/questions/55257117/for-loop-to-create-a-key-value-pair-in-typescript-es-6", "title": "For loop to create a key value-pair in TypeScript (ES 6)", "body": "<p>I want to define a datastructure where I can recieve the name using a specific ID.\nI try to add them to a dict here and want to get back the name</p>\n\n<pre><code>    let dict = [];\n    for (let company of this.listOfCompanies) {\n      dict.push({\n        [company.id]: companyName\n      });\n    }\n</code></pre>\n\n<p>Is this the correct way to do it? And how do I get back my name? Can I do like this?</p>\n\n<pre><code>console.log(dict[83519952]);\n</code></pre>\n"}, {"tags": ["javascript", "typescript"], "comments": [{"owner": {"reputation": 59891, "user_id": 1207195, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Q3P4g.jpg?s=128&g=1", "display_name": "Adriano Repetti", "link": "https://stackoverflow.com/users/1207195/adriano-repetti"}, "edited": false, "score": 0, "creation_date": 1553073295, "post_id": 55257092, "comment_id": 97245780, "body": "First you have <code>member &amp;&amp; member[3]</code> and in the second loop <code>member &amp;&amp; member[2]</code>. Is it by design? There might be an item where both <code>[3]</code> and <code>[2]</code> are empty and then you won&#39;t ever write anything. Also you&#39;re looping with <code>i &lt;= members.length</code> which is definitely wrong (<code>&lt;</code>, index is 0 based) if <code>members</code> is a normal plain array."}, {"owner": {"reputation": 6613, "user_id": 2190498, "user_type": "registered", "accept_rate": 30, "profile_image": "https://i.stack.imgur.com/tV6Vl.png?s=128&g=1", "display_name": "ttulka", "link": "https://stackoverflow.com/users/2190498/ttulka"}, "edited": false, "score": 2, "creation_date": 1553073412, "post_id": 55257092, "comment_id": 97245850, "body": "Can you show us <code>members</code> please?"}, {"owner": {"reputation": 6384, "user_id": 1668069, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/1fbc5f1ad9ed2d210e722f6194618166?s=128&d=identicon&r=PG&f=1", "display_name": "Mathematics", "link": "https://stackoverflow.com/users/1668069/mathematics"}, "reply_to_user": {"reputation": 59891, "user_id": 1207195, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Q3P4g.jpg?s=128&g=1", "display_name": "Adriano Repetti", "link": "https://stackoverflow.com/users/1207195/adriano-repetti"}, "edited": false, "score": 0, "creation_date": 1553073499, "post_id": 55257092, "comment_id": 97245892, "body": "@AdrianoRepetti yes, it is by design unfortunately..., for second amended yet oyt is same"}, {"owner": {"reputation": 59891, "user_id": 1207195, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Q3P4g.jpg?s=128&g=1", "display_name": "Adriano Repetti", "link": "https://stackoverflow.com/users/1207195/adriano-repetti"}, "edited": false, "score": 1, "creation_date": 1553073599, "post_id": 55257092, "comment_id": 97245955, "body": "Does going through it in debug, step by step, highlights anything weird (=it executes all the things you think it should)?"}, {"owner": {"reputation": 6384, "user_id": 1668069, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/1fbc5f1ad9ed2d210e722f6194618166?s=128&d=identicon&r=PG&f=1", "display_name": "Mathematics", "link": "https://stackoverflow.com/users/1668069/mathematics"}, "edited": false, "score": 0, "creation_date": 1553076910, "post_id": 55257092, "comment_id": 97248032, "body": "Thank you guys for your time, it happened to be a typing mistake while testing"}], "answers": [{"comments": [{"owner": {"reputation": 59891, "user_id": 1207195, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Q3P4g.jpg?s=128&g=1", "display_name": "Adriano Repetti", "link": "https://stackoverflow.com/users/1207195/adriano-repetti"}, "edited": false, "score": 0, "creation_date": 1553075519, "post_id": 55257447, "comment_id": 97247117, "body": "That seems to be by design: <i>&quot;...if any of the property is filled in then leave it as it is.&quot;</i> and <i>&quot;...property is empty for <b>all</b> members.&quot;</i>. Also note that exiting the loop with <code>break</code> or keeping looping like in your example have exactly the same effect."}], "tags": [], "owner": {"reputation": 417, "user_id": 7852473, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e1afad79eaee3b212bd8b51e81ab550e?s=128&d=identicon&r=PG&f=1", "display_name": "aditya81070", "link": "https://stackoverflow.com/users/7852473/aditya81070"}, "is_accepted": false, "score": 0, "last_activity_date": 1553075293, "last_edit_date": 1553075293, "creation_date": 1553074105, "answer_id": 55257447, "question_id": 55257092, "link": "https://stackoverflow.com/questions/55257092/why-my-multi-dimensional-arrays-property-isnt-getting-updated/55257447#55257447", "title": "Why my multi dimensional array&#39;s property isn&#39;t getting updated", "body": "<p>You have done a mistake in the first <code>for</code> loop:</p>\n\n<pre><code>for (let i = 0; i &lt;= members.length; i++) {\n  var member = members[i];\n  if (member &amp;&amp; member[3]) {\n    isEmpty = false;\n    break;\n  }\n}\n</code></pre>\n\n<p>This will not check that <code>X</code> property is empty for all members. As soon as it finds a member that <code>exists</code> and <code>has value X</code>, the <code>loop</code> will break and rest of the code will not do anything as <code>isEmpty</code> is <code>false</code>.</p>\n\n<p>The code should be written like this:-</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const members = [[1,2,3],[1,2,3,4]];\r\n\r\nlet isEmpty = true;\r\n\r\nfor(let i =0; i&lt;members.length; i++) {\r\n    let member = members[i]\r\n    if (member &amp;&amp; member[3]) {\r\n        isEmpty = false\r\n    }\r\n}\r\nif(!isEmpty) {\r\n    let someprefix = \"123 - \"\r\n    for(let i =0; i&lt;members.length; i++){\r\n        var member = members[i]\r\n        if (member &amp;&amp; member[2]) {\r\n            member[3] = someprefix + i;\r\n        }\r\n    }\r\n}\r\nconsole.log(members[0][3])</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": [], "owner": {"reputation": 6384, "user_id": 1668069, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/1fbc5f1ad9ed2d210e722f6194618166?s=128&d=identicon&r=PG&f=1", "display_name": "Mathematics", "link": "https://stackoverflow.com/users/1668069/mathematics"}, "is_accepted": true, "score": 0, "last_activity_date": 1553076768, "creation_date": 1553076768, "answer_id": 55258267, "question_id": 55257092, "link": "https://stackoverflow.com/questions/55257092/why-my-multi-dimensional-arrays-property-isnt-getting-updated/55258267#55258267", "title": "Why my multi dimensional array&#39;s property isn&#39;t getting updated", "body": "<p>It was a typo, I was using member instead of members while testing it...</p>\n\n<p>Changed,</p>\n\n<pre><code>console.log(member[1][3]) \n</code></pre>\n\n<p>into,</p>\n\n<pre><code>console.log(members[1][3]) \n</code></pre>\n"}], "owner": {"reputation": 6384, "user_id": 1668069, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/1fbc5f1ad9ed2d210e722f6194618166?s=128&d=identicon&r=PG&f=1", "display_name": "Mathematics", "link": "https://stackoverflow.com/users/1668069/mathematics"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 53, "favorite_count": 0, "accepted_answer_id": 55258267, "answer_count": 2, "score": -2, "last_activity_date": 1553076768, "creation_date": 1553072967, "last_edit_date": 1553073469, "question_id": 55257092, "link": "https://stackoverflow.com/questions/55257092/why-my-multi-dimensional-arrays-property-isnt-getting-updated", "title": "Why my multi dimensional array&#39;s property isn&#39;t getting updated", "body": "<pre><code>var isEmpty = true;\nfor(let i = 0; i&lt; members.length; i++)\n{   \n    var member = members[i];\n    if(member &amp;&amp; member[3]){\n        isEmpty = false;\n        break;\n    }   \n}\n\nif(isEmpty) {\n    var somePrefix = \"123 -\"\n    for(let i = 0; i&lt; members.length; i++)\n    {   \n        var member = members[i];\n        if(member &amp;&amp; member[2]){\n            member[3] = somePrefix + i;\n        }   \n    }\n}\n\nconsole.log(member[1][3])  // just testing\n</code></pre>\n\n<p>Output : </p>\n\n<blockquote>\n  <p>undefined</p>\n</blockquote>\n\n<p>Here is what's happening,</p>\n\n<ol>\n<li>Checking X property is empty for all members</li>\n<li>If it is then, auto populate it, if any of the property is filled in then leave it as it is</li>\n</ol>\n"}, {"tags": ["angular", "typescript", "ag-grid-angular"], "answers": [{"comments": [{"owner": {"reputation": 15, "user_id": 4298404, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/62e0f5bda5d6d18995c5680dd132b809?s=128&d=identicon&r=PG&f=1", "display_name": "Priyank Pahuja", "link": "https://stackoverflow.com/users/4298404/priyank-pahuja"}, "edited": false, "score": 0, "creation_date": 1553073854, "post_id": 55256779, "comment_id": 97246096, "body": "Yes, I have tried doing that but still didn&#39;t work, I have put a sample video link for the same.. <a href=\"https://www.screencast.com/t/xtZAp4aVZ\" rel=\"nofollow noreferrer\">screencast.com/t/xtZAp4aVZ</a>"}], "tags": [], "owner": {"reputation": 1753, "user_id": 3483607, "user_type": "registered", "accept_rate": 49, "profile_image": "https://graph.facebook.com/100002701180090/picture?type=large", "display_name": "iamjc015", "link": "https://stackoverflow.com/users/3483607/iamjc015"}, "is_accepted": false, "score": 0, "last_activity_date": 1553071994, "creation_date": 1553071994, "answer_id": 55256779, "question_id": 55256707, "link": "https://stackoverflow.com/questions/55256707/unable-to-call-angular-6-service-from-html-eventlistener/55256779#55256779", "title": "Unable to call Angular 6 Service from HTML EventListener", "body": "<p>Because you are not using arrow function. What you can do is this:</p>\n\n<pre><code>espan.addEventListener('click', () =&gt; {\n // Your code here\n});\n</code></pre>\n\n<p>Check this nice article here:</p>\n\n<p><a href=\"https://medium.freecodecamp.org/when-and-why-you-should-use-es6-arrow-functions-and-when-you-shouldnt-3d851d7f0b26\" rel=\"nofollow noreferrer\">https://medium.freecodecamp.org/when-and-why-you-should-use-es6-arrow-functions-and-when-you-shouldnt-3d851d7f0b26</a></p>\n"}, {"comments": [{"owner": {"reputation": 15, "user_id": 4298404, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/62e0f5bda5d6d18995c5680dd132b809?s=128&d=identicon&r=PG&f=1", "display_name": "Priyank Pahuja", "link": "https://stackoverflow.com/users/4298404/priyank-pahuja"}, "edited": false, "score": 0, "creation_date": 1553080087, "post_id": 55256856, "comment_id": 97249879, "body": "I tried binding &#39;this&#39; to the listener but it goes undefined. Please have a look <a href=\"https://www.screencast.com/t/Ly5BKlL8x\" rel=\"nofollow noreferrer\">screencast.com/t/Ly5BKlL8x</a>"}, {"owner": {"reputation": 108, "user_id": 10612111, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c054e149bda5d6ac7c641f5f9cdafe23?s=128&d=identicon&r=PG&f=1", "display_name": "MullisS", "link": "https://stackoverflow.com/users/10612111/mulliss"}, "reply_to_user": {"reputation": 15, "user_id": 4298404, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/62e0f5bda5d6d18995c5680dd132b809?s=128&d=identicon&r=PG&f=1", "display_name": "Priyank Pahuja", "link": "https://stackoverflow.com/users/4298404/priyank-pahuja"}, "edited": false, "score": 0, "creation_date": 1553086619, "post_id": 55256856, "comment_id": 97253940, "body": "There was an error in my markup. &quot;.bind(this) belongs to the function. Just look at the demo here: <a href=\"https://stackblitz.com/edit/angular-dnnylg\" rel=\"nofollow noreferrer\">stackblitz.com/edit/angular-dnnylg</a>"}, {"owner": {"reputation": 15, "user_id": 4298404, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/62e0f5bda5d6d18995c5680dd132b809?s=128&d=identicon&r=PG&f=1", "display_name": "Priyank Pahuja", "link": "https://stackoverflow.com/users/4298404/priyank-pahuja"}, "edited": false, "score": 0, "creation_date": 1559212042, "post_id": 55256856, "comment_id": 99353658, "body": "The .bind(this), didn&#39;t worked for me, so I made a slight change in my code and created onCellClicked event, and checking the condition of the click and it&#39;s doing my job.   But thanks for your help @MullisS."}], "tags": [], "owner": {"reputation": 108, "user_id": 10612111, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c054e149bda5d6ac7c641f5f9cdafe23?s=128&d=identicon&r=PG&f=1", "display_name": "MullisS", "link": "https://stackoverflow.com/users/10612111/mulliss"}, "is_accepted": false, "score": 0, "last_activity_date": 1553086634, "last_edit_date": 1553086634, "creation_date": 1553072235, "answer_id": 55256856, "question_id": 55256707, "link": "https://stackoverflow.com/questions/55256707/unable-to-call-angular-6-service-from-html-eventlistener/55256856#55256856", "title": "Unable to call Angular 6 Service from HTML EventListener", "body": "<p>you have to bind your object to the function so you have access to  your service. For more information look here: <a href=\"https://stackoverflow.com/questions/41609937/how-to-bind-event-listener-for-rendered-elements-in-angular-2\">How to bind event listener for rendered elements in Angular 2?</a> </p>\n\n<p>Your code should look like something like this:     </p>\n\n<pre><code> eSpan.addEventListener('click', function (eSpan) {\n          alert(eSpan.toElement.id);\n          var notificationFilter: any = {};\n          notificationFilter.notificationId = eSpan.toElement.id;\n          this.notificationService.ResendNotification(notificationFilter)\n            .subscribe(\n              (data: any) =&gt; {\n                console.log('in save')\n              },\n              err =&gt; { console.log(err) }, // error\n          );\n\n        }.bind(this));\n</code></pre>\n"}], "owner": {"reputation": 15, "user_id": 4298404, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/62e0f5bda5d6d18995c5680dd132b809?s=128&d=identicon&r=PG&f=1", "display_name": "Priyank Pahuja", "link": "https://stackoverflow.com/users/4298404/priyank-pahuja"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 614, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1553086634, "creation_date": 1553071759, "question_id": 55256707, "link": "https://stackoverflow.com/questions/55256707/unable-to-call-angular-6-service-from-html-eventlistener", "title": "Unable to call Angular 6 Service from HTML EventListener", "body": "<p>I have an angular ag-grid, from where I have created a cellRenderer and cellRendererParams. And from cellRenderer I am calling a method which creates a button in that every cell of ag-grid.</p>\n\n<pre><code>constructor(private notificationService: NotificationService) { }\n\nngOnInit() {\n    this.columnDefs = [{\n            headerName: \"Action\",\n            field: \"notificationId\",\n            width: 180,\n            cellRenderer: this.notificationCellRendererFunc,\n            cellRendererParams: {\n              notificationId: 'notificationId'\n            }\n          }];\n}\n</code></pre>\n\n<p>And the notificationCellRendererFunc:</p>\n\n<pre><code>notificationCellRendererFunc(params) {\n    var self = this;\n    var eSpan = document.createElement('button');\n    console.log(params.value); // logs notificationId\n    eSpan.innerHTML = 'Resend';\n    eSpan.id = params.value;\n    eSpan.addEventListener('click', function (eSpan) {\n      alert(eSpan.toElement.id);\n      var notificationFilter: any = {};\n      notificationFilter.notificationId = eSpan.toElement.id;\n      self.notificationService.ResendNotification(notificationFilter)\n        .subscribe(\n          (data: any) =&gt; {\n            console.log('in save')\n          },\n          err =&gt; { console.log(err) }, // error\n      );\n\n    });\n    return eSpan;\n  }\n</code></pre>\n\n<p>In the above method, I am creating eventListener for every button, so that when any of the button hits, it will provide me the selected row's notificationId and I can send it to the API for further processing.</p>\n\n<p>But the problem is, 'this' keyword is not working inside eventListener, even if I assign 'this' to 'self' keyword outside the listener. It says: \n<strong>ERROR TypeError: Cannot read property 'notificationService' of undefined\n    at HTMLButtonElement.</strong>.</p>\n\n<p>\"My moto is to create a button in every row of ag-grid, and after hitting the button it will resend the notification.\"</p>\n"}, {"tags": ["angular", "typescript"], "comments": [{"owner": {"reputation": 26417, "user_id": 10959940, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cfe2af4009a4fe0acb46a707c8d5eab3?s=128&d=identicon&r=PG&f=1", "display_name": "wentjun", "link": "https://stackoverflow.com/users/10959940/wentjun"}, "edited": false, "score": 0, "creation_date": 1553068912, "post_id": 55255367, "comment_id": 97243617, "body": "Just to confirm with you, everytime you click the button, do you want to get all selected rows? Or the row whereby you have just selected?"}, {"owner": {"reputation": 26417, "user_id": 10959940, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cfe2af4009a4fe0acb46a707c8d5eab3?s=128&d=identicon&r=PG&f=1", "display_name": "wentjun", "link": "https://stackoverflow.com/users/10959940/wentjun"}, "edited": false, "score": 0, "creation_date": 1553069836, "post_id": 55255367, "comment_id": 97244026, "body": "And are you referring to the <code>onRowClicked </code> method?"}, {"owner": {"reputation": 21, "user_id": 9298967, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7bd20176dc5969e43c703bb26264a5ac?s=128&d=identicon&r=PG&f=1", "display_name": "DhanaLakshmi Sasapu", "link": "https://stackoverflow.com/users/9298967/dhanalakshmi-sasapu"}, "reply_to_user": {"reputation": 26417, "user_id": 10959940, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cfe2af4009a4fe0acb46a707c8d5eab3?s=128&d=identicon&r=PG&f=1", "display_name": "wentjun", "link": "https://stackoverflow.com/users/10959940/wentjun"}, "edited": false, "score": 0, "creation_date": 1553075000, "post_id": 55255367, "comment_id": 97246784, "body": "I just want to get the row data where I click the button. Then I am calling the deleterDir(event) method"}], "answers": [{"comments": [{"owner": {"reputation": 21, "user_id": 9298967, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7bd20176dc5969e43c703bb26264a5ac?s=128&d=identicon&r=PG&f=1", "display_name": "DhanaLakshmi Sasapu", "link": "https://stackoverflow.com/users/9298967/dhanalakshmi-sasapu"}, "edited": false, "score": 0, "creation_date": 1553075636, "post_id": 55256477, "comment_id": 97247195, "body": "What I want is when I click on the button deleteDir($event) is invoked and which row delete button is clicked that row data should be given to deleteDir($event)"}, {"owner": {"reputation": 26417, "user_id": 10959940, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cfe2af4009a4fe0acb46a707c8d5eab3?s=128&d=identicon&r=PG&f=1", "display_name": "wentjun", "link": "https://stackoverflow.com/users/10959940/wentjun"}, "reply_to_user": {"reputation": 21, "user_id": 9298967, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7bd20176dc5969e43c703bb26264a5ac?s=128&d=identicon&r=PG&f=1", "display_name": "DhanaLakshmi Sasapu", "link": "https://stackoverflow.com/users/9298967/dhanalakshmi-sasapu"}, "edited": false, "score": 0, "creation_date": 1553087484, "post_id": 55256477, "comment_id": 97254445, "body": "Ok, so basically, when you click that button, it will trigger <code>deleteDir()</code>, and on the <code>deleteDir()</code> method, you want to get the data of the row that is being delete?"}, {"owner": {"reputation": 21, "user_id": 9298967, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7bd20176dc5969e43c703bb26264a5ac?s=128&d=identicon&r=PG&f=1", "display_name": "DhanaLakshmi Sasapu", "link": "https://stackoverflow.com/users/9298967/dhanalakshmi-sasapu"}, "edited": false, "score": 0, "creation_date": 1553255398, "post_id": 55256477, "comment_id": 97326264, "body": "exactly @wentjun"}], "tags": [], "owner": {"reputation": 26417, "user_id": 10959940, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cfe2af4009a4fe0acb46a707c8d5eab3?s=128&d=identicon&r=PG&f=1", "display_name": "wentjun", "link": "https://stackoverflow.com/users/10959940/wentjun"}, "is_accepted": false, "score": 0, "last_activity_date": 1553070865, "creation_date": 1553070865, "answer_id": 55256477, "question_id": 55255367, "link": "https://stackoverflow.com/questions/55255367/how-to-get-the-row-data-by-clicking-the-button-in-ag-grid/55256477#55256477", "title": "How to get the row data by clicking the button in ag-grid", "body": "<p>I understand that your grid allows multiple selection, but I am unsure if you are trying to get only the selected row, or get all selected rows. You need to make the follow modifications:</p>\n\n<p>On your .html, include the event binding for <a href=\"https://www.ag-grid.com/javascript-grid-events/\" rel=\"nofollow noreferrer\">rowSelected</a> (you may read more about it on the API specifications):</p>\n\n<pre><code>&lt;ag-grid-angular (rowSelected)=\"onRowSelect($event)\" . . . . .&gt;&lt;/ag-grid-angular&gt;\n</code></pre>\n\n<p>And on your component.ts, you can handle the row selection event. If you want to get the selected row only, you can simply do this:</p>\n\n<pre><code>onRowSelect(event) {\n  console.log(event.data)\n  // handle event.data which is the object with the selected row data\n}\n</code></pre>\n\n<p>If you want to get all selected rows on selection, you can use <a href=\"https://www.ag-grid.com/javascript-grid-api/#selection\" rel=\"nofollow noreferrer\">getSelectedRows</a> which is part of the Ag-grid API. Do remember to initialise the grid API if you are to use it.</p>\n\n<p>On your .html,</p>\n\n<pre><code>&lt;ag-grid-angular (rowSelected)=\"onRowSelect($event)\" (gridReady)=\"onGridReady($event) . . . . .&gt;&lt;/ag-grid-angular&gt;\n</code></pre>\n\n<p>And on your component.ts, </p>\n\n<pre><code>onGridReady(params) {\n  this.gridApi = params.api;\n}\n\nonRowSelect(event) {\n  const selectedRows = this.gridApi.getSelectedRows();\n  console.log(selectedRows);\n}\n</code></pre>\n"}], "owner": {"reputation": 21, "user_id": 9298967, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7bd20176dc5969e43c703bb26264a5ac?s=128&d=identicon&r=PG&f=1", "display_name": "DhanaLakshmi Sasapu", "link": "https://stackoverflow.com/users/9298967/dhanalakshmi-sasapu"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 2865, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1553070865, "creation_date": 1553066270, "question_id": 55255367, "link": "https://stackoverflow.com/questions/55255367/how-to-get-the-row-data-by-clicking-the-button-in-ag-grid", "title": "How to get the row data by clicking the button in ag-grid", "body": "<p>I have written an angular code to display data in ag-grid. What I want is whenever I click on the button in particular cell I want to get the entire row data. But how my code is working is whenever I select the row I can get the data, whenever I deselect the row data is deleted. Can anyone help me to solve this? Here is my code:</p>\n\n<p>file-process.component.ts</p>\n\n<pre><code>export class FileProcessComponent implements OnInit {\n\n  searchResults : Array&lt;String&gt;;\n  private selectedRows = [];\n  selectionMode = \"multiple\";\n\n  path = \"http://localhost:3028/controller/getDirectoriesWithFiles\";\n\n  serialNumber = 1;\n  getIndexValue(){\n   return this.serialNumber++;\n  }\n\n  columnDefs =[\n    {headerName:\"S No\", valueGetter: (args) =&gt; this.getIndexValue(),checkboxSelection : true,headerCheckboxSelection: false,\n    headerCheckboxSelectionFilteredOnly: true,cellRenderer: 'selectedClient'}, \n    {headerName : 'Directory Name', field:'directory', sortable:true},\n    {headerName : 'Options',cellRenderer : 'buttonRenderer' ,\n     template : `\n     &lt;button type=\"button\" (click)=\"this.deleteDir($event)\"&gt;Delete&lt;/button&gt;\n     `\n    }\n  ]\n\n  constructor(private http: HttpClient,private r : Router, private dp : DirPathComponent, private sf : ShowFilesComponent) {\n    this.http.get(this.path).subscribe(\n      (data: any) =&gt; {\n        this.searchResults = data;\n        console.log(this.searchResults);\n        this.serialNumber = this.searchResults.length- this.searchResults.length+1;\n      },\n      error =&gt; console.log(error)\n    );\n\n   }\n   private params;\n   dirPath = 'http://localhost:3028/controller/setDirectory';\n   addDirectory(dirPath) : void{    \n    this.params = new HttpParams();\n    this.params = this.params.append('path', dirPath);\n    this.http.get(this.dirPath, { params: this.params }).subscribe((data: any) =&gt; {\n\n      this.http.get(this.path).subscribe(\n      (data: any) =&gt; {\n        this.searchResults = data;\n        console.log(this.searchResults);\n      },\n      error =&gt; console.log(error)\n    );\n    });\n   }\n\n   onRowClicked(event){\n    let temp = 0;\n    for(let i = 0; i &lt; this.selectedRows.length; i++){\n      if(this.selectedRows[i] == event.node.data.directory){\n        this.selectedRows.splice(i,1);\n        temp = 1;\n      }\n    }\n    if(temp === 0){\n      this.selectedRows.push(event.node.data.directory);\n    }\n  }\n  deleteDir(event){\n    // here I want which row is selected to delete\n  }\n\n  ngOnInit() {\n  }\n}\n</code></pre>\n\n<p>file-process.html:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;div class=\"page-body\"&gt;\r\n  &lt;div class=\"row\"&gt;\r\n    &lt;div class=\"col-sm-12\"&gt;\r\n      &lt;app-card [title]=\"file-process\"&gt;\r\n        &lt;div style=\"float:left\"&gt;\r\n          &lt;h4&gt;Add directory&lt;/h4&gt;\r\n          &lt;form&gt;\r\n            &lt;input type=\"search\" #path name=\"query\"&gt;\r\n            &lt;button type=\"button\" (click)=\"addDirectory(path.value)\"&gt;Add&lt;/button&gt;\r\n          &lt;/form&gt;\r\n      &lt;/div&gt;\r\n      &lt;/app-card&gt;\r\n    &lt;/div&gt;\r\n  &lt;/div&gt;\r\n&lt;/div&gt;\r\n&lt;div class=\"page-body\"&gt;\r\n    &lt;div class=\"row\"&gt;\r\n      &lt;div class=\"col-sm-12\"&gt;\r\n        &lt;app-card [title]=\"file-process\"&gt;\r\n          &lt;ag-grid-angular\r\n          style=\"width : 605px; height:250px;\" \r\n          class=\"ag-theme-balham\"\r\n          [rowData]=\"searchResults\" \r\n          [columnDefs]=\"columnDefs\" \r\n          [rowSelection]=\"selectionMode\"\r\n          [rowMultiSelectWithClick] = true\r\n          (rowClicked)=\"onRowClicked($event)\"\r\n          &gt;\r\n          &lt;/ag-grid-angular&gt;\r\n        &lt;/app-card&gt;\r\n      &lt;/div&gt;\r\n    &lt;/div&gt;\r\n  &lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": ["typescript", "testing", "automation", "protractor"], "comments": [{"owner": {"reputation": 3238, "user_id": 7404943, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/364eff21ecce181be48b17e7208397e2?s=128&d=identicon&r=PG&f=1", "display_name": "barbsan", "link": "https://stackoverflow.com/users/7404943/barbsan"}, "edited": false, "score": 0, "creation_date": 1553067709, "post_id": 55255349, "comment_id": 97243096, "body": "Are you sure that value is <code>&quot;true&quot;</code> (string), not <code>true</code> (boolean)?"}, {"owner": {"reputation": 1706, "user_id": 6584292, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0f36a6fda1070ace216abe3c0982bb14?s=128&d=identicon&r=PG&f=1", "display_name": "praveen Dp", "link": "https://stackoverflow.com/users/6584292/praveen-dp"}, "reply_to_user": {"reputation": 3238, "user_id": 7404943, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/364eff21ecce181be48b17e7208397e2?s=128&d=identicon&r=PG&f=1", "display_name": "barbsan", "link": "https://stackoverflow.com/users/7404943/barbsan"}, "edited": false, "score": 0, "creation_date": 1553585186, "post_id": 55255349, "comment_id": 97427392, "body": "for example i kept true..its not about value"}], "answers": [{"tags": [], "owner": {"reputation": 4384, "user_id": 9321755, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-MJdCwK_eJfw/AAAAAAAAAAI/AAAAAAAAAUg/iwt-_10hlFE/photo.jpg?sz=128", "display_name": "Vaibhav Vishal", "link": "https://stackoverflow.com/users/9321755/vaibhav-vishal"}, "is_accepted": false, "score": 0, "last_activity_date": 1553067099, "last_edit_date": 1553067099, "creation_date": 1553066531, "answer_id": 55255427, "question_id": 55255349, "link": "https://stackoverflow.com/questions/55255349/how-to-execute-test-cases-in-protractor-with-different-conditions/55255427#55255427", "title": "How to execute test cases in protractor with different conditions?", "body": "<p>Try something like this:</p>\n\n<pre><code>describe('some', () =&gt; {\n    it('steps-1', async(){\n        if(value!==\"true\") this.skip();\n        //else do some steps\n    });\n\n    it('steps-2', async(){\n        if(value===\"true\") this.skip();\n        //else do some steps\n    });\n});\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 368, "user_id": 11043454, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WhfDS.jpg?s=128&g=1", "display_name": "Ansi", "link": "https://stackoverflow.com/users/11043454/ansi"}, "is_accepted": false, "score": 0, "last_activity_date": 1553068694, "creation_date": 1553068694, "answer_id": 55255944, "question_id": 55255349, "link": "https://stackoverflow.com/questions/55255349/how-to-execute-test-cases-in-protractor-with-different-conditions/55255944#55255944", "title": "How to execute test cases in protractor with different conditions?", "body": "<p>This might be happening because protractor not able to find  <code>value</code>.</p>\n\n<p>You can try this</p>\n\n<pre><code>describe('some', () =&gt; {\n  $('#abc').isPresent().then(function (value) { // $('#abc') some element on your UI\n\n  if (value === true) {\n    it('steps-1', ()=&gt; {\n      //some steps\n    });\n  } else {\n    it('steps-2', ()=&gt; {\n      //some steps\n    });\n  }\n});\n});\n</code></pre>\n"}], "owner": {"reputation": 1706, "user_id": 6584292, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0f36a6fda1070ace216abe3c0982bb14?s=128&d=identicon&r=PG&f=1", "display_name": "praveen Dp", "link": "https://stackoverflow.com/users/6584292/praveen-dp"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 64, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1553069086, "creation_date": 1553066204, "last_edit_date": 1553067628, "question_id": 55255349, "link": "https://stackoverflow.com/questions/55255349/how-to-execute-test-cases-in-protractor-with-different-conditions", "title": "How to execute test cases in protractor with different conditions?", "body": "<p>I have written condition for executing different test cases in different scenarios, but it is always executing <code>else</code> condition only even it is true. Is there any other approach to handle test cases with different condition?</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>describe('some', () =&gt; {\n  if (value == \"true\") {\n    it('steps-1', async() {\n      //some steps\n    });\n  } else {\n    it('steps-2', async() {\n      //some steps\n    });\n  }\n});\n</code></pre>\n"}, {"tags": ["javascript", "typescript", "ptree"], "owner": {"reputation": 11, "user_id": 9963896, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-ZuDply3Htzc/AAAAAAAAAAI/AAAAAAAAAIE/3iQBMYv1PNA/photo.jpg?sz=128", "display_name": "ankita mangroliya", "link": "https://stackoverflow.com/users/9963896/ankita-mangroliya"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 45, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1553065718, "creation_date": 1553065660, "last_edit_date": 1553065718, "question_id": 55255228, "link": "https://stackoverflow.com/questions/55255228/how-to-copy-primeng-tree-byvalue-in-typescript-which-have-circular-structure", "title": "How to copy primeNG tree ByValue in typescript which have Circular Structure", "body": "<p>What is the most efficient way to clone a <strong>primeNG tree</strong> object which have Circular Structure?\nI've done things like</p>\n\n<ol>\n<li><code>obj = JSON.parse(JSON.stringify(o));</code> \n//but JSON.stringify() not working for Circular Structuure. </li>\n<li><code>var newObject = jQuery.extend(true, {}, oldObject);</code></li>\n<li><code>let newObject = this.copyObj(oldObject); \ncopyObj(obj) {\n// This is done because we need a copy of list, without this code it will copy a ref which will update file badges on create screen without add button click\nreturn [obj[0]];\n}</code></li>\n<li><code>let newObject = Object.assign({}, oldObject);</code></li>\n</ol>\n\n<p>But all this method <strong>Copy Object</strong> <strong>ByReference</strong> not <strong>ByValue</strong></p>\n"}, {"tags": ["angular", "typescript", "rest", "sugarcrm"], "comments": [{"owner": {"reputation": 11173, "user_id": 4976422, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/xf3k5.jpg?s=128&g=1", "display_name": "Ashish Ranjan", "link": "https://stackoverflow.com/users/4976422/ashish-ranjan"}, "edited": false, "score": 1, "creation_date": 1553064805, "post_id": 55255001, "comment_id": 97241904, "body": "Try passing the headers as <code>this.http.get(</code>${API_URL}${path}<code>, {headers: headers})</code>"}, {"owner": {"reputation": 581, "user_id": 4401980, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/6fc904160b62d0f44fe5ad4e139e9990?s=128&d=identicon&r=PG&f=1", "display_name": "Meh", "link": "https://stackoverflow.com/users/4401980/meh"}, "reply_to_user": {"reputation": 11173, "user_id": 4976422, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/xf3k5.jpg?s=128&g=1", "display_name": "Ashish Ranjan", "link": "https://stackoverflow.com/users/4976422/ashish-ranjan"}, "edited": false, "score": 0, "creation_date": 1553065125, "post_id": 55255001, "comment_id": 97242048, "body": "Hi @xyz, made the changes but now the call isn&#39;t even being made to the server and the console displays the following error: <code>Response for preflight has invalid HTTP status code 404.</code>"}], "answers": [{"comments": [{"owner": {"reputation": 581, "user_id": 4401980, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/6fc904160b62d0f44fe5ad4e139e9990?s=128&d=identicon&r=PG&f=1", "display_name": "Meh", "link": "https://stackoverflow.com/users/4401980/meh"}, "edited": false, "score": 0, "creation_date": 1553065628, "post_id": 55255118, "comment_id": 97242248, "body": "Hi @Qellson, made the changes but now the call isn&#39;t even being made to the server and the console displays the following error: <code>Response for preflight has invalid HTTP status code 404</code>. Similar solution was given by @xyz just moments ago in the comments"}, {"owner": {"reputation": 532, "user_id": 8215522, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/83efce308ff4f69e6b4159be8ea559a0?s=128&d=identicon&r=PG&f=1", "display_name": "Qellson", "link": "https://stackoverflow.com/users/8215522/qellson"}, "reply_to_user": {"reputation": 581, "user_id": 4401980, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/6fc904160b62d0f44fe5ad4e139e9990?s=128&d=identicon&r=PG&f=1", "display_name": "Meh", "link": "https://stackoverflow.com/users/4401980/meh"}, "edited": false, "score": 0, "creation_date": 1553085319, "post_id": 55255118, "comment_id": 97253132, "body": "Maybe this will help @noobdev : <a href=\"https://stackoverflow.com/questions/29954037/why-is-an-options-request-sent-and-can-i-disable-it\" title=\"why is an options request sent and can i disable it\">stackoverflow.com/questions/29954037/&hellip;</a>"}], "tags": [], "owner": {"reputation": 532, "user_id": 8215522, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/83efce308ff4f69e6b4159be8ea559a0?s=128&d=identicon&r=PG&f=1", "display_name": "Qellson", "link": "https://stackoverflow.com/users/8215522/qellson"}, "is_accepted": true, "score": 1, "last_activity_date": 1553065179, "creation_date": 1553065179, "answer_id": 55255118, "question_id": 55255001, "link": "https://stackoverflow.com/questions/55255001/angular-http-get-headers-not-being-recognized/55255118#55255118", "title": "Angular http.get headers not being recognized", "body": "<pre><code>get(path: string, data: any, params: HttpParams = new HttpParams()): Observable &lt; any &gt; {\nlet httpOptions ={headers: this.requestHeaders(path, data)}; \nreturn this.http.get(`${API_URL}${path}`, httpOptions)\n        .pipe(catchError(this.formatErrors));\n}\n</code></pre>\n\n<p>Try it like this. You need to pass an option object that contains the headers property.</p>\n\n<p><a href=\"https://angular.io/guide/http#adding-headers\" rel=\"nofollow noreferrer\">https://angular.io/guide/http#adding-headers</a></p>\n"}], "owner": {"reputation": 581, "user_id": 4401980, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/6fc904160b62d0f44fe5ad4e139e9990?s=128&d=identicon&r=PG&f=1", "display_name": "Meh", "link": "https://stackoverflow.com/users/4401980/meh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 244, "favorite_count": 1, "accepted_answer_id": 55255118, "answer_count": 1, "score": 2, "last_activity_date": 1553068523, "creation_date": 1553064618, "last_edit_date": 1553068523, "question_id": 55255001, "link": "https://stackoverflow.com/questions/55255001/angular-http-get-headers-not-being-recognized", "title": "Angular http.get headers not being recognized", "body": "<p>I am building an angular 6 application that sends a <code>get</code> request to the server through a <code>REST API</code>. The URL takes in a few headers and returns the required data, and has been successfully tested on PostMan. Here is the screenshot showing the headers needed by the server:</p>\n\n<p><a href=\"https://i.stack.imgur.com/TAcoU.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/TAcoU.png\" alt=\"Post Man image\"></a></p>\n\n<p>I am trying to create a function using <code>http.get</code> in order to retrieve these records in my application. I have created a service called <code>listService</code> that would take in the module name and prepare a header object. The service would then call an <code>adapterService</code> (containing my <code>get</code> function), that would prepare the headers and fire the request to the server. Unfortunately instead of getting a valid response I receive the following error:</p>\n\n<blockquote>\n  <p>\"SyntaxError: Unexpected token &lt; in JSON at position 0\n      at JSON.parse ()\n      at XMLHttpRequest.onLoad (<a href=\"http://localhost:4200/vendor.js:13170:51\" rel=\"nofollow noreferrer\">http://localhost:4200/vendor.js:13170:51</a>)\n      at ZoneDelegate.push../node_modules/zone.js/dist/zone.js.ZoneDelegate.invokeTask (<a href=\"http://localhost:4200/polyfills.js:2743:31\" rel=\"nofollow noreferrer\">http://localhost:4200/polyfills.js:2743:31</a>)\n      at Object.onInvokeTask (<a href=\"http://localhost:4200/vendor.js:42628:33\" rel=\"nofollow noreferrer\">http://localhost:4200/vendor.js:42628:33</a>)\n      at ZoneDelegate.push../node_modules/zone.js/dist/zone.js.ZoneDelegate.invokeTask (<a href=\"http://localhost:4200/polyfills.js:2742:36\" rel=\"nofollow noreferrer\">http://localhost:4200/polyfills.js:2742:36</a>)\n      at Zone.push../node_modules/zone.js/dist/zone.js.Zone.runTask (<a href=\"http://localhost:4200/polyfills.js:2510:47\" rel=\"nofollow noreferrer\">http://localhost:4200/polyfills.js:2510:47</a>)\n      at ZoneTask.push../node_modules/zone.js/dist/zone.js.ZoneTask.invokeTask [as invoke] (<a href=\"http://localhost:4200/polyfills.js:2818:34\" rel=\"nofollow noreferrer\">http://localhost:4200/polyfills.js:2818:34</a>)\n      at invokeTask (<a href=\"http://localhost:4200/polyfills.js:3862:14\" rel=\"nofollow noreferrer\">http://localhost:4200/polyfills.js:3862:14</a>)\n      at XMLHttpRequest.globalZoneAwareCallback (<a href=\"http://localhost:4200/polyfills.js:3888:17\" rel=\"nofollow noreferrer\">http://localhost:4200/polyfills.js:3888:17</a>)\"</p>\n</blockquote>\n\n<p>Upon adding the logs from the server I noticed the headers that were being sent in the request:</p>\n\n<pre><code> Wed Mar 20 11:37:43 2019 [21570][-none-][FATAL] Array\n(\n    [Host] =&gt; localhost\n    [Connection] =&gt; keep-alive\n    [Accept] =&gt; application/json, text/plain, */*\n    [Origin] =&gt; http://evil.com/\n    [User-Agent] =&gt; Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/64.0.3282.140 Safari/537.36\n    [Referer] =&gt; http://localhost:4200/profile\n    [Accept-Encoding] =&gt; gzip, deflate, br\n    [Accept-Language] =&gt; en-US,en;q=0.9\n    [If-None-Match] =&gt; d41d8cd98f00b204e9800998ecf8427e\n)\n</code></pre>\n\n<p>The data I'm sending is not even being added to the headers! I'm not sure why this is happening. I've checked the docs to see if I'm adding the <code>http headers</code> the wrong way, and have console logged at various points and everything seems to be fine <strong>up until</strong> the call to <code>http.get</code>. I really don't understand what's going on here.</p>\n\n<p>Here is my code:</p>\n\n<p><strong>listService</strong></p>\n\n<pre><code>import { Injectable } from '@angular/core';\nimport { JwtService } from 'src/app/services/jwt/jwt.service';\nimport { AdapterService } from 'src/app/services/adapter/adapter.service';\nimport { environment } from 'src/environments/environment';\nimport { NGXLogger } from 'ngx-logger';\nimport { Observable } from 'rxjs';\nimport { ToastrService } from 'ngx-toastr';\nimport { TranslatePipe } from 'src/app/pipes/translate/translate.pipe';\n\n/**\n* This property contains the attributes of the environment configuration.\n*/\nconst API = environment.api;\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class ListService {\n\n  /**\n  * Constructor to initialize the jwt service, adapter service, logger and translation pipe\n  */\n  constructor(private adapter: AdapterService,\n    private jwt: JwtService,\n    private translate: TranslatePipe,\n    private logger: NGXLogger,\n    private toaster: ToastrService) { }\n\n  /**\n   * This method initialzes the parameters for the the Get call.\n   *\n   * @param  username\n   * @param  password\n   * @return\n   */\n  initializeParameters(module: string): any {\n    let token = this.jwt.getToken();\n    let params = {\n      \"module\": module,\n      \"platform\": API.platform,\n      \"oauth_token\": token\n    };\n    return params;\n  }\n\n  /**\n  * This method sends request for listing relevant data from module\n  */\n  listData(module: string) {\n    let params = this.initializeParameters(module);\n    this.adapter.get('customPortalApi/listRecords', params)\n      .subscribe(\n        response =&gt; {\n          this.logger.warn(response);\n        },\n        error =&gt; {\n          let errmsg = this.translate.transform(\"pages[login_page][responses][error][\" + error.error + \"]\");\n          this.toaster.error(errmsg); console.log(error);\n        }\n      )\n  }\n}\n</code></pre>\n\n<p><strong>adapterService (header and get functions)</strong></p>\n\n<pre><code>private requestHeaders(path: string, headerData: any) {\n    let headers;\n    if (path !== 'customPortalApi/customToken') {\n        headers = new HttpHeaders();\n        for(let key in headerData){\n          let value = headerData[key];\n          headers = headers.append(key, value);\n        }\n      }\n        return headers;\n    }\n\n  /**\n   * This method generates the GET api call.\n   *\n   * @param path\n   * @param params\n   * @method get\n   * @return\n   */\n    get(path: string, data: any, params: HttpParams = new HttpParams()): Observable &lt; any &gt; {\n    let headers = this.requestHeaders(path, data); \n    return this.http.get(`${API_URL}${path}`, headers)\n            .pipe(catchError(this.formatErrors));\n    }\n</code></pre>\n\n<p><strong>dummy component (for call)</strong></p>\n\n<pre><code>import { Component, OnInit } from '@angular/core';\nimport {ListService} from 'src/app/services/list/list.service';\n\n/**\n* This component is for testing\n*/\n@Component({\n  selector: 'app-dummy',\n  templateUrl: './dummy.component.html',\n  styleUrls: ['./dummy.component.scss']\n})\nexport class DummyComponent implements OnInit{\n  constructor(private list: ListService){}\n\n  ngOnInit(){\n    this.list.listData(\"accounts\");\n  }\n}\n</code></pre>\n\n<p><strong>EDIT</strong> for anyone who wants to get an idea of how the header object looks like before making the call to <code>http.get</code>:</p>\n\n<p><a href=\"https://i.stack.imgur.com/qQvwM.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/qQvwM.png\" alt=\"picture\"></a></p>\n\n<p><strong>Another Edit</strong>\nCould it be that CORS may be causing an issue? I have set <code>Access-Control-Allow-Origin</code> to \"*\". Here is my network activity once the I made changes proposed:</p>\n\n<p><a href=\"https://i.stack.imgur.com/AvyLh.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/AvyLh.png\" alt=\"result\"></a></p>\n\n<p>The <code>REST</code> service is being hit but it is not redirecting me to my API</p>\n\n<p>The headers being logged on the server when I send via postman are:</p>\n\n<pre><code>Wed Mar 20 12:52:50 2019 [21570][1][FATAL] Array\n(\n    [Host] =&gt; localhost\n    [Connection] =&gt; keep-alive\n    [module] =&gt; Accounts\n    [Cache-Control] =&gt; no-cache\n    [oauth_token] =&gt; 9efe19d4d2ec3b557b4d0588a3f74d5d3cc0ed46\n    [platform] =&gt; base\n    [User-Agent] =&gt; Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/64.0.3282.140 Safari/537.36\n    [Postman-Token] =&gt; 3ddc88e1-e7a8-700f-580b-801da5f0adde\n    [Accept] =&gt; */*\n    [Accept-Encoding] =&gt; gzip, deflate, br\n    [Accept-Language] =&gt; en-US,en;q=0.9\n    [Cookie] =&gt; download_token_base=e790d5a8-17a4-4110-98ab-a6648a0ef385\n)\n</code></pre>\n\n<p>And these <strong>are</strong> working properly</p>\n"}, {"tags": ["javascript", "reactjs", "typescript", "react-native"], "answers": [{"tags": [], "owner": {"reputation": 147776, "user_id": 3731501, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/e4783dfa8ec98c884e61d29f2192ac97?s=128&d=identicon&r=PG&f=1", "display_name": "Estus Flask", "link": "https://stackoverflow.com/users/3731501/estus-flask"}, "is_accepted": true, "score": 3, "last_activity_date": 1553072063, "last_edit_date": 1553072063, "creation_date": 1553071193, "answer_id": 55256560, "question_id": 55254989, "link": "https://stackoverflow.com/questions/55254989/typescript-dynamically-extend-interface/55256560#55256560", "title": "Typescript - Dynamically extend interface", "body": "<p>There can be intersection/union type:</p>\n\n<pre><code>interface Component1Props { .... }\ninterface Component2Props { .... }\ninterface WrapperOwnProps {\n  useComponent1: boolean\n  useComponent2: boolean\n}\ntype WrapperProps = WrapperOwnProps &amp; (Component1Props | Component2Props);\n</code></pre>\n\n<p>Props type can be additionally asserted:</p>\n\n<pre><code>class Wrapper extends Component&lt;WrapperProps&gt; {\n  render(){\n    const { useComponent1, useComponent2, ...props } = this.props;\n    if(useComponent1){\n      return &lt;Component1 {...props as Component1Props}/&gt;\n    }\n\n    if(useComponent2){\n      return &lt;Component2 {...props as Component2Props}/&gt;\n    }\n  }\n}\n</code></pre>\n"}], "owner": {"reputation": 1522, "user_id": 6907055, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0055675e50553e91d6ef292f7a5a21e4?s=128&d=identicon&r=PG&f=1", "display_name": "CampbellMG", "link": "https://stackoverflow.com/users/6907055/campbellmg"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 455, "favorite_count": 0, "accepted_answer_id": 55256560, "answer_count": 1, "score": 1, "last_activity_date": 1553072063, "creation_date": 1553064563, "question_id": 55254989, "link": "https://stackoverflow.com/questions/55254989/typescript-dynamically-extend-interface", "title": "Typescript - Dynamically extend interface", "body": "<p>I am trying to type an existing React Native module with the following props:</p>\n\n<pre><code>useComponent1: boolean\nuseComponent2: boolean\n</code></pre>\n\n<p>With the following implementation</p>\n\n<pre><code>render(){\n    if(useComponent1){\n        return &lt;Component1 {...props}/&gt;\n    }\n\n    if(useComponent2){\n        return &lt;Component2 {...props}/&gt;\n    }\n}\n</code></pre>\n\n<p>I have an interface for components 1 &amp; 2, however, I can't extend both as the props are determined by which component is utilised.</p>\n\n<p>Is it possible to dynamically extends an interface?</p>\n\n<p>If not, is there another solution to this issue?</p>\n"}, {"tags": ["typescript", "prototype"], "comments": [{"owner": {"reputation": 886, "user_id": 787642, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/BYHi4.jpg?s=128&g=1", "display_name": "Oz Lodriguez", "link": "https://stackoverflow.com/users/787642/oz-lodriguez"}, "edited": false, "score": 0, "creation_date": 1553086267, "post_id": 55254712, "comment_id": 97253715, "body": "I thought I knew the answer. But tried it as well and it feels like incorrect behavior. Good find @L_K. Might be worth mentioning to the dev team"}, {"owner": {"reputation": 2298, "user_id": 4340261, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/UMuEF.png?s=128&g=1", "display_name": "L_K", "link": "https://stackoverflow.com/users/4340261/l-k"}, "reply_to_user": {"reputation": 886, "user_id": 787642, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/BYHi4.jpg?s=128&g=1", "display_name": "Oz Lodriguez", "link": "https://stackoverflow.com/users/787642/oz-lodriguez"}, "edited": false, "score": 0, "creation_date": 1553139117, "post_id": 55254712, "comment_id": 97277668, "body": "@OzLodriguez I&#39;ll open a issue in the github :-)"}], "answers": [{"comments": [{"owner": {"reputation": 2298, "user_id": 4340261, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/UMuEF.png?s=128&g=1", "display_name": "L_K", "link": "https://stackoverflow.com/users/4340261/l-k"}, "edited": false, "score": 1, "creation_date": 1553076022, "post_id": 55254886, "comment_id": 97247474, "body": "I don&#39;t think <code>abc</code> is on <code>Hello.prototype</code>, because it&#39;s actually initialized in the constructor."}, {"owner": {"reputation": 886, "user_id": 787642, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/BYHi4.jpg?s=128&g=1", "display_name": "Oz Lodriguez", "link": "https://stackoverflow.com/users/787642/oz-lodriguez"}, "reply_to_user": {"reputation": 2298, "user_id": 4340261, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/UMuEF.png?s=128&g=1", "display_name": "L_K", "link": "https://stackoverflow.com/users/4340261/l-k"}, "edited": false, "score": 0, "creation_date": 1553086154, "post_id": 55254886, "comment_id": 97253644, "body": "Good observation. Even if you add another class stating <code>Hello2.prototype</code> TypeScript type will still work as well. I am confused by this as to why it&#39;s working. Might even be a bug! Might be worth mentioning to The TS github project?"}], "tags": [], "owner": {"reputation": 886, "user_id": 787642, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/BYHi4.jpg?s=128&g=1", "display_name": "Oz Lodriguez", "link": "https://stackoverflow.com/users/787642/oz-lodriguez"}, "is_accepted": false, "score": 0, "last_activity_date": 1553085428, "last_edit_date": 1553085428, "creation_date": 1553064111, "answer_id": 55254886, "question_id": 55254712, "link": "https://stackoverflow.com/questions/55254712/typescript-class-prototype-includes-instance-member/55254886#55254886", "title": "TypeScript class prototype includes instance member", "body": "<p>The <code>class</code> syntax is basically just sugar coating. JavaScript still utilizes prototypes under the hood for instance methods. So eventhough you are creating a scoped member inside of a class. <code>Hello</code> is a global object that contains <code>abc</code> and even <code>k</code> won't be on it's prototype chain. </p>\n\n<p>There is a nice article about the information here <a href=\"https://medium.com/javascript-scene/javascript-factory-functions-with-es6-4d224591a8b1\" rel=\"nofollow noreferrer\">https://medium.com/javascript-scene/javascript-factory-functions-with-es6-4d224591a8b1</a></p>\n\n<p>More insane yet, you can actually do this </p>\n\n<pre><code>class Hello {\n    ...\n}\n\n Hello.prototype.hiThere = 'oh Hello' \n\n const test = new Hello()\n\n test.hiThere =&gt; oh Hello\n\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "reply_to_user": {"reputation": 2298, "user_id": 4340261, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/UMuEF.png?s=128&g=1", "display_name": "L_K", "link": "https://stackoverflow.com/users/4340261/l-k"}, "edited": false, "score": 0, "creation_date": 1553195152, "post_id": 55261968, "comment_id": 97304805, "body": "Assuming you created <a href=\"https://github.com/Microsoft/TypeScript/issues/30516\" rel=\"nofollow noreferrer\">this issue</a>, I see @RyanCavanaugh had better luck than I did finding existing issues.  I&#39;ve edit the above answer to include them."}], "tags": [], "owner": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "is_accepted": true, "score": 4, "last_activity_date": 1553195102, "last_edit_date": 1553195102, "creation_date": 1553088814, "answer_id": 55261968, "question_id": 55254712, "link": "https://stackoverflow.com/questions/55254712/typescript-class-prototype-includes-instance-member/55261968#55261968", "title": "TypeScript class prototype includes instance member", "body": "<p>The issue is that for <code>class X {...}</code>, The type of <code>X.prototype</code> is represented in TypeScript as <code>X</code>, the type of an instance of a class.  From the (outdated but still relevant for this question) <a href=\"https://github.com/Microsoft/TypeScript/blob/cfb0adeadf1f21b5f8201cb2c0765f3f4467633f/doc/spec.md#825-constructor-function-types\" rel=\"nofollow noreferrer\">TypeScript Language Specification</a>:</p>\n\n<blockquote>\n  <p>The type of the constructor function introduced by a class declaration is called the constructor function type. The constructor function type has the following members:</p>\n  \n  <p>...[snip]...</p>\n  \n  <ul>\n  <li>A property named 'prototype', the type of which is an instantiation of the class type with type Any supplied as a type argument for each type parameter.\n  </blockquote></li>\n  </ul>\n\n\n<p>So TypeScript thinks that the type of <code>Hello.prototype</code> is <code>Hello</code>.  This is, of course, not true in general.  It's true for methods, but not for instance properties, as you have discovered.  </p>\n\n<p>I searched through the <a href=\"https://github.com/Microsoft/TypeScript/issues\" rel=\"nofollow noreferrer\">issues in Github</a> <strike>but didn't find anything mentioning this.  It might be worth opening a new issue suggesting that the type of a class prototype be widened to only include methods.</strike></p>\n\n<p>EDIT: Whoopsie, I guess there are <a href=\"https://github.com/Microsoft/TypeScript/issues/11558\" rel=\"nofollow noreferrer\">several</a> existing <a href=\"https://github.com/Microsoft/TypeScript/issues/20922\" rel=\"nofollow noreferrer\">issues</a> about this, which were essentially declined suggestions because it would hurt more than it would help.</p>\n\n<p>I know for a fact that doing so would mess up some stuff (currently an <code>x instanceof Class</code> check will narrow <code>x</code>'s type to <code>Class['prototype']</code>, which, if widened to only include methods, would break everyone's code everywhere), so I doubt that they'd take such a suggestion.  <strike>But it would be nice to have somewhere to point as official word on this issue.</strike></p>\n\n<p>Anyway, backing up to your problem... the runtime code is good, right?  And you want this to work:</p>\n\n<pre><code>new Hello().k(\"a\");\n</code></pre>\n\n<p>and would like a compiler warning on</p>\n\n<pre><code>new Hello().k(\"oopsie\"); // error\n</code></pre>\n\n<p>?  If so, then I'd suggest taking <code>prototype</code> out of the equation entirely and use a <a href=\"https://www.typescriptlang.org/docs/handbook/release-notes/typescript-2-1.html#keyof-and-lookup-types\" rel=\"nofollow noreferrer\">lookup type</a> instead on the instance type <code>Hello</code> instead:</p>\n\n<pre><code>class Hello {\n    abc = {\n        a: 'l',\n        b: 1,\n    }\n    k = (prop: keyof Hello['abc']) =&gt; {\n        console.log(prop)\n    }\n}\n</code></pre>\n\n<p>This now behaves as desired and is not exposing the weirdness around instance properties and class prototypes in TypeScript.</p>\n\n<p>Okay, hope that helps.  Good luck!</p>\n"}], "owner": {"reputation": 2298, "user_id": 4340261, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/UMuEF.png?s=128&g=1", "display_name": "L_K", "link": "https://stackoverflow.com/users/4340261/l-k"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 640, "favorite_count": 1, "accepted_answer_id": 55261968, "answer_count": 2, "score": 1, "last_activity_date": 1553195102, "creation_date": 1553063219, "question_id": 55254712, "link": "https://stackoverflow.com/questions/55254712/typescript-class-prototype-includes-instance-member", "title": "TypeScript class prototype includes instance member", "body": "<p>Below is my code snippet:</p>\n\n<pre><code>class Hello {\n    abc = {\n        a: 'l',\n        b: 1,\n    }\n    k = (prop: keyof typeof Hello.prototype.abc) =&gt; {\n        console.log(prop)\n    }\n}\n</code></pre>\n\n<p>And the code works fine in TypeScript official playground.</p>\n\n<p>So my question is: <code>abc</code> is a instance member of class <code>Hello</code>, <strong>Why can I access the <code>abc</code> property from <code>Hello.prototype</code>?</strong></p>\n"}, {"tags": ["angular", "visual-studio", "typescript"], "answers": [{"comments": [{"owner": {"reputation": 218, "user_id": 4244707, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6Vktl.jpg?s=128&g=1", "display_name": "  iluxa1810", "link": "https://stackoverflow.com/users/4244707/iluxa1810"}, "edited": false, "score": 0, "creation_date": 1553062458, "post_id": 55254483, "comment_id": 97241050, "body": "I dont have @angular/core/index.d.ts...  What should I do to fix it?  Why other files do not have such errors?"}, {"owner": {"reputation": 218, "user_id": 4244707, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6Vktl.jpg?s=128&g=1", "display_name": "  iluxa1810", "link": "https://stackoverflow.com/users/4244707/iluxa1810"}, "edited": false, "score": 0, "creation_date": 1553062490, "post_id": 55254483, "comment_id": 97241059, "body": "After a restart, there are no errors, but decorator warning have alive..."}, {"owner": {"reputation": 218, "user_id": 4244707, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6Vktl.jpg?s=128&g=1", "display_name": "  iluxa1810", "link": "https://stackoverflow.com/users/4244707/iluxa1810"}, "edited": false, "score": 0, "creation_date": 1553069996, "post_id": 55254483, "comment_id": 97244094, "body": "Eh, now again error Cannot find module, but i don&#39;t use npm install... =( Some ideas?"}], "tags": [], "owner": {"reputation": 204459, "user_id": 390330, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/1400be56ff17549b926dd3260da4a494?s=128&d=identicon&r=PG", "display_name": "basarat", "link": "https://stackoverflow.com/users/390330/basarat"}, "is_accepted": false, "score": 1, "last_activity_date": 1553061915, "creation_date": 1553061915, "answer_id": 55254483, "question_id": 55254394, "link": "https://stackoverflow.com/questions/55254394/typescript-doesnt-love-nesting/55254483#55254483", "title": "TypeScript doesn&#39;t love nesting?", "body": "<blockquote>\n  <p>but path is valid:</p>\n</blockquote>\n\n<p>Your screenshot shows <code>@angular/core/core.d.ts</code>. <code>@angular/core</code> will resolve to <code>@angular/core/index.d.ts</code>. I don't see it in the screenshot.</p>\n\n<p><a href=\"https://i.stack.imgur.com/ucFfX.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ucFfX.png\" alt=\"enter image description here\"></a></p>\n\n<p>If you do have <code>index.d.ts</code>, just restart your IDE. When you do a fresh npm install, the file system changes aggressively and the OS fails to notify listeners.</p>\n\n<blockquote>\n  <p>but tsconfig.json have \"experimentalDecorators\": true</p>\n</blockquote>\n\n<p>Again, restart your IDE. If you change tsconfig.json when a file is open, it might not get re-error-checked \ud83c\udf39</p>\n"}], "owner": {"reputation": 218, "user_id": 4244707, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6Vktl.jpg?s=128&g=1", "display_name": "  iluxa1810", "link": "https://stackoverflow.com/users/4244707/iluxa1810"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 46, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1553061915, "creation_date": 1553061412, "question_id": 55254394, "link": "https://stackoverflow.com/questions/55254394/typescript-doesnt-love-nesting", "title": "TypeScript doesn&#39;t love nesting?", "body": "<p>VS 2017 show warning:</p>\n\n<blockquote>\n  <p>TS:Cannot find module</p>\n</blockquote>\n\n<p>but path is valid:</p>\n\n<p><a href=\"https://i.stack.imgur.com/ucFfX.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ucFfX.png\" alt=\"enter image description here\"></a></p>\n\n<p>and show warnings about decorators:</p>\n\n<blockquote>\n  <p>Experimental support for decorators is a feature that is subject to\n  change in a future release</p>\n</blockquote>\n\n<p>but tsconfig.json have  \"experimentalDecorators\": true</p>\n\n<p>However, the project runs successfully.</p>\n\n<p>Maybe nesting creates a problem?</p>\n\n<p><a href=\"https://i.stack.imgur.com/VQczr.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/VQczr.png\" alt=\"enter image description here\"></a></p>\n\n<p>Components above level have no problem.</p>\n\n<p>I noticed that such warnings appeared where js files are located.</p>\n\n<p><a href=\"https://i.stack.imgur.com/csYS6.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/csYS6.png\" alt=\"enter image description here\"></a></p>\n\n<p>What i doing wrong? How fix this problem?</p>\n\n<p>P.S Sorry for bad English <code>\u00af\\_(\u30c4)_/\u00af</code></p>\n"}, {"tags": ["typescript"], "comments": [{"owner": {"reputation": 4036, "user_id": 1109179, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/946c3899f642e09870abbf34cf95872e?s=128&d=identicon&r=PG", "display_name": "Sohan", "link": "https://stackoverflow.com/users/1109179/sohan"}, "edited": false, "score": 0, "creation_date": 1553090753, "post_id": 55254309, "comment_id": 97256589, "body": "I dont think it is possible this way,  where you initialised the SuperClass object with a json object, the keys on that object are the only keys you can access. keyof is a very nice addition to TS that allows enumeration of a types keys very quickly and combined like this you can restrict data programmatically at compile time to ensure your objects are safe and cant have whatever values you choose  <a href=\"https://www.typescriptlang.org/docs/handbook/release-notes/typescript-2-1.html\" rel=\"nofollow noreferrer\">typescriptlang.org/docs/handbook/release-notes/&hellip;</a>"}, {"owner": {"reputation": 4036, "user_id": 1109179, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/946c3899f642e09870abbf34cf95872e?s=128&d=identicon&r=PG", "display_name": "Sohan", "link": "https://stackoverflow.com/users/1109179/sohan"}, "edited": false, "score": 0, "creation_date": 1553090789, "post_id": 55254309, "comment_id": 97256619, "body": "cont.. if you didnt have keyof you should be able to make this work, as your &quot;data&quot; property would just a standard dictionary / object whose key would be whatever you specified as &quot;key&quot;"}, {"owner": {"reputation": 452, "user_id": 6788834, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/BBfmH.jpg?s=128&g=1", "display_name": "Sergey Volkov", "link": "https://stackoverflow.com/users/6788834/sergey-volkov"}, "reply_to_user": {"reputation": 4036, "user_id": 1109179, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/946c3899f642e09870abbf34cf95872e?s=128&d=identicon&r=PG", "display_name": "Sohan", "link": "https://stackoverflow.com/users/1109179/sohan"}, "edited": false, "score": 0, "creation_date": 1553105434, "post_id": 55254309, "comment_id": 97266253, "body": "@Sohan thanks for your answer, I will continue trying to solve this problem using <code>keyof</code>. Hope it can helps to me. Thanks!"}, {"owner": {"reputation": 4036, "user_id": 1109179, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/946c3899f642e09870abbf34cf95872e?s=128&d=identicon&r=PG", "display_name": "Sohan", "link": "https://stackoverflow.com/users/1109179/sohan"}, "edited": false, "score": 0, "creation_date": 1553244722, "post_id": 55254309, "comment_id": 97320083, "body": "Sure if you get something let us know. And if you are happy with my comment please vote for it."}], "owner": {"reputation": 452, "user_id": 6788834, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/BBfmH.jpg?s=128&g=1", "display_name": "Sergey Volkov", "link": "https://stackoverflow.com/users/6788834/sergey-volkov"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 318, "favorite_count": 2, "answer_count": 0, "score": 3, "last_activity_date": 1553062911, "creation_date": 1553060953, "last_edit_date": 1553062911, "question_id": 55254309, "link": "https://stackoverflow.com/questions/55254309/ts2551-ts2339-problem-with-dynamic-adding-key-value-to-existing-object-typesc", "title": "TS2551: TS:2339 Problem with dynamic adding key/value to existing object (TypeScript)", "body": "<p>I have class which create new instances of some classes and attach their by key to <code>this.data</code> property. It goings only through the constructor of <code>SuperClass</code>.</p>\n\n<p>But if I want to add to <code>this.data</code> using <code>dynamicAddToData</code> method of <code>SuperClass</code> then TypeScript says me that this property is not exist.</p>\n\n<p>I guess generics can solve my problem, but possibly not to use generics?</p>\n\n<pre><code>declare type SuperClassData&lt;M&gt; = {\n  [K in keyof M]: M[K]\n}\n\ndeclare type SuperClassConstructorObject&lt;M&gt; = {\n  [K in keyof M]: (new () =&gt; M[K])\n}\n\nclass SuperClass&lt;MP&gt; {\n  public data: SuperClassData&lt;MP&gt; = {} as SuperClassData&lt;MP&gt;\n\n  constructor (obj: SuperClassConstructorObject&lt;MP&gt;) {\n    for (const key of Object.keys(obj)) {\n      const Class = obj[key]\n      this.data[key] = new Class()\n    }\n  }\n\n  public dynamicAddToData (key: string, Class: any): void {\n    this.data[key] = new Class()\n  }\n}\n\nclass Foo {\n  public foo = () =&gt; 'foo'\n}\n\nclass Bar {\n  public bar = () =&gt; 'bar'\n}\n\nconst superClass = new SuperClass({ foo: Foo, bar: Bar })\n\nsuperClass.dynamicAddToData('baz', Bar)\n\nsuperClass.data.bar.bar() // bar\nsuperClass.data.baz.bar()\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/k9m1e.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/k9m1e.png\" alt=\"enter image description here\"></a>\nProperty 'baz' does not exist on type 'SuperClassData&lt;{ foo: Foo; bar: Bar; }>'.ts(2339)</p>\n\n<p>Will be glad each answer</p>\n"}, {"tags": ["javascript", "typescript"], "comments": [{"owner": {"reputation": 16970, "user_id": 2079345, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/lq0tx.png?s=128&g=1", "display_name": "chiliNUT", "link": "https://stackoverflow.com/users/2079345/chilinut"}, "edited": false, "score": 0, "creation_date": 1553059772, "post_id": 55254079, "comment_id": 97240213, "body": "Use <code>.findIndex</code> instead <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/findindex\" rel=\"nofollow noreferrer\">developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/&hellip;</a>"}, {"owner": {"reputation": 28101, "user_id": 3082296, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/5eac8c095f63cb9fe29a9af3cb97eb0e?s=128&d=identicon&r=PG&f=1", "display_name": "adiga", "link": "https://stackoverflow.com/users/3082296/adiga"}, "edited": false, "score": 0, "creation_date": 1553059811, "post_id": 55254079, "comment_id": 97240230, "body": "<i>&quot;why doesn&#39;t this syntax work</i>&quot;: You need to explicitly <code>return</code> from the arrow function if you <code>{}</code> in the callback"}], "answers": [{"tags": [], "owner": {"reputation": 11471, "user_id": 6766919, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bxq3H.jpg?s=128&g=1", "display_name": "ellipsis", "link": "https://stackoverflow.com/users/6766919/ellipsis"}, "is_accepted": false, "score": 0, "last_activity_date": 1553059771, "creation_date": 1553059771, "answer_id": 55254108, "question_id": 55254079, "link": "https://stackoverflow.com/questions/55254079/how-to-get-access-to-the-index-in-find-method/55254108#55254108", "title": "How to get access to the index in .find method", "body": "<p>Use <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/findIndex\" rel=\"nofollow noreferrer\">findIndex()</a>. It totally works as find() but instead of returning the value it will return index of the element</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>var a=[1,2,3,4,5,6]\r\nfunction s(e)\r\n{\r\nif(e==2)\r\nreturn e\r\n}\r\nconsole.log(a.findIndex(s)) //returns 1 which is index of element 2 in the array</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": [], "owner": {"reputation": 253913, "user_id": 9515207, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/34932d3e923ffad9a4a1423e30b1d9fc?s=128&d=identicon&r=PG&f=1", "display_name": "CertainPerformance", "link": "https://stackoverflow.com/users/9515207/certainperformance"}, "is_accepted": true, "score": 1, "last_activity_date": 1553059819, "creation_date": 1553059819, "answer_id": 55254118, "question_id": 55254079, "link": "https://stackoverflow.com/questions/55254079/how-to-get-access-to-the-index-in-find-method/55254118#55254118", "title": "How to get access to the index in .find method", "body": "<p>Use <code>.findIndex</code> instead, to get the <em>index only</em> initially, then select the value at the index afterwards:</p>\n\n<pre><code>const foundIndex = this.allPlans.findIndex((_plan: any) =&gt; _plan.name === this.clicked_plan);\nthis.plan = this.allPlans[foundIndex];\nthis.currentSection = 'Section'+foundIndex;\n</code></pre>\n"}], "owner": {"reputation": 25, "user_id": 11197023, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dd94808def69264e0d40954374ad96fa?s=128&d=identicon&r=PG&f=1", "display_name": "cupusasa", "link": "https://stackoverflow.com/users/11197023/cupusasa"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 39, "favorite_count": 0, "accepted_answer_id": 55254118, "answer_count": 2, "score": 0, "last_activity_date": 1553059819, "creation_date": 1553059666, "question_id": 55254079, "link": "https://stackoverflow.com/questions/55254079/how-to-get-access-to-the-index-in-find-method", "title": "How to get access to the index in .find method", "body": "<p>allPlans has an array of objects. The code below successfully finds the correct plan passed if _plan.name( of find method) matches this.click_Plan.\nRight below it I need the value of the index of that plan and assign it here in place of index. I initially did it using for loop but I am trying to do the same with .find.</p>\n\n<pre><code>this.currentSection = 'Section'+index;   \n</code></pre>\n\n<p>Also I need to be sure than the above statement always runs after the find is completed, do I need a call back in this case ?\nAnd why doesn't this syntax work is that not an arrow function ?</p>\n\n<pre><code> this.plan = this.allPlans.find((_plan: any) =&gt; { _plan.name === this.clicked_plan });\n</code></pre>\n\n<p>.</p>\n\n<pre><code>this.plan = this.allPlans.find((_plan: any) =&gt; _plan.name === this.clicked_plan);\nthis.currentSection = 'Section'+index;\nconsole.log(this.plan);\n</code></pre>\n"}, {"tags": ["angular", "typescript", "data-binding", "binding"], "comments": [{"owner": {"reputation": 472, "user_id": 7353745, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7e6fdbcaa06417af15d32016643ab420?s=128&d=identicon&r=PG&f=1", "display_name": "k0hamed", "link": "https://stackoverflow.com/users/7353745/k0hamed"}, "edited": false, "score": 0, "creation_date": 1553058068, "post_id": 55253744, "comment_id": 97239734, "body": "why not use a getter for total?"}, {"owner": {"reputation": 1846, "user_id": 5746236, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d9e5b2b5e435d4f91a4d28c3892347d7?s=128&d=identicon&r=PG&f=1", "display_name": "Yash Rami", "link": "https://stackoverflow.com/users/5746236/yash-rami"}, "edited": false, "score": 0, "creation_date": 1553058215, "post_id": 55253744, "comment_id": 97239775, "body": "so you want to detect the changes of x and y. if changes is detected then implement the addition am i correct?"}, {"owner": {"reputation": 3691, "user_id": 3804422, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/fauwH.png?s=128&g=1", "display_name": "TRiNE", "link": "https://stackoverflow.com/users/3804422/trine"}, "reply_to_user": {"reputation": 1846, "user_id": 5746236, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d9e5b2b5e435d4f91a4d28c3892347d7?s=128&d=identicon&r=PG&f=1", "display_name": "Yash Rami", "link": "https://stackoverflow.com/users/5746236/yash-rami"}, "edited": false, "score": 0, "creation_date": 1553058424, "post_id": 55253744, "comment_id": 97239829, "body": "@YashRami yes. correct. But not in explicit way by telling specifically look for x and y. It is not scalable"}, {"owner": {"reputation": 1846, "user_id": 5746236, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d9e5b2b5e435d4f91a4d28c3892347d7?s=128&d=identicon&r=PG&f=1", "display_name": "Yash Rami", "link": "https://stackoverflow.com/users/5746236/yash-rami"}, "edited": false, "score": 0, "creation_date": 1553058455, "post_id": 55253744, "comment_id": 97239843, "body": "got it let me write a answer :)"}, {"owner": {"reputation": 3691, "user_id": 3804422, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/fauwH.png?s=128&g=1", "display_name": "TRiNE", "link": "https://stackoverflow.com/users/3804422/trine"}, "reply_to_user": {"reputation": 472, "user_id": 7353745, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7e6fdbcaa06417af15d32016643ab420?s=128&d=identicon&r=PG&f=1", "display_name": "k0hamed", "link": "https://stackoverflow.com/users/7353745/k0hamed"}, "edited": false, "score": 0, "creation_date": 1553058552, "post_id": 55253744, "comment_id": 97239875, "body": "@k0hamed if i had a getter called <code>total</code>, will angular re-evaluate field <code>{{ calculator.total }}</code> in template when x or y is chnaged?"}, {"owner": {"reputation": 472, "user_id": 7353745, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7e6fdbcaa06417af15d32016643ab420?s=128&d=identicon&r=PG&f=1", "display_name": "k0hamed", "link": "https://stackoverflow.com/users/7353745/k0hamed"}, "edited": false, "score": 0, "creation_date": 1553058826, "post_id": 55253744, "comment_id": 97239952, "body": "@TRiNE yeah, the change detector will recompute it whenever it detects any change"}, {"owner": {"reputation": 3691, "user_id": 3804422, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/fauwH.png?s=128&g=1", "display_name": "TRiNE", "link": "https://stackoverflow.com/users/3804422/trine"}, "reply_to_user": {"reputation": 472, "user_id": 7353745, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7e6fdbcaa06417af15d32016643ab420?s=128&d=identicon&r=PG&f=1", "display_name": "k0hamed", "link": "https://stackoverflow.com/users/7353745/k0hamed"}, "edited": false, "score": 0, "creation_date": 1553058964, "post_id": 55253744, "comment_id": 97239988, "body": "@k0hamed no, angular is not updating <code>{{ calculator.total }}</code>. may be angular doesn&#39;t know any relation between <code>x</code>, <code>y</code> to the <code>total</code>"}, {"owner": {"reputation": 472, "user_id": 7353745, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7e6fdbcaa06417af15d32016643ab420?s=128&d=identicon&r=PG&f=1", "display_name": "k0hamed", "link": "https://stackoverflow.com/users/7353745/k0hamed"}, "edited": false, "score": 0, "creation_date": 1553060946, "post_id": 55253744, "comment_id": 97240541, "body": "@TRiNE can you insert the code in which it doesn&#39;t update? as if it doesn&#39;t update it may mean angular didn&#39;t detect a change at all. I tried a simple example to make sure and it worked normally."}, {"owner": {"reputation": 3691, "user_id": 3804422, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/fauwH.png?s=128&g=1", "display_name": "TRiNE", "link": "https://stackoverflow.com/users/3804422/trine"}, "reply_to_user": {"reputation": 472, "user_id": 7353745, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7e6fdbcaa06417af15d32016643ab420?s=128&d=identicon&r=PG&f=1", "display_name": "k0hamed", "link": "https://stackoverflow.com/users/7353745/k0hamed"}, "edited": false, "score": 0, "creation_date": 1553061781, "post_id": 55253744, "comment_id": 97240810, "body": "@k0hamed yes using a getter works. but it does the calculation for every change (not only for x and y). but looks it is only the solution."}], "answers": [{"comments": [{"owner": {"reputation": 3691, "user_id": 3804422, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/fauwH.png?s=128&g=1", "display_name": "TRiNE", "link": "https://stackoverflow.com/users/3804422/trine"}, "edited": false, "score": 0, "creation_date": 1553063447, "post_id": 55254701, "comment_id": 97241376, "body": "Very good design. really this didn&#39;t came in to my mind. Thank you."}, {"owner": {"reputation": 3691, "user_id": 3804422, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/fauwH.png?s=128&g=1", "display_name": "TRiNE", "link": "https://stackoverflow.com/users/3804422/trine"}, "edited": false, "score": 0, "creation_date": 1553066783, "post_id": 55254701, "comment_id": 97242688, "body": "But need to be careful when saving and retrieving the model objects (stores as JSON). Then getter and setters will loose. <code>Object.setPrototypeOf</code> saved me"}], "tags": [], "owner": {"reputation": 472, "user_id": 7353745, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7e6fdbcaa06417af15d32016643ab420?s=128&d=identicon&r=PG&f=1", "display_name": "k0hamed", "link": "https://stackoverflow.com/users/7353745/k0hamed"}, "is_accepted": true, "score": 1, "last_activity_date": 1553063151, "creation_date": 1553063151, "answer_id": 55254701, "question_id": 55253744, "link": "https://stackoverflow.com/questions/55253744/scalability-in-angular-bindings-using-a-model-class/55254701#55254701", "title": "Scalability in Angular bindings using a Model class", "body": "<p>If it's not efficient to use a getter for total\nYou can update the <code>Calculator</code> class to be something like</p>\n\n<pre><code>export class Calculator {\n    constructor(\n        private _x?: number,\n        private _y?: number,\n        public total?: number,\n    ) {\n        this.total = this.x + this.y;\n    }\n    private update() {\n        this.total = this.x + this.y;\n    }\n    set x(val) {\n        this._x = val;\n        this.update();\n    }\n    set y(val) {\n        this._y = val;\n        this.update();\n    }\n}\n</code></pre>\n\n<p>now you can have multiple properties recalculated whenever a change happen within the object.</p>\n"}], "owner": {"reputation": 3691, "user_id": 3804422, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/fauwH.png?s=128&g=1", "display_name": "TRiNE", "link": "https://stackoverflow.com/users/3804422/trine"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 53, "favorite_count": 0, "accepted_answer_id": 55254701, "answer_count": 1, "score": 0, "last_activity_date": 1568375466, "creation_date": 1553057235, "last_edit_date": 1568375466, "question_id": 55253744, "link": "https://stackoverflow.com/questions/55253744/scalability-in-angular-bindings-using-a-model-class", "title": "Scalability in Angular bindings using a Model class", "body": "<p>I'm new to Angular and finding a salable and modular way to populate set of derived variables in a Class.</p>\n\n<pre><code>export class Calculator {\n    constructor(\n        public x?: number,\n        public y?: number,\n        public total?: number,\n    ) {\n        this.total = this.x + this.y;\n    }\n}\n</code></pre>\n\n<p>What I'm supposed to happen is, Angular should know there is a dependency between <code>total</code>  and <code>x</code>,<code>y</code>. Whenever <code>x</code> or <code>y</code> is updated, Angular should re-evaluate the <code>total</code>. </p>\n\n<p>I know that this can be done by writing,</p>\n\n<pre><code>this.calculator.total = this.calculator.x + this.calculator.y\n</code></pre>\n\n<p>in <code>ngOnInit</code> of controller or in a <code>onchange</code> trigger. But it is not scalable and modular if I have lot of derived variables. It's true that Class is only typescript and it doesn't know about Angular. Can you help me by putting alternatives.</p>\n"}, {"tags": ["angular", "typescript", "angular6"], "comments": [{"owner": {"reputation": 845, "user_id": 7286302, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/03c181cea4e9bd92b4446ebc6d54a1d2?s=128&d=identicon&r=PG", "display_name": "Ans Bilal", "link": "https://stackoverflow.com/users/7286302/ans-bilal"}, "edited": false, "score": 0, "creation_date": 1553059978, "post_id": 55253734, "comment_id": 97240268, "body": "whats your error in console? It is saying error 401, which is regarding to API you are hitting for registration."}, {"owner": {"reputation": 15, "user_id": 10910825, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/963747f3a64c7a09e7d54f3ef633a6cb?s=128&d=identicon&r=PG&f=1", "display_name": "query1223", "link": "https://stackoverflow.com/users/10910825/query1223"}, "reply_to_user": {"reputation": 845, "user_id": 7286302, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/03c181cea4e9bd92b4446ebc6d54a1d2?s=128&d=identicon&r=PG", "display_name": "Ans Bilal", "link": "https://stackoverflow.com/users/7286302/ans-bilal"}, "edited": false, "score": 0, "creation_date": 1553060401, "post_id": 55253734, "comment_id": 97240376, "body": "@AnsBilal error 401 is because the contact is undefined."}, {"owner": {"reputation": 845, "user_id": 7286302, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/03c181cea4e9bd92b4446ebc6d54a1d2?s=128&d=identicon&r=PG", "display_name": "Ans Bilal", "link": "https://stackoverflow.com/users/7286302/ans-bilal"}, "edited": false, "score": 0, "creation_date": 1553060632, "post_id": 55253734, "comment_id": 97240450, "body": "just contact is undefined ?"}, {"owner": {"reputation": 15, "user_id": 10910825, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/963747f3a64c7a09e7d54f3ef633a6cb?s=128&d=identicon&r=PG&f=1", "display_name": "query1223", "link": "https://stackoverflow.com/users/10910825/query1223"}, "reply_to_user": {"reputation": 845, "user_id": 7286302, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/03c181cea4e9bd92b4446ebc6d54a1d2?s=128&d=identicon&r=PG", "display_name": "Ans Bilal", "link": "https://stackoverflow.com/users/7286302/ans-bilal"}, "edited": false, "score": 0, "creation_date": 1553060717, "post_id": 55253734, "comment_id": 97240477, "body": "@AnsBilal yes only contact is undefined"}, {"owner": {"reputation": 845, "user_id": 7286302, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/03c181cea4e9bd92b4446ebc6d54a1d2?s=128&d=identicon&r=PG", "display_name": "Ans Bilal", "link": "https://stackoverflow.com/users/7286302/ans-bilal"}, "edited": false, "score": 0, "creation_date": 1553060751, "post_id": 55253734, "comment_id": 97240492, "body": "I guess you miss-spelled &quot;f.value.contact&quot;. Check your spellings and inform me again"}, {"owner": {"reputation": 15, "user_id": 10910825, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/963747f3a64c7a09e7d54f3ef633a6cb?s=128&d=identicon&r=PG&f=1", "display_name": "query1223", "link": "https://stackoverflow.com/users/10910825/query1223"}, "reply_to_user": {"reputation": 845, "user_id": 7286302, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/03c181cea4e9bd92b4446ebc6d54a1d2?s=128&d=identicon&r=PG", "display_name": "Ans Bilal", "link": "https://stackoverflow.com/users/7286302/ans-bilal"}, "edited": false, "score": 1, "creation_date": 1553060934, "post_id": 55253734, "comment_id": 97240536, "body": "@AnsBilal thanks contact is  get but showing 401 error.. Is this problem is because of datatype ??"}, {"owner": {"reputation": 845, "user_id": 7286302, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/03c181cea4e9bd92b4446ebc6d54a1d2?s=128&d=identicon&r=PG", "display_name": "Ans Bilal", "link": "https://stackoverflow.com/users/7286302/ans-bilal"}, "edited": false, "score": 0, "creation_date": 1553061624, "post_id": 55253734, "comment_id": 97240746, "body": "I am not sure about the API you are using for registration. Whats its request requirements. Test API in postman before you test it in code"}, {"owner": {"reputation": 15, "user_id": 10910825, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/963747f3a64c7a09e7d54f3ef633a6cb?s=128&d=identicon&r=PG&f=1", "display_name": "query1223", "link": "https://stackoverflow.com/users/10910825/query1223"}, "reply_to_user": {"reputation": 845, "user_id": 7286302, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/03c181cea4e9bd92b4446ebc6d54a1d2?s=128&d=identicon&r=PG", "display_name": "Ans Bilal", "link": "https://stackoverflow.com/users/7286302/ans-bilal"}, "edited": false, "score": 0, "creation_date": 1553062175, "post_id": 55253734, "comment_id": 97240940, "body": "@AnsBilal its is correctly working on postman getting 200"}, {"owner": {"reputation": 845, "user_id": 7286302, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/03c181cea4e9bd92b4446ebc6d54a1d2?s=128&d=identicon&r=PG", "display_name": "Ans Bilal", "link": "https://stackoverflow.com/users/7286302/ans-bilal"}, "edited": false, "score": 0, "creation_date": 1553062456, "post_id": 55253734, "comment_id": 97241048, "body": "then check you request headers and body are you making request correctly. Make sure you are not missing anything"}], "answers": [{"tags": [], "owner": {"reputation": 19, "user_id": 8933513, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9d6603faba32696e0edc995e15d291c9?s=128&d=identicon&r=PG&f=1", "display_name": "Akshay Mhatre", "link": "https://stackoverflow.com/users/8933513/akshay-mhatre"}, "is_accepted": false, "score": -1, "last_activity_date": 1553059435, "creation_date": 1553059435, "answer_id": 55254036, "question_id": 55253734, "link": "https://stackoverflow.com/questions/55253734/return-undefined-from-service-ts-in-angular-6/55254036#55254036", "title": "return undefined from service.ts in angular 6", "body": "<p>Instead of sending every value to service, just send f.value and try again.\ncheck your log of console you should get every data that is passed from component.ts to service.ts</p>\n"}, {"tags": [], "owner": {"reputation": 15, "user_id": 10910825, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/963747f3a64c7a09e7d54f3ef633a6cb?s=128&d=identicon&r=PG&f=1", "display_name": "query1223", "link": "https://stackoverflow.com/users/10910825/query1223"}, "is_accepted": true, "score": 0, "last_activity_date": 1554115552, "creation_date": 1554115552, "answer_id": 55453299, "question_id": 55253734, "link": "https://stackoverflow.com/questions/55253734/return-undefined-from-service-ts-in-angular-6/55453299#55453299", "title": "return undefined from service.ts in angular 6", "body": "<p>The issue was I miss-spelled \"f.value.contact\". Now it is ok</p>\n"}], "owner": {"reputation": 15, "user_id": 10910825, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/963747f3a64c7a09e7d54f3ef633a6cb?s=128&d=identicon&r=PG&f=1", "display_name": "query1223", "link": "https://stackoverflow.com/users/10910825/query1223"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 134, "favorite_count": 0, "accepted_answer_id": 55453299, "answer_count": 2, "score": 1, "last_activity_date": 1554115552, "creation_date": 1553057174, "last_edit_date": 1553058749, "question_id": 55253734, "link": "https://stackoverflow.com/questions/55253734/return-undefined-from-service-ts-in-angular-6", "title": "return undefined from service.ts in angular 6", "body": "<p>I'm learning angular and I have a problem with getting data from service. This is my code ..</p>\n\n<p>code from component.ts</p>\n\n<pre><code> import { Component, OnInit, Input } from '@angular/core';\n import { RegisterService } from '../services/register.service';\n\n @Component({\n   selector: 'app-register',\n   templateUrl: './register.component.html',\n   styleUrls: ['./register.component.scss']\n  })\n  export class RegisterComponent implements OnInit {\n\n  contact:string;\n\n  constructor(private data : RegisterService) { }\n\n  ngOnInit() {\n  }\n\n  onSubmit(f){\n  console.log('value from component.ts',f.value)\n\n  if(f.valid){\n  // \"username\":username,\n  // \"email\":email,\n  // \"password\":password,\n  // \"c_password\":c_password,\n  // \"contact\":contact,\n  // \"type\":\"user\"\n  // }\n  console.log('type',f.value.type)\nthis.data.register(f.value.name,f.value.email,f.value.password,f.value.c_password,f.value.conatct,f.value.type)\n.subscribe(res =&gt; {\n  console.log(res)});\n   }\n  }\n\n}\n</code></pre>\n\n<p>The problem is  getting data from service.</p>\n\n<p>code from service.ts is</p>\n\n<pre><code> import { Injectable } from '@angular/core';\n import { HttpHeaders, HttpClient } from '@angular/common/http';\n import { Body } from '@angular/http/src/body';\n\n @Injectable({\n providedIn: 'root'\n })\n\n\n export class RegisterService {\n\n API_URL = \"http://..\";\n\n constructor(private http: HttpClient) { }\n\n register(name,email,password,c_password,contact,type){\n\n  let body ={\n    \"name\":name,\n    \"email\":email,\n    \"password\":password,\n    \"c_password\":c_password,\n    \"contact\":contact,\n    \"type\": 'user'\n    }\n    console.log('body from service',body);\n\n    const headers = new HttpHeaders({\n      \"Accept\" : 'application/json',\n      \"Content-Type\" : 'application/json'\n    })\n\nreturn this.http.post(this.API_URL+\"register\",body,{headers :headers});\n    }\n   }\n</code></pre>\n\n<p>Here contact is return undefined in console. I'am a newbie in angular 6. The screenshot of console is adding here.\n<a href=\"https://i.stack.imgur.com/hfAC2.png\" rel=\"nofollow noreferrer\">The screenshot of console</a></p>\n"}, {"tags": ["typescript", "ionic4"], "comments": [{"owner": {"reputation": 4171, "user_id": 5066625, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/UdAmJ.jpg?s=128&g=1", "display_name": "Miroslav Glamuzina", "link": "https://stackoverflow.com/users/5066625/miroslav-glamuzina"}, "edited": false, "score": 0, "creation_date": 1553055807, "post_id": 55253547, "comment_id": 97239219, "body": "These blocks of code are incomplete"}, {"owner": {"reputation": 754, "user_id": 11159783, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-PWG0K_ga8dU/AAAAAAAAAAI/AAAAAAAAAAg/BMSZoj6va8k/photo.jpg?sz=128", "display_name": "Muhammad Abdullah Shafiq", "link": "https://stackoverflow.com/users/11159783/muhammad-abdullah-shafiq"}, "edited": false, "score": 0, "creation_date": 1553079771, "post_id": 55253547, "comment_id": 97249675, "body": "kindly share the response JSON or specifically the address part."}, {"owner": {"reputation": 1, "user_id": 11146479, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-kJS_jN46lk0/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3reO35beCTfc53p-bGLYBR0MIMRdsA/mo/photo.jpg?sz=128", "display_name": "Apeksha Sharma", "link": "https://stackoverflow.com/users/11146479/apeksha-sharma"}, "edited": false, "score": 0, "creation_date": 1553080944, "post_id": 55253547, "comment_id": 97250372, "body": "I have receive json response like this\u201ccountryCode\u201d:\u201cIN\u201d,\u201ccountryName\u201d:\u201cIndia\u201d,\u201cpostalCode\u201d:\u201c4&zwnj;&#8203;12308\u201d,\u201cadministrati&zwnj;&#8203;veArea\u201d:\u201cMaharashtra&zwnj;&#8203;\u201d,\u201csubAdministrative&zwnj;&#8203;Area\u201d:\u201cPune\u201d,\u201clocali&zwnj;&#8203;ty\u201d:\u201cFursungi\u201d,\u201csubL&zwnj;&#8203;ocality\u201d:&quot;&quot;,\u201cthoroug&zwnj;&#8203;hfare\u201d:&quot;&quot;,\u201csubThorou&zwnj;&#8203;ghfare\u201d:&quot;&quot;"}], "owner": {"reputation": 1, "user_id": 11146479, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-kJS_jN46lk0/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3reO35beCTfc53p-bGLYBR0MIMRdsA/mo/photo.jpg?sz=128", "display_name": "Apeksha Sharma", "link": "https://stackoverflow.com/users/11146479/apeksha-sharma"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 15, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1553079542, "creation_date": 1553055591, "last_edit_date": 1553079542, "question_id": 55253547, "link": "https://stackoverflow.com/questions/55253547/problem-regarding-getting-address-from-latlong", "title": "Problem regarding getting address from latlong", "body": "<p>I am using NativeReverseGeocoder for getting the address from lat-long but it gives a response like:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>this.nativeGeocoder.reverseGeocode(resp.coords.latitude, resp.coords.longitude ).then(resp =&gt; {\r\n      this.address =  resp[0].locality + \" ,\" + resp[0].subAdministrativeArea + \" ,\" + resp[0].administrativeArea + \" ,\" + resp[0].postalCode + \" ,\" + resp[0].countryName;\r\n \t  console.log(this.address);</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>this.nativeGeocoder.reverseGeocode(resp.coords.latitude, resp.coords.longitude ).then(resp =&gt; {\r\n      this.address =  resp[0].locality + \" ,\" + resp[0].subAdministrativeArea + \" ,\" + resp[0].administrativeArea + \" ,\" + resp[0].postalCode + \" ,\" + resp[0].countryName;\r\n      console.log(\"hhjj\");\r\n \t  console.log(this.address);</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>In this <code>subLocality</code>, thoroughfare, subThoroughfare are empty fields, can anyone tell me how to get the full address?</p>\n"}, {"tags": ["reactjs", "typescript"], "answers": [{"tags": [], "owner": {"reputation": 10054, "user_id": 2734369, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/f7e946bedea673c57bb40d2a8c1e6557?s=128&d=identicon&r=PG", "display_name": "pizzarob", "link": "https://stackoverflow.com/users/2734369/pizzarob"}, "is_accepted": false, "score": 0, "last_activity_date": 1553091888, "last_edit_date": 1553091888, "creation_date": 1553091187, "answer_id": 55262841, "question_id": 55253113, "link": "https://stackoverflow.com/questions/55253113/declare-module-interface-typescript-and-yarn-workspaces/55262841#55262841", "title": "Declare module interface typescript and yarn workspaces", "body": "<p>I can use <code>import(\"mod\")</code> to access non-module scripts. </p>\n\n<p><a href=\"https://www.typescriptlang.org/docs/handbook/release-notes/typescript-2-9.html#import-types\" rel=\"nofollow noreferrer\">https://www.typescriptlang.org/docs/handbook/release-notes/typescript-2-9.html#import-types</a></p>\n\n<p>Like this: </p>\n\n<pre class=\"lang-js prettyprint-override\"><code>declare module 'ui-library' {\n  export const Icon: React.FC&lt;import('./Icon').TIconProps&gt;;\n}\n</code></pre>\n"}], "owner": {"reputation": 10054, "user_id": 2734369, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/f7e946bedea673c57bb40d2a8c1e6557?s=128&d=identicon&r=PG", "display_name": "pizzarob", "link": "https://stackoverflow.com/users/2734369/pizzarob"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 262, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1553091888, "creation_date": 1553052299, "question_id": 55253113, "link": "https://stackoverflow.com/questions/55253113/declare-module-interface-typescript-and-yarn-workspaces", "title": "Declare module interface typescript and yarn workspaces", "body": "<p>I am using typescript and yarn workspaces. I have the following folder structure:</p>\n\n<pre><code>- UI Library (Exports React Components)\n- Main App\n</code></pre>\n\n<p>The UI Library has a main index file that the main app will import from.</p>\n\n<p>UI Library Main index.js:</p>\n\n<pre><code>export { default as Icon } from './Icon';\n</code></pre>\n\n<p>Then in the main app i import like so:</p>\n\n<pre><code>import { Icon } from 'ui-library';\n</code></pre>\n\n<p><strong>How can I declare the UI Library using typescript?</strong></p>\n\n<p>I have tried the following, but I guess you can't import relative paths. In my ui lib I created a .d.ts file with something like</p>\n\n<pre><code>import { TIconProps } from \"./Icon\";\n\ndeclare module 'ui-library' {\n  export function Icon(props: TIconProps): React.ReactNode;\n}\n</code></pre>\n\n<p>I get the error <code>Invalid module name in augmentation.</code></p>\n"}, {"tags": ["typescript"], "answers": [{"comments": [{"owner": {"reputation": 36902, "user_id": 41655, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/430ea1cba106cc65b7687d66e9df4f06?s=128&d=identicon&r=PG", "display_name": "millimoose", "link": "https://stackoverflow.com/users/41655/millimoose"}, "edited": false, "score": 1, "creation_date": 1553052661, "post_id": 55253133, "comment_id": 97238528, "body": "this already helps loads since with inference it&#39;s now legal in Angular templates without a wrapper function, yay"}, {"owner": {"reputation": 36902, "user_id": 41655, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/430ea1cba106cc65b7687d66e9df4f06?s=128&d=identicon&r=PG", "display_name": "millimoose", "link": "https://stackoverflow.com/users/41655/millimoose"}, "edited": false, "score": 0, "creation_date": 1553052810, "post_id": 55253133, "comment_id": 97238570, "body": "I need to see if I can abuse Extract elsewhere in my codebase, I think I have a bunch of constructs like this with pairs of similarly related type parameters. (Might have posted a question about them recently too; where this would address the problem I was having from another angle: <a href=\"https://stackoverflow.com/questions/55233473/is-there-a-way-to-alias-a-longwinded-generic-type-in-the-scope-of-a-class?noredirect=1#comment97202830_55233473\" title=\"is there a way to alias a longwinded generic type in the scope of a class\">stackoverflow.com/questions/55233473/&hellip;</a> - I&#39;ll have to see if it helps when I revisit that code.)"}], "tags": [], "owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "is_accepted": true, "score": 1, "last_activity_date": 1553052484, "creation_date": 1553052484, "answer_id": 55253133, "question_id": 55253072, "link": "https://stackoverflow.com/questions/55253072/is-there-a-type-safe-way-to-filter-out-instances-of-a-given-variant-from-a-list/55253133#55253133", "title": "Is there a type-safe way to filter out instances of a given variant from a list of objects of a discriminated union type?", "body": "<p>You can make the call to <code>getThingsOfVariant</code> better using <code>Extract</code> to get the type from the union:</p>\n\n<pre><code>function getThingsOfVariant&lt;TVariant extends Thing['variant']&gt;(variant: TVariant): Extract&lt;Thing, IThingBase&lt;TVariant&gt;&gt;[] {\n    return things.filter((it): it is Extract&lt;Thing, IThingBase&lt;TVariant&gt;&gt; =&gt; it.variant === variant);\n}\n\nfunction getFoos(): IFoo[] {\n    return getThingsOfVariant('foo');\n}\n</code></pre>\n\n<p>The type guard will still need to be a manual error prone affair unfortunately.</p>\n"}, {"comments": [{"owner": {"reputation": 36902, "user_id": 41655, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/430ea1cba106cc65b7687d66e9df4f06?s=128&d=identicon&r=PG", "display_name": "millimoose", "link": "https://stackoverflow.com/users/41655/millimoose"}, "edited": false, "score": 0, "creation_date": 1559323940, "post_id": 56372312, "comment_id": 99397378, "body": "<code>Array.prototype.flatMap()</code> isn&#39;t part of the JS spec yet and TypeScript doesn&#39;t have a signature for it so this just makes <code>foos</code> of type <code>any</code>"}, {"owner": {"reputation": 3835, "user_id": 2476884, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5c9e6937def916fce7ecfb45345ffc44?s=128&d=identicon&r=PG", "display_name": "danielnixon", "link": "https://stackoverflow.com/users/2476884/danielnixon"}, "reply_to_user": {"reputation": 36902, "user_id": 41655, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/430ea1cba106cc65b7687d66e9df4f06?s=128&d=identicon&r=PG", "display_name": "millimoose", "link": "https://stackoverflow.com/users/41655/millimoose"}, "edited": false, "score": 0, "creation_date": 1559342055, "post_id": 56372312, "comment_id": 99403094, "body": "You&#39;ll have to enable <code>esnext</code>, but it is there: <a href=\"https://github.com/microsoft/TypeScript/blob/eb2297df022f6b1f284aff96e93c06097bb01ea5/lib/lib.esnext.array.d.ts#L147\" rel=\"nofollow noreferrer\">github.com/microsoft/TypeScript/blob/&hellip;</a>"}, {"owner": {"reputation": 3835, "user_id": 2476884, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5c9e6937def916fce7ecfb45345ffc44?s=128&d=identicon&r=PG", "display_name": "danielnixon", "link": "https://stackoverflow.com/users/2476884/danielnixon"}, "reply_to_user": {"reputation": 36902, "user_id": 41655, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/430ea1cba106cc65b7687d66e9df4f06?s=128&d=identicon&r=PG", "display_name": "millimoose", "link": "https://stackoverflow.com/users/41655/millimoose"}, "edited": false, "score": 0, "creation_date": 1559346117, "post_id": 56372312, "comment_id": 99403848, "body": "Also probably need to couple it with a polyfill like <a href=\"https://github.com/zloirock/core-js/blob/v3.1.3/packages/core-js/modules/es.array.flat-map.js\" rel=\"nofollow noreferrer\">github.com/zloirock/core-js/blob/v3.1.3/packages/core-js/&hellip;</a>"}, {"owner": {"reputation": 36902, "user_id": 41655, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/430ea1cba106cc65b7687d66e9df4f06?s=128&d=identicon&r=PG", "display_name": "millimoose", "link": "https://stackoverflow.com/users/41655/millimoose"}, "edited": false, "score": 0, "creation_date": 1559430985, "post_id": 56372312, "comment_id": 99419305, "body": "hm, I was trying that on the js.org TS playground, guess TS added it too recently"}], "tags": [], "owner": {"reputation": 3835, "user_id": 2476884, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5c9e6937def916fce7ecfb45345ffc44?s=128&d=identicon&r=PG", "display_name": "danielnixon", "link": "https://stackoverflow.com/users/2476884/danielnixon"}, "is_accepted": false, "score": 0, "last_activity_date": 1559195154, "creation_date": 1559195154, "answer_id": 56372312, "question_id": 55253072, "link": "https://stackoverflow.com/questions/55253072/is-there-a-type-safe-way-to-filter-out-instances-of-a-given-variant-from-a-list/56372312#56372312", "title": "Is there a type-safe way to filter out instances of a given variant from a list of objects of a discriminated union type?", "body": "<pre class=\"lang-js prettyprint-override\"><code>type Thing = { variant: 'foo', foo: number } | { variant: 'bar', bar: number };\n\nconst things: Thing[] = [\n    { variant: 'foo', foo: 1 },\n    { variant: 'bar', bar: 2 },\n    { variant: 'foo', foo: 1 },\n    { variant: 'bar', bar: 2 },\n];\n\n\nconst foos = things.flatMap(x =&gt; x.variant === \"foo\" ? [x] : []);\n</code></pre>\n"}], "owner": {"reputation": 36902, "user_id": 41655, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/430ea1cba106cc65b7687d66e9df4f06?s=128&d=identicon&r=PG", "display_name": "millimoose", "link": "https://stackoverflow.com/users/41655/millimoose"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 71, "favorite_count": 0, "accepted_answer_id": 55253133, "answer_count": 2, "score": 1, "last_activity_date": 1559195154, "creation_date": 1553051907, "question_id": 55253072, "link": "https://stackoverflow.com/questions/55253072/is-there-a-type-safe-way-to-filter-out-instances-of-a-given-variant-from-a-list", "title": "Is there a type-safe way to filter out instances of a given variant from a list of objects of a discriminated union type?", "body": "<p>I have a bunch of type families that involve mostly shared properties, with each \"subtype\" adding maybe one or two properties. (Say you're ordering food online, an order item for a pizza lets you add ingredients, other items don't.)</p>\n\n<p>Most of the code doesn't care to distinguish these and just passes the values through, but for presentation I need to handle the subtypes separately.</p>\n\n<p>So I want a function that lets me pluck items of a given variant from an array of objects of the union type. The closest I got is:</p>\n\n<pre><code>type ThingVariant = \"foo\" | \"bar\";\n\ninterface IThingBase&lt;TVariant extends ThingVariant&gt; {\n    variant: TVariant;\n}\n\ninterface IFoo extends IThingBase&lt;'foo'&gt; {\n    foo: number;\n}\n\ninterface IBar extends IThingBase&lt;'bar'&gt; {\n    bar: number;\n}\n\ntype Thing = IFoo | IBar;\n\nconst things: Thing[] = [\n    { variant: 'foo', foo: 1 },\n    { variant: 'bar', bar: 2 },\n    { variant: 'foo', foo: 1 },\n    { variant: 'bar', bar: 2 },\n]\n\nfunction getThingsOfVariant&lt;TVariant extends ThingVariant,\n    TThing extends IThingBase&lt;TVariant&gt;&amp;Thing&gt;(variant: TVariant): TThing[] {\n    return things.filter((it): it is TThing =&gt; it.variant === variant);\n}\n\nfunction getFoos(): IFoo[] {\n    return getThingsOfVariant&lt;'foo', IFoo&gt;('foo');\n}\n</code></pre>\n\n<p>My problem with the above code is that <code>getThingsOfVariant&lt;'foo', IFoo&gt;('foo')</code> is a rather redundant mouthful. Especially considering TypeScript can handle this type narrowing automatically when using <code>if</code> or <code>switch</code> over a discriminator. Another annoyance is that because of the explicit type guard signature on the predicate to <code>filter()</code>, that part itself bypasses type-checking; i.e. returning <code>true</code> from it would be legal but incorrect.</p>\n\n<p>Is there a way to implement this sort of thing \"cleanly\", actually leveraging the type checker and ideally type inference? </p>\n"}, {"tags": ["angular", "typescript", "angular-material", "angular-material-table"], "answers": [{"comments": [{"owner": {"reputation": 517, "user_id": 6129915, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-wkzyI5rBDVw/AAAAAAAAAAI/AAAAAAAAB_k/IX0q8_PfVD4/photo.jpg?sz=128", "display_name": "imjayabal", "link": "https://stackoverflow.com/users/6129915/imjayabal"}, "edited": false, "score": 0, "creation_date": 1553062038, "post_id": 55253350, "comment_id": 97240883, "body": "You almost there, But there is a small issue the name and email fields if we type &quot;name&quot; or &quot;email&quot; result is not showing.  It will show the character includes the result. ex: If we type &quot;nam&quot; all the data will be shown in the name field includes the charactor"}], "tags": [], "owner": {"reputation": 2057, "user_id": 3190532, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/146bd886750c1499865b76bd3b3dbabc?s=128&d=identicon&r=PG", "display_name": "Crocsx", "link": "https://stackoverflow.com/users/3190532/crocsx"}, "is_accepted": false, "score": 0, "last_activity_date": 1553054084, "creation_date": 1553054084, "answer_id": 55253350, "question_id": 55253051, "link": "https://stackoverflow.com/questions/55253051/angular6-material-table-multiple-filter-not-working/55253350#55253350", "title": "Angular6 Material table multiple filter not working", "body": "<p>I have never really used this and I don't know if the following implementation is correct. It can be improved by a big margin I believe. </p>\n\n<p><a href=\"https://stackblitz.com/edit/angular-material-table-multiple-filter-ttewos\" rel=\"nofollow noreferrer\">StackBlitz</a></p>\n\n<p>Basically, from what I understand,m by default the behavior when you put a filter is to check if this value exist in the data.</p>\n\n<p>But in your case, you want to check over various column, and do a \"multiple\" filter.</p>\n\n<p>you need to provide you own filterPredicate function, and handle your filter in there </p>\n"}], "owner": {"reputation": 517, "user_id": 6129915, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-wkzyI5rBDVw/AAAAAAAAAAI/AAAAAAAAB_k/IX0q8_PfVD4/photo.jpg?sz=128", "display_name": "imjayabal", "link": "https://stackoverflow.com/users/6129915/imjayabal"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 549, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1553054084, "creation_date": 1553051784, "last_edit_date": 1553052567, "question_id": 55253051, "link": "https://stackoverflow.com/questions/55253051/angular6-material-table-multiple-filter-not-working", "title": "Angular6 Material table multiple filter not working", "body": "<p>I am developing an Angular6 application with angular material. Now facing a problem with filter data from mat-table result using multiple values. </p>\n\n<p>I didn't get any value in the table after filter from form group.</p>\n\n<p>Is this correct way what I am working? If not please help me out the issue.</p>\n\n<p>Please refer the screenshot and find the link <a href=\"https://stackblitz.com/edit/angular-material-table-multiple-filter\" rel=\"nofollow noreferrer\">stackblitz project</a> for the actual view,</p>\n\n<p><a href=\"https://i.stack.imgur.com/mGek2.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/mGek2.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["reactjs", "typescript", "react-native"], "comments": [{"owner": {"reputation": 3299, "user_id": 8237835, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/G5uEW.jpg?s=128&g=1", "display_name": "Khauri", "link": "https://stackoverflow.com/users/8237835/khauri"}, "edited": false, "score": 0, "creation_date": 1553052135, "post_id": 55253009, "comment_id": 97238432, "body": "Check out this article I found on the topic that might help: <a href=\"https://medium.com/@martin_hotell/react-refs-with-typescript-a32d56c4d315\" rel=\"nofollow noreferrer\">medium.com/@martin_hotell/&hellip;</a> Also it might help to add the typescript tag to your question"}], "answers": [{"tags": [], "owner": {"reputation": 181, "user_id": 10979089, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/j6bpe.jpg?s=128&g=1", "display_name": "Willian Gaspar", "link": "https://stackoverflow.com/users/10979089/willian-gaspar"}, "is_accepted": false, "score": 0, "last_activity_date": 1553051950, "creation_date": 1553051950, "answer_id": 55253076, "question_id": 55253009, "link": "https://stackoverflow.com/questions/55253009/react-native-attempted-to-assign-to-readonly-property/55253076#55253076", "title": "react native: attempted to assign to readonly property", "body": "<p>the <code>ref</code> property in React is expecting a function and it's called immediately after the component is mounted. You can do other things besides setting a reference.</p>\n\n<p><a href=\"https://zhenyong.github.io/react/docs/more-about-refs.html#the-ref-callback-attribute\" rel=\"nofollow noreferrer\">https://zhenyong.github.io/react/docs/more-about-refs.html#the-ref-callback-attribute</a></p>\n"}], "owner": {"reputation": 13, "user_id": 10683542, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-KjzB9Jc5b4A/AAAAAAAAAAI/AAAAAAAAAAA/AGDgw-iZCQCkPK4jwepZv5RNMqYsWV8dvg/mo/photo.jpg?sz=128", "display_name": "mirror", "link": "https://stackoverflow.com/users/10683542/mirror"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 831, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1553053272, "creation_date": 1553051434, "last_edit_date": 1553053272, "question_id": 55253009, "link": "https://stackoverflow.com/questions/55253009/react-native-attempted-to-assign-to-readonly-property", "title": "react native: attempted to assign to readonly property", "body": "<p>I create a React ref by calling React.createRef in React Native. Then I  assign it to a ref. I got the error: Attempted to assign to readonly property</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>export default class List extends PureComponent&lt;Props, object&gt; {\r\n\r\n  private flatListRef: React.RefObject&lt;FlatList&lt;any&gt;&gt;;\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.flatListRef = React.createRef();\r\n  }\r\n  render() {\r\n    return (\r\n      /.../\r\n      &lt;FlatList ref={this.flatListRef}&gt;&lt;/FlatList&gt;\r\n    )\r\n  }\r\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>But When I use the callback way to assign the react ref, everything is ok.</p>\n\n<pre><code>&lt;FlatList ref={ele =&gt; { this.flatListRef = ele }}&gt;&lt;/FlatList&gt;\n</code></pre>\n\n<p>I have no idea what's the difference between the two ways </p>\n"}, {"tags": ["reactjs", "typescript"], "comments": [{"owner": {"reputation": 1278, "user_id": 6716361, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5vS4D.png?s=128&g=1", "display_name": "Nicholas Porter", "link": "https://stackoverflow.com/users/6716361/nicholas-porter"}, "edited": false, "score": 0, "creation_date": 1553049965, "post_id": 55252775, "comment_id": 97237977, "body": "What is <code>this</code> equal to in the catch of <code>onClickSave</code>?"}, {"owner": {"reputation": 1278, "user_id": 6716361, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5vS4D.png?s=128&g=1", "display_name": "Nicholas Porter", "link": "https://stackoverflow.com/users/6716361/nicholas-porter"}, "edited": false, "score": 0, "creation_date": 1553050082, "post_id": 55252775, "comment_id": 97238005, "body": "Are you able to declare <code>onClickSave</code> as an arrow function. <code>private onClickSave = () =&gt; { ...</code>"}, {"owner": {"reputation": 6094, "user_id": 3164889, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/4NXwj.png?s=128&g=1", "display_name": "Socrates", "link": "https://stackoverflow.com/users/3164889/socrates"}, "reply_to_user": {"reputation": 1278, "user_id": 6716361, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5vS4D.png?s=128&g=1", "display_name": "Nicholas Porter", "link": "https://stackoverflow.com/users/6716361/nicholas-porter"}, "edited": false, "score": 0, "creation_date": 1553050170, "post_id": 55252775, "comment_id": 97238027, "body": "@Nicholas I&#39;m not sure if I understand your question correctly. The <code>this</code> in the <code>catch</code> refers to the methods within the class <code>DialogUsersNew</code>. I am trying to set the state within <code>DialogUsersNewState</code> by accessing the <code>setState</code> method."}, {"owner": {"reputation": 1278, "user_id": 6716361, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5vS4D.png?s=128&g=1", "display_name": "Nicholas Porter", "link": "https://stackoverflow.com/users/6716361/nicholas-porter"}, "edited": false, "score": 0, "creation_date": 1553050787, "post_id": 55252775, "comment_id": 97238144, "body": "I was wrong about using <code>this</code> in private functions. It&#39;s only for <code>static</code> functions."}, {"owner": {"reputation": 1278, "user_id": 6716361, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5vS4D.png?s=128&g=1", "display_name": "Nicholas Porter", "link": "https://stackoverflow.com/users/6716361/nicholas-porter"}, "edited": false, "score": 0, "creation_date": 1553050952, "post_id": 55252775, "comment_id": 97238182, "body": "Try using the arrow function as mentioned earlier. It binds <code>this</code> to the parent scope."}, {"owner": {"reputation": 3449, "user_id": 643919, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/fece27d25acc304e6a872da447900fe8?s=128&d=identicon&r=PG", "display_name": "y2bd", "link": "https://stackoverflow.com/users/643919/y2bd"}, "edited": false, "score": 0, "creation_date": 1553051099, "post_id": 55252775, "comment_id": 97238210, "body": "Can you post the <code>render()</code> function, or at least wherever <code>this.onClickSave</code> is used?"}, {"owner": {"reputation": 6094, "user_id": 3164889, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/4NXwj.png?s=128&g=1", "display_name": "Socrates", "link": "https://stackoverflow.com/users/3164889/socrates"}, "reply_to_user": {"reputation": 3449, "user_id": 643919, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/fece27d25acc304e6a872da447900fe8?s=128&d=identicon&r=PG", "display_name": "y2bd", "link": "https://stackoverflow.com/users/643919/y2bd"}, "edited": false, "score": 0, "creation_date": 1553054103, "post_id": 55252775, "comment_id": 97238882, "body": "@y2bd Added the render() method in the above post."}], "answers": [{"comments": [{"owner": {"reputation": 6094, "user_id": 3164889, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/4NXwj.png?s=128&g=1", "display_name": "Socrates", "link": "https://stackoverflow.com/users/3164889/socrates"}, "edited": false, "score": 0, "creation_date": 1553054579, "post_id": 55253081, "comment_id": 97238979, "body": "I think I did what you suggest. I updated the above post by adding the <code>render()</code> method."}, {"owner": {"reputation": 3449, "user_id": 643919, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/fece27d25acc304e6a872da447900fe8?s=128&d=identicon&r=PG", "display_name": "y2bd", "link": "https://stackoverflow.com/users/643919/y2bd"}, "reply_to_user": {"reputation": 6094, "user_id": 3164889, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/4NXwj.png?s=128&g=1", "display_name": "Socrates", "link": "https://stackoverflow.com/users/3164889/socrates"}, "edited": false, "score": 0, "creation_date": 1553055024, "post_id": 55253081, "comment_id": 97239055, "body": "@Socrates What error are you running into after making this change? The console warning you posted in the OP doesn\u2019t appear to be related to <code>onClickSave</code>, but instead the <code>TextField</code>s and their <code>value</code> prop."}, {"owner": {"reputation": 6094, "user_id": 3164889, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/4NXwj.png?s=128&g=1", "display_name": "Socrates", "link": "https://stackoverflow.com/users/3164889/socrates"}, "reply_to_user": {"reputation": 3449, "user_id": 643919, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/fece27d25acc304e6a872da447900fe8?s=128&d=identicon&r=PG", "display_name": "y2bd", "link": "https://stackoverflow.com/users/643919/y2bd"}, "edited": false, "score": 0, "creation_date": 1553056042, "post_id": 55253081, "comment_id": 97239258, "body": "@y2bd The error happens when invoking <code>this.setState({savingErrorMessage: response.message});</code>. The method <code>onClickSave()</code> is invoked by one of the two buttons in the <code>render()</code> method."}], "tags": [], "owner": {"reputation": 204459, "user_id": 390330, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/1400be56ff17549b926dd3260da4a494?s=128&d=identicon&r=PG", "display_name": "basarat", "link": "https://stackoverflow.com/users/390330/basarat"}, "is_accepted": false, "score": 0, "last_activity_date": 1553052018, "creation_date": 1553052018, "answer_id": 55253081, "question_id": 55252775, "link": "https://stackoverflow.com/questions/55252775/react-setstate-fails-in-catch-of-rejected-promise/55253081#55253081", "title": "React setState fails in catch of rejected Promise", "body": "<h1>Error</h1>\n\n<p>You are calling <code>this.props.onClickSave</code> and it is not working. </p>\n\n<h1>Reason</h1>\n\n<p>When you pass in the prop e.g. <code>&lt;DialogUsersNew onClickSave={/*here*/}</code> ensure that you preserve the this context e.g. by <a href=\"https://basarat.gitbooks.io/typescript/docs/arrow-functions.html\" rel=\"nofollow noreferrer\">using an arrow function</a> <code>&lt;DialogUsersNew onClickSave={()=&gt;this.something()}</code></p>\n"}, {"tags": [], "owner": {"reputation": 3449, "user_id": 643919, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/fece27d25acc304e6a872da447900fe8?s=128&d=identicon&r=PG", "display_name": "y2bd", "link": "https://stackoverflow.com/users/643919/y2bd"}, "is_accepted": true, "score": 2, "last_activity_date": 1553057643, "creation_date": 1553057643, "answer_id": 55253793, "question_id": 55252775, "link": "https://stackoverflow.com/questions/55252775/react-setstate-fails-in-catch-of-rejected-promise/55253793#55253793", "title": "React setState fails in catch of rejected Promise", "body": "<p>Alright, two issues happening here.</p>\n\n<p>First, when using <code>&lt;input /&gt;</code> components (or components that use them under the  hood like your <code>TextField</code>), if you want to control their value (<code>value={this.foobar}</code>) you have to <strong>always</strong> control the value. Where you are running into an issue is that <code>this.textFieldUsername/Password</code> is initially <code>undefined</code>, which will lead to the error as described here: <a href=\"https://stackoverflow.com/questions/37427508/react-changing-an-uncontrolled-input\">React - changing an uncontrolled input</a></p>\n\n<p>Secondly, the reason that this is not occuring until you click on the save button is because</p>\n\n<ol>\n<li><code>this.textFieldUsername/Password</code> is not in React state, which means that when it changes it does not cause your Component to re-render, delaying the occurrence of the error.</li>\n<li><code>this.setState</code> <em>does</em> cause your component to re-render, giving those <code>TextField</code>s the values of <code>this.textFieldUsername/Password</code> and therefore causing the above error.</li>\n<li><code>.catch</code> blocks will catch errors in the pairing <code>.then</code> block. Since <code>this.setState</code> in your <code>.then</code> leads to the above error happening within <code>render()</code>, that error is bubbled up back to your Promise and lands you unhelpfully in the <code>.catch</code> block. I cannot find an SO post about this, so here is an MVP proving it is the case: <a href=\"https://codesandbox.io/s/2wzvj6p7v0\" rel=\"nofollow noreferrer\">https://codesandbox.io/s/2wzvj6p7v0</a>. </li>\n</ol>\n\n<p>Easiest fix would be</p>\n\n<pre><code>private textFieldUsername: string = \"\";\nprivate textFieldPassword: string = \"\";\n</code></pre>\n"}], "owner": {"reputation": 6094, "user_id": 3164889, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/4NXwj.png?s=128&g=1", "display_name": "Socrates", "link": "https://stackoverflow.com/users/3164889/socrates"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 456, "favorite_count": 0, "accepted_answer_id": 55253793, "answer_count": 2, "score": 2, "last_activity_date": 1553057643, "creation_date": 1553049635, "last_edit_date": 1553055629, "question_id": 55252775, "link": "https://stackoverflow.com/questions/55252775/react-setstate-fails-in-catch-of-rejected-promise", "title": "React setState fails in catch of rejected Promise", "body": "<p>I have an error when setting the state within catch of a Promise. In the example below the Promise's <code>catch</code> is within the <code>onClickSave()</code> method. I believe I get the error, because I misunderstand the <code>this</code> context I am in. Here I want to use <code>this</code> to address the contents of the class <code>DialogUsersNewProps</code>. Coming from Java, where <code>this</code> behaves a bit different, I already got confused in JavaScript in the past. What must I do to set the state from within the <code>catch</code> of the rejected Promise?</p>\n\n<p>Error from browser console:</p>\n\n<pre><code>/home/myuser/Documents/myprog/administration2/node_modules/react-dom/cjs/react-dom.development.js:506 Warning: A component is changing an uncontrolled input of type text to be controlled. Input elements should not switch from uncontrolled to controlled (or vice versa). Decide between using a controlled or uncontrolled input element for the lifetime of the component.\n    in input (created by InputBase)\n    in div (created by InputBase)\n    in InputBase (created by Context.Consumer)\n    in WithFormControlContext(InputBase) (created by WithStyles(WithFormControlContext(InputBase)))\n    in WithStyles(WithFormControlContext(InputBase)) (created by Input)\n    in Input (created by WithStyles(Input))\n    in WithStyles(Input) (created by TextField)\n    in div (created by FormControl)\n    in FormControl (created by WithStyles(FormControl))\n    in WithStyles(FormControl) (created by TextField)\n    in TextField (created by DialogUsersNew)\n    in div (created by DialogContent)\n    in DialogContent (created by WithStyles(DialogContent))\n    in WithStyles(DialogContent) (created by DialogUsersNew)\n    in div (created by Paper)\n    in Paper (created by WithStyles(Paper))\n    in WithStyles(Paper) (created by DialogUsersNew)\n    in DialogUsersNew (created by DisplayUsers)\n    in DisplayUsers (created by DisplayChoice)\n    in DisplayChoice (created by DisplayMain)\n    in main (created by DisplayMain)\n    in div (created by DisplayMain)\n    in div (created by DisplayMain)\n    in DisplayMain (created by App)\n    in App\n    in AppContainer\n</code></pre>\n\n<p>Failing TypeScript class:</p>\n\n<pre><code>import {\n    Button,\n    DialogActions,\n    DialogContent,\n    Paper,\n    TextField,\n    Typography,\n} from '@material-ui/core';\nimport * as React from 'react';\nimport { User } from '../../../data/model/user';\nimport { AddNewUserResponse } from '../../../data/services/add-new-user-response';\nimport { DialogMessage } from '../../dialogs/dialog-message';\n\nexport interface DialogUsersNewProps {\n    onClickSave(user: User): Promise&lt;AddNewUserResponse&gt;;\n    onClickAbort(): void;\n}\n\nexport interface DialogUsersNewState {\n    savingErrorMessage: string;\n}\n\nexport class DialogUsersNew extends React.Component&lt;DialogUsersNewProps, DialogUsersNewState&gt; {\n    private textFieldUsername: string;\n    private textFieldPassword: string;\n\n    public constructor(props: any) {\n        super(props);\n        this.state = {\n            savingErrorMessage: '',\n        };\n    }\n\n    public render() {\n        return &lt;Paper&gt;\n            {this.state.savingErrorMessage !== '' &amp;&amp;\n                &lt;DialogMessage title='Saving error' content={this.state.savingErrorMessage} /&gt;\n            }\n            &lt;DialogContent&gt;\n                &lt;Typography variant='h5'&gt;New user&lt;/Typography&gt;\n                &lt;TextField  label='Username'\n                            value={this.textFieldUsername}\n                            className='w-100 fieldMargin'\n                            onChange={(e: any) =&gt; this.onChangeTextFieldUsername(e.target.value)}\n                            margin='normal'/&gt;\n                &lt;TextField  label='Password'\n                            type='password'\n                            value={this.textFieldPassword}\n                            className='w-100 fieldMargin'\n                            onChange={(e: any) =&gt; this.onChangeTextFieldPassword(e.target.value)}\n                            margin='normal'/&gt;\n                &lt;DialogActions&gt;\n                    &lt;Button onClick={() =&gt; this.props.onClickAbort()} color='primary'&gt;Abort&lt;/Button&gt;\n                    &lt;Button onClick={() =&gt; this.onClickSave()} color='primary' variant='contained'&gt;Save&lt;/Button&gt;\n                &lt;/DialogActions&gt;\n            &lt;/DialogContent&gt;\n        &lt;/Paper&gt;;\n    }\n\n    private getUser(): User {\n        // Generate new user based on props and textfields.\n        return {\n            password: this.textFieldPassword,\n            username: this.textFieldUsername,\n        };\n    }\n\n    private onChangeTextFieldUsername(content: string) {\n        // Save textbox change.\n        this.textFieldUsername = content;\n    }\n\n    private onChangeTextFieldPassword(content: string) {\n        // Save textbox change.\n        this.textFieldPassword = content;\n    }\n\n    private onClickSave() {\n        // Send click save event to parent.\n        this.props.onClickSave(this.getUser()).then((response: AddNewUserResponse) =&gt; {\n            // Check if success has failed.\n            if (!response.success) {\n                // Save message in state.\n                if (response.message) {\n                    this.setState({savingErrorMessage: response.message});\n                } else {\n                    this.setState({savingErrorMessage: 'Undefined error.'});\n                }\n            }\n        }).catch((response: AddNewUserResponse) =&gt; {\n            // Save message in state.\n            if (response.message) {\n                this.setState({savingErrorMessage: response.message});\n            } else {\n                this.setState({savingErrorMessage: 'Undefined error.'});\n            }\n        });\n    }\n}\n</code></pre>\n"}, {"tags": ["javascript", "arrays", "node.js", "reactjs", "typescript"], "comments": [{"owner": {"reputation": 31092, "user_id": 1715121, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/6nEEr.jpg?s=128&g=1", "display_name": "Ele", "link": "https://stackoverflow.com/users/1715121/ele"}, "edited": false, "score": 1, "creation_date": 1553049892, "post_id": 55252766, "comment_id": 97237956, "body": "<code>const fields = [&#39;type&#39;, &#39;rank&#39;, &#39;enabled&#39;];</code> <code>-&gt;</code> Is the first index the key for grouping the next ones within an object?"}], "answers": [{"comments": [{"owner": {"reputation": 232, "user_id": 11229655, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-8Rk_Z1nkJaw/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rc6lxC16D69qHRS34pwfRZNNgEEPg/mo/photo.jpg?sz=128", "display_name": "user11229655", "link": "https://stackoverflow.com/users/11229655/user11229655"}, "edited": false, "score": 0, "creation_date": 1553051228, "post_id": 55252910, "comment_id": 97238231, "body": "the result is not hardcoded  I just explained in my code"}], "tags": [], "owner": {"reputation": 31092, "user_id": 1715121, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/6nEEr.jpg?s=128&g=1", "display_name": "Ele", "link": "https://stackoverflow.com/users/1715121/ele"}, "is_accepted": false, "score": 1, "last_activity_date": 1553050767, "creation_date": 1553050767, "answer_id": 55252910, "question_id": 55252766, "link": "https://stackoverflow.com/questions/55252766/node-js-transformation-json-by-json-key/55252910#55252910", "title": "Node Js Transformation JSON by JSON key", "body": "<p>You can use the function <code>map</code> and computed-property-name to dynamically create a key using a variable.</p>\n\n<p>This is assuming the first index from <code>fields</code> is the main key and the next indexes are values to be extracted.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const result = [{\r\n  id: 'e7a51e2a-384c-41ea-960c-bcd00c797629',\r\n  type: 'Interstitial (320x480)',\r\n  country: 'ABC',\r\n  enabled: true,\r\n  rank: 1,\r\n  link: '',\r\n}],\r\n      fields = ['type', 'rank', 'enabled'],\r\n      [key, ...others] = fields;\r\n      \r\nconst mapped = result.map(o =&gt; ({[o[key]]: others.reduce((a, c) =&gt; Object.assign({}, a, {[c]: o[c]}), {})}));\r\n\r\nconsole.log(mapped);</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": [], "owner": {"reputation": 2552, "user_id": 902126, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/5Oqa1.png?s=128&g=1", "display_name": "Munish Kapoor", "link": "https://stackoverflow.com/users/902126/munish-kapoor"}, "is_accepted": true, "score": 0, "last_activity_date": 1553149372, "last_edit_date": 1553149372, "creation_date": 1553059630, "answer_id": 55254075, "question_id": 55252766, "link": "https://stackoverflow.com/questions/55252766/node-js-transformation-json-by-json-key/55254075#55254075", "title": "Node Js Transformation JSON by JSON key", "body": "<p>Check the following code snippet </p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code> const results = [{\r\n      id: 'e7a51e2a-384c-41ea-960c-bcd00c797629',\r\n      type: 'Interstitial (320x480)',\r\n      country: 'ABC',\r\n      enabled: true,\r\n      rank: 1,\r\n      link: '',\r\n    }];\r\n\r\n    const transformed = results.map(result =&gt;\r\n      ({ [result.type]: { enabled: result.enabled, rank: result.rank } }));\r\n\r\n    console.log(transformed);</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": [], "owner": {"reputation": 465, "user_id": 2580077, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b58818b540ede79814842b1e8736e6c2?s=128&d=identicon&r=PG&f=1", "display_name": "duggi", "link": "https://stackoverflow.com/users/2580077/duggi"}, "is_accepted": false, "score": 0, "last_activity_date": 1553072335, "last_edit_date": 1553072335, "creation_date": 1553065808, "answer_id": 55255267, "question_id": 55252766, "link": "https://stackoverflow.com/questions/55252766/node-js-transformation-json-by-json-key/55255267#55255267", "title": "Node Js Transformation JSON by JSON key", "body": "<p>result is an array of objects, so just changing this line in your code works</p>\n\n<pre><code>14c14\n&lt;   .filter(key =&gt; !!result[key]).map(key =&gt; ({ [key]: result[key] })));\n---\n&gt;   .filter(key =&gt; !!result[0][key]).map(key =&gt; ({ [key]: result[0][key] })));\n</code></pre>\n\n<p>However if the result contains more than one object in the array, make transform a function and map it over result.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const result = [{\r\n  id: 'e7a51e2a-384c-41ea-960c-bcd00c797629',\r\n  type: 'Interstitial (320x480)',\r\n  country: 'ABC',\r\n  enabled: true,\r\n  rank: 1,\r\n  link: '',\r\n}];\r\n\r\nconst fields = ['rank', 'enabled'];\r\nconst tranform = r =&gt; ({\r\n  [r.type]: Object.assign({}, ...fields\r\n    .filter(key =&gt; !!r[key]).map(key =&gt; ({\r\n      [key]: r[key]\r\n    })))\r\n});\r\nconsole.log(result.map(tranform));</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 232, "user_id": 11229655, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-8Rk_Z1nkJaw/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rc6lxC16D69qHRS34pwfRZNNgEEPg/mo/photo.jpg?sz=128", "display_name": "user11229655", "link": "https://stackoverflow.com/users/11229655/user11229655"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 262, "favorite_count": 0, "accepted_answer_id": 55254075, "answer_count": 3, "score": 1, "last_activity_date": 1553149372, "creation_date": 1553049579, "question_id": 55252766, "link": "https://stackoverflow.com/questions/55252766/node-js-transformation-json-by-json-key", "title": "Node Js Transformation JSON by JSON key", "body": "<p>I want to filter the following JSON result. but I am unable to tranform.</p>\n\n<pre><code>const result = \n[\n  {\n    id: 'e7a51e2a-384c-41ea-960c-bcd00c797629',\n    type: 'Interstitial (320x480)',\n    country: 'ABC',\n    enabled: true,\n    rank: 1,\n    link: '',\n    }];\n</code></pre>\n\n<p>to</p>\n\n<pre><code>[{\n  \"Interstitial (320x480)\" : {\n  \"enabled\": true,\n  \"rank\": 1,\n}];\n</code></pre>\n\n<p>Here is my code</p>\n\n<pre><code>const result = \n[\n {\n  id: 'e7a51e2a-384c-41ea-960c-bcd00c797629',\n  type: 'Interstitial (320x480)',\n  country: 'ABC',\n  enabled: true,\n  rank: 1,\n  link: '',\n }];\n\nconst fields = ['type', 'rank', 'enabled'];\nconst tranform = Object.assign({}, ...fields\n  .filter(key =&gt; !!result[key]).map(key =&gt; ({ [key]: result[key] })));\nconsole.log(tranform);\n</code></pre>\n\n<p>above code, I want to extract the key that mentioned in fields array</p>\n\n<p>and the desired result should be</p>\n\n<pre><code>[{\n  \"Interstitial (320x480)\" : {\n  \"enabled\": true,\n  \"rank\": 1,\n}];\n</code></pre>\n\n<p>Thank in advance. </p>\n"}, {"tags": ["typescript", "firebase", "jestjs", "integration-testing"], "answers": [{"comments": [{"owner": {"reputation": 880, "user_id": 3424884, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh5.googleusercontent.com/-GfP4mK05UrI/AAAAAAAAAAI/AAAAAAAAAis/YvchGvVquLw/photo.jpg?sz=128", "display_name": "Damon Maria", "link": "https://stackoverflow.com/users/3424884/damon-maria"}, "edited": false, "score": 0, "creation_date": 1553121068, "post_id": 55253397, "comment_id": 97273408, "body": "Thanks. But I still get the same result: <code>import * as mockFirebase from &#39;@firebase&#47;testing&#39;; mockFirebase.initializeAdminApp({...})</code> results in: <code>TypeError: mockFirebase.initializeAdminApp is not a function</code> because <code>initializeAdminApp</code> is undefined."}, {"owner": {"reputation": 880, "user_id": 3424884, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh5.googleusercontent.com/-GfP4mK05UrI/AAAAAAAAAAI/AAAAAAAAAis/YvchGvVquLw/photo.jpg?sz=128", "display_name": "Damon Maria", "link": "https://stackoverflow.com/users/3424884/damon-maria"}, "edited": false, "score": 0, "creation_date": 1553121807, "post_id": 55253397, "comment_id": 97273628, "body": "Further to that, when I console log out mockFirebase (when imported from *) then <code>database</code> and <code>firestore</code> are undefined but <code>apps</code> and everything else is defined. It&#39;s like that module is only partially initialized when I import it."}, {"owner": {"reputation": 880, "user_id": 3424884, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh5.googleusercontent.com/-GfP4mK05UrI/AAAAAAAAAAI/AAAAAAAAAis/YvchGvVquLw/photo.jpg?sz=128", "display_name": "Damon Maria", "link": "https://stackoverflow.com/users/3424884/damon-maria"}, "edited": false, "score": 0, "creation_date": 1553122037, "post_id": 55253397, "comment_id": 97273698, "body": "I can get around that issue, but calling <code>mockFirebase.initializeAdminApp(...)</code> inside a function (not at the top level of a module) now dies with <code>TypeError: firebase.initializeApp is not a function</code>. <code>firebase.initializeApp(...)</code> is code in the <code>@firebase&#47;testing</code> package, not mine. So even modules <code>@firebase&#47;testing</code> has imported are undefined."}], "tags": [], "owner": {"reputation": 28635, "user_id": 10149510, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qVO7k.jpg?s=128&g=1", "display_name": "Brian Adams", "link": "https://stackoverflow.com/users/10149510/brian-adams"}, "is_accepted": false, "score": 1, "last_activity_date": 1553054352, "creation_date": 1553054352, "answer_id": 55253397, "question_id": 55252747, "link": "https://stackoverflow.com/questions/55252747/import-inside-jest-manual-mock-in-mocks-is-sometimes-undefined/55253397#55253397", "title": "import inside Jest manual mock (in __mocks__) is sometimes undefined", "body": "<p>This syntax:</p>\n\n<pre><code>import mockFirebase from '@firebase/testing';\n</code></pre>\n\n<p>...is trying to import the <a href=\"https://www.typescriptlang.org/docs/handbook/modules.html#default-exports\" rel=\"nofollow noreferrer\"><code>default</code> export</a> of <code>@firebase/testing</code> as <code>mockFirebase</code>...</p>\n\n<p>...but <code>mockFirebase</code> ends up <code>undefined</code> because <code>@firebase/testing</code> <a href=\"https://github.com/firebase/firebase-js-sdk/blob/6e90afc0142355999196557a6be2be3fe2704824/packages/testing/index.ts#L24-L35\" rel=\"nofollow noreferrer\">doesn't have a <code>default</code> export</a>.</p>\n\n<hr>\n\n<p>The correct syntax to import everything in <code>@firebase/testing</code> would be:</p>\n\n<pre><code>import * as mockFirebase from '@firebase/testing';\n</code></pre>\n"}], "owner": {"reputation": 880, "user_id": 3424884, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh5.googleusercontent.com/-GfP4mK05UrI/AAAAAAAAAAI/AAAAAAAAAis/YvchGvVquLw/photo.jpg?sz=128", "display_name": "Damon Maria", "link": "https://stackoverflow.com/users/3424884/damon-maria"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 314, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1553054352, "creation_date": 1553049381, "question_id": 55252747, "link": "https://stackoverflow.com/questions/55252747/import-inside-jest-manual-mock-in-mocks-is-sometimes-undefined", "title": "import inside Jest manual mock (in __mocks__) is sometimes undefined", "body": "<p>I'm wanting to use the Firebase Firestore emulator in my Jest mock for integration tests. My <code>src/__mocks__/firebase.ts</code> is:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>import mockFirebase from '@firebase/testing'\n\nconsole.log(mockFirebase)\n\nexport const firebase = mockFirebase.initializeAdminApp({\n  projectId: `autoflocc-${process.pid}`,\n})\n\nexport const db = firebase.firestore()\n</code></pre>\n\n<p>It's imported in the test code like follows:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>import mockFirebase from '@firebase/testing'\njest.mock('../src/firebase')\n</code></pre>\n\n<p>However, when the mock file runs <code>mockFirebase</code> is <code>undefined</code> (as per the <code>console.log</code>). I've tried importing other modules and some work (<code>import _ from 'lodash'</code>) but others do not (<code>import x from 'firebase-functions'</code>), also returning <code>undefined</code>. </p>\n\n<p>Any ideas why some imports work in manual mocks but not others? </p>\n\n<p>Note: this is Typescript, which might be affecting it.</p>\n"}, {"tags": ["typescript"], "answers": [{"tags": [], "owner": {"reputation": 3003, "user_id": 4041992, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/4l8ml.jpg?s=128&g=1", "display_name": "flppv", "link": "https://stackoverflow.com/users/4041992/flppv"}, "is_accepted": false, "score": 0, "last_activity_date": 1553048205, "creation_date": 1553048205, "answer_id": 55252599, "question_id": 55252581, "link": "https://stackoverflow.com/questions/55252581/typescript-element-type-definition-for-objany/55252599#55252599", "title": "Typescript element type definition for obj[&quot;any&quot;]", "body": "<p>Extend type definition to this one: <code>{ a: string, b: string, [key: string]: string}</code>.</p>\n\n<p>By this you will tell Typescript, that your object could have additional key-value pairs with keys of <code>string</code> type.</p>\n"}, {"comments": [{"owner": {"reputation": 2329, "user_id": 5708097, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/7c8632c33f0785007fca66606a46e417?s=128&d=identicon&r=PG&f=1", "display_name": "Rolly", "link": "https://stackoverflow.com/users/5708097/rolly"}, "edited": false, "score": 0, "creation_date": 1553091690, "post_id": 55252714, "comment_id": 97257305, "body": "What a easy. Thanks."}], "tags": [], "owner": {"reputation": 9320, "user_id": 5196394, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/52GqN.jpg?s=128&g=1", "display_name": "hoangdv", "link": "https://stackoverflow.com/users/5196394/hoangdv"}, "is_accepted": true, "score": 3, "last_activity_date": 1553049090, "creation_date": 1553049090, "answer_id": 55252714, "question_id": 55252581, "link": "https://stackoverflow.com/questions/55252581/typescript-element-type-definition-for-objany/55252714#55252714", "title": "Typescript element type definition for obj[&quot;any&quot;]", "body": "<p>TypeScript is a strongly-typed superset of JavaScript.</p>\n\n<p>Your <code>object</code> has type is <code>{a:string, b:string}</code>, this mean <code>obj</code> only accept <code>a</code> and <code>b</code> properties.</p>\n\n<p>Redefine type for your <code>obj</code></p>\n\n<pre><code>let otherVariable = \"ww\";\nlet obj: { [key: string]: string } = {\n  a: \"aa\",\n  b: \"bb\",\n};\nobj.a = \"aaa\";\nobj[\"c\"] = \"cc\";\nobj[\"x\"] = \"xx\";\nobj[\"y\"] = \"yy\";\nobj[otherVariable] = \"ww\";\n</code></pre>\n"}], "owner": {"reputation": 2329, "user_id": 5708097, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/7c8632c33f0785007fca66606a46e417?s=128&d=identicon&r=PG&f=1", "display_name": "Rolly", "link": "https://stackoverflow.com/users/5708097/rolly"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 50, "favorite_count": 0, "accepted_answer_id": 55252714, "answer_count": 2, "score": 0, "last_activity_date": 1553049090, "creation_date": 1553048061, "last_edit_date": 1553048249, "question_id": 55252581, "link": "https://stackoverflow.com/questions/55252581/typescript-element-type-definition-for-objany", "title": "Typescript element type definition for obj[&quot;any&quot;]", "body": "<p>In javascript you can do something like this an will work,</p>\n\n<pre><code>        let otherVariable = \"ww\"\n        let obj = {\n            a:\"aa\",\n            b:\"bb\",\n        }\n        obj.a = \"aaa\";\n        obj[\"c\"] = \"cc\";\n        obj[\"x\"] = \"xx\";\n        obj[\"y\"] = \"yy\";\n        obj[otherVariable] = \"ww\";\n</code></pre>\n\n<p>I would like to do the same in typescript, </p>\n\n<pre><code>        let otherVariable = \"ww\"\n        let obj:{a:string, b:string} = {\n            a:\"aa\",\n            b:\"bb\",\n        }\n        obj.a = \"aaa\";\n        obj[\"c\"] = \"cc\"; // alert message here\n        obj[\"x\"] = \"xx\"; // alert message here\n        obj[\"y\"] = \"yy\"; // alert message here          \n        obj[otherVariable] = \"ww\"; // alert message here    \n</code></pre>\n\n<p>The code will compile and works fine but I get this message,</p>\n\n<p><code>Element implicitly has an 'any' type because type '{ a: string; b: string; }' has no index signature.ts(7017)</code></p>\n"}, {"tags": ["typescript", "tslint"], "comments": [{"owner": {"reputation": 3593, "user_id": 7282573, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/da183c76c0a1f20d6414b809edd9e455?s=128&d=identicon&r=PG&f=1", "display_name": "Nicholas", "link": "https://stackoverflow.com/users/7282573/nicholas"}, "edited": false, "score": 1, "creation_date": 1553066720, "post_id": 55252393, "comment_id": 97242663, "body": "I tried to reproduce this but it worked correctly for me. What version of tslint and typescript are you using? Could you include more of your tslint.json file? Perhaps there is a problem somewhere else."}, {"owner": {"reputation": 9731, "user_id": 309830, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/e77037ae0695146ca8a3ad227d55b98f?s=128&d=identicon&r=PG", "display_name": "David S.", "link": "https://stackoverflow.com/users/309830/david-s"}, "reply_to_user": {"reputation": 3593, "user_id": 7282573, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/da183c76c0a1f20d6414b809edd9e455?s=128&d=identicon&r=PG&f=1", "display_name": "Nicholas", "link": "https://stackoverflow.com/users/7282573/nicholas"}, "edited": false, "score": 0, "creation_date": 1553152950, "post_id": 55252393, "comment_id": 97281159, "body": "@Nicholas, updated."}], "answers": [{"comments": [{"owner": {"reputation": 9731, "user_id": 309830, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/e77037ae0695146ca8a3ad227d55b98f?s=128&d=identicon&r=PG", "display_name": "David S.", "link": "https://stackoverflow.com/users/309830/david-s"}, "edited": false, "score": 0, "creation_date": 1553155654, "post_id": 55275861, "comment_id": 97282205, "body": "Sorry, I changed it to <i>false</i> to avoid the error. But if use the value you gave, I still get the same error."}, {"owner": {"reputation": 3593, "user_id": 7282573, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/da183c76c0a1f20d6414b809edd9e455?s=128&d=identicon&r=PG&f=1", "display_name": "Nicholas", "link": "https://stackoverflow.com/users/7282573/nicholas"}, "reply_to_user": {"reputation": 9731, "user_id": 309830, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/e77037ae0695146ca8a3ad227d55b98f?s=128&d=identicon&r=PG", "display_name": "David S.", "link": "https://stackoverflow.com/users/309830/david-s"}, "edited": false, "score": 0, "creation_date": 1553157689, "post_id": 55275861, "comment_id": 97283169, "body": "@David Sorry for my confusion. I&#39;ve updated my answer to address what hopefully is the real problem."}], "tags": [], "owner": {"reputation": 3593, "user_id": 7282573, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/da183c76c0a1f20d6414b809edd9e455?s=128&d=identicon&r=PG&f=1", "display_name": "Nicholas", "link": "https://stackoverflow.com/users/7282573/nicholas"}, "is_accepted": true, "score": 3, "last_activity_date": 1553157639, "last_edit_date": 1553157639, "creation_date": 1553154734, "answer_id": 55275861, "question_id": 55252393, "link": "https://stackoverflow.com/questions/55252393/tslint-curly-as-needed-has-no-effect/55275861#55275861", "title": "tslint: curly as-needed has no effect", "body": "<p>It looks like the <code>\"as-needed\"</code> option was added in <a href=\"https://github.com/palantir/tslint/releases/tag/5.4.0\" rel=\"nofollow noreferrer\"><code>tslint@5.4.0</code></a>.</p>\n\n<p>To get it to work, update <code>tslint</code> to that version (by running <code>npm i -D tslint@^5.4.0</code>, or however else you like to update your dependencies).</p>\n\n<p>Note this crosses a major version bump so there may be breaking changes.</p>\n"}], "owner": {"reputation": 9731, "user_id": 309830, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/e77037ae0695146ca8a3ad227d55b98f?s=128&d=identicon&r=PG", "display_name": "David S.", "link": "https://stackoverflow.com/users/309830/david-s"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 224, "favorite_count": 0, "accepted_answer_id": 55275861, "answer_count": 1, "score": 0, "last_activity_date": 1553157639, "creation_date": 1553046305, "last_edit_date": 1553155583, "question_id": 55252393, "link": "https://stackoverflow.com/questions/55252393/tslint-curly-as-needed-has-no-effect", "title": "tslint: curly as-needed has no effect", "body": "<p><a href=\"https://palantir.github.io/tslint/rules/curly/\" rel=\"nofollow noreferrer\">https://palantir.github.io/tslint/rules/curly/</a></p>\n\n<p>I checked the document and added this in my <code>tslint.json</code> file.</p>\n\n<pre><code>\"curly\": [\n  true, \"as-needed\"\n],\n</code></pre>\n\n<p>However, when I ran <code>tslint myapp.ts</code>, I still got error like below.</p>\n\n<pre><code>ERROR: express-app/app.ts[28, 5]: if statements must be braced\n</code></pre>\n\n<p>The <em>statement</em> it mentioned looks like this.</p>\n\n<pre><code>    if (server)\n      server.close(() =&gt; console.log('closed'));\n</code></pre>\n\n<p>But I think with that <em>curly</em> configuration, <em>tslint</em> would allow me to write <strong>if</strong> statements like this.</p>\n\n<h2>Environment</h2>\n\n<ul>\n<li>tslint: 4.5.1</li>\n<li>typescript: 3.3.3333</li>\n</ul>\n\n<h3>Full tslint.json</h3>\n\n<pre><code>{\n  \"extends\": [\n    \"tslint:recommended\"\n  ],\n  \"jsRules\": {},\n  \"rules\": {\n    \"quotemark\": [\n      true,\n      \"single\"\n    ],\n    \"curly\": [\n      true, \"as-needed\"\n    ],\n    \"radix\": [\n      false\n    ],\n    \"arrow-parens\": [\n      true,\n      \"ban-single-arg-parens\"\n    ],\n    \"no-console\": [\n      true,\n      \"error\"\n    ]\n  },\n  \"rulesDirectory\": []\n}\n</code></pre>\n"}, {"tags": ["typescript"], "answers": [{"tags": [], "owner": {"reputation": 1129, "user_id": 2746389, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/5058f3073684cd2cd921485ade883704?s=128&d=identicon&r=PG&f=1", "display_name": "Mohamed", "link": "https://stackoverflow.com/users/2746389/mohamed"}, "is_accepted": true, "score": 0, "last_activity_date": 1553060853, "creation_date": 1553060853, "answer_id": 55254290, "question_id": 55252184, "link": "https://stackoverflow.com/questions/55252184/how-too-add-typing-to-webpack-external/55254290#55254290", "title": "How too add typing to webpack external", "body": "<p>Simpler than I thought,</p>\n\n<pre><code>declare module 'config' {\n  export const url: string;\n}\n</code></pre>\n"}], "owner": {"reputation": 1129, "user_id": 2746389, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/5058f3073684cd2cd921485ade883704?s=128&d=identicon&r=PG&f=1", "display_name": "Mohamed", "link": "https://stackoverflow.com/users/2746389/mohamed"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 20, "favorite_count": 0, "accepted_answer_id": 55254290, "answer_count": 1, "score": 0, "last_activity_date": 1553060853, "creation_date": 1553044290, "question_id": 55252184, "link": "https://stackoverflow.com/questions/55252184/how-too-add-typing-to-webpack-external", "title": "How too add typing to webpack external", "body": "<p>I have following configuration in webpack;</p>\n\n<pre><code>externals: {\n  config:{\n    url: '',\n    key: ''\n  }\n}\n</code></pre>\n\n<p>I want to use this config, in ts files.</p>\n\n<pre><code>import {url} from 'config';\n</code></pre>\n\n<p>How can I add type to config, so I wont get error, and will get type compilation from browser?</p>\n\n<p>(asking content for <code>type.d.ts</code> file, currently looks like this)</p>\n\n<pre><code>declare module 'config' {\n  // something\n}\n</code></pre>\n"}, {"tags": ["typescript", "redux", "redux-thunk"], "comments": [{"owner": {"reputation": 229185, "user_id": 251311, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/b6b0ca5d4ef200ec8e3cd1fa2aefd836?s=128&d=identicon&r=PG", "display_name": "zerkms", "link": "https://stackoverflow.com/users/251311/zerkms"}, "edited": false, "score": 0, "creation_date": 1553043966, "post_id": 55252129, "comment_id": 97236811, "body": "&quot;The ThunkDispatch is an interface with 2 properties&quot; --- that&#39;s why you&#39;re confused. <code>ThunkDispatch</code> is a function with 2 overloads. One accepts <code>action: T</code>, another accepts <code>asyncAction: ThunkAction&lt;R, S, E, A&gt;</code>."}, {"owner": {"reputation": 1502, "user_id": 2096808, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/d9c0b94f9f60e916d4e4422710551638?s=128&d=identicon&r=PG", "display_name": "Jerry", "link": "https://stackoverflow.com/users/2096808/jerry"}, "reply_to_user": {"reputation": 229185, "user_id": 251311, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/b6b0ca5d4ef200ec8e3cd1fa2aefd836?s=128&d=identicon&r=PG", "display_name": "zerkms", "link": "https://stackoverflow.com/users/251311/zerkms"}, "edited": false, "score": 0, "creation_date": 1553044832, "post_id": 55252129, "comment_id": 97236998, "body": "Thank you @zerkms Could you give a link to explain this syntax? When I google Typescript function overloading, none of them mentioned this syntax"}, {"owner": {"reputation": 1502, "user_id": 2096808, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/d9c0b94f9f60e916d4e4422710551638?s=128&d=identicon&r=PG", "display_name": "Jerry", "link": "https://stackoverflow.com/users/2096808/jerry"}, "reply_to_user": {"reputation": 229185, "user_id": 251311, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/b6b0ca5d4ef200ec8e3cd1fa2aefd836?s=128&d=identicon&r=PG", "display_name": "zerkms", "link": "https://stackoverflow.com/users/251311/zerkms"}, "edited": false, "score": 0, "creation_date": 1553045456, "post_id": 55252129, "comment_id": 97237104, "body": "And quite interesting, why <code>ThunkDispatch </code> is a function, not an interface?"}, {"owner": {"reputation": 229185, "user_id": 251311, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/b6b0ca5d4ef200ec8e3cd1fa2aefd836?s=128&d=identicon&r=PG", "display_name": "zerkms", "link": "https://stackoverflow.com/users/251311/zerkms"}, "edited": false, "score": 1, "creation_date": 1553045475, "post_id": 55252129, "comment_id": 97237106, "body": "<a href=\"https://www.typescriptlang.org/docs/handbook/interfaces.html#function-types\" rel=\"nofollow noreferrer\">typescriptlang.org/docs/handbook/interfaces.html#function-ty&zwnj;&#8203;pes</a> And overloads indirectly come from <a href=\"https://www.typescriptlang.org/docs/handbook/functions.html#overloads\" rel=\"nofollow noreferrer\">typescriptlang.org/docs/handbook/functions.html#overloads</a>"}, {"owner": {"reputation": 229185, "user_id": 251311, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/b6b0ca5d4ef200ec8e3cd1fa2aefd836?s=128&d=identicon&r=PG", "display_name": "zerkms", "link": "https://stackoverflow.com/users/251311/zerkms"}, "edited": false, "score": 0, "creation_date": 1553045519, "post_id": 55252129, "comment_id": 97237117, "body": "<code>ThunkDispatch</code> - it&#39;s an interface that describes a function"}, {"owner": {"reputation": 1502, "user_id": 2096808, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/d9c0b94f9f60e916d4e4422710551638?s=128&d=identicon&r=PG", "display_name": "Jerry", "link": "https://stackoverflow.com/users/2096808/jerry"}, "reply_to_user": {"reputation": 229185, "user_id": 251311, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/b6b0ca5d4ef200ec8e3cd1fa2aefd836?s=128&d=identicon&r=PG", "display_name": "zerkms", "link": "https://stackoverflow.com/users/251311/zerkms"}, "edited": false, "score": 0, "creation_date": 1553045834, "post_id": 55252129, "comment_id": 97237167, "body": "Thanks @zerkms that clears all my confusion! If you don&#39;t mind to draft an answer, I will mark it as accepted."}], "answers": [{"tags": [], "owner": {"reputation": 229185, "user_id": 251311, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/b6b0ca5d4ef200ec8e3cd1fa2aefd836?s=128&d=identicon&r=PG", "display_name": "zerkms", "link": "https://stackoverflow.com/users/251311/zerkms"}, "is_accepted": true, "score": 1, "last_activity_date": 1553046005, "creation_date": 1553046005, "answer_id": 55252362, "question_id": 55252129, "link": "https://stackoverflow.com/questions/55252129/redux-thunk-in-typescript/55252362#55252362", "title": "Redux Thunk in TypeScript", "body": "<p>I personally cannot find a place in the TS handbook that explains the interfaces function overload thoroughly.</p>\n\n<p>All that is available is:</p>\n\n<ol>\n<li><a href=\"https://www.typescriptlang.org/docs/handbook/interfaces.html#function-types\" rel=\"nofollow noreferrer\">Interfaces :: Function types</a></li>\n<li><a href=\"https://www.typescriptlang.org/docs/handbook/functions.html#overloads\" rel=\"nofollow noreferrer\">Function overloads</a></li>\n</ol>\n\n<p>If I'm not wrong the declaration you provided</p>\n\n<pre><code>export interface ThunkDispatch&lt;S, E, A extends Action&gt; {\n  &lt;T extends A&gt;(action: T): T;\n  &lt;R&gt;(asyncAction: ThunkAction&lt;R, S, E, A&gt;): R;\n}\n</code></pre>\n\n<p>could be otherwise implemented as a following union of 2 function types:</p>\n\n<pre><code>type ThunkDispatch&lt;S, E, A extends Action&gt; = (&lt;T extends A&gt;(action: T) =&gt; T) | (&lt;R&gt;(asyncAction: ThunkAction&lt;R, S, E, A&gt;) =&gt; R);\n</code></pre>\n\n<p>or</p>\n\n<pre><code>type ThunkDispatch&lt;S, E, A extends Action&gt; =\n    | (&lt;T extends A&gt;(action: T) =&gt; T)\n    | (&lt;R&gt;(asyncAction: ThunkAction&lt;R, S, E, A&gt;) =&gt; R);\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 121, "user_id": 765004, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/f4607fb979ca0c1ac2650b640bc8d900?s=128&d=identicon&r=PG", "display_name": "Rodrigo Silveira", "link": "https://stackoverflow.com/users/765004/rodrigo-silveira"}, "is_accepted": false, "score": 0, "last_activity_date": 1592873940, "creation_date": 1592873940, "answer_id": 62525720, "question_id": 55252129, "link": "https://stackoverflow.com/questions/55252129/redux-thunk-in-typescript/62525720#62525720", "title": "Redux Thunk in TypeScript", "body": "<p>Although this is a late reply, it is worthy including it as an answer to this question. From the <a href=\"https://redux.js.org/recipes/usage-with-typescript/#usage-with-typescript\" rel=\"nofollow noreferrer\">Redux Usage with Typescript</a>:</p>\n<p>Redux Thunk is a commonly used middleware for writing sync and async logic that interacts with the Redux store. Feel free to check out its documentation here. A thunk is a function that returns another function that takes parameters dispatch and getState. Redux Thunk has a built in type ThunkAction which we can use to define types for those arguments:</p>\n<pre><code>import { Action } from 'redux'\nimport { sendMessage } from './store/chat/actions'\nimport { RootState } from './store'\nimport { ThunkAction } from 'redux-thunk'\n\nexport const thunkSendMessage = (\n  message: string\n): ThunkAction&lt;void, RootState, unknown, Action&lt;string&gt;&gt; =&gt; async dispatch =&gt; {\n  const asyncResp = await exampleAPI()\n  dispatch(\n    sendMessage({\n      message,\n      user: asyncResp,\n      timestamp: new Date().getTime()\n    })\n  )\n}\n</code></pre>\n"}], "owner": {"reputation": 1502, "user_id": 2096808, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/d9c0b94f9f60e916d4e4422710551638?s=128&d=identicon&r=PG", "display_name": "Jerry", "link": "https://stackoverflow.com/users/2096808/jerry"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1168, "favorite_count": 1, "accepted_answer_id": 55252362, "answer_count": 2, "score": 1, "last_activity_date": 1592873940, "creation_date": 1553043730, "last_edit_date": 1553074132, "question_id": 55252129, "link": "https://stackoverflow.com/questions/55252129/redux-thunk-in-typescript", "title": "Redux Thunk in TypeScript", "body": "<p>I'm trying to get a better understanding of ThunkDispatch function and TypeScript. Got this code for using redux and thunk.</p>\n\n<pre><code>// This is redux-thunk source code\nimport { Middleware, Action, AnyAction } from \"redux\";\n\nexport interface ThunkDispatch&lt;S, E, A extends Action&gt; {\n  &lt;T extends A&gt;(action: T): T;\n  &lt;R&gt;(asyncAction: ThunkAction&lt;R, S, E, A&gt;): R;\n}\n\nexport type ThunkAction&lt;R, S, E, A extends Action&gt; = (\n  dispatch: ThunkDispatch&lt;S, E, A&gt;,\n  getState: () =&gt; S,\n  extraArgument: E\n) =&gt; R;\n\n===================\n\nimport { Action } from 'redux'\nimport { ThunkAction } from 'redux-thunk'\nimport { ThunkDispatch } from 'redux-thunk'\n\ninterface ReduxState {\n  // redux states\n}\n\ntype ThunkResult&lt;R&gt; = ThunkAction&lt;R, ReduxState, undefined, Action&gt;\ntype ReduxDispatch = ThunkDispatch&lt;ReduxState, undefined, Action&gt;\n\nconst loadAppData = (): ThunkResult&lt;void&gt; =&gt; async (dispatch, getState) =&gt; {\n  // get app data\n  dispatch(MyAction.getAppDataSuccess(17))\n}\n\nconst mapDispatchToProps = (dispatch: ReduxDispatch) =&gt; ({\n  loadAppData: () =&gt; dispatch(loadAppData()),\n})\n</code></pre>\n\n<p>My current understanding:</p>\n\n<pre><code>export interface ThunkDispatch&lt;S, E, A extends Action&gt; {\n  &lt;T extends A&gt;(action: T): T;\n  &lt;R&gt;(asyncAction: ThunkAction&lt;R, S, E, A&gt;): R;\n}\n</code></pre>\n\n<p>The <code>ThunkDispatch</code> is an interface with 2 properties, let's call them A and B. A is a function with a parameter called <code>action</code> type of <code>T</code> and returns something that is a type of <code>T</code>. Similarly, for B, it's a function with a parameter called <code>asyncAction</code> type of <code>ThunkAction&lt;R, S, E, A&gt;</code> and returns something that is a type of <code>R</code>.</p>\n\n<p><strong>Question</strong> \nDoes are the <code>&lt;T extends A&gt;</code> and <code>&lt;R&gt;</code> part just to imply a new generic type?</p>\n\n<p>My current understanding:</p>\n\n<pre><code>const mapDispatchToProps = (dispatch: ReduxDispatch) =&gt; ({\n  loadAppData: () =&gt; dispatch(loadAppData()),\n})\n</code></pre>\n\n<p><code>dispatch</code> as a parameter is a type of <code>ReduxDispatch</code> which is an interface with 2 property functions.</p>\n\n<p><code>loadAppData</code> is a function that will return a type of <code>ThunkResult&lt;void&gt;</code>, which is equivalent to <code>ThunkAction&lt;Void, ReduxState, undefined, Action&gt;</code>. If we put those types into the <code>ThunkAction</code> definition, it matches to the signature of <code>async (dispatch, getState) =&gt; { ... }</code></p>\n\n<p><strong>Question</strong>\nThe <code>dispatch(loadAppData())</code> in the <code>mapDispatchToProps</code>, <code>loadAppData()</code> returns a <code>ThunkResult&lt;void&gt;</code> which is essentially a function. <code>dispatch</code> is just an interface with 2 property functions, then this syntax doesn't make sense to me, <code>interface(func)</code> </p>\n\n<p>If I misunderstood anything, please point it out! Thanks</p>\n"}, {"tags": ["javascript", "typescript", "mocha.js", "sinon"], "answers": [{"comments": [{"owner": {"reputation": 33, "user_id": 1437424, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/880cc3578ae13f06587740cc55407ff8?s=128&d=identicon&r=PG", "display_name": "Richard Annand", "link": "https://stackoverflow.com/users/1437424/richard-annand"}, "edited": false, "score": 0, "creation_date": 1553069578, "post_id": 55253673, "comment_id": 97243916, "body": "Thanks so much! I will try that out and report back"}, {"owner": {"reputation": 33, "user_id": 1437424, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/880cc3578ae13f06587740cc55407ff8?s=128&d=identicon&r=PG", "display_name": "Richard Annand", "link": "https://stackoverflow.com/users/1437424/richard-annand"}, "edited": false, "score": 0, "creation_date": 1553086852, "post_id": 55253673, "comment_id": 97254090, "body": "I cannot thank you enough @brian-lives-outdoors.That has fixed my issue!"}], "tags": [], "owner": {"reputation": 28635, "user_id": 10149510, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qVO7k.jpg?s=128&g=1", "display_name": "Brian Adams", "link": "https://stackoverflow.com/users/10149510/brian-adams"}, "is_accepted": true, "score": 0, "last_activity_date": 1553056653, "creation_date": 1553056653, "answer_id": 55253673, "question_id": 55252015, "link": "https://stackoverflow.com/questions/55252015/sinon-stub-different-value-returned-each-time/55253673#55253673", "title": "Sinon Stub Different Value returned each time", "body": "<p>Looks like you need a few fixes to your <code>async</code> code.</p>\n\n<hr>\n\n<p>Right now <code>getInput</code> <em>always</em> resolves to <code>undefined</code>.  <code>resolve</code> is undefined inside the <code>then</code> clause so that <code>Promise</code> always rejects with an error, but even if that issue didn't exist the <code>value</code> that <em>would</em> have otherwise been returned from <code>vscode.window.showInputBox</code> is never returned.</p>\n\n<p>You can fix those issues by changing it to this:</p>\n\n<pre><code>export async function getInput (prompt: string, placeholder: string, defaultValue: string): Promise&lt;string&gt; {\n  const value = await vscode.window.showInputBox({ prompt: prompt, placeHolder: placeholder, value: defaultValue });\n  if (value) {\n    return value;\n  }\n  throw new Error('No value for prompt')\n}\n</code></pre>\n\n<hr>\n\n<p>You're creating the mock correctly, you just need to wait for the <code>Promise</code> returned by <code>getPackInfo</code> to resolve before restoring the mock and ending the test.</p>\n\n<p>Right now it is calling <code>getPackInfo</code> and then immediately calling <code>done</code>, restoring the mock, and ending the test before any of the <code>async</code> code in <code>getPackInfo</code> has even had a chance to run.</p>\n\n<p>The easiest way to fix that is to use an <code>async</code> test function and call <code>await</code> on the <code>Promise</code>:</p>\n\n<pre><code>it('Check that packname is converted correctly', async () =&gt; {  // async test function\n  let mockGetInput;\n  mockGetInput = sinon.stub(vscode.window, 'showInputBox');\n  mockGetInput.onFirstCall().resolves('ref-pack-here');\n  mockGetInput.onSecondCall().resolves('Test Author');\n  mockGetInput.onThirdCall().resolves('example@example.com');\n  const res = await getPackInfo();  // await the Promise\n  console.log(`Output: ${res['packname']}`);\n  console.log(`Output: ${res['author']}`);\n  console.log(`Output: ${res['email']}`);\n  console.log(`Output: ${res['ref']}`);\n  mockGetInput.restore();\n});\n</code></pre>\n"}], "owner": {"reputation": 33, "user_id": 1437424, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/880cc3578ae13f06587740cc55407ff8?s=128&d=identicon&r=PG", "display_name": "Richard Annand", "link": "https://stackoverflow.com/users/1437424/richard-annand"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 479, "favorite_count": 0, "accepted_answer_id": 55253673, "answer_count": 1, "score": 2, "last_activity_date": 1553056653, "creation_date": 1553042854, "question_id": 55252015, "link": "https://stackoverflow.com/questions/55252015/sinon-stub-different-value-returned-each-time", "title": "Sinon Stub Different Value returned each time", "body": "<p>I'm fairly new to TypeScript/JavaScript but I have a working VScode extension which I'm quite happy with. My issue is with my Mocha tests. I have the following function</p>\n\n<pre><code>export async function getPackInfo (): Promise&lt;IPackInfo&gt; {\n  let validChars = '^[0-9a-zA-Z-]+$'\n  let ref\n  ref = await getInput('Pack Reference (lowercase and (-) only)', 'pack-reference', 'my-first-pack')\n  if (!ref.match(validChars)) {\n    vscode.window.showErrorMessage('Pack name can only contain letters, numbers and dashes', 'Got it')\n    return Promise.reject(new Error('Pack name can only contain letters, numbers and dashes. Pack will not be created correctly.'))\n  }\n  console.log(ref)\n  let packname = ref.replace(/-/g, ' ').toLowerCase()\n  .split(' ')\n  .map((s) =&gt; s.charAt(0).toUpperCase() + s.substring(1))\n  .join(' ')\n  console.log(packname)\n  let author\n  if (getSetting('defaultAuthor')) {\n    console.log('Got setting')\n    author = getSetting('defaultAuthor')\n  } else {\n    console.log('Need input')\n    author = await getInput('Pack Author', 'Pack Author', 'John Doe')\n  }\n  console.log(author)\n\n  let email\n  if (getSetting('defaultEmail')) {\n    email = getSetting('defaultEmail')\n  } else {\n    email = await getInput('Author Email', 'Author Email', 'john@example.com')\n  }\n  console.log(email)\n  if (!author || !email) {\n    throw new Error('Pack author or email not defined')\n  }\n  // Write Pack Config File\n  let data: IPackInfo = {\n    'ref': ref,\n    'packname': packname,\n    'author': author,\n    'email': email\n  }\n  return data\n}\n</code></pre>\n\n<p>This function call another one called getInput which calls vscode.window.showInputBox:</p>\n\n<pre><code>export async function getInput (prompt: string, placeholder: string, defaultValue: string): Promise&lt;string&gt; {\n  let value = await vscode.window.showInputBox({ prompt: prompt, placeHolder: placeholder, value: defaultValue }).then(function(value) {\n    if (value) {\n      resolve(value)\n    }\n    throw new Error('No value for prompt')\n  })\n</code></pre>\n\n<p>I am trying to test that the data returns correctly in the 'getPackInfo' function. My test currently looks like this:</p>\n\n<pre><code>    it('Check that packname is converted correctly', function (done) {\n      let mockGetInput\n      mockGetInput = sinon.stub(vscode.window, 'showInputBox')\n      mockGetInput.onFirstCall().resolves('ref-pack-here')\n      mockGetInput.onSecondCall().resolves('Test Author')\n      mockGetInput.onThirdCall().resolves('example@example.com')\n      getPackInfo().then((res) =&gt; {\n        let output = res['ref']\n        console.log(`Output: ${res['packname']}`)\n        console.log(`Output: ${res['author']}`)\n        console.log(`Output: ${res['email']}`)\n        console.log(`Output: ${res['ref']}`)\n      }).catch(error =&gt; {\n        console.log(error)\n      })\n      done()\n      mockGetInput.restore()\n    })\n</code></pre>\n\n<p>I have been at this now for days but I cannot get each call to be a different value!</p>\n\n<p>The first call returns correctly but all subsequent call do not return anything. </p>\n\n<p>If there is a better way to do it I am more than happy to try!</p>\n"}, {"tags": ["angular", "typescript", "node-red", "angular4-httpclient"], "answers": [{"comments": [{"owner": {"reputation": 63, "user_id": 2942778, "user_type": "registered", "profile_image": "https://graph.facebook.com/100002101680924/picture?type=large", "display_name": "Andre Defremont", "link": "https://stackoverflow.com/users/2942778/andre-defremont"}, "edited": false, "score": 0, "creation_date": 1553101634, "post_id": 55253139, "comment_id": 97264197, "body": "Thanks mate, but i think that because of my Angular version 4.1.3, im not able to use import { HttpClientModule } from &#39;@angular/common/http&#39;; i try to update putting &quot;^&quot; in front of angular depedencies in package.json but this broken many parts of webapp. You think that have other way to use http get request in Angular 4.1.3 without update?   Thank again"}, {"owner": {"reputation": 63, "user_id": 2942778, "user_type": "registered", "profile_image": "https://graph.facebook.com/100002101680924/picture?type=large", "display_name": "Andre Defremont", "link": "https://stackoverflow.com/users/2942778/andre-defremont"}, "edited": false, "score": 0, "creation_date": 1553141506, "post_id": 55253139, "comment_id": 97278138, "body": "works but with  import { HttpModule } from &#39;@angular/http&#39;; (MODULE) and import { Http } from &#39;@angular/http&#39;;  this.http.post(&#39;<a href=\"http://127.0.0.1:1880/hello\" rel=\"nofollow noreferrer\">127.0.0.1:1880/hello</a>&#39;,{             &quot;to&quot;: &quot;andre.def93@gmail.com&quot;, &quot;topic&quot;:&quot;New revision recieved&quot;         }).subscribe(data=&gt;{         console.log(&quot;Work, recive: &quot; + data);        },        err =&gt;{         console.log(&quot;Err, recive: &quot; + err);        },        () =&gt; {         console.log(&quot;Finish&quot;);        }); Thanks mate!"}, {"owner": {"reputation": 459, "user_id": 11218448, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-SK3b68Ly4VA/AAAAAAAAAAI/AAAAAAAAABI/FLXGws8WIwA/photo.jpg?sz=128", "display_name": "Guiditox", "link": "https://stackoverflow.com/users/11218448/guiditox"}, "reply_to_user": {"reputation": 63, "user_id": 2942778, "user_type": "registered", "profile_image": "https://graph.facebook.com/100002101680924/picture?type=large", "display_name": "Andre Defremont", "link": "https://stackoverflow.com/users/2942778/andre-defremont"}, "edited": false, "score": 0, "creation_date": 1553191574, "post_id": 55253139, "comment_id": 97303175, "body": "Excelent! sorry for the delay"}], "tags": [], "owner": {"reputation": 459, "user_id": 11218448, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-SK3b68Ly4VA/AAAAAAAAAAI/AAAAAAAAABI/FLXGws8WIwA/photo.jpg?sz=128", "display_name": "Guiditox", "link": "https://stackoverflow.com/users/11218448/guiditox"}, "is_accepted": true, "score": 2, "last_activity_date": 1553191681, "last_edit_date": 1553191681, "creation_date": 1553052559, "answer_id": 55253139, "question_id": 55252009, "link": "https://stackoverflow.com/questions/55252009/node-red-http-get-request-in-angular-4-webapp/55253139#55253139", "title": "Node-red HTTP GET Request in Angular 4 webapp", "body": "<p>There are many possible problems.\nFirst, i recommend you use http client.</p>\n\n<p>(in App Module):</p>\n\n<pre><code>import { HttpClientModule } from '@angular/common/http';\nimports: [ .. ,HttpClientModule, .. ]\n</code></pre>\n\n<p>(in Component.ts (Is better in a service)</p>\n\n<pre><code>import { HttpClient } from '@angular/common/http';\n\n.... \n\n constructor(private http: HttpClient){}\n\ntest(){\n this.http.get&lt;any&gt;('http://127.0.0.1:1800/hello').subscribe(data=&gt;{\n console.log(\"Work, recive: \" + data);\n},\nerr =&gt;{\n console.log(\"Err, recive: \" + err);\n},\n() =&gt; {\n console.log(\"Finish\");\n});\n}\n</code></pre>\n\n<p>in this way, you will be able to see what the error is and why it is not working.</p>\n\n<p>if is a CORS error, try: <br>\n<a href=\"https://github.com/node-red/node-red/issues/1347#issuecomment-363451534\" rel=\"nofollow noreferrer\">https://github.com/node-red/node-red/issues/1347#issuecomment-363451534</a>\n<br> or <br>\n<a href=\"https://thefrinkiac7.wordpress.com/node-red/enable-cors-with-node-red/\" rel=\"nofollow noreferrer\">https://thefrinkiac7.wordpress.com/node-red/enable-cors-with-node-red/</a></p>\n\n<p>:) Bye!</p>\n"}], "owner": {"reputation": 63, "user_id": 2942778, "user_type": "registered", "profile_image": "https://graph.facebook.com/100002101680924/picture?type=large", "display_name": "Andre Defremont", "link": "https://stackoverflow.com/users/2942778/andre-defremont"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 204, "favorite_count": 0, "accepted_answer_id": 55253139, "answer_count": 1, "score": 1, "last_activity_date": 1553191681, "creation_date": 1553042814, "last_edit_date": 1553043672, "question_id": 55252009, "link": "https://stackoverflow.com/questions/55252009/node-red-http-get-request-in-angular-4-webapp", "title": "Node-red HTTP GET Request in Angular 4 webapp", "body": "<p>I'm building a service that use <strong>Node-red</strong> only to send email when a GET request to <strong>127.0.0.1:1880/hello</strong> (node-red port) are triggered and an <strong>Angular 4 webapp</strong> (<strong>127.0.0.1:3000</strong>) to client access.</p>\n\n<p>When i access thr /hello page from <strong>browser</strong>, i get an e-mail from node-red in my personal e-mail  account. </p>\n\n<p>The problem is that when press the button for test an http get request to node-red, <strong>nothing happens.</strong></p>\n\n<p><strong>Using Ubuntu 16.04 LTS</strong></p>\n\n<p><strong>node 8.15</strong></p>\n\n<p><strong>npm 6.4</strong></p>\n\n<p><strong>Node-RED 0.20.2</strong></p>\n\n<p><strong>The node-red flow:</strong></p>\n\n<p><a href=\"https://i.stack.imgur.com/yaFqu.png\" rel=\"nofollow noreferrer\">NODE-RED FLOW SEND EMAIL IMAGE</a></p>\n\n<blockquote>\n  <p>[{\"id\":\"35dcdbd9.a99684\",\"type\":\"tab\",\"label\":\"Flow\n  1\",\"disabled\":false,\"info\":\"\"},{\"id\":\"dcdb9a4e.db2eb8\",\"type\":\"debug\",\"z\":\"35dcdbd9.a99684\",\"name\":\"\",\"active\":true,\"tosidebar\":true,\"console\":false,\"tostatus\":false,\"complete\":\"payload\",\"targetType\":\"msg\",\"x\":450,\"y\":180,\"wires\":[]},{\"id\":\"aa98d38f.846af\",\"type\":\"e-mail\",\"z\":\"35dcdbd9.a99684\",\"server\":\"smtp.gmail.com\",\"port\":\"465\",\"secure\":true,\"tls\":true,\"name\":\"andre.def93@gmail.com\",\"dname\":\"\",\"x\":500,\"y\":320,\"wires\":[]},{\"id\":\"f1aea493.ec0e78\",\"type\":\"http\n  response\",\"z\":\"35dcdbd9.a99684\",\"name\":\"\",\"statusCode\":\"\",\"headers\":{},\"x\":670,\"y\":260,\"wires\":[]},{\"id\":\"747c3f58.892dd\",\"type\":\"http\n  in\",\"z\":\"35dcdbd9.a99684\",\"name\":\"\",\"url\":\"/hello\",\"method\":\"get\",\"upload\":false,\"swaggerDoc\":\"\",\"x\":120,\"y\":260,\"wires\":[[\"dcdb9a4e.db2eb8\",\"aa98d38f.846af\",\"f1aea493.ec0e78\"]]}]</p>\n</blockquote>\n\n<p><strong>Angular 4.1.3 app</strong></p>\n\n<p>My component.ts:</p>\n\n<pre><code>[...]\nimport { Http } from '@angular/http';\n[...]\n    constructor(\n        private http: Http,\n        [...]\n    ) { }\n[...]\n    test(){\n       this.http.get('http://127.0.0.1:1880/hello');\n    }\n[...]\n</code></pre>\n\n<p>My component.html:</p>\n\n<pre><code>[...]\n&lt;button class=\"primary\" (click)=\"test()\"&gt;\n    &lt;div *ngIf=\"!issueInProgress\"&gt;\n        &lt;span&gt;TEST&lt;/span&gt;\n    &lt;/div&gt;\n&lt;/button&gt;\n[...]\n</code></pre>\n\n<p>Thank you all folks!</p>\n"}, {"tags": ["typescript"], "answers": [{"tags": [], "owner": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "is_accepted": true, "score": 3, "last_activity_date": 1553043487, "last_edit_date": 1553043487, "creation_date": 1553043118, "answer_id": 55252043, "question_id": 55251985, "link": "https://stackoverflow.com/questions/55251985/typescript-narrow-down-the-keys-of-indexable-type-by-its-value-types/55252043#55252043", "title": "TypeScript narrow down the keys of indexable type by its value types", "body": "<p>Sure, you can do this by using <a href=\"https://github.com/Microsoft/TypeScript/wiki/What&#39;s-new-in-TypeScript#conditional-types\" rel=\"nofollow noreferrer\">conditional</a> and <a href=\"https://www.typescriptlang.org/docs/handbook/advanced-types.html#mapped-types\" rel=\"nofollow noreferrer\">mapped</a> types to extract just the keys of an object type <code>T</code> whose values match a value type <code>V</code>:</p>\n\n<pre><code>type KeysMatching&lt;T, V&gt; = { [K in keyof T]: T[K] extends V ? K : never }[keyof T];\ndeclare function check&lt;T&gt;(obj: T, k: KeysMatching&lt;T, string&gt;): string;\n\nconst test1 = check({ a: 'string', b: 22 }, 'b'); // error \nconst test2 = check({ a: 'str', b: 'str2' }, 'b'); // ok \n</code></pre>\n\n<p>Hope that helps.  Good luck!</p>\n"}], "owner": {"reputation": 268, "user_id": 9954739, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/933bf1b249d80ff24de938dbce3ff195?s=128&d=identicon&r=PG", "display_name": "Amin Paks", "link": "https://stackoverflow.com/users/9954739/amin-paks"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 287, "favorite_count": 2, "accepted_answer_id": 55252043, "answer_count": 1, "score": 2, "last_activity_date": 1553043487, "creation_date": 1553042638, "question_id": 55251985, "link": "https://stackoverflow.com/questions/55251985/typescript-narrow-down-the-keys-of-indexable-type-by-its-value-types", "title": "TypeScript narrow down the keys of indexable type by its value types", "body": "<p>Given we have a generic indexable type how can I retrieve only the types of its values to be able to narrow down to only some of the keys?</p>\n\n<pre><code>// imagine check is a function and its second argument only allows the property `a` as it's string and raise an error if 'b' is passed\nconst test2 = check({ a: 'string', b: 22 }, 'b'); // error only 'a' is allowed\nconst test2 = check({ a: 'str', b: 'str2' }, 'b'); // ok returns 'str2'\n</code></pre>\n"}, {"tags": ["javascript", "arrays", "typescript"], "comments": [{"owner": {"reputation": 1989, "user_id": 878906, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/fe27d918fc8b4704b57e79db6bd75e2e?s=128&d=identicon&r=PG", "display_name": "Doug Coburn", "link": "https://stackoverflow.com/users/878906/doug-coburn"}, "edited": false, "score": 2, "creation_date": 1553042582, "post_id": 55251964, "comment_id": 97236483, "body": "Shouldn&#39;t <code>removedArray</code> be <code>[2,3,4]</code>?  Am I misreading your requirements?"}, {"owner": {"reputation": 10255, "user_id": 1024832, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/954d8559c2d4cd308e4c2795423dd268?s=128&d=identicon&r=PG", "display_name": "Marc", "link": "https://stackoverflow.com/users/1024832/marc"}, "edited": false, "score": 1, "creation_date": 1553042613, "post_id": 55251964, "comment_id": 97236491, "body": "This has been solved before.  E.g., Lodash has <code>difference</code> and <code>intersection</code>, which would be where I&#39;d start my research."}, {"owner": {"reputation": 968, "user_id": 1181404, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/24z9t.png?s=128&g=1", "display_name": "Happy Coder", "link": "https://stackoverflow.com/users/1181404/happy-coder"}, "reply_to_user": {"reputation": 1989, "user_id": 878906, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/fe27d918fc8b4704b57e79db6bd75e2e?s=128&d=identicon&r=PG", "display_name": "Doug Coburn", "link": "https://stackoverflow.com/users/878906/doug-coburn"}, "edited": false, "score": 0, "creation_date": 1553042721, "post_id": 55251964, "comment_id": 97236523, "body": "@Doug Coburn  yes it&#39;s, I will update"}, {"owner": {"reputation": 1989, "user_id": 878906, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/fe27d918fc8b4704b57e79db6bd75e2e?s=128&d=identicon&r=PG", "display_name": "Doug Coburn", "link": "https://stackoverflow.com/users/878906/doug-coburn"}, "edited": false, "score": 0, "creation_date": 1553042757, "post_id": 55251964, "comment_id": 97236537, "body": "can <code>A</code> or <code>B</code> have duplicate elements?  What should be the behavior in that case?  Does order matter?"}, {"owner": {"reputation": 968, "user_id": 1181404, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/24z9t.png?s=128&g=1", "display_name": "Happy Coder", "link": "https://stackoverflow.com/users/1181404/happy-coder"}, "edited": false, "score": 0, "creation_date": 1553043061, "post_id": 55251964, "comment_id": 97236600, "body": "No duplicates, order doesn&#39;t matter"}], "answers": [{"comments": [{"owner": {"reputation": 968, "user_id": 1181404, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/24z9t.png?s=128&g=1", "display_name": "Happy Coder", "link": "https://stackoverflow.com/users/1181404/happy-coder"}, "edited": false, "score": 0, "creation_date": 1553043487, "post_id": 55252057, "comment_id": 97236703, "body": "Thank you! I am not agree with someone who set that question as duplicate..good to know that javascript supports sets"}], "tags": [], "owner": {"reputation": 1989, "user_id": 878906, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/fe27d918fc8b4704b57e79db6bd75e2e?s=128&d=identicon&r=PG", "display_name": "Doug Coburn", "link": "https://stackoverflow.com/users/878906/doug-coburn"}, "is_accepted": true, "score": 2, "last_activity_date": 1553043200, "creation_date": 1553043200, "answer_id": 55252057, "question_id": 55251964, "link": "https://stackoverflow.com/questions/55251964/get-difference-between-the-two-arrays-in-separate-arrays-addedlist-and-removedl/55252057#55252057", "title": "Get difference between the two arrays in separate arrays ,AddedList and RemovedList in typescript", "body": "<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const A = [1, 2, 3, 4];\r\nconst B = [1, 5, 6, 7];\r\nconst difference = (left, right) =&gt; {\r\n  let a = new Set(left);\r\n  let b = new Set(right);\r\n  return [...a].filter(x =&gt; !b.has(x))\r\n}\r\nconst addArray = difference(B, A);\r\nconst removedArray = difference(A, B);\r\n\r\nconsole.log({ addArray, removedArray });</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>References:</p>\n\n<ul>\n<li><p>2ality: <a href=\"http://2ality.com/2015/01/es6-set-operations.html\" rel=\"nofollow noreferrer\">ECMAScript 6 sets: union, intersection, difference</a></p></li>\n<li><p>MDN: <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Set#Implementing_basic_set_operations\" rel=\"nofollow noreferrer\">Set : Implementing basic set operations</a></p></li>\n</ul>\n"}], "owner": {"reputation": 968, "user_id": 1181404, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/24z9t.png?s=128&g=1", "display_name": "Happy Coder", "link": "https://stackoverflow.com/users/1181404/happy-coder"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 57, "favorite_count": 0, "closed_date": 1553042780, "accepted_answer_id": 55252057, "answer_count": 1, "score": 0, "last_activity_date": 1553043200, "creation_date": 1553042393, "last_edit_date": 1553042743, "question_id": 55251964, "link": "https://stackoverflow.com/questions/55251964/get-difference-between-the-two-arrays-in-separate-arrays-addedlist-and-removedl", "closed_reason": "Duplicate", "title": "Get difference between the two arrays in separate arrays ,AddedList and RemovedList in typescript", "body": "<p>I am new to typescript, and i want find a right way to solve my problem.\nSo i have two arrays A and B, i need to find a difference between two arrays relative to array A and return a result in separate arrays what was addArray and what was removedArray\nFor example:</p>\n\n<pre><code>A = [1, 2, 3, 4];\nB = [1, 5, 6, 7];\naddArray =[5,6,7]\nremovedArray =[2,3,4]\n</code></pre>\n\n<p>Looking for fast and elegant way </p>\n"}, {"tags": ["javascript", "angular", "typescript", "enums"], "comments": [{"owner": {"reputation": 1663, "user_id": 1958480, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/03cf8097a46ba2b0f9889fb4a6ffe31e?s=128&d=identicon&r=PG&f=1", "display_name": "jcuypers", "link": "https://stackoverflow.com/users/1958480/jcuypers"}, "edited": false, "score": 0, "creation_date": 1553037671, "post_id": 55251216, "comment_id": 97235260, "body": "is enum a requirement?  there are much better ways to solve this?"}, {"owner": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "edited": false, "score": 0, "creation_date": 1553041706, "post_id": 55251216, "comment_id": 97236277, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/2146173/how-to-get-local-variable-by-its-name-in-js\">How to get local variable by its name in JS?</a>."}, {"owner": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "edited": false, "score": 0, "creation_date": 1553041883, "post_id": 55251216, "comment_id": 97236318, "body": "The short answer here is that you shouldn&#39;t try to access a variable via a string representing its name.  Instead you should maintain a mapping of string names to variable contents, also known as an object... e.g., <code>const enums = {HelloWorld: HelloWorldEnum};</code> and then <code>enums[str]</code>."}], "answers": [{"tags": [], "owner": {"reputation": 1989, "user_id": 878906, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/fe27d918fc8b4704b57e79db6bd75e2e?s=128&d=identicon&r=PG", "display_name": "Doug Coburn", "link": "https://stackoverflow.com/users/878906/doug-coburn"}, "is_accepted": false, "score": 0, "last_activity_date": 1553042378, "creation_date": 1553042378, "answer_id": 55251962, "question_id": 55251216, "link": "https://stackoverflow.com/questions/55251216/how-to-reference-an-enum-via-its-name-as-variable-using-typescript/55251962#55251962", "title": "how to reference an enum via its name as variable using typescript", "body": "<p>Typescript will ultimately transpile your enum definition to something that looks like:\n</p>\n\n<pre><code>var HelloWorldEnum = {};\nHelloWorldEnum[\"option1\"] = \"Option1\";\nHelloWorldEnum[\"option2\"] = \"Option2\";\nHelloWorldEnum[\"option3\"] = \"Option3\";\n</code></pre>\n\n\n\n<p>As you can see.  It's just a variable name in local scope.  It's not added to the global window object or any other object.</p>\n\n<p>There is only one way to access a variable by it's name in javascript and it's <em>not</em> recommended... and that's by using <code>eval()</code> which is considered a dangerous api which can cause performance issues in your javascript engine just by using it.</p>\n\n<p>Warnings aside.  Here is how one might do what you ask.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>var HelloWorldEnum = {};\r\nHelloWorldEnum[\"option1\"] = \"Option1\";\r\nHelloWorldEnum[\"option2\"] = \"Option2\";\r\nHelloWorldEnum[\"option3\"] = \"Option3\";\r\n\r\nfunction getVariableFromScope(variable) { return eval(variable); }\r\nfunction getOptions(name) {\r\n  const _enum = getVariableFromScope(`${name}Enum`);\r\n  return Object.keys(_enum).map(el =&gt; ({ label: _enum[el], value: el }));\r\n};\r\nconsole.log(getOptions('HelloWorld'));</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>Ultimately, I think you should explore other ways of solving the underlying issue.</p>\n"}], "owner": {"reputation": 728, "user_id": 958916, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/b4755277eecf4e75cb11d62e77a2aae7?s=128&d=identicon&r=PG", "display_name": "Vincent-cm", "link": "https://stackoverflow.com/users/958916/vincent-cm"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 46, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1553042378, "creation_date": 1553036581, "last_edit_date": 1553036902, "question_id": 55251216, "link": "https://stackoverflow.com/questions/55251216/how-to-reference-an-enum-via-its-name-as-variable-using-typescript", "title": "how to reference an enum via its name as variable using typescript", "body": "<p>For example I want to extract an object array from an Enum definition.</p>\n\n<pre><code>Object.keys(HelloWorldEnum).map(el =&gt; {\n  return {\n    label: HelloWorldEnum[el],\n    value: el\n  };\n});\n\n\nenum HelloWorldEnum {\n  option1 = 'Option1',\n  option2 = 'Option2',\n  option3 = 'Option3'\n}\n</code></pre>\n\n<p>Now, how I can do with a function that passing 'HelloWorld' as a variable, below is not work:</p>\n\n<pre><code>getOptions(str) {\n    return Object.keys([str + 'Enum']).map(el =&gt; {\n      return {\n        label: [str + 'Enum'][el],\n        value: el\n      };\n    });\n  }\n</code></pre>\n\n<p>Even I changed to <code>window[str + 'Enum']</code>, or <code>this[str + 'Enum']</code> that it won't works since the Enum definition is not existing in neither <strong>window</strong> nor <strong>this</strong> namespace </p>\n\n<p>Assume the above code is in any of an <strong>Angular Component</strong></p>\n"}, {"tags": ["reactjs", "typescript", "ag-grid-react"], "comments": [{"owner": {"reputation": 366, "user_id": 7411834, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/30cbf1ba12a81b3b44e200a0532d0526?s=128&d=identicon&r=PG&f=1", "display_name": "remelkabir", "link": "https://stackoverflow.com/users/7411834/remelkabir"}, "edited": false, "score": 0, "creation_date": 1553058032, "post_id": 55251145, "comment_id": 97239724, "body": "idk, what&#39;s causing this issue for you. But i just created a dummy project with typescript and ag-grid and it&#39;s working. Refer to this: <a href=\"https://stackblitz.com/edit/react-ts-n1znfd\" rel=\"nofollow noreferrer\">stackblitz.com/edit/react-ts-n1znfd</a> and see if you can identify any difference or issue."}, {"owner": {"reputation": 65, "user_id": 11229157, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/29cec1106c28dc8960b33d1c69cde3de?s=128&d=identicon&r=PG&f=1", "display_name": "Mike Cantor", "link": "https://stackoverflow.com/users/11229157/mike-cantor"}, "reply_to_user": {"reputation": 366, "user_id": 7411834, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/30cbf1ba12a81b3b44e200a0532d0526?s=128&d=identicon&r=PG&f=1", "display_name": "remelkabir", "link": "https://stackoverflow.com/users/7411834/remelkabir"}, "edited": false, "score": 0, "creation_date": 1553100586, "post_id": 55251145, "comment_id": 97263559, "body": "Thanks @remelkabir!  That helped - it turns out I just had ag-grid installed but needed ag-grid-community"}], "answers": [{"tags": [], "owner": {"reputation": 65, "user_id": 11229157, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/29cec1106c28dc8960b33d1c69cde3de?s=128&d=identicon&r=PG&f=1", "display_name": "Mike Cantor", "link": "https://stackoverflow.com/users/11229157/mike-cantor"}, "is_accepted": false, "score": 0, "last_activity_date": 1553100657, "creation_date": 1553100657, "answer_id": 55266142, "question_id": 55251145, "link": "https://stackoverflow.com/questions/55251145/errors-using-ag-grid-react-with-typescript/55266142#55266142", "title": "Errors using ag-grid-react with typescript", "body": "<p>False alarm:  I just needed to <code>npm install ag-grid-community</code>, not ag-grid</p>\n"}], "owner": {"reputation": 65, "user_id": 11229157, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/29cec1106c28dc8960b33d1c69cde3de?s=128&d=identicon&r=PG&f=1", "display_name": "Mike Cantor", "link": "https://stackoverflow.com/users/11229157/mike-cantor"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1584, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1553100657, "creation_date": 1553036137, "last_edit_date": 1553042523, "question_id": 55251145, "link": "https://stackoverflow.com/questions/55251145/errors-using-ag-grid-react-with-typescript", "title": "Errors using ag-grid-react with typescript", "body": "<p>After quite a bit of googling I still can't find examples of using ag-grid-react with typescript, though the ag-grid-react project appears to have typescript typing.  </p>\n\n<p>In my react app, I've installed ag-grid-react: <code>npm i --save ag-grid ag-grid-react react-dom-factories</code></p>\n\n<p>This code looks fine as a jsx file, but if I try to use it as a typescript tsx file I get compiler errors:</p>\n\n<pre><code>const columnDefs =  [\n    {headerName: 'Make', field: 'make'},\n    {headerName: 'Model', field: 'model'},\n    {headerName: 'Price', field: 'price'}\n];\nconst rowData = [\n    {make: 'Toyota', model: 'Celica', price: 35000},\n    {make: 'Ford', model: 'Mondeo', price: 32000},\n    {make: 'Porsche', model: 'Boxter', price: 72000}\n]\n\nclass App extends Component {\n    constructor(props: any) {\n        super(props);\n    }\n\n    render() {\n        return (\n            &lt;div\n                className=\"ag-theme-balham\"\n                style={{ height: '200px', width: '600px' }}\n            &gt;\n                &lt;AgGridReact\n                    columnDefs={columnDefs}\n                    rowData={rowData}&gt;\n                &lt;/AgGridReact&gt;\n            &lt;/div&gt;\n        );\n    }\n}\n\nexport default App;\n</code></pre>\n\n<p>Compile error on the AgGridReact tag </p>\n\n<pre><code>Type '{ children: never[]; columnDefs: { headerName: string; field:\nstring; }[]; rowData: { make: string; model: string; price: number;\n}[]; }' is not assignable to type 'IntrinsicAttributes &amp;\nIntrinsicClassAttributes&lt;AgGridReact&gt; &amp; Readonly&lt;AgGridReactProps&gt; &amp;\nReadonly&lt;{ children?: ReactNode; }&gt;'.   Property 'columnDefs' does not\nexist on type 'IntrinsicAttributes &amp;\nIntrinsicClassAttributes&lt;AgGridReact&gt; &amp; Readonly&lt;AgGridReactProps&gt; &amp;\nReadonly&lt;{ children?: ReactNode; }&gt;'.ts(2322)\n</code></pre>\n\n<p>Any guidance anyone can offer?</p>\n"}, {"tags": ["typescript"], "answers": [{"comments": [{"owner": {"reputation": 125, "user_id": 10699991, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/74dc290fafb1127cbe28377766760d60?s=128&d=identicon&r=PG&f=1", "display_name": "C.Programming", "link": "https://stackoverflow.com/users/10699991/c-programming"}, "edited": false, "score": 0, "creation_date": 1553094151, "post_id": 55251194, "comment_id": 97259193, "body": "I cannot get the second solution to work as I get an error &quot;Pear is not assignable to type T&quot;. The first solution seems to work fine, but only when all the fruit has the same properties. If Pear has an extra property, then I get an error. Is there a way to fix this?"}, {"owner": {"reputation": 135520, "user_id": 1715579, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/4B4y1.png?s=128&g=1", "display_name": "p.s.w.g", "link": "https://stackoverflow.com/users/1715579/p-s-w-g"}, "reply_to_user": {"reputation": 125, "user_id": 10699991, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/74dc290fafb1127cbe28377766760d60?s=128&d=identicon&r=PG&f=1", "display_name": "C.Programming", "link": "https://stackoverflow.com/users/10699991/c-programming"}, "edited": false, "score": 0, "creation_date": 1553095229, "post_id": 55251194, "comment_id": 97259975, "body": "@C.Programming Can you show what <code>Apple</code>, <code>Pear</code>, etc. actually looks like, an how you&#39;re calling this method?"}, {"owner": {"reputation": 135520, "user_id": 1715579, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/4B4y1.png?s=128&g=1", "display_name": "p.s.w.g", "link": "https://stackoverflow.com/users/1715579/p-s-w-g"}, "reply_to_user": {"reputation": 125, "user_id": 10699991, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/74dc290fafb1127cbe28377766760d60?s=128&d=identicon&r=PG&f=1", "display_name": "C.Programming", "link": "https://stackoverflow.com/users/10699991/c-programming"}, "edited": false, "score": 0, "creation_date": 1553099550, "post_id": 55251194, "comment_id": 97262973, "body": "@C.Programming In your updated question, <code>Pear</code> doesn&#39;t have a <code>id</code> property, so it doesn&#39;t satisfy the constraint on <code>T</code>. You can either move <code>id: string</code> to your base <code>Fruit</code> interface or use <code>name</code> or <code>type</code> for indexing <code>sorted</code> rather than <code>id</code>."}, {"owner": {"reputation": 125, "user_id": 10699991, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/74dc290fafb1127cbe28377766760d60?s=128&d=identicon&r=PG&f=1", "display_name": "C.Programming", "link": "https://stackoverflow.com/users/10699991/c-programming"}, "edited": false, "score": 0, "creation_date": 1553100030, "post_id": 55251194, "comment_id": 97263250, "body": "I apologize, pear does have an id property"}, {"owner": {"reputation": 135520, "user_id": 1715579, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/4B4y1.png?s=128&g=1", "display_name": "p.s.w.g", "link": "https://stackoverflow.com/users/1715579/p-s-w-g"}, "reply_to_user": {"reputation": 125, "user_id": 10699991, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/74dc290fafb1127cbe28377766760d60?s=128&d=identicon&r=PG&f=1", "display_name": "C.Programming", "link": "https://stackoverflow.com/users/10699991/c-programming"}, "edited": false, "score": 0, "creation_date": 1553100734, "post_id": 55251194, "comment_id": 97263644, "body": "@C.Programming I understand the problem now. <code>id</code> was a number rather than a string. I&#39;ve updated my answer to reflect the new information."}, {"owner": {"reputation": 125, "user_id": 10699991, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/74dc290fafb1127cbe28377766760d60?s=128&d=identicon&r=PG&f=1", "display_name": "C.Programming", "link": "https://stackoverflow.com/users/10699991/c-programming"}, "edited": false, "score": 0, "creation_date": 1553103665, "post_id": 55251194, "comment_id": 97265349, "body": "I had the id as a number, the problem persists where if I add Pear to my type KnownFruit definition, then I get a cannot invoke an expression whose type lacks a call signature. Which upon investigation, looks like it means that the pear doesn&#39;t have the exact same properties as the other fruit. (duck typing)"}, {"owner": {"reputation": 135520, "user_id": 1715579, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/4B4y1.png?s=128&g=1", "display_name": "p.s.w.g", "link": "https://stackoverflow.com/users/1715579/p-s-w-g"}, "reply_to_user": {"reputation": 125, "user_id": 10699991, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/74dc290fafb1127cbe28377766760d60?s=128&d=identicon&r=PG&f=1", "display_name": "C.Programming", "link": "https://stackoverflow.com/users/10699991/c-programming"}, "edited": false, "score": 0, "creation_date": 1553103916, "post_id": 55251194, "comment_id": 97265472, "body": "@C.Programming It really shouldn&#39;t need the <i>exact</i> same properties unless somewhere you have <code>var apple: Apple = pear</code> or similar. What is <code>Dictionary&lt;T&gt;</code> by the way? That&#39;s not a built-in type and perhaps it&#39;s causing some issues."}], "tags": [], "owner": {"reputation": 135520, "user_id": 1715579, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/4B4y1.png?s=128&g=1", "display_name": "p.s.w.g", "link": "https://stackoverflow.com/users/1715579/p-s-w-g"}, "is_accepted": true, "score": 2, "last_activity_date": 1553100684, "last_edit_date": 1553100684, "creation_date": 1553036443, "answer_id": 55251194, "question_id": 55251069, "link": "https://stackoverflow.com/questions/55251069/allocating-a-type-so-it-matches-a-variables-type/55251194#55251194", "title": "Allocating a Type so it Matches a Variables Type", "body": "<p><a href=\"https://www.typescriptlang.org/docs/handbook/generics.html\" rel=\"nofollow noreferrer\">Generics</a> to the rescue:</p>\n\n<pre><code>private mapArrayToDictionary = &lt;T extends { id: string | number }&gt;(\n  array: T[]\n) =&gt; {\n    const sorted: Dictionary&lt;T&gt; = {};\n    array.map((fruit) =&gt; (sorted[fruit.id] = fruit));\n    return sorted;\n};\n</code></pre>\n\n<p>Note that <code>Fruit</code> doesn't have a property <code>id</code> so you won't be able to simply use <code>&lt;T extends Fruit&gt;</code>, though if you want to restrict this method to just accept types that also implement the fields of <code>Fruit</code>, I'd recommend an <a href=\"https://www.typescriptlang.org/docs/handbook/advanced-types.html\" rel=\"nofollow noreferrer\">intersection type</a> <code>&lt;T extends Fruit &amp; { id : string | number }&gt;</code>.</p>\n\n<p>Alternatively, if there are only a few known fruit types you need to handle (and assuming all of those types contain a valid <code>id</code> property), you could make a union of those known fruit types:</p>\n\n<pre><code>type KnownFruit = Apple | Orange | Pear | Mango;\n...\n\nprivate mapArrayToDictionary = &lt;T extends KnownFruit&gt;(\n  array: T[]\n) =&gt; {\n    const sorted: Dictionary&lt;T&gt; = {};\n    array.map((fruit) =&gt; (sorted[fruit.id] = fruit));\n    return sorted;\n};\n</code></pre>\n"}], "owner": {"reputation": 125, "user_id": 10699991, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/74dc290fafb1127cbe28377766760d60?s=128&d=identicon&r=PG&f=1", "display_name": "C.Programming", "link": "https://stackoverflow.com/users/10699991/c-programming"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 35, "favorite_count": 0, "accepted_answer_id": 55251194, "answer_count": 1, "score": 0, "last_activity_date": 1553100684, "creation_date": 1553035634, "last_edit_date": 1553099989, "question_id": 55251069, "link": "https://stackoverflow.com/questions/55251069/allocating-a-type-so-it-matches-a-variables-type", "title": "Allocating a Type so it Matches a Variables Type", "body": "<p>I am making trying to create a small function that will take an array of type apple | orange | pear | mango and convert that to a coresponing custom made Dictionary Interface which is just an object. </p>\n\n<p>My code:</p>\n\n<pre><code>  private mapArrayToDictionary = (\n    array:\n      | Apple[]\n      | Orange[]\n      | Pear[]\n      | Mango[]\n  ) =&gt; {\n    const sorted: Dictionary&lt;typeof array&gt; = {};\n    array.map((fruit) =&gt; (sorted[fruit.id] = fruit));\n    return sorted;\n  };\n</code></pre>\n\n<p>I am trying to dynamically allocate the returning array to be of the same type as the array passed in as a parameter. Then I will take that id as the key and the value as the fruit object itself.  </p>\n\n<p>I am getting the error \"Type 'Apple' is not assignable to type 'Orange[] | Pear[] | Mango[]. etc. </p>\n\n<p>I assume I could make just a generic fruit interface type, but I am not understanding why this \"type of array\" does not carry over. Thank you</p>\n\n<p>Edit: \nMy function that works for all same property fruits</p>\n\n<pre><code>function mapArrayToDictionary(\n  array:\n    | Apple[]\n    | Orange[]\n    | Mango[]\n) {\n  type AnyFruitArray =\n    | Apple\n    | Orange\n    | Mango;\n\n  const sorted: Dictionary&lt;AnyFruitArray&gt; = {};\n  array.map(item =&gt; (sorted[item.id] = item));\n  return sorted;\n}\n</code></pre>\n\n<p>My interfaces for the fruit:</p>\n\n<pre><code>export interface Fruit {\n  name: string;\n  type: string;\n}\n\nexport interface Apple extends Fruit{\n  id: number;\n}\n\nexport interface Pear extends Fruit {\n    id: number;\n    location_id: number;\n    location_name: string;\n    producer: string;\n}\n</code></pre>\n\n<p>How I call the function:</p>\n\n<pre><code>const apples = await CalAPI.fetchApplesByIds(fruitIds);\nthis.setState({ relApples: mapArrayToDictionary(apples)});\n</code></pre>\n"}, {"tags": ["javascript", "html", "css", "typescript", "parceljs"], "comments": [{"owner": {"reputation": 174, "user_id": 4555342, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/OVCro.jpg?s=128&g=1", "display_name": "vldfr", "link": "https://stackoverflow.com/users/4555342/vldfr"}, "edited": false, "score": 1, "creation_date": 1566218296, "post_id": 55250792, "comment_id": 101575559, "body": "you are missing an apostrophe after ./component.css and ./component.html"}, {"owner": {"reputation": 174, "user_id": 4555342, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/OVCro.jpg?s=128&g=1", "display_name": "vldfr", "link": "https://stackoverflow.com/users/4555342/vldfr"}, "edited": false, "score": 1, "creation_date": 1566218353, "post_id": 55250792, "comment_id": 101575599, "body": "And also, do it like this:      import * as styles from &#39;./component.css&#39;;"}], "owner": {"reputation": 3581, "user_id": 6660433, "user_type": "registered", "accept_rate": 85, "profile_image": "https://graph.facebook.com/1206212896066130/picture?type=large", "display_name": "snowfrogdev", "link": "https://stackoverflow.com/users/6660433/snowfrogdev"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 478, "favorite_count": 1, "answer_count": 0, "score": 1, "last_activity_date": 1553033863, "creation_date": 1553033863, "question_id": 55250792, "link": "https://stackoverflow.com/questions/55250792/how-to-import-non-typescript-assets-from-a-typescript-file-using-parcel", "title": "How to import non-TypeScript assets from a TypeScript file using Parcel", "body": "<p>Here is an excerpt from the Parcel docs:</p>\n\n<blockquote>\n  <p>You can also import non-JavaScript assets from a JavaScript file, e.g.\n  CSS, HTML or even an image file. When you import one of these files,\n  it is not inlined as in some other bundlers. Instead, it is placed in\n  a separate bundle (e.g. a CSS file) along with all of its\n  dependencies. When using CSS Modules, the exported classes are placed\n  in the JavaScript bundle. Other asset types export a URL to the output\n  file in the JavaScript bundle so you can reference them in your code.</p>\n\n<pre><code>// Import a CSS file\nimport './test.css'\n\n// Import a CSS file with CSS modules\nimport classNames from './test.css'\n\n// Import the URL to an image file\nimport imageURL from './test.png'\n\n// Import an HTML file\nimport('./some.html')\n// or:\nimport html from './some.html'\n// or:\nrequire('./some.html')\n</code></pre>\n  \n  <p>If you want to inline a file into the JavaScript bundle instead of\n  reference it by URL, you can use the Node.js fs.readFileSync API to do\n  that. The URL must be statically analyzable, meaning it cannot have\n  any variables in it (other than __dirname and __filename).</p>\n\n<pre><code>import fs from 'fs'\n\n// Read contents as a string\nconst string = fs.readFileSync(__dirname + '/test.txt', 'utf8')\n\n// Read contents as a Buffer\nconst buffer = fs.readFileSync(__dirname + '/test.png')\n\n// Convert Buffer contents to an image\n;&lt;img src={`data:image/png;base64,${buffer.toString('base64')}`} /&gt;\n</code></pre>\n</blockquote>\n\n<p>I've tried doing some of these but from a TypeScript file and it does not seem to work.</p>\n\n<p>Here is an example of what I'm trying to accomplish:</p>\n\n<p>component.html</p>\n\n<pre><code>&lt;h1&gt;Some really big text&lt;/h1&gt;\n&lt;p&gt;Some much smaller text&lt;/p&gt;\n</code></pre>\n\n<p>component.css</p>\n\n<pre><code>h1 {\n  font-size: 80px;\n  text-align: center;\n}\n\np {\n  font-size: 10px;\n}\n</code></pre>\n\n<p>component.ts</p>\n\n<pre><code>import { styles } from './component.css;\nimport { html } from './component.html;\n\nclass Component extends HTMLElement {\n  constructor() {\n  super();\n\n  // Append the styles and html to shadowRoot on element\n}\n\ncustomElements.define('app-root', Component);\n</code></pre>\n\n<p>The idea is to define custom-elements using their own separate html, css and ts files. Then the root index.html file can point to a main.ts file and main.ts can import all the components files. How can I make this work?</p>\n"}, {"tags": ["reactjs", "typescript"], "comments": [{"owner": {"reputation": 3449, "user_id": 643919, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/fece27d25acc304e6a872da447900fe8?s=128&d=identicon&r=PG", "display_name": "y2bd", "link": "https://stackoverflow.com/users/643919/y2bd"}, "edited": false, "score": 0, "creation_date": 1553033461, "post_id": 55250681, "comment_id": 97233958, "body": "What do you expect your <code>color</code> function to do if a developer does not define a value for <code>palletes.primary</code>?"}, {"owner": {"reputation": 673, "user_id": 2269464, "user_type": "registered", "accept_rate": 42, "profile_image": "https://i.stack.imgur.com/ElPHb.jpg?s=128&g=1", "display_name": "Tyro Hunter", "link": "https://stackoverflow.com/users/2269464/tyro-hunter"}, "reply_to_user": {"reputation": 3449, "user_id": 643919, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/fece27d25acc304e6a872da447900fe8?s=128&d=identicon&r=PG", "display_name": "y2bd", "link": "https://stackoverflow.com/users/643919/y2bd"}, "edited": false, "score": 0, "creation_date": 1553033755, "post_id": 55250681, "comment_id": 97234065, "body": "it&#39;s just a placeholder, what matters is react or typescript will allow me to access deeply until .main: see <code>styled.div</code>   <code>color: ${props =&gt; props.theme.pallete.primary.main}</code>. It could have been perfect because vscode intellisense is also working typing from the base of the object prop. until prop.theme.palletes.primary"}, {"owner": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "edited": false, "score": 0, "creation_date": 1553040971, "post_id": 55250681, "comment_id": 97236116, "body": "You can&#39;t access past <code>primary</code> because the object might not have a <code>primary</code>.  Why don&#39;t you do a check?  <code>const color = (props: iContextWithTheme) =&gt; props.theme.palletes.primary ? props.theme.palletes.primary.main : &quot;oopsie&quot;</code>.  Not sure what your use case is here to point you at a real answer..."}, {"owner": {"reputation": 673, "user_id": 2269464, "user_type": "registered", "accept_rate": 42, "profile_image": "https://i.stack.imgur.com/ElPHb.jpg?s=128&g=1", "display_name": "Tyro Hunter", "link": "https://stackoverflow.com/users/2269464/tyro-hunter"}, "edited": false, "score": 0, "creation_date": 1553042801, "post_id": 55250681, "comment_id": 97236544, "body": "I edited the goal to make it clearer I&#39;m trying to define a schema (validation) which hopefully typescript is capable of via interface or any other means. So apparently you are correct. But I want to express via typescript that one of primary | secondary is accessible but the closest I can achieve is to define both are optional instead. It&#39;s actually almost working, vscode intellisense is suggesting secondary or primary up to that point."}], "answers": [{"tags": [], "owner": {"reputation": 302, "user_id": 7383469, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bf2496e68e3b89e255f3a38c96973ff3?s=128&d=identicon&r=PG&f=1", "display_name": "Wenhan Du", "link": "https://stackoverflow.com/users/7383469/wenhan-du"}, "is_accepted": false, "score": 0, "last_activity_date": 1590546143, "creation_date": 1590546143, "answer_id": 62034384, "question_id": 55250681, "link": "https://stackoverflow.com/questions/55250681/typescript-defining-interface-of-a-nested-object-that-requires-one-of-keys/62034384#62034384", "title": "Typescript: Defining interface of a nested object &quot;that requires one of keys&quot;", "body": "<p>maybe you want something like this\n<div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>type iTheme = {\r\n  primary: ColorKeysField;\r\n} | {\r\n  secondary: ColorKeysField;\r\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 673, "user_id": 2269464, "user_type": "registered", "accept_rate": 42, "profile_image": "https://i.stack.imgur.com/ElPHb.jpg?s=128&g=1", "display_name": "Tyro Hunter", "link": "https://stackoverflow.com/users/2269464/tyro-hunter"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 129, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1590546143, "creation_date": 1553033206, "last_edit_date": 1553042066, "question_id": 55250681, "link": "https://stackoverflow.com/questions/55250681/typescript-defining-interface-of-a-nested-object-that-requires-one-of-keys", "title": "Typescript: Defining interface of a nested object &quot;that requires one of keys&quot;", "body": "<p><strong>The goal is to restrict the developer from defining or accessing fields that the object doesn't have. Or to strictly define a deeply nested object or schema</strong></p>\n\n<pre><code>const theme: iTheme = {\n  palletes: {\n    primary: {\n      main: \"white\",\n      dark: \"black\"\n    },\n    secondary: {}\n  }\n};\n</code></pre>\n\n<p><em>Problem is that I can't seem to tell typescript to require accessing one of primary|secondary. What I did is make both optional instead:</em></p>\n\n<pre><code>/* Below is my attempt of interface iTheme and iContextWithTheme */\n\ntype ColorKeys = \"main\" | \"dark\" | \"light\";\ntype ColorKeysFields = { [K in ColorKeys]?: string };\n\ntype Palletes = \"primary\" | \"secondary\";\ninterface iTheme {\n  palletes: { [K in Palletes]?: ColorKeysFields };\n}\n\ninterface iContextWithTheme {\n  theme: Theme;\n}\n</code></pre>\n\n<p>It almost worked but I get <code>Object is possibly 'undefined'.ts(2532)</code> then \"react\" is broken:</p>\n\n<pre><code>const color = (props: iContextWithTheme) =&gt; props.theme.palletes.primary.main;\n\n/*\nstyled.div`\n  color: ${props =&gt; props.theme.palletes.primary.main}\n`;\n*/\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/WPdpz.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/WPdpz.png\" alt=\"enter image description here\"></a></p>\n"}]