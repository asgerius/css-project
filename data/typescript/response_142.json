[{"tags": ["typescript"], "answers": [{"tags": [], "owner": {"reputation": 22898, "user_id": 1915893, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/580b31b0be7173bbc477ca1d6967d87c?s=128&d=identicon&r=PG", "display_name": "Aluan Haddad", "link": "https://stackoverflow.com/users/1915893/aluan-haddad"}, "is_accepted": false, "score": 4, "last_activity_date": 1506554985, "last_edit_date": 1506554985, "creation_date": 1506554003, "answer_id": 46458589, "question_id": 46458468, "link": "https://stackoverflow.com/questions/46458468/can-i-make-tsc-constant-fold-when-type-checking-indexer-signatures/46458589#46458589", "title": "Can I make tsc &quot;constant-fold&quot; when type-checking indexer signatures?", "body": "<p>No, unfortunately TypeScript does not compute literal types from operations on other literal types.</p>\n\n<p>You need to use a type assertion.</p>\n\n<pre><code>const value = t[&lt;keyof T&gt;(prefix + \"x\")];\n</code></pre>\n\n<p>In more detail, if the type of an expression is <code>\"a\"</code> and the type of another expression is <code>\"b\"</code>, and say we store them in variables <code>x</code> and <code>y</code> respectively, the type of the expression <code>x + y</code> will <em>not</em> be <code>\"ab\"</code>.</p>\n\n<p>It would be extremely nice if this <em>did</em> work and there are a number of open issues on GitHub which suggest that this or similar functionality be added. One even suggests the addition of regular expression literal types, which might be a little extreme but combining literal types would be extremely valuable for scenarios such as link generation and using the HTTP PATCH method in, for example, a strongly typed wrapper function internally delegating to <code>fetch</code>.</p>\n"}], "owner": {"reputation": 8956, "user_id": 1535629, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/b69cab018771fa05b34d500d54e32fd6?s=128&d=identicon&r=PG", "display_name": "senshin", "link": "https://stackoverflow.com/users/1535629/senshin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 63, "favorite_count": 0, "answer_count": 1, "score": 3, "last_activity_date": 1506554985, "creation_date": 1506553271, "question_id": 46458468, "link": "https://stackoverflow.com/questions/46458468/can-i-make-tsc-constant-fold-when-type-checking-indexer-signatures", "title": "Can I make tsc &quot;constant-fold&quot; when type-checking indexer signatures?", "body": "<p>Consider the following code, compiled with <code>--noImplicitAny</code>:</p>\n\n<pre><code>interface T {\n    ax: any,\n    bx: any,\n}\n\nconst prefixes: (\"a\" | \"b\")[] = [\"a\", \"b\"];\nconst keys: (\"ax\" | \"bx\")[] = [\"ax\", \"bx\"];\nconst t: T = { ax: \"foo\", bx: \"bar\" };\n\nfor (const key of keys) {\n    const value = t[key]; // &lt;- works\n}\n\nfor (const prefix of prefixes) {\n    const value = t[prefix + \"x\"]; // &lt;- TS7017 error\n}\n</code></pre>\n\n<p>By inspection, we can see that the statements in both the for-of loops should work. In the first loop, the type of <code>key</code> exactly matches the implicit type of the indexer on <code>T</code>. In the second loop, the type of <code>prefix + \"x\"</code> should by all rights be <code>(\"ax\" | \"bx\")</code>, which is again the type of the indexer in question. </p>\n\n<p>However, tsc raises a TS7017 error on the second loop (\"Element implicitly has 'any' type because type 'T' has no index signature.\"). </p>\n\n<p>Is there anything I can do to get this to type-check while still maintaining type-safety (so, <em>not</em> by just putting an explicit <code>(t as any)</code> to silence the warning)? If not, is there a Github issue or something tracking this?</p>\n"}, {"tags": ["javascript", "angular", "typescript", "url", "routerlink"], "comments": [{"owner": {"reputation": 22898, "user_id": 1915893, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/580b31b0be7173bbc477ca1d6967d87c?s=128&d=identicon&r=PG", "display_name": "Aluan Haddad", "link": "https://stackoverflow.com/users/1915893/aluan-haddad"}, "edited": false, "score": 0, "creation_date": 1506553560, "post_id": 46458286, "comment_id": 79872452, "body": "I&#39;m not sure but I think this is a parameter serialization issue."}, {"owner": {"reputation": 22898, "user_id": 1915893, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/580b31b0be7173bbc477ca1d6967d87c?s=128&d=identicon&r=PG", "display_name": "Aluan Haddad", "link": "https://stackoverflow.com/users/1915893/aluan-haddad"}, "edited": false, "score": 0, "creation_date": 1506553732, "post_id": 46458286, "comment_id": 79872493, "body": "It looks like it&#39;s escaping a certain characters in the URL. Those character shouldn&#39;t even be in the URL in the first place but are coming from the object returned by <code>getParams</code>"}], "owner": {"reputation": 4976, "user_id": 2584924, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/ui9hq.jpg?s=128&g=1", "display_name": "Muirik", "link": "https://stackoverflow.com/users/2584924/muirik"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 253, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1506552974, "creation_date": 1506551987, "last_edit_date": 1506552974, "question_id": 46458286, "link": "https://stackoverflow.com/questions/46458286/using-route-snapshot-with-routerlink-in-angular-app-to-get-url", "title": "Using route.snapshot with routerLink in angular app to get url", "body": "<p>I am trying to handle a situation in my Angular app where I have some interior links (links within a section - that use a different navigation mechanism than the rest of the app) that are being loaded via routerLink. That works well enough by itself, and looked like this:</p>\n\n<pre><code>&lt;a [routerLink]=\"'/section-start'\" routerLinkActive=\"selected\"&gt;Section Start&lt;/a&gt;\n</code></pre>\n\n<p>However, since I first set those links up, we now have some filter selections that we are saving in the url as well. So I am trying to figure out how to pass those here as well. I'm thinking Angular's <code>route.snapshot</code> could work here. So I am trying this:</p>\n\n<pre><code>&lt;a [routerLink]=\"['/section-start', getParams()]\" routerLinkActive=\"selected\"&gt;Section Start&lt;/a&gt; \n</code></pre>\n\n<p>And <code>getParams()</code> looks like this:</p>\n\n<pre><code>getParams() {\n    return this.route.snapshot;\n}\n</code></pre>\n\n<p>This gets me closer... However, I still end up a doubling-up of the main url link (not surprising since it's taking a snapshot of the entire url link), and, say if I have a \"Spanish\" language filter enabled, the url in the address bar ends up looking like this:</p>\n\n<p><a href=\"http://somesite.com/section-start;url=section-start%3Bpn_lang_e%3Dtrue%3Bpn_lang_s%3DSpanish\" rel=\"nofollow noreferrer\">http://somesite.com/section-start;url=section-start%3Bpn_lang_e%3Dtrue%3Bpn_lang_s%3DSpanish</a>;</p>\n\n<p>Whereas using my usual routing mechanism from other areas of the site, the same params would result in a url like this (and this is what it SHOULD look like):</p>\n\n<p><a href=\"http://somesite.com/section-start;pn_lang_e=true;pn_lang_s=Spanish\" rel=\"nofollow noreferrer\">http://somesite.com/section-start;pn_lang_e=true;pn_lang_s=Spanish</a></p>\n\n<p>Since I am getting close to the correct url by passing in <code>getParams()</code>, I assume there's a way I can clean this up/parse it differently to end up with the correct url string. Any ideas as to how I can do this - or is there a better approach that's different than this?</p>\n"}, {"tags": ["angular", "typescript"], "answers": [{"comments": [{"owner": {"reputation": 905, "user_id": 5330050, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/4New3.jpg?s=128&g=1", "display_name": "Iskandar Reza", "link": "https://stackoverflow.com/users/5330050/iskandar-reza"}, "edited": false, "score": 0, "creation_date": 1506548465, "post_id": 46457467, "comment_id": 79870872, "body": "But that&#39;s the code to replicate the input from the PostTitle to PostSlug, then pipe it through a custom pipe that removes special characters and add dashes where there was whitespace. It&#39;s not the same, although I think there is a way to use the <code>[(ngModel)]</code> directive to reference an internal model for default values. Hmmm, something to think about."}, {"owner": {"reputation": 905, "user_id": 5330050, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/4New3.jpg?s=128&g=1", "display_name": "Iskandar Reza", "link": "https://stackoverflow.com/users/5330050/iskandar-reza"}, "edited": false, "score": 0, "creation_date": 1506549852, "post_id": 46457467, "comment_id": 79871363, "body": "Yeah that&#39;s not working. I&#39;m getting a whole bunch of errors here:  Unhandled Promise rejection: Template parse errors: Parser Error: Unexpected token &#39;=&#39; at column 25 in [PostContent || &#39;not set&#39;=$event] in ng:///app/Components/post.component.html...... Directive DefaultValueAccessor....."}], "tags": [], "owner": {"reputation": 1665, "user_id": 8670067, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5161207b3f18f3ddacb22fe1b6dcd1a4?s=128&d=identicon&r=PG&f=1", "display_name": "mahval", "link": "https://stackoverflow.com/users/8670067/mahval"}, "is_accepted": false, "score": 0, "last_activity_date": 1506551512, "last_edit_date": 1506551512, "creation_date": 1506547541, "answer_id": 46457467, "question_id": 46457401, "link": "https://stackoverflow.com/questions/46457401/angular-2-check-if-input-in-reactive-form-is-empty-enter-default-value-if-no-i/46457467#46457467", "title": "Angular 2: Check if input in reactive form is empty, enter default value if no input given", "body": "<p><strong>EDIT:</strong> Ok thought this would be easier, but I was wrong.</p>\n\n<p>You'd probably need something like a function <code>checkme()</code> in your TS file that is called when your submit button is called, <code>&lt;button (click)=\"checkme()\"&gt;Submit&lt;/button&gt;</code> that checks:</p>\n\n<pre><code>checkme() {\n    if (TitleText===null) {\n       TitleText = 'default value';\n    }\n }\n</code></pre>\n\n<p>or something.</p>\n\n<p><strong>Irrelevant below but might be useful</strong></p>\n\n<p>If you have:</p>\n\n<pre><code>&lt;input [(ngModel)]=\"TitleText\"&gt;\n</code></pre>\n\n<p>Then running</p>\n\n<p><code>{{TitleText || 'placeholder'}}</code></p>\n\n<p>will give you the string 'placeholder' if the input box is empty (TitleText is null).</p>\n\n<p>It would be the same principle with number inputs where you'd put:</p>\n\n<pre><code>&lt;input [(ngModel)]=\"mynumber\"&gt;\n</code></pre>\n\n<p>and writing</p>\n\n<pre><code>{{mynumber || 0}}\n</code></pre>\n\n<p>to get 0 as a placeholder instead of NaN</p>\n"}, {"comments": [{"owner": {"reputation": 905, "user_id": 5330050, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/4New3.jpg?s=128&g=1", "display_name": "Iskandar Reza", "link": "https://stackoverflow.com/users/5330050/iskandar-reza"}, "edited": false, "score": 0, "creation_date": 1506553013, "post_id": 46458237, "comment_id": 79872308, "body": "You know, this looks so logical and reasonable, but it&#39;s still passing a null, and it throws a new error now:  ERROR Error: ExpressionChangedAfterItHasBeenCheckedError: Expression has changed after it was checked. Previous value: &#39;undefined&#39;. Current value: &#39;DEFAULT VALUE&#39;."}, {"owner": {"reputation": 2786, "user_id": 5260710, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-6kCcRVKP0fw/AAAAAAAAAAI/AAAAAAAAAOo/h8RzE48DQDY/photo.jpg?sz=128", "display_name": "amal", "link": "https://stackoverflow.com/users/5260710/amal"}, "reply_to_user": {"reputation": 905, "user_id": 5330050, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/4New3.jpg?s=128&g=1", "display_name": "Iskandar Reza", "link": "https://stackoverflow.com/users/5330050/iskandar-reza"}, "edited": false, "score": 0, "creation_date": 1506553077, "post_id": 46458237, "comment_id": 79872328, "body": "Could you show your relevant code sections to check it out?"}, {"owner": {"reputation": 905, "user_id": 5330050, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/4New3.jpg?s=128&g=1", "display_name": "Iskandar Reza", "link": "https://stackoverflow.com/users/5330050/iskandar-reza"}, "edited": false, "score": 0, "creation_date": 1506553216, "post_id": 46458237, "comment_id": 79872371, "body": "Which part? I&#39;ve included the entire post.component.ts at the bottom of the OP."}, {"owner": {"reputation": 905, "user_id": 5330050, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/4New3.jpg?s=128&g=1", "display_name": "Iskandar Reza", "link": "https://stackoverflow.com/users/5330050/iskandar-reza"}, "edited": false, "score": 0, "creation_date": 1506555204, "post_id": 46458237, "comment_id": 79872841, "body": "I appreciate you trying to help but it&#39;s still passing on null. Here&#39;s a screenshot of the developer console with a breakpoint set to determine what&#39;s being passed: <a href=\"https://i.imgur.com/MnW6gxX.png\" rel=\"nofollow noreferrer\">i.imgur.com/MnW6gxX.png</a>"}, {"owner": {"reputation": 2786, "user_id": 5260710, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-6kCcRVKP0fw/AAAAAAAAAAI/AAAAAAAAAOo/h8RzE48DQDY/photo.jpg?sz=128", "display_name": "amal", "link": "https://stackoverflow.com/users/5260710/amal"}, "reply_to_user": {"reputation": 905, "user_id": 5330050, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/4New3.jpg?s=128&g=1", "display_name": "Iskandar Reza", "link": "https://stackoverflow.com/users/5330050/iskandar-reza"}, "edited": false, "score": 0, "creation_date": 1506555276, "post_id": 46458237, "comment_id": 79872858, "body": "could you show me your template code for the corresponding formControls? I assumed you were passing an initial value."}, {"owner": {"reputation": 905, "user_id": 5330050, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/4New3.jpg?s=128&g=1", "display_name": "Iskandar Reza", "link": "https://stackoverflow.com/users/5330050/iskandar-reza"}, "edited": false, "score": 0, "creation_date": 1506555765, "post_id": 46458237, "comment_id": 79872959, "body": "It&#39;s up there in the <code>post.component.html</code>. No initial value is passed. But it&#39;s fine, I think I may have found a solution. Let me compose the response and post it shortly."}], "tags": [], "owner": {"reputation": 2786, "user_id": 5260710, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-6kCcRVKP0fw/AAAAAAAAAAI/AAAAAAAAAOo/h8RzE48DQDY/photo.jpg?sz=128", "display_name": "amal", "link": "https://stackoverflow.com/users/5260710/amal"}, "is_accepted": false, "score": 2, "last_activity_date": 1506553234, "last_edit_date": 1506553234, "creation_date": 1506551707, "answer_id": 46458237, "question_id": 46457401, "link": "https://stackoverflow.com/questions/46457401/angular-2-check-if-input-in-reactive-form-is-empty-enter-default-value-if-no-i/46458237#46458237", "title": "Angular 2: Check if input in reactive form is empty, enter default value if no input given", "body": "<p>Regardless of what 'form' (reactive or template driven) you are using, if all you want is to have a default value whenever the input becomes empty, you can make use of the <code>ngModelChange</code> event. Have to import <code>FormsModule</code> though to your module (where you use this component having this template as its view) for it to work. Use <code>ngModel</code> to pass the initial value, if you have any.</p>\n\n<blockquote>\n  <p>component</p>\n</blockquote>\n\n<pre><code>// define the type \npostAuthorInitValue: string;\npostAuthorDefaultValue = 'DEFAULT VALUE';\n// or initialize it with a value, assign the right type (here I used string type)\n// postAuthorInitValue = 'Abc Xyz';\n\npostAuthorChanged(newVal: string): void {\n if (newVal) {\n  this.postAuthorInitValue = newVal;\n } else if (newVal === '') {\n  // here is where we put the default value when the 'newVal' is empty string\n  this.postAuthorInitValue = this.postAuthorDefaultValue;\n } else {\n   this.postAuthorInitValue = newVal;\n }\n}\n</code></pre>\n\n<blockquote>\n  <p>template</p>\n</blockquote>\n\n<pre><code>&lt;input type=\"text\"\n                           [ngModel]=\"postAuthorInitValue\"\n                           (ngModelChange)=\"postAuthorChanged($event)\"\n                           class=\"form-control\"\n                           placeholder=\"Post Author\"\n                           formControlName=\"PostAuthor\"&gt;\n</code></pre>\n\n<p>Another option would be to use a custom directive that can be placed on every <code>&lt;input type=\"text\"&gt;</code> element that reads its value and a default value and sets the default value to the element whenever the field becomes empty.</p>\n\n<p>Hope it helps.</p>\n"}, {"tags": [], "owner": {"reputation": 905, "user_id": 5330050, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/4New3.jpg?s=128&g=1", "display_name": "Iskandar Reza", "link": "https://stackoverflow.com/users/5330050/iskandar-reza"}, "is_accepted": true, "score": 1, "last_activity_date": 1506556904, "creation_date": 1506556904, "answer_id": 46458928, "question_id": 46457401, "link": "https://stackoverflow.com/questions/46457401/angular-2-check-if-input-in-reactive-form-is-empty-enter-default-value-if-no-i/46458928#46458928", "title": "Angular 2: Check if input in reactive form is empty, enter default value if no input given", "body": "<p>Alright, so I've found an elegant solution for this. Basically, I need to set the initial value when the form is loaded. To do this, I add use the setValue method for the form controls. </p>\n\n<pre><code>addPost() {\n    this.dbops = DBOperation.create;\n    this.SetControlsState(true);\n    this.modalTitle = \"Add New Post\";\n    this.modalBtnTitle = \"Add\";\n    this.postForm.reset();\n    this.modal.open();\n    this.postForm.controls['PostContent'].setValue('not set'); //this here is the magic\n    this.postForm.controls['PostAuthor'].setValue('not credited'); // and this too\n}\n</code></pre>\n\n<p>Doing this seemed to have solved it in a clunky way. The value is pre-populated in the relevant input fields and if it is deleted, then the value becomes an empty string. This is not ideal.</p>\n\n<p>So I flipped it around and did it this way:</p>\n\n<pre><code>    this.postForm.controls['PostContent'].setValue('');\n    this.postForm.controls['PostAuthor'].setValue('');\n</code></pre>\n\n<p>Here I set the value to an empty string. It's not null, but the input fields are not pre-populated and my <code>placeholder</code> value is still visible. Excellent. But what about the empty string?</p>\n\n<p>We handle that before the data gets passed to the service that does the HttpPost. </p>\n\n<pre><code>onSubmit(formData: any) {\n    this.msg = \"\";\n\n    if (formData._value.PostContent == \"\")\n    {\n        this.postForm.controls['PostContent'].setValue('not set');\n    }\n    if (formData._value.PostAuthor == \"\") \n    {\n        this.postForm.controls['PostAuthor'].setValue('not credited');\n    }   \n    . . .\n</code></pre>\n\n<p>What happens is if the value being passed for those specific keys is an empty string, then set the value to the default. </p>\n\n<p>I think this is a great way to handle this. It's clean and though I am not sure if it's possible to do this, in theory it should not be difficult to put all the default values in a key-value-pair array and access it that way.</p>\n"}], "owner": {"reputation": 905, "user_id": 5330050, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/4New3.jpg?s=128&g=1", "display_name": "Iskandar Reza", "link": "https://stackoverflow.com/users/5330050/iskandar-reza"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 55178, "favorite_count": 2, "accepted_answer_id": 46458928, "answer_count": 3, "score": 4, "last_activity_date": 1506557435, "creation_date": 1506547202, "last_edit_date": 1506557435, "question_id": 46457401, "link": "https://stackoverflow.com/questions/46457401/angular-2-check-if-input-in-reactive-form-is-empty-enter-default-value-if-no-i", "title": "Angular 2: Check if input in reactive form is empty, enter default value if no input given", "body": "<p><strong>Edit 2:</strong> Improved upon the partial solution and now it's a complete solution. Yay!</p>\n\n<p><strong>Edit:</strong> Found an almost complete solution. It works, but not quite the way I want it.</p>\n\n<ol>\n<li>It sets a default value from the moment the form is loaded. (not ideal)</li>\n<li>It no longer returns null if the input is empty/deleted (returns an empty string instead)</li>\n</ol>\n\n<p>The solution is posted after the text below.</p>\n\n<hr>\n\n<p>I'm a new student to Angular and I'm making a simple CRUD app to understand how the language works. Currently, I'm learning how to do form validations. </p>\n\n<p>As mentioned in the title, I want to have a validation method that checks if the input is empty, and if it is then to enter a default value. I'm looking for a clean and simple way to do this. Currently here is my code.</p>\n\n<p><strong><code>partial post.component.html</code></strong> (sorry about the multiple lines for the <code>&lt;input&gt;</code>element; I find it easier to read this way)</p>\n\n<pre><code>&lt;modal #modal&gt;\n    &lt;form novalidate (ngSubmit)=\"onSubmit(postForm)\" [formGroup]=\"postForm\"&gt;\n        &lt;modal-header [show-close]=\"true\"&gt;\n            &lt;h4 class=\"modal-title\"&gt;{{modalTitle}}&lt;/h4&gt;\n        &lt;/modal-header&gt;\n        &lt;modal-body&gt;\n\n            &lt;div class=\"form-group\"&gt;\n                &lt;div&gt;\n                    &lt;span&gt;Post Title&lt;/span&gt;\n                    &lt;input [(ngModel)]=\"TitleText\"\n                           type=\"text\" class=\"form-control\"\n                           placeholder=\"Post Title\"\n                           formControlName=\"PostTitle\"&gt;\n                    &lt;div class=\"error\"\n                         *ngIf=\"postForm.get('PostTitle').hasError('required') &amp;&amp; postForm.get('PostTitle').touched\"&gt;\n                        Title is required\n                    &lt;/div&gt;\n                    &lt;div class=\"error\"\n                         *ngIf=\"postForm.get('PostTitle').hasError('minlength') &amp;&amp; postForm.get('PostTitle').touched\"&gt;\n                        Minimum title length is three (3) characters\n                    &lt;/div&gt;\n                &lt;/div&gt;\n                &lt;div&gt;\n                    &lt;span&gt;Post Slug&lt;/span&gt;\n                    &lt;input [ngModel]=\"TitleText | slugify\"\n                           type=\"text\"\n                           class=\"form-control\"\n                           placeholder=\"Post Slug\"\n                           formControlName=\"PostSlug\"&gt;\n                    &lt;div class=\"error\"\n                         *ngIf=\"postForm.get('PostSlug').hasError('pattern') &amp;&amp; postForm.get('PostSlug').dirty\"&gt;\n                        URL slug must not contain spaces, special characters or capitalization\n                    &lt;/div&gt;\n                &lt;/div&gt;\n                &lt;div&gt;\n                    &lt;span&gt;Post Content&lt;/span&gt;\n                    &lt;textarea class=\"form-control\"\n                              placeholder=\"Post Content\"\n                              formControlName=\"PostContent\"&gt;\n                    &lt;/textarea&gt;\n                &lt;/div&gt;\n                &lt;div&gt;\n                    &lt;span&gt;Post Author&lt;/span&gt;\n                    &lt;input type=\"text\"\n                           class=\"form-control\"\n                           placeholder=\"Post Author\"\n                           formControlName=\"PostAuthor\"&gt;\n                &lt;/div&gt;\n            &lt;/div&gt;\n        &lt;/modal-body&gt;\n        &lt;modal-footer&gt;\n            &lt;div&gt;\n                &lt;a class=\"btn btn-default\" (click)=\"modal.dismiss()\"&gt;Cancel&lt;/a&gt;\n                &lt;button type=\"submit\"\n                        [disabled]=\"postForm.invalid\"\n                        class=\"btn btn-primary\"&gt;\n                    {{modalBtnTitle}}\n                &lt;/button&gt;\n            &lt;/div&gt;\n        &lt;/modal-footer&gt;\n    &lt;/form&gt;\n&lt;/modal&gt;\n</code></pre>\n\n<p><strong><code>partial post.component.ts</code></strong></p>\n\n<pre><code>    ngOnInit(): void {\n\n        this.postForm = this.fb.group({\n            PostId: [''],\n            PostTitle: [\n                '',\n                [\n                    Validators.required,\n                    Validators.minLength(3)\n                ]\n            ],\n            PostSlug: [\n                '',\n                [\n                    Validators.required,\n                    Validators.pattern('^[a-z0-9-]+$')\n                ]\n            ],\n            PostContent: [''],\n            PostAuthor: ['']\n        });\n\n        this.LoadPosts();\n    }\n</code></pre>\n\n<p>I would like a default value to be passed if the <code>PostContent</code> and <code>PostAuthor</code> fields are left empty. One way that I thought would have worked was to have a default value in the template like so:</p>\n\n<pre><code>&lt;textarea class=\"form-control\"\n    placeholder=\"Post Content\"\n    formControlName=\"PostContent\"\n    value=\"Not Set\"&gt;\n</code></pre>\n\n<p>However this doesn't work and debugging it shows that null is still returned:</p>\n\n<p><a href=\"https://i.stack.imgur.com/6MArd.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/6MArd.png\" alt=\"It&#39;s not passing the value hard-coded(ewww...) in the value attribute\"></a></p>\n\n<p>Just as well, because that solution would have caused a problem anyway if someone decided to type something then delete it. </p>\n\n<p>For reference, here's the whole <code>post.component.ts</code>:</p>\n\n<pre><code>import { Component, OnInit, ViewChild, Pipe } from '@angular/core';\nimport { PostService } from '../Services/post.service';\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\nimport { ModalComponent } from 'ng2-bs3-modal/ng2-bs3-modal';\nimport { IPost } from '../Models/post';\nimport { DBOperation } from '../Shared/enum';\nimport { Observable } from 'rxjs/Rx';\nimport { Global } from '../Shared/global';\n\n@Component({\n    templateUrl: '/app/Components/post.component.html'\n})\n\nexport class PostComponent implements OnInit {\n    @ViewChild('modal') modal: ModalComponent;\n    posts: IPost[];\n    post: IPost;\n    msg: string;\n    indLoading: boolean = false;\n    postForm: FormGroup;\n    dbops: DBOperation;\n    modalTitle: string;\n    modalBtnTitle: string;    \n\n    constructor(private fb: FormBuilder, private _postService: PostService) { }\n\n    ngOnInit(): void {\n\n        this.postForm = this.fb.group({\n            PostId: [''],\n            PostTitle: [\n                '',\n                [\n                    Validators.required,\n                    Validators.minLength(3)\n                ]\n            ],\n            PostSlug: [\n                '',\n                [\n                    Validators.required,\n                    Validators.pattern('^[a-z0-9-]+$')\n                ]\n            ],\n            PostContent: [''],\n            PostAuthor: ['']\n        });\n\n        this.LoadPosts();\n    }\n\n    LoadPosts(): void {\n        this.indLoading = true;\n        this._postService.get(Global.BASE_POST_ENDPOINT)\n            .subscribe(posts =&gt; { this.posts = posts; this.indLoading = false; },\n            error =&gt; this.msg = &lt;any&gt;error);\n    }\n\n    addPost() {\n        this.dbops = DBOperation.create;\n        this.SetControlsState(true);\n        this.modalTitle = \"Add New Post\";\n        this.modalBtnTitle = \"Add\";\n        this.postForm.reset();\n        this.modal.open();        \n    }\n\n    editPost(id: number) {\n        this.dbops = DBOperation.update;\n        this.SetControlsState(true);\n        this.modalTitle = \"Edit Post\";\n        this.modalBtnTitle = \"Update\";\n        this.post = this.posts.filter(x =&gt; x.PostId == id)[0];\n        this.postForm.setValue(this.post);\n        this.modal.open();\n    }\n\n    deletePost(id: number) {\n        this.dbops = DBOperation.delete;\n        this.SetControlsState(false);\n        this.modalTitle = \"Confirm Post Deletion?\";\n        this.modalBtnTitle = \"Delete\";\n        this.post = this.posts.filter(x =&gt; x.PostId == id)[0];\n        this.postForm.setValue(this.post);\n        this.modal.open();\n    }\n\n    SetControlsState(isEnable: boolean) {\n        isEnable ? this.postForm.enable() : this.postForm.disable();\n    }\n\n    onSubmit(formData: any) {\n        this.msg = \"\";\n\n        switch (this.dbops) {\n\n            case DBOperation.create:\n                this._postService.post(Global.BASE_POST_ENDPOINT, formData._value).subscribe(\n                    data =&gt; {\n                        if (data == 1) //Success\n                        {\n                            this.msg = \"Post successfully added.\";\n                            this.LoadPosts();\n                        }\n                        else {\n                            this.msg = \"There is an issue with creating the post, please contact the system administrator!\"\n                        }\n\n                        this.modal.dismiss();\n                    },\n                    error =&gt; {\n                        this.msg = error;\n                    }\n                );\n                break;\n\n            case DBOperation.update:\n                this._postService.put(Global.BASE_POST_ENDPOINT, formData._value.PostId, formData._value).subscribe(\n                    data =&gt; {\n                        if (data == 1) //Success\n                        {\n                            this.msg = \"Post successfully updated.\";\n                            this.LoadPosts();\n                        }\n                        else {\n                            this.msg = \"There is an issue with updating the post, please contact the system administrator!\"\n                        }\n\n                        this.modal.dismiss();\n                    },\n                    error =&gt; {\n                        this.msg = error;\n                    }\n                );\n                break;\n\n            case DBOperation.delete:\n                this._postService.delete(Global.BASE_POST_ENDPOINT, formData._value.PostId).subscribe(\n                    data =&gt; {\n                        if (data == 1) //Success\n                        {\n                            this.msg = \"Post successfully deleted.\";\n                            this.LoadPosts();\n                        }\n                        else {\n                            this.msg = \"There is an issue with deleting the post, please contact the system administrator!\"\n                        }\n\n                        this.modal.dismiss();\n                    },\n                    error =&gt; {\n                        this.msg = error;\n                    }\n                );\n                break;\n        }\n    }\n}\n</code></pre>\n\n<p>Should I look into adding the Null check in the <code>onSubmit</code> method (or is it function?) instead?</p>\n\n<hr>\n\n<blockquote>\n  <p>Potential solution, needs improvement</p>\n</blockquote>\n\n<p>So in the <code>addPost()</code> part of the <code>post.component.ts</code> above, I added two lines:</p>\n\n<pre><code>    addPost() {\n        this.dbops = DBOperation.create;\n        this.SetControlsState(true);\n        this.modalTitle = \"Add New Post\";\n        this.modalBtnTitle = \"Add\";\n        this.postForm.reset();\n        this.modal.open();\n        this.postForm.controls['PostContent'].setValue('not set'); //this here is the magic\n        this.postForm.controls['PostAuthor'].setValue('not credited'); // and this too\n    }\n</code></pre>\n\n<p>This basically sets the value from the moment the modal box to enter a new entry is loaded. The value can be deleted from the input and when that happens it's replaced with an empty string. I don't know where this empty string value is coming from. </p>\n"}, {"tags": ["angularjs", "node.js", "typescript", "npm", "npm-install"], "answers": [{"comments": [{"owner": {"reputation": 1661, "user_id": 526156, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/TMaJ3.jpg?s=128&g=1", "display_name": "zillaofthegods", "link": "https://stackoverflow.com/users/526156/zillaofthegods"}, "reply_to_user": {"reputation": 181, "user_id": 7921312, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/11e6fc4094f23a9a1f20d82c02cc56c1?s=128&d=identicon&r=PG&f=1", "display_name": "danio900409", "link": "https://stackoverflow.com/users/7921312/danio900409"}, "edited": false, "score": 1, "creation_date": 1506544850, "post_id": 46456776, "comment_id": 79869365, "body": "what is the response? also is this installed just for a project or globally. if it&#39;s global first try <code>npm uninstall -g typescript</code> if it&#39;s not global than try just <code>npm uninstall typescript</code> then install typescript again with <code>npm install -g [package name&#47;version]</code> if it&#39;s global or <code>npm install [package name&#47;version]</code> if it&#39;s not."}, {"owner": {"reputation": 22898, "user_id": 1915893, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/580b31b0be7173bbc477ca1d6967d87c?s=128&d=identicon&r=PG", "display_name": "Aluan Haddad", "link": "https://stackoverflow.com/users/1915893/aluan-haddad"}, "edited": false, "score": 1, "creation_date": 1506553830, "post_id": 46456776, "comment_id": 79872517, "body": "This is the correct answer but it shouldn&#39;t be necessary to downgrade. I&#39;ve ran and successfully shipped applications using much higher TypeScript versions against that version of Angular."}, {"owner": {"reputation": 1661, "user_id": 526156, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/TMaJ3.jpg?s=128&g=1", "display_name": "zillaofthegods", "link": "https://stackoverflow.com/users/526156/zillaofthegods"}, "reply_to_user": {"reputation": 22898, "user_id": 1915893, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/580b31b0be7173bbc477ca1d6967d87c?s=128&d=identicon&r=PG", "display_name": "Aluan Haddad", "link": "https://stackoverflow.com/users/1915893/aluan-haddad"}, "edited": false, "score": 0, "creation_date": 1506608321, "post_id": 46456776, "comment_id": 79897980, "body": "That&#39;s a good point @AluanHaddad. So some other dependency is forcing the typescript version restriction you think?"}], "tags": [], "owner": {"reputation": 1661, "user_id": 526156, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/TMaJ3.jpg?s=128&g=1", "display_name": "zillaofthegods", "link": "https://stackoverflow.com/users/526156/zillaofthegods"}, "is_accepted": false, "score": 1, "last_activity_date": 1506544438, "creation_date": 1506544438, "answer_id": 46456776, "question_id": 46456742, "link": "https://stackoverflow.com/questions/46456742/wrong-configuration-npm/46456776#46456776", "title": "Wrong configuration npm", "body": "<p>It says in the error message returned to run the command <code>npm install typescript@'&gt;=2.1.0 &lt;2.4.0'</code></p>\n\n<p>Once you run that it should install a compatible version of typescript.</p>\n"}], "owner": {"reputation": 181, "user_id": 7921312, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/11e6fc4094f23a9a1f20d82c02cc56c1?s=128&d=identicon&r=PG&f=1", "display_name": "danio900409", "link": "https://stackoverflow.com/users/7921312/danio900409"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 38, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1506545550, "creation_date": 1506544282, "question_id": 46456742, "link": "https://stackoverflow.com/questions/46456742/wrong-configuration-npm", "title": "Wrong configuration npm", "body": "<p>I have reinstalled the npm and I am trying to run a command npm start however I get the message as below. Unfortunately, my ideas are over. Can anyone help me?\nI installed version 2.3.4, but it did not work</p>\n\n<pre><code>@angular/compiler-cli@4.4.3 requires typescript@'&gt;=2.1.0 &lt;2.4.0' but 2.4.0 was found instead.\nUsing this version can result in undefined behaviour and difficult to debug problems.\n\nPlease run the following command to install a compatible version of TypeScript.\n\nnpm install typescript@'&gt;=2.1.0 &lt;2.4.0'   \nERROR in C:/Users/Desktop/office/node_modules/frontend-components/lib/multi-application/dynamic-form/fields/employment-field/employment-field.component.ts (121,5): Type '{ averageIncome: FormControl; pensionerCardId: FormControl; companyName: FormControl; companyNip:...' is not assignable to type 'Options&lt;FormControl&gt;'.\nProperty 'name' is missing in type '{ averageIncome: FormControl; pensionerCardId: FormControl; companyName: FormControl; companyNip:...'.\nERROR in C:/Users/Desktop/office/backoffice/node_modules/fobos-frontend-components/lib/multi-application/dynamic-form/fields/employment-field/employment-field.component.ts (141,5): Type '{ averageIncome: false; pensionerCardId: false; companyName: false; companyNip: false; phoneNumbe...' is not assignable to type 'Options&lt;boolean&gt;'.\nProperty 'name' is missing in type '{ averageIncome: false; pensionerCardId: false; companyName: false; companyNip: false; phoneNumbe...'.\nERROR in C:/Users/Desktop/office/backoffice/src/app/campaigns/campaign-file/campaign-file.resolver.ts (59,5): Type '{ periodType: \"Days\"; startPeriod: number; endPeriod: number; startNetAmount: number; application...' is not assignable to type 'CampaignFinancialParameters'.\nProperty 'startPeriodType' is missing in type '{ periodType: \"Days\"; startPeriod: number; endPeriod: number; startNetAmount: number; application...'.\n</code></pre>\n"}, {"tags": ["typescript", "fabricjs", "typescript-typings"], "answers": [{"tags": [], "owner": {"reputation": 204677, "user_id": 75525, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/IYU63.png?s=128&g=1", "display_name": "Fenton", "link": "https://stackoverflow.com/users/75525/fenton"}, "is_accepted": false, "score": 2, "last_activity_date": 1506544252, "creation_date": 1506544252, "answer_id": 46456734, "question_id": 46456646, "link": "https://stackoverflow.com/questions/46456646/variable-declaration-works-sometimes-gets-namespace-error-others/46456734#46456734", "title": "variable declaration works sometimes, gets &quot;namespace error&quot; others", "body": "<p>You are trying to use a member of something you declared as <code>any</code> as type information, which doesn't quite work. If <code>fabric</code> is <code>any</code>, then you can't use <code>fabric.canvas</code> as a type annotation. Working code:</p>\n\n<pre><code>declare const fabric: any;\n\nclass XCanvas {\n    public canvas: any; // &lt;--\n\n    constructor() {\n        this.canvas = new fabric.Canvas();\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 7253, "user_id": 481702, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/NNL6D.png?s=128&g=1", "display_name": "Entity", "link": "https://stackoverflow.com/users/481702/entity"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 49, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1506544252, "creation_date": 1506543911, "question_id": 46456646, "link": "https://stackoverflow.com/questions/46456646/variable-declaration-works-sometimes-gets-namespace-error-others", "title": "variable declaration works sometimes, gets &quot;namespace error&quot; others", "body": "<p>I have the following code in my project:</p>\n\n<pre><code>1  declare const fabric: any;\n2  class XCanvas {\n3      public canvas: fabric.Canvas;\n4\n5      constructor() {\n6          this.canvas = new fabric.Canvas();\n7      }\n8  }\n</code></pre>\n\n<p>I am using the wonderful fabricjs library, but I'm using the latest version, and the @types library is a couple versions out of date. I'm struggling to use it in typescript because it always gives errors, but this is the closest I've gotten.</p>\n\n<p>So, line 6 compiles just fine, no problem. But line 3 is giving me this error:</p>\n\n<pre><code>Cannot find namespace 'fabric'.\n</code></pre>\n\n<p>Why is this happening? How can I use it in my project without the typings??</p>\n\n<p>I'm not importing or requiring it because I use a script tag to include it in the HTML.</p>\n"}, {"tags": ["javascript", "angularjs", "node.js", "typescript"], "answers": [{"tags": [], "owner": {"reputation": 20934, "user_id": 1261825, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/44eaaa3783922a617281e96bfe3f5343?s=128&d=identicon&r=PG", "display_name": "samanime", "link": "https://stackoverflow.com/users/1261825/samanime"}, "is_accepted": false, "score": 1, "last_activity_date": 1506543727, "creation_date": 1506543727, "answer_id": 46456595, "question_id": 46456532, "link": "https://stackoverflow.com/questions/46456532/is-there-a-way-to-require-a-typescript-file-inside-a-javascript-file/46456595#46456595", "title": "Is there a way to require a typescript file inside a javascript file?", "body": "<p>As long as it is actually valid JavaScript (not TypeScript), as your example is, then yes. You'll just need to include/require it including the extensions:</p>\n\n<pre><code>require('./environment.ts');\n// or\nimport environment from './environment.ts';\n</code></pre>\n\n<p>If it were to contain TypeScript code, you'd need to transpile it to regular JavaScript at some point. Where/when/how you do that would be up to your build pipeline.</p>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user471679"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 49, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1506543727, "creation_date": 1506543469, "question_id": 46456532, "link": "https://stackoverflow.com/questions/46456532/is-there-a-way-to-require-a-typescript-file-inside-a-javascript-file", "title": "Is there a way to require a typescript file inside a javascript file?", "body": "<p>I created a project using <code>ng</code>.\nI called <code>ng eject</code> to get a webpack.config.js.\nI added pug to the webpack.\nI want to pass the data from src/environments/environment.ts to pug but I can't figure out how to require the typescript file from a normal javascript file.</p>\n\n<p>I can always change environment.ts to a json file or javascript file but would like to leave it the way it is.</p>\n\n<p>Here is the environment.ts file</p>\n\n<pre><code>export const environment = {\n  production: false,\n  title: 'My App DEV'\n};\n</code></pre>\n"}, {"tags": ["angular", "typescript", "interface", "casting"], "answers": [{"tags": [], "owner": {"reputation": 630270, "user_id": 571407, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2f0d9dec16bae1e06552af55ddefc11f?s=128&d=identicon&r=PG", "display_name": "JB Nizet", "link": "https://stackoverflow.com/users/571407/jb-nizet"}, "is_accepted": false, "score": 3, "last_activity_date": 1506544087, "last_edit_date": 1506544087, "creation_date": 1506543462, "answer_id": 46456527, "question_id": 46456344, "link": "https://stackoverflow.com/questions/46456344/observable-and-interfaces/46456527#46456527", "title": "Observable and interfaces", "body": "<p>There are two problems in your code.</p>\n\n<ol>\n<li><p>Your handleResponse method's return type is <code>Observable&lt;IModel&gt;</code>. And you're trying to return that from a method suppsed to return an <code>Observable&lt;Token&gt;</code>. So that can't be correct: all IModel instances are not instances of Token. </p></li>\n<li><p>Your handleResponse method actually returns an <code>Observable&lt;void&gt;</code>, since in the map() callback, you're returning the result of fillFromResponse(), and fillFromResponse()'s return type is void.</p></li>\n</ol>\n\n<p>So, the code should rather look like this (untested):</p>\n\n<pre><code>export interface IModel&lt;T&gt; {\n  fillFromResponse(body: any): T;\n}\n\nexport class Token implements IModel&lt;Token&gt; { \n\n  public value: string;\n\n  public fillFromResponse(body: any): Token {\n    let token = new Token();\n    token.value = body.access_token;\n    return token;\n  }\n}\n</code></pre>\n\n<p>Or rather, since I guess you actually want to fill the original token instead of creating a new one:</p>\n\n<pre><code>export class Token implements IModel&lt;Token&gt; { \n\n  public value: string;\n\n  public fillFromResponse(body: any): Token {\n    this.value = body.access_token;\n    return this;\n  }\n}\n</code></pre>\n\n<p>And finally</p>\n\n<pre><code>public handleResponse&lt;T&gt;(instance: IModel&lt;T&gt;, observable: Observable&lt;Response&gt;): Observable&lt;T&gt; {\n  return observable.map(\n    (response: Response) =&gt; instance.fillFromResponse(response.json());\n  ).catch((error: any) =&gt; \n    Observable.throw(error.json().messages[0] || 'Unknown error')\n  );\n}\n</code></pre>\n\n<p>That said, I think all ths is a bad idea and makes things much more complex than they should be. If you really want a generic handleResponse method, you can just pass it the callback function to pass to the map() operator. But doing that is useless, since you could simply call map() on the observable returned by handleResponse() int he first place:</p>\n\n<pre><code>public login(credentials): Observable&lt;Token&gt; {\n  let url = this.api.getUrl('/users/tokens');\n  let options = this.api.getOptions();\n\n  return this.api.handleResponse(\n    this.http.post(url, credentials, options)\n  ).map(body =&gt; new Token(body.access_token));\n}\n</code></pre>\n\n<p>Also note that, if you used the new HttpClient instead of the soon deprecated Http service, you wouldn't even have to map the response to json.</p>\n"}], "owner": {"reputation": 1908, "user_id": 1618360, "user_type": "registered", "accept_rate": 47, "profile_image": "https://i.stack.imgur.com/bK68g.jpg?s=128&g=1", "display_name": "ramiromd", "link": "https://stackoverflow.com/users/1618360/ramiromd"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 834, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1506544087, "creation_date": 1506542698, "question_id": 46456344, "link": "https://stackoverflow.com/questions/46456344/observable-and-interfaces", "title": "Observable and interfaces", "body": "<p>I have defined the following interface for models:</p>\n\n<pre><code>export interface IModel {\n    fillFromResponse(body: any);\n}\n</code></pre>\n\n<p>So, in a model (for example, Token) i impement the interface:</p>\n\n<pre><code>import { IModel } from './imodel';\n\nexport class Token implements IModel { \n\n    public value: string;\n\n    public fillFromResponse(body: any) {\n        let token = new Token();\n        token.value = body.access_token;\n        return token;\n    }\n}\n</code></pre>\n\n<p>With that i hope have one callback for all observable map or catch functions:</p>\n\n<pre><code>public handleResponse(instance: IModel, observable: Observable&lt;Response&gt;): Observable&lt;IModel&gt; {\n    return observable.map(\n        (response: Response) =&gt; {\n            return instance.fillFromResponse(response.json());\n        }\n    ).catch((error: any) =&gt; \n        Observable.throw(error.json().messages[0] || 'Unknown error')\n    );\n}\n</code></pre>\n\n<p>So, in a service i have the following method:</p>\n\n<pre><code>public login(credentials): Observable&lt;Token&gt; {\n    let url = this.api.getUrl('/users/tokens');\n    let options = this.api.getOptions();\n\n    return this.api.handleResponse(\n        new Token(),\n        this.http.post(url, credentials, options)\n    );\n}\n</code></pre>\n\n<p>But i get:</p>\n\n<blockquote>\n  <p>Type Observable&lt; IModel > is not assignable to Observable&lt; Token ></p>\n</blockquote>\n\n<p>Why interfaces doesn't work like another languages like PHP ?</p>\n"}, {"tags": ["javascript", "angular", "typescript", "undefined", "bing-maps"], "answers": [{"tags": [], "owner": {"reputation": 168939, "user_id": 5485167, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qWD9t.jpg?s=128&g=1", "display_name": "yurzui", "link": "https://stackoverflow.com/users/5485167/yurzui"}, "is_accepted": true, "score": 0, "last_activity_date": 1506542880, "creation_date": 1506542880, "answer_id": 46456401, "question_id": 46456308, "link": "https://stackoverflow.com/questions/46456308/bing-maps-infobox-is-undefined-inside-angular-component/46456401#46456401", "title": "Bing Maps infobox is undefined inside Angular component", "body": "<p>To retain this inside <code>displayInfobox</code> method i would advice you using either <code>bind</code> method like:</p>\n\n<pre><code>Microsoft.Maps.Events.addHandler(pushpin, 'click', this.displayInfobox.bind(this));\n</code></pre>\n\n<p>or arrow function:</p>\n\n<pre><code>Microsoft.Maps.Events.addHandler(pushpin, 'click', (e) =&gt; this.displayInfobox(e));\n</code></pre>\n\n<p>For other solutions see</p>\n\n<ul>\n<li><a href=\"https://github.com/Microsoft/TypeScript/wiki/%27this%27-in-TypeScript\" rel=\"nofollow noreferrer\">https://github.com/Microsoft/TypeScript/wiki/%27this%27-in-TypeScript</a></li>\n</ul>\n"}], "owner": {"reputation": 143, "user_id": 8685416, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/818aabb5864d83d510069b56c2114deb?s=128&d=identicon&r=PG&f=1", "display_name": "Dylan", "link": "https://stackoverflow.com/users/8685416/dylan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 586, "favorite_count": 0, "accepted_answer_id": 46456401, "answer_count": 1, "score": 0, "last_activity_date": 1506546875, "creation_date": 1506542535, "last_edit_date": 1506546875, "question_id": 46456308, "link": "https://stackoverflow.com/questions/46456308/bing-maps-infobox-is-undefined-inside-angular-component", "title": "Bing Maps infobox is undefined inside Angular component", "body": "<p>I am creating a component in angular/typescript for a bing maps implementation. I went through the process to add an infobox to the map that would initially be not visible to the user. When the user clicks on any of the pushpins on the map the infobox is supposed to display. </p>\n\n<p>However it does not and the property is shown as undefined. </p>\n\n<p>Note: 'DataPoints' contains a list of objects that contains lat long coordinates and an arbitrary ID number. </p>\n\n<pre><code>import { Component, AfterViewInit } from '@angular/core';\n\nimport { DataPoint } from '../common/data-point'\nimport { DataPoints } from '../common/data-points'\n\n@Component({\n  selector: 'app-simple-bing-map',\n  templateUrl: './simple-bing-map.component.html',\n  styleUrls: ['./simple-bing-map.component.css'],\n  providers: []\n})\n\nexport class SimpleBingMapComponent implements AfterViewInit  {\n\n  private map: any;\n  private infobox: any;\n\n  ngAfterViewInit() {\n    this.getMap();\n  }\n\n  populateMap(){\n    for(var i in DataPoints){\n      var pushpin = new Microsoft.Maps.Pushpin(new Microsoft.Maps.Location(DataPoints[i].Lat, DataPoints[i].Long) , null);\n\n      pushpin.metadata = {\n        title: \"Test Pushpin\",\n        description: DataPoints[i].ID,\n      };\n\n      //Add a click event handler to the pushpin.\n      Microsoft.Maps.Events.addHandler(pushpin, 'click', this.displayInfobox);\n\n      //place pushpin\n      this.map.entities.push(pushpin);\n    }\n\n  }\n\n  getMap() {\n    //check if Microsoft is available\n    if ((window as any).Microsoft &amp;&amp; (window as any).Microsoft.Maps) {\n      //if it is available create map instance \n      this.map = new Microsoft.Maps.Map(document.getElementById('mapId'), {\n        credentials: 'Your Bing Maps Key Here',\n      });\n\n      //initialize infobox\n      this.infobox = new Microsoft.Maps.Infobox(this.map.getCenter(), {\n        title: 'Pushpins',\n        description: 'ID Number'\n        }\n      );\n\n      //hide infobox\n      this.infobox.setOptions({ visible: false })\n\n      //Assign the infobox to a map instance.\n      this.infobox.setMap(this.map);\n\n      this.populateMap();\n     }\n\n     //wait and try again\n     else {\n        setTimeout(() =&gt; { this.getMap() }, 1000);\n     }\n  }\n\n  displayInfobox(e) {\n    //hide any previous infobox\n    this.infobox.setOptions({ visible: false });\n\n    //Make sure the infobox has metadata to display.\n    if (e.target.metadata) {\n        //Set the infobox options with the metadata of the pushpin.\n        this.infobox.setOptions({\n            location: e.target.getLocation(),\n            title: e.target.metadata.title,\n            description: e.target.metadata.description,\n            visible: true\n        });\n    }\n  }\n}\n</code></pre>\n\n<p>As stated earlier the map loads completely and works as it should. It is just after I enter the 'displayInfobox' method that things act weirdly.</p>\n"}, {"tags": ["json", "angular", "typescript", "typescript-typings"], "comments": [{"owner": {"reputation": 25995, "user_id": 5152732, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-eL0xfQom3xQ/AAAAAAAAAAI/AAAAAAAAB1E/j1B2Mcgvt6M/photo.jpg?sz=128", "display_name": "toskv", "link": "https://stackoverflow.com/users/5152732/toskv"}, "edited": false, "score": 0, "creation_date": 1506542844, "post_id": 46455968, "comment_id": 79868357, "body": "I don&#39;t think you can use that library without also using something to make the angularjs library compatible with angular4."}, {"owner": {"reputation": 143, "user_id": 4714987, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/fe4dd8a6e666aecacf8bbc27699df217?s=128&d=identicon&r=PG&f=1", "display_name": "Jarvis", "link": "https://stackoverflow.com/users/4714987/jarvis"}, "reply_to_user": {"reputation": 25995, "user_id": 5152732, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-eL0xfQom3xQ/AAAAAAAAAAI/AAAAAAAAB1E/j1B2Mcgvt6M/photo.jpg?sz=128", "display_name": "toskv", "link": "https://stackoverflow.com/users/5152732/toskv"}, "edited": false, "score": 0, "creation_date": 1506545547, "post_id": 46455968, "comment_id": 79869737, "body": "Yes, got it. Thank you @toskv."}], "answers": [{"comments": [{"owner": {"reputation": 143, "user_id": 4714987, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/fe4dd8a6e666aecacf8bbc27699df217?s=128&d=identicon&r=PG&f=1", "display_name": "Jarvis", "link": "https://stackoverflow.com/users/4714987/jarvis"}, "edited": false, "score": 0, "creation_date": 1506545585, "post_id": 46456468, "comment_id": 79869752, "body": "Makes sense, Thank you very much @estus for the detailed explanation."}, {"owner": {"reputation": 147776, "user_id": 3731501, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/e4783dfa8ec98c884e61d29f2192ac97?s=128&d=identicon&r=PG&f=1", "display_name": "Estus Flask", "link": "https://stackoverflow.com/users/3731501/estus-flask"}, "reply_to_user": {"reputation": 143, "user_id": 4714987, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/fe4dd8a6e666aecacf8bbc27699df217?s=128&d=identicon&r=PG&f=1", "display_name": "Jarvis", "link": "https://stackoverflow.com/users/4714987/jarvis"}, "edited": false, "score": 0, "creation_date": 1506545778, "post_id": 46456468, "comment_id": 79869833, "body": "You&#39;re welcome. Considering that you&#39;ll want to do the same thing in Angular 4, you will likely want to replace $sce with similar <a href=\"https://angular.io/api/platform-browser/DomSanitizer\" rel=\"nofollow noreferrer\">angular.io/api/platform-browser/DomSanitizer</a> <code>bypassSecurityTrustHtml</code>."}], "tags": [], "owner": {"reputation": 147776, "user_id": 3731501, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/e4783dfa8ec98c884e61d29f2192ac97?s=128&d=identicon&r=PG&f=1", "display_name": "Estus Flask", "link": "https://stackoverflow.com/users/3731501/estus-flask"}, "is_accepted": true, "score": 2, "last_activity_date": 1506543246, "creation_date": 1506543246, "answer_id": 46456468, "question_id": 46455968, "link": "https://stackoverflow.com/questions/46455968/import-a-specific-javascript-library-in-to-angular-4-if-library-doesnt-export/46456468#46456468", "title": "Import a specific Javascript library in to Angular 4 (if library doesn&#39;t export a variable)", "body": "<p>The library doesn't export anything. It uses IIFE to not pollute global scope with local variables. It's impossible to reach local variables from the outside, this makes Module pattern so effective (and annoying).</p>\n\n<p>The library uses AngularJS <code>angular</code> global and expects that it will exist. This creates a problem, because Angular 4 application should mock <code>angular</code> global in this case. Moreover, the code itself relies on AngularJS-specific units (<code>$sce</code> service).</p>\n\n<p>The library should be forked and modified to suit the expectations. The mentions of <code>angular</code> should be removed. Considering that script will be executed in module scope, IIFE should be removed and appropriate exports should be added.</p>\n"}], "owner": {"reputation": 143, "user_id": 4714987, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/fe4dd8a6e666aecacf8bbc27699df217?s=128&d=identicon&r=PG&f=1", "display_name": "Jarvis", "link": "https://stackoverflow.com/users/4714987/jarvis"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 406, "favorite_count": 1, "accepted_answer_id": 46456468, "answer_count": 1, "score": 2, "last_activity_date": 1506546068, "creation_date": 1506541188, "last_edit_date": 1506546068, "question_id": 46455968, "link": "https://stackoverflow.com/questions/46455968/import-a-specific-javascript-library-in-to-angular-4-if-library-doesnt-export", "title": "Import a specific Javascript library in to Angular 4 (if library doesn&#39;t export a variable)", "body": "<p>I am trying to show a diff for two JSON objects in Angular 4 view, I am using this library (<a href=\"https://github.com/hipster-labs/angular-object-diff\" rel=\"nofollow noreferrer\">angular-object-diff</a>) originally built for AngularJS.\n<br>\n<br>Demo of that library: <a href=\"http://hipster-labs.github.io/angular-object-diff/\" rel=\"nofollow noreferrer\">Link</a><br><br>\nI tried to import this JS library the following way:\n<br> JS file I am trying to import: <a href=\"https://github.com/hipster-labs/angular-object-diff/blob/master/dist/angular-object-diff.js\" rel=\"nofollow noreferrer\">angular-object-diff.js</a>, doesnt have a exported variable<br>\n<br>In my typings.d.ts ( I added the following):</p>\n\n<pre><code>declare var ObjectDiff: any;\n</code></pre>\n\n<p><br> In my angular-cli.json, I added</p>\n\n<pre><code>\"scripts\": [\n    \"../node_modules/angular-object-diff/dist/angular-object-diff.js\"\n  ],\n</code></pre>\n\n<p>In my component file:</p>\n\n<pre><code>const json1 = {\n  name: 'John'\n};\nconst json2 = {\n  name: 'Johnny'\n};\nconst diff = ObjectDiff.diffOwnProperties(json1, json2);\nthis.jsonViewData = ObjectDiff.toJsonDiffView(diff);\n</code></pre>\n\n<p>In my view:</p>\n\n<pre><code>&lt;pre ng-bind-html=\"jsonViewData\"&gt;&lt;/pre&gt;\n&lt;pre&gt; {{jsonViewData}}&lt;/pre&gt;\n</code></pre>\n\n<p><strong>Nothing seems to be working, I get the error that \"ObjectDiff\" is not defined in the console\"</strong></p>\n\n<p>Can someone please let me know if I am doing in thing wrong  ?\nSuggestions for displaying the JSON diff are also welcomed :)</p>\n\n<p>** Thank you</p>\n"}, {"tags": ["angularjs", "arrays", "typescript", "calendar"], "comments": [{"owner": {"reputation": 2651, "user_id": 911192, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/36d96c2e3ab4e2e5c54bf61f7658fd70?s=128&d=identicon&r=PG", "display_name": "Mordred", "link": "https://stackoverflow.com/users/911192/mordred"}, "edited": false, "score": 0, "creation_date": 1506543682, "post_id": 46455828, "comment_id": 79868803, "body": "You make it easier on answerers when you actually copy code here and don&#39;t just take screenshots."}, {"owner": {"reputation": 1067, "user_id": 7213793, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/Nrlg3.jpg?s=128&g=1", "display_name": "Kerim092", "link": "https://stackoverflow.com/users/7213793/kerim092"}, "reply_to_user": {"reputation": 2651, "user_id": 911192, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/36d96c2e3ab4e2e5c54bf61f7658fd70?s=128&d=identicon&r=PG", "display_name": "Mordred", "link": "https://stackoverflow.com/users/911192/mordred"}, "edited": false, "score": 0, "creation_date": 1506543845, "post_id": 46455828, "comment_id": 79868879, "body": "nvm, fixed it.. thx anyways"}, {"owner": {"reputation": 4728, "user_id": 1288408, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/r09bq.jpg?s=128&g=1", "display_name": "Modus Tollens", "link": "https://stackoverflow.com/users/1288408/modus-tollens"}, "edited": false, "score": 0, "creation_date": 1506543901, "post_id": 46455828, "comment_id": 79868900, "body": "Please edit your question, remove the screenshots and replace them with the actual code as plain, formatted text. <a href=\"https://meta.stackoverflow.com/q/285551/1288408\">This post</a> explains why."}], "answers": [{"comments": [{"owner": {"reputation": 1067, "user_id": 7213793, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/Nrlg3.jpg?s=128&g=1", "display_name": "Kerim092", "link": "https://stackoverflow.com/users/7213793/kerim092"}, "reply_to_user": {"reputation": 4728, "user_id": 1288408, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/r09bq.jpg?s=128&g=1", "display_name": "Modus Tollens", "link": "https://stackoverflow.com/users/1288408/modus-tollens"}, "edited": false, "score": 0, "creation_date": 1506545334, "post_id": 46456655, "comment_id": 79869631, "body": "gave my best to fix answer.. but dont have old code to coppy old versions too, there is not much of it anyways..."}], "tags": [], "owner": {"reputation": 1067, "user_id": 7213793, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/Nrlg3.jpg?s=128&g=1", "display_name": "Kerim092", "link": "https://stackoverflow.com/users/7213793/kerim092"}, "is_accepted": false, "score": 1, "last_activity_date": 1506545263, "last_edit_date": 1506545263, "creation_date": 1506543931, "answer_id": 46456655, "question_id": 46455828, "link": "https://stackoverflow.com/questions/46455828/load-events-from-db-on-angular-calendar/46456655#46456655", "title": "Load events from db on angular-calendar", "body": "<p>in case any1 needs, somehow made it work.. pushing directly to an orginal array for some reason wont save data into it, so i had to make another one and save data into her when loop is over.. also for it to be not \"undefined\" and allow me to push to it, it had to be \" = [] \" (equal to empy array) at beggining..</p>\n\n<pre><code>  events: any;\n  items: Array&lt;CalendarEvent&lt;{ time: any }&gt;&gt; = [];\n\n\nthis.eventsService.requestEvents().subscribe(res =&gt; {\n  for(let i=0; i&lt;res.data.length; i++) {\n      this.items.push(\n      {\n        title: res.data[i].name,\n        start: new Date(res.data[i].date),\n        color: {primary: '#e3bc08', secondary: '#FDF1BA'},\n        meta: {\n          time: res.data[i].date\n        }\n    });\n    this.events = this.items;\n  }\n});\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 2651, "user_id": 911192, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/36d96c2e3ab4e2e5c54bf61f7658fd70?s=128&d=identicon&r=PG", "display_name": "Mordred", "link": "https://stackoverflow.com/users/911192/mordred"}, "is_accepted": true, "score": 0, "last_activity_date": 1506543962, "creation_date": 1506543962, "answer_id": 46456664, "question_id": 46455828, "link": "https://stackoverflow.com/questions/46455828/load-events-from-db-on-angular-calendar/46456664#46456664", "title": "Load events from db on angular-calendar", "body": "<p>Because your code is in a screenshot, I'll show it in pseudo-ish code. Inside your subscribe do the following:</p>\n\n<pre><code>this.events = [];\nfor (let i=0; i&lt;res.data.length; i++) {\n    this.events.push({\n        title: res.data[i].name,\n        start: res.data[i].date,\n        color: { ... }\n    });\n}\n</code></pre>\n"}], "owner": {"reputation": 1067, "user_id": 7213793, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/Nrlg3.jpg?s=128&g=1", "display_name": "Kerim092", "link": "https://stackoverflow.com/users/7213793/kerim092"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1646, "favorite_count": 1, "accepted_answer_id": 46456664, "answer_count": 2, "score": -1, "last_activity_date": 1569159310, "creation_date": 1506540573, "last_edit_date": 1506543431, "question_id": 46455828, "link": "https://stackoverflow.com/questions/46455828/load-events-from-db-on-angular-calendar", "title": "Load events from db on angular-calendar", "body": "<p>I'm trying to load events from database on my calendar view of angular-calendar.. I've made api that gonna return me resources, but I my not succeeding to bind them onto CalendarEvents.. this is part where im trying to do that..  <a href=\"https://i.stack.imgur.com/bhaq8.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/bhaq8.jpg\" alt=\"enter image description here\"></a></p>\n\n<p>browser console gives me \"undefined\" error: <a href=\"https://i.stack.imgur.com/vdG7Q.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/vdG7Q.jpg\" alt=\"enter image description here\"></a></p>\n\n<p>managed to make it work like this but its not adding to an array (well it is but its just switching the one it already added with new one) i mean, i get why but strugle to fix it.. <a href=\"https://i.stack.imgur.com/CZggx.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/CZggx.jpg\" alt=\"enter image description here\"></a></p>\n\n<p>wonder how could i push to it, or add on index</p>\n"}, {"tags": ["angularjs", "typescript", "typescript-typings", "angularjs-provider"], "answers": [{"comments": [{"owner": {"reputation": 23, "user_id": 2117397, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/609121985a383dcfacb5b46539f93945?s=128&d=identicon&r=PG", "display_name": "Meshko", "link": "https://stackoverflow.com/users/2117397/meshko"}, "edited": false, "score": 0, "creation_date": 1506621421, "post_id": 46456335, "comment_id": 79906051, "body": "I figured I&#39;d try this out too, but was unsure since it emits a bit different code than what was originally written in plain JS.  I checked out some other guides on internet and they were done the way I had it, but I guess this is how it&#39;s supposed to be now?"}, {"owner": {"reputation": 13290, "user_id": 576831, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/848e676aff5041064d576a3930ae4aab?s=128&d=identicon&r=PG", "display_name": "Nachshon Schwartz", "link": "https://stackoverflow.com/users/576831/nachshon-schwartz"}, "reply_to_user": {"reputation": 23, "user_id": 2117397, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/609121985a383dcfacb5b46539f93945?s=128&d=identicon&r=PG", "display_name": "Meshko", "link": "https://stackoverflow.com/users/2117397/meshko"}, "edited": false, "score": 0, "creation_date": 1506624192, "post_id": 46456335, "comment_id": 79907574, "body": "yup, this is how it is supposed to work, you could also instead simply use the provider like: <code>refs.$get().get(&quot;$stateProvider&quot;);</code> but that seems wrong to me..."}], "tags": [], "owner": {"reputation": 13290, "user_id": 576831, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/848e676aff5041064d576a3930ae4aab?s=128&d=identicon&r=PG", "display_name": "Nachshon Schwartz", "link": "https://stackoverflow.com/users/576831/nachshon-schwartz"}, "is_accepted": false, "score": 0, "last_activity_date": 1506542657, "creation_date": 1506542657, "answer_id": 46456335, "question_id": 46455818, "link": "https://stackoverflow.com/questions/46455818/typescript-not-recognizing-the-interface-on-angularjs-providers-get-method/46456335#46456335", "title": "typescript not recognizing the interface on angularjs providers $get method", "body": "<p>The function <code>get</code> really doesnt exist on <code>IReferenceProvider</code>, it only has the function <code>$get</code>.</p>\n\n<p>In order to do what you want you would need to also put the get function on the ReferenceProvider itself:</p>\n\n<pre><code>export interface IReferenceProvider extends angular.IServiceProvider, IReferenceProviderGetterInterface {\n    injectRef(name: string, ref: angular.ui.IUrlRouterProvider | angular.ui.IStateProvider): void;\n}\n\nclass ReferenceProvider implements IReferenceProvider {\n    private refs: { [key: string]: angular.ui.IUrlRouterProvider | angular.ui.IStateProvider } = {};\n\n    $get(): IReferenceProviderGetterInterface {\n        return {\n            get: (name: string): angular.ui.IUrlRouterProvider | angular.ui.IStateProvider =&gt; {\n                return this.refs[name];\n            }\n        };\n    }\n\n    get: (name: string): angular.ui.IUrlRouterProvider | angular.ui.IStateProvider =&gt; {\n        return this.refs[name];\n    }\n\n    injectRef(name: string, ref: angular.ui.IUrlRouterProvider | angular.ui.IStateProvider): void {\n        this.refs[name] = ref;\n    }\n}\n</code></pre>\n\n<p>this will cause the function to be available on the service and also on the provider.</p>\n"}], "owner": {"reputation": 23, "user_id": 2117397, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/609121985a383dcfacb5b46539f93945?s=128&d=identicon&r=PG", "display_name": "Meshko", "link": "https://stackoverflow.com/users/2117397/meshko"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 130, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1506542657, "creation_date": 1506540545, "last_edit_date": 1506540865, "question_id": 46455818, "link": "https://stackoverflow.com/questions/46455818/typescript-not-recognizing-the-interface-on-angularjs-providers-get-method", "title": "typescript not recognizing the interface on angularjs providers $get method", "body": "<p>OK, so I wanted to have a provider which would allow me to closure the reference for the state provider.  So, I've got the JS code and I'm trying to migrate it to TS.  This is what I've got so far, but for some reason it keeps on complaining that there is no such method (Property 'get' does not exist on type 'IReferenceProvider'.  Tried changing the interface to 'IReferenceProviderGetterInterface' the 'get' method seems to be doing fine, but I'm losing the 'injectRef' method which just does not seems right, so I believe I got the interfaces in the right place).  Anyone had this issue before, it would be nice to point out what I'm doing wrong.  Tried google-ing the issue, but everything seems OK as much as I can tell.  Anyways, here are the snippets: </p>\n\n<pre><code>export interface IReferenceProvider extends angular.IServiceProvider {\n    injectRef(name: string, ref: angular.ui.IUrlRouterProvider | angular.ui.IStateProvider): void;\n}\n\nexport interface IReferenceProviderGetterInterface {\n    get(name: string): angular.ui.IUrlRouterProvider | angular.ui.IStateProvider;\n}\n\nclass ReferenceProvider implements IReferenceProvider {\n    private refs: { [key: string]: angular.ui.IUrlRouterProvider | angular.ui.IStateProvider } = {};\n\n    $get(): IReferenceProviderGetterInterface {\n        return {\n            get: (name: string): angular.ui.IUrlRouterProvider | angular.ui.IStateProvider =&gt; {\n                return this.refs[name];\n            }\n        };\n    }\n\n    injectRef(name: string, ref: angular.ui.IUrlRouterProvider | angular.ui.IStateProvider): void {\n        this.refs[name] = ref;\n    }\n}\n\nangular.module(\"app\")\n    .provider(\"refs\", ReferenceProvider);\n}\n</code></pre>\n\n<p>and the way I'm using this is: </p>\n\n<pre><code>static $inject: Array&lt;string&gt; = [\"refs\"];\n\nprivate $stateProvider: angular.ui.IStateProvider;\n\nconstructor(refs: IReferenceProvider) {\n        this.$stateProvider = refs.get(\"$stateProvider\");\n...\n}\n</code></pre>\n"}, {"tags": ["angular", "typescript"], "comments": [{"owner": {"reputation": 7649, "user_id": 7733570, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zwdV1.jpg?s=128&g=1", "display_name": "Z. Bagley", "link": "https://stackoverflow.com/users/7733570/z-bagley"}, "edited": false, "score": 2, "creation_date": 1506540125, "post_id": 46455639, "comment_id": 79866932, "body": "I&#39;d have to guess you&#39;re using HttpClient, which automatically parses a json response so you need to delete <code>.map( res =&gt; res.json() )</code>. If you&#39;re not using HttpClient, and using Http instead, you&#39;ll want to json stringify your python response."}, {"owner": {"reputation": 4617, "user_id": 6600549, "user_type": "registered", "accept_rate": 44, "profile_image": "https://i.stack.imgur.com/CeZTt.png?s=128&g=1", "display_name": "George C.", "link": "https://stackoverflow.com/users/6600549/george-c"}, "reply_to_user": {"reputation": 7649, "user_id": 7733570, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zwdV1.jpg?s=128&g=1", "display_name": "Z. Bagley", "link": "https://stackoverflow.com/users/7733570/z-bagley"}, "edited": false, "score": 0, "creation_date": 1506540480, "post_id": 46455639, "comment_id": 79867125, "body": "Thnx Bro Works i just sent <code>return jsonify({&#39;message&#39;: &#39;product_updated&#39;}), 200</code>"}, {"owner": {"reputation": 4617, "user_id": 6600549, "user_type": "registered", "accept_rate": 44, "profile_image": "https://i.stack.imgur.com/CeZTt.png?s=128&g=1", "display_name": "George C.", "link": "https://stackoverflow.com/users/6600549/george-c"}, "reply_to_user": {"reputation": 7649, "user_id": 7733570, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zwdV1.jpg?s=128&g=1", "display_name": "Z. Bagley", "link": "https://stackoverflow.com/users/7733570/z-bagley"}, "edited": false, "score": 0, "creation_date": 1506540496, "post_id": 46455639, "comment_id": 79867135, "body": "End is worked :)"}, {"owner": {"reputation": 4617, "user_id": 6600549, "user_type": "registered", "accept_rate": 44, "profile_image": "https://i.stack.imgur.com/CeZTt.png?s=128&g=1", "display_name": "George C.", "link": "https://stackoverflow.com/users/6600549/george-c"}, "reply_to_user": {"reputation": 7649, "user_id": 7733570, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zwdV1.jpg?s=128&g=1", "display_name": "Z. Bagley", "link": "https://stackoverflow.com/users/7733570/z-bagley"}, "edited": false, "score": 0, "creation_date": 1506540557, "post_id": 46455639, "comment_id": 79867163, "body": "Can I ask you if you know very well angular 4 ??"}, {"owner": {"reputation": 7649, "user_id": 7733570, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zwdV1.jpg?s=128&g=1", "display_name": "Z. Bagley", "link": "https://stackoverflow.com/users/7733570/z-bagley"}, "edited": false, "score": 0, "creation_date": 1506541038, "post_id": 46455639, "comment_id": 79867415, "body": "I&#39;m pretty solid as far as Angular goes"}], "owner": {"reputation": 4617, "user_id": 6600549, "user_type": "registered", "accept_rate": 44, "profile_image": "https://i.stack.imgur.com/CeZTt.png?s=128&g=1", "display_name": "George C.", "link": "https://stackoverflow.com/users/6600549/george-c"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 316, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1576091118, "creation_date": 1506539838, "last_edit_date": 1576091118, "question_id": 46455639, "link": "https://stackoverflow.com/questions/46455639/angular-4-a-put-http-request-returns-me-an-error", "title": "Angular 4, a PUT http request returns me an error", "body": "<p>I have a method that sends some JSON data and receives JSON data back. I get the following error:</p>\n\n\n\n<pre><code>SyntaxError: Unexpected token p in JSON at position 0\n    at Object.parse (&lt;anonymous&gt;)\n    at Response.webpackJsonp.../../../http/@angular/http.es5.js.Body.json (http.es5.js:797)\n    at MapSubscriber.project (api.service.ts:172)\n    at MapSubscriber.webpackJsonp.../../../../rxjs/operator/map.js.MapSubscriber._next (map.js:77)\n    at MapSubscriber.webpackJsonp.../../../../rxjs/Subscriber.js.Subscriber.next (Subscriber.js:89)\n    at XMLHttpRequest.onLoad (http.es5.js:1226)\n    at ZoneDelegate.webpackJsonp.../../../../zone.js/dist/zone.js.ZoneDelegate.invokeTask (zone.js:425)\n    at Object.onInvokeTask (core.es5.js:3881)\n    at ZoneDelegate.webpackJsonp.../../../../zone.js/dist/zone.js.ZoneDelegate.invokeTask (zone.js:424)\n    at Zone.webpackJsonp.../../../../zone.js/dist/zone.js.Zone.runTask (zone.js:192)\n</code></pre>\n\n\n\n<pre><code>this.api.editProduct(this.PID, SCHEMA).subscribe( data =&gt; {                        \n    this.mediator.openDynamicSnackBar(`\u03a4\u03bf \u03c0\u03c1\u03bf\u03ca\u03cc\u03bd \u03b5\u03bd\u03b7\u03bc\u03b5\u03c1\u03ce\u03b8\u03b7\u03ba\u03b5`, 'success', 'ok');                           \n    this.router.navigate([`/crm/admin/products`]);\n\n}, error =&gt; {\n  console.log(error);\n  this.mediator.openDynamicSnackBar('Error while updating', 'error','ok');\n});\n</code></pre>\n\n<p><code>api.service.ts</code>:</p>\n\n<pre><code> /**\n   * Edit the selected product, takes an id and the new object as parameter\n   * @param id\n   * @param newProduct\n   */\n  editProduct(id: any, newProduct: any) {\n    const headers = new Headers();\n    headers.append('Content-Type', 'application/json');\n    const body = JSON.stringify(newProduct);\n\n    return this.http.put(`${this.BASE_URL}/api/products/${id}`, body, { headers: headers })\n      .map( res =&gt; res.json())\n  }\n</code></pre>\n"}, {"tags": ["angular", "typescript"], "answers": [{"comments": [{"owner": {"reputation": 4590, "user_id": 428547, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/9fb8073ac15824d33c99f49b6df00634?s=128&d=identicon&r=PG", "display_name": "kosnkov", "link": "https://stackoverflow.com/users/428547/kosnkov"}, "edited": false, "score": 0, "creation_date": 1506540062, "post_id": 46455629, "comment_id": 79866886, "body": "I got that one type is not compatible with other, to be honest the IUserGroup has the same what IUserDifferentGroup but also 2 more fields"}, {"owner": {"reputation": 2786, "user_id": 5260710, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-6kCcRVKP0fw/AAAAAAAAAAI/AAAAAAAAAOo/h8RzE48DQDY/photo.jpg?sz=128", "display_name": "amal", "link": "https://stackoverflow.com/users/5260710/amal"}, "reply_to_user": {"reputation": 4590, "user_id": 428547, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/9fb8073ac15824d33c99f49b6df00634?s=128&d=identicon&r=PG", "display_name": "kosnkov", "link": "https://stackoverflow.com/users/428547/kosnkov"}, "edited": false, "score": 0, "creation_date": 1506540110, "post_id": 46455629, "comment_id": 79866916, "body": "I see. Please show both <code>type</code>s, in order to see the difference"}, {"owner": {"reputation": 2786, "user_id": 5260710, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-6kCcRVKP0fw/AAAAAAAAAAI/AAAAAAAAAOo/h8RzE48DQDY/photo.jpg?sz=128", "display_name": "amal", "link": "https://stackoverflow.com/users/5260710/amal"}, "reply_to_user": {"reputation": 4590, "user_id": 428547, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/9fb8073ac15824d33c99f49b6df00634?s=128&d=identicon&r=PG", "display_name": "kosnkov", "link": "https://stackoverflow.com/users/428547/kosnkov"}, "edited": false, "score": 0, "creation_date": 1506540218, "post_id": 46455629, "comment_id": 79866983, "body": "If you can make the 2 more fields present in <code>IUserGroup</code> optional by using the elvis-operator <code>?</code> to those properties in its <code>interface</code> definition."}, {"owner": {"reputation": 2786, "user_id": 5260710, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-6kCcRVKP0fw/AAAAAAAAAAI/AAAAAAAAAOo/h8RzE48DQDY/photo.jpg?sz=128", "display_name": "amal", "link": "https://stackoverflow.com/users/5260710/amal"}, "reply_to_user": {"reputation": 4590, "user_id": 428547, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/9fb8073ac15824d33c99f49b6df00634?s=128&d=identicon&r=PG", "display_name": "kosnkov", "link": "https://stackoverflow.com/users/428547/kosnkov"}, "edited": false, "score": 0, "creation_date": 1506540517, "post_id": 46455629, "comment_id": 79867144, "body": "First of all, they are not same. In interfaces, the property names do matter as well as its types. I can see <code>Id</code> and <code>Name</code> maps to <code>Id</code> and <code>GroupName</code>. What does <code>Code</code> which is of type <code>string</code> map to in the other interface? (the rest of the properties there are <code>boolean</code>s)"}, {"owner": {"reputation": 4590, "user_id": 428547, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/9fb8073ac15824d33c99f49b6df00634?s=128&d=identicon&r=PG", "display_name": "kosnkov", "link": "https://stackoverflow.com/users/428547/kosnkov"}, "edited": false, "score": 0, "creation_date": 1506540568, "post_id": 46455629, "comment_id": 79867172, "body": "I would like to just map Id and name to GroupName"}], "tags": [], "owner": {"reputation": 2786, "user_id": 5260710, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-6kCcRVKP0fw/AAAAAAAAAAI/AAAAAAAAAOo/h8RzE48DQDY/photo.jpg?sz=128", "display_name": "amal", "link": "https://stackoverflow.com/users/5260710/amal"}, "is_accepted": true, "score": 3, "last_activity_date": 1506541133, "last_edit_date": 1506541133, "creation_date": 1506539797, "answer_id": 46455629, "question_id": 46455573, "link": "https://stackoverflow.com/questions/46455573/angular2-typescript-map-response-to-new-type/46455629#46455629", "title": "Angular2 typescript map response to new type", "body": "<p>Use this inside subscribe,</p>\n\n<pre><code>this.service.getUserGroups().subscribe(g =&gt; this.userGroups = g as IUserGroup[]);\n</code></pre>\n\n<p><strong>EDIT</strong></p>\n\n<p>As per the comments, modifying,</p>\n\n<pre><code>interface IUserDifferentGroup {\n    Name: string;\n    Code?: string; // &lt;-- made this optional\n    Id: number;\n}\n\ninterface IUserGroup {\n    Id: number;\n    GroupName: string;\n    Visible: boolean;\n    IsDefault: boolean;\n    CanAssociated: boolean;\n}\n</code></pre>\n\n<p>then change subscribe to,</p>\n\n<pre><code>this.service.getUserGroups().map((g) =&gt; return {Name: g.GroupName, Id: g.Id})\n .subscribe(g =&gt; {\n  this.userGroups = g as IUserGroup[];\n});\n</code></pre>\n\n<p>See if it fixes it.</p>\n"}], "owner": {"reputation": 4590, "user_id": 428547, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/9fb8073ac15824d33c99f49b6df00634?s=128&d=identicon&r=PG", "display_name": "kosnkov", "link": "https://stackoverflow.com/users/428547/kosnkov"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 962, "favorite_count": 2, "accepted_answer_id": 46455629, "answer_count": 1, "score": 1, "last_activity_date": 1506541133, "creation_date": 1506539544, "last_edit_date": 1506540338, "question_id": 46455573, "link": "https://stackoverflow.com/questions/46455573/angular2-typescript-map-response-to-new-type", "title": "Angular2 typescript map response to new type", "body": "<p>having </p>\n\n<pre><code>userGroups: IUserGroup[];\nthis.service.getUserGroups().subscribe(g =&gt; this.userGroups = g);\n</code></pre>\n\n<p>getUserGroups returns <code>IUserDifferentGroup[]</code> but both <code>IUserGroup</code> and <code>IUserDifferentGroup</code> have the same fields additionally <code>IUserGroup</code> have some more, how to map response to new type ? </p>\n\n<pre><code>interface IUserDifferentGroup{\n    Name: string;\n    Code: string;\n    Id: number;\n}\n\ninterface IUserGroup {\n    Id: number;\n    GroupName: string;\n    Visible: boolean;\n    IsDefault: boolean;\n    CanAssociated: boolean;\n}\n</code></pre>\n"}, {"tags": ["typescript"], "answers": [{"comments": [{"owner": {"reputation": 443, "user_id": 3381280, "user_type": "registered", "accept_rate": 42, "profile_image": "https://www.gravatar.com/avatar/751c17026d877b31aea61fa4f220d5e7?s=128&d=identicon&r=PG&f=1", "display_name": "kobosh", "link": "https://stackoverflow.com/users/3381280/kobosh"}, "edited": false, "score": 0, "creation_date": 1506563345, "post_id": 46457363, "comment_id": 79874645, "body": "thanks but your answer needs and expert to understand it; can you please explain exactly how do I use tsc version 2.5.2 which I have installed in Program Files(86x)/Microsof SDKs/Typescript/1.8   and have accordingly set %Path%  in visual Code."}, {"owner": {"reputation": 443, "user_id": 3381280, "user_type": "registered", "accept_rate": 42, "profile_image": "https://www.gravatar.com/avatar/751c17026d877b31aea61fa4f220d5e7?s=128&d=identicon&r=PG&f=1", "display_name": "kobosh", "link": "https://stackoverflow.com/users/3381280/kobosh"}, "edited": false, "score": 0, "creation_date": 1506568546, "post_id": 46457363, "comment_id": 79875816, "body": "I did the following:  C:\\Users\\user\\express-ts\\app\\controllers&gt;npm install -g typescript C:\\Users\\user\\AppData\\Roaming\\npm\\tsc -&gt; C:\\Users\\user\\AppData\\Roaming\\npm\\node_ modules\\typescript\\bin\\tsc C:\\Users\\user\\AppData\\Roaming\\npm\\tsserver -&gt; C:\\Users\\user\\AppData\\Roaming\\npm\\ node_modules\\typescript\\bin\\tsserver C:\\Users\\user\\AppData\\Roaming\\npm `-- typescript@2.5.3   { &quot;window.zoomLevel&quot;: 2, &quot;typescript.tsdk&quot;: &quot;users/user/AppDat/roaming/npm/node-modules/typescript/bin/&quot; }"}], "tags": [], "owner": {"reputation": 204677, "user_id": 75525, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/IYU63.png?s=128&g=1", "display_name": "Fenton", "link": "https://stackoverflow.com/users/75525/fenton"}, "is_accepted": false, "score": 1, "last_activity_date": 1506547054, "creation_date": 1506547054, "answer_id": 46457363, "question_id": 46455544, "link": "https://stackoverflow.com/questions/46455544/force-vs-code-to-get-typescript-from-path/46457363#46457363", "title": "force VS Code to get typescript from path", "body": "<p>The <a href=\"https://code.visualstudio.com/docs/languages/typescript#_using-newer-typescript-versions\" rel=\"nofollow noreferrer\">official documentation says</a>...</p>\n\n<blockquote>\n  <p>To use a different TypeScript version by default, configure\n  typescript.tsdk in your user settings to point to a directory\n  containing the TypeScript tsserver.js file. You can find the\n  TypeScript installation location using npm list -g typescript. The\n  tsserver.js file is usually in the lib folder.</p>\n</blockquote>\n\n<p>So for most people, installing the latest version of TypeScript with NPM will mean VSCode uses that latest version:</p>\n\n<pre><code>npm install -g typescript\n</code></pre>\n\n<p>But you can get the location of the <code>tsserver.js</code> file by running:</p>\n\n<pre><code>npm list -g typescript\n</code></pre>\n\n<p>Add the path it returns to your user settings in VSCode, like this:</p>\n\n<pre><code>{\n   \"typescript.tsdk\": \"/usr/local/lib/node_modules/typescript/lib\"\n}\n</code></pre>\n\n<p>Or, of course, point it to another version elsewhere if you want to.</p>\n"}], "owner": {"reputation": 443, "user_id": 3381280, "user_type": "registered", "accept_rate": 42, "profile_image": "https://www.gravatar.com/avatar/751c17026d877b31aea61fa4f220d5e7?s=128&d=identicon&r=PG&f=1", "display_name": "kobosh", "link": "https://stackoverflow.com/users/3381280/kobosh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 48, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1506547054, "creation_date": 1506539464, "question_id": 46455544, "link": "https://stackoverflow.com/questions/46455544/force-vs-code-to-get-typescript-from-path", "title": "force VS Code to get typescript from path", "body": "<p>I am totally confused about typescript installation; I have  installed  typescript in /microsoft SDKs/typescript/1.8 ;  I set path as C://programfiles(86x)/microsoftSDK/typescript/1.8\nwhen I use nodejs  tsc --version  from any location  I get 2.5.2\nbut in VS Code when I run the same command I get 1.0.3.0\nhow can I force VS Code to us version 2.5.2 because I want to use decorator </p>\n"}, {"tags": ["angular", "typescript", "mermaid"], "answers": [{"comments": [{"owner": {"reputation": 2046, "user_id": 658493, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/be38f103e2685e1c32553c25243d2db4?s=128&d=identicon&r=PG", "display_name": "K-Dawg", "link": "https://stackoverflow.com/users/658493/k-dawg"}, "edited": false, "score": 0, "creation_date": 1617114088, "post_id": 49919256, "comment_id": 118209089, "body": "Would be super useful if you could make a stackblitz for this."}], "tags": [], "owner": {"reputation": 264, "user_id": 1227985, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/296570bdb61d70ceb7e7975bccfbab90?s=128&d=identicon&r=PG", "display_name": "Maximilian Friedmann", "link": "https://stackoverflow.com/users/1227985/maximilian-friedmann"}, "is_accepted": false, "score": 12, "last_activity_date": 1574169741, "last_edit_date": 1574169741, "creation_date": 1524135103, "answer_id": 49919256, "question_id": 46455523, "link": "https://stackoverflow.com/questions/46455523/angular-4-compatible-with-mermaid-js/49919256#49919256", "title": "Angular 4 compatible with Mermaid js?", "body": "<p>Its quite easy to use. </p>\n\n<ol>\n<li>Add mermaid to your project: <code>npm i mermaid</code></li>\n<li>In the view you want to use mermaid, import mermaid and call the init method</li>\n</ol>\n\n<p>Example:</p>\n\n<pre><code>import { Component, OnInit } from \"@angular/core\";\nimport * as mermaid from \"mermaid\";\n\n@Component({\n    selector: \"MermaidTest\",\n    template: `\n        &lt;div class=\"mermaid\"&gt;\n            graph LR\n            A--&gt;B\n        &lt;/div&gt;`\n})\nexport class MermaidTest implements OnInit {    \n\n    public ngOnInit(): void {\n        mermaid.initialize({\n            theme: \"forest\"\n        });\n    }\n}\n</code></pre>\n\n<p>In this case, you have to escape characters like {. If you happen to have the graph content as string anyway, you can use the mermaidAPI instead: </p>\n\n<pre><code>import { AfterContentInit, Component, ViewChild } from \"@angular/core\";\nimport * as mermaid from \"mermaid\";\n\n@Component({\n    selector: \"MermaidTest\",\n    template: `&lt;div #mermaid&gt;&lt;/div&gt;`\n})\nexport class MermaidTest implements AfterContentInit {\n\n    @ViewChild(\"mermaid\")\n    public mermaidDiv;\n\n    public ngAfterContentInit(): void {\n        mermaid.initialize({\n            theme: \"dark\"\n        });\n\n        const element: any = this.mermaidDiv.nativeElement;\n        const graphDefinition = \"graph TB\\na--&gt;b\";\n        mermaid.render(\"graphDiv\", graphDefinition, (svgCode, bindFunctions) =&gt; {\n            element.innerHTML = svgCode;\n        });\n    }\n}\n</code></pre>\n\n<p>For more details see <a href=\"https://mermaidjs.github.io/#/mermaidAPI\" rel=\"noreferrer\">https://mermaidjs.github.io/#/mermaidAPI</a></p>\n"}], "owner": {"reputation": 65, "user_id": 5111802, "user_type": "registered", "profile_image": "https://graph.facebook.com/10153568968754388/picture?type=large", "display_name": "Vasudev Deshpande", "link": "https://stackoverflow.com/users/5111802/vasudev-deshpande"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2865, "favorite_count": 3, "closed_date": 1563636283, "answer_count": 1, "score": 5, "last_activity_date": 1574169741, "creation_date": 1506539372, "last_edit_date": 1506591353, "question_id": 46455523, "link": "https://stackoverflow.com/questions/46455523/angular-4-compatible-with-mermaid-js", "closed_reason": "Not suitable for this site", "title": "Angular 4 compatible with Mermaid js?", "body": "<p>I am looking for diagram Javascript library to create some kind of top level dynamic block diagram for my angular project. Can anyone pls tell me if <a href=\"https://www.npmjs.com/package/mermaid\" rel=\"noreferrer\">mermaid</a> is compatible to work with Angular 4? \nAlso pls let me know if there are any other good diagram libraries to work on. Thanks!</p>\n"}, {"tags": ["javascript", "angular", "typescript", "rxjs"], "answers": [{"comments": [{"owner": {"reputation": 12444, "user_id": 2391795, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/MG7Lq.png?s=128&g=1", "display_name": "Vadorequest", "link": "https://stackoverflow.com/users/2391795/vadorequest"}, "edited": false, "score": 0, "creation_date": 1506540009, "post_id": 46455468, "comment_id": 79866854, "body": "Very smart trick. Really useful to store the value for later use within the same template. Any particular interest using the <code>&lt;ng-container&gt;</code> instead of a div?"}, {"owner": {"reputation": 147776, "user_id": 3731501, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/e4783dfa8ec98c884e61d29f2192ac97?s=128&d=identicon&r=PG&f=1", "display_name": "Estus Flask", "link": "https://stackoverflow.com/users/3731501/estus-flask"}, "reply_to_user": {"reputation": 12444, "user_id": 2391795, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/MG7Lq.png?s=128&g=1", "display_name": "Vadorequest", "link": "https://stackoverflow.com/users/2391795/vadorequest"}, "edited": false, "score": 1, "creation_date": 1506540363, "post_id": 46455468, "comment_id": 79867068, "body": "See <a href=\"https://stackoverflow.com/questions/39547858/angular-2-ng-container\" title=\"angular 2 ng container\">stackoverflow.com/questions/39547858/angular-2-ng-container</a> . Tl;DR: it doesn&#39;t pollute layout."}], "tags": [], "owner": {"reputation": 147776, "user_id": 3731501, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/e4783dfa8ec98c884e61d29f2192ac97?s=128&d=identicon&r=PG&f=1", "display_name": "Estus Flask", "link": "https://stackoverflow.com/users/3731501/estus-flask"}, "is_accepted": true, "score": 3, "last_activity_date": 1506539189, "creation_date": 1506539189, "answer_id": 46455468, "question_id": 46455277, "link": "https://stackoverflow.com/questions/46455277/angular-2-manipulating-rxjs-observable-in-a-view/46455468#46455468", "title": "Angular 2 - Manipulating rxjs Observable in a view", "body": "<p>The problem results from a common misconception that JSON is a synonym for plain object. <em>It isn't</em>.</p>\n\n<p><code>json</code> pipe converts input into actual <em>JSON string</em>. So <code>(selectedMovie$ | async | json)</code> expression evaluates to a string and doesn't have <code>id</code> property.</p>\n\n<p>It is helpful to use AoT compilation, because it allows to detect type problems in template and would likely result in type error in this case.</p>\n\n<p>It should be <code>(selectedMovie$ | async).id</code> instead.</p>\n\n<p>If <code>(selectedMovie$ | async)</code> is used more than once (like in this case), it will result in several subscriptions. It can be optimized by assigning it to local variable, as explained <a href=\"https://stackoverflow.com/a/43327466/3731501\">here</a>:</p>\n\n<pre><code>&lt;div *ngIf=\"movies\"&gt;\n  &lt;ng-container *ngIf=\"(selectedMovie$ | async); let selectedMovie\"&gt;\n    ...\n    {{selectedMovie.id}}\n    ...\n  &lt;/ng-container&gt;\n&lt;/div&gt;\n</code></pre>\n"}], "owner": {"reputation": 12444, "user_id": 2391795, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/MG7Lq.png?s=128&g=1", "display_name": "Vadorequest", "link": "https://stackoverflow.com/users/2391795/vadorequest"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 467, "favorite_count": 1, "accepted_answer_id": 46455468, "answer_count": 1, "score": 1, "last_activity_date": 1506540193, "creation_date": 1506538472, "last_edit_date": 1506540193, "question_id": 46455277, "link": "https://stackoverflow.com/questions/46455277/angular-2-manipulating-rxjs-observable-in-a-view", "title": "Angular 2 - Manipulating rxjs Observable in a view", "body": "<p>I'm getting started with Observable in Angular 2 and I can't figure out how to use them properly in my views. </p>\n\n<p>I'm using Angular 2 with angular-redux, and using the <code>@select()</code> decorator to retrieve my <code>selectedMovie$</code> from the redux store. This part works fine, the component basically dispatch a redux event to set the default <code>selectedMovie$</code> upon init. The redux store is correctly updated, but when I try to consumme it in the view, I face some issues.</p>\n\n<pre><code>import { Component, OnInit } from '@angular/core';\nimport { NgRedux, select } from '@angular-redux/store';\nimport { MovieActions} from '../store/app.actions';\nimport { IAppState} from '../store/reducers';\nimport { MovieService } from '../movie.service';\nimport { Observable } from 'rxjs/Observable';\nimport { IMovie } from '../movie.model';\n\n@Component({\n  selector: 'app-movies-container',\n  templateUrl: './movies-container.component.html',\n  styleUrls: ['./movies-container.component.css'],\n  providers: [MovieService]\n})\nexport class MoviesContainerComponent implements OnInit {\n  movies: Array&lt;IMovie&gt;;\n  @select() readonly selectedMovie$: Observable&lt;IMovie&gt;; // HERE - Get data from the redux store\n\n  constructor(\n    private movieService: MovieService,\n    private movieActions: MovieActions,\n    private ngRedux: NgRedux&lt;IAppState&gt;\n  ) { }\n\n  ngOnInit() {\n    // Fetch movies and use the first one as default displayed movie.\n    this.getMovies() // HERE - Takes the first movie and make it the default selectedMovie by dispatching a redux action\n      .then(movies =&gt;\n        this.ngRedux.dispatch(this.movieActions.changeSelectedMovie(this.movies[0]))\n      );\n  }\n\n  getMovies() { // HERE: Call an API, returns an array of movies in data.results\n    return this.movieService.getMostPopular()\n      .then(data =&gt; this.movies = data.results);\n  }\n\n  onSelect(movie: IMovie) {\n    this.ngRedux.dispatch(this.movieActions.changeSelectedMovie(movie));\n  }\n}\n</code></pre>\n\n<p>Here comes the view:</p>\n\n<pre><code>&lt;div *ngIf=\"movies\"&gt;\n  &lt;md-list&gt;\n    &lt;h3 md-subheader&gt;Most popular movies NOW!&lt;/h3&gt;\n    &lt;pre&gt;\n      {{(selectedMovie$ | async | json).id}} // This fails and displays nothing. I'd expect it to display the movie id\n    &lt;/pre&gt;\n    &lt;md-list-item\n      *ngFor=\"let movie of movies\"\n      [class.selected]=\"movie.id === (selectedMovie$ | async | json).id\" // This is a real deal, I don't know what's the syntax to use. I wanted to compare ids\n      (click)=\"onSelect(movie)\"\n    &gt;\n      &lt;img src=\"https://image.tmdb.org/t/p/w92{{movie.poster_path}}\" /&gt;\n      {{movie.title}}\n    &lt;/md-list-item&gt;\n  &lt;/md-list&gt;\n\n  &lt;app-movie-card [movie]=\"selectedMovie$ | async | json\"&gt;&lt;/app-movie-card&gt; // This component gets the object correctly formatted\n&lt;/div&gt;\n</code></pre>\n\n<p>Maybe I'm just not using the right syntax. Or maybe I shouldn't use an Observer in the view in the first place?</p>\n\n<hr>\n\n<p>Edit: Solution</p>\n\n<pre><code>&lt;div *ngIf=\"movies &amp;&amp; (selectedMovie$ | async); let selectedMovie\"&gt;\n  &lt;md-list&gt;\n    &lt;h3 md-subheader&gt;Most popular movies NOW!&lt;/h3&gt;\n    &lt;md-list-item\n      *ngFor=\"let movie of movies\"\n      [class.selected]=\"movie.id === selectedMovie.id\"\n      (click)=\"onSelect(movie)\"\n    &gt;\n      &lt;img src=\"https://image.tmdb.org/t/p/w92{{movie.poster_path}}\" /&gt;\n      {{movie.title}}\n    &lt;/md-list-item&gt;\n  &lt;/md-list&gt;\n\n  &lt;app-movie-card [movie]=\"selectedMovie\"&gt;&lt;/app-movie-card&gt;\n&lt;/div&gt;\n</code></pre>\n"}, {"tags": ["javascript", "angular", "typescript", "charts"], "answers": [{"comments": [{"owner": {"reputation": 612, "user_id": 7695982, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/dc2f85a5a36c886f9b7db4d9e9f4fc8b?s=128&d=identicon&r=PG&f=1", "display_name": "Gustavo", "link": "https://stackoverflow.com/users/7695982/gustavo"}, "edited": false, "score": 0, "creation_date": 1506538646, "post_id": 46455220, "comment_id": 79866115, "body": "Nice to know, but where should I put that code? I tried to use it and now both new and old graphic are blank."}, {"owner": {"reputation": 25995, "user_id": 5152732, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-eL0xfQom3xQ/AAAAAAAAAAI/AAAAAAAAB1E/j1B2Mcgvt6M/photo.jpg?sz=128", "display_name": "toskv", "link": "https://stackoverflow.com/users/5152732/toskv"}, "reply_to_user": {"reputation": 612, "user_id": 7695982, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/dc2f85a5a36c886f9b7db4d9e9f4fc8b?s=128&d=identicon&r=PG&f=1", "display_name": "Gustavo", "link": "https://stackoverflow.com/users/7695982/gustavo"}, "edited": false, "score": 0, "creation_date": 1506538860, "post_id": 46455220, "comment_id": 79866223, "body": "@Gustavo I added more to the answer."}, {"owner": {"reputation": 612, "user_id": 7695982, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/dc2f85a5a36c886f9b7db4d9e9f4fc8b?s=128&d=identicon&r=PG&f=1", "display_name": "Gustavo", "link": "https://stackoverflow.com/users/7695982/gustavo"}, "edited": false, "score": 0, "creation_date": 1506538932, "post_id": 46455220, "comment_id": 79866260, "body": "Added it, but still the same issue as before (both new an old show at the same time)"}, {"owner": {"reputation": 25995, "user_id": 5152732, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-eL0xfQom3xQ/AAAAAAAAAAI/AAAAAAAAB1E/j1B2Mcgvt6M/photo.jpg?sz=128", "display_name": "toskv", "link": "https://stackoverflow.com/users/5152732/toskv"}, "reply_to_user": {"reputation": 612, "user_id": 7695982, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/dc2f85a5a36c886f9b7db4d9e9f4fc8b?s=128&d=identicon&r=PG&f=1", "display_name": "Gustavo", "link": "https://stackoverflow.com/users/7695982/gustavo"}, "edited": false, "score": 0, "creation_date": 1506539113, "post_id": 46455220, "comment_id": 79866353, "body": "the only other explanation would be that you actually have multiple charts generated for the same canvas at once. are you sure the chart library doesn&#39;t just update the drawing whenever <code>this.barChartData</code> is changed?"}], "tags": [], "owner": {"reputation": 25995, "user_id": 5152732, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-eL0xfQom3xQ/AAAAAAAAAAI/AAAAAAAAB1E/j1B2Mcgvt6M/photo.jpg?sz=128", "display_name": "toskv", "link": "https://stackoverflow.com/users/5152732/toskv"}, "is_accepted": false, "score": 1, "last_activity_date": 1506538811, "last_edit_date": 1506538811, "creation_date": 1506538275, "answer_id": 46455220, "question_id": 46455163, "link": "https://stackoverflow.com/questions/46455163/how-to-destroy-previous-chart-canvas-after-new-one-is-shown-angular-4/46455220#46455220", "title": "How to &#39;destroy&#39; previous chart (canvas) after new one is shown | Angular 4", "body": "<p>The canvas api defines a <strong>clearRect</strong> method. </p>\n\n<p>You can clear the canvas before creating a new chart.</p>\n\n<pre><code>this.ctx = this.canvas.getContext('2d');\nthis.ctx.clearRect(0, 0, 100,100);\n</code></pre>\n\n<p>You read the documentation <a href=\"https://developer.mozilla.org/en-US/docs/Web/API/CanvasRenderingContext2D/clearRect\" rel=\"nofollow noreferrer\">here</a>.</p>\n"}, {"comments": [{"owner": {"reputation": 612, "user_id": 7695982, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/dc2f85a5a36c886f9b7db4d9e9f4fc8b?s=128&d=identicon&r=PG&f=1", "display_name": "Gustavo", "link": "https://stackoverflow.com/users/7695982/gustavo"}, "edited": false, "score": 0, "creation_date": 1506540073, "post_id": 46455455, "comment_id": 79866895, "body": "It looks like the data are always on the same canvas like @toskv mentioned above. So no matter when I destroy it, when the new one comes in there will be the old data on the same canvas, I think."}, {"owner": {"reputation": 12628, "user_id": 3244064, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5ea793dcbaff5a5e29ad3d05ef564d86?s=128&d=identicon&r=PG", "display_name": "Andriy", "link": "https://stackoverflow.com/users/3244064/andriy"}, "reply_to_user": {"reputation": 612, "user_id": 7695982, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/dc2f85a5a36c886f9b7db4d9e9f4fc8b?s=128&d=identicon&r=PG&f=1", "display_name": "Gustavo", "link": "https://stackoverflow.com/users/7695982/gustavo"}, "edited": false, "score": 0, "creation_date": 1506577939, "post_id": 46455455, "comment_id": 79878400, "body": "<code>destroy()</code> function will take care of all needed actions on both CHartJS and canvas APIs. See my update on the answer"}], "tags": [], "owner": {"reputation": 12628, "user_id": 3244064, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5ea793dcbaff5a5e29ad3d05ef564d86?s=128&d=identicon&r=PG", "display_name": "Andriy", "link": "https://stackoverflow.com/users/3244064/andriy"}, "is_accepted": false, "score": 1, "last_activity_date": 1506577856, "last_edit_date": 1506577856, "creation_date": 1506539133, "answer_id": 46455455, "question_id": 46455163, "link": "https://stackoverflow.com/questions/46455163/how-to-destroy-previous-chart-canvas-after-new-one-is-shown-angular-4/46455455#46455455", "title": "How to &#39;destroy&#39; previous chart (canvas) after new one is shown | Angular 4", "body": "<p>try <a href=\"http://www.chartjs.org/docs/latest/developers/api.html#destroy\" rel=\"nofollow noreferrer\"><code>destroy()</code></a> method.</p>\n\n<p>Keep accessible reference to your chart instance (<code>this.myChart</code> in my example):</p>\n\n<pre><code>this.myChart = new Chart(this.ctx, { // Bar graphic configs\n  type: 'bar',\n  data: this.barChartData,\n  options: {\n    scales: {\n      yAxes: [{\n        ticks: {\n          beginAtZero: true\n        }\n      }]\n    }\n  }\n});\n</code></pre>\n\n<p>then, when you need to destroy it, call:</p>\n\n<pre><code>// Destroys a specific chart instance\nthis.myChart.destroy();\n</code></pre>\n\n<p>here is <code>destroy()</code> function's code (copied from <a href=\"https://cdnjs.cloudflare.com/ajax/libs/Chart.js/1.0.2/Chart.js\" rel=\"nofollow noreferrer\">CDN</a>):</p>\n\n<pre><code>destroy : function(){\n  this.clear();\n  unbindEvents(this, this.events);\n  var canvas = this.chart.canvas;\n\n  // Reset canvas height/width attributes starts a fresh with the canvas context\n  canvas.width = this.chart.width;\n  canvas.height = this.chart.height;\n\n  // &lt; IE9 doesn't support removeProperty\n  if (canvas.style.removeProperty) {\n    canvas.style.removeProperty('width');\n    canvas.style.removeProperty('height');\n  } else {\n    canvas.style.removeAttribute('width');\n    canvas.style.removeAttribute('height');\n  }\n\n  delete Chart.instances[this.id];\n}\n</code></pre>\n\n<p>and <code>clear()</code> function:</p>\n\n<pre><code>clear = helpers.clear = function(chart){\n  chart.ctx.clearRect(0,0,chart.width,chart.height);\n}\n</code></pre>\n\n<p>so, <code>destroy()</code> function take care of both ChartJS and canvas APIs, and, as <a href=\"http://www.chartjs.org/docs/latest/developers/api.html#destroy\" rel=\"nofollow noreferrer\">stated on the official site</a>:</p>\n\n<blockquote>\n  <p>This must be called before the canvas is reused for a new chart</p>\n</blockquote>\n"}, {"tags": [], "owner": {"reputation": 26901, "user_id": 7750640, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TKg0m.jpg?s=128&g=1", "display_name": "\u0262\u0280\u1d1c\u0274\u1d1b", "link": "https://stackoverflow.com/users/7750640/%c9%a2%ca%80%e1%b4%9c%c9%b4%e1%b4%9b"}, "is_accepted": true, "score": 13, "last_activity_date": 1506540572, "last_edit_date": 1506540572, "creation_date": 1506539644, "answer_id": 46455597, "question_id": 46455163, "link": "https://stackoverflow.com/questions/46455163/how-to-destroy-previous-chart-canvas-after-new-one-is-shown-angular-4/46455597#46455597", "title": "How to &#39;destroy&#39; previous chart (canvas) after new one is shown | Angular 4", "body": "<p>Seems like you are using the ChartJS library. In that case, you can use the <a href=\"http://www.chartjs.org/docs/latest/developers/api.html#destroy\" rel=\"noreferrer\"><strong><code>destroy()</code></strong></a> method to destroy any previous instance of chart.</p>\n\n<p><strong>\ua730\u026a\u0280\ua731\u1d1b</strong></p>\n\n<p>add a property <em>(in which the chart instance gonna be stored)</em> in your chart component class :</p>\n\n<pre><code>public myChart: Chart\n</code></pre>\n\n<p><strong>\ua731\u1d07\u1d04\u1d0f\u0274\u1d05</strong></p>\n\n<p>check and destroy the chart instance <em>(if any)</em> before creating a new one :</p>\n\n<pre><code>...\nif (this.myChart) this.myChart.destroy(); //destroy prev chart instance\nthis.myChart = new Chart(this.ctx, {\n         type: 'bar',\n         data: this.barChartData,\n         ...\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 103, "user_id": 11904701, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-OS7dXZGIHM8/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rfiK1BuFtHa0MkoeqakRD8mN_TXLw/photo.jpg?sz=128", "display_name": "Pipimi", "link": "https://stackoverflow.com/users/11904701/pipimi"}, "is_accepted": false, "score": 0, "last_activity_date": 1589275020, "creation_date": 1589275020, "answer_id": 61748004, "question_id": 46455163, "link": "https://stackoverflow.com/questions/46455163/how-to-destroy-previous-chart-canvas-after-new-one-is-shown-angular-4/61748004#61748004", "title": "How to &#39;destroy&#39; previous chart (canvas) after new one is shown | Angular 4", "body": "<p>I know this has already been solved, but I was having the same problem and this solutions didn't work, probably because I am using recent versions.</p>\n\n<p>In case someone is reading this thread and is in the same situation as me, this is what worked in my case: manually removing the canvas from the DOM in the ngOnDestroy() hook.</p>\n\n<pre><code>  ngOnDestroy(){\n    ( &lt; HTMLCanvasElement &gt; document.getElementById('myChartCanvas')).remove();\n  }\n</code></pre>\n"}], "owner": {"reputation": 612, "user_id": 7695982, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/dc2f85a5a36c886f9b7db4d9e9f4fc8b?s=128&d=identicon&r=PG&f=1", "display_name": "Gustavo", "link": "https://stackoverflow.com/users/7695982/gustavo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 8270, "favorite_count": 2, "accepted_answer_id": 46455597, "answer_count": 4, "score": 2, "last_activity_date": 1591191213, "creation_date": 1506538086, "question_id": 46455163, "link": "https://stackoverflow.com/questions/46455163/how-to-destroy-previous-chart-canvas-after-new-one-is-shown-angular-4", "title": "How to &#39;destroy&#39; previous chart (canvas) after new one is shown | Angular 4", "body": "<p>I have a code that update the data of an Graphic after a drop down is selected. However when I select an option it looks like the new Graphic and the old Graphic stays on the same canvas at the same time.</p>\n\n<p>here's my code:</p>\n\n<pre><code>funcao(){\n\n  this.graphicService.getDatas().subscribe(datas =&gt; {\n        this.datas = datas; //Gets the data from the API and put on local datas variable\n\n        if(this.data[0].dimension == \"Tech\")\n        {\n          this.counter=0;\n        }\n        else if(this.data[0].dimension == \"Bus\"){\n          this.counter=1;\n        }\n              this.barChartData = { //Bar graphic data\n                  labels: [\"Entry\", \"Foundation\"],\n                  datasets: [{\n                      label: this.datas[this.counter].subdimensions[0].name,\n                      backgroundColor: 'rgba(37, 230, 131,0.7)'\n                      data: [\n                          this.datas[this.counter].subdimensions[0].entry,\n                          this.datas[this.counter].subdimensions[0].foundation\n                      ]\n                  }]\n\n              };\n\n              this.canvas = document.getElementById('myChart');\n              this.ctx = this.canvas.getContext('2d');\n\n              let myChart = new Chart(this.ctx, { // Bar graphic configs\n                     type: 'bar',\n                     data: this.barChartData,\n                     options: {\n                         scales: {\n                            yAxes: [{\n                                ticks: {\n                                    beginAtZero: true\n                                }\n                            }]\n                          }\n                     }\n                 });\n      });\n}\n</code></pre>\n\n<p><strong>HTML</strong></p>\n\n<pre><code>&lt;select [(ngModel)]=\"data[0].dimension\" (change)=\"funcao()\" class=\"form-control\"&gt;\n  &lt;option *ngFor=\"let data of datas\" [value]=\"data.dimension\"&gt;{{ data.dimension }}&lt;/option&gt;\n&lt;/select&gt;\n\n  &lt;canvas id=\"myChart\"&gt;&lt;/canvas&gt;\n</code></pre>\n\n<p>What I want to do is the old graphic disappears and only the new one stay on screen.</p>\n"}, {"tags": ["angular", "typescript", "ionic2"], "answers": [{"tags": [], "owner": {"reputation": 204677, "user_id": 75525, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/IYU63.png?s=128&g=1", "display_name": "Fenton", "link": "https://stackoverflow.com/users/75525/fenton"}, "is_accepted": false, "score": 0, "last_activity_date": 1506544904, "creation_date": 1506544904, "answer_id": 46456886, "question_id": 46455118, "link": "https://stackoverflow.com/questions/46455118/error-failed-to-transpile-program-ionic2/46456886#46456886", "title": "Error: Failed to transpile program ionic2", "body": "<p>All of the missing members look related to your test framework (I'm guessing it is Jasmine or Jest):</p>\n\n<pre><code>Cannot find name 'describe'.\n...\nCannot find name 'it'.\n</code></pre>\n\n<p>You need to ensure that:</p>\n\n<ol>\n<li>you have the framework available (in your <code>package.json</code>, etc)</li>\n<li>have imported the framework in your spec file (import/require etc)</li>\n</ol>\n"}], "owner": {"reputation": 580, "user_id": 8594134, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b70674f2ff4cb03743b310f2c4d966e1?s=128&d=identicon&r=PG&f=1", "display_name": "Franco Coronel", "link": "https://stackoverflow.com/users/8594134/franco-coronel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1848, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1506544904, "creation_date": 1506537915, "question_id": 46455118, "link": "https://stackoverflow.com/questions/46455118/error-failed-to-transpile-program-ionic2", "title": "Error: Failed to transpile program ionic2", "body": "<p>ionic cordova build android\n    [WARN] Detected @ionic/cli-plugin-ionic-angular in your package.json.</p>\n\n<pre><code>       As of CLI 3.8, it is no longer needed. You can uninstall it:\n\n       npm uninstall --save-dev --save-exact @ionic/cli-plugin-ionic-a\n\n[INFO] Running app-scripts build: --platform android --target cordova\n\n[15:38:32]  build dev started ...\n[15:38:32]  clean started ...\n[15:38:32]  clean finished in 1 ms\n[15:38:32]  copy started ...\n[15:38:32]  transpile started ...\n[15:38:39]  typescript: C:/Users/NATALIA/Pictures/mdp365-ionic3/src/aponent.spec.ts, line: 6\n            Cannot find name 'describe'.\n\n       L5:  beforeEach(() =&gt; {\n       L6:    TestBed.configureTestingModule({\n       L7:      declarations: [\n\n[15:38:39]  typescript: C:/Users/NATALIA/Pictures/mdp365-ionic3/src/aponent.spec.ts, line: 7\n            Cannot find name 'beforeEach'.\n\n       L6:  TestBed.configureTestingModule({\n       L7:    declarations: [\n       L8:      AppComponent\n\n[15:38:39]  typescript: C:/Users/NATALIA/Pictures/mdp365-ionic3/src/aponent.spec.ts, line: 16\n            Cannot find name 'it'.\n\n      L15:  const fixture = TestBed.createComponent(AppComponent);\n      L16:  const app = fixture.debugElement.componentInstance;\n      L17:  expect(app).toBeTruthy();\n\n[15:38:39]  typescript: C:/Users/NATALIA/Pictures/mdp365-ionic3/src/aponent.spec.ts, line: 19\n            Cannot find name 'expect'.\n\n      L18:    }));\n      L20:    it(`should have as title 'app works!'`, async(() =&gt; {\n\n[15:38:39]  typescript: C:/Users/NATALIA/Pictures/mdp365-ionic3/src/aponent.spec.ts, line: 22\n            Cannot find name 'it'.\n\n      L21:  const fixture = TestBed.createComponent(AppComponent);\n      L22:  const app = fixture.debugElement.componentInstance;\n      L23:  expect(app.title).toEqual('app works!');\n\n[15:38:39]  typescript: C:/Users/NATALIA/Pictures/mdp365-ionic3/src/aponent.spec.ts, line: 25\n            Cannot find name 'expect'.\n\n      L24:    }));\n      L26:    it('should render title in a h1 tag', async(() =&gt; {\n\n[15:38:39]  typescript: C:/Users/NATALIA/Pictures/mdp365-ionic3/src/aponent.spec.ts, line: 28\n            Cannot find name 'it'.\n\n      L27:  const fixture = TestBed.createComponent(AppComponent);\n      L28:  fixture.detectChanges();\n      L29:  const compiled = fixture.debugElement.nativeElement;\n\n[15:38:39]  typescript: C:/Users/NATALIA/Pictures/mdp365-ionic3/src/aponent.spec.ts, line: 32\n            Cannot find name 'expect'.\n\n      L31:    }));\n      L32:  });\n</code></pre>\n\n<p>Error: Failed to transpile program\n        at BuildError.Error (native)\n        at new BuildError (C:\\Users\\NATALIA\\Pictures\\mdp365-ionic3\\node_moic\\app-scripts\\dist\\util\\errors.js:16:28)\n        at C:\\Users\\NATALIA\\Pictures\\mdp365-ionic3\\node_modules\\@ionic\\appist\\transpile.js:137:20\n        at transpileWorker (C:\\Users\\NATALIA\\Pictures\\mdp365-ionic3\\node_mnic\\app-scripts\\dist\\transpile.js:103:12)\n        at Object.transpile (C:\\Users\\NATALIA\\Pictures\\mdp365-ionic3\\node_onic\\app-scripts\\dist\\transpile.js:61:12)\n        at buildProject (C:\\Usersenter code here\\NATALIA\\Pictures\\mdp365-ionic3\\node_modu\\app-scripts\\dist\\build.js:97:78)\n        at C:\\Users\\NATALIA\\Pictures\\mdp365-ionic3\\node_modules\\@ionic\\appist\\build.js:47:16</p>\n"}, {"tags": ["angular", "typescript", "angular-ngmodel"], "answers": [{"comments": [{"owner": {"reputation": 51, "user_id": 7226790, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/099055603d8ea91fe08f2ebb4789c0c5?s=128&d=identicon&r=PG&f=1", "display_name": "gciluffo", "link": "https://stackoverflow.com/users/7226790/gciluffo"}, "edited": false, "score": 2, "creation_date": 1506540226, "post_id": 46454979, "comment_id": 79866990, "body": "Definitely on the right track. But how can I provide COMMON_CONFIG as the value for &quot;useValue&quot; in my library via forRoot method?"}], "tags": [], "owner": {"reputation": 26053, "user_id": 982341, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/07129b74cbf0de1a592c7a98224f9e16?s=128&d=identicon&r=PG", "display_name": "GreyBeardedGeek", "link": "https://stackoverflow.com/users/982341/greybeardedgeek"}, "is_accepted": false, "score": 0, "last_activity_date": 1506547159, "last_edit_date": 1506547159, "creation_date": 1506537434, "answer_id": 46454979, "question_id": 46454687, "link": "https://stackoverflow.com/questions/46454687/passing-environment-files-into-custom-angular-2-module/46454979#46454979", "title": "Passing environment files into custom Angular 2 Module", "body": "<p>The problem is that when you specify <code>'useValue'</code>, you have to actually specify a value, and it has to be one that is not injected.</p>\n\n<p>I have similar code working, but I use <code>'useFactory'</code> instead.\nTo do this, you have to provide a static method in the module class that acts as the factory (returns an instance of the thing being provided).</p>\n\n<p>Mine looks like this:</p>\n\n<pre><code>NgModule({\n  declarations: [\n    AppComponent\n  ],\n  imports: [\n    BrowserModule,\n    AppRoutingModule,\n    etc....\n  ],\n  providers: [\n    { provide: COMMON_CONFIG, useFactory: AppModule.commonConfigFactory },\n\n  ],\n  bootstrap: [AppComponent]\n})\nexport class AppModule {\n  static commonConfigFactory() {\n    return new CommonConfig(environment);\n  }\n}\n</code></pre>\n\n<p>In the above code, <code>COMMON_CONFIG</code> is an <code>InjectionToken</code>, and <code>\"CommonConfig\"</code> is a simple wrapper class for the environment object.</p>\n"}], "owner": {"reputation": 51, "user_id": 7226790, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/099055603d8ea91fe08f2ebb4789c0c5?s=128&d=identicon&r=PG&f=1", "display_name": "gciluffo", "link": "https://stackoverflow.com/users/7226790/gciluffo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 576, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1506547159, "creation_date": 1506536349, "question_id": 46454687, "link": "https://stackoverflow.com/questions/46454687/passing-environment-files-into-custom-angular-2-module", "title": "Passing environment files into custom Angular 2 Module", "body": "<p>I am currently making a custom angular library that is dependent on the hosts environment. Ideally, I would just like to pass a couple environment variables in the <code>forRoot</code> method of my module for a service to use depending what app is using it and what environment they are in. However I am getting an error when compiling with angular-cli and just passing in variables from my <code>environment.ts</code> in <code>app.module.ts</code>.</p>\n\n<p>ERROR in Error: Error encountered resolving symbol values statically. Function calls are not supported. Consider replacing the function or lambda with a reference to an exported function (position 19:24 in the original .ts file), resolving symbol environment in /Users/griffin/DCP/customer-dashboard/src/environments/environment.ts, resolving symbol AppModule in /Users/griffin/DCP/customer-dashboard/src/app/app.module.ts, resolving symbol AppModule in /Users/griffin/DCP/customer-</p>\n\n<p>The custom module's index is currently setup like this:</p>\n\n<pre><code>@NgModule({\n declarations: [],\n exports: [],\n providers: [\n AuthService\n],\nimports: [\n HttpModule,\n BrowserModule\n]\n})\nexport class CommonAuthModule {\n static forRoot(config: AuthServiceConfig): ModuleWithProviders {\n  return {\n   ngModule: CommonAuthModule,\n    providers: [\n     {provide: AuthServiceConfig, useValue: config }\n    ]\n  };\n}\n</code></pre>\n\n<p>And in a Angular project I am importing like this:</p>\n\n<pre><code>import { CommonAuthModule } from '@dcp/common-auth';\nimport { environment } from '../environments/environment';\n\n@NgModule({\n declarations: [\n  AppComponent\n ],\n imports: [\n  CommonAuthModule.forRoot(environment.authConfig) // Import here\n  ...\n })\n export class AppModule { }\n</code></pre>\n\n<p>environment.authConfig is simple object</p>\n\n<pre><code>authConfig: {\n  authenticationUrl: 'https://streamworks.auth0.com/login?client=',\n  clientId: 'f98h3f3fdsousfoihohfjwe0',\n  auth0Domain: 'streamworks.auth0.com'\n}\n</code></pre>\n\n<p>And AuthServiceConfig is a simple class</p>\n\n<pre><code>export class AuthServiceConfig {\n  clientId: string = ''\n  auth0Domain: string = '';\n  authenticationUrl: string = '';\n}\n</code></pre>\n\n<p>I have seen similar issues like <a href=\"https://stackoverflow.com/questions/44723149/using-environment-variables-in-angular-node-package\">this</a> post. Is this related to AoT compiling?. I tried building the project by bypassing AoT but I still get the same error.</p>\n"}, {"tags": ["oop", "typescript"], "answers": [{"comments": [{"owner": {"reputation": 4920, "user_id": 8144405, "user_type": "registered", "accept_rate": 70, "profile_image": "https://graph.facebook.com/1430257373725355/picture?type=large", "display_name": "Sergey", "link": "https://stackoverflow.com/users/8144405/sergey"}, "edited": false, "score": 0, "creation_date": 1506538025, "post_id": 46455095, "comment_id": 79865773, "body": "But if I need to workout the same value? Firstly I should init the variable and then I need to have the ability to change it&#39;s property in future possible reasons"}, {"owner": {"reputation": 4920, "user_id": 8144405, "user_type": "registered", "accept_rate": 70, "profile_image": "https://graph.facebook.com/1430257373725355/picture?type=large", "display_name": "Sergey", "link": "https://stackoverflow.com/users/8144405/sergey"}, "edited": false, "score": 0, "creation_date": 1506538524, "post_id": 46455095, "comment_id": 79866057, "body": "Also by some reason PhpStorm doesn&#39;t say anything about these variables."}, {"owner": {"reputation": 2193, "user_id": 4598587, "user_type": "registered", "accept_rate": 69, "profile_image": "https://lh5.googleusercontent.com/-bP0d20ERDt4/AAAAAAAAAAI/AAAAAAAADCk/h8Uwp2G6ThQ/photo.jpg?sz=128", "display_name": "Daniel Khoroshko", "link": "https://stackoverflow.com/users/4598587/daniel-khoroshko"}, "edited": false, "score": 0, "creation_date": 1506539231, "post_id": 46455095, "comment_id": 79866428, "body": "Setters and getters are usually supposed to set and return a private field of a class."}, {"owner": {"reputation": 4920, "user_id": 8144405, "user_type": "registered", "accept_rate": 70, "profile_image": "https://graph.facebook.com/1430257373725355/picture?type=large", "display_name": "Sergey", "link": "https://stackoverflow.com/users/8144405/sergey"}, "reply_to_user": {"reputation": 2193, "user_id": 4598587, "user_type": "registered", "accept_rate": 69, "profile_image": "https://lh5.googleusercontent.com/-bP0d20ERDt4/AAAAAAAAAAI/AAAAAAAADCk/h8Uwp2G6ThQ/photo.jpg?sz=128", "display_name": "Daniel Khoroshko", "link": "https://stackoverflow.com/users/4598587/daniel-khoroshko"}, "edited": false, "score": 0, "creation_date": 1506539399, "post_id": 46455095, "comment_id": 79866525, "body": "@DanielKhoroshko I understand, but what about duplicating?"}, {"owner": {"reputation": 2193, "user_id": 4598587, "user_type": "registered", "accept_rate": 69, "profile_image": "https://lh5.googleusercontent.com/-bP0d20ERDt4/AAAAAAAAAAI/AAAAAAAADCk/h8Uwp2G6ThQ/photo.jpg?sz=128", "display_name": "Daniel Khoroshko", "link": "https://stackoverflow.com/users/4598587/daniel-khoroshko"}, "edited": false, "score": 0, "creation_date": 1506781538, "post_id": 46455095, "comment_id": 79961525, "body": "I&#39;ve just seen your updates, nice to know it all works now!"}, {"owner": {"reputation": 2193, "user_id": 4598587, "user_type": "registered", "accept_rate": 69, "profile_image": "https://lh5.googleusercontent.com/-bP0d20ERDt4/AAAAAAAAAAI/AAAAAAAADCk/h8Uwp2G6ThQ/photo.jpg?sz=128", "display_name": "Daniel Khoroshko", "link": "https://stackoverflow.com/users/4598587/daniel-khoroshko"}, "edited": false, "score": 0, "creation_date": 1506782135, "post_id": 46455095, "comment_id": 79961695, "body": "Maybe this fork of your pen will give you some food for thoughts <a href=\"https://codepen.io/rasdaniil/pen/JrJQre\" rel=\"nofollow noreferrer\">codepen.io/rasdaniil/pen/JrJQre</a>"}, {"owner": {"reputation": 2193, "user_id": 4598587, "user_type": "registered", "accept_rate": 69, "profile_image": "https://lh5.googleusercontent.com/-bP0d20ERDt4/AAAAAAAAAAI/AAAAAAAADCk/h8Uwp2G6ThQ/photo.jpg?sz=128", "display_name": "Daniel Khoroshko", "link": "https://stackoverflow.com/users/4598587/daniel-khoroshko"}, "edited": false, "score": 0, "creation_date": 1506782816, "post_id": 46455095, "comment_id": 79961892, "body": "But.. the simplier the better :-) <a href=\"https://codepen.io/rasdaniil/pen/eGRwLK\" rel=\"nofollow noreferrer\">codepen.io/rasdaniil/pen/eGRwLK</a>"}, {"owner": {"reputation": 2193, "user_id": 4598587, "user_type": "registered", "accept_rate": 69, "profile_image": "https://lh5.googleusercontent.com/-bP0d20ERDt4/AAAAAAAAAAI/AAAAAAAADCk/h8Uwp2G6ThQ/photo.jpg?sz=128", "display_name": "Daniel Khoroshko", "link": "https://stackoverflow.com/users/4598587/daniel-khoroshko"}, "edited": false, "score": 0, "creation_date": 1506783004, "post_id": 46455095, "comment_id": 79961951, "body": "The link before the last was supposed to be your class refactored... but I forgot to fork that pen and lost changes :-) Something like this <a href=\"https://codepen.io/rasdaniil/pen/YrQoJz?editors=1010#anon-login\" rel=\"nofollow noreferrer\">codepen.io/rasdaniil/pen/YrQoJz?editors=1010#anon-login</a>  Good luck!"}], "tags": [], "owner": {"reputation": 204459, "user_id": 390330, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/1400be56ff17549b926dd3260da4a494?s=128&d=identicon&r=PG", "display_name": "basarat", "link": "https://stackoverflow.com/users/390330/basarat"}, "is_accepted": true, "score": 1, "last_activity_date": 1506537852, "creation_date": 1506537852, "answer_id": 46455095, "question_id": 46454672, "link": "https://stackoverflow.com/questions/46454672/setter-is-invoked-before-constructor/46455095#46455095", "title": "Setter is invoked before constructor", "body": "<p>The following code (subset of yours) is a compile error:</p>\n\n<pre><code>class HelloWorld {\n    constructor(public name: string) {\n    }\n    set name(e: string) {\n        this.name = e;\n    }\n    get name(): string {\n        return this.name;\n    }\n}\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/Ajam0.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Ajam0.png\" alt=\"enter image description here\"></a></p>\n\n<p>Garbage in => Garbage out </p>\n\n<h1>Fix</h1>\n\n<p>Dont use getter / setters and properties with the same name.</p>\n"}], "owner": {"reputation": 4920, "user_id": 8144405, "user_type": "registered", "accept_rate": 70, "profile_image": "https://graph.facebook.com/1430257373725355/picture?type=large", "display_name": "Sergey", "link": "https://stackoverflow.com/users/8144405/sergey"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 111, "favorite_count": 0, "accepted_answer_id": 46455095, "answer_count": 1, "score": 0, "last_activity_date": 1506540693, "creation_date": 1506536315, "last_edit_date": 1506540693, "question_id": 46454672, "link": "https://stackoverflow.com/questions/46454672/setter-is-invoked-before-constructor", "title": "Setter is invoked before constructor", "body": "<p>I am trying to create instances of class <code>HelloWorld</code>, however it does not work. I found that problem is that setter methods called instead of constructor which should initialize variable <code>name</code>, while variable <code>welcome</code> is optional.</p>\n\n<p>I specified getters and setters for both variables. Browser's console is throwing an error about <em>maximum call stack size</em>. If I comment my getters&amp;setters it stops throwing errors.</p>\n\n<p>Could anyone explain me that strange behaviour?\nAlso there is another problem with <em>mapping</em>. I'm trying to \"return\" an array if <code>li</code> elements like in <code>React</code> by using <code>.map()</code>. It gives me the result with commas. How can I get rid of them while printing?</p>\n\n<p>This is a link to my code <a href=\"https://codepen.io/CrUsH20/pen/yzMjzL?editors=1010\" rel=\"nofollow noreferrer\">https://codepen.io/CrUsH20/pen/yzMjzL?editors=1010</a></p>\n\n<h2>Updated #1</h2>\n\n<p>I fixed the problem with getters&amp;setters by giving a <code>_</code> sign for private values.</p>\n\n<p>Now I have a problem with </p>\n\n<pre><code>function print() {\n    if (invitations) {\n        document.getElementById('result').innerHTML = invitations.map((e)=&gt; {\n            return `&lt;li&gt;${e.welcome + e.name}&lt;/li&gt;`;\n        });\n    }\n}\n</code></pre>\n\n<p>Compiler complains that <code>Type 'string[]' is not assignable to type 'string'.</code> in <code>document.getElementById('result').innerHTML</code> while type was not assigned since it is a html element</p>\n\n<h2>Update #2</h2>\n\n<p>There are solutions:\n1# About conflict with constructor and set&amp;get - I changed object's values by adding to their names <code>_</code>. It solved the conflicts.\n2# About commas - I added after <code>map</code> <code>.join('')</code> which solved my problem.</p>\n"}, {"tags": ["typescript", "npm", "rxjs"], "comments": [{"owner": {"reputation": 50474, "user_id": 6680611, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wRJqu.png?s=128&g=1", "display_name": "cartant", "link": "https://stackoverflow.com/users/6680611/cartant"}, "edited": false, "score": 0, "creation_date": 1506546855, "post_id": 46453926, "comment_id": 79870248, "body": "Create another package - for development purposes - that includes your two packages as dependencies and link them there. And your packages should have rxjs as peer dependencies."}, {"owner": {"reputation": 783, "user_id": 476065, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/97ins.png?s=128&g=1", "display_name": "pablochacin", "link": "https://stackoverflow.com/users/476065/pablochacin"}, "reply_to_user": {"reputation": 50474, "user_id": 6680611, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wRJqu.png?s=128&g=1", "display_name": "cartant", "link": "https://stackoverflow.com/users/6680611/cartant"}, "edited": false, "score": 0, "creation_date": 1506586594, "post_id": 46453926, "comment_id": 79883161, "body": "@cartant I don&#39;t see how this will solve the issue, as I will have the same issue at the new package. Maybe the issue is more related to how typescript compiler solves dependencies?"}], "owner": {"reputation": 783, "user_id": 476065, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/97ins.png?s=128&g=1", "display_name": "pablochacin", "link": "https://stackoverflow.com/users/476065/pablochacin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 57, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1506589247, "creation_date": 1506533459, "last_edit_date": 1506589247, "question_id": 46453926, "link": "https://stackoverflow.com/questions/46453926/how-to-properly-setup-npm-dependencies-for-local-typescript-development-of-two-r", "title": "How to properly setup npm dependencies for local typescript development of two related packages", "body": "<p>I'm developing two packages. One defines an interface and the other implements it. Both require a common package (rxjs).</p>\n\n<p>As I'm co-developing both packages, I want to use the interface package from the local directory, using npm link, </p>\n\n<pre><code>implementation-package\n   |- interface-package-&gt; link to inteface-package\n   |- rxjs\n\ninterface-package\n   |-rxjs\n</code></pre>\n\n<p>However, this caused me some <a href=\"https://github.com/ReactiveX/rxjs/issues/1744\" rel=\"nofollow noreferrer\">well known issues with the Observable</a>.</p>\n\n<p>I tried to define the rxjs package as a peer dependency in the interface module:</p>\n\n<pre><code>implementation-package\n   |- interface-package -&gt; link to interface package\n   |- rxjs\n\ninterface-package\n</code></pre>\n\n<p>However, now I'm having problems compiling the inteface package, because the missing dependency. </p>\n\n<pre><code>implementation-package&gt; tsc \ninterface-package/interface.ts(1,28): error TS2307: Cannot find module 'rxjs/Rx'.\n</code></pre>\n\n<p>I also tried installing the interface package into the implementation package from the interface package's folder, but the result is the same.</p>\n\n<p>The concrete question is, how do I setup such case to prevent duplicated references? May this have something to do with the typescript more than npm? </p>\n"}, {"tags": ["javascript", "json", "angular", "rest", "typescript"], "answers": [{"comments": [{"owner": {"reputation": 1867, "user_id": 6535663, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/PdSpK.png?s=128&g=1", "display_name": "David Lee", "link": "https://stackoverflow.com/users/6535663/david-lee"}, "edited": false, "score": 2, "creation_date": 1506532865, "post_id": 46453747, "comment_id": 79863081, "body": "I knew it had to be something simple I was missing, thank you.  I will mark as the correct answer as soon as it lets me."}], "tags": [], "owner": {"reputation": 7649, "user_id": 7733570, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zwdV1.jpg?s=128&g=1", "display_name": "Z. Bagley", "link": "https://stackoverflow.com/users/7733570/z-bagley"}, "is_accepted": true, "score": 6, "last_activity_date": 1506532765, "creation_date": 1506532765, "answer_id": 46453747, "question_id": 46453708, "link": "https://stackoverflow.com/questions/46453708/combine-objects-into-new-object-as-json-for-post-for-web-api-request/46453747#46453747", "title": "Combine objects into new object as json for post for web api request", "body": "<p>The problem is that you're not labeling your object items:</p>\n\n<pre><code>const body = JSON.stringify({ StudentName: student.name, TeacherName: teacher.name })\n</code></pre>\n\n<p>is the expected format.</p>\n"}], "owner": {"reputation": 1867, "user_id": 6535663, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/PdSpK.png?s=128&g=1", "display_name": "David Lee", "link": "https://stackoverflow.com/users/6535663/david-lee"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 103, "favorite_count": 1, "accepted_answer_id": 46453747, "answer_count": 1, "score": 1, "last_activity_date": 1506532890, "creation_date": 1506532598, "last_edit_date": 1506532890, "question_id": 46453708, "link": "https://stackoverflow.com/questions/46453708/combine-objects-into-new-object-as-json-for-post-for-web-api-request", "title": "Combine objects into new object as json for post for web api request", "body": "<p>I am using Angular 4 with Typescript and ASP Core with C#. I am trying to combine objects together before calling a post to my web api.  Currently I have two objects with values that I want to post as one object.</p>\n\n<p>Let say I have two interfaces</p>\n\n<pre><code>export interface Student {\n    name: string;\n}\n\nexport interface Teacher {\n    name: string;\n}\n</code></pre>\n\n<p>And I wanted my json in my body of the post to look like this as my ASP Core is expecting this as a parameter to the web api request.</p>\n\n<pre><code>{\n    \"StudentName\": \"John Doe\",\n    \"TeacherName\": \"Jane Doe\"\n}\n</code></pre>\n\n<p>I am using the following to create the json for the body but this puts it into two separate records in the json.  This also does not allow me to select specific properties if my interfaces had more than what the request required.</p>\n\n<pre><code>const body = JSON.stringify({ student, teacher });\n</code></pre>\n\n<p>Next I tried to access only the specific member variables in the JSON.stringify method, but for some reason it does not work.  In addition, if this even worked it would end up with two properties with the same name.</p>\n\n<pre><code>const body = JSON.stringify({ student.name, teacher.name });\n</code></pre>\n\n<p>I am not sure if this is a typescript, javascript or angular issue.  I tried searching online for some help but I don't think I am using the right keywords.</p>\n\n<p>Thanks in advance!</p>\n"}, {"tags": ["angular", "typescript"], "comments": [{"owner": {"reputation": 7369, "user_id": 2436655, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2f13e1ea8bbf6506462623c85acb8e32?s=128&d=identicon&r=PG&f=1", "display_name": "pzaenger", "link": "https://stackoverflow.com/users/2436655/pzaenger"}, "edited": false, "score": 0, "creation_date": 1506531295, "post_id": 46453289, "comment_id": 79862273, "body": "Do you use the <a href=\"https://cli.angular.io/\" rel=\"nofollow noreferrer\">Angular-CLI</a>?"}, {"owner": {"reputation": 894, "user_id": 933575, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/58192b64eb95b6e68db9a37ba4e466e0?s=128&d=identicon&r=PG", "display_name": "Catalyst", "link": "https://stackoverflow.com/users/933575/catalyst"}, "edited": false, "score": 1, "creation_date": 1506531349, "post_id": 46453289, "comment_id": 79862304, "body": "Can you post your code?"}, {"owner": {"reputation": 26284, "user_id": 902630, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/197e4b58d84778faacf8b33b886412af?s=128&d=identicon&r=PG", "display_name": "Matt", "link": "https://stackoverflow.com/users/902630/matt"}, "reply_to_user": {"reputation": 7369, "user_id": 2436655, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2f13e1ea8bbf6506462623c85acb8e32?s=128&d=identicon&r=PG&f=1", "display_name": "pzaenger", "link": "https://stackoverflow.com/users/2436655/pzaenger"}, "edited": false, "score": 0, "creation_date": 1506531408, "post_id": 46453289, "comment_id": 79862337, "body": "@pzaenger No I am not."}, {"owner": {"reputation": 26284, "user_id": 902630, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/197e4b58d84778faacf8b33b886412af?s=128&d=identicon&r=PG", "display_name": "Matt", "link": "https://stackoverflow.com/users/902630/matt"}, "reply_to_user": {"reputation": 894, "user_id": 933575, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/58192b64eb95b6e68db9a37ba4e466e0?s=128&d=identicon&r=PG", "display_name": "Catalyst", "link": "https://stackoverflow.com/users/933575/catalyst"}, "edited": false, "score": 0, "creation_date": 1506531456, "post_id": 46453289, "comment_id": 79862367, "body": "@Catalyst This error comes from just trying to build."}, {"owner": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 3, "creation_date": 1506531543, "post_id": 46453289, "comment_id": 79862410, "body": "It comes from trying to build <i>something</i>, so... what?"}], "answers": [{"tags": [], "owner": {"reputation": 26284, "user_id": 902630, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/197e4b58d84778faacf8b33b886412af?s=128&d=identicon&r=PG", "display_name": "Matt", "link": "https://stackoverflow.com/users/902630/matt"}, "is_accepted": false, "score": 1, "last_activity_date": 1506535672, "creation_date": 1506535672, "answer_id": 46454501, "question_id": 46453289, "link": "https://stackoverflow.com/questions/46453289/error-ts2688-cannot-find-type-definition-file-for-angular/46454501#46454501", "title": "error TS2688: Cannot find type definition file for &#39;angular&#39;", "body": "<p>I figured out what the problem was. I did not have <code>typings</code> installed.</p>\n\n<p>I ran this:</p>\n\n<pre><code>npm i -g typings\n</code></pre>\n\n<p>to install <code>typings</code> globally.</p>\n"}], "owner": {"reputation": 26284, "user_id": 902630, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/197e4b58d84778faacf8b33b886412af?s=128&d=identicon&r=PG", "display_name": "Matt", "link": "https://stackoverflow.com/users/902630/matt"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1567, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1506535672, "creation_date": 1506531125, "question_id": 46453289, "link": "https://stackoverflow.com/questions/46453289/error-ts2688-cannot-find-type-definition-file-for-angular", "title": "error TS2688: Cannot find type definition file for &#39;angular&#39;", "body": "<p>I am trying to build an Angular application and I am getting this error:</p>\n\n<blockquote>\n  <p>error TS2688: Cannot find type definition file for 'angular'</p>\n</blockquote>\n\n<p>What am I missing?</p>\n"}, {"tags": ["node.js", "angular", "typescript", "npm", "e2e-testing"], "answers": [{"tags": [], "owner": {"reputation": 1578, "user_id": 7948152, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/yYoyW.png?s=128&g=1", "display_name": "Kunvar Singh", "link": "https://stackoverflow.com/users/7948152/kunvar-singh"}, "is_accepted": false, "score": 0, "last_activity_date": 1506532207, "creation_date": 1506532207, "answer_id": 46453594, "question_id": 46452956, "link": "https://stackoverflow.com/questions/46452956/you-seem-to-not-be-depending-on-angular-core-typescript/46453594#46453594", "title": "You seem to not be depending on &quot;@angular/core&quot;. Typescript", "body": "<p>You need to remove <strong>^</strong> this, because something its get that version where the others files are effecting due to this version,</p>\n\n<p>so always use the specific version in angular.</p>\n\n<p>or you can use the following package.json here:</p>\n\n<pre><code>{\n  \"name\": \"artist-booking-app\",\n  \"version\": \"0.0.0\",\n  \"license\": \"MIT\",\n  \"scripts\": {\n    \"ng\": \"ng\",\n    \"start\": \"ng serve\",\n    \"build\": \"ng build\",\n    \"test\": \"ng test\",\n    \"lint\": \"ng lint\",\n    \"e2e\": \"ng e2e\"\n  },\n  \"private\": true,\n  \"dependencies\": {\n    \"@angular/animations\": \"4.0.0\",\n    \"@angular/common\": \"4.0.0\",\n    \"@angular/compiler\": \"4.0.0\",\n    \"@angular/core\": \"4.0.0\",\n    \"@angular/forms\": \"4.0.0\",\n    \"@angular/http\": \"4.0.0\",\n    \"@angular/platform-browser\": \"4.0.0\",\n    \"@angular/platform-browser-dynamic\": \"4.0.0\",\n    \"@angular/router\": \"4.0.0\",\n    \"angular2-toaster\": \"^4.0.1\",\n    \"bootstrap\": \"3.3.7\",\n    \"core-js\": \"2.4.1\",\n    \"jquery\": \"3.2.1\",\n    \"ng2-scroll-to-el\": \"^1.0.0\",\n\n    \"primeng\": \"^4.1.3\",\n    \"rxjs\": \"5.4.1\",\n    \"zone.js\": \"0.8.14\"\n  },\n  \"devDependencies\": {\n    \"@angular/cli\": \"1.2.6\",\n    \"@angular/compiler-cli\": \"4.0.0\",\n    \"@angular/language-service\": \"4.0.0\",\n    \"@types/jasmine\": \"2.5.53\",\n    \"@types/jasminewd2\": \"2.0.2\",\n    \"@types/node\": \"6.0.60\",\n    \"codelyzer\": \"3.0.1\",\n    \"jasmine-core\": \"2.6.2\",\n    \"jasmine-spec-reporter\": \"4.1.0\",\n    \"karma\": \"1.7.0\",\n    \"karma-chrome-launcher\": \"2.1.1\",\n    \"karma-cli\": \"1.0.1\",\n    \"karma-coverage-istanbul-reporter\": \"1.2.1\",\n    \"karma-jasmine\": \"1.1.0\",\n    \"karma-jasmine-html-reporter\": \"0.2.2\",\n    \"protractor\": \"5.1.2\",\n    \"ts-node\": \"3.0.4\",\n    \"tslint\": \"5.3.2\",\n    \"typescript\": \"2.3.3\"\n  }\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 181, "user_id": 7921312, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/11e6fc4094f23a9a1f20d82c02cc56c1?s=128&d=identicon&r=PG&f=1", "display_name": "danio900409", "link": "https://stackoverflow.com/users/7921312/danio900409"}, "edited": false, "score": 0, "creation_date": 1506539769, "post_id": 46454857, "comment_id": 79866716, "body": "npm WARN deprecated minimatch@2.0.10: Please update to minimatch 3.0.2 or higher to avoid a RegExp DoS issue npm WARN deprecated minimatch@0.2.14: Please update to minimatch 3.0.2 or higher to avoid a RegExp DoS issue npm WARN deprecated graceful-fs@1.2.3: graceful-fs v3.0.0 and before will fail on node releases &gt;= v7.0. Please update to graceful-fs@^4.0.0 as soon as possible. Use &#39;npm ls graceful-fs&#39; to find it in the tree."}, {"owner": {"reputation": 181, "user_id": 7921312, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/11e6fc4094f23a9a1f20d82c02cc56c1?s=128&d=identicon&r=PG&f=1", "display_name": "danio900409", "link": "https://stackoverflow.com/users/7921312/danio900409"}, "edited": false, "score": 0, "creation_date": 1506539779, "post_id": 46454857, "comment_id": 79866723, "body": "npm WARN deprecated @types/date-fns@2.6.0: This is a stub types definition for date-fns (<a href=\"https://github.com/date-fns/date-fns\" rel=\"nofollow noreferrer\">github.com/date-fns/date-fns</a>). date-fns provides its own type definitions, so you don&#39;t need @types/date-fns installed! npm WARN ngx-dropdown@0.0.22 requires a peer of @angular/core@^2.0.0 but none is installed. You must install peer dependencies yourself.  npm ERR! code EINTEGRITY npm ERR! sha1-OWxKW/sihH+eRYJFuplfnBMMDPM= integrity checksum failed when using sha1: wanted sha1-OWxKW/sihH+eRYJFuplfnBMMDPM= but got sha1-bvi87/W75iTIMcYNmjbLWU5LxCw=. (360058 bytes)"}, {"owner": {"reputation": 651, "user_id": 6606805, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mTTed.jpg?s=128&g=1", "display_name": "Bartek Cichocki", "link": "https://stackoverflow.com/users/6606805/bartek-cichocki"}, "reply_to_user": {"reputation": 181, "user_id": 7921312, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/11e6fc4094f23a9a1f20d82c02cc56c1?s=128&d=identicon&r=PG&f=1", "display_name": "danio900409", "link": "https://stackoverflow.com/users/7921312/danio900409"}, "edited": false, "score": 0, "creation_date": 1506545007, "post_id": 46454857, "comment_id": 79869442, "body": "hmm, I edited and added two more lines which you could try."}, {"owner": {"reputation": 651, "user_id": 6606805, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mTTed.jpg?s=128&g=1", "display_name": "Bartek Cichocki", "link": "https://stackoverflow.com/users/6606805/bartek-cichocki"}, "reply_to_user": {"reputation": 181, "user_id": 7921312, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/11e6fc4094f23a9a1f20d82c02cc56c1?s=128&d=identicon&r=PG&f=1", "display_name": "danio900409", "link": "https://stackoverflow.com/users/7921312/danio900409"}, "edited": false, "score": 0, "creation_date": 1506545087, "post_id": 46454857, "comment_id": 79869489, "body": "and eventually - if you work on Windows and have some antivirus try to disable it."}], "tags": [], "owner": {"reputation": 651, "user_id": 6606805, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mTTed.jpg?s=128&g=1", "display_name": "Bartek Cichocki", "link": "https://stackoverflow.com/users/6606805/bartek-cichocki"}, "is_accepted": false, "score": 1, "last_activity_date": 1506544940, "last_edit_date": 1506544940, "creation_date": 1506537002, "answer_id": 46454857, "question_id": 46452956, "link": "https://stackoverflow.com/questions/46452956/you-seem-to-not-be-depending-on-angular-core-typescript/46454857#46454857", "title": "You seem to not be depending on &quot;@angular/core&quot;. Typescript", "body": "<p>Try to remove <code>node_modules</code> folder, <code>package-lock.json</code> file and then run:</p>\n\n<pre><code>npm cache clean --force\nnpm cache verify\nnpm i\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1178, "user_id": 9006431, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-0dZvEYs5E5k/AAAAAAAAAAI/AAAAAAAAABM/bKGxWc1QM8M/photo.jpg?sz=128", "display_name": "fiza khan", "link": "https://stackoverflow.com/users/9006431/fiza-khan"}, "reply_to_user": {"reputation": 9051, "user_id": 3128926, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/49585a8acd529befbc93a9e1be85ca45?s=128&d=identicon&r=PG", "display_name": "Levent Divilioglu", "link": "https://stackoverflow.com/users/3128926/levent-divilioglu"}, "edited": false, "score": 2, "creation_date": 1531458142, "post_id": 47549806, "comment_id": 89611731, "body": "This command will update all the packages listed to the latest version as well as it will also install the missing packages."}], "tags": [], "owner": {"reputation": 1178, "user_id": 9006431, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-0dZvEYs5E5k/AAAAAAAAAAI/AAAAAAAAABM/bKGxWc1QM8M/photo.jpg?sz=128", "display_name": "fiza khan", "link": "https://stackoverflow.com/users/9006431/fiza-khan"}, "is_accepted": false, "score": 4, "last_activity_date": 1511949314, "creation_date": 1511949314, "answer_id": 47549806, "question_id": 46452956, "link": "https://stackoverflow.com/questions/46452956/you-seem-to-not-be-depending-on-angular-core-typescript/47549806#47549806", "title": "You seem to not be depending on &quot;@angular/core&quot;. Typescript", "body": "<p>I encountered the same issue to resolve this all you need to do is to</p>\n\n<pre><code>cd &lt;project_name&gt;\n</code></pre>\n\n<p>and then run the following command:</p>\n\n<pre><code>npm update\n</code></pre>\n\n<p>and than the project will be succesfully compiled.</p>\n"}, {"tags": [], "owner": {"reputation": 21, "user_id": 5068291, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-HFUGyiMED6Y/AAAAAAAAAAI/AAAAAAAABPU/Wne7Sv4aBBM/photo.jpg?sz=128", "display_name": "Ananthi R", "link": "https://stackoverflow.com/users/5068291/ananthi-r"}, "is_accepted": false, "score": 1, "last_activity_date": 1525323513, "creation_date": 1525323513, "answer_id": 50147224, "question_id": 46452956, "link": "https://stackoverflow.com/questions/46452956/you-seem-to-not-be-depending-on-angular-core-typescript/50147224#50147224", "title": "You seem to not be depending on &quot;@angular/core&quot;. Typescript", "body": "<p>This error occurred in my case when my node_modules folder is empty otherwise it will have bunch of folders inside. I used the \"ng link\" command to work it out. </p>\n\n<p>My project name is Pipes, and my command prompt looks like this:</p>\n\n<p>Pipes$ npm link</p>\n\n<p>And finally you can execute ng serve to check it out</p>\n"}, {"tags": [], "owner": {"reputation": 1415, "user_id": 6192504, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-ghYB9GxeYUA/AAAAAAAAAAI/AAAAAAAAABM/NZK75NPbadQ/photo.jpg?sz=128", "display_name": "Sunil Kumar Sahu", "link": "https://stackoverflow.com/users/6192504/sunil-kumar-sahu"}, "is_accepted": false, "score": 3, "last_activity_date": 1526444845, "creation_date": 1526444845, "answer_id": 50362469, "question_id": 46452956, "link": "https://stackoverflow.com/questions/46452956/you-seem-to-not-be-depending-on-angular-core-typescript/50362469#50362469", "title": "You seem to not be depending on &quot;@angular/core&quot;. Typescript", "body": "<p>I have also faced the same issue while executing below command.</p>\n\n<pre><code>D:\\My_Project&gt;ng serve\n</code></pre>\n\n<p>Then I have followed below steps and it worked for me.</p>\n\n<pre><code>D:\\My_Project&gt;npm link\nD:\\My_Project&gt;ng serve\n</code></pre>\n\n<p>Keep trying, good luck :)</p>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 15292420, "user_type": "unregistered", "profile_image": "https://www.gravatar.com/avatar/4f18047600882476b5747d50c7c8ed35?s=128&d=identicon&r=PG", "display_name": "Ener50", "link": "https://stackoverflow.com/users/15292420/ener50"}, "is_accepted": false, "score": 0, "last_activity_date": 1614433269, "last_edit_date": 1614433269, "creation_date": 1614367413, "answer_id": 66391666, "question_id": 46452956, "link": "https://stackoverflow.com/questions/46452956/you-seem-to-not-be-depending-on-angular-core-typescript/66391666#66391666", "title": "You seem to not be depending on &quot;@angular/core&quot;. Typescript", "body": "<p>Run this:</p>\n<pre><code>npm install @angular/core;\n</code></pre>\n<p>Then delete this file: <code>node_modules/@angular/compiler-cli/ngcc/__ngcc_lock_file__</code></p>\n<p>And try to reload your ng server.</p>\n"}], "owner": {"reputation": 181, "user_id": 7921312, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/11e6fc4094f23a9a1f20d82c02cc56c1?s=128&d=identicon&r=PG&f=1", "display_name": "danio900409", "link": "https://stackoverflow.com/users/7921312/danio900409"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 20672, "favorite_count": 1, "answer_count": 6, "score": 6, "last_activity_date": 1614433269, "creation_date": 1506529912, "last_edit_date": 1506533552, "question_id": 46452956, "link": "https://stackoverflow.com/questions/46452956/you-seem-to-not-be-depending-on-angular-core-typescript", "title": "You seem to not be depending on &quot;@angular/core&quot;. Typescript", "body": "<p>I'm trying to run a command at npm start, but I get the message: \"You seem to be not dependent on\" @angular/core \". This is an error.\nWhat could be the reason?\nAs it writes in the console: npm @angular/core -v it gets 5.4.2</p>\n\n<p>My package.json</p>\n\n<pre><code>\"dependencies\": {\n\"@angular/animations\": \"^4.4.3\",\n\"@angular/common\": \"^4.4.3\",\n\"@angular/compiler\": \"^4.4.3\",\n\"@angular/core\": \"^4.4.3\",\n\"@angular/forms\": \"^4.4.3\",\n\"@angular/http\": \"^4.4.3\",\n\"@angular/platform-browser\": \"^4.4.3\",\n\"@angular/platform-browser-dynamic\": \"^4.4.3\",\n\"@angular/router\": \"^4.4.3\",\n\"applicationinsights-js\": \"^1.0.12\",\n\"core-js\": \"^2.4.1\",\n\"date-fns\": \"^1.28.5\",\n\"deepmerge\": \"^1.5.1\",\n\"fingerprintjs2\": \"^1.5.1\",\n\"ng2-page-scroll\": \"^4.0.0-beta.9\",\n\"ngx-mydatepicker\": \"2.1.2\",\n\"rxjs\": \"^5.1.0\",\n\"zone.js\": \"^0.8.12\"\n},\n\"devDependencies\": {\n\"@angular/cli\": \"^1.4.2\",\n\"@angular/compiler-cli\": \"^4.4.3\",\n\"@angular/language-service\": \"^4.4.3\",\n\"@types/applicationinsights-js\": \"^1.0.4\",\n\"@types/deepmerge\": \"^1.3.2\",\n\"@types/jasmine\": \"~2.5.53\",\n\"@types/jasminewd2\": \"~2.0.2\",\n\"@types/node\": \"~6.0.60\",\n\"codelyzer\": \"~3.0.1\",\n\"gulp\": \"^3.9.1\",\n\"gulp-deploy-git\": \"^0.5.3\",\n\"gulp-replace\": \"^0.6.1\",\n\"husky\": \"^0.14.3\",\n\"jasmine-core\": \"~2.6.2\",\n\"jasmine-spec-reporter\": \"~4.1.0\",\n\"karma\": \"~1.7.0\",\n\"karma-chrome-launcher\": \"~2.1.1\",\n\"karma-cli\": \"~1.0.1\",\n\"karma-coverage-istanbul-reporter\": \"^1.2.1\",\n\"karma-jasmine\": \"~1.1.0\",\n\"karma-jasmine-html-reporter\": \"^0.2.2\",\n\"lint-staged\": \"^4.0.3\",\n\"prettier\": \"^1.5.3\",\n\"protractor\": \"^5.1.2\",\n\"run-sequence\": \"^2.1.0\",\n\"ts-node\": \"~3.2.0\",\n\"tslint\": \"~5.7.0\",\n\"typescript\": \"^2.5.2\"\n}\n</code></pre>\n"}, {"tags": ["typescript", "typescript-typings"], "comments": [{"owner": {"reputation": 25033, "user_id": 1113002, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CgW7b.png?s=128&g=1", "display_name": "Aleksey L.", "link": "https://stackoverflow.com/users/1113002/aleksey-l"}, "edited": false, "score": 0, "creation_date": 1506532900, "post_id": 46452938, "comment_id": 79863098, "body": "Using string enum could simplify the whole thing"}, {"owner": {"reputation": 3278, "user_id": 1595858, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/7956fba76df0f2173817fb88df7168b5?s=128&d=identicon&r=PG", "display_name": "user1595858", "link": "https://stackoverflow.com/users/1595858/user1595858"}, "reply_to_user": {"reputation": 25033, "user_id": 1113002, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CgW7b.png?s=128&g=1", "display_name": "Aleksey L.", "link": "https://stackoverflow.com/users/1113002/aleksey-l"}, "edited": false, "score": 0, "creation_date": 1506555117, "post_id": 46452938, "comment_id": 79872819, "body": "can you comment using enum?"}], "answers": [{"comments": [{"owner": {"reputation": 3278, "user_id": 1595858, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/7956fba76df0f2173817fb88df7168b5?s=128&d=identicon&r=PG", "display_name": "user1595858", "link": "https://stackoverflow.com/users/1595858/user1595858"}, "edited": false, "score": 0, "creation_date": 1506555176, "post_id": 46456970, "comment_id": 79872834, "body": "the reason I wouldn&#39;t like to add <code>PR.FACEBOOK</code> is to automatically populate providers from json file."}, {"owner": {"reputation": 204677, "user_id": 75525, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/IYU63.png?s=128&g=1", "display_name": "Fenton", "link": "https://stackoverflow.com/users/75525/fenton"}, "reply_to_user": {"reputation": 3278, "user_id": 1595858, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/7956fba76df0f2173817fb88df7168b5?s=128&d=identicon&r=PG", "display_name": "user1595858", "link": "https://stackoverflow.com/users/1595858/user1595858"}, "edited": false, "score": 0, "creation_date": 1506589003, "post_id": 46456970, "comment_id": 79884815, "body": "That should work. <code>PR.FACEBOOK</code> is just the string &#39;FACEBOOK&#39; so it will serialize and deserialize as I think you want."}], "tags": [], "owner": {"reputation": 204677, "user_id": 75525, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/IYU63.png?s=128&g=1", "display_name": "Fenton", "link": "https://stackoverflow.com/users/75525/fenton"}, "is_accepted": false, "score": 0, "last_activity_date": 1506545261, "creation_date": 1506545261, "answer_id": 46456970, "question_id": 46452938, "link": "https://stackoverflow.com/questions/46452938/type-to-be-send-as-string/46456970#46456970", "title": "type to be send as string", "body": "<p>To use your example, you could use your <code>PR</code>map, like this:</p>\n\n<pre><code>type P = 'FACEBOOK' | 'GOOGLE' | 'JWT';\n\ntype Unio&lt;U extends string&gt; = {\n    [K in U]: K\n};\n\nconst PR: Unio&lt;P&gt; = {\n    FACEBOOK: 'FACEBOOK',\n    GOOGLE: 'GOOGLE',\n    JWT: 'JWT',\n};\n\nconst providers: Map&lt;(keyof typeof PR), any&gt; = new Map([\n    [\n        PR.FACEBOOK, {clientID: '', clientSecret: '' },\n    ],\n]);\n</code></pre>\n\n<p>Notes: <code>'FACEBOOK' !== 'facebook'</code> - so I have used the same casing in both areas.</p>\n"}, {"tags": [], "owner": {"reputation": 25033, "user_id": 1113002, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CgW7b.png?s=128&g=1", "display_name": "Aleksey L.", "link": "https://stackoverflow.com/users/1113002/aleksey-l"}, "is_accepted": false, "score": 0, "last_activity_date": 1506576391, "creation_date": 1506576391, "answer_id": 46461567, "question_id": 46452938, "link": "https://stackoverflow.com/questions/46452938/type-to-be-send-as-string/46461567#46461567", "title": "type to be send as string", "body": "<p>This not answers your question, but because you asked for example with enum. I'm posting it here as it will not fit the comment space:</p>\n\n<pre><code>enum PR {\n    FACEBOOK = 'FACEBOOK',\n    GOOGLE = 'GOOGLE',\n    JWT = 'JWT',\n};\n\nconst providers: Map&lt;PR, any&gt; = new Map([\n    [\n        PR.FACEBOOK, { },\n    ],\n]);\n</code></pre>\n"}], "owner": {"reputation": 3278, "user_id": 1595858, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/7956fba76df0f2173817fb88df7168b5?s=128&d=identicon&r=PG", "display_name": "user1595858", "link": "https://stackoverflow.com/users/1595858/user1595858"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 50, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1506576391, "creation_date": 1506529872, "last_edit_date": 1506531038, "question_id": 46452938, "link": "https://stackoverflow.com/questions/46452938/type-to-be-send-as-string", "title": "type to be send as string", "body": "<p>I'm playing with below valid types.</p>\n\n<pre><code>type P = 'FACEBOOK' | 'GOOGLE' | 'JWT';\n\ntype Unio&lt;U extends string&gt; = {\n    [K in U]: K\n};\n\nconst PR: Unio&lt;P&gt; = {\n    FACEBOOK: 'facebook',\n    GOOGLE: 'google',\n    JWT: 'jwt',\n};\n\nconst providers: Map&lt;(keyof typeof PR), IOAuthProvider&gt; = new Map([\n    [\n        'FACEBOOK' as P, {\n            clientID: process.env.FACEBOOK_CLIENT_ID,\n            clientSecret: process.env.FACEBOOK_CLIENT_SECRET,\n        },\n    ],\n]);\n</code></pre>\n\n<p>What my expectation, is not to throw any type error if I remove <code>as P</code> as shown below. I want to remove it just to save extra typings. </p>\n\n<pre><code>const providers: Map&lt;(keyof typeof PR), IOAuthProvider&gt; = new Map([\n    [\n        'FACEBOOK', {\n            clientID: process.env.FACEBOOK_CLIENT_ID,\n            clientSecret: process.env.FACEBOOK_CLIENT_SECRET,\n        },\n    ],\n]);\n</code></pre>\n\n<p>But errors are thrown as below. </p>\n\n<pre><code>[ts]\nType 'Map&lt;string, { clientID: string; clientSecret: string; }&gt;' is not assignable to type 'Map&lt;P, IOAuthProvider&gt;'.\n  Type 'string' is not assignable to type 'P'.\n</code></pre>\n"}, {"tags": ["node.js", "oracle", "typescript", "npm", "promise"], "comments": [{"owner": {"reputation": 1779, "user_id": 3515709, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/688dee05dc3f6c573c0f78a6e5c8bfcd?s=128&d=identicon&r=PG", "display_name": "Cyrille MODIANO", "link": "https://stackoverflow.com/users/3515709/cyrille-modiano"}, "edited": false, "score": 0, "creation_date": 1506529627, "post_id": 46452844, "comment_id": 79861410, "body": "can you share the content of config.oracle.connectString"}, {"owner": {"reputation": 4054, "user_id": 3010084, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/62d96a62b3f31cb7fd44f92f32108b7b?s=128&d=identicon&r=PG", "display_name": "Dan McGhan", "link": "https://stackoverflow.com/users/3010084/dan-mcghan"}, "edited": false, "score": 0, "creation_date": 1506972635, "post_id": 46452844, "comment_id": 80019435, "body": "I see this is already answered, but this post may be helpful too: <a href=\"https://jsao.io/2017/07/how-to-get-use-and-close-a-db-connection-using-async-functions/\" rel=\"nofollow noreferrer\">jsao.io/2017/07/&hellip;</a>"}], "answers": [{"comments": [{"owner": {"reputation": 5781, "user_id": 1427798, "user_type": "registered", "accept_rate": 59, "profile_image": "https://i.stack.imgur.com/iTN8X.png?s=128&g=1", "display_name": "An-droid", "link": "https://stackoverflow.com/users/1427798/an-droid"}, "edited": false, "score": 0, "creation_date": 1506585586, "post_id": 46453120, "comment_id": 79882496, "body": "Your response is actually really good, I&#39;m new using nodejs and promises and this kind of simplification makes sens. I&#39;ll it thanks."}], "tags": [], "owner": {"reputation": 16668, "user_id": 1093582, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/01f887ab254add21843d8fce48da8d09?s=128&d=identicon&r=PG", "display_name": "alexmac", "link": "https://stackoverflow.com/users/1093582/alexmac"}, "is_accepted": true, "score": 3, "last_activity_date": 1506530872, "last_edit_date": 1506530872, "creation_date": 1506530531, "answer_id": 46453120, "question_id": 46452844, "link": "https://stackoverflow.com/questions/46452844/requesting-to-oracle-with-nodejs-using-promises/46453120#46453120", "title": "Requesting to oracle with nodejs using promises", "body": "<p>You should add <code>await</code> keyword in <code>executeBlockFunction</code> function, or remove <code>async</code> keyword and return result:</p>\n\n<p>Solution 1:</p>\n\n<pre><code>async executeBlockFunction(block: any, bindVars: any): Promise&lt;any&gt; {\n    await oracledb.getConnection(...)\n</code></pre>\n\n<p>Solution 2:</p>\n\n<pre><code>executeBlockFunction(block: any, bindVars: any): Promise&lt;any&gt; {\n    return oracledb.getConnection(...)\n</code></pre>\n\n<p>Or, so as you already using <code>async/await</code> you can refactor/simplify your code:</p>\n\n<pre><code>async executeBlockFunction(block: any, bindVars: any): Promise&lt;any&gt; {\n  try {\n    let connection = await oracledb.getConnection({\n      user: config.oracle.user,\n      password: config.oracle.password,\n      connectString: config.oracle.connectString,\n    });\n    logger.info(`--&gt; connected`);\n\n    let result = await connection.execute(block, bindVars);\n    logger.info(`--&gt; ` + result.rows);\n\n    return result;\n  } catch (err) {\n    logger.info(`--&gt; ` + error.message);\n    throw new OracleError(err));\n  } finally {\n    return connection.close();\n  }\n}\n</code></pre>\n"}], "owner": {"reputation": 5781, "user_id": 1427798, "user_type": "registered", "accept_rate": 59, "profile_image": "https://i.stack.imgur.com/iTN8X.png?s=128&g=1", "display_name": "An-droid", "link": "https://stackoverflow.com/users/1427798/an-droid"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 869, "favorite_count": 0, "accepted_answer_id": 46453120, "answer_count": 1, "score": 0, "last_activity_date": 1506585390, "creation_date": 1506529485, "last_edit_date": 1506585390, "question_id": 46452844, "link": "https://stackoverflow.com/questions/46452844/requesting-to-oracle-with-nodejs-using-promises", "title": "Requesting to oracle with nodejs using promises", "body": "<p>I'm trying to execute a block function in oracle in nodejs but I get no response and this after 10sec : </p>\n\n<pre><code>UnhandledPromiseRejectionWarning: Unhandled promise rejection (rejection id: 1): Error: Mauvaise requ\u00eate: Error: ORA-12170: TNS:Connect timeout occurred\n</code></pre>\n\n<p>In the meantime the code continued to execute. Here is my workflow : </p>\n\n<pre><code>const jwtTokenResponse: any = await authService.userLogin(req.body);\n</code></pre>\n\n<p>then in userLogin</p>\n\n<pre><code>const result = await oracleHelper.executeBlockFunction(block, bindVars);\n</code></pre>\n\n<p>and finally the function : </p>\n\n<pre><code>  async executeBlockFunction(block: any, bindVars: any): Promise&lt;any&gt; {\n\n    logger.info(`--&gt; ` + 'executeBlockFunction : ' + config.oracle.user + ' / ');\n    logger.info(`--&gt; ` + 'executeBlockFunction : ' + config.oracle.password + ' / ');\n    logger.info(`--&gt; ` + 'executeBlockFunction : ' + config.oracle.connectString + ' / ');\n    oracledb.getConnection(\n      {\n        user: config.oracle.user,\n        password: config.oracle.password,\n        connectString: config.oracle.connectString,\n      }).then(function (connection) {\n      logger.info(`--&gt; connected`);\n      return connection.execute(\n        block,\n        bindVars,\n      ).then(function (result) {\n        logger.info(`--&gt; ` + result.rows);\n        return connection.close();\n      }).catch(function (error) {\n        logger.info(`--&gt; ` + error.message);\n        return connection.close();\n      });\n    }).catch(function (error) {\n      throw new OracleError(\n        new Error(error),\n      );\n    });\n  }\n</code></pre>\n\n<p>As you can see I checked the entries, everything is fine before <code>oracledb.getConnection</code> after that I don't understand what is happenning</p>\n\n<p>Can someone Help me with this ?</p>\n\n<p>EDIT : </p>\n\n<p>For information <code>executeBlockFunction</code> content was taken from oracleDb npm documentation : </p>\n\n<blockquote>\n  <p><a href=\"https://github.com/oracle/node-oracledb/blob/master/doc/api.md#promiseoverview\" rel=\"nofollow noreferrer\">Oracle documentation link</a></p>\n</blockquote>\n"}, {"tags": ["typescript"], "comments": [{"owner": {"reputation": 112977, "user_id": 390278, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/84715fec547362389d02f5be0ed12814?s=128&d=identicon&r=PG", "display_name": "Jeff Mercado", "link": "https://stackoverflow.com/users/390278/jeff-mercado"}, "edited": false, "score": 1, "creation_date": 1506529096, "post_id": 46452631, "comment_id": 79861106, "body": "Ok... what&#39;s the error?"}], "answers": [{"tags": [], "owner": {"reputation": 112977, "user_id": 390278, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/84715fec547362389d02f5be0ed12814?s=128&d=identicon&r=PG", "display_name": "Jeff Mercado", "link": "https://stackoverflow.com/users/390278/jeff-mercado"}, "is_accepted": true, "score": 1, "last_activity_date": 1506529214, "creation_date": 1506529214, "answer_id": 46452754, "question_id": 46452631, "link": "https://stackoverflow.com/questions/46452631/is-it-possible-to-define-a-class-property-with-predefined-string-literal-types-i/46452754#46452754", "title": "Is it possible to define a class property with predefined string literal types in Typescript", "body": "<p>Those constants are all variables with values that happen to be strings. You're trying to use them as types.  They're not types, so define it.</p>\n\n<pre><code>const AUDIENCE_ALL_COMPANY = 'all_company';\nconst AUDIENCE_SITE = 'site';\nconst AUDIENCE_DEPARTMENT = 'department';\n\ntype AUDIENCE_ALL_COMPANY = typeof AUDIENCE_ALL_COMPANY;\ntype AUDIENCE_SITE = typeof AUDIENCE_SITE;\ntype AUDIENCE_DEPARTMENT = typeof AUDIENCE_DEPARTMENT;\n\nexport class Post {\n    readonly audienceType: AUDIENCE_ALL_COMPANY | AUDIENCE_SITE | AUDIENCE_DEPARTMENT;\n}\n</code></pre>\n"}], "owner": {"reputation": 424, "user_id": 4083279, "user_type": "registered", "accept_rate": 40, "profile_image": "https://lh3.googleusercontent.com/-WjZIk58zZEg/AAAAAAAAAAI/AAAAAAAAAJY/dtIbDutLAa8/photo.jpg?sz=128", "display_name": "ofer2980", "link": "https://stackoverflow.com/users/4083279/ofer2980"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 26, "favorite_count": 0, "accepted_answer_id": 46452754, "answer_count": 1, "score": 0, "last_activity_date": 1506529214, "creation_date": 1506528799, "question_id": 46452631, "link": "https://stackoverflow.com/questions/46452631/is-it-possible-to-define-a-class-property-with-predefined-string-literal-types-i", "title": "Is it possible to define a class property with predefined string literal types in Typescript", "body": "<p>I\u2019m trying to achieve the following in Typescript, but keep getting a compilation error:</p>\n\n<pre><code>const AUDIENCE_ALL_COMPANY = 'all_company'\nconst AUDIENCE_SITE = 'site'\nconst AUDIENCE_DEPARTMENT = 'department'\n\nexport class Post {\n  readonly audienceType: AUDIENCE_ALL_COMPANY | AUDIENCE_SITE | AUDIENCE_DEPARTMENT\n\n   ...\n}\n</code></pre>\n\n<p>Is it possible to do achieve my goal here in Typescript?</p>\n"}, {"tags": ["javascript", "typescript", "visual-studio-code"], "comments": [{"owner": {"reputation": 1301, "user_id": 8599991, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/0fad7af0f28a27dec223ef5c8c9e7907?s=128&d=identicon&r=PG&f=1", "display_name": "rjustin", "link": "https://stackoverflow.com/users/8599991/rjustin"}, "edited": false, "score": 0, "creation_date": 1506528678, "post_id": 46452553, "comment_id": 79860864, "body": "source maps are for the browser to debug I am not sure if Vs Code can debug without additional work"}, {"owner": {"reputation": 1944, "user_id": 4120554, "user_type": "registered", "accept_rate": 73, "profile_image": "https://lh5.googleusercontent.com/-RKmmNTC8iUo/AAAAAAAAAAI/AAAAAAAAAGs/oQQp9tU-Zb4/photo.jpg?sz=128", "display_name": "Marco Talento", "link": "https://stackoverflow.com/users/4120554/marco-talento"}, "edited": false, "score": 0, "creation_date": 1506542215, "post_id": 46452553, "comment_id": 79868035, "body": "Can you show your <code>tsconfig.json</code> ?"}, {"owner": {"reputation": 51, "user_id": 8683978, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yeSsW.jpg?s=128&g=1", "display_name": "Darryl", "link": "https://stackoverflow.com/users/8683978/darryl"}, "edited": false, "score": 0, "creation_date": 1506607948, "post_id": 46452553, "comment_id": 79897717, "body": "{     &quot;compilerOptions&quot;: {         &quot;target&quot;: &quot;es6&quot;,         &quot;module&quot;: &quot;commonjs&quot;,         &quot;sourceMap&quot;: true     } }"}], "answers": [{"comments": [{"owner": {"reputation": 51, "user_id": 8683978, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yeSsW.jpg?s=128&g=1", "display_name": "Darryl", "link": "https://stackoverflow.com/users/8683978/darryl"}, "edited": false, "score": 0, "creation_date": 1507199977, "post_id": 46453069, "comment_id": 80120017, "body": "I think there is more to it than simply having a context in which chrome can execute the javascript, but I think you are correct that this part is also not functional because the browser cant just run the program directly."}], "tags": [], "owner": {"reputation": 11946, "user_id": 129895, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/hQxW8.png?s=128&g=1", "display_name": "Rob Lourens", "link": "https://stackoverflow.com/users/129895/rob-lourens"}, "is_accepted": false, "score": 0, "last_activity_date": 1506530310, "creation_date": 1506530310, "answer_id": 46453069, "question_id": 46452553, "link": "https://stackoverflow.com/questions/46452553/source-maps-not-found-in-visual-studio-code-typescript-debugging/46453069#46453069", "title": "Source maps not found in Visual Studio Code typescript debugging", "body": "<p>Chrome can't run just a .js (or .ts) file alone. You need to set <code>file</code> to the path of an html file, or start a webserver and set <code>url</code> to its url.</p>\n"}], "owner": {"reputation": 51, "user_id": 8683978, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yeSsW.jpg?s=128&g=1", "display_name": "Darryl", "link": "https://stackoverflow.com/users/8683978/darryl"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1400, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1506530310, "creation_date": 1506528538, "question_id": 46452553, "link": "https://stackoverflow.com/questions/46452553/source-maps-not-found-in-visual-studio-code-typescript-debugging", "title": "Source maps not found in Visual Studio Code typescript debugging", "body": "<p>I am trying to debug a simple Hello World typescript file.  When I set a breakpoint, VS Code cannot find the source map, even though it is in the same directory.  I am launching Chrome for this.  My launch.json file:</p>\n\n<pre><code>{\n    \"version\": \"0.2.0\",\n    \"configurations\": [\n        {\n            \"name\": \"Launch with Chrome\",\n            \"type\": \"chrome\",\n            \"request\": \"launch\",\n            \"sourceMaps\": true,\n            \"file\": \"${workspaceRoot}/HelloWorld.ts\"\n        }\n    ]\n}\n</code></pre>\n\n<p>I have tried various tricks such as starting the debugging session and then setting a breakpoint, and making sure there are no instances of chrome running when I debug.</p>\n\n<p>Here is the map file:</p>\n\n<pre><code>{\"version\":3,\"file\":\"HelloWorld.js\",\"sourceRoot\":\"\",\"sources\":[\"HelloWorld.ts\"],\"names\":[],\"mappings\":\"AAAA;IACW,MAAM,CAAC,IAAI;QACd,OAAO,CAAC,GAAG,CAAC,aAAa,CAAC,CAAC;QAC3B,MAAM,CAAC,CAAC,CAAC;IACb,CAAC;CACJ;AAED,OAAO,CAAC,IAAI,EAAE,CAAC\"}\n</code></pre>\n\n<p>My hello world .ts file:</p>\n\n<pre><code>class Startup {\npublic static main(): number {\n    console.log('Hello World');\n    return 0;\n}\n\n}\n\nStartup.main();\n</code></pre>\n\n<p>I am not sure what else to do to get Code to process the map properly.</p>\n"}, {"tags": ["angular", "typescript", "ecmascript-6", "angular-forms"], "comments": [{"owner": {"reputation": 1301, "user_id": 8599991, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/0fad7af0f28a27dec223ef5c8c9e7907?s=128&d=identicon&r=PG&f=1", "display_name": "rjustin", "link": "https://stackoverflow.com/users/8599991/rjustin"}, "edited": false, "score": 0, "creation_date": 1506528352, "post_id": 46452413, "comment_id": 79860638, "body": "This may just be improving the regex youre using."}, {"owner": {"reputation": 515, "user_id": 8569366, "user_type": "registered", "accept_rate": 21, "profile_image": "https://lh4.googleusercontent.com/-8Gxa10nX2mU/AAAAAAAAAAI/AAAAAAAAACw/bgS0-aPfVoo/photo.jpg?sz=128", "display_name": "SONGSTER", "link": "https://stackoverflow.com/users/8569366/songster"}, "reply_to_user": {"reputation": 1301, "user_id": 8599991, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/0fad7af0f28a27dec223ef5c8c9e7907?s=128&d=identicon&r=PG&f=1", "display_name": "rjustin", "link": "https://stackoverflow.com/users/8599991/rjustin"}, "edited": false, "score": 0, "creation_date": 1506528427, "post_id": 46452413, "comment_id": 79860697, "body": "ive tried many other regex as well but its accepting characters as well not just numbers. If you could suggest a pattern, ill try it"}, {"owner": {"reputation": 1301, "user_id": 8599991, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/0fad7af0f28a27dec223ef5c8c9e7907?s=128&d=identicon&r=PG&f=1", "display_name": "rjustin", "link": "https://stackoverflow.com/users/8599991/rjustin"}, "edited": false, "score": 0, "creation_date": 1506528473, "post_id": 46452413, "comment_id": 79860733, "body": "[0-9][0-9][0-9]"}, {"owner": {"reputation": 515, "user_id": 8569366, "user_type": "registered", "accept_rate": 21, "profile_image": "https://lh4.googleusercontent.com/-8Gxa10nX2mU/AAAAAAAAAAI/AAAAAAAAACw/bgS0-aPfVoo/photo.jpg?sz=128", "display_name": "SONGSTER", "link": "https://stackoverflow.com/users/8569366/songster"}, "reply_to_user": {"reputation": 1301, "user_id": 8599991, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/0fad7af0f28a27dec223ef5c8c9e7907?s=128&d=identicon&r=PG&f=1", "display_name": "rjustin", "link": "https://stackoverflow.com/users/8599991/rjustin"}, "edited": false, "score": 0, "creation_date": 1506528637, "post_id": 46452413, "comment_id": 79860833, "body": "no not working its accepting characters as well"}, {"owner": {"reputation": 1301, "user_id": 8599991, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/0fad7af0f28a27dec223ef5c8c9e7907?s=128&d=identicon&r=PG&f=1", "display_name": "rjustin", "link": "https://stackoverflow.com/users/8599991/rjustin"}, "edited": false, "score": 0, "creation_date": 1506528753, "post_id": 46452413, "comment_id": 79860909, "body": "I am putting it in <a href=\"https://regex101.com\" rel=\"nofollow noreferrer\">regex101.com</a> and 3 charcter strings are not being accepted"}, {"owner": {"reputation": 515, "user_id": 8569366, "user_type": "registered", "accept_rate": 21, "profile_image": "https://lh4.googleusercontent.com/-8Gxa10nX2mU/AAAAAAAAAAI/AAAAAAAAACw/bgS0-aPfVoo/photo.jpg?sz=128", "display_name": "SONGSTER", "link": "https://stackoverflow.com/users/8569366/songster"}, "reply_to_user": {"reputation": 1301, "user_id": 8599991, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/0fad7af0f28a27dec223ef5c8c9e7907?s=128&d=identicon&r=PG&f=1", "display_name": "rjustin", "link": "https://stackoverflow.com/users/8599991/rjustin"}, "edited": false, "score": 0, "creation_date": 1506528796, "post_id": 46452413, "comment_id": 79860933, "body": "then it must not be regex someother problem"}, {"owner": {"reputation": 1301, "user_id": 8599991, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/0fad7af0f28a27dec223ef5c8c9e7907?s=128&d=identicon&r=PG&f=1", "display_name": "rjustin", "link": "https://stackoverflow.com/users/8599991/rjustin"}, "edited": false, "score": 0, "creation_date": 1506528823, "post_id": 46452413, "comment_id": 79860944, "body": "You also appear to be negating your regex which means anything but that. Is that <code>!</code> on purpose?"}, {"owner": {"reputation": 515, "user_id": 8569366, "user_type": "registered", "accept_rate": 21, "profile_image": "https://lh4.googleusercontent.com/-8Gxa10nX2mU/AAAAAAAAAAI/AAAAAAAAACw/bgS0-aPfVoo/photo.jpg?sz=128", "display_name": "SONGSTER", "link": "https://stackoverflow.com/users/8569366/songster"}, "reply_to_user": {"reputation": 1301, "user_id": 8599991, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/0fad7af0f28a27dec223ef5c8c9e7907?s=128&d=identicon&r=PG&f=1", "display_name": "rjustin", "link": "https://stackoverflow.com/users/8599991/rjustin"}, "edited": false, "score": 0, "creation_date": 1506528912, "post_id": 46452413, "comment_id": 79861000, "body": "removed the negation also but still not working"}, {"owner": {"reputation": 1301, "user_id": 8599991, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/0fad7af0f28a27dec223ef5c8c9e7907?s=128&d=identicon&r=PG&f=1", "display_name": "rjustin", "link": "https://stackoverflow.com/users/8599991/rjustin"}, "edited": false, "score": 0, "creation_date": 1506529208, "post_id": 46452413, "comment_id": 79861157, "body": "I think you need to use Validator.compose(this.threeNumbers). It shouldnt go straight into the array like that it needs to be wrapped in something for custom angular validation"}, {"owner": {"reputation": 515, "user_id": 8569366, "user_type": "registered", "accept_rate": 21, "profile_image": "https://lh4.googleusercontent.com/-8Gxa10nX2mU/AAAAAAAAAAI/AAAAAAAAACw/bgS0-aPfVoo/photo.jpg?sz=128", "display_name": "SONGSTER", "link": "https://stackoverflow.com/users/8569366/songster"}, "reply_to_user": {"reputation": 1301, "user_id": 8599991, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/0fad7af0f28a27dec223ef5c8c9e7907?s=128&d=identicon&r=PG&f=1", "display_name": "rjustin", "link": "https://stackoverflow.com/users/8599991/rjustin"}, "edited": false, "score": 0, "creation_date": 1506529342, "post_id": 46452413, "comment_id": 79861255, "body": "when using Validators.compose. It throws this error:  [ts] Argument of type &#39;(control: FormControl) =&gt; { &#39;greater than 3 numbers&#39;: boolean; }&#39; is not assignable to parameter of type &#39;ValidatorFn[]&#39;.   Property &#39;includes&#39; is missing in type &#39;(control: FormControl) =&gt; { &#39;greater than 3 numbers&#39;: boolean; }&#39;. (method) AppComponent.threeNumbers(control: FormControl): {     &#39;greater than 3 numbers&#39;: boolean; }"}, {"owner": {"reputation": 168939, "user_id": 5485167, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qWD9t.jpg?s=128&g=1", "display_name": "yurzui", "link": "https://stackoverflow.com/users/5485167/yurzui"}, "edited": false, "score": 0, "creation_date": 1506529403, "post_id": 46452413, "comment_id": 79861283, "body": "My plunker didn&#39;t help??? <a href=\"https://plnkr.co/edit/S7RQtUdIZdjQpGmVtdKQ?p=preview\" rel=\"nofollow noreferrer\">plnkr.co/edit/S7RQtUdIZdjQpGmVtdKQ?p=preview</a>"}, {"owner": {"reputation": 168939, "user_id": 5485167, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qWD9t.jpg?s=128&g=1", "display_name": "yurzui", "link": "https://stackoverflow.com/users/5485167/yurzui"}, "edited": false, "score": 1, "creation_date": 1506529464, "post_id": 46452413, "comment_id": 79861309, "body": "Your question is duplicate of <a href=\"https://stackoverflow.com/questions/46447270/why-is-custom-validator-not-working\" title=\"why is custom validator not working\">stackoverflow.com/questions/46447270/&hellip;</a>"}, {"owner": {"reputation": 515, "user_id": 8569366, "user_type": "registered", "accept_rate": 21, "profile_image": "https://lh4.googleusercontent.com/-8Gxa10nX2mU/AAAAAAAAAAI/AAAAAAAAACw/bgS0-aPfVoo/photo.jpg?sz=128", "display_name": "SONGSTER", "link": "https://stackoverflow.com/users/8569366/songster"}, "edited": false, "score": 0, "creation_date": 1506529480, "post_id": 46452413, "comment_id": 79861320, "body": "strangley it works in plunker but not in my code. I wouldve recorded a gif of that but i dont know how to do it"}, {"owner": {"reputation": 168939, "user_id": 5485167, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qWD9t.jpg?s=128&g=1", "display_name": "yurzui", "link": "https://stackoverflow.com/users/5485167/yurzui"}, "edited": false, "score": 0, "creation_date": 1506529561, "post_id": 46452413, "comment_id": 79861370, "body": "Just copy <code>threeNumbers</code> method"}, {"owner": {"reputation": 515, "user_id": 8569366, "user_type": "registered", "accept_rate": 21, "profile_image": "https://lh4.googleusercontent.com/-8Gxa10nX2mU/AAAAAAAAAAI/AAAAAAAAACw/bgS0-aPfVoo/photo.jpg?sz=128", "display_name": "SONGSTER", "link": "https://stackoverflow.com/users/8569366/songster"}, "edited": false, "score": 0, "creation_date": 1506529837, "post_id": 46452413, "comment_id": 79861536, "body": "yes copied it and it worked but why can you please explain that code a little"}, {"owner": {"reputation": 168939, "user_id": 5485167, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qWD9t.jpg?s=128&g=1", "display_name": "yurzui", "link": "https://stackoverflow.com/users/5485167/yurzui"}, "edited": false, "score": 1, "creation_date": 1506530075, "post_id": 46452413, "comment_id": 79861669, "body": "<code>&#47;^\\d+$&#47;.test(control.value)</code> it is regular expression that will pass only numbers. So if there is some value (<code>control.value</code>) and it has only numbers (<code>&#47;^\\d+$&#47;.test(control.value)</code>) and value contains only 3 symbols (<code>control.value.length === 3</code>) then i tell angular that it&#39;s valid value(<code>return null</code>) otherwise i return object <code>{ &#39;error&#39;: true }</code> that tells angular that value is not valid"}], "answers": [{"comments": [{"owner": {"reputation": 515, "user_id": 8569366, "user_type": "registered", "accept_rate": 21, "profile_image": "https://lh4.googleusercontent.com/-8Gxa10nX2mU/AAAAAAAAAAI/AAAAAAAAACw/bgS0-aPfVoo/photo.jpg?sz=128", "display_name": "SONGSTER", "link": "https://stackoverflow.com/users/8569366/songster"}, "edited": false, "score": 0, "creation_date": 1506529654, "post_id": 46452859, "comment_id": 79861427, "body": "please read the question carefully before answering. I want to do it through custom validator"}, {"owner": {"reputation": 19, "user_id": 6729390, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4ix1g.jpg?s=128&g=1", "display_name": "Devendra Kumar", "link": "https://stackoverflow.com/users/6729390/devendra-kumar"}, "reply_to_user": {"reputation": 515, "user_id": 8569366, "user_type": "registered", "accept_rate": 21, "profile_image": "https://lh4.googleusercontent.com/-8Gxa10nX2mU/AAAAAAAAAAI/AAAAAAAAACw/bgS0-aPfVoo/photo.jpg?sz=128", "display_name": "SONGSTER", "link": "https://stackoverflow.com/users/8569366/songster"}, "edited": false, "score": 0, "creation_date": 1506567742, "post_id": 46452859, "comment_id": 79875645, "body": "anything which doesn&#39;t come in built , we call them custom. And here i have asked you to call above method on blur. Something like this:- &lt;input type=&quot;number&quot; class=&quot;form-control&quot; ng-model=&quot;field1&quot; (blur)=&quot;validator(field1)&quot;/&gt;"}], "tags": [], "owner": {"reputation": 19, "user_id": 6729390, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4ix1g.jpg?s=128&g=1", "display_name": "Devendra Kumar", "link": "https://stackoverflow.com/users/6729390/devendra-kumar"}, "is_accepted": false, "score": -1, "last_activity_date": 1506529549, "creation_date": 1506529549, "answer_id": 46452859, "question_id": 46452413, "link": "https://stackoverflow.com/questions/46452413/restrict-input-field-to-numbers-only-using-custom-validator-angular-2/46452859#46452859", "title": "restrict input field to numbers only using custom validator angular 2", "body": "<p>call below function on (blur) -</p>\n\n<pre><code>validator(val){\nif(val.length === 3){\n    return true;\n}else{\n    return false;\n}\n</code></pre>\n\n<p>}\nmake input type=\"number\", it will stop taking alphabets.</p>\n"}], "owner": {"reputation": 515, "user_id": 8569366, "user_type": "registered", "accept_rate": 21, "profile_image": "https://lh4.googleusercontent.com/-8Gxa10nX2mU/AAAAAAAAAAI/AAAAAAAAACw/bgS0-aPfVoo/photo.jpg?sz=128", "display_name": "SONGSTER", "link": "https://stackoverflow.com/users/8569366/songster"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 2130, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1506529549, "creation_date": 1506528115, "last_edit_date": 1506528966, "question_id": 46452413, "link": "https://stackoverflow.com/questions/46452413/restrict-input-field-to-numbers-only-using-custom-validator-angular-2", "title": "restrict input field to numbers only using custom validator angular 2", "body": "<p>I researched a lot to find solution to this but none of the stakoverflow question has an accepted answer. So ive done my research and couldnt find an answer.</p>\n\n<p>What I want the custom validator to do it that it should only take numbers as input and only three digit numbers like, 838, 892,183,234.. so on</p>\n\n<p>Rightnow it accepts characters as well.</p>\n\n<pre><code>  threeNumbers(control: FormControl) {\n    if (control.value &amp;&amp; !/[0-9\\+\\-\\ ]/.test(control.value) &amp;&amp; control.value.length &lt; 3) {\n      return { 'greater than 3 numbers': true };\n    }\n    return null;\n  }\n\n}\n\nthis.courseForm = this.fb.group({\n  username: [null, [Validators.required, this.threeNumbers, Validators.maxLength(3)]],\n  email: [null, [Validators.required, Validators.pattern('([a-zA-Z0-9_.-]+)@([a-zA-Z0-9_.-]+)\\\\.([a-zA-Z]{2,5})')]],\n  address: [null, [Validators.required, Validators.minLength(10), Validators.maxLength(100)]],\n  select: [null, [Validators.required]]\n});\n</code></pre>\n\n<p>// html template</p>\n\n<pre><code>  &lt;form class=\"form-horizontal\" (ngSubmit)='onSubmit()' [formGroup]='courseForm'&gt;\n    &lt;div class=\"form-group\"&gt;\n      &lt;label for=\"inputUsername\" class=\"col-sm-2 control-label\"&gt;Username&lt;/label&gt;\n      &lt;div class=\"col-sm-10\"&gt;\n        &lt;input type=\"text\" class=\"form-control\" id=\"inputUsername\" placeholder=\"Username\" formControlName=\"username\" name=\"name\"\n          [ngClass]=\"{inValid: !courseForm.get('username').valid &amp;&amp; courseForm.get('username').touched, valid: courseForm.get('username').valid &amp;&amp; courseForm.get('username').touched}\"&gt;\n        &lt;span class=\"help-block\" *ngIf=\"!courseForm.get('username').valid &amp;&amp; courseForm.get('username').touched\"&gt;Please enter a valid username&lt;/span&gt;\n      &lt;/div&gt;\n    &lt;/div&gt;\n</code></pre>\n"}, {"tags": ["javascript", "angular", "typescript", "rxjs"], "comments": [{"owner": {"reputation": 32699, "user_id": 202694, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/982e5d5973bcd2be7b77e52ec7dca27c?s=128&d=identicon&r=PG", "display_name": "Pace", "link": "https://stackoverflow.com/users/202694/pace"}, "edited": false, "score": 0, "creation_date": 1506531517, "post_id": 46452347, "comment_id": 79862391, "body": "Shouldnt it be <code>private count = new BehaviorSubject&lt;number&gt;(0);</code>"}, {"owner": {"reputation": 113, "user_id": 4909084, "user_type": "registered", "accept_rate": 42, "profile_image": "https://lh5.googleusercontent.com/-bnX2Qly1H2A/AAAAAAAAAAI/AAAAAAAAALQ/MwqlJj5bqx4/photo.jpg?sz=128", "display_name": "Raghavendra S S", "link": "https://stackoverflow.com/users/4909084/raghavendra-s-s"}, "reply_to_user": {"reputation": 32699, "user_id": 202694, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/982e5d5973bcd2be7b77e52ec7dca27c?s=128&d=identicon&r=PG", "display_name": "Pace", "link": "https://stackoverflow.com/users/202694/pace"}, "edited": false, "score": 0, "creation_date": 1506531705, "post_id": 46452347, "comment_id": 79862505, "body": "@Pace changed to private but still same error :("}, {"owner": {"reputation": 14254, "user_id": 537647, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/g6d9o.jpg?s=128&g=1", "display_name": "Aniruddha Das", "link": "https://stackoverflow.com/users/537647/aniruddha-das"}, "edited": false, "score": 0, "creation_date": 1506536049, "post_id": 46452347, "comment_id": 79864732, "body": "can you post the error message you are getting?"}, {"owner": {"reputation": 14254, "user_id": 537647, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/g6d9o.jpg?s=128&g=1", "display_name": "Aniruddha Das", "link": "https://stackoverflow.com/users/537647/aniruddha-das"}, "edited": false, "score": 0, "creation_date": 1506536104, "post_id": 46452347, "comment_id": 79864764, "body": "and also remove <code>import &#39;rxjs&#47;Rx&#39;;</code> is its no used any where"}, {"owner": {"reputation": 34013, "user_id": 674326, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bb1ffcb8355a833bc34334d75cefeb3d?s=128&d=identicon&r=PG", "display_name": "Brandon", "link": "https://stackoverflow.com/users/674326/brandon"}, "edited": false, "score": 2, "creation_date": 1506545496, "post_id": 46452347, "comment_id": 79869718, "body": "show the code that is calling <code>addCount()</code>"}], "answers": [{"tags": [], "owner": {"reputation": 5987, "user_id": 1827926, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/96047c49031b412c397e5b4891d61c78?s=128&d=identicon&r=PG", "display_name": "Nypan", "link": "https://stackoverflow.com/users/1827926/nypan"}, "is_accepted": false, "score": 0, "last_activity_date": 1506969151, "creation_date": 1506969151, "answer_id": 46531551, "question_id": 46452347, "link": "https://stackoverflow.com/questions/46452347/behaviorsubject-gives-error-for-next-function-when-i-try-to-add-the-variable-usi/46531551#46531551", "title": "BehaviorSubject gives error for next function when i try to add the variable using next().&quot; I get the error this.count.next is not a function&quot;", "body": "<p>Try this: </p>\n\n<pre><code>export class DashboardService {\n    count = new BehaviorSubject&lt;number&gt;(0);\n    count$ = this.count.asObservable();\n\n    public addCount = (data) =&gt; {\n      this.count.next(data);\n    }\n}\n</code></pre>\n\n<p>The issue you are encountering is that you are using <code>addCount</code> in a context where <code>this</code> inside the function is altered (i.e. pointing to something else). Using lamda based functions in typescript ensures this can not happen. This is not an excuse for always using them however.  </p>\n\n<p>I recommend you read up a bit on <a href=\"https://basarat.gitbooks.io/typescript/docs/arrow-functions.html\" rel=\"nofollow noreferrer\">lambda/arrow functions</a>, it might also be a good idea to look in to how <code>this</code> works in <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/this\" rel=\"nofollow noreferrer\">javascript</a> and in <a href=\"https://github.com/Microsoft/TypeScript/wiki/&#39;this&#39;-in-TypeScript\" rel=\"nofollow noreferrer\">typescript</a>.</p>\n"}], "owner": {"reputation": 113, "user_id": 4909084, "user_type": "registered", "accept_rate": 42, "profile_image": "https://lh5.googleusercontent.com/-bnX2Qly1H2A/AAAAAAAAAAI/AAAAAAAAALQ/MwqlJj5bqx4/photo.jpg?sz=128", "display_name": "Raghavendra S S", "link": "https://stackoverflow.com/users/4909084/raghavendra-s-s"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 446, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1506969151, "creation_date": 1506527912, "last_edit_date": 1506545445, "question_id": 46452347, "link": "https://stackoverflow.com/questions/46452347/behaviorsubject-gives-error-for-next-function-when-i-try-to-add-the-variable-usi", "title": "BehaviorSubject gives error for next function when i try to add the variable using next().&quot; I get the error this.count.next is not a function&quot;", "body": "<p>Inside Angular service i have a variable count, which i want to observe whenever it's updated, i want to set that updated value to another variable in a different component.</p>\n\n<pre><code>import {BehaviorSubject} from \"rxjs/BehaviorSubject\";\nimport 'rxjs/Rx';\n\nexport class DashboardService{\n  count = new BehaviorSubject&lt;number&gt;(0);\n  count$=this.count.asObservable();\n\n  addCount(data){\n    this.count.next(data);\n  }\n}\n</code></pre>\n\n<p>I get the error eventhough i have imported all the relevant libraries .Any idea why i'm getting this?  can anyone tell me what's happening with the code ?</p>\n\n<p>}\nrxJs version 5.4.3 latest!</p>\n"}, {"tags": ["javascript", "c#", "typescript", "visual-studio-code"], "answers": [{"comments": [{"owner": {"reputation": 389, "user_id": 5899370, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/MD53B.png?s=128&g=1", "display_name": "John VanZwieten", "link": "https://stackoverflow.com/users/5899370/john-vanzwieten"}, "edited": false, "score": 0, "creation_date": 1506541552, "post_id": 46452536, "comment_id": 79867683, "body": "Thanks for your answer ServerS. This only accepted the suggestion, didn&#39;t include typing the <code>.</code> as well, but it pointed me in the right direction to find the rest. See my answer for what I found."}], "tags": [], "owner": {"reputation": 417, "user_id": 3962249, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/fe817d40a2c42d84156ddc5840ce787d?s=128&d=identicon&r=PG&f=1", "display_name": "ServerS", "link": "https://stackoverflow.com/users/3962249/servers"}, "is_accepted": false, "score": 0, "last_activity_date": 1506528455, "creation_date": 1506528455, "answer_id": 46452536, "question_id": 46452085, "link": "https://stackoverflow.com/questions/46452085/can-vs-code-code-completion-be-configured-to-accept-a-suggestion-on-punctuation/46452536#46452536", "title": "Can VS Code code completion be configured to accept a suggestion on punctuation?", "body": "<p>I don't think you can add the <code>.</code> at the end of <code>console</code>, but you can do everything else:</p>\n\n<p>Go to File >> Preferences >> Keyboard Shortcuts.</p>\n\n<p>On the right side of the screen, a file called <code>keybindings.json</code> will come up.  Between the two brackets, insert this:</p>\n\n<pre><code>{ \"key\": \".\",                   \"command\": \"acceptSelectedSuggestion\",\n                                 \"when\": \"editorTextFocus &amp;&amp; suggestWidgetVisible\" },\n</code></pre>\n\n<p>That should add the support for all languages.</p>\n"}, {"comments": [{"owner": {"reputation": 5832, "user_id": 4155665, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/7IH7Y.png?s=128&g=1", "display_name": "jleach", "link": "https://stackoverflow.com/users/4155665/jleach"}, "edited": false, "score": 0, "creation_date": 1506542762, "post_id": 46456057, "comment_id": 79868319, "body": "Great, I&#39;ve been missing this as well but don&#39;t use Code quite enough to have gone digging for it. But now that I know..."}, {"owner": {"reputation": 389, "user_id": 5899370, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/MD53B.png?s=128&g=1", "display_name": "John VanZwieten", "link": "https://stackoverflow.com/users/5899370/john-vanzwieten"}, "reply_to_user": {"reputation": 5832, "user_id": 4155665, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/7IH7Y.png?s=128&g=1", "display_name": "jleach", "link": "https://stackoverflow.com/users/4155665/jleach"}, "edited": false, "score": 0, "creation_date": 1506626029, "post_id": 46456057, "comment_id": 79908540, "body": "Note that a major limitation to this is lack of undo support. If you accidentally accept something with punctuation you don&#39;t want, you should be able to use undo to revert what&#39;s written to only what you wrote. This is probably properly scoped to a full VS Code Extension."}], "tags": [], "owner": {"reputation": 389, "user_id": 5899370, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/MD53B.png?s=128&g=1", "display_name": "John VanZwieten", "link": "https://stackoverflow.com/users/5899370/john-vanzwieten"}, "is_accepted": true, "score": 3, "last_activity_date": 1506565343, "last_edit_date": 1506565343, "creation_date": 1506541508, "answer_id": 46456057, "question_id": 46452085, "link": "https://stackoverflow.com/questions/46452085/can-vs-code-code-completion-be-configured-to-accept-a-suggestion-on-punctuation/46456057#46456057", "title": "Can VS Code code completion be configured to accept a suggestion on punctuation?", "body": "<p>One can implement this oneself using the <a href=\"https://marketplace.visualstudio.com/items?itemName=geddski.macros#overview\" rel=\"nofollow noreferrer\">macros extension</a>. To do this:</p>\n\n<ol>\n<li><p>Install the <a href=\"https://marketplace.visualstudio.com/items?itemName=geddski.macros#overview\" rel=\"nofollow noreferrer\">macros extension</a></p></li>\n<li><p>Create a macro calling the acceptSelectedSuggestion action, then type <code>.</code>. Here's what my Settings.json looked like:</p>\n\n<pre><code>{\n    \"editor.wordWrap\": \"on\",\n    \"window.zoomLevel\": 0,\n    \"git.enableSmartCommit\": true,\n    \"macros\": {\n        \"accept.\": [\n            \"acceptSelectedSuggestion\",\n            {\"command\": \"type\", \"args\": {\"text\": \".\"}}\n        ],\n        \"accept(\": [\n            \"acceptSelectedSuggestion\",\n            {\"command\": \"type\", \"args\": {\"text\": \"(\"}}\n        ],        \n        \"accept=\": [\n            \"acceptSelectedSuggestion\",\n            {\"command\": \"type\", \"args\": {\"text\": \"=\"}}\n        ]\n    }\n}\n</code></pre></li>\n<li><p>Added each of these macros to a key binding in keybindings.json. My additional keybindings looked like:</p>\n\n<pre><code>{\n    \"key\": \".\",\n    \"command\": \"macros.accept.\",\n    \"when\": \"editorTextFocus &amp;&amp; suggestWidgetVisible\"\n},\n{\n    \"key\": \"shift+9\",\n    \"command\": \"macros.accept(\",\n    \"when\": \"editorTextFocus &amp;&amp; suggestWidgetVisible\"\n},\n{\n    \"key\": \"=\",\n    \"command\": \"macros.accept=\",\n    \"when\": \"editorTextFocus &amp;&amp; suggestWidgetVisible\"\n}\n</code></pre>\n\n<p>This enables the classic VS C# completion behavior for these 3 specific follow-on keys. Any others I will think of can be added as I remember them.</p></li>\n</ol>\n"}], "owner": {"reputation": 389, "user_id": 5899370, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/MD53B.png?s=128&g=1", "display_name": "John VanZwieten", "link": "https://stackoverflow.com/users/5899370/john-vanzwieten"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 501, "favorite_count": 1, "accepted_answer_id": 46456057, "answer_count": 2, "score": 5, "last_activity_date": 1506565343, "creation_date": 1506526994, "question_id": 46452085, "link": "https://stackoverflow.com/questions/46452085/can-vs-code-code-completion-be-configured-to-accept-a-suggestion-on-punctuation", "title": "Can VS Code code completion be configured to accept a suggestion on punctuation?", "body": "<p>This question is particularly pointed at other C# devs coming over to TypeScript in VS Code.</p>\n\n<p>I fell in love with the code completion in VS C#. To illustrate, say I'm trying to write:</p>\n\n<pre><code>console.log('hello')\n</code></pre>\n\n<p>Using C#, I would have:</p>\n\n<ol>\n<li>type \"con\"</li>\n<li>a list of suggestions would appear, probably starting with \"console\"</li>\n<li>since that's highlighted and it's what I want, hitting \".\" will write out \"sole.\" so now I have: <code>console.</code></li>\n<li>type \"l\", \"log\" is the first suggestion</li>\n<li>type \"(\", now I have: <code>console.log('')</code></li>\n<li>cursor is now in the ''</li>\n<li>type \"hello\"</li>\n</ol>\n\n<p>Currently with my VS Code setup, the same thing can be achieved in JS/TS hitting <code>tab</code> each time I want to accept a suggestion. But just hitting the next punctuation to proceed was really nice and, if you forgive me for caring about it, \"fun.\" I miss it. And there's no technical limitation of the languages that I know of that would prohibit this behavior.</p>\n\n<p>Anyone know if there's any extension or setting available to enable this? Or else, where else this conversation may be occurring ?</p>\n"}, {"tags": ["javascript", "typescript", "definitelytyped"], "comments": [{"owner": {"reputation": 10229, "user_id": 621316, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/5203b24e171961e916d054b73d8b5b59?s=128&d=identicon&r=PG", "display_name": "Dave Cousineau", "link": "https://stackoverflow.com/users/621316/dave-cousineau"}, "edited": false, "score": 0, "creation_date": 1506527327, "post_id": 46452066, "comment_id": 79859968, "body": "What does <code>IPoiState</code> look like?"}, {"owner": {"reputation": 10229, "user_id": 621316, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/5203b24e171961e916d054b73d8b5b59?s=128&d=identicon&r=PG", "display_name": "Dave Cousineau", "link": "https://stackoverflow.com/users/621316/dave-cousineau"}, "edited": false, "score": 0, "creation_date": 1506556758, "post_id": 46452066, "comment_id": 79873172, "body": "I can only guess but I would think that the type that is coming out of your <code>handleActions</code> declaration is wrong. Are <code>State</code> and <code>IPoiState</code> also somewhere in the type system? The type system is incorrectly determining that <code>handleActions</code> returns <code>Reducer&lt;{}, any&gt;</code>, so you need to get it to actually be of type <code>Reducer&lt;State, any&gt;</code>, (and I assume also to get it to recognize that <code>State</code> is a <code>IPoiState</code>)."}], "answers": [{"comments": [{"owner": {"reputation": 10229, "user_id": 621316, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/5203b24e171961e916d054b73d8b5b59?s=128&d=identicon&r=PG", "display_name": "Dave Cousineau", "link": "https://stackoverflow.com/users/621316/dave-cousineau"}, "edited": false, "score": 0, "creation_date": 1506527501, "post_id": 46452106, "comment_id": 79860094, "body": "should not be necessary since TypeScript has &#39;duck typing&#39;."}, {"owner": {"reputation": 1301, "user_id": 8599991, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/0fad7af0f28a27dec223ef5c8c9e7907?s=128&d=identicon&r=PG&f=1", "display_name": "rjustin", "link": "https://stackoverflow.com/users/8599991/rjustin"}, "reply_to_user": {"reputation": 10229, "user_id": 621316, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/5203b24e171961e916d054b73d8b5b59?s=128&d=identicon&r=PG", "display_name": "Dave Cousineau", "link": "https://stackoverflow.com/users/621316/dave-cousineau"}, "edited": false, "score": 0, "creation_date": 1506528178, "post_id": 46452106, "comment_id": 79860532, "body": "@Sahuagin Ineresting, in this case we would need to see what IPoistate looks like to know if the methods are supported."}, {"owner": {"reputation": 10229, "user_id": 621316, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/5203b24e171961e916d054b73d8b5b59?s=128&d=identicon&r=PG", "display_name": "Dave Cousineau", "link": "https://stackoverflow.com/users/621316/dave-cousineau"}, "edited": false, "score": 0, "creation_date": 1506528370, "post_id": 46452106, "comment_id": 79860651, "body": "Well, now that I think of it, since he&#39;s using a variable <code>ADD_BOOKMARK_START</code> as the member name, then maybe you are right, and a cast is needed. If I set up a similar example, it won&#39;t work unless I use one."}, {"owner": {"reputation": 7779, "user_id": 558672, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/982085c143104804c4ced3b61864520f?s=128&d=identicon&r=PG", "display_name": "jcreamer898", "link": "https://stackoverflow.com/users/558672/jcreamer898"}, "edited": false, "score": 0, "creation_date": 1506528720, "post_id": 46452106, "comment_id": 79860888, "body": "Keep in mind, the code above is JavaScript, not TypeScript."}, {"owner": {"reputation": 1301, "user_id": 8599991, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/0fad7af0f28a27dec223ef5c8c9e7907?s=128&d=identicon&r=PG&f=1", "display_name": "rjustin", "link": "https://stackoverflow.com/users/8599991/rjustin"}, "reply_to_user": {"reputation": 7779, "user_id": 558672, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/982085c143104804c4ced3b61864520f?s=128&d=identicon&r=PG", "display_name": "jcreamer898", "link": "https://stackoverflow.com/users/558672/jcreamer898"}, "edited": false, "score": 0, "creation_date": 1506528944, "post_id": 46452106, "comment_id": 79861018, "body": "@jcreamer898 Why is the transpiler being run against it if its not TypeScript? Or do you mean your function is meant to be pure JS?"}, {"owner": {"reputation": 7779, "user_id": 558672, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/982085c143104804c4ced3b61864520f?s=128&d=identicon&r=PG", "display_name": "jcreamer898", "link": "https://stackoverflow.com/users/558672/jcreamer898"}, "edited": false, "score": 0, "creation_date": 1506529682, "post_id": 46452106, "comment_id": 79861442, "body": "There is a new feature of typescript called <code>ts-check</code> that will type check JavaScript files. :)"}], "tags": [], "owner": {"reputation": 1301, "user_id": 8599991, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/0fad7af0f28a27dec223ef5c8c9e7907?s=128&d=identicon&r=PG&f=1", "display_name": "rjustin", "link": "https://stackoverflow.com/users/8599991/rjustin"}, "is_accepted": false, "score": 1, "last_activity_date": 1506527077, "creation_date": 1506527077, "answer_id": 46452106, "question_id": 46452066, "link": "https://stackoverflow.com/questions/46452066/typescript-ts-check-javascript-generics/46452106#46452106", "title": "Typescript ts-check javascript generics", "body": "<p>You can cast or type assert the object by adding the Type you want it to be in front with angle braces like this <code>&lt;IPoiState&gt;{}</code>.</p>\n\n<p><a href=\"https://basarat.gitbooks.io/typescript/docs/types/type-assertion.html\" rel=\"nofollow noreferrer\">Type Assertion</a></p>\n"}], "owner": {"reputation": 7779, "user_id": 558672, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/982085c143104804c4ced3b61864520f?s=128&d=identicon&r=PG", "display_name": "jcreamer898", "link": "https://stackoverflow.com/users/558672/jcreamer898"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 216, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1506556824, "creation_date": 1506526912, "last_edit_date": 1506556824, "question_id": 46452066, "link": "https://stackoverflow.com/questions/46452066/typescript-ts-check-javascript-generics", "title": "Typescript ts-check javascript generics", "body": "<p>Using TypeScript's new ts-check, I can't figure out how to handle working with a generic function.</p>\n\n<pre><code>/**\n * @type {Reducer&lt;IPoiState, any&gt;}\n */\nconst poi = handleActions({\n  [ADD_BOOKMARK_START]: (state) =&gt; {\n    return { ...state };\n  },\n}, {});\n</code></pre>\n\n<p>The handleActions type comes from Definitey Typed and looks like...</p>\n\n<pre><code>export function handleActions&lt;State&gt;(\n    reducerMap: ReducerMap&lt;State&gt;,\n    initialState: State\n): Reducer&lt;State, any&gt;;\n</code></pre>\n\n<p>So, I'm getting an error saying that...</p>\n\n<pre><code>Type 'Reducer&lt;{}, any&gt;' is not assignable to type 'Reducer&lt;IPoiState, any&gt;'.\n  Type '{}' is not assignable to type 'IPoiState'.\n</code></pre>\n\n<p>Is there anyway to force the generic through?</p>\n"}, {"tags": ["angularjs", "typescript", "rxjs"], "comments": [{"owner": {"reputation": 12752, "user_id": 242098, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0b5b4fb15e127c1e4141239614bca7e7?s=128&d=identicon&r=PG", "display_name": "Meir", "link": "https://stackoverflow.com/users/242098/meir"}, "edited": false, "score": 0, "creation_date": 1506527474, "post_id": 46452007, "comment_id": 79860077, "body": "Does it happen if you remove the <code>catch</code> block?"}, {"owner": {"reputation": 783, "user_id": 476065, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/97ins.png?s=128&g=1", "display_name": "pablochacin", "link": "https://stackoverflow.com/users/476065/pablochacin"}, "reply_to_user": {"reputation": 12752, "user_id": 242098, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0b5b4fb15e127c1e4141239614bca7e7?s=128&d=identicon&r=PG", "display_name": "Meir", "link": "https://stackoverflow.com/users/242098/meir"}, "edited": false, "score": 0, "creation_date": 1506527871, "post_id": 46452007, "comment_id": 79860321, "body": "@Meir The error changes: Type &#39;Observable&lt;MyResponse&gt;&#39; is not assignable to type &#39;Observable&lt;MyResponse&gt;&#39;. Two different types with this name exist, but they are unrelated.   I removed the duplicated dependency in my code (as I explained in the questions). But maybe this is related to the fact I&#39;m using new angular/common/http module"}], "answers": [{"comments": [{"owner": {"reputation": 783, "user_id": 476065, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/97ins.png?s=128&g=1", "display_name": "pablochacin", "link": "https://stackoverflow.com/users/476065/pablochacin"}, "edited": false, "score": 1, "creation_date": 1506530733, "post_id": 46452450, "comment_id": 79861966, "body": "Apparently this solved the issue, but now I have the error:  Type &#39;Observable&lt;SeamHttpResponse&gt;&#39; is not assignable to type  &#39;Observable&lt;SeamHttpResponse&gt;&#39;. Two different types with this name exist, but they are unrelated. Property &#39;source&#39; is protected but type &#39;Observable&lt;T&gt;&#39; is not a class derived from &#39;Observable&lt;T&gt;&#39;  I guess this has to do with some package having a dependency from rxjs. I need to verity this before I can confirm the solution. Thanks"}, {"owner": {"reputation": 12752, "user_id": 242098, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0b5b4fb15e127c1e4141239614bca7e7?s=128&d=identicon&r=PG", "display_name": "Meir", "link": "https://stackoverflow.com/users/242098/meir"}, "reply_to_user": {"reputation": 783, "user_id": 476065, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/97ins.png?s=128&g=1", "display_name": "pablochacin", "link": "https://stackoverflow.com/users/476065/pablochacin"}, "edited": false, "score": 0, "creation_date": 1506533355, "post_id": 46452450, "comment_id": 79863323, "body": "Can&#39;t you apply the same solution to the new error?"}, {"owner": {"reputation": 783, "user_id": 476065, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/97ins.png?s=128&g=1", "display_name": "pablochacin", "link": "https://stackoverflow.com/users/476065/pablochacin"}, "edited": false, "score": 0, "creation_date": 1506533530, "post_id": 46452450, "comment_id": 79863422, "body": "Apparently, this new error is because I&#39;m importing the rxjs twice. I was expecting this to happen at some point, I opened another question for that issue."}], "tags": [], "owner": {"reputation": 12752, "user_id": 242098, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0b5b4fb15e127c1e4141239614bca7e7?s=128&d=identicon&r=PG", "display_name": "Meir", "link": "https://stackoverflow.com/users/242098/meir"}, "is_accepted": false, "score": 0, "last_activity_date": 1506528228, "creation_date": 1506528228, "answer_id": 46452450, "question_id": 46452007, "link": "https://stackoverflow.com/questions/46452007/type-observableany-is-not-assignable-to-type-observablet/46452450#46452450", "title": "Type &#39;Observable&lt;any&gt;&#39; is not assignable to type &#39;Observable&lt;T&gt;&#39;", "body": "<p>Based on your comment, I think you should be explicit in your typings, hence, import Observable and declare the types:</p>\n\n<pre><code>return this.httpClient.request(method, url, options)                           \n        .map((res): MyResponse =&gt; new MyResponse(res.status, res.body))                \n        .catch((err):Observable&lt;MyResponse&gt; =&gt; Observable.throw&lt;MyResponse&gt;(new MyResponse(err.status)));\n</code></pre>\n\n<p>The important part is that the <code>throw</code> (as well as <code>from</code> and other operators) can be typed and the syntax is `Observable.operator(operands...)</p>\n"}], "owner": {"reputation": 783, "user_id": 476065, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/97ins.png?s=128&g=1", "display_name": "pablochacin", "link": "https://stackoverflow.com/users/476065/pablochacin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1457, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1506528372, "creation_date": 1506526763, "last_edit_date": 1506528372, "question_id": 46452007, "link": "https://stackoverflow.com/questions/46452007/type-observableany-is-not-assignable-to-type-observablet", "title": "Type &#39;Observable&lt;any&gt;&#39; is not assignable to type &#39;Observable&lt;T&gt;&#39;", "body": "<p>I have the following code </p>\n\n<pre><code>import {HttpClient} from '@ngular/common/http';\n\nprivate httpClient: HttpClient;\n\ndo_request(method: string,                                                           \n        url: string,                                                              \n        headers?: HttpHeaders,                                                \n        content?: string,                                                         \n        contentType?: string): Observable&lt;MyResponse&gt;{                      \n\n   let options = {                                                                \n       observe: 'response' as 'response',                                         \n       responseType: 'text' as 'text',                                             \n       headers: headers,\n       body: content:                                                                           \n   }\n\n   return this.httpClient.request(method, url, options)                           \n            .map(res=&gt; new MyResponse(res.status, res.body))                \n            .catch(err=&gt;Observable.throw(new MyResponse(err.status)));                     \n}      \n</code></pre>\n\n<p>This code is giving me the following error</p>\n\n<blockquote>\n  <p>error TS2322: Type 'Observable' is not assignable to type 'Observable'. Property 'source' is protected but type 'Observable' is not a class derived from 'Observable'</p>\n</blockquote>\n\n<p>I'm using Rxjs 5.4.3, Angular 4.4.3 and TypeScript 2.5.3. </p>\n\n<p>I've found several possible error sources and tried the suggested solutions with no luck:</p>\n\n<ul>\n<li><a href=\"https://github.com/tomastrajan/ngx-model/issues/1\" rel=\"nofollow noreferrer\">Typescript version</a>(I downgraded to 2.3 with similar results) </li>\n<li>Importing a package that also has a dependency on rxjs <a href=\"https://github.com/ReactiveX/rxjs/issues/1744\" rel=\"nofollow noreferrer\">using npm link</a> (I installed it locally, with same result).  </li>\n</ul>\n\n<p>I will appreciate any suggestion on how to fix this issue. </p>\n"}, {"tags": ["html", "angular", "typescript"], "comments": [{"owner": {"reputation": 168939, "user_id": 5485167, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qWD9t.jpg?s=128&g=1", "display_name": "yurzui", "link": "https://stackoverflow.com/users/5485167/yurzui"}, "edited": false, "score": 1, "creation_date": 1506525367, "post_id": 46451366, "comment_id": 79858629, "body": "Where is <code>prefix-field-text</code> component? How are <code>prefix-field-suggest</code> and <code>searchBar</code> related?"}, {"owner": {"reputation": 168939, "user_id": 5485167, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qWD9t.jpg?s=128&g=1", "display_name": "yurzui", "link": "https://stackoverflow.com/users/5485167/yurzui"}, "edited": false, "score": 0, "creation_date": 1506525419, "post_id": 46451366, "comment_id": 79858665, "body": "Where is <code>prefix-field-suggest</code> in your template?"}, {"owner": {"reputation": 168939, "user_id": 5485167, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qWD9t.jpg?s=128&g=1", "display_name": "yurzui", "link": "https://stackoverflow.com/users/5485167/yurzui"}, "edited": false, "score": 0, "creation_date": 1506525489, "post_id": 46451366, "comment_id": 79858717, "body": "Can you provide a minimal reproduction on plunker?"}, {"owner": {"reputation": 4061, "user_id": 3241889, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/snb4P.jpg?s=128&g=1", "display_name": "Alex", "link": "https://stackoverflow.com/users/3241889/alex"}, "reply_to_user": {"reputation": 168939, "user_id": 5485167, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qWD9t.jpg?s=128&g=1", "display_name": "yurzui", "link": "https://stackoverflow.com/users/5485167/yurzui"}, "edited": false, "score": 0, "creation_date": 1506526628, "post_id": 46451366, "comment_id": 79859496, "body": "Actually I can&#39;t because we use our own libraries and publish it to private NPM registry. But I admit I wasn&#39;t clear enough. I&#39;ll update subject and answer you : searchbar is in fact prefix-field-suggest. It&#39;s a custom component composed of an input and custom style and some parameters."}, {"owner": {"reputation": 168939, "user_id": 5485167, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qWD9t.jpg?s=128&g=1", "display_name": "yurzui", "link": "https://stackoverflow.com/users/5485167/yurzui"}, "edited": false, "score": 0, "creation_date": 1506526734, "post_id": 46451366, "comment_id": 79859574, "body": "You can just recreate the same situation in plunker. I didn&#39;t ask to show me all code"}, {"owner": {"reputation": 4061, "user_id": 3241889, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/snb4P.jpg?s=128&g=1", "display_name": "Alex", "link": "https://stackoverflow.com/users/3241889/alex"}, "reply_to_user": {"reputation": 168939, "user_id": 5485167, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qWD9t.jpg?s=128&g=1", "display_name": "yurzui", "link": "https://stackoverflow.com/users/5485167/yurzui"}, "edited": false, "score": 0, "creation_date": 1506588564, "post_id": 46451366, "comment_id": 79884527, "body": "That was the thing ! Thank you very much yurzui, you can post your last comment as answer if you want ! Passing <code>private fieldTextContainer: ViewContainerRef</code> as constructor arg did the trick. I could get my container to insert dynamically my component from my directive."}], "answers": [{"tags": [], "owner": {"reputation": 168939, "user_id": 5485167, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qWD9t.jpg?s=128&g=1", "display_name": "yurzui", "link": "https://stackoverflow.com/users/5485167/yurzui"}, "is_accepted": true, "score": 1, "last_activity_date": 1506589074, "creation_date": 1506589074, "answer_id": 46465045, "question_id": 46451366, "link": "https://stackoverflow.com/questions/46451366/angular-2-4-access-template-variable-reference-from-directive/46465045#46465045", "title": "Angular (2 &amp; 4) Access template variable reference from Directive", "body": "<p>If you want to get <code>ViewContainerRef</code> for <code>&lt;prefix-field-text prefixSuggest</code> just inject it in constructor <code>prefixSuggest</code> directive because it is applied on the same element:</p>\n\n<pre><code>export class PrefixFieldSuggestDirective implements AfterViewInit {\n  constructor(private fieldTextContainer: ViewContainerRef,...) {}\n</code></pre>\n"}], "owner": {"reputation": 4061, "user_id": 3241889, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/snb4P.jpg?s=128&g=1", "display_name": "Alex", "link": "https://stackoverflow.com/users/3241889/alex"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 911, "favorite_count": 1, "accepted_answer_id": 46465045, "answer_count": 1, "score": 0, "last_activity_date": 1506589074, "creation_date": 1506524884, "last_edit_date": 1506526711, "question_id": 46451366, "link": "https://stackoverflow.com/questions/46451366/angular-2-4-access-template-variable-reference-from-directive", "title": "Angular (2 &amp; 4) Access template variable reference from Directive", "body": "<p>I have a Directive which goal is to add a suggestion list under a prefix-field-text component. This component is basically a searchbar.</p>\n\n<p>My directive currently look like this (in all my code pieces I removed imports to add readibility): </p>\n\n<pre><code>@Directive({\n    selector: '[prefixSuggest]',\n    exportAs: 'prefixSuggest',\n    host: {\n      'class': 'prefix-field-suggest__container'\n    }\n  })\n  export class PrefixFieldSuggestDirective implements AfterViewInit {\n\n    private componentReference: ComponentRef&lt;PrefixFieldSuggestComponent&gt;;\n\n    @Input() fieldTextRef: ElementRef;\n    @Input() list: Array&lt;PrefixSuggestLineInterface&gt;;\n    @ViewChild('fieldTextRef', {read: ViewContainerRef}) fieldTextContainer;\n\n    constructor(private _injector: Injector, private resolver: ComponentFactoryResolver) {\n        this.resolver.resolveComponentFactory(PrefixFieldSuggestComponent);\n    }\n\n    ngAfterViewInit(): void {\n        const prefixFieldSuggestFactory = this.resolver.resolveComponentFactory(PrefixFieldSuggestComponent);\n        this.componentReference = prefixFieldSuggestFactory.create(this._injector);\n        this.componentReference.instance.list = this.list;\n        this.fieldTextContainer.insert(this.componentReference.hostView);\n    }\n  }\n</code></pre>\n\n<p>And my component looks like this :</p>\n\n<pre><code>@Component({\n  selector: 'prefix-field-suggest',\n  templateUrl: './prefix-field-suggest.component.html',\n  styleUrls: ['./prefix-field-suggest.component.scss']\n})\nexport class PrefixFieldSuggestComponent {\n\n    /** Item list to display */\n    @Input() list: Array&lt;PrefixSuggestLineInterface&gt;;\n\n    /** Search string typed in search input */\n    @Input() searchTerm: string;\n\n    /** Input ID to align itself beneath */\n    @Input() inputId: string;\n\n    /** Offset between the suggest and the input; default 0 */\n    @Input() offset: number = 0;\n\n    /** Event when an item is selected */\n    @Output() itemSelected: EventEmitter&lt;any&gt;;\n}\n</code></pre>\n\n<p>The template file for the PrefixFieldSuggestComponent : </p>\n\n<pre><code>&lt;div class=\"prefix-field-suggest\" \n    [ngStyle]=\"{ 'top': offset + 'px'}\"&gt;\n    &lt;span *ngFor=\"let item of list\"&gt;\n        {{item.title | prefixBoldifyTerm:searchTerm}} {{item.metaData}}\n    &lt;/span&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>the PrefixSuggestLineInterface is just a contract interface so that different people in my team can implement their own suggestion lines, depending on the information they want to display into it. ATM it's basically 2 string fields.</p>\n\n<p><strong>Question :</strong>\nI would like to access to the ViewContainerRef of the prefix-field-ext (searchbar) component, from my directive. I tried many things like #[fieldTextRef], #[fieldTextRef]=\"mysearchbar\", fieldTextRef, etc ....</p>\n\n<p>I tried these possibilities on this simple page : </p>\n\n<pre><code> &lt;div class=\"prefix-search-group\"&gt;\n          &lt;prefix-field-text prefixSuggest #fieldTextRef=\"prefixSuggest\" list=\"list\" [identifier]=\"search\"&gt;&lt;/prefix-field-text&gt;\n &lt;/div&gt;\n</code></pre>\n\n<p>But in every cases, my fieldTextRef Input is always null. (Because it's not a child element). Is it even possible to do what I'm trying to do ?</p>\n\n<p>Thanks a lot for your enlightning.</p>\n"}, {"tags": ["javascript", "angular", "typescript", "npm", "swiper"], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 8683956, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f99efdeeabe6b8cfe811ed88cd2949da?s=128&d=identicon&r=PG&f=1", "display_name": "Pawlu Boffa", "link": "https://stackoverflow.com/users/8683956/pawlu-boffa"}, "edited": false, "score": 0, "creation_date": 1506607297, "post_id": 46465467, "comment_id": 79897281, "body": "what you mean with You must add in your typings.d.ts --&gt; declare var Swiper: any; i dont have any typings.d.ts"}, {"owner": {"reputation": 885, "user_id": 3751473, "user_type": "registered", "accept_rate": 11, "profile_image": "https://www.gravatar.com/avatar/7af688beb0edf95e3cbbb28b4baefdec?s=128&d=identicon&r=PG&f=1", "display_name": "Alessandro", "link": "https://stackoverflow.com/users/3751473/alessandro"}, "reply_to_user": {"reputation": 1, "user_id": 8683956, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f99efdeeabe6b8cfe811ed88cd2949da?s=128&d=identicon&r=PG&f=1", "display_name": "Pawlu Boffa", "link": "https://stackoverflow.com/users/8683956/pawlu-boffa"}, "edited": false, "score": 0, "creation_date": 1506608426, "post_id": 46465467, "comment_id": 79898058, "body": "When you use Javascript library you must download typings for your library (in this case Swiper). If the global library you need to use does not have global typings, you can also declare them manually in src/typings.d.ts as any: declare var libraryName: any; (<a href=\"https://github.com/angular/angular-cli/wiki/stories-global-scripts\" rel=\"nofollow noreferrer\">github.com/angular/angular-cli/wiki/stories-global-scripts</a>)"}], "tags": [], "owner": {"reputation": 885, "user_id": 3751473, "user_type": "registered", "accept_rate": 11, "profile_image": "https://www.gravatar.com/avatar/7af688beb0edf95e3cbbb28b4baefdec?s=128&d=identicon&r=PG&f=1", "display_name": "Alessandro", "link": "https://stackoverflow.com/users/3751473/alessandro"}, "is_accepted": false, "score": 0, "last_activity_date": 1506590384, "creation_date": 1506590384, "answer_id": 46465467, "question_id": 46451161, "link": "https://stackoverflow.com/questions/46451161/unable-to-initialise-swiper-in-angular2-using-npm/46465467#46465467", "title": "Unable to initialise Swiper in angular2 using npm", "body": "<p>I'm using Swiper in my app in this way:</p>\n\n<ol>\n<li>You must install swiper with npm --> npm install swiper@3.4.2 --save</li>\n<li>You must add in your agular-cli.json:\n\"styles\": [\"../node_modules/swiper/dist/css/swiper.min.css\" ],\n\"scripts\": [\"../node_modules/swiper/dist/js/swiper.min.js\"]</li>\n<li>You must add in your typings.d.ts --> declare var Swiper: any;</li>\n<li>Now in your component.ts remove import Swiper and your slider works! let me known!</li>\n</ol>\n"}], "owner": {"reputation": 1, "user_id": 8683956, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f99efdeeabe6b8cfe811ed88cd2949da?s=128&d=identicon&r=PG&f=1", "display_name": "Pawlu Boffa", "link": "https://stackoverflow.com/users/8683956/pawlu-boffa"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1130, "favorite_count": 1, "answer_count": 1, "score": 0, "last_activity_date": 1506590384, "creation_date": 1506524308, "question_id": 46451161, "link": "https://stackoverflow.com/questions/46451161/unable-to-initialise-swiper-in-angular2-using-npm", "title": "Unable to initialise Swiper in angular2 using npm", "body": "<p>I am trying to use the swiper library in my angular2 + npm application but am having an error on build when trying to use it</p>\n\n<p>The error is:</p>\n\n<pre><code>ERROR in vendor.95f9dda80938ded736ad.bundle.js from UglifyJs\nUnexpected token: name (class_SwiperClass) [vendor.95f9dda80938ded736ad.bundle.js:16626,6]\n</code></pre>\n\n<p>I have included it in my package.json and am using it as follows in my component:</p>\n\n<pre><code>import Swiper from 'swiper/src/components/core/core-class';\n\n\n  ngAfterViewInit() {\n    let mySwiper : any = new Swiper('swiper-container', {\n      autoplay: 1000,\n      autoplayDisableOnInteraction : false,\n      speed: 400,\n      spaceBetween: 0,\n      pagination : \".swiper-pagination\"\n    });\n  }\n</code></pre>\n\n<p>My angular-cli configuration is as follows:</p>\n\n<pre><code> {\n  \"apps\": [\n    {\n      \"root\": \"src\",\n      \"outDir\": \"dist\",\n      \"assets\": [\n        \"assets\",\n        \"favicon.ico\"\n      ],\n      \"index\": \"index.html\",\n      \"main\": \"main.ts\",\n      \"prefix\": \"app\",\n      \"styles\": [\n        \"../node_modules/swiper/dist/css/swiper.css\"\n      ],\n      \"scripts\": [\n        \"../node_modules/swiper/dist/js/swiper.js\"\n      ]\n    }\n  ]\n}\n</code></pre>\n"}, {"tags": ["angular", "typescript", "angular-services"], "comments": [{"owner": {"reputation": 630270, "user_id": 571407, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2f0d9dec16bae1e06552af55ddefc11f?s=128&d=identicon&r=PG", "display_name": "JB Nizet", "link": "https://stackoverflow.com/users/571407/jb-nizet"}, "edited": false, "score": 2, "creation_date": 1506524523, "post_id": 46451094, "comment_id": 79858071, "body": "JavaScript has a garbage collector. If an object is not referenced by anything anymore (or not reachable anymore through a chain of references), it&#39;s garbage collected. So, if the array is the only place where the 100 objects are referenced, and the array is replaced by another one, both the original array and the objects it referenced will be GCed."}, {"owner": {"reputation": 26751, "user_id": 5195227, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/NemIj.jpg?s=128&g=1", "display_name": "sujith karivelil", "link": "https://stackoverflow.com/users/5195227/sujith-karivelil"}, "reply_to_user": {"reputation": 630270, "user_id": 571407, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2f0d9dec16bae1e06552af55ddefc11f?s=128&d=identicon&r=PG", "display_name": "JB Nizet", "link": "https://stackoverflow.com/users/571407/jb-nizet"}, "edited": false, "score": 0, "creation_date": 1506525185, "post_id": 46451094, "comment_id": 79858518, "body": "@JBNizet: But in my case the service is always injected to any of the controller, so it will be there in memory as long as service exists. right?That&#39;s fine. But Why I&#39;m getting memory increased in each navigation? It should show the difference for 3 objects and 100 objects right?"}, {"owner": {"reputation": 630270, "user_id": 571407, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2f0d9dec16bae1e06552af55ddefc11f?s=128&d=identicon&r=PG", "display_name": "JB Nizet", "link": "https://stackoverflow.com/users/571407/jb-nizet"}, "edited": false, "score": 0, "creation_date": 1506525749, "post_id": 46451094, "comment_id": 79858898, "body": "It&#39;s impossible, from your description, to know <i>if</i> you have a memory leak, and <i>what</i> causes the memory leak. What is sure is that using services, and not calling delete before replacing an array by another one, is not what causes memory leaks."}, {"owner": {"reputation": 147776, "user_id": 3731501, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/e4783dfa8ec98c884e61d29f2192ac97?s=128&d=identicon&r=PG&f=1", "display_name": "Estus Flask", "link": "https://stackoverflow.com/users/3731501/estus-flask"}, "edited": false, "score": 0, "creation_date": 1506526084, "post_id": 46451094, "comment_id": 79859125, "body": "If it is an array that is being used, this isn&#39;t memory leak, this is memory use. If you&#39;re encountering memory leaks, consider providing <a href=\"http://stackoverflow.com/help/mcve\">stackoverflow.com/help/mcve</a> . Otherwise the question is off-topic, it doesn&#39;t contain anything that could help to provide a quality answer."}, {"owner": {"reputation": 26751, "user_id": 5195227, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/NemIj.jpg?s=128&g=1", "display_name": "sujith karivelil", "link": "https://stackoverflow.com/users/5195227/sujith-karivelil"}, "edited": false, "score": 0, "creation_date": 1506526165, "post_id": 46451094, "comment_id": 79859179, "body": "Memory Leaks in the sense, after few navigations the memory used by chrome became <code>1.5GB</code>. This is what I want to control"}], "owner": {"reputation": 26751, "user_id": 5195227, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/NemIj.jpg?s=128&g=1", "display_name": "sujith karivelil", "link": "https://stackoverflow.com/users/5195227/sujith-karivelil"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 286, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1506534834, "creation_date": 1506524145, "last_edit_date": 1506534834, "question_id": 46451094, "link": "https://stackoverflow.com/questions/46451094/memory-leaks-due-to-service-variables", "title": "Memory leaks due to service variables", "body": "<p>I have an angular service having some properties and methods. This is injected in different controllers and all working fine as expected. Now the issue is with the memory conception. </p>\n\n<p>The signature of the class looks like the following:   </p>\n\n<pre><code>export class CustomService implements ICustomService {\n    // Having some variables here\n    customArray: Array&lt;NameSpace.CustomClass&gt;\n    constructor() // few injectors here\n    {\n        // Some code\n    }\n    // Some methods Here\n}\n</code></pre>\n\n<p>One of the property inside the service is an Array of custom object(that is populated using a service call). The number of items in the objects may vary depends on certain parameters sometimes the list may have less than 10 items sometimes it may greater than 100. </p>\n\n<p><strong>Questions</strong>:</p>\n\n<ul>\n<li>Consider that the specific list is now having 100 items, from another\ncontroller it is re-assigned with 3 items, will it free the memory\nfor those 97 items(that are previously in that array)?</li>\n<li>Is it possible/needed to free the property inside a service using <code>delete</code> </li>\n<li>Is there any other reasons for memory leaks when using services</li>\n</ul>\n"}, {"tags": ["rest", "typescript", "wakanda"], "comments": [{"owner": {"reputation": 943, "user_id": 6099993, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/0806d238ffb32a9f3d2239bc15129c6f?s=128&d=identicon&r=PG&f=1", "display_name": "NAMS", "link": "https://stackoverflow.com/users/6099993/nams"}, "edited": false, "score": 0, "creation_date": 1506609240, "post_id": 46450991, "comment_id": 79898633, "body": "NOTE: This is actually correct, I had an issue in the module itself, specifically I was still using <code>currentSession()</code> instead of the new <code>directory.currentSession</code> to get the session data in the module, and that was the reason the RPC call returned a 500 server error."}], "answers": [{"comments": [{"owner": {"reputation": 943, "user_id": 6099993, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/0806d238ffb32a9f3d2239bc15129c6f?s=128&d=identicon&r=PG&f=1", "display_name": "NAMS", "link": "https://stackoverflow.com/users/6099993/nams"}, "edited": false, "score": 0, "creation_date": 1506609153, "post_id": 46458545, "comment_id": 79898579, "body": "Thanks again Xiang :)"}], "tags": [], "owner": {"reputation": 393, "user_id": 5976263, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/39cfc219f98e70649dee04175f011c42?s=128&d=identicon&r=PG&f=1", "display_name": "Xiang Liu", "link": "https://stackoverflow.com/users/5976263/xiang-liu"}, "is_accepted": true, "score": 1, "last_activity_date": 1506553721, "creation_date": 1506553721, "answer_id": 46458545, "question_id": 46450991, "link": "https://stackoverflow.com/questions/46450991/wakanda-2-rest-api-for-calling-an-rpc/46458545#46458545", "title": "Wakanda 2 - REST API for calling an RPC", "body": "<p>First, check whether the module has permissions to be executed from client side:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n    &lt;permissions&gt;\n        &lt;allow type=\"module\" resource=\"myRPC\" action=\"executeFromClient\"/&gt;\n    &lt;/permissions&gt;\n</code></pre>\n\n<p>Second, 500 error might indicate a unhandled error in server-side execution due to incorrect parameter sent by the client, or simply bad code in the module. You can use the browser network inspector to validate the data sent by POST request. Or put a \"debugger\" trace statement in RPC code to set a breakpoint. The execution will stop at the breakpoint if the request is received by the server, you can then inspect the runtime from there.</p>\n"}], "owner": {"reputation": 943, "user_id": 6099993, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/0806d238ffb32a9f3d2239bc15129c6f?s=128&d=identicon&r=PG&f=1", "display_name": "NAMS", "link": "https://stackoverflow.com/users/6099993/nams"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 60, "favorite_count": 0, "accepted_answer_id": 46458545, "answer_count": 1, "score": 0, "last_activity_date": 1506553721, "creation_date": 1506523849, "question_id": 46450991, "link": "https://stackoverflow.com/questions/46450991/wakanda-2-rest-api-for-calling-an-rpc", "title": "Wakanda 2 - REST API for calling an RPC", "body": "<p>I would like to use REST calls to call my serverside RPC module functions.</p>\n\n<p>I actually have something close in-place already but it gives me a 500 internal server error and I don't know how to troubleshoot. Below is what I have. RPC is enabled for the module and in my project settings. CORS is allowed.</p>\n\n<pre><code>rpc(moduleName: string, methodName: string, params: any[]): Promise&lt;any&gt; {\n        let data = {\n            jsonrpc: '2.0',\n            //id: 167972631107,\n            module: moduleName,\n            method: methodName,\n            params: params\n        };\n\n        let headers = new Headers({\n            'Content-Type': 'application/json'\n        });\n\n        return this.http.post(`http://127.0.0.1:8081/rpc/`, JSON.stringify(data), headers).toPromise();\n    }\n</code></pre>\n"}, {"tags": ["c#", "file", "typescript", "byte", "buffer"], "comments": [{"owner": {"reputation": 18479, "user_id": 1141432, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/012a5bc2ab8149295daba3ed25471679?s=128&d=identicon&r=PG", "display_name": "itsme86", "link": "https://stackoverflow.com/users/1141432/itsme86"}, "edited": false, "score": 0, "creation_date": 1506524295, "post_id": 46450978, "comment_id": 79857905, "body": "Just a stab, but have you tried changing the parameter to <code>string goiaba</code>?"}, {"owner": {"reputation": 9, "user_id": 7239161, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5GzVF.jpg?s=128&g=1", "display_name": "KaueCastro", "link": "https://stackoverflow.com/users/7239161/kauecastro"}, "reply_to_user": {"reputation": 18479, "user_id": 1141432, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/012a5bc2ab8149295daba3ed25471679?s=128&d=identicon&r=PG", "display_name": "itsme86", "link": "https://stackoverflow.com/users/1141432/itsme86"}, "edited": false, "score": 0, "creation_date": 1506524621, "post_id": 46450978, "comment_id": 79858135, "body": "Yes, but without success"}, {"owner": {"reputation": 22898, "user_id": 1915893, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/580b31b0be7173bbc477ca1d6967d87c?s=128&d=identicon&r=PG", "display_name": "Aluan Haddad", "link": "https://stackoverflow.com/users/1915893/aluan-haddad"}, "edited": false, "score": 0, "creation_date": 1506587846, "post_id": 46450978, "comment_id": 79883987, "body": "This is not TypeScript related."}, {"owner": {"reputation": 9, "user_id": 7239161, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5GzVF.jpg?s=128&g=1", "display_name": "KaueCastro", "link": "https://stackoverflow.com/users/7239161/kauecastro"}, "edited": false, "score": 0, "creation_date": 1506610240, "post_id": 46450978, "comment_id": 79899317, "body": "I know it... Do you have any idea ?"}], "answers": [{"tags": [], "owner": {"reputation": 178, "user_id": 1620873, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d867ff3fa7ee55a03560b516d08bcf6a?s=128&d=identicon&r=PG", "display_name": "msokrates", "link": "https://stackoverflow.com/users/1620873/msokrates"}, "is_accepted": false, "score": 0, "last_activity_date": 1507910608, "creation_date": 1507910608, "answer_id": 46733884, "question_id": 46450978, "link": "https://stackoverflow.com/questions/46450978/buffer-typescript-to-byte-c/46733884#46733884", "title": "Buffer typescript to byte[] C#", "body": "<p>If your <code>postAsync</code> is actually using Ajax maybe by changing <code>form: {goiaba}</code> to <code>data: goiaba</code> could make this work</p>\n"}], "owner": {"reputation": 9, "user_id": 7239161, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5GzVF.jpg?s=128&g=1", "display_name": "KaueCastro", "link": "https://stackoverflow.com/users/7239161/kauecastro"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 420, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1507910608, "creation_date": 1506523804, "question_id": 46450978, "link": "https://stackoverflow.com/questions/46450978/buffer-typescript-to-byte-c", "title": "Buffer typescript to byte[] C#", "body": "<p>I'm trying to send a Buffer[] from typescript to a endpoint in C#, that manipulate the file received, like this:</p>\n\n<p>.TS:</p>\n\n<pre><code>let goiaba = new Buffer(\"I'm a string!\", \"utf-8\")\nparams.path = \"File/UploadSync2\";\nlet path = params.getRequestParams();\nlet uri = `${this.baseUrl}/${path}`;\nlet options = {\n  method: 'POST',\n  url: uri,\n  headers: params.header,\n  form: {goiaba}\n};\noptions.headers['Content-Type'] = 'application/x-www-form-urlencoded';\nreturn requestAsync.postAsync(options);\n</code></pre>\n\n<p>C# endpoint:</p>\n\n<pre><code>public Result&lt;PutObjectResponse&gt; UploadSync2(byte[] goiaba)\n{\n   return null;\n}\n</code></pre>\n\n<p>The problem is that goiaba is receiving {byte[0]}.\nHow can I do this ?</p>\n"}, {"tags": ["angular", "typescript", "server", "angular2-routing"], "comments": [{"owner": {"reputation": 14254, "user_id": 537647, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/g6d9o.jpg?s=128&g=1", "display_name": "Aniruddha Das", "link": "https://stackoverflow.com/users/537647/aniruddha-das"}, "edited": false, "score": 0, "creation_date": 1506524206, "post_id": 46450944, "comment_id": 79857848, "body": "did you set basepath of your application in angular cli or in index.html"}, {"owner": {"user_type": "does_not_exist", "display_name": "user8048949"}, "reply_to_user": {"reputation": 14254, "user_id": 537647, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/g6d9o.jpg?s=128&g=1", "display_name": "Aniruddha Das", "link": "https://stackoverflow.com/users/537647/aniruddha-das"}, "edited": false, "score": 0, "creation_date": 1506524300, "post_id": 46450944, "comment_id": 79857910, "body": "yes base &quot;&lt;base href=&quot;/&quot;&gt;&quot; @AniruddhaDas in my index.html"}, {"owner": {"reputation": 14254, "user_id": 537647, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/g6d9o.jpg?s=128&g=1", "display_name": "Aniruddha Das", "link": "https://stackoverflow.com/users/537647/aniruddha-das"}, "edited": false, "score": 0, "creation_date": 1506524732, "post_id": 46450944, "comment_id": 79858223, "body": "try base path as <code>&lt;base href=&quot;&#47;CMS&quot;&gt;</code> as your are putting your code under a directory not in the base path <code>&#47;</code>"}, {"owner": {"user_type": "does_not_exist", "display_name": "user8048949"}, "reply_to_user": {"reputation": 14254, "user_id": 537647, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/g6d9o.jpg?s=128&g=1", "display_name": "Aniruddha Das", "link": "https://stackoverflow.com/users/537647/aniruddha-das"}, "edited": false, "score": 0, "creation_date": 1506540629, "post_id": 46450944, "comment_id": 79867206, "body": "I tried this, Doesn&#39;t work @AniruddhaDas"}], "answers": [{"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user8048949"}, "edited": false, "score": 0, "creation_date": 1506587949, "post_id": 46461486, "comment_id": 79884062, "body": "Thank You @jong-Hyun Kin"}], "tags": [], "owner": {"reputation": 505, "user_id": 7201280, "user_type": "registered", "accept_rate": 67, "profile_image": "https://graph.facebook.com/1200732170004452/picture?type=large", "display_name": "Jong-Hyen Kim", "link": "https://stackoverflow.com/users/7201280/jong-hyen-kim"}, "is_accepted": false, "score": 0, "last_activity_date": 1506575925, "creation_date": 1506575925, "answer_id": 46461486, "question_id": 46450944, "link": "https://stackoverflow.com/questions/46450944/angular2-routing-is-stopped-after-in-deployment-mode/46461486#46461486", "title": "Angular2 - Routing is stopped after in deployment mode", "body": "<p>you should change base href. to <code>&lt;base href=\"/CMS/\"&gt;</code></p>\n\n<p>If you use angular cli, you can use this command <code>ng build --prod --baseHref /CMS/</code>.</p>\n\n<p>If you do not use angular cli, you can change base href in <code>index.html</code></p>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user8048949"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 37, "favorite_count": 1, "answer_count": 1, "score": 0, "last_activity_date": 1506575925, "creation_date": 1506523724, "last_edit_date": 1592644375, "question_id": 46450944, "link": "https://stackoverflow.com/questions/46450944/angular2-routing-is-stopped-after-in-deployment-mode", "title": "Angular2 - Routing is stopped after in deployment mode", "body": "<p>After building the angular2 application using the command line &quot;ng build&quot;,\nI  have added the content of the  &quot;dist&quot; file to the server (throw the FTP client) in directory called &quot;CMS&quot;.</p>\n<blockquote>\n<p>The server have website files.</p>\n<p>I need to access my angular2 application when i calling the URL like this:\n<code>http://thewebsiteurlintheserver.com/CMS</code></p>\n</blockquote>\n<p>When I  do the last (<a href=\"http://thewebsiteurlintheserver.com/CMS\" rel=\"nofollow noreferrer\">http://thewebsiteurlintheserver.com/CMS</a>) i got this error:</p>\n<blockquote>\n<p>ERROR Error: Uncaught (in promise): Error: Cannot match any routes. URL Segment: 'CMS'\nError: Cannot match any routes. URL Segment: 'CMS'</p>\n</blockquote>\n"}, {"tags": ["typescript", "redux", "reducers"], "answers": [{"tags": [], "owner": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "is_accepted": false, "score": 0, "last_activity_date": 1506524363, "creation_date": 1506524363, "answer_id": 46451182, "question_id": 46450658, "link": "https://stackoverflow.com/questions/46450658/property-id-does-not-exist-on-type-never/46451182#46451182", "title": "Property id does not exist on type &#39;never&#39;", "body": "<p>Your code is missing brackets and other necessary imports, which makes it difficult for someone else to quickly <a href=\"https://stackoverflow.com/help/mcve\">reproduce and diagnose</a>.</p>\n\n<p>That being said, TypeScript infers the <code>state</code> parameter as the type of an empty array literal <code>[]</code>, which is considered to be <code>never[]</code>, meaning it will always be empty.  So the <code>map</code> function doesn't work because <code>landing</code> is being inferred as being an impossible value (there are no valid values of type <code>never</code>).</p>\n\n<p>If you want to fix it, you should tell TypeScript what kind of array <code>state</code> is likely to be.  The quick fix is to make it an array of <code>any</code>:</p>\n\n<pre><code>... function landingReducer (state: any[] = [], action) ...\n</code></pre>\n\n<p>Ideally, you should add more specific types to your parameters so that TypeScript can help you catch errors (how do you know that <code>action</code> has a <code>type</code> property?).</p>\n\n<p>Hope that helps; good luck!</p>\n"}, {"tags": [], "owner": {"reputation": 1996, "user_id": 8634147, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-36eQ4qJ6F9o/AAAAAAAAAAI/AAAAAAAADZg/coKQfu-5HzM/photo.jpg?sz=128", "display_name": "Romain Deneau", "link": "https://stackoverflow.com/users/8634147/romain-deneau"}, "is_accepted": true, "score": 3, "last_activity_date": 1506524638, "creation_date": 1506524638, "answer_id": 46451282, "question_id": 46450658, "link": "https://stackoverflow.com/questions/46450658/property-id-does-not-exist-on-type-never/46451282#46451282", "title": "Property id does not exist on type &#39;never&#39;", "body": "\n\n<p>It's probably due to types missing for the <code>state</code> and/or <code>action</code> arguments. Try this code that should work with TypeScript 2.4+, inspired by this <a href=\"https://spin.atomicobject.com/2017/07/24/redux-action-pattern-typescript/\" rel=\"nofollow noreferrer\">article</a>:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>interface Landing {\n    id: any;\n}\n\nenum ActionTypes {\n    ADD_LANDING  = \"ADD_LANDING\",\n    EDIT_LANDING = \"EDIT_LANDING\",\n    OTHER_ACTION = \"__any_other_action_type__\"\n}\n\ninterface AddLandingAction {\n    type: ActionTypes.ADD_LANDING;\n    landing: Landing;\n}\n\ninterface EditLandingAction {\n    type: ActionTypes.EDIT_LANDING;\n    landing: Landing;\n}\n\ntype LandingAction =\n    | AddLandingAction\n    | EditLandingAction;\n\nfunction landingReducer(state: Landing[], action: LandingAction) {\n    switch (action.type) {\n        case ActionTypes.ADD_LANDING:\n            return [...state, action.landing]\n\n        case ActionTypes.EDIT_LANDING:\n            return state.map(landing =&gt; {\n                if (action.landing.id === landing.id) {\n                    return landing;\n                }\n            });\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 994, "user_id": 7971991, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/bLT6v.jpg?s=128&g=1", "display_name": "Lucas Janon", "link": "https://stackoverflow.com/users/7971991/lucas-janon"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2226, "favorite_count": 0, "accepted_answer_id": 46451282, "answer_count": 2, "score": 3, "last_activity_date": 1506524638, "creation_date": 1506522961, "last_edit_date": 1506523072, "question_id": 46450658, "link": "https://stackoverflow.com/questions/46450658/property-id-does-not-exist-on-type-never", "title": "Property id does not exist on type &#39;never&#39;", "body": "<p>I'm trying to do a <code>.map</code> function into a state array in Redux with Typescript, the problem is that it's throwing an error </p>\n\n<blockquote>\n  <p>[ts] Property 'id' does not exist on type 'never'</p>\n</blockquote>\n\n<p>in the <code>landing.id</code> if statement, since its an array of objects the code makes sense for me but seems that I'm missing something there</p>\n\n<pre><code>export default function landingReducer (state = [], action) {\nswitch(action.type) {\n  case ActionTypes.ADD_LANDING:\n    return [...state, action.landing]\n  case ActionTypes.EDIT_LANDING:\n    return state.map(landing =&gt; {\n      if (action.landing.id == landing.id) {\n        return landing;\n      }\n    })\n</code></pre>\n\n<p>Thanks in advance!</p>\n"}, {"tags": ["javascript", "angular", "typescript", "rxjs"], "comments": [{"owner": {"reputation": 2784, "user_id": 2706426, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/rcyvn.jpg?s=128&g=1", "display_name": "waterplea", "link": "https://stackoverflow.com/users/2706426/waterplea"}, "edited": false, "score": 0, "creation_date": 1552919699, "post_id": 46450603, "comment_id": 97182338, "body": "Why don&#39;t you make a directive that injects NgForm and subscribes to it&#39;s submit method, then processes it and has it&#39;s own output like <code>patchedSubmit</code> and then you would subscribe to it in your template, rather than to <code>submit</code>? Kinda like a middle-man directive."}], "answers": [{"tags": [], "owner": {"reputation": 57430, "user_id": 3106920, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pO5sC.jpg?s=128&g=1", "display_name": "Poul Kruijt", "link": "https://stackoverflow.com/users/3106920/poul-kruijt"}, "is_accepted": false, "score": 0, "last_activity_date": 1589140432, "creation_date": 1589140432, "answer_id": 61717928, "question_id": 46450603, "link": "https://stackoverflow.com/questions/46450603/is-there-a-way-to-decorate-intercept-a-built-in-directive-in-angular-4-without-m/61717928#61717928", "title": "Is there a way to decorate/intercept a built-in directive in Angular 4 without monkey patching?", "body": "<p>You can always just override the <code>ngForm</code> selector, and extend the <code>NgForm</code> class:</p>\n\n<pre><code>@Directive({\n  selector: 'form:not([ngNoForm]):not([formGroup]),ng-form,[ngForm]',\n})\nexport class CNgFormDirective extends NgForm {\n constructor(\n      @Optional() @Self() @Inject(NG_VALIDATORS) validators: any[],\n      @Optional() @Self() @Inject(NG_ASYNC_VALIDATORS) asyncValidators: any[]) {\n    super(validators, asyncValidators);\n  }\n\n  onSubmit($event: Event): boolean {\n    console.log(`I'm custom!`);\n\n    return super.onSubmit($event);\n  }\n}\n</code></pre>\n\n<p><a href=\"https://stackblitz.com/edit/angular-ivy-tceiz1?file=src%2Fapp%2Fc-ng-form.directive.ts\" rel=\"nofollow noreferrer\">working stack</a></p>\n"}], "owner": {"reputation": 3104, "user_id": 1409101, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/bab942d497bfde94e541a3d6fc299202?s=128&d=identicon&r=PG", "display_name": "Taylor Buchanan", "link": "https://stackoverflow.com/users/1409101/taylor-buchanan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 291, "favorite_count": 2, "answer_count": 1, "score": 9, "last_activity_date": 1589140432, "creation_date": 1506522825, "last_edit_date": 1506605110, "question_id": 46450603, "link": "https://stackoverflow.com/questions/46450603/is-there-a-way-to-decorate-intercept-a-built-in-directive-in-angular-4-without-m", "title": "Is there a way to decorate/intercept a built-in directive in Angular 4 without monkey patching?", "body": "<h2>Problem</h2>\n\n<p>I am trying to add functionality to the built-in <code>NgForm</code> directive by intercepting the <code>onSubmit</code> function in order to prevent double-submission and invalid submission, but I haven't been able to find a way to do so without monkey patching.</p>\n\n<h2>Failed Attempt 1: Decorator via Dependency Injection</h2>\n\n<p>I didn't really expect this to work with directives since they aren't really \"providers\", but I tried it anyway (to no avail).</p>\n\n<pre><code>import { Injectable } from '@angular/core';\nimport { NgForm } from '@angular/forms';\n\n@Injectable()\nexport class NgFormDecorator extends NgForm {\n    constructor() {\n        super(null, null);\n    }\n\n    onSubmit($event: Event): boolean {\n        // TODO: Prevent submission if in progress\n        return super.onSubmit($event);\n    }\n}\n\n// Module configuration\nproviders: [{\n    provide: NgForm,\n    useClass: NgFormDecorator\n}]\n</code></pre>\n\n<h2>Working Attempt 2: Monkey Patch with Secondary Directive</h2>\n\n<p>This works great but is obviously not ideal.</p>\n\n<pre><code>import { Directive, Output, EventEmitter } from '@angular/core';\nimport { NgForm } from '@angular/forms';\nimport { Observable } from 'rxjs/Observable';\nimport 'rxjs/add/operator/finally';\nimport { noop } from 'rxjs/util/noop';\n\n@Directive({\n    selector: 'form',\n    exportAs: 'NgFormExtension'\n})\nexport class NgFormExtensionDirective {\n    private onSubmitBase: ($event: Event) =&gt; void;\n    submitting: boolean;\n\n    constructor(private ngForm: NgForm) {\n        this.onSubmitBase = ngForm.onSubmit;\n        ngForm.onSubmit = this.onSubmit.bind(this);\n    }\n\n    private onSubmit($event: FormSubmitEvent): boolean {\n        if (this.submitting || this.ngForm.invalid) {\n            return false;\n        }\n        this.submitting = true;\n        const result = this.onSubmitBase.call(this.ngForm, $event);\n        if ($event.submission) {\n            $event.submission\n                .finally(() =&gt; this.submitting = false)\n                .subscribe(null, noop);\n        } else {\n            this.submitting = false;\n        }\n        return result;\n    }\n}\n\nexport class FormSubmitEvent extends Event {\n     submission: Observable&lt;any&gt;;\n}\n</code></pre>\n\n<h2>Question</h2>\n\n<p>Is there a way to decorate/intercept a built-in directive in Angular 4 without monkey patching?</p>\n"}, {"tags": ["angular", "typescript"], "comments": [{"owner": {"reputation": 168939, "user_id": 5485167, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qWD9t.jpg?s=128&g=1", "display_name": "yurzui", "link": "https://stackoverflow.com/users/5485167/yurzui"}, "edited": false, "score": 0, "creation_date": 1506521693, "post_id": 46450114, "comment_id": 79856053, "body": "Angular creates sourcemap for template. Just click on the line with error and you will see where is error in your template. I mean line with <code>&lt;@ng:&#47;&#47;&#47;AppModule&#47;UploadScriptFormComponent.ngfactory.js:346&zwnj;&#8203;:9</code> text"}, {"owner": {"reputation": 5100, "user_id": 4218017, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/077076971d75a0e644d620866a6a718b?s=128&d=identicon&r=PG", "display_name": "Overdrivr", "link": "https://stackoverflow.com/users/4218017/overdrivr"}, "reply_to_user": {"reputation": 168939, "user_id": 5485167, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qWD9t.jpg?s=128&g=1", "display_name": "yurzui", "link": "https://stackoverflow.com/users/5485167/yurzui"}, "edited": false, "score": 0, "creation_date": 1506569876, "post_id": 46450114, "comment_id": 79876111, "body": "It&#39;s not working (at least in firefox), is it supposed to show an actual line inside my source files ? Clicking the stack trace just opens the side panel where I can explore its properties but that&#39;s it"}], "owner": {"reputation": 5100, "user_id": 4218017, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/077076971d75a0e644d620866a6a718b?s=128&d=identicon&r=PG", "display_name": "Overdrivr", "link": "https://stackoverflow.com/users/4218017/overdrivr"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 139, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1506528540, "creation_date": 1506521419, "last_edit_date": 1506528540, "question_id": 46450114, "link": "https://stackoverflow.com/questions/46450114/how-to-get-readable-and-useful-call-error-stacks-in-angular-4", "title": "How to get readable and useful call/error stacks in Angular 4", "body": "<p>When developping Angular 4 applications, I often get unreadable call stacks where only generated files are mentionned. Something like that:</p>\n\n<pre><code>ERROR TypeError: _co.archive is undefined\nTrace de la pile :\nView_UploadScriptFormComponent_0/&lt;@ng:///AppModule/UploadScriptFormComponent.ngfactory.js:346:9\ndebugUpdateRenderer@http://localhost:4200/vendor.bundle.js:67835:12\ncheckAndUpdateView@http://localhost:4200/vendor.bundle.js:66982:5\ncallViewAction@http://localhost:4200/vendor.bundle.js:67342:21\nexecComponentViewsAction@http://localhost:4200/vendor.bundle.js:67274:13\ncheckAndUpdateView@http://localhost:4200/vendor.bundle.js:66983:5\ncallViewAction@http://localhost:4200/vendor.bundle.js:67342:21\nexecComponentViewsAction@http://localhost:4200/vendor.bundle.js:67274:13\ncheckAndUpdateView@http://localhost:4200/vendor.bundle.js:66983:5\ncallViewAction@http://localhost:4200/vendor.bundle.js:67342:21\nexecEmbeddedViewsAction@http://localhost:4200/vendor.bundle.js:67300:17\ncheckAndUpdateView@http://localhost:4200/vendor.bundle.js:66978:5\ncallViewAction@http://localhost:4200/vendor.bundle.js:67342:21\nexecComponentViewsAction@http://localhost:4200/vendor.bundle.js:67274:13\n[...]\n../../../../rxjs/Subject.js/Subject.prototype.next@http://localhost:4200/vendor.bundle.js:10145:17\n../../../core/@angular/core.es5.js/&lt;/EventEmitter.prototype.emit@http://localhost:4200/vendor.bundle.js:58343:54\ncheckStable@http://localhost:4200/vendor.bundle.js:58577:13\nonHasTask@http://localhost:4200/vendor.bundle.js:58625:21\n../../../../zone.js/dist/zone.js/&lt;/&lt;/ZoneDelegate.prototype.hasTask@http://localhost:4200/polyfills.bundle.js:2962:21\n../../../../zone.js/dist/zone.js/&lt;/&lt;/ZoneDelegate.prototype._updateTaskCount@http://localhost:4200/polyfills.bundle.js:2982:17\n../../../../zone.js/dist/zone.js/&lt;/&lt;/Zone.prototype._updateTaskCount@http://localhost:4200/polyfills.bundle.js:2806:17\n../../../../zone.js/dist/zone.js/&lt;/&lt;/Zone.prototype.runTask@http://localhost:4200/polyfills.bundle.js:2726:25\ndrainMicroTaskQueue@http://localhost:4200/polyfills.bundle.js:3119:25\n</code></pre>\n\n<p>In this particular error, I have zero variables called <code>_co</code>, and a property archive used in multiple location. <code>UploadScriptFormComponent.ngfactory.js</code> is generated and not part of my source files.</p>\n\n<p>Of course I could try to remove code until I can identify where the error comes from, but this is a stupid and time-consuming approach.</p>\n\n<p>Is there a way to get actual, useful error data instead ?</p>\n"}, {"tags": ["javascript", "json", "angular", "typescript"], "comments": [{"owner": {"reputation": 1026, "user_id": 2197637, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/e1a5b1c5d6f6174eb07102424529fa9c?s=128&d=identicon&r=PG", "display_name": "Ajhar Shaikh", "link": "https://stackoverflow.com/users/2197637/ajhar-shaikh"}, "edited": false, "score": 0, "creation_date": 1506520450, "post_id": 46449528, "comment_id": 79855125, "body": "You need to add html snippet code about how you are using it to display."}], "answers": [{"tags": [], "owner": {"reputation": 40591, "user_id": 6583140, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/eA8qK.jpg?s=128&g=1", "display_name": "Mihai Alexandru-Ionut", "link": "https://stackoverflow.com/users/6583140/mihai-alexandru-ionut"}, "is_accepted": true, "score": 2, "last_activity_date": 1506523122, "last_edit_date": 1506523122, "creation_date": 1506520109, "answer_id": 46449588, "question_id": 46449528, "link": "https://stackoverflow.com/questions/46449528/append-after-every-array-element/46449588#46449588", "title": "Append &#39;|&#39; after every array element", "body": "<p>You can use <code>map</code> method in order to <strong>achieve</strong> your requirement and obtain a more cleaner solution.</p>\n\n<blockquote>\n  <p>The map() method creates a new array with the results of calling a\n  provided function on every element in the calling array.</p>\n</blockquote>\n\n<p>Also, you can use <code>join</code> method in order to obtain the structure <code>action|adventure|comedy</code> with <code>|</code> delimiter.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>let array=[{ \"id\": 1, \"key\": \"deadpool\", \"name\": \"Deadpool\", \"description\": \"A former Special Forces operative turned mercenary is subjected to a rogue experiment that leaves him with accelerated healing powers, adopting the alter ego Deadpool.\", \"genres\": [ \"action\", \"adventure\", \"comedy\" ], \"rate\": 8.6, \"length\": \"1hr 48mins\", \"img\": \"assets/images/movie-covers/deadpool.jpg\" }, { \"id\": 2, \"key\": \"we-are-the-millers\", \"name\": \"We're the Millers\", \"description\": \"A veteran pot dealer creates a fake family as part of his plan to move a huge shipment of weed into the U.S. from Mexico.\", \"genres\": [ \"adventure\", \"comedy\", \"crime\" ], \"rate\": 7, \"length\": \"1hr 50mins\", \"img\": \"assets/images/movie-covers/we-are-the-millers.jpg\" }];       \r\n array=array.map(function(item){\r\n    item.genres=item.genres.join('|');\r\n    return item;\r\n });\r\n console.log(array);</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": [], "owner": {"reputation": 9968, "user_id": 114900, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/ZGjf9.jpg?s=128&g=1", "display_name": "msanford", "link": "https://stackoverflow.com/users/114900/msanford"}, "is_accepted": false, "score": 1, "last_activity_date": 1506520437, "creation_date": 1506520437, "answer_id": 46449726, "question_id": 46449528, "link": "https://stackoverflow.com/questions/46449528/append-after-every-array-element/46449726#46449726", "title": "Append &#39;|&#39; after every array element", "body": "<p>A good solution with <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/map\" rel=\"nofollow noreferrer\"><code>Array.map()</code></a> has been proposed, here is another option with <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/forEach\" rel=\"nofollow noreferrer\"><code>Array.forEach()</code></a>:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const data = [{\r\n    \"id\": 1,\r\n    \"key\": \"deadpool\",\r\n    \"name\": \"Deadpool\",\r\n    \"description\": \"A former Special Forces operative turned mercenary is subjected to a rogue experiment that leaves him with accelerated healing powers, adopting the alter ego Deadpool.\",\r\n    \"genres\": [\r\n      \"action\",\r\n      \"adventure\",\r\n      \"comedy\"\r\n    ],\r\n    \"rate\": 8.6,\r\n    \"length\": \"1hr 48mins\",\r\n    \"img\": \"assets/images/movie-covers/deadpool.jpg\"\r\n  },\r\n  {\r\n    \"id\": 2,\r\n    \"key\": \"we-are-the-millers\",\r\n    \"name\": \"We're the Millers\",\r\n    \"description\": \"A veteran pot dealer creates a fake family as part of his plan to move a huge shipment of weed into the U.S. from Mexico.\",\r\n    \"genres\": [\r\n      \"adventure\",\r\n      \"comedy\",\r\n      \"crime\"\r\n    ],\r\n    \"rate\": 7,\r\n    \"length\": \"1hr 50mins\",\r\n    \"img\": \"assets/images/movie-covers/we-are-the-millers.jpg\"\r\n  }\r\n]\r\n\r\nconst genres = [];\r\ndata.forEach(film =&gt; genres.push(film.genres.join(\"|\")));\r\n\r\nconsole.dir(genres);</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>Note that your <code>data</code> definitely doesn't look like what you put in the code sample, it <em>must</em> be wrapped with <code>[]</code>.</p>\n"}], "owner": {"reputation": 810, "user_id": 7523879, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/UmkN1.jpg?s=128&g=1", "display_name": "Humble Dolt", "link": "https://stackoverflow.com/users/7523879/humble-dolt"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 64, "favorite_count": 2, "accepted_answer_id": 46449588, "answer_count": 2, "score": 1, "last_activity_date": 1506523122, "creation_date": 1506519935, "last_edit_date": 1506523096, "question_id": 46449528, "link": "https://stackoverflow.com/questions/46449528/append-after-every-array-element", "title": "Append &#39;|&#39; after every array element", "body": "<p>I have this JSON &amp; what I want to do is to make genres like this action|adventure|comedy</p>\n\n<pre><code>{\n        \"id\": 1,\n        \"key\": \"deadpool\",\n        \"name\": \"Deadpool\",\n        \"description\": \"A former Special Forces operative turned mercenary is subjected to a rogue experiment that leaves him with accelerated healing powers, adopting the alter ego Deadpool.\",\n        \"genres\": [\n            \"action\",\n            \"adventure\",\n            \"comedy\"\n        ],\n        \"rate\": 8.6,\n        \"length\": \"1hr 48mins\",\n        \"img\": \"assets/images/movie-covers/deadpool.jpg\"\n    },\n    {\n        \"id\": 2,\n        \"key\": \"we-are-the-millers\",\n        \"name\": \"We're the Millers\",\n        \"description\": \"A veteran pot dealer creates a fake family as part of his plan to move a huge shipment of weed into the U.S. from Mexico.\",\n        \"genres\": [\n            \"adventure\",\n            \"comedy\",\n            \"crime\"\n        ],\n        \"rate\": 7,\n        \"length\": \"1hr 50mins\",\n        \"img\": \"assets/images/movie-covers/we-are-the-millers.jpg\"\n    }\n</code></pre>\n\n<p>my component code snippet</p>\n\n<pre><code>           data =&gt; {\n                this.movies = data;\n                var tempArr= data\n                var genres;\n               let genresWithPipe=[];          \n                let len= tempArr.length;\n                for(var i=0; i&lt;len; i++){\n                    genres=tempArr[i].genres+'|';\n                   // console.log(tempArr[i].genres)\n                 for(var j=0;j&lt;genres.length; j++){\n                    if(j&lt;genres.length-1)\n                    genres[j]= genres[j]+'|';\n                    console.log(genres,data);\n                    //genresWithPipe=genres;\n                }\n                }\n                console.log(this.movies,genres)\n\n\n            }\n</code></pre>\n\n<p>I have tried to do it with the help of for loop in my component but then when I am displaying it in the html with the help of *ngFor then because it's a local variable,it won't show up. If I store array values in a global variable then the variable only store the last array. </p>\n"}, {"tags": ["typescript"], "answers": [{"comments": [{"owner": {"reputation": 5059, "user_id": 1606061, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/871eacd541dd701ad868301994758872?s=128&d=identicon&r=PG", "display_name": "Robert Penner", "link": "https://stackoverflow.com/users/1606061/robert-penner"}, "edited": false, "score": 5, "creation_date": 1513879276, "post_id": 46452278, "comment_id": 82829335, "body": "Adding the <code>test</code> method to the class without adding it to the interface is not inherently a problem. If <code>class UserPermissionModel</code> declares both <code>test() {}</code> and <code>prototype: any</code>, there is no error. It&#39;s quite common to have interfaces cover a subset of the members of their implementing classes."}, {"owner": {"reputation": 5059, "user_id": 1606061, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/871eacd541dd701ad868301994758872?s=128&d=identicon&r=PG", "display_name": "Robert Penner", "link": "https://stackoverflow.com/users/1606061/robert-penner"}, "edited": false, "score": 2, "creation_date": 1513879353, "post_id": 46452278, "comment_id": 82829360, "body": "The <code>no properties in common</code> error is weak type detection, which was added in TypeScript 2.4. <a href=\"https://blog.mariusschulz.com/2017/12/01/typescript-2-4-weak-type-detection\" rel=\"nofollow noreferrer\">blog.mariusschulz.com/2017/12/01/&hellip;</a>"}, {"owner": {"reputation": 2012, "user_id": 5386466, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-eUKfNMEHoUY/AAAAAAAAAAI/AAAAAAAAIJE/YtaBpm_-BMk/photo.jpg?sz=128", "display_name": "ABabin", "link": "https://stackoverflow.com/users/5386466/ababin"}, "reply_to_user": {"reputation": 5059, "user_id": 1606061, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/871eacd541dd701ad868301994758872?s=128&d=identicon&r=PG", "display_name": "Robert Penner", "link": "https://stackoverflow.com/users/1606061/robert-penner"}, "edited": false, "score": 0, "creation_date": 1614798298, "post_id": 46452278, "comment_id": 117497702, "body": "@MartinSchagerl Can you please change the accepted answer so I stop getting downvoted for this?"}], "tags": [], "owner": {"reputation": 2012, "user_id": 5386466, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-eUKfNMEHoUY/AAAAAAAAAAI/AAAAAAAAIJE/YtaBpm_-BMk/photo.jpg?sz=128", "display_name": "ABabin", "link": "https://stackoverflow.com/users/5386466/ababin"}, "is_accepted": true, "score": -1, "last_activity_date": 1506527693, "creation_date": 1506527693, "answer_id": 46452278, "question_id": 46449237, "link": "https://stackoverflow.com/questions/46449237/type-x-has-no-properties-in-common-with-type-y/46452278#46452278", "title": "Type &#39;X&#39; has no properties in common with type &#39;Y&#39;", "body": "<p>Interfaces define a \"contract\" that objects implementing said interfaces must fulfill. </p>\n\n<p>Your <code>IClassHasMetaImplements</code> interface only defines <code>prototype</code>. By adding the <code>test</code> method to the <code>UserPermissionModel</code>, you are violating that contract by attempting to add something that isn't laid out in the interface it implements. </p>\n\n<p>You can either add <code>test</code> to the interface, make <code>test</code> private, or remove it from the class to resolve the error. </p>\n\n<p>Here is the <a href=\"https://www.typescriptlang.org/docs/handbook/interfaces.html\" rel=\"nofollow noreferrer\">Typescript docs on Interfaces</a></p>\n"}, {"comments": [{"owner": {"reputation": 19544, "user_id": 985454, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/240c85cfce79d99a6393196f484484a6?s=128&d=identicon&r=PG", "display_name": "Qwerty", "link": "https://stackoverflow.com/users/985454/qwerty"}, "edited": false, "score": 0, "creation_date": 1589310812, "post_id": 47930521, "comment_id": 109242147, "body": "Is it possible to introduce static properties via interface?"}, {"owner": {"reputation": 1002, "user_id": 6096446, "user_type": "registered", "profile_image": "https://graph.facebook.com/1594036754252032/picture?type=large", "display_name": "FullStackForger", "link": "https://stackoverflow.com/users/6096446/fullstackforger"}, "edited": false, "score": 1, "creation_date": 1613366537, "post_id": 47930521, "comment_id": 117043483, "body": "I know it&#39;s been a while since this post but it literally just saved me  hours. Thanks Robert!"}, {"owner": {"reputation": 5059, "user_id": 1606061, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/871eacd541dd701ad868301994758872?s=128&d=identicon&r=PG", "display_name": "Robert Penner", "link": "https://stackoverflow.com/users/1606061/robert-penner"}, "reply_to_user": {"reputation": 1002, "user_id": 6096446, "user_type": "registered", "profile_image": "https://graph.facebook.com/1594036754252032/picture?type=large", "display_name": "FullStackForger", "link": "https://stackoverflow.com/users/6096446/fullstackforger"}, "edited": false, "score": 0, "creation_date": 1614278364, "post_id": 47930521, "comment_id": 117344117, "body": "Glad to hear it @FullStackForger!"}], "tags": [], "owner": {"reputation": 5059, "user_id": 1606061, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/871eacd541dd701ad868301994758872?s=128&d=identicon&r=PG", "display_name": "Robert Penner", "link": "https://stackoverflow.com/users/1606061/robert-penner"}, "is_accepted": false, "score": 29, "last_activity_date": 1600152338, "last_edit_date": 1600152338, "creation_date": 1513879995, "answer_id": 47930521, "question_id": 46449237, "link": "https://stackoverflow.com/questions/46449237/type-x-has-no-properties-in-common-with-type-y/47930521#47930521", "title": "Type &#39;X&#39; has no properties in common with type &#39;Y&#39;", "body": "<p>TypeScript's <a href=\"https://www.typescriptlang.org/docs/handbook/release-notes/typescript-2-4.html#weak-type-detection\" rel=\"nofollow noreferrer\">weak type detection</a> is being triggered. Because your interface has no required properties, technically any class would satisfy the interface (prior to TypeScript 2.4).</p>\n<p>To resolve this error without changing your interface, simply add the optional property to your class:</p>\n<pre><code>export interface IClassHasMetaImplements {\n    prototype?: any;\n}\n\nexport class UserPermissionModel implements IClassHasMetaImplements {\n    public test() {}\n    prototype?: any;\n}\n</code></pre>\n"}], "owner": {"reputation": 403, "user_id": 2489386, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/f0c0839dd6c14fc9ec2e9c06d24da7f3?s=128&d=identicon&r=PG", "display_name": "Martin Schagerl", "link": "https://stackoverflow.com/users/2489386/martin-schagerl"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 30148, "favorite_count": 0, "accepted_answer_id": 46452278, "answer_count": 2, "score": 22, "last_activity_date": 1600152338, "creation_date": 1506519062, "last_edit_date": 1506519164, "question_id": 46449237, "link": "https://stackoverflow.com/questions/46449237/type-x-has-no-properties-in-common-with-type-y", "title": "Type &#39;X&#39; has no properties in common with type &#39;Y&#39;", "body": "<p>I updated typescript to version 2.5.3. Now I get many typings errors. I have following simplified situation:</p>\n\n<pre><code>export interface IClassHasMetaImplements {\n    prototype?: any;\n}\n\nexport class UserPermissionModel implements IClassHasMetaImplements {\n    public test() {\n    }\n}\n</code></pre>\n\n<p>This code statment raise the following error: <code>error TS2559: Type 'UserPermissionModel' has no properties in common with type 'IClassHasMetaImplements'.</code></p>\n\n<p>Could anyone help me resolving this problem.</p>\n\n<p>Thanks!</p>\n"}, {"tags": ["angular", "api", "typescript", "xmlhttprequest", "httprequest"], "answers": [{"comments": [{"owner": {"reputation": 2859, "user_id": 7261317, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/25b9a5e32bcdc158628da35b3d57a95c?s=128&d=identicon&r=PG&f=1", "display_name": "Robert", "link": "https://stackoverflow.com/users/7261317/robert"}, "reply_to_user": {"reputation": 325, "user_id": 8505598, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/b04a1c77b3e189ed97259b8c257ac6ad?s=128&d=identicon&r=PG&f=1", "display_name": "Aya Abdelaziz", "link": "https://stackoverflow.com/users/8505598/aya-abdelaziz"}, "edited": false, "score": 0, "creation_date": 1506515956, "post_id": 46447903, "comment_id": 79851755, "body": "can you post what you did"}, {"owner": {"reputation": 325, "user_id": 8505598, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/b04a1c77b3e189ed97259b8c257ac6ad?s=128&d=identicon&r=PG&f=1", "display_name": "Aya Abdelaziz", "link": "https://stackoverflow.com/users/8505598/aya-abdelaziz"}, "edited": false, "score": 0, "creation_date": 1506516105, "post_id": 46447903, "comment_id": 79851848, "body": "i changed deleteEmployee as u write . do u need to update my answer with your function ???"}, {"owner": {"reputation": 2859, "user_id": 7261317, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/25b9a5e32bcdc158628da35b3d57a95c?s=128&d=identicon&r=PG&f=1", "display_name": "Robert", "link": "https://stackoverflow.com/users/7261317/robert"}, "reply_to_user": {"reputation": 325, "user_id": 8505598, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/b04a1c77b3e189ed97259b8c257ac6ad?s=128&d=identicon&r=PG&f=1", "display_name": "Aya Abdelaziz", "link": "https://stackoverflow.com/users/8505598/aya-abdelaziz"}, "edited": false, "score": 0, "creation_date": 1506516360, "post_id": 46447903, "comment_id": 79852038, "body": "Yes boss can you please"}, {"owner": {"reputation": 2859, "user_id": 7261317, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/25b9a5e32bcdc158628da35b3d57a95c?s=128&d=identicon&r=PG&f=1", "display_name": "Robert", "link": "https://stackoverflow.com/users/7261317/robert"}, "reply_to_user": {"reputation": 325, "user_id": 8505598, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/b04a1c77b3e189ed97259b8c257ac6ad?s=128&d=identicon&r=PG&f=1", "display_name": "Aya Abdelaziz", "link": "https://stackoverflow.com/users/8505598/aya-abdelaziz"}, "edited": false, "score": 0, "creation_date": 1506516631, "post_id": 46447903, "comment_id": 79852234, "body": "@AyaAbdelaziz can you check my latest ans"}, {"owner": {"reputation": 2859, "user_id": 7261317, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/25b9a5e32bcdc158628da35b3d57a95c?s=128&d=identicon&r=PG&f=1", "display_name": "Robert", "link": "https://stackoverflow.com/users/7261317/robert"}, "reply_to_user": {"reputation": 325, "user_id": 8505598, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/b04a1c77b3e189ed97259b8c257ac6ad?s=128&d=identicon&r=PG&f=1", "display_name": "Aya Abdelaziz", "link": "https://stackoverflow.com/users/8505598/aya-abdelaziz"}, "edited": false, "score": 0, "creation_date": 1506516728, "post_id": 46447903, "comment_id": 79852302, "body": "Let us <a href=\"http://chat.stackoverflow.com/rooms/155422/discussion-between-robert-and-aya-abdelaziz\">continue this discussion in chat</a>."}, {"owner": {"reputation": 2859, "user_id": 7261317, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/25b9a5e32bcdc158628da35b3d57a95c?s=128&d=identicon&r=PG&f=1", "display_name": "Robert", "link": "https://stackoverflow.com/users/7261317/robert"}, "reply_to_user": {"reputation": 325, "user_id": 8505598, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/b04a1c77b3e189ed97259b8c257ac6ad?s=128&d=identicon&r=PG&f=1", "display_name": "Aya Abdelaziz", "link": "https://stackoverflow.com/users/8505598/aya-abdelaziz"}, "edited": false, "score": 0, "creation_date": 1506516825, "post_id": 46447903, "comment_id": 79852375, "body": "you mean this error &quot;headers.append need 2 arguments it give me error&quot;"}, {"owner": {"reputation": 325, "user_id": 8505598, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/b04a1c77b3e189ed97259b8c257ac6ad?s=128&d=identicon&r=PG&f=1", "display_name": "Aya Abdelaziz", "link": "https://stackoverflow.com/users/8505598/aya-abdelaziz"}, "edited": false, "score": 0, "creation_date": 1506517068, "post_id": 46447903, "comment_id": 79852564, "body": "no i mean the error XMLHttpRequest cannot load api.azharcouncil.com/api/\u2026. Response for preflight has invalid HTTP status code 405."}, {"owner": {"reputation": 2859, "user_id": 7261317, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/25b9a5e32bcdc158628da35b3d57a95c?s=128&d=identicon&r=PG&f=1", "display_name": "Robert", "link": "https://stackoverflow.com/users/7261317/robert"}, "reply_to_user": {"reputation": 325, "user_id": 8505598, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/b04a1c77b3e189ed97259b8c257ac6ad?s=128&d=identicon&r=PG&f=1", "display_name": "Aya Abdelaziz", "link": "https://stackoverflow.com/users/8505598/aya-abdelaziz"}, "edited": false, "score": 0, "creation_date": 1506517271, "post_id": 46447903, "comment_id": 79852732, "body": "what is your backend"}, {"owner": {"reputation": 325, "user_id": 8505598, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/b04a1c77b3e189ed97259b8c257ac6ad?s=128&d=identicon&r=PG&f=1", "display_name": "Aya Abdelaziz", "link": "https://stackoverflow.com/users/8505598/aya-abdelaziz"}, "edited": false, "score": 0, "creation_date": 1506519791, "post_id": 46447903, "comment_id": 79854592, "body": "i don&#39;t understand , can you explain ?"}], "tags": [], "owner": {"reputation": 2859, "user_id": 7261317, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/25b9a5e32bcdc158628da35b3d57a95c?s=128&d=identicon&r=PG&f=1", "display_name": "Robert", "link": "https://stackoverflow.com/users/7261317/robert"}, "is_accepted": false, "score": 0, "last_activity_date": 1506516603, "last_edit_date": 1506516603, "creation_date": 1506515411, "answer_id": 46447903, "question_id": 46447812, "link": "https://stackoverflow.com/questions/46447812/response-for-preflight-has-invalid-http-status-code-405-angular-4/46447903#46447903", "title": "Response for preflight has invalid HTTP status code 405 angular 4", "body": "<p>I think request content type should be <strong>application/json</strong> also change headers should be append key for adding header options</p>\n\n<pre><code>deleteEmployee(employeeId: any){\n let url = 'http://api.azharcouncil.com/api/Employees/DeleteEmployee?id='+employeeId;\n let headers = new Headers();\n headers.append('Content-Type', 'application/json') \n return this.http.delete(url,{ headers: headers })\n                .map(resp =&gt; resp.json())\n                .catch(this.handleError);\n\n\n}\n</code></pre>\n"}], "owner": {"reputation": 325, "user_id": 8505598, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/b04a1c77b3e189ed97259b8c257ac6ad?s=128&d=identicon&r=PG&f=1", "display_name": "Aya Abdelaziz", "link": "https://stackoverflow.com/users/8505598/aya-abdelaziz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 3554, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1506516603, "creation_date": 1506515073, "last_edit_date": 1506516447, "question_id": 46447812, "link": "https://stackoverflow.com/questions/46447812/response-for-preflight-has-invalid-http-status-code-405-angular-4", "title": "Response for preflight has invalid HTTP status code 405 angular 4", "body": "<p>I got this error  : XMLHttpRequest cannot load <a href=\"http://api.azharcouncil.com/api/Employees/DeleteEmployee?id=11\" rel=\"nofollow noreferrer\">http://api.azharcouncil.com/api/Employees/DeleteEmployee?id=11</a>. Response for preflight has invalid HTTP status code 405.  when trying to delete employee from the table . </p>\n\n<p>data-storage.service.ts:</p>\n\n<pre><code>deleteEmployee(employeeId: any){\n    let url = 'http://api.azharcouncil.com/api/Employees/DeleteEmployee?id='+employeeId;\nlet headers = new Headers();\nheaders.append('Content-Type', 'applications/json')\nlet options = new RequestOptions({ headers: headers }); \nreturn this.http.delete(url, options)\n.map(resp =&gt; resp.json());\n\n    }\n</code></pre>\n\n<p>employees.component.ts:</p>\n\n<pre><code>onDelete(employeeId: any){\n\n  this.dataStorageService.deleteEmployee(employeeId).subscribe(\n    data =&gt; {\n      console.log(data);\n      return true;\n        },\n        error =&gt; {\n          console.log(error.json().error);\n          console.error(\"Error delete employes!\");\n          return false;\n        }\n       );\n    console.log(employeeId);\n   }\n</code></pre>\n\n<p>** when i tried this url in postman i can delete employee **</p>\n"}, {"tags": ["javascript", "angular", "typescript", "angular2-routing"], "comments": [{"owner": {"reputation": 16077, "user_id": 2708210, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/EU2af.jpg?s=128&g=1", "display_name": "Rahul Singh", "link": "https://stackoverflow.com/users/2708210/rahul-singh"}, "edited": false, "score": 0, "creation_date": 1506517513, "post_id": 46447754, "comment_id": 79852905, "body": "you might be using some scripts that are overriding them"}, {"owner": {"reputation": 1260, "user_id": 8380638, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/FKucq.jpg?s=128&g=1", "display_name": "m33n", "link": "https://stackoverflow.com/users/8380638/m33n"}, "reply_to_user": {"reputation": 16077, "user_id": 2708210, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/EU2af.jpg?s=128&g=1", "display_name": "Rahul Singh", "link": "https://stackoverflow.com/users/2708210/rahul-singh"}, "edited": false, "score": 0, "creation_date": 1506523714, "post_id": 46447754, "comment_id": 79857527, "body": "I&#39;m afraid I&#39;m not using any other script at all"}], "answers": [{"tags": [], "owner": {"reputation": 176, "user_id": 7419080, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3f373e7234615b581759b00e3c36845b?s=128&d=identicon&r=PG", "display_name": "NightWnvol", "link": "https://stackoverflow.com/users/7419080/nightwnvol"}, "is_accepted": true, "score": 0, "last_activity_date": 1507110592, "creation_date": 1507110592, "answer_id": 46561855, "question_id": 46447754, "link": "https://stackoverflow.com/questions/46447754/load-scripts-through-all-components-in-angular-2/46561855#46561855", "title": "Load scripts through all components in Angular 2", "body": "<p>You can remove and recreate your script elements in DOM every time you need, like this:</p>\n\n<pre><code>document.getElementById(\"myScript\").remove();\nvar testScript = document.createElement(\"script\");\ntestScript.setAttribute(\"id\", \"myScript\");\ntestScript.setAttribute(\"src\", \"assets/js/script.js\");\ndocument.body.appendChild(myScript);\n</code></pre>\n\n<p>I posted a question in GitHub where I explain how to do it.</p>\n"}, {"comments": [{"owner": {"reputation": 1260, "user_id": 8380638, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/FKucq.jpg?s=128&g=1", "display_name": "m33n", "link": "https://stackoverflow.com/users/8380638/m33n"}, "edited": false, "score": 0, "creation_date": 1508409305, "post_id": 46827342, "comment_id": 80603107, "body": "That&#39;s a very interesting solution!"}], "tags": [], "owner": {"reputation": 269, "user_id": 6296713, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/a0vyP.png?s=128&g=1", "display_name": "Sunny Gohil", "link": "https://stackoverflow.com/users/6296713/sunny-gohil"}, "is_accepted": false, "score": 2, "last_activity_date": 1508410297, "last_edit_date": 1508410297, "creation_date": 1508407189, "answer_id": 46827342, "question_id": 46447754, "link": "https://stackoverflow.com/questions/46447754/load-scripts-through-all-components-in-angular-2/46827342#46827342", "title": "Load scripts through all components in Angular 2", "body": "<p>A simple solution I found was just to add a <code>window.location.href = '...'</code> to whatever link you are opening after login. Heres my function for the when the login button is clicked.</p>\n\n<pre><code>this.authService.authenticateMember(member).subscribe(data =&gt; {\n  if (data.success) {\n      ...\n      window.location.href = '/'\n      ...\n  } else {\n      ...\n  }\n}\n</code></pre>\n\n<p>So if you are using authentication then you can put that above code at the end of your login success response and it will refresh the page aswell as take the user to wherever they are going after a successful login.</p>\n\n<p>This is not the best solution but it is the simplest one i can think of that dosent require too many changes. Hope it helps :)</p>\n"}], "owner": {"reputation": 1260, "user_id": 8380638, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/FKucq.jpg?s=128&g=1", "display_name": "m33n", "link": "https://stackoverflow.com/users/8380638/m33n"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1364, "favorite_count": 2, "accepted_answer_id": 46561855, "answer_count": 2, "score": 2, "last_activity_date": 1519054079, "creation_date": 1506514908, "last_edit_date": 1592644375, "question_id": 46447754, "link": "https://stackoverflow.com/questions/46447754/load-scripts-through-all-components-in-angular-2", "title": "Load scripts through all components in Angular 2", "body": "<p>I have been using Angular 2 with <a href=\"https://adminlte.io/\" rel=\"nofollow noreferrer\">AdminLTE</a> which needs to run some scripts to load properly. So I have added them in in my <strong>.anglular-cli.json</strong>:</p>\n<pre><code>&quot;scripts&quot;: [\n    &quot;../node_modules/jquery/dist/jquery.min.js&quot;,\n    &quot;../node_modules/bootstrap/dist/js/bootstrap.min.js&quot;,\n    &quot;../node_modules/admin-lte/dist/js/adminlte.min.js&quot;,\n    &quot;../node_modules/moment/min/moment.min.js&quot;\n],\n</code></pre>\n<p>Unfortunately, this does not work all time. The page loads fine the first time but when I route to another page, scripts are not reloaded for the component template.</p>\n<p>I could not find any information about this which is very surprising for me since I thought it would be a general problem! I might be totally lost with this!</p>\n"}, {"tags": ["angular", "typescript", "angular2-components"], "comments": [{"owner": {"reputation": 3581, "user_id": 4623495, "user_type": "registered", "accept_rate": 22, "profile_image": "https://i.stack.imgur.com/RoAj1.jpg?s=128&g=1", "display_name": "Double H", "link": "https://stackoverflow.com/users/4623495/double-h"}, "edited": false, "score": 0, "creation_date": 1506515233, "post_id": 46447671, "comment_id": 79851290, "body": "use *ngIf in child component .. till result not able .. If results get available then pass data to child"}], "answers": [{"comments": [{"owner": {"reputation": 75, "user_id": 4621430, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/5837e05fdab7465f451e34e17f84847f?s=128&d=identicon&r=PG&f=1", "display_name": "James Relic", "link": "https://stackoverflow.com/users/4621430/james-relic"}, "edited": false, "score": 0, "creation_date": 1506516037, "post_id": 46447912, "comment_id": 79851801, "body": "@itender hi thanks for the response. Im not 100% about step 3, what actually would go inside the &quot;//here you can write your code&quot; ? Im assuming this emitter will be triggered for every row/result my query returns? In which can would I need to add each result to a list variable in the child class?"}, {"owner": {"reputation": 8098, "user_id": 5621827, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/2DQqw.png?s=128&g=1", "display_name": "jitender", "link": "https://stackoverflow.com/users/5621827/jitender"}, "reply_to_user": {"reputation": 75, "user_id": 4621430, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/5837e05fdab7465f451e34e17f84847f?s=128&d=identicon&r=PG&f=1", "display_name": "James Relic", "link": "https://stackoverflow.com/users/4621430/james-relic"}, "edited": false, "score": 0, "creation_date": 1506516197, "post_id": 46447912, "comment_id": 79851921, "body": "@JamesRelic basically you will get results in child every time you call the emit method from the parent component and there you can play accordingly"}, {"owner": {"reputation": 75, "user_id": 4621430, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/5837e05fdab7465f451e34e17f84847f?s=128&d=identicon&r=PG&f=1", "display_name": "James Relic", "link": "https://stackoverflow.com/users/4621430/james-relic"}, "edited": false, "score": 0, "creation_date": 1506516274, "post_id": 46447912, "comment_id": 79851971, "body": "@itender I guess im not sure if this.emitter.testEmitter.subscribe(results would be return test or test[]. The blotterTradesPostService.getTestQuery() returns test[]"}, {"owner": {"reputation": 8098, "user_id": 5621827, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/2DQqw.png?s=128&g=1", "display_name": "jitender", "link": "https://stackoverflow.com/users/5621827/jitender"}, "reply_to_user": {"reputation": 75, "user_id": 4621430, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/5837e05fdab7465f451e34e17f84847f?s=128&d=identicon&r=PG&f=1", "display_name": "James Relic", "link": "https://stackoverflow.com/users/4621430/james-relic"}, "edited": false, "score": 0, "creation_date": 1506516450, "post_id": 46447912, "comment_id": 79852099, "body": "@JamesRelic it would return   test[] as we can only emit test[] type which we specify in  EventEmitter&lt;test[]&gt;"}, {"owner": {"reputation": 8098, "user_id": 5621827, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/2DQqw.png?s=128&g=1", "display_name": "jitender", "link": "https://stackoverflow.com/users/5621827/jitender"}, "reply_to_user": {"reputation": 75, "user_id": 4621430, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/5837e05fdab7465f451e34e17f84847f?s=128&d=identicon&r=PG&f=1", "display_name": "James Relic", "link": "https://stackoverflow.com/users/4621430/james-relic"}, "edited": false, "score": 0, "creation_date": 1506516482, "post_id": 46447912, "comment_id": 79852118, "body": "also you can give it a try and can check the results and modify accordingly"}], "tags": [], "owner": {"reputation": 8098, "user_id": 5621827, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/2DQqw.png?s=128&g=1", "display_name": "jitender", "link": "https://stackoverflow.com/users/5621827/jitender"}, "is_accepted": true, "score": 1, "last_activity_date": 1506515430, "creation_date": 1506515430, "answer_id": 46447912, "question_id": 46447671, "link": "https://stackoverflow.com/questions/46447671/angular-2-generate-results-table-when-parent-component-makes-rest-call/46447912#46447912", "title": "Angular 2 , generate results table when parent component makes rest call", "body": "<p>You can create a service and use <a href=\"https://angular.io/api/core/EventEmitter\" rel=\"nofollow noreferrer\">Event Emitter</a> to emit the changes and than subscribe to those changes in child component for that you have to</p>\n\n<p>1:-Create a service</p>\n\n<pre><code>import { Injectable, Inject,EventEmitter } from '@angular/core';\n@Injectable()\nexport class EmitterService {\npublic testEmitter:EventEmitter&lt;test[]&gt;=new EventEmitter(); \n}\n</code></pre>\n\n<p>2.in your root component  inject service depandany in counstructor and emit once result comes</p>\n\n<pre><code>  constructor(private emitter :EmitterService) //inject service\n\n this.blotterTradesPostService.getTestQuery().subscribe(u =&gt; {\n    this.emitter.testEmitter.emit(u);\n    console.log(this.results);\n});\n</code></pre>\n\n<p>3.In your child component constructor </p>\n\n<pre><code>  constructor(private emitter :EmitterService){\n    this.emitter.testEmitter.subscribe(results =&gt;{\n    //here you can write your code it will be called every time emit method is called\n  })\n }\n</code></pre>\n\n<p>For more info you can check out <a href=\"http://plnkr.co/edit/d42bKafINUqJ1xDQKpXo?p=preview\" rel=\"nofollow noreferrer\">this plunker</a></p>\n"}], "owner": {"reputation": 75, "user_id": 4621430, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/5837e05fdab7465f451e34e17f84847f?s=128&d=identicon&r=PG&f=1", "display_name": "James Relic", "link": "https://stackoverflow.com/users/4621430/james-relic"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 158, "favorite_count": 0, "accepted_answer_id": 46447912, "answer_count": 1, "score": 1, "last_activity_date": 1506515430, "creation_date": 1506514674, "last_edit_date": 1506514988, "question_id": 46447671, "link": "https://stackoverflow.com/questions/46447671/angular-2-generate-results-table-when-parent-component-makes-rest-call", "title": "Angular 2 , generate results table when parent component makes rest call", "body": "<p>I want to</p>\n\n<ul>\n<li>Run a REST query in my parent component (<strong>getTest()</strong>)</li>\n<li>Upon running the above query I want it to populate <strong>results: test[]</strong> with the results</li>\n<li>Once <strong>results: test[]</strong> has been populated I want it to be passed down to the child class so that it can be used to generate a HTML table so that the rows of the table represent the results.</li>\n</ul>\n\n<p>My problem is that the <strong>ngOnChanges()</strong> method in the child class never gets called so Im not sure how to get the results from the parent when they become available.</p>\n\n<p>Here is my parent and child component .ts file</p>\n\n<pre><code>export class BlotterComponent implements OnInit, OnChanges {\nshowAdvancedForm: boolean;\nresults: test[];\n\nconstructor(private blotterPostService: BlotterPostService) {\n    this.showAdvancedForm = false;\n}\n\nngOnInit() {}\n\nngOnChanges(changes: any) {\n    console.log(\"ngOnChanges BlotterComponent\");\n    console.log(this.results);\n}\n\ngetTest() {\n    console.log(\"Running test RESTful query..\");\n    this.blotterTradesPostService.getTestQuery().subscribe(u =&gt; {\n        this.results = u;\n        console.log(this.results);\n    });\n    }\n}\n</code></pre>\n\n<p>Here is my child component .ts file.</p>\n\n<pre><code>export class TestTableComponent implements OnInit, OnChanges {\n  @Input() testResults: test[];\n\n  constructor() { }\n\n  ngOnInit() {}\n\n  ngOnChanges() {\n      console.log(\"ngOnChanges TestTableComponent search results\");\n      console.log(this.testResults);\n  }\n</code></pre>\n\n<p>}</p>\n"}, {"tags": ["angular", "typescript", "angular-forms", "angular4-forms"], "comments": [{"owner": {"reputation": 13456, "user_id": 6053654, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/7RcDF.png?s=128&g=1", "display_name": "Commercial Suicide", "link": "https://stackoverflow.com/users/6053654/commercial-suicide"}, "edited": false, "score": 0, "creation_date": 1506514348, "post_id": 46447464, "comment_id": 79850740, "body": "Why don&#39;t you just use two way data binding via <code>[(ngModel)]</code> for working with values?"}, {"owner": {"reputation": 18865, "user_id": 1990451, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/kffVz.jpg?s=128&g=1", "display_name": "smnbbrv", "link": "https://stackoverflow.com/users/1990451/smnbbrv"}, "reply_to_user": {"reputation": 13456, "user_id": 6053654, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/7RcDF.png?s=128&g=1", "display_name": "Commercial Suicide", "link": "https://stackoverflow.com/users/6053654/commercial-suicide"}, "edited": false, "score": 0, "creation_date": 1506514536, "post_id": 46447464, "comment_id": 79850880, "body": "@CommercialSuicide because FormControls are way more powerful and clear?"}, {"owner": {"reputation": 18865, "user_id": 1990451, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/kffVz.jpg?s=128&g=1", "display_name": "smnbbrv", "link": "https://stackoverflow.com/users/1990451/smnbbrv"}, "edited": false, "score": 0, "creation_date": 1506514769, "post_id": 46447464, "comment_id": 79851006, "body": "@oMpamparos your problem is not clear. Why do you use index from one array to insert the values <b>by the same index</b> into another array? Probably you should transfer your <code>FormArray</code> into <code>FormGroup</code> if you want to keep the values by the same index"}, {"owner": {"reputation": 97, "user_id": 5401352, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/o5ziP.jpg?s=128&g=1", "display_name": "oMpamparos", "link": "https://stackoverflow.com/users/5401352/ompamparos"}, "edited": false, "score": 0, "creation_date": 1506514787, "post_id": 46447464, "comment_id": 79851019, "body": "Yea I am trying to update a Form array&#39;s element on click. I am angular newbie and I read that formControls are the best choice to build forms. Any idea why I can&#39;t update the array&#39;s element?"}, {"owner": {"reputation": 97, "user_id": 5401352, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/o5ziP.jpg?s=128&g=1", "display_name": "oMpamparos", "link": "https://stackoverflow.com/users/5401352/ompamparos"}, "reply_to_user": {"reputation": 18865, "user_id": 1990451, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/kffVz.jpg?s=128&g=1", "display_name": "smnbbrv", "link": "https://stackoverflow.com/users/1990451/smnbbrv"}, "edited": false, "score": 0, "creation_date": 1506514906, "post_id": 46447464, "comment_id": 79851086, "body": "@smnbbrv I am trying with the outer index which is the exerciseIndex to update sets array element with the same index from myForm group."}, {"owner": {"reputation": 18865, "user_id": 1990451, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/kffVz.jpg?s=128&g=1", "display_name": "smnbbrv", "link": "https://stackoverflow.com/users/1990451/smnbbrv"}, "edited": false, "score": 0, "creation_date": 1506514997, "post_id": 46447464, "comment_id": 79851143, "body": "I&#39;m sorry but I don&#39;t see the practical reasons of that, that&#39;s why I won&#39;t be able to help. Could you please create a minimal version of a problem as plunkr and describe the problem more precisely?"}, {"owner": {"reputation": 97, "user_id": 5401352, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/o5ziP.jpg?s=128&g=1", "display_name": "oMpamparos", "link": "https://stackoverflow.com/users/5401352/ompamparos"}, "reply_to_user": {"reputation": 18865, "user_id": 1990451, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/kffVz.jpg?s=128&g=1", "display_name": "smnbbrv", "link": "https://stackoverflow.com/users/1990451/smnbbrv"}, "edited": false, "score": 0, "creation_date": 1506515446, "post_id": 46447464, "comment_id": 79851429, "body": "@smnbbrv Think that you have a form group that has an attribute sets which is a Form array. You want to update only the sets[1] for example . How will you do it?"}], "answers": [{"comments": [{"owner": {"reputation": 97, "user_id": 5401352, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/o5ziP.jpg?s=128&g=1", "display_name": "oMpamparos", "link": "https://stackoverflow.com/users/5401352/ompamparos"}, "edited": false, "score": 0, "creation_date": 1506517860, "post_id": 46448726, "comment_id": 79853154, "body": "I don&#39;t want to push the new value. I want to update the old value with the new one."}, {"owner": {"reputation": 1709, "user_id": 2160736, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/rIts8.png?s=128&g=1", "display_name": "Joe Keene", "link": "https://stackoverflow.com/users/2160736/joe-keene"}, "reply_to_user": {"reputation": 97, "user_id": 5401352, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/o5ziP.jpg?s=128&g=1", "display_name": "oMpamparos", "link": "https://stackoverflow.com/users/5401352/ompamparos"}, "edited": false, "score": 0, "creation_date": 1506517978, "post_id": 46448726, "comment_id": 79853233, "body": "So you want to change the FormControl or change the value of the FormControl?"}, {"owner": {"reputation": 97, "user_id": 5401352, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/o5ziP.jpg?s=128&g=1", "display_name": "oMpamparos", "link": "https://stackoverflow.com/users/5401352/ompamparos"}, "edited": false, "score": 0, "creation_date": 1506518071, "post_id": 46448726, "comment_id": 79853288, "body": "I want to change the form control value which is inside form array by it&#39;s index"}, {"owner": {"reputation": 1709, "user_id": 2160736, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/rIts8.png?s=128&g=1", "display_name": "Joe Keene", "link": "https://stackoverflow.com/users/2160736/joe-keene"}, "reply_to_user": {"reputation": 97, "user_id": 5401352, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/o5ziP.jpg?s=128&g=1", "display_name": "oMpamparos", "link": "https://stackoverflow.com/users/5401352/ompamparos"}, "edited": false, "score": 0, "creation_date": 1506518254, "post_id": 46448726, "comment_id": 79853436, "body": "Use patch value? - Updated my answer"}], "tags": [], "owner": {"reputation": 1709, "user_id": 2160736, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/rIts8.png?s=128&g=1", "display_name": "Joe Keene", "link": "https://stackoverflow.com/users/2160736/joe-keene"}, "is_accepted": true, "score": 0, "last_activity_date": 1506518945, "last_edit_date": 1506518945, "creation_date": 1506517638, "answer_id": 46448726, "question_id": 46447464, "link": "https://stackoverflow.com/questions/46447464/angular-formarray-insert/46448726#46448726", "title": "Angular FormArray Insert", "body": "<p>Try using <code>patchValue</code> :-</p>\n\n<pre><code>public ngOnInit() {\n    const arr = new FormArray([\n                new FormControl(),\n                new FormControl()\n            ]);\n\n    let control = arr.controls[0];\n    setTimeout(() =&gt; control.patchValue(\"new-val\"), 250); // Set value to \"new-val\"\n    setTimeout(() =&gt; console.log(control.value), 350); // Logs \"new-val\"\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 97, "user_id": 5401352, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/o5ziP.jpg?s=128&g=1", "display_name": "oMpamparos", "link": "https://stackoverflow.com/users/5401352/ompamparos"}, "is_accepted": false, "score": 0, "last_activity_date": 1506519442, "creation_date": 1506519442, "answer_id": 46449360, "question_id": 46447464, "link": "https://stackoverflow.com/questions/46447464/angular-formarray-insert/46449360#46449360", "title": "Angular FormArray Insert", "body": "<pre><code>onSetsChange(sets, index){\n    var setsFormArray = &lt;FormArray&gt;this.myForm.controls.sets;\n    (setsFormArray.at(index)).patchValue(sets);\n    console.log(index);\n    console.log(setsFormArray);\n}\n</code></pre>\n\n<p>this is a second answer I figured out. Thank you</p>\n"}], "owner": {"reputation": 97, "user_id": 5401352, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/o5ziP.jpg?s=128&g=1", "display_name": "oMpamparos", "link": "https://stackoverflow.com/users/5401352/ompamparos"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3177, "favorite_count": 0, "accepted_answer_id": 46448726, "answer_count": 2, "score": 2, "last_activity_date": 1506519442, "creation_date": 1506513987, "last_edit_date": 1506514068, "question_id": 46447464, "link": "https://stackoverflow.com/questions/46447464/angular-formarray-insert", "title": "Angular FormArray Insert", "body": "<p>I am trying to update a specific value on an formArray using  insert(). \nI initialize form on ngOninit() like this:</p>\n\n<pre><code>this.myForm = this.fb.group({\n    exercises: this.fb.array([]),\n    type: new FormControl(),\n    day: new FormControl(),\n    sets: this.fb.array([]),\n    reps: this.fb.array([]),\n});\n</code></pre>\n\n<p>I have an input where on change i call the below function but when i try to insert a new value with the array's index I get the value pushed.</p>\n\n<pre><code>onSetsChange(sets, index){\n  var setsFormArray = &lt;FormArray&gt;this.myForm.controls.sets;\n  setsFormArray.insert(index, new FormControl(sets));\n}\n</code></pre>\n\n<p>The html code is below:</p>\n\n<pre><code>&lt;div class=\"col-md-3\"&gt;\n  &lt;select class=\"form-control input-sm\" (change)=\"onSetsChange($event.target.value, exerciseIndex)\"&gt;\n     &lt;option *ngFor=\"let set of sets; let i = index;\"&gt;{{set}}&lt;/option&gt;\n  &lt;/select&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>The <strong>exerciseIndex</strong> I pass is from a loop that it doesn't show up.</p>\n\n<p>What i am doing wrong and the value it's not updating? Thank you</p>\n"}, {"tags": ["angular", "typescript", "asp.net-web-api", "service", "http-get"], "answers": [{"comments": [{"owner": {"reputation": 825, "user_id": 3801545, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/a2b11bba853e694529602d5ba3abdef0?s=128&d=identicon&r=PG&f=1", "display_name": "ararb78", "link": "https://stackoverflow.com/users/3801545/ararb78"}, "edited": false, "score": 0, "creation_date": 1506582727, "post_id": 46455538, "comment_id": 79880779, "body": "Thank you vzayko, I add [FromUri] attribute, but de properties are empty, I have to put something else?"}, {"owner": {"reputation": 337, "user_id": 2388494, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/sEPdc.jpg?s=128&g=1", "display_name": "vzayko", "link": "https://stackoverflow.com/users/2388494/vzayko"}, "reply_to_user": {"reputation": 825, "user_id": 3801545, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/a2b11bba853e694529602d5ba3abdef0?s=128&d=identicon&r=PG&f=1", "display_name": "ararb78", "link": "https://stackoverflow.com/users/3801545/ararb78"}, "edited": false, "score": 0, "creation_date": 1506583140, "post_id": 46455538, "comment_id": 79881034, "body": "Could be field mapping. In CopiadoraBusqueda.cs try to change a property (i.e. CodigoCopiadora) to the same case as in JS (i.e. codigoCopiadora) and retest. If you will get this value, so do the same with the rest. Also, you can specify DataMember name as it seen in JS. Good luck!"}, {"owner": {"reputation": 825, "user_id": 3801545, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/a2b11bba853e694529602d5ba3abdef0?s=128&d=identicon&r=PG&f=1", "display_name": "ararb78", "link": "https://stackoverflow.com/users/3801545/ararb78"}, "edited": false, "score": 0, "creation_date": 1506584946, "post_id": 46455538, "comment_id": 79882117, "body": "I change a property CodigoCopiadora in the c# class &quot;CopiadoraBusqueda.cs&quot; and model &quot;copiadorabusquedamodel.ts&quot;, and only use this one, the other properties I have commented, but de value are being null y the web api method, I don&#180;t know if the method &quot;getListadoCopiadorasByFiltro&quot; in &quot;listadocompiadoras.service.ts&quot; file is correctly implemented,"}], "tags": [], "owner": {"reputation": 337, "user_id": 2388494, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/sEPdc.jpg?s=128&g=1", "display_name": "vzayko", "link": "https://stackoverflow.com/users/2388494/vzayko"}, "is_accepted": true, "score": 0, "last_activity_date": 1506539441, "creation_date": 1506539441, "answer_id": 46455538, "question_id": 46447414, "link": "https://stackoverflow.com/questions/46447414/calling-a-web-service-api-http-from-angular2/46455538#46455538", "title": "calling a web service api http from angular2", "body": "<p>Try to add [FromUri] attribute to GetListadoCopiadorasByFiltro function like this:</p>\n\n<pre><code>public IEnumerable&lt;Copiadora&gt; GetListadoCopiadorasByFiltro([FromUri]CopiadoraBusqueda filtro)\n</code></pre>\n\n<p>This will force WebApi to get the parameter from URL. Here is a good post about it: <a href=\"https://docs.microsoft.com/en-us/aspnet/web-api/overview/formats-and-model-binding/parameter-binding-in-aspnet-web-api\" rel=\"nofollow noreferrer\">https://docs.microsoft.com/en-us/aspnet/web-api/overview/formats-and-model-binding/parameter-binding-in-aspnet-web-api</a></p>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 1997633, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zydLN.jpg?s=128&g=1", "display_name": "Jonathan Collins", "link": "https://stackoverflow.com/users/1997633/jonathan-collins"}, "is_accepted": false, "score": 0, "last_activity_date": 1510135196, "last_edit_date": 1510135196, "creation_date": 1510133239, "answer_id": 47175937, "question_id": 46447414, "link": "https://stackoverflow.com/questions/46447414/calling-a-web-service-api-http-from-angular2/47175937#47175937", "title": "calling a web service api http from angular2", "body": "<p>Hi if you want to use [FromUri] you must pass the parametes in the url, as vzayko said. This requires a change in your client code.</p>\n\n<p>Your url would have to look something like api/copiadoras/get/listadoCopiadorasByFiltro?CodigoCopiadora=0000&amp;NumeroSerie=XXXXX&amp;NumeroInventario=12345</p>\n\n<p>There is no out-of the-box support for parameter binding from the header data. You can however implement you own HttpParameterBinding. You can see an example of this <a href=\"https://stackoverflow.com/questions/20618900/webapi-mapping-parameter-to-header-value\">here</a></p>\n"}], "owner": {"reputation": 825, "user_id": 3801545, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/a2b11bba853e694529602d5ba3abdef0?s=128&d=identicon&r=PG&f=1", "display_name": "ararb78", "link": "https://stackoverflow.com/users/3801545/ararb78"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2013, "favorite_count": 0, "accepted_answer_id": 46455538, "answer_count": 2, "score": 1, "last_activity_date": 1510135196, "creation_date": 1506513813, "last_edit_date": 1506585033, "question_id": 46447414, "link": "https://stackoverflow.com/questions/46447414/calling-a-web-service-api-http-from-angular2", "title": "calling a web service api http from angular2", "body": "<p>I am calling a web service api of type httpGet, from angular sends it a parameter of type CopiadoraBusquedaModel and the service retrieves the parameter of type CopiadoraBusqueda, but when i check de parameter on the service web API, the value is null. I have been able to check that the model from angular matches the object from C#. Any ideas?</p>\n\n<p>copiadorabusquedamodel.ts:</p>\n\n<pre><code> export class CopiadoraBusquedaModel {\n public codigoCopiadora: string;\n public numeroSerie: string;\n public numeroInventario: string;\n public nombrePersonaEncargada: string;\n public idCliente: number;\n public idContrato: number;\n public idProveedor: number;\n public idMarca: number;\n public idModelo: number;\n public fechaInstalacion: string;\n public fechaFinFacturacion: string;  \n }\n</code></pre>\n\n<p>service.ts</p>\n\n<pre><code>import { Http, RequestOptions, Headers} from '@angular/http';\nimport { Injectable } from '@angular/core';\nimport { Observable } from 'rxjs/Rx';\nimport { ListadoCopiadorasModel } from '../../models/listadocopiadoras.model';\nimport { CopiadoraBusquedaModel } from '../../models/copiadorabusqueda.model';\n\n@Injectable()\nexport class ListadoCopiadorasService {\nheaders: Headers;\noptions: RequestOptions;\n\nprivate url: any;\n// La variable data cachea los datos del servicio.\nprivate data: any;\nconstructor (private _http: Http) {}\n\n getListadoCopiadorasByFiltro(CopiadoraBusqueda : CopiadoraBusquedaModel): Observable&lt;ListadoCopiadorasModel[]&gt; {\n    this.url = 'api/copiadoras/get/listadoCopiadorasByFiltro';\n    this.headers = new Headers({'Content-Type': 'application/json','Accept': 'q=0.8;application/json;q=0.9'});\n\n    //this.options = new RequestOptions({ headers: this.headers, params: { 'filtro': JSON.stringify(CopiadoraBusqueda) } });\n    this.options = new RequestOptions({ headers: this.headers, params: { 'filtro': CopiadoraBusqueda } });\n    // Si la variable data est\u00e1 vac\u00eda se llama al servicio.\n    // Si tiene datos, se devuelve la variable como observable.\n    if (!this.data) {\n        return this._http.get(this.url, this.options)\n            .map((response: any) =&gt;\n                response.json() as ListadoCopiadorasModel[])\n            .do(data =&gt; this.data = data);\n    } else {\n        return Observable.of(this.data)\n            .map((response: any) =&gt;\n                response as ListadoCopiadorasModel[]);\n    }\n}\n</code></pre>\n\n<p>Copiadoras.Controller.cs:\n    // Some stuff....</p>\n\n<pre><code>[ScriptService]\n[RoutePrefix(\"api/copiadoras\")]\npublic class CopiadorasController: ApiController\n{\n\n[WebMethod]\n[ScriptMethod(ResponseFormat = ResponseFormat.Json, UseHttpGet = true, XmlSerializeString = false)]\n[Route(\"get/listadoCopiadorasByFiltro\")]\n[HttpGet]\npublic IEnumerable&lt;Copiadora&gt; GetListadoCopiadorasByFiltro(CopiadoraBusqueda filtro)\n{\n  IEnumerable&lt;Copiadora&gt; listadoCopiadoras = null;    \n  using (var servicioCopiadoras = new ServicioCopiadoraClient())\n  {\n    listadoCopiadoras = servicioCopiadoras.ObtenerCopiadorasByFiltro(filtro);\n  }\n\n  return listadoCopiadoras.AsEnumerable();\n}\n</code></pre>\n\n<p>CopiadoraBusqueda.cs:</p>\n\n<pre><code>  public class CopiadoraBusqueda\n  {\n\n    [DataMember]\n    public string CodigoCopiadora { get; set; }\n\n    [DataMember]\n    public string NumeroSerie { get; set; }\n\n    [DataMember]\n    public string NumeroInventario { get; set; }\n\n    [DataMember]\n    public string NombrePersonaEncargada { get; set; }\n\n    [DataMember]\n    public Int32 IdCliente { get; set; }\n\n    [DataMember]\n    public Int32 IdContrato { get; set; }\n\n    [DataMember]\n    public Int32 IdProveedor { get; set; }\n\n    [DataMember]\n    public Int32 IdMarca { get; set; }\n\n    [DataMember]\n    public Int32 IdModelo { get; set; }\n\n    [DataMember]\n    public string FechaInstalacion { get; set; }\n\n    [DataMember]\n    public string FechaFinFacturacion { get; set; }\n}\n</code></pre>\n"}, {"tags": ["angular", "typescript", "angular-router"], "answers": [{"tags": [], "owner": {"reputation": 3580, "user_id": 7333443, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/fe79425888f267f97f789dcc982b690c?s=128&d=identicon&r=PG", "display_name": "Sibiraj", "link": "https://stackoverflow.com/users/7333443/sibiraj"}, "is_accepted": true, "score": 0, "last_activity_date": 1506516520, "creation_date": 1506516520, "answer_id": 46448321, "question_id": 46447371, "link": "https://stackoverflow.com/questions/46447371/how-to-make-parent-state-activei-e-add-active-class-when-child-is-active/46448321#46448321", "title": "how to make parent state active(i.e., add active class) when child is active", "body": "<p>My bad. A Rookie Mistake. Changing to the module URL fixes everything</p>\n\n<pre><code>&lt;ul class=\"\"&gt;\n  &lt;li class=\"\"&gt;\n    &lt;a [routerLinkActive]=\"['active']\"\n       [routerLink]=\"['/user/traffic/']\" class=\"\"&gt;\n       Traffic\n    &lt;/a&gt;\n  &lt;/li&gt;\n&lt;/ul&gt;\n</code></pre>\n"}], "owner": {"reputation": 3580, "user_id": 7333443, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/fe79425888f267f97f789dcc982b690c?s=128&d=identicon&r=PG", "display_name": "Sibiraj", "link": "https://stackoverflow.com/users/7333443/sibiraj"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 651, "favorite_count": 0, "accepted_answer_id": 46448321, "answer_count": 1, "score": 3, "last_activity_date": 1506516520, "creation_date": 1506513693, "last_edit_date": 1506514723, "question_id": 46447371, "link": "https://stackoverflow.com/questions/46447371/how-to-make-parent-state-activei-e-add-active-class-when-child-is-active", "title": "how to make parent state active(i.e., add active class) when child is active", "body": "<p>I current have some routes</p>\n\n<pre><code>&lt;ul class=\"\"&gt;\n  &lt;li class=\"\"&gt;\n    &lt;a [routerLinkActive]=\"['active']\"\n       [routerLink]=\"['/user/traffic/graph']\" class=\"\"&gt;\n       Traffic\n    &lt;/a&gt;\n  &lt;/li&gt;\n&lt;/ul&gt;\n</code></pre>\n\n<p>Routes</p>\n\n<pre><code>const trafficRoutes: Routes = [\n  {\n    path: '', component: TrafficComponent, children: [\n      { path: '', redirectTo: 'graph' },\n      { path: 'graph', component: GraphComponent},\n      { path: 'alerts', component: AlertComponent}\n    ]\n  },\n];\n</code></pre>\n\n<p>The Router Link gets activated when I navigate to <code>GraphComponent</code> but when I navigate to <code>AlertComponent</code> it is not active. </p>\n\n<p>I want to make that router link active. Even when I navigate to <code>AlertComponent</code></p>\n\n<p>How to achieve that?</p>\n"}, {"tags": ["angular", "typescript"], "comments": [{"owner": {"reputation": 147776, "user_id": 3731501, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/e4783dfa8ec98c884e61d29f2192ac97?s=128&d=identicon&r=PG&f=1", "display_name": "Estus Flask", "link": "https://stackoverflow.com/users/3731501/estus-flask"}, "edited": false, "score": 0, "creation_date": 1506521039, "post_id": 46447301, "comment_id": 79855571, "body": "The accepted answer explains what&#39;s wrong with banana box. An appropriate solution could be possibly proposed, but it is unclear from the question how <code>column.attribute(object)</code> is better than <code>object.a.property</code> in the first place. The latter is more performant and even has less chars."}, {"owner": {"reputation": 652, "user_id": 7168173, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/ojnwk.jpg?s=128&g=1", "display_name": "Thodoris", "link": "https://stackoverflow.com/users/7168173/thodoris"}, "reply_to_user": {"reputation": 147776, "user_id": 3731501, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/e4783dfa8ec98c884e61d29f2192ac97?s=128&d=identicon&r=PG&f=1", "display_name": "Estus Flask", "link": "https://stackoverflow.com/users/3731501/estus-flask"}, "edited": false, "score": 0, "creation_date": 1506527989, "post_id": 46447301, "comment_id": 79860403, "body": "@estus Did you check the link I provide in my question? It might answer your question.  <a href=\"https://stackoverflow.com/questions/46112633/angular-accessing-nested-objects-values-from-component-html?noredirect=1#comment79846121_46112633\" title=\"angular accessing nested objects values from component html\">stackoverflow.com/questions/46112633/&hellip;</a>"}], "answers": [{"comments": [{"owner": {"reputation": 652, "user_id": 7168173, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/ojnwk.jpg?s=128&g=1", "display_name": "Thodoris", "link": "https://stackoverflow.com/users/7168173/thodoris"}, "edited": false, "score": 0, "creation_date": 1506518277, "post_id": 46448631, "comment_id": 79853454, "body": "Yes, it can be written as an arrow function but since I have quite a lot of columns it doesn&#39;t help readability. I think I will go with the <code>column.write</code> approach. Anyway thank you once again for your answer."}], "tags": [], "owner": {"reputation": 630270, "user_id": 571407, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2f0d9dec16bae1e06552af55ddefc11f?s=128&d=identicon&r=PG", "display_name": "JB Nizet", "link": "https://stackoverflow.com/users/571407/jb-nizet"}, "is_accepted": true, "score": 0, "last_activity_date": 1506517399, "creation_date": 1506517399, "answer_id": 46448631, "question_id": 46447301, "link": "https://stackoverflow.com/questions/46447301/angular-using-arrow-functions-to-two-way-bind-object-properties/46448631#46448631", "title": "Angular - Using arrow functions to two way bind object properties", "body": "<p>The arrow function allows reading the value from the object. If you want to write a new value into the object, you need another function, taking the new value and storing it in the object:</p>\n\n<pre><code>&lt;input [ngModel]=\"column.attribute(object)\" (ngModelChange)=\"column.write(object, $event)\" /&gt;\n</code></pre>\n\n<p>Of course, you can also use a single function acting both as a reader and as a writer, as you're doing in your question with your editPhone function. </p>\n\n<p>This function can perfectly be written as an arrow function:</p>\n\n<pre><code>(user, newValue) =&gt; {\n  if (newValue !== undefined) {\n    user.phone = newValue;\n  }\n  return user.phone;\n}\n</code></pre>\n"}], "owner": {"reputation": 652, "user_id": 7168173, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/ojnwk.jpg?s=128&g=1", "display_name": "Thodoris", "link": "https://stackoverflow.com/users/7168173/thodoris"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 998, "favorite_count": 1, "accepted_answer_id": 46448631, "answer_count": 1, "score": 1, "last_activity_date": 1506517399, "creation_date": 1506513487, "question_id": 46447301, "link": "https://stackoverflow.com/questions/46447301/angular-using-arrow-functions-to-two-way-bind-object-properties", "title": "Angular - Using arrow functions to two way bind object properties", "body": "<p>The following code works. It loops over an array of objects to get one per row and then for every object it loops over an array defining what should be displayed per column.</p>\n\n<pre><code> &lt;tr  *ngFor=\"let object of objects\"\n   &lt;td *ngFor=\"let column of tableColumns;\" &gt; \n     {{column.attribute(object)}} //Explained bellow\n   &lt;/td&gt;\n &lt;/tr&gt;\n</code></pre>\n\n<p>The <code>column.attribute</code> is an arrow function i.e. <code>object =&gt; object.a.property</code>. This solution was suggested <a href=\"https://stackoverflow.com/questions/46112633/angular-accessing-nested-objects-values-from-component-html?noredirect=1#comment79846121_46112633\">here</a> and is used to access properties of nested objects in interpolation.</p>\n\n<p>The problem arises when I want to use this way of accessing the properties in a two way \"banana in a box\" data binding. </p>\n\n<p>This does <strong>not</strong> work:</p>\n\n<p><code>&lt;input type=\"text\" [(ngModel)]=\"column.attribute(object)\"&gt;</code></p>\n\n<hr>\n\n<p>After some experimentation I found a workaround but it is not so elegant and thus the question if this can be written nicely.</p>\n\n<p>I wrote the two way data binding like this:</p>\n\n<p><code>&lt;input [value]=\"column.attribute(object)\"(input)=\"onInput($event, column, object)\"&gt;</code></p>\n\n<p>The method called on <code>input</code> event:</p>\n\n<pre><code>private onInput(event, column, object){\n        column.attribute(object, event.target.value);\n    }\n</code></pre>\n\n<p>and the really bad part is that my attributes method is no longer an arrow function as above, but a normal ugly one.</p>\n\n<pre><code>private editPhone(user, newValue = undefined){\n    if (newValue != undefined) {\n      user.phone = newValue;\n    }\n    return user.phone\n  }\n</code></pre>\n"}, {"tags": ["angular", "cordova", "typescript", "ionic-framework", "cordova-plugins"], "owner": {"reputation": 3148, "user_id": 4125633, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/7f4383d9ff9fd3d3e3b35694bae38e99?s=128&d=identicon&r=PG&f=1", "display_name": "jublikon", "link": "https://stackoverflow.com/users/4125633/jublikon"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 324, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1506595914, "creation_date": 1506513468, "last_edit_date": 1506595914, "question_id": 46447293, "link": "https://stackoverflow.com/questions/46447293/ionic-file-upload-works-just-on-some-devices", "title": "Ionic - file upload works just on some devices", "body": "<p>I want to do a file upload to a PHP script. </p>\n\n<p><strong>Problem</strong>: On a <code>Samsung Galaxy S7</code>, the code is working fine. Unfortunately on a <code>Lenovo Phab 2 Pro</code> and a <code>Nexus 5X</code> it does not work but runs the code inside the app without any error.</p>\n\n<p>On the server side I have noticed that the App on the <code>Samsung Galaxy S7</code> is sending the files correctly whereas <code>Lenovo Phab 2 Pro</code> and a <code>Nexus 5X</code> just send the file names. </p>\n\n<p><code>Samsung Galaxy S7</code>: </p>\n\n<pre><code> upload response: Array\n(\n    [file] =&gt; Array\n        (\n            [name] =&gt; 1506589380396.jpg\n            [type] =&gt; image/jpeg\n            [tmp_name] =&gt; /tmp/phpDKfBfF\n            [error] =&gt; 0\n            [size] =&gt; 1032669\n        )\n\n)\nUpload and move success\n</code></pre>\n\n<p><code>Lenovo Phab 2 Pro</code> and <code>Nexus 5X</code>:</p>\n\n<pre><code>upload response: uploads/1506589002819.jpgArray\n(\n    [file] =&gt; Array\n        (\n            [name] =&gt; 1506589002819.jpg\n            [type] =&gt; \n            [tmp_name] =&gt; \n            [error] =&gt; 1\n            [size] =&gt; 0\n        )\n\n)\n</code></pre>\n\n<p>I have used the code of that <a href=\"https://devdactic.com/ionic-2-images/\" rel=\"nofollow noreferrer\">tutorial</a> to do a file upload to a server. But it does not seem to be a matter of the code because another <a href=\"https://golb.hplar.ch/p/Uploading-pictures-from-Ionic-2-to-Spring-Boot\" rel=\"nofollow noreferrer\">tutorial</a> ends up with the same result.</p>\n\n<p>On a <code>Samsung Galaxy S7</code>, the code is working fine. Unfortunately on a <code>Lenovo Phab 2 Pro</code> and a <code>Nexus 5X</code> it does not work but runs the code without any error.  It seems like they are not even sending a file to the server.\nOn both devices, I can display the images in the app itself and I can search for them within a file browser app like <a href=\"https://play.google.com/store/apps/details?id=com.ghisler.android.TotalCommander&amp;hl=en\" rel=\"nofollow noreferrer\">TotalCommand</a>.</p>\n\n<p><strong>Question</strong>: What could be the problem on the <code>Lenovo Phab 2 Pro</code> and a <code>Nexus 5X</code>? Note that all permissions are granted to the app (Memory, GPS, Phone).</p>\n\n<p>This is my code: </p>\n\n<pre><code>   @IonicPage()\n@Component({\n  selector: 'page-eventlist',\n  templateUrl: 'eventlist.html',\n})\nexport class EventlistPage {\n  private TAG = \"EventlistPage \";\n\n  photoPage = PhotoPage;\n  eventPage = EventPage;\n\n  events: Event[];\n\n  loading:Loading;\n  public error: string;\n\n  constructor(\n    private readonly http: Http,\n    public navCtrl: NavController,\n    public navParams: NavParams,\n    public eventtrackerProvider: EventtrackerProvider,\n    //private transfer: FileTransfer,\n    private alertCtrl: AlertController,\n    private modalCtrl: ModalController,\n    private file: File,\n    private loadingController: LoadingController,\n    private platform: Platform,\n    // instanciate the NetworkConnectionProvider here to make it available in the whole application\n    network: NetworkConnectionProvider) {\n      this.platform.ready().then(() =&gt; {\n        // Okay, so the platform is ready and our plugins are available.\n        // Here you can do any higher level native things you might need.\n        //this.fileTransfer = this.transfer.create();\n      });\n  }\n\n  async ionViewDidLoad() {\n    console.log(this.TAG + \"ionViewDidLoad\");\n\n    try {\n      let data = await this.eventtrackerProvider.getEvents()\n      this.events = data;\n    } catch (err) {\n      console.log(this.TAG  + err.message);\n    }\n  }\n\n  async uploadImagesToServer(){\n    await this.checkForNotUploadedImages();\n  }\n\n  async checkForNotUploadedImages() {\n\n    let noPicsForUploadAvailable: Boolean;\n    noPicsForUploadAvailable = true;\n\n    this.loading = await this.loadingController.create({\n      content: 'Lade hoch...',\n    });\n    this.loading.present();\n\n    try {\n      for(let event of this.events) {\n        for(let image of event.images){\n          if(image.uploadedToServer == false) {\n\n            // upload the image to server\n\n            this.file.resolveLocalFilesystemUrl(image.filePath + image.fileName)\n              .then(entry =&gt; (&lt;FileEntry&gt;entry).file(file =&gt; this.readFile(file)))\n              .catch(err =&gt; console.log(err));\n\n            noPicsForUploadAvailable = false;\n\n          }\n        }\n        await this.eventtrackerProvider.updateEvent(event);\n      }\n\n    } catch(err) {\n      console.log(this.TAG + err.message);\n      this.presentAlert(this.TAG + err.message);\n    }\n\n    await this.loading.dismiss();\n    if(noPicsForUploadAvailable){\n      await this.presentAlert(\"Es gibt aktuell keine Bilder zum Hochladen.\")\n    } else {\n      await this.presentAlert(\"FileTransfer erfolgreich\");\n    }\n  }\n\n  private readFile(file: any) {\n    const reader = new FileReader();\n    reader.onloadend = () =&gt; {\n      const formData = new FormData();\n      const imgBlob = new Blob([reader.result], {type: file.type});\n      formData.append('file', imgBlob, file.name);\n      this.postData(formData);\n    };\n    reader.readAsArrayBuffer(file);\n  }\n\n  private postData(formData: FormData) {\n    this.http.post(\"http://192.168.178.111/upload.php\", formData)\n      .catch((e) =&gt; this.handleError(e))\n      .map(response =&gt; console.log(\"upload response: \" + response.text()))\n      .finally(() =&gt; this.loading.dismiss())\n      .subscribe(ok =&gt; this.presentAlert(\"ok\"));\n  }\n\n  presentAlert(message: string){\n    let alert = this.alertCtrl.create({\n      title: 'Alert',\n      subTitle: message,\n      buttons: ['OK']\n    });\n    alert.present();\n  }\n\n  private handleError(error: Response | any) {\n   let errMsg: string;\n   if (error instanceof Response) {\n     const body = error.json() || '';\n     const err = body.error || JSON.stringify(body);\n     errMsg = `${error.status} - ${error.statusText || ''} ${err}`;\n   } else {\n     errMsg = error.message ? error.message : error.toString();\n   }\n   this.error = errMsg;\n   return Observable.throw(errMsg);\n  }\n}\n</code></pre>\n\n<p><strong>Question</strong>: Is that problem caused by denied permissions on the file systems? That would not make any sense to me because before the app was able to create and display the image without any problem. What else could be wrong here?</p>\n"}, {"tags": ["angular", "typescript", "angular-forms"], "comments": [{"owner": {"reputation": 168939, "user_id": 5485167, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qWD9t.jpg?s=128&g=1", "display_name": "yurzui", "link": "https://stackoverflow.com/users/5485167/yurzui"}, "edited": false, "score": 0, "creation_date": 1506513631, "post_id": 46447270, "comment_id": 79850270, "body": "Can you add your template?"}, {"owner": {"reputation": 21295, "user_id": 5437671, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8ZlWc.png?s=128&g=1", "display_name": "R. Richards", "link": "https://stackoverflow.com/users/5437671/r-richards"}, "edited": false, "score": 0, "creation_date": 1506513845, "post_id": 46447270, "comment_id": 79850406, "body": "<a href=\"https://angular.io/guide/form-validation#custom-validators\" rel=\"nofollow noreferrer\">Custom Validators</a> docs."}, {"owner": {"reputation": 168939, "user_id": 5485167, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qWD9t.jpg?s=128&g=1", "display_name": "yurzui", "link": "https://stackoverflow.com/users/5485167/yurzui"}, "edited": false, "score": 0, "creation_date": 1506513920, "post_id": 46447270, "comment_id": 79850471, "body": "You neet to check for <code>null</code> values <code>if (control.value &amp;&amp; control.value.length &lt; 3...</code>"}, {"owner": {"reputation": 515, "user_id": 8569366, "user_type": "registered", "accept_rate": 21, "profile_image": "https://lh4.googleusercontent.com/-8Gxa10nX2mU/AAAAAAAAAAI/AAAAAAAAACw/bgS0-aPfVoo/photo.jpg?sz=128", "display_name": "SONGSTER", "link": "https://stackoverflow.com/users/8569366/songster"}, "edited": false, "score": 0, "creation_date": 1506514000, "post_id": 46447270, "comment_id": 79850523, "body": "like how can you explain some more"}, {"owner": {"reputation": 3581, "user_id": 4623495, "user_type": "registered", "accept_rate": 22, "profile_image": "https://i.stack.imgur.com/RoAj1.jpg?s=128&g=1", "display_name": "Double H", "link": "https://stackoverflow.com/users/4623495/double-h"}, "edited": false, "score": 0, "creation_date": 1506514012, "post_id": 46447270, "comment_id": 79850533, "body": "change <code>control.value.length &lt; 3</code>  to <code>control.value &lt; 3</code>"}, {"owner": {"reputation": 515, "user_id": 8569366, "user_type": "registered", "accept_rate": 21, "profile_image": "https://lh4.googleusercontent.com/-8Gxa10nX2mU/AAAAAAAAAAI/AAAAAAAAACw/bgS0-aPfVoo/photo.jpg?sz=128", "display_name": "SONGSTER", "link": "https://stackoverflow.com/users/8569366/songster"}, "edited": false, "score": 0, "creation_date": 1506514125, "post_id": 46447270, "comment_id": 79850601, "body": "errors are gone but validation is not working"}, {"owner": {"reputation": 168939, "user_id": 5485167, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qWD9t.jpg?s=128&g=1", "display_name": "yurzui", "link": "https://stackoverflow.com/users/5485167/yurzui"}, "edited": false, "score": 0, "creation_date": 1506514163, "post_id": 46447270, "comment_id": 79850627, "body": "Validation is working <code>courseForm.get(&#39;username&#39;).touched</code>"}, {"owner": {"reputation": 515, "user_id": 8569366, "user_type": "registered", "accept_rate": 21, "profile_image": "https://lh4.googleusercontent.com/-8Gxa10nX2mU/AAAAAAAAAAI/AAAAAAAAACw/bgS0-aPfVoo/photo.jpg?sz=128", "display_name": "SONGSTER", "link": "https://stackoverflow.com/users/8569366/songster"}, "edited": false, "score": 0, "creation_date": 1506514218, "post_id": 46447270, "comment_id": 79850659, "body": "no its not working. validation is only if input accepts three digit numbers"}, {"owner": {"reputation": 168939, "user_id": 5485167, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qWD9t.jpg?s=128&g=1", "display_name": "yurzui", "link": "https://stackoverflow.com/users/5485167/yurzui"}, "edited": false, "score": 0, "creation_date": 1506514303, "post_id": 46447270, "comment_id": 79850710, "body": "<a href=\"http://take.ms/nPIxp\" rel=\"nofollow noreferrer\">take.ms/nPIxp</a> on plunker <a href=\"https://plnkr.co/edit/CklLgJGWnPfXFK8timOe?p=preview\" rel=\"nofollow noreferrer\">plnkr.co/edit/CklLgJGWnPfXFK8timOe?p=preview</a> If username length less than 3 i see this error. Your validation function is not correct for your requirements"}, {"owner": {"reputation": 515, "user_id": 8569366, "user_type": "registered", "accept_rate": 21, "profile_image": "https://lh4.googleusercontent.com/-8Gxa10nX2mU/AAAAAAAAAAI/AAAAAAAAACw/bgS0-aPfVoo/photo.jpg?sz=128", "display_name": "SONGSTER", "link": "https://stackoverflow.com/users/8569366/songster"}, "edited": false, "score": 0, "creation_date": 1506514577, "post_id": 46447270, "comment_id": 79850902, "body": "what sould it be can please write an answer"}, {"owner": {"reputation": 168939, "user_id": 5485167, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qWD9t.jpg?s=128&g=1", "display_name": "yurzui", "link": "https://stackoverflow.com/users/5485167/yurzui"}, "edited": false, "score": 0, "creation_date": 1506514753, "post_id": 46447270, "comment_id": 79850996, "body": "<code>it accepts only three digit numbers.</code> What do you mean? What are the correct values for username?"}, {"owner": {"reputation": 515, "user_id": 8569366, "user_type": "registered", "accept_rate": 21, "profile_image": "https://lh4.googleusercontent.com/-8Gxa10nX2mU/AAAAAAAAAAI/AAAAAAAAACw/bgS0-aPfVoo/photo.jpg?sz=128", "display_name": "SONGSTER", "link": "https://stackoverflow.com/users/8569366/songster"}, "edited": false, "score": 0, "creation_date": 1506514830, "post_id": 46447270, "comment_id": 79851040, "body": "123, 323, 838...   like this"}, {"owner": {"reputation": 168939, "user_id": 5485167, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qWD9t.jpg?s=128&g=1", "display_name": "yurzui", "link": "https://stackoverflow.com/users/5485167/yurzui"}, "edited": false, "score": 0, "creation_date": 1506515077, "post_id": 46447270, "comment_id": 79851194, "body": "<a href=\"https://plnkr.co/edit/S7RQtUdIZdjQpGmVtdKQ?p=preview\" rel=\"nofollow noreferrer\">plnkr.co/edit/S7RQtUdIZdjQpGmVtdKQ?p=preview</a>"}, {"owner": {"reputation": 515, "user_id": 8569366, "user_type": "registered", "accept_rate": 21, "profile_image": "https://lh4.googleusercontent.com/-8Gxa10nX2mU/AAAAAAAAAAI/AAAAAAAAACw/bgS0-aPfVoo/photo.jpg?sz=128", "display_name": "SONGSTER", "link": "https://stackoverflow.com/users/8569366/songster"}, "edited": false, "score": 0, "creation_date": 1506515161, "post_id": 46447270, "comment_id": 79851246, "body": "what did you do there"}, {"owner": {"reputation": 168939, "user_id": 5485167, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qWD9t.jpg?s=128&g=1", "display_name": "yurzui", "link": "https://stackoverflow.com/users/5485167/yurzui"}, "edited": false, "score": 0, "creation_date": 1506515235, "post_id": 46447270, "comment_id": 79851293, "body": "I changed <code>threeNumbers</code> function"}, {"owner": {"reputation": 515, "user_id": 8569366, "user_type": "registered", "accept_rate": 21, "profile_image": "https://lh4.googleusercontent.com/-8Gxa10nX2mU/AAAAAAAAAAI/AAAAAAAAACw/bgS0-aPfVoo/photo.jpg?sz=128", "display_name": "SONGSTER", "link": "https://stackoverflow.com/users/8569366/songster"}, "edited": false, "score": 0, "creation_date": 1506516302, "post_id": 46447270, "comment_id": 79851993, "body": "whats the test methdo"}], "answers": [{"tags": [], "owner": {"reputation": 5518, "user_id": 1038786, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/b65d4cb1e20fe4f6ef881e2f66e7acac?s=128&d=identicon&r=PG", "display_name": "keldar", "link": "https://stackoverflow.com/users/1038786/keldar"}, "is_accepted": false, "score": 1, "last_activity_date": 1506515365, "last_edit_date": 1506515365, "creation_date": 1506514197, "answer_id": 46447537, "question_id": 46447270, "link": "https://stackoverflow.com/questions/46447270/why-is-custom-validator-not-working/46447537#46447537", "title": "why is custom validator not working", "body": "<p>Like the built-in validators, you do not need to call <code>threeNumbers</code>, just pass it as a reference to <code>this.fb.group</code>:</p>\n\n<p>You do not need the <code>bind</code> call, as Angular calls this internally. Change it to:</p>\n\n<pre><code>this.courseForm = this.fb.group({\n  username: ['', [Validators.required, this.threeNumbers]],\n  email: ['', [Validators.required, Validators.pattern('([a-zA-Z0-9_.-]+)@([a-zA-Z0-9_.-]+)\\\\.([a-zA-Z]{2,5})')]],\n  address: ['', [Validators.required, Validators.minLength(10), Validators.maxLength(100)]],\n  select: ['', [Validators.required]]\n});\n</code></pre>\n\n<p>At the moment, you're binding the <code>this</code> property. In this instance, <code>this</code> refers to your instantiated version of the class.</p>\n\n<p>Remove the parenthesis essentially.</p>\n\n<p>You could go the extra mile and make your <code>threeNumbers</code> method static since a validator should not depend on any local variables - the Angular default validators are static.</p>\n\n<pre><code>public static ThreeNumbers(control: FormControl) {\n  if (control.value.length &lt; 3 &amp;&amp; typeof control.value !== 'number') {\n    return { 'greater than 3 numbers': true };\n  }\n  return null;\n}\n</code></pre>\n\n<p>I would also recommend passing an empty string <code>''</code>, instead of <code>null</code> to each control initialisation. This helps with a consistent state. N.b. on that note, you have a 'typeof' check, if this FormControl is bound to an input, then <code>typeof</code> will always be a string.</p>\n\n<p>I have made amends - see above.</p>\n"}], "owner": {"reputation": 515, "user_id": 8569366, "user_type": "registered", "accept_rate": 21, "profile_image": "https://lh4.googleusercontent.com/-8Gxa10nX2mU/AAAAAAAAAAI/AAAAAAAAACw/bgS0-aPfVoo/photo.jpg?sz=128", "display_name": "SONGSTER", "link": "https://stackoverflow.com/users/8569366/songster"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4931, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1506515365, "creation_date": 1506513398, "last_edit_date": 1506513708, "question_id": 46447270, "link": "https://stackoverflow.com/questions/46447270/why-is-custom-validator-not-working", "title": "why is custom validator not working", "body": "<p>I created a custom Validator called <code>threeNumbers</code> what it does is that it accepts only three digit numbers. But when I applied it to the <code>username</code> field it throws an error <code>ERROR TypeError: Cannot read property 'length' of null</code> and\n<code>formGroup expects a FormGroup instance. Please pass one in.</code></p>\n\n<pre><code>  ngOnInit() {\n    // form controls validation specicified in the class for the Reactive Forms\n    this.courseForm = this.fb.group({\n      username: [null, [Validators.required, this.threeNumbers.bind(this)]],\n      email: [null, [Validators.required, Validators.pattern('([a-zA-Z0-9_.-]+)@([a-zA-Z0-9_.-]+)\\\\.([a-zA-Z]{2,5})')]],\n      address: [null, [Validators.required, Validators.minLength(10), Validators.maxLength(100)]],\n      select: [null, [Validators.required]]\n    });\n    this.dropDownArr = this.dropdown.getData();\n    // this.personDetail = {\n    //   name: '',\n    //   email: '',\n    //   address: '',\n    //   chosenCourse: ''\n    // };\n    this.personDetail = this.fieldData.getPersonData();\n    console.log(this.courseForm);\n  }\n\n  threeNumbers(control: FormControl) {\n    if (control.value.length &lt; 3 &amp;&amp; typeof control.value !== 'number') {\n      return { 'greater than 3 numbers': true };\n    }\n    return null;\n  }\n\n//HTML template\n\n&lt;!-- Form with three inputs and one dropdown which intializes with data from service on intialization and validates with min and maxlength--&gt;\n&lt;section class=\"container\"&gt;\n  &lt;!-- ngSubmit calls the function onSubmit on submitting the form  --&gt;\n  &lt;form class=\"form-horizontal\" (ngSubmit)='onSubmit()' [formGroup]='courseForm'&gt;\n    &lt;div class=\"form-group\"&gt;\n      &lt;label for=\"inputUsername\" class=\"col-sm-2 control-label\"&gt;Username&lt;/label&gt;\n      &lt;div class=\"col-sm-10\"&gt;\n        &lt;input type=\"text\" class=\"form-control\" id=\"inputUsername\" placeholder=\"Username\" formControlName=\"username\" name=\"name\"\n          [ngClass]=\"{inValid: !courseForm.get('username').valid &amp;&amp; courseForm.get('username').touched, valid: courseForm.get('username').valid &amp;&amp; courseForm.get('username').touched}\"&gt;\n        &lt;span class=\"help-block\" *ngIf=\"!courseForm.get('username').valid &amp;&amp; courseForm.get('username').touched\"&gt;Please enter a valid username&lt;/span&gt;\n      &lt;/div&gt;\n    &lt;/div&gt;\n    &lt;!-- username input ends here --&gt;\n    &lt;div class=\"form-group\"&gt;\n      &lt;label for=\"inputEmail\" class=\"col-sm-2 control-label\"&gt;Email&lt;/label&gt;\n      &lt;div class=\"col-sm-10\"&gt;\n        &lt;!-- CSS class applied based on validation --&gt;\n        &lt;input type=\"email\" class=\"form-control\" id=\"inputEmail\" placeholder=\"Email\" formControlName=\"email\" name=\"email\" [ngClass]=\"{inValid: !courseForm.get('email').valid &amp;&amp; courseForm.get('email').touched, valid: courseForm.get('email').valid &amp;&amp; courseForm.get('email').touched}\"&gt;\n        &lt;span class=\"help-block\" *ngIf=\"!courseForm.get('email').valid &amp;&amp; courseForm.get('email').touched\"&gt;Please Enter a valid email&lt;/span&gt;\n      &lt;/div&gt;\n    &lt;/div&gt;\n    &lt;!-- email input ends here --&gt;\n    &lt;div class=\"form-group\"&gt;\n      &lt;label for=\"inputAddress\" class=\"col-sm-2 control-label\"&gt;Address&lt;/label&gt;\n      &lt;div class=\"col-sm-10\"&gt;\n        &lt;input type=\"text\" class=\"form-control\" id=\"inputAddress\" placeholder=\"Your Address\" formControlName=\"address\" name=\"address\"\n          [ngClass]=\"{inValid: !courseForm.get('address').valid &amp;&amp; courseForm.get('address').touched, valid: courseForm.get('address').valid &amp;&amp; courseForm.get('address').touched}\"&gt;\n        &lt;!--Display error message on MinLength and MaxLength Validation--&gt;\n        &lt;span class=\"help-block\" *ngIf=\"courseForm.get('address')?.errors?.required &amp;&amp; courseForm.get('address').touched\"&gt;Please Enter Your Address&lt;/span&gt;\n        &lt;span class=\"help-block\" *ngIf=\"(courseForm.get('address')?.errors?.minlength?.requiredLength !== courseForm.get('address')?.errors?.minlength?.actualLength) &amp;&amp; courseForm.get('address')?.touched\"&gt;Address should be at least 10 characters long&lt;/span&gt;\n      &lt;/div&gt;\n    &lt;/div&gt;\n    &lt;!-- address input ends here --&gt;\n    &lt;div class=\"form-group\"&gt;\n      &lt;label for=\"sel1\" class=\"col-sm-2 control-label\"&gt;Choose Course&lt;/label&gt;\n      &lt;div class=\"col-sm-10\"&gt;\n        &lt;select class=\"form-control\" id=\"sel1\" formControlName=\"select\" [(ngModel)]=\"selectedOption\" name=\"select\" [ngClass]=\"{inValid: !courseForm.get('select').valid &amp;&amp; courseForm.get('select').touched, valid: courseForm.get('select').valid &amp;&amp; courseForm.get('select').touched}\"&gt;\n          &lt;option [value]=\"selectedOption\" [disabled]=\"true\"&gt;Choose Your Course&lt;/option&gt;\n          &lt;option *ngFor=\"let data of dropDownArr; index as i\"  [ngValue]=\"data.course\"&gt;{{data.course}}&lt;/option&gt;          \n        &lt;/select&gt;\n        &lt;span class=\"help-block\" *ngIf=\"!courseForm.get('select').valid &amp;&amp; courseForm.get('select').touched\"&gt;Please choose a Course&lt;/span&gt;\n      &lt;/div&gt;\n    &lt;/div&gt;\n    &lt;!-- select input ends here --&gt;\n    &lt;div class=\"form-group\"&gt;\n      &lt;div class=\"col-sm-offset-2 col-sm-10\"&gt;\n        &lt;button type=\"submit\" class=\"btn btn-default\" [disabled]=!courseForm.valid&gt;Submit&lt;/button&gt;\n        &lt;button type=\"button\" class=\"btn btn-default\" (click)=\"resetForm(f)\"&gt;Reset&lt;/button&gt;\n      &lt;/div&gt;\n    &lt;/div&gt;\n    &lt;!-- submit and reset buttons ends here --&gt;\n  &lt;/form&gt;\n&lt;/section&gt;\n&lt;!-- section displays the submited form data in the view --&gt;\n&lt;section class=\"container\"&gt;\n  &lt;div class=\"panel panel-default\"&gt;\n    &lt;div class=\"panel-heading\"&gt;Registered users&lt;/div&gt;\n\n    &lt;!-- List group --&gt;\n    &lt;ul class=\"list-group\"&gt;\n      &lt;li class=\"list-group-item\" *ngFor=\"let person of personsList\"&gt;username:&amp;nbsp;&amp;nbsp;{{person.name}} &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;|&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; email:&amp;nbsp;&amp;nbsp;{{person.email}}\n        &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;|&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; Address: &amp;nbsp;&amp;nbsp;{{person.address}} &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;|&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;\n        Course Chosen: &amp;nbsp;&amp;nbsp;{{person.chosenCourse}}&lt;/li&gt;\n    &lt;/ul&gt;\n  &lt;/div&gt;\n&lt;/section&gt;\n</code></pre>\n"}, {"tags": ["angular", "typescript"], "answers": [{"tags": [], "owner": {"reputation": 204677, "user_id": 75525, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/IYU63.png?s=128&g=1", "display_name": "Fenton", "link": "https://stackoverflow.com/users/75525/fenton"}, "is_accepted": false, "score": 3, "last_activity_date": 1506550369, "last_edit_date": 1506550369, "creation_date": 1506547904, "answer_id": 46457533, "question_id": 46447020, "link": "https://stackoverflow.com/questions/46447020/property-usb-does-not-exist-on-type-navigator-in-angular2-typescript-project/46457533#46457533", "title": "Property &quot;usb&quot; does not exist on type &quot;Navigator&quot; in angular2 typescript project", "body": "<p>If you are sure that <code>navigator.usb</code> exists, you can extend the interface to include some type information for it:</p>\n\n<pre><code>interface Navigator {\n    usb: {\n        getDevices(): any[];\n    }\n}\n</code></pre>\n\n<p>This will resolve the compile time error (but will result in a runtime error if <code>usb</code> isn't there).</p>\n\n<p>The interface needs to be placed in the same common root... so if you are within a module, you may need to use:</p>\n\n<pre><code>declare global {\n    interface Navigator {\n        usb: {\n            getDevices(): any[];\n        }\n    }\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 2023, "user_id": 2402929, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/wd4f2.jpg?s=128&g=1", "display_name": "xtrinch", "link": "https://stackoverflow.com/users/2402929/xtrinch"}, "edited": false, "score": 0, "creation_date": 1608296045, "post_id": 52765304, "comment_id": 115546398, "body": "How do you use it?"}, {"owner": {"reputation": 95, "user_id": 10692274, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hYjck.png?s=128&g=1", "display_name": "M. G. Lincoln", "link": "https://stackoverflow.com/users/10692274/m-g-lincoln"}, "edited": false, "score": 2, "creation_date": 1611631845, "post_id": 52765304, "comment_id": 116507995, "body": "after I ran <code>npm install --save-dev @types&#47;w3c-web-usb</code>, the compiler still showed <code>Property &#39;usb&#39; does not exist on type &#39;Navigator&#39;</code> when building. How to solve it?"}], "tags": [], "owner": {"reputation": 724, "user_id": 1918937, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/571c00106d3e517adcd19b670fd32ad2?s=128&d=identicon&r=PG", "display_name": "kulak", "link": "https://stackoverflow.com/users/1918937/kulak"}, "is_accepted": false, "score": 5, "last_activity_date": 1539276870, "creation_date": 1539276870, "answer_id": 52765304, "question_id": 46447020, "link": "https://stackoverflow.com/questions/46447020/property-usb-does-not-exist-on-type-navigator-in-angular2-typescript-project/52765304#52765304", "title": "Property &quot;usb&quot; does not exist on type &quot;Navigator&quot; in angular2 typescript project", "body": "<p>The best solution is to use <code>@types/w3c-web-usb</code> typing package.</p>\n\n<p>Add it to your project using either yarn:</p>\n\n<p><code>yarn add --dev @types/w3c-web-usb</code></p>\n\n<p>or npm</p>\n\n<p><code>npm install --save-dev @types/w3c-web-usb</code></p>\n"}, {"tags": [], "owner": {"reputation": 648, "user_id": 3761154, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/25ff9d47c168977ee2ee39843b334c86?s=128&d=identicon&r=PG", "display_name": "R&#233;da Housni Alaoui", "link": "https://stackoverflow.com/users/3761154/r%c3%a9da-housni-alaoui"}, "is_accepted": false, "score": 0, "last_activity_date": 1618321793, "creation_date": 1618321793, "answer_id": 67076196, "question_id": 46447020, "link": "https://stackoverflow.com/questions/46447020/property-usb-does-not-exist-on-type-navigator-in-angular2-typescript-project/67076196#67076196", "title": "Property &quot;usb&quot; does not exist on type &quot;Navigator&quot; in angular2 typescript project", "body": "<pre class=\"lang-sh prettyprint-override\"><code>yarn add -D @types/w3c-web-usb\n</code></pre>\n<p>or</p>\n<pre class=\"lang-sh prettyprint-override\"><code>npm install --save-dev @types/w3c-web-usb\n</code></pre>\n<p>Then, add the following directive at the top of your typescript file:</p>\n<pre class=\"lang-js prettyprint-override\"><code>/// &lt;reference types=&quot;w3c-web-usb&quot; /&gt;\n</code></pre>\n"}], "owner": {"reputation": 11, "user_id": 8052298, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f91e33790519a5023345b87e992a714a?s=128&d=identicon&r=PG&f=1", "display_name": "ttmkk", "link": "https://stackoverflow.com/users/8052298/ttmkk"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1373, "favorite_count": 2, "answer_count": 3, "score": 1, "last_activity_date": 1618321793, "creation_date": 1506512646, "last_edit_date": 1506513259, "question_id": 46447020, "link": "https://stackoverflow.com/questions/46447020/property-usb-does-not-exist-on-type-navigator-in-angular2-typescript-project", "title": "Property &quot;usb&quot; does not exist on type &quot;Navigator&quot; in angular2 typescript project", "body": "<p>I am using below code just to see devices connected on usb port. Getting error \"Property usb does not exist on type Navigator\" at compile time when I run 'ng serve' command in command prompt.</p>\n\n<pre><code>ngOnInit() {\n    async () =&gt; {\n        let devices = await navigator.usb.getDevices();\n        devices.forEach(device =&gt; {\n          // Add |device| to the UI.\n          console.log(device);\n        });\n    }\n}\n</code></pre>\n"}, {"tags": ["reactjs", "typescript", "redux", "react-router-v4", "react-router-redux"], "comments": [{"owner": {"reputation": 64845, "user_id": 2088135, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/YB10Q.jpg?s=128&g=1", "display_name": "Tom Fenech", "link": "https://stackoverflow.com/users/2088135/tom-fenech"}, "edited": false, "score": 0, "creation_date": 1506513615, "post_id": 46446994, "comment_id": 79850258, "body": "Are you definitely using the same type definitions on both systems?"}, {"owner": {"reputation": 2012, "user_id": 5386466, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-eUKfNMEHoUY/AAAAAAAAAAI/AAAAAAAAIJE/YtaBpm_-BMk/photo.jpg?sz=128", "display_name": "ABabin", "link": "https://stackoverflow.com/users/5386466/ababin"}, "edited": false, "score": 0, "creation_date": 1506528054, "post_id": 46446994, "comment_id": 79860447, "body": "Please include the error(s) you&#39;re getting."}, {"owner": {"reputation": 1679, "user_id": 1727038, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/010ef5f63e52d1c10456f787cb3584f9?s=128&d=identicon&r=PG", "display_name": "Captain John", "link": "https://stackoverflow.com/users/1727038/captain-john"}, "edited": false, "score": 0, "creation_date": 1506539266, "post_id": 46446994, "comment_id": 79866442, "body": "AFAIK We are using identical type definitions on both systems as defined by our package.json file."}, {"owner": {"reputation": 1748, "user_id": 4374738, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0d814eac36e4f8ffba259b43025f3813?s=128&d=identicon&r=PG&f=1", "display_name": "adz5A", "link": "https://stackoverflow.com/users/4374738/adz5a"}, "edited": false, "score": 0, "creation_date": 1506622557, "post_id": 46446994, "comment_id": 79906663, "body": "Can you post your tsconfig.json ? is it the same as your colleague ?"}, {"owner": {"reputation": 1748, "user_id": 4374738, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0d814eac36e4f8ffba259b43025f3813?s=128&d=identicon&r=PG&f=1", "display_name": "adz5A", "link": "https://stackoverflow.com/users/4374738/adz5a"}, "edited": false, "score": 0, "creation_date": 1506622681, "post_id": 46446994, "comment_id": 79906724, "body": "<code>AppThunkAction&lt;StoreAction | AppThunkAction&lt;any&gt; | RouterAction&gt;</code> this is pretty strange, are you sure AppThunkAction is supposed to be used recursively ?"}, {"owner": {"reputation": 1679, "user_id": 1727038, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/010ef5f63e52d1c10456f787cb3584f9?s=128&d=identicon&r=PG", "display_name": "Captain John", "link": "https://stackoverflow.com/users/1727038/captain-john"}, "reply_to_user": {"reputation": 1748, "user_id": 4374738, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0d814eac36e4f8ffba259b43025f3813?s=128&d=identicon&r=PG&f=1", "display_name": "adz5A", "link": "https://stackoverflow.com/users/4374738/adz5a"}, "edited": false, "score": 0, "creation_date": 1506933026, "post_id": 46446994, "comment_id": 79997929, "body": "@adz5A tsconfigs are shared between machines. My suspiscion was perhaps we were using different versions of typescript. Verbose logging with webpack didn&#39;t confirm the version of typescript and I haven&#39;t found a way I trust to confirm this."}, {"owner": {"reputation": 1748, "user_id": 4374738, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0d814eac36e4f8ffba259b43025f3813?s=128&d=identicon&r=PG&f=1", "display_name": "adz5A", "link": "https://stackoverflow.com/users/4374738/adz5a"}, "edited": false, "score": 0, "creation_date": 1506948210, "post_id": 46446994, "comment_id": 80005289, "body": "Hello, could you post the full error you&#39;re getting along with the dependencies you&#39;re using (  typescript, @types/* etc... ) ? Have you tried to reproduce with a simpler union type ?"}, {"owner": {"reputation": 987, "user_id": 3229799, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AOh14GiPZYD4JVTD3rEL27zze27f7-l1CRvLynuOO7Nn=k-s128", "display_name": "knighter", "link": "https://stackoverflow.com/users/3229799/knighter"}, "edited": false, "score": 0, "creation_date": 1515171259, "post_id": 46446994, "comment_id": 83212298, "body": "@CaptainJohn I am currently seeing the exact same issue, trying to union with RouterAction. Did you find a solution to this?"}, {"owner": {"reputation": 1679, "user_id": 1727038, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/010ef5f63e52d1c10456f787cb3584f9?s=128&d=identicon&r=PG", "display_name": "Captain John", "link": "https://stackoverflow.com/users/1727038/captain-john"}, "reply_to_user": {"reputation": 987, "user_id": 3229799, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AOh14GiPZYD4JVTD3rEL27zze27f7-l1CRvLynuOO7Nn=k-s128", "display_name": "knighter", "link": "https://stackoverflow.com/users/3229799/knighter"}, "edited": false, "score": 0, "creation_date": 1515171951, "post_id": 46446994, "comment_id": 83212663, "body": "@knighter I moved away from this particular project a while ago now. The solution/workaround is outlined in my question i.e. casting the event. HTH"}], "owner": {"reputation": 1679, "user_id": 1727038, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/010ef5f63e52d1c10456f787cb3584f9?s=128&d=identicon&r=PG", "display_name": "Captain John", "link": "https://stackoverflow.com/users/1727038/captain-john"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 211, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1506932900, "creation_date": 1506512548, "last_edit_date": 1506932900, "question_id": 46446994, "link": "https://stackoverflow.com/questions/46446994/typescript-errors-with-union-type-in-redux-component", "title": "Typescript errors with Union type in Redux component", "body": "<p>I have a particularly trying error cropping up in one of my Action Creator.</p>\n\n<pre><code>let approveEnquiry = (): AppThunkAction&lt;StoreAction | AppThunkAction&lt;any&gt; | RouterAction&gt; =&gt; (dispatch, getState) =&gt; {\n    // Dispatch action then call the route\n};\n\ninterface StoreAction {\n    type: ActionType.SET_VALUE;\n    fieldName: string;\n    fieldValue: any;\n}\n</code></pre>\n\n<p>And RouterAction comes from the <code>react-redux-router</code> type definitions and is of the form:</p>\n\n<pre><code>interface RouterAction {\n    type: ... \n}\n</code></pre>\n\n<p>The problem seems to be the Union type cannot correctly differentiate between the <code>RouterAction</code> interface and the <code>StoreAction</code> interface.</p>\n\n<p>The vexing thing is this appears to work on a colleagues machine and not on mine.</p>\n\n<p>We are using Webpack and typescript v2.4.2</p>\n\n<p>The error we are getting is warning that when attempting to dispatch an action which is part of the reducer it is expecting payload to be defined. This is because both <code>RouterAction</code> and Redux <code>Action</code> interfaces have a <code>type</code> property.</p>\n\n<p>The solution was to include a cast for the item to the intended type to ensure that the correct part of the union type was used.</p>\n\n<p>So in my action creator method:</p>\n\n<pre><code>dispatch(&lt;StoreAction&gt;{ \n    type: ActionType.SET_VALUE, \n    fieldName: '&lt;FIELD_NAME&gt;', \n    fieldValue: '&lt;FIELD_VALUE&gt;' \n});\n</code></pre>\n\n<p>This prevented the type system from thinking I was attempting to define a <code>RouterAction</code>. Without the type cast the warning suggested that I should have a <code>payload</code> property.</p>\n\n<p>Just to note the reason we are adding the <code>AppThunkAction&lt;any&gt;</code>. The reason this is there is so I can dispatch actions which are part of other stores. So I can make a call like <code>dispatch(actionCreators.someAction());</code>. I am not attempting to call actions recursively, which I agree would not be desirable.</p>\n\n<p>Wondered if anyone could share thoughts on how union types work when separate types in the union have one or more identical properties. </p>\n\n<p>Thanks       </p>\n"}, {"tags": ["javascript", "node.js", "typescript", "npm", "restify"], "comments": [{"owner": {"reputation": 11994, "user_id": 3231537, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/buUum.jpg?s=128&g=1", "display_name": "Icepickle", "link": "https://stackoverflow.com/users/3231537/icepickle"}, "edited": false, "score": 1, "creation_date": 1506520016, "post_id": 46446802, "comment_id": 79854774, "body": "is it part of your configuration?"}, {"owner": {"reputation": 149, "user_id": 5724022, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/54d826efaae2d6689bc4969da2f59a26?s=128&d=identicon&r=PG&f=1", "display_name": "TSM", "link": "https://stackoverflow.com/users/5724022/tsm"}, "reply_to_user": {"reputation": 11994, "user_id": 3231537, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/buUum.jpg?s=128&g=1", "display_name": "Icepickle", "link": "https://stackoverflow.com/users/3231537/icepickle"}, "edited": false, "score": 0, "creation_date": 1506520432, "post_id": 46446802, "comment_id": 79855108, "body": "Yes, in my package.json: &quot;dependencies&quot;: {     &quot;bcrypt&quot;: &quot;^1.0.3&quot;,     &quot;crypto&quot;: &quot;^1.0.1&quot;, ..... } When I compile my typescript (with an error) and I run the javascript, it works fine."}], "answers": [{"tags": [], "owner": {"reputation": 204677, "user_id": 75525, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/IYU63.png?s=128&g=1", "display_name": "Fenton", "link": "https://stackoverflow.com/users/75525/fenton"}, "is_accepted": false, "score": 0, "last_activity_date": 1506549213, "creation_date": 1506549213, "answer_id": 46457793, "question_id": 46446802, "link": "https://stackoverflow.com/questions/46446802/restify-typescript/46457793#46457793", "title": "Restify + TypeScript:", "body": "<p>Remove the crypto dependency, as it has been moved into NodeJS... without that dependency, the import works fine for me in a <code>njsproj</code> file in Visual Studio:</p>\n\n<pre><code>import * as crypto from 'crypto';\n</code></pre>\n\n<p>If you are having more general type problems or are in an IDE or project type that doesn't understand Node, check you have the typings as a dev dependency, for example <code>@types/node</code>.</p>\n"}, {"tags": [], "owner": {"reputation": 11, "user_id": 6440539, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-dgvsuLpSb7A/AAAAAAAAAAI/AAAAAAAANN0/ddSHXTeNco8/photo.jpg?sz=128", "display_name": "jonatan souza", "link": "https://stackoverflow.com/users/6440539/jonatan-souza"}, "is_accepted": false, "score": 0, "last_activity_date": 1537447697, "creation_date": 1537447697, "answer_id": 52425539, "question_id": 46446802, "link": "https://stackoverflow.com/questions/46446802/restify-typescript/52425539#52425539", "title": "Restify + TypeScript:", "body": "<p>I had the same problem, i have solved with this dependencies:</p>\n\n<pre><code>  \"dependencies\": {\n    \"bcrypt\": \"3.0.0\",\n    ...\n  },\n  \"devDependencies\": {\n    \"@types/bcrypt\": \"^2.0.0\",\n    \"ts-node\": \"5.0.1\",\n    \"typescript\": \"2.6.2\",\n     ...\n  }\n</code></pre>\n\n<p>after that, i could import the module with no errors</p>\n\n<pre><code>import * as bcrypt from 'bcrypt';\n</code></pre>\n"}], "owner": {"reputation": 149, "user_id": 5724022, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/54d826efaae2d6689bc4969da2f59a26?s=128&d=identicon&r=PG&f=1", "display_name": "TSM", "link": "https://stackoverflow.com/users/5724022/tsm"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 2088, "favorite_count": 0, "answer_count": 2, "score": 2, "last_activity_date": 1537447697, "creation_date": 1506511899, "question_id": 46446802, "link": "https://stackoverflow.com/questions/46446802/restify-typescript", "title": "Restify + TypeScript:", "body": "<p>I have a Node.js + Restify application, written in TypeScript. I try to load the Crypto module (<a href=\"https://nodejs.org/api/crypto.html\" rel=\"nofollow noreferrer\">https://nodejs.org/api/crypto.html</a>):</p>\n\n<pre><code>import * as crypto from \"crypto\";\n</code></pre>\n\n<p>When I compile the script, I get following error:</p>\n\n<pre><code>error TS2307: Cannot find module 'crypto'.\n</code></pre>\n\n<p>When I use JavaScript instead of TypeScript, it works fine:</p>\n\n<pre><code>var Crypto = require('crypto');\n</code></pre>\n\n<p>Other modules which I load at the same place works fine, for example:</p>\n\n<pre><code>import * as bcrypt from \"bcrypt\";\n</code></pre>\n\n<p>What do I do wrong? </p>\n"}, {"tags": ["asp.net", "typescript"], "comments": [{"owner": {"reputation": 6162, "user_id": 2131576, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/bvRt8.jpg?s=128&g=1", "display_name": "Sankar", "link": "https://stackoverflow.com/users/2131576/sankar"}, "edited": false, "score": 0, "creation_date": 1506512444, "post_id": 46446619, "comment_id": 79849538, "body": "I think you can&#39;t do anything with this. You have to change the client side code when there is a change in the controller method. For verification, better you can use a REST client like postman to verify the URL is working or not."}], "answers": [{"tags": [], "owner": {"reputation": 55708, "user_id": 296861, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/957c8334a5950ba301f66662b36da7d1?s=128&d=identicon&r=PG&f=1", "display_name": "Win", "link": "https://stackoverflow.com/users/296861/win"}, "is_accepted": false, "score": 0, "last_activity_date": 1506531338, "creation_date": 1506531338, "answer_id": 46453336, "question_id": 46446619, "link": "https://stackoverflow.com/questions/46446619/how-to-avoid-strings-in-an-ajax-call-for-url/46453336#46453336", "title": "How to avoid strings in an ajax call for URL?", "body": "<p>Integration with JavaScript and server-side code has been always challenging. There are few tricks that I normally use - </p>\n\n<ul>\n<li><p>Use <code>Html.IdFor</code> to generate a strongly-typed property name. E.g. <code>$(\"#@Html.IdFor(model =&gt; model.FirstName)\").val()</code></p></li>\n<li><p>Use <code>Url.Action</code> to generate strongly-typed URL for Action Method. E.g. <code>$.ajax({ url: '@Url.Action(\"Index\", \"Home\")', ...});</code></p></li>\n<li><p>Use <code>Url.Content</code> to generate strongly-typed URL. E.g. <code>&lt;img src=\"@Url.Content(\"~/Content/Images/Logo.png\")\" alt=\"My Company\"/&gt;</code></p></li>\n<li><p>Most of the time, <a href=\"https://www.jetbrains.com/resharper/\" rel=\"nofollow noreferrer\">JetBrain's Resharper</a> can detect those errors inside Views. <kbd>Shift</kbd>+<kbd>Alt</kbd>+<kbd>PgDn</kbd> and <kbd>Shift</kbd>+<kbd>Alt</kbd>+<kbd>Up</kbd> </p></li>\n<li><p>Last but not least, Integration Tests with Selenium Web Driver before manual test.</p></li>\n</ul>\n"}], "owner": {"reputation": 297, "user_id": 5143018, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/fc4cb0748ac9bb6ce22f03b5a84cb990?s=128&d=identicon&r=PG&f=1", "display_name": "Rene Koch", "link": "https://stackoverflow.com/users/5143018/rene-koch"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 30, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1506531338, "creation_date": 1506511269, "question_id": 46446619, "link": "https://stackoverflow.com/questions/46446619/how-to-avoid-strings-in-an-ajax-call-for-url", "title": "How to avoid strings in an ajax call for URL?", "body": "<p>I am using ASP.Net MVC and when I want to call information in jquery / typescript I normaly do something like this:</p>\n\n<pre><code>$.ajax({\n        url: **MYURLHERE**,\n        data: **MYDATAHERE**,\n        type: \"POST\",\n    }).done(function (data)\n    {\n **DOSMT HERE**\n    });\n</code></pre>\n\n<p>So basicly I call a URL from my controller to get data - very simple.\nWhat's bothering me is the string type in the URL, so my problems are:  </p>\n\n<ul>\n<li>When my controller method changes, I can't see the forgotten rename of the clientside in typescript while compiling (only with the runtimeerror)</li>\n<li>When writing code, I can't see which methods are available in my backend, I jsut have to look each time in the code or just now it (no intellisense)</li>\n<li>I can't make a search for used methods with \"find all refernces\", because its just a string...</li>\n</ul>\n\n<p>Is there any way to make it better?</p>\n"}, {"tags": ["typescript"], "answers": [{"tags": [], "owner": {"reputation": 25778, "user_id": 4467208, "user_type": "registered", "accept_rate": 51, "profile_image": "https://i.stack.imgur.com/H3QRx.jpg?s=128&g=1", "display_name": "Murat Karag&#246;z", "link": "https://stackoverflow.com/users/4467208/murat-karag%c3%b6z"}, "is_accepted": false, "score": 0, "last_activity_date": 1506509773, "creation_date": 1506509773, "answer_id": 46446128, "question_id": 46446026, "link": "https://stackoverflow.com/questions/46446026/typescript-doesnt-assign-with-interface-while-assign-with-object-literal/46446128#46446128", "title": "TypeScript doesn&#39;t assign with interface while assign with object literal", "body": "<p>Your interface <code>B</code> does not have an index signature. By assigning the typed <code>b:B</code> to <code>a:A</code> typescript checks on how the assignment would take place. You can fix it by adding the index signature to <code>B</code> e.g.</p>\n\n<pre><code>interface B {\n    p: string;\n    d: number;\n    [k: string]: string | number\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "is_accepted": true, "score": 1, "last_activity_date": 1614982776, "last_edit_date": 1614982776, "creation_date": 1506523606, "answer_id": 46450888, "question_id": 46446026, "link": "https://stackoverflow.com/questions/46446026/typescript-doesnt-assign-with-interface-while-assign-with-object-literal/46450888#46450888", "title": "TypeScript doesn&#39;t assign with interface while assign with object literal", "body": "<p>This is a good question.  In your latter assignment, <code>b2</code> is of type <code>{p: string; d: number}</code>, which structurally matches <code>B</code>, so one might expect that the former assignment for <code>b</code> would work as well.  Why does TypeScript infer an index signature for the object literal and not for a structurally-identical interface?</p>\n<p>It looks like <a href=\"https://github.com/Microsoft/TypeScript/pull/7029\" rel=\"nofollow noreferrer\">implicit index signatures</a> for object literals and type aliases have been available since TypeScript v2.0, but they don't happen for interfaces.  Again: why?</p>\n<p>Well, according to @RyanCavanaugh's recent <a href=\"https://github.com/Microsoft/TypeScript/issues/15300#issuecomment-332366024\" rel=\"nofollow noreferrer\">comment</a> on <a href=\"https://github.com/Microsoft/TypeScript/issues/15300\" rel=\"nofollow noreferrer\">Microsoft/TypeScript#15300</a>:</p>\n<blockquote>\n<p>Just to fill people in, this behavior is currently by design. Because interfaces can be augmented by additional declarations but type aliases can't, it's &quot;safer&quot; (heavy quotes on that one) to infer an implicit index signature for type aliases than for interfaces. But we'll consider doing it for interfaces as well if that seems to make sense.</p>\n</blockquote>\n<p>So it sounds like something they might consider implementing.  If you care about it, you might want to head over to <a href=\"https://github.com/Microsoft/TypeScript/issues/15300\" rel=\"nofollow noreferrer\">that issue</a> and give it a \ud83d\udc4d, or comment with a description of your use case if it's new and compelling.</p>\n<hr />\n<p>NOTE WELL: in the <em>specific</em> case of an index signature where the property type is <code>any</code>, as in</p>\n<pre><code>{ [k: string]: any }\n</code></pre>\n<p>the compiler treats this as assignable even to/from interfaces without index signatures.  It's a special-cased &quot;no-op&quot;, see <a href=\"https://github.com/microsoft/TypeScript/issues/41746#issuecomment-737361754\" rel=\"nofollow noreferrer\">this comment</a> in microsoft/TypeScript#41476.</p>\n"}], "owner": {"reputation": 1463, "user_id": 558098, "user_type": "registered", "accept_rate": 23, "profile_image": "https://www.gravatar.com/avatar/52d445b3234e100bc93c9accfce29d98?s=128&d=identicon&r=PG", "display_name": "NN_", "link": "https://stackoverflow.com/users/558098/nn"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 61, "favorite_count": 0, "accepted_answer_id": 46450888, "answer_count": 2, "score": 0, "last_activity_date": 1614982776, "creation_date": 1506509482, "question_id": 46446026, "link": "https://stackoverflow.com/questions/46446026/typescript-doesnt-assign-with-interface-while-assign-with-object-literal", "title": "TypeScript doesn&#39;t assign with interface while assign with object literal", "body": "<p>Why first assignment to 'a' doesn't work while second does.</p>\n\n<pre><code>interface A {\n    [k: string]: string | number;\n}\n\ninterface B {\n    p: string;\n    d: number;\n}\n\nconst b: B = {p:\"\", d:0};\nconst a: A = b;\n\nconst b2 = {p:\"\", d:0};\nconst a2: A = b2;\n</code></pre>\n"}, {"tags": ["angular", "typescript", "ionic2", "ionic3"], "comments": [{"owner": {"reputation": 50111, "user_id": 1077309, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/yghA4.jpg?s=128&g=1", "display_name": "Sampath", "link": "https://stackoverflow.com/users/1077309/sampath"}, "edited": false, "score": 0, "creation_date": 1506509370, "post_id": 46445919, "comment_id": 79847480, "body": "Can you show your current <code>code</code>?"}, {"owner": {"reputation": 495, "user_id": 1313263, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/8a71647aab56ab19e8c50239249cba67?s=128&d=identicon&r=PG", "display_name": "Eraldo", "link": "https://stackoverflow.com/users/1313263/eraldo"}, "reply_to_user": {"reputation": 50111, "user_id": 1077309, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/yghA4.jpg?s=128&g=1", "display_name": "Sampath", "link": "https://stackoverflow.com/users/1077309/sampath"}, "edited": false, "score": 0, "creation_date": 1506509847, "post_id": 46445919, "comment_id": 79847809, "body": "@Sampath I added some sample code snipped."}], "answers": [{"comments": [{"owner": {"reputation": 495, "user_id": 1313263, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/8a71647aab56ab19e8c50239249cba67?s=128&d=identicon&r=PG", "display_name": "Eraldo", "link": "https://stackoverflow.com/users/1313263/eraldo"}, "edited": false, "score": 0, "creation_date": 1506510216, "post_id": 46446208, "comment_id": 79848067, "body": "You are right -- this does show up -- however it is not full width (which is what I am looking for). I will also add screenshots to make it clear."}, {"owner": {"reputation": 495, "user_id": 1313263, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/8a71647aab56ab19e8c50239249cba67?s=128&d=identicon&r=PG", "display_name": "Eraldo", "link": "https://stackoverflow.com/users/1313263/eraldo"}, "edited": false, "score": 0, "creation_date": 1506511002, "post_id": 46446208, "comment_id": 79848619, "body": "item-start does also not take up full width.. however the double ion-item does work -- without the item-start and without the <code>floating</code> label."}, {"owner": {"reputation": 50111, "user_id": 1077309, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/yghA4.jpg?s=128&g=1", "display_name": "Sampath", "link": "https://stackoverflow.com/users/1077309/sampath"}, "reply_to_user": {"reputation": 495, "user_id": 1313263, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/8a71647aab56ab19e8c50239249cba67?s=128&d=identicon&r=PG", "display_name": "Eraldo", "link": "https://stackoverflow.com/users/1313263/eraldo"}, "edited": false, "score": 0, "creation_date": 1506511102, "post_id": 46446208, "comment_id": 79848680, "body": "Hope all are fine now no?"}, {"owner": {"reputation": 495, "user_id": 1313263, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/8a71647aab56ab19e8c50239249cba67?s=128&d=identicon&r=PG", "display_name": "Eraldo", "link": "https://stackoverflow.com/users/1313263/eraldo"}, "edited": false, "score": 1, "creation_date": 1506511194, "post_id": 46446208, "comment_id": 79848735, "body": "Yes, thank you @Sampath. :) I posted my updated solution triggered by your suggestion."}], "tags": [], "owner": {"reputation": 50111, "user_id": 1077309, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/yghA4.jpg?s=128&g=1", "display_name": "Sampath", "link": "https://stackoverflow.com/users/1077309/sampath"}, "is_accepted": true, "score": 2, "last_activity_date": 1506510697, "last_edit_date": 1506510697, "creation_date": 1506509978, "answer_id": 46446208, "question_id": 46445919, "link": "https://stackoverflow.com/questions/46445919/ion-label-with-custom-full-width-form-control/46446208#46446208", "title": "ion-label with custom full width form control", "body": "<p>You need to add <code>item-end</code> <code>attribute</code> like below.</p>\n\n<blockquote>\n  <p>That's because ion-item component has predefined set of selectors that\n  can be used to transclude inside that component</p>\n</blockquote>\n\n<p><a href=\"https://github.com/ionic-team/ionic/blob/master/src/components/item/item.ts#L277-L289\" rel=\"nofollow noreferrer\"><strong>official Git Repo</strong></a></p>\n\n<pre class=\"lang-html prettyprint-override\"><code>&lt;ion-item&gt;\n  &lt;ion-label floating&gt;Keywords&lt;/ion-label&gt;\n  &lt;custom-input formControlName=\"content\" item-end&gt;&lt;/custom-input&gt;\n&lt;/ion-item&gt;\n</code></pre>\n\n<p>If you need to use <code>full width</code> then:</p>\n\n<pre class=\"lang-html prettyprint-override\"><code>&lt;ion-item&gt;\n  &lt;ion-label floating&gt;Keywords&lt;/ion-label&gt;\n &lt;/ion-item&gt;\n&lt;ion-item&gt;\n  &lt;custom-input formControlName=\"content\" item-start&gt;&lt;/custom-input&gt;\n&lt;/ion-item&gt;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 43, "user_id": 8117849, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bMzMe.gif?s=128&g=1", "display_name": "Dr NVS", "link": "https://stackoverflow.com/users/8117849/dr-nvs"}, "is_accepted": false, "score": 0, "last_activity_date": 1580746676, "last_edit_date": 1580746676, "creation_date": 1580745609, "answer_id": 60042845, "question_id": 46445919, "link": "https://stackoverflow.com/questions/46445919/ion-label-with-custom-full-width-form-control/60042845#60042845", "title": "ion-label with custom full width form control", "body": "<p>I tried as follows and working smart, please try and update any other good methods.</p>\n\n<pre><code>&lt;ion-row&gt;\n   &lt;ion-col size=\"5\"&gt;\n        &lt;ion-label floating&gt;Content: &lt;/ion-label&gt;\n    &lt;/ion-col&gt;\n    &lt;ion-col size=\"7\"&gt;\n        &lt;ion-select formControlName= ...\n        &lt;/ion-select&gt;\n    &lt;/ion-col&gt;\n&lt;/ion-row&gt;\n</code></pre>\n"}], "owner": {"reputation": 495, "user_id": 1313263, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/8a71647aab56ab19e8c50239249cba67?s=128&d=identicon&r=PG", "display_name": "Eraldo", "link": "https://stackoverflow.com/users/1313263/eraldo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3900, "favorite_count": 0, "accepted_answer_id": 46446208, "answer_count": 2, "score": 3, "last_activity_date": 1580746676, "creation_date": 1506509192, "last_edit_date": 1506511146, "question_id": 46445919, "link": "https://stackoverflow.com/questions/46445919/ion-label-with-custom-full-width-form-control", "title": "ion-label with custom full width form control", "body": "<p>How can I use <code>ion-label</code> with a 100% width custom form control?\nCurrently as soon as I add an <code>ion-label</code> to my <code>ion-item</code> inside my form, where I am using a custom form control (not <code>ion-input</code>) my custom form control field is not visible anymore.</p>\n\n<p>So, what can I change to make the <code>ion-label</code> work with a custom form control?</p>\n\n<p>Example code:</p>\n\n<pre><code>&lt;ion-item&gt;\n  &lt;ion-label floating&gt;Keywords&lt;/ion-label&gt;\n  &lt;custom-input formControlName=\"content\"&gt;&lt;/custom-input&gt;\n&lt;/ion-item&gt;\n</code></pre>\n\n<p>I also tried this:</p>\n\n<pre><code>&lt;!-- Item with a label and content --&gt;\n  &lt;ion-item&gt;\n    &lt;ion-label&gt;\n      Item Label\n    &lt;/ion-label&gt;\n    &lt;div item-content&gt;\n      Item Content will be next to the label (not full width)\n      &lt;custom-input formControlName=\"content\" item-end&gt;&lt;/custom-input&gt;\n    &lt;/div&gt;\n  &lt;/ion-item&gt;\n</code></pre>\n\n<p>However this does ends up only taking a fraction of the width of my page.</p>\n\n<p>With <code>item-end</code>:\n<a href=\"https://i.stack.imgur.com/qI4Rc.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/qI4Rc.png\" alt=\"enter image description here\"></a></p>\n\n<p>With <code>item-content</code>:\n<a href=\"https://i.stack.imgur.com/OOOQZ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/OOOQZ.png\" alt=\"enter image description here\"></a></p>\n\n<p>I want the <code>custom-input</code> to be 100% width (e.g. text editor)</p>\n\n<h1>Solution</h1>\n\n<p>Inspired by the double item idea from @Sampath:</p>\n\n<pre><code>&lt;ion-item no-lines&gt;\n  &lt;ion-label&gt;Content&lt;/ion-label&gt;\n&lt;/ion-item&gt;\n&lt;ion-item&gt;\n  &lt;custom-input formControlName=\"content\"&gt;&lt;/custom-input&gt;\n&lt;/ion-item&gt;\n</code></pre>\n"}, {"tags": ["javascript", "angular", "typescript", "angular4-httpclient"], "comments": [{"owner": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 5, "creation_date": 1506509802, "post_id": 46445827, "comment_id": 79847774, "body": "<a href=\"https://angular.io/guide/http#reading-the-full-response\" rel=\"nofollow noreferrer\">angular.io/guide/http#reading-the-full-response</a>"}, {"owner": {"reputation": 172, "user_id": 6060916, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/bbdb68b7b557730d4cec3ebc19463ab2?s=128&d=identicon&r=PG&f=1", "display_name": "KIA", "link": "https://stackoverflow.com/users/6060916/kia"}, "edited": false, "score": 0, "creation_date": 1506510350, "post_id": 46445827, "comment_id": 79848171, "body": "This simple code will give you the body   <code>let body = error.text()</code>"}, {"owner": {"reputation": 8397, "user_id": 2736022, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/c937c803dbc35de26f1e93229875679e?s=128&d=identicon&r=PG&f=1", "display_name": "Gillardo", "link": "https://stackoverflow.com/users/2736022/gillardo"}, "edited": false, "score": 0, "creation_date": 1506511613, "post_id": 46445827, "comment_id": 79849016, "body": "<code>.text()</code> isnt a method on HttpErrorResponse"}, {"owner": {"reputation": 1811, "user_id": 1379079, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/4mBeJ.jpg?s=128&g=1", "display_name": "Santosh", "link": "https://stackoverflow.com/users/1379079/santosh"}, "edited": false, "score": 0, "creation_date": 1506522374, "post_id": 46445827, "comment_id": 79856538, "body": "@Gillardo, did you do console log of the error object to see its structure?"}, {"owner": {"reputation": 375, "user_id": 8540273, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f740ad22ef837b6efc94c95e755a0c2d?s=128&d=identicon&r=PG&f=1", "display_name": "JSingh", "link": "https://stackoverflow.com/users/8540273/jsingh"}, "edited": false, "score": 0, "creation_date": 1506543800, "post_id": 46445827, "comment_id": 79868854, "body": "Try with <code>error.json()</code>"}], "owner": {"reputation": 8397, "user_id": 2736022, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/c937c803dbc35de26f1e93229875679e?s=128&d=identicon&r=PG&f=1", "display_name": "Gillardo", "link": "https://stackoverflow.com/users/2736022/gillardo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 148, "favorite_count": 1, "answer_count": 0, "score": 1, "last_activity_date": 1562853427, "creation_date": 1506508964, "last_edit_date": 1562853427, "question_id": 46445827, "link": "https://stackoverflow.com/questions/46445827/angular2-httpclient-how-can-you-get-the-content-body", "title": "Angular2 httpClient - How can you get the content body?", "body": "<p>Before I updated to <code>HttpClient</code>, I used the <code>Http</code> class and loaded data using the following code.</p>\n\n<pre><code>get(): Promise&lt;Account&gt; {\n    return this.http.get(this.apiUrl)\n        .toPromise()\n        .then((response) =&gt; response.json())\n        .catch(this.handleError);\n}\n\nprivate handleError(error: any) {\n    // do nothing for unauthorized user, as should be handles on component\n    if (error.status != '401') {\n        console.error('An error occurred', error);\n    }\n\n    return Promise.reject(error._body || error);\n}\n</code></pre>\n\n<p>If the server errored with a 500, or 400 (validation) i could return the text from the server via my <code>.catch</code> handler.</p>\n\n<p>Now I have updated to use the <code>HttpClient</code> and my code has changed to this</p>\n\n<pre><code>get(): Promise&lt;Account&gt; {\n    return this.httpClient.get&lt;Account&gt;(this.apiUrl)\n        .toPromise()\n        .catch(this.handleError);\n}\n\nprivate handleError(error: any) {\n    // do nothing for unauthorized user, as should be handles on component\n    if (error.status != '401') {\n        console.error('An error occurred', error);\n    }\n\n    return Promise.reject(error._body || error);\n}\n</code></pre>\n\n<p>As you can see only the <code>get</code> method has changed, but now I cannot get the <code>_body</code> of the error response?</p>\n\n<p>How can I get the body of the response like I did before?</p>\n"}, {"tags": ["angular", "typescript", "fullcalendar"], "comments": [{"owner": {"reputation": 43836, "user_id": 5947043, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jUK37.png?s=128&g=1", "display_name": "ADyson", "link": "https://stackoverflow.com/users/5947043/adyson"}, "edited": false, "score": 0, "creation_date": 1506510439, "post_id": 46445617, "comment_id": 79848229, "body": "<code>this.calendarOptions.events = newEvents;</code> achieves nothing. You can remove that. Using <code>renderEvents</code> as you have done should work though, assuming the date you give is valid (no need to use <code>.format()</code> to stringify it though, you can just pass the moment object directly - maybe try that), and is within the currently displayed date range on the calendar."}, {"owner": {"reputation": 31, "user_id": 7455254, "user_type": "registered", "profile_image": "https://graph.facebook.com/380297685665236/picture?type=large", "display_name": "Hamza Alibi", "link": "https://stackoverflow.com/users/7455254/hamza-alibi"}, "reply_to_user": {"reputation": 43836, "user_id": 5947043, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jUK37.png?s=128&g=1", "display_name": "ADyson", "link": "https://stackoverflow.com/users/5947043/adyson"}, "edited": false, "score": 0, "creation_date": 1506517313, "post_id": 46445617, "comment_id": 79852771, "body": "Thank you for your answer  , i made as you said but still not working  `  //callback function         this.calendarOptions.dayClick = (date,jsEv,vie) =&gt; {             let abc:string =&#39;a&#39;;             let hamz :object=[{                 title:abc,                 start:date             }];             $(&quot;#myCalendar&quot;).fullCalendar(&#39;renderEvent&#39;,                        hamz,                         true //we want to stick it                                        );             alert(&#39;ok&#39;)             console.log(this.calendarOptions.events);     } `"}, {"owner": {"reputation": 43836, "user_id": 5947043, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jUK37.png?s=128&g=1", "display_name": "ADyson", "link": "https://stackoverflow.com/users/5947043/adyson"}, "edited": false, "score": 0, "creation_date": 1506518723, "post_id": 46445617, "comment_id": 79853775, "body": "any errors in your browser console at that time?"}, {"owner": {"reputation": 31, "user_id": 7455254, "user_type": "registered", "profile_image": "https://graph.facebook.com/380297685665236/picture?type=large", "display_name": "Hamza Alibi", "link": "https://stackoverflow.com/users/7455254/hamza-alibi"}, "reply_to_user": {"reputation": 43836, "user_id": 5947043, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jUK37.png?s=128&g=1", "display_name": "ADyson", "link": "https://stackoverflow.com/users/5947043/adyson"}, "edited": false, "score": 0, "creation_date": 1506518863, "post_id": 46445617, "comment_id": 79853873, "body": "no errors but no event appear , do you have any example  ?"}], "answers": [{"tags": [], "owner": {"reputation": 31, "user_id": 7455254, "user_type": "registered", "profile_image": "https://graph.facebook.com/380297685665236/picture?type=large", "display_name": "Hamza Alibi", "link": "https://stackoverflow.com/users/7455254/hamza-alibi"}, "is_accepted": true, "score": 0, "last_activity_date": 1561521471, "last_edit_date": 1561521471, "creation_date": 1506605600, "answer_id": 46470486, "question_id": 46445617, "link": "https://stackoverflow.com/questions/46445617/event-is-not-showed-when-using-fullcalendar-with-angular4/46470486#46470486", "title": "Event is not showed when using fullcalendar with angular4", "body": "<p>Solution:</p>\n\n<pre><code>calendarOptions  =  {\n    dayClick: function(date, allDay, jsEvent, view){},\n};\nngOnInit() {\nthis.calendarOptions.dayClick = (date) =&gt; {\n            let eventName = prompt('titre de l\\'\u00e9v\u00e8nement')\n            if(eventName){\n                var newEvent = [{\n                    title: eventName,\n                    start: date\n                }];\n                //objet jquery\n                $('#calendar').fullCalendar('renderEvents', newEvent, true);\n            }\n}\n</code></pre>\n"}], "owner": {"reputation": 31, "user_id": 7455254, "user_type": "registered", "profile_image": "https://graph.facebook.com/380297685665236/picture?type=large", "display_name": "Hamza Alibi", "link": "https://stackoverflow.com/users/7455254/hamza-alibi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 648, "favorite_count": 1, "accepted_answer_id": 46470486, "answer_count": 1, "score": 3, "last_activity_date": 1561521471, "creation_date": 1506508361, "last_edit_date": 1506508613, "question_id": 46445617, "link": "https://stackoverflow.com/questions/46445617/event-is-not-showed-when-using-fullcalendar-with-angular4", "title": "Event is not showed when using fullcalendar with angular4", "body": "<p>I want to use fullcalendar within angular4 , i just show the calendar  but i want to add event on click , i use for that dayClick and i push the object into events[] , the new event was added to the events but it don't appear on the calendar , i try to put stick= true but nothng changes .I'm relatively new to the angular 4 with just typescript, so if I'm approaching things the totally wrong way, please also let me know! :)</p>\n\n<p>Thank you!</p>\n\n<pre><code>export class MyHeaderComponent {\n\nconstruct(){ }\n private arr:string[]=['az'];\ncalendarOptions = {\n    events :[],\n         //click on day make event\n    dayClick(date, jsEvent, view) {}  ,  \n    renderEvents(event, element, view  ){}\n}          \n\n\nngOnInit() {\n    let newEvents = [\n  {\n    title: 'name b',\n    start: '2017-09-20'\n  },\n  {\n    title: 'name c',\n    start: '2017-09-20'\n  },\n  {\n    title: 'name d',\n    start: '2017-09-20'\n  }\n];\n    this.calendarOptions.events = newEvents;\n\n    //callback function\n    this.calendarOptions.dayClick = (date,jsEv,vie) =&gt; {\n        let abc:string ='a';\n        //abc = prompt('Enter Title'); \n        let dat = date.format()\n        let hamz ={\n            title:abc,\n            start:dat\n        };\n        console.log(hamz);\n        newEvents.push(hamz);\n        this.calendarOptions.events = newEvents;\n        console.log(this.calendarOptions.events);\n        this.calendarOptions.events = newEvents;\n        $(\"#myCalendar\").fullCalendar('renderEvents', \n                                        newEvents, \n                                        true //we want to stick it\n                                   );\n        alert('ok')\n      }\n   }\n}\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/ASt7B.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ASt7B.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["python", "django", "angular", "python-3.x", "typescript"], "answers": [{"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user7304253"}, "edited": false, "score": 0, "creation_date": 1506512651, "post_id": 46446989, "comment_id": 79849650, "body": "I understand that I should send body like this <code>{&quot;message&quot;:&quot;Hello&quot;, &quot;id&quot;:1}</code>? Or maybe it should be done in another way?"}, {"owner": {"reputation": 14813, "user_id": 1887976, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/O57On.png?s=128&g=1", "display_name": "Antwane", "link": "https://stackoverflow.com/users/1887976/antwane"}, "edited": false, "score": 0, "creation_date": 1506513464, "post_id": 46446989, "comment_id": 79850163, "body": "I don&#39;t know, I am not sure your error is related to channels or json body you have to send. But your model <code>Message</code> declare <code>user</code> as foreign key field without <code>is_null=True</code>. Since by default <code>is_null=False</code>, you must provide a user instance (or a user pk) when creating any <code>Message</code> instance."}], "tags": [], "owner": {"reputation": 14813, "user_id": 1887976, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/O57On.png?s=128&g=1", "display_name": "Antwane", "link": "https://stackoverflow.com/users/1887976/antwane"}, "is_accepted": false, "score": 0, "last_activity_date": 1506513617, "last_edit_date": 1506513617, "creation_date": 1506512528, "answer_id": 46446989, "question_id": 46445307, "link": "https://stackoverflow.com/questions/46445307/how-it-should-be-done-properly-to-send-and-receive-message-with-user-id-using-we/46446989#46446989", "title": "How it should be done properly to send and receive message with user ID using websockets in Django and Angular?", "body": "<p>Error seems to indicate your <code>Message</code> instance was created without <code>user_id</code>.\nWhat if you add this argument when creating a new <code>Message</code> instance ?</p>\n\n<pre><code>@channel_session_user_from_http\ndef msg_consumer(message):\n    text = message.content.get('text')\n    Message.objects.create(\n        user=message.user,  # &lt;- Here is the user associated\n        message=text,\n    )\n    Group(\"chat\").send({'text': text})\n</code></pre>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user7304253"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 88, "favorite_count": 1, "answer_count": 1, "score": 1, "last_activity_date": 1506531872, "creation_date": 1506507429, "last_edit_date": 1506531872, "question_id": 46445307, "link": "https://stackoverflow.com/questions/46445307/how-it-should-be-done-properly-to-send-and-receive-message-with-user-id-using-we", "title": "How it should be done properly to send and receive message with user ID using websockets in Django and Angular?", "body": "<p>I am going to create chatbot using websockets. Each user can have their own account. I have Django backend and frontend written in Angular. At the moment I have a problem with message object. To wit I get this in backend:</p>\n\n<pre><code>django_1  | django.db.utils.IntegrityError: null value in column \"user_id\" violates not-null constraint\ndjango_1  | DETAIL:  Failing row contains (212, {\"message\":\"Hello\"}, null).\n</code></pre>\n\n<p>It looks as I wouldn't send user ID from frontend. Maybe I should send something like this <code>{\"message\":\"Hello\", \"id\":1}</code>? I wonder how can I solve it and how it should be done properly?</p>\n\n<p>My Django message model looks in this way:</p>\n\n<pre><code>class Message(models.Model):\n    user = models.ForeignKey('auth.User')\n    message = models.CharField(max_length=200)\n</code></pre>\n\n<p>This is my backend consumer:</p>\n\n<pre><code>@channel_session_user_from_http\ndef msg_consumer(message):\n    text = message.content.get('text')\n    Message.objects.create(\n        message=text,\n    )\n    Group(\"chat\").send({'text': text})\n\n@channel_session_user\ndef ws_connect(message):\n    # Accept the connection\n    message.reply_channel.send({\"accept\": True})\n    # Add to the chat group\n    Group(\"chat\").add(message.reply_channel)\n\n    message.reply_channel.send({\n        \"text\": json.dumps({\n            'message': 'Welcome'\n        })\n    })\n\n@channel_session_user\ndef ws_receive(message):\n\n    message.reply_channel.send({\"accept\": True})\n    print(\"Backend received message: \" + message.content['text'])\n    Message.objects.create(\n        message = message.content['text'],\n    )\n\n    Channel(\"chat\").send({\n        \"text\": json.dumps({\n             'message': 'Can we start?'\n         })\n    })\n\n@channel_session_user\ndef ws_disconnect(message):\n    Group(\"chat\").discard(message.reply_channel)\n</code></pre>\n\n<p>This is part of my Angular component:</p>\n\n<pre><code>export class HomeComponent {\n\n    response: string;\n    response2: string;\n\n    constructor(\n        private chatService: ChatService,\n        private router: Router,\n        private http: Http,\n    ) {\n\n        chatService.messages.subscribe(msg =&gt; {\n            this.response = msg.message;\n      console.log(\"Response from backend: \" + msg.message);\n        });\n\n    }\n    private message = {\n        message: 'this is a test message'\n    }\n\n  sendMsg() {\n        console.log('new message from client to websocket: ', this.message);\n        this.chatService.messages.next(this.message);\n        return this.message.message;\n    }\n\n  send(msg) {\n     this.message.message = msg;\n     this.sendMsg();\n  }\n\n      login() {\n        return this.http.get('/data', )\n            .map(response =&gt; response.json())\n            .subscribe(response2 =&gt; this.response2 = response2);\n    }\n\n\n}\n\n@Component({\n  selector: 'key-up3',\n  template: `\n    &lt;input #box (keyup.enter)=\"keyup7.emit(box.value)\"&gt;\n    &lt;p&gt;{{value}}&lt;/p&gt;\n  `\n})\nexport class KeyUpComponent_v3 {\n   @Output() keyup7 = new EventEmitter&lt;string&gt;();\n}\n</code></pre>\n\n<p><strong>UPDATE</strong>\nAt the moment I solved it in the way shown below in backend. </p>\n\n<p>def ws_receive(message):</p>\n\n<pre><code>message.reply_channel.send({\"accept\": True})\nprint(\"Backend received message: \" + message.content['text'])\ndata = json.loads(message.content['text'])\n\nMessage.objects.create(\n    user_id=data['user_id'],\n    message = data['message'],\n)\n</code></pre>\n"}, {"tags": ["angular", "typescript", "webpack", "angular-cli"], "comments": [{"owner": {"reputation": 371, "user_id": 3398622, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a251612226c7c82644d80169837e954b?s=128&d=identicon&r=PG&f=1", "display_name": "macvag", "link": "https://stackoverflow.com/users/3398622/macvag"}, "edited": false, "score": 0, "creation_date": 1506511184, "post_id": 46445236, "comment_id": 79848728, "body": "I would suggest you not to use a library that depends on jQuery, because you can do the same things without it in Angular. If you don&#39;t want to manipulate select elements by yourself (it&#39;s a very good practice), i suggest you to use a library built in for angular( for example ng-select, <a href=\"https://github.com/basvandenberg/ng-select\" rel=\"nofollow noreferrer\">link</a> ). If you want to go with your current implementation probably you have to declare var $:any after all the import in your component."}, {"owner": {"reputation": 1560, "user_id": 5614748, "user_type": "registered", "accept_rate": 68, "profile_image": "https://graph.facebook.com/10153324566173505/picture?type=large", "display_name": "Afolabi Olaoluwa Akinwumi", "link": "https://stackoverflow.com/users/5614748/afolabi-olaoluwa-akinwumi"}, "reply_to_user": {"reputation": 371, "user_id": 3398622, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a251612226c7c82644d80169837e954b?s=128&d=identicon&r=PG&f=1", "display_name": "macvag", "link": "https://stackoverflow.com/users/3398622/macvag"}, "edited": false, "score": 0, "creation_date": 1507725210, "post_id": 46445236, "comment_id": 80324102, "body": "@macvg even after installing ng-select, nothing changed."}, {"owner": {"reputation": 1560, "user_id": 5614748, "user_type": "registered", "accept_rate": 68, "profile_image": "https://graph.facebook.com/10153324566173505/picture?type=large", "display_name": "Afolabi Olaoluwa Akinwumi", "link": "https://stackoverflow.com/users/5614748/afolabi-olaoluwa-akinwumi"}, "edited": false, "score": 0, "creation_date": 1507725215, "post_id": 46445236, "comment_id": 80324109, "body": "@rajdeep26 are you able to fix this?"}, {"owner": {"reputation": 371, "user_id": 3398622, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a251612226c7c82644d80169837e954b?s=128&d=identicon&r=PG&f=1", "display_name": "macvag", "link": "https://stackoverflow.com/users/3398622/macvag"}, "edited": false, "score": 0, "creation_date": 1507729350, "post_id": 46445236, "comment_id": 80327295, "body": "@rajdeep26 please edit your question and copy paste the angular-cli error. Otherwise no answer will be correct."}, {"owner": {"reputation": 14717, "user_id": 2351696, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/MwlR3.jpg?s=128&g=1", "display_name": "suhailvs", "link": "https://stackoverflow.com/users/2351696/suhailvs"}, "reply_to_user": {"reputation": 371, "user_id": 3398622, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a251612226c7c82644d80169837e954b?s=128&d=identicon&r=PG&f=1", "display_name": "macvag", "link": "https://stackoverflow.com/users/3398622/macvag"}, "edited": false, "score": 0, "creation_date": 1539057239, "post_id": 46445236, "comment_id": 92351890, "body": "@macvag angular cli error is <code>TS2551: Property &#39;select2&#39; does not exist on type &#39;JQuery&lt;HTMLElement&gt;&#39;. Did you mean &#39;select&#39;?</code>"}], "answers": [{"tags": [], "owner": {"reputation": 1672, "user_id": 1123062, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/E3NJe.png?s=128&g=1", "display_name": "alcfeoh", "link": "https://stackoverflow.com/users/1123062/alcfeoh"}, "is_accepted": false, "score": 0, "last_activity_date": 1520056548, "creation_date": 1520056548, "answer_id": 49081176, "question_id": 46445236, "link": "https://stackoverflow.com/questions/46445236/property-select2-does-not-exist-on-type-jqueryhtmlelement/49081176#49081176", "title": "Property &#39;select2&#39; does not exist on type &#39;JQuery&lt;HTMLElement&gt;&#39;", "body": "<p>I had a similar issue and fixed it by importing:</p>\n\n<pre><code>import 'select2';\n</code></pre>\n\n<p>which I had installed earlier:</p>\n\n<pre><code>npm install select2 --save\n</code></pre>\n\n<p>Once you do that, you can use the library through jQuery as usual, and your IDE won't complain about it.</p>\n"}, {"tags": [], "owner": {"reputation": 17207, "user_id": 681830, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/bhOOq.jpg?s=128&g=1", "display_name": "Val", "link": "https://stackoverflow.com/users/681830/val"}, "is_accepted": false, "score": 0, "last_activity_date": 1557291255, "last_edit_date": 1557291255, "creation_date": 1552460074, "answer_id": 55136026, "question_id": 46445236, "link": "https://stackoverflow.com/questions/46445236/property-select2-does-not-exist-on-type-jqueryhtmlelement/55136026#55136026", "title": "Property &#39;select2&#39; does not exist on type &#39;JQuery&lt;HTMLElement&gt;&#39;", "body": "\n\n<p>In my case, that's because I imported another library (<a href=\"https://sweetalert2.github.io/\" rel=\"nofollow noreferrer\">sweetalert2</a>), with the wrong jQuery definition.</p>\n\n<p>In <code>sweetalert2.d.ts</code> line 885:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>/**\n * These interfaces aren't provided by SweetAlert2, but its definitions use them.\n * They will be merged with 'true' definitions.\n */\n\n// tslint:disable:no-empty-interface\n\ninterface JQuery {\n}\n</code></pre>\n\n<p>This override <code>JQuery</code> definition with the wrong result (which originally should be <code>JQuery&lt;T = HTMLElement&gt;</code>). After removing it everything runs correctly.</p>\n"}], "owner": {"reputation": 41, "user_id": 3148502, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c160ef6345473688a1ca16b6eb99dcee?s=128&d=identicon&r=PG&f=1", "display_name": "rajdeep26", "link": "https://stackoverflow.com/users/3148502/rajdeep26"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 2056, "favorite_count": 1, "answer_count": 2, "score": 3, "last_activity_date": 1557291255, "creation_date": 1506507223, "question_id": 46445236, "link": "https://stackoverflow.com/questions/46445236/property-select2-does-not-exist-on-type-jqueryhtmlelement", "title": "Property &#39;select2&#39; does not exist on type &#39;JQuery&lt;HTMLElement&gt;&#39;", "body": "<p>I am using Angular 4 with <code>select2</code> plugin. I have already added <code>@types</code> for <code>jquery</code> and <code>select2</code>. Vscode intellisense shows as a method select2 and doesnt throw any error, but angular-cli's compilation fails.</p>\n"}, {"tags": ["angular", "typescript"], "comments": [{"owner": {"reputation": 2237, "user_id": 2032444, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/stj8M.png?s=128&g=1", "display_name": "Single Entity", "link": "https://stackoverflow.com/users/2032444/single-entity"}, "edited": false, "score": 0, "creation_date": 1534973075, "post_id": 46445134, "comment_id": 90901097, "body": "I believe you are best using the ngStyle directive to pass an object from your html element to your typescript (conditionally if you wish)"}, {"owner": {"reputation": 2237, "user_id": 2032444, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/stj8M.png?s=128&g=1", "display_name": "Single Entity", "link": "https://stackoverflow.com/users/2032444/single-entity"}, "edited": false, "score": 0, "creation_date": 1535012355, "post_id": 46445134, "comment_id": 90912161, "body": "Or you can use ViewChild directive to access the element of interest in your DOM and apply a style that way"}], "answers": [{"comments": [{"owner": {"reputation": 377, "user_id": 5161356, "user_type": "registered", "accept_rate": 32, "profile_image": "https://www.gravatar.com/avatar/f3db859069f23e20eadee9db85fba488?s=128&d=identicon&r=PG&f=1", "display_name": "Luki", "link": "https://stackoverflow.com/users/5161356/luki"}, "edited": false, "score": 0, "creation_date": 1506509182, "post_id": 46445587, "comment_id": 79847360, "body": "Sorry, I&#39;m newbie in Angular. Where exactly do I have to add this line: [style.font-size.px]=&quot;{{ fontSize }}&quot; ?"}, {"owner": {"reputation": 1882, "user_id": 1423259, "user_type": "registered", "accept_rate": 59, "profile_image": "https://i.stack.imgur.com/KMTXr.png?s=128&g=1", "display_name": "tommueller", "link": "https://stackoverflow.com/users/1423259/tommueller"}, "reply_to_user": {"reputation": 377, "user_id": 5161356, "user_type": "registered", "accept_rate": 32, "profile_image": "https://www.gravatar.com/avatar/f3db859069f23e20eadee9db85fba488?s=128&d=identicon&r=PG&f=1", "display_name": "Luki", "link": "https://stackoverflow.com/users/5161356/luki"}, "edited": false, "score": 0, "creation_date": 1507529429, "post_id": 46445587, "comment_id": 80228729, "body": "In your template on the element whichs font-size you want to change: &lt;div [style.font-size.px]=&quot;{{ fontSize }}&quot;&gt;content&lt;/div&gt;"}], "tags": [], "owner": {"reputation": 1882, "user_id": 1423259, "user_type": "registered", "accept_rate": 59, "profile_image": "https://i.stack.imgur.com/KMTXr.png?s=128&g=1", "display_name": "tommueller", "link": "https://stackoverflow.com/users/1423259/tommueller"}, "is_accepted": false, "score": 3, "last_activity_date": 1506508218, "creation_date": 1506508218, "answer_id": 46445587, "question_id": 46445134, "link": "https://stackoverflow.com/questions/46445134/how-to-bind-css-style-from-typescript-method-with-angular/46445587#46445587", "title": "How to bind css style from TypeScript method with Angular", "body": "<p>This is not how you do it in Angular! This is how you would do it:</p>\n\n<p>In your <code>CarItemComponent</code> add a vairable for the font-size for example:</p>\n\n<pre><code>fontSize: number;\n</code></pre>\n\n<p>In your <code>addStyle()</code> set this number to the font size you want to use and in your template add this to the element which's font-size you want to change:</p>\n\n<pre><code>[style.font-size.px]=\"{{ fontSize }}\"\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 194, "user_id": 3230131, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7j8bC.png?s=128&g=1", "display_name": "prampe", "link": "https://stackoverflow.com/users/3230131/prampe"}, "is_accepted": false, "score": 0, "last_activity_date": 1555083454, "creation_date": 1555083454, "answer_id": 55655130, "question_id": 46445134, "link": "https://stackoverflow.com/questions/46445134/how-to-bind-css-style-from-typescript-method-with-angular/55655130#55655130", "title": "How to bind css style from TypeScript method with Angular", "body": "<p>This could be useful (Angular 6):</p>\n\n<ol>\n<li>Change styles in order to look like disabled</li>\n<li>Eliminate the href </li>\n</ol>\n\n<p><a href=\"https://stackblitz.com/edit/angular-wzgr4h\" rel=\"nofollow noreferrer\">https://stackblitz.com/edit/angular-wzgr4h</a></p>\n"}], "owner": {"reputation": 377, "user_id": 5161356, "user_type": "registered", "accept_rate": 32, "profile_image": "https://www.gravatar.com/avatar/f3db859069f23e20eadee9db85fba488?s=128&d=identicon&r=PG&f=1", "display_name": "Luki", "link": "https://stackoverflow.com/users/5161356/luki"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 16439, "favorite_count": 1, "answer_count": 2, "score": 5, "last_activity_date": 1555083454, "creation_date": 1506506943, "question_id": 46445134, "link": "https://stackoverflow.com/questions/46445134/how-to-bind-css-style-from-typescript-method-with-angular", "title": "How to bind css style from TypeScript method with Angular", "body": "<p>I have a component like this below:</p>\n\n<pre><code>@Component({\n  selector: 'app-car-item',\n  templateUrl: './car-item.component.html',\n  styleUrls: ['./car-item.component.css'],\n})\nexport class CarItemComponent {\n  public style: string\n\n  addStyle() {\n    this.style = 'font-size: 20px'\n  }\n</code></pre>\n\n<p>How can I implement <code>addStyle()</code> method to change size of font in car-item.component.css?</p>\n"}, {"tags": ["list", "typescript", "converter"], "comments": [{"owner": {"reputation": 27663, "user_id": 2419531, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/164fd6b98db28a299712d02501b7377d?s=128&d=identicon&r=PG", "display_name": "Saravana", "link": "https://stackoverflow.com/users/2419531/saravana"}, "edited": false, "score": 2, "creation_date": 1506508121, "post_id": 46445115, "comment_id": 79846695, "body": "You cannot create types from runtime objects unless they are constants that cannot be modified like <code>const a = &#39;a&#39;</code>."}, {"owner": {"reputation": 91, "user_id": 4072405, "user_type": "registered", "profile_image": "https://graph.facebook.com/502119452/picture?type=large", "display_name": "fritz_da_silva", "link": "https://stackoverflow.com/users/4072405/fritz-da-silva"}, "reply_to_user": {"reputation": 27663, "user_id": 2419531, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/164fd6b98db28a299712d02501b7377d?s=128&d=identicon&r=PG", "display_name": "Saravana", "link": "https://stackoverflow.com/users/2419531/saravana"}, "edited": false, "score": 0, "creation_date": 1506510051, "post_id": 46445115, "comment_id": 79847950, "body": "It is my assumption that <code>a</code> is set constant and immutable. How do I create types from the list <code>a</code>?"}, {"owner": {"reputation": 27663, "user_id": 2419531, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/164fd6b98db28a299712d02501b7377d?s=128&d=identicon&r=PG", "display_name": "Saravana", "link": "https://stackoverflow.com/users/2419531/saravana"}, "edited": false, "score": 1, "creation_date": 1506510463, "post_id": 46445115, "comment_id": 79848242, "body": "<code>a</code> is not immutable. You can do <code>a.push(&quot;x&quot;)</code> at runtime to modify the array."}], "answers": [{"tags": [], "owner": {"reputation": 2882, "user_id": 3704301, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/52d3977360cf0bb0ba1ea58e2bc557de?s=128&d=identicon&r=PG", "display_name": "mgthomas99", "link": "https://stackoverflow.com/users/3704301/mgthomas99"}, "is_accepted": false, "score": 0, "last_activity_date": 1506508449, "creation_date": 1506508449, "answer_id": 46445643, "question_id": 46445115, "link": "https://stackoverflow.com/questions/46445115/derive-a-type-a-from-a-list-of-strings-a/46445643#46445643", "title": "Derive a type A from a list of strings a", "body": "<p>What you want to do is not possible as the array is created at runtime, and changes to the array cannot be determined by the compiler. Therefore, it cannot enforce a type system.</p>\n\n<p>For example, consider the following:</p>\n\n<pre><code>const array = [ \"Bob\", \"James\", \"Dan\" ];\nlet value: *A key of array*\nsetTimeout(() =&gt; {\n    value = \"James\";\n}, 1000);\narray.splice(1, 1);\n</code></pre>\n\n<p>What would happen in the above scenario? By the time <code>value = \"James</code> is called, <code>\"James\"</code> has been removed from the array, so an error should be thrown! But this occurs at runtime so the compiler is unable to warn you.</p>\n\n<p>The workaround is to declare a type with the following construct, however it cannot be modified:</p>\n\n<pre><code>type MyType = \"Bob\" | \"James\" | \"Dan\"\nlet value: MyType = \"Dan\";\nvalue = \"Steven\" // &lt;- Compiler error!\n</code></pre>\n\n<p>EDIT: <a href=\"https://stackoverflow.com/questions/46445115/derive-a-type-a-from-a-list-of-strings-a/46445643#comment79846695_46445115\">saravana</a> sums it up quickly in their comment.</p>\n"}, {"comments": [{"owner": {"reputation": 91, "user_id": 4072405, "user_type": "registered", "profile_image": "https://graph.facebook.com/502119452/picture?type=large", "display_name": "fritz_da_silva", "link": "https://stackoverflow.com/users/4072405/fritz-da-silva"}, "edited": false, "score": 0, "creation_date": 1506520329, "post_id": 46448445, "comment_id": 79855021, "body": "awesome, it works neatly!!! the a[number] syntax looks like black magic to me. could u please elaborate on why it works?"}, {"owner": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "reply_to_user": {"reputation": 91, "user_id": 4072405, "user_type": "registered", "profile_image": "https://graph.facebook.com/502119452/picture?type=large", "display_name": "fritz_da_silva", "link": "https://stackoverflow.com/users/4072405/fritz-da-silva"}, "edited": false, "score": 0, "creation_date": 1506521818, "post_id": 46448445, "comment_id": 79856155, "body": "See Update 1 above"}, {"owner": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "reply_to_user": {"reputation": 91, "user_id": 4072405, "user_type": "registered", "profile_image": "https://graph.facebook.com/502119452/picture?type=large", "display_name": "fritz_da_silva", "link": "https://stackoverflow.com/users/4072405/fritz-da-silva"}, "edited": false, "score": 0, "creation_date": 1506529953, "post_id": 46448445, "comment_id": 79861600, "body": "You&#39;re welcome.  If you think this answer has helped you, please consider upvoting and/or accepting it."}], "tags": [], "owner": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "is_accepted": true, "score": 1, "last_activity_date": 1506521783, "last_edit_date": 1592644375, "creation_date": 1506516865, "answer_id": 46448445, "question_id": 46445115, "link": "https://stackoverflow.com/questions/46445115/derive-a-type-a-from-a-list-of-strings-a/46448445#46448445", "title": "Derive a type A from a list of strings a", "body": "<p><strong>Yes</strong>, you can do this.  The only barrier is that if you write</p>\n<pre><code>const a = ['b','c','d'];\n// inferred as string[]\n</code></pre>\n<p>then <code>a</code> will be inferred as <code>string[]</code>, so the literal values <code>'a'</code>, <code>'b'</code>, and <code>'c'</code> are forgotten by the time you try to derive <code>A</code>.  You can always annotate the type of <code>a</code> explicitly:</p>\n<pre><code>const a: ['b','c','d'] = ['b','c','d'];\ntype A = typeof a[number];\n//type A = &quot;b&quot; | &quot;c&quot; | &quot;d&quot;\n</code></pre>\n<p>but now you are repeating yourself, which you are trying to avoid.  There is a solution:</p>\n<hr />\n<p>In <a href=\"https://stackoverflow.com/a/45486495/2887218\">an answer to another question</a> I recommended a helper function (<code>tuple()</code> in <a href=\"https://gist.github.com/jcalz/381562d282ebaa9b41217d1b31e2c211\" rel=\"nofollow noreferrer\">tuple.ts</a>) to infer tuple types.</p>\n<pre><code>const a = tuple('b','c','d');\n//inferred as type [&quot;b&quot;, &quot;c&quot;, &quot;d&quot;]\n\ntype A = typeof a[number]; \n//type A = &quot;b&quot; | &quot;c&quot; | &quot;d&quot;\n</code></pre>\n<p>If you don't care about it being a tuple, you can write a simple array inference helper function instead:</p>\n<pre><code>function inferLiteralArray&lt;T extends string&gt;(...arr: T[]): T[] {\n  return arr;\n}\n\nconst a = inferLiteralArray(&quot;b&quot;, &quot;c&quot;, &quot;d&quot;);\n//inferred as type (&quot;b&quot; | &quot;c&quot; | &quot;d&quot;)[]\n\ntype A = typeof a[number];\n//type A = &quot;b&quot; | &quot;c&quot; | &quot;d&quot;\n</code></pre>\n<p>Either way works, and you don't need to repeat yourself.  Hope that helps; good luck!</p>\n<hr />\n<h3>Update 1</h3>\n<p>@fritz_da_silva <a href=\"https://stackoverflow.com/questions/46445115/derive-a-type-a-from-a-list-of-strings-a/46448445?noredirect=1#comment79855021_46448445\">said</a>:</p>\n<blockquote>\n<p>awesome, it works neatly!!! the a[number] syntax looks like black magic to me. could u please elaborate on why it works?</p>\n</blockquote>\n<p>Sure.  The syntax should be interpreted like this (see the parentheses I added for clarity):</p>\n<pre><code>type A = (typeof a)[number];\n</code></pre>\n<p>The <code>typeof a</code> part is using the <a href=\"https://github.com/Microsoft/TypeScript/blob/master/doc/spec.md#3.8.10\" rel=\"nofollow noreferrer\"><code>typeof</code> type query operator</a> to get the type of <code>a</code>, which (for the <code>tuple()</code> example) is <code>[&quot;b&quot;, &quot;c&quot;, &quot;d&quot;]</code>.</p>\n<p>Then I am using the <a href=\"https://www.typescriptlang.org/docs/handbook/advanced-types.html#index-types\" rel=\"nofollow noreferrer\">indexed access operator</a>.  If you have a type <code>T</code> and a type <code>K</code> of one of its <em>keys</em> (so it should extend <code>keyof T</code>; you can use string literals like <code>&quot;length&quot;</code> or numeric literals like <code>0</code> or unions of these), then <code>T[K]</code> is the type of the property accessible at that key.  For an arraylike type <code>A</code>, the type <code>A[number]</code> gets the type of the elements of that array type.  In the tuple example, this turns out to be a union, because there are multiple keys of type <code>number</code> with different property types.  (When you use the indexed access operator, <code>T[K1|K2]</code> should be equal to <code>T[K1]|T[K2]</code>).  Observe:</p>\n<pre><code>type TheTuple = typeof a; // ['b','c','d'];\ntype Zeroth = TheTuple[0]; // 'b'\ntype First = TheTuple[1]; // 'c'\ntype Second = TheTuple[2]; // 'd'\ntype A = TheTuple[number]; // 'b'|'c'|'d'\n</code></pre>\n<p>Does that make sense?</p>\n"}], "owner": {"reputation": 91, "user_id": 4072405, "user_type": "registered", "profile_image": "https://graph.facebook.com/502119452/picture?type=large", "display_name": "fritz_da_silva", "link": "https://stackoverflow.com/users/4072405/fritz-da-silva"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 75, "favorite_count": 0, "accepted_answer_id": 46448445, "answer_count": 2, "score": 2, "last_activity_date": 1526657448, "creation_date": 1506506883, "last_edit_date": 1526657448, "question_id": 46445115, "link": "https://stackoverflow.com/questions/46445115/derive-a-type-a-from-a-list-of-strings-a", "title": "Derive a type A from a list of strings a", "body": "<p>Say I have a constant and immutable list of strings <code>a</code></p>\n\n<pre><code>const a = ['b', 'c', 'd']\n</code></pre>\n\n<p>and I want to create a type A that looks like this:</p>\n\n<pre><code>type A = 'b' | 'c' | 'd'\n</code></pre>\n\n<p>My question is: How do I create the type <code>A</code> from the list <code>a</code> automatically? </p>\n\n<p>The other way around would work for me as well: How to create the list <code>a</code> given the type <code>A</code></p>\n"}, {"tags": ["angular", "typescript", "autodesk-forge", "autodesk-viewer"], "answers": [{"comments": [{"owner": {"reputation": 1001, "user_id": 8603681, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ff19c8d594e1b39bfc6cbcf0e917322e?s=128&d=identicon&r=PG", "display_name": "sjoerd216", "link": "https://stackoverflow.com/users/8603681/sjoerd216"}, "edited": false, "score": 0, "creation_date": 1506580288, "post_id": 46450257, "comment_id": 79879512, "body": "Hi Jaime, we waited with upgrading our viewer because of a couple of event listeners that would break in newer versions. I already reported this issue to the Autodesk helpdesk with ticketnumber <code>#1520</code>, but regardless, I don&#39;t see any changes in later versions of the viewer that would help me in my problem. I am looking for a way to host the viewer source files on one of our own servers seperatly from our models. Is this possible in any way?"}, {"owner": {"reputation": 976, "user_id": 2871669, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/swNxo.jpg?s=128&g=1", "display_name": "Jaime Rosales", "link": "https://stackoverflow.com/users/2871669/jaime-rosales"}, "reply_to_user": {"reputation": 1001, "user_id": 8603681, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ff19c8d594e1b39bfc6cbcf0e917322e?s=128&d=identicon&r=PG", "display_name": "sjoerd216", "link": "https://stackoverflow.com/users/8603681/sjoerd216"}, "edited": false, "score": 0, "creation_date": 1506609196, "post_id": 46450257, "comment_id": 79898607, "body": "I edited my answer, let me know if that helps. Cheers"}, {"owner": {"reputation": 4120, "user_id": 4916074, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pIJHf.jpg?s=128&g=1", "display_name": "Philippe", "link": "https://stackoverflow.com/users/4916074/philippe"}, "edited": false, "score": 0, "creation_date": 1506672106, "post_id": 46450257, "comment_id": 79923069, "body": "If you want to self-host the viewer API, it&#39;s doable, however there are many more files than the 3 which are mentioned here (other files are being loaded on demand internally by the viewer as needed). You will need to grab all of them. For licensing reason, we are not allowed to provide a direct download link for the complete API. Just PM me - philippe.leefsma &#39;at&#39; autodesk.com - your email address and I will send you v 3.1.1 directly."}], "tags": [], "owner": {"reputation": 976, "user_id": 2871669, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/swNxo.jpg?s=128&g=1", "display_name": "Jaime Rosales", "link": "https://stackoverflow.com/users/2871669/jaime-rosales"}, "is_accepted": false, "score": 0, "last_activity_date": 1506609174, "last_edit_date": 1506609174, "creation_date": 1506521781, "answer_id": 46450257, "question_id": 46444939, "link": "https://stackoverflow.com/questions/46444939/autodesk-forge-host-dependencies-on-a-local-server/46450257#46450257", "title": "Autodesk Forge host dependencies on a local server", "body": "<p>The forge Viewer is up to Version 3.1.1 I will suggest to use the latest version, quite a lot of things have changed since Version 2.13 and more from 2.10. </p>\n\n<p>Make sure you always check the Changelogs in the Viewer Developer page\n<a href=\"https://developer.autodesk.com/en/docs/viewer/v2/overview/changelog/\" rel=\"nofollow noreferrer\">https://developer.autodesk.com/en/docs/viewer/v2/overview/changelog/</a></p>\n\n<p>Check the following posts so you can learn what changed. </p>\n\n<ul>\n<li><p><a href=\"https://forge.autodesk.com/blog/viewer-release-notes-v215\" rel=\"nofollow noreferrer\">https://forge.autodesk.com/blog/viewer-release-notes-v215</a></p></li>\n<li><p><a href=\"https://forge.autodesk.com/blog/viewer-release-notes-v216\" rel=\"nofollow noreferrer\">https://forge.autodesk.com/blog/viewer-release-notes-v216</a>   </p></li>\n<li><p><a href=\"https://forge.autodesk.com/blog/viewer-release-notes-v217\" rel=\"nofollow noreferrer\">https://forge.autodesk.com/blog/viewer-release-notes-v217</a>   </p></li>\n<li><p><a href=\"https://forge.autodesk.com/blog/viewer-release-notes-v311\" rel=\"nofollow noreferrer\">https://forge.autodesk.com/blog/viewer-release-notes-v311</a></p></li>\n</ul>\n\n<p>Another way I can think of, would be to copy the entire JS and also the css files to your server hosted local files, that will reference from your project. </p>\n\n<p>Go to these links, copy the entire source and name it something meaningful and related to the API so you know in the future what are they. </p>\n\n<p>CSS </p>\n\n<p><a href=\"https://developer.api.autodesk.com/viewingservice/v1/viewers/style.css?v=2.13\" rel=\"nofollow noreferrer\">https://developer.api.autodesk.com/viewingservice/v1/viewers/style.css?v=2.13</a></p>\n\n<p>JS</p>\n\n<p><a href=\"https://developer.api.autodesk.com/viewingservice/v1/viewers/three.js?v=2.13\" rel=\"nofollow noreferrer\">https://developer.api.autodesk.com/viewingservice/v1/viewers/three.js?v=2.13</a> \n<a href=\"https://developer.api.autodesk.com/viewingservice/v1/viewers/viewer3D.js?v=2.13\" rel=\"nofollow noreferrer\">https://developer.api.autodesk.com/viewingservice/v1/viewers/viewer3D.js?v=2.13</a></p>\n\n<p>You can always get the minified js if you add \"min\" before the .js \nKeep in mind, these will not get updated, you will have to do the manual work when you decide to make the update.</p>\n"}], "owner": {"reputation": 1001, "user_id": 8603681, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ff19c8d594e1b39bfc6cbcf0e917322e?s=128&d=identicon&r=PG", "display_name": "sjoerd216", "link": "https://stackoverflow.com/users/8603681/sjoerd216"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 375, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1506609174, "creation_date": 1506506376, "question_id": 46444939, "link": "https://stackoverflow.com/questions/46444939/autodesk-forge-host-dependencies-on-a-local-server", "title": "Autodesk Forge host dependencies on a local server", "body": "<p>I have an angular/ typescript implementation of the forge viewer which is currently loading a couple of dependencies from the Autodesk server. But to guarantee to our customers that these files are always online, I would like to host these files on one of our company\u2019s servers. I downloaded a package from the Autodesk Forge Extractor tool and tried to host this on a local server, but unfortunately this seems to function on version <code>2.10</code> rather than <code>2.13</code> which is breaking some of our functionality. </p>\n\n<p>In addition to that, it looks like every extracted package comes with the models and textures included, but since we load our models from our company\u2019s server we would like to host a package that only contains the files listed below. We aren\u2019t able to use the Autodesk extract tool for all our models to create packages.</p>\n\n<p>Is there a way to reliably host the below dependencies without having to store the whole model or without having to make references to the exact model?</p>\n\n<pre><code>&lt;link rel=\"stylesheet\" type=\"text/css\" href=\"https://developer.api.autodesk.com/viewingservice/v1/viewers/style.css\" /&gt;\n&lt;script src=\"https://developer.api.autodesk.com/viewingservice/v1/viewers/three.min.js?v=2.13.*\"&gt;&lt;/script&gt;\n&lt;script src=\"https://developer.api.autodesk.com/viewingservice/v1/viewers/viewer3D.min.js?v=2.13.*\"&gt;&lt;/script&gt;\n</code></pre>\n"}, {"tags": ["angular", "typescript"], "answers": [{"tags": [], "owner": {"reputation": 204677, "user_id": 75525, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/IYU63.png?s=128&g=1", "display_name": "Fenton", "link": "https://stackoverflow.com/users/75525/fenton"}, "is_accepted": true, "score": 0, "last_activity_date": 1506549827, "creation_date": 1506549827, "answer_id": 46457920, "question_id": 46444846, "link": "https://stackoverflow.com/questions/46444846/cant-convert-response-to-valid-typescript-value-for-strore/46457920#46457920", "title": "Can&#39;t convert response to valid typescript value for strore", "body": "<p>The type in your response doesn't match the enum, as it is a string. You can represent it as below though:</p>\n\n<pre><code>type ProductType = 'current' | 'closed' | 'coming';\n\ninterface Company {\n    registeredOfficeSuburb: string;\n}\n\ninterface ProductDate {\n    timestamp: number;\n    days: number;\n    hours: string;\n}\n\ninterface Product {\n    id: number;\n    disclaimer: string;\n    company: Company;\n    date: ProductDate;\n}\n\ninterface ProductResponse {\n    success: boolean;\n    type_prudct: ProductType,\n    products:Product[]\n}\n\nvar r: ProductResponse = {\n    \"success\": true,\n    \"type_prudct\": \"current\",\n    \"products\": [\n        {\n            \"id\": 34,\n            \"disclaimer\": \"text\",\n            \"company\": { \"registeredOfficeSuburb\": \"West Perth\" },\n            \"date\": { \"timestamp\": 1567987198, \"days\": 710, \"hours\": \"14\" }\n        }]\n};\n</code></pre>\n"}], "owner": {"reputation": 45, "user_id": 6209391, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/af7a6272f524d6fd70016a2bdac24da2?s=128&d=identicon&r=PG&f=1", "display_name": "Andry", "link": "https://stackoverflow.com/users/6209391/andry"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 34, "favorite_count": 0, "accepted_answer_id": 46457920, "answer_count": 1, "score": 0, "last_activity_date": 1506549827, "creation_date": 1506506119, "last_edit_date": 1506508299, "question_id": 46444846, "link": "https://stackoverflow.com/questions/46444846/cant-convert-response-to-valid-typescript-value-for-strore", "title": "Can&#39;t convert response to valid typescript value for strore", "body": "<p>I described these interfaces:</p>\n\n<pre><code>enum ProductType {current, closed, coming}\n\nexport interface CurrentProductForCarousel {\n type_product:ProductType.current;\n offers: ProductMainInfo[]\n}\n\nexport interface ProductMainInfo {\n  id: number;\n  disclaimer: string;\n  company?: {\n    registeredOfficeState?: string;\n  };\n  date: {\n    timestamp: number;\n    days: number;\n    hours: number;\n  };\n}\n</code></pre>\n\n<p>I have ngrx-store. My reducer looks like</p>\n\n<pre><code>export interface State {\n currentProductForCarousel: CurrentProductForCarousel | null;\n}\n\nexport const initialState: State = {\n \u0441urrentProductForCarousel: null,\n};\n\nexport function reducer(state = initialState, action: \npruduct.Actions): State {\n switch (action.type) {\n  case pruductActions.FETCH_PRODUCTS_CURRENT_SUCCESS: {\n    return {\n      ...state,\n    currentProductsForCarousel: action.payload,\n    };\n  }\n</code></pre>\n\n<p>Example of response</p>\n\n<pre><code>{\"success\":true, \"type_prudct\":\"current\",\"products\":[{\"id\":34, \"disclaimer\": \"text\", \"company\":{\"registeredOfficeSuburb\":\"West Perth\"}, \"date\":{\"timestamp\":1567987198,\"days\":710,\"hours\":\"14\"}}]}\n</code></pre>\n\n<p>Question is how i can set response data with correct type of my interface to store and than get data from store?</p>\n"}, {"tags": ["angular", "typescript", "ionic3"], "comments": [{"owner": {"reputation": 23496, "user_id": 5468463, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/8eafc92b719d65512cded4c5087892ff?s=128&d=identicon&r=PG&f=1", "display_name": "Vega", "link": "https://stackoverflow.com/users/5468463/vega"}, "edited": false, "score": 1, "creation_date": 1506506466, "post_id": 46444835, "comment_id": 79845594, "body": "You don&#39;t need the *ngIf, remove it, or try searchResults?.details or *ngIf=&quot;searchResults&quot;"}], "answers": [{"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user5405873"}, "edited": false, "score": 0, "creation_date": 1506508236, "post_id": 46444976, "comment_id": 79846773, "body": "ya  use this one <a href=\"https://stackblitz.com/edit/ionic-dsdjvp?file=pages%2Fhome%2Fhome.ts\" rel=\"nofollow noreferrer\">stackblitz.com/edit/ionic-dsdjvp?file=pages%2Fhome%2Fhome.ts</a>"}, {"owner": {"reputation": 50111, "user_id": 1077309, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/yghA4.jpg?s=128&g=1", "display_name": "Sampath", "link": "https://stackoverflow.com/users/1077309/sampath"}, "edited": false, "score": 0, "creation_date": 1506508701, "post_id": 46444976, "comment_id": 79847045, "body": "You need to format your data as a nested <code>JSON</code> array.Then only you can consume it. i.e. <code>myObj = {     &quot;name&quot;:&quot;John&quot;,     &quot;age&quot;:30,     &quot;cars&quot;: [         { &quot;name&quot;:&quot;Ford&quot;, &quot;models&quot;:[ &quot;Fiesta&quot;, &quot;Focus&quot;, &quot;Mustang&quot; ] },         { &quot;name&quot;:&quot;BMW&quot;, &quot;models&quot;:[ &quot;320&quot;, &quot;X3&quot;, &quot;X5&quot; ] },         { &quot;name&quot;:&quot;Fiat&quot;, &quot;models&quot;:[ &quot;500&quot;, &quot;Panda&quot; ] }     ]  }</code>"}, {"owner": {"reputation": 50111, "user_id": 1077309, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/yghA4.jpg?s=128&g=1", "display_name": "Sampath", "link": "https://stackoverflow.com/users/1077309/sampath"}, "edited": false, "score": 0, "creation_date": 1506509286, "post_id": 46444976, "comment_id": 79847423, "body": "Glad to hear that it helped :)"}], "tags": [], "owner": {"reputation": 50111, "user_id": 1077309, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/yghA4.jpg?s=128&g=1", "display_name": "Sampath", "link": "https://stackoverflow.com/users/1077309/sampath"}, "is_accepted": true, "score": 0, "last_activity_date": 1506507099, "last_edit_date": 1506507099, "creation_date": 1506506480, "answer_id": 46444976, "question_id": 46444835, "link": "https://stackoverflow.com/questions/46444835/why-im-unable-to-loop-through-my-object-of-array/46444976#46444976", "title": "why i&#39;m unable to loop through my object of array", "body": "<p>You did it wrong here <code>searchResults.length &gt; 0</code>. You need to use like this <code>searchResults?.details?.length &gt; 0</code> </p>\n\n<p>Here is the working <a href=\"https://stackblitz.com/edit/ionic-cc2sxq?file=pages/home/home.html\" rel=\"nofollow noreferrer\"><strong>stackblitz</strong></a></p>\n\n<pre><code>  &lt;div *ngIf=\"searchResults?.details?.length &gt; 0\"&gt;\n     &lt;ion-item *ngFor=\"let searchResult of searchResults?.details\"&gt;         \n        &lt;ion-avatar item-start&gt;\n          &lt;!--&lt;img src=\"img/Rabbit-Cage.jpg\"&gt;  --&gt;  \n        &lt;/ion-avatar&gt;\n        &lt;h2&gt;searchResult.user_id&lt;/h2&gt;\n        &lt;h3&gt;searchResult.email&lt;/h3&gt;\n        &lt;p&gt;searchResult.token&lt;/p&gt;         \n      &lt;/ion-item&gt;     \n&lt;/div&gt;\n</code></pre>\n\n<p><strong>OR</strong></p>\n\n<p>Without <code>*ngIf</code></p>\n\n<pre><code> &lt;div&gt;\n         &lt;ion-item *ngFor=\"let searchResult of searchResults?.details\"&gt;         \n            &lt;ion-avatar item-start&gt;\n              &lt;!--&lt;img src=\"img/Rabbit-Cage.jpg\"&gt;  --&gt;  \n            &lt;/ion-avatar&gt;\n            &lt;h2&gt;searchResult.user_id&lt;/h2&gt;\n            &lt;h3&gt;searchResult.email&lt;/h3&gt;\n            &lt;p&gt;searchResult.token&lt;/p&gt;         \n          &lt;/ion-item&gt;     \n    &lt;/div&gt;\n</code></pre>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user5405873"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 48, "favorite_count": 1, "accepted_answer_id": 46444976, "answer_count": 1, "score": 1, "last_activity_date": 1506507099, "creation_date": 1506506097, "last_edit_date": 1506506494, "question_id": 46444835, "link": "https://stackoverflow.com/questions/46444835/why-im-unable-to-loop-through-my-object-of-array", "title": "why i&#39;m unable to loop through my object of array", "body": "<p>i'm trying to display all the data inside <code>object</code> of <code>array</code>.</p>\n\n<p>but i'm unable to display any of them, why?</p>\n\n<p>here is what i have tried</p>\n\n<p>demo here :<a href=\"https://stackblitz.com/edit/ionic-dsdjvp?file=pages%2Fhome%2Fhome.ts\" rel=\"nofollow noreferrer\">https://stackblitz.com/edit/ionic-dsdjvp?file=pages%2Fhome%2Fhome.ts</a></p>\n\n<p><strong>home.html</strong></p>\n\n<pre><code>  &lt;div *ngIf=\"searchResults.length &gt; 0\"&gt;\n     &lt;ion-item *ngFor=\"let searchResult of searchResults.details\"&gt;          \n        &lt;ion-avatar item-start&gt;\n          &lt;!--&lt;img src=\"img/Rabbit-Cage.jpg\"&gt;  --&gt;  \n        &lt;/ion-avatar&gt;\n        &lt;h2&gt;searchResult.user_id&lt;/h2&gt;\n        &lt;h3&gt;searchResult.email&lt;/h3&gt;\n        &lt;p&gt;searchResult.token&lt;/p&gt;         \n      &lt;/ion-item&gt;     \n&lt;/div&gt;\n</code></pre>\n\n<p><strong>home.ts</strong></p>\n\n<pre><code>export class HomePage {\n\n  searchResults = [{\n    \"details\": [{\n        \"user_id\": \"73\",\n        \"email\": \"ejazanwar777@gmail.com\",\n        \"token\": \"217808036f0215fee13aee8925574899\"\n    }, {\n        \"user_id\": \"94\",\n        \"email\": \"ejazanwar7dds77@gmail.com\",\n        \"token\": \"f4e9a701f9dae581ecbc2abf1470f88f\"\n    },  {\n        \"user_id\": \"98\",\n        \"email\": \"ejazanwar777dsggds@gmail.com\",\n        \"token\": \"3481a3c17a752ef136a4eadeaa0813f4\"\n    }, {\n        \"user_id\": \"99\",\n        \"email\": \"ejazanwar777@gmail.comsaasas\",\n        \"token\": \"6bd7941c8b501f798c8854047a395bdf\"\n    }, {\n        \"user_id\": \"100\",\n        \"email\": \"ejazanwar777jgfjgfjfg@gmail.com\",\n        \"token\": \"127934324e39ad681826322632f91259\"\n    }, {\n        \"user_id\": \"107\",\n        \"email\": \"ejazanwar77adsfdasf7@gmail.com\",\n        \"token\": \"1a6c860fc6d6a2875f4de371dee22b22\"\n    }, {\n        \"user_id\": \"108\",\n        \"email\": \"ejazanwar777@gmail.comdddd\",\n        \"token\": \"684aae9542ddc76f1f78c4360afe8846\"\n    }, {\n        \"user_id\": \"109\",\n        \"email\": \"jhddfhfdfdhdhfjhj@gmail.com\",\n        \"token\": \"069fe4f0ec2210c1e8eb9400486f1718\"\n    }, {\n        \"user_id\": \"110\",\n        \"email\": \"ejazanwar777@gmail.comssdssdd\",\n        \"token\": \"a10f3620d18466a0d5780749401052ad\"\n    }]\n}];\n\n  constructor(public navCtrl: NavController) {\n\n  }\n\n}\n</code></pre>\n\n<p><strong>here is my demo</strong>  <a href=\"https://stackblitz.com/edit/ionic-dsdjvp?file=pages%2Fhome%2Fhome.ts\" rel=\"nofollow noreferrer\">https://stackblitz.com/edit/ionic-dsdjvp?file=pages%2Fhome%2Fhome.ts</a></p>\n\n<p>please help me thanks in advance !!!</p>\n"}, {"tags": ["node.js", "typescript", "asynchronous", "async-await", "sequelize.js"], "answers": [{"comments": [{"owner": {"reputation": 39159, "user_id": 1541563, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/U4EOh.png?s=128&g=1", "display_name": "Patrick Roberts", "link": "https://stackoverflow.com/users/1541563/patrick-roberts"}, "edited": false, "score": 0, "creation_date": 1506507464, "post_id": 46445003, "comment_id": 79846254, "body": "<i>As for now, you can only call await inside an async function</i> As per the specification, that will <b>always</b> be the case, just saying."}, {"owner": {"reputation": 2702, "user_id": 2923336, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LmjCO.png?s=128&g=1", "display_name": "Francois", "link": "https://stackoverflow.com/users/2923336/francois"}, "reply_to_user": {"reputation": 39159, "user_id": 1541563, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/U4EOh.png?s=128&g=1", "display_name": "Patrick Roberts", "link": "https://stackoverflow.com/users/1541563/patrick-roberts"}, "edited": false, "score": 0, "creation_date": 1506507553, "post_id": 46445003, "comment_id": 79846327, "body": "I find that sad, although I didn&#39;t check the implementation itself in v8. Thanks for the tip, I will update my answer"}, {"owner": {"reputation": 39159, "user_id": 1541563, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/U4EOh.png?s=128&g=1", "display_name": "Patrick Roberts", "link": "https://stackoverflow.com/users/1541563/patrick-roberts"}, "edited": false, "score": 2, "creation_date": 1506508808, "post_id": 46445003, "comment_id": 79847102, "body": "By the way, in your first example, the <code>Promise.resolve(...)</code> is redundant. All you have to do is <code>return true</code> and the <code>async</code> function will implicitly coerce it into a resolved promise."}, {"owner": {"reputation": 2702, "user_id": 2923336, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LmjCO.png?s=128&g=1", "display_name": "Francois", "link": "https://stackoverflow.com/users/2923336/francois"}, "reply_to_user": {"reputation": 39159, "user_id": 1541563, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/U4EOh.png?s=128&g=1", "display_name": "Patrick Roberts", "link": "https://stackoverflow.com/users/1541563/patrick-roberts"}, "edited": false, "score": 0, "creation_date": 1506508877, "post_id": 46445003, "comment_id": 79847148, "body": "I dind&#39;t know that, so explicitely return a Promise only needs to be done when having a callback style async call ?"}, {"owner": {"reputation": 39159, "user_id": 1541563, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/U4EOh.png?s=128&g=1", "display_name": "Patrick Roberts", "link": "https://stackoverflow.com/users/1541563/patrick-roberts"}, "edited": false, "score": 0, "creation_date": 1506509020, "post_id": 46445003, "comment_id": 79847241, "body": "Yes, or in node.js you have the option of using <code>util.promisify()</code> to convert callback-style functions into promise-style functions. See my answer for usage."}, {"owner": {"reputation": 39159, "user_id": 1541563, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/U4EOh.png?s=128&g=1", "display_name": "Patrick Roberts", "link": "https://stackoverflow.com/users/1541563/patrick-roberts"}, "edited": false, "score": 2, "creation_date": 1506509147, "post_id": 46445003, "comment_id": 79847337, "body": "Now your <code>new Promise()</code> is no longer redundant, but I personally prefer writing it like this <code>setTimeout(resolve, 100, true);</code> Just food for thought~"}], "tags": [], "owner": {"reputation": 2702, "user_id": 2923336, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LmjCO.png?s=128&g=1", "display_name": "Francois", "link": "https://stackoverflow.com/users/2923336/francois"}, "is_accepted": true, "score": 9, "last_activity_date": 1521472485, "last_edit_date": 1521472485, "creation_date": 1506506578, "answer_id": 46445003, "question_id": 46444745, "link": "https://stackoverflow.com/questions/46444745/typescript-async-await-not-working/46445003#46445003", "title": "Typescript async/await not working", "body": "<p>In order for async/await to work, an async function has to return a <code>Promise</code>. Also, you must call an <code>async</code> with the await keyword this way:</p>\n\n<p><strong><em>You can only call await inside an async function, so I wrapped it in an async func</em></strong> </p>\n\n<pre><code>const someFunc = async function() {\n    return new Promise((resolve, reject) =&gt; { \n        setTimeout(resolve, 100, true);\n    });\n};\n\n(async () =&gt; {\n     const result = await someFunc(); // true\n})();\n</code></pre>\n\n<p>You are not satisfying any of these rules in your <code>compareHashPassword</code> declaration and the way you call it. </p>\n\n<p>This is how I would rewrite your code :</p>\n\n<pre><code>export async function compareHashPassword(pw:string, originalPw:string) {\n    return new Promise((resolve, reject) =&gt; {\n        bcrypt.compare(originalPw, pw, function(err, isMatch) {\n            if(err) {\n                reject(err);\n            }\n            console.log(isMatch);\n            resolve(isMatch);\n        });\n    });\n}\n\n// and call it this way\n(async () =&gt; {\n     const compared = await compareHashPassword(pw, originPw);\n})()\n</code></pre>\n\n<p>Have a look at this async await blog post:\n<a href=\"https://ponyfoo.com/articles/understanding-javascript-async-await\" rel=\"noreferrer\">https://ponyfoo.com/articles/understanding-javascript-async-await</a></p>\n\n<p>And this blog post for Promises:\n<a href=\"https://developers.google.com/web/fundamentals/primers/promises\" rel=\"noreferrer\">https://developers.google.com/web/fundamentals/primers/promises</a></p>\n\n<p>Also as @Patrick Roberts mentioned, you can use <code>util.promisify</code> to turn an async callback style function into a Promise, this is <code>node 8.xx</code> otherwise you can use <code>bluebird</code> package which has a similar functionality. </p>\n\n<p>Hope this helps</p>\n"}, {"comments": [{"owner": {"reputation": 189, "user_id": 8018498, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/56cc1adfc4e250679bdc3f42ebfc5803?s=128&d=identicon&r=PG&f=1", "display_name": "kola", "link": "https://stackoverflow.com/users/8018498/kola"}, "edited": false, "score": 0, "creation_date": 1506568958, "post_id": 46445651, "comment_id": 79875913, "body": "wow, that&#39;s really helpful utility from node. Thanks for all your answer. Both of your solution worked and help me understand how async works. cheers."}], "tags": [], "owner": {"reputation": 39159, "user_id": 1541563, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/U4EOh.png?s=128&g=1", "display_name": "Patrick Roberts", "link": "https://stackoverflow.com/users/1541563/patrick-roberts"}, "is_accepted": false, "score": 4, "last_activity_date": 1506508468, "creation_date": 1506508468, "answer_id": 46445651, "question_id": 46444745, "link": "https://stackoverflow.com/questions/46444745/typescript-async-await-not-working/46445651#46445651", "title": "Typescript async/await not working", "body": "<p>Since you're targeting ES2017, let's clean up your code, starting with the simpler <code>helper.ts</code>:</p>\n\n<pre><code>import { promisify } from 'util' // you'll thank me later\n\nconst compare = promisify(bcrypt.compare)\n\nexport async function compareHashPassword(pw:string, originalPw:string) {\n    console.log(pw);\n    console.log(originalPw);\n    return compare(originalPw, pw);\n}\n</code></pre>\n\n<p>Now for the <code>route.ts</code>:</p>\n\n<pre><code>handler: async (request, reply) =&gt; {\n  let { username, password } = request.payload;\n\n  try {\n    const [user] = await User.findAll({\n      where: {\n        username: username\n      }\n    })\n\n    if(!user) {\n      reply({\n        error: true,\n        errMessage: 'The specified user was not found'\n      });\n\n      return;\n    }\n\n    let match = await compareHashPassword(user.password, password);\n\n    console.log(match);\n\n    if (match) {\n      const token = jwt.sign({\n        username,\n        scope: User.id\n      }, 'iJiYpmaVwXMp8PpzPkWqc9ShQ5UhyEfy', {\n        algorithm: 'HS256',\n        expiresIn: '1h'\n      });\n\n      reply({\n        token,\n        scope: user.id\n      });\n    } else {\n      reply('incorrect password');\n    }\n  } catch (error) {\n    reply('server-side error')\n  }\n}\n</code></pre>\n\n<p>Hopefully I've matched what you're attempting to accomplish, based on the code you've provided. If there's an issue somewhere with this updated code, please let me know in the comments.</p>\n"}], "owner": {"reputation": 189, "user_id": 8018498, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/56cc1adfc4e250679bdc3f42ebfc5803?s=128&d=identicon&r=PG&f=1", "display_name": "kola", "link": "https://stackoverflow.com/users/8018498/kola"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 10069, "favorite_count": 2, "accepted_answer_id": 46445003, "answer_count": 2, "score": 5, "last_activity_date": 1530143724, "creation_date": 1506505842, "question_id": 46444745, "link": "https://stackoverflow.com/questions/46444745/typescript-async-await-not-working", "title": "Typescript async/await not working", "body": "<p>I've a problem about async/await on typescript with target es2017. Below is my code :</p>\n\n<p>my route.ts :</p>\n\n<pre><code>method: 'POST',\n        config: {            \n            auth: {\n                strategy: 'token',        \n            }\n        },\n        path: '/users',\n        handler: (request, reply) {\n\n    let { username, password } = request.payload;\n\n    const getOperation = User\n    .findAll({\n        where: {\n            username: username\n        }\n    })\n    .then(([User]) =&gt; {\n        if(!User) {\n            reply({\n                error: true,\n                errMessage: 'The specified user was not found'\n            });\n            return;\n        }\n\n        let comparedPassword = compareHashPassword(User.password, password);\n        console.log(comparedPassword);\n\n        if(comparedPassword) {\n            const token = jwt.sign({\n                username,\n                scope: User.id\n\n            }, 'iJiYpmaVwXMp8PpzPkWqc9ShQ5UhyEfy', {\n                algorithm: 'HS256',\n                expiresIn: '1h'\n            });\n\n            reply({\n                token,\n                scope: User.id\n            });\n        } else {\n            reply('incorrect password');\n        }\n    } )\n    .catch(error =&gt; { reply('server-side error') });\n\n};\n</code></pre>\n\n<p>my helper.ts :</p>\n\n<pre><code>export async function compareHashPassword(pw:string, originalPw:string) {\n    console.log(pw);\n    console.log(originalPw);\n    let compared = bcrypt.compare(originalPw, pw, function(err, isMatch) {\n        if(err) {\n                return console.error(err);\n        }\n        console.log(isMatch);\n        return isMatch;\n        });\n\n    return await compared;\n}\n</code></pre>\n\n<p>this auth route supposed to return JWT token when user login. but the problem here is even when I enter the valid password to sign-in the function compareHashPassword always return undefined.</p>\n\n<p>For example when i call the api with json string </p>\n\n<pre><code>{\n  \"username\": \"x\",\n  \"password\": \"helloword\"\n}\n</code></pre>\n\n<p>When i track using console.log(), the log is : </p>\n\n<pre><code>$2a$10$Y9wkjblablabla -&gt; hashed password stored in db\nhelloword \nPromise {\n  &lt;pending&gt;,\n  domain: \n   Domain {\n     domain: null,\n     _events: { error: [Function: bound ] },\n     _eventsCount: 1,\n     _maxListeners: undefined,\n     members: [] } }\ntrue\n</code></pre>\n\n<p>maybe this is just my lack of understanding about using async/await with typescript. for note my env is :</p>\n\n<pre><code>node : v8.6.0\ntypescript : v2.5.2\nts-node : v3.3.0\nmy tsconfig.json //\n{\n    \"compilerOptions\": {\n        \"outDir\": \"dist\",\n        \"target\": \"es2017\",\n        \"module\": \"commonjs\",\n        \"removeComments\": true,\n        \"types\": [\n            \"node\"\n        ],\n        \"allowJs\": true,\n        \"moduleResolution\": \"classic\"\n    },\n    \"exclude\": [\n        \"node_modules\"\n    ]\n}\n</code></pre>\n"}, {"tags": ["javascript", "angular", "typescript", "routing", "routes"], "comments": [{"owner": {"reputation": 9159, "user_id": 1919228, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/b942d91f7affb127a69d54c71dd26580?s=128&d=identicon&r=PG", "display_name": "Pablo Lozano", "link": "https://stackoverflow.com/users/1919228/pablo-lozano"}, "edited": false, "score": 0, "creation_date": 1506508037, "post_id": 46444203, "comment_id": 79846642, "body": "Can you add the routerLink parameter in your template?"}, {"owner": {"reputation": 78, "user_id": 8681708, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ee400cd693442b56f028029c22d106ab?s=128&d=identicon&r=PG&f=1", "display_name": "lemon", "link": "https://stackoverflow.com/users/8681708/lemon"}, "reply_to_user": {"reputation": 9159, "user_id": 1919228, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/b942d91f7affb127a69d54c71dd26580?s=128&d=identicon&r=PG", "display_name": "Pablo Lozano", "link": "https://stackoverflow.com/users/1919228/pablo-lozano"}, "edited": false, "score": 0, "creation_date": 1506510877, "post_id": 46444203, "comment_id": 79848531, "body": "Added routerLink I use in a template."}, {"owner": {"reputation": 78, "user_id": 8681708, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ee400cd693442b56f028029c22d106ab?s=128&d=identicon&r=PG&f=1", "display_name": "lemon", "link": "https://stackoverflow.com/users/8681708/lemon"}, "reply_to_user": {"reputation": 9159, "user_id": 1919228, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/b942d91f7affb127a69d54c71dd26580?s=128&d=identicon&r=PG", "display_name": "Pablo Lozano", "link": "https://stackoverflow.com/users/1919228/pablo-lozano"}, "edited": false, "score": 0, "creation_date": 1506513640, "post_id": 46444203, "comment_id": 79850274, "body": "Added component snippet."}, {"owner": {"reputation": 498, "user_id": 5135397, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/a089d4a9001445244d4c2f6e9855ac42?s=128&d=identicon&r=PG&f=1", "display_name": "raphael_mav", "link": "https://stackoverflow.com/users/5135397/raphael-mav"}, "edited": false, "score": 0, "creation_date": 1593168609, "post_id": 46444203, "comment_id": 110691874, "body": "How did you solve the problem with <code>{path: &#39;WF001A:operationIds[]&#39;, component: WF001AComponent}</code> this kind of syntax?"}], "answers": [{"comments": [{"owner": {"reputation": 78, "user_id": 8681708, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ee400cd693442b56f028029c22d106ab?s=128&d=identicon&r=PG&f=1", "display_name": "lemon", "link": "https://stackoverflow.com/users/8681708/lemon"}, "edited": false, "score": 1, "creation_date": 1506510418, "post_id": 46445494, "comment_id": 79848214, "body": "I think this does not solve the problem. I get this error in console: <code>Error: Cannot match any routes. URL Segment: &#39;WF001A;operationIds=146469,146470&#39;</code>, which implies that route is not prepared for array."}, {"owner": {"reputation": 78, "user_id": 8681708, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ee400cd693442b56f028029c22d106ab?s=128&d=identicon&r=PG&f=1", "display_name": "lemon", "link": "https://stackoverflow.com/users/8681708/lemon"}, "edited": false, "score": 0, "creation_date": 1506513754, "post_id": 46445494, "comment_id": 79850350, "body": "I tried to use your example, but unfortunately it is never executed, because Angular actually does not know any route that matches <code>WF001A;operationIds=146469,146470</code> or <code>WF001A&#47;operationIds=146469,146470</code>. However, you were right about the processing part and after sending parameters like this: <code>WF001A&#47;146469,146470</code>, I have been able to get those data."}, {"owner": {"reputation": 78, "user_id": 8681708, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ee400cd693442b56f028029c22d106ab?s=128&d=identicon&r=PG&f=1", "display_name": "lemon", "link": "https://stackoverflow.com/users/8681708/lemon"}, "edited": false, "score": 1, "creation_date": 1506514206, "post_id": 46445494, "comment_id": 79850650, "body": "Not sure how to resolve this question, as this was partially fault of the way of serializing those parameters, but I think you actually deserve your answer to be accepted as it kicked me the right way :)"}], "tags": [], "owner": {"reputation": 9159, "user_id": 1919228, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/b942d91f7affb127a69d54c71dd26580?s=128&d=identicon&r=PG", "display_name": "Pablo Lozano", "link": "https://stackoverflow.com/users/1919228/pablo-lozano"}, "is_accepted": true, "score": -1, "last_activity_date": 1506511626, "last_edit_date": 1506511626, "creation_date": 1506507918, "answer_id": 46445494, "question_id": 46444203, "link": "https://stackoverflow.com/questions/46444203/route-with-array-parameter-in-angular-4/46445494#46445494", "title": "Route with array parameter in Angular 4", "body": "<p>I assume you have the ActivatedRoute object in your component, something like:</p>\n\n<pre><code>constructor(\n    ...,\n    private route: ActivatedRoute) { }\n</code></pre>\n\n<p><strike>And I assume that WF001A is the parameter name,</strike> so you can do something like:</p>\n\n<pre><code>this.route.paramMap.subscribe(params =&gt; {\n  let i=0;\n  let myArray=params.getAll('operationIds');\n}\n</code></pre>\n\n<p>You can find more information about the optional parameters in the <a href=\"https://angular.io/guide/router#optional-route-parameters\" rel=\"nofollow noreferrer\">official documentation</a></p>\n"}], "owner": {"reputation": 78, "user_id": 8681708, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ee400cd693442b56f028029c22d106ab?s=128&d=identicon&r=PG&f=1", "display_name": "lemon", "link": "https://stackoverflow.com/users/8681708/lemon"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 5257, "favorite_count": 1, "accepted_answer_id": 46445494, "answer_count": 1, "score": 2, "last_activity_date": 1506513581, "creation_date": 1506504403, "last_edit_date": 1506513581, "question_id": 46444203, "link": "https://stackoverflow.com/questions/46444203/route-with-array-parameter-in-angular-4", "title": "Route with array parameter in Angular 4", "body": "<p>I'm currently trying to solve problem with routing in Angular 4. I want the URL to contain array of parameters, so it looks like this: <code>/#/WF001A;operationIds=146469,146470</code>. This URL was generated by Angular using [routerLink]. Parameters needs to be accessible from component (that shouldn't be a problem, I guess).</p>\n\n<p>The problem is - I don't know how to create a route for it. What I tried:</p>\n\n<ul>\n<li><code>{path: 'WF001A/:operationIds', component: WF001AComponent}</code></li>\n<li><code>{path: 'WF001A/:operationIds[]', component: WF001AComponent}</code></li>\n<li><code>{path: 'WF001A:operationIds[]', component: WF001AComponent}</code></li>\n<li><code>{path: 'WF001A;:operationIds[]', component: WF001AComponent}</code></li>\n</ul>\n\n<p><strong>Edit:</strong>\nThis is how the link is generated:</p>\n\n<p><code>&lt;a href=\"#\" [routerLink]=\"['/WF001A', {operationIds:[146469, 146470]}]\"&gt;test&lt;/a&gt;</code></p>\n\n<p><strong>Edit 2:</strong>\nComponent class:</p>\n\n<pre><code>export class WF001AComponent implements OnInit {\n    public title = 'WF001A';\n\n    public constructor (private WF001AService: WF001AService, private route: ActivatedRoute) {}\n\n    public ngOnInit(): void {\n        this.route.paramMap.subscribe(params =&gt; {\n            // This is never executed, for route is not recognized\n            let myArray=params.getAll('operationIds');\n            console.log(myArray);\n        });\n    }\n}\n</code></pre>\n"}, {"tags": ["typescript"], "comments": [{"owner": {"reputation": 3397, "user_id": 1071020, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/762dd617fdb2898928ca0f32af242aca?s=128&d=identicon&r=PG", "display_name": "zgue", "link": "https://stackoverflow.com/users/1071020/zgue"}, "edited": false, "score": 0, "creation_date": 1506504781, "post_id": 46444067, "comment_id": 79844434, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/19707443/requestanimationframe-scope-change-to-window\">requestAnimationFrame scope change to window</a>"}], "answers": [{"comments": [{"owner": {"reputation": 21, "user_id": 8681715, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9daf71773c16777c0c450c9f205b4c72?s=128&d=identicon&r=PG&f=1", "display_name": "Vitax", "link": "https://stackoverflow.com/users/8681715/vitax"}, "edited": false, "score": 0, "creation_date": 1506505503, "post_id": 46444202, "comment_id": 79844940, "body": "Thanks makes sense once you see it :)"}, {"owner": {"reputation": 18854, "user_id": 1083572, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/9xSFI.png?s=128&g=1", "display_name": "Kokodoko", "link": "https://stackoverflow.com/users/1083572/kokodoko"}, "edited": false, "score": 0, "creation_date": 1506507036, "post_id": 46444202, "comment_id": 79845990, "body": "By the way, you can just put the init() and requestanimationframe calls in the constructor of Engine!"}], "tags": [], "owner": {"reputation": 8973, "user_id": 6382928, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4tzxR.jpg?s=128&g=1", "display_name": "Frank Modica", "link": "https://stackoverflow.com/users/6382928/frank-modica"}, "is_accepted": true, "score": 1, "last_activity_date": 1506504402, "creation_date": 1506504402, "answer_id": 46444202, "question_id": 46444067, "link": "https://stackoverflow.com/questions/46444067/this-of-class-becomes-undefined-when-calling-engine-run-in-window-onload/46444202#46444202", "title": "this of Class becomes undefined when calling engine.run() in window.onload", "body": "<p>The <code>run</code> function is being passed to <code>requestAnimationFrame</code> and isn't being invoked as a method of an object. It is being called as <code>run()</code> instead of <code>engine.run()</code>, so it loses context.</p>\n\n<p>You can retain the context by passing a function which invokes <code>run</code> as a method:</p>\n\n<pre><code>window.onload = () =&gt; {\n    var engine = new Engine();\n    engine.init();\n    requestAnimationFrame(() =&gt; engine.run());\n}\n</code></pre>\n\n<p>Or by calling <code>bind</code>:</p>\n\n<pre><code>window.onload = () =&gt; {\n    var engine = new Engine();\n    engine.init();\n    requestAnimationFrame(engine.run.bind(engine));\n}\n</code></pre>\n"}], "owner": {"reputation": 21, "user_id": 8681715, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9daf71773c16777c0c450c9f205b4c72?s=128&d=identicon&r=PG&f=1", "display_name": "Vitax", "link": "https://stackoverflow.com/users/8681715/vitax"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 62, "favorite_count": 0, "accepted_answer_id": 46444202, "answer_count": 1, "score": 1, "last_activity_date": 1506504402, "creation_date": 1506504038, "question_id": 46444067, "link": "https://stackoverflow.com/questions/46444067/this-of-class-becomes-undefined-when-calling-engine-run-in-window-onload", "title": "this of Class becomes undefined when calling engine.run() in window.onload", "body": "<p>I have a class which contains functions and variables such as the following Code:</p>\n\n<pre><code>class Engine {\n    private inputHandler: InputHandler;\n    private webGl: WebGLRenderingContext;\n    private timeStep: number = 1000 / 60;\n    private delta: number = 0;\n    private lastFrameTimeMs: number = 0;\n\n    constructor() {\n        this.webGl = Canvas.initWebGL(window.innerWidth, window.innerHeight);\n        this.inputHandler = new InputHandler();\n    }\n\n    private draw() {\n        // stuff happening here\n    }\n\n    private update(delta: number) {\n        // stuff happening here\n    }\n\n    public run(timestamp: number) {\n        console.log('this: ', this);\n        this.delta = timestamp - this.lastFrameTimeMs;\n        this.lastFrameTimeMs = timestamp;\n\n        while(this.delta &gt;= this.timeStep) {\n            this.update(this.delta);\n            this.delta -= this.timeStep;\n        }\n\n        this.draw();\n\n        requestAnimationFrame(this.run);\n    }\n}\n\nwindow.onload = () =&gt; {\n    var engine = new Engine();\n    engine.init();\n    requestAnimationFrame(engine.run);\n}\n</code></pre>\n\n<p>My problem here is that when I call engine.run in window.onload(), 'this' in the Engine class becomes \"Undefiened\". One solution is making the variables and functions static and calling Engine.run() etc. but I feel like that is not the way to go.</p>\n\n<p>Is there a particular reason why 'this' poly-morphs in the class if so, why and what would I have to change ? </p>\n\n<p>As a side note: \nI am converting my .ts classes into .js with npm and bundling them with webpack at the end.</p>\n"}, {"tags": ["javascript", "html", "angular", "http", "typescript"], "comments": [{"owner": {"reputation": 2289, "user_id": 5836034, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/awlVz.jpg?s=128&g=1", "display_name": "Theophilus Omoregbee", "link": "https://stackoverflow.com/users/5836034/theophilus-omoregbee"}, "edited": false, "score": 0, "creation_date": 1506503736, "post_id": 46443877, "comment_id": 79843688, "body": "can you bring out just the specific part that is not working as it should instead of the whole code"}, {"owner": {"reputation": 360, "user_id": 5368380, "user_type": "registered", "accept_rate": 44, "profile_image": "https://i.stack.imgur.com/CwYpY.jpg?s=128&g=1", "display_name": "blixenkrone", "link": "https://stackoverflow.com/users/5368380/blixenkrone"}, "reply_to_user": {"reputation": 2289, "user_id": 5836034, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/awlVz.jpg?s=128&g=1", "display_name": "Theophilus Omoregbee", "link": "https://stackoverflow.com/users/5836034/theophilus-omoregbee"}, "edited": false, "score": 0, "creation_date": 1506505143, "post_id": 46443877, "comment_id": 79844683, "body": "@TheophilusOmoregbee Done. It&#39;s the part with the hitsArray, where i want to push the data from the observable, and then display all of the data, after i&#39;ve put it in the array. Im using ngx-infinity-scroll to trigger and adjust the scrolling in the HTML part. The *ngFor part is the part that loops through the data and display every image of the iterable."}, {"owner": {"reputation": 2289, "user_id": 5836034, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/awlVz.jpg?s=128&g=1", "display_name": "Theophilus Omoregbee", "link": "https://stackoverflow.com/users/5836034/theophilus-omoregbee"}, "edited": false, "score": 0, "creation_date": 1506559596, "post_id": 46443877, "comment_id": 79873790, "body": "so you are trying to add the new page data to the previous ones(<code>hitsArray</code>) and then your <code>ngFor</code> can now display the newly added items, hope i got the problem statement right?"}, {"owner": {"reputation": 360, "user_id": 5368380, "user_type": "registered", "accept_rate": 44, "profile_image": "https://i.stack.imgur.com/CwYpY.jpg?s=128&g=1", "display_name": "blixenkrone", "link": "https://stackoverflow.com/users/5368380/blixenkrone"}, "reply_to_user": {"reputation": 2289, "user_id": 5836034, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/awlVz.jpg?s=128&g=1", "display_name": "Theophilus Omoregbee", "link": "https://stackoverflow.com/users/5836034/theophilus-omoregbee"}, "edited": false, "score": 0, "creation_date": 1506688141, "post_id": 46443877, "comment_id": 79932045, "body": "You got it exactly right. Sorry if i havent been fully explanatory, im still learning angular."}, {"owner": {"reputation": 2289, "user_id": 5836034, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/awlVz.jpg?s=128&g=1", "display_name": "Theophilus Omoregbee", "link": "https://stackoverflow.com/users/5836034/theophilus-omoregbee"}, "edited": false, "score": 0, "creation_date": 1506688225, "post_id": 46443877, "comment_id": 79932084, "body": "The answer I provided should fix it for you"}], "answers": [{"comments": [{"owner": {"reputation": 360, "user_id": 5368380, "user_type": "registered", "accept_rate": 44, "profile_image": "https://i.stack.imgur.com/CwYpY.jpg?s=128&g=1", "display_name": "blixenkrone", "link": "https://stackoverflow.com/users/5368380/blixenkrone"}, "edited": false, "score": 0, "creation_date": 1506688202, "post_id": 46459375, "comment_id": 79932071, "body": "Thank you for this, ill do some testing with your recommendations! Ill get back to you. Cheers."}, {"owner": {"reputation": 360, "user_id": 5368380, "user_type": "registered", "accept_rate": 44, "profile_image": "https://i.stack.imgur.com/CwYpY.jpg?s=128&g=1", "display_name": "blixenkrone", "link": "https://stackoverflow.com/users/5368380/blixenkrone"}, "edited": false, "score": 0, "creation_date": 1507545328, "post_id": 46459375, "comment_id": 80237722, "body": "Hey Theophilus, sorry it took so long for me to get back to you, but i&#39;ve been traveling, so i haven&#39;t worked on this webapp since we spoke. I&#39;ve now tried out several possibilities, but it seems that the for..of loop through my array of objects perfectly, but it somehow makes my HTML (ngFor=&quot;let story of data.hits&quot;&gt;) not working."}, {"owner": {"reputation": 360, "user_id": 5368380, "user_type": "registered", "accept_rate": 44, "profile_image": "https://i.stack.imgur.com/CwYpY.jpg?s=128&g=1", "display_name": "blixenkrone", "link": "https://stackoverflow.com/users/5368380/blixenkrone"}, "edited": false, "score": 0, "creation_date": 1507550888, "post_id": 46459375, "comment_id": 80241112, "body": "Ok i actually got it working by also changing the ngIf in the HTML (see OP post edit). New issue: the code pushes both old feed hits into the new array, upon changing feeds. How to make sure, that the feed is only pushed to the array, if the data comes from the same feed, without refreshing the page?"}], "tags": [], "owner": {"reputation": 2289, "user_id": 5836034, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/awlVz.jpg?s=128&g=1", "display_name": "Theophilus Omoregbee", "link": "https://stackoverflow.com/users/5836034/theophilus-omoregbee"}, "is_accepted": true, "score": 3, "last_activity_date": 1506560627, "creation_date": 1506560627, "answer_id": 46459375, "question_id": 46443877, "link": "https://stackoverflow.com/questions/46443877/loop-through-observable-data-push-to-array-and-display-all-results-from-array/46459375#46459375", "title": "Loop through Observable data, push to array, and display all results from array typescript", "body": "<p>Based on your component's template, you are using <code>data</code> which is updated for every newly fetched data from observable here in your subscription</p>\n\n<pre><code>for (let story in data) {\n        this.data = data; --&gt; here you update regularly\n</code></pre>\n\n<p>from the above you are saying for every <code>array key</code> update our <code>this.data</code> which seems wrong, because the keys in an array is 0,1,2 which are the index.</p>\n\n<blockquote>\n  <p>Both <strong>for..of</strong> and <strong>for..in</strong> statements iterate over lists; the values iterated on are different though, for..in returns a list of keys on the object being iterated, whereas for..of returns a list of values of the numeric properties of the object being iterated. <a href=\"https://www.typescriptlang.org/docs/handbook/iterators-and-generators.html\" rel=\"nofollow noreferrer\">readmore</a></p>\n</blockquote>\n\n<p>So instead of the long trip your subscription code that handles the processing of the retrieved data should look like the one below</p>\n\n<pre><code>for (let story of data) { // now of\n       // this.data = data; not needed else your data is always overriden\n       // for (let i = 0; i &lt; this.data.length; i++) { no need for this again since the above for..of is handling it\n          this.hitsArray.push(story);\n          this.data.hits.push(story);// add the new stories(as last element) to the main data array using this.data here now\n\n          console.log(this.hitsArray);\n      //  } for loop of this.data.length\n      }\n</code></pre>\n\n<p>So with the above code following the comments should explain what the code is doing and how the irrelevant parts are causing data override. </p>\n\n<p><strong>P.S.</strong> your <code>this.data.hits</code> must be an <strong>array</strong> initialized as <code>[]</code> when the program is loading the component. And your <code>data</code> from your observable must be an <strong>array</strong> or if object with <strong>hits</strong> as <strong>array</strong> then use this code instead <code>for (let story in data.hits) {</code>.</p>\n\n<p>Hope this helps.</p>\n"}, {"tags": [], "owner": {"reputation": 360, "user_id": 5368380, "user_type": "registered", "accept_rate": 44, "profile_image": "https://i.stack.imgur.com/CwYpY.jpg?s=128&g=1", "display_name": "blixenkrone", "link": "https://stackoverflow.com/users/5368380/blixenkrone"}, "is_accepted": false, "score": 1, "last_activity_date": 1507553765, "creation_date": 1507553765, "answer_id": 46647057, "question_id": 46443877, "link": "https://stackoverflow.com/questions/46443877/loop-through-observable-data-push-to-array-and-display-all-results-from-array/46647057#46647057", "title": "Loop through Observable data, push to array, and display all results from array typescript", "body": "<p>So this is the final fix (note: the hitsArray is being loaded as an empty array, every time the params changes):</p>\n\n<p>Component:</p>\n\n<pre><code>this.storiesService.getData(this.page, this.hits, this.feed)\n  .subscribe(\n  (data) =&gt; {\n    console.log(data);\n    if (!data || data.hits == 0) {\n      this.finished = true;\n      console.log(\"No more hits :-(\")\n    } else {\n      this.finished = false;\n      for (let story of data.hits) {\n        this.hitsArray.push(story);\n        console.log(\"Hit me!\")\n        console.log(this.hitsArray);\n      }\n    }\n  })\n</code></pre>\n\n<p>HTML:</p>\n\n<pre><code> &lt;div class=\"col-4 col-md-4 col-sm-12\" *ngFor=\"let story of hitsArray\"&gt;\n  &lt;div class=\"thumbnail\"&gt;\n    &lt;img *ngIf=\"story.storyMediaType === 'image'\" class=\"img-fluid\" src=\"{{story.storyThumbnailImage}}\" /&gt;\n    &lt;img *ngIf=\"story.storyMediaType === 'video'\" class=\"img-fluid\" src=\"{{story.storyThumbnailImage}}\" width=\"150\" height=\"94\" /&gt;\n    &lt;div class=\"caption\"&gt;\n      &lt;p&gt;{{story.storyCity}}, {{story.storyCountry}}&lt;/p&gt;\n      &lt;h3&gt;{{story.storyHeadline}}&lt;/h3&gt;\n      &lt;p&gt;Uploadet {{story.uploadDate}}&lt;/p&gt;\n      &lt;p&gt;Bruger: {{story.userDisplayName}}&lt;/p&gt;\n      &lt;p&gt;&lt;a href=\"#\" class=\"btn btn-primary\" role=\"button\"&gt;Like&lt;/a&gt; &lt;a href=\"#\" class=\"btn btn-default\" role=\"button\"&gt;Button&lt;/a&gt;&lt;/p&gt;\n    &lt;/div&gt;\n  &lt;/div&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>Many thanks to @Theophilus for the suggestion! His example may work in most situations other than mine!</p>\n"}], "owner": {"reputation": 360, "user_id": 5368380, "user_type": "registered", "accept_rate": 44, "profile_image": "https://i.stack.imgur.com/CwYpY.jpg?s=128&g=1", "display_name": "blixenkrone", "link": "https://stackoverflow.com/users/5368380/blixenkrone"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4228, "favorite_count": 0, "accepted_answer_id": 46459375, "answer_count": 2, "score": 3, "last_activity_date": 1507553765, "creation_date": 1506503483, "last_edit_date": 1507551049, "question_id": 46443877, "link": "https://stackoverflow.com/questions/46443877/loop-through-observable-data-push-to-array-and-display-all-results-from-array", "title": "Loop through Observable data, push to array, and display all results from array typescript", "body": "<p>How do i loop through my data, that i subscribed to as an Observable, push it to an array, and displaying the whole data of the array?\nMy present code only displays data from each \"page\", and not all the pages. \nThe reason why i want to do this, is because i want to make an infinity scroll.</p>\n\n<p>Thank you!</p>\n\n<p>Component:</p>\n\n<pre><code>  this.storiesService.getData(this.page, this.hits, this.feed)\n  .subscribe(\n  (data) =&gt; {\n    console.log(data);\n    if (!data || data.hits === 0) {\n      this.finished = true;\n      console.log(\"NO MORE HITS\")\n    } else {\n      this.finished = false;\n      for (let story of data.hits) {\n        this.hitsArray.push(story);\n        console.log(\"Hit me!\")\n        console.log(this.hitsArray);\n      }\n    }\n  })\n</code></pre>\n\n<p>HTML:</p>\n\n<pre><code> &lt;div class=\"col-4 col-md-4 col-sm-12\" *ngFor=\"let story of hitsArray\"&gt;\n  &lt;div class=\"thumbnail\"&gt;\n    &lt;img *ngIf=\"story.storyMediaType === 'image'\" class=\"img-fluid\" src=\"{{story.storyThumbnailImage}}\" /&gt;\n    &lt;img *ngIf=\"story.storyMediaType === 'video'\" class=\"img-fluid\" src=\"{{story.storyThumbnailImage}}\" width=\"150\" height=\"94\" /&gt;\n    &lt;div class=\"caption\"&gt;\n      &lt;p&gt;{{story.storyCity}}, {{story.storyCountry}}&lt;/p&gt;\n      &lt;h3&gt;{{story.storyHeadline}}&lt;/h3&gt;\n      &lt;p&gt;Uploadet {{story.uploadDate}}&lt;/p&gt;\n      &lt;p&gt;Bruger: {{story.userDisplayName}}&lt;/p&gt;\n      &lt;p&gt;&lt;a href=\"#\" class=\"btn btn-primary\" role=\"button\"&gt;Like&lt;/a&gt; &lt;a href=\"#\" class=\"btn btn-default\" role=\"button\"&gt;Button&lt;/a&gt;&lt;/p&gt;\n    &lt;/div&gt;\n  &lt;/div&gt;\n&lt;/div&gt;\n</code></pre>\n"}, {"tags": ["javascript", "angular", "typescript", "object", "deep-copy"], "comments": [{"owner": {"reputation": 16077, "user_id": 2708210, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/EU2af.jpg?s=128&g=1", "display_name": "Rahul Singh", "link": "https://stackoverflow.com/users/2708210/rahul-singh"}, "edited": false, "score": 0, "creation_date": 1506503098, "post_id": 46443598, "comment_id": 79843284, "body": "better use a library <code>loadash</code>"}, {"owner": {"reputation": 1151, "user_id": 3759560, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/Iwxxo.png?s=128&g=1", "display_name": "methgaard", "link": "https://stackoverflow.com/users/3759560/methgaard"}, "edited": false, "score": 0, "creation_date": 1506503821, "post_id": 46443598, "comment_id": 79843757, "body": "in my experience, the best way to deep copy is to serialize and deserialize to object"}], "owner": {"reputation": 560, "user_id": 7434324, "user_type": "registered", "accept_rate": 58, "profile_image": "https://lh5.googleusercontent.com/-cqHPABYeCXw/AAAAAAAAAAI/AAAAAAAAAJI/lhW6nY2HJfc/photo.jpg?sz=128", "display_name": "Rama Krishna", "link": "https://stackoverflow.com/users/7434324/rama-krishna"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 29, "favorite_count": 0, "closed_date": 1506506319, "answer_count": 0, "score": 0, "last_activity_date": 1506502691, "creation_date": 1506502691, "question_id": 46443598, "link": "https://stackoverflow.com/questions/46443598/angular-4-deep-copy-for-nested-object", "closed_reason": "Duplicate", "title": "Angular 4 deep copy for nested object", "body": "<p>Here is my code</p>\n\n<pre><code>var destObj= Object.assign({}, sourceObj);\n    destObj.fields.forEach(item =&gt; {\n        if (item.fieldType == 'MULTI_SELECT_LOV') {\n            let newValues = [];\n            item.selectedValue.forEach(val =&gt; {\n                newValues.push(val.dataName);\n            });\n            item.selectedValue = newValues;\n        }\n    })\n</code></pre>\n\n<p>after completion of code execution the both 'sourceObj' and 'destObj' are equal.</p>\n\n<p>My intention is do not effect changes which are made on 'destObj' should not reflect in 'sourceObj'.</p>\n"}, {"tags": ["reactjs", "typescript", "react-native"], "answers": [{"tags": [], "owner": {"reputation": 2012, "user_id": 5386466, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-eUKfNMEHoUY/AAAAAAAAAAI/AAAAAAAAIJE/YtaBpm_-BMk/photo.jpg?sz=128", "display_name": "ABabin", "link": "https://stackoverflow.com/users/5386466/ababin"}, "is_accepted": false, "score": -1, "last_activity_date": 1506529903, "creation_date": 1506529903, "answer_id": 46452951, "question_id": 46443488, "link": "https://stackoverflow.com/questions/46443488/typescript-is-it-possible-to-pass-an-instance-of-an-interface-into-a-react-comp/46452951#46452951", "title": "TypeScript: Is it possible to pass an instance of an interface into a react component?", "body": "<p>You <em>can</em> pass callbacks defined in the Parent to the child Login for it to call when it ascertains the user's chosen language. </p>\n\n<p>Something like:</p>\n\n<pre><code>class App extends React.Component implements ILanguageChangedObservor {\n\n  public update(toLanguage : Localization.Localization.LocalizedStrings) {\n    //Do what needs to be done when language is change in Login\n  }\n\n  render() {\n    &lt;Login callMeWhenYouGetLang={ this.update } /&gt;\n  }\n}\n\n\n\nclass Login extends React.Component {\n  constructor(props) {\n    super(props);\n  }\n\n  public changeBrowserLanguage(event: React.FormEvent&lt;HTMLSelectElement&gt;) {\n    this.currentLanguage = new Localization.Localization.LocalizedStrings(event.currentTarget.value);\n    // vvvvvvvvv\n    this.props.callMeWhenYouGetLang(this.currentLanguage);\n    // ^^^^^^^^\n    this.forceUpdate();\n\n  }\n}\n</code></pre>\n\n<p>With React, passing whole instances of Component classes or even their accompanying DOM nodes into children Components is a <strong>big no-no</strong>. The main reason being that you really don't want to get into situations where something changes on your Component, and you can't figure out why because there's no direct line-of-action <em>on the Component itself</em>. </p>\n\n<p>You also should look into <a href=\"http://redux.js.org/docs/introduction/CoreConcepts.html\" rel=\"nofollow noreferrer\">learning Redux</a> to help direct your app's state in a way that will be more manageable when your app grows in complexity. Your Login component could ascertain the user's language, change the app's global state, which would then be fed down throughout the entire application. This would prevent you having to worry about parent callbacks or passing down the language to each and every component. </p>\n\n<p>One final thing... you've been spelling <code>Observer</code> wrong. :)</p>\n"}], "owner": {"reputation": 141, "user_id": 869305, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/e45a5affcf1038c34649ad08656fb49d?s=128&d=identicon&r=PG", "display_name": "user869305", "link": "https://stackoverflow.com/users/869305/user869305"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 438, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1506529903, "creation_date": 1506502392, "question_id": 46443488, "link": "https://stackoverflow.com/questions/46443488/typescript-is-it-possible-to-pass-an-instance-of-an-interface-into-a-react-comp", "title": "TypeScript: Is it possible to pass an instance of an interface into a react component?", "body": "<p>I have a component i want to show on login:</p>\n\n<pre><code>import * as React from 'react';\nimport * as Localization from '../Modules/Localization';\nimport ILanguageChangedObservor from '../Interfaces/ILanguageChangedObservor';\n\nclass Login extends React.Component {\n\n  private observor : ILanguageChangedObservor;\n\n  constructor(languageObservor : ILanguageChangedObservor) {\n    super();\n    this.observor = languageObservor;\n  }\n\n  public currentLanguage : Localization.Localization.LocalizedStrings = new Localization.Localization.LocalizedStrings(navigator.language.split('-')[0].toString());\n\n  public changeBrowserLanguage(event: React.FormEvent&lt;HTMLSelectElement&gt;) {\n    this.currentLanguage = new Localization.Localization.LocalizedStrings(event.currentTarget.value);\n    this.forceUpdate();\n  }\n\n  render() {\n\n    var englishStrings = new Localization.Localization.LocalizedStrings(\"en\");\n    var germanStrings = new Localization.Localization.LocalizedStrings(\"de\");\n    var frenchStrings = new Localization.Localization.LocalizedStrings(\"de\");\n    var spanishStrings = new Localization.Localization.LocalizedStrings(\"es\");\n\n    return (\n        &lt;div&gt;\n                &lt;p&gt;\n                &lt;select onChange={ e =&gt; this.changeBrowserLanguage(e) }&gt;\n                  &lt;option value=\"en\"&gt;{englishStrings.languageInNative}&lt;/option&gt;\n                  &lt;option value=\"de\"&gt;{germanStrings.languageInNative}&lt;/option&gt;\n                  &lt;option value=\"fr\"&gt;{frenchStrings.languageInNative}&lt;/option&gt;\n                  &lt;option value=\"es\"&gt;{spanishStrings.languageInNative}&lt;/option&gt;\n                &lt;/select&gt;\n                &lt;/p&gt;\n                {this.currentLanguage.welcome}&lt;br /&gt;\n        &lt;/div&gt;\n    );\n\n  }\n}\n\nexport default Login;\n</code></pre>\n\n<p>What i want to do is when the language is set on login, tell the observor which will be the parent page:</p>\n\n<p>Parent screen:</p>\n\n<pre><code>import * as React from 'react';\nimport './App.css';\nimport Login from './Screens/Login';\nimport * as Localization from './Modules/Localization';\nimport ILanguageChangedObservor from './Interfaces/ILanguageChangedObservor';\n\nconst logo = require('./logo.svg');\n\nclass App extends React.Component implements ILanguageChangedObservor {\n\n  public update(toLanguage : Localization.Localization.LocalizedStrings) {\n\n  }\n\n  render() {\n    return (\n      &lt;div className=\"App\"&gt;\n        &lt;div className=\"App-header\"&gt;\n          &lt;img src={logo} className=\"App-logo\" alt=\"logo\" /&gt;\n          &lt;h2&gt;Welcome to React&lt;/h2&gt;\n        &lt;/div&gt;\n        &lt;Login /&gt;\n      &lt;/div&gt;\n    );\n  }\n}\n\nexport default App;\n</code></pre>\n\n<p>I was expecting that i could pass the instance of the parent into the login component, something like this:</p>\n\n<pre><code>&lt;Login languageObservor=this /&gt;\n</code></pre>\n\n<p>But it appears this is not an available option. Is it possible to atleast pass a callback function into a component? Im new to react so still trying to work out limitations. Thanks for your help in advance.</p>\n"}, {"tags": ["typescript", "variables", "global"], "comments": [{"owner": {"reputation": 15625, "user_id": 3786294, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/o0RBY.png?s=128&g=1", "display_name": "Paleo", "link": "https://stackoverflow.com/users/3786294/paleo"}, "edited": false, "score": 0, "creation_date": 1506500961, "post_id": 46442891, "comment_id": 79841930, "body": "In a browser: <code>window[&#39;midprice&#39;] = price;</code>. In Node.js: <code>global[&#39;midprice&#39;] = price;</code>. Then you have to <code>declare var midprice: any</code> somewhere in a file TS definition file. But it is a <b>very bad practice</b>."}, {"owner": {"reputation": 25995, "user_id": 5152732, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-eL0xfQom3xQ/AAAAAAAAAAI/AAAAAAAAB1E/j1B2Mcgvt6M/photo.jpg?sz=128", "display_name": "toskv", "link": "https://stackoverflow.com/users/5152732/toskv"}, "edited": false, "score": 0, "creation_date": 1506509194, "post_id": 46442891, "comment_id": 79847373, "body": "how is this used?  do you want to make this available? in what environment, what other technologies."}, {"owner": {"reputation": 39, "user_id": 5835668, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9ba5c65d7893083dcc80cf7af8ea8c90?s=128&d=identicon&r=PG&f=1", "display_name": "Jin", "link": "https://stackoverflow.com/users/5835668/jin"}, "edited": false, "score": 0, "creation_date": 1506509949, "post_id": 46442891, "comment_id": 79847877, "body": "Just want to make the variable available to other functions in the same typescript file."}, {"owner": {"reputation": 25995, "user_id": 5152732, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-eL0xfQom3xQ/AAAAAAAAAAI/AAAAAAAAB1E/j1B2Mcgvt6M/photo.jpg?sz=128", "display_name": "toskv", "link": "https://stackoverflow.com/users/5152732/toskv"}, "edited": false, "score": 0, "creation_date": 1506510561, "post_id": 46442891, "comment_id": 79848305, "body": "that&#39;s a bit vague too, how are those functions called? you could just move the <code>var midprice</code> outside the <b>then</b> function. But the variable will be initialized asynchronously and it might be null if used before the callback finishes."}], "answers": [{"comments": [{"owner": {"reputation": 39, "user_id": 5835668, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9ba5c65d7893083dcc80cf7af8ea8c90?s=128&d=identicon&r=PG&f=1", "display_name": "Jin", "link": "https://stackoverflow.com/users/5835668/jin"}, "edited": false, "score": 0, "creation_date": 1507098191, "post_id": 46465507, "comment_id": 80070270, "body": "I tried this, but the console log would say midprice is undefined"}, {"owner": {"reputation": 18106, "user_id": 274473, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/a13595a9bbfbe3f290afb626c9ec8f79?s=128&d=identicon&r=PG", "display_name": "kayahr", "link": "https://stackoverflow.com/users/274473/kayahr"}, "reply_to_user": {"reputation": 39, "user_id": 5835668, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9ba5c65d7893083dcc80cf7af8ea8c90?s=128&d=identicon&r=PG&f=1", "display_name": "Jin", "link": "https://stackoverflow.com/users/5835668/jin"}, "edited": false, "score": 0, "creation_date": 1507368776, "post_id": 46465507, "comment_id": 80188575, "body": "@Jin Then something is wrong with your code. In my example <code>midprice</code> is set BEFORE <code>someOtherFunc</code> is called and therefor the variable must exist. Maybe you tried some other code and are accessing <code>midprice</code> before it is set? Maybe you can get replace the unknown <code>gdax.loadMidMarketPrice</code> call in your example with a dummy so we can reproduce your exact problem?"}], "tags": [], "owner": {"reputation": 18106, "user_id": 274473, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/a13595a9bbfbe3f290afb626c9ec8f79?s=128&d=identicon&r=PG", "display_name": "kayahr", "link": "https://stackoverflow.com/users/274473/kayahr"}, "is_accepted": true, "score": 1, "last_activity_date": 1506590515, "creation_date": 1506590515, "answer_id": 46465507, "question_id": 46442891, "link": "https://stackoverflow.com/questions/46442891/how-to-pass-local-variables-to-global-variables-in-typescript/46465507#46465507", "title": "How to pass local variables to global variables in typescript?", "body": "<p>Well, you say you have everything in the same typescript file. Then simply move the variable out of the function</p>\n\n<pre><code>var midprice;\n\ngdax.loadMidMarketPrice(product).then((price: BigJS) =&gt; {\n    midprice = price;\n    console.log('Mid-market Price: $${price}/BTC');\n    someOtherFunc();\n}).catch(logError);\n\nfunction someOtherFunc() {\n    console.log(\"Hey, I can see it! It's \" + midprice);\n}\n</code></pre>\n"}], "owner": {"reputation": 39, "user_id": 5835668, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9ba5c65d7893083dcc80cf7af8ea8c90?s=128&d=identicon&r=PG&f=1", "display_name": "Jin", "link": "https://stackoverflow.com/users/5835668/jin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 275, "favorite_count": 0, "closed_date": 1566236745, "accepted_answer_id": 46465507, "answer_count": 1, "score": 0, "last_activity_date": 1566234274, "creation_date": 1506500631, "last_edit_date": 1566234274, "question_id": 46442891, "link": "https://stackoverflow.com/questions/46442891/how-to-pass-local-variables-to-global-variables-in-typescript", "closed_reason": "Duplicate", "title": "How to pass local variables to global variables in typescript?", "body": "<p>How do i get the value of variable 'price' and pass it as a global variable so I can use it elsewhere in my program?</p>\n\n<pre><code>gdax.loadMidMarketPrice(product).then((price: BigJS) =&gt; {\n    console.log('Mid-market Price: $${price}/BTC');\n}).catch(logError);\n</code></pre>\n\n<p>I tried this but the variable is not visible outside the function</p>\n\n<pre><code>gdax.loadMidMarketPrice(product).then((price: BigJS) =&gt; {\n    var midprice=price;\n    console.log('Mid-market Price: $${price}/BTC');\n}).catch(logError);\n</code></pre>\n"}, {"tags": ["angular", "typescript"], "answers": [{"tags": [], "owner": {"reputation": 8159, "user_id": 1916362, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/fu3Fi.jpg?s=128&g=1", "display_name": "James Monger", "link": "https://stackoverflow.com/users/1916362/james-monger"}, "is_accepted": false, "score": 1, "last_activity_date": 1506501292, "last_edit_date": 1506501292, "creation_date": 1506500947, "answer_id": 46442990, "question_id": 46442789, "link": "https://stackoverflow.com/questions/46442789/typescript-push-elements-into-an-array-in-roundrobin-fashion/46442990#46442990", "title": "typescript push elements into an array in roundrobin fashion", "body": "<pre><code>// store the selected month as an index\nconst selectedMonth = this.selectedDate.month(); \n\n// get all months after the selected one\n// (we get all between the selected one and the end)\nconst monthsAfterSelected\n    = this.roundRobinMonths.slice(selectedMonth + 1, this.roundRobinMonths.length);\n\n// get all months before the selected one\n// (we get all from index 0 to the selected one)\nconst monthsBeforeSelected = this.roundRobinMonths.slice(0, selectedMonth + 1);\n\n// this is the months in round robin order - place the arrays together\nconst orderedMonths = monthsAfterSelected.concat(monthsBeforeSelected);\n\n// push them all into the user timeline\norderedMonths.forEach(m =&gt; {\n    this.userTimeline.push(m);\n});\n</code></pre>\n\n<p>Here is a quick example of the function in JavaScript:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>function getRoundRobin(index) {\r\n    const months = ['Jan', 'Feb', 'Mar', 'Apr', 'Mai', 'Jun', 'July', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'];\r\n\r\n    const after = months.slice(index + 1, months.length);\r\n    const before = months.slice(0, index + 1);\r\n\r\n    return after.concat(before);\r\n}\r\n\r\nconsole.log(getRoundRobin(8)); // select September</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"comments": [{"owner": {"reputation": 4604, "user_id": 5341676, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/e7ad6979d956fb591165c56b4ff1819c?s=128&d=identicon&r=PG&f=1", "display_name": "Thinker", "link": "https://stackoverflow.com/users/5341676/thinker"}, "edited": false, "score": 0, "creation_date": 1506501694, "post_id": 46443209, "comment_id": 79842370, "body": "Thanks a lot for your answer! It was exactly what I wanted"}, {"owner": {"reputation": 8159, "user_id": 1916362, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/fu3Fi.jpg?s=128&g=1", "display_name": "James Monger", "link": "https://stackoverflow.com/users/1916362/james-monger"}, "edited": false, "score": 0, "creation_date": 1506503786, "post_id": 46443209, "comment_id": 79843728, "body": "@DoubleH This uses <code>slice</code>, not <code>splice</code> as your answer states. You may want to explain the logic of how <code>slice</code> and <code>concat</code> combine to give the desired output."}, {"owner": {"reputation": 3581, "user_id": 4623495, "user_type": "registered", "accept_rate": 22, "profile_image": "https://i.stack.imgur.com/RoAj1.jpg?s=128&g=1", "display_name": "Double H", "link": "https://stackoverflow.com/users/4623495/double-h"}, "reply_to_user": {"reputation": 8159, "user_id": 1916362, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/fu3Fi.jpg?s=128&g=1", "display_name": "James Monger", "link": "https://stackoverflow.com/users/1916362/james-monger"}, "edited": false, "score": 0, "creation_date": 1506504366, "post_id": 46443209, "comment_id": 79844136, "body": "@JamesMonger .. Sorry .. and thanks for correcting me .. Will Update my post with suitable explanation shortly"}], "tags": [], "owner": {"reputation": 3581, "user_id": 4623495, "user_type": "registered", "accept_rate": 22, "profile_image": "https://i.stack.imgur.com/RoAj1.jpg?s=128&g=1", "display_name": "Double H", "link": "https://stackoverflow.com/users/4623495/double-h"}, "is_accepted": true, "score": 2, "last_activity_date": 1506506122, "last_edit_date": 1506506122, "creation_date": 1506501612, "answer_id": 46443209, "question_id": 46442789, "link": "https://stackoverflow.com/questions/46442789/typescript-push-elements-into-an-array-in-roundrobin-fashion/46443209#46443209", "title": "typescript push elements into an array in roundrobin fashion", "body": "<p>You can try <code>slice</code></p>\n\n<pre><code>public pickDate($event: MouseEvent) {\n    this.datePicker.selectDate(this.selectedWeddingDate, { openFrom: $event }).subscribe((selectedDate: Date) =&gt; {\n\n        this.selecteDate = selectedDate ? moment(selectedDate) : null;\n\n        // logic for creating personalized timeline\n        let month = this.selectDate.month() + 1;\n        this.userTimeline = this.roundRobinMonths.slice(month , 12).concat(this.roundRobinMonths.slice(0 , month));\n        console.log(this.userTimeline);\n\n    });\n}\n</code></pre>\n"}], "owner": {"reputation": 4604, "user_id": 5341676, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/e7ad6979d956fb591165c56b4ff1819c?s=128&d=identicon&r=PG&f=1", "display_name": "Thinker", "link": "https://stackoverflow.com/users/5341676/thinker"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 294, "favorite_count": 1, "accepted_answer_id": 46443209, "answer_count": 2, "score": 2, "last_activity_date": 1506506122, "creation_date": 1506500307, "question_id": 46442789, "link": "https://stackoverflow.com/questions/46442789/typescript-push-elements-into-an-array-in-roundrobin-fashion", "title": "typescript push elements into an array in roundrobin fashion", "body": "<p>I have an array:</p>\n\n<pre><code>public roundRobinMonths: any=['Jan', 'Feb', 'Mar', 'Apr', 'Mai', 'Jun', 'July', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'];\n</code></pre>\n\n<p>and another empty array: <code>public userTimeline: any=[];</code></p>\n\n<p>My user will select a month from a datepicker and if he selects say September then I want to add months starting from Oct until Sep in my userTimeline array i.e. Oct, Nov,..., Apl, Mai,..., Aug, Sep</p>\n\n<p>I receive in my component index for a month that user selects i.e. 0, 1,.., 11.</p>\n\n<p>I tried running a for loop like following:</p>\n\n<pre><code>public pickDate($event: MouseEvent) {\n    this.datePicker.selectDate(this.selectedWeddingDate, {openFrom: $event}).subscribe( (selectedDate: Date) =&gt; {\n\n        this.selecteDate = selectedDate ? moment(selectedDate) : null;\n\n        // logic for creating personalized timeline\n        switch (this.selectedDate.month()) {\n        case 8:\n            for(let month of this.roundRobinMonths){\n                if(this.roundRobinMonths.indexOf(month)===8){\n                    this.userTimeline.push(month)\n                    console.log(this.userTimeline)\n                }\n            }\n            break;\n\n        default:\n            // code...\n            break;\n    }\n\n    });\n}\n</code></pre>\n\n<p>This adds only one month. What could be the correct logic?</p>\n"}, {"tags": ["javascript", "loops", "typescript", "sum", "concatenation"], "comments": [{"owner": {"reputation": 151, "user_id": 5415251, "user_type": "registered", "accept_rate": 20, "profile_image": "https://i.stack.imgur.com/laWbC.png?s=128&g=1", "display_name": "simne7", "link": "https://stackoverflow.com/users/5415251/simne7"}, "edited": false, "score": 1, "creation_date": 1506498880, "post_id": 46442292, "comment_id": 79840701, "body": "what does <code>console.log(typeof element.amount)</code> give you if you put it inside the forEach loop?"}, {"owner": {"reputation": 116457, "user_id": 219661, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/74a47a4e97bae5982d32950f4af2f5d5?s=128&d=identicon&r=PG&f=1", "display_name": "Jamiec", "link": "https://stackoverflow.com/users/219661/jamiec"}, "edited": false, "score": 1, "creation_date": 1506498914, "post_id": 46442292, "comment_id": 79840729, "body": "Sorry to repeat the obvious, but if what your saying is true you&#39;re dealing with strings. Please provide a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> to demonstrate the problem, and include an example of what is in <code>this.listOfPeriods[index].declarations</code>. You could <code>console.log</code> it an include the result in your question"}, {"owner": {"reputation": 16371, "user_id": 479251, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/9870fa7c3f578b33976c7a770cbff4b2?s=128&d=identicon&r=PG", "display_name": "Pac0", "link": "https://stackoverflow.com/users/479251/pac0"}, "edited": false, "score": 1, "creation_date": 1506498944, "post_id": 46442292, "comment_id": 79840749, "body": "and tell us what argument you give on parseFloat() (parseInt() is not suited here)"}, {"owner": {"reputation": 28516, "user_id": 3669624, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/afiTv.jpg?s=128&g=1", "display_name": "c\u043d\u015ddk", "link": "https://stackoverflow.com/users/3669624/c%d0%bd%c5%9ddk"}, "edited": false, "score": 0, "creation_date": 1506499440, "post_id": 46442292, "comment_id": 79841069, "body": "It&#39;s a little confusing, your amounts aren&#39;t strings, but can&#39;t be summed !!!"}, {"owner": {"reputation": 674, "user_id": 3385804, "user_type": "registered", "profile_image": "https://graph.facebook.com/100002937312554/picture?type=large", "display_name": "Ammar", "link": "https://stackoverflow.com/users/3385804/ammar"}, "edited": false, "score": 0, "creation_date": 1506499729, "post_id": 46442292, "comment_id": 79841232, "body": "the result of 0,45 + 0,55 should be 1,00 or 0,100 or just 1?"}, {"owner": {"reputation": 2624, "user_id": 989920, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/01e16ed8a3bc3246278001359f7a0257?s=128&d=identicon&r=PG", "display_name": "evolutionxbox", "link": "https://stackoverflow.com/users/989920/evolutionxbox"}, "edited": false, "score": 0, "creation_date": 1506500135, "post_id": 46442292, "comment_id": 79841451, "body": "I don&#39;t think comma decimal mark numbers are actual numbers in JS."}], "answers": [{"comments": [{"owner": {"reputation": 716, "user_id": 2862028, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/269ae411764a40ef6397c86cb9259692?s=128&d=identicon&r=PG&f=1", "display_name": "Niek Jonkman", "link": "https://stackoverflow.com/users/2862028/niek-jonkman"}, "edited": false, "score": 0, "creation_date": 1506499428, "post_id": 46442467, "comment_id": 79841062, "body": "Seems to &quot;work&quot;, only problem with this is that an adition of 1,25 and 0,25 results in 1,5 instead of 1,50. Any idea?"}, {"owner": {"reputation": 116457, "user_id": 219661, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/74a47a4e97bae5982d32950f4af2f5d5?s=128&d=identicon&r=PG&f=1", "display_name": "Jamiec", "link": "https://stackoverflow.com/users/219661/jamiec"}, "reply_to_user": {"reputation": 716, "user_id": 2862028, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/269ae411764a40ef6397c86cb9259692?s=128&d=identicon&r=PG&f=1", "display_name": "Niek Jonkman", "link": "https://stackoverflow.com/users/2862028/niek-jonkman"}, "edited": false, "score": 5, "creation_date": 1506499505, "post_id": 46442467, "comment_id": 79841103, "body": "@NiekJonkman <code>1.5</code> <i>is</i> <code>1.50</code>. You&#39;re asking about how to format a number for display which is a different question (already answered on SO repeatedly)"}], "tags": [], "owner": {"reputation": 156, "user_id": 5176222, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4a31b0b789ed5478fc181032b914f069?s=128&d=identicon&r=PG&f=1", "display_name": "Avin Shum", "link": "https://stackoverflow.com/users/5176222/avin-shum"}, "is_accepted": true, "score": 4, "last_activity_date": 1506499196, "creation_date": 1506499196, "answer_id": 46442467, "question_id": 46442292, "link": "https://stackoverflow.com/questions/46442292/typescript-array-sum-instead-concatenation/46442467#46442467", "title": "Typescript array sum instead concatenation", "body": "<p>try below to force change element.amount to number</p>\n\n<pre><code>this.listOfPeriods[index].declarations.forEach(element =&gt; {\n  summary = summary + (+element.amount);\n});\n</code></pre>\n"}], "owner": {"reputation": 716, "user_id": 2862028, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/269ae411764a40ef6397c86cb9259692?s=128&d=identicon&r=PG&f=1", "display_name": "Niek Jonkman", "link": "https://stackoverflow.com/users/2862028/niek-jonkman"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2136, "favorite_count": 0, "accepted_answer_id": 46442467, "answer_count": 1, "score": 0, "last_activity_date": 1506499424, "creation_date": 1506498663, "last_edit_date": 1506499424, "question_id": 46442292, "link": "https://stackoverflow.com/questions/46442292/typescript-array-sum-instead-concatenation", "title": "Typescript array sum instead concatenation", "body": "<p>I have a problem with calculating a sum in typescript where I have 2 numbers that concatenate instead of summing it all up. I have looked up this issue and have seen several topics covering this problem where the solution usually was like this:</p>\n\n<p>\"use <code>ParseInt()</code> or <code>ParseFloat()</code> to convert your strings to integers\"</p>\n\n<p>The problem is that I don't have strings and even though that I use numbers they still concatenate.</p>\n\n<p>My code is as follows:</p>\n\n<pre><code>     updateSummaryAmount(index: number){\n        let summary = 0;\n\n        this.listOfPeriods[index].declarations.forEach(element =&gt; {\n            summary = summary + element.amount;\n        });\n\n        this.listOfPeriods[index].summary = summary;\n    }\n</code></pre>\n\n<p>If I sum</p>\n\n<pre><code>0,55\n</code></pre>\n\n<p>And</p>\n\n<pre><code>0,45\n</code></pre>\n\n<p>I get</p>\n\n<pre><code>00,550,45\n</code></pre>\n\n<p>When I try to use parseInt() or parseFloat(0 I get the following typescript error:</p>\n\n<pre><code>[ts} Argument of type 'number'  is not assignable to parameter of type 'string'.\n</code></pre>\n\n<p>I have tried to sum with <code>Math.floor()</code>, just to test, and this works but obviously gives me floored down numbers that I don't want.</p>\n\n<p>How do I sum up 2 values in my case?</p>\n"}, {"tags": ["typescript", "handlebars.js"], "comments": [{"owner": {"reputation": 15625, "user_id": 3786294, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/o0RBY.png?s=128&g=1", "display_name": "Paleo", "link": "https://stackoverflow.com/users/3786294/paleo"}, "edited": false, "score": 0, "creation_date": 1506499935, "post_id": 46442136, "comment_id": 79841341, "body": "The error message is very clear. Just read it. ;)"}], "answers": [{"tags": [], "owner": {"reputation": 4265, "user_id": 2470765, "user_type": "registered", "accept_rate": 59, "profile_image": "https://i.stack.imgur.com/DOj3z.jpg?s=128&g=1", "display_name": "michal.jakubeczy", "link": "https://stackoverflow.com/users/2470765/michal-jakubeczy"}, "is_accepted": false, "score": 0, "last_activity_date": 1506500201, "creation_date": 1506500201, "answer_id": 46442753, "question_id": 46442136, "link": "https://stackoverflow.com/questions/46442136/instantiating-class-in-typescript-giving-argument-of-type-is-not-assignable-to/46442753#46442753", "title": "Instantiating class in TypeScript giving &quot;Argument of type is not assignable to a parameter of type&quot;", "body": "<p>Constructor of <code>RaiseIncidentWidget</code> accepts instance of <code>RaiseIncidentWidgetConfig</code> but you're passing an array of <code>RaiseIncidentWidgetConfig</code></p>\n\n<p>Change the constructor or the data you're passing there.</p>\n"}], "owner": {"reputation": 1, "user_id": 8681181, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5c103656b65137c43a06e491ddba830e?s=128&d=identicon&r=PG&f=1", "display_name": "Amit22", "link": "https://stackoverflow.com/users/8681181/amit22"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 71, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1506500201, "creation_date": 1506498149, "last_edit_date": 1506499833, "question_id": 46442136, "link": "https://stackoverflow.com/questions/46442136/instantiating-class-in-typescript-giving-argument-of-type-is-not-assignable-to", "title": "Instantiating class in TypeScript giving &quot;Argument of type is not assignable to a parameter of type&quot;", "body": "<p>Below is my class -</p>\n\n<pre><code>export interface RaiseIncidentWidgetItem {\n\n    Link: string;\n    ImagePath: string;\n}\n\nexport interface RaiseIncidentWidgetConfig {\n\n    View?: string;\n    SiteUrl : string;\n    ListTitle : string;\n}\n\nexport class RaiseIncidentWidget implements IWidget {\n\n    constructor(public config: RaiseIncidentWidgetConfig) {\n\n    }\n}\n</code></pre>\n\n<p>I am using below code to instantiate my class object -</p>\n\n<pre><code>const config: RaiseIncidentWidgetConfig[] = new Array();\n\nconfig.push({\n\n        View : '',\n        SiteUrl : '',\n        ListTitle : '',\n\n    });\n\nconst obj = new RaiseIncidentWidget(**config**);\n</code></pre>\n\n<p>When I instantiate the class, It is giving me error that </p>\n\n<blockquote>\n  <p>\"Argument of type 'RaiseIncidentWidgetConfig[]' is not assignable to a\n  parameter of type 'RaiseIncidentWidgetConfig'.\"</p>\n</blockquote>\n"}, {"tags": ["angular", "typescript", "web-applications", "angular2-services", "preload"], "comments": [{"owner": {"reputation": 1673, "user_id": 891041, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/badd4b9f754c5a3e5142eb187ae3f928?s=128&d=identicon&r=PG", "display_name": "Zuriel", "link": "https://stackoverflow.com/users/891041/zuriel"}, "edited": false, "score": 0, "creation_date": 1512835434, "post_id": 46440530, "comment_id": 82421365, "body": "take a look at angular2-resource-preloader"}], "answers": [{"comments": [{"owner": {"reputation": 957, "user_id": 2100994, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/S6Dre.jpg?s=128&g=1", "display_name": "Stef Geysels", "link": "https://stackoverflow.com/users/2100994/stef-geysels"}, "edited": false, "score": 0, "creation_date": 1520328299, "post_id": 46442403, "comment_id": 85259223, "body": "The link seems to be broken."}, {"owner": {"reputation": 10410, "user_id": 87056, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/LYg63.jpg?s=128&g=1", "display_name": "Yakov Fain", "link": "https://stackoverflow.com/users/87056/yakov-fain"}, "reply_to_user": {"reputation": 957, "user_id": 2100994, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/S6Dre.jpg?s=128&g=1", "display_name": "Stef Geysels", "link": "https://stackoverflow.com/users/2100994/stef-geysels"}, "edited": false, "score": 0, "creation_date": 1520339263, "post_id": 46442403, "comment_id": 85266132, "body": "Here&#39;s an updated one: <a href=\"https://github.com/Farata/angulartypescript/tree/master/code-samples/chapter4/router-advanced-samples/src/app/resolver\" rel=\"nofollow noreferrer\">github.com/Farata/angulartypescript/tree/master/code-samples&zwnj;&#8203;/&hellip;</a>"}, {"owner": {"reputation": 4550, "user_id": 194653, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/d75c8156a7b7a93af066fd4cf6642b3a?s=128&d=identicon&r=PG", "display_name": "Chris Weber", "link": "https://stackoverflow.com/users/194653/chris-weber"}, "edited": false, "score": 0, "creation_date": 1537368113, "post_id": 46442403, "comment_id": 91760598, "body": "The link is broken again. For the love of Tim Berners-Lee just post the relevant code here."}, {"owner": {"reputation": 10410, "user_id": 87056, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/LYg63.jpg?s=128&g=1", "display_name": "Yakov Fain", "link": "https://stackoverflow.com/users/87056/yakov-fain"}, "edited": false, "score": 0, "creation_date": 1537467582, "post_id": 46442403, "comment_id": 91805707, "body": "Now there are two sets of code samples. The Angular6 version of this one is here: <a href=\"https://github.com/Farata/angulartypescript/tree/master/code-samples/Angular6/chapter4/router-advanced-samples/src/app/resolver\" rel=\"nofollow noreferrer\">github.com/Farata/angulartypescript/tree/master/code-samples&zwnj;&#8203;/&hellip;</a> If you really love Tim Berners-Lee, you&#39;ll figure out the link for the Angular 5 version :)"}], "tags": [], "owner": {"reputation": 10410, "user_id": 87056, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/LYg63.jpg?s=128&g=1", "display_name": "Yakov Fain", "link": "https://stackoverflow.com/users/87056/yakov-fain"}, "is_accepted": false, "score": -1, "last_activity_date": 1506499015, "creation_date": 1506499015, "answer_id": 46442403, "question_id": 46440530, "link": "https://stackoverflow.com/questions/46440530/how-can-i-cache-preload-all-images-of-a-angular2-webapp/46442403#46442403", "title": "How can i cache/preload all images of a Angular2 webapp?", "body": "<p>I didn't do it with images, but I'd try adding a Resolve guard to your home (default) route. Here's an example where I preload a large 45MB JSON file using the resolver <a href=\"https://github.com/Farata/angulartypescript/tree/master/chapter3/router-samples/src/app/resolver\" rel=\"nofollow noreferrer\">https://github.com/Farata/angulartypescript/tree/master/chapter3/router-samples/src/app/resolver</a> </p>\n\n<p>In that app I use Angular Material <code>&lt;md-progress-bar&gt;</code> bar to show the progress.</p>\n"}], "owner": {"reputation": 54, "user_id": 3392422, "user_type": "registered", "profile_image": "https://graph.facebook.com/100001826358569/picture?type=large", "display_name": "Jaime Sendra Domenech", "link": "https://stackoverflow.com/users/3392422/jaime-sendra-domenech"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1101, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1506499015, "creation_date": 1506492214, "question_id": 46440530, "link": "https://stackoverflow.com/questions/46440530/how-can-i-cache-preload-all-images-of-a-angular2-webapp", "title": "How can i cache/preload all images of a Angular2 webapp?", "body": "<p>i am developing a webapp and it is almost finished. The problem is that there are a lot of images at the assets folder and when i am navigating the screen sometimes blinks changing the webapp background images.</p>\n\n<p>Is it possible to preload all the resources or cache them in the browser in order to make the navigation smoother? Also,can i get feedback of the preload process in order to show a \"loading\" animation?</p>\n\n<p>Thank you very much!</p>\n"}, {"tags": ["angular", "typescript", "ngfor"], "comments": [{"owner": {"reputation": 16077, "user_id": 2708210, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/EU2af.jpg?s=128&g=1", "display_name": "Rahul Singh", "link": "https://stackoverflow.com/users/2708210/rahul-singh"}, "edited": false, "score": 0, "creation_date": 1506502218, "post_id": 46440484, "comment_id": 79842725, "body": "why not just use the <code>.length</code> property of array"}, {"owner": {"reputation": 946, "user_id": 6293954, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/3iX4V.jpg?s=128&g=1", "display_name": "Lasitha", "link": "https://stackoverflow.com/users/6293954/lasitha"}, "reply_to_user": {"reputation": 16077, "user_id": 2708210, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/EU2af.jpg?s=128&g=1", "display_name": "Rahul Singh", "link": "https://stackoverflow.com/users/2708210/rahul-singh"}, "edited": false, "score": 0, "creation_date": 1506505964, "post_id": 46440484, "comment_id": 79845263, "body": "@RahulSingh I want to get the length of  this <b>fiitered</b> array <code>*ngFor=&quot;let option of trip.rows | subDepArrTime: i:selectedDepTime[i]:selectedArrTime[i]; let j=index;&quot;</code> <b>from the outside</b> of that loop. It&#39;s inside another loop so it&#39;s dynamic as well."}, {"owner": {"reputation": 615, "user_id": 2514731, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/fac64eadf567c70c7206bcf7d95bbaa5?s=128&d=identicon&r=PG", "display_name": "beginerdeveloper", "link": "https://stackoverflow.com/users/2514731/beginerdeveloper"}, "edited": false, "score": 0, "creation_date": 1515065106, "post_id": 46440484, "comment_id": 83162876, "body": "did you resolve the problem"}, {"owner": {"reputation": 946, "user_id": 6293954, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/3iX4V.jpg?s=128&g=1", "display_name": "Lasitha", "link": "https://stackoverflow.com/users/6293954/lasitha"}, "reply_to_user": {"reputation": 615, "user_id": 2514731, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/fac64eadf567c70c7206bcf7d95bbaa5?s=128&d=identicon&r=PG", "display_name": "beginerdeveloper", "link": "https://stackoverflow.com/users/2514731/beginerdeveloper"}, "edited": false, "score": 1, "creation_date": 1515499297, "post_id": 46440484, "comment_id": 83314586, "body": "@beginerdeveloper Had to place it inside the loop and got the filtered array like <code>*ngFor=&quot;let option of trip.rows | subDepArrTime: i:selectedDepTime[i]:selectedArrTime[i] as trips; let j=index;&quot;</code>"}], "owner": {"reputation": 946, "user_id": 6293954, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/3iX4V.jpg?s=128&g=1", "display_name": "Lasitha", "link": "https://stackoverflow.com/users/6293954/lasitha"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 409, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1506492017, "creation_date": 1506492017, "question_id": 46440484, "link": "https://stackoverflow.com/questions/46440484/get-the-count-of-nested-ngfor-loop-filtered-array-from-outside-the-loop", "title": "Get the count of nested *ngFor loop filtered array from outside the loop", "body": "<p>Currently I have used @ViewChildren decorator. But it seems it's not helping. </p>\n\n<pre><code>&lt;div class=\"\" *ngFor=\"let trip of flight.main.flightData.rows; let i = index; trackById\" [attr.data-index]=\"i\" &gt;\n        ........\n        &lt;div class=\"clearfix dateatime more-option\" *ngFor=\"let option of trip.rows | subDepArrTime: i:selectedDepTime[i]:selectedArrTime[i]; let j=index;\" [class.hidden]=\"!hideMe[x][i] &amp;&amp; j &gt; 0\" #filtered[i]&gt;\n          ......\n        &lt;/div&gt;\n\n        &lt;div class=\"clearfix more\"&gt;\n          &lt;div class=\"col-md-12 col-lg-12\" *ngIf=\"filteredItems[i]?.length - 1 !== 0\" (click)=\"hideMe[x][i]=!hideMe[x][i]\"&gt;&lt;span&gt;+ {{filteredItems[i]?.length - 1}} more timing option(s)&lt;/span&gt;&lt;/div&gt;\n        &lt;/div&gt;\n\n\n      &lt;/div&gt;\n</code></pre>\n"}, {"tags": ["angular", "typescript"], "comments": [{"owner": {"reputation": 159902, "user_id": 3297613, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/KHhzd.jpg?s=128&g=1", "display_name": "Avinash Raj", "link": "https://stackoverflow.com/users/3297613/avinash-raj"}, "edited": false, "score": 0, "creation_date": 1506491712, "post_id": 46440397, "comment_id": 79836961, "body": "replace last two lines of code with <code>return this.skill.join(&#39;,&#39;);</code>"}], "answers": [{"tags": [], "owner": {"reputation": 1170, "user_id": 4791970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fdd85a8147e106ce73cd351d2c063e0e?s=128&d=identicon&r=PG", "display_name": "prabushitha", "link": "https://stackoverflow.com/users/4791970/prabushitha"}, "is_accepted": false, "score": 1, "last_activity_date": 1506492203, "last_edit_date": 1506492203, "creation_date": 1506491831, "answer_id": 46440444, "question_id": 46440397, "link": "https://stackoverflow.com/questions/46440397/append-string-to-the-current-string/46440444#46440444", "title": "append string to the current string", "body": "<p>Remove <code>this.skill.push(',');</code> and use <code>this.skill.join();</code> when you want the string</p>\n\n<pre><code>addskill(item){\n    this.skill.push(item.name);\n    console.log(this.skill.join())\n   }\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 494, "user_id": 6909517, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b765611d68ae57c7c4b1b8677b4715ed?s=128&d=identicon&r=PG&f=1", "display_name": "Isuranga Perera", "link": "https://stackoverflow.com/users/6909517/isuranga-perera"}, "is_accepted": true, "score": 1, "last_activity_date": 1506492064, "creation_date": 1506492064, "answer_id": 46440495, "question_id": 46440397, "link": "https://stackoverflow.com/questions/46440397/append-string-to-the-current-string/46440495#46440495", "title": "append string to the current string", "body": "<p>You can use join function</p>\n\n<pre><code>addskill(item){\n    this.skill.push(item.name);\n    console.log(this.skill.join())\n}\n</code></pre>\n"}], "owner": {"reputation": 553, "user_id": 6579788, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/wLit8.jpg?s=128&g=1", "display_name": "Ajith", "link": "https://stackoverflow.com/users/6579788/ajith"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 57, "favorite_count": 0, "accepted_answer_id": 46440495, "answer_count": 2, "score": -1, "last_activity_date": 1506492203, "creation_date": 1506491559, "question_id": 46440397, "link": "https://stackoverflow.com/questions/46440397/append-string-to-the-current-string", "title": "append string to the current string", "body": "<p>I want to create a single string ,for each addskill() the content should be append to the current string and it should be seperated with commas. </p>\n\n<p><strong>skill.ts</strong></p>\n\n<pre><code>addskill(item){\n    this.skill.push(item.name);\n    this.skill.push(',');\n    console.log(this.skill)\n   }\n</code></pre>\n\n<p>The current code will give an object array,I need a single string.</p>\n"}, {"tags": ["image", "angular", "typescript", "npm"], "comments": [{"owner": {"reputation": 630270, "user_id": 571407, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2f0d9dec16bae1e06552af55ddefc11f?s=128&d=identicon&r=PG", "display_name": "JB Nizet", "link": "https://stackoverflow.com/users/571407/jb-nizet"}, "edited": false, "score": 0, "creation_date": 1506492497, "post_id": 46440296, "comment_id": 79837299, "body": "35 KB is still very small. But I&#39;ve never seen anyone nor any camera use PNG for pictures anyway. You can just safely accept JPEG images only, and nobody will be annoyed."}, {"owner": {"reputation": 616, "user_id": 6201073, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/ZnwHr.jpg?s=128&g=1", "display_name": "Ethan Harlig", "link": "https://stackoverflow.com/users/6201073/ethan-harlig"}, "reply_to_user": {"reputation": 630270, "user_id": 571407, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2f0d9dec16bae1e06552af55ddefc11f?s=128&d=identicon&r=PG", "display_name": "JB Nizet", "link": "https://stackoverflow.com/users/571407/jb-nizet"}, "edited": false, "score": 0, "creation_date": 1506492614, "post_id": 46440296, "comment_id": 79837350, "body": "@JBNizet I still want my users to be able to upload images that they might find from online as other file extensions. If it really is a rarity, I can reconsider but I thought that PNG is a pretty common format."}, {"owner": {"reputation": 630270, "user_id": 571407, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2f0d9dec16bae1e06552af55ddefc11f?s=128&d=identicon&r=PG", "display_name": "JB Nizet", "link": "https://stackoverflow.com/users/571407/jb-nizet"}, "edited": false, "score": 0, "creation_date": 1506492832, "post_id": 46440296, "comment_id": 79837441, "body": "It&#39;s a common format for icons like avatar icons. But not for pictures. And encoding PNG icons in JPG won&#39;t help, because PNG is a better format for such images."}], "answers": [{"tags": [], "owner": {"reputation": 1439, "user_id": 8547541, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8bb2970e1c5803b2868bfd31b32068a7?s=128&d=identicon&r=PG&f=1", "display_name": "kite.js.org", "link": "https://stackoverflow.com/users/8547541/kite-js-org"}, "is_accepted": true, "score": 1, "last_activity_date": 1506521919, "last_edit_date": 1506521919, "creation_date": 1506492470, "answer_id": 46440584, "question_id": 46440296, "link": "https://stackoverflow.com/questions/46440296/converting-image-to-jpg-angular-4/46440584#46440584", "title": "Converting image to jpg Angular 4", "body": "<p>I just wrote some code like your requirements, here is what I did:</p>\n\n<ol>\n<li>load a local image by <a href=\"https://developer.mozilla.org/en-US/docs/Web/API/FileReader\" rel=\"nofollow noreferrer\">FileReader</a> and add a listener to its <code>onload</code> event</li>\n<li>in the <code>onload</code> listener, create an \"Image\" object by <code>new Image()</code>, and set \"src\" attribute by the loaded image \"src\" (Data URL format)</li>\n<li>create a \"Canvas\" element, and draw the image on this canvas</li>\n<li>use <a href=\"https://developer.mozilla.org/en-US/docs/Web/API/HTMLCanvasElement/toDataURL\" rel=\"nofollow noreferrer\">Canvas.toDataURL()</a> to fetch the converted image data (in base64)</li>\n<li>post the image data to server</li>\n</ol>\n\n<p>After you draw an image to canvas, call <code>Canvas.toDataURL()</code> will get the canvas content in <a href=\"https://developer.mozilla.org/zh-CN/docs/Web/HTTP/data_URIs\" rel=\"nofollow noreferrer\">Data URL</a> string, please note that it's the canvas data not original image data, for example, if image size is 100 x 100 and canvas size is 50 x 50, you'll get an image in 50 x 50 pixel with this function, so if you want a full size image, you need to resize the canvas to the certain size.</p>\n\n<p>this function has two parameters:</p>\n\n<blockquote>\n  <p>canvas.toDataURL(type, encoderOptions);</p>\n</blockquote>\n\n<ul>\n<li>type - A DOMString indicating the image format. The default format type is image/png. in your code, <strong>set to \"image/jpeg\" in your case</strong></li>\n<li>encoderOptions - A Number between 0 and 1 indicating image quality if the requested type is image/jpeg or image/webp.</li>\n</ul>\n\n<p>Here is my \"preview and upload\" function write in TypesScript for reference: </p>\n\n<pre><code>preview(input: HTMLInputElement) {\n        if (input.files.length) {\n            let reader = new FileReader();\n            reader.onload = (e) =&gt; {\n                if (!this.img) {\n                    this.img = new Image();\n                }\n\n                this.img.src = (e.target as any).result;\n                this.img.onload = () =&gt; {\n                    // omit code of setting 'dx', 'dy', 'width', 'height'\n                    let ctx = &lt;CanvasRenderingContext2D&gt;this.canvas.nativeElement.getContext('2d');\n                    ctx.drawImage(this.img, dx, dy, width, height);\n\n                    let dataUrl = (&lt;HTMLCanvasElement&gt;this.canvas.nativeElement).toDataURL('image/jpeg', 0.7);\n                    this.uploadService.upload(dataUrl).then((resp: any) =&gt; {\n                        if (resp.key) {\n                            this.asset.image = resp.key;\n                        }\n                    });\n                };\n            }\n\n            reader.readAsDataURL(input.files[0]);\n        }\n    }\n</code></pre>\n\n<p>I omitted some variables: <code>dx, dx, width, height</code> in the above code, I use these variables to adjust image position (for clipping purpose). </p>\n\n<p>This is JavaScript example:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>function _elm(id) {\r\n  return document.getElementById(id);\r\n}\r\n\r\n_elm('fileInput').onchange= function(event) {\r\n  if (event.target.files.length) {\r\n    var fileReader = new FileReader();\r\n    fileReader.onload = function(event) {\r\n      var img = new Image();\r\n      img.src = event.target.result;\r\n      _elm('sizeRaw').innerText = '+ data-url size ' + event.target.result.length;\r\n      img.onload = function() {\r\n        var canvas = _elm('canvas');\r\n        var context = canvas.getContext('2d');\r\n        context.drawImage(img, 0, 0, 200, 200);\r\n        var dataUrl = canvas.toDataURL('image/jpeg', 0.5);\r\n        _elm('output').innerText = dataUrl;\r\n        _elm('sizeNew').innerText = '+ data-url size ' + dataUrl.length;\r\n      }\r\n    };\r\n    fileReader.readAsDataURL(event.target.files[0]);\r\n  }\r\n};</code></pre>\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>#canvas {\r\n  border: 1px solid blue;\r\n}\r\n\r\n#output {\r\n  word-break: break-all;\r\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;h3&gt;Input file &lt;span id=\"sizeRaw\"&gt;&lt;/span&gt;: &lt;/h3&gt;\r\n&lt;input id=\"fileInput\" type=\"file\" accept=\"image/*\"&gt;\r\n&lt;h3&gt;Canvas&lt;/h3&gt;\r\n&lt;div&gt;\r\n&lt;canvas id=\"canvas\" width=\"200\" height=\"200\"&gt;&lt;/canvas&gt;\r\n&lt;/div&gt;\r\n&lt;h3&gt;Output &lt;span id=\"sizeNew\"&gt;&lt;/span&gt;: &lt;/h3&gt;\r\n&lt;div id=\"output\"&gt;\r\n&lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 616, "user_id": 6201073, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/ZnwHr.jpg?s=128&g=1", "display_name": "Ethan Harlig", "link": "https://stackoverflow.com/users/6201073/ethan-harlig"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 5373, "favorite_count": 0, "accepted_answer_id": 46440584, "answer_count": 1, "score": 3, "last_activity_date": 1506521919, "creation_date": 1506491112, "question_id": 46440296, "link": "https://stackoverflow.com/questions/46440296/converting-image-to-jpg-angular-4", "title": "Converting image to jpg Angular 4", "body": "<p>I am using Angular 4 with TypeScript for a web application. I am allowing users to upload a thumbnail profile photo from their device as either a png, jpeg, or jpg, and I want to convert that photo to a jpg on the frontend. I am looking for some way to do this, as the file type is readonly.</p>\n\n<p>The reason that I am doing this is so that when users load the profile page, they don't have to download large images so the page is quick. I think that converting to a jpg might be the best bet because when tested with a sample image, a png of an image was 35.4KB while a converted jpg of the same image was 6.7KB. If there is a better solution, I would love to hear it!</p>\n\n<p>Thank you in advance!</p>\n"}, {"tags": ["angular", "typescript", "asp.net-web-api2"], "comments": [{"owner": {"reputation": 15262, "user_id": 2131286, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/9f0db34a996e06c4e4cd149fec17688d?s=128&d=identicon&r=PG", "display_name": "Lazar Ljubenovi\u0107", "link": "https://stackoverflow.com/users/2131286/lazar-ljubenovi%c4%87"}, "edited": false, "score": 0, "creation_date": 1506490377, "post_id": 46440104, "comment_id": 79836495, "body": "How do you check that your data is empty after sucessful response from server?"}, {"owner": {"reputation": 291, "user_id": 8680456, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/lu3Sd.jpg?s=128&g=1", "display_name": "Prasad Kaiche", "link": "https://stackoverflow.com/users/8680456/prasad-kaiche"}, "reply_to_user": {"reputation": 15262, "user_id": 2131286, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/9f0db34a996e06c4e4cd149fec17688d?s=128&d=identicon&r=PG", "display_name": "Lazar Ljubenovi\u0107", "link": "https://stackoverflow.com/users/2131286/lazar-ljubenovi%c4%87"}, "edited": false, "score": 0, "creation_date": 1506498618, "post_id": 46440104, "comment_id": 79840552, "body": "In service subscribe, I am getting array of Lat Lng in <b>value</b>. But this <b>value</b> array is not assigned to <b>this.coordinates</b>."}, {"owner": {"reputation": 15262, "user_id": 2131286, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/9f0db34a996e06c4e4cd149fec17688d?s=128&d=identicon&r=PG", "display_name": "Lazar Ljubenovi\u0107", "link": "https://stackoverflow.com/users/2131286/lazar-ljubenovi%c4%87"}, "edited": false, "score": 0, "creation_date": 1506498950, "post_id": 46440104, "comment_id": 79840752, "body": "It is assigned if you&#39;ve assigned it. The problem is that you&#39;re probably trying to use it before callback inside .subscribe is executed. Read about asynchronous nature of JavaScript."}, {"owner": {"reputation": 291, "user_id": 8680456, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/lu3Sd.jpg?s=128&g=1", "display_name": "Prasad Kaiche", "link": "https://stackoverflow.com/users/8680456/prasad-kaiche"}, "reply_to_user": {"reputation": 15262, "user_id": 2131286, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/9f0db34a996e06c4e4cd149fec17688d?s=128&d=identicon&r=PG", "display_name": "Lazar Ljubenovi\u0107", "link": "https://stackoverflow.com/users/2131286/lazar-ljubenovi%c4%87"}, "edited": false, "score": 0, "creation_date": 1507615729, "post_id": 46440104, "comment_id": 80267860, "body": "Yes i am trying to use it in ngOnInit() but the value is received after component is rendered. I have updated the code above. Can you guide me on this."}, {"owner": {"reputation": 291, "user_id": 8680456, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/lu3Sd.jpg?s=128&g=1", "display_name": "Prasad Kaiche", "link": "https://stackoverflow.com/users/8680456/prasad-kaiche"}, "reply_to_user": {"reputation": 15262, "user_id": 2131286, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/9f0db34a996e06c4e4cd149fec17688d?s=128&d=identicon&r=PG", "display_name": "Lazar Ljubenovi\u0107", "link": "https://stackoverflow.com/users/2131286/lazar-ljubenovi%c4%87"}, "edited": false, "score": 0, "creation_date": 1507627687, "post_id": 46440104, "comment_id": 80274629, "body": "@G&#252;nterZ&#246;chbauer Can you help me on this???"}, {"owner": {"reputation": 15262, "user_id": 2131286, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/9f0db34a996e06c4e4cd149fec17688d?s=128&d=identicon&r=PG", "display_name": "Lazar Ljubenovi\u0107", "link": "https://stackoverflow.com/users/2131286/lazar-ljubenovi%c4%87"}, "edited": false, "score": 0, "creation_date": 1507654339, "post_id": 46440104, "comment_id": 80292398, "body": "Please create a live reproduction."}], "owner": {"reputation": 291, "user_id": 8680456, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/lu3Sd.jpg?s=128&g=1", "display_name": "Prasad Kaiche", "link": "https://stackoverflow.com/users/8680456/prasad-kaiche"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 393, "favorite_count": 1, "answer_count": 0, "score": 0, "last_activity_date": 1507615587, "creation_date": 1506490092, "last_edit_date": 1507615587, "question_id": 46440104, "link": "https://stackoverflow.com/questions/46440104/angular-2-google-maps-plot-polyline-by-fetching-lat-lng-from-web-api", "title": "Angular 2 Google Maps plot Polyline by fetching lat lng from Web API", "body": "<p>I am using Angular 2 Google Maps. I have issues plotting PolyLine on google maps by getting Lat Lng data from SQL Server in JSON format using WEB API. Data received from POSTMAN is correct &amp; as below:</p>\n\n<pre><code>[{\"Lat\":18.587100,\"Lng\":73.790179},{\"Lat\":18.587629,\"Lng\":73.787883},{\"Lat\":18.588219,\"Lng\":73.784922},{\"Lat\":18.588542,\"Lng\":73.781277},{\"Lat\":18.588617,\"Lng\":73.779075},{\"Lat\":18.588922,\"Lng\":73.777101},{\"Lat\":18.589430,\"Lng\":73.777637},{\"Lat\":18.590361,\"Lng\":73.779418}]\n</code></pre>\n\n<p><strong>I am getting response in this.coordinates but after complete execution of ngOnInit(). I also tried setTimeout() but of no help</strong>. I get the map displayed but without PolyLine. Below is the code:</p>\n\n<blockquote>\n  <p>maps.component.html</p>\n</blockquote>\n\n<pre><code>&lt;div id=\"map\"&gt;&lt;/div&gt;\n</code></pre>\n\n<blockquote>\n  <p>maps.component.ts</p>\n</blockquote>\n\n<pre><code>public coordinates: ICoordinates[] = [];\nprivate errorMessage: any = '';\n\n  constructor( private _getMapDataService : GetMapDataService) { \n    this.getCoordinates().subscribe(_ =&gt; {;\n      setTimeout(() =&gt; {\n      console.log('Coordinates in ngOnInit -&gt; ' + this.coordinates)\n      }\n    ,10000)      \n    })\n   }\n\n  getCoordinates(){\n    return this._getMapDataService.getCoordinatesData()\n    .map(\n      (coordinates) =&gt; {            \n        console.log('Coordinates in method (1) -&gt; ' + coordinates);\n        this.coordinates = coordinates;\n        console.log('Coordinates in Method (2) -&gt; ' + this.coordinates);        \n      },\n      error =&gt; this.errorMessage = &lt;any&gt;error\n    );\n  }\n\n  ngOnInit() {\n      const myLatlng = new google.maps.LatLng(this._getMapDataService.getLatData(), this._getMapDataService.getLngData());\n      const mapOptions = {\n          zoom: 15,\n          center: myLatlng,\n          scrollwheel: false, // we disable de scroll over the map, it is a really annoing when you scroll through page\n          styles: [\n              {'featureType': 'water', 'stylers': [{'saturation': 43}, {'lightness': -11}, {'hue': '#0088ff'}]},\n              {'featureType': 'road', 'elementType': 'geometry.fill', 'stylers': [{'hue': '#ff0000'},\n              {'saturation': -100}, {'lightness': 99}]},\n              {'featureType': 'road', 'elementType': 'geometry.stroke', 'stylers': [{'color': '#808080'},\n              {'lightness': 54}]},\n              {'featureType': 'landscape.man_made', 'elementType': 'geometry.fill', 'stylers': [{'color': '#ece2d9'}]},\n              {'featureType': 'poi.park', 'elementType': 'geometry.fill', 'stylers': [{'color': '#ccdca1'}]},\n              {'featureType': 'road', 'elementType': 'labels.text.fill', 'stylers': [{'color': '#767676'}]},\n              {'featureType': 'road', 'elementType': 'labels.text.stroke', 'stylers': [{'color': '#ffffff'}]},\n              {'featureType': 'poi', 'stylers': [{'visibility': 'off'}]},\n              {'featureType': 'landscape.natural', 'elementType': 'geometry.fill', 'stylers': [{'visibility': 'on'},\n              {'color': '#b8cb93'}]},\n              {'featureType': 'poi.park', 'stylers': [{'visibility': 'on'}]},\n              {'featureType': 'poi.sports_complex', 'stylers': [{'visibility': 'on'}]},\n              {'featureType': 'poi.medical', 'stylers': [{'visibility': 'on'}]},\n              {'featureType': 'poi.business', 'stylers': [{'visibility': 'simplified'}]}\n          ]\n      };\n      const map = new google.maps.Map(document.getElementById('map'), mapOptions);\n\n      var business_locations = new google.maps.Polyline({\n        path: this.coordinates, // Here this.coordinates is undefined\n        geodesic: true,\n        strokeColor: '#FF0000',\n        strokeOpacity: 1.0,\n        strokeWeight: 4\n      });\n\n      business_locations.setMap(map);\n  }\n</code></pre>\n\n<blockquote>\n  <p>coordinates.cs</p>\n</blockquote>\n\n<pre><code>export interface ICoordinates {\n    Lat: number,\n    Lng: number\n}\n</code></pre>\n\n<blockquote>\n  <p>GetMapDataService</p>\n</blockquote>\n\n<pre><code>getCoordinatesData(): Observable&lt;ICoordinates[]&gt; {     \nreturn this._http.get(this.url)\n           .map(this.extractData)\n           .catch(this.handleError);\n}\n\nprivate extractData(res: Response){\n    let body = res.json(); // Here response is received after complete execution of ngOnInit()\n    return body || [];\n  }\n\n  private handleError(error: any){\n    let errMsg = (error.message) ? error.message :\n                 error.status ? '${ error.status } - ${ error.statusText }' : 'Server Error';\n    console.error(errMsg);\n    return Observable.throw(errMsg);\n  }\n</code></pre>\n\n<p>I am getting Lat Lng data in <strong>GetMapDataService</strong> but I am not able to get it in <strong>coordinates</strong> variable.</p>\n\n<p>I think this problem is related to async rendering. I found <a href=\"https://stackoverflow.com/questions/37230545/angular2-oninit-values-returned-from-service-subscribe-function-does-not-ge\">this solution</a> on Stack Overflow itself which is related to my issue. I am getting value in this.coordinates but the page is rendered before. </p>\n\n<p>Can anyone help me with this. Any help is deeply appreciated.</p>\n"}, {"tags": ["typescript", "ionic-framework"], "answers": [{"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user8030578"}, "edited": false, "score": 0, "creation_date": 1507527839, "post_id": 46440074, "comment_id": 80228095, "body": "working on angular 4 with typescript,so this doesn&#39;t help,thanks anyway :)"}], "tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user3955928"}, "is_accepted": false, "score": 0, "last_activity_date": 1506489960, "creation_date": 1506489960, "answer_id": 46440074, "question_id": 46440012, "link": "https://stackoverflow.com/questions/46440012/how-to-clear-an-input-field-in-ionic-v3-using-typescript/46440074#46440074", "title": "How to clear an input field in ionic v3 using typescript", "body": "<p>check this</p>\n\n<pre><code> &lt;ion-view title=\"Standard\"&gt;\n  &lt;ion-content class=\"has-header\" ng-controller=\"calcCtrl\"&gt;\n    &lt;form id=\"calcForm\" name=\"calcForm\" ng-submit=\"submitData(calculate)\"&gt;\n      &lt;label class=\"item-input\"&gt;\n        &lt;span class=\"input-label\"&gt;Price&lt;/span&gt;\n        &lt;input class=\"input-label\" type=\"text\" placeholder=\"$0.00\" ng-model=\"calculate.price\"&gt;\n      &lt;/label&gt;\n\n      &lt;label class=\"item-input \"&gt;\n        &lt;span class=\"input-label\"&gt;Discount&lt;/span&gt;\n        &lt;input class=\"input-label\" type=\"text\" placeholder=\"$0.00\" ng-model=\"calculate.discount\"&gt;\n      &lt;/label&gt;\n    &lt;/form&gt;\n  &lt;/ion-content&gt;\n\n  &lt;ion-footer-bar class=\"bar-stable\"&gt;\n    &lt;div class=\"buttons pull-right\"&gt;\n      &lt;button class=\"button button-positive\" ng-click=\"resetForm()\"&gt;Clear&lt;/a&gt;\n    &lt;/div&gt;\n  &lt;/ion-footer-bar&gt;\n&lt;/ion-view&gt;\n\n\n\n\n\n\n  $scope.clearFields = function() {\n$scope.calculate = angular.copy(calcForm);\n$scope.calcForm.$setPristine();\n}\n</code></pre>\n\n<p><a href=\"https://forum.ionicframework.com/t/clear-button-to-clear-all-fields/12190/2\" rel=\"nofollow noreferrer\">Check this</a></p>\n"}, {"comments": [{"owner": {"reputation": 188, "user_id": 3095695, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/ad4d7dffe1c2573a5543f18392461dcf?s=128&d=identicon&r=PG&f=1", "display_name": "Aros", "link": "https://stackoverflow.com/users/3095695/aros"}, "edited": false, "score": 0, "creation_date": 1540305594, "post_id": 46525889, "comment_id": 92811408, "body": "Exactly, how do you do this for number field? I can set the linked variable to zero but what if I don&#39;t want the zero to be displayed? What if I just want to clear the input field to the initial (empty) state? I mean when running in browser you can also assign the number to &#39;&#39; but that won&#39;t work when you try to compile the typescript for Android..."}], "tags": [], "owner": {"reputation": 100, "user_id": 2948105, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6b4c7b39645a15535dd78739afc57ec9?s=128&d=identicon&r=PG&f=1", "display_name": "Eric Ong", "link": "https://stackoverflow.com/users/2948105/eric-ong"}, "is_accepted": true, "score": 2, "last_activity_date": 1506948842, "creation_date": 1506948842, "answer_id": 46525889, "question_id": 46440012, "link": "https://stackoverflow.com/questions/46440012/how-to-clear-an-input-field-in-ionic-v3-using-typescript/46525889#46525889", "title": "How to clear an input field in ionic v3 using typescript", "body": "<blockquote>\n  <p>Hi, does this helps?</p>\n</blockquote>\n\n<pre><code>send(){\n    this.ref.push({\n        //key:this.ref.push().key(\"hello\"),\n        name: this.name,\n        message: this.newmessage,\n        phNo: this.data3,\n    });\n    this.newmessage = \"\"; //clear this.newmessage\n    }\n</code></pre>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user8030578"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 10512, "favorite_count": 0, "accepted_answer_id": 46525889, "answer_count": 2, "score": 2, "last_activity_date": 1526636685, "creation_date": 1506489575, "last_edit_date": 1526636685, "question_id": 46440012, "link": "https://stackoverflow.com/questions/46440012/how-to-clear-an-input-field-in-ionic-v3-using-typescript", "title": "How to clear an input field in ionic v3 using typescript", "body": "<p>So, I have an inout field, and I want to clear the text field when I click on Send, I'm not sure how to do that in typescript for ionic.</p>\n\n<p>This is my code:</p>\n\n<pre><code> &lt;ion-footer&gt;\n    &lt;ion-item&gt;\n        &lt;ion-input id=\"testId\" type=\"text\" placeholder=\"Type your Message here...\" [(ngModel)]=\"newmessage\"&gt;&lt;/ion-input&gt;\n        &lt;button ion-button clear item-right (click)=\"send()\"&gt;Send&lt;/button&gt;\n    &lt;/ion-item&gt;\n&lt;/ion-footer&gt;\n</code></pre>\n\n<p>This is my Ts file</p>\n\n<pre><code> send(){\n\n    this.ref.push({\n        //key:this.ref.push().key(\"hello\"),\n        name: this.name,\n        message: this.newmessage,\n        phNo: this.data3,\n\n\n    });\n</code></pre>\n"}, {"tags": ["angular", "typescript", "nativescript", "angular2-nativescript"], "answers": [{"comments": [{"owner": {"reputation": 9074, "user_id": 3960700, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/DM9BO.jpg?s=128&g=1", "display_name": "Steve", "link": "https://stackoverflow.com/users/3960700/steve"}, "edited": false, "score": 0, "creation_date": 1506586070, "post_id": 46450360, "comment_id": 79882792, "body": "thanks for your answer. it doesn&#39;t worked.I tested it."}, {"owner": {"reputation": 9265, "user_id": 4936697, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HXfbA.png?s=128&g=1", "display_name": "Nick Iliev", "link": "https://stackoverflow.com/users/4936697/nick-iliev"}, "reply_to_user": {"reputation": 9074, "user_id": 3960700, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/DM9BO.jpg?s=128&g=1", "display_name": "Steve", "link": "https://stackoverflow.com/users/3960700/steve"}, "edited": false, "score": 1, "creation_date": 1506595157, "post_id": 46450360, "comment_id": 79888918, "body": "I have created a test project and it works as expected on my side with the changes above - are you sure you are making the changes in the source file of the plugin? Keep in mind that in order those changes to take effect you would need to keep <code>node_modules folder</code> but delete <code>platforms</code> folder and rebuild the project"}, {"owner": {"reputation": 9074, "user_id": 3960700, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/DM9BO.jpg?s=128&g=1", "display_name": "Steve", "link": "https://stackoverflow.com/users/3960700/steve"}, "edited": false, "score": 0, "creation_date": 1506597342, "post_id": 46450360, "comment_id": 79890313, "body": "Thanks it worked as you said. I removed platforms and add it again."}], "tags": [], "owner": {"reputation": 9265, "user_id": 4936697, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HXfbA.png?s=128&g=1", "display_name": "Nick Iliev", "link": "https://stackoverflow.com/users/4936697/nick-iliev"}, "is_accepted": true, "score": 2, "last_activity_date": 1506522088, "creation_date": 1506522088, "answer_id": 46450360, "question_id": 46439867, "link": "https://stackoverflow.com/questions/46439867/cannot-read-property-getpackagemanager-of-undefined-in-angular2-nativescript/46450360#46450360", "title": "Cannot read property getPackageManager of undefined in angular2 nativescript", "body": "<p>The plugin seems to be incompatible with an Angular project but there is an easy fix to make it work. In order to do that you will need to directly modify the source code of the plugin. Either clone the repo and apply the change below and then <code>npm pack</code> to produce newly modified <strong>tgz</strong> file or install the plugin and directly modify the code in <code>node_modules/nativescript-applist/Apps.android.js</code> (this is not the good approach as all changes will be removed when you delete node_modules folder)</p>\n\n<p>To make the plugin work in Angular do the follwing\n- open <code>node_modules/nativescript-applist/Apps.android.js</code>\n- move the first two lazily loaded properties inside the method</p>\n\n<p>e.g. before</p>\n\n<pre><code>var androidApp = app.android;\nvar androidAppCtx = androidApp.context;\n\nfunction getInstalledListOfApps(callback, cfg) {\n    // more code follows here\n</code></pre>\n\n<p>after</p>\n\n<pre><code>function getInstalledListOfApps(callback, cfg) {\n    var androidApp = app.android;\n    var androidAppCtx = androidApp.context;\n\n    // more code follows here\n</code></pre>\n\n<p>And you are good to go!</p>\n"}], "owner": {"reputation": 9074, "user_id": 3960700, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/DM9BO.jpg?s=128&g=1", "display_name": "Steve", "link": "https://stackoverflow.com/users/3960700/steve"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 280, "favorite_count": 0, "accepted_answer_id": 46450360, "answer_count": 1, "score": 0, "last_activity_date": 1506522088, "creation_date": 1506488767, "question_id": 46439867, "link": "https://stackoverflow.com/questions/46439867/cannot-read-property-getpackagemanager-of-undefined-in-angular2-nativescript", "title": "Cannot read property getPackageManager of undefined in angular2 nativescript", "body": "<p>I referred this <a href=\"https://www.npmjs.com/package/nativescript-applist\" rel=\"nofollow noreferrer\">nativescript-appList Plugin</a>. I'm getting this runtime error Cannot read property <code>getPackageManager</code> of undefined.</p>\n\n<p>I'm running this below code inside constructor in angular2-nativescript</p>\n\n<pre><code>import * as AppList from \"nativescript-applist\";\n\n // inside the constructor\n\n console.log(\"First\", \"Test\");\n\n    AppList.getInstalledApps(function(apps) {\n\n        console.log(\"Second\", \"Test\");\n\n        }, {\n            withIcons: true\n        });\n</code></pre>\n\n<p>In command prompt I'm unable to see this log console.log(\"Second\", \"Test\"); .I can see only this log console.log(\"First\", \"Test\"); </p>\n"}, {"tags": ["typescript", "jasmine", "protractor"], "answers": [{"comments": [{"owner": {"reputation": 11, "user_id": 8419774, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c50be58b3e5dce99051c62e6cb802a75?s=128&d=identicon&r=PG&f=1", "display_name": "Navya N", "link": "https://stackoverflow.com/users/8419774/navya-n"}, "edited": false, "score": 0, "creation_date": 1506611233, "post_id": 46461464, "comment_id": 79900002, "body": "My issue here is about accessing the &#39;firstTest.baseProductDetails.baseQty&#39; variable (expected variable should be the one that is printed in the calculateTotalPrice() of FirstTestClass) in SecondTestDetails class. I&#39;m receiving null value."}, {"owner": {"reputation": 11, "user_id": 8419774, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c50be58b3e5dce99051c62e6cb802a75?s=128&d=identicon&r=PG&f=1", "display_name": "Navya N", "link": "https://stackoverflow.com/users/8419774/navya-n"}, "edited": false, "score": 0, "creation_date": 1506612613, "post_id": 46461464, "comment_id": 79900971, "body": "Is there any other way to access it, because i&#39;m using page object model. Please advise!"}], "tags": [], "owner": {"reputation": 4741, "user_id": 6405587, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/tJdlv.jpg?s=128&g=1", "display_name": "Sudharsan Selvaraj", "link": "https://stackoverflow.com/users/6405587/sudharsan-selvaraj"}, "is_accepted": false, "score": 0, "last_activity_date": 1506575843, "creation_date": 1506575843, "answer_id": 46461464, "question_id": 46439572, "link": "https://stackoverflow.com/questions/46439572/protractor-test-returns-global-variable-as-null-when-used-within-a-different-cla/46461464#46461464", "title": "Protractor test returns global variable as null when used within a different class", "body": "<p>Since you are creating <code>firstTest</code> object inside the <code>SecondTestClass</code>, you don't have to create a duplicate object for <code>FirstTestClass</code> inside your spec. You can directly use <code>secondTest.firstTest.calculateTotalPrice()</code> inside your spec. Because <code>firstTest</code> object in your spec file and <code>firstTest</code> object in your <code>SecondTestClass</code> are under different scope here.</p>\n"}], "owner": {"reputation": 11, "user_id": 8419774, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c50be58b3e5dce99051c62e6cb802a75?s=128&d=identicon&r=PG&f=1", "display_name": "Navya N", "link": "https://stackoverflow.com/users/8419774/navya-n"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 282, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1506575843, "creation_date": 1506486809, "last_edit_date": 1506494021, "question_id": 46439572, "link": "https://stackoverflow.com/questions/46439572/protractor-test-returns-global-variable-as-null-when-used-within-a-different-cla", "title": "Protractor test returns global variable as null when used within a different class", "body": "<p>I have created a typescript class and declared a global variable and used it in the method of the same class as follows:</p>\n\n<p>First typescript class:</p>\n\n<pre><code>export class FirstTestDetails {\n    //declared a global object\n    baseProductDetails = {\n        baseQty: null,\n        basePrice: null,\n    };\n\n    //function\n    public async calculateTotalPrice() {\n        await this.txtBaseQty.getAttribute(\u2018value\u2019).then((baseQty) =&gt; {\n            this.baseProductDetails.baseQty = baseQty;\n            console.log(\u2018Base Qty ==&gt;\u2019 + baseProductDetails.baseQty);\n        }\n    }\n}\n</code></pre>\n\n<p>In the above function, the console assigns correct value to the global variable (this.baseProductDetails.baseQty). However, when I try to use the same variable in another class, it returns \u2018null\u2019 value. Please advise,</p>\n\n<p>Second typescript class:</p>\n\n<pre><code>Import {FirstTestDetails} from \u2018../pages/firsttest.page;\n\nconst firstTest = new FirstTestDetails();\nexport class SecondTestDetails {\n    //some locators\n    -- --- -----\n    //function\n    async validateQtyFromFirstTest() {\n        await this.txtBaseQty.getAttribute(\u2018value\u2019).then((baseQty) =&gt; {\n            if (firstTest.baseProductDetails.baseQty === baseQty) {\n                console.log(\u2018Quantities match between First and Second classes);\n            }\n        });\n    } \n}\n</code></pre>\n\n<p>But, I\u2019m receiving \u2018null\u2019 value for \u2018firstTest.baseProductDetails.baseQty\u2019 variable instead of the actual value that is printed in the function of FirstTestClass. Please advise if there is any way to read the global variable of the first class in second class. Thanks in advance!</p>\n\n<p>On an additional note, just FYI, my actual test looks something like this:</p>\n\n<pre><code>import { SecondTestClass } from '../pages/xxxxxxx;\n\nconst firstTest = new FirstTestClass();\nconst secondTest = new SecondTestClass();\ndescribe(\u2018Qty check\u2019, () =&gt; {\n    describe(check qty in first test', () =&gt; {\n        it('As User1 - check qty in first test', async () =&gt; {\n            await firstTest.calculateTotalPrice();\n            expect(xxxxx).toBeTruthy();\n        });\n        it('As User1 - compare qty in second test with first test', async () =&gt; {\n            await secondTest.validateQtyFromFirstTest();\n            expect(xxxxx).toBeTruthy();\n        });\n    });\n});\n</code></pre>\n"}, {"tags": ["angular", "typescript", "ionic3"], "comments": [{"owner": {"reputation": 21, "user_id": 8002379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5af720bd66f5f92f4d3c910d6eb50f8d?s=128&d=identicon&r=PG&f=1", "display_name": "tan Ti", "link": "https://stackoverflow.com/users/8002379/tan-ti"}, "reply_to_user": {"reputation": 28036, "user_id": 4826457, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hXT0U.jpg?s=128&g=1", "display_name": "Suraj Rao", "link": "https://stackoverflow.com/users/4826457/suraj-rao"}, "edited": false, "score": 0, "creation_date": 1506494069, "post_id": 46439387, "comment_id": 79838088, "body": "@SURAJ I tried,but not work"}, {"owner": {"reputation": 28036, "user_id": 4826457, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hXT0U.jpg?s=128&g=1", "display_name": "Suraj Rao", "link": "https://stackoverflow.com/users/4826457/suraj-rao"}, "edited": false, "score": 0, "creation_date": 1506494123, "post_id": 46439387, "comment_id": 79838117, "body": "did you remove the imports of the pages from tabs component page?"}, {"owner": {"reputation": 21, "user_id": 8002379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5af720bd66f5f92f4d3c910d6eb50f8d?s=128&d=identicon&r=PG&f=1", "display_name": "tan Ti", "link": "https://stackoverflow.com/users/8002379/tan-ti"}, "reply_to_user": {"reputation": 28036, "user_id": 4826457, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hXT0U.jpg?s=128&g=1", "display_name": "Suraj Rao", "link": "https://stackoverflow.com/users/4826457/suraj-rao"}, "edited": false, "score": 0, "creation_date": 1506498802, "post_id": 46439387, "comment_id": 79840653, "body": "emmm....if I remove the imports . That tabs component won&#39;t find the page, so the page doesn&#39;t show"}, {"owner": {"reputation": 28036, "user_id": 4826457, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hXT0U.jpg?s=128&g=1", "display_name": "Suraj Rao", "link": "https://stackoverflow.com/users/4826457/suraj-rao"}, "edited": false, "score": 0, "creation_date": 1506498936, "post_id": 46439387, "comment_id": 79840746, "body": "check the answer in the dupe.. you need to use string equivalents..not the page object"}, {"owner": {"reputation": 21, "user_id": 8002379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5af720bd66f5f92f4d3c910d6eb50f8d?s=128&d=identicon&r=PG&f=1", "display_name": "tan Ti", "link": "https://stackoverflow.com/users/8002379/tan-ti"}, "reply_to_user": {"reputation": 28036, "user_id": 4826457, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hXT0U.jpg?s=128&g=1", "display_name": "Suraj Rao", "link": "https://stackoverflow.com/users/4826457/suraj-rao"}, "edited": false, "score": 0, "creation_date": 1506506115, "post_id": 46439387, "comment_id": 79845363, "body": "After the change, become a tab page has this problem"}, {"owner": {"reputation": 21, "user_id": 8002379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5af720bd66f5f92f4d3c910d6eb50f8d?s=128&d=identicon&r=PG&f=1", "display_name": "tan Ti", "link": "https://stackoverflow.com/users/8002379/tan-ti"}, "reply_to_user": {"reputation": 28036, "user_id": 4826457, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hXT0U.jpg?s=128&g=1", "display_name": "Suraj Rao", "link": "https://stackoverflow.com/users/4826457/suraj-rao"}, "edited": false, "score": 1, "creation_date": 1506507292, "post_id": 46439387, "comment_id": 79846141, "body": "hey! I just fix the problem, just because I forget to delete Imoprt on APP COMPONENT . THX!!!"}, {"owner": {"reputation": 28036, "user_id": 4826457, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hXT0U.jpg?s=128&g=1", "display_name": "Suraj Rao", "link": "https://stackoverflow.com/users/4826457/suraj-rao"}, "edited": false, "score": 0, "creation_date": 1506507449, "post_id": 46439387, "comment_id": 79846243, "body": "glad to hear it :)"}], "answers": [{"comments": [{"owner": {"reputation": 21, "user_id": 8002379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5af720bd66f5f92f4d3c910d6eb50f8d?s=128&d=identicon&r=PG&f=1", "display_name": "tan Ti", "link": "https://stackoverflow.com/users/8002379/tan-ti"}, "edited": false, "score": 0, "creation_date": 1506506686, "post_id": 46442521, "comment_id": 79845749, "body": "THX! I will continue to see how to deal with my problem"}], "tags": [], "owner": {"reputation": 8937, "user_id": 2815099, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/fHZcV.jpg?s=128&g=1", "display_name": "AlvaroAV", "link": "https://stackoverflow.com/users/2815099/alvaroav"}, "is_accepted": false, "score": 0, "last_activity_date": 1506501204, "last_edit_date": 1506501204, "creation_date": 1506499389, "answer_id": 46442521, "question_id": 46439387, "link": "https://stackoverflow.com/questions/46439387/this-is-page-jumps-with-ionic3/46442521#46442521", "title": "This is page jumps with ionic3", "body": "<p>I never worked with tab components but I got the same error when I create a new page and I don't add it into the <strong>entryComponents</strong> section like:</p>\n\n<pre><code>import { NgModule } from '';\nimport { IonicPageModule } from 'ionic-angular';\nimport { AboutPage } from './about';\n@NgModule({\ndeclarations: [\n     AboutPage,\n],\nimports: [\n     IonicPageModule.forChild(AboutPage),\n],\nentryComponents: [\n     AboutPage,\n]\n})\n</code></pre>\n\n<p>If you declare your new page on the <strong>EntryComponent</strong> section should fix the issue you're having: </p>\n\n<blockquote>\n  <p>AboutPage is not part of any NgModule or the module has not been imported into your module</p>\n</blockquote>\n\n<p>According to the docs <strong>EntryCompmonents</strong>:</p>\n\n<blockquote>\n  <p>Defines the components that should be compiled as well when this component is defined. For each components listed here, Angular will create a ComponentFactory and store it in the ComponentFactoryResolver.</p>\n</blockquote>\n"}], "owner": {"reputation": 21, "user_id": 8002379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5af720bd66f5f92f4d3c910d6eb50f8d?s=128&d=identicon&r=PG&f=1", "display_name": "tan Ti", "link": "https://stackoverflow.com/users/8002379/tan-ti"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 144, "favorite_count": 0, "closed_date": 1506507315, "answer_count": 1, "score": 2, "last_activity_date": 1506506440, "creation_date": 1506485672, "last_edit_date": 1506506440, "question_id": 46439387, "link": "https://stackoverflow.com/questions/46439387/this-is-page-jumps-with-ionic3", "closed_reason": "Duplicate", "title": "This is page jumps with ionic3", "body": "<p>I set up a tabs page, A, B, C. like this:</p>\n\n<pre><code>tab1Root: any = HomePage;\ntab2Root: any = AboutPage;\ntab3Root: any = ContactPage;\n</code></pre>\n\n<p>When I jump from PageB to a new pageC\nThe URL becomes\uff1a<code>http://localhost:8102/#/about/shopping</code>;\nand I reload the shopping page, I have a error: </p>\n\n<p>Component AboutPage is not part of any NgModule or the module has not been imported into your module.\nI'm newcomer, hope someone can help me;\nhere is my code:</p>\n\n<p>about.ts:</p>\n\n<pre><code>  import { Component } from '';\n  import { IonicPage, NavController, NavParams } from 'ionic-angular';\n  @ionicpage()\n  @component({\n   selector: 'page-about',\n   templateUrl: 'about.html',\n  })\n  export class AboutPage {\n  lists = Lists\n  constructor(public navCtrl: NavController, public navParams: \n   NavParams) {}\n  ionViewDidLoad() {}\n  openPage(page){\n    this.navCtrl.push(page)\n   }\n  }\n</code></pre>\n\n<p>about.module.ts</p>\n\n<pre><code>import { NgModule } from '';\nimport { IonicPageModule } from 'ionic-angular';\nimport { AboutPage } from './about';\n@NgModule({\ndeclarations: [\n AboutPage,\n],\nimports: [\n IonicPageModule.forChild(AboutPage),\n],\n})\nexport class AboutPageModule {}\n</code></pre>\n"}, {"tags": ["typescript", "rxjs", "observable"], "comments": [{"owner": {"reputation": 50474, "user_id": 6680611, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wRJqu.png?s=128&g=1", "display_name": "cartant", "link": "https://stackoverflow.com/users/6680611/cartant"}, "edited": false, "score": 0, "creation_date": 1506488028, "post_id": 46439276, "comment_id": 79835700, "body": "Assuming the <code>item$</code> observable completes: <code>item$.reduce((map, item) =&gt; { map.set(item, getChildren(item)); return map; }, new Map&lt;Item, List&lt;ChildItem&gt;&gt;())</code>"}, {"owner": {"reputation": 50474, "user_id": 6680611, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wRJqu.png?s=128&g=1", "display_name": "cartant", "link": "https://stackoverflow.com/users/6680611/cartant"}, "edited": false, "score": 0, "creation_date": 1506488425, "post_id": 46439276, "comment_id": 79835845, "body": "Also, the question&#39;s title is not consistent with the question itself."}, {"owner": {"reputation": 634, "user_id": 1661867, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/2a90ff5578538598f4addd65ad9812e1?s=128&d=identicon&r=PG", "display_name": "Abhi.Net", "link": "https://stackoverflow.com/users/1661867/abhi-net"}, "reply_to_user": {"reputation": 50474, "user_id": 6680611, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wRJqu.png?s=128&g=1", "display_name": "cartant", "link": "https://stackoverflow.com/users/6680611/cartant"}, "edited": false, "score": 0, "creation_date": 1506488627, "post_id": 46439276, "comment_id": 79835907, "body": "I get an error on new Map&lt;Item, List&lt;ChildItem&gt;&gt;() . Only a void function can be called with the &#39;new&#39; keyword. Also I am so new to this RxJS wasnt sure how to word the question properly.. any tips?"}, {"owner": {"reputation": 50474, "user_id": 6680611, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wRJqu.png?s=128&g=1", "display_name": "cartant", "link": "https://stackoverflow.com/users/6680611/cartant"}, "edited": false, "score": 1, "creation_date": 1506489272, "post_id": 46439276, "comment_id": 79836098, "body": "If you are referring to something other than <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Map\" rel=\"nofollow noreferrer\"><code>Map</code></a>, you will have to include it in your question. And your title refers to a different type to that specifed in your question. That is, the <code>Map</code> in your title has an <code>Observable</code> in it - which makes no sense, anyway."}, {"owner": {"reputation": 16636, "user_id": 4716245, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/665fa1fbba5eba2c56cc572a12b2723f?s=128&d=identicon&r=PG&f=1", "display_name": "Richard Matsen", "link": "https://stackoverflow.com/users/4716245/richard-matsen"}, "edited": false, "score": 0, "creation_date": 1506494306, "post_id": 46439276, "comment_id": 79838195, "body": "Not sure if this is better or worse than using reduce: item$.toArray()   .map(items =&gt; new Map(items.map(item =&gt; [item, getChildren(item)] )))"}], "owner": {"reputation": 634, "user_id": 1661867, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/2a90ff5578538598f4addd65ad9812e1?s=128&d=identicon&r=PG", "display_name": "Abhi.Net", "link": "https://stackoverflow.com/users/1661867/abhi-net"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 197, "favorite_count": 1, "answer_count": 0, "score": 0, "last_activity_date": 1506485314, "creation_date": 1506484859, "last_edit_date": 1506485314, "question_id": 46439276, "link": "https://stackoverflow.com/questions/46439276/how-to-transform-an-observablet-into-mapobservablet-listx-in-rxjs", "title": "How to transform an Observable&lt;T&gt; into Map&lt;Observable&lt;T&gt;, List&lt;X&gt;&gt; in RxJS", "body": "<p>Started working on an ongoing Angular 2 Project and the first bump I have ran into is Observable. Starting to get good understanding of FP but cant wrap my head around observables in Rxjs.</p>\n\n<p>For a given Observable <code>item$</code>. I want to get a list of child items for each value in item$ and then return back a new observable containing</p>\n\n<pre><code>Map&lt;item, List&lt;ChildItems&gt;&gt;  \n</code></pre>\n\n<p>NOTE: I have a function that returns a list of child items give a parent id</p>\n\n<p>What operator do I need to use to achieve this?</p>\n"}, {"tags": ["typescript", "typescript-decorator"], "comments": [{"owner": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "edited": false, "score": 0, "creation_date": 1506539781, "post_id": 46439066, "comment_id": 79866725, "body": "why do you need the non-uuid properties?"}, {"owner": {"reputation": 2540, "user_id": 3456952, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/a42b2c66c6ca8051bf42e5b8be0d52a8?s=128&d=identicon&r=PG&f=1", "display_name": "TheHebrewHammer", "link": "https://stackoverflow.com/users/3456952/thehebrewhammer"}, "reply_to_user": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "edited": false, "score": 0, "creation_date": 1506539897, "post_id": 46439066, "comment_id": 79866796, "body": "What I&#39;m trying to do is use decorators to add extra criteria to the property. This will eventually be used as a model for a database table."}], "answers": [{"comments": [{"owner": {"reputation": 2540, "user_id": 3456952, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/a42b2c66c6ca8051bf42e5b8be0d52a8?s=128&d=identicon&r=PG&f=1", "display_name": "TheHebrewHammer", "link": "https://stackoverflow.com/users/3456952/thehebrewhammer"}, "edited": false, "score": 0, "creation_date": 1506605700, "post_id": 46459524, "comment_id": 79896109, "body": "Interesting, that&#39;s a great idea. I ended up (last night) finding a way to inject the property by first checking if the <code>key</code> was in <code>Object.getOwnPropertyNames(target)</code> then adding it using <code>Object.defineProperty(target, key, ...)</code> But I think your way makes more sense."}], "tags": [], "owner": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "is_accepted": true, "score": 0, "last_activity_date": 1506561812, "creation_date": 1506561812, "answer_id": 46459524, "question_id": 46439066, "link": "https://stackoverflow.com/questions/46439066/typescript-property-decorator-auto-add-to-prototype/46459524#46459524", "title": "Typescript property decorator auto-add to prototype", "body": "<p>If you need to access every property, you will need to decorate every property.  Since the <code>reflect-metadata</code> API doesn't let you enumerate the <code>targetKey</code>s used on an object, you should store the metadata on the object itself.</p>\n\n<p>First, define what kind of information you want to note for each property.  So far, there's <code>isUuid</code>:</p>\n\n<pre><code>interface DbPropInfo {\n  isUuid: boolean; \n  // other stuff\n}\n</code></pre>\n\n<p>It helps to have a default value for each piece of information so the decorator annotations can be concise:</p>\n\n<pre><code>const defaultDbPropInfo: DbPropInfo = {\n  isUuid: false \n}\n</code></pre>\n\n<p>We will want to store the metadata as an object whose keys are the same as the property keys of the class, and whose values are the <code>DbPropInfo</code> we set for those properties.  Here's a type for that object:</p>\n\n<pre><code>interface DbProps {\n  [k: string]: DbPropInfo;\n}\n</code></pre>\n\n<p>And now for the decorator:</p>\n\n<pre><code>const dbPropsKey = 'dbProps';\n\nfunction dbProp(info?: Partial&lt;DbPropInfo&gt;) {\n  return function(target: any, key: string): void {\n    if (!Reflect.hasMetadata(dbPropsKey, target)) {\n      Reflect.defineMetadata(dbPropsKey, {}, target);\n    }\n    const dbProps: DbProps = Reflect.getMetadata(dbPropsKey, target);\n    dbProps[key] = Object.assign({}, defaultDbPropInfo, info);\n  }\n}\n</code></pre>\n\n<p>And to get the decorated data:</p>\n\n<pre><code>function getDbProps(ctor: { prototype: any }): DbProps | undefined {\n  return Reflect.getMetadata(dbPropsKey, ctor.prototype);\n}\n</code></pre>\n\n<hr>\n\n<p>Finally we can try it on your class:</p>\n\n<pre><code>class A {\n  @dbProp({ isUuid: true }) property: string;\n  @dbProp() another: string;\n}\n</code></pre>\n\n<p>Let's see if it works:</p>\n\n<pre><code>console.log(JSON.stringify(getDbProps(A)));\n// { \n//   \"property\": {\"isUuid\": true},\n//   \"another\": {\"isUuid\": false}\n// }\n</code></pre>\n\n<p>Does that work for you?</p>\n"}], "owner": {"reputation": 2540, "user_id": 3456952, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/a42b2c66c6ca8051bf42e5b8be0d52a8?s=128&d=identicon&r=PG&f=1", "display_name": "TheHebrewHammer", "link": "https://stackoverflow.com/users/3456952/thehebrewhammer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 827, "favorite_count": 0, "accepted_answer_id": 46459524, "answer_count": 1, "score": 0, "last_activity_date": 1506561812, "creation_date": 1506483397, "question_id": 46439066, "link": "https://stackoverflow.com/questions/46439066/typescript-property-decorator-auto-add-to-prototype", "title": "Typescript property decorator auto-add to prototype", "body": "<p>I'd like to create a decoration for properties that will allow me to automatically add the property without the need to write it into the constructor. I'm fairly new to Java/Type script so hopefully I didn't butcher this too bad. I can't seem to do this, here's what I have so far...</p>\n\n<p>The goal is that with something along the lines of:</p>\n\n<pre><code>class A {\n  @uuid\n  'property': string;\n  'another': string;\n}\n\nfunction uuid(target: any, key: string): void {\n  Reflect.defineMetadata('isUuid', true, target, key);\n}\n</code></pre>\n\n<p>I'd be able to later use <code>A</code>'s constructor <code>new () =&gt; Object</code> to get a list of all the properties and whether or not they're UUIDs. I assume this would look something like:</p>\n\n<pre><code>Object.keys(A).forEach(key =&gt; {\n  console.log(`[${key}].isUuid? ${Reflect.getMetadata('isUuid', A, key) === true}`);\n});\n</code></pre>\n\n<p>Which would hopefully yield something like:</p>\n\n<pre><code>[property].isUuid? true\n[another].isUuid? false\n</code></pre>\n\n<p>As a note, If I change class <code>A</code> to:</p>\n\n<pre><code>class A {\n  constructor() {\n    this.property = undefined;\n    this.another = undefined;\n  }\n  @uuid\n  'property': string;\n  'another': string;\n}\n</code></pre>\n\n<p>I can get this to work, but I have to create an instance of <code>A</code> to be able to get the keys and get the metadata on those.</p>\n"}, {"tags": ["node.js", "typescript"], "answers": [{"tags": [], "owner": {"reputation": 1996, "user_id": 8634147, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-36eQ4qJ6F9o/AAAAAAAAAAI/AAAAAAAADZg/coKQfu-5HzM/photo.jpg?sz=128", "display_name": "Romain Deneau", "link": "https://stackoverflow.com/users/8634147/romain-deneau"}, "is_accepted": false, "score": 0, "last_activity_date": 1506500959, "creation_date": 1506500959, "answer_id": 46442992, "question_id": 46439062, "link": "https://stackoverflow.com/questions/46439062/whats-the-appropriate-class-design-for-exporting-testable-functions-in-typescri/46442992#46442992", "title": "What&#39;s the appropriate class design for exporting testable functions in Typescript?", "body": "<blockquote>\n  <p>Also, don't want to export pure functions and forego classes all together since that means I'll lose auto-importing of classes (in VSCode).</p>\n</blockquote>\n\n<p>Can you explain what is this \"auto-importing of classes (in VSCode)\"? In VSCode, I'm using extensions like <a href=\"https://marketplace.visualstudio.com/items?itemName=pmneo.tsimporter\" rel=\"nofollow noreferrer\">TypeScript Importer</a> that adds the appropriate imports for any type (<code>class</code>, <code>function</code>, <code>literal</code>...), not only for classes.</p>\n\n<p>Anyway, IMO, it's the \"pure functions\" approach that is the more JavaScript idiomatic, at least for those (including me) who likes the JavaScript functional programming features. It's true for TypeScript too, even with its sympathy for classes and C#/Java-like object oriented programming.</p>\n\n<p>If you really prefer classes, avoid static i.e. option #1. You can instanciate and share instances while bootstrapping your application (like a DI container would do) to avoid multi instances.</p>\n\n<p>Coupling between classes is less an issue in TypeScript due to its structural typings: a class can act as an interface \u2192 if class A depends on class B, you can always provide a class B-like object to the class A instance.</p>\n"}], "owner": {"reputation": 5684, "user_id": 330617, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/e312a8db59adc1bb60ace7b85f6bfe24?s=128&d=identicon&r=PG", "display_name": "Art", "link": "https://stackoverflow.com/users/330617/art"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 34, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1506500959, "creation_date": 1506483355, "question_id": 46439062, "link": "https://stackoverflow.com/questions/46439062/whats-the-appropriate-class-design-for-exporting-testable-functions-in-typescri", "title": "What&#39;s the appropriate class design for exporting testable functions in Typescript?", "body": "<p>I have a couple of stateless classes that do some business logic and return some computations. Each one of them has naturally a set of dependencies on other classes.</p>\n\n<p>Now there are two designs that I've juggling between:</p>\n\n<ol>\n<li><p>Have a class where each method is a static method. I can use jest import mocking, to overwrite the dependencies for testing. Advantage is you only have one class instance. </p></li>\n<li><p>Have a class with regular non-static methods. This would require instantiating the class in each place it is used. I can pass in class dependencies in the constructor. Testing this is pretty straightforward. Drawback is you create multiple class instances and potentially dependencies in the code.</p></li>\n</ol>\n\n<p>Which of these is the preferred idiomatic TS approach?</p>\n\n<p>There is also the classic solution of using an IoC container, but I'd like to avoid this since this application is fairly small and don't want to add extra bloat.</p>\n\n<p>Also, don't want to export pure functions and forego classes all together since that means I'll lose auto-importing of classes (in VSCode).</p>\n"}, {"tags": ["typescript", "angular-cli"], "answers": [{"tags": [], "owner": {"reputation": 21, "user_id": 8680109, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d6c4d0b1cbc1f7d8980e3e9e3dc1bcb8?s=128&d=identicon&r=PG&f=1", "display_name": "Naveen kumar G", "link": "https://stackoverflow.com/users/8680109/naveen-kumar-g"}, "is_accepted": true, "score": 0, "last_activity_date": 1506524852, "creation_date": 1506524852, "answer_id": 46451359, "question_id": 46438720, "link": "https://stackoverflow.com/questions/46438720/error-in-error-ngmodule-is-not-an-ngmodule/46451359#46451359", "title": "ERROR in Error: NgModule is not an NgModule", "body": "<p>I did a very silly mistake, added NgModule also to the imports. I just removed it then this issue resolved.</p>\n\n<pre><code>import { NgModule } from '@angular/core';\nimport { AddBannerComponent } from './add-banner/add-banner.component';\nimport { BannerComponent } from './banner.component';\nimport { BannerRoutingModule } from './banner-routing.module';\n\n@NgModule({\n  imports:[NgModule,BannerRoutingModule],\n  declarations:[AddBannerComponent,BannerComponent],\n  providers:[]\n})\nexport class BannerModule{\n\n}\n</code></pre>\n\n<p>Resolved code: (Removed NgModule from the imports)</p>\n\n<pre><code>import { NgModule } from '@angular/core';\n    import { AddBannerComponent } from './add-banner/add-banner.component';\n    import { BannerComponent } from './banner.component';\n    import { BannerRoutingModule } from './banner-routing.module';\n\n    @NgModule({\n      imports:[BannerRoutingModule],\n      declarations:[AddBannerComponent,BannerComponent],\n      providers:[]\n    })\n    export class BannerModule{\n\n    }\n</code></pre>\n"}], "owner": {"reputation": 21, "user_id": 8680109, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d6c4d0b1cbc1f7d8980e3e9e3dc1bcb8?s=128&d=identicon&r=PG&f=1", "display_name": "Naveen kumar G", "link": "https://stackoverflow.com/users/8680109/naveen-kumar-g"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1253, "favorite_count": 0, "accepted_answer_id": 46451359, "answer_count": 1, "score": 2, "last_activity_date": 1506524852, "creation_date": 1506480509, "last_edit_date": 1506480994, "question_id": 46438720, "link": "https://stackoverflow.com/questions/46438720/error-in-error-ngmodule-is-not-an-ngmodule", "title": "ERROR in Error: NgModule is not an NgModule", "body": "<p>It was working very fine, suddenly it started giving me this below exception while running ng serve. I did not do any recent upgrade or dependency adding things also.</p>\n\n<p>Can someone help me what should be done to resolve ?</p>\n\n<pre><code>ERROR in Error: NgModule is not an NgModule\n    at _getNgModuleMetadata (E:\\Going-on\\czc-admin-startupui\\node_modules\\@angular\\compiler-cli\\src\\ngtools_impl.js:140:15)\n    at _extractLazyRoutesFromStaticModule (E:\\Going-on\\czc-admin-startupui\\node_modules\\@angular\\compiler-cli\\src\\ngtools_impl.js:109:26)\n    at E:\\Going-on\\czc-admin-startupui\\node_modules\\@angular\\compiler-cli\\src\\ngtools_impl.js:129:27\n    at Array.reduce (native)\n    at _extractLazyRoutesFromStaticModule (E:\\Going-on\\czc-admin-startupui\\node_modules\\@angular\\compiler-cli\\src\\ngtools_impl.js:128:10)\n    at includeLazyRouteAndSubRoutes (E:\\Going-on\\czc-admin-startupui\\node_modules\\@angular\\compiler-cli\\src\\ngtools_impl.js:66:25)\n    at Array.reduce (native)\n    at includeLazyRouteAndSubRoutes (E:\\Going-on\\czc-admin-startupui\\node_modules\\@angular\\compiler-cli\\src\\ngtools_impl.js:67:26)\n    at Array.reduce (native)\n    at Object.listLazyRoutesOfModule (E:\\Going-on\\czc-admin-startupui\\node_modules\\@angular\\compiler-cli\\src\\ngtools_impl.js:54:36)\n    at Function.NgTools_InternalApi_NG_2.listLazyRoutes (E:\\Going-on\\czc-admin-startupui\\node_modules\\@angular\\compiler-cli\\src\\ngtools_api.js:91:39)\n    at AotPlugin._getLazyRoutesFromNgtools (E:\\Going-on\\czc-admin-startupui\\node_modules\\@ngtools\\webpack\\src\\plugin.js:207:44)\n    at _donePromise.Promise.resolve.then.then.then.then.then (E:\\Going-on\\czc-admin-startupui\\node_modules\\@ngtools\\webpack\\src\\plugin.js:443:24)\n    at process._tickCallback (internal/process/next_tick.js:109:7)\n\nwebpack: Failed to compile.\n</code></pre>\n\n<p>My package.json file:</p>\n\n<pre><code>{\n  \"name\": \"sb-admin-angular4-bootstrap4\",\n  \"version\": \"1.0.0\",\n  \"license\": \"MIT\",\n  \"scripts\": {\n    \"ng\": \"ng\",\n    \"start\": \"ng serve --ec=true\",\n    \"build\": \"ng build --prod\",\n    \"test\": \"ng test\",\n    \"lint\": \"ng lint\",\n    \"e2e\": \"ng e2e\"\n  },\n  \"private\": true,\n  \"dependencies\": {\n    \"@angular/animations\": \"^4.4.3\",\n    \"@angular/cli\": \"^1.4.3\",\n    \"@angular/common\": \"^4.4.3\",\n    \"@angular/compiler\": \"^4.4.3\",\n    \"@angular/compiler-cli\": \"^4.4.3\",\n    \"@angular/core\": \"^4.4.3\",\n    \"@angular/forms\": \"^4.4.3\",\n    \"@angular/http\": \"^4.4.3\",\n    \"@angular/platform-browser\": \"^4.4.3\",\n    \"@angular/platform-browser-dynamic\": \"^4.4.3\",\n    \"@angular/platform-server\": \"^4.4.3\",\n    \"@angular/router\": \"^4.4.3\",\n    \"@ng-bootstrap/ng-bootstrap\": \"^1.0.0-alpha.25\",\n    \"@ngx-translate/core\": \"^6.0.1\",\n    \"@ngx-translate/http-loader\": \"0.0.3\",\n    \"@swimlane/ngx-datatable\": \"^9.3.0\",\n    \"angular2-datatable\": \"^0.6.0\",\n    \"angular2-multiselect-dropdown\": \"^1.2.2\",\n    \"core-js\": \"^2.4.1\",\n    \"font-awesome\": \"^4.7.0\",\n    \"ionicons\": \"^3.0.0\",\n    \"ng-block-ui\": \"^1.0.0-beta.15\",\n    \"ng-spin-kit\": \"^5.1.1\",\n    \"ng2-charts\": \"^1.5.0\",\n    \"rxjs\": \"^5.1.0\",\n    \"typescript\": \"^2.3.4\",\n    \"zone.js\": \"^0.8.4\"\n  },\n  \"devDependencies\": {\n    \"@angular/cli\": \"^1.4.3\",\n    \"@angular/compiler-cli\": \"^4.0.0\",\n    \"@types/jasmine\": \"2.5.38\",\n    \"@types/node\": \"~6.0.60\",\n    \"codelyzer\": \"~2.0.0\",\n    \"jasmine-core\": \"~2.5.2\",\n    \"jasmine-spec-reporter\": \"~3.2.0\",\n    \"karma\": \"~1.4.1\",\n    \"karma-chrome-launcher\": \"~2.0.0\",\n    \"karma-cli\": \"~1.0.1\",\n    \"karma-coverage-istanbul-reporter\": \"^0.2.0\",\n    \"karma-jasmine\": \"~1.1.0\",\n    \"karma-jasmine-html-reporter\": \"^0.2.2\",\n    \"karma-phantomjs-launcher\": \"^1.0.4\",\n    \"protractor\": \"~5.1.0\",\n    \"ts-node\": \"~2.0.0\",\n    \"tslint\": \"~4.5.0\",\n    \"typescript\": \"~2.2.0\"\n  }\n}\n</code></pre>\n\n<p>I uninstalled, installed and tried again, but no luck.  Tried with latest typescript versions, but getting some other exceptions, so reverted back those changes.</p>\n"}, {"tags": ["typescript"], "answers": [{"comments": [{"owner": {"reputation": 673, "user_id": 2543186, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/27ZWW.jpg?s=128&g=1", "display_name": "Willwsharp", "link": "https://stackoverflow.com/users/2543186/willwsharp"}, "edited": false, "score": 0, "creation_date": 1506516119, "post_id": 46438453, "comment_id": 79851854, "body": "As a follow up question, is there more in the Typescript documentation that discusses this?  I think some additional wording would clear up any confusion; although it might be only my understanding that was limited."}, {"owner": {"reputation": 80876, "user_id": 188246, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/bTzLq.jpg?s=128&g=1", "display_name": "David Sherret", "link": "https://stackoverflow.com/users/188246/david-sherret"}, "reply_to_user": {"reputation": 673, "user_id": 2543186, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/27ZWW.jpg?s=128&g=1", "display_name": "Willwsharp", "link": "https://stackoverflow.com/users/2543186/willwsharp"}, "edited": false, "score": 3, "creation_date": 1506517218, "post_id": 46438453, "comment_id": 79852682, "body": "@Willwsharp look at the section on &quot;generic constraints&quot;: <a href=\"https://www.typescriptlang.org/docs/handbook/generics.html\" rel=\"nofollow noreferrer\">typescriptlang.org/docs/handbook/generics.html</a>"}], "tags": [], "owner": {"reputation": 80876, "user_id": 188246, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/bTzLq.jpg?s=128&g=1", "display_name": "David Sherret", "link": "https://stackoverflow.com/users/188246/david-sherret"}, "is_accepted": true, "score": 5, "last_activity_date": 1506479225, "last_edit_date": 1506479225, "creation_date": 1506478583, "answer_id": 46438453, "question_id": 46438142, "link": "https://stackoverflow.com/questions/46438142/clarification-on-index-type-query-operator-and-extends-keyword/46438453#46438453", "title": "Clarification on index type query operator and extends keyword", "body": "<p>The keyword <code>extends</code>, in this context, is a way to add a constraint on a type parameter.</p>\n\n<p>Given this simple example, you will see the compiler only allows you to pass in objects that conform to the <code>Person</code> interface:</p>\n\n<pre><code>interface Person {\n    name: string;\n}\n\nfunction logAndReturnPerson&lt;T extends Person&gt;(person: T) {\n    console.log(person.name);\n    return person;\n}\n\n// ok\nconst result1 = logAndReturnPerson&lt;Person&gt;({ name: \"David\" });\n// not ok, string does not satisfy constraint of Person\nconst result2 = logAndReturnPerson&lt;string&gt;(\"\");\n</code></pre>\n\n<p>In your example, <code>K extends keyof T</code> means that <code>K</code> is constrained to <code>keyof T</code>. In other words, this means what you thought\u2014<code>K</code> is a string that is constrained to be a property name of <code>T</code>.</p>\n\n<p>Yes, this is a semantic specific to generics. Note that it's possible to use a union type in a constraint.</p>\n"}], "owner": {"reputation": 673, "user_id": 2543186, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/27ZWW.jpg?s=128&g=1", "display_name": "Willwsharp", "link": "https://stackoverflow.com/users/2543186/willwsharp"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 325, "favorite_count": 2, "accepted_answer_id": 46438453, "answer_count": 1, "score": 5, "last_activity_date": 1518669919, "creation_date": 1506476031, "last_edit_date": 1518669919, "question_id": 46438142, "link": "https://stackoverflow.com/questions/46438142/clarification-on-index-type-query-operator-and-extends-keyword", "title": "Clarification on index type query operator and extends keyword", "body": "<p>I was going over the documentation on Advanced Types in Typescript (found here: <a href=\"https://www.typescriptlang.org/docs/handbook/advanced-types.html\" rel=\"nofollow noreferrer\">https://www.typescriptlang.org/docs/handbook/advanced-types.html</a>) and it mentioned the Index Query Operator and gave the following as an example:</p>\n\n<pre><code>function pluck&lt;T, K extends keyof T&gt;(o: T, names: K[]): T[K][] {\n  return names.map(n =&gt; o[n]);\n}\n</code></pre>\n\n<p>I understand how <code>keyof</code> produces a union of all known public property names on object <code>T</code> but I don't exactly understand what role the <code>extends</code> plays.  I get that it's saying that <code>K</code> must be a valid property of <code>T</code> but why is <code>extends</code> used and not something else?  Also, is it possible to extend unions in Typescript or is this more of a semantic specific to generics?</p>\n\n<p>Thanks.  </p>\n"}, {"tags": ["angular", "typescript"], "answers": [{"tags": [], "owner": {"reputation": 1138, "user_id": 6910571, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/n1gpt.jpg?s=128&g=1", "display_name": "awmleer", "link": "https://stackoverflow.com/users/6910571/awmleer"}, "is_accepted": false, "score": 0, "last_activity_date": 1506475531, "creation_date": 1506475531, "answer_id": 46438088, "question_id": 46437799, "link": "https://stackoverflow.com/questions/46437799/angular-4-infinite-array-loop/46438088#46438088", "title": "Angular 4 infinite array loop", "body": "<p>Just use two lists with <code>ngIf</code>: the first list renders the letters before <code>currentLetter</code> or <code>currentLetter</code> itself, while the second list renders the letters after <code>currentLetter</code>.</p>\n\n<pre><code>&lt;ng-container *ngFor=\"let letter of letters; index as i\"&gt;\n  &lt;button *ngIf=\"i&gt;=letters.indexOf(currentLetter)\" (click)=\"currentLetter = letter\"&gt;{{letter}}&lt;/button&gt;\n&lt;/ng-container&gt;\n&lt;ng-container *ngFor=\"let letter of letters; index as i\"&gt;\n  &lt;button *ngIf=\"i&lt;letters.indexOf(currentLetter)\" (click)=\"currentLetter = letter\"&gt;{{letter}}&lt;/button&gt;\n&lt;/ng-container&gt;\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/oRN8f.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/oRN8f.png\" alt=\"result1\"></a>\n<a href=\"https://i.stack.imgur.com/JxUXq.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/JxUXq.png\" alt=\"result2\"></a></p>\n"}, {"tags": [], "owner": {"reputation": 966, "user_id": 6648228, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/217c03e219297ed452097c8867beb5df?s=128&d=identicon&r=PG", "display_name": "Raja Mohamed", "link": "https://stackoverflow.com/users/6648228/raja-mohamed"}, "is_accepted": true, "score": 1, "last_activity_date": 1506487118, "creation_date": 1506487118, "answer_id": 46439604, "question_id": 46437799, "link": "https://stackoverflow.com/questions/46437799/angular-4-infinite-array-loop/46439604#46439604", "title": "Angular 4 infinite array loop", "body": "<p><strong>Try this it will resolve your problem</strong> </p>\n\n<pre><code> &lt;div *ngFor=\"let letter of letters\" (click)=\"myMethod(letter)\"&gt;{{letter}}\n&lt;/div&gt;\n\n\nmyMethod(selectedLetter){\n    let postLen = 3; // configurable\n    let i=0, len =str1.length;\n    let foundFlag = false;\n    let arr1 = [], arr2 = [], arr3 = [];\n    for(;i&lt;len;i++){\n         if(str1[i] == selectedLetter){\n             for(k=0;k&lt;postLen &amp;&amp; (i+k)&lt; len ; k++){\n                arr1.push(str1[i+k]);\n                i++;\n             }\n             foundFlag = true;\n         }else if(!foundFlag){\n                arr2.push(str1[i]);\n         }else{\n                arr3.push(str1[i]);\n         }\n\n    }\n\n    this.letters = arr3.concat(arr2);\n    this.letters = this.letters.concat(arr1);   \n\n}\n</code></pre>\n"}], "owner": {"reputation": 170, "user_id": 7990029, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/050496315c7bd649ea9870def3ce36ee?s=128&d=identicon&r=PG&f=1", "display_name": "Wondergrauf", "link": "https://stackoverflow.com/users/7990029/wondergrauf"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 525, "favorite_count": 1, "accepted_answer_id": 46439604, "answer_count": 2, "score": 0, "last_activity_date": 1506487118, "creation_date": 1506473210, "question_id": 46437799, "link": "https://stackoverflow.com/questions/46437799/angular-4-infinite-array-loop", "title": "Angular 4 infinite array loop", "body": "<p>I want to use *ngFor and repeat my array elements myltiple times. Like this:</p>\n\n<p>In component:</p>\n\n<pre><code>letters: Array&lt;string&gt; = [a, b, c, d, e];\ncurrentLetter: string= c;\n</code></pre>\n\n<p>In template:</p>\n\n<pre><code>&lt;div *ngFor=\"let letter of letters\" (click)=\"currentLetter = letter\"&gt;{{letter}}&lt;/div&gt;\n</code></pre>\n\n<p>And I wanna to see something like this in render:</p>\n\n<p>a, b, c, d, e</p>\n\n<p>And after click on 'a':</p>\n\n<p>d, e, a, b, c</p>\n\n<p>And after click on 'e':</p>\n\n<p>c, d, e, a, b</p>\n\n<p>Any ideas? :)\nThanks for help!</p>\n"}, {"tags": ["javascript", "typescript", "jasmine", "karma-jasmine"], "answers": [{"tags": [], "owner": {"reputation": 1239, "user_id": 1024052, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/54cc719a290b5196843054e5b3e42d35?s=128&d=identicon&r=PG", "display_name": "valorkin", "link": "https://stackoverflow.com/users/1024052/valorkin"}, "is_accepted": false, "score": 1, "last_activity_date": 1506942214, "creation_date": 1506942214, "answer_id": 46524265, "question_id": 46437614, "link": "https://stackoverflow.com/questions/46437614/jasmine-tests-case-not-launching-within-define-in-compiled-typescript/46524265#46524265", "title": "Jasmine tests case not launching within define in compiled Typescript", "body": "<p>You should not compile spec files with <code>tsc</code>, and then run karma over js files.</p>\n\n<p>You should setup karma with typescript loaders,\nthis is a package you should try with configuration sample:</p>\n\n<p><a href=\"https://www.npmjs.com/package/karma-typescript#configuration\" rel=\"nofollow noreferrer\">https://www.npmjs.com/package/karma-typescript#configuration</a></p>\n\n<p>If this is angular v2+ project, you are definitely\nshould use @angular/cli</p>\n\n<p><a href=\"https://github.com/angular/angular-cli\" rel=\"nofollow noreferrer\">https://github.com/angular/angular-cli</a></p>\n\n<p>It is supported by angular team, and gives you a lot of fancy things, like:</p>\n\n<ul>\n<li>prod build</li>\n<li>aot build</li>\n<li>easy universal setup</li>\n<li>karma and protractor configs, etc.</li>\n</ul>\n"}, {"tags": [], "owner": {"reputation": 127411, "user_id": 1906307, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/kRxnP.jpg?s=128&g=1", "display_name": "Louis", "link": "https://stackoverflow.com/users/1906307/louis"}, "is_accepted": true, "score": 1, "last_activity_date": 1507135377, "creation_date": 1507135377, "answer_id": 46570031, "question_id": 46437614, "link": "https://stackoverflow.com/questions/46437614/jasmine-tests-case-not-launching-within-define-in-compiled-typescript/46570031#46570031", "title": "Jasmine tests case not launching within define in compiled Typescript", "body": "<p>What you are trying to do can be done. I've done it many many times, without any trouble.</p>\n\n<p>You should always run RequireJS with the configuration option <code>enforceDefine</code> turned on:</p>\n\n<pre><code>require.config({\n  enforceDefine: true,\n  // Anything else you need.\n});\n</code></pre>\n\n<p>because it reveals problems that may go unnoticed. The only time you don't want this turned on is if you can name a substantial reason why <code>enforceDefine</code> is bad for your specific case.</p>\n\n<p>One major problem in the code you show is that you are hardcoding module names in the <code>define</code> calls. Like <code>define(\"testName\", ...</code> You should not do this. Remove the module names from your <code>define</code> calls. Hardcoded module names are added by the optimizer when you ask it to create bundles of modules. There are a few cases where you may want to hardcode a name but these cases are rare and unless you can name a substantial and good reason you need a hardcoded name, don't do it.</p>\n\n<p>In the case of your test file, the hardcoded name is especially problematic. <code>test-main.js</code> directs RequireJS to load your test files. It is effectively requiring a module named something like <code>spec/test.spec</code>. When RequireJS actually loads your JavaScript file corresponding to this module, what it finds is a definition for a module named <code>testName</code>. So it does not find the module <code>spec/test.spec</code> and it fails silently because <code>enforceDefine</code> is false.</p>\n\n<p>The hardcoded <code>component/to/test</code> name you give to <code>define</code> in <code>myTs.js</code> probably works alright given the configuration you show. I still don't recommend using a hardcoded name there. You say:</p>\n\n<blockquote>\n  <p>there was no timestamp for \"component/to/test\"</p>\n</blockquote>\n\n<p>If you mean a Karma timestamp, then there cannot be any because you do not have a file with that name.</p>\n"}], "owner": {"reputation": 561, "user_id": 3346931, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/aef094eb109c3446609486dded4d181b?s=128&d=identicon&r=PG&f=1", "display_name": "needoriginalname", "link": "https://stackoverflow.com/users/3346931/needoriginalname"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 468, "favorite_count": 0, "accepted_answer_id": 46570031, "answer_count": 2, "score": 7, "last_activity_date": 1507135377, "creation_date": 1506471584, "question_id": 46437614, "link": "https://stackoverflow.com/questions/46437614/jasmine-tests-case-not-launching-within-define-in-compiled-typescript", "title": "Jasmine tests case not launching within define in compiled Typescript", "body": "<p>I am working with a testing project, where I am writing a pure Javascript Jasmine Karma setup to test a pre-compiled Typescript setup. However, I can not get the test cases to start. </p>\n\n<p>I can see the console messages that come from compiled typescript within the console fire alright, but it simply will not start the test scripts.</p>\n\n<p>Note this came from an AngularApp, but this entire part comes from a section was made and compiled without Angular2.</p>\n\n<p>There is no error message, outside of it showing that 0/0 tests were run, and there was no timestamp for \"component/to/test\". </p>\n\n<p>In the test.spec.js file, I have</p>\n\n<pre><code>define(\"testName\", [\"component/to/test\"], function(component){\n    describe(\"testing module\", function(){\n         it(\"should work\", function(){expect(true).toEqual(true)});\n    })\n}\n</code></pre>\n\n<p>In the compiled typescript file, myTs.js</p>\n\n<pre><code>var requirejs, require, define;\n(function (global) {\n\n    define(\"component/to/test\" [\"depend\", \"ences\"]), function(depend,ences)\n    { more code here }) \n\n     some compiled typescript here\n});\nrequire.config({\n     path: {path to javascript libs},\n     shim: { ... }\n})\n</code></pre>\n\n<p>In my karma file</p>\n\n<pre><code>basePath: '',\nframeworks: ['jasmine', 'requirejs'],\nfiles: [\n     'lib1',\n     'lib2',\n     'spec/test-main.js',\n     {pattern: 'js/*.js', included: true, served: true},\n     {pattern: 'spec/*.spec.js', included: false, served: true}\n],\nexclude: [],\nreporters: ['progress'],\nautoWatch: true,\nbrowsers: ['Chrome']\n</code></pre>\n\n<p>In my test-main.js, which I got from karma init after it asked if I wanted to use requirejs.</p>\n\n<pre><code>var allTestFiles = []\nvar TEST_REGEXP = /(spec|test)\\.js$/i\n\nObject.keys(window.__karma__.files).forEach(function (file) {\nif (TEST_REGEXP.test(file)) {\n\n    var normalizedTestModule = file.replace(/^\\/base\\/|\\.js$/g, '')\n    allTestFiles.push(normalizedTestModule)\n }\n\n})\n\nrequire.config({\n   baseUrl: 'base',\n  deps: allTestFiles,\n  callback: window.__karma__.start\n})\n</code></pre>\n\n<p>comments and some not related code was removed for space.</p>\n"}, {"tags": ["node.js", "angular", "http", "typescript", "mean-stack"], "comments": [{"owner": {"reputation": 2786, "user_id": 5260710, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-6kCcRVKP0fw/AAAAAAAAAAI/AAAAAAAAAOo/h8RzE48DQDY/photo.jpg?sz=128", "display_name": "amal", "link": "https://stackoverflow.com/users/5260710/amal"}, "edited": false, "score": 0, "creation_date": 1506469491, "post_id": 46437212, "comment_id": 79831578, "body": "could you please show your full AccountService class?"}, {"owner": {"reputation": 1513, "user_id": 6872740, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/Adihz.jpg?s=128&g=1", "display_name": "shuk", "link": "https://stackoverflow.com/users/6872740/shuk"}, "reply_to_user": {"reputation": 2786, "user_id": 5260710, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-6kCcRVKP0fw/AAAAAAAAAAI/AAAAAAAAAOo/h8RzE48DQDY/photo.jpg?sz=128", "display_name": "amal", "link": "https://stackoverflow.com/users/5260710/amal"}, "edited": false, "score": 0, "creation_date": 1506470125, "post_id": 46437212, "comment_id": 79831718, "body": "Yeah, I have added the full class."}], "answers": [{"comments": [{"owner": {"reputation": 1513, "user_id": 6872740, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/Adihz.jpg?s=128&g=1", "display_name": "shuk", "link": "https://stackoverflow.com/users/6872740/shuk"}, "edited": false, "score": 0, "creation_date": 1506470358, "post_id": 46437420, "comment_id": 79831774, "body": "Thank you for replying. It works just like before - in the user-profile component &quot;LogUser&quot; successfully prints out the ID, and the user object is also retrieved inside the [{..}] Object (hovering above it says &quot;Object&quot;)"}, {"owner": {"reputation": 2786, "user_id": 5260710, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-6kCcRVKP0fw/AAAAAAAAAAI/AAAAAAAAAOo/h8RzE48DQDY/photo.jpg?sz=128", "display_name": "amal", "link": "https://stackoverflow.com/users/5260710/amal"}, "reply_to_user": {"reputation": 1513, "user_id": 6872740, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/Adihz.jpg?s=128&g=1", "display_name": "shuk", "link": "https://stackoverflow.com/users/6872740/shuk"}, "edited": false, "score": 0, "creation_date": 1506470607, "post_id": 46437420, "comment_id": 79831818, "body": "Try this on the template: <code>&lt;p&gt;{{ user | json }}&lt;&#47;p&gt;</code>. (using json pipe)"}, {"owner": {"reputation": 1513, "user_id": 6872740, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/Adihz.jpg?s=128&g=1", "display_name": "shuk", "link": "https://stackoverflow.com/users/6872740/shuk"}, "edited": false, "score": 0, "creation_date": 1506470821, "post_id": 46437420, "comment_id": 79831865, "body": "This changed the html output from [object Object] to [ { &quot;_id&quot;: &quot;59ca916323aae527b8ec7fa2&quot;, &quot;gender&quot;: &quot;male&quot;, &quot;birthday&quot;: &quot;2017-09-07&quot;, &quot;email&quot;: &quot;test@test.com&quot;, &quot;password&quot;: &quot;hashed.password&quot;, &quot;__v&quot;: 0, &quot;name&quot;: { &quot;firstName&quot;: &quot;name&quot;, &quot;middleName&quot;: &quot;test&quot;, &quot;lastName&quot;: &quot;name&quot; } } ] And also supplied an error: TypeError: Converting circular structure to JSON"}, {"owner": {"reputation": 2786, "user_id": 5260710, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-6kCcRVKP0fw/AAAAAAAAAAI/AAAAAAAAAOo/h8RzE48DQDY/photo.jpg?sz=128", "display_name": "amal", "link": "https://stackoverflow.com/users/5260710/amal"}, "reply_to_user": {"reputation": 1513, "user_id": 6872740, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/Adihz.jpg?s=128&g=1", "display_name": "shuk", "link": "https://stackoverflow.com/users/6872740/shuk"}, "edited": false, "score": 0, "creation_date": 1506471008, "post_id": 46437420, "comment_id": 79831900, "body": "apart from the error, is that what you are looking for?"}, {"owner": {"reputation": 1513, "user_id": 6872740, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/Adihz.jpg?s=128&g=1", "display_name": "shuk", "link": "https://stackoverflow.com/users/6872740/shuk"}, "edited": false, "score": 0, "creation_date": 1506471250, "post_id": 46437420, "comment_id": 79831950, "body": "It seems like the right direction... to ngOnInit I added:  this.user = JSON.stringify(user), then on HTML: {{user}} gives the same result as the piped result, except there is no error now, but {{user.email}} for instance is still not being displayed..."}, {"owner": {"reputation": 2786, "user_id": 5260710, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-6kCcRVKP0fw/AAAAAAAAAAI/AAAAAAAAAOo/h8RzE48DQDY/photo.jpg?sz=128", "display_name": "amal", "link": "https://stackoverflow.com/users/5260710/amal"}, "reply_to_user": {"reputation": 1513, "user_id": 6872740, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/Adihz.jpg?s=128&g=1", "display_name": "shuk", "link": "https://stackoverflow.com/users/6872740/shuk"}, "edited": false, "score": 0, "creation_date": 1506473315, "post_id": 46437420, "comment_id": 79832409, "body": "That is because the <code>user</code> currently is just a string. Convert it back to an object using <code>JSON.parse()</code> and see if that produces the right output. See the &#39;EDIT&#39; in my answer"}, {"owner": {"reputation": 1513, "user_id": 6872740, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/Adihz.jpg?s=128&g=1", "display_name": "shuk", "link": "https://stackoverflow.com/users/6872740/shuk"}, "edited": false, "score": 0, "creation_date": 1506473666, "post_id": 46437420, "comment_id": 79832483, "body": "It brought it back to being an object; {{user}} = [object Object] and {{user.email}} doesn&#39;t display anything again I&#39;m currently browsing to understand the method in which I can retrieve the data I need from that JSON string"}, {"owner": {"reputation": 2786, "user_id": 5260710, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-6kCcRVKP0fw/AAAAAAAAAAI/AAAAAAAAAOo/h8RzE48DQDY/photo.jpg?sz=128", "display_name": "amal", "link": "https://stackoverflow.com/users/5260710/amal"}, "reply_to_user": {"reputation": 1513, "user_id": 6872740, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/Adihz.jpg?s=128&g=1", "display_name": "shuk", "link": "https://stackoverflow.com/users/6872740/shuk"}, "edited": false, "score": 0, "creation_date": 1506473842, "post_id": 46437420, "comment_id": 79832533, "body": "Your response seems to be a list. Are you expecting one profile or more than one?"}, {"owner": {"reputation": 1513, "user_id": 6872740, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/Adihz.jpg?s=128&g=1", "display_name": "shuk", "link": "https://stackoverflow.com/users/6872740/shuk"}, "edited": false, "score": 0, "creation_date": 1506473926, "post_id": 46437420, "comment_id": 79832561, "body": "Just one profile...     <code>console.log(typeof this.user);</code> prints out <code>&#39;string&#39;</code>"}, {"owner": {"reputation": 1513, "user_id": 6872740, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/Adihz.jpg?s=128&g=1", "display_name": "shuk", "link": "https://stackoverflow.com/users/6872740/shuk"}, "edited": false, "score": 0, "creation_date": 1506474328, "post_id": 46437420, "comment_id": 79832651, "body": "It seems to be working for everyone else lol... <a href=\"https://stackoverflow.com/questions/36729907/angular2-http-display-json-specific-values\" title=\"angular2 http display json specific values\">stackoverflow.com/questions/36729907/&hellip;</a>"}, {"owner": {"reputation": 2786, "user_id": 5260710, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-6kCcRVKP0fw/AAAAAAAAAAI/AAAAAAAAAOo/h8RzE48DQDY/photo.jpg?sz=128", "display_name": "amal", "link": "https://stackoverflow.com/users/5260710/amal"}, "reply_to_user": {"reputation": 1513, "user_id": 6872740, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/Adihz.jpg?s=128&g=1", "display_name": "shuk", "link": "https://stackoverflow.com/users/6872740/shuk"}, "edited": false, "score": 0, "creation_date": 1506474481, "post_id": 46437420, "comment_id": 79832677, "body": "Try my updated answer. In your case, you are getting the resulting response as a list though: <code>[ { &quot;_id&quot;: &quot;59ca916323aae527b8ec7fa2&quot;, &quot;gender&quot;: &quot;male&quot;, &quot;birthday&quot;: &quot;2017-09-07&quot;, &quot;email&quot;: &quot;test@test.com&quot;, &quot;password&quot;: &quot;hashed.password&quot;, &quot;__v&quot;: 0, &quot;name&quot;: { &quot;firstName&quot;: &quot;name&quot;, &quot;middleName&quot;: &quot;test&quot;, &quot;lastName&quot;: &quot;name&quot; } } ]</code>"}, {"owner": {"reputation": 1513, "user_id": 6872740, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/Adihz.jpg?s=128&g=1", "display_name": "shuk", "link": "https://stackoverflow.com/users/6872740/shuk"}, "edited": false, "score": 0, "creation_date": 1506475209, "post_id": 46437420, "comment_id": 79832828, "body": "It successfully presenting the property I need! BUT with a weird error <code>ERROR TypeError: Cannot read property &#39;email&#39; of undefined</code> which I&#39;m trying to get rid of"}, {"owner": {"reputation": 2786, "user_id": 5260710, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-6kCcRVKP0fw/AAAAAAAAAAI/AAAAAAAAAOo/h8RzE48DQDY/photo.jpg?sz=128", "display_name": "amal", "link": "https://stackoverflow.com/users/5260710/amal"}, "reply_to_user": {"reputation": 1513, "user_id": 6872740, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/Adihz.jpg?s=128&g=1", "display_name": "shuk", "link": "https://stackoverflow.com/users/6872740/shuk"}, "edited": false, "score": 0, "creation_date": 1506475341, "post_id": 46437420, "comment_id": 79832859, "body": "Okay, use the <code>?</code> elvis - operator for that. <code>{{ userObj[0]?.email }}</code>"}, {"owner": {"reputation": 1513, "user_id": 6872740, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/Adihz.jpg?s=128&g=1", "display_name": "shuk", "link": "https://stackoverflow.com/users/6872740/shuk"}, "edited": false, "score": 0, "creation_date": 1506475479, "post_id": 46437420, "comment_id": 79832897, "body": "OK I FIXED IT! The problem was rooted in the list, which was rooted in the controller which used the <code>User.find</code> method instead of the <code>User.findById</code> method. Now it doesn&#39;t bring back a list anymore and I successfully manage to display {{user.email / whatever data}} and without any TypeErrors Thank you so so so so so much amal!!!!!!!!"}, {"owner": {"reputation": 2786, "user_id": 5260710, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-6kCcRVKP0fw/AAAAAAAAAAI/AAAAAAAAAOo/h8RzE48DQDY/photo.jpg?sz=128", "display_name": "amal", "link": "https://stackoverflow.com/users/5260710/amal"}, "reply_to_user": {"reputation": 1513, "user_id": 6872740, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/Adihz.jpg?s=128&g=1", "display_name": "shuk", "link": "https://stackoverflow.com/users/6872740/shuk"}, "edited": false, "score": 0, "creation_date": 1506475618, "post_id": 46437420, "comment_id": 79832924, "body": "Good that you fixed the root problem! Glad to help :)"}], "tags": [], "owner": {"reputation": 2786, "user_id": 5260710, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-6kCcRVKP0fw/AAAAAAAAAAI/AAAAAAAAAOo/h8RzE48DQDY/photo.jpg?sz=128", "display_name": "amal", "link": "https://stackoverflow.com/users/5260710/amal"}, "is_accepted": true, "score": 1, "last_activity_date": 1506475354, "last_edit_date": 1506475354, "creation_date": 1506469849, "answer_id": 46437420, "question_id": 46437212, "link": "https://stackoverflow.com/questions/46437212/how-to-use-backend-object-in-frontend-typescript-mean-stack/46437420#46437420", "title": "How to use Backend Object in FrontEnd TypeScript (MEAN Stack)", "body": "<p>Change your <code>getProfile()</code> to,</p>\n\n<pre><code>getProfile() {\n    const id = this.currentUser();\n    return this.http.get(\"http://localhost:3000/user/\" + id).\n      map(\n      (response) =&gt; response.json()\n    )\n      .catch(\n        (error: Response) =&gt; {\n          console.log(error);\n          return Observable.throw(error.json());\n        }\n      )\n    }\n</code></pre>\n\n<p>Also, in <code>ngOnInit()</code> change this one,</p>\n\n<pre><code>this.user = this.account.getProfile()\n      .subscribe((user) =&gt; {\n              this.user = user;\n            });\n</code></pre>\n\n<p>See if it gives you the right output.</p>\n\n<p><strong>EDIT</strong></p>\n\n<p>Change this one,</p>\n\n<pre><code>this.user = this.account.getProfile()\n          .subscribe((user) =&gt; {\n                  this.user = JSON.parse(JSON.stringify(user));\n                });\n</code></pre>\n\n<p><strong>EDIT-2</strong></p>\n\n<pre><code>this.user = this.account.getProfile()\n              .subscribe((user) =&gt; {\n                      this.user = JSON.stringify(user);\n                      this.userObj = JSON.parse(JSON.stringify(user));\n                      // also try, this.userObj = user; if above line didn't work\n                    });\n</code></pre>\n\n<p>Define another property in component as ,</p>\n\n<pre><code>userObj: any;\n</code></pre>\n\n<p>Refer to the object in template as this </p>\n\n<pre><code>{{ userObj[0]?.email }}\n</code></pre>\n"}], "owner": {"reputation": 1513, "user_id": 6872740, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/Adihz.jpg?s=128&g=1", "display_name": "shuk", "link": "https://stackoverflow.com/users/6872740/shuk"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 653, "favorite_count": 0, "accepted_answer_id": 46437420, "answer_count": 1, "score": 0, "last_activity_date": 1506475354, "creation_date": 1506468224, "last_edit_date": 1506469901, "question_id": 46437212, "link": "https://stackoverflow.com/questions/46437212/how-to-use-backend-object-in-frontend-typescript-mean-stack", "title": "How to use Backend Object in FrontEnd TypeScript (MEAN Stack)", "body": "<p>Using MongoDB, express.js, angular4, node.js</p>\n\n<p>A string I retrieve is well retrieved, but not the same as a full object...</p>\n\n<p><strong>account.service.ts</strong> (full, )</p>\n\n<pre><code>import { Injectable } from '@angular/core';\nimport { Http, Headers, Response } from '@angular/http';\nimport 'rxjs/Rx';\nimport { Observable } from 'rxjs/Observable';\nconst jwtDecode = require('jwt-decode');\n\nimport { User } from '../../models/user.model';\nimport { AuthService } from './auth.service';\n\n\n@Injectable()\nexport class AccountService {\n  constructor(private http: HttpClient,\n              private authService: AuthService) {}\n\n  user: any[];\n\n  currentUser() {\n    if(this.authService.isAuthenticated()){\n      const token = localStorage.getItem('token');\n      const decoded = jwtDecode(token);\n      return decoded.user;\n    }\n  };\n\n getProfile() {\nconst id = this.currentUser();\nreturn this.http.get(\"http://localhost:3000/user/\" + id).\n  map(\n  (response: Response) =&gt; {\n    const data = response.json();\n    return data;\n  }\n)\n  .catch(\n    (error: Response) =&gt; {\n      console.log(error);\n      return Observable.throw(error.json());\n    }\n  )\n}\n</code></pre>\n\n<p><strong>user-profile.component.ts</strong></p>\n\n<pre><code>export class UserProfileComponent implements OnInit {\n  id: string;\n  user: any;\n\n  constructor(private account: AccountService) {}\n\n  ngOnInit() {\n    this.id = this.account.currentUser();\n    this.user = this.account.getProfile()\n      .subscribe(user =&gt; {\n              this.user = user;\n              return this.user;\n            });\n  }\n\n  logUser() {\n    console.log(this.id);\n    console.log(this.user);\n  }\n}\n</code></pre>\n\n<p><strong>user-profile.component.html</strong></p>\n\n<pre><code>  &lt;p&gt;{{user}}&lt;/p&gt;\n  &lt;p&gt;User with ID {{id}} Loaded&lt;/p&gt;\n  &lt;a (click)=\"logUser()\"&gt;Log User Test&lt;/a&gt;\n</code></pre>\n\n<p>HTML file shows:</p>\n\n<pre><code>[object Object]\n\nUser with ID 59ca916323aae527b8ec7fa2 Loaded\n</code></pre>\n\n<p>What I get from clicking \"log User\" link is the retrieved ID string and the user object:</p>\n\n<blockquote>\n  <p>59ca916323aae527b8ec7fa2\n  [{...}] //clicking this reveals all of the object's details.</p>\n</blockquote>\n\n<p>But I can't make that step of getting those details and presenting them in the HTML as I successfully managed with the ID... I mean, {{user.anything}} doesn't fetch the user's data as it should</p>\n\n<p>May I have some assistance?</p>\n"}, {"tags": ["javascript", "arrays", "angular", "typescript", "checkbox"], "answers": [{"comments": [{"owner": {"reputation": 1193, "user_id": 7934883, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/72e6853fe6cb075569d0c9add5f920bd?s=128&d=identicon&r=PG&f=1", "display_name": "Rey", "link": "https://stackoverflow.com/users/7934883/rey"}, "edited": false, "score": 0, "creation_date": 1506485988, "post_id": 46437156, "comment_id": 79835139, "body": "Getting an error: Cannot read property &#39;innerHTML&#39; of undefined"}, {"owner": {"reputation": 1193, "user_id": 7934883, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/72e6853fe6cb075569d0c9add5f920bd?s=128&d=identicon&r=PG&f=1", "display_name": "Rey", "link": "https://stackoverflow.com/users/7934883/rey"}, "edited": false, "score": 0, "creation_date": 1506486386, "post_id": 46437156, "comment_id": 79835282, "body": "Would think I should be able to pass something via &quot;value&quot; instead of using innerHTML."}, {"owner": {"reputation": 53705, "user_id": 941272, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/10407f7f3fbf3d30443a6d22c7671ec5?s=128&d=identicon&r=PG", "display_name": "Sushanth --", "link": "https://stackoverflow.com/users/941272/sushanth"}, "reply_to_user": {"reputation": 1193, "user_id": 7934883, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/72e6853fe6cb075569d0c9add5f920bd?s=128&d=identicon&r=PG&f=1", "display_name": "Rey", "link": "https://stackoverflow.com/users/7934883/rey"}, "edited": false, "score": 0, "creation_date": 1506486627, "post_id": 46437156, "comment_id": 79835339, "body": "I don&#39;t have too much context with angular, but this is the basic gist. I was thinking the <code>$event</code> passed in as an argument is the event object."}, {"owner": {"reputation": 1193, "user_id": 7934883, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/72e6853fe6cb075569d0c9add5f920bd?s=128&d=identicon&r=PG&f=1", "display_name": "Rey", "link": "https://stackoverflow.com/users/7934883/rey"}, "edited": false, "score": 0, "creation_date": 1506486763, "post_id": 46437156, "comment_id": 79835374, "body": "I got it to work with a couple of edits. Will post momentarily. Thanks for the tips!"}], "tags": [], "owner": {"reputation": 53705, "user_id": 941272, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/10407f7f3fbf3d30443a6d22c7671ec5?s=128&d=identicon&r=PG", "display_name": "Sushanth --", "link": "https://stackoverflow.com/users/941272/sushanth"}, "is_accepted": false, "score": 1, "last_activity_date": 1506467853, "creation_date": 1506467853, "answer_id": 46437156, "question_id": 46436976, "link": "https://stackoverflow.com/questions/46436976/trying-to-handle-removing-item-from-array-with-checkbox-de-select/46437156#46437156", "title": "Trying to Handle Removing Item From Array with Checkbox De-Select", "body": "<p>You have couple of issues with the way you have written your code.\n- Instead of sending the option value, pass the event param in the scope.\n- Syntax for <code>splice</code> is incorrect - <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/splice\" rel=\"nofollow noreferrer\">Check reference</a></p>\n\n<p>Change</p>\n\n<pre><code>(change)=\"onOptionSelected('A')\"&gt;Option A\n</code></pre>\n\n<p>to </p>\n\n<pre><code>(change)=\"onOptionSelected($event)\"&gt;Option A\n</code></pre>\n\n<p><strong>JS</strong></p>\n\n<pre><code>private onOptionSelected(e) {\n  let optionValue = e.target.innerHTML.split(' ')[1];\n  let isChecked = e.target.checked;\n\n  let optionObj = {\n    option: optionValue,\n    complex: false\n  };\n\n  if (isChecked) {\n    this.record.requestedOptions.push(optionObj);\n  } else {\n    // find the element that contains optionValue\n    let indexToDelete = undefined;\n\n    this.record.requestedOptions.forEach((obj, currIndex) =&gt; {\n         if(obj.option === optionValue) {\n            indexToDelete = currIndex;\n         }\n    });\n\n    if(indexToDelete !== undefined) {\n       this.record.requestedOptions.splice(indexToDelete, 1);\n    }\n  }\n}\n</code></pre>\n"}], "owner": {"reputation": 1193, "user_id": 7934883, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/72e6853fe6cb075569d0c9add5f920bd?s=128&d=identicon&r=PG&f=1", "display_name": "Rey", "link": "https://stackoverflow.com/users/7934883/rey"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 448, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1506467853, "creation_date": 1506466494, "question_id": 46436976, "link": "https://stackoverflow.com/questions/46436976/trying-to-handle-removing-item-from-array-with-checkbox-de-select", "title": "Trying to Handle Removing Item From Array with Checkbox De-Select", "body": "<p>I am trying to handle pushing and removing elements from an array based on whether a checkbox is checked or not in an Angular 2 app. I know native HTML can handle some form of this logic, but I'm trying to figure out exactly what to target. This is what my function looks like:</p>\n\n<pre><code>private onOptionSelected(option)\n{\n    let optionObj = {\n        option: option,\n        complex: false\n    };\n\n    if (option)\n    {\n        this.record.requestedOptions.push(optionObj);\n    }\n    else if (!option)\n    {\n        this.record.requestedOptions.splice(option);\n    }\n}\n</code></pre>\n\n<p>Right now, the first part works. I can check one of the checkboxes and that item gets added to the array and saved in my backend. </p>\n\n<p>However, when I uncheck that item, rather than removing it from the array, that action ALSO triggers a new item being added to the array. </p>\n\n<p>So how do I handle the negative case here -- where an item is unchecked, and should thus be removed from the array? Can I target a native HTML attribute like \"checked\" or \"!checked\" or something similar?</p>\n\n<p>By the way, this is what my html/view looks like:</p>\n\n<pre><code>    &lt;div&gt;\n       &lt;md-checkbox \n          (change)=\"onOptionSelected('A')\"&gt;Option A\n       &lt;/md-checkbox&gt;\n\n       &lt;md-checkbox\n         (change)=\"onOptionSelected('b')\"&gt;Option B\n       &lt;/md-checkbox&gt;\n\n       &lt;md-checkbox\n         (change)=\"onOptionSelected('c')\"&gt;Option C\n       &lt;/md-checkbox&gt;\n   &lt;/div&gt;\n</code></pre>\n"}, {"tags": ["javascript", "typescript", "frontend"], "comments": [{"owner": {"reputation": 1652, "user_id": 4249059, "user_type": "registered", "accept_rate": 11, "profile_image": "https://lh5.googleusercontent.com/-mhEsNqIg4Xc/AAAAAAAAAAI/AAAAAAAADFc/3dAssL25BaY/photo.jpg?sz=128", "display_name": "Vatsal", "link": "https://stackoverflow.com/users/4249059/vatsal"}, "edited": false, "score": 2, "creation_date": 1506466368, "post_id": 46436943, "comment_id": 79830830, "body": "where is performance defined? This is being done on client or server?"}, {"owner": {"reputation": 372, "user_id": 4987433, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/d4b004d6b82f2e88a7130820ca76372c?s=128&d=identicon&r=PG&f=1", "display_name": "Ben", "link": "https://stackoverflow.com/users/4987433/ben"}, "edited": false, "score": 0, "creation_date": 1506466479, "post_id": 46436943, "comment_id": 79830860, "body": "Are you using firefox-like browsers?"}, {"owner": {"reputation": 827, "user_id": 2587048, "user_type": "registered", "accept_rate": 47, "profile_image": "https://www.gravatar.com/avatar/26dd3bb4ba4d343b9e40d5e6a205f60c?s=128&d=identicon&r=PG", "display_name": "Elsban", "link": "https://stackoverflow.com/users/2587048/elsban"}, "reply_to_user": {"reputation": 1652, "user_id": 4249059, "user_type": "registered", "accept_rate": 11, "profile_image": "https://lh5.googleusercontent.com/-mhEsNqIg4Xc/AAAAAAAAAAI/AAAAAAAADFc/3dAssL25BaY/photo.jpg?sz=128", "display_name": "Vatsal", "link": "https://stackoverflow.com/users/4249059/vatsal"}, "edited": false, "score": 0, "creation_date": 1506466532, "post_id": 46436943, "comment_id": 79830870, "body": "I am not defining it anywhere as I thought this is part of the standard library. Any help with how to do it? @Vatsal  I am on Google Chrome."}, {"owner": {"reputation": 1652, "user_id": 4249059, "user_type": "registered", "accept_rate": 11, "profile_image": "https://lh5.googleusercontent.com/-mhEsNqIg4Xc/AAAAAAAAAAI/AAAAAAAADFc/3dAssL25BaY/photo.jpg?sz=128", "display_name": "Vatsal", "link": "https://stackoverflow.com/users/4249059/vatsal"}, "edited": false, "score": 0, "creation_date": 1506466770, "post_id": 46436943, "comment_id": 79830928, "body": "Strange.. I just made a sample program. It works for me <a href=\"http://jsbin.com/vowinaloni/edit?js,console,output\" rel=\"nofollow noreferrer\">jsbin.com/vowinaloni/edit?js,console,output</a>"}, {"owner": {"reputation": 16050, "user_id": 2581562, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/u0aMo.gif?s=128&g=1", "display_name": "Legends", "link": "https://stackoverflow.com/users/2581562/legends"}, "edited": false, "score": 0, "creation_date": 1506466965, "post_id": 46436943, "comment_id": 79830966, "body": "look here: <a href=\"https://stackoverflow.com/questions/313893/how-to-measure-time-taken-by-a-function-to-execute\" title=\"how to measure time taken by a function to execute\">stackoverflow.com/questions/313893/&hellip;</a>"}, {"owner": {"reputation": 827, "user_id": 2587048, "user_type": "registered", "accept_rate": 47, "profile_image": "https://www.gravatar.com/avatar/26dd3bb4ba4d343b9e40d5e6a205f60c?s=128&d=identicon&r=PG", "display_name": "Elsban", "link": "https://stackoverflow.com/users/2587048/elsban"}, "reply_to_user": {"reputation": 1652, "user_id": 4249059, "user_type": "registered", "accept_rate": 11, "profile_image": "https://lh5.googleusercontent.com/-mhEsNqIg4Xc/AAAAAAAAAAI/AAAAAAAADFc/3dAssL25BaY/photo.jpg?sz=128", "display_name": "Vatsal", "link": "https://stackoverflow.com/users/4249059/vatsal"}, "edited": false, "score": 0, "creation_date": 1506467373, "post_id": 46436943, "comment_id": 79831065, "body": "@Vatsal Yeah that is weird  :(."}, {"owner": {"reputation": 827, "user_id": 2587048, "user_type": "registered", "accept_rate": 47, "profile_image": "https://www.gravatar.com/avatar/26dd3bb4ba4d343b9e40d5e6a205f60c?s=128&d=identicon&r=PG", "display_name": "Elsban", "link": "https://stackoverflow.com/users/2587048/elsban"}, "reply_to_user": {"reputation": 16050, "user_id": 2581562, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/u0aMo.gif?s=128&g=1", "display_name": "Legends", "link": "https://stackoverflow.com/users/2581562/legends"}, "edited": false, "score": 0, "creation_date": 1506467400, "post_id": 46436943, "comment_id": 79831072, "body": "@Legends I have but that same thing ain&#39;t working for me somehow"}, {"owner": {"reputation": 7693, "user_id": 939701, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/40daf1700004c187763959bd3055bb9e?s=128&d=identicon&r=PG", "display_name": "posit labs", "link": "https://stackoverflow.com/users/939701/posit-labs"}, "edited": false, "score": 0, "creation_date": 1506467899, "post_id": 46436943, "comment_id": 79831168, "body": "try <code>window.performance</code>. I&#39;m guessing typescript is trying to limit the scope of the performance variable when it compiles."}], "answers": [{"tags": [], "owner": {"reputation": 1104, "user_id": 2708004, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/e30026ab4bedb24a6da7542f216837fc?s=128&d=identicon&r=PG&f=1", "display_name": "gilmatic", "link": "https://stackoverflow.com/users/2708004/gilmatic"}, "is_accepted": false, "score": 76, "last_activity_date": 1525792140, "last_edit_date": 1525792140, "creation_date": 1525452517, "answer_id": 50179733, "question_id": 46436943, "link": "https://stackoverflow.com/questions/46436943/referenceerror-performance-is-not-defined-when-using-performance-now/50179733#50179733", "title": "ReferenceError: performance is not defined when using performance.now()", "body": "<p>I know this is tagged front-end but if anyone comes across this looking for a node.js solution (like me), you need to first require performance from the <strong>perf_hooks</strong> module (available in node 8.5+).</p>\n\n<pre><code>const {performance} = require('perf_hooks');\nconst t0 = performance.now();\n...\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 179, "user_id": 10396662, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c32b8eda4ac466f061c9b5cf2e338385?s=128&d=identicon&r=PG&f=1", "display_name": "Lae Kettavong", "link": "https://stackoverflow.com/users/10396662/lae-kettavong"}, "is_accepted": false, "score": 13, "last_activity_date": 1537812320, "creation_date": 1537812320, "answer_id": 52485007, "question_id": 46436943, "link": "https://stackoverflow.com/questions/46436943/referenceerror-performance-is-not-defined-when-using-performance-now/52485007#52485007", "title": "ReferenceError: performance is not defined when using performance.now()", "body": "<p>Since the 'perf_hook' module exports multiple constructs (objects, functions, constants, etc.), you will need to explicitly specify which construct you wish to use. In this case, you need the <code>performance</code> construct. The declaration can be done in two ways:</p>\n\n<pre><code>const performance = require('perf_hooks').performance;\n</code></pre>\n\n<p>or</p>\n\n<pre><code>const { performance } = require('perf_hooks'); //object destructuring\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 335, "user_id": 11739552, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f4f3ae5b7e6da1d4f71a6baf0a1fe2b4?s=128&d=identicon&r=PG&f=1", "display_name": "HeshanHH", "link": "https://stackoverflow.com/users/11739552/heshanhh"}, "is_accepted": false, "score": 2, "last_activity_date": 1594485490, "creation_date": 1594485490, "answer_id": 62851899, "question_id": 46436943, "link": "https://stackoverflow.com/questions/46436943/referenceerror-performance-is-not-defined-when-using-performance-now/62851899#62851899", "title": "ReferenceError: performance is not defined when using performance.now()", "body": "<p>yes! like above answers you need to add this..</p>\n<pre><code>const {\n      performance,\n      PerformanceObserver\n    } = require('perf_hooks');\n</code></pre>\n<p>but you can run <code>performance.now()</code> inside your browser console or in your browser -&gt; source tab -&gt; snippet without adding above code.</p>\n<p>you can read this to get to know more about this..</p>\n<p><a href=\"https://nodejs.org/api/perf_hooks.html#perf_hooks_performance_now\" rel=\"nofollow noreferrer\">https://nodejs.org/api/perf_hooks.html#perf_hooks_performance_now</a></p>\n"}, {"tags": [], "owner": {"reputation": 40321, "user_id": 451634, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/360ebfce7ad37f53a1302f8e68843139?s=128&d=identicon&r=PG", "display_name": "Benny Neugebauer", "link": "https://stackoverflow.com/users/451634/benny-neugebauer"}, "is_accepted": false, "score": 0, "last_activity_date": 1617878764, "last_edit_date": 1617878764, "creation_date": 1617876018, "answer_id": 67001642, "question_id": 46436943, "link": "https://stackoverflow.com/questions/46436943/referenceerror-performance-is-not-defined-when-using-performance-now/67001642#67001642", "title": "ReferenceError: performance is not defined when using performance.now()", "body": "<p>You will lose type information when using <code>require</code>, so the best way to import &quot;performance&quot; with TypeScript is using an <code>import</code> statement:</p>\n<pre><code>import {performance, PerformanceObserver} from 'perf_hooks';\n\nconst observer = new PerformanceObserver(items =&gt; items.getEntries().forEach((entry) =&gt; console.log(entry)));    \nobserver.observe({entryTypes: ['measure']});\n\nperformance.mark('start');\nperformance.mark('stop');\nperformance.measure('Measurement', 'start', 'stop');\n</code></pre>\n<p>Also make sure that you declared <code>@types/node</code> in your &quot;dependencies&quot; of &quot;package.json&quot;.</p>\n<p>Tested with TypeScript 4 &amp; Node.js 14.</p>\n"}], "owner": {"reputation": 827, "user_id": 2587048, "user_type": "registered", "accept_rate": 47, "profile_image": "https://www.gravatar.com/avatar/26dd3bb4ba4d343b9e40d5e6a205f60c?s=128&d=identicon&r=PG", "display_name": "Elsban", "link": "https://stackoverflow.com/users/2587048/elsban"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 17565, "favorite_count": 6, "answer_count": 4, "score": 35, "last_activity_date": 1617878764, "creation_date": 1506466229, "last_edit_date": 1506466574, "question_id": 46436943, "link": "https://stackoverflow.com/questions/46436943/referenceerror-performance-is-not-defined-when-using-performance-now", "title": "ReferenceError: performance is not defined when using performance.now()", "body": "<p>I am getting an error <code>ReferenceError: performance is not defined</code> when trying to use <a href=\"https://developer.mozilla.org/en-US/docs/Web/API/Performance/now\" rel=\"noreferrer\">performance.now()</a> to measure the execution time of a function call:</p>\n\n<pre><code>export async function find(someId: string, ctx: context.IContext) {\n\n      try {\n        var t0 = performance.now();\n\n        var res = someModel.find(someId, ctx.cookies);\n\n        var t1 = performance.now();\n        console.log(\"Call to find took \" + (t1 - t0) + \" milliseconds.\");\n\n        return res;\n      } catch (err) {\n        console.error(err);\n        throw err;\n      }\n    }\n</code></pre>\n\n<p>Any ideas how I can fix this?</p>\n"}, {"tags": ["javascript", "angular", "typescript"], "comments": [{"owner": {"reputation": 123667, "user_id": 257182, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/f2c683e7dc0c4d4bcc790f87eaa67301?s=128&d=identicon&r=PG", "display_name": "RobG", "link": "https://stackoverflow.com/users/257182/robg"}, "edited": false, "score": 2, "creation_date": 1506466058, "post_id": 46436864, "comment_id": 79830751, "body": "What have you tried? Where did it go wrong? I&#39;d expect a regular expression like <code>mystring.replace(&#47;^&lt;br&gt;|&lt;br&gt;$&#47;g,&#39;&#39;)</code> should work. However you <b><i>must</i></b> also read <a href=\"https://stackoverflow.com/questions/1732348/regex-match-open-tags-except-xhtml-self-contained-tags\"><i>RegEx match open tags except XHTML self-contained tags</i></a>. Also see <a href=\"https://regex101.com\" rel=\"nofollow noreferrer\"><i>regexp101.com</i></a>."}, {"owner": {"reputation": 2842, "user_id": 7302170, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/1a565b1f08ce56f724b9a66a3c239037?s=128&d=identicon&r=PG&f=1", "display_name": "Janier", "link": "https://stackoverflow.com/users/7302170/janier"}, "reply_to_user": {"reputation": 123667, "user_id": 257182, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/f2c683e7dc0c4d4bcc790f87eaa67301?s=128&d=identicon&r=PG", "display_name": "RobG", "link": "https://stackoverflow.com/users/257182/robg"}, "edited": false, "score": 0, "creation_date": 1506466104, "post_id": 46436864, "comment_id": 79830763, "body": "I added what i wrote.Can you plz explain this?"}, {"owner": {"reputation": 2742, "user_id": 643084, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/b7a99db515d3dc521ff866ea9bfc41f4?s=128&d=identicon&r=PG", "display_name": "WindowsMaker", "link": "https://stackoverflow.com/users/643084/windowsmaker"}, "edited": false, "score": 0, "creation_date": 1506466192, "post_id": 46436864, "comment_id": 79830785, "body": "@jocket mmm your code would break if <code>mystring</code> does not end with a <code>&lt;br&gt;</code>, because you&#39;d end up remove whatever comes after the last <code>&lt;br&gt;</code>"}], "answers": [{"comments": [{"owner": {"reputation": 123667, "user_id": 257182, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/f2c683e7dc0c4d4bcc790f87eaa67301?s=128&d=identicon&r=PG", "display_name": "RobG", "link": "https://stackoverflow.com/users/257182/robg"}, "edited": false, "score": 1, "creation_date": 1506491335, "post_id": 46438103, "comment_id": 79836827, "body": "There is no need for the replace function, <code>&#39;&#39;</code> is sufficient, more compatible and likely very much faster."}, {"owner": {"reputation": 2786, "user_id": 5260710, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-6kCcRVKP0fw/AAAAAAAAAAI/AAAAAAAAAOo/h8RzE48DQDY/photo.jpg?sz=128", "display_name": "amal", "link": "https://stackoverflow.com/users/5260710/amal"}, "reply_to_user": {"reputation": 123667, "user_id": 257182, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/f2c683e7dc0c4d4bcc790f87eaa67301?s=128&d=identicon&r=PG", "display_name": "RobG", "link": "https://stackoverflow.com/users/257182/robg"}, "edited": false, "score": 0, "creation_date": 1506508652, "post_id": 46438103, "comment_id": 79847007, "body": "yeah makes sense, I was initially skeptical of it to work only for all the matches within if provided as a replacement function. Should&#39;ve tried the string type too. Thanks for pointing it out."}], "tags": [], "owner": {"reputation": 2786, "user_id": 5260710, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-6kCcRVKP0fw/AAAAAAAAAAI/AAAAAAAAAOo/h8RzE48DQDY/photo.jpg?sz=128", "display_name": "amal", "link": "https://stackoverflow.com/users/5260710/amal"}, "is_accepted": false, "score": 1, "last_activity_date": 1506508659, "last_edit_date": 1506508659, "creation_date": 1506475700, "answer_id": 46438103, "question_id": 46436864, "link": "https://stackoverflow.com/questions/46436864/remove-leading-and-traling-br-from-a-string/46438103#46438103", "title": "remove leading and traling &lt;br&gt; from a string", "body": "<p>To do exactly that, you can use this (confirmed locally),</p>\n\n<pre><code>mystring.replace(/(^(&lt;br&gt;)+)|((&lt;br&gt;)+$)/g, '')\n</code></pre>\n\n<p>See <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String/replace\" rel=\"nofollow noreferrer\">this</a> for more info. Hope it helps.</p>\n"}], "owner": {"reputation": 2842, "user_id": 7302170, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/1a565b1f08ce56f724b9a66a3c239037?s=128&d=identicon&r=PG&f=1", "display_name": "Janier", "link": "https://stackoverflow.com/users/7302170/janier"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 46, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1506508659, "creation_date": 1506465810, "last_edit_date": 1506466866, "question_id": 46436864, "link": "https://stackoverflow.com/questions/46436864/remove-leading-and-traling-br-from-a-string", "title": "remove leading and traling &lt;br&gt; from a string", "body": "<p>I have <code>&lt;br&gt;</code> inserted into a string using some logic in typescript.\nI wanted to remove the <code>&lt;br&gt;</code>  at the begining and end of the string. Others should remain as it.\nWhat is the best way to achieve?</p>\n\n<p>I achieved it using <code>mystring.substring(mystring.indexOf('&lt;br&gt;'),mystring.lastIndexOf('&lt;br&gt;'))</code></p>\n\n<p>Want to know if its the optimum way of doing this.</p>\n\n<p>Its a little more complicated.. Should replace all the <br> in the starting of the string and ending of the string.</p>\n\n<pre><code>&lt;br&gt;&lt;br&gt;hello&lt;br&gt;user&lt;br&gt;&lt;br&gt;&lt;br&gt; should return hello&lt;br&gt;user\n</code></pre>\n"}, {"tags": ["javascript", "jquery", "html", "angular", "typescript"], "comments": [{"owner": {"reputation": 7649, "user_id": 7733570, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zwdV1.jpg?s=128&g=1", "display_name": "Z. Bagley", "link": "https://stackoverflow.com/users/7733570/z-bagley"}, "edited": false, "score": 0, "creation_date": 1506465340, "post_id": 46436727, "comment_id": 79830588, "body": "What do you mean &#39;isn&#39;t working&#39;? <code>input=&quot;date&quot;</code> is an HTML5 item, so it&#39;s most likely your firefox is severely outdated. Jquery UI has browser support for all the latest browsers."}, {"owner": {"reputation": 2786, "user_id": 5260710, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-6kCcRVKP0fw/AAAAAAAAAAI/AAAAAAAAAOo/h8RzE48DQDY/photo.jpg?sz=128", "display_name": "amal", "link": "https://stackoverflow.com/users/5260710/amal"}, "edited": false, "score": 0, "creation_date": 1506465345, "post_id": 46436727, "comment_id": 79830591, "body": "The MDN <a href=\"https://developer.mozilla.org/en-US/docs/Web/HTML/Element/input/date\" rel=\"nofollow noreferrer\">link</a> say so too. Check &#39;Browser compatibility&#39; section on that link"}], "answers": [{"tags": [], "owner": {"reputation": 2473, "user_id": 6056359, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/ca9fU.jpg?s=128&g=1", "display_name": "Isaac Obella", "link": "https://stackoverflow.com/users/6056359/isaac-obella"}, "is_accepted": false, "score": 1, "last_activity_date": 1506486897, "creation_date": 1506486897, "answer_id": 46439577, "question_id": 46436727, "link": "https://stackoverflow.com/questions/46436727/how-to-use-input-type-date-in-my-angular4-app-current-browser-is-mozilla-firefo/46439577#46439577", "title": "how to use input type date in my angular4 app? current browser is mozilla firefox", "body": "<p>You could use the <a href=\"https://material.angular.io/components/datepicker/overview\" rel=\"nofollow noreferrer\">Angular Material Datepicker</a> its worked for me both on chrome and firefox with no issues. <a href=\"https://i.stack.imgur.com/4egDJ.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/4egDJ.jpg\" alt=\"Datepicker\"></a></p>\n"}, {"tags": [], "owner": {"reputation": 190, "user_id": 8406861, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/3Yu4l.jpg?s=128&g=1", "display_name": "rabpeter", "link": "https://stackoverflow.com/users/8406861/rabpeter"}, "is_accepted": true, "score": 0, "last_activity_date": 1506517765, "creation_date": 1506517765, "answer_id": 46448771, "question_id": 46436727, "link": "https://stackoverflow.com/questions/46436727/how-to-use-input-type-date-in-my-angular4-app-current-browser-is-mozilla-firefo/46448771#46448771", "title": "how to use input type date in my angular4 app? current browser is mozilla firefox", "body": "<p>Solved this issues using jQuery Ui datepicker.\n  Like this.  </p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>import { Component, AfterViewInit, ElementRef, ViewChild } from '@angular/core';\r\n...\r\ndeclare var $: any;\r\n\r\nexport class MyClass implements AfterViewInit {\r\n  @ViewChild('datepicker1') el1: ElementRef;\r\n  \r\n  ...\r\n    ngAfterViewInit() {\r\n    $(this.el1.nativeElement).datepicker();</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 190, "user_id": 8406861, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/3Yu4l.jpg?s=128&g=1", "display_name": "rabpeter", "link": "https://stackoverflow.com/users/8406861/rabpeter"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 162, "favorite_count": 1, "accepted_answer_id": 46448771, "answer_count": 2, "score": 0, "last_activity_date": 1506517765, "creation_date": 1506464901, "question_id": 46436727, "link": "https://stackoverflow.com/questions/46436727/how-to-use-input-type-date-in-my-angular4-app-current-browser-is-mozilla-firefo", "title": "how to use input type date in my angular4 app? current browser is mozilla firefox", "body": "<p>I'm currently working in Angular4 app. And I used input type date, it is working in chrome, but not working in mozilla.\nHow to solve this issue? I thought I can use jQueryUi datepicker, but it makes some issues as well.</p>\n\n<p>Any ideas about this?</p>\n"}, {"tags": ["typescript", "mobx"], "owner": {"reputation": 549, "user_id": 7324093, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2a9118c1df1d53bb76cae66ab171f727?s=128&d=identicon&r=PG&f=1", "display_name": "shuntksh", "link": "https://stackoverflow.com/users/7324093/shuntksh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 253, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1506464485, "creation_date": 1506464485, "question_id": 46436672, "link": "https://stackoverflow.com/questions/46436672/type-declaration-for-decorated-method-in-typescript", "title": "Type declaration for decorated method in TypeScript", "body": "<p>I am trying to use Mobx library in my React project using TypeScript. Assuming \"experimentalDecorators\" is enabled in tsconfig.json.</p>\n\n<p>In Mobx, the observable decorator takes value (in below case string[]) and returns an observable value (in this case IObservableArray). It means that <code>store.todos</code> in below is actually IObservableArray not String[].</p>\n\n<p>However, TSC does not seem to check derived value of decorated property and still thinks <code>todos</code> is string[].</p>\n\n<pre><code>class TodoStore {\n    @observable public todos = [\"buy milk\", \"buy eggs\"];\n}\nconst store = TodoStore;\nstore.todos.replace([]);  // &lt;- error as replace comes from IObservableArray\n</code></pre>\n\n<p>Is there a way to configure TypeScript to correctly determines the derived value type of decorator function that changes value type?</p>\n\n<p>Below equivalent code without @ notation gives me what I want but wondering if there is a way to use decorator syntax (@decolator) to do the same.</p>\n\n<pre><code>class Store {\n    public todos = observable([\"buy milk\", \"buy eggs\"]);\n}\n</code></pre>\n"}]