[{"tags": ["performance", "typescript", "angular", "webpack"], "answers": [{"comments": [{"owner": {"reputation": 134, "user_id": 2871139, "user_type": "registered", "profile_image": "https://graph.facebook.com/100002191378819/picture?type=large", "display_name": "Andres Roget", "link": "https://stackoverflow.com/users/2871139/andres-roget"}, "edited": false, "score": 0, "creation_date": 1462475610, "post_id": 37040050, "comment_id": 61663880, "body": "Hey @basart thanks for your suggestion, I have updated my question with my tsconfig... I did not have that option set, but it did not have much of an impact when I added it though..."}], "tags": [], "owner": {"reputation": 204459, "user_id": 390330, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/1400be56ff17549b926dd3260da4a494?s=128&d=identicon&r=PG", "display_name": "basarat", "link": "https://stackoverflow.com/users/390330/basarat"}, "is_accepted": false, "score": 0, "last_activity_date": 1462406088, "creation_date": 1462406088, "answer_id": 37040050, "question_id": 37040026, "link": "https://stackoverflow.com/questions/37040026/typescript-compilation-extremely-slow-12s/37040050#37040050", "title": "TypeScript compilation extremely slow &gt; 12s", "body": "<p>Please share you <code>tsconfig.json</code>. Most likely you have <code>noEmitOnError</code> set to <code>true</code> which means that the compiler is <em>forced to typecheck the whole codebase</em> before any emitting. </p>\n\n<p>Please set that to false. </p>\n"}, {"tags": [], "owner": {"reputation": 888, "user_id": 1141891, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HFkQJ.jpg?s=128&g=1", "display_name": "kyranjamie", "link": "https://stackoverflow.com/users/1141891/kyranjamie"}, "is_accepted": false, "score": 5, "last_activity_date": 1498211535, "creation_date": 1498211535, "answer_id": 44718408, "question_id": 37040026, "link": "https://stackoverflow.com/questions/37040026/typescript-compilation-extremely-slow-12s/44718408#44718408", "title": "TypeScript compilation extremely slow &gt; 12s", "body": "<p>I would stick to the <code>awesome-typescript-loader</code>.  It has some performance options you can enable: a caching option and a transpile only option:</p>\n\n<pre><code>\"awesomeTypescriptLoaderOptions\": {\n  \"useCache\": true,\n  \"transpileOnly\": true\n}\n</code></pre>\n\n<p>Both of these had a significant improvement on compile times.</p>\n"}], "owner": {"reputation": 134, "user_id": 2871139, "user_type": "registered", "profile_image": "https://graph.facebook.com/100002191378819/picture?type=large", "display_name": "Andres Roget", "link": "https://stackoverflow.com/users/2871139/andres-roget"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4737, "favorite_count": 2, "answer_count": 2, "score": 10, "last_activity_date": 1498211535, "creation_date": 1462405951, "last_edit_date": 1462475739, "question_id": 37040026, "link": "https://stackoverflow.com/questions/37040026/typescript-compilation-extremely-slow-12s", "title": "TypeScript compilation extremely slow &gt; 12s", "body": "<p>Just putting this out there to see if someone else is having this issue...</p>\n\n<p>I have building an angular 2 app with typescript using webpack as my build tool, it all works well, however I have noticed typescript compilation is super super slow, I am at 12 seconds right now...., and its pretty clear that is all due to the typescript compilation process....</p>\n\n<p>I have used ts-loader or awesome-typescript-loader with a similar result, if I comment out this loader, my build time drops to around 1 sec....</p>\n\n<p>After some research it seems like its 'normal' to have 'slow' times when compiling typescript, but is 12secs the normal?? </p>\n\n<p>Old posts hinted it might be due to a node version conflict, I am currently running v4.4.2...</p>\n\n<p>Any how below is my webpack code in case anyone spots something wrong there.. the commented code in the Uglify section is due to some 'bug' on the angular 2 side...</p>\n\n<pre><code>const path = require('path');\nconst merge = require('webpack-merge');\nconst webpack = require('webpack');\n\nconst NpmInstallPlugin = require('npm-install-webpack-plugin');\nconst CopyWebpackPlugin = require('copy-webpack-plugin');\nconst HtmlWebpackPlugin = require('html-webpack-plugin');\nconst TARGET = process.env.npm_lifecycle_event;\n\nconst PATHS = {\n  app: path.join(__dirname, 'app'),\n  dist: path.join(__dirname, 'dist')\n};\n\nconst common = {\n  entry: {\n    vendor: ['./app/vendor.ts'],\n    main: ['./app/boot.component.ts']\n  },\n  output: {\n    filename: '[name].[hash].bundle.js',\n    path: PATHS.dist\n  },\n  resolve: {\n    extensions: ['', '.js', '.ts']\n  },\n  plugins: [\n    new HtmlWebpackPlugin({\n      title: 'Qarrot Performance',\n      template: 'index.template.ejs',\n      commonStyles: [\n        '/public/styles/vendor/normalize.css',\n        '/public/styles/main.css'\n      ],\n      commonScripts: [],\n      baseHref: '/',\n      unsupportedBrowser: true,\n      mobile: true,\n      appMountId: 'app'\n    }),\n  ],\n  module: {\n    loaders: [\n      {\n        test: /\\.ts$/,\n        exclude: /node_modules/,\n        loaders: ['ts-loader']\n      },\n      {\n        test: /\\.scss$/,\n        loader: 'raw-loader!sass-loader'\n      },\n      {\n        test: /\\.html$/,\n        loader: \"html\"\n      }\n    ]\n  }\n}\n\n// Dev Settings\nif(TARGET === 'start' || !TARGET) {\n  module.exports = merge(common, {\n    devtool: 'eval-source-map',\n    devServer: {\n      contentBase: PATHS.build,\n      historyApiFallback: true,\n      hot: true,\n      inline: true,\n      progress: true,\n      stats: 'errors-only',\n    },\n    plugins: [\n      new webpack.HotModuleReplacementPlugin(),\n      new NpmInstallPlugin({\n        save: true\n      })\n    ]\n  });\n}\n\n// Prod Settings\nif(TARGET === 'build') {\n  module.exports = merge(common, {\n    devtool: 'cheap-module-source-map',\n    plugins: [\n      // new webpack.optimize.UglifyJsPlugin({\n      //   beautify: false,\n      //   mangle: false,\n      //   compress : { screw_ie8 : true },\n      //   comments: false\n      // }),\n      new webpack.optimize.DedupePlugin(),\n      new webpack.DefinePlugin({\n        'process.env.NODE_ENV': '\"production\"'\n      }),\n      new CopyWebpackPlugin([\n            { from: 'public', to: 'public' }\n      ]),\n      new webpack.optimize.CommonsChunkPlugin({\n        names: ['vendor', 'manifest']\n      }),\n    ]\n  });\n}\n</code></pre>\n\n<p>I am also on a Mac, running Angular 2 beta.15 and webpack version 1.12, below is my tsconfig.json</p>\n\n<pre><code>{\n  \"compilerOptions\": {\n    \"target\": \"es5\",\n    \"module\": \"commonjs\",\n    \"moduleResolution\": \"node\",\n    \"sourceMap\": false,\n    \"emitDecoratorMetadata\": true,\n    \"experimentalDecorators\": true,\n    \"removeComments\": false,\n    \"noImplicitAny\": false\n  },\n  \"compileOnSave\": false,\n  \"exclude\": [\n    \"node_modules\",\n    \"typings/main\",\n    \"typings/main.d.ts\"\n  ]\n}\n</code></pre>\n"}, {"tags": ["typescript"], "answers": [{"comments": [{"owner": {"reputation": 204459, "user_id": 390330, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/1400be56ff17549b926dd3260da4a494?s=128&d=identicon&r=PG", "display_name": "basarat", "link": "https://stackoverflow.com/users/390330/basarat"}, "edited": false, "score": 1, "creation_date": 1462405936, "post_id": 37039780, "comment_id": 61629812, "body": "<code>Event is not defined as a Class in Typescript since it&#39;s a JS object</code> this is not the limitation the user is hitting. <code>Event</code> is defined with <code>new</code> signatures which allows inheritance in TypeScript (similar to <code>Error</code>). See my answer \t\ud83c\udf39"}], "tags": [], "owner": {"reputation": 4315, "user_id": 1768702, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/ced4cc517f215af04800f05f52eb310b?s=128&d=identicon&r=PG", "display_name": "yelsayed", "link": "https://stackoverflow.com/users/1768702/yelsayed"}, "is_accepted": false, "score": 0, "last_activity_date": 1462404435, "creation_date": 1462404435, "answer_id": 37039780, "question_id": 37039638, "link": "https://stackoverflow.com/questions/37039638/is-it-possible-to-extend-the-built-in-event-class-in-typescript/37039780#37039780", "title": "Is it possible to extend the built-in Event class in TypeScript?", "body": "<p><code>Event</code> is not defined as a Class in Typescript since it's a JS object. What you want in this case is a wrapper class that calls <code>Event</code>'s methods the way you want. You can then extend that wrapper.</p>\n"}, {"comments": [{"owner": {"reputation": 80876, "user_id": 188246, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/bTzLq.jpg?s=128&g=1", "display_name": "David Sherret", "link": "https://stackoverflow.com/users/188246/david-sherret"}, "edited": false, "score": 0, "creation_date": 1462405934, "post_id": 37040013, "comment_id": 61629810, "body": "Yup. <a href=\"https://github.com/Microsoft/TypeScript/issues/5069#issuecomment-145139205\" rel=\"nofollow noreferrer\">Engines aren&#39;t there yet</a>."}, {"owner": {"reputation": 204459, "user_id": 390330, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/1400be56ff17549b926dd3260da4a494?s=128&d=identicon&r=PG", "display_name": "basarat", "link": "https://stackoverflow.com/users/390330/basarat"}, "reply_to_user": {"reputation": 80876, "user_id": 188246, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/bTzLq.jpg?s=128&g=1", "display_name": "David Sherret", "link": "https://stackoverflow.com/users/188246/david-sherret"}, "edited": false, "score": 0, "creation_date": 1462405987, "post_id": 37040013, "comment_id": 61629825, "body": "Thanks for the link @DavidSherret"}], "tags": [], "owner": {"reputation": 204459, "user_id": 390330, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/1400be56ff17549b926dd3260da4a494?s=128&d=identicon&r=PG", "display_name": "basarat", "link": "https://stackoverflow.com/users/390330/basarat"}, "is_accepted": true, "score": 4, "last_activity_date": 1462405868, "creation_date": 1462405868, "answer_id": 37040013, "question_id": 37039638, "link": "https://stackoverflow.com/questions/37039638/is-it-possible-to-extend-the-built-in-event-class-in-typescript/37040013#37040013", "title": "Is it possible to extend the built-in Event class in TypeScript?", "body": "<blockquote>\n  <p>Uncaught TypeError: Failed to construct 'Event': Please use the 'new' operator, this DOM object constructor cannot be called as a function.</p>\n</blockquote>\n\n<p>The issue is with the <code>Event</code> <em>definition inside the v8 runtime</em>. it doesn't lend itself to <code>class</code> based extension. The same issue used to exist for error, i.e. the following used to fail: </p>\n\n<pre><code>class MyError extends Error {\n    constructor(message) {\n        super(message);\n    }\n}\n\nconst error = new MyError(\"some message\");\n</code></pre>\n\n<p>So at the moment. You <em>cannot</em> extend the <code>Event</code> class in TypeScript (or ES6 classes).</p>\n"}, {"tags": [], "owner": {"reputation": 109, "user_id": 2494798, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/e66de9803b49b1667860fad922e91302?s=128&d=identicon&r=PG", "display_name": "dzwonu", "link": "https://stackoverflow.com/users/2494798/dzwonu"}, "is_accepted": false, "score": 0, "last_activity_date": 1533724163, "creation_date": 1533724163, "answer_id": 51744410, "question_id": 37039638, "link": "https://stackoverflow.com/questions/37039638/is-it-possible-to-extend-the-built-in-event-class-in-typescript/51744410#51744410", "title": "Is it possible to extend the built-in Event class in TypeScript?", "body": "<p>You can create a static class which will be events provider:</p>\n\n<pre><code>static class EventProvider {\n\n    static createEvent(name: string): Event {\n        return new Event(name);\n    }\n\n    static createCustomEvent&lt;T&gt;(name: string, detail: T): CustomEvent&lt;T&gt; {\n        return new CustomEvent&lt;T&gt;(name, { detail: detail });\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 548, "user_id": 895589, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/edf8c89adb71d4763f9c75a6892f1388?s=128&d=identicon&r=PG", "display_name": "Toast", "link": "https://stackoverflow.com/users/895589/toast"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1947, "favorite_count": 0, "accepted_answer_id": 37040013, "answer_count": 3, "score": 2, "last_activity_date": 1533724163, "creation_date": 1462403462, "last_edit_date": 1462404876, "question_id": 37039638, "link": "https://stackoverflow.com/questions/37039638/is-it-possible-to-extend-the-built-in-event-class-in-typescript", "title": "Is it possible to extend the built-in Event class in TypeScript?", "body": "<p>Code:</p>\n\n<pre><code>class MyEvent extends Event {\n    constructor(name) {\n        super(name);\n    }\n}\n\nvar event = new MyEvent(\"mousemove\");\n</code></pre>\n\n<p>Runtime error:</p>\n\n<blockquote>\n  <p>Uncaught TypeError: Failed to construct 'Event': Please use the 'new' operator, this DOM object constructor cannot be called as a function.</p>\n</blockquote>\n\n<p>Is there a way around this?</p>\n"}, {"tags": ["typescript", "tslint"], "answers": [{"tags": [], "owner": {"reputation": 204459, "user_id": 390330, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/1400be56ff17549b926dd3260da4a494?s=128&d=identicon&r=PG", "display_name": "basarat", "link": "https://stackoverflow.com/users/390330/basarat"}, "is_accepted": false, "score": 1, "last_activity_date": 1462407808, "creation_date": 1462407808, "answer_id": 37040306, "question_id": 37039045, "link": "https://stackoverflow.com/questions/37039045/how-to-configure-tslint-one-line-for-some-rules-and-the-opposite-for-others/37040306#37040306", "title": "How to configure TSLint one-line for some rules and the opposite for others?", "body": "<blockquote>\n  <p>How to configure TSLint one-line for some rules and the opposite for others?</p>\n</blockquote>\n\n<p>You basically want a rule like <code>multiline</code> for <code>catch</code>/<code>else</code>/<code>finally</code>. Going through : <a href=\"https://github.com/palantir/tslint\" rel=\"nofollow\">https://github.com/palantir/tslint</a> I don't see such a rule mentioned. </p>\n\n<p>You can request it here : <a href=\"https://github.com/palantir/tslint/issues\" rel=\"nofollow\">https://github.com/palantir/tslint/issues</a></p>\n"}, {"tags": [], "owner": {"reputation": 787, "user_id": 4161912, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d0c15a1a850b825f76ffa7a8cd56f6de?s=128&d=identicon&r=PG&f=1", "display_name": "Mino", "link": "https://stackoverflow.com/users/4161912/mino"}, "is_accepted": false, "score": 0, "last_activity_date": 1510597460, "creation_date": 1510597460, "answer_id": 47271062, "question_id": 37039045, "link": "https://stackoverflow.com/questions/37039045/how-to-configure-tslint-one-line-for-some-rules-and-the-opposite-for-others/47271062#47271062", "title": "How to configure TSLint one-line for some rules and the opposite for others?", "body": "<p>There is <a href=\"https://github.com/buzinas/tslint-eslint-rules\" rel=\"nofollow noreferrer\">tslint-eslint-rules</a> packege, which makes possible to run (some) of the eslint rules in tslint. Luckily, the <a href=\"https://eslint.org/docs/rules/brace-style\" rel=\"nofollow noreferrer\">brace-style</a> rule is implemented and your brace-style can be enforced by:</p>\n\n<pre><code>\"brace-style\": [\"error\", \"stroustrup\"]\n</code></pre>\n\n<p>(I didn't tried it, it is possible that it requires some tweaking)</p>\n"}], "owner": {"reputation": 87802, "user_id": 340760, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/ef1a0f00d57917768acdc5b379ca1b28?s=128&d=identicon&r=PG", "display_name": "BrunoLM", "link": "https://stackoverflow.com/users/340760/brunolm"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1447, "favorite_count": 0, "answer_count": 2, "score": 4, "last_activity_date": 1510597460, "creation_date": 1462400410, "question_id": 37039045, "link": "https://stackoverflow.com/questions/37039045/how-to-configure-tslint-one-line-for-some-rules-and-the-opposite-for-others", "title": "How to configure TSLint one-line for some rules and the opposite for others?", "body": "<p>There is the <code>one-line</code> config where I can force the code, for example, <code>else</code> to go in the same line as the if's <code>}</code>.</p>\n\n<pre><code>\"one-line\": [\n  true,\n  \"check-open-brace\",\n  \"check-catch\",\n  \"check-else\",\n  \"check-finally\",\n  \"check-whitespace\"\n],\n</code></pre>\n\n<p>What I want to do is keep these two as <code>one-line</code></p>\n\n<pre><code>\"one-line\": [\n  true,\n  \"check-open-brace\",\n  \"check-whitespace\"\n],\n</code></pre>\n\n<p>but force others to go in a separated line</p>\n\n<pre><code>\"check-catch\",\n\"check-else\",\n\"check-finally\",\n</code></pre>\n\n<p>So I can force</p>\n\n<pre><code>if () {\n}\nelse {\n}\n</code></pre>\n\n<p>I'm currently using TSLint@3.9.0. How can I set this up?</p>\n"}, {"tags": ["jquery", "knockout.js", "typescript", "definitelytyped"], "answers": [{"tags": [], "owner": {"reputation": 52804, "user_id": 419956, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/ab00b6c461dcf852df10c077a0a2b4eb?s=128&d=identicon&r=PG", "display_name": "Jeroen", "link": "https://stackoverflow.com/users/419956/jeroen"}, "is_accepted": true, "score": 4, "last_activity_date": 1462399658, "creation_date": 1462399658, "answer_id": 37038911, "question_id": 37038580, "link": "https://stackoverflow.com/questions/37038580/why-use-definitely-typed-typescript-files-for-knockout-jquery/37038911#37038911", "title": "Why use Definitely Typed typescript files for Knockout/jQuery", "body": "<p>No, it is not <em>required</em>.</p>\n\n<p>They are mostly useful for tooling support (e.g. intellisense) and compile time checks, as they describe the API of an external library. If you don't care about that you can forego including them, but you will probably need to tell Typescript about the globals that these libraries expose. </p>\n\n<p>For example:</p>\n\n<pre><code>declare var ko, $, jQuery;\nko.applyBindings({}, $(\".root-container\"))[0];\n</code></pre>\n\n<p>There's more clever ways than these <code>declare</code>s, in fact that's <em>exactly</em> what <code>.d.ts</code> files contain: clever declarations of the library you're using. Have a look <a href=\"https://github.com/DefinitelyTyped/DefinitelyTyped/blob/master/knockout/knockout.d.ts\" rel=\"nofollow\">e.g. at the Knockout <code>.d.ts</code> file</a> (start at the bottom I'd say), they're not all too complicated.</p>\n"}], "owner": {"reputation": 641, "user_id": 154763, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/3cd1d1116e4aef5e8294e366f96ac3b1?s=128&d=identicon&r=PG", "display_name": "AgentHunt", "link": "https://stackoverflow.com/users/154763/agenthunt"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 366, "favorite_count": 0, "accepted_answer_id": 37038911, "answer_count": 1, "score": 0, "last_activity_date": 1462399658, "creation_date": 1462398204, "last_edit_date": 1462398618, "question_id": 37038580, "link": "https://stackoverflow.com/questions/37038580/why-use-definitely-typed-typescript-files-for-knockout-jquery", "title": "Why use Definitely Typed typescript files for Knockout/jQuery", "body": "<p>This might be a dumb question, but can someone tell me if it is 'required' to use definitely typed (.d.ts) versions of external libraries with Typescript?\nI have a code base that uses jQuery and Knockout in the conventional way (including script/cdns in html file). Also, I need to update the code base to use Typescript. I would like to know if these is an issue with keeping the jQuery and knockout references intact and still use Typescript.</p>\n"}, {"tags": ["typescript"], "comments": [{"owner": {"reputation": 382, "user_id": 1006048, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8e6047c6491598bd02e3ceee167fa2a3?s=128&d=identicon&r=PG", "display_name": "Gavin S", "link": "https://stackoverflow.com/users/1006048/gavin-s"}, "edited": false, "score": 0, "creation_date": 1462400994, "post_id": 37038412, "comment_id": 61628263, "body": "If I use my own custom <code>typescript.js</code> and comment out the <code>if (part)</code> of <code>getNormalizedParts()</code>. Everything works as expected. It would really be nice to not have to use my own script."}], "answers": [{"tags": [], "owner": {"reputation": 204459, "user_id": 390330, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/1400be56ff17549b926dd3260da4a494?s=128&d=identicon&r=PG", "display_name": "basarat", "link": "https://stackoverflow.com/users/390330/basarat"}, "is_accepted": true, "score": 1, "last_activity_date": 1462614181, "creation_date": 1462614181, "answer_id": 37086938, "question_id": 37038412, "link": "https://stackoverflow.com/questions/37038412/typescript-option-to-not-remove-from-filename/37086938#37086938", "title": "TypeScript option to not remove &#39;//&#39; from filename", "body": "<p>For record its been fixed in TypeScript master : <a href=\"https://github.com/Microsoft/TypeScript/pull/8481\" rel=\"nofollow\">https://github.com/Microsoft/TypeScript/pull/8481</a> </p>\n\n<p><code>npm install typescript@next</code></p>\n"}], "owner": {"reputation": 382, "user_id": 1006048, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8e6047c6491598bd02e3ceee167fa2a3?s=128&d=identicon&r=PG", "display_name": "Gavin S", "link": "https://stackoverflow.com/users/1006048/gavin-s"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 42, "favorite_count": 0, "accepted_answer_id": 37086938, "answer_count": 1, "score": 1, "last_activity_date": 1462614181, "creation_date": 1462397518, "question_id": 37038412, "link": "https://stackoverflow.com/questions/37038412/typescript-option-to-not-remove-from-filename", "title": "TypeScript option to not remove &#39;//&#39; from filename", "body": "<p>I'm trying to get the <a href=\"http://plnkr.co/edit/6DsRFUYMnzTnyMb4kzRu?p=preview\" rel=\"nofollow\">angular2 quick start example</a> working in my environment.</p>\n\n<p>My only viable option for serving the app is as a plugin to an application that is already installed on my system. That application presents a webserver that uses a '//' in the path to the plugin where it should serve the information from.</p>\n\n<p>Something like this:</p>\n\n<p><code>http://localhost:3000/Project/project-name</code><strong>//</strong><code>plugin-name/ng2qs/index.html</code></p>\n\n<p>I can't modify that behavior.</p>\n\n<p>Currently when typescript loads the file it removes that '//' as part of it's normalization of the URL (<code>function normalizePath(path)</code>). When it then requests the file at <code>http://localhost:3000/Project/project-name</code><strong>/</strong><code>plugin-name/ng2qs/index.html</code> it gets an error (404) and fails the transpile process.</p>\n\n<p>There is a line in <code>typescript.js</code> where the trouble starts.</p>\n\n<pre><code>var sourceFile = ts.createSourceFile(inputFileName, input, options.target);\n</code></pre>\n\n<p>In this line the <code>inputFileName</code> is correct, but the return value of <code>sourceFile.fileName</code> contains the wrong name. Part of what I find interesting is that the <code>input</code> parameter already contains the contents of the file at <code>inputFileName</code>. And <code>sourceFile.text</code> contains the contents of the file.</p>\n\n<p>Is there a setting that makes it either skip the removal of the <code>//</code> or makes it use the already in memory copy of the file for the transpilation.</p>\n\n<p>Yes I'm keeping the transpiler portion of things so this is relevant, saying to use npm and node to compile it ahead of time is not helpful, so please don't bother.</p>\n"}, {"tags": ["typescript"], "answers": [{"comments": [{"owner": {"reputation": 2133, "user_id": 1289311, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/b641f7aaa9603b827997a90ed8ce60c8?s=128&d=identicon&r=PG", "display_name": "Clark", "link": "https://stackoverflow.com/users/1289311/clark"}, "edited": false, "score": 0, "creation_date": 1462400128, "post_id": 37038094, "comment_id": 61627991, "body": "Doh! Thank you once again Ryan."}], "tags": [], "owner": {"reputation": 162223, "user_id": 1704166, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/d256baab2fcfd81b0f109d394404fd67?s=128&d=identicon&r=PG", "display_name": "Ryan Cavanaugh", "link": "https://stackoverflow.com/users/1704166/ryan-cavanaugh"}, "is_accepted": true, "score": 1, "last_activity_date": 1462396261, "creation_date": 1462396261, "answer_id": 37038094, "question_id": 37037939, "link": "https://stackoverflow.com/questions/37037939/typescript-definition-named-function-expression-nfe/37038094#37038094", "title": "Typescript Definition. Named Function Expression (NFE)", "body": "<p>What you have here is a class -- it's intended to be instantiated with <code>new</code> (you can tell because it assigns a function to a property of <code>prototype</code>), and it has properties and a method.</p>\n\n<p>Your file should look something like this:</p>\n\n<pre><code>declare class Buffer {\n  constructor(size: number);\n\n  vertices: ArrayBuffer;\n  float32View: Float32Array;\n  uint32View: Float32Array;\n\n  uvs: any; // not sure of type\n  colors: any; // not sure of type\n  positions: any; // not sure of type\n\n  destroy(): void;\n}\n\n// expresses \"module.exports = Buffer\"\nexport = Buffer;\n</code></pre>\n"}], "owner": {"reputation": 2133, "user_id": 1289311, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/b641f7aaa9603b827997a90ed8ce60c8?s=128&d=identicon&r=PG", "display_name": "Clark", "link": "https://stackoverflow.com/users/1289311/clark"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 36, "favorite_count": 0, "accepted_answer_id": 37038094, "answer_count": 1, "score": 0, "last_activity_date": 1462397030, "creation_date": 1462395711, "last_edit_date": 1495540363, "question_id": 37037939, "link": "https://stackoverflow.com/questions/37037939/typescript-definition-named-function-expression-nfe", "title": "Typescript Definition. Named Function Expression (NFE)", "body": "<p>I am looking at the following JS which is one of many in the project I am creating a <code>.d.ts</code> file for.</p>\n\n<p><code>BatchBuffer.js</code> </p>\n\n<pre><code>var Buffer = function(size)\n {\n\n     this.vertices = new ArrayBuffer(size);\n\n     /**\n      * View on the vertices as a Float32Array for positions\n      *\n      * @member {Float32Array}\n      */\n     this.float32View = new Float32Array(this.vertices);\n\n     /**\n      * View on the vertices as a Uint32Array for uvs\n      *\n      * @member {Float32Array}\n      */\n     this.uint32View = new Uint32Array(this.vertices);\n };\n\n module.exports = Buffer;\n\n Buffer.prototype.destroy = function(){\n   this.vertices = null;\n   this.positions = null;\n   this.uvs = null;\n   this.colors  = null;\n };\n</code></pre>\n\n<p>A search on Google <a href=\"https://stackoverflow.com/questions/16631708/javascript-functions-like-var-foo-function-bar\">to here</a> tells me that this is a <code>Named Function Expression (NFE)</code> but I started to get lost. The module is adding additional confusion.</p>\n\n<p>How would one define this correctly? The name is a bugbear (<code>BatchBuffer</code> or <code>Buffer</code>) and does this this look accurate? </p>\n\n<pre><code>export module BatchBuffer {\n\n    export var vertices: ArrayBuffer;\n    export var float32View: number[];\n    export var uint32View: number[];\n\n    export function destroy(): void;\n\n}\n</code></pre>\n\n<p>I keep hitting these similar NFE files so for my definition to be accurate, I feel I need advice or confirmation.  </p>\n\n<p>Thanks. </p>\n\n<p><em>Edited.</em></p>\n\n<p>See Ryan's Answer. </p>\n\n<p>Most other classes in the project looked (similar!) to this pseudo for example:</p>\n\n<p><code>MyClass.js</code></p>\n\n<pre><code>function MyClass(something)\n{\n    /**\n     * Some property\n     *\n     * @member {number}\n     */\n    this.something = something;\n}\n\nMyClass.prototype.constructor = MyClass;\nmodule.exports = MyClass;\n\nMyClass.prototype.hi = function ()\n{\n}\n</code></pre>\n\n<p>I was assigning meaning to something which appears to be the same. Although the details escape me. To know it is a class suits me fine.</p>\n"}, {"tags": ["typescript", "angular"], "comments": [{"owner": {"reputation": 9428, "user_id": 405623, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/cdf09a1628df619e523dbbedfb0e07f3?s=128&d=identicon&r=PG", "display_name": "shershen", "link": "https://stackoverflow.com/users/405623/shershen"}, "edited": false, "score": 0, "creation_date": 1462394924, "post_id": 37037690, "comment_id": 61625566, "body": "did you do <b>npm install</b> ?"}, {"owner": {"reputation": 28753, "user_id": 371184, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/cebee1b08fb960edf79a359af330391a?s=128&d=identicon&r=PG", "display_name": "Mike Cluck", "link": "https://stackoverflow.com/users/371184/mike-cluck"}, "edited": false, "score": 0, "creation_date": 1462394931, "post_id": 37037690, "comment_id": 61625570, "body": "<code>typings</code> is for definition files. Did you try installing it using <code>npm install request</code>?"}, {"owner": {"reputation": 1282, "user_id": 3648229, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/6b730f6984c01d9409a83abacb234580?s=128&d=identicon&r=PG", "display_name": "gempir", "link": "https://stackoverflow.com/users/3648229/gempir"}, "edited": false, "score": 0, "creation_date": 1462395201, "post_id": 37037690, "comment_id": 61625702, "body": "yes I did npm install. I didn&#39;t mention that because I thought it was obvious"}], "answers": [{"tags": [], "owner": {"reputation": 181833, "user_id": 1873365, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/45TMV.png?s=128&g=1", "display_name": "Thierry Templier", "link": "https://stackoverflow.com/users/1873365/thierry-templier"}, "is_accepted": false, "score": 2, "last_activity_date": 1462396709, "creation_date": 1462396709, "answer_id": 37038214, "question_id": 37037690, "link": "https://stackoverflow.com/questions/37037690/typescript-javascript-cant-find-module/37038214#37038214", "title": "Typescript/Javascript can&#39;t find module", "body": "<p>The <code>request</code> module isn't designed for browsers only for Node applications. You should use the <code>browser-request</code> instead.</p>\n\n<p>That being said, installing the module with NPM isn't directly usable into your application:</p>\n\n<ul>\n<li><p><strong>For compilation</strong> you need to install a typing for compilation. A kind of contract of the API of your library. This way the TypeScript compilation will know which classes, methods and properties are present in the module.</p></li>\n<li><p><strong>For execution</strong> you need to reference your module when loading your application. For example with SystemJS you need something like that:</p>\n\n<pre><code>System.config({\n  map: {\n    request: 'node_modules/browser-request/index.js'\n  }\n});\n</code></pre>\n\n<p>This way you will be able to import the library this way:</p>\n\n<pre><code>import * as request from 'request';\n</code></pre></li>\n</ul>\n"}], "owner": {"reputation": 1282, "user_id": 3648229, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/6b730f6984c01d9409a83abacb234580?s=128&d=identicon&r=PG", "display_name": "gempir", "link": "https://stackoverflow.com/users/3648229/gempir"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 629, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1462396709, "creation_date": 1462394749, "last_edit_date": 1462395249, "question_id": 37037690, "link": "https://stackoverflow.com/questions/37037690/typescript-javascript-cant-find-module", "title": "Typescript/Javascript can&#39;t find module", "body": "<p>I'm trying to install a module named \"request\" <a href=\"https://github.com/request/request\" rel=\"nofollow\">https://github.com/request/request</a> </p>\n\n<p>in my angular 2 typescript project but I can't get it imported for some reason.</p>\n\n<p>I tried installing the normal way with npm install --save request and I tried typings install request --ambient --save aswell although I don't know what exactly that does anyway. </p>\n\n<p>I'm working off of this boilerplate <a href=\"https://github.com/mgechev/angular2-seed\" rel=\"nofollow\">https://github.com/mgechev/angular2-seed</a> which in the wiki suggests that install modules is as easy as using npm install and then </p>\n\n<pre><code> import * as jwt from 'angular2-jwt/angular2-jwt';\n</code></pre>\n\n<p>But I can't import my request module for some Reason. </p>\n\n<p>This is my import line</p>\n\n<pre><code>import * as request from 'request';\n</code></pre>\n\n<p>Do I need to reference the module elsewhere somehow? </p>\n"}, {"tags": ["typescript"], "answers": [{"comments": [{"owner": {"reputation": 4174, "user_id": 2085376, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/30f3b025f3dc54a77e38495c7a44a1c9?s=128&d=identicon&r=PG", "display_name": "NoIdeaHowToFixThis", "link": "https://stackoverflow.com/users/2085376/noideahowtofixthis"}, "edited": false, "score": 0, "creation_date": 1462392676, "post_id": 37037056, "comment_id": 61624391, "body": "ok, thanks. how would you proceed then? I need some basic functions to manipulate <code>[]</code> and in this case <code>distinct</code>. It feels odd having to rewrite everything from scratch."}, {"owner": {"reputation": 2152, "user_id": 3590895, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/518aa9ed894f68d6729fa39c1f370482?s=128&d=identicon&r=PG", "display_name": "jeorfevre", "link": "https://stackoverflow.com/users/3590895/jeorfevre"}, "reply_to_user": {"reputation": 4174, "user_id": 2085376, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/30f3b025f3dc54a77e38495c7a44a1c9?s=128&d=identicon&r=PG", "display_name": "NoIdeaHowToFixThis", "link": "https://stackoverflow.com/users/2085376/noideahowtofixthis"}, "edited": false, "score": 0, "creation_date": 1462392826, "post_id": 37037056, "comment_id": 61624475, "body": "ok.why not to use javascript arrays methods provided natively : <a href=\"http://www.w3schools.com/js/js_array_methods.asp\" rel=\"nofollow noreferrer\">w3schools.com/js/js_array_methods.asp</a> . Do you find the methods you need?"}, {"owner": {"reputation": 4174, "user_id": 2085376, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/30f3b025f3dc54a77e38495c7a44a1c9?s=128&d=identicon&r=PG", "display_name": "NoIdeaHowToFixThis", "link": "https://stackoverflow.com/users/2085376/noideahowtofixthis"}, "edited": false, "score": 1, "creation_date": 1462394190, "post_id": 37037056, "comment_id": 61625195, "body": "<code>distinct</code> (<code>unique</code>) is missing but I can code it up. Just surprised that the list of helpers in typescript is so thin. Tnx for your help."}, {"owner": {"reputation": 2152, "user_id": 3590895, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/518aa9ed894f68d6729fa39c1f370482?s=128&d=identicon&r=PG", "display_name": "jeorfevre", "link": "https://stackoverflow.com/users/3590895/jeorfevre"}, "reply_to_user": {"reputation": 4174, "user_id": 2085376, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/30f3b025f3dc54a77e38495c7a44a1c9?s=128&d=identicon&r=PG", "display_name": "NoIdeaHowToFixThis", "link": "https://stackoverflow.com/users/2085376/noideahowtofixthis"}, "edited": false, "score": 0, "creation_date": 1462394353, "post_id": 37037056, "comment_id": 61625289, "body": "in this case, you can have an Array.filter( distinc clauses) that will return an array it&#39;s really a simple solution. <a href=\"http://www.w3schools.com/jsref/jsref_filter.asp\" rel=\"nofollow noreferrer\">w3schools.com/jsref/jsref_filter.asp</a> . not many helpers in ts, but a great simple langage. Learning curve is pretty flat &amp; easy. have fun"}], "tags": [], "owner": {"reputation": 2152, "user_id": 3590895, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/518aa9ed894f68d6729fa39c1f370482?s=128&d=identicon&r=PG", "display_name": "jeorfevre", "link": "https://stackoverflow.com/users/3590895/jeorfevre"}, "is_accepted": true, "score": 2, "last_activity_date": 1462392872, "last_edit_date": 1462392872, "creation_date": 1462392391, "answer_id": 37037056, "question_id": 37036548, "link": "https://stackoverflow.com/questions/37036548/typescript-import-core-functions/37037056#37037056", "title": "typescript - import core functions", "body": "<p>unfortunatly, you can't do that. Typescript core is compiler features, they are not done in order to use them in your typescript code but done to perform compiling over existing ts files. </p>\n\n<p>Here is the updated link for the ressource you wanted to integrate  (source is updated by microsoft/google): <a href=\"https://github.com/Microsoft/TypeScript/blob/master/src/compiler/core.ts\" rel=\"nofollow\">https://github.com/Microsoft/TypeScript/blob/master/src/compiler/core.ts</a></p>\n\n<p>Here is more information about the language architecture :\n<a href=\"https://github.com/Microsoft/TypeScript/wiki/Architectural-Overview\" rel=\"nofollow\">https://github.com/Microsoft/TypeScript/wiki/Architectural-Overview</a></p>\n\n<p>use instead javascript arrays function for example : <a href=\"http://www.w3schools.com/jsref/jsref_obj_array.asp\" rel=\"nofollow\">http://www.w3schools.com/jsref/jsref_obj_array.asp</a></p>\n"}, {"tags": [], "owner": {"reputation": 204459, "user_id": 390330, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/1400be56ff17549b926dd3260da4a494?s=128&d=identicon&r=PG", "display_name": "basarat", "link": "https://stackoverflow.com/users/390330/basarat"}, "is_accepted": false, "score": 1, "last_activity_date": 1462408550, "creation_date": 1462408550, "answer_id": 37040411, "question_id": 37036548, "link": "https://stackoverflow.com/questions/37036548/typescript-import-core-functions/37040411#37040411", "title": "typescript - import core functions", "body": "<blockquote>\n  <p>I would like to access this set of helper functions. It seems to be part of the typescript core</p>\n</blockquote>\n\n<p>The are a part of the TypeScript compiler (also that link is <strong>really really</strong> old. The latest source is here <a href=\"https://github.com/Microsoft/TypeScript/\" rel=\"nofollow\">https://github.com/Microsoft/TypeScript/</a>) </p>\n\n<p>You cannot use the <em>compiler</em> code base <em>implicitly</em>. i.e. it doesn't magically become available to your code. TypeScript has no runtime. </p>\n\n<p>You can however <em>use the typecript compiler</em> <code>expilicity</code> by taking a depenency on the <code>typescript</code> module. (<code>npm install typescript</code> and then <code>import ts = require('typescript')</code>. However it feels like a big overkill for just a few array functions. You would be better off copy / pasting in your codebase \ud83c\udf39 </p>\n"}], "owner": {"reputation": 4174, "user_id": 2085376, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/30f3b025f3dc54a77e38495c7a44a1c9?s=128&d=identicon&r=PG", "display_name": "NoIdeaHowToFixThis", "link": "https://stackoverflow.com/users/2085376/noideahowtofixthis"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 133, "favorite_count": 0, "accepted_answer_id": 37037056, "answer_count": 2, "score": 2, "last_activity_date": 1462408550, "creation_date": 1462390644, "question_id": 37036548, "link": "https://stackoverflow.com/questions/37036548/typescript-import-core-functions", "title": "typescript - import core functions", "body": "<p>I have successfully installed a typescript sandbox (<a href=\"https://github.com/pkozlowski-opensource/ng2-play\" rel=\"nofollow\">this one</a>)\nand I have managed to create a simple service and a few components.</p>\n\n<p>I would like to access this set of <a href=\"https://github.com/cloud9ide/typescript/blob/master/src/compiler/core/arrayUtilities.ts\" rel=\"nofollow\">helper functions</a>.\nIt seems to be part of the typescript core. However, I am not sure how I could get access to that core.</p>\n\n<p>tried <code>import {ArrayUtilities} from 'core'</code> and a few other random tries.  </p>\n"}, {"tags": ["javascript", "typescript", "amd"], "answers": [{"tags": [], "owner": {"reputation": 204459, "user_id": 390330, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/1400be56ff17549b926dd3260da4a494?s=128&d=identicon&r=PG", "display_name": "basarat", "link": "https://stackoverflow.com/users/390330/basarat"}, "is_accepted": false, "score": 0, "last_activity_date": 1462409447, "creation_date": 1462409447, "answer_id": 37040525, "question_id": 37035462, "link": "https://stackoverflow.com/questions/37035462/importing-amd-modules-that-don-t-use-exports-with-typescript/37040525#37040525", "title": "Importing AMD modules that don\u2019t use exports with TypeScript", "body": "<blockquote>\n  <p>Are AMD modules that define their exported value with a return value instead of assigning to exports not supported by TypeScript</p>\n</blockquote>\n\n<p>Yes. Apparently it is not detected as an external module and inferred to be <code>global</code> and hence not allowed to be <code>require</code>d. Please raise an issue here : <a href=\"https://github.com/Microsoft/TypeScript/issues\" rel=\"nofollow\">https://github.com/Microsoft/TypeScript/issues</a></p>\n"}], "owner": {"reputation": 221, "user_id": 100215, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7rdex.png?s=128&g=1", "display_name": "tow8ie", "link": "https://stackoverflow.com/users/100215/tow8ie"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 812, "favorite_count": 1, "answer_count": 1, "score": 5, "last_activity_date": 1462409447, "creation_date": 1462387052, "question_id": 37035462, "link": "https://stackoverflow.com/questions/37035462/importing-amd-modules-that-don-t-use-exports-with-typescript", "title": "Importing AMD modules that don\u2019t use exports with TypeScript", "body": "<h3>The setting</h3>\n\n<p>I am trying to load existing AMD modules with TypeScript.</p>\n\n<p>To demonstrate my problem, here is an <code>app.ts</code> file that loads an AMD module named <code>my_amd_module.js</code>:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>// app.ts\n\nimport * as amd_func from './my_amd_module';\n\nfunction main(): void {\n  console.log(amd_func());\n}\n\nmain();\n</code></pre>\n\n<p>The following TypeScript configuration is used:</p>\n\n<pre><code>// tsconfig.json\n\n{\n  \"compileOnSave\": true,\n  \"compilerOptions\": {\n    \"allowJs\": true,\n    \"outDir\": \"build\",\n    \"sourceMap\": true,\n    \"target\": \"es5\"\n  },\n  \"exclude\": [\n    \"node_modules\",\n    \"build\"\n  ]\n}\n</code></pre>\n\n<p>And I am using Webpack to bundle the <code>app.ts</code> file in a package named <code>app-bundle.js</code> that can be run by a browser:</p>\n\n<pre><code>// webpack.config.js\n\n'use strict';\n\nconst webpack = require('webpack');\nconst path = require('path');\n\nmodule.exports = {\n  context: path.resolve(__dirname, 'src'),\n  entry: './app.ts',\n  output: {\n    path: path.resolve(__dirname, 'build'),\n    filename: 'app-bundle.js'\n  },\n  devtool: 'source-map',\n  resolve: {\n    extensions: ['', '.ts', '.js']\n  },\n  module: {\n    loaders: [\n      {test: /\\.ts$/, loader: 'ts-loader'}\n    ]\n  }\n};\n</code></pre>\n\n<h3>The working version</h3>\n\n<p>When the <code>my_amd_module.js</code> looks as following, everything is working fine. Notice that I am referencing <code>'module'</code> as a dependency and bind the function <code>foo</code> to it\u2019s <code>exports</code> property which is one possible flavor of using AMD.</p>\n\n<pre><code>// my_amd_module.js\n\ndefine(['module'], function(module) {\n  function foo () {\n    return 'Hello from AMD!';\n  }\n\n  module.exports = foo;\n});\n</code></pre>\n\n<h3>The not working version</h3>\n\n<p>But when I am using the alternative syntax of defining an AMD module with a return value instead of assigning to <code>exports</code></p>\n\n<pre><code>// my_amd_module.js\n\ndefine(function() {\n  function foo () {\n    return 'Hello from AMD!';\n  }\n\n  return foo;\n});\n</code></pre>\n\n<p>then the TypeScript compiler complains with the following message:</p>\n\n<pre class=\"lang-sh prettyprint-override\"><code>ERROR in ./app.ts\n(1,27): error TS2306: File '/[...]/src/my_amd_module.js' is not a module.\n</code></pre>\n\n<p>But the <code>app-bundle.js</code> file is still generated and everything works in the browser.</p>\n\n<p>The alternative syntax I am using in this case is, for example, <a href=\"http://www.requirejs.org/docs/commonjs.html#altsyntax\" rel=\"noreferrer\">described by RequireJS</a> or <a href=\"https://github.com/amdjs/amdjs-api/blob/master/AMD.md#factory-\" rel=\"noreferrer\">in the AMD specification itself</a>.</p>\n\n<h3>My question</h3>\n\n<p>Are AMD modules that define their exported value with a <code>return</code> value instead of assigning to <code>exports</code> not supported by TypeScript? Is this the reason why the compiler is complaining? And why is everything compiled, despite this complaint?</p>\n"}, {"tags": ["angular", "typescript"], "answers": [{"comments": [{"owner": {"reputation": 18175, "user_id": 1480995, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/cd82c8854beb35da244f8d7d7f3751a8?s=128&d=identicon&r=PG", "display_name": "Michael Oryl", "link": "https://stackoverflow.com/users/1480995/michael-oryl"}, "edited": false, "score": 2, "creation_date": 1462388152, "post_id": 37035539, "comment_id": 61621905, "body": "At least in the webpack world, there&#39;s more to it than this.  I can&#39;t just put it in index.html like that because those files are not available there.  Webpack is putting it all together into just a few files, in this particular case one called vendor.js.  Files only get included by being imported into one of the top level files, or being imported into a file that is intern imported into a top level file (minor simplification of it)."}, {"owner": {"reputation": 181833, "user_id": 1873365, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/45TMV.png?s=128&g=1", "display_name": "Thierry Templier", "link": "https://stackoverflow.com/users/1873365/thierry-templier"}, "reply_to_user": {"reputation": 18175, "user_id": 1480995, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/cd82c8854beb35da244f8d7d7f3751a8?s=128&d=identicon&r=PG", "display_name": "Michael Oryl", "link": "https://stackoverflow.com/users/1480995/michael-oryl"}, "edited": false, "score": 0, "creation_date": 1462397093, "post_id": 37035539, "comment_id": 61626628, "body": "Yes, you&#39;re right regarding webpack. I think that you need to import the zonejs and reflect-metadata dependencies instead of angular2-polyfill. Sorry I don&#39;t really know how to configure webpack..."}], "tags": [], "owner": {"reputation": 181833, "user_id": 1873365, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/45TMV.png?s=128&g=1", "display_name": "Thierry Templier", "link": "https://stackoverflow.com/users/1873365/thierry-templier"}, "is_accepted": false, "score": 6, "last_activity_date": 1462387268, "creation_date": 1462387268, "answer_id": 37035539, "question_id": 37034664, "link": "https://stackoverflow.com/questions/37034664/where-is-angular2-polyfills-now-that-non-beta-angular-2-is-packaged-as-angular/37035539#37035539", "title": "Where is angular2-polyfills now that non-beta Angular 2 is packaged as @angular?", "body": "<p>There is no more <code>angular2-polyfills.js</code> file. You need to include explicitly ZoneJS and Reflect Metadata libraries (FYI angular2-polyfill contained these two libraries) So you need to include the following:</p>\n\n<pre><code>&lt;script src=\"node_modules/zone.js/dist/zone.js\"&gt;&lt;/script&gt;\n&lt;script src=\"node_modules/reflect-metadata/Reflect.js\"&gt;&lt;/script&gt;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 18175, "user_id": 1480995, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/cd82c8854beb35da244f8d7d7f3751a8?s=128&d=identicon&r=PG", "display_name": "Michael Oryl", "link": "https://stackoverflow.com/users/1480995/michael-oryl"}, "is_accepted": true, "score": 14, "last_activity_date": 1462467440, "last_edit_date": 1462467440, "creation_date": 1462461143, "answer_id": 37054169, "question_id": 37034664, "link": "https://stackoverflow.com/questions/37034664/where-is-angular2-polyfills-now-that-non-beta-angular-2-is-packaged-as-angular/37054169#37054169", "title": "Where is angular2-polyfills now that non-beta Angular 2 is packaged as @angular?", "body": "<p>As Thierry Templier said in his answer, the issue is that <code>zone.js</code> and <code>reflect-metadata</code> have to be brought in now that the <code>angular2-polyfills.js</code> bundle is no longer available.</p>\n\n<p>To get the functionality back, you need to import them directly instead of relying on the old polyfills code.</p>\n\n<pre><code>//import 'angular2/bundles/angular2-polyfills'; // no longer available\nimport 'reflect-metadata';\nrequire('zone.js/dist/zone');\nrequire('zone.js/dist/long-stack-trace-zone'); // for development only - not needed for prod deployment\n</code></pre>\n\n<p>The <code>reflect-metadata</code> package already has built-in typings for TypeScript, so you can use <code>import</code>.  Zone.js does not, however, so you need to rely on <code>require()</code> to get webpack to pick it up and include it in your bundles.</p>\n\n<p>Of course you also need to have reflect and zone in your <code>package.json</code> dependencies section (mine are listed at the end, below):</p>\n\n<pre><code>{\n  \"name\": \"angular2-bootstrap4-oauth2-ohmy\",\n  \"version\": \"1.0.8\",\n  \"description\": \"A skeleton Angular2, Bootstrap 4, OAuth2 application using webpack (oh my!)\",\n  \"repository\": \"https://github.com/michaeloryl/angular2-bootstrap4-oauth2-webpack.git\",\n  \"dependencies\": {\n    \"@angular/common\": \"^2.0.0-rc.1\",\n    \"@angular/compiler\": \"^2.0.0-rc.1\",\n    \"@angular/core\": \"^2.0.0-rc.1\",\n    \"@angular/http\": \"^2.0.0-rc.1\",\n    \"@angular/platform-browser\": \"^2.0.0-rc.1\",\n    \"@angular/platform-browser-dynamic\": \"^2.0.0-rc.1\",\n    \"@angular/router\": \"^2.0.0-rc.1\",\n    \"@angular/router-deprecated\": \"^2.0.0-rc.1\",\n    \"bootstrap\": \"4.0.0-alpha.2\",\n    \"es6-promise\": \"^3.0.2\",\n    \"es6-shim\": \"^0.35.0\",\n    \"jquery\": \"^2.1.4\",\n    \"js-cookie\": \"^2.1.0\",\n    \"lodash\": \"^4.11.2\",\n    \"phantomjs-prebuilt\": \"^2.1.7\",\n    \"require\": \"^2.4.20\",\n    \"rxjs\": \"^5.0.0-beta.6\",\n    \"traceur\": \"0.0.93\",\n    \"reflect-metadata\": \"^0.1.2\",\n    \"zone.js\": \"^0.6.12\"\n  },\n}\n</code></pre>\n\n<p>Once that is done, you should have a working application again (assuming you took care of the other issues involved in moving from Angular2 beta to the RC (release candidate) code.</p>\n\n<p>This code is a sample from my <a href=\"https://github.com/michaeloryl/angular2-bootstrap4-oauth2-webpack\">angular2-bootstrap4-oauth2-webpack</a> project on Github.</p>\n"}, {"tags": [], "owner": {"reputation": 194, "user_id": 3658167, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/acdf6c8b4becaaeda9fe5dc8bd9af67d?s=128&d=identicon&r=PG&f=1", "display_name": "kmk09k", "link": "https://stackoverflow.com/users/3658167/kmk09k"}, "is_accepted": false, "score": 3, "last_activity_date": 1470937626, "creation_date": 1470937626, "answer_id": 38902951, "question_id": 37034664, "link": "https://stackoverflow.com/questions/37034664/where-is-angular2-polyfills-now-that-non-beta-angular-2-is-packaged-as-angular/38902951#38902951", "title": "Where is angular2-polyfills now that non-beta Angular 2 is packaged as @angular?", "body": "<p>I recently had this issue with rc.5 and solved it by importing zone like so:</p>\n\n<pre><code>// import 'angular2/bundles/angular2-polyfills'; // old\nimport 'reflect-metadata';\nimport 'zone.js/dist/zone'; \nimport 'zone.js/dist/long-stack-trace-zone';\n</code></pre>\n"}], "owner": {"reputation": 18175, "user_id": 1480995, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/cd82c8854beb35da244f8d7d7f3751a8?s=128&d=identicon&r=PG", "display_name": "Michael Oryl", "link": "https://stackoverflow.com/users/1480995/michael-oryl"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 14854, "favorite_count": 4, "accepted_answer_id": 37054169, "answer_count": 3, "score": 24, "last_activity_date": 1505829339, "creation_date": 1462384140, "last_edit_date": 1505829339, "question_id": 37034664, "link": "https://stackoverflow.com/questions/37034664/where-is-angular2-polyfills-now-that-non-beta-angular-2-is-packaged-as-angular", "title": "Where is angular2-polyfills now that non-beta Angular 2 is packaged as @angular?", "body": "<p>Now that Angular2 is out of beta (2.0.0-RC.0 and RC.1 came out yesterday/May 3, 2016), all of Angular 2 is packaged for use with NPM under the new @angular namespace.  A lot of packages have been moved and must be individually installed now, as you can see in the <a href=\"https://github.com/angular/angular/blob/master/CHANGELOG.md#200-rc1-2016-05-03\">Angular2 CHANGELOG</a>.</p>\n\n<p>But one thing that the CHANGELOG doesn't address is how to find the <code>angular2-polyfills</code> bundle that was available previously.</p>\n\n<p>My beta code called this in one of its TypeScript files:</p>\n\n<pre><code>import 'angular2/bundles/angular2-polyfills';\n</code></pre>\n\n<p>What do I need to do now to get that same functionality with the new package layout?  </p>\n\n<p>Here is the <code>ventdor.ts</code> file that used to import the polyfills so that it could be included by webpack:</p>\n\n<pre><code>require('./css/bootstrap.css');\nrequire('./css/main.css');\n\nimport 'angular2/bundles/angular2-polyfills'; // THIS NO LONGER WORKS\n\nrequire('./lib/bootstrap/bootstrap.js');\n</code></pre>\n\n<p>The lack of the polyfills causes errors like the following when I build my application with webpack:</p>\n\n<pre><code>ERROR in /Users/mfo/Projects/PennMutual/angular2-oauth2/node_modules/@angular/core/src/facade/async.d.ts\n(28,45): error TS2304: Cannot find name 'Promise'.\n\nERROR in /Users/mfo/Projects/PennMutual/angular2-oauth2/node_modules/@angular/core/src/facade/lang.d.ts\n(4,17): error TS2304: Cannot find name 'Map'.\n\nERROR in /Users/mfo/Projects/PennMutual/angular2-oauth2/node_modules/@angular/core/src/facade/lang.d.ts\n(5,17): error TS2304: Cannot find name 'Set'.\n</code></pre>\n"}, {"tags": ["typescript", "visual-studio-code", "tsconfig"], "comments": [{"owner": {"reputation": 702, "user_id": 3554135, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ex3rP.png?s=128&g=1", "display_name": "Peter Keuter", "link": "https://stackoverflow.com/users/3554135/peter-keuter"}, "edited": false, "score": 0, "creation_date": 1462390047, "post_id": 37034442, "comment_id": 61622966, "body": "Why are you specifying a specific file to include? I would say that it&#39;s good to start with including all files (it does so without defining &quot;files&quot;) and make an exclude array. If this does not suit you, you might want to include a.ts and b.ts in your files array as well."}], "answers": [{"tags": [], "owner": {"reputation": 331, "user_id": 5296033, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fc64bf4dc86f6e96bb8c31fb186406e5?s=128&d=identicon&r=PG", "display_name": "DogPawHat", "link": "https://stackoverflow.com/users/5296033/dogpawhat"}, "is_accepted": false, "score": 0, "last_activity_date": 1462390311, "creation_date": 1462390311, "answer_id": 37036449, "question_id": 37034442, "link": "https://stackoverflow.com/questions/37034442/tsconfig-does-work-only-on-single-file-in-vs-code/37036449#37036449", "title": "tsconfig does work only on single file in VS Code", "body": "<p>What I do instead of using files is use exclude instead. All .ts files not in exclude are processed by the intellisense:</p>\n\n<pre><code>\"exclude\": [\n    \"node_modules\",\n    \"build\",\n    \"typings/main\", //or typings/browser if you want\n    \"typings/main.d.ts\",\n    //etc, etc\n]\n</code></pre>\n\n<p>That way you can exclude what intellisense has no business with and go with the rest.</p>\n\n<p>In your case, you can just leave an empty exclude array, maybe with \"node_modules\" if you thing you'll be using NPM stuff in the future.</p>\n"}], "owner": {"reputation": 115, "user_id": 5634265, "user_type": "registered", "accept_rate": 29, "profile_image": "https://lh5.googleusercontent.com/-xGPj7PpaiUM/AAAAAAAAAAI/AAAAAAAAFuc/rIPSo91arqg/photo.jpg?sz=128", "display_name": "Jan Konvalinka", "link": "https://stackoverflow.com/users/5634265/jan-konvalinka"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 201, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1462391013, "creation_date": 1462383340, "last_edit_date": 1462391013, "question_id": 37034442, "link": "https://stackoverflow.com/questions/37034442/tsconfig-does-work-only-on-single-file-in-vs-code", "title": "tsconfig does work only on single file in VS Code", "body": "<p>my tscongig.json does not work as expected. I simplified the situation to this structure in my project in VS Code:</p>\n\n<pre><code>-a.ts\n-b.ts\n-tsconfig.json\n-def.d.ts\n</code></pre>\n\n<p>and the tsconfig contains:</p>\n\n<pre><code>\"files\": [\"def.d.ts\"]\n</code></pre>\n\n<p>Now when I'm working on a.ts, the intellisense is completing code from def.d.ts correctly. But when I switch to the b.ts, the definitions are missing. When I restart the VS Code with b.ts window active, the definitions became available on b.ts, but it is missing on a.ts. In other words, it only works on one file, until I restart whole studio with other file opened. Is it normal? Am I doing something wrong?</p>\n\n<p>Thank you for ideas!</p>\n\n<p>EDIT: My project is not a regular TS project. It is used to assist with writing many long scripts. The wanted situation is: *.ts files does not \"see\" each other, but intellisense is offering definitions from d.ts when editing .ts file. The current solution is reference to d.ts in every ts file, which works, but it's not so clean.</p>\n"}, {"tags": ["javascript", "d3.js", "typescript"], "comments": [{"owner": {"reputation": 80876, "user_id": 188246, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/bTzLq.jpg?s=128&g=1", "display_name": "David Sherret", "link": "https://stackoverflow.com/users/188246/david-sherret"}, "edited": false, "score": 0, "creation_date": 1462386183, "post_id": 37034420, "comment_id": 61620678, "body": "Why did you remove the function keyword? Are you trying to make <code>animateWave</code> a method of the class? If so, look closely at where <code>loadLiquidFillGauge</code> begins and ends."}, {"owner": {"reputation": 2602, "user_id": 1745535, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/83215726bd19f47228c27842cd4d56ff?s=128&d=identicon&r=PG", "display_name": "Bing Lu", "link": "https://stackoverflow.com/users/1745535/bing-lu"}, "reply_to_user": {"reputation": 80876, "user_id": 188246, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/bTzLq.jpg?s=128&g=1", "display_name": "David Sherret", "link": "https://stackoverflow.com/users/188246/david-sherret"}, "edited": false, "score": 0, "creation_date": 1462386626, "post_id": 37034420, "comment_id": 61620964, "body": "@DavidSherret If I keep the function keyword, this <code>function liquidFillGaugeDefaultSettings(){</code> is complaining <code>Unexpected token. A constructor, method, accessor, or property was expected</code>."}, {"owner": {"reputation": 80876, "user_id": 188246, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/bTzLq.jpg?s=128&g=1", "display_name": "David Sherret", "link": "https://stackoverflow.com/users/188246/david-sherret"}, "edited": false, "score": 0, "creation_date": 1462386793, "post_id": 37034420, "comment_id": 61621079, "body": "I mean, why did you remove it for <code>animateWave</code>? Are you wanting to make <code>animateWave</code> a function or method? If you want it as a method then look at where <code>animateWave</code> is within the code compared to other methods."}, {"owner": {"reputation": 2602, "user_id": 1745535, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/83215726bd19f47228c27842cd4d56ff?s=128&d=identicon&r=PG", "display_name": "Bing Lu", "link": "https://stackoverflow.com/users/1745535/bing-lu"}, "reply_to_user": {"reputation": 80876, "user_id": 188246, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/bTzLq.jpg?s=128&g=1", "display_name": "David Sherret", "link": "https://stackoverflow.com/users/188246/david-sherret"}, "edited": false, "score": 0, "creation_date": 1462387126, "post_id": 37034420, "comment_id": 61621278, "body": "I tried to make <code>animateWave</code> a method of class but it uses <code>wave</code> which is defined in <code>loadLiquidFillGauge()</code> function, so I have to leave it inside <code>loadLiquidFillGauge()</code> as well."}, {"owner": {"reputation": 80876, "user_id": 188246, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/bTzLq.jpg?s=128&g=1", "display_name": "David Sherret", "link": "https://stackoverflow.com/users/188246/david-sherret"}, "edited": false, "score": 0, "creation_date": 1462387243, "post_id": 37034420, "comment_id": 61621349, "body": "TypeScript doesn&#39;t allow methods within methods, but you can have functions within methods. You need to declare <code>animateWave</code> as a function so don&#39;t remove the function keyword for that."}, {"owner": {"reputation": 2602, "user_id": 1745535, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/83215726bd19f47228c27842cd4d56ff?s=128&d=identicon&r=PG", "display_name": "Bing Lu", "link": "https://stackoverflow.com/users/1745535/bing-lu"}, "reply_to_user": {"reputation": 80876, "user_id": 188246, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/bTzLq.jpg?s=128&g=1", "display_name": "David Sherret", "link": "https://stackoverflow.com/users/188246/david-sherret"}, "edited": false, "score": 0, "creation_date": 1462387457, "post_id": 37034420, "comment_id": 61621474, "body": "Gotcha, I added function keyword for <code>animateWave</code>, it doesn&#39;t complain anymore. But now, <code>if(parseFloat(textFinalValue) != parseFloat(textRounder(textFinalValue))){</code> complains about <code>argument of type &#39;number&#39; is not assignable to parameter of type &#39;string&#39;.</code> The <code>textFinalValue</code> is defined as <code>var textFinalValue = parseFloat(value).toFixed(2);</code> which, I think is a string"}], "answers": [{"tags": [], "owner": {"reputation": 2709, "user_id": 486119, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/d83c4a03468b03dfa4198e798ca668c1?s=128&d=identicon&r=PG", "display_name": "Naga Harish M", "link": "https://stackoverflow.com/users/486119/naga-harish-m"}, "is_accepted": false, "score": 0, "last_activity_date": 1494972041, "creation_date": 1494972041, "answer_id": 44012333, "question_id": 37034420, "link": "https://stackoverflow.com/questions/37034420/migrating-javascript-nested-function-to-typescript-gets-error/44012333#44012333", "title": "Migrating javascript nested function to typescript gets error", "body": "<p>I created like this <strong>chart-liquid-fill-gauge.ts</strong></p>\n\n<pre><code>import { Component, Inject, ElementRef, ViewChild, Input } from '@angular/core';\nimport * as d3 from 'd3';\n\n@Component({\n    selector: 'view-chart-liquid-fill-gauge',\n    template: '&lt;div class=\"d3-chart\" #chart&gt;&lt;/div&gt;',\n    inputs: ['options', 'data']\n})\nexport class LiquidFillGaugeChartView {\n    @ViewChild('chart') private chartContainer: ElementRef;\n    @Input() private data: string;\n    private margin: any = { top: 20, bottom: 20, left: 20, right: 20 };\n    private chart: any;\n    private width: number;\n    private height: number;\n    /**\n     * Initializes the component with the root element.\n     */\n    constructor( @Inject(ElementRef) elementRef: ElementRef) {\n        //this.el = elementRef.nativeElement;\n\n\n\n    }\n\n    ngOnInit() {\n        this.createChart();\n        if (this.data) {\n           // this.updateChart();\n        }\n    }\n\n    ngOnChanges() {\n        if (this.chart) {\n            this.updateChart();\n        }\n    }\n\n    createChart() {\n        let config: any;\n        let element = this.chartContainer.nativeElement;\n        this.width = element.offsetWidth - this.margin.left - this.margin.right;\n        this.height = element.offsetHeight - this.margin.top - this.margin.bottom;\n        let value = parseFloat(this.data);\n        let gauge = d3.select(element).append('svg')\n            .attr('width', element.offsetWidth)\n            .attr('height', element.offsetHeight);\n\n    if(config == null) config = this.liquidFillGaugeDefaultSettings();\n\n    var radius = Math.min(parseInt(gauge.style(\"width\")), parseInt(gauge.style(\"height\")))/2;\n    var locationX = parseInt(gauge.style(\"width\"))/2 - radius;\n    var locationY = parseInt(gauge.style(\"height\"))/2 - radius;\n    var fillPercent = Math.max(config.minValue, Math.min(config.maxValue, value))/config.maxValue;\n    var elementId = \"liquidFillGauge\"+new Date().getUTCMilliseconds();\n    var waveHeightScale;\n    if(config.waveHeightScaling){\n        waveHeightScale = d3.scaleLinear()\n            .range([0,config.waveHeight,0])\n            .domain([0,50,100]);\n    } else {\n        waveHeightScale = d3.scaleLinear()\n            .range([config.waveHeight,config.waveHeight])\n            .domain([0,100]);\n    }\n\n    var textPixels = (config.textSize*radius/2);\n    var textFinalValue = parseFloat(value+\"\").toFixed(2);\n    var textStartValue = config.valueCountUp?config.minValue:textFinalValue;\n    var percentText = config.displayPercent?\"%\":\"\";\n    var circleThickness = config.circleThickness * radius;\n    var circleFillGap = config.circleFillGap * radius;\n    var fillCircleMargin = circleThickness + circleFillGap;\n    var fillCircleRadius = radius - fillCircleMargin;\n    var waveHeight = fillCircleRadius*waveHeightScale(fillPercent*100);\n\n    var waveLength = fillCircleRadius*2/config.waveCount;\n    var waveClipCount = 1+config.waveCount;\n    var waveClipWidth = waveLength*waveClipCount;\n\n\n    // Data for building the clip wave area.\n    var data = [];\n    for(var i = 0; i &lt;= 40*waveClipCount; i++){\n        data.push({x: i/(40*waveClipCount), y: (i/(40))});\n    }\n\n    // Scales for drawing the outer circle.\n    var gaugeCircleX = d3.scaleLinear().range([0,2*Math.PI]).domain([0,1]);\n    var gaugeCircleY = d3.scaleLinear().range([0,radius]).domain([0,radius]);\n\n    // Scales for controlling the size of the clipping path.\n    var waveScaleX = d3.scaleLinear().range([0,waveClipWidth]).domain([0,1]);\n    var waveScaleY = d3.scaleLinear().range([0,waveHeight]).domain([0,1]);\n\n    // Scales for controlling the position of the clipping path.\n    var waveRiseScale = d3.scaleLinear()\n        // The clipping area size is the height of the fill circle + the wave height, so we position the clip wave\n        // such that the it will overlap the fill circle at all when at 0%, and will totally cover the fill\n        // circle at 100%.\n        .range([(fillCircleMargin+fillCircleRadius*2+waveHeight),(fillCircleMargin-waveHeight)])\n        .domain([0,1]);\n    var waveAnimateScale = d3.scaleLinear()\n        .range([0, waveClipWidth-fillCircleRadius*2]) // Push the clip area one full wave then snap back.\n        .domain([0,1]);\n\n    // Scale for controlling the position of the text within the gauge.\n    var textRiseScaleY = d3.scaleLinear()\n        .range([fillCircleMargin+fillCircleRadius*2,(fillCircleMargin+textPixels*0.7)])\n        .domain([0,1]);\n\n    // Center the gauge within the parent SVG.\n    var gaugeGroup = gauge.append(\"g\")\n        .attr('transform','translate('+locationX+','+locationY+')');\n\n    // Draw the outer circle.\n    var gaugeCircleArc = d3.arc()\n        .startAngle(gaugeCircleX(0))\n        .endAngle(gaugeCircleX(1))\n        .outerRadius(gaugeCircleY(radius))\n        .innerRadius(gaugeCircleY(radius-circleThickness));\n    gaugeGroup.append(\"path\")\n        .attr(\"d\", gaugeCircleArc)\n        .style(\"fill\", config.circleColor)\n        .attr('transform','translate('+radius+','+radius+')');\n\n    // Rounding functions so that the correct number of decimal places is always displayed as the value counts up.\n    var textRounder:any = function(value){ return Math.round(value); };\n    if(parseFloat(textFinalValue) != parseFloat(textRounder(textFinalValue))){\n       textRounder = function(value){ return parseFloat(value).toFixed(1); };\n    }\n    if(parseFloat(textFinalValue) != parseFloat(textRounder(textFinalValue))){\n        textRounder = function(value){ return parseFloat(value).toFixed(2); };\n    }\n\n\n    // Text where the wave does not overlap.\n    var text1 = gaugeGroup.append(\"text\")\n        .text(textRounder(textStartValue) + percentText)\n        .attr(\"class\", \"liquidFillGaugeText\")\n        .attr(\"text-anchor\", \"middle\")\n        .attr(\"font-size\", textPixels + \"px\")\n        .style(\"fill\", config.textColor)\n        .attr('transform','translate('+radius+','+textRiseScaleY(config.textVertPosition)+')');\n\n    // The clipping wave area.\n    var clipArea = d3.area()\n        .x(function(d) { return waveScaleX(d['x']); } )\n        .y0(function(d) { return waveScaleY(Math.sin(Math.PI*2*config.waveOffset*-1 + Math.PI*2*(1-config.waveCount) + d['y']*2*Math.PI));} )\n        .y1(function(d) { return (fillCircleRadius*2 + waveHeight); } );\n    var waveGroup = gaugeGroup.append(\"defs\")\n        .append(\"clipPath\")\n        .attr(\"id\", \"clipWave\"+elementId);\n    var wave = waveGroup.append(\"path\")\n        .datum(data)\n        .attr(\"d\", clipArea)\n        .attr(\"T\", 0);\n\n    // The inner circle with the clipping wave attached.\n    var fillCircleGroup = gaugeGroup.append(\"g\")\n        .attr(\"clip-path\", \"url(#clipWave\"+elementId+\")\");\n    fillCircleGroup.append(\"circle\")\n        .attr(\"cx\", radius)\n        .attr(\"cy\", radius)\n        .attr(\"r\", fillCircleRadius)\n        .style(\"fill\", config.waveColor);\n\n    // Text where the wave does overlap.\n    var text2 = fillCircleGroup.append(\"text\")\n        .text(textRounder(textStartValue) + percentText)\n        .attr(\"class\", \"liquidFillGaugeText\")\n        .attr(\"text-anchor\", \"middle\")\n        .attr(\"font-size\", textPixels + \"px\")\n        .style(\"fill\", config.waveTextColor)\n        .attr('transform','translate('+radius+','+textRiseScaleY(config.textVertPosition)+')');\n\n    // Make the value count up.\n    if(config.valueCountUp){\n        var textTween = function(){\n            var i = d3.interpolate(text1.text, textFinalValue);\n            return function(t) {text1.text(textRounder(i(t)) + percentText); }\n        };\n        var textTween2 = function(){\n            var i = d3.interpolate(text2.text, textFinalValue);\n            return function(t) {text2.text(textRounder(i(t)) + percentText); }\n        };\n        text1.transition()\n            .duration(config.waveRiseTime)\n            .tween(\"text\", textTween);\n        text2.transition()\n            .duration(config.waveRiseTime)\n            .tween(\"text\", textTween2);\n    }\n\n    // Make the wave rise. wave and waveGroup are separate so that horizontal and vertical movement can be controlled independently.\n    var waveGroupXPosition = fillCircleMargin+fillCircleRadius*2-waveClipWidth;\n    if(config.waveRise){\n        waveGroup.attr('transform','translate('+waveGroupXPosition+','+waveRiseScale(0)+')')\n            .transition()\n            .duration(config.waveRiseTime)\n            .attr('transform','translate('+waveGroupXPosition+','+waveRiseScale(fillPercent)+')')\n            .on(\"start\", function(){ wave.attr('transform','translate(1,0)'); }); // This transform is necessary to get the clip wave positioned correctly when waveRise=true and waveAnimate=false. The wave will not position correctly without this, but it's not clear why this is actually necessary.\n    } else {\n        waveGroup.attr('transform','translate('+waveGroupXPosition+','+waveRiseScale(fillPercent)+')');\n    }\n\n    if(config.waveAnimate) animateWave(wave, config.waveAnimateTime);\n\n    function animateWave(wave, animateTime) {\n        wave.attr('transform','translate('+waveAnimateScale(wave.attr('T'))+',0)');\n        wave.transition()\n            .duration(animateTime * (1-wave.attr('T')))\n            .ease(d3.easeLinear)\n            .attr('transform','translate('+waveAnimateScale(1)+',0)')\n            .attr('T', 1)\n            .on('end', function(){\n                wave.attr('T', 0);\n                animateWave(wave, animateTime);\n            });\n    }\n\n    }\n\n    updateChart() {\n\n    }\n\n    liquidFillGaugeDefaultSettings() {\n        return {\n            minValue: 0, // The gauge minimum value.\n            maxValue: 100, // The gauge maximum value.\n            circleThickness: 0.05, // The outer circle thickness as a percentage of it's radius.\n            circleFillGap: 0.05, // The size of the gap between the outer circle and wave circle as a percentage of the outer circles radius.\n            circleColor: \"#178BCA\", // The color of the outer circle.\n            waveHeight: 0.05, // The wave height as a percentage of the radius of the wave circle.\n            waveCount: 1, // The number of full waves per width of the wave circle.\n            waveRiseTime: 1000, // The amount of time in milliseconds for the wave to rise from 0 to it's final height.\n            waveAnimateTime: 3000, // The amount of time in milliseconds for a full wave to enter the wave circle.\n            waveRise: true, // Control if the wave should rise from 0 to it's full height, or start at it's full height.\n            waveHeightScaling: true, // Controls wave size scaling at low and high fill percentages. When true, wave height reaches it's maximum at 50% fill, and minimum at 0% and 100% fill. This helps to prevent the wave from making the wave circle from appear totally full or empty when near it's minimum or maximum fill.\n            waveAnimate: true, // Controls if the wave scrolls or is static.\n            waveColor: \"#178BCA\", // The color of the fill wave.\n            waveOffset: 0, // The amount to initially offset the wave. 0 = no offset. 1 = offset of one full wave.\n            textVertPosition: .5, // The height at which to display the percentage text withing the wave circle. 0 = bottom, 1 = top.\n            textSize: 1, // The relative height of the text to display in the wave circle. 1 = 50%\n            valueCountUp: true, // If true, the displayed value counts up from 0 to it's final value upon loading. If false, the final value is displayed.\n            displayPercent: true, // If true, a % symbol is displayed after the value.\n            textColor: \"#045681\", // The color of the value text when the wave does not overlap it.\n            waveTextColor: \"#A4DBf8\" // The color of the value text when the wave overlaps it.\n        };\n    }\n}\n</code></pre>\n\n<p>And then <strong>chart-liquid-fill-gauge.css</strong></p>\n\n<pre><code>.d3-chart {\n  width: 30%;\n  height: 400px;\n}\n</code></pre>\n\n<p>Add LiquidFillGaugeChartView in to <strong>app.module.ts</strong></p>\n\n<pre><code>import { LiquidFillGaugeChartView } from 'views/chart-liquid-fill-gauge';\n\n@NgModule({\n  declarations: [\n    :\n    LiquidFillGaugeChartView\n  ],\n  :\n});\n</code></pre>\n\n<p>in your home.html or any other component</p>\n\n<pre><code>&lt;view-chart-liquid-fill-gauge [data]=\"55.5\"&gt;&lt;/view-chart-liquid-fill-gauge&gt;\n</code></pre>\n\n<p>Note: using D3 V4 and tested working for me.</p>\n"}], "owner": {"reputation": 2602, "user_id": 1745535, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/83215726bd19f47228c27842cd4d56ff?s=128&d=identicon&r=PG", "display_name": "Bing Lu", "link": "https://stackoverflow.com/users/1745535/bing-lu"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 279, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1494972041, "creation_date": 1462383279, "question_id": 37034420, "link": "https://stackoverflow.com/questions/37034420/migrating-javascript-nested-function-to-typescript-gets-error", "title": "Migrating javascript nested function to typescript gets error", "body": "<p>I try to reuse a javascript function <a href=\"http://bl.ocks.org/brattonc/5e5ce9beee483220e2f6\" rel=\"nofollow\">d3.js liquid gauge</a> which contains nested function in typescript but running into a lot of weird error.</p>\n\n<p>The javascript snippet is as below.</p>\n\n<pre><code>function loadLiquidFillGauge(elementId, value, config) {\n    if(config == null) config = liquidFillGaugeDefaultSettings();\n\n    var gauge = d3.select(\"#\" + elementId);\n    var radius = Math.min(parseInt(gauge.style(\"width\")), parseInt(gauge.style(\"height\")))/2;\n    var locationX = parseInt(gauge.style(\"width\"))/2 - radius;\n    var locationY = parseInt(gauge.style(\"height\"))/2 - radius;\n    var fillPercent = Math.max(config.minValue, Math.min(config.maxValue, value))/config.maxValue;\n\n    var waveHeightScale;\n    if(config.waveHeightScaling){\n        waveHeightScale = d3.scale.linear()\n            .range([0,config.waveHeight,0])\n            .domain([0,50,100]);\n    } else {\n        waveHeightScale = d3.scale.linear()\n            .range([config.waveHeight,config.waveHeight])\n            .domain([0,100]);\n    }\n\n    var textPixels = (config.textSize*radius/2);\n    var textFinalValue = parseFloat(value).toFixed(2);\n    var textStartValue = config.valueCountUp?config.minValue:textFinalValue;\n    var percentText = config.displayPercent?\"%\":\"\";\n    var circleThickness = config.circleThickness * radius;\n    var circleFillGap = config.circleFillGap * radius;\n    var fillCircleMargin = circleThickness + circleFillGap;\n    var fillCircleRadius = radius - fillCircleMargin;\n    var waveHeight = fillCircleRadius*waveHeightScale(fillPercent*100);\n\n    var waveLength = fillCircleRadius*2/config.waveCount;\n    var waveClipCount = 1+config.waveCount;\n    var waveClipWidth = waveLength*waveClipCount;\n\n    // Rounding functions so that the correct number of decimal places is always displayed as the value counts up.\n    var textRounder = function(value){ return Math.round(value); };\n    if(parseFloat(textFinalValue) != parseFloat(textRounder(textFinalValue))){\n        textRounder = function(value){ return parseFloat(value).toFixed(1); };\n    }\n    if(parseFloat(textFinalValue) != parseFloat(textRounder(textFinalValue))){\n        textRounder = function(value){ return parseFloat(value).toFixed(2); };\n    }\n\n    // Data for building the clip wave area.\n    var data = [];\n    for(var i = 0; i &lt;= 40*waveClipCount; i++){\n        data.push({x: i/(40*waveClipCount), y: (i/(40))});\n    }\n\n    // Scales for drawing the outer circle.\n    var gaugeCircleX = d3.scale.linear().range([0,2*Math.PI]).domain([0,1]);\n    var gaugeCircleY = d3.scale.linear().range([0,radius]).domain([0,radius]);\n\n    // Scales for controlling the size of the clipping path.\n    var waveScaleX = d3.scale.linear().range([0,waveClipWidth]).domain([0,1]);\n    var waveScaleY = d3.scale.linear().range([0,waveHeight]).domain([0,1]);\n\n    // Scales for controlling the position of the clipping path.\n    var waveRiseScale = d3.scale.linear()\n        // The clipping area size is the height of the fill circle + the wave height, so we position the clip wave\n        // such that the it will overlap the fill circle at all when at 0%, and will totally cover the fill\n        // circle at 100%.\n        .range([(fillCircleMargin+fillCircleRadius*2+waveHeight),(fillCircleMargin-waveHeight)])\n        .domain([0,1]);\n    var waveAnimateScale = d3.scale.linear()\n        .range([0, waveClipWidth-fillCircleRadius*2]) // Push the clip area one full wave then snap back.\n        .domain([0,1]);\n\n    // Scale for controlling the position of the text within the gauge.\n    var textRiseScaleY = d3.scale.linear()\n        .range([fillCircleMargin+fillCircleRadius*2,(fillCircleMargin+textPixels*0.7)])\n        .domain([0,1]);\n\n    // Center the gauge within the parent SVG.\n    var gaugeGroup = gauge.append(\"g\")\n        .attr('transform','translate('+locationX+','+locationY+')');\n\n    // Draw the outer circle.\n    var gaugeCircleArc = d3.svg.arc()\n        .startAngle(gaugeCircleX(0))\n        .endAngle(gaugeCircleX(1))\n        .outerRadius(gaugeCircleY(radius))\n        .innerRadius(gaugeCircleY(radius-circleThickness));\n    gaugeGroup.append(\"path\")\n        .attr(\"d\", gaugeCircleArc)\n        .style(\"fill\", config.circleColor)\n        .attr('transform','translate('+radius+','+radius+')');\n\n    // Text where the wave does not overlap.\n    var text1 = gaugeGroup.append(\"text\")\n        .text(textRounder(textStartValue) + percentText)\n        .attr(\"class\", \"liquidFillGaugeText\")\n        .attr(\"text-anchor\", \"middle\")\n        .attr(\"font-size\", textPixels + \"px\")\n        .style(\"fill\", config.textColor)\n        .attr('transform','translate('+radius+','+textRiseScaleY(config.textVertPosition)+')');\n\n    // The clipping wave area.\n    var clipArea = d3.svg.area()\n        .x(function(d) { return waveScaleX(d.x); } )\n        .y0(function(d) { return waveScaleY(Math.sin(Math.PI*2*config.waveOffset*-1 + Math.PI*2*(1-config.waveCount) + d.y*2*Math.PI));} )\n        .y1(function(d) { return (fillCircleRadius*2 + waveHeight); } );\n    var waveGroup = gaugeGroup.append(\"defs\")\n        .append(\"clipPath\")\n        .attr(\"id\", \"clipWave\" + elementId);\n    var wave = waveGroup.append(\"path\")\n        .datum(data)\n        .attr(\"d\", clipArea)\n        .attr(\"T\", 0);\n\n    // The inner circle with the clipping wave attached.\n    var fillCircleGroup = gaugeGroup.append(\"g\")\n        .attr(\"clip-path\", \"url(#clipWave\" + elementId + \")\");\n    fillCircleGroup.append(\"circle\")\n        .attr(\"cx\", radius)\n        .attr(\"cy\", radius)\n        .attr(\"r\", fillCircleRadius)\n        .style(\"fill\", config.waveColor);\n\n    // Text where the wave does overlap.\n    var text2 = fillCircleGroup.append(\"text\")\n        .text(textRounder(textStartValue) + percentText)\n        .attr(\"class\", \"liquidFillGaugeText\")\n        .attr(\"text-anchor\", \"middle\")\n        .attr(\"font-size\", textPixels + \"px\")\n        .style(\"fill\", config.waveTextColor)\n        .attr('transform','translate('+radius+','+textRiseScaleY(config.textVertPosition)+')');\n\n    // Make the value count up.\n    if(config.valueCountUp){\n        var textTween = function(){\n            var i = d3.interpolate(this.textContent, textFinalValue);\n            return function(t) { this.textContent = textRounder(i(t)) + percentText; }\n        };\n        text1.transition()\n            .duration(config.waveRiseTime)\n            .tween(\"text\", textTween);\n        text2.transition()\n            .duration(config.waveRiseTime)\n            .tween(\"text\", textTween);\n    }\n\n    // Make the wave rise. wave and waveGroup are separate so that horizontal and vertical movement can be controlled independently.\n    var waveGroupXPosition = fillCircleMargin+fillCircleRadius*2-waveClipWidth;\n    if(config.waveRise){\n        waveGroup.attr('transform','translate('+waveGroupXPosition+','+waveRiseScale(0)+')')\n            .transition()\n            .duration(config.waveRiseTime)\n            .attr('transform','translate('+waveGroupXPosition+','+waveRiseScale(fillPercent)+')')\n            .each(\"start\", function(){ wave.attr('transform','translate(1,0)'); }); // This transform is necessary to get the clip wave positioned correctly when waveRise=true and waveAnimate=false. The wave will not position correctly without this, but it's not clear why this is actually necessary.\n    } else {\n        waveGroup.attr('transform','translate('+waveGroupXPosition+','+waveRiseScale(fillPercent)+')');\n    }\n\n    if(config.waveAnimate) animateWave();\n\n    function animateWave() {\n        wave.attr('transform','translate('+waveAnimateScale(wave.attr('T'))+',0)');\n        wave.transition()\n            .duration(config.waveAnimateTime * (1-wave.attr('T')))\n            .ease('linear')\n            .attr('transform','translate('+waveAnimateScale(1)+',0)')\n            .attr('T', 1)\n            .each('end', function(){\n                wave.attr('T', 0);\n                animateWave(config.waveAnimateTime);\n            });\n    }\n\n}\n</code></pre>\n\n<p>I copied the above code to a typescript class, removed the <code>function</code> keyword and added some type restrictions like below.</p>\n\n<pre><code>   liquidFillGaugeDefaultSettings(){\n       return {\n           minValue: 0, // The gauge minimum value.\n           maxValue: 100, // The gauge maximum value.\n           circleThickness: 0.05, // The outer circle thickness as a percentage of it's radius.\n           circleFillGap: 0.05, // The size of the gap between the outer circle and wave circle as a percentage of the outer circles radius.\n           circleColor: \"#152935\", // The color of the outer circle.\n           waveHeight: 0.05, // The wave height as a percentage of the radius of the wave circle.\n           waveCount: 1, // The number of full waves per width of the wave circle.\n           waveRiseTime: 1000, // The amount of time in milliseconds for the wave to rise from 0 to it's final height.\n           waveAnimateTime: 1000, // The amount of time in milliseconds for a full wave to enter the wave circle.\n           waveRise: true, // Control if the wave should rise from 0 to it's full height, or start at it's full height.\n           waveHeightScaling: true, // Controls wave size scaling at low and high fill percentages. When true, wave height reaches it's maximum at 50% fill, and minimum at 0% and 100% fill. This helps to prevent the wave from making the wave circle from appear totally full or empty when near it's minimum or maximum fill.\n           waveAnimate: true, // Controls if the wave scrolls or is static.\n           waveColor: \"#41d6c3\", // The color of the fill wave.\n           waveOffset: 0, // The amount to initially offset the wave. 0 = no offset. 1 = offset of one full wave.\n           textVertPosition: .5, // The height at which to display the percentage text withing the wave circle. 0 = bottom, 1 = top.\n           textSize: 1, // The relative height of the text to display in the wave circle. 1 = 50%\n           valueCountUp: true, // If true, the displayed value counts up from 0 to it's final value upon loading. If false, the final value is displayed.\n           displayPercent: true, // If true, a % symbol is displayed after the value.\n           textColor: \"#045681\", // The color of the value text when the wave does not overlap it.\n           waveTextColor: \"#A4DBf8\" // The color of the value text when the wave overlaps it.\n       };\n   }\n\n   loadLiquidFillGauge(elementId:string, value:string, config:any) {\n       if(config == null) config = this.liquidFillGaugeDefaultSettings();\n\n       var gauge = d3.select(\"#\" + elementId);\n       var radius = Math.min(parseInt(gauge.style(\"width\")), parseInt(gauge.style(\"height\")))/2;\n       var locationX = parseInt(gauge.style(\"width\"))/2 - radius;\n       var locationY = parseInt(gauge.style(\"height\"))/2 - radius;\n       var fillPercent = Math.max(config.minValue, Math.min(config.maxValue, +value))/config.maxValue;\n\n       var waveHeightScale;\n       if(config.waveHeightScaling){\n           waveHeightScale = d3.scale.linear()\n               .range([0,config.waveHeight,0])\n               .domain([0,50,100]);\n       } else {\n           waveHeightScale = d3.scale.linear()\n               .range([config.waveHeight,config.waveHeight])\n               .domain([0,100]);\n       }\n\n       var textPixels = (config.textSize*radius/2);\n       var textFinalValue = parseFloat(value).toFixed(2);\n       var textStartValue = config.valueCountUp?config.minValue:textFinalValue;\n       var percentText = config.displayPercent?\"%\":\"\";\n       var circleThickness = config.circleThickness * radius;\n       var circleFillGap = config.circleFillGap * radius;\n       var fillCircleMargin = circleThickness + circleFillGap;\n       var fillCircleRadius = radius - fillCircleMargin;\n       var waveHeight = fillCircleRadius*waveHeightScale(fillPercent*100);\n\n       var waveLength = fillCircleRadius*2/config.waveCount;\n       var waveClipCount = 1+config.waveCount;\n       var waveClipWidth = waveLength*waveClipCount;\n\n       // Rounding functions so that the correct number of decimal places is always displayed as the value counts up.\n       var textRounder = function(value:string){ return Math.round(+value); };\n       if(parseFloat(textFinalValue) != parseFloat(textRounder(textFinalValue))){\n           textRounder = function(value:string){ return parseFloat(value).toFixed(1); };\n       }\n       if(parseFloat(textFinalValue) != parseFloat(textRounder(textFinalValue))){\n           textRounder = function(value:string){ return parseFloat(value).toFixed(2); };\n       }\n\n       // Data for building the clip wave area.\n       var data = [];\n       for(var i = 0; i &lt;= 40*waveClipCount; i++){\n           data.push({x: i/(40*waveClipCount), y: (i/(40))});\n       }\n\n       // Scales for drawing the outer circle.\n       var gaugeCircleX = d3.scale.linear().range([0,2*Math.PI]).domain([0,1]);\n       var gaugeCircleY = d3.scale.linear().range([0,radius]).domain([0,radius]);\n\n       // Scales for controlling the size of the clipping path.\n       var waveScaleX = d3.scale.linear().range([0,waveClipWidth]).domain([0,1]);\n       var waveScaleY = d3.scale.linear().range([0,waveHeight]).domain([0,1]);\n\n       // Scales for controlling the position of the clipping path.\n       var waveRiseScale = d3.scale.linear()\n           // The clipping area size is the height of the fill circle + the wave height, so we position the clip wave\n           // such that the it will overlap the fill circle at all when at 0%, and will totally cover the fill\n           // circle at 100%.\n           .range([(fillCircleMargin+fillCircleRadius*2+waveHeight),(fillCircleMargin-waveHeight)])\n           .domain([0,1]);\n       var waveAnimateScale = d3.scale.linear()\n           .range([0, waveClipWidth-fillCircleRadius*2]) // Push the clip area one full wave then snap back.\n           .domain([0,1]);\n\n       // Scale for controlling the position of the text within the gauge.\n       var textRiseScaleY = d3.scale.linear()\n           .range([fillCircleMargin+fillCircleRadius*2,(fillCircleMargin+textPixels*0.7)])\n           .domain([0,1]);\n\n       // Center the gauge within the parent SVG.\n       var gaugeGroup = gauge.append(\"g\")\n           .attr('transform','translate('+locationX+','+locationY+')');\n\n       // Draw the outer circle.\n       var gaugeCircleArc = d3.svg.arc()\n           .startAngle(gaugeCircleX(0))\n           .endAngle(gaugeCircleX(1))\n           .outerRadius(gaugeCircleY(radius))\n           .innerRadius(gaugeCircleY(radius-circleThickness));\n       gaugeGroup.append(\"path\")\n           .attr(\"d\", gaugeCircleArc)\n           .style(\"fill\", config.circleColor)\n           .attr('transform','translate('+radius+','+radius+')');\n\n       // Text where the wave does not overlap.\n       var text1 = gaugeGroup.append(\"text\")\n           .text(textRounder(textStartValue) + percentText)\n           .attr(\"class\", \"liquidFillGaugeText\")\n           .attr(\"text-anchor\", \"middle\")\n           .attr(\"font-size\", textPixels + \"px\")\n           .style(\"fill\", config.textColor)\n           .attr('transform','translate('+radius+','+textRiseScaleY(config.textVertPosition)+')');\n\n       // The clipping wave area.\n       var clipArea = d3.svg.area()\n           .x(function(d) { return waveScaleX(d.x); } )\n           .y0(function(d) { return waveScaleY(Math.sin(Math.PI*2*config.waveOffset*-1 + Math.PI*2*(1-config.waveCount) + d.y*2*Math.PI));} )\n           .y1(function(d) { return (fillCircleRadius*2 + waveHeight); } );\n       var waveGroup = gaugeGroup.append(\"defs\")\n           .append(\"clipPath\")\n           .attr(\"id\", \"clipWave\" + elementId);\n       var wave = waveGroup.append(\"path\")\n           .datum(data)\n           .attr(\"d\", clipArea)\n           .attr(\"T\", 0);\n\n       // The inner circle with the clipping wave attached.\n       var fillCircleGroup = gaugeGroup.append(\"g\")\n           .attr(\"clip-path\", \"url(#clipWave\" + elementId + \")\");\n       fillCircleGroup.append(\"circle\")\n           .attr(\"cx\", radius)\n           .attr(\"cy\", radius)\n           .attr(\"r\", fillCircleRadius)\n           .style(\"fill\", config.waveColor);\n\n       // Text where the wave does overlap.\n       var text2 = fillCircleGroup.append(\"text\")\n           .text(textRounder(textStartValue) + percentText)\n           .attr(\"class\", \"liquidFillGaugeText\")\n           .attr(\"text-anchor\", \"middle\")\n           .attr(\"font-size\", textPixels + \"px\")\n           .style(\"fill\", config.waveTextColor)\n           .attr('transform','translate('+radius+','+textRiseScaleY(config.textVertPosition)+')');\n\n       // Make the value count up.\n       if(config.valueCountUp){\n           var textTween = function(){\n               var i = d3.interpolate(this.textContent, textFinalValue);\n               return function(t) { this.textContent = textRounder(i(t)) + percentText; }\n           };\n           text1.transition()\n               .duration(config.waveRiseTime)\n               .tween(\"text\", textTween);\n           text2.transition()\n               .duration(config.waveRiseTime)\n               .tween(\"text\", textTween);\n       }\n\n       // Make the wave rise. wave and waveGroup are separate so that horizontal and vertical movement can be controlled independently.\n       var waveGroupXPosition = fillCircleMargin+fillCircleRadius*2-waveClipWidth;\n       if(config.waveRise){\n           waveGroup.attr('transform','translate('+waveGroupXPosition+','+waveRiseScale(0)+')')\n               .transition()\n               .duration(config.waveRiseTime)\n               .attr('transform','translate('+waveGroupXPosition+','+waveRiseScale(fillPercent)+')')\n               .each(\"start\", function(){ wave.attr('transform','translate(1,0)'); }); // This transform is necessary to get the clip wave positioned correctly when waveRise=true and waveAnimate=false. The wave will not position correctly without this, but it's not clear why this is actually necessary.\n       } else {\n           waveGroup.attr('transform','translate('+waveGroupXPosition+','+waveRiseScale(fillPercent)+')');\n       }\n\n       if(config.waveAnimate) animateWave();\n\n       animateWave() {\n           wave.attr('transform','translate('+waveAnimateScale(wave.attr('T'))+',0)');\n           wave.transition()\n               .duration(config.waveAnimateTime * (1-wave.attr('T')))\n               .ease('linear')\n               .attr('transform','translate('+waveAnimateScale(1)+',0)')\n               .attr('T', 1)\n               .each('end', function(){\n                   wave.attr('T', 0);\n                   animateWave(config.waveAnimateTime);\n               });\n       }\n   }\n</code></pre>\n\n<p>and it complained about <code>';' expected</code> at this line <code>animateWave() {</code>. Even if I totally removed <code>animateWave()</code> function, it started to complain about type not matched for <code>textRounder</code> function.</p>\n\n<p>I guess there must be some other things wrong trigger this no sense error. but I can't find it. Could you point it out?</p>\n\n<p>I know the code is too long. If it's not suitable for a specific question, could you guys suggest what should I do when I want to reuse a javascript function in typescript?</p>\n"}, {"tags": ["javascript", "typescript", "angular", "typescript1.8"], "answers": [{"tags": [], "owner": {"reputation": 483726, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "is_accepted": true, "score": 1, "last_activity_date": 1462381226, "creation_date": 1462381226, "answer_id": 37033883, "question_id": 37033826, "link": "https://stackoverflow.com/questions/37033826/queue-callback-function-after-fetching-data-in-an-observable-in-angular-2/37033883#37033883", "title": "Queue/callback function after fetching data in an Observable in Angular 2", "body": "<p>You need to make it a closure not a function call.</p>\n\n<pre><code>this._itemsService.getItems().subscribe(items =&gt; this.items = items, err =&gt; {}, () =&gt; callThisFunctionAfter());\n</code></pre>\n\n<p>Without <code>() =&gt;</code> the function is called and the result is passed as callback.</p>\n\n<p>This is the reason <code>callThisFunctionAfter()</code> is executed before <code>subscribe()</code> instead of when the observable was closed.</p>\n"}], "owner": {"reputation": 157, "user_id": 1788911, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/22a50bd11b18ce6207e483dd14ee7b4f?s=128&d=identicon&r=PG", "display_name": "skyscript", "link": "https://stackoverflow.com/users/1788911/skyscript"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 811, "favorite_count": 0, "accepted_answer_id": 37033883, "answer_count": 1, "score": 1, "last_activity_date": 1462381226, "creation_date": 1462381051, "question_id": 37033826, "link": "https://stackoverflow.com/questions/37033826/queue-callback-function-after-fetching-data-in-an-observable-in-angular-2", "title": "Queue/callback function after fetching data in an Observable in Angular 2", "body": "<p>I am trying to queue or create a callback function after fetching data from service, but the function seems to be called asynchronously. I'd like the function to be called after the data is fetched as the data in the Observable is required for the function. So far this doesn't work as the function is called before all the data has been assigned to this.items:</p>\n\n<pre><code>this._itemsService.getItems().subscribe(items =&gt; this.items = items, err =&gt; {}, callThisFunctionAfter());\n</code></pre>\n\n<p>Is there a way to turn the function into a callback or queue it like a promise?</p>\n"}, {"tags": ["javascript", "c#", "asp.net-web-api", "typescript", "gulp"], "comments": [{"owner": {"reputation": 726, "user_id": 565753, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c626bcc22e9e0a383aa11b4ae253e51a?s=128&d=identicon&r=PG", "display_name": "Rick Petersen", "link": "https://stackoverflow.com/users/565753/rick-petersen"}, "edited": false, "score": 0, "creation_date": 1462382221, "post_id": 37033524, "comment_id": 61618258, "body": "I&#39;m confused I think.  Can you give any more background or information on this?  My gut feeling is &quot;Why are you using Gulp to set a variable for an endpoint?&quot;  Is there a reason you wouldn&#39;t use the built in configuration concepts?  Web.config would work if this is an older site or any of the &#39;configurable config&#39; options (i.e. JSON, XML, etc) in the newer MVC6 project type."}, {"owner": {"user_type": "does_not_exist", "display_name": "user5326354"}, "reply_to_user": {"reputation": 726, "user_id": 565753, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c626bcc22e9e0a383aa11b4ae253e51a?s=128&d=identicon&r=PG", "display_name": "Rick Petersen", "link": "https://stackoverflow.com/users/565753/rick-petersen"}, "edited": false, "score": 0, "creation_date": 1462385966, "post_id": 37033524, "comment_id": 61620549, "body": "Maybe my older question can help explain better - <a href=\"http://stackoverflow.com/questions/36664393/asp-net-web-api-2-separation-of-web-client-and-web-server-development?noredirect=1#comment60922872_36664393\" title=\"asp net web api 2 separation of web client and web server development\">stackoverflow.com/questions/36664393/&hellip;</a>"}], "answers": [{"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user5326354"}, "edited": false, "score": 0, "creation_date": 1462632237, "post_id": 37089600, "comment_id": 61723572, "body": "With this approach will the end point be set correctly when building in different enviorments without any changes? I did not really understand yargs, even after reading the documentation, hope you can explain it to me briefly"}, {"owner": {"reputation": 5137, "user_id": 1977143, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/0535f24ca07991ae67a1effb618d3cae?s=128&d=identicon&r=PG", "display_name": "Bruno Garcia", "link": "https://stackoverflow.com/users/1977143/bruno-garcia"}, "edited": false, "score": 0, "creation_date": 1462632653, "post_id": 37089600, "comment_id": 61723673, "body": "I tried to clarify a bit more.. The idea is that instead of inspecting branch internally to your gulp task, you can pass an argument to indicate which API endpoint you want to use."}, {"owner": {"user_type": "does_not_exist", "display_name": "user5326354"}, "edited": false, "score": 0, "creation_date": 1462634117, "post_id": 37089600, "comment_id": 61724087, "body": "Okay I understood how you suggest to use the yargs and how it can help me, but it requires me to make a change in order to switch to the other end point. Sounds simillar to what we do now. We have both Fake server and real server sit on the same port, and when switching we create virtual directory. I wanted to be able to build simillary and get the endpoint without making any changes"}, {"owner": {"reputation": 5137, "user_id": 1977143, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/0535f24ca07991ae67a1effb618d3cae?s=128&d=identicon&r=PG", "display_name": "Bruno Garcia", "link": "https://stackoverflow.com/users/1977143/bruno-garcia"}, "edited": false, "score": 0, "creation_date": 1462635645, "post_id": 37089600, "comment_id": 61724603, "body": "I&#39;m not sure I follow. The OP referred to using the Branch. You need to be building multiple branches to use the different endpoints.You have one branch building against one endpoint, and the other branch on another endpoint. I&#39;m unclear how that&#39;s going to help you."}, {"owner": {"user_type": "does_not_exist", "display_name": "user5326354"}, "edited": false, "score": 0, "creation_date": 1462636991, "post_id": 37089600, "comment_id": 61725028, "body": "That&#39;s exactly what I want, each branch to have a different endpoint. That means that each branch needs a different arguement when building. But if I set a sepcific arugment say --dev for Dev branch, and than check it in, when merging to Prod branch, it will have the wrong argument for the build, as it will have the --dev argument. Am I mistaken?"}, {"owner": {"reputation": 5137, "user_id": 1977143, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/0535f24ca07991ae67a1effb618d3cae?s=128&d=identicon&r=PG", "display_name": "Bruno Garcia", "link": "https://stackoverflow.com/users/1977143/bruno-garcia"}, "edited": false, "score": 0, "creation_date": 1462638392, "post_id": 37089600, "comment_id": 61725529, "body": "The argument is not saved in the source control. You pass it when building. So you have have on your CI (TFS) the --prod while locally you don&#39;t pass any arguments.. hence using different endpoints."}, {"owner": {"user_type": "does_not_exist", "display_name": "user5326354"}, "edited": false, "score": 0, "creation_date": 1464710354, "post_id": 37089600, "comment_id": 62589448, "body": "I&#39;m having troubles downloading Gulp and integrate it in my project, could you help me maybe? : <a href=\"http://stackoverflow.com/questions/37520390/npm-init-command-runs-endlessly\" title=\"npm init command runs endlessly\">stackoverflow.com/questions/37520390/&hellip;</a>"}], "tags": [], "owner": {"reputation": 5137, "user_id": 1977143, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/0535f24ca07991ae67a1effb618d3cae?s=128&d=identicon&r=PG", "display_name": "Bruno Garcia", "link": "https://stackoverflow.com/users/1977143/bruno-garcia"}, "is_accepted": true, "score": 1, "last_activity_date": 1462633373, "last_edit_date": 1462633373, "creation_date": 1462630506, "answer_id": 37089600, "question_id": 37033524, "link": "https://stackoverflow.com/questions/37033524/web-api-use-gulp-task-to-dynamically-set-end-point-address/37089600#37089600", "title": "Web api - Use Gulp task to dynamically set end point address", "body": "<p>Instead of checking for the branch internally in your script, what about using arguments to differentiate a <em>dev</em> build vs a <em>prod</em> build.</p>\n\n<p>You could use <a href=\"https://www.npmjs.com/package/yargs\" rel=\"nofollow\">yargs</a> for that:</p>\n\n<pre><code>var argv = require('yargs').argv;\ngulp.task('setEndPoint', function() {\n  if (argv.dev)\n      endPoint = \"localhost/2234\"\n  else\n      endPoint = \"localhost/2235\"\n});\n</code></pre>\n\n<p><em>yargs</em> will bind the argument to the script to a property of the object:</p>\n\n<pre><code>gulp build --bla\n</code></pre>\n\n<p>Will allow you have inside you gulp task:</p>\n\n<pre><code>var argv = require('yargs').argv;\nif (argv.bla) {\n    // this line runs\n}\n</code></pre>\n\n<p>With this, if you call <code>gulp build</code> without arguments, it won't have <em>dev</em> set to true (argv.dev will be undefined) and will pick the <em>prod</em> endpoint. That will happen on TFS, or when you want to run against the real backend on your development box.</p>\n\n<p>For backendless development, you can call: <code>gulp build --dev</code> which will pick the <em>dev</em> endpoint.</p>\n\n<p>If you prefer, you can use <code>argv.prod</code> and set on TFS the <code>gulp build --prod</code>, so passing no argument will use the <em>stub server</em>.</p>\n"}, {"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user5326354"}, "edited": false, "score": 0, "creation_date": 1463407539, "post_id": 37094899, "comment_id": 62038853, "body": "Why do you say that the env.js should be excluded from the main branch?"}, {"owner": {"reputation": 2703, "user_id": 4905207, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/nsrH4.jpg?s=128&g=1", "display_name": "Soma Yarlagadda", "link": "https://stackoverflow.com/users/4905207/soma-yarlagadda"}, "edited": false, "score": 0, "creation_date": 1463413764, "post_id": 37094899, "comment_id": 62042904, "body": "env.js file should be excluded from check-in as this is unique per environment like, development, testing and production. You don&#39;t want to overwrite changes from one environment (URL you defined for development may not be the same on beta) to other, hence you should avoid checking that file and maintain separate copies."}], "tags": [], "owner": {"reputation": 2703, "user_id": 4905207, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/nsrH4.jpg?s=128&g=1", "display_name": "Soma Yarlagadda", "link": "https://stackoverflow.com/users/4905207/soma-yarlagadda"}, "is_accepted": false, "score": 1, "last_activity_date": 1462665877, "creation_date": 1462665877, "answer_id": 37094899, "question_id": 37033524, "link": "https://stackoverflow.com/questions/37033524/web-api-use-gulp-task-to-dynamically-set-end-point-address/37094899#37094899", "title": "Web api - Use Gulp task to dynamically set end point address", "body": "<p>Gulp runs in a different environment and TFS runs in a different environment. I would be very surprised, if they can see each others settings. But, your actual problem is to identify the right url (or just the port) for the API. I think, the best way to solve this issue is to use environment variables file.</p>\n\n<p>Let us say the client team is developing in client branch and the server team is developing in server branch. Once ready, both teams will merge their changes in to main branch. Now the production code will run from main branch. </p>\n\n<blockquote>\n  <p>The idea is to add env.js file in client branch and main branch. Make sure the changes for this file in client branch are excluded from check-in to main branch (This is very easy with TFS, right click on the file and say exclude from check-in). Now this file will hold any environment level variables (API url in your case). Your angular client will read the values from this file for execution. This way you can have seperate env.js files for development, staging and production and you don't have to deal with headaches of changing them with deployment. </p>\n</blockquote>\n\n<p><a href=\"http://www.jvandemo.com/how-to-configure-your-angularjs-application-using-environment-variables/?utm_campaign=NG-Newsletter&amp;utm_content=linkplug&amp;utm_medium=email&amp;utm_source=NG-Newsletter_138&amp;utm_term=linkplug\" rel=\"nofollow\">Here</a> is a great article on how you can achieve this. I would strongly suggest taking this route as it gives great flexibility in terms of many things you can achieve. gulp is a great client side build tool. This approach with gulp for other tasks like, minification, would make your application better.</p>\n\n<p>Please let me know if you have any questions.</p>\n\n<p>Thank you,\nSoma. </p>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user5326354"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 667, "favorite_count": 0, "accepted_answer_id": 37089600, "answer_count": 2, "score": 6, "last_activity_date": 1463159301, "creation_date": 1462380086, "last_edit_date": 1495535315, "question_id": 37033524, "link": "https://stackoverflow.com/questions/37033524/web-api-use-gulp-task-to-dynamically-set-end-point-address", "title": "Web api - Use Gulp task to dynamically set end point address", "body": "<p>As described in my previous question: </p>\n\n<p><a href=\"https://stackoverflow.com/questions/36664393/asp-net-web-api-2-separation-of-web-client-and-web-server-development/36677515?noredirect=1#comment61688738_36677515\">Asp.net web API 2 separation Of Web client and web server development</a> </p>\n\n<p>In order to get full separation of client and server, I want to set a variable to hold the end point for client requests. When client side is developed, the requests will be sent to a \"stub server\" that returns default values so that client side can be developed without depending on the server side development. That stub server runs on one port different that the real server port, and when running integration between server and client, in a branch integration, the variable will hold the real server port.</p>\n\n<p>For that matter, I learned that a build tool such as Gulp could help me. </p>\n\n<p>I'm working with Tfs source control.</p>\n\n<p>What I want is for example, write a task that will function like this:</p>\n\n<pre><code>gulp.task('setEndPoint', function() {\n  var branchName = // How do I get it?\n  if (branchName == \"Project.Testing\")\n      endPoint = \"localhost/2234\"\n  if (branchName == \"Project.Production\")\n      endPoint = \"localhost/2235\"\n});\n</code></pre>\n\n<p>Is there a way to get the current branch that task is running in? </p>\n\n<p>Thanks for helpers</p>\n"}, {"tags": ["typescript", "visual-studio-2015", "angular", "resharper", "webpack"], "comments": [{"owner": {"reputation": 1126, "user_id": 904255, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/s3Q7h.png?s=128&g=1", "display_name": "July.Tech", "link": "https://stackoverflow.com/users/904255/july-tech"}, "edited": false, "score": 0, "creation_date": 1469031421, "post_id": 37033326, "comment_id": 64373484, "body": "ReSharper 2016.2 seems to add more support for Typescript: <a href=\"https://blog.jetbrains.com/dotnet/2016/05/27/resharper-ultimate-2016-2-eap-kicks-off/\" rel=\"nofollow noreferrer\">link</a>, although I am still seeing a lot of issues using it for Angular 2 development (I am on EAP 8 currently)."}], "answers": [{"tags": [], "owner": {"reputation": 841, "user_id": 4320602, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-tAeg9QzLEqg/AAAAAAAAAAI/AAAAAAAAACA/GlUejV9WXhI/photo.jpg?sz=128", "display_name": "JoMendez", "link": "https://stackoverflow.com/users/4320602/jomendez"}, "is_accepted": false, "score": 0, "last_activity_date": 1479746983, "creation_date": 1479746983, "answer_id": 40725289, "question_id": 37033326, "link": "https://stackoverflow.com/questions/37033326/angular-2-and-visual-studio-2015-with-resharper-2016-1/40725289#40725289", "title": "Angular 2 and Visual Studio 2015 with ReSharper 2016.1", "body": "<p>This is provably not the best solution but it might provides a workaround</p>\n\n<p>Error: Symbol 'X' can not be properly resolved, probably its located in an inaccessible module</p>\n\n<p>Solution: You can disabled resharper\u2019s typescript inspection for now. In VS2015 go to Resharper > Options > Code Inspection > Settings Find \u2018File masks\u2019 (bottom right) and add *.ts</p>\n\n<p>With this you will maintain all the resharper functionalities while disable it for TypeScript only</p>\n\n<p>This is the full <a href=\"http://www.jomendez.com/2016/11/07/angularjs-2-seed-visual-studio-2015/\" rel=\"nofollow noreferrer\">article</a> on how to install angular 2 seed for VS 2015:</p>\n"}], "owner": {"reputation": 9858, "user_id": 343159, "user_type": "registered", "accept_rate": 37, "profile_image": "https://www.gravatar.com/avatar/621bd528bae8952ea5f9391b2a727ee6?s=128&d=identicon&r=PG", "display_name": "serlingpa", "link": "https://stackoverflow.com/users/343159/serlingpa"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 856, "favorite_count": 0, "answer_count": 1, "score": 5, "last_activity_date": 1479746983, "creation_date": 1462379446, "question_id": 37033326, "link": "https://stackoverflow.com/questions/37033326/angular-2-and-visual-studio-2015-with-resharper-2016-1", "title": "Angular 2 and Visual Studio 2015 with ReSharper 2016.1", "body": "<p>I am developing a webpack Angular 2.0.0-rc.1 application under Mac OS X using Visual Studio Code, but am trying to migrate the editing to Visual Studio 2015 under Parallels. I want to keep the actual build process running in OS X. I am doing this because I have found after several months of use that Visual Studio Code is quite limited.</p>\n\n<p>ReSharper 2016.1 is complaining about a lot of my TypeScript. For instance, it does not like <code>@Component</code> or <code>@RouteConfig</code>, complaining that it cannot resolve the symbols. I have several options - I could disable ReSharper (no), I could disable the inspections (no), ... and so on.</p>\n\n<p>What can I do about this? I have configured ReSharper to use TypeScript 1.8 but I'm not sure what else I can do.</p>\n\n<p>For some reason or other, it can't find the <code>Router</code> class or <code>ROUTER_DIRECTIVES</code> object as defined in the import:</p>\n\n<pre><code>import { RouteConfig, Router, ROUTER_DIRECTIVES } from '@angular/router-deprecated';\n</code></pre>\n\n<p>They are not hinted in this import, but later on in the code. There are many errors like this, a few too many to enumerate.</p>\n\n<p>Anyone have any success using Angular 2 with Visual Studio 2015 &amp; ReSharper 2016.1?</p>\n"}, {"tags": ["typescript", "sprite", "phaser-framework"], "answers": [{"tags": [], "owner": {"reputation": 35578, "user_id": 3000206, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/BK1fo.jpg?s=128&g=1", "display_name": "Carcigenicate", "link": "https://stackoverflow.com/users/3000206/carcigenicate"}, "is_accepted": true, "score": 0, "last_activity_date": 1462419962, "creation_date": 1462419962, "answer_id": 37041969, "question_id": 37033200, "link": "https://stackoverflow.com/questions/37033200/all-phaser-sprite-objects-i-create-suddenly-are-missing-their-2d-coordinates/37041969#37041969", "title": "All Phaser.Sprite objects I create suddenly are missing their 2D coordinates", "body": "<p>This was caused by 2 things:</p>\n\n<ul>\n<li>Edge not reporting the x and y coordinates of the Sprite; even though they existed.</li>\n<li>I accidently passed <code>this</code> instead of <code>this.host</code> to Phaser's <code>Phaser.Math.angleToXY</code> function, and for some reason Typescript's type system didn't catch it, even though it was obviously wrong.</li>\n</ul>\n\n<p>Thanks Microsoft.</p>\n"}], "owner": {"reputation": 35578, "user_id": 3000206, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/BK1fo.jpg?s=128&g=1", "display_name": "Carcigenicate", "link": "https://stackoverflow.com/users/3000206/carcigenicate"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 239, "favorite_count": 0, "accepted_answer_id": 37041969, "answer_count": 1, "score": 0, "last_activity_date": 1462419962, "creation_date": 1462379063, "question_id": 37033200, "link": "https://stackoverflow.com/questions/37033200/all-phaser-sprite-objects-i-create-suddenly-are-missing-their-2d-coordinates", "title": "All Phaser.Sprite objects I create suddenly are missing their 2D coordinates", "body": "<p>I'm making a game with Phaser in Typescript, and to make it more manageable, I created a few interfaces, and had my Sprites implement them.</p>\n\n<p>Before I created the interfaces, everything worked fine. All created Sprites had 2D coordinates (<code>Sprite.{x,y}</code>) that updated correctly.</p>\n\n<p>After I created the interfaces though, newly created <code>Sprite</code>s no longer contain <code>x</code> and <code>y</code> coordinates, even immediately after creation (Edge browser debugger):</p>\n\n<p><a href=\"https://i.stack.imgur.com/eFJQ3.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/eFJQ3.png\" alt=\"Tank Debug\"></a> </p>\n\n<p>The \"watch\" list on the right shows the contents of <code>this</code>. As you can see, it has a <code>z</code>-coordinate, but no <code>x</code> or <code>y</code>-coordinates.</p>\n\n<p>I didn't make any changes to the underlying physics setup, and am never explicitly deleting the properties. I wouldn't have an opportunity to though, even if I wanted to since as you can see above, they don't exist even after checking immediately after the <code>Sprite</code>'s creation. The only change I made to the base-class <code>Tank</code> was to add the <code>tankMover</code> property, but as you can see, it's not even created by the time the breakpoint is activated.</p>\n\n<p>I won't/can't include all the code, since the changes I made span many files, but none of the affect the physics; they basically just add velocity to the <code>Sprite</code> in a restricted way.</p>\n\n<p>To make sure it didn't have anything to do with the <code>Tank</code> class, I created a temporary <code>Sprite</code> in my <code>create</code> method of my main state. As you can see, even immediately after its creation and addition to the physics system, it doesn't have coordinates either:</p>\n\n<p><a href=\"https://i.stack.imgur.com/mSVnv.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/mSVnv.png\" alt=\"Temp Sprite Debug\"></a></p>\n\n<p>In Phaser, what can cause the <code>x</code> and <code>y</code> coordinate properties of a <code>Sprite</code> to fail to populate?</p>\n"}, {"tags": ["regex", "typescript", "angular", "regex-negation"], "comments": [{"owner": {"reputation": 466742, "user_id": 224671, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/c90de868a7e95d75bdfd6a906dfedac7?s=128&d=identicon&r=PG", "display_name": "kennytm", "link": "https://stackoverflow.com/users/224671/kennytm"}, "edited": false, "score": 0, "creation_date": 1462378470, "post_id": 37032998, "comment_id": 61616080, "body": "Which language are you using?"}, {"owner": {"reputation": 375, "user_id": 2123529, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/b6966f6e56e6b0344def0a7f84c12ca1?s=128&d=identicon&r=PG", "display_name": "Mufasatheking", "link": "https://stackoverflow.com/users/2123529/mufasatheking"}, "reply_to_user": {"reputation": 466742, "user_id": 224671, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/c90de868a7e95d75bdfd6a906dfedac7?s=128&d=identicon&r=PG", "display_name": "kennytm", "link": "https://stackoverflow.com/users/224671/kennytm"}, "edited": false, "score": 0, "creation_date": 1462378493, "post_id": 37032998, "comment_id": 61616093, "body": "It will be used in typescript/Angular2"}, {"owner": {"reputation": 2325, "user_id": 2272638, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/4c4d7d86231ea02341f3a868d9d3f8c5?s=128&d=identicon&r=PG", "display_name": "dwanderson", "link": "https://stackoverflow.com/users/2272638/dwanderson"}, "edited": false, "score": 0, "creation_date": 1462378797, "post_id": 37032998, "comment_id": 61616263, "body": "If I understood you correctly, you&#39;re saying <code>\\W</code> is picking up <code>.</code> and <code>@</code>? That just means you can&#39;t use <code>\\W</code> then, right? I would think, if you want a string that only has letters, numbers, . and @, you would want <code>[\\w.@]</code>, note the lower-case <code>w</code>, and don&#39;t do any negation. Sidenote, I&#39;m pretty sure (not positive) that you don&#39;t need to escape <code>.</code> inside brackets"}, {"owner": {"reputation": 41522, "user_id": 1359668, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Xtsl4.jpg?s=128&g=1", "display_name": "Steven Doggart", "link": "https://stackoverflow.com/users/1359668/steven-doggart"}, "edited": false, "score": 0, "creation_date": 1462378841, "post_id": 37032998, "comment_id": 61616291, "body": "Is there a reason why <code>[\\w.@]</code> or  <code>[a-zA-Z0-9.@]</code> does not meet your needs?"}, {"owner": {"reputation": 375, "user_id": 2123529, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/b6966f6e56e6b0344def0a7f84c12ca1?s=128&d=identicon&r=PG", "display_name": "Mufasatheking", "link": "https://stackoverflow.com/users/2123529/mufasatheking"}, "edited": false, "score": 0, "creation_date": 1462379217, "post_id": 37032998, "comment_id": 61616517, "body": "I should have been clearer in saying that I want characters that do not match [\\w.@] or [a-zA-Z0-9.@] to be highlighted"}, {"owner": {"reputation": 907, "user_id": 4564746, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Im4Oc.jpg?s=128&g=1", "display_name": "aaron_world_traveler", "link": "https://stackoverflow.com/users/4564746/aaron-world-traveler"}, "edited": false, "score": 0, "creation_date": 1462379389, "post_id": 37032998, "comment_id": 61616626, "body": "Sounds like you can just use <code>[^\\w@.]</code> to find bad characters."}, {"owner": {"reputation": 74488, "user_id": 797495, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/BKD7l.jpg?s=128&g=1", "display_name": "Pedro Lobito", "link": "https://stackoverflow.com/users/797495/pedro-lobito"}, "edited": false, "score": 0, "creation_date": 1462379520, "post_id": 37032998, "comment_id": 61616708, "body": "<a href=\"http://www.regular-expressions.info/email.html\" rel=\"nofollow noreferrer\">regular-expressions.info/email.html</a>"}, {"owner": {"user_type": "does_not_exist", "display_name": "user557597"}, "edited": false, "score": 0, "creation_date": 1462379628, "post_id": 37032998, "comment_id": 61616767, "body": "<code>[\\W.@]+ (the . is meant to be escaped</code> - Put back ticks around it <code>[\\W\\.@]+</code> But, the dot <code>.</code> does not need to be escaped inside character classes."}, {"owner": {"user_type": "does_not_exist", "display_name": "user557597"}, "edited": false, "score": 0, "creation_date": 1462380413, "post_id": 37032998, "comment_id": 61617261, "body": "But, what I would use is <code>(?:[^\\w@.]|_)+</code> to find invalid chars."}], "answers": [{"tags": [], "owner": {"reputation": 907, "user_id": 4564746, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Im4Oc.jpg?s=128&g=1", "display_name": "aaron_world_traveler", "link": "https://stackoverflow.com/users/4564746/aaron-world-traveler"}, "is_accepted": false, "score": 0, "last_activity_date": 1462378830, "creation_date": 1462378830, "answer_id": 37033119, "question_id": 37032998, "link": "https://stackoverflow.com/questions/37032998/negate-characters-for-email-regex/37033119#37033119", "title": "Negate characters for email Regex", "body": "<p>There are lots of examples of regex patterns for email addresses out there.  Here is a very basic/naive one that allows only alphanumeric and periods (and a single @).  This one does not care if the domain part is in a valid format (i.e. things like \"abc@gmail......com\" would pass):</p>\n\n<pre><code>^[A-Za-z0-9.]+@[A-Za-z0-9.]+$\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 15376, "user_id": 588916, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/b9737fb0439f70903f8948ad3963d9cc?s=128&d=identicon&r=PG", "display_name": "collapsar", "link": "https://stackoverflow.com/users/588916/collapsar"}, "is_accepted": true, "score": 0, "last_activity_date": 1462378856, "creation_date": 1462378856, "answer_id": 37033128, "question_id": 37032998, "link": "https://stackoverflow.com/questions/37032998/negate-characters-for-email-regex/37033128#37033128", "title": "Negate characters for email Regex", "body": "<p>You can ...</p>\n\n<ul>\n<li>... match for positives (your regex plus anchors to make sure it matches the complete test string)<br/>( <code>^[[:alnum:].@]+$</code> )</li>\n<li>... match for negatives which means that at some point an illegal character occurs<br/>( <code>[^[:alnum:].@]</code> )  </li>\n</ul>\n\n<p>... and check whether there has been a match. n the first case that means 'ok', in the second 'fail'.</p>\n\n<p>Theer are regex dialects that do not support posix character classes, in this case replace <code>[:alnum:]</code> with <code>0-9a-zA-Z</code>.</p>\n"}], "owner": {"reputation": 375, "user_id": 2123529, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/b6966f6e56e6b0344def0a7f84c12ca1?s=128&d=identicon&r=PG", "display_name": "Mufasatheking", "link": "https://stackoverflow.com/users/2123529/mufasatheking"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 538, "favorite_count": 0, "accepted_answer_id": 37033128, "answer_count": 2, "score": 0, "last_activity_date": 1462379187, "creation_date": 1462378390, "last_edit_date": 1462379187, "question_id": 37032998, "link": "https://stackoverflow.com/questions/37032998/negate-characters-for-email-regex", "title": "Negate characters for email Regex", "body": "<p>I am trying to write a basic regex to validate an email address. For this specific case I am trying to make sure the string inputted only includes letters, numbers,  \".\" and \"@\". Or in other words I am making sure it doesnt include characters like \u00a3&amp;\u00ac! etc.</p>\n\n<p>I tried getting the NOT version of this [[:alnum:].@]+ so that it would highlight a character not in that set but I couldnt get it to work. I also tried characters not in [\\W.@]+ (the . is meant to be escaped but stackoverflow is removing the \\ from this post) but the \\W is still picking up the . and @ symbols.</p>\n"}, {"tags": ["typescript", "visual-studio-2015", "angular"], "comments": [{"owner": {"reputation": 873, "user_id": 2535406, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/8c703b874534b2bae355233837105566?s=128&d=identicon&r=PG", "display_name": "Dan Soltesz", "link": "https://stackoverflow.com/users/2535406/dan-soltesz"}, "edited": false, "score": 0, "creation_date": 1462448765, "post_id": 37032701, "comment_id": 61646986, "body": "I can&#39;t be the only one noticing this am I?"}], "answers": [{"tags": [], "owner": {"reputation": 8734, "user_id": 6416109, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e0196ed675a4e2836203066a677f93b4?s=128&d=identicon&r=PG&f=1", "display_name": "AngJobs on Github", "link": "https://stackoverflow.com/users/6416109/angjobs-on-github"}, "is_accepted": false, "score": 0, "last_activity_date": 1465380155, "creation_date": 1465380155, "answer_id": 37699348, "question_id": 37032701, "link": "https://stackoverflow.com/questions/37032701/typescript-debugging-in-visual-studio-2015-no-longer-works-with-angular-2-2-0-0/37699348#37699348", "title": "typescript debugging in visual studio 2015 no longer works with Angular 2 2.0.0-rc.1", "body": "<p>A workaround is to run in cmd the following command for your project folder</p>\n\n<pre><code>&gt;tsc\n</code></pre>\n\n<p>but make sure first you've got the typescript compiler installed</p>\n\n<pre><code>$ npm install typescript-compiler \n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 6429101, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d02875c277ab3896bf128366dc2b3530?s=128&d=identicon&r=PG&f=1", "display_name": "Hiteks", "link": "https://stackoverflow.com/users/6429101/hiteks"}, "is_accepted": false, "score": 0, "last_activity_date": 1465390962, "creation_date": 1465390962, "answer_id": 37703313, "question_id": 37032701, "link": "https://stackoverflow.com/questions/37032701/typescript-debugging-in-visual-studio-2015-no-longer-works-with-angular-2-2-0-0/37703313#37703313", "title": "typescript debugging in visual studio 2015 no longer works with Angular 2 2.0.0-rc.1", "body": "<p>I've got our angular2 debugging from VS2015 working again using Gulp. Have you tried Gulp ? The following instruction was helpful:\n<a href=\"http://www.codeproject.com/Articles/1087605/Angular-typescript-configuration-and-debugging-for\" rel=\"nofollow\">http://www.codeproject.com/Articles/1087605/Angular-typescript-configuration-and-debugging-for</a>.</p>\n\n<p>Basically, what I did was:</p>\n\n<ul>\n<li><p>add gulp into package.json</p>\n\n<pre><code>             \"devDependencies\": {    \n                  \"gulp\": \"^3.9.1\",\n                   ...\n              }\n</code></pre></li>\n<li><p>add gulpfile.js into the root directory of the project (see codeProject link above for content)</p></li>\n<li><p>add meta when calling Sytem.config</p>\n\n<pre><code>   System.config({\n    meta: {\n        '*.js': {\n            scriptLoad: true\n        }\n    },\n    packages: {\n        app: {\n            format: 'register',\n            defaultExtension: 'js'\n        }\n    }\n});\n</code></pre>\n\n<ul>\n<li><p>re-run \"npm install\"</p></li>\n<li><p>Follow the intstruction: \"Right mouse click gulpfile.js and select Task Runner Explorer. Right mouse click moveToLibs and select Run\"</p></li>\n</ul></li>\n</ul>\n"}], "owner": {"reputation": 873, "user_id": 2535406, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/8c703b874534b2bae355233837105566?s=128&d=identicon&r=PG", "display_name": "Dan Soltesz", "link": "https://stackoverflow.com/users/2535406/dan-soltesz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 303, "favorite_count": 1, "answer_count": 2, "score": 6, "last_activity_date": 1465390962, "creation_date": 1462377404, "question_id": 37032701, "link": "https://stackoverflow.com/questions/37032701/typescript-debugging-in-visual-studio-2015-no-longer-works-with-angular-2-2-0-0", "title": "typescript debugging in visual studio 2015 no longer works with Angular 2 2.0.0-rc.1", "body": "<p>After upgrading to Angular 2 rc1 typescript debugging in visual studio 2015 stopped working.  I added in the meta tag as in previous versions but this causes all other kinds of problems now about 'require' is undefined.  Has anyone been able to get this working yet?</p>\n\n<p>here is my system.config.js file</p>\n\n<pre><code>(function (global) {\n\n// map tells the System loader where to look for things\nvar map = {\n    'app': 'app', // 'dist',\n    'rxjs': 'node_modules/rxjs',\n    '@angular': 'node_modules/@angular'\n};\n\n// packages tells the System loader how to load when no filename \n// and/or no extension\nvar packages = {\n    'app': { main: 'main.js', defaultExtension: 'js' },\n    'rxjs': { defaultExtension: 'js' },\n};\nvar meta = {\n    '*.js': { scriptLoad: true } //this allows TS debugging in VS\n};\n\nvar packageNames = [\n  '@angular/common',\n  '@angular/compiler',\n  '@angular/core',\n  '@angular/http',\n  '@angular/platform-browser',\n  '@angular/platform-browser-dynamic',\n  '@angular/router',\n  '@angular/router-deprecated',\n  '@angular/testing',\n  '@angular/upgrade',\n];\n\n// add package entries for angular packages in \n// the form '@angular/common':    {   main: 'index.js', \n// defaultExtension: 'js' }\npackageNames.forEach(function (pkgName) {\n    packages[pkgName] = { main: 'index.js', defaultExtension: 'js' };\n});\n\nvar config = {\n    meta: meta,\n    map: map,\n    packages: packages\n}\n\n// filterSystemConfig - index.html's chance to modify config before\n// we register it.\nif (global.filterSystemConfig) { global.filterSystemConfig(config); }\n\nSystem.config(config);\n\n})(this);\n</code></pre>\n"}, {"tags": ["angular", "typescript"], "comments": [{"owner": {"reputation": 7691, "user_id": 152016, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/61e75a9dfee755b5a3d1104d4d3c104a?s=128&d=identicon&r=PG", "display_name": "Niloct", "link": "https://stackoverflow.com/users/152016/niloct"}, "edited": false, "score": 0, "creation_date": 1462377951, "post_id": 37032560, "comment_id": 61615755, "body": "See <a href=\"https://auth0.com/blog/2015/09/03/angular2-series-working-with-pipes/\" rel=\"nofollow noreferrer\">auth0.com/blog/2015/09/03/angular2-series-working-with-pipes</a>&zwnj;&#8203;, you have to setup <code>@View</code> with the classname of the pipe, and you may have to tweak the case of the <code>@Pipe</code>&#39;s <code>name</code> property value."}, {"owner": {"reputation": 8230, "user_id": 714495, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/6c6f38db6c7c70f732ca20c55b7a8731?s=128&d=identicon&r=PG", "display_name": "ValeriiVasin", "link": "https://stackoverflow.com/users/714495/valeriivasin"}, "reply_to_user": {"reputation": 7691, "user_id": 152016, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/61e75a9dfee755b5a3d1104d4d3c104a?s=128&d=identicon&r=PG", "display_name": "Niloct", "link": "https://stackoverflow.com/users/152016/niloct"}, "edited": false, "score": 0, "creation_date": 1462378373, "post_id": 37032560, "comment_id": 61616022, "body": "The article is written in September last year. The code i mentioned was working up to the release few weeks ago. Currently you could provide <code>pipes</code> in <code>@Component</code> decorator btw."}, {"owner": {"reputation": 7691, "user_id": 152016, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/61e75a9dfee755b5a3d1104d4d3c104a?s=128&d=identicon&r=PG", "display_name": "Niloct", "link": "https://stackoverflow.com/users/152016/niloct"}, "edited": false, "score": 0, "creation_date": 1462379412, "post_id": 37032560, "comment_id": 61616645, "body": "Alright, I saw your workaround. Sorry for misleading."}, {"owner": {"reputation": 2756, "user_id": 1375316, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/62627013dd03b525ba5954cff57b0f9b?s=128&d=identicon&r=PG", "display_name": "threeve", "link": "https://stackoverflow.com/users/1375316/threeve"}, "edited": false, "score": 1, "creation_date": 1463534677, "post_id": 37032560, "comment_id": 62102115, "body": "I suspect that it has to do with the Decorator somehow, though your workaround means I&#39;m not bothered to check out the source.  A possibly related issue can be experienced if you extend an injectable.  If you use the decorator on the child class, inheritance doesn&#39;t seem to work properly, but if you let the child inherit the Injectability, everything is fine."}, {"owner": {"reputation": 2756, "user_id": 1375316, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/62627013dd03b525ba5954cff57b0f9b?s=128&d=identicon&r=PG", "display_name": "threeve", "link": "https://stackoverflow.com/users/1375316/threeve"}, "edited": false, "score": 1, "creation_date": 1473252580, "post_id": 37032560, "comment_id": 66068711, "body": "Note that as of RC-6 you must pass <code>_locale</code> to the DatePipe constructor."}, {"owner": {"reputation": 12752, "user_id": 242098, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0b5b4fb15e127c1e4141239614bca7e7?s=128&d=identicon&r=PG", "display_name": "Meir", "link": "https://stackoverflow.com/users/242098/meir"}, "edited": false, "score": 0, "creation_date": 1477079814, "post_id": 37032560, "comment_id": 67636590, "body": "Do you get any compilation errors? It might be that ISODatePipe fails to compile and hence <code>isoDate</code> is unknown"}], "answers": [{"tags": [], "owner": {"reputation": 770, "user_id": 2756965, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/570f6cc7ee834563df88034bb9ff4abc?s=128&d=identicon&r=PG", "display_name": "Faouzi Oudouh", "link": "https://stackoverflow.com/users/2756965/faouzi-oudouh"}, "is_accepted": false, "score": 4, "last_activity_date": 1480610517, "creation_date": 1480610517, "answer_id": 40915983, "question_id": 37032560, "link": "https://stackoverflow.com/questions/37032560/how-to-extend-angular2-datepipe/40915983#40915983", "title": "How to extend angular2 DatePipe", "body": "<p><em>What has changed?</em></p>\n\n<p>Apparantely DatePipe class has now constructor </p>\n\n<p><code>constructor(@Inject(LOCALE_ID) private _locale: string) {}</code> \nso you can pass <strong>LOCALE_ID</strong> as parameter:</p>\n\n<pre><code>const datePipe = new DatePipe();\n</code></pre>\n\n<p>When you compile specifying local <code>ngc --locale=en-US</code> The LOCAL_ID get passed to the <code>DatePipe</code> constructor.</p>\n"}, {"tags": [], "owner": {"reputation": 1083, "user_id": 3654179, "user_type": "registered", "accept_rate": 39, "profile_image": "https://i.stack.imgur.com/FT7H0.png?s=128&g=1", "display_name": "AngularBoy", "link": "https://stackoverflow.com/users/3654179/angularboy"}, "is_accepted": false, "score": 1, "last_activity_date": 1595429432, "creation_date": 1595429432, "answer_id": 63037080, "question_id": 37032560, "link": "https://stackoverflow.com/questions/37032560/how-to-extend-angular2-datepipe/63037080#63037080", "title": "How to extend angular2 DatePipe", "body": "<p>extended DatePipe</p>\n<pre><code>import { DatePipe } from '@angular/common';\nimport { Inject, LOCALE_ID, Pipe, PipeTransform } from '@angular/core';\n\n@Pipe({\n  name: 'myDate',\n})\nexport class MyDatePipe extends DatePipe implements PipeTransform {\n  constructor(@Inject(LOCALE_ID) locale: string) {\n    super(locale);\n  }\n\n  transform(value: any, format?: string, timezone?: string, locale?: string): string {\n    const formattedDate = super.transform(value, format, timezone, locale);\n    // do other formatting and return the value\n  }\n}\n</code></pre>\n<p>html</p>\n<pre><code>&lt;div&gt;{{ someDate | myDate: 'MMM d' }}&lt;/div&gt;\n</code></pre>\n"}], "owner": {"reputation": 8230, "user_id": 714495, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/6c6f38db6c7c70f732ca20c55b7a8731?s=128&d=identicon&r=PG", "display_name": "ValeriiVasin", "link": "https://stackoverflow.com/users/714495/valeriivasin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3267, "favorite_count": 2, "answer_count": 2, "score": 12, "last_activity_date": 1595429432, "creation_date": 1462377044, "last_edit_date": 1549856776, "question_id": 37032560, "link": "https://stackoverflow.com/questions/37032560/how-to-extend-angular2-datepipe", "title": "How to extend angular2 DatePipe", "body": "<p>Up to angular2.beta15 (including) the following code was working fine:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>@Pipe({\n  name: 'isoDate'\n})\nexport class ISODatePipe extends DatePipe implements PipeTransform {\n  transform(isoDate: string, args: any[]): string {\n    return super.transform(new Date(isoDate), args);\n  }\n}\n</code></pre>\n\n<p>On RC1 its not working anymore, even after I adjusted pipes syntax:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>@Pipe({\n  name: 'isoDate'\n})\nexport class ISODatePipe extends DatePipe implements PipeTransform {\n  transform(isoDate: string, pattern?: string): string {\n    const date = new Date(isoDate);\n    return super.transform(date, pattern);\n  }\n}\n</code></pre>\n\n<p>The message i see in the browser is following: <code>The pipe 'isoDate' could not be found</code>.</p>\n\n<p>If I remove the <code>extends</code> part and return some string - it works again.</p>\n\n<p>What has changed?</p>\n\n<p>P.S.</p>\n\n<p>Currently changed it to</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>@Pipe({ name: 'isoDate' })\nexport class ISODatePipe implements PipeTransform {\n  private datePipe: DatePipe = new DatePipe();\n\n  transform(isoDate: string, pattern?: string): string {\n    const date = new Date(isoDate);\n    return this.datePipe.transform(date, pattern);\n  }\n}\n</code></pre>\n\n<p>It works, but looks a bit strange.</p>\n"}, {"tags": ["syntax", "typescript", "tsc", "typescript1.8", "tsd"], "answers": [{"comments": [{"owner": {"reputation": 10360, "user_id": 587021, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/390ae6c8c1e917c0ac3a562680fed3b7?s=128&d=identicon&r=PG", "display_name": "A T", "link": "https://stackoverflow.com/users/587021/a-t"}, "edited": false, "score": 0, "creation_date": 1462410869, "post_id": 37040576, "comment_id": 61631021, "body": "Thanks, trying with <code>@next</code> now. Results: reverted syntax and got <code>TS2666: Exports and export assignments are not permitted in module augmentations.</code> from the <code>export = modname;</code> line."}], "tags": [], "owner": {"reputation": 204459, "user_id": 390330, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/1400be56ff17549b926dd3260da4a494?s=128&d=identicon&r=PG", "display_name": "basarat", "link": "https://stackoverflow.com/users/390330/basarat"}, "is_accepted": false, "score": -3, "last_activity_date": 1462409888, "creation_date": 1462409888, "answer_id": 37040576, "question_id": 37032045, "link": "https://stackoverflow.com/questions/37032045/defining-typescript-typing-for-module-gives-ts2665/37040576#37040576", "title": "Defining TypeScript typing for module gives TS2665?", "body": "<blockquote>\n  <p>TS2665: Module augmentation cannot introduce new names in the top level scope.</p>\n</blockquote>\n\n<p>This no longer an error in the Latest <code>Master</code> version of typescript <code>npm install typescript@next</code></p>\n\n<p>Consider using this version for various reasons : <a href=\"https://basarat.gitbooks.io/typescript/content/docs/getting-started.html#nightly-typescript\" rel=\"nofollow\">https://basarat.gitbooks.io/typescript/content/docs/getting-started.html#nightly-typescript</a></p>\n"}], "owner": {"reputation": 10360, "user_id": 587021, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/390ae6c8c1e917c0ac3a562680fed3b7?s=128&d=identicon&r=PG", "display_name": "A T", "link": "https://stackoverflow.com/users/587021/a-t"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 3250, "favorite_count": 1, "answer_count": 1, "score": 4, "last_activity_date": 1462409888, "creation_date": 1462375617, "question_id": 37032045, "link": "https://stackoverflow.com/questions/37032045/defining-typescript-typing-for-module-gives-ts2665", "title": "Defining TypeScript typing for module gives TS2665?", "body": "<p>Trying to migrate from old <code>tsd.json</code> to <code>typings.json</code>. Previous my <code>.d.ts</code> had:</p>\n\n<pre class=\"lang-typescript prettyprint-override\"><code>declare var modname: modname.modname;\n\ndeclare module modname {\n    export interface modname {\n        new (): modname;\n    }\n\n    export interface foo {\n        bar: string;\n    }\n}\n\ndeclare module \"mod-name\" {\n    export = modname;\n}\n</code></pre>\n\n<p>Then due to errors I changed the first lines to:</p>\n\n<pre class=\"lang-typescript prettyprint-override\"><code>declare var modname: modname.modname;\n\ndeclare namespace modname {\n</code></pre>\n\n<p>But then got:</p>\n\n<blockquote>\n  <p>TS2665: Module augmentation cannot introduce new names in the top level scope.</p>\n</blockquote>\n\n<p>Maybe I am meant to install the Typings differently? - I notice strange scaffolding being automatically added to my definition files, which are installed with:</p>\n\n<pre><code>typings install github:user/typ/mod-name/mod-name.d.ts --save\n</code></pre>\n"}, {"tags": ["forms", "typescript", "angular", "observable", "formbuilder"], "answers": [{"comments": [{"owner": {"reputation": 6041, "user_id": 5138921, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/5f202e6926526d8b4ad819de30504e1f?s=128&d=identicon&r=PG&f=1", "display_name": "Alf Moh", "link": "https://stackoverflow.com/users/5138921/alf-moh"}, "edited": false, "score": 3, "creation_date": 1511677895, "post_id": 37031947, "comment_id": 81942346, "body": "instead of <code>username.updateValue()</code>, use <code>username.setValue()</code> . <code>updateValue()</code> is deprecated."}], "tags": [], "owner": {"reputation": 181833, "user_id": 1873365, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/45TMV.png?s=128&g=1", "display_name": "Thierry Templier", "link": "https://stackoverflow.com/users/1873365/thierry-templier"}, "is_accepted": true, "score": 9, "last_activity_date": 1462375333, "creation_date": 1462375333, "answer_id": 37031947, "question_id": 37031910, "link": "https://stackoverflow.com/questions/37031910/angular-2-formbuilder-with-observables-as-default-values/37031947#37031947", "title": "Angular 2 Formbuilder with Observables as default values", "body": "<p>I would try this because the data are loaded asynchronously. So you need to update the value of form elements when the response is there / received.</p>\n\n<pre><code>ngOnInit():any {\n  this.userData = this._dataService.getAllData()\n    .subscribe(\n      data =&gt; {\n        this.userData = data;\n        this.userForm.controls.username.updateValue(\n                this.userData.username);\n      }\n    );\n\n  this.userForm = this._formBuilder.group({\n    'username': [this.userData.username, Validators.compose([ \n        this.usernameValid\n    ])];\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 4968, "user_id": 308645, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/Xlzz9.jpg?s=128&g=1", "display_name": "unitario", "link": "https://stackoverflow.com/users/308645/unitario"}, "is_accepted": false, "score": 5, "last_activity_date": 1485871370, "creation_date": 1485871370, "answer_id": 41959506, "question_id": 37031910, "link": "https://stackoverflow.com/questions/37031910/angular-2-formbuilder-with-observables-as-default-values/41959506#41959506", "title": "Angular 2 Formbuilder with Observables as default values", "body": "<p>You should also be able to do this:</p>\n\n<pre><code>data: Observable&lt;any&gt;;\n\nngOnInit():any {\n\n   this.data = this._dataService.getAllData();\n\n   this.data\n      .map((data) =&gt; {\n         return this._formBuilder.group({\n            username: [ this.data.username,\n               Validators.compose([this.usernameValid])\n            ]\n      })\n      .subscribe((userForm) =&gt; {\n         this.userForm = userForm\n      })\n\n}\n</code></pre>\n\n<p>Then in your template use the async pipe as so:</p>\n\n<pre><code>&lt;form *ngIf=\"data | async\" [formGroup]=\"userForm\"&gt;\n   //...//\n&lt;/form&gt;\n</code></pre>\n\n<p>This way there is no need to call <code>updateValue()</code> and it makes things a bit easier to maintain if you have a lot of different fields which all needs their default values set from observables.</p>\n"}], "owner": {"reputation": 173, "user_id": 5792267, "user_type": "registered", "accept_rate": 86, "profile_image": "https://lh5.googleusercontent.com/-Vk2xCBlS-uA/AAAAAAAAAAI/AAAAAAAAAIs/arUvajEP76I/photo.jpg?sz=128", "display_name": "Taremeh", "link": "https://stackoverflow.com/users/5792267/taremeh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 9657, "favorite_count": 1, "accepted_answer_id": 37031947, "answer_count": 2, "score": 7, "last_activity_date": 1485871370, "creation_date": 1462375245, "question_id": 37031910, "link": "https://stackoverflow.com/questions/37031910/angular-2-formbuilder-with-observables-as-default-values", "title": "Angular 2 Formbuilder with Observables as default values", "body": "<p>I have a problem with the default value of an Angular 2 Form (formbuilder):\nMy default values are observables (which I'm retrieving from a server), so I can't implement them like this:</p>\n\n<pre><code>export class UserComponent implements OnInit{\n\nuserForm: ControlGroup;\nuserData: any; // Initialise the observable var\n\nngOnInit():any {\n\n    this.userData = this._dataService.getAllData() // My Observable\n        .subscribe(\n            data =&gt; {\n                this.userData = data;\n            }\n        );\n\n    this.userForm = this._formBuilder.group({\n                  // below the default value\n        'username': [this.userData.username, Validators.compose([ \n            this.usernameValid\n        ])]\n}\n</code></pre>\n\n<p>Someone an idea what I need to change? Because the form displays nothing inside the input fields...</p>\n"}, {"tags": ["typescript"], "answers": [{"tags": [], "owner": {"reputation": 8273, "user_id": 68051, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/8a1aabc40d859fcb786eb4d28b95d299?s=128&d=identicon&r=PG", "display_name": "Tim Perry", "link": "https://stackoverflow.com/users/68051/tim-perry"}, "is_accepted": true, "score": 1, "last_activity_date": 1462381084, "creation_date": 1462381084, "answer_id": 37033836, "question_id": 37031874, "link": "https://stackoverflow.com/questions/37031874/importing-an-interface-declared-using-export-and-an-ambient-module/37033836#37033836", "title": "Importing an interface declared using export = and an ambient module", "body": "<p>barProc is an interface, and thus a type. It is not a variable with that type. You can export that, and use it as a type elsewhere, but you can't use it as a callable function, as in your example.</p>\n\n<p>Your example is broadly equivalent to:</p>\n\n<pre><code>interface barProc {\n    (): any;\n}\n\nbarProc();\n</code></pre>\n\n<p>Put like that, it's pretty clearly wrong. What you want is something more like:</p>\n\n<pre><code>interface barProc {\n    (): any;\n}\n\nvar myFunc: barProc;\n\nmyFunc();\n</code></pre>\n\n<p>Back as a module, that looks like:</p>\n\n<pre><code>declare module \"foo\" {\n    interface barProc {\n        (): any;\n    }\n\n    var myFunc: barProc;\n\n    export = myFunc;\n}\n\n\n// Elsewhere:\n\nimport myFunc = require(\"foo\");\nmyFunc();\n</code></pre>\n\n<p>I think that should do what you want.</p>\n"}], "owner": {"reputation": 1491, "user_id": 266281, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/dcf0c49477a86c944f9c46e037e9c762?s=128&d=identicon&r=PG", "display_name": "David", "link": "https://stackoverflow.com/users/266281/david"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 917, "favorite_count": 0, "accepted_answer_id": 37033836, "answer_count": 1, "score": 1, "last_activity_date": 1462381084, "creation_date": 1462375128, "question_id": 37031874, "link": "https://stackoverflow.com/questions/37031874/importing-an-interface-declared-using-export-and-an-ambient-module", "title": "Importing an interface declared using export = and an ambient module", "body": "<p>When a module is implemented in Typescript, I believe it is possible to import various different exports (such as classes, interfaces, variables and enums) that were exported with the old export = syntax.</p>\n\n<p>However when I try this with an ambient module, the compiler (1.8.10) seems to ignore the import.  </p>\n\n<p><strong>Declaration File:</strong></p>\n\n<pre><code>//Module declaration\ndeclare module \"foo\" {\n    interface barProc {\n        (): any;\n    }\n\n    //Note: if I use the function equivalent to the interface this works ok.    \n    function worksOk(): any;\n\n    export = barProc;\n}\n</code></pre>\n\n<p><strong>Main File:</strong></p>\n\n<pre><code>//Module usage \nimport myFunc = require(\"foo\");\nmyFunc();\n</code></pre>\n\n<p>In this case, the compiler complains myFunc is an unknown identifier, and the import line does not appear in the output js file.</p>\n\n<p>Note: in the case illustrated, to keep things simple I did not add any other members to the interface.  However the reason for the interface is that the JavaScript library I am modeling has members on the function.</p>\n\n<p>Am I doing something wrong, or is there a workaround for this?  </p>\n"}, {"tags": ["typescript", "angular"], "answers": [{"comments": [{"owner": {"reputation": 96, "user_id": 4867333, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/916675d5432d6a7c916bddca8abf9e0d?s=128&d=identicon&r=PG&f=1", "display_name": "Christopher St&#246;ckl", "link": "https://stackoverflow.com/users/4867333/christopher-st%c3%b6ckl"}, "edited": false, "score": 0, "creation_date": 1462374497, "post_id": 37031255, "comment_id": 61613242, "body": "Oh wow... It does work. Thanks a lot! Thats embarassing that I didn&#39;t think of the alternate syntax to access object properties. But how do I do it with &quot;ngControl&quot; and the variable that ngForm is assigned to?"}, {"owner": {"reputation": 483726, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "reply_to_user": {"reputation": 96, "user_id": 4867333, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/916675d5432d6a7c916bddca8abf9e0d?s=128&d=identicon&r=PG&f=1", "display_name": "Christopher St&#246;ckl", "link": "https://stackoverflow.com/users/4867333/christopher-st%c3%b6ckl"}, "edited": false, "score": 1, "creation_date": 1462375512, "post_id": 37031255, "comment_id": 61613960, "body": "For template variables you have to use static names <code>#xxx</code> has to be added to the template as is, these names can&#39;t be generated. I haven&#39;t found in the source where <code>ngControl</code> is read and if it is read in a way that it can be dynamically generated like <code>[ngControl]=&quot;xxx + &#39;yyy&#39;&quot;</code>. Just try it."}], "tags": [], "owner": {"reputation": 483726, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "is_accepted": true, "score": 2, "last_activity_date": 1462373496, "creation_date": 1462373496, "answer_id": 37031255, "question_id": 37031204, "link": "https://stackoverflow.com/questions/37031204/changing-ngmodel-binding-inside-loop/37031255#37031255", "title": "Changing ngModel binding inside loop", "body": "<p>This should do what you want:</p>\n\n<pre><code>[(ngModel)]=\"data[key]\"\n</code></pre>\n"}], "owner": {"reputation": 96, "user_id": 4867333, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/916675d5432d6a7c916bddca8abf9e0d?s=128&d=identicon&r=PG&f=1", "display_name": "Christopher St&#246;ckl", "link": "https://stackoverflow.com/users/4867333/christopher-st%c3%b6ckl"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 411, "favorite_count": 0, "accepted_answer_id": 37031255, "answer_count": 1, "score": 1, "last_activity_date": 1462374644, "creation_date": 1462373373, "question_id": 37031204, "link": "https://stackoverflow.com/questions/37031204/changing-ngmodel-binding-inside-loop", "title": "Changing ngModel binding inside loop", "body": "<p>Sorry, but I don't know how to properly describe this problem.</p>\n\n<p>I'm trying to output a form, that loops through an array of object keys and displays input fields depending on how many properties a object has.</p>\n\n<p>For example:</p>\n\n<pre><code>&lt;form [ngFormModel]=\"dataForm\" (ngSubmit)=\"save()\"&gt;\n    &lt;fieldset&gt;\n        &lt;legend&gt;Data&lt;/legend&gt;\n        &lt;div class=\"form-group\" *ngFor=\"#key of dataKeys\"\n            &lt;label&gt;{{ key }}&lt;/label&gt;\n            &lt;input \n                [(ngModel)]=\"data.\" + key\n                class=\"form-control\"\n                ngControl=\"key\"\n                #key=\"ngForm\"&gt;\n        &lt;/div&gt;\n    &lt;/fieldset&gt;\n&lt;/form&gt;\n</code></pre>\n\n<p>And I want it to evaluate to this:</p>\n\n<pre><code>&lt;form [ngFormModel]=\"dataForm\" (ngSubmit)=\"save()\"&gt;\n    &lt;fieldset&gt;\n        &lt;legend&gt;Data&lt;/legend&gt;\n        &lt;div class=\"form-group\"&gt;\n            &lt;label&gt;id&lt;/label&gt;\n            &lt;input \n                [(ngModel)]=\"data.id\"\n                class=\"form-control\"\n                ngControl=\"id\"\n                #id=\"ngForm\"&gt;\n        &lt;/div&gt;\n        &lt;div class=\"form-group\"&gt;\n            &lt;label&gt;score&lt;/label&gt;\n            &lt;input \n                [(ngModel)]=\"data.score\"\n                class=\"form-control\"\n                ngControl=\"score\"\n                #score=\"ngForm\"&gt;\n        &lt;/div&gt;\n        ...\n    &lt;/fieldset&gt;\n&lt;/form&gt;\n</code></pre>\n\n<p>I know that it can't work like I have it in the template at the moment, but I just can't figure out how to make it work properly.\nI thought maybe a custom direction would be a solution, but even after scouring through all the google results I could find to this I can't make it work.</p>\n\n<p>Thanks a lot in advance!</p>\n"}, {"tags": ["typescript", "angular", "rxjs"], "comments": [{"owner": {"reputation": 33279, "user_id": 5706293, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0Dyrv.jpg?s=128&g=1", "display_name": "eko", "link": "https://stackoverflow.com/users/5706293/eko"}, "edited": false, "score": 1, "creation_date": 1462372895, "post_id": 37030963, "comment_id": 61612065, "body": "Did you check <a href=\"http://stackoverflow.com/questions/36947748/angular-2-beta-17-property-map-does-not-exist-on-type-observableresponse\" title=\"angular 2 beta 17 property map does not exist on type observableresponse\">stackoverflow.com/questions/36947748/&hellip;</a>?"}, {"owner": {"reputation": 873, "user_id": 2535406, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/8c703b874534b2bae355233837105566?s=128&d=identicon&r=PG", "display_name": "Dan Soltesz", "link": "https://stackoverflow.com/users/2535406/dan-soltesz"}, "reply_to_user": {"reputation": 33279, "user_id": 5706293, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0Dyrv.jpg?s=128&g=1", "display_name": "eko", "link": "https://stackoverflow.com/users/5706293/eko"}, "edited": false, "score": 0, "creation_date": 1462373710, "post_id": 37030963, "comment_id": 61612677, "body": "Yeah, that&#39;s for a different version and the solution there does not fix the error here.  I&#39;m on the latest version per angular.io packages definitions"}, {"owner": {"reputation": 1454, "user_id": 1467514, "user_type": "registered", "accept_rate": 45, "profile_image": "https://i.stack.imgur.com/G0emN.jpg?s=128&g=1", "display_name": "iTrout", "link": "https://stackoverflow.com/users/1467514/itrout"}, "edited": false, "score": 0, "creation_date": 1462505584, "post_id": 37030963, "comment_id": 61673829, "body": "Dan - any luck? I&#39;m here at ng-conf facing the same issue on VS 2015.  Banging my head against the wall."}, {"owner": {"reputation": 873, "user_id": 2535406, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/8c703b874534b2bae355233837105566?s=128&d=identicon&r=PG", "display_name": "Dan Soltesz", "link": "https://stackoverflow.com/users/2535406/dan-soltesz"}, "edited": false, "score": 0, "creation_date": 1462591537, "post_id": 37030963, "comment_id": 61712776, "body": "No unfortunately, it compiles but you still see all these erroneous error in VS. Doesn&#39;t matter what you import, they are still there"}, {"owner": {"reputation": 16028, "user_id": 298573, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4b635c0ab1520bb2101c8b63dbf80a92?s=128&d=identicon&r=PG", "display_name": "VahidN", "link": "https://stackoverflow.com/users/298573/vahidn"}, "edited": false, "score": 4, "creation_date": 1462944432, "post_id": 37030963, "comment_id": 61844502, "body": "Quick fix: <a href=\"https://github.com/Microsoft/TypeScript/issues/8518#issuecomment-217960231\" rel=\"nofollow noreferrer\">github.com/Microsoft/TypeScript/issues/&hellip;</a>"}, {"owner": {"user_type": "does_not_exist", "display_name": "user1037656"}, "edited": false, "score": 0, "creation_date": 1463038321, "post_id": 37030963, "comment_id": 61893847, "body": "Not working for me. It works only targeting es6 in tsconfig, not working targeting es5."}], "answers": [{"comments": [{"owner": {"reputation": 873, "user_id": 2535406, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/8c703b874534b2bae355233837105566?s=128&d=identicon&r=PG", "display_name": "Dan Soltesz", "link": "https://stackoverflow.com/users/2535406/dan-soltesz"}, "edited": false, "score": 0, "creation_date": 1462384196, "post_id": 37034227, "comment_id": 61619433, "body": "if you look at my package file I&#39;m on version 1.8.10.  I&#39;m using visual studio 2015"}, {"owner": {"reputation": 873, "user_id": 2535406, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/8c703b874534b2bae355233837105566?s=128&d=identicon&r=PG", "display_name": "Dan Soltesz", "link": "https://stackoverflow.com/users/2535406/dan-soltesz"}, "edited": false, "score": 0, "creation_date": 1462386812, "post_id": 37034227, "comment_id": 61621090, "body": "note my vs 2015 external web tools is set to .\\node_modules\\.bin so I am running the latest TS version"}], "tags": [], "owner": {"reputation": 7821, "user_id": 478584, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/09809b573afd2ad5e84d368796fd24b1?s=128&d=identicon&r=PG", "display_name": "tomaszbak", "link": "https://stackoverflow.com/users/478584/tomaszbak"}, "is_accepted": false, "score": 1, "last_activity_date": 1462383426, "last_edit_date": 1462383426, "creation_date": 1462382528, "answer_id": 37034227, "question_id": 37030963, "link": "https://stackoverflow.com/questions/37030963/angular-2-2-0-0-rc-1-property-map-does-not-exist-on-type-observableresponse/37034227#37034227", "title": "Angular 2 2.0.0-rc.1 Property &#39;map&#39; does not exist on type &#39;Observable&lt;Response&gt;&#39; not the same as issue report", "body": "<p>Your imports are good. The root cause of problem is described on <a href=\"https://github.com/ReactiveX/rxjs/issues/1540\" rel=\"nofollow\">https://github.com/ReactiveX/rxjs/issues/1540</a></p>\n\n<p>To fix it, you need to upgrade to latest typescript 1.8.</p>\n\n<p>Please note that that when you run <code>tsc</code> you are using global typescript (check <code>tsc -v</code>) To upgrade global typescript, run <code>npm i typescript -g</code>.</p>\n\n<p>If you want to use typescript defined in <code>package.json</code>, you need to execute it via <code>\"scripts\"</code>, i.e. add <code>\"build\": \"tsc\"</code> and execute it with <code>npm run build</code>.</p>\n"}, {"comments": [{"owner": {"reputation": 873, "user_id": 2535406, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/8c703b874534b2bae355233837105566?s=128&d=identicon&r=PG", "display_name": "Dan Soltesz", "link": "https://stackoverflow.com/users/2535406/dan-soltesz"}, "edited": false, "score": 0, "creation_date": 1462386960, "post_id": 37035347, "comment_id": 61621184, "body": "you call tell VS which tool to run by setting external web tools to point  .\\node_modules\\.bin so you build /run with the version that is defined in your package.config"}, {"owner": {"reputation": 928, "user_id": 1612661, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/9539fcd6799520b052d58fee5c573530?s=128&d=identicon&r=PG", "display_name": "Eric Weiss", "link": "https://stackoverflow.com/users/1612661/eric-weiss"}, "reply_to_user": {"reputation": 873, "user_id": 2535406, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/8c703b874534b2bae355233837105566?s=128&d=identicon&r=PG", "display_name": "Dan Soltesz", "link": "https://stackoverflow.com/users/2535406/dan-soltesz"}, "edited": false, "score": 0, "creation_date": 1462387095, "post_id": 37035347, "comment_id": 61621257, "body": "But does that control the intellisense also? Or is the typescript intellisense tied in deeper within VS."}, {"owner": {"reputation": 873, "user_id": 2535406, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/8c703b874534b2bae355233837105566?s=128&d=identicon&r=PG", "display_name": "Dan Soltesz", "link": "https://stackoverflow.com/users/2535406/dan-soltesz"}, "edited": false, "score": 0, "creation_date": 1462390101, "post_id": 37035347, "comment_id": 61622986, "body": "Not sure to be honest but its still nice to make sure you set those tools so you compile to latest version at least ;)"}], "tags": [], "owner": {"reputation": 928, "user_id": 1612661, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/9539fcd6799520b052d58fee5c573530?s=128&d=identicon&r=PG", "display_name": "Eric Weiss", "link": "https://stackoverflow.com/users/1612661/eric-weiss"}, "is_accepted": false, "score": 3, "last_activity_date": 1462387292, "last_edit_date": 1462387292, "creation_date": 1462386621, "answer_id": 37035347, "question_id": 37030963, "link": "https://stackoverflow.com/questions/37030963/angular-2-2-0-0-rc-1-property-map-does-not-exist-on-type-observableresponse/37035347#37035347", "title": "Angular 2 2.0.0-rc.1 Property &#39;map&#39; does not exist on type &#39;Observable&lt;Response&gt;&#39; not the same as issue report", "body": "<p>I'm experiencing the same issue after upgrading to the Angular2 RC. I get VS 2015 Intellisense errors for property 'map' does not exist on type 'Observable'. </p>\n\n<p>I use grunt-ts to do my transpiling so it doesn't effect my ability to transpile but it is annoying seeing it in the editor as errors when they were not there before.</p>\n\n<p>I believe the issue is with the Typescript for Visual Studio download.\n<a href=\"https://www.microsoft.com/en-us/download/details.aspx?id=48593\" rel=\"nofollow\">https://www.microsoft.com/en-us/download/details.aspx?id=48593</a></p>\n\n<p>It is currently at version 1.8.6 and I believe that it drives the intellisense of Visual Studio and also the build in typescript compilation if that is how you are configuring it. So we might just have to wait for a new version of Typescript for Visual Studio to drop.</p>\n"}, {"tags": [], "owner": {"reputation": 1646, "user_id": 1128318, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/5b6ed6106ce581a58185bfb9678ba4a1?s=128&d=identicon&r=PG", "display_name": "Simon Vane", "link": "https://stackoverflow.com/users/1128318/simon-vane"}, "is_accepted": false, "score": 1, "last_activity_date": 1462458004, "creation_date": 1462458004, "answer_id": 37053064, "question_id": 37030963, "link": "https://stackoverflow.com/questions/37030963/angular-2-2-0-0-rc-1-property-map-does-not-exist-on-type-observableresponse/37053064#37053064", "title": "Angular 2 2.0.0-rc.1 Property &#39;map&#39; does not exist on type &#39;Observable&lt;Response&gt;&#39; not the same as issue report", "body": "<p>I am having the same issue. I'm running TypeScript 1.8.11. I have no solution I'm afraid. I think it is a genuine issue with either rxjs or angular 2 rc 1.</p>\n\n<p>I downgraded rxjs to beta 2 and it fixed that issue. Unfortunately angular rc1 depends on beta 6 so doing a full npm install fails.</p>\n"}, {"comments": [{"owner": {"reputation": 873, "user_id": 2535406, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/8c703b874534b2bae355233837105566?s=128&d=identicon&r=PG", "display_name": "Dan Soltesz", "link": "https://stackoverflow.com/users/2535406/dan-soltesz"}, "edited": false, "score": 1, "creation_date": 1462488447, "post_id": 37054475, "comment_id": 61669978, "body": "the es6-shim typing doesn&#39;t fix the Observable &#39;map&#39; issue unfortunately which is resulting in 100&#39;s of errors in my project"}], "tags": [], "owner": {"reputation": 2223, "user_id": 4638931, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-U3GqnSoPFUg/AAAAAAAAAAI/AAAAAAAAAAA/T56c0r6e_Hs/photo.jpg?sz=128", "display_name": "Niall Crosby", "link": "https://stackoverflow.com/users/4638931/niall-crosby"}, "is_accepted": false, "score": 0, "last_activity_date": 1462462203, "creation_date": 1462462203, "answer_id": 37054475, "question_id": 37030963, "link": "https://stackoverflow.com/questions/37030963/angular-2-2-0-0-rc-1-property-map-does-not-exist-on-type-observableresponse/37054475#37054475", "title": "Angular 2 2.0.0-rc.1 Property &#39;map&#39; does not exist on type &#39;Observable&lt;Response&gt;&#39; not the same as issue report", "body": "<p>i got this working for <a href=\"http://www.ag-grid.com\" rel=\"nofollow\">ag-grid</a> angular 2's component which is <a href=\"https://github.com/ceolter/ag-grid-ng2/releases/tag/4.1.3\" rel=\"nofollow\">here</a>.</p>\n\n<p>i needed the typings for Promise which you get with:\n<code>tsd install es6-shim</code></p>\n\n<p>then in your typescript options, specify the downloaded typings file like as one of the files to compile in tsconfig.json, ie:</p>\n\n<pre><code>{\n  \"compilerOptions\": {\n    \"target\": \"es5\",\n    \"module\": \"commonjs\",\n    \"moduleResolution\": \"node\",\n    \"sourceMap\": true,\n    \"emitDecoratorMetadata\": true,\n    \"experimentalDecorators\": true,\n    \"removeComments\": false,\n    \"noImplicitAny\": false,\n    \"outDir\": \"lib\"\n  },\n  \"files\": [\n    \"typings/es6-shim/es6-shim.d.ts\", // the typings file\n    \"app/boot.ts\" // you application\n  ]\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 873, "user_id": 2535406, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/8c703b874534b2bae355233837105566?s=128&d=identicon&r=PG", "display_name": "Dan Soltesz", "link": "https://stackoverflow.com/users/2535406/dan-soltesz"}, "edited": false, "score": 1, "creation_date": 1462591752, "post_id": 37064114, "comment_id": 61712811, "body": "If you don&#39;t emit decorators  ang2  will not work but that doesn&#39;t fix this issue if your using visual studio and want proper IntelliSense."}, {"owner": {"reputation": 1454, "user_id": 1467514, "user_type": "registered", "accept_rate": 45, "profile_image": "https://i.stack.imgur.com/G0emN.jpg?s=128&g=1", "display_name": "iTrout", "link": "https://stackoverflow.com/users/1467514/itrout"}, "edited": false, "score": 2, "creation_date": 1462691599, "post_id": 37064114, "comment_id": 61737507, "body": "I finally gave up on Visual Studio and will either use VS Code or Atom to write my Angular 2 code...will continue with &quot;regular&quot; VS for all our APIs.  It&#39;s a pain to live in 2 IDE worlds but was spending way too much time battling to get simple things working."}, {"owner": {"reputation": 3423, "user_id": 2477307, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/e62oH.png?s=128&g=1", "display_name": "BobbyTables", "link": "https://stackoverflow.com/users/2477307/bobbytables"}, "edited": false, "score": 0, "creation_date": 1462874378, "post_id": 37064114, "comment_id": 61809240, "body": "i have the same issue as the poster, and this does not solve the problem. It seems like the reply by David D is the cause"}], "tags": [], "owner": {"reputation": 1454, "user_id": 1467514, "user_type": "registered", "accept_rate": 45, "profile_image": "https://i.stack.imgur.com/G0emN.jpg?s=128&g=1", "display_name": "iTrout", "link": "https://stackoverflow.com/users/1467514/itrout"}, "is_accepted": false, "score": 2, "last_activity_date": 1462507985, "creation_date": 1462507985, "answer_id": 37064114, "question_id": 37030963, "link": "https://stackoverflow.com/questions/37030963/angular-2-2-0-0-rc-1-property-map-does-not-exist-on-type-observableresponse/37064114#37064114", "title": "Angular 2 2.0.0-rc.1 Property &#39;map&#39; does not exist on type &#39;Observable&lt;Response&gt;&#39; not the same as issue report", "body": "<p>Dan - I had a series of issues trying to get a successful run as soon as I added Observable into my code once I upgraded to Angular 2 rc1 as well.  What fixed it for me was adding</p>\n\n<pre><code>    \"emitDecoratorMetadata\": true,\n</code></pre>\n\n<p>to my tsconfig.json file.  Once I added that line, it rendered correctly both in IIS and using npm start.  My complete tsconfig.json file is as follows:</p>\n\n<pre><code>{\"compilerOptions\": {\n\"noEmitOnError\": true,\n\"removeComments\": false,\n\"sourceMap\": true,\n\"target\": \"es5\",\n\"experimentalDecorators\": true,\n\"module\": \"commonjs\",\n\"moduleResolution\": \"node\",\n\"emitDecoratorMetadata\": true,\n\"noImplicitAny\": true,\n\"suppressImplicitAnyIndexErrors\": true  },  \"exclude\": [\n\"node_modules\",\n\"typings/main\",\n\"typings/main.d.ts\"   ]}\n</code></pre>\n\n<p>(sorry about the formatting...it's getting late).  Hope this helps.</p>\n"}, {"comments": [{"owner": {"reputation": 3423, "user_id": 2477307, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/e62oH.png?s=128&g=1", "display_name": "BobbyTables", "link": "https://stackoverflow.com/users/2477307/bobbytables"}, "edited": false, "score": 0, "creation_date": 1462875687, "post_id": 37118429, "comment_id": 61810184, "body": "&quot;Solving&quot; the problem for me was downgrading to rxjs 5.0.0-beta.2. There seems to be a bug with how Visual Studio handles typings."}, {"owner": {"reputation": 1309, "user_id": 400771, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1be4725b0bd0f9813afbe767dc269f0d?s=128&d=identicon&r=PG", "display_name": "David Driscoll", "link": "https://stackoverflow.com/users/400771/david-driscoll"}, "reply_to_user": {"reputation": 3423, "user_id": 2477307, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/e62oH.png?s=128&g=1", "display_name": "BobbyTables", "link": "https://stackoverflow.com/users/2477307/bobbytables"}, "edited": false, "score": 0, "creation_date": 1462912451, "post_id": 37118429, "comment_id": 61834770, "body": "There is indeed a bug, that has been fixed.  There just isn&#39;t a released installer yet for it."}, {"owner": {"reputation": 337, "user_id": 1284302, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b659c7c842fce9bb1476137ca553f3be?s=128&d=identicon&r=PG", "display_name": "jjokela", "link": "https://stackoverflow.com/users/1284302/jjokela"}, "edited": false, "score": 0, "creation_date": 1463345494, "post_id": 37118429, "comment_id": 62015961, "body": "The workaround mentioned in the github discussion (replacing typescriptServices.js file with a new one) fixed the VS2015 Typescript intellisense issues for me."}], "tags": [], "owner": {"reputation": 1309, "user_id": 400771, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1be4725b0bd0f9813afbe767dc269f0d?s=128&d=identicon&r=PG", "display_name": "David Driscoll", "link": "https://stackoverflow.com/users/400771/david-driscoll"}, "is_accepted": false, "score": 4, "last_activity_date": 1462804284, "creation_date": 1462804284, "answer_id": 37118429, "question_id": 37030963, "link": "https://stackoverflow.com/questions/37030963/angular-2-2-0-0-rc-1-property-map-does-not-exist-on-type-observableresponse/37118429#37118429", "title": "Angular 2 2.0.0-rc.1 Property &#39;map&#39; does not exist on type &#39;Observable&lt;Response&gt;&#39; not the same as issue report", "body": "<p>The issue is most likely related to <a href=\"https://github.com/Microsoft/TypeScript/issues/7415\" rel=\"nofollow\">https://github.com/Microsoft/TypeScript/issues/7415</a> which hasn't yet seen a full VS Release. It is possible to build the sources locally and use <a href=\"https://github.com/Microsoft/TypeScript/wiki/Dev-Mode-in-Visual-Studio\" rel=\"nofollow\">VS Dev Mode</a>.</p>\n"}, {"comments": [{"owner": {"reputation": 873, "user_id": 2535406, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/8c703b874534b2bae355233837105566?s=128&d=identicon&r=PG", "display_name": "Dan Soltesz", "link": "https://stackoverflow.com/users/2535406/dan-soltesz"}, "edited": false, "score": 0, "creation_date": 1462908998, "post_id": 37119375, "comment_id": 61832879, "body": "I do have the es6-shim typings and things will build but I still get the erroneous errors inside Visual Studio 2015 even though I have imported rxjs/Rx"}], "tags": [], "owner": {"reputation": 1283, "user_id": 1322772, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5750e5553f140aa42f68c6bbefed6989?s=128&d=identicon&r=PG", "display_name": "Gareth Flowers", "link": "https://stackoverflow.com/users/1322772/gareth-flowers"}, "is_accepted": false, "score": 0, "last_activity_date": 1462806885, "creation_date": 1462806885, "answer_id": 37119375, "question_id": 37030963, "link": "https://stackoverflow.com/questions/37030963/angular-2-2-0-0-rc-1-property-map-does-not-exist-on-type-observableresponse/37119375#37119375", "title": "Angular 2 2.0.0-rc.1 Property &#39;map&#39; does not exist on type &#39;Observable&lt;Response&gt;&#39; not the same as issue report", "body": "<p>Installing the typings for <code>es6-shim</code> resolved the same issue for me:</p>\n\n<pre><code>typings i es6-shim --ambient --save-dev\n</code></pre>\n\n<p>It was a <a href=\"https://github.com/angular/angular/blob/master/CHANGELOG.md#breaking-changes-7\" rel=\"nofollow\">breaking change in beta 6</a> and to get round it you could include a reference to the internal typings files inside angular. Unfortunately these have been removed in 2.0.0-rc.0 so you must rely on the external typings for the same thing now.</p>\n"}, {"comments": [{"owner": {"reputation": 4604, "user_id": 3654605, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/462b919e2467bdfcacf6ba9d6097efdf?s=128&d=identicon&r=PG&f=1", "display_name": "lowcrawler", "link": "https://stackoverflow.com/users/3654605/lowcrawler"}, "edited": false, "score": 8, "creation_date": 1465091243, "post_id": 37139920, "comment_id": 62755073, "body": "it&#39;s worth noting that you have to add  import &#39;rxjs/add/operator/catch for catches as well. (Basically you have to add all the individual functions)"}, {"owner": {"reputation": 323, "user_id": 2077900, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/u6jOM.jpg?s=128&g=1", "display_name": "trickpatty", "link": "https://stackoverflow.com/users/2077900/trickpatty"}, "edited": false, "score": 0, "creation_date": 1476983060, "post_id": 37139920, "comment_id": 67589667, "body": "this was also good to know when using other Observable methods like <code>publish()</code>, needed to <code>import &#39;rxjs&#47;add&#47;operator&#47;publish&#39;;</code> for that as well"}, {"owner": {"reputation": 3957, "user_id": 869240, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/fb68d12aaa638883a6bed2158e75c5f0?s=128&d=identicon&r=PG", "display_name": "Mahori", "link": "https://stackoverflow.com/users/869240/mahori"}, "edited": false, "score": 0, "creation_date": 1504162560, "post_id": 37139920, "comment_id": 78908711, "body": "Problem show up when importing {Observable} from &#39;rxjs/Observable&#39;. Instead adding import { Observable } from &#39;rxjs/Rx&#39;; solves the problem and individual functions need not be imported."}], "tags": [], "owner": {"reputation": 5516, "user_id": 1121008, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4639da8f9b38f37462ac4da529708840?s=128&d=identicon&r=PG", "display_name": "Apostolos", "link": "https://stackoverflow.com/users/1121008/apostolos"}, "is_accepted": false, "score": 70, "last_activity_date": 1462889064, "last_edit_date": 1462889064, "creation_date": 1462886675, "answer_id": 37139920, "question_id": 37030963, "link": "https://stackoverflow.com/questions/37030963/angular-2-2-0-0-rc-1-property-map-does-not-exist-on-type-observableresponse/37139920#37139920", "title": "Angular 2 2.0.0-rc.1 Property &#39;map&#39; does not exist on type &#39;Observable&lt;Response&gt;&#39; not the same as issue report", "body": "<p>did you try with this import? it works for me</p>\n\n<pre><code> import {Observable} from 'rxjs/Rx';\n import 'rxjs/add/operator/map';\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 186, "user_id": 4152649, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e58b97518ed00dd9efbb26e29d2eae62?s=128&d=identicon&r=PG&f=1", "display_name": "NeshDev", "link": "https://stackoverflow.com/users/4152649/neshdev"}, "is_accepted": false, "score": 14, "last_activity_date": 1463028253, "creation_date": 1463028253, "answer_id": 37177455, "question_id": 37030963, "link": "https://stackoverflow.com/questions/37030963/angular-2-2-0-0-rc-1-property-map-does-not-exist-on-type-observableresponse/37177455#37177455", "title": "Angular 2 2.0.0-rc.1 Property &#39;map&#39; does not exist on type &#39;Observable&lt;Response&gt;&#39; not the same as issue report", "body": "<p>I was having the same issue. It seems to have resolved after adding this line to the AppComponent class.</p>\n\n<pre><code>import 'rxjs/Rx'; \n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 2428, "user_id": 3782873, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/47629b675da91ffeb2b46311f278db07?s=128&d=identicon&r=PG&f=1", "display_name": "Stefano Castriotta", "link": "https://stackoverflow.com/users/3782873/stefano-castriotta"}, "edited": false, "score": 1, "creation_date": 1464967763, "post_id": 37331027, "comment_id": 62719106, "body": "I had a similar issue with the &quot;toPromise&quot; extension of rxjs using &quot;es6&quot; compilation (i&#39;m following the current Angular2 tutorial at <a href=\"https://angular.io/docs/ts/latest/tutorial/toh-pt6.html\" rel=\"nofollow noreferrer\">angular.io/docs/ts/latest/tutorial/toh-pt6.html</a>). This workaround fixed the issue, thanks."}, {"owner": {"reputation": 986, "user_id": 174001, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/QQLM7.jpg?s=128&g=1", "display_name": "John Maloney", "link": "https://stackoverflow.com/users/174001/john-maloney"}, "edited": false, "score": 0, "creation_date": 1466087276, "post_id": 37331027, "comment_id": 63181369, "body": "This worked for me, obviously for Windows only. Had to force shutdown the devenv.exe process for it to take full affect."}, {"owner": {"reputation": 3390, "user_id": 6760868, "user_type": "registered", "accept_rate": 31, "profile_image": "https://www.gravatar.com/avatar/e2bce546959469a520331f6d2f41fc9f?s=128&d=identicon&r=PG&f=1", "display_name": "Aakash Thakur", "link": "https://stackoverflow.com/users/6760868/aakash-thakur"}, "edited": false, "score": 0, "creation_date": 1485889967, "post_id": 37331027, "comment_id": 71110103, "body": "You have mentioned for update 2 and 3. I have VS 2015 update 1 and getting the same issue. How to resolve it?"}], "tags": [], "owner": {"reputation": 928, "user_id": 1612661, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/9539fcd6799520b052d58fee5c573530?s=128&d=identicon&r=PG", "display_name": "Eric Weiss", "link": "https://stackoverflow.com/users/1612661/eric-weiss"}, "is_accepted": false, "score": 59, "last_activity_date": 1468477081, "last_edit_date": 1468477081, "creation_date": 1463681334, "answer_id": 37331027, "question_id": 37030963, "link": "https://stackoverflow.com/questions/37030963/angular-2-2-0-0-rc-1-property-map-does-not-exist-on-type-observableresponse/37331027#37331027", "title": "Angular 2 2.0.0-rc.1 Property &#39;map&#39; does not exist on type &#39;Observable&lt;Response&gt;&#39; not the same as issue report", "body": "<p>Here is the workaround.  jjokela and VahidN hinted at it also with their comments.\nI found it by looking at Deborah Kurata's blog post <a href=\"http://blogs.msmvps.com/deborahk/angular-2-getting-started-with-a-visual-studio-2015-asp-net-4-x-project/\">here</a>. She outlines using Angular2 with ASP.NET 4 project template not the new ASP.NET 5 RC template I'm using.</p>\n\n<p>To fix please refer to these instruction found at <a href=\"https://github.com/Microsoft/TypeScript/issues/8518#issuecomment-229506507\">https://github.com/Microsoft/TypeScript/issues/8518#issuecomment-229506507</a></p>\n\n<p>This fix is targeted to be included with the Typescript 2.0 release for Visual Studio. Until you can perform the manual steps below.</p>\n\n<p>For VS 2015 (Update 3):</p>\n\n<p>Install VS 2015 Update 3\nReplace C:\\Program Files (x86)\\Microsoft Visual Studio 14.0\\Common7\\IDE\\CommonExtensions\\Microsoft\\TypeScript\\typescriptServices.js with the file in <a href=\"https://raw.githubusercontent.com/Microsoft/TypeScript/Fix8518-U3/lib/typescriptServices.js\">https://raw.githubusercontent.com/Microsoft/TypeScript/Fix8518-U3/lib/typescriptServices.js</a>. First take a local backup though.</p>\n\n<p>For VS 2015 (Update 2):</p>\n\n<p>Install VS 2015 Update 2\nReplace C:\\Program Files (x86)\\Microsoft Visual Studio 14.0\\Common7\\IDE\\CommonExtensions\\Microsoft\\TypeScript\\typescriptServices.js with the file in <a href=\"https://raw.githubusercontent.com/Microsoft/TypeScript/Fix8518/lib/typescriptServices.js\">https://raw.githubusercontent.com/Microsoft/TypeScript/Fix8518/lib/typescriptServices.js</a>. First take a local backup though.</p>\n\n<p>For VS 2013:</p>\n\n<p>Install TypeScript 1.8.5 (<a href=\"https://www.microsoft.com/en-us/download/details.aspx?id=48739\">https://www.microsoft.com/en-us/download/details.aspx?id=48739</a>)\nReplace C:\\Program Files (x86)\\Microsoft Visual Studio 12.0\\Common7\\IDE\\CommonExtensions\\Microsoft\\TypeScript\\typescriptServices.js with the file in <a href=\"https://raw.githubusercontent.com/Microsoft/TypeScript/Fix8518-Dev12/lib/typescriptServices.js\">https://raw.githubusercontent.com/Microsoft/TypeScript/Fix8518-Dev12/lib/typescriptServices.js</a>. First take a local backup though.</p>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 6450797, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/06b0c95feb40433cecffb3c0bd86b717?s=128&d=identicon&r=PG&f=1", "display_name": "Ryan Park", "link": "https://stackoverflow.com/users/6450797/ryan-park"}, "is_accepted": false, "score": 0, "last_activity_date": 1465572606, "creation_date": 1465572606, "answer_id": 37751975, "question_id": 37030963, "link": "https://stackoverflow.com/questions/37030963/angular-2-2-0-0-rc-1-property-map-does-not-exist-on-type-observableresponse/37751975#37751975", "title": "Angular 2 2.0.0-rc.1 Property &#39;map&#39; does not exist on type &#39;Observable&lt;Response&gt;&#39; not the same as issue report", "body": "<p>if you've just upgraded to Angular2 rc1, make sure you're using the new @angular  import statements, rather than the angular2: </p>\n\n<pre><code>`import { Component } from 'angular2/core';`\n</code></pre>\n\n<p>becomes,</p>\n\n<pre><code>`import { Component } from '@angular/core';`\n</code></pre>\n\n<p>I know it seems simple, but it can cause this issue.</p>\n"}, {"tags": [], "owner": {"reputation": 476, "user_id": 1500601, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9468fcbdc12f9ad0699c6864b8d953c5?s=128&d=identicon&r=PG", "display_name": "ravi punjwani", "link": "https://stackoverflow.com/users/1500601/ravi-punjwani"}, "is_accepted": false, "score": 0, "last_activity_date": 1471234321, "creation_date": 1471234321, "answer_id": 38949231, "question_id": 37030963, "link": "https://stackoverflow.com/questions/37030963/angular-2-2-0-0-rc-1-property-map-does-not-exist-on-type-observableresponse/38949231#38949231", "title": "Angular 2 2.0.0-rc.1 Property &#39;map&#39; does not exist on type &#39;Observable&lt;Response&gt;&#39; not the same as issue report", "body": "<p>Find beta release 2.0.0 of TypeScript for Visual Studio 2015.\nThis release solved same issue on my machine. But remember, it's a beta.</p>\n"}, {"tags": [], "owner": {"reputation": 31, "user_id": 6753316, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-fX9wFqp51Vc/AAAAAAAAAAI/AAAAAAAACDE/8NsH4Vh0fl4/photo.jpg?sz=128", "display_name": "Huy Nguyen", "link": "https://stackoverflow.com/users/6753316/huy-nguyen"}, "is_accepted": false, "score": 2, "last_activity_date": 1472220758, "last_edit_date": 1472220758, "creation_date": 1472052666, "answer_id": 39127463, "question_id": 37030963, "link": "https://stackoverflow.com/questions/37030963/angular-2-2-0-0-rc-1-property-map-does-not-exist-on-type-observableresponse/39127463#39127463", "title": "Angular 2 2.0.0-rc.1 Property &#39;map&#39; does not exist on type &#39;Observable&lt;Response&gt;&#39; not the same as issue report", "body": "<p>in toPromise.d.ts </p>\n\n<p>add \"import {Observable} from '../../Observable';\" </p>\n\n<pre><code>import { ToPromiseSignature } from '../../operator/toPromise';\nimport {Observable} from '../../Observable';\ndeclare module '../../Observable' {\n    interface Observable&lt;T&gt; {\n        toPromise: ToPromiseSignature&lt;T&gt;;\n    }\n}\n</code></pre>\n\n<p>You can do the same for map.d.ts</p>\n\n<p>Hope this helps.</p>\n"}, {"tags": [], "owner": {"reputation": 1561, "user_id": 6512693, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-tgtV5lsxjAk/AAAAAAAAAAI/AAAAAAAAACY/OLMWRPMKlFk/photo.jpg?sz=128", "display_name": "Varun Kumar", "link": "https://stackoverflow.com/users/6512693/varun-kumar"}, "is_accepted": false, "score": 6, "last_activity_date": 1476261190, "creation_date": 1476261190, "answer_id": 39994020, "question_id": 37030963, "link": "https://stackoverflow.com/questions/37030963/angular-2-2-0-0-rc-1-property-map-does-not-exist-on-type-observableresponse/39994020#39994020", "title": "Angular 2 2.0.0-rc.1 Property &#39;map&#39; does not exist on type &#39;Observable&lt;Response&gt;&#39; not the same as issue report", "body": "<p>Nothing except </p>\n\n<pre><code>import { Observable } from 'rxjs/Rx';\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 430, "user_id": 6089385, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zVjb4.jpg?s=128&g=1", "display_name": "Hasnain Bukhari", "link": "https://stackoverflow.com/users/6089385/hasnain-bukhari"}, "is_accepted": false, "score": 1, "last_activity_date": 1478685540, "creation_date": 1478685540, "answer_id": 40504174, "question_id": 37030963, "link": "https://stackoverflow.com/questions/37030963/angular-2-2-0-0-rc-1-property-map-does-not-exist-on-type-observableresponse/40504174#40504174", "title": "Angular 2 2.0.0-rc.1 Property &#39;map&#39; does not exist on type &#39;Observable&lt;Response&gt;&#39; not the same as issue report", "body": "<pre><code>import { Injectable } from '@angular/core';\nimport { Http, Response, Headers, RequestOptions} from '@angular/http';    \nimport 'rxjs/Rx';\nimport {Observable} from 'rxjs/Observable';\nimport 'rxjs/add/operator/map';\n\nreturn this._http.post(url, null, args).map(this.extractData)\n</code></pre>\n\n<p>Make Function extractData</p>\n\n<p>Try this one .It will work for you. \nIt is working for me.</p>\n"}, {"tags": [], "owner": {"reputation": 9520, "user_id": 3923962, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bee6ec77d931c5c5774edaa042f34638?s=128&d=identicon&r=PG&f=1", "display_name": "The Aelfinn", "link": "https://stackoverflow.com/users/3923962/the-aelfinn"}, "is_accepted": false, "score": 0, "last_activity_date": 1484669163, "creation_date": 1484669163, "answer_id": 41701797, "question_id": 37030963, "link": "https://stackoverflow.com/questions/37030963/angular-2-2-0-0-rc-1-property-map-does-not-exist-on-type-observableresponse/41701797#41701797", "title": "Angular 2 2.0.0-rc.1 Property &#39;map&#39; does not exist on type &#39;Observable&lt;Response&gt;&#39; not the same as issue report", "body": "<p><strong>If you are upgrading from an Angular2 release-candidate ( i.e. 2.0.0-rc.1 ) to a 2.x.x release,</strong> you'll want to:</p>\n\n<ol>\n<li><p>Update your <strong>package.json</strong> to be up-to-date with the file at <a href=\"https://github.com/angular/quickstart/blob/master/package.json\" rel=\"nofollow noreferrer\">https://github.com/angular/quickstart/blob/master/package.json</a></p></li>\n<li><p>Update your <strong>systemjs.config.js</strong> file to be up-to-date with the file at <a href=\"https://github.com/angular/quickstart/blob/master/systemjs.config.js\" rel=\"nofollow noreferrer\">https://github.com/angular/quickstart/blob/master/systemjs.config.js</a></p></li>\n<li><p>Change the import statement to:</p>\n\n<p><code>import {Observable} from 'rxjs'</code></p></li>\n</ol>\n"}], "owner": {"reputation": 873, "user_id": 2535406, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/8c703b874534b2bae355233837105566?s=128&d=identicon&r=PG", "display_name": "Dan Soltesz", "link": "https://stackoverflow.com/users/2535406/dan-soltesz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 45710, "favorite_count": 28, "answer_count": 16, "score": 62, "last_activity_date": 1495812236, "creation_date": 1462372696, "last_edit_date": 1495541441, "question_id": 37030963, "link": "https://stackoverflow.com/questions/37030963/angular-2-2-0-0-rc-1-property-map-does-not-exist-on-type-observableresponse", "title": "Angular 2 2.0.0-rc.1 Property &#39;map&#39; does not exist on type &#39;Observable&lt;Response&gt;&#39; not the same as issue report", "body": "<p>while this looks like same issue as <a href=\"https://stackoverflow.com/questions/36947748/angular-2-beta-17-property-map-does-not-exist-on-type-observableresponse\">Angular 2 beta.17: Property &#39;map&#39; does not exist on type &#39;Observable&lt;Response&gt;&#39;</a></p>\n\n<p>this is a new version and those solutions don't work for this new released version</p>\n\n<p>I've update to the latest Angular 2 rc1 and can't get things to compile. I had issues with not recognizing 'Promise'  I ended up installing es6-promise typing directly to resolve that issue.  I have tried putting in various import statements but no luck.  I'm running in visual studio 2015</p>\n\n<pre><code>import 'rxjs/Rx';\nimport {Observable} from 'rxjs/Observable';\nimport {Observer} from 'rxjs/Observer';\nimport 'rxjs/add/operator/share';\nimport 'rxjs/add/operator/map';\n\nreturn this._http.post(url, null, args).map(extractData).toPromise();\n</code></pre>\n\n<p>but continue to get the property 'map' does not exist on type 'Observable'</p>\n\n<p>my package file is</p>\n\n<pre><code>\"dependencies\": {\n\"@angular/common\": \"2.0.0-rc.1\",\n\"@angular/compiler\": \"2.0.0-rc.1\",\n\"@angular/core\": \"2.0.0-rc.1\",\n\"@angular/http\": \"2.0.0-rc.1\",\n\"@angular/platform-browser\": \"2.0.0-rc.1\",\n\"@angular/platform-browser-dynamic\": \"2.0.0-rc.1\",\n\"@angular/router\": \"2.0.0-rc.1\",\n\"@angular/router-deprecated\": \"2.0.0-rc.1\",\n\n\n\"systemjs\": \"0.19.27\",\n\"es6-shim\": \"^0.35.0\",\n\"reflect-metadata\": \"^0.1.3\",\n\"rxjs\": \"5.0.0-beta.6\",\n\"zone.js\": \"^0.6.12\",\n\n\"bootstrap\": \"^3.3.6\",\n\"breeze-client\": \"~1.5.6\",\n\"handlebars\": \"^4.0.5\"\n},\n\"devDependencies\": {\n\"typescript\": \"^1.8.10\",\n\"typings\": \"^0.8.1\",\n\"gulp\": \"^3.9.1\",\n\"jasmine-core\": \"~2.4.1\",\n\"karma\": \"^0.13.22\",\n\"karma-chrome-launcher\": \"^0.2.3\",\n\"karma-coverage\": \"^0.5.5\",\n\"remap-istanbul\": \"^0.6.3\",\n\"karma-jasmine\": \"^0.3.8\",\n\"karma-jasmine-html-reporter\": \"^0.2.0\",\n\"http-server\": \"^0.9.0\"\n}\n</code></pre>\n"}, {"tags": ["javascript", "angularjs", "typescript", "firebase", "angular"], "answers": [{"comments": [{"owner": {"reputation": 173, "user_id": 5792267, "user_type": "registered", "accept_rate": 86, "profile_image": "https://lh5.googleusercontent.com/-Vk2xCBlS-uA/AAAAAAAAAAI/AAAAAAAAAIs/arUvajEP76I/photo.jpg?sz=128", "display_name": "Taremeh", "link": "https://stackoverflow.com/users/5792267/taremeh"}, "edited": false, "score": 0, "creation_date": 1462374290, "post_id": 37031006, "comment_id": 61613083, "body": "Thanks! It now works but somehow, the values won&#39;t display in my input fields (as default values) of my formbuilder:  <a href=\"https://codeshare.io/XSAzO\" rel=\"nofollow noreferrer\">codeshare.io/XSAzO</a>"}, {"owner": {"reputation": 173, "user_id": 5792267, "user_type": "registered", "accept_rate": 86, "profile_image": "https://lh5.googleusercontent.com/-Vk2xCBlS-uA/AAAAAAAAAAI/AAAAAAAAAIs/arUvajEP76I/photo.jpg?sz=128", "display_name": "Taremeh", "link": "https://stackoverflow.com/users/5792267/taremeh"}, "edited": false, "score": 0, "creation_date": 1462375269, "post_id": 37031006, "comment_id": 61613809, "body": "I added a new question: <a href=\"http://stackoverflow.com/questions/37031910/angular-2-formbuilder-with-observables-as-default-values\" title=\"angular 2 formbuilder with observables as default values\">stackoverflow.com/questions/37031910/&hellip;</a>"}, {"owner": {"reputation": 181833, "user_id": 1873365, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/45TMV.png?s=128&g=1", "display_name": "Thierry Templier", "link": "https://stackoverflow.com/users/1873365/thierry-templier"}, "reply_to_user": {"reputation": 173, "user_id": 5792267, "user_type": "registered", "accept_rate": 86, "profile_image": "https://lh5.googleusercontent.com/-Vk2xCBlS-uA/AAAAAAAAAAI/AAAAAAAAAIs/arUvajEP76I/photo.jpg?sz=128", "display_name": "Taremeh", "link": "https://stackoverflow.com/users/5792267/taremeh"}, "edited": false, "score": 0, "creation_date": 1462375281, "post_id": 37031006, "comment_id": 61613822, "body": "In fact the data is loaded asynchronously. So it&#39;s not there when the form is created. I would update the input later (within the subscribe callback) like this: <code>this.userForm.controls.username.updateValue(this.userData.us&zwnj;&#8203;ername);</code>"}], "tags": [], "owner": {"reputation": 181833, "user_id": 1873365, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/45TMV.png?s=128&g=1", "display_name": "Thierry Templier", "link": "https://stackoverflow.com/users/1873365/thierry-templier"}, "is_accepted": true, "score": 3, "last_activity_date": 1462372809, "creation_date": 1462372809, "answer_id": 37031006, "question_id": 37030961, "link": "https://stackoverflow.com/questions/37030961/firebase-doesnt-return-value-angular-2/37031006#37031006", "title": "Firebase doesn&#39;t return value (Angular 2)", "body": "<p>You need to wrap your call into an observable since Firebase is event-driven:</p>\n\n<pre><code>getAllData() {\n  const firebaseRef = new Firebase('https://XYZ.firebaseio.com/path/user')\n  return Observable.create((observer) =&gt; {\n    firebaseRef.on(\"value\", function (snapshot) {\n        console.log(snapshot.val());\n        observer.next(snapshot.val());\n\n    });\n  });\n}\n</code></pre>\n\n<p>This way you will be able to receive value by subscribing on the returned observable:</p>\n\n<pre><code>ngOnInit():any {\n  this._dataService.getAllData().subscribe(data =&gt; {\n    this.userData = data;\n  }); \n}\n</code></pre>\n"}], "owner": {"reputation": 173, "user_id": 5792267, "user_type": "registered", "accept_rate": 86, "profile_image": "https://lh5.googleusercontent.com/-Vk2xCBlS-uA/AAAAAAAAAAI/AAAAAAAAAIs/arUvajEP76I/photo.jpg?sz=128", "display_name": "Taremeh", "link": "https://stackoverflow.com/users/5792267/taremeh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 700, "favorite_count": 2, "accepted_answer_id": 37031006, "answer_count": 1, "score": 3, "last_activity_date": 1462372809, "creation_date": 1462372695, "question_id": 37030961, "link": "https://stackoverflow.com/questions/37030961/firebase-doesnt-return-value-angular-2", "title": "Firebase doesn&#39;t return value (Angular 2)", "body": "<p>I try to retrieve data from my Firebase and it works, but JUST for console.log().\nI can't return a value into a var...</p>\n\n<p>As I'm working with Angular 2 &amp; Typescript I have </p>\n\n<p>a Service:</p>\n\n<pre><code>import {Injectable} from \"angular2/core\";\nimport 'rxjs/Rx';\nimport {Observable} from \"rxjs/Observable\";\ndeclare var Firebase: any;\n\n@Injectable()\nexport class DataService {\n\n    getAllData() {\n\n        const firebaseRef = new Firebase('https://XYZ.firebaseio.com/path/user')\n        firebaseRef.on(\"value\", function (snapshot) {\n            console.log(snapshot.val()); // THIS WORKS!\n            return snapshot.val(); // THIS DOES NOT WORK!\n        });\n    }\n</code></pre>\n\n<p>and a Component:</p>\n\n<pre><code>@Component({\ntemplateUrl: 'templates/user.tpl.html',\nproviders: [DataService],\n})\n\nexport class UserComponent implements OnInit{\nuserData: any;\n\nconstructor(private _dataService: DataService){}\n\nngOnInit():any {\n    this.userData = this._dataService.getAllData(); \n    console.log(this.userData); // THIS DOES NOT WORK: UNDEFINED\n}\n</code></pre>\n\n<p>If i run that, I get nothing for my userData var... And I can't figure how to fix that. I thought I would need an Observable but I failed, whatever I tried to do...</p>\n\n<p>Can someone help?</p>\n"}, {"tags": ["node.js", "express", "typescript", "middleware", "typing"], "answers": [{"comments": [{"owner": {"reputation": 10410, "user_id": 433685, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/1d20b1339a3743da887052b2c6099c0f?s=128&d=identicon&r=PG", "display_name": "nkint", "link": "https://stackoverflow.com/users/433685/nkint"}, "edited": false, "score": 0, "creation_date": 1462371477, "post_id": 37029710, "comment_id": 61610862, "body": "super, it works. just a things, and how to automatically add all the <a href=\"https://github.com/DefinitelyTyped/DefinitelyTyped/blob/cc3d223a946f661eff871787edeb0fcb8f0db156/boom/boom.d.ts\" rel=\"nofollow noreferrer\">typed method of boom</a> to the <code>boom</code> function?"}, {"owner": {"reputation": 8273, "user_id": 68051, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/8a1aabc40d859fcb786eb4d28b95d299?s=128&d=identicon&r=PG", "display_name": "Tim Perry", "link": "https://stackoverflow.com/users/68051/tim-perry"}, "reply_to_user": {"reputation": 10410, "user_id": 433685, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/1d20b1339a3743da887052b2c6099c0f?s=128&d=identicon&r=PG", "display_name": "nkint", "link": "https://stackoverflow.com/users/433685/nkint"}, "edited": false, "score": 0, "creation_date": 1462373169, "post_id": 37029710, "comment_id": 61612251, "body": "Sadly, I don&#39;t think you can. You need to be able to use the Boom namespace as a type, so you can refer to it here, and I don&#39;t think that&#39;s possible, afaik. I&#39;d love to hear if you do find a way though."}, {"owner": {"reputation": 21969, "user_id": 31662, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/241fa4a7d249501f84ad0a6e4b9c2ae4?s=128&d=identicon&r=PG", "display_name": "Daniel Cassidy", "link": "https://stackoverflow.com/users/31662/daniel-cassidy"}, "edited": false, "score": 0, "creation_date": 1530158621, "post_id": 37029710, "comment_id": 89138378, "body": "You can use the Boom namespace as a type, although that may not have been true at the time you wrote your answer. See my answer."}], "tags": [], "owner": {"reputation": 8273, "user_id": 68051, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/8a1aabc40d859fcb786eb4d28b95d299?s=128&d=identicon&r=PG", "display_name": "Tim Perry", "link": "https://stackoverflow.com/users/68051/tim-perry"}, "is_accepted": true, "score": 4, "last_activity_date": 1497875550, "last_edit_date": 1497875550, "creation_date": 1462369603, "answer_id": 37029710, "question_id": 37028894, "link": "https://stackoverflow.com/questions/37028894/how-to-write-typescript-definition-for-a-middleware-that-adds-property-to-the-re/37029710#37029710", "title": "How to write TypeScript definition for a middleware that adds property to the response?", "body": "<p>There's quite a few other Express middlewares you can use as examples, e.g. <a href=\"https://github.com/expressjs/method-override\" rel=\"nofollow noreferrer\">Method-Override</a>, and its <a href=\"https://github.com/DefinitelyTyped/DefinitelyTyped/blob/master/types/method-override/index.d.ts\" rel=\"nofollow noreferrer\">type definitions</a>.</p>\n\n<p>As a more concrete example, if you want to add this .boom property to the response object, you should just need to create a type definition (express-boom.d.ts) containing:</p>\n\n<pre><code>declare namespace Express {\n    interface Boom {\n        // Add boom's properties in here\n    }\n\n    export interface Response {\n        boom: Boom\n    }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1189, "user_id": 3149229, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/08b2c18ebc1655beb71927bc9e3f598f?s=128&d=identicon&r=PG", "display_name": "Sandeep K Nair", "link": "https://stackoverflow.com/users/3149229/sandeep-k-nair"}, "is_accepted": false, "score": 2, "last_activity_date": 1530127921, "last_edit_date": 1530127921, "creation_date": 1530124353, "answer_id": 51069365, "question_id": 37028894, "link": "https://stackoverflow.com/questions/37028894/how-to-write-typescript-definition-for-a-middleware-that-adds-property-to-the-re/51069365#51069365", "title": "How to write TypeScript definition for a middleware that adds property to the response?", "body": "<p>Here is a sample usage. Hope this helps someone.</p>\n\n<p>Include <code>express-boom.d.ts</code> along with your applications source files.</p>\n\n<p>Refer the <code>sample-usage.ts</code> in the below gist for example usage:</p>\n\n<p><a href=\"https://gist.github.com/sandeepsuvit/2486c99c0346db87de24539472f34451\" rel=\"nofollow noreferrer\">Gist: Type definitions for express-boom</a>:</p>\n\n<h2><code>express-boom.d.ts</code></h2>\n\n<pre><code>/**\n * Type definitions for express-boom\n * Definitions by: Sandeep K Nair &lt;https://github.com/sandeepsuvit&gt;\n * @author: Sandeep K Nair\n */\ndeclare namespace Express {\n    interface Boom {\n        // Add boom's properties in here\n        wrap: (error: Error, statusCode?: number, message?: string) =&gt; BoomError;\n        create: (statusCode: number, message?: string, data?: any) =&gt; BoomError;\n\n        // 4xx\n        badRequest: (message?: string, data?: any) =&gt; BoomError;\n        unauthorized: (message?: string, scheme?: any, attributes?: any) =&gt; BoomError;\n        forbidden: (message?: string, data?: any) =&gt; BoomError;\n        notFound: (message?: string, data?: any) =&gt; BoomError;\n        methodNotAllowed: (message?: string, data?: any) =&gt; BoomError;\n        notAcceptable: (message?: string, data?: any) =&gt; BoomError;\n        proxyAuthRequired: (message?: string, data?: any) =&gt; BoomError;\n        clientTimeout: (message?: string, data?: any) =&gt; BoomError;\n        conflict: (message?: string, data?: any) =&gt; BoomError;\n        resourceGone: (message?: string, data?: any) =&gt; BoomError;\n        lengthRequired: (message?: string, data?: any) =&gt; BoomError;\n        preconditionFailed: (message?: string, data?: any) =&gt; BoomError;\n        entityTooLarge: (message?: string, data?: any) =&gt; BoomError;\n        uriTooLong: (message?: string, data?: any) =&gt; BoomError;\n        unsupportedMediaType: (message?: string, data?: any) =&gt; BoomError;\n        rangeNotSatisfiable: (message?: string, data?: any) =&gt; BoomError;\n        expectationFailed: (message?: string, data?: any) =&gt; BoomError;\n        badData: (message?: string, data?: any) =&gt; BoomError;\n        tooManyRequests: (message?: string, data?: any) =&gt; BoomError;\n\n        // 5xx\n        notImplemented: (message?: string, data?: any) =&gt; BoomError;\n        badGateway: (message?: string, data?: any) =&gt; BoomError;\n        serverTimeout: (message?: string, data?: any) =&gt; BoomError;\n        gatewayTimeout: (message?: string, data?: any) =&gt; BoomError;\n        badImplementation: (message?: string, data?: any) =&gt; BoomError;\n    }\n\n    export interface BoomError {\n        data: any;\n        reformat: () =&gt; void;\n        isBoom: boolean;\n        isServer: boolean;\n        message: string;\n        output: Output;\n    }\n\n    export interface Output {\n        statusCode: number;\n        headers: any;\n        payload: any;\n    }\n\n    export interface Response {\n        boom: Boom\n    }\n}\n</code></pre>\n\n<h2><code>sample-usage.ts</code></h2>\n\n<pre><code>export function someMiddleware(req: express.Request, res: express.Response, next: express.NextFunction) {\n  // use it this way\n  res.boom.forbidden(\"Failed to grant access to resource.\");\n  next();\n}\n</code></pre>\n"}], "owner": {"reputation": 10410, "user_id": 433685, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/1d20b1339a3743da887052b2c6099c0f?s=128&d=identicon&r=PG", "display_name": "nkint", "link": "https://stackoverflow.com/users/433685/nkint"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2009, "favorite_count": 1, "accepted_answer_id": 37029710, "answer_count": 2, "score": 6, "last_activity_date": 1555461509, "creation_date": 1462367631, "question_id": 37028894, "link": "https://stackoverflow.com/questions/37028894/how-to-write-typescript-definition-for-a-middleware-that-adds-property-to-the-re", "title": "How to write TypeScript definition for a middleware that adds property to the response?", "body": "<p>I'd like to use <a href=\"https://github.com/scottcorgan/express-boom\" rel=\"noreferrer\">express-boom</a> for express with TypeScript. It lacks of typings so I'd like to write my own. Just make it compile is trivial.</p>\n\n<p>This middleware decorates the <code>res</code> object with a property <code>boom</code> (derived from the <a href=\"https://github.com/hapijs/boom\" rel=\"noreferrer\">boom module</a>):</p>\n\n<pre><code>var express = require('express');\nvar boom = require('express-boom');\n\nvar app = express();\n\napp.use(boom());\n\napp.use(function (req, res) {\n  res.boom.notFound(); // Responsds with a 404 status code\n});\n</code></pre>\n\n<p>But with typescript I need to cast it because neither <code>http.ServerResponse</code> and <code>Express.Response</code> have the boom property, of course:</p>\n\n<pre><code>return (&lt;any&gt;res).boom.badRequest('bla bla bla');\n</code></pre>\n\n<p>Which is the cleanest way to do it? Which are other typed middleware that are doing a similar thing?</p>\n"}, {"tags": ["typescript", "indexer", "tslint"], "comments": [{"owner": {"reputation": 12083, "user_id": 681538, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/LNlya.jpg?s=128&g=1", "display_name": "Alex", "link": "https://stackoverflow.com/users/681538/alex"}, "edited": false, "score": 0, "creation_date": 1462370187, "post_id": 37028874, "comment_id": 61609778, "body": "I think this looks like a bug in tslint, thay probably just haven&#39;t excluded that rule for index signatures. Seems like a valid use-case, try filing a bugreport/suggestion :<a href=\"https://github.com/palantir/tslint/issues\" rel=\"nofollow noreferrer\">github.com/palantir/tslint/issues</a>"}], "answers": [{"tags": [], "owner": {"reputation": 8273, "user_id": 68051, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/8a1aabc40d859fcb786eb4d28b95d299?s=128&d=identicon&r=PG", "display_name": "Tim Perry", "link": "https://stackoverflow.com/users/68051/tim-perry"}, "is_accepted": true, "score": 5, "last_activity_date": 1462370078, "creation_date": 1462370078, "answer_id": 37029889, "question_id": 37028874, "link": "https://stackoverflow.com/questions/37028874/typescript-indexer-still-getting-tslint-error-object-access-via-string-literals/37029889#37029889", "title": "TypeScript indexer still getting tslint error &quot;object access via string literals is disallowed&quot;", "body": "<p>Your indexer does work around this, in that it allows TypeScript to compile it, and you're right that it's valid compiling TypeScript code.</p>\n\n<p>The issue here is just the TSLint rule; while it's valid TypeScript, TSLint is trying to encourage you not to do it, because you're indexing by a constant string, so it could just be property on the object. TSLint thinks you should define fixed properties on IXMLAttributes for the properties you're going to access.</p>\n\n<p>You could well do that; adding a 'id: string' property on your IXMLAttributes (in addition to the indexed property, if there is a non-constant case where you'd like to use that) isn't a bad idea.</p>\n\n<p>Personally though I think this is just TSLint being a bit heavy-handed here. There's perfectly good reasons to use constant string indexing like this in these cases. I'd just turn off the <a href=\"http://palantir.github.io/tslint/rules/no-string-literal/\" rel=\"noreferrer\">no-string-literal</a> rule in your TSLint config.</p>\n"}], "owner": {"reputation": 53, "user_id": 4462597, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7b33c532f6fa111c38c7f32c2f7af2a1?s=128&d=identicon&r=PG", "display_name": "Andrew Murphy", "link": "https://stackoverflow.com/users/4462597/andrew-murphy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2381, "favorite_count": 0, "accepted_answer_id": 37029889, "answer_count": 1, "score": 5, "last_activity_date": 1462370078, "creation_date": 1462367587, "question_id": 37028874, "link": "https://stackoverflow.com/questions/37028874/typescript-indexer-still-getting-tslint-error-object-access-via-string-literals", "title": "TypeScript indexer still getting tslint error &quot;object access via string literals is disallowed&quot;", "body": "<p>I am trying to write type definitions for the <code>xmldoc</code> npm package.</p>\n\n<p>So far I have this:</p>\n\n<pre><code>declare module 'xmldoc' {\n\n   export class XmlDocument {\n    constructor(contents: string);\n    public children: IXmlNode[];\n  }\n\n  export interface IXmlNode {\n    attr: IXmlAttributes;\n    val: string;\n    name: string;\n    children: IXmlNode[];\n  }\n\n  export interface IXmlAttributes {\n    [index: string]: string;\n  }\n\n}\n</code></pre>\n\n<p>tslint is still complaining at this code</p>\n\n<pre><code>  valueId = node.attr[\"id\"];\n</code></pre>\n\n<p>with the error message <code>object access via string literals is disallowed</code></p>\n\n<p>I thought my indexer (<code>[index: string]: string</code>) worked around this.</p>\n\n<p>Can anyone give me a clue as to why it isn't working?</p>\n"}, {"tags": ["node.js", "import", "typescript", "angular"], "comments": [{"owner": {"reputation": 5287, "user_id": 186836, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/d7c19b05522666e2a10a903c3bee56ac?s=128&d=identicon&r=PG", "display_name": "thitemple", "link": "https://stackoverflow.com/users/186836/thitemple"}, "edited": false, "score": 0, "creation_date": 1462367244, "post_id": 37028649, "comment_id": 61607377, "body": "Have you installed the typings for that library?"}], "answers": [{"comments": [{"owner": {"reputation": 55, "user_id": 6290810, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/VzHcu.jpg?s=128&g=1", "display_name": "AntonioMendez", "link": "https://stackoverflow.com/users/6290810/antoniomendez"}, "edited": false, "score": 0, "creation_date": 1462369484, "post_id": 37028802, "comment_id": 61609165, "body": "thank you so much, it solved the first error message. I still have the second one (&quot;cannot find name Buffer&quot;), any idea?"}, {"owner": {"reputation": 890, "user_id": 3179199, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c485038486d603f278db1d08d639b386?s=128&d=identicon&r=PG", "display_name": "PolishDeveloper", "link": "https://stackoverflow.com/users/3179199/polishdeveloper"}, "reply_to_user": {"reputation": 55, "user_id": 6290810, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/VzHcu.jpg?s=128&g=1", "display_name": "AntonioMendez", "link": "https://stackoverflow.com/users/6290810/antoniomendez"}, "edited": false, "score": 0, "creation_date": 1462370902, "post_id": 37028802, "comment_id": 61610369, "body": "same stuff, you need to know which library provides Buffer typings. Buffer is an internal NodeJS thing, so the best way is to install nodejs typings <code>typings install --save node</code>"}, {"owner": {"reputation": 890, "user_id": 3179199, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c485038486d603f278db1d08d639b386?s=128&d=identicon&r=PG", "display_name": "PolishDeveloper", "link": "https://stackoverflow.com/users/3179199/polishdeveloper"}, "reply_to_user": {"reputation": 55, "user_id": 6290810, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/VzHcu.jpg?s=128&g=1", "display_name": "AntonioMendez", "link": "https://stackoverflow.com/users/6290810/antoniomendez"}, "edited": false, "score": 1, "creation_date": 1462371141, "post_id": 37028802, "comment_id": 61610560, "body": "anyway, I see that this ampq lib stil uses the TSD (<a href=\"https://github.com/abreits/amqp-ts/blob/master/tsd.json\" rel=\"nofollow noreferrer\">github.com/abreits/amqp-ts/blob/master/tsd.json</a>), check the Typings/migration from TSD documentation, it should help you solve future problems (probably the next error will be missing <code>winston</code> and <code>when</code> typings). I&#39;m not sure how to deal with <code>Typings</code> because I&#39;m also bound to TSD, but for example try referencing the <code>node_modules&#47;ampq-ts&#47;libs&#47;typings&#47;tsd.d.ts</code> file (<code>&lt;reference path=&quot;...&quot; &#47;&gt;</code>)"}], "tags": [], "owner": {"reputation": 890, "user_id": 3179199, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c485038486d603f278db1d08d639b386?s=128&d=identicon&r=PG", "display_name": "PolishDeveloper", "link": "https://stackoverflow.com/users/3179199/polishdeveloper"}, "is_accepted": true, "score": 6, "last_activity_date": 1465942855, "last_edit_date": 1465942855, "creation_date": 1462367406, "answer_id": 37028802, "question_id": 37028649, "link": "https://stackoverflow.com/questions/37028649/error-ts2307-cannot-find-module-bluebird/37028802#37028802", "title": "error TS2307: Cannot find module &#39;bluebird&#39;", "body": "<p>Additionally to regular package install you need to install TypeScript typings. Typings are like header files, they contain all methods/classes/interfaces definitions.</p>\n\n<p>To install typings you need a typings tool. The best way is to install it globally so you can use it in every project </p>\n\n<pre><code>npm install typings --global\n</code></pre>\n\n<p>Then installing new typings inside your project is pretty simple, first search for library:</p>\n\n<pre><code>typings search bluebird\n</code></pre>\n\n<p>Install it :</p>\n\n<pre><code>typings install --save bluebird\n</code></pre>\n\n<p>More info : <a href=\"https://github.com/typings/typings\" rel=\"nofollow\">https://github.com/typings/typings</a></p>\n"}], "owner": {"reputation": 55, "user_id": 6290810, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/VzHcu.jpg?s=128&g=1", "display_name": "AntonioMendez", "link": "https://stackoverflow.com/users/6290810/antoniomendez"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 7702, "favorite_count": 1, "accepted_answer_id": 37028802, "answer_count": 1, "score": 3, "last_activity_date": 1465942855, "creation_date": 1462366954, "question_id": 37028649, "link": "https://stackoverflow.com/questions/37028649/error-ts2307-cannot-find-module-bluebird", "title": "error TS2307: Cannot find module &#39;bluebird&#39;", "body": "<p>I am currently trying to develop an app using <strong>Ionic 2</strong> and <strong>Angular 2</strong> with <strong>Typescript version</strong>. I decided to use the library <strong>amqp-ts</strong> to include messaging in my app. I installed the library via npm like:</p>\n\n<pre><code>npm install amqp-ts\n</code></pre>\n\n<p>Everything went fine and now I've got something like this:</p>\n\n<pre><code>/ app root directory\n+ node_modules\n    - amqp-ts\n        - lib \n            -  amqp-ts.d.ts\n        - node_modules\n            -  amqplib\n            -  bluebird\n            -  winston\n</code></pre>\n\n<p>The problems begin now: I import the library into my component as it is done in the example of <a href=\"https://www.npmjs.com/package/amqp-ts\" rel=\"nofollow\">the documentation</a>...</p>\n\n<pre><code>import * as Amqp from \"amqp-ts\";\n</code></pre>\n\n<p>... and when I try to deploy the app I get the next error messages:</p>\n\n<pre><code>TypeScript error: C:/APPs/Test/Ionic2Angular2App/node_modules/amqp-ts/lib/amqp-ts.d.ts(2,26): Error TS2307: Cannot find module 'bluebird'.\nTypeScript error: C:/APPs/Test/Ionic2Angular2App/node_modules/amqp-ts/lib/amqp-ts.d.ts(50,12): Error TS2304: Cannot find name 'Buffer'.\n</code></pre>\n\n<p><strong>1. The line related to the first error message</strong></p>\n\n<pre><code>// exported Typescript type definition for AmqpSimple\nimport * as Promise from \"bluebird\";\n[...]\n</code></pre>\n\n<p><strong>2. The line related to the second error message (same file: amqp-ts.d.ts)</strong></p>\n\n<pre><code>export class Message {\n    content: Buffer;\n    [...]\n}\n</code></pre>\n\n<p>I hope you can help me, please. </p>\n"}, {"tags": ["javascript", "angularjs", "typescript", "sinon", "stubbing"], "answers": [{"comments": [{"owner": {"reputation": 1768, "user_id": 1879408, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/e2b905d0c53e7514a5ef4508e14d0c6c?s=128&d=identicon&r=PG", "display_name": "user1879408", "link": "https://stackoverflow.com/users/1879408/user1879408"}, "edited": false, "score": 0, "creation_date": 1462368831, "post_id": 37028119, "comment_id": 61608634, "body": "They all need a class to create a mock, an interface is not enough. I guess the type erasure makes it impossible, without hacking Typescript itself --&gt; <a href=\"http://stackoverflow.com/questions/13142635/how-can-i-create-an-object-based-on-an-interface-file-definition-in-typescript\" title=\"how can i create an object based on an interface file definition in typescript\">stackoverflow.com/questions/13142635/&hellip;</a>"}, {"owner": {"reputation": 890, "user_id": 3179199, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c485038486d603f278db1d08d639b386?s=128&d=identicon&r=PG", "display_name": "PolishDeveloper", "link": "https://stackoverflow.com/users/3179199/polishdeveloper"}, "reply_to_user": {"reputation": 1768, "user_id": 1879408, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/e2b905d0c53e7514a5ef4508e14d0c6c?s=128&d=identicon&r=PG", "display_name": "user1879408", "link": "https://stackoverflow.com/users/1879408/user1879408"}, "edited": false, "score": 0, "creation_date": 1462369264, "post_id": 37028119, "comment_id": 61608964, "body": "What about creating an empty object that implements your interface ? and pass it as a object to your mock ?"}, {"owner": {"reputation": 1768, "user_id": 1879408, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/e2b905d0c53e7514a5ef4508e14d0c6c?s=128&d=identicon&r=PG", "display_name": "user1879408", "link": "https://stackoverflow.com/users/1879408/user1879408"}, "edited": false, "score": 0, "creation_date": 1462372499, "post_id": 37028119, "comment_id": 61611737, "body": "That does not create the methods --&gt; Type erasure ;)"}, {"owner": {"reputation": 890, "user_id": 3179199, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c485038486d603f278db1d08d639b386?s=128&d=identicon&r=PG", "display_name": "PolishDeveloper", "link": "https://stackoverflow.com/users/3179199/polishdeveloper"}, "reply_to_user": {"reputation": 1768, "user_id": 1879408, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/e2b905d0c53e7514a5ef4508e14d0c6c?s=128&d=identicon&r=PG", "display_name": "user1879408", "link": "https://stackoverflow.com/users/1879408/user1879408"}, "edited": false, "score": 1, "creation_date": 1462373271, "post_id": 37028119, "comment_id": 61612343, "body": "Right, then only solution is to create a tool that does that :/"}], "tags": [], "owner": {"reputation": 890, "user_id": 3179199, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c485038486d603f278db1d08d639b386?s=128&d=identicon&r=PG", "display_name": "PolishDeveloper", "link": "https://stackoverflow.com/users/3179199/polishdeveloper"}, "is_accepted": false, "score": 2, "last_activity_date": 1462365565, "last_edit_date": 1495541404, "creation_date": 1462365565, "answer_id": 37028119, "question_id": 37027776, "link": "https://stackoverflow.com/questions/37027776/how-to-stub-a-typescript-interface-type-definition/37028119#37028119", "title": "How to stub a Typescript-Interface / Type-definition?", "body": "<p>There are few libraries that allows to do that <code>TypeMoq</code>, <code>TeddyMocks</code> and <code>Typescript-mockify</code> are probably one of the more popular ones. </p>\n\n<p>Check the github repositories and pick the one you like better :\nlinks:</p>\n\n<ul>\n<li>TeddyMocks: <a href=\"https://github.com/mbraude/TeddyMocks\" rel=\"nofollow noreferrer\">https://github.com/mbraude/TeddyMocks</a></li>\n<li>TypeMoq: <a href=\"https://github.com/florinn/typemoq\" rel=\"nofollow noreferrer\">https://github.com/florinn/typemoq</a></li>\n<li>TypeScriptMockify: <a href=\"https://github.com/brechtbilliet/typescript-mockify\" rel=\"nofollow noreferrer\">https://github.com/brechtbilliet/typescript-mockify</a></li>\n</ul>\n\n<p>You can also use more popular libs like Sinon, but first you have to use an <code>&lt;any&gt;</code> type and then narrow it to <code>&lt;IDependency&gt;</code> type (<a href=\"https://stackoverflow.com/questions/28156057/how-do-i-use-sinon-with-typescript\">How do I use Sinon with Typescript?</a>)</p>\n"}, {"comments": [{"owner": {"reputation": 502, "user_id": 7292122, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/772c081621d14f7661f444e0ab003694?s=128&d=identicon&r=PG&f=1", "display_name": "ostrumvulpes", "link": "https://stackoverflow.com/users/7292122/ostrumvulpes"}, "edited": false, "score": 0, "creation_date": 1611253100, "post_id": 37054224, "comment_id": 116398316, "body": "I&#39;ve recently found <a href=\"https://www.npmjs.com/package/@salesforce/ts-sinon\" rel=\"nofollow noreferrer\">@salesforce/ts-sinon</a> to be useful for this, as it includes a <code>stubInterface</code> method (as well as other methods such as <code>fromStub</code>) which makes using Sinon in TypeScript much nicer."}], "tags": [], "owner": {"reputation": 30995, "user_id": 1836935, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s2FY9.jpg?s=128&g=1", "display_name": "Daniel J.G.", "link": "https://stackoverflow.com/users/1836935/daniel-j-g"}, "is_accepted": false, "score": 39, "last_activity_date": 1462461327, "creation_date": 1462461327, "answer_id": 37054224, "question_id": 37027776, "link": "https://stackoverflow.com/questions/37027776/how-to-stub-a-typescript-interface-type-definition/37054224#37054224", "title": "How to stub a Typescript-Interface / Type-definition?", "body": "<p>I have been writing Typescript tests using qUnit and Sinon, and I have experienced exactly the same pain you are describing.</p>\n\n<p>Let's assume you have a dependency on an interface like:</p>\n\n<pre><code>interface IDependency {\n    a(): void;\n    b(): boolean;\n}\n</code></pre>\n\n<p>I have managed to avoid the need of additional tools/libraries by using a couple of approaches based on sinon stubs/spies and casting.</p>\n\n<ul>\n<li><p>Use an empty object literal, then directly assign sinon stubs to the functions used in the code:</p>\n\n<pre><code>//Create empty literal as your IDependency (usually in the common \"setup\" method of the test file)\nlet anotherDependencyStub = &lt;IDependency&gt;{};\n\n//Set stubs for every method used in your code \nanotherDependencyStub.a = sandbox.stub(); //If not used, you won't need to define it here\nanotherDependencyStub.b = sandbox.stub().returns(true); //Specific behavior for the test\n\n//Exercise code and verify expectations\ndependencyStub.a();\nok(anotherDependencyStub.b());\nsinon.assert.calledOnce(&lt;SinonStub&gt;anotherDependencyStub.b);\n</code></pre></li>\n<li><p>Use object literal with empty implementations of the methods needed by your code, then wrap methods in sinon spies/stubs as required</p>\n\n<pre><code>//Create dummy interface implementation with only the methods used in your code (usually in the common \"setup\" method of the test file)\nlet dependencyStub = &lt;IDependency&gt;{\n    a: () =&gt; { }, //If not used, you won't need to define it here\n    b: () =&gt; { return false; }\n};\n\n//Set spies/stubs\nlet bStub = sandbox.stub(dependencyStub, \"b\").returns(true);\n\n//Exercise code and verify expectations\ndependencyStub.a();\nok(dependencyStub.b());\nsinon.assert.calledOnce(bStub);\n</code></pre></li>\n</ul>\n\n<p>They work quite nice when you combine them with sinon sandboxes and common setup/teardown like the one provided by qUnit modules. </p>\n\n<ul>\n<li>In the common setup you create a new sandbox and the mock object literals for your dependencies.</li>\n<li>In the test you just specify the spies/stubs.</li>\n</ul>\n\n<p>Something like this (using the first option, but would work the same way if you were using the second option):</p>\n\n<pre><code>QUnit[\"module\"](\"fooModule\", {\n    setup: () =&gt; {\n        sandbox = sinon.sandbox.create();\n        dependencyMock = &lt;IDependency&gt;{};\n    },\n    teardown: () =&gt; {\n        sandbox.restore();\n    }\n});\n\ntest(\"My foo test\", () =&gt; {\n    dependencyMock.b = sandbox.stub().returns(true);\n\n    var myCodeUnderTest = new Bar(dependencyMock);\n    var result = myCodeUnderTest.doSomething();\n\n    equal(result, 42, \"Bar.doSomething returns 42 when IDependency.b returns true\");\n});\n</code></pre>\n\n<p>I would agree this is still not the ideal solution but it works reasonably well, doesn't require extra libraries and keeps the amount of extra code needed to a low manageable level.</p>\n"}, {"comments": [{"owner": {"reputation": 45036, "user_id": 20774, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/3e32e31d4c24c1558abd6567f2ab60ba?s=128&d=identicon&r=PG", "display_name": "James McMahon", "link": "https://stackoverflow.com/users/20774/james-mcmahon"}, "edited": false, "score": 2, "creation_date": 1570493953, "post_id": 37064529, "comment_id": 102923381, "body": "This is wrong, there is are few libraries that accomplish type safety, see other answers for a few examples."}], "tags": [], "owner": {"reputation": 988, "user_id": 2684980, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/RfsfZ.png?s=128&g=1", "display_name": "J&#248;rgen Tvedt", "link": "https://stackoverflow.com/users/2684980/j%c3%b8rgen-tvedt"}, "is_accepted": true, "score": 15, "last_activity_date": 1567059903, "last_edit_date": 1567059903, "creation_date": 1462510755, "answer_id": 37064529, "question_id": 37027776, "link": "https://stackoverflow.com/questions/37027776/how-to-stub-a-typescript-interface-type-definition/37064529#37064529", "title": "How to stub a Typescript-Interface / Type-definition?", "body": "<p>I think the short answer is that this is <strong>not possible</strong> in Typescript, as the language offers no compile-time or run-time \"reflection\".  It's not possible for a mock library to iterate the members of an interface.</p>\n\n<p>See thread: <a href=\"https://github.com/Microsoft/TypeScript/issues/1549\" rel=\"noreferrer\">https://github.com/Microsoft/TypeScript/issues/1549</a></p>\n\n<p>This is unfortunate for TDD developers, in which mocking a dependency is a central part of the development workflow.</p>\n\n<p>There are a number of techniques for quickly stubbing the methods, however, as described by the other answers.  These options might do the job, with a little mental adjustment.</p>\n\n<p>Edit: The Typescript Abstract Syntax Tree, AST, is a compile-time \"introspection\" - which could probably be used to generate mocks. However, I don't know if anyone has made a practical library.</p>\n"}, {"comments": [{"owner": {"reputation": 1681, "user_id": 870178, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/e0a902b9b106cfc9a991d2d05a5fe298?s=128&d=identicon&r=PG", "display_name": "Maus", "link": "https://stackoverflow.com/users/870178/maus"}, "edited": false, "score": 13, "creation_date": 1550797120, "post_id": 39018208, "comment_id": 96412861, "body": "Suggesting your personal fork of typescript doesn&#39;t actually answer the question-- it&#39;s usually assumed that when people mention a language in a question, they mean an official release of that language. Hence my downvote."}, {"owner": {"reputation": 773, "user_id": 4255183, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gduyN.png?s=128&g=1", "display_name": "pcan", "link": "https://stackoverflow.com/users/4255183/pcan"}, "reply_to_user": {"reputation": 1681, "user_id": 870178, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/e0a902b9b106cfc9a991d2d05a5fe298?s=128&d=identicon&r=PG", "display_name": "Maus", "link": "https://stackoverflow.com/users/870178/maus"}, "edited": false, "score": 2, "creation_date": 1550836638, "post_id": 39018208, "comment_id": 96427819, "body": "@Maus It&#39;s your opinion. The question asks &quot;How to stub a Typescript-Interface / Type-definition?&quot;. The answer provides a way to do this. If you read the official Typescript issues on github A LOT of people is trying to do this, but the team doesn&#39;t care at all, and does not give any means to do this in a clean way. I proved that this kind of thing is <i>feasible</i>: if many people ask for this feature, maybe the Typescript core team will listen to users requests."}, {"owner": {"reputation": 1681, "user_id": 870178, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/e0a902b9b106cfc9a991d2d05a5fe298?s=128&d=identicon&r=PG", "display_name": "Maus", "link": "https://stackoverflow.com/users/870178/maus"}, "edited": false, "score": 8, "creation_date": 1550851650, "post_id": 39018208, "comment_id": 96436765, "body": "I think it&#39;s impressive and important work,  but i still don&#39;t think it&#39;s a great answer for this question"}], "tags": [], "owner": {"reputation": 773, "user_id": 4255183, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gduyN.png?s=128&g=1", "display_name": "pcan", "link": "https://stackoverflow.com/users/4255183/pcan"}, "is_accepted": false, "score": -3, "last_activity_date": 1471618703, "last_edit_date": 1471618703, "creation_date": 1471523218, "answer_id": 39018208, "question_id": 37027776, "link": "https://stackoverflow.com/questions/37027776/how-to-stub-a-typescript-interface-type-definition/39018208#39018208", "title": "How to stub a Typescript-Interface / Type-definition?", "body": "<p><strong>Now it's possible</strong>. I released an enhanced version of the typescript compiler that makes interfaces metadata available at runtime. For example, you can write:</p>\n\n<pre><code>interface Something {\n\n}\n\ninterface SomethingElse {\n    id: number;\n}\n\ninterface MyService {\n    simpleMethod(): void;\n    doSomething(p1: number): string;\n    doSomethingElse&lt;T extends SomethingElse&gt;(p1: Something): T;\n}\n\nfunction printMethods(interf: Interface) {\n    let fields = interf.members.filter(m =&gt; m.type.kind === 'function'); //exclude methods.\n    for(let field of fields) {\n        let method = &lt;FunctionType&gt;field.type;\n        console.log(`Method name: ${method.name}`);\n        for(let signature of method.signatures) {\n            //you can go really deeper here, see the api: reflection.d.ts\n            console.log(`\\tSignature parameters: ${signature.parameters.length} - return type kind: ${signature.returns.kind}`);\n            if(signature.typeParameters) {\n                for(let typeParam of signature.typeParameters) {\n                    console.log(`\\tSignature type param: ${typeParam.name}`); //you can get constraints with typeParam.constraints\n                }\n            }\n            console.log('\\t-----')\n        }\n    }\n}\n\nprintMethods(MyService); //now can be used as a literal!!\n</code></pre>\n\n<p>and this is the output:</p>\n\n<pre><code>$ node main.js\nMethod name: simpleMethod\n        Signature parameters: 0 - return type kind: void\n        -----\nMethod name: doSomething\n        Signature parameters: 1 - return type kind: string\n        -----\nMethod name: doSomethingElse\n        Signature parameters: 1 - return type kind: parameter\n        Signature type param: T\n        -----\n</code></pre>\n\n<p>With all these information, you can build stubs programmatically, as you prefer.</p>\n\n<p>You can find my project <a href=\"https://www.npmjs.com/package/reflec-ts\" rel=\"nofollow\">here</a>.</p>\n"}, {"tags": [], "owner": {"reputation": 169, "user_id": 7227231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bfb0e24c9c67c7c285cdddc2ae9e9a34?s=128&d=identicon&r=PG&f=1", "display_name": "florinn", "link": "https://stackoverflow.com/users/7227231/florinn"}, "is_accepted": false, "score": 15, "last_activity_date": 1480452194, "creation_date": 1480452194, "answer_id": 40875412, "question_id": 37027776, "link": "https://stackoverflow.com/questions/37027776/how-to-stub-a-typescript-interface-type-definition/40875412#40875412", "title": "How to stub a Typescript-Interface / Type-definition?", "body": "<p>Latest <a href=\"https://github.com/florinn/typemoq\" rel=\"noreferrer\">TypeMoq</a> (ver 1.0.2) supports mocking TypeScript interfaces, as long as the runtime (nodejs/browser) supports the Proxy global object introduced by ES6.</p>\n\n<p>So, assuming <code>IDependency</code> looks like this:</p>\n\n<pre><code>interface IDependency {\n    a(): number;\n    b(): string;\n}\n</code></pre>\n\n<p>then mocking it with TypeMoq would be as simple as this:</p>\n\n<pre><code>import * as TypeMoq from \"typemoq\";\n...\nlet mock = TypeMoq.Mock.ofType&lt;IDependency&gt;();\n\nmock.setup(x =&gt; x.b()).returns(() =&gt; \"Hello World\");\n\nexpect(mock.object.a()).to.eq(undefined);\nexpect(mock.object.b()).to.eq(\"Hello World\");\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 85, "user_id": 7921799, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bf1e5cc24772122dc85c2cff466b8bd9?s=128&d=identicon&r=PG", "display_name": "dvabuzyarov", "link": "https://stackoverflow.com/users/7921799/dvabuzyarov"}, "is_accepted": false, "score": 0, "last_activity_date": 1493152926, "creation_date": 1493152926, "answer_id": 43620576, "question_id": 37027776, "link": "https://stackoverflow.com/questions/37027776/how-to-stub-a-typescript-interface-type-definition/43620576#43620576", "title": "How to stub a Typescript-Interface / Type-definition?", "body": "<p>You can try <a href=\"https://github.com/dvabuzyarov/moq.ts\" rel=\"nofollow noreferrer\">moq.ts</a>, but it depends on Proxy object</p>\n\n<pre><code>interface IDependency {\n  a(): number;\n  b(): string;\n}\n\n\nimport {Mock, It, Times} from 'moq.ts';\n\nconst mock = new Mock&lt;IDependency&gt;()\n  .setup(instance =&gt; instance.a())\n  .returns(1);\n\nmock.object().a(); //returns 1\n\nmock.verify(instance =&gt; instance.a());//pass\nmock.verify(instance =&gt; instance.b());//fail\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 45036, "user_id": 20774, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/3e32e31d4c24c1558abd6567f2ab60ba?s=128&d=identicon&r=PG", "display_name": "James McMahon", "link": "https://stackoverflow.com/users/20774/james-mcmahon"}, "is_accepted": false, "score": 0, "last_activity_date": 1570493844, "creation_date": 1570493844, "answer_id": 58278641, "question_id": 37027776, "link": "https://stackoverflow.com/questions/37027776/how-to-stub-a-typescript-interface-type-definition/58278641#58278641", "title": "How to stub a Typescript-Interface / Type-definition?", "body": "<p><a href=\"https://github.com/matthewmcnew/safe-mock\" rel=\"nofollow noreferrer\">SafeMock</a> is quite nice, but sadly seems like it is unmaintained now. <em>Full disclosure, I used to work with the author.</em></p>\n\n<pre><code>import SafeMock, {verify} from \"safe-mock\";\n\nconst mock = SafeMock.build&lt;SomeService&gt;();\n\n// specify return values only when mocks are called with certain arguments like this\nwhen(mock.someMethod(123, \"some arg\")).return(\"expectedReturn\");\n\n// specify thrown exceptions only when mocks are called with certain arguments like this\nwhen(mock.someMethod(123, \"some arg\")).throw(new Error(\"BRR! Its cold!\")); \n\n// specify that the mock returns rejected promises with a rejected value with reject\nwhen(mock.someMethod(123)).reject(new Error(\"BRR! Its cold!\"));\n\n//use verify.calledWith to check the exact arguments to a mocked method\nverify(mock.someMethod).calledWith(123, \"someArg\");\n</code></pre>\n\n<p>SafeMock won't let you return the wrong type from mocks.</p>\n\n<pre><code>interface SomeService {\n    createSomething(): string;\n}\n\nconst mock: Mock&lt;SomeService&gt; = SafeMock.build&lt;SomeService&gt;();\n\n//Won't compile createSomething returns a string\nwhen(mock.createSomething()).return(123); \n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 11126, "user_id": 136285, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/98d92168760c5b402a315926e4700d5f?s=128&d=identicon&r=PG", "display_name": "malat", "link": "https://stackoverflow.com/users/136285/malat"}, "is_accepted": false, "score": 1, "last_activity_date": 1610541586, "creation_date": 1610541586, "answer_id": 65702185, "question_id": 37027776, "link": "https://stackoverflow.com/questions/37027776/how-to-stub-a-typescript-interface-type-definition/65702185#65702185", "title": "How to stub a Typescript-Interface / Type-definition?", "body": "<p>From npmjs:</p>\n<ul>\n<li><a href=\"https://www.npmjs.com/package/ts-mockito#mocking-interfaces\" rel=\"nofollow noreferrer\">https://www.npmjs.com/package/ts-mockito#mocking-interfaces</a></li>\n</ul>\n<blockquote>\n<pre><code>Mocking interfaces\nYou can mock interfaces too, just instead of passing type to mock function, set mock function generic type Mocking interfaces requires Proxy implementation\n\nlet mockedFoo:Foo = mock&lt;FooInterface&gt;(); // instead of mock(FooInterface)\nconst foo: SampleGeneric&lt;FooInterface&gt; = instance(mockedFoo);\n</code></pre>\n</blockquote>\n<p>ts-mockito supports mocking interfaces since version 2.4.0:</p>\n<ul>\n<li><a href=\"https://github.com/NagRock/ts-mockito/releases/tag/v2.4.0\" rel=\"nofollow noreferrer\">https://github.com/NagRock/ts-mockito/releases/tag/v2.4.0</a></li>\n</ul>\n"}], "owner": {"reputation": 1768, "user_id": 1879408, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/e2b905d0c53e7514a5ef4508e14d0c6c?s=128&d=identicon&r=PG", "display_name": "user1879408", "link": "https://stackoverflow.com/users/1879408/user1879408"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 32497, "favorite_count": 8, "accepted_answer_id": 37064529, "answer_count": 8, "score": 35, "last_activity_date": 1610541586, "creation_date": 1462364695, "question_id": 37027776, "link": "https://stackoverflow.com/questions/37027776/how-to-stub-a-typescript-interface-type-definition", "title": "How to stub a Typescript-Interface / Type-definition?", "body": "<p>I work with Typescript on an AngularJS 1.X project. I use different Javascript libraries for different purposes. To unit-test my source I would like to stub some dependencies using the Typings (= interfaces). I don't want to use the ANY-type and neither to write an empty method for each interface method.</p>\n\n<p>Im looking for a way to do something like that:</p>\n\n<pre><code>let dependency = stub(IDependency);\nstub(dependency.b(), () =&gt; {console.log(\"Hello World\")});\ndependency.a(); // --&gt; Compile, do nothing, no exception\ndependency.b(); // --&gt; Compile, print \"Hello World\", no exception\n</code></pre>\n\n<p>The pain I have right now, is that I either use <code>any</code> and implement all methods which get called in my test case or I implement the interface and implement the full interface. That's too much useless code :(.</p>\n\n<p>How can I generate an object that has an empty implementation for each method and is typed? I use Sinon for mocking purposes, but im open to use other libraries too.</p>\n\n<p>PS: I know that Typescript erases the interfaces...but I still would like to solve that :).</p>\n"}, {"tags": ["typescript"], "comments": [{"owner": {"reputation": 4315, "user_id": 1768702, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/ced4cc517f215af04800f05f52eb310b?s=128&d=identicon&r=PG", "display_name": "yelsayed", "link": "https://stackoverflow.com/users/1768702/yelsayed"}, "edited": false, "score": 1, "creation_date": 1462360381, "post_id": 37026059, "comment_id": 61602249, "body": "Don&#39;t you need the bind that function? Otherwise its <code>this</code> will probably be <code>window</code>."}], "answers": [{"tags": [], "owner": {"reputation": 12083, "user_id": 681538, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/LNlya.jpg?s=128&g=1", "display_name": "Alex", "link": "https://stackoverflow.com/users/681538/alex"}, "is_accepted": true, "score": 1, "last_activity_date": 1462360608, "creation_date": 1462360608, "answer_id": 37026263, "question_id": 37026059, "link": "https://stackoverflow.com/questions/37026059/dynamically-set-values-into-this-in-typescript-class-constructor/37026263#37026263", "title": "Dynamically set values into &quot;this&quot; in typescript class constructor", "body": "<p>As Yasser commented, <code>this</code> is not bound to your DirectoryModel. Use <a href=\"https://basarat.gitbooks.io/typescript/content/docs/arrow-functions.html\" rel=\"nofollow\">arrow functions</a> to bind <code>this</code> to your instance:</p>\n\n<pre><code>class DirectoryModel\n{\n\n    public link_title: string\n    public link_desc: string\n\n    constructor(fields: any)\n    {\n        _.forOwn(fields, (value, key) =&gt; //This binds `this`\n        {\n            this[key] = value\n        })\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 4686, "user_id": 3118956, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/ae0f0f74eac8ee50c673d70f89f07437?s=128&d=identicon&r=PG&f=1", "display_name": "Robert Brax", "link": "https://stackoverflow.com/users/3118956/robert-brax"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 436, "favorite_count": 0, "accepted_answer_id": 37026263, "answer_count": 1, "score": 1, "last_activity_date": 1462360608, "creation_date": 1462360079, "question_id": 37026059, "link": "https://stackoverflow.com/questions/37026059/dynamically-set-values-into-this-in-typescript-class-constructor", "title": "Dynamically set values into &quot;this&quot; in typescript class constructor", "body": "<p>Here is a simplified class.\nI try to loop over key values in constructor, to dynamically assign values to this. But it doesn't work. Is it a syntax problem ? Or is it not possible ?</p>\n\n<pre><code>class DirectoryModel {\n\n    public link_title: string\n    public link_desc: string\n\n    constructor(fields: any) {\n        console.log(fields) // ok\n        _.forOwn(fields, function (value, key) {\n            console.log(key) // ok\n            console.log(value) // ok\n            this[key] = value // \"Cannot set property 'link_title' of undefined\"\n        })\n\n       // this.link_title = fields.link_title\n       // this.link_desc = fields.link_desc\n    }\n}\n</code></pre>\n"}, {"tags": ["typescript", "angular", "export"], "answers": [{"comments": [{"owner": {"reputation": 73, "user_id": 4919345, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-1nTsOwcjqtk/AAAAAAAAAAI/AAAAAAAAAPw/g02H8aY6tLI/photo.jpg?sz=128", "display_name": "Snehasis Mohapatra", "link": "https://stackoverflow.com/users/4919345/snehasis-mohapatra"}, "edited": false, "score": 0, "creation_date": 1462361331, "post_id": 37025754, "comment_id": 61602944, "body": "Actually the config variable is going to get used outside the class. For ex : @Component({     selector: &#39;app-page&#39;,     templateUrl: &quot;ui/&quot;+envConfig.platform+&quot;.html&quot; })"}, {"owner": {"reputation": 483726, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "reply_to_user": {"reputation": 73, "user_id": 4919345, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-1nTsOwcjqtk/AAAAAAAAAAI/AAAAAAAAAPw/g02H8aY6tLI/photo.jpg?sz=128", "display_name": "Snehasis Mohapatra", "link": "https://stackoverflow.com/users/4919345/snehasis-mohapatra"}, "edited": false, "score": 0, "creation_date": 1462361825, "post_id": 37025754, "comment_id": 61603290, "body": "Then you are probably looking for something like <a href=\"http://stackoverflow.com/questions/36434546/using-require-to-set-templateurl-in-angular-2-while-getting-error\" title=\"using require to set templateurl in angular 2 while getting error\">stackoverflow.com/questions/36434546/&hellip;</a>"}, {"owner": {"reputation": 73, "user_id": 4919345, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-1nTsOwcjqtk/AAAAAAAAAAI/AAAAAAAAAPw/g02H8aY6tLI/photo.jpg?sz=128", "display_name": "Snehasis Mohapatra", "link": "https://stackoverflow.com/users/4919345/snehasis-mohapatra"}, "edited": false, "score": 0, "creation_date": 1462362051, "post_id": 37025754, "comment_id": 61603434, "body": "No, this is Fine, what my issue is the Path which needs to get required in the templateURI is dynamic which will come from the config variable for Ex :  @Component({ selector: &#39;app-page&#39;, templateUrl: &quot;ui/&quot;+config.platform+&quot;.html&quot; })"}, {"owner": {"reputation": 483726, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "reply_to_user": {"reputation": 73, "user_id": 4919345, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-1nTsOwcjqtk/AAAAAAAAAAI/AAAAAAAAAPw/g02H8aY6tLI/photo.jpg?sz=128", "display_name": "Snehasis Mohapatra", "link": "https://stackoverflow.com/users/4919345/snehasis-mohapatra"}, "edited": false, "score": 0, "creation_date": 1462362609, "post_id": 37025754, "comment_id": 61603824, "body": "I guess you can create property on <code>window</code> and load from there. Before bootstrap <code>window.myConfig = {url:&quot;xyz.com&quot;};</code> and then use it like <code>window.myConfig.url</code>"}, {"owner": {"reputation": 73, "user_id": 4919345, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-1nTsOwcjqtk/AAAAAAAAAAI/AAAAAAAAAPw/g02H8aY6tLI/photo.jpg?sz=128", "display_name": "Snehasis Mohapatra", "link": "https://stackoverflow.com/users/4919345/snehasis-mohapatra"}, "edited": false, "score": 0, "creation_date": 1462362717, "post_id": 37025754, "comment_id": 61603912, "body": "Yes I am using it like this right now and It works fine, but the issue is it shows error or tslint so is not a valid code, there must be a way to do so. I tried below stuffs but not working. <a href=\"http://stackoverflow.com/questions/27417107/how-use-an-external-non-typescript-library-from-typescript-without-d-ts\" title=\"how use an external non typescript library from typescript without d ts\">stackoverflow.com/questions/27417107/&hellip;</a>"}, {"owner": {"reputation": 483726, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "reply_to_user": {"reputation": 73, "user_id": 4919345, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-1nTsOwcjqtk/AAAAAAAAAAI/AAAAAAAAAPw/g02H8aY6tLI/photo.jpg?sz=128", "display_name": "Snehasis Mohapatra", "link": "https://stackoverflow.com/users/4919345/snehasis-mohapatra"}, "edited": false, "score": 0, "creation_date": 1462362958, "post_id": 37025754, "comment_id": 61604069, "body": "tslint just doesn&#39;t know about <code>window.xxx</code> that doesn&#39;t mean it&#39;s invalid. You can make it known but I don&#39;t use TS/JS (only Dart) and don&#39;t know about these details."}, {"owner": {"reputation": 73, "user_id": 4919345, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-1nTsOwcjqtk/AAAAAAAAAAI/AAAAAAAAAPw/g02H8aY6tLI/photo.jpg?sz=128", "display_name": "Snehasis Mohapatra", "link": "https://stackoverflow.com/users/4919345/snehasis-mohapatra"}, "edited": false, "score": 0, "creation_date": 1462363340, "post_id": 37025754, "comment_id": 61604355, "body": "Ok, thanks for your time to write , I will keep trying some other ways"}], "tags": [], "owner": {"reputation": 483726, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "is_accepted": false, "score": 0, "last_activity_date": 1462359378, "creation_date": 1462359378, "answer_id": 37025754, "question_id": 37025710, "link": "https://stackoverflow.com/questions/37025710/angular-2-typescript-how-to-export-external-js-variable/37025754#37025754", "title": "Angular 2 Typescript : How to export external JS variable", "body": "<p>You can provide it using Angulars DI using a string key (or <code>OpaqueToken</code>) and request it by <code>@Inject('keyName')</code>:</p>\n\n<pre><code>var config = {url:\"xyz.com\"};\n\nbootstrap(AppComponent, [provide('myConfig', {useValue: config})]);\n</code></pre>\n\n\n\n<pre><code>export class SomeComponent { // or SomeService\n  constructor(@Inject('myConfig') private config) {}\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 204459, "user_id": 390330, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/1400be56ff17549b926dd3260da4a494?s=128&d=identicon&r=PG", "display_name": "basarat", "link": "https://stackoverflow.com/users/390330/basarat"}, "is_accepted": false, "score": 0, "last_activity_date": 1462410079, "creation_date": 1462410079, "answer_id": 37040602, "question_id": 37025710, "link": "https://stackoverflow.com/questions/37025710/angular-2-typescript-how-to-export-external-js-variable/37040602#37040602", "title": "Angular 2 Typescript : How to export external JS variable", "body": "<blockquote>\n  <p>I want to access this config parameters through out my application.</p>\n</blockquote>\n\n<p>Just export <code>config.ts</code>: </p>\n\n<pre><code>export const config = {url:\"xyz.com\"};\n</code></pre>\n\n<p>And then import as needed: </p>\n\n<pre><code>import {config} from \"./path/to/config\";\n</code></pre>\n\n<p>And yes. No <code>.ts</code> at the end. </p>\n"}, {"tags": [], "owner": {"reputation": 174, "user_id": 7454029, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d6d2a7fdbe542790e6e4a34758f18742?s=128&d=identicon&r=PG", "display_name": "Kyrul", "link": "https://stackoverflow.com/users/7454029/kyrul"}, "is_accepted": false, "score": 4, "last_activity_date": 1485155066, "last_edit_date": 1485155066, "creation_date": 1485099974, "answer_id": 41792934, "question_id": 37025710, "link": "https://stackoverflow.com/questions/37025710/angular-2-typescript-how-to-export-external-js-variable/41792934#41792934", "title": "Angular 2 Typescript : How to export external JS variable", "body": "<ol>\n<li>First you will have to allowJs to true in the tsconfig.json compiler options: </li>\n</ol>\n\n<p>{\n  \"compilerOptions\": {\n    \"allowJs\": true,</p>\n\n<ol start=\"2\">\n<li>And then, </li>\n</ol>\n\n<p>create a javascript file within the app folder. You can create the javascript file in any folder or any component. For example app/javascriptTest.js</p>\n\n<ol start=\"3\">\n<li>In app/javascriptTest.js for example you want to export a variable, A, In the blank app/javascriptTest.js file you type:</li>\n</ol>\n\n<p>export var A = 2; </p>\n\n<ol start=\"4\">\n<li>You go to the typescript file you want to import the variable A to, for example in app/componentName/header.ts\nyou import at the top with:</li>\n</ol>\n\n<p>import { A } from \"../javascriptTest.js\"</p>\n\n<ol start=\"5\">\n<li>Finally within app/componentName/header.ts typescript file you can use the A variable as it is. </li>\n</ol>\n\n<p>let x=\"Hello \"+A;</p>\n\n<p>I hope that answers your question. </p>\n"}], "owner": {"reputation": 73, "user_id": 4919345, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-1nTsOwcjqtk/AAAAAAAAAAI/AAAAAAAAAPw/g02H8aY6tLI/photo.jpg?sz=128", "display_name": "Snehasis Mohapatra", "link": "https://stackoverflow.com/users/4919345/snehasis-mohapatra"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2530, "favorite_count": 0, "answer_count": 3, "score": 1, "last_activity_date": 1485155066, "creation_date": 1462359258, "last_edit_date": 1462359491, "question_id": 37025710, "link": "https://stackoverflow.com/questions/37025710/angular-2-typescript-how-to-export-external-js-variable", "title": "Angular 2 Typescript : How to export external JS variable", "body": "<p>I have a Configuration JS file where some config variables are there.\nFor ex :</p>\n\n<pre><code>var config = {url:\"xyz.com\"};\n</code></pre>\n\n<p>I want to access this config parameters through out my application.</p>\n\n<p>As export is the right way to export anything i Tried \n    export var appConfig = config</p>\n\n<p>but its giving error saying can not get property url of undefined.</p>\n"}, {"tags": ["typescript", "angular"], "comments": [{"owner": {"reputation": 483726, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1462357899, "post_id": 37024925, "comment_id": 61600427, "body": "What&#39;s the problem? Does <code>console.log(photos);</code> print anything? Do you get an error message in the browser console?"}, {"owner": {"reputation": 942, "user_id": 3557041, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/ad0edbeec861da7e38fdd0ee82ab4334?s=128&d=identicon&r=PG&f=1", "display_name": "Qasim Khokhar", "link": "https://stackoverflow.com/users/3557041/qasim-khokhar"}, "reply_to_user": {"reputation": 483726, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1462357952, "post_id": 37024925, "comment_id": 61600471, "body": "yes i can see my data on console."}], "answers": [{"tags": [], "owner": {"reputation": 168939, "user_id": 5485167, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qWD9t.jpg?s=128&g=1", "display_name": "yurzui", "link": "https://stackoverflow.com/users/5485167/yurzui"}, "is_accepted": true, "score": 2, "last_activity_date": 1462361621, "last_edit_date": 1462361621, "creation_date": 1462360937, "answer_id": 37026378, "question_id": 37024925, "link": "https://stackoverflow.com/questions/37024925/how-to-bind-ajax-result-in-view-using-fetchapi-angular2-typescript/37026378#37026378", "title": "How to Bind Ajax Result in View using fetchApi angular2 TYpescript?", "body": "<p>I think that your mistake is located here:</p>\n\n<pre><code>this.mallspk.searchPhotos(query).then((photos)=&gt;{\n  this.photos = photos.data.collection.brands; &lt;== collection isn't contained property brands\n});\n</code></pre>\n\n<p>Try change code the following:</p>\n\n<pre><code>this.photos = photos.data.collection;\n</code></pre>\n"}], "owner": {"reputation": 942, "user_id": 3557041, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/ad0edbeec861da7e38fdd0ee82ab4334?s=128&d=identicon&r=PG&f=1", "display_name": "Qasim Khokhar", "link": "https://stackoverflow.com/users/3557041/qasim-khokhar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 553, "favorite_count": 0, "accepted_answer_id": 37026378, "answer_count": 1, "score": 2, "last_activity_date": 1462361621, "creation_date": 1462357336, "question_id": 37024925, "link": "https://stackoverflow.com/questions/37024925/how-to-bind-ajax-result-in-view-using-fetchapi-angular2-typescript", "title": "How to Bind Ajax Result in View using fetchApi angular2 TYpescript?", "body": "<p>I am bulding my first angular2 app using typescript. i can fetch results using fetchApi but I i am unable to identify. please guid me to present my data to views. thank you.</p>\n\n<p>App.components.ts</p>\n\n<pre><code>///&lt;reference path=\"../node_modules/angular2/typings/browser.d.ts\"/&gt;\nimport {Component} from \"angular2/core\";\n\nimport {Mallspk} from './mallspk'\nimport {NgFor} from \"angular2/common\";\nexport class Hero{\n    id:number;\n    name:string;\n}\n\n\n\n@Component({\n    selector: 'my-app',\n    template: '&lt;input type=\"text\" [(ngModel)]=\"title\" /&gt;&lt;h1&gt;{{title}}&lt;/h1&gt;'\n})\nexport class AppComponent\n{\n    title=\"Tour of Heroes\";\n    hero: Hero={\n        id:1,\n        name:\"Qasim\"\n    };\n}\n\n\n@Component({\n    selector:\"my-app-selector\",\n    bindings:[Mallspk],\n    template:`\n  &lt;input type=\"search\" [(ngModel)]=\"search\" #photoQuery /&gt;\n\n  &lt;button (click)=\"searchPhotos(photoQuery.value)\"&gt;Search photos&lt;/button&gt;\n  &lt;ul&gt;\n\n    &lt;li *ngFor=\"#photo of photos\"&gt;\n        &lt;table&gt;\n            &lt;tr&gt;\n                &lt;td&gt;\n                    {{photo.title}}\n                &lt;/td&gt;\n                &lt;td&gt;\n                    photo.isActive\n                &lt;/td&gt;\n                &lt;td&gt;\n                   &lt;img [src]=\"photo.imageUrl\" width=\"250px\"&gt;\n                &lt;/td&gt;\n            &lt;/tr&gt;\n        &lt;/table&gt;\n\n    &lt;/li&gt;\n  &lt;/ul&gt;\n  `,\n    directives: [NgFor]\n})\n\nexport class PhotoView{\n    mallspk=null;\n    photos=null;\n    search=null\n    constructor(mallspk:Mallspk){\n        this.mallspk=mallspk;\n        this.search=\"text\"\n    }\n\n    searchPhotos(query){\n        this.mallspk.searchPhotos(query).then((photos)=&gt;{\n            console.log(photos);\n            this.photos=photos.data.collection.brands;\n        });\n    }\n}\n</code></pre>\n\n<p>main.ts</p>\n\n<pre><code>import {bootstrap} from \"angular2/platform/browser\";\nimport {AppComponent, PhotoView} from \"./app.components\";\n\nbootstrap(AppComponent);\nbootstrap(PhotoView)\n</code></pre>\n\n<p>insex.html</p>\n\n<pre><code>&lt;html&gt;\n&lt;head&gt;\n    &lt;title&gt;Angular 2 QuickStart&lt;/title&gt;\n    &lt;meta name=\"viewport\" content=\"width=device-width, initial-scale=1\"&gt;\n    &lt;link rel=\"stylesheet\" href=\"style.css\"&gt;\n    &lt;!-- 1. Load libraries --&gt;\n    &lt;!-- IE required polyfills, in this exact order --&gt;\n    &lt;script src=\"node_modules/es6-shim/es6-shim.min.js\"&gt;&lt;/script&gt;\n    &lt;script src=\"node_modules/angular2/es6/dev/src/testing/shims_for_IE.js\"&gt;&lt;/script&gt;\n\n    &lt;script src=\"node_modules/angular2/bundles/angular2-polyfills.js\"&gt;&lt;/script&gt;\n    &lt;script src=\"node_modules/systemjs/dist/system.src.js\"&gt;&lt;/script&gt;\n    &lt;script src=\"node_modules/rxjs/bundles/Rx.js\"&gt;&lt;/script&gt;\n    &lt;script src=\"node_modules/angular2/bundles/angular2.dev.js\"&gt;&lt;/script&gt;\n    &lt;!-- 2. Configure SystemJS --&gt;\n    &lt;script&gt;\n        System.config({\n            packages: {\n                app: {\n                    format: 'register',\n                    defaultExtension: 'js'\n                }\n            }\n        });\n        System.import('app/main')\n                .then(null, console.error.bind(console));\n    &lt;/script&gt;\n&lt;/head&gt;\n&lt;!-- 3. Display the application --&gt;\n&lt;body&gt;\n&lt;my-app&gt;Loading...&lt;/my-app&gt;\n&lt;br&gt;\n&lt;my-app-selector&gt;&lt;/my-app-selector&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p>mallspk.ts</p>\n\n<pre><code>declare var fetch;\nexport class Mallspk{\n    searchPhotos(query) {\n        return fetch(`http://www.malls.pk/api/index.php/malls/mall?city_name=Lahore&amp;city_name=Lahore&amp;lat=12&amp;lng=23`).then(function(response) {\n\n            return response.json();\n        });\n    }\n\n}\n</code></pre>\n"}, {"tags": ["asp.net", "angularjs", "json", "typescript", "angular"], "comments": [{"owner": {"reputation": 25995, "user_id": 5152732, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-eL0xfQom3xQ/AAAAAAAAAAI/AAAAAAAAB1E/j1B2Mcgvt6M/photo.jpg?sz=128", "display_name": "toskv", "link": "https://stackoverflow.com/users/5152732/toskv"}, "edited": false, "score": 1, "creation_date": 1462353567, "post_id": 37023211, "comment_id": 61597349, "body": "I&#39;m pretty sure that&#39;s not how you bind a string from a controller in a view in angular2. :)"}], "answers": [{"comments": [{"owner": {"reputation": 11, "user_id": 6289709, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dc7e9c231143b22871290c6e6eba01e9?s=128&d=identicon&r=PG&f=1", "display_name": "leokadia", "link": "https://stackoverflow.com/users/6289709/leokadia"}, "edited": false, "score": 0, "creation_date": 1462357965, "post_id": 37023876, "comment_id": 61600481, "body": "Thank  you for making a plunker for me, but the code still does not work in my Visual Studio version, no errors so."}, {"owner": {"reputation": 11, "user_id": 6289709, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dc7e9c231143b22871290c6e6eba01e9?s=128&d=identicon&r=PG&f=1", "display_name": "leokadia", "link": "https://stackoverflow.com/users/6289709/leokadia"}, "edited": false, "score": 0, "creation_date": 1462359659, "post_id": 37023876, "comment_id": 61601714, "body": "yes I have implemented your code but my visual studio version still does not work"}, {"owner": {"reputation": 11, "user_id": 6289709, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dc7e9c231143b22871290c6e6eba01e9?s=128&d=identicon&r=PG&f=1", "display_name": "leokadia", "link": "https://stackoverflow.com/users/6289709/leokadia"}, "edited": false, "score": 0, "creation_date": 1462359712, "post_id": 37023876, "comment_id": 61601765, "body": "With not working I mean the welcome message within &lt;app-main&gt; &lt;/app-main&gt;is not displaying"}, {"owner": {"reputation": 25995, "user_id": 5152732, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-eL0xfQom3xQ/AAAAAAAAAAI/AAAAAAAAB1E/j1B2Mcgvt6M/photo.jpg?sz=128", "display_name": "toskv", "link": "https://stackoverflow.com/users/5152732/toskv"}, "reply_to_user": {"reputation": 11, "user_id": 6289709, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dc7e9c231143b22871290c6e6eba01e9?s=128&d=identicon&r=PG&f=1", "display_name": "leokadia", "link": "https://stackoverflow.com/users/6289709/leokadia"}, "edited": false, "score": 1, "creation_date": 1462360061, "post_id": 37023876, "comment_id": 61602012, "body": "@leokadia how/where are you configuring systemjs to load the application? You seem to have left that out in your question. Or maybe you haven&#39;t configured it at all and the code is just not loaded? :P"}, {"owner": {"reputation": 11, "user_id": 6289709, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dc7e9c231143b22871290c6e6eba01e9?s=128&d=identicon&r=PG&f=1", "display_name": "leokadia", "link": "https://stackoverflow.com/users/6289709/leokadia"}, "edited": false, "score": 0, "creation_date": 1462360751, "post_id": 37023876, "comment_id": 61602517, "body": "I have a tsconfig.json file"}, {"owner": {"reputation": 11, "user_id": 6289709, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dc7e9c231143b22871290c6e6eba01e9?s=128&d=identicon&r=PG&f=1", "display_name": "leokadia", "link": "https://stackoverflow.com/users/6289709/leokadia"}, "edited": false, "score": 0, "creation_date": 1462360784, "post_id": 37023876, "comment_id": 61602544, "body": "{     &quot;compileOnSave&quot;: true,    &quot;compilerOptions&quot;: {      &quot;watch&quot;:  true,     &quot;noImplicitAny&quot;: false,     &quot;noEmitOnError&quot;: true,     &quot;removeComments&quot;: false,     &quot;sourceMap&quot;: true,     &quot;target&quot;: &quot;ES5&quot;,     &quot;module&quot;: &quot;system&quot;,     &quot;moduleResolution&quot;: &quot;node&quot;,     &quot;emitDecoratorMetadata&quot;: true,     &quot;experimentalDecorators&quot;: true       },        &quot;exclude&quot;: [         &quot;./node_modules&quot;,        &quot;./typings/main&quot;,        &quot;./typings/main.d.ts&quot;      ]     }"}, {"owner": {"reputation": 33279, "user_id": 5706293, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0Dyrv.jpg?s=128&g=1", "display_name": "eko", "link": "https://stackoverflow.com/users/5706293/eko"}, "reply_to_user": {"reputation": 11, "user_id": 6289709, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dc7e9c231143b22871290c6e6eba01e9?s=128&d=identicon&r=PG&f=1", "display_name": "leokadia", "link": "https://stackoverflow.com/users/6289709/leokadia"}, "edited": false, "score": 0, "creation_date": 1462360839, "post_id": 37023876, "comment_id": 61602579, "body": "@leokadia you also need a systemjs config. Check the plunkr index.html"}, {"owner": {"reputation": 11, "user_id": 6289709, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dc7e9c231143b22871290c6e6eba01e9?s=128&d=identicon&r=PG&f=1", "display_name": "leokadia", "link": "https://stackoverflow.com/users/6289709/leokadia"}, "edited": false, "score": 0, "creation_date": 1462361190, "post_id": 37023876, "comment_id": 61602835, "body": "&lt;script&gt;          System.config({ packages: { &#39;./scripts&#39;: { format: &#39;register&#39;, defaultExtension: &#39;js&#39; } } });          System.import(&#39;./scripts/boot&#39;).then(null, console.error.bind(console));      &lt;/script&gt;"}, {"owner": {"reputation": 33279, "user_id": 5706293, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0Dyrv.jpg?s=128&g=1", "display_name": "eko", "link": "https://stackoverflow.com/users/5706293/eko"}, "reply_to_user": {"reputation": 11, "user_id": 6289709, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dc7e9c231143b22871290c6e6eba01e9?s=128&d=identicon&r=PG&f=1", "display_name": "leokadia", "link": "https://stackoverflow.com/users/6289709/leokadia"}, "edited": false, "score": 0, "creation_date": 1462361271, "post_id": 37023876, "comment_id": 61602897, "body": "@leokadia What happens when you just change your template with <code>template: &#39;&lt;h1&gt;Hello World!&lt;&#47;h1&gt;&#39;</code> does it display?"}, {"owner": {"reputation": 11, "user_id": 6289709, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dc7e9c231143b22871290c6e6eba01e9?s=128&d=identicon&r=PG&f=1", "display_name": "leokadia", "link": "https://stackoverflow.com/users/6289709/leokadia"}, "edited": false, "score": 0, "creation_date": 1462361863, "post_id": 37023876, "comment_id": 61603314, "body": "The code does not seem to load my component but even in debug mode I do not get any errors"}, {"owner": {"reputation": 33279, "user_id": 5706293, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0Dyrv.jpg?s=128&g=1", "display_name": "eko", "link": "https://stackoverflow.com/users/5706293/eko"}, "edited": false, "score": 0, "creation_date": 1462362112, "post_id": 37023876, "comment_id": 61603469, "body": "Is your boot.ts and app.component.ts in the same directory?"}], "tags": [], "owner": {"reputation": 33279, "user_id": 5706293, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0Dyrv.jpg?s=128&g=1", "display_name": "eko", "link": "https://stackoverflow.com/users/5706293/eko"}, "is_accepted": false, "score": 3, "last_activity_date": 1462354900, "last_edit_date": 1462354900, "creation_date": 1462354581, "answer_id": 37023876, "question_id": 37023211, "link": "https://stackoverflow.com/questions/37023211/typescript-does-not-seem-to-work-no-errors-in-code-but-component-does-not-displ/37023876#37023876", "title": "Typescript does not seem to work, no errors in code but component does not display", "body": "<p>I've made a plunkr for you <a href=\"http://plnkr.co/edit/oMOvCgFzqtnYYPcE2U6j?p=preview\" rel=\"nofollow\">http://plnkr.co/edit/oMOvCgFzqtnYYPcE2U6j?p=preview</a></p>\n\n<p>As @toskv suggested binding a string does not work like that. You define the string as a field in your component. And use it with double <code>{{msg}}</code> tags in your template. Here's the short version:</p>\n\n<pre><code>@Component({\nselector: 'app-main',\ntemplate: `&lt;h1&gt;{{msg}}&lt;/h1&gt;`\n}) \nexport class AppComponent {\n  msg = Welcome.GetWelcome();      \n}\n</code></pre>\n"}], "owner": {"reputation": 11, "user_id": 6289709, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dc7e9c231143b22871290c6e6eba01e9?s=128&d=identicon&r=PG&f=1", "display_name": "leokadia", "link": "https://stackoverflow.com/users/6289709/leokadia"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 177, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1462354900, "creation_date": 1462352923, "question_id": 37023211, "link": "https://stackoverflow.com/questions/37023211/typescript-does-not-seem-to-work-no-errors-in-code-but-component-does-not-displ", "title": "Typescript does not seem to work, no errors in code but component does not display", "body": "<p>I have done a small test angular2 application with typescript. I do not have any errors but my generated js file is not loading. Here is my code;</p>\n\n<p>in default.aspx page I have my selector:</p>\n\n<pre><code> &lt;asp:Content ContentPlaceHolderID=\"PlaceHolderMain\" runat=\"server\"&gt;\n &lt;app-main&gt;Loading...&lt;/app-main&gt;\n &lt;/asp:Content&gt;\n</code></pre>\n\n<p>boot.ts</p>\n\n<pre><code>import {bootstrap} from 'angular2/platform/browser'\nimport {AppComponent} from './app.component'\nbootstrap(AppComponent)\n</code></pre>\n\n<p>app.component.ts</p>\n\n<pre><code>import {Welcome} from './app.module'\nimport {Component} from 'angular2/core'\n@Component({\nselector: 'app-main',\ntemplate: `&lt;h1&gt;${Welcome.GetWelcome()}&lt;/h1&gt;`\n}) export class AppComponent { }\n</code></pre>\n\n<p>app.module.ts</p>\n\n<pre><code>export class Welcome {\nstatic GetWelcome(): string {\n    return \"Hello World\";\n}\n}\n</code></pre>\n\n<p>tsconfig.json</p>\n\n<pre><code>{\n\"compileOnSave\": true,\n\"compilerOptions\": {\n\"watch\":  true,\n\"noImplicitAny\": false,\n\"noEmitOnError\": true,\n\"removeComments\": false,\n\"sourceMap\": true,\n\"target\": \"ES5\",\n\"module\": \"system\",\n\"moduleResolution\": \"node\",\n\"emitDecoratorMetadata\": true,\n\"experimentalDecorators\": true\n },\n \"exclude\": [\n \"./node_modules\",\n \"./typings/main\",\n \"./typings/main.d.ts\"\n ]\n }\n</code></pre>\n\n<p>The code is compiling but the Welcome message is not loading in the app-main. What am I doing wrong here? I am working with Visual Studio 2015, Version 14.0</p>\n"}, {"tags": ["javascript", "typescript", "mobx"], "comments": [{"owner": {"reputation": 4537, "user_id": 1983583, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bdbeb02a7fe50b769e67e0c076b33c54?s=128&d=identicon&r=PG", "display_name": "mweststrate", "link": "https://stackoverflow.com/users/1983583/mweststrate"}, "edited": false, "score": 0, "creation_date": 1462353429, "post_id": 37023109, "comment_id": 61597243, "body": "Can you indicate which variables are decorated as observable? I would expect the autorun not to fire at all in your current setup."}, {"owner": {"reputation": 2327, "user_id": 3656447, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/oKUrS.jpg?s=128&g=1", "display_name": "dagatsoin", "link": "https://stackoverflow.com/users/3656447/dagatsoin"}, "reply_to_user": {"reputation": 4537, "user_id": 1983583, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bdbeb02a7fe50b769e67e0c076b33c54?s=128&d=identicon&r=PG", "display_name": "mweststrate", "link": "https://stackoverflow.com/users/1983583/mweststrate"}, "edited": false, "score": 0, "creation_date": 1462359099, "post_id": 37023109, "comment_id": 61601295, "body": "And <code>coordinates</code> is probably fired indeed during the construction or maybe autorun is run once for initialization purpose?"}], "answers": [{"comments": [{"owner": {"reputation": 2327, "user_id": 3656447, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/oKUrS.jpg?s=128&g=1", "display_name": "dagatsoin", "link": "https://stackoverflow.com/users/3656447/dagatsoin"}, "edited": false, "score": 0, "creation_date": 1462364720, "post_id": 37026768, "comment_id": 61605321, "body": "I want to prevent autorun to trigger its function without observable change. Because present() use some instance variables that are not usable before the end of the constructor call."}, {"owner": {"reputation": 2327, "user_id": 3656447, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/oKUrS.jpg?s=128&g=1", "display_name": "dagatsoin", "link": "https://stackoverflow.com/users/3656447/dagatsoin"}, "edited": false, "score": 0, "creation_date": 1462364781, "post_id": 37026768, "comment_id": 61605360, "body": "Autorun behavior is to run once even its dependencies has not changed. Is not?"}, {"owner": {"reputation": 2327, "user_id": 3656447, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/oKUrS.jpg?s=128&g=1", "display_name": "dagatsoin", "link": "https://stackoverflow.com/users/3656447/dagatsoin"}, "edited": false, "score": 0, "creation_date": 1462365231, "post_id": 37026768, "comment_id": 61605719, "body": "I mean at initialization."}, {"owner": {"reputation": 2327, "user_id": 3656447, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/oKUrS.jpg?s=128&g=1", "display_name": "dagatsoin", "link": "https://stackoverflow.com/users/3656447/dagatsoin"}, "edited": false, "score": 0, "creation_date": 1462365847, "post_id": 37026768, "comment_id": 61606202, "body": "Correction: if I set <code>_initialized</code> as an observable I will run in the same problem as autorun will be fired before the end of the constructor call. I will simply wait for the service to send another coordinates change."}, {"owner": {"reputation": 2327, "user_id": 3656447, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/oKUrS.jpg?s=128&g=1", "display_name": "dagatsoin", "link": "https://stackoverflow.com/users/3656447/dagatsoin"}, "edited": false, "score": 0, "creation_date": 1462369013, "post_id": 37026768, "comment_id": 61608777, "body": "smart! I was close. Thx you. Although I think I was looking for the firstRun proposal after all."}], "tags": [], "owner": {"reputation": 4537, "user_id": 1983583, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bdbeb02a7fe50b769e67e0c076b33c54?s=128&d=identicon&r=PG", "display_name": "mweststrate", "link": "https://stackoverflow.com/users/1983583/mweststrate"}, "is_accepted": true, "score": 3, "last_activity_date": 1462366763, "last_edit_date": 1462366763, "creation_date": 1462362083, "answer_id": 37026768, "question_id": 37023109, "link": "https://stackoverflow.com/questions/37023109/how-to-yield-mobx-autorun-to-prevent-firing-in-class-constructor/37026768#37026768", "title": "How to yield Mobx.autorun to prevent firing in class constructor?", "body": "<p>I think this is a fine approach to the problem, however the initialized field should be observable as well. Otherwise changing <code>_initialized</code> will not cause the autorun to re-run. </p>\n\n<p>But in that case I'm not sure what the initialized variable exactly achieves in your, because your first statement after the autorun is to set initialized to true?</p>\n\n<p>So i'm not entirely sure what you are to achieve: postpone the autorun / <code>present</code> call to the end of the constructor, or to skip the first <code>present</code> call?</p>\n\n<p><strong>Updated answer</strong></p>\n\n<p>If you want to prevent the side effect (sending <code>present</code> in this case) there is a simple pattern for that. The clue is to make sure that you compute any value which is needed for the side effect, but don't trigger the side effect yourself. So in your example this would look </p>\n\n<pre><code>constructor(store:IDomainStore){\n    let firstRun = true;\n    this._moveDisposer = autorun(()=&gt;{\n        // make sure all information is tracked\n        const presenceInfo = &lt;IIntent&gt;{\n            fromId: 'GeoLocation.service',\n            toIds: [Meteor.userId()],\n            wish: actions.playerActions.types.CHANGE_PLAYER_GEO_COORDINATES,\n            data: [System.GeolocationService.coordinates.lng, System.GeolocationService.coordinates.lat]\n        }\n        // but prevent the side effect in the first run\n        if(!firstRun) {\n            this.present(presenceInfo);\n        } else {\n            firstRun = false;\n        }\n    });\n  }\n</code></pre>\n\n<p>(note that the flag might not be needed in the future anymore, as there is an existing <a href=\"https://github.com/mobxjs/mobx/issues/209\" rel=\"nofollow\">proposal</a> to pass a param <code>firstRun</code> to the autorunned function).</p>\n"}], "owner": {"reputation": 2327, "user_id": 3656447, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/oKUrS.jpg?s=128&g=1", "display_name": "dagatsoin", "link": "https://stackoverflow.com/users/3656447/dagatsoin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 685, "favorite_count": 0, "accepted_answer_id": 37026768, "answer_count": 1, "score": 2, "last_activity_date": 1462366763, "creation_date": 1462352616, "last_edit_date": 1462358915, "question_id": 37023109, "link": "https://stackoverflow.com/questions/37023109/how-to-yield-mobx-autorun-to-prevent-firing-in-class-constructor", "title": "How to yield Mobx.autorun to prevent firing in class constructor?", "body": "<p>In this class I use a initialized bool state to yield the Mobx.autorun execution. Otherwize 'this' is not totally assigned and leads to errors. Is there another/cleaner way to do this?</p>\n\n<pre><code>class GameMaster{\n\n  private _initialized:boolean = false;\n  private _store:IDomainStore;\n  private _moveDisposer:Lambda;\n\n  /**\n   *\n   * @param store - client or server store\n   */\n    constructor(store:IDomainStore){\n        this._store = store;\n        console.log(this._store);\n        //todo abstract services to decouple client device from GameMaster because it is also used on the server.\n        this._moveDisposer = autorun(()=&gt;{\n          // prevent firing in the constructor\n          if(this._initialized) {\n            this.present(\n              &lt;IIntent&gt;{\n                fromId: 'GeoLocation.service',\n                toIds: [Meteor.userId()],\n                wish: actions.playerActions.types.CHANGE_PLAYER_GEO_COORDINATES,\n                data: [System.GeolocationService.coordinates.lng, System.GeolocationService.coordinates.lat]\n            });\n          }\n        });\n        this._initialized = true;\n      }\n\n    public present(intent:IIntent):boolean{\n      ...\n    }\n ...\n}\n</code></pre>\n\n<p>This is my observable in another file:</p>\n\n<pre><code> @observable coordinates = {\n    lng:0,\n    lat:0\n  };\n</code></pre>\n"}, {"tags": ["typescript", "jasmine"], "comments": [{"owner": {"reputation": 1586, "user_id": 3264864, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/a36e2bccc5ddabf1cd6c82e973d354ac?s=128&d=identicon&r=PG&f=1", "display_name": "Mark Timothy", "link": "https://stackoverflow.com/users/3264864/mark-timothy"}, "edited": false, "score": 0, "creation_date": 1462346935, "post_id": 37021108, "comment_id": 61593060, "body": "tried spy = jasmine.createSpy(&#39;encodeURI&#39;); and expect( spy ).toHaveBeenCalledWith(&#39;my#String&#39;); but no luck"}], "answers": [{"comments": [{"owner": {"reputation": 1306, "user_id": 2531903, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cqYLZ.png?s=128&g=1", "display_name": "kasperoo", "link": "https://stackoverflow.com/users/2531903/kasperoo"}, "reply_to_user": {"reputation": 1586, "user_id": 3264864, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/a36e2bccc5ddabf1cd6c82e973d354ac?s=128&d=identicon&r=PG&f=1", "display_name": "Mark Timothy", "link": "https://stackoverflow.com/users/3264864/mark-timothy"}, "edited": false, "score": 0, "creation_date": 1462460241, "post_id": 37025670, "comment_id": 61654672, "body": "Did you try debugging it in a browser? What happens when you step in your function, does it go to your own implementation, or does it go to Jasmine&#39;s spy?"}], "tags": [], "owner": {"reputation": 1306, "user_id": 2531903, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cqYLZ.png?s=128&g=1", "display_name": "kasperoo", "link": "https://stackoverflow.com/users/2531903/kasperoo"}, "is_accepted": false, "score": 1, "last_activity_date": 1462395964, "last_edit_date": 1462395964, "creation_date": 1462359179, "answer_id": 37025670, "question_id": 37021108, "link": "https://stackoverflow.com/questions/37021108/spyon-encodeuri-function-in-jasmine-and-typescript-unit-tests/37025670#37025670", "title": "spyOn encodeURI function in jasmine and typescript unit tests", "body": "<p>You need to pass your test object to spy, then it can spy on it.</p>\n\n<p>e.g. </p>\n\n<pre><code>var sut = new TestOb();\n...\nvar spy = spyOn(sut, 'encodeURI');\n\nit('should call encodeURI', function() {\n    sut.someTestMethod();\n    expect(spy).toHaveBeenCalledWith('my#String');\n});  \n</code></pre>\n"}], "owner": {"reputation": 1586, "user_id": 3264864, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/a36e2bccc5ddabf1cd6c82e973d354ac?s=128&d=identicon&r=PG&f=1", "display_name": "Mark Timothy", "link": "https://stackoverflow.com/users/3264864/mark-timothy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 709, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1462395964, "creation_date": 1462346759, "question_id": 37021108, "link": "https://stackoverflow.com/questions/37021108/spyon-encodeuri-function-in-jasmine-and-typescript-unit-tests", "title": "spyOn encodeURI function in jasmine and typescript unit tests", "body": "<p>I want to test if the encodeURI function have been called with 'my#String'</p>\n\n<pre><code>let encoded: string = encodeURI( 'my#String' );\n</code></pre>\n\n<p>In tests, what I need to do is just to spy encodeURI function and check if it's have been called with the string, any Idea?</p>\n\n<pre><code>    it('should call encodeURI', function(){\n        //1.Spy encodeURI here \n        //2.Execute the function here\n        expect( encodeURI ).toHaveBeenCalledWith('my#String');\n\n    });  \n</code></pre>\n"}, {"tags": ["javascript", "typescript", "angular", "angular2-routing"], "answers": [{"tags": [], "owner": {"reputation": 483726, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "is_accepted": false, "score": 0, "last_activity_date": 1462343371, "creation_date": 1462343371, "answer_id": 37020085, "question_id": 37020073, "link": "https://stackoverflow.com/questions/37020073/how-to-build-readable-urls-when-filters-are-applied-using-angular2/37020085#37020085", "title": "How to build readable urls when filters are applied using Angular2", "body": "<p>Definitely, that is what Angular the router are for. Single Page Application with readable bookmarkable URLs.</p>\n\n<p>You can either encode parameters as \"directory\" or as query parameter.</p>\n"}, {"comments": [{"owner": {"reputation": 351, "user_id": 3676231, "user_type": "registered", "accept_rate": 71, "profile_image": "https://graph.facebook.com/1785901387/picture?type=large", "display_name": "Subhajit", "link": "https://stackoverflow.com/users/3676231/subhajit"}, "edited": false, "score": 0, "creation_date": 1462345117, "post_id": 37020364, "comment_id": 61592085, "body": "the thing is it wont be just i parameter it may be several parameter appended together like <code>?author_id=1&amp;publisher_id=1</code> like this it can be several parameters so how do I implement it for that and how to construct the url accordingly?"}, {"owner": {"reputation": 204459, "user_id": 390330, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/1400be56ff17549b926dd3260da4a494?s=128&d=identicon&r=PG", "display_name": "basarat", "link": "https://stackoverflow.com/users/390330/basarat"}, "reply_to_user": {"reputation": 351, "user_id": 3676231, "user_type": "registered", "accept_rate": 71, "profile_image": "https://graph.facebook.com/1785901387/picture?type=large", "display_name": "Subhajit", "link": "https://stackoverflow.com/users/3676231/subhajit"}, "edited": false, "score": 0, "creation_date": 1462345504, "post_id": 37020364, "comment_id": 61592304, "body": "Updated the answer. You need <code>;</code>"}], "tags": [], "owner": {"reputation": 204459, "user_id": 390330, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/1400be56ff17549b926dd3260da4a494?s=128&d=identicon&r=PG", "display_name": "basarat", "link": "https://stackoverflow.com/users/390330/basarat"}, "is_accepted": true, "score": 0, "last_activity_date": 1462345495, "last_edit_date": 1462345495, "creation_date": 1462344311, "answer_id": 37020364, "question_id": 37020073, "link": "https://stackoverflow.com/questions/37020073/how-to-build-readable-urls-when-filters-are-applied-using-angular2/37020364#37020364", "title": "How to build readable urls when filters are applied using Angular2", "body": "<blockquote>\n  <p>Can I use angular 2 route to make the url readable while passing the parameters. Is it possible do it like a single page application?</p>\n</blockquote>\n\n<p>Yes. <code>?author_id</code> can be configured as a <em>query parameter</em> : <a href=\"https://angular.io/docs/ts/latest/guide/router.html\" rel=\"nofollow noreferrer\">https://angular.io/docs/ts/latest/guide/router.html</a></p>\n\n<p>From the link it will need to be <code>;</code> and not <code>&amp;</code>/<code>?</code>: </p>\n\n<p><a href=\"https://i.stack.imgur.com/hAHO5.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/hAHO5.png\" alt=\"enter image description here\"></a></p>\n"}], "owner": {"reputation": 351, "user_id": 3676231, "user_type": "registered", "accept_rate": 71, "profile_image": "https://graph.facebook.com/1785901387/picture?type=large", "display_name": "Subhajit", "link": "https://stackoverflow.com/users/3676231/subhajit"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 698, "favorite_count": 0, "accepted_answer_id": 37020364, "answer_count": 2, "score": 0, "last_activity_date": 1462345495, "creation_date": 1462343313, "question_id": 37020073, "link": "https://stackoverflow.com/questions/37020073/how-to-build-readable-urls-when-filters-are-applied-using-angular2", "title": "How to build readable urls when filters are applied using Angular2", "body": "<p>I have an web site (<a href=\"https://www.textnook.com\" rel=\"nofollow\">textnook</a>) where users can filter books by author name , publisher , etc. On applying filters earlier I was using javascript to build the url and render the request and it looked something like <code>/book/search/?author_id=1</code> Can I use angular 2 route to make the url readable while passing the parameters. Is it possible do it like a single page application? </p>\n"}, {"tags": ["http", "typescript", "angular"], "comments": [{"owner": {"reputation": 491, "user_id": 5959507, "user_type": "registered", "accept_rate": 74, "profile_image": "https://lh6.googleusercontent.com/-KJdIUPF88v4/AAAAAAAAAAI/AAAAAAAAAHY/9RMMsTptnNg/photo.jpg?sz=128", "display_name": "Yohsuke Inoda", "link": "https://stackoverflow.com/users/5959507/yohsuke-inoda"}, "edited": false, "score": 0, "creation_date": 1462625924, "post_id": 37019008, "comment_id": 61721539, "body": "Sorry, the cause is in server side processing. I&#39;ve already solved."}], "answers": [{"comments": [{"owner": {"reputation": 491, "user_id": 5959507, "user_type": "registered", "accept_rate": 74, "profile_image": "https://lh6.googleusercontent.com/-KJdIUPF88v4/AAAAAAAAAAI/AAAAAAAAAHY/9RMMsTptnNg/photo.jpg?sz=128", "display_name": "Yohsuke Inoda", "link": "https://stackoverflow.com/users/5959507/yohsuke-inoda"}, "edited": false, "score": 0, "creation_date": 1462340974, "post_id": 37019435, "comment_id": 61590023, "body": "Thank you. Of course, I wrote it and completed to transpile TypeScript files without errors. But this doesn&#39;t work...."}, {"owner": {"reputation": 181833, "user_id": 1873365, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/45TMV.png?s=128&g=1", "display_name": "Thierry Templier", "link": "https://stackoverflow.com/users/1873365/thierry-templier"}, "reply_to_user": {"reputation": 491, "user_id": 5959507, "user_type": "registered", "accept_rate": 74, "profile_image": "https://lh6.googleusercontent.com/-KJdIUPF88v4/AAAAAAAAAAI/AAAAAAAAAHY/9RMMsTptnNg/photo.jpg?sz=128", "display_name": "Yohsuke Inoda", "link": "https://stackoverflow.com/users/5959507/yohsuke-inoda"}, "edited": false, "score": 0, "creation_date": 1462341012, "post_id": 37019435, "comment_id": 61590045, "body": "Do you subscribe on the request observable? I updated my answer."}, {"owner": {"reputation": 491, "user_id": 5959507, "user_type": "registered", "accept_rate": 74, "profile_image": "https://lh6.googleusercontent.com/-KJdIUPF88v4/AAAAAAAAAAI/AAAAAAAAAHY/9RMMsTptnNg/photo.jpg?sz=128", "display_name": "Yohsuke Inoda", "link": "https://stackoverflow.com/users/5959507/yohsuke-inoda"}, "edited": false, "score": 0, "creation_date": 1462341175, "post_id": 37019435, "comment_id": 61590119, "body": "Yes, I subscribed it. But I couldn&#39;t find to append custom fields to request header in Developer Tools."}, {"owner": {"reputation": 491, "user_id": 5959507, "user_type": "registered", "accept_rate": 74, "profile_image": "https://lh6.googleusercontent.com/-KJdIUPF88v4/AAAAAAAAAAI/AAAAAAAAAHY/9RMMsTptnNg/photo.jpg?sz=128", "display_name": "Yohsuke Inoda", "link": "https://stackoverflow.com/users/5959507/yohsuke-inoda"}, "edited": false, "score": 0, "creation_date": 1462341385, "post_id": 37019435, "comment_id": 61590221, "body": "ah, I want to use <code>http.request</code> instead of <code>http.get</code> or <code>http.post</code> , therefore I must use Request class."}, {"owner": {"reputation": 181833, "user_id": 1873365, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/45TMV.png?s=128&g=1", "display_name": "Thierry Templier", "link": "https://stackoverflow.com/users/1873365/thierry-templier"}, "reply_to_user": {"reputation": 491, "user_id": 5959507, "user_type": "registered", "accept_rate": 74, "profile_image": "https://lh6.googleusercontent.com/-KJdIUPF88v4/AAAAAAAAAAI/AAAAAAAAAHY/9RMMsTptnNg/photo.jpg?sz=128", "display_name": "Yohsuke Inoda", "link": "https://stackoverflow.com/users/5959507/yohsuke-inoda"}, "edited": false, "score": 0, "creation_date": 1462345789, "post_id": 37019435, "comment_id": 61592475, "body": "Which version of Angular2 do you use?"}, {"owner": {"reputation": 181833, "user_id": 1873365, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/45TMV.png?s=128&g=1", "display_name": "Thierry Templier", "link": "https://stackoverflow.com/users/1873365/thierry-templier"}, "reply_to_user": {"reputation": 491, "user_id": 5959507, "user_type": "registered", "accept_rate": 74, "profile_image": "https://lh6.googleusercontent.com/-KJdIUPF88v4/AAAAAAAAAAI/AAAAAAAAAHY/9RMMsTptnNg/photo.jpg?sz=128", "display_name": "Yohsuke Inoda", "link": "https://stackoverflow.com/users/5959507/yohsuke-inoda"}, "edited": false, "score": 0, "creation_date": 1462345991, "post_id": 37019435, "comment_id": 61592562, "body": "Using this plunkr: <a href=\"https://plnkr.co/edit/bTClKR8kfAlAlIh1gL37?p=preview\" rel=\"nofollow noreferrer\">plnkr.co/edit/bTClKR8kfAlAlIh1gL37?p=preview</a>, I can see the custom header in the request headers..."}], "tags": [], "owner": {"reputation": 181833, "user_id": 1873365, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/45TMV.png?s=128&g=1", "display_name": "Thierry Templier", "link": "https://stackoverflow.com/users/1873365/thierry-templier"}, "is_accepted": false, "score": 6, "last_activity_date": 1462340998, "last_edit_date": 1462340998, "creation_date": 1462340867, "answer_id": 37019435, "question_id": 37019008, "link": "https://stackoverflow.com/questions/37019008/how-to-append-custom-fields-to-http-request-header-using-request-class/37019435#37019435", "title": "How to append custom fields to HTTP Request header using Request class", "body": "<p>You probably forgot to import the <code>Headers</code> class:</p>\n\n<pre><code>import {Http, Headers, ...} from 'angular2/http';\n</code></pre>\n\n<p>You could also use the following code:</p>\n\n<pre><code>let headers: Headers = new Headers();\nheaders.append('foo', 'bar');\n\nthis.http.get('test.json', { headers }).map((res: any) =&gt; res.json());\n</code></pre>\n\n<p>Moreover don't forget to subscribe on the returned observable to execute the request since observables are lazy:</p>\n\n<pre><code>let headers: Headers = new Headers();\nheaders.append('foo', 'bar');\n\nthis.http.get('test.json', { headers })\n  .map((res: any) =&gt; res.json())\n  .subscribe((data) =&gt; {\n    console.log(data);\n  });\n</code></pre>\n"}], "owner": {"reputation": 491, "user_id": 5959507, "user_type": "registered", "accept_rate": 74, "profile_image": "https://lh6.googleusercontent.com/-KJdIUPF88v4/AAAAAAAAAAI/AAAAAAAAAHY/9RMMsTptnNg/photo.jpg?sz=128", "display_name": "Yohsuke Inoda", "link": "https://stackoverflow.com/users/5959507/yohsuke-inoda"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 7138, "favorite_count": 0, "answer_count": 1, "score": 3, "last_activity_date": 1462342850, "creation_date": 1462338960, "last_edit_date": 1462342850, "question_id": 37019008, "link": "https://stackoverflow.com/questions/37019008/how-to-append-custom-fields-to-http-request-header-using-request-class", "title": "How to append custom fields to HTTP Request header using Request class", "body": "<p>How to append custom fields to HTTP Request header using Request class in Angular2?\nI found posts which solve similar problems, but they don't use Request class.</p>\n\n<p>My code is the below.</p>\n\n<pre><code>let headers: Headers = new Headers();\nheaders.append('foo', 'bar');\n\nlet req: any = {\n  method : RequestMethod.Get,\n  url    : '/test.json',\n  headers: headers,\n};\n\n// this.http is Http instance variable.\nthis.http.request(new Request(req)).map((res: any) =&gt; res.json());\n</code></pre>\n\n<p>This is very simple code.\nBut when executing this, I couldn't find custom fields in HTTP request header using Developer Tools of Google Chrome.</p>\n\n<p>Referenced: <a href=\"https://angular.io/docs/js/latest/api/http/index/Request-class.html\" rel=\"nofollow\">https://angular.io/docs/js/latest/api/http/index/Request-class.html</a></p>\n\n<hr>\n\n<p>It's possible to reproduce this issue.\nThe below code should get XHR 400 errors, but it's not problem. But note that the request header don't have custom fields.</p>\n\n<p><a href=\"http://plnkr.co/edit/arCFx69V9H1Cl0pJXBzO?p=preview\" rel=\"nofollow\">http://plnkr.co/edit/arCFx69V9H1Cl0pJXBzO?p=preview</a></p>\n"}, {"tags": ["javascript", "c#", "angularjs", "typescript"], "comments": [{"owner": {"reputation": 1603, "user_id": 2171194, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/alBFu.png?s=128&g=1", "display_name": "Sari Rahal", "link": "https://stackoverflow.com/users/2171194/sari-rahal"}, "edited": false, "score": 0, "creation_date": 1462986695, "post_id": 37015543, "comment_id": 61873277, "body": "can you show the angular html and the directive?  Do you have a punker set up that you can share?  What are your result exactly?"}, {"owner": {"reputation": 1050, "user_id": 1038053, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/09ba8dca887249437ca9e5af4f63e591?s=128&d=identicon&r=PG", "display_name": "Ian Overton", "link": "https://stackoverflow.com/users/1038053/ian-overton"}, "reply_to_user": {"reputation": 1603, "user_id": 2171194, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/alBFu.png?s=128&g=1", "display_name": "Sari Rahal", "link": "https://stackoverflow.com/users/2171194/sari-rahal"}, "edited": false, "score": 0, "creation_date": 1462987420, "post_id": 37015543, "comment_id": 61873711, "body": "If I show the angular html and directive this would get much longer and I&#39;m not sure it adds any value to the question. I&#39;ll add what I did on the c# part though"}, {"owner": {"reputation": 1603, "user_id": 2171194, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/alBFu.png?s=128&g=1", "display_name": "Sari Rahal", "link": "https://stackoverflow.com/users/2171194/sari-rahal"}, "edited": false, "score": 0, "creation_date": 1462988280, "post_id": 37015543, "comment_id": 61874234, "body": "Can you create a plunker to help understand your issue.  Here is a link to mine.  This shows rendering PDF&#39;s in angular.  <a href=\"http://plnkr.co/edit/gFfGQCzAfmf2zf5C2Bpc?p=preview\" rel=\"nofollow noreferrer\">plnkr.co/edit/gFfGQCzAfmf2zf5C2Bpc?p=preview</a>"}, {"owner": {"reputation": 1050, "user_id": 1038053, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/09ba8dca887249437ca9e5af4f63e591?s=128&d=identicon&r=PG", "display_name": "Ian Overton", "link": "https://stackoverflow.com/users/1038053/ian-overton"}, "reply_to_user": {"reputation": 1603, "user_id": 2171194, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/alBFu.png?s=128&g=1", "display_name": "Sari Rahal", "link": "https://stackoverflow.com/users/2171194/sari-rahal"}, "edited": false, "score": 0, "creation_date": 1462992865, "post_id": 37015543, "comment_id": 61876893, "body": "Not sure this helps as I&#39;m getting a cross-origin error which I do not have in my version because they are on the same domain and I have security on the server. <a href=\"http://plnkr.co/edit/R3FiesPk7Os22SMsTTfE\" rel=\"nofollow noreferrer\">plnkr.co/edit/R3FiesPk7Os22SMsTTfE</a>"}, {"owner": {"reputation": 1603, "user_id": 2171194, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/alBFu.png?s=128&g=1", "display_name": "Sari Rahal", "link": "https://stackoverflow.com/users/2171194/sari-rahal"}, "edited": false, "score": 0, "creation_date": 1462993366, "post_id": 37015543, "comment_id": 61877188, "body": "is it turning your request into an &quot;Option&quot;?"}, {"owner": {"reputation": 1050, "user_id": 1038053, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/09ba8dca887249437ca9e5af4f63e591?s=128&d=identicon&r=PG", "display_name": "Ian Overton", "link": "https://stackoverflow.com/users/1038053/ian-overton"}, "reply_to_user": {"reputation": 1603, "user_id": 2171194, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/alBFu.png?s=128&g=1", "display_name": "Sari Rahal", "link": "https://stackoverflow.com/users/2171194/sari-rahal"}, "edited": false, "score": 0, "creation_date": 1462993690, "post_id": 37015543, "comment_id": 61877358, "body": "I don&#39;t know what &quot;Option&quot; means. It&#39;s turning my pdf into a blob. The url it goes to would look something like this: blob:https%3A//example.com/2af08e2c-d7b5-411e-a33c-28109e6bb&zwnj;&#8203;04a"}, {"owner": {"reputation": 987, "user_id": 2519538, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7756d36b4ce63eb7c6a4b59667d0818c?s=128&d=identicon&r=PG", "display_name": "Shankar Gurav", "link": "https://stackoverflow.com/users/2519538/shankar-gurav"}, "edited": false, "score": 0, "creation_date": 1463480512, "post_id": 37015543, "comment_id": 62072358, "body": "Your plunker does works from me and both button clicks open pdf in new window, was anything specific you are looking for?"}], "answers": [{"comments": [{"owner": {"reputation": 1050, "user_id": 1038053, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/09ba8dca887249437ca9e5af4f63e591?s=128&d=identicon&r=PG", "display_name": "Ian Overton", "link": "https://stackoverflow.com/users/1038053/ian-overton"}, "edited": false, "score": 0, "creation_date": 1463067632, "post_id": 37171588, "comment_id": 61915724, "body": "The plunker example I gave has cross side scriptting problems because I couldn&#39;t upload a pdf to plunker, but mine is on the same domain nor find a pdf that has access-control-allow-origin on...it is somehting like example.com/ (ui) and example.com/api (service), however I will double check to make sure."}, {"owner": {"reputation": 1050, "user_id": 1038053, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/09ba8dca887249437ca9e5af4f63e591?s=128&d=identicon&r=PG", "display_name": "Ian Overton", "link": "https://stackoverflow.com/users/1038053/ian-overton"}, "edited": false, "score": 0, "creation_date": 1463069077, "post_id": 37171588, "comment_id": 61916808, "body": "Nope it is a get method. I added it to my question."}], "tags": [], "owner": {"reputation": 1603, "user_id": 2171194, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/alBFu.png?s=128&g=1", "display_name": "Sari Rahal", "link": "https://stackoverflow.com/users/2171194/sari-rahal"}, "is_accepted": false, "score": 1, "last_activity_date": 1462994514, "last_edit_date": 1495540792, "creation_date": 1462994514, "answer_id": 37171588, "question_id": 37015543, "link": "https://stackoverflow.com/questions/37015543/rendering-pdf-via-angular-http-instead-of-xmlhttprequest/37171588#37171588", "title": "Rendering PDF via Angular $http instead of XMLHttpRequest", "body": "<p>So I think your issue is that the browser is doing a CORS Preflight because you are doing a cross browser request.  It is turning a GET request into an OPTIONS.</p>\n\n<p><a href=\"https://i.stack.imgur.com/6JFs3.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/6JFs3.png\" alt=\"enter image description here\"></a></p>\n\n<p>You will need to add the OPTIONS request to your accepted CORS Options.  You may also need to add your IP address to the accepted Origins within the CORS Options. </p>\n\n<p>Here are some helpful links for this:\n<a href=\"http://barnabas.tumblr.com/post/87914971548/the-curse-of-the-cors-preflight-and-how-to-defeat\" rel=\"nofollow noreferrer\">http://barnabas.tumblr.com/post/87914971548/the-curse-of-the-cors-preflight-and-how-to-defeat</a>\n<a href=\"https://stackoverflow.com/questions/21792759/confused-about-how-to-handle-cors-options-preflight-requests\">Confused about how to handle CORS OPTIONS preflight requests</a></p>\n"}, {"comments": [{"owner": {"reputation": 1050, "user_id": 1038053, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/09ba8dca887249437ca9e5af4f63e591?s=128&d=identicon&r=PG", "display_name": "Ian Overton", "link": "https://stackoverflow.com/users/1038053/ian-overton"}, "edited": false, "score": 0, "creation_date": 1465227604, "post_id": 37263714, "comment_id": 62801558, "body": "It looks like you&#39;ve created most of my problem, but you didn&#39;t add in the security part of the asp, which i&#39;m starting think might be the problem."}], "tags": [], "owner": {"reputation": 3423, "user_id": 4166522, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/049d84f6be6578b8bbe6ea3aa130ca6d?s=128&d=identicon&r=PG&f=1", "display_name": "Rich N", "link": "https://stackoverflow.com/users/4166522/rich-n"}, "is_accepted": false, "score": 0, "last_activity_date": 1463474764, "last_edit_date": 1495540354, "creation_date": 1463434881, "answer_id": 37263714, "question_id": 37015543, "link": "https://stackoverflow.com/questions/37015543/rendering-pdf-via-angular-http-instead-of-xmlhttprequest/37263714#37263714", "title": "Rendering PDF via Angular $http instead of XMLHttpRequest", "body": "<p>I'm trying to learn Angular, and thought it would be interesting to see if this really is an Angular mangling problem.  So I created a simple node webserver and used exactly your code.  </p>\n\n<p>I can show a PDF in a browser window using the Angular code you say is failing for you.   The only gotcha is that your approach doesn't work in Microsoft's Edge because <a href=\"https://stackoverflow.com/questions/24007073/open-links-made-by-createobjecturl-in-ie11\">blob URLs aren't supported</a> for security reasons.</p>\n\n<p>The <a href=\"https://github.com/rich-newman/node-serve-pdf\" rel=\"nofollow noreferrer\">code is on GitHub</a> and an earlier version is on <a href=\"https://ide.c9.io/rich_newman/test\" rel=\"nofollow noreferrer\">C9</a>. </p>\n\n<p>I then wondered if this was an IIS/restsharp/ASP.NET MVC problem.  However I pretty quickly created an ASP.NET MVC application using restsharp that also works with Angular, using code very similar to yours.  <a href=\"https://github.com/rich-newman/aspnetmvc-serve-pdf\" rel=\"nofollow noreferrer\">This is also on GitHub</a>.  Your restsharp code needed a little love, but again it all worked fine first time for me.</p>\n\n<p>So the reason you're not getting any answers here is that I don't think there's enough information in the question to figure out what's wrong in your environment.  I hope this stuff is helpful though.</p>\n"}], "owner": {"reputation": 1050, "user_id": 1038053, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/09ba8dca887249437ca9e5af4f63e591?s=128&d=identicon&r=PG", "display_name": "Ian Overton", "link": "https://stackoverflow.com/users/1038053/ian-overton"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 977, "favorite_count": 1, "answer_count": 2, "score": 8, "last_activity_date": 1463474764, "creation_date": 1462314949, "last_edit_date": 1463068994, "question_id": 37015543, "link": "https://stackoverflow.com/questions/37015543/rendering-pdf-via-angular-http-instead-of-xmlhttprequest", "title": "Rendering PDF via Angular $http instead of XMLHttpRequest", "body": "<p>So I have spent weeks researching how to get a pdf from the server via ajax and then show it to the client. The reason I need to do this is a user can't just go to the pdf directly on the server, because they won't provide a token to pass security, but with javascript I can. Using the following code I am able to get what I am expecting: </p>\n\n<pre><code> var xhr = new XMLHttpRequest();\n xhr.open('GET', url, true);\n xhr.responseType = 'arraybuffer';\n xhr.setRequestHeader(\"token\", token.value);\n xhr.onload = function (e) {\n    if (this.status == 200) {\n       var file = new Blob([this.response], { type: 'application/pdf' });\n       var fileURL = URL.createObjectURL(file);\n       window.open(fileURL, '_blank');\n    }\n };\n xhr.send();\n</code></pre>\n\n<p>However when I try and do this exact thing in angular like this (I'm doing half of this stuff just so the headers match in both):</p>\n\n<pre><code>var config = {\n    url: url,\n    method: 'GET',\n    responseType: 'arraybuffer',\n    headers: {\n        'Accept':'*/*',\n        \"token\": token.value\n    }\n}\n\n$http(config)\n    .success(function (response) {\n        var file = new Blob([response], { type: 'application/pdf' });\n        var fileURL = URL.createObjectURL(file);\n        window.open(fileURL, '_blank')\n    });\n</code></pre>\n\n<p>Here is what the headers look like in both:</p>\n\n<pre><code>GET http://example.com HTTP/1.1\nHost: example.com\nConnection: keep-alive\nAccept: */*\nUser-Agent: Mozilla/5.0 (Windows NT 6.1; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/50.0.2661.94 Safari/537.36\ntoken: test\nReferer: http://example.com\nAccept-Encoding: gzip, deflate, sdch\nAccept-Language: en-US,en;q=0.8\n</code></pre>\n\n<p>The only difference is the xmlhttprequest version has Authorization: Negotiate header, but I can render both of them in fiddler from the responses from the server. This tells me that 'response' from $http isn't the same as this.response in xmlhttprequest. Can someone please tell me what is different and how I can fix it?</p>\n\n<p>I thought for a long time that it was a charset problem and I have even base64 the bytes before sending it over the wire and then used atob() to switch it back, but that didn't seem to make it any better. It seems the $http version takes the response and converts the bytes to utf8 even if they aren't...my bytes are I think are windows-1252/latin1/ios-8895-1</p>\n\n<p>The reason I say this is because I saw this in a hex editor:</p>\n\n<p>btye 85 (on server) switched to two bytes of C2 85 (after $http code)\n<a href=\"http://www.fileformat.info/info/unicode/char/85/charset_support.htm\" rel=\"nofollow noreferrer\">http://www.fileformat.info/info/unicode/char/85/charset_support.htm</a></p>\n\n<p>btye c5 (on server) switched to two bytes of c3 85 (after $http code)\n<a href=\"http://www.fileformat.info/info/unicode/char/c5/charset_support.htm\" rel=\"nofollow noreferrer\">http://www.fileformat.info/info/unicode/char/c5/charset_support.htm</a></p>\n\n<p>I have even tried to encode/decode if various combinations with no avail. I really think the pdf is getting corrupted some how when it's going through angular, but I don't know how.</p>\n\n<p><strong>UPDATE 1</strong></p>\n\n<p>On the server side the code looks like this:</p>\n\n<pre><code>public class LabelController : Controller\n{\n  //using Microsoft.AspNet.Mvc\n  [HttpGet, Route(\"api/labels/box\")]\n  public IActionResult BoxLabels(Guid requestId)\n  {\n    var data = this.getPDF(\"http://foobar.com/example.pdf\");\n    Response.Headers.Add(\"Content-Length\", data.Length.ToString());\n    Response.Headers.Add(\"Content-Disposition\", \"inline; filename=example.pdf\");\n    return new FileContentResult(data, \"application/pdf\");\n  }\n\n  //using restsharp\n  private bytes[] getPDF(url)\n  {\n    var client = new RestClient\n    {\n      BaseUrl = new Uri(url),\n      Authenticator = new NtlmAuthenticator()\n    };\n\n    var request = new RestRequest\n    {\n      Method = Method.POST,\n      Credentials = CredentialCache.DefaultNetworkCredentials,\n      RequestFormat = DataFormat.Xml\n    };\n\n    var response = client.Execute(request);\n    return response.RawBytes;\n  }\n}\n</code></pre>\n\n<p>Here is sort of what it looks like: <a href=\"http://plnkr.co/edit/R3FiesPk7Os22SMsTTfE\" rel=\"nofollow noreferrer\">http://plnkr.co/edit/R3FiesPk7Os22SMsTTfE</a> without the \"No 'Access-Control-Allow-Origin'\" error</p>\n\n<p><strong>UPDATE 2</strong></p>\n\n<p>Here is what the network traffic tells me:\n<a href=\"https://i.stack.imgur.com/ihsOu.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ihsOu.png\" alt=\"inspection of ajax call\"></a></p>\n\n<p>Here is what the pdf looks like when using $http:</p>\n\n<p><a href=\"https://i.stack.imgur.com/HulGy.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/HulGy.png\" alt=\"blank pdf when using $http\"></a></p>\n"}, {"tags": ["typescript"], "answers": [{"tags": [], "owner": {"reputation": 118994, "user_id": 942852, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/secsn.jpg?s=128&g=1", "display_name": "Nitzan Tomer", "link": "https://stackoverflow.com/users/942852/nitzan-tomer"}, "is_accepted": false, "score": 0, "last_activity_date": 1462316954, "last_edit_date": 1592644375, "creation_date": 1462314922, "answer_id": 37015534, "question_id": 37015294, "link": "https://stackoverflow.com/questions/37015294/typings-arraypromiset-to-promisearrayt/37015534#37015534", "title": "Typings: Array&lt;Promise&lt;T&gt;&gt; to Promise&lt;Array&lt;T&gt;&gt;", "body": "<h2>Edit</h2>\n<p>My bad, you can simply do it like this:</p>\n<pre><code>interface PromiseArray&lt;T&gt; extends Array&lt;T | Promise&lt;T&gt;&gt; {\n    awaitPromises(): Promise&lt;Array&lt;T&gt;&gt;;\n}\n</code></pre>\n<p><strong>But</strong> I still think that it's better design to have a class who extends <code>Array</code> and only that has the <code>awaitPromises</code> method, after all that's what object oriented is all about.<br />\nThis is what I had in mind in my original answer:</p>\n<h2>Original</h2>\n<p>The problem is that you don't always have just promises in the array, you can put values there as well not just promises.</p>\n<p>More than that, by adding this method to the <code>Array</code>, you basically say &quot;all arrays may contain promises&quot; or &quot;all arrays may be used as a parameter to <code>Promise.all</code>&quot;.</p>\n<p>What's wrong with subclassing <code>Array</code>?</p>\n<pre><code>class PromiseArray&lt;T&gt; extends Array&lt;T | Promise&lt;T&gt;&gt; {\n    awaitPromises(): Promise&lt;Array&lt;T&gt;&gt; {\n        return Promise.all(this);\n    }\n}\n</code></pre>\n<p>The key here (I think) is the <code>Array&lt;T | Promise&lt;T&gt;&gt;</code> part, which you can't really do if you just extend the default <code>Array&lt;T&gt;</code> interface globally.<br />\nAnd, you have a clear distinction of which arrays can await on promises, which I think is a better design.</p>\n<p>You can also add a function to the <code>Array</code> prototype to return <code>this</code> as a <code>PromiseArray</code>:</p>\n<pre><code>interface Array&lt;T&gt; {\n    toPromiseArray(): PromiseArray&lt;T&gt;;\n}\n\nArray.prototype.toPromiseArray = function() {\n    let arr = new PromiseArray&lt;any&gt;();\n    this.forEach(item =&gt; arr.push(item));\n    return arr;\n}\n</code></pre>\n"}], "owner": {"reputation": 533, "user_id": 558822, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bd12d450af042bb75ce2f15c5d389e0a?s=128&d=identicon&r=PG", "display_name": "dpogue", "link": "https://stackoverflow.com/users/558822/dpogue"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 253, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1462316954, "creation_date": 1462313631, "question_id": 37015294, "link": "https://stackoverflow.com/questions/37015294/typings-arraypromiset-to-promisearrayt", "title": "Typings: Array&lt;Promise&lt;T&gt;&gt; to Promise&lt;Array&lt;T&gt;&gt;", "body": "<p>I've written a helper method and added it to Array.prototype to wrap an array of promises in <code>Promise.all</code>.</p>\n\n<pre><code>Array.prototype.awaitPromises = function() {\n  return Promise.all(this);\n}\n</code></pre>\n\n<p>Now I'm trying to get TypeScript typings to work, but I don't see a way to \"unpack\" the Array type into a Promise-wrapped value:</p>\n\n<pre><code>declare global {\n  interface Array&lt;T&gt; {\n    awaitPromises&lt;U&gt;(): Promise&lt;Array&lt;U&gt;&gt;\n  }\n}\n</code></pre>\n\n<p>Ideally I'd like <code>Array&lt;Promise&lt;T&gt;&gt;</code> -> <code>Promise&lt;Array&lt;T&gt;&gt;</code> and to get rid of needing to specify <code>&lt;U&gt;</code>. Is this possible, or am I stuck with what I've got?</p>\n"}, {"tags": ["javascript", "ios", "typescript", "ionic2"], "comments": [{"owner": {"reputation": 6992, "user_id": 495157, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/UFMPn.png?s=128&g=1", "display_name": "JGFMK", "link": "https://stackoverflow.com/users/495157/jgfmk"}, "edited": false, "score": 0, "creation_date": 1502631517, "post_id": 37015022, "comment_id": 78279594, "body": "<a href=\"http://iscrolljs.com/\" rel=\"nofollow noreferrer\">iscrolljs.com</a> This may be a solution..."}], "answers": [{"tags": [], "owner": {"reputation": 6103, "user_id": 7325327, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/QYY60.jpg?s=128&g=1", "display_name": "Gabriel Barreto", "link": "https://stackoverflow.com/users/7325327/gabriel-barreto"}, "is_accepted": false, "score": 0, "last_activity_date": 1511957263, "creation_date": 1511957263, "answer_id": 47552494, "question_id": 37015022, "link": "https://stackoverflow.com/questions/37015022/in-ionic-2-is-there-any-way-to-detect-scroll-momentum-as-an-event/47552494#47552494", "title": "In ionic 2 is there any way to detect scroll momentum as an event?", "body": "<p>You can now use scroll events on your <code>ion-content</code> tag like this:</p>\n\n<pre><code>&lt;ion-content (ionScroll)=\"myFunction($event)\"&gt;\n  &lt;!-- PAGE CONTENT --&gt;\n&lt;/ion-content&gt;\n</code></pre>\n\n<p>The events you can use are <code>ionScroll</code>, <code>ionScrollEnd</code>, <code>ionScrollStart</code>. See the <a href=\"https://ionicframework.com/docs/api/components/content/Content/\" rel=\"nofollow noreferrer\">content docs</a> for more info.</p>\n\n<p>Hope this helps.</p>\n"}], "owner": {"reputation": 559, "user_id": 2100675, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/8d510c907b30216c9af35ebc8e2db9d4?s=128&d=identicon&r=PG", "display_name": "Ricardo Mogg", "link": "https://stackoverflow.com/users/2100675/ricardo-mogg"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1161, "favorite_count": 2, "answer_count": 1, "score": 7, "last_activity_date": 1511957263, "creation_date": 1462312375, "question_id": 37015022, "link": "https://stackoverflow.com/questions/37015022/in-ionic-2-is-there-any-way-to-detect-scroll-momentum-as-an-event", "title": "In ionic 2 is there any way to detect scroll momentum as an event?", "body": "<p>I am trying to detect the scroll momentum event, but so far I have had no luck. I am trying somethiing like this:</p>\n\n<pre><code>this.scrollHandle.addEventListener('scroll', function(){\n    window.requestAnimationFrame(function(){\n        //do animation\n    });\n});\n</code></pre>\n\n<p>However it stops listening when the finger is removed from the screen, so the animation stops until the momentum ends. </p>\n\n<p>This is the behaviour at least on iOS, not sure about android.</p>\n"}, {"tags": ["meteor", "typescript", "reactive-programming"], "answers": [{"comments": [{"owner": {"reputation": 2327, "user_id": 3656447, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/oKUrS.jpg?s=128&g=1", "display_name": "dagatsoin", "link": "https://stackoverflow.com/users/3656447/dagatsoin"}, "edited": false, "score": 1, "creation_date": 1462347335, "post_id": 37014916, "comment_id": 61593298, "body": "+ infinite points to gave me a real reason to use arrow functions! Thanks a lot Nitzan, you make my day!"}, {"owner": {"reputation": 118994, "user_id": 942852, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/secsn.jpg?s=128&g=1", "display_name": "Nitzan Tomer", "link": "https://stackoverflow.com/users/942852/nitzan-tomer"}, "reply_to_user": {"reputation": 2327, "user_id": 3656447, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/oKUrS.jpg?s=128&g=1", "display_name": "dagatsoin", "link": "https://stackoverflow.com/users/3656447/dagatsoin"}, "edited": false, "score": 0, "creation_date": 1462347577, "post_id": 37014916, "comment_id": 61593447, "body": "@DanielN arrow functions are a lot of fun and very useful once you get used to them, though in a lot of cases I still like to use the <code>bind</code> function as you can also bind function parameters to it other than the context."}], "tags": [], "owner": {"reputation": 118994, "user_id": 942852, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/secsn.jpg?s=128&g=1", "display_name": "Nitzan Tomer", "link": "https://stackoverflow.com/users/942852/nitzan-tomer"}, "is_accepted": true, "score": 2, "last_activity_date": 1462311928, "last_edit_date": 1592644375, "creation_date": 1462311928, "answer_id": 37014916, "question_id": 37014753, "link": "https://stackoverflow.com/questions/37014753/how-to-pass-a-context-this-in-a-tracker-autorun-function/37014916#37014916", "title": "How to pass a context (this) in a Tracker.autorun function?", "body": "<p>You have two options:</p>\n<p>The <a href=\"https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_objects/Function/bind\" rel=\"nofollow noreferrer\">Function.bind function</a>:</p>\n<pre><code>class MeteorAccount implements IService{\n    constructor() {\n        Tracker.autorun(function() {\n            //observe\n            Meteor.userId());\n            console.log(this);//undefined\n        }.bind(this));\n    }\n}\n</code></pre>\n<p>Or the <a href=\"https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Functions/Arrow_functions\" rel=\"nofollow noreferrer\">arrow function</a>:</p>\n<pre><code>class MeteorAccount implements IService{\n    constructor() {\n        Tracker.autorun(() =&gt; {\n            //observe\n            Meteor.userId());\n            console.log(this);//undefined\n        });\n    }\n}\n</code></pre>\n<hr />\n<h3>Edit</h3>\n<p>There's another option, I just don't like it, but it's how people used to do it before the arrow function (not sure why not the bind option):</p>\n<pre><code>class MeteorAccount implements IService{\n    constructor() {\n        var self = this;\n        \n        Tracker.autorun(function() {\n            //observe\n            Meteor.userId());\n            console.log(self);//undefined\n        });\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 2327, "user_id": 3656447, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/oKUrS.jpg?s=128&g=1", "display_name": "dagatsoin", "link": "https://stackoverflow.com/users/3656447/dagatsoin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 211, "favorite_count": 0, "accepted_answer_id": 37014916, "answer_count": 1, "score": 1, "last_activity_date": 1462311928, "creation_date": 1462311225, "question_id": 37014753, "link": "https://stackoverflow.com/questions/37014753/how-to-pass-a-context-this-in-a-tracker-autorun-function", "title": "How to pass a context (this) in a Tracker.autorun function?", "body": "<p>This class will display this = <code>undefined</code>. How to pass the context in?</p>\n\n<pre><code>class MeteorAccount implements IService{\n\n  constructor() {\n    Tracker.autorun(function () {\n      //observe\n      Meteor.userId());\n      console.log(this);//undefined\n    });\n  }\n\n}\n</code></pre>\n"}, {"tags": ["javascript", "node.js", "typescript", "angular", "webpack"], "comments": [{"owner": {"reputation": 110, "user_id": 1681205, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dae4692474b9d5efb2ba6a3064ff5239?s=128&d=identicon&r=PG", "display_name": "Sam Finnigan", "link": "https://stackoverflow.com/users/1681205/sam-finnigan"}, "edited": false, "score": 1, "creation_date": 1470670394, "post_id": 37014407, "comment_id": 65031780, "body": "I&#39;m not sure if you managed to solve this in the end, but I think it was a bug. Someone else raised an issue on the repo and I was able to fix the missing reference to the Stomp variable. <a href=\"https://github.com/sjmf/ng2-stompjs-demo/issues/1\" rel=\"nofollow noreferrer\">github.com/sjmf/ng2-stompjs-demo/issues/1</a>"}, {"owner": {"reputation": 4230, "user_id": 1804317, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/84f00e56b203aec51a3104f1ed30c3da?s=128&d=identicon&r=PG", "display_name": "Jakob Abfalter", "link": "https://stackoverflow.com/users/1804317/jakob-abfalter"}, "reply_to_user": {"reputation": 110, "user_id": 1681205, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dae4692474b9d5efb2ba6a3064ff5239?s=128&d=identicon&r=PG", "display_name": "Sam Finnigan", "link": "https://stackoverflow.com/users/1681205/sam-finnigan"}, "edited": false, "score": 0, "creation_date": 1470914342, "post_id": 37014407, "comment_id": 65148835, "body": "I managed to get it to work without using the types if I remember correctly. Thanks for your input."}, {"owner": {"reputation": 1068, "user_id": 934625, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9c0874b30fec6d9920088caae59686bc?s=128&d=identicon&r=PG", "display_name": "Jimi", "link": "https://stackoverflow.com/users/934625/jimi"}, "edited": false, "score": 0, "creation_date": 1478809675, "post_id": 37014407, "comment_id": 68312362, "body": "A demo project is available at <a href=\"https://github.com/sjmf/ng2-stompjs-demo\" rel=\"nofollow noreferrer\">github.com/sjmf/ng2-stompjs-demo</a>"}], "answers": [{"tags": [], "owner": {"reputation": 3972, "user_id": 3478605, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/3891912f969a89c55fccf7eae0a1c065?s=128&d=identicon&r=PG&f=1", "display_name": "Val&#233;ry", "link": "https://stackoverflow.com/users/3478605/val%c3%a9ry"}, "is_accepted": false, "score": 1, "last_activity_date": 1462366265, "creation_date": 1462366265, "answer_id": 37028382, "question_id": 37014407, "link": "https://stackoverflow.com/questions/37014407/trying-to-use-stomp-js-in-angular2/37028382#37028382", "title": "Trying to use stomp.js in angular2", "body": "<p>Did you try to export a variable too alongside the interface?</p>\n\n<pre><code>export var Stomp: Stomp;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 904, "user_id": 2565234, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/3B6f2.png?s=128&g=1", "display_name": "Deepak Kumar", "link": "https://stackoverflow.com/users/2565234/deepak-kumar"}, "is_accepted": false, "score": 0, "last_activity_date": 1492011364, "creation_date": 1492011364, "answer_id": 43373943, "question_id": 37014407, "link": "https://stackoverflow.com/questions/37014407/trying-to-use-stomp-js-in-angular2/43373943#43373943", "title": "Trying to use stomp.js in angular2", "body": "<p>Using Stomp.js directly in Angular2 (or Angular4) is definitely non trivial. </p>\n\n<p>For a proper Angular2 (and Angular4) type StompService using Observables please refer to <a href=\"https://github.com/stomp-js/ng2-stompjs\" rel=\"nofollow noreferrer\">https://github.com/stomp-js/ng2-stompjs</a>.</p>\n\n<p>There are sample apps for Angular2 and Agular4 as well.</p>\n"}], "owner": {"reputation": 4230, "user_id": 1804317, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/84f00e56b203aec51a3104f1ed30c3da?s=128&d=identicon&r=PG", "display_name": "Jakob Abfalter", "link": "https://stackoverflow.com/users/1804317/jakob-abfalter"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4715, "favorite_count": 2, "answer_count": 2, "score": 4, "last_activity_date": 1492011364, "creation_date": 1462309859, "last_edit_date": 1462311301, "question_id": 37014407, "link": "https://stackoverflow.com/questions/37014407/trying-to-use-stomp-js-in-angular2", "title": "Trying to use stomp.js in angular2", "body": "<p>I am trying to implement a Stomp Websocket client using stomp.js.</p>\n\n<p>I am using angular2 with typescript and webpack and am really new to all of those technologies.\nMy angular2 project was built on this seed:\n<a href=\"https://github.com/angular/angular2-seed\" rel=\"nofollow\">https://github.com/angular/angular2-seed</a></p>\n\n<p>As a guide for implementing the stomp.js client I used <a href=\"https://github.com/sjmf/ng2-stompjs-demo\" rel=\"nofollow\">https://github.com/sjmf/ng2-stompjs-demo</a></p>\n\n<p>The error I am currently getting is the following:</p>\n\n<pre><code>?d41d:73 EXCEPTION: TypeError: Cannot read property 'client' of undefined in [null]\n</code></pre>\n\n<p>The error is happening in this method:</p>\n\n<pre><code>  public configure() : void {\n\n    // Check for errors\n    if (this.state.getValue() != STOMPState.CLOSED) {\n      throw Error(\"Already running!\");\n    }\n\n    let scheme : string = 'ws';\n    if( AppSettings.IS_SSL ) {\n      scheme = 'wss';\n    }\n\n    this.client = Stomp.client(\n      scheme + '://'\n      + AppSettings.HOST + ':'\n      + AppSettings.WEBSOCK_PORT\n      + AppSettings.WEBSOCK_ENDPOINT\n    );\n\n    this.client.heartbeat.incoming = AppSettings.HEARTBEAT;\n  }\n</code></pre>\n\n<p>So <code>Stomp</code> seems to be undefined.</p>\n\n<p>I am importing:</p>\n\n<pre><code>import {Stomp} from \"stompjs\";\n</code></pre>\n\n<p>I have installed stomp.js with npm like this</p>\n\n<pre><code>npm install --save stompjs\n</code></pre>\n\n<p>And my stompjs module looks like this:</p>\n\n<pre><code>declare module \"stompjs\" {\n\n  export interface Client {\n    heartbeat: any;\n\n    debug(...args: string[]);\n\n    connect(...args: any[]);\n    disconnect(disconnectCallback: () =&gt; any, headers?: any);\n\n    send(destination: string, headers?:any, body?: string);\n    subscribe(destination: string, callback?: (message: Message) =&gt; any, body?: string);\n    unsubscribe();\n\n    begin(transaction: string);\n    commit(transaction: string);\n    abort(transaction: string);\n\n    ack(messageID: string, subscription: string, headers?: any);\n    nack(messageID: string, subscription: string, headers?: any);\n  }\n\n  export interface Message {\n    command: string;\n    headers: any;\n    body: string;\n\n    ack(headers?: any);\n    nack(headers?: any);\n  }\n\n  export interface Frame {\n    constructor(command: string, headers?: any, body?: string);\n\n    toString(): string;\n    sizeOfUTF8(s: string);\n    unmarshall(datas: any);\n    marshall(command: string, headers?, body?);\n  }\n\n  export interface Stomp {\n    client: Client;\n    Frame: Frame;\n\n    over(ws: WebSocket);\n  }\n}\n</code></pre>\n\n<p>I think I am missing the connection between my module and the actual library, but I don't really know how to that and I can't figure it out from the github demo either.</p>\n\n<p>Thanks in advance for any help!</p>\n"}, {"tags": ["typescript"], "comments": [{"owner": {"reputation": 1810, "user_id": 1476104, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5768f7edd993f3f1a5363f6d786d5ace?s=128&d=identicon&r=PG", "display_name": "Ali.MD", "link": "https://stackoverflow.com/users/1476104/ali-md"}, "edited": false, "score": 0, "creation_date": 1462307199, "post_id": 37013665, "comment_id": 61579638, "body": "I excluded <code>index.ts</code> in <code>tsconfig</code> temporary to solve this issue and run <code>tsc index.ts</code> separately when <code>index.ts</code> changed! :("}, {"owner": {"reputation": 118994, "user_id": 942852, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/secsn.jpg?s=128&g=1", "display_name": "Nitzan Tomer", "link": "https://stackoverflow.com/users/942852/nitzan-tomer"}, "edited": false, "score": 0, "creation_date": 1462310516, "post_id": 37013665, "comment_id": 61581317, "body": "maybe you have a reference to <code>index.d.ts</code> in your code somewhere, then when you compile, the compiler thinks that <code>index.d.ts</code> is part of the source and therefor throw that error. just a thought."}, {"owner": {"reputation": 118994, "user_id": 942852, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/secsn.jpg?s=128&g=1", "display_name": "Nitzan Tomer", "link": "https://stackoverflow.com/users/942852/nitzan-tomer"}, "edited": false, "score": 0, "creation_date": 1462311738, "post_id": 37013665, "comment_id": 61581896, "body": "What happens if you compile with out the <code>&quot;declaration&quot;: true</code>?"}, {"owner": {"reputation": 1810, "user_id": 1476104, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5768f7edd993f3f1a5363f6d786d5ace?s=128&d=identicon&r=PG", "display_name": "Ali.MD", "link": "https://stackoverflow.com/users/1476104/ali-md"}, "reply_to_user": {"reputation": 118994, "user_id": 942852, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/secsn.jpg?s=128&g=1", "display_name": "Nitzan Tomer", "link": "https://stackoverflow.com/users/942852/nitzan-tomer"}, "edited": false, "score": 0, "creation_date": 1462397871, "post_id": 37013665, "comment_id": 61627008, "body": "what do you mean ?"}, {"owner": {"reputation": 1810, "user_id": 1476104, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5768f7edd993f3f1a5363f6d786d5ace?s=128&d=identicon&r=PG", "display_name": "Ali.MD", "link": "https://stackoverflow.com/users/1476104/ali-md"}, "reply_to_user": {"reputation": 118994, "user_id": 942852, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/secsn.jpg?s=128&g=1", "display_name": "Nitzan Tomer", "link": "https://stackoverflow.com/users/942852/nitzan-tomer"}, "edited": false, "score": 0, "creation_date": 1462397911, "post_id": 37013665, "comment_id": 61627030, "body": "there is no error when declaration set to false"}, {"owner": {"reputation": 1810, "user_id": 1476104, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5768f7edd993f3f1a5363f6d786d5ace?s=128&d=identicon&r=PG", "display_name": "Ali.MD", "link": "https://stackoverflow.com/users/1476104/ali-md"}, "reply_to_user": {"reputation": 118994, "user_id": 942852, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/secsn.jpg?s=128&g=1", "display_name": "Nitzan Tomer", "link": "https://stackoverflow.com/users/942852/nitzan-tomer"}, "edited": false, "score": 0, "creation_date": 1462398420, "post_id": 37013665, "comment_id": 61627267, "body": "I report it as an <a href=\"https://github.com/Microsoft/TypeScript/issues/8468\" rel=\"nofollow noreferrer\">issue to typescript</a>"}, {"owner": {"reputation": 1810, "user_id": 1476104, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5768f7edd993f3f1a5363f6d786d5ace?s=128&d=identicon&r=PG", "display_name": "Ali.MD", "link": "https://stackoverflow.com/users/1476104/ali-md"}, "reply_to_user": {"reputation": 118994, "user_id": 942852, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/secsn.jpg?s=128&g=1", "display_name": "Nitzan Tomer", "link": "https://stackoverflow.com/users/942852/nitzan-tomer"}, "edited": false, "score": 0, "creation_date": 1462400519, "post_id": 37013665, "comment_id": 61628110, "body": "file can be deleted and issue remain, i don`t want the outDir and its not related to this issue, i think you dont know the answer and try to collect some point at stackoverflow"}, {"owner": {"reputation": 118994, "user_id": 942852, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/secsn.jpg?s=128&g=1", "display_name": "Nitzan Tomer", "link": "https://stackoverflow.com/users/942852/nitzan-tomer"}, "edited": false, "score": 3, "creation_date": 1462403227, "post_id": 37013665, "comment_id": 61628970, "body": "you don&#39;t get points on comments, but you&#39;re right, I don&#39;t know the answer, but I&#39;m asking questions/making suggestions in order to try and help you solve or find workaround your problem until it&#39;s solved. You&#39;re welcome.  And the outDir can be related to the issue as it separates the source from the output, and then it shouldn&#39;t complain about writing on a source file, maybe, just a thought, but maybe it won&#39;t work, damn, won&#39;t get my precious points."}, {"owner": {"reputation": 1810, "user_id": 1476104, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5768f7edd993f3f1a5363f6d786d5ace?s=128&d=identicon&r=PG", "display_name": "Ali.MD", "link": "https://stackoverflow.com/users/1476104/ali-md"}, "reply_to_user": {"reputation": 118994, "user_id": 942852, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/secsn.jpg?s=128&g=1", "display_name": "Nitzan Tomer", "link": "https://stackoverflow.com/users/942852/nitzan-tomer"}, "edited": false, "score": 0, "creation_date": 1462448795, "post_id": 37013665, "comment_id": 61647002, "body": "outDir not fixed the issue!"}, {"owner": {"reputation": 118994, "user_id": 942852, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/secsn.jpg?s=128&g=1", "display_name": "Nitzan Tomer", "link": "https://stackoverflow.com/users/942852/nitzan-tomer"}, "edited": false, "score": 0, "creation_date": 1462449357, "post_id": 37013665, "comment_id": 61647351, "body": "That&#39;s too bad. Though from the correspondence in the ticket you opened it seems that (a) everyone there suggest similar things to what I suggested (they are probably looking for stackoverflow points as well, bastards) and (b) that I was right. You do reference that <code>.d.ts</code> file with that import of yours.  I&#39;d expect an apology, but from what you write and how you write it (from what I&#39;ve been reading so far) it will be stupid to expect such a thing. I&#39;d wish you best of luck, but honestly don&#39;t care."}], "answers": [{"comments": [{"owner": {"reputation": 6501, "user_id": 765965, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/ca44d9d17e752930c3f825bb7d815fed?s=128&d=identicon&r=PG", "display_name": "Al-Mothafar", "link": "https://stackoverflow.com/users/765965/al-mothafar"}, "edited": false, "score": 1, "creation_date": 1490532052, "post_id": 37098165, "comment_id": 73143426, "body": "Links broken, you better to copy that code snippet that use URLs"}, {"owner": {"reputation": 1810, "user_id": 1476104, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5768f7edd993f3f1a5363f6d786d5ace?s=128&d=identicon&r=PG", "display_name": "Ali.MD", "link": "https://stackoverflow.com/users/1476104/ali-md"}, "reply_to_user": {"reputation": 6501, "user_id": 765965, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/ca44d9d17e752930c3f825bb7d815fed?s=128&d=identicon&r=PG", "display_name": "Al-Mothafar", "link": "https://stackoverflow.com/users/765965/al-mothafar"}, "edited": false, "score": 0, "creation_date": 1492512136, "post_id": 37098165, "comment_id": 73994769, "body": "@Al-Mothafar Thank you, i updated the links, as you see i wrote the codes and also link the source for more information"}], "tags": [], "owner": {"reputation": 1810, "user_id": 1476104, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5768f7edd993f3f1a5363f6d786d5ace?s=128&d=identicon&r=PG", "display_name": "Ali.MD", "link": "https://stackoverflow.com/users/1476104/ali-md"}, "is_accepted": true, "score": 6, "last_activity_date": 1568744219, "last_edit_date": 1568744219, "creation_date": 1462698811, "answer_id": 37098165, "question_id": 37013665, "link": "https://stackoverflow.com/questions/37013665/typescript-error-cannot-write-file-index-d-ts-because-it-would-overwrite-inpu/37098165#37098165", "title": "TypeScript error: Cannot write file &#39;index.d.ts&#39; because it would overwrite input file", "body": "<p>In your example folder you wrote <code>import * as test from '../'</code><br>\nsee <a href=\"https://github.com/AliMD/Node.js-Telegram-Bot-API/blob/v0.0.2/examples/test-server.ts#L1\" rel=\"nofollow noreferrer\">https://github.com/AliMD/Node.js-Telegram-Bot-API/blob/v0.0.2/examples/test-server.ts#L1</a></p>\n\n<p>It should load your <code>index.ts</code>, <code>index.d.ts</code>, or <code>package.json</code> \"typings\" field.<br>\nAnd that's the issue. Your <code>package.json</code> does say that <code>index.d.ts</code> is the definition file for this package, see <a href=\"https://github.com/AliMD/Node.js-Telegram-Bot-API/blob/v0.0.2/package.json#L9\" rel=\"nofollow noreferrer\">https://github.com/AliMD/Node.js-Telegram-Bot-API/blob/v0.0.2/package.json#L9</a><br>\nso <code>import * as test from '../'</code> will load <code>package.json</code>, load typings field and then load <code>index.d.ts</code> and it causes the problem.</p>\n\n<p><strong>Two solutions</strong></p>\n\n<ul>\n<li><p>Import index file instead of root folder (recommended approach)<br>\ne.g. <code>import * as test from '../index'</code>; or,</p></li>\n<li><p>Move output to a different folder<br>e.g. <code>\\lib\\index.d.ts</code>.</p></li>\n</ul>\n\n<p>In both solutions you should load the target file and not the folder. Since you're not loading the root folder anymore the problem will be solved.</p>\n"}, {"tags": [], "owner": {"reputation": 3573, "user_id": 1449587, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/7f15222a49d2be8ab93a93892ab123fe?s=128&d=identicon&r=PG", "display_name": "sksallaj", "link": "https://stackoverflow.com/users/1449587/sksallaj"}, "is_accepted": false, "score": 0, "last_activity_date": 1600750715, "last_edit_date": 1600750715, "creation_date": 1469937538, "answer_id": 38680633, "question_id": 37013665, "link": "https://stackoverflow.com/questions/37013665/typescript-error-cannot-write-file-index-d-ts-because-it-would-overwrite-inpu/38680633#38680633", "title": "TypeScript error: Cannot write file &#39;index.d.ts&#39; because it would overwrite input file", "body": "<p>I had this very same problem, and it was super simple to fix. I deleted node_modules, then deleting the typings folder.</p>\n<p>in package.json I have these in</p>\n<pre><code>scripts: {\n    ...\n    &quot;tsc&quot;: &quot;tsc&quot;,\n    &quot;typings&quot;: &quot;typings&quot;\n    ...\n}\n</code></pre>\n<p>then ran the commands:</p>\n<pre class=\"lang-sh prettyprint-override\"><code>npm install\nnpm run tsc\nnpm run typings install\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 5276, "user_id": 3776535, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/c960c9d125c661738fe7b61ff41b740b?s=128&d=identicon&r=PG", "display_name": "Burt_Harris", "link": "https://stackoverflow.com/users/3776535/burt-harris"}, "is_accepted": false, "score": 7, "last_activity_date": 1475370119, "creation_date": 1475370119, "answer_id": 39812906, "question_id": 37013665, "link": "https://stackoverflow.com/questions/37013665/typescript-error-cannot-write-file-index-d-ts-because-it-would-overwrite-inpu/39812906#39812906", "title": "TypeScript error: Cannot write file &#39;index.d.ts&#39; because it would overwrite input file", "body": "<p>Perahaps a better approach is to exclude the <code>target</code> directory from your build.  The key is including the same directory in both the <code>outDir</code> and <code>exclude</code> keys:</p>\n\n<pre><code>{\n    \"compilerOptions\": {\n        \"module\": \"commonjs\",\n        \"target\": \"es6\",\n        \"noImplicitAny\": false,\n        \"sourceMap\": true,\n        \"experimentalDecorators\": true,\n        \"outDir\": \"target\",\n        \"declaration\": true\n    },\n    \"exclude\": [\n        \"node_modules\",\n        \"target\"\n    ]\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1484, "user_id": 63043, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NQ163.jpg?s=128&g=1", "display_name": "Paul Carroll", "link": "https://stackoverflow.com/users/63043/paul-carroll"}, "is_accepted": false, "score": 2, "last_activity_date": 1530765211, "creation_date": 1530765211, "answer_id": 51183433, "question_id": 37013665, "link": "https://stackoverflow.com/questions/37013665/typescript-error-cannot-write-file-index-d-ts-because-it-would-overwrite-inpu/51183433#51183433", "title": "TypeScript error: Cannot write file &#39;index.d.ts&#39; because it would overwrite input file", "body": "<p>Many thanks to everyone else for their answers, for me however the problem was a lot simpler (and stupider). I had let WebStorm select the best import statement for me and overlooked that it included a file from the \"dist\" directory (this is what I have my output set to.</p>\n\n<p>Once that cause was found the error made much more sense as it was indeed trying to write to the output file that was being used as it's input.</p>\n"}], "owner": {"reputation": 1810, "user_id": 1476104, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5768f7edd993f3f1a5363f6d786d5ace?s=128&d=identicon&r=PG", "display_name": "Ali.MD", "link": "https://stackoverflow.com/users/1476104/ali-md"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 12314, "favorite_count": 1, "accepted_answer_id": 37098165, "answer_count": 4, "score": 9, "last_activity_date": 1600750715, "creation_date": 1462306936, "last_edit_date": 1462698994, "question_id": 37013665, "link": "https://stackoverflow.com/questions/37013665/typescript-error-cannot-write-file-index-d-ts-because-it-would-overwrite-inpu", "title": "TypeScript error: Cannot write file &#39;index.d.ts&#39; because it would overwrite input file", "body": "<p>I have issue when run <code>tsc</code></p>\n\n<pre><code>error TS5055: Cannot write file 'index.d.ts' because it would overwrite input file.\n</code></pre>\n\n<p>my <code>tsconfig.json</code>:</p>\n\n<pre><code>{\n  \"compilerOptions\": {\n    \"target\": \"es6\",\n    \"module\": \"commonjs\",\n    \"moduleResolution\": \"node\",\n    \"declaration\": true,\n    \"newLine\": \"LF\",\n    \"preserveConstEnums\": true,\n    \"pretty\": true,\n    \"experimentalDecorators\": true\n  },\n\n  \"exclude\": [\n    \"node_modules\",\n    \"typings\"\n  ]\n}\n</code></pre>\n\n<p>This issue solved when:</p>\n\n<ol>\n<li>exclude <code>index.ts</code> in <code>tsconfig</code></li>\n<li>run <code>tsc index.ts</code></li>\n<li>Turn <code>declaration</code> off in <code>tsconfig</code></li>\n<li>rename <code>index</code> to another name!</li>\n</ol>\n\n<p>I have same issue when change typescript main file in package.json<br>\nfor example: rename index.ts to foo.ts</p>\n\n<p>change <code>package.json</code> to</p>\n\n<pre><code>\"typescript\": {\n  \"main\": \"foo.ts\"\n}\n</code></pre>\n\n<p>tsc error:</p>\n\n<pre><code>error TS5055: Cannot write file 'index.d.ts' because it would overwrite input file.\n</code></pre>\n\n<p>content of file no mater, any code content has same issue!</p>\n\n<p>What can i do for fix it ?  </p>\n\n<p>Source code: <a href=\"https://github.com/AliMD/Node.js-Telegram-Bot-API/tree/v0.0.2-0\" rel=\"noreferrer\">https://github.com/AliMD/Node.js-Telegram-Bot-API/tree/v0.0.2-0</a><br>\nThank you in advance.</p>\n"}, {"tags": ["typescript", "angular"], "answers": [{"comments": [{"owner": {"reputation": 6834, "user_id": 271012, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/m3wdQ.png?s=128&g=1", "display_name": "Drenai", "link": "https://stackoverflow.com/users/271012/drenai"}, "edited": false, "score": 0, "creation_date": 1489265310, "post_id": 37010547, "comment_id": 72598630, "body": "Could a JavaScript CustomEvent object be used? Is there a con to the pro of this? It&#39;s not really covered in the Angular documentation. Maybe because they advise against accessing the DOM directly"}, {"owner": {"reputation": 483726, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "reply_to_user": {"reputation": 6834, "user_id": 271012, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/m3wdQ.png?s=128&g=1", "display_name": "Drenai", "link": "https://stackoverflow.com/users/271012/drenai"}, "edited": false, "score": 0, "creation_date": 1489334940, "post_id": 37010547, "comment_id": 72615876, "body": "That&#39;s what <code>element.dispatchEvent()</code> is for. Angular suggests to use a shared service instead of DOM events. A DOM event can cause change detection to run for the whole app, while  a service with an observable only causes change detection to run for the component that subscribes to the observable."}, {"owner": {"reputation": 977, "user_id": 879062, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/zYGOu.jpg?s=128&g=1", "display_name": "igasparetto", "link": "https://stackoverflow.com/users/879062/igasparetto"}, "edited": false, "score": 0, "creation_date": 1489391913, "post_id": 37010547, "comment_id": 72633163, "body": "@G&#252;nterZ&#246;chbauer let&#39;s suppose we have an application where the right click on anchors of a specific class/selector should display a custom context menu. In jQuery, we would have something like <code>$(&#39;body&#39;).on(&#39;contextmenu&#39;, &#39;a.context&#39;, myFunction)</code> I would rather bind the event to the body instead of the a tag. You are saying that this approach is not possible in Angular2?"}, {"owner": {"reputation": 483726, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1489392064, "post_id": 37010547, "comment_id": 72633232, "body": "If you listen to a bubbling DOM event, it doesn&#39;t matter where you listen to it, it has the same effect everywhere. If you use a custom event that you fire in your code, a shared service with an observable is usually the better option."}, {"owner": {"reputation": 483726, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1489392246, "post_id": 37010547, "comment_id": 72633309, "body": "Of course there are differences. What I meant is from a performance perspective (in regard change detection)."}, {"owner": {"reputation": 977, "user_id": 879062, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/zYGOu.jpg?s=128&g=1", "display_name": "igasparetto", "link": "https://stackoverflow.com/users/879062/igasparetto"}, "edited": false, "score": 0, "creation_date": 1489392423, "post_id": 37010547, "comment_id": 72633390, "body": "Do you have an example of <code>dispatchEvent()</code> anywhere? I looked at the modules source in my project and they are all using the native <code>new Event</code>. I was expecting Angular to have similar functionality than jQuery in that area: <code>.on</code>, <code>.dispatch</code>, which are extremely useful."}, {"owner": {"reputation": 483726, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 1, "creation_date": 1489392546, "post_id": 37010547, "comment_id": 72633437, "body": "Angular doesn&#39;t have anything here. Just use plain TS/JS. <a href=\"http://stackoverflow.com/a/42064469/217408\">stackoverflow.com/a/42064469/217408</a>. If you want to keep your code platform-neutral (web worker, universal, ... you can use the renderer <a href=\"http://stackoverflow.com/questions/36342890/in-angular2-how-to-know-when-any-form-input-field-lost-focus/36348311#36348311\" title=\"in angular2 how to know when any form input field lost focus\">stackoverflow.com/questions/36342890/&hellip;</a>)"}, {"owner": {"reputation": 920, "user_id": 5139758, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/3xqd7.jpg?s=128&g=1", "display_name": "padigan", "link": "https://stackoverflow.com/users/5139758/padigan"}, "edited": false, "score": 0, "creation_date": 1533303339, "post_id": 37010547, "comment_id": 90310549, "body": "This shouldn&#39;t be flagged as the answer as it is not giving a solution or even answering the question. It is simply replying with &#39;EventEmitter doesn&#39;t support bubbling&#39;, but the question was is it possible to bubble events up from nested child components - not whether EventEmitter supports bubbling. Dereks answer below gives a valid solution to this problem which doesn&#39;t require additional &#39;services&#39; or messing around with the DOM."}, {"owner": {"reputation": 483726, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1533305723, "post_id": 37010547, "comment_id": 90312067, "body": "How does <code>element.dispatchEvent()</code> not answer the question? DOM events bubble and you can listen to them like normal Angular events. Also Angular doesn&#39;t bubble events because it is considered a bad idea for performance reasons and there are better way to communicate between components like shared services with Observables. The linked page goes into details."}], "tags": [], "owner": {"reputation": 483726, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "is_accepted": true, "score": 18, "last_activity_date": 1462296242, "creation_date": 1462296242, "answer_id": 37010547, "question_id": 37010507, "link": "https://stackoverflow.com/questions/37010507/how-to-bubble-up-angular2-custom-event/37010547#37010547", "title": "How to bubble up angular2 custom event", "body": "<p>Events from <code>EventEmitter</code> don't support bubbling.</p>\n\n<p>You can either use <code>element.dispatchEvent()</code> to fire a DOM event that bubbles, or use a shared service like a message bus.</p>\n\n<p>See also <a href=\"https://angular.io/docs/ts/latest/cookbook/component-communication.html\" rel=\"noreferrer\">https://angular.io/docs/ts/latest/cookbook/component-communication.html</a></p>\n"}, {"comments": [{"owner": {"reputation": 920, "user_id": 5139758, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/3xqd7.jpg?s=128&g=1", "display_name": "padigan", "link": "https://stackoverflow.com/users/5139758/padigan"}, "edited": false, "score": 1, "creation_date": 1533302961, "post_id": 50391733, "comment_id": 90310286, "body": "This should be the correct answer as it answers the question with a solution rather than &#39;EventEmitter&#39; doesn&#39;t support bubbling."}, {"owner": {"reputation": 483726, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 3, "creation_date": 1533305766, "post_id": 50391733, "comment_id": 90312091, "body": "You could have read more than the first line of my answer before denouncing it."}], "tags": [], "owner": {"reputation": 83, "user_id": 2859815, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c052d0f31050218e0f3c06a65a8b06d1?s=128&d=identicon&r=PG&f=1", "display_name": "Derek", "link": "https://stackoverflow.com/users/2859815/derek"}, "is_accepted": false, "score": 7, "last_activity_date": 1526560817, "creation_date": 1526560817, "answer_id": 50391733, "question_id": 37010507, "link": "https://stackoverflow.com/questions/37010507/how-to-bubble-up-angular2-custom-event/50391733#50391733", "title": "How to bubble up angular2 custom event", "body": "<p>I came here looking for a solution, and I figured out one on my own. On your <code>tree-item</code>, you can add an event handler like so:</p>\n\n<pre><code>&lt;li&gt;\n  &lt;div&gt;{{model.name}}\n    &lt;span [hidden]=\"!isFolder\" (click)=\"addChild.emit(model)\"&gt;Add Child&lt;/span&gt;\n  &lt;/div&gt;\n  &lt;ul *ngFor=\"let m of model.children\"&gt;\n    &lt;tree-item [model]=\"m\" (yourEventEmitter)=\"handleEventBubble($event)\"&gt;&lt;/tree-item&gt;\n  &lt;/ul&gt;\n&lt;/li&gt;\n</code></pre>\n\n<p>and in your component.ts:</p>\n\n<pre><code>handleEventBubble(event): void {\n  this.yourEventEmitter.emit(event);\n}\n</code></pre>\n\n<p>This will cause the event to emit on the parent element, which passes up the chain all the way up to the root element. You can even define custom bubbling logic by transforming the event before re-emitting it.</p>\n"}, {"tags": [], "owner": {"reputation": 461, "user_id": 2075605, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pUwNP.gif?s=128&g=1", "display_name": "tequilacat", "link": "https://stackoverflow.com/users/2075605/tequilacat"}, "is_accepted": false, "score": 0, "last_activity_date": 1617139680, "last_edit_date": 1617139680, "creation_date": 1617131774, "answer_id": 66877156, "question_id": 37010507, "link": "https://stackoverflow.com/questions/37010507/how-to-bubble-up-angular2-custom-event/66877156#66877156", "title": "How to bubble up angular2 custom event", "body": "<p>The closest thing to bubbling the Angular way IMO is using in-place service created by parent and accessed by components <a href=\"https://angular.io/guide/component-interaction#parent-and-children-communicate-via-a-service\" rel=\"nofollow noreferrer\">as referenced in accepted answer</a>. See Mission Control example.</p>\n<p>TL;DR:</p>\n<ul>\n<li>Create a service providing event observable source</li>\n<li>inject and provide the service in parent</li>\n<li>inject the service in child components of the parent - they will access the same instance</li>\n<li>subscribe to events in parent, emit them in children</li>\n</ul>\n<p>The components need not to be direct children of the parent like in the example - the service is accessed deep in hierarchy.</p>\n"}], "owner": {"reputation": 641, "user_id": 2129829, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6ab3e4045314cc8b6771278a4e5243ce?s=128&d=identicon&r=PG", "display_name": "Mario G.", "link": "https://stackoverflow.com/users/2129829/mario-g"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 13819, "favorite_count": 2, "accepted_answer_id": 37010547, "answer_count": 3, "score": 15, "last_activity_date": 1617139680, "creation_date": 1462296133, "question_id": 37010507, "link": "https://stackoverflow.com/questions/37010507/how-to-bubble-up-angular2-custom-event", "title": "How to bubble up angular2 custom event", "body": "<p>Parent template:</p>\n\n<pre><code>&lt;ul&gt;\n   &lt;tree-item [model]=\"tree\" (addChild)=\"addChild($event)\"&gt;&lt;/tree-item&gt;\n&lt;/ul&gt;\n</code></pre>\n\n<p>Tree item template:</p>\n\n<pre><code>&lt;li&gt;\n  &lt;div&gt;{{model.name}}\n    &lt;span [hidden]=\"!isFolder\" (click)=\"addChild.emit(model)\"&gt;Add Child&lt;/span&gt;\n  &lt;/div&gt;\n  &lt;ul *ngFor=\"let m of model.children\"&gt;\n    &lt;tree-item [model]=\"m\"&gt;&lt;/tree-item&gt;\n  &lt;/ul&gt;\n&lt;/li&gt;\n</code></pre>\n\n<p>For above example, parent receives addChild event only from the root tree-item (immediate child). Is it possible to bubble up addChild event from any tree-item?\nI am using angular 2.0.0-rc.0.</p>\n"}, {"tags": ["reactjs", "typescript", "redux", "react-redux", "typescript1.8"], "comments": [{"owner": {"reputation": 11708, "user_id": 2024590, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/ixKgZ.jpg?s=128&g=1", "display_name": "Hinrich", "link": "https://stackoverflow.com/users/2024590/hinrich"}, "edited": false, "score": 0, "creation_date": 1524573232, "post_id": 37010193, "comment_id": 87019622, "body": "You are exporting the Counter Component twice, maybe that can also be an issue here."}], "answers": [{"comments": [{"owner": {"reputation": 207, "user_id": 923378, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/69a47036c65c0357f1003fb200d3116c?s=128&d=identicon&r=PG", "display_name": "Jeroen", "link": "https://stackoverflow.com/users/923378/jeroen"}, "edited": false, "score": 0, "creation_date": 1465933973, "post_id": 37018227, "comment_id": 63105744, "body": "did you found out anything more (explanation) about this? I noticed that you didn&#39;t receive any answer on your question on the github issue. Are you using return types for the mapStateToProps and mapDispatchToProps (for which you probably had to made the members of the interface optional like you suggested)? That is how I am currently applying it to be able to run."}, {"owner": {"reputation": 534, "user_id": 1431043, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/1835035fa00e36ece37c8dbf455dfb03?s=128&d=identicon&r=PG", "display_name": "Ochowie", "link": "https://stackoverflow.com/users/1431043/ochowie"}, "reply_to_user": {"reputation": 207, "user_id": 923378, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/69a47036c65c0357f1003fb200d3116c?s=128&d=identicon&r=PG", "display_name": "Jeroen", "link": "https://stackoverflow.com/users/923378/jeroen"}, "edited": false, "score": 1, "creation_date": 1466025196, "post_id": 37018227, "comment_id": 63152000, "body": "Yeah I specified the return types on mapStateToProps and mapDispatchToProps. The interface members do have to be optional no matter what otherwise it will fail where the component is called. I&#39;m not a huge fan of how TS works with Redux and react-redux&#39;s connect method but I can&#39;t think of a good way around that right now."}], "tags": [], "owner": {"reputation": 534, "user_id": 1431043, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/1835035fa00e36ece37c8dbf455dfb03?s=128&d=identicon&r=PG", "display_name": "Ochowie", "link": "https://stackoverflow.com/users/1431043/ochowie"}, "is_accepted": true, "score": 9, "last_activity_date": 1462335250, "last_edit_date": 1462335250, "creation_date": 1462334719, "answer_id": 37018227, "question_id": 37010193, "link": "https://stackoverflow.com/questions/37010193/type-error-when-using-typescript-with-react-redux/37018227#37018227", "title": "Type Error when using Typescript with React-Redux", "body": "<p>I found the answer in the second to last post on this Github <a href=\"https://github.com/DefinitelyTyped/DefinitelyTyped/issues/6237\" rel=\"noreferrer\">issue</a>. Without the type parameter on both the <code>mapStateToProps</code> and/or <code>mapDispatchToProps</code> or on <code>connect</code> it will produce an intersection of the return types of the two map functions.</p>\n"}, {"comments": [{"owner": {"reputation": 269539, "user_id": 155423, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/419218774d04a581476ea1887a0921e0?s=128&d=identicon&r=PG", "display_name": "Shepmaster", "link": "https://stackoverflow.com/users/155423/shepmaster"}, "edited": false, "score": 0, "creation_date": 1503783054, "post_id": 39519596, "comment_id": 78758654, "body": "In my case, I didn&#39;t have any values for <code>mapDispatchToProps</code>, so explicitly passing <code>null</code> or <code>undefined</code> instead of leaving off the value seemed to make the error go away: <code>export default connect(mapStateToProps, null)(MyComponent);</code>"}, {"owner": {"reputation": 2481, "user_id": 1212000, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZPwGy.png?s=128&g=1", "display_name": "Raffael", "link": "https://stackoverflow.com/users/1212000/raffael"}, "edited": false, "score": 0, "creation_date": 1505418712, "post_id": 39519596, "comment_id": 79418088, "body": "as. as? as! \\&#40;^o^)/"}, {"owner": {"user_type": "does_not_exist", "display_name": "user2735832"}, "edited": false, "score": 0, "creation_date": 1511365935, "post_id": 39519596, "comment_id": 81832380, "body": "This specifically fails as you need to type-parameterize connect:  Even then, there seem to be deeper issues with connect."}, {"owner": {"reputation": 736, "user_id": 5678644, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/49b0529180721f3e3eafffa498fa2d30?s=128&d=identicon&r=PG&f=1", "display_name": "Denis Frezzato", "link": "https://stackoverflow.com/users/5678644/denis-frezzato"}, "edited": false, "score": 0, "creation_date": 1553157207, "post_id": 39519596, "comment_id": 97282922, "body": "What&#39;s the point to use TypeScript and then put <code>any</code> here and there? Bad example."}], "tags": [], "owner": {"reputation": 1763, "user_id": 537846, "user_type": "registered", "accept_rate": 47, "profile_image": "https://www.gravatar.com/avatar/e02320571d6a0cb3e35c6f8bf5d89b4c?s=128&d=identicon&r=PG", "display_name": "vinga", "link": "https://stackoverflow.com/users/537846/vinga"}, "is_accepted": false, "score": 40, "last_activity_date": 1477558072, "last_edit_date": 1477558072, "creation_date": 1473970384, "answer_id": 39519596, "question_id": 37010193, "link": "https://stackoverflow.com/questions/37010193/type-error-when-using-typescript-with-react-redux/39519596#39519596", "title": "Type Error when using Typescript with React-Redux", "body": "<p>To preserve type safety you can divide your props in parts, one responsible for normal props and one for dispatchers:</p>\n\n<pre><code>import * as React from 'react';\nimport {connect}  from 'react-redux';\n\ninterface StateProps {\n    textPros: string,\n    optionalText?: string,\n\n}\ninterface DispatchProps {\n    onClick1: Function,\n\n}\n\nclass MyComp extends React.Component&lt;StateProps &amp; DispatchProps , any&gt; {\n    render() {\n         return (&lt;div onClick={this.props.onClick1}&gt;{this.props.textPros}&lt;/div&gt;);\n    }\n}\nconst mapStateToProps = (state: any, ownProp? :any):StateProps  =&gt; ({\n    textPros: \"example text\",\n});\nconst mapDispatchToProps = (dispatch: any):DispatchProps =&gt; ({\n    onClick1: () =&gt; {\n        dispatch({ type: 'CLICK_ACTION'});\n    }\n});\nexport default connect(mapStateToProps, mapDispatchToProps)(MyComp);\n</code></pre>\n\n<p>For those who search for quick workaround: just add 'as any' to base component.  </p>\n\n<pre><code>export default connect(mapStateToProps, mapDispatchToProps)(MyComp as any);\n</code></pre>\n"}], "owner": {"reputation": 534, "user_id": 1431043, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/1835035fa00e36ece37c8dbf455dfb03?s=128&d=identicon&r=PG", "display_name": "Ochowie", "link": "https://stackoverflow.com/users/1431043/ochowie"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 13027, "favorite_count": 5, "accepted_answer_id": 37018227, "answer_count": 2, "score": 11, "last_activity_date": 1477558072, "creation_date": 1462295133, "last_edit_date": 1462322850, "question_id": 37010193, "link": "https://stackoverflow.com/questions/37010193/type-error-when-using-typescript-with-react-redux", "title": "Type Error when using Typescript with React-Redux", "body": "<p>I am trying to use react-redux with typescript and I'm getting a type error when I try to inject props using connect() and mapStateToProps.</p>\n\n<p>My component looks like this:</p>\n\n<pre><code>function mapStateToProps(state) {\n    return {\n        counter: state.counter\n    };\n}\n\nfunction mapDispatchToProps(dispatch) {\n    return {\n        incr: () =&gt; {\n            dispatch({type: 'INCR', by: 2});\n        },\n        decr: () =&gt; {\n            dispatch({type: 'INCR', by: -1});\n        }\n    };\n}\n\n\n\n\nexport default class Counter extends React.Component&lt;HelloProps, any&gt; {\n    render() {\n        return (\n          &lt;div&gt;\n              &lt;p&gt;\n                  &lt;label&gt;Counter: &lt;/label&gt;\n                  &lt;b&gt;#{this.props.counter}&lt;/b&gt;\n              &lt;/p&gt;\n              &lt;button onClick={e =&gt; this.props.incr() }&gt;INCREMENT&lt;/button&gt;\n              &lt;span style={{ padding: \"0 5px\" }}/&gt;\n              &lt;button onClick={e =&gt; this.props.decr() }&gt;DECREMENT&lt;/button&gt;\n        );\n    }\n}\n\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Counter);\n</code></pre>\n\n<p>The store looks like this</p>\n\n<pre><code>let store = createStore(\n    (state:HelloState, action:HelloAction) =&gt; {\n        switch (action.type) {\n            case 'INCR':\n                return {counter: state.counter + action.by};\n            default:\n                return state;\n        }\n    },\n</code></pre>\n\n<p>Finally, I have defined my types to be:</p>\n\n<pre><code>interface HelloProps {\n    counter?: number;\n    incr?: () =&gt; any;\n    decr?: () =&gt; any;\n}\n\ninterface HelloState { \n    counter:number;\n}\n\ninterface HelloAction { \n    type:string, \n    by:number;\n}\n</code></pre>\n\n<p>When I try and compile the code I get the following error:</p>\n\n<pre><code>(39,61): error TS2345: Argument of type 'typeof Counter' is not assignable to parameter of type 'ComponentClass&lt;{ counter: any; } &amp; { incr: () =&gt; void; decr: () =&gt; void; }&gt; | StatelessComponent&lt;...'.\n  Type 'typeof Counter' is not assignable to type 'StatelessComponent&lt;{ counter: any; } &amp; { incr: () =&gt; void; decr: () =&gt; void; }&gt;'.\n    Type 'typeof Counter' provides no match for the signature '(props?: { counter: any; } &amp; { incr: () =&gt; void; decr: () =&gt; void; }, context?: any): ReactElement&lt;any&gt;' \n</code></pre>\n\n<p>Interestingly the code still works even though it throws the type error. Also, changing the component's prop interface to any also solves the issue. It seems like the type system doesn't understand that the two objects are merged by the two mapped functions.</p>\n"}, {"tags": ["typescript"], "comments": [{"owner": {"reputation": 6644, "user_id": 439898, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/e3daa290c005a6057993fb63715f9c14?s=128&d=identicon&r=PG", "display_name": "Andy Fleming", "link": "https://stackoverflow.com/users/439898/andy-fleming"}, "edited": false, "score": 1, "creation_date": 1462691491, "post_id": 37009997, "comment_id": 61737484, "body": "A short-term, indirect solution is to use a library like lodash (especially if you already have it in your project). You could use the syntax <code>_.repeat(&#39;0&#39;, 4 - str.length)</code>."}], "answers": [{"tags": [], "owner": {"reputation": 534, "user_id": 5302008, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/6da6be45abcaac81c87b513f2d9f1182?s=128&d=identicon&r=PG&f=1", "display_name": "BaldEagle", "link": "https://stackoverflow.com/users/5302008/baldeagle"}, "is_accepted": false, "score": 1, "last_activity_date": 1463514580, "creation_date": 1463514580, "answer_id": 37285070, "question_id": 37009997, "link": "https://stackoverflow.com/questions/37009997/typescript-es2015-string-property-repeat-not-recognized/37285070#37285070", "title": "TypeScript: ES2015 string property &#39;repeat&#39; not recognized", "body": "<p>What ended up working for me was:</p>\n\n<p>(1) Remove all references to d.ts files and compile. It seemed some of my problems came from overlapping definitions in various d.ts files. With all of those files gone, the compile told me what problems were \"real\". One of them was this one.</p>\n\n<p>(2) In my project directory, I created a <code>typings</code> directory. I'll make a habit of putting almost all d.ts files there. Modules get a directory there. (For instance, I have a <code>typings\\node</code> that holds <code>node.d.ts</code>.)</p>\n\n<p>(3) In <code>typings</code>, I have a file I'm slowly building; some call it <code>globals.d.ts</code> and lots of people seem to prefer <code>index.d.ts</code>. In it, I put all the solutions I've needed. This was one of them; <code>string.substr</code> was a second. The relevant part of that file:</p>\n\n<pre><code>interface String {\n    repeat(count: number): string\n    substr(from: number, length?: number): string\n}\n</code></pre>\n\n<p>And where'd I get that? Anywhere with something that works! I found these two lines in a copy of <code>lib.es6.d.ts</code>.</p>\n\n<p>(4) Cite that file in your source code via <code>/// &lt;reference path=\"./typings/index.d.ts\" /&gt;</code> (subject to whatever you call the file). Compile. Repeat (3) as needed. When all the errors go away, my d.ts is complete enough. Someday, I'm bound to add more source code that'll need more here, but that's a later problem.</p>\n\n<p>Is everything sweetness and light? Certainly not.</p>\n\n<p>I'm past this error, but there's another that is particularly perplexing.</p>\n\n<p>I've read some development tickets the TypeScript team shares with the public. They definitely understand the whole problem. It's not easy to fix. They're chipping away at it. When they're done, I think they hope this will no longer be a problem.</p>\n\n<p>Sometimes, even with the amazing resource of <code>typings</code> on npm, the most recent version of a d.ts file I can find seems likely to be out of date. (The most recent version of node.d.ts is labeled for v4.x; I'm using v5.11 and v6.0 is out. Of course, v4.4 is the long-term-support version most suitable for production use. Sure. Still, I'm not fully confident I'll always be able to find a solution.)</p>\n\n<p>If the lines in those files make my errors go away, they're good enough for me. Sometimes, they don't.</p>\n\n<p>If I can figure out the typings on my own, that's best case. I'm developing toward full ability to do that. (So ... sometimes, I can't! Sigh.)</p>\n\n<p>I'll be glad to understand everything related to these issues!</p>\n"}, {"comments": [{"owner": {"reputation": 534, "user_id": 5302008, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/6da6be45abcaac81c87b513f2d9f1182?s=128&d=identicon&r=PG&f=1", "display_name": "BaldEagle", "link": "https://stackoverflow.com/users/5302008/baldeagle"}, "edited": false, "score": 0, "creation_date": 1530771346, "post_id": 51015235, "comment_id": 89350668, "body": "Elegant. Way better approach than mine."}], "tags": [], "owner": {"reputation": 2415, "user_id": 4216714, "user_type": "registered", "accept_rate": 88, "profile_image": "https://graph.facebook.com/1231298127/picture?type=large", "display_name": "Vladimir Venegas", "link": "https://stackoverflow.com/users/4216714/vladimir-venegas"}, "is_accepted": true, "score": 4, "last_activity_date": 1529889853, "creation_date": 1529889853, "answer_id": 51015235, "question_id": 37009997, "link": "https://stackoverflow.com/questions/37009997/typescript-es2015-string-property-repeat-not-recognized/51015235#51015235", "title": "TypeScript: ES2015 string property &#39;repeat&#39; not recognized", "body": "<p>In my case, I only changed this line on tsconfig.json file:</p>\n\n<p>Before:</p>\n\n<pre><code>\"compilerOptions\": {\n    \"target\": \"es5\"\n}\n</code></pre>\n\n<p>After:</p>\n\n<pre><code>\"compilerOptions\": {\n    \"target\": \"es6\"\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 7835, "user_id": 5318303, "user_type": "registered", "accept_rate": 39, "profile_image": "https://www.gravatar.com/avatar/c68a73abf0e7084430aa45ac9f97fda9?s=128&d=identicon&r=PG", "display_name": "Mir-Ismaili", "link": "https://stackoverflow.com/users/5318303/mir-ismaili"}, "is_accepted": false, "score": 0, "last_activity_date": 1556495659, "creation_date": 1556495659, "answer_id": 55895534, "question_id": 37009997, "link": "https://stackoverflow.com/questions/37009997/typescript-es2015-string-property-repeat-not-recognized/55895534#55895534", "title": "TypeScript: ES2015 string property &#39;repeat&#39; not recognized", "body": "<p>In my special case (perhaps <em>very special!</em>) <code>\"files\"</code> entry in <code>tsconfig.json</code> had pointed to an incorrect file.</p>\n\n<pre><code>{\n    \"compilerOptions\": {\n        ...\n    },\n    \"exclude\": [\n        ...\n    ],\n    \"files\": [\n        \"src/wrong.ts\"  // &lt;= CHECK THIS\n    ]\n}\n</code></pre>\n"}], "owner": {"reputation": 534, "user_id": 5302008, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/6da6be45abcaac81c87b513f2d9f1182?s=128&d=identicon&r=PG&f=1", "display_name": "BaldEagle", "link": "https://stackoverflow.com/users/5302008/baldeagle"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4005, "favorite_count": 1, "accepted_answer_id": 51015235, "answer_count": 3, "score": 7, "last_activity_date": 1556495659, "creation_date": 1462294518, "last_edit_date": 1518698928, "question_id": 37009997, "link": "https://stackoverflow.com/questions/37009997/typescript-es2015-string-property-repeat-not-recognized", "title": "TypeScript: ES2015 string property &#39;repeat&#39; not recognized", "body": "<p>Condition: I'm working on Win10, TypeScript 1.8, and Visual Studio Code 1.0.0. I have code like</p>\n\n<pre><code>///&lt;reference path = \"./typings/lib.es6.d.ts\" /&gt;\n</code></pre>\n\n<p>and, later</p>\n\n<pre><code>let z = \"0\".repeat(4 - str.length)\n</code></pre>\n\n<p>This is the <code>let z</code> line.</p>\n\n<p>VS Code put red underlines under \"repeat\" and reported</p>\n\n<pre><code>[ts] Property 'repeat' does not exist on type 'string'.\n</code></pre>\n\n<p>I compiled at the command line with</p>\n\n<pre><code>tsc &lt;filename&gt;.ts\n</code></pre>\n\n<p>Pointing at the start of <code>repeat</code> in the <code>let z</code> line, the compiler reported</p>\n\n<pre><code>error TS2339: Property 'repeat' does not exist on type 'string'.\n</code></pre>\n\n<p>Beggin' to differ, TypeScript, but that was added with ES2015 (ES6).</p>\n\n<p>Question: How can I get a clean compile?</p>\n\n<p>EDITS: Shortened.</p>\n"}, {"tags": ["typescript", "angular"], "comments": [{"owner": {"reputation": 483726, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1462294122, "post_id": 37009823, "comment_id": 61571903, "body": "What is the problem? Why is <code>selectedEventGroup</code> an array?"}, {"owner": {"reputation": 1652, "user_id": 1413703, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/dvIxc.jpg?s=128&g=1", "display_name": "ndesign11", "link": "https://stackoverflow.com/users/1413703/ndesign11"}, "reply_to_user": {"reputation": 483726, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1462294181, "post_id": 37009823, "comment_id": 61571944, "body": "//color: string = SchedulingMatrix.selectedEventGroup.value;  //Not working"}, {"owner": {"reputation": 483726, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1462294836, "post_id": 37009823, "comment_id": 61572375, "body": "What is <code>&lt;p-dropdown&gt;</code>?"}, {"owner": {"reputation": 1652, "user_id": 1413703, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/dvIxc.jpg?s=128&g=1", "display_name": "ndesign11", "link": "https://stackoverflow.com/users/1413703/ndesign11"}, "reply_to_user": {"reputation": 483726, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1462294983, "post_id": 37009823, "comment_id": 61572462, "body": "Its a component from the primeNG library.<a href=\"http://www.primefaces.org/primeng/#/dropdown\" rel=\"nofollow noreferrer\">primefaces.org/primeng/#/dropdown</a>"}], "answers": [{"tags": [], "owner": {"reputation": 1198, "user_id": 7577852, "user_type": "registered", "accept_rate": 14, "profile_image": "https://i.stack.imgur.com/H7eqZ.png?s=128&g=1", "display_name": "alehn96", "link": "https://stackoverflow.com/users/7577852/alehn96"}, "is_accepted": false, "score": 0, "last_activity_date": 1490028272, "creation_date": 1490028272, "answer_id": 42909285, "question_id": 37009823, "link": "https://stackoverflow.com/questions/37009823/angular-2-binding-to-form-select-value/42909285#42909285", "title": "Angular 2 binding to form select value", "body": "<pre><code>&lt;select *ngIf=\"eventGroup\" [(ngModel)]=\"selectedObject\"&gt;\n  &lt;option *ngFor=\"let x of objectList\" [ngValue]=\"x\"&gt;\n       {{...}}\n  &lt;/option&gt;\n&lt;/select&gt;\n</code></pre>\n\n<p>where selectedObject is any object\nand try this [ngValue] instead [(value)]=\"eventGroup\"</p>\n"}], "owner": {"reputation": 1652, "user_id": 1413703, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/dvIxc.jpg?s=128&g=1", "display_name": "ndesign11", "link": "https://stackoverflow.com/users/1413703/ndesign11"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 473, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1490028272, "creation_date": 1462293988, "last_edit_date": 1462295153, "question_id": 37009823, "link": "https://stackoverflow.com/questions/37009823/angular-2-binding-to-form-select-value", "title": "Angular 2 binding to form select value", "body": "<p>I am trying to control the color of an element pending user selection of a form select element. Currently I can only get it working statically. </p>\n\n<p><code>selectedEventGroup: string[]</code>; //this grabs the users selection in the form select dropdown.</p>\n\n<p><code>color: string = SchedulingMatrix.selectedEventGroup.value;</code> //This doesnt work returns error. \"selectedEventGroup does not exist on typeof SchedulingMatrix which might be another issue all by itself.</p>\n\n<p><code>color: string = \"green\";</code> //This works but is static</p>\n\n<p>my select component<code>&lt;p-dropdown [options]=\"eventGroup\" [(value)]=\"eventGroup\" style=\"width: 180px;\"&gt;&lt;/p-dropdown&gt;</code></p>\n\n<pre><code>import....\n\n@Component({\n  ...\n})\nexport class SchedulingMatrix implements OnInit {\n\n  events: any[];\n\n  event: MyEvent;\n\n  dialogVisible: boolean = false;\n\n  constructor(private eventService: EventService, private cd: ChangeDetectorRef) {\n\n    this.eventGroup = [];\n    this.eventGroup.push({\n      label: 'Select Group',\n      value: '#fff'\n    });\n    this.eventGroup.push({\n      label: 'group 1',\n      value: '#ccc'\n    });\n    this.eventGroup.push({\n      label: 'group 2',\n      value: '#ddd'\n    });\n    this.eventGroup.push({\n      label: 'group 3',\n      value: '#eee'\n    });\n\n  }\n\n  eventGroup: SelectItem[];\n  selectedEventGroup: string[]; //this grabs the users selection in the select dropdown.\n\n}\n\nexport class MyEvent {\n  id: number;\n  title: string;\n  start: string;\n  end: string;\n  color: string = \"green\"; //This works but is static\n  //color: string = SchedulingMatrix.selectedEventGroup.value;  //Not sure what to use here to  hook up to the the users selection in the eventGroup\n  allDay: boolean = true;\n}\n</code></pre>\n"}, {"tags": ["typescript", "webstorm"], "comments": [{"owner": {"reputation": 22172, "user_id": 1263942, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/b272a5e1d5d3589192d942552e51e2a8?s=128&d=identicon&r=PG", "display_name": "Bruno Grieder", "link": "https://stackoverflow.com/users/1263942/bruno-grieder"}, "edited": false, "score": 7, "creation_date": 1462292798, "post_id": 37009391, "comment_id": 61571101, "body": "output the generated files (.js and .js.map) to a different folder using the <code>outDir</code> option in <code>tsconfig.json</code>. The build folder can then easily be cleaned"}], "owner": {"reputation": 1508, "user_id": 2116361, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/nAyof.png?s=128&g=1", "display_name": "Hivaga", "link": "https://stackoverflow.com/users/2116361/hivaga"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 826, "favorite_count": 0, "answer_count": 0, "score": 4, "last_activity_date": 1523534197, "creation_date": 1462292599, "last_edit_date": 1462296661, "question_id": 37009391, "link": "https://stackoverflow.com/questions/37009391/configure-webstorm-to-delete-ts-js-js-map-all-together", "title": "Configure WebStorm to delete *.ts *.js *.js.map all together", "body": "<p>Currently after deleting a TypeScript (<code>*.ts</code>) file in WebStorm 2016 the compiled <code>*.js</code> and <code>*.js.map</code> from the deleted <code>*.ts</code> file remain and should be again manually deleted.</p>\n\n<p>Is there a way to delete this 3 files all together since both <code>*.js</code> and <code>*.js.map</code> are dependent on the <code>*.ts</code> file?</p>\n\n<p>Example:</p>\n\n<p>Create <code>MyClass.ts</code> (automatically), <code>MyClass.js</code> and <code>MyClass.js.map</code> will be created. When you delete <code>MyClass.ts</code> the other 2 files (<code>MyClass.js</code>, <code>MyClass.js.map</code>) will not be deleted!</p>\n"}, {"tags": ["javascript", "typescript", "angular", "chromecast", "systemjs"], "answers": [{"comments": [{"owner": {"reputation": 364, "user_id": 697420, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/d0a95e94ec212733488e72b28cfc6c3a?s=128&d=identicon&r=PG", "display_name": "Mark Tucker", "link": "https://stackoverflow.com/users/697420/mark-tucker"}, "edited": false, "score": 1, "creation_date": 1462319976, "post_id": 37010511, "comment_id": 61584528, "body": "Your answer got me on the right track. Thank you. I removed the meta section, put cast-receiver in the path section and added &quot;declare var cast&quot; to myService.ts. In addition, also added to myService.ts the line: &quot;import cast from &#39;cast-receiver&#39;;&quot;"}], "tags": [], "owner": {"reputation": 88, "user_id": 5020618, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/22ef2a4cede07a1f5da6afdc8505d028?s=128&d=identicon&r=PG&f=1", "display_name": "E. Allison", "link": "https://stackoverflow.com/users/5020618/e-allison"}, "is_accepted": true, "score": 0, "last_activity_date": 1462296630, "last_edit_date": 1462296630, "creation_date": 1462296143, "answer_id": 37010511, "question_id": 37009181, "link": "https://stackoverflow.com/questions/37009181/how-to-get-systemjs-to-load-module-from-cdn-that-is-in-global-format/37010511#37010511", "title": "How to get systemjs to load module from CDN that is in global format?", "body": "<p>Try adding </p>\n\n<pre><code>   map: {\n     cast-receiver: '//www.gstatic.com/cast/sdk/libs/receiver/2.0.0/cast_receiver.js'\n}\n</code></pre>\n\n<p>to your system config then declaring the thing you would like to import from the script in your service via,</p>\n\n<pre><code>declare var cast;\n</code></pre>\n\n<p>this will allow your compiler to recognize the name of the thing you are importing.</p>\n"}], "owner": {"reputation": 364, "user_id": 697420, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/d0a95e94ec212733488e72b28cfc6c3a?s=128&d=identicon&r=PG", "display_name": "Mark Tucker", "link": "https://stackoverflow.com/users/697420/mark-tucker"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1031, "favorite_count": 0, "accepted_answer_id": 37010511, "answer_count": 1, "score": 4, "last_activity_date": 1462296630, "creation_date": 1462291941, "question_id": 37009181, "link": "https://stackoverflow.com/questions/37009181/how-to-get-systemjs-to-load-module-from-cdn-that-is-in-global-format", "title": "How to get systemjs to load module from CDN that is in global format?", "body": "<p>The error that I am getting is:\nEXCEPTION: ReferenceError: cast is not defined in [null]</p>\n\n<p>Writing a custom Chromecast receiver application requires the use of the following js file that exposes the functionality via a global '<strong>cast</strong>' variable:</p>\n\n<p>//www.gstatic.com/cast/sdk/libs/receiver/2.0.0/cast_receiver.js</p>\n\n<p>I want to load this script as a module using systemjs instead of having a script tag in index.html.</p>\n\n<p>This is an Angular2 and TypeScript application so in some service, MyService, I want to be able to import 'cast' and use it.</p>\n\n<p><strong>index.html</strong></p>\n\n<pre><code>    &lt;script&gt;\n      System.config({\n        packages: {\n          app: {\n            format: 'register',\n            defaultExtension: 'js'\n          }\n        },\n        paths: {\n          'cast': '//www.gstatic.com/cast/sdk/libs/receiver/2.0.0/cast_receiver.js'\n        },\n        meta: {\n          '//www.gstatic.com/cast/sdk/libs/receiver/2.0.0/cast_receiver.js': {format: 'global'}\n        },      \n});\n\n      System.import('app/main')\n            .then(null, console.error.bind(console));\n    &lt;/script&gt;\n</code></pre>\n\n<p><strong>myService.ts</strong></p>\n\n<pre><code>import {Injectable} from 'angular2/core';\nimport cast from 'cast';\n\n@Injectable()\nexport class MyService {\n  public init = () =&gt; {\n    cast.receiver.logger.setLevelValue(cast.receiver.LoggerLevel.NONE);\n  }\n  ...\n}\n</code></pre>\n\n<p>A sample Angular2 + TypeScript + Chromecast Receiver application can be cloned from:</p>\n\n<p><a href=\"https://github.com/rmtuckerphx/angular2-chromecast-receiver-starterkit\" rel=\"nofollow\">https://github.com/rmtuckerphx/angular2-chromecast-receiver-starterkit</a></p>\n\n<p>This code doesn't currently have any code to load 'cast' using systemjs but could be quickly modified by updating index.html and cast-receiver-manager.service.ts</p>\n"}, {"tags": ["typescript", "angular", "visual-studio-debugging", "systemjs"], "comments": [{"owner": {"reputation": 1169, "user_id": 988322, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/d4aadf79097dd198c6e04c1d675124ce?s=128&d=identicon&r=PG", "display_name": "John Lee", "link": "https://stackoverflow.com/users/988322/john-lee"}, "edited": false, "score": 0, "creation_date": 1490385817, "post_id": 37008748, "comment_id": 73105990, "body": "Is the &quot;node_modules&quot; folder part of your VIsual Studio project? The compiler should not be looking down that folder. Make sure it is excluded from your project."}, {"owner": {"reputation": 1169, "user_id": 988322, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/d4aadf79097dd198c6e04c1d675124ce?s=128&d=identicon&r=PG", "display_name": "John Lee", "link": "https://stackoverflow.com/users/988322/john-lee"}, "edited": false, "score": 0, "creation_date": 1490385898, "post_id": 37008748, "comment_id": 73106030, "body": "I just looked at your path again - are your angular libraries in the node_modules folder or in scripts?"}], "owner": {"reputation": 873, "user_id": 2535406, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/8c703b874534b2bae355233837105566?s=128&d=identicon&r=PG", "display_name": "Dan Soltesz", "link": "https://stackoverflow.com/users/2535406/dan-soltesz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 211, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1462290633, "creation_date": 1462290633, "question_id": 37008748, "link": "https://stackoverflow.com/questions/37008748/typescript-debugging-in-visual-studio-angular-2-application", "title": "typescript debugging in visual studio angular 2 application", "body": "<p>I can't get TS debugging to work in visual studio 2015 with angular 2 application.  Here is my index / _layout file</p>\n\n<pre><code>&lt;!DOCTYPE html&gt;\n&lt;html&gt;\n&lt;head&gt;\n&lt;meta charset=\"utf-8\" /&gt;\n&lt;meta name=\"viewport\" content=\"width=device-width\" /&gt;\n&lt;title&gt;@ViewBag.Title&lt;/title&gt;\n&lt;base href=\"/\" /&gt;\n@Styles.Render(\"~/Content/css\")\n\n&lt;link rel=\"stylesheet\" type=\"text/css\" href=\"~/Content/lib/theme.css\" /&gt;\n&lt;link rel=\"stylesheet\" href=\"https://maxcdn.bootstrapcdn.com/font-awesome/4.6.1/css/font-awesome.min.css\"&gt;\n&lt;link rel=\"stylesheet\" type=\"text/css\" href=\"~/Content/lib/primeui-ng-all.min.css\" /&gt;\n\n&lt;!-- 1. Load libraries --&gt;\n@*@Scripts.Render(\"~/startup\");*@\n&lt;!-- IE required polyfills, in this exact order --&gt;\n&lt;script src=\"~/Scripts/lib/breeze-client/breeze.min.js\"&gt;&lt;/script&gt;\n&lt;script src=\"~/Scripts/lib/es6-shim/es6-shim.min.js\"&gt;&lt;/script&gt;\n&lt;script src=\"~/Scripts/lib/systemjs/dist/system-polyfills.js\"&gt;&lt;/script&gt;\n&lt;script src=\"~/Scripts/lib/shims_for_IE.js\"&gt;&lt;/script&gt;\n&lt;script src=\"~/Scripts/lib/angular2/bundles/angular2-polyfills.js\"&gt;&lt;/script&gt;\n&lt;script src=\"~/Scripts/lib/systemjs/dist/system.src.js\"&gt;&lt;/script&gt;\n&lt;script src=\"~/Scripts/lib/primeui/primeui-ng-all.min.js\"&gt;&lt;/script&gt;\n&lt;script src=\"~/Scripts/lib/rxjs/bundles/Rx.js\"&gt;&lt;/script&gt;\n&lt;script src=\"~/Scripts/lib/angular2/bundles/angular2.dev.js\"&gt;&lt;/script&gt;\n&lt;!-- 2. Configure SystemJS --&gt;\n&lt;script&gt;\n    System.config({\n        defaultJSExtensions: true,\n\n        meta: {\n            '*.js': { scriptLoad: true } //this allows TS debugging in VS\n        },\n        packages: {\n            app: {\n                format: 'register',\n                defaultExtension: 'js'\n            },\n\n        },\n        map: {\n            'rxjs': 'scripts/lib/rxjs',\n            'angular2': 'scripts/lib/angular2',\n            'primeng': 'scripts/lib/primeng'\n        }\n    });\n    System.import('app/main')\n        .then(null, console.error.bind(console));\n&lt;/script&gt;\n\n\n\n\n\n&lt;/head&gt;\n&lt;body&gt;\n\n&lt;div class=\"container body-content\"&gt;\n    @RenderBody()\n&lt;/div&gt;\n\n\n\n@RenderSection(\"scripts\", required: false)\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p>here is my tsconfig</p>\n\n<pre><code>{\n\"compileOnSave\": true,\n\"compilerOptions\": {\n\"target\": \"es5\",\n\"module\": \"system\",\n\"moduleResolution\": \"node\",\n\"sourceMap\": true,\n\"emitDecoratorMetadata\": true,\n\"experimentalDecorators\": true,\n\"removeComments\": false,\n\"noImplicitAny\": false\n},\n\"exclude\": [\n\"node_modules\",\n\"typings/main\",\n\"typings/main.d.ts\",\n\"typings/browser.d.ts\"\n]\n}\n</code></pre>\n\n<p>if I comment out the \"meta\" config everything work correctly and the application loads / runs as expected.  </p>\n\n<p>if I put the meta code in, I get the following errors </p>\n\n<p><a href=\"http://localhost:32532/scripts/lib/angular2/core.js\" rel=\"nofollow\">http://localhost:32532/scripts/lib/angular2/core.js</a> did not call System.register or AMD define. If loading a global module configure the global name via the meta exports property for script injection support</p>\n\n<p>I'm also using ts 1.8.9</p>\n"}, {"tags": ["typescript"], "answers": [{"tags": [], "owner": {"reputation": 80876, "user_id": 188246, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/bTzLq.jpg?s=128&g=1", "display_name": "David Sherret", "link": "https://stackoverflow.com/users/188246/david-sherret"}, "is_accepted": true, "score": 22, "last_activity_date": 1462287647, "creation_date": 1462287647, "answer_id": 37007660, "question_id": 37007524, "link": "https://stackoverflow.com/questions/37007524/export-a-union-type-alias-in-typescript/37007660#37007660", "title": "Export a union type alias in typescript", "body": "<p>Yeah, just needs the correct syntax for a <a href=\"https://www.typescriptlang.org/docs/handbook/advanced-types.html\" rel=\"noreferrer\">type alias</a>:</p>\n\n<pre><code>export type TypeAB = TypeA | TypeB;\n</code></pre>\n"}], "owner": {"reputation": 1903, "user_id": 595136, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/27d2533dcc77c3c324162240b4d99cd8?s=128&d=identicon&r=PG", "display_name": "Marius", "link": "https://stackoverflow.com/users/595136/marius"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 5641, "favorite_count": 2, "accepted_answer_id": 37007660, "answer_count": 1, "score": 12, "last_activity_date": 1462311039, "creation_date": 1462287302, "last_edit_date": 1462311039, "question_id": 37007524, "link": "https://stackoverflow.com/questions/37007524/export-a-union-type-alias-in-typescript", "title": "Export a union type alias in typescript", "body": "<p>Is it possible to export something like this:</p>\n\n<pre><code>export TypeA | TypeB as TypeAB;\n</code></pre>\n\n<p>and declare a variable of <code>TypeAB</code> that can be either of <code>TypeA</code> or <code>TypeB</code>: </p>\n\n<pre><code>import {TypeAB} from './typeab';\nvar ab: TypeAB;\n</code></pre>\n"}, {"tags": ["node.js", "mongodb", "mongoose", "typescript"], "answers": [{"comments": [{"owner": {"reputation": 1091, "user_id": 2002156, "user_type": "registered", "accept_rate": 48, "profile_image": "https://www.gravatar.com/avatar/a9484e5077527b9d4d8bdc7c272fc16d?s=128&d=identicon&r=PG", "display_name": "Nico", "link": "https://stackoverflow.com/users/2002156/nico"}, "edited": false, "score": 0, "creation_date": 1462287493, "post_id": 37007483, "comment_id": 61567601, "body": "Really good, except that it doesn&#39;t work if i imported the variable. import {Schema} from &#39;mongoose&#39; throws import declaration conflicts with local declaration of &#39;Schema&#39;"}, {"owner": {"reputation": 628, "user_id": 654141, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/9bd9cd7019fdec1d488c6806dbef8da8?s=128&d=identicon&r=PG", "display_name": "ArcSine", "link": "https://stackoverflow.com/users/654141/arcsine"}, "reply_to_user": {"reputation": 1091, "user_id": 2002156, "user_type": "registered", "accept_rate": 48, "profile_image": "https://www.gravatar.com/avatar/a9484e5077527b9d4d8bdc7c272fc16d?s=128&d=identicon&r=PG", "display_name": "Nico", "link": "https://stackoverflow.com/users/2002156/nico"}, "edited": false, "score": 0, "creation_date": 1462287757, "post_id": 37007483, "comment_id": 61567818, "body": "you also have to extend the module that the schema is a part of, not creating the schema directly.  Take a look at the typings for Schema, and you will see what module it is in."}, {"owner": {"reputation": 1091, "user_id": 2002156, "user_type": "registered", "accept_rate": 48, "profile_image": "https://www.gravatar.com/avatar/a9484e5077527b9d4d8bdc7c272fc16d?s=128&d=identicon&r=PG", "display_name": "Nico", "link": "https://stackoverflow.com/users/2002156/nico"}, "edited": false, "score": 0, "creation_date": 1462287927, "post_id": 37007483, "comment_id": 61567937, "body": "I&#39;m not sure that i understood correctly. Could you elaborate?"}], "tags": [], "owner": {"reputation": 628, "user_id": 654141, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/9bd9cd7019fdec1d488c6806dbef8da8?s=128&d=identicon&r=PG", "display_name": "ArcSine", "link": "https://stackoverflow.com/users/654141/arcsine"}, "is_accepted": false, "score": 0, "last_activity_date": 1462288576, "last_edit_date": 1495540739, "creation_date": 1462287197, "answer_id": 37007483, "question_id": 37006974, "link": "https://stackoverflow.com/questions/37006974/typescript-static-methods-for-mongoose-schemas/37007483#37007483", "title": "Typescript: static methods for mongoose schemas", "body": "<p>The Schema typing doesn't allow for extension by default. In typescript interfaces are open and are extensible. You would need to extend the typings for Schema to include the fields you are expanding, otherwise typescript doesn't know about it. This is a good answer for extending a type. <a href=\"https://stackoverflow.com/questions/12709074/how-do-you-explicitly-set-a-new-property-on-window-in-typescript\">How do you explicitly set a new property on `window` in TypeScript?</a></p>\n\n<p>If you look at <a href=\"https://github.com/DefinitelyTyped/DefinitelyTyped/blob/master/mongoose/mongoose.d.ts\" rel=\"nofollow noreferrer\">https://github.com/DefinitelyTyped/DefinitelyTyped/blob/master/mongoose/mongoose.d.ts</a>, you will see the general typings for mongoose.</p>\n\n<p>What you are most likely looking to do is the following, though I don't know if you can extend classes:</p>\n\n<p>schema-extended.d.ts</p>\n\n<pre><code>module \"mongoose\" {\n   export class Schema {\n       methods:any\n   }\n}\n</code></pre>\n\n<p>Then in your code:</p>\n\n<pre><code>///&lt;reference path=\"./schema-extended.d.ts\" /&gt;\n//Schema should now have methods as a property.\nnew Schema().methods\n</code></pre>\n"}], "owner": {"reputation": 1091, "user_id": 2002156, "user_type": "registered", "accept_rate": 48, "profile_image": "https://www.gravatar.com/avatar/a9484e5077527b9d4d8bdc7c272fc16d?s=128&d=identicon&r=PG", "display_name": "Nico", "link": "https://stackoverflow.com/users/2002156/nico"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 2198, "favorite_count": 0, "answer_count": 1, "score": 4, "last_activity_date": 1462288576, "creation_date": 1462285727, "question_id": 37006974, "link": "https://stackoverflow.com/questions/37006974/typescript-static-methods-for-mongoose-schemas", "title": "Typescript: static methods for mongoose schemas", "body": "<p>I'm trying to implement a mongoose model with TypeScript, nothing fancy, just try to make it work. This code compiles but with warnings:</p>\n\n<pre><code>import crypto = require('crypto')\nimport mongoose = require('mongoose')\nmongoose.Promise = require('bluebird')\nimport {Schema} from 'mongoose'\n\nconst UserSchema = new Schema({\n  name: String,\n  email: {\n    type: String,\n    lowercase: true,\n    required: true\n  },\n  role: {\n    type: String,\n    default: 'user'\n  },\n  password: {\n    type: String,\n    required: true\n  },\nprovider: String,\n  salt: String\n});\n\n/**\n * Methods\n */\nUserSchema.methods = {\n  // my static methods... like makeSalt, etc\n};\n\nexport default mongoose.model('User', UserSchema);\n</code></pre>\n\n<p>But typescript is complaining:</p>\n\n<p><code>error TS2339: Property 'methods' does not exist on type 'Schema'.</code></p>\n\n<p>I presume that i need to extend some interface. Any pointer with this?</p>\n"}, {"tags": ["javascript", "razor", "model-view-controller", "typescript"], "comments": [{"owner": {"reputation": 6432, "user_id": 1655229, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/0zT5b.png?s=128&g=1", "display_name": "PinkTurtle", "link": "https://stackoverflow.com/users/1655229/pinkturtle"}, "edited": false, "score": 0, "creation_date": 1462287101, "post_id": 37006531, "comment_id": 61567278, "body": "<code>myTSObject</code> VS <code>myISObject</code> - are they supposed to be the same ?"}], "answers": [{"tags": [], "owner": {"reputation": 1886, "user_id": 5527075, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ef879760061aaa53884ab1ee19fe9589?s=128&d=identicon&r=PG&f=1", "display_name": "Feathercrown", "link": "https://stackoverflow.com/users/5527075/feathercrown"}, "is_accepted": true, "score": 1, "last_activity_date": 1462284861, "creation_date": 1462284861, "answer_id": 37006670, "question_id": 37006531, "link": "https://stackoverflow.com/questions/37006531/how-to-declare-dynamic-typescript-object-name-to-be-used-in-onclick-event/37006670#37006670", "title": "How to declare dynamic TypeScript object name to be used in onClick event?", "body": "<p>set this at the top of your page:</p>\n\n<pre><code>var divnumber=0;\n</code></pre>\n\n<p>then use this for each div:</p>\n\n<pre><code>divnumber++;\nwindow['myISObject' + divnumber] = ...\n</code></pre>\n"}], "owner": {"reputation": 2572, "user_id": 1589728, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/09fb9b6de6b13db5734c8f4d1494433f?s=128&d=identicon&r=PG", "display_name": "LeonidasFett", "link": "https://stackoverflow.com/users/1589728/leonidasfett"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 197, "favorite_count": 0, "accepted_answer_id": 37006670, "answer_count": 1, "score": 0, "last_activity_date": 1462287767, "creation_date": 1462284495, "question_id": 37006531, "link": "https://stackoverflow.com/questions/37006531/how-to-declare-dynamic-typescript-object-name-to-be-used-in-onclick-event", "title": "How to declare dynamic TypeScript object name to be used in onClick event?", "body": "<p>let's say I have a TypeScript object that I declare somewhere on my view:</p>\n\n<pre><code>&lt;script type=\"text/javascript\"&gt;\n    var myTSObject = Module.CustomClass('#someId');\n    myISObject.bind();\n&lt;/script&gt;\n</code></pre>\n\n<p>Now I need to handle a click even from somewhere inside the element holding the <code>&lt;script&gt;</code> tag:</p>\n\n<pre><code>&lt;div id=\"thisDiv\"&gt;\n    &lt;script type=\"text/javascript\"&gt;\n        var myTSObject = Module.CustomClass('#thisDiv');\n        myISObject.bind();\n    &lt;/script&gt;\n    &lt;button onClick=\"myISObject.handleClick()\" /&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>So far so good, but what if I use the above <code>&lt;div&gt;...&lt;/div&gt;</code> block as a template so it when my view is generated, it looks like this:</p>\n\n<pre><code>&lt;div id=\"thisDiv\"&gt;\n    &lt;script type=\"text/javascript\"&gt;\n        var myTSObject = Module.CustomClass('#thisDiv');\n        myISObject.bind();\n    &lt;/script&gt;\n    &lt;button onClick=\"myISObject.handleClick()\" /&gt;\n&lt;/div&gt;\n&lt;div id=\"thatDiv\"&gt;\n    &lt;script type=\"text/javascript\"&gt;\n        var myTSObject = Module.CustomClass('#thatDiv');\n        myISObject.bind();\n    &lt;/script&gt;\n    &lt;button onClick=\"myISObject.handleClick()\" /&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>This will understandably fail because now the second myISObject overides the first one. But due to the <code>&lt;div&gt;...&lt;/div&gt;</code> block being a template, I can't hardcode the JS variable name. How to handle this accordingly? </p>\n"}, {"tags": ["typescript", "angular", "ckeditor"], "answers": [{"comments": [{"owner": {"reputation": 326, "user_id": 6226747, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-fSkaZLqj6g0/AAAAAAAAAAI/AAAAAAAAA8E/Hlo6RqSV9Do/photo.jpg?sz=128", "display_name": "Aayushi Gupta", "link": "https://stackoverflow.com/users/6226747/aayushi-gupta"}, "edited": false, "score": 0, "creation_date": 1550211178, "post_id": 37008004, "comment_id": 96193143, "body": "same question. what is the ocation for system file"}, {"owner": {"reputation": 1035, "user_id": 1761022, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/QEA23.jpg?s=128&g=1", "display_name": "Sloth Armstrong", "link": "https://stackoverflow.com/users/1761022/sloth-armstrong"}, "reply_to_user": {"reputation": 326, "user_id": 6226747, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-fSkaZLqj6g0/AAAAAAAAAAI/AAAAAAAAA8E/Hlo6RqSV9Do/photo.jpg?sz=128", "display_name": "Aayushi Gupta", "link": "https://stackoverflow.com/users/6226747/aayushi-gupta"}, "edited": false, "score": 0, "creation_date": 1550601546, "post_id": 37008004, "comment_id": 96325877, "body": "@AayushiGupta System.js is no longer used. You can go here for details however: <a href=\"https://scotch.io/courses/getting-started-with-angular-2/systemjs\" rel=\"nofollow noreferrer\">scotch.io/courses/getting-started-with-angular-2/systemjs</a>."}], "tags": [], "owner": {"reputation": 1035, "user_id": 1761022, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/QEA23.jpg?s=128&g=1", "display_name": "Sloth Armstrong", "link": "https://stackoverflow.com/users/1761022/sloth-armstrong"}, "is_accepted": false, "score": 3, "last_activity_date": 1462288552, "creation_date": 1462288552, "answer_id": 37008004, "question_id": 37006093, "link": "https://stackoverflow.com/questions/37006093/ng2-ckeditor-ckeditor-not-defined/37008004#37008004", "title": "ng2-ckeditor &quot;CKEDITOR&quot; not defined", "body": "<p>You are missing a step. You need to include a link to an actual CKEditor source file in your HTML. Go <a href=\"http://ckeditor.com/download\" rel=\"nofollow\">here</a> and select a version. Include it like so:</p>\n\n<pre><code>&lt;script src=\"//cdn.ckeditor.com/4.5.8/full/ckeditor.js\"&gt;&lt;/script&gt;\n</code></pre>\n\n<p>The remaining steps are as you outlined.</p>\n\n<p><strong>Edit</strong></p>\n\n<p>In case you didn't set up SystemJS properly is should look something like this:</p>\n\n<pre><code>System.config({\n        packages: {\n            \"app\": {\n                \"format\": 'register',\n                \"defaultExtension\": 'js'\n            },\n            \"ng2-ckeditor\": {\n                \"defaultExtension\": \"js\"\n            }\n        },\n        map: {\n            \"ng2-ckeditor\": \"node_modules/ng2-ckeditor/lib/CKEditor.js\"\n        }\n    });\n</code></pre>\n"}], "owner": {"reputation": 11, "user_id": 6285715, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8edb09e46511cb7e3aa3461c4dff2c70?s=128&d=identicon&r=PG&f=1", "display_name": "tania139", "link": "https://stackoverflow.com/users/6285715/tania139"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2790, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1517248593, "creation_date": 1462283349, "last_edit_date": 1462798208, "question_id": 37006093, "link": "https://stackoverflow.com/questions/37006093/ng2-ckeditor-ckeditor-not-defined", "title": "ng2-ckeditor &quot;CKEDITOR&quot; not defined", "body": "<p>I have done the following steps:</p>\n\n<ol>\n<li>Install ng2-ckeditor\n-JSPM : jspm install ng2-ckeditor=github:chymz/ng2-ckeditor\n-NPM : npm install ng2-ckeditor</li>\n<li><p>create ts file:</p>\n\n<pre><code>import {Component} from 'angular2/core';\nimport {CKEditor} from 'ng2-ckeditor';\n\n@Component({\n  selector: 'sample',\n  directives: [CKEditor],\n  template: `\n    &lt;ckeditor [(ngModel)]=\"ckeditorContent\" [config]=\"{uiColor: '#99000'}\"&gt;&lt;/ckeditor&gt;`\n})\nexport class Sample{\n  constructor(){\n    this.ckeditorContent = `&lt;p&gt;My HTML&lt;/p&gt;`;\n  }\n}\n</code></pre></li>\n</ol>\n\n<p>But in runtime I got an exception <strong>\"CKEDITOR is not defined\".</strong></p>\n\n<p>I tried to import the \"<strong>ckeditor</strong>\" itself,\nbut in this case i got another runtime exception \n<strong>\"ckeditor uncaught typeerror cannot set property 'dir' of undefined</strong>\"</p>\n\n<p>Thanks.</p>\n"}, {"tags": ["casting", "typescript"], "comments": [{"owner": {"reputation": 1, "user_id": 1223975, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/5Oh7r.jpg?s=128&g=1", "display_name": "Alexander Mills", "link": "https://stackoverflow.com/users/1223975/alexander-mills"}, "edited": false, "score": 0, "creation_date": 1521765669, "post_id": 37006008, "comment_id": 85883258, "body": "I am looking for answers to this one: <a href=\"https://github.com/DefinitelyTyped/DefinitelyTyped/issues/24469\" rel=\"nofollow noreferrer\">github.com/DefinitelyTyped/DefinitelyTyped/issues/24469</a>"}], "answers": [{"comments": [{"owner": {"reputation": 6265, "user_id": 1614677, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/BDqPW.jpg?s=128&g=1", "display_name": "Manu", "link": "https://stackoverflow.com/users/1614677/manu"}, "edited": false, "score": 0, "creation_date": 1462283889, "post_id": 37006179, "comment_id": 61564912, "body": "&gt; With the 2nd signature you are.   Actually My IDE&#39;s doesnot allow me to do <code>o.dic.x</code>"}, {"owner": {"reputation": 8273, "user_id": 68051, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/8a1aabc40d859fcb786eb4d28b95d299?s=128&d=identicon&r=PG", "display_name": "Tim Perry", "link": "https://stackoverflow.com/users/68051/tim-perry"}, "reply_to_user": {"reputation": 6265, "user_id": 1614677, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/BDqPW.jpg?s=128&g=1", "display_name": "Manu", "link": "https://stackoverflow.com/users/1614677/manu"}, "edited": false, "score": 1, "creation_date": 1462284094, "post_id": 37006179, "comment_id": 61565067, "body": "Good catch, sorry, that should&#39;ve been index syntax (<code>o.dic[&#39;x&#39;] = 1</code>). Example updated."}, {"owner": {"reputation": 8273, "user_id": 68051, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/8a1aabc40d859fcb786eb4d28b95d299?s=128&d=identicon&r=PG", "display_name": "Tim Perry", "link": "https://stackoverflow.com/users/68051/tim-perry"}, "reply_to_user": {"reputation": 6265, "user_id": 1614677, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/BDqPW.jpg?s=128&g=1", "display_name": "Manu", "link": "https://stackoverflow.com/users/1614677/manu"}, "edited": false, "score": 4, "creation_date": 1468335025, "post_id": 37006179, "comment_id": 64078999, "body": "Update! TypeScript 2 should now automatically do this conversion for you, if it&#39;s valid: <a href=\"https://github.com/Microsoft/TypeScript/wiki/What%27s-new-in-TypeScript#implicit-index-signatures\" rel=\"nofollow noreferrer\">github.com/Microsoft/TypeScript/wiki/&hellip;</a>"}, {"owner": {"reputation": 7214, "user_id": 800817, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/df6488415c314fc77e406d6e9c436b43?s=128&d=identicon&r=PG", "display_name": "Ivan Castellanos", "link": "https://stackoverflow.com/users/800817/ivan-castellanos"}, "edited": false, "score": 14, "creation_date": 1549847349, "post_id": 37006179, "comment_id": 96038128, "body": "This is so stupid, can&#39;t believe Microsoft botched this, if X is a subset of Y it should be easy to cast X as Y without hassle. Right now TS can&#39;t cast <code>[key: string]: string | number</code> but it can cast <code>[key: string]: any</code> despite an interface only having strings and numbers"}, {"owner": {"reputation": 1516, "user_id": 2520196, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/361739e6d797b689bc3ded2cb437ea43?s=128&d=identicon&r=PG", "display_name": "Ivan Yarych", "link": "https://stackoverflow.com/users/2520196/ivan-yarych"}, "edited": false, "score": 5, "creation_date": 1602093989, "post_id": 37006179, "comment_id": 113614422, "body": "Spread operator helps in my case - I don&#39;t need to modify the object, so <code>bar({ ...hash })</code> works for me."}, {"owner": {"reputation": 9760, "user_id": 4925661, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/d5f75c5f5338aa25763f5715122fabeb?s=128&d=identicon&r=PG&f=1", "display_name": "Maciej Krawczyk", "link": "https://stackoverflow.com/users/4925661/maciej-krawczyk"}, "edited": false, "score": 0, "creation_date": 1618302265, "post_id": 37006179, "comment_id": 118554012, "body": "As of today, it seems to work, so long as you use types, rather than interfaces. See @Nikolay&#39;s answer."}], "tags": [], "owner": {"reputation": 8273, "user_id": 68051, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/8a1aabc40d859fcb786eb4d28b95d299?s=128&d=identicon&r=PG", "display_name": "Tim Perry", "link": "https://stackoverflow.com/users/68051/tim-perry"}, "is_accepted": true, "score": 66, "last_activity_date": 1462283996, "last_edit_date": 1462283996, "creation_date": 1462283551, "answer_id": 37006179, "question_id": 37006008, "link": "https://stackoverflow.com/questions/37006008/typescript-index-signature-is-missing-in-type/37006179#37006179", "title": "Typescript: Index signature is missing in type", "body": "<p>The problem is that when the type is inferred, then the type of <code>o</code> is:</p>\n\n<pre><code>{ dic: { a: number, b: number } }\n</code></pre>\n\n<p>That's not the same as <code>{ dic: { [name: string]: number } }</code>. Critically, with the top signature you're not allowed to do something like <code>o.dic['x'] = 1</code>. With the 2nd signature you are.</p>\n\n<p>They are equivalent types at runtime (indeed, they're the exact same value), but a big part of TypeScript's safety comes from the fact that these aren't the same, and that it'll only let you treat an object as a dictionary if it knows it's explicitly intended as one. This is what stops you accidentally reading and writing totally non-existent properties on objects.</p>\n\n<p>The solution is to ensure TypeScript knows that it's intended as a dictionary. That means:</p>\n\n<ul>\n<li><p>Explicitly providing a type somewhere that tells it it's a dictionary:</p>\n\n<p><code>let o: MyInterface</code></p></li>\n<li><p>Asserting it to be a dictionary inline:</p>\n\n<p><code>let o = { dic: &lt;{ [name: string]: number }&gt; { 'a': 1, 'b': 2 } }</code></p></li>\n<li><p>Ensuring it's the initial type that TypeScript infers for you:</p>\n\n<p><code>foo({ dic: { 'a': 1, 'b': 2 } })</code></p></li>\n</ul>\n\n<p>If there's a case where TypeScript thinks it's a normal object with just two properties, and then you try to use it later as a dictionary, it'll be unhappy.</p>\n"}, {"comments": [{"owner": {"reputation": 7041, "user_id": 6529098, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7Zubl.png?s=128&g=1", "display_name": "Amaury Liet", "link": "https://stackoverflow.com/users/6529098/amaury-liet"}, "edited": false, "score": 1, "creation_date": 1615482002, "post_id": 65473225, "comment_id": 117710053, "body": "This is the way to go if you don&#39;t want to loose <code>myVal</code> typing + autocomplete feature"}, {"owner": {"reputation": 9760, "user_id": 4925661, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/d5f75c5f5338aa25763f5715122fabeb?s=128&d=identicon&r=PG&f=1", "display_name": "Maciej Krawczyk", "link": "https://stackoverflow.com/users/4925661/maciej-krawczyk"}, "edited": false, "score": 2, "creation_date": 1618300799, "post_id": 65473225, "comment_id": 118553416, "body": "but you lose type safety when you do that. <code>myInterface</code> was only meant to have <code>myVal</code> property, now it can have any property."}], "tags": [], "owner": {"reputation": 3053, "user_id": 1674992, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3b5341798b0a320b948ac3335603770b?s=128&d=identicon&r=PG", "display_name": "Christian", "link": "https://stackoverflow.com/users/1674992/christian"}, "is_accepted": false, "score": 14, "last_activity_date": 1615665231, "last_edit_date": 1615665231, "creation_date": 1609132040, "answer_id": 65473225, "question_id": 37006008, "link": "https://stackoverflow.com/questions/37006008/typescript-index-signature-is-missing-in-type/65473225#65473225", "title": "Typescript: Index signature is missing in type", "body": "<p>TS wants us to define the type of the index. For example, to tell the compiler that you can index the object with any string, e.g. <code>myObj['anyString']</code>, change:</p>\n<pre class=\"lang-js prettyprint-override\"><code>interface myInterface {\n  myVal: string;\n}\n</code></pre>\n<p>to:</p>\n<pre class=\"lang-js prettyprint-override\"><code>interface myInterface {\n  [key: string]: any;\n  myVal: string;\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 484, "user_id": 4697684, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/189304bc21abee20be16edf9121d98ff?s=128&d=identicon&r=PG", "display_name": "Nikolay Podolnyy", "link": "https://stackoverflow.com/users/4697684/nikolay-podolnyy"}, "is_accepted": false, "score": 7, "last_activity_date": 1609607780, "creation_date": 1609607780, "answer_id": 65541886, "question_id": 37006008, "link": "https://stackoverflow.com/questions/37006008/typescript-index-signature-is-missing-in-type/65541886#65541886", "title": "Typescript: Index signature is missing in type", "body": "<p>For me error was solved by using type instead of interface</p>\n<p>This error can occur when function <code>foo</code> has type instead of interface for typing parameter like</p>\n<pre><code>type MyType {\n   dic: { [name: string]: number }\n} \n\nfunction foo(a: MyType) {}\n</code></pre>\n<p>But passed value typed with interface like</p>\n<pre><code>interface MyInterface {\n    dic: { [name: string]: number }\n}\n\nconst o: MyInterface = {\n    dic: {\n        'a': 3,\n        'b': 5\n    }\n}\n\nfoo(o) // type error here\n</code></pre>\n<p>I just used</p>\n<pre><code>const o: MyType = {\n    dic: {\n        'a': 3,\n        'b': 5\n    }\n}\n\nfoo(o) // it works\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 686, "user_id": 10704601, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/71cae95e22c4d58d290e0e15057ed70b?s=128&d=identicon&r=PG&f=1", "display_name": "emmbee", "link": "https://stackoverflow.com/users/10704601/emmbee"}, "is_accepted": false, "score": 0, "last_activity_date": 1619116847, "creation_date": 1619116847, "answer_id": 67219058, "question_id": 37006008, "link": "https://stackoverflow.com/questions/37006008/typescript-index-signature-is-missing-in-type/67219058#67219058", "title": "Typescript: Index signature is missing in type", "body": "<p>You can solve this problem by doing <code>foo({...o})</code>\n<a href=\"https://www.typescriptlang.org/play?#code/JYOwLgpgTgZghgYwgAgLIE8CS5rycgbwChlTkBtEOAWwgC5kBnMKUAcwF0GQBXagI2hEAvkVCRYiFBgAiwBGEIkyMAParufQVBFEYPEAuCqQyNaoAUcBhmwS8EAJRKyyBCcaqANhAB0X1TYrR10iIncQZmQANzgvG3Q5BWQAXkIzdQYARmRRIgB6fORoKFUoRgKi8wtYrxCwwuQwAAtgRmQAdzKAawrqgmRfIdrcxyA\" rel=\"nofollow noreferrer\">playground</a></p>\n"}], "owner": {"reputation": 6265, "user_id": 1614677, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/BDqPW.jpg?s=128&g=1", "display_name": "Manu", "link": "https://stackoverflow.com/users/1614677/manu"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 56052, "favorite_count": 10, "accepted_answer_id": 37006179, "answer_count": 4, "score": 65, "last_activity_date": 1619116847, "creation_date": 1462283137, "last_edit_date": 1462283717, "question_id": 37006008, "link": "https://stackoverflow.com/questions/37006008/typescript-index-signature-is-missing-in-type", "title": "Typescript: Index signature is missing in type", "body": "<p>I want <code>MyInterface.dic</code> to be like a dictionary <code>name: value</code>, I define it as follows:</p>\n\n<pre><code>interface MyInterface {\n    dic: { [name: string]: number }\n}\n</code></pre>\n\n<p>Now I create a function which waits for my type:</p>\n\n<pre><code>function foo(a: MyInterface) {\n    ...\n}\n</code></pre>\n\n<p>And the input:</p>\n\n<pre><code>let o = {\n    dic: {\n        'a': 3,\n        'b': 5\n    }\n}\n</code></pre>\n\n<p>I'm expecting <code>foo(o)</code> to be correct, but the compiler is falling: </p>\n\n<pre><code>foo(o) // Typescript error: Index signature is missing in type { 'a': number, 'b': number }\n</code></pre>\n\n<p>I know there is a possible casting: <code>let o: MyInterface = { ... }</code> which do the trick but the question is, <strong>why</strong> typescript is not recognizing my type?</p>\n\n<hr>\n\n<p>Extra: works fine if <code>o</code> is declared inline: </p>\n\n<pre><code>foo({ \n  dic: {\n    'a': 3, \n    'b': 5\n  }\n})\n</code></pre>\n"}, {"tags": ["intellij-idea", "typescript", "angular"], "comments": [{"owner": {"reputation": 7464, "user_id": 2858934, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/177f29dc8d5bede9c5045b3948149ebf?s=128&d=identicon&r=PG&f=1", "display_name": "Thomas", "link": "https://stackoverflow.com/users/2858934/thomas"}, "edited": false, "score": 0, "creation_date": 1462283427, "post_id": 37005999, "comment_id": 61564504, "body": "Which version of Angular 2 did you use?"}, {"owner": {"reputation": 12947, "user_id": 197420, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/c7c7f81bf5ec9cc3644ad96552694080?s=128&d=identicon&r=PG", "display_name": "Mike Sav", "link": "https://stackoverflow.com/users/197420/mike-sav"}, "reply_to_user": {"reputation": 7464, "user_id": 2858934, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/177f29dc8d5bede9c5045b3948149ebf?s=128&d=identicon&r=PG&f=1", "display_name": "Thomas", "link": "https://stackoverflow.com/users/2858934/thomas"}, "edited": false, "score": 0, "creation_date": 1462283462, "post_id": 37005999, "comment_id": 61564539, "body": "&quot;angular2&quot;: &quot;2.0.0-beta.16&quot;"}, {"owner": {"reputation": 12947, "user_id": 197420, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/c7c7f81bf5ec9cc3644ad96552694080?s=128&d=identicon&r=PG", "display_name": "Mike Sav", "link": "https://stackoverflow.com/users/197420/mike-sav"}, "reply_to_user": {"reputation": 7464, "user_id": 2858934, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/177f29dc8d5bede9c5045b3948149ebf?s=128&d=identicon&r=PG&f=1", "display_name": "Thomas", "link": "https://stackoverflow.com/users/2858934/thomas"}, "edited": false, "score": 0, "creation_date": 1462284077, "post_id": 37005999, "comment_id": 61565053, "body": "Upgrading to beta.17 makes no difference"}], "answers": [{"tags": [], "owner": {"reputation": 5689, "user_id": 869402, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/42D2m.jpg?s=128&g=1", "display_name": "Stefan Profanter", "link": "https://stackoverflow.com/users/869402/stefan-profanter"}, "is_accepted": false, "score": 3, "last_activity_date": 1462362011, "last_edit_date": 1462362011, "creation_date": 1462353756, "answer_id": 37023549, "question_id": 37005999, "link": "https://stackoverflow.com/questions/37005999/intellij-angular2-typescript-error-ts2307-cannot-find-module-angular2/37023549#37023549", "title": "IntelliJ &amp; Angular2 / TypeScript - error TS2307: Cannot find module &#39;angular2/...&#39;", "body": "<p>For me it was fixed by using relative paths, i.e. (depending on the location of your <code>.ts</code> file):</p>\n\n<p><code>///&lt;reference path=\"../../node_modules/angular2/typings/browser.d.ts\"/&gt;\n</code></p>\n\n<p>Also, in your Intellij Settings make sure to enable \"Use tsconfig.json\".\nMy settings file looks like this:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;project version=\"4\"&gt;\n  &lt;component name=\"TypeScriptCompiler\"&gt;\n    &lt;option name=\"isCompilerEnabled\" value=\"true\" /&gt;\n    &lt;option name=\"typeScriptCompilerParams\" value=\"--module &amp;quot;amd&amp;quot; --target &amp;quot;ES5&amp;quot; --experimentalDecorators\" /&gt;\n    &lt;option name=\"useConfig\" value=\"true\" /&gt;\n  &lt;/component&gt;\n&lt;/project&gt;\n</code></pre>\n\n<hr>\n\n<p><strong>Please also note thate since a few hours <code>angular2 rc.1</code> was released</strong> (<a href=\"https://github.com/angular/angular/blob/3229bf16656749427d1def38ced0e1d1d2ae1fa4/CHANGELOG.md\" rel=\"nofollow\">https://github.com/angular/angular/blob/3229bf16656749427d1def38ced0e1d1d2ae1fa4/CHANGELOG.md</a>)</p>\n\n<p>This introduces some breaking changes regarding how to import modules (e.g. \"angular/core\" gets \"@angular/core\").</p>\n\n<p>You don't need the <code>///&lt;reference path=\"..\"/&gt;</code> stuff anymore if you are using the rc version. System.js automatically finds the corresponding <code>index.d.ts</code> in the node_modules directory (if set up correctly: <a href=\"https://github.com/angular/quickstart/blob/master/systemjs.config.js\" rel=\"nofollow\">https://github.com/angular/quickstart/blob/master/systemjs.config.js</a>)</p>\n\n<p>I also had to change the target to <code>ES6</code> otherwise I got error messages that e.g. <code>Map</code> or <code>Promise</code> was undefined. If you still want to keep the <code>ES5</code> target you need to include <code>es6-shim</code> (.js and .d.ts)</p>\n"}], "owner": {"reputation": 12947, "user_id": 197420, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/c7c7f81bf5ec9cc3644ad96552694080?s=128&d=identicon&r=PG", "display_name": "Mike Sav", "link": "https://stackoverflow.com/users/197420/mike-sav"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3973, "favorite_count": 1, "answer_count": 1, "score": 2, "last_activity_date": 1462362011, "creation_date": 1462283101, "question_id": 37005999, "link": "https://stackoverflow.com/questions/37005999/intellij-angular2-typescript-error-ts2307-cannot-find-module-angular2", "title": "IntelliJ &amp; Angular2 / TypeScript - error TS2307: Cannot find module &#39;angular2/...&#39;", "body": "<p>There seems to be alot of questions and answers about this problem but so far most answers I have found have been for Windows / Visual Studio. I'm using OSX and IntelliJ for a Angular2 with TypeScript project I am working on and I am currently getting warnings / errors (those little red squiggly lines) under the \"from\" locations when I import from the angular2 library, for example in my app.ts I have: </p>\n\n<pre><code>/// &lt;reference path=\"node_modules/angular2/ts/typings/node/node.d.ts\"/&gt;\n/// &lt;reference path=\"node_modules/angular2/typings/browser.d.ts\"/&gt;\n\nimport { bootstrap } from \"angular2/platform/browser\";\nimport { Component } from \"angular2/core\";\nimport { ROUTER_DIRECTIVES, ROUTER_PROVIDERS, RouteConfig} from 'angular2/router';\n</code></pre>\n\n<p>All 3 import statements have warnings under the from locations (where we have \"angular2/....\"). I tried to correct this by editiing the typescript-compiler.xml in Intellij:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;project version=\"4\"&gt;\n  &lt;component name=\"TypeScriptCompiler\"&gt;\n    &lt;option name=\"isCompilerEnabled\" value=\"true\" /&gt;\n    &lt;option name=\"typeScriptServiceDirectory\" value=\"$USER_HOME$/node_modules/typescript/bin\" /&gt;\n    &lt;option name=\"typeScriptCompilerParams\" value=\"-m amd -t ES5\" /&gt;\n    &lt;option name=\"versionType\" value=\"SERVICE_DIRECTORY\" /&gt;\n  &lt;/component&gt;\n&lt;/project&gt;\n</code></pre>\n\n<p>All other modules I import are fine (like the components I write myself) but those I import from Angular2 have the warning? Has anyone managed to over come this error / problem as I've been trying for a while now to remove the problem. I currently have Version 1.7.5 of TypeScript installed. </p>\n\n<p>Please note that I have no <code>typings.json</code> file or <code>npm typings</code> installed in my <code>dev-dependancies</code>.</p>\n\n<p>This is my tsconfig.json file:</p>\n\n<pre><code>{\n  \"compilerOptions\": {\n    \"target\": \"ES5\",\n    \"module\": \"system\",\n    \"moduleResolution\": \"node\",\n    \"sourceMap\": false,\n    \"emitDecoratorMetadata\": true,\n    \"experimentalDecorators\": true,\n    \"removeComments\": false,\n    \"noImplicitAny\": false\n  },\n  \"files\": [\n    // there is an array of files here\n  ],\n  \"filesGlob\": [\n    \"app/**/*.ts\"\n  ],\n  \"exclude\": [\n    \"node_modules\"\n  ],\n  \"atom\": {\n    \"rewriteTsconfig\": true\n  }\n}\n</code></pre>\n\n<p>and this is my tslint.json file:</p>\n\n<pre><code>{\n  \"rules\": {\n   \"align\": [true,\n        \"parameters\",\n        \"arguments\",\n        \"statements\"],\n    \"class-name\": true,\n    \"comment-format\": [true, \"check-space\"],\n    \"curly\": true,\n    \"eofline\": true,\n    \"forin\": true,\n    \"indent\": [true, \"spaces\"],\n    \"interface-name\": true,\n    \"label-position\": true,\n    \"label-undefined\": true,\n    \"jsdoc-format\": true,\n    \"max-line-length\": [true, 80],\n    \"member-ordering\": [true,\n        \"public-before-private\",\n        \"static-before-instance\",\n        \"variables-before-functions\"\n    ],\n    \"no-arg\": true,\n    \"no-bitwise\": true,\n    \"no-console\": [true,\n      \"debug\",\n      \"info\",\n      \"time\",\n      \"timeEnd\",\n      \"trace\"\n    ],\n    \"no-construct\": true,\n    \"no-debugger\": true,\n    \"no-duplicate-key\": true,\n    \"no-duplicate-variable\": true,\n    \"no-empty\": true,\n    \"no-eval\": true,\n    \"no-require-imports\": true,\n    \"no-shadowed-variable\": true,\n    \"no-string-literal\": true,\n    \"no-switch-case-fall-through\": true,\n    \"no-trailing-comma\": true,\n    \"no-trailing-whitespace\": true,\n    \"no-unused-expression\": true,\n    \"no-unused-variable\": true,\n    \"no-unreachable\": true,\n    \"no-use-before-declare\": true,\n    \"no-var-keyword\": true,\n    \"one-line\": [true,\n      \"check-open-brace\",\n      \"check-catch\",\n      \"check-else\",\n      \"check-whitespace\"\n    ],\n    \"quotemark\": [true, \"single\"],\n    \"radix\": true,\n    \"semicolon\": true,\n    \"sort-object-literal-keys\": false,\n    \"triple-equals\": [true, \"allow-null-check\"],\n    \"typedef\": [true,\n        \"call-signature\",\n        \"parameter\",\n        \"property-declaration\",\n        \"variable-declaration\",\n        \"member-variable-declaration\"\n    ],\n    \"typedef-whitespace\": [true, {\n        \"call-signature\": \"nospace\",\n        \"index-signature\": \"nospace\",\n        \"parameter\": \"nospace\",\n        \"property-declaration\": \"nospace\",\n        \"variable-declaration\": \"nospace\"\n    }],\n    \"variable-name\": [true,\n      \"allow-leading-underscore\"],\n    \"whitespace\": [true,\n      \"check-branch\",\n      \"check-decl\",\n      \"check-operator\",\n      \"check-separator\",\n      \"check-type\"\n    ]\n  }\n}\n</code></pre>\n"}, {"tags": ["javascript", "typescript", "npm", "angular", "typing"], "answers": [{"tags": [], "owner": {"reputation": 21, "user_id": 6809330, "user_type": "unregistered", "profile_image": "https://www.gravatar.com/avatar/118dcb7c080cb0575a04ab2af4493d7d?s=128&d=identicon&r=PG", "display_name": "Walter Skinner", "link": "https://stackoverflow.com/users/6809330/walter-skinner"}, "is_accepted": false, "score": 2, "last_activity_date": 1473340176, "last_edit_date": 1473340176, "creation_date": 1473339817, "answer_id": 39391739, "question_id": 37004997, "link": "https://stackoverflow.com/questions/37004997/how-to-use-mqtt-js-library-in-angular-2-typescript-app/39391739#39391739", "title": "How to use (mqtt) js library in angular 2 typescript app?", "body": "<p>I did the following to get mine working:</p>\n\n<p>1) first install ng2-mqtt via package.json in dependencies and run the npm update so that you have it in your node_modules</p>\n\n<p>2) in your index.html, be sure to include it:</p>\n\n<pre><code>&lt;html&gt;\n&lt;head&gt;\n    &lt;title&gt;whatever&lt;/title&gt;\n    &lt;meta charset=\"UTF-8\"&gt;\n    &lt;meta name=\"viewport\" content=\"width=device-width, initial-scale=1\"&gt;\n\n    &lt;link rel=\"stylesheet\" href=\"node_modules/bootstrap/dist/css/bootstrap.css\"&gt;\n    &lt;script&gt;document.write('&lt;base href=\"' + document.location + '\" /&gt;');&lt;/script&gt;\n    &lt;script src=\"node_modules/ng2-mqtt/mqttws31.js\" type=\"text/javascript\"&gt;&lt;/script&gt;\n</code></pre>\n\n<p>3) Add the mqtts mapping, like so to systemjs.config.js(see map):</p>\n\n<pre><code>System.config({\ntranspiler: 'typescript',\ntypescriptOptions: {emitDecoratorMetadata: true},\nmap: {\n    '@angular': 'node_modules/@angular',\n    'mqttws31': 'node_modules/ng2-mqtt/mqttws31.js'\n},\n</code></pre>\n\n<p>4) Import like you normally would:</p>\n\n<pre><code>import {Paho} from 'mqttws31'\n</code></pre>\n\n<p>5) use it in your @Component:</p>\n\n<pre><code> this.client = new Paho.MQTT.Client(\"localhost\", Number(61614), \"myclientid_\");\n\n    this.client.onConnectionLost = (responseObject: Object) =&gt; {\n        console.log('Connection lost.');\n        this.connected =\"false\";\n      };\n\n    this.client.onMessageArrived = (message: Paho.MQTT.Message) =&gt; {\n        console.log('Message arrived.');\n        this.msg =message.payloadString;\n    };\n\n    this.client.connect({ onSuccess: this.onConnected.bind(this); });\n</code></pre>\n\n<p>If all goes well, you should see your connection (assuming activemq):\n<a href=\"http://i.stack.imgur.com/BpBQ4.png\" rel=\"nofollow\">img</a></p>\n\n<p>Refer to here for usage:\n<a href=\"https://github.com/icanos/ng2-mqtt\" rel=\"nofollow\">https://github.com/icanos/ng2-mqtt</a></p>\n"}, {"tags": [], "owner": {"reputation": 1196, "user_id": 8274534, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-jLnYcTlQd_U/AAAAAAAAAAI/AAAAAAAAAPY/aLlig728nR8/photo.jpg?sz=128", "display_name": "Renish Gotecha", "link": "https://stackoverflow.com/users/8274534/renish-gotecha"}, "is_accepted": false, "score": 0, "last_activity_date": 1563174291, "creation_date": 1563174291, "answer_id": 57034732, "question_id": 37004997, "link": "https://stackoverflow.com/questions/37004997/how-to-use-mqtt-js-library-in-angular-2-typescript-app/57034732#57034732", "title": "How to use (mqtt) js library in angular 2 typescript app?", "body": "<p>Nothing Work for me. in angular 8 i created code please <a href=\"https://stackoverflow.com/a/57034683/8274534\">Click Here</a> to get that code. hope it works.</p>\n"}], "owner": {"reputation": 1310, "user_id": 451454, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/175851129e8ce5e775f01a1376a7f7d5?s=128&d=identicon&r=PG", "display_name": "mcktimo", "link": "https://stackoverflow.com/users/451454/mcktimo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 10190, "favorite_count": 2, "answer_count": 2, "score": 6, "last_activity_date": 1563174291, "creation_date": 1462280716, "last_edit_date": 1495541386, "question_id": 37004997, "link": "https://stackoverflow.com/questions/37004997/how-to-use-mqtt-js-library-in-angular-2-typescript-app", "title": "How to use (mqtt) js library in angular 2 typescript app?", "body": "<p>I closely paralleled the approach taken in <a href=\"https://stackoverflow.com/questions/35166168/how-to-use-moment-js-library-in-angular-2-typescript-app\">how-to-use-moment-js-library-in-angular-2-typescript-app</a> but still get <code>error TS2307: Cannot find module 'mqtt'.</code> </p>\n\n<pre><code>npm install --save mqtt\n&lt;s&gt;typings install --save mqtt&lt;/s\n</code></pre>\n\n<p>that didn't find the typings but this did...</p>\n\n<pre><code>typings install mqtt --save --ambient \n</code></pre>\n\n<p>my tsconfig.conf looks like this</p>\n\n<pre><code>{\n    \"compilerOptions\": {\n        \"noImplicitAny\": true,\n        \"module\": \"commonjs\",\n        \"target\": \"ES5\",\n        \"emitDecoratorMetadata\": true,\n        \"experimentalDecorators\": true,\n        \"sourceMap\": true,\n        \"declaration\": true\n    },\n    \"files\": [\n        \"ng2-mqtt.ts\"\n    ],\n    \"exclude\": [\n        \"node_modules\"\n    ]\n}\n</code></pre>\n\n<p>and <code>ng2-mqtt.ts</code> just has this...</p>\n\n<pre><code>export * from './src/mqtt.service'\n</code></pre>\n\n<p>and <code>./src/mqtt.service.ts</code> has..</p>\n\n<pre><code>import {Injectable} from 'angular2/core';\nimport * as mqtt from 'mqtt';\n@Injectable() \nexport class MqttService {\n  constructor() {\n     //mqtt.connect('ws://10.0.1.100:3333')\n     // ...\n  }\n}\n</code></pre>\n\n<p>tsc -version 1.8.10, angular2@2.0.0-beta.17, typings 0.8.1, npm 2.14.20, node v4.4.1, Windows 7</p>\n\n<p>Is it just going to be too hard to use Angular 2 with elements outside of its typescripted world?</p>\n"}, {"tags": ["visual-studio", "typescript", "msdeploy", "one-click-web-publishing"], "answers": [{"comments": [{"owner": {"reputation": 8285, "user_id": 608220, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/3552206951906bc392106a3580a6b2f1?s=128&d=identicon&r=PG", "display_name": "shannon", "link": "https://stackoverflow.com/users/608220/shannon"}, "edited": false, "score": 0, "creation_date": 1462410946, "post_id": 37017212, "comment_id": 61631030, "body": "Have you used that solution? I can&#39;t tell due to what are probably just typos if there is a real existing package it is supposed to precede."}, {"owner": {"reputation": 8285, "user_id": 608220, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/3552206951906bc392106a3580a6b2f1?s=128&d=identicon&r=PG", "display_name": "shannon", "link": "https://stackoverflow.com/users/608220/shannon"}, "edited": false, "score": 0, "creation_date": 1462411124, "post_id": 37017212, "comment_id": 61631064, "body": "actually, the simpler solution will probably work for me and seems error free. will report back."}, {"owner": {"reputation": 8285, "user_id": 608220, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/3552206951906bc392106a3580a6b2f1?s=128&d=identicon&r=PG", "display_name": "shannon", "link": "https://stackoverflow.com/users/608220/shannon"}, "edited": false, "score": 0, "creation_date": 1462937531, "post_id": 37017212, "comment_id": 61842595, "body": "Yeah, this definitely doesn&#39;t work. Tried it a dozen different ways, then did a lot of diagnostics to ensure it was active. The problem is that the file doesn&#39;t exist, so excluding it using a glob doesn&#39;t exclude it."}, {"owner": {"reputation": 13702, "user_id": 73407, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/JI0DY.png?s=128&g=1", "display_name": "chief7", "link": "https://stackoverflow.com/users/73407/chief7"}, "reply_to_user": {"reputation": 8285, "user_id": 608220, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/3552206951906bc392106a3580a6b2f1?s=128&d=identicon&r=PG", "display_name": "shannon", "link": "https://stackoverflow.com/users/608220/shannon"}, "edited": false, "score": 0, "creation_date": 1462963846, "post_id": 37017212, "comment_id": 61856320, "body": "If you will create a simple repro solution in GitHub I will troubleshoot it."}, {"owner": {"reputation": 8285, "user_id": 608220, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/3552206951906bc392106a3580a6b2f1?s=128&d=identicon&r=PG", "display_name": "shannon", "link": "https://stackoverflow.com/users/608220/shannon"}, "edited": false, "score": 0, "creation_date": 1463023478, "post_id": 37017212, "comment_id": 61887848, "body": "Thanks! It may be simpler to generate than checkout in this case. In the process of reducing the problem to the smallest repro, I found you only need one file: Create a new Visual Studio TypeScript HTML Application, and add the tsconfig.json file shown above. Then Publish (Package will also error in the same way)."}, {"owner": {"reputation": 8285, "user_id": 608220, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/3552206951906bc392106a3580a6b2f1?s=128&d=identicon&r=PG", "display_name": "shannon", "link": "https://stackoverflow.com/users/608220/shannon"}, "edited": false, "score": 0, "creation_date": 1463024110, "post_id": 37017212, "comment_id": 61888009, "body": "If you&#39;d prefer to work with a GitHub project let me know and I&#39;ll create one."}, {"owner": {"reputation": 8285, "user_id": 608220, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/3552206951906bc392106a3580a6b2f1?s=128&d=identicon&r=PG", "display_name": "shannon", "link": "https://stackoverflow.com/users/608220/shannon"}, "edited": false, "score": 0, "creation_date": 1463024203, "post_id": 37017212, "comment_id": 61888040, "body": "Also, I&#39;m thinking now the problem likely is a product defect, and possibly related to changes in VS 2015 Update 2 to better support tsconfig.json."}, {"owner": {"reputation": 13702, "user_id": 73407, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/JI0DY.png?s=128&g=1", "display_name": "chief7", "link": "https://stackoverflow.com/users/73407/chief7"}, "reply_to_user": {"reputation": 8285, "user_id": 608220, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/3552206951906bc392106a3580a6b2f1?s=128&d=identicon&r=PG", "display_name": "shannon", "link": "https://stackoverflow.com/users/608220/shannon"}, "edited": false, "score": 1, "creation_date": 1463049123, "post_id": 37017212, "comment_id": 61901551, "body": "I have VS 2015 Update 2 and recreated the scenario but didn&#39;t have any problems deploying using the right click publish method."}, {"owner": {"reputation": 8285, "user_id": 608220, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/3552206951906bc392106a3580a6b2f1?s=128&d=identicon&r=PG", "display_name": "shannon", "link": "https://stackoverflow.com/users/608220/shannon"}, "edited": false, "score": 0, "creation_date": 1463062803, "post_id": 37017212, "comment_id": 61911985, "body": "Ugh. I have a few other devices I&#39;ll check out to and try again. This one is only a month old."}, {"owner": {"reputation": 8285, "user_id": 608220, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/3552206951906bc392106a3580a6b2f1?s=128&d=identicon&r=PG", "display_name": "shannon", "link": "https://stackoverflow.com/users/608220/shannon"}, "edited": false, "score": 1, "creation_date": 1463062957, "post_id": 37017212, "comment_id": 61912139, "body": "Wait, did you perhaps build before adding the <code>tsconfig.json</code> file? If you have an <code>app.js</code> file (it wouldn&#39;t be included in the project) that is adjacent to the <code>app.ts</code> file, you must delete that to receive the error."}], "tags": [], "owner": {"reputation": 13702, "user_id": 73407, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/JI0DY.png?s=128&g=1", "display_name": "chief7", "link": "https://stackoverflow.com/users/73407/chief7"}, "is_accepted": false, "score": 0, "last_activity_date": 1462327318, "creation_date": 1462327318, "answer_id": 37017212, "question_id": 37004925, "link": "https://stackoverflow.com/questions/37004925/exclude-transpiled-non-existent-js-files-from-typescript-web-publish/37017212#37017212", "title": "Exclude transpiled/non-existent .JS files from TypeScript Web Publish", "body": "<p>You can exclude files from the package with the following MSBuild snippet:</p>\n\n<pre><code>&lt;ItemGroup&gt;  \n  &lt;ExcludeFromPackageFiles Include=\"Sample.Debug.xml\"&gt;  \n    &lt;FromTarget&gt;Project&lt;/FromTarget&gt; \n  &lt;/ExcludeFromPackageFiles&gt; \n&lt;/ItemGroup&gt; \n</code></pre>\n\n<p>Check out Sayed's blog for a full tutorial:</p>\n\n<p><a href=\"http://sedodream.com/2010/08/15/WebDeploymentToolMSDeployHowToExcludeFilesFromPackageBasedOnConfiguration.aspx\" rel=\"nofollow\">http://sedodream.com/2010/08/15/WebDeploymentToolMSDeployHowToExcludeFilesFromPackageBasedOnConfiguration.aspx</a></p>\n"}, {"comments": [{"owner": {"reputation": 8285, "user_id": 608220, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/3552206951906bc392106a3580a6b2f1?s=128&d=identicon&r=PG", "display_name": "shannon", "link": "https://stackoverflow.com/users/608220/shannon"}, "edited": false, "score": 0, "creation_date": 1463856554, "post_id": 37319127, "comment_id": 62246434, "body": "Thank you. I would like to be able to share this project with a team in a manner that allows them to publish with less pain than editing system files; e.g. a patch with an installer, or a change to my project. I&#39;ll look at plugging your fix into a project .targets when I get a moment."}, {"owner": {"reputation": 194, "user_id": 3131828, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ca61f65725e00e17c71bde8298dcf630?s=128&d=identicon&r=PG", "display_name": "MagicMau", "link": "https://stackoverflow.com/users/3131828/magicmau"}, "edited": false, "score": 1, "creation_date": 1482416942, "post_id": 37319127, "comment_id": 69772571, "body": "Thanks. This worked great in my case using Visual Studio 2013 and a tsconfig that emits a single javascript file. I just copied the xml into a separate .targets file and imported that in my .csproj using an &lt;Import&gt; tag."}], "tags": [], "owner": {"reputation": 22131, "user_id": 155166, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/27fcd621e341b784b822fac6fac24eaf?s=128&d=identicon&r=PG", "display_name": "Gregoire", "link": "https://stackoverflow.com/users/155166/gregoire"}, "is_accepted": false, "score": 4, "last_activity_date": 1463650103, "creation_date": 1463650103, "answer_id": 37319127, "question_id": 37004925, "link": "https://stackoverflow.com/questions/37004925/exclude-transpiled-non-existent-js-files-from-typescript-web-publish/37319127#37319127", "title": "Exclude transpiled/non-existent .JS files from TypeScript Web Publish", "body": "<p>i had the same problem as you and I solved it using this <a href=\"https://github.com/Microsoft/TypeScript/issues/6934\" rel=\"nofollow\">approach</a>:</p>\n\n<ol>\n<li><p>Edit the .targets file causing your error (you can find it in the ouput panel)</p></li>\n<li><p>Paste in  node the xml provided in the link :</p>\n\n<pre><code>&lt;Target Name=\"CustomExcludeFiles\" \n      DependsOnTargets=\"$(ExcludeFilesFromPackageDependsOn)\"\n      BeforeTargets=\"ExcludeFilesFromPackage\"&gt;\n\n&lt;Message Text=\"Custom exclude...\" Importance=\"high\"&gt;&lt;/Message&gt;\n&lt;WriteLinesToFile Condition=\"$(EnablePackageProcessLoggingAndAssert)\"\n                  Encoding=\"utf-8\"\n                  File=\"$(PackageLogDir)\\CustomExcludeFilesBefore.txt\"\n                  Lines=\"@(FilesForPackagingFromProject-&gt;'\n                  From:%(Identity) \n                  DestinationRelativePath:%(DestinationRelativePath) \n                  Exclude:%(Exclude) \n                  FromTarget:%(FromTarget) \n                  Category:%(Category)\n                  ProjectFileType:%(ProjectFileType)')\" Overwrite=\"True\" /&gt;\n\n&lt;ItemGroup&gt;\n  &lt;FilesForPackagingFromProject Remove=\"@(FilesForPackagingFromProject)\" Condition=\"!Exists('%(FullPath)')\" /&gt;\n&lt;/ItemGroup&gt;\n&lt;WriteLinesToFile Condition=\"$(EnablePackageProcessLoggingAndAssert)\"\n                  Encoding=\"utf-8\"\n                  File=\"$(PackageLogDir)\\CustomExcludeFilesAfter.txt\"\n                  Lines=\"@(FilesForPackagingFromProject-&gt;'\n                  From:%(Identity) \n                  DestinationRelativePath:%(DestinationRelativePath) \n                  Exclude:%(Exclude) \n                  FromTarget:%(FromTarget) \\\n                  Category:%(Category)\n                  ProjectFileType:%(ProjectFileType)')\" Overwrite=\"True\"/&gt;\n&lt;/Target&gt;\n</code></pre>\n\n<ol start=\"3\">\n<li>Save, restart your Visual Studio and republish</li>\n</ol></li>\n</ol>\n"}, {"tags": [], "owner": {"reputation": 5775, "user_id": 661584, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/c47466232c1a0d231193ca21bba25524?s=128&d=identicon&r=PG", "display_name": "MemeDeveloper", "link": "https://stackoverflow.com/users/661584/memedeveloper"}, "is_accepted": true, "score": 0, "last_activity_date": 1483889794, "creation_date": 1483889794, "answer_id": 41534413, "question_id": 37004925, "link": "https://stackoverflow.com/questions/37004925/exclude-transpiled-non-existent-js-files-from-typescript-web-publish/41534413#41534413", "title": "Exclude transpiled/non-existent .JS files from TypeScript Web Publish", "body": "<p>I had the same issue. I <strong>upgraded my TypeScript tools</strong> for Visual Studio to 2.1.4 and <strong>now it's all good</strong>. </p>\n\n<p><a href=\"https://www.microsoft.com/en-us/download/details.aspx?id=48593\" rel=\"nofollow noreferrer\">https://www.microsoft.com/en-us/download/details.aspx?id=48593</a> </p>\n"}], "owner": {"reputation": 8285, "user_id": 608220, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/3552206951906bc392106a3580a6b2f1?s=128&d=identicon&r=PG", "display_name": "shannon", "link": "https://stackoverflow.com/users/608220/shannon"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1457, "favorite_count": 0, "accepted_answer_id": 41534413, "answer_count": 3, "score": 4, "last_activity_date": 1483889794, "creation_date": 1462280524, "last_edit_date": 1463023813, "question_id": 37004925, "link": "https://stackoverflow.com/questions/37004925/exclude-transpiled-non-existent-js-files-from-typescript-web-publish", "title": "Exclude transpiled/non-existent .JS files from TypeScript Web Publish", "body": "<p>While trying to web publish a TypeScript project in Visual Studio 2015, Update 2; the build succeeds, but the Package/Publish fails at:</p>\n\n<pre><code>Error: Copying file typescript-filename.js to obj\\Release\\Package\\PackageTmp\\typescript-filename.js failed. Could not find file 'typescript-filename.js'.\n</code></pre>\n\n<p>The error appears when the project specifies a directory for TypeScript intermediate/output files. To reproduce this error, simply create a <code>tsconfig.json</code> file in the root of a new Visual Studio TypeScript HTML Application project, with the following contents:</p>\n\n<pre><code>{\n    \"compilerOptions\": {\n        \"outDir\": \"transpiled\"\n    }\n}\n</code></pre>\n\n<p>If don't use the <code>outDir</code> intermediate/output directory option, I get my source files published, which I do not want. (Also the project output gets mixed in with source, and the project becomes a mess.)</p>\n\n<p><strong>How can I exclude these TypeScript transpiled files from the Package/Publish?</strong></p>\n\n<p>Since I run WebPack to create separate deployable .JS bundle files (which are included in my project and perform package/publish successfully), I actually don't want any of these transpiled files included anyway.</p>\n\n<hr>\n\n<p><strong><em>Additional research:</em></strong></p>\n\n<p>I've already tried excluding the .TS source in the Solution Explorer, setting it to None/Do not copy.  But here's the really strange thing about that:</p>\n\n<p><strong>ANY change</strong> between \"None\" and \"TypeScript Compile\" (setting OR unsetting) on a .TS file in my project <strong>will allow my project to publish</strong> to the server successfully, and none of the transpiled .TS/.JS files are deployed; <strong>but only until I've made another change</strong> that requires the project to build again. Then the missing .JS file error reappears.</p>\n\n<p>So, effectively, I have some voodoo I can perform to force a publish, but I'd still really like to fix this problem.</p>\n\n<p>Somehow, <code>C:\\Program Files (x86)\\MSBuild\\Microsoft\\VisualStudio\\v14.0\\Web\\Transform\\Microsoft.Web.Publishing.AspNetCompileMerge.targets</code> reaches line 615 with a list of files that (AFAIK) never existed at any time during the build or packaging process, in the variable <code>@(FilesForPackagingFromProject)</code>. It's as though one of the targets does a direct replacement of any .TS extension with .JS if it just ran the build, but without regard to what actually happened in the build.</p>\n\n<pre><code>&lt;CopyPipelineFiles PipelineItems=\"@(FilesForPackagingFromProject)\"\n                       SourceDirectory=\"$(WebPublishPipelineProjectDirectory)\"\n                       TargetDirectory=\"$(_PreAspnetCompileMergeSingleTargetFolder)\"\n                       SkipMetadataExcludeTrueItems=\"True\"\n                       UpdateItemSpec=\"True\"\n                       DeleteItemsMarkAsExcludeTrue =\"True\"&gt;\n</code></pre>\n"}, {"tags": ["javascript", "typescript", "typescript1.8"], "comments": [{"owner": {"reputation": 10321, "user_id": 215552, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/26bda02894d869c95f620de4b7cd386d?s=128&d=identicon&r=PG", "display_name": "Heretic Monkey", "link": "https://stackoverflow.com/users/215552/heretic-monkey"}, "edited": false, "score": 0, "creation_date": 1462284309, "post_id": 37004290, "comment_id": 61565253, "body": "Honestly, you should really consider not extending the built-in types like this. When some future ES version comes out with its own native implementation of <code>contains</code> your code will override that and possibly be slower than the native code. See <a href=\"http://stackoverflow.com/q/14034180/215552\">stackoverflow.com/q/14034180/215552</a>."}], "answers": [{"tags": [], "owner": {"reputation": 80876, "user_id": 188246, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/bTzLq.jpg?s=128&g=1", "display_name": "David Sherret", "link": "https://stackoverflow.com/users/188246/david-sherret"}, "is_accepted": true, "score": 9, "last_activity_date": 1462283216, "last_edit_date": 1462283216, "creation_date": 1462279555, "answer_id": 37004571, "question_id": 37004290, "link": "https://stackoverflow.com/questions/37004290/how-to-add-file-with-extending-prototype-in-typescript/37004571#37004571", "title": "How to add file with extending prototype in Typescript", "body": "<p>You just need to run the file without importing anything. You can do that with this code:</p>\n\n<pre><code>import \"./ext/string\";\n</code></pre>\n\n<hr>\n\n<p>However, if your <code>string.ts</code> file contains any import statements then you will need to take out the interface and put it in a definition file (<code>.d.ts</code>). You need to do this with external modules so that the compiler knows it needs to be merged with the <code>String</code> interface in the global scope. For example:</p>\n\n<pre><code>// customTypings/string.d.ts\ninterface String {\n    contains(sub: string): boolean;\n}\n\n// ext/string.ts\nString.prototype.contains = function(sub:string): boolean {\n    if (sub === \"\") {\n        return false;\n    }\n    return (this.indexOf(sub) !== -1);\n};\n\n// main.ts\nimport \"./ext/string\";\n\n\"some string\".contains(\"t\"); // true\n</code></pre>\n"}], "owner": {"reputation": 189, "user_id": 4615056, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/ea6ad1ad2349414926597fc26b4a0a0d?s=128&d=identicon&r=PG&f=1", "display_name": "layabout", "link": "https://stackoverflow.com/users/4615056/layabout"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 861, "favorite_count": 0, "accepted_answer_id": 37004571, "answer_count": 1, "score": 2, "last_activity_date": 1462283216, "creation_date": 1462278839, "last_edit_date": 1462280094, "question_id": 37004290, "link": "https://stackoverflow.com/questions/37004290/how-to-add-file-with-extending-prototype-in-typescript", "title": "How to add file with extending prototype in Typescript", "body": "<p>Suppose i want to extend String.prototype, so i have this in ext/string.ts for example:</p>\n\n<pre><code>interface String {\n    contains(sub: string): boolean;\n}\n\nString.prototype.contains = function (sub:string):boolean {\n    if (sub === \"\") {\n        return false;\n    }\n    return (this.indexOf(sub) !== -1);\n};\n</code></pre>\n\n<p>When i do <code>import * as string from 'ext/string.ts'</code> it fails with this error:</p>\n\n<blockquote>\n  <p>error TS2306: File 'ext/string.ts' is not a module</p>\n</blockquote>\n\n<p>and this is supposed behavior , i didn't write export.\nBut how do i tell to Typescript that i want to extend String.prototype then?</p>\n"}, {"tags": ["typescript"], "answers": [{"comments": [{"owner": {"reputation": 295, "user_id": 1016147, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/c2814c5d6c5028bfca75b1e046a88f48?s=128&d=identicon&r=PG", "display_name": "sercan", "link": "https://stackoverflow.com/users/1016147/sercan"}, "edited": false, "score": 0, "creation_date": 1462282063, "post_id": 37004348, "comment_id": 61563366, "body": "Thanks for your answer.rsa.js is actually loaded on demand using requirejs so im on second option.Changing namespace with module and importing using impot keyword do not agree with me.Im not sure what import part should look like ? <code>declare module &quot;KJUR.jws&quot; {     interface IParsedJWS {         payloadS: any     }      interface IJWS {         new ();         verifyJWSByPemX509Cert(idToken: string, cert: string): boolean;         parsedJWS: IParsedJWS;     }     export = IJWS; }</code>"}, {"owner": {"reputation": 8273, "user_id": 68051, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/8a1aabc40d859fcb786eb4d28b95d299?s=128&d=identicon&r=PG", "display_name": "Tim Perry", "link": "https://stackoverflow.com/users/68051/tim-perry"}, "reply_to_user": {"reputation": 295, "user_id": 1016147, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/c2814c5d6c5028bfca75b1e046a88f48?s=128&d=identicon&r=PG", "display_name": "sercan", "link": "https://stackoverflow.com/users/1016147/sercan"}, "edited": false, "score": 0, "creation_date": 1462283029, "post_id": 37004348, "comment_id": 61564179, "body": "I&#39;ve updated the question with a full example. In your comment, you&#39;re just exporting the interface, not a variable with the type that the interface describes. You could export a variable of type IJWS (<code>export var JWS: IJWS;</code>) to get closer, but that&#39;s still not correct, because of the interface vs class issue from the top of my answer. You want to export a class."}], "tags": [], "owner": {"reputation": 8273, "user_id": 68051, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/8a1aabc40d859fcb786eb4d28b95d299?s=128&d=identicon&r=PG", "display_name": "Tim Perry", "link": "https://stackoverflow.com/users/68051/tim-perry"}, "is_accepted": true, "score": 1, "last_activity_date": 1462283164, "last_edit_date": 1462283164, "creation_date": 1462278974, "answer_id": 37004348, "question_id": 37003790, "link": "https://stackoverflow.com/questions/37003790/typescript-ambient-declaration-namespace/37004348#37004348", "title": "Typescript ambient declaration namespace", "body": "<p>First up, there's a bug in your IJWS interface definition. It defines a class-like object (something with a constructor), but it doesn't say what the constructor returns, and the methods defined are attached to the interface (i.e. the class itself), not the the object returned by the constructor. What you really want here is a class definition, not an interface:</p>\n\n<pre><code>class JWS {\n    verifyJWSByPemX509Cert(idToken: string, cert: string): boolean;\n    parsedJWS: IParsedJWS;\n}\n</code></pre>\n\n<p>This more accurately represents what you actually have. Once you've got that it's easy, you just need to export the class from inside the module (<a href=\"https://www.typescriptlang.org/play/#src=declare%20namespace%20KJUR.jws%20%7B%0A%20%20%20%20interface%20IParsedJWS%20%7B%0A%20%20%20%20%20%20%20%20payloadS%3A%20any%0A%20%20%20%20%7D%0A%0A%09export%20class%20JWS%20%7B%0A%20%20%20%20%20%20%20%20verifyJWSByPemX509Cert(idToken%3A%20string%2C%20cert%3A%20string)%3A%20boolean%3B%0A%20%20%20%20%20%20%20%20parsedJWS%3A%20IParsedJWS%3B%0A%20%20%20%20%7D%0A%7D%0A%0Avar%20idToken%3A%20string%3B%0Avar%20cert%3A%20string%3B%0A%0Avar%20jws%20%3D%20new%20KJUR.jws.JWS()%3B%0Ajws.verifyJWSByPemX509Cert(idToken%2C%20cert)%3B\" rel=\"nofollow\">playground link</a>):.</p>\n\n<pre><code>declare namespace KJUR.jws {\n    interface IParsedJWS {\n        payloadS: any\n    }\n\n    export class JWS {\n        verifyJWSByPemX509Cert(idToken: string, cert: string): boolean;\n        parsedJWS: IParsedJWS;\n    }\n}\n</code></pre>\n\n<p>This works if you want to define an 'ambient' module: a module that doesn't need explicit loading (i.e. types representing a global that's already going to exist at runtime).</p>\n\n<p>If you want to make this a module loadable by name, through Node modules/RequireJS/etc, you just need to move that definition into a separate file, use a module instead of a namespace, and add quotes around the name, as below <a href=\"https://www.typescriptlang.org/play/#src=%2F%2F%20In%20a%20separate%20file%2C%20e.g.%20%22KJUR.d.ts%22%3A%0Adeclare%20module%20%22KJUR.jws%22%20%7B%0A%09interface%20IParsedJWS%20%7B%20payloadS%3A%20any%20%7D%0A%09%0A%09export%20class%20IJWS%20%7B%0A%09%09verifyJWSByPemX509Cert(idToken%3A%20string%2C%20cert%3A%20string)%3A%20boolean%3B%0A%09%09parsedJWS%3A%20IParsedJWS%3B%0A%09%7D%0A%7D%0A%0A%2F%2F%20Elsewhere%3A%0Aimport%20jws%20%3D%20require(%22KJUR.jws%22)%3B%0A%0Avar%20idToken%3A%20string%3B%0Avar%20cert%3A%20string%3B%0A%0Avar%20jws%20%3D%20new%20jws.JWS()%3B%0Ajws.verifyJWSByPemX509Cert(idToken%2C%20cert)%3B\" rel=\"nofollow\">playground</a>:</p>\n\n<pre><code>// In a separate file, e.g. \"KJUR.d.ts\":\ndeclare module \"KJUR.jws\" {\n    interface IParsedJWS {\n        payloadS: any\n    }\n\n    export class JWS {\n        verifyJWSByPemX509Cert(idToken: string, cert: string): boolean;\n        parsedJWS: IParsedJWS;\n    }\n}\n\n// Elsewhere:\n\n// (The string below and the module name above need to match what RequireJS\n// is expecting, or it'll compile, but fail to find the module at runtime.\n// You can change them to anything you like, as long as they match.) \nimport jws = require(\"KJUR.jws\");\n\nvar idToken: string;\nvar cert: string;\n\nvar jws = new jws.JWS();\njws.verifyJWSByPemX509Cert(idToken, cert);\n</code></pre>\n\n<p>The key difference is how this KJUR object actually gets loaded in JavaScript at runtime. If you need a module to be actively loaded for it to become available, you need to use the named module syntax (the 2nd option above). If it's a global that's already going to exist (you've got a script tag that already adds it) then you should just use the first option.</p>\n"}], "owner": {"reputation": 295, "user_id": 1016147, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/c2814c5d6c5028bfca75b1e046a88f48?s=128&d=identicon&r=PG", "display_name": "sercan", "link": "https://stackoverflow.com/users/1016147/sercan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1241, "favorite_count": 0, "accepted_answer_id": 37004348, "answer_count": 1, "score": 0, "last_activity_date": 1462283164, "creation_date": 1462277476, "question_id": 37003790, "link": "https://stackoverflow.com/questions/37003790/typescript-ambient-declaration-namespace", "title": "Typescript ambient declaration namespace", "body": "<p>Recently i have moved our spa app to typescript,and now i stuck with implementing  the declation file of rsa.js which is used for openid authentication.</p>\n\n<p>Previously used Js code like below.</p>\n\n<pre><code>var jws = new KJUR.jws.JWS();\njws.verifyJWSByPemX509Cert(idToken, cert);\n</code></pre>\n\n<p>in a rsa.d.ts file</p>\n\n<pre><code>declare namespace KJUR.jws {\n    interface IParsedJWS {\n        payloadS: any\n    }\n    interface IJWS {\n        new ();\n        verifyJWSByPemX509Cert(idToken: string, cert: string): boolean;\n        parsedJWS: IParsedJWS;\n    }\n}\n\ndeclare var JWS: KJUR.jws.IJWS;\ndeclare module \"KJUR.jws.JWS\" {\n    export = JWS;\n}\n</code></pre>\n\n<p>Im not sure what im doing here.Please anyone guide me the right way.How can i define namespace like KJUR.jws.JWS to use new KJUR.jws.JWS();?</p>\n\n<p>Thanks</p>\n"}, {"tags": ["asp.net-mvc", "typescript", "phaser-framework"], "comments": [{"owner": {"reputation": 2514, "user_id": 4448416, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2ZI6V.jpg?s=128&g=1", "display_name": "Kamen Minkov", "link": "https://stackoverflow.com/users/4448416/kamen-minkov"}, "edited": false, "score": 0, "creation_date": 1462287980, "post_id": 37003717, "comment_id": 61567977, "body": "Would you share a snippet with the section of code where you preload the images?"}], "answers": [{"tags": [], "owner": {"reputation": 7386, "user_id": 11912, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/f43dfd72c066838b02985e4c6e7f4270?s=128&d=identicon&r=PG", "display_name": "James Skemp", "link": "https://stackoverflow.com/users/11912/james-skemp"}, "is_accepted": true, "score": 2, "last_activity_date": 1462411202, "creation_date": 1462411202, "answer_id": 37040746, "question_id": 37003717, "link": "https://stackoverflow.com/questions/37003717/asp-net-mvc-application-using-typescript-and-phaser-io-does-not-show-images/37040746#37040746", "title": "Asp.net MVC application using typescript and Phaser.io does not show images", "body": "<p>Your asset references are relative.</p>\n\n<p>So if you look at the network tab in a browser you'll notice that it's trying to load the graphics relative to the URL. For example, <a href=\"http://asskicker3.azurewebsites.net/Home/assets/background.jpg\" rel=\"nofollow\">http://asskicker3.azurewebsites.net/Home/assets/background.jpg</a></p>\n\n<p>One way to fix this would be to change your <code>preload</code> so that the asset URLs are absolute instead of relative. So</p>\n\n<pre><code>this.game.load.image('background', \"assets/background.jpg\");\n</code></pre>\n\n<p>would become</p>\n\n<pre><code>this.game.load.image('background', \"/assets/background.jpg\");\n</code></pre>\n"}], "owner": {"reputation": 58, "user_id": 5338207, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/e4cf711e668169d58bd4d9954654cf57?s=128&d=identicon&r=PG&f=1", "display_name": "Jake_2", "link": "https://stackoverflow.com/users/5338207/jake-2"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 200, "favorite_count": 0, "accepted_answer_id": 37040746, "answer_count": 1, "score": 0, "last_activity_date": 1462432932, "creation_date": 1462277267, "last_edit_date": 1462432932, "question_id": 37003717, "link": "https://stackoverflow.com/questions/37003717/asp-net-mvc-application-using-typescript-and-phaser-io-does-not-show-images", "title": "Asp.net MVC application using typescript and Phaser.io does not show images", "body": "<p>I have a simple typescript game(using Phaser.io) that i what to run from an ASP.net MVC application in an MVC 5 View page with Layout (Razor)\nI have added the view and the controller \n<strong>/Views/Home/About.cshtml</strong></p>\n\n<pre><code>@{\n    ViewBag.Title = \"About\";\n}\n\n\n&lt;link rel=\"stylesheet\" href=\"app.css\" type=\"text/css\" /&gt;\n&lt;script src=\"~/phaser.js\"&gt;&lt;/script&gt;\n&lt;script src=\"~/app.js\"&gt;&lt;/script&gt;\n\n&lt;div id=\"game\"&gt;&lt;/div&gt;\n</code></pre>\n\n<p>The game starts but it does not show any images. It looks like the reference to the image is wrong.\n<a href=\"http://asskicker3.azurewebsites.net/Home/About\" rel=\"nofollow\">http://asskicker3.azurewebsites.net/Home/About</a></p>\n\n<p>I reference the images as follows in the <strong>app.ts</strong>:</p>\n\n<pre><code> preload() {\n        this.game.load.image('background',\"assets/background.jpg\");\n</code></pre>\n\n<p>If i add an HTML page to the root of my folder it all work perfect.\n<a href=\"http://asskicker3.azurewebsites.net/index.html\" rel=\"nofollow\">http://asskicker3.azurewebsites.net/index.html</a></p>\n\n<pre><code>&lt;!DOCTYPE html&gt;\n\n&lt;html lang=\"en\"&gt;\n&lt;head&gt;\n    &lt;meta charset=\"utf-8\" /&gt;\n\n\n&lt;/head&gt;\n&lt;body style=\"margin:0px; padding: 0px;\"&gt;\n    &lt;link rel=\"stylesheet\" href=\"app.css\" type=\"text/css\" /&gt;\n    &lt;script src=\"phaser.js\"&gt;&lt;/script&gt;\n    &lt;script src=\"app.js\"&gt;&lt;/script&gt;\n    &lt;div id=\"game\"&gt;&lt;/div&gt;\n\n&lt;/body&gt;\n\n&lt;/html&gt;\n</code></pre>\n\n<p><strong>Answer:</strong>\nJames Skemp solutions works. Just by adding the / it all works. Perfect!</p>\n"}, {"tags": ["arrays", "filter", "typescript", "angular"], "answers": [{"comments": [{"owner": {"reputation": 1726, "user_id": 4890595, "user_type": "registered", "accept_rate": 55, "profile_image": "https://lh3.googleusercontent.com/-9rPtty8_fOI/AAAAAAAAAAI/AAAAAAAAA0Y/wmx2PYqTMEQ/photo.jpg?sz=128", "display_name": "Code-MonKy", "link": "https://stackoverflow.com/users/4890595/code-monky"}, "edited": false, "score": 0, "creation_date": 1462279380, "post_id": 37003578, "comment_id": 61561355, "body": "Makes sense. I get the error &quot;Error: ngOnInit is not defined&quot; after adding your piece of code, importing <code>OnInit</code> and adding <code>booksByStoreID = Book[];</code> in the component."}, {"owner": {"reputation": 181833, "user_id": 1873365, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/45TMV.png?s=128&g=1", "display_name": "Thierry Templier", "link": "https://stackoverflow.com/users/1873365/thierry-templier"}, "reply_to_user": {"reputation": 1726, "user_id": 4890595, "user_type": "registered", "accept_rate": 55, "profile_image": "https://lh3.googleusercontent.com/-9rPtty8_fOI/AAAAAAAAAAI/AAAAAAAAA0Y/wmx2PYqTMEQ/photo.jpg?sz=128", "display_name": "Code-MonKy", "link": "https://stackoverflow.com/users/4890595/code-monky"}, "edited": false, "score": 0, "creation_date": 1462279471, "post_id": 37003578, "comment_id": 61561426, "body": "I think that it&#39;s rather: <code>booksByStoreID: Book[];</code>"}, {"owner": {"reputation": 1726, "user_id": 4890595, "user_type": "registered", "accept_rate": 55, "profile_image": "https://lh3.googleusercontent.com/-9rPtty8_fOI/AAAAAAAAAAI/AAAAAAAAA0Y/wmx2PYqTMEQ/photo.jpg?sz=128", "display_name": "Code-MonKy", "link": "https://stackoverflow.com/users/4890595/code-monky"}, "edited": false, "score": 0, "creation_date": 1462281012, "post_id": 37003578, "comment_id": 61562579, "body": "Doesn&#39;t work either. Should I puts this in a constructor maybe? I tried this, then I get an error complaining about the <code>]</code>"}, {"owner": {"reputation": 181833, "user_id": 1873365, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/45TMV.png?s=128&g=1", "display_name": "Thierry Templier", "link": "https://stackoverflow.com/users/1873365/thierry-templier"}, "reply_to_user": {"reputation": 1726, "user_id": 4890595, "user_type": "registered", "accept_rate": 55, "profile_image": "https://lh3.googleusercontent.com/-9rPtty8_fOI/AAAAAAAAAAI/AAAAAAAAA0Y/wmx2PYqTMEQ/photo.jpg?sz=128", "display_name": "Code-MonKy", "link": "https://stackoverflow.com/users/4890595/code-monky"}, "edited": false, "score": 0, "creation_date": 1462281163, "post_id": 37003578, "comment_id": 61562684, "body": "Could you add in your question (in an edit paragraph for example) the code your tried? It&#39;s difficult for me to guess what you tried ;-) Thanks!"}, {"owner": {"reputation": 1726, "user_id": 4890595, "user_type": "registered", "accept_rate": 55, "profile_image": "https://lh3.googleusercontent.com/-9rPtty8_fOI/AAAAAAAAAAI/AAAAAAAAA0Y/wmx2PYqTMEQ/photo.jpg?sz=128", "display_name": "Code-MonKy", "link": "https://stackoverflow.com/users/4890595/code-monky"}, "edited": false, "score": 0, "creation_date": 1462282698, "post_id": 37003578, "comment_id": 61563874, "body": "I seem to get a DI Exception, while before buidling the data filtering retrieving the store id wasn&#39;t a problem at all and printed in the template. Maybe you can find something I overlooked in my edit?"}, {"owner": {"reputation": 181833, "user_id": 1873365, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/45TMV.png?s=128&g=1", "display_name": "Thierry Templier", "link": "https://stackoverflow.com/users/1873365/thierry-templier"}, "reply_to_user": {"reputation": 1726, "user_id": 4890595, "user_type": "registered", "accept_rate": 55, "profile_image": "https://lh3.googleusercontent.com/-9rPtty8_fOI/AAAAAAAAAAI/AAAAAAAAA0Y/wmx2PYqTMEQ/photo.jpg?sz=128", "display_name": "Code-MonKy", "link": "https://stackoverflow.com/users/4890595/code-monky"}, "edited": false, "score": 0, "creation_date": 1462282947, "post_id": 37003578, "comment_id": 61564105, "body": "It&#39;s because you should use this: <code>booksByAimID: Book[]; constructor() {}</code>. ``booksByAimID: Book[];` is a property declaration not a constructor parameter. Angular2 leverages constructor parameter for dependency injection..."}, {"owner": {"reputation": 1726, "user_id": 4890595, "user_type": "registered", "accept_rate": 55, "profile_image": "https://lh3.googleusercontent.com/-9rPtty8_fOI/AAAAAAAAAAI/AAAAAAAAA0Y/wmx2PYqTMEQ/photo.jpg?sz=128", "display_name": "Code-MonKy", "link": "https://stackoverflow.com/users/4890595/code-monky"}, "edited": false, "score": 1, "creation_date": 1462283427, "post_id": 37003578, "comment_id": 61564505, "body": "Thanks! The filtering completly works :) A new issue arose though. When clicking in the parent component such that another store is selected, the old store_id remains and the list of books stay the same..."}, {"owner": {"reputation": 181833, "user_id": 1873365, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/45TMV.png?s=128&g=1", "display_name": "Thierry Templier", "link": "https://stackoverflow.com/users/1873365/thierry-templier"}, "reply_to_user": {"reputation": 1726, "user_id": 4890595, "user_type": "registered", "accept_rate": 55, "profile_image": "https://lh3.googleusercontent.com/-9rPtty8_fOI/AAAAAAAAAAI/AAAAAAAAA0Y/wmx2PYqTMEQ/photo.jpg?sz=128", "display_name": "Code-MonKy", "link": "https://stackoverflow.com/users/4890595/code-monky"}, "edited": false, "score": 0, "creation_date": 1462283549, "post_id": 37003578, "comment_id": 61564615, "body": "Great! You need to implement <code>ngOnChanges</code> to detect this. When <code>store_id</code> will be updated, this method will be called and you can execute the same thing than <code>ngOnInit</code>..."}, {"owner": {"reputation": 1726, "user_id": 4890595, "user_type": "registered", "accept_rate": 55, "profile_image": "https://lh3.googleusercontent.com/-9rPtty8_fOI/AAAAAAAAAAI/AAAAAAAAA0Y/wmx2PYqTMEQ/photo.jpg?sz=128", "display_name": "Code-MonKy", "link": "https://stackoverflow.com/users/4890595/code-monky"}, "edited": false, "score": 0, "creation_date": 1462290911, "post_id": 37003578, "comment_id": 61570033, "body": "<code>ngOnChanges(store) { this.store.id = store[id].currentValue };</code> leaves me with a &quot;RefferenceError&quot;. Any idea?"}, {"owner": {"reputation": 181833, "user_id": 1873365, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/45TMV.png?s=128&g=1", "display_name": "Thierry Templier", "link": "https://stackoverflow.com/users/1873365/thierry-templier"}, "reply_to_user": {"reputation": 1726, "user_id": 4890595, "user_type": "registered", "accept_rate": 55, "profile_image": "https://lh3.googleusercontent.com/-9rPtty8_fOI/AAAAAAAAAAI/AAAAAAAAA0Y/wmx2PYqTMEQ/photo.jpg?sz=128", "display_name": "Code-MonKy", "link": "https://stackoverflow.com/users/4890595/code-monky"}, "edited": false, "score": 0, "creation_date": 1462291521, "post_id": 37003578, "comment_id": 61570393, "body": "Not sure what you&#39;re trying to do ;-) I thought of this: <code>ngOnChanges() {   this.booksByStoreID = this.books.filter(           book =&gt; book.store_id === this.store.id); }</code>"}, {"owner": {"reputation": 1726, "user_id": 4890595, "user_type": "registered", "accept_rate": 55, "profile_image": "https://lh3.googleusercontent.com/-9rPtty8_fOI/AAAAAAAAAAI/AAAAAAAAA0Y/wmx2PYqTMEQ/photo.jpg?sz=128", "display_name": "Code-MonKy", "link": "https://stackoverflow.com/users/4890595/code-monky"}, "edited": false, "score": 0, "creation_date": 1462291904, "post_id": 37003578, "comment_id": 61570606, "body": "Thanks, my app is functional :) I thought I could overwrite the input values since ngOnInit will be called after ngOnChanges. But maybe I misunderstood and this is the only way."}, {"owner": {"reputation": 389, "user_id": 3972725, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/fb9029efb475d64b8af5c6aa346592e1?s=128&d=identicon&r=PG&f=1", "display_name": "stackUser44", "link": "https://stackoverflow.com/users/3972725/stackuser44"}, "edited": false, "score": 0, "creation_date": 1491832746, "post_id": 37003578, "comment_id": 73714626, "body": "when I try this solution showing as &quot; Cannot read property &#39;filter&#39; of undefined&quot;"}, {"owner": {"reputation": 2407, "user_id": 3678157, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/x3whF.jpg?s=128&g=1", "display_name": "Chanaka Amarasinghe", "link": "https://stackoverflow.com/users/3678157/chanaka-amarasinghe"}, "edited": false, "score": 0, "creation_date": 1529571882, "post_id": 37003578, "comment_id": 88925553, "body": "in my case &#39;books&#39; is an array and I need output also a array"}, {"owner": {"reputation": 2607, "user_id": 1144868, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/e19a0eaf3398e48b56e76d5c698ce7b8?s=128&d=identicon&r=PG", "display_name": "sandeep", "link": "https://stackoverflow.com/users/1144868/sandeep"}, "edited": false, "score": 0, "creation_date": 1587613167, "post_id": 37003578, "comment_id": 108581538, "body": "Can we put an OR (||) condition here like (book =&gt; book.store_id === 2|| book.store_id === 5) ?"}], "tags": [], "owner": {"reputation": 181833, "user_id": 1873365, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/45TMV.png?s=128&g=1", "display_name": "Thierry Templier", "link": "https://stackoverflow.com/users/1873365/thierry-templier"}, "is_accepted": true, "score": 230, "last_activity_date": 1462276843, "creation_date": 1462276843, "answer_id": 37003578, "question_id": 37003551, "link": "https://stackoverflow.com/questions/37003551/how-do-i-filter-an-array-with-typescript-in-angular-2/37003578#37003578", "title": "How do I filter an array with TypeScript in Angular 2?", "body": "<p>You need to put your code into <code>ngOnInit</code> and use the <code>this</code> keyword:</p>\n\n<pre><code>ngOnInit() {\n  this.booksByStoreID = this.books.filter(\n          book =&gt; book.store_id === this.store.id);\n}\n</code></pre>\n\n<p>You need <code>ngOnInit</code> because the input <code>store</code> wouldn't be set into the constructor:</p>\n\n<blockquote>\n  <p><strong>ngOnInit</strong> is called right after the directive's data-bound properties have been checked for the first time, and before any of its children have been checked. It is invoked only once when the directive is instantiated.</p>\n</blockquote>\n\n<p>(<a href=\"https://angular.io/docs/ts/latest/api/core/index/OnInit-interface.html\" rel=\"noreferrer\">https://angular.io/docs/ts/latest/api/core/index/OnInit-interface.html</a>)</p>\n\n<p>In your code, the books filtering is directly defined into the class content...</p>\n"}, {"tags": [], "owner": {"reputation": 3347, "user_id": 3232778, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/135e2c2e8d200fc4c2878d24da6e7876?s=128&d=identicon&r=PG", "display_name": "yaircarreno", "link": "https://stackoverflow.com/users/3232778/yaircarreno"}, "is_accepted": false, "score": 20, "last_activity_date": 1498593063, "creation_date": 1498593063, "answer_id": 44788733, "question_id": 37003551, "link": "https://stackoverflow.com/questions/37003551/how-do-i-filter-an-array-with-typescript-in-angular-2/44788733#44788733", "title": "How do I filter an array with TypeScript in Angular 2?", "body": "<p>You can check an example in Plunker over here <a href=\"http://plnkr.co/edit/cO8b9JO7k9kNxF6Qr4lS?p=preview\" rel=\"noreferrer\">plunker example filters</a></p>\n\n<pre><code>filter() {\n\n    let storeId = 1;\n    this.bookFilteredList = this.bookList\n                                .filter((book: Book) =&gt; book.storeId === storeId);\n    this.bookList = this.bookFilteredList; \n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 762, "user_id": 6091553, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c9ae40bbd66e3e1b776fdcc65dd9e122?s=128&d=identicon&r=PG&f=1", "display_name": "alchi baucha", "link": "https://stackoverflow.com/users/6091553/alchi-baucha"}, "is_accepted": false, "score": 3, "last_activity_date": 1536200693, "creation_date": 1536200693, "answer_id": 52195642, "question_id": 37003551, "link": "https://stackoverflow.com/questions/37003551/how-do-i-filter-an-array-with-typescript-in-angular-2/52195642#52195642", "title": "How do I filter an array with TypeScript in Angular 2?", "body": "<p>To filter an array irrespective of the property type (i.e. for all property types), we can create a custom filter pipe</p>\n\n<pre><code>import { Pipe, PipeTransform } from '@angular/core';\n\n@Pipe({ name: \"filter\" })\nexport class ManualFilterPipe implements PipeTransform {\n  transform(itemList: any, searchKeyword: string) {\n    if (!itemList)\n      return [];\n    if (!searchKeyword)\n      return itemList;\n    let filteredList = [];\n    if (itemList.length &gt; 0) {\n      searchKeyword = searchKeyword.toLowerCase();\n      itemList.forEach(item =&gt; {\n        //Object.values(item) =&gt; gives the list of all the property values of the 'item' object\n        let propValueList = Object.values(item);\n        for(let i=0;i&lt;propValueList.length;i++)\n        {\n          if (propValueList[i]) {\n            if (propValueList[i].toString().toLowerCase().indexOf(searchKeyword) &gt; -1)\n            {\n              filteredList.push(item);\n              break;\n            }\n          }\n        }\n      });\n    }\n    return filteredList;\n  }\n}\n\n//Usage\n\n//&lt;tr *ngFor=\"let company of companyList | filter: searchKeyword\"&gt;&lt;/tr&gt;\n</code></pre>\n\n<p>Don't forget to import the pipe in the app module</p>\n\n<p><em>We might need to customize the logic to filer with dates.</em></p>\n"}], "owner": {"reputation": 1726, "user_id": 4890595, "user_type": "registered", "accept_rate": 55, "profile_image": "https://lh3.googleusercontent.com/-9rPtty8_fOI/AAAAAAAAAAI/AAAAAAAAA0Y/wmx2PYqTMEQ/photo.jpg?sz=128", "display_name": "Code-MonKy", "link": "https://stackoverflow.com/users/4890595/code-monky"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 394950, "favorite_count": 20, "accepted_answer_id": 37003578, "answer_count": 3, "score": 127, "last_activity_date": 1536200693, "creation_date": 1462276774, "last_edit_date": 1498249623, "question_id": 37003551, "link": "https://stackoverflow.com/questions/37003551/how-do-i-filter-an-array-with-typescript-in-angular-2", "title": "How do I filter an array with TypeScript in Angular 2?", "body": "<p>ng-2 parent-child data inheritance has been a difficulty for me. </p>\n\n<p>What seems that could be a fine working practical solution is filtering my total array of data to an array consisting of only child data referenced by a single parent id.\nIn other words: data-inheritance becomes data filtering by one parent id. </p>\n\n<p>In a concrete example this can look like: filtering a books array to only show the books with a certain <code>store_id</code>.</p>\n\n<pre class=\"lang-ts prettyprint-override\"><code>import {Component, Input} from 'angular2/core';\n\nexport class Store {\n  id: number;\n  name: string;\n}\n\nexport class Book {\n  id: number;\n  shop_id: number;\n  title: string;\n}\n\n@Component({\n  selector: 'book',\n  template:`\n    &lt;p&gt;These books should have a label of the shop: {{shop.id}}:&lt;/p&gt;\n\n    &lt;p *ngFor=\"#book of booksByShopID\"&gt;{{book.title}}&lt;/p&gt;\n  `\n])\nexport class BookComponent {\n  @Input()\n  store: Store;\n\n  public books = BOOKS;\n\n  // \"Error: books is not defined\"\n  // ( also doesn't work when books.filter is called like: this.books.filter\n  // \"Error: Cannot read property 'filter' of undefined\" )\n  var booksByStoreID = books.filter(book =&gt; book.store_id === this.store.id)\n}\n\nvar BOOKS: Book[] = [\n  { 'id': 1, 'store_id': 1, 'name': 'Dichtertje' },\n  { 'id': 2, 'store_id': 1, 'name': 'De uitvreter' },\n  { 'id': 3, 'store_id': 2, 'name': 'Titaantjes' }\n];\n</code></pre>\n\n<p>TypeScript is new to me, but I think I am close to making things work here.</p>\n\n<p>(Also overwriting the original books array could be an option, then using <code>*ngFor=\"#book of books\"</code>.)</p>\n\n<p><strong>EDIT</strong>\nGetting closer, but still giving an error.</p>\n\n<pre class=\"lang-ts prettyprint-override\"><code>//changes on top:\nimport {Component, Input, OnInit} from 'angular2/core';\n\n// ..omitted\n\n//changed component:\nexport class BookComponent implements OnInit {\n  @Input() \n  store: Store;\n\n  public books = BOOKS;\n\n  // adding the data in a constructor needed for ngInit\n  // \"EXCEPTION: No provider for Array!\"\n  constructor(\n    booksByStoreID: Book[];\n  ) {}\n\n\n  ngOnInit() {\n    this.booksByStoreID = this.books.filter(\n      book =&gt; book.store_id === this.store.id);\n  }\n}\n\n// ..omitted\n</code></pre>\n"}, {"tags": ["typescript", "angular", "server-sent-events", "eventsource"], "answers": [{"tags": [], "owner": {"reputation": 181833, "user_id": 1873365, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/45TMV.png?s=128&g=1", "display_name": "Thierry Templier", "link": "https://stackoverflow.com/users/1873365/thierry-templier"}, "is_accepted": false, "score": 6, "last_activity_date": 1462277464, "creation_date": 1462277464, "answer_id": 37003785, "question_id": 37003459, "link": "https://stackoverflow.com/questions/37003459/angular2-typescript-and-sse-eventsource/37003785#37003785", "title": "Angular2/typescript and SSE (EventSource)", "body": "<p>In fact, there are two things in TypeScript:</p>\n\n<ul>\n<li><strong>The compilation time</strong>. The compiler checks for syntax errors and types. Regarding types, it relies on <code>d.ts</code> files that can be seen at files described contracts of objects / classes.</li>\n<li><strong>The execution time</strong>. If the object is present into your execution environment, the code will be executed.</li>\n</ul>\n\n<p>In your case, the problem is at compilation time.</p>\n\n<p>Here is a sample of d.ts file for EventSource: <a href=\"https://github.com/sbergot/orgmodeserver/blob/master/src/ts/deps/EventSource.d.ts\" rel=\"noreferrer\">https://github.com/sbergot/orgmodeserver/blob/master/src/ts/deps/EventSource.d.ts</a></p>\n\n<p>You can get it and reference it at the very beginning of your TypeScript file this way:</p>\n\n<pre><code>/// &lt;reference path=\"../&lt;path-to&gt;EventSource.d.ts\"/&gt;\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 119, "user_id": 9826591, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-5ct5zWc82wQ/AAAAAAAAAAI/AAAAAAAAAks/s2wLgIcSo9M/photo.jpg?sz=128", "display_name": "Akshay Busa", "link": "https://stackoverflow.com/users/9826591/akshay-busa"}, "edited": false, "score": 0, "creation_date": 1561704269, "post_id": 45960164, "comment_id": 100158544, "body": "can you tell me how can i add polyfill for eventsource ?"}], "tags": [], "owner": {"reputation": 51, "user_id": 8537904, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-FYbN862Rt9M/AAAAAAAAAAI/AAAAAAAAAAs/yyVLroj1PnY/photo.jpg?sz=128", "display_name": "Ondrej Machala", "link": "https://stackoverflow.com/users/8537904/ondrej-machala"}, "is_accepted": false, "score": 5, "last_activity_date": 1504095313, "creation_date": 1504095313, "answer_id": 45960164, "question_id": 37003459, "link": "https://stackoverflow.com/questions/37003459/angular2-typescript-and-sse-eventsource/45960164#45960164", "title": "Angular2/typescript and SSE (EventSource)", "body": "<pre><code>let eventSource = window['EventSource'];\n</code></pre>\n\n<p>TypeScript does not know about EventSource which is part of window. So you have to extract first.</p>\n\n<p>See: <a href=\"https://github.com/OasisDigital/sse-a2-example/blob/master/src/app/sse.ts\" rel=\"noreferrer\">https://github.com/OasisDigital/sse-a2-example/blob/master/src/app/sse.ts</a></p>\n"}, {"tags": [], "owner": {"reputation": 119, "user_id": 9826591, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-5ct5zWc82wQ/AAAAAAAAAAI/AAAAAAAAAks/s2wLgIcSo9M/photo.jpg?sz=128", "display_name": "Akshay Busa", "link": "https://stackoverflow.com/users/9826591/akshay-busa"}, "is_accepted": false, "score": 3, "last_activity_date": 1561634791, "creation_date": 1561634791, "answer_id": 56790007, "question_id": 37003459, "link": "https://stackoverflow.com/questions/37003459/angular2-typescript-and-sse-eventsource/56790007#56790007", "title": "Angular2/typescript and SSE (EventSource)", "body": "<p>You need to specify that EventSource is the function of window and also need to pass the parameter with it.</p>\n\n<pre><code>const eventSource = new window['EventSource'](\"http://url\")\n</code></pre>\n"}], "owner": {"reputation": 121, "user_id": 3893304, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5daf634b0fca0f0483e3e7946375181c?s=128&d=identicon&r=PG&f=1", "display_name": "Dunderdon", "link": "https://stackoverflow.com/users/3893304/dunderdon"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 8725, "favorite_count": 1, "answer_count": 3, "score": 7, "last_activity_date": 1561634791, "creation_date": 1462276500, "last_edit_date": 1462277664, "question_id": 37003459, "link": "https://stackoverflow.com/questions/37003459/angular2-typescript-and-sse-eventsource", "title": "Angular2/typescript and SSE (EventSource)", "body": "<p>First of all, I`m quite new to ng2 and typescript.</p>\n\n<p>What Im trying to accomplish is to implement Server-Sent events in Angular2 component.\nI have followed the examples mentioned in earlies posts here, but my problem is that the \"EventSource\" object is unrecognized (red underline, in VS Code).</p>\n\n<p>Im not sure if I`m missing some references...\nMy references are:</p>\n\n<pre><code>&lt;!-- IE required polyfills, in this exact order --&gt;\n  &lt;script src=\"node_modules/es6-shim/es6-shim.min.js\"&gt;&lt;/script&gt;\n  &lt;script src=\"node_modules/systemjs/dist/system-polyfills.js\"&gt;&lt;/script&gt;\n  &lt;script src=\"node_modules/angular2/es6/dev/src/testing/shims_for_IE.js\"&gt;&lt;/script&gt;\n  &lt;script src=\"node_modules/angular2/bundles/angular2-polyfills.js\"&gt;&lt;/script&gt;\n  &lt;script src=\"node_modules/systemjs/dist/system.src.js\"&gt;&lt;/script&gt;\n  &lt;script src=\"node_modules/rxjs/bundles/Rx.js\"&gt;&lt;/script&gt;\n  &lt;script src=\"node_modules/angular2/bundles/angular2.dev.js\"&gt;&lt;/script&gt;\n</code></pre>\n\n<p>This is how I have Implemeted the eventsource client:</p>\n\n<pre><code>   ngOnInit() {\n      const observable = Observable.create(observer =&gt; {\n        const eventSource = new EventSource(/API_URL); //Cannot find EventSource\n        eventSource.onmessage = x =&gt; observer.next(x.data);\n        eventSource.onerror = x =&gt; observer.error(x);\n\n        return () =&gt; {\n            eventSource.close();\n        };\n    });\n\n    observable.subscribe({\n        next: guid =&gt; {\n            this.zone.run(() =&gt; this.someStrings.push(guid));\n        },\n        error: err =&gt; console.error('something wrong occurred: ' + err)\n    });\n</code></pre>\n"}, {"tags": ["typescript", "angular"], "comments": [{"owner": {"reputation": 883, "user_id": 2398705, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/9401a4c7f0b144aa67bd545cf79dcb5d?s=128&d=identicon&r=PG", "display_name": "RobSeg", "link": "https://stackoverflow.com/users/2398705/robseg"}, "edited": false, "score": 1, "creation_date": 1462273911, "post_id": 37002214, "comment_id": 61557708, "body": "in beta releases this was fixed with <code>&#47;&#47;&#47;&lt;reference path=&quot;node_modules&#47;angular2&#47;typings&#47;browser.d.ts&quot;&#47;&gt;</code> but made typings modular and dropped typings for ES6 so it seems"}], "answers": [{"comments": [{"owner": {"reputation": 979, "user_id": 799520, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/n24Je.png?s=128&g=1", "display_name": "Magnus Wallstr&#246;m", "link": "https://stackoverflow.com/users/799520/magnus-wallstr%c3%b6m"}, "edited": false, "score": 3, "creation_date": 1462276104, "post_id": 37002897, "comment_id": 61559118, "body": "I found the file browser.d.ts in the angular2-in-memory-web-api project and added this line instead which made it work. I&#39;m not sure what&#39;s the best option.  <code>&#47;&#47;&#47;&lt;reference path=&quot;..&#47;node_modules&#47;angular2-in-memory-web-api&#47;typings&#47;bro&zwnj;&#8203;wser.d.ts&quot;&#47;&gt;</code>"}], "tags": [], "owner": {"reputation": 883, "user_id": 2398705, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/9401a4c7f0b144aa67bd545cf79dcb5d?s=128&d=identicon&r=PG", "display_name": "RobSeg", "link": "https://stackoverflow.com/users/2398705/robseg"}, "is_accepted": false, "score": 2, "last_activity_date": 1462277376, "last_edit_date": 1462277376, "creation_date": 1462274934, "answer_id": 37002897, "question_id": 37002214, "link": "https://stackoverflow.com/questions/37002214/angular2-quickstart-refuse-to-build-for-release-candidate/37002897#37002897", "title": "Angular2 QuickStart refuse to build for release candidate", "body": "<p><strong>Easy dirty fix</strong></p>\n\n<p>Copy the typings folder from Angular 2 beta 17 into @angular project so <code>///&lt;reference path=\"node_modules/angular2/typings/browser.d.ts\"/&gt;</code> in your top level component works again</p>\n\n<p><strong>Clean fix</strong></p>\n\n<p>You have to manualy install the typings for ES6 promise and ES6 collections with <code>typings install es6-promise</code> use the <code>--ambient</code> flag for tsd (deprecated) typings.</p>\n"}], "owner": {"reputation": 979, "user_id": 799520, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/n24Je.png?s=128&g=1", "display_name": "Magnus Wallstr&#246;m", "link": "https://stackoverflow.com/users/799520/magnus-wallstr%c3%b6m"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1428, "favorite_count": 0, "answer_count": 1, "score": 5, "last_activity_date": 1507147682, "creation_date": 1462272950, "last_edit_date": 1507147682, "question_id": 37002214, "link": "https://stackoverflow.com/questions/37002214/angular2-quickstart-refuse-to-build-for-release-candidate", "title": "Angular2 QuickStart refuse to build for release candidate", "body": "<p>I'm trying to walk through the quickstart for Angular2 now when the release candidate is out. \nHowever, the typescript compiler throws a lot of errors that I can't figure out. </p>\n\n<p><a href=\"https://angular.io/guide/quickstart\" rel=\"nofollow noreferrer\">https://angular.io/guide/quickstart</a></p>\n\n<p>First a lot of lines like this.\nnode_modules/@angular/core/src/application_ref.d.ts(39,88): error TS2304: Cannot find name 'Promise'.\nnode_modules/@angular/core/src/application_ref.d.ts(99,42): error TS2304: Cannot find name 'Promise'.</p>\n\n<p>and then this...\nnpm ERR! Windows_NT 6.1.7601\nnpm ERR! argv \"C:\\Program Files (x86)\\nodejs\\\\node.exe\" \"C:\\Program Files (x86)\\nodejs\\node_modules\\npm\\bin\\npm-cli.js\" \"run\" \"tsc\"\nnpm ERR! node v0.12.2\nnpm ERR! npm  v2.7.4\nnpm ERR! code ELIFECYCLE\nnpm ERR! angular2-quickstart@1.0.0 tsc: <code>tsc</code>\nnpm ERR! Exit status 2\nnpm ERR!\nnpm ERR! Failed at the angular2-quickstart@1.0.0 tsc script 'tsc'.\nnpm ERR! This is most likely a problem with the angular2-quickstart package,\nnpm ERR! not with npm itself.\nnpm ERR! Tell the author that this fails on your system:\nnpm ERR!     tsc\nnpm ERR! You can get their info via:\nnpm ERR!     npm owner ls angular2-quickstart\nnpm ERR! There is likely additional logging output above.</p>\n\n<p>npm ERR! Please include the following file with any support request:\nnpm ERR!     C:\\Development\\Angular2RCQuickstart\\npm-debug.log</p>\n\n<p>Anyone out there that knows what's wrong?</p>\n"}, {"tags": ["typescript", "npm", "angular", "accordion", "ng2-bootstrap"], "answers": [{"comments": [{"owner": {"reputation": 2441, "user_id": 5311796, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/74c8798ccdb19f5b803bb47062ef1946?s=128&d=identicon&r=PG&f=1", "display_name": "sainu", "link": "https://stackoverflow.com/users/5311796/sainu"}, "edited": false, "score": 0, "creation_date": 1462270795, "post_id": 37001361, "comment_id": 61555766, "body": "Sorry, I want to know, how to include an accordion in my project but it is not working,when the project was running,it showing error like above."}, {"owner": {"reputation": 483726, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "reply_to_user": {"reputation": 2441, "user_id": 5311796, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/74c8798ccdb19f5b803bb47062ef1946?s=128&d=identicon&r=PG&f=1", "display_name": "sainu", "link": "https://stackoverflow.com/users/5311796/sainu"}, "edited": false, "score": 1, "creation_date": 1462270868, "post_id": 37001361, "comment_id": 61555821, "body": "I know.  . . . . I updated the link to an answer with more information. Try switching to <code>HashLocationStrategy</code> if this solves the problem and you want to use <code>PathLocationStrategy</code> then you need to configure your server instead."}], "tags": [], "owner": {"reputation": 483726, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "is_accepted": false, "score": 0, "last_activity_date": 1462270858, "last_edit_date": 1495542342, "creation_date": 1462270337, "answer_id": 37001361, "question_id": 37001343, "link": "https://stackoverflow.com/questions/37001343/accordion-ng2-accordion-in-angular2/37001361#37001361", "title": "accordion (ng2-accordion) in angular2", "body": "<p>I think you need to configure your server to allow HTML5 pushState.</p>\n\n<p>See also <a href=\"https://stackoverflow.com/a/36310728/217408\">https://stackoverflow.com/a/36310728/217408</a></p>\n"}, {"tags": [], "owner": {"reputation": 16155, "user_id": 925151, "user_type": "registered", "accept_rate": 51, "profile_image": "https://www.gravatar.com/avatar/b6b0762574ecd4f3a5ea50b737aa08e9?s=128&d=identicon&r=PG&f=1", "display_name": "pleerock", "link": "https://stackoverflow.com/users/925151/pleerock"}, "is_accepted": true, "score": 1, "last_activity_date": 1466065795, "creation_date": 1466065795, "answer_id": 37853851, "question_id": 37001343, "link": "https://stackoverflow.com/questions/37001343/accordion-ng2-accordion-in-angular2/37853851#37853851", "title": "accordion (ng2-accordion) in angular2", "body": "<p>You need to add mapping to your system.js configuration like this:</p>\n\n<pre><code>{\n    \"map\": {\n        \"ng2-accordion\": \"node_modules/ng2-accordion\"\n    },\n    \"packages\": {\n        \"ng2-accordion\": { \"main\": \"index.js\", \"defaultExtension\": \"js\" }\n    }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 11, "user_id": 6473890, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/475ae5f10f7fb8fef69cbc56320f2027?s=128&d=identicon&r=PG&f=1", "display_name": "Vishala", "link": "https://stackoverflow.com/users/6473890/vishala"}, "is_accepted": false, "score": 1, "last_activity_date": 1466074639, "last_edit_date": 1466074639, "creation_date": 1466069348, "answer_id": 37855149, "question_id": 37001343, "link": "https://stackoverflow.com/questions/37001343/accordion-ng2-accordion-in-angular2/37855149#37855149", "title": "accordion (ng2-accordion) in angular2", "body": "<p>You need to check the directory structure for the <code>ng2-accordion</code> module. For example, for me the module is directory under <code>node_modules</code>.</p>\n\n<p>So, specifying </p>\n\n<pre><code>import {ACCORDION_DIRECTIVES} from \"ng2-accordion\";\n</code></pre>\n\n<p>Instead of </p>\n\n<pre><code>import {ACCORDION_DIRECTIVES} from \"ng2-accordion/ng2-accordion\";\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1502, "user_id": 5788849, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/93fb7301455ed2ca07053c8127ee8368?s=128&d=identicon&r=PG&f=1", "display_name": "Pratik Kelwalkar", "link": "https://stackoverflow.com/users/5788849/pratik-kelwalkar"}, "is_accepted": false, "score": 0, "last_activity_date": 1466081629, "creation_date": 1466081629, "answer_id": 37859848, "question_id": 37001343, "link": "https://stackoverflow.com/questions/37001343/accordion-ng2-accordion-in-angular2/37859848#37859848", "title": "accordion (ng2-accordion) in angular2", "body": "<p>Is the Path correct <a href=\"http://localhost:3000/ng2-accordion/ng2-accordion\" rel=\"nofollow\">http://localhost:3000/ng2-accordion/ng2-accordion</a> ?\n If so you might have missed adding the defaultextension and also check the LocationStatergy, i would prefer HashLocation.</p>\n"}], "owner": {"reputation": 2441, "user_id": 5311796, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/74c8798ccdb19f5b803bb47062ef1946?s=128&d=identicon&r=PG&f=1", "display_name": "sainu", "link": "https://stackoverflow.com/users/5311796/sainu"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1071, "favorite_count": 0, "accepted_answer_id": 37853851, "answer_count": 4, "score": 0, "last_activity_date": 1466081629, "creation_date": 1462270272, "question_id": 37001343, "link": "https://stackoverflow.com/questions/37001343/accordion-ng2-accordion-in-angular2", "title": "accordion (ng2-accordion) in angular2", "body": "<p>Am using accordion with angular-2,but its not working properly,its throwing an  error 404, its a third-party plugin named \"ng2-accordion\".</p>\n\n<p>Path of the package that am giving is correct. </p>\n\n<p>Actual bug in the inspect is given below.</p>\n\n<ol>\n<li>GET\n<a href=\"http://localhost:3000/ng2-accordion/ng2-accordion\" rel=\"nofollow noreferrer\">http://localhost:3000/ng2-accordion/ng2-accordion</a> 404 (Not Found)</li>\n<li>Error: Error: XHR error (404 Not Found)\nloading <a href=\"http://localhost:3000/ng2-accordion/ng2-accordion\" rel=\"nofollow noreferrer\">http://localhost:3000/ng2-accordion/ng2-accordion</a>(\u2026)</li>\n</ol>\n\n<p><a href=\"https://i.stack.imgur.com/2A4e3.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/2A4e3.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["node.js", "typescript"], "answers": [{"tags": [], "owner": {"reputation": 11233, "user_id": 639687, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/367828dd86c0336d80700d4d4086cd33?s=128&d=identicon&r=PG", "display_name": "czerny", "link": "https://stackoverflow.com/users/639687/czerny"}, "is_accepted": true, "score": 9, "last_activity_date": 1462269222, "creation_date": 1462269222, "answer_id": 37000982, "question_id": 37000981, "link": "https://stackoverflow.com/questions/37000981/how-to-import-node-module-in-typescript-without-type-definitions/37000982#37000982", "title": "How to import node module in Typescript without type definitions?", "body": "<p>The trick is to use purely JavaScript notation:</p>\n\n<pre><code>const co = require('co');\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 9416, "user_id": 719276, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/f5e1c66a2d065fdb85616ff651de92b4?s=128&d=identicon&r=PG", "display_name": "arthur.sw", "link": "https://stackoverflow.com/users/719276/arthur-sw"}, "edited": false, "score": 1, "creation_date": 1463474869, "post_id": 37001430, "comment_id": 62068498, "body": "Could you explain where should we put this file (when stubbing type definitions), and with which file name? I don&#39;t know what is the &quot;module system&quot;, I guess typescript does not know about node modules so we should tell where they are."}, {"owner": {"reputation": 14777, "user_id": 32749, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/12c8515b27b34b3a71dbf90236ff705a?s=128&d=identicon&r=PG", "display_name": "jbandi", "link": "https://stackoverflow.com/users/32749/jbandi"}, "edited": false, "score": 0, "creation_date": 1465329470, "post_id": 37001430, "comment_id": 62853561, "body": "How do I create a stub that satisfies an import like <code>import {Provider} from &#39;react-redux&#39;</code>?"}, {"owner": {"reputation": 752, "user_id": 2852699, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/a88c4eb5639f7c94dd5db4b007ba3dc2?s=128&d=identicon&r=PG", "display_name": "ahelwer", "link": "https://stackoverflow.com/users/2852699/ahelwer"}, "edited": false, "score": 0, "creation_date": 1596057756, "post_id": 37001430, "comment_id": 111692218, "body": "If I put your suggested stub code in the d.ts file I get error TS2714: The expression of an export assignment must be an identifier or qualified name in an ambient context."}], "tags": [], "owner": {"reputation": 8273, "user_id": 68051, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/8a1aabc40d859fcb786eb4d28b95d299?s=128&d=identicon&r=PG", "display_name": "Tim Perry", "link": "https://stackoverflow.com/users/68051/tim-perry"}, "is_accepted": false, "score": 10, "last_activity_date": 1462272443, "last_edit_date": 1462272443, "creation_date": 1462270522, "answer_id": 37001430, "question_id": 37000981, "link": "https://stackoverflow.com/questions/37000981/how-to-import-node-module-in-typescript-without-type-definitions/37001430#37001430", "title": "How to import node module in Typescript without type definitions?", "body": "<p>Your options are to either import it outside TypeScript's module system (by calling a module API like RequireJS or Node directly by hand) so that it doesn't try to validate it, or to add a type definition so that you can use the module system and have it validate correctly. You can stub the type definition though, so this can be very low effort.</p>\n\n<p><strong>Using Node (CommonJS) imports directly:</strong></p>\n\n<pre><code>// Note there's no 'import' statement here.\nvar loadedModule: any = require('module-name');\n\n// Now use your module however you'd like.\n</code></pre>\n\n<p><strong>Using RequireJS directly:</strong></p>\n\n<pre><code>define([\"module-name\"], function (loadedModule: any) {\n    // Use loadedModule however you'd like\n});\n</code></pre>\n\n<p>Be aware that in either of these cases this may mix weirdly with using real normal TypeScript module imports in the same file (you can end up with two layers of module definition, especially on the RequireJS side, as TypeScript tries to manage modules you're also managing by hand). I'd recommend either using just this approach, or using real type definitions.</p>\n\n<p><strong>Stubbing type definitions:</strong></p>\n\n<p>Getting proper type definitions would be best, and if those are available or you have time to write them yourself you should definitely should.</p>\n\n<p>If not though, you can just give your whole module the <code>any</code> type, and put your module into the module system without having to actually type it:</p>\n\n<pre><code>declare module 'module-name' {\n    export = &lt;any&gt; {};\n}\n</code></pre>\n\n<p>This should allow you to import <code>module-name</code> and have TypeScript know what you're talking about. You'll still need to ensure that importing module-name does actually load it successfully at runtime with whatever module system you're using, or it will compile but then fail to actually run.</p>\n"}, {"comments": [{"owner": {"reputation": 752, "user_id": 2852699, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/a88c4eb5639f7c94dd5db4b007ba3dc2?s=128&d=identicon&r=PG", "display_name": "ahelwer", "link": "https://stackoverflow.com/users/2852699/ahelwer"}, "edited": false, "score": 0, "creation_date": 1596057972, "post_id": 37799903, "comment_id": 111692296, "body": "This gives me an error TS2306: File &#39;module-name&#39; is not a module. Note I&#39;m trying to import from a local file directory instead of a module though."}], "tags": [], "owner": {"reputation": 13057, "user_id": 388951, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/a2aaa6cd108f9a803ec61e20d76963f1?s=128&d=identicon&r=PG", "display_name": "danvk", "link": "https://stackoverflow.com/users/388951/danvk"}, "is_accepted": false, "score": 3, "last_activity_date": 1465855583, "creation_date": 1465855583, "answer_id": 37799903, "question_id": 37000981, "link": "https://stackoverflow.com/questions/37000981/how-to-import-node-module-in-typescript-without-type-definitions/37799903#37799903", "title": "How to import node module in Typescript without type definitions?", "body": "<p>I got an error when I used the \"Stubbing type definitions\" approach in Tim Perry's answer: <code>error TS2497: Module ''module-name'' resolves to a non-module entity and cannot be imported using this construct.</code></p>\n\n<p>The solution was to rework the stub <code>.d.ts</code> file slightly:</p>\n\n<pre><code>declare module 'module-name' {\n  const x: any;\n  export = x;\n}\n</code></pre>\n\n<p>And then you can import via:</p>\n\n<pre><code>import * as moduleName from 'module-name';\n</code></pre>\n\n<p>Creating your own stub file lowers the barrier to writing out real declarations as you need them.</p>\n"}, {"tags": [], "owner": {"reputation": 773, "user_id": 266094, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9404a365d87e7d81c9eb6eb2c1e224e9?s=128&d=identicon&r=PG", "display_name": "Oleg I.", "link": "https://stackoverflow.com/users/266094/oleg-i"}, "is_accepted": false, "score": -3, "last_activity_date": 1576872343, "creation_date": 1576872343, "answer_id": 59430788, "question_id": 37000981, "link": "https://stackoverflow.com/questions/37000981/how-to-import-node-module-in-typescript-without-type-definitions/59430788#59430788", "title": "How to import node module in Typescript without type definitions?", "body": "<p>Just import the module the following way:</p>\n\n<pre><code>import 'co';\n</code></pre>\n"}], "owner": {"reputation": 11233, "user_id": 639687, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/367828dd86c0336d80700d4d4086cd33?s=128&d=identicon&r=PG", "display_name": "czerny", "link": "https://stackoverflow.com/users/639687/czerny"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 14251, "favorite_count": 2, "accepted_answer_id": 37000982, "answer_count": 4, "score": 10, "last_activity_date": 1576872343, "creation_date": 1462269222, "question_id": 37000981, "link": "https://stackoverflow.com/questions/37000981/how-to-import-node-module-in-typescript-without-type-definitions", "title": "How to import node module in Typescript without type definitions?", "body": "<p>When I try to import node.js module in Typescript like this:</p>\n\n<pre><code>import co = require('co');\nimport co from 'co';\n</code></pre>\n\n<p>without providing type definitions, both lines reports same error:</p>\n\n<pre><code>error TS2307: Cannot find module 'co'.\n</code></pre>\n\n<p>How to import it correctly?</p>\n"}, {"tags": ["typescript", "visual-studio-2015"], "comments": [{"owner": {"reputation": 23145, "user_id": 2788872, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/a2616878b8bfb95d8fbb8a63ad18d729?s=128&d=identicon&r=PG&f=1", "display_name": "John Weisz", "link": "https://stackoverflow.com/users/2788872/john-weisz"}, "edited": false, "score": 0, "creation_date": 1462278536, "post_id": 37000950, "comment_id": 61560735, "body": "I&#39;ve been getting similar issues when the source was compiled-on-save. Unticking that and manually building (Ctrl+Shift+B) produces usable code consistently."}], "answers": [{"comments": [{"owner": {"reputation": 11122, "user_id": 381801, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/64cb01262bf686f65805e70fd99c5b1a?s=128&d=identicon&r=PG", "display_name": "Martijn", "link": "https://stackoverflow.com/users/381801/martijn"}, "edited": false, "score": 0, "creation_date": 1462275751, "post_id": 37001916, "comment_id": 61558869, "body": "Thank you. I like the json config for the ts build a lot more, but I&#39;ve been reluctant to try and go that way because of the &quot;magic&quot; I suspect the MSBuild build task performs in the way of ts references (being able to typecheck/autodiscover depedencies that shouldn&#39;t typecheck nor be autodiscovered), and the intellisense that I sort of expect depend on the project build task. It&#39;s the darndest thing to find documentation on. I&#39;ll give it a swing though."}], "tags": [], "owner": {"reputation": 8273, "user_id": 68051, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/8a1aabc40d859fcb786eb4d28b95d299?s=128&d=identicon&r=PG", "display_name": "Tim Perry", "link": "https://stackoverflow.com/users/68051/tim-perry"}, "is_accepted": false, "score": 1, "last_activity_date": 1462272031, "creation_date": 1462272031, "answer_id": 37001916, "question_id": 37000950, "link": "https://stackoverflow.com/questions/37000950/ts-build-sometimes-fails-to-build-ts-modules-correctly/37001916#37001916", "title": "ts build sometimes fails to build ts modules correctly", "body": "<p>Perhaps you're changing your build configuration into release mode, not the Debug mode this is set for? Or you've got some other tool around that's trying to compile your TypeScript, and isn't following Visual Studio's project files convention, and instead defaulting to standard settings?</p>\n\n<p>I would be tempted to try moving your config into a tsconfig.json file, and removing it from your Visual Studio project settings. That should make it pretty unambiguous (with the .json it will always be set regardless of your build settings, and will always understood by any tool that compiles TS), and as a nice side-effect makes it independent of Visual Studio too.</p>\n\n<p><a href=\"https://www.typescriptlang.org/docs/handbook/tsconfig.json.html\" rel=\"nofollow\">https://www.typescriptlang.org/docs/handbook/tsconfig.json.html</a> has a guide on the format. I'd expect it to probably just be a matter of taking the existing settings above and directly transcribing them to JSON.</p>\n\n<p>To get the specific AMD modules behaviour you're looking for, you just need to make sure you include <code>'module': 'amd'</code> inside the <code>compilerOptions</code> object of your JSON.</p>\n"}], "owner": {"reputation": 11122, "user_id": 381801, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/64cb01262bf686f65805e70fd99c5b1a?s=128&d=identicon&r=PG", "display_name": "Martijn", "link": "https://stackoverflow.com/users/381801/martijn"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 92, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1462272031, "creation_date": 1462269143, "question_id": 37000950, "link": "https://stackoverflow.com/questions/37000950/ts-build-sometimes-fails-to-build-ts-modules-correctly", "title": "ts build sometimes fails to build ts modules correctly", "body": "<p>I have a project with some typescript in it. Sometimes, the typescript doesn't build correctly; it uses the wrong module system, assigning exported members to a some export object rather than using require.js' <code>define</code>.</p>\n\n<p>To get it to re-build, I jiggle the TS build tab of the projects settings, and the correct build rolls out.</p>\n\n<p>What can be causing this? My guess is that the <code>csproj</code> file controls the build, though I don't know exactly how.</p>\n\n<p>The typescript related entries in my <code>csproj</code> are</p>\n\n<pre><code>&lt;Import Project=\"$(MSBuildExtensionsPath32)\\Microsoft\\VisualStudio\\v$(VisualStudioVersion)\\TypeScript\\Microsoft.TypeScript.Default.props\" Condition=\"Exists('$(MSBuildExtensionsPath32)\\Microsoft\\VisualStudio\\v$(VisualStudioVersion)\\TypeScript\\Microsoft.TypeScript.Default.props')\" /&gt;\n\n  &lt;PropertyGroup Condition=\"'$(Configuration)|$(Platform)' == 'Debug|AnyCPU'\"&gt;\n    &lt;TypeScriptTarget&gt;ES5&lt;/TypeScriptTarget&gt;\n    &lt;TypeScriptJSXEmit&gt;None&lt;/TypeScriptJSXEmit&gt;\n    &lt;TypeScriptCompileOnSaveEnabled&gt;True&lt;/TypeScriptCompileOnSaveEnabled&gt;\n    &lt;TypeScriptNoImplicitAny&gt;True&lt;/TypeScriptNoImplicitAny&gt;\n    &lt;TypeScriptModuleKind&gt;AMD&lt;/TypeScriptModuleKind&gt;\n    &lt;TypeScriptRemoveComments&gt;False&lt;/TypeScriptRemoveComments&gt;\n    &lt;TypeScriptOutFile /&gt;\n    &lt;TypeScriptOutDir /&gt;\n    &lt;TypeScriptGeneratesDeclarations&gt;False&lt;/TypeScriptGeneratesDeclarations&gt;\n    &lt;TypeScriptNoEmitOnError&gt;True&lt;/TypeScriptNoEmitOnError&gt;\n    &lt;TypeScriptSourceMap&gt;True&lt;/TypeScriptSourceMap&gt;\n    &lt;TypeScriptMapRoot /&gt;\n    &lt;TypeScriptSourceRoot /&gt;\n  &lt;/PropertyGroup&gt;\n  &lt;Import Project=\"$(MSBuildExtensionsPath32)\\Microsoft\\VisualStudio\\v$(VisualStudioVersion)\\TypeScript\\Microsoft.TypeScript.targets\" Condition=\"Exists('$(MSBuildExtensionsPath32)\\Microsoft\\VisualStudio\\v$(VisualStudioVersion)\\TypeScript\\Microsoft.TypeScript.targets')\" /&gt;\n</code></pre>\n\n<p>How can I control the ts build in another way than clicking buttons and checking boxes in the settings tab, and what should I specifically change to get my build to always generate AMD-style modules?</p>\n"}, {"tags": ["typescript", "angular"], "answers": [{"comments": [{"owner": {"reputation": 343, "user_id": 6198809, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/7c9932e0d21d104ff847ee0d7be99439?s=128&d=identicon&r=PG&f=1", "display_name": "marvstar", "link": "https://stackoverflow.com/users/6198809/marvstar"}, "edited": false, "score": 0, "creation_date": 1462371164, "post_id": 37001310, "comment_id": 61610589, "body": "It took me a while to understand that because im relative new to angular2 but after that it worked pretty good for me. Thank you @lexith for your fast and good answer. You helped me a lot!"}, {"owner": {"reputation": 7275, "user_id": 1114201, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/hTmi0.jpg?s=128&g=1", "display_name": "lexith", "link": "https://stackoverflow.com/users/1114201/lexith"}, "reply_to_user": {"reputation": 343, "user_id": 6198809, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/7c9932e0d21d104ff847ee0d7be99439?s=128&d=identicon&r=PG&f=1", "display_name": "marvstar", "link": "https://stackoverflow.com/users/6198809/marvstar"}, "edited": false, "score": 0, "creation_date": 1462377270, "post_id": 37001310, "comment_id": 61615293, "body": "You&#39;re welcome. Fyi: you should probably see this as a workaround though. the router gets more and more love from the ng team anyway and will eventually make things easier in the future. actually a colleague of mine told me just now that he found a one-liner solution for this scenario by subscribing to the router but i hadn&#39;t the time to look into it yet."}, {"owner": {"reputation": 343, "user_id": 6198809, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/7c9932e0d21d104ff847ee0d7be99439?s=128&d=identicon&r=PG&f=1", "display_name": "marvstar", "link": "https://stackoverflow.com/users/6198809/marvstar"}, "edited": false, "score": 0, "creation_date": 1462776692, "post_id": 37001310, "comment_id": 61760608, "body": "thx for that info. We will see how we should handle this when Angular2 is final. But it would be greate if you could let me know if there is a better or maybe easyer way to do this."}, {"owner": {"reputation": 343, "user_id": 6198809, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/7c9932e0d21d104ff847ee0d7be99439?s=128&d=identicon&r=PG&f=1", "display_name": "marvstar", "link": "https://stackoverflow.com/users/6198809/marvstar"}, "edited": false, "score": 0, "creation_date": 1462866022, "post_id": 37001310, "comment_id": 61803703, "body": "Could i store a user object in a way like that? So i could set a user after login and then access that user from other components."}, {"owner": {"reputation": 7275, "user_id": 1114201, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/hTmi0.jpg?s=128&g=1", "display_name": "lexith", "link": "https://stackoverflow.com/users/1114201/lexith"}, "reply_to_user": {"reputation": 343, "user_id": 6198809, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/7c9932e0d21d104ff847ee0d7be99439?s=128&d=identicon&r=PG&f=1", "display_name": "marvstar", "link": "https://stackoverflow.com/users/6198809/marvstar"}, "edited": false, "score": 0, "creation_date": 1462868795, "post_id": 37001310, "comment_id": 61805438, "body": "You could, but i would not suggest it. Better would probably be a service, like an &quot;authService&quot;. Mine uses localstorage to get / set user data and i utilize this with my &quot;authService&quot;. Of course you can access this wherever you inject it."}], "tags": [], "owner": {"reputation": 7275, "user_id": 1114201, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/hTmi0.jpg?s=128&g=1", "display_name": "lexith", "link": "https://stackoverflow.com/users/1114201/lexith"}, "is_accepted": true, "score": 3, "last_activity_date": 1462270185, "last_edit_date": 1495541396, "creation_date": 1462270185, "answer_id": 37001310, "question_id": 37000722, "link": "https://stackoverflow.com/questions/37000722/using-observable-to-hide-navbar-in-angular-2/37001310#37001310", "title": "Using Observable to hide Navbar in Angular 2", "body": "<p>I had a similar problem and asked the question here: <a href=\"https://stackoverflow.com/questions/36814390/how-to-manipulate-a-component-on-specific-routes-in-angular2\">How to manipulate a component on specific routes in Angular2</a> </p>\n\n<p>The main problem is (that's why i don't recommend using <code>@CanActivate</code> or <code>onActivate</code>) that you can only use these <code>Router</code> utils on Components which are routed TO, not FROM. For example if you have a topbar or sidebar in your <code>app.component</code> which has your <code>router-outlet</code> inside its template, you just can't access route Data in a good way. </p>\n\n<p>That's why you can just extend the default <code>router-outlet</code> and put your logic in there. </p>\n\n<p>With a <code>@RouteConfig</code> looking like this:</p>\n\n<pre><code>@RouteConfig([\n{\n    path: '/login',\n    name: 'Login',\n    component: LoginComponent,\n    data: {\n        hideTopbar: true,\n        hideSidebar: true\n    }\n},\n</code></pre>\n\n<p>and a template for your <code>app.component</code> looking something like this:</p>\n\n<pre><code>&lt;div class=\"topbar\" *ngIf=\"showTopbar\"&gt;...&lt;/div&gt;\n&lt;extended-router-outlet&gt;&lt;/extended-router-outlet&gt;\n</code></pre>\n\n<p>you can manage this in your <code>app.component</code> class:</p>\n\n<pre><code>export class AppComponent {\n    showTopbar:boolean;\n    showSidebar:boolean;\n\n    constructor(private _routingEventService:RoutingEventService) {\n        this._routingEventService.onRouteChanged().subscribe(routeData =&gt; {\n            this.showTopbar = !routeData.hideTopbar;\n            this.showSidebar = !routeData.hideSidebar;\n        });\n    }\n}\n</code></pre>\n\n<p>using an injected routingEventService like in the accepted answer i linked above:</p>\n\n<pre><code>@Injectable()\nexport class RoutingEventService {\n    private _eventEmitter: EventEmitter&lt;any&gt; = new EventEmitter();\n\n    routeIsChanging(obj:any) {\n        this._eventEmitter.emit(obj);\n    }\n\n    onRouteChanged() {\n        return this._eventEmitter;\n    }\n}\n</code></pre>\n\n<p>And then finally, build your logic in your new <code>router-outlet</code> directive like this:</p>\n\n<pre><code>@Directive({\n    selector: 'extended-router-outlet'\n})\n\nexport class ExtendedRouterOutlet extends RouterOutlet {\n    private parentRouter:Router;\n\n    constructor( _elementRef: ElementRef,\n                 _loader: DynamicComponentLoader,\n                 _parentRouter: Router,\n                 @Attribute('name') nameAttr: string,\n                 private _routingEventService:RoutingEventService ) {\n        super(_elementRef, _loader, _parentRouter, nameAttr);\n        this.parentRouter = _parentRouter;\n    }\n\n    activate(nextInstruction: ComponentInstruction): Promise&lt;any&gt; {\n        this._routingEventService.routeIsChanging({\n           name: nextInstruction.routeName,\n           hideTopbar: nextInstruction.routeData.data['hideTopbar'],\n           hideSidebar: nextInstruction.routeData.data['hideSidebar']\n        });\n        return super.activate(nextInstruction);\n   }\n}\n</code></pre>\n\n<p>With this approach, you can even handle other route specific logic, for example to check authentication or roles, as i explained here with the same approach in my answer to the following question:</p>\n\n<p><a href=\"https://stackoverflow.com/questions/36988929/fill-form-after-http-response-in-angular2/36990427?noredirect=1#comment61539993_36990427\">Fill form after http response in angular2</a></p>\n\n<p>Hope it helps.</p>\n"}], "owner": {"reputation": 343, "user_id": 6198809, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/7c9932e0d21d104ff847ee0d7be99439?s=128&d=identicon&r=PG&f=1", "display_name": "marvstar", "link": "https://stackoverflow.com/users/6198809/marvstar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3146, "favorite_count": 2, "accepted_answer_id": 37001310, "answer_count": 1, "score": 1, "last_activity_date": 1462270185, "creation_date": 1462268522, "last_edit_date": 1462269022, "question_id": 37000722, "link": "https://stackoverflow.com/questions/37000722/using-observable-to-hide-navbar-in-angular-2", "title": "Using Observable to hide Navbar in Angular 2", "body": "<p>My problem is the following:</p>\n\n<p>I got a navbar in my <code>app.component</code> and i want to hide that for example befor someone logged in by simply setting a boolean variable to true with <code>ngIf</code>.</p>\n\n<p>app.component.html:</p>\n\n<pre><code>&lt;navbar *ngIf=\"_userLoggedIn === true\" &gt;&lt;/navbar&gt;\n&lt;router-outlet&gt;&lt;/router-outlet&gt;\n</code></pre>\n\n<p>After searching through web and reading through tons of questions here i think this should be done with Observables. But i cant figure out how to use them in a good way.\nMy idea was to use an Observable in a global service to share a variable so a <code>child component</code> can access and edit that variable and the <code>app.component</code> can subscribe to that variable to change <code>_userLoggedIn</code> to true (initial false) if that observable is set to true.</p>\n\n<p>I using my <code>login.component</code> with the angular2 router so its displayed in the <code>&lt;router-outlet&gt;</code></p>\n\n<pre><code>{\n        path: '/login',\n        name: 'Login',\n        component: LoginComponent,\n        useAsDefault: true\n    },\n</code></pre>\n\n<p>In that component i want to set that variable to true after successed login. \nSo it changes in <code>app.component</code> and the Navbar is shown.\nIf you need any further code just tell me.</p>\n\n<p>Would be great if someone of you can help me with my problem or got an alternative solution for my problem.</p>\n"}, {"tags": ["typescript", "angular"], "answers": [{"tags": [], "owner": {"reputation": 181833, "user_id": 1873365, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/45TMV.png?s=128&g=1", "display_name": "Thierry Templier", "link": "https://stackoverflow.com/users/1873365/thierry-templier"}, "is_accepted": true, "score": 0, "last_activity_date": 1462264823, "last_edit_date": 1495542342, "creation_date": 1462263642, "answer_id": 36999067, "question_id": 36999041, "link": "https://stackoverflow.com/questions/36999041/how-to-import-directives-without-repeatedly-writing-to-some-components/36999067#36999067", "title": "How to import directives without repeatedly writing to some components", "body": "<p>You could define them as platform directives this way:</p>\n\n<pre><code>export const GENERAL_DIRECTIVES: any[] = [\n  ROUTER_DIRECTIVES,\n  MyDirective1,\n  MyDirective2,\n  MyValidator1,\n  MyValidator2,\n  (...)\n];\n\nbootstrap(App, [\n  provide(PLATFORM_DIRECTIVES, {useValue: [GENERAL_DIRECTIVES], multi: true})\n]);\n</code></pre>\n\n<p>This way you don't need to import them each time.</p>\n\n<p>See this question for more details:</p>\n\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/35878966/router-directives-in-two-places-for%E2%80%8C%E2%80%8B-same-purpose/35880222\">Router directives in two places for same purpose</a></li>\n</ul>\n\n<p>The main drawback of this approach is that they are global to all components in your application. Another approach consists of creating a custom decorator that extends the component metadata (<code>directives</code> attribute) to add these components / directives. This way you can finely control where you want to have these directives automatically specified.</p>\n\n<p>This mechanism can rely on inheritence, i.e. an abtract root component.</p>\n\n<p>Here is a sample:</p>\n\n<pre><code>export function CustomComponent(annotation: any) {\n  return function (target: Function) {\n    var parentTarget = Object.getPrototypeOf(target.prototype).constructor;\n    var parentAnnotations = Reflect.getMetadata('annotations', parentTarget);\n\n    var parentAnnotation = parentAnnotations[0];\n    Object.keys(parentAnnotation).forEach(key =&gt; {\n      if (isPresent(parentAnnotation[key])) {\n        if (key === 'directives') {\n          // merge directives attributes\n          let parentDirectives = parentAnnotation[key] || [];\n          let currentDirectives = annotation[key] || [];\n          currentDirectives.concat(parentDirectives);\n        } else {\n          annotation[key] = parentAnnotation[key];\n        }\n      }\n    });\n    var metadata = new ComponentMetadata(annotation);\n\n    Reflect.defineMetadata('annotations', [ metadata ], target);\n  }\n}\n</code></pre>\n\n<p>and use it:</p>\n\n<pre><code>@Component({\n  directives: [\n    ROUTER_DIRECTIVES,\n    MyDirective1,\n    MyDirective2,\n    MyValidator1,\n    MyValidator2,\n    (...)\n  ]\n})\nexport class AbstractComponent {\n}\n\n@CustomComponent({\n  selector: 'sub',\n  template: `\n    (...)\n  `\n})\nexport class SubComponent extends AbstractComponent {\n}\n\n@Component({\n  selector: 'app',\n  template: `\n    &lt;sub&gt;&lt;/sub&gt;\n  `,\n  directives [ SubComponent ]\n})\nexport class App {\n}\n</code></pre>\n\n<p>See this question for more details:</p>\n\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/36837421/extending-component-decorator-with-base-class-decorator/\">Extending component decorator with base class decorator</a></li>\n</ul>\n"}, {"comments": [{"owner": {"reputation": 491, "user_id": 5959507, "user_type": "registered", "accept_rate": 74, "profile_image": "https://lh6.googleusercontent.com/-KJdIUPF88v4/AAAAAAAAAAI/AAAAAAAAAHY/9RMMsTptnNg/photo.jpg?sz=128", "display_name": "Yohsuke Inoda", "link": "https://stackoverflow.com/users/5959507/yohsuke-inoda"}, "edited": false, "score": 0, "creation_date": 1462271167, "post_id": 36999070, "comment_id": 61556041, "body": "Thank you. I didn&#39;t know creating globally components will be related to DI."}, {"owner": {"reputation": 483726, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "reply_to_user": {"reputation": 491, "user_id": 5959507, "user_type": "registered", "accept_rate": 74, "profile_image": "https://lh6.googleusercontent.com/-KJdIUPF88v4/AAAAAAAAAAI/AAAAAAAAAHY/9RMMsTptnNg/photo.jpg?sz=128", "display_name": "Yohsuke Inoda", "link": "https://stackoverflow.com/users/5959507/yohsuke-inoda"}, "edited": false, "score": 0, "creation_date": 1462271226, "post_id": 36999070, "comment_id": 61556089, "body": "Angular uses DI internally as well :)"}], "tags": [], "owner": {"reputation": 483726, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "is_accepted": false, "score": 0, "last_activity_date": 1462264994, "last_edit_date": 1462264994, "creation_date": 1462263649, "answer_id": 36999070, "question_id": 36999041, "link": "https://stackoverflow.com/questions/36999041/how-to-import-directives-without-repeatedly-writing-to-some-components/36999070#36999070", "title": "How to import directives without repeatedly writing to some components", "body": "<p>You can globally provide directives and piples like</p>\n\n<pre><code>bootstrap(AppComponent, [\n    provide(PLATFORM_DIRECTIVES, \n        {useValue: [\n            ROUTER_DIRECTIVES, \n            MyDirective1, \n            MyDirective2, \n            MyValidator1, \n            MyValidator2\n         ], multi: true}),\n\n    provide(PLATFORM_PIPES, \n         {useValue: [RainbowizePipe], multi:true})\n\n]);\n</code></pre>\n\n<p>The arrays of directives and pipes you pass are flattened automatically by Angulars DI this allows to pass arbitrary nested arrays.\nFor example to pack the directives of a module into an array and then finally pass an array that contains the arrays of all modules to <code>provide()</code>.</p>\n"}], "owner": {"reputation": 491, "user_id": 5959507, "user_type": "registered", "accept_rate": 74, "profile_image": "https://lh6.googleusercontent.com/-KJdIUPF88v4/AAAAAAAAAAI/AAAAAAAAAHY/9RMMsTptnNg/photo.jpg?sz=128", "display_name": "Yohsuke Inoda", "link": "https://stackoverflow.com/users/5959507/yohsuke-inoda"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 204, "favorite_count": 2, "accepted_answer_id": 36999067, "answer_count": 2, "score": 2, "last_activity_date": 1462264994, "creation_date": 1462263553, "last_edit_date": 1462264136, "question_id": 36999041, "link": "https://stackoverflow.com/questions/36999041/how-to-import-directives-without-repeatedly-writing-to-some-components", "title": "How to import directives without repeatedly writing to some components", "body": "<p>I'm creating Web apps using Angular2 with TypeScript. When I created some CustomElements (it's mean Components and Directives, Validators), I found that I wrote <code>directives: [...]</code> code to every Components in order to import CustomElements like the below code.</p>\n\n<pre><code>// my_comopnent_1.comopnent.ts\n@Component({\n  selector: 'my-component-1',\n  directives: [\n    ROUTER_DIRECTIVES,\n    MyDirective1,\n    MyDirective2,\n    MyValidator1,\n    MyValidator2,\n    ...\n  ],\n})\n\n// my_comopnent_2.comopnent.ts\n@Component({\n  selector: 'my-component-2',\n  directives: [\n    ROUTER_DIRECTIVES,\n    MyDirective1,\n    MyDirective2,\n    MyValidator1,\n    MyValidator2,\n    ...\n  ],\n})\n\n// my_comopnent_3.comopnent.ts\n@Component({\n  selector: 'my-component-3',\n  directives: [\n    ROUTER_DIRECTIVES,\n    MyDirective1,\n    MyDirective2,\n    MyValidator1,\n    MyValidator2,\n    ...\n  ],\n})\n</code></pre>\n\n<p>Does the way exist how some CustomComopnents can be imported without repeatedly writing <code>directives: [...]</code>, like event bubbling or prototype chain?\nMy ideal is that when I write the code to parent Components, its child Components includes them parent's imported CustomElements.</p>\n\n<pre><code>// parent.component.ts\n@Component({\n  selector: 'parent',\n  directives: [MyDirective1, ...],\n})\n\n// child.component.ts\n@Component({\n  selector: 'child',\n  template: `\n    // It's possible to use MyDirective because of importing by ParentComponent.\n    &lt;div my-directive&gt;&lt;/div&gt;\n  `,\n})\n</code></pre>\n"}, {"tags": ["typescript", "angular", "configuration-files"], "comments": [{"owner": {"reputation": 36, "user_id": 1548574, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/755bb3ee51ef08487e5a8989e69676ba?s=128&d=identicon&r=PG", "display_name": "manar_mk", "link": "https://stackoverflow.com/users/1548574/manar-mk"}, "edited": false, "score": 0, "creation_date": 1495789957, "post_id": 36998833, "comment_id": 75408561, "body": "I&#39;ve found <a href=\"https://stackoverflow.com/a/39454713\">this</a> answer to a similar question. Maybe that will help."}], "answers": [{"comments": [{"owner": {"reputation": 5920, "user_id": 198990, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/6DXxc.jpg?s=128&g=1", "display_name": "Sandor Drie&#235;nhuizen", "link": "https://stackoverflow.com/users/198990/sandor-drie%c3%abnhuizen"}, "edited": false, "score": 1, "creation_date": 1464618415, "post_id": 36998863, "comment_id": 62547131, "body": "I don&#39;t think that saving a file from the browser is what steky meant although you could read the question that way. Thierry Templier&#39;s interpretation seems to make more sense."}, {"owner": {"reputation": 483726, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "reply_to_user": {"reputation": 5920, "user_id": 198990, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/6DXxc.jpg?s=128&g=1", "display_name": "Sandor Drie&#235;nhuizen", "link": "https://stackoverflow.com/users/198990/sandor-drie%c3%abnhuizen"}, "edited": false, "score": 0, "creation_date": 1464618518, "post_id": 36998863, "comment_id": 62547213, "body": "Would be @steky &#39;s call to provide some feedback to the answers."}], "tags": [], "owner": {"reputation": 483726, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "is_accepted": false, "score": -1, "last_activity_date": 1462262982, "creation_date": 1462262982, "answer_id": 36998863, "question_id": 36998833, "link": "https://stackoverflow.com/questions/36998833/loading-data-from-config-file-angular2/36998863#36998863", "title": "Loading data from config file angular2", "body": "<p>You can't create a file in Angular. Angular runs in the browser and the browser limits access to the local file system. </p>\n\n<p>What you want instead is to send data to the server for the server to create the file for the client.</p>\n"}, {"tags": [], "owner": {"reputation": 181833, "user_id": 1873365, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/45TMV.png?s=128&g=1", "display_name": "Thierry Templier", "link": "https://stackoverflow.com/users/1873365/thierry-templier"}, "is_accepted": false, "score": 8, "last_activity_date": 1462263240, "last_edit_date": 1495535452, "creation_date": 1462263240, "answer_id": 36998943, "question_id": 36998833, "link": "https://stackoverflow.com/questions/36998833/loading-data-from-config-file-angular2/36998943#36998943", "title": "Loading data from config file angular2", "body": "<p>You could use a JSON configuration file for this and load it using HTTP. In this case, you could bootstrap your application asynchronously to wait for this configuration data to be loaded. Here is a sample:</p>\n\n<pre><code>let appProviders = [ HTTP_PROVIDERS, ConfigurationService ];\n\nvar app = platform(BROWSER_PROVIDERS)\n  .application([BROWSER_APP_PROVIDERS, appProviders]);\n\nlet service = app.injector.get(ConfigurationService);\nservice.getConfiguration().flatMap((configuration) =&gt; {\n  var configurationProvider = new Provider('configuration', { useValue: configuration });\n  return app.bootstrap(AppComponent, [ configurationProvider ]);\n}).toPromise();\n</code></pre>\n\n<p>The <code>ConfigurationService</code> class could be something like that:</p>\n\n<pre><code>@Injectable()\nexport class ConfigurationService {\n  constructor(private http:Http) {\n  }\n\n  getConfiguration() {\n    return this.http.get('config.json').map(res =&gt; res.json());\n  }\n}\n</code></pre>\n\n<p>See this question for more details:</p>\n\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/36365134/angular2-bootstrap-with-data-from-ajax-calls/36370302#36370302\">angular2 bootstrap with data from ajax call(s)</a></li>\n</ul>\n"}, {"tags": [], "owner": {"reputation": 1109, "user_id": 2836278, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/47bb3a2acad8f674d19ea2a94879e918?s=128&d=identicon&r=PG", "display_name": "cesarpachon", "link": "https://stackoverflow.com/users/2836278/cesarpachon"}, "is_accepted": false, "score": -2, "last_activity_date": 1467902404, "creation_date": 1467902404, "answer_id": 38248396, "question_id": 36998833, "link": "https://stackoverflow.com/questions/36998833/loading-data-from-config-file-angular2/38248396#38248396", "title": "Loading data from config file angular2", "body": "<p>as you want to edit the GUI configuration, you have only two choices:</p>\n\n<ul>\n<li><p>store the settings in server side and provide retrieval and saving mechanisms, i.e: a /settings REST endpoint that store changes on PUT and retrieve configuration on GET.</p></li>\n<li><p>store at client side, using either localStorage or IndexedDB. the obvious downside of this approach is that the setting will be isolated in the machine/browser where it is created. not accessible if the user login from another device.</p></li>\n</ul>\n"}], "owner": {"reputation": 101, "user_id": 6076435, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/8b7a9e9b3f23eb77045de59ad007b4d2?s=128&d=identicon&r=PG&f=1", "display_name": "steky", "link": "https://stackoverflow.com/users/6076435/steky"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 8952, "favorite_count": 4, "answer_count": 3, "score": 4, "last_activity_date": 1467902404, "creation_date": 1462262905, "last_edit_date": 1462330696, "question_id": 36998833, "link": "https://stackoverflow.com/questions/36998833/loading-data-from-config-file-angular2", "title": "Loading data from config file angular2", "body": "<p>I have created a GUI for retrieving data from a remote server. Now I want to try and save the settings of this GUI into a config file, so that the file settings could be changed.</p>\n\n<p>I have no idea how to create a config file in Angular2. I tried to looking into links on how to create and use a config file but I just found it for Java and C#. Does it exists in Angular2?</p>\n"}, {"tags": ["typescript", "phonegap-plugins", "ionic2"], "comments": [{"owner": {"reputation": 2083, "user_id": 1275105, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/afc504a10846a8c24ce9ae267ac6f109?s=128&d=identicon&r=PG", "display_name": "user1275105", "link": "https://stackoverflow.com/users/1275105/user1275105"}, "edited": false, "score": 0, "creation_date": 1467485672, "post_id": 36998612, "comment_id": 63754932, "body": "Have you found a solution that has worked yet? I have imported as per documentation and trying to <code>console.log(Device.device.uuid)</code> like in docs but undefined."}], "answers": [{"comments": [{"owner": {"reputation": 3914, "user_id": 4482057, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/cQnUj.jpg?s=128&g=1", "display_name": "Will.Harris", "link": "https://stackoverflow.com/users/4482057/will-harris"}, "reply_to_user": {"reputation": 491, "user_id": 6214513, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/u69fX.jpg?s=128&g=1", "display_name": "wagng", "link": "https://stackoverflow.com/users/6214513/wagng"}, "edited": false, "score": 1, "creation_date": 1462527403, "post_id": 37022406, "comment_id": 61683233, "body": "Does it work for you then? notice my example accesses the id using <code>Device.device.uuid</code> and in your question you have written <code>device.cordova</code> which probably won&#39;t do anything as you aren&#39;t calling the <code>Device</code> class first. Plus if did write it properly, e.g. <code>Device.device.cordova</code>, it will return the version of Cordova on the device and not the device&#39;s unique id"}, {"owner": {"reputation": 1834, "user_id": 1533368, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/QXzmg.jpg?s=128&g=1", "display_name": "Samarth Agarwal", "link": "https://stackoverflow.com/users/1533368/samarth-agarwal"}, "edited": false, "score": 0, "creation_date": 1480408844, "post_id": 37022406, "comment_id": 68938004, "body": "This always gives me <code>undefined</code>."}, {"owner": {"reputation": 3629, "user_id": 1744107, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/91748b7203b0ef849403e8099da4528f?s=128&d=identicon&r=PG", "display_name": "Rambatino", "link": "https://stackoverflow.com/users/1744107/rambatino"}, "reply_to_user": {"reputation": 1834, "user_id": 1533368, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/QXzmg.jpg?s=128&g=1", "display_name": "Samarth Agarwal", "link": "https://stackoverflow.com/users/1533368/samarth-agarwal"}, "edited": false, "score": 0, "creation_date": 1480635349, "post_id": 37022406, "comment_id": 69056779, "body": "@SamarthAgarwal it used to work, but now it doesn&#39;t."}, {"owner": {"reputation": 2151, "user_id": 1524760, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/a89f04b089ed2a8bd6549b6efeda7ce6?s=128&d=identicon&r=PG", "display_name": "Rikku121", "link": "https://stackoverflow.com/users/1524760/rikku121"}, "edited": false, "score": 0, "creation_date": 1487354296, "post_id": 37022406, "comment_id": 71763787, "body": "Device.uuid works for me only when the phone is connected to the computer via USB. Otherwise it is undefined."}], "tags": [], "owner": {"reputation": 3914, "user_id": 4482057, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/cQnUj.jpg?s=128&g=1", "display_name": "Will.Harris", "link": "https://stackoverflow.com/users/4482057/will-harris"}, "is_accepted": false, "score": 9, "last_activity_date": 1470138294, "last_edit_date": 1470138294, "creation_date": 1462350686, "answer_id": 37022406, "question_id": 36998612, "link": "https://stackoverflow.com/questions/36998612/how-to-get-device-id-in-ionic-2-using-typescript/37022406#37022406", "title": "How to get device id in Ionic 2 using TypeScript", "body": "<p>It looks like this is in the <a href=\"http://ionicframework.com/docs/v2/native/device/\" rel=\"noreferrer\">Ionic 2 docs</a>. What you need to do is import the <code>Device</code> class from <code>ionic-native</code> and call the <code>uuid</code> property of the <code>device</code> object.</p>\n\n<p><strong>For example</strong></p>\n\n<pre><code>import {Device} from 'ionic-native';\n\nplatform.ready().then(() =&gt; {\n   console.log(Device.device.uuid);\n}\n</code></pre>\n"}], "owner": {"reputation": 491, "user_id": 6214513, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/u69fX.jpg?s=128&g=1", "display_name": "wagng", "link": "https://stackoverflow.com/users/6214513/wagng"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 6204, "favorite_count": 1, "answer_count": 1, "score": 5, "last_activity_date": 1492706191, "creation_date": 1462262092, "last_edit_date": 1462356028, "question_id": 36998612, "link": "https://stackoverflow.com/questions/36998612/how-to-get-device-id-in-ionic-2-using-typescript", "title": "How to get device id in Ionic 2 using TypeScript", "body": "<p>I am trying to get device id in ionic2 using typescript.</p>\n\n<p>I installed <strong>cordova-plugin-device</strong></p>\n\n<p>And my code is....</p>\n\n<pre><code>platform.ready().then(() =&gt; {\n   console.log(device.cordova);\n}\n</code></pre>\n\n<p>But this is not working.</p>\n\n<p>When I launch the app on device, there is no any log.</p>\n\n<p>Please help me.</p>\n\n<p>Thank you!</p>\n"}, {"tags": ["javascript", "angularjs", "typescript"], "answers": [{"comments": [{"owner": {"reputation": 871364, "user_id": 157247, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/4HovX.jpg?s=128&g=1", "display_name": "T.J. Crowder", "link": "https://stackoverflow.com/users/157247/t-j-crowder"}, "edited": false, "score": 0, "creation_date": 1462258889, "post_id": 36997715, "comment_id": 61548708, "body": "Probably not with a raw object, though."}, {"owner": {"reputation": 7084, "user_id": 492258, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/mVt7n.jpg?s=128&g=1", "display_name": "asdf_enel_hak", "link": "https://stackoverflow.com/users/492258/asdf-enel-hak"}, "reply_to_user": {"reputation": 871364, "user_id": 157247, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/4HovX.jpg?s=128&g=1", "display_name": "T.J. Crowder", "link": "https://stackoverflow.com/users/157247/t-j-crowder"}, "edited": false, "score": 0, "creation_date": 1462259135, "post_id": 36997715, "comment_id": 61548836, "body": "Correct, it should be <code>any</code> in this case"}], "tags": [], "owner": {"reputation": 7084, "user_id": 492258, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/mVt7n.jpg?s=128&g=1", "display_name": "asdf_enel_hak", "link": "https://stackoverflow.com/users/492258/asdf-enel-hak"}, "is_accepted": false, "score": 1, "last_activity_date": 1462258935, "last_edit_date": 1462258935, "creation_date": 1462258860, "answer_id": 36997715, "question_id": 36997661, "link": "https://stackoverflow.com/questions/36997661/typescript-showing-can-not-set-property-of-undefined-how-to-solve-it/36997715#36997715", "title": "Typescript showing can not set property of undefined, how to solve it?", "body": "<p>By giving your type you don't initialize your object  to initialize your object</p>\n\n<pre><code>var group: any= {}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 871364, "user_id": 157247, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/4HovX.jpg?s=128&g=1", "display_name": "T.J. Crowder", "link": "https://stackoverflow.com/users/157247/t-j-crowder"}, "is_accepted": false, "score": 1, "last_activity_date": 1462258995, "creation_date": 1462258995, "answer_id": 36997746, "question_id": 36997661, "link": "https://stackoverflow.com/questions/36997661/typescript-showing-can-not-set-property-of-undefined-how-to-solve-it/36997746#36997746", "title": "Typescript showing can not set property of undefined, how to solve it?", "body": "<p><code>var group: IGroup;</code> doesn't create any object, it just says what type of reference <code>group</code> can hold. <code>group</code> starts out with the value <code>undefined</code>.</p>\n\n<p>You have to assign an object to <code>group</code> that implements <code>IGroup</code>. Say for instance you have a <code>Group</code> class that implements <code>IGroup</code>. Then you'd do this:</p>\n\n<pre><code>var group: IGroup = new Group();\n</code></pre>\n\n<p>Of course, your actual class name may not be <code>Group</code>, and the actual class's constructor may require arguments, but fundamentally the issue is that you haven't assigned an object to <code>group</code>.</p>\n"}], "owner": {"reputation": 11, "user_id": 6043722, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2fa853e998ad594c0e84f9933a2905ac?s=128&d=identicon&r=PG&f=1", "display_name": "Monjur Morshed", "link": "https://stackoverflow.com/users/6043722/monjur-morshed"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 268, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1462258995, "creation_date": 1462258696, "question_id": 36997661, "link": "https://stackoverflow.com/questions/36997661/typescript-showing-can-not-set-property-of-undefined-how-to-solve-it", "title": "Typescript showing can not set property of undefined, how to solve it?", "body": "<p>I have an interface:</p>\n\n<pre><code>interface IGroup{\n    groupNumber:number;\n    groupMembers:Array&lt;ISeatPlanGroup&gt;;\n    totalStudentNumber:number;\n  }\n</code></pre>\n\n<p>When, I try to assign a value in the groupNumber, then, compiler says , can not set property of undefined.</p>\n\n<pre><code>              var group: IGroup;\n              group.groupNumber = groupArr[i].groupNo;\n              group.groupMembers=[];\n              group.groupMembers.push(groupArr[i]);\n              group.totalStudentNumber = 0;\n              group.totalStudentNumber+=groupArr[i].studentNumber;\n</code></pre>\n\n<p>I also tried to initialize </p>\n\n<pre><code>group.groupNumber = 0;\n</code></pre>\n\n<p>Still, there is error. How to solve it? </p>\n"}, {"tags": ["javascript", "typescript", "angular", "webpack", "angular2-services"], "answers": [{"tags": [], "owner": {"reputation": 483726, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "is_accepted": true, "score": 31, "last_activity_date": 1513458461, "last_edit_date": 1513458461, "creation_date": 1462258895, "answer_id": 36997723, "question_id": 36997625, "link": "https://stackoverflow.com/questions/36997625/angular-2-communication-of-typescript-functions-with-external-js-libraries/36997723#36997723", "title": "Angular 2 - communication of typescript functions with external js libraries", "body": "<p>Just fire a custom event using <a href=\"https://developer.mozilla.org/de/docs/Web/API/EventTarget/dispatchEvent\" rel=\"noreferrer\">dispatchEvent</a>.</p>\n\n<p>In Angular you can listen by adding to any component that is actually added to the DOM:</p>\n\n<ul>\n<li>in any template:</li>\n</ul>\n\n\n\n<pre><code>&lt;div (window:custom-event)=\"updateNodes($event)\"&gt;\n</code></pre>\n\n<ul>\n<li>or in the components class:</li>\n</ul>\n\n\n\n<pre><code>@HostListener('window:custom-event', ['$event']) \nupdateNodes(event) {\n  ...\n}\n</code></pre>\n\n<ul>\n<li>or in the <code>@Component()</code> or <code>@Directive()</code> annotation:</li>\n</ul>\n\n\n\n<pre><code>@Component({\n  selector: '...',\n  host: {'(window:custom-event)':'updateNodes($event)'}\n})\n</code></pre>\n\n<p>where <code>custom-event</code> is the type of the dispatched event and <code>updateNodes(event)</code> is a method in your components class.</p>\n\n<p>To manually trigger it in JavaScript:</p>\n\n<pre><code>window.dispatchEvent(new Event('custom-event'));\n</code></pre>\n\n<p><strong>An alternative approach</strong> </p>\n\n<p>would be to make methods of components (or directives, services) available outside Angular like explained in <a href=\"https://stackoverflow.com/questions/35296704/angular2-how-to-call-component-function-from-outside-the-app\">Angular2 - how to call component function from outside the app</a>.</p>\n"}], "owner": {"reputation": 249, "user_id": 4389812, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c8ad4a1f1655a1810623eb207884d009?s=128&d=identicon&r=PG", "display_name": "rajabzz", "link": "https://stackoverflow.com/users/4389812/rajabzz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 11731, "favorite_count": 7, "accepted_answer_id": 36997723, "answer_count": 1, "score": 12, "last_activity_date": 1513458461, "creation_date": 1462258587, "question_id": 36997625, "link": "https://stackoverflow.com/questions/36997625/angular-2-communication-of-typescript-functions-with-external-js-libraries", "title": "Angular 2 - communication of typescript functions with external js libraries", "body": "<p>Using <a href=\"https://philogb.github.io/jit/\" rel=\"noreferrer\">Javascript Infovis Toolkit</a> as an external library for drawing graph and trees. I need to manipulate the onClick method of nodes in order to asynchronously sending an HTTP GET request to the server and assign the data that comes from server to the properties and variables of an Angular service class. By Using webpack for packing all the compiled typescripts to a single js file, the output file is confusing and unreadable. so calling a function which is in the compiled js file from an external js library, is not the best solution clearly.</p>\n\n<p>I try the following solution inside my Angular service so I can access to the properties of this service without any trouble:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>document.addEventListener('DOMContentLoaded', function () {\r\n  \r\n  var nodes = document.querySelectorAll(\".nodes\"); // nodes = []\r\n  \r\n  for (var i = 0; i &lt; nodes.length; i++) { // nodes.length = 0\r\n    \r\n    nodes[i].addEventListener(\"click\", function () {\r\n      \r\n      // asynchronously sending GET request to the server\r\n      // and assing receiving data to the properties of this Angular service\r\n      \r\n    });\r\n  }\r\n\r\n});</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>However, this solution doesn't work because in Javascript Infovis Toolkit the nodes are drawn after finishing rendering of DOM and also after <code>window.onload</code> event. This library has some lifecycle methods such as onAfterCompute() which is called after drawing tree is completed. How can I trigger a global event to inform the Angular service that the drawing of tree is completed and it can query all of the nodes?</p>\n"}, {"tags": ["meteor", "typescript", "meteor-accounts"], "comments": [{"owner": {"reputation": 1050, "user_id": 2100372, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/hhyEy.jpg?s=128&g=1", "display_name": "zoran404", "link": "https://stackoverflow.com/users/2100372/zoran404"}, "edited": false, "score": 0, "creation_date": 1541770316, "post_id": 36997134, "comment_id": 93340112, "body": "There is now an npm package for this: <a href=\"https://www.npmjs.com/package/@types/meteor-roles\" rel=\"nofollow noreferrer\">npmjs.com/package/@types/meteor-roles</a>"}], "answers": [{"comments": [{"owner": {"reputation": 1050, "user_id": 2100372, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/hhyEy.jpg?s=128&g=1", "display_name": "zoran404", "link": "https://stackoverflow.com/users/2100372/zoran404"}, "edited": false, "score": 0, "creation_date": 1541770479, "post_id": 42590591, "comment_id": 93340192, "body": "Instead of writing a comment <code>&#47;&#47;user can be user ID or user object</code> you should define that in the function signature. That&#39;s what TypeScript is for after all."}], "tags": [], "owner": {"reputation": 911, "user_id": 2123600, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/16c3f244786b3fe5cfeb8c9b9b17c5cb?s=128&d=identicon&r=PG", "display_name": "vitkon", "link": "https://stackoverflow.com/users/2123600/vitkon"}, "is_accepted": false, "score": 3, "last_activity_date": 1488587132, "creation_date": 1488587132, "answer_id": 42590591, "question_id": 36997134, "link": "https://stackoverflow.com/questions/36997134/how-can-i-import-meteor-roles-in-typescript/42590591#42590591", "title": "how can i import meteor-roles in typescript?", "body": "<p>import your Roles like so</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>import { Roles } from 'meteor/alanning:roles';</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>Next, you need to add / update your custom typings file (meteor.d.ts in my case, which is autoloaded by Meteor)</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>declare module \"meteor/alanning:roles\" {\r\n  export module Roles {\r\n    function createRole(roleName: string): string;\r\n    function deleteRole(roleName: string): void;\r\n    function addUsersToRoles(users: any, roles: any, groups?: string): void;\r\n    function removeUsersFromRoles(users: any, roles: any): void;\r\n    function userIsInRole(user: any, roles: any): boolean;  //user can be user ID or user object\r\n    function getRolesForUser(userId: string): string[];\r\n    function getAllRoles(): Mongo.Cursor&lt;RolesDAO&gt;;\r\n    function getUsersInRole(roleName: string): Mongo.Cursor&lt;RolesDAO&gt;;\r\n    var GLOBAL_GROUP: string;\r\n  }\r\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": [], "owner": {"reputation": 161, "user_id": 1176567, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/93a89288be6595531a2a932e25799429?s=128&d=identicon&r=PG", "display_name": "jsr", "link": "https://stackoverflow.com/users/1176567/jsr"}, "is_accepted": false, "score": 3, "last_activity_date": 1545193183, "creation_date": 1545193183, "answer_id": 53844530, "question_id": 36997134, "link": "https://stackoverflow.com/questions/36997134/how-can-i-import-meteor-roles-in-typescript/53844530#53844530", "title": "how can i import meteor-roles in typescript?", "body": "<p>There is a simpler way to import meteor packages in typescript. Most of the types are defined here </p>\n\n<blockquote>\n  <p><a href=\"https://github.com/DefinitelyTyped/DefinitelyTyped/tree/master/types\" rel=\"nofollow noreferrer\">https://github.com/DefinitelyTyped/DefinitelyTyped/tree/master/types</a>\n  <a href=\"https://github.com/DefinitelyTyped/DefinitelyTyped/tree/master/types/meteor\" rel=\"nofollow noreferrer\">https://github.com/DefinitelyTyped/DefinitelyTyped/tree/master/types/meteor</a></p>\n</blockquote>\n\n<p>Install NPM module that has types defined.</p>\n\n<pre><code>meteor npm install --save @types/meteor-roles\n</code></pre>\n\n<p>Import the types in your modules</p>\n\n<pre><code>import { } from '@types/meteor-roles';\n</code></pre>\n\n<p>Now, you can use Roles type for methods like addUsersToRoles() etc.</p>\n"}], "owner": {"reputation": 26308, "user_id": 80932, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/c8df6a60fa19ec03cde467dad65c8f24?s=128&d=identicon&r=PG", "display_name": "ufk", "link": "https://stackoverflow.com/users/80932/ufk"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 747, "favorite_count": 0, "answer_count": 2, "score": 4, "last_activity_date": 1545193183, "creation_date": 1462256901, "question_id": 36997134, "link": "https://stackoverflow.com/questions/36997134/how-can-i-import-meteor-roles-in-typescript", "title": "how can i import meteor-roles in typescript?", "body": "<p>I'm writing a angular2-meteor application with typescript using angular2-meteor 0.5.4 and angular2 beta17.</p>\n\n<p>I'm using <code>accounts-password</code> meteor package with with <code>angular2-meteor-accounts-ui</code> for ui representation.</p>\n\n<p>I also installed the meteor package <code>alanning:roles</code>.</p>\n\n<p>now I need to import <code>Roles</code> in typescript and i fail to do so because it doesn't contain a typescript definition file.</p>\n\n<p>I searched on google and I found <a href=\"https://github.com/meteor-typescript/meteor-typescript-libs\" rel=\"nofollow\">https://github.com/meteor-typescript/meteor-typescript-libs</a> \nwhich container typescript definitions for many packages including Roles.</p>\n\n<p>is this the way to go? am I missing something.</p>\n\n<p>since I'm new to meteor and typescript i need reassurance that i'm following the right path.</p>\n\n<p>thank you!</p>\n"}, {"tags": ["typescript", "rxjs", "rxjs5"], "answers": [{"tags": [], "owner": {"reputation": 204459, "user_id": 390330, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/1400be56ff17549b926dd3260da4a494?s=128&d=identicon&r=PG", "display_name": "basarat", "link": "https://stackoverflow.com/users/390330/basarat"}, "is_accepted": true, "score": 14, "last_activity_date": 1462243804, "creation_date": 1462243804, "answer_id": 36994787, "question_id": 36993248, "link": "https://stackoverflow.com/questions/36993248/rxjs-typescript-throws-property-clientx-does-not-exist-on-type/36994787#36994787", "title": "RxJs / Typescript throws &#39;property clientX does not exist on type {}&#39;", "body": "<blockquote>\n  <p>'property clientX does not exist on type {}'</p>\n</blockquote>\n\n<p>This is because the observable is not typed: </p>\n\n<pre><code>Observable.fromEvent(StarSky.canvas,'mousemove')\n</code></pre>\n\n<p>You can add an annotation as a generic param: </p>\n\n<pre><code>Observable.fromEvent&lt;MouseEvent&gt;(StarSky.canvas,'mousemove')\n</code></pre>\n\n<p>Or the callback as you have done. </p>\n"}], "owner": {"reputation": 408, "user_id": 3939255, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/e0fc9ae6cbd56ebe3d19f4bb44c8ad3b?s=128&d=identicon&r=PG&f=1", "display_name": "Maciej Sitko", "link": "https://stackoverflow.com/users/3939255/maciej-sitko"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1997, "favorite_count": 1, "accepted_answer_id": 36994787, "answer_count": 1, "score": 7, "last_activity_date": 1462243804, "creation_date": 1462231923, "question_id": 36993248, "link": "https://stackoverflow.com/questions/36993248/rxjs-typescript-throws-property-clientx-does-not-exist-on-type", "title": "RxJs / Typescript throws &#39;property clientX does not exist on type {}&#39;", "body": "<p>I am trying to do something very simple, just log the event.clientX on mouseover, and this is the module code:</p>\n\n<pre><code>import { Observable, Subject } from 'rxjs';\nimport StarSky from './starsky';\nimport constants from '../constants/index';\n\nconst HERO_Y = constants.HERO_Y(StarSky.canvas);\n\nexport const StarShip = Observable.fromEvent(StarSky.canvas,'mousemove')\n  .map((event)=&gt; {\n    return {\n      x: event.clientX,\n      y: HERO_Y\n    }\n  })\n  .startWith({\n    x: StarSky.canvas.width /2,\n    y: HERO_Y\n  })\n</code></pre>\n\n<p>Then I subscribe to it later, likeso:</p>\n\n<pre><code>StarShip.subscribe(x =&gt;  console.log(x));\n</code></pre>\n\n<p>What is happening is that typescript compiler keeps throwing an error of this particular kind:</p>\n\n<pre><code>Property clientX does not exist on type {}\n</code></pre>\n\n<p>I am guessing because its still an empty Rx Subject, and clientX is not yet still there as it needs to be initialised via mouseover. This is kind of silly because if I remove <code>.clientX</code>, and leave <code>event</code> there as <code>x</code>, it logs out with no problems.</p>\n\n<p>How to combat this incompatibility and work around this error?</p>\n\n<p><strong>EDIT:</strong> </p>\n\n<p>I am sorry, just found out that the solution is to put type declaration</p>\n\n<pre><code>(event: MouseEvent) =&gt; { ... }\n</code></pre>\n\n<p>Just like this.</p>\n"}, {"tags": ["node.js", "mongoose", "typescript", "promise", "bluebird"], "comments": [{"owner": {"reputation": 118994, "user_id": 942852, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/secsn.jpg?s=128&g=1", "display_name": "Nitzan Tomer", "link": "https://stackoverflow.com/users/942852/nitzan-tomer"}, "edited": false, "score": 0, "creation_date": 1462231979, "post_id": 36993170, "comment_id": 61540517, "body": "Maybe because in one branch you return a <code>Promise</code> and in the other you return a <code>City</code> and when the compiler tries to infer the type the function returns the best it can do with these two is the empty object."}, {"owner": {"reputation": 1036, "user_id": 949744, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/2d484b7248110c782ee47ea93817292a?s=128&d=identicon&r=PG", "display_name": "TheSeamau5", "link": "https://stackoverflow.com/users/949744/theseamau5"}, "reply_to_user": {"reputation": 118994, "user_id": 942852, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/secsn.jpg?s=128&g=1", "display_name": "Nitzan Tomer", "link": "https://stackoverflow.com/users/942852/nitzan-tomer"}, "edited": false, "score": 0, "creation_date": 1462232042, "post_id": 36993170, "comment_id": 61540534, "body": "Nope, I tried to remove the branch where a promise is returned and I still get the same error"}, {"owner": {"reputation": 1036, "user_id": 949744, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/2d484b7248110c782ee47ea93817292a?s=128&d=identicon&r=PG", "display_name": "TheSeamau5", "link": "https://stackoverflow.com/users/949744/theseamau5"}, "reply_to_user": {"reputation": 118994, "user_id": 942852, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/secsn.jpg?s=128&g=1", "display_name": "Nitzan Tomer", "link": "https://stackoverflow.com/users/942852/nitzan-tomer"}, "edited": false, "score": 0, "creation_date": 1462232065, "post_id": 36993170, "comment_id": 61540543, "body": "Furthermore, I tried wrapping the city in a promise... same error"}, {"owner": {"reputation": 118994, "user_id": 942852, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/secsn.jpg?s=128&g=1", "display_name": "Nitzan Tomer", "link": "https://stackoverflow.com/users/942852/nitzan-tomer"}, "edited": false, "score": 1, "creation_date": 1462232600, "post_id": 36993170, "comment_id": 61540719, "body": "Yeah, sorry, missed that part in your question. Have you tried <code>.then&lt;City&gt;(...)</code>?"}, {"owner": {"reputation": 1036, "user_id": 949744, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/2d484b7248110c782ee47ea93817292a?s=128&d=identicon&r=PG", "display_name": "TheSeamau5", "link": "https://stackoverflow.com/users/949744/theseamau5"}, "reply_to_user": {"reputation": 118994, "user_id": 942852, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/secsn.jpg?s=128&g=1", "display_name": "Nitzan Tomer", "link": "https://stackoverflow.com/users/942852/nitzan-tomer"}, "edited": false, "score": 0, "creation_date": 1462232667, "post_id": 36993170, "comment_id": 61540738, "body": "Oh wow, it worked. Thanks! How come this worked?"}, {"owner": {"reputation": 118994, "user_id": 942852, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/secsn.jpg?s=128&g=1", "display_name": "Nitzan Tomer", "link": "https://stackoverflow.com/users/942852/nitzan-tomer"}, "edited": false, "score": 1, "creation_date": 1462233008, "post_id": 36993170, "comment_id": 61540835, "body": "If you look at the definition file you&#39;ll see that then <code>then</code> method has a generics signature. The compiler should have inferred the type without the need to explicitly write it, but it fails to do that, not sure why. In any case, by specifying the type you tell the compiler which type to include in the resulting <code>Promise</code>"}, {"owner": {"reputation": 18374, "user_id": 3478010, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/y4DTM.png?s=128&g=1", "display_name": "Roamer-1888", "link": "https://stackoverflow.com/users/3478010/roamer-1888"}, "edited": false, "score": 0, "creation_date": 1462257573, "post_id": 36993170, "comment_id": 61548004, "body": "Surely, <code>return Promise.reject(...)</code> is an anti-pattern. Does typescript not allow you to <code>throw</code> a <code>new Error()</code> at that point?"}], "answers": [{"tags": [], "owner": {"reputation": 204459, "user_id": 390330, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/1400be56ff17549b926dd3260da4a494?s=128&d=identicon&r=PG", "display_name": "basarat", "link": "https://stackoverflow.com/users/390330/basarat"}, "is_accepted": false, "score": 1, "last_activity_date": 1462235504, "creation_date": 1462235504, "answer_id": 36993738, "question_id": 36993170, "link": "https://stackoverflow.com/questions/36993170/how-do-i-make-typescript-work-with-promises/36993738#36993738", "title": "How do I make typescript work with promises?", "body": "<blockquote>\n  <p>typescript resolves my 'getCityById' function as returning a Promise&lt;{}> rather than a Promise as it should.</p>\n</blockquote>\n\n<p>This is because of multiple return paths. </p>\n\n<pre><code>if (!city) {\n      return Promise.reject('No Cities found with given ID');\n    } else {\n      return {\n        name: city.name,\n        id: String(city._id)\n      };\n    }\n</code></pre>\n\n<p>Specifically <code>Promise.reject</code> is untyped. </p>\n\n<h1>Quick fix</h1>\n\n<p>Assert: </p>\n\n<pre><code>if (!city) {\n      return Promise.reject('No Cities found with given ID') as Promise&lt;any&gt;;\n    } else {\n      return {\n        name: city.name,\n        id: String(city._id)\n      };\n    }\n</code></pre>\n"}], "owner": {"reputation": 1036, "user_id": 949744, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/2d484b7248110c782ee47ea93817292a?s=128&d=identicon&r=PG", "display_name": "TheSeamau5", "link": "https://stackoverflow.com/users/949744/theseamau5"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1122, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1462235504, "creation_date": 1462231463, "question_id": 36993170, "link": "https://stackoverflow.com/questions/36993170/how-do-i-make-typescript-work-with-promises", "title": "How do I make typescript work with promises?", "body": "<p>So, I am using typescript on a node/express/mongoose application and I am trying to have my code typecheck without errors.</p>\n\n<p>I define this mongoose model:</p>\n\n<pre><code>import * as mongoose from 'mongoose';\n\nconst City = new mongoose.Schema({\n  name: String\n});\n\ninterface ICity extends mongoose.Document {\n  name: string\n}\n\nexport default mongoose.model&lt;ICity&gt;('City', City);\n</code></pre>\n\n<p>and this controller:</p>\n\n<pre><code>import * as Promise from 'bluebird';\n\nimport CityModel from '../models/city';\n\nexport type City = {\n  name: string,\n  id: string\n};\n\nexport function getCityById(id : string) : Promise&lt;City&gt;{\n  return CityModel.findById(id).lean().exec()\n  .then((city) =&gt; {\n    if (!city) {\n      return Promise.reject('No Cities found with given ID');\n    } else {\n      return {\n        name: city.name,\n        id: String(city._id)\n      };\n    }\n  });\n}\n</code></pre>\n\n<p>The problem is that for some reason, typescript resolves my 'getCityById' function as returning a <code>Promise&lt;{}&gt;</code> rather than a <code>Promise&lt;City&gt;</code> as it should.</p>\n\n<p>Failed attempts:</p>\n\n<ul>\n<li>I tried to wrap the return object in a <code>Promise.resolve</code></li>\n<li>I tried to use <code>new Promise</code> and rely on mongoose's callback API as opposed to their promise API</li>\n</ul>\n"}, {"tags": ["http", "typescript", "angular", "observable"], "answers": [{"comments": [{"owner": {"reputation": 181833, "user_id": 1873365, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/45TMV.png?s=128&g=1", "display_name": "Thierry Templier", "link": "https://stackoverflow.com/users/1873365/thierry-templier"}, "edited": false, "score": 0, "creation_date": 1462261968, "post_id": 36995569, "comment_id": 61550381, "body": "Hey G&#252;nter! I think you have a typo / you missed something in your snippet. <code>this.observable</code> is never set... I think something like: <code>this.observable = this.httpService.getDocumentDataProviderTree...</code>."}, {"owner": {"reputation": 173, "user_id": 4224421, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/06be6e9235ab6a4ac780552ce69a6ba4?s=128&d=identicon&r=PG&f=1", "display_name": "No&#235;l Rimbert", "link": "https://stackoverflow.com/users/4224421/no%c3%abl-rimbert"}, "edited": false, "score": 1, "creation_date": 1462367794, "post_id": 36995569, "comment_id": 61607833, "body": "Just tried it, it does exactly what I need. Thanks !"}, {"owner": {"reputation": 483726, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1462367883, "post_id": 36995569, "comment_id": 61607906, "body": "Glad to hear. Thanks for the feedback :)"}], "tags": [], "owner": {"reputation": 483726, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "is_accepted": true, "score": 3, "last_activity_date": 1462262029, "last_edit_date": 1495540003, "creation_date": 1462249330, "answer_id": 36995569, "question_id": 36993089, "link": "https://stackoverflow.com/questions/36993089/angular-2-observable-and-async-http-loading/36995569#36995569", "title": "Angular 2 - Observable and async http loading", "body": "<p>This should do what you want:</p>\n\n<pre><code>public getDataProviderSpecification() {\n    if(this.treestructure) {\n        return Observable.of(this.treestructure); \n    else if(this.observable) {\n      // if `this.observable` is set then the request is in progress\n      // return the `Observable` for the ongoing request\n      return this.observable;\n    } else {\n      // create the request, store the `Observable` for subsequent subscribers\n      this.observable = this.httpService.getDocumentDataProviderTree(this.documentID)\n          //.map(res =&gt; res.json())\n          .do(val =&gt; {\n            this.treestructure = val;\n            // when the cached data is available we don't need the `Observable` reference anymore\n            this.observable = null;\n          })\n          // make it shared so more than one subscriber can get the result\n          .share();\n      return this.observable;\n    }\n}    \n</code></pre>\n\n<p>See also <a href=\"https://stackoverflow.com/a/36291681/217408\">https://stackoverflow.com/a/36291681/217408</a></p>\n"}], "owner": {"reputation": 173, "user_id": 4224421, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/06be6e9235ab6a4ac780552ce69a6ba4?s=128&d=identicon&r=PG&f=1", "display_name": "No&#235;l Rimbert", "link": "https://stackoverflow.com/users/4224421/no%c3%abl-rimbert"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 697, "favorite_count": 0, "accepted_answer_id": 36995569, "answer_count": 1, "score": 1, "last_activity_date": 1462262029, "creation_date": 1462231062, "last_edit_date": 1462231417, "question_id": 36993089, "link": "https://stackoverflow.com/questions/36993089/angular-2-observable-and-async-http-loading", "title": "Angular 2 - Observable and async http loading", "body": "<p>I've been struggling with angular2 these days and I'm currently stuck on some issues related to async http loading.</p>\n\n<p>Here is what I got:</p>\n\n<ul>\n<li>1 service component (MyCustomHttpService) containing methods to perform http calls to a REST API</li>\n<li>1 class (DataProvider) that properties have to be populated with the data retrieved</li>\n<li>1 view component (MyCmp) that calls a getter of the class in order to push the data to the view</li>\n</ul>\n\n<p><strong>What I would like to do:</strong></p>\n\n<p>When I call <em>\"DataProvider.getDataProviderSpecification()\"</em> </p>\n\n<ul>\n<li>I load the data if it's not loaded yet</li>\n<li>Otherwise, I return the data already loaded</li>\n</ul>\n\n<p>This logic has to be in the DataProvider class and not in the custom http service or the view component.</p>\n\n<p>I found a real dirty workaround. And since I know that it is reaaally bad I am seeking advice on how to improve that piece of code.</p>\n\n<p>Thanks in advance for your help.</p>\n\n<p>It looks like that (code cleaned):\n</p>\n\n<pre><code>/** CLASS **/\n@Component()\nexport class DataProvider {\n    private treestructure: any = null;\n\n    constructor(private httpService: MyCustomHttpService) {}\n\n    public getDataProviderSpecification() {\n        if(this.treestructure == null) {\n            return Observable.create(observer =&gt; {\n             // http service to get REST data\n             this.httpService.getDocumentDataProviderTree(this.documentID)\n                    .subscribe((tree)=&gt; {\n                        this.treestructure= tree;\n                        observer.next(this.treestructure);\n                        observer.complete();\n                    });\n            });\n        } else {\n            return Observable.create(observer =&gt; {\n                observer.next(this.treestructure);\n                observer.complete();\n            });\n        }\n    }\n...\n}\n\n\n/** VIEW COMPONENT **/\n@Component({\n    selector: 'my-cmp',\n    template: '&lt;tree-cmp [structure]=\"tree\"&gt;&lt;/tree-cmp&gt;',\n    inputs: ['dataprovider'],\n    directives: [TreeComponent]\n})\nexport class MyCmp {\n    @Input() dataprovider: DataProvider;\n    tree: any;\n    showDetails(id) {\n        this.dataprovider.getDataProviderSpecification().subscribe((treestructure) =&gt; {\n            this.tree = treestructure;\n        });\n    } \n}\n</code></pre>\n"}, {"tags": ["c#", "jquery", "angularjs", "typescript", "slider"], "answers": [{"tags": [], "owner": {"reputation": 85, "user_id": 4999551, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh5.googleusercontent.com/-SPUb9r4nPOQ/AAAAAAAAAAI/AAAAAAAAADE/9lTGWqtewqk/photo.jpg?sz=128", "display_name": "Bohuslav Sys", "link": "https://stackoverflow.com/users/4999551/bohuslav-sys"}, "is_accepted": true, "score": 1, "last_activity_date": 1462302960, "creation_date": 1462302960, "answer_id": 37012582, "question_id": 36992916, "link": "https://stackoverflow.com/questions/36992916/jquery-slider-in-typescript-angular-directive-do-not-display-properly-c/37012582#37012582", "title": "JQuery slider in typescript angular directive do not display properly (c#)", "body": "<p>Ok I found the problem and it is really stupid. I had to change this:</p>\n\n<pre><code>&lt;input ng-model=\"slider\" type=\"text\" id=\"amount\" readonly style=\"border:0; color:#f6931f; font-weight:bold;\"&gt;\n&lt;slider ng-model=\"slider\"&gt;&lt;/slider&gt;\n</code></pre>\n\n<p>into this:</p>\n\n<pre><code>&lt;input ng-model=\"slider\" type=\"text\" id=\"amount\" readonly style=\"border:0; color:#f6931f; font-weight:bold;\"&gt;\n&lt;div slider ng-model=\"slider\"&gt;&lt;/div&gt;\n</code></pre>\n\n<p>And it worked like a miracle. Can just somebody tell me why?</p>\n"}], "owner": {"reputation": 85, "user_id": 4999551, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh5.googleusercontent.com/-SPUb9r4nPOQ/AAAAAAAAAAI/AAAAAAAAADE/9lTGWqtewqk/photo.jpg?sz=128", "display_name": "Bohuslav Sys", "link": "https://stackoverflow.com/users/4999551/bohuslav-sys"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 446, "favorite_count": 0, "accepted_answer_id": 37012582, "answer_count": 1, "score": 0, "last_activity_date": 1462302960, "creation_date": 1462229809, "question_id": 36992916, "link": "https://stackoverflow.com/questions/36992916/jquery-slider-in-typescript-angular-directive-do-not-display-properly-c", "title": "JQuery slider in typescript angular directive do not display properly (c#)", "body": "<p>I am trying to use JQuery slider in my application and if I try it just with JQuery it works fine, but when I use it in angular directive created with typescript it displays like this:</p>\n\n<p><a href=\"https://i.stack.imgur.com/BW0XH.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/BW0XH.png\" alt=\"enter image description here\"></a></p>\n\n<p>Here is the directive: </p>\n\n<pre><code>SliderDirective.$inject = [\"$window\"];\n\nfunction SliderDirective($window: ng.IWindowService): IMediaDirective {\n    return {\n        restrict: \"EA\",\n        link: link\n    }\n\n    function link(scope: IMediaDirectiveScope, element: ng.IAugmentedJQuery, attrs: IMediaDirectiveAttributes) {\n        element.slider({\n            range: true,\n            min: 10,\n            max: 100,\n            value: 50,\n            slide: (event: Event, ui: JQueryUI.SliderUIParams) =&gt; {\n                scope.$apply(function () {\n                    scope[attrs.ngModel] = ui.value;\n                });\n            }\n        })\n    }\n}\n\nangular.module(\"mediaApp\").directive(\"slider\", SliderDirective);\n</code></pre>\n\n<p>HTML template:</p>\n\n<pre><code>&lt;input ng-model=\"slider\" type=\"text\" id=\"amount\" readonly style=\"border:0; color:#f6931f; font-weight:bold;\"&gt;\n    &lt;slider ng-model=\"slider\"&gt;&lt;/slider&gt;\n</code></pre>\n\n<p>Other directives are working like they should. Also I am using VS 2015, jqueryui.d.ts and angular.d.ts from DefinitelyTyped</p>\n\n<p>Thanks for help!</p>\n"}, {"tags": ["javascript", "typescript", "protocol-buffers", "protobuf.js"], "comments": [{"owner": {"reputation": 10321, "user_id": 215552, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/26bda02894d869c95f620de4b7cd386d?s=128&d=identicon&r=PG", "display_name": "Heretic Monkey", "link": "https://stackoverflow.com/users/215552/heretic-monkey"}, "edited": false, "score": 0, "creation_date": 1462227506, "post_id": 36992363, "comment_id": 61539227, "body": "I know nothing about protobuf, but in TypeScript, you should be able to do <code>pb[&#39;decode&#39;](buffer)</code>, or <code>(&lt;any&gt;pb).decode(buffer)</code>."}, {"owner": {"reputation": 216, "user_id": 652120, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/9c14a51f82e0a78918ae655a77942279?s=128&d=identicon&r=PG", "display_name": "Chris", "link": "https://stackoverflow.com/users/652120/chris"}, "reply_to_user": {"reputation": 10321, "user_id": 215552, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/26bda02894d869c95f620de4b7cd386d?s=128&d=identicon&r=PG", "display_name": "Heretic Monkey", "link": "https://stackoverflow.com/users/215552/heretic-monkey"}, "edited": false, "score": 0, "creation_date": 1462228467, "post_id": 36992363, "comment_id": 61539501, "body": "The first option (which apparently had the square braces removed in my question) was not effective, however, assigning  var decoder: any = pb[&#39;decode&#39;]; did allow me a call to decoder(buffer). I&#39;m hoping for a nicer looking answer, so I&#39;ll leave it open a bit, but I definitely appreciate the (&lt;any&gt;pb) bit since that&#39;s likely to come in handy in the future."}, {"owner": {"reputation": 10321, "user_id": 215552, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/26bda02894d869c95f620de4b7cd386d?s=128&d=identicon&r=PG", "display_name": "Heretic Monkey", "link": "https://stackoverflow.com/users/215552/heretic-monkey"}, "edited": false, "score": 0, "creation_date": 1462228628, "post_id": 36992363, "comment_id": 61539556, "body": "&quot;was not effective&quot;? Did you get a build error? If so, adding that to your question would be quite helpful..."}, {"owner": {"reputation": 216, "user_id": 652120, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/9c14a51f82e0a78918ae655a77942279?s=128&d=identicon&r=PG", "display_name": "Chris", "link": "https://stackoverflow.com/users/652120/chris"}, "reply_to_user": {"reputation": 10321, "user_id": 215552, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/26bda02894d869c95f620de4b7cd386d?s=128&d=identicon&r=PG", "display_name": "Heretic Monkey", "link": "https://stackoverflow.com/users/215552/heretic-monkey"}, "edited": false, "score": 0, "creation_date": 1462229864, "post_id": 36992363, "comment_id": 61539918, "body": "Added the error info to the question. Thanks."}, {"owner": {"reputation": 118994, "user_id": 942852, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/secsn.jpg?s=128&g=1", "display_name": "Nitzan Tomer", "link": "https://stackoverflow.com/users/942852/nitzan-tomer"}, "edited": false, "score": 0, "creation_date": 1462231759, "post_id": 36992363, "comment_id": 61540455, "body": "Have you tried <code>pb.decode(buffer)</code>?"}, {"owner": {"reputation": 216, "user_id": 652120, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/9c14a51f82e0a78918ae655a77942279?s=128&d=identicon&r=PG", "display_name": "Chris", "link": "https://stackoverflow.com/users/652120/chris"}, "edited": false, "score": 0, "creation_date": 1462231903, "post_id": 36992363, "comment_id": 61540500, "body": "Yeah, that was my first attempt. Works fine from the console when I&#39;m at a breakpoint, but TypeScript&#39;s compiler will have none of it."}, {"owner": {"reputation": 10321, "user_id": 215552, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/26bda02894d869c95f620de4b7cd386d?s=128&d=identicon&r=PG", "display_name": "Heretic Monkey", "link": "https://stackoverflow.com/users/215552/heretic-monkey"}, "edited": false, "score": 0, "creation_date": 1462283431, "post_id": 36992363, "comment_id": 61564509, "body": "You could alter the .d.ts file, and just add that method to the declaration, or add it in your own .d.ts file. See <a href=\"http://stackoverflow.com/a/18114282/215552\">stackoverflow.com/a/18114282/215552</a>."}, {"owner": {"reputation": 216, "user_id": 652120, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/9c14a51f82e0a78918ae655a77942279?s=128&d=identicon&r=PG", "display_name": "Chris", "link": "https://stackoverflow.com/users/652120/chris"}, "edited": false, "score": 0, "creation_date": 1462292864, "post_id": 36992363, "comment_id": 61571140, "body": "It would likely have to be in my own .d.ts file since altering it in the provided one breaks other declarations. I may end up going that route if there&#39;s not a better way."}, {"owner": {"reputation": 216, "user_id": 652120, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/9c14a51f82e0a78918ae655a77942279?s=128&d=identicon&r=PG", "display_name": "Chris", "link": "https://stackoverflow.com/users/652120/chris"}, "reply_to_user": {"reputation": 10321, "user_id": 215552, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/26bda02894d869c95f620de4b7cd386d?s=128&d=identicon&r=PG", "display_name": "Heretic Monkey", "link": "https://stackoverflow.com/users/215552/heretic-monkey"}, "edited": false, "score": 0, "creation_date": 1463420315, "post_id": 36992363, "comment_id": 62046589, "body": "@MikeMcCaughan If you can post your first comment as an answer, I&#39;ll accept it. It&#39;s working, I was just hoping someone else was using this combo of protobuf and TypeScript and had worked out some way of using the object that didn&#39;t require overriding the type."}], "answers": [{"tags": [], "owner": {"reputation": 10321, "user_id": 215552, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/26bda02894d869c95f620de4b7cd386d?s=128&d=identicon&r=PG", "display_name": "Heretic Monkey", "link": "https://stackoverflow.com/users/215552/heretic-monkey"}, "is_accepted": true, "score": 2, "last_activity_date": 1463437448, "creation_date": 1463437448, "answer_id": 37264214, "question_id": 36992363, "link": "https://stackoverflow.com/questions/36992363/basic-typescript-example-of-using-protobufjs/37264214#37264214", "title": "Basic typescript example of using protobufjs", "body": "<p>Working with definition files for existing JavaScript libraries can be tricky, because JavaScript is very loosely defined, whereas TypeScript is quite well defined. Without modifying the existing .d.ts file, or writing your own, the options are limited. Theoretically, the following should work:</p>\n\n<pre><code>pb['decode'](buffer)\n</code></pre>\n\n<p>But you mentioned it did not. Your workaround of setting an intermediate variable works fine:</p>\n\n<pre><code>var decoder: any = pb[\"decode\"];\ndecoder(buffer);\n</code></pre>\n\n<p>This code is similar to the other workaround, which is to just declare <code>pb</code> as <code>any</code>. The following code does this inline:</p>\n\n<pre><code>(&lt;any&gt;pb).decode(buffer);\n</code></pre>\n\n<p>This code is basically telling the TypeScript compiler to \"just pretend <code>pb</code> is something that has a <code>decode</code> method, or whatever\". </p>\n"}], "owner": {"reputation": 216, "user_id": 652120, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/9c14a51f82e0a78918ae655a77942279?s=128&d=identicon&r=PG", "display_name": "Chris", "link": "https://stackoverflow.com/users/652120/chris"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4332, "favorite_count": 0, "accepted_answer_id": 37264214, "answer_count": 1, "score": 3, "last_activity_date": 1463437448, "creation_date": 1462226577, "last_edit_date": 1462229813, "question_id": 36992363, "link": "https://stackoverflow.com/questions/36992363/basic-typescript-example-of-using-protobufjs", "title": "Basic typescript example of using protobufjs", "body": "<p>I'm currently implementing some protocol buffers translation in my typescript project. I've gotten the proto files loaded into the ProtoBuilder (using the typescript definitions file from <a href=\"https://github.com/DefinitelyTyped/DefinitelyTyped/tree/master/protobufjs\" rel=\"nofollow\">protobufjs.d.ts</a>) and I've returned a ProtoBuf from the builder.</p>\n\n<p>If I set a breakpoint after I have the ProtoBuf object in a variable named pb, I can call pb.decode(buffer) in the console and it works. TypeScript, however, doesn't like the syntax.</p>\n\n<p>After much poking and prodding, including trying things like: </p>\n\n<pre><code>pb[\"decode\"](buffer)\n</code></pre>\n\n<p>(This gives Error TS2349 Cannot invoke an expression whose type lacks a call signature.)</p>\n\n<p>I still cannot get the TypeScript compiler like the code.</p>\n\n<p>How do I get from a TypeScript ProtoBuf object to the decode function buried within the MetaMessage object?</p>\n\n<p>If it matters, I'm in Visual Studio 2015 doing this.</p>\n\n<p>edit:\nI can get around the problem using:</p>\n\n<pre><code>var decoder: any = pb[\"decode\"];\ndecoder(buffer);\n</code></pre>\n\n<p>But I would prefer a more elegant solution if one exists.</p>\n"}, {"tags": ["javascript", "angularjs", "typescript"], "answers": [{"comments": [{"owner": {"reputation": 385, "user_id": 2339814, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b285ee226e0b5497273bb8403e556f10?s=128&d=identicon&r=PG", "display_name": "user2339814", "link": "https://stackoverflow.com/users/2339814/user2339814"}, "edited": false, "score": 0, "creation_date": 1462283773, "post_id": 36994164, "comment_id": 61564815, "body": "This is exactly what I needed!  I intentionally left out error handling for brevity and can handle that myself.  I just needed some direction to make it generic since all of the resources I found expect that you have a known number of promise chains."}], "tags": [], "owner": {"reputation": 176, "user_id": 3524678, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6f70d7e92235501d986841f9e7cd5847?s=128&d=identicon&r=PG&f=1", "display_name": "jrossi", "link": "https://stackoverflow.com/users/3524678/jrossi"}, "is_accepted": true, "score": 1, "last_activity_date": 1462238940, "creation_date": 1462238940, "answer_id": 36994164, "question_id": 36991608, "link": "https://stackoverflow.com/questions/36991608/flatten-synchronous-angular-promises/36994164#36994164", "title": "Flatten Synchronous Angular Promises", "body": "<p>One way to do it is to use a recursive function that calls itself with a slice of the original list after each async operation completes. Below is a sample implementation. Note that <code>processChunks</code> calls itself after each async operation.</p>\n\n<p>This implementation does not account for when the async method fails. It does not include any way to know when all chunks have finished loading. For the latter, you'd have to add some logic to determine when the last chunk is done loading.</p>\n\n<pre><code>class YourClass {\n\n    loadPerformanceDtos(): ng.IPromise&lt;{}&gt; {\n        this.loadDeferred = this.$q.defer();\n\n        var requestedClients: string|string[] = this.$location.search().client;\n\n        var clientList: string[];\n        if (!angular.isArray(requestedClients)) {\n            clientList = [requestedClients];\n        } else {\n            clientList = requestedClients;\n        }\n\n        clientList.sort();\n        this.performanceDtoModels = [];\n        this.processChunks(clientList, 10);\n    }\n\n    processChunks(list: string[], size: number) {\n        var chunk = list.slice(0, size);\n\n        // Resolve the initial page's progress bar\n        if (this.performanceDtoModels.length &gt; 0) {\n            this.loadDeferred.resolve();\n        }\n\n        if (chunk.length &gt; 0) {\n            this.processChunk(chunk).then(() =&gt; {\n                this.processChunks(list.slice(size), size);\n            });\n        }\n\n    }\n\n    processChunk(chunk: string[]) {\n        var deferred = this.$q.defer();\n\n        if (chunk.length === 0) {\n            deferred.resolve();\n        }\n        else {\n            this.performanceService.loadPerformanceData(chunk)\n                .success((data: IPerformanceDtoModel[]) =&gt; {\n                    data.forEach((item) =&gt; {\n                        this.performanceDtoModels.push(item);\n                    });\n\n                deferred.resolve();\n            });\n        }\n\n        return deferred.promise;\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 385, "user_id": 2339814, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b285ee226e0b5497273bb8403e556f10?s=128&d=identicon&r=PG", "display_name": "user2339814", "link": "https://stackoverflow.com/users/2339814/user2339814"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 77, "favorite_count": 0, "accepted_answer_id": 36994164, "answer_count": 1, "score": 1, "last_activity_date": 1462271129, "creation_date": 1462222813, "question_id": 36991608, "link": "https://stackoverflow.com/questions/36991608/flatten-synchronous-angular-promises", "title": "Flatten Synchronous Angular Promises", "body": "<p>How can I run a series of promises synchronously such that the second promise is not executed until the first one is done?  Here I'm loading three chunks of data, each 10 clients long, then loading the rest.  The idea here is that go ahead and display the first N clients while the rest are loading.</p>\n\n<p>What I don't want is to have to explicitly say processChunk1().then(() => processChunk2()) etc. like I have below.  I want it to process the chunks in a loop until there are no more clients left.  Any help would be appreciated!</p>\n\n<pre><code>loadPerformanceDtos(): ng.IPromise&lt;{}&gt; {\n    var deferred = this.$q.defer();\n    var clientList: any = [];\n\n    $.extend(clientList, this.$location.search().client);\n\n    // If the user only searched for one client, we need to turn it into an array\n    if (!angular.isArray(clientList)) {\n        clientList = [clientList];\n    }\n\n    var that = this;\n\n    // Sort so we can chunk it\n    var sortedClients: string[] = (&lt;string[]&gt;clientList).sort();\n    const chunkSize: number = 10;\n\n    // Reset page's data\n    this.performanceDtoModels = [];\n\n    // Set up three chunks to load in order\n    var chunk1: string[] = sortedClients.splice(0, chunkSize);\n    var chunk2: string[] = sortedClients.splice(0, chunkSize);\n    var chunk3: string[] = sortedClients.splice(0, chunkSize);\n\n    // I don't want to have to explicitly define the groups below, I want this to be in a loop\n    processChunk(chunk1).then(() =&gt; {\n        // Resolve the inital page's progress bar\n        deferred.resolve();\n\n        processChunk(chunk2).then(() =&gt; {\n            processChunk(chunk3).then(() =&gt; {\n                processChunk(sortedClients);\n            });\n        });\n    });\n\n    function processChunk(chunk: string[]) {\n        var chunkDeferred = that.$q.defer();\n        if (chunk.length === 0) {\n            chunkDeferred.resolve();\n        } else {\n            that.performanceService.loadPerformanceData(chunk)\n                .success((data: IPerformanceDtoModel[]) =&gt; {\n                    data.forEach((item: IPerformanceDtoModel) =&gt; {\n                        // Add the final item to the page\n                        that.performanceDtoModels.push(item);\n                    });\n\n                    chunkDeferred.resolve();\n                });\n        }\n        return chunkDeferred.promise;\n    }\n\n    return deferred.promise;\n}\n</code></pre>\n"}, {"tags": ["html", "node.js", "path", "typescript", "server"], "answers": [{"comments": [{"owner": {"reputation": 491, "user_id": 5948153, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/8171c725480a3a0da8472e4e74d98fae?s=128&d=identicon&r=PG&f=1", "display_name": "eduardogbg", "link": "https://stackoverflow.com/users/5948153/eduardogbg"}, "edited": false, "score": 0, "creation_date": 1462234485, "post_id": 36992151, "comment_id": 61541221, "body": "Exactly what I was looking for. See, I only quoted TS and Node so people could know how to read the code. However, the solution wanted was a structural one.  I knew all along that multiple ports were pretty clunky, so the &#39;IncomingMessage.url&#39; advice was indeed helpful. I&#39;ll show you how the code ended up. There&#39;s still room to improvement, but is surely better."}], "tags": [], "owner": {"reputation": 8273, "user_id": 68051, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/8a1aabc40d859fcb786eb4d28b95d299?s=128&d=identicon&r=PG", "display_name": "Tim Perry", "link": "https://stackoverflow.com/users/68051/tim-perry"}, "is_accepted": true, "score": 1, "last_activity_date": 1462226104, "last_edit_date": 1462226104, "creation_date": 1462225388, "answer_id": 36992151, "question_id": 36991599, "link": "https://stackoverflow.com/questions/36991599/node-js-my-html-requires-an-image/36992151#36992151", "title": "Node.js: My HTML requires an image", "body": "<p><strong>Short answer:</strong></p>\n\n<p>You won't be able to refer to specific resources on the server (such as your image) unless your server knows how to respond to those requests for that content. It looks like you can probably make your example work easily immediately though by changing the image src to just <code>http://localhost:8000</code> though.</p>\n\n<p><strong>Longer answer:</strong></p>\n\n<p>Using 'doc/kmCNHkq.jpg' as the src for your image tells your browser that when it loads the page, it should go to the server it got the page from, and ask it for the 'doc/kmCNHkq.jpg' resource. If you specify a full URL including the protocol (the http://) then it will be absolute, instead of relative, so you can request from a different server than the one that served the page.  </p>\n\n<p>The servers that you've written don't actually look at the path of the file that's requested though (<code>req.url</code>), and actually they just always return the same content. If you connect to <code>http://localhost:80</code> (the third server you've created above), and do request that jpg you'll still just get given the same HTML data of the page, because it just runs the two lines in your createServer call at the end of your example. You have written a server that always returns the image however above (the first server), just running on a different port, which is why the above solution works.</p>\n\n<p>Just using that existing server is the simplest solution. The far more conventional approach though is to have just a single HTTP server running on a single port (instead of the 3 you have) and to use <code>req.url</code> to decide what data to return.</p>\n\n<p>Traditionally for static content that means mapping a requested path directly onto the layout of the files on disk, so that requesting doc/abc.jpg looks for a doc folder in the server's directory, and returns the data from abc.jpg therein. That's not required necessarily at all though, and your server can interpret those paths however you like, to return content from anywhere.</p>\n\n<p>(Note than none of this is really anything to do with TypeScript, or even much to do with Node.js. This is really just the essentials of how HTTP servers and browsers interact, and it would be almost identical with any other backing technology. I'd take a look more into the general HTTP and browser details if you're looking to get more background on this.)</p>\n"}], "owner": {"reputation": 491, "user_id": 5948153, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/8171c725480a3a0da8472e4e74d98fae?s=128&d=identicon&r=PG&f=1", "display_name": "eduardogbg", "link": "https://stackoverflow.com/users/5948153/eduardogbg"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 66, "favorite_count": 0, "accepted_answer_id": 36992151, "answer_count": 1, "score": 0, "last_activity_date": 1462234876, "creation_date": 1462222772, "last_edit_date": 1462234876, "question_id": 36991599, "link": "https://stackoverflow.com/questions/36991599/node-js-my-html-requires-an-image", "title": "Node.js: My HTML requires an image", "body": "<p>See, I was training with Node (and TS btw), and tried to do a trivial server with multiple request/response options. But I have a problem I don't know how to solve without using Express (at least for now I don't want to use it). </p>\n\n<p>I have a HTML file which requests an image file. While in the IDE, everything looks like it's going to work, but when the server is running, the image cannot be found. It's kind of obvious why: The HTML makes a request the server doesn't know how to handle. Thing is, I thought the document could refer to other files without the need of talking to the server.</p>\n\n<p>What is an elegant and working solution for my problem?</p>\n\n<p>Thanks in advance.</p>\n\n<pre><code>import * as http from 'http'\nimport * as fs from 'fs'\n\nfs.readFile('doc/kmCNHkq.jpg', function (err, data) {\n    let binaryimg = new Buffer(data).toString('base64'); \n    if (err) throw err;\n\n    http.createServer(function (req, res) {\n        res.writeHead(200, {'Content-Type': 'image/jpeg'});\n        res.end(data);\n        console.log(\"Delivered the jpeg\");\n    }).listen(8000); \n\n    http.createServer(function(req, res) {\n        res.writeHead(200, {'Content-Type': 'text/plain'});\n        res.end(binaryimg);\n        console.log(\"Delivered base64 string\");\n    }).listen(8124);\n\n    console.log(\"Unless bug, both servers are listening\");\n});\n\nfs.readFile('doc/index.html', function(err, data) {\n    http.createServer(function(req,res) {\n        res.writeHead(200, {'Content-Type': 'text/html'});\n        res.end(data)\n    }).listen(80);\n    console.log(\"HTML server is running\")\n})\n</code></pre>\n\n<p>(main.ts; Targets ES6)</p>\n\n<pre><code>&lt;html&gt;\n    &lt;head&gt;\n\n    &lt;/head&gt;\n\n    &lt;body&gt;\n        &lt;img src=\"doc/kmCNHkq.jpg\"/&gt;\n    &lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p>(index.html)</p>\n\n<p>Observation: I used to leave the HTML file in '../doc/' and resources on '../img/' however it seems that the HTML uses relative paths, so I copied the image into HTML's folder. If the solution also made it so I could leave the resources on their's respective folders it would be much appreciated.</p>\n\n<p>@Edit: \nNow I'm using this switch/case request handler. Working as expected, the HTML's request for the image is interpreted as a normal request (which may not end up scaling well, idk, but screw it). Thanks a lot!</p>\n\n<pre><code>import * as http from 'http'\nimport * as fs from 'fs'\n\nvar stream: fs.ReadStream,\n    folder = __dirname.substr(0, __dirname.length - 3);\n\nhttp.createServer(function(req,res) {\n    switch (req.url){\n        case('/jpeg'):\n            stream = fs.createReadStream(folder + 'img/kmCNHkq.jpg');\n            stream.pipe(res);\n\n            console.log(\"Delivering the jpeg\");\n            break;\n\n        case('/base64'):\n            fs.readFile('img/kmCNHkq.jpg', function (err, data) {\n                let img64 = new Buffer(data).toString('base64');\n                if (err) throw err;\n                res.end(img64);\n\n                console.log(\"Delivered base64 string\");\n            })\n\n            break;\n\n        case('/html'):\n            stream = fs.createReadStream(folder + 'doc/index.html');\n            stream.pipe(res);\n\n            console.log(\"Sending the docs\");\n            break;\n\n        default:\n            console.log(\"Shit happens\");\n    }\n}).listen(80)\n</code></pre>\n\n<p>(main.ts)</p>\n\n<pre><code>&lt;html&gt;    \n    &lt;body&gt;\n        &lt;img src=\"jpeg\"/&gt;\n    &lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p>(index.html)</p>\n"}, {"tags": ["typescript"], "answers": [{"comments": [{"owner": {"reputation": 23145, "user_id": 2788872, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/a2616878b8bfb95d8fbb8a63ad18d729?s=128&d=identicon&r=PG&f=1", "display_name": "John Weisz", "link": "https://stackoverflow.com/users/2788872/john-weisz"}, "edited": false, "score": 0, "creation_date": 1462281023, "post_id": 36990702, "comment_id": 61562586, "body": "The side effect of this otherwise well-worded answer is that it opens a new perspective for when it&#39;s time to decide whether it&#39;s multiple overload signatures or union types that provide a more robust usability experience."}], "tags": [], "owner": {"reputation": 80876, "user_id": 188246, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/bTzLq.jpg?s=128&g=1", "display_name": "David Sherret", "link": "https://stackoverflow.com/users/188246/david-sherret"}, "is_accepted": true, "score": 2, "last_activity_date": 1462219993, "last_edit_date": 1462219993, "creation_date": 1462219261, "answer_id": 36990702, "question_id": 36990592, "link": "https://stackoverflow.com/questions/36990592/union-type-not-accepted-by-compatible-overloads-in-typescript/36990702#36990702", "title": "Union type not accepted by compatible overloads in TypeScript", "body": "<p>Making union types work with multiple overloads wasn't something that the TypeScript team thought was worth implementing (<a href=\"https://github.com/Microsoft/TypeScript/issues/1805\" rel=\"nofollow\">See here</a>). They figured that people should instead \"never write a series of overloads which have an equivalent representation in union types\", but currently that's not what <code>DateConstructor</code> does in <em>lib.d.ts</em>:</p>\n\n<pre><code>interface DateConstructor {\n    new (): Date;\n    new (value: number): Date;\n    new (value: string): Date;\n    // ... etc...\n}\n</code></pre>\n\n<p>You can do an assertion to one of the types to make this work:</p>\n\n<pre><code>if (typeof value === \"string\" || typeof value === \"number\") {\n    object = new Date(value as string);\n}\n</code></pre>\n\n<p>Or create a new signature with a union type for <code>DateConstructor</code>:</p>\n\n<pre><code>interface DateConstructor {\n    new (value: number | string): Date;\n}\n</code></pre>\n\n<p>Which is actually what they should do in <code>lib.d.ts</code>...</p>\n"}, {"tags": [], "owner": {"reputation": 474, "user_id": 3469752, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c0baa67c6de06d6f2dfde4133a3d1bc1?s=128&d=identicon&r=PG&f=1", "display_name": "ryano.mcc13", "link": "https://stackoverflow.com/users/3469752/ryano-mcc13"}, "is_accepted": false, "score": 0, "last_activity_date": 1462219355, "creation_date": 1462219355, "answer_id": 36990728, "question_id": 36990592, "link": "https://stackoverflow.com/questions/36990592/union-type-not-accepted-by-compatible-overloads-in-typescript/36990728#36990728", "title": "Union type not accepted by compatible overloads in TypeScript", "body": "<p>First off, I think you need to use the <code>instanceof</code> operator, but I'm not 100% sure on this. Secondly, because your checking for both types in one condition, the value within that code block is still considered the union type <code>number|string</code>. If you take a look at the <code>DateConstructor</code> interface in <a href=\"https://github.com/Microsoft/TypeScript/blob/master/lib/lib.d.ts#L792\" rel=\"nofollow\">lib.d.ts</a>, there is no overload that takes that union type, there is an overload that takes a string and an overload that takes a number. So you will have to test each type individually.</p>\n"}], "owner": {"reputation": 23145, "user_id": 2788872, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/a2616878b8bfb95d8fbb8a63ad18d729?s=128&d=identicon&r=PG&f=1", "display_name": "John Weisz", "link": "https://stackoverflow.com/users/2788872/john-weisz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 253, "favorite_count": 0, "accepted_answer_id": 36990702, "answer_count": 2, "score": 2, "last_activity_date": 1462219993, "creation_date": 1462218822, "question_id": 36990592, "link": "https://stackoverflow.com/questions/36990592/union-type-not-accepted-by-compatible-overloads-in-typescript", "title": "Union type not accepted by compatible overloads in TypeScript", "body": "<p>There is the <code>Date</code> object, which can be instantiated with both a <code>number</code> or a <code>string</code>:</p>\n\n<pre><code>new Date(\"...\");\nnew Date(123456);\n</code></pre>\n\n<p>Even though both types are supported, the union type <code>string|number</code> is not:</p>\n\n<pre><code>if (typeof value === \"string\" || typeof value === \"number\") {\n    object = new Date(value); // Error.\n}\n</code></pre>\n\n<blockquote>\n  <p>Argument of type 'string | number' is not assignable to parameter of type 'string'. Type 'number' is not assignable to type 'string'.</p>\n</blockquote>\n\n<p>What's the reasoning behind this? I know I could make an <code>if ... else</code> chain, but I don't see the point. If the type of a value is one of two types, and both of those types are accepted, why can't I use it?</p>\n"}, {"tags": ["css", "typescript", "angular"], "comments": [{"owner": {"reputation": 483726, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1462212701, "post_id": 36988849, "comment_id": 61532066, "body": "Do you get any errors in the browser console?"}, {"owner": {"reputation": 8393, "user_id": 4341439, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/NBPKq.jpg?s=128&g=1", "display_name": "Miha \u0160u\u0161ter\u0161i\u010d", "link": "https://stackoverflow.com/users/4341439/miha-%c5%a0u%c5%a1ter%c5%a1i%c4%8d"}, "reply_to_user": {"reputation": 483726, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1462212758, "post_id": 36988849, "comment_id": 61532090, "body": "No, just the standard message that Angular 2 is running in the development mode"}], "answers": [{"comments": [{"owner": {"reputation": 8393, "user_id": 4341439, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/NBPKq.jpg?s=128&g=1", "display_name": "Miha \u0160u\u0161ter\u0161i\u010d", "link": "https://stackoverflow.com/users/4341439/miha-%c5%a0u%c5%a1ter%c5%a1i%c4%8d"}, "edited": false, "score": 0, "creation_date": 1462261082, "post_id": 36990849, "comment_id": 61549888, "body": "this just brakes the css injection. Angular2 currently only works with relative pathing - check <a href=\"http://stackoverflow.com/questions/35188803/angular-2-external-style-doesnt-get-inlined-to-header\" title=\"angular 2 external style doesnt get inlined to header\">stackoverflow.com/questions/35188803/&hellip;</a>"}, {"owner": {"reputation": 921, "user_id": 2536990, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5c002ce63108f879960ed13082052a7b?s=128&d=identicon&r=PG", "display_name": "IgorL", "link": "https://stackoverflow.com/users/2536990/igorl"}, "reply_to_user": {"reputation": 8393, "user_id": 4341439, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/NBPKq.jpg?s=128&g=1", "display_name": "Miha \u0160u\u0161ter\u0161i\u010d", "link": "https://stackoverflow.com/users/4341439/miha-%c5%a0u%c5%a1ter%c5%a1i%c4%8d"}, "edited": false, "score": 0, "creation_date": 1462262585, "post_id": 36990849, "comment_id": 61550690, "body": "try [&#39;./styles/templateMobile.css&#39;, &#39;./styles/templateOther.css&#39;]"}, {"owner": {"reputation": 8393, "user_id": 4341439, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/NBPKq.jpg?s=128&g=1", "display_name": "Miha \u0160u\u0161ter\u0161i\u010d", "link": "https://stackoverflow.com/users/4341439/miha-%c5%a0u%c5%a1ter%c5%a1i%c4%8d"}, "edited": false, "score": 0, "creation_date": 1462264058, "post_id": 36990849, "comment_id": 61551492, "body": "still the same issue, the css will load, then when I change the route and refresh, it&#39;s not there"}, {"owner": {"reputation": 8393, "user_id": 4341439, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/NBPKq.jpg?s=128&g=1", "display_name": "Miha \u0160u\u0161ter\u0161i\u010d", "link": "https://stackoverflow.com/users/4341439/miha-%c5%a0u%c5%a1ter%c5%a1i%c4%8d"}, "edited": false, "score": 0, "creation_date": 1462350402, "post_id": 36990849, "comment_id": 61595272, "body": "it&#39;s still the same, tried clearing cache, incognito mode, and safari, firefox, chrome. If I start on a different route, or refresh the page while on a different route the template styles do not load"}], "tags": [], "owner": {"reputation": 921, "user_id": 2536990, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5c002ce63108f879960ed13082052a7b?s=128&d=identicon&r=PG", "display_name": "IgorL", "link": "https://stackoverflow.com/users/2536990/igorl"}, "is_accepted": false, "score": 1, "last_activity_date": 1462262632, "last_edit_date": 1462262632, "creation_date": 1462219896, "answer_id": 36990849, "question_id": 36988849, "link": "https://stackoverflow.com/questions/36988849/angular2-does-not-inject-template-css-when-refreshing-the-page/36990849#36990849", "title": "Angular2 does not inject template CSS when refreshing the page", "body": "<p>remove leading '..'?</p>\n\n<pre><code> styleUrls: ['/app/styles/templateMobile.css', '/app/styles/templateOther.css']\n</code></pre>\n\n<p>or relative</p>\n\n<pre><code>['./styles/templateMobile.css', './styles/templateOther.css']\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 8393, "user_id": 4341439, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/NBPKq.jpg?s=128&g=1", "display_name": "Miha \u0160u\u0161ter\u0161i\u010d", "link": "https://stackoverflow.com/users/4341439/miha-%c5%a0u%c5%a1ter%c5%a1i%c4%8d"}, "edited": false, "score": 0, "creation_date": 1462692425, "post_id": 37095509, "comment_id": 61737683, "body": "Hey, the whole reason I&#39;m using view encapsulation is this - <a href=\"http://stackoverflow.com/questions/36224276/angular2-adding-ngcontent-mav-x-to-styles\" title=\"angular2 adding ngcontent mav x to styles\">stackoverflow.com/questions/36224276/&hellip;</a>. So you would suggest that I just use a single stylesheet and apply it to my root component?"}, {"owner": {"reputation": 15500, "user_id": 3125880, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d3e27beedab625639f716f543323d926?s=128&d=identicon&r=PG&f=1", "display_name": "Abdulrahman Alsoghayer", "link": "https://stackoverflow.com/users/3125880/abdulrahman-alsoghayer"}, "reply_to_user": {"reputation": 8393, "user_id": 4341439, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/NBPKq.jpg?s=128&g=1", "display_name": "Miha \u0160u\u0161ter\u0161i\u010d", "link": "https://stackoverflow.com/users/4341439/miha-%c5%a0u%c5%a1ter%c5%a1i%c4%8d"}, "edited": false, "score": 0, "creation_date": 1462692916, "post_id": 37095509, "comment_id": 61737798, "body": "@Miha\u0160u\u0161ter\u0161i\u010d Based on the way you define your styles. I suggest you put it in the index.html just like usual css out of the components. And remove the <code>ViewEncapsulation.None</code> because it only applies if you have css defined in the component."}, {"owner": {"reputation": 15500, "user_id": 3125880, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d3e27beedab625639f716f543323d926?s=128&d=identicon&r=PG&f=1", "display_name": "Abdulrahman Alsoghayer", "link": "https://stackoverflow.com/users/3125880/abdulrahman-alsoghayer"}, "reply_to_user": {"reputation": 8393, "user_id": 4341439, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/NBPKq.jpg?s=128&g=1", "display_name": "Miha \u0160u\u0161ter\u0161i\u010d", "link": "https://stackoverflow.com/users/4341439/miha-%c5%a0u%c5%a1ter%c5%a1i%c4%8d"}, "edited": false, "score": 0, "creation_date": 1462693043, "post_id": 37095509, "comment_id": 61737826, "body": "@Miha\u0160u\u0161ter\u0161i\u010d in other words, if you have a component that you want to isolate from the global css defined in <code>index.html</code>. Add some styles to either <code>styles</code> or <code>styleUrls</code>. If you don&#39;t want it to be isolated, don&#39;t add any styles to it ."}, {"owner": {"reputation": 8393, "user_id": 4341439, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/NBPKq.jpg?s=128&g=1", "display_name": "Miha \u0160u\u0161ter\u0161i\u010d", "link": "https://stackoverflow.com/users/4341439/miha-%c5%a0u%c5%a1ter%c5%a1i%c4%8d"}, "edited": false, "score": 0, "creation_date": 1462693357, "post_id": 37095509, "comment_id": 61737903, "body": "Well for this project it works, since I only have 3 stylesheets that are no really big - I can just put all the definitions in a single file to limit http requests. But what happens if you build a big app that has 40+ stylesheets? In that case it would make much more sense to apply styles to components separately, but I can&#39;t find a way to do this without viewencapsulation and absolute paths"}, {"owner": {"reputation": 15500, "user_id": 3125880, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d3e27beedab625639f716f543323d926?s=128&d=identicon&r=PG&f=1", "display_name": "Abdulrahman Alsoghayer", "link": "https://stackoverflow.com/users/3125880/abdulrahman-alsoghayer"}, "reply_to_user": {"reputation": 8393, "user_id": 4341439, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/NBPKq.jpg?s=128&g=1", "display_name": "Miha \u0160u\u0161ter\u0161i\u010d", "link": "https://stackoverflow.com/users/4341439/miha-%c5%a0u%c5%a1ter%c5%a1i%c4%8d"}, "edited": false, "score": 0, "creation_date": 1462693953, "post_id": 37095509, "comment_id": 61738022, "body": "@Miha\u0160u\u0161ter\u0161i\u010d you can always do what you were doing before in addition to a global css. All you need to keep in mind is the classes that will be used globally. i.e. <code>appContainer</code> you need it throughout the app, right ? then put on the global css. Any specific styles you can put them in their component."}], "tags": [], "owner": {"reputation": 15500, "user_id": 3125880, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d3e27beedab625639f716f543323d926?s=128&d=identicon&r=PG&f=1", "display_name": "Abdulrahman Alsoghayer", "link": "https://stackoverflow.com/users/3125880/abdulrahman-alsoghayer"}, "is_accepted": true, "score": 10, "last_activity_date": 1462674000, "last_edit_date": 1462674000, "creation_date": 1462673362, "answer_id": 37095509, "question_id": 36988849, "link": "https://stackoverflow.com/questions/36988849/angular2-does-not-inject-template-css-when-refreshing-the-page/37095509#37095509", "title": "Angular2 does not inject template CSS when refreshing the page", "body": "<p>I cloned your repo, your styles are loading fine. The issue you are having is not related to CSS injection. It's related to \"if you don't mind me saying\" bad design and not using ViewEncapsulation.</p>\n\n<p>Before I explain the issue, I have to say that in your current way of using CSS, you will be better of using one global CSS file.</p>\n\n<p><strong>Explanation</strong><br>\nWhen you don't use view encapsulation, every CSS you import will stick in the page until you refresh it. It will never be removed. And it will be applied to any element on the page that it applies to. And because it's inserted only when you visit the corresponding <code>component/route</code>, when you refresh the page, some CSS doesn't get injected into the page because you haven't visited the component it was on.</p>\n\n<p>I will take the class <code>appContainer</code> as an example to help explaining the problem.</p>\n\n<p>In <code>styles/landingOther.css</code> you have:</p>\n\n<pre><code>.appContainer {\n    width: 60%;\n}\n</code></pre>\n\n<p>Because your default route is <code>/landing</code>, when you visit the page <code>http://localhost:3000/</code>, the <code>.appContainer</code> class will be injected to the page and will stay on the page until you refresh. So, when you route to <code>/portfolio</code>, appContainer is still injected in the page and it will get applied. But, when you directly go to <code>http://localhost:3000/portfolio</code>, the <code>landing</code> component is never visited, therefore the <code>.appContainer</code> class was never injected in the page so it will not get applied. And same goes for other classes. I hope you get the logic.</p>\n\n<p>Also, a semi-related note, the css file name in your <code>portfolio.component.ts</code> is wrong. It's in capital case while the actual file is small cased. </p>\n"}], "owner": {"reputation": 8393, "user_id": 4341439, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/NBPKq.jpg?s=128&g=1", "display_name": "Miha \u0160u\u0161ter\u0161i\u010d", "link": "https://stackoverflow.com/users/4341439/miha-%c5%a0u%c5%a1ter%c5%a1i%c4%8d"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 6935, "favorite_count": 2, "accepted_answer_id": 37095509, "answer_count": 2, "score": 14, "last_activity_date": 1588827250, "creation_date": 1462212570, "last_edit_date": 1462350586, "question_id": 36988849, "link": "https://stackoverflow.com/questions/36988849/angular2-does-not-inject-template-css-when-refreshing-the-page", "title": "Angular2 does not inject template CSS when refreshing the page", "body": "<p>I have an app which uses the selector <code>portfolio-app</code> and has 2 stylesheets - <code>'../app/styles/templateMobile.css', '../app/styles/templateOther.css'</code></p>\n\n<p>Now when I open my app from the default URL (localhost:3000 ATM), the stylesheets get applied properly. But when I go to a different route, and press refresh (F5), the template styles are not applied to the page. The same thing happens when I start on a different route.</p>\n\n<p>There are no error messages in the console.</p>\n\n<p>I tested this in firefox, chrome and safari, incognito mode and with clearing the browser cache. I also tested on a LG G2, iPhone, iPad and various android emulators (Nexus 9, Nexus 10, Galaxy Nexus). All the time the result is the same.</p>\n\n<p>app.component:</p>\n\n<pre><code>import { Component } from 'angular2/core';\nimport {ViewEncapsulation} from 'angular2/core';\nimport { ROUTER_PROVIDERS, ROUTER_DIRECTIVES, RouteConfig } from 'angular2/router';\n\nimport { LandingComponent } from './landing.component';\nimport { PortfolioComponent } from './portfolio.component';\nimport { PagesService } from './pages.service';\n\n@Component({\n    selector: 'portfolio-app',\n    templateUrl: '/app/views/template.html',\n    styleUrls: ['../app/styles/templateMobile.css', '../app/styles/templateOther.css'],\n    encapsulation: ViewEncapsulation.None,\n    directives: [ROUTER_DIRECTIVES],\n    providers: [ROUTER_PROVIDERS, PagesService]\n})\n\n@RouteConfig([\n    { path: '/landing', name: 'Landing', component: LandingComponent, useAsDefault: true },\n    { path: '/portfolio', name: 'Portfolio', component: PortfolioComponent }\n])\n\nexport class AppComponent {\n    landing = true;\n    portfolio = false;\n\n    changeMiniNavLanding = function () {\n        this.landing = true;\n        this.portfolio = false;\n    }\n\n    changeMiniNavPortfolio = function () {\n        this.landing = false;\n        this.portfolio = true;\n    }\n}\n</code></pre>\n\n<p>main.ts :</p>\n\n<pre><code>import {bootstrap}    from 'angular2/platform/browser';\nimport {AppComponent} from './app.component';\n\nbootstrap(AppComponent);\n</code></pre>\n\n<p>If you need additional information, please ask, or browse trough the <a href=\"https://github.com/Shooshte/PortfolioV3\">gitHub</a> repository. (all relevant files are in the app folder).</p>\n\n<p>Thanks for the help.\n\u00a0</p>\n"}, {"tags": ["javascript", "typescript", "angular"], "comments": [{"owner": {"reputation": 483726, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1462212654, "post_id": 36988843, "comment_id": 61532040, "body": "Where does <code>this.injector</code> come from?"}, {"owner": {"reputation": 601, "user_id": 2957437, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/XZdkl.jpg?s=128&g=1", "display_name": "BrentShanahan", "link": "https://stackoverflow.com/users/2957437/brentshanahan"}, "reply_to_user": {"reputation": 483726, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1462213224, "post_id": 36988843, "comment_id": 61532339, "body": "Edited to reflect where this.injector is coming from. My use of DynamicComponentLoader was pulled from the example on the Angular2 site: <a href=\"https://angular.io/docs/js/latest/api/core/DynamicComponentLoader-class.html\" rel=\"nofollow noreferrer\">angular.io/docs/js/latest/api/core/&hellip;</a>"}, {"owner": {"reputation": 483726, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1462213274, "post_id": 36988843, "comment_id": 61532369, "body": "Have you tried not passing the injector?"}, {"owner": {"reputation": 601, "user_id": 2957437, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/XZdkl.jpg?s=128&g=1", "display_name": "BrentShanahan", "link": "https://stackoverflow.com/users/2957437/brentshanahan"}, "reply_to_user": {"reputation": 483726, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1462213619, "post_id": 36988843, "comment_id": 61532525, "body": "Yes, it gives the same error. I&#39;m wondering if using LoadNextToLocation instead of LoadAsRoot would work with ModelService placed in the providers location? I think I need to dig into the code base to understand what DynamicComponentLoader is actually doing."}, {"owner": {"reputation": 483726, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 1, "creation_date": 1462213783, "post_id": 36988843, "comment_id": 61532601, "body": "<code>loadAsRoot</code> is built only for bootstrapping root. For DCL you can have a look at <a href=\"http://stackoverflow.com/questions/36325212/angular-2-dynamic-tabs-with-user-click-chosen-components/36325468#36325468\" title=\"angular 2 dynamic tabs with user click chosen components\">stackoverflow.com/questions/36325212/&hellip;</a> (beta.16 version). For making <code>loadAsRoot</code> work see <a href=\"https://github.com/angular/angular/issues/6370#issuecomment-193896657\" rel=\"nofollow noreferrer\">github.com/angular/angular/issues/6370#issuecomment-19389665&zwnj;&#8203;7</a>"}, {"owner": {"reputation": 601, "user_id": 2957437, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/XZdkl.jpg?s=128&g=1", "display_name": "BrentShanahan", "link": "https://stackoverflow.com/users/2957437/brentshanahan"}, "reply_to_user": {"reputation": 483726, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1462214677, "post_id": 36988843, "comment_id": 61533099, "body": "Great information, thank you!"}], "owner": {"reputation": 601, "user_id": 2957437, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/XZdkl.jpg?s=128&g=1", "display_name": "BrentShanahan", "link": "https://stackoverflow.com/users/2957437/brentshanahan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 109, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1462213174, "creation_date": 1462212556, "last_edit_date": 1462213174, "question_id": 36988843, "link": "https://stackoverflow.com/questions/36988843/injectable-in-dynamiccomponentloader-error-angular2", "title": "Injectable in DynamicComponentLoader error - Angular2", "body": "<p>I'm dynamically loading components into my menu bar using <code>DynamicComponentLoader</code>. </p>\n\n<p>This is what my component class looks like:</p>\n\n<pre><code>@Component({\n  selector: 'create-submenu-component',\n  templateUrl: 'common/create/create.component.html',\n  styleUrls: ['common/create/create.component.css'],\n  directives: [CreateAssetComponent]\n})\nexport class CreateSubmenuComponent {\n  public model: Model;\n\n  constructor(private _modelService:ModelService, public http: Http) {\n    this.model = this._modelService.getModel();\n  }\n}\n</code></pre>\n\n<p>And the dynamic component creation method:</p>\n\n<pre><code>constructor(public injector:Injector){}\n\nloadCreateSubMenu(){\n  this.dcl.loadAsRoot(CreateSubmenuComponent, '#Create', this.injector);\n}\n</code></pre>\n\n<p>When I'm trying to load the component that contains the Service I'm getting the following error:</p>\n\n<p><code>Cannot resolve all parameters for 'CreateSubmenuComponent'(undefined, Http). Make sure that all the parameters are decorated with Inject or have valid type annotations and that 'CreateSubmenuComponent' is decorated with Injectable.</code></p>\n\n<p>The Service being injected is showing up as undefined. Submenu Components that do not rely on a Service load fine. How do I inject the service into the dynamically created component?</p>\n"}, {"tags": ["typescript"], "answers": [{"comments": [{"owner": {"reputation": 21585, "user_id": 160527, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/f2af00f8b669405a2a068ddae153ff48?s=128&d=identicon&r=PG", "display_name": "Corey Ogburn", "link": "https://stackoverflow.com/users/160527/corey-ogburn"}, "edited": false, "score": 0, "creation_date": 1462213491, "post_id": 36988526, "comment_id": 61532465, "body": "This is what I&#39;m after! Just that <code>sketches</code> isn&#39;t optional but that&#39;s an easy fix."}], "tags": [], "owner": {"reputation": 118994, "user_id": 942852, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/secsn.jpg?s=128&g=1", "display_name": "Nitzan Tomer", "link": "https://stackoverflow.com/users/942852/nitzan-tomer"}, "is_accepted": false, "score": 2, "last_activity_date": 1462211445, "creation_date": 1462211445, "answer_id": 36988526, "question_id": 36988036, "link": "https://stackoverflow.com/questions/36988036/define-interface-as-any-but-with-guaranteed-properties/36988526#36988526", "title": "Define interface as any but with guaranteed properties?", "body": "<p>If I understand you correctly:</p>\n\n<pre><code>interface Photos {\n    primary: string;\n    [name: string]: string;\n}\n\ninterface PropertyImageIndex {\n    photos: Photos;\n    sketches?: { [name: string]: string };\n}\n\nlet a: Photos = {}; // error\nlet b: Photos = { primary: \"\" };\nlet c: Photos = { primary: \"\", a: 3 }; // error\nlet d: Photos = { primary: \"\", a: \"\" };\n\nlet e: PropertyImageIndex = { photos: { primary: \"\" } };\nlet f: PropertyImageIndex = { photos: { primary: \"\" }, sketches: {} };\nlet g: PropertyImageIndex = { photos: { primary: \"\" }, sketches: { key: \"\" } };\nlet h: PropertyImageIndex = { photos: { primary: \"\" }, sketches: { key: 4 } }; // error\n</code></pre>\n\n<p><a href=\"https://www.typescriptlang.org/play/#src=interface%20Photos%20%7B%0A%09primary%3A%20string%3B%0A%09%5Bname%3A%20string%5D%3A%20string%3B%0A%7D%0A%0Ainterface%20PropertyImageIndex%20%7B%0A%09photos%3A%20Photos%3B%0A%09sketches%3F%3A%20%7B%20%5Bname%3A%20string%5D%3A%20string%20%7D%3B%0A%7D%0A%0Alet%20a%3A%20Photos%20%3D%20%7B%7D%3B%0Alet%20b%3A%20Photos%20%3D%20%7B%20primary%3A%20%22%22%20%7D%3B%0Alet%20c%3A%20Photos%20%3D%20%7B%20primary%3A%20%22%22%2C%20a%3A%203%20%7D%3B%0Alet%20d%3A%20Photos%20%3D%20%7B%20primary%3A%20%22%22%2C%20a%3A%20%22%22%20%7D%3B%0A%0Alet%20e%3A%20PropertyImageIndex%20%3D%20%7B%20photos%3A%20%7B%20primary%3A%20%22%22%20%7D%20%7D%3B%0Alet%20f%3A%20PropertyImageIndex%20%3D%20%7B%20photos%3A%20%7B%20primary%3A%20%22%22%20%7D%2C%20sketches%3A%20%7B%7D%20%7D%3B%0Alet%20g%3A%20PropertyImageIndex%20%3D%20%7B%20photos%3A%20%7B%20primary%3A%20%22%22%20%7D%2C%20sketches%3A%20%7B%20key%3A%20%22%22%20%7D%20%7D%3B%0Alet%20h%3A%20PropertyImageIndex%20%3D%20%7B%20photos%3A%20%7B%20primary%3A%20%22%22%20%7D%2C%20sketches%3A%20%7B%20key%3A%204%20%7D%20%7D%3B\" rel=\"nofollow\">playground</a></p>\n"}], "owner": {"reputation": 21585, "user_id": 160527, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/f2af00f8b669405a2a068ddae153ff48?s=128&d=identicon&r=PG", "display_name": "Corey Ogburn", "link": "https://stackoverflow.com/users/160527/corey-ogburn"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 54, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1462211445, "creation_date": 1462209658, "question_id": 36988036, "link": "https://stackoverflow.com/questions/36988036/define-interface-as-any-but-with-guaranteed-properties", "title": "Define interface as any but with guaranteed properties?", "body": "<p>I'm hitting an API that returns a list of images in the following structure:</p>\n\n<pre><code>{\n  \"photos\": {\n    \"1\": \"PHOTOS/1.jpg\",\n    \"3\": \"PHOTOS/3.jpg\",\n    \"4\": \"PHOTOS/4.jpg\",\n    \"primary\": \"PHOTOS/X/PRI.jpg\"\n  },\n  \"sketches\": {\n    \"1\": \"SKETCHES/X/1.jpg\",\n    \"3\": \"SKETCHES/X/3.jpg\",\n    \"4\": \"SKETCHES/X/4.jpg\"\n  }\n}\n</code></pre>\n\n<p>The basic contract is that <code>photos.primary</code> always exists, all other properties on <code>photos</code> are numerical IDs, and for every ID in <code>photos</code> there's a matching ID in <code>sketches</code>. The IDs are not guaranteed to be continuous.</p>\n\n<p>I would like to set up an interface called something like <code>ImageIndex</code> that knows that <code>photos.primary</code> is a field but also that any other field is acceptable. I know I could just mark photos and sketches as <code>any</code> but for the sake of intellisense I think it'd be worthwhile to define <code>primary</code>'s existence.</p>\n\n<p>I tried using an Intersection type like so:</p>\n\n<pre><code>export interface PropertyImageIndex {\n  photos: ContainsPrimary&amp;any;\n  sketches: any;\n}\n\ninterface ContainsPrimary {\n  primary: string;\n}\n</code></pre>\n\n<p>but when VSCode would normally show it's intellisense suggestions, there's nothing. This seems to indicate that <code>any</code> prevails over the explicit <code>ImageList</code> type of <code>photos</code> and I lose all suggestions.</p>\n\n<p>Is there a way to tell typescript \"this object has AT LEAST these fields, but also has any other fields I might ask it for\" in a way that the guaranteed fields will show up as intellisense suggestions?</p>\n"}, {"tags": ["javascript", "arrays", "loops", "for-loop", "typescript"], "comments": [{"owner": {"reputation": 62814, "user_id": 1209018, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/7THos.gif?s=128&g=1", "display_name": "Rajaprabhu Aravindasamy", "link": "https://stackoverflow.com/users/1209018/rajaprabhu-aravindasamy"}, "edited": false, "score": 2, "creation_date": 1462209272, "post_id": 36987901, "comment_id": 61530245, "body": "<code>1;2;3</code> This is not an array."}, {"owner": {"reputation": 41425, "user_id": 129032, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/e8bea8f9e6972dfd3113d67da68e6933?s=128&d=identicon&r=PG", "display_name": "ssube", "link": "https://stackoverflow.com/users/129032/ssube"}, "edited": false, "score": 1, "creation_date": 1462209289, "post_id": 36987901, "comment_id": 61530256, "body": "Is there a reason you&#39;re trying to splice the array you&#39;re working with, rather than using <code>filter</code> or something?"}, {"owner": {"reputation": 1158, "user_id": 3154111, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/cc375d11cdbd3d2f7babaf22f4101be0?s=128&d=identicon&r=PG", "display_name": "Rando Hinn", "link": "https://stackoverflow.com/users/3154111/rando-hinn"}, "edited": false, "score": 0, "creation_date": 1462209449, "post_id": 36987901, "comment_id": 61530336, "body": "The end result needs to be a returned array, without the duplicates and I have no idea of how to use filter"}, {"owner": {"reputation": 28753, "user_id": 371184, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/cebee1b08fb960edf79a359af330391a?s=128&d=identicon&r=PG", "display_name": "Mike Cluck", "link": "https://stackoverflow.com/users/371184/mike-cluck"}, "edited": false, "score": 0, "creation_date": 1462209455, "post_id": 36987901, "comment_id": 61530341, "body": "FYI, <code>splice</code> changes the contents of the array it&#39;s operating on. So there&#39;s no point in using a return value. Also, arrays are references. So <code>temp === allForToday</code>. Modifications made to <code>temp</code> will also change <code>allForToday</code>."}, {"owner": {"reputation": 1158, "user_id": 3154111, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/cc375d11cdbd3d2f7babaf22f4101be0?s=128&d=identicon&r=PG", "display_name": "Rando Hinn", "link": "https://stackoverflow.com/users/3154111/rando-hinn"}, "reply_to_user": {"reputation": 28753, "user_id": 371184, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/cebee1b08fb960edf79a359af330391a?s=128&d=identicon&r=PG", "display_name": "Mike Cluck", "link": "https://stackoverflow.com/users/371184/mike-cluck"}, "edited": false, "score": 0, "creation_date": 1462209754, "post_id": 36987901, "comment_id": 61530488, "body": "oh, that&#39;s it, thanks @MikeC, now it almost works, after I realized it returns the elements it removed."}, {"owner": {"user_type": "does_not_exist", "display_name": "user663031"}, "edited": false, "score": 0, "creation_date": 1462210746, "post_id": 36987901, "comment_id": 61531028, "body": "Rather than using <code>splice</code> to mutate an array, it&#39;s a <b>much</b> better idea to use things like <code>filter</code> to create a new one. If you don&#39;t know how to use filter, there&#39;s no time like the present. If you insist on using <code>splice</code> in a loop, try iterating backward to eliminate problems causing by the array changing out from under the for loop (besides reading the docs to see how it works)."}], "answers": [{"tags": [], "owner": {"reputation": 5287, "user_id": 186836, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/d7c19b05522666e2a10a903c3bee56ac?s=128&d=identicon&r=PG", "display_name": "thitemple", "link": "https://stackoverflow.com/users/186836/thitemple"}, "is_accepted": true, "score": 0, "last_activity_date": 1462235635, "creation_date": 1462235635, "answer_id": 36993752, "question_id": 36987901, "link": "https://stackoverflow.com/questions/36987901/function-loops-once-then-returns/36993752#36993752", "title": "Function loops once, then returns", "body": "<p>If you just want to remove the duplicates you can use a reducer like so:</p>\n\n<pre><code>var arr = [1, 2, 3, 4, 5, 5, 4, 3, 2, 1];\n\nvar newArr = arr.reduce(function(acc, val) {\n  if(acc.indexOf(val) === -1) {\n    acc.push(val);\n  }\n  return acc;\n}, []);\n\nconsole.log(newArr);\n</code></pre>\n\n<p>The newArr array will contain only the non-duplicate values.</p>\n"}], "owner": {"reputation": 1158, "user_id": 3154111, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/cc375d11cdbd3d2f7babaf22f4101be0?s=128&d=identicon&r=PG", "display_name": "Rando Hinn", "link": "https://stackoverflow.com/users/3154111/rando-hinn"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 65, "favorite_count": 0, "accepted_answer_id": 36993752, "answer_count": 1, "score": 0, "last_activity_date": 1462235635, "creation_date": 1462209151, "last_edit_date": 1462209352, "question_id": 36987901, "link": "https://stackoverflow.com/questions/36987901/function-loops-once-then-returns", "title": "Function loops once, then returns", "body": "<p>I have a function as so:</p>\n\n<pre><code>removeDuplicates(item: String, allForToday: Array) {\n    let temp = allForToday;\n    for (let i = 0; i &lt; temp.length; i++) {\n        if (temp[i].indexOf(item) &gt; -1) {\n            temp = temp.splice(i, 1);\n        }\n    }\n    return temp;\n}\n</code></pre>\n\n<p>Which I call like so: </p>\n\n<pre><code>for (let i = 0; i &lt; lastWeekItems.length; i++) {\n                allForToday = t.removeDuplicates(lastWeekItems[i], allForToday);\n }\n</code></pre>\n\n<p>the passed <code>lastweekItems[i]</code> is a string, and allForToday is an array of strings that look like this: <code>1;2;3</code>. lastweekItems[i] can then be for example <code>2</code> What I'm expecting is the entire array to be checked for each and every item, and if the item is found, the entry that it's found in is removed from the array,  but what I'm seeing is that only temp[0] is checked, and then the entire leftover part of the array is spliced, and returned empty (temp.length turns from 14 to 1)... </p>\n"}, {"tags": ["typescript", "angular"], "answers": [{"comments": [{"owner": {"reputation": 3585, "user_id": 6281845, "user_type": "registered", "accept_rate": 96, "profile_image": "https://lh6.googleusercontent.com/-E_TiP_7bgZk/AAAAAAAAAAI/AAAAAAAAADM/MCJbAU0Z9ug/photo.jpg?sz=128", "display_name": "Alex Beugnet", "link": "https://stackoverflow.com/users/6281845/alex-beugnet"}, "edited": false, "score": 0, "creation_date": 1462260224, "post_id": 36988479, "comment_id": 61549419, "body": "Thanks for the quick feedback ! It seems indeed preferable to put in place a MenuService as you said. I&#39;ll look into it and see what I can do with your advice thanks ! About ngDoCheck(), I first tried to do without, and with console.logs(), I witnessed the fact that my property was updating correctly on clicks, but the animation wasn&#39;t working. This is where I though my changes weren&#39;t detected and gave a try to ngDoCheck(). I&#39;ll keep working on it. Thanks again."}], "tags": [], "owner": {"reputation": 181833, "user_id": 1873365, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/45TMV.png?s=128&g=1", "display_name": "Thierry Templier", "link": "https://stackoverflow.com/users/1873365/thierry-templier"}, "is_accepted": true, "score": 0, "last_activity_date": 1462211280, "creation_date": 1462211280, "answer_id": 36988479, "question_id": 36987356, "link": "https://stackoverflow.com/questions/36987356/angular2-error-trying-to-diff-true-with-ngdocheck/36988479#36988479", "title": "Angular2 : Error trying to diff &#39;true&#39; with ngDoCheck()", "body": "<p>I don't think that <code>ngDoCheck</code> is what you need here. As a matter of fact, Angular2 detects changes by value for primitive types and by references for object but doesn't detect changes in arrays or objects.</p>\n\n<p>For this case (not the default detection), you need to use the <code>ngDoCheck</code> to implement a custom way to detect these updates. It relies on classes <code>KeyValueDiffers</code> for objects and <code>IterableDiffers</code> for arrays. But you can't use the <code>KeyValueDiffers</code> class with a boolean value. It doesn't make for this.</p>\n\n<p>In your case you can rely on the default detection for the <code>collapse</code> input property. When its value is updated the <code>ngOnChanges</code> is called and you trigger your own processing.</p>\n\n<p>That being said, if you want to implement the collapse feature and trigger from anywhere in your application, you should consider to use a shared service, for example a <code>MenuService</code>. You could put a boolean property in it for the state of the menu with an observable / subject to notify when it's updated:</p>\n\n<pre><code>export class MenuService {\n  collapse:boolean;\n  collapse$:Subject&lt;boolean&gt; = new Subject();\n\n  toggleMenu() {\n    this.collapse = !this.collapse;\n    this.collapse$.next(this.collapse);\n  }\n}\n</code></pre>\n\n<p>Don't forget to put it when bootstrapping your application:</p>\n\n<pre><code>bootstrap(AppComponent, [ MenuService ]);\n</code></pre>\n\n<p>And don't define it again within the <code>providers</code> attribute of components.</p>\n\n<p>Then you can inject it into your components / directives to either update the state or be notified when the state is updated.</p>\n\n<p>Here is a sample in your directive:</p>\n\n<pre><code>@Directive({\n  selector: '[collapse]',\n  host: {\n    '[attr.aria-expanded]': '!collapse',\n    '[attr.aria-hidden]': 'collapse'\n  }\n})\nexport class Collapse implements OnChanges {\n  @Input() duration: number = 200;\n  @Input() collapse: any;\n\n  private _animation: CssAnimationBuilder;    // Animation CSS\n\n  constructor(private _animationBuilder: AnimationBuilder,\n     private _element: ElementRef, private service:MenuService) {\n    this._animation = _animationBuilder.css();\n    this.service.this.collapse$.subscribe((collapse) =&gt; {\n      this.updateMenu(collapse);\n    });\n  }\n\n  ngOnChanges(changes) {\n    if (changes.collapse) {\n      this.updateMenu(changes.collapse);\n    }\n  }\n\n  updateMenu(collapse:boolean) {\n    if (this.collapse) {\n        this.hide();\n    } else {\n        this.show();\n    }\n  }\n}\n</code></pre>\n\n<p>The state can be updated from anywhere in your application using the <code>MenuService</code>. For example within a component without any relation with the menu:</p>\n\n<pre><code>@Component({\n  (...)\n  template: `\n    &lt;div (click)=\"toggleMenu()\"&gt;Toggle menu&lt;/div&gt;\n  `\n})\nexport class SomeComponent {\n  constructor(private service:MenuService) {\n  }\n\n  toggleMenu() {\n    this.service.toggleMenu();\n  }\n}\n</code></pre>\n"}], "owner": {"reputation": 3585, "user_id": 6281845, "user_type": "registered", "accept_rate": 96, "profile_image": "https://lh6.googleusercontent.com/-E_TiP_7bgZk/AAAAAAAAAAI/AAAAAAAAADM/MCJbAU0Z9ug/photo.jpg?sz=128", "display_name": "Alex Beugnet", "link": "https://stackoverflow.com/users/6281845/alex-beugnet"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2757, "favorite_count": 0, "accepted_answer_id": 36988479, "answer_count": 1, "score": 1, "last_activity_date": 1467280110, "creation_date": 1462207168, "last_edit_date": 1467280110, "question_id": 36987356, "link": "https://stackoverflow.com/questions/36987356/angular2-error-trying-to-diff-true-with-ngdocheck", "title": "Angular2 : Error trying to diff &#39;true&#39; with ngDoCheck()", "body": "<h1>Introduction</h1>\n\n<p>Hi, I'm kinda new to Angular2, and to Typescript (and I'm also new to StackOverflow.com), and I was wondering if you could help me with the following issue :\nI've made work my own collapse animation on a button using <strong>ngOnChanges()</strong> on the button click. Now, my aim is to make it so when the user clicks anywhere on the page (outside my displayed menu or elsewhere than my button managing the menu), the menu collapses to be hidden.</p>\n\n<p>To do that, I want my collapse.animation.ts detect with ngDoCheck() when the collapse property from my header.component.ts is updated with the clickOutsideEvent().</p>\n\n<p>I've been trying to make an event such as <code>(blur)=\"onBlur()\"</code> or <code>(blur)=\"expression\"</code> work, but unfortunately it was not working properly because of the focus on the single html element. Or I did not manage to make it properly...</p>\n\n<p>This is the exception I'm getting : \nangular2.dev.js:23730 <strong>EXCEPTION: Error trying to diff 'true' in [isCollapsed in HeaderComponent@16:59]</strong></p>\n\n<p>Sorry if the post is too long or if it's not clear enough, any help will be greatly appreciated.</p>\n\n<h2>The code I'm working on</h2>\n\n<p><strong>collapse.animation.ts</strong> : It's in this file that I manage the collapse animation, and that I try to detect the collapse change and hide / show accordingly.</p>\n\n<pre><code>import {Directive, DoCheck, KeyValueDiffers , OnChanges, ElementRef, Input } from 'angular2/core';\nimport {AnimationBuilder} from 'angular2/src/animate/animation_builder';\nimport {CssAnimationBuilder} from 'angular2/src/animate/css_animation_builder';\n\n@Directive({\n    selector: '[collapse]',\n    host: {\n        '[attr.aria-expanded]': '!collapse',\n        '[attr.aria-hidden]': 'collapse'\n    }\n})\n\nexport class Collapse implements OnChanges, DoCheck {\n    @Input() duration: number = 200;            // Vitesse de l'animation en ms. (750 = 0.75 sec)\n    @Input() collapse: any;                     // Bool\u00e9en d\u00e9finissant l'\u00e9tat collapse ou non\n\n    private _animation: CssAnimationBuilder;    // Animation CSS\n    differ: any;                                // Tracker de propri\u00e9t\u00e9 / attribut.\n\nconstructor(private _animationBuilder: AnimationBuilder, private _element: ElementRef, private differs: KeyValueDiffers) {\n    // Initialisation de l'animation css.\n    this._animation = _animationBuilder.css();\n    // Initialisation du tracker\n    this.differ = differs.find({}).create(null);\n}\n\n// trying to make this work...\nngDoCheck() {\n    var changes = this.differ.diff(this.collapse);\n\n    if (changes) {\n        changes.forEachChangedItem((elt) =&gt; {\n            if (elt.key === 'isCollapsed') {\n                this.show();\n            }\n            else {\n                this.hide();\n            }\n        });\n    }\n}\n\n// Manage property collapse\n// This works when I click on my button\nngOnChanges(changes) {\n    if (changes.collapse) {\n        if (this.collapse) {\n            this.hide();\n        } else {\n            this.show();\n        }\n    }\n}\n</code></pre>\n\n<p><strong>header.component.ts</strong> : This is my header component containing my menu</p>\n\n<pre><code>import { Component, Input } from 'angular2/core';\nimport { RouteConfig, RouterOutlet, ROUTER_DIRECTIVES, ROUTER_PROVIDERS} from \"angular2/router\";\nimport { Collapse } from './../../css/animations/collapse.animation';\nimport { ClickOutside } from './../directives/clickOutside.directive';\n\n@Component({\n    selector: 'headerComponent',\n    templateUrl: 'app/master/header.component.html',\n    styleUrls: ['app/master/header.component.css', 'app/master/menuNavigation.component.css', 'css/animations/collapse.animation.css'],\n    directives: [\n        ROUTER_DIRECTIVES,\n        Collapse,\n        ClickOutside\n    ],\n    providers: [\n        ROUTER_PROVIDERS\n    ],\n})\n\nexport class HeaderComponent {\n    @Input() collapse: boolean = false;\n\n    private headerMenuClass: string = \"header_menu\";\n\n    // clickOutside linked method\n    handleClickOutside(className) {\n        // I'm detecting the \"click\" on my button linked to my menu with it's class \"header_menu\". No need to collapse the menu when I click on my button.\n        let FirstClassName: string = className.split(\" \")[0];\n        if (FirstClassName != this.headerMenuClass) {\n            console.log(this.collapse);\n            // Trying to make my collapse.animation.ts detect this !!\n            this.collapse = !this.collapse;\n        }\n    }\n}\n</code></pre>\n\n<p><strong>header.component.html</strong> : The HTML template of my component</p>\n\n<pre><code>&lt;div id=\"top_bar\" class=\"top_bar\"&gt;\n\n\n    &lt;!-- This is the button that shows the menu --&gt;\n\n    &lt;button type=\"button\" class=\"header_menu nav_icon root_navitem\" id=\"btn_menu_switch\" (click)=\"isCollapsed = !isCollapsed\"&gt;\n        &lt;img class=\"header_menu\" src=\"css/App_Themes/VAL/48x48/m_bars.png\" alt=\"\" /&gt;\n    &lt;/button&gt;\n\n    &lt;button type=\"button\" class=\"nav_icon\" id=\"btn_home\" [routerLink]=\"['Accueil']\"&gt;\n        &lt;img src=\"css/App_Themes/VAL/48x48/m_home.png\" alt=\"\" /&gt;\n    &lt;/button&gt;\n&lt;/div&gt;\n\n&lt;!-- This is the menu I'm trying to collapse at will --&gt;\n\n&lt;div id=\"left_bar\" tabindex=\"-1\" class=\"left_bar collapse\" [collapse]=\"isCollapsed\"\n     (clickOutside)=\"handleClickOutside( $event.target.className )\"&gt;\n\n    &lt;div id=\"left_bar_menu\" class=\"left_bar_menu\"&gt;\n        &lt;button type=\"button\" class=\"left_bar_icon\" id=\"btn_left_histo\"&gt;\n            &lt;img src=\"css/App_Themes/VAL/48x48/m_history.png\" alt=\"\" /&gt;\n        &lt;/button&gt;\n        &lt;hr class=\"sep\" /&gt;\n        &lt;button type=\"button\" class=\"left_bar_icon\" id=\"btn_left_board\" [routerLink]=\"['Dashboard']\"&gt;\n            &lt;img src=\"css/App_Themes/VAL/48x48/m_board.png\" alt=\"\" /&gt;\n        &lt;/button&gt;\n        &lt;hr class=\"sep\" /&gt;\n    &lt;/div&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p><strong>clickOutside.directive.ts</strong> : This file allows me to detect when I click outside a component and get some information. I believe this is not a clean way to manage my issue, but I'll work on that later.</p>\n\n<pre><code>import {Directive, EventEmitter, Input, Output } from 'angular2/core';\n\n// Variable globale \u00e0 la classe\nvar localEvent: any = null;\n\n@Directive({\n    selector: '[clickOutside]',\n    host: {\n        \"(click)\": \"trackEvent( $event )\",\n        \"(document: click)\": \"compareEvent( $event )\"\n    }\n})\n\nexport class ClickOutside {\n    @Output() clickOutside;\n\n    constructor() {\n        this.clickOutside = new EventEmitter();\n    }\n\n    // If the event at the document root is the same reference as the\n    // event at the target, it means that the event originated from\n    // within the target and bubbled all the way to the root. As such,\n    // if the event at the document root does NOT MATCH the last known\n    // event at the target, the event must have originated from\n    // outside of the target.\n    compareEvent(event) {\n        if (event !== localEvent) {\n            this.clickOutside.emit(event);\n        }\n        localEvent = null;\n    }\n\n    // I track the click event on the bound target.\n    trackEvent(event) {\n        // When the user clicks inside the bound target, we need to start\n        // tracking the event as it bubbles up the DOM tree. This way,\n        // when a click event hits the document root, we can determine if\n        // the event originated from within the target.\n        localEvent = event;\n    }\n}\n</code></pre>\n"}, {"tags": ["angularjs", "parameters", "typescript", "angular-ui-router"], "answers": [{"tags": [], "owner": {"reputation": 1, "user_id": 6130401, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6bd51912f50242eb794aeb1a93cb839f?s=128&d=identicon&r=PG", "display_name": "Crameleon", "link": "https://stackoverflow.com/users/6130401/crameleon"}, "is_accepted": false, "score": 0, "last_activity_date": 1462261815, "creation_date": 1462261815, "answer_id": 36998541, "question_id": 36986743, "link": "https://stackoverflow.com/questions/36986743/how-to-retrieve-parameters-into-initialization-controller-of-the-application/36998541#36998541", "title": "How to retrieve parameters into initialization controller of the application", "body": "<p>I found a solution to this problem : </p>\n\n<p>In the initializationController.ts, I have added a listener on $stateChangeStart, an then I am now able to retrieve my language parameter : </p>\n\n<p><strong>initializationController.ts :</strong></p>\n\n<pre><code>'use strict';\n/**\n * InitializationController is used as controller of the index page\n * Used to initialize the main parameters of the application\n */\nclass InitializationController {\n\n    static $inject = ['$stateParams', 'ParametersService', 'LayoutService'];\n\n    constructor(private $stateParams: any,\n        private parametersService:ParametersService,\n        private layoutService: LayoutService) {\n        // Retrieve the parameters\n        $rootScope.$on('$stateChangeStart', this.retrieveParameters.bind(this));\n        // Retrieve the main parameters of the application from configuration files\n        parametersService.initialize()\n        .then(this.initApplication.bind(this));\n    }\n\n    /**\n     * Initialize the web application\n     */\n    private initApplication(): void {\n        // Retrieve the language to use to display labels\n        var language: string = \"\"; //TODO\n        // Retrieve the data used in all pages : header, footer and menu   \n        this.layoutService.retrieveLayoutByLanguage(language);\n    }\n\n    private retrieveParameters(event: any,\n                           toState: angular.ui.IState,\n                           toParams: any,\n                           fromState: angular.ui.IState,\n                           fromParams: any): void {\n        this.languageInUrl = toParams.languageCode;\n    }\n\n}\n\nmyApp.controller('InitializationController', InitializationController);\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 6130401, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6bd51912f50242eb794aeb1a93cb839f?s=128&d=identicon&r=PG", "display_name": "Crameleon", "link": "https://stackoverflow.com/users/6130401/crameleon"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 84, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1462261815, "creation_date": 1462204986, "last_edit_date": 1462205377, "question_id": 36986743, "link": "https://stackoverflow.com/questions/36986743/how-to-retrieve-parameters-into-initialization-controller-of-the-application", "title": "How to retrieve parameters into initialization controller of the application", "body": "<p>I have an AngularJS application using ui-router module.\nI want to manage language in the URLs of the application like this : </p>\n\n<ul>\n<li>site.com/en --> home page in english</li>\n<li>site.com/en/login --> login page in english</li>\n<li>site.com/de --> home page in german</li>\n<li>site.com/de/login --> login page in german</li>\n<li>....</li>\n</ul>\n\n<p>My goal is to retrieve this language used in URL in the main controller of the application in order to :\n- check if this language is available for the application,\n- request some WS to initialize the application.</p>\n\n<p>I have created the following app.routes.ts file to manage routes : </p>\n\n<p><strong>app.routes.ts :</strong></p>\n\n<pre><code>'use strict';\nmyApp.config(function($locationProvider: ng.ILocationProvider,\n                              $stateProvider: ng.ui.IStateProvider,\n                              $urlRouterProvider: ng.ui.IUrlRouterProvider) {\n\n$stateProvider\n    .state('notFound', {\n        url: '/notFound',\n        views: {\n            'container@': {\n                templateUrl: 'app/notFound/notFoundView.html',\n                controller: 'NotFoundController',\n                controllerAs: 'vm'\n            }\n        }\n    })\n    .state('root', {\n        url: '/:languageCode',\n        abstract: true,\n        views: {\n            'header': {\n                templateUrl: 'app/header/headerView.html',\n                controller: 'HeaderController',\n                controllerAs: 'vm'\n            },\n            'footer': {\n                templateUrl: 'app/footer/footerView.html',\n                controller: 'FooterController',\n                controllerAs: 'vm'\n            }\n        }\n    })\n    .state('root.home', {\n        url: '',\n        views: {\n            'container@': {\n                templateUrl: 'app/home/homeView.html',\n                controller: 'HomeController',\n                controllerAs: 'vm'\n            }\n        }\n    })\n    .state('root.login', {\n        url: '/login',\n        views: {\n            'container@': {\n                templateUrl: 'app/login/loginView.html',\n                controller: 'LoginController',\n                controllerAs: 'vm'\n            }\n        }\n    });\n\n$urlRouterProvider.otherwise('/en');\n\n//html5 removes the need for # in URL\n$locationProvider.html5Mode({\n    enabled: true\n});\n\n});\n</code></pre>\n\n<p>I have defined the controller of the index.html :</p>\n\n<p><strong>part of index.html :</strong></p>\n\n<pre><code>&lt;html ng-app=\"myApp\" ng-controller=\"InitializationController\"&gt;\n</code></pre>\n\n<p>And I want to retrieve the language (the 'languageCode' used in the parameters) in the InitializationController :</p>\n\n<p><strong>initializationController.ts :</strong></p>\n\n<pre><code>'use strict';\n/**\n * InitializationController is used as controller of the index page\n * Used to initialize the main parameters of the application\n */\nclass InitializationController {\n\nstatic $inject = ['$stateParams', 'ParametersService', 'LayoutService'];\n\nconstructor(private $stateParams: any,\n            private parametersService:ParametersService,\n            private layoutService: LayoutService) {\n    // Retrieve the language used in the url\n    console.log('test:' + this.$stateParams);\n    // Retrieve the main parameters of the application from configuration files\n    parametersService.initialize()\n        .then(this.initApplication.bind(this));\n}\n\n/**\n * Initialize the web application\n */\nprivate initApplication(): void {\n    // Retrieve the language used in the url\n    console.log('test:' + this.$stateParams);\n    // Retrieve the language to use to display labels\n    var language: string = \"\"; //TODO\n    // Retrieve the data used in all pages : header, footer and menu   \n    this.layoutService.retrieveLayoutByLanguage(language);\n}\n\n}\n\nmyApp.controller('InitializationController', InitializationController);\n</code></pre>\n\n<p>The routes defined in app.routes.ts seems to be OK.</p>\n\n<p>Is it possible to retrieve my languageCode parameter in this controller ?</p>\n\n<p>In debug mod, I see that $stateParams is empty : there is no languageCode parameter.</p>\n\n<p>Thanks in advance.</p>\n"}, {"tags": ["validation", "typescript", "angular", "angular2-directives"], "comments": [{"owner": {"reputation": 2231, "user_id": 3538258, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/rG3j6.jpg?s=128&g=1", "display_name": "Ron Newcomb", "link": "https://stackoverflow.com/users/3538258/ron-newcomb"}, "edited": false, "score": 0, "creation_date": 1497231189, "post_id": 36986375, "comment_id": 75974633, "body": "Wouldn&#39;t  #nameControl=&quot;ngForm&quot;   go on the &lt;form&gt; tag, not the &lt;input&gt; tag?"}, {"owner": {"reputation": 44608, "user_id": 1127114, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/bb1b2345f4c7b696d7c0376d273d01b2?s=128&d=identicon&r=PG", "display_name": "Michael Liu", "link": "https://stackoverflow.com/users/1127114/michael-liu"}, "reply_to_user": {"reputation": 2231, "user_id": 3538258, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/rG3j6.jpg?s=128&g=1", "display_name": "Ron Newcomb", "link": "https://stackoverflow.com/users/3538258/ron-newcomb"}, "edited": false, "score": 1, "creation_date": 1497237495, "post_id": 36986375, "comment_id": 75975791, "body": "@RonNewcomb: Back in the days of Angular 2 (when I posted this question), the NgModel directive exported itself as <code>ngForm</code>, which was super confusing on an <code>&lt;input&gt;</code> tag. It has since been changed to <code>ngModel</code>."}], "answers": [{"comments": [{"owner": {"reputation": 44608, "user_id": 1127114, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/bb1b2345f4c7b696d7c0376d273d01b2?s=128&d=identicon&r=PG", "display_name": "Michael Liu", "link": "https://stackoverflow.com/users/1127114/michael-liu"}, "edited": false, "score": 0, "creation_date": 1462205682, "post_id": 36986708, "comment_id": 61528306, "body": "This seems to work. But in a more complicated scenario, is there a chance that calling <code>updateValueAndValidity</code> in <code>ngOnChanges</code> could cause the error <code>&quot;Expression &#39;...&#39; has changed after it was checked.&quot;</code>? (I don&#39;t really understand the exact circumstances that cause this error.)"}, {"owner": {"reputation": 44608, "user_id": 1127114, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/bb1b2345f4c7b696d7c0376d273d01b2?s=128&d=identicon&r=PG", "display_name": "Michael Liu", "link": "https://stackoverflow.com/users/1127114/michael-liu"}, "edited": false, "score": 0, "creation_date": 1462206036, "post_id": 36986708, "comment_id": 61528494, "body": "And indeed, if I move the <code>&lt;p&gt;</code> for the message before the <code>&lt;p&gt;</code> for the check box, then I do get that error when I toggle the check box."}, {"owner": {"reputation": 168939, "user_id": 5485167, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qWD9t.jpg?s=128&g=1", "display_name": "yurzui", "link": "https://stackoverflow.com/users/5485167/yurzui"}, "reply_to_user": {"reputation": 44608, "user_id": 1127114, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/bb1b2345f4c7b696d7c0376d273d01b2?s=128&d=identicon&r=PG", "display_name": "Michael Liu", "link": "https://stackoverflow.com/users/1127114/michael-liu"}, "edited": false, "score": 1, "creation_date": 1462208241, "post_id": 36986708, "comment_id": 61529693, "body": "@MichaelLiu Liu In this way you need to add this.cdr.detectChanges() after updateValueAndValidity. Based on <a href=\"http://stackoverflow.com/questions/34364880/expression-has-changed-after-it-was-checked/35243106\" title=\"expression has changed after it was checked\">stackoverflow.com/questions/34364880/&hellip;</a>"}], "tags": [], "owner": {"reputation": 181833, "user_id": 1873365, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/45TMV.png?s=128&g=1", "display_name": "Thierry Templier", "link": "https://stackoverflow.com/users/1873365/thierry-templier"}, "is_accepted": false, "score": 3, "last_activity_date": 1462204873, "creation_date": 1462204873, "answer_id": 36986708, "question_id": 36986375, "link": "https://stackoverflow.com/questions/36986375/conditional-required-validator-directive-in-angular-2/36986708#36986708", "title": "Conditional required validator directive in Angular 2", "body": "<p>I would use something like that:</p>\n\n<pre><code>@Directive({\n  selector: '[myRequired][ngControl]',\n  providers: [new Provider(NG_VALIDATORS, { useExisting: forwardRef(() =&gt; MyRequiredValidator), multi: true })]\n})\nclass MyRequiredValidator {\n  @Input('myRequired') required: boolean;\n\n  ngOnChanges() {\n    // Called when required is updated\n    if (this.control) {\n      this.control.updateValueAndValidity();\n    }\n  }\n\n  validate(control: AbstractControl): { [key: string]: any } {\n    this.control = control;\n    return this.required &amp;&amp; !control.value\n      ? { myRequired: true }\n      : null;\n  }\n}\n</code></pre>\n\n<p>See this plunkr: <a href=\"https://plnkr.co/edit/14jDdUj1rdzAaLEBaB9G?p=preview\" rel=\"nofollow\">https://plnkr.co/edit/14jDdUj1rdzAaLEBaB9G?p=preview</a>.</p>\n"}], "owner": {"reputation": 44608, "user_id": 1127114, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/bb1b2345f4c7b696d7c0376d273d01b2?s=128&d=identicon&r=PG", "display_name": "Michael Liu", "link": "https://stackoverflow.com/users/1127114/michael-liu"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3483, "favorite_count": 1, "answer_count": 1, "score": 3, "last_activity_date": 1462204873, "creation_date": 1462203719, "question_id": 36986375, "link": "https://stackoverflow.com/questions/36986375/conditional-required-validator-directive-in-angular-2", "title": "Conditional required validator directive in Angular 2", "body": "<p>I need to make certain form fields required or not based on the value of other fields. The built-in <a href=\"https://angular.io/docs/ts/latest/api/common/RequiredValidator-directive.html\" rel=\"nofollow\">RequiredValidator</a> directive doesn't seem to support this, so I created my own directive:</p>\n\n<pre><code>@Directive({\n  selector: '[myRequired][ngControl]',\n  providers: [new Provider(NG_VALIDATORS, { useExisting: forwardRef(() =&gt; MyRequiredValidator), multi: true })]\n})\nclass MyRequiredValidator {\n  @Input('myRequired') required: boolean;\n\n  validate(control: AbstractControl): { [key: string]: any } {\n    return this.required &amp;&amp; !control.value\n      ? { myRequired: true }\n      : null;\n  }\n}\n</code></pre>\n\n<p>Sample usage:</p>\n\n<pre class=\"lang-html prettyprint-override\"><code>&lt;form&gt;\n  &lt;p&gt;&lt;label&gt;&lt;input type=\"checkbox\" [(ngModel)]=\"isNameRequired\"&gt; Is Name Required?&lt;/label&gt;&lt;/p&gt;\n  &lt;p&gt;&lt;label&gt;Name: &lt;input type=\"text\" [myRequired]=\"isNameRequired\" #nameControl=\"ngForm\" ngControl=\"name\" [(ngModel)]=\"name\"&gt;&lt;/label&gt;&lt;/p&gt;\n  &lt;p *ngIf=\"nameControl.control?.hasError('myRequired')\"&gt;This field is required.&lt;/p&gt;\n&lt;/form&gt;\n</code></pre>\n\n<p>This works fine if the user first toggles the check box and then types or erases text in the text box. However, if the user toggles the check box while the text box is blank, then the validation message doesn't update appropriately.</p>\n\n<p>How can I modify <code>MyRequiredValidator</code> to trigger validation when its <code>required</code> property is changed?</p>\n\n<p>Note: I'm looking for a solution that only involves changes to <code>MyRequiredValidator</code>. I want to avoid adding any logic to the App component.</p>\n\n<p>Plunker: <a href=\"https://plnkr.co/edit/ExBdzh6nVHrcm51rQ5Fi?p=preview\" rel=\"nofollow\">https://plnkr.co/edit/ExBdzh6nVHrcm51rQ5Fi?p=preview</a></p>\n"}, {"tags": ["c#", "angularjs", "callback", "typescript", "promise"], "answers": [{"comments": [{"owner": {"reputation": 349, "user_id": 1789573, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/c11fd1fce6767795f508c9cdc3bfe119?s=128&d=identicon&r=PG", "display_name": "user1789573", "link": "https://stackoverflow.com/users/1789573/user1789573"}, "edited": false, "score": 0, "creation_date": 1462283138, "post_id": 36989162, "comment_id": 61564265, "body": "Okay, i think you misunderstood what i was saying.  I know that a public property will work for me.  However, it&#39;s the private property that will not.  Also, after attempting to follow this example i still did not see anything but _proto in my returned .data property of my response in TypeScript.  This is NOT a C# only issue, it&#39;s an issue with getting data to commit across languages within a Visual Studio project.  Does that help?"}], "tags": [], "owner": {"reputation": 204677, "user_id": 75525, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/IYU63.png?s=128&g=1", "display_name": "Fenton", "link": "https://stackoverflow.com/users/75525/fenton"}, "is_accepted": false, "score": 0, "last_activity_date": 1462213716, "creation_date": 1462213716, "answer_id": 36989162, "question_id": 36986100, "link": "https://stackoverflow.com/questions/36986100/private-c-property-during-typescript-callback-not-in-data-property/36989162#36989162", "title": "Private C# property during TypeScript callback not in .data property", "body": "<p>If you want to control access to a property, you can normally do this very will without a method in C#...</p>\n\n<p>It <em>appears</em> that you want the ability to set the property, but not read it. The following is an example of a public write-only property, which you can read and write in private context.</p>\n\n<p>This appears as a property to callers, rather than a method.</p>\n\n<pre><code>public class Example\n{\n    private string _exampleProperty;\n    public string ExampleProperty\n    {\n        set { _exampleProperty = value; }\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 349, "user_id": 1789573, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/c11fd1fce6767795f508c9cdc3bfe119?s=128&d=identicon&r=PG", "display_name": "user1789573", "link": "https://stackoverflow.com/users/1789573/user1789573"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 67, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1462213716, "creation_date": 1462202862, "question_id": 36986100, "link": "https://stackoverflow.com/questions/36986100/private-c-property-during-typescript-callback-not-in-data-property", "title": "Private C# property during TypeScript callback not in .data property", "body": "<p>So, i'm not sure what i'm doing wrong here but for some reason the callback function in TypeScript that i have doesn't have anything but _proto in the response's .data property whenever i set private properties in C# and new up an object that is filled with constructed properties. However, if the properties are public and i don't use a constructor then i can see the response's .data property is filled like i would expect it to be. Here is an example of what works:</p>\n\n<pre><code>public class ThisWorks{\n   public string MyProperty{get;set;}\n  }  \n</code></pre>\n\n<p>Inside application layer:</p>\n\n<pre><code>ThisWorks example = new ThisWorks();\nexample.MyProperty = myReflectedProperty;\nreturn example;\n</code></pre>\n\n<p>However, this does not work:</p>\n\n<pre><code> public class ThisDoesNotWork{\n   private string MyPrivateProperty {get;set;}\n      public ThisDoesNotWork(string myPrivateProperty){\n            MyPrivateProperty = myPrivateProperty;\n             }\n        }\n</code></pre>\n\n<p>What's causing this to happen? My TypeScript service has not changed but for some reason the data isn't coming across from the service call...Any help would be greatly appreciated!  Also, Serialization is NOT constructive for this thread.  </p>\n"}, {"tags": ["javascript", "typescript", "visual-studio-2015"], "answers": [{"tags": [], "owner": {"reputation": 41425, "user_id": 129032, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/e8bea8f9e6972dfd3113d67da68e6933?s=128&d=identicon&r=PG", "display_name": "ssube", "link": "https://stackoverflow.com/users/129032/ssube"}, "is_accepted": false, "score": 1, "last_activity_date": 1462201584, "creation_date": 1462201584, "answer_id": 36985671, "question_id": 36985591, "link": "https://stackoverflow.com/questions/36985591/typescript-modules-in-visual-studio-2015-update-2-require-is-undefined/36985671#36985671", "title": "TypeScript Modules in Visual Studio 2015 Update 2 - &#39;require&#39; is undefined", "body": "<p>You need to include <a href=\"http://requirejs.org/\" rel=\"nofollow\">requirejs</a> or bundle your scripts with <a href=\"http://webpack.github.io/\" rel=\"nofollow\">webpack</a>. TypeScript provides the module syntax and compiles down into <code>require</code> calls, but does not provide a runtime module <em>loader</em>. You must include that in your page for the scripts to work.</p>\n\n<p>In the browser, make sure to provide the <a href=\"https://www.typescriptlang.org/docs/handbook/compiler-options.html\" rel=\"nofollow\"><code>--module</code> flag</a> and specify the type of module you're using. This will typically be <code>es6</code> for code you're running through webpack or <code>amd</code>/<code>umd</code> for older code using requirejs.</p>\n\n<p>If you take a look at the TS compiler's output, you'll see that</p>\n\n<pre><code>import {foo} from './bar';\n</code></pre>\n\n<p>becomes</p>\n\n<pre><code>define([\"require\", \"exports\"], function (require, exports) {\n    \"use strict\";\n});\n</code></pre>\n\n<p>but note that <code>define</code> and the modules <code>\"require\"</code> and <code>\"exports\"</code> are <em>not</em> defined <em>by the compiler</em>.</p>\n\n<p>If you're running in a node environment, the nodejs runtime provides the necessary functions for <a href=\"http://wiki.commonjs.org/wiki/Modules/1.1\" rel=\"nofollow\">commonjs module</a> loading.</p>\n"}], "owner": {"reputation": 101, "user_id": 4441032, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/dNWA8.jpg?s=128&g=1", "display_name": "chstorb", "link": "https://stackoverflow.com/users/4441032/chstorb"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3243, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1462201622, "creation_date": 1462201343, "last_edit_date": 1462201622, "question_id": 36985591, "link": "https://stackoverflow.com/questions/36985591/typescript-modules-in-visual-studio-2015-update-2-require-is-undefined", "title": "TypeScript Modules in Visual Studio 2015 Update 2 - &#39;require&#39; is undefined", "body": "<p>In Visual Studio 2015 Enterprise (Update 2 installed) I've created a new TypeScript-Project TypeScriptHTMLApp1 from the Template (using default project settings). After that, I created the new TypeScript file log.ts and copied the example code from <a href=\"https://github.com/Microsoft/TypeScript/blob/master/doc/spec.md#11.3\" rel=\"nofollow\">https://github.com/Microsoft/TypeScript/blob/master/doc/spec.md#11.3</a> to that newly created file. </p>\n\n<pre><code>// -------- log.ts --------  \nexport function message(s: string) {  \n    console.log(s);  \n}\n</code></pre>\n\n<p>Next, I copied the following lines of code to the beginning of the app.ts files.</p>\n\n<pre><code>// -------- app.ts --------  \nimport { message } from \"./log\";    \nmessage(\"hello\");\n\nclass Greeter {\n    element: HTMLElement;\n</code></pre>\n\n<p>When I try to run this project in Internet Explorer (from inside the Microsoft visual Studio IDE), I receive the following error message: </p>\n\n<pre><code>Unhandled exception at line2, column 1 in http://localhost:20728/app.js\n0x800a1391 - JavaScript runtime error: 'require' is undefined\n</code></pre>\n"}, {"tags": ["html", "dom", "typescript", "angular", "angular2-template"], "answers": [{"comments": [{"owner": {"reputation": 21585, "user_id": 2410379, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/X2Tci.jpg?s=128&g=1", "display_name": "David Pine", "link": "https://stackoverflow.com/users/2410379/david-pine"}, "edited": false, "score": 0, "creation_date": 1462200110, "post_id": 36985151, "comment_id": 61524853, "body": "So I wouldn&#39;t want to bind to <code>[disabled]</code>, why not?"}, {"owner": {"reputation": 44608, "user_id": 1127114, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/bb1b2345f4c7b696d7c0376d273d01b2?s=128&d=identicon&r=PG", "display_name": "Michael Liu", "link": "https://stackoverflow.com/users/1127114/michael-liu"}, "edited": false, "score": 1, "creation_date": 1462204581, "post_id": 36985151, "comment_id": 61527710, "body": "The user can still tab to the link and press Enter."}, {"owner": {"reputation": 483726, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "reply_to_user": {"reputation": 44608, "user_id": 1127114, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/bb1b2345f4c7b696d7c0376d273d01b2?s=128&d=identicon&r=PG", "display_name": "Michael Liu", "link": "https://stackoverflow.com/users/1127114/michael-liu"}, "edited": false, "score": 0, "creation_date": 1462204730, "post_id": 36985151, "comment_id": 61527797, "body": "@MichaelLiu interesting So it would also require <code>(focus)=&quot;isDisabled(link) ? false : true&quot;</code>"}, {"owner": {"reputation": 44608, "user_id": 1127114, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/bb1b2345f4c7b696d7c0376d273d01b2?s=128&d=identicon&r=PG", "display_name": "Michael Liu", "link": "https://stackoverflow.com/users/1127114/michael-liu"}, "edited": false, "score": 0, "creation_date": 1462206506, "post_id": 36985151, "comment_id": 61528745, "body": "<code>(focus)=&quot;false&quot;</code> doesn&#39;t seem to prevent the user from tabbing to the link, at least in Chrome."}, {"owner": {"reputation": 21585, "user_id": 2410379, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/X2Tci.jpg?s=128&g=1", "display_name": "David Pine", "link": "https://stackoverflow.com/users/2410379/david-pine"}, "edited": false, "score": 0, "creation_date": 1462214089, "post_id": 36985151, "comment_id": 61532758, "body": "@G&#252;nterZ&#246;chbauer Getting closer, but I still need the style of the anchor to be <code>cursor: not-allowed</code> when it is disabled."}, {"owner": {"reputation": 483726, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1462214241, "post_id": 36985151, "comment_id": 61532844, "body": "I&#39;ll have look when I&#39;m back on the computer."}, {"owner": {"reputation": 483726, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "reply_to_user": {"reputation": 44608, "user_id": 1127114, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/bb1b2345f4c7b696d7c0376d273d01b2?s=128&d=identicon&r=PG", "display_name": "Michael Liu", "link": "https://stackoverflow.com/users/1127114/michael-liu"}, "edited": false, "score": 0, "creation_date": 1462287077, "post_id": 36985151, "comment_id": 61567266, "body": "Seems I misinterpreted your question a bit. I tried to fix it for <code>[routerLink]</code> which is a bit different than for normal anchor elements. @MichaelLiu approach breaks the [routerLink] though, therefore my approach might provide some value as well."}, {"owner": {"reputation": 3649, "user_id": 3446255, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vm1Du.jpg?s=128&g=1", "display_name": "Miroslav Jonas", "link": "https://stackoverflow.com/users/3446255/miroslav-jonas"}, "edited": false, "score": 0, "creation_date": 1487161392, "post_id": 36985151, "comment_id": 71656541, "body": "@G&#252;nterZ&#246;chbauer When you set <code>pointer-events</code> to none, cursor styles are not applied. So you can use either one of those both together they make no sense."}, {"owner": {"reputation": 483726, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1487164090, "post_id": 36985151, "comment_id": 71658368, "body": "Is this the same behabior in all browsers? AFAIR it differs."}, {"owner": {"reputation": 24783, "user_id": 969613, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/Gg9TK.png?s=128&g=1", "display_name": "JMK", "link": "https://stackoverflow.com/users/969613/jmk"}, "edited": false, "score": 2, "creation_date": 1511816866, "post_id": 36985151, "comment_id": 81995978, "body": "@G&#252;nterZ&#246;chbauer Every Angular question I have searched for on SO, you have answered! Nice work!"}, {"owner": {"reputation": 483726, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "reply_to_user": {"reputation": 24783, "user_id": 969613, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/Gg9TK.png?s=128&g=1", "display_name": "JMK", "link": "https://stackoverflow.com/users/969613/jmk"}, "edited": false, "score": 2, "creation_date": 1511817600, "post_id": 36985151, "comment_id": 81996338, "body": "@JMK thanks :D It was fun. Sadly not that much time anymore."}], "tags": [], "owner": {"reputation": 483726, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "is_accepted": false, "score": 37, "last_activity_date": 1484138179, "last_edit_date": 1484138179, "creation_date": 1462199986, "answer_id": 36985151, "question_id": 36985112, "link": "https://stackoverflow.com/questions/36985112/angular2-what-is-the-correct-way-to-disable-an-anchor-element/36985151#36985151", "title": "Angular2, what is the correct way to disable an anchor element?", "body": "<p>For <code>[routerLink]</code> you can use:</p>\n\n<p>Adding this CSS should do what you want:</p>\n\n<pre><code>a.disabled {\n   pointer-events: none;\n   cursor: not-allowed; \n}\n</code></pre>\n\n\n\n<p>This should fix the issue mentioned by @MichelLiu in the comments:</p>\n\n<pre><code>&lt;a href=\"#\" [class.disabled]=\"isDisabled(link)\"\n    (keydown.enter)=\"!isDisabled(link)\"&gt;{{ link.name }}&lt;/a&gt;\n</code></pre>\n\n<p>Another approach</p>\n\n<pre><code>&lt;a [routerLink]=\"['Other']\" *ngIf=\"!isDisabled(link)\"&gt;{{ link.name }}&lt;/a&gt;\n&lt;a  *ngIf=\"isDisabled(link)\"&gt;{{ link.name }}&lt;/a&gt;  \n</code></pre>\n\n<p><a href=\"https://plnkr.co/edit/4KJPEW?p=preview\" rel=\"noreferrer\"><strong>Plunker example</strong></a></p>\n"}, {"comments": [{"owner": {"reputation": 21585, "user_id": 2410379, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/X2Tci.jpg?s=128&g=1", "display_name": "David Pine", "link": "https://stackoverflow.com/users/2410379/david-pine"}, "edited": false, "score": 1, "creation_date": 1462282780, "post_id": 36987506, "comment_id": 61563952, "body": "Even the the <code>&lt;a&gt;</code> element lacks an <code>href</code> it is still clickable, I just verified this...what now?  Still not perfect."}, {"owner": {"reputation": 44608, "user_id": 1127114, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/bb1b2345f4c7b696d7c0376d273d01b2?s=128&d=identicon&r=PG", "display_name": "Michael Liu", "link": "https://stackoverflow.com/users/1127114/michael-liu"}, "reply_to_user": {"reputation": 21585, "user_id": 2410379, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/X2Tci.jpg?s=128&g=1", "display_name": "David Pine", "link": "https://stackoverflow.com/users/2410379/david-pine"}, "edited": false, "score": 1, "creation_date": 1462287766, "post_id": 36987506, "comment_id": 61567823, "body": "@DavidPine: I&#39;ve updated my answer to handle the <code>click</code> event."}, {"owner": {"reputation": 892, "user_id": 2190653, "user_type": "registered", "accept_rate": 27, "profile_image": "https://www.gravatar.com/avatar/f2a93fde1fc3d90c9458cb1dc8d46052?s=128&d=identicon&r=PG", "display_name": "jcdsr", "link": "https://stackoverflow.com/users/2190653/jcdsr"}, "edited": false, "score": 0, "creation_date": 1515405822, "post_id": 36987506, "comment_id": 83274102, "body": "the BIG disadvantage you will lose the SEO on this process, have a look: <a href=\"https://webmasters.stackexchange.com/questions/74032/what-is-the-seo-impact-of-using-an-anchor-tag-without-a-href-attribute\" title=\"what is the seo impact of using an anchor tag without a href attribute\">webmasters.stackexchange.com/questions/74032/&hellip;</a>"}, {"owner": {"reputation": 3898, "user_id": 435912, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/251dfe6b95f4d64be4c8ab544e267718?s=128&d=identicon&r=PG", "display_name": "Sri", "link": "https://stackoverflow.com/users/435912/sri"}, "edited": false, "score": 0, "creation_date": 1531972348, "post_id": 36987506, "comment_id": 89799494, "body": "You can also use <code>[attr.disabled]=&quot;isDisabled(link)&quot;</code> in &lt;a&gt; tag."}, {"owner": {"reputation": 44608, "user_id": 1127114, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/bb1b2345f4c7b696d7c0376d273d01b2?s=128&d=identicon&r=PG", "display_name": "Michael Liu", "link": "https://stackoverflow.com/users/1127114/michael-liu"}, "reply_to_user": {"reputation": 3898, "user_id": 435912, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/251dfe6b95f4d64be4c8ab544e267718?s=128&d=identicon&r=PG", "display_name": "Sri", "link": "https://stackoverflow.com/users/435912/sri"}, "edited": false, "score": 2, "creation_date": 1532008382, "post_id": 36987506, "comment_id": 89819894, "body": "@Sriram: <b>Do not</b> use <code>[attr.disabled]</code> on an <code>&lt;a&gt;</code> tag. It&#39;s not standards compliant and only works in Internet Explorer, not in Chrome or Firefox."}, {"owner": {"reputation": 147, "user_id": 1578893, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/a12cb328a1978951051511f14a808810?s=128&d=identicon&r=PG", "display_name": "niio", "link": "https://stackoverflow.com/users/1578893/niio"}, "edited": false, "score": 0, "creation_date": 1608552170, "post_id": 36987506, "comment_id": 115610084, "body": "just a note: dont call functions in angular from template in attributes like ngIf, its performance issue, as they are called x-times each seccond, unless the components cd strategy is on push. Use properties, or directive or mentioned cd strategy."}], "tags": [], "owner": {"reputation": 44608, "user_id": 1127114, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/bb1b2345f4c7b696d7c0376d273d01b2?s=128&d=identicon&r=PG", "display_name": "Michael Liu", "link": "https://stackoverflow.com/users/1127114/michael-liu"}, "is_accepted": true, "score": 107, "last_activity_date": 1513351823, "last_edit_date": 1513351823, "creation_date": 1462207749, "answer_id": 36987506, "question_id": 36985112, "link": "https://stackoverflow.com/questions/36985112/angular2-what-is-the-correct-way-to-disable-an-anchor-element/36987506#36987506", "title": "Angular2, what is the correct way to disable an anchor element?", "body": "<p>Specifying <code>pointer-events: none</code> in CSS disables mouse input but doesn't disable keyboard input. For example, the user can still tab to the link and \"click\" it by pressing the <kbd>Enter</kbd> key or (in Windows) the <kbd>\u2263 Menu</kbd> key. You could disable specific keystrokes by intercepting the <code>keydown</code> event, but this would likely confuse users relying on assistive technologies.</p>\n\n<p>Probably the best way to disable a link is to remove its <code>href</code> attribute, making it a non-link. You can do this dynamically with a conditional <code>href</code> attribute binding:</p>\n\n<pre class=\"lang-html prettyprint-override\"><code>&lt;a *ngFor=\"let link of links\"\n   [attr.href]=\"isDisabled(link) ? null : '#'\"\n   [class.disabled]=\"isDisabled(link)\"\n   (click)=\"!isDisabled(link) &amp;&amp; onClick(link)\"&gt;\n   {{ link.name }}\n&lt;/a&gt;\n</code></pre>\n\n<p>Or, as in G\u00fcnter Z\u00f6chbauer's answer, you can create two links, one normal and one disabled, and use <code>*ngIf</code> to show one or the other:</p>\n\n<pre><code>&lt;ng-template ngFor #link [ngForOf]=\"links\"&gt;\n    &lt;a *ngIf=\"!isDisabled(link)\" href=\"#\" (click)=\"onClick(link)\"&gt;{{ link.name }}&lt;/a&gt;\n    &lt;a *ngIf=\"isDisabled(link)\" class=\"disabled\"&gt;{{ link.name }}&lt;/a&gt;\n&lt;/ng-template&gt;\n</code></pre>\n\n<p>Here's some CSS to make the link look disabled:</p>\n\n<pre class=\"lang-css prettyprint-override\"><code>a.disabled {\n    color: gray;\n    cursor: not-allowed;\n    text-decoration: underline;\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 156, "user_id": 1555572, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/0796cc58ffcf5368dd69cdb21100c1a8?s=128&d=identicon&r=PG", "display_name": "Van J. Wilson", "link": "https://stackoverflow.com/users/1555572/van-j-wilson"}, "is_accepted": false, "score": 5, "last_activity_date": 1494591897, "creation_date": 1494591897, "answer_id": 43937736, "question_id": 36985112, "link": "https://stackoverflow.com/questions/36985112/angular2-what-is-the-correct-way-to-disable-an-anchor-element/43937736#43937736", "title": "Angular2, what is the correct way to disable an anchor element?", "body": "<p>Just came across this question, and wanted to suggest an alternate approach.</p>\n\n<p>In the markup the OP provided, there is a click event binding. This makes me think that the elements are being used as \"buttons\". If that is the case, they could be marked up as <code>&lt;button&gt;</code> elements and styled like links, if that is the look you desire. (For example, Bootstrap has a built-in \"link\" button style, <a href=\"https://v4-alpha.getbootstrap.com/components/buttons/#examples\" rel=\"noreferrer\">https://v4-alpha.getbootstrap.com/components/buttons/#examples</a>)</p>\n\n<p>This has several direct and indirect benefits. It allows you to bind to the <code>disabled</code> property, which when set will disable mouse and keyboard events automatically. It lets you style the disabled state based on the disabled attribute, so you don't have to also manipulate the element's class. It is also better for accessibility.</p>\n\n<p>For a good write-up about when to use buttons and when to use links, see <a href=\"http://www.karlgroves.com/2013/05/14/links-are-not-buttons-neither-are-divs-and-spans/\" rel=\"noreferrer\">Links are not buttons. Neither are DIVs and SPANs</a></p>\n"}, {"tags": [], "owner": {"reputation": 63, "user_id": 3555546, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rEBOP.jpg?s=128&g=1", "display_name": "Vincent Shen", "link": "https://stackoverflow.com/users/3555546/vincent-shen"}, "is_accepted": false, "score": -2, "last_activity_date": 1514426289, "creation_date": 1514426289, "answer_id": 48000734, "question_id": 36985112, "link": "https://stackoverflow.com/questions/36985112/angular2-what-is-the-correct-way-to-disable-an-anchor-element/48000734#48000734", "title": "Angular2, what is the correct way to disable an anchor element?", "body": "<p>You can try this</p>\n\n<pre><code>&lt;a [attr.disabled]=\"someCondition ? true: null\"&gt;&lt;/a&gt;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 559, "user_id": 6805788, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-XdX18Iwp0P0/AAAAAAAAAAI/AAAAAAAAAT8/wkBV4gzRJY8/photo.jpg?sz=128", "display_name": "Darin Cardin", "link": "https://stackoverflow.com/users/6805788/darin-cardin"}, "is_accepted": false, "score": 3, "last_activity_date": 1527875651, "creation_date": 1527875651, "answer_id": 50648728, "question_id": 36985112, "link": "https://stackoverflow.com/questions/36985112/angular2-what-is-the-correct-way-to-disable-an-anchor-element/50648728#50648728", "title": "Angular2, what is the correct way to disable an anchor element?", "body": "<pre><code>   .disabled{ pointer-events: none }\n</code></pre>\n\n<p>will disable the click event, but not the tab event. To disable the tab event, you can set the tabindex to -1 if the disable flag is true.</p>\n\n<pre><code>&lt;li [routerLinkActive]=\"['active']\" [class.disabled]=\"isDisabled\"&gt;\n     &lt;a [routerLink]=\"['link']\" tabindex=\"{{isDisabled?-1:0}}\" &gt; Menu Item&lt;/a&gt;\n&lt;/li&gt;\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 21585, "user_id": 2410379, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/X2Tci.jpg?s=128&g=1", "display_name": "David Pine", "link": "https://stackoverflow.com/users/2410379/david-pine"}, "edited": false, "score": 0, "creation_date": 1529605589, "post_id": 50973846, "comment_id": 88946707, "body": "I do not believe this is correct. Angular still propagates the (click) binding, as such it would still occur. Please create a plunker with this and share it here."}, {"owner": {"reputation": 71, "user_id": 5832907, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/540991d3090590ca5e34b8b5387ceefe?s=128&d=identicon&r=PG&f=1", "display_name": "vineetk27", "link": "https://stackoverflow.com/users/5832907/vineetk27"}, "reply_to_user": {"reputation": 21585, "user_id": 2410379, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/X2Tci.jpg?s=128&g=1", "display_name": "David Pine", "link": "https://stackoverflow.com/users/2410379/david-pine"}, "edited": false, "score": 0, "creation_date": 1530454711, "post_id": 50973846, "comment_id": 89233268, "body": "@DavidPine I add one plunker for it. <a href=\"https://embed.plnkr.co/TOh8LM/\" rel=\"nofollow noreferrer\">embed.plnkr.co/TOh8LM</a>  I just gave reference for href tag in that, similarly it can work with <code>routerLink</code> directive within anchor tag"}], "tags": [], "owner": {"reputation": 71, "user_id": 5832907, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/540991d3090590ca5e34b8b5387ceefe?s=128&d=identicon&r=PG&f=1", "display_name": "vineetk27", "link": "https://stackoverflow.com/users/5832907/vineetk27"}, "is_accepted": false, "score": 6, "last_activity_date": 1530765277, "last_edit_date": 1530765277, "creation_date": 1529600104, "answer_id": 50973846, "question_id": 36985112, "link": "https://stackoverflow.com/questions/36985112/angular2-what-is-the-correct-way-to-disable-an-anchor-element/50973846#50973846", "title": "Angular2, what is the correct way to disable an anchor element?", "body": "<p>My answer might be late for this post. It can be achieved through inline css within anchor tag only.   </p>\n\n<p><code>&lt;a [routerLink]=\"['/user']\" [style.pointer-events]=\"isDisabled ?'none':'auto'\"&gt;click-label&lt;/a&gt;</code></p>\n\n<p>Considering <code>isDisabled</code> is a property in component which can be <code>true</code> or <code>false</code>.</p>\n\n<p>Plunker for it: \n<a href=\"https://embed.plnkr.co/TOh8LM/\" rel=\"noreferrer\">https://embed.plnkr.co/TOh8LM/</a></p>\n"}, {"tags": [], "owner": {"reputation": 11, "user_id": 10104244, "user_type": "unregistered", "profile_image": "https://www.gravatar.com/avatar/278c16c85e182fdfd7492d8ccdc8c5a1?s=128&d=identicon&r=PG", "display_name": "guest", "link": "https://stackoverflow.com/users/10104244/guest"}, "is_accepted": false, "score": 1, "last_activity_date": 1531991786, "last_edit_date": 1531991786, "creation_date": 1531989768, "answer_id": 51418105, "question_id": 36985112, "link": "https://stackoverflow.com/questions/36985112/angular2-what-is-the-correct-way-to-disable-an-anchor-element/51418105#51418105", "title": "Angular2, what is the correct way to disable an anchor element?", "body": "<p>I have used  </p>\n\n<pre><code>tabindex=\"{{isEditedParaOrder?-1:0}}\" \n[style.pointer-events]=\"isEditedParaOrder ?'none':'auto'\" \n</code></pre>\n\n<p>in my anchor tag so that they can not move to anchor tag by using tab to use \"enter\" key and also pointer itself we are setting to 'none' based on property 'isEditedParaO\nrder' whi</p>\n"}, {"comments": [{"owner": {"reputation": 21585, "user_id": 2410379, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/X2Tci.jpg?s=128&g=1", "display_name": "David Pine", "link": "https://stackoverflow.com/users/2410379/david-pine"}, "edited": false, "score": 0, "creation_date": 1559909902, "post_id": 56406781, "comment_id": 99577051, "body": "This does not work, while it will make it appear to be disabled - it is in fact still clickable, thus not at all solving the problem."}, {"owner": {"reputation": 21585, "user_id": 2410379, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/X2Tci.jpg?s=128&g=1", "display_name": "David Pine", "link": "https://stackoverflow.com/users/2410379/david-pine"}, "edited": false, "score": 0, "creation_date": 1560127226, "post_id": 56406781, "comment_id": 99623821, "body": "Here is the correct answer... <a href=\"https://stackoverflow.com/a/36987506/2410379\">stackoverflow.com/a/36987506/2410379</a>"}], "tags": [], "owner": {"reputation": 2284, "user_id": 7708344, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/TrJH7.jpg?s=128&g=1", "display_name": "Pullat Junaid", "link": "https://stackoverflow.com/users/7708344/pullat-junaid"}, "is_accepted": false, "score": -2, "last_activity_date": 1559392345, "creation_date": 1559392345, "answer_id": 56406781, "question_id": 36985112, "link": "https://stackoverflow.com/questions/36985112/angular2-what-is-the-correct-way-to-disable-an-anchor-element/56406781#56406781", "title": "Angular2, what is the correct way to disable an anchor element?", "body": "<p>Just use </p>\n\n<pre><code>&lt;a [ngClass]=\"{'disabled': your_condition}\"&gt; This a tag is disabled&lt;/a&gt;\n</code></pre>\n\n<p>Example:</p>\n\n<pre><code> &lt;a [ngClass]=\"{'disabled': name=='junaid'}\"&gt; This a tag is disabled&lt;/a&gt;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1308, "user_id": 7540573, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-9eQjdwhP2Z4/AAAAAAAAAAI/AAAAAAAAAQg/2XLRzqINYz0/photo.jpg?sz=128", "display_name": "Sahil Ralkar", "link": "https://stackoverflow.com/users/7540573/sahil-ralkar"}, "is_accepted": false, "score": 2, "last_activity_date": 1570603507, "creation_date": 1570603507, "answer_id": 58298444, "question_id": 36985112, "link": "https://stackoverflow.com/questions/36985112/angular2-what-is-the-correct-way-to-disable-an-anchor-element/58298444#58298444", "title": "Angular2, what is the correct way to disable an anchor element?", "body": "<p>consider the following solution</p>\n\n<pre><code>.disable-anchor-tag { \n  pointer-events: none; \n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 358, "user_id": 10661436, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/885cb92a519f7a51fd63de8414b16b25?s=128&d=identicon&r=PG&f=1", "display_name": "Henry", "link": "https://stackoverflow.com/users/10661436/henry"}, "is_accepted": false, "score": 1, "last_activity_date": 1593792217, "creation_date": 1593792217, "answer_id": 62719040, "question_id": 36985112, "link": "https://stackoverflow.com/questions/36985112/angular2-what-is-the-correct-way-to-disable-an-anchor-element/62719040#62719040", "title": "Angular2, what is the correct way to disable an anchor element?", "body": "<p>This is for anchor tags that act as tabs:</p>\n<pre><code>[ngStyle]=&quot;{'pointer-events': isSaving ? 'none': 'auto'}&quot;\n</code></pre>\n"}], "owner": {"reputation": 21585, "user_id": 2410379, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/X2Tci.jpg?s=128&g=1", "display_name": "David Pine", "link": "https://stackoverflow.com/users/2410379/david-pine"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 143558, "favorite_count": 10, "accepted_answer_id": 36987506, "answer_count": 10, "score": 75, "last_activity_date": 1593792217, "creation_date": 1462199902, "last_edit_date": 1462290346, "question_id": 36985112, "link": "https://stackoverflow.com/questions/36985112/angular2-what-is-the-correct-way-to-disable-an-anchor-element", "title": "Angular2, what is the correct way to disable an anchor element?", "body": "<p>I'm working on an <strong>Angular2</strong> application, and I need to display -- but <code>disable</code> an <code>&lt;a&gt;</code> <em>HTML</em> element. What is the correct way to do this?</p>\n\n<p><strong>Updated</strong></p>\n\n<p>Please note the <code>*ngFor</code>, this would prevent the option of using <code>*ngIf</code> and not rendering the <code>&lt;a&gt;</code> altogether.</p>\n\n<pre><code>&lt;a *ngFor=\"let link of links\"\n   href=\"#\" \n   [class.disabled]=\"isDisabled(link)\" \n   (click)=\"onClick(link)\"&gt;\n   {{ link.name }}\n&lt;/a&gt;\n</code></pre>\n\n<p>The <strong>TypeScript</strong> component has a method that looks like this:</p>\n\n<pre><code>onClick(link: LinkObj) {\n    // Do something relevant with the object... \n    return false;\n}\n</code></pre>\n\n<p>I need to actually prevent the element from being clickable, not just appear that it is with the <strong>CSS</strong>. I was assuming that I needed to potentially bind to the <code>[disabled]</code> attribute at first, but this is incorrect as the anchor element doesn't have a <code>disabled</code> property.</p>\n\n<p>I looked at and considered using the <code>pointer-events: none</code> but this prevents my style of <code>cursor: not-allowed</code> from working -- and this is part of the requirement.</p>\n"}, {"tags": ["typescript", "phpstorm", "constants", "webstorm"], "answers": [{"tags": [], "owner": {"reputation": 619, "user_id": 4040648, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/55811fad2da126c3106e5e9d46152838?s=128&d=identicon&r=PG&f=1", "display_name": "user4040648", "link": "https://stackoverflow.com/users/4040648/user4040648"}, "is_accepted": true, "score": 2, "last_activity_date": 1601715643, "last_edit_date": 1601715643, "creation_date": 1462209285, "answer_id": 36987931, "question_id": 36984735, "link": "https://stackoverflow.com/questions/36984735/phpstorm-webstorm-constant-with-html-code-inside-backtick-in-a-typescript-fi/36987931#36987931", "title": "PhpStorm (WebStorm) - Constant with HTML code inside backtick in a typescript file becomes plain text after 4120 characters. Loses syntax highlighting", "body": "<p>I didn't see anything in the <a href=\"https://youtrack.jetbrains.com/issues\" rel=\"nofollow noreferrer\">issue tracker</a>. I can reproduce it for the HTML language injection (occurs in PHP and JS as well). When I try a different language injection (e.g. SQL in php files), there did not appear to be a limit.</p>\n<p>You can create a new language injection rule by going to <strong>Setting</strong> &gt; <strong>Editor</strong> &gt; <strong>Language Injections</strong>. Click the green plus sign button. Provide at minimum the following. Refer to the links at the bottom if you want to tweak it further:</p>\n<p><strong>Name:</strong> <em>(choose a name)</em><br>\n<strong>ID:</strong> HTML<br>\n<strong>Places Patterns:</strong></p>\n<pre><code>+ jsLiteralExpression().withText(string().matchesBrics(&quot;(\\\\&lt;\\\\&lt;\\\\&lt;)?.*\\\\&lt;/?&lt;anyname&gt;.*&gt;.*&quot;))\n</code></pre>\n<p>Two other quick fixes that are good to know about:</p>\n<ul>\n<li><p>Languages can be defined in the comments. Add the following to the beginning of your file: <code>/* language=HTML */</code></p>\n</li>\n<li><p>Languages can be injected temporarily. With the caret in the string, press <code>Alt</code> + <code>Enter</code> and select <strong>Inject language or reference</strong>. Then select <strong>HTML</strong>.</p>\n</li>\n</ul>\n<h3>References</h3>\n<ul>\n<li><a href=\"https://www.jetbrains.com/help/idea/2016.1/intellilang.html\" rel=\"nofollow noreferrer\">IntelliLang Help</a></li>\n<li><a href=\"https://www.jetbrains.com/help/phpstorm/2016.1/language-injections.html\" rel=\"nofollow noreferrer\">Language Injections Help</a></li>\n<li><a href=\"https://plugins.jetbrains.com/plugin/1105?pr=phpStorm\" rel=\"nofollow noreferrer\">IntelliLang Plugin</a></li>\n</ul>\n"}], "owner": {"reputation": 65, "user_id": 2678683, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f731757530d03a627027c8024e43f4d9?s=128&d=identicon&r=PG&f=1", "display_name": "wazZzif", "link": "https://stackoverflow.com/users/2678683/wazzzif"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 332, "favorite_count": 0, "accepted_answer_id": 36987931, "answer_count": 1, "score": 3, "last_activity_date": 1601715643, "creation_date": 1462198787, "question_id": 36984735, "link": "https://stackoverflow.com/questions/36984735/phpstorm-webstorm-constant-with-html-code-inside-backtick-in-a-typescript-fi", "title": "PhpStorm (WebStorm) - Constant with HTML code inside backtick in a typescript file becomes plain text after 4120 characters. Loses syntax highlighting", "body": "<p>I am using PhpStorm (WebStorm) to build an angular 2 app using typescript. I have a .ts file that exports a constant that has the HTML (the view) of the component.</p>\n\n<p>PhpStorm (WebStorm) has this cool feature that recognizes HTML Syntax, error highlighting and coding assistance within backticks (`). The issue that I am facing is that after 4120 characters, the HTML syntax recognition stops and the code becomes plain text.</p>\n\n<p>I have searched around but haven't found anything on it. Is this a bug? Maybe there's a setting for it?</p>\n\n<p><strong>4120</strong> characters with HTML syntax working:\n<a href=\"https://i.stack.imgur.com/UnbdA.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/UnbdA.png\" alt=\"enter image description here\"></a></p>\n\n<p><strong>4121</strong> characters with HTML syntax NOT working:\n<a href=\"https://i.stack.imgur.com/gW1TC.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/gW1TC.png\" alt=\"enter image description here\"></a></p>\n\n<p><strong>PhpStorm Version:</strong><br>\nPhpStorm 2016.1<br>\nBuild #PS-145.258, built on March 16, 2016<br>\nJRE: 1.8.0_40-release-b132 x86_64<br>\nJVM: OpenJDK 64-Bit Server VM by JetBrains s.r.o<br><br></p>\n"}, {"tags": ["unit-testing", "debugging", "typescript", "mocha.js", "visual-studio-code"], "owner": {"reputation": 2995, "user_id": 152984, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/SRMEV.jpg?s=128&g=1", "display_name": "CuriousMind", "link": "https://stackoverflow.com/users/152984/curiousmind"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 605, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1465718506, "creation_date": 1462197760, "last_edit_date": 1465718506, "question_id": 36984357, "link": "https://stackoverflow.com/questions/36984357/typescript-debugging-mocha-tests-with-vscode", "title": "Typescript debugging mocha tests with VSCode", "body": "<p>I am having problem with breakpoints in VisualStudio Code. Refer to following image of my project</p>\n\n<p><a href=\"https://i.stack.imgur.com/q3pT8.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/q3pT8.png\" alt=\"enter image description here\"></a></p>\n\n<p>All my tests are written inside <code>test</code> folder and using gulp tasks they are transpiled to build folder. The build folder looks like below\n<a href=\"https://i.stack.imgur.com/skvEE.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/skvEE.png\" alt=\"enter image description here\"></a></p>\n\n<p>The generated js.map has following information</p>\n\n<blockquote>\n  <p>{\"version\":3,\"sources\":[\"test/modules/subscriber/index-test.ts\"],\"names\":[],\"mappings\":\";...lots\n  of js map code\n  here\",\"file\":\"test/modules/subscriber/index-test.js\",\"sourceRoot\":\"..\\..\\..\\..\"}</p>\n</blockquote>\n\n<p>I have configured launch.json for vs code with following </p>\n\n<pre><code>   {\n        \"name\":\"Debug mocha test\",\n        \"request\": \"launch\",\n        \"type\": \"node\",\n        \"program\": \"${workspaceRoot}/node_modules/mocha/bin/mocha\",\n        \"stopOnEntry\": false,\n        \"args\": [\"--recursive\", \"build/test\"],\n        \"runtimeArgs\": [\n            \"--nolazy\"\n        ],\n        \"env\": {\n            \"NODE_ENV\": \"development\"\n        },\n        \"externalConsole\": false,\n        \"cwd\": \"${workspaceRoot}\",\n        \"sourceMaps\": true,\n        \"outDir\": \"${workspaceRoot}/build\"\n    }\n</code></pre>\n\n<p>When I launch this configuration, mocha is able to find the tests and execute it but it doesn't halt at the breakpoints specified in .ts files. I tried changing sourceRoot and other options but it simply not working.</p>\n\n<p><strong>UPDATE</strong>\nWith Jasmine framework, I am able to run and debug the test cases using typescript. I have moved with Jasmine, not sure why mocha is not running.</p>\n"}, {"tags": ["typescript", "angular", "rxjs", "observable"], "comments": [{"owner": {"reputation": 181833, "user_id": 1873365, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/45TMV.png?s=128&g=1", "display_name": "Thierry Templier", "link": "https://stackoverflow.com/users/1873365/thierry-templier"}, "edited": false, "score": 0, "creation_date": 1462198067, "post_id": 36984059, "comment_id": 61523583, "body": "What does the <code>getPosts</code> method correspond to? Does it load the posts of a specific user?"}], "answers": [{"comments": [{"owner": {"reputation": 8277, "user_id": 3182091, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/284262fedffb2fcc38f36325780f9085?s=128&d=identicon&r=PG&f=1", "display_name": "Springrbua", "link": "https://stackoverflow.com/users/3182091/springrbua"}, "edited": false, "score": 1, "creation_date": 1462198548, "post_id": 36984559, "comment_id": 61523877, "body": "Yea the <code>getPosts()</code> returns an <code>Observable&lt;Array&lt;Post&gt;&gt;</code>. So I guess thats what I am looking for. I&#39;ll try it out asap and let you know if it worked. Thanks"}, {"owner": {"reputation": 8277, "user_id": 3182091, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/284262fedffb2fcc38f36325780f9085?s=128&d=identicon&r=PG&f=1", "display_name": "Springrbua", "link": "https://stackoverflow.com/users/3182091/springrbua"}, "edited": false, "score": 0, "creation_date": 1462199678, "post_id": 36984559, "comment_id": 61524553, "body": "Works perfectly. I only hat to replace <code>combineLatest</code> with <code>forkJoin</code>. Thanks a lot!"}], "tags": [], "owner": {"reputation": 181833, "user_id": 1873365, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/45TMV.png?s=128&g=1", "display_name": "Thierry Templier", "link": "https://stackoverflow.com/users/1873365/thierry-templier"}, "is_accepted": true, "score": 39, "last_activity_date": 1462198299, "creation_date": 1462198299, "answer_id": 36984559, "question_id": 36984059, "link": "https://stackoverflow.com/questions/36984059/rxjs-array-of-observable-to-array/36984559#36984559", "title": "RxJs Array of Observable to Array", "body": "<p>The <code>flatMap</code> operator allows to do that. I don't fully understand what you try to do but I'll try to provide an answer...</p>\n\n<p>If you want load all the </p>\n\n<pre><code>getPostsPerUser() {\n  return this.http.get('/users')\n    .map(res =&gt; res.json())\n    .flatMap((result : Array&lt;User&gt;) =&gt; {\n      return Observable.forkJoin(\n        result.map((user : User) =&gt; user.getPosts());\n    });\n}\n</code></pre>\n\n<p><code>Observable.forkJoin</code> allows you to wait for all observables to have received data.</p>\n\n<p>The code above assumes that <code>user.getPosts()</code> returns an observable...</p>\n\n<p>With this, you will receive an array of array of posts:</p>\n\n<pre><code>this.getPostsPerUser().subscribe(result =&gt; {\n  var postsUser1 = result[0];\n  var postsUser2 = result[1];\n  (...)\n});\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 8277, "user_id": 3182091, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/284262fedffb2fcc38f36325780f9085?s=128&d=identicon&r=PG&f=1", "display_name": "Springrbua", "link": "https://stackoverflow.com/users/3182091/springrbua"}, "edited": false, "score": 0, "creation_date": 1484214487, "post_id": 41609762, "comment_id": 70421169, "body": "I guess this should work to, but I&#39;ll stick with <code>forkJoin</code> for now."}], "tags": [], "owner": {"reputation": 914, "user_id": 4344737, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pqw7R.jpg?s=128&g=1", "display_name": "Lievno", "link": "https://stackoverflow.com/users/4344737/lievno"}, "is_accepted": false, "score": 8, "last_activity_date": 1526665717, "last_edit_date": 1526665717, "creation_date": 1484214258, "answer_id": 41609762, "question_id": 36984059, "link": "https://stackoverflow.com/questions/36984059/rxjs-array-of-observable-to-array/41609762#41609762", "title": "RxJs Array of Observable to Array", "body": "<p>You can use the function apply on the rxjs method you want, like this:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"true\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const source1 = Rx.Observable.interval(100)\r\n  .map(function (i) { return 'First: ' + i; });\r\n\r\nconst source2 = Rx.Observable.interval(150)\r\n  .map(function (i) { return 'Second: ' + i; });\r\n\r\nconst observablesArray = [source1, source2];\r\n\r\nconst sources = Rx.Observable.combineLatest\r\n.apply(this, observablesArray).take(4)\r\n\r\n/* or you can write it without \"apply\" this way:\r\nconst sources = Rx.Observable\r\n                .combineLatest(...observablesArray)\r\n                .take(4)\r\n*/\r\nsources.subscribe(\r\n  (response) =&gt; {\r\n    console.log(response);\r\n  }\r\n)</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;script src=\"https://cdnjs.cloudflare.com/ajax/libs/rxjs/5.0.1/Rx.min.js\"&gt;&lt;/script&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": [], "owner": {"reputation": 461, "user_id": 1139247, "user_type": "registered", "accept_rate": 22, "profile_image": "https://www.gravatar.com/avatar/d0be3a7c6df993ac84c5bfcbcb278db7?s=128&d=identicon&r=PG", "display_name": "r ne", "link": "https://stackoverflow.com/users/1139247/r-ne"}, "is_accepted": false, "score": 2, "last_activity_date": 1527165961, "creation_date": 1527165961, "answer_id": 50509846, "question_id": 36984059, "link": "https://stackoverflow.com/questions/36984059/rxjs-array-of-observable-to-array/50509846#50509846", "title": "RxJs Array of Observable to Array", "body": "<p>Use forkJoin on this array of observables, then it will be an observable of array.</p>\n"}, {"tags": [], "owner": {"reputation": 301, "user_id": 1934792, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5c1292a06d5ef01d42830d7bca1c1eae?s=128&d=identicon&r=PG", "display_name": "Paul John Leonard", "link": "https://stackoverflow.com/users/1934792/paul-john-leonard"}, "is_accepted": false, "score": 2, "last_activity_date": 1538844908, "creation_date": 1538844908, "answer_id": 52681305, "question_id": 36984059, "link": "https://stackoverflow.com/questions/36984059/rxjs-array-of-observable-to-array/52681305#52681305", "title": "RxJs Array of Observable to Array", "body": "<p>Here is some example code using rxjs@6.3.3</p>\n\n<pre><code>import { of, forkJoin} from 'rxjs';\nimport { Observable } from 'rxjs'\n\nconst source:Array&lt;Observable&lt;String&gt;&gt; = [of('A'), of('B'), of('C') ];\n\nforkJoin(source).subscribe( (x)=&gt; console.log(x))\n</code></pre>\n\n<p><a href=\"https://arrayofobservablesexamp.stackblitz.io\" rel=\"nofollow noreferrer\">https://arrayofobservablesexamp.stackblitz.io</a></p>\n"}, {"tags": [], "owner": {"reputation": 789, "user_id": 7429464, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/87cbc78c40faa671dfd44f89cd58f287?s=128&d=identicon&r=PG&f=1", "display_name": "FindOutIslamNow", "link": "https://stackoverflow.com/users/7429464/findoutislamnow"}, "is_accepted": false, "score": 0, "last_activity_date": 1572187980, "creation_date": 1572187980, "answer_id": 58580474, "question_id": 36984059, "link": "https://stackoverflow.com/questions/36984059/rxjs-array-of-observable-to-array/58580474#58580474", "title": "RxJs Array of Observable to Array", "body": "<p>Using <code>toArray()</code></p>\n\n<pre><code>range(0, 7).pipe(\n  concatMap(v =&gt; of(`day_${v}`)),\n  toArray() // here\n).subscribe(a =&gt; {\n  console.log(a); // ['day_0', 'day_1', ... 'day_6']\n});\n</code></pre>\n"}], "owner": {"reputation": 8277, "user_id": 3182091, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/284262fedffb2fcc38f36325780f9085?s=128&d=identicon&r=PG&f=1", "display_name": "Springrbua", "link": "https://stackoverflow.com/users/3182091/springrbua"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 55848, "favorite_count": 2, "accepted_answer_id": 36984559, "answer_count": 5, "score": 26, "last_activity_date": 1572187980, "creation_date": 1462196949, "last_edit_date": 1469716142, "question_id": 36984059, "link": "https://stackoverflow.com/questions/36984059/rxjs-array-of-observable-to-array", "title": "RxJs Array of Observable to Array", "body": "<p>For a Web-Application written with Angular2 in TypeScript, I need to work with RxJs <code>Observable</code>s.<br>\nAs I never used rxjs before and I am new to reactiveprogramming in general, I sometimes have some difficulties finding the right way to do some specific things.<br>\nI am now facing a problem. where I have to convert an <code>Array&lt;Observable&lt;T&gt;&gt;</code> into an <code>Observable&lt;Array&lt;T&gt;&gt;</code>.<br>\nI'll try to explain it with an example:<br>\n- I have an <code>Observable</code>, which gives me a list of <code>Users</code> (<code>Observable&lt;Array&lt;User&gt;&gt;</code>)<br>\n- The <code>User</code>-class has a function <code>getPosts</code> returning an <code>Observable&lt;Array&lt;Post&gt;&gt;</code>.<br>\n- I need to map the <code>Observable&lt;Array&lt;User&gt;&gt;</code> to an <code>Observable&lt;Array&lt;Post&gt;&gt;</code> to evaluate all the <code>Post</code>s inside the <code>onNext</code> function.  </p>\n\n<p>I can easily map from <code>Observable&lt;Array&lt;User&gt;&gt;</code> to <code>Observable&lt;Array&lt;Observable&lt;Array&lt;Post&gt;&gt;&gt;&gt;</code> using<br>\n<code>map((result : Array&lt;User&gt;) =&gt; result.map((user : User) =&gt; user.getPosts()))</code><br>\nans I can flatten an <code>Array&lt;Array&lt;Post&gt;&gt;</code> into an <code>Array&lt;Post&gt;</code>.<br>\nHowever I just can't find the correct way to map the <code>Observable&lt;Array&lt;Observable&lt;Array&lt;Post&gt;&gt;&gt;&gt;</code> into an <code>Observable&lt;Array&lt;Array&lt;Post&gt;&gt;&gt;</code><br>\nUntil now i used the <code>combineLatest</code> function together with <code>flatMap</code>.<br>\nTo me it seemed to work and the editor i used (Atom editor) did not show any error. However now I use Netbeans, which shows me an error in this code. Also compiling the code using \"tsc\" results in errors.<br>\nThe look like this:  </p>\n\n<pre><code>Argument of type '(result: Post[]) =&gt; void' is not assignable to parameter of type 'NextObserver&lt;[Observable&lt;Post&gt;]&gt; | ErrorObserver&lt;[Observable&lt;Post&gt;]&gt; | CompletionObserver&lt;[...'.\nType '(result: Post[]) =&gt; void' is not assignable to type '(value: [Observable&lt;Post&gt;]) =&gt; void'.  \n</code></pre>\n\n<p>So my question is:<br>\nHow can I \"flatten\" an <code>Array</code> of <code>Observables</code> into an <code>Array</code>?</p>\n"}, {"tags": ["typescript", "angular"], "comments": [{"owner": {"reputation": 483726, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 1, "creation_date": 1462197481, "post_id": 36983944, "comment_id": 61523178, "body": "PHP is server side and Angular routing is client side. Why do you expect to get the id in PHP? When you click the router link Angular doesn&#39;t call to the server, it just updates the current page."}, {"owner": {"reputation": 11587, "user_id": 2651006, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/21db98493eb83498d8d0443c3fa3134f?s=128&d=identicon&r=PG", "display_name": "Ploppy", "link": "https://stackoverflow.com/users/2651006/ploppy"}, "reply_to_user": {"reputation": 483726, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1462197517, "post_id": 36983944, "comment_id": 61523202, "body": "It was possible and really easy to do with AngularJS and UI-Router. Angular2 is meant to be cross platform. So it should be possible, or am I missing a huge part of angular 2 ? How could I query my MySQL database without PHP ?"}, {"owner": {"reputation": 483726, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1462197558, "post_id": 36983944, "comment_id": 61523237, "body": "I don&#39;t know UI-Router"}, {"owner": {"reputation": 11587, "user_id": 2651006, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/21db98493eb83498d8d0443c3fa3134f?s=128&d=identicon&r=PG", "display_name": "Ploppy", "link": "https://stackoverflow.com/users/2651006/ploppy"}, "reply_to_user": {"reputation": 483726, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1462197782, "post_id": 36983944, "comment_id": 61523400, "body": "The main thing is that they say that Angular 2 is Cross Platform. And if it was possible with AngularJS, I&#39;m almost certain taht it&#39;s possible to do it with Angular 2."}, {"owner": {"reputation": 483726, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1462197879, "post_id": 36983944, "comment_id": 61523459, "body": "To me this doesn&#39;t make sense. How would you get the parameter on the server when the server isn&#39;t even contacted. Why do you expect the server being involved at all?"}, {"owner": {"reputation": 11587, "user_id": 2651006, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/21db98493eb83498d8d0443c3fa3134f?s=128&d=identicon&r=PG", "display_name": "Ploppy", "link": "https://stackoverflow.com/users/2651006/ploppy"}, "reply_to_user": {"reputation": 483726, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1462198044, "post_id": 36983944, "comment_id": 61523575, "body": "I did a quick website project with AngularJS that was supporting PHP Get&amp;Post parameters, PHP Session, Login Forms etc."}, {"owner": {"reputation": 483726, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1462198108, "post_id": 36983944, "comment_id": 61523619, "body": "Then you need to actually make a get and post request which the Angular router doesn&#39;t make. I just updates the page inside the browser."}, {"owner": {"reputation": 11587, "user_id": 2651006, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/21db98493eb83498d8d0443c3fa3134f?s=128&d=identicon&r=PG", "display_name": "Ploppy", "link": "https://stackoverflow.com/users/2651006/ploppy"}, "reply_to_user": {"reputation": 483726, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1462198349, "post_id": 36983944, "comment_id": 61523760, "body": "That is the solution I explained at the end of the my post. But it increases the loading time which is against the way Angular 2 was designed and that make me think that there is an other way to do it."}], "answers": [{"comments": [{"owner": {"reputation": 11587, "user_id": 2651006, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/21db98493eb83498d8d0443c3fa3134f?s=128&d=identicon&r=PG", "display_name": "Ploppy", "link": "https://stackoverflow.com/users/2651006/ploppy"}, "edited": false, "score": 0, "creation_date": 1462198214, "post_id": 36984426, "comment_id": 61523682, "body": "This is what I am doing right now. But I get the following error : &quot;Undefined index: id&quot;. So I suppose that Angular2 doesn&#39;t forward URL parameters by default and I am looking for a way to do it."}, {"owner": {"reputation": 890, "user_id": 3179199, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c485038486d603f278db1d08d639b386?s=128&d=identicon&r=PG", "display_name": "PolishDeveloper", "link": "https://stackoverflow.com/users/3179199/polishdeveloper"}, "reply_to_user": {"reputation": 11587, "user_id": 2651006, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/21db98493eb83498d8d0443c3fa3134f?s=128&d=identicon&r=PG", "display_name": "Ploppy", "link": "https://stackoverflow.com/users/2651006/ploppy"}, "edited": false, "score": 0, "creation_date": 1462198772, "post_id": 36984426, "comment_id": 61524022, "body": "Then try to check the full server uri. You can check or browser dev tools (network tab) to check outgoing requests, or check the apache/nging logs to see the GET request, or you can dump the full request URI in PHP (<a href=\"http://stackoverflow.com/questions/6768793/get-the-full-url-in-php\" title=\"get the full url in php\">stackoverflow.com/questions/6768793/get-the-full-url-in-php</a>&zwnj;&#8203;)"}, {"owner": {"reputation": 11587, "user_id": 2651006, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/21db98493eb83498d8d0443c3fa3134f?s=128&d=identicon&r=PG", "display_name": "Ploppy", "link": "https://stackoverflow.com/users/2651006/ploppy"}, "edited": false, "score": 0, "creation_date": 1462198993, "post_id": 36984426, "comment_id": 61524161, "body": "Thank you for the info, I checked and the url is :  <a href=\"http://localhost/templates/player.php\" rel=\"nofollow noreferrer\">localhost/templates/player.php</a> so there is no parameters which brings me back all the way to the beginning : Angular2 doesn&#39;t forward parameters to the php file."}], "tags": [], "owner": {"reputation": 890, "user_id": 3179199, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c485038486d603f278db1d08d639b386?s=128&d=identicon&r=PG", "display_name": "PolishDeveloper", "link": "https://stackoverflow.com/users/3179199/polishdeveloper"}, "is_accepted": false, "score": 0, "last_activity_date": 1462197927, "creation_date": 1462197927, "answer_id": 36984426, "question_id": 36983944, "link": "https://stackoverflow.com/questions/36983944/angular-2-typescript-php-get-post-with-routing/36984426#36984426", "title": "Angular 2 | Typescript : PHP GET &amp; POST with routing", "body": "<p>in PHP you can easily access the GET parameters using <code>$_GET</code> array, in this scenario :</p>\n\n<pre><code>$id = $_GET['id'];\n</code></pre>\n\n<p>Additionally you should always verify that given parameter exists, so the full example would be :</p>\n\n<pre><code>$id = array_key_exists('id', $_GET) ? intval($_GET['id']) : null;\nif ($id === null) {\n    //error handling for missing or non-int id\n}\n</code></pre>\n\n<p>For debugging purpouses just do <code>var_dump($_GET);</code>. It should show you all get parameters</p>\n"}, {"comments": [{"owner": {"reputation": 11587, "user_id": 2651006, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/21db98493eb83498d8d0443c3fa3134f?s=128&d=identicon&r=PG", "display_name": "Ploppy", "link": "https://stackoverflow.com/users/2651006/ploppy"}, "edited": false, "score": 1, "creation_date": 1462198715, "post_id": 36984642, "comment_id": 61523972, "body": "So the only way to do it is to use AJAX basically ? I first load the empty page then load with AJAX the php file that could load as example an article stored in the database ?"}, {"owner": {"reputation": 483726, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "reply_to_user": {"reputation": 11587, "user_id": 2651006, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/21db98493eb83498d8d0443c3fa3134f?s=128&d=identicon&r=PG", "display_name": "Ploppy", "link": "https://stackoverflow.com/users/2651006/ploppy"}, "edited": false, "score": 0, "creation_date": 1462198766, "post_id": 36984642, "comment_id": 61524018, "body": "Currently yes. . ."}, {"owner": {"reputation": 483726, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "reply_to_user": {"reputation": 11587, "user_id": 2651006, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/21db98493eb83498d8d0443c3fa3134f?s=128&d=identicon&r=PG", "display_name": "Ploppy", "link": "https://stackoverflow.com/users/2651006/ploppy"}, "edited": false, "score": 0, "creation_date": 1462198932, "post_id": 36984642, "comment_id": 61524123, "body": "Not sure what you mean by that. What would the article return? HTML, JSON? Angular2 doesn&#39;t process dynamically added HTML (no binding and component or instantiation). There are workarounds to make Angular parse HTML at runtime but it&#39;s not clear this will be officially supported."}, {"owner": {"reputation": 11587, "user_id": 2651006, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/21db98493eb83498d8d0443c3fa3134f?s=128&d=identicon&r=PG", "display_name": "Ploppy", "link": "https://stackoverflow.com/users/2651006/ploppy"}, "edited": false, "score": 0, "creation_date": 1462199149, "post_id": 36984642, "comment_id": 61524241, "body": "I was able to do all of this with AngularJS. If I can&#39;t simply load content from a database, why should I use Angular2 when I&#39;m building a website ? I&#39;m pretty sure there is something big that I&#39;m missing right now."}, {"owner": {"reputation": 483726, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "reply_to_user": {"reputation": 11587, "user_id": 2651006, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/21db98493eb83498d8d0443c3fa3134f?s=128&d=identicon&r=PG", "display_name": "Ploppy", "link": "https://stackoverflow.com/users/2651006/ploppy"}, "edited": false, "score": 0, "creation_date": 1462199248, "post_id": 36984642, "comment_id": 61524294, "body": "The question might be why would you do it &quot;this way&quot;. You can load data dynamically and bind the data using a component. The Angular team strives to resolve as much as possible statically to minimize time to first interaction for the user by reducing the code that needs to be run for showing content and minimize download size."}, {"owner": {"reputation": 11587, "user_id": 2651006, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/21db98493eb83498d8d0443c3fa3134f?s=128&d=identicon&r=PG", "display_name": "Ploppy", "link": "https://stackoverflow.com/users/2651006/ploppy"}, "edited": false, "score": 0, "creation_date": 1462199663, "post_id": 36984642, "comment_id": 61524548, "body": "The most simple example I&#39;m trying to do right now is basically to load a page with an ID as a parameter and query the Database to get the complete profile of the user. If I understand correctly, what you are telling me to do is to load the empty profile template file and then use the Angular Http class to request a php file that would return as example the JSON data of the profile stored in the database."}, {"owner": {"reputation": 483726, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "reply_to_user": {"reputation": 11587, "user_id": 2651006, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/21db98493eb83498d8d0443c3fa3134f?s=128&d=identicon&r=PG", "display_name": "Ploppy", "link": "https://stackoverflow.com/users/2651006/ploppy"}, "edited": false, "score": 0, "creation_date": 1462199805, "post_id": 36984642, "comment_id": 61524647, "body": "The empty template might be included in the initial load anyway. You might need to reconsider how web applications are built if you want to use Angular2. Trying to use the &quot;old&quot; thinking with a new tool might not work well."}, {"owner": {"reputation": 11587, "user_id": 2651006, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/21db98493eb83498d8d0443c3fa3134f?s=128&d=identicon&r=PG", "display_name": "Ploppy", "link": "https://stackoverflow.com/users/2651006/ploppy"}, "edited": false, "score": 0, "creation_date": 1462200149, "post_id": 36984642, "comment_id": 61524879, "body": "By default Angular2 only load the template file of the current &lt;router-outlet&gt; and keep a cache version of it. So I would need to load the empty profile template anyway. And then request the content of the profile using the http class. I know I&#39;m new to the concept. So what I&#39;m saying may look stupid. So feel free to correct me. Thank you."}, {"owner": {"reputation": 483726, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "reply_to_user": {"reputation": 11587, "user_id": 2651006, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/21db98493eb83498d8d0443c3fa3134f?s=128&d=identicon&r=PG", "display_name": "Ploppy", "link": "https://stackoverflow.com/users/2651006/ploppy"}, "edited": false, "score": 0, "creation_date": 1462200535, "post_id": 36984642, "comment_id": 61525150, "body": "AFAIK this is only if a route is declared as async route but by default components are included in the initial load. There is ongoing work for a build step that replaces the reflective access for binding and all other kind of stuff (also routing) that is used during development by generated code. So you should strive for making things statically resolveable instead of loading HTML from a server. I have seen it mentioned that it still should be possible to include the compiler in the bundle the client actually loads but this approach doesn&#39;t seem to be a high priority for first release."}, {"owner": {"reputation": 11587, "user_id": 2651006, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/21db98493eb83498d8d0443c3fa3134f?s=128&d=identicon&r=PG", "display_name": "Ploppy", "link": "https://stackoverflow.com/users/2651006/ploppy"}, "edited": false, "score": 0, "creation_date": 1462201102, "post_id": 36984642, "comment_id": 61525518, "body": "You said earlier that all the templates were loaded during the first load, that&#39;s why I got confused. On the other side, I agree that all the components are loaded though. But anyway I still need to request the supposed JSON file using the http class. Now, I need to figure out when I should load it. Should I put it in the constructor of the profileComponent ?"}, {"owner": {"reputation": 483726, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "reply_to_user": {"reputation": 11587, "user_id": 2651006, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/21db98493eb83498d8d0443c3fa3134f?s=128&d=identicon&r=PG", "display_name": "Ploppy", "link": "https://stackoverflow.com/users/2651006/ploppy"}, "edited": false, "score": 0, "creation_date": 1462201268, "post_id": 36984642, "comment_id": 61525614, "body": "Such code is best placed into a service. I guess it&#39;s best to invoke it from the constructor of your component. See also <a href=\"https://angular.io/docs/ts/latest/cookbook/component-communication.html#!#bidirectional-service\" rel=\"nofollow noreferrer\">angular.io/docs/ts/latest/cookbook/&hellip;</a>, <a href=\"http://stackoverflow.com/questions/36271899/what-is-the-correct-way-to-share-the-result-of-an-angular-2-http-network-call-in\" title=\"what is the correct way to share the result of an angular 2 http network call in\">stackoverflow.com/questions/36271899/&hellip;</a>"}, {"owner": {"reputation": 11587, "user_id": 2651006, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/21db98493eb83498d8d0443c3fa3134f?s=128&d=identicon&r=PG", "display_name": "Ploppy", "link": "https://stackoverflow.com/users/2651006/ploppy"}, "edited": false, "score": 0, "creation_date": 1462201416, "post_id": 36984642, "comment_id": 61525703, "body": "I&#39;ve never used the Services provided by Angular, that&#39;s why I&#39;m having such problems I guess. Thank you very much for your help. I&#39;m gonna learn those services :)"}, {"owner": {"reputation": 11587, "user_id": 2651006, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/21db98493eb83498d8d0443c3fa3134f?s=128&d=identicon&r=PG", "display_name": "Ploppy", "link": "https://stackoverflow.com/users/2651006/ploppy"}, "reply_to_user": {"reputation": 483726, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1462202081, "post_id": 36984642, "comment_id": 61526086, "body": "Let us <a href=\"http://chat.stackoverflow.com/rooms/110846/discussion-between-ploppy-and-gunter-zochbauer\">continue this discussion in chat</a>."}], "tags": [], "owner": {"reputation": 483726, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "is_accepted": true, "score": 1, "last_activity_date": 1462198540, "creation_date": 1462198540, "answer_id": 36984642, "question_id": 36983944, "link": "https://stackoverflow.com/questions/36983944/angular-2-typescript-php-get-post-with-routing/36984642#36984642", "title": "Angular 2 | Typescript : PHP GET &amp; POST with routing", "body": "<p>The router doesn't make HTTP requests on route change and there is currently no feature that allows to enable that. If you want to pass data to the server use</p>\n\n<pre><code>http.get(...).map(...).subscribe(...);\n</code></pre>\n\n<p>or</p>\n\n<pre><code>http.post(...).map(...).subscribe(...);\n</code></pre>\n\n<p>using <a href=\"https://angular.io/docs/js/latest/api/http/Http-class.html\" rel=\"nofollow\">Http</a></p>\n"}], "owner": {"reputation": 11587, "user_id": 2651006, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/21db98493eb83498d8d0443c3fa3134f?s=128&d=identicon&r=PG", "display_name": "Ploppy", "link": "https://stackoverflow.com/users/2651006/ploppy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1791, "favorite_count": 0, "accepted_answer_id": 36984642, "answer_count": 2, "score": 0, "last_activity_date": 1462198540, "creation_date": 1462196609, "last_edit_date": 1462197435, "question_id": 36983944, "link": "https://stackoverflow.com/questions/36983944/angular-2-typescript-php-get-post-with-routing", "title": "Angular 2 | Typescript : PHP GET &amp; POST with routing", "body": "<p>My RoutConfig :</p>\n\n<pre><code>{ path:'/player', name: 'Player', component: PlayerComponent }\n</code></pre>\n\n<p>The router directive I use :</p>\n\n<pre><code>&lt;a [routerLink]=\"['Player', {id: 1}]\"&gt;Player&lt;/a&gt;\n</code></pre>\n\n<p>The give URL on click :</p>\n\n<pre><code>http://localhost/player?id=1\n</code></pre>\n\n<p>And the question is, how can I get the value of this \"id\" parameter with the $_GET function of PHP ?</p>\n\n<p>Because right now PHP gives me an error saying that the \"id\" parameter does not exist. So I guess that angular 2 doesn't forward the parameter to the PHP template file when it loads it.</p>\n\n<p>One of the solution could be to read the parameter with Angular and then load the content with AJAX. But I'm pretty sure there is an obvious solution that I'm missing.</p>\n\n<p>PS : I know I could use the following RouteConfig :</p>\n\n<pre><code>{ path:'/player/:id', name: 'Player', component: PlayerComponent }\n</code></pre>\n"}, {"tags": ["angularjs", "typescript"], "comments": [{"owner": {"reputation": 118994, "user_id": 942852, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/secsn.jpg?s=128&g=1", "display_name": "Nitzan Tomer", "link": "https://stackoverflow.com/users/942852/nitzan-tomer"}, "edited": false, "score": 0, "creation_date": 1462193826, "post_id": 36982944, "comment_id": 61520872, "body": "How do you know to create an instance of <code>Car</code> and not <code>Truck</code> (for example) ?"}], "answers": [{"tags": [], "owner": {"reputation": 12071, "user_id": 2114871, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/32014397a1d14951a2f9170e1805766f?s=128&d=identicon&r=PG", "display_name": "iberbeu", "link": "https://stackoverflow.com/users/2114871/iberbeu"}, "is_accepted": false, "score": 0, "last_activity_date": 1462196638, "creation_date": 1462196638, "answer_id": 36983953, "question_id": 36982944, "link": "https://stackoverflow.com/questions/36982944/create-a-child-instance-from-parent-class-in-angularjstypescript/36983953#36983953", "title": "Create a child instance from parent class in AngularJS+Typescript", "body": "<p>Just override <code>getNewInstance</code> in class <code>Car</code> and return a car. Something like</p>\n\n<pre><code>class Car extends Vehicle {\n    public getNewInstance(): Car {\n        return new Car(); \n    }\n}\n</code></pre>\n\n<p>Vehicle shouldn't know from Car. So your approach is not very clean. </p>\n\n<p>Anyway it seems that what you are looking for is more a <strong>factory</strong> than a superclass knowing about its children. I suggest you to implement a factory with methods for returning an instance of each single child. You can then create a method with an input that lets you know which class you want or a method for each single class. The class Vehicle could be the factory itself but I personally don't like that approach</p>\n"}, {"tags": [], "owner": {"reputation": 118994, "user_id": 942852, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/secsn.jpg?s=128&g=1", "display_name": "Nitzan Tomer", "link": "https://stackoverflow.com/users/942852/nitzan-tomer"}, "is_accepted": true, "score": 1, "last_activity_date": 1462207843, "last_edit_date": 1592644375, "creation_date": 1462198259, "answer_id": 36984547, "question_id": 36982944, "link": "https://stackoverflow.com/questions/36982944/create-a-child-instance-from-parent-class-in-angularjstypescript/36984547#36984547", "title": "Create a child instance from parent class in AngularJS+Typescript", "body": "<p>Your code won't do it because you want a static method not an instance method.</p>\n<p>You can do this:</p>\n<pre><code>class Vehicle {\n    public static getNewInstance(): Vehicle {\n        return new this();\n    }\n\n    public getWheels(): Number {\n        throw new Error(&quot;unknown number of wheels for abstract Vehicle&quot;);\n    }\n}\n\nclass Car extends Vehicle {\n    public getWheels(): Number {\n        return 4;\n    }\n}\n</code></pre>\n<p>Because <code>Vehicle</code> now has a static <code>getNewInstance</code> method, then all of the extending classes have that as well.<br />\nSo:</p>\n<pre><code>let v = Vehicle.getNewInstance();\nconsole.log(v); // Vehicle {}\nconsole.log(v.getWheels()); // Uncaught Error: unknown number of wheels for abstract Vehicle\n\nlet c = Car.getNewInstance();\nconsole.log(c); // Car {}\nconsole.log(c.getWheels()); // 4\n</code></pre>\n<hr />\n<h3>Edit</h3>\n<p>If I misunderstood you and you indeed want to call <code>getNewInstance</code> on an existing instance then you can either do this:</p>\n<pre><code>abstract class Vehicle {\n    public abstract getNewInstance(): Vehicle;\n}\n\nclass Car extends Vehicle {\n    public getNewInstance(): Vehicle {\n        return new Car();\n    }\n    \n    public getWheels(): Number {\n        return 4;\n    }\n}\n</code></pre>\n<p>Or this:</p>\n<pre><code>class Vehicle {\n    private ctor: { new (): Vehicle };\n    \n    constructor(ctor: { new (): Vehicle }) {\n        this.ctor = ctor;\n    }\n    \n    public getNewInstance(): Vehicle {\n        return new this.ctor();\n    }\n}\n\nclass Car extends Vehicle {\n    constructor() {\n        super(Car);\n    }\n    \n    public getWheels(): Number {\n        return 4;\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 2350, "user_id": 860878, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/4d8d13565d80cd3ba96b9f688b2a98c9?s=128&d=identicon&r=PG", "display_name": "pablorsk", "link": "https://stackoverflow.com/users/860878/pablorsk"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 434, "favorite_count": 1, "accepted_answer_id": 36984547, "answer_count": 2, "score": 4, "last_activity_date": 1462207843, "creation_date": 1462193561, "question_id": 36982944, "link": "https://stackoverflow.com/questions/36982944/create-a-child-instance-from-parent-class-in-angularjstypescript", "title": "Create a child instance from parent class in AngularJS+Typescript", "body": "<p>How can I create a instance for child class from parent method?</p>\n\n<p>For example:</p>\n\n<pre><code>class Vehicle {\n    public getNewInstance(): ICar {\n        // What should be here? \n        return new XXXXXXXX; \n    }\n}\n\nclass Car extends Vehicle {\n    public getWheels(): Number {\n        return 4;\n    }\n}\n</code></pre>\n\n<p>Now, I need do this to get a new instance of Car:</p>\n\n<pre><code>Car.getNewInstance();\n</code></pre>\n\n<p>Vehicle has a many extended classes, and I prevent repeat the code in every child. Also, child classses has more childs too.</p>\n"}, {"tags": ["javascript", "typescript", "angular"], "comments": [{"owner": {"reputation": 1203, "user_id": 4786416, "user_type": "registered", "accept_rate": 71, "profile_image": "https://lh3.googleusercontent.com/-0U3EhSGmBOs/AAAAAAAAAAI/AAAAAAAAAKg/fDbv7URybpQ/photo.jpg?sz=128", "display_name": "thegio", "link": "https://stackoverflow.com/users/4786416/thegio"}, "edited": false, "score": 0, "creation_date": 1462186964, "post_id": 36980868, "comment_id": 61516724, "body": "would be probably better to do a plunker"}], "answers": [{"tags": [], "owner": {"reputation": 483726, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "is_accepted": false, "score": 1, "last_activity_date": 1462187085, "creation_date": 1462187085, "answer_id": 36980927, "question_id": 36980868, "link": "https://stackoverflow.com/questions/36980868/angular-2-landing-page/36980927#36980927", "title": "Angular 2 landing page", "body": "<p>You can just redirect to a specific route on load when the token is not available.</p>\n\n<pre><code>export class AppComponent {\n  constructor(private router:Router) {\n    if(!hasToken()) {\n      router.navigate(['/LoginForm']);\n    }\n  }\n}\n</code></pre>\n\n<p>Alternatively you can create a custom <code>RouterOutlet</code> that checks for each route if it is allowed for the user to navigate to that route like explained in <a href=\"http://www.captaincodeman.com/2016/03/31/angular2-route-security/\" rel=\"nofollow\">http://www.captaincodeman.com/2016/03/31/angular2-route-security/</a></p>\n"}, {"comments": [{"owner": {"reputation": 127321, "user_id": 2435473, "user_type": "registered", "accept_rate": 59, "profile_image": "https://i.stack.imgur.com/8hKGc.jpg?s=128&g=1", "display_name": "Pankaj Parkar", "link": "https://stackoverflow.com/users/2435473/pankaj-parkar"}, "edited": false, "score": 1, "creation_date": 1462188096, "post_id": 36981007, "comment_id": 61517338, "body": "looks interesting, extending behavior of class +1"}], "tags": [], "owner": {"reputation": 5503, "user_id": 2903341, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Ekzpx.jpg?s=128&g=1", "display_name": "Dinistro", "link": "https://stackoverflow.com/users/2903341/dinistro"}, "is_accepted": true, "score": 3, "last_activity_date": 1462187645, "last_edit_date": 1462187645, "creation_date": 1462187329, "answer_id": 36981007, "question_id": 36980868, "link": "https://stackoverflow.com/questions/36980868/angular-2-landing-page/36981007#36981007", "title": "Angular 2 landing page", "body": "<p>You can override the router-outlet and check on activation, if the token is present. Something like this:</p>\n\n<pre><code>import {Directive, Attribute, ElementRef, DynamicComponentLoader} from 'angular2/core';\nimport {Router, RouterOutlet, ComponentInstruction} from 'angular2/router';\n\n@Directive({\n    selector: 'router-outlet'\n})\nexport class LoggedInRouterOutlet extends RouterOutlet {\n    publicRoutes: any;\n    private parentRouter: Router;\n\n    constructor(_elementRef: ElementRef, _loader: DynamicComponentLoader,\n                _parentRouter: Router, @Attribute('name') nameAttr: string) {\n        super(_elementRef, _loader, _parentRouter, nameAttr);\n\n        this.parentRouter = _parentRouter;\n\n    }\n\n    activate(instruction: ComponentInstruction) {\n        if (!hasToken()) {\n            this.parentRouter.navigateByUrl('/login');\n        }\n        return super.activate(instruction);\n    }\n}\n</code></pre>\n\n<p>Adapted from here: <a href=\"https://github.com/auth0-blog/angular2-authentication-sample/blob/master/src/app/LoggedInOutlet.ts\" rel=\"nofollow\">https://github.com/auth0-blog/angular2-authentication-sample/blob/master/src/app/LoggedInOutlet.ts</a> </p>\n\n<hr>\n\n<p>This can be extended to be able to work with roles and other access controlls. </p>\n"}], "owner": {"reputation": 1282, "user_id": 3648229, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/6b730f6984c01d9409a83abacb234580?s=128&d=identicon&r=PG", "display_name": "gempir", "link": "https://stackoverflow.com/users/3648229/gempir"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4334, "favorite_count": 5, "accepted_answer_id": 36981007, "answer_count": 2, "score": 7, "last_activity_date": 1462189833, "creation_date": 1462186883, "last_edit_date": 1462189833, "question_id": 36980868, "link": "https://stackoverflow.com/questions/36980868/angular-2-landing-page", "title": "Angular 2 landing page", "body": "<p>I am taking my first steps with Angular 2 and angular in general, and I am wondering how to setup a landing page.</p>\n\n<p>My goal is to show a landingpage everytime the user does not have a token in local storage or in a cookie.</p>\n\n<p>My app.component.ts looks like this </p>\n\n<pre><code>import {Component} from 'angular2/core';\nimport {ROUTER_DIRECTIVES, RouteConfig} from 'angular2/router';\nimport {NavbarComponent} from './navbar.component';\nimport {LoaderComponent} from './loader.component';\nimport {NameListService} from '../shared/index';\nimport {HomeComponent} from '../+home/index';\nimport {AboutComponent} from '../+about/index';\n\n@Component({\n  selector: 'g-app',\n  viewProviders: [NameListService],\n  templateUrl: 'app/components/app.component.html',\n  directives: [ROUTER_DIRECTIVES, NavbarComponent, LoaderComponent]\n})\n@RouteConfig([\n  {\n    path: '/',\n    name: 'Home',\n    component: HomeComponent\n  },\n  {\n    path: '/about',\n    name: 'About',\n    component: AboutComponent\n  }\n])\nexport class AppComponent {\n\n}\n</code></pre>\n\n<p>/home and /about are also components if I understand correctly. Now I would like to have a seperate page that doesn't have access to the navbar. Which is what the user will always land on if he isn't logged in.</p>\n\n<p>Would be awesome if someone could help me start out or atleast point me in a good direction, maybe point me to a good angular 2 tutorial.</p>\n\n<p>This is the boilerplate I am basing my app on <a href=\"https://github.com/mgechev/angular2-seed\" rel=\"nofollow\">https://github.com/mgechev/angular2-seed</a></p>\n"}, {"tags": ["javascript", "html", "css", "typescript", "angular"], "answers": [{"comments": [{"owner": {"reputation": 351, "user_id": 3676231, "user_type": "registered", "accept_rate": 71, "profile_image": "https://graph.facebook.com/1785901387/picture?type=large", "display_name": "Subhajit", "link": "https://stackoverflow.com/users/3676231/subhajit"}, "edited": false, "score": 0, "creation_date": 1462187352, "post_id": 36980721, "comment_id": 61516908, "body": "Hi, thanks that worked but now if I have to hide a particular portion depending on which tab is selected will using ngIf to check the <code>activeTabName</code> value and hide/unhide accordingly work?"}, {"owner": {"reputation": 483726, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "reply_to_user": {"reputation": 351, "user_id": 3676231, "user_type": "registered", "accept_rate": 71, "profile_image": "https://graph.facebook.com/1785901387/picture?type=large", "display_name": "Subhajit", "link": "https://stackoverflow.com/users/3676231/subhajit"}, "edited": false, "score": 0, "creation_date": 1462187393, "post_id": 36980721, "comment_id": 61516931, "body": "Sure <code>ngIf</code> or <code>ngSwitch</code> <a href=\"https://angular.io/docs/ts/latest/api/common/NgSwitch-directive.html\" rel=\"nofollow noreferrer\">angular.io/docs/ts/latest/api/common/NgSwitch-directive.html</a>"}], "tags": [], "owner": {"reputation": 483726, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "is_accepted": true, "score": 2, "last_activity_date": 1462186430, "creation_date": 1462186430, "answer_id": 36980721, "question_id": 36980654, "link": "https://stackoverflow.com/questions/36980654/how-to-switch-tabs-and-change-css-class-on-click-using-angular2/36980721#36980721", "title": "How to switch tabs and change css class on click using Angular2?", "body": "<p>You can use class binding like:</p>\n\n<pre><code>@Component({\n  selector: '...',\n  template: `\n    &lt;div class=\"tab-change-login\"&gt;\n        &lt;ul class=\"un-styled tab-ul\"&gt;\n            &lt;li [class.tab-active]=\"activeTabName == 'signin-area'\" \n                data-login=\"signin-area\"\n                (click)=\"activeTabName = 'signin-area'\"&gt;SIGN IN&lt;/li&gt;\n            &lt;li [class.tab-active]=\"activeTabName == 'signup-area'\" \n                data-login=\"signup-area\"\n                (click)=\"activeTabName = 'signup-area'\"&gt;SIGN UP&lt;/li&gt;\n        &lt;/ul&gt;\n    &lt;/div&gt;\n`})\nexport class MyComponennt {\n  activeTabName = 'signup-area';\n}\n</code></pre>\n\n<p>There are other ways like <a href=\"https://angular.io/docs/ts/latest/api/common/NgClass-directive.html\" rel=\"nofollow\">ngClass</a></p>\n"}], "owner": {"reputation": 351, "user_id": 3676231, "user_type": "registered", "accept_rate": 71, "profile_image": "https://graph.facebook.com/1785901387/picture?type=large", "display_name": "Subhajit", "link": "https://stackoverflow.com/users/3676231/subhajit"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1521, "favorite_count": 0, "accepted_answer_id": 36980721, "answer_count": 1, "score": 1, "last_activity_date": 1462186430, "creation_date": 1462186206, "question_id": 36980654, "link": "https://stackoverflow.com/questions/36980654/how-to-switch-tabs-and-change-css-class-on-click-using-angular2", "title": "How to switch tabs and change css class on click using Angular2?", "body": "<p>On clicking on one tab i want to make the class <code>tab-active</code> and remove it from the other and vice versa. The HTML code on which I want to implement this is :-</p>\n\n<pre><code>&lt;div class=\"tab-change-login\"&gt;\n    &lt;ul class=\"un-styled tab-ul\"&gt;\n        &lt;li class=\"tab-active\" data-login=\"signin-area\"&gt;SIGN IN&lt;/li&gt;\n        &lt;li data-login=\"signup-area\"&gt;SIGN UP&lt;/li&gt;\n    &lt;/ul&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>How do I write a onClick function to switch between 2 tabs usiing angular2</p>\n"}, {"tags": ["angularjs", "typescript"], "owner": {"reputation": 739, "user_id": 6170621, "user_type": "registered", "accept_rate": 17, "profile_image": "https://i.stack.imgur.com/BGHJq.jpg?s=128&g=1", "display_name": "klmuralimohan", "link": "https://stackoverflow.com/users/6170621/klmuralimohan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 475, "favorite_count": 0, "answer_count": 0, "score": 3, "last_activity_date": 1462188701, "creation_date": 1462185191, "last_edit_date": 1462188701, "question_id": 36980335, "link": "https://stackoverflow.com/questions/36980335/smart-table-data-is-disappearing-when-sorting", "title": "Smart Table data is disappearing when sorting", "body": "<p>I have created a custom directive with Typescript angular for smart table. But when I sort the columns table data is disappearing... When I write the same only with angular js. It works fine.  </p>\n\n<p>Can you please help what I did wrong...</p>\n\n<p><strong>Grid-HTML</strong></p>\n\n<pre><code>&lt;table st-safe-src=\"rowCollection\" st-table=\"gridOptions\" class=\"table table-condensed table-hover\"&gt;\n    &lt;thead&gt;\n        &lt;tr&gt;\n            &lt;th st-sort=\"type\"&gt;Type&lt;/th&gt;\n            &lt;th  st-sort=\"name\"&gt;Name&lt;/th&gt;\n            &lt;th  st-sort=\"address\"&gt;Address&lt;/th&gt;\n            &lt;th ng-if=\"city\"&gt;City/State&lt;/th&gt;\n            &lt;th ng-if=\"zip\"&gt;Zip&lt;/th&gt;\n        &lt;/tr&gt;\n    &lt;/thead&gt;\n    &lt;tbody&gt;\n        &lt;tr ng-repeat=\"row in options\"&gt;\n            &lt;td width=\"20%\"&gt;{{row.type | uppercase}}&lt;/td&gt;\n            &lt;td width=\"20%\"&gt;{{row.name  | uppercase}}&lt;/td&gt;\n            &lt;td width=\"30%\"&gt;{{row.address | uppercase}}&lt;/td&gt;\n            &lt;td width=\"15%\" ng-if=\"city\"&gt;{{row.cityState | uppercase}}&lt;/td&gt;\n            &lt;td width=\"15%\" ng-if=\"zip\"&gt;{{row.zip | uppercase}}&lt;/td&gt;\n        &lt;/tr&gt;\n    &lt;/tbody&gt;\n&lt;/table&gt;\n</code></pre>\n\n<p><strong>Typescript controller</strong></p>\n\n<pre><code>/// &lt;reference path=\"../../typings/app.d.ts\" /&gt;\n\nnamespace app.widgets {\n    'use strict';\n\n\ninterface IGridAttributes extends ng.IAttributes {\n     cityVisible: string;   \n     zipVisible: string;    \n     options: string;    \n } \n\nexport class updGridCtrl {\n\n    static $inject: Array&lt;string&gt; = ['$scope', '$filter'];\n    constructor(private scope: ng.IFormController) {\n        this.activate();\n    }\n\n    gridOptions: any = null;\n    city: boolean;\n    zip: boolean;\n\n    activate() {}\n}\n\nclass LtcgUpdGridDirective implements ng.IDirective {\n\n    static instance(): ng.IDirective { return new LtcgUpdGridDirective(); }\n    restrict: string = 'E';        \n    transclude = true;\n     scope = {\n        'cityVisible': \"@\",\n        'zipVisble': \"@\",\n        'options': '='\n    }; \n\n    templateUrl = 'views/widgets/ltcg-updgrid.html';       \n\n    link = (scope: any, element: ng.IAugmentedJQuery, attrs: IGridAttributes, ctrl: any) =&gt; {   \n        scope.gridOptions = scope.options //private scoped from options : '=',  \n\n        scope.city = true;\n        scope.zip = true;\n        console.log(scope.zipVisible);\n\n            if (attrs.cityVisible == \"no\") {\n                scope.city = false;                                \n            }\n\n            if (attrs.zipVisible == \"no\") {\n                scope.zip = false;                   \n            }\n\n\n     } \n}\n\nangular\n    .module('app.widgets')\n    .directive('ltcgUpdGrid', LtcgUpdGridDirective.instance);\n}\n</code></pre>\n"}]