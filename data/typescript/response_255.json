[{"tags": ["angular", "typescript"], "comments": [{"owner": {"reputation": 1528, "user_id": 12171299, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/B0Kus.jpg?s=128&g=1", "display_name": "German Quinteros", "link": "https://stackoverflow.com/users/12171299/german-quinteros"}, "edited": false, "score": 0, "creation_date": 1574889850, "post_id": 59078581, "comment_id": 104394344, "body": "Can you add the complete HTML file and the component ts file?"}, {"owner": {"reputation": 2716, "user_id": 10114038, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/48d3f40148bbe526ffd9445c6c33db13?s=128&d=identicon&r=PG&f=1", "display_name": "Ling Vu", "link": "https://stackoverflow.com/users/10114038/ling-vu"}, "reply_to_user": {"reputation": 1528, "user_id": 12171299, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/B0Kus.jpg?s=128&g=1", "display_name": "German Quinteros", "link": "https://stackoverflow.com/users/12171299/german-quinteros"}, "edited": false, "score": 0, "creation_date": 1574890184, "post_id": 59078581, "comment_id": 104394449, "body": "I put an example"}, {"owner": {"reputation": 10214, "user_id": 493389, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/5c3f772d7effe2eda5d93e76aa1a4edb?s=128&d=identicon&r=PG&f=1", "display_name": "123 456 789 0", "link": "https://stackoverflow.com/users/493389/123-456-789-0"}, "edited": false, "score": 0, "creation_date": 1574890732, "post_id": 59078581, "comment_id": 104394673, "body": "@LingVu Your example is suppose to do what? What do you expect on the test inside? I don&#39;t see any code for handling <code>Test Inside</code>?"}, {"owner": {"reputation": 1677, "user_id": 525690, "user_type": "registered", "accept_rate": 43, "profile_image": "https://i.stack.imgur.com/1l6Nj.png?s=128&g=1", "display_name": "Steve", "link": "https://stackoverflow.com/users/525690/steve"}, "edited": false, "score": 0, "creation_date": 1574891190, "post_id": 59078581, "comment_id": 104394815, "body": "This is an aside but you have the same issue I do in my formArray, namely typing in the inputs doesn&#39;t work. It seems to lose focus on the keyup. I haven&#39;t looked into that particular issue in my project yet."}, {"owner": {"reputation": 2716, "user_id": 10114038, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/48d3f40148bbe526ffd9445c6c33db13?s=128&d=identicon&r=PG&f=1", "display_name": "Ling Vu", "link": "https://stackoverflow.com/users/10114038/ling-vu"}, "edited": false, "score": 0, "creation_date": 1574891442, "post_id": 59078581, "comment_id": 104394911, "body": "It should behave like the button outside, but instead it does not click or even fire the ripple which a normal mat-button usually do."}, {"owner": {"reputation": 10214, "user_id": 493389, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/5c3f772d7effe2eda5d93e76aa1a4edb?s=128&d=identicon&r=PG&f=1", "display_name": "123 456 789 0", "link": "https://stackoverflow.com/users/493389/123-456-789-0"}, "edited": false, "score": 0, "creation_date": 1574891759, "post_id": 59078581, "comment_id": 104395029, "body": "I don&#39;t think you can bind events to an event. I think you might have to rethink your design and create child components where you can control more the events such as the click of the children?"}, {"owner": {"reputation": 2716, "user_id": 10114038, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/48d3f40148bbe526ffd9445c6c33db13?s=128&d=identicon&r=PG&f=1", "display_name": "Ling Vu", "link": "https://stackoverflow.com/users/10114038/ling-vu"}, "edited": false, "score": 0, "creation_date": 1574893342, "post_id": 59078581, "comment_id": 104395521, "body": "The click event of the mat-button just does not fire inside the ngFor. That\u2018s all. There is no special design. Maybe you don\u2018t understand the actual problem..."}], "answers": [{"comments": [{"owner": {"reputation": 2716, "user_id": 10114038, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/48d3f40148bbe526ffd9445c6c33db13?s=128&d=identicon&r=PG&f=1", "display_name": "Ling Vu", "link": "https://stackoverflow.com/users/10114038/ling-vu"}, "edited": false, "score": 0, "creation_date": 1574893010, "post_id": 59078983, "comment_id": 104395419, "body": "Sure enough. That\u2018s why I asked. I need the mat-button"}, {"owner": {"reputation": 1528, "user_id": 12171299, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/B0Kus.jpg?s=128&g=1", "display_name": "German Quinteros", "link": "https://stackoverflow.com/users/12171299/german-quinteros"}, "reply_to_user": {"reputation": 2716, "user_id": 10114038, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/48d3f40148bbe526ffd9445c6c33db13?s=128&d=identicon&r=PG&f=1", "display_name": "Ling Vu", "link": "https://stackoverflow.com/users/10114038/ling-vu"}, "edited": false, "score": 0, "creation_date": 1574894655, "post_id": 59078983, "comment_id": 104395917, "body": "You can add the mat-flat-button by class:  <code>class=&quot;mat-flat-button&quot;</code> There I update my answer with the <code>class=&quot;mat-flat-button&quot; </code>"}], "tags": [], "owner": {"reputation": 1528, "user_id": 12171299, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/B0Kus.jpg?s=128&g=1", "display_name": "German Quinteros", "link": "https://stackoverflow.com/users/12171299/german-quinteros"}, "is_accepted": false, "score": 0, "last_activity_date": 1574894619, "last_edit_date": 1574894619, "creation_date": 1574891839, "answer_id": 59078983, "question_id": 59078581, "link": "https://stackoverflow.com/questions/59078581/mat-button-click-inside-a-ngfor-with-let-index-index-does-not-react-fire-acti/59078983#59078983", "title": "Mat-Button click inside a *ngFor with let index = index does not react/fire action", "body": "<p>I don't know why, but like you say the (click) event is not being trigger inside the <code>&lt;ng-container [formGroupName]=\"i\"&gt;</code> when you use the directives  <code>mat-flat-button</code> inside the button <code>&lt;button mat-flat-button&gt; Test outside &lt;/button&gt;</code></p>\n\n<p>If you remove the <code>mat-flat-button</code> it works: \n<code>&lt;button (click)=\"myFunc()\"&gt; Test outside &lt;/button&gt;</code></p>\n\n<p>Here is the code that I test with  <a href=\"https://stackblitz.com/edit/angular-form-array-example-hq5tud\" rel=\"nofollow noreferrer\">https://stackblitz.com/edit/angular-form-array-example-hq5tud</a> :</p>\n\n<p><strong>app.component.ts</strong> :</p>\n\n<pre><code>import { Component } from '@angular/core';\nimport { FormControl, FormGroup, FormArray, FormBuilder } from '@angular/forms';\n\n@Component({\n  selector: 'my-app',\n  template: `\n    &lt;form [formGroup]=\"form\"&gt;\n      &lt;input type=\"checkbox\" formControlName=\"published\"&gt; Published\n      &lt;div *ngIf=\"form.controls.published.value\"&gt;\n\n        &lt;h2&gt;Credentials&lt;/h2&gt;\n        &lt;button (click)=\"addCreds()\"&gt;Add&lt;/button&gt;\n\n        &lt;div formArrayName=\"credentials\" *ngFor=\"let creds of form.controls.credentials?.value; let i = index\"&gt;\n          &lt;ng-container [formGroupName]=\"i\"&gt;\n            &lt;input placeholder=\"Username\" formControlName=\"username\"&gt;\n            &lt;input placeholder=\"Password\" formControlName=\"password\"&gt;\n            &lt;button class=\"mat-flat-button\" (click)=\"testFunc()\"&gt; Test inside &lt;/button&gt;\n          &lt;/ng-container&gt;\n        &lt;/div&gt;\n        &lt;button mat-flat-button (click)=\"testFunc()\"&gt; Test outside &lt;/button&gt;\n\n      &lt;/div&gt;\n    &lt;/form&gt;\n  `,\n})\nexport class AppComponent  {\n  form: FormGroup;\n\n  constructor(private fb: FormBuilder) {\n    this.form = this.fb.group({\n      published: true,\n      credentials: this.fb.array([]),\n    });\n  }\n\n  addCreds() {\n    const creds = this.form.controls.credentials as FormArray;\n    creds.push(this.fb.group({\n      username: '',\n      password: '',\n    }));\n  }\n\n  testFunc() {\n    console.log('hello');\n  }\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 2716, "user_id": 10114038, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/48d3f40148bbe526ffd9445c6c33db13?s=128&d=identicon&r=PG&f=1", "display_name": "Ling Vu", "link": "https://stackoverflow.com/users/10114038/ling-vu"}, "edited": false, "score": 0, "creation_date": 1574894015, "post_id": 59079211, "comment_id": 104395748, "body": "Wow it works, can you explain why it behaves now like usual? I saw the main reason for this behavior is the change from  <code>form.controls.credentials?.value</code> to <code>form.get(&#39;credentials&#39;).controls</code>"}, {"owner": {"reputation": 2687, "user_id": 11769164, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-cascCTYxkPQ/AAAAAAAAAAI/AAAAAAAAAkQ/KzEi1WfT8Ks/photo.jpg?sz=128", "display_name": "Ashot Aleqsanyan", "link": "https://stackoverflow.com/users/11769164/ashot-aleqsanyan"}, "reply_to_user": {"reputation": 2716, "user_id": 10114038, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/48d3f40148bbe526ffd9445c6c33db13?s=128&d=identicon&r=PG&f=1", "display_name": "Ling Vu", "link": "https://stackoverflow.com/users/10114038/ling-vu"}, "edited": false, "score": 0, "creation_date": 1574894451, "post_id": 59079211, "comment_id": 104395869, "body": "1. no but please use <code>form.get(&#39;credentials&#39;)</code> instead of <code>form.controls.credentials</code>, when you putted the groups into formArray by the way  <code>form.controls.credentials</code>. Validators and some events is not working as expected.  2.  You have putted the <code>formGroupName</code> on the <code>ng-contaner</code>. and it is blocked somehow the behavior of your button"}], "tags": [], "owner": {"reputation": 2687, "user_id": 11769164, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-cascCTYxkPQ/AAAAAAAAAAI/AAAAAAAAAkQ/KzEi1WfT8Ks/photo.jpg?sz=128", "display_name": "Ashot Aleqsanyan", "link": "https://stackoverflow.com/users/11769164/ashot-aleqsanyan"}, "is_accepted": true, "score": 1, "last_activity_date": 1576170190, "last_edit_date": 1576170190, "creation_date": 1574893180, "answer_id": 59079211, "question_id": 59078581, "link": "https://stackoverflow.com/questions/59078581/mat-button-click-inside-a-ngfor-with-let-index-index-does-not-react-fire-acti/59079211#59079211", "title": "Mat-Button click inside a *ngFor with let index = index does not react/fire action", "body": "<p>Here is the working example Please check the link</p>\n\n<p><a href=\"https://stackblitz.com/edit/angular-form-array-example-test123-2jzdij\" rel=\"nofollow noreferrer\">https://stackblitz.com/edit/angular-form-array-example-test123-2jzdij</a></p>\n"}, {"comments": [{"owner": {"reputation": 2687, "user_id": 11769164, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-cascCTYxkPQ/AAAAAAAAAAI/AAAAAAAAAkQ/KzEi1WfT8Ks/photo.jpg?sz=128", "display_name": "Ashot Aleqsanyan", "link": "https://stackoverflow.com/users/11769164/ashot-aleqsanyan"}, "edited": false, "score": 0, "creation_date": 1576163593, "post_id": 59084830, "comment_id": 104817373, "body": "Hello Ling Vu I found the new way to make it work, by <code>trackBy</code> Please check the link <a href=\"https://stackblitz.com/edit/angular-form-array-example-test123-2jzdij\" rel=\"nofollow noreferrer\">stackblitz.com/edit/angular-form-array-example-test123-2jzdi&zwnj;&#8203;j</a>"}, {"owner": {"reputation": 2687, "user_id": 11769164, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-cascCTYxkPQ/AAAAAAAAAAI/AAAAAAAAAkQ/KzEi1WfT8Ks/photo.jpg?sz=128", "display_name": "Ashot Aleqsanyan", "link": "https://stackoverflow.com/users/11769164/ashot-aleqsanyan"}, "edited": false, "score": 0, "creation_date": 1576163850, "post_id": 59084830, "comment_id": 104817549, "body": "I noticed that when you clicked on the button it rewrite all of the items ngFor, when I have added the trackBy on your example it works, But I can&#39;t undarstand why it is working with <code>form.get(&#39;credentials&#39;).controls</code>"}], "tags": [], "owner": {"reputation": 2716, "user_id": 10114038, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/48d3f40148bbe526ffd9445c6c33db13?s=128&d=identicon&r=PG&f=1", "display_name": "Ling Vu", "link": "https://stackoverflow.com/users/10114038/ling-vu"}, "is_accepted": false, "score": 1, "last_activity_date": 1574930903, "creation_date": 1574930903, "answer_id": 59084830, "question_id": 59078581, "link": "https://stackoverflow.com/questions/59078581/mat-button-click-inside-a-ngfor-with-let-index-index-does-not-react-fire-acti/59084830#59084830", "title": "Mat-Button click inside a *ngFor with let index = index does not react/fire action", "body": "<p>Finally I found the solution with the help of @ashot-aleqsanyan . The reason for that is still unclear. If anyone has an explanation for this bahavior then please tell us about.</p>\n\n<p>The solution:\nReplace the <code>form.controls.credentials?.value</code> to <code>form.get('credentials').controls</code> in the .html template does the trick. After that the mat-buttons are working inside the <code>*ngFor</code> again.</p>\n\n<pre><code>import { Component } from '@angular/core';\nimport { FormControl, FormGroup, FormArray, FormBuilder } from '@angular/forms';\n\n@Component({\n  selector: 'my-app',\n  template: `\n    &lt;form [formGroup]=\"form\"&gt;\n      &lt;input type=\"checkbox\" formControlName=\"published\"&gt; Published\n      &lt;div *ngIf=\"form.controls.published.value\"&gt;\n\n        &lt;h2&gt;Credentials&lt;/h2&gt;\n        &lt;button (click)=\"addCreds()\"&gt;Add&lt;/button&gt;\n\n        &lt;div formArrayName=\"credentials\" *ngFor=\"let creds of form.get('credentials').controls; let i = index\"&gt;\n          &lt;ng-container [formGroupName]=\"i\"&gt;\n            &lt;input placeholder=\"Username\" formControlName=\"username\"&gt;\n            &lt;input placeholder=\"Password\" formControlName=\"password\"&gt;\n            &lt;button mat-flat-button (click)=\"buttonClick()\"&gt; Test inside &lt;/button&gt;\n          &lt;/ng-container&gt;\n        &lt;/div&gt;\n        &lt;button mat-flat-button (click)=\"buttonClick()\"&gt; Test outside &lt;/button&gt;\n\n      &lt;/div&gt;\n    &lt;/form&gt;\n  `,\n})\nexport class AppComponent  {\n  form: FormGroup;\n\n  constructor(private fb: FormBuilder) {\n    this.form = this.fb.group({\n      published: true,\n      credentials: this.fb.array([]),\n    });\n  }\n\n  addCreds() {\n    const creds = this.form.controls.credentials as FormArray;\n    creds.push(this.fb.group({\n      username: '',\n      password: '',\n    }));\n  }\n\n  buttonClick() {\n    console.log('Clicked');\n  }\n}\n\n</code></pre>\n"}], "owner": {"reputation": 2716, "user_id": 10114038, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/48d3f40148bbe526ffd9445c6c33db13?s=128&d=identicon&r=PG&f=1", "display_name": "Ling Vu", "link": "https://stackoverflow.com/users/10114038/ling-vu"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1317, "favorite_count": 0, "accepted_answer_id": 59079211, "answer_count": 3, "score": 0, "last_activity_date": 1576170190, "creation_date": 1574889535, "last_edit_date": 1574930970, "question_id": 59078581, "link": "https://stackoverflow.com/questions/59078581/mat-button-click-inside-a-ngfor-with-let-index-index-does-not-react-fire-acti", "title": "Mat-Button click inside a *ngFor with let index = index does not react/fire action", "body": "<p>I am currently working on a project where I have a <code>reactive form array</code> which will be displayed on the template using an <code>*ngIf</code>. I think that's the normal use case and nothing special. But now I build this like</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>&lt;div *ngFor=\"let control of form.controls['someArray'].value; let index = index\"&gt;\n  [...]\n  &lt;button mat-flat-button color=\"warn\"&gt;Delete&lt;/button&gt;\n&lt;/div&gt;\n&lt;button mat-flat-button color=\"primary\"&gt;Add&lt;/button&gt;\n</code></pre>\n\n<p>The <code>Delete</code> button does not react to my clicks, but the <code>Add</code> button does. For some reason when I remove the <code>let index = index</code> it works again or if I put the button outside of this <code>*ngFor</code>.</p>\n\n<p>I hope you can help me. Thank you very much. Couldn't find any solution so far.</p>\n\n<p>Example: <a href=\"https://stackblitz.com/edit/angular-form-array-example-hq5tud\" rel=\"nofollow noreferrer\">https://stackblitz.com/edit/angular-form-array-example-hq5tud</a></p>\n\n<pre><code>import { Component } from '@angular/core';\nimport { FormControl, FormGroup, FormArray, FormBuilder } from '@angular/forms';\n\n@Component({\n  selector: 'my-app',\n  template: `\n    &lt;form [formGroup]=\"form\"&gt;\n      &lt;input type=\"checkbox\" formControlName=\"published\"&gt; Published\n      &lt;div *ngIf=\"form.controls.published.value\"&gt;\n\n        &lt;h2&gt;Credentials&lt;/h2&gt;\n        &lt;button (click)=\"addCreds()\"&gt;Add&lt;/button&gt;\n\n        &lt;div formArrayName=\"credentials\" *ngFor=\"let creds of form.controls.credentials?.value; let i = index\"&gt;\n          &lt;ng-container [formGroupName]=\"i\"&gt;\n            &lt;input placeholder=\"Username\" formControlName=\"username\"&gt;\n            &lt;input placeholder=\"Password\" formControlName=\"password\"&gt;\n            &lt;button mat-flat-button (click)=\"buttonClick()\"&gt; Test inside &lt;/button&gt;\n          &lt;/ng-container&gt;\n        &lt;/div&gt;\n        &lt;button mat-flat-button (click)=\"buttonClick()\"&gt; Test outside &lt;/button&gt;\n\n      &lt;/div&gt;\n    &lt;/form&gt;\n  `,\n})\nexport class AppComponent  {\n  form: FormGroup;\n\n  constructor(private fb: FormBuilder) {\n    this.form = this.fb.group({\n      published: true,\n      credentials: this.fb.array([]),\n    });\n  }\n\n  addCreds() {\n    const creds = this.form.controls.credentials as FormArray;\n    creds.push(this.fb.group({\n      username: '',\n      password: '',\n    }));\n  }\n\n  buttonClick() {\n    console.log('Clicked');\n  }\n}\n\n</code></pre>\n"}, {"tags": ["typescript", "require"], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 12448307, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ddbf7523773c0f8c56775911f35a6725?s=128&d=identicon&r=PG&f=1", "display_name": "sim", "link": "https://stackoverflow.com/users/12448307/sim"}, "edited": false, "score": 0, "creation_date": 1574892437, "post_id": 59078473, "comment_id": 104395226, "body": "I have updated my question with the modules I used. what you suggested didn&#39;t work."}, {"owner": {"reputation": 4134, "user_id": 6513723, "user_type": "registered", "profile_image": "https://graph.facebook.com/1164703250267724/picture?type=large", "display_name": "pascalpuetz", "link": "https://stackoverflow.com/users/6513723/pascalpuetz"}, "reply_to_user": {"reputation": 1, "user_id": 12448307, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ddbf7523773c0f8c56775911f35a6725?s=128&d=identicon&r=PG&f=1", "display_name": "sim", "link": "https://stackoverflow.com/users/12448307/sim"}, "edited": false, "score": 0, "creation_date": 1574892641, "post_id": 59078473, "comment_id": 104395300, "body": "It should work though. Maybe the errors you receive would help. Also your tsconfig would help."}, {"owner": {"reputation": 1, "user_id": 12448307, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ddbf7523773c0f8c56775911f35a6725?s=128&d=identicon&r=PG&f=1", "display_name": "sim", "link": "https://stackoverflow.com/users/12448307/sim"}, "edited": false, "score": 1, "creation_date": 1574892859, "post_id": 59078473, "comment_id": 104395368, "body": "but superagent can only be exported through import  superagent = require(&#39;superagent&#39;) given the export in @types/superagent."}, {"owner": {"reputation": 1, "user_id": 12448307, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ddbf7523773c0f8c56775911f35a6725?s=128&d=identicon&r=PG&f=1", "display_name": "sim", "link": "https://stackoverflow.com/users/12448307/sim"}, "edited": false, "score": 0, "creation_date": 1574892957, "post_id": 59078473, "comment_id": 104395402, "body": "Also I should note that I am using typescript"}, {"owner": {"reputation": 4134, "user_id": 6513723, "user_type": "registered", "profile_image": "https://graph.facebook.com/1164703250267724/picture?type=large", "display_name": "pascalpuetz", "link": "https://stackoverflow.com/users/6513723/pascalpuetz"}, "reply_to_user": {"reputation": 1, "user_id": 12448307, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ddbf7523773c0f8c56775911f35a6725?s=128&d=identicon&r=PG&f=1", "display_name": "sim", "link": "https://stackoverflow.com/users/12448307/sim"}, "edited": false, "score": 0, "creation_date": 1574921988, "post_id": 59078473, "comment_id": 104401922, "body": "Try to add allowSyntheticDefaultImports and esModuleInterop, both set to true, into your tsconfig compilerOptions"}], "tags": [], "owner": {"reputation": 4134, "user_id": 6513723, "user_type": "registered", "profile_image": "https://graph.facebook.com/1164703250267724/picture?type=large", "display_name": "pascalpuetz", "link": "https://stackoverflow.com/users/6513723/pascalpuetz"}, "is_accepted": false, "score": 1, "last_activity_date": 1574892499, "last_edit_date": 1574892499, "creation_date": 1574888986, "answer_id": 59078473, "question_id": 59078379, "link": "https://stackoverflow.com/questions/59078379/solving-require-statement-not-part-of-an-import-statement/59078473#59078473", "title": "Solving require statement not part of an import statement", "body": "<pre><code>import superagent from 'superagent';\nimport superagentRetryDelay from 'superagent-retry-delay' ;\n\nconst whateverBReturns = superagentRetryDelay(superagent);\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 12448307, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ddbf7523773c0f8c56775911f35a6725?s=128&d=identicon&r=PG&f=1", "display_name": "sim", "link": "https://stackoverflow.com/users/12448307/sim"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1425, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1574892557, "creation_date": 1574888569, "last_edit_date": 1574892557, "question_id": 59078379, "link": "https://stackoverflow.com/questions/59078379/solving-require-statement-not-part-of-an-import-statement", "title": "Solving require statement not part of an import statement", "body": "<p>I have this in my typescript file:</p>\n\n<p>const superagent = require(\"superagent\");</p>\n\n<p>require(\"superagent-retry-delay\")(superagent);</p>\n\n<p>This compiles and I can use them fine. However, I want to make those imports instead. \nHow can I do that? \nsuperagent currently has a @types module but superagen-retry-delay doesn't</p>\n"}, {"tags": ["typescript", "react-native", "promise", "try-catch"], "comments": [{"owner": {"reputation": 507143, "user_id": 1048572, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/7f2c4de95e8f4f8f5a71c3aaf0ed312a?s=128&d=identicon&r=PG", "display_name": "Bergi", "link": "https://stackoverflow.com/users/1048572/bergi"}, "edited": false, "score": 1, "creation_date": 1574892815, "post_id": 59078370, "comment_id": 104395352, "body": "Don&#39;t make a <code>new Error</code> if you want to re-throw the original one?"}, {"owner": {"reputation": 646, "user_id": 1792343, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/737cbb991a74e12f6fbfb437a8194ef0?s=128&d=identicon&r=PG", "display_name": "Fl&#225;vio Costa", "link": "https://stackoverflow.com/users/1792343/fl%c3%a1vio-costa"}, "reply_to_user": {"reputation": 507143, "user_id": 1048572, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/7f2c4de95e8f4f8f5a71c3aaf0ed312a?s=128&d=identicon&r=PG", "display_name": "Bergi", "link": "https://stackoverflow.com/users/1048572/bergi"}, "edited": false, "score": 0, "creation_date": 1574966692, "post_id": 59078370, "comment_id": 104423287, "body": "thanks bro!!! make a answer and i will mark this as correct. o/"}], "owner": {"reputation": 646, "user_id": 1792343, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/737cbb991a74e12f6fbfb437a8194ef0?s=128&d=identicon&r=PG", "display_name": "Fl&#225;vio Costa", "link": "https://stackoverflow.com/users/1792343/fl%c3%a1vio-costa"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 32, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1574888480, "creation_date": 1574888480, "question_id": 59078370, "link": "https://stackoverflow.com/questions/59078370/throw-error-failed-on-promisse-typescript", "title": "throw error failed on promisse typescript", "body": "<p>Im trying to create a netInfo checker on my API service. This is my job to connect with an endpoint, and i need to create a netInfo check service to handle connection errors :</p>\n\n<pre><code>loginExists(username)\n      .then((status: string) =&gt; {\n        setLoading(false);\n        if (status == '200' || status) {\n          const checkSAPData = checkUserSAPMock(username);\n          if (checkSAPData) {\n            navigation.navigate('LoginPassword', { document: username, sapData: checkSAPData });\n          } else {\n            navigation.navigate('LoginPassword', { document: username });\n          }\n        }\n      })\n      .catch(error =&gt; {\n        console.log('myerror: ' + JSON.stringify(error));\n        setLoading(false);\n        const checkSAPData = checkUserSAPMock(username);\n\n        if (checkSAPData) {\n          if (checkSAPData.Motorista.item.Autorizacao === \"S\")\n            navigation.navigate('SignUp', { data: checkSAPData });\n          else\n            navigation.navigate('LoginPassword', { document: username, sapData: checkSAPData });\n        } else\n          navigation.navigate('SignUp', { isNewUser: true, document: cpf });\n      }); \n</code></pre>\n\n<p>Here I go to API service to perform:</p>\n\n<pre><code>export function loginExists(username: string) {\n  const headers = new Headers({\n    'Content-Type': 'application/json',\n  });\n\n  // TODO: REMOVE\n  // debug\n  // if (username === '00000000000') {\n  // return API.get(`motoristas/cpf/09503054990/existe`);\n  // }\n  return API.get(`motoristas/cpf/${username}/existe`);\n}\n</code></pre>\n\n<p>My netInfo checker, where i throw the error:</p>\n\n<pre><code>get(endpoint: string, headersProp?: Headers | string[][] | Record&lt;string, string&gt;): Promise&lt;any&gt; {\n\n    return ConnectionChecker.getConnection().then(state =&gt; {\n\n      let headers = {\n      };\n\n      if (headersProp) {\n        headers = { ...headers, ...headersProp };\n      }\n\n      if (state.isConnected) {\n        return fetch(`${this.url}/${endpoint}`, {\n          method: 'GET',\n          headers\n        });\n      } else {\n\n        //Criar arquivo de constantes com erros da aplicacao/genericos.\n        const errorData = {\n          type: 'connection',\n          title: 'title',\n          message: 'message'\n        };\n\n        throw new Error(JSON.stringify(errorData));\n      }\n\n\n    }).then(this._handleError)\n      .then(this._handleContentType)\n      .catch(this._handleErrorCatch);\n  }\n\n</code></pre>\n\n<p>And finally my handleErrorCatch:</p>\n\n<pre><code>_handleErrorCatch: async (error: any) =&gt; {\n    console.log('entrei aqui 1: ' + error);\n    throw new Error(error);\n  }\n</code></pre>\n\n<p>The problem is: my error object is not correct. console.log() gives me this message:</p>\n\n<pre><code>myerror: {\"line\":185244,\"column\":30,\"sourceURL\":\"http://localhost:8081/index.bundle?platform=ios&amp;dev=true&amp;minify=false\"}\n</code></pre>\n\n<p>But this is my throw error:</p>\n\n<pre><code>{\"type\":\"connection\",\"title\":\"title\",\"message\":\"message\"}\n</code></pre>\n\n<p>anyone can helps me? Thanks guys!!! o/</p>\n"}, {"tags": ["typescript", "typescript-generics"], "answers": [{"comments": [{"owner": {"reputation": 30153, "user_id": 12299000, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0pja9.png?s=128&g=1", "display_name": "kaya3", "link": "https://stackoverflow.com/users/12299000/kaya3"}, "edited": false, "score": 0, "creation_date": 1574897031, "post_id": 59078641, "comment_id": 104396491, "body": "<code>{ [key in N]: T }</code> is OK."}], "tags": [], "owner": {"reputation": 197, "user_id": 8912438, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-MGEGmDoPCMY/AAAAAAAAAAI/AAAAAAAABhg/k6WEEKb6HaI/photo.jpg?sz=128", "display_name": "Moshe Estroti", "link": "https://stackoverflow.com/users/8912438/moshe-estroti"}, "is_accepted": false, "score": 0, "last_activity_date": 1574890280, "last_edit_date": 1574890280, "creation_date": 1574889882, "answer_id": 59078641, "question_id": 59078327, "link": "https://stackoverflow.com/questions/59078327/type-safe-way-to-append-field-by-name/59078641#59078641", "title": "Type safe way to append field by name", "body": "<p>The suggested return type is this:</p>\n\n<pre><code>O &amp; {[key : string] : T}\n</code></pre>\n\n<p>or this:</p>\n\n<pre><code>O &amp; {[key : number] : T}\n</code></pre>\n\n<p>It seems that the type of fields names can only be string or number</p>\n"}, {"tags": [], "owner": {"reputation": 28393, "user_id": 5669456, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/aeueo.png?s=128&g=1", "display_name": "ford04", "link": "https://stackoverflow.com/users/5669456/ford04"}, "is_accepted": true, "score": 3, "last_activity_date": 1574894442, "creation_date": 1574894442, "answer_id": 59079391, "question_id": 59078327, "link": "https://stackoverflow.com/questions/59078327/type-safe-way-to-append-field-by-name/59079391#59079391", "title": "Type safe way to append field by name", "body": "<p>I think, you have two options here: a) add a type assertion for <code>immutableAdd</code> return type or b) use a <code>Record</code> type. If you can change the function signature slightly, I would prefer b), as it is more concise/enforces stronger typing.</p>\n\n<p><strong>a) <a href=\"https://www.typescriptlang.org/play/#code/KYDwDg9gTgLgBAMwK4DsDGMCWEV0wW3yRgEMAjAG2AEEATWgHgHkAaOAOTlBmBVoGc4-GFEwoA5mwAqAPgAUAWABQcVXAhkAVsAwAuOKzgoS+YPvZsAbiQpIzcKQEp9TOADI4AbzgBtANbAAJ54uOwAuvpScAC+XspqcAD0iepQcGhQwCQ8QsBgJFDZwOk4wnAwEHAk-PzAsOUAFsUk9MC0cGBQEGB1MMF9PeooFIEA3HAUmAG68WrJJShlnd1wALxevsamEXDWtsWx1Rv+QSEcO1GxarOqmTBIULjeAHSvGtoYbD5bwDt7djEqoJXB5vCdgmJzpEYsposplFR4CQ1hsSPoAMwxUYI4DwMgoghEUiUGj0OQkNgAch4wkpVP+wEpjmxSkR6RRZGeNJgLLQa1W60pDMpQA\" rel=\"nofollow noreferrer\">Type assertion</a></strong></p>\n\n<pre><code>export function immutableAdd&lt;O, N extends string, T&gt;(\n    object: O, name: N, value: T): O &amp; { [key in N]: T } {\n    // or create separate const to assert the added property type only; like:\n    // const prop = { [name]: value } as { [key in N]: T }    \n    return { ...object, [name]: value } as O &amp; { [key in N]: T }\n}\n\nlet b = immutableAdd({ a: 3 }, 'test', 'value'); // {a: number; } &amp; { test: string; }\n</code></pre>\n\n<p>Note: I used a <a href=\"https://www.typescriptlang.org/docs/handbook/advanced-types.html#mapped-types\" rel=\"nofollow noreferrer\">mapped type</a> <code>{ [key in N]: T }</code> as part of the return type to include the <code>name</code> property. <code>{ [key: N]: T }</code> (what you used) indicates an <a href=\"https://www.typescriptlang.org/docs/handbook/advanced-types.html#index-types-and-index-signatures\" rel=\"nofollow noreferrer\">index signature</a>, which can only have type <code>string</code> or <code>number</code>. In your case <code>N</code> is is a type parameter with constraint <code>extends string</code>, not <code>string</code>, hence the compiler error. </p>\n\n<p><code>return { ...object, [name]: value }</code> will resolve to the type <code>O &amp; { [x: string]: T; }</code>, as the exact string literal type of <code>name</code> is unknown (we just know, that it extends <code>string</code>) and is therefore not be assignable to <code>O &amp; { [key in N]: T }</code>, so we cast.</p>\n\n<p><strong>b) <a href=\"https://www.typescriptlang.org/play/?ssl=6&amp;ssc=90&amp;pln=1&amp;pc=1#code/KYDwDg9gTgLgBAMwK4DsDGMCWEV0wW3yRgEMAjAG2AEEATWgHgHkAaOAOTlBmBVoGc4-GFEwoA5mwAqAPgAUAWABQcVXAhkAVsAwAuOKzhgoEMMFgBPfQCUd0RuxayAlPqZwAZHADecANoA1sAWeLjsALr6UnAAvj7KanBQwDBIULi%20AHTZGtoYbNmZxqbmMCExANzKMcrKVPBkcAC8eITE5FR0tHI%20cCT6AMyxbL48wvoA5ABuJBRIwBOxzhVwAPSrvf1wKEj4ZOYrcV6jwONCImLih3UpcGjNcGSZYzBVSvdNn3DTs-MTQA\" rel=\"nofollow noreferrer\"><code>Record</code></a> type</strong> </p>\n\n<pre><code>export function immutableAdd&lt;O, N extends string, T&gt;(\n    object: O, property: Record&lt;N,T&gt;): O &amp; { [key in N]: T } {\n    return { ...object, ...property };\n}\n\nlet b = immutableAdd( { a: 3 }, { test: 'value' }); // { a: number; } &amp; { test: string; }\n</code></pre>\n"}], "owner": {"reputation": 221, "user_id": 10155736, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6254e65c745f24ac2c3f76e9f5be3879?s=128&d=identicon&r=PG&f=1", "display_name": "CertainLach", "link": "https://stackoverflow.com/users/10155736/certainlach"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 63, "favorite_count": 0, "accepted_answer_id": 59079391, "answer_count": 2, "score": 1, "last_activity_date": 1574894442, "creation_date": 1574888291, "last_edit_date": 1574889101, "question_id": 59078327, "link": "https://stackoverflow.com/questions/59078327/type-safe-way-to-append-field-by-name", "title": "Type safe way to append field by name", "body": "<p>Trying to implement function, which receives object <code>O</code>, field name <code>N</code> and field value <code>T</code> returns object which has all fields from <code>O</code>, and field with name <code>N</code> which have type <code>T</code></p>\n\n<p>Tried to implement such way: </p>\n\n<pre><code>export function immutableAdd&lt;O, N extends string, T&gt;(object: O, name: N, value: T): O &amp; { [key: N]: T } {\n    return { ...object, [name]: value };\n}\n\nlet a = { a: 3 };\nlet b = immutableAdd(a, 'test', 'value');\n// `b` should have type { a: number, test: string } here\nlet c = b.test;\nc === 'value'\n</code></pre>\n\n<p>But this code doesn't work, because there is error in this part: <code>{ [key: N]: T }</code> (An index signature parameter type must be either 'string' or 'number')</p>\n\n<p>How to write return type for this function?</p>\n"}, {"tags": ["javascript", "typescript", "vue.js", "npm", "webpack"], "comments": [{"owner": {"reputation": 113065, "user_id": 1850609, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/X0C56.jpg?s=128&g=1", "display_name": "acdcjunior", "link": "https://stackoverflow.com/users/1850609/acdcjunior"}, "edited": false, "score": 1, "creation_date": 1574888243, "post_id": 59078090, "comment_id": 104393739, "body": "There probably is a race condition. In the moment the <code>console.log()</code>s are called the <code>baseURL</code> is not there yet. But when you expand the display in the console, it had enough time to load (whoever loads it had time to complete)."}, {"owner": {"reputation": 4336, "user_id": 787796, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0d25e7ddda1b06661b915c8b5fd4188f?s=128&d=identicon&r=PG", "display_name": "Tim Wickstrom", "link": "https://stackoverflow.com/users/787796/tim-wickstrom"}, "edited": false, "score": 1, "creation_date": 1574888384, "post_id": 59078090, "comment_id": 104393795, "body": "I would need to see the rest of your Vuex code, but normally you can inject the state (and other methods) into the action like this <code>getUsers({ commit, state, rootState, rootGetters }) { console.log(state.baseURL) }</code>"}, {"owner": {"reputation": 4336, "user_id": 787796, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0d25e7ddda1b06661b915c8b5fd4188f?s=128&d=identicon&r=PG", "display_name": "Tim Wickstrom", "link": "https://stackoverflow.com/users/787796/tim-wickstrom"}, "edited": false, "score": 1, "creation_date": 1574888496, "post_id": 59078090, "comment_id": 104393835, "body": "Also if it is a race condition you can wrap the method like so <code>getUsers(context) { this.$nextTick(() =&gt; { .console.log(&#39;getUsers().context.state.baseURL=&#39;, context.state.baseURL) }) }</code>"}, {"owner": {"reputation": 499, "user_id": 3836941, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/AkyiG.png?s=128&g=1", "display_name": "Leo.W", "link": "https://stackoverflow.com/users/3836941/leo-w"}, "reply_to_user": {"reputation": 113065, "user_id": 1850609, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/X0C56.jpg?s=128&g=1", "display_name": "acdcjunior", "link": "https://stackoverflow.com/users/1850609/acdcjunior"}, "edited": false, "score": 0, "creation_date": 1574969014, "post_id": 59078090, "comment_id": 104423966, "body": "@acdcjunior, Thank you for the suggestion. But the value has been set before the code is running."}, {"owner": {"reputation": 499, "user_id": 3836941, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/AkyiG.png?s=128&g=1", "display_name": "Leo.W", "link": "https://stackoverflow.com/users/3836941/leo-w"}, "reply_to_user": {"reputation": 4336, "user_id": 787796, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0d25e7ddda1b06661b915c8b5fd4188f?s=128&d=identicon&r=PG", "display_name": "Tim Wickstrom", "link": "https://stackoverflow.com/users/787796/tim-wickstrom"}, "edited": false, "score": 0, "creation_date": 1574969118, "post_id": 59078090, "comment_id": 104423998, "body": "@TimWickstrom, I am sure it is not a race condition. I will try your other suggestion. Thanks."}, {"owner": {"reputation": 113065, "user_id": 1850609, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/X0C56.jpg?s=128&g=1", "display_name": "acdcjunior", "link": "https://stackoverflow.com/users/1850609/acdcjunior"}, "edited": false, "score": 0, "creation_date": 1574975229, "post_id": 59078090, "comment_id": 104425684, "body": "The code that supposedly updates the value may have been triggered, but it probably hasn&#39;t been fulfilled (if it is a promise). The race condition is not in your code per se, but in it with relation to the dev tool&#39;s console. If the <code>$nextTick()</code> suggestion works, then it is a race condition (again, in relation to the console)"}, {"owner": {"reputation": 499, "user_id": 3836941, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/AkyiG.png?s=128&g=1", "display_name": "Leo.W", "link": "https://stackoverflow.com/users/3836941/leo-w"}, "reply_to_user": {"reputation": 4336, "user_id": 787796, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0d25e7ddda1b06661b915c8b5fd4188f?s=128&d=identicon&r=PG", "display_name": "Tim Wickstrom", "link": "https://stackoverflow.com/users/787796/tim-wickstrom"}, "edited": false, "score": 0, "creation_date": 1575315889, "post_id": 59078090, "comment_id": 104517324, "body": "Hi @TimWickstrom, and acdcjunior, both of you are correct. I tried Tim&#39;s another comment, and found the value is not ready when the function called. -- So,it is a race condition. I will answer this post to give more details, and how did I fix it; just in case, someone also meets the same situation. Thank you once again."}], "answers": [{"tags": [], "owner": {"reputation": 499, "user_id": 3836941, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/AkyiG.png?s=128&g=1", "display_name": "Leo.W", "link": "https://stackoverflow.com/users/3836941/leo-w"}, "is_accepted": false, "score": 1, "last_activity_date": 1575316813, "creation_date": 1575316813, "answer_id": 59145858, "question_id": 59078090, "link": "https://stackoverflow.com/questions/59078090/cannot-get-vue-states-element-vue-js-js-ts/59145858#59145858", "title": "Cannot get Vue state&#39;s element (Vue.js/JS/TS)", "body": "<p>Thanks @acdcjunior and @TimWickstrom, <br>\nI finally found the cause and a solution. Here are the codes comparison. The main difference is where to load the config value.\n<br> \n<br> <strong>The original code (problematic)</strong>:</p>\n\n<pre><code>new Vue({\n  router,\n  store,\n  vuetify,\n  render: h =&gt; h(App),\n}).$mount('#app');\n\nstore.commit(UPDATE_BASE_URL, {\n  baseURL: process.env.VUE_APP_BASE_URL,\n});\n</code></pre>\n\n<p><br> <strong>The working code:</strong></p>\n\n<pre><code>  new Vue({\n  router,\n  store,\n  vuetify,\n  created() {\n    this.$store.commit(UPDATE_BASE_URL, {\n      baseURL: process.env.VUE_APP_BASE_URL,\n    });\n  },\n  render: h =&gt; h(App),\n}).$mount('#app');\n</code></pre>\n\n<p><br>S<strong>creenshot for the working code</strong>:<br>\n<a href=\"https://i.stack.imgur.com/8NMzH.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/8NMzH.png\" alt=\"enter image description here\"></a>\n<br>Hope it helps who meets a similar issue.</p>\n"}], "owner": {"reputation": 499, "user_id": 3836941, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/AkyiG.png?s=128&g=1", "display_name": "Leo.W", "link": "https://stackoverflow.com/users/3836941/leo-w"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 53, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1575316813, "creation_date": 1574887105, "question_id": 59078090, "link": "https://stackoverflow.com/questions/59078090/cannot-get-vue-states-element-vue-js-js-ts", "title": "Cannot get Vue state&#39;s element (Vue.js/JS/TS)", "body": "<p>I met an issue today with Vue.</p>\n\n<p>In a function, I cannot get an element from a state.\nBut when I console.log() the state, the element is there.\nHow to fix it?</p>\n\n<p>The code:</p>\n\n<pre><code>export const actions: ActionTree&lt;IState, IState&gt; = {\n    getUsers(context) {\n      // eslint-disable-next-line no-console\n      console.log('getUsers().context=', context);\n      // eslint-disable-next-line no-console\n      console.log('getUsers().context.state=', context.state);\n      // eslint-disable-next-line no-console\n      console.log('getUsers().context.state.baseURL=', context.state.baseURL);\n      // do something...\n    }\n}\n</code></pre>\n\n<p>The console's log:<br><br>\nThe 1st log is OK. I can see the value of the <strong>baseURL</strong>.\n<a href=\"https://i.stack.imgur.com/yZRGI.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/yZRGI.png\" alt=\"enter image description here\"></a></p>\n\n<p>The 2nd log is OK too. can see the value of the <strong>baseURL</strong>.\n<a href=\"https://i.stack.imgur.com/sIDzW.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/sIDzW.png\" alt=\"enter image description here\"></a></p>\n\n<p>The 3rd log is the problem. I cannot get the value of the <strong>baseURL</strong>!!!\n<a href=\"https://i.stack.imgur.com/KpHBK.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/KpHBK.png\" alt=\"enter image description here\"></a></p>\n\n<p>package.json file:</p>\n\n<pre><code>{\n  \"name\": \"ui\",\n  \"version\": \"2.0.0-rc\",\n  \"private\": true,\n  \"author\": \"Leo Wu &lt;wudongyin@gmail.com&gt;\",\n  \"scripts\": {\n    \"serve\": \"vue-cli-service serve\",\n    \"build\": \"vue-cli-service build\",\n    \"lint\": \"vue-cli-service lint\"\n  },\n  \"dependencies\": {\n    \"axios\": \"^0.19.0\",\n    \"core-js\": \"^3.3.2\",\n    \"qs\": \"^6.9.1\",\n    \"uuid\": \"^3.3.3\",\n    \"vue\": \"^2.6.10\",\n    \"vue-class-component\": \"^7.0.2\",\n    \"vue-property-decorator\": \"^8.3.0\",\n    \"vue-router\": \"^3.1.3\",\n    \"vuetify\": \"^2.1.0\",\n    \"vuex\": \"^3.0.1\",\n    \"vuex-class\": \"^0.3.2\"\n  },\n  \"devDependencies\": {\n    \"@vue/cli-plugin-babel\": \"^4.0.0\",\n    \"@vue/cli-plugin-eslint\": \"^4.0.0\",\n    \"@vue/cli-plugin-typescript\": \"^4.0.0\",\n    \"@vue/cli-service\": \"^4.0.0\",\n    \"@vue/eslint-config-airbnb\": \"^4.0.0\",\n    \"@vue/eslint-config-typescript\": \"^4.0.0\",\n    \"eslint\": \"^5.16.0\",\n    \"eslint-plugin-vue\": \"^5.0.0\",\n    \"node-sass\": \"^4.12.0\",\n    \"sass\": \"^1.19.0\",\n    \"sass-loader\": \"^8.0.0\",\n    \"typescript\": \"~3.5.3\",\n    \"vue-cli-plugin-vuetify\": \"^2.0.2\",\n    \"vue-template-compiler\": \"^2.6.10\",\n    \"vuetify-loader\": \"^1.3.0\"\n  },\n  \"eslintConfig\": {\n    \"root\": true,\n    \"env\": {\n      \"node\": true\n    },\n    \"extends\": [\n      \"plugin:vue/essential\",\n      \"@vue/airbnb\",\n      \"@vue/typescript\"\n    ],\n    \"rules\": {\n      \"max-len\": \"off\",\n      \"no-param-reassign\": \"off\"\n    },\n    \"parserOptions\": {\n      \"parser\": \"@typescript-eslint/parser\"\n    }\n  },\n  \"postcss\": {\n    \"plugins\": {\n      \"autoprefixer\": {}\n    }\n  },\n  \"browserslist\": [\n    \"&gt; 1%\",\n    \"last 2 versions\"\n  ]\n}\n</code></pre>\n\n<p>Please let me know if you need more information.<br>\nAny help will be appreciated.</p>\n"}, {"tags": ["reactjs", "typescript", "react-select"], "answers": [{"comments": [{"owner": {"reputation": 537, "user_id": 4718994, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/4983ca66c8d9cc0ae19d1a30adde34a9?s=128&d=identicon&r=PG&f=1", "display_name": "joshuaaron", "link": "https://stackoverflow.com/users/4718994/joshuaaron"}, "edited": false, "score": 0, "creation_date": 1574962997, "post_id": 59093487, "comment_id": 104422060, "body": "thanks for the suggestion, oddly, this works fine in Codesandbox, but in my actual project (running TS 3.7.2) this still fails, not sure if this is affecting it, thanks for the help though!"}], "tags": [], "owner": {"reputation": 431, "user_id": 7351272, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/VitCy.jpg?s=128&g=1", "display_name": "Emma", "link": "https://stackoverflow.com/users/7351272/emma"}, "is_accepted": false, "score": 0, "last_activity_date": 1574960266, "creation_date": 1574960266, "answer_id": 59093487, "question_id": 59078040, "link": "https://stackoverflow.com/questions/59078040/react-select-typescript-issue-react-use-form-state/59093487#59093487", "title": "react-select typescript issue (react-use-form-state)", "body": "<p>Hey I think I managed to get your type defs working by extending the use of ValueType in your select component definition.</p>\n\n<p>Here's the <a href=\"https://codesandbox.io/s/affectionate-pine-f49oe\" rel=\"nofollow noreferrer\">working fork of your codesandbox</a></p>\n\n<pre><code>import * as React from \"react\";\nimport Select, { ValueType } from \"react-select\";\n\ninterface Props&lt;ValueType&gt; {\n  controls: Inputs&lt;ValueType&gt;;\n  name: keyof ValueType;\n  options: SelectOption[];\n  label?: string;\n  formState: FormState&lt;ValueType, StateErrors&lt;ValueType, string&gt;&gt;;\n};\n\nexport function CustomSelect&lt;ValueType extends {} = string&gt;(\n  props: Props&lt;ValueType&gt;\n) {\n  const { controls, options, formState, name } = props;\n\n  const handleChange = (option: any) =&gt; {\n    formState.setField(name, option);\n  };\n\n  return (\n    &lt;Select\n      {...controls.raw({ name })}\n      options={options}\n      onChange={handleChange}\n      value={formState.values[name]}\n    /&gt;\n  );\n}\n\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 537, "user_id": 4718994, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/4983ca66c8d9cc0ae19d1a30adde34a9?s=128&d=identicon&r=PG&f=1", "display_name": "joshuaaron", "link": "https://stackoverflow.com/users/4718994/joshuaaron"}, "is_accepted": false, "score": 0, "last_activity_date": 1574970879, "creation_date": 1574970879, "answer_id": 59095457, "question_id": 59078040, "link": "https://stackoverflow.com/questions/59078040/react-select-typescript-issue-react-use-form-state/59095457#59095457", "title": "react-select typescript issue (react-use-form-state)", "body": "<p>Ended up fixing this by simply passing in the values that were required, rather than trying to pull them off the parent object that relied on the types.</p>\n\n<p>I still would like to know if there was a way to infer the type correctly when passed from a parent but can't think of a way/if it's even possible.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>// Custom Select:\r\ntype Props&lt;T&gt; = {\r\n  controls: Inputs&lt;T&gt;;\r\n  name: keyof T;\r\n  options: SelectOption[];\r\n  value: ValueType&lt;SelectOption&gt;; ***\r\n  setField: (name: keyof T, value: ValueType&lt;SelectOption&gt;) =&gt; void; ***\r\n};\r\n\r\nconst handleChange = (option: ValueType&lt;SelectOption&gt;) =&gt; {\r\n  setField(name, option);\r\n};\r\n\r\nreturn (\r\n  &lt;Select\r\n    {...controls.raw({ name })}\r\n    options={options}\r\n    onChange={handleChange}\r\n    value={value}\r\n  /&gt;\r\n);\r\n\r\n// Usage:\r\n&lt;CustomSelect\r\n  controls={inputs}\r\n  name=\"dropdown\"\r\n  options={options}\r\n  value={formState.values.dropdown}\r\n  setField={formState.setField}\r\n/&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 537, "user_id": 4718994, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/4983ca66c8d9cc0ae19d1a30adde34a9?s=128&d=identicon&r=PG&f=1", "display_name": "joshuaaron", "link": "https://stackoverflow.com/users/4718994/joshuaaron"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1878, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1574970879, "creation_date": 1574886865, "question_id": 59078040, "link": "https://stackoverflow.com/questions/59078040/react-select-typescript-issue-react-use-form-state", "title": "react-select typescript issue (react-use-form-state)", "body": "<p>This might be very specific and tricky but struggling to find a solution here.</p>\n\n<p>Essentially we (the project I'm on) have wrappers around some of our Form controls to keep all the handler/setup boilerplate and I'm having trouble with the Select component that wraps the Select from the react-select library.</p>\n\n<p><a href=\"https://github.com/wsmd/react-use-form-state/blob/master/README.md\" rel=\"nofollow noreferrer\">react-use-form-state</a> exposes the 'raw' type to work with custom controls where you update the value yourself with the exposed setField method. This library also allows a custom type declaration to define your forms state:</p>\n\n<pre><code>const [ formState, { raw } ] = useFormState&lt;FormSchema&gt;()\n</code></pre>\n\n<p>To use this raw type in the custom component, the Input type behind this is generic where the type is the of your form state. </p>\n\n<p>However, if I remove this extra level of abstraction and use it directly in the same function that instantiates the state with the type it works fine:</p>\n\n<p>What I'm asking I guess is how would I type this correctly in the CustomSelect component to satisfy typescript correctly. </p>\n\n<p><a href=\"https://codesandbox.io/s/misty-river-v2tp1\" rel=\"nofollow noreferrer\">Codesandbox of minimum  code here</a></p>\n"}, {"tags": ["angular", "typescript"], "answers": [{"comments": [{"owner": {"reputation": 207, "user_id": 11187561, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8564e6c3f51ec9ad8643c7a84d5b6b0b?s=128&d=identicon&r=PG&f=1", "display_name": "angleUr", "link": "https://stackoverflow.com/users/11187561/angleur"}, "edited": false, "score": 0, "creation_date": 1574887394, "post_id": 59078107, "comment_id": 104393386, "body": ".the mat-option has value=language and also the mat-select. Are you saying value is string for mat-option? I&#39;ve used this format in other areas without problem. Why is it not working here?"}, {"owner": {"reputation": 207, "user_id": 11187561, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8564e6c3f51ec9ad8643c7a84d5b6b0b?s=128&d=identicon&r=PG&f=1", "display_name": "angleUr", "link": "https://stackoverflow.com/users/11187561/angleur"}, "edited": false, "score": 0, "creation_date": 1574887592, "post_id": 59078107, "comment_id": 104393472, "body": "Thanks. Shouldn&#39;t the setValue method have changed that though? How would I set it to JSON? The syntax in your comment looks identical."}, {"owner": {"reputation": 207, "user_id": 11187561, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8564e6c3f51ec9ad8643c7a84d5b6b0b?s=128&d=identicon&r=PG&f=1", "display_name": "angleUr", "link": "https://stackoverflow.com/users/11187561/angleur"}, "edited": false, "score": 0, "creation_date": 1574888370, "post_id": 59078107, "comment_id": 104393788, "body": "I tried patchValue as well but that did not work. Adding {{language.viewValue}} to the mat-select brakes the page."}, {"owner": {"reputation": 7665, "user_id": 894532, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/epFXH.jpg?s=128&g=1", "display_name": "Maihan Nijat", "link": "https://stackoverflow.com/users/894532/maihan-nijat"}, "reply_to_user": {"reputation": 207, "user_id": 11187561, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8564e6c3f51ec9ad8643c7a84d5b6b0b?s=128&d=identicon&r=PG&f=1", "display_name": "angleUr", "link": "https://stackoverflow.com/users/11187561/angleur"}, "edited": false, "score": 1, "creation_date": 1574888920, "post_id": 59078107, "comment_id": 104394012, "body": "@angleUr @angleUr Do this to mat-select: <code>[value]=&quot;languages[0]&quot;</code>"}, {"owner": {"reputation": 207, "user_id": 11187561, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8564e6c3f51ec9ad8643c7a84d5b6b0b?s=128&d=identicon&r=PG&f=1", "display_name": "angleUr", "link": "https://stackoverflow.com/users/11187561/angleur"}, "edited": false, "score": 0, "creation_date": 1575046789, "post_id": 59078107, "comment_id": 104448778, "body": "I did this with languages[i] so it could be dynamic, and it worked."}, {"owner": {"reputation": 207, "user_id": 11187561, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8564e6c3f51ec9ad8643c7a84d5b6b0b?s=128&d=identicon&r=PG&f=1", "display_name": "angleUr", "link": "https://stackoverflow.com/users/11187561/angleur"}, "edited": false, "score": 0, "creation_date": 1575050138, "post_id": 59078107, "comment_id": 104449905, "body": "Can you update your answer to include what you have in the comment? As is, it doesnt work, but your comment worked."}], "tags": [], "owner": {"reputation": 7665, "user_id": 894532, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/epFXH.jpg?s=128&g=1", "display_name": "Maihan Nijat", "link": "https://stackoverflow.com/users/894532/maihan-nijat"}, "is_accepted": true, "score": 0, "last_activity_date": 1575050266, "last_edit_date": 1575050266, "creation_date": 1574887189, "answer_id": 59078107, "question_id": 59077945, "link": "https://stackoverflow.com/questions/59077945/angular-setting-default-value-for-dropdown-solutions-not-working/59078107#59078107", "title": "Angular - Setting default value for dropdown - solutions not working?", "body": "<p>The reason could be the type of values you are setting as default and the type of objects you are looping through. </p>\n\n<p>The type is <code>string</code> here:</p>\n\n<pre><code>&lt;mat-select (selectionChange)=\"doSomething($event)\" [value]=\"language\"&gt; \n&lt;mat-select (selectionChange)=\"doSomething($event)\" [value]=\"English\"&gt;\n</code></pre>\n\n<p>But it's JSON object here:</p>\n\n<pre><code>&lt;mat-option *ngFor=\"let language of languages\" [value]=\"language\"&gt;\n     {{language.viewValue}}\n&lt;/mat-option&gt;\n</code></pre>\n\n<p>Make both the same type, both JSON objects or both strings.</p>\n\n<p>If you use <code>[value]=\"languages[0]\"</code> it would set default value using the first element of the languages array. </p>\n\n<p><a href=\"https://github.com/angular/components/issues/7771#issuecomment-336482394\" rel=\"nofollow noreferrer\">https://github.com/angular/components/issues/7771#issuecomment-336482394</a></p>\n"}, {"tags": [], "owner": {"reputation": 1793, "user_id": 3763317, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9tHWe.jpg?s=128&g=1", "display_name": "Damian C", "link": "https://stackoverflow.com/users/3763317/damian-c"}, "is_accepted": false, "score": 0, "last_activity_date": 1574888445, "creation_date": 1574888445, "answer_id": 59078362, "question_id": 59077945, "link": "https://stackoverflow.com/questions/59077945/angular-setting-default-value-for-dropdown-solutions-not-working/59078362#59078362", "title": "Angular - Setting default value for dropdown - solutions not working?", "body": "<p>Try this:</p>\n\n<pre><code>public languages = [\n  { value: \"en\", viewValue: 'English' },\n  { value: \"es\", viewValue: 'Spanish' }\n   ];\n\npublic defaultLanguage = languages[0]; // or languages[1]\n</code></pre>\n\n<p>What I noticed right away is your are trying to make your ngModel, which is a <strong>string</strong> match your [value] which is an <strong>object</strong></p>\n\n<pre><code>&lt;mat-select (selectionChange)=\"doSomething($event)\" [(ngModel)]='defaultLanguage'&gt;\n     &lt;mat-option *ngFor=\"let language of languages\" [value]=\"language\"&gt;\n          {{language.viewValue}}\n     &lt;/mat-option&gt;\n&lt;/mat-select&gt;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 35, "user_id": 7252730, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-6QKnEVIzfyo/AAAAAAAAAAI/AAAAAAAAABY/NxQY7m931Yc/photo.jpg?sz=128", "display_name": "emassie", "link": "https://stackoverflow.com/users/7252730/emassie"}, "is_accepted": false, "score": 0, "last_activity_date": 1574888463, "creation_date": 1574888463, "answer_id": 59078366, "question_id": 59077945, "link": "https://stackoverflow.com/questions/59077945/angular-setting-default-value-for-dropdown-solutions-not-working/59078366#59078366", "title": "Angular - Setting default value for dropdown - solutions not working?", "body": "<p>You probably want to use something like this:</p>\n\n<pre><code>&lt;mat-option *ngFor=\"let language of languages\" [value]=\"language.value\"&gt;\n    {{language.viewValue}}\n&lt;/mat-option&gt;\n</code></pre>\n\n<p>Then set the default language to one of those values:</p>\n\n<pre><code>public defaultLanguage: String = \"en\";\n</code></pre>\n\n<p>This way the options are simple strings rather than JSON making them easily comparable. Currently your defaultLanguage variable doesn't match either of the options.  </p>\n"}], "owner": {"reputation": 207, "user_id": 11187561, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8564e6c3f51ec9ad8643c7a84d5b6b0b?s=128&d=identicon&r=PG&f=1", "display_name": "angleUr", "link": "https://stackoverflow.com/users/11187561/angleur"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 59, "favorite_count": 0, "accepted_answer_id": 59078107, "answer_count": 3, "score": 0, "last_activity_date": 1575050266, "creation_date": 1574886339, "question_id": 59077945, "link": "https://stackoverflow.com/questions/59077945/angular-setting-default-value-for-dropdown-solutions-not-working", "title": "Angular - Setting default value for dropdown - solutions not working?", "body": "<p><strong>Goal</strong>: Set default value for a dropdown that changes the address of the site the user is on /en/ or /es/ for English or Spanish</p>\n\n<p><strong>Problem</strong>: After going through documentation and through every SO article I could find such as <a href=\"https://stackoverflow.com/questions/35978450/angular-2-dropdown-options-default-value\">Angular 2 Dropdown Options Default Value</a>, none of the variations seem to work. </p>\n\n<p>What is wrong?\nAnd do I need a form/mat-form or is there a simpler way to do this?</p>\n\n<p><strong>What I've tried</strong>: Here are some of the variations of what I've tried in the HTML and in the TypeScript:</p>\n\n<pre><code>&lt;mat-select (selectionChange)=\"doSomething($event)\" [value]=\"language\"&gt; \n&lt;mat-select (selectionChange)=\"doSomething($event)\" [value]=\"English\"&gt;  \n&lt;mat-select (selectionChange)=\"doSomething($event)\" [(ngModel)]='defaultLanguage'&gt;\n</code></pre>\n\n<p><strong>HTML</strong>: </p>\n\n<pre><code>&lt;form [formGroup]=\"_siteForm\"&gt;\n      &lt;mat-form-field class=\"right\"&gt;\n          &lt;mat-select (selectionChange)=\"doSomething($event)\" [(ngModel)]='defaultLanguage'&gt;\n              &lt;mat-option *ngFor=\"let language of languages\" [value]=\"language\"&gt;\n                  {{language.viewValue}}\n              &lt;/mat-option&gt;\n          &lt;/mat-select&gt;\n      &lt;/mat-form-field&gt;\n&lt;/form&gt;\n</code></pre>\n\n<p><strong>TypeScript</strong>:</p>\n\n<pre><code>public _siteForm             : FormGroup;\nthis._siteForm = fb.group({\n            'languages' : ['']\n        });\npublic languages = [\n  { value: \"en\", viewValue: 'English' },\n  { value: \"es\", viewValue: 'Spanish' }\n   ];\n\npublic defaultLanguage          : string = \"English\";\n\nif (this.localeId == \"en\") { this._siteForm.controls[\"languages\"].setValue(this.languages.filter(item =&gt; item.value === 'en')[0].viewValue); }\nelse { this._siteForm.controls[\"languages\"].setValue(this.languages.filter(item =&gt; item.value === 'es')[0].viewValue); }\n</code></pre>\n\n<p>Alternate</p>\n\n<pre><code>this._siteForm.setValue({ languages: \"en\" });\n</code></pre>\n"}, {"tags": ["html", "angular", "typescript", "angular-material"], "answers": [{"tags": [], "owner": {"reputation": 73, "user_id": 4727253, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-yB9xDONN76Y/AAAAAAAAAAI/AAAAAAAAAbQ/xy-lohVuYa8/photo.jpg?sz=128", "display_name": "Aiden Dipple", "link": "https://stackoverflow.com/users/4727253/aiden-dipple"}, "is_accepted": false, "score": 0, "last_activity_date": 1584734637, "creation_date": 1584734637, "answer_id": 60780951, "question_id": 59077715, "link": "https://stackoverflow.com/questions/59077715/how-to-make-creative-tim-angular-material-pro-show-multi-select-drop-list-on-fil/60780951#60780951", "title": "How to make Creative Tim Angular Material Pro show multi-select drop list on filter panel?", "body": "<p>I tried many things (no thanks to requests to Creative Tim paid support) including z-index being set to 3000.  I finally got an answer where I added to the src/styles.scss and made the mat-select display margin-left: -300.</p>\n\n<p>See <a href=\"https://stackoverflow.com/questions/47983954/how-to-customize-mat-select-dropdown-position\">How to customize mat-select dropdown position</a></p>\n\n<p>The populate renders to the left of the filter which still is one layer below the filter, but the UX works well.</p>\n"}], "owner": {"reputation": 73, "user_id": 4727253, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-yB9xDONN76Y/AAAAAAAAAAI/AAAAAAAAAbQ/xy-lohVuYa8/photo.jpg?sz=128", "display_name": "Aiden Dipple", "link": "https://stackoverflow.com/users/4727253/aiden-dipple"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 163, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1584734637, "creation_date": 1574885012, "last_edit_date": 1576502129, "question_id": 59077715, "link": "https://stackoverflow.com/questions/59077715/how-to-make-creative-tim-angular-material-pro-show-multi-select-drop-list-on-fil", "title": "How to make Creative Tim Angular Material Pro show multi-select drop list on filter panel?", "body": "<p>I have limited CSS/SCSS skills but need to change the standard Creative Tim Angular Pro Material template.</p>\n\n<p>Can someone show me examples of what the change needs to be, please? (Whether in the HTML, or many CSS files in the Creative Tim pile).</p>\n\n<p>I'm taking the multi-select drop list code from the same project, from</p>\n\n<pre><code>src/app/forms/extendedforms\n</code></pre>\n\n<p>from the extendedforms.component.html (lines #49 - 55):</p>\n\n<pre><code>    &lt;mat-form-field&gt;\n        &lt;mat-select multiple placeholder=\"Multiple Cities\" [(ngModel)]=\"currentCity\" name=\"Paris\" ariaLabel=\"cities[0]\"&gt;\n            &lt;mat-option *ngFor=\"let city of cities\" [value]=\"city.value\"&gt;\n                {{ city.viewValue }}\n            &lt;/mat-option&gt;\n        &lt;/mat-select&gt;\n    &lt;/mat-form-field&gt;\n</code></pre>\n\n<p>from the extendedforms.component.ts (lines #27 - 36):</p>\n\n<pre><code>currentCity: string[];\n\nselectTheme = 'primary'; // Irrelevant but left in to show original code\ncities = [\n  {value: 'paris-0', viewValue: 'Paris'},\n  {value: 'miami-1', viewValue: 'Miami'},\n  {value: 'bucharest-2', viewValue: 'Bucharest'},\n  {value: 'new-york-3', viewValue: 'New York'},\n  {value: 'london-4', viewValue: 'London'},\n  {value: 'barcelona-5', viewValue: 'Barcelona'},\n  {value: 'moscow-6', viewValue: 'Moscow'},\n];\n</code></pre>\n\n<p>I'm trying to add the multi-select drop list to the filter panel </p>\n\n<pre><code>src/app/shared/fixedplugin.\n</code></pre>\n\n<p>to the fixedplugin.component.html replacing (lines #10 - 21) colour buttons:</p>\n\n<pre><code>    &lt;a href=\"javascript:void(0)\" class=\"switch-trigger active-color\"&gt;\n        &lt;div class=\"ml-auto mr-auto\"&gt;\n        &lt;span class=\"badge filter badge-green\" data-color=\"projcycle\"&gt;&lt;/span&gt;\n        &lt;span class=\"badge filter badge-purple\" data-color=\"purple\"&gt;&lt;/span&gt;\n        &lt;span class=\"badge filter badge-azure active\" data-color=\"azure\"&gt;&lt;/span&gt;\n        &lt;span class=\"badge filter badge-green\" data-color=\"green\"&gt;&lt;/span&gt;\n        &lt;span class=\"badge filter badge-orange\" data-color=\"orange\"&gt;&lt;/span&gt;\n        &lt;span class=\"badge filter badge-danger\" data-color=\"danger\"&gt;&lt;/span&gt;\n        &lt;span class=\"badge filter badge-rose\" data-color=\"rose\"&gt;&lt;/span&gt;\n        &lt;/div&gt;\n        &lt;div class=\"clearfix\"&gt;&lt;/div&gt;\n    &lt;/a&gt;\n</code></pre>\n\n<p>with the HTML for the drop list, and then just add the HTML from the extendedforms component to replace the above, and the code into the fixedplugin.component.ts (at line #19 above the constructor).</p>\n\n<p>The src/app/shared/fixedplugin.module.ts also needs the following import (and added to module imports) for the material drop list to work:</p>\n\n<pre><code>import { FormsModule, ReactiveFormsModule } from '@angular/forms';\nimport { MaterialModule } from '../../app.module';\n</code></pre>\n\n<p>So that the final fixedplugin.module.ts looks like:</p>\n\n<pre><code>import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FixedpluginComponent } from './fixedplugin.component';\n\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\nimport { MaterialModule } from '../../app.module';\n\n@NgModule({\n  imports: [\n    CommonModule,\n\n    FormsModule,\n    MaterialModule\n  ],\n  declarations: [FixedpluginComponent],\n  exports: [FixedpluginComponent]\n})\nexport class FixedpluginModule { }\n</code></pre>\n\n<p>The two problems I have are:</p>\n\n<p>1) The \"filter component\" panel hides when the drop list is expanded on click leaving just the populated list panel visible (both the fixed plugin and top part of drop list hidden).</p>\n\n<p>2) When the drop list fires on-selection-change events each time an item in the list is clicked, how do I trigger a selection event?</p>\n\n<p>The original fixedplugin looks like:</p>\n\n<p><a href=\"https://i.stack.imgur.com/MnQID.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/MnQID.jpg\" alt=\"enter image description here\"></a></p>\n\n<p>And what I see after my above changes are the correctly displayed drop list before expanding (see left red rectangle and red oval), but the orphaned panel that only shows the drop list contents when expanded (see right side red oval).</p>\n\n<p><a href=\"https://i.stack.imgur.com/kA2NA.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/kA2NA.jpg\" alt=\"enter image description here\"></a></p>\n\n<p>All useful help gratefully received.</p>\n"}, {"tags": ["reactjs", "typescript", "react-native"], "comments": [{"owner": {"reputation": 1782, "user_id": 10520343, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QjS3j.png?s=128&g=1", "display_name": "oemera", "link": "https://stackoverflow.com/users/10520343/oemera"}, "edited": false, "score": 0, "creation_date": 1574885928, "post_id": 59077652, "comment_id": 104392861, "body": "Is this a compile-time error or a run-time error?"}, {"owner": {"reputation": 97, "user_id": 5883564, "user_type": "registered", "accept_rate": 0, "profile_image": "https://lh5.googleusercontent.com/-1yBp0rnp33Q/AAAAAAAAAAI/AAAAAAAAABM/fUGvY7P76-E/photo.jpg?sz=128", "display_name": "Richard Dyer", "link": "https://stackoverflow.com/users/5883564/richard-dyer"}, "reply_to_user": {"reputation": 1782, "user_id": 10520343, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QjS3j.png?s=128&g=1", "display_name": "oemera", "link": "https://stackoverflow.com/users/10520343/oemera"}, "edited": false, "score": 0, "creation_date": 1574886005, "post_id": 59077652, "comment_id": 104392889, "body": "@oemera compile time"}, {"owner": {"reputation": 1782, "user_id": 10520343, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QjS3j.png?s=128&g=1", "display_name": "oemera", "link": "https://stackoverflow.com/users/10520343/oemera"}, "edited": false, "score": 0, "creation_date": 1574886601, "post_id": 59077652, "comment_id": 104393116, "body": "I have weird problems with typescript all the time. Some libraries just don&#39;t have any or insufficent support for typescript. The workaround is to ignore these errors with <code>&#47;&#47;ts-ignore</code> or in jsx with <code>{&#47;* &#47;&#47;ts-ignore *&#47;}</code> above the error occurence."}], "owner": {"reputation": 97, "user_id": 5883564, "user_type": "registered", "accept_rate": 0, "profile_image": "https://lh5.googleusercontent.com/-1yBp0rnp33Q/AAAAAAAAAAI/AAAAAAAAABM/fUGvY7P76-E/photo.jpg?sz=128", "display_name": "Richard Dyer", "link": "https://stackoverflow.com/users/5883564/richard-dyer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 56, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1574884708, "creation_date": 1574884708, "question_id": 59077652, "link": "https://stackoverflow.com/questions/59077652/react-typescript-error-using-static-object", "title": "React Typescript Error using static object", "body": "<p>I am building a react native app and am using react-native-reanimated and react-navigation-animated-switch to try and create an animation when changing screens. I am also using typescript.\nJust following react-navigation's guide I can't figure out why there example doesn't work for me.\n<a href=\"https://reactnavigation.org/docs/en/animated-switch-navigator.html\" rel=\"nofollow noreferrer\">https://reactnavigation.org/docs/en/animated-switch-navigator.html</a></p>\n\n<pre><code>import createAnimatedSwitchNavigator from 'react-navigation-animated-switch';\nimport { Transition } from 'react-native-reanimated';\n\nconst MySwitch = createAnimatedSwitchNavigator(\n {\nHome: HomeScreen,\nOther: OtherScreen,\n},\n{\ntransition: (\n  &lt;Transition.Together&gt;\n    &lt;Transition.Out\n      type=\"slide-bottom\"\n      durationMs={400}\n      interpolation=\"easeIn\"\n    /&gt;\n    &lt;Transition.In type=\"fade\" durationMs={500} /&gt;\n  &lt;/Transition.Together&gt;\n),\n</code></pre>\n\n<p>}\n);</p>\n\n<p>All the code that uses Transition I get a typescript error that Transition refers only to a type. Transition has a static objects Together, In etc but it is not found. Also it the package does have ts.d file. </p>\n\n<p>Thanks</p>\n"}, {"tags": ["typescript", "generics", "types"], "comments": [{"owner": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "edited": false, "score": 0, "creation_date": 1574904626, "post_id": 59077562, "comment_id": 104397992, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/56781010/typescript-how-to-map-objects-in-a-discriminated-union-to-functions-they-can-be\">TypeScript: How to map objects in a discriminated union to functions they can be called with?</a>"}, {"owner": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "edited": false, "score": 0, "creation_date": 1574905978, "post_id": 59077562, "comment_id": 104398221, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/56406284/argument-of-type-is-not-assignable-to-parameter-of-type-never/56409709\">Argument of type {\u2026} is not assignable to parameter of type &#39;never&#39;</a>"}], "answers": [{"tags": [], "owner": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "is_accepted": true, "score": 3, "last_activity_date": 1574905754, "creation_date": 1574905754, "answer_id": 59080689, "question_id": 59077562, "link": "https://stackoverflow.com/questions/59077562/type-of-properties-in-a-generic-function/59080689#59080689", "title": "Type of properties in a generic function", "body": "<p>Perhaps the compiler should know that, but it doesn't.  I tend to call this issue \"correlated types\" or \"correlated records\".  The compiler sees <code>foo[field]</code> and <code>bar[field]</code> as union-typed things, which is true enough.  But it treats their types as independent, meaning that as far as it knows, <code>foo[field]</code> might be <code>number[]</code> while <code>bar[field]</code> might be a function that takes <code>string[]</code>.  It doesn't see that the type of  <code>foo[field]</code> is <em>correlated</em> to the type of <code>bar[field]</code> in such a way that knowing one fixes the other.  There's an open issue, <a href=\"https://github.com/microsoft/TypeScript/issues/30581\" rel=\"nofollow noreferrer\">microsoft/TypeScript#30581</a> (which I filed, fwiw) suggesting that there be some support for correlated types, but it's not clear if that's ever going to happen or how. </p>\n\n<p>All we have right now are workarounds.  The two workarounds mentioned in that issue: either use redundant code to force the compiler to walk through the different possibilities and guarantee type safety, or use <a href=\"https://www.typescriptlang.org/docs/handbook/basic-types.html#type-assertions\" rel=\"nofollow noreferrer\">type assertions</a> to give up on some type safety but maintain brevity.  For your code it would look like this:</p>\n\n<pre><code>// redundant code\nconst f: keyof Foo = field;\nswitch (f) {\n   case \"a\":\n      foo[f] = bar[f](foo[f]);\n      break;\n   case \"b\":\n      foo[f] = bar[f](foo[f]);\n      break;\n}\n\n// type assertion\nfoo[field] = (bar[field] as &lt;T&gt;(arg: T) =&gt; T)(foo[field]);\n</code></pre>\n\n<p>I usually opt for the type assertion.  Okay, hope that helps; good luck!</p>\n\n<p><a href=\"http://www.typescriptlang.org/play/#code/JYOwLgpgTgZghgYwgAgGIHt3IN4ChkFwBcyIArgLYBG0A2gLoA0+BVJAzmFKAOYPMBfZLlxgAngAcUAIThRkAXhzJaAFWShkAawhj0MNJnokAFHJ4kM6NfQCUigHyHrq+sgEiYZEAjDB0IMiQnAA86hAAHpAgACbs2rr6zg4mMMAQADYxJKr2eATICAGcyDCYlpiKOCwFyMQqTDUFbA3MBQIA3CIFRSAlVHIksvJK+bV1JOaOyAD0AFTI7OgUKEUxKHMz-E2sk1A80-OLy6vo68ib2+1dNTMzyFAQMd4xcOCFZxA1vSUwJDp6AxWKppTIxLoFdgAd2AYAQAAtkKk8jtCnB2CgAERwTFEVEFMrWGBuJQDKC0YmpTAUuwQ8bNR5wLR02oIdFYqi4-EEQk0qpkmlUom07nIKiM5k1Dy3e7iKR1dgYqB+AI1XmgrIkpECjUxNzo5BhFLmHL2BROXJCinpTW2LrSoA\" rel=\"nofollow noreferrer\">Link to code</a></p>\n"}], "owner": {"reputation": 148, "user_id": 4399840, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-fPD-80TmCgQ/AAAAAAAAAAI/AAAAAAAAABQ/MShh_TQGQfg/photo.jpg?sz=128", "display_name": "LanYi", "link": "https://stackoverflow.com/users/4399840/lanyi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 116, "favorite_count": 0, "accepted_answer_id": 59080689, "answer_count": 1, "score": 2, "last_activity_date": 1574905754, "creation_date": 1574884249, "question_id": 59077562, "link": "https://stackoverflow.com/questions/59077562/type-of-properties-in-a-generic-function", "title": "Type of properties in a generic function", "body": "<p>I'm trying to transform some fields of my object by providing field names, currently I wrote something like follows:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>interface Foo {\n    a: number[],\n    b: string[],\n}\n\ntype Bar = { [T in keyof Foo] : (arg : Foo[T]) =&gt; Foo[T] }\n\nfunction test&lt;T extends keyof Foo&gt;(field: T) {\n    const foo : Foo = {\n        a: [],\n        b: [],\n    };\n\n    const bar: Bar = {\n        a: arg =&gt; /* some code */ [],\n        b: arg =&gt; /* some code */ [],\n    };\n\n    foo[field] = bar[field](foo[field]);\n}\n</code></pre>\n\n<p>But I end up with the following error message on <code>bar[field](foo[field])</code>:</p>\n\n<pre><code>Argument of type 'Foo[T]' is not assignable to parameter of type 'number[] &amp; string[]'.\n  Type 'number[] | string[]' is not assignable to type 'number[] &amp; string[]'.\n    Type 'number[]' is not assignable to type 'number[] &amp; string[]'.\n      Type 'number[]' is not assignable to type 'string[]'.\n        Type 'number' is not assignable to type 'string'.\n          Type 'Foo[T]' is not assignable to type 'number[]'.\n            Type 'number[] | string[]' is not assignable to type 'number[]'.\n              Type 'string[]' is not assignable to type 'number[]'.\n                Type 'string' is not assignable to type 'number'\n</code></pre>\n\n<p>But shouldn't typescript \"know\" that with the same <code>T</code>, <code>Foo[T]</code> and <code>Parameters&lt;Bar[T]&gt;</code> should be the same?</p>\n"}, {"tags": ["typescript", "types"], "comments": [{"owner": {"reputation": 10229, "user_id": 621316, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/5203b24e171961e916d054b73d8b5b59?s=128&d=identicon&r=PG", "display_name": "Dave Cousineau", "link": "https://stackoverflow.com/users/621316/dave-cousineau"}, "edited": false, "score": 2, "creation_date": 1574883659, "post_id": 59077385, "comment_id": 104391918, "body": "I think function signatures are just generally not inferred. if you&#39;re defining a function, it&#39;s up to you to specify its signature."}], "answers": [{"tags": [], "owner": {"reputation": 73871, "user_id": 1426891, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gFJE8.png?s=128&g=1", "display_name": "Jeff Bowman", "link": "https://stackoverflow.com/users/1426891/jeff-bowman"}, "is_accepted": false, "score": 1, "last_activity_date": 1574884846, "creation_date": 1574884846, "answer_id": 59077681, "question_id": 59077385, "link": "https://stackoverflow.com/questions/59077385/why-does-typescript-not-infer-function-parameters-types-when-those-parameters-ar/59077681#59077681", "title": "Why does TypeScript not infer function parameters types when those parameters are passed to a typed function?", "body": "<p>One reason: With your proposal, if Typescript could narrow the signature automatically, it would implicitly propagate across all call sites and cause those to fail.</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>function yourFunction(x) {\n  doSomethingThatTakesANumber(x);\n}\n// elsewhere\nyourFunction(1);\n// still elsewhere\nyourFunction(-1);\n</code></pre>\n\n<p>Once you change <code>yourFunction</code> to <code>doSomethingThatTakesABoolean</code>, Typescript would infer that <code>x</code> must be a boolean, and then the two unrelated calls would start failing. This would be particularly difficult to debug.</p>\n\n<p>For the case of writing a wrapper function that takes the same signature as the function it wraps, you can use <code>typeof functionA</code> to wrap the function without repeating yourself. Typescript can infer the types of the parameters from the type of the function, but not the code expressed in its body.</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>const functionWrapper2: typeof functionA = (x, y, z) =&gt; functionA(x, y, z);\n</code></pre>\n\n<p><a href=\"https://www.typescriptlang.org/play/#code/GYVwdgxgLglg9mABKSsEEEAUAPAXIgZygCcYwBzAGkQE98wQBbAIwFNjqAvfAZQAdWEGAEMANgBUaAgJT4AbnBgATRAG9EAXwBQWgPS7kwmKIKI2EYSAKtE2ajWrCwKzomHEbUKTYAGTmj5aEAhEyODQ8GAA6sTCfALE+Dj2XNKIALwAfGGokVh2tKkA3Dr6hCAQEKysSqbmltaIUAAWnt6mcMC2KW7OiK4WSGyIZMDsHirAxHCMTa16BigRCADkpl4CQSFQOcvRsfHsAEz4G6ydu2hg6BmIyYX9aVmXefcOj0VAA\" rel=\"nofollow noreferrer\">typescript playground</a></p>\n"}, {"tags": [], "owner": {"reputation": 15749, "user_id": 4420812, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9yQ4D.jpg?s=128&g=1", "display_name": "Maciej Sikora", "link": "https://stackoverflow.com/users/4420812/maciej-sikora"}, "is_accepted": true, "score": 1, "last_activity_date": 1581351930, "last_edit_date": 1581351930, "creation_date": 1574933104, "answer_id": 59085440, "question_id": 59077385, "link": "https://stackoverflow.com/questions/59077385/why-does-typescript-not-infer-function-parameters-types-when-those-parameters-ar/59085440#59085440", "title": "Why does TypeScript not infer function parameters types when those parameters are passed to a typed function?", "body": "<p>TypeScript type analysis work in top->down way. It means that it is equal to the program data flow where the data also is passed top->down. TypeScript is analyzing control-flow, but it is using for it informations given from the top, not from the bottom.</p>\n\n<p>Consider such example of function:</p>\n\n<pre><code>function functionMaker(x: string, y: string) { \n    return () =&gt; x + y; \n}\n</code></pre>\n\n<p>Above function return another function. There is none explicit typing in the definition of the anonymous function returned, but TS is able to analyse that <code>functionMaker</code> always returns <code>() =&gt; string</code> type of function. </p>\n\n<p>Doing that another way around is not possible, as TS cannot predict what exactly you will do with the arguments. Consider below:</p>\n\n<pre><code>function functionA(x: string, y: number, z: SpecialType): void { }\nfunction functionB(x: number): void { }\nconst functionWrapper: (x, y, z) =&gt; { \n  functionA(x, y, z);  // x should be string\n  functionB(x); // x should be number\n}\n</code></pre>\n\n<p>Now TS has two functions which are using one argument, but both of them have different requirement of the type. Any solving of this puzzle is wrong, as one or another function will fail.</p>\n\n<p>In summary - type analysis is done top-down. But we can solve your issue by creating generic function which will wrap another. </p>\n\n<pre><code>function functionA(x: string, y: number, z: SpecialType): void { }\n\nconst wrap = &lt;X, Y, Z, R&gt;(f: (x: X, y: Y, z: Z) =&gt; R) =&gt; (x: X, y: Y, z: Z): R =&gt; f(x,y,z);\nconst functionWrapper = wrap(functionA);\n</code></pre>\n\n<p>Our <code>wrap</code> is clearly defined as a wrapper, it means that its purpose is to infer the types from the given function and create another function which has the same arguments and the same return. </p>\n"}], "owner": {"reputation": 3, "user_id": 12439438, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/77e3da0e17bf88456f1d2f4f1c08ee88?s=128&d=identicon&r=PG&f=1", "display_name": "schimmch", "link": "https://stackoverflow.com/users/12439438/schimmch"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 77, "favorite_count": 0, "accepted_answer_id": 59085440, "answer_count": 2, "score": 0, "last_activity_date": 1581351930, "creation_date": 1574883409, "question_id": 59077385, "link": "https://stackoverflow.com/questions/59077385/why-does-typescript-not-infer-function-parameters-types-when-those-parameters-ar", "title": "Why does TypeScript not infer function parameters types when those parameters are passed to a typed function?", "body": "<p>In the following examples:</p>\n\n<pre><code>function functionA(x: string, y: number, z: SpecialType): void { }\nconst functionWrapper: (x, y, z) =&gt; functionA(x, y, z);\n</code></pre>\n\n<p>The parameters to functionWrapper are typed as <code>any</code>. Is there some way to\nencourage tsc to deduce their types from their usage? What limitation of the TypeScript type system prevents this from being resolved?</p>\n"}, {"tags": ["javascript", "node.js", "angular", "typescript", "npm"], "comments": [{"owner": {"reputation": 3766, "user_id": 6640803, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-Bx5JYGtjy7w/AAAAAAAAAAI/AAAAAAAAABM/np44KmT0STw/photo.jpg?sz=128", "display_name": "Nadhir Falta", "link": "https://stackoverflow.com/users/6640803/nadhir-falta"}, "edited": false, "score": 0, "creation_date": 1574882114, "post_id": 59077055, "comment_id": 104391283, "body": "what do you get in that console.log ?"}, {"owner": {"reputation": 10321, "user_id": 215552, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/26bda02894d869c95f620de4b7cd386d?s=128&d=identicon&r=PG", "display_name": "Heretic Monkey", "link": "https://stackoverflow.com/users/215552/heretic-monkey"}, "edited": false, "score": 0, "creation_date": 1574882149, "post_id": 59077055, "comment_id": 104391297, "body": "Use a type instead of <code>Object</code> in your service&#39;s <code>http.get&lt;Object&gt;</code> type parameter, or use <code>any</code> if you must."}, {"owner": {"reputation": 10321, "user_id": 215552, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/26bda02894d869c95f620de4b7cd386d?s=128&d=identicon&r=PG", "display_name": "Heretic Monkey", "link": "https://stackoverflow.com/users/215552/heretic-monkey"}, "edited": false, "score": 0, "creation_date": 1574882235, "post_id": 59077055, "comment_id": 104391326, "body": "Does this answer your question? <a href=\"https://stackoverflow.com/questions/18083389/ignore-typescript-errors-property-does-not-exist-on-value-of-type\">Ignore Typescript Errors &quot;property does not exist on value of type&quot;</a>"}], "answers": [{"comments": [{"owner": {"reputation": 33, "user_id": 4388740, "user_type": "registered", "accept_rate": 43, "profile_image": "https://lh6.googleusercontent.com/-lsNOwUTvvoE/AAAAAAAAAAI/AAAAAAAAADU/qU2nIH6krd0/photo.jpg?sz=128", "display_name": "Jeroen", "link": "https://stackoverflow.com/users/4388740/jeroen"}, "edited": false, "score": 0, "creation_date": 1574934331, "post_id": 59077912, "comment_id": 104407354, "body": "the &#39;data: any&#39; results in a TS1005, <a href=\"https://i.imgur.com/G6jsdqe.png\" rel=\"nofollow noreferrer\">i.imgur.com/G6jsdqe.png</a>"}, {"owner": {"reputation": 669, "user_id": 1349217, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/KQG94.jpg?s=128&g=1", "display_name": "Ralpharoo", "link": "https://stackoverflow.com/users/1349217/ralpharoo"}, "reply_to_user": {"reputation": 33, "user_id": 4388740, "user_type": "registered", "accept_rate": 43, "profile_image": "https://lh6.googleusercontent.com/-lsNOwUTvvoE/AAAAAAAAAAI/AAAAAAAAADU/qU2nIH6krd0/photo.jpg?sz=128", "display_name": "Jeroen", "link": "https://stackoverflow.com/users/4388740/jeroen"}, "edited": false, "score": 0, "creation_date": 1574983140, "post_id": 59077912, "comment_id": 104427409, "body": "@Jeroen you need to wrap your response function in brackets so its .subscribe((data: any) =&gt; { .. })"}], "tags": [], "owner": {"reputation": 669, "user_id": 1349217, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/KQG94.jpg?s=128&g=1", "display_name": "Ralpharoo", "link": "https://stackoverflow.com/users/1349217/ralpharoo"}, "is_accepted": false, "score": 0, "last_activity_date": 1574886180, "creation_date": 1574886180, "answer_id": 59077912, "question_id": 59077055, "link": "https://stackoverflow.com/questions/59077055/property-does-not-exist-on-type-object/59077912#59077912", "title": "Property &#39;&#39; does not exist on type &#39;Object&#39;", "body": "<p>You can ignore these by simply delcaring them as the any type. For instance;</p>\n\n<pre><code>myWordMethod(word: any) {\n    ..\n}\n\nthis._http.myMethod().subscribe(data: any =&gt; {\n    ..\n});\n</code></pre>\n\n<p><strong>That said</strong> declaring the actual type for TypeScript is often preferred. For Instance if your API sends back a common object with particular properties then declare it as such;</p>\n\n<pre><code>interface MyMethodResponse {\n    someProperty: string;\n    someNumber: number;\n    someArray: string[];\n}\n\nthis._http.myMethod().subscribe((myMethodResponse: MyMethodResponse) =&gt; {\n    // TypeScript now knows that these properties exists on the response object\n    console.log(myMethodResponse.someArray);           \n    console.log(myMethodResponse.someNumber); \n    console.log(myMethodResponse.someProperty); \n});\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1793, "user_id": 3763317, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9tHWe.jpg?s=128&g=1", "display_name": "Damian C", "link": "https://stackoverflow.com/users/3763317/damian-c"}, "is_accepted": true, "score": 0, "last_activity_date": 1574889222, "creation_date": 1574889222, "answer_id": 59078524, "question_id": 59077055, "link": "https://stackoverflow.com/questions/59077055/property-does-not-exist-on-type-object/59078524#59078524", "title": "Property &#39;&#39; does not exist on type &#39;Object&#39;", "body": "<p>Remove <strong>Object</strong> from your http calls. Using the generic is optional, especially if you haven't typed out your response. </p>\n\n<pre><code>import { Injectable } from '@angular/core';\nimport {HttpClient } from '@angular/common/http';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class HttpService {\n\n  constructor(private http: HttpClient) { }\n\n  myMethod() {\n    return this.http.get('https://localhost:44398/api/boggle');\n  }\n\n  myWordMethod(word) {\n    var url = 'https://localhost:44398/api/wordpoints/' + word;\n    return this.http.get(url);\n  }\n}\n</code></pre>\n\n<p>On brews, declare it as any:</p>\n\n<pre><code>import { Component, OnInit } from '@angular/core';\nimport { HttpService } from '../http.service';\n\n@Component({\n  selector: 'app-playboard',\n  templateUrl: './playboard.component.html',\n  styleUrls: ['./playboard.component.scss']\n})\nexport class PlayboardComponent implements OnInit {\n  brews: any;\n\n  constructor(private _http: HttpService) { }\n\n  ngOnInit() {\n    this._http.myMethod().subscribe(data =&gt; {\n      this.brews = data;\n      this.dices = this.brews.myBox;\n      this.diceSeed = this.brews.boxID;\n      console.log(this.brews);\n    });\n  }\n</code></pre>\n"}], "owner": {"reputation": 33, "user_id": 4388740, "user_type": "registered", "accept_rate": 43, "profile_image": "https://lh6.googleusercontent.com/-lsNOwUTvvoE/AAAAAAAAAAI/AAAAAAAAADU/qU2nIH6krd0/photo.jpg?sz=128", "display_name": "Jeroen", "link": "https://stackoverflow.com/users/4388740/jeroen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 446, "favorite_count": 0, "accepted_answer_id": 59078524, "answer_count": 2, "score": 0, "last_activity_date": 1574889222, "creation_date": 1574881917, "question_id": 59077055, "link": "https://stackoverflow.com/questions/59077055/property-does-not-exist-on-type-object", "title": "Property &#39;&#39; does not exist on type &#39;Object&#39;", "body": "<p>I was working all day in angular. Everything worked fine all day.<br>\nRestarted the server (ng serve). And now suddenly there are alot of errors.<br>\nI managed to fix most but I am stuck with this one.</p>\n\n<p><a href=\"https://i.stack.imgur.com/MhBeB.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/MhBeB.png\" alt=\"running ng serve\"></a></p>\n\n<p>This is the main part of the component .ts file:\n</p>\n\n<pre><code>import { Component, OnInit } from '@angular/core';\nimport { HttpService } from '../http.service';\n\n@Component({\n  selector: 'app-playboard',\n  templateUrl: './playboard.component.html',\n  styleUrls: ['./playboard.component.scss']\n})\nexport class PlayboardComponent implements OnInit {\n  brews: Object;\n\n  constructor(private _http: HttpService) { }\n\n  ngOnInit() {\n    this._http.myMethod().subscribe(data =&gt; {\n      this.brews = data;\n      this.dices = this.brews.myBox;\n      this.diceSeed = this.brews.boxID;\n      console.log(this.brews);\n    });\n  }\n</code></pre>\n\n<p>And this is the http.service.ts file: </p>\n\n<pre><code>import { Injectable } from '@angular/core';\nimport {HttpClient } from '@angular/common/http';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class HttpService {\n\n  constructor(private http: HttpClient) { }\n\n  myMethod() {\n    return this.http.get&lt;Object&gt;('https://localhost:44398/api/boggle');\n  }\n\n  myWordMethod(word) {\n    var url = 'https://localhost:44398/api/wordpoints/' + word;\n    return this.http.get&lt;Object&gt;(url);\n  }\n}\n</code></pre>\n\n<p>It was working all day and suddenly these strange errors appear.<br>\nDoes anyone have a clue of what could be wrong? Thanks alot!     </p>\n"}, {"tags": ["javascript", "reactjs", "typescript"], "owner": {"reputation": 201, "user_id": 4378588, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/90129ec0e2931c7b612b683c596c2c5a?s=128&d=identicon&r=PG&f=1", "display_name": "cdmt", "link": "https://stackoverflow.com/users/4378588/cdmt"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 64, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1574891755, "creation_date": 1574881613, "last_edit_date": 1574891755, "question_id": 59076988, "link": "https://stackoverflow.com/questions/59076988/react-graphql-schema-type-declaration", "title": "React, Graphql schema type declaration", "body": "<p>I'm using graphql in React and Apollo:generate to create types from the graphql schema.</p>\n\n<p>I'm also using react-apollo-hooks useQuery to output the data.</p>\n\n<p>Everything seems to be working and I can see the data outputted</p>\n\n<p>My problem is I can't see how to declare the types generated to then get intelliSense in vc code.</p>\n\n<p>Query</p>\n\n<pre><code>import { gql } from 'apollo-boost';\n\nexport const GET_ALL_RECIPES = gql`\n\n  query RecipesData{\n    recipe{\n      _id\n      name\n      description\n    }\n  }\n`\n</code></pre>\n\n<p>Generated Types</p>\n\n<pre><code>/* tslint:disable */\n/* eslint-disable */\n// This file was automatically generated and should not be edited.\n\n// ====================================================\n// GraphQL query operation: RecipesData\n// ====================================================\n\nexport interface RecipesData_recipe {\n  __typename: \"Recipe\";\n  _id: string | null;\n  name: string | null;\n  description: string | null;\n}\n\nexport interface RecipesData {\n  recipe: (RecipesData_recipe | null)[] | null;\n}   \n</code></pre>\n\n<p>App.tsx</p>\n\n<pre><code>import React from 'react';\nimport './App.css';\n\nimport { useQuery } from 'react-apollo-hooks';\nimport { GET_ALL_RECIPES } from '../queries';\n\nimport { RecipesData_recipe } from '../generated/RecipesData';\n\nconst App: React.FC&lt;RecipesData&gt; = () =&gt; {\n\n  const { data, loading } = useQuery(GET_ALL_RECIPES, {\n    suspend: false\n  })\n\n  if (loading || !data) return &lt;div&gt;Loading&lt;/div&gt;\n\n  return (\n    &lt;ul&gt;\n      {data.recipe.map((recipe) =&gt;\n        &lt;li key={recipe._id}&gt;{recipe.name}&lt;/li&gt;\n      )}\n    &lt;/ul&gt;\n  );\n}\n\nexport default App; \n</code></pre>\n\n<p>How do I correctly declare the <code>RecipesData</code> or <code>RecipesData_recipe</code> in App.tsx to use the intelliSense for <code>recipe.name</code></p>\n"}, {"tags": ["angular", "typescript", "highcharts", "angular-highcharts"], "comments": [{"owner": {"reputation": 580, "user_id": 9609252, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ef149f6387c86d3d26068779d48b2b89?s=128&d=identicon&r=PG&f=1", "display_name": "pedrodotnet", "link": "https://stackoverflow.com/users/9609252/pedrodotnet"}, "reply_to_user": {"reputation": 26971, "user_id": 1646240, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/cbd5c282ccb929604467e3b3f900b0d5?s=128&d=identicon&r=PG", "display_name": "StepUp", "link": "https://stackoverflow.com/users/1646240/stepup"}, "edited": false, "score": 0, "creation_date": 1574881450, "post_id": 59076663, "comment_id": 104391021, "body": "What do you mean with detection strategy?"}], "answers": [{"comments": [{"owner": {"reputation": 580, "user_id": 9609252, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ef149f6387c86d3d26068779d48b2b89?s=128&d=identicon&r=PG&f=1", "display_name": "pedrodotnet", "link": "https://stackoverflow.com/users/9609252/pedrodotnet"}, "edited": false, "score": 0, "creation_date": 1574881818, "post_id": 59076967, "comment_id": 104391173, "body": "Incredible this worked out amazing!!! excelent answer really convenient. I understand that the {... } statement sends the new information to my object right?"}, {"owner": {"reputation": 168939, "user_id": 5485167, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qWD9t.jpg?s=128&g=1", "display_name": "yurzui", "link": "https://stackoverflow.com/users/5485167/yurzui"}, "reply_to_user": {"reputation": 580, "user_id": 9609252, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ef149f6387c86d3d26068779d48b2b89?s=128&d=identicon&r=PG&f=1", "display_name": "pedrodotnet", "link": "https://stackoverflow.com/users/9609252/pedrodotnet"}, "edited": false, "score": 0, "creation_date": 1574881967, "post_id": 59076967, "comment_id": 104391227, "body": "Yes, it creates a new object with the same properties like in the current chartOptions object"}, {"owner": {"reputation": 580, "user_id": 9609252, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ef149f6387c86d3d26068779d48b2b89?s=128&d=identicon&r=PG&f=1", "display_name": "pedrodotnet", "link": "https://stackoverflow.com/users/9609252/pedrodotnet"}, "edited": false, "score": 0, "creation_date": 1574882077, "post_id": 59076967, "comment_id": 104391267, "body": "Excellent! thanks so much again for such a great help!"}], "tags": [], "owner": {"reputation": 168939, "user_id": 5485167, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qWD9t.jpg?s=128&g=1", "display_name": "yurzui", "link": "https://stackoverflow.com/users/5485167/yurzui"}, "is_accepted": true, "score": 3, "last_activity_date": 1574881451, "creation_date": 1574881451, "answer_id": 59076967, "question_id": 59076663, "link": "https://stackoverflow.com/questions/59076663/angular-7-dynamic-highchart-update/59076967#59076967", "title": "Angular 7 - Dynamic HighChart update", "body": "<p>You should pass new options reference:</p>\n\n<pre><code>onOptionChange() {\n  this.xAxis.name = this.selectedOption;\n  this.xAxis.data = [100, 100, 200, 200, 350, 250];\n  this.chartOptions.series[0] = this.xAxis;\n\n  this.chartOptions = { ...this.chartOptions }; // this should do the trick\n}\n</code></pre>\n"}], "owner": {"reputation": 580, "user_id": 9609252, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ef149f6387c86d3d26068779d48b2b89?s=128&d=identicon&r=PG&f=1", "display_name": "pedrodotnet", "link": "https://stackoverflow.com/users/9609252/pedrodotnet"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 153, "favorite_count": 0, "accepted_answer_id": 59076967, "answer_count": 1, "score": 1, "last_activity_date": 1574881451, "creation_date": 1574880211, "last_edit_date": 1574881332, "question_id": 59076663, "link": "https://stackoverflow.com/questions/59076663/angular-7-dynamic-highchart-update", "title": "Angular 7 - Dynamic HighChart update", "body": "<p>In my angular solution I need to display some charts using Highcharts. In my <code>component.ts</code> I have the following code: </p>\n\n<pre><code>import * as Highcharts from \"highcharts\";\n\nhighcharts = Highcharts;\n  chartOptions = {\n    chart: {\n       type: \"spline\",\n       title: \"Reach/TRP\"\n    },\n    xAxis: {\n      title: {\n        text: this.xAxis.name\n      }\n    },\n    yAxis: {\n       title: {\n          text: \"Reach\"\n       }\n    },\n    series: [\n       {\n          name: this.xAxis.name,\n          data: this.xAxis.data\n       }\n    ]\n };\n</code></pre>\n\n<p>Then in my <code>.html</code> I use it like this: </p>\n\n<pre><code>&lt;highcharts-chart\n  [Highcharts] = \"highcharts\"\n  [options] = \"chartOptions\"\n  style=\"width: 100%; height: 400px; display: block;\"&gt;\n&lt;/highcharts-chart&gt;\n</code></pre>\n\n<p>On my <code>html</code> I also have the following dropdown: </p>\n\n<pre><code>&lt;p-dropdown [showTransitionOptions]=\"'0ms'\" [hideTransitionOptions]=\"'0ms'\"\n  dropdownIcon=\"fa fa-angle-down\" class= \"nextgen-dropdown\" \n  [options]=\"optionsLookup\"\n  [(ngModel)]=\"selectedOption\" (onChange)= \"onOptionChange($event)\"&gt;\n&lt;/p-dropdown&gt;\n</code></pre>\n\n<p>Which have the <code>\"OnOptionChange\"</code> method that should update the <code>Chart</code> like this: </p>\n\n<pre><code> onOptionChange() {\n    this.xAxis.name = this.selectedOption;\n    this.xAxis.data = [100, 100, 200, 200, 350, 250];\n    this.chartOptions.series[0] = this.xAxis;\n  }\n</code></pre>\n\n<p>The problem here is that the method is correctly invoked but the chart is not updated at all.</p>\n\n<p>What I'm missing here?</p>\n"}, {"tags": ["node.js", "typescript", "unit-testing", "rxjs", "jestjs"], "owner": {"reputation": 387, "user_id": 3497702, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c6752eae62db42a9f96ad5b3d24fb444?s=128&d=identicon&r=PG&f=1", "display_name": "user3497702", "link": "https://stackoverflow.com/users/3497702/user3497702"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 57, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1574879069, "creation_date": 1574879069, "question_id": 59076405, "link": "https://stackoverflow.com/questions/59076405/jest-unit-test-for-typescript-class-in-node-js-is-not-covering-test-coverage-for", "title": "Jest Unit Test for TypeScript Class in Node.js is not covering test coverage for most of the part", "body": "<p>Please find my node js code and respective unit test. \nbut test coverage shows from obs.pipe all the line are not covered.\nPlease advise on unit test to cover entire code.</p>\n\n<p>This is RxJSUtilsService class in TypeScript</p>\n\n<pre><code>\n@Injectable()\nexport class RxJSUtilsService {\n  genericRetryStrategy(\n    options: GenericRetryOptions = {\n      maxRetryAttempts: 3,\n      scalingDuration: 1000,\n      excludedStatusCodes: [],\n    },\n  ): (obs: Observable&lt;any&gt;) =&gt; Observable&lt;any&gt; {\n    return (obs: Observable&lt;any&gt;) =&gt;\n      obs.pipe(\n        mergeMap((error, i: number) =&gt; {\n          i++;\n          if (\n            i &gt; options.maxRetryAttempts ||\n            options.excludedStatusCodes.find(e =&gt; e === error.status)\n          ) {\n            return throwError(error);\n          }\n          return timer(i * options.scalingDuration);\n        }),\n      );\n  }\n}\n\n</code></pre>\n\n<p>This is unit Test code. test coverage is not covered and shows from obs.pipe all the line are not covered.</p>\n\n<pre><code>\ndescribe('RxjsUtilsService', () =&gt; {\n  let rxJSUtilsService: RxJSUtilsService;\n\n  beforeEach(async () =&gt; {\n    const module: TestingModule = await Test.createTestingModule({\n      providers: [RxJSUtilsService],\n    }).compile();\n\n    rxJSUtilsService = module.get&lt;RxJSUtilsService&gt;(RxJSUtilsService);\n  });\n\n  it('should be defined', () =&gt; {\n    expect(rxJSUtilsService).toBeDefined();\n  });\n\n  it('GenericRetryStrategy should be called', () =&gt; {\n    const source = interval(100);\n    jest.spyOn(rxJSUtilsService, 'genericRetryStrategy');\n    source\n      .pipe(\n        mergeMap(val =&gt; {\n          return val &lt; 2 ? throwError('divisible by six') : of(val);\n        }),\n        retryWhen(\n          rxJSUtilsService.genericRetryStrategy({\n            maxRetryAttempts: 10,\n            scalingDuration: 1000,\n          }),\n        ),\n      )\n      .subscribe({\n        next: val =&gt; {\n          expect(rxJSUtilsService.genericRetryStrategy).toBeCalled();\n        },\n      });\n  });\n\n  it('GenericRetryStrategy should throw error', () =&gt; {\n    const source = interval(100);\n    jest.spyOn(rxJSUtilsService, 'genericRetryStrategy');\n    source\n      .pipe(\n        mergeMap(val =&gt; {\n          return val &gt; 0 ? throwError('divisible by six') : of(val);\n        }),\n        retryWhen(\n          rxJSUtilsService.genericRetryStrategy({\n            maxRetryAttempts: 2,\n            scalingDuration: 1000,\n          }),\n        ),\n      )\n      .subscribe({\n        error: err =&gt; {\n          expect(rxJSUtilsService.genericRetryStrategy).toBeCalled();\n        },\n      });\n  });\n});\n\n</code></pre>\n"}, {"tags": ["angular", "typescript", "angular-forms"], "comments": [{"owner": {"reputation": 409, "user_id": 8468233, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f0316f8901eece68a9fc74ff71ba1dee?s=128&d=identicon&r=PG&f=1", "display_name": "Tobias Kaufmann", "link": "https://stackoverflow.com/users/8468233/tobias-kaufmann"}, "edited": false, "score": 1, "creation_date": 1574880388, "post_id": 59076351, "comment_id": 104390597, "body": "Can you share your component.ts code?"}, {"owner": {"reputation": 630270, "user_id": 571407, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2f0d9dec16bae1e06552af55ddefc11f?s=128&d=identicon&r=PG", "display_name": "JB Nizet", "link": "https://stackoverflow.com/users/571407/jb-nizet"}, "edited": false, "score": 1, "creation_date": 1574881377, "post_id": 59076351, "comment_id": 104390979, "body": "The value stored in <code>iu.unit</code>must be === to one of the values in UI_Units. It must be one of those objects. Not another object that has the same properties."}, {"owner": {"reputation": 209, "user_id": 11494004, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c4c0dd06b18890be5b1a5a99d756c006?s=128&d=identicon&r=PG&f=1", "display_name": "StartingAgain", "link": "https://stackoverflow.com/users/11494004/startingagain"}, "edited": false, "score": 0, "creation_date": 1574958759, "post_id": 59076351, "comment_id": 104420408, "body": "updated my post"}], "answers": [{"comments": [{"owner": {"reputation": 209, "user_id": 11494004, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c4c0dd06b18890be5b1a5a99d756c006?s=128&d=identicon&r=PG&f=1", "display_name": "StartingAgain", "link": "https://stackoverflow.com/users/11494004/startingagain"}, "edited": false, "score": 0, "creation_date": 1574890994, "post_id": 59076947, "comment_id": 104394751, "body": "Can I use another control(angular-material, ng-bootstrap, ...) ,where I can achieve this ?"}, {"owner": {"reputation": 209, "user_id": 11494004, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c4c0dd06b18890be5b1a5a99d756c006?s=128&d=identicon&r=PG&f=1", "display_name": "StartingAgain", "link": "https://stackoverflow.com/users/11494004/startingagain"}, "edited": false, "score": 0, "creation_date": 1574919960, "post_id": 59076947, "comment_id": 104401269, "body": "<code>&lt;option *ngFor=&quot;let i of UI_Units.append(iu.unit)&quot;</code> ... you mean like this, even this would work, the <code>unit</code> will be a duplicate in this list ?"}, {"owner": {"reputation": 6267, "user_id": 789253, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/76a76ced5a73b8dc2f94798358b57a6d?s=128&d=identicon&r=PG", "display_name": "Shane Hsu", "link": "https://stackoverflow.com/users/789253/shane-hsu"}, "reply_to_user": {"reputation": 209, "user_id": 11494004, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c4c0dd06b18890be5b1a5a99d756c006?s=128&d=identicon&r=PG&f=1", "display_name": "StartingAgain", "link": "https://stackoverflow.com/users/11494004/startingagain"}, "edited": false, "score": 0, "creation_date": 1574942816, "post_id": 59076947, "comment_id": 104411979, "body": "Does <code>iu.unit</code> already exist in <code>IU_Units</code>? Can you provide a stackblitz example?"}, {"owner": {"reputation": 209, "user_id": 11494004, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c4c0dd06b18890be5b1a5a99d756c006?s=128&d=identicon&r=PG&f=1", "display_name": "StartingAgain", "link": "https://stackoverflow.com/users/11494004/startingagain"}, "edited": false, "score": 0, "creation_date": 1575038978, "post_id": 59076947, "comment_id": 104445357, "body": "I preapared a Stacklitz example: <a href=\"https://stackblitz.com/edit/angular-rsulhn?file=src/app/hello.component.ts\" rel=\"nofollow noreferrer\">stackblitz.com/edit/angular-rsulhn?file=src/app/&hellip;</a> , is that ok, or you need more informations ?"}, {"owner": {"reputation": 6267, "user_id": 789253, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/76a76ced5a73b8dc2f94798358b57a6d?s=128&d=identicon&r=PG", "display_name": "Shane Hsu", "link": "https://stackoverflow.com/users/789253/shane-hsu"}, "reply_to_user": {"reputation": 209, "user_id": 11494004, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c4c0dd06b18890be5b1a5a99d756c006?s=128&d=identicon&r=PG&f=1", "display_name": "StartingAgain", "link": "https://stackoverflow.com/users/11494004/startingagain"}, "edited": false, "score": 0, "creation_date": 1575081041, "post_id": 59076947, "comment_id": 104456402, "body": "@StartingAgain <a href=\"https://stackblitz.com/edit/angular-dlwaoa?file=src/app/hello.component.ts\" rel=\"nofollow noreferrer\">stackblitz.com/edit/angular-dlwaoa?file=src/app/&hellip;</a> Note I&#39;ve only changed how <code>iu.unit</code> is initialized, as stated above in my reply, to be selected, it must be strictly equal to one of the option&#39;s value."}, {"owner": {"reputation": 209, "user_id": 11494004, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c4c0dd06b18890be5b1a5a99d756c006?s=128&d=identicon&r=PG&f=1", "display_name": "StartingAgain", "link": "https://stackoverflow.com/users/11494004/startingagain"}, "edited": false, "score": 0, "creation_date": 1575229802, "post_id": 59076947, "comment_id": 104486557, "body": "thank you. <a href=\"https://stackblitz.com/edit/angular-sj4m9x?file=src/app/hello.component.ts\" rel=\"nofollow noreferrer\">stackblitz.com/edit/angular-sj4m9x?file=src/app/&hellip;</a> I am getting the values from the backend, async. Now on the view, there is only the same value, that is displayed. View = same value. Runtime=objects are different. Is there anything, I should take care of ?"}], "tags": [], "owner": {"reputation": 6267, "user_id": 789253, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/76a76ced5a73b8dc2f94798358b57a6d?s=128&d=identicon&r=PG", "display_name": "Shane Hsu", "link": "https://stackoverflow.com/users/789253/shane-hsu"}, "is_accepted": false, "score": 0, "last_activity_date": 1574881374, "creation_date": 1574881374, "answer_id": 59076947, "question_id": 59076351, "link": "https://stackoverflow.com/questions/59076351/initially-loading-of-an-existing-option-fails/59076947#59076947", "title": "Initially loading of an existing option fails", "body": "<p>First of all, <code>select</code> only shows its children <code>option</code>s in the dropdown.</p>\n\n<p>Following that reason, <code>iu.unit</code> must be in <code>UI_Units</code> or nothing will be selected by default and the option of <code>iu.unit</code> will not appear in the list. </p>\n\n<p>We can check <a href=\"https://github.com/angular/angular/blob/master/packages/forms/src/directives/select_control_value_accessor.ts#L134\" rel=\"nofollow noreferrer\">Angular Forms' code</a> on this, I'd like to direct you focus to line 134 <code>writeValue</code> and line 178 <code>_getOptionId</code>,</p>\n\n<pre><code>writeValue(value: any): void {\n  this.value = value;\n  const id: string|null = this._getOptionId(value);\n  // excerpt only\n}\n\n_getOptionId(value: any): string|null {\n  for (const id of Array.from(this._optionMap.keys())) {\n    if (this._compareWith(this._optionMap.get(id), value)) return id;\n  }\n  return null;\n}\n</code></pre>\n\n<p><code>writeValue</code> is called when a value is passed into the element with <code>ngModel</code>, the value is then looked up in a map containing all the child options. If an option representing the value (in your case <code>iu.unit</code>) isn't found, nothing meaningful will happen. </p>\n\n<p>Most importantly, the option would not appear by default under the select element, it will appear only when it's explicitly included in your template.</p>\n\n<p>I've created <a href=\"https://stackblitz.com/edit/angular-ruqxfq?file=src%2Fapp%2Fhello.component.ts\" rel=\"nofollow noreferrer\">a working example</a> of what you're trying to accomplish, note that <code>iu.unit</code> is an element in the array <code>UI_Units</code>. That's how <a href=\"https://github.com/angular/angular/blob/8c33f915293deab3ca5cd700e38ffed06bf81692/packages/core/src/util/comparison.ts#L13\" rel=\"nofollow noreferrer\">its comparison algorithm work</a>.</p>\n"}], "owner": {"reputation": 209, "user_id": 11494004, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c4c0dd06b18890be5b1a5a99d756c006?s=128&d=identicon&r=PG&f=1", "display_name": "StartingAgain", "link": "https://stackoverflow.com/users/11494004/startingagain"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 59, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1574960803, "creation_date": 1574878874, "last_edit_date": 1574958736, "question_id": 59076351, "link": "https://stackoverflow.com/questions/59076351/initially-loading-of-an-existing-option-fails", "title": "Initially loading of an existing option fails", "body": "<p>The initially loading (of an existing <code>iu.unit</code>) fails:</p>\n\n<pre><code> &lt;select id=\"unit\" name=\"unit\" #unit=\"ngModel\" class=\"form-control\" \n     [(ngModel)]=\"iu.unit\" (change)=\"onDropdownChangeUnit(rec,iu)\"&gt;\n     &lt;option *ngFor=\"let i of UI_Units\" [ngValue]=\"i\"&gt;{{i.name}}&lt;/option&gt;\n &lt;/select&gt;\n</code></pre>\n\n<p>It shows me all <code>unit</code>'s from <code>UI_Units</code>, but it doesn't show the initial value of <code>iu.unit</code>.</p>\n\n<p>What did I d wrong ?</p>\n\n<p><strong>Updated</strong></p>\n\n<p>Structure, I go with a <code>foreach</code> over all <code>ingridientUnit =&gt; iu</code>, try to assign it with it's initial value. </p>\n\n<p>But when the user wants to change that - <code>UI_Units =&gt; coming from backend(asp.net Core)</code> - it should be reassigned to <code>iu.unit</code>.</p>\n\n<pre><code>export class Recipe{\n\n    id: string;\n\n    ingridientUnit: IngridientUnit[] // iu\n\n    // ...\n}\n\n\nexport class IngridientUnit {\n\n    id: string;\n\n    unit: Unit[]\n\n    // ...\n}\n\nexport class Unit {\n\n    id: string;\n    name: string;\n\n    // ...\n}\n</code></pre>\n\n<p>Fetching from server:</p>\n\n<pre><code> getUnits(filter: ServerRequest) {\n    return this._http.get(this.myAppUrl + 'Unit/GetUnits' + '?' + this.toQueryString(filter))\n        .pipe(map((res: Unit[]) =&gt; { return res; }));\n}\n</code></pre>\n"}, {"tags": ["angular", "typescript", "rxjs", "angular8"], "comments": [{"owner": {"reputation": 21295, "user_id": 5437671, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8ZlWc.png?s=128&g=1", "display_name": "R. Richards", "link": "https://stackoverflow.com/users/5437671/r-richards"}, "edited": false, "score": 1, "creation_date": 1574877594, "post_id": 59075955, "comment_id": 104389384, "body": "<a href=\"https://www.learnrxjs.io/operators/filtering/filter.html\" rel=\"nofollow noreferrer\">rxjs filter operator</a>. Not too tough to use. Easy to find, too, with a simple search."}, {"owner": {"reputation": 75411, "user_id": 310726, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/cc38ee5e151f1efb6470740c66262058?s=128&d=identicon&r=PG", "display_name": "martin", "link": "https://stackoverflow.com/users/310726/martin"}, "edited": false, "score": 0, "creation_date": 1574877694, "post_id": 59075955, "comment_id": 104389428, "body": "You either have to subscribe to the BehaviorSubject and it&#39;ll emit its value or you can use <code>getValue()</code> function or just <code>value</code> property <a href=\"https://rxjs.dev/api/index/class/BehaviorSubject#getValue\" rel=\"nofollow noreferrer\">rxjs.dev/api/index/class/BehaviorSubject#getValue</a>"}], "answers": [{"comments": [{"owner": {"reputation": 27795, "user_id": 577805, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/dbbe0a475e6a151f0595b83e55475f34?s=128&d=identicon&r=PG", "display_name": "Miguel Moura", "link": "https://stackoverflow.com/users/577805/miguel-moura"}, "edited": false, "score": 0, "creation_date": 1575028283, "post_id": 59076478, "comment_id": 104440489, "body": "id is not recognised as property in ch.id as ch is a double array"}, {"owner": {"reputation": 48, "user_id": 6870325, "user_type": "registered", "profile_image": "https://graph.facebook.com/10206056911086520/picture?type=large", "display_name": "Lenka Kadlecov&#225;", "link": "https://stackoverflow.com/users/6870325/lenka-kadlecov%c3%a1"}, "reply_to_user": {"reputation": 27795, "user_id": 577805, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/dbbe0a475e6a151f0595b83e55475f34?s=128&d=identicon&r=PG", "display_name": "Miguel Moura", "link": "https://stackoverflow.com/users/577805/miguel-moura"}, "edited": false, "score": 0, "creation_date": 1575029701, "post_id": 59076478, "comment_id": 104441071, "body": "fixed the answer using [].concat @MiguelMoura"}], "tags": [], "owner": {"reputation": 48, "user_id": 6870325, "user_type": "registered", "profile_image": "https://graph.facebook.com/10206056911086520/picture?type=large", "display_name": "Lenka Kadlecov&#225;", "link": "https://stackoverflow.com/users/6870325/lenka-kadlecov%c3%a1"}, "is_accepted": true, "score": 3, "last_activity_date": 1575029616, "last_edit_date": 1575029616, "creation_date": 1574879331, "answer_id": 59076478, "question_id": 59075955, "link": "https://stackoverflow.com/questions/59075955/filter-and-get-items-from-behaviorsubject/59076478#59076478", "title": "Filter and get items from BehaviorSubject", "body": "<pre><code>let parentId = 1;\nlet childrenId = 2;\n\nparents.pipe(\n    map(parnts =&gt; parnts.find(p =&gt; p.id === parentId))\n).subscribe(parent =&gt; console.log(parent));\n\nparents.pipe(\n    map(parnts =&gt; [].concat(...parnts.map(p =&gt; p.childrens))),\n    map(childrens =&gt; childrens.find(ch =&gt; ch.id === childrenId))\n).subscribe(child =&gt; console.log(child));\n</code></pre>\n"}], "owner": {"reputation": 27795, "user_id": 577805, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/dbbe0a475e6a151f0595b83e55475f34?s=128&d=identicon&r=PG", "display_name": "Miguel Moura", "link": "https://stackoverflow.com/users/577805/miguel-moura"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 145, "favorite_count": 1, "accepted_answer_id": 59076478, "answer_count": 1, "score": -1, "last_activity_date": 1575029616, "creation_date": 1574877325, "last_edit_date": 1574877392, "question_id": 59075955, "link": "https://stackoverflow.com/questions/59075955/filter-and-get-items-from-behaviorsubject", "title": "Filter and get items from BehaviorSubject", "body": "<p>I have a BehaviorSubject which is filled calling an API with HttpClient:</p>\n\n<pre><code>  let parents = new BehaviorSubject&lt;Parent[]&gt;([]);\n\n   this.httpClient.get&lt;Parent[]&gt;('parents-and-children').subscribe(result =&gt; {\n     parents.next(result);\n   });\n</code></pre>\n\n<p>Parent and Children class are:</p>\n\n<pre><code>class Parent {\n  id: number;\n  name: string;\n  childrens: Children[];\n}\n\nclass Children {\n  id: number;\n  name: string;\n}\n</code></pre>\n\n<p>I am looking to do the following:</p>\n\n<ol>\n<li><p>Given a parentId value get the parent with that id from BehaviourSubject.</p></li>\n<li><p>Given a childrenId value get the children with that id by looking into all parents' children.</p>\n\n<pre><code>let parentId = 1;\nparents.pipe( ??\n\nlet childrenId = 2;\nparents.pipe( ??\n</code></pre></li>\n</ol>\n\n<p>I have been trying pipe but I am not sure how to filter the items ...</p>\n"}, {"tags": ["typescript"], "comments": [{"owner": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "edited": false, "score": 0, "creation_date": 1574880420, "post_id": 59075852, "comment_id": 104390611, "body": "See <a href=\"https://github.com/microsoft/TypeScript/issues/28882\" rel=\"nofollow noreferrer\">microsoft/TypeScript#28882</a>.  You&#39;ll either need a user defined type guard or some other <a href=\"http://www.typescriptlang.org/play//#code/KYDwDg9gTgLgBASwHY2FAZgQwMbDgSQDEII4BvAWACg5bEATALjiQFcBbAIzQG5q64AN0wAbVsGYBnGFGQBzPlQC+1UJFhx0rJNhgIISOABEIAIUxQAFBE4ArZkRIBKcnCjAYrKEh5wVVamwDaThtGVZpYHoAeTtmAAULPVEAHkcIAD44AF5XBCY4AEYAGiFRcWYAclRpSr9FIKQQ1nx6HNCUKAjUGLsAOnyG4PhWADVyvFywrsje2z7hMWBFBHQ4SxgATzBgCDWWtoBCbNyAIm16YHRkKNO4ADJ7uC2dvdDxpbhjs4urm-pTi5KDQ6CZzFYyAxmAdSosKu8Jn4nIp-NQgA\" rel=\"nofollow noreferrer\">refactoring</a> to make this work."}], "answers": [{"comments": [{"owner": {"reputation": 39159, "user_id": 1541563, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/U4EOh.png?s=128&g=1", "display_name": "Patrick Roberts", "link": "https://stackoverflow.com/users/1541563/patrick-roberts"}, "edited": false, "score": 0, "creation_date": 1574877874, "post_id": 59076044, "comment_id": 104389517, "body": "Why not just <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/in\" rel=\"nofollow noreferrer\"><code>return key in obj;</code></a>?"}, {"owner": {"reputation": 30153, "user_id": 12299000, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0pja9.png?s=128&g=1", "display_name": "kaya3", "link": "https://stackoverflow.com/users/12299000/kaya3"}, "reply_to_user": {"reputation": 39159, "user_id": 1541563, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/U4EOh.png?s=128&g=1", "display_name": "Patrick Roberts", "link": "https://stackoverflow.com/users/1541563/patrick-roberts"}, "edited": false, "score": 0, "creation_date": 1574878118, "post_id": 59076044, "comment_id": 104389610, "body": "@PatrickRoberts The difference is that <code>key in obj</code> will be true also when <code>obj</code> inherits the <code>key</code> property from its prototype; for most use cases, you would want the object to have its own property, and if it didn&#39;t but its prototype did then that would probably indicate a bug. If you do want to explicitly use prototypal inheritance to share properties, then <code>key in obj</code> is correct. For normal class-based inheritance, properties defined by superclasses will still belong to the object itself."}, {"owner": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "edited": false, "score": 2, "creation_date": 1574880856, "post_id": 59076044, "comment_id": 104390790, "body": "I&#39;m less worried about inheritance than about explicit <code>undefined</code> props like <code>{id: void 0, value: &quot;&quot;}</code>. I&#39;d do <a href=\"http://www.typescriptlang.org/play//#code/KYDwDg9gTgLgBASwHY2FAZgQwMbDgSQDEII4BvAWACg5bEATALjiQFcBbAIzQG5q64AN0wAbVsGYBnGFGQBzPlQC+1UJFhx0rJNhgIISOABEIAIUxQAFBE4ArZkRIBKcnCjAYrKEh5wVVbANpOG0ZVmlgJjgABQs9UQAeRwgAPjgAXlcEKIBGABohUXFmAHJUaRK-RS0dPQM4emB0aKgIMASAFQKAaThQVCR6STgAa2AATwh0OA6Uy346G3sZgoA6dbBWsElmboBtAF1qJ2YlxGGOuAAyOAAlYABHVgR3egTohGwRzp6UtMoaHR3J5vHBNm1JKtgII0ONLCMMmkYOMwMApnAlnsRgc4ABCdKZABE2ka6GQkUJTkU-gQ00spJabUsoSg4VQ9AKhOyhM5wjEwEpLgBAhM5isLLZkSp1H8QA\" rel=\"nofollow noreferrer\">this</a> instead."}, {"owner": {"reputation": 15210, "user_id": 1364771, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/wI3aU.jpg?s=128&g=1", "display_name": "Jesse Carter", "link": "https://stackoverflow.com/users/1364771/jesse-carter"}, "reply_to_user": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "edited": false, "score": 0, "creation_date": 1574884014, "post_id": 59076044, "comment_id": 104392085, "body": "@jcalz You should post this as an actual potential answer. It&#39;s a better solution to the problem IMO"}, {"owner": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "reply_to_user": {"reputation": 15210, "user_id": 1364771, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/wI3aU.jpg?s=128&g=1", "display_name": "Jesse Carter", "link": "https://stackoverflow.com/users/1364771/jesse-carter"}, "edited": false, "score": 0, "creation_date": 1574884505, "post_id": 59076044, "comment_id": 104392279, "body": "@JesseCarter fair enough, will do"}], "tags": [], "owner": {"reputation": 30153, "user_id": 12299000, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0pja9.png?s=128&g=1", "display_name": "kaya3", "link": "https://stackoverflow.com/users/12299000/kaya3"}, "is_accepted": false, "score": 4, "last_activity_date": 1574877693, "creation_date": 1574877693, "answer_id": 59076044, "question_id": 59075852, "link": "https://stackoverflow.com/questions/59075852/how-to-better-handle-partialt-interfaces/59076044#59076044", "title": "How to better handle Partial&lt;T&gt; interfaces", "body": "<p>You can write a <a href=\"https://www.typescriptlang.org/docs/handbook/advanced-types.html#user-defined-type-guards\" rel=\"nofollow noreferrer\">type guard function</a> using <code>is</code> to narrow the object's type:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>function hasKey&lt;T, K extends keyof T&gt;(obj: Partial&lt;T&gt;, key: K):\n    obj is Partial&lt;T&gt; &amp; { [k in K]: T[k] }\n{\n    return Object.prototype.hasOwnProperty.call(obj, key);\n}\n</code></pre>\n\n<p>Usage:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>if(hasKey(untrustedObj, 'id') &amp;&amp; hasKey(untrustedObj, 'value')) {\n  doBar(untrustedObj); // no type error\n}\n</code></pre>\n\n<p>I've used <code>Object.prototype.hasOwnProperty</code> as a more general solution to testing this, since you might want to check if a boolean property exists (rather than also checking if it's true).</p>\n\n<p><a href=\"http://www.typescriptlang.org/play/#code/JYOwLgpgTgZghgYwgAgJIDED2nkG8BQyywAJgFzIgCuAtgEbQDchyAbnADZUQUDOYUUAHNmAX3z4YVEAjDBMIZCUwAhOFAAUmOgCsKGbAEo84ydNnzFACzi8A0hACeAHgAqAGmR3kEAB6QQEl5kAGsnTBhkVwA+LV0KAAV1OU43aM8wxwo7QzIWIm0dYmCkqBSONOQAMjxkAG0Q4kU7AF0KVwaW5HECIiIoCDAqKEUAeV0IWQA6AAcoTDAFxxmIKZteUYB3EAT5lbLHKYRODjidDKdDMQkEBX5kaQEqfggScb1kUvLnA0xo5AAvLVSBQAIyedhcHjIADkkH4MO6zHwwEiGnWDkcGkeUGekDeuk8MNIMOMVRqGKc2PAuJeBPOsMh3FJxl6SlU6mpTzp7yu+HEQA\" rel=\"nofollow noreferrer\">Playground Link</a></p>\n"}, {"tags": [], "owner": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "is_accepted": false, "score": 2, "last_activity_date": 1574884492, "creation_date": 1574884492, "answer_id": 59077613, "question_id": 59075852, "link": "https://stackoverflow.com/questions/59075852/how-to-better-handle-partialt-interfaces/59077613#59077613", "title": "How to better handle Partial&lt;T&gt; interfaces", "body": "<p>See <a href=\"https://github.com/microsoft/TypeScript/issues/28882\" rel=\"nofollow noreferrer\">microsoft/TypeScript#28882</a> for why this doesn't work.  If an object is not of a discriminated union type, checking its properties will not narrow the type of the object itself.  You'll either need a <a href=\"https://www.typescriptlang.org/docs/handbook/advanced-types.html#user-defined-type-guards\" rel=\"nofollow noreferrer\">user defined type guard</a> or some other refactoring to make this work.</p>\n\n<p>One such refactoring is to save the properties to their own variables, since TypeScript's compiler will narrow the type of variables if you check them:</p>\n\n<pre><code>const uId = untrustedObj.id;\nconst uValue = untrustedObj.value;\nif (typeof uId !== \"undefined\" &amp;&amp; typeof uValue !== \"undefined\") {\n    DoBar({ id: uId, value: uValue }); // okay\n}\n</code></pre>\n\n<p>My suggestion for a type guard function would look like this:</p>\n\n<pre><code>function definedProp&lt;T, K extends keyof T&gt;(\n    obj: T, ...props: K[]\n): obj is T &amp; Required&lt;Pick&lt;T, K&gt;&gt; {\n    return props.every(k =&gt; typeof obj[k] !== \"undefined\");\n}\n</code></pre>\n\n<p>This will check to see that <code>obj</code> has a defined value for each key in the <code>props</code> array, and if so, it will narrow the passed-in <code>obj</code>.  Then you use it like this:</p>\n\n<pre><code>if (definedProp(untrustedObj, \"id\", \"value\")) {\n    DoBar(untrustedObj); // okay\n}\n</code></pre>\n\n<p>Okay, hope that helps; good luck!</p>\n\n<p><a href=\"http://www.typescriptlang.org/play//#code/KYDwDg9gTgLgBASwHY2FAZgQwMbDgSQDEII4BvAWACg5bEATALjiQFcBbAIzQG5q64AN0wAbVsGYBnGFGQBzPlQC+1UJFhx0rJNhgIISOABEIAIUxQAFBE4ArZkRIBKcnCjAYrKEh5wVVbANpOG0ZVmlgegB5O2YABQs9UQAeRwgAPjgAXlcEJjgARgAaIVFxZgByVGkKv0V+akCkYNZ8emyQlChw1Gi7ADo8xSaWgDUyvBzQ7oi+237hMWBFBHQ4SxgATzBgCDXW9oBCLJyAIm16YHRkSNO4ADJ7uC2dvZDxpbhjs4urm-pTi5KDQ6CZzFYyAxmAcSotyu8Jn4nIp-NQ0VQtDo9AY4JdrkhInEoBAwMkAColADScFAqCQ9EkcAA1sBNm8yelLPw6DZ7HAKXB+kKwMSwJJmJSANoAXWoTmYvMQjLJDzgACVgABHVgIdz0ZJxBDYJnkqnpTLAgTuTzeOAikmSfrAQRoTaWJnZTIvXZrXmSpnSr4nODnel-AkA5HUfyrdZ4-5EkmWaY9SIxWwlU55U6ZuHAQFA7m0MEWZNdVNzKPKahAA\" rel=\"nofollow noreferrer\">Link to code</a></p>\n"}], "owner": {"reputation": 1113, "user_id": 7896203, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/47524fac19864d21a7267812d6c6e2c1?s=128&d=identicon&r=PG&f=1", "display_name": "Reed", "link": "https://stackoverflow.com/users/7896203/reed"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 68, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1574884492, "creation_date": 1574876978, "question_id": 59075852, "link": "https://stackoverflow.com/questions/59075852/how-to-better-handle-partialt-interfaces", "title": "How to better handle Partial&lt;T&gt; interfaces", "body": "<p>In the scenario below, I don't want to trust the untrusted object and want to check that each field is truthy before acting upon it. However, using the Partial generic, it does not infer that the field is not undefined when attempting to pass it to the function. Is there a better way to handle this?</p>\n\n<pre><code>export interface IFoo {\n  id: number;\n  value: string;\n}\n\nexport function DoBar(obj: IFoo) {\n  // do stuff\n  return;\n}\n\nconst untrustedObj: Partial&lt;IFoo&gt; = { id: 1, value: 'test' };\n\nif (untrustedObj.id &amp;&amp; untrustedObj.value) {\n  DoBar(untrustedObj); // Error\n}\n</code></pre>\n\n<p>error: </p>\n\n<pre><code>Argument of type 'Partial&lt;IFoo&gt;' is not assignable to parameter of type 'IFoo'.\n  Types of property 'id' are incompatible.\n    Type 'number | undefined' is not assignable to type 'number'.\n      Type 'undefined' is not assignable to type 'number'.ts(2345)\n</code></pre>\n"}, {"tags": ["reactjs", "typescript", "react-native"], "owner": {"reputation": 33, "user_id": 3054969, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LJrMr.jpg?s=128&g=1", "display_name": "Charles Yeo", "link": "https://stackoverflow.com/users/3054969/charles-yeo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 82, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1574876268, "creation_date": 1574876268, "question_id": 59075675, "link": "https://stackoverflow.com/questions/59075675/create-and-publish-a-reusable-react-native-ui-component-library", "title": "Create and publish a reusable React Native UI component library", "body": "<p>I'm trying to create a component library (similar like Kitten UI, Ant design RN and etc) for React Native and I'm wondering if there is any simple example repo or boilerplate (with Typescript) for that? Not including/bridging any native modules but just React Native UI components.</p>\n"}, {"tags": ["reactjs", "typescript", "redux", "react-redux"], "comments": [{"owner": {"reputation": 40959, "user_id": 62937, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/52f79e92fdda71a258de1818558dcea4?s=128&d=identicon&r=PG", "display_name": "markerikson", "link": "https://stackoverflow.com/users/62937/markerikson"}, "edited": false, "score": 0, "creation_date": 1574876699, "post_id": 59075397, "comment_id": 104388964, "body": "Where and how are you actually rendering an instance of this HOC?"}, {"owner": {"reputation": 754, "user_id": 12152982, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/85a96f15c74d4368c8399d71a09d8834?s=128&d=identicon&r=PG&f=1", "display_name": "anon_dcs3spp", "link": "https://stackoverflow.com/users/12152982/anon-dcs3spp"}, "reply_to_user": {"reputation": 40959, "user_id": 62937, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/52f79e92fdda71a258de1818558dcea4?s=128&d=identicon&r=PG", "display_name": "markerikson", "link": "https://stackoverflow.com/users/62937/markerikson"}, "edited": false, "score": 0, "creation_date": 1574878004, "post_id": 59075397, "comment_id": 104389567, "body": "Thanks for comment, updated question with link to source file that instantiates the <i>withErrorListener</i> HoC."}, {"owner": {"reputation": 40959, "user_id": 62937, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/52f79e92fdda71a258de1818558dcea4?s=128&d=identicon&r=PG", "display_name": "markerikson", "link": "https://stackoverflow.com/users/62937/markerikson"}, "edited": false, "score": 0, "creation_date": 1574878576, "post_id": 59075397, "comment_id": 104389803, "body": "Can you show exactly where you&#39;re <i>rendering</i> an instance of <code>&lt;PostsListWithErrorListener&gt;</code> ?"}, {"owner": {"reputation": 754, "user_id": 12152982, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/85a96f15c74d4368c8399d71a09d8834?s=128&d=identicon&r=PG&f=1", "display_name": "anon_dcs3spp", "link": "https://stackoverflow.com/users/12152982/anon-dcs3spp"}, "reply_to_user": {"reputation": 40959, "user_id": 62937, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/52f79e92fdda71a258de1818558dcea4?s=128&d=identicon&r=PG", "display_name": "markerikson", "link": "https://stackoverflow.com/users/62937/markerikson"}, "edited": false, "score": 0, "creation_date": 1574878856, "post_id": 59075397, "comment_id": 104389935, "body": "Thanks for comment, updated question with link to App component source file that renders PostsListWithErrorListener."}, {"owner": {"reputation": 40959, "user_id": 62937, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/52f79e92fdda71a258de1818558dcea4?s=128&d=identicon&r=PG", "display_name": "markerikson", "link": "https://stackoverflow.com/users/62937/markerikson"}, "edited": false, "score": 0, "creation_date": 1574880283, "post_id": 59075397, "comment_id": 104390551, "body": "As far as I can tell, you&#39;re not actually passing in any IDs to that <code>&lt;PostsListWithErrorListener&gt;</code>, therefore <code>ownProps.uniqueId</code> won&#39;t exist."}, {"owner": {"reputation": 754, "user_id": 12152982, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/85a96f15c74d4368c8399d71a09d8834?s=128&d=identicon&r=PG&f=1", "display_name": "anon_dcs3spp", "link": "https://stackoverflow.com/users/12152982/anon-dcs3spp"}, "reply_to_user": {"reputation": 40959, "user_id": 62937, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/52f79e92fdda71a258de1818558dcea4?s=128&d=identicon&r=PG", "display_name": "markerikson", "link": "https://stackoverflow.com/users/62937/markerikson"}, "edited": false, "score": 0, "creation_date": 1574880948, "post_id": 59075397, "comment_id": 104390824, "body": "Thanks or comment. I am trying to initialise the id property in another higher order omponent, <code>const PostsListConnectedWithId = connector(withId(PostsListBase));</code>. I have updated the question with a link to the source code for the <i>withId</i> higher order component."}, {"owner": {"reputation": 754, "user_id": 12152982, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/85a96f15c74d4368c8399d71a09d8834?s=128&d=identicon&r=PG&f=1", "display_name": "anon_dcs3spp", "link": "https://stackoverflow.com/users/12152982/anon-dcs3spp"}, "reply_to_user": {"reputation": 40959, "user_id": 62937, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/52f79e92fdda71a258de1818558dcea4?s=128&d=identicon&r=PG", "display_name": "markerikson", "link": "https://stackoverflow.com/users/62937/markerikson"}, "edited": false, "score": 0, "creation_date": 1575396174, "post_id": 59075397, "comment_id": 104550062, "body": "Refactored the <code>withErrorListener</code> HoC to return withId Hoc that injects uniqueId property. If @markerikson would like to post an answer that uniqueId is not initialised then I will go ahead and accept his answer :)"}], "answers": [{"tags": [], "owner": {"reputation": 754, "user_id": 12152982, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/85a96f15c74d4368c8399d71a09d8834?s=128&d=identicon&r=PG&f=1", "display_name": "anon_dcs3spp", "link": "https://stackoverflow.com/users/12152982/anon-dcs3spp"}, "is_accepted": false, "score": 0, "last_activity_date": 1575395987, "creation_date": 1575395987, "answer_id": 59162892, "question_id": 59075397, "link": "https://stackoverflow.com/questions/59075397/mapstatetoprops-ownprops-argument-contains-a-property-that-is-undefined-in-highe/59162892#59162892", "title": "mapStateToProps OwnProps argument contains a property that is undefined in Higher Order Component", "body": "<p>Managed to get this working, after asking another question <a href=\"https://stackoverflow.com/questions/59088446/experiencing-compile-error-with-a-higher-order-components-mapstate-function-tha\">here</a>.</p>\n\n<p>The issue was a mixture of incorrectly connecting the HoC to redux store, i.e. component was casted to any. This issue was solved in a separate <a href=\"https://stackoverflow.com/questions/59088446/experiencing-compile-error-with-a-higher-order-components-mapstate-function-tha\">question</a>. </p>\n\n<p>One of the comments suggested that the uniqueId property was not being initialised. I refactored the withErrorListener HoC to inject the uniqueId property so that it is automatically assigned without the developer having to specify.</p>\n\n<p>A codesandbox model can be found <a href=\"https://codesandbox.io/s/witherrorlistener-and-withid-hoc-components-the-version-that-compiles-207sg\" rel=\"nofollow noreferrer\">here</a></p>\n\n<p>If the commenter wishes to suggest an answer that the uniqueId property was not initialised then I will accept it.</p>\n"}], "owner": {"reputation": 754, "user_id": 12152982, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/85a96f15c74d4368c8399d71a09d8834?s=128&d=identicon&r=PG&f=1", "display_name": "anon_dcs3spp", "link": "https://stackoverflow.com/users/12152982/anon-dcs3spp"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 140, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1575395987, "creation_date": 1574875068, "last_edit_date": 1574881400, "question_id": 59075397, "link": "https://stackoverflow.com/questions/59075397/mapstatetoprops-ownprops-argument-contains-a-property-that-is-undefined-in-highe", "title": "mapStateToProps OwnProps argument contains a property that is undefined in Higher Order Component", "body": "<p>I am new react-redux user trying to connect a higher order component to react-redux store. In the map state to props function I am using ownProps argument for filtering the state. However, the property that I am trying to use within OwnProps is always undefined. Has anyone experienced something similar?</p>\n\n<p><strong>Redux properties</strong></p>\n\n<pre class=\"lang-js prettyprint-override\"><code>import { connect } from \"react-redux\";\n\nimport { clearErrorAction } from \"../features/errors/actions\";\nimport { filterErrors } from \"../features/errors/selectors\";\nimport { FailureNotify } from \"../features/errors/types\";\nimport { HocComponentProps } from \"./types\";\nimport { RootState } from \"typesafe-actions\";\n\ntype StateProps = {\n  error: FailureNotify[];\n};\n\nexport const mapStateToProps = (\n  state: RootState,\n  ownProps: HocComponentProps\n): StateProps =&gt; {\n  // uniqueId property is always undefined here???\n  console.log(`withErrorListener mapStateToProps =&gt; ${ownProps.uniqueId}`);\n  return {\n    error: filterErrors(state.errors as StateProps, ownProps)\n  };\n};\n\nexport const dispatchProps = {\n  clearError: clearErrorAction\n};\n\nexport const connector = connect(\n  mapStateToProps,\n  dispatchProps\n);\n\n</code></pre>\n\n<p><strong>The higher order component</strong></p>\n\n<pre class=\"lang-js prettyprint-override\"><code>import * as React from \"react\";\n\nimport { ConnectedProps } from \"react-redux\";\nimport { RouteComponentProps, withRouter } from \"react-router-dom\";\n\nimport { connector } from \"./redux\";\nimport { FailureNotify } from \"../features/errors/types\";\n\n/**\n * Type declarations\n */\ntype ReduxProps = ConnectedProps&lt;typeof connector&gt;;\ntype ExpectedProps = { uniqueId: string };\n\n/**\n * Internal components\n */\ntype ErrorInfoProps = { info: FailureNotify } &amp; ReduxProps &amp;\n  RouteComponentProps;\nconst ErrorInfo = ({\n  info,\n  clearError,\n  history\n}: ErrorInfoProps): JSX.Element =&gt; {\n  function goHome(): void {\n    console.log(\"Go home button has been clicked\");\n    clearError(info.fromAction, info.fromComponent, history, \"/\");\n  }\n  return (\n    &lt;React.Fragment&gt;\n      &lt;p&gt;Error {info.message}&lt;/p&gt;\n      &lt;p&gt;Received from action {info.fromAction}&lt;/p&gt;\n      &lt;p&gt;Received for component id {info.fromComponent}&lt;/p&gt;\n      &lt;button onClick={goHome}&gt;Home&lt;/button&gt;\n    &lt;/React.Fragment&gt;\n  );\n};\n\n/**\n * HoC that renders errors on the redux store rasied for a component.\n * @param BaseComponent  The component to wrap should have uniqueId property\n */\nexport const withErrorListener = &lt;BaseProps extends ExpectedProps&gt;(\n  BaseComponent: React.ComponentType&lt;BaseProps&gt;\n) =&gt; {\n  /**\n   * Type declarations\n   */\n  type HocProps = BaseProps &amp; ReduxProps &amp; RouteComponentProps;\n\n  class ErrorListener extends React.Component&lt;HocProps, {}&gt; {\n    static displayName = `withErrorListener(${BaseComponent.name})`;\n    static readonly WrappedComponent = BaseComponent;\n\n    /**\n     * Render error if there is one to display, otherwise render the base component\n     * @returns Rendered error if error occurred. Rendered base component if no error occurred.\n     */\n    render() {\n      const { ...restProps } = this.props;\n      console.log(`withErrorListener [error_count=${this.props.error.length}]`);\n      if (this.props.error.length &gt; 0) {\n        return &lt;ErrorInfo info={this.props.error[0]} {...restProps} /&gt;;\n      } else {\n        return &lt;BaseComponent {...restProps as BaseProps} /&gt;;\n      }\n    }\n  }\n\n  const ConnectedHoc = connector(ErrorListener as any);\n  const RoutedHoc = withRouter(ConnectedHoc as any);\n\n  return RoutedHoc;\n};\n</code></pre>\n\n<p><a href=\"https://codesandbox.io/s/react-redux-typescript-nested-connected-hoc-example-attemptingtosolve-qfkr3?fontsize=14&amp;hidenavigation=1&amp;module=%2Fsrc%2Fhigher-order-components%2FwithErrorListener.tsx&amp;theme=dark\" rel=\"nofollow noreferrer\"><img src=\"https://codesandbox.io/static/img/play-codesandbox.svg\" alt=\"Edit React Redux Typescript Nested Connected HoC  Example - AttemptingToSolve\"></a></p>\n\n<p>I am creating an instance of the <em>withErrorListener</em> higher order component at the end of this <a href=\"https://codesandbox.io/s/react-redux-typescript-nested-connected-hoc-example-attemptingtosolve-qfkr3?fontsize=14&amp;hidenavigation=1&amp;module=%2Fsrc%2Fcontainers%2FPostsList.tsx&amp;theme=dark\" rel=\"nofollow noreferrer\">source file</a></p>\n\n<pre class=\"lang-js prettyprint-override\"><code>const PostsListConnectedWithId = connector(withId(PostsListBase));\nexport const PostsListWithErrorListener = withErrorListener(\n  PostsListConnectedWithId\n);\n</code></pre>\n\n<p>The source code for <em>PostsListBase</em> is available in the same <a href=\"https://codesandbox.io/s/react-redux-typescript-nested-connected-hoc-example-attemptingtosolve-qfkr3?fontsize=14&amp;hidenavigation=1&amp;module=%2Fsrc%2Fcontainers%2FPostsList.tsx&amp;theme=dark\" rel=\"nofollow noreferrer\">source file</a></p>\n\n<p><em>PostsListsWithErrorListener</em> is rendered in the <a href=\"https://codesandbox.io/embed/react-redux-typescript-nested-connected-hoc-example-attemptingtosolve-qfkr3?fontsize=14&amp;hidenavigation=1&amp;module=%2Fsrc%2Fcomponents%2FApp.tsx&amp;theme=dark\" rel=\"nofollow noreferrer\">App</a> component.</p>\n\n<p>The property that is always undefined is <em>uniqueId</em> and is injected  into the base component by the <em>withId</em> higher order component, <a href=\"https://codesandbox.io/embed/react-redux-typescript-nested-connected-hoc-example-attemptingtosolve-qfkr3?fontsize=14&amp;hidenavigation=1&amp;module=%2Fsrc%2Fhigher-order-components%2FcomponentId%2FwithId.tsx&amp;theme=dark\" rel=\"nofollow noreferrer\">here</a>. The console log output within the codesandbox shows the <em>uniqueId</em> property value.</p>\n"}, {"tags": ["typescript", "generic-function"], "comments": [{"owner": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "edited": false, "score": 0, "creation_date": 1574876063, "post_id": 59075083, "comment_id": 104388677, "body": "See <a href=\"https://github.com/microsoft/TypeScript/issues/13995\" rel=\"nofollow noreferrer\">microsoft/TypeScript#13995</a> for why this doesn&#39;t work.  Your type assertion solution is probably the most reasonable way of dealing with this."}, {"owner": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "edited": false, "score": 2, "creation_date": 1574876613, "post_id": 59075083, "comment_id": 104388920, "body": "Does <a href=\"http://www.typescriptlang.org/play//#code/JYOwLgpgTgZghgYwgAgApQPYBMCuCwCycADsgN4CwAUMrchiBAFznV3vIBGcAzhOsCQsQOALadoAbjYdaWYDwQYc4YWIlRpNOgF8ANDNpgA7hhaVts7nwFDkI8VMMc4WLAHkQt5vfVPLyDrUQVTUMCr4wAzIAOYQYN4APADSyBAAHpAgWDzIANYQAJ4YMGiYuPhExAB8ABQFhSzJesjEcFBwojws6Nh4hCQA2skAugCUrAFKIDxgre1gwHAANlU9C0vLib0VAzXIALzkyIMNIyxtHV2BWuzApbWXiytVAHQMEBMWsrRQ8ThQEDzKDPVYkd6MV7WfhQQQoAC0wNBbw+r3kimU4FuujSyz4yHuyEeGxe4JMGC+znYfzAAKBT02b3JUN4MLhyAA1EjGWTTK9XB4vLCkNjaDpcfiwAALTDGewQOUAUSgmCgtTGWhCQA\" rel=\"nofollow noreferrer\">this</a> seem like a reasonable alternative?  It&#39;s not using an assertion, so it&#39;s &quot;safer&quot;."}], "answers": [{"tags": [], "owner": {"reputation": 9738, "user_id": 4858777, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/R121o.png?s=128&g=1", "display_name": "Valeriy Katkov", "link": "https://stackoverflow.com/users/4858777/valeriy-katkov"}, "is_accepted": false, "score": 1, "last_activity_date": 1574875474, "creation_date": 1574875474, "answer_id": 59075489, "question_id": 59075083, "link": "https://stackoverflow.com/questions/59075083/typescript-how-do-i-narrow-type-possibilities-of-a-generic-type-in-a-switch-st/59075489#59075489", "title": "Typescript - How do I narrow type possibilities of a generic type in a switch statement?", "body": "<p>Indeed, looks like TypeScript isn't so smart, but there is a workaround, which is better that casting:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>function getPrice(productMap: ProductMap, key: keyof ProductMap) {\n  switch (key) {\n    case 'one': {\n      const params = productMap['one'];\n      return params.basePrice - params.discount;\n    }\n    case 'two': {\n      const params = productMap['two'];\n      return params.basePrice + params.addOnPrice;\n    }\n  }\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 158222, "user_id": 871050, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/A9cyT.png?s=128&g=1", "display_name": "Madara&#39;s Ghost", "link": "https://stackoverflow.com/users/871050/madaras-ghost"}, "edited": false, "score": 0, "creation_date": 1589278831, "post_id": 59075709, "comment_id": 109223196, "body": "The problem with this, of course, is that if you want a different return type based on each discriminant, the return type would be a union of all possible return types, rather than the one corresponding to the actual discriminant passed, like generics would do."}, {"owner": {"reputation": 30153, "user_id": 12299000, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0pja9.png?s=128&g=1", "display_name": "kaya3", "link": "https://stackoverflow.com/users/12299000/kaya3"}, "reply_to_user": {"reputation": 158222, "user_id": 871050, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/A9cyT.png?s=128&g=1", "display_name": "Madara&#39;s Ghost", "link": "https://stackoverflow.com/users/871050/madaras-ghost"}, "edited": false, "score": 0, "creation_date": 1589333008, "post_id": 59075709, "comment_id": 109250507, "body": "That&#39;s not a problem with this approach; it&#39;s a different but related question with a more complicated answer. You can still use a discriminated union and write a suitable generic signature to allow a more specific return type to be inferred at some call-sites."}], "tags": [], "owner": {"reputation": 30153, "user_id": 12299000, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0pja9.png?s=128&g=1", "display_name": "kaya3", "link": "https://stackoverflow.com/users/12299000/kaya3"}, "is_accepted": true, "score": 2, "last_activity_date": 1574876388, "creation_date": 1574876388, "answer_id": 59075709, "question_id": 59075083, "link": "https://stackoverflow.com/questions/59075083/typescript-how-do-i-narrow-type-possibilities-of-a-generic-type-in-a-switch-st/59075709#59075709", "title": "Typescript - How do I narrow type possibilities of a generic type in a switch statement?", "body": "<p><em>\"Can anyone explain why #1 won't work or offer an alternative solution?\"</em></p>\n\n<p>Here's why #1 won't work: Typescript has <a href=\"https://microsoft.github.io/TypeScript-New-Handbook/chapters/narrowing/\" rel=\"nofollow noreferrer\">control-flow type narrowing</a> for variables like <code>key</code>, but not for type parameters like <code>K</code>.</p>\n\n<p>The <code>case 'one':</code> check narrows the type of the variable <code>key: K</code> to <code>key: 'one'</code>.</p>\n\n<p>But it does not narrow from <code>K extends 'one' | 'two'</code> to <code>K extends 'one'</code>, because no test has been done on the actual type variable <code>K</code>, nor can any test be done to narrow it. So <code>params: ProductMap[K]</code> is still <code>params: ProductMap[K]</code>, and <code>K</code> is still the same type, so the type of <code>params</code> hasn't been narrowed.</p>\n\n<hr>\n\n<p>Here's an alternative solution: use a discriminated union, and switch on the discriminant (i.e. the <code>__tag</code> property in the code below).</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>type ProductMap =\n  {\n    __tag: 'one';\n    basePrice: number;\n    discount: number;\n  } | {\n    __tag: 'two';\n    basePrice: number;\n    addOnPrice: number;\n  }\n\nfunction getPrice(params: ProductMap): number {\n  switch (params.__tag) {\n    case 'one': {\n      return params.basePrice - params.discount;\n    }\n    case 'two': {\n      return params.basePrice + params.addOnPrice;\n    }\n  }\n}\n</code></pre>\n\n<p><a href=\"http://www.typescriptlang.org/play/#code/C4TwDgpgBACgTgewCYFcDGwCyBDMUC8AUFFAN7ElQD6Vw2A5gFxQDkCAdhCwNwUkBG2AM4R4ASzQRm7FAFt+EOL0pQkYoWgQp2waXIVKKAXygAfMn2q0GzFsADuCHpcEjxkvfMXLK2JEgB5dncpKBkvQxIjQkIAM20MMQ4oeghgEIAKMGw4bFkhZnhkdCxcAEpPAwsSIXsxYDQACygsnLyhADoaOnoy6so0YWg2ThZmchUSODSUOHYobNz8jtdROAloAFoFtuW1DS0dHyjLQZFWBydxyymZuZ2lztWQqABqB-aOv0Dg9cljqDRE7RIA\" rel=\"nofollow noreferrer\">Playground Link</a></p>\n"}], "owner": {"reputation": 103, "user_id": 7102698, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/534747d71141a9c92c7609fc722c45ca?s=128&d=identicon&r=PG&f=1", "display_name": "azwier", "link": "https://stackoverflow.com/users/7102698/azwier"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 390, "favorite_count": 0, "accepted_answer_id": 59075709, "answer_count": 2, "score": 2, "last_activity_date": 1574876388, "creation_date": 1574873861, "question_id": 59075083, "link": "https://stackoverflow.com/questions/59075083/typescript-how-do-i-narrow-type-possibilities-of-a-generic-type-in-a-switch-st", "title": "Typescript - How do I narrow type possibilities of a generic type in a switch statement?", "body": "<p>I'm trying to write a function that will perform a particular calculation based on the passed key and parameters. I also want to enforce a relationship between the passed key and parameters, so I have used a generic function with a constraint:</p>\n\n<pre><code>interface ProductMap {\n  one: {\n    basePrice: number;\n    discount: number;\n  },\n  two: {\n    basePrice: number;\n    addOnPrice: number;\n  }\n}\n\nfunction getPrice&lt;K extends keyof ProductMap&gt;(key: K, params: ProductMap[K]) {\n  switch (key) {\n    case 'one': {\n      return params.basePrice - params.discount; // Property 'discount' does not exist on type 'ProductMap[K]'.\n    }\n    case 'two': {\n      return params.basePrice + params.addOnPrice;\n    }\n  }\n}\n\n</code></pre>\n\n<p>Maybe I'm thinking about this in the wrong way, but it seems like typescript should be able to narrow the generic type in the switch statement. The only way I could get it to work was with this awkwardness:</p>\n\n<pre><code>function getPrice&lt;K extends keyof ProductMap&gt;(key: K, params: ProductMap[K]) {\n  switch (key) {\n    case 'one': {\n      const p = params as ProductMap['one'];\n      return p.basePrice - p.discount;\n    }\n    case 'two': {\n      const p = params as ProductMap['two'];\n      return p.basePrice + p.addOnPrice;\n    }\n  }\n}\n</code></pre>\n\n<p>Can anyone explain why #1 won't work or offer an alternative solution?</p>\n"}, {"tags": ["typescript", "generics"], "comments": [{"owner": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "edited": false, "score": 0, "creation_date": 1574873188, "post_id": 59074850, "comment_id": 104387244, "body": "Do you just want <code>type EthInfo&lt;T&gt; = Readonly&lt;T&gt; &amp; {readonly ethAddress: string; readonly ethSignature: Application}</code>?  It&#39;s hard to know if this meets your use case without a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> that doesn&#39;t refer to undeclared types/values."}, {"owner": {"reputation": 809, "user_id": 539398, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/85a81dffca2b89b1d483691bbca8de3d?s=128&d=identicon&r=PG", "display_name": "Doodloo", "link": "https://stackoverflow.com/users/539398/doodloo"}, "reply_to_user": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "edited": false, "score": 0, "creation_date": 1574875284, "post_id": 59074850, "comment_id": 104388314, "body": "I&#39;ve put together something to look at. It&#39;s at <a href=\"https://codepen.io/hickscorp/pen/qBBebLq\" rel=\"nofollow noreferrer\">codepen.io/hickscorp/pen/qBBebLq</a> Basically, we would like to avoid having to declare <code>EthFields</code> and <code>EthOptionalFields</code> twice, and then having to check each field in the <code>hasEthInfo</code> function. Ideally, we would have an interface listing the fields once, have a way of saying &quot;Extend them <i>as optional</i> in Role&quot;, and have some kind of meta-programming in <code>hasEthInfo</code> which would automatically check each field existence without having to manually list them."}, {"owner": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "edited": false, "score": 0, "creation_date": 1574875753, "post_id": 59074850, "comment_id": 104388529, "body": "So use <code>Partial&lt;EthFields&gt;</code> instead of <code>EthOptionalFields</code>?  Or use <code>Required&lt;EthOptionalFields&gt;</code> instead of <code>EthFields</code>?  Also, please put your <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> directly in the question so people don&#39;t have to leave SO to see it (see <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a>)."}], "owner": {"reputation": 809, "user_id": 539398, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/85a81dffca2b89b1d483691bbca8de3d?s=128&d=identicon&r=PG", "display_name": "Doodloo", "link": "https://stackoverflow.com/users/539398/doodloo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 22, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1574872976, "creation_date": 1574872976, "question_id": 59074850, "link": "https://stackoverflow.com/questions/59074850/generic-interface-that-forces-fields", "title": "Generic interface that forces fields", "body": "<p>We use this pattern a lot:</p>\n\n<pre><code>export const isMissing = (s: State): s is None | Token =&gt; s.type &lt; StateTypes.PRESENT;\n</code></pre>\n\n<p>We would like to have something similar for fields inside interfaces. I'll explain - imagine a type like this:</p>\n\n<pre><code>export interface Role extends Identifiable {\n  readonly type: RoleType;\n  readonly name: string;\n  readonly profile: RoleProfile;\n  readonly ethAddress?: string;\n  readonly ethSignature?: Application;\n}\n</code></pre>\n\n<p>We would like a function to act as a type guard on certain fields based on another interface that has these fields non-optional. For example:</p>\n\n<pre><code>interface EthInfo&lt;T&gt; {\n  readonly [name: K keyof T]: T[K];\n  readonly ethAddress: string;\n  readonly ethSignature: Application;\n}\n</code></pre>\n\n<p>And then have a function guard allowing something like this:</p>\n\n<pre><code>export const isEthContainer&lt;T&gt; = (obj: T): s is EthInfo&lt;T&gt; =&gt;\n  (pseudo code that checks that all non-optional fields of EthInfo are at least optional in T and are not undefined in the instance of T obj);\n</code></pre>\n\n<p>So we could use it like so:</p>\n\n<pre><code>if (!isEthContainer(role)) { return; }\n// At this point, role.ethAddress and role.ethSignature would be guaranteed not to be undefined.\n</code></pre>\n\n<p>The goal is to have enough genericity to have not just one interface have <code>ethAddress</code> and <code>ethSignature</code> - so the construct must work generically.</p>\n\n<p>Also, the example is simplified - in our case <code>Role</code> contains many more fields which are set in groups based on the user permissions, so we would declare other interfaces similar to the <code>EthInfo&lt;T&gt;</code> one.</p>\n\n<p>Is there a known pattern for achieving this?</p>\n"}, {"tags": ["javascript", "angular", "typescript", "interceptor"], "answers": [{"tags": [], "owner": {"reputation": 392, "user_id": 3909681, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/bdf047033560e92ec82c4294b0d56635?s=128&d=identicon&r=PG&f=1", "display_name": "Barzev", "link": "https://stackoverflow.com/users/3909681/barzev"}, "is_accepted": true, "score": 1, "last_activity_date": 1574873186, "last_edit_date": 1574873186, "creation_date": 1574872504, "answer_id": 59074724, "question_id": 59074399, "link": "https://stackoverflow.com/questions/59074399/how-do-i-ensure-operators-on-an-observable-occur-after-a-http-interceptor/59074724#59074724", "title": "How do I ensure operators on an observable occur after a HTTP Interceptor?", "body": "<p>How about you approach this by moving the <code>pipe(map(this.cleanData, this))</code> operation to the point when the Observable has completed and returned your <code>CaseResponse</code>. Likely, this will mean that the <code>HttpInterceptor</code> has been applied first.</p>\n\n<p>i.e. In the place where you invoke <code>getCases</code> you could try something like this:</p>\n\n<pre><code>service.getCases(options).subscribe(resolvedData =&gt; {\n   // assuming cleanData(data: CaseResponse) signature\n   const cleanedData = this.cleanData(resolvedData);  \n\n   // .. do something with cleanedData \n});\n\n</code></pre>\n\n<p>Also, from a design perspective, you wouldn't want <code>getCases</code> to do more than exactly what it's supposed to - It's a service method that performs an HTTP request and returns the cases in the format they are sent to you. The reformatting of the data could be ideally done at the consumer of that service function - as it's very likely the consumer that needs it <em>cleaned/reshaped</em>. </p>\n"}], "owner": {"reputation": 716, "user_id": 7959497, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6x0LF.png?s=128&g=1", "display_name": "Rob Bailey", "link": "https://stackoverflow.com/users/7959497/rob-bailey"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 37, "favorite_count": 0, "accepted_answer_id": 59074724, "answer_count": 1, "score": 0, "last_activity_date": 1574873186, "creation_date": 1574871442, "question_id": 59074399, "link": "https://stackoverflow.com/questions/59074399/how-do-i-ensure-operators-on-an-observable-occur-after-a-http-interceptor", "title": "How do I ensure operators on an observable occur after a HTTP Interceptor?", "body": "<p>In my Angular 8 application, I have a basic caching interceptor:</p>\n\n<pre><code>export class CacheInterceptor implements HttpInterceptor {\n\n  constructor(private cache: CacheService) {}\n\n  public intercept(\n    req: HttpRequest&lt;any&gt;,\n    next: HttpHandler\n  ): Observable&lt;HttpEvent&lt;any&gt;&gt; {\n    if (req.method !== 'GET') {\n      return next.handle(req);\n    }\n    const cachedResponse = this.cache.get(req);\n    if (cachedResponse) {\n      console.log(cachedResponse);\n      return of(cachedResponse);\n    }\n\n    return next.handle(req).pipe(\n      filter(event =&gt; event instanceof HttpResponse),\n      map((response: HttpResponse&lt;any&gt;) =&gt; {\n        this.cache.addToCache(req, response);\n        return response;\n      })\n    );\n  }\n}\n</code></pre>\n\n<p>I also have a service which retrieves data from an external API:</p>\n\n<pre><code>  public getCases(options: ModuleArguments): Observable&lt;CaseResponse&gt; {\n    return this.http\n      .get&lt;CaseResponse&gt;(this.URL_BASE, {\n        params: options as HttpParams\n      })\n      .pipe(map(this.cleanData, this));\n  }\n</code></pre>\n\n<p>The 'cleanData' method just loops through the received data and amends some of the values to make them more human friendly (e.g. turns 'support_request' to 'Support Request'). </p>\n\n<p>What appears to be happening is the response is being added to the cache by the CacheInterceptor after the data has been 'cleaned' within the service. Therefore, when the same request is made again, and received from the cache, the service is attempting to clean data which has already been cleaned. </p>\n\n<p>How do I ensure that the the HTTP Response has been intercepted and added to the cache before it has been amended by the service?</p>\n"}, {"tags": ["angular", "typescript", "angular-ui-router"], "answers": [{"comments": [{"owner": {"reputation": 405, "user_id": 497073, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/97bbcfaa2fe2ed3a8d75138b614540e6?s=128&d=identicon&r=PG&f=1", "display_name": "PNR", "link": "https://stackoverflow.com/users/497073/pnr"}, "edited": false, "score": 0, "creation_date": 1574881858, "post_id": 59074516, "comment_id": 104391188, "body": "Thanks ! What about the children, shall I implement those under each parent, or can I implement then once?"}, {"owner": {"reputation": 2687, "user_id": 11769164, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-cascCTYxkPQ/AAAAAAAAAAI/AAAAAAAAAkQ/KzEi1WfT8Ks/photo.jpg?sz=128", "display_name": "Ashot Aleqsanyan", "link": "https://stackoverflow.com/users/11769164/ashot-aleqsanyan"}, "reply_to_user": {"reputation": 405, "user_id": 497073, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/97bbcfaa2fe2ed3a8d75138b614540e6?s=128&d=identicon&r=PG&f=1", "display_name": "PNR", "link": "https://stackoverflow.com/users/497073/pnr"}, "edited": false, "score": 0, "creation_date": 1574882620, "post_id": 59074516, "comment_id": 104391454, "body": "you can have the edit option like as queryparam. otherwise yes you need to have the children for each parent."}], "tags": [], "owner": {"reputation": 2687, "user_id": 11769164, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-cascCTYxkPQ/AAAAAAAAAAI/AAAAAAAAAkQ/KzEi1WfT8Ks/photo.jpg?sz=128", "display_name": "Ashot Aleqsanyan", "link": "https://stackoverflow.com/users/11769164/ashot-aleqsanyan"}, "is_accepted": true, "score": 0, "last_activity_date": 1574871871, "creation_date": 1574871871, "answer_id": 59074516, "question_id": 59074053, "link": "https://stackoverflow.com/questions/59074053/use-same-children-under-two-different-parents-in-angular-8/59074516#59074516", "title": "Use same children under two different parents in Angular 8", "body": "<p>You can change your routing like this and have the same component for both routes</p>\n\n<pre><code> const routes: Routes = [\n\n  { path: 'profile/first-tab/1', component: SomeComponent },\n  { path: 'profile/first-tab/edit/1', component: SomeComponent }\n];\n</code></pre>\n"}], "owner": {"reputation": 405, "user_id": 497073, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/97bbcfaa2fe2ed3a8d75138b614540e6?s=128&d=identicon&r=PG&f=1", "display_name": "PNR", "link": "https://stackoverflow.com/users/497073/pnr"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 39, "favorite_count": 0, "accepted_answer_id": 59074516, "answer_count": 1, "score": 0, "last_activity_date": 1574878403, "creation_date": 1574870256, "last_edit_date": 1574878403, "question_id": 59074053, "link": "https://stackoverflow.com/questions/59074053/use-same-children-under-two-different-parents-in-angular-8", "title": "Use same children under two different parents in Angular 8", "body": "<p>I have 2 different ways to access some pages, a view mode and an edit mode. so I would like to have the following two URLs for those options (all the pages are quals, they will be handled by a parameter - edit or not):</p>\n\n<p><code>profile/first-tab/1</code> (for viewing)</p>\n\n<p><code>profile/first-tab/edit/1</code> (for editing)</p>\n\n<p>The profile is the parent, and beneath that are 5 children (first-tab, second-tab...)</p>\n\n<p>How do I configure routing for that the best way?</p>\n\n<p>Thanks very much in advance :-)</p>\n"}, {"tags": ["typescript"], "comments": [{"owner": {"reputation": 5325, "user_id": 6118550, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jq2eV.png?s=128&g=1", "display_name": "C_Ogoo", "link": "https://stackoverflow.com/users/6118550/c-ogoo"}, "edited": false, "score": 0, "creation_date": 1574870350, "post_id": 59073911, "comment_id": 104385715, "body": "Whats the <code>Environment</code> type? You&#39;ve typed the parameter of your function to be of type <code>Environment</code>. Is that a type?"}, {"owner": {"reputation": 1574, "user_id": 3977134, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/103abcff33337fc9d15ed8ed5fd77bf9?s=128&d=identicon&r=PG&f=1", "display_name": "r3dst0rm", "link": "https://stackoverflow.com/users/3977134/r3dst0rm"}, "edited": false, "score": 0, "creation_date": 1574870460, "post_id": 59073911, "comment_id": 104385787, "body": "What about: <code>env: typeof Environment = _Environment</code>? Please see: <a href=\"https://www.typescriptlang.org/play/#code/KYOwrgtgBAoiBuBLATgexBUAXKBvAsAFBQlQAiw8wANqgA6Yg4C8UA5BVbQ9mwDRFSUAApoAJmADGWROiis2o1BOmyQ-QaQAqwAM4t2O-WyIBfIkQBmYEKrkQAntdsAKUPABcULA7rBUlrAIKOiMBnBIaBjYAJRe8KiIYnimQA\" rel=\"nofollow noreferrer\">typescriptlang.org/play/#code/&hellip;</a>"}, {"owner": {"reputation": 25462, "user_id": 1137669, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/ynWJw.jpg?s=128&g=1", "display_name": "basickarl", "link": "https://stackoverflow.com/users/1137669/basickarl"}, "reply_to_user": {"reputation": 5325, "user_id": 6118550, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jq2eV.png?s=128&g=1", "display_name": "C_Ogoo", "link": "https://stackoverflow.com/users/6118550/c-ogoo"}, "edited": false, "score": 0, "creation_date": 1574870996, "post_id": 59073911, "comment_id": 104386080, "body": "@c_ogoo Ah so I can define a type which the enum can use?"}, {"owner": {"reputation": 25033, "user_id": 1113002, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CgW7b.png?s=128&g=1", "display_name": "Aleksey L.", "link": "https://stackoverflow.com/users/1113002/aleksey-l"}, "edited": false, "score": 0, "creation_date": 1574872907, "post_id": 59073911, "comment_id": 104387102, "body": "It is not clear what you&#39;re asking. If you want to define parameter of type <code>Environment</code> with default value, it would be <code>function myfunc(environment: Environment = Environment.Development): void {}</code>. no need to define an alias (<code>as _Environment</code>)"}], "answers": [{"comments": [{"owner": {"reputation": 25462, "user_id": 1137669, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/ynWJw.jpg?s=128&g=1", "display_name": "basickarl", "link": "https://stackoverflow.com/users/1137669/basickarl"}, "edited": false, "score": 0, "creation_date": 1574870939, "post_id": 59074079, "comment_id": 104386059, "body": "I&#39;m trying to utilize default parameters in javascript"}], "tags": [], "owner": {"reputation": 1230, "user_id": 11306392, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f712ad3fe37ee35c0f5c2dcaa373f2e3?s=128&d=identicon&r=PG&f=1", "display_name": "Bohdan Stupak", "link": "https://stackoverflow.com/users/11306392/bohdan-stupak"}, "is_accepted": false, "score": 1, "last_activity_date": 1574871153, "last_edit_date": 1574871153, "creation_date": 1574870350, "answer_id": 59074079, "question_id": 59073911, "link": "https://stackoverflow.com/questions/59073911/how-to-inject-enums-in-typescript/59074079#59074079", "title": "How to inject Enums in TypeScript?", "body": "<p>This works fine</p>\n\n<pre><code>function myfunc(Environment: _Environment): void {}\n</code></pre>\n\n<p>However, if you want to utilize default parameters you can try something like this</p>\n\n<pre><code>function myfunc(Environment: _Environment = _Environment.Development): void {}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 25462, "user_id": 1137669, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/ynWJw.jpg?s=128&g=1", "display_name": "basickarl", "link": "https://stackoverflow.com/users/1137669/basickarl"}, "edited": false, "score": 0, "creation_date": 1574928306, "post_id": 59074389, "comment_id": 104404298, "body": "Ah. This makes sense. How would one create a pure function with Enums then, do you know?"}, {"owner": {"reputation": 15749, "user_id": 4420812, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9yQ4D.jpg?s=128&g=1", "display_name": "Maciej Sikora", "link": "https://stackoverflow.com/users/4420812/maciej-sikora"}, "reply_to_user": {"reputation": 25462, "user_id": 1137669, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/ynWJw.jpg?s=128&g=1", "display_name": "basickarl", "link": "https://stackoverflow.com/users/1137669/basickarl"}, "edited": false, "score": 0, "creation_date": 1574933460, "post_id": 59074389, "comment_id": 104406837, "body": "Hi Karl. I don&#39;t fully follow your question. Enum is constant, if you use it inside the function it is still pure. It has enviroment dependency but it is still referential transparent within this enviroment. Feel free to use enums in any pure function."}], "tags": [], "owner": {"reputation": 15749, "user_id": 4420812, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9yQ4D.jpg?s=128&g=1", "display_name": "Maciej Sikora", "link": "https://stackoverflow.com/users/4420812/maciej-sikora"}, "is_accepted": false, "score": 0, "last_activity_date": 1574871884, "last_edit_date": 1574871884, "creation_date": 1574871416, "answer_id": 59074389, "question_id": 59073911, "link": "https://stackoverflow.com/questions/59073911/how-to-inject-enums-in-typescript/59074389#59074389", "title": "How to inject Enums in TypeScript?", "body": "<p><a href=\"https://www.typescriptlang.org/docs/handbook/enums.html\" rel=\"nofollow noreferrer\">Enum</a> is kind of union/variant type. It means that it defines group of possible values, but is not a value itself. Your function has an argument of type <code>Environment</code>, and it means that you can assign one of possible value existing in the enum <code>Enviroment</code>, but not Enum itself as you try to do, as <code>Enviroment</code> itself is not a value but a type.</p>\n\n<pre><code>function myfunc(Environment: Environment = _Environment.Production ): void {}\n</code></pre>\n\n<p>As you can see I am choosing arbitrarily one from possible values in the Enum.</p>\n\n<p>You can look on Enums like on <strong>unions with static structural representation</strong>. It means that:</p>\n\n<pre><code>type T = 'a' | 'b';\nenum TEnum {\n  a = 'a'\n  b = 'b'\n}\n\n// using\nconst a: T = 'a' // direct setting the value\nconst b: TEnum = TEnum.b // using existing enum structure to set the value\n\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 307, "user_id": 7049556, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ec57a690071992c59994e1580e580fd5?s=128&d=identicon&r=PG", "display_name": "ErBu", "link": "https://stackoverflow.com/users/7049556/erbu"}, "is_accepted": false, "score": 0, "last_activity_date": 1574871450, "creation_date": 1574871450, "answer_id": 59074401, "question_id": 59073911, "link": "https://stackoverflow.com/questions/59073911/how-to-inject-enums-in-typescript/59074401#59074401", "title": "How to inject Enums in TypeScript?", "body": "<p>This is how  you would do it. Default envoronment being Development.</p>\n\n<pre><code>export enum Environment {\n    Development = 'Development',\n    Production = 'Production',\n    Test = 'Test'\n}\n\nfunction myfunc(e: Environment = Environment.Development): void {}\n</code></pre>\n"}], "owner": {"reputation": 25462, "user_id": 1137669, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/ynWJw.jpg?s=128&g=1", "display_name": "basickarl", "link": "https://stackoverflow.com/users/1137669/basickarl"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 128, "favorite_count": 0, "answer_count": 3, "score": 1, "last_activity_date": 1574871884, "creation_date": 1574869784, "question_id": 59073911, "link": "https://stackoverflow.com/questions/59073911/how-to-inject-enums-in-typescript", "title": "How to inject Enums in TypeScript?", "body": "<p>How to inject Enums in TypeScript? Is this possible and recommended?</p>\n\n<p>enums.ts:</p>\n\n<pre><code>export enum Environment {\n    Development = 'Development',\n    Production = 'Production',\n    Test = 'Test'\n}\n</code></pre>\n\n<p>file:</p>\n\n<pre><code>import { Environment as _Environment } from '../enums';\nfunction myfunc(Environment: Environment = _Environment): void {}\n</code></pre>\n\n<p>I get:</p>\n\n<pre><code>application/libs/config/index.ts:23:18 - error TS2749: 'Environment' refers to a value, but is being used as a type here.\n\n23     Environment: Environment = _Environment\n</code></pre>\n"}, {"tags": ["typescript", "typescript-typings", "typescript-generics"], "answers": [{"comments": [{"owner": {"reputation": 2034, "user_id": 515035, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/37ab5c5402023c0de6e27b37fce61dbe?s=128&d=identicon&r=PG", "display_name": "Dmitriy", "link": "https://stackoverflow.com/users/515035/dmitriy"}, "edited": false, "score": 1, "creation_date": 1574871344, "post_id": 59074170, "comment_id": 104386286, "body": "It is actually possible to keep current type annotation for <code>Type1</code> but using conditional types to extract field names: <code>type ExtractKeys&lt;T&gt; = T extends {} ? keyof T : never;</code> instead of saying <code>keyof T</code>"}, {"owner": {"reputation": 33, "user_id": 10357418, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-Rqpz06rey34/AAAAAAAAAAI/AAAAAAAAARk/SPFT_A-qtlk/photo.jpg?sz=128", "display_name": "Mikhail Unenov", "link": "https://stackoverflow.com/users/10357418/mikhail-unenov"}, "edited": false, "score": 0, "creation_date": 1574871456, "post_id": 59074170, "comment_id": 104386342, "body": "You help me a lot with such detailed explanation! Thanks!"}, {"owner": {"reputation": 30153, "user_id": 12299000, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0pja9.png?s=128&g=1", "display_name": "kaya3", "link": "https://stackoverflow.com/users/12299000/kaya3"}, "reply_to_user": {"reputation": 2034, "user_id": 515035, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/37ab5c5402023c0de6e27b37fce61dbe?s=128&d=identicon&r=PG", "display_name": "Dmitriy", "link": "https://stackoverflow.com/users/515035/dmitriy"}, "edited": false, "score": 0, "creation_date": 1574872145, "post_id": 59074170, "comment_id": 104386678, "body": "@Dmitriy Good suggestion. However, I just tried replacing <code>K extends keyof T</code> with <code>K extends ExtractKeys&lt;T&gt;</code>, and I can&#39;t get it to infer <code>V</code> as anything other than <code>unknown</code> in the usage examples. The result is that the inferred types at the bottom end up as <code>string</code> and <code>boolean</code> instead of the more specific <code>&#39;test&#39;</code> and <code>true</code> literal types. If you can get it to work, I suggest writing it as an answer to the question. I think the intersection type is needed for the mapping <code>T[K]</code> even if you can get <code>K</code> without it."}], "tags": [], "owner": {"reputation": 30153, "user_id": 12299000, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0pja9.png?s=128&g=1", "display_name": "kaya3", "link": "https://stackoverflow.com/users/12299000/kaya3"}, "is_accepted": false, "score": 3, "last_activity_date": 1574871294, "last_edit_date": 1574871294, "creation_date": 1574870629, "answer_id": 59074170, "question_id": 59073607, "link": "https://stackoverflow.com/questions/59073607/implementing-of-generic-curried-function-using-typescript/59074170#59074170", "title": "Implementing of generic curried function using Typescript", "body": "<p>The problem is that <code>keyof</code> does not distribute over union types. You can verify this by inspecting <code>keyof Type1</code>:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>type KeyOfType1 = keyof Type1;\n// KeyOfType1 = never\n</code></pre>\n\n<p>This happens because an object of type <code>(A | B)</code> is only guaranteed to have the keys in common to both <code>A</code> and <code>B</code>. But <code>Type1</code> is a union of objects with no keys in common, so there are no particular keys a <code>Type1</code> object is guaranteed to have.</p>\n\n<p>So regardless of the type annotations on <code>getFactory</code>, this can't do what you want. You need to change <code>Type1</code> and <code>Type2</code> to intersection types. (If you need the original union types for something else, see <a href=\"https://stackoverflow.com/a/50375286/12299000\">this answer</a> for a way to automatically construct the intersection type from the union type.)</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>type Type1 = Field1 &amp; Field2 &amp; Field4\ntype Type2 = Field2 &amp; Field3 &amp; Field4\n</code></pre>\n\n<p>This works because  <code>keyof (A &amp; B)</code> is equivalent to <code>(keyof A) | (keyof B)</code>, since an <code>A &amp; B</code> object has the all the properties of <code>A</code> and <code>B</code> together in one object.</p>\n\n<p>This fixes the type errors, but the resulting types aren't inferred as specifically as you want, even if we assert <code>{ [field]: value }</code> as the most specific type possible in the <code>getFactory</code> definition:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>const getFactory =\n    &lt;T&gt;(field: keyof T) =&gt;\n        (value: T[keyof T]) =&gt;\n            ({ [field]: value } as { [K in keyof T]: T[K] })\n\nconst field1Factory = getFactory&lt;Type1&gt;('field1')\n\nconst typeField1 = field1Factory('test')\n\n/* typeof typeField1 = {\n    field1: string;\n    field2: boolean;\n    field4: boolean;\n} */\n</code></pre>\n\n<p>This is because <code>field1Factory</code> is called with <code>T = Type1</code>, so its properties are <code>keyof Type1</code> which includes all three field names. To do better, you need another type parameter <code>K extends keyof T</code> for the field name, to infer which specific key of <code>T</code> is being used. You also want the more specific literal type <code>'test'</code> for the value, so you need a third type parameter <code>V extends T[K]</code> for this.</p>\n\n<p>Unfortunately, when a function has multiple type parameters, you can't specify one and let the compiler infer the others. Either you have to write the string literal twice like <code>getFactory&lt;Type1, 'field1'&gt;('field1')</code>, or you can add another layer of currying:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>const getFactory2 =\n    &lt;T&gt;() =&gt;\n        &lt;K extends keyof T&gt;(field: K) =&gt;\n            &lt;V extends T[K]&gt;(value: V) =&gt;\n                ({ [field]: value } as { [k in K]: V })\n\nconst field1Factory = getFactory2&lt;Type1&gt;()('field1')\n\nconst typeField1 = field1Factory('test')\n\n/* typeof typeField1 = {\n    field1: 'test';\n} */\n</code></pre>\n\n<p>Note the extra <code>()</code> in <code>getFactory2&lt;Type1&gt;()('field1')</code>. But at least it infers the correct, most specific type without having to write the field name twice.</p>\n\n<p>The type assertion <code>... as { [k in K]: V }</code> is necessary because <code>{ [field]: ... }</code> will be inferred as <code>[x: string]</code> even when <code>field</code> has the more specific type <code>K</code>.</p>\n\n<p><a href=\"http://www.typescriptlang.org/play/#code/MYewdgzgLgBA5gUygMQIbCiATgTxgXgCgYSYAeAFQD4AKAMwEsEAbAEwC4YBrBHEOmBQCUBKsVISaAN1TMArgk4UA2jz4CKAXRH4xE-aRoBvGMsYtWmzjPkIYAXxioIME8oDSMBmG69+gq0EPTQchQkJQSFhEFHRMXAAmAnESSlodPQNyTwQADygEMFYXNX9qeiY2TncMlKzUgDUYPIKilxV3TVobBU4G2vr641NzNkCeu0dnV1MuLx9OvtDwqBwABztkStYARgIZ0d3OaCxvOAdCVY2YLYsk-APthM4AIxAQZgRUH3tL9c3tgBmfYmQ6AzhgOQAWxeCCwFyuAIsABYQTBDsjXu9Pt8Ef9BP89g9bmw9gAyG5PGAUkmsZF-a4Uf73Sl3amstjAmnbekMuzuXgAeQED1KGkJ4QA9JKYHIIHZgM4EBFwNB0dsdmgMNg8FkHjEtfEcAlKIT0jQAOSHHYWsKRNWHBKGnX1fVIZ2JU0bHbmq1PW0qqLqlEe3UGN2xbWepne30YgOBtXfEBQAAWcNpTriLojoZNMYQCTj-rtqtgYNDrvg7uz0eZxYsgID9tgybTGZ5ldzteNXsLDbYyITLZgiNpez1wdJoctBWgtqy0seFh2nAtc6gFouI7HVMnjpnUCwChE9SXoKenCPCm3ZdH-1pqP3nZ79Fk8tPBnPU7pnDo78mRNYERABBMAU3TLBM32NtIMzGd-2YD8YG-R0-wA28g13RsqwrV9AU-QZUKBThgV+Hd-jAiCOxRGDwPbKCXyjHAaGvBBT2IlEr2PSYgA\" rel=\"nofollow noreferrer\">Playground Link</a></p>\n"}, {"tags": [], "owner": {"reputation": 2034, "user_id": 515035, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/37ab5c5402023c0de6e27b37fce61dbe?s=128&d=identicon&r=PG", "display_name": "Dmitriy", "link": "https://stackoverflow.com/users/515035/dmitriy"}, "is_accepted": true, "score": 1, "last_activity_date": 1574961123, "creation_date": 1574961123, "answer_id": 59093682, "question_id": 59073607, "link": "https://stackoverflow.com/questions/59073607/implementing-of-generic-curried-function-using-typescript/59093682#59093682", "title": "Implementing of generic curried function using Typescript", "body": "<p>@kaya3 provided a great answer and explanation of the topics involved, however you can keep using union types instead of an intersection, by using conditional types do distribute over a union for extracting keys (<code>ExtractKeys</code>) and another conditional type (<code>ExtractValue</code>) to defer the resolution of the value type to call time enable to capture literal (e.g. <code>true</code> instead of <code>boolean</code>). If you don't need that, you can just use <code>T[K]</code> instead.</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>type ExtractKeys&lt;T&gt; = T extends {} ? keyof T : never\ntype ExtractValue&lt;T, K extends string | number | symbol&gt; =\n    T extends { [key in K]: infer U } ? U : never\n\nconst getFactory =\n    &lt;T&gt;() =&gt;\n        &lt;K extends ExtractKeys&lt;T&gt;&gt;(field: K) =&gt;\n            &lt;V extends ExtractValue&lt;T, K&gt;&gt;(value: V) =&gt;\n                ({ [field]: value } as {[k in K]: V})\n</code></pre>\n"}], "owner": {"reputation": 33, "user_id": 10357418, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-Rqpz06rey34/AAAAAAAAAAI/AAAAAAAAARk/SPFT_A-qtlk/photo.jpg?sz=128", "display_name": "Mikhail Unenov", "link": "https://stackoverflow.com/users/10357418/mikhail-unenov"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 100, "favorite_count": 0, "accepted_answer_id": 59093682, "answer_count": 2, "score": 1, "last_activity_date": 1574961123, "creation_date": 1574868732, "question_id": 59073607, "link": "https://stackoverflow.com/questions/59073607/implementing-of-generic-curried-function-using-typescript", "title": "Implementing of generic curried function using Typescript", "body": "<p>I'm trying to implement generic function. JS analog of this function is:</p>\n\n<pre><code>const getFactory = (field) =&gt; (value) =&gt; ({ [field]: value })\n</code></pre>\n\n<p>use case:</p>\n\n<pre><code>// types\ntype Field1 = { field1: string }\ntype Field2 = { field2: boolean }\ntype Field3 = { field3: number }\ntype Field4 = { field4: boolean }\ntype Type1 = Field1 | Field2 | Field4\ntype Type2 = Field2 | Field3 | Field4\n\n// use case\nconst field1Factory        = getFactory&lt;Type1&gt;('field1')\nconst field2Factory        = getFactory&lt;Type1&gt;('field2')\nconst field4Factory        = getFactory&lt;Type1&gt;('field4')\n\nconst anotherField2Factory = getFactory&lt;Type2&gt;('field2')\nconst field3Factory        = getFactory&lt;Type2&gt;('field3')\nconst anotherField4Factory = getFactory&lt;Type2&gt;('field4')\n\nconst typeField1        = field1Factory('test')       // { field1: 'test' }\nconst typeField2        = field2Factory(true)         // { field2: true }\nconst typeField4        = field4Factory(false)        // { field4: false }\nconst typeAnotherField2 = anotherField2Factory(false) // { field2: false }\nconst typeField3        = field3Factory(3)            // { field3: 3 }\nconst typeAnotherField4 = anotherField4Factory(true)  // { field4: true }\n</code></pre>\n\n<p>I supposed it maybe looks like this:</p>\n\n<pre><code>const getFactory = &lt;Type extends {}&gt;(field: keyof Type) =&gt; (value: Type[keyof Type]) =&gt; ({ [field]: value })\n\n</code></pre>\n\n<p>but when I trying to get factory (const field1Factory = getFactory('field1')) there is an Error:</p>\n\n<pre><code>Argument of type '\"field1\"' is not assignable to parameter of type 'never'.(2345)\n</code></pre>\n"}, {"tags": ["typescript", "vue.js", "vue-component", "vue-class-components"], "answers": [{"tags": [], "owner": {"reputation": 918, "user_id": 1196358, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/c6a9bec30355b7d5d293fa176cd800b0?s=128&d=identicon&r=PG", "display_name": "ghukill", "link": "https://stackoverflow.com/users/1196358/ghukill"}, "is_accepted": false, "score": 0, "last_activity_date": 1574868596, "creation_date": 1574868596, "answer_id": 59073567, "question_id": 59073356, "link": "https://stackoverflow.com/questions/59073356/typing-prop-in-vue-class-based-component-in-typescript/59073567#59073567", "title": "typing prop in Vue class-based component in typescript", "body": "<p>I'm not entirely sure how I missed this, or how sustainable this feels, but found a solution.</p>\n\n<p>Trick was to use <code>@Prop</code> decorator.  The following compiles without error:</p>\n\n<pre><code>&lt;script lang=\"ts\"&gt;\nimport { Component, Prop, Vue } from 'vue-property-decorator'\n@Component({\n  components: {}\n\n  // &lt;--------------- props removed from here...\n\n})\nexport default class Foo extends Vue {\n\n  @Prop(String) status!: string // &lt;--------- use @Prop decorator to type and capture prop from parent\n\n  get statusToBuefyClass(): string {\n    const statusHash: {\n      init: string\n      active: string\n      inactive: string\n      archived: string\n    } = {\n      init: 'is-warning',\n      active: 'is-success',\n      inactive: '',\n      archived: 'is-danger'\n    }\n\n    // return statusHash\n    return Object(statusHash)[this.status] // &lt;------- no more compilation errors here\n  }\n\n  mounted() {}\n}\n&lt;/script&gt;\n</code></pre>\n"}], "owner": {"reputation": 918, "user_id": 1196358, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/c6a9bec30355b7d5d293fa176cd800b0?s=128&d=identicon&r=PG", "display_name": "ghukill", "link": "https://stackoverflow.com/users/1196358/ghukill"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 160, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1574868596, "creation_date": 1574867989, "question_id": 59073356, "link": "https://stackoverflow.com/questions/59073356/typing-prop-in-vue-class-based-component-in-typescript", "title": "typing prop in Vue class-based component in typescript", "body": "<p>Working on a class based component in a typescript context, and wondering about a typescript error I keep encountering.</p>\n\n<p>The following is my component code:</p>\n\n<pre><code>&lt;template&gt;\n  &lt;b-message :type=\"statusToBuefyClass\"&gt;\n    &lt;p&gt;PLACEHOLDER&lt;/p&gt;\n  &lt;/b-message&gt;\n&lt;/template&gt;\n&lt;script lang=\"ts\"&gt;\nimport { Component, Vue } from 'vue-property-decorator'\n@Component({\n  components: {},\n  props: {       &lt;----------------- typed prop\n    status: {\n      type: String,\n      required: false\n    }\n  }\n})\nexport default class Foo extends Vue {\n\n  // explicitly type status\n  status!: string         &lt;----------------- explicit, redundant typing\n\n  get statusToBuefyClass(): string {\n    const statusHash: {\n      init: string\n      active: string\n      inactive: string\n      archived: string\n    } = {\n      init: 'is-warning',\n      active: 'is-success',\n      inactive: '',\n      archived: 'is-danger'\n    }\n\n    // return statusHash\n    return Object(statusHash)[this.status]  &lt;------ error is triggered by this\n  }\n\n  bar = this.status &lt;------------- this would also error, if not explicitly typed above\n\n  mounted() {}\n}\n&lt;/script&gt;\n</code></pre>\n\n<p>The above works without compilation errors.  But, if I remove the explicit typing of <code>status</code> -- <code>status!: string</code> -- I get the following error:</p>\n\n<pre><code>Property 'status' does not exist on type 'Foo'.\n</code></pre>\n\n<p>I've found numerous article and issues that are similar, but none seem to quite match my situation.  In my <code>tsconfig.json</code>, I have the following set, which some posts suggested could help:</p>\n\n<pre><code>\"strict\": true,\n\"noImplicitThis\": true,\n</code></pre>\n\n<p>Any thoughts or insight?  Is there an alternative to passing props AND then typing them again inside <code>export default class Foo extends Vue {...</code>?</p>\n"}, {"tags": ["angular", "typescript", "button", "angular-material"], "comments": [{"owner": {"reputation": 37, "user_id": 12446612, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-xrmFMLozW7w/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3redi3eDlfeHSGc54VqMStwfSNLB5g/photo.jpg?sz=128", "display_name": "Pangelo", "link": "https://stackoverflow.com/users/12446612/pangelo"}, "edited": false, "score": 0, "creation_date": 1574868006, "post_id": 59073025, "comment_id": 104384457, "body": "I solved, thanks guys"}], "answers": [{"tags": [], "owner": {"reputation": 20573, "user_id": 1643676, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/418606a9471058ad35cb48144e582371?s=128&d=identicon&r=PG", "display_name": "Athanasios Kataras", "link": "https://stackoverflow.com/users/1643676/athanasios-kataras"}, "is_accepted": false, "score": 0, "last_activity_date": 1574867546, "creation_date": 1574867546, "answer_id": 59073230, "question_id": 59073025, "link": "https://stackoverflow.com/questions/59073025/how-do-i-take-the-id-item-at-the-click-of-a-button-in-an-angular-table/59073230#59073230", "title": "How do I take the ID item at the click of a button in an Angular table?", "body": "<p>It's because they are different event types. Consider this:</p>\n\n<p>When your <code>ClickEvent</code> object is sent to your first implementation, there is no values to consider on the event.</p>\n\n<p>When the <code>ChangeEvent</code> object is passed, then there is a value as there is a value attribute on dropdown to refer to.</p>\n"}, {"tags": [], "owner": {"reputation": 475, "user_id": 12307613, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5lF8B.png?s=128&g=1", "display_name": "gsa.interactive", "link": "https://stackoverflow.com/users/12307613/gsa-interactive"}, "is_accepted": false, "score": 0, "last_activity_date": 1574867916, "creation_date": 1574867916, "answer_id": 59073340, "question_id": 59073025, "link": "https://stackoverflow.com/questions/59073025/how-do-i-take-the-id-item-at-the-click-of-a-button-in-an-angular-table/59073340#59073340", "title": "How do I take the ID item at the click of a button in an Angular table?", "body": "<p>you get a value on a Dropdown element because it has a value on selection or change event that is connected to the dropdown. But the Button itself will only pass the raw click-event. This is the reason why you have a \"undefined\" on the \"event.value\" key.</p>\n\n<p>Hope this helps.</p>\n\n<p>Just console the event like: </p>\n\n<p>console.log(event);</p>\n\n<p>Then you its easier to understand, what's happening.</p>\n"}], "owner": {"reputation": 37, "user_id": 12446612, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-xrmFMLozW7w/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3redi3eDlfeHSGc54VqMStwfSNLB5g/photo.jpg?sz=128", "display_name": "Pangelo", "link": "https://stackoverflow.com/users/12446612/pangelo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 306, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1598381066, "creation_date": 1574866862, "last_edit_date": 1598381066, "question_id": 59073025, "link": "https://stackoverflow.com/questions/59073025/how-do-i-take-the-id-item-at-the-click-of-a-button-in-an-angular-table", "title": "How do I take the ID item at the click of a button in an Angular table?", "body": "<p>I have a table with a list of items and a button to show me the details:</p>\n\n<p>HTML</p>\n\n<pre><code>&lt;ng-container matColumnDef=\"details\"&gt;\n   &lt;mat-header-cell *matHeaderCellDef mat-sort-header&gt; Details&lt;/mat-header-cell&gt;\n       &lt;mat-cell *matCellDef=\"let row\"&gt; \n           &lt;button mat-button color=\"primary\" (click)=\"getDetails($event)\"&gt;Details&lt;/button&gt;\n       &lt;/mat-cell&gt;\n&lt;/ng-container&gt;\n</code></pre>\n\n<p>TS</p>\n\n<pre><code>getDetails(event) {\n  this.filter.type= \"items2\"\n  this.filter.filterObject= event.value;\n  this.commonService.searchClientiClick(this.filter);\n  console.log(event.value);\n}\n</code></pre>\n\n<p>The result of console.log(event.value) is UNDEFINED.</p>\n\n<p>But when I use a dropdown-menu like this:</p>\n\n<p>HTML</p>\n\n<pre><code>&lt;p-dropdown [options]=\"DropDownItem\"  filter=\"true\"    (onChange)=\"onChangeItem($event)\"  \n            [(ngModel)]=\"selectedItem\" &gt;\n&lt;/p-dropdown&gt;\n</code></pre>\n\n<p>TS</p>\n\n<pre><code>onChangeItem(event) {\n   this.filter.type= \"items\";\n   this.filter.filterObject= event.value;\n   this.commonService.searchClientiClick(this.filter);\n}\n</code></pre>\n\n<p>It works! Takes the ID correctly.\nWhy? Where am I wrong?</p>\n"}, {"tags": ["javascript", "angular", "typescript"], "comments": [{"owner": {"reputation": 1137, "user_id": 7564182, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/WkQwy.jpg?s=128&g=1", "display_name": "Myonara", "link": "https://stackoverflow.com/users/7564182/myonara"}, "edited": false, "score": 0, "creation_date": 1574866147, "post_id": 59072750, "comment_id": 104383375, "body": "is there a &quot; in <code>formControlName=&quot;firstValue</code> missing?"}, {"owner": {"reputation": 3015, "user_id": 8318091, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/S9Vn3.jpg?s=128&g=1", "display_name": "Saurabh Yadav", "link": "https://stackoverflow.com/users/8318091/saurabh-yadav"}, "edited": false, "score": 0, "creation_date": 1574866154, "post_id": 59072750, "comment_id": 104383384, "body": "formControlName=&quot;firstValue&quot;  quotes is missing"}, {"owner": {"reputation": 69, "user_id": 5080747, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b6a13dac138b8dd1914bb6e492a15dbf?s=128&d=identicon&r=PG&f=1", "display_name": "aosh5", "link": "https://stackoverflow.com/users/5080747/aosh5"}, "edited": false, "score": 0, "creation_date": 1574866371, "post_id": 59072750, "comment_id": 104383508, "body": "My bad, didn&#39;t paste it right. I edited it."}], "answers": [{"comments": [{"owner": {"reputation": 69, "user_id": 5080747, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b6a13dac138b8dd1914bb6e492a15dbf?s=128&d=identicon&r=PG&f=1", "display_name": "aosh5", "link": "https://stackoverflow.com/users/5080747/aosh5"}, "edited": false, "score": 0, "creation_date": 1574866814, "post_id": 59072910, "comment_id": 104383779, "body": "When I click on submit on your demo (without writing into the textarea), the firstValue attribute is empty in the console. But it shouldn&#39;t, it should show the value input"}, {"owner": {"reputation": 3015, "user_id": 8318091, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/S9Vn3.jpg?s=128&g=1", "display_name": "Saurabh Yadav", "link": "https://stackoverflow.com/users/8318091/saurabh-yadav"}, "reply_to_user": {"reputation": 69, "user_id": 5080747, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b6a13dac138b8dd1914bb6e492a15dbf?s=128&d=identicon&r=PG&f=1", "display_name": "aosh5", "link": "https://stackoverflow.com/users/5080747/aosh5"}, "edited": false, "score": 0, "creation_date": 1574867429, "post_id": 59072910, "comment_id": 104384143, "body": "Attributes are defined by HTML. Properties are accessed from DOM (Document Object Model) nodes. The HTML attribute value specifies the initial value; the DOM value property is the current value."}, {"owner": {"reputation": 3015, "user_id": 8318091, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/S9Vn3.jpg?s=128&g=1", "display_name": "Saurabh Yadav", "link": "https://stackoverflow.com/users/8318091/saurabh-yadav"}, "reply_to_user": {"reputation": 69, "user_id": 5080747, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b6a13dac138b8dd1914bb6e492a15dbf?s=128&d=identicon&r=PG&f=1", "display_name": "aosh5", "link": "https://stackoverflow.com/users/5080747/aosh5"}, "edited": false, "score": 0, "creation_date": 1574867588, "post_id": 59072910, "comment_id": 104384241, "body": "I recommend to read this once <a href=\"https://angular.io/guide/template-syntax#html-attribute-vs-dom-property\" rel=\"nofollow noreferrer\">angular.io/guide/template-syntax#html-attribute-vs-dom-prope&zwnj;&#8203;rty</a>, it helps you to understand better"}], "tags": [], "owner": {"reputation": 3015, "user_id": 8318091, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/S9Vn3.jpg?s=128&g=1", "display_name": "Saurabh Yadav", "link": "https://stackoverflow.com/users/8318091/saurabh-yadav"}, "is_accepted": false, "score": 0, "last_activity_date": 1574868716, "last_edit_date": 1574868716, "creation_date": 1574866495, "answer_id": 59072910, "question_id": 59072750, "link": "https://stackoverflow.com/questions/59072750/angular-define-default-value-input-formfield-in-a-formgroup/59072910#59072910", "title": "Angular: Define default value input FormField in a FormGroup", "body": "<p>Template file : your <code>formNameControl</code> is not correct:</p>\n\n<p>You can look this <a href=\"https://stackblitz.com/edit/angular-zfbbqs\" rel=\"nofollow noreferrer\">demo</a> may this helps you !</p>\n\n<pre><code>  &lt;form [formGroup]=\"entryForm\" (ngSubmit)=\"onSubmit()\"&gt;\n         &lt;div class=\"lang\"&gt;\n                &lt;div class=\"lang-col\"&gt;\n                      &lt;textarea  formControlName=\"firstValue\"&gt;   &lt;/textarea&gt;\n\n                &lt;/div&gt;\n                &lt;button type=\"submit\"&gt;Submit&lt;/button&gt;\n          &lt;/div&gt;\n    &lt;/form&gt;\n</code></pre>\n\n<p>Class file </p>\n\n<pre><code>entryForm: FormGroup;\n  ngOnInit() {\n    this.entryForm = new FormGroup({\n      firstValue: new FormControl('Test...')\n    });\n  }\n\n  onSubmit() {\n    console.log(this.entryForm.value);\n  }\n</code></pre>\n\n<p>or you can check if <code>formControlName</code> is empty then set defualt value</p>\n\n<pre><code>  onSubmit() {\n\n    if(this.entryForm.get('firstValue').value == \"\") {\n      this.entryForm.patchValue({\n        firstValue: 'Your defualt value goes here'\n      }); \n    }\n    console.log(this.entryForm.value);\n  }\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 8183, "user_id": 5148197, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/7F7nc.jpg?s=128&g=1", "display_name": "Ricardo Rocha", "link": "https://stackoverflow.com/users/5148197/ricardo-rocha"}, "is_accepted": false, "score": 0, "last_activity_date": 1574867131, "creation_date": 1574867131, "answer_id": 59073102, "question_id": 59072750, "link": "https://stackoverflow.com/questions/59072750/angular-define-default-value-input-formfield-in-a-formgroup/59073102#59073102", "title": "Angular: Define default value input FormField in a FormGroup", "body": "<p>Change this:</p>\n\n<pre><code>firstValue: new FormControl('')\n</code></pre>\n\n<p>To this:</p>\n\n<pre><code>firstValue: new FormControl('Test...')\n</code></pre>\n\n<p>And remove the property value from the text-area:</p>\n\n<pre><code>&lt;textarea formControlName=\"firstValue\"&gt;&lt;/textarea&gt;\n</code></pre>\n\n<p><a href=\"https://stackblitz.com/edit/angular-ygcavn?embed=1&amp;file=src/app/app.component.ts\" rel=\"nofollow noreferrer\">Here</a>, you can find a full working example (based on <a href=\"https://stackoverflow.com/a/59072910/5148197\">this</a> answer)</p>\n\n<p><strong>Note:</strong></p>\n\n<p>The problem with this approach is the initial Textarea value will be the \"Test...\", meaning the user will see such text.</p>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 12444269, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8cf105763d11a9ce9dac8906517da925?s=128&d=identicon&r=PG&f=1", "display_name": "foch", "link": "https://stackoverflow.com/users/12444269/foch"}, "is_accepted": false, "score": 0, "last_activity_date": 1574867427, "creation_date": 1574867427, "answer_id": 59073192, "question_id": 59072750, "link": "https://stackoverflow.com/questions/59072750/angular-define-default-value-input-formfield-in-a-formgroup/59073192#59073192", "title": "Angular: Define default value input FormField in a FormGroup", "body": "<p>problem in assignment.\nyou have to assign value of youre entry form after class definition, like this    </p>\n\n<pre><code>export class MyComponent implements OnInit{\n    public entryForm: FormGroup = new FormGroup({\n        firsValue: new formControl('')\n    });\n    constructor()\n    ngOnInit()\n}\n</code></pre>\n"}], "owner": {"reputation": 69, "user_id": 5080747, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b6a13dac138b8dd1914bb6e492a15dbf?s=128&d=identicon&r=PG&f=1", "display_name": "aosh5", "link": "https://stackoverflow.com/users/5080747/aosh5"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 614, "favorite_count": 0, "answer_count": 3, "score": 2, "last_activity_date": 1574868716, "creation_date": 1574866000, "last_edit_date": 1574867525, "question_id": 59072750, "link": "https://stackoverflow.com/questions/59072750/angular-define-default-value-input-formfield-in-a-formgroup", "title": "Angular: Define default value input FormField in a FormGroup", "body": "<p>As can be seen in the code below, I'm setting the default value to an text-area:</p>\n\n<pre><code>&lt;form [formGroup]=\"entryForm\" (ngSubmit)=\"onSubmit()\"&gt;\n     &lt;div class=\"view\"&gt;\n            &lt;div class=\"col\"&gt;\n                        &lt;mat-form-field&gt;\n                            &lt;textarea matInput value=\"Test...\" formControlName=\"firstValue\"&gt;&lt;/textarea&gt;\n                        &lt;/mat-form-field&gt;\n            &lt;/div&gt;\n            &lt;button type=\"submit\"&gt;Submit&lt;/button&gt;\n      &lt;/div&gt;\n&lt;/form&gt;\n</code></pre>\n\n<p>And i'm initialize my FormGroup and FormFields like this:</p>\n\n<pre><code>ngOnInit() {\n this.entryForm = new FormGroup({\n   firstValue: new FormControl('')\n });\n}\n\npublic onSubmit() {\n  console.log(this.entryForm.value);\n}\n</code></pre>\n\n<p>But when I click on submit, the value of <code>firstValue</code> appears to be empty and not with the \"Test...\" value, like is been defined in the dom element.</p>\n"}, {"tags": ["angular", "typescript", "firebase", "google-cloud-firestore", "angularfire"], "answers": [{"tags": [], "owner": {"reputation": 409, "user_id": 8468233, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f0316f8901eece68a9fc74ff71ba1dee?s=128&d=identicon&r=PG&f=1", "display_name": "Tobias Kaufmann", "link": "https://stackoverflow.com/users/8468233/tobias-kaufmann"}, "is_accepted": false, "score": 2, "last_activity_date": 1574876294, "creation_date": 1574876294, "answer_id": 59075684, "question_id": 59072645, "link": "https://stackoverflow.com/questions/59072645/best-way-to-get-4-documents-with-one-query/59075684#59075684", "title": "Best way to get 4 documents with one query?", "body": "<p>You can use the Angularfire <code>leftJoin(afs, joinKey, joinCollection, limit=100)</code> function for this.</p>\n\n<pre><code>const reservations$ = this.afs.collection('reservations', ref =&gt; ref.where('uid', '==', userID)).valueChanges();\nconst reservationsServices$ = reservations$.pipe( \n  leftJoin(afs, 'serviceid', 'services') \n)\n</code></pre>\n\n<p>See a detailed description <a href=\"https://angularfirebase.com/lessons/firestore-joins-similar-to-sql/\" rel=\"nofollow noreferrer\">here</a>.</p>\n"}, {"tags": [], "owner": {"reputation": 35, "user_id": 11918246, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/90a6ba7a9f046ec15f6860f301d0de11?s=128&d=identicon&r=PG&f=1", "display_name": "symfonyBeginner", "link": "https://stackoverflow.com/users/11918246/symfonybeginner"}, "is_accepted": false, "score": 0, "last_activity_date": 1574942576, "last_edit_date": 1574942576, "creation_date": 1574941832, "answer_id": 59088249, "question_id": 59072645, "link": "https://stackoverflow.com/questions/59072645/best-way-to-get-4-documents-with-one-query/59088249#59088249", "title": "Best way to get 4 documents with one query?", "body": "<p>If someone looking for fast solution to join query i suggest to use:\n<a href=\"https://github.com/AngularFirebase/133-firestore-joins-custom-rx-operators\" rel=\"nofollow noreferrer\">https://github.com/AngularFirebase/133-firestore-joins-custom-rx-operators</a></p>\n\n<p>in my case, i used leftJoinDocument. Here's code:</p>\n\n<pre><code>\n  leftJoinDocument(field, collection) {\n    return source =&gt;\n      defer(() =&gt; {\n        let collectionData;\n        const cache = new Map();\n\n        return source.pipe(\n          switchMap(data =&gt; {\n            cache.clear();\n\n            collectionData = data as any[];\n\n            const reads$ = [];\n            let i = 0;\n            for (const doc of collectionData) {\n              if (!doc[field] || cache.get(doc[field])) {\n                continue;\n              }\n\n              reads$.push(\n                this.afs\n                  .collection(collection)\n                  .doc(doc[field])\n                  .valueChanges()\n              );\n              cache.set(doc[field], i);\n              i++;\n            }\n\n            return reads$.length ? combineLatest(reads$) : of([]);\n          }),\n          map(joins =&gt; {\n            return collectionData.map((v, i) =&gt; {\n              const joinIdx = cache.get(v[field]);\n              return { ...v, [field]: joins[joinIdx] || null };\n            });\n          }),\n          tap(final =&gt;\n            console.log(\n              `Queried ${(final as any).length}, Joined ${cache.size} docs`\n            )\n          )\n        );\n      });\n</code></pre>\n\n<p>then in my page module:</p>\n\n<pre><code>  getClientReservations() {\n    this.reservations = this.afs.collection('reservations', ref =&gt; ref.where('uid', '==', 'MwdM8bak78eE1omf6u04KtqlE2X2'))\n      .valueChanges()\n      .pipe(\n        this.db.leftJoinDocument('uid', 'users'),\n        this.db.leftJoinDocument('serviceid', 'services'),\n        this.db.leftJoinDocument('venueid', 'venue')\n      );\n  }\n</code></pre>\n\n<p>Thank you tobias for providing me hint :)</p>\n"}], "owner": {"reputation": 35, "user_id": 11918246, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/90a6ba7a9f046ec15f6860f301d0de11?s=128&d=identicon&r=PG&f=1", "display_name": "symfonyBeginner", "link": "https://stackoverflow.com/users/11918246/symfonybeginner"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 135, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1574942576, "creation_date": 1574865658, "last_edit_date": 1574894348, "question_id": 59072645, "link": "https://stackoverflow.com/questions/59072645/best-way-to-get-4-documents-with-one-query", "title": "Best way to get 4 documents with one query?", "body": "<p>I'm using Firebase and angularfire (latest version). My data model is:</p>\n\n<pre><code>VENUES {\n   [venue.id] {\n      name: string\n   }\n}\n\nSERVICES {\n   [document.id] {\n      venueid: string\n      name: string\n      price: number\n   }\n}\n\nUSERS {\n   [user.id] {\n      name: string;\n      phone: number;\n   }\n}\n\nRESERVATIONS {\n   [document.id] {\n      uid: &lt;--- userID from users\n      serviceid: &lt;--- id of document from services collection\n      name: string;\n   }\n}\n</code></pre>\n\n<p>So basically i need to show all of users reservations in my template:\n{{reservations.service.name}} {{reservations.venue.name}} etc. The \"main key\" is userid. \nI created helper, to get single documents:</p>\n\n<pre><code>  doc$(path: string): Observable&lt;any&gt; {\n    return this.afs\n      .doc(path)\n      .snapshotChanges()\n      .pipe(\n        map(doc =&gt; {\n          return { id: doc.payload.id, ...doc.payload.data() };\n        })\n      );\n  }\n</code></pre>\n\n<p>so its working when i need to get one document. To get all of reservations im using reference:</p>\n\n<pre><code>const $reservations = this.afs.collection('reservations', ref =&gt; ref.where('uid', '==', userID)).valueChanges();\n</code></pre>\n\n<p>and i get all of documents from resevations collection with provided uid.</p>\n\n<p>I started working with nosql a few days ago. I do some research with switchmap, map, combinelatest(), but i dont know how to use it.</p>\n\n<p>My questions is: How to combine all observables into one getting all documents based on userid?\nI need to get document from reservations collection where userid, user data and service data (based on reservations.serviceid == services.document.id)</p>\n\n<p>Thank you in advance!</p>\n\n<p>btw.</p>\n\n<p>i tried to use:</p>\n\n<pre><code>    const $reservations = this.afs.collection('reservations', ref =&gt; ref.where('uid', '==', userID)).valueChanges();\n    const $services = this.afs.collection('services').valueChanges();\n\n    return combineLatest($reservations, $services).pipe(\n      map(([reservations, services]) =&gt; [...reservations, ...services])\n    )\n</code></pre>\n\n<p>but it only allow me combine pipes with ref.where (i dont know serviceid until i get reservations)</p>\n"}, {"tags": ["node.js", "typescript", "azure", "botframework"], "comments": [{"owner": {"reputation": 2159, "user_id": 10002118, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/IvgFr.png?s=128&g=1", "display_name": "JJ_Wailes", "link": "https://stackoverflow.com/users/10002118/jj-wailes"}, "edited": false, "score": 0, "creation_date": 1574872208, "post_id": 59072585, "comment_id": 104386717, "body": "If you recent made a bot purely on azure, and it works, but this bot is created locally and deployed, but doesn&#39;t, then something went sideways in the deployment. How did you deploy your bot?"}, {"owner": {"reputation": 43, "user_id": 12274139, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f4985dee3d62bc918a71924259d8a145?s=128&d=identicon&r=PG&f=1", "display_name": "123me", "link": "https://stackoverflow.com/users/12274139/123me"}, "reply_to_user": {"reputation": 2159, "user_id": 10002118, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/IvgFr.png?s=128&g=1", "display_name": "JJ_Wailes", "link": "https://stackoverflow.com/users/10002118/jj-wailes"}, "edited": false, "score": 0, "creation_date": 1574875549, "post_id": 59072585, "comment_id": 104388432, "body": "Hi @JJ_Wailes I deployed it using <code>az webapp deployment source config-zip --resource-group &quot;&lt;resouce-group-name&gt;&quot; --name &quot;&lt;bot-resource-name&gt;&quot; --src &quot;allfiles.zip&quot; </code>"}, {"owner": {"reputation": 43, "user_id": 12274139, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f4985dee3d62bc918a71924259d8a145?s=128&d=identicon&r=PG&f=1", "display_name": "123me", "link": "https://stackoverflow.com/users/12274139/123me"}, "reply_to_user": {"reputation": 2159, "user_id": 10002118, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/IvgFr.png?s=128&g=1", "display_name": "JJ_Wailes", "link": "https://stackoverflow.com/users/10002118/jj-wailes"}, "edited": false, "score": 0, "creation_date": 1574878296, "post_id": 59072585, "comment_id": 104389682, "body": "This is the way I&#39;ve previously deployed it"}, {"owner": {"reputation": 9331, "user_id": 2122672, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/KWgWC.jpg?s=128&g=1", "display_name": "Kyle Delaney", "link": "https://stackoverflow.com/users/2122672/kyle-delaney"}, "edited": false, "score": 0, "creation_date": 1575248916, "post_id": 59072585, "comment_id": 104490986, "body": "Are you still working on this?"}, {"owner": {"reputation": 43, "user_id": 12274139, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f4985dee3d62bc918a71924259d8a145?s=128&d=identicon&r=PG&f=1", "display_name": "123me", "link": "https://stackoverflow.com/users/12274139/123me"}, "edited": false, "score": 0, "creation_date": 1575296339, "post_id": 59072585, "comment_id": 104508249, "body": "Yes I am still working on it"}, {"owner": {"reputation": 9331, "user_id": 2122672, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/KWgWC.jpg?s=128&g=1", "display_name": "Kyle Delaney", "link": "https://stackoverflow.com/users/2122672/kyle-delaney"}, "edited": false, "score": 0, "creation_date": 1575305128, "post_id": 59072585, "comment_id": 104512895, "body": "We&#39;re going to need some more information to diagnose your issue. Are you using memory storage? Can you try debugging the code locally while still connecting to Web Chat with <a href=\"https://blog.botframework.com/2017/10/19/debug-channel-locally-using-ngrok/\" rel=\"nofollow noreferrer\">ngrok</a>?"}, {"owner": {"reputation": 43, "user_id": 12274139, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f4985dee3d62bc918a71924259d8a145?s=128&d=identicon&r=PG&f=1", "display_name": "123me", "link": "https://stackoverflow.com/users/12274139/123me"}, "reply_to_user": {"reputation": 9331, "user_id": 2122672, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/KWgWC.jpg?s=128&g=1", "display_name": "Kyle Delaney", "link": "https://stackoverflow.com/users/2122672/kyle-delaney"}, "edited": false, "score": 0, "creation_date": 1575311353, "post_id": 59072585, "comment_id": 104515489, "body": "@KyleDelaney I&#39;ve used Memory Storage on previous deployments and they work. On this deployment  I&#39;ve changed the Memory Storage to use Cosmos DB. I am able to deploy the older version of my code and they work fine. I&#39;m working on getting ngrok now"}, {"owner": {"reputation": 9331, "user_id": 2122672, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/KWgWC.jpg?s=128&g=1", "display_name": "Kyle Delaney", "link": "https://stackoverflow.com/users/2122672/kyle-delaney"}, "edited": false, "score": 0, "creation_date": 1575311705, "post_id": 59072585, "comment_id": 104515664, "body": "@123me - If you continue to use memory storage in deployed bots, you will likely start to encounter issues that are very hard to diagnose. Memory storage is not an option for deployed bots, even if the bots seem to be working for now."}, {"owner": {"reputation": 43, "user_id": 12274139, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f4985dee3d62bc918a71924259d8a145?s=128&d=identicon&r=PG&f=1", "display_name": "123me", "link": "https://stackoverflow.com/users/12274139/123me"}, "reply_to_user": {"reputation": 9331, "user_id": 2122672, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/KWgWC.jpg?s=128&g=1", "display_name": "Kyle Delaney", "link": "https://stackoverflow.com/users/2122672/kyle-delaney"}, "edited": false, "score": 0, "creation_date": 1575421457, "post_id": 59072585, "comment_id": 104558505, "body": "@KyleDelaney I tried running with ngrok deployed locally and got nothing. I also tried connecting with the Emulator to my bot deployed on Azure and got an error saying &#39;An error occured while POSTing&quot;/INSPECT open&quot; command to Conversation xxxxxxxxxxxxxxxxx|livechat"}, {"owner": {"reputation": 9331, "user_id": 2122672, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/KWgWC.jpg?s=128&g=1", "display_name": "Kyle Delaney", "link": "https://stackoverflow.com/users/2122672/kyle-delaney"}, "edited": false, "score": 0, "creation_date": 1576177762, "post_id": 59072585, "comment_id": 104824578, "body": "@123me - What do you mean when you say you &quot;got nothing&quot;? Are you saying you ran your bot in debug mode locally and connected to the bot in Web Chat using ngrok but you didn&#39;t encounter the 500 error? So Web Chat works fine using a tunneled ngrok endpoint but not when using a deployed Azure Websites endpoint?"}, {"owner": {"reputation": 9331, "user_id": 2122672, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/KWgWC.jpg?s=128&g=1", "display_name": "Kyle Delaney", "link": "https://stackoverflow.com/users/2122672/kyle-delaney"}, "edited": false, "score": 0, "creation_date": 1576350974, "post_id": 59072585, "comment_id": 104874422, "body": "@123me - Are you still working on this?"}], "answers": [{"comments": [{"owner": {"reputation": 43, "user_id": 12274139, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f4985dee3d62bc918a71924259d8a145?s=128&d=identicon&r=PG&f=1", "display_name": "123me", "link": "https://stackoverflow.com/users/12274139/123me"}, "edited": false, "score": 0, "creation_date": 1574954581, "post_id": 59079880, "comment_id": 104418299, "body": "I wrote my bot in Typescript the <code>az bot prepare-deploy</code> command doesn&#39;t need a <code>--proj-file-path</code> instead it uses a src folder instead of a .csproj"}, {"owner": {"reputation": 9331, "user_id": 2122672, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/KWgWC.jpg?s=128&g=1", "display_name": "Kyle Delaney", "link": "https://stackoverflow.com/users/2122672/kyle-delaney"}, "reply_to_user": {"reputation": 43, "user_id": 12274139, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f4985dee3d62bc918a71924259d8a145?s=128&d=identicon&r=PG&f=1", "display_name": "123me", "link": "https://stackoverflow.com/users/12274139/123me"}, "edited": false, "score": 0, "creation_date": 1575061586, "post_id": 59079880, "comment_id": 104453053, "body": "@123me - Okay, but what&#39;s in your .deployment file?"}, {"owner": {"reputation": 43, "user_id": 12274139, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f4985dee3d62bc918a71924259d8a145?s=128&d=identicon&r=PG&f=1", "display_name": "123me", "link": "https://stackoverflow.com/users/12274139/123me"}, "edited": false, "score": 0, "creation_date": 1575296531, "post_id": 59079880, "comment_id": 104508344, "body": "This is in my .deployment file <code>[config] SCM_DO_BUILD_DURING_DEPLOYMENT=true</code>"}], "tags": [], "owner": {"reputation": 9331, "user_id": 2122672, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/KWgWC.jpg?s=128&g=1", "display_name": "Kyle Delaney", "link": "https://stackoverflow.com/users/2122672/kyle-delaney"}, "is_accepted": false, "score": 0, "last_activity_date": 1574898059, "creation_date": 1574898059, "answer_id": 59079880, "question_id": 59072585, "link": "https://stackoverflow.com/questions/59072585/bot-framework-bot-works-in-emulator-but-gets-microsoft-bot-channelconnector-bota/59079880#59079880", "title": "Bot Framework bot works in Emulator but gets Microsoft.Bot.ChannelConnector.BotAPI.ThrowOnFailedStatusCode on deployed bot", "body": "<p>This could be related to a <a href=\"https://github.com/Azure/azure-cli/issues/11390\" rel=\"nofollow noreferrer\">bug</a> in the commands <code>az bot prepare-deploy</code> and <code>az webapp deployment source config-zip</code>. As a workaround, try manually correcting the name of your assembly in your .deployment file as described <a href=\"https://github.com/microsoft/BotBuilder-Samples/issues/1993#issuecomment-558394081\" rel=\"nofollow noreferrer\">here</a> and then redeploy.</p>\n"}], "owner": {"reputation": 43, "user_id": 12274139, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f4985dee3d62bc918a71924259d8a145?s=128&d=identicon&r=PG&f=1", "display_name": "123me", "link": "https://stackoverflow.com/users/12274139/123me"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 157, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1574898059, "creation_date": 1574865496, "question_id": 59072585, "link": "https://stackoverflow.com/questions/59072585/bot-framework-bot-works-in-emulator-but-gets-microsoft-bot-channelconnector-bota", "title": "Bot Framework bot works in Emulator but gets Microsoft.Bot.ChannelConnector.BotAPI.ThrowOnFailedStatusCode on deployed bot", "body": "<p>I'm using the bot framework v4. When I test my bot locally using the emulator it works fine. When I deployed my bot and try to access it using the direct line or web chat no messages show up and when I try to send the bot a message it fails. In the Channels health I get \"There was an error sending this message to your bot: HTTP status code InternalServerError\" </p>\n\n<p>Application Insights shows an Exception that says \"POST to  failed: POST to the bot's endpoint failed with HTTP status 500 POST to the bot's endpoint failed with HTTP status 500\" </p>\n\n<p>This is the call stack </p>\n\n<pre><code>   at Microsoft.Bot.ChannelConnector.BotAPI+&lt;PostActivityToBotAsync&gt;d__31.MoveNext (Microsoft.Bot.Base.ChannelConnector, Version=3.2.3.8, Culture=neutral, PublicKeyToken=null)\nInner exception System.Exception handled at Microsoft.Bot.ChannelConnector.BotAPI+&lt;PostActivityToBotAsync&gt;d__31.MoveNext:\n   at Microsoft.Bot.ChannelConnector.BotAPI.ThrowOnFailedStatusCode (Microsoft.Bot.Base.ChannelConnector, Version=3.2.3.8, Culture=neutral, PublicKeyToken=null)\n   at Microsoft.Bot.ChannelConnector.BotAPI+&lt;PostActivityToBotAsync&gt;d__31.MoveNext (Microsoft.Bot.Base.ChannelConnector, Version=3.2.3.8, Culture=neutral, PublicKeyToken=null)\n</code></pre>\n\n<p>I've been able to get the bot working before. I recently made a new bot on my Azure account and it's working fine.</p>\n\n<p>Thank you in advance.</p>\n"}, {"tags": ["node.js", "typescript", "configuration", "environment-variables", "nestjs"], "answers": [{"tags": [], "owner": {"reputation": 17343, "user_id": 9576186, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2beeea1d726e9c3fab3a91953895039b?s=128&d=identicon&r=PG", "display_name": "Jay McDoniel", "link": "https://stackoverflow.com/users/9576186/jay-mcdoniel"}, "is_accepted": true, "score": 1, "last_activity_date": 1574865915, "creation_date": 1574865915, "answer_id": 59072732, "question_id": 59072488, "link": "https://stackoverflow.com/questions/59072488/how-to-use-nestjs-environment-variables-in-separate-class/59072732#59072732", "title": "How to use nestjs environment variables in separate class", "body": "<p>The problem with using a configuration service in a separate, non-class file is that all of the config service methods are instance methods, and so they have to come from the instantiated class. What you could do is create a <code>getDbConfig()</code> method that returns your database configuration so that the config service class can be injected where it is needed. The other option <em>could</em> be to just instantiate another config service class manually, though that seems much hackier and less resource efficient.</p>\n"}], "owner": {"reputation": 182, "user_id": 9258272, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-VNOTMHcTtZU/AAAAAAAAAAI/AAAAAAAAAA0/eOZtJt4Ebs8/photo.jpg?sz=128", "display_name": "Steve Rock", "link": "https://stackoverflow.com/users/9258272/steve-rock"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 116, "favorite_count": 0, "accepted_answer_id": 59072732, "answer_count": 1, "score": 0, "last_activity_date": 1574865915, "creation_date": 1574865184, "question_id": 59072488, "link": "https://stackoverflow.com/questions/59072488/how-to-use-nestjs-environment-variables-in-separate-class", "title": "How to use nestjs environment variables in separate class", "body": "<p>I use this nestjs guide for configuration <a href=\"https://docs.nestjs.com/techniques/configuration\" rel=\"nofollow noreferrer\">https://docs.nestjs.com/techniques/configuration</a>. But there shown the usage of environment variables only with using nestjs modules and services but I want to use variables in separate file:\ndbConfig.ts that I've now</p>\n\n<pre><code>export default {\n    username: process.env.DB_USERNAME || 'db',\n    password: process.env.DB_PASSWORD || 'db',\n}\n</code></pre>\n\n<p>So I want to use variables like shown in the guide but also I want that dbConfig.ts just export object with config properties</p>\n\n<pre><code>export default {\n    username: config.get('DB_USERNAME'),\n    password: config.get(DB_PASSWORD),\n}\n</code></pre>\n"}, {"tags": ["angular", "typescript"], "comments": [{"owner": {"reputation": 542, "user_id": 3859828, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/ef2420c652121e723f76c05181cb638c?s=128&d=identicon&r=PG&f=1", "display_name": "Alann", "link": "https://stackoverflow.com/users/3859828/alann"}, "edited": false, "score": 1, "creation_date": 1574865094, "post_id": 59072428, "comment_id": 104382740, "body": "can you create a stackblitz with an example of what you&#39;ve done and what you are trying to do ?"}, {"owner": {"reputation": 179, "user_id": 2617317, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/77417078eccbec9aa51fbf7021de019b?s=128&d=identicon&r=PG", "display_name": "henk", "link": "https://stackoverflow.com/users/2617317/henk"}, "reply_to_user": {"reputation": 542, "user_id": 3859828, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/ef2420c652121e723f76c05181cb638c?s=128&d=identicon&r=PG&f=1", "display_name": "Alann", "link": "https://stackoverflow.com/users/3859828/alann"}, "edited": false, "score": 0, "creation_date": 1574865305, "post_id": 59072428, "comment_id": 104382879, "body": "thank you, example has been added"}, {"owner": {"reputation": 542, "user_id": 3859828, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/ef2420c652121e723f76c05181cb638c?s=128&d=identicon&r=PG&f=1", "display_name": "Alann", "link": "https://stackoverflow.com/users/3859828/alann"}, "edited": false, "score": 0, "creation_date": 1574865366, "post_id": 59072428, "comment_id": 104382918, "body": "can you give us the link WITH the code ;) ?"}, {"owner": {"reputation": 2401, "user_id": 9890873, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/lkm7i.jpg?s=128&g=1", "display_name": "Jacopo Sciampi", "link": "https://stackoverflow.com/users/9890873/jacopo-sciampi"}, "edited": false, "score": 0, "creation_date": 1574865526, "post_id": 59072428, "comment_id": 104383012, "body": "Why can&#39;t you just add the code inside the span adding (click) on the tag you want?"}, {"owner": {"reputation": 179, "user_id": 2617317, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/77417078eccbec9aa51fbf7021de019b?s=128&d=identicon&r=PG", "display_name": "henk", "link": "https://stackoverflow.com/users/2617317/henk"}, "edited": false, "score": 0, "creation_date": 1574865530, "post_id": 59072428, "comment_id": 104383018, "body": "lol, maybe I&#39;ve should have saved it first :-)"}, {"owner": {"reputation": 179, "user_id": 2617317, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/77417078eccbec9aa51fbf7021de019b?s=128&d=identicon&r=PG", "display_name": "henk", "link": "https://stackoverflow.com/users/2617317/henk"}, "reply_to_user": {"reputation": 2401, "user_id": 9890873, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/lkm7i.jpg?s=128&g=1", "display_name": "Jacopo Sciampi", "link": "https://stackoverflow.com/users/9890873/jacopo-sciampi"}, "edited": false, "score": 0, "creation_date": 1574865625, "post_id": 59072428, "comment_id": 104383074, "body": "@JacopoSciampi inside the getBody function I have more complex code that generates the HTML, but for this example I&#39;ve simplified it."}, {"owner": {"reputation": 2401, "user_id": 9890873, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/lkm7i.jpg?s=128&g=1", "display_name": "Jacopo Sciampi", "link": "https://stackoverflow.com/users/9890873/jacopo-sciampi"}, "edited": false, "score": 0, "creation_date": 1574865919, "post_id": 59072428, "comment_id": 104383248, "body": "Ok that&#39;s clear, but I still don&#39;t get it why are you adding this code dinamically by an innerHTML. Why aren&#39;t you putting all this code inside the span tag?"}, {"owner": {"reputation": 179, "user_id": 2617317, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/77417078eccbec9aa51fbf7021de019b?s=128&d=identicon&r=PG", "display_name": "henk", "link": "https://stackoverflow.com/users/2617317/henk"}, "edited": false, "score": 0, "creation_date": 1574866352, "post_id": 59072428, "comment_id": 104383499, "body": "When I try to change it to &lt;span&gt;{{getBody()}}&lt;/span&gt;, I get the message &#39;SafeValue must use [property]=binding&#39;, so I don&#39;t know if that will work..."}], "answers": [{"comments": [{"owner": {"reputation": 179, "user_id": 2617317, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/77417078eccbec9aa51fbf7021de019b?s=128&d=identicon&r=PG", "display_name": "henk", "link": "https://stackoverflow.com/users/2617317/henk"}, "edited": false, "score": 0, "creation_date": 1574866734, "post_id": 59072769, "comment_id": 104383731, "body": "Thank you for you answer, it indeed does work in my example, but unfortionally in my real app I see texts like &#39;H&lt;b style=&quot;color:blue&quot;&gt;ell&lt;/b&gt;o world&#39; inside the html.So I guess that is not the solution for me."}, {"owner": {"reputation": 179, "user_id": 2617317, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/77417078eccbec9aa51fbf7021de019b?s=128&d=identicon&r=PG", "display_name": "henk", "link": "https://stackoverflow.com/users/2617317/henk"}, "edited": false, "score": 0, "creation_date": 1574946260, "post_id": 59072769, "comment_id": 104413816, "body": "Yes, this is definitly an improvement :-) Just one note is that the given style (color:blue) isn&#39;t visible anymore, but this is an acceptable solution. (changed stackbliz: <a href=\"https://stackblitz.com/edit/angular-u91nh6\" rel=\"nofollow noreferrer\">stackblitz.com/edit/angular-u91nh6</a>)"}], "tags": [], "owner": {"reputation": 542, "user_id": 3859828, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/ef2420c652121e723f76c05181cb638c?s=128&d=identicon&r=PG&f=1", "display_name": "Alann", "link": "https://stackoverflow.com/users/3859828/alann"}, "is_accepted": true, "score": 1, "last_activity_date": 1575016772, "last_edit_date": 1575016772, "creation_date": 1574866069, "answer_id": 59072769, "question_id": 59072428, "link": "https://stackoverflow.com/questions/59072428/catch-click-in-generated-html-with-mouseover/59072769#59072769", "title": "Catch click in generated HTML with mouseover", "body": "<p>I don't know the reason , but if you just return your string in the component, it work as you want.</p>\n\n<p><a href=\"https://stackblitz.com/edit/angular-xgsrp9\" rel=\"nofollow noreferrer\">https://stackblitz.com/edit/angular-xgsrp9</a></p>\n\n<p>EDIT : and like this ? <a href=\"https://stackblitz.com/edit/angular-m4kmrt\" rel=\"nofollow noreferrer\">https://stackblitz.com/edit/angular-m4kmrt</a></p>\n\n<p>EDIT EDIT :</p>\n\n<p>So you can change your value with a replace of a string, it will insert the change inside the dom, if you want to keep the blue color, you can change your view encapsulation.</p>\n\n<p>When your application is running in production mode, the HTML and classes are generated by angular, so it doesn't keep the inside information  for your style.</p>\n\n<p>you can avoid this problem by changing your encapsulation strategy</p>\n\n<p>here is the stackblitz updated <a href=\"https://stackblitz.com/edit/angular-tnky6k\" rel=\"nofollow noreferrer\">https://stackblitz.com/edit/angular-tnky6k</a></p>\n"}], "owner": {"reputation": 179, "user_id": 2617317, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/77417078eccbec9aa51fbf7021de019b?s=128&d=identicon&r=PG", "display_name": "henk", "link": "https://stackoverflow.com/users/2617317/henk"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 49, "favorite_count": 0, "accepted_answer_id": 59072769, "answer_count": 1, "score": 0, "last_activity_date": 1575016772, "creation_date": 1574864993, "last_edit_date": 1574865291, "question_id": 59072428, "link": "https://stackoverflow.com/questions/59072428/catch-click-in-generated-html-with-mouseover", "title": "Catch click in generated HTML with mouseover", "body": "<p>I'd like to catch a click on a field that has been generated by innerHtml.\nthis field has a mouseover handler.</p>\n\n<p>In the sample below a click on the div (de)selects a variable.\nthe generated HTML is done by javascript, what generates a text in normal font and the selected state in bold.</p>\n\n<p>The strange part is, that the click is handled when I click on the 'normal' text, but a click on the bold text isn't handled.\nWhen I remove the mouseover, the click works as expected on both parts, but I want to keep the mouseover...\nWhy isn't the click working inside the bold text with the mouseover?</p>\n\n<p>Example.html:</p>\n\n<pre><code>&lt;div (click)=\"selected = !selected\" (mouseover)=\"mouseover()\"&gt;\n  &lt;span [innerHtml]=\"getBody()\"&gt;&lt;/span&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>Example.ts:</p>\n\n<pre><code>...\n  selected = false;\n...\n  getBody() {\n    return this.sanitizer.bypassSecurityTrustHtml(`hello / &lt;b&gt;${this.selected}&lt;/b&gt;`);\n  }\n  mouseover() {\n    // dummy\n  }\n</code></pre>\n\n<p>example in stackblitz: <a href=\"https://angular-u91nh6.stackblitz.io\" rel=\"nofollow noreferrer\">https://angular-u91nh6.stackblitz.io</a></p>\n"}, {"tags": ["typescript", "typescript-generics"], "comments": [{"owner": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "edited": false, "score": 0, "creation_date": 1574872664, "post_id": 59072394, "comment_id": 104386953, "body": "Without something like <a href=\"https://github.com/microsoft/TypeScript/issues/17574\" rel=\"nofollow noreferrer\">generic values</a> in TypeScript, I think you&#39;ll have to use workarounds."}], "answers": [{"comments": [{"owner": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "edited": false, "score": 1, "creation_date": 1574873077, "post_id": 59072991, "comment_id": 104387186, "body": "I think this is very clever and is probably one of the few ways (or maybe the only way) you can move a generic type parameter off of a function and into a value without wider support for <a href=\"https://github.com/microsoft/TypeScript/issues/17574\" rel=\"nofollow noreferrer\">generic values</a>.  Also note that TypeScript provides <code>ReturnType&lt;T&gt;</code> as a utility type."}, {"owner": {"reputation": 107, "user_id": 8856434, "user_type": "registered", "profile_image": "https://graph.facebook.com/1551858941526970/picture?type=large", "display_name": "BigFilhao", "link": "https://stackoverflow.com/users/8856434/bigfilhao"}, "reply_to_user": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "edited": false, "score": 0, "creation_date": 1574887772, "post_id": 59072991, "comment_id": 104393547, "body": "Thanks for the utility type tip :) maybe this is the only way, since I&#39;m infering a type from an implemented generic function, so it must exist someway, if it was possible to get the type of the function as <code>typeof foo&lt;T&gt;</code> it would be great, but it is not..."}], "tags": [], "owner": {"reputation": 107, "user_id": 8856434, "user_type": "registered", "profile_image": "https://graph.facebook.com/1551858941526970/picture?type=large", "display_name": "BigFilhao", "link": "https://stackoverflow.com/users/8856434/bigfilhao"}, "is_accepted": true, "score": 2, "last_activity_date": 1574866742, "creation_date": 1574866742, "answer_id": 59072991, "question_id": 59072394, "link": "https://stackoverflow.com/questions/59072394/how-to-infer-return-type-of-a-generic-function/59072991#59072991", "title": "How to infer return type of a generic function", "body": "<p>Managed to do it by wrapping the function into a generic class</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>class GnClass&lt;T&gt; {\n  foo = (a: Record&lt;string, string&gt;) =&gt; {\n    return {\n      bar: fnFromLib&lt;T&gt;('foo', a),\n    };\n  };\n}\ntype returnTypeInferer&lt;T&gt; = T extends (a: Record&lt;string, string&gt;) =&gt; infer U ? U : never;\ntype fooType&lt;T&gt; = GnClass&lt;T&gt;['foo'];\ntype fooReturnType&lt;T&gt; = returnTypeInferer&lt;fooType&lt;T&gt;&gt;;\n</code></pre>\n\n<p>But I want to stick with functional programming, I will not mark this as accepted answer, will use it for now as I see no other alternative in the moment and would love another approach.</p>\n"}], "owner": {"reputation": 107, "user_id": 8856434, "user_type": "registered", "profile_image": "https://graph.facebook.com/1551858941526970/picture?type=large", "display_name": "BigFilhao", "link": "https://stackoverflow.com/users/8856434/bigfilhao"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 802, "favorite_count": 0, "accepted_answer_id": 59072991, "answer_count": 1, "score": 0, "last_activity_date": 1574866742, "creation_date": 1574864917, "question_id": 59072394, "link": "https://stackoverflow.com/questions/59072394/how-to-infer-return-type-of-a-generic-function", "title": "How to infer return type of a generic function", "body": "<p>I have a function that will always return a type, though it can change and defining it by hand would be some work and not scalable, so I'm trying to achieve this by using typescript's <code>infer</code> keyword</p>\n\n<p>At first I saw  <a href=\"https://www.reddit.com/r/typescript/comments/8bgylq/28_infer_generic_type_it_finally_clicked/\" rel=\"nofollow noreferrer\">this reddit post</a>\nthat uses</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>type Foo&lt;T&gt; = T extends { a: infer U, b: infer U } ? U : never;\ntype T10 = Foo&lt;{ a: string, b: string }&gt;;  // string\ntype T11 = Foo&lt;{ a: string, b: number }&gt;;  // string | number\n</code></pre>\n\n<p>Problem is, my type is a generic function</p>\n\n<p>Here is one minimal example, </p>\n\n<pre class=\"lang-js prettyprint-override\"><code>const fnFromLib = &lt;T&gt;(a: string, b: Record&lt;string, string&gt;) =&gt; {\n  return function barFn(c: T) {\n    return {\n      c,\n      b: b[a],\n    };\n  };\n};\nconst foo = &lt;T&gt;(a: Record&lt;string, string&gt;) =&gt; {\n  return {\n    bar: fnFromLib&lt;T&gt;('foo', a),\n  };\n};\ntype returnTypeInferer&lt;T&gt; = T extends (a: Record&lt;string, string&gt;) =&gt; infer U ? U : never;\ntype fooType = typeof foo;\ntype fooReturnType = returnTypeInferer&lt;fooType&gt;;\n</code></pre>\n\n<p>there are no errors, but, since there was not a generic type being passed, <code>fooReturnType</code> will be inferred as</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>type fooReturnType = {\n    bar: (c: unknown) =&gt; {\n        c: unknown;\n        b: string;\n    };\n}\n</code></pre>\n\n<p>Noting that T from fnFromLib is not inferred from arguments and should be passed in the function call I try to pass on a type argument from <code>fooReturnType</code> to <code>fooType</code>, but that gives me a parsing error</p>\n\n<pre><code>type returnTypeInferer&lt;T&gt; = T extends (a: Record&lt;string, string&gt;) =&gt; infer U ? U : never;\ntype fooType&lt;T&gt; = typeof foo&lt;T&gt;; // ------   parsing error: ';' expected ---------\ntype fooReturnType&lt;T&gt; = returnTypeInferer&lt;fooType&lt;T&gt;&gt;;\n</code></pre>\n\n<p>Is there a way I can achieve what I want?</p>\n\n<p>Thank you</p>\n"}, {"tags": ["javascript", "reactjs", "typescript", "react-hooks", "eslint"], "comments": [{"owner": {"reputation": 131, "user_id": 11137526, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-RsLlmHwYIR4/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rc7r_dtcLuUAMg461O77bAdN9eayQ/mo/photo.jpg?sz=128", "display_name": "Viktor Zagoruyko", "link": "https://stackoverflow.com/users/11137526/viktor-zagoruyko"}, "edited": false, "score": 0, "creation_date": 1575874842, "post_id": 59072385, "comment_id": 104698219, "body": "I believe this will help: <code>useReducer((reducer as any), (initialState as any))</code>"}], "answers": [{"tags": [], "owner": {"reputation": 43, "user_id": 10810062, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-qmkwVMSLAvQ/AAAAAAAAAAI/AAAAAAAAJvM/BSgS6gAGaeE/photo.jpg?sz=128", "display_name": "Koichi MIYAMOTO", "link": "https://stackoverflow.com/users/10810062/koichi-miyamoto"}, "is_accepted": false, "score": 4, "last_activity_date": 1577685607, "creation_date": 1577685607, "answer_id": 59526364, "question_id": 59072385, "link": "https://stackoverflow.com/questions/59072385/element-refers-to-a-value-but-is-being-used-as-a-type-here/59526364#59526364", "title": "element refers to a value, but is being used as a type here", "body": "<p>I got the same error on my project and solve the problem.\nMaybe your filename extension is ts, not tsx.\nIf you are using Parcel or so on, the compiler considers that the file doesn't use React.</p>\n"}], "owner": {"reputation": 6485, "user_id": 2065540, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/6f4e6ee47768e4b6304697de935cf00a?s=128&d=identicon&r=PG", "display_name": "Xeen", "link": "https://stackoverflow.com/users/2065540/xeen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1616, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1577685607, "creation_date": 1574864894, "question_id": 59072385, "link": "https://stackoverflow.com/questions/59072385/element-refers-to-a-value-but-is-being-used-as-a-type-here", "title": "element refers to a value, but is being used as a type here", "body": "<p>I have the following code:</p>\n\n<pre><code>export const StateContext = createContext({});\nconst StoreProvider: any = StateContext.Provider;\nexport const StateProvider = ({ reducer, initialState, children }: any) =&gt; (\n  &lt;StoreProvider value={useReducer(reducer: any, initialState: any)}&gt;\n    {children}\n  &lt;/StoreProvider&gt;\n);\n</code></pre>\n\n<p>but TypeScript is throwing an error <code>'StoreProvider' refers to a value, but is being used as a type here.</code> - why? I assume its seeing it as a generic, but how to make it see as is needed?</p>\n"}, {"tags": ["javascript", "angular", "typescript"], "comments": [{"owner": {"reputation": 9876, "user_id": 1667868, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/01faa51ea5dddd44aeeb572d4b45c835?s=128&d=identicon&r=PG&f=1", "display_name": "Sven van den Boogaart", "link": "https://stackoverflow.com/users/1667868/sven-van-den-boogaart"}, "edited": false, "score": 1, "creation_date": 1574869936, "post_id": 59072324, "comment_id": 104385489, "body": "I don think this is a duplicate as my question is mostly about how to do it in angular . the linked answer does not give me an example of how to implement it in angular. Im exactly trying to do myself (see example) what they are doing in the linked answer but the syntax is different."}], "answers": [{"comments": [{"owner": {"reputation": 9876, "user_id": 1667868, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/01faa51ea5dddd44aeeb572d4b45c835?s=128&d=identicon&r=PG&f=1", "display_name": "Sven van den Boogaart", "link": "https://stackoverflow.com/users/1667868/sven-van-den-boogaart"}, "edited": false, "score": 0, "creation_date": 1574869767, "post_id": 59072407, "comment_id": 104385382, "body": "Shouldn&#39;t getApplicationTokenString have a return statement?"}, {"owner": {"reputation": 3015, "user_id": 8318091, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/S9Vn3.jpg?s=128&g=1", "display_name": "Saurabh Yadav", "link": "https://stackoverflow.com/users/8318091/saurabh-yadav"}, "reply_to_user": {"reputation": 9876, "user_id": 1667868, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/01faa51ea5dddd44aeeb572d4b45c835?s=128&d=identicon&r=PG&f=1", "display_name": "Sven van den Boogaart", "link": "https://stackoverflow.com/users/1667868/sven-van-den-boogaart"}, "edited": false, "score": 0, "creation_date": 1574870260, "post_id": 59072407, "comment_id": 104385660, "body": "ya you can but you can write you logic in that function await operator to wait for a Promise and it will not execute next line until promise will resolve"}], "tags": [], "owner": {"reputation": 3015, "user_id": 8318091, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/S9Vn3.jpg?s=128&g=1", "display_name": "Saurabh Yadav", "link": "https://stackoverflow.com/users/8318091/saurabh-yadav"}, "is_accepted": true, "score": 3, "last_activity_date": 1574870301, "last_edit_date": 1574870301, "creation_date": 1574864953, "answer_id": 59072407, "question_id": 59072324, "link": "https://stackoverflow.com/questions/59072324/angular-async-anreturn-a-value-given-by-promise/59072407#59072407", "title": "angular async anreturn a value given by promise", "body": "<p>Wrap the code in Promise and call resolver when token is available</p>\n\n<pre><code> getApplicationToken() {\n        return new Promise((reslove, reject) =&gt; {\n            window.FirebasePlugin.getToken(function(token) {\n                console.log('Got FCM token: ' + token);\n                resolve(token);\n            }, function(error) {\n            console.log('Failed to get FCM token', error);\n            });\n        });\n      }\n</code></pre>\n\n<p>add a await operator to wait for a Promise </p>\n\n<pre><code> async processApplicationTokenString(): Promise&lt;string&gt; {\n    let token =  await this.getApplicationToken();\n    console.log(token); // your token available here\n    this.firebaseToken = token;\n    console.log('This line not execute until until promise resolve');\n  }\n</code></pre>\n"}], "owner": {"reputation": 9876, "user_id": 1667868, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/01faa51ea5dddd44aeeb572d4b45c835?s=128&d=identicon&r=PG&f=1", "display_name": "Sven van den Boogaart", "link": "https://stackoverflow.com/users/1667868/sven-van-den-boogaart"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 63, "favorite_count": 0, "accepted_answer_id": 59072407, "answer_count": 1, "score": 4, "last_activity_date": 1574898537, "creation_date": 1574864687, "question_id": 59072324, "link": "https://stackoverflow.com/questions/59072324/angular-async-anreturn-a-value-given-by-promise", "title": "angular async anreturn a value given by promise", "body": "<p>In a library that im using there is the method, getToken which is used in the example like:</p>\n\n<pre><code>getApplicationToken() {\n    window.FirebasePlugin.getToken(function(token) {\n      console.log('Got FCM token: ' + token);\n    }, function(error) {\n      console.log('Failed to get FCM token', error);\n    });\n  }\n</code></pre>\n\n<p>What I want is to create a method that returns the token itself.\nWhat I tried:</p>\n\n<pre><code>async getApplicationTokenString(): Promise&lt;string&gt; {\n    return window.FirebasePlugin.getToken();\n}\n</code></pre>\n\n<p>And calling it by:</p>\n\n<pre><code>let firebaseToken = '';\nthis.fireBaseService.getApplicationTokenString().then(function(resolveOutput) {\n   firebaseToken = resolveOutput;\n  }, function(rejectOutput) {\n    console.log(rejectOutput);\n  });\n</code></pre>\n\n<p>However I get:  <code>Firebase token:</code> so I have no value.\n However when I call getApplicationToken the fcm token is logged.</p>\n\n<p>How should I pass the value given by a promise async?</p>\n"}, {"tags": ["angular", "typescript", "angular-material", "ngrx"], "comments": [{"owner": {"reputation": 9151, "user_id": 10112124, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9e6297e8a8df7affbe897ed476212148?s=128&d=identicon&r=PG", "display_name": "timdeschryver", "link": "https://stackoverflow.com/users/10112124/timdeschryver"}, "edited": false, "score": 0, "creation_date": 1574867658, "post_id": 59072157, "comment_id": 104384285, "body": "Can you show the code how the label value is modified"}, {"owner": {"reputation": 2568, "user_id": 2627160, "user_type": "registered", "profile_image": "https://graph.facebook.com/502698362/picture?type=large", "display_name": "Matt Saunders", "link": "https://stackoverflow.com/users/2627160/matt-saunders"}, "reply_to_user": {"reputation": 9151, "user_id": 10112124, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9e6297e8a8df7affbe897ed476212148?s=128&d=identicon&r=PG", "display_name": "timdeschryver", "link": "https://stackoverflow.com/users/10112124/timdeschryver"}, "edited": false, "score": 0, "creation_date": 1574868225, "post_id": 59072157, "comment_id": 104384592, "body": "Thanks - have done"}, {"owner": {"reputation": 9151, "user_id": 10112124, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9e6297e8a8df7affbe897ed476212148?s=128&d=identicon&r=PG", "display_name": "timdeschryver", "link": "https://stackoverflow.com/users/10112124/timdeschryver"}, "edited": false, "score": 0, "creation_date": 1574876015, "post_id": 59072157, "comment_id": 104388647, "body": "This is how you retrieve it from the store, but I&#39;m interested in the code of the reducer"}, {"owner": {"reputation": 1940, "user_id": 4172979, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/36574bbd1dae035a28558f67d051affe?s=128&d=identicon&r=PG&f=1", "display_name": "Andrei Mihalciuc", "link": "https://stackoverflow.com/users/4172979/andrei-mihalciuc"}, "edited": false, "score": 0, "creation_date": 1575019844, "post_id": 59072157, "comment_id": 104436438, "body": "The issue you are describing is related to change detection (not NgRx), as the first usage of the observable is always updating. I suspect that the issue is related to content projection within form filed. Would you be able to create a stackblitz example with the issue?        <a href=\"https://medium.com/@pietmichal/angulars-content-projection-trap-and-why-you-should-consider-using-template-outlet-instead-cc3c4cad87c9\" rel=\"nofollow noreferrer\">medium.com/@pietmichal/&hellip;</a>"}], "owner": {"reputation": 2568, "user_id": 2627160, "user_type": "registered", "profile_image": "https://graph.facebook.com/502698362/picture?type=large", "display_name": "Matt Saunders", "link": "https://stackoverflow.com/users/2627160/matt-saunders"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 177, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1574868217, "creation_date": 1574864171, "last_edit_date": 1574868217, "question_id": 59072157, "link": "https://stackoverflow.com/questions/59072157/angular-material-select-label-not-updating-on-ngrx-change", "title": "Angular Material select label not updating on ngrx change", "body": "<p>I have an Angular Material select component with a custom label. This is provided by an async ngrx selector (prompt$) - simplified template below.</p>\n\n<p>When prompt$ changes the paragraph is updated every time as would be expected, but the label in the select component <strong>sometimes</strong> isn't. However it is reliably updated the <strong>first</strong> time prompt$ is set.</p>\n\n<p>What would cause this behaviour and is there a solution?</p>\n\n<p>I've also tried passing the label as an input from a parent component and the result is the same.</p>\n\n<pre><code>&lt;p&gt;Async prompt test: {{prompt$ | async}}&lt;/p&gt;\n\n&lt;mat-form-field&gt;\n    &lt;mat-label&gt;\n        {{prompt$ | async}}\n    &lt;/mat-label&gt;\n    &lt;mat-select&gt;\n        &lt;mat-option&gt;1&lt;/mat-option&gt;\n        &lt;mat-option&gt;2&lt;/mat-option&gt;\n    &lt;/mat-select&gt;\n&lt;/mat-form-field&gt;\n</code></pre>\n\n<p>The value for prompt$ is updated as follows:</p>\n\n<pre><code>constructor(private store$: Store&lt;AppState&gt;){}\n\nngOnInit() {\n    this.prompt$ = this.store$.pipe(select(selectors.selectCustomPrompt));\n}\n</code></pre>\n"}, {"tags": ["css", "angular", "typescript", "mat-autocomplete"], "comments": [{"owner": {"reputation": 1633, "user_id": 11272449, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7a449ca3aaecdd974bd0d060e4bc3009?s=128&d=identicon&r=PG&f=1", "display_name": "karansys", "link": "https://stackoverflow.com/users/11272449/karansys"}, "edited": false, "score": 0, "creation_date": 1574864615, "post_id": 59071911, "comment_id": 104382437, "body": "I tried applying dynamic style to mat-autocomplete like this &lt;mat-autocomplete  [style.left.px]=&quot;775&quot; ... still this is not working!!!! currently by default style is applied for 779px"}], "answers": [{"tags": [], "owner": {"reputation": 1633, "user_id": 11272449, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7a449ca3aaecdd974bd0d060e4bc3009?s=128&d=identicon&r=PG&f=1", "display_name": "karansys", "link": "https://stackoverflow.com/users/11272449/karansys"}, "is_accepted": false, "score": 0, "last_activity_date": 1574936680, "creation_date": 1574936680, "answer_id": 59086611, "question_id": 59071911, "link": "https://stackoverflow.com/questions/59071911/how-adjust-the-position-of-mat-option/59086611#59086611", "title": "How adjust the position of mat-option", "body": "<p>I was able to style this using </p>\n\n<pre><code>\n.mat-autocomplete-panel { \n  position:relative;\n  right:3px;\n}\n\n</code></pre>\n"}], "owner": {"reputation": 1633, "user_id": 11272449, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7a449ca3aaecdd974bd0d060e4bc3009?s=128&d=identicon&r=PG&f=1", "display_name": "karansys", "link": "https://stackoverflow.com/users/11272449/karansys"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 702, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1574936680, "creation_date": 1574863339, "last_edit_date": 1574865440, "question_id": 59071911, "link": "https://stackoverflow.com/questions/59071911/how-adjust-the-position-of-mat-option", "title": "How adjust the position of mat-option", "body": "<p>I am running angular app, I have autocomplete field ,I want adjust position of this . I referred official document <a href=\"https://material.angular.io/components/autocomplete/api\" rel=\"nofollow noreferrer\">enter link description here</a> under method ,\nupdatePosition - \nUpdates the position of the autocomplete suggestion panel to ensure that it fits all options within the viewport.</p>\n\n<p>I am not sure how to use</p>\n\n<p>This is my template.html</p>\n\n<pre><code> &lt;mat-form-field [style.cursor]=\"pointer\" [style.cursor]=\"pointer\" [style.width.px]=300  &gt;\n     &lt;input class=\"selectCustomer\" class=\"selectCustomerData\" id=\"inputCustomer\" matInput [matAutocomplete]=\"auto\"  [formControl]=\"customerFilterControl\" [(ngModel)]=\"customerName\"&gt;\n     &lt;mat-icon matSuffix&gt;keyboard_arrow_down&lt;/mat-icon&gt;\n       &lt;p id=\"spandiv\"&gt;{{customerName}}&lt;/p&gt;  \n     &lt;mat-autocomplete dropdown-arrow=\"true\" panelWidth =\"450px\" #auto=\"matAutocomplete\" [displayWith] = \"displayFn\"&gt;\n        &lt;mat-option class=\"CustomerDropDown\" *ngFor=\"let customer of filteredOptions | async\"   [value] =\"customer.AccountID +' '+'('+ customer.AccountName + ')'\" (onSelectionChange)=\"onCustomerChange(customer)\"&gt;\n         {{customer.AccountID}} ({{customer.AccountName}})  &lt;p id=\"spandiv1\"&gt;{{customer.AccountID}} ({{customer.AccountName}})&lt;/p&gt; \n        &lt;/mat-option&gt;\n    &lt;/mat-autocomplete&gt;\n  &lt;/mat-form-field&gt;\n</code></pre>\n\n<p>As shown the pic below I want the mat-option to move little towards left</p>\n\n<p><a href=\"https://i.stack.imgur.com/FjEFk.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/FjEFk.png\" alt=\"enter image description here\"></a></p>\n\n<p>As shown in this pic, class highlighted always gets style applied to left:779px but I want to remain atv 775px</p>\n\n<p><a href=\"https://i.stack.imgur.com/bxJL8.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/bxJL8.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["typescript", "hashmap"], "answers": [{"tags": [], "owner": {"reputation": 307, "user_id": 7049556, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ec57a690071992c59994e1580e580fd5?s=128&d=identicon&r=PG", "display_name": "ErBu", "link": "https://stackoverflow.com/users/7049556/erbu"}, "is_accepted": true, "score": 1, "last_activity_date": 1574864405, "creation_date": 1574864405, "answer_id": 59072228, "question_id": 59071893, "link": "https://stackoverflow.com/questions/59071893/typescript-how-do-i-remove-a-value-from-a-hashmap/59072228#59072228", "title": "Typescript - How do I remove a value from a hashmap?", "body": "<p>If your not doing this as just an exercise it might be useful to look into <a href=\"https://howtodoinjava.com/typescript/maps/\" rel=\"nofollow noreferrer\">Map()</a> I think it should provide the needed functionality </p>\n"}], "owner": {"reputation": 1151, "user_id": 4214922, "user_type": "registered", "accept_rate": 57, "profile_image": "https://graph.facebook.com/100003077452923/picture?type=large", "display_name": "Mike Ottink", "link": "https://stackoverflow.com/users/4214922/mike-ottink"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 233, "favorite_count": 0, "closed_date": 1574873397, "accepted_answer_id": 59072228, "answer_count": 1, "score": 0, "last_activity_date": 1574866232, "creation_date": 1574863257, "question_id": 59071893, "link": "https://stackoverflow.com/questions/59071893/typescript-how-do-i-remove-a-value-from-a-hashmap", "closed_reason": "Duplicate", "title": "Typescript - How do I remove a value from a hashmap?", "body": "<p>I found this post about implementing a hashmap in typescript, and I've got that working, except for removing something from the hashmap.</p>\n\n<p><a href=\"https://stackoverflow.com/questions/42211175/typescript-hashmap-dictionary-interface\">TypeScript hashmap/dictionary interface</a></p>\n\n<p>I add something by doing <code>Input.keys[event.key] = event.keyCode;</code> to add a key to my abstract Input class's keys field that is a hashmap. How can I remove something from it?</p>\n"}, {"tags": ["typescript", "ngrx", "super", "angular-ngrx-data", "ngrx-data"], "answers": [{"tags": [], "owner": {"reputation": 457, "user_id": 1060333, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/70c53b93a0e4ff97b6e410b0b31fab98?s=128&d=identicon&r=PG", "display_name": "Todd Hansberger", "link": "https://stackoverflow.com/users/1060333/todd-hansberger"}, "is_accepted": false, "score": 1, "last_activity_date": 1579185308, "creation_date": 1579185308, "answer_id": 59771899, "question_id": 59071811, "link": "https://stackoverflow.com/questions/59071811/ngrx-data-entityservicesbase-constructor-accepts-only-one-argument/59771899#59771899", "title": "NGRX data: EntityServicesBase constructor accepts only one argument", "body": "<p>There is a new injectable object you can provide now, an instance of <code>EntityServicesElements</code> (imported from <code>@ngrx/data</code>):</p>\n\n<pre><code>@Injectable()\nexport class AppEntityServices extends EntityServicesBase {\n  constructor(\n    entityServicesElements: EntityServicesElements,\n    // Inject custom services, register them with the EntityServices, and expose in API.\n    public readonly heroesService: HeroesService,\n    public readonly villainsService: VillainsService\n  ) {\n    super(entityServicesElements);\n    this.registerEntityCollectionServices([heroesService, villainsService]);\n  }\n}\n</code></pre>\n"}], "owner": {"reputation": 1716, "user_id": 1941756, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/ecZNE.jpg?s=128&g=1", "display_name": "Rias", "link": "https://stackoverflow.com/users/1941756/rias"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 80, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1579185308, "creation_date": 1574862944, "question_id": 59071811, "link": "https://stackoverflow.com/questions/59071811/ngrx-data-entityservicesbase-constructor-accepts-only-one-argument", "title": "NGRX data: EntityServicesBase constructor accepts only one argument", "body": "<p>I try to create a Sub-class EntityServices for application class convenience according to the NGRX/data documentation at <a href=\"https://ngrx.io/guide/data/entity-services#sub-class-entityservices-for-application-class-convenience\" rel=\"nofollow noreferrer\">https://ngrx.io/guide/data/entity-services#sub-class-entityservices-for-application-class-convenience</a></p>\n\n<p>Unfortunately the provided example doesn't seem to work with the latest version of ngrx/data 8.5.2.\nThe example looks like: </p>\n\n<pre><code>@Injectable()\n  export class AppEntityServices extends EntityServicesBase {\n    constructor(\n      public readonly store: Store&lt;EntityCache&gt;,\n      public readonly entityCollectionServiceFactory: EntityCollectionServiceFactory,\n\n      // Inject custom services, register them with the EntityServices, and expose in API.\n      public readonly heroesService: HeroesService,\n      public readonly villainsService: VillainsService\n    ) {\n      super(store, entityCollectionServiceFactory);\n      this.registerEntityCollectionServices([heroesService, villainsService]);\n  }\n}\n</code></pre>\n\n<p>When I use the example with my code, I get the following TypeScript error: </p>\n\n<blockquote>\n  <p><strong>Error:</strong> (parameter) entityCollectionServiceFactory: EntityCollectionServiceFactory \n  Expected 1 arguments, but got 2. ts(2554)</p>\n</blockquote>\n\n<p>for the line when I call the parents constructor <code>super(...)</code>\nIt looks like <code>EntityServicesBase</code>s constructor is only accepting 1 argument of type <code>EntityServicesElements</code>. <strong>But how can I create my custom AppEntityService?</strong> I couldn't find any working example.</p>\n"}, {"tags": ["javascript", "angular", "typescript", "angular-httpclient"], "comments": [{"owner": {"reputation": 3786, "user_id": 3131085, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/af46eb34957e6fdc051e365e5853aa54?s=128&d=identicon&r=PG&f=1", "display_name": "Jason White", "link": "https://stackoverflow.com/users/3131085/jason-white"}, "edited": false, "score": 0, "creation_date": 1574861413, "post_id": 59071315, "comment_id": 104380538, "body": "In your browsers network tab is the response showing a value?"}, {"owner": {"reputation": 5261, "user_id": 858757, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mMQgQ.png?s=128&g=1", "display_name": "Silvermind", "link": "https://stackoverflow.com/users/858757/silvermind"}, "edited": false, "score": 0, "creation_date": 1574861538, "post_id": 59071315, "comment_id": 104380608, "body": "If you use a class, you should instantiate it, but it is better to define it as an interface."}, {"owner": {"reputation": 473, "user_id": 12360035, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a6cee4a4e07693fc0b890cb6bc93bf61?s=128&d=identicon&r=PG&f=1", "display_name": "Munchkin", "link": "https://stackoverflow.com/users/12360035/munchkin"}, "reply_to_user": {"reputation": 3786, "user_id": 3131085, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/af46eb34957e6fdc051e365e5853aa54?s=128&d=identicon&r=PG&f=1", "display_name": "Jason White", "link": "https://stackoverflow.com/users/3131085/jason-white"}, "edited": false, "score": 0, "creation_date": 1574861570, "post_id": 59071315, "comment_id": 104380629, "body": "@JasonWhite yes, it does."}, {"owner": {"reputation": 473, "user_id": 12360035, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a6cee4a4e07693fc0b890cb6bc93bf61?s=128&d=identicon&r=PG&f=1", "display_name": "Munchkin", "link": "https://stackoverflow.com/users/12360035/munchkin"}, "reply_to_user": {"reputation": 5261, "user_id": 858757, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mMQgQ.png?s=128&g=1", "display_name": "Silvermind", "link": "https://stackoverflow.com/users/858757/silvermind"}, "edited": false, "score": 0, "creation_date": 1574861602, "post_id": 59071315, "comment_id": 104380647, "body": "@Silvermind how do I instantiate it? I&#39;d rather pick the simpler solution."}, {"owner": {"reputation": 5261, "user_id": 858757, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mMQgQ.png?s=128&g=1", "display_name": "Silvermind", "link": "https://stackoverflow.com/users/858757/silvermind"}, "edited": false, "score": 0, "creation_date": 1574861630, "post_id": 59071315, "comment_id": 104380658, "body": "The simple solution is to change <code>class User</code> to <code>interface User</code>"}, {"owner": {"reputation": 5261, "user_id": 858757, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mMQgQ.png?s=128&g=1", "display_name": "Silvermind", "link": "https://stackoverflow.com/users/858757/silvermind"}, "edited": false, "score": 0, "creation_date": 1574861687, "post_id": 59071315, "comment_id": 104380686, "body": "This looks weird: <code>this.selectedUser = data[&#39;user&#39;];</code>. Does the response contain a <code>user</code> field?  Perhaps debug by <code>console.log(data)</code>"}, {"owner": {"reputation": 473, "user_id": 12360035, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a6cee4a4e07693fc0b890cb6bc93bf61?s=128&d=identicon&r=PG&f=1", "display_name": "Munchkin", "link": "https://stackoverflow.com/users/12360035/munchkin"}, "reply_to_user": {"reputation": 5261, "user_id": 858757, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mMQgQ.png?s=128&g=1", "display_name": "Silvermind", "link": "https://stackoverflow.com/users/858757/silvermind"}, "edited": false, "score": 0, "creation_date": 1574861756, "post_id": 59071315, "comment_id": 104380740, "body": "@Silvermind I changed the class to interface, it didn&#39;t solve the problem. no there is user field in the object as you can see from the model"}, {"owner": {"reputation": 3786, "user_id": 3131085, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/af46eb34957e6fdc051e365e5853aa54?s=128&d=identicon&r=PG&f=1", "display_name": "Jason White", "link": "https://stackoverflow.com/users/3131085/jason-white"}, "edited": false, "score": 0, "creation_date": 1574861780, "post_id": 59071315, "comment_id": 104380749, "body": "which service method is returning undefined?"}, {"owner": {"reputation": 473, "user_id": 12360035, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a6cee4a4e07693fc0b890cb6bc93bf61?s=128&d=identicon&r=PG&f=1", "display_name": "Munchkin", "link": "https://stackoverflow.com/users/12360035/munchkin"}, "reply_to_user": {"reputation": 3786, "user_id": 3131085, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/af46eb34957e6fdc051e365e5853aa54?s=128&d=identicon&r=PG&f=1", "display_name": "Jason White", "link": "https://stackoverflow.com/users/3131085/jason-white"}, "edited": false, "score": 0, "creation_date": 1574861850, "post_id": 59071315, "comment_id": 104380800, "body": "@JasonWhite getUser() and getUserCollection()"}, {"owner": {"reputation": 473, "user_id": 12360035, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a6cee4a4e07693fc0b890cb6bc93bf61?s=128&d=identicon&r=PG&f=1", "display_name": "Munchkin", "link": "https://stackoverflow.com/users/12360035/munchkin"}, "edited": false, "score": 0, "creation_date": 1574861980, "post_id": 59071315, "comment_id": 104380877, "body": "If I add console.log(data); to it it returns an array with the requested objects!"}, {"owner": {"reputation": 5261, "user_id": 858757, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mMQgQ.png?s=128&g=1", "display_name": "Silvermind", "link": "https://stackoverflow.com/users/858757/silvermind"}, "edited": false, "score": 0, "creation_date": 1574862222, "post_id": 59071315, "comment_id": 104380993, "body": "I never said that changing it to an interface would solve your problem, it is just good practice for return types of a httpclient call. Anyway: Your solution is according to your last comment: <code>this.users = data</code>;"}, {"owner": {"reputation": 473, "user_id": 12360035, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a6cee4a4e07693fc0b890cb6bc93bf61?s=128&d=identicon&r=PG&f=1", "display_name": "Munchkin", "link": "https://stackoverflow.com/users/12360035/munchkin"}, "reply_to_user": {"reputation": 5261, "user_id": 858757, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mMQgQ.png?s=128&g=1", "display_name": "Silvermind", "link": "https://stackoverflow.com/users/858757/silvermind"}, "edited": false, "score": 0, "creation_date": 1574862660, "post_id": 59071315, "comment_id": 104381229, "body": "@Silvermind I get the following error if I do so: <code>ERROR in src&#47;app&#47;avior&#47;users&#47;users.component.ts(25,7): error TS2741: Property &#39;user&#39; is missing in type &#39;User[]&#39; but required in type &#39;UserCollection&#39;.</code>"}, {"owner": {"reputation": 430, "user_id": 10509886, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jztmg.png?s=128&g=1", "display_name": "JDunken", "link": "https://stackoverflow.com/users/10509886/jdunken"}, "edited": false, "score": 0, "creation_date": 1574862723, "post_id": 59071315, "comment_id": 104381282, "body": "In <code>getUser</code> the firstName variable has not been set by <code>users.component</code> so that call is going to fail. Also, in <code>AviorBackendService.getUser()</code>, you&#39;re expecting <code>firstname</code> to be of type <code>User</code>."}, {"owner": {"reputation": 473, "user_id": 12360035, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a6cee4a4e07693fc0b890cb6bc93bf61?s=128&d=identicon&r=PG&f=1", "display_name": "Munchkin", "link": "https://stackoverflow.com/users/12360035/munchkin"}, "reply_to_user": {"reputation": 430, "user_id": 10509886, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jztmg.png?s=128&g=1", "display_name": "JDunken", "link": "https://stackoverflow.com/users/10509886/jdunken"}, "edited": false, "score": 0, "creation_date": 1574862796, "post_id": 59071315, "comment_id": 104381331, "body": "@JDunken how do I fix it?"}, {"owner": {"reputation": 430, "user_id": 10509886, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jztmg.png?s=128&g=1", "display_name": "JDunken", "link": "https://stackoverflow.com/users/10509886/jdunken"}, "edited": false, "score": 0, "creation_date": 1574863211, "post_id": 59071315, "comment_id": 104381569, "body": "Initialize the value of firstname in onInit to a blank string and once you have the correct data set it. In the <code>getUser</code> function, change <code>getUser(firstname: User)</code> to <code>getUser(firstname: string)</code> To fix the error you just posted, log the result of that call to the console and verify that its structure is what you think it is."}, {"owner": {"reputation": 473, "user_id": 12360035, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a6cee4a4e07693fc0b890cb6bc93bf61?s=128&d=identicon&r=PG&f=1", "display_name": "Munchkin", "link": "https://stackoverflow.com/users/12360035/munchkin"}, "reply_to_user": {"reputation": 430, "user_id": 10509886, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jztmg.png?s=128&g=1", "display_name": "JDunken", "link": "https://stackoverflow.com/users/10509886/jdunken"}, "edited": false, "score": 0, "creation_date": 1574863428, "post_id": 59071315, "comment_id": 104381708, "body": "@JDunken <code>Property &#39;user&#39; is missing in type &#39;User[]&#39; but required in type &#39;UserCollection&#39;.</code> Please also check out the newly added (which I forgot about) user-collection.model.ts"}], "owner": {"reputation": 473, "user_id": 12360035, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a6cee4a4e07693fc0b890cb6bc93bf61?s=128&d=identicon&r=PG&f=1", "display_name": "Munchkin", "link": "https://stackoverflow.com/users/12360035/munchkin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 350, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1574863359, "creation_date": 1574861279, "last_edit_date": 1574863359, "question_id": 59071315, "link": "https://stackoverflow.com/questions/59071315/angular-httpclient-returns-undefined-instead-of-an-array", "title": "Angular HttpClient returns undefined instead of an array", "body": "<p>So I have an API (which returns JSON) setup and it prints out a message that the users are getting fetched, but my console.log in angular of data returns undefined... Is it mandatory for my use-case to use an Interface or is a model like I use completely fine?? </p>\n\n<p>Bonus points if you also check out my error handling and point out mistakes with it.</p>\n\n<p>My BackEnd service ts:</p>\n\n<pre><code>import { Injectable } from '@angular/core';\nimport { HttpClient, HttpHeaders, HttpResponse } from '@angular/common/http';\nimport { environment } from '../../../environments/environment';\nimport { Observable, of } from 'rxjs';\nimport { catchError, map, tap } from 'rxjs/operators';\nimport { User } from '../models/user.model';\n\nconst SERVICE_URL = 'http://localhost:3000/';\n\n@Injectable()\n\nexport class AviorBackendService {\n\n  constructor(private client: HttpClient) { }\n  UserData: any;\n\n  httpOptions = {\n    headers: new HttpHeaders({ 'Content-Type': 'application/json' })\n  };\n/**\n * Handle Http operation that failed.\n * Let the app continue.\n * @param operation - name of the operation that failed\n * @param result - optional value to return as the observable result\n */\n  private handleError&lt;T&gt;(operation = 'operation', result?: T) {\n    return (error: any): Observable&lt;T&gt; =&gt; {\n\n      // TODO: send the error to remote logging infrastructure\n      console.error(error); // log to console instead\n\n      // TODO: better job of transforming error for user consumption\n      this.log(`${operation} failed: ${error.message}`);\n\n      // Let the app keep running by returning an empty result.\n      return of(result as T);\n    };\n  }\n\n  /**\n   * Log a failed AviorBackend error.\n   * @param message - message of the operation that failed\n   */\nprivate log(message: string) {\n  throw new Error(`AviorBackend: ${message}`);\n}\n\n  getUserCollection() {\n    return this.client.get&lt;User[]&gt;(SERVICE_URL + 'users');\n  }\n  // Get user\n  getUser(firstname: User): Observable&lt;any&gt; {\n    const API_URL = `${SERVICE_URL}user/firstname/${firstname}`;\n    return this.client.get(API_URL, this.httpOptions).pipe(\n      map((res: Response) =&gt; {\n        return res || {};\n      }),\n      catchError(this.handleError())\n    );\n  }\n\n /*  addUser() {\n    return this.client.post(SERVICE_URL + 'user', this.UserData, this.httpOptions);\n  } */\n\n  // Add student\n  addUser(data: User): Observable&lt;any&gt; {\n    const API_URL = `${SERVICE_URL}user`;\n    return this.client.post(API_URL, data)\n      .pipe(\n        catchError(this.handleError())\n      );\n  }\n\n\n  // Update User\n  putUser(loginId, data: User): Observable&lt;any&gt; {\n    const API_URL = `${SERVICE_URL}update/${loginId}`;\n    return this.client.put(API_URL, data, this.httpOptions).pipe(\n      catchError(this.handleError())\n    );\n  }\n  // Delete student\n  deleteUser(id): Observable&lt;any&gt; {\n    const API_URL = `${SERVICE_URL}delete-student/${id}`;\n    return this.client.delete(API_URL).pipe(\n      catchError(this.handleError())\n    );\n  }\n}\n</code></pre>\n\n<p>My User model ts:</p>\n\n<pre><code>import { Role } from './role';\n\nexport class User {\n    id?: number;\n    mandator?: number;\n    loginId?: string;\n    lastName?: string;\n    firstName?: string;\n    password?: string;\n    eMail?: string;\n    group: string;\n    role: Role;\n    active?: boolean;\n    token?: string;\n}\n\n</code></pre>\n\n<p>My users component ts:</p>\n\n<pre><code>import { Component, OnInit } from '@angular/core';\nimport { AviorBackendService } from '../services/avior-backend.service';\nimport { UserCollection } from '../models/user-collection.model';\nimport { User } from '../models/user.model';\n\n@Component({\n  selector: 'app-users',\n  templateUrl: './users.component.html',\n  styleUrls: ['./users.component.css']\n})\nexport class UsersComponent implements OnInit {\n\n  selectedItem: string;\n\n  users: UserCollection;\n  user: User;\n  firstname: string;\n  selectedUser: User;\n\n  constructor(private aviorBackend: AviorBackendService) { }\n\n  ngOnInit() {\n      this.aviorBackend.getUserCollection().subscribe(data =&gt; {\n      // tslint:disable-next-line: no-string-literal\n      this.users = data['users'];\n      console.log(this.users);\n    });\n  }\n\n  clickItem(firstname) {\n      this.aviorBackend.getUser(firstname).subscribe(data =&gt; {\n      // tslint:disable-next-line: no-string-literal\n      this.selectedUser = data['user'];\n      console.log(this.selectedUser);\n    });\n  }\n}\n\n</code></pre>\n\n<pre><code>&lt;div class=\"list-area\"&gt;\n\n  &lt;div class=\"col-lg-12\"&gt;\n\n    &lt;p class=\"list-header\"&gt;Element overview&lt;/p&gt;\n\n    &lt;div class=\"form-group\"&gt;\n      &lt;label for=\"filter\" class=\"lb-sm\"&gt;Filter&lt;/label&gt;\n      &lt;input type=\"text\" class=\"form-control input-sm\" name=\"filter\" id=\"filter\"&gt;\n    &lt;/div&gt;\n\n   &lt;select size=\"20\" multiple class=\"form-control\" id=\"elementlist\" [(ngModel)]=\"selectedItem\" (click)=\"clickItem(firstname)\"&gt;\n      &lt;option *ngFor=\"let user of users\"&gt;\n        {{user?.lastName}}, {{user?.firstName}}\n      &lt;/option&gt;\n    &lt;/select&gt;\n\n  &lt;/div&gt;\n\n&lt;/div&gt;\n\n&lt;div class=\"content-area\"&gt;\n\n  &lt;div class=\"col-lg-12\" *ngIf=\"selectedUser?.id\"&gt;\n\n  &lt;p&gt;Element contents {{selectedUser?.id}}&lt;/p&gt;\n\n  &lt;div class=\"col-lg-12\"&gt;\n    &lt;div class=\"form-group\"&gt;\n      &lt;label for=\"firstName\" class=\"lb-sm\"&gt;First name&lt;/label&gt;\n      &lt;input type=\"text\" class=\"form-control input-sm\" name=\"firstName\" id=\"firstName\" [(ngModel)]=\"selectedUser.firstName\"&gt;\n    &lt;/div&gt;\n  &lt;/div&gt;\n\n  &lt;/div&gt;\n\n&lt;/div&gt;\n\n</code></pre>\n\n<p><strong>UPDATE</strong></p>\n\n<p>My user-collection.model.ts:</p>\n\n<pre><code>import { User } from './user.model';\n\nexport class UserCollection {\n\n    user: User[];\n\n}\n\n</code></pre>\n"}, {"tags": ["angular", "typescript", "typescript-typings"], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 12446038, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/59fc87f3a6b3bbfc767c3417988075f6?s=128&d=identicon&r=PG&f=1", "display_name": "RFMV34", "link": "https://stackoverflow.com/users/12446038/rfmv34"}, "edited": false, "score": 0, "creation_date": 1574862895, "post_id": 59071707, "comment_id": 104381394, "body": "It gives me File is not a module"}, {"owner": {"reputation": 4498, "user_id": 11579919, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/uHipY.jpg?s=128&g=1", "display_name": "nickbullock", "link": "https://stackoverflow.com/users/11579919/nickbullock"}, "reply_to_user": {"reputation": 1, "user_id": 12446038, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/59fc87f3a6b3bbfc767c3417988075f6?s=128&d=identicon&r=PG&f=1", "display_name": "RFMV34", "link": "https://stackoverflow.com/users/12446038/rfmv34"}, "edited": false, "score": 0, "creation_date": 1574863448, "post_id": 59071707, "comment_id": 104381719, "body": "and what if you import directly? <code>import {TEST_CONST} from &#39;@dep&#47;constants&#47;test.js&#39;</code>"}], "tags": [], "owner": {"reputation": 4498, "user_id": 11579919, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/uHipY.jpg?s=128&g=1", "display_name": "nickbullock", "link": "https://stackoverflow.com/users/11579919/nickbullock"}, "is_accepted": false, "score": 0, "last_activity_date": 1574862794, "last_edit_date": 1574862794, "creation_date": 1574862583, "answer_id": 59071707, "question_id": 59071258, "link": "https://stackoverflow.com/questions/59071258/how-to-use-js-file-with-declarations-d-ts-in-angular/59071707#59071707", "title": "How to use .js file with declarations .d.ts in Angular", "body": "<p>Try to add <code>declare</code> and remove <code>export</code>:</p>\n\n<pre><code>declare interface TEST_CONST {\n  parser: string;\n  styler: number;\n}\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 12446038, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/59fc87f3a6b3bbfc767c3417988075f6?s=128&d=identicon&r=PG&f=1", "display_name": "RFMV34", "link": "https://stackoverflow.com/users/12446038/rfmv34"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 89, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1574862794, "creation_date": 1574861123, "last_edit_date": 1574861385, "question_id": 59071258, "link": "https://stackoverflow.com/questions/59071258/how-to-use-js-file-with-declarations-d-ts-in-angular", "title": "How to use .js file with declarations .d.ts in Angular", "body": "<p>I have Angular 7 app and I want to include some typed JS constants from outside of the project (These constants are used in the AngularJS app, so I need to keep it in js). I defined new path in paths in tsconfig.json</p>\n\n<pre><code>{\n  \"compileOnSave\": false,\n  \"compilerOptions\": {\n    \"allowJs\": true,\n    \"outDir\": \"./dist/out-tsc\",\n    \"sourceMap\": true,\n    \"declaration\": false,\n    \"moduleResolution\": \"node\",\n    \"emitDecoratorMetadata\": true,\n    \"experimentalDecorators\": true,\n    \"noImplicitAny\": true,\n    \"suppressImplicitAnyIndexErrors\": true,\n    \"target\": \"es5\",\n    \"typeRoots\": [\n      \"node_modules/@types\"\n    ],\n    \"lib\": [\n      \"es2017\",\n      \"dom\"\n    ],\n    \"baseUrl\": \"src\",\n    \"paths\": {\n      \"@app/*\": [\"app/*\"],\n      \"@env/*\": [\"environments/*\"],\n      \"@dep/*\": [\"../../web-common/*\"]\n    }\n  }\n} \n</code></pre>\n\n<p>In @dep i have test.js and test.d.ts that contains following</p>\n\n<pre><code>export const TEST_CONST = {\n  parser: 'CSV',\n  styler: 'XVE'\n};\n</code></pre>\n\n<p>and </p>\n\n<pre><code>export interface TEST_CONST {\n  parser: string;\n  styler: number;\n}\n</code></pre>\n\n<p>But when I import it and start using </p>\n\n<pre><code>import {TEST_CONST} from '@dep/constants/test';\n</code></pre>\n\n<p>...</p>\n\n<pre><code>console.log(TEST_CONST.styler);\n</code></pre>\n\n<p>It gives me </p>\n\n<blockquote>\n  <p><strong>error TS2693: 'TEST_CONST' only refers to a type, but is being used as a value here.</strong></p>\n</blockquote>\n\n<p>I also tried to import '<em>@dep/constants/test.js</em>' but it is same....\nHow to import js file with typings into Angular app? As I understand it, this should be possible.</p>\n"}, {"tags": ["typescript"], "comments": [{"owner": {"reputation": 7276, "user_id": 5784924, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/LC3Oq.png?s=128&g=1", "display_name": "Nicolas", "link": "https://stackoverflow.com/users/5784924/nicolas"}, "edited": false, "score": 0, "creation_date": 1574860595, "post_id": 59071058, "comment_id": 104380054, "body": "Could you explain what happen when you try to rename it ?"}, {"owner": {"reputation": 1691, "user_id": 1934402, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/FK6YQ.jpg?s=128&g=1", "display_name": "yaharga", "link": "https://stackoverflow.com/users/1934402/yaharga"}, "reply_to_user": {"reputation": 7276, "user_id": 5784924, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/LC3Oq.png?s=128&g=1", "display_name": "Nicolas", "link": "https://stackoverflow.com/users/5784924/nicolas"}, "edited": false, "score": 0, "creation_date": 1574860652, "post_id": 59071058, "comment_id": 104380090, "body": "I didn&#39;t rename it, yet. I just want the <code>id</code> in UpdatedUser to refer to the <code>_id</code> in User."}, {"owner": {"reputation": 28393, "user_id": 5669456, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/aeueo.png?s=128&g=1", "display_name": "ford04", "link": "https://stackoverflow.com/users/5669456/ford04"}, "edited": false, "score": 1, "creation_date": 1574937027, "post_id": 59071058, "comment_id": 104408837, "body": "@yaharga gave a fix for <code>PickRenameMulti</code> and some improvement with <code>PickRenameMultiV2</code> in my updated answer, in case you are interested."}, {"owner": {"reputation": 1691, "user_id": 1934402, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/FK6YQ.jpg?s=128&g=1", "display_name": "yaharga", "link": "https://stackoverflow.com/users/1934402/yaharga"}, "reply_to_user": {"reputation": 28393, "user_id": 5669456, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/aeueo.png?s=128&g=1", "display_name": "ford04", "link": "https://stackoverflow.com/users/5669456/ford04"}, "edited": false, "score": 0, "creation_date": 1574939709, "post_id": 59071058, "comment_id": 104410305, "body": "@ford04 Thanks for the update, appreciate it!"}], "answers": [{"tags": [], "owner": {"reputation": 979, "user_id": 360424, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/iZQJJ.jpg?s=128&g=1", "display_name": "Martin", "link": "https://stackoverflow.com/users/360424/martin"}, "is_accepted": false, "score": 3, "last_activity_date": 1574861643, "creation_date": 1574861643, "answer_id": 59071434, "question_id": 59071058, "link": "https://stackoverflow.com/questions/59071058/how-to-pick-and-rename-certain-keys-using-typescript/59071434#59071434", "title": "How to Pick and rename certain keys using Typescript?", "body": "<p>A <em>slightly</em> cleaner version would be ...</p>\n\n<pre><code>export interface UpdatedUser extends Pick&lt;User, 'name'&gt; {\n  id: User['_id'];\n}\n</code></pre>\n\n<p>... but I'm not sure how to rename it on-the-fly as you're suggesting. It's an interesting use-case.</p>\n"}, {"comments": [{"owner": {"reputation": 15749, "user_id": 4420812, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9yQ4D.jpg?s=128&g=1", "display_name": "Maciej Sikora", "link": "https://stackoverflow.com/users/4420812/maciej-sikora"}, "edited": false, "score": 2, "creation_date": 1574863803, "post_id": 59071783, "comment_id": 104381951, "body": "I was almost to put very similar utility type. Ech you were fast. Nice job!"}], "tags": [], "owner": {"reputation": 28393, "user_id": 5669456, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/aeueo.png?s=128&g=1", "display_name": "ford04", "link": "https://stackoverflow.com/users/5669456/ford04"}, "is_accepted": true, "score": 16, "last_activity_date": 1612632803, "last_edit_date": 1612632803, "creation_date": 1574862832, "answer_id": 59071783, "question_id": 59071058, "link": "https://stackoverflow.com/questions/59071058/how-to-pick-and-rename-certain-keys-using-typescript/59071783#59071783", "title": "How to Pick and rename certain keys using Typescript?", "body": "<p>There is no built-in type for a renaming <a href=\"https://www.typescriptlang.org/docs/handbook/utility-types.html#picktype-keys\" rel=\"noreferrer\"><code>Pick</code></a>, fortunately we can create one with reasonable effort.</p>\n<h3>Simple variant</h3>\n<pre><code>type IdRenamed = Omit&lt;User, &quot;_id&quot;&gt; &amp; { id: User[&quot;_id&quot;] }\n// { name: string; email: string; password: string; phone: number; id: string;}\n</code></pre>\n<p><a href=\"https://www.typescriptlang.org/play?#code/JYOwLgpgTgZghgYwgAgKoGdrIN4FgBQyRyA%20sACYBcy6YUoA5gNwHHIhwC2E1t9IzVsQic4wADa86jFoWIAHOOnQB3APZQqNaQNlt5ACzUge7AK6cARtFkBfAgQTHaySLQAicMHGQBeHMgU1ABEAIzBADTsXKbBADJmwJHIImKSyMEwamoAApZwUMmKyuqaIegAzAhQFWBFRibUoQBMFcj2%20AQA9F3IAMJKKKHUALJwIGZw4sgACsAIANbI4%20TIAEoQHNwEYACe8igAkuQbWxCr-gDynMBgADwY0FHBZOTBAHzIAGQBQWiYUAA2i8KMEALrtRzOMCuYbIY6nGIXVwQDxeOBAA\" rel=\"noreferrer\">Playground</a></p>\n<h3>Dynamic version for single property</h3>\n<pre><code>type PickRename&lt;T, K extends keyof T, R extends PropertyKey&gt; =\n    Omit&lt;T, K&gt; &amp; { [P in R]: T[K] }\n\ntype T21 = PickRename&lt;User, &quot;_id&quot;, &quot;id&quot;&gt; // same type as above\ntype T22 = PickRename&lt;User, &quot;foo&quot;, &quot;id&quot;&gt; // error, foo is no property\n</code></pre>\n<p><a href=\"https://www.typescriptlang.org/play?#code/JYOwLgpgTgZghgYwgAgKoGdrIN4FgBQyRyA%20sACYBcy6YUoA5gNwHHIhwC2E1t9IzVsQic4wADa86jFoWIAHOOnQB3APZQqNaQNlt5ACzUge7AK6cARtFkBfAgQTHaySLQAicMHGQBeHMgU1ABEAIzBADTsXKbBADJmwJHIImKSyMEwamoAApZwUMmKyuqaIegAzAhQFWBFRibUoQBMFcj2%20AQA9F3IAMJKKM3UAMoQilBeKAAKwAgA1gBKEBzcrgCe8ihZUDSM4ijyUGpbUGDrBOdbyLMLy6sQADwAKlEA0ikAHpAg5OjI8wg6zUMGQr2Qiy%20Pz%20N2Op3ObyBAD4-EIiAB5TjAMAvd4ogBkAQA2tNAiAIQBdajPIlvCntBz4K4oZ7NUJ%20G5zJYrGKPDDQKLBMjkZLBCjBJGXTYs5rNDm3bkPPmYKCCrJqUXilE9FJQY6q5DqwL-EBqZBHE7Qc6OZxgVxs6lsjluMCebxAA\" rel=\"noreferrer\">Playground</a></p>\n<p><a href=\"https://devblogs.microsoft.com/typescript/announcing-typescript-4-1/#key-remapping-mapped-types\" rel=\"noreferrer\">TS 4.1</a> Alternative: use <a href=\"https://github.com/microsoft/TypeScript/pull/40336\" rel=\"noreferrer\">mapped type <code>as</code> clauses</a>. Its advantage is that <code>readonly</code> or optional (<code>?</code>) modifiers of properties are preserved (see homomorphic mapped types <a href=\"https://github.com/microsoft/TypeScript/pull/12563\" rel=\"noreferrer\">1</a>, <a href=\"https://github.com/microsoft/TypeScript/pull/12826\" rel=\"noreferrer\">2</a> for more details).</p>\n<pre><code>type PickRename&lt;T, K extends keyof T, R extends PropertyKey&gt; = {\n    [P in keyof T as P extends K ? R : P]: T[P]\n} // type instantiation same as previous example\n</code></pre>\n<p><a href=\"https://www.typescriptlang.org/play?#code/PTAEAkHsFscgnADgCwJYGNQEMA2AXAU3gDss9UA3AgZ1AHdU9lQAVAZVABYA6ARlGhZEiAgBNQeAJ4jstdDiwBXagQCwAKA2piheADMs6AqACqK+KADeG0LdDwCWUZGI5JoAPqpRAfgBcoNR48NoA5gDcNnak0AT+gcFhkep2oASCqDgBQSHEEVG2iFjU1HQIotmJecmpKC4EAcSK0ABGRMkAvhoa6C5BEjR4ACJkWKAAvFag3gEARLyzADSgMQ2gswAyiqhLaRlZ63qQkAACLVjwu0UlZfAV69QAzOjwj3hXyPUBvABMj6BdTTqECgADCxWMPwCbAIRXgZGMAAUMABrABKBFWEmkxiOFmoYRwxkQ8EgIngUg0UhkyPQ6MxWFiAB4WMsANJpAAehGIoloKIIkkgelYyzRXJ5fNAiNJ5KkbMFAD4JlYCqAANqI6bEUACoUiliyaUSzFSjk+UDigKIgC6ARYmptGg6IOpxm0QSwOlQZFQLkCjOMxVAJIIFD9yi5jMQRO66jdrB+-EmtPpqyZZiIy1mXlEu1m3lmiqpOMTPxVqYx6cz8GzR0g+cLxfUogI8guxl6xH6eCT9qTVKT3G8oBBI6CmRw01orfbDnEwbJ5BcuGwel0AiEiDCoAAhEA\" rel=\"noreferrer\">Playground</a></p>\n<h3>Dynamic version for multiple properties</h3>\n<pre><code>type PickRenameMulti&lt;T, R extends\n    { [K in keyof R]: K extends keyof T ? PropertyKey : &quot;Error: key not in T&quot; }\n    &gt; = Omit&lt;T, keyof R&gt; &amp; UnionToIntersection&lt;\n        { [P in keyof R &amp; keyof T]: { [PP in R[P]]: T[P] } }[keyof R &amp; keyof T]\n    &gt;\n\ntype UnionToIntersection&lt;U&gt; = (U extends any ? (k: U) =&gt; void : never) extends\n    ((k: infer I) =&gt; void) ? I : never\n\ntype T31 = PickRenameMulti&lt;User, { _id: &quot;id&quot;; name: &quot;firstName&quot; }&gt;\ntype T32 = PickRenameMulti&lt;User, { foo: &quot;id&quot; }&gt; // error, foo is no property\n</code></pre>\n<p>Note: See the great <a href=\"https://stackoverflow.com/questions/50374908/transform-union-type-to-intersection-type\"><code>UnionToIntersection</code></a> type for more details on the helper.</p>\n<p><a href=\"https://www.typescriptlang.org/play?#code/JYOwLgpgTgZghgYwgAgKoGdrIN4FgBQyRyA+sACYBcy6YUoA5gNwHHIhwC2E1t9IzVsQic4wADa86jFoWIAHOOnQB3APZQqNaQNlt5ACzUge7AK6cARtFkBfAgQTHaySLQAicMHGQBeHMgU1ABEAIzBADTsXKbBADJmwJHIImKSyMEwamoAApZwUMmKyuqaIegAzAhQFWBFRibUoQBMFcj2+AQA9F3IAMJKKBXUAMoQilBeKAAKwAgA1gBKEBzcrgCe8ihZUMicZuJgwPLiKPJQaltQRxDo3b0AYhrI1mCQu6DowAwGYMjkwGUEAQfzABhQYE2KFANFE4lOuwmYHQyDgIHIyBUXgQBlc4M4yCgtzU4gAbignCBMAgzEdyeJ1gA6AiQrbIWYLZarCAAWQORwAPAAVKKLFIAD0g6LuciI2GQAG0ANKBEDIeYQdZqGDIRYAXWoKogkpW5BRGq1OqFyAA-OyLldIUrNcgQgBRKAXKDUC3sNR-GFC4LtIREAB8fmQAHlOMAwMKohbtbqIwAyNAgYDGIVqACS4Gg1KOxgFobYAQV01V6s1ybF6aTVoNFemVZhi0reubQs77XaCsbuuQDdrTbLYfuyAAEhBxFcWVCM1mQDn8+8i8uBagI-4ABSoCVSs2okDrW3IXfzaioACUfgjpLUFFd7Ag5Kgd+NR5lbF3l+ooAwFguZ3r4D5PuQd52rmL4mO+Dj4KyKBChUoSRhySwrDEfKHMAW6YFAUTymQWjBBQwRMNE3AhDAwBQLQAByMTBrYE6IYuKHNOhcyYdyOGChg0BEcgWRqCE5HtBGPQpJ6GhRKJgQoiAajIOclzQJCjjOH88rctQtH0WATHcFEjJmUSLi2JGbhgJ43haVSoKodQKFof48pmYyFlgPJdGMTEIadPgxryBoOntEAA\" rel=\"noreferrer\">Playground</a></p>\nTS 4.1 again eases up syntax and produces homomorphic mapped types:\n<pre><code>type PickRenameMulti&lt;T, R extends\n    { [K in keyof R]: K extends keyof T ? PropertyKey : &quot;Error: key not in T&quot; }\n    &gt; = { [P in keyof T as P extends keyof R ? R[P] : P]: T[P] }\n</code></pre>\n<p><a href=\"https://www.typescriptlang.org/play?#code/JYOwLgpgTgZghgYwgAgKoGdrIN4FgBQyRyUEcAJgPYgA2AnsgPrDkD8AXMumFKAOYBuAsWQg4AWwiduvEIOHEI4uMBocuPfkMLEADnHToA7pSjlpmudpG6AFtSmiAruIBG0bQF8CBBNW7IkNwAInBgcMgAvDjILJwARACM8QA0ohKO8QAyTsCpyEoqNAkwlJQAAq5wUPn6hiZmCegAzAhQzWC19iCOiQBMzcje%20AQA9KPIAMIGKM2cAMoQ%20lBhKAAKwAgA1gBKEGKSgXS6KKVQyOJONGDAujQoulCUJ1A3EOgEYMfrm7v7GQBZK43AA8ABU0jsCgAPSAgcgfHREbDIADaAGlYiBkFsIHRKDBkDsALqcTEQWH7BE4vEE5Bg5CsZBrJ4vL7ovHIBIAUSgTygnFxDBAlDAWPp8SGCiIAD4ojFUWtxUK6QyDMyYXDqSrCVCmTtFcSuczSfTDVKRvgvid6c1EvKNts9gcIEDrsAQRhoGkUcxzMh4ix4gJ0pISsAoNwAHIZSWeGWfb62voO37OwHAj1eqA%205ClSgJINDOXjAp80xpfOxdCiSjIR7PaBfXz%20MUol2cGAR6MZNIAOgHpACnnlQTAoXCLZAATAds4YLt8pRA77Q7Ale7YBjh2GpajopQYFsYRIZCotAYcHhyGeN2ocBoF0o5GAXegNbOsXIyCv38Kqh-UgNFUR9HneaAADcIHIHx8ApXRTDbIYgA\" rel=\"noreferrer\">Playground</a></p>\n<h3>TS 4.1: Drop <code>_</code> prefix from all property keys</h3>\n<pre><code>type DropUnderscore&lt;T&gt; = {\n    [K in keyof T as K extends `_${infer I }` ? I : K]: T[K]\n};\ntype T4 = DropUnderscore&lt;User&gt; // &quot;_id&quot; and &quot;_email&quot; renamed to &quot;id&quot;, &quot;email&quot;\n</code></pre>\n<p><a href=\"https://www.typescriptlang.org/play?#code/JYOwLgpgTgZghgYwgAgKoGdrIN4FgBQyRyUEcAJgPYgA2AnsgPrDkD8AXMumFKAOYBuAsWQg4AWwgcuPfkMLFGEcXGA1O3XiEHDiABzjp0Ad0pRyG2dvki9AC2oROIAK7iARtHkBfAgQTU3MiQ3AAicGBwyAC8OMgsnABEAIyJADSiEk7IiQAyLsDpyMqq6jkwlJQAAu5wUEUGRqbmSegAzAhQbWANDiDZyQBMbci++AQA9BPIAMKGKAAsnKFQlHpMyHqkMMAAHsgwq+LIcDQ0m6t60GAMANYQdOgEN1fIK2uoIOTQ6AGkADwAFQAfDEcLoiABtADS8RAyHudEoMGQgJO6GQsIgu0gXwxAANGAASbCgGBYACSo3xyFYyCpnGhAF1OICYUyCN55C8UICFmD3npPt8oL8zBB-hhoKCpjlmOREicvnKSmpFaQxJJyMFKDkWEVEqqaIl-IEwMElqj+bEQmBwpEgA\" rel=\"noreferrer\">Playground</a></p>\n"}], "owner": {"reputation": 1691, "user_id": 1934402, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/FK6YQ.jpg?s=128&g=1", "display_name": "yaharga", "link": "https://stackoverflow.com/users/1934402/yaharga"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2170, "favorite_count": 2, "accepted_answer_id": 59071783, "answer_count": 2, "score": 5, "last_activity_date": 1612632803, "creation_date": 1574860413, "last_edit_date": 1574861368, "question_id": 59071058, "link": "https://stackoverflow.com/questions/59071058/how-to-pick-and-rename-certain-keys-using-typescript", "title": "How to Pick and rename certain keys using Typescript?", "body": "<p>I have an interface <code>User</code>:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>interface User {\n    _id     : string;\n    name    : string;\n    email   : string;\n    password: string;\n    phone   : number;\n}\n</code></pre>\n\n<p>I have another interface <code>UpdatedBy</code>:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>interface UpdatedUser {\n    id  : string;\n    name: string;\n}\n</code></pre>\n\n<p>I know I can use <code>Pick</code>, but I want to rename <code>_id</code> to <code>id</code> in the <code>UpdatedUser</code> interface.</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>type UpdatedUser = Pick&lt;User, '_id' | 'name'&gt;; // How can I turn _id into id?\n</code></pre>\n\n<hr>\n\n<p>Update: I basically want to do a cleaner version of this:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>export interface UpdatedUser extends Pick&lt;User, 'name'&gt; {\n    id  : Extract&lt;User, '_id'&gt;;\n}\n</code></pre>\n"}, {"tags": ["angular", "typescript", "rxjs6", "angular2-observables"], "comments": [{"owner": {"reputation": 2401, "user_id": 9890873, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/lkm7i.jpg?s=128&g=1", "display_name": "Jacopo Sciampi", "link": "https://stackoverflow.com/users/9890873/jacopo-sciampi"}, "edited": false, "score": 1, "creation_date": 1574861697, "post_id": 59071026, "comment_id": 104380695, "body": "Does the code this.isLoader = false get called? Does it stop there if you put a breakpoint?"}, {"owner": {"reputation": 1396, "user_id": 7548062, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/rcwjX.jpg?s=128&g=1", "display_name": "Pavel", "link": "https://stackoverflow.com/users/7548062/pavel"}, "reply_to_user": {"reputation": 2401, "user_id": 9890873, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/lkm7i.jpg?s=128&g=1", "display_name": "Jacopo Sciampi", "link": "https://stackoverflow.com/users/9890873/jacopo-sciampi"}, "edited": false, "score": 0, "creation_date": 1574862643, "post_id": 59071026, "comment_id": 104381220, "body": "@Jacopo Sciampi on the breakpoints <code>isLoader</code> have the right values but template no react on changes."}, {"owner": {"reputation": 2401, "user_id": 9890873, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/lkm7i.jpg?s=128&g=1", "display_name": "Jacopo Sciampi", "link": "https://stackoverflow.com/users/9890873/jacopo-sciampi"}, "edited": false, "score": 1, "creation_date": 1574863328, "post_id": 59071026, "comment_id": 104381644, "body": "Perfect. I have another question. Are you using the OnPush strategy? You can see it in the component&#39;s decorator."}, {"owner": {"reputation": 1396, "user_id": 7548062, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/rcwjX.jpg?s=128&g=1", "display_name": "Pavel", "link": "https://stackoverflow.com/users/7548062/pavel"}, "reply_to_user": {"reputation": 2401, "user_id": 9890873, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/lkm7i.jpg?s=128&g=1", "display_name": "Jacopo Sciampi", "link": "https://stackoverflow.com/users/9890873/jacopo-sciampi"}, "edited": false, "score": 0, "creation_date": 1574863522, "post_id": 59071026, "comment_id": 104381776, "body": "@Jacopo Sciampi what are You mean about OnPush strategy? In my components decorator only <code>@Component({     selector: &#39;app-form&#39;,     templateUrl: &#39;.&#47;form.component.html&#39;,     styleUrls: [&#39;.&#47;form.component.scss&#39;] })</code>"}, {"owner": {"reputation": 2401, "user_id": 9890873, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/lkm7i.jpg?s=128&g=1", "display_name": "Jacopo Sciampi", "link": "https://stackoverflow.com/users/9890873/jacopo-sciampi"}, "edited": false, "score": 1, "creation_date": 1574863740, "post_id": 59071026, "comment_id": 104381905, "body": "Usually if Angular doesn&#39;t update the view is because of this strategy. But this is not the case. Last thing I have in mind right now is to try to wrap the code inside the function that does the logic in an ngZone.runoutsideangular function: <a href=\"https://angular.io/api/core/NgZone\" rel=\"nofollow noreferrer\">angular.io/api/core/NgZone</a>"}, {"owner": {"reputation": 1396, "user_id": 7548062, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/rcwjX.jpg?s=128&g=1", "display_name": "Pavel", "link": "https://stackoverflow.com/users/7548062/pavel"}, "reply_to_user": {"reputation": 2401, "user_id": 9890873, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/lkm7i.jpg?s=128&g=1", "display_name": "Jacopo Sciampi", "link": "https://stackoverflow.com/users/9890873/jacopo-sciampi"}, "edited": false, "score": 0, "creation_date": 1574867282, "post_id": 59071026, "comment_id": 104384075, "body": "@Jacopo Sciampi <code>ngZone.runoutsideangular</code> the function takes a surprisingly good performance but issue with doesn&#39;t update the view not resolve, only setTimeout wrapper solve it("}, {"owner": {"reputation": 2401, "user_id": 9890873, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/lkm7i.jpg?s=128&g=1", "display_name": "Jacopo Sciampi", "link": "https://stackoverflow.com/users/9890873/jacopo-sciampi"}, "edited": false, "score": 1, "creation_date": 1574868364, "post_id": 59071026, "comment_id": 104384659, "body": "I&#39;ve done an example in local and it works perfectly. If you try to comment the logic in the service (this.store = ....) does it works?"}, {"owner": {"reputation": 1396, "user_id": 7548062, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/rcwjX.jpg?s=128&g=1", "display_name": "Pavel", "link": "https://stackoverflow.com/users/7548062/pavel"}, "reply_to_user": {"reputation": 2401, "user_id": 9890873, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/lkm7i.jpg?s=128&g=1", "display_name": "Jacopo Sciampi", "link": "https://stackoverflow.com/users/9890873/jacopo-sciampi"}, "edited": false, "score": 0, "creation_date": 1574870198, "post_id": 59071026, "comment_id": 104385624, "body": "@Jacopo Sciampi this repo on git method <code>load()</code>  <a href=\"https://github.com/triodjangopiter/backtest-converter/blob/filter_item/src/app/modules/converter/components/form/form.component.ts\" rel=\"nofollow noreferrer\">github.com/triodjangopiter/backtest-converter/blob/filter_it&zwnj;&#8203;em/&hellip;</a> and problem service <a href=\"https://github.com/triodjangopiter/backtest-converter/blob/filter_item/src/app/modules/converter/services/store.service.ts\" rel=\"nofollow noreferrer\">github.com/triodjangopiter/backtest-converter/blob/filter_it&zwnj;&#8203;em/&hellip;</a>"}, {"owner": {"reputation": 2401, "user_id": 9890873, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/lkm7i.jpg?s=128&g=1", "display_name": "Jacopo Sciampi", "link": "https://stackoverflow.com/users/9890873/jacopo-sciampi"}, "edited": false, "score": 1, "creation_date": 1574870707, "post_id": 59071026, "comment_id": 104385919, "body": "Thank you Pavel, I&#39;ll look into it when I&#39;m home later."}], "answers": [{"comments": [{"owner": {"reputation": 1396, "user_id": 7548062, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/rcwjX.jpg?s=128&g=1", "display_name": "Pavel", "link": "https://stackoverflow.com/users/7548062/pavel"}, "edited": false, "score": 0, "creation_date": 1574862433, "post_id": 59071424, "comment_id": 104381110, "body": "<code>isProcess</code> and <code>isLoader</code> this mistake of question description I fix it. Unfortunately getter and setter not change anything."}, {"owner": {"reputation": 1528, "user_id": 12171299, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/B0Kus.jpg?s=128&g=1", "display_name": "German Quinteros", "link": "https://stackoverflow.com/users/12171299/german-quinteros"}, "reply_to_user": {"reputation": 1396, "user_id": 7548062, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/rcwjX.jpg?s=128&g=1", "display_name": "Pavel", "link": "https://stackoverflow.com/users/7548062/pavel"}, "edited": false, "score": 0, "creation_date": 1574870137, "post_id": 59071424, "comment_id": 104385596, "body": "Thanks for updated the question. I realize that I forget to set <code>isLoader = true</code> before you call <code>this.backtestService.setStore(content)</code>.  I have just updated my answer try it now."}, {"owner": {"reputation": 1396, "user_id": 7548062, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/rcwjX.jpg?s=128&g=1", "display_name": "Pavel", "link": "https://stackoverflow.com/users/7548062/pavel"}, "edited": false, "score": 0, "creation_date": 1574870490, "post_id": 59071424, "comment_id": 104385799, "body": "oh this not a problem I catch your idea about get/set"}, {"owner": {"reputation": 1528, "user_id": 12171299, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/B0Kus.jpg?s=128&g=1", "display_name": "German Quinteros", "link": "https://stackoverflow.com/users/12171299/german-quinteros"}, "reply_to_user": {"reputation": 1396, "user_id": 7548062, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/rcwjX.jpg?s=128&g=1", "display_name": "Pavel", "link": "https://stackoverflow.com/users/7548062/pavel"}, "edited": false, "score": 0, "creation_date": 1574870728, "post_id": 59071424, "comment_id": 104385933, "body": "Does it work? Because of not we can use Observable and the async pipe in the *ngIf"}, {"owner": {"reputation": 1396, "user_id": 7548062, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/rcwjX.jpg?s=128&g=1", "display_name": "Pavel", "link": "https://stackoverflow.com/users/7548062/pavel"}, "edited": false, "score": 0, "creation_date": 1574871106, "post_id": 59071424, "comment_id": 104386145, "body": "no, unfortunately, reason not into the directive. I stay link on the source in the comment bellow of the question, this git repo with full code."}], "tags": [], "owner": {"reputation": 1528, "user_id": 12171299, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/B0Kus.jpg?s=128&g=1", "display_name": "German Quinteros", "link": "https://stackoverflow.com/users/12171299/german-quinteros"}, "is_accepted": true, "score": 1, "last_activity_date": 1574870059, "last_edit_date": 1574870059, "creation_date": 1574861609, "answer_id": 59071424, "question_id": 59071026, "link": "https://stackoverflow.com/questions/59071026/difference-observable-wait-and-settimeout-for-rerendering-view-template-in-angul/59071424#59071424", "title": "Difference Observable wait and setTimeout for rerendering view template in Angular", "body": "<p>I think the problem here is that <code>isLoader</code> is not updating his value in the DOM. </p>\n\n<p>Let's try using <code>get/set</code> that we know they will update they value.</p>\n\n<pre><code>private _isLoader: boolean = false;\npublic get isLoader() {\n   return this._isLoader;\n}\npublic set isLoader(value: boolean) {\n   this._isLoader = value;\n}\ncallsetStore(): {\n   this.isLoader = true;\n   this.backtestService\n    .setStore(content)\n    .pipe(finalize(() =&gt; {\n        this.isLoader = false;\n    }))\n    .subscribe(() =&gt; {...});\n}\n</code></pre>\n\n<p>Then in the html:</p>\n\n<pre><code>&lt;app-loading-overlay *ngIf=\"isLoader\"&gt;&lt;/app-loading-overlay&gt;\n</code></pre>\n\n<p>With that, I think it should work know. Try it and if it doesn't work we will try another approach.</p>\n"}, {"tags": [], "owner": {"reputation": 2687, "user_id": 11769164, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-cascCTYxkPQ/AAAAAAAAAAI/AAAAAAAAAkQ/KzEi1WfT8Ks/photo.jpg?sz=128", "display_name": "Ashot Aleqsanyan", "link": "https://stackoverflow.com/users/11769164/ashot-aleqsanyan"}, "is_accepted": false, "score": 1, "last_activity_date": 1574874440, "creation_date": 1574874440, "answer_id": 59075242, "question_id": 59071026, "link": "https://stackoverflow.com/questions/59071026/difference-observable-wait-and-settimeout-for-rerendering-view-template-in-angul/59075242#59075242", "title": "Difference Observable wait and setTimeout for rerendering view template in Angular", "body": "<p>I think You need to call <code>ngZone.run</code> into your callback function of <code>ngZone.runOutsideAngular</code> please have a llok at the screenshot and you can check it from here <a href=\"https://angular.io/api/core/NgZone#runOutsideAngular\" rel=\"nofollow noreferrer\">https://angular.io/api/core/NgZone#runOutsideAngular</a><a href=\"https://i.stack.imgur.com/zJFzp.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/zJFzp.png\" alt=\"enter image description here\"></a></p>\n"}], "owner": {"reputation": 1396, "user_id": 7548062, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/rcwjX.jpg?s=128&g=1", "display_name": "Pavel", "link": "https://stackoverflow.com/users/7548062/pavel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 130, "favorite_count": 0, "accepted_answer_id": 59071424, "answer_count": 2, "score": 0, "last_activity_date": 1574874440, "creation_date": 1574860301, "last_edit_date": 1574862056, "question_id": 59071026, "link": "https://stackoverflow.com/questions/59071026/difference-observable-wait-and-settimeout-for-rerendering-view-template-in-angul", "title": "Difference Observable wait and setTimeout for rerendering view template in Angular", "body": "<p>I have local storage for the sort data which can take a while:</p>\n\n<pre><code>private store: IBacktest[] = [];\n\npublic setStore(content: string): Observable&lt;void&gt; {\n    return new Observable&lt;void&gt;((observer) =&gt; {\n            this.store = content\n                .trim()\n                .split('\\n')\n                .map(item =&gt; toTestCase(item))\n                .sort((a, b) =&gt; b.profitToDropDown - a.profitToDropDown);\n            observer.next();\n            observer.complete();\n        }\n    );\n}\n</code></pre>\n\n<p>Amount of elements 5000 - 10000 and it get 10 - 30 seconds because of <code>toTestCase</code>, not a cheap operation. And I want to render loader a more user-friendly interface:</p>\n\n<pre><code>this.isLoader = true;\nthis.backtestService\n    .setStore(content)\n    .pipe(finalize(() =&gt; {\n        this.isLoader = false;\n    }))\n    .subscribe(() =&gt; {...});\n</code></pre>\n\n<p>And <code>&lt;app-loading-overlay *ngIf=\"isLoader\"&gt;&lt;/app-loading-overlay&gt;</code> in template.</p>\n\n<p>But when <code>isLoader = true</code> and I can see it in debug mode loading-overlay not rendering.</p>\n\n<p>But when I try to test its logic with <code>setTimeout()</code> like this: <code>setTimeout(() =&gt; { this.isLoader = false; }, 100000)</code> all work properly and loader is visible.</p>\n\n<p>What is the problem with my observable use and how to fix it without redundant wrappers like <code>setTimeout()</code> or something similar crutches?</p>\n"}, {"tags": ["javascript", "angular", "typescript", "spring-boot", "filesaver.js"], "comments": [{"owner": {"reputation": 958, "user_id": 7404189, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9181c457cf193f4dc089ff4b93ed4fa2?s=128&d=identicon&r=PG&f=1", "display_name": "hrdkisback", "link": "https://stackoverflow.com/users/7404189/hrdkisback"}, "edited": false, "score": 0, "creation_date": 1575011821, "post_id": 59070976, "comment_id": 104433070, "body": "Refer this <a href=\"https://stackoverflow.com/questions/57202784/angular-springboot-downlod-excel-file-httperrorresponse/57248351#57248351\" title=\"angular springboot downlod excel file httperrorresponse\">stackoverflow.com/questions/57202784/&hellip;</a>"}, {"owner": {"user_type": "does_not_exist", "display_name": "user5761419"}, "reply_to_user": {"reputation": 958, "user_id": 7404189, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9181c457cf193f4dc089ff4b93ed4fa2?s=128&d=identicon&r=PG&f=1", "display_name": "hrdkisback", "link": "https://stackoverflow.com/users/7404189/hrdkisback"}, "edited": false, "score": 1, "creation_date": 1575032712, "post_id": 59070976, "comment_id": 104442486, "body": "I finally solved the issue by introducing anchor tag in html code - &lt;a href=&quot;/download/file.xlsm/{{selecteddate}}&quot; target=&quot;_blank&quot; download=&quot;file.xlsm&quot;&gt;&lt;/a&gt; .    This doesnt require any angular/typescript code."}], "answers": [{"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user5761419"}, "edited": false, "score": 0, "creation_date": 1574861734, "post_id": 59071178, "comment_id": 104380720, "body": "Still same error comes after changing to arraybuffer."}, {"owner": {"reputation": 1901, "user_id": 1254417, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jPKR7.jpg?s=128&g=1", "display_name": "Andriy Budzinskyy", "link": "https://stackoverflow.com/users/1254417/andriy-budzinskyy"}, "edited": false, "score": 0, "creation_date": 1574865399, "post_id": 59071178, "comment_id": 104382938, "body": "@FKMN Does API return the correct file but from angular it&#39;s corrupted? can you remove <code>charset=unicode</code> from everywhere?"}, {"owner": {"user_type": "does_not_exist", "display_name": "user5761419"}, "edited": false, "score": 0, "creation_date": 1574922970, "post_id": 59071178, "comment_id": 104402236, "body": "I have removed and tried. Still same problem. Is this the correct way of doing it? I am returning xlsm file with macro enabled in it from spring boot backend."}], "tags": [], "owner": {"reputation": 1901, "user_id": 1254417, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jPKR7.jpg?s=128&g=1", "display_name": "Andriy Budzinskyy", "link": "https://stackoverflow.com/users/1254417/andriy-budzinskyy"}, "is_accepted": false, "score": 0, "last_activity_date": 1574860806, "creation_date": 1574860806, "answer_id": 59071178, "question_id": 59070976, "link": "https://stackoverflow.com/questions/59070976/unable-to-export-excel-xlsm-in-angular-7-with-spring-boot-backend/59071178#59071178", "title": "Unable to export excel (xlsm) in angular 7 - with spring boot backend", "body": "<p>You have wrong <code>responseType</code>value in your <code>exportAlluserData()</code> method:</p>\n\n<pre><code>responseType: 'blob' as 'json'\n</code></pre>\n\n<p>Replace it with: <code>responseType: 'arraybuffer'</code>.</p>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user5761419"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 315, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1587134552, "creation_date": 1574860110, "last_edit_date": 1587134552, "question_id": 59070976, "link": "https://stackoverflow.com/questions/59070976/unable-to-export-excel-xlsm-in-angular-7-with-spring-boot-backend", "title": "Unable to export excel (xlsm) in angular 7 - with spring boot backend", "body": "<p>I have a Spring Boot controller for the export to excel feature</p>\n\n<p>The Problem is that after downloading excel says file is corrupted and never opens.\nWhat is wrong in the code? I know this is related to character encoding as when I download the same file via postman (using save file feature) the file opens smoothly. I see some binary characters difference if I open the postman format and angular format. </p>\n"}, {"tags": ["typescript", "axios"], "answers": [{"tags": [], "owner": {"reputation": 5341, "user_id": 8597510, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/I3rOM.jpg?s=128&g=1", "display_name": "Tsvetan Ganev", "link": "https://stackoverflow.com/users/8597510/tsvetan-ganev"}, "is_accepted": true, "score": 1, "last_activity_date": 1574860479, "creation_date": 1574860479, "answer_id": 59071090, "question_id": 59070916, "link": "https://stackoverflow.com/questions/59070916/axios-undefined-value-is-coming-when-fetch-data-from-axios-post-reponse/59071090#59071090", "title": "Axios : &quot;Undefined&quot; value is coming when fetch data from axios post reponse?", "body": "<p>You can access the first element's <code>Id</code> field in this way:</p>\n\n<pre><code>console.log(ids.id[0]) // wrong - the array does not have a property 'id'\n\nconsole.log(ids[0].Id) // correct - get the first element of the list and access it's 'Id' prop\n</code></pre>\n"}], "owner": {"reputation": 352, "user_id": 6760424, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-5yW9aRscR_U/AAAAAAAAAAI/AAAAAAAAAKU/VX3XApQAGEY/photo.jpg?sz=128", "display_name": "QualityMatters", "link": "https://stackoverflow.com/users/6760424/qualitymatters"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 54, "favorite_count": 0, "accepted_answer_id": 59071090, "answer_count": 1, "score": 0, "last_activity_date": 1574860479, "creation_date": 1574859902, "last_edit_date": 1574860273, "question_id": 59070916, "link": "https://stackoverflow.com/questions/59070916/axios-undefined-value-is-coming-when-fetch-data-from-axios-post-reponse", "title": "Axios : &quot;Undefined&quot; value is coming when fetch data from axios post reponse?", "body": "<p>I am using axios for API testing with Typescript and nodejs. I hit an end point and print the response like this:</p>\n\n<pre><code>   then((response: { data: any; status: any }) =&gt; {\n   ids = response.data;\n   console.log(ids);\n</code></pre>\n\n<p><strong>Response:</strong></p>\n\n<pre><code>[ \n\n{ Id: '36185-test-157485' },\n\n  { Id: '36185-test-157485' },\n\n  { Id: '36185-test-675946' },\n\n  { Id: '36185-test-157485' },\n\n  { Id: '36185-test-764344' } \n\n]\n</code></pre>\n\n<p>I am not able to get the first id from this response.\nI tried with this:</p>\n\n<pre><code>console.log(ids.id)\n\nconsole.log(ids.id[0])\n</code></pre>\n\n<p>I am new to axios. If anyone will suggest best practice, will be happy to use that also.</p>\n\n<p>Complete code:</p>\n\n<pre><code>public listAllID's = async (idType: string, idOption: string) =&gt; {\n\n    let ids:[\n      {\n        id: string [];\n      }\n    ];\n    await axios({\n      method: 'post',\n      url: 'https://test-abc.com/api/v1/Allids',\n      data: {\n        \"type\": idType,\n        \"include\": idOption\n      },\n      headers: {\n        Authorization: 'Bearer ' + tokenId,\n        'Content-Type': 'application/json'\n      },\n      json: true\n    }).then((response: { data: any; status: any }) =&gt; {\n     ids = response.data;\n   console.log(ids);\n      let statusCode = response.status;\n      console.log(statusCode);\n      expect(statusCode).to.be.equal(200);\n    });\n  }\n}\n</code></pre>\n\n<p>This is called by this method:</p>\n\n<pre><code>Then(\n  /^I list all ids of \"([^\"]*)\" with other option  as \"([^\"]*)\" from API$/, async (idType: string, idOption: string) =&gt; {\n    await element.listAllIdsFromAPI(idType, idOption);\n  });\n</code></pre>\n"}, {"tags": ["typescript", "angular7"], "comments": [{"owner": {"reputation": 1098, "user_id": 5746996, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/35dc540cf54e399c576d518d1ef30310?s=128&d=identicon&r=PG&f=1", "display_name": "Tobin", "link": "https://stackoverflow.com/users/5746996/tobin"}, "edited": false, "score": 0, "creation_date": 1574859981, "post_id": 59070489, "comment_id": 104379720, "body": "You need to build a Single Page Application or use a templating engine"}, {"owner": {"reputation": 35, "user_id": 10839857, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cf3a5873c4ea16e8b8cc082cfbe0de67?s=128&d=identicon&r=PG&f=1", "display_name": "Umesh", "link": "https://stackoverflow.com/users/10839857/umesh"}, "reply_to_user": {"reputation": 1098, "user_id": 5746996, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/35dc540cf54e399c576d518d1ef30310?s=128&d=identicon&r=PG&f=1", "display_name": "Tobin", "link": "https://stackoverflow.com/users/5746996/tobin"}, "edited": false, "score": 0, "creation_date": 1574914786, "post_id": 59070489, "comment_id": 104399954, "body": "Yes I&#39;m using single page application. Can u share more details on templating engine @Tobin"}], "owner": {"reputation": 35, "user_id": 10839857, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cf3a5873c4ea16e8b8cc082cfbe0de67?s=128&d=identicon&r=PG&f=1", "display_name": "Umesh", "link": "https://stackoverflow.com/users/10839857/umesh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 17, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1574858818, "creation_date": 1574858479, "last_edit_date": 1574858818, "question_id": 59070489, "link": "https://stackoverflow.com/questions/59070489/how-to-build-html-content-with-click-function-in-typescript-file-and-pass-it-to", "title": "How to build HTML content with click function in typescript file and pass it to HTML page", "body": "<pre><code>    `&lt;button (click)=\"reloadPage()\"&gt;Click Here To Refresh&lt;/button&gt;`\n</code></pre>\n\n<p>I have to build this html content in typescript and pass it to HTML.  And onClick of button, reloadPage() function defined in typescript file should be executed.</p>\n"}, {"tags": ["javascript", "reactjs", "typescript", "axios"], "answers": [{"tags": [], "owner": {"reputation": 16662, "user_id": 9119186, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/RFjFW.png?s=128&g=1", "display_name": "Vencovsky", "link": "https://stackoverflow.com/users/9119186/vencovsky"}, "is_accepted": false, "score": 1, "last_activity_date": 1574858139, "creation_date": 1574858139, "answer_id": 59070399, "question_id": 59070235, "link": "https://stackoverflow.com/questions/59070235/how-to-create-promise-instance-with-axios-create/59070399#59070399", "title": "How to create promise instance with axios create", "body": "<p><code>function Axios(...)</code> isn't a async function, so there is no need to use <code>await</code>, because it doesn't return a promise and that is why you get <code>'await' has no effect on the type of this expression</code>.</p>\n"}, {"tags": [], "owner": {"reputation": 1726, "user_id": 3170628, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7d70c86c77d917a839ff29bad350a908?s=128&d=identicon&r=PG", "display_name": "Alserda", "link": "https://stackoverflow.com/users/3170628/alserda"}, "is_accepted": true, "score": 1, "last_activity_date": 1574858753, "last_edit_date": 1574858753, "creation_date": 1574858161, "answer_id": 59070407, "question_id": 59070235, "link": "https://stackoverflow.com/questions/59070235/how-to-create-promise-instance-with-axios-create/59070407#59070407", "title": "How to create promise instance with axios create", "body": "<p>The reason why you're getting that error is because your <code>Axios</code> is an axios instance. I assume you want to use the <code>request</code> function of your axios instance which has the following type signature:</p>\n\n<pre><code>request&lt;T = any, R = AxiosResponse&lt;T&gt;&gt; (config: AxiosRequestConfig): Promise&lt;R&gt;;\n</code></pre>\n\n<p>Also, you cant use an asynchronous action in the 'global' context of your file. You should define an async function as following:</p>\n\n<pre><code>async function fetchData(): Promise&lt;void&gt; {\n  const { data } = await Axios.request({ url: '/foo', method: 'GET' });\n  ...\n}\n\nfetchData();\n</code></pre>\n\n<p>Some coding style tips: Best practice is to only use uppercases for classes. In your case you could do something such as </p>\n\n<pre><code>export const axiosInstance = axios.create({\n  baseURL: process.env.REACT_APP_API_ENDPOINT,\n  headers: { 'Content-Type': 'application/json' },\n  url: props.url, // must have a starting backslash: \n  params: props.params,\n  data: props.data,\n  withCredentials: true,\n});\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1585, "user_id": 10562084, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vMjLA.png?s=128&g=1", "display_name": "Jay Vaghasiya", "link": "https://stackoverflow.com/users/10562084/jay-vaghasiya"}, "is_accepted": false, "score": 1, "last_activity_date": 1574858229, "creation_date": 1574858229, "answer_id": 59070423, "question_id": 59070235, "link": "https://stackoverflow.com/questions/59070235/how-to-create-promise-instance-with-axios-create/59070423#59070423", "title": "How to create promise instance with axios create", "body": "<p>I think you need to use <strong>interceptors</strong></p>\n\n<pre><code>export function Axios(props: AxiosProps) {\n\n    /**\n     * Creates an axios instance.\n     * \n     * @see https://github.com/axios/axios\n     * @return Promise\n     */\n    const instance =  axios.create({\n        baseURL: process.env.REACT_APP_API_ENDPOINT,\n        headers: { 'Content-Type': 'application/json' },\n        url: props.url, // must have a starting backslash: /foo\n        params: props.params,\n        data: props.data,\n        withCredentials: true,\n    })\n\n    instance.interceptors.response.use(\n      response =&gt; response,\n      error =&gt; error,\n    );\n\n    return instance\n}\n</code></pre>\n"}], "owner": {"reputation": 8519, "user_id": 3581788, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/ghs5V.jpg?s=128&g=1", "display_name": "Sylar", "link": "https://stackoverflow.com/users/3581788/sylar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 954, "favorite_count": 1, "accepted_answer_id": 59070407, "answer_count": 3, "score": 0, "last_activity_date": 1574858753, "creation_date": 1574857643, "question_id": 59070235, "link": "https://stackoverflow.com/questions/59070235/how-to-create-promise-instance-with-axios-create", "title": "How to create promise instance with axios create", "body": "<p>I'm new to TypeScript so I learn as I go along. I want to create an axios instace to reuse in my code where I only need to pass props where needed. Im using React.</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>// in a utils folder\n// axios.ts\n\nimport axios from 'axios'\n\ntype Method =\n    | 'get' | 'GET'\n    | 'delete' | 'DELETE'\n    | 'head' | 'HEAD'\n    | 'options' | 'OPTIONS'\n    | 'post' | 'POST'\n    | 'put' | 'PUT'\n    | 'patch' | 'PATCH'\n    | 'link' | 'LINK'\n    | 'unlink' | 'UNLINK'\n\ninterface AxiosProps {\n    /** Web URL */\n    url: string,\n    /** \n     * POST method: GET, POST, PUT, DELETE \n     * @default GET\n     */\n    method?: Method,\n    /** Header options */\n    header?: object,\n    /** Optional Data for POST */\n    data?: object,\n    /** Optional params */\n    params?: object\n}\n\nexport function Axios(props: AxiosProps) {\n\n    /**\n     * Creates an axios instance.\n     * \n     * @see https://github.com/axios/axios\n     * @return Promise\n     */\n    const instance =  axios.create({\n        baseURL: process.env.REACT_APP_API_ENDPOINT,\n        headers: { 'Content-Type': 'application/json' },\n        url: props.url, // must have a starting backslash: /foo\n        params: props.params,\n        data: props.data,\n        withCredentials: true,\n    })\n\n    return instance\n}\n</code></pre>\n\n<p>I got the <code>Method</code> type from <a href=\"https://github.com/axios/axios/blob/master/index.d.ts\" rel=\"nofollow noreferrer\">axios</a>.</p>\n\n<p>Now, using the instance:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>import {Axios} from '../utilities/axios'\n\n// I'd like to achieve this in an async function:\nconst {data} = await Axios({url: '/foo' /**, method: 'POST' **/})\nconsole.log(data)\n</code></pre>\n\n<p>The above, TS complains about:</p>\n\n<blockquote>\n  <p>'await' has no effect on the type of this expression</p>\n</blockquote>\n\n<p>How to achieve this logic, please? I know I need to learn more typescript but I'd a take a \"beaten\" while I learn. Thanks</p>\n"}, {"tags": ["javascript", "typescript", "input", "disabled-input"], "comments": [{"owner": {"reputation": 793, "user_id": 11751221, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-wAmfQ0gXcQ0/AAAAAAAAAAI/AAAAAAAAAMc/yrbzq9ABi3w/photo.jpg?sz=128", "display_name": "pavan kumar", "link": "https://stackoverflow.com/users/11751221/pavan-kumar"}, "edited": false, "score": 0, "creation_date": 1574857629, "post_id": 59070182, "comment_id": 104378407, "body": "what is the html element that you are calling with $(&#39;input[type=hidden]&#39;)?..."}, {"owner": {"reputation": 4469, "user_id": 479156, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/x9N3C.jpg?s=128&g=1", "display_name": "Ivar", "link": "https://stackoverflow.com/users/479156/ivar"}, "edited": false, "score": 0, "creation_date": 1574857819, "post_id": 59070182, "comment_id": 104378517, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/12940733/setting-a-boolean-attribute-with-jquery\">Setting a boolean attribute with jquery</a>"}, {"owner": {"reputation": 793, "user_id": 11751221, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-wAmfQ0gXcQ0/AAAAAAAAAAI/AAAAAAAAAMc/yrbzq9ABi3w/photo.jpg?sz=128", "display_name": "pavan kumar", "link": "https://stackoverflow.com/users/11751221/pavan-kumar"}, "edited": false, "score": 1, "creation_date": 1574857925, "post_id": 59070182, "comment_id": 104378576, "body": "<a href=\"https://api.jquery.com/attr/#attr2\" rel=\"nofollow noreferrer\">documentation</a>"}], "answers": [{"tags": [], "owner": {"reputation": 36, "user_id": 11964201, "user_type": "registered", "profile_image": "https://graph.facebook.com/2379178995452331/picture?type=large", "display_name": "Bruno Cunha", "link": "https://stackoverflow.com/users/11964201/bruno-cunha"}, "is_accepted": false, "score": -1, "last_activity_date": 1574857699, "creation_date": 1574857699, "answer_id": 59070257, "question_id": 59070182, "link": "https://stackoverflow.com/questions/59070182/attrdisabled-false-causing-error-in-typescript/59070257#59070257", "title": "attr(&quot;disabled&quot;, false) causing error in Typescript", "body": "<p>Try to pass <code>false</code> as string.</p>\n\n<pre><code> $('input[type=hidden]').attr(\"disabled\", \"false\");\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 147, "user_id": 12273093, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a639336fafb2bffe9ca5e5ea20b35dbb?s=128&d=identicon&r=PG&f=1", "display_name": "maciejze", "link": "https://stackoverflow.com/users/12273093/maciejze"}, "is_accepted": false, "score": 0, "last_activity_date": 1574858027, "creation_date": 1574858027, "answer_id": 59070372, "question_id": 59070182, "link": "https://stackoverflow.com/questions/59070182/attrdisabled-false-causing-error-in-typescript/59070372#59070372", "title": "attr(&quot;disabled&quot;, false) causing error in Typescript", "body": "<p>You should remove attribute altogether.</p>\n\n<pre><code> $('input[type=hidden]').removeAttr(\"disabled\");\n</code></pre>\n"}], "owner": {"reputation": 398, "user_id": 4845856, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/6febf54b39ea2cf48f3256511b0d8e79?s=128&d=identicon&r=PG&f=1", "display_name": "Acdn", "link": "https://stackoverflow.com/users/4845856/acdn"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 201, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1574858027, "creation_date": 1574857450, "question_id": 59070182, "link": "https://stackoverflow.com/questions/59070182/attrdisabled-false-causing-error-in-typescript", "title": "attr(&quot;disabled&quot;, false) causing error in Typescript", "body": "<p>I have the following code in my ts file:</p>\n\n<pre><code> $('input[type=hidden]').attr(\"disabled\", false);\n</code></pre>\n\n<p>Code works but i am getting the following error:\nArgument of type 'false' is not assignable to parameter of type 'string | number | ((this: HTMLElement, index: number, attr: string) => string | number | void)'.</p>\n"}, {"tags": ["angular", "typescript"], "comments": [{"owner": {"reputation": 2346, "user_id": 993328, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a3012905df3539f948994f218db07423?s=128&d=identicon&r=PG", "display_name": "GaurangDhorda", "link": "https://stackoverflow.com/users/993328/gaurangdhorda"}, "edited": false, "score": 0, "creation_date": 1574857664, "post_id": 59070151, "comment_id": 104378428, "body": "can you explain more of your problem?"}, {"owner": {"reputation": 209, "user_id": 11494004, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c4c0dd06b18890be5b1a5a99d756c006?s=128&d=identicon&r=PG&f=1", "display_name": "StartingAgain", "link": "https://stackoverflow.com/users/11494004/startingagain"}, "reply_to_user": {"reputation": 2346, "user_id": 993328, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a3012905df3539f948994f218db07423?s=128&d=identicon&r=PG", "display_name": "GaurangDhorda", "link": "https://stackoverflow.com/users/993328/gaurangdhorda"}, "edited": false, "score": 0, "creation_date": 1574861964, "post_id": 59070151, "comment_id": 104380868, "body": "@GaurangDhorda , updated"}], "answers": [{"tags": [], "owner": {"reputation": 126, "user_id": 8091215, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8aa2dc0674ffff220211ae42e9304f76?s=128&d=identicon&r=PG&f=1", "display_name": "Swapnil Patil", "link": "https://stackoverflow.com/users/8091215/swapnil-patil"}, "is_accepted": false, "score": 0, "last_activity_date": 1574857803, "creation_date": 1574857803, "answer_id": 59070290, "question_id": 59070151, "link": "https://stackoverflow.com/questions/59070151/angular-binding-for-2-or-more-variables/59070290#59070290", "title": "Angular-binding for 2 or more variables", "body": "<p>Update inside html page as <code>[(ngModel)]=\"iu\"</code> and <code>(change)=\"onDropdownChangeUnit(iu)\"</code></p>\n\n<pre><code>&lt;select id=\"unit\" name=\"unit\" #unit=\"ngModel\" class=\"form-control\" [(ngModel)]=\"iu\" (change)=\"onDropdownChangeUnit(iu)\"&gt;\n     &lt;option *ngFor=\"let i of UI_Units\" [ngValue]=\"i\"&gt;{{i.name}}&lt;/option&gt;\n&lt;/select&gt;\n</code></pre>\n\n<p>And check inside the component page as below </p>\n\n<pre><code>iu:any;\nonDropdownChangeUnit(item){\n   console.log(item);\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 209, "user_id": 11494004, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c4c0dd06b18890be5b1a5a99d756c006?s=128&d=identicon&r=PG&f=1", "display_name": "StartingAgain", "link": "https://stackoverflow.com/users/11494004/startingagain"}, "edited": false, "score": 0, "creation_date": 1574862028, "post_id": 59070454, "comment_id": 104380895, "body": "I get something like &quot;...Unexpected token ?, expected identifier or keyword...&quot;. Using Angular 8"}, {"owner": {"reputation": 4016, "user_id": 2202748, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/9tSQE.jpg?s=128&g=1", "display_name": "Joel Joseph", "link": "https://stackoverflow.com/users/2202748/joel-joseph"}, "reply_to_user": {"reputation": 209, "user_id": 11494004, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c4c0dd06b18890be5b1a5a99d756c006?s=128&d=identicon&r=PG&f=1", "display_name": "StartingAgain", "link": "https://stackoverflow.com/users/11494004/startingagain"}, "edited": false, "score": 0, "creation_date": 1574867148, "post_id": 59070454, "comment_id": 104383990, "body": "@StartingAgain updated my answer  there was a typo here <code>[value]=&quot;i.?id&quot;</code> should have been <code>[value]=&quot;i?.id&quot;</code>"}, {"owner": {"reputation": 209, "user_id": 11494004, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c4c0dd06b18890be5b1a5a99d756c006?s=128&d=identicon&r=PG&f=1", "display_name": "StartingAgain", "link": "https://stackoverflow.com/users/11494004/startingagain"}, "edited": false, "score": 0, "creation_date": 1574870002, "post_id": 59070454, "comment_id": 104385526, "body": "what does the <code>?</code> mean ?"}, {"owner": {"reputation": 4016, "user_id": 2202748, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/9tSQE.jpg?s=128&g=1", "display_name": "Joel Joseph", "link": "https://stackoverflow.com/users/2202748/joel-joseph"}, "reply_to_user": {"reputation": 209, "user_id": 11494004, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c4c0dd06b18890be5b1a5a99d756c006?s=128&d=identicon&r=PG&f=1", "display_name": "StartingAgain", "link": "https://stackoverflow.com/users/11494004/startingagain"}, "edited": false, "score": 1, "creation_date": 1574872264, "post_id": 59070454, "comment_id": 104386747, "body": "@StartingAgain google  safe navigation operator <code>?</code>"}, {"owner": {"reputation": 209, "user_id": 11494004, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c4c0dd06b18890be5b1a5a99d756c006?s=128&d=identicon&r=PG&f=1", "display_name": "StartingAgain", "link": "https://stackoverflow.com/users/11494004/startingagain"}, "edited": false, "score": 0, "creation_date": 1574958779, "post_id": 59070454, "comment_id": 104420418, "body": "Requirements changed, openend a separate post <a href=\"https://stackoverflow.com/questions/59076351/initially-loading-of-an-existing-option-fails\" title=\"initially loading of an existing option fails\">stackoverflow.com/questions/59076351/&hellip;</a>"}], "tags": [], "owner": {"reputation": 4016, "user_id": 2202748, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/9tSQE.jpg?s=128&g=1", "display_name": "Joel Joseph", "link": "https://stackoverflow.com/users/2202748/joel-joseph"}, "is_accepted": false, "score": 0, "last_activity_date": 1574867112, "last_edit_date": 1574867112, "creation_date": 1574858366, "answer_id": 59070454, "question_id": 59070151, "link": "https://stackoverflow.com/questions/59070151/angular-binding-for-2-or-more-variables/59070454#59070454", "title": "Angular-binding for 2 or more variables", "body": "<p>Please make following changes: </p>\n\n<p><strong>component.html</strong></p>\n\n<pre><code>&lt;select id=\"unit\" name=\"unit\"  class=\"form-control\"  (change)=\"onDropdownChangeUnit($event)\"&gt;\n   &lt;option *ngFor=\"let i of UI_Units\" [value]=\"i?.id\"&gt;{{i?.name}}&lt;/option&gt;\n&lt;/select&gt;\n</code></pre>\n\n<p><strong>component.ts</strong></p>\n\n<pre><code>onDropdownChangeUnit($event){\n  let id = $event.target.value;\n  this.ui['unit'] = this.UI_Units.find((x) =&gt; x._id.toString() === id.toString());\n}\n</code></pre>\n"}], "owner": {"reputation": 209, "user_id": 11494004, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c4c0dd06b18890be5b1a5a99d756c006?s=128&d=identicon&r=PG&f=1", "display_name": "StartingAgain", "link": "https://stackoverflow.com/users/11494004/startingagain"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 68, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1574867112, "creation_date": 1574857339, "last_edit_date": 1574861949, "question_id": 59070151, "link": "https://stackoverflow.com/questions/59070151/angular-binding-for-2-or-more-variables", "title": "Angular-binding for 2 or more variables", "body": "<p>This example will only save the <code>unit</code>-object:</p>\n\n<pre><code>&lt;select id=\"unit\" name=\"unit\" #unit=\"ngModel\" class=\"form-control\" [(ngModel)]=\"iu.unit\" (change)=\"onDropdownChangeUnit($event)\"&gt;\n                  &lt;option *ngFor=\"let i of UI_Units\" [ngValue]=\"i\"&gt;{{i.name}}&lt;/option&gt;\n                &lt;/select&gt;\n</code></pre>\n\n<p>The object will look like this: <a href=\"https://imgur.com/f8CzKxF\" rel=\"nofollow noreferrer\">here</a>.</p>\n\n<p>I would like to have the <code>unit</code>-object and the <code>unitID</code> written back to the object in the <code>foreach</code>-loop + loading the initial-value loaded from it's <code>unitID</code>.</p>\n\n<p>How to do it ?</p>\n\n<p><strong>Updated:</strong></p>\n\n<p>The <a href=\"https://imgur.com/f8CzKxF\" rel=\"nofollow noreferrer\">object</a> is delivered from the backend without <code>unit</code>, but with the <code>unitId</code>, <code>unit</code> for example will be delivered over <code>UI_Units</code>.</p>\n\n<p>A) I want the initial value loaded from <code>iu.unitId</code> (preselect) => <code>i</code>(<code>unit</code>) (if possible)</p>\n\n<p>B) But when the user clicks another <code>i</code>(<code>unit</code>), <code>iu.unitId</code> and <code>iu.unit</code> should be changed</p>\n\n<p>Hope this is more clear.</p>\n"}, {"tags": ["javascript", "typescript", "class", "interface"], "comments": [{"owner": {"reputation": 6381, "user_id": 12354911, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8Sz0V.jpg?s=128&g=1", "display_name": "Eldar", "link": "https://stackoverflow.com/users/12354911/eldar"}, "edited": false, "score": 2, "creation_date": 1574856185, "post_id": 59069730, "comment_id": 104377579, "body": "Define absctract classes with optional functions which you can skip implementing it in derived classes."}, {"owner": {"reputation": 183, "user_id": 7733364, "user_type": "registered", "profile_image": "https://graph.facebook.com/1487366854647861/picture?type=large", "display_name": "moodseller", "link": "https://stackoverflow.com/users/7733364/moodseller"}, "reply_to_user": {"reputation": 6381, "user_id": 12354911, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8Sz0V.jpg?s=128&g=1", "display_name": "Eldar", "link": "https://stackoverflow.com/users/12354911/eldar"}, "edited": false, "score": 0, "creation_date": 1574856757, "post_id": 59069730, "comment_id": 104377894, "body": "Shouldn&#39;t the class be declared with the word <code>abstract</code> then? I believe that keyword is also used for methods and they can not be declared in that same class?"}, {"owner": {"reputation": 183, "user_id": 7733364, "user_type": "registered", "profile_image": "https://graph.facebook.com/1487366854647861/picture?type=large", "display_name": "moodseller", "link": "https://stackoverflow.com/users/7733364/moodseller"}, "reply_to_user": {"reputation": 6381, "user_id": 12354911, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8Sz0V.jpg?s=128&g=1", "display_name": "Eldar", "link": "https://stackoverflow.com/users/12354911/eldar"}, "edited": false, "score": 0, "creation_date": 1574857210, "post_id": 59069730, "comment_id": 104378149, "body": "As far as I have noticed, running this script in react-native launches the application, but trying it out in a playground indicates an error during compile time that the question mark is an unexpected token in javascript. Can this potentially be a bug if it does not have a use case and can not be compiled?"}, {"owner": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "edited": false, "score": 1, "creation_date": 1574873929, "post_id": 59069730, "comment_id": 104387644, "body": "The bug you found will be <a href=\"https://github.com/microsoft/TypeScript/pull/34954\" rel=\"nofollow noreferrer\">fixed</a>  in the next version of TS."}, {"owner": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "edited": false, "score": 0, "creation_date": 1574874385, "post_id": 59069730, "comment_id": 104387900, "body": "This feels like an opinion question... optional methods are presumably used the same way optional properties are used: when it&#39;s possible for it not to be defined.  You can make <code>class Foo {bar?: string = &quot;hey&quot;}</code> also.  In your above example you can make <code>class Sub extends ClassName { classFunctionTwo = undefined; }</code> and it&#39;s a valid extension because the method is optional in the superclass. I&#39;m not sure if you want a list of all ways one could use this feature.  Is there something non-opinion-like you want here?"}], "owner": {"reputation": 183, "user_id": 7733364, "user_type": "registered", "profile_image": "https://graph.facebook.com/1487366854647861/picture?type=large", "display_name": "moodseller", "link": "https://stackoverflow.com/users/7733364/moodseller"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 278, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1574855889, "creation_date": 1574855889, "question_id": 59069730, "link": "https://stackoverflow.com/questions/59069730/typescript-question-mark-on-function-declaration", "title": "Typescript question mark on function declaration", "body": "<p>I have recently encountered an interesting occurrence in typescript where I was not able to find a direct answer to online.</p>\n\n<pre><code>interface IClassInterface {\n    optionOne: boolean;\n    optionTwo?: string;\n    optionThree?: () =&gt; void;\n}\n</code></pre>\n\n<p>Now I understand that this is a simple interface which defines the types for a variable, class, etc. which may implement it and it indicates that the optionTwo as well as optionThree is an optional parameter/function.</p>\n\n<p>However, what about this case?:</p>\n\n<pre><code>class ClassName {\n    classFunctionOne() { }\n\n    classFunctionTwo?() {\n        console.log(\"This is function two\")\n    }\n}\n</code></pre>\n\n<p>Why does typescript allow to declare an optional function inside this class if the function is declared? How can it be an optional function which is declared and possibly undefined if called from, for instance, in <code>classFunctionOne</code> ? Are there any use-cases for such situation?</p>\n"}, {"tags": ["typescript"], "answers": [{"comments": [{"owner": {"reputation": 63, "user_id": 8157590, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f79dfa29c60d3efa309a5d88b8ceda09?s=128&d=identicon&r=PG&f=1", "display_name": "PKV", "link": "https://stackoverflow.com/users/8157590/pkv"}, "edited": false, "score": 0, "creation_date": 1574856291, "post_id": 59069711, "comment_id": 104377635, "body": "Why typescript cannot infer the type?"}, {"owner": {"reputation": 307, "user_id": 7049556, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ec57a690071992c59994e1580e580fd5?s=128&d=identicon&r=PG", "display_name": "ErBu", "link": "https://stackoverflow.com/users/7049556/erbu"}, "reply_to_user": {"reputation": 63, "user_id": 8157590, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f79dfa29c60d3efa309a5d88b8ceda09?s=128&d=identicon&r=PG&f=1", "display_name": "PKV", "link": "https://stackoverflow.com/users/8157590/pkv"}, "edited": false, "score": 0, "creation_date": 1574856426, "post_id": 59069711, "comment_id": 104377698, "body": "It does infer it on first code example provided.  The whole premise of using typescript is restricting default javascript idea of anything being able to be anything.  The moment you create object in typescript without providing explicit type it infers the type directly from the object."}], "tags": [], "owner": {"reputation": 307, "user_id": 7049556, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ec57a690071992c59994e1580e580fd5?s=128&d=identicon&r=PG", "display_name": "ErBu", "link": "https://stackoverflow.com/users/7049556/erbu"}, "is_accepted": true, "score": 1, "last_activity_date": 1574855803, "creation_date": 1574855803, "answer_id": 59069711, "question_id": 59069505, "link": "https://stackoverflow.com/questions/59069505/typescript-error-for-fetch-options-when-given-as-a-variable/59069711#59069711", "title": "Typescript error for fetch options when given as a variable", "body": "<p>The problem is caused by type.</p>\n\n<p>In the first example you initialize object of type RequestInit, but in the second it's const of type :</p>\n\n<pre><code>{\n    method: string;\n    credentials: string;\n}\n</code></pre>\n\n<p>causing the problem.</p>\n\n<p>To solve it set init type to RequestInit</p>\n\n<p>you can see the correction <a href=\"http://www.typescriptlang.org/play/?ssl=8&amp;ssc=11&amp;pln=8&amp;pc=26#code/FAMwpgLgxgFgFAcgM4HsC2YCuAnANggGgAIBvYIiojCGFAEwC4iEBxAUQBVDzKpsw6YAHYQAlgENcSBgCIk4jAFoU2UQHNRQmcAC%20ASmCGoKIUghFNoiEwBKYAI6YwZgJJCrRALykeFarUZmdi4CXyI%20AWExSWkiOQUwZVUNLV0AbkNwaHhkdCw8Qgt3CD0M4CA\" rel=\"nofollow noreferrer\">here</a></p>\n"}], "owner": {"reputation": 63, "user_id": 8157590, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f79dfa29c60d3efa309a5d88b8ceda09?s=128&d=identicon&r=PG&f=1", "display_name": "PKV", "link": "https://stackoverflow.com/users/8157590/pkv"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 25, "favorite_count": 0, "accepted_answer_id": 59069711, "answer_count": 1, "score": 1, "last_activity_date": 1574855803, "creation_date": 1574855188, "question_id": 59069505, "link": "https://stackoverflow.com/questions/59069505/typescript-error-for-fetch-options-when-given-as-a-variable", "title": "Typescript error for fetch options when given as a variable", "body": "<p>When this code complies perfectly </p>\n\n<pre><code>fetch('someurl', {\n    method: 'GET',\n    credentials:\"same-origin\"\n})\n</code></pre>\n\n<p>The below code gives me compilation error for fetch('someurl', init);</p>\n\n<pre><code>const init = {\n    method: 'GET',\n    credentials: \"same-origin\"\n};\n\nfetch('someurl', init);\n</code></pre>\n\n<p>Why is it so?</p>\n\n<p>find the code <a href=\"http://www.typescriptlang.org/play/?ssl=14&amp;ssc=1&amp;pln=1&amp;pc=1#code/FAMwpgLgxgFgFAcgM4HsC2YCuAnANggGgAIBvYIiojCGFAEwC4iEBxAUQBVDzKpsw6YAHYQAlgENcSBgCIk4jAFoU2UQHNRQmcAC+ASmCGoKIUghFNo8wF5SPCtVqNm7LgXtE+A4WMnSicgpgyqoaWroA3Ibg0PDI6Fh4hBZCVnpRwEA\" rel=\"nofollow noreferrer\">here</a></p>\n"}, {"tags": ["ios", "swift", "typescript", "image"], "answers": [{"tags": [], "owner": {"reputation": 3797, "user_id": 4608906, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/7xNaG.jpg?s=128&g=1", "display_name": "AtulParmar", "link": "https://stackoverflow.com/users/4608906/atulparmar"}, "is_accepted": false, "score": 0, "last_activity_date": 1575463749, "creation_date": 1575463749, "answer_id": 59176454, "question_id": 59069472, "link": "https://stackoverflow.com/questions/59069472/retrieve-images-from-swift-to-typescript-while-using-share-extensions/59176454#59176454", "title": "Retrieve images from swift to typescript while using share extensions", "body": "<p>First thing you need to get images and text details from <code>UserDefaults</code> using the following code.</p>\n\n<pre><code>let userDefault = UserDefaults.standard\n        userDefault.addSuite(named: \"group.yudiz.shareKitDemo\")\n\n        if let dict = userDefault.value(forKey: \"img\") as? NSDictionary{\n\n            let data = dict.value(forKey: \"imgData\") as! Data\n            let str = dict.value(forKey: \"name\") as! String\n\n            self.imgView.image = UIImage(data: data)\n            self.lblText.text = str\n\n            userDefault.removeObject(forKey: \"img\")\n            userDefault.synchronize()\n        }\n</code></pre>\n\n<p>And now if you want to pass image as base64encoded then use the following function.</p>\n\n<pre><code>//convert the image to Data first\nlet imageData = image.pngData()!\n// convert the Data to base64 encoding    \nlet strBase64:String = imageData.base64EncodedString(options: .lineLength64Characters)\n</code></pre>\n\n<p>again decode base64string to convert into an image by the following code.</p>\n\n<pre><code>let dataDecoded:Data = Data(base64Encoded: strBase64, options: NSData.Base64DecodingOptions(rawValue: 0))!\nlet decodedimage:UIImage = UIImage(data: dataDecoded)!\n</code></pre>\n"}], "owner": {"reputation": 1311, "user_id": 2881402, "user_type": "registered", "accept_rate": 46, "profile_image": "https://i.stack.imgur.com/ajklt.jpg?s=128&g=1", "display_name": "Shreyas Achar", "link": "https://stackoverflow.com/users/2881402/shreyas-achar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 91, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1575463749, "creation_date": 1574855084, "question_id": 59069472, "link": "https://stackoverflow.com/questions/59069472/retrieve-images-from-swift-to-typescript-while-using-share-extensions", "title": "Retrieve images from swift to typescript while using share extensions", "body": "<p>I am trying to implement ShareExtensions in my ionic3 app.</p>\n\n<p>I have followed the following procedure.</p>\n\n<p>Build the app and open in Xcode. Then add Share Extension using <strong>File -> New -> Target -> Share Extension.</strong></p>\n\n<p>Then i have went through the following documentation</p>\n\n<p><a href=\"https://www.yudiz.com/share-extention-in-ios-app/\" rel=\"nofollow noreferrer\">Share Extension in ios</a></p>\n\n<p>Then in <strong>ShareViewController.swift</strong> file i have added these lines.</p>\n\n<pre><code>override func didSelectPost() {\n        if let item = self.extensionContext?.inputItems[0] as? NSExtensionItem{\n            for ele in item.attachments!{\n                let itemProvider = ele\n\n                if itemProvider.hasItemConformingToTypeIdentifier(\"public.jpeg\"){\n                    NSLog(\"itemprovider: %@\", itemProvider)\n                    itemProvider.loadItem(forTypeIdentifier: \"public.jpeg\", options: nil, completionHandler: { (item, error) in\n\n                        var imgData: String!\n\n                        if let img = item as? UIImage{\n                            imgData = img.pngData()?.base64EncodedString(options: &lt;#T##Data.Base64EncodingOptions#&gt;)\n                        }\n\n                        let dict: [String : Any] = [\"imgData\" :  imgData, \"name\" : self.contentText]\n                        let userDefault = UserDefaults.standard\n\n                        userDefault.set(dict, forKey: \"img\")\n                        userDefault.synchronize()\n                    })\n                }\n            }\n        }\n        self.extensionContext!.completeRequest(returningItems: [], completionHandler: nil)\n\n    }\n</code></pre>\n\n<p>Share view Controller file is located in </p>\n\n<blockquote>\n  <p>./platforms/ios/shareItems/ShareViewController.swift</p>\n</blockquote>\n\n<p>Now the images what i have selected in the gallery should be sent to my app. And i need to retrieve it in one of my typescript page say login.ts which is located in.</p>\n\n<blockquote>\n  <p>.src/pages/login/login.ts</p>\n</blockquote>\n\n<p>I need to pass the base64encoded images to my login page, How to write the functions for it so that i can retrieve the images.</p>\n\n<p>Any hep appreciated.</p>\n\n<p>.</p>\n"}, {"tags": ["angular", "typescript"], "comments": [{"owner": {"reputation": 865, "user_id": 4543029, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mafV3.jpg?s=128&g=1", "display_name": "ZetaPR", "link": "https://stackoverflow.com/users/4543029/zetapr"}, "edited": false, "score": 0, "creation_date": 1574854247, "post_id": 59069193, "comment_id": 104376496, "body": "Hi Luke, please provide us with some code examples and working plunkr or stackblitz to assist you"}, {"owner": {"reputation": 2014, "user_id": 6397798, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/645e8642225ab706cb9b7ef8ff31364e?s=128&d=identicon&r=PG&f=1", "display_name": "bracco23", "link": "https://stackoverflow.com/users/6397798/bracco23"}, "edited": false, "score": 0, "creation_date": 1574854291, "post_id": 59069193, "comment_id": 104376526, "body": "keep the tabs disabled until all the previous tabs have been successfully completed? Which would basically lead to you a multi-step form approach"}, {"owner": {"reputation": 33, "user_id": 11852375, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-m20TqV2RAVc/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rdFs-XcRB0EtwiLxNC16K-siymffg/photo.jpg?sz=128", "display_name": "Luke Harland", "link": "https://stackoverflow.com/users/11852375/luke-harland"}, "reply_to_user": {"reputation": 2014, "user_id": 6397798, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/645e8642225ab706cb9b7ef8ff31364e?s=128&d=identicon&r=PG&f=1", "display_name": "bracco23", "link": "https://stackoverflow.com/users/6397798/bracco23"}, "edited": false, "score": 0, "creation_date": 1574854453, "post_id": 59069193, "comment_id": 104376620, "body": "@bracco23 yeah I had this idea but then when I tried to make the tabs enabled through typescript code, so they would start disabled then when click submit of the first tab the second would then be enabled, but this didn&#39;t make the tab enabled."}, {"owner": {"reputation": 734, "user_id": 8636516, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6b4db0993772924fd3c4ee0a74b88d0f?s=128&d=identicon&r=PG&f=1", "display_name": "harkesh kumar", "link": "https://stackoverflow.com/users/8636516/harkesh-kumar"}, "edited": false, "score": 0, "creation_date": 1574854693, "post_id": 59069193, "comment_id": 104376740, "body": "@LukeHarland are you trying to submit data only tab at time  or all at one time"}, {"owner": {"reputation": 33, "user_id": 11852375, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-m20TqV2RAVc/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rdFs-XcRB0EtwiLxNC16K-siymffg/photo.jpg?sz=128", "display_name": "Luke Harland", "link": "https://stackoverflow.com/users/11852375/luke-harland"}, "edited": false, "score": 0, "creation_date": 1574855185, "post_id": 59069193, "comment_id": 104377027, "body": "I am saving each of the tabs data and then submitting it once the fourth tabs submit button has been clicked."}], "answers": [{"tags": [], "owner": {"reputation": 1, "user_id": 5378899, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-UnKSkwzBE94/AAAAAAAAAAI/AAAAAAAAAEU/yfANxJK_9jQ/photo.jpg?sz=128", "display_name": "nit90esh", "link": "https://stackoverflow.com/users/5378899/nit90esh"}, "is_accepted": false, "score": 0, "last_activity_date": 1574857655, "creation_date": 1574857655, "answer_id": 59070241, "question_id": 59069193, "link": "https://stackoverflow.com/questions/59069193/angular-form-over-multiple-tabs/59070241#59070241", "title": "Angular form over multiple tabs", "body": "<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>formgroup: FormGroup;\r\n  ngOnInit() {\r\n    this.formgroup = new FormGroup({\r\n      firstName: new FormControl('' , [\r\n        Validators.required\r\n      ]),\r\n      lastName: new FormControl('' , [\r\n        Validators.required\r\n      ]),\r\n      email: new FormControl('' , [\r\n        Validators.required\r\n      ]),\r\n      password: new FormControl('', [\r\n        Validators.required\r\n      ])\r\n    });\r\n  }\r\nformSubmit() {\r\n    if (this.formgroup.valid) {\r\n      // Perform form submit task here get all fields values as\r\n      // this.formgroup.value\r\n    }\r\n  }</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;form [formGroup]=\"formgroup\" (ngSubmit)=\"formSubmit()\"&gt;\r\n &lt;div class=\"tab-content\"&gt;\r\n  &lt;div class=\"tab-pane fade show active p-3\" id=\"one\" role=\"tabpanel\" aria-labelledby=\"one-tab\"&gt;\r\n              &lt;h5 class=\"card-title\"&gt;First Name&lt;/h5&gt;\r\n              &lt;input type=\"text\" placeholder=\"First Name\" id=\"txtFirstName\" formControlName=\"firstName\"&gt;\r\n              &lt;button [disabled]=\"formgroup.controls.firstName.invalid\" class=\"btn btn-primary\" data-toggle=\"tab\" href=\"#two\" role=\"tab\" aria-controls=\"Two\"&gt;Next&lt;/button&gt;\r\n            &lt;/div&gt;\r\n            &lt;div class=\"tab-pane fade p-3\" id=\"two\" role=\"tabpanel\" aria-labelledby=\"two-tab\"&gt;\r\n              &lt;h5 class=\"card-title\"&gt;Last Name&lt;/h5&gt;\r\n              &lt;input type=\"text\" placeholder=\"Last Name\" id=\"txtLastName\" formControlName=\"lastName\"&gt;\r\n              &lt;button [disabled]=\"formgroup.controls.lastName.invalid\" class=\"btn btn-primary\" data-toggle=\"tab\" href=\"#three\" role=\"tab\" aria-controls=\"Three\"&gt;Next&lt;/button&gt;\r\n            &lt;/div&gt;\r\n            &lt;div class=\"tab-pane fade p-3\" id=\"three\" role=\"tabpanel\" aria-labelledby=\"three-tab\"&gt;\r\n              &lt;h5 class=\"card-title\"&gt;Email&lt;/h5&gt;\r\n              &lt;input type=\"email\" placeholder=\"Email\" id=\"txtEmail\" formControlName=\"email\"&gt;\r\n              &lt;button  [disabled]=\"formgroup.controls.email.invalid\" class=\"btn btn-primary\" data-toggle=\"tab\" href=\"#four\" role=\"tab\" aria-controls=\"Four\"&gt;Next&lt;/button&gt;\r\n            &lt;/div&gt;\r\n            &lt;div class=\"tab-pane fade p-3\" id=\"four\" role=\"tabpanel\" aria-labelledby=\"four-tab\"&gt;\r\n              &lt;h5 class=\"card-title\"&gt;Password&lt;/h5&gt;\r\n              &lt;input type=\"password\" placeholder=\"Password\" id=\"txtPassword\" formControlName=\"password\"&gt;\r\n              &lt;button type=\"submit\" class=\"btn btn-warning\" [disabled]=\"formgroup.invalid\"&gt;Submit&lt;/button&gt;\r\n            &lt;/div&gt;\r\n          &lt;/div&gt;\r\n        &lt;/form&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 33, "user_id": 11852375, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-m20TqV2RAVc/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rdFs-XcRB0EtwiLxNC16K-siymffg/photo.jpg?sz=128", "display_name": "Luke Harland", "link": "https://stackoverflow.com/users/11852375/luke-harland"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1290, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1574857655, "creation_date": 1574854090, "question_id": 59069193, "link": "https://stackoverflow.com/questions/59069193/angular-form-over-multiple-tabs", "title": "Angular form over multiple tabs", "body": "<p>I have an angular 8 form that spans over 4 tabs, each one has its own form and you need to fill out each question on each tab to be able to unlock the button to save. But I am able to just go to the fourth tab and input those questions and then save and submit the entire thing but without the answers to the first 3 tabs. Is there anyway I can stop this? Maybe have a modal pop up and tell the user they have not completed all the questions</p>\n"}, {"tags": ["reactjs", "typescript", "react-typescript"], "comments": [{"owner": {"reputation": 21257, "user_id": 3783478, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/fMtGE.jpg?s=128&g=1", "display_name": "Rajesh", "link": "https://stackoverflow.com/users/3783478/rajesh"}, "edited": false, "score": 0, "creation_date": 1574854701, "post_id": 59069045, "comment_id": 104376747, "body": "You can make <code>to</code> as optional property <code>type ButtonProps { to?: string, onClick?: () =&gt; void }</code>. Also, i guess interface would suit here better"}], "answers": [{"tags": [], "owner": {"reputation": 15749, "user_id": 4420812, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9yQ4D.jpg?s=128&g=1", "display_name": "Maciej Sikora", "link": "https://stackoverflow.com/users/4420812/maciej-sikora"}, "is_accepted": true, "score": 4, "last_activity_date": 1574854532, "creation_date": 1574854532, "answer_id": 59069317, "question_id": 59069045, "link": "https://stackoverflow.com/questions/59069045/how-to-write-conditional-types-properly-with-react/59069317#59069317", "title": "How to write conditional types properly with react?", "body": "<p>We need to use type guards to properly narrow the type by the condition. In order to do so, we need to split the type little bit, in order to assert in type guard + readability. Below <code>ButtonProps</code> is equal with your implementation, but has elements of the union specified explicitly.</p>\n\n<p>Second thing is a type guard, in the snippet below <code>isButtonWithTo</code> is exactly that. It narrows the type to one of options in the union. Pay attention to <code>is</code> keyword, it is indicating what means that function evaluates to true, in this case I am saying that if <code>isButtonWithTo</code> will return true, then argument has a type <code>ButtonWithTo</code></p>\n\n<pre><code>type ButtonWithTo = {\n    to: string,\n}\ntype ButtonWithClick = {\n    onClick: (() =&gt; void) \n}\n// the same type as orginal but with explicit declarations of union elements\ntype ButtonProps = ButtonWithTo | ButtonWithClick \n\n\nconst isButtonWithTo = (b: ButtonProps): b is ButtonWithTo  =&gt; 'to' in b // type guard\n\nexport const BackButton = (props: ButtonProps) =&gt; {\n  if(isButtonWithTo(props)) {\n     props // props have type ButtonWithTo\n  } else {\n    props // props have type ButtonWithClick\n  }\n}\n</code></pre>\n"}], "owner": {"reputation": 89, "user_id": 5896710, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/50d8543dd54ade39174f963b28c0d02e?s=128&d=identicon&r=PG&f=1", "display_name": "swoopy", "link": "https://stackoverflow.com/users/5896710/swoopy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 298, "favorite_count": 0, "accepted_answer_id": 59069317, "answer_count": 1, "score": 1, "last_activity_date": 1574855096, "creation_date": 1574853615, "last_edit_date": 1574855096, "question_id": 59069045, "link": "https://stackoverflow.com/questions/59069045/how-to-write-conditional-types-properly-with-react", "title": "How to write conditional types properly with react?", "body": "<p>So I'm trying to write a prop type format wherein if one was chosen the other prop will be discarded.</p>\n\n<pre><code>type ButtonProps = {\n    to: string,\n} | {\n    onClick: (() =&gt; void) \n};\n\nexport const BackButton = (props: ButtonProps) =&gt; {\n  if(props.to != null) {\n     //props {to} will be used hence no need for onClick\n  }\n  else {\n    // {onClick} will be used over {to} \n  }\n}\n</code></pre>\n\n<p>But it says </p>\n\n<blockquote>\n  <p>Property 'to' does not exist on type 'ButtonProps'.\n    Property 'to' does not exist on type '{ onClick: () => void; }'.ts(2339`</p>\n</blockquote>\n\n<p>How to format type shape with OR so when either one is chosen the other will be discarded. No optionals, the chosen prop will be required.</p>\n"}, {"tags": ["reactjs", "typescript", "higher-order-components"], "answers": [{"comments": [{"owner": {"reputation": 754, "user_id": 12152982, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/85a96f15c74d4368c8399d71a09d8834?s=128&d=identicon&r=PG&f=1", "display_name": "anon_dcs3spp", "link": "https://stackoverflow.com/users/12152982/anon-dcs3spp"}, "edited": false, "score": 0, "creation_date": 1574856622, "post_id": 59069726, "comment_id": 104377809, "body": "Hi thanks for responding @hackape. I am trying to have two HoC&#39;s: withId injects uniqueId property and withErrorListener accepts a component created from withId. The component passed to withErrorListener should have uniqueId property....."}, {"owner": {"reputation": 754, "user_id": 12152982, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/85a96f15c74d4368c8399d71a09d8834?s=128&d=identicon&r=PG&f=1", "display_name": "anon_dcs3spp", "link": "https://stackoverflow.com/users/12152982/anon-dcs3spp"}, "edited": false, "score": 0, "creation_date": 1574856961, "post_id": 59069726, "comment_id": 104377996, "body": "Thanks @hackape, have forked codesandbox and removed the constraint in withId concerning returning wrapped comp without uniqueId property...Issue still occurs..."}, {"owner": {"reputation": 754, "user_id": 12152982, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/85a96f15c74d4368c8399d71a09d8834?s=128&d=identicon&r=PG&f=1", "display_name": "anon_dcs3spp", "link": "https://stackoverflow.com/users/12152982/anon-dcs3spp"}, "edited": false, "score": 0, "creation_date": 1574857335, "post_id": 59069726, "comment_id": 104378229, "body": "Also removed constraint in codesandbox for withId that returns wrapped comp that no longer needs uniqueId....."}, {"owner": {"reputation": 754, "user_id": 12152982, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/85a96f15c74d4368c8399d71a09d8834?s=128&d=identicon&r=PG&f=1", "display_name": "anon_dcs3spp", "link": "https://stackoverflow.com/users/12152982/anon-dcs3spp"}, "edited": false, "score": 0, "creation_date": 1574857582, "post_id": 59069726, "comment_id": 104378374, "body": "Edited question introduction to state that the base component should have the uniqueId property created from the withId higher order component and included a usage example..."}], "tags": [], "owner": {"reputation": 11681, "user_id": 3617380, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/53b845bcd82ba802f57e2c8256fcba97?s=128&d=identicon&r=PG&f=1", "display_name": "hackape", "link": "https://stackoverflow.com/users/3617380/hackape"}, "is_accepted": true, "score": 0, "last_activity_date": 1574855869, "creation_date": 1574855869, "answer_id": 59069726, "question_id": 59068864, "link": "https://stackoverflow.com/questions/59068864/how-do-i-specify-that-a-higher-order-component-should-accept-a-property-in-addit/59069726#59069726", "title": "How do I specify that a Higher Order Component should accept a property in addition to the remaining properties of the base component?", "body": "<p>I've look into you CodeSandbox sample, I don't really understand what is your need.</p>\n\n<p>So in you code, <code>withId</code> HoC takes a base comp, in your case <code>PostsListBase</code>, and inject <code>uniqueId</code> prop to it, then return a wrapped comp that <strong>no longer needs</strong> <code>uniqueId</code> as prop input, since it already got it from <code>withId</code>.</p>\n\n<p>Then you put <code>WrappedPostsListBase</code> that no longer want a <code>uniqueId</code> through <code>withErrorListener(WrappedPostsListBase)</code>.</p>\n\n<p>Here's the confusing part, you specify that <code>withErrorListener</code> only accepts a base comp input that <strong>require</strong> a <code>uniqueId</code> prop. See the conflict?</p>\n"}], "owner": {"reputation": 754, "user_id": 12152982, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/85a96f15c74d4368c8399d71a09d8834?s=128&d=identicon&r=PG&f=1", "display_name": "anon_dcs3spp", "link": "https://stackoverflow.com/users/12152982/anon-dcs3spp"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 137, "favorite_count": 0, "accepted_answer_id": 59069726, "answer_count": 1, "score": 0, "last_activity_date": 1574872367, "creation_date": 1574853051, "last_edit_date": 1574872367, "question_id": 59068864, "link": "https://stackoverflow.com/questions/59068864/how-do-i-specify-that-a-higher-order-component-should-accept-a-property-in-addit", "title": "How do I specify that a Higher Order Component should accept a property in addition to the remaining properties of the base component?", "body": "<p>I am trying to learn React / Redux usage with higher order components in a Typescript environment. I have two higher order components:</p>\n\n<ol>\n<li><em>withId</em>: Generates uniqueId property for base component</li>\n<li><em>withErrorListener</em>: Renders errors on the redux store, originating from a base component request. The base component should have the uniqueId property created from the <em>withId</em> higher order component.</li>\n</ol>\n\n<p>NewComponent = withErrorListener(withId(BaseComponent))</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>const PostsListWithId = withId(PostsListBase);\nexport const PostsListConnected = connector(withErrorListener(PostsListWithId));\n</code></pre>\n\n<p>I am consuming the HoC's as follows:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>import * as React from \"react\";\nimport { connect, ConnectedProps } from \"react-redux\";\nimport { Link } from \"react-router-dom\";\nimport { RootState } from \"typesafe-actions\";\n\nimport { Post as PostComponent } from \"../components/Post\";\n\nimport { allPostsAction, createPostsRequest } from \"../features/posts/actions\";\nimport { HocComponentProps } from \"../higher-order-components/types\";\nimport { Post } from \"../features/posts/types\";\nimport { withErrorListener } from \"../higher-order-components/withErrorListener\";\nimport { withId } from \"../higher-order-components/componentId/withId\";\n\ntype StateProps = {\n  isLoading: boolean;\n  posts: Post[];\n};\n\n/**\n * Redux dispatch and state mappings\n */\nconst dispatchProps = {\n  fetchPosts: allPostsAction.request\n};\n\nconst mapStateToProps = (state: RootState): StateProps =&gt; ({\n  isLoading: state.posts.isLoadingPosts,\n  posts: state.posts.posts\n});\n\nconst connector = connect(\n  mapStateToProps,\n  dispatchProps\n);\n\ntype ReduxProps = ConnectedProps&lt;typeof connector&gt;;\n\n/**\n * Component property type definitions\n */\ntype Props = ReduxProps &amp; HocComponentProps;\n\n/**\n * CourseList component\n */\nconst PostsListBase = ({\n  posts = [],\n  uniqueId,\n  fetchPosts,\n  isLoading\n}: Props): JSX.Element =&gt; {\n  console.log(`PostListBase id :: ${uniqueId}`);\n\n  // dispatch fetch posts action on mount\n  React.useEffect(() =&gt; {\n    console.log(\n      `PostListBase dispatching PostsRequest action with id ${uniqueId}`\n    );\n    fetchPosts(createPostsRequest(uniqueId));\n  }, [fetchPosts, uniqueId]);\n\n  if (isLoading) {\n    return (\n      &lt;&gt;\n        &lt;p&gt;Loading...&lt;/p&gt;\n        &lt;Link to=\"/\"&gt;Home&lt;/Link&gt;\n      &lt;/&gt;\n    );\n  }\n\n  return (\n    &lt;div style={{ marginTop: 20, padding: 30 }}&gt;\n      &lt;Link to=\"/\"&gt;Home&lt;/Link&gt;\n      &lt;h2&gt;List of post id's&lt;/h2&gt;\n      {\n        &lt;ul&gt;\n          {posts.map(element =&gt; (\n            &lt;li key={element.id}&gt;\n              &lt;PostComponent post={element} /&gt;\n            &lt;/li&gt;\n          ))}\n        &lt;/ul&gt;\n      }\n    &lt;/div&gt;\n  );\n};\n\nconst PostsListWithId = withId(PostsListBase);\nexport const PostsListConnected = connector(withErrorListener(PostsListWithId));\n\n/**\n * Argument of type 'typeof IdHoC' is not assignable to parameter of type 'ComponentType&lt;ExpectedProps&gt;'.\n  Type 'typeof IdHoC' is not assignable to type 'ComponentClass&lt;ExpectedProps, any&gt;'.\n    Types of parameters 'hocprops' and 'props' are incompatible.\n      Type 'ExpectedProps' is missing the following properties from type 'Pick&lt;Props, \"posts\" | \"fetchPosts\" | \"isLoading\"&gt;': posts, fetchPosts, isLoadingts(2345)\n */\n</code></pre>\n\n<p>However, I am receiving the following typescript compilation error:</p>\n\n<pre class=\"lang-sh prettyprint-override\"><code>Argument of type 'typeof IdHoC' is not assignable to parameter of type 'ComponentType&lt;ExpectedProps&gt;'.\n  Type 'typeof IdHoC' is not assignable to type 'ComponentClass&lt;ExpectedProps, any&gt;'.\n    Types of parameters 'hocprops' and 'props' are incompatible.\n      Type 'ExpectedProps' is missing the following properties from type 'Pick&lt;Props, \"posts\" | \"fetchPosts\" | \"isLoading\"&gt;': posts, fetchPosts, isLoadingts(2345)\n</code></pre>\n\n<p>How do I correctly specify that the <em>withErrorListener</em> higher order component should accept a type that includes a <em>uniqueId</em> property in addition to the remaining properties in the base component, in this case: {posts, fetchPosts and isLoading}? </p>\n\n<p>I am currently trying to do this in the code as follows:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>type ExpectedProps = { uniqueId: string };\nexport const withErrorListener = &lt;BaseProps extends ExpectedProps&gt;(\n  BaseComponent: React.ComponentType&lt;BaseProps&gt;\n) =&gt; {....}\n</code></pre>\n\n<p>I have created a codesandbox project, including the source for higher order components, here:</p>\n\n<p><a href=\"https://codesandbox.io/s/react-redux-typescript-nested-connected-hoc-example-forked-og7pb?fontsize=14&amp;hidenavigation=1&amp;module=%2Fsrc%2Fcontainers%2FPostsList.tsx&amp;theme=dark\" rel=\"nofollow noreferrer\"><img src=\"https://codesandbox.io/static/img/play-codesandbox.svg\" alt=\"Edit React Redux Typescript Nested Connected HoC  Example - Forked\"></a></p>\n\n<p>Think that I have managed to solve the issue. One of the issues was raised in comments below, regarding <em>withId</em> returning a wrapped component excluding injected id property. Have removed this constraint and accepting that comment as the solution. The other issue was that the consuming component requires properties connected to the redux store for receiving fetched state from an Api. Updated the consumer of the Higher Component to be:</p>\n\n<pre><code>// ensure consuming component is connected to redux store to fulfill it's other property requirements\nconst PostsListConnectedWithId = connector(withId(PostsListBase));\nexport const PostsListWithErrorListener = withErrorListener(PostsListConnectedWithId);\n</code></pre>\n\n<p>typescript</p>\n\n<p>as opposed to:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>const PostsListWithId = withId(PostsListBase);\nexport const PostsListWithErrorListener = connector(withErrorListener(PostsListWithId));\n</code></pre>\n\n<p>Including link to forked sandbox in case anyone else experiences similar issues:\n<a href=\"https://codesandbox.io/s/react-redux-typescript-nested-connected-hoc-example-attemptingtosolve-qfkr3?fontsize=14&amp;hidenavigation=1&amp;module=%2Fsrc%2Fcontainers%2FPostsList.tsx&amp;theme=dark\" rel=\"nofollow noreferrer\"><img src=\"https://codesandbox.io/static/img/play-codesandbox.svg\" alt=\"Edit React Redux Typescript Nested Connected HoC  Example - AttemptingToSolve\"></a></p>\n"}, {"tags": ["javascript", "angular", "typescript"], "answers": [{"tags": [], "owner": {"reputation": 15130, "user_id": 1679126, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/82c8608808b8c4c719e9d0c71fb5c366?s=128&d=identicon&r=PG", "display_name": "Adrian Brand", "link": "https://stackoverflow.com/users/1679126/adrian-brand"}, "is_accepted": true, "score": 5, "last_activity_date": 1574852146, "last_edit_date": 1574852146, "creation_date": 1574851843, "answer_id": 59068491, "question_id": 59068381, "link": "https://stackoverflow.com/questions/59068381/how-to-use-router-outlet-in-a-proper-way/59068491#59068491", "title": "how to use router-outlet in a proper way", "body": "<p>A router outlet in head is only going to render children of head, which you have none of.</p>\n\n<p>Your routes are set up to automatically render head in a router outlet of the app component. Head has no children so it will not render main. You need to add main in the children of head.</p>\n\n<pre><code>const routes: Routes = [   \n  {path: '', redirectTo:'/head', pathMatch:'full'},\n  {\n    path:'head',\n    component: HeadComponent,\n    children: [\n      {path:'',component: MainComponent}\n    ]\n  }\n];\n</code></pre>\n"}], "owner": {"reputation": 141, "user_id": 11952136, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/923fb15b06188ce51c1bba86f26525a4?s=128&d=identicon&r=PG&f=1", "display_name": "graluc", "link": "https://stackoverflow.com/users/11952136/graluc"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 52, "favorite_count": 0, "accepted_answer_id": 59068491, "answer_count": 1, "score": 2, "last_activity_date": 1574852183, "creation_date": 1574851543, "question_id": 59068381, "link": "https://stackoverflow.com/questions/59068381/how-to-use-router-outlet-in-a-proper-way", "title": "how to use router-outlet in a proper way", "body": "<p>Hi I have following code:\napp.routing.module</p>\n\n<pre><code> const routes: Routes = [   \n {path: '', redirectTo:'/head', pathMatch:'full'},\n {path:'head',component: HeadComponent},\n {path:'main',component: MainComponent},\n ];\n</code></pre>\n\n<p>and in head I have:</p>\n\n<pre><code>&lt;router-outlet&gt;&lt;/router-outlet&gt;\n</code></pre>\n\n<p>which should navigate to main automically but it doesn't. I need to do empty head which is root of the all components.regards</p>\n"}, {"tags": ["javascript", "arrays", "typescript"], "comments": [{"owner": {"reputation": 7845, "user_id": 5734311, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7iVq7.jpg?s=128&g=1", "display_name": "Chris G", "link": "https://stackoverflow.com/users/5734311/chris-g"}, "edited": false, "score": 3, "creation_date": 1574851469, "post_id": 59068341, "comment_id": 104374948, "body": "Yes, it can be done using map(). What have you tried? Do you know about spread syntax: <code>...</code>? (also, bonus points for not using the word JSON ;)"}, {"owner": {"reputation": 5261, "user_id": 858757, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mMQgQ.png?s=128&g=1", "display_name": "Silvermind", "link": "https://stackoverflow.com/users/858757/silvermind"}, "edited": false, "score": 1, "creation_date": 1574851494, "post_id": 59068341, "comment_id": 104374958, "body": "To answer your question: Yes. Show us what you have tried."}], "answers": [{"tags": [], "owner": {"reputation": 979, "user_id": 360424, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/iZQJJ.jpg?s=128&g=1", "display_name": "Martin", "link": "https://stackoverflow.com/users/360424/martin"}, "is_accepted": false, "score": 1, "last_activity_date": 1574851593, "creation_date": 1574851593, "answer_id": 59068398, "question_id": 59068341, "link": "https://stackoverflow.com/questions/59068341/transforming-an-object-value-in-an-array-of-objects/59068398#59068398", "title": "Transforming an object value in an array of objects?", "body": "<p>Yes. I think this should do it?</p>\n\n<pre><code>languages.map(({ language, ...rest }) =&gt; ({\n  language: { name: language },\n  ...rest,\n});\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 6840, "user_id": 6555572, "user_type": "registered", "accept_rate": 50, "profile_image": "https://lh5.googleusercontent.com/-cTlFQs7dpvU/AAAAAAAAAAI/AAAAAAAABnU/Ywbtd98U9fY/photo.jpg?sz=128", "display_name": "Saurabh Agrawal", "link": "https://stackoverflow.com/users/6555572/saurabh-agrawal"}, "is_accepted": false, "score": 1, "last_activity_date": 1574851711, "creation_date": 1574851711, "answer_id": 59068443, "question_id": 59068341, "link": "https://stackoverflow.com/questions/59068341/transforming-an-object-value-in-an-array-of-objects/59068443#59068443", "title": "Transforming an object value in an array of objects?", "body": "<p>Try this:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>let array1 = [{\r\n  \"language\": \"fr\",\r\n  \"title\": \"test FR\",\r\n  \"content\": \"Context fr Test\",\r\n  \"summary\": \"Cummary fr test\",\r\n},\r\n{\r\n  \"language\": \"de\",\r\n  \"title\": \"test DE\",\r\n  \"content\": \"Context DE Test\",\r\n  \"summary\": \"Cummary DE test\",\r\n}]\r\nlet res = array1.map((value, index) =&gt; {\r\n  return { ...value, language: { name: value.language } }\r\n})\r\nconsole.log(res);</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": [], "owner": {"reputation": 3460, "user_id": 6787542, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/795e29b773dc1a723b94bebd151b212c?s=128&d=identicon&r=PG&f=1", "display_name": "Kevin.a", "link": "https://stackoverflow.com/users/6787542/kevin-a"}, "is_accepted": false, "score": 0, "last_activity_date": 1574852671, "last_edit_date": 1574852671, "creation_date": 1574852367, "answer_id": 59068648, "question_id": 59068341, "link": "https://stackoverflow.com/questions/59068341/transforming-an-object-value-in-an-array-of-objects/59068648#59068648", "title": "Transforming an object value in an array of objects?", "body": "<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const arr =    [{\r\n                \"language\": \"fr\",\r\n                \"title\": \"test FR\",\r\n                \"content\": \"Context fr Test\",\r\n                \"summary\": \"Cummary fr test\",\r\n            },\r\n            {\r\n                \"language\":\"de\",\r\n                \"title\": \"test DE\",\r\n                \"content\": \"Context DE Test\",\r\n                \"summary\": \"Cummary DE test\",\r\n            }];\r\n\r\nconst newObj = arr.map( obj =&gt; {...obj , language : {name : obj.language}});\r\n\r\nconsole.log(newObj)</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>With map and the spread operator, like you said.</p>\n"}], "owner": {"reputation": 363, "user_id": 2536158, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b4a1eee9da3c90cbdc87840ffd05898e?s=128&d=identicon&r=PG", "display_name": "Josejacob99", "link": "https://stackoverflow.com/users/2536158/josejacob99"}, "delete_vote_count": 1, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 58, "favorite_count": 0, "closed_date": 1574852335, "answer_count": 3, "score": -4, "last_activity_date": 1574853034, "creation_date": 1574851395, "last_edit_date": 1574853034, "question_id": 59068341, "link": "https://stackoverflow.com/questions/59068341/transforming-an-object-value-in-an-array-of-objects", "closed_reason": "Needs more focus", "title": "Transforming an object value in an array of objects?", "body": "<p>What is the best way to transform the following array </p>\n\n<pre><code>           [{\n                \"language\":\"de\",\n                \"title\": \"test DE\",\n                \"content\": \"Context DE Test\",\n                \"summary\": \"Cummary DE test\",\n            }]\n</code></pre>\n\n<p>to the following format. </p>\n\n<pre><code>            [{\n                \"language\": { \"name\": \"de\" },\n                \"title\": \"test DE\",\n                \"content\": \"Context DE Test\",\n                \"summary\": \"Cummary DE test\",\n            }]\n</code></pre>\n\n<p>I need to change the structure of the language key in the object.</p>\n"}, {"tags": ["javascript", "angular", "typescript"], "comments": [{"owner": {"reputation": 17679, "user_id": 7603109, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/BoIE4.png?s=128&g=1", "display_name": "Adrita Sharma", "link": "https://stackoverflow.com/users/7603109/adrita-sharma"}, "edited": false, "score": 0, "creation_date": 1574851024, "post_id": 59068191, "comment_id": 104374699, "body": "&quot;if array is empty, it maps empty value.&quot; What is your requirement?"}, {"owner": {"reputation": 1515, "user_id": 10021083, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-F4opwx4U8H8/AAAAAAAAAAI/AAAAAAAAAAA/AB6qoq13JczyNUx5Nh4JYB6LEEig1b94fg/mo/photo.jpg?sz=128", "display_name": "Eugene Sukh", "link": "https://stackoverflow.com/users/10021083/eugene-sukh"}, "reply_to_user": {"reputation": 17679, "user_id": 7603109, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/BoIE4.png?s=128&g=1", "display_name": "Adrita Sharma", "link": "https://stackoverflow.com/users/7603109/adrita-sharma"}, "edited": false, "score": 0, "creation_date": 1574851117, "post_id": 59068191, "comment_id": 104374746, "body": "I need to map  array if array has values only @AdritaSharma"}], "answers": [{"tags": [], "owner": {"reputation": 467, "user_id": 11995961, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-mR2unz589wQ/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rd9GDeYx0C4M978OoOuDdK1xRmOhw/photo.jpg?sz=128", "display_name": "Bored", "link": "https://stackoverflow.com/users/11995961/bored"}, "is_accepted": false, "score": 0, "last_activity_date": 1574851193, "creation_date": 1574851193, "answer_id": 59068263, "question_id": 59068191, "link": "https://stackoverflow.com/questions/59068191/empty-array-map-create-empty-value-angular/59068263#59068263", "title": "Empty array map create empty value (Angular)", "body": "<p>just try with :</p>\n\n<pre><code>       if(array.length&gt;0){ array.map....\n       }else{...}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 17679, "user_id": 7603109, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/BoIE4.png?s=128&g=1", "display_name": "Adrita Sharma", "link": "https://stackoverflow.com/users/7603109/adrita-sharma"}, "is_accepted": true, "score": 1, "last_activity_date": 1574851363, "creation_date": 1574851363, "answer_id": 59068327, "question_id": 59068191, "link": "https://stackoverflow.com/questions/59068191/empty-array-map-create-empty-value-angular/59068327#59068327", "title": "Empty array map create empty value (Angular)", "body": "<p>Try like this:</p>\n\n<pre><code>if(this.tools.length &gt; 0)\n  this.job.tools = this.tools.map(e =&gt; e.value)\n</code></pre>\n"}], "owner": {"reputation": 1515, "user_id": 10021083, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-F4opwx4U8H8/AAAAAAAAAAI/AAAAAAAAAAA/AB6qoq13JczyNUx5Nh4JYB6LEEig1b94fg/mo/photo.jpg?sz=128", "display_name": "Eugene Sukh", "link": "https://stackoverflow.com/users/10021083/eugene-sukh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 705, "favorite_count": 0, "accepted_answer_id": 59068327, "answer_count": 2, "score": 1, "last_activity_date": 1574877474, "creation_date": 1574850957, "last_edit_date": 1574877474, "question_id": 59068191, "link": "https://stackoverflow.com/questions/59068191/empty-array-map-create-empty-value-angular", "title": "Empty array map create empty value (Angular)", "body": "<p>I have an angular component where I using input and list to show an array.</p>\n\n<p>Here is html of component</p>\n\n<pre><code> &lt;div class=\"form-group col-md-6\"&gt;\n                            &lt;label&gt;{{ l('Tools') }}&lt;/label&gt;\n                            &lt;div class=\"row mt-2\"&gt;\n                                &lt;div class=\"col-8\"&gt;\n                                    &lt;input\n                                        #toolsInput=\"ngModel\"\n                                        [(ngModel)]=\"tool\"\n                                        class=\"form-control\"\n                                        type=\"text\"\n                                        name=\"tools\"\n                                        maxlength=\"32\"\n                                    /&gt;\n                                &lt;/div&gt;\n                                &lt;div class=\"col-4\"&gt;\n                                    &lt;button\n                                        [disabled]=\"tool == null || tool == '' || tool.trim() == ''\"\n                                        type=\"button\"\n                                        class=\"btn btn-primary\"\n                                        (click)=\"addItemToTools()\"\n                                    &gt;\n                                        &lt;i class=\"fa fa-plus\"&gt;&lt;/i&gt;\n                                    &lt;/button&gt;\n                                &lt;/div&gt;\n                            &lt;/div&gt;\n                            &lt;div class=\"row mt-2\"&gt;\n                                &lt;div class=\"col-12\"&gt;\n                                    &lt;p-listbox\n                                        [readonly]=\"true\"\n                                        [options]=\"tools\"\n                                        [style]=\"{\n                                            width: '85%',\n                                            height: '200px',\n                                            overflow: 'auto',\n                                            'overflow-y': 'scroll'\n                                        }\"\n                                    &gt;\n                                        &lt;ng-template let-tool let-i=\"index\" pTemplate=\"item\"&gt;\n                                            &lt;div class=\"row\" style=\"margin-right: 0px; margin-left: 0px;\"&gt;\n                                                &lt;div class=\"col-9\"&gt;{{ tool.value }}&lt;/div&gt;\n                                                &lt;div class=\"col-1\"&gt;\n                                                    &lt;button\n                                                        type=\"button\"\n                                                        class=\"btn btn-primary\"\n                                                        (click)=\"removeTool(i)\"\n                                                    &gt;\n                                                        &lt;i class=\"fa fa-times\"&gt;&lt;/i&gt;\n                                                    &lt;/button&gt;\n                                                &lt;/div&gt;\n                                            &lt;/div&gt;\n                                        &lt;/ng-template&gt;\n                                    &lt;/p-listbox&gt;\n                                &lt;/div&gt;\n                            &lt;/div&gt;\n                        &lt;/div&gt;\n</code></pre>\n\n<p>Here is TS code of my component (adding tools part)</p>\n\n<pre><code>export class CreateJobComponent extends CreateEditModalComponentBase implements OnInit {\ntools: SelectItem[] = [];\n addItemToTools(): void {\n    this.tools.push({ value: this.tool, label: this.tool });\n    this.tool = null;\n}\n</code></pre>\n\n<p>And in save method I map this to DTO array like this - </p>\n\n<pre><code>this.job.tools = this.tools.map(e =&gt; e.value);\n</code></pre>\n\n<p>But if array is empty, it maps empty value. How I can fix this?</p>\n"}, {"tags": ["angular", "typescript"], "comments": [{"owner": {"reputation": 5325, "user_id": 6118550, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jq2eV.png?s=128&g=1", "display_name": "C_Ogoo", "link": "https://stackoverflow.com/users/6118550/c-ogoo"}, "edited": false, "score": 0, "creation_date": 1574849684, "post_id": 59067760, "comment_id": 104373886, "body": "is the route a lazy loaded module, or are there any resolvers on the route. Could you share the config for this route?"}, {"owner": {"reputation": 801, "user_id": 9669869, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ddbc34b4f87ad08f3959b82fcfa8a202?s=128&d=identicon&r=PG&f=1", "display_name": "Mikey123", "link": "https://stackoverflow.com/users/9669869/mikey123"}, "edited": false, "score": 0, "creation_date": 1574849744, "post_id": 59067760, "comment_id": 104373919, "body": "Do you have the same problem when using navigate by URL? this.router.navigateByUrl(&#39;/employee&#39;);"}, {"owner": {"reputation": 15822, "user_id": 4399281, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JkroG.jpg?s=128&g=1", "display_name": "Fateh Mohamed", "link": "https://stackoverflow.com/users/4399281/fateh-mohamed"}, "edited": false, "score": 0, "creation_date": 1574850053, "post_id": 59067760, "comment_id": 104374092, "body": "i think  you have a problem in your AuthGuard, can you share it&#39;s code please"}, {"owner": {"reputation": 700, "user_id": 7402025, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8018fd1a1a0d8b3b29ef863c0cbd3c29?s=128&d=identicon&r=PG&f=1", "display_name": "M.Dietz", "link": "https://stackoverflow.com/users/7402025/m-dietz"}, "reply_to_user": {"reputation": 5325, "user_id": 6118550, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jq2eV.png?s=128&g=1", "display_name": "C_Ogoo", "link": "https://stackoverflow.com/users/6118550/c-ogoo"}, "edited": false, "score": 0, "creation_date": 1574850695, "post_id": 59067760, "comment_id": 104374511, "body": "@c_ogoo Yes, the route is lazyloaded, i shared the code above.   @Mikey123 Yes, i have the same problem if i use your suggested code.  @FatehMohamed That shouldnt be the problem, because the problem still occurs even if i remove the <code>canActivate: [AuthGuard]</code> property. In that case, AuthGuard isnt involved at all but the problem still persists."}, {"owner": {"reputation": 5325, "user_id": 6118550, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jq2eV.png?s=128&g=1", "display_name": "C_Ogoo", "link": "https://stackoverflow.com/users/6118550/c-ogoo"}, "edited": false, "score": 0, "creation_date": 1574851090, "post_id": 59067760, "comment_id": 104374727, "body": "issue could be connection speed, since the browser needs to load the module before it can navigate to it"}], "answers": [{"tags": [], "owner": {"reputation": 5325, "user_id": 6118550, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jq2eV.png?s=128&g=1", "display_name": "C_Ogoo", "link": "https://stackoverflow.com/users/6118550/c-ogoo"}, "is_accepted": false, "score": 0, "last_activity_date": 1574851014, "creation_date": 1574851014, "answer_id": 59068209, "question_id": 59067760, "link": "https://stackoverflow.com/questions/59067760/angular-router-navigate-delayed-for-the-first-time-after-page-reload/59068209#59068209", "title": "Angular, router.navigate delayed for the first time after page reload", "body": "<p>Potentially this isn't an issue, but just some slowness in the connection speed. </p>\n\n<p>Considering the module is lazy loaded, and you only experience the slow-down on a page reload; it may be due to how long it takes for the browser to fetch the lazy loaded module for the first time on your connection. (Check this by looking at the network tab on the browser dev console).</p>\n"}], "owner": {"reputation": 700, "user_id": 7402025, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8018fd1a1a0d8b3b29ef863c0cbd3c29?s=128&d=identicon&r=PG&f=1", "display_name": "M.Dietz", "link": "https://stackoverflow.com/users/7402025/m-dietz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 367, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1574851014, "creation_date": 1574849558, "last_edit_date": 1574850011, "question_id": 59067760, "link": "https://stackoverflow.com/questions/59067760/angular-router-navigate-delayed-for-the-first-time-after-page-reload", "title": "Angular, router.navigate delayed for the first time after page reload", "body": "<p>I tried doing a simple <code>router.navigate()</code>:</p>\n\n<pre><code>navigateToEmployeeView() {\n    console.log('DEBUG: NAVIGATE');\n    this.loading = true;\n    this.router.navigate(['employee']);\n  }\n</code></pre>\n\n<p>It works as expected, the only problem being that it takes up to 0.5-1 seconds  after every new page reload till the router changes the URL to the new requested one. The <code>navigateToEmployeeView()</code> gets instantly executed, but it does take a bit till it navigates to <code>.../employee</code>. It stays on the current URL for a bit till it finally navigates to the new requested one. But that only happens for the first time after every reload. After that the navigation to the new URL happens instantly. </p>\n\n<p>Does anyone have an idea what might delay the first navigation to the new URL after page reload?</p>\n\n<p>Edit:</p>\n\n<p>The route is defined here</p>\n\n<pre><code>const homeRoutes: Routes = [\n  {\n    path: '',\n    component: HomeComponent\n  },\n  {\n    path: 'employee',\n    loadChildren: 'app/employee/employee.module#EmployeeModule',\n    canActivate: [AuthGuard]\n  },\n  // more stuff \n];\n\n@NgModule({\n  imports: [RouterModule.forChild(homeRoutes)],\n  exports: [RouterModule]\n})\nexport class HomeRoutingModule {\n}\n</code></pre>\n"}, {"tags": ["angular", "typescript", "firebase", "google-cloud-firestore", "ionic4"], "comments": [{"owner": {"reputation": 2384, "user_id": 1934484, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FJ2rs.jpg?s=128&g=1", "display_name": "Tomas Vancoillie", "link": "https://stackoverflow.com/users/1934484/tomas-vancoillie"}, "edited": false, "score": 0, "creation_date": 1574851336, "post_id": 59067756, "comment_id": 104374880, "body": "When you enter, the ngOnInit + ionViewWillEnter will execute. DRY by removing the functionality out of ngOnInit"}, {"owner": {"reputation": 303, "user_id": 12102032, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8a411f94a9de8459c4d8207e6301f574?s=128&d=identicon&r=PG&f=1", "display_name": "Yann92", "link": "https://stackoverflow.com/users/12102032/yann92"}, "reply_to_user": {"reputation": 2384, "user_id": 1934484, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FJ2rs.jpg?s=128&g=1", "display_name": "Tomas Vancoillie", "link": "https://stackoverflow.com/users/1934484/tomas-vancoillie"}, "edited": false, "score": 0, "creation_date": 1574851640, "post_id": 59067756, "comment_id": 104375037, "body": "So I put nothing inside ngOnInit ? I tried it gives the same result.."}], "answers": [{"comments": [{"owner": {"reputation": 303, "user_id": 12102032, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8a411f94a9de8459c4d8207e6301f574?s=128&d=identicon&r=PG&f=1", "display_name": "Yann92", "link": "https://stackoverflow.com/users/12102032/yann92"}, "edited": false, "score": 0, "creation_date": 1574854884, "post_id": 59068538, "comment_id": 104376844, "body": "Thank you but <code>.valueChanges()</code> or <code>.snapShotChanges()</code>do not exists.."}, {"owner": {"reputation": 409, "user_id": 8468233, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f0316f8901eece68a9fc74ff71ba1dee?s=128&d=identicon&r=PG&f=1", "display_name": "Tobias Kaufmann", "link": "https://stackoverflow.com/users/8468233/tobias-kaufmann"}, "reply_to_user": {"reputation": 303, "user_id": 12102032, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8a411f94a9de8459c4d8207e6301f574?s=128&d=identicon&r=PG&f=1", "display_name": "Yann92", "link": "https://stackoverflow.com/users/12102032/yann92"}, "edited": false, "score": 0, "creation_date": 1574855528, "post_id": 59068538, "comment_id": 104377208, "body": "Are you using Angularfire? Can you share your service (especially this.afs)?"}, {"owner": {"reputation": 303, "user_id": 12102032, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8a411f94a9de8459c4d8207e6301f574?s=128&d=identicon&r=PG&f=1", "display_name": "Yann92", "link": "https://stackoverflow.com/users/12102032/yann92"}, "edited": false, "score": 0, "creation_date": 1574856224, "post_id": 59068538, "comment_id": 104377604, "body": "Yes. <code>private afs: AngularFirestore</code>"}, {"owner": {"reputation": 409, "user_id": 8468233, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f0316f8901eece68a9fc74ff71ba1dee?s=128&d=identicon&r=PG&f=1", "display_name": "Tobias Kaufmann", "link": "https://stackoverflow.com/users/8468233/tobias-kaufmann"}, "reply_to_user": {"reputation": 303, "user_id": 12102032, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8a411f94a9de8459c4d8207e6301f574?s=128&d=identicon&r=PG&f=1", "display_name": "Yann92", "link": "https://stackoverflow.com/users/12102032/yann92"}, "edited": false, "score": 0, "creation_date": 1574857981, "post_id": 59068538, "comment_id": 104378596, "body": "I edited the getLastTime function, can you confirm .valueChanges () is still not available?"}, {"owner": {"reputation": 303, "user_id": 12102032, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8a411f94a9de8459c4d8207e6301f574?s=128&d=identicon&r=PG&f=1", "display_name": "Yann92", "link": "https://stackoverflow.com/users/12102032/yann92"}, "edited": false, "score": 0, "creation_date": 1574862903, "post_id": 59068538, "comment_id": 104381397, "body": "now .valueChanges is correct but I cannot not subscribe to getLastTime as you have done..."}, {"owner": {"reputation": 409, "user_id": 8468233, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f0316f8901eece68a9fc74ff71ba1dee?s=128&d=identicon&r=PG&f=1", "display_name": "Tobias Kaufmann", "link": "https://stackoverflow.com/users/8468233/tobias-kaufmann"}, "reply_to_user": {"reputation": 303, "user_id": 12102032, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8a411f94a9de8459c4d8207e6301f574?s=128&d=identicon&r=PG&f=1", "display_name": "Yann92", "link": "https://stackoverflow.com/users/12102032/yann92"}, "edited": false, "score": 1, "creation_date": 1574863342, "post_id": 59068538, "comment_id": 104381656, "body": "Remove async from getLastTime()"}], "tags": [], "owner": {"reputation": 409, "user_id": 8468233, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f0316f8901eece68a9fc74ff71ba1dee?s=128&d=identicon&r=PG&f=1", "display_name": "Tobias Kaufmann", "link": "https://stackoverflow.com/users/8468233/tobias-kaufmann"}, "is_accepted": true, "score": 3, "last_activity_date": 1574863330, "last_edit_date": 1574863330, "creation_date": 1574852006, "answer_id": 59068538, "question_id": 59067756, "link": "https://stackoverflow.com/questions/59067756/async-function-with-firestore-does-not-load-my-data/59068538#59068538", "title": "Async function with Firestore does not load my data", "body": "<p>Use <code>.valueChanges()</code> or <code>.snapShotChanges()</code> instead of <code>.get()</code>. You can subscribe to the former methods, which makes it obsolete to call a query like <code>ionViewWillEnter()</code>. After the values have been updated, you will automatically receive the values again. </p>\n\n<p>Rewrite <code>getLastTime()</code> (assuming it's in the Service <code>firebaseService</code>) to return an Observable:</p>\n\n<pre><code>getLastTime(collectionName: string, user: string, collec: string, docu: string) {\n    return this.afs.collection(collectionName).doc(user).collection(collec).doc(docu).valueChanges();\n  }\n</code></pre>\n\n<p>In your component, subscribe to <code>getLastTime()</code>:</p>\n\n<pre><code>this.firebaseService.getLastTime(....).subscribe(res =&gt; {\n if (!res) \n   console.log(\"never done\");\n});\n</code></pre>\n"}], "owner": {"reputation": 303, "user_id": 12102032, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8a411f94a9de8459c4d8207e6301f574?s=128&d=identicon&r=PG&f=1", "display_name": "Yann92", "link": "https://stackoverflow.com/users/12102032/yann92"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 197, "favorite_count": 0, "accepted_answer_id": 59068538, "answer_count": 1, "score": 1, "last_activity_date": 1574863330, "creation_date": 1574849540, "last_edit_date": 1574851208, "question_id": 59067756, "link": "https://stackoverflow.com/questions/59067756/async-function-with-firestore-does-not-load-my-data", "title": "Async function with Firestore does not load my data", "body": "<p>on my page on <code>nOnInit</code> I use a async function to load some data from firebase (normally the async function wait to get all the data from firebase), so this work correctly and I got my data inside my object <code>getDocu</code></p>\n\n<pre class=\"lang-js prettyprint-override\"><code>async ngOnInit() {\n    this.getDocu = await this.Help.getLastTime('JOURNALIER', 'Le Mat', 'lastTime', 'lastTime');\n    this.loadItems();\n}\n</code></pre>\n\n<p>Then, inside this page, the user fill in some questions and I am saving the results inside the same document (update) in firebase and when I come back on the page I run <code>ionViewWillEnter</code> to reload the updated data and display it on my page. </p>\n\n<pre class=\"lang-js prettyprint-override\"><code>async ionViewWillEnter() {\n    this.getDocu = await this.Help.getLastTime('JOURNALIER', 'Le Mat', 'lastTime', 'lastTime');\n    this.loadItems();\n} \n</code></pre>\n\n<p>Here is my <code>getLastTime</code> function : </p>\n\n<pre class=\"lang-js prettyprint-override\"><code>async getLastTime(collectionName: string, user: string, collec: string, docu: string) {\n    const docRef = this.afs.firestore.collection(collectionName).doc(user).collection(collec).doc(docu);\n    const doc = await docRef.get();\n    if (doc.exists) {\n            this.getDocu = doc.data();\n        } else {\n            this.getDocu = 'Never done';\n        }\n    return this.getDocu;\n  }\n</code></pre>\n\n<p>But when I console log the result of <code>ionViewWillEnter</code>, I do not load the updated data, or if I reload the page manually, this time this is <code>ngOnInit</code> that runs and got the updated value... </p>\n\n<p>Very strange to me, since it looks like I use the same method to get the value... with different results.. </p>\n"}, {"tags": ["node.js", "typescript"], "comments": [{"owner": {"reputation": 253913, "user_id": 9515207, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/34932d3e923ffad9a4a1423e30b1d9fc?s=128&d=identicon&r=PG&f=1", "display_name": "CertainPerformance", "link": "https://stackoverflow.com/users/9515207/certainperformance"}, "edited": false, "score": 1, "creation_date": 1574849518, "post_id": 59067713, "comment_id": 104373788, "body": "It kind of sounds like your current Webpack configuration is parsing the <code>.ts</code> as Javascript, not Typescript, or something like that..? Does other Typescript syntax throw errors too?"}, {"owner": {"reputation": 17982, "user_id": 3689450, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SXuSR.png?s=128&g=1", "display_name": "VLAZ", "link": "https://stackoverflow.com/users/3689450/vlaz"}, "edited": false, "score": 0, "creation_date": 1574850787, "post_id": 59067713, "comment_id": 104374559, "body": "Can you post code instead of images?"}, {"owner": {"reputation": 173, "user_id": 8368058, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b814ec6552a907455c035926af8fb876?s=128&d=identicon&r=PG&f=1", "display_name": "NAlexP", "link": "https://stackoverflow.com/users/8368058/nalexp"}, "reply_to_user": {"reputation": 253913, "user_id": 9515207, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/34932d3e923ffad9a4a1423e30b1d9fc?s=128&d=identicon&r=PG&f=1", "display_name": "CertainPerformance", "link": "https://stackoverflow.com/users/9515207/certainperformance"}, "edited": false, "score": 0, "creation_date": 1574850796, "post_id": 59067713, "comment_id": 104374568, "body": "@CertainPerformance I&#39;m not sure, I&#39;m learning typescript right now and I don&#39;t know it&#39;s particular syntax. If you could give me an example, I could test to see if I get errors. Also, double quotes throws same error."}, {"owner": {"reputation": 253913, "user_id": 9515207, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/34932d3e923ffad9a4a1423e30b1d9fc?s=128&d=identicon&r=PG&f=1", "display_name": "CertainPerformance", "link": "https://stackoverflow.com/users/9515207/certainperformance"}, "edited": false, "score": 0, "creation_date": 1574850853, "post_id": 59067713, "comment_id": 104374607, "body": "Just use <i>any</i> Typescript syntax other than non-null assertion to see if it throws an error too, take your pick and see if it compiles"}, {"owner": {"reputation": 173, "user_id": 8368058, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b814ec6552a907455c035926af8fb876?s=128&d=identicon&r=PG&f=1", "display_name": "NAlexP", "link": "https://stackoverflow.com/users/8368058/nalexp"}, "reply_to_user": {"reputation": 253913, "user_id": 9515207, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/34932d3e923ffad9a4a1423e30b1d9fc?s=128&d=identicon&r=PG&f=1", "display_name": "CertainPerformance", "link": "https://stackoverflow.com/users/9515207/certainperformance"}, "edited": false, "score": 0, "creation_date": 1574850997, "post_id": 59067713, "comment_id": 104374680, "body": "@CertainPerformance I tried doing a <code>var message:string=&quot;&quot;</code> and it throws an unexpected token error at the <code>:</code>. It&#39;s basically the same error."}, {"owner": {"reputation": 173, "user_id": 8368058, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b814ec6552a907455c035926af8fb876?s=128&d=identicon&r=PG&f=1", "display_name": "NAlexP", "link": "https://stackoverflow.com/users/8368058/nalexp"}, "reply_to_user": {"reputation": 17982, "user_id": 3689450, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SXuSR.png?s=128&g=1", "display_name": "VLAZ", "link": "https://stackoverflow.com/users/3689450/vlaz"}, "edited": false, "score": 0, "creation_date": 1574851144, "post_id": 59067713, "comment_id": 104374768, "body": "@VLAZ I&#39;m not sure code is the central concern of this question."}, {"owner": {"reputation": 253913, "user_id": 9515207, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/34932d3e923ffad9a4a1423e30b1d9fc?s=128&d=identicon&r=PG&f=1", "display_name": "CertainPerformance", "link": "https://stackoverflow.com/users/9515207/certainperformance"}, "edited": false, "score": 0, "creation_date": 1574851238, "post_id": 59067713, "comment_id": 104374819, "body": "Yep, sounds like the Typescript isn&#39;t being complied as Typescript. You may need something like <code>test: &#47;\\.ts$&#47;,                 use: &#39;ts-loader&#39;,</code> in your config, don&#39;t know what sort of setup you have"}, {"owner": {"reputation": 17982, "user_id": 3689450, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SXuSR.png?s=128&g=1", "display_name": "VLAZ", "link": "https://stackoverflow.com/users/3689450/vlaz"}, "edited": false, "score": 0, "creation_date": 1574851257, "post_id": 59067713, "comment_id": 104374828, "body": "@NAlexP I can&#39;t read the first image due to the low contrast, so I don&#39;t even know what syntax you&#39;ve used. If code is not important, then remove the images and see if the question is still answerable."}, {"owner": {"reputation": 173, "user_id": 8368058, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b814ec6552a907455c035926af8fb876?s=128&d=identicon&r=PG&f=1", "display_name": "NAlexP", "link": "https://stackoverflow.com/users/8368058/nalexp"}, "reply_to_user": {"reputation": 253913, "user_id": 9515207, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/34932d3e923ffad9a4a1423e30b1d9fc?s=128&d=identicon&r=PG&f=1", "display_name": "CertainPerformance", "link": "https://stackoverflow.com/users/9515207/certainperformance"}, "edited": false, "score": 0, "creation_date": 1574851684, "post_id": 59067713, "comment_id": 104375065, "body": "@CertainPerformance the examples of that I found on the internet had a <code>test</code> prop on an anonymous object declared in a <code>rules</code> list in some <code>model</code> object. Can I simply write <code>test: &#47;\\.ts$&#47;, use: &#39;ts-loader&#39;</code> in the webpack config?"}, {"owner": {"reputation": 253913, "user_id": 9515207, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/34932d3e923ffad9a4a1423e30b1d9fc?s=128&d=identicon&r=PG&f=1", "display_name": "CertainPerformance", "link": "https://stackoverflow.com/users/9515207/certainperformance"}, "edited": false, "score": 0, "creation_date": 1574854330, "post_id": 59067713, "comment_id": 104376546, "body": "Maybe. I&#39;m not entirely sure what your setup is, or the intended target, but Webpack <i>can</i> use ts-loader to parse TS files. There are other ways to do it too, but I think ts-loader is the best way when integrating with Webpack. Of course, to use ts-loader, you also have to install Typescript"}, {"owner": {"reputation": 11681, "user_id": 3617380, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/53b845bcd82ba802f57e2c8256fcba97?s=128&d=identicon&r=PG&f=1", "display_name": "hackape", "link": "https://stackoverflow.com/users/3617380/hackape"}, "edited": false, "score": 0, "creation_date": 1574854447, "post_id": 59067713, "comment_id": 104376617, "body": "just <code>npm install typescript</code> will fix it."}, {"owner": {"reputation": 173, "user_id": 8368058, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b814ec6552a907455c035926af8fb876?s=128&d=identicon&r=PG&f=1", "display_name": "NAlexP", "link": "https://stackoverflow.com/users/8368058/nalexp"}, "edited": false, "score": 0, "creation_date": 1574854601, "post_id": 59067713, "comment_id": 104376691, "body": "<code>npm install typescript --save-dev</code> did it. Any clue why my globally installed ts module didn&#39;t work?"}], "answers": [{"tags": [], "owner": {"reputation": 173, "user_id": 8368058, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b814ec6552a907455c035926af8fb876?s=128&d=identicon&r=PG&f=1", "display_name": "NAlexP", "link": "https://stackoverflow.com/users/8368058/nalexp"}, "is_accepted": false, "score": 1, "last_activity_date": 1574854650, "creation_date": 1574854650, "answer_id": 59069350, "question_id": 59067713, "link": "https://stackoverflow.com/questions/59067713/typescript-syntax-dosnt-seem-to-get-compiled/59069350#59069350", "title": "Typescript syntax dosn&#39;t seem to get compiled", "body": "<p><code>npm install typescript --save-dev</code> fixed the problem.\nI'm still courious why my globally installed typescript module(<code>npm -i -g typescript</code>) didn't work, though.</p>\n"}], "owner": {"reputation": 173, "user_id": 8368058, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b814ec6552a907455c035926af8fb876?s=128&d=identicon&r=PG&f=1", "display_name": "NAlexP", "link": "https://stackoverflow.com/users/8368058/nalexp"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 147, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1574854650, "creation_date": 1574849389, "last_edit_date": 1574853931, "question_id": 59067713, "link": "https://stackoverflow.com/questions/59067713/typescript-syntax-dosnt-seem-to-get-compiled", "title": "Typescript syntax dosn&#39;t seem to get compiled", "body": "<p>The <code>!</code> character doesn't seem to be recognized when trying to compile the file.</p>\n\n<p><a href=\"https://i.stack.imgur.com/BLf75.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/BLf75.png\" alt=\"enter image description here\"></a></p>\n\n<p>If I do not use it, I get these errors(for context, not really important, I believe):</p>\n\n<p><a href=\"https://i.stack.imgur.com/7V8IN.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/7V8IN.png\" alt=\"enter image description here\"></a></p>\n\n<p>Point is, if I want to avoid those errors, I have to either use the non null assertion operator <code>!</code> or to test whether or not these objects are null before using them.</p>\n\n<p>Code runs like a charm using tests to verify the objects are not null, but for some reason, when trying to use the <code>!</code>, I get that Unexpected token error. Any clue how that could be fixed?</p>\n\n<p>I have added</p>\n\n<pre><code>module.exports = {\n  module:{\n    rules:[\n      {test: /\\.ts$/, use: 'ts-loader'}\n    ]\n  }\n};\n</code></pre>\n\n<p>to my wepback.config.js\nand now, I'm getting an <code>Error:cannot find module 'typescript', Require stack:</code> error.</p>\n\n<p><a href=\"https://i.stack.imgur.com/Sj3aj.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Sj3aj.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["typescript"], "comments": [{"owner": {"reputation": 11681, "user_id": 3617380, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/53b845bcd82ba802f57e2c8256fcba97?s=128&d=identicon&r=PG&f=1", "display_name": "hackape", "link": "https://stackoverflow.com/users/3617380/hackape"}, "edited": false, "score": 0, "creation_date": 1574854722, "post_id": 59067691, "comment_id": 104376756, "body": "If you&#39;re using VSCode, try command palette: Restart TS Server"}], "answers": [{"tags": [], "owner": {"reputation": 503, "user_id": 1886308, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mvVVG.png?s=128&g=1", "display_name": "Gie Spaepen", "link": "https://stackoverflow.com/users/1886308/gie-spaepen"}, "is_accepted": false, "score": 0, "last_activity_date": 1574857096, "creation_date": 1574857096, "answer_id": 59070078, "question_id": 59067691, "link": "https://stackoverflow.com/questions/59067691/ts-can-not-find-name-parse/59070078#59070078", "title": "(Ts) can not find name &#39;parse&#39;", "body": "<p>The beste way to work with custom typings is to create a directory in your src dir, e.g. typings.</p>\n\n<p>Then you have to point your tsc compiler to that folder by adding the following snippet to your tsconfig file:</p>\n\n<pre><code>  {\n    \"compilerOptions\": {\n    ...\n    \"typeRoots\": [\n        \"./node_modules/@types\",\n        \"./src/typings\"\n     ]\n   }\n   ...\n  }\n</code></pre>\n\n<p>Then you can order you typings as a module. Create a directory ./src/typings/parse-module with one file: index.d.ts:</p>\n\n<pre><code>declare module \"parse-module\" {\n   export function parse(selector: string): any;\n}\n</code></pre>\n\n<p>Now you can import it an happily compile it in your index.ts file:</p>\n\n<pre><code>import { parse } from \"parse-module\";\n\nparse(\"blabla\");\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 6269321, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7500b1a0bc892fd991203c601b70b61f?s=128&d=identicon&r=PG&f=1", "display_name": "\u5370\u4e66\u52cb", "link": "https://stackoverflow.com/users/6269321/%e5%8d%b0%e4%b9%a6%e5%8b%8b"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 59, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1574857096, "creation_date": 1574849312, "question_id": 59067691, "link": "https://stackoverflow.com/questions/59067691/ts-can-not-find-name-parse", "title": "(Ts) can not find name &#39;parse&#39;", "body": "<p>Creating ts file and d.ts file in the same directory will give an error\uff1acan not find name 'test'</p>\n\n<pre><code>// src/index.ts\nparse('123123')\n// src/index.d.ts\ndeclare var parse: (selector: string) =&gt; any;\n</code></pre>\n\n<p>when i change the d.ts file's path,it works fine</p>\n\n<pre><code>// src/index.ts\nparse('123123')\n// src/xxx/index.d.ts\ndeclare var parse: (selector: string) =&gt; any;\n</code></pre>\n\n<p>below is my tsconfig</p>\n\n<pre><code>{\n  \"compilerOptions\": {\n    \"esModuleInterop\": true,\n    \"experimentalDecorators\": true,\n    \"forceConsistentCasingInFileNames\": true,\n    \"importHelpers\": true,\n    \"incremental\": true,\n    \"lib\": [\"dom\", \"esnext\"],\n    \"module\": \"commonjs\",\n    \"moduleResolution\": \"node\",\n    \"noUnusedLocals\": true,\n    \"noUnusedParameters\": true,\n    \"resolveJsonModule\": true,\n    \"skipLibCheck\": true,\n    \"sourceMap\": true,\n    \"strict\": true,\n    \"stripInternal\": true,\n    \"target\": \"es5\"\n  },\n  \"include\": [\"src\"]\n}\n\n</code></pre>\n"}, {"tags": ["css", "angular", "typescript", "mat-autocomplete"], "answers": [{"tags": [], "owner": {"reputation": 1, "user_id": 8647373, "user_type": "registered", "profile_image": "https://graph.facebook.com/1245481958931008/picture?type=large", "display_name": "Anil Jambukiya", "link": "https://stackoverflow.com/users/8647373/anil-jambukiya"}, "is_accepted": false, "score": -1, "last_activity_date": 1574854025, "creation_date": 1574854025, "answer_id": 59069172, "question_id": 59067480, "link": "https://stackoverflow.com/questions/59067480/how-to-add-horizontal-scroll-to-mat-autocomplete/59069172#59069172", "title": "How to add horizontal scroll to mat autocomplete", "body": "<p><strong>HTML</strong></p>\n\n<pre><code>&lt;cdk-virtual-scroll-viewport itemSize=\"50\" class=\"example-viewport\"&gt;\n  &lt;div *cdkVirtualFor=\"let item of items\" class=\"example-item\"&gt;{{item}}&lt;/div&gt;\n&lt;/cdk-virtual-scroll-viewport&gt;\n</code></pre>\n\n<p><strong>TS File</strong></p>\n\n<pre><code>import {ChangeDetectionStrategy, Component} from '@angular/core';\n\n/** @title Basic virtual scroll */\n@Component({\n  selector: 'cdk-virtual-scroll-overview-example',\n  styleUrls: ['cdk-virtual-scroll-overview-example.css'],\n  templateUrl: 'cdk-virtual-scroll-overview-example.html',\n  changeDetection: ChangeDetectionStrategy.OnPush,\n})\nexport class CdkVirtualScrollOverviewExample {\n  items = Array.from({length: 100000}).map((_, i) =&gt; `Item #${i}`);\n}\n</code></pre>\n\n<p><strong>CSS</strong></p>\n\n<pre><code>.example-viewport {\n  height: 200px;\n  width: 200px;\n  border: 1px solid black;\n}\n\n.example-item {\n  height: 50px;\n}\n</code></pre>\n\n<p>and also follow this link\n<a href=\"https://material.angular.io/cdk/scrolling/api\" rel=\"nofollow noreferrer\">scrolling</a></p>\n"}, {"comments": [{"owner": {"reputation": 1633, "user_id": 11272449, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7a449ca3aaecdd974bd0d060e4bc3009?s=128&d=identicon&r=PG&f=1", "display_name": "karansys", "link": "https://stackoverflow.com/users/11272449/karansys"}, "edited": false, "score": 0, "creation_date": 1574864266, "post_id": 59070147, "comment_id": 104382235, "body": "Hi Chris your solution works in Stackblitz but in my app I don&#39;t find mat-option-text class at all, I am restricted in my application to use only angular6 . this might be the difference else solution is perfect"}, {"owner": {"reputation": 1361, "user_id": 4527675, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mobMp.png?s=128&g=1", "display_name": "ChrisY", "link": "https://stackoverflow.com/users/4527675/chrisy"}, "reply_to_user": {"reputation": 1633, "user_id": 11272449, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7a449ca3aaecdd974bd0d060e4bc3009?s=128&d=identicon&r=PG&f=1", "display_name": "karansys", "link": "https://stackoverflow.com/users/11272449/karansys"}, "edited": false, "score": 0, "creation_date": 1574869209, "post_id": 59070147, "comment_id": 104385074, "body": "Which angular-material version do u use?"}, {"owner": {"reputation": 1633, "user_id": 11272449, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7a449ca3aaecdd974bd0d060e4bc3009?s=128&d=identicon&r=PG&f=1", "display_name": "karansys", "link": "https://stackoverflow.com/users/11272449/karansys"}, "edited": false, "score": 0, "creation_date": 1574871882, "post_id": 59070147, "comment_id": 104386558, "body": "it is     &quot;@angular/material&quot;: &quot;^6.4.7&quot;,"}, {"owner": {"reputation": 1361, "user_id": 4527675, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mobMp.png?s=128&g=1", "display_name": "ChrisY", "link": "https://stackoverflow.com/users/4527675/chrisy"}, "reply_to_user": {"reputation": 1633, "user_id": 11272449, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7a449ca3aaecdd974bd0d060e4bc3009?s=128&d=identicon&r=PG&f=1", "display_name": "karansys", "link": "https://stackoverflow.com/users/11272449/karansys"}, "edited": false, "score": 0, "creation_date": 1574873443, "post_id": 59070147, "comment_id": 104387385, "body": "According to the source of there should be a <code>mat-option</code> in Angular Material 6.4.x. (<a href=\"https://github.com/angular/components/blob/6.4.x/src/lib/core/option/option.html\" rel=\"nofollow noreferrer\">github.com/angular/components/blob/6.4.x/src/lib/core/optio&zwnj;&#8203;n/&hellip;</a>) Do you use the <code>&lt;mat-option&gt;</code> element in your HTML? Can you extend your question with the HTML, which show the usage of the <code>mat-autocomplete</code>?"}, {"owner": {"reputation": 1633, "user_id": 11272449, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7a449ca3aaecdd974bd0d060e4bc3009?s=128&d=identicon&r=PG&f=1", "display_name": "karansys", "link": "https://stackoverflow.com/users/11272449/karansys"}, "edited": false, "score": 0, "creation_date": 1574873966, "post_id": 59070147, "comment_id": 104387662, "body": "I do use mat-option to populate data, but I don&#39;t see mat-option-text"}, {"owner": {"reputation": 1361, "user_id": 4527675, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mobMp.png?s=128&g=1", "display_name": "ChrisY", "link": "https://stackoverflow.com/users/4527675/chrisy"}, "reply_to_user": {"reputation": 1633, "user_id": 11272449, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7a449ca3aaecdd974bd0d060e4bc3009?s=128&d=identicon&r=PG&f=1", "display_name": "karansys", "link": "https://stackoverflow.com/users/11272449/karansys"}, "edited": false, "score": 0, "creation_date": 1574874226, "post_id": 59070147, "comment_id": 104387803, "body": "<a href=\"https://github.com/angular/components/blob/6.4.x/src/lib/core/option/option.html#L4\" rel=\"nofollow noreferrer\">github.com/angular/components/blob/6.4.x/src/lib/core/option&zwnj;&#8203;/&hellip;</a>"}], "tags": [], "owner": {"reputation": 1361, "user_id": 4527675, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mobMp.png?s=128&g=1", "display_name": "ChrisY", "link": "https://stackoverflow.com/users/4527675/chrisy"}, "is_accepted": false, "score": 0, "last_activity_date": 1574857311, "creation_date": 1574857311, "answer_id": 59070147, "question_id": 59067480, "link": "https://stackoverflow.com/questions/59067480/how-to-add-horizontal-scroll-to-mat-autocomplete/59070147#59070147", "title": "How to add horizontal scroll to mat autocomplete", "body": "<p>Try the following CSS. It worked for me.</p>\n\n<pre class=\"lang-css prettyprint-override\"><code>::ng-deep .custom-mat-option .mat-option-text {\n  overflow: auto;\n  text-overflow: unset;\n  // color: green;\n}\n</code></pre>\n\n<p><code>custom-mat-option</code> is a class I have added to the <code>&lt;mat-option&gt;</code> element to increase the css specifity.</p>\n\n<p><a href=\"https://stackblitz.com/edit/ngdeep-css?file=src/main.ts\" rel=\"nofollow noreferrer\">Stackblitz</a></p>\n"}], "owner": {"reputation": 1633, "user_id": 11272449, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7a449ca3aaecdd974bd0d060e4bc3009?s=128&d=identicon&r=PG&f=1", "display_name": "karansys", "link": "https://stackoverflow.com/users/11272449/karansys"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1114, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1574882416, "creation_date": 1574848621, "last_edit_date": 1574882416, "question_id": 59067480, "link": "https://stackoverflow.com/questions/59067480/how-to-add-horizontal-scroll-to-mat-autocomplete", "title": "How to add horizontal scroll to mat autocomplete", "body": "<p>I am running angular app , I have auto complete on this, I want to add horizontal scroll to the mat-option, I tried applying css style </p>\n\n<pre><code>.cdk-overlay-pane {\n  overflow-x: auto;\n}\n\n then applying syle as told in this docuemnt [enter link description here][1] showPanel: boolean\n\n  &lt;mat-option class=\"CustomerDropDown\" showPanel=\"true\" ...\n</code></pre>\n\n<pre><code>extended question\n\n&lt;mat-form-field &gt;\n  &lt;input matInput [matAutocomplete]=\"auto\"  [formControl]=\"customerFilterControl\"&gt;\n  &lt;mat-autocomplete panelWidth =\"450px\" #auto=\"matAutocomplete\" [displayWith] = \"displayFn\" style=\"width:750px;\"&gt;\n     &lt;mat-option  *ngFor=\"let customer of filteredOptions | async\" [value] =\"customer.AccountID + '('+ customer.AccountName + ')'\" (click)=\"onCustomerChange(customer)\"&gt;\n      {{customer.AccountID}} ({{customer.AccountName}})\n     &lt;/mat-option&gt;\n  &lt;/mat-autocomplete&gt;\n&lt;/mat-form-field&gt;\n</code></pre>\n\n<p>Both the attempts failed!!</p>\n"}, {"tags": ["javascript", "node.js", "angular", "typescript", "http"], "owner": {"reputation": 883, "user_id": 4965201, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/305f81f75cbae6b8177ecaa1e681f7dd?s=128&d=identicon&r=PG&f=1", "display_name": "user4965201", "link": "https://stackoverflow.com/users/4965201/user4965201"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 46, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1574848169, "creation_date": 1574848169, "question_id": 59067336, "link": "https://stackoverflow.com/questions/59067336/node-js-angular-6-adding-trailing-slash-to-urls-error-adding-on-external-urls-a", "title": "Node Js Angular 6 adding trailing slash to urls error (adding on external urls as well)", "body": "<p>I have an Angular 6 App and in my <strong>server.ts</strong> I have added logic to add trailing slash on all internal route urls like this</p>\n\n<pre><code>app.use((req, res, next) =&gt; {\n\n\n  if (req.path.endsWith('/') &amp;&amp; req.path.length &gt; 1) {\n      next();\n  } else if (req.path.indexOf('?') &gt; -1) {\n    const start = req.path.indexOf('?');\n    res.redirect(301, req.path.slice(0, start) + '/' + req.path.slice(start , req.path.length));\n  }\n  else {\n    res.redirect(301, req.path + '/');\n  }\n});\n</code></pre>\n\n<p>It adds trailing slash to the urls but the issue is that it is adding on all urls(internal and external) like these</p>\n\n<pre><code>/main.eb7e5105c175d9740e4e.js/\n\n/styles.2364125a82ccf2f40c44.css/\n</code></pre>\n\n<p>and thus page is not loading correctly , I just want to add trailing slashes to the urls which are in <strong>app-routing.module.ts</strong></p>\n"}, {"tags": ["typescript"], "answers": [{"comments": [{"owner": {"reputation": 135892, "user_id": 546730, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/c35af79e54306caedad37141f13de30c?s=128&d=identicon&r=PG", "display_name": "H.B.", "link": "https://stackoverflow.com/users/546730/h-b"}, "reply_to_user": {"reputation": 19681, "user_id": 402037, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8fc3b3667c918504550fd656ac50b87f?s=128&d=identicon&r=PG", "display_name": "Andreas", "link": "https://stackoverflow.com/users/402037/andreas"}, "edited": false, "score": 0, "creation_date": 1574848910, "post_id": 59067498, "comment_id": 104373423, "body": "@Andreas: Right, the semicolons need to be replaced with commas. Forgot to note that i fixed that as well in my code..."}], "tags": [], "owner": {"reputation": 135892, "user_id": 546730, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/c35af79e54306caedad37141f13de30c?s=128&d=identicon&r=PG", "display_name": "H.B.", "link": "https://stackoverflow.com/users/546730/h-b"}, "is_accepted": false, "score": 3, "last_activity_date": 1574848958, "last_edit_date": 1574848958, "creation_date": 1574848689, "answer_id": 59067498, "question_id": 59067315, "link": "https://stackoverflow.com/questions/59067315/declaring-object-type-in-typescript/59067498#59067498", "title": "Declaring object type in typescript", "body": "<p>There is an error in your code, the values in <code>KEY_MAP</code> do not actually match the values specified in <code>CarKeys</code>. Also, the semi-colons in <code>carType</code> need to be commas.</p>\n\n<p>To fix the problem at hand you can use <code>as const</code>. In your code the resolved type of <code>KEY_MAP</code> is:</p>\n\n<pre><code>const KEY_MAP: {\n    mercedes: string;\n    mercedes_sedan: string;\n    mercedes_hatch: string;\n}\n</code></pre>\n\n<p>Specify it like this:</p>\n\n<pre><code>const KEY_MAP = {\n    mercedes: 'mercedes',\n    mercedes_sedan: 'mercedes_sedan',\n    mercedes_hatch: 'mercedes_hatch'\n} as const;\n</code></pre>\n\n<p>Then the resolved type will be:</p>\n\n<pre><code>const KEY_MAP: {\n    readonly mercedes: \"mercedes\";\n    readonly mercedes_sedan: \"mercedes_sedan\";\n    readonly mercedes_hatch: \"mercedes_hatch\";\n}\n</code></pre>\n\n<p>Which should compile.</p>\n"}, {"tags": [], "owner": {"reputation": 11681, "user_id": 3617380, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/53b845bcd82ba802f57e2c8256fcba97?s=128&d=identicon&r=PG&f=1", "display_name": "hackape", "link": "https://stackoverflow.com/users/3617380/hackape"}, "is_accepted": true, "score": 4, "last_activity_date": 1574848835, "creation_date": 1574848835, "answer_id": 59067536, "question_id": 59067315, "link": "https://stackoverflow.com/questions/59067315/declaring-object-type-in-typescript/59067536#59067536", "title": "Declaring object type in typescript", "body": "<p>Two things, first you wrote <code>type CarKeys = \"mercedes\" | \"mercedes_sedan\" | \"mercedes_hatch\"</code>, all with <strong>underscore</strong> but values in <code>KEY_MAP</code> have <strong>hyphen</strong>, that's a mismatch you might want to fix.</p>\n\n<p>Second, by default TS will infer <code>typeof KEY_MAP</code> to be <code>{ mercedes: string; ... }</code> instead of <code>{ mercedes: \"mercedes\", ... }</code>.</p>\n\n<p>This means <code>typeof [KEY_MAP.mercedes]</code> is actually <code>string</code>, not the <code>\"mercedes\"</code> string literal, thus typeof <code>carType</code> is actually <code>{ [key: string]: Car }</code>, that's why the error.</p>\n\n<p>To fix it, you can add <code>as const</code> to the end of <code>KEY_MAP</code>:</p>\n\n<pre><code>const KEY_MAP = {\n  mercedes: 'mercedes',\n  mercedes_sedan: 'mercedes-sedan',\n  mercedes_hatch: 'mercedes-hatch'\n} as const;\n</code></pre>\n\n<p>Or, you can turn it to a <code>enum</code></p>\n\n<pre><code>enum KEY_MAP {\n  mercedes = 'mercedes',\n  mercedes_sedan = 'mercedes-sedan',\n  mercedes_hatch ='mercedes-hatch'\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 15749, "user_id": 4420812, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9yQ4D.jpg?s=128&g=1", "display_name": "Maciej Sikora", "link": "https://stackoverflow.com/users/4420812/maciej-sikora"}, "edited": false, "score": 0, "creation_date": 1574861228, "post_id": 59067839, "comment_id": 104380415, "body": "@gaurav-soni can you take a look on this answer. I think it is answering you question on multiple levels. Thank you."}], "tags": [], "owner": {"reputation": 15749, "user_id": 4420812, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9yQ4D.jpg?s=128&g=1", "display_name": "Maciej Sikora", "link": "https://stackoverflow.com/users/4420812/maciej-sikora"}, "is_accepted": false, "score": 2, "last_activity_date": 1574861149, "last_edit_date": 1574861149, "creation_date": 1574849845, "answer_id": 59067839, "question_id": 59067315, "link": "https://stackoverflow.com/questions/59067315/declaring-object-type-in-typescript/59067839#59067839", "title": "Declaring object type in typescript", "body": "<p>First of all when using TypeScript you don't need to use Key -> Value map + String literal types. You can choose one of both, as it will ensure the type safety. Also approach with using Enum instead of standard JS object will be more appropriate as it will solve and the value and the type in one language construct. Consider the solution with using Enum only:</p>\n\n<pre><code>interface Car { color: string; } \n\nenum KEY_MAP {\n    mercedes = 'mercedes',\n    mercedes_sedan = 'mercedes_sedan',\n    mercedes_hatch = 'mercedes_hatch'\n}\n\nconst carType: Record&lt;KEY_MAP, Car&gt; = {\n    [KEY_MAP.mercedes]:{ color: 'red'},\n    [KEY_MAP.mercedes_sedan]: {color: 'yellow'},\n    [KEY_MAP.mercedes_hatch]: {color: 'black'}\n}\n</code></pre>\n\n<p>Also solution with only string literal is fully valid and type safe. Consider:</p>\n\n<pre><code>type CarKeys = \"mercedes\" | \"mercedes_sedan\" | \"mercedes_hatch\";\n\ninterface Car { color: string; } \n\nconst carType: Record&lt;CarKeys, Car&gt; = {\n    mercedes:{ color: 'red'},\n    mercedes_sedan: {color: 'yellow'},\n    mercedes_hatch: {color: 'black'}\n} // carType cannot be created with wrong key or value type\n</code></pre>\n\n<p>String literal type should not be considered as 'magic string' as it is watched by compiler and type safe. We don't need to create some middle structure to use it directly.</p>\n\n<p>And last not least. You can fix your implementation directly by specifing correct type for KEY_MAP.</p>\n\n<pre><code>type CarKeys = \"mercedes\" | \"mercedes_sedan\" | \"mercedes_hatch\";\n\ninterface Car { color: string; } \n\nconst KEY_MAP: { [P in CarKeys]: P } = { mercedes: 'mercedes', mercedes_sedan: 'mercedes_sedan', mercedes_hatch: 'mercedes_hatch'};\n\nconst carType:Record&lt;CarKeys, Car&gt; = {\n    [KEY_MAP.mercedes]:{ color: 'red'},\n    [KEY_MAP.mercedes_sedan]: {color: 'yellow'},\n    [KEY_MAP.mercedes_hatch]: {color: 'black'}\n}; // no issues\n</code></pre>\n\n<p>The core thing is <code>{ [P in CarKeys]: P }</code>. We are saying that our object has exact single item from <code>CarKeys</code> as a key and as a value.</p>\n"}], "owner": {"reputation": 359, "user_id": 6816505, "user_type": "registered", "accept_rate": 61, "profile_image": "https://lh6.googleusercontent.com/-Vz5w5u5zOdM/AAAAAAAAAAI/AAAAAAAAIIE/AzEk4VQfejY/photo.jpg?sz=128", "display_name": "Gaurav Soni", "link": "https://stackoverflow.com/users/6816505/gaurav-soni"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 121, "favorite_count": 0, "accepted_answer_id": 59067536, "answer_count": 3, "score": 3, "last_activity_date": 1574861149, "creation_date": 1574848094, "last_edit_date": 1574856974, "question_id": 59067315, "link": "https://stackoverflow.com/questions/59067315/declaring-object-type-in-typescript", "title": "Declaring object type in typescript", "body": "<p>Need to declare a object type. Getting below mentioned error:</p>\n\n<pre><code> type CarKeys = \"mercedes\" | \"mercedes-sedan\" | \"mercedes-hatch\";\n\n    interface Car { color: string; } \n\n    const KEY_MAP = { mercedes: 'mercedes', mercedes_sedan: 'mercedes-sedan', mercedes_hatch: 'mercedes-hatch'};\n\n        const carType:Record&lt;CarKeys, Car&gt; = {\n         [KEY_MAP.mercedes]:{ color: 'red'},\n         [KEY_MAP.mercedes_sedan]: {color: 'yellow'},\n         [KEY_MAP.mercedes_hatch]: {color: 'black'}\n        };\n</code></pre>\n\n<p>TypeScript is throwing following error : </p>\n\n<blockquote>\n  <p>Type'{[x: string]: { color: string }}' is missing the following properties from type 'Record': mercedes, mercedes-sedan, mercedes-hatch`</p>\n</blockquote>\n"}, {"tags": ["angular", "typescript", "interface", "namespaces"], "comments": [{"owner": {"reputation": 5325, "user_id": 6118550, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jq2eV.png?s=128&g=1", "display_name": "C_Ogoo", "link": "https://stackoverflow.com/users/6118550/c-ogoo"}, "edited": false, "score": 1, "creation_date": 1574848892, "post_id": 59066839, "comment_id": 104373414, "body": "Consider using some utility types. <a href=\"https://www.typescriptlang.org/docs/handbook/utility-types.html\" rel=\"nofollow noreferrer\">typescriptlang.org/docs/handbook/utility-types.html</a>. Pick | Partial | Omit spring to mind for your use case. If you can give some examples of the interfaces could try give a more detailed suggestion"}, {"owner": {"reputation": 4920, "user_id": 8144405, "user_type": "registered", "accept_rate": 70, "profile_image": "https://graph.facebook.com/1430257373725355/picture?type=large", "display_name": "Sergey", "link": "https://stackoverflow.com/users/8144405/sergey"}, "reply_to_user": {"reputation": 5325, "user_id": 6118550, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jq2eV.png?s=128&g=1", "display_name": "C_Ogoo", "link": "https://stackoverflow.com/users/6118550/c-ogoo"}, "edited": false, "score": 0, "creation_date": 1574859487, "post_id": 59066839, "comment_id": 104379464, "body": "@c_ogoo the thing you&#39;ve suggested is a reverse to what I&#39;m doing. But still if I want to reuse these interfaces elsewhere I have to declare them and therefore &quot;pollute&quot; global interfaces"}, {"owner": {"reputation": 5325, "user_id": 6118550, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jq2eV.png?s=128&g=1", "display_name": "C_Ogoo", "link": "https://stackoverflow.com/users/6118550/c-ogoo"}, "edited": false, "score": 0, "creation_date": 1574860052, "post_id": 59066839, "comment_id": 104379754, "body": "I&#39;m not sure im following, are you able to share some of the interface definitions?"}, {"owner": {"reputation": 4920, "user_id": 8144405, "user_type": "registered", "accept_rate": 70, "profile_image": "https://graph.facebook.com/1430257373725355/picture?type=large", "display_name": "Sergey", "link": "https://stackoverflow.com/users/8144405/sergey"}, "reply_to_user": {"reputation": 5325, "user_id": 6118550, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jq2eV.png?s=128&g=1", "display_name": "C_Ogoo", "link": "https://stackoverflow.com/users/6118550/c-ogoo"}, "edited": false, "score": 0, "creation_date": 1574860113, "post_id": 59066839, "comment_id": 104379788, "body": "@c_ogoo I&#39;ll share later"}, {"owner": {"reputation": 4920, "user_id": 8144405, "user_type": "registered", "accept_rate": 70, "profile_image": "https://graph.facebook.com/1430257373725355/picture?type=large", "display_name": "Sergey", "link": "https://stackoverflow.com/users/8144405/sergey"}, "reply_to_user": {"reputation": 5325, "user_id": 6118550, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jq2eV.png?s=128&g=1", "display_name": "C_Ogoo", "link": "https://stackoverflow.com/users/6118550/c-ogoo"}, "edited": false, "score": 0, "creation_date": 1574870997, "post_id": 59066839, "comment_id": 104386083, "body": "@c_ogoo updated the question"}], "owner": {"reputation": 4920, "user_id": 8144405, "user_type": "registered", "accept_rate": 70, "profile_image": "https://graph.facebook.com/1430257373725355/picture?type=large", "display_name": "Sergey", "link": "https://stackoverflow.com/users/8144405/sergey"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 268, "favorite_count": 0, "answer_count": 0, "score": 3, "last_activity_date": 1574870989, "creation_date": 1574846540, "last_edit_date": 1574870989, "question_id": 59066839, "link": "https://stackoverflow.com/questions/59066839/angular-interface-names-mess", "title": "Angular interface names mess", "body": "<p>I work with an API which has different fields for the same entity regarding the context. For example if I get list of entities I receive only half of the fields and when I get one specific entity by id I get it full. Also, when I need to send this entity to the server (create a new one) I need to send another set of fields.</p>\n\n<p>It's unsuitable to use optional <code>?</code> sign in interface for fields because for  \"getList\" these fields are never going to come and therefore I shouldn't mislead with interface and so forth with other cases.</p>\n\n<p>In result I have about 3-4 interfaces (1st for save, 2nd for getList, 3rd for getById, 4th for this entity as part of another entity and so forth) for the same Entity. According to Angular's tslint rules it's not suitable to use Namespaces (what I was thinking of using). </p>\n\n<p><strong>How do I structure all my interfaces in a natural for understanding and good for maintenance way?</strong> </p>\n\n<p>For now I can think of <code>BaseEntityInterface</code> which may be the core with all common always present fields.</p>\n\n<p>Then <code>ListEntityInterface extends BaseEntityInterface</code> which would have additional properties and so forth. However, this leads to non-intuitive long names.</p>\n\n<p>For those who want to say that it's not recommended to use <code>interface</code> suffix or <code>I</code> prefix I want to mention that this is a step because of classes that may be present for these entities (they have own methods which are used only in its very own context and when entities are passed to some method they are usually not instance of this class).</p>\n\n<hr>\n\n<h2>Update #1</h2>\n\n<p>For example we have an Employee entity.</p>\n\n<p>Base interface (the one that we may reuse in all interfaces) would look like</p>\n\n<pre><code>export interface BaseEmployeeInterface {\n  id: string;\n  name: string;\n  age: number;\n  gender: string;\n}\n</code></pre>\n\n<p>Now when one tries to getEmployee(id)</p>\n\n<pre><code>export interface GetEmployeeResponse extends BaseEmployeeInterface {\n  startDate: string;\n  status: string;\n  salary: number;\n  extra: ExtraDataFull; // some large object\n}\n</code></pre>\n\n<p>However, if one accesses getEmployeeList they receive <code>GetEmployeeListResponse[]</code></p>\n\n<pre><code>export interface GetEmployeeListResponse extends GetEmployeeResponse {\n  extra: ExtraDataShort; // some essential parts of a large object data\n  // and some other props\n}\n</code></pre>\n\n<p>Now, if one accesses getGuestList they receive <code>GetGuestList[]</code></p>\n\n<pre><code>export interface GetGuestList {\n  name: string;\n  items: ItemList[];\n  ref: Omit&lt;GetEmployeeListResponse, ...&gt;; // All but some props\n}\n</code></pre>\n\n<p>And now there is at least 4 variants of Employee entity data received and it's not limited by this numer. If I need to declare an interface for creating Eployee entity there would be the 5th case of the type.</p>\n\n<p>Here when I use <code>ref: Omit&lt;GetEmployeeListResponse, ...&gt;</code> I need to remember this type declaration or create another type to reuse this interface.</p>\n\n<p>Also, I want to mention that this case is very simplified since in my application the interface is about 5 times larger.</p>\n\n<p>P.S. There is at least two other entity endpoints which include some parts of Employee entity data and this is 4 more (for each endpoint 1 for list and 1 for get*(id))</p>\n"}, {"tags": ["typescript"], "comments": [{"owner": {"reputation": 15749, "user_id": 4420812, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9yQ4D.jpg?s=128&g=1", "display_name": "Maciej Sikora", "link": "https://stackoverflow.com/users/4420812/maciej-sikora"}, "edited": false, "score": 0, "creation_date": 1574848046, "post_id": 59066697, "comment_id": 104372866, "body": "Hym, interesting. Can you show where do you use SearchItem. As I just took a look and I see a name. If you use it like &lt;SearchItem /&gt; name should be visible."}, {"owner": {"reputation": 15749, "user_id": 4420812, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9yQ4D.jpg?s=128&g=1", "display_name": "Maciej Sikora", "link": "https://stackoverflow.com/users/4420812/maciej-sikora"}, "edited": false, "score": 0, "creation_date": 1574848178, "post_id": 59066697, "comment_id": 104372946, "body": "Alternatively you can do <code>function SomeComponent(props: React.PropsWithChildren&lt;YourProps&gt;) {}</code> but as I mentioned I dont see the orginal problem"}, {"owner": {"reputation": 34787, "user_id": 1092711, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/x6e4H.jpg?s=128&g=1", "display_name": "Pavlo", "link": "https://stackoverflow.com/users/1092711/pavlo"}, "reply_to_user": {"reputation": 15749, "user_id": 4420812, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9yQ4D.jpg?s=128&g=1", "display_name": "Maciej Sikora", "link": "https://stackoverflow.com/users/4420812/maciej-sikora"}, "edited": false, "score": 0, "creation_date": 1574854989, "post_id": 59066697, "comment_id": 104376904, "body": "@MaciejSikora the question is about TypeScript, I&#39;ve used React code to provide an example."}, {"owner": {"reputation": 34787, "user_id": 1092711, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/x6e4H.jpg?s=128&g=1", "display_name": "Pavlo", "link": "https://stackoverflow.com/users/1092711/pavlo"}, "reply_to_user": {"reputation": 15749, "user_id": 4420812, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9yQ4D.jpg?s=128&g=1", "display_name": "Maciej Sikora", "link": "https://stackoverflow.com/users/4420812/maciej-sikora"}, "edited": false, "score": 0, "creation_date": 1574855260, "post_id": 59066697, "comment_id": 104377069, "body": "@MaciejSikora I&#39;ve edited the question to clarify."}], "answers": [{"comments": [{"owner": {"reputation": 34787, "user_id": 1092711, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/x6e4H.jpg?s=128&g=1", "display_name": "Pavlo", "link": "https://stackoverflow.com/users/1092711/pavlo"}, "edited": false, "score": 1, "creation_date": 1574847921, "post_id": 59067188, "comment_id": 104372792, "body": "That would mean that <code>SearchItem</code> will <i>return</i> a component, which is not my intent."}, {"owner": {"reputation": 335, "user_id": 3655644, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/17c7676c3212fc446682992e5a556718?s=128&d=identicon&r=PG", "display_name": "nicolasrigaudiere", "link": "https://stackoverflow.com/users/3655644/nicolasrigaudiere"}, "reply_to_user": {"reputation": 34787, "user_id": 1092711, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/x6e4H.jpg?s=128&g=1", "display_name": "Pavlo", "link": "https://stackoverflow.com/users/1092711/pavlo"}, "edited": false, "score": 0, "creation_date": 1574848289, "post_id": 59067188, "comment_id": 104373007, "body": "Looking at this line of code <code>const SearchItem: React.FC&lt;ISearchItemProps&gt; = function SearchItem(props) {}</code>, I was assuming that your implementation of <code>SearchItem(props) {}</code> would return a FC as it is the type your const <code>SearchItem</code> is expecting. Wasn&#39;t that the case?"}, {"owner": {"reputation": 34787, "user_id": 1092711, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/x6e4H.jpg?s=128&g=1", "display_name": "Pavlo", "link": "https://stackoverflow.com/users/1092711/pavlo"}, "edited": false, "score": 1, "creation_date": 1574854868, "post_id": 59067188, "comment_id": 104376832, "body": "Nope, <code>SearchItem</code> is an <code>React.FC&lt;ISearchItemProps&gt;</code>, not a function that returns <code>React.FC&lt;ISearchItemProps&gt;</code>."}], "tags": [], "owner": {"reputation": 335, "user_id": 3655644, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/17c7676c3212fc446682992e5a556718?s=128&d=identicon&r=PG", "display_name": "nicolasrigaudiere", "link": "https://stackoverflow.com/users/3655644/nicolasrigaudiere"}, "is_accepted": false, "score": -2, "last_activity_date": 1574847699, "creation_date": 1574847699, "answer_id": 59067188, "question_id": 59066697, "link": "https://stackoverflow.com/questions/59066697/can-i-use-an-exiting-type-interface-on-function-declaration/59067188#59067188", "title": "Can I use an exiting type/interface on function declaration?", "body": "<p>There is a simple way for this, you just need to do it this way:</p>\n\n<pre><code>function SearchItem(props): React.FC&lt;ISearchItemProps&gt; {}\n</code></pre>\n\n<p>It means that your function will have a return value of type <code>React.FC&lt;ISearchItemProps&gt;</code></p>\n"}, {"tags": [], "owner": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "is_accepted": true, "score": 1, "last_activity_date": 1574875481, "creation_date": 1574875481, "answer_id": 59075492, "question_id": 59066697, "link": "https://stackoverflow.com/questions/59066697/can-i-use-an-exiting-type-interface-on-function-declaration/59075492#59075492", "title": "Can I use an exiting type/interface on function declaration?", "body": "<p>I think you're going to have to duplicate <em>something</em>, because TypeScript <a href=\"https://github.com/Microsoft/TypeScript/issues/22063\" rel=\"nofollow noreferrer\">doesn't currently let you annotate a function statement with a type of the whole function (see microsoft/TypeScript#22063)</a>.  Instead you have to annotate the parameters and return type separately.  The following is the tersest I can be, using the standard <a href=\"https://github.com/microsoft/TypeScript/blob/v3.7.2/lib/lib.es5.d.ts#L1496\" rel=\"nofollow noreferrer\"><code>Parameters</code></a> and <a href=\"https://www.typescriptlang.org/docs/handbook/utility-types.html#returntypet\" rel=\"nofollow noreferrer\"><code>ReturnType</code></a> utility types:</p>\n\n<pre><code>type RFC = React.FC&lt;ISearchItemProps&gt;;\nfunction SearchItem(...args: Parameters&lt;RFC&gt;): ReturnType&lt;RFC&gt; {\n    return null!; // or whatever it's supposed to return\n}\n\nconsole.log(SearchItem.name) // SearchItem\n</code></pre>\n\n<p>That's probably worse than your original <code>const SearchItem:... = function SearchItem(...)</code> syntax, so I'd probably suggest you stick with that.</p>\n\n<p>Hope that helps; good luck!</p>\n\n<p><a href=\"http://www.typescriptlang.org/play//#code/JYWwDg9gTgLgBAKjgQwM5wEoFNkGN4BmUEIcA5FDvmQNwCwAUDAJ5hZwCSAyjlLgBYcYWEAAViYdAF44AbziM4SlAC44qGFGAA7AOb0GAX0Ys2mAGIBhODOx4YAOisAebrwFCR4iJIB8BggBXbXxgCG04HmQ+QWEQAAoHJOjdVDVRaOQQLGEoVGcMK18ASjVsGECobQAVViwCorlFZUoKqrhtQIAbLoBCA2MGRlxw1AgurAcuiF14qJjPEAdtLKxiuAB6Dcj3WJEgA\" rel=\"nofollow noreferrer\">Link to code</a></p>\n"}], "owner": {"reputation": 34787, "user_id": 1092711, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/x6e4H.jpg?s=128&g=1", "display_name": "Pavlo", "link": "https://stackoverflow.com/users/1092711/pavlo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 49, "favorite_count": 0, "accepted_answer_id": 59075492, "answer_count": 2, "score": 0, "last_activity_date": 1574875481, "creation_date": 1574846077, "last_edit_date": 1574855237, "question_id": 59066697, "link": "https://stackoverflow.com/questions/59066697/can-i-use-an-exiting-type-interface-on-function-declaration", "title": "Can I use an exiting type/interface on function declaration?", "body": "<p>I want to use React's type definition for functional component like the following:</p>\n\n<pre><code>const SearchItem: React.FC&lt;ISearchItemProps&gt; = props =&gt; {}\n\nSearchItem.name // ''\n</code></pre>\n\n<p>To make <code>SearchItem</code> a named function, I can do:</p>\n\n<pre><code>const SearchItem: React.FC&lt;ISearchItemProps&gt; = function SearchItem(props) {}\n\nSearchItem.name // 'SearchItem'\n</code></pre>\n\n<p>but this requires duplicating the name.</p>\n\n<p>Is there a way to specify a type on function declaration? E.g.:</p>\n\n<pre><code>function SearchItem/* React.FC&lt;ISearchItemProps&gt; */(props) {}\n</code></pre>\n"}, {"tags": ["angular", "typescript"], "comments": [{"owner": {"reputation": 1320, "user_id": 6196099, "user_type": "registered", "accept_rate": 50, "profile_image": "https://lh4.googleusercontent.com/-45hNp81idDE/AAAAAAAAAAI/AAAAAAAAAB4/OLaZOd7rtF0/photo.jpg?sz=128", "display_name": "Florian", "link": "https://stackoverflow.com/users/6196099/florian"}, "edited": false, "score": 0, "creation_date": 1574846725, "post_id": 59066465, "comment_id": 104372124, "body": "When you pass the last executed method to your service, you need to bind your component otherwise the execution context will be different, hence <code>this</code> will not be what you expect. Use <a href=\"https://developer.mozilla.org/fr/docs/Web/JavaScript/Reference/Objets_globaux/Function/bind\" rel=\"nofollow noreferrer\">bind</a>"}, {"owner": {"reputation": 1183, "user_id": 10460880, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bce9c365b769be33ee994450d0bbb0e0?s=128&d=identicon&r=PG&f=1", "display_name": "Jake12342134", "link": "https://stackoverflow.com/users/10460880/jake12342134"}, "reply_to_user": {"reputation": 1320, "user_id": 6196099, "user_type": "registered", "accept_rate": 50, "profile_image": "https://lh4.googleusercontent.com/-45hNp81idDE/AAAAAAAAAAI/AAAAAAAAAB4/OLaZOd7rtF0/photo.jpg?sz=128", "display_name": "Florian", "link": "https://stackoverflow.com/users/6196099/florian"}, "edited": false, "score": 0, "creation_date": 1574848549, "post_id": 59066465, "comment_id": 104373185, "body": "@Florian So something along the lines of <code>this.syncClasses.bind(this)</code>?"}, {"owner": {"reputation": 1320, "user_id": 6196099, "user_type": "registered", "accept_rate": 50, "profile_image": "https://lh4.googleusercontent.com/-45hNp81idDE/AAAAAAAAAAI/AAAAAAAAAB4/OLaZOd7rtF0/photo.jpg?sz=128", "display_name": "Florian", "link": "https://stackoverflow.com/users/6196099/florian"}, "edited": false, "score": 0, "creation_date": 1574850392, "post_id": 59066465, "comment_id": 104374305, "body": "yes if you are in the component of <code>syncClasses</code> method !"}, {"owner": {"reputation": 1183, "user_id": 10460880, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bce9c365b769be33ee994450d0bbb0e0?s=128&d=identicon&r=PG&f=1", "display_name": "Jake12342134", "link": "https://stackoverflow.com/users/10460880/jake12342134"}, "reply_to_user": {"reputation": 1320, "user_id": 6196099, "user_type": "registered", "accept_rate": 50, "profile_image": "https://lh4.googleusercontent.com/-45hNp81idDE/AAAAAAAAAAI/AAAAAAAAAB4/OLaZOd7rtF0/photo.jpg?sz=128", "display_name": "Florian", "link": "https://stackoverflow.com/users/6196099/florian"}, "edited": false, "score": 0, "creation_date": 1574853477, "post_id": 59066465, "comment_id": 104376080, "body": "@Florian Worked perfectly thanks, if you want to provide an answer I&#39;ll select it as correct :)"}], "answers": [{"tags": [], "owner": {"reputation": 1320, "user_id": 6196099, "user_type": "registered", "accept_rate": 50, "profile_image": "https://lh4.googleusercontent.com/-45hNp81idDE/AAAAAAAAAAI/AAAAAAAAAB4/OLaZOd7rtF0/photo.jpg?sz=128", "display_name": "Florian", "link": "https://stackoverflow.com/users/6196099/florian"}, "is_accepted": true, "score": 1, "last_activity_date": 1574856149, "creation_date": 1574856149, "answer_id": 59069804, "question_id": 59066465, "link": "https://stackoverflow.com/questions/59066465/undefined-angular-di-variables-when-calling-a-method-using-a-passed-function-ref/59069804#59069804", "title": "Undefined Angular DI variables when calling a method using a passed function reference", "body": "<p>You're executing <code>syncClasses</code> in a different context. When you <em>retry</em> you call the method from a different component, hence <code>this</code> is different.</p>\n\n<p>What you want to do is binding <code>this</code> to your component when you pass the reference to your service.<br>\nIn your main component when you pass the refence, use <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function/bind\" rel=\"nofollow noreferrer\">bind</a> :</p>\n\n<pre><code>this.syncClasses.bind(this)\n</code></pre>\n"}], "owner": {"reputation": 1183, "user_id": 10460880, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bce9c365b769be33ee994450d0bbb0e0?s=128&d=identicon&r=PG&f=1", "display_name": "Jake12342134", "link": "https://stackoverflow.com/users/10460880/jake12342134"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 53, "favorite_count": 0, "accepted_answer_id": 59069804, "answer_count": 1, "score": 0, "last_activity_date": 1574856149, "creation_date": 1574845185, "last_edit_date": 1574846567, "question_id": 59066465, "link": "https://stackoverflow.com/questions/59066465/undefined-angular-di-variables-when-calling-a-method-using-a-passed-function-ref", "title": "Undefined Angular DI variables when calling a method using a passed function reference", "body": "<p>I'm using Angular. I have a class that has a number of DI variables. Under normal execution of a method inside of the class the methods work properly and I am able to access the injected instances of the DI variables. </p>\n\n<p>However I am attempting to create a generic modal that will display error text to the user if a particular function of the app fails. Within the modal an option to retry their last action will be supplied. I figured that by passing a reference to the method that the user last attempted and hooking it up to the onclick of a button I should be able to create the retry function that I've described. It does work, and the method in question is triggered when the user clicks the retry button. However the method itself causes an error as the DI variable being used within the method is undefined. </p>\n\n<p>I'm unsure why this is happening, is this a closure issue? Without passing in a reference to the dependency I'm not sure how to go about fixing it. Passing in a reference is something I obviously don't want to do as it'll go against making the modal generic. </p>\n\n<pre><code>/*\n* This is the method that the user initially triggers and the method who's \n* reference is passed to displayGenericModal if the method fails. \n* this._classSandbox.loadClasses(); contains a HTTP request which is why it might fail\n*/\nsyncClasses() {\n    this.syncingClasses = true;\n    this._classSandbox.loadClasses(); //this._classSandbox is the DI variable that is undefined upon execution of the method from the generic modal.\n  }\n\n  displayGenericModal(errorKey: string, retryFunction: Function, retryParams: any[]) {\n    this._genericErrorModal.open(this._dialog, {\n      errorKey: errorKey,\n      retryFunction: retryFunction, //This is a reference to syncClasses()\n      retryFunctionParams: retryParams\n    });\n\n  }\n\n/*\n* This service is referenced by the this._genericErrorModal variable \n*/ \nexport class GenericErrorModalService {\n\n  constructor() { }\n\n  public open(dialog: MatDialog, params: GenericErrorModalParams) {\n    dialog.open&lt;GenericErrorModalComponent, GenericErrorModalParams&gt;(GenericErrorModalComponent, {\n      data: params\n    })\n  }\n}\n</code></pre>\n\n<p>So just for clarity, upon the first execution of the <code>syncClasses()</code> method, everything works correctly. If the HTTP request inside this method fails, a reference to this method is passed to the <code>GenericErrorModalService.open()</code> method. When the modal itself is opened and the retry button (which holds the reference to the <code>syncClasses()</code> method) is clicked, the method fails because <code>this._classSandbox</code> is undefined. </p>\n"}, {"tags": ["angular", "typescript", "list", "dictionary", "collections"], "comments": [{"owner": {"reputation": 17679, "user_id": 7603109, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/BoIE4.png?s=128&g=1", "display_name": "Adrita Sharma", "link": "https://stackoverflow.com/users/7603109/adrita-sharma"}, "edited": false, "score": 0, "creation_date": 1574845375, "post_id": 59065977, "comment_id": 104371415, "body": "Check the modified answer."}], "answers": [{"comments": [{"owner": {"reputation": 27, "user_id": 12364707, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mAQzqD6NEISl7z2qgyPan8g3sueluVWV-ocdn8Yyg=k-s128", "display_name": "aditya mishra", "link": "https://stackoverflow.com/users/12364707/aditya-mishra"}, "edited": false, "score": 0, "creation_date": 1574846954, "post_id": 59066109, "comment_id": 104372234, "body": "What if I change the index of c=[xyz,joining]..The answer remains the same,,That is not the thing I want.Please have a look..@Adrita Sharma"}, {"owner": {"reputation": 27, "user_id": 12364707, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mAQzqD6NEISl7z2qgyPan8g3sueluVWV-ocdn8Yyg=k-s128", "display_name": "aditya mishra", "link": "https://stackoverflow.com/users/12364707/aditya-mishra"}, "edited": false, "score": 0, "creation_date": 1574848827, "post_id": 59066109, "comment_id": 104373367, "body": "What if there are multiple values in c"}], "tags": [], "owner": {"reputation": 17679, "user_id": 7603109, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/BoIE4.png?s=128&g=1", "display_name": "Adrita Sharma", "link": "https://stackoverflow.com/users/7603109/adrita-sharma"}, "is_accepted": false, "score": 1, "last_activity_date": 1574848267, "last_edit_date": 1574848267, "creation_date": 1574843777, "answer_id": 59066109, "question_id": 59065977, "link": "https://stackoverflow.com/questions/59065977/map-a-key-value-to-the-other-values-in-the-data/59066109#59066109", "title": "Map a key value to the other values in the data", "body": "<p>Try like this:</p>\n\n<p><strong><a href=\"https://stackblitz.com/edit/angular-gedgr9?embed=1&amp;file=src/app/app.component.ts\" rel=\"nofollow noreferrer\">Working Demo</a></strong></p>\n\n<pre><code>result = [];\n\nconstructor() {\n  let texts:any[] = this.data.filter(item =&gt; this.c.includes(item.clauseName)).sort((a, b) =&gt; a.clauseId - b.clauseId).flatMap(x =&gt; x.texts);\n\n  this.result = texts.map(x =&gt; x.text);\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 27, "user_id": 12364707, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mAQzqD6NEISl7z2qgyPan8g3sueluVWV-ocdn8Yyg=k-s128", "display_name": "aditya mishra", "link": "https://stackoverflow.com/users/12364707/aditya-mishra"}, "edited": false, "score": 0, "creation_date": 1574844842, "post_id": 59066269, "comment_id": 104371155, "body": "Its the other way round,I have a list of clauseName,I want to map it to the text,like in this case  let filters = [&#39;joining&#39;,&#39;xyz&#39;];@StepUp"}, {"owner": {"reputation": 27, "user_id": 12364707, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mAQzqD6NEISl7z2qgyPan8g3sueluVWV-ocdn8Yyg=k-s128", "display_name": "aditya mishra", "link": "https://stackoverflow.com/users/12364707/aditya-mishra"}, "edited": false, "score": 0, "creation_date": 1574846169, "post_id": 59066269, "comment_id": 104371823, "body": "Well thankYou but the problem is that if  I change the pattern of filters=[&#39;xyz&#39;,&#39;joining&#39;]      Answer remains the same but I require itr to change it into   [hello1,hello2,helloEveryone,Somedata]"}, {"owner": {"reputation": 26971, "user_id": 1646240, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/cbd5c282ccb929604467e3b3f900b0d5?s=128&d=identicon&r=PG", "display_name": "StepUp", "link": "https://stackoverflow.com/users/1646240/stepup"}, "reply_to_user": {"reputation": 27, "user_id": 12364707, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mAQzqD6NEISl7z2qgyPan8g3sueluVWV-ocdn8Yyg=k-s128", "display_name": "aditya mishra", "link": "https://stackoverflow.com/users/12364707/aditya-mishra"}, "edited": false, "score": 0, "creation_date": 1574846236, "post_id": 59066269, "comment_id": 104371857, "body": "@adityamishra so try to use the first version of my reply"}, {"owner": {"reputation": 27, "user_id": 12364707, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mAQzqD6NEISl7z2qgyPan8g3sueluVWV-ocdn8Yyg=k-s128", "display_name": "aditya mishra", "link": "https://stackoverflow.com/users/12364707/aditya-mishra"}, "edited": false, "score": 0, "creation_date": 1574846450, "post_id": 59066269, "comment_id": 104371979, "body": "No the above anser is correct please suggest me an idead that if I take  filters=[xyz,joining] the result comes as [hello1,hello2,helloEveryone,Somedata],and if I change filters=[joining,xyz] the result comes as [   &quot;hello Everyone&quot;,   &quot;Some data&quot;,   &quot;hello1&quot;,   &quot;hello2&quot; ] @StepUp"}, {"owner": {"reputation": 27, "user_id": 12364707, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mAQzqD6NEISl7z2qgyPan8g3sueluVWV-ocdn8Yyg=k-s128", "display_name": "aditya mishra", "link": "https://stackoverflow.com/users/12364707/aditya-mishra"}, "edited": false, "score": 0, "creation_date": 1574848784, "post_id": 59066269, "comment_id": 104373330, "body": "What iof there are multiple values in filters"}, {"owner": {"reputation": 26971, "user_id": 1646240, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/cbd5c282ccb929604467e3b3f900b0d5?s=128&d=identicon&r=PG", "display_name": "StepUp", "link": "https://stackoverflow.com/users/1646240/stepup"}, "reply_to_user": {"reputation": 27, "user_id": 12364707, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mAQzqD6NEISl7z2qgyPan8g3sueluVWV-ocdn8Yyg=k-s128", "display_name": "aditya mishra", "link": "https://stackoverflow.com/users/12364707/aditya-mishra"}, "edited": false, "score": 0, "creation_date": 1574849021, "post_id": 59066269, "comment_id": 104373495, "body": "@adityamishra As a good practice at stckoverflow is one question per post.  So if you want to make some custom sorting, then feel free to create another post with clear conditions of sorting. If you feel that my reply helpful, then <a href=\"https://stackoverflow.com/help/someone-answers\">what should I do when someone answers.</a>"}], "tags": [], "owner": {"reputation": 26971, "user_id": 1646240, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/cbd5c282ccb929604467e3b3f900b0d5?s=128&d=identicon&r=PG", "display_name": "StepUp", "link": "https://stackoverflow.com/users/1646240/stepup"}, "is_accepted": false, "score": 1, "last_activity_date": 1574847907, "last_edit_date": 1574847907, "creation_date": 1574844348, "answer_id": 59066269, "question_id": 59065977, "link": "https://stackoverflow.com/questions/59065977/map-a-key-value-to-the-other-values-in-the-data/59066269#59066269", "title": "Map a key value to the other values in the data", "body": "<p>You can filter and then get desired fields:</p>\n\n<pre><code>let filters = ['hello Everyone','Some data','hello1','hello2'];\nconst result = arr.filter(f =&gt; \n    f.texts.some(s =&gt; filters.includes(s.text)))\n                  .map(a =&gt; a.clauseName);\n</code></pre>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const arr = [\r\n  {\r\n      \"clauseId\": 1,\r\n      \"clauseName\": \"cover\",\r\n      \"texts\": [\r\n          {\r\n              \"textId\": 1,\r\n              \"text\": \"hello\"\r\n          }\r\n      ]\r\n  },\r\n  {\r\n      \"clauseId\": 3,\r\n      \"clauseName\": \"xyz\",\r\n      \"texts\": [\r\n          {\r\n              \"textId\": 3,\r\n              \"text\": \"hello Everyone\"\r\n          },\r\n          {\r\n              \"textId\": 4,\r\n              \"text\": \"Some data\"\r\n          }\r\n      ]\r\n  },\r\n{\r\n      \"clauseId\": 2,\r\n      \"clauseName\": \"joining\",\r\n      \"texts\": [\r\n          {\r\n              \"textId\": 3,\r\n              \"text\": \"hello1\"\r\n          },\r\n          {\r\n              \"textId\": 4,\r\n              \"text\": \"hello2\"\r\n          }\r\n      ]\r\n  }\r\n]\r\n\r\nlet filters = ['hello Everyone','Some data','hello1','hello2'];\r\nconst result = arr.filter(f=&gt; f.texts.some(s =&gt; filters.includes(s.text))).map(a=&gt;a.clauseName);\r\nconsole.log(result);</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p><strong>UPDATE 1:</strong> </p>\n\n<p>If you want to filter by <code>['joining','xyz'];</code>, then you can use <code>filters</code> array and check whether data is contained by <code>includes</code> method:</p>\n\n<pre><code>let filters = ['joining','xyz'];\nconst result = arr.filter(f =&gt; filters.includes(f.clauseName))\n                  .flatMap(r =&gt; r.texts.map(t =&gt; t.text));\nconsole.log(result);\n</code></pre>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const arr = [\r\n  {\r\n      \"clauseId\": 1,\r\n      \"clauseName\": \"cover\",\r\n      \"texts\": [\r\n          {\r\n              \"textId\": 1,\r\n              \"text\": \"hello\"\r\n          }\r\n      ]\r\n  },\r\n  {\r\n      \"clauseId\": 3,\r\n      \"clauseName\": \"xyz\",\r\n      \"texts\": [\r\n          {\r\n              \"textId\": 3,\r\n              \"text\": \"hello Everyone\"\r\n          },\r\n          {\r\n              \"textId\": 4,\r\n              \"text\": \"Some data\"\r\n          }\r\n      ]\r\n  },\r\n{\r\n      \"clauseId\": 2,\r\n      \"clauseName\": \"joining\",\r\n      \"texts\": [\r\n          {\r\n              \"textId\": 3,\r\n              \"text\": \"hello1\"\r\n          },\r\n          {\r\n              \"textId\": 4,\r\n              \"text\": \"hello2\"\r\n          }\r\n      ]\r\n  }\r\n]\r\n\r\nlet filters = ['joining','xyz'];\r\nconst result = arr.filter(f =&gt; filters.includes(f.clauseName))\r\n                  .sort((a,b) =&gt; a.clauseId - b.clauseId)\r\n                  .flatMap(r =&gt; r.texts.map(t =&gt; t.text));\r\nconsole.log(result);</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 27, "user_id": 12364707, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mAQzqD6NEISl7z2qgyPan8g3sueluVWV-ocdn8Yyg=k-s128", "display_name": "aditya mishra", "link": "https://stackoverflow.com/users/12364707/aditya-mishra"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 59, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1574848267, "creation_date": 1574843256, "last_edit_date": 1574843874, "question_id": 59065977, "link": "https://stackoverflow.com/questions/59065977/map-a-key-value-to-the-other-values-in-the-data", "title": "Map a key value to the other values in the data", "body": "<p>Suppose I have data coming as json in the below format</p>\n\n<pre><code>[\n    {\n        \"clauseId\": 1,\n        \"clauseName\": \"cover\",\n        \"texts\": [\n            {\n                \"textId\": 1,\n                \"text\": \"hello\"\n            }\n        ]\n    },\n    {\n        \"clauseId\": 3,\n        \"clauseName\": \"xyz\",\n        \"texts\": [\n            {\n                \"textId\": 3,\n                \"text\": \"hello Everyone\"\n            },\n            {\n                \"textId\": 4,\n                \"text\": \"Some data\"\n            }\n        ]\n    }\n {\n        \"clauseId\": 2,\n        \"clauseName\": \"joining\",\n        \"texts\": [\n            {\n                \"textId\": 3,\n                \"text\": \"hello1\"\n            },\n            {\n                \"textId\": 4,\n                \"text\": \"hello2\"\n            }\n        ]\n    }\n]\n</code></pre>\n\n<p>I have made a list from clause Name like</p>\n\n<pre><code>c=[joining,xyz]\n</code></pre>\n\n<p>I want to make a list where the text is coming like</p>\n\n<pre><code>d=[hello Everyone,Some data,hello1,hello2]\n</code></pre>\n\n<p>Please suggest something about it</p>\n"}, {"tags": ["angular", "typescript", "compiler-errors"], "comments": [{"owner": {"reputation": 370, "user_id": 8862424, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ea6047dbd5ffd27dac5ca8d00e79710a?s=128&d=identicon&r=PG&f=1", "display_name": "Ivan Mihaylov", "link": "https://stackoverflow.com/users/8862424/ivan-mihaylov"}, "edited": false, "score": 2, "creation_date": 1574842117, "post_id": 59065613, "comment_id": 104369761, "body": "You have a lot of explicit error that you need to solve. This is nothing generic that you can google from a blog. You need to solve all your errors to be able to build for production.  Most likely all these properties that are missing need to be made optional or removed if they are not used."}, {"owner": {"reputation": 214, "user_id": 12246377, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ff62d8e0357db90636488ed8efdb7a8?s=128&d=identicon&r=PG&f=1", "display_name": "Omar", "link": "https://stackoverflow.com/users/12246377/omar"}, "reply_to_user": {"reputation": 370, "user_id": 8862424, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ea6047dbd5ffd27dac5ca8d00e79710a?s=128&d=identicon&r=PG&f=1", "display_name": "Ivan Mihaylov", "link": "https://stackoverflow.com/users/8862424/ivan-mihaylov"}, "edited": false, "score": 0, "creation_date": 1574882356, "post_id": 59065613, "comment_id": 104391365, "body": "That was exactly the case, and since that it is a comment not an answer I would have marked it as the correct answer, thank you so much"}], "answers": [{"comments": [{"owner": {"reputation": 418, "user_id": 9399886, "user_type": "registered", "profile_image": "https://graph.facebook.com/817910161726880/picture?type=large", "display_name": "Hiras Haris", "link": "https://stackoverflow.com/users/9399886/hiras-haris"}, "edited": false, "score": 0, "creation_date": 1574846237, "post_id": 59065686, "comment_id": 104371858, "body": "I think your answer is correct and I have upvoted it"}], "tags": [], "owner": {"reputation": 3015, "user_id": 8318091, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/S9Vn3.jpg?s=128&g=1", "display_name": "Saurabh Yadav", "link": "https://stackoverflow.com/users/8318091/saurabh-yadav"}, "is_accepted": false, "score": -1, "last_activity_date": 1574842358, "last_edit_date": 1574842358, "creation_date": 1574842019, "answer_id": 59065686, "question_id": 59065613, "link": "https://stackoverflow.com/questions/59065613/i-am-not-able-to-build-my-project-using-ng-build-prod/59065686#59065686", "title": "I am not able to build my project using ng build --prod", "body": "<p>We Have to opt-out of type checking and let the values pass through compile-time checks. To do so, we label these with the <code>any</code> type or you can create class or interface to avoid it</p>\n\n<p>So give type <code>any</code> to the properties</p>\n\n<pre><code>customLoadingTemplate: any;\npersonalInfo: any;\n</code></pre>\n\n<p>and all pending properties</p>\n\n<p>src/app/questionseven/questionseven.component.html(15,41): Expected 1 arguments, but got 0 </p>\n\n<p>There is a function who have Expected 1 argument but you have pass just 0 argument check that one</p>\n"}, {"tags": [], "owner": {"reputation": 1195, "user_id": 4210336, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/cf42cc0e54b012c02eb16ba7317bebb1?s=128&d=identicon&r=PG&f=1", "display_name": "Ininiv", "link": "https://stackoverflow.com/users/4210336/ininiv"}, "is_accepted": false, "score": 1, "last_activity_date": 1574842675, "creation_date": 1574842675, "answer_id": 59065831, "question_id": 59065613, "link": "https://stackoverflow.com/questions/59065613/i-am-not-able-to-build-my-project-using-ng-build-prod/59065831#59065831", "title": "I am not able to build my project using ng build --prod", "body": "<p>Declare all the variable which i used in the HTML with public access specifier</p>\n\n<pre><code>E.g,\npublic customLoadingTemplate: any;\npublic buttonDisabled: any;\n</code></pre>\n"}], "owner": {"reputation": 214, "user_id": 12246377, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ff62d8e0357db90636488ed8efdb7a8?s=128&d=identicon&r=PG&f=1", "display_name": "Omar", "link": "https://stackoverflow.com/users/12246377/omar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 148, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1574842675, "creation_date": 1574841697, "last_edit_date": 1574842178, "question_id": 59065613, "link": "https://stackoverflow.com/questions/59065613/i-am-not-able-to-build-my-project-using-ng-build-prod", "title": "I am not able to build my project using ng build --prod", "body": "<p>I have finished my project using Angular 6 and would like to deploy my project, however whenever I run <code>ng build --prod</code> it comes up with these errors, any other command such as <code>npm start</code>, <code>ng serve</code> or <code>ng build</code> they run successfully. </p>\n\n<pre><code>ERROR in src/app/signup/signup.component.html(77,78): Property 'customLoadingTemplate' does not \nexist on type 'SignupComponent'.\nsrc/app/signin/signin.component.html(48,78): Property 'customLoadingTemplate' does not exist on type \n'SigninComponent'.\nsrc/app/questionseven/questionseven.component.html(15,41): Expected 1 arguments, but got 0.\nsrc/app/addemployee/addemployee.component.html(157,78): Property 'customLoadingTemplate' does not \nexist on type 'AddemployeeComponent'.\nsrc/app/editemployee/editemployee.component.html(164,78): Property 'customLoadingTemplate' does not \nexist on type 'EditemployeeComponent'.\nsrc/app/editemployee/editemployee.component.html(311,53): Property 'buttonDisabled' does not exist \non type 'EditemployeeComponent'.\nsrc/app/editemployee/editemployee.component.html(322,50): Property 'buttonDisabled' does not exist \non type 'EditemployeeComponent'.\nsrc/app/editemployee/editemployee.component.html(332,11): Property 'buttonDisabled' does not exist \non type 'EditemployeeComponent'.\nsrc/app/editemployee/editemployee.component.html(15,24): Property 'personalInfo' does not exist on \ntype 'EditemployeeComponent'.\nsrc/app/editemployee/editemployee.component.html(173,54): Property 'PersonalInfoClicked' does not \nexist on type 'EditemployeeComponent'.\nsrc/app/employees/employees.component.html(91,80): Property 'customLoadingTemplate' does not exist \non type 'EmployeesComponent'.\nsrc/app/employeeposition/employeeposition.component.html(136,74): Property 'customLoadingTemplate' \ndoes not exist on type 'EmployeepositionComponent'.\nsrc/app/employeedepartment/employeedepartment.component.html(135,76): Property \n'customLoadingTemplate' does not exist on type 'EmployeedepartmentComponent'.\nsrc/app/banks/banks.component.html(136,76): Property 'customLoadingTemplate' does not exist on type \n'BanksComponent'.\n</code></pre>\n"}, {"tags": ["typescript", "typeorm"], "comments": [{"owner": {"reputation": 1693, "user_id": 6750581, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2d4ce77cf710ef819c66b1f37f3491e1?s=128&d=identicon&r=PG", "display_name": "tano", "link": "https://stackoverflow.com/users/6750581/tano"}, "edited": false, "score": 0, "creation_date": 1574844252, "post_id": 59065294, "comment_id": 104370858, "body": "select used to set the main object fields, so I&#39;d use userRepository and add the hash to it as relation."}], "answers": [{"comments": [{"owner": {"reputation": 737, "user_id": 8747108, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d9e65fa70d39915eabbd5add697427d?s=128&d=identicon&r=PG&f=1", "display_name": "MegaRoks", "link": "https://stackoverflow.com/users/8747108/megaroks"}, "edited": false, "score": 0, "creation_date": 1574841178, "post_id": 59065378, "comment_id": 104369337, "body": "Yes, it works, but I could also write <code>const { user } = await ...</code>. But I do not need a user password. Do I have to delete it myself? Why can&#39;t I return only what I need?"}, {"owner": {"reputation": 31, "user_id": 12443653, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b90bf64c62a71e86d96a41bd87a1d966?s=128&d=identicon&r=PG&f=1", "display_name": "thynameisjayvee", "link": "https://stackoverflow.com/users/12443653/thynameisjayvee"}, "reply_to_user": {"reputation": 737, "user_id": 8747108, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d9e65fa70d39915eabbd5add697427d?s=128&d=identicon&r=PG&f=1", "display_name": "MegaRoks", "link": "https://stackoverflow.com/users/8747108/megaroks"}, "edited": false, "score": 0, "creation_date": 1574841626, "post_id": 59065378, "comment_id": 104369558, "body": "I think you need to modify the user password schema and add &#39;select: false&#39;"}], "tags": [], "owner": {"reputation": 31, "user_id": 12443653, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b90bf64c62a71e86d96a41bd87a1d966?s=128&d=identicon&r=PG&f=1", "display_name": "thynameisjayvee", "link": "https://stackoverflow.com/users/12443653/thynameisjayvee"}, "is_accepted": false, "score": 1, "last_activity_date": 1574840766, "creation_date": 1574840766, "answer_id": 59065378, "question_id": 59065294, "link": "https://stackoverflow.com/questions/59065294/how-to-return-a-user-object-from-a-request/59065378#59065378", "title": "How to return a user object from a request", "body": "<p>I think you can try this one.</p>\n\n<pre><code>return user.user\n</code></pre>\n\n<p>Hope that works.</p>\n"}, {"tags": [], "owner": {"reputation": 5367, "user_id": 11011793, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0p7CT.jpg?s=128&g=1", "display_name": "MoxxiManagarm", "link": "https://stackoverflow.com/users/11011793/moxximanagarm"}, "is_accepted": true, "score": 1, "last_activity_date": 1574843198, "creation_date": 1574843198, "answer_id": 59065960, "question_id": 59065294, "link": "https://stackoverflow.com/questions/59065294/how-to-return-a-user-object-from-a-request/59065960#59065960", "title": "How to return a user object from a request", "body": "<p>You can try lodash</p>\n\n<pre><code>import { pick as _pick } from 'lodash'; \n\npublic async getUserByHash(hash: IHash) {\n    this.logger.log('Hash for check email geted');\n\n    const user = await this.hashRepository.findOne({\n        select: ['id', 'user'],\n        relations: ['user'],\n        where: hash,\n    });\n\n    return _pick(user.user, ['id', 'email']);\n}\n</code></pre>\n"}], "owner": {"reputation": 737, "user_id": 8747108, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d9e65fa70d39915eabbd5add697427d?s=128&d=identicon&r=PG&f=1", "display_name": "MegaRoks", "link": "https://stackoverflow.com/users/8747108/megaroks"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 76, "favorite_count": 0, "accepted_answer_id": 59065960, "answer_count": 2, "score": 0, "last_activity_date": 1574843198, "creation_date": 1574840480, "question_id": 59065294, "link": "https://stackoverflow.com/questions/59065294/how-to-return-a-user-object-from-a-request", "title": "How to return a user object from a request", "body": "<p>I want to return only the user object from the request.</p>\n\n<pre><code>public async getUserByHash(hash: IHash) {\n    this.logger.log('Hash for check email geted');\n    const user = await this.hashRepository.findOne({\n        select: ['id', 'user'],\n        relations: ['user'],\n        where: hash,\n    });\n    return user;\n}\n</code></pre>\n\n<p>The user variable now contains.</p>\n\n<pre><code>{\n    id:2\n    user: {\n        id: 3, \n        email:\"email@test.com\",\n        password:\"12345678\"\n    }\n}\n</code></pre>\n\n<p>I want to get only the user fields, namely his identifier and his email.</p>\n\n<p>I tried to do like this, but get an error.</p>\n\n<pre><code>public async getUserByHash(hash: IHash) {\n    this.logger.log('Hash for check email geted');\n    const user = await this.hashRepository.findOne({\n        select: ['user.id', 'user.email'],\n        relations: ['user'],\n        where: hash,\n    });\n    return user;\n}\n</code></pre>\n\n<p>But I got an error.</p>\n\n<blockquote>\n  <p>QueryFailedError: ER_BAD_FIELD_ERROR: Unknown column 'distinctAlias.Hash_id' in 'field list'</p>\n</blockquote>\n\n<p>How can I get only user fields, ID and email?</p>\n"}, {"tags": ["typescript", "typescript-generics"], "answers": [{"tags": [], "owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "is_accepted": true, "score": 1, "last_activity_date": 1574840585, "creation_date": 1574840585, "answer_id": 59065330, "question_id": 59065249, "link": "https://stackoverflow.com/questions/59065249/how-to-define-generic-interface-based-on-class-generic/59065330#59065330", "title": "how to define generic interface based on class generic", "body": "<p>Interfaces can't be mapped types, only type aliases can. This will work:</p>\n\n<pre><code>// Child.ts\ninterface IStyles {\n  root?: any\n}\n\n// Base.ts\ntype IStyleObj&lt;T&gt; = {\n  [K in keyof T]: {\n    class: any\n    style: any\n  }\n}\n\nexport default class Base&lt;IStyles = {}&gt; {\n  get styles (): IStyleObj&lt;IStyles&gt; {\n    return null!\n  }\n}\n</code></pre>\n\n<p><a href=\"https://www.typescriptlang.org/play/?ssl=1&amp;ssc=1&amp;pln=18&amp;pc=2#code/PTAEGEAsEsBsBMB0AXAzgWAFDQHbIKYBOAZgIYDG+oAkgMrICes+qoA3lqKIQPY-IB+AFyhSOBlgC+WLCFAAhUqnwoMmRgAcqdRswDyAIwBWAHgAqAPlABedp1ABtANKhcoANb4GPYqDMBdEQ5MLi5yWCVUETEJENDUXXxo8XtpTDSsfAAPDR5CZFB4fDIAV1gC8MiFJXwTHSYWG3ZJK2CuAHN8AoSG1gAKAEoRev1jOvpe1vsuQi6SwhxQHDLYAEJUqSA\" rel=\"nofollow noreferrer\">Playground Link</a></p>\n"}], "owner": {"reputation": 1133, "user_id": 2680408, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/6340c5390c315ac0875d7a21d631c350?s=128&d=identicon&r=PG&f=1", "display_name": "Johannes", "link": "https://stackoverflow.com/users/2680408/johannes"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 24, "favorite_count": 0, "accepted_answer_id": 59065330, "answer_count": 1, "score": 1, "last_activity_date": 1574840585, "creation_date": 1574840299, "question_id": 59065249, "link": "https://stackoverflow.com/questions/59065249/how-to-define-generic-interface-based-on-class-generic", "title": "how to define generic interface based on class generic", "body": "<p>I'm trying to create a new augmented, generic interface based on another interface. The base interface defines the properties the object is going to have (<code>root</code>). The augmented type should have the same properties, but instead of <code>any</code> as a value, I get a more complex object. Note, that the interface <code>IStyleObj</code> is used inside a generic class, where the generic type is passed to the generic interface.</p>\n\n<p>In my experiments I get the these errors, and I don't know how to fix them:</p>\n\n<pre><code>\"IStyleObj&lt;T&gt;\"\n'T' is declared but its value is never read.ts(6133)\n\n\"Key in keyof\"\nA computed property name must be of type 'string', 'number', 'symbol', or 'any'.ts(2464)\nMember '[K in keyof' implicitly has an 'any' type.ts(7008)\n\n\"... T\"\nCannot find name 'T'.ts(2304)\n\n\"class: any\"\n'any' only refers to a type, but is being used as a value here.ts(2693)\n</code></pre>\n\n<p>This is my current code:</p>\n\n<pre><code>// Child.ts\ninterface IStyles {\n  root?: any\n}\n\n// Base.ts\ninterface IStyleObj&lt;T&gt; {\n  [K in keyof T]: {\n    class: any\n    style: any\n  }\n}\n\nexport default class Base&lt;IStyles = {}&gt; {\n  get styles (): IStyleObj&lt;IStyles&gt; {\n    // ...\n  }\n}\n</code></pre>\n"}, {"tags": ["angular", "typescript", "promise"], "answers": [{"comments": [{"owner": {"reputation": 487, "user_id": 11219240, "user_type": "registered", "profile_image": "https://graph.facebook.com/516942075500723/picture?type=large", "display_name": "awesomemypro", "link": "https://stackoverflow.com/users/11219240/awesomemypro"}, "edited": false, "score": 0, "creation_date": 1574840536, "post_id": 59065288, "comment_id": 104369003, "body": "How do we get out of this depending on a condition checked on the response?"}, {"owner": {"reputation": 1489, "user_id": 8667766, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CJKrx.jpg?s=128&g=1", "display_name": "Louay Alosh", "link": "https://stackoverflow.com/users/8667766/louay-alosh"}, "reply_to_user": {"reputation": 487, "user_id": 11219240, "user_type": "registered", "profile_image": "https://graph.facebook.com/516942075500723/picture?type=large", "display_name": "awesomemypro", "link": "https://stackoverflow.com/users/11219240/awesomemypro"}, "edited": false, "score": 0, "creation_date": 1574840630, "post_id": 59065288, "comment_id": 104369045, "body": "we can use the <code>map</code> operator with a condition then. I&#39;ll update the answer for you."}, {"owner": {"reputation": 487, "user_id": 11219240, "user_type": "registered", "profile_image": "https://graph.facebook.com/516942075500723/picture?type=large", "display_name": "awesomemypro", "link": "https://stackoverflow.com/users/11219240/awesomemypro"}, "edited": false, "score": 0, "creation_date": 1574841226, "post_id": 59065288, "comment_id": 104369358, "body": "I did not understand the &quot;breaking out&quot; part. Can you elaborate a bit more?"}, {"owner": {"reputation": 487, "user_id": 11219240, "user_type": "registered", "profile_image": "https://graph.facebook.com/516942075500723/picture?type=large", "display_name": "awesomemypro", "link": "https://stackoverflow.com/users/11219240/awesomemypro"}, "edited": false, "score": 0, "creation_date": 1574841701, "post_id": 59065288, "comment_id": 104369597, "body": "Also, I&#39;m getting this: Property &#39;pipe&#39; does not exist on type &#39;Observable&lt;number&gt;&#39;"}, {"owner": {"reputation": 1489, "user_id": 8667766, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CJKrx.jpg?s=128&g=1", "display_name": "Louay Alosh", "link": "https://stackoverflow.com/users/8667766/louay-alosh"}, "reply_to_user": {"reputation": 487, "user_id": 11219240, "user_type": "registered", "profile_image": "https://graph.facebook.com/516942075500723/picture?type=large", "display_name": "awesomemypro", "link": "https://stackoverflow.com/users/11219240/awesomemypro"}, "edited": false, "score": 0, "creation_date": 1576760081, "post_id": 59065288, "comment_id": 105007451, "body": "@awesomemypro which version of RXJS are you using? because older version need a bit different syntax, and the idea behind map operator here is to switch your pipeline return value based on some condition you want.. keep in mind if you are only want one condition to hold true you can use the <code>filter</code> operator.. check that out."}, {"owner": {"reputation": 487, "user_id": 11219240, "user_type": "registered", "profile_image": "https://graph.facebook.com/516942075500723/picture?type=large", "display_name": "awesomemypro", "link": "https://stackoverflow.com/users/11219240/awesomemypro"}, "edited": false, "score": 0, "creation_date": 1576822300, "post_id": 59065288, "comment_id": 105027933, "body": "I had forgotten to reply. The solution you gave had worked, with a little tweaking."}], "tags": [], "owner": {"reputation": 1489, "user_id": 8667766, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CJKrx.jpg?s=128&g=1", "display_name": "Louay Alosh", "link": "https://stackoverflow.com/users/8667766/louay-alosh"}, "is_accepted": true, "score": 3, "last_activity_date": 1574840708, "last_edit_date": 1574840708, "creation_date": 1574840465, "answer_id": 59065288, "question_id": 59065213, "link": "https://stackoverflow.com/questions/59065213/async-http-call-until-condition-is-met-in-angular/59065288#59065288", "title": "Async HTTP call until condition is met in Angular", "body": "<p>Yes you can use RXJS too easily. But without using Promises ofcourse, and here comes the power of rxjs in its so powerful operators like interval.</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>interval(1000)\n.pipe(\n    switchMap(() =&gt; this.http.get('...url...')),\n    map(response =&gt; {\n         if(response.statusCode == 1) return response.data;\n         else return undefined; //or some error message or data.\n    })\n)\n.subscribe(response =&gt; {\n  // do somthing with the response that will come in one second interval\n});\n</code></pre>\n\n<p>Basically it looks something like this. But if you provide you own code we can help you transfer to work exactly as you want using only rxjs. which is really powerful library built upon the very good Observable Design Pattern.</p>\n"}], "owner": {"reputation": 487, "user_id": 11219240, "user_type": "registered", "profile_image": "https://graph.facebook.com/516942075500723/picture?type=large", "display_name": "awesomemypro", "link": "https://stackoverflow.com/users/11219240/awesomemypro"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 206, "favorite_count": 0, "accepted_answer_id": 59065288, "answer_count": 1, "score": 1, "last_activity_date": 1574840708, "creation_date": 1574840135, "question_id": 59065213, "link": "https://stackoverflow.com/questions/59065213/async-http-call-until-condition-is-met-in-angular", "title": "Async HTTP call until condition is met in Angular", "body": "<p>I have an HTTP call in Angular that returns a promise. I am using setTimeout to refresh the call after an interval. Is it possible to use some inbuilt functions / patterns that can do the job?</p>\n"}, {"tags": ["javascript", "typescript", "bitcoin"], "answers": [{"tags": [], "owner": {"reputation": 1428, "user_id": 7189060, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d72ad91327f4eca9e7aaf84abfd403c3?s=128&d=identicon&r=PG&f=1", "display_name": "StillFantasy", "link": "https://stackoverflow.com/users/7189060/stillfantasy"}, "is_accepted": true, "score": 2, "last_activity_date": 1574865021, "creation_date": 1574865021, "answer_id": 59072437, "question_id": 59065014, "link": "https://stackoverflow.com/questions/59065014/how-do-you-create-a-new-psbt-transaction-in-bitcoinjs-lib/59072437#59072437", "title": "how do you create a new PSBT transaction in bitcoinjs-lib?", "body": "<p>Because this utxo input is a <code>p2sh</code> address, so you need a <code>redeemScript</code> field for the input:</p>\n\n<pre><code>const node = signer;\nconst ecpair = bitcoin.ECPair.fromPublicKey(node.publicKey, { network: NETWORK });\nconst p2wpkh = bitcoin.payments.p2wpkh({ pubkey: ecpair.publicKey, network: NETWORK });\n\npsbt.addInput({\n  hash: '25ba0c45cadf92ded94432101d286975dcdb865df44b68da597910ea783cff74',\n  index: 0,\n  nonWitnessUtxo: Buffer.from(tx, 'hex'),\n  redeemScript: p2wpkh.output\n});\n</code></pre>\n\n<p>Hope it helps!</p>\n"}], "owner": {"reputation": 264, "user_id": 1815964, "user_type": "registered", "accept_rate": 12, "profile_image": "https://i.stack.imgur.com/4ePsM.jpg?s=128&g=1", "display_name": "Ramadoka", "link": "https://stackoverflow.com/users/1815964/ramadoka"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 861, "favorite_count": 1, "accepted_answer_id": 59072437, "answer_count": 1, "score": 1, "last_activity_date": 1574865021, "creation_date": 1574839341, "question_id": 59065014, "link": "https://stackoverflow.com/questions/59065014/how-do-you-create-a-new-psbt-transaction-in-bitcoinjs-lib", "title": "how do you create a new PSBT transaction in bitcoinjs-lib?", "body": "<p>This is my code</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>import * as bitcoin from 'bitcoinjs-lib'\nconst NETWORK = bitcoin.networks.regtest;\nconst psbt = new bitcoin.Psbt({ network: NETWORK });\n\nfunction p2shAddress(node: bitcoin.ECPairInterface): string {\n  const ecpair = bitcoin.ECPair.fromPublicKey(node.publicKey, { network: NETWORK });\n  const p2wpkh = bitcoin.payments.p2wpkh({ pubkey: ecpair.publicKey, network: NETWORK });\n  const p2sh = bitcoin.payments.p2sh({ redeem: p2wpkh });\n  return p2sh.address as string;\n}\n\nconst tx = '02000000000105e11d8c7970aff25a8a431c49397316ce80af25dca6ac395f172e2d7326d42e570100000017160014cccb96f2ec1b5a2b7081f96b78077488769e3d8efeffffff77bcf72d69888cc739341107028e1e8a302d507fe9ffb94c5359fb1e82f08f370100000017160014527aef9caa6e0a12ecea8ce255cb36427a2f451afeffffff3cad9140403d6ec68bc0cf0b261daa4a41d92f04bddad98fc05a305127c7145c00000000171600143ea2fa276d3de26e4e220a1e6d343a235edbaff6feffffff250152b93632b8e275aba954c894dcbc2c0124a5c1db10de3edc5a0fd2880cc30100000017160014954f8b16a236e5d76b1f6fb69ea821b370fba749feffffffafd0c8b8eab835303aa213a0390e40e25a152dc62889b32df6887dc147b4e29b000000001716001436c91ffd3fd014ca8955eaa97e14dc9fdbed08f4feffffff0200e1f5050000000017a914f1f02b570afafacde515fcd6862a50822b56973e876c515f000000000017a9141afb048a646910eb09136f1cb311774d6c63e8ed870247304402200bfc0495e92aece0807c4c709fc05df3725794e766f36d372f3b35714d376775022077f01d90848205088374c2d8a9e28aedbc9f46212ce83fad7ab5ba00e33130680121021e3bbec438d71dc4966c817ee8db61970bd2288799d9bad9a5f8dd3795e2b0410247304402202c871ca7260d427f07f0482f939aa6193785de9b6df8742cf48881bd0525c4e0022056d7f2621d17fcacb3abd2dad030618a74abb259e852c98d10c96b541876a8340121033c41c3f65f7dab256d1cb28b195ba27c7fc4b1bf2c75e17935dfe9a3846b8c580247304402206cfb872c56f3cab4fcad77f83fc953d037c091d7714c0e7eca1257b56dff57c2022024540ce39d13d55de9f626aee397bad27ef5434f8e57890a3012886c4a6bc1c80121025dec89fee179c0248b24fa2c88db9890a386b836485784d53d12df639fb1e1d6024730440220239dc8ac1c0692b2a4642318cbef810114818132721ab2ba403f037ac0732b3302207112d7d1592b22958184f311f25b8e7a90ac353316bea8af12eeb731e9b0dd540121021a13c8f4c8767317c3cd9d0f7e4d8d8509822ca6891f7cbcc33ec10139b461040247304402205a407877f002d6dc86a83b3c31880366fc3f82204eb7d61a4c3a34c03439592c02201200f52a858463e6547287b2f2964594c6c3233886e12d7d3b499ef59cca5713012102b05ca0a2dc317d82f64483d4087419122eb27e5646e8190a7bac6c5cbacadbe500000000';\n// this is the raw-tx I sent to 2NFJUYmdpAPRoo6qqUZem7rmBq2QSSPKBPu.\n// did I understand it wrong, and this is not the supposed to be nonWitnessUtxo?\n\npsbt.addInput({\n  hash: '25ba0c45cadf92ded94432101d286975dcdb865df44b68da597910ea783cff74',\n  index: 0,\n  nonWitnessUtxo: Buffer.from(tx, 'hex'),\n});\npsbt.addOutput({\n  address: '2MuhtGHkdxiL4BjFAAaYjq8Q2mwnCoYSebt',\n  value: 4000,\n});\nconst signer = bitcoin.ECPair.fromPrivateKey(Buffer.from('64e897b5fac936a30a7a73e1c2892697c91b0705a8d061ea28e59f41d2876e0d', 'hex'), { network: NETWORK });\nconsole.log({ address: p2shAddress(signer) });\n// { address: '2NFJUYmdpAPRoo6qqUZem7rmBq2QSSPKBPu' }\npsbt.signInput(0, signer);\npsbt.validateSignaturesOfInput(0, signer.publicKey);\n</code></pre>\n\n<p>but I'm getting error: <code>Can not sign for this input with the key 02c4ac...</code></p>\n\n<p>I've made sure that when I decode the tx using <code>bitcoin-cli decoderawtransaction $TX</code> \nthe first vout (index 0), has the address as shown by p2shAddress(signer), which is <code>2NFJUYmdpAPRoo6qqUZem7rmBq2QSSPKBPu</code>.</p>\n\n<p>can someone point out where I made a mistake?</p>\n"}, {"tags": ["arrays", "angular", "typescript"], "answers": [{"tags": [], "owner": {"reputation": 17679, "user_id": 7603109, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/BoIE4.png?s=128&g=1", "display_name": "Adrita Sharma", "link": "https://stackoverflow.com/users/7603109/adrita-sharma"}, "is_accepted": false, "score": 3, "last_activity_date": 1574840270, "last_edit_date": 1574840270, "creation_date": 1574839085, "answer_id": 59064957, "question_id": 59064932, "link": "https://stackoverflow.com/questions/59064932/how-to-get-value-in-an-object-array-by-key/59064957#59064957", "title": "How to get value in an object array by key", "body": "<p>You can use <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/find\" rel=\"nofollow noreferrer\">.find()</a> to achieve it.</p>\n\n<p>Try this:</p>\n\n<p><strong><a href=\"https://stackblitz.com/edit/angular-kmaqgr?embed=1&amp;file=src/app/app.component.ts\" rel=\"nofollow noreferrer\">Working Demo</a></strong></p>\n\n<pre><code>this.objectArray.find(x =&gt; x.key == \"1\").value\n</code></pre>\n\n<p>To handle exception, if the item doesn't exists in the array, do this:</p>\n\n<pre><code>let item = this.objectArray.find(x =&gt; x.key == \"1\")\nthis.value = item ? item.value : null\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 29, "user_id": 11663746, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-hNQLv1Scr60/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rd8cyuyfSajASnO3AnM93Sxa6b_gw/mo/photo.jpg?sz=128", "display_name": "Elvin Jafarov", "link": "https://stackoverflow.com/users/11663746/elvin-jafarov"}, "is_accepted": false, "score": 0, "last_activity_date": 1574858348, "last_edit_date": 1574858348, "creation_date": 1574839643, "answer_id": 59065086, "question_id": 59064932, "link": "https://stackoverflow.com/questions/59064932/how-to-get-value-in-an-object-array-by-key/59065086#59065086", "title": "How to get value in an object array by key", "body": "<pre><code>objectArray.forEach(function(item) {\n    Object.keys(item).forEach(function(key) {\n        console.log(\"key:\" + key + \"value:\" + item[key]);\n    });\n});\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 12887, "user_id": 5867572, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b2b0e97a2e32627a9b2a8922492b4aa4?s=128&d=identicon&r=PG&f=1", "display_name": "gavgrif", "link": "https://stackoverflow.com/users/5867572/gavgrif"}, "is_accepted": false, "score": 0, "last_activity_date": 1574841035, "last_edit_date": 1574841035, "creation_date": 1574840728, "answer_id": 59065370, "question_id": 59064932, "link": "https://stackoverflow.com/questions/59064932/how-to-get-value-in-an-object-array-by-key/59065370#59065370", "title": "How to get value in an object array by key", "body": "<p>You can do this using filter() and use the value of the key you already have.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const objectArray = [\r\n    {key: \"1\", value: \"12321\"},\r\n    {key: \"2\", value: \"asdfas\"}\r\n]\r\n\r\nconst el = objectArray.filter(item =&gt; item.key == 1)[0];\r\n\r\nel\r\n  ? console.log(el.value) // gives 12321\r\n  : console.log('none listed')</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": [], "owner": {"reputation": 387, "user_id": 7531859, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/w9WQJ.jpg?s=128&g=1", "display_name": "Vexal", "link": "https://stackoverflow.com/users/7531859/vexal"}, "is_accepted": false, "score": 0, "last_activity_date": 1574841169, "creation_date": 1574841169, "answer_id": 59065477, "question_id": 59064932, "link": "https://stackoverflow.com/questions/59064932/how-to-get-value-in-an-object-array-by-key/59065477#59065477", "title": "How to get value in an object array by key", "body": "<blockquote>\n  <p>objectArray.find(e => e.key == \"1\")</p>\n</blockquote>\n\n<p>ref <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/find\" rel=\"nofollow noreferrer\">https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/find</a></p>\n"}], "owner": {"reputation": 518, "user_id": 1938143, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/cf445fb6b99165c130bc337b480aa691?s=128&d=identicon&r=PG", "display_name": "user1938143", "link": "https://stackoverflow.com/users/1938143/user1938143"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 82, "favorite_count": 0, "answer_count": 4, "score": 3, "last_activity_date": 1574858348, "creation_date": 1574839002, "last_edit_date": 1574839418, "question_id": 59064932, "link": "https://stackoverflow.com/questions/59064932/how-to-get-value-in-an-object-array-by-key", "title": "How to get value in an object array by key", "body": "<p>how can I get value in an object array by a key, which is also in this object array. </p>\n\n<p>the object array looks like this: </p>\n\n<pre><code>const objectArray = [\n    {key: \"1\", value: \"12321\"},\n    {key: \"2\", value: \"asdfas\"}\n]\n\n</code></pre>\n\n<p>I have now the value of key, e.g. <code>key = 1</code>, but I want to get 12321 as result. </p>\n\n<p>any solution?</p>\n"}, {"tags": ["angular", "typescript"], "comments": [{"owner": {"reputation": 16371, "user_id": 479251, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/9870fa7c3f578b33976c7a770cbff4b2?s=128&d=identicon&r=PG", "display_name": "Pac0", "link": "https://stackoverflow.com/users/479251/pac0"}, "edited": false, "score": 0, "creation_date": 1574838666, "post_id": 59064809, "comment_id": 104368171, "body": "quick guidance : use <code>ngClass</code> instead of <code>class</code>, probably"}, {"owner": {"reputation": 739, "user_id": 9552112, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Mr. Learner", "link": "https://stackoverflow.com/users/9552112/mr-learner"}, "reply_to_user": {"reputation": 16371, "user_id": 479251, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/9870fa7c3f578b33976c7a770cbff4b2?s=128&d=identicon&r=PG", "display_name": "Pac0", "link": "https://stackoverflow.com/users/479251/pac0"}, "edited": false, "score": 0, "creation_date": 1574838747, "post_id": 59064809, "comment_id": 104368198, "body": "but its working fine with ` class` already. initially i used <code>ngClass</code> but faced some issue so replaced it with simple <code>class</code>"}, {"owner": {"reputation": 24588, "user_id": 1527544, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/6665878d41d42307eb53e9fae311a471?s=128&d=identicon&r=PG", "display_name": "Antoniossss", "link": "https://stackoverflow.com/users/1527544/antoniossss"}, "edited": false, "score": 0, "creation_date": 1574839765, "post_id": 59064809, "comment_id": 104368645, "body": "Colors are changing for me ....."}], "answers": [{"tags": [], "owner": {"reputation": 24588, "user_id": 1527544, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/6665878d41d42307eb53e9fae311a471?s=128&d=identicon&r=PG", "display_name": "Antoniossss", "link": "https://stackoverflow.com/users/1527544/antoniossss"}, "is_accepted": false, "score": 0, "last_activity_date": 1574839725, "creation_date": 1574839725, "answer_id": 59065114, "question_id": 59064809, "link": "https://stackoverflow.com/questions/59064809/ngfor-inside-ngif-how-to-rewrite-it-properly/59065114#59065114", "title": "*ngFor Inside *ngIf - How to Rewrite it properly", "body": "<p>Just add  </p>\n\n<pre><code>&lt;ol class=\"carousel-indicators\" id=\"adList\" *ngIf=\"mockData.length &gt; 1\"&gt;\n</code></pre>\n\n<p>And you have no indicator for less than 2 elements </p>\n\n<p><a href=\"https://stackblitz.com/edit/angular-m5gvvj\" rel=\"nofollow noreferrer\">https://stackblitz.com/edit/angular-m5gvvj</a></p>\n\n<p>to make single element only remove <code>//</code> line 16 in <code>app</code> component</p>\n"}], "owner": {"reputation": 739, "user_id": 9552112, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Mr. Learner", "link": "https://stackoverflow.com/users/9552112/mr-learner"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 66, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1574839725, "creation_date": 1574838478, "last_edit_date": 1574839090, "question_id": 59064809, "link": "https://stackoverflow.com/questions/59064809/ngfor-inside-ngif-how-to-rewrite-it-properly", "title": "*ngFor Inside *ngIf - How to Rewrite it properly", "body": "<p>could some one tell me how to rewrite below *ngIF and *ngFor combination.? </p>\n\n<p><strong><em>I'm aware about my issue is duplicate but pls understand, this is different.</em></strong></p>\n\n<p>it's working as fine. but issue what am facing is that<code>&lt;li&gt;&lt;/li&gt;</code> tag color is not getting changed dynamically. But i could see <code>'active item'</code> classes are applying properly when sliding from one image to another in DOM.</p>\n\n<p>Here, what i'm trying to achieve is, <strong>i don't want show carousel indicator for single image item only</strong>. As you can see, i'm rendering image dynamically. Everything is working fine except active class color change. </p>\n\n<p>Please point my mistake where i'm doing wrong.</p>\n\n<pre class=\"lang-html prettyprint-override\"><code>&lt;div id=\"myCarousel\" class=\"carousel\" data-ride=\"carousel\"&gt;\n    &lt;ol class=\"carousel-indicators\" id=\"sliderDots\"\n        *ngIf=\"respDataList  &amp;&amp;  respDataList.length &gt; 1\"&gt;\n        &lt;ng-container &gt;\n            &lt;li data-target=\"#myCarousel\"\n                *ngFor=\"let li of respDataList; let i = index\" [attr.data-slide-to]=\"i\"\n                class=\"{{ (i == 0) ? 'active' : '' }}\"&gt;&lt;/li&gt;\n        &lt;/ng-container&gt;\n    &lt;/ol&gt;\n    &lt;div class=\"carousel-inner\"&gt;\n        &lt;div *ngFor=\"let document of respDataList; let i = index\"\n            class=\"{{ (i == 0) ? 'item active' : 'item' }}\"\n            [innerHTML]=\"document&gt;\n        &lt;/div&gt;\n    &lt;/div&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p><a href=\"https://stackblitz.com/edit/angular-tt1sxf\" rel=\"nofollow noreferrer\">This sample demo i've created for some other purpose</a>  i want to change it as mentioned above.</p>\n\n<p>Thanks in advance.</p>\n"}, {"tags": ["javascript", "angular", "typescript", "html-select"], "comments": [{"owner": {"reputation": 17679, "user_id": 7603109, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/BoIE4.png?s=128&g=1", "display_name": "Adrita Sharma", "link": "https://stackoverflow.com/users/7603109/adrita-sharma"}, "edited": false, "score": 0, "creation_date": 1574838292, "post_id": 59064731, "comment_id": 104367998, "body": "Show <code>renoList</code> and <code>claimNames </code>"}], "answers": [{"comments": [{"owner": {"reputation": 10525, "user_id": 1186050, "user_type": "registered", "accept_rate": 24, "profile_image": "https://www.gravatar.com/avatar/1aeaf46e73772e9f9c7784bf0ee0705c?s=128&d=identicon&r=PG", "display_name": "user1186050", "link": "https://stackoverflow.com/users/1186050/user1186050"}, "edited": false, "score": 1, "creation_date": 1574839034, "post_id": 59064813, "comment_id": 104368325, "body": "yup! this works. thanks! Just a little new to Angular and directives"}, {"owner": {"reputation": 10525, "user_id": 1186050, "user_type": "registered", "accept_rate": 24, "profile_image": "https://www.gravatar.com/avatar/1aeaf46e73772e9f9c7784bf0ee0705c?s=128&d=identicon&r=PG", "display_name": "user1186050", "link": "https://stackoverflow.com/users/1186050/user1186050"}, "edited": false, "score": 0, "creation_date": 1574839162, "post_id": 59064813, "comment_id": 104368380, "body": "just curious, do you know if there is a way to set both with one call instead of two?"}, {"owner": {"reputation": 17679, "user_id": 7603109, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/BoIE4.png?s=128&g=1", "display_name": "Adrita Sharma", "link": "https://stackoverflow.com/users/7603109/adrita-sharma"}, "reply_to_user": {"reputation": 10525, "user_id": 1186050, "user_type": "registered", "accept_rate": 24, "profile_image": "https://www.gravatar.com/avatar/1aeaf46e73772e9f9c7784bf0ee0705c?s=128&d=identicon&r=PG", "display_name": "user1186050", "link": "https://stackoverflow.com/users/1186050/user1186050"}, "edited": false, "score": 0, "creation_date": 1574839863, "post_id": 59064813, "comment_id": 104368695, "body": "@user1186050 Check the second way in the demo."}], "tags": [], "owner": {"reputation": 17679, "user_id": 7603109, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/BoIE4.png?s=128&g=1", "display_name": "Adrita Sharma", "link": "https://stackoverflow.com/users/7603109/adrita-sharma"}, "is_accepted": true, "score": 2, "last_activity_date": 1574838991, "last_edit_date": 1574838991, "creation_date": 1574838504, "answer_id": 59064813, "question_id": 59064731, "link": "https://stackoverflow.com/questions/59064731/how-to-disable-and-check-a-checkbox-based-on-searching-through-an-array-of-value/59064813#59064813", "title": "How to disable and check a checkbox based on searching through an array of values in an array in my .ts file", "body": "<p>You can use <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/includes\" rel=\"nofollow noreferrer\">.includes()</a></p>\n\n<p>Try like this:</p>\n\n<p><strong><a href=\"https://stackblitz.com/edit/angular-wicfkm?embed=1&amp;file=src/app/app.component.html\" rel=\"nofollow noreferrer\">Working Demo</a></strong></p>\n\n<p><strong>.html</strong></p>\n\n<pre><code>&lt;div class=\"row container\"&gt;\n    &lt;div *ngFor=\"let reno of renoList\" class=\"form-group form-check col-md-3\"&gt;\n        &lt;input type=\"checkbox\" class=\"form-check-input\" [disabled]=\"claimNames.includes(reno)\" [checked]=\"claimNames.includes(reno)\"&gt;\n        &lt;label class=\"form-check-label\"&gt;{{reno}}&lt;/label&gt;\n    &lt;/div&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p><strong>.ts</strong></p>\n\n<pre><code>renoList:any[] = [\"A\", \"B\", \"C\"];\n\nclaimNames:any[] = [\"A\"]\n</code></pre>\n"}], "owner": {"reputation": 10525, "user_id": 1186050, "user_type": "registered", "accept_rate": 24, "profile_image": "https://www.gravatar.com/avatar/1aeaf46e73772e9f9c7784bf0ee0705c?s=128&d=identicon&r=PG", "display_name": "user1186050", "link": "https://stackoverflow.com/users/1186050/user1186050"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 54, "favorite_count": 1, "accepted_answer_id": 59064813, "answer_count": 1, "score": 1, "last_activity_date": 1574877578, "creation_date": 1574838142, "last_edit_date": 1574877578, "question_id": 59064731, "link": "https://stackoverflow.com/questions/59064731/how-to-disable-and-check-a-checkbox-based-on-searching-through-an-array-of-value", "title": "How to disable and check a checkbox based on searching through an array of values in an array in my .ts file", "body": "<p>I have this select with check boxes. I want to disable AND check the ones that exist in a string array.\nHow would I add both the <code>disabled</code> and <code>checked</code> attribute if value exists in an array I have in my angular .ts file.</p>\n\n<blockquote>\n  <p>this.claimNames = any[];</p>\n</blockquote>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;div class=\"row container\"&gt;\r\n  &lt;div *ngFor=\"let reno of renoList\" class=\"form-group form-check col-md-3\"&gt;\r\n    &lt;input type=\"checkbox\" class=\"form-check-input\" disabled checked&gt;\r\n    &lt;label class=\"form-check-label\"&gt;{{reno}}&lt;/label&gt;\r\n  &lt;/div&gt;\r\n&lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": ["typescript"], "answers": [{"tags": [], "owner": {"reputation": 630270, "user_id": 571407, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2f0d9dec16bae1e06552af55ddefc11f?s=128&d=identicon&r=PG", "display_name": "JB Nizet", "link": "https://stackoverflow.com/users/571407/jb-nizet"}, "is_accepted": false, "score": 2, "last_activity_date": 1574838053, "creation_date": 1574838053, "answer_id": 59064699, "question_id": 59064589, "link": "https://stackoverflow.com/questions/59064589/typescript-not-complaining-about-not-declaring-types-in-constructor/59064699#59064699", "title": "typescript not complaining About not declaring types in constructor", "body": "<p><code>noImplicitAny</code> should be set to true. When false, it means implicit any is accepted, and variables declared without a type thus have, implicitly, the type <code>any</code>.</p>\n"}, {"tags": [], "owner": {"reputation": 9738, "user_id": 4858777, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/R121o.png?s=128&g=1", "display_name": "Valeriy Katkov", "link": "https://stackoverflow.com/users/4858777/valeriy-katkov"}, "is_accepted": false, "score": 1, "last_activity_date": 1574838060, "creation_date": 1574838060, "answer_id": 59064707, "question_id": 59064589, "link": "https://stackoverflow.com/questions/59064589/typescript-not-complaining-about-not-declaring-types-in-constructor/59064707#59064707", "title": "typescript not complaining About not declaring types in constructor", "body": "<p><code>authentication</code> and <code>authenticatedRoute</code> parameters types are inferred from the default values, but <code>context</code> has <code>any</code> type by default, because you set <code>noImplicitAny</code> to <code>false</code> in the compilerOptions. See <a href=\"https://www.typescriptlang.org/docs/handbook/compiler-options.html\" rel=\"nofollow noreferrer\">Compiler Options</a> for more information about compiler flags.</p>\n"}], "owner": {"reputation": 4493, "user_id": 10433835, "user_type": "registered", "profile_image": "https://graph.facebook.com/584735072160572/picture?type=large", "display_name": "anny123", "link": "https://stackoverflow.com/users/10433835/anny123"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 28, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1574838060, "creation_date": 1574837616, "question_id": 59064589, "link": "https://stackoverflow.com/questions/59064589/typescript-not-complaining-about-not-declaring-types-in-constructor", "title": "typescript not complaining About not declaring types in constructor", "body": "<p>I am new to typescript and I was expecting typescript to throw an error for not declaring types for my constructor but unfortunately I am not.. </p>\n\n<p>So I was curious why i am not getting an error. </p>\n\n<p>this is what I am doing</p>\n\n<pre><code>export interface BaseConfig {\n    app: express.Application, \n    routePermission: number,\n    context: any\n}\n\nexport class BaseConfig implements BaseConfig {\n    constructor(\n        context,\n        authentication = false,\n        authenticatedRoute = USER_TYPE.LOGGED_IN_NORMAL_USER\n    ) {\n        //intitalize Express App\n        this.routePermission = authenticatedRoute\n\n        this.context = context\n        this.app = express()\n</code></pre>\n\n<p>This, is my <code>tsconfig</code></p>\n\n<pre><code>{\n  \"compilerOptions\": {\n    \"moduleResolution\": \"node\",\n    \"experimentalDecorators\": true,\n    \"module\": \"commonjs\",\n    \"noImplicitReturns\": true,\n    \"noUnusedLocals\": true,\n    \"outDir\": \"lib\",\n    \"sourceMap\": true,\n    \"strict\": true,\n    \"target\": \"es2017\",\n    \"resolveJsonModule\": true,\n    \"esModuleInterop\": true,\n    \"noImplicitAny\": false\n  },\n  \"compileOnSave\": true,\n  \"include\": [\n    \"src\"\n  ],\n  \"exclude\": [\"node_modules\"]\n}\n</code></pre>\n"}, {"tags": ["javascript", "angular", "typescript", "ag-grid"], "comments": [{"owner": {"reputation": 5149, "user_id": 3916831, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/f90af7b8dd05556ba7b4a3c99b3412d7?s=128&d=identicon&r=PG&f=1", "display_name": "Kenny", "link": "https://stackoverflow.com/users/3916831/kenny"}, "edited": false, "score": 3, "creation_date": 1574835423, "post_id": 59064031, "comment_id": 104366855, "body": "A stackblitz example would be great, to understand what is happening"}, {"owner": {"reputation": 674, "user_id": 10153626, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-6c9YXJEAnzw/AAAAAAAAAAI/AAAAAAAAAAA/AAnnY7pIghGpr9K0BV_LukZEisWugJqDmg/mo/photo.jpg?sz=128", "display_name": "ABC", "link": "https://stackoverflow.com/users/10153626/abc"}, "reply_to_user": {"reputation": 5149, "user_id": 3916831, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/f90af7b8dd05556ba7b4a3c99b3412d7?s=128&d=identicon&r=PG&f=1", "display_name": "Kenny", "link": "https://stackoverflow.com/users/3916831/kenny"}, "edited": false, "score": 0, "creation_date": 1574835792, "post_id": 59064031, "comment_id": 104367024, "body": "<a href=\"https://stackblitz.com/edit/angular-8ssnu9\" rel=\"nofollow noreferrer\">stackblitz.com/edit/angular-8ssnu9</a> --- @Kenny"}, {"owner": {"reputation": 793, "user_id": 11751221, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-wAmfQ0gXcQ0/AAAAAAAAAAI/AAAAAAAAAMc/yrbzq9ABi3w/photo.jpg?sz=128", "display_name": "pavan kumar", "link": "https://stackoverflow.com/users/11751221/pavan-kumar"}, "edited": false, "score": 0, "creation_date": 1574836222, "post_id": 59064031, "comment_id": 104367182, "body": "@ABC the example is not working are you sure its loading the table into the view and all imports and node modules are in place for the example to work fine?"}, {"owner": {"reputation": 674, "user_id": 10153626, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-6c9YXJEAnzw/AAAAAAAAAAI/AAAAAAAAAAA/AAnnY7pIghGpr9K0BV_LukZEisWugJqDmg/mo/photo.jpg?sz=128", "display_name": "ABC", "link": "https://stackoverflow.com/users/10153626/abc"}, "edited": false, "score": 0, "creation_date": 1574836786, "post_id": 59064031, "comment_id": 104367398, "body": "<a href=\"https://stackblitz.com/edit/angular-dlocv1?file=src%2Fapp%2Fapp.component.html\" rel=\"nofollow noreferrer\">stackblitz.com/edit/&hellip;</a>"}, {"owner": {"reputation": 674, "user_id": 10153626, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-6c9YXJEAnzw/AAAAAAAAAAI/AAAAAAAAAAA/AAnnY7pIghGpr9K0BV_LukZEisWugJqDmg/mo/photo.jpg?sz=128", "display_name": "ABC", "link": "https://stackoverflow.com/users/10153626/abc"}, "reply_to_user": {"reputation": 793, "user_id": 11751221, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-wAmfQ0gXcQ0/AAAAAAAAAAI/AAAAAAAAAMc/yrbzq9ABi3w/photo.jpg?sz=128", "display_name": "pavan kumar", "link": "https://stackoverflow.com/users/11751221/pavan-kumar"}, "edited": false, "score": 0, "creation_date": 1574836827, "post_id": 59064031, "comment_id": 104367409, "body": "@SriVenkataPavanKumarMHS"}, {"owner": {"reputation": 793, "user_id": 11751221, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-wAmfQ0gXcQ0/AAAAAAAAAAI/AAAAAAAAAMc/yrbzq9ABi3w/photo.jpg?sz=128", "display_name": "pavan kumar", "link": "https://stackoverflow.com/users/11751221/pavan-kumar"}, "edited": false, "score": 0, "creation_date": 1574837468, "post_id": 59064031, "comment_id": 104367647, "body": "its still not rendering the view, and am seeing errors in console, are you sure its working fine for you?"}, {"owner": {"reputation": 674, "user_id": 10153626, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-6c9YXJEAnzw/AAAAAAAAAAI/AAAAAAAAAAA/AAnnY7pIghGpr9K0BV_LukZEisWugJqDmg/mo/photo.jpg?sz=128", "display_name": "ABC", "link": "https://stackoverflow.com/users/10153626/abc"}, "reply_to_user": {"reputation": 793, "user_id": 11751221, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-wAmfQ0gXcQ0/AAAAAAAAAAI/AAAAAAAAAMc/yrbzq9ABi3w/photo.jpg?sz=128", "display_name": "pavan kumar", "link": "https://stackoverflow.com/users/11751221/pavan-kumar"}, "edited": false, "score": 0, "creation_date": 1574837588, "post_id": 59064031, "comment_id": 104367692, "body": "@SriVenkataPavanKumarMHS sorry sir, it&#39;s not working Im new"}, {"owner": {"reputation": 674, "user_id": 10153626, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-6c9YXJEAnzw/AAAAAAAAAAI/AAAAAAAAAAA/AAnnY7pIghGpr9K0BV_LukZEisWugJqDmg/mo/photo.jpg?sz=128", "display_name": "ABC", "link": "https://stackoverflow.com/users/10153626/abc"}, "reply_to_user": {"reputation": 793, "user_id": 11751221, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-wAmfQ0gXcQ0/AAAAAAAAAAI/AAAAAAAAAMc/yrbzq9ABi3w/photo.jpg?sz=128", "display_name": "pavan kumar", "link": "https://stackoverflow.com/users/11751221/pavan-kumar"}, "edited": false, "score": 0, "creation_date": 1574837634, "post_id": 59064031, "comment_id": 104367720, "body": "@SriVenkataPavanKumarMHS but on my vs its working"}, {"owner": {"reputation": 793, "user_id": 11751221, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-wAmfQ0gXcQ0/AAAAAAAAAAI/AAAAAAAAAMc/yrbzq9ABi3w/photo.jpg?sz=128", "display_name": "pavan kumar", "link": "https://stackoverflow.com/users/11751221/pavan-kumar"}, "edited": false, "score": 0, "creation_date": 1574837801, "post_id": 59064031, "comment_id": 104367784, "body": "@ABC at least post the columnDefs log (i mean consol.log(this.columnDefs) and post it in your question) it and post it here, there is a error in that field which is causing this error"}, {"owner": {"reputation": 674, "user_id": 10153626, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-6c9YXJEAnzw/AAAAAAAAAAI/AAAAAAAAAAA/AAnnY7pIghGpr9K0BV_LukZEisWugJqDmg/mo/photo.jpg?sz=128", "display_name": "ABC", "link": "https://stackoverflow.com/users/10153626/abc"}, "reply_to_user": {"reputation": 793, "user_id": 11751221, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-wAmfQ0gXcQ0/AAAAAAAAAAI/AAAAAAAAAMc/yrbzq9ABi3w/photo.jpg?sz=128", "display_name": "pavan kumar", "link": "https://stackoverflow.com/users/11751221/pavan-kumar"}, "edited": false, "score": 0, "creation_date": 1574838538, "post_id": 59064031, "comment_id": 104368104, "body": "@SriVenkataPavanKumarMHS done update sir."}, {"owner": {"reputation": 793, "user_id": 11751221, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-wAmfQ0gXcQ0/AAAAAAAAAAI/AAAAAAAAAMc/yrbzq9ABi3w/photo.jpg?sz=128", "display_name": "pavan kumar", "link": "https://stackoverflow.com/users/11751221/pavan-kumar"}, "edited": false, "score": 0, "creation_date": 1574842532, "post_id": 59064031, "comment_id": 104369935, "body": "In your code at what point are you setting PRN, PRN 1 and PRN 2 as headers?... and also from your object my understanding is that, Machine 1 is mapping to first column, Machine 2 to second column... and so on"}, {"owner": {"reputation": 674, "user_id": 10153626, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-6c9YXJEAnzw/AAAAAAAAAAI/AAAAAAAAAAA/AAnnY7pIghGpr9K0BV_LukZEisWugJqDmg/mo/photo.jpg?sz=128", "display_name": "ABC", "link": "https://stackoverflow.com/users/10153626/abc"}, "reply_to_user": {"reputation": 793, "user_id": 11751221, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-wAmfQ0gXcQ0/AAAAAAAAAAI/AAAAAAAAAMc/yrbzq9ABi3w/photo.jpg?sz=128", "display_name": "pavan kumar", "link": "https://stackoverflow.com/users/11751221/pavan-kumar"}, "edited": false, "score": 0, "creation_date": 1574842664, "post_id": 59064031, "comment_id": 104370007, "body": "Let us <a href=\"https://chat.stackoverflow.com/rooms/203162/discussion-between-abc-and-sri-venkata-pavan-kumar-mhs\">continue this discussion in chat</a>."}], "answers": [{"comments": [{"owner": {"reputation": 674, "user_id": 10153626, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-6c9YXJEAnzw/AAAAAAAAAAI/AAAAAAAAAAA/AAnnY7pIghGpr9K0BV_LukZEisWugJqDmg/mo/photo.jpg?sz=128", "display_name": "ABC", "link": "https://stackoverflow.com/users/10153626/abc"}, "edited": false, "score": 0, "creation_date": 1574838511, "post_id": 59064539, "comment_id": 104368097, "body": "how&#39;bout the date sir?"}, {"owner": {"reputation": 3411, "user_id": 2773184, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/uAzez.jpg?s=128&g=1", "display_name": "Mohammad Ali Rony", "link": "https://stackoverflow.com/users/2773184/mohammad-ali-rony"}, "reply_to_user": {"reputation": 674, "user_id": 10153626, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-6c9YXJEAnzw/AAAAAAAAAAI/AAAAAAAAAAA/AAnnY7pIghGpr9K0BV_LukZEisWugJqDmg/mo/photo.jpg?sz=128", "display_name": "ABC", "link": "https://stackoverflow.com/users/10153626/abc"}, "edited": false, "score": 0, "creation_date": 1574838755, "post_id": 59064539, "comment_id": 104368206, "body": "Do you have any date conditions?"}], "tags": [], "owner": {"reputation": 3411, "user_id": 2773184, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/uAzez.jpg?s=128&g=1", "display_name": "Mohammad Ali Rony", "link": "https://stackoverflow.com/users/2773184/mohammad-ali-rony"}, "is_accepted": false, "score": 0, "last_activity_date": 1574837394, "creation_date": 1574837394, "answer_id": 59064539, "question_id": 59064031, "link": "https://stackoverflow.com/questions/59064031/how-to-make-the-children-not-repeating-in-ag-grid-angular/59064539#59064539", "title": "How to make the children not repeating in ag grid (angular)", "body": "<p>try this</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const groupBy = (items, key) =&gt; items.reduce(\r\n  (result, item) =&gt; ({\r\n    ...result,\r\n    [item[key]]: [\r\n      ...(result[item[key]] || []),\r\n      item,\r\n    ],\r\n  }), \r\n  {},\r\n);\r\n var list= [{\r\n        'code': 'Machine 1', 'assetCode': 'PRN', 'assetCount': 1,\r\n        'date': '2019-01-18 00:00:00'\r\n      },\r\n      {\r\n        'code': 'Machine 1', 'assetCode': 'PRN', 'assetCount': 1,\r\n        'date': '2019-01-19 00:00:00'\r\n      },\r\n      {\r\n        'code': 'Machine 2', 'assetCode': 'PRN 1', 'assetCount': 3,\r\n        'date': '2019-01-20 00:00:00'\r\n      },\r\n      {\r\n        'code': 'Machine 3', 'assetCode': 'PRN', 'assetCount': 1,\r\n        'date': '2019-01-21 00:00:00'\r\n      },\r\n      {\r\n        'code': 'Machine 4', 'assetCode': 'PRN 1', 'assetCount': 3,\r\n        'date': '2019-01-22 00:00:00'\r\n      },\r\n      {\r\n        'code': 'Machine 5', 'assetCode': 'PRN 2', 'assetCount': 3,\r\n        'date': '2019-01-23 00:00:00'\r\n      }];\r\n      \r\nconst grouped = groupBy(list, 'code');\r\n    \r\n//console.log(grouped);\r\nlet newArr =[];\r\nfor (var key of Object.keys(grouped)) {\r\nlet obj ={};\r\nobj[\"code\"] =key;\r\ngrouped[key].forEach(function(element){\r\n  //console.log(element);\r\n  if (!obj.hasOwnProperty(element.assetCode)) \r\n  { \r\n    obj[element.assetCode] = 0;\r\n  }\r\n  obj[element.assetCode] = obj[element.assetCode] +element.assetCount;\r\n});\r\nnewArr.push(obj);\r\n\r\n    \r\n}\r\nconsole.log(newArr);</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 674, "user_id": 10153626, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-6c9YXJEAnzw/AAAAAAAAAAI/AAAAAAAAAAA/AAnnY7pIghGpr9K0BV_LukZEisWugJqDmg/mo/photo.jpg?sz=128", "display_name": "ABC", "link": "https://stackoverflow.com/users/10153626/abc"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 64, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1574837990, "creation_date": 1574834883, "last_edit_date": 1574837990, "question_id": 59064031, "link": "https://stackoverflow.com/questions/59064031/how-to-make-the-children-not-repeating-in-ag-grid-angular", "title": "How to make the children not repeating in ag grid (angular)", "body": "<p>I am trying to make the child should be 3 columns only it based on <code>assetCode</code>\nwhere <code>PRN</code>, <code>PRN1</code> and <code>PRN2</code> should be displayed.</p>\n\n<p>here's the code for list component</p>\n\n<p><strong><em>list.component.ts</em></strong></p>\n\n<pre><code>this.rowData.push(\n      {\n        'code': 'Machine 1', 'assetCode': 'PRN', 'assetCount': 1,\n        'date': '2019-01-18 00:00:00'\n      },\n      {\n        'code': 'Machine 1', 'assetCode': 'PRN', 'assetCount': 1,\n        'date': '2019-01-19 00:00:00'\n      },\n      {\n        'code': 'Machine 2', 'assetCode': 'PRN 1', 'assetCount': 3,\n        'date': '2019-01-20 00:00:00'\n      },\n      {\n        'code': 'Machine 3', 'assetCode': 'PRN', 'assetCount': 1,\n        'date': '2019-01-21 00:00:00'\n      },\n      {\n        'code': 'Machine 4', 'assetCode': 'PRN 1', 'assetCount': 3,\n        'date': '2019-01-22 00:00:00'\n      },\n      {\n        'code': 'Machine 5', 'assetCode': 'PRN 2', 'assetCount': 3,\n        'date': '2019-01-23 00:00:00'\n      },\n    );\n\n    this.rowData = this.rowData.filter((item: any) =&gt; {\n      return format(item.date, 'YYYY') === param;\n    });\n\n    const newData: any = [];\n    this.rowData.forEach((x: any) =&gt; {\n      const existing = newData.find((y: any) =&gt; format(y.date, 'YYYY-MM') === format(x.date, 'YYYY-MM')\n        &amp;&amp; y.assetCode === x.assetCode &amp;&amp; y.code === x.code);\n      if (existing) {\n        existing.assetCount += existing.assetCount;\n      } else {\n        newData.push(x);\n        this.rowData = newData;\n      }\n    });\n\n    this.columnDefs.push(\n      {\n        'headerName': 'Style/Machine',\n        'field': 'code',\n        'pinned': 'left',\n        'lockPosition': true\n      }\n    );\n\n    for (let i = 0; i &lt; 12; i++) {\n      const record = {\n        'headerName': this.monthNames[i].monthName,\n        'children': [\n          {\n            'headerName': 'Total', 'columnGroupShow': 'closed',\n            'valueGetter': ' ', 'headerClass': '', 'cellStyle': {}\n          }\n        ]\n      };\n\n      this.rowData.forEach((key: any) =&gt; {\n        if (this.monthNames[i].monthName === format(key.date, 'MMMM')) {\n          record.children.push(\n            {\n              'headerName': key.code, 'columnGroupShow': 'open', 'headerClass': 'header-text-center',\n              'cellStyle': { 'justify-content': 'center' },\n              'valueGetter': key.assetCount ? key.assetCount.toString() : null\n            }\n          );\n        }\n      });\n      this.columnDefs.push(record);\n    }\n    }\n</code></pre>\n\n<p><strong><em>output</em></strong></p>\n\n<p><a href=\"https://i.stack.imgur.com/Ambfy.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Ambfy.png\" alt=\"enter image description here\"></a></p>\n\n<p><strong><em>expected output</em></strong></p>\n\n<p><a href=\"https://i.stack.imgur.com/KRX7u.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/KRX7u.png\" alt=\"enter image description here\"></a></p>\n\n<p>thanks in advance for helping</p>\n\n<p><a href=\"https://i.stack.imgur.com/H8uRz.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/H8uRz.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["angular", "typescript"], "comments": [{"owner": {"reputation": 4016, "user_id": 2202748, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/9tSQE.jpg?s=128&g=1", "display_name": "Joel Joseph", "link": "https://stackoverflow.com/users/2202748/joel-joseph"}, "edited": false, "score": 0, "creation_date": 1574835126, "post_id": 59063976, "comment_id": 104366745, "body": "please add the code that you have tried to your question"}, {"owner": {"reputation": 418, "user_id": 9399886, "user_type": "registered", "profile_image": "https://graph.facebook.com/817910161726880/picture?type=large", "display_name": "Hiras Haris", "link": "https://stackoverflow.com/users/9399886/hiras-haris"}, "edited": false, "score": 0, "creation_date": 1574835992, "post_id": 59063976, "comment_id": 104367105, "body": "a working demo would be more helpful!"}], "owner": {"reputation": 11, "user_id": 5506639, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/482c9fea11ebc4f124fb8bd5d7c091f5?s=128&d=identicon&r=PG&f=1", "display_name": "php_developer_k", "link": "https://stackoverflow.com/users/5506639/php-developer-k"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 50, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1574835583, "creation_date": 1574834612, "last_edit_date": 1574835583, "question_id": 59063976, "link": "https://stackoverflow.com/questions/59063976/how-to-implement-clickoutside-angular-directive-on-ngfor-elements", "title": "How to implement clickOutside Angular directive on ngFor Elements?", "body": "<p>I am working on angular7. I have a DOM of *ngFor Element. </p>\n\n<p>My scenario is When I click/mouseover on any one element from that loop it will hide other elements and on mouse out it will show again. </p>\n\n<p>My problem is when I click on any element its hiding other elements, but if I click on the outside of that DOM I need to show all elements. </p>\n\n<p>I tried using click outside the directive of angular. but because of elements are in the loop , that function gets called multiple times.</p>\n\n<p>Please, can anyone help me to solve this?</p>\n"}, {"tags": ["angular", "typescript", "angular6", "angular7", "angular8"], "comments": [{"owner": {"reputation": 3015, "user_id": 8318091, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/S9Vn3.jpg?s=128&g=1", "display_name": "Saurabh Yadav", "link": "https://stackoverflow.com/users/8318091/saurabh-yadav"}, "edited": false, "score": 0, "creation_date": 1574835751, "post_id": 59063967, "comment_id": 104367005, "body": "What you have tried so far ?"}, {"owner": {"reputation": 383, "user_id": 9411629, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6ad40a204a9b33cd546209c4bb729b85?s=128&d=identicon&r=PG&f=1", "display_name": "Angel Reji", "link": "https://stackoverflow.com/users/9411629/angel-reji"}, "reply_to_user": {"reputation": 3015, "user_id": 8318091, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/S9Vn3.jpg?s=128&g=1", "display_name": "Saurabh Yadav", "link": "https://stackoverflow.com/users/8318091/saurabh-yadav"}, "edited": false, "score": 0, "creation_date": 1574836222, "post_id": 59063967, "comment_id": 104367183, "body": "Actually I got stuck to get the single id  by selecting the row. If  I got that, I can pass the id with API. How I get that??"}, {"owner": {"reputation": 4016, "user_id": 2202748, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/9tSQE.jpg?s=128&g=1", "display_name": "Joel Joseph", "link": "https://stackoverflow.com/users/2202748/joel-joseph"}, "edited": false, "score": 0, "creation_date": 1574836429, "post_id": 59063967, "comment_id": 104367256, "body": "if you can add your code here or create a stackblitz it would help"}], "answers": [{"tags": [], "owner": {"reputation": 13, "user_id": 12232349, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mB28fY7pXf1lFS4TTAmFXOgbfKBTv-CplZ5S14G=k-s128", "display_name": "Rahil Momin", "link": "https://stackoverflow.com/users/12232349/rahil-momin"}, "is_accepted": false, "score": 0, "last_activity_date": 1574836407, "creation_date": 1574836407, "answer_id": 59064333, "question_id": 59063967, "link": "https://stackoverflow.com/questions/59063967/how-to-get-checked-id-from-checkbox-and-pass-selected-id-in-to-url-by-query-para/59064333#59064333", "title": "How to get checked id from checkbox and pass selected id in to url by query param and fetch in other component?", "body": "<p>You can pass ids in query params of URL.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>constructor(\r\n  private router: Router,\r\n  private route: ActivatedRoute,\r\n) {}\r\n\r\nchangeQuery() {\r\n  this.router.navigate(['.'], { relativeTo: this.route, queryParams: { ... }});\r\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p><strong>How I fetch the id by selecting the checkbox?</strong></p>\n\n<p>You can use </p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>check(values, id){\r\n  console.log(values.currentTarget.checked, id);\r\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;tr *ngFor=\"let test of tests\"  &gt;\r\n  &lt;td&gt;\r\n    &lt;input type=\"checkbox\" (change)=\"check($event, test.id)\" [(ngModel)]=\"test.selected\" &gt; {{test.name}} - {{test.selected}}\r\n  &lt;/td&gt;\r\n&lt;/tr&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p><strong>How to print the selected rows using angular 8??</strong></p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;div *ngFor=\"let row of selectedRows\"&gt;\r\n  &lt;lable&gt;row.col1&lt;/lable&gt;\r\n  &lt;lable&gt;row.col2&lt;/lable&gt;\r\n&lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": [], "owner": {"reputation": 3015, "user_id": 8318091, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/S9Vn3.jpg?s=128&g=1", "display_name": "Saurabh Yadav", "link": "https://stackoverflow.com/users/8318091/saurabh-yadav"}, "is_accepted": false, "score": 2, "last_activity_date": 1574841581, "last_edit_date": 1574841581, "creation_date": 1574839259, "answer_id": 59064992, "question_id": 59063967, "link": "https://stackoverflow.com/questions/59063967/how-to-get-checked-id-from-checkbox-and-pass-selected-id-in-to-url-by-query-para/59064992#59064992", "title": "How to get checked id from checkbox and pass selected id in to url by query param and fetch in other component?", "body": "<p><a href=\"https://stackblitz.com/edit/angular-b98yt3\" rel=\"nofollow noreferrer\">Working demo</a></p>\n\n<p>in Class file</p>\n\n<p>data:</p>\n\n<pre><code>   list: any = [\n        {id:1, 'name': 'aaa', 'age': 22, 'date': '12-06-2019'},\n        {id:2, 'name': 'bbb', 'age': 23, 'date': '13-06-2019'},\n        {id:3, 'name': 'ccc', 'age': 25, 'date': '21-09-2019'}\n   ];\n</code></pre>\n\n<p>// Store selected id in array</p>\n\n<pre><code>checkedItems: any = [];\n</code></pre>\n\n<p>// function to handle when user check or uncheck in checkbox</p>\n\n<pre><code> onChecked(item: any, event: any){\n    let {checked, value} = event.target;\n    if(checked) {\n      this.checkedItems.push(value);\n    } else {\n      let index = this.checkedItems.indexOf(value);\n      if (index !== -1) this.checkedItems.splice(index, 1);\n    }\n  }\n</code></pre>\n\n<p>To pass selected item to the query param</p>\n\n<pre><code> this.router.navigate(['/other'], {relativeTo: this.route, queryParams: { id: this.checkedItems.join() } });\n</code></pre>\n\n<p>Template file:</p>\n\n<p>Iterate on list and generate a table with checkbox and bind <code>onChange</code> Event with its handler name <code>onChecked</code></p>\n\n<pre><code> &lt;ng-container *ngFor=\"let item of list\"&gt;\n      &lt;tr&gt;\n        &lt;td&gt;\n          &lt;input \n            type=\"checkbox\" \n            [value]=\"item.id\" \n            (change)=\"onChecked(item, $event)\"&gt;\n        &lt;/td&gt;\n        &lt;td&gt;{{item.name}}&lt;/td&gt;\n        &lt;td&gt;{{item.age}}&lt;/td&gt;\n        &lt;td&gt;{{item.date}}&lt;/td&gt;\n      &lt;/tr&gt;\n    &lt;/ng-container&gt;\n</code></pre>\n"}], "owner": {"reputation": 383, "user_id": 9411629, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6ad40a204a9b33cd546209c4bb729b85?s=128&d=identicon&r=PG&f=1", "display_name": "Angel Reji", "link": "https://stackoverflow.com/users/9411629/angel-reji"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 620, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1574865883, "creation_date": 1574834571, "last_edit_date": 1574865883, "question_id": 59063967, "link": "https://stackoverflow.com/questions/59063967/how-to-get-checked-id-from-checkbox-and-pass-selected-id-in-to-url-by-query-para", "title": "How to get checked id from checkbox and pass selected id in to url by query param and fetch in other component?", "body": "<p>I have a table with multiple fields in the table,</p>\n\n<p>And I want to use checkbox to select the rows.</p>\n\n<pre><code>name     Age      date\n-----------------------\naaa      22       12-06-2019\nbbb      23       13-06-2019\nccc      24       21-09-2019\n</code></pre>\n\n<p>Scenario:</p>\n\n<p>1.select the rows using the checkbox</p>\n\n<p>2.While selecting the i have to fetch the id of that row(each row have id)</p>\n\n<p>3.And I want to pass the url as(<a href=\"http://url/1,2,3\" rel=\"nofollow noreferrer\">http://url/1,2,3</a>) where the 1,2,3 are the id's of multiple fields.</p>\n\n<p>4.Then I have to print that values.</p>\n\n<p>Questions:</p>\n\n<ol>\n<li><p>How I fetch the id by selecting the checkbox?</p></li>\n<li><p>How to print the selected rows using angular 8??</p></li>\n</ol>\n\n<p>Can anybody help me??</p>\n"}, {"tags": ["typescript", "swagger", "autorest"], "owner": {"reputation": 11, "user_id": 11123420, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-hEq24qpXIAo/AAAAAAAAAAI/AAAAAAAAFNg/Na9nIy4AXoc/photo.jpg?sz=128", "display_name": "Muhammad Mudassar", "link": "https://stackoverflow.com/users/11123420/muhammad-mudassar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 33, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1574833003, "creation_date": 1574833003, "question_id": 59063669, "link": "https://stackoverflow.com/questions/59063669/how-to-create-typescript-client-from-swagger-json-file-using-autorest", "title": "How to create Typescript client from swagger.json file using autorest?", "body": "<p>I am trying to create typescript client from swagger.json file using autorest but failed!\nCould anyone share the guid??\nIf anyone already has generated client then please share with me!\nThanks</p>\n"}, {"tags": ["angular", "typescript", "angular-material", "angular7"], "comments": [{"owner": {"reputation": 226, "user_id": 4832558, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pLb9W.jpg?s=128&g=1", "display_name": "dnunez32", "link": "https://stackoverflow.com/users/4832558/dnunez32"}, "edited": false, "score": 0, "creation_date": 1574832088, "post_id": 59063436, "comment_id": 104365712, "body": "Could we take a look at how you&#39;re declaring orderLine in your ts? Are you utilizing a FormGroup() w/ Form Controls?"}, {"owner": {"user_type": "does_not_exist", "display_name": "user12425844"}, "reply_to_user": {"reputation": 226, "user_id": 4832558, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pLb9W.jpg?s=128&g=1", "display_name": "dnunez32", "link": "https://stackoverflow.com/users/4832558/dnunez32"}, "edited": false, "score": 1, "creation_date": 1574832426, "post_id": 59063436, "comment_id": 104365836, "body": "hi @dnunez32 we are not using formgroup,  I tried it both ways with model member null ? and not null in declaration"}], "answers": [{"comments": [{"owner": {"reputation": 3974, "user_id": 9764133, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qcf47.jpg?s=128&g=1", "display_name": "ganesh045", "link": "https://stackoverflow.com/users/9764133/ganesh045"}, "edited": false, "score": 0, "creation_date": 1574832721, "post_id": 59063495, "comment_id": 104365934, "body": "what if there is no field (price) is presented in the orderLine object..?"}], "tags": [], "owner": {"reputation": 378, "user_id": 9019442, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b011a3cdd33bd3aaa5d09c127307257d?s=128&d=identicon&r=PG&f=1", "display_name": "Devanshi Mishra", "link": "https://stackoverflow.com/users/9019442/devanshi-mishra"}, "is_accepted": false, "score": 0, "last_activity_date": 1574832571, "last_edit_date": 1574832571, "creation_date": 1574832142, "answer_id": 59063495, "question_id": 59063436, "link": "https://stackoverflow.com/questions/59063436/setting-values-of-input-fields-with-possible-null-in-angular-7/59063495#59063495", "title": "Setting values of Input fields with possible null in Angular 7", "body": "<p>You need to split the two-way-binding to one data and one event binding :-</p>\n\n<pre><code>[ngModel] = \"orderLine?.price\"\n(ngModelChange) = \"orderLine.price = $event\"\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 3340, "user_id": 9722122, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/adlMx.png?s=128&g=1", "display_name": "Mustahsan", "link": "https://stackoverflow.com/users/9722122/mustahsan"}, "is_accepted": false, "score": 0, "last_activity_date": 1574832154, "creation_date": 1574832154, "answer_id": 59063500, "question_id": 59063436, "link": "https://stackoverflow.com/questions/59063436/setting-values-of-input-fields-with-possible-null-in-angular-7/59063500#59063500", "title": "Setting values of Input fields with possible null in Angular 7", "body": "<p>You cannot use <code>?.</code> inside ngModel two-way binding, perhaps you can use ternary operator:</p>\n\n<pre><code>&lt;input matInput placeholder = \"Price\" [(ngModel)]=\"orderLine? orderLine.price: null\"&gt;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 3974, "user_id": 9764133, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qcf47.jpg?s=128&g=1", "display_name": "ganesh045", "link": "https://stackoverflow.com/users/9764133/ganesh045"}, "is_accepted": false, "score": 0, "last_activity_date": 1574832220, "creation_date": 1574832220, "answer_id": 59063518, "question_id": 59063436, "link": "https://stackoverflow.com/questions/59063436/setting-values-of-input-fields-with-possible-null-in-angular-7/59063518#59063518", "title": "Setting values of Input fields with possible null in Angular 7", "body": "<p>we can not use ternary operator <code>?</code> in two way binding</p>\n\n<pre><code>&lt;input matInput placeholder = \"Price\" [(ngModel)]=\"orderLine?.price\"&gt;\n</code></pre>\n\n<p>if your <code>orderLine</code> object something like below then <strong>you don't need to use</strong> this operator...</p>\n\n<pre><code>    orderLine= new OrderLine();\n\n    class OrderLine {\n         ...\n         price: number;\n         ...\n    }\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 3974, "user_id": 9764133, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qcf47.jpg?s=128&g=1", "display_name": "ganesh045", "link": "https://stackoverflow.com/users/9764133/ganesh045"}, "edited": false, "score": 0, "creation_date": 1574832704, "post_id": 59063567, "comment_id": 104365926, "body": "what if there is no field <code>(price)</code> is presented in the orderLine object..?"}, {"owner": {"user_type": "does_not_exist", "display_name": "user12425844"}, "edited": false, "score": 0, "creation_date": 1574835452, "post_id": 59063567, "comment_id": 104366870, "body": "whats the difference between Mutsahen answer and yours? both seem good by the way, maybe just different flavors of doing things,"}, {"owner": {"reputation": 223, "user_id": 6629519, "user_type": "registered", "accept_rate": 0, "profile_image": "https://graph.facebook.com/10205429940501634/picture?type=large", "display_name": "Sudeep Sagar", "link": "https://stackoverflow.com/users/6629519/sudeep-sagar"}, "reply_to_user": {"reputation": 3974, "user_id": 9764133, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qcf47.jpg?s=128&g=1", "display_name": "ganesh045", "link": "https://stackoverflow.com/users/9764133/ganesh045"}, "edited": false, "score": 0, "creation_date": 1574836744, "post_id": 59063567, "comment_id": 104367383, "body": "@ganesh045 put if condition to check whether your field exist or not. If your field exist then this will work otherwise it&#39;ll skip. Please refer this, you&#39;ll find your answer:: <a href=\"https://stackoverflow.com/questions/37111005/how-to-check-empty-object-in-angular-2-template-using-ngif\" title=\"how to check empty object in angular 2 template using ngif\">stackoverflow.com/questions/37111005/&hellip;</a>"}], "tags": [], "owner": {"reputation": 223, "user_id": 6629519, "user_type": "registered", "accept_rate": 0, "profile_image": "https://graph.facebook.com/10205429940501634/picture?type=large", "display_name": "Sudeep Sagar", "link": "https://stackoverflow.com/users/6629519/sudeep-sagar"}, "is_accepted": true, "score": 2, "last_activity_date": 1574832444, "creation_date": 1574832444, "answer_id": 59063567, "question_id": 59063436, "link": "https://stackoverflow.com/questions/59063436/setting-values-of-input-fields-with-possible-null-in-angular-7/59063567#59063567", "title": "Setting values of Input fields with possible null in Angular 7", "body": "<p>Please split it into two parts as these two are part of ngModel::</p>\n\n<pre><code>[ngModel]=\"orderLine?.price\" (ngModelChange)=\"orderLine.price = $event\"\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 11, "user_id": 12319629, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/25ea6a13cb53e7e271a134ea85666e64?s=128&d=identicon&r=PG&f=1", "display_name": "Avtar", "link": "https://stackoverflow.com/users/12319629/avtar"}, "is_accepted": false, "score": 0, "last_activity_date": 1574839272, "last_edit_date": 1574839272, "creation_date": 1574834715, "answer_id": 59063995, "question_id": 59063436, "link": "https://stackoverflow.com/questions/59063436/setting-values-of-input-fields-with-possible-null-in-angular-7/59063995#59063995", "title": "Setting values of Input fields with possible null in Angular 7", "body": "<p>You need to split two-way binding.</p>\n\n<pre><code>[ngModel]=\"orderLine?.price\" (ngModelChange)=\"orderLine.price = $event\"\n</code></pre>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user12425844"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1264, "favorite_count": 0, "accepted_answer_id": 59063567, "answer_count": 5, "score": 1, "last_activity_date": 1589664013, "creation_date": 1574831785, "last_edit_date": 1574832374, "question_id": 59063436, "link": "https://stackoverflow.com/questions/59063436/setting-values-of-input-fields-with-possible-null-in-angular-7", "title": "Setting values of Input fields with possible null in Angular 7", "body": "<p>I am using following to place values in an Input field.\n<a href=\"https://stackoverflow.com/questions/51096781/setting-values-of-input-fields-with-angular-6\">Setting values of input fields with Angular 6</a></p>\n\n<pre><code>&lt;input matInput placeholder = \"ProductName\" [(ngModel)]=\"orderLine.productname\"&gt;\n</code></pre>\n\n<p>However, sometimes the value maybe null. When placing a question mark ? below, we receive the following error, how does someone place possible blank null value in input, or is not possible?</p>\n\n<pre><code>&lt;input matInput placeholder = \"ProductName\" [(ngModel)]=\"orderLine?.productname\"&gt;\n</code></pre>\n\n<blockquote>\n  <p>The '?.' operator cannot be used in the assignment at column in [[orderLine?.productname=$event]</p>\n</blockquote>\n"}, {"tags": ["c#", "angular", "typescript", ".net-core", "key-value"], "answers": [{"comments": [{"owner": {"reputation": 10525, "user_id": 1186050, "user_type": "registered", "accept_rate": 24, "profile_image": "https://www.gravatar.com/avatar/1aeaf46e73772e9f9c7784bf0ee0705c?s=128&d=identicon&r=PG", "display_name": "user1186050", "link": "https://stackoverflow.com/users/1186050/user1186050"}, "edited": false, "score": 0, "creation_date": 1574833677, "post_id": 59063517, "comment_id": 104366235, "body": "yes I can see this from the Angular example, but what I need to know is how to get the keyVal {} from c#. Currently I can serialize a dict but that leaves me with a json object (which is what I need) inside a string. So now I have to remove the outer parentheses."}, {"owner": {"reputation": 10525, "user_id": 1186050, "user_type": "registered", "accept_rate": 24, "profile_image": "https://www.gravatar.com/avatar/1aeaf46e73772e9f9c7784bf0ee0705c?s=128&d=identicon&r=PG", "display_name": "user1186050", "link": "https://stackoverflow.com/users/1186050/user1186050"}, "edited": false, "score": 0, "creation_date": 1574834414, "post_id": 59063517, "comment_id": 104366499, "body": "I got it. JSON.parse(string)"}], "tags": [], "owner": {"reputation": 3975, "user_id": 6183113, "user_type": "registered", "profile_image": "https://graph.facebook.com/1248564385154034/picture?type=large", "display_name": "Chanaka Weerasinghe", "link": "https://stackoverflow.com/users/6183113/chanaka-weerasinghe"}, "is_accepted": false, "score": 0, "last_activity_date": 1574832210, "creation_date": 1574832210, "answer_id": 59063517, "question_id": 59063430, "link": "https://stackoverflow.com/questions/59063430/what-type-do-i-need-to-create-to-pass-a-json-key-value-pair-back-to-angular-from/59063517#59063517", "title": "What type do I need to create to pass a json key value pair back to angular from .Net", "body": "<p>Here is <a href=\"https://stackblitz.com/edit/angular-acrncn?file=src/app/app.component.ts\" rel=\"nofollow noreferrer\">working Example</a> \n.ts</p>\n\n<pre><code> keyVal = {\n    1: \"foo\",\n    2: \"chanaka\",\n  };\n</code></pre>\n\n<p>.html</p>\n\n<pre><code>&lt;div *ngFor=\"let item of keyVal | keyvalue\"&gt;\n      {{item.key}}:{{item.value}}\n&lt;/div&gt;\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 3153, "user_id": 1429432, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/d54fcc6f3d6d39688c69999f846e427a?s=128&d=identicon&r=PG", "display_name": "Yousha Aleayoub", "link": "https://stackoverflow.com/users/1429432/yousha-aleayoub"}, "reply_to_user": {"reputation": 3755, "user_id": 1940850, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zqElV.png?s=128&g=1", "display_name": "karel", "link": "https://stackoverflow.com/users/1940850/karel"}, "edited": false, "score": 0, "creation_date": 1574840976, "post_id": 59063939, "comment_id": 104369230, "body": "@karel still a <b>low quality</b> self-<code>answer</code>."}], "tags": [], "owner": {"reputation": 10525, "user_id": 1186050, "user_type": "registered", "accept_rate": 24, "profile_image": "https://www.gravatar.com/avatar/1aeaf46e73772e9f9c7784bf0ee0705c?s=128&d=identicon&r=PG", "display_name": "user1186050", "link": "https://stackoverflow.com/users/1186050/user1186050"}, "is_accepted": false, "score": 0, "last_activity_date": 1574834456, "creation_date": 1574834456, "answer_id": 59063939, "question_id": 59063430, "link": "https://stackoverflow.com/questions/59063430/what-type-do-i-need-to-create-to-pass-a-json-key-value-pair-back-to-angular-from/59063939#59063939", "title": "What type do I need to create to pass a json key value pair back to angular from .Net", "body": "<p>Here is what I did to remove the \"\"\nvar obj - JSON.parse(string)</p>\n"}], "owner": {"reputation": 10525, "user_id": 1186050, "user_type": "registered", "accept_rate": 24, "profile_image": "https://www.gravatar.com/avatar/1aeaf46e73772e9f9c7784bf0ee0705c?s=128&d=identicon&r=PG", "display_name": "user1186050", "link": "https://stackoverflow.com/users/1186050/user1186050"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 63, "favorite_count": 0, "answer_count": 2, "score": -1, "last_activity_date": 1574834456, "creation_date": 1574831719, "question_id": 59063430, "link": "https://stackoverflow.com/questions/59063430/what-type-do-i-need-to-create-to-pass-a-json-key-value-pair-back-to-angular-from", "title": "What type do I need to create to pass a json key value pair back to angular from .Net", "body": "<p>I'm trying to use a Angular <a href=\"https://angular.io/api/common/KeyValuePipe\" rel=\"nofollow noreferrer\">keyvaluepair</a> and I want to pass this below to my angular type attorneys: { [key: number]: string };</p>\n\n<blockquote>\n  <p>{2: 'foo', 1: 'bar'};</p>\n</blockquote>\n\n<p>back to my UI from the controller.</p>\n\n<p>Here is my controller:</p>\n\n<pre><code>    [HttpGet(\"check/{matter}\")]\n    public async Task&lt;IActionResult&gt; SearchMatter(string matter)\n    {\n        var exists =  await _cmpRepo.CheckMatter(matter);\n\n        if (!exists)\n            return BadRequest(\"error\");\n\n        var claims = await _autoRepo.GetClaimsByMatter(matter);\n\n        var attorneys = await _autoRepo.GetAttorneys();\n\n        return Ok(new ClaimInfo { Names = claims, Attorneys = attorneys });\n    }\n</code></pre>\n\n<p>Here is ClaimInfo.cs</p>\n\n<pre><code>public class ClaimInfo\n{\n    public IEnumerable&lt;string&gt; Names { get; set; }\n    public IEnumerable&lt;KeyValuePair&lt;int, string&gt;&gt; Attorneys { get; set; }\n}\n</code></pre>\n"}, {"tags": ["node.js", "typescript", "stripe-payments"], "answers": [{"tags": [], "owner": {"reputation": 69, "user_id": 947261, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9f741480ad88f4d87c3aa68a20fdc27d?s=128&d=identicon&r=PG", "display_name": "Manu", "link": "https://stackoverflow.com/users/947261/manu"}, "is_accepted": true, "score": 2, "last_activity_date": 1574833956, "creation_date": 1574833956, "answer_id": 59063839, "question_id": 59063425, "link": "https://stackoverflow.com/questions/59063425/cannot-resume-a-cancelled-stripe-subscription/59063839#59063839", "title": "Cannot resume a cancelled stripe subscription?", "body": "<p>I want to tell you on the below two lines you are using. I think you are using these one after the another immediately at the same time</p>\n\n<pre><code> // Update to cancel at the end of the period\nawait stripe.subscriptions.update(subscription.id, { cancel_at_period_end: true });\n\n// Cancel the subscription\nawait stripe.subscriptions.del(subscription.id)\n</code></pre>\n\n<p>You have to use below line only if you want to cancel the subscription after the end of current billing cycle.</p>\n\n<pre><code>  await stripe.subscriptions.update(subscription.id, { cancel_at_period_end: true });\n</code></pre>\n\n<p>In above statement only, if you want to reactivate before the end of current billing cycle then you can reactivate the subscription by updating the value of cancel_at_period_end to false. Keep in mind that subscription has not yet reached the end of the billing period. Only then it can be reactivated otherwise you need to create a new subscription for the user.</p>\n\n<p>You have to use the below line only, if you want to cancel the subscription immediately. You can not reactivate the subscription. You need to create a new subscription for the user.</p>\n\n<pre><code>await stripe.subscriptions.del(subscription.id)\n</code></pre>\n\n<p>For more information you can read on this.</p>\n\n<p><a href=\"https://stripe.com/docs/billing/subscriptions/canceling-pausing#reactivating-canceled-subscriptions\" rel=\"nofollow noreferrer\">https://stripe.com/docs/billing/subscriptions/canceling-pausing#reactivating-canceled-subscriptions</a></p>\n"}], "owner": {"reputation": 1152, "user_id": 521097, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/5033feb257f3472c43bd6c45eb3202dd?s=128&d=identicon&r=PG", "display_name": "mikeysee", "link": "https://stackoverflow.com/users/521097/mikeysee"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 497, "favorite_count": 1, "accepted_answer_id": 59063839, "answer_count": 1, "score": 1, "last_activity_date": 1574833956, "creation_date": 1574831704, "question_id": 59063425, "link": "https://stackoverflow.com/questions/59063425/cannot-resume-a-cancelled-stripe-subscription", "title": "Cannot resume a cancelled stripe subscription?", "body": "<p>I am trying to implement cancelled stripe subscription resuming. I am following the following guide: <a href=\"https://stripe.com/docs/billing/subscriptions/canceling-pausing\" rel=\"nofollow noreferrer\">https://stripe.com/docs/billing/subscriptions/canceling-pausing</a></p>\n\n<p>My cancel code looks like this:</p>\n\n<pre><code>// Update to cancel at the end of the period\nawait stripe.subscriptions.update(subscription.id, { cancel_at_period_end: true });\n\n// Cancel the subscription\nawait stripe.subscriptions.del(subscription.id)\n</code></pre>\n\n<p>Then I resume with the following:</p>\n\n<pre><code>// Grab the subscription\nconst subscription = await stripe.subscriptions.retrieve(subId);\n\n// Resume\nawait stripe.subscriptions.update(subscription .id, {\n      cancel_at_period_end: false,\n      items: [{ id: subscription.items.data[0].id, plan: subscription.plan.id }],\n    });\n</code></pre>\n\n<p>But the error I get is:</p>\n\n<blockquote>\n  <p>StripeInvalidRequestError: No such subscription: sub_GFmbrVQihHoD6P</p>\n</blockquote>\n\n<p>I am running these in an integration test one after the other immediately.. I dont know if this has something to do with it or not.</p>\n\n<p>Any ideas?</p>\n"}, {"tags": ["angular", "typescript", "button", "angular-material", "nested-loops"], "answers": [{"tags": [], "owner": {"reputation": 3975, "user_id": 6183113, "user_type": "registered", "profile_image": "https://graph.facebook.com/1248564385154034/picture?type=large", "display_name": "Chanaka Weerasinghe", "link": "https://stackoverflow.com/users/6183113/chanaka-weerasinghe"}, "is_accepted": false, "score": 0, "last_activity_date": 1574838900, "last_edit_date": 1574838900, "creation_date": 1574835786, "answer_id": 59064217, "question_id": 59063347, "link": "https://stackoverflow.com/questions/59063347/creating-dynamic-buttons-in-angular-material/59064217#59064217", "title": "Creating dynamic buttons in angular material", "body": "<blockquote>\n  <p>Here is <a href=\"https://stackblitz.com/edit/angular-material-bejzb5?file=app/app.component.html\" rel=\"nofollow noreferrer\">working Example</a></p>\n</blockquote>\n\n<pre><code>  &lt;button md-raised-button *ngFor=\"let item of myButtons; let i = index\" \n          (click)=\"changeActive(i)\" #disable&gt;{{item.name}} Basic&lt;/button&gt;\n</code></pre>\n\n<p>.ts</p>\n\n<pre><code>    myButtons = [\n    { name: 'Button 1' },\n    { name: 'Button 2' },\n    { name: 'Button 3' }\n  ];\n\n  lastClickedIndex;\n  changeActive(i) {\n    console.log(\"clicked \",i)\n    this.lastClickedIndex = i;\n  }\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 126, "user_id": 8091215, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8aa2dc0674ffff220211ae42e9304f76?s=128&d=identicon&r=PG&f=1", "display_name": "Swapnil Patil", "link": "https://stackoverflow.com/users/8091215/swapnil-patil"}, "is_accepted": false, "score": 0, "last_activity_date": 1574838747, "last_edit_date": 1574838747, "creation_date": 1574836526, "answer_id": 59064358, "question_id": 59063347, "link": "https://stackoverflow.com/questions/59063347/creating-dynamic-buttons-in-angular-material/59064358#59064358", "title": "Creating dynamic buttons in angular material", "body": "<p><a href=\"https://stackblitz.com/edit/angular-ppdm6p\" rel=\"nofollow noreferrer\">working example</a></p>\n\n<p>Add below code inside the component file</p>\n\n<pre><code>selected:any;\nfloorSelected:any;\nblock:any;\nchangeBlock(block){\n   if(block){\n     this.block = block;\n   }\n }\nselectedFloor(floor,block){\n  if(floor){\n    this.selected = floor;\n    this.floorSelected = block+'L'+floor;\n  }\n  console.log( this.floorSelected );\n}\n</code></pre>\n\n<p>And make changes in the HTML page as follows,</p>\n\n<pre><code>&lt;div&gt;\n   &lt;button mat-flat-button [ngClass]=\"this.selected == i ? 'tab_selected' : 'tab_unselected'\" (click)=\"changeBlock('B')\"&gt;B&lt;/button&gt;\n   &lt;button mat-flat-button [ngClass]=\"this.selected == i ? 'tab_selected' : 'tab_unselected'\" (click)=\"changeBlock('D')\"&gt;D&lt;/button&gt;\n&lt;/div&gt;\n\n&lt;div *ngIf=\"block\"&gt;\n   &lt;div *ngFor=\"let i of [1,2,3,4,5]\" &gt;\n      &lt;button mat-flat-button [ngClass]=\"this.selected == i ? 'tab_selected' : 'tab_unselected'\" (click)=\"selectedFloor(i,block)\"&gt;{{block}}-L{{i}}&lt;/button&gt;\n   &lt;/div&gt;\n&lt;/div&gt;\n</code></pre>\n"}], "owner": {"reputation": 1043, "user_id": 8957025, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a90194ad8c6034232409a5d01a7bdaaa?s=128&d=identicon&r=PG&f=1", "display_name": "cvg", "link": "https://stackoverflow.com/users/8957025/cvg"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 827, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1574838900, "creation_date": 1574831272, "question_id": 59063347, "link": "https://stackoverflow.com/questions/59063347/creating-dynamic-buttons-in-angular-material", "title": "Creating dynamic buttons in angular material", "body": "<p>I am creating an angular application. I have created 5 mat flat buttons using angular material.\ncode</p>\n\n<pre><code>&lt;button mat-flat-button [ngClass]=\"this.selected == 1 ? 'tab_selected' : 'tab_unselected'\" (click)=\"change(1)\"&gt;B-L1&lt;/button&gt;\n&lt;button mat-flat-button [ngClass]=\"this.selected == 2 ? 'tab_selected' : 'tab_unselected'\" (click)=\"change(2)\"&gt;B-L2&lt;/button&gt;\n&lt;button mat-flat-button [ngClass]=\"this.selected == 3 ? 'tab_selected' : 'tab_unselected'\" (click)=\"change(3)\"&gt;B-L3&lt;/button&gt;\n&lt;button mat-flat-button [ngClass]=\"this.selected == 4 ? 'tab_selected' : 'tab_unselected'\" (click)=\"change(4)\"&gt;B-L4&lt;/button&gt;\n&lt;button mat-flat-button [ngClass]=\"this.selected == 5 ? 'tab_selected' : 'tab_unselected'\" (click)=\"change(5)\"&gt;B-FC&lt;/button&gt;\n</code></pre>\n\n<p>When clicked on each button, a function is called from .ts file. code</p>\n\n<pre><code>change(n) {\n    this.selected = n;\n    if (n == 3){\n      this.floor = 'BL3'\n    }\n    else if (n==4){\n      this.floor  = 'BL4'\n    }\n    else if (n==2){\n      this.floor  = 'BL2'\n    }\n    else if(n==1){\n      this.floor  = 'BL1'\n    }\n    else if(n==5){\n      this.floor  = 'BFC'\n    }\n\n    console.log('changing floor to' + this.floor)\n    this.getData(this.floor)\n}\n</code></pre>\n\n<p><code>this.getData(this.floor)</code> makes an api call and gets data for that floor. Here B is a block, and L1,L2,L3.. are floors in that block. </p>\n\n<p>I want to add a new block D which has L1,L2,L3,L4 floors. I can add more buttons for DL1,DL2,DL3 by adding more buttons manually. But how can i do it dynamically like if I select a master button B or D and floors within that block are displayed with the current functionality not being lost?</p>\n\n<p>Thanks.</p>\n"}, {"tags": ["javascript", "reactjs", "typescript"], "comments": [{"owner": {"reputation": 4912, "user_id": 6162420, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/31F2B.jpg?s=128&g=1", "display_name": "Akhil Aravind", "link": "https://stackoverflow.com/users/6162420/akhil-aravind"}, "edited": false, "score": 0, "creation_date": 1574830951, "post_id": 59063248, "comment_id": 104365440, "body": "Did you tried anything, did you met with any error ??. In react we can add javascript inside our code with <code>{}</code>, nothing wrong."}, {"owner": {"reputation": 4398, "user_id": 1143482, "user_type": "registered", "accept_rate": 63, "profile_image": "https://i.stack.imgur.com/zBqdL.png?s=128&g=1", "display_name": "jpganz18", "link": "https://stackoverflow.com/users/1143482/jpganz18"}, "reply_to_user": {"reputation": 4912, "user_id": 6162420, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/31F2B.jpg?s=128&g=1", "display_name": "Akhil Aravind", "link": "https://stackoverflow.com/users/6162420/akhil-aravind"}, "edited": false, "score": 0, "creation_date": 1574831094, "post_id": 59063248, "comment_id": 104365477, "body": "If I put anything with {} outside the &lt;Label.Group&gt; it fails"}, {"owner": {"reputation": 4912, "user_id": 6162420, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/31F2B.jpg?s=128&g=1", "display_name": "Akhil Aravind", "link": "https://stackoverflow.com/users/6162420/akhil-aravind"}, "edited": false, "score": 0, "creation_date": 1574831566, "post_id": 59063248, "comment_id": 104365585, "body": "surely it will fail, see the code you use <code>cell === &quot;name&quot; ? (   &lt;Label.Group&gt;{row.myObject[0].name}&lt;&#47;Label.Group&gt;</code> because you bind your mark up with <code>()</code>, this is causing the error.for more information you can refer this solution <code>https:&#47;&#47;stackoverflow.com&#47;questions&#47;44046037&#47;if-else-stateme&zwnj;&#8203;nt-inside-jsx-reactj&zwnj;&#8203;s?answertab=active#t&zwnj;&#8203;ab-top</code>"}, {"owner": {"reputation": 4398, "user_id": 1143482, "user_type": "registered", "accept_rate": 63, "profile_image": "https://i.stack.imgur.com/zBqdL.png?s=128&g=1", "display_name": "jpganz18", "link": "https://stackoverflow.com/users/1143482/jpganz18"}, "reply_to_user": {"reputation": 4912, "user_id": 6162420, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/31F2B.jpg?s=128&g=1", "display_name": "Akhil Aravind", "link": "https://stackoverflow.com/users/6162420/akhil-aravind"}, "edited": false, "score": 0, "creation_date": 1574831756, "post_id": 59063248, "comment_id": 104365625, "body": "I checked it, but still no idea how to insert the foreach, is it even possible?"}, {"owner": {"reputation": 4912, "user_id": 6162420, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/31F2B.jpg?s=128&g=1", "display_name": "Akhil Aravind", "link": "https://stackoverflow.com/users/6162420/akhil-aravind"}, "edited": false, "score": 0, "creation_date": 1574832162, "post_id": 59063248, "comment_id": 104365736, "body": "yes, its possible. Can you create a stackblitz example, let me try to fix it."}], "owner": {"reputation": 4398, "user_id": 1143482, "user_type": "registered", "accept_rate": 63, "profile_image": "https://i.stack.imgur.com/zBqdL.png?s=128&g=1", "display_name": "jpganz18", "link": "https://stackoverflow.com/users/1143482/jpganz18"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 97, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1574830954, "creation_date": 1574830686, "last_edit_date": 1574830954, "question_id": 59063248, "link": "https://stackoverflow.com/questions/59063248/is-possible-to-loop-and-insert-code-inside-a-html-tag-using-typescript", "title": "is possible to loop and insert code inside a html tag using typescript?", "body": "<p>I am doing something super easy on my first typescript \"project\" and came to this simple question.</p>\n\n<p>In my old days of javascript there was a way to include javascript on html tags.</p>\n\n<p>I am currently working on a project that looks like this:</p>\n\n<pre><code>&lt;Table.Body&gt;\n    {nodes.map((row: { [key: string]: any }) =&gt; (\n      &lt;Table.Row&gt;\n        {Object.keys(row).map(\n          (cell: string) =&gt;\n            isEnabled &amp;&amp; (\n              &lt;Table.Cell key={row.id + row[cell] + cell}&gt;\n</code></pre>\n\n<p>So, at the moment I have this   and other semantic of a react component.</p>\n\n<p>I am stuck in the simplest thing, a loop.</p>\n\n<p>I checked how to do it <a href=\"https://stackoverflow.com/questions/46213989/iterate-over-array-of-objects-in-typescript\">Iterate over array of objects in Typescript</a> <a href=\"https://stackoverflow.com/questions/16626735/how-to-loop-through-an-array-containing-objects-and-access-their-properties\">How to loop through an array containing objects and access their properties</a> and I know how my object but I am unable to insert it inside those tags.</p>\n\n<p>I basically have row.myObject (that is an array) and want to loop it and have a span tag with some properties of myObject, but not sure if due is typescript I can do it that easy or I have to use a component, any ideas?</p>\n\n<p>I can do something like this {row.myObject[0].name} but not able to insert the foreach code without the compiler complains </p>\n\n<p>I can do this but cannot insider the for command</p>\n\n<pre><code> (cell === \"name\" ? (\n  &lt;Label.Group&gt;{row.myObject[0].name}&lt;/Label.Group&gt;\n</code></pre>\n"}, {"tags": ["angular", "typescript"], "comments": [{"owner": {"reputation": 734, "user_id": 8636516, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6b4db0993772924fd3c4ee0a74b88d0f?s=128&d=identicon&r=PG&f=1", "display_name": "harkesh kumar", "link": "https://stackoverflow.com/users/8636516/harkesh-kumar"}, "edited": false, "score": 0, "creation_date": 1574829817, "post_id": 59063093, "comment_id": 104365179, "body": "hi can u please tell more what you trying do"}, {"owner": {"reputation": 14875, "user_id": 1100248, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/uE79r.jpg?s=128&g=1", "display_name": "Vova Bilyachat", "link": "https://stackoverflow.com/users/1100248/vova-bilyachat"}, "edited": false, "score": 0, "creation_date": 1574829929, "post_id": 59063093, "comment_id": 104365208, "body": "You cant do that with eval :)"}, {"owner": {"reputation": 14875, "user_id": 1100248, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/uE79r.jpg?s=128&g=1", "display_name": "Vova Bilyachat", "link": "https://stackoverflow.com/users/1100248/vova-bilyachat"}, "edited": false, "score": 0, "creation_date": 1574829966, "post_id": 59063093, "comment_id": 104365215, "body": "<a href=\"https://angular.io/guide/dynamic-component-loader\" rel=\"nofollow noreferrer\">angular.io/guide/dynamic-component-loader</a>  try this guide"}], "owner": {"reputation": 11, "user_id": 12442626, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6c755d13898f92eb13008623808e2a98?s=128&d=identicon&r=PG&f=1", "display_name": "Pentel", "link": "https://stackoverflow.com/users/12442626/pentel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 27, "favorite_count": 0, "closed_date": 1574834345, "answer_count": 0, "score": 0, "last_activity_date": 1574829489, "creation_date": 1574829489, "question_id": 59063093, "link": "https://stackoverflow.com/questions/59063093/how-to-create-new-component-dynamically-use-eval-in-angular4", "closed_reason": "Duplicate", "title": "how to create new component dynamically use eval in Angular4", "body": "<p>how to create a new component instance use eval?</p>\n\n<pre><code>import { SampleComponent } from '/path/to/component';\n\nexport class AppComponent {\n    var component_name = 'SampleComponent';\n    var object = eval(`new ${component_name}`); // &lt;----- ERROR ReferenceError: SampleComponent is not defined\n    var object = new SampleComponent;           // &lt;----- OK\n}\n</code></pre>\n"}, {"tags": ["typescript", "cesium"], "owner": {"reputation": 2375, "user_id": 3241192, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/613c032be74a10f24138c3486120638e?s=128&d=identicon&r=PG&f=1", "display_name": "Bobby", "link": "https://stackoverflow.com/users/3241192/bobby"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 48, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1574841059, "creation_date": 1574825711, "last_edit_date": 1574841059, "question_id": 59062610, "link": "https://stackoverflow.com/questions/59062610/use-a-types-on-a-custom-declared-variable", "title": "use a @types on a custom declared variable", "body": "<p>I am using CesiumJs in Angular and installed @types/cesium in my app.</p>\n\n<p>CesiumJs is not handling correctly import like this at the moment and they do not recommend to import it in this way, and I also don't want to import Cesium in every of my file just to get the correct typing of all the methods =></p>\n\n<pre><code>import * as Cesium from 'cesium';\n</code></pre>\n\n<p>Instead, we have to declare a type like following => </p>\n\n<pre><code>declare var Cesium;\n</code></pre>\n\n<p>So that the app assume the package is here, and compile.</p>\n\n<p>The problem is, I have downloaded @types/cesium and I would like to apply the type of Cesium to my declared variable, So that the app know that the Cesium is there but also the type of it.</p>\n\n<p>The type is assigned like this when I import Cesium (using the import) :</p>\n\n<p>(alias) namespace Cesium import Cesium</p>\n\n<p>so I would like to assign the namespace as my type </p>\n\n<p><code>declare var Cesium: typeof Cesium;</code></p>\n\n<p>but I get </p>\n\n<blockquote>\n  <p>'Cesium' is referenced directly or indirectly in its own type\n  annotation.</p>\n</blockquote>\n\n<p>So I tried to fix with </p>\n\n<pre><code>type CesiumType = typeof Cesium;\n\ndeclare var Cesium: CesiumType;\n</code></pre>\n\n<p>But now I get </p>\n\n<blockquote>\n  <p>Type alias 'CesiumType' circularly references itself.</p>\n</blockquote>\n\n<p>The problem is the name MUST be Cesium or it will not work.</p>\n\n<p>How do I apply a type to my variable correctly ? </p>\n"}, {"tags": ["javascript", "angular", "typescript", "underscore.js"], "comments": [{"owner": {"reputation": 793, "user_id": 11751221, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-wAmfQ0gXcQ0/AAAAAAAAAAI/AAAAAAAAAMc/yrbzq9ABi3w/photo.jpg?sz=128", "display_name": "pavan kumar", "link": "https://stackoverflow.com/users/11751221/pavan-kumar"}, "edited": false, "score": 0, "creation_date": 1574824991, "post_id": 59062399, "comment_id": 104364091, "body": "_groupBy is in collections, if you have read the <a href=\"https://underscorejs.org/#groupBy\" rel=\"nofollow noreferrer\">documentation</a> as it clearly says groups by property , it will always give back the object as it always generates it as a key value pair, you will have to write a custom function instead I suggest"}], "answers": [{"comments": [{"owner": {"reputation": 16389, "user_id": 1938988, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/GPf1K.jpg?s=128&g=1", "display_name": "johnny 5", "link": "https://stackoverflow.com/users/1938988/johnny-5"}, "edited": false, "score": 0, "creation_date": 1574825949, "post_id": 59062554, "comment_id": 104364307, "body": "Awesome, this is really a lot more solid than what I was attempt thanks"}, {"owner": {"reputation": 16389, "user_id": 1938988, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/GPf1K.jpg?s=128&g=1", "display_name": "johnny 5", "link": "https://stackoverflow.com/users/1938988/johnny-5"}, "edited": false, "score": 0, "creation_date": 1574899458, "post_id": 59062554, "comment_id": 104397065, "body": "This doesn&#39;t work location is a Location and not a string"}, {"owner": {"reputation": 16389, "user_id": 1938988, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/GPf1K.jpg?s=128&g=1", "display_name": "johnny 5", "link": "https://stackoverflow.com/users/1938988/johnny-5"}, "edited": false, "score": 0, "creation_date": 1574901710, "post_id": 59062554, "comment_id": 104397495, "body": "I fixed it so it matches the question"}], "tags": [], "owner": {"reputation": 15130, "user_id": 1679126, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/82c8608808b8c4c719e9d0c71fb5c366?s=128&d=identicon&r=PG", "display_name": "Adrian Brand", "link": "https://stackoverflow.com/users/1679126/adrian-brand"}, "is_accepted": true, "score": 2, "last_activity_date": 1574901638, "last_edit_date": 1574901638, "creation_date": 1574825325, "answer_id": 59062554, "question_id": 59062399, "link": "https://stackoverflow.com/questions/59062399/underscore-groupby-return-array-instead-of-object/59062554#59062554", "title": "underscore groupby return array instead of object", "body": "<p>I would use a reduce</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const places = [\r\n  { location: {id: 'USA'},  data:{ eventName:'tech week' }},\r\n  { location: {id: 'GER'},  data:{ eventName:'cheese wheeling' }},\r\n  { location: {id: 'USA'},  data:{ eventName:'mecha fights' }},\r\n  { location: {id: 'AUS'},  data:{ eventName:'kangaroo fight' }}\r\n];\r\n\r\nconst group = (array, prop) =&gt; array.reduce((g, item) =&gt; {\r\n    const propVal = item[prop];\r\n    const identifier = propVal.id;\r\n    const entry = g[identifier];\r\n    const data = item.data;\r\n\r\n    if (entry) {\r\n      entry.data.push(data);\r\n    } else {\r\n      g[identifier] = {location: propVal, data: [data]};\r\n    }\r\n    return g;\r\n  }, {});\r\n\r\nconst groups = group(places, 'location');\r\nconsole.log(group(Object.keys(groups).map((key) =&gt; groups[key]), 'location'));</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 16389, "user_id": 1938988, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/GPf1K.jpg?s=128&g=1", "display_name": "johnny 5", "link": "https://stackoverflow.com/users/1938988/johnny-5"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 72, "favorite_count": 0, "accepted_answer_id": 59062554, "answer_count": 1, "score": 0, "last_activity_date": 1574901638, "creation_date": 1574823816, "question_id": 59062399, "link": "https://stackoverflow.com/questions/59062399/underscore-groupby-return-array-instead-of-object", "title": "underscore groupby return array instead of object", "body": "<p>I'm trying to create an array of entities grouped by location using underscore.</p>\n\n<p>I have an array of pairs, which looks like this currently <code>{ location: Location, data: T}[]</code> I would like to transform it to group by the location look like this <code>{ location: Location, data: T[]}&gt;[]</code></p>\n\n<p>My first instinct was to use <code>_.GroupBy</code></p>\n\n<pre><code>const entitiesMap = entities.map(e =&gt; ({ location: this.options.locationResolver(e), data: e}));\nthis.locationEntitiesMap = _.groupBy(entitiesMap, entityPair =&gt; entityPair.location);\n</code></pre>\n\n<p>However when I do this this returns an object with the location as the Key.\nHow can I return a grouped array instead?</p>\n"}, {"tags": ["angular", "typescript", "fullpage.js"], "comments": [{"owner": {"reputation": 37699, "user_id": 1081396, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/4da642ebb2987685f30442660dc6751e?s=128&d=identicon&r=PG", "display_name": "Alvaro", "link": "https://stackoverflow.com/users/1081396/alvaro"}, "edited": false, "score": 0, "creation_date": 1574900010, "post_id": 59062256, "comment_id": 104397178, "body": "Are you using the official component for Angular? <a href=\"https://alvarotrigo.com/angular-fullpage/\" rel=\"nofollow noreferrer\">angular-fullpage</a>?  If so, you can see a demo of it on  the demo folder: <a href=\"https://github.com/alvarotrigo/angular-fullpage/tree/master/demo\" rel=\"nofollow noreferrer\">github.com/alvarotrigo/angular-fullpage/tree/master/demo</a>"}], "answers": [{"tags": [], "owner": {"reputation": 397, "user_id": 9433621, "user_type": "registered", "profile_image": "https://graph.facebook.com/1827620710616658/picture?type=large", "display_name": "Vong Panha Huot", "link": "https://stackoverflow.com/users/9433621/vong-panha-huot"}, "is_accepted": false, "score": 0, "last_activity_date": 1579965457, "creation_date": 1579965457, "answer_id": 59910584, "question_id": 59062256, "link": "https://stackoverflow.com/questions/59062256/how-to-use-fullpagejs-with-selectors-angular-7/59910584#59910584", "title": "How to use fullpagejs with selectors Angular 7", "body": "<p>There might be a structural directive such as *ngIf or *ngFor inside the your components.</p>\n\n<p>In this case you could use this example \"Dynamic Change\"</p>\n\n<p><a href=\"https://github.com/alvarotrigo/angular-fullpage#dynamic-changes\" rel=\"nofollow noreferrer\">https://github.com/alvarotrigo/angular-fullpage#dynamic-changes</a></p>\n"}], "owner": {"reputation": 170, "user_id": 11951474, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vd2sO.png?s=128&g=1", "display_name": "Adam", "link": "https://stackoverflow.com/users/11951474/adam"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 29, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1579965457, "creation_date": 1574822591, "question_id": 59062256, "link": "https://stackoverflow.com/questions/59062256/how-to-use-fullpagejs-with-selectors-angular-7", "title": "How to use fullpagejs with selectors Angular 7", "body": "<p>I am making an Angular 7 project with fullpagejs Alvarotrigo and I have managed to make it work but I cannot see my website content because the color of fullpagejs is cover them all. If I use normal content in there it really shows up.</p>\n\n<p><strong><em>Work normally</em></strong></p>\n\n<pre><code>  &lt;div id=\"fullpage\"&gt;\n   &lt;div class=\"section\"&gt;Section 1&lt;/div&gt;\n   &lt;div class=\"section\"&gt;\n    &lt;div class=\"slide\" data-anchor=\"slide1\"&gt;Slide 2.1&lt;/div&gt;\n    &lt;div class=\"slide\" data-anchor=\"slide2\"&gt;Slide 2.2&lt;/div&gt;\n   &lt;/div&gt;\n   &lt;div class=\"section\"&gt;Section 3&lt;/div&gt;\n   &lt;div class=\"section\"&gt;Section 4&lt;/div&gt;\n   &lt;/div&gt;\n</code></pre>\n\n<p><strong><em>It not showing the content when I try to use selector from another components</em></strong></p>\n\n<pre><code>&lt;div id=\"fullpage\"&gt;\n&lt;div class=\"section\"&gt;\n    &lt;c:home-header-section&gt;&lt;/c:home-header-section&gt;\n&lt;/div&gt;\n&lt;div class=\"section\"&gt;\n    &lt;c:our-story-section&gt;&lt;/c:our-story-section&gt;\n&lt;/div&gt;\n&lt;div class=\"section\"&gt;\n    &lt;c:our-business-section&gt;&lt;/c:our-business-section&gt;\n&lt;/div&gt;\n&lt;div class=\"section\"&gt;\n    &lt;c:our-partner-section&gt;&lt;/c:our-partner-section&gt;\n&lt;/div&gt;\n&lt;c:footer-section&gt;&lt;/c:footer-section&gt;\n</code></pre>\n\n<p></p>\n\n<p>It's show only the color of background and content is behind them when I try to inspect them.\nI was not sure what to do. Any ideas, Thanks.!</p>\n"}, {"tags": ["typescript", "visual-studio-code"], "owner": {"reputation": 3796, "user_id": 4661625, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/c3cd0caf54e0766c83f04f51f881303b?s=128&d=identicon&r=PG&f=1", "display_name": "Bumsik Kim", "link": "https://stackoverflow.com/users/4661625/bumsik-kim"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 64, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1574823521, "creation_date": 1574820435, "question_id": 59062015, "link": "https://stackoverflow.com/questions/59062015/vscode-keeps-complaining-there-is-no-process-env", "title": "VSCode keeps complaining there is no &quot;process.env&quot;", "body": "<p>I have a file <code>test/test.ts</code> which is as simple as one line:</p>\n\n<pre><code>process.env[\"NODE_ENV\"] = 'test';\n</code></pre>\n\n<p>My VSCode complains that it cannot find 'process':</p>\n\n<blockquote>\n  <p>Cannot find name 'process'. Do you need to install type definitions for node? Try <code>npm i @types/node</code>.ts(2580)</p>\n</blockquote>\n\n<p>However, when I run the Typescript compiler <code>tsc test/test.ts</code> is happy with the file without any error.</p>\n\n<p>Of cource I have installed <code>@types/node</code>, but VSCode is still complaining. How can I fix that?</p>\n"}, {"tags": ["typescript"], "comments": [{"owner": {"reputation": 5875, "user_id": 4383512, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/PdRqP.png?s=128&g=1", "display_name": "Meme Composer", "link": "https://stackoverflow.com/users/4383512/meme-composer"}, "edited": false, "score": 0, "creation_date": 1574819075, "post_id": 59061824, "comment_id": 104362938, "body": "Try adding <code>const</code> in front of <code>enum</code> in your example and observe the magic"}, {"owner": {"reputation": 3389, "user_id": 598093, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/1d6a1117d6211d32a2d286966efc7701?s=128&d=identicon&r=PG", "display_name": "mark", "link": "https://stackoverflow.com/users/598093/mark"}, "reply_to_user": {"reputation": 5875, "user_id": 4383512, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/PdRqP.png?s=128&g=1", "display_name": "Meme Composer", "link": "https://stackoverflow.com/users/4383512/meme-composer"}, "edited": false, "score": 0, "creation_date": 1574819295, "post_id": 59061824, "comment_id": 104362974, "body": "Could you clarify what you mean? Adding <code>const</code> in front is still unlike a JavaScript <code>const</code>, which requires an <code>=</code> sign and a right hand side of the expression"}, {"owner": {"reputation": 507143, "user_id": 1048572, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/7f2c4de95e8f4f8f5a71c3aaf0ed312a?s=128&d=identicon&r=PG", "display_name": "Bergi", "link": "https://stackoverflow.com/users/1048572/bergi"}, "edited": false, "score": 0, "creation_date": 1574819329, "post_id": 59061824, "comment_id": 104362978, "body": "Another obvious example: a <code>class</code> both declares a type and constructs a tangible JS value."}, {"owner": {"reputation": 30153, "user_id": 12299000, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0pja9.png?s=128&g=1", "display_name": "kaya3", "link": "https://stackoverflow.com/users/12299000/kaya3"}, "edited": false, "score": 0, "creation_date": 1574821171, "post_id": 59061824, "comment_id": 104363298, "body": "All Typescript compiles to Javascript, so there is nothing which has <i>&quot;no equivalent&quot;</i> in Javascript. But Typescript has some syntax which is compiled to different Javascript syntax rather than just stripped out (like type declarations and annotations are). The term for these things is &quot;syntax sugar&quot;."}, {"owner": {"reputation": 28393, "user_id": 5669456, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/aeueo.png?s=128&g=1", "display_name": "ford04", "link": "https://stackoverflow.com/users/5669456/ford04"}, "edited": false, "score": 0, "creation_date": 1574841660, "post_id": 59061824, "comment_id": 104369573, "body": "Have a look <a href=\"https://www.typescriptlang.org/docs/handbook/declaration-merging.html#basic-concepts\" rel=\"nofollow noreferrer\">here</a> for a division of declarations like <code>enum</code> to the groups <code>namespace</code>, <code>type</code> and <code>value</code>."}], "owner": {"reputation": 3389, "user_id": 598093, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/1d6a1117d6211d32a2d286966efc7701?s=128&d=identicon&r=PG", "display_name": "mark", "link": "https://stackoverflow.com/users/598093/mark"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 50, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1574818828, "creation_date": 1574818828, "question_id": 59061824, "link": "https://stackoverflow.com/questions/59061824/which-constructs-in-typescript-contain-more-than-just-type-information", "title": "Which constructs in TypeScript contain more than just type information?", "body": "<p>So far I have been using TypeScript in a way such that it enhances or annotates JavaScript code with type information. For example, adding the expected type of function parameters or return values.\nBut one construct seems to be different: <a href=\"https://www.typescriptlang.org/docs/handbook/enums.html\" rel=\"nofollow noreferrer\"><code>enum</code></a></p>\n\n<p><code>enum</code> seems different because it does not merely enhance an existing JavaScript construct with type information, but it actually creates a piece of data on its own.</p>\n\n<p>Example:</p>\n\n<pre><code>enum OBJ {\n  A = 1,\n  B = 2,\n}\n</code></pre>\n\n<p>I can treat <code>OBJ</code> as a piece of data. Eg. I can <code>console.log(OBJ)</code> or assign <code>OBJ.A</code> to a variable, whereas I cannot <code>console.log</code> other TypeScript constructs like a <code>type</code> or an <code>interface</code>.</p>\n\n<p>Are there more examples like <code>enum</code> in TypeScript which declare more than just type information and have no equivalent in JavaScript?</p>\n\n<p>Also, is there a name for this class of TypeScript language features to which <code>enum</code> belongs (which declare more than just type information and have no equivalent in JavaScript)?</p>\n"}, {"tags": ["angular", "typescript", "rxjs", "observable", "synchronous"], "comments": [{"owner": {"reputation": 21922, "user_id": 4855306, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2a6aabb85641845de100ab0b0b87463a?s=128&d=identicon&r=PG&f=1", "display_name": "bryan60", "link": "https://stackoverflow.com/users/4855306/bryan60"}, "edited": false, "score": 1, "creation_date": 1574818716, "post_id": 59061761, "comment_id": 104362875, "body": "this just looks like poorly structured code. why can&#39;t whatever <code>getTasksTypes()</code> or <code>methodOne()</code> etc doing besides the http call be separated out into other functions that get called independently.  when youre working with asynchronous functions, structuring your functions correctly is essential to maintaining a good code base."}], "answers": [{"comments": [{"owner": {"reputation": 11, "user_id": 12441644, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9x9Rl.jpg?s=128&g=1", "display_name": "nasoram", "link": "https://stackoverflow.com/users/12441644/nasoram"}, "edited": false, "score": 0, "creation_date": 1574829665, "post_id": 59062759, "comment_id": 104365139, "body": "I&#39;ll give it a try, but what about the other operations that are made in the methods? The methods call other services, show some alerts..."}, {"owner": {"reputation": 8097, "user_id": 8618350, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d5f100e1a27815164cb9a9bf00487858?s=128&d=identicon&r=PG&f=1", "display_name": "Fan Cheung", "link": "https://stackoverflow.com/users/8618350/fan-cheung"}, "reply_to_user": {"reputation": 11, "user_id": 12441644, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9x9Rl.jpg?s=128&g=1", "display_name": "nasoram", "link": "https://stackoverflow.com/users/12441644/nasoram"}, "edited": false, "score": 0, "creation_date": 1574844337, "post_id": 59062759, "comment_id": 104370905, "body": "you can chain it to each individual method using pipe() and other operators. e.g  this.getTaskTypes().pipe(tap(_=&gt;alert(&quot;hello&quot;)))"}, {"owner": {"reputation": 11, "user_id": 12441644, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9x9Rl.jpg?s=128&g=1", "display_name": "nasoram", "link": "https://stackoverflow.com/users/12441644/nasoram"}, "edited": false, "score": 0, "creation_date": 1575383549, "post_id": 59062759, "comment_id": 104542984, "body": "I couldn&#39;t accomplish all what I wanted to do, but this serves the purpose of synchronous calls"}], "tags": [], "owner": {"reputation": 8097, "user_id": 8618350, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d5f100e1a27815164cb9a9bf00487858?s=128&d=identicon&r=PG&f=1", "display_name": "Fan Cheung", "link": "https://stackoverflow.com/users/8618350/fan-cheung"}, "is_accepted": true, "score": 0, "last_activity_date": 1574826795, "creation_date": 1574826795, "answer_id": 59062759, "question_id": 59061761, "link": "https://stackoverflow.com/questions/59061761/how-to-synchronically-call-methods-after-another-method-in-angular/59062759#59062759", "title": "How to synchronically call methods after another method in Angular?", "body": "<p>First change your methods to return observable only e.g</p>\n\n<pre><code>public getTaskTypes():Observable&lt;any&gt; {\n return this.http.get(\"url\");\n}\n</code></pre>\n\n<p>Then use <code>concat</code> to execute them sequentially, and <code>toArray()</code> to convert result to an array</p>\n\n<pre><code> concat(this.getTaskTypes(),this.methodOne(),this.methodTwo())\n .pipe(toArray()).subscribe(res=&gt;console.log(res))\n</code></pre>\n\n<p>res will contain all results in a array in execution order. </p>\n"}, {"comments": [{"owner": {"reputation": 8049, "user_id": 1447173, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/Q0dKa.gif?s=128&g=1", "display_name": "Daniel B", "link": "https://stackoverflow.com/users/1447173/daniel-b"}, "edited": false, "score": 0, "creation_date": 1574860821, "post_id": 59063554, "comment_id": 104380183, "body": "<i>&quot;Should&quot;</i> use? <code>Observables</code> are perfectly fine to use for this purpose!"}, {"owner": {"reputation": 399, "user_id": 7383812, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Og2kM.jpg?s=128&g=1", "display_name": "Puria Rad Jahanbani", "link": "https://stackoverflow.com/users/7383812/puria-rad-jahanbani"}, "reply_to_user": {"reputation": 8049, "user_id": 1447173, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/Q0dKa.gif?s=128&g=1", "display_name": "Daniel B", "link": "https://stackoverflow.com/users/1447173/daniel-b"}, "edited": false, "score": 0, "creation_date": 1574863431, "post_id": 59063554, "comment_id": 104381710, "body": "I said &quot;there are better approaches to solve this&quot;, but still there is nothing wrong with Promises. You are free to use anything you want. I suggest you to read [<a href=\"https://stackoverflow.com/questions/37364973/what-is-the-difference-between-promises-and-observables]\" title=\"what is the difference between promises and observables%5d\">stackoverflow.com/questions/37364973/&hellip;</a>"}, {"owner": {"reputation": 8049, "user_id": 1447173, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/Q0dKa.gif?s=128&g=1", "display_name": "Daniel B", "link": "https://stackoverflow.com/users/1447173/daniel-b"}, "edited": false, "score": 0, "creation_date": 1574931974, "post_id": 59063554, "comment_id": 104406084, "body": "I beg to disagree. You state that the OP <i>&quot;Should&quot;</i> use something entirely different than what the question is about, and the question doesn&#39;t mention the word <code>Promise</code> anywhere. The word you are looking for is <i>&quot;Could&quot;</i>, not <i>&quot;Should&quot;</i>."}, {"owner": {"reputation": 399, "user_id": 7383812, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Og2kM.jpg?s=128&g=1", "display_name": "Puria Rad Jahanbani", "link": "https://stackoverflow.com/users/7383812/puria-rad-jahanbani"}, "reply_to_user": {"reputation": 8049, "user_id": 1447173, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/Q0dKa.gif?s=128&g=1", "display_name": "Daniel B", "link": "https://stackoverflow.com/users/1447173/daniel-b"}, "edited": false, "score": 1, "creation_date": 1574932716, "post_id": 59063554, "comment_id": 104406468, "body": "According to <a href=\"http://www.differencebetween.net/language/grammar-language/difference-between-should-and-must/\" rel=\"nofollow noreferrer\">this</a>, \u201cShould\u201d is used to denote recommendations, advice, or to talk about what is generally right or wrong within the permissible limits of society."}], "tags": [], "owner": {"reputation": 399, "user_id": 7383812, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Og2kM.jpg?s=128&g=1", "display_name": "Puria Rad Jahanbani", "link": "https://stackoverflow.com/users/7383812/puria-rad-jahanbani"}, "is_accepted": false, "score": -1, "last_activity_date": 1574832394, "creation_date": 1574832394, "answer_id": 59063554, "question_id": 59061761, "link": "https://stackoverflow.com/questions/59061761/how-to-synchronically-call-methods-after-another-method-in-angular/59063554#59063554", "title": "How to synchronically call methods after another method in Angular?", "body": "<p>You should use the concept of <code>Promise</code> and <code>Then</code>, or <code>async await</code>. For example, your ngOnInit should be like this:</p>\n\n<pre><code>async ngOnInit() {\n  await this.getTaskTypes();\n  await this.methodOne();\n  await this.methodTwo()\n}\n</code></pre>\n\n<p>By using <code>await</code>, methodOne will wait until getTaskTypes be resolved. But keep that in mind, <code>await</code> only works if your function returns a Promise or an Observable. In this case, because your functions do not return anything, await won't work. So, for example getTaskTypes should be like this: </p>\n\n<pre><code>public async getTaskTypes(){\n  return new Promise(resolve, reject) =&gt; {\n      this.http.get(\"url\").subscribe(\n      (res) =&gt; {\n        this.taskTypes = res.tasks;\n        resolve();\n        // some other operations with response data\n        // and set other variables\n      },\n      (err) =&gt; {\n        reject(err);\n      }\n    );\n    // some other operations with variables\n  });\n}\n</code></pre>\n\n<p>Of course there are better approaches to solve this, but I tried to make you understand the main ideas. You can read more about it in <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise\" rel=\"nofollow noreferrer\">here</a>.</p>\n"}, {"tags": [], "owner": {"reputation": 5367, "user_id": 11011793, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0p7CT.jpg?s=128&g=1", "display_name": "MoxxiManagarm", "link": "https://stackoverflow.com/users/11011793/moxximanagarm"}, "is_accepted": false, "score": 1, "last_activity_date": 1574842547, "last_edit_date": 1574842547, "creation_date": 1574841803, "answer_id": 59065636, "question_id": 59061761, "link": "https://stackoverflow.com/questions/59061761/how-to-synchronically-call-methods-after-another-method-in-angular/59065636#59065636", "title": "How to synchronically call methods after another method in Angular?", "body": "<p>Of course you CAN do that with rxjs</p>\n\n<pre><code>this.http.get(\"url\").pipe(\n    map(res =&gt; res.tasks),\n    filter(taskTypes =&gt; taskTypes.length &gt; 0),\n    switchMap(taskTypes =&gt; combineLatest([this.http.get(\"url/\" + 1), this.http.get(\"url/\" + 2)])),\n  ).subscribe(\n   ([methodOneResult, methodTwoResult]) =&gt; console.log(methodOneResult, methodTwoResult),\n  );\n</code></pre>\n\n<p>Have an example here: <a href=\"https://stackblitz.com/edit/angular-jevauk\" rel=\"nofollow noreferrer\">https://stackblitz.com/edit/angular-jevauk</a></p>\n"}], "owner": {"reputation": 11, "user_id": 12441644, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9x9Rl.jpg?s=128&g=1", "display_name": "nasoram", "link": "https://stackoverflow.com/users/12441644/nasoram"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 475, "favorite_count": 0, "accepted_answer_id": 59062759, "answer_count": 3, "score": 1, "last_activity_date": 1574842547, "creation_date": 1574818132, "question_id": 59061761, "link": "https://stackoverflow.com/questions/59061761/how-to-synchronically-call-methods-after-another-method-in-angular", "title": "How to synchronically call methods after another method in Angular?", "body": "<p>I have to call some methods synchronically in <code>ngOnInit()</code> method, but all of them make some asynchronous calls to an API from the inside. Some variables are setted in the first method, and the second and the third methods need these variables to be already setted. I can't use rxjs mapping operators (mergeMap, switchMap, concatMap, exhaustMap) since the calls are made from separated methods that make other operations.</p>\n\n<p>This is what I have:</p>\n\n<pre><code>public taskTypes: any; // variable to be setted in first method\npublic firstDataSource: any;\npublic secondDataSource: any;\n// some other variables to be setted in first method\n\nconstructor(...) {\n  this.taskTypes = [];\n  this.firstDataSource = [];\n  this.secondDataSource = [];\n  // some other initializations\n}\n\nngOnInit() {\n  this.getTaskTypes();\n  this.methodOne();\n  this.methodTwo()\n}\n\npublic getTaskTypes(): void {\n  this.http.get(\"url\").subscribe(\n    (res) =&gt; {\n      this.taskTypes = res.tasks;\n      // some other operations with response data\n      // and set other variables\n    },\n    (err) =&gt; {}\n  );\n  // some other operations with variables\n}\n\npublic methodOne(): void {\n  if (this.taskTypes.length &gt; 0) {\n    this.http.get(\"url/\" + 1).subscribe(\n      (res) =&gt; {\n        this.firstDataSource = res.data;\n      },\n      (err) =&gt; {}\n    );\n  }\n  // some other operations with variables\n}\n\npublic methodTwo(): void {\n  if (this.taskTypes.length &gt; 0) {\n    this.http.get(\"url/\" + 2).subscribe(\n      (res) =&gt; {\n        this.secondDataSource = res.data;\n      },\n      (err) =&gt; {}\n    );\n  }\n  // some other operations with variables\n}\n</code></pre>\n\n<p>My problem is that with the call of <code>ngOnInit()</code>, all inner methods are called at the same time and the result of the condition: <code>this.taskTypes.length &gt; 0</code> is always <code>false</code> because the variable <code>taskTypes</code> has not been setted by the time when <code>methodOne()</code> and <code>methodTwo()</code> are called, so <code>firstDataSource</code> and <code>secondDataSource</code> never get setted with the respective calls to the API. That's why I need <code>methodOne()</code> and <code>methodTwo()</code> to be called synchronously after <code>getTaskTypes()</code>.</p>\n"}, {"tags": ["angular", "typescript", "angular-components"], "answers": [{"tags": [], "owner": {"reputation": 1, "user_id": 13847811, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-xypuXwtELxg/AAAAAAAAAAI/AAAAAAAAAAA/AMZuucktCCPL2v2nozt8zWFlYkEjkMFHug/photo.jpg?sz=128", "display_name": "Noah Kiel", "link": "https://stackoverflow.com/users/13847811/noah-kiel"}, "is_accepted": false, "score": 0, "last_activity_date": 1593613857, "creation_date": 1593613857, "answer_id": 62679171, "question_id": 59061525, "link": "https://stackoverflow.com/questions/59061525/viewchild-vs-directive-to-get-viewcontainerref/62679171#62679171", "title": "ViewChild vs Directive to get ViewContainerRef", "body": "<p>Not sure if you're still trying to solve this but I've been able to get the ViewContainerRef with a directive like this:</p>\n<pre><code>@ViewChild(AdDirective, {static: true, read: ViewContainerRef}) target: ViewContainerRef;\n</code></pre>\n"}], "owner": {"reputation": 19244, "user_id": 1959948, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/trFNS.jpg?s=128&g=1", "display_name": "Dalorzo", "link": "https://stackoverflow.com/users/1959948/dalorzo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 375, "favorite_count": 2, "answer_count": 1, "score": 3, "last_activity_date": 1593613857, "creation_date": 1574816080, "last_edit_date": 1574860616, "question_id": 59061525, "link": "https://stackoverflow.com/questions/59061525/viewchild-vs-directive-to-get-viewcontainerref", "title": "ViewChild vs Directive to get ViewContainerRef", "body": "<p>I found that <strong><a href=\"https://angular.io/guide/dynamic-component-loader\" rel=\"nofollow noreferrer\">Angular Docs</a></strong> suggest that in order to get access to the <strong><code>ViewContainerRef</code></strong> to create a dynamic component I should use a directive like:</p>\n\n<pre><code>import { Directive, ViewContainerRef } from '@angular/core';\n\n@Directive({\n  selector: '[ad-host]',\n})\nexport class AdDirective {\n  constructor(public viewContainerRef: ViewContainerRef) { }\n}\n</code></pre>\n\n<p>And later in the component:</p>\n\n<pre><code>export class AppComponent {  \n  @ViewChild(AdDirective, {static: true}) adHost: AdDirective;\n\n... //to get access to ViewContainerRef\nconst viewContainerRef = this.adHost.viewContainerRef;\n</code></pre>\n\n<p>However, I could achieve the same without the directive by using <strong><code>ViewChild</code></strong> with <code>{read : ViewContainerRef}</code> like:</p>\n\n<pre><code>export class AppComponent {\n\n  @ViewChild('someHashTag', {read : ViewContainerRef}) target: ViewContainerRef;\n</code></pre>\n\n<p>Are there any differences(possible issues) between the 2 approaches or any reason as why I should not use the one that requires less code and effort?</p>\n"}, {"tags": ["node.js", "typescript", "azure-keyvault"], "answers": [{"comments": [{"owner": {"reputation": 6293, "user_id": 443927, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/0f8fe85ecd01ea336027317e8c40ea48?s=128&d=identicon&r=PG", "display_name": "Erick T", "link": "https://stackoverflow.com/users/443927/erick-t"}, "edited": false, "score": 0, "creation_date": 1574882402, "post_id": 59064599, "comment_id": 104391379, "body": "Thanks, but I was looking for how to do this with an AD User, not service principal/app registration"}, {"owner": {"reputation": 14687, "user_id": 10505040, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/643c7cd13b4cd09ce56bb9ee71914516?s=128&d=identicon&r=PG&f=1", "display_name": "Jim Xu", "link": "https://stackoverflow.com/users/10505040/jim-xu"}, "reply_to_user": {"reputation": 6293, "user_id": 443927, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/0f8fe85ecd01ea336027317e8c40ea48?s=128&d=identicon&r=PG", "display_name": "Erick T", "link": "https://stackoverflow.com/users/443927/erick-t"}, "edited": false, "score": 0, "creation_date": 1574902904, "post_id": 59064599, "comment_id": 104397712, "body": "@ErickT What do you mean &quot;do this with an AD User&quot;?"}, {"owner": {"reputation": 6293, "user_id": 443927, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/0f8fe85ecd01ea336027317e8c40ea48?s=128&d=identicon&r=PG", "display_name": "Erick T", "link": "https://stackoverflow.com/users/443927/erick-t"}, "edited": false, "score": 0, "creation_date": 1574920609, "post_id": 59064599, "comment_id": 104401496, "body": "With an active directory user, like you\u2019d use with the portal. A user has an UsedId and an ObjectId, but not a ClientId like an App Registration/Service Principal"}, {"owner": {"reputation": 14687, "user_id": 10505040, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/643c7cd13b4cd09ce56bb9ee71914516?s=128&d=identicon&r=PG&f=1", "display_name": "Jim Xu", "link": "https://stackoverflow.com/users/10505040/jim-xu"}, "reply_to_user": {"reputation": 6293, "user_id": 443927, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/0f8fe85ecd01ea336027317e8c40ea48?s=128&d=identicon&r=PG", "display_name": "Erick T", "link": "https://stackoverflow.com/users/443927/erick-t"}, "edited": false, "score": 0, "creation_date": 1574921587, "post_id": 59064599, "comment_id": 104401787, "body": "@ErickT When we login Azure portal, the login url will also contain the client id of AD application. But it is created by Microsoft and we do not need to do these.  Because when we access the resource protected by Azure AD, we must  register Azure AD application, configure permissions for the application and provide client id when we get access token. For more details,  <a href=\"https://docs.microsoft.com/en-us/azure/active-directory/develop/v2-overview\" rel=\"nofollow noreferrer\">docs.microsoft.com/en-us/azure/active-directory/develop/&hellip;</a>"}], "tags": [], "owner": {"reputation": 14687, "user_id": 10505040, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/643c7cd13b4cd09ce56bb9ee71914516?s=128&d=identicon&r=PG&f=1", "display_name": "Jim Xu", "link": "https://stackoverflow.com/users/10505040/jim-xu"}, "is_accepted": false, "score": 0, "last_activity_date": 1574837636, "creation_date": 1574837636, "answer_id": 59064599, "question_id": 59061495, "link": "https://stackoverflow.com/questions/59061495/how-do-i-use-user-ad-account-when-using-secretclient-in-node-typescript/59064599#59064599", "title": "How do I use user AD account when using SecretClient in node/TypeScript?", "body": "<p>According to my understanding, you want to use the username and password to get Azure Key Vault secret. We can use <code>UsernamePasswordCredential</code> in the SDK<code>@azure/identity</code> to implement it. The detailed steps are as below.</p>\n\n<ol>\n<li><p>Register Azure AD application\n<a href=\"https://i.stack.imgur.com/eQEMW.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/eQEMW.png\" alt=\"enter image description here\"></a>\n<a href=\"https://i.stack.imgur.com/PEYtm.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/PEYtm.png\" alt=\"enter image description here\"></a></p></li>\n<li><p>Configure Azure AD application</p>\n\n<ul>\n<li><p>Make it as public client\n<a href=\"https://i.stack.imgur.com/wDgsO.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/wDgsO.png\" alt=\"enter image description here\"></a></p></li>\n<li><p>Configure API permissions\n<a href=\"https://i.stack.imgur.com/4yGeb.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/4yGeb.png\" alt=\"enter image description here\"></a></p></li>\n</ul></li>\n<li><p>Sample</p>\n\n<p>a. install SDK</p>\n\n<pre><code>npm install @azure/keyvault-secrets\nnpm install @azure/identity\nnpm install dotenv\n</code></pre>\n\n<p>b. create <code>.env</code>file</p>\n\n<pre><code>AZURE_TENANT_ID=&lt;your tenant id&gt;\nAZURE_CLIENT_ID=&lt;your appid&gt;\nAZURE_USERNAME=&lt;your AzureAD user account&gt;\nAZURE_PASSWORD=&lt;your AzureAD account password&gt;\n</code></pre>\n\n<p>c. code</p>\n\n<pre><code>var keyvault = require('@azure/keyvault-secrets')\nvar azure = require('@azure/identity')\nconst dotenv = require('dotenv');\ndotenv.config();\n\nasync function main() {\n const creds = new  azure.UsernamePasswordCredential(process.env.AZURE_TENANT_ID,process.env.AZURE_CLIENT_ID,process.env.AZURE_USERNAME,process.env.AZURE_PASSWORD)\n          const client = new keyvault.SecretClient('&lt;your key vault url&gt;',creds)\n          const secret = await client1.getSecret('&lt;your secret name&gt;')\n          console.log(secret)\n}\n\nmain()\n  .then(() =&gt; {\n    console.log(\"Successfully executed sample.\");\n  })\n  .catch((err) =&gt; {\n    console.log(err.message);\n  });\n</code></pre></li>\n</ol>\n"}], "owner": {"reputation": 6293, "user_id": 443927, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/0f8fe85ecd01ea336027317e8c40ea48?s=128&d=identicon&r=PG", "display_name": "Erick T", "link": "https://stackoverflow.com/users/443927/erick-t"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 293, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1574837636, "creation_date": 1574815786, "question_id": 59061495, "link": "https://stackoverflow.com/questions/59061495/how-do-i-use-user-ad-account-when-using-secretclient-in-node-typescript", "title": "How do I use user AD account when using SecretClient in node/TypeScript?", "body": "<p>I am trying to use the Azure Key Vault Secret client library (<a href=\"https://www.npmjs.com/package/@azure/keyvault-secrets\" rel=\"nofollow noreferrer\">https://www.npmjs.com/package/@azure/keyvault-secrets</a>) and I'm running into problems with authentication. The examples all use a service principal, but I am trying to also allow access using an AD user. This could be by getting the user from the running context or via username/password. Is this possible using this library? If not, do I need to use a different library, or do I need to make the REST calls directly?</p>\n"}, {"tags": ["typescript", "typescript-typings"], "answers": [{"comments": [{"owner": {"reputation": 8401, "user_id": 394431, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/64c2e0055e05bf28a87ed9d52b444e39?s=128&d=identicon&r=PG", "display_name": "Robert Tupelo-Schneck", "link": "https://stackoverflow.com/users/394431/robert-tupelo-schneck"}, "edited": false, "score": 0, "creation_date": 1596668019, "post_id": 59061859, "comment_id": 111888535, "body": "But <a href=\"https://github.com/microsoft/TypeScript/issues/33901\" rel=\"nofollow noreferrer\">Using /// &lt;reference lib=&quot;dom&quot; /&gt; in a .d.ts typescript declaration file has global effects</a>; so your entire project will end up with the lib.dom values in global scope."}, {"owner": {"reputation": 73871, "user_id": 1426891, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gFJE8.png?s=128&g=1", "display_name": "Jeff Bowman", "link": "https://stackoverflow.com/users/1426891/jeff-bowman"}, "reply_to_user": {"reputation": 8401, "user_id": 394431, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/64c2e0055e05bf28a87ed9d52b444e39?s=128&d=identicon&r=PG", "display_name": "Robert Tupelo-Schneck", "link": "https://stackoverflow.com/users/394431/robert-tupelo-schneck"}, "edited": false, "score": 1, "creation_date": 1596734814, "post_id": 59061859, "comment_id": 111913480, "body": "@RobertTupelo-Schneck Yes; that&#39;s by design. Typescript assumes that if you&#39;re running in an execution environment that needs and uses those definitions, you should include them all. I can see why you might want specific interfaces or definitions instead of everything, but to the best of my understanding Typescript doesn&#39;t support that, and if it ever does I&#39;d happily upvote that answer over mine. In the meantime, Ryan has recommended <a href=\"https://github.com/microsoft/TypeScript/issues/39100#issuecomment-645458394\" rel=\"nofollow noreferrer\">separate tsconfig files</a> in an issue duped against the one you linked."}], "tags": [], "owner": {"reputation": 73871, "user_id": 1426891, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gFJE8.png?s=128&g=1", "display_name": "Jeff Bowman", "link": "https://stackoverflow.com/users/1426891/jeff-bowman"}, "is_accepted": false, "score": 2, "last_activity_date": 1574819160, "creation_date": 1574819160, "answer_id": 59061859, "question_id": 59061266, "link": "https://stackoverflow.com/questions/59061266/can-i-import-dom-types-explicitly/59061859#59061859", "title": "Can I import dom types explicitly?", "body": "<p>You may not <code>import</code> from <code>lib.dom.d.ts</code>; it is not a module, and provides declarations that should be available in the global namespace. However, you can avoid the need for changes to tsconfig.json by adding a reference to the library you want from the files that use it.</p>\n\n<p>To express a reference to DOM libraries from within Typescript files, you can use <a href=\"https://www.typescriptlang.org/docs/handbook/triple-slash-directives.html#-reference-lib-\" rel=\"nofollow noreferrer\">Triple Slash Directives</a>\u2014specifically, <code>lib=\"dom\"</code>, which defines <a href=\"https://github.com/microsoft/TypeScript/blob/48fa3a5f18a7090a7b3fb8836159fee7e48a8013/lib/lib.dom.d.ts#L6693\" rel=\"nofollow noreferrer\">HTMLElement</a> and <a href=\"https://github.com/microsoft/TypeScript/blob/48fa3a5f18a7090a7b3fb8836159fee7e48a8013/lib/lib.dom.d.ts#L10682\" rel=\"nofollow noreferrer\">MessagePort</a>.</p>\n\n<p>As documented, this must occur <em>at the top of your file</em> (with the exception of other comments):</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>/// &lt;reference lib=\"dom\" /&gt;\n</code></pre>\n\n<p><strong>See also:</strong> <a href=\"https://stackoverflow.com/q/40949693/1426891\">Can I import *.d.ts instead of require it?</a></p>\n"}], "owner": {"reputation": 3895, "user_id": 4040931, "user_type": "registered", "accept_rate": 25, "profile_image": "https://graph.facebook.com/705151302/picture?type=large", "display_name": "David Alsh", "link": "https://stackoverflow.com/users/4040931/david-alsh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1029, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1574819160, "creation_date": 1574813804, "question_id": 59061266, "link": "https://stackoverflow.com/questions/59061266/can-i-import-dom-types-explicitly", "title": "Can I import dom types explicitly?", "body": "<p>Conventionally, developers would include global dom types globally and use them globally. </p>\n\n<pre><code>{\n  \"compilerOptions\": {\n    \"lib\": [\n      \"dom\"\n    ]\n  },\n}\n</code></pre>\n\n<p>Is it possible to use dom types explicitly?</p>\n\n<p>Something like:</p>\n\n<pre><code>import { MessagePort, HTMLElement } from 'dom'\n</code></pre>\n"}, {"tags": ["angular", "typescript", "angular-material"], "comments": [{"owner": {"reputation": 21295, "user_id": 5437671, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8ZlWc.png?s=128&g=1", "display_name": "R. Richards", "link": "https://stackoverflow.com/users/5437671/r-richards"}, "edited": false, "score": 0, "creation_date": 1574811939, "post_id": 59061000, "comment_id": 104361319, "body": "Maybe your navigate should be <code>this.routerService.navigate([&#39;&#47;es&#39;]);</code>. Are you getting any errors in the console?"}, {"owner": {"reputation": 207, "user_id": 11187561, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8564e6c3f51ec9ad8643c7a84d5b6b0b?s=128&d=identicon&r=PG&f=1", "display_name": "angleUr", "link": "https://stackoverflow.com/users/11187561/angleur"}, "reply_to_user": {"reputation": 21295, "user_id": 5437671, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8ZlWc.png?s=128&g=1", "display_name": "R. Richards", "link": "https://stackoverflow.com/users/5437671/r-richards"}, "edited": false, "score": 0, "creation_date": 1574812136, "post_id": 59061000, "comment_id": 104361370, "body": "Hi @R.Richards , thanks. I have some things to figure out with the specific address, however the main problem is actually that I cant get the value. There is no error in the console. And I put console.log&#39;s but they are not getting hit. Once I tried to alter the method to detect the value, it doesn&#39;t work at all anymore."}, {"owner": {"reputation": 21295, "user_id": 5437671, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8ZlWc.png?s=128&g=1", "display_name": "R. Richards", "link": "https://stackoverflow.com/users/5437671/r-richards"}, "edited": false, "score": 3, "creation_date": 1574812420, "post_id": 59061000, "comment_id": 104361447, "body": "Does this help you: <a href=\"https://stackoverflow.com/questions/50222738/angular-6-material-mat-select-change-method-removed\" title=\"angular 6 material mat select change method removed\">stackoverflow.com/questions/50222738/&hellip;</a>. Looks like <code>(selectionChange)</code> should be on <code>mat-select</code> and not <code>mat-option</code>"}], "answers": [{"tags": [], "owner": {"reputation": 1793, "user_id": 3763317, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9tHWe.jpg?s=128&g=1", "display_name": "Damian C", "link": "https://stackoverflow.com/users/3763317/damian-c"}, "is_accepted": true, "score": 3, "last_activity_date": 1574814101, "creation_date": 1574814101, "answer_id": 59061315, "question_id": 59061000, "link": "https://stackoverflow.com/questions/59061000/angular-how-to-get-value-selected-in-dropdown-menu/59061315#59061315", "title": "Angular - how to get value selected in dropdown menu?", "body": "<p>Try moving your selectionChanged to your select, not the option:</p>\n\n<pre><code>&lt;mat-form-field class=\"right\"&gt;\n      &lt;mat-select (selectionChange)=\"doSomething($event)\"&gt;\n          &lt;mat-option *ngFor=\"let language of languages\" [value]=\"language.value\" &gt;\n              {{language.viewValue}}\n          &lt;/mat-option&gt;\n    &lt;/mat-select&gt;\n&lt;/mat-form-field&gt;\n</code></pre>\n\n<p><a href=\"https://material.angular.io/components/select/api#MatSelect\" rel=\"nofollow noreferrer\">https://material.angular.io/components/select/api#MatSelect</a></p>\n"}, {"tags": [], "owner": {"reputation": 1125, "user_id": 12130501, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-UKDZ5pOqWow/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcaXx5P-3Kgn-EBgT2_TibEvDndQA/photo.jpg?sz=128", "display_name": "Mridul", "link": "https://stackoverflow.com/users/12130501/mridul"}, "is_accepted": false, "score": 2, "last_activity_date": 1574832945, "creation_date": 1574832945, "answer_id": 59063662, "question_id": 59061000, "link": "https://stackoverflow.com/questions/59061000/angular-how-to-get-value-selected-in-dropdown-menu/59063662#59063662", "title": "Angular - how to get value selected in dropdown menu?", "body": "<p>Or you can use ngModel to access value directly in your function</p>\n\n<pre><code>&lt;mat-form-field class=\"fullwidth\" required&gt;\n  &lt;mat-label&gt;Select&lt;/mat-label&gt;\n  &lt;mat-select [(ngModel)]=\"selectedItem\" (ngModelChange)=\"onSelectChange(selectedItem)\"&gt;\n    &lt;mat-option *ngFor=\"let obj of testArray\" [value]=\"obj.value\"&gt;\n      {{obj.name}}\n    &lt;/mat-option&gt;\n  &lt;/mat-select&gt;\n&lt;/mat-form-field&gt;\n</code></pre>\n\n<p>On your .ts file</p>\n\n<pre><code>onSelectChange(value) {\n//if value selected is spanish\n  if(value == \"es\")\n    this.routerService.navigate(['es/']);\n}\n</code></pre>\n"}], "owner": {"reputation": 207, "user_id": 11187561, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8564e6c3f51ec9ad8643c7a84d5b6b0b?s=128&d=identicon&r=PG&f=1", "display_name": "angleUr", "link": "https://stackoverflow.com/users/11187561/angleur"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1881, "favorite_count": 0, "accepted_answer_id": 59061315, "answer_count": 2, "score": 1, "last_activity_date": 1574832945, "creation_date": 1574811756, "last_edit_date": 1574818342, "question_id": 59061000, "link": "https://stackoverflow.com/questions/59061000/angular-how-to-get-value-selected-in-dropdown-menu", "title": "Angular - how to get value selected in dropdown menu?", "body": "<p><strong>Goal</strong>: I want to be able to have the user click a value in a dropdown, that will change the address of the site they are on, based on the selection.</p>\n\n<p><strong>Problem</strong>: I was able to get it to change the address, but it would do it no matter what selection they made. I want it to go to a different address for each selection. </p>\n\n<p>So if they choose \"English\" I want it to go to site.com/en. And if they choose Spanish I want it to go to site.com/es</p>\n\n<p><strong>What I tried</strong>: </p>\n\n<p>I tried the solution, and many variations of it from: <a href=\"https://stackoverflow.com/questions/48705555/how-to-get-id-of-selected-value-in-mat-select-option-in-angular-5\">How to get Id of selected value in Mat-Select Option in Angular 5</a>\nI also looked through Angular material documentation but it is a bit sparse on everything needed for this topic.</p>\n\n<p>Why is the specific selection not being recognized? </p>\n\n<p><strong>HTML</strong>:</p>\n\n<pre><code>&lt;mat-form-field class=\"right\"&gt;\n      &lt;mat-select&gt;\n          &lt;mat-option *ngFor=\"let language of languages\" [value]=\"language.value\" (selectionChange)=\"doSomething($event.value)\"&gt;\n              {{language.viewValue}}\n          &lt;/mat-option&gt;\n    &lt;/mat-select&gt;\n&lt;/mat-form-field&gt;\n</code></pre>\n\n<p><strong>TypeScript</strong>:</p>\n\n<pre><code>doSomething(event) {\n   //if value selected is spanish\n   if(event.value == \"es\")\n      this.routerService.navigate(['es/']);\n}\n</code></pre>\n"}, {"tags": ["reactjs", "typescript"], "comments": [{"owner": {"reputation": 69, "user_id": 11583203, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bc90b8bab730b468123ea752716ab5fb?s=128&d=identicon&r=PG&f=1", "display_name": "creerow", "link": "https://stackoverflow.com/users/11583203/creerow"}, "edited": false, "score": 0, "creation_date": 1600803988, "post_id": 59060762, "comment_id": 113202430, "body": "Did you find a solution to this?"}, {"owner": {"reputation": 4172, "user_id": 3088353, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/vGI0r.jpg?s=128&g=1", "display_name": "williamcodes", "link": "https://stackoverflow.com/users/3088353/williamcodes"}, "reply_to_user": {"reputation": 69, "user_id": 11583203, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bc90b8bab730b468123ea752716ab5fb?s=128&d=identicon&r=PG&f=1", "display_name": "creerow", "link": "https://stackoverflow.com/users/11583203/creerow"}, "edited": false, "score": 0, "creation_date": 1600861510, "post_id": 59060762, "comment_id": 113220508, "body": "nope, I did not find a solution"}], "answers": [{"tags": [], "owner": {"reputation": 1321, "user_id": 2253270, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3aa4d074fd9c86a44ccc95b74fbe51f8?s=128&d=identicon&r=PG", "display_name": "Jon Sakas", "link": "https://stackoverflow.com/users/2253270/jon-sakas"}, "is_accepted": false, "score": 0, "last_activity_date": 1618549561, "creation_date": 1618549561, "answer_id": 67119405, "question_id": 59060762, "link": "https://stackoverflow.com/questions/59060762/declare-module-in-typescript-with-both-default-and-named-exports/67119405#67119405", "title": "declare module in typescript with both default and named exports", "body": "<p>Try this:</p>\n<pre class=\"lang-js prettyprint-override\"><code>export { Modal, ModalGateway };\nexport default Carousel;\n</code></pre>\n"}], "owner": {"reputation": 4172, "user_id": 3088353, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/vGI0r.jpg?s=128&g=1", "display_name": "williamcodes", "link": "https://stackoverflow.com/users/3088353/williamcodes"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 97, "favorite_count": 0, "answer_count": 1, "score": 3, "last_activity_date": 1618549561, "creation_date": 1574810061, "last_edit_date": 1574815854, "question_id": 59060762, "link": "https://stackoverflow.com/questions/59060762/declare-module-in-typescript-with-both-default-and-named-exports", "title": "declare module in typescript with both default and named exports", "body": "<p>I am using a library called \"react-images\" which doesn't have up-to-date type definitions. As a result, I need to open up the namespace and create them. The problem is, the library has both default and named exports and I'm having trouble getting typescript to handle both kinds of exports correctly.</p>\n\n<p>Named imports work out of the box, all you need to do is declare the classes. If you want a default export though, you need to use <a href=\"https://www.typescriptlang.org/docs/handbook/modules.html#export--and-import--require\" rel=\"nofollow noreferrer\">the export syntax discussed here</a>. Unfortunately, when I added the line <code>export = Carousel</code>, the named imports broke.</p>\n\n<p>I need to be able to do this:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>// project.tsx\n\nimport Carousel, { Modal, ModalGateway } from \"react-images\";\n</code></pre>\n\n<p>Here's what I've got so far:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>// reactImages.d.ts\n\nimport React from \"react\";\n\ndeclare module \"react-images\" {\n  interface ModalProps {\n    onClose: () =&gt; void;\n  }\n\n  declare class Modal extends React.Component&lt;ModalProps&gt; {\n    public constructor(props: ModalProps);\n  }\n\n  declare class ModalGateway extends React.Component&lt;&gt; {\n    public constructor(props: ModalGatewayProps);\n  }\n\n  interface CarouselProps {\n    currentIndex: number;\n    views: { source: string }[];\n  }\n\n  declare class Carousel extends React.Component&lt;CarouselProps&gt; {\n    public constructor(props: CarouselProps);\n  }\n  export = Carousel\n}\n</code></pre>\n"}]