[{"tags": ["javascript", "angularjs", "typescript", "ionic-framework", "ionic2"], "comments": [{"owner": {"reputation": 5016, "user_id": 4254681, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/17tFz.jpg?s=128&g=1", "display_name": "Duannx", "link": "https://stackoverflow.com/users/4254681/duannx"}, "edited": false, "score": 0, "creation_date": 1508379561, "post_id": 46820477, "comment_id": 80591233, "body": "Have any relation between  <code>this.seeds</code> and <code>this.items</code>?"}, {"owner": {"reputation": 621, "user_id": 6579134, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/07e842fb23846ce7b45f305a0fc16bc5?s=128&d=identicon&r=PG&f=1", "display_name": "user6579134", "link": "https://stackoverflow.com/users/6579134/user6579134"}, "reply_to_user": {"reputation": 5016, "user_id": 4254681, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/17tFz.jpg?s=128&g=1", "display_name": "Duannx", "link": "https://stackoverflow.com/users/4254681/duannx"}, "edited": false, "score": 0, "creation_date": 1508389819, "post_id": 46820477, "comment_id": 80593643, "body": "Sorry it was a mistake, I\u2019ve corrected the question"}, {"owner": {"reputation": 5016, "user_id": 4254681, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/17tFz.jpg?s=128&g=1", "display_name": "Duannx", "link": "https://stackoverflow.com/users/4254681/duannx"}, "edited": false, "score": 0, "creation_date": 1508393914, "post_id": 46820477, "comment_id": 80594872, "body": "Your filter function looks fine. Can you show one item data in JSON?"}, {"owner": {"reputation": 621, "user_id": 6579134, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/07e842fb23846ce7b45f305a0fc16bc5?s=128&d=identicon&r=PG&f=1", "display_name": "user6579134", "link": "https://stackoverflow.com/users/6579134/user6579134"}, "reply_to_user": {"reputation": 5016, "user_id": 4254681, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/17tFz.jpg?s=128&g=1", "display_name": "Duannx", "link": "https://stackoverflow.com/users/4254681/duannx"}, "edited": false, "score": 0, "creation_date": 1508407459, "post_id": 46820477, "comment_id": 80602135, "body": "{             &quot;farm_name&quot;: &quot;Southbridge Towers&quot;,             &quot;latitude&quot;: 40.709206,             &quot;longitude&quot;: -74.003434         },"}], "owner": {"reputation": 621, "user_id": 6579134, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/07e842fb23846ce7b45f305a0fc16bc5?s=128&d=identicon&r=PG&f=1", "display_name": "user6579134", "link": "https://stackoverflow.com/users/6579134/user6579134"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 37, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1508389654, "creation_date": 1508367578, "last_edit_date": 1508389654, "question_id": 46820477, "link": "https://stackoverflow.com/questions/46820477/ionic-2-search-filter-keep-reloading-page", "title": "ionic 2 search filter keep reloading page", "body": "<p>I'm working on an ionic 2 app where i need to apply a filter on a particular page. from my script what happens is, when i start typing it and starts filtering the page keeps on reloading back to its former state.</p>\n\n<pre><code> getroutes() {\n          this.http.post('http://localhost/app/get_products.php',{'trans_type':this.user_type_send}).map(res =&gt; res.json()).subscribe(data =&gt;{\n            console.log(JSON.stringify(data));\n            this.items= data;\n        })\n\n      }\n      ngOnInit() {\n\n        let loader = this.LoadingController.create({\n          content: 'Please Wait'\n          });\n          loader.present().then(()=&gt;{\n           this.getroutes();\n          loader.dismiss();\n        })\n      }\n\n      filterItems(ev: any) {\n        this.getroutes();\n        let val = ev.target.value;\n\n        if (val &amp;&amp; val.trim() !== '') {\n          this.items = this.items.filter(function(item) {\n            return item.farm_name.toLowerCase().includes(val.toLowerCase());\n          });\n        }\n      }\n</code></pre>\n"}, {"tags": ["typescript", "sharepoint", "spfx"], "answers": [{"tags": [], "owner": {"reputation": 588, "user_id": 8944908, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wbBVj.jpg?s=128&g=1", "display_name": "Connor Dickson", "link": "https://stackoverflow.com/users/8944908/connor-dickson"}, "is_accepted": true, "score": 0, "last_activity_date": 1511419938, "creation_date": 1511419938, "answer_id": 47449272, "question_id": 46820073, "link": "https://stackoverflow.com/questions/46820073/variables-in-spfx-projects/47449272#47449272", "title": "Variables in SPFx projects?", "body": "<p>During the setup of the component (tsx) you can pass props into it, you can move your logic to another class and pass parameters to the method when you call it. You shouldn't really need a global variable. If you can't access something from outside the component write a method inside it. If you need to call this method from an external class you can pass 'this' (the current component) as a parameter. </p>\n\n<p>There is a concept of a global variable if you want to read up on it here (<a href=\"https://docs.microsoft.com/en-us/sharepoint/dev/spfx/web-parts/guidance/share-data-between-web-parts#store-the-retrieved-data-in-a-globally-scoped-variable\" rel=\"nofollow noreferrer\">https://docs.microsoft.com/en-us/sharepoint/dev/spfx/web-parts/guidance/share-data-between-web-parts#store-the-retrieved-data-in-a-globally-scoped-variable</a>) but you shouldn't need it in your case while you can use props and state</p>\n\n<p>Hope this clarifies things</p>\n"}], "owner": {"reputation": 437, "user_id": 1647352, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/zN0dT.jpg?s=128&g=1", "display_name": "Dr. Sushi", "link": "https://stackoverflow.com/users/1647352/dr-sushi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2057, "favorite_count": 0, "accepted_answer_id": 47449272, "answer_count": 1, "score": 1, "last_activity_date": 1511419938, "creation_date": 1508364901, "question_id": 46820073, "link": "https://stackoverflow.com/questions/46820073/variables-in-spfx-projects", "title": "Variables in SPFx projects?", "body": "<p>I'm working on a web part using SPFx with React framework, the presentation layer in on a file called Refiner.tsx, while on the other hand I have my logic on a another file called RefinerWebPart.ts.</p>\n\n<p>How do I get a \"global\" (for the lack of better term) to be accessible on both modules?</p>\n"}, {"tags": ["reactjs", "typescript", "redux", "react-redux"], "comments": [{"owner": {"reputation": 78357, "user_id": 3603, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/7eaba3dd7c0fdce655ab50f001f23cc0?s=128&d=identicon&r=PG", "display_name": "Richard Szalay", "link": "https://stackoverflow.com/users/3603/richard-szalay"}, "edited": false, "score": 0, "creation_date": 1508362867, "post_id": 46819599, "comment_id": 80586891, "body": "Shouldn&#39;t <code>export default connect(null, AuthStore.actionCreators)(Layout) as typeof Layout;</code> be <code>... as Layout;</code>?"}, {"owner": {"reputation": 123, "user_id": 7134059, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/88382f7e713954240514088ff105cf93?s=128&d=identicon&r=PG&f=1", "display_name": "Coel Drysdale", "link": "https://stackoverflow.com/users/7134059/coel-drysdale"}, "reply_to_user": {"reputation": 78357, "user_id": 3603, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/7eaba3dd7c0fdce655ab50f001f23cc0?s=128&d=identicon&r=PG", "display_name": "Richard Szalay", "link": "https://stackoverflow.com/users/3603/richard-szalay"}, "edited": false, "score": 0, "creation_date": 1508363725, "post_id": 46819599, "comment_id": 80587216, "body": "I tried     export default connect(null, AuthStore.actionCreators)(Layout) as Layout; and it resulted in another error. I followed the former pattern as it has been used in other components that microsoft provided."}], "owner": {"reputation": 123, "user_id": 7134059, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/88382f7e713954240514088ff105cf93?s=128&d=identicon&r=PG&f=1", "display_name": "Coel Drysdale", "link": "https://stackoverflow.com/users/7134059/coel-drysdale"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 515, "favorite_count": 1, "answer_count": 0, "score": 2, "last_activity_date": 1508362355, "creation_date": 1508362355, "question_id": 46819599, "link": "https://stackoverflow.com/questions/46819599/getting-initial-state-with-redux-in-typescript", "title": "Getting initial state with Redux in typescript", "body": "<p>I'm having a hard time with typescript, in particular Microsoft's dotnet new react-redux.</p>\n\n<p>I am trying to call an action on startup to find out if a user is logged in or not, but typescript doesn't like it and I don't understand the error.</p>\n\n<p>Here is the Layout code:</p>\n\n<pre><code>import * as React from \"react\";\nimport { NavMenu } from \"./NavMenu\";\nimport { connect } from \"react-redux\";\nimport * as AuthStore from \"../store/Auth\";\n\ntype LayoutProps = typeof AuthStore.actionCreators;\n\nclass Layout extends React.Component&lt;LayoutProps, {}&gt; {\n  componentDidMount() {\n    this.props.getLoggedInUser();\n  }\n  public render() {\n    return (\n      &lt;div className=\"container-fluid\"&gt;\n        &lt;div className=\"row\"&gt;\n          &lt;div className=\"col-sm-3\"&gt;\n            &lt;NavMenu /&gt;\n          &lt;/div&gt;\n          &lt;div className=\"col-sm-9\"&gt;{this.props.children}&lt;/div&gt;\n        &lt;/div&gt;\n      &lt;/div&gt;\n    );\n  }\n}\n\nexport default connect(null, AuthStore.actionCreators)(Layout) as typeof Layout;\n</code></pre>\n\n<p>And this is the routes code which is causing the issue.</p>\n\n<pre><code>import * as React from \"react\";\nimport { BrowserRouter, Route } from \"react-router-dom\";\nimport Layout from \"./components/Layout\";\nimport Home from \"./components/Home\";\nimport FetchData from \"./components/FetchData\";\nimport Counter from \"./components/Counter\";\nimport SignUp from \"./components/SignUp\";\nimport SignIn from \"./components/SignIn\";\n\nexport const routes = (\n  &lt;Layout&gt;\n    &lt;div&gt;\n      &lt;Route exact path=\"/\" component={Home} /&gt;\n      &lt;Route path=\"/counter\" component={Counter} /&gt;\n      &lt;Route path=\"/fetchdata/:startDateIndex?\" component={FetchData} /&gt;\n      &lt;Route path=\"/signup\" component={SignUp} /&gt;\n      &lt;Route path=\"/signin\" component={SignIn} /&gt;\n    &lt;/div&gt;\n  &lt;/Layout&gt;\n);\n</code></pre>\n\n<p>The error I'm getting is:</p>\n\n<pre><code>TS2322: Type '{ children: Element; }' is not assignable to type 'IntrinsicAttributes &amp; IntrinsicClassAttributes&lt;Layout&gt; &amp; Readonly&lt;{ children?: ReactNode; }&gt; &amp; Re...'\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/iEv77.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/iEv77.png\" alt=\"error\"></a></p>\n"}, {"tags": ["angular", "typescript", "firebase", "firebase-realtime-database", "firebase-authentication"], "answers": [{"tags": [], "owner": {"reputation": 21, "user_id": 7520223, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/db4cebb276d78234c3e09a8b723539b4?s=128&d=identicon&r=PG&f=1", "display_name": "Sericet", "link": "https://stackoverflow.com/users/7520223/sericet"}, "is_accepted": true, "score": 1, "last_activity_date": 1508366268, "creation_date": 1508366268, "answer_id": 46820297, "question_id": 46819533, "link": "https://stackoverflow.com/questions/46819533/how-to-add-user-to-database-and-authorize-user-as-well/46820297#46820297", "title": "How to add user to database and authorize user as well", "body": "<p>I was able to answer my own question.</p>\n\n<p>I went and studied promises in more detailed and learned that a promise can have chained .then functions. .then functions are called in order in which they are written and only fire when the previous promise has been completed.</p>\n\n<p>so in the firebaseService.ts file.</p>\n\n<pre><code>  register(username:string, email:string, password:string)\n  {\n    return new Promise ((resolve, reject) =&gt;{\n      this.afAuth.auth.createUserWithEmailAndPassword(email,password)\n      .then( (userData) =&gt; {resolve(userData), \n      err =&gt; reject(err) \n        return userData}) //make sure to return the parameters you want to use in the next .then call.\n      .then( (userData) =&gt; {\n        console.log(\"The userData is +: \" + userData.uid)\n      });\n\n    });\n</code></pre>\n"}], "owner": {"reputation": 21, "user_id": 7520223, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/db4cebb276d78234c3e09a8b723539b4?s=128&d=identicon&r=PG&f=1", "display_name": "Sericet", "link": "https://stackoverflow.com/users/7520223/sericet"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 412, "favorite_count": 0, "accepted_answer_id": 46820297, "answer_count": 1, "score": 0, "last_activity_date": 1508383899, "creation_date": 1508362046, "last_edit_date": 1508383899, "question_id": 46819533, "link": "https://stackoverflow.com/questions/46819533/how-to-add-user-to-database-and-authorize-user-as-well", "title": "How to add user to database and authorize user as well", "body": "<p>I am learning angular with firebase. I am currently trying to create a user in firebase but also add that user to the database with their email and user Id.</p>\n\n<p>I have a component that is calling my firebase service.</p>\n\n<p>//register.component.ts</p>\n\n<pre><code>    import { FirebaseService } from '../../services/firebase.service';\nimport { Component, OnInit } from '@angular/core';\n\n\n@Component({\n  selector: 'app-register',\n  templateUrl: './register.component.html',\n  styleUrls: ['./register.component.css']\n})\nexport class RegisterComponent implements OnInit {\n\n  username:string;\n  email:string;\n  password:string;\n  constructor(\n   private firebaseService:FirebaseService\n  ) {\n\n  }\n\n  ngOnInit() {\n  }\n\n  OnSubmit()\n  {\n    this.firebaseService.register(this.username,this.email,this.password)\n    .then( (res) =&gt;{\n      console.log(\"firebase has registered the user: \"+ res);\n    })\n    .catch( (err)=&gt;{\n      console.log(\"There was an error registering: \"+ err.message);\n    });\n\n  }\n}\n</code></pre>\n\n<p>and this is the service\nfirebase.service.ts</p>\n\n<pre><code>import { Injectable } from '@angular/core';\nimport { AngularFireDatabase, AngularFireList } from \"angularfire2/database\"; \nimport{ AngularFireAuth} from 'angularfire2/auth';\nimport {Observable} from 'rxjs/Observable';\nimport * as firebase from 'firebase/app';\n\n@Injectable()\nexport class FirebaseService {\n users: AngularFireList&lt;any[]&gt;;\n\n  constructor(\n    public afAuth: AngularFireAuth,\n    public  af: AngularFireDatabase\n  ) {\n    this.users = af.list('users/');\n   }\n\n  register(username:string, email:string, password:string)\n  {\n    return new Promise ((resolve, reject) =&gt;{\n      this.afAuth.auth.createUserWithEmailAndPassword(email,password)\n      .then( (userData) =&gt; {resolve(userData), \n      err =&gt; reject(err) });\n\n    });\n  }\n}\n</code></pre>\n\n<p>I am not receiving any errors and the register function is creating the user as a registered user but I do not know how to add that user to the database in the path 'users/'</p>\n\n<p>I know the userData object returned contains all of the user information but I do not know where in the .then part that I would write the code to add that user to the database. I know firebase has just recently changed to AngularFireList instead of AngularFireListObservables and that is making it hard to find answers.</p>\n\n<p>Thank you for any help you are able to give. Been working on this for a while now.</p>\n"}, {"tags": ["twitter-bootstrap", "angular", "typescript", "bootstrap-modal", "bootstrap-4"], "answers": [{"tags": [], "owner": {"reputation": 3084, "user_id": 1941654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a0e446b8cae7132038fefdb922b7d233?s=128&d=identicon&r=PG", "display_name": "Mike Hill", "link": "https://stackoverflow.com/users/1941654/mike-hill"}, "is_accepted": true, "score": 2, "last_activity_date": 1508364056, "last_edit_date": 1508364056, "creation_date": 1508363455, "answer_id": 46819819, "question_id": 46819512, "link": "https://stackoverflow.com/questions/46819512/resetting-variable-in-angular-2-4-before-rendering-bootstrap-modal/46819819#46819819", "title": "Resetting variable in Angular 2/4 before rendering Bootstrap modal", "body": "<p>What appears to be happening for you is that the <code>data-toggle=\"modal\"</code> anchor element (with <code>(click)=\"getArtworkDetail(artwork.id)\"</code>) triggers the modal before the request for the artwork detail has completed.</p>\n\n<p>Try these two things:</p>\n\n<ol>\n<li>Remove the <code>*ngIf=\"details\"</code> directive from the modal div. Instead, put <code>*ngIf=\"details\"</code> on an inner element -- perhaps the <code>.modal-body</code> element or a container div inside of that element.\n\n<ul>\n<li>This will allow the thumbnail button to trigger the modal without having to wait for the artwork detail to load</li>\n</ul></li>\n<li>Add <code>this.details = null;</code> back to <code>getArtworkDetail</code> as the first line of the function. This will clear out all of the old detail information as the new detail information is loading.</li>\n</ol>\n\n<p>You will likely want to display a spinner until that request has completed at some point. In that case, you can use your <code>*ngIf=\"details\"</code> directive to provide a spinner while the <code>details</code> value is null: <code>*ngIf=\"details; else spinner\"</code>.</p>\n\n<hr>\n\n<p>The single-threaded nature that your colleague referred to is actually with regards to JavaScript, rather than TypeScript, since TypeScript gets compiled to JavaScript before being executed. JavaScript effectively has runs as a single-threaded event-loop (although this is not <a href=\"https://stackoverflow.com/questions/2734025/is-javascript-guaranteed-to-be-single-threaded\">guaranteed</a>), but certain tasks triggered from these events may occur asynchronously. One such asynchronous task is an XMLHttpRequest. Since this occurs asynchronously, the script does not have to wait for it to complete before attempting to display the modal, which is where your problem seems to lie.</p>\n"}, {"tags": [], "owner": {"reputation": 480, "user_id": 4026317, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-7RUhktSfv0M/AAAAAAAAAAI/AAAAAAAAAKw/4tBdNapncSA/photo.jpg?sz=128", "display_name": "Florestan Korp", "link": "https://stackoverflow.com/users/4026317/florestan-korp"}, "is_accepted": false, "score": 1, "last_activity_date": 1508398482, "creation_date": 1508398482, "answer_id": 46824787, "question_id": 46819512, "link": "https://stackoverflow.com/questions/46819512/resetting-variable-in-angular-2-4-before-rendering-bootstrap-modal/46824787#46824787", "title": "Resetting variable in Angular 2/4 before rendering Bootstrap modal", "body": "<p><a href=\"https://stackoverflow.com/a/46819819/4026317\">As Mike Hill pointed out</a>\nthe solution was to add the <code>*ngIf</code> to an inner element and set my <code>this.details = null</code> which didn't work, but <code>this.details = undefined</code> worked so it ended up looking like this with the <code>*ngif</code> on the <code>modal-body</code>:</p>\n\n<p><strong>index.component.html</strong></p>\n\n<pre><code>...\n\n&lt;!--DETAIL--&gt;\n\n&lt;div\n  class=\"modal fade\"\n  id=\"myModal\" tabindex=\"-1\"\n  role=\"dialog\"\n  aria-labelledby=\"myModalLabel\"&gt;\n  &lt;div class=\"modal-dialog\"\n       role=\"document\"&gt;\n    &lt;div class=\"modal-content\"&gt;\n      &lt;div class=\"modal-header\"&gt;\n        &lt;button type=\"button\"\n                class=\"close\"\n                data-dismiss=\"modal\"\n                aria-label=\"Close\"&gt;\n          &lt;span aria-hidden=\"true\"&gt;&amp;times;&lt;/span&gt;\n        &lt;/button&gt;\n      &lt;/div&gt;\n      &lt;div class=\"modal-body\"\n           *ngIf=\"details\"&gt;\n        &lt;h1&gt;{{details.title}}&lt;/h1&gt;\n        &lt;h3&gt;{{details.artist}}&lt;/h3&gt;\n        &lt;img class=\"img-fluid\" src=\"{{details.url}}\"\n             alt=\"\"&gt;&lt;br&gt;&lt;br&gt;\n        &lt;p&gt;{{details.description}}&lt;/p&gt;\n      &lt;/div&gt;\n      &lt;div class=\"modal-footer\"&gt;\n        &lt;button type=\"button\"\n                class=\"btn btn-default\"\n                data-dismiss=\"modal\"&gt;Close\n        &lt;/button&gt;\n      &lt;/div&gt;\n    &lt;/div&gt;\n  &lt;/div&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p><strong>index.component.ts</strong></p>\n\n<pre><code>...\n\n  getArtworkDetail(id) {\n    this.details = undefined;\n    this.detailService.getArtworkDetail(id)\n      .subscribe((detailData: ArtworkDetailModel) =&gt; {\n          this.details = detailData;\n        }, err =&gt; console.log(err),\n        () =&gt; console.log('Getting details complete...'));\n  }\n</code></pre>\n"}], "owner": {"reputation": 480, "user_id": 4026317, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-7RUhktSfv0M/AAAAAAAAAAI/AAAAAAAAAKw/4tBdNapncSA/photo.jpg?sz=128", "display_name": "Florestan Korp", "link": "https://stackoverflow.com/users/4026317/florestan-korp"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2739, "favorite_count": 1, "accepted_answer_id": 46819819, "answer_count": 2, "score": 1, "last_activity_date": 1508398482, "creation_date": 1508361935, "last_edit_date": 1508362447, "question_id": 46819512, "link": "https://stackoverflow.com/questions/46819512/resetting-variable-in-angular-2-4-before-rendering-bootstrap-modal", "title": "Resetting variable in Angular 2/4 before rendering Bootstrap modal", "body": "<p>So I noticed a pretty weird effect on my bootstrap modals in combination with Angular 4, where the previously opened image pops in first before loading the newly selected image from my gallery. The reason is the value for my <strong>details</strong> variable is still populated with the old value from the previous (click) event. I can verify this in my console logs. My question is how do I reset this variable in my <strong>getArtworkDetail()</strong> method before giving it a new value?</p>\n\n<p>I tried setting it like </p>\n\n<pre><code>this.details = undefined;\n</code></pre>\n\n<p>or</p>\n\n<pre><code>this.details = null;\n</code></pre>\n\n<p>but it does't seem to register the value at all and instead prevents the modal from loading. My colleague said this is due to the single-threaded nature of TypeScript, but my research on the topic came up short, so I was hoping for some help here. Much obliged!</p>\n\n<p><strong>index.component.html</strong></p>\n\n<pre><code>&lt;!--SEARCH--&gt;\n\n&lt;div class=\"input-group\"&gt;\n  &lt;input #myInput\n         [(ngModel)]=\"searchTerm\"\n         type=\"text\"\n         class=\"form-control\"\n         placeholder=\"Search artist or artwork...\"\n         (keyup.enter)=\"search()\"/&gt;\n  &lt;span class=\"input-group-btn\"&gt;\n    &lt;button #myBtn\n            (click)=\"search()\"\n            class=\"btn btn-default\"\n            type=\"button\"&gt;Go!\n    &lt;/button&gt;\n  &lt;/span&gt;\n&lt;/div&gt;\n\n&lt;!--INDEX--&gt;\n\n&lt;div class=\"row\"\n     *ngIf=\"hasArtPieces\"&gt;\n  &lt;div *ngFor=\"let artwork of artworks\"\n       class=\"col-md-3 col-xs-12 centered\"&gt;\n    &lt;div class=\"card\"&gt;\n      &lt;a (click)=\"getArtworkDetail(artwork.id)\"\n         data-toggle=\"modal\"\n         data-target=\"#myModal\"&gt;\n        &lt;img class=\"img-fluid thumb-img\"\n             src=\"{{artwork.url}}\"\n             alt=\"Thumbnail\"&gt;\n      &lt;/a&gt;\n      &lt;div class=\"card-block\"&gt;\n        &lt;p style=\"text-align: center\"\n           *ngIf=\"artwork.title.length &lt; 20; then show else hide\"&gt;\n        &lt;/p&gt;\n        &lt;ng-template #show&gt;{{artwork.title }}&lt;/ng-template&gt;\n        &lt;ng-template #hide&gt;{{artwork.title.substring(0,20)}}...&lt;/ng-template&gt;\n      &lt;/div&gt;\n    &lt;/div&gt;\n    &lt;br&gt;\n  &lt;/div&gt;\n&lt;/div&gt;\n\n&lt;!--DETAIL--&gt;\n\n&lt;div *ngIf=\"details\"\n     class=\"modal fade\"\n     id=\"myModal\" tabindex=\"-1\"\n     role=\"dialog\"\n     aria-labelledby=\"myModalLabel\"&gt;\n  &lt;div class=\"modal-dialog\"\n       role=\"document\"&gt;\n    &lt;div class=\"modal-content\"&gt;\n      &lt;div class=\"modal-header\"&gt;\n        &lt;button type=\"button\"\n                class=\"close\"\n                data-dismiss=\"modal\"\n                aria-label=\"Close\"&gt;\n          &lt;span aria-hidden=\"true\"&gt;&amp;times;&lt;/span&gt;\n        &lt;/button&gt;\n      &lt;/div&gt;\n      &lt;div class=\"modal-body\"&gt;\n        &lt;h1&gt;{{details.title}}&lt;/h1&gt;\n        &lt;h3&gt;{{details.artist}}&lt;/h3&gt;\n        &lt;img class=\"img-fluid\" src=\"{{details.url}}\"\n             alt=\"\"&gt;&lt;br&gt;&lt;br&gt;\n        &lt;p&gt;{{details.description}}&lt;/p&gt;\n      &lt;/div&gt;\n      &lt;div class=\"modal-footer\"&gt;\n        &lt;button type=\"button\"\n                class=\"btn btn-default\"\n                data-dismiss=\"modal\"&gt;Close\n        &lt;/button&gt;\n      &lt;/div&gt;\n    &lt;/div&gt;\n  &lt;/div&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p><strong>index.component.ts</strong></p>\n\n<pre><code>// imports emitted    \n\n@Component({\n  selector: 'artwork-index',\n  templateUrl: './index.component.html',\n  styleUrls: ['./index.component.css']\n})\n\n\nexport class IndexComponent implements OnInit {\n  artworks: ArtworkModel[];\n  searchTerm: string;\n  details: ArtworkDetailModel;\n  hasArtPieces = false;\n\n  constructor(private detailService: ArtworkDetailsService, private artworksService: ArtworksService) {\n  }\n\n  search() {\n    if (this.searchTerm) {\n      this.searchArtworks(this.searchTerm);\n    }\n  }\n\n  searchArtworks(keyword) {\n    this.artworksService.searchArtworks(keyword)\n      .subscribe((artworkData: ArtworkModel[]) =&gt; {\n          this.artworks = artworkData;\n          this.hasArtPieces = true;\n        }, err =&gt; console.log(err),\n        () =&gt; console.log('Getting artworks complete...'));\n  }\n\n  getArtworkDetail(id) {\n    this.detailService.getArtworkDetail(id)\n      .subscribe((detailData: ArtworkDetailModel) =&gt; {\n          this.details = detailData;\n        }, err =&gt; console.log(err),\n        () =&gt; console.log('Getting details complete...'));\n  }\n\n  ngOnInit() {\n    this.searchArtworks('Rembrandt');\n  }\n}\n</code></pre>\n"}, {"tags": ["typescript"], "comments": [{"owner": {"reputation": 22049, "user_id": 6293409, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/74f518a7b20445607bcf0b09f4c26ce1?s=128&d=identicon&r=PG&f=1", "display_name": "CRice", "link": "https://stackoverflow.com/users/6293409/crice"}, "edited": false, "score": 0, "creation_date": 1508358922, "post_id": 46818608, "comment_id": 80584946, "body": "AFAIK, there is no way to do that automatically. As you say, the shorthand syntax is a way to assign a default value for a parameter only when it is omitted. If it is included, you&#39;ll have to check for undesired values manually. Oh, and <code>bar === NaN</code> is always false, use the function <code>isNaN(bar)</code> instead."}, {"owner": {"reputation": 32231, "user_id": 1033686, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/KsvGz.jpg?s=128&g=1", "display_name": "Matthew Layton", "link": "https://stackoverflow.com/users/1033686/matthew-layton"}, "reply_to_user": {"reputation": 22049, "user_id": 6293409, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/74f518a7b20445607bcf0b09f4c26ce1?s=128&d=identicon&r=PG&f=1", "display_name": "CRice", "link": "https://stackoverflow.com/users/6293409/crice"}, "edited": false, "score": 0, "creation_date": 1508359126, "post_id": 46818608, "comment_id": 80585036, "body": "@CRice updated to include <code>isNaN(bar)</code>"}, {"owner": {"reputation": 229185, "user_id": 251311, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/b6b0ca5d4ef200ec8e3cd1fa2aefd836?s=128&d=identicon&r=PG", "display_name": "zerkms", "link": "https://stackoverflow.com/users/251311/zerkms"}, "edited": false, "score": 0, "creation_date": 1508359985, "post_id": 46818608, "comment_id": 80585455, "body": "<code>Number.isNaN</code> should be used to check for the <code>NaN</code> value."}, {"owner": {"reputation": 32231, "user_id": 1033686, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/KsvGz.jpg?s=128&g=1", "display_name": "Matthew Layton", "link": "https://stackoverflow.com/users/1033686/matthew-layton"}, "reply_to_user": {"reputation": 229185, "user_id": 251311, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/b6b0ca5d4ef200ec8e3cd1fa2aefd836?s=128&d=identicon&r=PG", "display_name": "zerkms", "link": "https://stackoverflow.com/users/251311/zerkms"}, "edited": false, "score": 0, "creation_date": 1508360026, "post_id": 46818608, "comment_id": 80585478, "body": "@zerkms why <code>Number.isNaN</code> vs <code>isNaN</code>?"}, {"owner": {"reputation": 229185, "user_id": 251311, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/b6b0ca5d4ef200ec8e3cd1fa2aefd836?s=128&d=identicon&r=PG", "display_name": "zerkms", "link": "https://stackoverflow.com/users/251311/zerkms"}, "edited": false, "score": 0, "creation_date": 1508360087, "post_id": 46818608, "comment_id": 80585505, "body": "<a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number/isNaN\" rel=\"nofollow noreferrer\">developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/&hellip;</a> <code>isNaN(undefined); &#47;&#47; true</code> <code>Number.isNaN(undefined); &#47;&#47; false</code>"}], "answers": [{"comments": [{"owner": {"reputation": 229185, "user_id": 251311, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/b6b0ca5d4ef200ec8e3cd1fa2aefd836?s=128&d=identicon&r=PG", "display_name": "zerkms", "link": "https://stackoverflow.com/users/251311/zerkms"}, "edited": false, "score": 0, "creation_date": 1508370111, "post_id": 46820653, "comment_id": 80589074, "body": "Why did you change the signature and implemented the check for <code>undefined</code> manually?"}, {"owner": {"reputation": 204459, "user_id": 390330, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/1400be56ff17549b926dd3260da4a494?s=128&d=identicon&r=PG", "display_name": "basarat", "link": "https://stackoverflow.com/users/390330/basarat"}, "reply_to_user": {"reputation": 229185, "user_id": 251311, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/b6b0ca5d4ef200ec8e3cd1fa2aefd836?s=128&d=identicon&r=PG", "display_name": "zerkms", "link": "https://stackoverflow.com/users/251311/zerkms"}, "edited": false, "score": 2, "creation_date": 1508370867, "post_id": 46820653, "comment_id": 80589263, "body": "@zerkms so that it wasn&#39;t spread in two places. Updated to keep as much of original code as possible."}, {"owner": {"reputation": 229185, "user_id": 251311, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/b6b0ca5d4ef200ec8e3cd1fa2aefd836?s=128&d=identicon&r=PG", "display_name": "zerkms", "link": "https://stackoverflow.com/users/251311/zerkms"}, "edited": false, "score": 0, "creation_date": 1508371252, "post_id": 46820653, "comment_id": 80589360, "body": "I just realised, that for the ES2015 target it would not even emit the check for undefined, would it?"}, {"owner": {"reputation": 32231, "user_id": 1033686, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/KsvGz.jpg?s=128&g=1", "display_name": "Matthew Layton", "link": "https://stackoverflow.com/users/1033686/matthew-layton"}, "edited": false, "score": 0, "creation_date": 1510839205, "post_id": 46820653, "comment_id": 81612704, "body": "@basarat is there a way to use decorators to check NaN, i.e. <code>constructor(@CheckNaN value: number) { ... }</code>"}], "tags": [], "owner": {"reputation": 204459, "user_id": 390330, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/1400be56ff17549b926dd3260da4a494?s=128&d=identicon&r=PG", "display_name": "basarat", "link": "https://stackoverflow.com/users/390330/basarat"}, "is_accepted": true, "score": 2, "last_activity_date": 1508370833, "last_edit_date": 1508370833, "creation_date": 1508368899, "answer_id": 46820653, "question_id": 46818608, "link": "https://stackoverflow.com/questions/46818608/typescript-constructor-expression-for-nan-check/46820653#46820653", "title": "TypeScript - constructor expression for NaN check", "body": "<blockquote>\n  <p>Essentially I want TypeScript to generate</p>\n</blockquote>\n\n<p>You will have to write it yourself: </p>\n\n<pre><code>class Foo {\n    constructor(public bar: number = 0) {\n        if (isNaN(bar)) this.bar = 0;\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 32231, "user_id": 1033686, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/KsvGz.jpg?s=128&g=1", "display_name": "Matthew Layton", "link": "https://stackoverflow.com/users/1033686/matthew-layton"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 219, "favorite_count": 0, "accepted_answer_id": 46820653, "answer_count": 1, "score": 1, "last_activity_date": 1523020577, "creation_date": 1508358114, "last_edit_date": 1523020577, "question_id": 46818608, "link": "https://stackoverflow.com/questions/46818608/typescript-constructor-expression-for-nan-check", "title": "TypeScript - constructor expression for NaN check", "body": "<p>In TypeScript we can build constructors with default values like so:</p>\n\n<pre><code>class Foo {\n    constructor(public bar: number = 0) {\n        // this.bar is 0 if constructed with no arguments.\n    }\n}\n</code></pre>\n\n<p>TypeScript generates the following imperative:</p>\n\n<pre><code>if(bar === void 0) bar = 0;\n</code></pre>\n\n<p>Is there a way to declare a short-hand syntax, in a similar way to prevent NaN from being assigned?</p>\n\n<p>Essentially I want TypeScript to generate:</p>\n\n<pre><code>if(bar === void 0 || isNaN(bar)) bar = 0;\n</code></pre>\n"}, {"tags": ["javascript", "angular", "typescript", "angular-cli"], "comments": [{"owner": {"reputation": 6501, "user_id": 765965, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/ca44d9d17e752930c3f825bb7d815fed?s=128&d=identicon&r=PG", "display_name": "Al-Mothafar", "link": "https://stackoverflow.com/users/765965/al-mothafar"}, "edited": false, "score": 0, "creation_date": 1508357769, "post_id": 46818439, "comment_id": 80584326, "body": "The question is to broad I believe but anyway have you looked into this <a href=\"https://github.com/AngularClass/angular-starter\" rel=\"nofollow noreferrer\">github.com/AngularClass/angular-starter</a> , using it I was able to do 2 different projects, each project got 4 different environments, with single code base, so using webpack and with my version was reading JSON config file that I provide using EVN variable."}, {"owner": {"reputation": 359, "user_id": 4152018, "user_type": "registered", "profile_image": "https://graph.facebook.com/733168326/picture?type=large", "display_name": "James Quick", "link": "https://stackoverflow.com/users/4152018/james-quick"}, "edited": false, "score": 0, "creation_date": 1508378505, "post_id": 46818439, "comment_id": 80591027, "body": "Angular cli by default gives you development and production environment files that you can use. To store information like that. You can also define a proxy file to help with using various end points . You can pass the proxy file as a parameter to ng serve."}, {"owner": {"reputation": 16225, "user_id": 415078, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/ABa1l.png?s=128&g=1", "display_name": "angularrocks.com", "link": "https://stackoverflow.com/users/415078/angularrocks-com"}, "reply_to_user": {"reputation": 359, "user_id": 4152018, "user_type": "registered", "profile_image": "https://graph.facebook.com/733168326/picture?type=large", "display_name": "James Quick", "link": "https://stackoverflow.com/users/4152018/james-quick"}, "edited": false, "score": 0, "creation_date": 1508548768, "post_id": 46818439, "comment_id": 80666012, "body": "@JamesQuick seems like you talking about <a href=\"https://github.com/angular/angular-cli/blob/master/docs/documentation/stories/proxy.md\" rel=\"nofollow noreferrer\">github.com/angular/angular-cli/blob/master/docs/documentatio&zwnj;&#8203;n/&hellip;</a> but that it not the point and also you are not running <code>ng serve</code> on production."}, {"owner": {"reputation": 359, "user_id": 4152018, "user_type": "registered", "profile_image": "https://graph.facebook.com/733168326/picture?type=large", "display_name": "James Quick", "link": "https://stackoverflow.com/users/4152018/james-quick"}, "reply_to_user": {"reputation": 16225, "user_id": 415078, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/ABa1l.png?s=128&g=1", "display_name": "angularrocks.com", "link": "https://stackoverflow.com/users/415078/angularrocks-com"}, "edited": false, "score": 0, "creation_date": 1508548917, "post_id": 46818439, "comment_id": 80666037, "body": "@Kuncevic I certainly might be missing something. Your environment variables are picked up during the build process (either development or prod). So, if the question is how to have different sets of variables for dev and prod (which is my interpretation based on the example above, then that would solve the problem. The was just kind of an added thought.  I know you don&#39;t call ng serve in production :) Either way, if my understanding of the question is off, I&#39;d be happy to have more clarification"}, {"owner": {"reputation": 1389, "user_id": 1432788, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/c2dd72800b995c62393fc45c6010ede4?s=128&d=identicon&r=PG", "display_name": "Michael Harper", "link": "https://stackoverflow.com/users/1432788/michael-harper"}, "edited": false, "score": 0, "creation_date": 1508581382, "post_id": 46818439, "comment_id": 80671951, "body": "Hi guys, yeah the point was we needed to have environment specific javascript files to use outside of angular (or before it bootstraps) in the index.html, this meant the environment.ts files didn&#39;t help us. In the end we used a build step in azure to replace the contents of our &#39;auth.js&#39; with the environment specific versions"}, {"owner": {"reputation": 16225, "user_id": 415078, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/ABa1l.png?s=128&g=1", "display_name": "angularrocks.com", "link": "https://stackoverflow.com/users/415078/angularrocks-com"}, "edited": false, "score": 0, "creation_date": 1508621160, "post_id": 46818439, "comment_id": 80683750, "body": "@MichaelHarper just updated the answer."}], "answers": [{"comments": [{"owner": {"reputation": 1389, "user_id": 1432788, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/c2dd72800b995c62393fc45c6010ede4?s=128&d=identicon&r=PG", "display_name": "Michael Harper", "link": "https://stackoverflow.com/users/1432788/michael-harper"}, "edited": false, "score": 1, "creation_date": 1508752822, "post_id": 46859191, "comment_id": 80720292, "body": "Hi Kuncevic - this is what we ended up doing :)"}], "tags": [], "owner": {"reputation": 16225, "user_id": 415078, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/ABa1l.png?s=128&g=1", "display_name": "angularrocks.com", "link": "https://stackoverflow.com/users/415078/angularrocks-com"}, "is_accepted": true, "score": 2, "last_activity_date": 1508621766, "last_edit_date": 1508621766, "creation_date": 1508548708, "answer_id": 46859191, "question_id": 46818439, "link": "https://stackoverflow.com/questions/46818439/angular-4-create-assets-files-per-environment/46859191#46859191", "title": "Angular 4 create assets / files per environment?", "body": "<p>What we are doing in our case is actually having an <code>config.json</code> and <code>config.[env-name].json</code> files in <code>app/config</code> folder that configured in <a href=\"https://github.com/angular/angular-cli/blob/master/docs/documentation/stories/asset-configuration.md\" rel=\"nofollow noreferrer\">project assets</a>. The <code>config.json</code> file is getting fetched before angular bootstrap using browser <a href=\"https://developer.mozilla.org/en-US/docs/Web/API/Fetch_API\" rel=\"nofollow noreferrer\">Fetch API</a> </p>\n\n<p>On our build server we are just replacing the content of <code>config.json</code> with<code>config.staging.json</code> or <code>config.prod.json</code> based on environment build. Also we have <code>AppSettings</code> class that gets created on bootstrap. Here is how it is looks like:</p>\n\n<pre><code>fetch(configUrl, { method: 'get' })\n.then((response) =&gt; {\n  response.json()\n    .then((data: any) =&gt; {\n      if (environment.production) {\n        enableProdMode();\n      };\n      platformBrowserDynamic([{ provide: AppSettings, useValue: new AppSettings(data.config) }]).bootstrapModule(AppModule);\n    });\n});\n</code></pre>\n\n<p><strong>UPDATE</strong>: \nIf you need to stick some values based on your env in to <code>index.html</code> you might need to consider doing that on your build server. You can rather <code>string replace</code> the values or you can have <code>index.[env-name].thml</code> files so you just overwrite the <code>index.html</code> based on environment build.</p>\n\n<p>Also check out this issues<br>\n - <a href=\"https://github.com/angular/angular-cli/issues/7506\" rel=\"nofollow noreferrer\">https://github.com/angular/angular-cli/issues/7506</a><br>\n - <a href=\"https://github.com/angular/angular-cli/issues/3855\" rel=\"nofollow noreferrer\">https://github.com/angular/angular-cli/issues/3855</a></p>\n"}], "owner": {"reputation": 1389, "user_id": 1432788, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/c2dd72800b995c62393fc45c6010ede4?s=128&d=identicon&r=PG", "display_name": "Michael Harper", "link": "https://stackoverflow.com/users/1432788/michael-harper"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2316, "favorite_count": 1, "accepted_answer_id": 46859191, "answer_count": 1, "score": 2, "last_activity_date": 1508621766, "creation_date": 1508357480, "last_edit_date": 1508357926, "question_id": 46818439, "link": "https://stackoverflow.com/questions/46818439/angular-4-create-assets-files-per-environment", "title": "Angular 4 create assets / files per environment?", "body": "<p>We use environment variables within our angular app to read settings etc but is there a way to generate assets/files on build?</p>\n\n<p>Basically we'd like to create an 'auth/settings.js' file in the assets folder containing client id's and apiUrl's unique to each environment. These will be used in the index.html (so outside of the angular app bootstrap )</p>\n\n<p>e.g. the values in the environment.ts exported into a js / json file output to the assets folder so they can be read in index.html</p>\n\n<pre><code>export const environment = {\nproduction: false,\ntitle: 'default',\nclientId: 'xxxx-xxxx-xxxx-xxxx-xxxx',\nclientUrl: 'https://localhost:4200/app',\napiUrl: 'https://localhost/api'\n\n};\n</code></pre>\n\n<p>I have read that you can use mulitapps:</p>\n\n<p><a href=\"https://github.com/angular/angular-cli/wiki/stories-multiple-apps\" rel=\"nofollow noreferrer\">https://github.com/angular/angular-cli/wiki/stories-multiple-apps</a></p>\n\n<p>This may work but looks like a lot of copy and pasting and we'll have quite a few versions of the build - I'm not sure if you can declare the common settings once and just extend the extra app settings (inheritance)?</p>\n\n<p>Thanks</p>\n"}, {"tags": ["angular", "typescript", "firebase", "ionic2"], "answers": [{"comments": [{"owner": {"reputation": 43, "user_id": 8797849, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/1e618e31f8f685dac3a9b9a5af3a4e98?s=128&d=identicon&r=PG&f=1", "display_name": "Ahmet", "link": "https://stackoverflow.com/users/8797849/ahmet"}, "edited": false, "score": 0, "creation_date": 1508362799, "post_id": 46818816, "comment_id": 80586857, "body": "This comment guided me. Thanks"}], "tags": [], "owner": {"reputation": 689, "user_id": 3635680, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/CE3mg.png?s=128&g=1", "display_name": "Tim Hovius", "link": "https://stackoverflow.com/users/3635680/tim-hovius"}, "is_accepted": true, "score": 1, "last_activity_date": 1508359387, "last_edit_date": 1508359387, "creation_date": 1508358942, "answer_id": 46818816, "question_id": 46818299, "link": "https://stackoverflow.com/questions/46818299/how-to-take-data-from-last-entry-on-firebase-realtime-chat/46818816#46818816", "title": "How to take data from last entry on firebase realtime chat", "body": "<p>My suggestion is to add a <strong>datetime field</strong> and limit the result with:</p>\n\n<pre><code>orderByChild(\"dateTime\").limitToLast(1)\n</code></pre>\n\n<p>In your situation your code will be:  </p>\n\n<pre><code>this.db.list('/'+this.navParams.get(\"chatid\").orderByChild(\"dateTime\").limitToLast(1)\n</code></pre>\n"}], "owner": {"reputation": 43, "user_id": 8797849, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/1e618e31f8f685dac3a9b9a5af3a4e98?s=128&d=identicon&r=PG&f=1", "display_name": "Ahmet", "link": "https://stackoverflow.com/users/8797849/ahmet"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 373, "favorite_count": 0, "accepted_answer_id": 46818816, "answer_count": 1, "score": 1, "last_activity_date": 1508359387, "creation_date": 1508356922, "question_id": 46818299, "link": "https://stackoverflow.com/questions/46818299/how-to-take-data-from-last-entry-on-firebase-realtime-chat", "title": "How to take data from last entry on firebase realtime chat", "body": "<p>I added chat on my project. I use firebase realtime database.</p>\n\n<p>But I don\u2019t want to take all data on database , I would like to take data from last entry like whatsapp.</p>\n\n<p>how can I do this?</p>\n\n<p>I take data with this code;</p>\n\n<pre><code> messages: object[] = [];\n _chatSubscription;\n\n  constructor(public navCtrl: NavController, public navParams: NavParams,public db: AngularFireDatabase,public camera:Camera,private imagePicker:ImagePicker,\n    public cropService: Crop,public translate: TranslateService,private toastCtrl: ToastController) {\n    this.username = this.navParams.get('username');\n    this._chatSubscription = this.db.list('/'+this.navParams.get(\"chatid\")).subscribe( data =&gt; {\n      this.messages = data;\n    });\n  }\n</code></pre>\n\n<p>Thanks , have a nice day.</p>\n"}, {"tags": ["javascript", "node.js", "typescript", "npm"], "comments": [{"owner": {"reputation": 1419, "user_id": 204275, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/97c1d7c7d7d48017ce55936bff356688?s=128&d=identicon&r=PG", "display_name": "HerbN", "link": "https://stackoverflow.com/users/204275/herbn"}, "edited": false, "score": 0, "creation_date": 1508356156, "post_id": 46818083, "comment_id": 80583535, "body": "Could you include you local library for reference."}, {"owner": {"reputation": 4106, "user_id": 1154733, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/dc717f867101dfd8f61bb94585b4e2e8?s=128&d=identicon&r=PG", "display_name": "Vitalii Vasylenko", "link": "https://stackoverflow.com/users/1154733/vitalii-vasylenko"}, "reply_to_user": {"reputation": 1419, "user_id": 204275, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/97c1d7c7d7d48017ce55936bff356688?s=128&d=identicon&r=PG", "display_name": "HerbN", "link": "https://stackoverflow.com/users/204275/herbn"}, "edited": false, "score": 0, "creation_date": 1508356245, "post_id": 46818083, "comment_id": 80583571, "body": "Yep, i see a line &quot;my-test-lib&quot;: &quot;file:../libs/my-test-lib&quot; in the package.json, but still i cant use it for the same error &quot;Cant find module&quot;."}, {"owner": {"reputation": 11107, "user_id": 694325, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/65007abb0d619df8a760edd73e2e6634?s=128&d=identicon&r=PG", "display_name": "Joel Peltonen", "link": "https://stackoverflow.com/users/694325/joel-peltonen"}, "edited": false, "score": 0, "creation_date": 1508515212, "post_id": 46818083, "comment_id": 80653294, "body": "Instead of adding EDIT statements if you have figured out that &quot;So yes, the main point of this question is to figure out why&quot; maybe edit the question to contain only that -- the minimal representation of the question without anything extra."}, {"owner": {"reputation": 4106, "user_id": 1154733, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/dc717f867101dfd8f61bb94585b4e2e8?s=128&d=identicon&r=PG", "display_name": "Vitalii Vasylenko", "link": "https://stackoverflow.com/users/1154733/vitalii-vasylenko"}, "edited": false, "score": 0, "creation_date": 1508574989, "post_id": 46818083, "comment_id": 80670371, "body": "Nope, practice shows that some people who already answered might be confused, so its always better to keep old version of the question (changes to fix typos, mistakes, formatting, etc are ok). Probably its better just to start  a new question."}, {"owner": {"reputation": 2277, "user_id": 59913, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/acb812c47b8e6288519114c300165687?s=128&d=identicon&r=PG", "display_name": "Stan James", "link": "https://stackoverflow.com/users/59913/stan-james"}, "edited": false, "score": 6, "creation_date": 1514063603, "post_id": 46818083, "comment_id": 82881530, "body": "Not a duplicate. I have same problem of trying to <i>use</i> a locally installed module after following the advice of the supposed duplicate."}, {"owner": {"reputation": 568, "user_id": 1245279, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/1ede265238b6c28e45421f9deb623f19?s=128&d=identicon&r=PG", "display_name": "TommyKey", "link": "https://stackoverflow.com/users/1245279/tommykey"}, "edited": false, "score": 1, "creation_date": 1515163827, "post_id": 46818083, "comment_id": 83207997, "body": "Did you find a solution for this @VitaliiVasylenko?"}, {"owner": {"reputation": 4106, "user_id": 1154733, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/dc717f867101dfd8f61bb94585b4e2e8?s=128&d=identicon&r=PG", "display_name": "Vitalii Vasylenko", "link": "https://stackoverflow.com/users/1154733/vitalii-vasylenko"}, "reply_to_user": {"reputation": 568, "user_id": 1245279, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/1ede265238b6c28e45421f9deb623f19?s=128&d=identicon&r=PG", "display_name": "TommyKey", "link": "https://stackoverflow.com/users/1245279/tommykey"}, "edited": false, "score": 1, "creation_date": 1515331704, "post_id": 46818083, "comment_id": 83252371, "body": "@TommyKey Unfortunately, not for my OP question. After digging around, i decided to include local library&#39;s source code into the project, as apparently it was supposed to change quite often."}, {"owner": {"user_type": "does_not_exist", "display_name": "user4787666"}, "edited": false, "score": 0, "creation_date": 1541170878, "post_id": 46818083, "comment_id": 93136475, "body": "This approach works for me just good. What is your main script in package.json? It should point to file where you export your function HelloWorld. It also must match your name in package.json with destination in import statement."}, {"owner": {"reputation": 4577, "user_id": 9971404, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7cd9db31d5a582aab9112b2cbaa75e4d?s=128&d=identicon&r=PG&f=1", "display_name": "lonix", "link": "https://stackoverflow.com/users/9971404/lonix"}, "edited": false, "score": 0, "creation_date": 1551165010, "post_id": 46818083, "comment_id": 96529406, "body": "@JaroslavZavodny I have the same problem as everyone here... do you mind sharing an example of what you did? I don&#39;t understand how to import modules from the local package?"}, {"owner": {"reputation": 457, "user_id": 2198954, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/620c4b54309dd97543a0fb30ab8e8904?s=128&d=identicon&r=PG", "display_name": "Vincent J", "link": "https://stackoverflow.com/users/2198954/vincent-j"}, "edited": false, "score": 0, "creation_date": 1553936731, "post_id": 46818083, "comment_id": 97577715, "body": "@VitaliiVasylenko the problem is in your exported module.  You should have a main directive in the package.json of your exported module pointing to the compiled main.js (not main.ts). This article explains everything : <a href=\"https://itnext.io/step-by-step-building-and-publishing-an-npm-typescript-package-44fe7164964c\" rel=\"nofollow noreferrer\">itnext.io/&hellip;</a>"}], "answers": [{"comments": [{"owner": {"reputation": 4106, "user_id": 1154733, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/dc717f867101dfd8f61bb94585b4e2e8?s=128&d=identicon&r=PG", "display_name": "Vitalii Vasylenko", "link": "https://stackoverflow.com/users/1154733/vitalii-vasylenko"}, "edited": false, "score": 1, "creation_date": 1508356507, "post_id": 46818152, "comment_id": 80583684, "body": "Thanks for fast answer. That might work for a single file - but i&#39;m looking how to make it work for the whole library. I&#39;ll check that though."}, {"owner": {"reputation": 4106, "user_id": 1154733, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/dc717f867101dfd8f61bb94585b4e2e8?s=128&d=identicon&r=PG", "display_name": "Vitalii Vasylenko", "link": "https://stackoverflow.com/users/1154733/vitalii-vasylenko"}, "edited": false, "score": 0, "creation_date": 1508356571, "post_id": 46818152, "comment_id": 80583721, "body": "Also, import { HelloWorld } from &quot;../../../../../lib/my-test-lib&quot;; is not looking cool at all"}, {"owner": {"reputation": 4106, "user_id": 1154733, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/dc717f867101dfd8f61bb94585b4e2e8?s=128&d=identicon&r=PG", "display_name": "Vitalii Vasylenko", "link": "https://stackoverflow.com/users/1154733/vitalii-vasylenko"}, "edited": false, "score": 0, "creation_date": 1508357037, "post_id": 46818152, "comment_id": 80583984, "body": "Although, yes, it works for a single file. Thanks, i&#39;ll upvote it - but will not mark it as an answer, because its not answering the question."}, {"owner": {"reputation": 1561, "user_id": 5890903, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/9oG7w.jpg?s=128&g=1", "display_name": "Funk Soul Ninja", "link": "https://stackoverflow.com/users/5890903/funk-soul-ninja"}, "reply_to_user": {"reputation": 4106, "user_id": 1154733, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/dc717f867101dfd8f61bb94585b4e2e8?s=128&d=identicon&r=PG", "display_name": "Vitalii Vasylenko", "link": "https://stackoverflow.com/users/1154733/vitalii-vasylenko"}, "edited": false, "score": 0, "creation_date": 1508360301, "post_id": 46818152, "comment_id": 80585588, "body": "@VitaliiVasylenko trying using webpack&#39;s resolve. <a href=\"https://webpack.js.org/configuration/resolve/\" rel=\"nofollow noreferrer\">webpack.js.org/configuration/resolve</a>"}, {"owner": {"reputation": 4106, "user_id": 1154733, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/dc717f867101dfd8f61bb94585b4e2e8?s=128&d=identicon&r=PG", "display_name": "Vitalii Vasylenko", "link": "https://stackoverflow.com/users/1154733/vitalii-vasylenko"}, "edited": false, "score": 0, "creation_date": 1508360640, "post_id": 46818152, "comment_id": 80585751, "body": "Yeah, probably will give it a shot. Though, i&#39;m not using webpack in my project (at least, so far), so i&#39;d prefer not to include any extra 3rd party tools - especially to do the stuff that is supposed to work out-of-box."}, {"owner": {"reputation": 1561, "user_id": 5890903, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/9oG7w.jpg?s=128&g=1", "display_name": "Funk Soul Ninja", "link": "https://stackoverflow.com/users/5890903/funk-soul-ninja"}, "reply_to_user": {"reputation": 4106, "user_id": 1154733, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/dc717f867101dfd8f61bb94585b4e2e8?s=128&d=identicon&r=PG", "display_name": "Vitalii Vasylenko", "link": "https://stackoverflow.com/users/1154733/vitalii-vasylenko"}, "edited": false, "score": 0, "creation_date": 1508361434, "post_id": 46818152, "comment_id": 80586148, "body": "@VitaliiVasylenko perhaps it would be easier if you simply exposed any variables or functions you need to the global scope. I personally can&#39;t think a time where I wouldn&#39;t use Webpack. Maybe I&#39;m wrong, but It feel like it&#39;s the industry standard."}, {"owner": {"reputation": 4106, "user_id": 1154733, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/dc717f867101dfd8f61bb94585b4e2e8?s=128&d=identicon&r=PG", "display_name": "Vitalii Vasylenko", "link": "https://stackoverflow.com/users/1154733/vitalii-vasylenko"}, "edited": false, "score": 1, "creation_date": 1508361742, "post_id": 46818152, "comment_id": 80586333, "body": "Might be.. we have a quite specific project (its a WebGl-oriented), so far it goes good without Webpack (i&#39;m not excluding we will need Wepback at some moment in future). Anyway, i&#39;m wondering why <code>npm install ..&#47;libs&#47;my-test-lib</code> is just not working. Probably i should rephrase the question... Thanks for your help anyway!"}, {"owner": {"reputation": 1561, "user_id": 5890903, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/9oG7w.jpg?s=128&g=1", "display_name": "Funk Soul Ninja", "link": "https://stackoverflow.com/users/5890903/funk-soul-ninja"}, "reply_to_user": {"reputation": 4106, "user_id": 1154733, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/dc717f867101dfd8f61bb94585b4e2e8?s=128&d=identicon&r=PG", "display_name": "Vitalii Vasylenko", "link": "https://stackoverflow.com/users/1154733/vitalii-vasylenko"}, "edited": false, "score": 0, "creation_date": 1508616947, "post_id": 46818152, "comment_id": 80682619, "body": "@VitaliiVasylenko you could use Webpack as you develop. Setting it up would take less than a few minutes."}], "tags": [], "owner": {"reputation": 1561, "user_id": 5890903, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/9oG7w.jpg?s=128&g=1", "display_name": "Funk Soul Ninja", "link": "https://stackoverflow.com/users/5890903/funk-soul-ninja"}, "is_accepted": false, "score": -4, "last_activity_date": 1508356388, "creation_date": 1508356388, "answer_id": 46818152, "question_id": 46818083, "link": "https://stackoverflow.com/questions/46818083/use-a-local-module-using-local-dependency/46818152#46818152", "title": "Use a local module, using local dependency", "body": "<pre><code>import defaultExport from './local-file'\n</code></pre>\n\n<p>Or</p>\n\n<pre><code>import { namedExport } from './local-file'\n</code></pre>\n"}], "owner": {"reputation": 4106, "user_id": 1154733, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/dc717f867101dfd8f61bb94585b4e2e8?s=128&d=identicon&r=PG", "display_name": "Vitalii Vasylenko", "link": "https://stackoverflow.com/users/1154733/vitalii-vasylenko"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 4937, "favorite_count": 4, "closed_date": 1508356242, "answer_count": 1, "score": 21, "last_activity_date": 1515331793, "creation_date": 1508356108, "last_edit_date": 1515331793, "question_id": 46818083, "link": "https://stackoverflow.com/questions/46818083/use-a-local-module-using-local-dependency", "closed_reason": "Duplicate", "title": "Use a local module, using local dependency", "body": "<p>I'm trying to include a local library, so i follow theese 2 tutorials: <a href=\"https://www.tsmean.com/articles/how-to-write-a-typescript-library/\" rel=\"noreferrer\">how to create library</a>, <a href=\"https://www.tsmean.com/articles/how-to-write-a-typescript-library/local-consumer/\" rel=\"noreferrer\">how to consume local library</a>. So, i have a nice sample library (it has package.json, index.ts, etc), i try to include it in my main project (<code>npm link</code> works fine, i can see a symlink to my lib), but i cant refer it from my main project.</p>\n\n<pre><code>import { HelloWorld } from \"my-test-lib\"; // \"Cant find module\"\n</code></pre>\n\n<p>Also, i tried to install it via <code>npm install ../libs/my-test-lib</code>, but results are the same: \"Cant find module\". Any suggestions on how to include it to my project?</p>\n\n<p>PS: i'd prefer something like <code>npm install</code>, so i'd be able to commit this change to the repository (as opposing to <code>npm link</code>).</p>\n\n<p>EDIT (<strong>why its not a duplicate</strong>): in <a href=\"https://stackoverflow.com/questions/15806241/how-to-specify-local-modules-as-npm-package-dependencies\">how to specify local modules as npm package dependencies</a> its not clear which way to go: both <code>\"bar\":\"file:../foo/bar\"</code> and <code>npm link</code> are not working for me for the reason mentioned above. </p>\n\n<p>EDIT2: Okay, i've tried <code>\"preinstall\": \"npm ln my-test-lib ../libs/my-test-lib\"</code> in the package.json. And then <code>import { HelloWorld } from \"my-test-lib\";</code>. Still the same error \"Cannot find module\". Can it be something wrong with the package itself?</p>\n\n<p>EDIT3: So yes, the main point of this question is to figure out why </p>\n\n<pre><code>// package.json\n\"dependencies\": {\n  \"my-test-lib\": \"file:../lib/my-test-lib\"\n}\n\n// ts file\nimport { HelloWorld } from \"my-test-lib\";\n</code></pre>\n\n<p>is not working. Wondering, how can i debug that.</p>\n"}, {"tags": ["javascript", "reactjs", "typescript", "ecmascript-6"], "answers": [{"comments": [{"owner": {"reputation": 603, "user_id": 5104526, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5d7968c8f8f4a0f1bc966f2773e514bb?s=128&d=identicon&r=PG&f=1", "display_name": "Austin Ezell", "link": "https://stackoverflow.com/users/5104526/austin-ezell"}, "edited": false, "score": 0, "creation_date": 1508356437, "post_id": 46818137, "comment_id": 80583662, "body": "Yes, this is correct. If you are not declaring relative pathing, it will assume the <code>import</code> is a separate module."}, {"owner": {"reputation": 1312, "user_id": 1337604, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/SfMd1.png?s=128&g=1", "display_name": "Shawn Andrews", "link": "https://stackoverflow.com/users/1337604/shawn-andrews"}, "edited": false, "score": 0, "creation_date": 1508356550, "post_id": 46818137, "comment_id": 80583709, "body": "Thanks it worked! So if i say &#39;menu&#39; it looks in the node_modules folder instead?"}, {"owner": {"reputation": 28753, "user_id": 371184, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/cebee1b08fb960edf79a359af330391a?s=128&d=identicon&r=PG", "display_name": "Mike Cluck", "link": "https://stackoverflow.com/users/371184/mike-cluck"}, "reply_to_user": {"reputation": 1312, "user_id": 1337604, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/SfMd1.png?s=128&g=1", "display_name": "Shawn Andrews", "link": "https://stackoverflow.com/users/1337604/shawn-andrews"}, "edited": false, "score": 2, "creation_date": 1508356891, "post_id": 46818137, "comment_id": 80583913, "body": "@user1337604 Correct."}], "tags": [], "owner": {"reputation": 131, "user_id": 5099555, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/P6Q5B.jpg?s=128&g=1", "display_name": "tdurtsch", "link": "https://stackoverflow.com/users/5099555/tdurtsch"}, "is_accepted": true, "score": 4, "last_activity_date": 1508356330, "creation_date": 1508356330, "answer_id": 46818137, "question_id": 46818049, "link": "https://stackoverflow.com/questions/46818049/error-importing-empty-class-error-ts2307-cannot-find-module-menu/46818137#46818137", "title": "Error importing empty class, error TS2307: Cannot find module &#39;menu&#39;", "body": "<p>I think Webpack tries to load Node packages if you don't include the relative path in your \"include\" lines.</p>\n\n<p>Try changing this line in entry.tsx:</p>\n\n<p><code>import menu from 'menu';</code></p>\n\n<p>To this:</p>\n\n<p><code>import menu from './menu';</code></p>\n"}], "owner": {"reputation": 1312, "user_id": 1337604, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/SfMd1.png?s=128&g=1", "display_name": "Shawn Andrews", "link": "https://stackoverflow.com/users/1337604/shawn-andrews"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 471, "favorite_count": 1, "accepted_answer_id": 46818137, "answer_count": 1, "score": 0, "last_activity_date": 1508356330, "creation_date": 1508355950, "question_id": 46818049, "link": "https://stackoverflow.com/questions/46818049/error-importing-empty-class-error-ts2307-cannot-find-module-menu", "title": "Error importing empty class, error TS2307: Cannot find module &#39;menu&#39;", "body": "<p>I'm just trying to do import a simple, blank exported class. Im not sure why it can't find the file because it's in the same directory as the class importing it. I've searched google for similar error codes but no solutions have worked for me and its a relatively simple problem so im quite confused.</p>\n\n<p>Error:</p>\n\n<pre><code>error TS2307: Cannot find module 'menu'\n</code></pre>\n\n<p>Folder structure:</p>\n\n<pre><code>node_modules/\nsrc/\n    entry.tsx\n    menu.tsx\nindex.html\npackage-lock.json\npackage.json\ntsconfig.json\nwebpack.config.js\n</code></pre>\n\n<p>entry.tsx</p>\n\n<pre><code>import menu from 'menu';\n</code></pre>\n\n<p>menu.tsx</p>\n\n<pre><code>export default class menu { }\n</code></pre>\n\n<p>webpack.config</p>\n\n<pre><code>var path = require('path');\nvar webpack = require('webpack');\nvar ExtractTextPlugin = require(\"extract-text-webpack-plugin\");\nvar HtmlWebpackPlugin = require('html-webpack-plugin');\n\nmodule.exports = {\n  entry: './src/js/entry.tsx',\n  output: {\n    path: path.resolve(__dirname, 'dist'),\n    filename: 'bundle.js'\n  },\n  module: {\n    rules: [\n      {\n        test: /\\.css$/,\n        loader: ExtractTextPlugin.extract({\n          fallback: 'style-loader',\n          use: [ 'css-loader' ]\n        })\n      },\n      {\n        test: /\\.tsx?$/,\n        loader: 'ts-loader',\n        exclude: /node_modules/\n      }\n    ]\n  },\n  plugins: [\n    new ExtractTextPlugin({\n            filename: \"bundle.css\"\n        }),\n    new HtmlWebpackPlugin({\n      title: 'Custom template',\n      template: 'index.html'\n    })\n  ]\n};\n</code></pre>\n\n<p>package.json</p>\n\n<pre><code>{\n  \"name\": \"helloworld\",\n  \"version\": \"1.0.0\",\n  \"description\": \"Hello there\",\n  \"main\": \"index.js\",\n  \"scripts\": {\n    \"test\": \"echo \\\"Error: no test specified\\\" &amp;&amp; exit 1\",\n    \"build\": \"webpack-dev-server\",\n    \"build:prod\": \"webpack -p\"\n  },\n  \"author\": \"\",\n  \"license\": \"ISC\",\n  \"devDependencies\": {\n    \"babel-core\": \"^6.26.0\",\n    \"babel-loader\": \"^7.1.2\",\n    \"babel-preset-env\": \"^1.6.0\",\n    \"babel-preset-react\": \"^6.24.1\",\n    \"css-loader\": \"^0.28.7\",\n    \"extract-text-webpack-plugin\": \"^3.0.1\",\n    \"html-webpack-plugin\": \"^2.30.1\",\n    \"react\": \"^16.0.0\",\n    \"react-dom\": \"^16.0.0\",\n    \"style-loader\": \"^0.19.0\",\n    \"ts-loader\": \"^2.3.7\",\n    \"typescript\": \"^2.5.3\",\n    \"webpack\": \"^3.7.1\",\n    \"webpack-dev-server\": \"^2.9.1\"\n  },\n  \"dependencies\": {\n    \"@types/react\": \"^16.0.13\",\n    \"react\": \"^16.0.0\",\n    \"react-dom\": \"^16.0.0\"\n  }\n}\n</code></pre>\n"}, {"tags": ["javascript", "typescript", "webrtc"], "answers": [{"tags": [], "owner": {"reputation": 1992, "user_id": 2232094, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c7015c58a5e3fba9106be2e03448303f?s=128&d=identicon&r=PG", "display_name": "Dr. Alex Gouaillard", "link": "https://stackoverflow.com/users/2232094/dr-alex-gouaillard"}, "is_accepted": false, "score": 2, "last_activity_date": 1508386818, "creation_date": 1508386818, "answer_id": 46822791, "question_id": 46817750, "link": "https://stackoverflow.com/questions/46817750/webrtc-screen-sharing-without-any-extensions/46822791#46822791", "title": "WEBRTC - screen sharing without any extensions", "body": "<p>At this stage only firefox will let you use screensharing without an additional security plugin or service.</p>\n"}, {"tags": [], "owner": {"reputation": 379, "user_id": 2686016, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/697eef7af0d9a4399f0ffff2399e6e22?s=128&d=identicon&r=PG&f=1", "display_name": "Igor Vujovic", "link": "https://stackoverflow.com/users/2686016/igor-vujovic"}, "is_accepted": true, "score": 4, "last_activity_date": 1575297356, "creation_date": 1575297356, "answer_id": 59141125, "question_id": 46817750, "link": "https://stackoverflow.com/questions/46817750/webrtc-screen-sharing-without-any-extensions/59141125#59141125", "title": "WEBRTC - screen sharing without any extensions", "body": "<p>2019 update: yes, it's possible.\nWorks on Chrome, Firefox and Safari using <a href=\"https://developer.mozilla.org/en-US/docs/Web/API/MediaDevices/getDisplayMedia\" rel=\"nofollow noreferrer\">getDisplayMedia</a></p>\n\n<pre><code>let displayMediaOptions = {video: true, audio: false};\nnavigator.mediaDevices.getDisplayMedia(displayMediaOptions)\n.then(function(stream){\n  video_el.srcObject = stream;\n})\n</code></pre>\n\n<p>Working demo at: <a href=\"https://thescreenshare.com/\" rel=\"nofollow noreferrer\">thescreenshare.com</a></p>\n"}], "owner": {"reputation": 1611, "user_id": 3995346, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/9KaXW.jpg?s=128&g=1", "display_name": "Maciej Wojcik", "link": "https://stackoverflow.com/users/3995346/maciej-wojcik"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1678, "favorite_count": 0, "accepted_answer_id": 59141125, "answer_count": 2, "score": 1, "last_activity_date": 1575297356, "creation_date": 1508354752, "question_id": 46817750, "link": "https://stackoverflow.com/questions/46817750/webrtc-screen-sharing-without-any-extensions", "title": "WEBRTC - screen sharing without any extensions", "body": "<p>I have simple question. Is there any possibility to implement screen sharing which will work on most of devices and browsers?</p>\n\n<p>I look on the internet, and found some plugins for chrome, but I want to have screen sharing without installing any plugins, or setting some experimental flag on chrome.</p>\n\n<p>The best solution will be when I could have stream from navigator, the same as my camera-capture.</p>\n\n<p>Code for getting video from camera</p>\n\n<pre><code>this.navig.getUserMedia =  ( this.navig.getUserMedia || this.navig.webkitGetUserMedia || this.navig.mozGetUserMedia || this.navig.msGetUserMedia );\nthis.navig.getUserMedia({video: true, audio: true}, (stream) =&gt; {\n        this.videoElement.nativeElement.src = window.URL.createObjectURL(stream);\n        this.videoElement.nativeElement.play();\n}, (error) =&gt; console.warn('video error' + error))\n</code></pre>\n\n<p>so I want to have stream object with my screen captured. Is that possible?</p>\n\n<p>I found this on internet, but this returns me some errors...</p>\n\n<pre><code>navigator.mediaDevices.getDisplayMedia({ video: true })\n.then(stream =&gt; {\n    // we have a stream, attach it to a feedback video element\n    videoElement.srcObject = stream;\n  }, error =&gt; {\n    console.log(\"Unable to acquire screen capture\", error);\n  });\n</code></pre>\n"}, {"tags": ["javascript", "typescript", "webpack", "aurelia"], "answers": [{"tags": [], "owner": {"reputation": 1, "user_id": 8797415, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8e9fceacc4c0bad564a69c3f93f0bfc3?s=128&d=identicon&r=PG&f=1", "display_name": "masquo", "link": "https://stackoverflow.com/users/8797415/masquo"}, "is_accepted": false, "score": 0, "last_activity_date": 1508622238, "creation_date": 1508622238, "answer_id": 46868424, "question_id": 46817655, "link": "https://stackoverflow.com/questions/46817655/aliasing-custom-elements-in-aurelia-templates/46868424#46868424", "title": "aliasing custom elements in aurelia templates", "body": "<p>I found a solution for my problem.\nUsing aurelia's built-in <code>compose</code> element does the trick.</p>\n\n<p><strong>app.html</strong></p>\n\n<pre><code>&lt;template&gt;    \n  &lt;require from=\"./nav-bar.html\"&gt;&lt;/require&gt;\n\n  &lt;nav-bar router.bind=\"router\"&gt;&lt;/nav-bar&gt;\n\n  &lt;div class=\"page-host\"&gt;\n    &lt;router-view&gt;&lt;/router-view&gt;\n  &lt;/div&gt;\n  &lt;compose view-model.bind=\"componentPath\"\n           view.bind=\"componentTemplatePath\"&gt;&lt;/compose&gt;\n&lt;/template&gt;\n</code></pre>\n\n<p><strong>app.ts</strong></p>\n\n<pre><code>import { PLATFORM } from \"aurelia-pal\";\n...\npublic bind() {\n  this.componentPath = PLATFORM.moduleName(\"component-alias/component\");\n  this.componentTemplatePath = PLATFORM.moduleName(\"component-alias/component.html\");\n}\n</code></pre>\n\n<p>I think it's not the best solution, but it's a working one. If you have any alternative approaches, please let me know.  </p>\n"}, {"tags": [], "owner": {"reputation": 1444, "user_id": 944182, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/808f10476672fd29494a1a272fd9a045?s=128&d=identicon&r=PG", "display_name": "Maxim Balaganskiy", "link": "https://stackoverflow.com/users/944182/maxim-balaganskiy"}, "is_accepted": false, "score": 0, "last_activity_date": 1522997537, "creation_date": 1522997537, "answer_id": 49687040, "question_id": 46817655, "link": "https://stackoverflow.com/questions/46817655/aliasing-custom-elements-in-aurelia-templates/49687040#49687040", "title": "aliasing custom elements in aurelia templates", "body": "<p>I have a suspicion that just <code>PLATFORM.moduleName(\"component-alias/component.html\")</code> somewhere in the code would be enough and <code>compose</code> is not needed</p>\n"}], "owner": {"reputation": 1, "user_id": 8797415, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8e9fceacc4c0bad564a69c3f93f0bfc3?s=128&d=identicon&r=PG&f=1", "display_name": "masquo", "link": "https://stackoverflow.com/users/8797415/masquo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 250, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1522997537, "creation_date": 1508354322, "question_id": 46817655, "link": "https://stackoverflow.com/questions/46817655/aliasing-custom-elements-in-aurelia-templates", "title": "aliasing custom elements in aurelia templates", "body": "<p>My question is about aliasing custom elements and using them in aurelia's html-templates.<br>\nAs setup i'm using the newest webpack typescript skeleton <a href=\"https://github.com/aurelia/skeleton-navigation\" rel=\"nofollow noreferrer\">https://github.com/aurelia/skeleton-navigation</a>\nand these are my configs:</p>\n\n<p><strong>webpack.config.a.js</strong></p>\n\n<pre><code>...\nresolve: {\n  extensions: ['.ts', '.js'],\n  modules: [srcDir, 'node_modules'],\n  alias: {\n    \"component-alias\": path.resolve(__dirname, \"./src/component-a\")\n  }\n},\n...\n</code></pre>\n\n<p><strong>app.html</strong></p>\n\n<pre><code>&lt;template&gt;\n  &lt;require from=\"component-alias/component\"&gt;&lt;/require&gt;\n  &lt;require from=\"./nav-bar.html\"&gt;&lt;/require&gt;\n\n  &lt;nav-bar router.bind=\"router\"&gt;&lt;/nav-bar&gt;\n\n  &lt;div class=\"page-host\"&gt;\n    &lt;router-view&gt;&lt;/router-view&gt;\n  &lt;/div&gt;\n  &lt;component&gt;&lt;/component&gt;\n&lt;/template&gt;\n</code></pre>\n\n<p><strong>file structure:</strong></p>\n\n<pre><code>src\n|----component-a\n|    |----component.html\n|    |----component.ts\n|\n|----component-b\n|    |----component.html\n|    |----component.ts\n|\n|----app.html\n|----app.ts\n|\n|...\n|\nwebpack.config.a.js\nwebpack.config.b.js\n</code></pre>\n\n<p>Depending on different configs (<code>webpack.config.a.js, webpack.config.b.js</code>), webpack should decide at buildtime if component-a or component-b is part of the bundle.\nWith the configs webpack compiles but at runtime an exception is thrown:</p>\n\n<pre><code>Error: Unable to find module with ID: component-alias/component.html\n</code></pre>\n\n<p>Is it possible to instantiate these components within the html-templates?\nOr maybe there are other approaches how to decide at build time which component to use?</p>\n\n<p>thanks in advance</p>\n"}, {"tags": ["angular", "typescript", "rxjs", "angular-material"], "comments": [{"owner": {"reputation": 50474, "user_id": 6680611, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wRJqu.png?s=128&g=1", "display_name": "cartant", "link": "https://stackoverflow.com/users/6680611/cartant"}, "edited": false, "score": 0, "creation_date": 1508382503, "post_id": 46817647, "comment_id": 80591938, "body": "<code>_filterChange</code> will emit a <code>string</code> and not a <code>IMyDto[]</code> so including it in the <code>merge</code> will see <code>string</code> values merged into the observable stream, effecting the error you are seeing. You most likely want to use <a href=\"http://reactivex.io/rxjs/class/es6/Observable.js~Observable.html#instance-method-withLatestFrom\" rel=\"nofollow noreferrer\"><code>withLatestFrom</code></a> instead of <code>merge</code>."}], "answers": [{"tags": [], "owner": {"reputation": 2745, "user_id": 1826096, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/d66526c937c1e981eb85b8be6d81c063?s=128&d=identicon&r=PG", "display_name": "Fran&#231;ois", "link": "https://stackoverflow.com/users/1826096/fran%c3%a7ois"}, "is_accepted": false, "score": 0, "last_activity_date": 1508432835, "creation_date": 1508432835, "answer_id": 46835293, "question_id": 46817647, "link": "https://stackoverflow.com/questions/46817647/angular-material-table-text-filtering-rxjs-merging-http-get-results-with-a-f/46835293#46835293", "title": "Angular Material Table Text Filtering - rxjs - Merging http get results with a filter Subject", "body": "<p>Tks to <a href=\"https://stackoverflow.com/users/6680611/cartant\">@cartant</a> for point me to the right direction.</p>\n\n<pre><code>connect(): Observable&lt;IMyDto[]&gt; { \n    return Observable\n      .combineLatest(this._apiService.getMyDtos(), this._filterChange)\n      .map(([dtos, filter]) =&gt; dtos.filter(dto =&gt; dto.categories.map(i =&gt; i.name).includes(filter)));\n }\n</code></pre>\n"}], "owner": {"reputation": 2745, "user_id": 1826096, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/d66526c937c1e981eb85b8be6d81c063?s=128&d=identicon&r=PG", "display_name": "Fran&#231;ois", "link": "https://stackoverflow.com/users/1826096/fran%c3%a7ois"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 45, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1508432835, "creation_date": 1508354290, "question_id": 46817647, "link": "https://stackoverflow.com/questions/46817647/angular-material-table-text-filtering-rxjs-merging-http-get-results-with-a-f", "title": "Angular Material Table Text Filtering - rxjs - Merging http get results with a filter Subject", "body": "<p>I'm trying to apply the sample of <a href=\"https://material.angular.io/components/table/overview\" rel=\"nofollow noreferrer\">Angular Material Text Filtering</a> using the data from an http get call.</p>\n\n<pre><code>export class MyDtoDataSource extends DataSource&lt;IMyDto&gt; {\n      private _filterChange = new BehaviorSubject('');\n      public get filter(): string { return this._filterChange.value; }\n      public set filter(filter: string) { this._filterChange.next(filter); }\n\n      constructor(private _apiService: ApiService) {\n          super()\n      }\n\n      connect(): Observable&lt;IMyDto[]&gt; {\n\n          const displayDataChanges = [\n              this._apiService.getMyDtos(),\n              this._filterChange,\n          ];\n\n          return Observable\n          .merge(...displayDataChanges)\n          .map((dtos: IMyDto[]) =&gt; dtos.filter(dto =&gt; dto.categories.map(i =&gt; i.name).includes(this.filter)));\n      }\n\n  disconnect() {\n  }\n}\n</code></pre>\n\n<p>However, I guess there is an issue with my map as I get the runtime error <code>dtos.filter is not a function</code></p>\n"}, {"tags": ["angular", "typescript"], "comments": [{"owner": {"reputation": 483726, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 1, "creation_date": 1508353531, "post_id": 46817330, "comment_id": 80582187, "body": "You probably read it before it is set. I can&#39;t see the connection in your code though."}, {"owner": {"reputation": 13, "user_id": 8797552, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-5yZUIcRh-tY/AAAAAAAAAAI/AAAAAAAAAAc/S2qec6CaMlM/photo.jpg?sz=128", "display_name": "Raul Baez", "link": "https://stackoverflow.com/users/8797552/raul-baez"}, "reply_to_user": {"reputation": 483726, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1508354090, "post_id": 46817330, "comment_id": 80582492, "body": "In my constructor i have. constructor(private _solicitud: SolicitudComponent) {}, thats why im using this_solicitud.order; order is a class i have in my solicitudcomponent.ts like this: order: Order; then this.order = new Order();"}, {"owner": {"reputation": 483726, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1508354291, "post_id": 46817330, "comment_id": 80582593, "body": "Async code, especially calls over the network, take an eternity compared to code executed in the same process. If you make an HTTP request, the calkback passed to <code>subscribe(...)</code> will only be executed when the response arrives. In the meantime your other code reads the field."}, {"owner": {"reputation": 483726, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1508354374, "post_id": 46817330, "comment_id": 80582637, "body": "<a href=\"https://stackoverflow.com/questions/36271899/what-is-the-correct-way-to-share-the-result-of-an-angular-2-http-network-call-in/36291681#36291681\" title=\"what is the correct way to share the result of an angular 2 http network call in\">stackoverflow.com/questions/36271899/&hellip;</a> might give you ideas to connect async code to ensure some order."}, {"owner": {"reputation": 13, "user_id": 8797552, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-5yZUIcRh-tY/AAAAAAAAAAI/AAAAAAAAAAc/S2qec6CaMlM/photo.jpg?sz=128", "display_name": "Raul Baez", "link": "https://stackoverflow.com/users/8797552/raul-baez"}, "reply_to_user": {"reputation": 483726, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1508355058, "post_id": 46817330, "comment_id": 80582981, "body": "Thanks @G&#252;nterZ&#246;chbauer i&#39;ll check it out."}], "answers": [{"tags": [], "owner": {"reputation": 81, "user_id": 2842256, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7804ac6c98f43fedf7ad9b5562cf1a43?s=128&d=identicon&r=PG&f=1", "display_name": "user2842256", "link": "https://stackoverflow.com/users/2842256/user2842256"}, "is_accepted": false, "score": 0, "last_activity_date": 1508357183, "creation_date": 1508357183, "answer_id": 46818364, "question_id": 46817330, "link": "https://stackoverflow.com/questions/46817330/angular-4-get-properties-from-class/46818364#46818364", "title": "Angular 4 get properties from class", "body": "<p>It isn't a recommended solution to add a component via DI(in the constructor) and then get the value. You will not know when the value is returned. In order to give a better answer more structure or understanding of the code is needed. </p>\n\n<p>If you have more than one component on the same screen then you can use events and setup a container component which handles those events across the components. Have a look at the following to get an understanding:\n<a href=\"https://blog.angular-university.io/angular-2-smart-components-vs-presentation-components-whats-the-difference-when-to-use-each-and-why/\" rel=\"nofollow noreferrer\">https://blog.angular-university.io/angular-2-smart-components-vs-presentation-components-whats-the-difference-when-to-use-each-and-why/</a></p>\n\n<p>The second scenario is if one component is try to pass a value which the other component wants to subscribe on another route. In such a scenario you would want to use the local storage to store the value and the second component has an observable setup on that value. So whenever a change happens it is rendered. The following link will be helpful in that scenario:\n<a href=\"https://stackoverflow.com/questions/42801566/how-to-pass-data-from-one-component-to-other-in-angular-2\">How to pass data from one component to other in angular 2</a></p>\n\n<p>The ideal solution however is to use an application State. There is a module called ngrx for Angular which is basically the implementation Redux. Read the following link to get an understanding of that:</p>\n\n<p><a href=\"https://angular-2-training-book.rangle.io/handout/state-management/ngrx/\" rel=\"nofollow noreferrer\">https://angular-2-training-book.rangle.io/handout/state-management/ngrx/</a></p>\n"}, {"comments": [{"owner": {"reputation": 14633, "user_id": 5069957, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/597577c2765adaa190e4524d3a3860fe?s=128&d=identicon&r=PG&f=1", "display_name": "edkeveked", "link": "https://stackoverflow.com/users/5069957/edkeveked"}, "reply_to_user": {"reputation": 13, "user_id": 8797552, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-5yZUIcRh-tY/AAAAAAAAAAI/AAAAAAAAAAc/S2qec6CaMlM/photo.jpg?sz=128", "display_name": "Raul Baez", "link": "https://stackoverflow.com/users/8797552/raul-baez"}, "edited": false, "score": 0, "creation_date": 1508511970, "post_id": 46825622, "comment_id": 80651338, "body": "@RaulBaez, that is great!"}, {"owner": {"reputation": 13, "user_id": 8797552, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-5yZUIcRh-tY/AAAAAAAAAAI/AAAAAAAAAAc/S2qec6CaMlM/photo.jpg?sz=128", "display_name": "Raul Baez", "link": "https://stackoverflow.com/users/8797552/raul-baez"}, "edited": false, "score": 0, "creation_date": 1508777759, "post_id": 46825622, "comment_id": 80736424, "body": "hey @edkeveked im facing one more issue, i have the order object, and i want to print it to console like this: console.log(this._solicitud.order); and i do see the object with its properties, but when i try to access a single property i see and &quot;undefined&quot; only. console.log(this._solicitud.order.fechahora); how can i achieve this?"}, {"owner": {"reputation": 13, "user_id": 8797552, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-5yZUIcRh-tY/AAAAAAAAAAI/AAAAAAAAAAc/S2qec6CaMlM/photo.jpg?sz=128", "display_name": "Raul Baez", "link": "https://stackoverflow.com/users/8797552/raul-baez"}, "edited": false, "score": 0, "creation_date": 1508785068, "post_id": 46825622, "comment_id": 80740273, "body": "With console.log(this.order) i get the object with its properties, but console.log(JSON.stringify(this.order)) and cosole.log(Object.keys(this.order); i got nothing."}, {"owner": {"reputation": 14633, "user_id": 5069957, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/597577c2765adaa190e4524d3a3860fe?s=128&d=identicon&r=PG&f=1", "display_name": "edkeveked", "link": "https://stackoverflow.com/users/5069957/edkeveked"}, "reply_to_user": {"reputation": 13, "user_id": 8797552, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-5yZUIcRh-tY/AAAAAAAAAAI/AAAAAAAAAAc/S2qec6CaMlM/photo.jpg?sz=128", "display_name": "Raul Baez", "link": "https://stackoverflow.com/users/8797552/raul-baez"}, "edited": false, "score": 0, "creation_date": 1508788104, "post_id": 46825622, "comment_id": 80741885, "body": "Could you please post here, what you get with <code>console.log(JSON.stringify(this.order))</code>?"}, {"owner": {"reputation": 13, "user_id": 8797552, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-5yZUIcRh-tY/AAAAAAAAAAI/AAAAAAAAAAc/S2qec6CaMlM/photo.jpg?sz=128", "display_name": "Raul Baez", "link": "https://stackoverflow.com/users/8797552/raul-baez"}, "edited": false, "score": 0, "creation_date": 1508870157, "post_id": 46825622, "comment_id": 80782738, "body": "yeah that will output: [], just like that."}, {"owner": {"reputation": 13, "user_id": 8797552, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-5yZUIcRh-tY/AAAAAAAAAAI/AAAAAAAAAAc/S2qec6CaMlM/photo.jpg?sz=128", "display_name": "Raul Baez", "link": "https://stackoverflow.com/users/8797552/raul-baez"}, "edited": false, "score": 0, "creation_date": 1508870205, "post_id": 46825622, "comment_id": 80782770, "body": "I think my problem is that im trying to access that object which is filled in the .subscribe, but i don&#39;t know how to make that work or another alternative to do it."}, {"owner": {"reputation": 14633, "user_id": 5069957, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/597577c2765adaa190e4524d3a3860fe?s=128&d=identicon&r=PG&f=1", "display_name": "edkeveked", "link": "https://stackoverflow.com/users/5069957/edkeveked"}, "reply_to_user": {"reputation": 13, "user_id": 8797552, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-5yZUIcRh-tY/AAAAAAAAAAI/AAAAAAAAAAc/S2qec6CaMlM/photo.jpg?sz=128", "display_name": "Raul Baez", "link": "https://stackoverflow.com/users/8797552/raul-baez"}, "edited": false, "score": 0, "creation_date": 1508872592, "post_id": 46825622, "comment_id": 80784093, "body": "Why don&#39;t you simply do <code>this.order=this.productsResultArray</code> since they share almost all the attributes? Or <code>this.order=data</code>?"}, {"owner": {"reputation": 13, "user_id": 8797552, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-5yZUIcRh-tY/AAAAAAAAAAI/AAAAAAAAAAc/S2qec6CaMlM/photo.jpg?sz=128", "display_name": "Raul Baez", "link": "https://stackoverflow.com/users/8797552/raul-baez"}, "edited": false, "score": 0, "creation_date": 1508873647, "post_id": 46825622, "comment_id": 80784653, "body": "Yes i tried that also, but the problem is that they are in different components, different .ts files, well im not sure if thats a problem lol."}, {"owner": {"reputation": 13, "user_id": 8797552, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-5yZUIcRh-tY/AAAAAAAAAAI/AAAAAAAAAAc/S2qec6CaMlM/photo.jpg?sz=128", "display_name": "Raul Baez", "link": "https://stackoverflow.com/users/8797552/raul-baez"}, "edited": false, "score": 0, "creation_date": 1508873922, "post_id": 46825622, "comment_id": 80784794, "body": "I make it work, but there&#39;s still an issue, it works till the second time i get results from the api."}, {"owner": {"reputation": 13, "user_id": 8797552, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-5yZUIcRh-tY/AAAAAAAAAAI/AAAAAAAAAAc/S2qec6CaMlM/photo.jpg?sz=128", "display_name": "Raul Baez", "link": "https://stackoverflow.com/users/8797552/raul-baez"}, "edited": false, "score": 0, "creation_date": 1508876598, "post_id": 46825622, "comment_id": 80786194, "body": "This is the call: <code>code</code> searchByID(_byid: ByID) {         // call the service         this._httpService.post(this.apiBaseURL + this.api + &#39;/SolicitudSugerido/ByIdMst&#39;, _byid)         .takeWhile(() =&gt; this.alive)         .subscribe(             data =&gt; {                 this.productsResultArray = data;             },             error =&gt; {                 return &lt;any&gt;error             },             () =&gt; {                 return this.productsResultArray;             },         );     }"}], "tags": [], "owner": {"reputation": 14633, "user_id": 5069957, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/597577c2765adaa190e4524d3a3860fe?s=128&d=identicon&r=PG&f=1", "display_name": "edkeveked", "link": "https://stackoverflow.com/users/5069957/edkeveked"}, "is_accepted": true, "score": 0, "last_activity_date": 1508879898, "last_edit_date": 1508879898, "creation_date": 1508401606, "answer_id": 46825622, "question_id": 46817330, "link": "https://stackoverflow.com/questions/46817330/angular-4-get-properties-from-class/46825622#46825622", "title": "Angular 4 get properties from class", "body": "<p>Since you said that the value of your service is fetched by <code>this.sugerido</code>, it might be an ansynchronous issue between when the data is set and when you are reading it whith <code>this.fecha</code>. You can use directly in your html template the elvis operator who will wait until the value is retrieved before displaying it.</p>\n\n<p>Try this in your html template: <code>{{sugerido?.fechahora}}</code> instead of <code>{{fecha}}</code>.</p>\n\n<p>If you want to access the data fetch from your server, you can proceed this way:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>searchByID(_byid: ByID) { // call the service\n    this._httpService.post(this.apiBaseURL + this.api + '/SolicitudSugerido/ByIdMst', _byid)\n      .subscribe(data =&gt; {\n          this.productsResultArray = data;\n          // if you want to use this data elsewhere in the component, you can call a function with data as argument\n          this.anotherFunction(data)\n        },\n        error =&gt; {\n          return &lt;any&gt;error\n        });\n  }\n\n  anotherFunction(data: any) {\n    //process the data send from the server here.\n    console.log(data);\n  }\n</code></pre>\n"}], "owner": {"reputation": 13, "user_id": 8797552, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-5yZUIcRh-tY/AAAAAAAAAAI/AAAAAAAAAAc/S2qec6CaMlM/photo.jpg?sz=128", "display_name": "Raul Baez", "link": "https://stackoverflow.com/users/8797552/raul-baez"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 969, "favorite_count": 1, "accepted_answer_id": 46825622, "answer_count": 2, "score": 1, "last_activity_date": 1508945268, "creation_date": 1508353127, "last_edit_date": 1508945268, "question_id": 46817330, "link": "https://stackoverflow.com/questions/46817330/angular-4-get-properties-from-class", "title": "Angular 4 get properties from class", "body": "<p>In my typescript file I have a code like this:</p>\n\n<pre><code>searchByID(_byid: ByID) {\n    // new instance of the Order model\n    this.order = new Order();\n    this._httpService.post(this.apiBaseURL + this.api + '/SolicitudSugerido/ByIdMst', _byid)\n    .subscribe(\n        data =&gt; {\n            this.productsResultArray = data,\n            this.order.fechahora = this.productsResultArray.fechahora;\n            this.order.idsestatus = this.productsResultArray.idsestatus;\n            this.order.idestatu = this.productsResultArray.idestatu;\n            this.order.abc = this.productsResultArray.abc;\n            this.order.guardar = this.productsResultArray.guardar;\n            //console.log(this.productsResultArray);\n        }\n    )\n}\n</code></pre>\n\n<p>I have other component where I do this:</p>\n\n<pre><code>import { SolicitudComponent } from \"./../solicitud/solicitud.component\";\n</code></pre>\n\n<p>Then I have this method in the same component:</p>\n\n<pre><code>showSolicitudFormWithData() {\n    this.sugerido = this._solicitud.order;\n    this.fecha = this._solicitud.order.fechahora;\n    console.log(this.sugerido);\n}\n</code></pre>\n\n<p>So the problem is that this.fecha when I try to see the value at console it says undefined, but this.sugerido prints this:</p>\n\n<p>Order {}\nabc: true,\nfechahora: \"\",\nguardar: false,\nidestatu: \"1\"</p>\n\n<p>So what I want to know is how can I print in my html component those values, I have tried: {{fecha}}, but it does not print the value.</p>\n\n<p>I want to have access to that object in my view and in my ts file.\nFor example to get that response in another object then i can iterate its properties one by one. Like:</p>\n\n<pre><code>this.order = this._solicitud.order;\nthis.order.fechahora = this._solicitud.order.fechahora;\nthis.order.idsestatus = this._solicitud.order.idsestatus;\n</code></pre>\n\n<p>Later if i want to just access one property or use it as parameter for another api call.</p>\n"}, {"tags": ["angular", "typescript"], "comments": [{"owner": {"reputation": 1867, "user_id": 6535663, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/PdSpK.png?s=128&g=1", "display_name": "David Lee", "link": "https://stackoverflow.com/users/6535663/david-lee"}, "edited": false, "score": 2, "creation_date": 1512684851, "post_id": 46817325, "comment_id": 82369548, "body": "I just ran into this issue and I found something that works for me. In my <code>main.ts</code> file when I cache my bootstrap I had the following <code>.catch(err =&gt; console.log(err))</code>. Once I removed this it worked. My bootstrap now looks like this <code>const bootstrap = () =&gt;\tplatformBrowserDynamic(providers).bootstrapModule(AppModu&zwnj;&#8203;le);</code>"}, {"owner": {"reputation": 23760, "user_id": 897326, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/xq3XG.jpg?s=128&g=1", "display_name": "Neolisk", "link": "https://stackoverflow.com/users/897326/neolisk"}, "reply_to_user": {"reputation": 1867, "user_id": 6535663, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/PdSpK.png?s=128&g=1", "display_name": "David Lee", "link": "https://stackoverflow.com/users/6535663/david-lee"}, "edited": false, "score": 0, "creation_date": 1525359035, "post_id": 46817325, "comment_id": 87333780, "body": "@DavidLee: Should post as an answer. Helped me just now."}], "owner": {"reputation": 93, "user_id": 4877186, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/D1c8n.jpg?s=128&g=1", "display_name": "Isto Barton", "link": "https://stackoverflow.com/users/4877186/isto-barton"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 288, "favorite_count": 0, "answer_count": 0, "score": 3, "last_activity_date": 1508353098, "creation_date": 1508353098, "question_id": 46817325, "link": "https://stackoverflow.com/questions/46817325/angular-hmr-type-void-is-not-assignable-to-type-ngmodulerefany", "title": "Angular HMR: Type &#39;void&#39; is not assignable to type &#39;NgModuleRef&lt;any&gt;&#39;", "body": "<p>I've recently updated typescript, and I'm getting the following error regarding the main.ts of my application -- which has never had a problem before -- and which is responsible for hot module redeploy in our application. </p>\n\n<pre><code>ERROR in /Users/istobarton/code/studio-full-stack/studio-full-stack/studio-ui/src/main.ts (40,28): Argument of type '() =&gt; Promise&lt;void | NgModuleRef&lt;any&gt;&gt;' is not assignable to parameter of type '() =&gt; Promise&lt;NgModuleRef&lt;any&gt;&gt;'.\n  Type 'Promise&lt;void | NgModuleRef&lt;any&gt;&gt;' is not assignable to type 'Promise&lt;NgModuleRef&lt;any&gt;&gt;'.\n    Type 'void | NgModuleRef&lt;any&gt;' is not assignable to type 'NgModuleRef&lt;any&gt;'.\n      Type 'void' is not assignable to type 'NgModuleRef&lt;any&gt;'.\n</code></pre>\n\n<p>Cool, so there is clearly a type error between the call of \"hmrBootstrap(module, bootstrap)\" here:</p>\n\n<p><strong>main.ts</strong></p>\n\n<pre><code>if (environment.hmr) {\n  if (module[ 'hot' ]) {\n    if(bootstrap){\n      hmrBootstrap(module, bootstrap);\n    }\n  } else {\n    console.error('HMR is not enabled for webpack-dev-server!');\n    console.log('Are you using the --hmr flag for ng serve?');\n  }\n} else {\n  bootstrap();\n}\n</code></pre>\n\n<p>And it's application here:</p>\n\n<p><strong>hmr.ts</strong></p>\n\n<pre><code>export const hmrBootstrap = (module: any, bootstrap: () =&gt; Promise&lt;NgModuleRef&lt;any&gt;&gt;) =&gt; {\n  let ngModule: NgModuleRef&lt;any&gt;;\n  module.hot.accept();\n  bootstrap().then(mod =&gt; {\n    const data = module.hot.data || {};\n    ngModule = mod;\n    ngModule.instance.hmrOnInit(ngModule, data);\n  });\n  module.hot.dispose((data) =&gt; {\n    const appRef: ApplicationRef = ngModule.injector.get(ApplicationRef);\n    const elements = appRef.components.map(c =&gt; c.location.nativeElement);\n    const makeVisible = createNewHosts(elements);\n    ngModule.instance.hmrOnDestroy(ngModule, data);\n    ngModule.destroy();\n    ngModule.instance.hmrAfterDestroy(ngModule, data);\n    makeVisible();\n  });\n};\n</code></pre>\n\n<p>So, I'm looking at bootstrap's implementation: </p>\n\n<p><strong>main.ts</strong></p>\n\n<pre><code>const bootstrap = () =&gt; {\n  // Get translation provider and then bootstrap\n  return getTranslationProviders().then(\n    (providers) =&gt; {\n      const options = { providers };\n\n      return platformBrowserDynamic()\n        .bootstrapModule(AppModule, options)\n        .then(decorateModuleRef)\n        .catch((err) =&gt; console.error(err));\n    });\n};\n</code></pre>\n\n<p>Surely,one of these function calls is returning void, right? </p>\n\n<p><strong>environment.ts</strong></p>\n\n<pre><code>export const decorateModuleRef = (modRef: NgModuleRef&lt;any&gt;) =&gt; {\n  const appRef = modRef.injector.get(ApplicationRef);\n  const cmpRef = appRef.components[0];\n\n  const _ng = (&lt;any&gt; window).ng;\n  enableDebugTools(cmpRef);\n  (&lt;any&gt; window).ng.probe = _ng.probe;\n  (&lt;any&gt; window).ng.coreTokens = _ng.coreTokens;\n  return modRef;\n};\n</code></pre>\n\n<p><strong>i18n.providers.ts</strong></p>\n\n<pre><code>export function getTranslationProviders(): Promise&lt;Object[]&gt; {\n  // Get the locale id from the global\n  let locale = document['locale'] as string;\n\n  // return no providers if fail to get translation file for locale\n  const noProviders: Object[] = [];\n\n  // No locale\n  if (!locale) {\n    locale = navigator.languages\n      ? navigator.languages[0]\n      : (navigator.language || navigator.userLanguage);\n  }\n\n  return getTranslationFilesWithWebpack(locale)\n    .then((translations: string) =&gt; [\n      {provide: TRANSLATIONS, useValue: translations},\n      {provide: TRANSLATIONS_FORMAT, useValue: 'xlf'},\n      {provide: LOCALE_ID, useValue: locale}\n    ])\n    .catch(() =&gt; noProviders); // ignore if file not found\n}\n</code></pre>\n\n<p>Can anyone help? I'm losing my mind.</p>\n"}, {"tags": ["typescript", "vue.js", "rollup"], "answers": [{"tags": [], "owner": {"reputation": 101, "user_id": 1486188, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/64d2f201af051b044c14a3cfdc423958?s=128&d=identicon&r=PG", "display_name": "graphettion", "link": "https://stackoverflow.com/users/1486188/graphettion"}, "is_accepted": false, "score": 0, "last_activity_date": 1508361644, "creation_date": 1508361644, "answer_id": 46819445, "question_id": 46817256, "link": "https://stackoverflow.com/questions/46817256/rollup-bundles-correctly-but-vue-is-undefined/46819445#46819445", "title": "Rollup bundles correctly but Vue is undefined", "body": "<p>I fixed it. It wasn't working when I ran vue through rollup to just move the file, rename it, and output it via this code:</p>\n\n<p>//rollup.config.vendors.js (bundles vuejs)</p>\n\n<pre><code>export default {\n  entry: 'node_modules/vue/dist/vue.min.js',\n  dest: 'vuejs/vendors.min.js',\n  format: 'iife'\n}\n</code></pre>\n"}], "owner": {"reputation": 101, "user_id": 1486188, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/64d2f201af051b044c14a3cfdc423958?s=128&d=identicon&r=PG", "display_name": "graphettion", "link": "https://stackoverflow.com/users/1486188/graphettion"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 868, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1508361644, "creation_date": 1508352832, "last_edit_date": 1508360939, "question_id": 46817256, "link": "https://stackoverflow.com/questions/46817256/rollup-bundles-correctly-but-vue-is-undefined", "title": "Rollup bundles correctly but Vue is undefined", "body": "<p>I'm using rollup to bundle with vue and typescript. I'm getting the following errors:</p>\n\n<pre><code>Uncaught TypeError: Cannot set property 'Vue' of undefined\nUncaught ReferenceError: Vue is not defined\n</code></pre>\n\n<p>I understand this has something to do with Vue not loading correctly. I do have Vue above my script file. So I'm not sure why this is happening. Any ideas?</p>\n\n<p>Here's my files:</p>\n\n<p>// index.html <br></p>\n\n<pre><code>&lt;!DOCTYPE html&gt;\n&lt;html&gt;\n&lt;head&gt;\n  &lt;meta name=\"viewport\" content=\"width=device-width\" /&gt;\n  &lt;title&gt;View&lt;/title&gt;\n  &lt;link href=\"~/vuecss/styles.min.css\" rel=\"stylesheet\"&gt;\n&lt;/head&gt;\n&lt;body&gt;\n  &lt;div id=\"app\"&gt;&lt;/div&gt;\n  &lt;script src=\"~/vuejs/vendors.min.js\"&gt;&lt;/script&gt;\n  &lt;script src=\"~/vuejs/app.min.js\"&gt;&lt;/script&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p>// app.ts <br></p>\n\n<pre><code>import Vue from \"vue\";\nimport HelloComponent from \"./hello/hello.vue\";\n\nnew Vue({\n  el: \"#app\",\n  components: {\n    HelloComponent\n  }\n});\n</code></pre>\n\n<p>// hello.vue</p>\n\n<pre><code>&lt;template&gt;\n  &lt;div&gt;\n    &lt;input v-model=\"name\" type=\"text\"&gt;\n    &lt;div&gt;{{name}}&lt;/div&gt;\n  &lt;/div&gt;\n&lt;/template&gt;\n\n&lt;script lang=\"ts\"&gt;\n  import Vue from \"vue\";\n\n  export default Vue.extend({\n    data: { name: \"World\" }\n  });\n&lt;/script&gt;\n\n&lt;style lang=\"scss\" scoped&gt;\n  body {\n    background: #303030;\n    font-family: -apple-system, BlinkMacSystemFont, \"Segoe UI\", Helvetica, Arial, sans-serif, \"Apple Color Emoji\", \"Segoe UI Emoji\", \"Segoe UI Symbol\";\n    font-weight: 300;\n    color: #fff;\n    line-height: 1.5;\n    -webkit-font-smoothing: antialiased;\n  }\n&lt;/style&gt;\n</code></pre>\n\n<p>//rollup.config.vendors.js (bundles vuejs)</p>\n\n<pre><code>export default {\n  entry: 'node_modules/vue/dist/vue.min.js',\n  dest: 'vuejs/vendors.min.js',\n  format: 'iife'\n}\n</code></pre>\n\n<p>//rollup.config.js (bundles ts and vue scripts)</p>\n\n<pre><code>import rollupTS from 'rollup-plugin-typescript2'\nimport rollupVue from 'rollup-plugin-vue'\nimport rollupSCSS from 'rollup-plugin-scss'\nimport rollupUglify from 'rollup-plugin-uglify'\n\nexport default {\n  entry: 'vuesrc/app.ts',\n  dest: 'vuejs/app.min.js',\n  format: 'iife',\n\n  plugins: [\n    rollupTS(),\n    rollupVue({\n      autoStyles: false,\n      styleToImports: true,\n      compileTemplate: true\n    }),\n    rollupSCSS({\n      output: 'vuecss/styles.min.css',\n      outputStyle: 'compressed'\n    }),\n    rollupUglify()\n  ]\n}\n</code></pre>\n\n<p>File structure screenshot: <a href=\"https://www.screencast.com/t/GNZ8tvpvy\" rel=\"nofollow noreferrer\">https://www.screencast.com/t/GNZ8tvpvy</a> <br>\nVue is working but still shows the error: <a href=\"https://www.screencast.com/t/6dY52k2n\" rel=\"nofollow noreferrer\">https://www.screencast.com/t/6dY52k2n</a></p>\n\n<p>EDIT: Added a CDN and got this error from view: </p>\n\n<p>[Vue warn]: You are using the runtime-only build of Vue where the template compiler is not available. Either pre-compile the templates into render functions, or use the compiler-included build.</p>\n"}, {"tags": ["typescript", "generics", "functional-programming"], "comments": [{"owner": {"reputation": 933, "user_id": 2378943, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/8cdef6cc2a23a2d32ed12939dc8cdee5?s=128&d=identicon&r=PG", "display_name": "Sean Newell", "link": "https://stackoverflow.com/users/2378943/sean-newell"}, "edited": false, "score": 0, "creation_date": 1508358576, "post_id": 46817235, "comment_id": 80584746, "body": "Here&#39;s the simplified js code: <code>const compMap = (f, m) =&gt; m.map(f)</code> - it is curried with lodash in my app code, but I omitted that for brevity (in typescript I use <code>_cm</code> and then <code>const compMap = curry(_cm)</code> since lodash&#39;s curry is typed so I get all my types flowing out of the curry call)."}], "answers": [{"comments": [{"owner": {"reputation": 933, "user_id": 2378943, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/8cdef6cc2a23a2d32ed12939dc8cdee5?s=128&d=identicon&r=PG", "display_name": "Sean Newell", "link": "https://stackoverflow.com/users/2378943/sean-newell"}, "edited": false, "score": 0, "creation_date": 1508357032, "post_id": 46817724, "comment_id": 80583980, "body": "Yeah my new typing for <code>Mappable</code> gets a little... crazy. I&#39;ll update with new typings."}, {"owner": {"reputation": 933, "user_id": 2378943, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/8cdef6cc2a23a2d32ed12939dc8cdee5?s=128&d=identicon&r=PG", "display_name": "Sean Newell", "link": "https://stackoverflow.com/users/2378943/sean-newell"}, "edited": false, "score": 0, "creation_date": 1508358268, "post_id": 46817724, "comment_id": 80584572, "body": "You are correct in saying I need a generic variable though. Accepted for that! I&#39;m basically making little typings to get by until folktale <a href=\"https://github.com/origamitower/folktale/blob/bfeee814431a3aac4c3af94cec6e78fe78cc5a05/packages/base/index.d.ts\" rel=\"nofollow noreferrer\">releases their typings</a> in the next release, but I wanted a way to easily compose functions together regardless of the algebra I was in (Result/Task), so I wrote this helper function and curried it so it can be used in a composition call."}, {"owner": {"reputation": 933, "user_id": 2378943, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/8cdef6cc2a23a2d32ed12939dc8cdee5?s=128&d=identicon&r=PG", "display_name": "Sean Newell", "link": "https://stackoverflow.com/users/2378943/sean-newell"}, "edited": false, "score": 0, "creation_date": 1508359590, "post_id": 46817724, "comment_id": 80585253, "body": "<a href=\"https://gist.github.com/snewell92/ff7a0b2482293cbd785879fe80f4587a\" rel=\"nofollow noreferrer\">Here&#39;s a gist of more context</a> to answer more of the questions you posed to me."}], "tags": [], "owner": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "is_accepted": true, "score": 1, "last_activity_date": 1508354613, "creation_date": 1508354613, "answer_id": 46817724, "question_id": 46817235, "link": "https://stackoverflow.com/questions/46817235/typescript-propagating-generic-type-constraints/46817724#46817724", "title": "Typescript Propagating Generic Type Constraints", "body": "<p>Your problematic declaration looks like you're trying to create a <a href=\"https://github.com/Microsoft/TypeScript/issues/17574\" rel=\"nofollow noreferrer\">generic variable</a>, but TypeScript (as of v2.5) doesn't have those.  TypeScript has generic <em>types</em>, which is what <code>ComposeMapper&lt;T&gt;</code> is, and it has generic <em>functions</em>, which is what your last <code>_cm</code> declaration is.  </p>\n\n<p>I'm confused about your typings though, anyway.  <code>Mappable</code> is an interface with a generic function <code>map()</code> that returns any type <code>T</code> that the caller of <code>map()</code> specifies?  How would that be implemented?  And the generic variable you want seems to return the <em>value</em> <code>T</code>, which is only a <em>type</em>, so that would be a syntax error anyway.  And the last line, where you are calling <code>m.map(f)</code> where <code>m</code> is a <code>T</code> and it returns a <code>T</code>?  How would you implement that?  I am very confused and I expect that you are also.  My only recommendation is for you to flesh out what you're trying to do and maybe implement it in JavaScript without types, and then see if you can use TypeScript to annotate it.  Or, possibly, spend more time reading <a href=\"https://www.typescriptlang.org/docs/handbook/generics.html\" rel=\"nofollow noreferrer\">the generics section of the handbook</a>?  Not sure.  </p>\n\n<p>Anyway, hope that helps; good luck!</p>\n"}], "owner": {"reputation": 933, "user_id": 2378943, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/8cdef6cc2a23a2d32ed12939dc8cdee5?s=128&d=identicon&r=PG", "display_name": "Sean Newell", "link": "https://stackoverflow.com/users/2378943/sean-newell"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 176, "favorite_count": 0, "accepted_answer_id": 46817724, "answer_count": 1, "score": 0, "last_activity_date": 1539565695, "creation_date": 1508352758, "last_edit_date": 1539565695, "question_id": 46817235, "link": "https://stackoverflow.com/questions/46817235/typescript-propagating-generic-type-constraints", "title": "Typescript Propagating Generic Type Constraints", "body": "<p>Given a generic type:</p>\n\n<pre><code>export interface Mappable&lt;Type, Src&gt; {\n    map: &lt;T = Type, D = Src&gt;(f: (a: Src) =&gt; D) =&gt; T;\n}\nexport type ComposeMapper&lt;T extends Mappable&lt;A, B&gt;, A, B&gt; = (f: (a: B) =&gt; B, m: T) =&gt; T;\n</code></pre>\n\n<p>Why can't I use it in a declaration like so:</p>\n\n<pre><code>// Error: '(' expected\nlet _cm: &lt;T extends Mappable&gt; ComposeMapper&lt;T&gt;(f, m) =&gt; T;\n</code></pre>\n\n<p>But I can inline the type to declare it like this:</p>\n\n<pre><code>const _cm: &lt;T extends Mappable&lt;A ,B&gt;, A, B&gt;(f: (a: B) =&gt; B, m: T) =&gt; T = (f, m) =&gt; m.map(f);\n</code></pre>\n\n<p>Are generic types in type signatures expected to be right next to the parameter list, and can't be applied to another type?</p>\n"}, {"tags": ["javascript", "typescript"], "comments": [{"owner": {"reputation": 10229, "user_id": 621316, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/5203b24e171961e916d054b73d8b5b59?s=128&d=identicon&r=PG", "display_name": "Dave Cousineau", "link": "https://stackoverflow.com/users/621316/dave-cousineau"}, "edited": false, "score": 0, "creation_date": 1508352765, "post_id": 46817200, "comment_id": 80581738, "body": "you&#39;re calling <code>start</code> on click, and <code>start</code> hooks up events every time it&#39;s called"}, {"owner": {"reputation": 86, "user_id": 5186065, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/057b4c73baa06b7ee54c5f9a76db75fe?s=128&d=identicon&r=PG&f=1", "display_name": "John Gagiatsos", "link": "https://stackoverflow.com/users/5186065/john-gagiatsos"}, "reply_to_user": {"reputation": 10229, "user_id": 621316, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/5203b24e171961e916d054b73d8b5b59?s=128&d=identicon&r=PG", "display_name": "Dave Cousineau", "link": "https://stackoverflow.com/users/621316/dave-cousineau"}, "edited": false, "score": 0, "creation_date": 1508409734, "post_id": 46817200, "comment_id": 80603311, "body": "What&#39;s the best practice if i want to perform an action (example: to update a counter) when i hit click and then to use the updated counter inside start() for another event?"}, {"owner": {"reputation": 10229, "user_id": 621316, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/5203b24e171961e916d054b73d8b5b59?s=128&d=identicon&r=PG", "display_name": "Dave Cousineau", "link": "https://stackoverflow.com/users/621316/dave-cousineau"}, "edited": false, "score": 1, "creation_date": 1508451059, "post_id": 46817200, "comment_id": 80627115, "body": "Once you&#39;ve hooked the event, it fires on <i>every</i> click, not just once. That&#39;s why it&#39;s an event. You&#39;re saying &quot;I want to be notified every time &lt;event&gt; happens from now on.&quot; The way you wrote it you said: for every click, add another handler. So you double the amount of handlers with every click, and start getting more and more and more notifications with each click."}], "answers": [{"comments": [{"owner": {"reputation": 86, "user_id": 5186065, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/057b4c73baa06b7ee54c5f9a76db75fe?s=128&d=identicon&r=PG&f=1", "display_name": "John Gagiatsos", "link": "https://stackoverflow.com/users/5186065/john-gagiatsos"}, "edited": false, "score": 0, "creation_date": 1508399644, "post_id": 46817228, "comment_id": 80597723, "body": "Yes i know that i can call print inside the event listener, but if i want to run another function instead of  print? For example i&#39;m  updating the counter on click and i want to pass the updated counter with another eventlistener. How to implement this?"}, {"owner": {"reputation": 204677, "user_id": 75525, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/IYU63.png?s=128&g=1", "display_name": "Fenton", "link": "https://stackoverflow.com/users/75525/fenton"}, "reply_to_user": {"reputation": 86, "user_id": 5186065, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/057b4c73baa06b7ee54c5f9a76db75fe?s=128&d=identicon&r=PG&f=1", "display_name": "John Gagiatsos", "link": "https://stackoverflow.com/users/5186065/john-gagiatsos"}, "edited": false, "score": 0, "creation_date": 1508400009, "post_id": 46817228, "comment_id": 80597886, "body": "In the event of adding an additional event listener, both the existing and the new event listener will run (which was the behaviour you created before). So you need to remove the existing event listener before adding a new one. For example <code>this.add.removeEventListener(...)</code>. You need to exactly match the arguments used in <code>addEventListener</code> for the removal to work."}], "tags": [], "owner": {"reputation": 204677, "user_id": 75525, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/IYU63.png?s=128&g=1", "display_name": "Fenton", "link": "https://stackoverflow.com/users/75525/fenton"}, "is_accepted": false, "score": 2, "last_activity_date": 1508352712, "creation_date": 1508352712, "answer_id": 46817228, "question_id": 46817200, "link": "https://stackoverflow.com/questions/46817200/code-run-multiple-times-when-calling-self/46817228#46817228", "title": "Code run multiple times when calling self", "body": "<p>You are adding additional event listeners every time there is a click...</p>\n\n<pre><code>this.add.addEventListener('click', () =&gt; {\n  this.counter += 1;\n  this.start(); // &lt;-- this is the problem\n});\n</code></pre>\n\n<p>Solution - I think you want to call <code>print</code>, not <code>start</code>:</p>\n\n<pre><code>class Test {\n\n  private counter: nubmer = 0;\n  private add: Element;\n  private remove: Element;\n\n  constructor(){\n    this.add = document.getElementById('btn');\n    this.remove = document.getElementById('btn2');\n    this.start();\n  }\n\n  public print(): void {\n    console.log(this.counter);\n  }\n\n  public start(): void {\n\n    this.add.addEventListener('click', () =&gt; {\n      this.counter += 1;\n      this.print();\n    });\n\n    this.remove.addEventListener('click', () =&gt; {\n      this.counter -= 1;\n      this.print();\n    });\n\n    this.print();\n\n  }\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 86, "user_id": 5186065, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/057b4c73baa06b7ee54c5f9a76db75fe?s=128&d=identicon&r=PG&f=1", "display_name": "John Gagiatsos", "link": "https://stackoverflow.com/users/5186065/john-gagiatsos"}, "edited": false, "score": 0, "creation_date": 1508399945, "post_id": 46817234, "comment_id": 80597853, "body": "Why javascript add another click binding?i hit the button once.how can unbind the event after the first click?"}, {"owner": {"reputation": 742, "user_id": 1669011, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/n54uZ.png?s=128&g=1", "display_name": "Tor", "link": "https://stackoverflow.com/users/1669011/tor"}, "reply_to_user": {"reputation": 86, "user_id": 5186065, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/057b4c73baa06b7ee54c5f9a76db75fe?s=128&d=identicon&r=PG&f=1", "display_name": "John Gagiatsos", "link": "https://stackoverflow.com/users/5186065/john-gagiatsos"}, "edited": false, "score": 0, "creation_date": 1508420165, "post_id": 46817234, "comment_id": 80609772, "body": "It&#39;s binding because <code>this.remove.addEventListener</code> is literally adding another event listener, so they keep piling up. Does <code>start()</code> need to be called on every click? Why not just remove the <code>this.start()</code> calls from the click binding? Just from glancing at your code, everything should work exactly the same without these calls. You can remove listeners with <code>.removeEventListener(&quot;click&quot;, [function])</code> but then you&#39;d have to define a named function, not an anonymous function (the <code>() =&gt; {}</code> you&#39;re using here). I&#39;d say just remove the <code>this.start()</code> from your listeners though."}], "tags": [], "owner": {"reputation": 742, "user_id": 1669011, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/n54uZ.png?s=128&g=1", "display_name": "Tor", "link": "https://stackoverflow.com/users/1669011/tor"}, "is_accepted": false, "score": 0, "last_activity_date": 1508352751, "creation_date": 1508352751, "answer_id": 46817234, "question_id": 46817200, "link": "https://stackoverflow.com/questions/46817200/code-run-multiple-times-when-calling-self/46817234#46817234", "title": "Code run multiple times when calling self", "body": "<p>Short answer: Remove <code>this.start();</code> from your event listeners.</p>\n\n<p>The problem is that you are rebinding on <code>start</code></p>\n\n<pre><code>public start(): void {\n\nthis.add.addEventListener('click', () =&gt; {\n  this.counter += 1;\n  this.start();\n});\n\nthis.remove.addEventListener('click', () =&gt; {\n  this.counter -= 1;\n  this.start();\n});\n\nthis.print();\n\n }\n</code></pre>\n\n<p><code>this.start();</code> is being called every time you click the buttons. <code>start()</code> contains <code>this.add.addEventListener</code> which is adding <em>another</em> click binding.</p>\n"}], "owner": {"reputation": 86, "user_id": 5186065, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/057b4c73baa06b7ee54c5f9a76db75fe?s=128&d=identicon&r=PG&f=1", "display_name": "John Gagiatsos", "link": "https://stackoverflow.com/users/5186065/john-gagiatsos"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 44, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1508352751, "creation_date": 1508352618, "question_id": 46817200, "link": "https://stackoverflow.com/questions/46817200/code-run-multiple-times-when-calling-self", "title": "Code run multiple times when calling self", "body": "<p>I use this login on a bigger project but i can simulate the problem with this piece of code. With this class i want to update the counter in order to have access on the updated counter from another methon using an eventListener, for the purpose of this example i will print the counter in order to see the behaviour.</p>\n\n<pre><code>class Test {\n\n  private counter: nubmer = 0;\n  private add: Element;\n  private remove: Element;\n\n  constructor(){\n    this.add = document.getElementById('btn');\n    this.remove = document.getElementById('btn2');\n    this.start();\n  }\n\n  public print(): void {\n    console.log(this.counter);\n  }\n\n  public start(): void {\n\n    this.add.addEventListener('click', () =&gt; {\n      this.counter += 1;\n      this.start();\n    });\n\n    this.remove.addEventListener('click', () =&gt; {\n      this.counter -= 1;\n      this.start();\n    });\n\n    this.print();\n\n  }\n}\n</code></pre>\n\n<p>Html page with the two buttons</p>\n\n<pre><code>&lt;button id=\"btn\"&gt;Add&lt;/button&gt;\n&lt;button id=\"btn2\"&gt;Remove&lt;/button&gt;\n</code></pre>\n\n<p>The problem with this implementation is that every time i click add or remove button the code runs one time first, two times with the second click, four times with third etc.</p>\n"}, {"tags": ["javascript", "angular", "typescript", "rxjs"], "answers": [{"comments": [{"owner": {"reputation": 204677, "user_id": 75525, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/IYU63.png?s=128&g=1", "display_name": "Fenton", "link": "https://stackoverflow.com/users/75525/fenton"}, "reply_to_user": {"reputation": 7792, "user_id": 1691423, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/YtJy0.jpg?s=128&g=1", "display_name": "vlio20", "link": "https://stackoverflow.com/users/1691423/vlio20"}, "edited": false, "score": 0, "creation_date": 1508352447, "post_id": 46817115, "comment_id": 80581581, "body": "Happy days! I&#39;m glad to help."}], "tags": [], "owner": {"reputation": 204677, "user_id": 75525, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/IYU63.png?s=128&g=1", "display_name": "Fenton", "link": "https://stackoverflow.com/users/75525/fenton"}, "is_accepted": true, "score": 3, "last_activity_date": 1508352217, "creation_date": 1508352217, "answer_id": 46817115, "question_id": 46817018, "link": "https://stackoverflow.com/questions/46817018/rxjs-combinelatest-with-startswith-in-angular-gives-error/46817115#46817115", "title": "RxJS combineLatest with startsWith in Angular gives error", "body": "<p>I believe the <a href=\"https://www.learnrxjs.io/operators/combination/startwith.html\" rel=\"nofollow noreferrer\">rxjs</a> method in question is not plural...</p>\n\n<pre><code>from$.startWith(0),\n</code></pre>\n\n<p>Rather than</p>\n\n<pre><code>from$.startsWith(0),\n</code></pre>\n"}], "owner": {"reputation": 7792, "user_id": 1691423, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/YtJy0.jpg?s=128&g=1", "display_name": "vlio20", "link": "https://stackoverflow.com/users/1691423/vlio20"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2869, "favorite_count": 0, "accepted_answer_id": 46817115, "answer_count": 1, "score": 1, "last_activity_date": 1508352217, "creation_date": 1508351811, "question_id": 46817018, "link": "https://stackoverflow.com/questions/46817018/rxjs-combinelatest-with-startswith-in-angular-gives-error", "title": "RxJS combineLatest with startsWith in Angular gives error", "body": "<p>I am trying to trigger an action after change on one of the streams:</p>\n\n<pre><code>import {Observable} from 'rxjs/Observable';\nimport 'rxjs/add/operator/startWith';\n\nconst from$: Observable&lt;number&gt; = this.form.controls['input1'].valueChanges;\nconst to$: Observable&lt;number&gt; = this.form.controls['input2'].valueChanges;\n\nObservable\n  .combineLatest(\n    from$.startsWith(0),\n    to$.startsWith(0), \n    (a, b) =&gt; {\n       console.log(a, b);\n  });\n</code></pre>\n\n<p>The thing is that I am getting an error:<br>\n<code>error TS2339: Property 'startsWith' does not exist on type 'Observable&lt;number&gt;'.</code></p>\n\n<p>What is wrong with this code?</p>\n"}, {"tags": ["angular", "typescript"], "answers": [{"comments": [{"owner": {"reputation": 4376, "user_id": 3380837, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/eN16u.png?s=128&g=1", "display_name": "kat1330", "link": "https://stackoverflow.com/users/3380837/kat1330"}, "edited": false, "score": 0, "creation_date": 1508355142, "post_id": 46817074, "comment_id": 80583025, "body": "Do you know how to use <code>tslint-jsdoc-rules</code>/ After installation I added <code>&quot;jsdoc-require&quot;: [             true         ]</code> but it doesn&#39;t work."}], "tags": [], "owner": {"reputation": 204677, "user_id": 75525, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/IYU63.png?s=128&g=1", "display_name": "Fenton", "link": "https://stackoverflow.com/users/75525/fenton"}, "is_accepted": false, "score": 0, "last_activity_date": 1508352021, "creation_date": 1508352021, "answer_id": 46817074, "question_id": 46817007, "link": "https://stackoverflow.com/questions/46817007/break-build-if-code-is-not-documented-in-typescript/46817074#46817074", "title": "Break build if code is not documented in TypeScript", "body": "<p>The TypeScript compiler doesn't actually care about JSDoc comments, except when it is trying to understand a JavaScript file - so you'll need the addition of TSLint.</p>\n\n<p>TSLint can be configured to check lots of extra stuff that the compiler doesn't care about, there is a <a href=\"https://www.npmjs.com/package/tslint-jsdoc-rules\" rel=\"nofollow noreferrer\">ruleset for TSLint with JSDoc.</a></p>\n\n<p>Having said all this, the best TSLint rulesets are moderate rulesets.</p>\n"}], "owner": {"reputation": 4376, "user_id": 3380837, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/eN16u.png?s=128&g=1", "display_name": "kat1330", "link": "https://stackoverflow.com/users/3380837/kat1330"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 57, "favorite_count": 1, "answer_count": 1, "score": 0, "last_activity_date": 1508352133, "creation_date": 1508351778, "last_edit_date": 1508352133, "question_id": 46817007, "link": "https://stackoverflow.com/questions/46817007/break-build-if-code-is-not-documented-in-typescript", "title": "Break build if code is not documented in TypeScript", "body": "<p>Is is possible to break build if code documentation is not provided or it is not provided properly.</p>\n\n<p>Example here I have method without documentation. For this build needs to fail because method is not documented.:</p>\n\n<pre><code>  public onSuccessUpload(data: any) {\n    console.log(data);\n  }\n</code></pre>\n\n<p>Example here I have method incorrect documentation. For this build needs to fail because method doesn't have documented parameter:</p>\n\n<pre><code>  /**\n * Executes when each file is uploaded successfully. \n */\n  public onSuccessUpload(data: any) {\n    console.log(data);\n  }\n</code></pre>\n\n<p>Example here I have method incorrect documentation. For this build needs to fail because method doesn't have documented parameter properly. Document point to <code>string</code> and different name:</p>\n\n<pre><code>  /**\n * Executes when each file is uploaded successfully.\n * @param {string} text Success Message.\n */\n  public onSuccessUpload(data: any) {\n    console.log(data);\n  }\n</code></pre>\n\n<p>Here is correct:</p>\n\n<pre><code>  /**\n * Executes when each file is uploaded successfully.\n * @param {any} data response from file upload.\n */\n  public onSuccessUpload(data: any) {\n    console.log(data);\n  }\n</code></pre>\n\n<p>Is it possible to do this in TypeScript and Angular 4?</p>\n"}, {"tags": ["typescript", "webdriver-io", "ava", "spectron"], "answers": [{"tags": [], "owner": {"reputation": 9678, "user_id": 224125, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/1b74caa04112ca542666cdf2706df7e0?s=128&d=identicon&r=PG", "display_name": "Evan Larsen", "link": "https://stackoverflow.com/users/224125/evan-larsen"}, "is_accepted": true, "score": 2, "last_activity_date": 1508352953, "creation_date": 1508352953, "answer_id": 46817282, "question_id": 46816898, "link": "https://stackoverflow.com/questions/46816898/how-do-i-implement-typescript-webdriverio-for-the-spectronclient/46817282#46817282", "title": "How do I implement Typescript webdriverio for the SpectronClient?", "body": "<p>I actually solved this as I was typing up the question but figured since I did some searching and couldn't find any solutions I thought I might answer my own question in order to help others.</p>\n\n<p>I needed to get the typings for webdriver io</p>\n\n<pre><code>npm i -S @types/webdriverio\n</code></pre>\n\n<p>and then I imported that type into my <code>login.ts</code> script and use that as the SpectronClient</p>\n\n<pre><code>import * as WebdriverIO from 'webdriverio';\nexport class Login {\n    constructor(private client: WebdriverIO.Client&lt;void&gt;) { }\n\n    public async waitForPageToLoad() {\n        return await this.client.waitForVisible('#username');\n    }\n\n    public login(username: string, password: string) {\n        this.client.setValue('#username', username);\n        this.client.setValue('#Password', password);\n        this.client.click('#login');\n    }\n}\n</code></pre>\n\n<p>and here is my full <code>test.ts</code> test script</p>\n\n<pre><code>import * as ava from 'ava';\nimport { Application } from 'spectron';\nimport { Login } from './pages/login';\nimport { Settings } from './settings';\n\nfunction contextualize&lt;T&gt;(getContext: () =&gt; Promise&lt;T&gt;): ava.RegisterContextual&lt;T&gt; {\n    ava.test.beforeEach(async (t) =&gt; {\n        Object.assign(t.context, await getContext());\n    });\n    return ava.test;\n}\nconst test = contextualize(async () =&gt; {\n    const app = new Application({\n        path: '../electron.exe',\n        args: ['../app/index.html'],\n    });\n    await app.start();\n    return { app };\n});\n\ntest.afterEach.always(async (t) =&gt; await t.context.app.stop());\n\ntest('can login', async (t) =&gt; {\n    const login = new Login(t.context.app.client);\n    await login.waitForPageToLoad();\n    login.login(Settings.username, Settings.password);\n});\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 510, "user_id": 1067281, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/38218b669758584ad2b5edba15736ea8?s=128&d=identicon&r=PG", "display_name": "adrianthedev", "link": "https://stackoverflow.com/users/1067281/adrianthedev"}, "edited": false, "score": 0, "creation_date": 1573720200, "post_id": 57236785, "comment_id": 103976977, "body": "Yup. That did it! Thank you!"}], "tags": [], "owner": {"reputation": 116, "user_id": 3821113, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/P6tH5.png?s=128&g=1", "display_name": "modelDBA", "link": "https://stackoverflow.com/users/3821113/modeldba"}, "is_accepted": false, "score": 4, "last_activity_date": 1564269767, "creation_date": 1564269767, "answer_id": 57236785, "question_id": 46816898, "link": "https://stackoverflow.com/questions/46816898/how-do-i-implement-typescript-webdriverio-for-the-spectronclient/57236785#57236785", "title": "How do I implement Typescript webdriverio for the SpectronClient?", "body": "<p>As of right now (July 2019), WebdriverIO has moved to version 5.0, but Spectron still uses WebdriverIO 4. Make sure to specify the version used in Spectron when installing the WebdriverIO typings to resolve this issue:</p>\n\n<pre><code>npm i -S @types/webdriverio@^4.8.0\n</code></pre>\n"}], "owner": {"reputation": 9678, "user_id": 224125, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/1b74caa04112ca542666cdf2706df7e0?s=128&d=identicon&r=PG", "display_name": "Evan Larsen", "link": "https://stackoverflow.com/users/224125/evan-larsen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2009, "favorite_count": 1, "accepted_answer_id": 46817282, "answer_count": 2, "score": 0, "last_activity_date": 1564269767, "creation_date": 1508351367, "question_id": 46816898, "link": "https://stackoverflow.com/questions/46816898/how-do-i-implement-typescript-webdriverio-for-the-spectronclient", "title": "How do I implement Typescript webdriverio for the SpectronClient?", "body": "<p><a href=\"https://github.com/electron/spectron\" rel=\"nofollow noreferrer\">Spectron</a> is a <a href=\"https://nodejs.org/\" rel=\"nofollow noreferrer\">node.js</a> framework for automating <a href=\"https://github.com/electron/electron\" rel=\"nofollow noreferrer\">Electron</a> apps.  I'm using Spectron along with <a href=\"https://github.com/avajs/ava\" rel=\"nofollow noreferrer\">AVA</a> and <a href=\"https://www.typescriptlang.org/\" rel=\"nofollow noreferrer\">Typescript</a> to do automated Integration Testing.  I'm using <a href=\"https://github.com/avajs/ava/blob/master/docs/recipes/typescript.md\" rel=\"nofollow noreferrer\">AVA's suggest method</a> for making the test's context typesafe but I'm not able to figure out how to get typesafety on the Spectron's client property which is a <a href=\"http://webdriver.io\" rel=\"nofollow noreferrer\">webdriverio</a> client. I'm only able to see a few properties which the Spectron typescript definition file has provided and this is causing typescript transpile errors.</p>\n\n<p>These are the errors I'm getting:</p>\n\n<pre><code>src/pages/drive-shell.ts(7,34): error TS2339: Property 'waitForVisible' does not exist on type 'SpectronClient'.\nsrc/pages/login.ts(7,34): error TS2339: Property 'waitForVisible' does not exist on type 'SpectronClient'.\nsrc/pages/login.ts(11,21): error TS2339: Property 'setValue' does not exist on type 'SpectronClient'.\nsrc/pages/login.ts(12,21): error TS2339: Property 'setValue' does not exist on type 'SpectronClient'.\nsrc/pages/login.ts(13,21): error TS2339: Property 'click' does not exist on type 'SpectronClient'.\n</code></pre>\n"}, {"tags": ["node.js", "typescript", "npm", "node-modules"], "answers": [{"comments": [{"owner": {"reputation": 159103, "user_id": 8394265, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/c97e09efbd01ce2633edd27688bc9751?s=128&d=identicon&r=PG", "display_name": "R&#233;mi Rousselet", "link": "https://stackoverflow.com/users/8394265/r%c3%a9mi-rousselet"}, "edited": false, "score": 0, "creation_date": 1508937710, "post_id": 46923793, "comment_id": 80814125, "body": "Thanks. But then while it works with a plain <code>tsc</code>, when I try to build the test project using webpack (awesome-typescript-loader) I get a <code>Can&#39;t resolve &#39;myLib&#47;subModule</code>."}, {"owner": {"reputation": 159103, "user_id": 8394265, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/c97e09efbd01ce2633edd27688bc9751?s=128&d=identicon&r=PG", "display_name": "R&#233;mi Rousselet", "link": "https://stackoverflow.com/users/8394265/r%c3%a9mi-rousselet"}, "edited": false, "score": 0, "creation_date": 1508940036, "post_id": 46923793, "comment_id": 80815978, "body": "Found the solution to my second problem. <code>awesome-typescript-loader</code> requires to add a resolve plugin when using advanced path resolution. <a href=\"https://github.com/s-panferov/awesome-typescript-loader#advanced-path-resolution-in-typescript-20\" rel=\"nofollow noreferrer\">github.com/s-panferov/&hellip;</a>"}], "tags": [], "owner": {"reputation": 2930, "user_id": 564181, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/x3BvV.jpg?s=128&g=1", "display_name": "Chris Krycho", "link": "https://stackoverflow.com/users/564181/chris-krycho"}, "is_accepted": true, "score": 1, "last_activity_date": 1508904201, "creation_date": 1508904201, "answer_id": 46923793, "question_id": 46816800, "link": "https://stackoverflow.com/questions/46816800/tsc-is-trying-to-resolve-relative-path-modules-in-the-wrong-folder/46923793#46923793", "title": "tsc is trying to resolve relative path modules in the wrong folder", "body": "<p>You can resolve this by using the <a href=\"https://www.typescriptlang.org/docs/handbook/compiler-options.html\" rel=\"nofollow noreferrer\"><code>\"paths\"</code> key in the <code>\"compilerOptions\"</code></a> in your <code>tsconfig.json</code>. Something like this:</p>\n\n<pre><code>{\n  \"compilerOptions\": {\n    \"paths\": {\n      \"myLib/*\": \"node_modules/myLib/dist/*\"\n    }\n  }\n}\n</code></pre>\n\n<p>Sadly, this is something of a <a href=\"https://github.com/Microsoft/TypeScript/issues/8305\" rel=\"nofollow noreferrer\">standing issue</a> with how the TypeScript compiler resolves definition files when you have a <code>\"types\"</code> key in your <code>package.json</code>.</p>\n"}], "owner": {"reputation": 159103, "user_id": 8394265, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/c97e09efbd01ce2633edd27688bc9751?s=128&d=identicon&r=PG", "display_name": "R&#233;mi Rousselet", "link": "https://stackoverflow.com/users/8394265/r%c3%a9mi-rousselet"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1435, "favorite_count": 0, "accepted_answer_id": 46923793, "answer_count": 1, "score": 0, "last_activity_date": 1508919750, "creation_date": 1508350969, "last_edit_date": 1508919750, "question_id": 46816800, "link": "https://stackoverflow.com/questions/46816800/tsc-is-trying-to-resolve-relative-path-modules-in-the-wrong-folder", "title": "tsc is trying to resolve relative path modules in the wrong folder", "body": "<p>I'm using <code>npm link</code> to reference a typescript library I'm developing in my test project</p>\n\n<p>Which means that my node_modules looks like this :</p>\n\n<pre><code>node_modules/\n|   myLib/\n|   |   dist/\n|   |   |   subModule/\n|   |   |   |   index.js\n|   |   |   |   index.d.ts\n|   |   |   index.js\n|   |   |   index.d.ts\n|   |   node_modules/\n|   |   src/\n|   |   tsconfig.json\n|   |   package.json\n</code></pre>\n\n<p>Which implies that when I'm trying to reference my library using <code>import X from \"myLib\"</code> I have to tell the compiler that the sources are in the /dist forlder, not that the root of myLib.</p>\n\n<p>I solved this by adding a \"main\": \"./dist/index.js\" in the package.json of myLib</p>\n\n<p>The problem is when I try to import a path relative to myLib\nLike <code>import Y from \"myLib/subModule\"</code></p>\n\n<p>This time it doesn't work.\nBecause instead of looking at  <code>node_modules/myLib/dist/subModule</code> tsc is looking at <code>node_modules/myLib/subModules/dist/</code>  which doesn't exist.</p>\n\n<p>How can I make the compiler to look at the right path for subModules ?</p>\n"}, {"tags": ["angular", "typescript", "ngx-translate"], "comments": [{"owner": {"reputation": 2953, "user_id": 5133088, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/d0efad94ced5dcd194c0a482cafd4f7b?s=128&d=identicon&r=PG&f=1", "display_name": "Jeroen Heier", "link": "https://stackoverflow.com/users/5133088/jeroen-heier"}, "edited": false, "score": 0, "creation_date": 1508352604, "post_id": 46816667, "comment_id": 80581661, "body": "Did you try to use the examples in the <a href=\"http://www.ngx-translate.com\" rel=\"nofollow noreferrer\">How to use ngx-translate?</a> section of the ngx-translate website?"}], "answers": [{"tags": [], "owner": {"reputation": 81, "user_id": 2842256, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7804ac6c98f43fedf7ad9b5562cf1a43?s=128&d=identicon&r=PG&f=1", "display_name": "user2842256", "link": "https://stackoverflow.com/users/2842256/user2842256"}, "is_accepted": false, "score": 0, "last_activity_date": 1508359462, "creation_date": 1508359462, "answer_id": 46818934, "question_id": 46816667, "link": "https://stackoverflow.com/questions/46816667/how-to-retrieve-translated-value-without-changing-current-language-in-ngx-transl/46818934#46818934", "title": "How to retrieve translated value without changing current language in NGX Translate?", "body": "<p>I would recommend not to use ngx translate for this specific requirement. The purpose of ngx translate is to bind it to the view and load JSON of the currently selected language. The alternate is to simply setup another service which loads the json file which you need by passing a string e.g 'en' for English and 'ar' from Arabic. You can then use that JSON in your ts as needed.</p>\n"}, {"tags": [], "owner": {"reputation": 21, "user_id": 1256577, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hA60r.jpg?s=128&g=1", "display_name": "wtk300", "link": "https://stackoverflow.com/users/1256577/wtk300"}, "is_accepted": false, "score": 0, "last_activity_date": 1518637969, "creation_date": 1518637969, "answer_id": 48795144, "question_id": 46816667, "link": "https://stackoverflow.com/questions/46816667/how-to-retrieve-translated-value-without-changing-current-language-in-ngx-transl/48795144#48795144", "title": "How to retrieve translated value without changing current language in NGX Translate?", "body": "<p>I don't find any official solution, but I made workaround.</p>\n\n<pre><code>const interval = Observable.interval(1000);\nconst langObservable = Observable.from(['EN', 'PL']);\nlangObservable.zip(interval, (v1, v2) =&gt; {\n  return v1;\n}).subscribe(lang =&gt; {\n  this.translate.getTranslation(lang).subscribe(values =&gt; {\n    const value = values['TRANSALTION_KEY'];\n    this.messageProvider.next(value);\n  });\n\n});\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 219, "user_id": 1411126, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/9770f5be3918d1ae21e7f17ec0074879?s=128&d=identicon&r=PG", "display_name": "mluis", "link": "https://stackoverflow.com/users/1411126/mluis"}, "is_accepted": false, "score": 0, "last_activity_date": 1521639293, "creation_date": 1521639293, "answer_id": 49407786, "question_id": 46816667, "link": "https://stackoverflow.com/questions/46816667/how-to-retrieve-translated-value-without-changing-current-language-in-ngx-transl/49407786#49407786", "title": "How to retrieve translated value without changing current language in NGX Translate?", "body": "<p>Also I didn't find any official solution but did this:</p>\n\n<pre><code>this.preferences.languages.forEach((lang) =&gt; {\n   this.translate.getTranslation(lang).subscribe(values =&gt; {\n     this.languages.push({ label: values.i18n.LANG, value: lang});\n   });\n });\n</code></pre>\n\n<p>In which <code>lang</code> is something like 'en', 'pt', etc which must match with the name of the expected value for the argument of <code>getTranslation</code>.</p>\n"}, {"tags": [], "owner": {"reputation": 15822, "user_id": 4399281, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JkroG.jpg?s=128&g=1", "display_name": "Fateh Mohamed", "link": "https://stackoverflow.com/users/4399281/fateh-mohamed"}, "is_accepted": false, "score": 0, "last_activity_date": 1603027599, "creation_date": 1603027599, "answer_id": 64413881, "question_id": 46816667, "link": "https://stackoverflow.com/questions/46816667/how-to-retrieve-translated-value-without-changing-current-language-in-ngx-transl/64413881#64413881", "title": "How to retrieve translated value without changing current language in NGX Translate?", "body": "<p>Hello try this package <a href=\"https://www.npmjs.com/package/ngx-translate-in\" rel=\"nofollow noreferrer\">https://www.npmjs.com/package/ngx-translate-in</a> based on ngx-translate</p>\n<p>You can get translattion in specific language other than the current one</p>\n<pre><code>{{'key' | translateIn : 'fr' | async}}\n</code></pre>\n<p>just import tjis module <strong>NgxTranslateInModule</strong> and use the pipe <strong>translateIn</strong></p>\n"}], "owner": {"reputation": 41, "user_id": 8797267, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9e7f740b74ac8484ecd8ace85b4f1d30?s=128&d=identicon&r=PG&f=1", "display_name": "Haf_Elm", "link": "https://stackoverflow.com/users/8797267/haf-elm"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 2368, "favorite_count": 0, "answer_count": 4, "score": 4, "last_activity_date": 1603027599, "creation_date": 1508350512, "question_id": 46816667, "link": "https://stackoverflow.com/questions/46816667/how-to-retrieve-translated-value-without-changing-current-language-in-ngx-transl", "title": "How to retrieve translated value without changing current language in NGX Translate?", "body": "<p>My question is about ngx translate in angular2. My project supports 2 languages: English and Arabic and hence there is en.json and ar.json files. The below code will give me translated value of key based on my current language</p>\n\n<pre><code>this.translate.get('key').subscribe((msg: string) =&gt; {\n    console.log(msg);\n  }\n</code></pre>\n\n<p><strong>Question</strong>: How do I pass a specific language as input and get the translation for that specific language? For eg, my current language is English (and don't want to change the current language), but from the ts file, I need to retrieve the Arabic translation for a key from ar.json without changing the current language.</p>\n"}, {"tags": ["angular", "typescript", "es6-promise"], "comments": [{"owner": {"reputation": 204677, "user_id": 75525, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/IYU63.png?s=128&g=1", "display_name": "Fenton", "link": "https://stackoverflow.com/users/75525/fenton"}, "edited": false, "score": 0, "creation_date": 1508350634, "post_id": 46816631, "comment_id": 80580641, "body": "Is this just a typo in the question... <code>Promisse&lt;boolean&gt;</code> (double-s)?"}, {"owner": {"reputation": 1510, "user_id": 4794469, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/730d2a41b1bd6833448f23b1b389a9ad?s=128&d=identicon&r=PG", "display_name": "Roberto Correia", "link": "https://stackoverflow.com/users/4794469/roberto-correia"}, "reply_to_user": {"reputation": 204677, "user_id": 75525, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/IYU63.png?s=128&g=1", "display_name": "Fenton", "link": "https://stackoverflow.com/users/75525/fenton"}, "edited": false, "score": 0, "creation_date": 1508350681, "post_id": 46816631, "comment_id": 80580663, "body": "ops. sorry. it&#39;s a typo! correcting right now"}], "answers": [{"comments": [{"owner": {"reputation": 1510, "user_id": 4794469, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/730d2a41b1bd6833448f23b1b389a9ad?s=128&d=identicon&r=PG", "display_name": "Roberto Correia", "link": "https://stackoverflow.com/users/4794469/roberto-correia"}, "edited": false, "score": 0, "creation_date": 1508351509, "post_id": 46816877, "comment_id": 80581077, "body": "give-me the same error <code>Cannot invoke an expression whose type lacks a call signature. Type &#39;(&lt;TResult1 = void, TResult2 = never&gt;(onfulfilled?: (value: void) =&gt; TResult1 | PromiseLike&lt;TResul...&#39; has no compatible call signatures.</code>"}, {"owner": {"reputation": 4080, "user_id": 3547482, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f93615ed584db10b4cc59daa1437b7e1?s=128&d=identicon&r=PG&f=1", "display_name": "Alexander Leonov", "link": "https://stackoverflow.com/users/3547482/alexander-leonov"}, "reply_to_user": {"reputation": 1510, "user_id": 4794469, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/730d2a41b1bd6833448f23b1b389a9ad?s=128&d=identicon&r=PG", "display_name": "Roberto Correia", "link": "https://stackoverflow.com/users/4794469/roberto-correia"}, "edited": false, "score": 0, "creation_date": 1508351851, "post_id": 46816877, "comment_id": 80581250, "body": "Where exactly compiler points out? You need to change <b>all</b> signatures <code>Promise&lt;never&gt;</code> to <code>Promise&lt;void&gt;</code>. Also, what is your tsc version?"}, {"owner": {"reputation": 1510, "user_id": 4794469, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/730d2a41b1bd6833448f23b1b389a9ad?s=128&d=identicon&r=PG", "display_name": "Roberto Correia", "link": "https://stackoverflow.com/users/4794469/roberto-correia"}, "edited": false, "score": 0, "creation_date": 1508352219, "post_id": 46816877, "comment_id": 80581467, "body": "already changed the signature in all functions (in <code>AuthService</code>, on functions <code>login</code> and <code>handleLoginErrror</code>). The error occur on component that use the service (<code>this.authService.login(&#39;foo&#39;, &#39;bar&#39;).then(r =&gt; { console.log(r); });</code> tsc version is 2.4.1"}, {"owner": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "edited": false, "score": 0, "creation_date": 1508352299, "post_id": 46816877, "comment_id": 80581511, "body": "@AlexanderLeonov: examine this code: <code>declare const x: Promise&lt;number&gt; | Promise&lt;boolean&gt;; x.then(x =&gt; console.log(x));</code>.  The problem is that you are trying to call a <a href=\"https://github.com/Microsoft/TypeScript/issues/14107#issuecomment-312070139\" rel=\"nofollow noreferrer\">union of function types</a> and TypeScript won&#39;t let you do that."}, {"owner": {"reputation": 4080, "user_id": 3547482, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f93615ed584db10b4cc59daa1437b7e1?s=128&d=identicon&r=PG&f=1", "display_name": "Alexander Leonov", "link": "https://stackoverflow.com/users/3547482/alexander-leonov"}, "reply_to_user": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "edited": false, "score": 0, "creation_date": 1508353382, "post_id": 46816877, "comment_id": 80582108, "body": "@jcalz - true. Although I don&#39;t see why declare <code>Promise&lt;never&gt;</code> at all."}], "tags": [], "owner": {"reputation": 4080, "user_id": 3547482, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f93615ed584db10b4cc59daa1437b7e1?s=128&d=identicon&r=PG&f=1", "display_name": "Alexander Leonov", "link": "https://stackoverflow.com/users/3547482/alexander-leonov"}, "is_accepted": false, "score": 0, "last_activity_date": 1508351283, "creation_date": 1508351283, "answer_id": 46816877, "question_id": 46816631, "link": "https://stackoverflow.com/questions/46816631/typescript-promises-and-multiples-response-types/46816877#46816877", "title": "Typescript, promises and multiples response types", "body": "<p><code>Promise&lt;never&gt;</code> - I think this is what's causing it. \"never\" is a special TypeScript type to mark method that <strong>never returns at all</strong> - it's either throws an exception or shuts down the whole \"machine\" - nodejs runtime, for example. If you want to mark the method that <strong>does not return value</strong> then you need to do <code>Promise&lt;void&gt;</code>.</p>\n"}, {"comments": [{"owner": {"reputation": 1510, "user_id": 4794469, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/730d2a41b1bd6833448f23b1b389a9ad?s=128&d=identicon&r=PG", "display_name": "Roberto Correia", "link": "https://stackoverflow.com/users/4794469/roberto-correia"}, "edited": false, "score": 0, "creation_date": 1508353053, "post_id": 46817106, "comment_id": 80581911, "body": "I like that the <code>login</code> function return a <code>Promise&lt;boolean&gt;</code> or a error that I can treat. So, I changed the return type of  <code>login</code> method to <code>Promise&lt;boolean&gt;</code> (only), and the <code>handleLoginError</code> return type to <code>boolean | Error </code> (used <code>return new Error</code>). Now, I got no compiler error, but can&#39;t catch the errors (<code>...then(r =&gt; { console.log(r); }).catch(e =&gt; { console.error(e); });</code>) &lt;-- console.error never called even when the backend response is different than OK or invalid login (200, 203, or 401)"}, {"owner": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "reply_to_user": {"reputation": 1510, "user_id": 4794469, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/730d2a41b1bd6833448f23b1b389a9ad?s=128&d=identicon&r=PG", "display_name": "Roberto Correia", "link": "https://stackoverflow.com/users/4794469/roberto-correia"}, "edited": false, "score": 0, "creation_date": 1508353520, "post_id": 46817106, "comment_id": 80582181, "body": "That seems like a separate question.  Your runtime code always had this problem no matter what you declared the <code>login()</code> return type to be."}, {"owner": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "reply_to_user": {"reputation": 1510, "user_id": 4794469, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/730d2a41b1bd6833448f23b1b389a9ad?s=128&d=identicon&r=PG", "display_name": "Roberto Correia", "link": "https://stackoverflow.com/users/4794469/roberto-correia"}, "edited": false, "score": 0, "creation_date": 1508353936, "post_id": 46817106, "comment_id": 80582400, "body": "I don&#39;t have a great answer for this second question, unfortunately.  Angular&#39;s <code>Observable</code> gets turned into a <code>Promise</code> via rxjs and I don&#39;t know where along the line the error gets trapped.  Best answered by an angular/rxjs expert, which I&#39;m not.  Good luck!"}, {"owner": {"reputation": 1510, "user_id": 4794469, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/730d2a41b1bd6833448f23b1b389a9ad?s=128&d=identicon&r=PG", "display_name": "Roberto Correia", "link": "https://stackoverflow.com/users/4794469/roberto-correia"}, "edited": false, "score": 0, "creation_date": 1508356766, "post_id": 46817106, "comment_id": 80583839, "body": "tks @jcalz. I already resolved all the problems. If anybody is interested in the code, I posted in the following link: <a href=\"https://gist.github.com/tobecwb/9448f9fb20e0a4362a4290b7e34c3869\" rel=\"nofollow noreferrer\">gist.github.com/tobecwb/9448f9fb20e0a4362a4290b7e34c3869</a>"}], "tags": [], "owner": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "is_accepted": true, "score": 1, "last_activity_date": 1508352185, "creation_date": 1508352185, "answer_id": 46817106, "question_id": 46816631, "link": "https://stackoverflow.com/questions/46816631/typescript-promises-and-multiples-response-types/46817106#46817106", "title": "Typescript, promises and multiples response types", "body": "<p>A <code>Promise&lt;boolean&gt;</code> is a a promise that, when resolved, calls its callbacks with a <code>boolean</code> parameter.  </p>\n\n<p>A <code>Promise&lt;never&gt;</code> is a promise that, when resolved, calls its callbacks with a <code>never</code> parameter.  But there are no <code>never</code> values, so a <code>Promise&lt;never&gt;</code> can never be resolved. </p>\n\n<p>Okay, so, you declare that <code>login()</code> returns a <code>Promise&lt;boolean&gt; | Promise&lt;never&gt;</code>.  That means it returns <em>either</em> a <code>Promise&lt;boolean&gt;</code> or a <code>Promise&lt;never&gt;</code>.  Now, if you hand one of those to me, when I call <code>then()</code> on it, what type of parameter can I pass to it?  Well, if it's a <code>Promise&lt;boolean&gt;</code> I can hand you a <code>boolean</code>.  But if it's a <code>Promise&lt;never&gt;</code> I can only hand you a <code>never</code>.  But I don't know which one it is, because you handed me something which can be <em>either</em> of them.  So the only thing I can safely do is pass you something that's <em>both</em> a <code>boolean</code> and a <code>never</code>.  So that's just a <code>never</code>.  Oops, that's not what you want.</p>\n\n<p>The specific error you got is because <a href=\"https://github.com/Microsoft/TypeScript/issues/14107#issuecomment-312070139\" rel=\"nofollow noreferrer\">TypeScript won't allow you to call a method on a union of types where the method signatures differ</a>.  But even if you resolve that error the only thing safe for you to pass to <code>then()</code> is a <code>never</code> type.  That can't be what you intend.</p>\n\n<hr>\n\n<p>Let's back up.</p>\n\n<p>Do you want <code>login()</code> to return a <code>Promise&lt;boolean&gt;</code> <em>or</em> a <code>Promise&lt;never&gt;</code>?  Or do you want it to return a <code>Promise&lt;boolean | never&gt;</code>?  Meaning, a promise that, when resolved, calls its callbacks with <em>either</em> a <code>boolean</code> or a <code>never</code>.  In other words, a promise that calls its callbacks with a <code>boolean</code> or never calls its callbacks.  In other words, a <code>Promise&lt;boolean&gt;</code>.  If you change the return type of <code>login()</code> to <code>Promise&lt;boolean&gt;</code>, then the promise, if it gets resolved, will receive a <code>boolean</code>.  This allows you to call <code>then()</code> on it:</p>\n\n<pre><code>const loginResult = this.authService.login('john_smith', 'secret123').then(r =&gt; { console.log(r); }); // okay\n</code></pre>\n\n<p>Is that better?  Hope that helps; good luck!</p>\n"}], "owner": {"reputation": 1510, "user_id": 4794469, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/730d2a41b1bd6833448f23b1b389a9ad?s=128&d=identicon&r=PG", "display_name": "Roberto Correia", "link": "https://stackoverflow.com/users/4794469/roberto-correia"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1501, "favorite_count": 1, "accepted_answer_id": 46817106, "answer_count": 2, "score": 0, "last_activity_date": 1508353464, "creation_date": 1508350389, "last_edit_date": 1508353464, "question_id": 46816631, "link": "https://stackoverflow.com/questions/46816631/typescript-promises-and-multiples-response-types", "title": "Typescript, promises and multiples response types", "body": "<p>Trying to learn some Angular 4, and got this problem.</p>\n\n<p>I have a REST Server (Spring Boot), that has a endpoint to login the user, that will respond with a JWT token in the header, if the login was successfully, otherwise, respond with a 401 or 500 (if something goes wrong).</p>\n\n<p>So, to check the login, I used the following code (in a service):</p>\n\n<pre><code>export const TOKEN_NAME = 'jwt_token';\nconst AUTH_HEADER_KEY = 'Authorization';\nconst AUTH_PREFIX = 'Bearer';\n\n@Injectable()\nexport class AuthService {\n\n  private headers = new HttpHeaders({ 'Content-Type': 'application/json' });\n\n  constructor(private http: HttpClient) { }\n\n  login(username: string, password: string): Promise&lt;boolean&gt; | Promise&lt;never&gt; \n  {\n    const credentials = {\n      username: username,\n      password: password\n    };\n\n    const req = this.http.post(`http://localhost:8080/login`, credentials, { headers: this.headers, observe: 'response' });\n    return req.toPromise()\n      .then(r =&gt; this.processLoginResponse(r))\n      .catch(e =&gt; this.handleLoginError(e));\n  }\n\n  private processLoginResponse(res: HttpResponseBase): boolean {\n    if (res.header.has(AUTH_HEADER_KEY)) {\n      const authorizationHeaderValue = res.headers.get(AUTH_HEADER_KEY);\n\n      const regex = new RegExp(`^${AUTH_PREFIX} (.*)`);\n      const m = regex.exec(authorizationHeaderValue);\n\n      if (m !== undefined &amp;&amp; m.length === 2) {\n        // TODO: store the token on localstorage\n        return true\n      }\n    }\n\n    return false;\n  }\n\n  private handleLoginError(error: HttpErrorResponse): boolean | Promise&lt;never&gt; {\n    if (error.status === 401) {\n      return false;\n\n    } else if (error.status === 403) {\n      // bad request\n      return Promise.reject(new Error('Bad request custom message'));\n\n    } else {\n      return Promise.reject(new Error('Something goes wrong!'));\n    }\n  }\n}\n</code></pre>\n\n<p>So, in my <code>AuthService</code>, the <code>login</code> method can return a boolean (promise) or a error.</p>\n\n<p>Then, in my component, if I try to use the following code:</p>\n\n<p><code>const loginResult = this.authService.login('john_smith', 'secret123').then(r =&gt; { console.log(r); });</code></p>\n\n<p>I got a error, with the following content:</p>\n\n<p><code>TS2349:Cannot invoke an expression whose type lacks a call signature. Type '(&lt;TResult1 = boolean, TResult2 = never&gt;(onfulfilled?: (value: boolean) =&gt; TResult1 | PromiseLike&lt;...' has no compatible call signatures.</code>.</p>\n\n<p>No ideia how to correct this.</p>\n"}, {"tags": ["javascript", "angular", "typescript", "callback"], "comments": [{"owner": {"reputation": 1322, "user_id": 7338171, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/7226f33599a92bad2060e6d4e4f589e8?s=128&d=identicon&r=PG&f=1", "display_name": "Piyush Patel", "link": "https://stackoverflow.com/users/7338171/piyush-patel"}, "edited": false, "score": 0, "creation_date": 1508349699, "post_id": 46816304, "comment_id": 80580097, "body": "Did you try to console.log res object inside service and then in service call? See what does it show?"}, {"owner": {"reputation": 1193, "user_id": 7934883, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/72e6853fe6cb075569d0c9add5f920bd?s=128&d=identicon&r=PG&f=1", "display_name": "Rey", "link": "https://stackoverflow.com/users/7934883/rey"}, "reply_to_user": {"reputation": 1322, "user_id": 7338171, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/7226f33599a92bad2060e6d4e4f589e8?s=128&d=identicon&r=PG&f=1", "display_name": "Piyush Patel", "link": "https://stackoverflow.com/users/7338171/piyush-patel"}, "edited": false, "score": 0, "creation_date": 1508349776, "post_id": 46816304, "comment_id": 80580144, "body": "Because of the compilation error I mentioned, I&#39;m not able to run as is. So I can&#39;t print anything to the console."}], "owner": {"reputation": 1193, "user_id": 7934883, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/72e6853fe6cb075569d0c9add5f920bd?s=128&d=identicon&r=PG&f=1", "display_name": "Rey", "link": "https://stackoverflow.com/users/7934883/rey"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 48, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1508352190, "creation_date": 1508349221, "last_edit_date": 1508352190, "question_id": 46816304, "link": "https://stackoverflow.com/questions/46816304/refactoring-post-request-to-use-callback-in-angular-2-app", "title": "Refactoring POST Request to Use Callback in Angular 2 App", "body": "<p>I have a function using Angular's http to handle a REST POST request for the creation of a new customer record in my Angular 2 app. That was working as expected and looks like this:</p>\n\n<pre><code>createCustomer() {\n    const headers = new Headers({ 'Content-Type': 'application/json' });\n    const options = new RequestOptions({ headers: this.headers });\n    const body = {\n        isEnrolling: true,\n        startDate: new Date(),\n        name: {\n            first: '',\n            last: ''\n        }\n    };\n\n    return this._http.post\n    (`https://api.somesite.com/${this.ver}/customers?apikey=${this.key}`,\n    body, options).map((res: Response) =&gt; res.json());\n}\n</code></pre>\n\n<p>I'm calling this service method in my component and then immediately navigating to the newly created doc, like this:</p>\n\n<pre><code>private createCustomer()\n{\n    this.customerService.createCustomer().subscribe(\n    data =&gt; {\n        this.router.navigate(['/customer', data._id]);\n        return true;\n    },\n    error =&gt; {\n        return Observable.throw(error);\n    });\n}\n</code></pre>\n\n<p>As mentioned, all of the above is working.</p>\n\n<p>Now I'm trying to refactor this API call so as to use a universal POST request method that a co-worker set up. He's set it up to use callbacks instead of the mapping I'm doing now. This is what his POST method looks like:</p>\n\n<pre><code>public post(params: {\n    req: string,\n    reqArgs?: any,\n    reqBody?: any,\n    callback?: IRequestCallback\n}): Observable&lt;Response&gt;\n{\n    params['reqType'] = 'post';\n\n    return this.runHttpRequest(params);\n}\n</code></pre>\n\n<p>The <code>IRequestCallback</code> interface used here looks like this:</p>\n\n<pre><code>export interface IRequestCallback\n{\n    (response: IResponse);\n}\n</code></pre>\n\n<p>And the <code>IResponse</code> interface looks like this:</p>\n\n<pre><code>export interface IResponse\n{\n    ok?: boolean;\n\n    data?: any;\n\n    status?: number;\n\n    statusText?: string;\n}\n</code></pre>\n\n<p>So that part of my function that I'm homing in on changing to work with this new POST method is this part:</p>\n\n<pre><code>return this._http.post\n(`https://api.somesite.com/${this.ver}/customers?apikey=${this.key}`,\nbody, options).map((res: Response) =&gt; res.json());\n</code></pre>\n\n<p>This is how I tried refactoring the createCustomer() function to work with the apiService POST method:</p>\n\n<pre><code>createCustomer(callback?: Function) {\n    const headers = new Headers({ 'Content-Type': 'application/json' });\n    const options = new RequestOptions({ headers: this.headers });\n    const body = {\n        isEnrolling: true,\n        startDate: new Date(),\n        name: {\n            first: '',\n            last: ''\n        }\n    };\n\n    return this.apiService.post({\n        req: `/customers`, reqBody: body, callback: function (response)\n        {\n            const res = response;\n\n            if (res &amp;&amp; res.status === 200)\n            {\n                console.log(res.json());\n                return res.json();\n            }\n            else\n            {\n                console.log('Not able to complete createCustomer() function...');\n            }\n\n            callback(response);\n\n        }.bind(this)\n    });\n}\n</code></pre>\n\n<p>But in doing this I get this error:</p>\n\n<blockquote>\n  <p>Property '_id' does not exist on type 'Response'.</p>\n  \n  <p>And is in reference to this (part of the component code I listed above):</p>\n</blockquote>\n\n<pre><code>this.router.navigate(['/customer', data._id]);\n</code></pre>\n\n<p>My question is two-fold: </p>\n\n<p>1.) Why is this error being thrown? That's not clear to me.</p>\n\n<p>2.) How can I refactor my re-factored \"createCustomer()\" function to work with the POST request format expected by the apiService?</p>\n"}, {"tags": ["javascript", "asp.net", "reactjs", "typescript", "webpack"], "comments": [{"owner": {"reputation": 25809, "user_id": 3148807, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/sYRik.jpg?s=128&g=1", "display_name": "Sagiv b.g", "link": "https://stackoverflow.com/users/3148807/sagiv-b-g"}, "edited": false, "score": 0, "creation_date": 1508348471, "post_id": 46816069, "comment_id": 80579446, "body": "I&#39;m not sure but i think you should use default export- <code>export default class MyComponent</code>. i&#39;m not using typescript nor react.net hence i&#39;m not sure"}, {"owner": {"reputation": 3095, "user_id": 615288, "user_type": "registered", "accept_rate": 35, "profile_image": "https://i.stack.imgur.com/ZKBiE.jpg?s=128&g=1", "display_name": "KingKerosin", "link": "https://stackoverflow.com/users/615288/kingkerosin"}, "reply_to_user": {"reputation": 25809, "user_id": 3148807, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/sYRik.jpg?s=128&g=1", "display_name": "Sagiv b.g", "link": "https://stackoverflow.com/users/3148807/sagiv-b-g"}, "edited": false, "score": 0, "creation_date": 1508352199, "post_id": 46816069, "comment_id": 80581448, "body": "If I write <code>export default ChallengerTeamDetails;</code> at the end of the <code>tsx</code> it&#39;s get emitted to <code>exports.MyComponent= MyComponent; exports.default = MyComponent;</code> but still it&#39;s not working"}, {"owner": {"reputation": 7238, "user_id": 37168, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/6nAaY.png?s=128&g=1", "display_name": "stone", "link": "https://stackoverflow.com/users/37168/stone"}, "edited": false, "score": 0, "creation_date": 1508357667, "post_id": 46816069, "comment_id": 80584283, "body": "Post the code where you import MyComponent."}, {"owner": {"reputation": 3095, "user_id": 615288, "user_type": "registered", "accept_rate": 35, "profile_image": "https://i.stack.imgur.com/ZKBiE.jpg?s=128&g=1", "display_name": "KingKerosin", "link": "https://stackoverflow.com/users/615288/kingkerosin"}, "reply_to_user": {"reputation": 7238, "user_id": 37168, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/6nAaY.png?s=128&g=1", "display_name": "stone", "link": "https://stackoverflow.com/users/37168/stone"}, "edited": false, "score": 0, "creation_date": 1508359406, "post_id": 46816069, "comment_id": 80585163, "body": "@skypecakes I don\u2018t import anywhere. The website I had this from did not mention this. On the other hand they not used webpack. I&#39;ve also added the link to the question"}], "answers": [{"comments": [{"owner": {"reputation": 3095, "user_id": 615288, "user_type": "registered", "accept_rate": 35, "profile_image": "https://i.stack.imgur.com/ZKBiE.jpg?s=128&g=1", "display_name": "KingKerosin", "link": "https://stackoverflow.com/users/615288/kingkerosin"}, "edited": false, "score": 0, "creation_date": 1508392285, "post_id": 46820681, "comment_id": 80594357, "body": "I do already. It&#39;s the same as in the link you&#39;ve posted. It&#39;s only named different <code>[name].js</code> which will resolve to <code>MyComponent.js</code> instead of <code>bundle.js</code>, no?"}], "tags": [], "owner": {"reputation": 204459, "user_id": 390330, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/1400be56ff17549b926dd3260da4a494?s=128&d=identicon&r=PG", "display_name": "basarat", "link": "https://stackoverflow.com/users/390330/basarat"}, "is_accepted": false, "score": 0, "last_activity_date": 1508369050, "creation_date": 1508369050, "answer_id": 46820681, "question_id": 46816069, "link": "https://stackoverflow.com/questions/46816069/react-createelement-throws-component-not-defined/46820681#46820681", "title": "React.createElement throws Component not defined", "body": "<blockquote>\n  <p>Uncaught ReferenceError: MyComponent is not defined</p>\n</blockquote>\n\n<p>Your import is wrong: </p>\n\n<pre><code>&lt;script src=\"@(Url.Content(\"~/Scripts/React/dist/commons.js\"))\"&gt;&lt;/script&gt;\n&lt;script src=\"@(Url.Content(\"~/Scripts/React/dist/MyComponent.js\"))\"&gt;&lt;/script&gt;\n</code></pre>\n\n<p>You should be building a <code>bundle.js</code> using webpack. </p>\n\n<h1>More</h1>\n\n<p>One of many quickstarts on the internet <a href=\"https://basarat.gitbooks.io/typescript/docs/quick/browser.html\" rel=\"nofollow noreferrer\">https://basarat.gitbooks.io/typescript/docs/quick/browser.html</a></p>\n"}], "owner": {"reputation": 3095, "user_id": 615288, "user_type": "registered", "accept_rate": 35, "profile_image": "https://i.stack.imgur.com/ZKBiE.jpg?s=128&g=1", "display_name": "KingKerosin", "link": "https://stackoverflow.com/users/615288/kingkerosin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 677, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1508369050, "creation_date": 1508348270, "last_edit_date": 1508359363, "question_id": 46816069, "link": "https://stackoverflow.com/questions/46816069/react-createelement-throws-component-not-defined", "title": "React.createElement throws Component not defined", "body": "<p>I'm currently playing around with <code>ReactJS</code> using <code>TypeScript</code> as the underlying language wher I define my components.</p>\n\n<p>I saw on many sites, that it is possible to render such components within a page (in my case <code>cshtml</code>). Especially <a href=\"https://channel9.msdn.com/Series/aspnetmonsters/ASPNET-Monsters-94-React-with-Server-Side-Rendering\" rel=\"nofollow noreferrer\">here</a> which I tried to accomplish.\nTo do so there should be something like:</p>\n\n<pre><code>&lt;!-- ... --&gt;\n&lt;body&gt;\n    &lt;div id=\"myTargetId\"&gt;&lt;/div&gt;\n&lt;/body&gt;\n&lt;!-- ... --&gt;\n\n&lt;script src=\"@(Url.Content(\"~/Scripts/React/dist/commons.js\"))\"&gt;&lt;/script&gt;\n&lt;script src=\"@(Url.Content(\"~/Scripts/React/dist/MyComponent.js\"))\"&gt;&lt;/script&gt;\n&lt;script&gt;\n    ReactDOM.render(React.createElement(MyComponent, {}), document.getElementById(\"targetId\"));\n&lt;/script&gt;\n</code></pre>\n\n<p>Currently I get the following error:</p>\n\n<blockquote>\n  <p>Uncaught ReferenceError: MyComponent is not defined</p>\n</blockquote>\n\n<p>This is what my <code>MyComponent.tsx</code> looks like:</p>\n\n<pre><code>import * as React from \"react\";\n\nexport interface IMyComponentProps { }\nexport interface IMyComponentState { }\n\nexport class MyComponent extends React.Component&lt;IMyComponentProps, IMyComponentState&gt; {\n    render(): JSX.Element {\n        return (\n            &lt;p&gt;This comes from ReactJs&lt;/p&gt;\n        );\n    }\n}\n</code></pre>\n\n<p>To pack this all together I am using <code>webpack</code> with the following <code>webpack.config.js</code> (simplified):</p>\n\n<pre><code>const webpack = require(\"webpack\");\nmodule.exports = {\n    entry: {\n        MyComponent: \"./Scripts/React/Modules/MyComponent.tsx\"\n    },\n    output: {\n        path: path.join(__dirname, \"./Scripts/React/dist/\"),\n        filename: \"[name].js\"\n    },\n\n    externals: {\n        \"react\": \"React\",\n        \"react-dom\": \"ReactDOM\"\n    }\n};\n</code></pre>\n\n<p>And, finally, this is the emitted <code>JavaScript</code>:</p>\n\n<pre><code>webpackJsonp([0],[\n/* 0 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst React = __webpack_require__(1);\nclass MyComponent extends React.Component {\n    render() {\n        return (React.createElement(\"p\", null, \"This comes from ReactJs\"));\n    }\n}\nexports.MyComponent = MyComponent;\n\n\n/***/ }),\n/* 1 */\n/***/ (function(module, exports) {\n\nmodule.exports = React;\n\n/***/ })\n],[0]);\n//# sourceMappingURL=MyComponent.js.map\n</code></pre>\n\n<p>What am I missing here?</p>\n"}, {"tags": ["typescript", "login", "ionic2", "passwords", "show-hide"], "answers": [{"tags": [], "owner": {"reputation": 6729, "user_id": 6184203, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fed000dd4ea56a7da9bb47b2e095fa5e?s=128&d=identicon&r=PG&f=1", "display_name": "David", "link": "https://stackoverflow.com/users/6184203/david"}, "is_accepted": false, "score": 9, "last_activity_date": 1508349201, "creation_date": 1508349201, "answer_id": 46816299, "question_id": 46815831, "link": "https://stackoverflow.com/questions/46815831/how-to-create-login-in-ionic-2-with-show-hide-password/46816299#46816299", "title": "How to create login in ionic 2 with show/hide password", "body": "<p>You can simply wrap it in a button to make it clickable:</p>\n\n<pre><code>&lt;ion-item&gt;\n  &lt;ion-label floating primary&gt;Password&lt;/ion-label&gt;\n  &lt;ion-input type=\"password\"&gt;&lt;/ion-input&gt;\n  &lt;button ion-button clear item-end (click)='showHide()' style=\"height:32px;\"&gt;\n    &lt;ion-icon name=\"eye\" style=\"font-size:32px;\"&gt;&lt;/ion-icon&gt;\n  &lt;/button&gt;\n&lt;/ion-item&gt;\n</code></pre>\n\n<p>Use the style attributes to control the size of the icon.</p>\n"}, {"comments": [{"owner": {"reputation": 1689, "user_id": 634355, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cmjuf.jpg?s=128&g=1", "display_name": "jose.angel.jimenez", "link": "https://stackoverflow.com/users/634355/jose-angel-jimenez"}, "edited": false, "score": 11, "creation_date": 1556042645, "post_id": 49099347, "comment_id": 98300637, "body": "In ionic version 4 you should use <code>ion-icon slot=&quot;end&quot;</code> instead of <code>ion-icon item-end</code>"}, {"owner": {"reputation": 703, "user_id": 9685038, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bhVmp.jpg?s=128&g=1", "display_name": "parrycima", "link": "https://stackoverflow.com/users/9685038/parrycima"}, "edited": false, "score": 2, "creation_date": 1580292105, "post_id": 49099347, "comment_id": 106046237, "body": "Best answer... Keep it up!"}, {"owner": {"reputation": 700, "user_id": 1524303, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/990bc5ac28894151f0fe0da42c7fec4d?s=128&d=identicon&r=PG", "display_name": "site", "link": "https://stackoverflow.com/users/1524303/site"}, "edited": false, "score": 0, "creation_date": 1587674932, "post_id": 49099347, "comment_id": 108612375, "body": "In ionic 4 the .scss wasn&#39;t necessary."}], "tags": [], "owner": {"reputation": 6084, "user_id": 2058408, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/PZS4I.jpg?s=128&g=1", "display_name": "Azam Alvi", "link": "https://stackoverflow.com/users/2058408/azam-alvi"}, "is_accepted": true, "score": 50, "last_activity_date": 1526297529, "last_edit_date": 1526297529, "creation_date": 1520190774, "answer_id": 49099347, "question_id": 46815831, "link": "https://stackoverflow.com/questions/46815831/how-to-create-login-in-ionic-2-with-show-hide-password/49099347#49099347", "title": "How to create login in ionic 2 with show/hide password", "body": "<p>You can do like below\nin your <code>.ts</code> file write this code</p>\n\n<pre><code> passwordType: string = 'password';\n passwordIcon: string = 'eye-off';\n\n hideShowPassword() {\n     this.passwordType = this.passwordType === 'text' ? 'password' : 'text';\n     this.passwordIcon = this.passwordIcon === 'eye-off' ? 'eye' : 'eye-off';\n }\n</code></pre>\n\n<p>in your <code>.html</code> write this</p>\n\n<pre><code>&lt;ion-item&gt;\n    &lt;ion-label floating&gt;Password&lt;/ion-label&gt;\n    &lt;ion-input formControlName=\"password\" [type]=\"passwordType\" clearOnEdit=\"false\"&gt;&lt;/ion-input&gt;\n    &lt;ion-icon item-end [name]=\"passwordIcon\" class=\"passwordIcon\" (click)='hideShowPassword()'&gt;&lt;/ion-icon&gt;\n&lt;/ion-item&gt;\n</code></pre>\n\n<p>and this will be your <code>.scss</code> code. Change according to your need</p>\n\n<pre><code>.passwordIcon{\n   font-size:2rem !important;\n   position: relative !important;\n   top: 22px !important;\n   margin: 0 auto !important;\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 31, "user_id": 10960087, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-fFs_pTqPs-E/AAAAAAAAAAI/AAAAAAAAAys/9hrpGmSIxV8/photo.jpg?sz=128", "display_name": "Pavan Raju", "link": "https://stackoverflow.com/users/10960087/pavan-raju"}, "is_accepted": false, "score": 3, "last_activity_date": 1556982589, "last_edit_date": 1556982589, "creation_date": 1548316822, "answer_id": 54341852, "question_id": 46815831, "link": "https://stackoverflow.com/questions/46815831/how-to-create-login-in-ionic-2-with-show-hide-password/54341852#54341852", "title": "How to create login in ionic 2 with show/hide password", "body": "<pre><code>public type = 'password';\npublic showPass = false;\nshowPassword() {\n   this.showPass = !this.showPass;\n   if(this.showPass){\n     this.type = 'text';\n   } else {\n     this.type = 'password';\n   }\n}\n</code></pre>\n\n<pre class=\"lang-html prettyprint-override\"><code>&lt;ion-item class=\"i2\"no-lines&gt;\n   &lt;ion-input type=\"{{type}}\" name=\"password\" [(ngModel)]=\"password\" placeholder=\"Password\" style=\"width: 40px;\" no-lines&gt;\n   &lt;/ion-input&gt;\n   &lt;button *ngIf=\"!showPass\" ion-button clear color=\"dark\" type=\"button\" item-right (click)=\"showPassword()\"&gt; \n      &lt;ion-icon name=\"eye\" style=\"font-size:25px;\"&gt;&lt;/ion-icon&gt;\n   &lt;/button&gt;\n   &lt;button *ngIf=\"showPass\" ion-button clear color=\"dark\" type=\"button\" item-right (click)=\"showPassword()\"&gt; \n      &lt;ion-icon name=\"eye-off\" style=\"font-size:25px;\"&gt;&lt;/ion-icon&gt;\n   &lt;/button&gt;\n&lt;/ion-item&gt;\n</code></pre>\n"}], "owner": {"reputation": 1096, "user_id": 7393702, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/cea21d500d3a5c20775c21adcc1ddc8e?s=128&d=identicon&r=PG&f=1", "display_name": "JSN", "link": "https://stackoverflow.com/users/7393702/jsn"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 17591, "favorite_count": 6, "accepted_answer_id": 49099347, "answer_count": 3, "score": 17, "last_activity_date": 1610035662, "creation_date": 1508347284, "last_edit_date": 1508348769, "question_id": 46815831, "link": "https://stackoverflow.com/questions/46815831/how-to-create-login-in-ionic-2-with-show-hide-password", "title": "How to create login in ionic 2 with show/hide password", "body": "<p>I wanted to create a design like this using ionic 2 -> \n<a href=\"https://codepen.io/Floky87/pen/bVopyZ\" rel=\"noreferrer\">https://codepen.io/Floky87/pen/bVopyZ</a></p>\n\n<p>Which is a login functionality that has a hide/show password.</p>\n\n<p>Here's my HTML code</p>\n\n<pre><code>&lt;ion-header&gt;\n\n  &lt;ion-navbar&gt;\n    &lt;ion-title&gt;Login&lt;/ion-title&gt;\n  &lt;/ion-navbar&gt;\n\n&lt;/ion-header&gt;\n\n\n&lt;ion-content padding&gt;\n&lt;ion-item&gt;\n      &lt;ion-label floating primary&gt;Username&lt;/ion-label&gt;\n      &lt;ion-input type=\"text\"&gt;&lt;/ion-input&gt;\n&lt;/ion-item&gt; \n&lt;ion-item&gt;\n      &lt;ion-label floating primary&gt;Password&lt;/ion-label&gt;\n      &lt;ion-input type=\"password\"&gt;&lt;/ion-input&gt;\n      &lt;ion-icon name=\"eye\" item-right (click)=\"showHide()\"&gt;&lt;/ion-icon&gt;\n&lt;/ion-item&gt; \n&lt;/ion-content&gt;\n</code></pre>\n\n<p>And Here's the result -> <a href=\"http://prntscr.com/gz12xg\" rel=\"noreferrer\">http://prntscr.com/gz12xg</a></p>\n\n<p>Here's my .ts code</p>\n\n<pre><code>import { Component } from '@angular/core';\nimport { NavController, NavParams } from 'ionic-angular';\n\n@Component({\n  selector: 'page-login',\n  templateUrl: 'login.html',\n})\nexport class LoginPage {\n\n  constructor(public navCtrl: NavController, public navParams: NavParams) {\n  }\n\n  ionViewDidLoad() {\n    console.log('ionViewDidLoad LoginPage');\n  }\n  showHide() {\n    console.log('hi');\n  }\n\n}\n</code></pre>\n\n<p>The Problem is, the eye icon, is not clickable. No log from the console.</p>\n\n<p>When I click the eye icon, it only allows me to input from the password field.</p>\n\n<p>Anybody can help me? I just want the eye icon to be clickable.</p>\n"}, {"tags": ["visual-studio", "typescript", "webpack", "chutzpah"], "comments": [{"owner": {"reputation": 4396, "user_id": 4316374, "user_type": "registered", "accept_rate": 84, "profile_image": "https://lh4.googleusercontent.com/-8D0h5D5n1LQ/AAAAAAAAAAI/AAAAAAAAA3s/mLhsmffyuS8/photo.jpg?sz=128", "display_name": "alek kowalczyk", "link": "https://stackoverflow.com/users/4316374/alek-kowalczyk"}, "edited": false, "score": 0, "creation_date": 1548358907, "post_id": 46815359, "comment_id": 95523490, "body": "were you able to find a solution?"}, {"owner": {"reputation": 1524, "user_id": 358578, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/126b5b460e71118d335f5e0a99fd0ea0?s=128&d=identicon&r=PG", "display_name": "pbarranis", "link": "https://stackoverflow.com/users/358578/pbarranis"}, "reply_to_user": {"reputation": 4396, "user_id": 4316374, "user_type": "registered", "accept_rate": 84, "profile_image": "https://lh4.googleusercontent.com/-8D0h5D5n1LQ/AAAAAAAAAAI/AAAAAAAAA3s/mLhsmffyuS8/photo.jpg?sz=128", "display_name": "alek kowalczyk", "link": "https://stackoverflow.com/users/4316374/alek-kowalczyk"}, "edited": false, "score": 0, "creation_date": 1548359399, "post_id": 46815359, "comment_id": 95523737, "body": "@alekkowalczyk Frustratingly, no.  I sort of moved on but have not stopped wishing for a solution.  The latest Angular templates in Visual Studio, though, don&#39;t compile .ts to .js at all at compile-time; the compilation happens by Angular more or less at runtime, so that makes things really interesting."}], "owner": {"reputation": 1524, "user_id": 358578, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/126b5b460e71118d335f5e0a99fd0ea0?s=128&d=identicon&r=PG", "display_name": "pbarranis", "link": "https://stackoverflow.com/users/358578/pbarranis"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 234, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1508345530, "creation_date": 1508345530, "question_id": 46815359, "link": "https://stackoverflow.com/questions/46815359/using-chutzpah-where-webpack-compiles-ts-to-single-js-file", "title": "Using Chutzpah where WebPack compiles ts to single js file", "body": "<p>I've created a default ASP.NET Core Web Application (File -> New Project -> Visual C# -> .NET Core) with the Angular template.  This is a 100% out-of-the-box template in VS 2017 with .NET Core 2 with no changes by me.  It has one JS test file already in ClientApp/app/components/counter/counter.components.spec.ts, and I want to get Chutzpah working on this project.</p>\n\n<p>I'm new to .NET Core and Webpack (but not Chutzpah or jasmine tests, though).  As far as I can tell, in this project webpack produces a bundled js file at ./wwwroot/dist/main-client.js from the typescript files, and it does this at runtime, not compile-time.  Honestly, I'm mystified as to what causes webpack to kick off at runtime.</p>\n\n<p>It seems like almost all the common samples and questions about using Chutzpah involve a project where each .ts file has a corresponding .js compiled file in the same folder.  But this default project doesn't do that; it compiles the TS to JS at runtime and bundles all in one seamless operation.  I like that setup and really don't want to have to get away from that; it's very clean.</p>\n\n<p>But for the life of me I cannot even <em>guess</em> as to how to write a chutzpah.json config file that will work in this situation.  <strong>Where do I begin?</strong>  I've looked at the <a href=\"https://github.com/mmanela/chutzpah/tree/master/Samples/Compilation\" rel=\"nofollow noreferrer\">compilation samples from the chutzpah project</a> and there are so many differences between this default config and what the samples are doing that I don't know how to move forward.</p>\n\n<p>For reference, the contents of the test file component.spec.ts are below.</p>\n\n<pre><code>/// &lt;reference path=\"../../../../node_modules/@types/jasmine/index.d.ts\" /&gt;\nimport { assert } from 'chai';\nimport { CounterComponent } from './counter.component';\nimport { TestBed, async, ComponentFixture } from '@angular/core/testing';\n\nlet fixture: ComponentFixture&lt;CounterComponent&gt;;\n\ndescribe('Counter component', () =&gt; {\n    beforeEach(() =&gt; {\n        TestBed.configureTestingModule({ declarations: [CounterComponent] });\n        fixture = TestBed.createComponent(CounterComponent);\n        fixture.detectChanges();\n    });\n\n    it('should display a title', async(() =&gt; {\n        const titleText = fixture.nativeElement.querySelector('h1').textContent;\n        expect(titleText).toEqual('Counter');\n    }));\n\n    it('should start with count 0, then increments by 1 when clicked', async(() =&gt; {\n        const countElement = fixture.nativeElement.querySelector('strong');\n        expect(countElement.textContent).toEqual('0');\n\n        const incrementButton = fixture.nativeElement.querySelector('button');\n        incrementButton.click();\n        fixture.detectChanges();\n        expect(countElement.textContent).toEqual('1');\n    }));\n});\n</code></pre>\n"}, {"tags": ["typescript", "intellij-idea"], "answers": [{"tags": [], "owner": {"reputation": 423, "user_id": 595130, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/f73cfe18f681e315428da8e6f10652a8?s=128&d=identicon&r=PG", "display_name": "cha55son", "link": "https://stackoverflow.com/users/595130/cha55son"}, "is_accepted": false, "score": 0, "last_activity_date": 1508347343, "creation_date": 1508347343, "answer_id": 46815845, "question_id": 46815275, "link": "https://stackoverflow.com/questions/46815275/intellij-typescript-errors/46815845#46815845", "title": "Intellij Typescript errors", "body": "<p>Turns out that I was using this inside a *.vue file which was causing issues. Moving it to a standalone *.ts file resolved it.</p>\n"}], "owner": {"reputation": 423, "user_id": 595130, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/f73cfe18f681e315428da8e6f10652a8?s=128&d=identicon&r=PG", "display_name": "cha55son", "link": "https://stackoverflow.com/users/595130/cha55son"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 34, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1508347343, "creation_date": 1508345232, "last_edit_date": 1592644375, "question_id": 46815275, "link": "https://stackoverflow.com/questions/46815275/intellij-typescript-errors", "title": "Intellij Typescript errors", "body": "<p>I've got this valid bit of TypeScript (tested in the TS repl) but in IntelliJ 2017.2.5 it shows me the following:</p>\n<p><a href=\"https://i.stack.imgur.com/Ml2W7.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Ml2W7.png\" alt=\"enter image description here\" /></a></p>\n<p>Any idea how I could fix that? I've played around in the settings and this is what I currently have:</p>\n<p><a href=\"https://i.stack.imgur.com/MZSqD.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/MZSqD.png\" alt=\"enter image description here\" /></a></p>\n<p>My project is currently using TypeScript 2.5.3 from package.json.</p>\n"}, {"tags": ["typescript"], "answers": [{"tags": [], "owner": {"reputation": 2577, "user_id": 4361832, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/D1tGu.jpg?s=128&g=1", "display_name": "mode777", "link": "https://stackoverflow.com/users/4361832/mode777"}, "is_accepted": false, "score": 1, "last_activity_date": 1508349639, "creation_date": 1508349639, "answer_id": 46816412, "question_id": 46815274, "link": "https://stackoverflow.com/questions/46815274/tsc-is-not-recognized-as-an-internal-or-external-command-operable-program-or/46816412#46816412", "title": "&#39;tsc&#39; is not recognized as an internal or external command, operable program or batch file", "body": "<p>Did you install Typescript?\nTry <code>npm install -g typescript</code></p>\n\n<p>EDIT</p>\n\n<p>Sorry didn't read you question in detail. To install it locally, you should add it to your package json first: <code>npm install --save-dev typescript</code></p>\n\n<p>Then you sould find it in int the <code>node_modules/.bin</code> folder. Yo can run it like this: <code>node_modules/.bin/tsc</code> </p>\n\n<p>If you want to manually install it, i.e. download the binaries (Not recommended) make sure you put the binaries in a PATH location. E.g. <code>c:\\windows</code> (Totally not recommended) </p>\n"}], "owner": {"reputation": 252, "user_id": 4558487, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/wHYTV.jpg?s=128&g=1", "display_name": "Raviteja Avvari", "link": "https://stackoverflow.com/users/4558487/raviteja-avvari"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2467, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1508349639, "creation_date": 1508345232, "question_id": 46815274, "link": "https://stackoverflow.com/questions/46815274/tsc-is-not-recognized-as-an-internal-or-external-command-operable-program-or", "title": "&#39;tsc&#39; is not recognized as an internal or external command, operable program or batch file", "body": "<p>I am new to TypeScript and am trying to create a new project set up. I tried installing the TypeScript as local to the folder and not global as recommended in the official website.</p>\n\n<p>Here is my tsconfig.json </p>\n\n<pre><code>{\n    \"compilerOptions\": {\n        \"outDir\": \"./built\",\n        \"allowJs\": true,\n        \"target\": \"es5\",\n        \"module\": \"system\",\n        \"noImplicitAny\": true,\n        \"removeComments\": true,\n        \"preserveConstEnums\": true,\n        \"outFile\": \"../../built/local/tsc.js\",\n        \"sourceMap\": true\n    },\n    \"include\": [\n        \"./src/**/*\"\n    ],\n    \"exclude\": [\n        \"node_modules\",\n        \"**/*.spec.ts\"\n    ]\n}\n</code></pre>\n\n<p>my directory structure</p>\n\n<p><a href=\"https://i.stack.imgur.com/zTcwJ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/zTcwJ.png\" alt=\"enter image description here\"></a></p>\n\n<p>Error</p>\n\n<p><a href=\"https://i.stack.imgur.com/vGazv.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/vGazv.png\" alt=\"enter image description here\"></a></p>\n\n<p>Looking for help on how to resolve this.</p>\n"}, {"tags": ["node.js", "typescript", "asynchronous", "promise"], "comments": [{"owner": {"reputation": 507143, "user_id": 1048572, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/7f2c4de95e8f4f8f5a71c3aaf0ed312a?s=128&d=identicon&r=PG", "display_name": "Bergi", "link": "https://stackoverflow.com/users/1048572/bergi"}, "edited": false, "score": 1, "creation_date": 1508345730, "post_id": 46815246, "comment_id": 80578122, "body": "The results always will be promises - the functions will always be asynchronous (that&#39;s what the <code>async</code> means). There&#39;s no way around this than to wait for your <code>loggers</code> before using them."}, {"owner": {"reputation": 173079, "user_id": 893780, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/3j1db.jpg?s=128&g=1", "display_name": "robertklep", "link": "https://stackoverflow.com/users/893780/robertklep"}, "edited": false, "score": 0, "creation_date": 1508357223, "post_id": 46815246, "comment_id": 80584067, "body": "<code>fs.stat</code> and <code>fs.mkdir</code> don&#39;t return promises, so you can&#39;t <code>await</code> them (in a meaningful manner)."}], "owner": {"reputation": 5781, "user_id": 1427798, "user_type": "registered", "accept_rate": 59, "profile_image": "https://i.stack.imgur.com/iTN8X.png?s=128&g=1", "display_name": "An-droid", "link": "https://stackoverflow.com/users/1427798/an-droid"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 238, "favorite_count": 1, "answer_count": 0, "score": 1, "last_activity_date": 1508413343, "creation_date": 1508345158, "last_edit_date": 1508413343, "question_id": 46815246, "link": "https://stackoverflow.com/questions/46815246/using-reduce-with-async-and-wait", "title": "Using reduce with async and wait", "body": "<p>I'm aware that other post cover this subject BUT I need to use it as <code>const</code> so that it's init at runtime only</p>\n\n<p>Here is my issue, I'm new to nodejs and searched this a lot on the web. Didn't find any solution close to my need </p>\n\n<pre><code>const apis = ['log', 'get', 'all']\n\nconst loggers = apis.reduce(async (memo, api) =&gt; {\n  try {\n    await fs.stat(path.join(process.cwd() + config.application.log.dir, api));\n  } catch (e) {\n    await fs.mkdir(path.join(process.cwd() + config.application.log.dir, api));\n  }\n  memo[api] = new (winston.Logger)({\n    transports: [\n      new winston.transports.File({\n        timestamp: () =&gt; (new Date().toLocaleTimeString()),\n        datePattern: 'yyyy-MM-dd',\n        level: config.application.mode === 'test' ? 'emerg' : 'info',\n        filename: path.join(process.cwd(), config.application.log.dir, api, `${api}.log`),\n        maxsize: 1024 * 1024 * 100, // 100MB\n        colorize: false,\n        prepend: true,\n        json: false,\n      }),\n    ],\n  });\n  return await Promise.resolve(memo);\n}, {});\n</code></pre>\n\n<p>My issue is that the results are Promises any idea how to change that ?</p>\n\n<p>EDIT : -----------------------</p>\n\n<p>I finally opted for this solution, and call it from app.ts during express initialization (if you have a better idea don't hesitate to add it): </p>\n\n<pre><code>export const loggerInitialisation = async function (): Promise&lt;void&gt; {\n\n  // Create all log folders\n  await Promise.all(apis.map(async (api) =&gt; {\n    try {\n      await fs.stat(path.join(process.cwd() + config.application.log.dir, api));\n    } catch (e) {\n      await fs.mkdir(path.join(process.cwd() + config.application.log.dir, api));\n    }\n  }));\n  // Create for each log folder a winston logger and transport\n  loggers = apis.reduce((memo, api) =&gt; {\n    memo[api] = new (winston.Logger)({\n      transports: [\n        new winston.transports.File({\n          timestamp: () =&gt; (new Date().toLocaleTimeString()),\n          datePattern: 'yyyy-MM-dd',\n          level: config.application.mode === 'test' ? 'emerg' : 'info',\n          filename: path.join(process.cwd(), config.application.log.dir, api, `${api}.log`),\n          maxsize: 1024 * 1024 * 100, // 100MB\n          colorize: false,\n          prepend: true,\n          json: false,\n        }),\n      ],\n    });\n    return memo;\n  }, {});\n};\n</code></pre>\n"}, {"tags": ["angular", "typescript", "rxjs"], "comments": [{"owner": {"reputation": 11413, "user_id": 7176268, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/04229512cf43b446c03e7b902ca0b890?s=128&d=identicon&r=PG&f=1", "display_name": "LLai", "link": "https://stackoverflow.com/users/7176268/llai"}, "edited": false, "score": 0, "creation_date": 1508348039, "post_id": 46814875, "comment_id": 80579233, "body": "That is a typings issue thrown by the typescript compiler. Can you post your angular code?"}, {"owner": {"reputation": 19040, "user_id": 2956115, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/09tkv.jpg?s=128&g=1", "display_name": "artur grzesiak", "link": "https://stackoverflow.com/users/2956115/artur-grzesiak"}, "edited": false, "score": 0, "creation_date": 1508349249, "post_id": 46814875, "comment_id": 80579853, "body": "Hmm interesting <code>data</code> should be of type <code>any</code>. It seems to be caused by Rx. Not sure if it is by design. Anyway to fix it you could add type of your data wrapped in the observable, like <code>new Rx.Observable&lt;any[]&gt;</code>."}, {"owner": {"reputation": 7126, "user_id": 2829204, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/xFo8Y.jpg?s=128&g=1", "display_name": "CozyAzure", "link": "https://stackoverflow.com/users/2829204/cozyazure"}, "edited": false, "score": 0, "creation_date": 1508349886, "post_id": 46814875, "comment_id": 80580217, "body": "Hrmm.. any reproducibles? Looks fine on plnkr though. <a href=\"http://plnkr.co/edit/gKe19SNASo4trdpkjKl5?p=preview\" rel=\"nofollow noreferrer\">plnkr.co/edit/gKe19SNASo4trdpkjKl5?p=preview</a>"}, {"owner": {"reputation": 157, "user_id": 6301616, "user_type": "registered", "accept_rate": 64, "profile_image": "https://lh4.googleusercontent.com/-XBhinvw_kBs/AAAAAAAAAAI/AAAAAAAABMQ/Qp1NNIBp7eA/photo.jpg?sz=128", "display_name": "Matt Gween", "link": "https://stackoverflow.com/users/6301616/matt-gween"}, "reply_to_user": {"reputation": 19040, "user_id": 2956115, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/09tkv.jpg?s=128&g=1", "display_name": "artur grzesiak", "link": "https://stackoverflow.com/users/2956115/artur-grzesiak"}, "edited": false, "score": 0, "creation_date": 1508351318, "post_id": 46814875, "comment_id": 80580987, "body": "@arturgrzesiak Thanks. Typing the Observable as &lt;any&gt; fixed the issue. Not ideal, but I&#39;ve been working on this problem for 3 days and I just don&#39;t care anymore."}], "answers": [{"comments": [{"owner": {"reputation": 1289, "user_id": 5053124, "user_type": "registered", "accept_rate": 60, "profile_image": "https://lh6.googleusercontent.com/-FFtP7NX3Uf0/AAAAAAAAAAI/AAAAAAAAABY/5-T_w94uciA/photo.jpg?sz=128", "display_name": "Nicholas Robinson", "link": "https://stackoverflow.com/users/5053124/nicholas-robinson"}, "edited": false, "score": 0, "creation_date": 1508344419, "post_id": 46814925, "comment_id": 80577415, "body": "Don&#39;t forget to return a value in the map function. I assume you want to <code>return data.filter(item =&gt; item.name === &#39;John Doe&#39;);</code>"}, {"owner": {"reputation": 157, "user_id": 6301616, "user_type": "registered", "accept_rate": 64, "profile_image": "https://lh4.googleusercontent.com/-XBhinvw_kBs/AAAAAAAAAAI/AAAAAAAABMQ/Qp1NNIBp7eA/photo.jpg?sz=128", "display_name": "Matt Gween", "link": "https://stackoverflow.com/users/6301616/matt-gween"}, "edited": false, "score": 0, "creation_date": 1508344926, "post_id": 46814925, "comment_id": 80577671, "body": "I don&#39;t understand. The RxJS <code>.map</code> operator applies a mapping function to each value emitted from the observable. In this case the value emitted is the array. Not the objects inside the array.  Your code is the same as what I provided and causes the same error. How am I supposed to filter the array other than using a <code>.filter</code> inside a <code>.map</code>?"}, {"owner": {"reputation": 3777, "user_id": 6944107, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/j9MKk.jpg?s=128&g=1", "display_name": "Orlandster", "link": "https://stackoverflow.com/users/6944107/orlandster"}, "edited": false, "score": 0, "creation_date": 1508345163, "post_id": 46814925, "comment_id": 80577801, "body": "I&#39;ve updated the answer with a solution which should work for you."}, {"owner": {"reputation": 157, "user_id": 6301616, "user_type": "registered", "accept_rate": 64, "profile_image": "https://lh4.googleusercontent.com/-XBhinvw_kBs/AAAAAAAAAAI/AAAAAAAABMQ/Qp1NNIBp7eA/photo.jpg?sz=128", "display_name": "Matt Gween", "link": "https://stackoverflow.com/users/6301616/matt-gween"}, "edited": false, "score": 0, "creation_date": 1508345384, "post_id": 46814925, "comment_id": 80577939, "body": "I&#39;m still getting the same error with your updated solution. The second <code>.filter</code> is throwing the error: <code>Property &#39;filter&#39; does not exist on type &#39;{}&#39;.</code>"}, {"owner": {"reputation": 3777, "user_id": 6944107, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/j9MKk.jpg?s=128&g=1", "display_name": "Orlandster", "link": "https://stackoverflow.com/users/6944107/orlandster"}, "edited": false, "score": 0, "creation_date": 1508345460, "post_id": 46814925, "comment_id": 80577980, "body": "oops sry where was my mind. now it&#39;s correct. remove the second filter"}, {"owner": {"reputation": 157, "user_id": 6301616, "user_type": "registered", "accept_rate": 64, "profile_image": "https://lh4.googleusercontent.com/-XBhinvw_kBs/AAAAAAAAAAI/AAAAAAAABMQ/Qp1NNIBp7eA/photo.jpg?sz=128", "display_name": "Matt Gween", "link": "https://stackoverflow.com/users/6301616/matt-gween"}, "edited": false, "score": 0, "creation_date": 1508345830, "post_id": 46814925, "comment_id": 80578177, "body": "That doesn&#39;t work either. Nothing passes the filter and gets emitted. <code>.filter</code> doesn&#39;t work that way. It&#39;s the RxJS operator <code>.filter</code> not a typical array <code>.filter</code>. In your updated solution it is taking the entire array as <code>item</code>, not the object inside the array.  <a href=\"http://reactivex.io/rxjs/class/es6/Observable.js~Observable.html#instance-method-filter\" rel=\"nofollow noreferrer\">reactivex.io/rxjs/class/es6/&hellip;</a>"}], "tags": [], "owner": {"reputation": 3777, "user_id": 6944107, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/j9MKk.jpg?s=128&g=1", "display_name": "Orlandster", "link": "https://stackoverflow.com/users/6944107/orlandster"}, "is_accepted": false, "score": 2, "last_activity_date": 1508345436, "last_edit_date": 1508345436, "creation_date": 1508343999, "answer_id": 46814925, "question_id": 46814875, "link": "https://stackoverflow.com/questions/46814875/angular-rxjs-typescript-thinks-my-data-is-an-object-and-not-an-array/46814925#46814925", "title": "Angular/RxJS/Typescript thinks my data is an object and not an array?", "body": "<p>You are using the <code>.filter</code> method inside the <code>.map</code>. Both methods iterate over your data, which means <code>data</code> contains an object when you are trying to access it inside the <code>.filter</code> method.</p>\n\n<pre><code>new Rx.Observable(observer =&gt; observer.next([\n  {id:0, name:'John Doe'},\n  {id:1, name:'Jane Smith'}\n])).map(data =&gt; { \n  // data is an object since map iterates over your array\n  return data.filter(item =&gt; item.name === 'John Doe')\n).subscribe(data =&gt; console.log(data), err =&gt; console.log(err))\n</code></pre>\n\n<hr>\n\n<p>Update:</p>\n\n<p>If you want to filter your data, you don't need the <code>map</code> fucnction. </p>\n\n<p>Simply do this:</p>\n\n<pre><code>new Rx.Observable(observer =&gt; observer.next([\n  {id:0, name:'John Doe'},\n  {id:1, name:'Jane Smith'}\n]))\n.filter(item =&gt; item.name === 'John Doe')\n.subscribe(data =&gt; console.log(data), err =&gt; console.log(err))\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 3611, "user_id": 2742189, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fa2038e19735e13bf3e2be52a12eea8c?s=128&d=identicon&r=PG&f=1", "display_name": "OJ Kwon", "link": "https://stackoverflow.com/users/2742189/oj-kwon"}, "is_accepted": false, "score": 1, "last_activity_date": 1508470241, "creation_date": 1508470241, "answer_id": 46842000, "question_id": 46814875, "link": "https://stackoverflow.com/questions/46814875/angular-rxjs-typescript-thinks-my-data-is-an-object-and-not-an-array/46842000#46842000", "title": "Angular/RxJS/Typescript thinks my data is an object and not an array?", "body": "<p>This is typescript side issue, not actual code side behavior. If you run this code as is on JS, you can see values are logged via subscription.</p>\n\n<p>Main problem in here is, when you create observable via <code>new Observable()</code> ctor, it is not able to infer type of observable via subscribe function you provided but instead type inference flow from <code>Observable&lt;T&gt;</code> to subscribe function parameter. Cause of those, your observable's type becomes <code>Observable&lt;{}&gt;</code>, and it makes fails to access prototype of array.</p>\n\n<p>Creating Observable via <code>new Observable&lt;Array&lt;{id: number, name: string}&gt;&gt;</code> makes observable operator correctly infer type of values. Or more better, static creation method will provide type inferences for value - like</p>\n\n<pre><code>Rx.Observable.of([{\n  id: 0,\n  name: 'John Doe'\n}, {\n  id: 1,\n  name: 'Jane Smith'\n}])\n.map(data =&gt; data.filter(item =&gt; item.name === 'John Doe'))\n.subscribe(data =&gt; console.log(data), err =&gt; console.log(err))\n</code></pre>\n"}], "owner": {"reputation": 157, "user_id": 6301616, "user_type": "registered", "accept_rate": 64, "profile_image": "https://lh4.googleusercontent.com/-XBhinvw_kBs/AAAAAAAAAAI/AAAAAAAABMQ/Qp1NNIBp7eA/photo.jpg?sz=128", "display_name": "Matt Gween", "link": "https://stackoverflow.com/users/6301616/matt-gween"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 441, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1508470241, "creation_date": 1508343847, "last_edit_date": 1508349798, "question_id": 46814875, "link": "https://stackoverflow.com/questions/46814875/angular-rxjs-typescript-thinks-my-data-is-an-object-and-not-an-array", "title": "Angular/RxJS/Typescript thinks my data is an object and not an array?", "body": "<p>I swear, RxJS is going to be the death of me. I'm pretty sure this is an actual bug with either RxJS, Typescript, or Angular's implementation of either. This works on <a href=\"http://reactivex.io/rxjs/\" rel=\"nofollow noreferrer\">the RxJS docs page</a> (the javascript console on that page works as an RxJS sandbox):</p>\n\n<pre><code>  new Rx.Observable(observer =&gt; observer.next([{\n    id: 0,\n    name: 'John Doe'\n  }, {\n    id: 1,\n    name: 'Jane Smith'\n  }]))\n  .map(data =&gt; data.filter(item =&gt; item.name === 'John Doe'))\n  .subscribe(data =&gt; console.log(data), err =&gt; console.log(err))\n</code></pre>\n\n<p>But the exact same code is giving me the error <code>Property 'filter' does not exist on type '{}'.</code> in my Angular application. Referencing the <code>data.filter</code> part. <code>data</code> at that point is most definitely an array, so I really can't figure out why it doesn't think so.</p>\n\n<p>I have updated the version of rxjs that the application is using, but that didn't change anything. Any assistance would be greatly appreciated. RxJS is already difficult enough without these inconsistencies!</p>\n"}, {"tags": ["javascript", "typescript", "recursion"], "comments": [{"owner": {"reputation": 871364, "user_id": 157247, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/4HovX.jpg?s=128&g=1", "display_name": "T.J. Crowder", "link": "https://stackoverflow.com/users/157247/t-j-crowder"}, "edited": false, "score": 0, "creation_date": 1508343617, "post_id": 46814713, "comment_id": 80576963, "body": "Please update your question with a <b>runnable</b> <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> demonstrating the problem, using Stack Snippets (the <code>[&lt;&gt;]</code> toolbar button). (This will require removing type annotations, but that&#39;s just about all.)"}], "answers": [{"comments": [{"owner": {"reputation": 871364, "user_id": 157247, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/4HovX.jpg?s=128&g=1", "display_name": "T.J. Crowder", "link": "https://stackoverflow.com/users/157247/t-j-crowder"}, "edited": false, "score": 1, "creation_date": 1508343999, "post_id": 46814853, "comment_id": 80577163, "body": "@apk: No, the only call isn&#39;t in <code>walkTree</code>: You&#39;re passing <code>visitInterfacesRecursive</code> into <code>forEachChild</code>. Clearly, <code>forEachChild</code> is using the return value from <code>visitInterfacesRecursive</code>."}], "tags": [], "owner": {"reputation": 871364, "user_id": 157247, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/4HovX.jpg?s=128&g=1", "display_name": "T.J. Crowder", "link": "https://stackoverflow.com/users/157247/t-j-crowder"}, "is_accepted": false, "score": 2, "last_activity_date": 1508343904, "last_edit_date": 1508343904, "creation_date": 1508343776, "answer_id": 46814853, "question_id": 46814713, "link": "https://stackoverflow.com/questions/46814713/typescript-break-vs-return-behavior-in-recursive-function/46814853#46814853", "title": "Typescript break vs return behavior in recursive function", "body": "<p>The only difference that change makes is to make <code>visitInterfacesRecursive</code> return the result of calling <code>visitor(node)</code> (in <code>walkTree2</code>), whereas in <code>walkTree1</code> <code>visitInterfacesRecursive</code> reliably returns <code>undefined</code>.*</p>\n\n<p>Whatever is calling <code>visitInterfacesRecursive</code> is clearly looking at its return value. In <code>walkTree1</code>, that return value is reliably <code>undefined</code>. In <code>walkTree2</code>, it's sometimes <code>undefined</code>, and other times whatever <code>visitor(node)</code> returns. It would appear that <code>visitor(node)</code> returns something other than <code>undefined</code> (at least sometimes) and that whatever is looking at the return value of <code>visitInterfacesRecursive</code> is interpreting that non-<code>undefined</code> return value to mean \"stop.\"</p>\n\n<hr>\n\n<p>* \"reliably returns <code>undefined</code>\" - Technically, the ECMAScript spec makes a distinction between a function that doesn't use <code>return</code> at all and one that uses <code>return</code> or <code>return undefined</code>, but the distinction it makes is not observable in our code. Calling the function gives the same result in all three cases.</p>\n"}, {"comments": [{"owner": {"reputation": 1246, "user_id": 5104533, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cU2Yx.jpg?s=128&g=1", "display_name": "apk", "link": "https://stackoverflow.com/users/5104533/apk"}, "edited": false, "score": 0, "creation_date": 1508345061, "post_id": 46814912, "comment_id": 80577753, "body": "Thanks, I simply did not expect this behavior from a function called <code>forEach*</code> (rather than, say, <code>forSome*</code>)."}], "tags": [], "owner": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "is_accepted": true, "score": 2, "last_activity_date": 1508343947, "creation_date": 1508343947, "answer_id": 46814912, "question_id": 46814713, "link": "https://stackoverflow.com/questions/46814713/typescript-break-vs-return-behavior-in-recursive-function/46814912#46814912", "title": "Typescript break vs return behavior in recursive function", "body": "<p>It's because <code>ts.forEachChild()</code> doesn't actually run over each child in all cases.  From the linked <a href=\"https://github.com/Microsoft/TypeScript/blob/v2.3.4/src/compiler/parser.ts#L49\" rel=\"nofollow noreferrer\">source</a>:</p>\n\n<pre>\n// Invokes a callback for each child of the given node. The 'cbNode' callback is invoked for all child nodes\n// stored in properties. If a 'cbNodes' callback is specified, it is invoked for embedded arrays; otherwise,\n// embedded arrays are flattened and the 'cbNode' callback is invoked for each element. If a callback returns\n// a truthy value, <b>iteration stops and that value is returned</b>. Otherwise, undefined is returned.\n</pre>\n\n<p>So since you are returning <code>visitor(node)</code>, it must sometimes be truthy.  That can presumably happen at runtime even though you have declared <code>visitor()</code> as a <code>void</code>-returning function, I guess?  (You've left out the particular <code>visitor()</code> you used, so I'm not sure)  Since you don't care about the return value of <code>visitor()</code> it's best not to return it from <code>visitInterfacesRecursive()</code>.</p>\n\n<p>Hope that helps; good luck!</p>\n"}], "owner": {"reputation": 1246, "user_id": 5104533, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cU2Yx.jpg?s=128&g=1", "display_name": "apk", "link": "https://stackoverflow.com/users/5104533/apk"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 774, "favorite_count": 0, "accepted_answer_id": 46814912, "answer_count": 2, "score": 1, "last_activity_date": 1508343947, "creation_date": 1508343285, "question_id": 46814713, "link": "https://stackoverflow.com/questions/46814713/typescript-break-vs-return-behavior-in-recursive-function", "title": "Typescript break vs return behavior in recursive function", "body": "<p>Below are two Typescript functions used to <a href=\"https://github.com/Microsoft/TypeScript/wiki/Using-the-Compiler-API#using-the-type-checker\" rel=\"nofollow noreferrer\">recursively walk a source file's abstract syntax tree (AST)</a>. I have managed to identify the problem that caused my program to only visit part of the tree, but I do not understand <em>why</em> the solution works.</p>\n\n<p>The <code>walkTree1</code> function is the valid solution that walks the entire tree. The <code>walkTree2</code> function only visits part of the tree. The two functions differ only by one line (marked with comment), and obviously the <code>return</code> behavior ties into this somehow, but I didn't find anything useful online.</p>\n\n<pre><code>function walkTree1(firstNode: ts.SourceFile, visitor: (node: ts.Node) =&gt; void): void {\n  visitInterfacesRecursive(firstNode);\n\n  function visitInterfacesRecursive(node: ts.Node): void {\n    switch (node.kind) {\n      case ts.SyntaxKind.InterfaceDeclaration:\n        visitor(node); break; // correct\n      default:\n        ts.forEachChild(node, visitInterfacesRecursive);\n    }\n  }\n}\n\nfunction walkTree2(firstNode: ts.SourceFile, visitor: (node: ts.Node) =&gt; void): void {\n  visitInterfacesRecursive(firstNode);\n\n  function visitInterfacesRecursive(node: ts.Node): void {\n    switch (node.kind) {\n      case ts.SyntaxKind.InterfaceDeclaration:\n        return visitor(node); // offending change\n      default:\n        ts.forEachChild(node, visitInterfacesRecursive);\n    }\n  }\n}\n</code></pre>\n\n<p>At long last, I am stumped. I feel like I'm missing something obvious here. I have inspected the generated source and there doesn't seem to be any surprises there (no real difference except type erasure). For now I'm posting the original code; if necessary I'll put together something more reproducible when I get home later.</p>\n\n<p>Additional details:</p>\n\n<ul>\n<li><code>node -v</code> : v8.5.0</li>\n<li><code>tsc -v</code> : Version 2.3.4</li>\n<li><a href=\"https://github.com/Microsoft/TypeScript/blob/v2.3.4/src/compiler/parser.ts#L53\" rel=\"nofollow noreferrer\"><code>ts.forEachChild</code> source</a></li>\n</ul>\n"}, {"tags": ["angular", "typescript", "printing", "angular2-template"], "comments": [{"owner": {"reputation": 1289, "user_id": 5053124, "user_type": "registered", "accept_rate": 60, "profile_image": "https://lh6.googleusercontent.com/-FFtP7NX3Uf0/AAAAAAAAAAI/AAAAAAAAABY/5-T_w94uciA/photo.jpg?sz=128", "display_name": "Nicholas Robinson", "link": "https://stackoverflow.com/users/5053124/nicholas-robinson"}, "edited": false, "score": 1, "creation_date": 1508346695, "post_id": 46814608, "comment_id": 80578596, "body": "You can achieve this using an <code>iframe</code> have a look at this post <a href=\"https://stackoverflow.com/questions/9616426/javascript-print-iframe-contents-only\" title=\"javascript print iframe contents only\">stackoverflow.com/questions/9616426/&hellip;</a> -- The accepted answer might be what you are looking for"}, {"owner": {"reputation": 59, "user_id": 4697281, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/ed86637438fee76ebbc67d404b8ede50?s=128&d=identicon&r=PG&f=1", "display_name": "Yckeb", "link": "https://stackoverflow.com/users/4697281/yckeb"}, "reply_to_user": {"reputation": 1289, "user_id": 5053124, "user_type": "registered", "accept_rate": 60, "profile_image": "https://lh6.googleusercontent.com/-FFtP7NX3Uf0/AAAAAAAAAAI/AAAAAAAAABY/5-T_w94uciA/photo.jpg?sz=128", "display_name": "Nicholas Robinson", "link": "https://stackoverflow.com/users/5053124/nicholas-robinson"}, "edited": false, "score": 0, "creation_date": 1509635731, "post_id": 46814608, "comment_id": 81106102, "body": "I tried it and it works. Thank you for your answer."}, {"owner": {"reputation": 1289, "user_id": 5053124, "user_type": "registered", "accept_rate": 60, "profile_image": "https://lh6.googleusercontent.com/-FFtP7NX3Uf0/AAAAAAAAAAI/AAAAAAAAABY/5-T_w94uciA/photo.jpg?sz=128", "display_name": "Nicholas Robinson", "link": "https://stackoverflow.com/users/5053124/nicholas-robinson"}, "edited": false, "score": 0, "creation_date": 1509731026, "post_id": 46814608, "comment_id": 81153257, "body": "NP.. Happy to help"}], "answers": [{"tags": [], "owner": {"reputation": 46, "user_id": 6621816, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/oTvXq.jpg?s=128&g=1", "display_name": "Dresoy Ravelo", "link": "https://stackoverflow.com/users/6621816/dresoy-ravelo"}, "is_accepted": true, "score": 1, "last_activity_date": 1508350716, "creation_date": 1508350716, "answer_id": 46816741, "question_id": 46814608, "link": "https://stackoverflow.com/questions/46814608/print-data-in-angular2/46816741#46816741", "title": "Print data in Angular2", "body": "<p>You could use a IFrame, remember not to use window.open in this case...</p>\n"}], "owner": {"reputation": 59, "user_id": 4697281, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/ed86637438fee76ebbc67d404b8ede50?s=128&d=identicon&r=PG&f=1", "display_name": "Yckeb", "link": "https://stackoverflow.com/users/4697281/yckeb"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 857, "favorite_count": 0, "accepted_answer_id": 46816741, "answer_count": 1, "score": 0, "last_activity_date": 1508350716, "creation_date": 1508342932, "question_id": 46814608, "link": "https://stackoverflow.com/questions/46814608/print-data-in-angular2", "title": "Print data in Angular2", "body": "<p>I want to print some data that I have in a variable. The code I have is:</p>\n\n<pre><code>    public printData(data) {\n      let printContents, popupWin;\n      printContents = data;\n      popupWin = window.open('', '_blank','resizable=yes,top=0,left=0,height=100%,width=auto');\n      popupWin.document.write(`\n        &lt;html&gt;\n          &lt;head&gt;\n            &lt;title&gt;Print&lt;/title&gt;\n          &lt;/head&gt;\n          &lt;body onload=\"window.print();window.close()\"&gt;${printContents}&lt;/body&gt;\n          &lt;/html&gt;`\n      );\n    popupWin.document.close();\n}\n</code></pre>\n\n<p>It works fine but i get something like this:</p>\n\n<p><a href=\"https://i.stack.imgur.com/d0UAk.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/d0UAk.png\" alt=\"enter image description here\"></a></p>\n\n<p>and i don't want the want the window behind the printer options. I want to show the user only:</p>\n\n<p><a href=\"https://i.stack.imgur.com/yiGOl.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/yiGOl.png\" alt=\"enter image description here\"></a></p>\n\n<p>Is there any way to do this?</p>\n\n<p>Thank you in advance.</p>\n"}, {"tags": ["angular", "typescript", "jestjs"], "comments": [{"owner": {"reputation": 6857, "user_id": 755666, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/ea86c464319f512785c5b6e4e64c7f8e?s=128&d=identicon&r=PG", "display_name": "Steven Scott", "link": "https://stackoverflow.com/users/755666/steven-scott"}, "edited": false, "score": 0, "creation_date": 1508351579, "post_id": 46814382, "comment_id": 80581103, "body": "Can you show the code and the error to have people be able to see what you are trying?"}, {"owner": {"reputation": 383, "user_id": 2372205, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/d7c08ad86b61919176fdd73c7ab041a8?s=128&d=identicon&r=PG", "display_name": "Guenther", "link": "https://stackoverflow.com/users/2372205/guenther"}, "reply_to_user": {"reputation": 6857, "user_id": 755666, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/ea86c464319f512785c5b6e4e64c7f8e?s=128&d=identicon&r=PG", "display_name": "Steven Scott", "link": "https://stackoverflow.com/users/755666/steven-scott"}, "edited": false, "score": 0, "creation_date": 1508386176, "post_id": 46814382, "comment_id": 80592751, "body": "Thank you for forcing me to construct a sample. By doing so I found the answer (below)."}], "answers": [{"tags": [], "owner": {"reputation": 383, "user_id": 2372205, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/d7c08ad86b61919176fdd73c7ab041a8?s=128&d=identicon&r=PG", "display_name": "Guenther", "link": "https://stackoverflow.com/users/2372205/guenther"}, "is_accepted": false, "score": 0, "last_activity_date": 1508386085, "creation_date": 1508386085, "answer_id": 46822698, "question_id": 46814382, "link": "https://stackoverflow.com/questions/46814382/jest-rejects-every-directive-starting-with-mat-the-new-md-prefix-in-angular/46822698#46822698", "title": "jest rejects every directive starting with mat- (the new md- prefix) in Angular", "body": "<p>All used directives have to be declared in the .spec files. In case of &lt;mat-card&gt;</p>\n\n<ul>\n<li><code>import MatCard from '@angular/material'</code></li>\n<li><code>TestBed.configureTestingModule({\n  declarations: [\n    AppComponent,\n    MatCard,\n  ],</code></li>\n</ul>\n"}], "owner": {"reputation": 383, "user_id": 2372205, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/d7c08ad86b61919176fdd73c7ab041a8?s=128&d=identicon&r=PG", "display_name": "Guenther", "link": "https://stackoverflow.com/users/2372205/guenther"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 79, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1508386085, "creation_date": 1508342156, "last_edit_date": 1508385570, "question_id": 46814382, "link": "https://stackoverflow.com/questions/46814382/jest-rejects-every-directive-starting-with-mat-the-new-md-prefix-in-angular", "title": "jest rejects every directive starting with mat- (the new md- prefix) in Angular", "body": "<p>Though I have all the MaterialModules imported and the components compile without error Jest cannot compile: \"If &lt;mat- ... &gt; is an Angular Component, make sure it is imported ...\"</p>\n\n<p>Anybody similar problems? Any workarounds?</p>\n"}, {"tags": ["angular", "typescript", "kendo-ui-angular2"], "answers": [{"tags": [], "owner": {"reputation": 1675, "user_id": 1147536, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/c382bc6221ad8b8b50a95d152a6721f1?s=128&d=identicon&r=PG", "display_name": "Tudor Ciotlos", "link": "https://stackoverflow.com/users/1147536/tudor-ciotlos"}, "is_accepted": true, "score": 1, "last_activity_date": 1508352664, "creation_date": 1508352664, "answer_id": 46817210, "question_id": 46814259, "link": "https://stackoverflow.com/questions/46814259/kendo-ui-angular-kendo-numerictextbox-display-a-year-as-a-number-without-tho/46817210#46817210", "title": "Kendo UI Angular - kendo-numerictextbox - display a year as a number without thousand separator", "body": "<p>You just have to adjust the format input of the NumericTextBoxComponent, like this:</p>\n\n<pre><code>&lt;kendo-numerictextbox \n        [(value)]=\"myModel.year\"\n        [autoCorrect]=\"autoCorrect\"\n        [format]=\"'#'\"\n        [min]=\"2017\"\n        [step]=1&gt;\n&lt;/kendo-numerictextbox&gt;\n</code></pre>\n\n<p>Example Plunkr: <a href=\"http://plnkr.co/edit/EeGPbvlxBLFQ406Qs2VP?p=preview\" rel=\"nofollow noreferrer\">http://plnkr.co/edit/EeGPbvlxBLFQ406Qs2VP?p=preview</a></p>\n"}], "owner": {"reputation": 2745, "user_id": 1826096, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/d66526c937c1e981eb85b8be6d81c063?s=128&d=identicon&r=PG", "display_name": "Fran&#231;ois", "link": "https://stackoverflow.com/users/1826096/fran%c3%a7ois"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 348, "favorite_count": 0, "accepted_answer_id": 46817210, "answer_count": 1, "score": 1, "last_activity_date": 1508352664, "creation_date": 1508341652, "question_id": 46814259, "link": "https://stackoverflow.com/questions/46814259/kendo-ui-angular-kendo-numerictextbox-display-a-year-as-a-number-without-tho", "title": "Kendo UI Angular - kendo-numerictextbox - display a year as a number without thousand separator", "body": "<p>I'm trying to use a <code>kendo-numerictextbox</code> to input a year however I cannot find the format that doesn't display a thousand separator. With a US culture, \"2017\" appears as \"2,017\".</p>\n\n<pre><code>&lt;kendo-numerictextbox \n        [(value)]=\"myModel.year\"\n        [autoCorrect]=\"autoCorrect\"\n        [format]=\"'n0'\"\n        [min]=\"2017\"\n        [step]=1&gt;\n    &lt;/kendo-numerictextbox&gt;\n</code></pre>\n"}, {"tags": ["angular", "typescript", "angular-material", "angular-forms"], "comments": [{"owner": {"reputation": 3179, "user_id": 6656422, "user_type": "registered", "accept_rate": 52, "profile_image": "https://lh6.googleusercontent.com/-ruwgjJVn5rk/AAAAAAAAAAI/AAAAAAAAAio/mSV4_HKnoJ4/photo.jpg?sz=128", "display_name": "William Lohan", "link": "https://stackoverflow.com/users/6656422/william-lohan"}, "edited": false, "score": 0, "creation_date": 1508342397, "post_id": 46814196, "comment_id": 80576211, "body": "So you&#39;d have a server with an endpoint to add an autocomplete value and one to get all of them, then in the component ngOnInt you get the autocomplete values and in the onSubmit you&#39;d add code to post the input&#39;s value? Is the null id the problem?"}, {"owner": {"reputation": 601, "user_id": 3288525, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vy0ID.jpg?s=128&g=1", "display_name": "fastAsTortoise", "link": "https://stackoverflow.com/users/3288525/fastastortoise"}, "reply_to_user": {"reputation": 3179, "user_id": 6656422, "user_type": "registered", "accept_rate": 52, "profile_image": "https://lh6.googleusercontent.com/-ruwgjJVn5rk/AAAAAAAAAAI/AAAAAAAAAio/mSV4_HKnoJ4/photo.jpg?sz=128", "display_name": "William Lohan", "link": "https://stackoverflow.com/users/6656422/william-lohan"}, "edited": false, "score": 0, "creation_date": 1508343810, "post_id": 46814196, "comment_id": 80577053, "body": "yea you are right that i can alter the value before posting to server but the thing is i was looking to alter the fb.group({ name: &#39;someName&#39;, add: &#39;some address&#39;, autoCompleteSomething: &#39;&#39;  &lt;-- this value}). autoCompleteSomething can be string if user does not select from the existing values or object if user does. Or am i thinking wrong should prefer something else ?"}, {"owner": {"reputation": 3179, "user_id": 6656422, "user_type": "registered", "accept_rate": 52, "profile_image": "https://lh6.googleusercontent.com/-ruwgjJVn5rk/AAAAAAAAAAI/AAAAAAAAAio/mSV4_HKnoJ4/photo.jpg?sz=128", "display_name": "William Lohan", "link": "https://stackoverflow.com/users/6656422/william-lohan"}, "edited": false, "score": 0, "creation_date": 1508344402, "post_id": 46814196, "comment_id": 80577399, "body": "It should be a string in all cases."}], "answers": [{"tags": [], "owner": {"reputation": 303, "user_id": 8801730, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/dkK0P.jpg?s=128&g=1", "display_name": "Morhaf Shamia", "link": "https://stackoverflow.com/users/8801730/morhaf-shamia"}, "is_accepted": false, "score": 0, "last_activity_date": 1548307504, "creation_date": 1548307504, "answer_id": 54339851, "question_id": 46814196, "link": "https://stackoverflow.com/questions/46814196/angular-material-autocomplete-add-new-value-as-object/54339851#54339851", "title": "Angular material autocomplete add new value as object", "body": "<p>You can only add the <code>ID</code> or a unique value that can represents that object then using the <code>ID</code> you can simply know which object been selected.</p>\n"}], "owner": {"reputation": 601, "user_id": 3288525, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vy0ID.jpg?s=128&g=1", "display_name": "fastAsTortoise", "link": "https://stackoverflow.com/users/3288525/fastastortoise"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 442, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1548307504, "creation_date": 1508341450, "last_edit_date": 1508352151, "question_id": 46814196, "link": "https://stackoverflow.com/questions/46814196/angular-material-autocomplete-add-new-value-as-object", "title": "Angular material autocomplete add new value as object", "body": "<p>I am using angular material 2 autocomplete. As we know user can search a value and if that value exists in the list it will have that value stored as object as my array consists of array of objects let's say id and name.</p>\n\n<p><strong>Problem:</strong> Is it possible to alter the new value that does not exit in my list so that whenever i do a post with my FormGroup's with all the other values to back-end it's always an object with id which would be null and name as the value that user has inputted for that form control.</p>\n\n<p>Let me know if you no get i will try to explain more. Thanks in advance.</p>\n"}, {"tags": ["angular", "typescript", "svg"], "comments": [{"owner": {"reputation": 16077, "user_id": 2708210, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/EU2af.jpg?s=128&g=1", "display_name": "Rahul Singh", "link": "https://stackoverflow.com/users/2708210/rahul-singh"}, "edited": false, "score": 0, "creation_date": 1508341536, "post_id": 46814133, "comment_id": 80575584, "body": "can you try this  <code>this.http.get(&#39;assets&#47;images&#47;module.svg&#39;).map(res =&gt; res.text()).subscribe(text =&gt; this.data = text);</code> remove the curly braces"}, {"owner": {"reputation": 2398, "user_id": 6687426, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/3e36925c956ac97359ddcc3d98e56eee?s=128&d=identicon&r=PG&f=1", "display_name": "Adrien", "link": "https://stackoverflow.com/users/6687426/adrien"}, "reply_to_user": {"reputation": 16077, "user_id": 2708210, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/EU2af.jpg?s=128&g=1", "display_name": "Rahul Singh", "link": "https://stackoverflow.com/users/2708210/rahul-singh"}, "edited": false, "score": 0, "creation_date": 1508341849, "post_id": 46814133, "comment_id": 80575831, "body": "It&#39;s the same : <code>undefined</code>"}], "answers": [{"comments": [{"owner": {"reputation": 2398, "user_id": 6687426, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/3e36925c956ac97359ddcc3d98e56eee?s=128&d=identicon&r=PG&f=1", "display_name": "Adrien", "link": "https://stackoverflow.com/users/6687426/adrien"}, "edited": false, "score": 0, "creation_date": 1508398628, "post_id": 46814390, "comment_id": 80597134, "body": "Yes, it works. But how I can do if I want to use the file&#39;s content in the variable <code>this.data</code> after that ?"}, {"owner": {"reputation": 2398, "user_id": 6687426, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/3e36925c956ac97359ddcc3d98e56eee?s=128&d=identicon&r=PG&f=1", "display_name": "Adrien", "link": "https://stackoverflow.com/users/6687426/adrien"}, "edited": false, "score": 0, "creation_date": 1508398976, "post_id": 46814390, "comment_id": 80597351, "body": "Because I need to open 3 files and use the content of the 3 files in the same time. So, how can I do to open the 3 files without waiting the opening of the first one then the second ?"}, {"owner": {"reputation": 16077, "user_id": 2708210, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/EU2af.jpg?s=128&g=1", "display_name": "Rahul Singh", "link": "https://stackoverflow.com/users/2708210/rahul-singh"}, "reply_to_user": {"reputation": 2398, "user_id": 6687426, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/3e36925c956ac97359ddcc3d98e56eee?s=128&d=identicon&r=PG&f=1", "display_name": "Adrien", "link": "https://stackoverflow.com/users/6687426/adrien"}, "edited": false, "score": 1, "creation_date": 1508399179, "post_id": 46814390, "comment_id": 80597479, "body": "Make use of <a href=\"https://rahulrsingh09.github.io/AngularConcepts/ngrx/rxjs\" rel=\"nofollow noreferrer\">obserbable.forkJoin</a>"}], "tags": [], "owner": {"reputation": 16077, "user_id": 2708210, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/EU2af.jpg?s=128&g=1", "display_name": "Rahul Singh", "link": "https://stackoverflow.com/users/2708210/rahul-singh"}, "is_accepted": true, "score": 1, "last_activity_date": 1508342187, "creation_date": 1508342187, "answer_id": 46814390, "question_id": 46814133, "link": "https://stackoverflow.com/questions/46814133/open-load-file-with-angular4/46814390#46814390", "title": "Open / Load file with Angular4", "body": "<p>I guess you are trying some thing like this</p>\n\n<pre><code>this.http.get('assets/images/module.svg').map(res =&gt; res.text()).subscribe(text =&gt; this.data = text);\n\nconsole.log(this.data);\n</code></pre>\n\n<blockquote>\n  <p>The first call is a <code>async</code> call so it takes some time to get the data\n  and assign it to the variable where as the <code>console.log</code> is a <code>sync</code>\n  statement which happens immediately so you get undefined .</p>\n</blockquote>\n\n<p>If you want to use the this.data i would suggest you to do all the process inside the subscribe .</p>\n\n<p>eg</p>\n\n<pre><code>   this.http.get('assets/images/module.svg').map(res =&gt; res.text()).subscribe(text =&gt; { this.data = text; console.log(this.data));\n</code></pre>\n"}], "owner": {"reputation": 2398, "user_id": 6687426, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/3e36925c956ac97359ddcc3d98e56eee?s=128&d=identicon&r=PG&f=1", "display_name": "Adrien", "link": "https://stackoverflow.com/users/6687426/adrien"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 430, "favorite_count": 1, "accepted_answer_id": 46814390, "answer_count": 1, "score": 0, "last_activity_date": 1508342187, "creation_date": 1508341262, "question_id": 46814133, "link": "https://stackoverflow.com/questions/46814133/open-load-file-with-angular4", "title": "Open / Load file with Angular4", "body": "<p>I have an angular 4 application and in this one, I want to open / load a svg file to have the string inside.\nSo I want to open a file like svg or txt and get the string corresponding.</p>\n\n<p>I try to do this :</p>\n\n<pre><code>this.http.get('assets/images/module.svg').map(res =&gt; res.text()).subscribe(text =&gt; {this.data = text});\n</code></pre>\n\n<p>But <code>this.data</code> is always undefined whereas if I do :</p>\n\n<pre><code>this.http.get('assets/images/module.svg').map(res =&gt; res.text()).subscribe(text =&gt; {console.log(text)});\n</code></pre>\n\n<p>I have the string in the console.</p>\n\n<p>Do you know why I can't get the string or if there is an other way to open a file ?</p>\n"}, {"tags": ["angular", "unit-testing", "typescript", "karma-jasmine", "gulp-karma"], "comments": [{"owner": {"reputation": 14254, "user_id": 537647, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/g6d9o.jpg?s=128&g=1", "display_name": "Aniruddha Das", "link": "https://stackoverflow.com/users/537647/aniruddha-das"}, "edited": false, "score": 0, "creation_date": 1508342534, "post_id": 46813971, "comment_id": 80576312, "body": "Are you using angular cli? can you share your karma configuration file. and when you run <code>npm test</code> what is the command execued in your package.json file"}, {"owner": {"reputation": 652, "user_id": 7168173, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/ojnwk.jpg?s=128&g=1", "display_name": "Thodoris", "link": "https://stackoverflow.com/users/7168173/thodoris"}, "reply_to_user": {"reputation": 14254, "user_id": 537647, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/g6d9o.jpg?s=128&g=1", "display_name": "Aniruddha Das", "link": "https://stackoverflow.com/users/537647/aniruddha-das"}, "edited": false, "score": 0, "creation_date": 1508354064, "post_id": 46813971, "comment_id": 80582472, "body": "@AniruddhaDas I am using angular cli for the app that runs the library, not for the library. For the files have a look at my edit."}, {"owner": {"reputation": 14254, "user_id": 537647, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/g6d9o.jpg?s=128&g=1", "display_name": "Aniruddha Das", "link": "https://stackoverflow.com/users/537647/aniruddha-das"}, "edited": false, "score": 0, "creation_date": 1508354366, "post_id": 46813971, "comment_id": 80582631, "body": "See my answer, you are are not using <code>@angular&#47;cli</code> framework, all the <code>ts</code> files are separately compiled. so adding <code>&quot;outDir&quot;: &quot;..&#47;out-tsc&#47;spec&quot;</code> in your tsconfig.josn should compile all the ts files to js file and add it into a single folder, you can also put in a single file. search for that option in google"}], "answers": [{"comments": [{"owner": {"reputation": 652, "user_id": 7168173, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/ojnwk.jpg?s=128&g=1", "display_name": "Thodoris", "link": "https://stackoverflow.com/users/7168173/thodoris"}, "edited": false, "score": 0, "creation_date": 1508354613, "post_id": 46814572, "comment_id": 80582759, "body": "So, the <code>&quot;outDir&quot;: &quot;..&#47;out-tsc&#47;spec&quot;</code> .  in the place of <code>&quot;rootDir&quot;: &quot;.&#47;src&quot;,</code> solved my main problem.  :)  Still, my second question persists ( I suppose if I research <code>webdriver</code> a bit it might be solved ) on why the browser displays nothing else, apart from what I mention on my original question. Any way, a big thanks for your clear answer and well detailed."}, {"owner": {"reputation": 14254, "user_id": 537647, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/g6d9o.jpg?s=128&g=1", "display_name": "Aniruddha Das", "link": "https://stackoverflow.com/users/537647/aniruddha-das"}, "reply_to_user": {"reputation": 652, "user_id": 7168173, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/ojnwk.jpg?s=128&g=1", "display_name": "Thodoris", "link": "https://stackoverflow.com/users/7168173/thodoris"}, "edited": false, "score": 0, "creation_date": 1508354788, "post_id": 46814572, "comment_id": 80582837, "body": "click on the debug button and it will open a new tag with debug. then go to developer mode and find a file and put a break point and refresh page. so when your test case will reach that point it will halt the execution at that point and you can debug. this is basic and it have other facility as well"}], "tags": [], "owner": {"reputation": 14254, "user_id": 537647, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/g6d9o.jpg?s=128&g=1", "display_name": "Aniruddha Das", "link": "https://stackoverflow.com/users/537647/aniruddha-das"}, "is_accepted": true, "score": 1, "last_activity_date": 1508342792, "creation_date": 1508342792, "answer_id": 46814572, "question_id": 46813971, "link": "https://stackoverflow.com/questions/46813971/setting-up-karma-for-an-angular-library/46814572#46814572", "title": "Setting up Karma for an angular library", "body": "<p>You are getting <code>.js</code> file for every .ts file because of your typescript configuration. You can change your configuration in <code>tsconfig.json</code> to tell compiler that write a single file or in a folder and add all script there.</p>\n\n<p><code>\"outDir\": \"../out-tsc/spec\"</code> --> will add all output javascript files in a single folder.</p>\n\n<p>For your second question, When karma runs internally it runs <code>webdriver</code> and connect to the browser. That is the reason you see <code>localhost:9876</code> or similar url open with a debug button at the right.</p>\n\n<p>While the webdriver is running you can also debug any bug situation in the browser and lot more.</p>\n"}], "owner": {"reputation": 652, "user_id": 7168173, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/ojnwk.jpg?s=128&g=1", "display_name": "Thodoris", "link": "https://stackoverflow.com/users/7168173/thodoris"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1759, "favorite_count": 0, "accepted_answer_id": 46814572, "answer_count": 1, "score": 1, "last_activity_date": 1508353997, "creation_date": 1508340775, "last_edit_date": 1508353997, "question_id": 46813971, "link": "https://stackoverflow.com/questions/46813971/setting-up-karma-for-an-angular-library", "title": "Setting up Karma for an angular library", "body": "<p>I am currently building an Angular library, and I wanted to be able to run some tests. After following <a href=\"https://github.com/raphael-volt/ng2-testable-lib\" rel=\"nofollow noreferrer\">these</a> instructions I managed to set up everything properly and actually be able to run my tests.   </p>\n\n<p><strong>Main question</strong></p>\n\n<p>Although everything runs properly something awkward happens. When I run <code>npm test</code> next to every <code>.ts</code> file a <code>.js</code> file is generated. Normally all the <code>d.ts</code> and the one big <code>.js</code> files go inside a <code>dist</code> folder that projects using the library use. So does anyone know from where could these javascript files are generated, and if they are indeed needed, since all this code already exists so to speak in the dist folder.</p>\n\n<p><strong>Bonus question</strong></p>\n\n<p>Not as important as the above, all the test results are displayed in the terminal, whereas the browser displays only: </p>\n\n<p><em>Karma v1.4.1 - connected\nChrome 61.0.3163 (Mac OS X 10.12.6) is idle</em> </p>\n\n<p>So is there a nice fix to display my test as nicely as the <code>angular-cli</code> does out of the box?</p>\n\n<p><strong>Note</strong> that after doing my homework I did not find something relative online, and I don't want to upload a bunch of unpleasant jsons. If anyone has an idea on the direction of the problem I will be happy to include code.</p>\n\n<p>The basic structure of my library was generated by <a href=\"https://github.com/jvandemo/generator-angular2-library\" rel=\"nofollow noreferrer\">this</a></p>\n\n<p><strong>Edit:</strong>\n<code>karma.config.js</code></p>\n\n<pre><code>module.exports = function(config) {\n  config.set({\n     basePath: '',\n    frameworks: ['jasmine', 'karma-typescript'],\n    files: [\n    'init-test-bed.spec.ts',\n    'src/**/*.ts'\n    ],\n    exclude: [\n    ],\n    preprocessors: {\n         '**/*.ts': ['karma-typescript']\n    },\n\n    karmaTypescriptConfig: {\n      bundlerOptions: {\n        entrypoints: /\\.spec\\.ts$/,\n        transforms: [\n        require('karma-typescript-angular2-transform')\n        ]\n    },\n\n    compilerOptions: {\n        lib: ['ES2015', 'DOM']\n    }\n},\n    reporters: ['progress',  'karma-typescript'],\n    port: 9876,\n    colors: true,\n    logLevel: config.LOG_INFO,\n    autoWatch: true,\n    browsers: ['Chrome'],\n    singleRun: false,\n    concurrency: Infinity\n})\n}\n</code></pre>\n\n<p><code>tsconfig.json</code></p>\n\n<pre><code>{\n  \"compilerOptions\": {\n    \"baseUrl\": \"./src\",\n    \"experimentalDecorators\": true,\n    \"moduleResolution\": \"node\",\n    \"rootDir\": \"./src\",\n     \"target\": \"es5\",\n    \"typeRoots\": [\n      \"node_modules/@types\"\n    ],\n    \"lib\": [\n      \"es2015\",\n      \"dom\"\n    ],\n    \"skipLibCheck\": true,\n    \"types\": [\n      \"jasmine\",\n      \"node\"\n    ]\n  }\n}\n</code></pre>\n\n<p>Finally the <code>test</code> runs this script </p>\n\n<pre><code>\"test\": \"tsc &amp;&amp; karma start\"\n</code></pre>\n"}, {"tags": ["angular", "typescript"], "answers": [{"comments": [{"owner": {"reputation": 17, "user_id": 8783755, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f401ce4a775b7ee43ecf103ebb6f2b8d?s=128&d=identicon&r=PG&f=1", "display_name": "Ben Clarke", "link": "https://stackoverflow.com/users/8783755/ben-clarke"}, "edited": false, "score": 0, "creation_date": 1508339307, "post_id": 46813447, "comment_id": 80573977, "body": "Thanks this worked. I was nearly there! Is this approach good if there needs to be information passed between both components?"}], "tags": [], "owner": {"reputation": 57402, "user_id": 5496973, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JH9iD.jpg?s=128&g=1", "display_name": "Suren Srapyan", "link": "https://stackoverflow.com/users/5496973/suren-srapyan"}, "is_accepted": true, "score": 1, "last_activity_date": 1508339316, "last_edit_date": 1508339316, "creation_date": 1508339192, "answer_id": 46813447, "question_id": 46813414, "link": "https://stackoverflow.com/questions/46813414/passing-data-between-components-issue/46813447#46813447", "title": "Passing data between components issue", "body": "<p>Its normal to use this style to pass data from one component into another. One solution also can be to use singleton service and observable into it.</p>\n\n<p>What about <code>undefined</code> - change <code>value</code> into the <code>$event</code></p>\n\n<pre><code>&lt;app-menu-top (messageEvent)=\"receiveMessage($event)\"&gt;&lt;/app-menu-top&gt;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 458, "user_id": 3919495, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/BbhE1.jpg?s=128&g=1", "display_name": "Jaime", "link": "https://stackoverflow.com/users/3919495/jaime"}, "is_accepted": false, "score": 0, "last_activity_date": 1508339649, "creation_date": 1508339649, "answer_id": 46813587, "question_id": 46813414, "link": "https://stackoverflow.com/questions/46813414/passing-data-between-components-issue/46813587#46813587", "title": "Passing data between components issue", "body": "<p>From Angular docs, <a href=\"https://angular.io/guide/component-interaction\" rel=\"nofollow noreferrer\">Recipes for common component communication scenarios</a></p>\n"}], "owner": {"reputation": 17, "user_id": 8783755, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f401ce4a775b7ee43ecf103ebb6f2b8d?s=128&d=identicon&r=PG&f=1", "display_name": "Ben Clarke", "link": "https://stackoverflow.com/users/8783755/ben-clarke"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 253, "favorite_count": 1, "accepted_answer_id": 46813447, "answer_count": 2, "score": 0, "last_activity_date": 1508339649, "creation_date": 1508339107, "last_edit_date": 1508339370, "question_id": 46813414, "link": "https://stackoverflow.com/questions/46813414/passing-data-between-components-issue", "title": "Passing data between components issue", "body": "<p>I am trying to pass information from one component to another and information from that component back again.</p>\n\n<p>I am just wondering what is the best way to do this.</p>\n\n<p>I have tried to use an EventEmitter but seem to be coming across some issues:</p>\n\n<p>There is a Input box that on every key press I want it to call the other component with the current value in the box:</p>\n\n<p>HTML:</p>\n\n<pre><code>&lt;input type=\"text\" #box (keyup)=\"searchValueChanged(box.value)\"  class=\"form-control\" placeholder=\"Search for an Application...\"/&gt;\n</code></pre>\n\n<p>JS:</p>\n\n<pre><code>@Output() messageEvent = new EventEmitter&lt;string&gt;();\n\nsearchValueChanged(value:string) {\n  this.messageEvent.emit(value);\n  console.log(value);\n}\n</code></pre>\n\n<p>Then in the other component I am trying to receive the message:</p>\n\n<p>HTML:</p>\n\n<pre><code>&lt;app-menu-top (messageEvent)=\"receiveMessage(value)\"&gt;&lt;/app-menu-top&gt;\n</code></pre>\n\n<p>JS:</p>\n\n<pre><code>receiveMessage(value) {\n  this.message = value;\n  console.log(this.message);\n}\n</code></pre>\n\n<ol>\n<li>Is this the best way for me to be passing data?</li>\n<li>How come 'value' seem to be undefined (empty)?</li>\n</ol>\n"}, {"tags": ["html", "angular", "typescript", "promise", "angular-pipe"], "answers": [{"comments": [{"owner": {"reputation": 385, "user_id": 2823537, "user_type": "registered", "accept_rate": 42, "profile_image": "https://www.gravatar.com/avatar/e813247fba806d4e9c3e93075e8dcb8f?s=128&d=identicon&r=PG&f=1", "display_name": "NiAu", "link": "https://stackoverflow.com/users/2823537/niau"}, "edited": false, "score": 0, "creation_date": 1508395508, "post_id": 46813763, "comment_id": 80595476, "body": "thx for the great answer. I&#39;ve got it now working with the first option and implemented ChangeDetectionStrategy with detectChanges(). For future usage I will definitly look at the RxJS library, but for now I got it running."}], "tags": [], "owner": {"reputation": 3857, "user_id": 6395388, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/1211707342181814/picture?type=large", "display_name": "Derek Brown", "link": "https://stackoverflow.com/users/6395388/derek-brown"}, "is_accepted": true, "score": 1, "last_activity_date": 1508340181, "creation_date": 1508340181, "answer_id": 46813763, "question_id": 46813082, "link": "https://stackoverflow.com/questions/46813082/trigger-angular-2-pipe-after-page-refresh-with-data-from-promise/46813763#46813763", "title": "Trigger Angular 2 pipe after page refresh with data from promise", "body": "<p>Yes! There are several ways of doing this- depending on your usecase.</p>\n\n<ol>\n<li><p>After setting the new value of <code>_.projects</code>, you can make a manual call to Angular to trigger change detection, as outlined <a href=\"https://stackoverflow.com/questions/34827334/triggering-angular2-change-detection-manually\">in this previous answer</a>.  While this is certainly the easiest to implement, it requires a lot more computation on your browser's part, and will likely lead to a slower app. </p></li>\n<li><p>You can refactor your code so that <code>_.projects</code> is itself a promise and then use the Angular <a href=\"https://angular.io/api/common/AsyncPipe\" rel=\"nofollow noreferrer\">async pipe</a> to handle updates. This is also relatively easy, and has the benefit of being less resource intensive on Angular's end:</p></li>\n</ol>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>this._projects = this._projectService.getProjectsPromise().then(\r\n  function(jsdo, success, request) {\r\n    var projects = request.response[HorizonData.dsProjects][HorizonData.dsProjects][HorizonData.ttProjects];\r\n    for (let project of projects) {\r\n      project.WhenWhoCreatedFull = project.WhenWhoCreated\r\n      var whenwho = project.WhenWhoCreated.split(\" \");\r\n      project.WhenWhoCreated = whenwho[0] + \" \" + whenwho[2];\r\n    }\r\n    \r\n    return projects;\r\n  }\r\n)</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;tr title=\"{{ project.INFO }}\" *ngFor=\"let project of (_projects | async) | projectFilter: filtered\"&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<ol start=\"3\">\n<li>Promises, on the whole, are not the best for handling reactive data, as after they have resolved, no more data can be updated.  While this would require significantly more refactoring than just this chunk of code, I would look into <a href=\"https://www.learnrxjs.io/\" rel=\"nofollow noreferrer\">RxJS</a>- it is a library for creating Observables, which are reactive data flows.  This is a lot better for your code as a whole, so if you have the option to refactor to make use of RxJS, I would.</li>\n</ol>\n"}], "owner": {"reputation": 385, "user_id": 2823537, "user_type": "registered", "accept_rate": 42, "profile_image": "https://www.gravatar.com/avatar/e813247fba806d4e9c3e93075e8dcb8f?s=128&d=identicon&r=PG&f=1", "display_name": "NiAu", "link": "https://stackoverflow.com/users/2823537/niau"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 485, "favorite_count": 2, "accepted_answer_id": 46813763, "answer_count": 1, "score": 1, "last_activity_date": 1508344300, "creation_date": 1508338190, "last_edit_date": 1508344300, "question_id": 46813082, "link": "https://stackoverflow.com/questions/46813082/trigger-angular-2-pipe-after-page-refresh-with-data-from-promise", "title": "Trigger Angular 2 pipe after page refresh with data from promise", "body": "<p>In my application I have a table which is filled by an array and where I use a filter on it. In a OnInit, a promise is called to get the data. Now the problem is that after a refresh, the value of _projects (and the input parameter of transform) is undefined and nothing is shown in the table. When I click a dropdown the transform function is triggered and the table is filled. Is there a way to trigger the pipe when _projects is defined in the promise? I also tried with pure/impure pipes.</p>\n\n<pre><code>this._projectService.getProjectsPromise().done(\n    function (jsdo, success, request){\n        that._projects = request.response[HorizonData.dsProjects][HorizonData.dsProjects][HorizonData.ttProjects];\n        for (let project of that._projects) {\n            project.WhenWhoCreatedFull = project.WhenWhoCreated\n            var whenwho = project.WhenWhoCreated.split(\" \");\n            project.WhenWhoCreated = whenwho[0] + \" \" + whenwho[2];\n        }\n    }                \n)\n</code></pre>\n\n<p>In my component.html</p>\n\n<pre><code>&lt;tr title=\"{{ project.INFO }}\" *ngFor=\"let project of _projects | projectFilter: filtered\"&gt;\n</code></pre>\n\n<p>Angular Pipe:</p>\n\n<pre><code>transform(value: IProject[], filterBy: IProject): IProject[] {\n    return filterBy &amp;&amp; value ? value.filter((project: IProject) =&gt;\n        (project.projectnr.toLowerCase().indexOf(filterBy.projectnr.toLowerCase()) !== -1)\n        &amp;&amp; (project.projectname.toLowerCase().indexOf(filterBy.projectname.toLowerCase()) !== -1)\n        &amp;&amp; (project.clientnr.toLowerCase().indexOf(filterBy.clientnr.toLowerCase()) !== -1)\n        &amp;&amp; (project.clientname.toLowerCase().indexOf(filterBy.clientname.toLowerCase()) !== -1)\n        &amp;&amp; (filterBy.statusdesc.indexOf(project.statusdesc) !== -1)) : value;\n}\n</code></pre>\n"}, {"tags": ["html", "angular", "typescript", "ionic3"], "comments": [{"owner": {"reputation": 3857, "user_id": 6395388, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/1211707342181814/picture?type=large", "display_name": "Derek Brown", "link": "https://stackoverflow.com/users/6395388/derek-brown"}, "edited": false, "score": 0, "creation_date": 1508340391, "post_id": 46813075, "comment_id": 80574743, "body": "Can you provide us more of your code so that we can debug? <a href=\"https://stackoverflow.com/help/mcve\">stackoverflow.com/help/mcve</a>"}, {"owner": {"reputation": 23, "user_id": 8796285, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6c3fc713a37bb6d9a67da3ded46e9876?s=128&d=identicon&r=PG&f=1", "display_name": "thomas wilbrink", "link": "https://stackoverflow.com/users/8796285/thomas-wilbrink"}, "reply_to_user": {"reputation": 3857, "user_id": 6395388, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/1211707342181814/picture?type=large", "display_name": "Derek Brown", "link": "https://stackoverflow.com/users/6395388/derek-brown"}, "edited": false, "score": 0, "creation_date": 1508396814, "post_id": 46813075, "comment_id": 80596093, "body": "Sonicd300 already answered it"}], "answers": [{"tags": [], "owner": {"reputation": 50111, "user_id": 1077309, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/yghA4.jpg?s=128&g=1", "display_name": "Sampath", "link": "https://stackoverflow.com/users/1077309/sampath"}, "is_accepted": false, "score": 0, "last_activity_date": 1508344348, "creation_date": 1508344348, "answer_id": 46815034, "question_id": 46813075, "link": "https://stackoverflow.com/questions/46813075/ionic-3-html-button-linked-to-a-funtion-in-ts-but-says-its-undefined/46815034#46815034", "title": "ionic 3 html button linked to a funtion in .ts but says its undefined", "body": "<p>This is an issue of the Ionic live reloader (debug server). So you have 2 options here.</p>\n\n<p><em>Option 1:</em> Change something on <code>.ts</code> file and allow to server reload again</p>\n\n<p><em>Option 2:</em> Kill the server and restart it again using <code>ionic serve</code> </p>\n"}, {"tags": [], "owner": {"reputation": 1746, "user_id": 1303897, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e6663eec8c18cab0016a5032268bcdab?s=128&d=identicon&r=PG", "display_name": "Sonicd300", "link": "https://stackoverflow.com/users/1303897/sonicd300"}, "is_accepted": true, "score": 2, "last_activity_date": 1508346178, "creation_date": 1508346178, "answer_id": 46815544, "question_id": 46813075, "link": "https://stackoverflow.com/questions/46813075/ionic-3-html-button-linked-to-a-funtion-in-ts-but-says-its-undefined/46815544#46815544", "title": "ionic 3 html button linked to a funtion in .ts but says its undefined", "body": "<p>Your error is in the button's html, you bind it like <code>(click)=\"save()\"</code> not <code>onclick=\"save()\"</code></p>\n"}], "owner": {"reputation": 23, "user_id": 8796285, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6c3fc713a37bb6d9a67da3ded46e9876?s=128&d=identicon&r=PG&f=1", "display_name": "thomas wilbrink", "link": "https://stackoverflow.com/users/8796285/thomas-wilbrink"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 80, "favorite_count": 0, "accepted_answer_id": 46815544, "answer_count": 2, "score": 2, "last_activity_date": 1508346429, "creation_date": 1508338173, "last_edit_date": 1508346429, "question_id": 46813075, "link": "https://stackoverflow.com/questions/46813075/ionic-3-html-button-linked-to-a-funtion-in-ts-but-says-its-undefined", "title": "ionic 3 html button linked to a funtion in .ts but says its undefined", "body": "<p>I have this line of code which I have at the end of a sign-up type form:</p>\n\n<pre><code>&lt;button ion-button full color=\"secondary\" onclick=\"save()\"&gt;&lt;/button&gt;`\n</code></pre>\n\n<p>However when I click on it I get an error saying save is undefined but I have this in my .ts file </p>\n\n<pre><code>save() {\n  this.submitAttempt= true;\n  console.log(\"success!\");\n  console.log(this.slideOneForm.value);\n  console.log(this.slideTwoForm.value);\n  console.log(this.slideThreeForm.value);\n}\n</code></pre>\n\n<p>Is my mistake in the definition or in the button itself and how can I fix this?</p>\n"}, {"tags": ["javascript", "typescript"], "answers": [{"tags": [], "owner": {"reputation": 3372, "user_id": 7640744, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/410dc8abdd00bf9134039ed644cdbddf?s=128&d=identicon&r=PG", "display_name": "Gorka Hernandez", "link": "https://stackoverflow.com/users/7640744/gorka-hernandez"}, "is_accepted": false, "score": 0, "last_activity_date": 1508337040, "creation_date": 1508337040, "answer_id": 46812632, "question_id": 46812592, "link": "https://stackoverflow.com/questions/46812592/type-error-and-short-circuit-evaluation/46812632#46812632", "title": "type error and short-circuit evaluation?", "body": "<p>You are checking <code>this.selectedItem.image.url</code>, but for that to be possible, you need to make sure that <code>this.selectedItem</code> and <code>this.selectedItem.image</code> exist first.</p>\n\n<p>You could try the following:</p>\n\n<pre><code>image = this.selectedItem &amp;&amp; this.selectedItem.image ? this.selectedItem.image.url || null : null;\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 26154, "user_id": 5436257, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/iGuaK.jpg?s=128&g=1", "display_name": "Joe Clay", "link": "https://stackoverflow.com/users/5436257/joe-clay"}, "edited": false, "score": 1, "creation_date": 1508337107, "post_id": 46812641, "comment_id": 80572404, "body": "That doesn&#39;t look valid to me - you need an <code>:</code> branch on your ternary."}, {"owner": {"reputation": 2238, "user_id": 3527537, "user_type": "registered", "profile_image": "https://graph.facebook.com/100008196182969/picture?type=large", "display_name": "MysterX", "link": "https://stackoverflow.com/users/3527537/mysterx"}, "reply_to_user": {"reputation": 26154, "user_id": 5436257, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/iGuaK.jpg?s=128&g=1", "display_name": "Joe Clay", "link": "https://stackoverflow.com/users/5436257/joe-clay"}, "edited": false, "score": 0, "creation_date": 1508337157, "post_id": 46812641, "comment_id": 80572434, "body": "Sorry, it was just  typo"}], "tags": [], "owner": {"reputation": 2238, "user_id": 3527537, "user_type": "registered", "profile_image": "https://graph.facebook.com/100008196182969/picture?type=large", "display_name": "MysterX", "link": "https://stackoverflow.com/users/3527537/mysterx"}, "is_accepted": false, "score": 0, "last_activity_date": 1508337135, "last_edit_date": 1508337135, "creation_date": 1508337066, "answer_id": 46812641, "question_id": 46812592, "link": "https://stackoverflow.com/questions/46812592/type-error-and-short-circuit-evaluation/46812641#46812641", "title": "type error and short-circuit evaluation?", "body": "<p>You need to check also if the field <code>image</code> exists I think. Try to use ternary operator instead:</p>\n\n<pre><code>image = this.selectedItem.image ? this.selectedItem.image.url : null;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 59971, "user_id": 1835379, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/i63aC.gif?s=128&g=1", "display_name": "Cerbrus", "link": "https://stackoverflow.com/users/1835379/cerbrus"}, "is_accepted": true, "score": 3, "last_activity_date": 1508337565, "last_edit_date": 1508337565, "creation_date": 1508337242, "answer_id": 46812703, "question_id": 46812592, "link": "https://stackoverflow.com/questions/46812592/type-error-and-short-circuit-evaluation/46812703#46812703", "title": "type error and short-circuit evaluation?", "body": "<p>The shortest option you have is:</p>\n\n<pre><code>image = this.selectedItem &amp;&amp; this.selectedItem.image &amp;&amp; this.selectedItem.image.url || null;\n</code></pre>\n\n<p>If any of the <code>&amp;&amp;</code> fails, you'll get <code>null</code> instead, but you have to check every \"level\" of the object you're trying to access.</p>\n\n<p>This works because the <code>&amp;&amp;</code> takes priority over <code>||</code> for order of operation. The above statement is similar to:</p>\n\n<pre><code>x = (((a.b) &amp;&amp; (a.b.c)) &amp;&amp; (a.b.c.url)) || null;\n</code></pre>\n\n<p>What you had, on the other hand, was similar to:</p>\n\n<pre><code>x = (a.b.c.url) || null;\n</code></pre>\n\n<p>You can't get <code>url</code> if <code>a.b</code> does not have a property <code>c</code>. That's what the error was thrown on, and that's not something the \"or\" at the end can catch.</p>\n"}, {"tags": [], "owner": {"reputation": 108, "user_id": 8092970, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-rIWr5C3aqYc/AAAAAAAAAAI/AAAAAAAAABY/7tP4_Jdp6OI/photo.jpg?sz=128", "display_name": "Irvin Lee Eduliantes", "link": "https://stackoverflow.com/users/8092970/irvin-lee-eduliantes"}, "is_accepted": false, "score": 0, "last_activity_date": 1508337748, "last_edit_date": 1508337748, "creation_date": 1508337374, "answer_id": 46812743, "question_id": 46812592, "link": "https://stackoverflow.com/questions/46812592/type-error-and-short-circuit-evaluation/46812743#46812743", "title": "type error and short-circuit evaluation?", "body": "<p>Because the error occurred when <code>this.selectedItem.image.url</code> itself was evaluated.  You can fix it this way:</p>\n\n<pre><code>this.selectedItem.image = this.selectedItem.image || {}\nimage = this.selectedItem.image.url || null;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "is_accepted": false, "score": 1, "last_activity_date": 1508337820, "creation_date": 1508337820, "answer_id": 46812939, "question_id": 46812592, "link": "https://stackoverflow.com/questions/46812592/type-error-and-short-circuit-evaluation/46812939#46812939", "title": "type error and short-circuit evaluation?", "body": "<p>I think you're confused about what <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Logical_Operators#Short-circuit_evaluation\" rel=\"nofollow noreferrer\">\"short-circuit\"</a> means.  Boolean operators are evaluated from left to right (<code>&amp;&amp;</code> before <code>||</code> but left-to-right otherwise) until the result is either definitely falsy or truthy, and then it stops without evaluating anything else.  In your case, the error occurs while <code>this.selectedItem.image.url</code> is being evaluated, and the <code>||</code> operator is never reached. </p>\n\n<p>JavaScript lacks a <a href=\"https://en.wikipedia.org/wiki/Null_coalescing_operator\" rel=\"nofollow noreferrer\">null/undefined-coalescing</a> operator such as the <a href=\"https://en.wikipedia.org/wiki/Elvis_operator\" rel=\"nofollow noreferrer\">Elvis operator</a> \"<code>?.</code>\", which would let you do something like <code>this.selectedItem?.image?.url</code> to prevent dereferencing <code>undefined</code> values.</p>\n\n<p>Instead, you need to check each possible nested property for existence, if it is possible for them to be undefined:</p>\n\n<pre><code>image = (this.selectedItem &amp;&amp; this.selectedItem.image &amp;&amp; this.selectedItem.image.url) || null;\n</code></pre>\n\n<p>(I'm sure other answers have mentioned something like this... ah, yes, @Cerbrus has it)  <em>This</em> is now short-circuiting in a way that helps you.  As soon as one of those items is falsy, the whole parenthesized term evaluates as falsy without throwing an error.  Then you get falsy-<code>|| null</code> which becomes <code>null</code>, as you want.</p>\n\n<p>Hope that helps; good luck!</p>\n"}], "owner": {"reputation": 470, "user_id": 4921018, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/3f22efda54d446f1f39376adc7661e25?s=128&d=identicon&r=PG&f=1", "display_name": "mls3590712", "link": "https://stackoverflow.com/users/4921018/mls3590712"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 596, "favorite_count": 0, "accepted_answer_id": 46812703, "answer_count": 5, "score": 0, "last_activity_date": 1508337820, "creation_date": 1508336907, "question_id": 46812592, "link": "https://stackoverflow.com/questions/46812592/type-error-and-short-circuit-evaluation", "title": "type error and short-circuit evaluation?", "body": "<p>TS Code</p>\n\n<pre><code>image = this.selectedItem.image.url || null;\n</code></pre>\n\n<p>The Error</p>\n\n<pre><code>TypeError: Cannot read property 'url' of null\n</code></pre>\n\n<p>My question is, why isn't the || null kicking in instead of it throwing a type error? </p>\n"}, {"tags": ["javascript", "typescript", "setinterval"], "comments": [{"owner": {"reputation": 577, "user_id": 1204404, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/9f9c562ba8a7eb881acf3c9c829bacfa?s=128&d=identicon&r=PG", "display_name": "gropapa", "link": "https://stackoverflow.com/users/1204404/gropapa"}, "edited": false, "score": 0, "creation_date": 1508336759, "post_id": 46812507, "comment_id": 80572138, "body": "isn&#39;t it because of the this keyword? no need to specify it i guess"}, {"owner": {"reputation": 184244, "user_id": 14104, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/otetW.jpg?s=128&g=1", "display_name": "epascarello", "link": "https://stackoverflow.com/users/14104/epascarello"}, "edited": false, "score": 0, "creation_date": 1508336782, "post_id": 46812507, "comment_id": 80572158, "body": "Well you are executing the function, not assigning it and why would you use await?"}], "answers": [{"tags": [], "owner": {"reputation": 108, "user_id": 8092970, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-rIWr5C3aqYc/AAAAAAAAAAI/AAAAAAAAABY/7tP4_Jdp6OI/photo.jpg?sz=128", "display_name": "Irvin Lee Eduliantes", "link": "https://stackoverflow.com/users/8092970/irvin-lee-eduliantes"}, "is_accepted": false, "score": 5, "last_activity_date": 1523381784, "last_edit_date": 1523381784, "creation_date": 1508336935, "answer_id": 46812597, "question_id": 46812507, "link": "https://stackoverflow.com/questions/46812507/unable-to-call-asynchronous-function-inside-setinterval-function/46812597#46812597", "title": "unable to call asynchronous function inside setInterval function", "body": "<p>setInterval expects the first param to be a function, so I think it should be</p>\n\n<pre><code>setInterval(async () =&gt; { await this.service.anotherAsyncTaskInTheServiceClass() },3000); \n</code></pre>\n\n<p>*Thanks for the correction @Evariste *</p>\n"}, {"tags": [], "owner": {"reputation": 399, "user_id": 5464956, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-_r8oo80qn-Q/AAAAAAAAAAI/AAAAAAAACMc/-tDjJrJLzZ8/photo.jpg?sz=128", "display_name": "David Dooling", "link": "https://stackoverflow.com/users/5464956/david-dooling"}, "is_accepted": false, "score": 0, "last_activity_date": 1593788039, "creation_date": 1593788039, "answer_id": 62717928, "question_id": 46812507, "link": "https://stackoverflow.com/questions/46812507/unable-to-call-asynchronous-function-inside-setinterval-function/62717928#62717928", "title": "unable to call asynchronous function inside setInterval function", "body": "<p>Be sure to wrap any operations that can throw exceptions in your async function used as argument to <code>setInterval</code>/<code>setTimer</code> in a try/catch to avoid un-handled exceptions, see <a href=\"https://blog.atomist.com/javascript-timer-settimeout/\" rel=\"nofollow noreferrer\">Async, Promises, and Timers in Node.js</a>.</p>\n"}], "owner": {"reputation": 1730, "user_id": 2994849, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/635593324b4abb5098c4b25de2e8e469?s=128&d=identicon&r=PG&f=1", "display_name": "Aditya", "link": "https://stackoverflow.com/users/2994849/aditya"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1963, "favorite_count": 0, "answer_count": 2, "score": 2, "last_activity_date": 1593788039, "creation_date": 1508336653, "question_id": 46812507, "link": "https://stackoverflow.com/questions/46812507/unable-to-call-asynchronous-function-inside-setinterval-function", "title": "unable to call asynchronous function inside setInterval function", "body": "<p>I want to call the asynchronous function which is called from a service class instance inside the <code>setInterval</code> function. </p>\n\n<pre><code>        class async {\n\n        constructor(public service: Service){}            \n\n            async doSomeAsyncTask(){\n\n               setInterval(await this.service.anotherAsyncTaskInTheServiceClass(),3000); \n\n       //want to call the inside of setInterval function repeatedly in every 3ms.       \n      } \n    }\n  }\n</code></pre>\n"}, {"tags": ["node.js", "typescript"], "answers": [{"comments": [{"owner": {"reputation": 3075, "user_id": 1790154, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/64e5ca55fc4105591eb9c1cf24a5d878?s=128&d=identicon&r=PG", "display_name": "zhm", "link": "https://stackoverflow.com/users/1790154/zhm"}, "edited": false, "score": 0, "creation_date": 1508335920, "post_id": 46811608, "comment_id": 80571600, "body": "Both way works, and the <i>type guard</i> way provides a safe solution, in which I can deal with both return types."}], "tags": [], "owner": {"reputation": 204677, "user_id": 75525, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/IYU63.png?s=128&g=1", "display_name": "Fenton", "link": "https://stackoverflow.com/users/75525/fenton"}, "is_accepted": true, "score": 2, "last_activity_date": 1508334048, "creation_date": 1508334048, "answer_id": 46811608, "question_id": 46811513, "link": "https://stackoverflow.com/questions/46811513/property-does-not-exist-on-a-functions-return-value-of-multiple-types/46811608#46811608", "title": "Property does not exist on a function&#39;s return value of multiple types", "body": "<p>You can use a type guard, or a type assertion.</p>\n\n<p><em>type guard</em></p>\n\n<pre><code>let hash = Md5.hashStr(str);\nif (typeof hash === 'string') {\n    hash = hash.toUpperCase();\n}\n</code></pre>\n\n<p><em>type assertion</em></p>\n\n<pre><code>let hash = (&lt;string&gt;Md5.hashStr(str)).toUpperCase();\n</code></pre>\n\n<p>The benefit of the type guard is that it technically safer - because if you ever <em>did</em> get something that wasn't a string at runtime, it would still work. The type assertion is simply you overriding the compiler, so it isn't technically as safe, but it is entirely erased and therefore results in the same runtime code you have at the point you have the error.</p>\n"}, {"comments": [{"owner": {"reputation": 3075, "user_id": 1790154, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/64e5ca55fc4105591eb9c1cf24a5d878?s=128&d=identicon&r=PG", "display_name": "zhm", "link": "https://stackoverflow.com/users/1790154/zhm"}, "edited": false, "score": 0, "creation_date": 1508336104, "post_id": 46811766, "comment_id": 80571715, "body": "Very detailed and helpful explanation. Thanks. I accept another answer because it provides a way in which I can deal with both return types, to avoid runtime error."}], "tags": [], "owner": {"reputation": 28847, "user_id": 43848, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/l6ogn.png?s=128&g=1", "display_name": "artem", "link": "https://stackoverflow.com/users/43848/artem"}, "is_accepted": false, "score": 1, "last_activity_date": 1508334529, "creation_date": 1508334529, "answer_id": 46811766, "question_id": 46811513, "link": "https://stackoverflow.com/questions/46811513/property-does-not-exist-on-a-functions-return-value-of-multiple-types/46811766#46811766", "title": "Property does not exist on a function&#39;s return value of multiple types", "body": "<p><code>hashStr</code> is <a href=\"https://github.com/cotag/ts-md5/blob/master/dist/md5.d.ts#L2\" rel=\"nofollow noreferrer\">declared in</a> <code>ts-md5</code> typings as </p>\n\n<pre><code>static hashStr(str: string, raw?: boolean): string | Int32Array;\n</code></pre>\n\n<p>Looking at <a href=\"https://github.com/cotag/ts-md5/blob/master/src/md5.ts#L421\" rel=\"nofollow noreferrer\">the implementation</a>, is seems that it returns <code>Int32Array</code> when <code>raw</code> is true, and returns <code>string</code> otherwise. </p>\n\n<p>Given that declaration, you can't do much better than use type assertion:</p>\n\n<pre><code>let hash = (Md5.hashStr(str) as string).toUpperCase()\n</code></pre>\n\n<p>The proper way to express that return type is dependent on the parameter in TypeScript is via <a href=\"https://www.typescriptlang.org/docs/handbook/functions.html#overloads\" rel=\"nofollow noreferrer\">overload declarations</a>. Something like this should work:</p>\n\n<pre><code>static hashStr(str: string): string;\nstatic hashStr(str: string, raw: false): string;\nstatic hashStr(str: string, raw: true): Int32Array;\nstatic hashStr(str: string, raw: boolean): Int32Array | string;\nstatic hashStr(str: string, raw?: boolean): string | Int32Array {\n    // implementation goes here...\n}\n</code></pre>\n\n<p>I'd suggest posting an issue with ts-md5 about this.</p>\n"}], "owner": {"reputation": 3075, "user_id": 1790154, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/64e5ca55fc4105591eb9c1cf24a5d878?s=128&d=identicon&r=PG", "display_name": "zhm", "link": "https://stackoverflow.com/users/1790154/zhm"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 982, "favorite_count": 0, "accepted_answer_id": 46811608, "answer_count": 2, "score": 1, "last_activity_date": 1508334529, "creation_date": 1508333734, "question_id": 46811513, "link": "https://stackoverflow.com/questions/46811513/property-does-not-exist-on-a-functions-return-value-of-multiple-types", "title": "Property does not exist on a function&#39;s return value of multiple types", "body": "<p>I'm using typescript to write NodeJS program.</p>\n\n<p>In this program, I import a node module called <code>ts-md5</code>, in which there is a function <code>hashStr()</code>, it could return a value of <code>string</code> or <code>Int32Array</code>.</p>\n\n<p>I need to do things like this in my program:</p>\n\n<pre><code>Md5.hashStr(str).toUpperCase();\n</code></pre>\n\n<p>However, the compiler complains error:</p>\n\n<pre><code>error TS2339: Property 'toUpperCase' does not exist on type 'string | Int32Array'.\n</code></pre>\n\n<p>The program runs successfully. Because it always returns <code>string</code> during runtime. But I want to know if there is a way to get rid of this annoying error?</p>\n"}, {"tags": ["typescript", "kendo-ui"], "comments": [{"owner": {"reputation": 696, "user_id": 1057806, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/4809ff51bb5a197f0185e5b9508df4bf?s=128&d=identicon&r=PG", "display_name": "Per Svensson", "link": "https://stackoverflow.com/users/1057806/per-svensson"}, "edited": false, "score": 1, "creation_date": 1508333186, "post_id": 46811226, "comment_id": 80569633, "body": "Aaaah remains from the old age. Namespaces are the old module syntax used before the age of &quot;ES6&quot; also known as &quot;external&quot; modules in TS. You generally don&#39;t import/export namespaces in TS since they have no meaning to JavaScript. So what you get from one of thoose files are just the types.    <a href=\"https://www.typescriptlang.org/docs/handbook/namespaces-and-modules.html\" rel=\"nofollow noreferrer\">typescriptlang.org/docs/handbook/namespaces-and-modules.html</a>"}, {"owner": {"reputation": 5214, "user_id": 365266, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/beab2e1ea85bfbfaadfe2b8f5b6dd1c5?s=128&d=identicon&r=PG", "display_name": "&#201;lodie Petit", "link": "https://stackoverflow.com/users/365266/%c3%89lodie-petit"}, "reply_to_user": {"reputation": 696, "user_id": 1057806, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/4809ff51bb5a197f0185e5b9508df4bf?s=128&d=identicon&r=PG", "display_name": "Per Svensson", "link": "https://stackoverflow.com/users/1057806/per-svensson"}, "edited": false, "score": 0, "creation_date": 1508333719, "post_id": 46811226, "comment_id": 80570021, "body": "@PerSvensson So how do I use those interfaces? By adding &lt;reference path&gt; to the top of the file?"}, {"owner": {"reputation": 696, "user_id": 1057806, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/4809ff51bb5a197f0185e5b9508df4bf?s=128&d=identicon&r=PG", "display_name": "Per Svensson", "link": "https://stackoverflow.com/users/1057806/per-svensson"}, "edited": false, "score": 0, "creation_date": 1508391200, "post_id": 46811226, "comment_id": 80594028, "body": "Well, the lines are a bit blurry here between the old and new. In the newer compilers you don&#39;t have to ///ref but you just import the &quot;external module&quot;. If you run in &quot;project mode&quot; (e.g. you have a tsconfig.json, like you do) then it should pick up all of the .d.ts files in that module."}, {"owner": {"reputation": 696, "user_id": 1057806, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/4809ff51bb5a197f0185e5b9508df4bf?s=128&d=identicon&r=PG", "display_name": "Per Svensson", "link": "https://stackoverflow.com/users/1057806/per-svensson"}, "edited": false, "score": 0, "creation_date": 1508391556, "post_id": 46811226, "comment_id": 80594134, "body": "This question is a little bit to generic to answer. I think that the kendo team uses global. So when you import your kendo.js files it patches the window object and/or the jQuery object if your using that version. The .d.ts files in this version just represents that global defined object. (E.g. you dont need to import it, its no external module). Thats the old school (vero old school) way of doing things.  But, again depends on the entire index.d.ts file you were using and what kendo ui version you using. <a href=\"https://docs.telerik.com/kendo-ui/third-party/typescript\" rel=\"nofollow noreferrer\">docs.telerik.com/kendo-ui/third-party/typescript</a>"}], "answers": [{"tags": [], "owner": {"reputation": 18854, "user_id": 1083572, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/9xSFI.png?s=128&g=1", "display_name": "Kokodoko", "link": "https://stackoverflow.com/users/1083572/kokodoko"}, "is_accepted": false, "score": -2, "last_activity_date": 1508342439, "creation_date": 1508342439, "answer_id": 46814469, "question_id": 46811226, "link": "https://stackoverflow.com/questions/46811226/cant-see-interfaces-in-namespaces/46814469#46814469", "title": "Can&#39;t see interfaces in namespaces", "body": "<p>A namespace in Typescript is just an object wrapper. It places your classes and interfaces inside an object with the name that you declare.\nThis is an example of a Typescript namespace with the name <code>kendo.ui</code>.\nBy the way, you don't have to import <code>.d.ts</code> files.</p>\n\n<pre><code>declare namespace kendo.ui {\n    class Draggable {}\n    interface DraggableEvent {}\n}\n\nclass Test{\n    constructor() { \n        let d = new kendo.ui.Draggable();\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 5214, "user_id": 365266, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/beab2e1ea85bfbfaadfe2b8f5b6dd1c5?s=128&d=identicon&r=PG", "display_name": "&#201;lodie Petit", "link": "https://stackoverflow.com/users/365266/%c3%89lodie-petit"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 357, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1508342439, "creation_date": 1508332900, "question_id": 46811226, "link": "https://stackoverflow.com/questions/46811226/cant-see-interfaces-in-namespaces", "title": "Can&#39;t see interfaces in namespaces", "body": "<p>This question is not directly related to Kendo UI but more about TypeScript namespace declarations.</p>\n\n<p>I'm trying to import some interfaces from Kendo UI library. Structure of index.d.ts of Kendo UI is like below:</p>\n\n<pre><code>declare namespace kendo.ui {\n    class Draggable extends kendo.ui.Widget { ... }\n    interface DraggableEvent { ... }\n    // ... other declarations\n}\n</code></pre>\n\n<p>Now I import this declaration in my TypeScript file as below:</p>\n\n<pre><code>import '@progress/kendo-ui';\n</code></pre>\n\n<p>Strangely, in my TypeScript file, I can only see the class and function declarations, none of the interfaces are visible from outside of the namespace.</p>\n\n<p>This is how my tsconfig.json is configured:</p>\n\n<pre><code>{\n  \"compilerOptions\": {\n    \"lib\": [\n      \"dom\",\n      \"es5\",\n      \"es2015\",\n      \"es2015.promise\"\n    ],\n    \"module\": \"es2015\",\n    \"moduleResolution\": \"node\",\n    \"strict\": false,\n    \"target\": \"es2015\",\n    \"sourceMap\": true,\n    \"emitDecoratorMetadata\": true,\n    \"experimentalDecorators\": true,\n    \"allowSyntheticDefaultImports\": true\n  }\n}\n</code></pre>\n\n<p>I tried adding <code>export</code> keyword before some of the interface declarations to no avail.</p>\n\n<p>Can someone please explain what's going on here?</p>\n"}, {"tags": ["javascript", "angular", "typescript", "ionic-framework"], "answers": [{"tags": [], "owner": {"reputation": 373, "user_id": 8035794, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/encYD.png?s=128&g=1", "display_name": "fastworker399", "link": "https://stackoverflow.com/users/8035794/fastworker399"}, "is_accepted": true, "score": 0, "last_activity_date": 1508599650, "creation_date": 1508599650, "answer_id": 46864847, "question_id": 46811092, "link": "https://stackoverflow.com/questions/46811092/how-to-implement-drag-drop-directive-for-ionic/46864847#46864847", "title": "How to implement drag-drop directive for Ionic?", "body": "<p>I solved the problem using this plugin.\n<a href=\"https://github.com/AbineshSrishti/ionic2-selection-card-drag\" rel=\"nofollow noreferrer\">https://github.com/AbineshSrishti/ionic2-selection-card-drag</a></p>\n"}], "owner": {"reputation": 373, "user_id": 8035794, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/encYD.png?s=128&g=1", "display_name": "fastworker399", "link": "https://stackoverflow.com/users/8035794/fastworker399"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 464, "favorite_count": 0, "accepted_answer_id": 46864847, "answer_count": 1, "score": 0, "last_activity_date": 1508599650, "creation_date": 1508332512, "last_edit_date": 1508339748, "question_id": 46811092, "link": "https://stackoverflow.com/questions/46811092/how-to-implement-drag-drop-directive-for-ionic", "title": "How to implement drag-drop directive for Ionic?", "body": "<p>//long-press.directive.d.ts</p>\n\n<pre><code>import { ElementRef, EventEmitter, OnDestroy, OnInit, NgZone } from '@angular/core';\nimport { Gesture } from 'ionic-angular/gestures/gesture';\nexport declare class LongPressDirective implements OnInit, OnDestroy {\n    zone: NgZone;\n    interval: number;\n    onPressStart: EventEmitter&lt;any&gt;;\n    onPressing: EventEmitter&lt;any&gt;;\n    onPressEnd: EventEmitter&lt;any&gt;;\n\n    el: HTMLElement;\n    pressGesture: Gesture;\n    int: any;\n    constructor(zone: NgZone, el: ElementRef);\n    ngOnInit(): void;\n    ngOnDestroy(): void;\n}\n</code></pre>\n\n<p>//long-press.drective.js</p>\n\n<pre><code>\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar core_1 = require(\"@angular/core\");\nvar gesture_1 = require(\"ionic-angular/gestures/gesture\");\nvar LongPressDirective = (function () {\n    function LongPressDirective(zone, el) {\n        this.zone = zone;\n        this.onPressStart = new core_1.EventEmitter();\n        this.onPressing = new core_1.EventEmitter();\n        this.onPressEnd = new core_1.EventEmitter();\n        this.el = el.nativeElement;\n    }\n    LongPressDirective.prototype.ngOnInit = function () {\n        var _this = this;\n        if (!this.interval)\n            this.interval = 500;\n        if (this.interval &lt; 40) {\n            throw new Error('A limit of 40ms is imposed so you don\\'t destroy device performance. If you need less than a 40ms interval, please file an issue explaining your use case.');\n        }\n        this.pressGesture = new gesture_1.Gesture(this.el);\n        this.pressGesture.listen();\n        this.pressGesture.on('press', function (e) {\n            _this.onPressStart.emit(e);\n            _this.zone.run(function () {\n                _this.int = setInterval(function () {\n                    _this.onPressing.emit();\n                }, _this.interval);\n            });\n        });\n\n        this.pressGesture.on('pressup', function (e) {\n            _this.zone.run(function () {\n                clearInterval(_this.int);\n            });\n            _this.onPressEnd.emit();\n        });\n\n\n\n\n    };\n    LongPressDirective.prototype.ngOnDestroy = function () {\n        var _this = this;\n        this.zone.run(function () {\n            clearInterval(_this.int);\n        });\n        this.onPressEnd.emit();\n        this.pressGesture.destroy();\n    };\n    return LongPressDirective;\n}());\nLongPressDirective.decorators = [\n    { type: core_1.Directive, args: [{\n                selector: '[ion-long-press]'\n            },] },\n];\n/** @nocollapse */\nLongPressDirective.ctorParameters = function () { return [\n    { type: core_1.NgZone, },\n    { type: core_1.ElementRef, },\n]; };\nLongPressDirective.propDecorators = {\n    'interval': [{ type: core_1.Input },],\n    'onPressStart': [{ type: core_1.Output },],\n    'onPressing': [{ type: core_1.Output },],\n    'onPressEnd': [{ type: core_1.Output },],\n};\nexports.LongPressDirective = LongPressDirective;\n//# sourceMappingURL=long-press.directive.js.map\n</code></pre>\n\n<p>This is implementation of 'press', 'press-up' event.\nThis directive intends to build upon the existing Hammer.JS press event that Ionic uses for long pressing, by giving you interval emission.\n<a href=\"https://www.npmjs.com/package/ionic-long-press\" rel=\"nofollow noreferrer\">https://www.npmjs.com/package/ionic-long-press</a>\n I want to add 'drag'-'drop' event.\nI am beginner of angular.\nExpert's help is needed.\nThanks.</p>\n"}, {"tags": ["angular", "typescript", "error-handling", "dialog", "material-design"], "answers": [{"comments": [{"owner": {"reputation": 744, "user_id": 8081009, "user_type": "registered", "accept_rate": 71, "profile_image": "https://graph.facebook.com/10211786747918724/picture?type=large", "display_name": "Janne Harju", "link": "https://stackoverflow.com/users/8081009/janne-harju"}, "edited": false, "score": 0, "creation_date": 1560419814, "post_id": 47211906, "comment_id": 99733652, "body": "I open our error dialog from service which I call from errorhandler. In error handler I only need to add this line where I call service method this.ngzone.run(() =&gt; { this.service.openErrorDialog(&#39;message&#39;);}); And I do not have super.handleError(error); end of handler. This way I now can close error dialog because dialog is inside angular zone. My problem was that click event only occured after I click button and then clicked somewhere else. After second click  dialog was closed."}], "tags": [], "owner": {"reputation": 2014, "user_id": 6397798, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/645e8642225ab706cb9b7ef8ff31364e?s=128&d=identicon&r=PG&f=1", "display_name": "bracco23", "link": "https://stackoverflow.com/users/6397798/bracco23"}, "is_accepted": true, "score": 5, "last_activity_date": 1510263416, "last_edit_date": 1510263416, "creation_date": 1510263106, "answer_id": 47211906, "question_id": 46810922, "link": "https://stackoverflow.com/questions/46810922/general-error-handler-for-angular2-application-using-material-design/47211906#47211906", "title": "General error handler for Angular2 application using Material Design", "body": "<p>Seems like I have not answered myself after solving it. Turns out it was a bug of angular <a href=\"https://github.com/angular/angular/issues/19984\" rel=\"noreferrer\">here the issue I opened</a>, but not the bug you might think. Actually the wanted behaviour is the \"non closing\" one, which is actually the UI not updating.</p>\n\n<p>The reason is that after an error the error handler is executed outside the NgZone, which means that angular won't know about UI changes you make.  ( I had to google zone.js to understand what all this was about. )</p>\n\n<p>The solution is to inject the NgZone again and run stuff manually inside the zone. It works, but since errors inside the zone get sent back to the handler, it might cause an infinite loop ( error, operation to show the error causes a new error, the new error trigger the same operation that throws the error again and so on...). What I did to avoid that is to put a guard to do not show more than one error to the UI, so that unless the user tells me that it is ok, any subsequent error is just sent to console. Here is the working code:</p>\n\n<pre><code>import { ErrorHandler, Injectable, Injector, NgZone } from '@angular/core'\n\nimport { Router } from '@angular/router'\n\nimport { MatDialog } from '@angular/material'\n\n\nimport { HttpErrorResponse } from '@angular/common/http'\n\n\nimport { MessageDialog } from '../dialogs/message.dialog'\n\nimport { LoginService } from '../login/main.service'\n\n\n\n@Injectable()\n\nexport class DialogErrorHandler extends ErrorHandler {\n\n\n\u00a0\u00a0\u00a0\u00a0private elaborating: boolean = false;\n\n\n\u00a0\u00a0\u00a0\u00a0constructor(private injector: Injector, private ngzone: NgZone) {\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0super();\n\n\u00a0\u00a0\u00a0\u00a0}\n\n\n\u00a0\u00a0\u00a0\u00a0handleError(error: any): void {\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0if (!this.elaborating) {\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0this.elaborating = true;\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0let localError = error;\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0let finalMessage: string = \"Errore sconosciuto\";\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0let finalCallback: () =&gt; void = () =&gt; { console.log(\"default callback\") };\n\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0let dialog: MatDialog = this.injector.get(MatDialog);\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0let login: LoginService = this.injector.get(LoginService);\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0let router: Router = this.injector.get(Router);\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0// nessun dialog per TypeError, evita problemi con MatSelect\n\nif (localError instanceof TypeError) {\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0this.elaborating = false;\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0} else {\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0if (localError instanceof HttpErrorResponse &amp;&amp; localError.error instanceof Error) {\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0localError = localError.error\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0}\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0if (localError instanceof HttpErrorResponse) {\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0let errorDesc = 'Request to ' + localError.url + \"\\n\" + localError.status +\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\" \" + localError.statusText + \": \" + localError.error;\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0switch (localError.status) {\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0case 403:\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0finalMessage = \"La sessione \u00e8 scaduta, ripeti il login.\";\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0finalCallback = () =&gt; { login.logout(); router.navigate['/login']; };\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0break;\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0case 500:\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0finalMessage = \"Errore sul server - \" + errorDesc;\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0break;\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0default:\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0finalMessage = errorDesc;\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0}\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0} else {\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0finalMessage = localError.message;\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0}\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0this.ngzone.run(() =&gt; {\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0dialog.open(MessageDialog, {\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0data: {\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0message: finalMessage,\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0callback: () =&gt; { finalCallback(); this.elaborating = false; }\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0}\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0})\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0})\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0}\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0}\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0super.handleError(error);\n\n\u00a0\u00a0\u00a0\u00a0}\n\n}\n</code></pre>\n\n<p>I inject the NgZone in the handler and use it to show the dialog, and I have the elaborating boolean that should avoid infinite recursion.</p>\n"}], "owner": {"reputation": 2014, "user_id": 6397798, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/645e8642225ab706cb9b7ef8ff31364e?s=128&d=identicon&r=PG&f=1", "display_name": "bracco23", "link": "https://stackoverflow.com/users/6397798/bracco23"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1423, "favorite_count": 1, "accepted_answer_id": 47211906, "answer_count": 1, "score": 2, "last_activity_date": 1510263416, "creation_date": 1508331985, "last_edit_date": 1509117458, "question_id": 46810922, "link": "https://stackoverflow.com/questions/46810922/general-error-handler-for-angular2-application-using-material-design", "title": "General error handler for Angular2 application using Material Design", "body": "<p>I was trying to implement a general ErrorHandler for my Angular4 application with the aim to display a dialog with some information on the error I receive.</p>\n\n<p>This is the error handler:</p>\n\n<pre><code>import { ErrorHandler, Injectable, Injector } from '@angular/core'\n// import { Router } from '@angular/router'\nimport { MatDialog } from '@angular/material'\n\nimport { HttpErrorResponse } from '@angular/common/http'\n\nimport { MessageDialog } from './message.dialog'\n// import { LoginService } from '../login/main.service'\n\n\n@Injectable()\nexport class DialogErrorHandler implements ErrorHandler {\n\n    constructor(private injector: Injector) {\n    }\n\n    handleError(error: any): void {\n        let localError = error;\n        let finalMessage: string = \"Errore sconosciuto\";\n        let finalCallback: () =&gt; void = () =&gt; { console.log(\"default callback\")};\n\n        let dialog: MatDialog = this.injector.get(MatDialog);\n        // let login: LoginService = this.injector.get(LoginService);\n        // let router: Router = this.injector.get(Router);\n        if( localError instanceof HttpErrorResponse &amp;&amp; localError.error instanceof Error){\n            localError = localError.error\n        }\n        if (localError instanceof HttpErrorResponse) {\n            console.log(\"http error\");\n            let errorDesc = localError.status + \" \" + localError.statusText + \": \";\n            switch (localError.status) {\n                case 403:\n                    finalMessage = \"La sessione \u00e8 scaduta, ripeti il login.\";\n                    // finalCallback = () =&gt; { login.logout(); router.navigate['/login']; };\n                    break;\n                case 500:\n                    finalMessage = \"Errore sul server - \" + errorDesc + localError.error;\n                    break;\n                default:\n                    finalMessage = errorDesc;\n            }\n        } else {\n            finalMessage = localError.toString();\n            finalCallback = () =&gt; { location.reload() };\n        }\n        dialog.open(MessageDialog, {\n            data: {\n                message: finalMessage,\n                callback: finalCallback\n            }\n        })\n        console.log(error);\n    }\n}\n</code></pre>\n\n<p>While this is the dialog:</p>\n\n<pre><code>import { Component, Inject } from '@angular/core'\n\nimport { MAT_DIALOG_DATA, MatDialogRef } from '@angular/material'\n\n@Component({\n    selector: 'message-dialog',\n    template: `\n        &lt;p mat-dialog-title color=\"primary\" class=\"centered\"&gt;Attenzione&lt;/p&gt;\n        &lt;div mat-dialog-content&gt;{{message}}&lt;/div&gt;\n        &lt;div mat-dialog-actions style=\"display: flex; justify-content: center\"&gt;\n            &lt;button mat-button mat-dialog-close (click)=\"handleClick()\"&gt;\n                OK\n            &lt;/button&gt;\n        &lt;/div&gt;\n    `,\n    styleUrls: ['../common/style.css']\n})\nexport class MessageDialog {\n\n    message: string = \"cose\";\n    callback: () =&gt; void;\n\n    constructor( @Inject(MAT_DIALOG_DATA) private data,\n        private diagref: MatDialogRef&lt;MessageDialog&gt;) {\n        if (data) {\n            this.message = data.message;\n            this.callback = data.callback;\n        }\n    }\n\n    handleClick() {\n        this.diagref.close();\n        if (this.callback) {\n            this.callback();\n        }\n    }\n}\n</code></pre>\n\n<p>This is a plunkr with what I have come to: <a href=\"https://plnkr.co/edit/dZ9yNf?p=preview\" rel=\"nofollow noreferrer\">https://plnkr.co/edit/dZ9yNf?p=preview</a></p>\n\n<p>Now, the problem is that after I launch an error, the MatDialog I display doesn't show the message and doesn't close. It correctly executes the callback function, but it stays there.</p>\n\n<ul>\n<li>I have not been able to reproduce the behavior in the plunkr. I don't know why, but I suspect it has something to do with the fact that the plunkr wraps my HttpErrorResponse object in another error. Still, in my development environment, the error is there even if I comment all the code that consider the type of the error.</li>\n<li>I have tried substituting the MatDialog with a MatSnackBar, no luck, still the same problem, the snackbar appears and doesn't want to disappear.</li>\n<li>The dialog itself is also used in other situation and in those situations it closes normally, doesn't give any problem.</li>\n<li>Debugging I have found that the problem is that somehow the dialog try to close itself but the event of state change on the MatDialogContainer is never issued, since following the execution I have seen the state changing but not the callback being called.</li>\n</ul>\n\n<p>What am I doing wrong? Why this strange behavior? Do you have any advice?</p>\n\n<p>P.S. The commented stuff is stuff I will need but that I have been able to take out to simplify the handler without solving the issue. It's there, will be uncommented, but it is not the problem.</p>\n\n<p>EDIT: After 9 days, a tumbleweed badge and other stuff, I have been able to reproduce the error. Same plunkr, the difference is in the source of the error. In particular:</p>\n\n<pre><code>handleClick(){\n    Observable.throw(new Error(\"local error\")).subscribe(\n      () =&gt; {},\n      (err) =&gt; {throw err)\n    )\n  }\n\n  throwError(){\n    this.http.get(\"http://www.google.com/thisshouldnotexist\").subscribe(\n      () =&gt; {},\n      (err) =&gt; {throw err}\n    )\n  }\n</code></pre>\n\n<p>In this scenario, <code>handleClick</code> goes smoothly, while <code>throwError</code> hangs there. If anybody knows a solution, please help.</p>\n"}, {"tags": ["javascript", "angular", "typescript", "angular2-http"], "comments": [{"owner": {"reputation": 2831, "user_id": 6215270, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0ZgbJ.jpg?s=128&g=1", "display_name": "Mohamed Ali RACHID", "link": "https://stackoverflow.com/users/6215270/mohamed-ali-rachid"}, "edited": false, "score": 0, "creation_date": 1508341674, "post_id": 46810858, "comment_id": 80575694, "body": "1) in your code i don&#39;t see the model <code>EmptyTable</code> , can u please post its code  2) where do u call the method <code>edit(emptyTable: EmptyTable)</code> ?"}, {"owner": {"reputation": 604, "user_id": 2064833, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/zpZZz.jpg?s=128&g=1", "display_name": "Harold_Finch", "link": "https://stackoverflow.com/users/2064833/harold-finch"}, "reply_to_user": {"reputation": 2831, "user_id": 6215270, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0ZgbJ.jpg?s=128&g=1", "display_name": "Mohamed Ali RACHID", "link": "https://stackoverflow.com/users/6215270/mohamed-ali-rachid"}, "edited": false, "score": 0, "creation_date": 1508395494, "post_id": 46810858, "comment_id": 80595463, "body": "<code>CreateExampleTableModel</code> is my model"}], "answers": [{"tags": [], "owner": {"reputation": 604, "user_id": 2064833, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/zpZZz.jpg?s=128&g=1", "display_name": "Harold_Finch", "link": "https://stackoverflow.com/users/2064833/harold-finch"}, "is_accepted": true, "score": 1, "last_activity_date": 1508397431, "creation_date": 1508397431, "answer_id": 46824508, "question_id": 46810858, "link": "https://stackoverflow.com/questions/46810858/typeerror-cannot-read-property-id-of-undefined-on-edit-view-template-angula/46824508#46824508", "title": "TypeError: Cannot read property &#39;Id&#39; of undefined on edit view template - Angular 2", "body": "<p>The problem was found below:</p>\n\n<pre><code> &lt;ng-template let-user=\"rowData\" pTemplate=\"body\"&gt;\n                    &lt;button type=\"button\" pButton (click)=\"edit(distributor)\" icon=\"fa-edit\"&gt;&lt;/button&gt;\n                &lt;/ng-template&gt;\n</code></pre>\n\n<p><code>let-user</code> should have been changed to <code>let-distributor</code> and all works.</p>\n"}], "owner": {"reputation": 604, "user_id": 2064833, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/zpZZz.jpg?s=128&g=1", "display_name": "Harold_Finch", "link": "https://stackoverflow.com/users/2064833/harold-finch"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1501, "favorite_count": 1, "accepted_answer_id": 46824508, "answer_count": 1, "score": 1, "last_activity_date": 1508397431, "creation_date": 1508331810, "last_edit_date": 1508332111, "question_id": 46810858, "link": "https://stackoverflow.com/questions/46810858/typeerror-cannot-read-property-id-of-undefined-on-edit-view-template-angula", "title": "TypeError: Cannot read property &#39;Id&#39; of undefined on edit view template - Angular 2", "body": "<p>Okay so I have been facing the dreadful:</p>\n\n<blockquote>\n  <p>TypeError: Cannot read property 'Id' of undefined</p>\n</blockquote>\n\n<p>Before we get started:</p>\n\n<p><strong>@angular/cli: 1.4.4\nnode: 6.10.3\nnpm: 3.10.10</strong></p>\n\n<p>Just to give more context, I am trying to perform one way data binding to edit a component by taking the Id from its component class and flow in a single direction to display the view template. That's all.</p>\n\n<p>Below is the following that will hopefully try reproduce the problem and in turn figure out a solution. </p>\n\n<ol>\n<li><strong>SQL Table Definition:</strong></li>\n</ol>\n\n\n\n<pre class=\"lang-or-tag-here prettyprint-override\"><code>CREATE TABLE [ExampleTable]\n(\n    [Id] [int] IDENTITY(1,1) NOT NULL,\n    [Col2] [nvarchar](50) NULL,\n    [Col3] [int] NULL,\n    [Col4] [int] NULL\n)\n</code></pre>\n\n<ol start=\"2\">\n<li><strong>ExampleTable.ts</strong></li>\n</ol>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>export interface ExampleTable {\r\n    Id;\r\n    Col2;\r\n    Col3;\r\n    Col4;\r\n}\r\n\r\nexport class CreateExampleTableModel {\r\n    SomeForeignKey?: number;\r\n    Col2: string;\r\n    Col2: number; \r\n    Col2: number; \r\n}\r\n\r\nexport class EditExampleTable {\r\n\r\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<ol start=\"3\">\n<li><strong>empty-tables.component.ts</strong></li>\n</ol>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>import {\r\n  Component\r\n} from '@angular/core';\r\nimport {\r\n  Router\r\n} from \"@angular/router\";\r\nimport {\r\n  EmptyTableServiceService\r\n} from \"../../services/empty-table.service\";\r\nimport {\r\n  EmptyTable\r\n} from \"../../models/outModels/EmptyTable\";\r\n\r\n\r\n@Component({\r\n  selector: 'app-empty-tables',\r\n  templateUrl: './empty-tables.component.html',\r\n  styleUrls: ['./empty-tables.component.css']\r\n})\r\nexport class EmptyTablesComponent {\r\n  //Table data\r\n  emptyTable: EmptyTable[];\r\n\r\n\r\n  constructor(\r\n    private router: Router,\r\n    private emptyTableServiceService: EmptyTableServiceService) {\r\n\r\n  }\r\n\r\n  edit(emptyTable: EmptyTable) {\r\n    this.router.navigate(['emptyTables/edit', emptyTable.Id]);\r\n  }\r\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<ol start=\"4\">\n<li><strong>EmptyTableService:</strong></li>\n</ol>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>import {\r\n  Injectable\r\n} from '@angular/core';\r\nimport {\r\n  Http\r\n} from '@angular/http';\r\nimport 'rxjs/add/operator/toPromise';\r\nimport {\r\n  EmptyTable,\r\n  CreateExampleTableModel\r\n} from \"../models/outModels/EmptyTable\";\r\n\r\n@Injectable()\r\nexport class EmptyTableService {\r\n  constructor(private http: Http, ) {}\r\n\r\ngetEmptyTable(Id: string): Promise&lt;EmptyTable&gt; {\r\n    return this.http.get(`${this.auth.apiUrl}/api/emptyTables/get/${Id}`, { headers: this.auth.header })\r\n        .toPromise()\r\n        .then(response =&gt; response.json() as EmptyTable)\r\n        .catch(error =&gt; this.logging.handleError(error));\r\n}\r\n\r\n  update(emptyTable: EmptyTable): Promise &lt; EmptyTable &gt; {\r\n    return this.http.post(`${this.auth.apiUrl}/api/emptyTables/update`, JSON.stringify(emptyTable), {\r\n        headers: this.auth.header\r\n      })\r\n      .toPromise()\r\n      .then(response =&gt; response.json() as EmptyTable)\r\n      .catch(error =&gt; this.logging.handleError(error));\r\n  }\r\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<ol start=\"5\">\n<li><strong>EmptyTableEditComponent:</strong></li>\n</ol>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>import {\r\n  Component,\r\n  OnInit\r\n} from '@angular/core';\r\nimport {\r\n  ActivatedRoute,\r\n  ParamMap,\r\n  Router\r\n} from '@angular/router';\r\nimport {\r\n  EmptyTableService\r\n} from \"../../../services/empty-table.service\";\r\nimport {\r\n  EmptyTable\r\n} from \"../../../models/outModels/EmptyTable\";\r\n\r\nexport class EmptyTableEditComponent implements OnInit {\r\n\r\n  model: EmptyTable;\r\n\r\n  constructor(\r\n    private route: ActivatedRoute,\r\n    private router: Router,\r\n    private emptyTableService: EmptyTableService\r\n  ) {}\r\n\r\n  ngOnInit() {\r\n    this.loading = true;\r\n    this.route.paramMap\r\n      .switchMap((params: ParamMap) =&gt; this.emptyTableService.getEmptyTable(params.get('Id')))\r\n      .subscribe(emptyTable =&gt; {\r\n        this.model = emptyTable;\r\n      });\r\n  }\r\n\r\n  goBack(): void {\r\n    this.router.navigate(['/emptyTables']);\r\n  }\r\n\r\n  save(): void {\r\n    this.loading = true;\r\n    this.emptyTableService.update(this.model).then(\r\n      emptyTable =&gt; {\r\n        this.model = emptyTable;\r\n      },\r\n      error =&gt; {\r\n        console.log(error);\r\n      }\r\n    );\r\n  }\r\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>My suspicion is that in my <code>getEmptyTable(Id: string)</code> which returns a <code>Promise</code> of <code>EmptyTables</code> is that I am passing in my Id parameter as a string value whereas in my table definition from my DB it is an <code>integer</code> however according to my understanding, url parameters are always in string format. I tried the following:</p>\n\n<p>i. Setting my <code>Id</code> to a <code>number</code> data type and I call the <code>toString()</code> on the <code>Id</code>parameter in the <code>apiUrl</code> like so: </p>\n\n<pre class=\"lang-or-tag-here prettyprint-override\"><code> getEmptyTable(Id: number): Promise&lt;EmptyTable&gt; {\n        return this.http.get(`${this.auth.apiUrl}/api/emptyTables/get/${Id.toString()}`, { headers: this.auth.header })\n            .toPromise()\n            .then(response =&gt; response.json() as EmptyTable)\n            .catch(error =&gt; this.logging.handleError(error));\n    }\n</code></pre>\n\n<p>But this does not make much of a difference. Lastly, please find the view template which I render:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;div class=\"container\"&gt;\r\n  &lt;p-messages [(value)]=\"messages\"&gt;&lt;/p-messages&gt;\r\n  &lt;p-panel *ngIf=\"model\"&gt;\r\n    &lt;p-header&gt;\r\n      Edit EmptyTable {{model.Name}}\r\n    &lt;/p-header&gt;\r\n    &lt;form name=\"form\" (ngSubmit)=\"save()\"&gt;\r\n\r\n      &lt;div class=\"form-group\"&gt;\r\n        &lt;label&gt;Col 2&lt;/label&gt;\r\n        &lt;input type=\"text\" class=\"form-control\" name=\"col2\" [(ngModel)]=\"model.Col2\" required /&gt;\r\n      &lt;/div&gt;\r\n\r\n      &lt;div class=\"form-group\"&gt;\r\n        &lt;label&gt;Col 3&lt;/label&gt;\r\n        &lt;input type=\"text\" class=\"form-control\" name=\"col3\" [(ngModel)]=\"model.Col3\" required /&gt;\r\n      &lt;/div&gt;\r\n\r\n      &lt;div class=\"form-group\"&gt;\r\n        &lt;button pButton type=\"button\" class=\"ui-button-secondary\" (click)=\"goBack()\" label=\"Back\" icon=\"fa-chevron-left\"&gt;&lt;/button&gt;\r\n        &lt;button pButton class=\"ui-button-success pull-right\" label=\"Save\" icon=\"fa-save\"&gt;&lt;/button&gt;\r\n        &lt;app-loader *ngIf=\"loading\"&gt;&lt;/app-loader&gt;\r\n      &lt;/div&gt;\r\n    &lt;/form&gt;\r\n  &lt;/p-panel&gt;\r\n&lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>To wrap this up, it complains in the following function:</p>\n\n<pre class=\"lang-or-tag-here prettyprint-override\"><code>  edit(emptyTable: EmptyTable) {\n        this.router.navigate(['emptyTables/edit', emptyTable.Id]);\n    }\n</code></pre>\n\n<p><strong>Note:</strong> Please don't run the snippets as there is no output to them. This was the quickest way to format my code. Manual indentation was not cutting it.</p>\n"}, {"tags": ["javascript", "typescript"], "comments": [{"owner": {"reputation": 18854, "user_id": 1083572, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/9xSFI.png?s=128&g=1", "display_name": "Kokodoko", "link": "https://stackoverflow.com/users/1083572/kokodoko"}, "edited": false, "score": 1, "creation_date": 1508343083, "post_id": 46810594, "comment_id": 80576648, "body": "If every page has its own Typescript file, why don&#39;t you just add that interface line only to the specific page that needs it? By the way, strictly speaking you are not extending the jQuery object by writing an interface that is also called jQuery :)"}, {"owner": {"reputation": 1496, "user_id": 428724, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/4108e9fea69955b06973492abf9590ee?s=128&d=identicon&r=PG", "display_name": "wezten", "link": "https://stackoverflow.com/users/428724/wezten"}, "reply_to_user": {"reputation": 18854, "user_id": 1083572, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/9xSFI.png?s=128&g=1", "display_name": "Kokodoko", "link": "https://stackoverflow.com/users/1083572/kokodoko"}, "edited": false, "score": 0, "creation_date": 1508413147, "post_id": 46810594, "comment_id": 80605288, "body": "@Kokodoko That is what I do, however all Typescript files in the project see this interface, and show <code>timepicker</code> on <code>JQuery</code>."}, {"owner": {"reputation": 18854, "user_id": 1083572, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/9xSFI.png?s=128&g=1", "display_name": "Kokodoko", "link": "https://stackoverflow.com/users/1083572/kokodoko"}, "edited": false, "score": 1, "creation_date": 1508419456, "post_id": 46810594, "comment_id": 80609231, "body": "It is probably just your IDE that sees the <code>timepicker</code> interface and applies it to your whole project. Perhaps you could use namespaces to differentiate between pages and have some interfaces only in some namespaces. <code>namespace page10 { interface bla{ } }</code>"}, {"owner": {"reputation": 1496, "user_id": 428724, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/4108e9fea69955b06973492abf9590ee?s=128&d=identicon&r=PG", "display_name": "wezten", "link": "https://stackoverflow.com/users/428724/wezten"}, "reply_to_user": {"reputation": 18854, "user_id": 1083572, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/9xSFI.png?s=128&g=1", "display_name": "Kokodoko", "link": "https://stackoverflow.com/users/1083572/kokodoko"}, "edited": false, "score": 0, "creation_date": 1508421248, "post_id": 46810594, "comment_id": 80610606, "body": "@Kokodoko As I mentioned, you can&#39;t extend an interface in a namespace as that simply hides the main <code>JQuery</code> interface. See <a href=\"https://www.typescriptlang.org/docs/handbook/declaration-merging.html\" rel=\"nofollow noreferrer\">Merging Interfaces</a>."}, {"owner": {"reputation": 127411, "user_id": 1906307, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/kRxnP.jpg?s=128&g=1", "display_name": "Louis", "link": "https://stackoverflow.com/users/1906307/louis"}, "edited": false, "score": 0, "creation_date": 1509025410, "post_id": 46810594, "comment_id": 80859167, "body": "Just using modules won&#39;t fix it. If you want to turn a file into a module even though you don&#39;t want to import or export anything, you can just do <code>export {};</code> and your file will be treated as a module by <code>tsc</code>. You can try it, but as I said, that&#39;s not a fix, by itself. All of my TS code is modules, and as soon as jQuery is used by any module, its types are visible in all modules, whether or not the module imports <code>&quot;jquery&quot;</code>. :-/ That&#39;s just the way its definition file is set."}, {"owner": {"reputation": 22898, "user_id": 1915893, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/580b31b0be7173bbc477ca1d6967d87c?s=128&d=identicon&r=PG", "display_name": "Aluan Haddad", "link": "https://stackoverflow.com/users/1915893/aluan-haddad"}, "edited": false, "score": 0, "creation_date": 1509230684, "post_id": 46810594, "comment_id": 80936874, "body": "@wezten are you using a loader/bundler? Are modules even an option?"}, {"owner": {"reputation": 1496, "user_id": 428724, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/4108e9fea69955b06973492abf9590ee?s=128&d=identicon&r=PG", "display_name": "wezten", "link": "https://stackoverflow.com/users/428724/wezten"}, "reply_to_user": {"reputation": 22898, "user_id": 1915893, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/580b31b0be7173bbc477ca1d6967d87c?s=128&d=identicon&r=PG", "display_name": "Aluan Haddad", "link": "https://stackoverflow.com/users/1915893/aluan-haddad"}, "edited": false, "score": 0, "creation_date": 1509346387, "post_id": 46810594, "comment_id": 80965467, "body": "@AluanHaddad I&#39;m not using modules, but I could. Would they help? Louis wrote that they won&#39;t."}, {"owner": {"reputation": 22898, "user_id": 1915893, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/580b31b0be7173bbc477ca1d6967d87c?s=128&d=identicon&r=PG", "display_name": "Aluan Haddad", "link": "https://stackoverflow.com/users/1915893/aluan-haddad"}, "edited": false, "score": 0, "creation_date": 1509358725, "post_id": 46810594, "comment_id": 80971886, "body": "@wezten yes but it&#39;s not worth it just to accomplish this."}, {"owner": {"reputation": 127411, "user_id": 1906307, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/kRxnP.jpg?s=128&g=1", "display_name": "Louis", "link": "https://stackoverflow.com/users/1906307/louis"}, "edited": false, "score": 0, "creation_date": 1509388362, "post_id": 46810594, "comment_id": 80990915, "body": "@wezten My comment was meant to convey that <i>merely</i> turning your files into modules won&#39;t help. There may be a solution that would turn your files into modules <i>and</i> would also do <i>something else</i> in addition to that. (That&#39;s why I wrote &quot;<i>just</i> using modules...&quot; and &quot;...not a fix, <i>by itself</i>.&quot;)"}, {"owner": {"reputation": 1496, "user_id": 428724, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/4108e9fea69955b06973492abf9590ee?s=128&d=identicon&r=PG", "display_name": "wezten", "link": "https://stackoverflow.com/users/428724/wezten"}, "reply_to_user": {"reputation": 22898, "user_id": 1915893, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/580b31b0be7173bbc477ca1d6967d87c?s=128&d=identicon&r=PG", "display_name": "Aluan Haddad", "link": "https://stackoverflow.com/users/1915893/aluan-haddad"}, "edited": false, "score": 0, "creation_date": 1509445253, "post_id": 46810594, "comment_id": 81012234, "body": "@AluanHaddad It would be worth using modules for this - I have multiple plugins and global variables per page. Please write an answer explaining how to use modules to solve my issue, and I&#39;ll give it the bounty."}, {"owner": {"reputation": 22898, "user_id": 1915893, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/580b31b0be7173bbc477ca1d6967d87c?s=128&d=identicon&r=PG", "display_name": "Aluan Haddad", "link": "https://stackoverflow.com/users/1915893/aluan-haddad"}, "edited": false, "score": 0, "creation_date": 1509474129, "post_id": 46810594, "comment_id": 81031287, "body": "@wezten OK but be aware that my answer will be opinionated as you need to adopt a module loader or bundler as part of your tool chain."}, {"owner": {"reputation": 1496, "user_id": 428724, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/4108e9fea69955b06973492abf9590ee?s=128&d=identicon&r=PG", "display_name": "wezten", "link": "https://stackoverflow.com/users/428724/wezten"}, "reply_to_user": {"reputation": 22898, "user_id": 1915893, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/580b31b0be7173bbc477ca1d6967d87c?s=128&d=identicon&r=PG", "display_name": "Aluan Haddad", "link": "https://stackoverflow.com/users/1915893/aluan-haddad"}, "edited": false, "score": 0, "creation_date": 1509563582, "post_id": 46810594, "comment_id": 81071985, "body": "@AluanHaddad Sure."}, {"owner": {"reputation": 22898, "user_id": 1915893, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/580b31b0be7173bbc477ca1d6967d87c?s=128&d=identicon&r=PG", "display_name": "Aluan Haddad", "link": "https://stackoverflow.com/users/1915893/aluan-haddad"}, "edited": false, "score": 0, "creation_date": 1509563788, "post_id": 46810594, "comment_id": 81072094, "body": "Thanks but I realized my idea won&#39;t work. Using modules would let you encapsulate the type level augmentation of jQuery but once any of your files consume the augmentation, the <code>timepicker</code> will appear available in all of them. Actually, while not one-to-one, it does match reality since loading the timepicker plugin mutates <code>$.fn.prototype</code>"}, {"owner": {"reputation": 15, "user_id": 828915, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e0de6a35ceeabe07dd4fa53af52450b1?s=128&d=identicon&r=PG", "display_name": "Mark Dave Ingalla", "link": "https://stackoverflow.com/users/828915/mark-dave-ingalla"}, "edited": false, "score": 0, "creation_date": 1509609620, "post_id": 46810594, "comment_id": 81088421, "body": "Have you look into this? <a href=\"https://stackoverflow.com/questions/33277521/typescript-extend-jquery-under-namespace\" title=\"typescript extend jquery under namespace\">stackoverflow.com/questions/33277521/&hellip;</a>"}, {"owner": {"reputation": 376, "user_id": 5437147, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-BVv968E80E0/AAAAAAAAAAI/AAAAAAAAIoQ/hiY9Pyn3BpI/photo.jpg?sz=128", "display_name": "Mark Cooper", "link": "https://stackoverflow.com/users/5437147/mark-cooper"}, "edited": false, "score": 0, "creation_date": 1510000944, "post_id": 46810594, "comment_id": 81241026, "body": "Do you really need to extend to accomplish this? You&#39;re just trying to import jQuery&#39;s timepicker for use in a particular page, right?"}, {"owner": {"reputation": 1496, "user_id": 428724, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/4108e9fea69955b06973492abf9590ee?s=128&d=identicon&r=PG", "display_name": "wezten", "link": "https://stackoverflow.com/users/428724/wezten"}, "reply_to_user": {"reputation": 376, "user_id": 5437147, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-BVv968E80E0/AAAAAAAAAAI/AAAAAAAAIoQ/hiY9Pyn3BpI/photo.jpg?sz=128", "display_name": "Mark Cooper", "link": "https://stackoverflow.com/users/5437147/mark-cooper"}, "edited": false, "score": 0, "creation_date": 1510121925, "post_id": 46810594, "comment_id": 81294899, "body": "@MarkCooper Right. How can I do that without extending?"}, {"owner": {"reputation": 376, "user_id": 5437147, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-BVv968E80E0/AAAAAAAAAAI/AAAAAAAAIoQ/hiY9Pyn3BpI/photo.jpg?sz=128", "display_name": "Mark Cooper", "link": "https://stackoverflow.com/users/5437147/mark-cooper"}, "edited": false, "score": 0, "creation_date": 1510143326, "post_id": 46810594, "comment_id": 81307715, "body": "@wezten it really depends on your project setup. How are you including jQuery and timepicker on the page you need them? Are they being included via markup or requires?"}, {"owner": {"reputation": 1496, "user_id": 428724, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/4108e9fea69955b06973492abf9590ee?s=128&d=identicon&r=PG", "display_name": "wezten", "link": "https://stackoverflow.com/users/428724/wezten"}, "reply_to_user": {"reputation": 376, "user_id": 5437147, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-BVv968E80E0/AAAAAAAAAAI/AAAAAAAAIoQ/hiY9Pyn3BpI/photo.jpg?sz=128", "display_name": "Mark Cooper", "link": "https://stackoverflow.com/users/5437147/mark-cooper"}, "edited": false, "score": 0, "creation_date": 1510243257, "post_id": 46810594, "comment_id": 81361474, "body": "@MarkCooper That will add <code>test</code> to all files."}, {"owner": {"reputation": 376, "user_id": 5437147, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-BVv968E80E0/AAAAAAAAAAI/AAAAAAAAIoQ/hiY9Pyn3BpI/photo.jpg?sz=128", "display_name": "Mark Cooper", "link": "https://stackoverflow.com/users/5437147/mark-cooper"}, "edited": false, "score": 0, "creation_date": 1510245629, "post_id": 46810594, "comment_id": 81363243, "body": "@wezten what is <code>test</code>? I think more info is needed..."}, {"owner": {"reputation": 1496, "user_id": 428724, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/4108e9fea69955b06973492abf9590ee?s=128&d=identicon&r=PG", "display_name": "wezten", "link": "https://stackoverflow.com/users/428724/wezten"}, "reply_to_user": {"reputation": 376, "user_id": 5437147, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-BVv968E80E0/AAAAAAAAAAI/AAAAAAAAIoQ/hiY9Pyn3BpI/photo.jpg?sz=128", "display_name": "Mark Cooper", "link": "https://stackoverflow.com/users/5437147/mark-cooper"}, "edited": false, "score": 0, "creation_date": 1519928992, "post_id": 46810594, "comment_id": 85117309, "body": "@MarkCooper My previous comment was meant for Mark Dave Ingalla. Sorry about that, I got mixed up with both Marks."}], "answers": [{"comments": [{"owner": {"reputation": 1496, "user_id": 428724, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/4108e9fea69955b06973492abf9590ee?s=128&d=identicon&r=PG", "display_name": "wezten", "link": "https://stackoverflow.com/users/428724/wezten"}, "edited": false, "score": 0, "creation_date": 1510233996, "post_id": 47183628, "comment_id": 81354426, "body": "Then I don&#39;t have intellisense for all <code>JQuery</code> objects."}, {"owner": {"reputation": 376, "user_id": 5437147, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-BVv968E80E0/AAAAAAAAAAI/AAAAAAAAIoQ/hiY9Pyn3BpI/photo.jpg?sz=128", "display_name": "Mark Cooper", "link": "https://stackoverflow.com/users/5437147/mark-cooper"}, "reply_to_user": {"reputation": 1496, "user_id": 428724, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/4108e9fea69955b06973492abf9590ee?s=128&d=identicon&r=PG", "display_name": "wezten", "link": "https://stackoverflow.com/users/428724/wezten"}, "edited": false, "score": 0, "creation_date": 1510234186, "post_id": 47183628, "comment_id": 81354564, "body": "@wezten This will keep your instances clean in terms of the actual runtime. In terms of your IDE, that tends to be an all or nothing thing. The jQuery docs are super clear and easy to use."}], "tags": [], "owner": {"reputation": 376, "user_id": 5437147, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-BVv968E80E0/AAAAAAAAAAI/AAAAAAAAIoQ/hiY9Pyn3BpI/photo.jpg?sz=128", "display_name": "Mark Cooper", "link": "https://stackoverflow.com/users/5437147/mark-cooper"}, "is_accepted": false, "score": 0, "last_activity_date": 1510155045, "creation_date": 1510155045, "answer_id": 47183628, "question_id": 46810594, "link": "https://stackoverflow.com/questions/46810594/how-do-i-extend-for-a-single-file/47183628#47183628", "title": "How do I extend for a single file?", "body": "<p>You can literally include the following in your page markup:</p>\n\n<pre><code>&lt;script src=\"//code.jquery.com/jquery-3.2.1.min.js\"&gt;&lt;/script&gt;\n&lt;script src=\"//cdnjs.cloudflare.com/ajax/libs/timepicker/1.3.5/jquery.timepicker.min.js\"&gt;&lt;/script&gt;\n&lt;link rel=\"stylesheet\" href=\"//cdnjs.cloudflare.com/ajax/libs/timepicker/1.3.5/jquery.timepicker.min.css\"&gt;\n</code></pre>\n\n<p>And then just do whatever with time picker by making use of the following trick to get a handle on jQuery:</p>\n\n<pre><code>declare var jQuery: any;\n\nexport class Whatever {\n    private timePicker = jquery.timePicker\n}\n</code></pre>\n\n<p>It's super hacky, but I think it would work. </p>\n"}, {"tags": [], "owner": {"reputation": 141, "user_id": 976126, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Fuihb.jpg?s=128&g=1", "display_name": "Peter Fernandes", "link": "https://stackoverflow.com/users/976126/peter-fernandes"}, "is_accepted": false, "score": 1, "last_activity_date": 1529974624, "creation_date": 1529974624, "answer_id": 51033535, "question_id": 46810594, "link": "https://stackoverflow.com/questions/46810594/how-do-i-extend-for-a-single-file/51033535#51033535", "title": "How do I extend for a single file?", "body": "<p>You could name the interface something more reflective of what it is\u2014something like:</p>\n\n<pre><code>interface JQueryWithTimePicker extends JQuery {\n    timepicker(options: any): JQuery;\n}\n</code></pre>\n\n<p>Then your one file that needs the timepicker can use the JQuery object downcast to JQueryWithTimePicker.</p>\n\n<p>I use this strategy sometimes when I need to add properties to DOM nodes.  Something like:</p>\n\n<pre><code>interface MyTreeElement extends HTMLElement\n{\n    Nodes: TreeNode[];\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 14845, "user_id": 522877, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/23600761a82cabda402d13f1bf45bfff?s=128&d=identicon&r=PG", "display_name": "Wex", "link": "https://stackoverflow.com/users/522877/wex"}, "is_accepted": false, "score": 0, "last_activity_date": 1550908472, "creation_date": 1550908472, "answer_id": 54839441, "question_id": 46810594, "link": "https://stackoverflow.com/questions/46810594/how-do-i-extend-for-a-single-file/54839441#54839441", "title": "How do I extend for a single file?", "body": "<p><a href=\"https://i.stack.imgur.com/uNooN.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/uNooN.png\" alt=\"enter image description here\"></a></p>\n\n<blockquote>\n  <p><a href=\"https://www.typescriptlang.org/docs/handbook/modules.html\" rel=\"nofollow noreferrer\">https://www.typescriptlang.org/docs/handbook/modules.html</a></p>\n  \n  <p><strong>Import a module for side-effects only</strong>  </p>\n  \n  <p>Though not recommended practice, some modules set up some global state that can be used by other modules. These modules may not have any exports, or the consumer is not interested in any of their exports. To import these modules, use:</p>\n\n<pre><code>import \"./my-module.js\";\n</code></pre>\n</blockquote>\n"}], "owner": {"reputation": 1496, "user_id": 428724, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/4108e9fea69955b06973492abf9590ee?s=128&d=identicon&r=PG", "display_name": "wezten", "link": "https://stackoverflow.com/users/428724/wezten"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 459, "favorite_count": 1, "answer_count": 3, "score": 14, "last_activity_date": 1550908472, "creation_date": 1508330975, "question_id": 46810594, "link": "https://stackoverflow.com/questions/46810594/how-do-i-extend-for-a-single-file", "title": "How do I extend for a single file?", "body": "<p>I have a site with 10 pages, which share a Typescript file, and also each page has its own specific Typescript file. One page has a JQuery plugin, <code>timepicker</code>, so I extend the JQuery object using:</p>\n\n<pre><code>interface JQuery {\n    timepicker(options:any):JQuery;\n}\n</code></pre>\n\n<p>However I don't want any of the other TypeScript files to have timepicker on the <code>JQuery</code> object. How can I extend it just for this file?</p>\n\n<p>It doesn't let me extend <code>JQuery</code> inside a namespace.</p>\n\n<p>Can modules help? I have no need to import or export anything, so I am not sure it is appropriate, or how to use modules.</p>\n"}, {"tags": ["javascript", "typescript", "tslint"], "answers": [{"comments": [{"owner": {"reputation": 470, "user_id": 1189542, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f1045e5665401a1aff3f72d360b7a461?s=128&d=identicon&r=PG", "display_name": "whoisthemachine", "link": "https://stackoverflow.com/users/1189542/whoisthemachine"}, "edited": false, "score": 0, "creation_date": 1546897408, "post_id": 52249258, "comment_id": 94997961, "body": "You can also import the <code>*.js</code> file into your root <code>tslint.config</code> file, as <code>tslint</code> uses NodeJS import resolution behind the scenes... so if you have a <code>dynamiclint.js</code>, it imports just fine in your root <code>tsconfig.json</code>:  <code>{ &quot;extends&quot;: [ &quot;.&#47;dynamiclint&quot;  ] }</code>"}], "tags": [], "owner": {"reputation": 14263, "user_id": 10325032, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UwH88.jpg?s=128&g=1", "display_name": "Karol Majewski", "link": "https://stackoverflow.com/users/10325032/karol-majewski"}, "is_accepted": false, "score": 5, "last_activity_date": 1536533770, "creation_date": 1536533770, "answer_id": 52249258, "question_id": 46810489, "link": "https://stackoverflow.com/questions/46810489/how-to-use-the-same-rules-for-js-and-ts-in-tslint/52249258#52249258", "title": "How to use the same rules for js and ts in TSLint", "body": "<p>Not everyone knows that, but TSLint configuration doesn't have to come in a <code>.json</code> file. You can use the <code>.js</code> extension, and keep whatever logic you like inside.</p>\n\n<p>In this case, we can split TSLint rules into two categories \u2014 universal rules and React-specific ones. Both rulesets will be used for TypeScript files, but only the first ones will be applied to JavaScript.</p>\n\n<p><strong><code>tslint.js</code></strong></p>\n\n<pre><code>const UNIVERSAL_RULES = {\n  \"max-line-length\": [true, 120]\n}\n\nconst REACT_RULES = {\n  \"jsx-space-before-trailing-slash\": true\n}\n\nmodule.exports = {\n  extends: [\n    \"tslint:recommended\"\n  ],\n  jsRules: UNIVERSAL_RULES,\n  rules: {\n    ...UNIVERSAL_RULES,\n    ...REACT_RULES\n  }\n}\n</code></pre>\n\n<p>When running TSLint CLI, it may be required to point to your configuration file explicitly. You can do that by adding <code>--config tslint.js</code> to your <code>tslint</code> command.</p>\n"}], "owner": {"reputation": 1065, "user_id": 2650694, "user_type": "registered", "accept_rate": 57, "profile_image": "https://graph.facebook.com/100004775443761/picture?type=large", "display_name": "Vincas Stonys", "link": "https://stackoverflow.com/users/2650694/vincas-stonys"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1644, "favorite_count": 1, "answer_count": 1, "score": 13, "last_activity_date": 1536533770, "creation_date": 1508330659, "question_id": 46810489, "link": "https://stackoverflow.com/questions/46810489/how-to-use-the-same-rules-for-js-and-ts-in-tslint", "title": "How to use the same rules for js and ts in TSLint", "body": "<p>I want to use the same style in .js files and .ts files. I know there is jsRules property in tslint.json, but I see 2 problems with it: </p>\n\n<ul>\n<li>Copying ant pasting exactly the same rules</li>\n<li>When extending some configurations, e.g. tslint-react, you don't get the rules in jsRules, meaning that you have to go to the source code of the ruleset and copy it manually.</li>\n</ul>\n\n<p>Any other way to have the same code style without having to maintain both eslint and tslint?</p>\n"}, {"tags": ["javascript", "typescript"], "comments": [{"owner": {"reputation": 8360, "user_id": 2103767, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/1d0b20ba537ec3d705cf87f48cd190d7?s=128&d=identicon&r=PG&f=1", "display_name": "bhantol", "link": "https://stackoverflow.com/users/2103767/bhantol"}, "edited": false, "score": 0, "creation_date": 1508330186, "post_id": 46810237, "comment_id": 80567765, "body": "Have tried moving <code>cla.getCommandLineArguments()</code> inside the exported function just before return;"}, {"owner": {"reputation": 866, "user_id": 2505235, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/NOmKt.png?s=128&g=1", "display_name": "Sohrab", "link": "https://stackoverflow.com/users/2505235/sohrab"}, "reply_to_user": {"reputation": 8360, "user_id": 2103767, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/1d0b20ba537ec3d705cf87f48cd190d7?s=128&d=identicon&r=PG&f=1", "display_name": "bhantol", "link": "https://stackoverflow.com/users/2103767/bhantol"}, "edited": false, "score": 0, "creation_date": 1508330463, "post_id": 46810237, "comment_id": 80567922, "body": "I tried it. no difference."}], "answers": [{"tags": [], "owner": {"reputation": 866, "user_id": 2505235, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/NOmKt.png?s=128&g=1", "display_name": "Sohrab", "link": "https://stackoverflow.com/users/2505235/sohrab"}, "is_accepted": true, "score": 0, "last_activity_date": 1508332052, "creation_date": 1508332052, "answer_id": 46810939, "question_id": 46810237, "link": "https://stackoverflow.com/questions/46810237/exported-function-doesnt-work-in-if-statement-in-typescript/46810939#46810939", "title": "Exported function doesn&#39;t work in if statement in TypeScript", "body": "<p>return is not a boolean, it is a string, I don't know why !!!!!!!\nIn if condition we have to use the following:</p>\n\n<pre><code>if (getLocalSecurity() === 'false')....\n</code></pre>\n"}], "owner": {"reputation": 866, "user_id": 2505235, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/NOmKt.png?s=128&g=1", "display_name": "Sohrab", "link": "https://stackoverflow.com/users/2505235/sohrab"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 145, "favorite_count": 0, "accepted_answer_id": 46810939, "answer_count": 1, "score": 2, "last_activity_date": 1508332052, "creation_date": 1508329776, "question_id": 46810237, "link": "https://stackoverflow.com/questions/46810237/exported-function-doesnt-work-in-if-statement-in-typescript", "title": "Exported function doesn&#39;t work in if statement in TypeScript", "body": "<p>I have a function (getLocalSecurity) which gets an argument from command prompt and return boolean, as you see here:</p>\n\n<pre><code>server.ts:\n\n    import { getDataService } from './service';\n    import { getInternalService } from './internal/service';\n    import { ServiceFactory } from './services/serviceFactory';\n\n    import { loggers } from 'winston';\n\n    const LOG = loggers.get('server');\n\n    const mainApp = getDataService();\n\n    const cla = require('command-line-arguments');\n\n    const params = cla.getCommandLineArguments();\n\n    export function getLocalSecurity(): boolean {\n        return params.LOCAL_SECURITY;\n    }\n\n    LOG.info('Starting server on port 9090...');\n</code></pre>\n\n<p>On the other typeScript file I want to use it:</p>\n\n<pre><code>import {getLocalSecurity} from './server';\n\nif (getLocalSecurity()) {\n    console.log('access denied', getLocalSecurity());\n    return Promise.resolve({});\n}\n</code></pre>\n\n<p>when I use the following sentence in command prompt, getLocalSecurity is false in <strong>console.log</strong> but in <strong>if</strong> condition it is true.\nWhat is the problem? How can I fix it?</p>\n\n<pre><code>npm run start  --- LOCAL_SECURITY -false\n</code></pre>\n"}, {"tags": ["angular", "typescript", "firebase", "firebase-realtime-database", "ionic3"], "answers": [{"tags": [], "owner": {"reputation": 1407, "user_id": 4372290, "user_type": "registered", "accept_rate": 51, "profile_image": "https://i.stack.imgur.com/AdbOg.jpg?s=128&g=1", "display_name": "rhysclay", "link": "https://stackoverflow.com/users/4372290/rhysclay"}, "is_accepted": true, "score": 1, "last_activity_date": 1508387564, "last_edit_date": 1508387564, "creation_date": 1508377639, "answer_id": 46821706, "question_id": 46810151, "link": "https://stackoverflow.com/questions/46810151/on-child-added-not-returning-anything/46821706#46821706", "title": "on child added not returning anything", "body": "<p>So as it turns out I was referencing <code>formsById</code> not <code>formsByID</code> - its now working correctly.</p>\n\n<pre><code>getFormsUsersRef(formId): firebase.database.Reference {\n    let formsRef = firebase.database().ref(\"formsByID\");\n    return formsRef.child(formId).child(\"usersList\");    \n  } \n</code></pre>\n"}], "owner": {"reputation": 1407, "user_id": 4372290, "user_type": "registered", "accept_rate": 51, "profile_image": "https://i.stack.imgur.com/AdbOg.jpg?s=128&g=1", "display_name": "rhysclay", "link": "https://stackoverflow.com/users/4372290/rhysclay"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 58, "favorite_count": 0, "accepted_answer_id": 46821706, "answer_count": 1, "score": 1, "last_activity_date": 1508387564, "creation_date": 1508329513, "last_edit_date": 1508367676, "question_id": 46810151, "link": "https://stackoverflow.com/questions/46810151/on-child-added-not-returning-anything", "title": "on child added not returning anything", "body": "<p>I have a database that looks like this:</p>\n\n<p><a href=\"https://i.stack.imgur.com/duWdk.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/duWdk.png\" alt=\"enter image description here\"></a></p>\n\n<pre><code>  /*\n  formsById\n    formId\n      usersList\n        userId\n  */\n</code></pre>\n\n<p>What I want to do is return a reference of all the users (usersList) associated with a specific formId. Here is my method in my provider:</p>\n\n<pre><code>  // this returns a list of users (ref) of the current form\n  getFormsUsersRef(formId): firebase.database.Reference {\n    let formsRef = firebase.database().ref(\"formsById\");\n    return formsRef.child(formId).child(\"usersList\");    \n  }\n</code></pre>\n\n<p>And here is the code in my component:</p>\n\n<pre><code>  // list the forms\n  ionViewDidLoad() {\n    this.sharingProvider.getFormsUsersRef(this.formId).on('child_added', fuSnap =&gt; {\n      // not returning anything\n      console.log(fuSnap);\n    });\n  }\n</code></pre>\n\n<p>If I console log what the getFormsUsersRef is returning it is correct (it is a database reference), however my .on('child_added') is not returning anything at all.</p>\n\n<p>I use this same methodology on a different dataset in this app and it works perfect, the only difference is that my userId's are stored as firebase uid values and not push keys?</p>\n\n<p>Any help appreciated I have been stuck on this for hours now. </p>\n"}, {"tags": ["typescript"], "owner": {"reputation": 1036, "user_id": 1470845, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f95e2292aae5808b111707fad2f75125?s=128&d=identicon&r=PG", "display_name": "tcdona", "link": "https://stackoverflow.com/users/1470845/tcdona"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1116, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1508329138, "creation_date": 1508329138, "question_id": 46810031, "link": "https://stackoverflow.com/questions/46810031/observableany-property-isscalar-is-missing-in-type-nativefs", "title": "&#39;Observable&lt;any&gt;&#39;. Property &#39;_isScalar&#39; is missing in type &#39;NativeFs&#39;", "body": "<p>vscode hover 'exists' can show the error:</p>\n\n<pre><code>[ts]\nArgument of type 'NativeFs' is not assignable to parameter of type 'Observable&lt;any&gt;'.\n  Property '_isScalar' is missing in type 'NativeFs'.\n</code></pre>\n\n<p>this is the source code:</p>\n\n<pre><code>interface NativeFs {\n  &lt;T&gt;(...args: any[]): Rx.Observable&lt;T&gt;;\n}\n\nlet readFile: NativeFs = Rx.Observable.bindNodeCallback(fs.readFile);\nlet exists: NativeFs = Rx.Observable.bindNodeCallback(fs.exists);\n\nhierarchyPath$\n  .takeUntil(exists) // &lt;- \"exists\" error\n</code></pre>\n\n<p>I've got in the console:</p>\n\n<pre><code>src/entity/index.ts(27,14): error TS2345: Argument of type 'NativeFs' is not assignable to parameter of type 'Observable&lt;any&gt;'.\n  Property '_isScalar' is missing in type 'NativeFs'.\n</code></pre>\n\n<p>tsc version info:</p>\n\n<pre><code>tsc -v\nVersion 2.5.3\n</code></pre>\n"}, {"tags": ["typescript"], "answers": [{"tags": [], "owner": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "is_accepted": false, "score": 2, "last_activity_date": 1508335661, "creation_date": 1508335661, "answer_id": 46812163, "question_id": 46809986, "link": "https://stackoverflow.com/questions/46809986/typescript-functional-interface-with-constructor/46812163#46812163", "title": "TypeScript: functional interface with constructor", "body": "<p>You can't use an <a href=\"https://www.ecma-international.org/ecma-262/6.0/#sec-ecmascript-function-objects-call-thisargument-argumentslist\" rel=\"nofollow noreferrer\">ES2015</a> or <a href=\"https://tc39.github.io/ecma262/#sec-ecmascript-function-objects-call-thisargument-argumentslist\" rel=\"nofollow noreferrer\">later</a> <code>class</code> to let you call a constructor without the <code>new</code> keyword.  In Step 2 of Section 9.2.1 of the linked documents, calling a class constructor without the <code>new</code> keyword should result in a <code>TypeError</code> being thrown.  (If you target ES5 in TypeScript you'll get something that works at runtime, but if you target ES2015 or above you will get runtime errors.  It's best not to do this.)  So to implement your interface you will need to use a pre-ES2015 constructor function instead.</p>\n\n<hr>\n\n<p>By the way, the <code>new(arg: number)</code> signature needs a return type.  For example:</p>\n\n<pre><code>interface A {\n  (): string;\n  new(arg: number): AInstance; // return something\n  GetValue(): number;\n}\n// define the instance type\ninterface AInstance { \n  instanceMethod(): void;\n}\n</code></pre>\n\n<hr>\n\n<p>Here's one way to implement that.  First, make a <code>class</code> for <code>AInstance</code>:</p>\n\n<pre><code>class _A implements AInstance {\n  constructor(arg: number) { } // implement\n  instanceMethod() { } // implement\n}\n</code></pre>\n\n<p>Then, make a function that can be called with or without <code>new</code>:</p>\n\n<pre><code>const AFunctionLike =\n  function(arg?: number): AInstance | string {\n    if (typeof arg !== \"undefined\") {\n      return new _A(arg);\n    }\n    return \"string\";\n  } as { new(arg: number): AInstance, (): string };\n</code></pre>\n\n<p>I've decided that if you call <code>AFunctionLike</code> with an argument then you will get an <code>AInstance</code>, otherwise you will get a <code>string</code>.  You can also check explicitly for whether <code>new</code> was used, via <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/new.target\" rel=\"nofollow noreferrer\">new.target</a>, if your runtime has support for it.</p>\n\n<p>Also note that I had to assert that <code>AFunctionLike</code> is newable (with the <code>as</code> clause on the last line) since there's currently no other way to tell TypeScript that a standalone function can be called with <code>new</code>.</p>\n\n<p>Now we're almost done.  We can declare a value of type <code>A</code> as follows:</p>\n\n<pre><code>const A: A = Object.assign(\n  AFunctionLike,\n  {\n    GetValue() {\n      return 1;\n    }\n  }\n);\n</code></pre>\n\n<p>The value <code>A</code> has been formed by merging <code>AFunctionLike</code> with an object that implements <code>GetValue()</code>.  You can use <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/assign\" rel=\"nofollow noreferrer\"><code>Object.assign</code></a> or <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Spread_operator#Spread_in_object_literals\" rel=\"nofollow noreferrer\">spread syntax</a> to do this merging.</p>\n\n<hr>\n\n<p>That's it.  You can verify that this works at runtime <a href=\"http://www.typescriptlang.org/play//#src=interface%20A%20%7B%0D%0A%20%20%28%29%3A%20string%3B%0D%0A%20%20new%28arg%3A%20number%29%3A%20AInstance%3B%0D%0A%20%20GetValue%28%29%3A%20number%3B%0D%0A%7D%0D%0Ainterface%20AInstance%20%7B%0D%0A%20%20instanceMethod%28%29%3A%20void%3B%0D%0A%7D%0D%0A%0D%0Aclass%20_A%20implements%20AInstance%20%7B%0D%0A%20%20constructor%28arg%3A%20number%29%20%7B%0D%0A%0D%0A%20%20%7D%0D%0A%20%20instanceMethod%28%29%20%7B%0D%0A%0D%0A%20%20%7D%0D%0A%7D%0D%0A%0D%0Aconst%20AFunctionLike%20%3D%0D%0A%20%20function%28arg%3F%3A%20number%29%3A%20AInstance%20%7C%20string%20%7B%0D%0A%20%20%20%20if%20%28typeof%20arg%20%21%3D%3D%20%22undefined%22%29%20%7B%0D%0A%20%20%20%20%20%20return%20new%20_A%28arg%29%3B%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20return%20%22string%22%3B%0D%0A%20%20%7D%20as%20%7B%20new%28arg%3A%20number%29%3A%20AInstance%2C%20%28%29%3A%20string%20%7D%3B%0D%0A%0D%0Aconst%20A%3A%20A%20%3D%20Object.assign%28%0D%0A%20%20AFunctionLike%2C%0D%0A%20%20%7B%0D%0A%20%20%20%20GetValue%28%29%20%7B%0D%0A%20%20%20%20%20%20return%201%3B%0D%0A%20%20%20%20%7D%0D%0A%20%20%7D%0D%0A%29%3B%0D%0A\" rel=\"nofollow noreferrer\">on the TypeScript Playground</a>.  Good luck!</p>\n"}], "owner": {"reputation": 521, "user_id": 5860619, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/ba6577881df7b0cd6d8896dcfae228d5?s=128&d=identicon&r=PG&f=1", "display_name": "Andrey Godyaev", "link": "https://stackoverflow.com/users/5860619/andrey-godyaev"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 179, "favorite_count": 1, "answer_count": 1, "score": 0, "last_activity_date": 1508335661, "creation_date": 1508329020, "last_edit_date": 1508334990, "question_id": 46809986, "link": "https://stackoverflow.com/questions/46809986/typescript-functional-interface-with-constructor", "title": "TypeScript: functional interface with constructor", "body": "<p>I want a class that behaves like js Date function:</p>\n\n<ol>\n<li>when called via <code>new</code> it creates an instance of class.</li>\n<li>when called as a function it does some static stuff.</li>\n</ol>\n\n<p>How do i implement this interface?</p>\n\n<pre><code>interface A {\n    (): string;\n    new(arg: number);\n    GetValue(): number;\n}\n</code></pre>\n\n<p>current solution that doesn't compile but produces correct js code in playground:</p>\n\n<pre><code>class B implements A {\n\n    private Value: number;\n\n    constructor(arg: number) {\n        if (this.constructor == B) {\n            this.Value = arg;\n        } else {\n            return \"42\";\n        } \n    }\n\n    GetValue(): number {\n        return this.Value;\n    }\n} \n</code></pre>\n"}, {"tags": ["angularjs", "typescript", "angularjs-components"], "comments": [{"owner": {"reputation": 4494, "user_id": 4222181, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/p0UIX.jpg?s=128&g=1", "display_name": "Stanislav Kvitash", "link": "https://stackoverflow.com/users/4222181/stanislav-kvitash"}, "edited": false, "score": 1, "creation_date": 1508328384, "post_id": 46809641, "comment_id": 80566632, "body": "Probably instead of overwriting <code>validityCheck</code> in the controller you can return something like this <code>return !angular.isFunction(this.validityCheck) || this.validityCheck({ selection: value });</code> in your <code>validate</code> method. Use <code>&amp;?</code> to make the binding optional."}], "answers": [{"tags": [], "owner": {"reputation": 5941, "user_id": 1520278, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/c7daf889ee792d6d9c7460e244ae3b0c?s=128&d=identicon&r=PG&f=1", "display_name": "AdityaParab", "link": "https://stackoverflow.com/users/1520278/adityaparab"}, "is_accepted": false, "score": -1, "last_activity_date": 1508328254, "creation_date": 1508328254, "answer_id": 46809766, "question_id": 46809641, "link": "https://stackoverflow.com/questions/46809641/how-to-make-expression-binding-with-optional-initialization/46809766#46809766", "title": "How to make expression &#39;&amp;&#39;-binding with optional initialization", "body": "<p>As the term <code>binding</code> suggest, it has to be passed in from parent component.</p>\n\n<pre><code>&lt;date-picker-input-component\n  format=\"some string\"\n  mode=\"some other string\"\n  validity-check=\"someFunctionFromParentController\"&gt;\n&lt;/date-picker-input-component&gt;\n</code></pre>\n\n<p>And remove this part from your controller</p>\n\n<pre><code>validityCheck: Function = (args) =&gt; { return true; }; // &lt;- doesn't work\n</code></pre>\n\n<p>Assumption is <code>someFunctionFromParentController</code> is defined on your parent controller</p>\n"}, {"comments": [{"owner": {"reputation": 7011, "user_id": 444335, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/e76738ede26512c00dbd07be9ae899ca?s=128&d=identicon&r=PG", "display_name": "Buh Buh", "link": "https://stackoverflow.com/users/444335/buh-buh"}, "edited": false, "score": 0, "creation_date": 1508329373, "post_id": 46809792, "comment_id": 80567282, "body": "Thanks,  was it the first part or the second part which fixed it for you?"}, {"owner": {"reputation": 1808, "user_id": 5173530, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/49278.jpg?s=128&g=1", "display_name": "Roby Rodriguez", "link": "https://stackoverflow.com/users/5173530/roby-rodriguez"}, "edited": false, "score": 0, "creation_date": 1508329484, "post_id": 46809792, "comment_id": 80567363, "body": "First part nailed it, console.log spits out <code>\u0192 (){return!0}</code>. Thanks!"}, {"owner": {"reputation": 7011, "user_id": 444335, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/e76738ede26512c00dbd07be9ae899ca?s=128&d=identicon&r=PG", "display_name": "Buh Buh", "link": "https://stackoverflow.com/users/444335/buh-buh"}, "reply_to_user": {"reputation": 1808, "user_id": 5173530, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/49278.jpg?s=128&g=1", "display_name": "Roby Rodriguez", "link": "https://stackoverflow.com/users/5173530/roby-rodriguez"}, "edited": false, "score": 0, "creation_date": 1508330820, "post_id": 46809792, "comment_id": 80568126, "body": "Cool.  Have you tried passing in a value for validityCheck aswell?  I would be a little surprised if that worked."}, {"owner": {"reputation": 1808, "user_id": 5173530, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/49278.jpg?s=128&g=1", "display_name": "Roby Rodriguez", "link": "https://stackoverflow.com/users/5173530/roby-rodriguez"}, "edited": false, "score": 0, "creation_date": 1508331417, "post_id": 46809792, "comment_id": 80568537, "body": "Yeah, that works just fine. It&#39;s how the datepicker component &#39;talks&#39; to its rangepicker parent component. React-style I guess."}], "tags": [], "owner": {"reputation": 7011, "user_id": 444335, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/e76738ede26512c00dbd07be9ae899ca?s=128&d=identicon&r=PG", "display_name": "Buh Buh", "link": "https://stackoverflow.com/users/444335/buh-buh"}, "is_accepted": true, "score": 3, "last_activity_date": 1508330556, "last_edit_date": 1508330556, "creation_date": 1508328345, "answer_id": 46809792, "question_id": 46809641, "link": "https://stackoverflow.com/questions/46809641/how-to-make-expression-binding-with-optional-initialization/46809792#46809792", "title": "How to make expression &#39;&amp;&#39;-binding with optional initialization", "body": "<p>Try making your binding optional:</p>\n\n<pre><code>bindings: {\n    validityCheck: '&amp;?'\n},\n</code></pre>\n"}], "owner": {"reputation": 1808, "user_id": 5173530, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/49278.jpg?s=128&g=1", "display_name": "Roby Rodriguez", "link": "https://stackoverflow.com/users/5173530/roby-rodriguez"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 189, "favorite_count": 0, "accepted_answer_id": 46809792, "answer_count": 2, "score": 0, "last_activity_date": 1508347981, "creation_date": 1508327838, "last_edit_date": 1508347981, "question_id": 46809641, "link": "https://stackoverflow.com/questions/46809641/how-to-make-expression-binding-with-optional-initialization", "title": "How to make expression &#39;&amp;&#39;-binding with optional initialization", "body": "<p>I want to initialize a callback &amp;-property binding to a function that returns true (if no callback was passed). Something like this:</p>\n\n<pre><code>export const DatepickerInputComponent = {\n    bindings: {\n        validityCheck: '&amp;',\n    },\n    templateUrl: './datepicker-input.component.html',\n    controller: class DatepickerInputController implements ng.IController {\n        validityCheck: Function = (args) =&gt; true; // &lt;- doesn't work\n        validate(value: Date): void {\n            // some validations\n            return this.validityCheck({ selection: value });\n        }\n    },\n}\n</code></pre>\n\n<p>When calling validate() from a component with no <code>validityCheck</code> property defined, it will return undefined. Any ideas on how to make it work?</p>\n"}, {"tags": ["javascript", "reactjs", "typescript", "react-redux"], "answers": [{"tags": [], "owner": {"reputation": 797, "user_id": 2536697, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8b5b76b2a27d428d7d973348c581c49?s=128&d=identicon&r=PG", "display_name": "Lars Graubner", "link": "https://stackoverflow.com/users/2536697/lars-graubner"}, "is_accepted": false, "score": 0, "last_activity_date": 1508330508, "creation_date": 1508330508, "answer_id": 46810442, "question_id": 46809209, "link": "https://stackoverflow.com/questions/46809209/set-window-scroll-position-to-compensate-for-elements-being-removed-from-webpage/46810442#46810442", "title": "Set window scroll position to compensate for elements being removed from webpage?", "body": "<p>You can use plain JavaScript to set the window position:</p>\n\n<pre><code>window.scollTo(offsetX, offsetY);\n</code></pre>\n\n<p>Try to calculate the element height * element count and remove it from the current scroll offset.</p>\n\n<p>You should also check out <a href=\"https://github.com/bvaughn/react-virtualized\" rel=\"nofollow noreferrer\">react-virtualized</a>. This is ideal for a use case like yours to enable performant lists with a lot of items.</p>\n"}], "owner": {"reputation": 17678, "user_id": 79891, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/l3JE3.jpg?s=128&g=1", "display_name": "meds", "link": "https://stackoverflow.com/users/79891/meds"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 227, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1508330508, "creation_date": 1508326433, "question_id": 46809209, "link": "https://stackoverflow.com/questions/46809209/set-window-scroll-position-to-compensate-for-elements-being-removed-from-webpage", "title": "Set window scroll position to compensate for elements being removed from webpage?", "body": "<p>I have a collection of react components that are rendered in react-stack-grid. As the user scrolls down the collection is populated using react-infinite-scroll-component, to limit the number of items in the collection I remove items from the list of components being rendered but when I do this the scroll position needs to be updated and move to compensate for the new elements.</p>\n\n<p>Like so:</p>\n\n<pre><code>if (currentMediaItems.length &gt; 40) {\n    currentMediaItems = currentMediaItems.splice(currentMediaItems.length - 40);\n}\n\nreturn &lt;div style={style} &gt;\n    &lt;InfiniteScroll\n        next={this.fetchData.bind(this)}\n        hasMore={true}&gt;\n        &lt;StackGrid monitorImagesLoaded={true} gridRef={grid =&gt; this.grid = grid} columnWidth={this.props.columnwidth}&gt;\n            {currentMediaItems}\n        &lt;/StackGrid&gt;\n    &lt;/InfiniteScroll&gt;\n&lt;/div&gt;;\n</code></pre>\n\n<p>When InfiniteScroll hits 'next' more items are loaded and the scrollbar position is adjusted to compensate so the window remains fixed in its current position.</p>\n\n<p>However if I have more than 40 items to render and decide to remove all elements except the last 40 the scrollbar is not offset to keep the window fixed in the same relative position and instead stays at the bottom of the window.</p>\n\n<p>How can I calculate the correct y scroll position based on the number of removed elements?</p>\n"}, {"tags": ["html", "angular", "typescript", "ionic-framework", "ionic3"], "answers": [{"comments": [{"owner": {"reputation": 31, "user_id": 3432551, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/3791af8a0a27c53d5147bf990d43166d?s=128&d=identicon&r=PG&f=1", "display_name": "avinash", "link": "https://stackoverflow.com/users/3432551/avinash"}, "edited": false, "score": 0, "creation_date": 1508839511, "post_id": 46809687, "comment_id": 80761913, "body": "Upload functionality is working.. Problem is when click on Choose file button, file selection box is not appearing."}], "tags": [], "owner": {"reputation": 50111, "user_id": 1077309, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/yghA4.jpg?s=128&g=1", "display_name": "Sampath", "link": "https://stackoverflow.com/users/1077309/sampath"}, "is_accepted": false, "score": 0, "last_activity_date": 1508327991, "creation_date": 1508327991, "answer_id": 46809687, "question_id": 46809180, "link": "https://stackoverflow.com/questions/46809180/ionic-browse-file-attachment-not-working/46809687#46809687", "title": "Ionic browse file attachment not working", "body": "<p>Since you're using Ionic to create a web app, you cannot use <a href=\"http://ionicframework.com/docs/native/file-transfer/\" rel=\"nofollow noreferrer\">native file transfer plugin</a>.But you can easily do it using <a href=\"https://github.com/valor-software/ng2-file-upload\" rel=\"nofollow noreferrer\"><strong>ng2-file-upload</strong></a> <code>directive</code>.See the documentation for more details.</p>\n\n<pre><code>npm i ng2-file-upload --save\n</code></pre>\n\n<p><a href=\"https://valor-software.com/ng2-file-upload/\" rel=\"nofollow noreferrer\"><strong>Demo</strong></a></p>\n"}], "owner": {"reputation": 31, "user_id": 3432551, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/3791af8a0a27c53d5147bf990d43166d?s=128&d=identicon&r=PG&f=1", "display_name": "avinash", "link": "https://stackoverflow.com/users/3432551/avinash"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 544, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1508327991, "creation_date": 1508326324, "last_edit_date": 1508327721, "question_id": 46809180, "link": "https://stackoverflow.com/questions/46809180/ionic-browse-file-attachment-not-working", "title": "Ionic browse file attachment not working", "body": "<p>I am using Ionic to develop webapp, so it will work through the browser. There is one registration form with file attachment. Input type file is used to select file.\nWhen user tries to select file, sometimes select file dialog works and sometimes it does not work (file selection dialogue not open). Please someone help me.</p>\n"}, {"tags": ["javascript", "typescript", "asynchronous"], "comments": [{"owner": {"reputation": 181899, "user_id": 949476, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8feb0675d5ebf4c11ed13885347cc970?s=128&d=identicon&r=PG", "display_name": "dfsq", "link": "https://stackoverflow.com/users/949476/dfsq"}, "edited": false, "score": 0, "creation_date": 1508325165, "post_id": 46808708, "comment_id": 80564588, "body": "First of all, it should be <code>return await someAsyncFunctionOnObj(obj);</code> But you really don&#39;t need async/await if you use <code>Promise.all</code>. Or just <code>await Promise.all(arrayOfObjects.map(someAsyncFunctionOnObj));</code>"}, {"owner": {"reputation": 867, "user_id": 3630378, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1f3eed1f0c2655db0104b5c019730269?s=128&d=identicon&r=PG&f=1", "display_name": "vrachlin", "link": "https://stackoverflow.com/users/3630378/vrachlin"}, "reply_to_user": {"reputation": 181899, "user_id": 949476, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8feb0675d5ebf4c11ed13885347cc970?s=128&d=identicon&r=PG", "display_name": "dfsq", "link": "https://stackoverflow.com/users/949476/dfsq"}, "edited": false, "score": 0, "creation_date": 1508325255, "post_id": 46808708, "comment_id": 80564654, "body": "@dfsq yeah i was just showing the basic concept."}, {"owner": {"reputation": 10520, "user_id": 1901272, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/jYdbs.jpg?s=128&g=1", "display_name": "Rob", "link": "https://stackoverflow.com/users/1901272/rob"}, "edited": false, "score": 0, "creation_date": 1508325387, "post_id": 46808708, "comment_id": 80564734, "body": "Why do you use Promise.all at all when you rather want to chain them?"}, {"owner": {"reputation": 867, "user_id": 3630378, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1f3eed1f0c2655db0104b5c019730269?s=128&d=identicon&r=PG&f=1", "display_name": "vrachlin", "link": "https://stackoverflow.com/users/3630378/vrachlin"}, "reply_to_user": {"reputation": 10520, "user_id": 1901272, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/jYdbs.jpg?s=128&g=1", "display_name": "Rob", "link": "https://stackoverflow.com/users/1901272/rob"}, "edited": false, "score": 0, "creation_date": 1508325805, "post_id": 46808708, "comment_id": 80565010, "body": "@Robert that was exactly my question, what is the best way to chain them."}, {"owner": {"reputation": 5656, "user_id": 1195949, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/2d00f9003820a977dc941c56df6f2f0b?s=128&d=identicon&r=PG", "display_name": "tocallaghan", "link": "https://stackoverflow.com/users/1195949/tocallaghan"}, "edited": false, "score": 0, "creation_date": 1508326350, "post_id": 46808708, "comment_id": 80565338, "body": "You probably want the example from <a href=\"https://stackoverflow.com/a/20105079/1195949\">here</a>, just replace RSVP with Promise in the first code example. It explains it pretty well too"}], "answers": [{"comments": [{"owner": {"reputation": 867, "user_id": 3630378, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1f3eed1f0c2655db0104b5c019730269?s=128&d=identicon&r=PG&f=1", "display_name": "vrachlin", "link": "https://stackoverflow.com/users/3630378/vrachlin"}, "edited": false, "score": 0, "creation_date": 1508325866, "post_id": 46808986, "comment_id": 80565055, "body": "Could you explain the second line?"}, {"owner": {"reputation": 12469, "user_id": 7446273, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/49f80d5a526d262da36c33c3b4095a83?s=128&d=identicon&r=PG&f=1", "display_name": "Faly", "link": "https://stackoverflow.com/users/7446273/faly"}, "reply_to_user": {"reputation": 867, "user_id": 3630378, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1f3eed1f0c2655db0104b5c019730269?s=128&d=identicon&r=PG&f=1", "display_name": "vrachlin", "link": "https://stackoverflow.com/users/3630378/vrachlin"}, "edited": false, "score": 0, "creation_date": 1508326238, "post_id": 46808986, "comment_id": 80565261, "body": "It takes all the promises in var promises and waits for them, one after the other, by the use of array reduce (array reduce use m as memory of the previous promise so we can do .then on m and return the next promise o, o becoming the new value of m and so on)"}], "tags": [], "owner": {"reputation": 12469, "user_id": 7446273, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/49f80d5a526d262da36c33c3b4095a83?s=128&d=identicon&r=PG&f=1", "display_name": "Faly", "link": "https://stackoverflow.com/users/7446273/faly"}, "is_accepted": false, "score": 1, "last_activity_date": 1508326258, "last_edit_date": 1508326258, "creation_date": 1508325611, "answer_id": 46808986, "question_id": 46808708, "link": "https://stackoverflow.com/questions/46808708/waiting-for-async-function-to-complete-inside-map/46808986#46808986", "title": "Waiting for async function to complete inside map", "body": "<p>If you want to wait for someAsyncFunctionOnObj(obj1) to finish before doing the same but with the next object (obj2, obj3, ...), I think you have to chain your promises:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>var promises = arrayOfObjects.map(obj =&gt; someAsyncFunctionOnObj(obj));\r\nawait promises.reduce((m, o) =&gt; m.then(() =&gt; o), Promise.resolve());</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": [], "owner": {"reputation": 5656, "user_id": 1195949, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/2d00f9003820a977dc941c56df6f2f0b?s=128&d=identicon&r=PG", "display_name": "tocallaghan", "link": "https://stackoverflow.com/users/1195949/tocallaghan"}, "is_accepted": false, "score": 0, "last_activity_date": 1508327373, "creation_date": 1508327373, "answer_id": 46809475, "question_id": 46808708, "link": "https://stackoverflow.com/questions/46808708/waiting-for-async-function-to-complete-inside-map/46809475#46809475", "title": "Waiting for async function to complete inside map", "body": "<pre><code>(async function() {\n  async function executeSequentially() {\n    const tasks = [1,2]\n    const total = []\n    for (const fn of tasks) {\n      const res = await fetch(endpoint);\n      const res2 = await res.json();\n      console.log(res2[0]);\n      total.push(...res2);\n    }\n\n    return total;\n  }\n\n  const res = await executeSequentially();\n  console.log(res);\n})();\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 867, "user_id": 3630378, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1f3eed1f0c2655db0104b5c019730269?s=128&d=identicon&r=PG&f=1", "display_name": "vrachlin", "link": "https://stackoverflow.com/users/3630378/vrachlin"}, "edited": false, "score": 0, "creation_date": 1508351034, "post_id": 46810902, "comment_id": 80580853, "body": "Thank you for that explanation, this better answers my question!"}], "tags": [], "owner": {"reputation": 5194, "user_id": 3050293, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1659b1c30c4aa503256df82a1ba1ca67?s=128&d=identicon&r=PG", "display_name": "Wing", "link": "https://stackoverflow.com/users/3050293/wing"}, "is_accepted": true, "score": 3, "last_activity_date": 1520616220, "last_edit_date": 1520616220, "creation_date": 1508331934, "answer_id": 46810902, "question_id": 46808708, "link": "https://stackoverflow.com/questions/46808708/waiting-for-async-function-to-complete-inside-map/46810902#46810902", "title": "Waiting for async function to complete inside map", "body": "<h1>Solution</h1>\n\n\n\n<pre><code>async function queueAsyncFns(fns) {\n  const values = [];\n\n  await fns.reduce((previous, current, index, array) =&gt; {\n    const thenable = index === 1 ? previous() : previous;\n    return thenable.then(value =&gt; {\n      values.push(value);\n      return index === array.length - 1 ? current().then(value =&gt; values.push(value)) : current();\n    });\n  });\n\n  return values;\n}\n</code></pre>\n\n<p><strong>Example</strong></p>\n\n<pre class=\"lang-js prettyprint-override\"><code>const anArray = [1, 2, 3];\nconst doSomething = async (id) =&gt; await fetch(`https://jsonplaceholder.typicode.com/users/${id}`).then(res =&gt; res.json());\n\nqueueAsyncFns(anArray.map((val) =&gt; () =&gt; doSomething(val))).then((val) =&gt; console.log(val));\n</code></pre>\n\n<p>The above function should solve your issue. Here's a brief overview of what it does:</p>\n\n<p><code>queueAsyncFns</code> accepts an array of functions that returns the result of calling an async function. This array is reduced by calling each function and returning the Promise to the next call of the reducer. With each iteration the value of the async call is accumulated into an array called <code>values</code> which is returned after all items have been iterated through.</p>\n\n<p>The accurate behaviour of the function can be determined visually by looking at the waterfall graph when running the example. You can see each network call is only made after the previous one has been completed.</p>\n\n<p><a href=\"https://i.stack.imgur.com/iNpH5.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/iNpH5.png\" alt=\"queueAsyncFns waterfall graph\"></a></p>\n"}], "owner": {"reputation": 867, "user_id": 3630378, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1f3eed1f0c2655db0104b5c019730269?s=128&d=identicon&r=PG&f=1", "display_name": "vrachlin", "link": "https://stackoverflow.com/users/3630378/vrachlin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2285, "favorite_count": 0, "accepted_answer_id": 46810902, "answer_count": 3, "score": 4, "last_activity_date": 1520616220, "creation_date": 1508324634, "last_edit_date": 1508325268, "question_id": 46808708, "link": "https://stackoverflow.com/questions/46808708/waiting-for-async-function-to-complete-inside-map", "title": "Waiting for async function to complete inside map", "body": "<p>consider the following simple code code:</p>\n\n<pre><code>await Promise.all(arrayOfObjects.map(async (obj) =&gt; {\n    return await someAsyncFunctionOnObj(obj);\n}));\n</code></pre>\n\n<p>My problem is, <strong>arrayOfObjects</strong>, and <strong>someAsyncFunctionOnObj</strong>, take too much memory while executing, because the loop doesn't wait for the execution to finish, instead it calls someAsyncFunctionOnObj(obj), on each one, and waits till <strong>all are resolved</strong>, not necessary in order, this causes OOM crash.\nIv'e tried using a recursive async function, which does solve the order problem, but still causes OOM crash.</p>\n\n<p>The flow I want to achieve is a synchronous loop, meaning</p>\n\n<pre><code>await someAsyncFunctionOnObj(obj1); // wait for it to finish\nawait someAsyncFunctionOnObj(obj2); // wait for it to finish\n...\n</code></pre>\n\n<p>Any suggestions on how to correctly implement it?</p>\n"}, {"tags": ["angular", "typescript"], "comments": [{"owner": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 0, "creation_date": 1508324255, "post_id": 46808560, "comment_id": 80564074, "body": "That&#39;s correct, you&#39;re getting the subscriber. That&#39;s what <code>Observable.subscribe</code> returns, and that&#39;s what you&#39;re returning. Probably what you want is to <code>return this.http.get(...)</code>, and move the subscription into the component. Alternatively, you can expose the fetched data via another observable, as I&#39;ve written about here: <a href=\"https://blog.jonrshar.pe/2017/Apr/09/async-angular-data.html\" rel=\"nofollow noreferrer\">blog.jonrshar.pe/2017/Apr/09/async-angular-data.html</a>"}], "answers": [{"tags": [], "owner": {"reputation": 66610, "user_id": 2411320, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/5kF5N.jpg?s=128&g=1", "display_name": "gsamaras", "link": "https://stackoverflow.com/users/2411320/gsamaras"}, "is_accepted": false, "score": 1, "last_activity_date": 1508324544, "creation_date": 1508324544, "answer_id": 46808680, "question_id": 46808560, "link": "https://stackoverflow.com/questions/46808560/how-to-return-httpclient-subscribe-data-to-a-component/46808680#46808680", "title": "How to return HttpClient subscribe data to a component", "body": "<p>I would do this in your .ts:\n    private data$: Observable;</p>\n\n<pre><code>ngOnInit(): void {\n    this.data$ = this.devRequestService.getListOfAgencies();\n}\n</code></pre>\n\n<p>and in your .html template, this:</p>\n\n<pre><code>&lt;div&gt; {{ data$ | async }} &lt;/div&gt;\n</code></pre>\n\n<p>in order to get the value.</p>\n"}, {"tags": [], "owner": {"reputation": 1414, "user_id": 2279909, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/29628d319066fe38cb7ccd72380ed323?s=128&d=identicon&r=PG", "display_name": "Preethi", "link": "https://stackoverflow.com/users/2279909/preethi"}, "is_accepted": true, "score": 5, "last_activity_date": 1508324824, "creation_date": 1508324824, "answer_id": 46808772, "question_id": 46808560, "link": "https://stackoverflow.com/questions/46808560/how-to-return-httpclient-subscribe-data-to-a-component/46808772#46808772", "title": "How to return HttpClient subscribe data to a component", "body": "<p>You should subscribe for the data and assign it to a variable in component like below:</p>\n\n<pre><code>ngOnInit(): void {\n   this.devRequestService.getListOfAgencies().subscribe((data) =&gt; {\n      this.agencies = data;\n   })\n};\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 7306677, "user_type": "registered", "profile_image": "https://graph.facebook.com/843892342376018/picture?type=large", "display_name": "Vadim Vadim", "link": "https://stackoverflow.com/users/7306677/vadim-vadim"}, "is_accepted": false, "score": 0, "last_activity_date": 1509704821, "last_edit_date": 1509704821, "creation_date": 1509704106, "answer_id": 47093245, "question_id": 46808560, "link": "https://stackoverflow.com/questions/46808560/how-to-return-httpclient-subscribe-data-to-a-component/47093245#47093245", "title": "How to return HttpClient subscribe data to a component", "body": "<p>If you want to load data to view, you should use new Subject in your service. For example:</p>\n\n<pre><code>export class PostService {\n    subject = new Subject();\n    constructor(private httpClient: HttpClient) {}\n\n    const httpRequest = new HttpRequest(\n        'GET',\n        '/your-url',\n        body,\n        {\n            headers: new HttpHeaders().set('Content-Type', 'body'),\n        }\n    );\n    this.httpClient.request(httpRequest).subscribe((res) =&gt; {\n        if (res.type) {\n            this.subject.next(res.body);\n        }\n    });\n\n    return this.subject;\n}\n</code></pre>\n\n<p>In component:</p>\n\n<pre><code>export class PostsComponent implements OnInit {\n    posts: any;\n    constructor(private postService: PostService) { }\n\n    ngOnInit() {\n        this.getPosts();\n    }\n\n    private getPosts() {\n        this.posts = this.postService.getPosts();\n    }\n}\n</code></pre>\n\n<p>In view:</p>\n\n<pre><code>&lt;app-post-item\n    class=\"col-md-4\"\n    *ngFor=\"let post of posts | async\"\n    [post]=\"post\"&gt;\n&lt;/app-post-item&gt;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 2678, "user_id": 299180, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/3ae8912bfe4ff074a2cbc3e5288aef26?s=128&d=identicon&r=PG", "display_name": "Aaron", "link": "https://stackoverflow.com/users/299180/aaron"}, "is_accepted": false, "score": 0, "last_activity_date": 1582447536, "creation_date": 1582447536, "answer_id": 60360529, "question_id": 46808560, "link": "https://stackoverflow.com/questions/46808560/how-to-return-httpclient-subscribe-data-to-a-component/60360529#60360529", "title": "How to return HttpClient subscribe data to a component", "body": "<p>I also had this problem where I was not getting a response, but rather a subscriber instance. It turned out the server code was not returning a JSON parsable response. Seemed like a silent error, not sure why. But when I fixed the server code to return an object, I got the response.</p>\n"}], "owner": {"reputation": 3603, "user_id": 5449187, "user_type": "registered", "accept_rate": 63, "profile_image": "https://i.stack.imgur.com/6Xxyc.png?s=128&g=1", "display_name": "Rahul Dagli", "link": "https://stackoverflow.com/users/5449187/rahul-dagli"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 14158, "favorite_count": 1, "accepted_answer_id": 46808772, "answer_count": 4, "score": 2, "last_activity_date": 1582447536, "creation_date": 1508324132, "last_edit_date": 1509708212, "question_id": 46808560, "link": "https://stackoverflow.com/questions/46808560/how-to-return-httpclient-subscribe-data-to-a-component", "title": "How to return HttpClient subscribe data to a component", "body": "<p>I'm trying to return data from a service using subscribe method. </p>\n\n<pre><code>import { Injectable } from '@angular/core';\nimport { HttpClient } from '@angular/common/http';\n\n@Injectable()\nexport class DevRequestService {\n    constructor(private http: HttpClient){}\n    getListOfAgencies() {\n        return this.http.get('https://example.com/api/agency').subscribe(data =&gt; {\n            return data;\n          });\n    }\n}\n</code></pre>\n\n<p>Component:</p>\n\n<pre><code>ngOnInit(): void {\n  console.log(this.devRequestService.getListOfAgencies());\n}\n</code></pre>\n\n<p>Below is the output that I'm getting in console.log instead of returning the object with the values:</p>\n\n<p><code>Subscriber {closed: false, _parent: null, _parents: null, _subscriptions: Array(1), syncErrorValue: null,\u00a0\u2026}</code></p>\n"}, {"tags": ["angular", "typescript"], "comments": [{"owner": {"reputation": 2831, "user_id": 6215270, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0ZgbJ.jpg?s=128&g=1", "display_name": "Mohamed Ali RACHID", "link": "https://stackoverflow.com/users/6215270/mohamed-ali-rachid"}, "edited": false, "score": 0, "creation_date": 1508323961, "post_id": 46808308, "comment_id": 80563921, "body": "if i understand well , u have the problem just when the Unit Exists ( where the index is found )  ?"}, {"owner": {"reputation": 6216, "user_id": 1471485, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/8qRCk.png?s=128&g=1", "display_name": "John", "link": "https://stackoverflow.com/users/1471485/john"}, "edited": false, "score": 0, "creation_date": 1508324968, "post_id": 46808308, "comment_id": 80564472, "body": "How does your html template look like? How are you displaying your units in your html?"}, {"owner": {"reputation": 1271, "user_id": 6787953, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/45c56fb1b9be4c3f84df777389a6e255?s=128&d=identicon&r=PG&f=1", "display_name": "Stefan", "link": "https://stackoverflow.com/users/6787953/stefan"}, "edited": false, "score": 0, "creation_date": 1508332567, "post_id": 46808308, "comment_id": 80569246, "body": "I am not displaying it, I use them to make same call to api."}, {"owner": {"reputation": 14633, "user_id": 5069957, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/597577c2765adaa190e4524d3a3860fe?s=128&d=identicon&r=PG&f=1", "display_name": "edkeveked", "link": "https://stackoverflow.com/users/5069957/edkeveked"}, "edited": false, "score": 0, "creation_date": 1508333272, "post_id": 46808308, "comment_id": 80569699, "body": "Can you output here <code>this.unitsViewModel</code> and  <code>index</code>?"}, {"owner": {"reputation": 1271, "user_id": 6787953, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/45c56fb1b9be4c3f84df777389a6e255?s=128&d=identicon&r=PG&f=1", "display_name": "Stefan", "link": "https://stackoverflow.com/users/6787953/stefan"}, "edited": false, "score": 0, "creation_date": 1508333475, "post_id": 46808308, "comment_id": 80569837, "body": "I resolve that, the this.componenetArray, which i use to create new object, in every singl object contain the same reference beacuse its the same array, and then when I push to that in differents objects it still push to the same array which every single object contain."}], "owner": {"reputation": 1271, "user_id": 6787953, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/45c56fb1b9be4c3f84df777389a6e255?s=128&d=identicon&r=PG&f=1", "display_name": "Stefan", "link": "https://stackoverflow.com/users/6787953/stefan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 102, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1508323347, "creation_date": 1508323347, "question_id": 46808308, "link": "https://stackoverflow.com/questions/46808308/angular-2-array-is-adding-property-to-all-elements-when-editing-only-one", "title": "Angular 2 array is adding property to all elements when editing only one", "body": "<p>Like in title I am trying to edit one element which index I have, and when I did that all elements are edited. I add some element to list which is property of my model, but that element is added to all elemenets lists insteadof only to this one.</p>\n\n<pre><code> unitsViewModel: Array&lt;UnitViewModel&gt; = [];\n mapUnitToViewModel(unit: Unit, serverId: number) {\n    var index = this.checkIfUnitExist(unit.code);\n    if (index) {\n        //here I am adding component to componenets list(property of unitViewModelwhh)\n        this.unitsViewModel[index].component.push({\n            componentId: unit.id,\n            serverId: serverId\n        });\n    }\n    else {\n        this.componenetArray.length = 0;\n        this.componenetArray.push({\n            componentId: unit.id,\n            serverId: serverId\n        });\n\n        this.unitsViewModel.push(\n            {\n                id: ++this.idIndex,\n                component: this.componenetArray,\n                label: unit.code\n            });\n    }\n}\n</code></pre>\n"}, {"tags": ["javascript", "angular", "typescript", "observable"], "answers": [{"comments": [{"owner": {"reputation": 8397, "user_id": 2736022, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/c937c803dbc35de26f1e93229875679e?s=128&d=identicon&r=PG&f=1", "display_name": "Gillardo", "link": "https://stackoverflow.com/users/2736022/gillardo"}, "edited": false, "score": 0, "creation_date": 1508324349, "post_id": 46808306, "comment_id": 80564126, "body": "So is there a way to <code>subscribe</code> to an observable that is already completed, if i have a reference to the observable/subscription?"}, {"owner": {"reputation": 3272, "user_id": 4269187, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Yhb5z.jpg?s=128&g=1", "display_name": "Carsten", "link": "https://stackoverflow.com/users/4269187/carsten"}, "reply_to_user": {"reputation": 8397, "user_id": 2736022, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/c937c803dbc35de26f1e93229875679e?s=128&d=identicon&r=PG&f=1", "display_name": "Gillardo", "link": "https://stackoverflow.com/users/2736022/gillardo"}, "edited": false, "score": 0, "creation_date": 1508325609, "post_id": 46808306, "comment_id": 80564866, "body": "Like i said, a BehaviorSubject returns it&#39;s data on subscribe. So that is a possible way to go."}], "tags": [], "owner": {"reputation": 3272, "user_id": 4269187, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Yhb5z.jpg?s=128&g=1", "display_name": "Carsten", "link": "https://stackoverflow.com/users/4269187/carsten"}, "is_accepted": false, "score": 0, "last_activity_date": 1508323746, "last_edit_date": 1508323746, "creation_date": 1508323337, "answer_id": 46808306, "question_id": 46807903, "link": "https://stackoverflow.com/questions/46807903/only-run-observables-once-then-check-if-completed-after-angular2-typescript/46808306#46808306", "title": "Only run observables once, then check if completed after - angular2 typescript", "body": "<p>If you're very new to Observables, i suggest you start with a basic example.</p>\n\n<p>For example: (pseudo-code, maybe)</p>\n\n<pre><code>let observable = new Observable&lt;string&gt;(observer =&gt; {\n  if (1 == 1) {\n    observer.next(\"one is one\");\n  } else {\n    observer.error(\"one is not one\");\n  }\n});\nobservable.subscribe(\n  response =&gt; console.log(response), \n  error -&gt; console.log(error)\n);\n</code></pre>\n\n<p>Using a subject is more of the same but a Subject can be used a little more freely:</p>\n\n<pre><code>let subject = new Subject();\nsubject.subscribe(response -&gt; console.log(response));\nsubject.next('hello');\n</code></pre>\n\n<p>I believe i saw you combinding the two, subscribing to the subject then getting data with an observable? With these examples, do you have enough information or do you need a very specific example?</p>\n\n<p>edit:</p>\n\n<p>your <code>this.initialized.subscribe</code> 'starts the process'.\nYou call the loadOtherData function too late, which makes you NOT subscribed to this.initialized when the data returns. That's why you don't see console.log('initialized')</p>\n\n<p>edit2:</p>\n\n<p>Take note that a <code>BehaviorSubject</code> holds it's data and returns it on subscribe. There is no need to initialize it with an empty string.</p>\n"}], "owner": {"reputation": 8397, "user_id": 2736022, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/c937c803dbc35de26f1e93229875679e?s=128&d=identicon&r=PG&f=1", "display_name": "Gillardo", "link": "https://stackoverflow.com/users/2736022/gillardo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 39, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1508323746, "creation_date": 1508322045, "question_id": 46807903, "link": "https://stackoverflow.com/questions/46807903/only-run-observables-once-then-check-if-completed-after-angular2-typescript", "title": "Only run observables once, then check if completed after - angular2 typescript", "body": "<p>Very new to <code>Observables</code> so apologies if this is basic, but i have tried googling, and dont seem to be able to find what i want.</p>\n\n<p>Here is an example plunkr, very basic.<br>\n<a href=\"https://plnkr.co/edit/kgECPQyoKqY7RamebUUu?p=preview\" rel=\"nofollow noreferrer\">https://plnkr.co/edit/kgECPQyoKqY7RamebUUu?p=preview</a></p>\n\n<p>Why is my <code>Initialized</code> method not called until my service calls it?  I thought that the <code>initialized</code> observable would be executed as soon as i do <code>Observable.forkJoin</code>??  Do i need to start the process somehow?</p>\n\n<p>And why my <code>myService.loadOtherData</code> method never seems to call the subscribe method???</p>\n\n<p>Thanks in advance</p>\n"}, {"tags": ["javascript", "angular", "typescript", "angular-cli"], "comments": [{"owner": {"reputation": 538, "user_id": 7373178, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7d4053c6798907062f3c90e596eb1d58?s=128&d=identicon&r=PG", "display_name": "Witold Tkaczyk", "link": "https://stackoverflow.com/users/7373178/witold-tkaczyk"}, "edited": false, "score": 0, "creation_date": 1508321394, "post_id": 46807527, "comment_id": 80562377, "body": "just guessing. try to use <code>a[&#39;first_name&#39;]</code>."}], "answers": [{"comments": [{"owner": {"reputation": 546, "user_id": 8505530, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/ce949f0d6bb94fccac5257f56a70b91a?s=128&d=identicon&r=PG&f=1", "display_name": "parth", "link": "https://stackoverflow.com/users/8505530/parth"}, "edited": false, "score": 0, "creation_date": 1508322028, "post_id": 46807790, "comment_id": 80562749, "body": "Thanks for your suggestion. I guess i have to learn new stuff every day :)"}], "tags": [], "owner": {"reputation": 1383, "user_id": 4700863, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e2b647b43ffeea942ce2b286015267f0?s=128&d=identicon&r=PG&f=1", "display_name": "Patryk Brejdak", "link": "https://stackoverflow.com/users/4700863/patryk-brejdak"}, "is_accepted": true, "score": 1, "last_activity_date": 1508321651, "creation_date": 1508321651, "answer_id": 46807790, "question_id": 46807527, "link": "https://stackoverflow.com/questions/46807527/angular-2-search-filer-query-in-angular2-datatable-property-first-name-does/46807790#46807790", "title": "Angular 2 search filer query in angular2-datatable - Property &#39;first_name&#39; does not exist on type &#39;{}&#39;", "body": "<p>I guess this error occured in your IDE (so it's typescript error) so it's all about that your <code>users</code> array has type <code>any</code> and typescript can't detect first_name property in type which I'm guessing lodash returns as <code>{}</code> due to lack of specified type of array <code>users</code>. It's the best practise to always create class to represent data. Something like:</p>\n\n<pre><code>export class User {\n    public first_name: string;\n    /* And the rest of data which coming from your db */\n}\n\n/* in your component */\npublic users: Array&lt;User&gt; = [];\n</code></pre>\n\n<p>Defining class will help you with keep your code clean and organise. If you just don't want to create classes just use <code>as</code> syntax and wrap it with <code>( )</code> as shown below.</p>\n\n<pre><code>this.filteredData = _.filter(this.users, (a)=&gt;(a as any).first_name.indexOf(query)&gt;=0);\n</code></pre>\n\n<p>P.S If you want to use type any and it's array use <code>any[]</code> or <code>Array&lt;any&gt;</code></p>\n"}], "owner": {"reputation": 546, "user_id": 8505530, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/ce949f0d6bb94fccac5257f56a70b91a?s=128&d=identicon&r=PG&f=1", "display_name": "parth", "link": "https://stackoverflow.com/users/8505530/parth"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 196, "favorite_count": 1, "accepted_answer_id": 46807790, "answer_count": 1, "score": 0, "last_activity_date": 1522935037, "creation_date": 1508320724, "last_edit_date": 1522935037, "question_id": 46807527, "link": "https://stackoverflow.com/questions/46807527/angular-2-search-filer-query-in-angular2-datatable-property-first-name-does", "title": "Angular 2 search filer query in angular2-datatable - Property &#39;first_name&#39; does not exist on type &#39;{}&#39;", "body": "<p>In my Angular-cli project I've this code implemented for datatable with search filter. I've used tutorial given in following link using loadsh.\n<a href=\"http://plnkr.co/edit/grhag1P85teN4ftggkms?p=preview\" rel=\"nofollow noreferrer\">http://plnkr.co/edit/grhag1P85teN4ftggkms?p=preview</a></p>\n\n<p>Here is package link: <a href=\"https://github.com/mariuszfoltak/angular2-datatable\" rel=\"nofollow noreferrer\">https://github.com/mariuszfoltak/angular2-datatable</a></p>\n\n<p>I want to add search filter and it showed me this error in updateData function.\nProperty 'first_name' does not exist on type '{}'. Is it problem with typescript or loadsh version or something else?</p>\n\n<pre><code>export class UsersComponent implements OnInit {\n\n    public users: any = [];\n    public filteredData: any;\n    public filterQuery = \"\";\n    public rowsOnPage = 10;\n    public sortBy = \"first_name\";\n    public sortOrder = \"asc\";\n\n    ngOnInit() {\n        this.authService.getUsersList(userData).subscribe(data =&gt; {\n            var res = data.response;\n            this.users = this.users;\n            this.filteredData = res.data;\n        });\n    }\n\n    public updateData(query:string) {\n        if(query) {\n            this.filteredData = _.filter(this.users, (a)=&gt;a.first_name.indexOf(query)&gt;=0);\n        } else {\n            this.filteredData = this.users;\n        }\n    }\n}\n</code></pre>\n\n<p>Here is my package.json file with loadsh version</p>\n\n<pre><code>\"dependencies\": {\n  \"angular2-datatable\": \"^0.6.0\",\n  \"lodash\": \"^4.17.4\",\n},\n\"devDependencies\": {\n\n  \"@types/lodash\": \"^4.14.50\",\n  \"typescript\": \"~2.0.3\"\n}\n</code></pre>\n"}, {"tags": ["javascript", "angular", "typescript"], "answers": [{"comments": [{"owner": {"reputation": 14477, "user_id": 1110341, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/d74ea73f9e7b0aaa05fb27541c3ca39c?s=128&d=identicon&r=PG", "display_name": "TroodoN-Mike", "link": "https://stackoverflow.com/users/1110341/troodon-mike"}, "edited": false, "score": 0, "creation_date": 1508337471, "post_id": 46807576, "comment_id": 80572663, "body": "Perfect. Exactly what i wanted. Thank you!"}], "tags": [], "owner": {"reputation": 1289, "user_id": 5053124, "user_type": "registered", "accept_rate": 60, "profile_image": "https://lh6.googleusercontent.com/-FFtP7NX3Uf0/AAAAAAAAAAI/AAAAAAAAABY/5-T_w94uciA/photo.jpg?sz=128", "display_name": "Nicholas Robinson", "link": "https://stackoverflow.com/users/5053124/nicholas-robinson"}, "is_accepted": true, "score": 1, "last_activity_date": 1508321212, "last_edit_date": 1508321212, "creation_date": 1508320900, "answer_id": 46807576, "question_id": 46807326, "link": "https://stackoverflow.com/questions/46807326/create-method-within-method-in-a-new-class-in-typescript/46807576#46807576", "title": "Create method within method in a new Class in typescript", "body": "<p>When you pass the <code>transform</code> function into the <code>map</code> function like this</p>\n\n<p><code>this.http.get('/endpoint').map(this.transform);</code> </p>\n\n<p>you are passing a copy of the <code>transform</code> function, which has no concept of <code>this</code>. As a result, when the <code>map</code> function calls the copy of the <code>transform</code> function, it's context will default to the <code>window</code> object. So in the copy of the <code>transform</code> method, it will be looking for a function called <code>accessOutside</code> on the <code>window</code> object. </p>\n\n<p>The simplest way to fix this problem is to use a lambda function as follows:</p>\n\n<p><code>this.http.get('/endpoint').map(data =&gt; this.transform(data));</code></p>\n\n<p>As <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Functions/Arrow_functions\" rel=\"nofollow noreferrer\">arrow funcitons</a> have access to the scope of the context they are defined in, when <code>map</code> calls the arrow function, <code>this</code> will refer to your instance of <code>Test</code> and not <code>window</code></p>\n"}], "owner": {"reputation": 14477, "user_id": 1110341, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/d74ea73f9e7b0aaa05fb27541c3ca39c?s=128&d=identicon&r=PG", "display_name": "TroodoN-Mike", "link": "https://stackoverflow.com/users/1110341/troodon-mike"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 41, "favorite_count": 1, "closed_date": 1508322896, "accepted_answer_id": 46807576, "answer_count": 1, "score": 0, "last_activity_date": 1508321212, "creation_date": 1508320183, "question_id": 46807326, "link": "https://stackoverflow.com/questions/46807326/create-method-within-method-in-a-new-class-in-typescript", "closed_reason": "Duplicate", "title": "Create method within method in a new Class in typescript", "body": "<p>I have typescript project and more specific and Angular application.</p>\n\n<p>I have my Class called Test (you can assume its a component in angular) and it has access to http service which is usually used like this.http('/endpoint').subscribe(response => {});</p>\n\n<p>I need to add some logic in between and break it down into separate methods (the code is a little bit more complicated than in my example).</p>\n\n<pre><code>export class Test {\n\ninit() {\n    this.http.get('/endpoint').map(this.transform);\n}\n\ntransform(data) {\n    // more logic here in isolated scope\n\n    this.accessOutside(data); // I cannot access this method, isolated scope.\n    // How to break down some logic into separate methods to access them\n    // or how to create it new method within method?\n\n    return data\n}\n\naccessOutside(data) {\n    // more logic\n}\n</code></pre>\n\n<p>}</p>\n\n<p>When i call this.http.get('/endpoint').map(this.transform) my \"transform\" method is isolated and has no access to other methods within Test class, but how to access it or how to create method within transform method?</p>\n"}, {"tags": ["reactjs", "typescript", "jsx", "babeljs"], "answers": [{"comments": [{"owner": {"reputation": 133, "user_id": 5189038, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6d93a352fc3fddb23f81238177a8829f?s=128&d=identicon&r=PG&f=1", "display_name": "Macondo", "link": "https://stackoverflow.com/users/5189038/macondo"}, "edited": false, "score": 0, "creation_date": 1508320567, "post_id": 46807422, "comment_id": 80561886, "body": "Of course, but where can i find this syntax here: <a href=\"https://jsx.github.io/\" rel=\"nofollow noreferrer\">jsx.github.io</a>"}, {"owner": {"reputation": 76, "user_id": 3582512, "user_type": "registered", "profile_image": "https://graph.facebook.com/100000502895929/picture?type=large", "display_name": "JakobJeremias", "link": "https://stackoverflow.com/users/3582512/jakobjeremias"}, "reply_to_user": {"reputation": 133, "user_id": 5189038, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6d93a352fc3fddb23f81238177a8829f?s=128&d=identicon&r=PG&f=1", "display_name": "Macondo", "link": "https://stackoverflow.com/users/5189038/macondo"}, "edited": false, "score": 1, "creation_date": 1508324569, "post_id": 46807422, "comment_id": 80564241, "body": "These are two different JSX, one is developed by Facebook and used in React, the other one is programmed by DeNA Co. a Japanese Company. Beside their name, they are not related to each other"}, {"owner": {"reputation": 133, "user_id": 5189038, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6d93a352fc3fddb23f81238177a8829f?s=128&d=identicon&r=PG&f=1", "display_name": "Macondo", "link": "https://stackoverflow.com/users/5189038/macondo"}, "edited": false, "score": 0, "creation_date": 1508346868, "post_id": 46807422, "comment_id": 80578674, "body": "Thanks, that&#39;s it!"}], "tags": [], "owner": {"reputation": 76, "user_id": 3582512, "user_type": "registered", "profile_image": "https://graph.facebook.com/100000502895929/picture?type=large", "display_name": "JakobJeremias", "link": "https://stackoverflow.com/users/3582512/jakobjeremias"}, "is_accepted": true, "score": 0, "last_activity_date": 1508320449, "creation_date": 1508320449, "answer_id": 46807422, "question_id": 46807290, "link": "https://stackoverflow.com/questions/46807290/jsx-description-in-facebook-and-typescript-docs/46807422#46807422", "title": "JSX description in Facebook and Typescript docs", "body": "<p>It is described as XML-like because of the similar <strong>syntax</strong>. Both use Tags &lt;>  for Elements and have a similar structure.</p>\n"}], "owner": {"reputation": 133, "user_id": 5189038, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6d93a352fc3fddb23f81238177a8829f?s=128&d=identicon&r=PG&f=1", "display_name": "Macondo", "link": "https://stackoverflow.com/users/5189038/macondo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 37, "favorite_count": 0, "accepted_answer_id": 46807422, "answer_count": 1, "score": 0, "last_activity_date": 1508320449, "creation_date": 1508320083, "question_id": 46807290, "link": "https://stackoverflow.com/questions/46807290/jsx-description-in-facebook-and-typescript-docs", "title": "JSX description in Facebook and Typescript docs", "body": "<p>Somebody can explain me why the description about JSX<br>\n<a href=\"https://www.typescriptlang.org/docs/handbook/jsx.html\" rel=\"nofollow noreferrer\">https://www.typescriptlang.org/docs/handbook/jsx.html</a>\nand\n<a href=\"https://facebook.github.io/jsx/\" rel=\"nofollow noreferrer\">https://facebook.github.io/jsx/</a></p>\n\n<p>describes jsx as JSX \"an embeddable XML-like syntax.\"?,\nthe xml compiler feature is not only provided by babel react preset and react and not by JSX itself?</p>\n\n<p><a href=\"https://jsx.github.io/\" rel=\"nofollow noreferrer\">https://jsx.github.io/</a></p>\n"}, {"tags": ["angular", "typescript", "webpack", "typelite"], "comments": [{"owner": {"reputation": 25033, "user_id": 1113002, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CgW7b.png?s=128&g=1", "display_name": "Aleksey L.", "link": "https://stackoverflow.com/users/1113002/aleksey-l"}, "edited": false, "score": 0, "creation_date": 1508342479, "post_id": 46807148, "comment_id": 80576271, "body": "Missing part is <code>export</code> before <code>namespace</code>. Then you can <code>import {My} from &quot;..</code>"}, {"owner": {"reputation": 6505, "user_id": 596137, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/1cSbR.jpg?s=128&g=1", "display_name": "Marc", "link": "https://stackoverflow.com/users/596137/marc"}, "reply_to_user": {"reputation": 25033, "user_id": 1113002, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CgW7b.png?s=128&g=1", "display_name": "Aleksey L.", "link": "https://stackoverflow.com/users/1113002/aleksey-l"}, "edited": false, "score": 0, "creation_date": 1508343309, "post_id": 46807148, "comment_id": 80576791, "body": "I am pretty sure I tried that but I think that didn&#39;t work because of the multilevel namespace? Anyway, will try that again tomorrow, thanks!"}, {"owner": {"reputation": 6505, "user_id": 596137, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/1cSbR.jpg?s=128&g=1", "display_name": "Marc", "link": "https://stackoverflow.com/users/596137/marc"}, "reply_to_user": {"reputation": 25033, "user_id": 1113002, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CgW7b.png?s=128&g=1", "display_name": "Aleksey L.", "link": "https://stackoverflow.com/users/1113002/aleksey-l"}, "edited": false, "score": 0, "creation_date": 1508375762, "post_id": 46807148, "comment_id": 80590400, "body": "Ah, now I remember. Whilst adding &quot;export&quot; would fix the issue that I cannot import the enum (works fine with export), it will break the link from &quot;classes.d.ts&quot; that use this enum (compiler says &quot;classes.d.ts (40,53): Namespace &#39;My.Multi.Level.Namespace&#39; has no exported member &#39;MyEnum&#39;.&quot;)"}, {"owner": {"reputation": 25033, "user_id": 1113002, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CgW7b.png?s=128&g=1", "display_name": "Aleksey L.", "link": "https://stackoverflow.com/users/1113002/aleksey-l"}, "edited": false, "score": 0, "creation_date": 1508390666, "post_id": 46807148, "comment_id": 80593876, "body": "So add <code>import {My} from &#39;.&#47;enums&#39;;</code> in <i>classes.d.ts</i> as well"}, {"owner": {"reputation": 6505, "user_id": 596137, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/1cSbR.jpg?s=128&g=1", "display_name": "Marc", "link": "https://stackoverflow.com/users/596137/marc"}, "reply_to_user": {"reputation": 25033, "user_id": 1113002, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CgW7b.png?s=128&g=1", "display_name": "Aleksey L.", "link": "https://stackoverflow.com/users/1113002/aleksey-l"}, "edited": false, "score": 0, "creation_date": 1508402621, "post_id": 46807148, "comment_id": 80599285, "body": "Doesn&#39;t work unfortunately, then <i>classes.d.ts</i> is not working anymore as cross-referenced members are throwing errors like <code>[ts] Namespace &#39;&quot;c:&#47;src&#47;enums&quot;.My&#39; has no exported member &#39;Subclass&#39;.</code>"}, {"owner": {"reputation": 22898, "user_id": 1915893, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/580b31b0be7173bbc477ca1d6967d87c?s=128&d=identicon&r=PG", "display_name": "Aluan Haddad", "link": "https://stackoverflow.com/users/1915893/aluan-haddad"}, "edited": false, "score": 0, "creation_date": 1509235084, "post_id": 46807148, "comment_id": 80937757, "body": "Too tired to write a proper answer but the solution is to <code>export</code> each <code>namespace</code> in place (<code>export namespace My.A</code>, <code>export namespace My.B</code>) and to remove the <code>export import = My</code> syntax. That doesn&#39;t work with loaders and it is probably a bug that it type checks at all. Never use that syntax in a module."}], "answers": [{"comments": [{"owner": {"reputation": 6505, "user_id": 596137, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/1cSbR.jpg?s=128&g=1", "display_name": "Marc", "link": "https://stackoverflow.com/users/596137/marc"}, "edited": false, "score": 0, "creation_date": 1508997783, "post_id": 46925057, "comment_id": 80840824, "body": "Thanks for your reply. Unfortunately that also doesn&#39;t work, maybe I am missing something here. I cannot change the namespaces as those are coming from a big project and removing or renaming them is simply not possible. I tried your suggestion with putting it into one file (so I am not using the .d declaration anymore) and the export import but the enum is still not available at runtime. Will update my question with another simplified example."}], "tags": [], "owner": {"reputation": 19724, "user_id": 6539317, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/feded6c8f60453abde4e6bf81a877693?s=128&d=identicon&r=PG&f=1", "display_name": "felixmosh", "link": "https://stackoverflow.com/users/6539317/felixmosh"}, "is_accepted": false, "score": 1, "last_activity_date": 1508911535, "creation_date": 1508911535, "answer_id": 46925057, "question_id": 46807148, "link": "https://stackoverflow.com/questions/46807148/import-typescript-enum-from-multi-level-namespace-generated-by-typelite-in-angul/46925057#46925057", "title": "Import TypeScript enum from multi-level namespace generated by TypeLITE in Angular project", "body": "<p>As @Aleksey L. mentioned you need to <code>export</code> the namespace, it will work for one file, but the problem is that whenever you have an export at the top level Typescript starts to assume that the file is a module (and for a good reason).</p>\n\n<p><code>Namespace</code> at Typescript are invented in order to mimic <strong>module</strong> behaviour in files that suppose to be on the <strong>global</strong>.</p>\n\n<p>You have few options:</p>\n\n<ol>\n<li>If you don't need the namespace at the global, you can get rid of it, and export the enum / interface directly from each file.</li>\n<li>If you do need the namespace it should be exported and all of it content suppose to be written in the same file, so the enum &amp; the interface will be in the same file</li>\n</ol>\n\n<p>Actually, At my work we once used namespaces heavily (when all of our code base was declared on the global), then whenever we introduced Webpack at our build system, we started to convert our code to use <strong>ES6 modules</strong>, one of the steps was to remove the namespaces.</p>\n\n<p>We had a requirement to make that transition gradually, so some of the code used <code>namespaces</code> and some <code>ES6 modules</code>.\nIn order to keep the backward compatibility, we kept the files that contained the namespaces, and for each file we created a new file that reads the namespace from the global and exports it internals.</p>\n\n<p>Something like that:</p>\n\n<pre><code>// old-file.ts\nnamespace someName {\n   export class SomeClass {\n\n   }\n}\n\n//old-file.es6.ts\nexport import SomeClass = someName.SomeClass;\n</code></pre>\n\n<p>Hope that helps.</p>\n"}], "owner": {"reputation": 6505, "user_id": 596137, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/1cSbR.jpg?s=128&g=1", "display_name": "Marc", "link": "https://stackoverflow.com/users/596137/marc"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3615, "favorite_count": 2, "answer_count": 1, "score": 4, "last_activity_date": 1508998324, "creation_date": 1508319623, "last_edit_date": 1508998324, "question_id": 46807148, "link": "https://stackoverflow.com/questions/46807148/import-typescript-enum-from-multi-level-namespace-generated-by-typelite-in-angul", "title": "Import TypeScript enum from multi-level namespace generated by TypeLITE in Angular project", "body": "<p>In a Angular project I use TypeLITE to auto-generate a bunch of interfaces for objects that come from the backend. That part works well and I have intellisense for objects and (to some degree) type-safety for those. </p>\n\n<p>But now I came across the first class that contains an enum, which TypeLITE correctly picks up and creates the TypeScript code in enums.ts. The content of those two files look like this:</p>\n\n<p><strong>classes.d.ts</strong></p>\n\n<pre><code>declare namespace My.Multi.Level.Namespace {\n  interface MyInterface {\n    Status: My.Multi.Level.Namespace.Status;\n  }\n}\n</code></pre>\n\n<p><strong>enums.ts</strong></p>\n\n<pre><code>namespace My.Multi.Level.Namespace {\n  export const enum Status {\n    Undefined = 0,\n    New = 1,\n    ...\n  } \n}\n</code></pre>\n\n<p><strong>someOtherFile.ts</strong></p>\n\n<pre><code>// How/what to import to access this?\nconst status = My.Multi.Level.Namespace.New;\n</code></pre>\n\n<p>And the actual interface in \"classes.d.ts\" referencing that enum still works fine.</p>\n\n<p>But now I try to import that namespace to access the \"Status\" enum at runtime and cannot figure out how to do that. The namespace is just not available, no matter what I do.</p>\n\n<p>I tried changing it to \"export namespace...\" or even \"export module ...\" but that would break the code generated in \"classes.d.ts\". I need a solution that will allow me to use the enum at runtime as well as leaving the connection to classes intact.</p>\n\n<p>I understand that there is some incompatibility when it comes to modules and namespaces, but I just assume there is some way to get around it and actually use those enums?</p>\n\n<pre><code>USED VERSION\nAngular 4.3.6\nTypeScript 2.3.4.\n</code></pre>\n\n<hr>\n\n<p><strong>EDIT:</strong> Simplified example</p>\n\n<p>If you would like to try the issue I am having on your own machine, please follow these steps:</p>\n\n<p><em>1)</em> Create a new minimal Angular app </p>\n\n<pre><code>ng new enumtest --minimal\n</code></pre>\n\n<p><em>2)</em> Modify the <code>app.component.ts</code> file with this code:</p>\n\n<pre><code>import { Component, OnInit } from '@angular/core';\nimport { My } from './classes';\n\n@Component({\n  selector: 'app-root',\n  template: `&lt;p&gt;{{myEnum}}&lt;/p&gt;`\n})\nexport class AppComponent implements OnInit {\n\n  myEnum: My.Multi.Level.Namespace.Status;\n\n  ngOnInit() {\n    console.log(\"ngOnInit:begin:myEnum\");\n    this.myEnum = My.Multi.Level.Namespace.Status.New;\n    console.log(\"ngOnInit:after:myEnum\");\n  }\n\n}\n</code></pre>\n\n<p><em>3)</em> Add this file <code>classes.ts</code></p>\n\n<pre><code>// classes part\n\nnamespace My.Multi.Level.Namespace {\n  export interface MyInterface {\n    Title: string;\n    Status: My.Multi.Level.Namespace.Status;\n  }\n}\nnamespace My.Other.Multi.Level.Namespace {\n  export interface SomeInterface {\n    Context: My.Multi.Level.Namespace.MyInterface[];\n  }\n}\n\n// enums part\n\nnamespace My.Multi.Level.Namespace {\n  export const enum Status {\n      Undefined = 0,\n      New  = 1\n  } \n}\n\nexport import My = My;\n</code></pre>\n\n<hr>\n\n<p>Expected behaviour: \"1\" will be displayed on the page (value of the enum) and it still compiles as all references are still intact (like My.Other.Multi.Level.Namespace.SomeInterface.Context still connected to My.Multi.Level.Namespace.MyInterface[]).</p>\n"}, {"tags": ["angular", "http", "typescript", "rxjs", "observable"], "comments": [{"owner": {"reputation": 18922, "user_id": 3633742, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/thyJX.jpg?s=128&g=1", "display_name": "n00dl3", "link": "https://stackoverflow.com/users/3633742/n00dl3"}, "edited": false, "score": 0, "creation_date": 1508319688, "post_id": 46806946, "comment_id": 80561313, "body": "there is no call to the <code>getStories</code> method in the provided template code."}, {"owner": {"reputation": 360, "user_id": 5368380, "user_type": "registered", "accept_rate": 44, "profile_image": "https://i.stack.imgur.com/CwYpY.jpg?s=128&g=1", "display_name": "blixenkrone", "link": "https://stackoverflow.com/users/5368380/blixenkrone"}, "reply_to_user": {"reputation": 18922, "user_id": 3633742, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/thyJX.jpg?s=128&g=1", "display_name": "n00dl3", "link": "https://stackoverflow.com/users/3633742/n00dl3"}, "edited": false, "score": 0, "creation_date": 1508319848, "post_id": 46806946, "comment_id": 80561438, "body": "Sorry i didn&#39;t think it&#39;d be necessary - the function is being called by another function. I have now included that part."}, {"owner": {"reputation": 18922, "user_id": 3633742, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/thyJX.jpg?s=128&g=1", "display_name": "n00dl3", "link": "https://stackoverflow.com/users/3633742/n00dl3"}, "edited": false, "score": 0, "creation_date": 1508319863, "post_id": 46806946, "comment_id": 80561448, "body": "to me this is more or less the same question as <a href=\"https://stackoverflow.com/questions/42657380/observable-polling/44110016#44110016\">this one</a> except that you don&#39;t use a timer but a click to trigger the request. You can create a subject that handle the click, and use it instead of the <code>Observable.timer(5000)</code>"}, {"owner": {"reputation": 18922, "user_id": 3633742, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/thyJX.jpg?s=128&g=1", "display_name": "n00dl3", "link": "https://stackoverflow.com/users/3633742/n00dl3"}, "edited": false, "score": 0, "creation_date": 1508320369, "post_id": 46806946, "comment_id": 80561760, "body": "Does this answer help you ?"}, {"owner": {"reputation": 360, "user_id": 5368380, "user_type": "registered", "accept_rate": 44, "profile_image": "https://i.stack.imgur.com/CwYpY.jpg?s=128&g=1", "display_name": "blixenkrone", "link": "https://stackoverflow.com/users/5368380/blixenkrone"}, "reply_to_user": {"reputation": 18922, "user_id": 3633742, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/thyJX.jpg?s=128&g=1", "display_name": "n00dl3", "link": "https://stackoverflow.com/users/3633742/n00dl3"}, "edited": false, "score": 0, "creation_date": 1508320543, "post_id": 46806946, "comment_id": 80561873, "body": "Im reading it and trying out some stuff atm., ill get back to you in 10 min. Thank you!"}, {"owner": {"reputation": 360, "user_id": 5368380, "user_type": "registered", "accept_rate": 44, "profile_image": "https://i.stack.imgur.com/CwYpY.jpg?s=128&g=1", "display_name": "blixenkrone", "link": "https://stackoverflow.com/users/5368380/blixenkrone"}, "reply_to_user": {"reputation": 18922, "user_id": 3633742, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/thyJX.jpg?s=128&g=1", "display_name": "n00dl3", "link": "https://stackoverflow.com/users/3633742/n00dl3"}, "edited": false, "score": 0, "creation_date": 1508320883, "post_id": 46806946, "comment_id": 80562060, "body": "Still pushes more data into the array - just waits x number of seconds before doing it. I think the problem lies with the array, and i need to find a logical place to empty the array, without messing up more lazyloading function."}, {"owner": {"reputation": 18922, "user_id": 3633742, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/thyJX.jpg?s=128&g=1", "display_name": "n00dl3", "link": "https://stackoverflow.com/users/3633742/n00dl3"}, "edited": false, "score": 0, "creation_date": 1508320931, "post_id": 46806946, "comment_id": 80562098, "body": "Aw I didn&#39;t understand that you needed to clear the array, sorry. You want a fresh array each time ? That&#39;s it ?"}, {"owner": {"reputation": 360, "user_id": 5368380, "user_type": "registered", "accept_rate": 44, "profile_image": "https://i.stack.imgur.com/CwYpY.jpg?s=128&g=1", "display_name": "blixenkrone", "link": "https://stackoverflow.com/users/5368380/blixenkrone"}, "reply_to_user": {"reputation": 18922, "user_id": 3633742, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/thyJX.jpg?s=128&g=1", "display_name": "n00dl3", "link": "https://stackoverflow.com/users/3633742/n00dl3"}, "edited": false, "score": 0, "creation_date": 1508321355, "post_id": 46806946, "comment_id": 80562355, "body": "Thats what im trying to do by setting <code>this.hitsArray = [];</code>, but it doesn&#39;t clear the array if i tap quickly."}], "answers": [{"comments": [{"owner": {"reputation": 360, "user_id": 5368380, "user_type": "registered", "accept_rate": 44, "profile_image": "https://i.stack.imgur.com/CwYpY.jpg?s=128&g=1", "display_name": "blixenkrone", "link": "https://stackoverflow.com/users/5368380/blixenkrone"}, "edited": false, "score": 0, "creation_date": 1508319639, "post_id": 46807072, "comment_id": 80561278, "body": "Thank you - although i actually do empty the array, upon the url params being changed, the data from my API is still being pushed to the hitsArray-array, if I spam the get-request. Am i missing something, or is there a better way to errorhandle this? I can provide the full code if needed."}], "tags": [], "owner": {"reputation": 3272, "user_id": 4269187, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Yhb5z.jpg?s=128&g=1", "display_name": "Carsten", "link": "https://stackoverflow.com/users/4269187/carsten"}, "is_accepted": false, "score": 1, "last_activity_date": 1508319380, "creation_date": 1508319380, "answer_id": 46807072, "question_id": 46806946, "link": "https://stackoverflow.com/questions/46806946/angular-4-repeating-click-get-http-observable-data-multiple-times/46807072#46807072", "title": "Angular 4 repeating click get http observable data multiple times", "body": "<p>A switchmap can only prevent a return of data <strong>if no data has been returned yet</strong>. Your code is completely fine and does what you tell it to do: when a user clicks, you send a data request. Your problem can easily be fixed by emptying the hitsArray <code>this.hitsArray = [];</code></p>\n"}], "owner": {"reputation": 360, "user_id": 5368380, "user_type": "registered", "accept_rate": 44, "profile_image": "https://i.stack.imgur.com/CwYpY.jpg?s=128&g=1", "display_name": "blixenkrone", "link": "https://stackoverflow.com/users/5368380/blixenkrone"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 437, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1508319789, "creation_date": 1508319021, "last_edit_date": 1508319789, "question_id": 46806946, "link": "https://stackoverflow.com/questions/46806946/angular-4-repeating-click-get-http-observable-data-multiple-times", "title": "Angular 4 repeating click get http observable data multiple times", "body": "<p>I have this service, that provides me with data from an API as an Observable.\nIn my component, if the user double taps the get-method, the data is pushed many times into the array. Im pretty new to the RxJs lib., but i have a feeling, that it can be fixed with the .switchMap(), using a BehaviorSubject or having the | async pipe?</p>\n\n<p>The \"hitsArray\"-array, is what contains the data in the HTML as a ngFor - the responsedata from the http get, is being pushed into the array more than 1 time, if the user \"spams\" the function by repeatedly clicking.</p>\n\n<p>Service:</p>\n\n<pre><code>  getStories(page: string, hits: string, feed: string): Observable&lt;any&gt; {\n    return this.getToken()\n      .flatMap(idToken =&gt; {\n        let headers = new Headers();\n        headers.set('user_token', idToken);\n        let params = new URLSearchParams();\n        params.set('page', page)\n        params.set('hits', hits)\n        params.set('feed', feed)\n        return this.http\n          .get(`${this.apiUrl}/stories`, { params: params, headers: headers })\n          .map((res: Response) =&gt; {\n            //console.log(response);\n            console.log(\"params: \" + params);\n            const data = res.json();\n            return data;\n          });\n      })\n      .catch(this.handleError);\n  }\n</code></pre>\n\n<p>component:</p>\n\n<pre><code>private getStories(page, hits, feed) {\n    feed = this.feed;\n    this.storiesService.getStories(this.page, this.hits, this.feed)\n      .subscribe(\n      (data) =&gt; {\n        console.log(data);\n        if (!data || data.hits == 0 || data.hits &lt; 6) {\n          this.finished = true;\n          console.log(\"No more hits :(\")\n        } else {\n          this.finished = false;\n          for (let story of data.hits) {\n            this.hitsArray.push(story);\n            console.log(\"Feed me!\")\n          }\n        }\n      })\n    console.log(\"side: \" + this.page)\n  }\n\n  getInitialFeed(feed) {\n    this.hitsArray.length = 0;\n    this.page = 0;\n    this.feed = feed;\n    this.data = [];\n    this.getStories(0, this.feed, '6');\n  }\n\n  onScroll() {\n    console.log(\"Scrolling!\")\n    this.scrollStories()\n  }\n\n  private scrollStories() {\n    this.page++; //SCROLLING\n    if (this.page &gt; 0) {\n      console.log(this.page)\n      this.getStories(this.page, this.hits, this.feed);\n    }\n  }\n</code></pre>\n\n<p>HTML ngFor loop:</p>\n\n<pre><code>&lt;div class=\"col-xs col-sm col-md-4 col-lg-4\" *ngFor=\"let story of hitsArray\" (click)=\"getSpecificStory(story)\"&gt;\n</code></pre>\n\n<p>HTML function \"feed\" calls:</p>\n\n<pre><code>  &lt;a routerLink=\"/discover/curated\" routerLinkActive=\"active\" (click)=\"getInitialFeed('curated')\"&gt;Curated&lt;/a&gt;\n  &lt;a routerLink=\"/discover/trending\" routerLinkActive=\"active\" (click)=\"getInitialFeed('trending')\"&gt;Trending&lt;/a&gt;\n  &lt;a routerLink=\"/discover/latest\" routerLinkActive=\"active\" (click)=\"getInitialFeed('latest')\"&gt;Latest&lt;/a&gt;\n</code></pre>\n"}, {"tags": ["typescript", "redux", "redux-thunk", "redux-promise-middleware", "redux-actions"], "answers": [{"comments": [{"owner": {"reputation": 385, "user_id": 1793198, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ac1ec967feb9ab009b5712b2d51e6b9e?s=128&d=identicon&r=PG", "display_name": "Srishan Supertramp", "link": "https://stackoverflow.com/users/1793198/srishan-supertramp"}, "edited": false, "score": 0, "creation_date": 1508329309, "post_id": 46808900, "comment_id": 80567238, "body": "That is the question. What would be <code>AuthActions</code> such that each case block knows the interface from which <code>action</code> comes from. I&#39;ve edited the question for clarity."}, {"owner": {"reputation": 696, "user_id": 1057806, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/4809ff51bb5a197f0185e5b9508df4bf?s=128&d=identicon&r=PG", "display_name": "Per Svensson", "link": "https://stackoverflow.com/users/1057806/per-svensson"}, "reply_to_user": {"reputation": 385, "user_id": 1793198, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ac1ec967feb9ab009b5712b2d51e6b9e?s=128&d=identicon&r=PG", "display_name": "Srishan Supertramp", "link": "https://stackoverflow.com/users/1793198/srishan-supertramp"}, "edited": false, "score": 0, "creation_date": 1508332867, "post_id": 46808900, "comment_id": 80569425, "body": "Then its the LoginActions union type in my answer above. Iv&#39;e read through the .d.ts files for the middleware and i can see any generics from it. So this means you have to define them like i did and import the union type in your reducer."}], "tags": [], "owner": {"reputation": 696, "user_id": 1057806, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/4809ff51bb5a197f0185e5b9508df4bf?s=128&d=identicon&r=PG", "display_name": "Per Svensson", "link": "https://stackoverflow.com/users/1057806/per-svensson"}, "is_accepted": false, "score": 0, "last_activity_date": 1508332962, "last_edit_date": 1508332962, "creation_date": 1508325269, "answer_id": 46808900, "question_id": 46806840, "link": "https://stackoverflow.com/questions/46806840/using-redux-actions-redux-thunk-and-redux-promise-middleware-in-typescript/46808900#46808900", "title": "Using redux-actions, redux-thunk and redux-promise-middleware in typescript", "body": "<p>The \"normal\" way to do it is to specify all \"action interfaces\" and a union type down to the reducer. Then switch on the type. But from the example code its not clear if the AuthAction type is a union type... </p>\n\n<p>e.g.</p>\n\n<pre><code>type T = Object; //Your resolve data type\ninterface ILoginAction {type: \"LOGIN\", payload: {promise: Promise&lt;T&gt; }}\ninterface ILoginRejectedAction {type: \"LOGIN_REJECTED\", error: YourErrorType }\ninterface ILoginFulfilledAction {type: \"LOGIN_FULFILLED\", payload: {data: T }}\n\nexport type LoginActions = ILoginAction | ILoginRejectedAction | ILoginFulfilledAction\n</code></pre>\n\n<p>Reducer:</p>\n\n<pre><code>import { LoginActions } from \"./actions\"; //Or where your actions are\nfunction loginReducer(state: AppState, action: LoginActions) {\n  switch (action.type) {\n    case \"LOGIN\":\n      // action.payload should be defined as LoginResponse object here.\n      // action.error shouldnt be present.\n    case \"LOGIN_REJECTED\":\n      // action.error should be defined\n  }\n}\n</code></pre>\n\n<p>You can probably create this union in a smarter way using some generics but this is the manual approach. </p>\n"}, {"tags": [], "owner": {"reputation": 1135, "user_id": 2902063, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SouLA.jpg?s=128&g=1", "display_name": "alextrastero", "link": "https://stackoverflow.com/users/2902063/alextrastero"}, "is_accepted": false, "score": 0, "last_activity_date": 1576854040, "creation_date": 1576854040, "answer_id": 59427306, "question_id": 46806840, "link": "https://stackoverflow.com/questions/46806840/using-redux-actions-redux-thunk-and-redux-promise-middleware-in-typescript/59427306#59427306", "title": "Using redux-actions, redux-thunk and redux-promise-middleware in typescript", "body": "<p>I would recommend using <code>createAsyncAction</code> instead of <code>createAction</code>. That way you can define the typings as follows:</p>\n\n<pre><code>/* actions */\nconst login = createAsyncAction&lt;\n  typeof LOGIN,\n  LoginResponse, // no need to wrap in Promise&lt;&gt;\n  null, // this is optional Meta,\n  [LoginPayload] // action creator arguments wrapped in array\n&gt;(LOGIN, authService.login);\n</code></pre>\n\n<p>But i'm afraid I don't have an answer for when <code>login</code> is a thunk:</p>\n\n<pre><code>/* actions */\nconst loginAction = createAsyncAction(LOGIN, authService.login)\nconst loginActionCreator = (data: LoginPayload) =&gt; async(dispatch: Dispatch) =&gt; {\n  await dispatch(loginAction(data));\n}\n// ERROR: () =&gt; void is not assignable to () =&gt; (dispatch) =&gt; void (pseudo code)\n</code></pre>\n"}], "owner": {"reputation": 385, "user_id": 1793198, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ac1ec967feb9ab009b5712b2d51e6b9e?s=128&d=identicon&r=PG", "display_name": "Srishan Supertramp", "link": "https://stackoverflow.com/users/1793198/srishan-supertramp"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1249, "favorite_count": 0, "answer_count": 2, "score": 3, "last_activity_date": 1576854040, "creation_date": 1508318700, "last_edit_date": 1508329458, "question_id": 46806840, "link": "https://stackoverflow.com/questions/46806840/using-redux-actions-redux-thunk-and-redux-promise-middleware-in-typescript", "title": "Using redux-actions, redux-thunk and redux-promise-middleware in typescript", "body": "<p>New to typescript + redux ecosystem here.</p>\n\n<p>How do I properly encapsulate type information into async actions when using redux-actions, redux-thunk and redux-promise-middleware in TypeScript?</p>\n\n<p>An example of authentication:</p>\n\n<pre><code>/* actions */\nconst login = createAction(LOGIN, authService.login);\n\n\n/* authService */\nasync function login(payload: LoginPayload): Promise&lt;LoginResponse&gt; {\n // ... authenticate here.\n}\n</code></pre>\n\n<p>Since I'm using redux-promise-middleware, the actions <code>LOGIN_PENDING</code>, <code>LOGIN_FULFILLED</code>/<code>LOGIN_REJECTED</code> are dispatched automatically. How do I create types for these such that the reducer can figure out what action object it's dealing with?</p>\n\n<p>Since redux-actions follows FSA, <code>_FULFILLED</code> should have <code>action.payload</code>. <code>_REJECTED</code> should have <code>action.error</code></p>\n\n<pre><code>/* reducer */\nfunction loginReducer(state: AppState, action: AuthAction) {\n  switch (action.type) {\n    case LOGIN_FULFILLED:\n      // action.payload should be defined as LoginResponse object here.\n      // action.error shouldnt be present.\n    case LOGIN_REJECTED:\n      // action.error should be defined\n  }\n}\n</code></pre>\n\n<p>How would I go about creating the <code>AuthAction</code> type? I'm guessing it should be a union type of each of the individual action types (which can be union types on their own). <code>redux-actions</code> also provides <code>Action</code> and <code>BaseAction</code> types for this.</p>\n"}, {"tags": ["typescript", "ionic2"], "answers": [{"comments": [{"owner": {"reputation": 1730, "user_id": 2994849, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/635593324b4abb5098c4b25de2e8e469?s=128&d=identicon&r=PG&f=1", "display_name": "Aditya", "link": "https://stackoverflow.com/users/2994849/aditya"}, "edited": false, "score": 0, "creation_date": 1508322623, "post_id": 46807082, "comment_id": 80563095, "body": "when I click ADD ME button the value of result get <code>addition</code> but the button does not replace with <code>Modulus</code>"}, {"owner": {"reputation": 5686, "user_id": 5717907, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/U3Abf.jpg?s=128&g=1", "display_name": "Arun Kumaresh", "link": "https://stackoverflow.com/users/5717907/arun-kumaresh"}, "reply_to_user": {"reputation": 1730, "user_id": 2994849, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/635593324b4abb5098c4b25de2e8e469?s=128&d=identicon&r=PG&f=1", "display_name": "Aditya", "link": "https://stackoverflow.com/users/2994849/aditya"}, "edited": false, "score": 0, "creation_date": 1508322805, "post_id": 46807082, "comment_id": 80563198, "body": "where is your addition function"}, {"owner": {"reputation": 1730, "user_id": 2994849, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/635593324b4abb5098c4b25de2e8e469?s=128&d=identicon&r=PG&f=1", "display_name": "Aditya", "link": "https://stackoverflow.com/users/2994849/aditya"}, "edited": false, "score": 0, "creation_date": 1508323012, "post_id": 46807082, "comment_id": 80563333, "body": "when I click on addition() then somehow it updates the value of <code>result = addition</code>, so when the value changes to <code>addition</code> the button should change to <code>Modulus</code>.This is the required logic i need to implement."}, {"owner": {"reputation": 1730, "user_id": 2994849, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/635593324b4abb5098c4b25de2e8e469?s=128&d=identicon&r=PG&f=1", "display_name": "Aditya", "link": "https://stackoverflow.com/users/2994849/aditya"}, "edited": false, "score": 0, "creation_date": 1508323076, "post_id": 46807082, "comment_id": 80563379, "body": "also addition() is in .ts file."}], "tags": [], "owner": {"reputation": 5686, "user_id": 5717907, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/U3Abf.jpg?s=128&g=1", "display_name": "Arun Kumaresh", "link": "https://stackoverflow.com/users/5717907/arun-kumaresh"}, "is_accepted": false, "score": 1, "last_activity_date": 1508319420, "creation_date": 1508319420, "answer_id": 46807082, "question_id": 46806684, "link": "https://stackoverflow.com/questions/46806684/how-to-dislay-the-buttons-according-to-various-values/46807082#46807082", "title": "How to dislay the buttons according to various values", "body": "<p>you can use <code>*ngIf</code> </p>\n\n<pre><code>&lt;div *ngIf=\"result == 'multiply' || result == 'divide' \"&gt; \n&lt;button ion-button (click)=\"addition()\"&gt;ADD ME&lt;/button&gt;\n&lt;/div&gt;\n\n\n&lt;div *ngIf=\"result == 'addition'\"&gt; \n&lt;button ion-button (click)=\"modulus()\"&gt;Modulus&lt;/button&gt;\n&lt;/div&gt;\n</code></pre>\n"}], "owner": {"reputation": 1730, "user_id": 2994849, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/635593324b4abb5098c4b25de2e8e469?s=128&d=identicon&r=PG&f=1", "display_name": "Aditya", "link": "https://stackoverflow.com/users/2994849/aditya"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 21, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1508323164, "creation_date": 1508318163, "last_edit_date": 1508323164, "question_id": 46806684, "link": "https://stackoverflow.com/questions/46806684/how-to-dislay-the-buttons-according-to-various-values", "title": "How to dislay the buttons according to various values", "body": "<p>How to display the button in the html file on the basis of the values stored in the <code>result</code>?</p>\n\n<p><strong>page1.ts</strong></p>\n\n<pre><code> class page1 {\n    let result: string; //possible values of result can be 'additon', \n                        //'multiply','divide'.\n\n    constructor(public serviceClass : ServiceClass){\n     this.initialzie();\n    }\n\n    additon(){\n      this.result = 'addition';\n   }\n\n    modulus(){\n     //logic for this function.\n    }\n\n    initialize(){\n    this.result = this.serviceClass.someFunction();\n    }\n    }\n</code></pre>\n\n<p><strong>page1.html</strong></p>\n\n<pre><code>//headers and title already implemented.\n\n// buttons to implement now.\n//**condition**: The below button is only shown on the basis of the value \n                  //populated in the result variable in .ts class.\n\n&lt;div&gt; //if result = 'multiply, 'divide' then show this button.How to \n                     //implement this?\n&lt;button ion-button (click)=\"addition()\"&gt;ADD ME&lt;/button&gt;\n&lt;/div&gt;\n\n&lt;div&gt; //if result = 'addition' then show this button.How to implement this?\n&lt;button ion-button (click)=\"modulus()\"&gt;Modulus&lt;/button&gt;\n&lt;/div&gt;\n</code></pre>\n"}, {"tags": ["angular", "typescript", "ionic2"], "answers": [{"comments": [{"owner": {"reputation": 22, "user_id": 8242105, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/904828e8c771c70863c834497d974473?s=128&d=identicon&r=PG&f=1", "display_name": "camnuel", "link": "https://stackoverflow.com/users/8242105/camnuel"}, "edited": false, "score": 0, "creation_date": 1508318613, "post_id": 46806773, "comment_id": 80560595, "body": "for previous tries, I did specified an ngModel, but as these selects are created dynamicaly, I think they share that ngModel, so when 1 of them is modified, all of them change automatically :S"}, {"owner": {"reputation": 1817, "user_id": 4243635, "user_type": "registered", "profile_image": "https://graph.facebook.com/100000619278014/picture?type=large", "display_name": "Nicolas Gehlert", "link": "https://stackoverflow.com/users/4243635/nicolas-gehlert"}, "reply_to_user": {"reputation": 22, "user_id": 8242105, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/904828e8c771c70863c834497d974473?s=128&d=identicon&r=PG&f=1", "display_name": "camnuel", "link": "https://stackoverflow.com/users/8242105/camnuel"}, "edited": false, "score": 0, "creation_date": 1508319893, "post_id": 46806773, "comment_id": 80561469, "body": "well you just can have an object/array and store your values in the appropriate index from the *ngFor. for example: <code>*ngFor=&quot;let question of questions; let i = index&quot;</code>  and then use  <code>ng-selected=&quot;selected[i]&quot;</code>"}], "tags": [], "owner": {"reputation": 1817, "user_id": 4243635, "user_type": "registered", "profile_image": "https://graph.facebook.com/100000619278014/picture?type=large", "display_name": "Nicolas Gehlert", "link": "https://stackoverflow.com/users/4243635/nicolas-gehlert"}, "is_accepted": true, "score": 0, "last_activity_date": 1508318478, "creation_date": 1508318478, "answer_id": 46806773, "question_id": 46806667, "link": "https://stackoverflow.com/questions/46806667/getting-values-selected-from-selects-in-list-ionic/46806773#46806773", "title": "Getting values selected from selects in list - Ionic", "body": "<p>you specify an ngModel on your  tag.</p>\n\n<pre><code>&lt;ion-select [(ngModel)]=\"selectedItems\"&gt;\n</code></pre>\n\n<p>in your page.ts you should then have a public variable declared and can access this.</p>\n\n<p><code>console.log(this.selectedItems);</code></p>\n\n<p>for more select configuration head up to the ionic documentation\n<a href=\"https://ionicframework.com/docs/api/components/select/Select/\" rel=\"nofollow noreferrer\">https://ionicframework.com/docs/api/components/select/Select/</a></p>\n"}], "owner": {"reputation": 22, "user_id": 8242105, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/904828e8c771c70863c834497d974473?s=128&d=identicon&r=PG&f=1", "display_name": "camnuel", "link": "https://stackoverflow.com/users/8242105/camnuel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 866, "favorite_count": 0, "accepted_answer_id": 46806773, "answer_count": 1, "score": 0, "last_activity_date": 1508318478, "creation_date": 1508318076, "last_edit_date": 1508318179, "question_id": 46806667, "link": "https://stackoverflow.com/questions/46806667/getting-values-selected-from-selects-in-list-ionic", "title": "Getting values selected from selects in list - Ionic", "body": "<p>title says everything. I gotta do a relatively simple hybrid app in Ionic, and I want to get selected values in several ion-selects when a button is pressed. Here goes the code:</p>\n\n<p>page.html</p>\n\n<pre><code>    &lt;ion-content padding&gt;\n\n  &lt;div id=\"sectionTitle\"&gt; &lt;/div&gt;\n  &lt;ion-list&gt;\n    &lt;ion-item *ngFor=\"let question of questions\" (click)=\"itemSelected(question)\"&gt;\n      &lt;ion-label&gt;{{question.texto}} &lt;/ion-label&gt;\n      &lt;ion-select&gt;\n        &lt;option ng-selected=\"selected\"&gt;{{answers[0].texto}}&lt;/option&gt;\n        &lt;ion-option text-wrap required *ngFor=\"let answer of answers; let i = index\" onchange=\"itemSelected(answer)\"&gt;\n          &lt;p&gt; {{answer.text}} &lt;/p&gt;\n        &lt;/ion-option&gt;\n      &lt;/ion-select&gt;\n    &lt;/ion-item&gt;\n  &lt;/ion-list&gt;\n\n  &lt;div class=\"sendButton\"&gt;\n  &lt;button ion-button full type=\"submit\" (click)=\"toComparisonPage()\"&gt;\n    Send\n&lt;!-- Here is where data must be retrieved --&gt;\n  &lt;/button&gt;\n  &lt;/div&gt;\n&lt;/ion-content&gt;\n</code></pre>\n\n<p>page.ts</p>\n\n<pre><code>itemSelected(answer){\n  console.log(\"Selected item: \");\n}\n</code></pre>\n\n<p>Thanks in advance!!</p>\n"}, {"tags": ["javascript", "angular", "typescript"], "answers": [{"comments": [{"owner": {"reputation": 966, "user_id": 3129691, "user_type": "registered", "accept_rate": 48, "profile_image": "https://www.gravatar.com/avatar/1a91a60eeb780ff4697b8719e8e062b4?s=128&d=identicon&r=PG&f=1", "display_name": "ccocker", "link": "https://stackoverflow.com/users/3129691/ccocker"}, "edited": false, "score": 0, "creation_date": 1508408778, "post_id": 46807524, "comment_id": 80602821, "body": "Wow thank you.  I have just learnt something, I had no idea that .push from one object to another creates a reference, I thought it did the complete opposite.  I will have a look at your code over the next few days.  Thanks again for the explanation and code"}], "tags": [], "owner": {"reputation": 3678, "user_id": 7131746, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/tTt3q.gif?s=128&g=1", "display_name": "Guillaume Georges", "link": "https://stackoverflow.com/users/7131746/guillaume-georges"}, "is_accepted": false, "score": 0, "last_activity_date": 1508321490, "last_edit_date": 1508321490, "creation_date": 1508320721, "answer_id": 46807524, "question_id": 46806640, "link": "https://stackoverflow.com/questions/46806640/objects-synchronised/46807524#46807524", "title": "Objects synchronised", "body": "<p>In your filterProductsSelected, you're pushing the product (and its <code>items</code> array) into your <code>this.selectedProducts</code> array. </p>\n\n<p>You end up with a reference to your products and their <code>items</code> in both <code>this.selectedProducts</code> and <code>this.productSelectionData</code>. </p>\n\n<p>So, when you're splicing here : \nselectedProduct.items.splice(itemIndex, 1);</p>\n\n<p>You are splicing in the same <code>items</code> array. </p>\n\n<p>I cloned the product object and its items array and it seemed to work : </p>\n\n<pre><code>function filterProductsSelected() {\n    selectedProducts = [];\n    productSelectionData.forEach(product =&gt; {\n      // cloning the product :\n      var productClone = clone(product);\n      // and its items :\n      productClone.items = product.items.slice();\n      selectedProducts.push(productClone);\n    });\n    selectedProducts.forEach(selectedProduct =&gt; {\n      selectedProduct.items.forEach(item =&gt; {\n        const itemIndex = selectedProduct.items.indexOf(item);\n        if (item.selected === false) {\n            console.log(\"not selected\");\n          selectedProduct.items.splice(itemIndex, 1);\n        }\n        if (item.selected === undefined) {\n            console.log(\"undefined selected\");\n\n        selectedProduct.items.splice(itemIndex, 1);\n        }\n      });\n    });\n    console.log('Selected Products, after filter: ', selectedProducts);\n    console.log('Product Selection, after filter: ', productSelectionData);\n    debugger;\n  }\n</code></pre>\n\n<p>The clone function code : </p>\n\n<pre><code>function clone(obj) {\n    if (null == obj || \"object\" != typeof obj) return obj;\n    var copy = obj.constructor();\n    for (var attr in obj) {\n        if (obj.hasOwnProperty(attr)) copy[attr] = obj[attr];\n    }\n    return copy;\n}\n</code></pre>\n"}], "owner": {"reputation": 966, "user_id": 3129691, "user_type": "registered", "accept_rate": 48, "profile_image": "https://www.gravatar.com/avatar/1a91a60eeb780ff4697b8719e8e062b4?s=128&d=identicon&r=PG&f=1", "display_name": "ccocker", "link": "https://stackoverflow.com/users/3129691/ccocker"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 43, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1508321490, "creation_date": 1508318009, "question_id": 46806640, "link": "https://stackoverflow.com/questions/46806640/objects-synchronised", "title": "Objects synchronised", "body": "<p>I have a very strange thing happening in my angular4 application that i cannot figure out for the life of me.</p>\n\n<p>Essentially I am </p>\n\n<ol>\n<li>Loading (@Input) in a full list of products and items into an object called products.</li>\n<li>Loading (@Input) in an object called entity, that contains a property of products with a subset of the full products list i.e. only ones the user has saved into the entity.</li>\n<li>Load Product Data - I push each product from this.products into productSelectionData</li>\n<li>Then I run a function that loops through all the items in the productSelectionData and checks the entity object for any items that have a property called selected and change the value of selected to true</li>\n</ol>\n\n<p>At this point everything looks good</p>\n\n<ol start=\"5\">\n<li>Then I run a function to splice out of selectedProducts and items with a selected property of false.  </li>\n</ol>\n\n<p>This is where the problem occurs.  For some reason that is not obvious to me both the productSelectionData object and the selectedProducts object have the items with selected = false spliced out of the array.  </p>\n\n<p>Code Below: </p>\n\n<pre><code>import { Component, Input, OnInit } from '@angular/core';\nimport { ProposalModel, ProductModel } from './../../../shared/models/';\n\n@Component({\n  selector: 'mj-proposal-edit',\n  templateUrl: './proposal-edit.component.html',\n  styleUrls: ['./proposal-edit.component.scss']\n})\nexport class ProposalEditComponent implements OnInit {\n\n  @Input() entity: ProposalModel;\n  @Input() products: ProductModel[];\n\n  productSelectionData: any;\n  selectedProducts: any;\n\n  constructor() { }\n\n  ngOnInit() {\n\n    // Load all products and items\n    this.loadProductData();\n    this.updateProductSelectionData();\n    this.filterProductsSelected();\n\n  }\n\n  loadProductData() {\n    this.productSelectionData = [];\n\n    this.products.forEach(product =&gt; {\n      this.productSelectionData.push(\n        { productTitle: product.productTitle, items: product.items })\n    });\n    console.log('Product Selection, after load: ', this.productSelectionData);\n    debugger;\n  }\n\n  updateProductSelectionData() {\n    // Update Product Selection Object with previously selected data\n\n    // 1. Check if there is previously saved data\n    if (this.entity.products !== undefined) {\n      // 2. Update productSelectionData with values saved in entity object\n      this.productSelectionData.forEach(product =&gt; {\n        if (this.entity.products !== undefined) {\n          this.entity.products.forEach(entityProduct =&gt; {\n            if (product.productTitle === entityProduct.productTitle) {\n              if (product.items !== undefined) {\n                product.items.forEach(item =&gt; {\n                  if (entityProduct.items !== undefined) {\n                    entityProduct.items.forEach(entityItem =&gt; {\n                      if (item.code === entityItem.code) {\n                        item.selected = true;\n                        item.quantity = entityItem.quantity;\n                        item.discount = entityItem.discount;\n                      }\n                    });\n                  }\n                });\n              }\n            }\n          });\n        }\n      });\n      console.log('Product Selection, after update: ', this.productSelectionData);\n      debugger;\n    }\n  }\n\n  filterProductsSelected() {\n    this.selectedProducts = [];\n    this.productSelectionData.forEach(product =&gt; {\n      this.selectedProducts.push(product)\n    });\n    this.selectedProducts.forEach(selectedProduct =&gt; {\n      selectedProduct.items.forEach(item =&gt; {\n        const itemIndex = selectedProduct.items.indexOf(item);\n        if (item.selected === false) {\n          selectedProduct.items.splice(itemIndex, 1);\n        }\n        if (item.selected === undefined) {\n          selectedProduct.items.splice(itemIndex, 1);\n        }\n      });\n    });\n    console.log('Selected Products, after filter: ', this.selectedProducts);\n    console.log('Product Selection, after filter: ', this.productSelectionData);\n    debugger;\n  }\n\n}\n</code></pre>\n"}, {"tags": ["angular", "typescript", "observable"], "comments": [{"owner": {"reputation": 483726, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1508316581, "post_id": 46806151, "comment_id": 80559344, "body": "<code>this.http.post()</code> only emits a single event, when <code>(data) =&gt; { ... }</code> is executed, processing <b>is</b> completed."}, {"owner": {"reputation": 143, "user_id": 2184334, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/yN6iz.jpg?s=128&g=1", "display_name": "Abder-Edrs", "link": "https://stackoverflow.com/users/2184334/abder-edrs"}, "reply_to_user": {"reputation": 483726, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1508317275, "post_id": 46806151, "comment_id": 80559765, "body": "@G&#252;nterZ&#246;chbauer I need to wait for refresh service before show console.log"}, {"owner": {"reputation": 483726, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1508325125, "post_id": 46806151, "comment_id": 80564567, "body": "I see, didn&#39;t read the code properly. <code>flatMap</code> it is then"}], "answers": [{"comments": [{"owner": {"reputation": 143, "user_id": 2184334, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/yN6iz.jpg?s=128&g=1", "display_name": "Abder-Edrs", "link": "https://stackoverflow.com/users/2184334/abder-edrs"}, "edited": false, "score": 0, "creation_date": 1508319878, "post_id": 46806663, "comment_id": 80561461, "body": "Tanks, it lacks a flatmap return, but at subscribe I retrieve the data from &#39;api / refresh&#39; is not those from &#39;api / ws&#39;"}, {"owner": {"reputation": 1414, "user_id": 2279909, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/29628d319066fe38cb7ccd72380ed323?s=128&d=identicon&r=PG", "display_name": "Preethi", "link": "https://stackoverflow.com/users/2279909/preethi"}, "reply_to_user": {"reputation": 143, "user_id": 2184334, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/yN6iz.jpg?s=128&g=1", "display_name": "Abder-Edrs", "link": "https://stackoverflow.com/users/2184334/abder-edrs"}, "edited": false, "score": 0, "creation_date": 1508320450, "post_id": 46806663, "comment_id": 80561815, "body": "you would have to pass it through the Refresh observable. Edited."}], "tags": [], "owner": {"reputation": 1414, "user_id": 2279909, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/29628d319066fe38cb7ccd72380ed323?s=128&d=identicon&r=PG", "display_name": "Preethi", "link": "https://stackoverflow.com/users/2279909/preethi"}, "is_accepted": true, "score": 1, "last_activity_date": 1508320419, "last_edit_date": 1508320419, "creation_date": 1508318062, "answer_id": 46806663, "question_id": 46806151, "link": "https://stackoverflow.com/questions/46806151/how-to-retrieve-the-data-only-if-the-subscride-processing-is-completed/46806663#46806663", "title": "How to retrieve the data only if the subscride processing is completed", "body": "<p>you can use <code>flatmap</code> and <code>map</code> to call the <code>RefreshService</code> like below:</p>\n\n<pre><code>this.http.post('/api/ws', json).flatMap((response) =&gt; {\n    return this.http.post('/api/refresh', {}).map(\n        (data) =&gt; {\n            RefreshService.data.next(Object.assign({}, data));\n            return response;\n        }\n    )\n}).subscribe(data =&gt; {\n    console.log('data from /api/ws', data)\n})\n</code></pre>\n"}], "owner": {"reputation": 143, "user_id": 2184334, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/yN6iz.jpg?s=128&g=1", "display_name": "Abder-Edrs", "link": "https://stackoverflow.com/users/2184334/abder-edrs"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 26, "favorite_count": 1, "accepted_answer_id": 46806663, "answer_count": 1, "score": 0, "last_activity_date": 1508320419, "creation_date": 1508316460, "last_edit_date": 1508317081, "question_id": 46806151, "link": "https://stackoverflow.com/questions/46806151/how-to-retrieve-the-data-only-if-the-subscride-processing-is-completed", "title": "How to retrieve the data only if the subscride processing is completed", "body": "<p>I can not find a solution to my problem, I explain, hoping that someone could help me.\nI have a requirement to apply a refresh service after every call to the API.</p>\n\n<p>the problem is that I have to wait for the return of the refresh service and make a treatment before returning my data :</p>\n\n<pre><code>    this.http.post('/api/ws', json).do(() =&gt; {\n        this.http.post('/api/refresh', {}).subscribe(\n            (data) =&gt; {\n                RefreshService.data.next(Object.assign({}, data));\n            }\n        );\n    }).subscribe(data =&gt; {\n        console.log('data from /api/ws', data)\n    })\n</code></pre>\n\n<p>I need to retrieve the data only if the subscride processing is completed.</p>\n\n<p>Thank you for your help :)</p>\n"}, {"tags": ["node.js", "angular", "rest", "typescript"], "comments": [{"owner": {"reputation": 18922, "user_id": 3633742, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/thyJX.jpg?s=128&g=1", "display_name": "n00dl3", "link": "https://stackoverflow.com/users/3633742/n00dl3"}, "edited": false, "score": 0, "creation_date": 1508316087, "post_id": 46805964, "comment_id": 80559043, "body": "Angular is a frontend framework, how would it allow you to build a REST API ? I don&#39;t understand the question..."}, {"owner": {"reputation": 2127, "user_id": 3330947, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/cbef7af543f21150cca4c794b5e47e45?s=128&d=identicon&r=PG", "display_name": "dev_in_progress", "link": "https://stackoverflow.com/users/3330947/dev-in-progress"}, "reply_to_user": {"reputation": 18922, "user_id": 3633742, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/thyJX.jpg?s=128&g=1", "display_name": "n00dl3", "link": "https://stackoverflow.com/users/3633742/n00dl3"}, "edited": false, "score": 0, "creation_date": 1508316263, "post_id": 46805964, "comment_id": 80559134, "body": "I don&#39;t know, that&#39;s why I ask. Its simple question, how to check status of Angular 2 application?"}, {"owner": {"reputation": 18922, "user_id": 3633742, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/thyJX.jpg?s=128&g=1", "display_name": "n00dl3", "link": "https://stackoverflow.com/users/3633742/n00dl3"}, "edited": false, "score": 1, "creation_date": 1508316881, "post_id": 46805964, "comment_id": 80559519, "body": "The question is : What do you mean by &quot;<i>status of Angular 2 application</i>&quot; ?"}], "answers": [{"tags": [], "owner": {"reputation": 800, "user_id": 837953, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/8b3addd4a6e8bf6090ffc4c3a15818e0?s=128&d=identicon&r=PG", "display_name": "duongthaiha", "link": "https://stackoverflow.com/users/837953/duongthaiha"}, "is_accepted": false, "score": 0, "last_activity_date": 1508316561, "creation_date": 1508316561, "answer_id": 46806183, "question_id": 46805964, "link": "https://stackoverflow.com/questions/46805964/ping-angular-2-application/46806183#46806183", "title": "Ping Angular 2 application", "body": "<p>Depend on what you want to check really. </p>\n\n<p>A 200 response from website is enough? </p>\n\n<p>Or you want to make sure some logic is working as well. If it is the case then we have a route in Angular app this do a quick check on critical APIs and return a 200 if OK and 400 if it is not. For example: domain.com/status/probe</p>\n"}, {"comments": [{"owner": {"reputation": 2127, "user_id": 3330947, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/cbef7af543f21150cca4c794b5e47e45?s=128&d=identicon&r=PG", "display_name": "dev_in_progress", "link": "https://stackoverflow.com/users/3330947/dev-in-progress"}, "edited": false, "score": 0, "creation_date": 1508319351, "post_id": 46806443, "comment_id": 80561077, "body": "Nice, that is what I wanted. Thanks! I added in root folder monitor.json with status ok, if app is down it will break. If its up it will return that json."}], "tags": [], "owner": {"reputation": 1780, "user_id": 8461847, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e6fd6ec69a07e74e4047450fc96b5035?s=128&d=identicon&r=PG&f=1", "display_name": "Vinko Vorih", "link": "https://stackoverflow.com/users/8461847/vinko-vorih"}, "is_accepted": true, "score": 1, "last_activity_date": 1508317383, "creation_date": 1508317383, "answer_id": 46806443, "question_id": 46805964, "link": "https://stackoverflow.com/questions/46805964/ping-angular-2-application/46806443#46806443", "title": "Ping Angular 2 application", "body": "<p>I'm giving you example in Java code. So what you need to do is create a thread that (scheduled or not; I'm using cron scheduler in this example) will try to access <strong><a href=\"http://localhost:4200\" rel=\"nofollow noreferrer\">http://localhost:4200</a></strong> which is by default your angular2 server.</p>\n\n<pre><code>public class AppConfig{\n@Autowired\nRequestStatus reqStat;\n\n@Scheduled(cron=\"0 */5 0-3,5-23 * * *\")\npublic void checkAvailability() \n{\n\n    if(!reqStat.fetchProduction()){\n        //do something\n}\n\n\n\n\npublic class RequestStatus {\n\npublic boolean fetchProduction() {\n\n    boolean result = false;\n    try {\n        URL url = new URL(\"http://localhost:4200/\");\n        url.openStream();\n        result = true;\n    } catch (Exception ex) {\n    }\n    return result;\n}\n\n\n\npublic class CheckAvailabilityThread{\n\n@Autowired\nRequestStatus reqStat;\n}\n</code></pre>\n\n<p>Also, if you want to do it in JS,  status code <strong>200</strong> in Response header will do your job.</p>\n"}], "owner": {"reputation": 2127, "user_id": 3330947, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/cbef7af543f21150cca4c794b5e47e45?s=128&d=identicon&r=PG", "display_name": "dev_in_progress", "link": "https://stackoverflow.com/users/3330947/dev-in-progress"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 897, "favorite_count": 0, "accepted_answer_id": 46806443, "answer_count": 2, "score": 1, "last_activity_date": 1508317383, "creation_date": 1508315785, "question_id": 46805964, "link": "https://stackoverflow.com/questions/46805964/ping-angular-2-application", "title": "Ping Angular 2 application", "body": "<p>I have Angular 2 application on one server and Java application on other.</p>\n\n<p>I want to ping Angular application from Java to check status (is it up or down).</p>\n\n<p>Is there a way to make Angular 2 RESTful API to serve that data, or do i need something on Node.js to check app status (make rest api there?)??</p>\n\n<p>Any help is appreciated</p>\n"}, {"tags": ["angular", "typescript", "angular-ngmodel"], "answers": [{"comments": [{"owner": {"reputation": 168939, "user_id": 5485167, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qWD9t.jpg?s=128&g=1", "display_name": "yurzui", "link": "https://stackoverflow.com/users/5485167/yurzui"}, "edited": false, "score": 0, "creation_date": 1508325217, "post_id": 46805646, "comment_id": 80564629, "body": "But if we create example we can see that ViewChild is set inside ngOnInit <a href=\"https://stackblitz.com/edit/angular-3nkvgr?file=app%2Fapp.component.ts\" rel=\"nofollow noreferrer\">stackblitz.com/edit/angular-3nkvgr?file=app%2Fapp.component.&zwnj;&#8203;ts</a> It means that if ViewChild is static query then we can get its value inside ngOnInit"}, {"owner": {"reputation": 57402, "user_id": 5496973, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JH9iD.jpg?s=128&g=1", "display_name": "Suren Srapyan", "link": "https://stackoverflow.com/users/5496973/suren-srapyan"}, "reply_to_user": {"reputation": 168939, "user_id": 5485167, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qWD9t.jpg?s=128&g=1", "display_name": "yurzui", "link": "https://stackoverflow.com/users/5485167/yurzui"}, "edited": false, "score": 0, "creation_date": 1508325434, "post_id": 46805646, "comment_id": 80564763, "body": "Interesting. So why documentation says about <code>ngAfterViewInit</code>? Maybe not every time it can be in OnInit ?"}, {"owner": {"reputation": 168939, "user_id": 5485167, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qWD9t.jpg?s=128&g=1", "display_name": "yurzui", "link": "https://stackoverflow.com/users/5485167/yurzui"}, "edited": false, "score": 0, "creation_date": 1508325464, "post_id": 46805646, "comment_id": 80564781, "body": "I think they forgot to update it. It was true for old view compiler"}, {"owner": {"reputation": 168939, "user_id": 5485167, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qWD9t.jpg?s=128&g=1", "display_name": "yurzui", "link": "https://stackoverflow.com/users/5485167/yurzui"}, "edited": false, "score": 0, "creation_date": 1508325522, "post_id": 46805646, "comment_id": 80564814, "body": "<a href=\"https://github.com/angular/angular/blob/931cf78057068a28831acd0638e349d80d5e2f16/packages/core/src/view/view.ts#L332-L336\" rel=\"nofollow noreferrer\">github.com/angular/angular/blob/&hellip;</a> Static content is filled during creation nodes"}, {"owner": {"reputation": 57402, "user_id": 5496973, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JH9iD.jpg?s=128&g=1", "display_name": "Suren Srapyan", "link": "https://stackoverflow.com/users/5496973/suren-srapyan"}, "reply_to_user": {"reputation": 168939, "user_id": 5485167, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qWD9t.jpg?s=128&g=1", "display_name": "yurzui", "link": "https://stackoverflow.com/users/5485167/yurzui"}, "edited": false, "score": 0, "creation_date": 1508325526, "post_id": 46805646, "comment_id": 80564818, "body": "Maybe. Thanks for your comments"}, {"owner": {"reputation": 168939, "user_id": 5485167, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qWD9t.jpg?s=128&g=1", "display_name": "yurzui", "link": "https://stackoverflow.com/users/5485167/yurzui"}, "edited": false, "score": 0, "creation_date": 1508325617, "post_id": 46805646, "comment_id": 80564872, "body": "But static content can be only <code>ViewChild</code> not <code>ViewChildren</code> <a href=\"https://github.com/angular/angular/blob/0833b59aabddd541820379f3cbc69c62a5787bcc/packages/compiler/src/view_compiler/view_compiler.ts#L1078-L1080\" rel=\"nofollow noreferrer\">github.com/angular/angular/blob/&hellip;</a>"}, {"owner": {"reputation": 168939, "user_id": 5485167, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qWD9t.jpg?s=128&g=1", "display_name": "yurzui", "link": "https://stackoverflow.com/users/5485167/yurzui"}, "edited": false, "score": 0, "creation_date": 1508325757, "post_id": 46805646, "comment_id": 80564978, "body": "Yeah, that&#39;s. Only ViewChild, but if it is &quot;static query&quot;. For example if it is not inside *ngIf"}, {"owner": {"reputation": 57402, "user_id": 5496973, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JH9iD.jpg?s=128&g=1", "display_name": "Suren Srapyan", "link": "https://stackoverflow.com/users/5496973/suren-srapyan"}, "reply_to_user": {"reputation": 168939, "user_id": 5485167, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qWD9t.jpg?s=128&g=1", "display_name": "yurzui", "link": "https://stackoverflow.com/users/5485167/yurzui"}, "edited": false, "score": 0, "creation_date": 1508325818, "post_id": 46805646, "comment_id": 80565020, "body": "Understood. Thank you very much"}], "tags": [], "owner": {"reputation": 57402, "user_id": 5496973, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JH9iD.jpg?s=128&g=1", "display_name": "Suren Srapyan", "link": "https://stackoverflow.com/users/5496973/suren-srapyan"}, "is_accepted": true, "score": 3, "last_activity_date": 1508314683, "creation_date": 1508314683, "answer_id": 46805646, "question_id": 46805611, "link": "https://stackoverflow.com/questions/46805611/how-to-access-to-an-ngmodel-element-inside-a-reusable-component/46805646#46805646", "title": "How to access to an ngModel element inside a reusable component", "body": "<p>Elements which are tried to be got via <code>ViewChild</code> are not ready at the <code>OnInit</code> life cycle event. You can get the element in <code>AfterViewInit</code> life cycle event.</p>\n\n<p>From the <a href=\"https://angular.io/api/core/ViewChild\" rel=\"nofollow noreferrer\"><strong>Documentation</strong></a></p>\n\n<blockquote>\n  <p>View queries are set before the ngAfterViewInit callback is called.</p>\n</blockquote>\n\n<p>Code block. Access your field in the <code>ngAfterViewInit</code> callback. </p>\n\n<pre><code>@ViewChild('nameAccessor') ngModel:NgModel;\n\nngOnInit(): void {\n\n}\n\nngAfterViewInit(): void {\n   console.log(this.ngModel);\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1699, "user_id": 7381290, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TEdO5.jpg?s=128&g=1", "display_name": "Mohamed Gara", "link": "https://stackoverflow.com/users/7381290/mohamed-gara"}, "is_accepted": false, "score": 1, "last_activity_date": 1508314797, "creation_date": 1508314797, "answer_id": 46805676, "question_id": 46805611, "link": "https://stackoverflow.com/questions/46805611/how-to-access-to-an-ngmodel-element-inside-a-reusable-component/46805676#46805676", "title": "How to access to an ngModel element inside a reusable component", "body": "<p>In ngOnInit, the @ViewChild are not yet setted. You should use ngAfterViewInit.</p>\n"}], "owner": {"reputation": 1137, "user_id": 1219248, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/ca01e18d57f67de7db18c3e5b798f38b?s=128&d=identicon&r=PG", "display_name": "rematnarab", "link": "https://stackoverflow.com/users/1219248/rematnarab"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4945, "favorite_count": 3, "accepted_answer_id": 46805646, "answer_count": 2, "score": 3, "last_activity_date": 1508314966, "creation_date": 1508314549, "last_edit_date": 1508314966, "question_id": 46805611, "link": "https://stackoverflow.com/questions/46805611/how-to-access-to-an-ngmodel-element-inside-a-reusable-component", "title": "How to access to an ngModel element inside a reusable component", "body": "<p>I have an ngModel component inside my reusable component. The field is not part of a form. I would like to access to it to do some changes. I have tried the below code but it comes undefined in OnInit. Could you tell me how to access it ?</p>\n\n<p>Below code returns undefined</p>\n\n<pre><code>@ViewChild('nameAccessor') ngModel:NgModel;\nngOnInit(): void {\n    console.log(this.ngModel);\n}\n</code></pre>\n\n<p>Template</p>\n\n<pre><code>&lt;input ngModel (blur)=\"nameBoxChanged(nameAccessor)\" (keyup)=\"nameBoxChanged(nameAccessor)\" [ngClass]=\"{'redBorder':nameBoxValidator}\"\n      #nameAccessor [disabled]=\"pageStatus==4\" name=\"name\" id=\"name\" type=\"text\" class=\"form-control\" placeholder=\"{{'movieCategory.placeHolder.name'|translate}}\"&gt;\n</code></pre>\n"}, {"tags": ["angular", "typescript", "rxjs", "observable"], "answers": [{"comments": [{"owner": {"reputation": 12947, "user_id": 197420, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/c7c7f81bf5ec9cc3644ad96552694080?s=128&d=identicon&r=PG", "display_name": "Mike Sav", "link": "https://stackoverflow.com/users/197420/mike-sav"}, "edited": false, "score": 0, "creation_date": 1508317055, "post_id": 46805726, "comment_id": 80559630, "body": "That is fantastic -  a great answer, well explained however what if I want to perform an action with results that aren&#39;t strings - for example if the result is not a string I write to the console?"}, {"owner": {"reputation": 50474, "user_id": 6680611, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wRJqu.png?s=128&g=1", "display_name": "cartant", "link": "https://stackoverflow.com/users/6680611/cartant"}, "reply_to_user": {"reputation": 12947, "user_id": 197420, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/c7c7f81bf5ec9cc3644ad96552694080?s=128&d=identicon&r=PG", "display_name": "Mike Sav", "link": "https://stackoverflow.com/users/197420/mike-sav"}, "edited": false, "score": 0, "creation_date": 1508319019, "post_id": 46805726, "comment_id": 80560861, "body": "Just compose another observable and subscribe to it: <code>dialogRef.afterClosed().filter(result =&gt; typeof result !== &#39;string&#39;).do(result =&gt; console.log(result)).subscribe()</code>. Compose as many as you need. If the filter expresssions are mutually exclusive, only one will do something."}], "tags": [], "owner": {"reputation": 50474, "user_id": 6680611, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wRJqu.png?s=128&g=1", "display_name": "cartant", "link": "https://stackoverflow.com/users/6680611/cartant"}, "is_accepted": true, "score": 4, "last_activity_date": 1508329255, "last_edit_date": 1508329255, "creation_date": 1508314958, "answer_id": 46805726, "question_id": 46805272, "link": "https://stackoverflow.com/questions/46805272/preventing-a-pyramid-of-doom-using-rxjs-subscribe-with-angular-flattening-the/46805726#46805726", "title": "Preventing a Pyramid of Doom using rxjs .subscribe with Angular - flattening the number of .subscribes", "body": "<p>You could do something like this:</p>\n\n<pre><code>dialogRef\n  .afterClosed()\n  .filter(result =&gt; typeof result === 'string')\n  .mergeMap(result =&gt; this.userService\n    .getUser(userId)\n    .mergeMap(user =&gt; {\n      let mergedObj = Object.assign({}, user, { newProperty: result });\n      return this.scbasService.updateUser(userId, mergedObj);\n    })\n  )\n  .do(() =&gt; this.doSomethingElse(userData))\n  .subscribe();\n</code></pre>\n\n<ul>\n<li>Use <code>filter</code> so that only <code>string</code> results are processed.</li>\n<li>Use <code>mergeMap</code> to compose an inner observable for the <code>getUser</code> and <code>updateUser</code> calls.</li>\n<li>Use <code>mergeMap</code> again to merge the inner observable into the outer observable.</li>\n<li>Use <code>do</code> to do something after the user is updated.</li>\n<li>And call <code>subscribe</code>. Otherwise, nothing will happen.</li>\n</ul>\n\n<p>Something to keep in mind is that nesting <code>subscribe</code> calls within <code>subscribe</code> calls is an antipattern.</p>\n\n<p>If you want, you could flatten it further, using the result selector in the first <code>mergeMap</code> to add the property:</p>\n\n<pre><code>dialogRef\n  .afterClosed()\n  .filter(result =&gt; typeof result === 'string')\n  .mergeMap(\n    result =&gt; this.userService.getUser(userId),\n    (result, user) =&gt; Object.assign({}, user, { newProperty: result })\n  )\n  .mergeMap(\n    userWithNewProperty =&gt; this.scbasService.updateUser(userId, userWithNewProperty)\n  )\n  .do(() =&gt; this.doSomethingElse(userData))\n  .subscribe();\n</code></pre>\n"}], "owner": {"reputation": 12947, "user_id": 197420, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/c7c7f81bf5ec9cc3644ad96552694080?s=128&d=identicon&r=PG", "display_name": "Mike Sav", "link": "https://stackoverflow.com/users/197420/mike-sav"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 318, "favorite_count": 0, "accepted_answer_id": 46805726, "answer_count": 1, "score": 2, "last_activity_date": 1508329255, "creation_date": 1508313225, "question_id": 46805272, "link": "https://stackoverflow.com/questions/46805272/preventing-a-pyramid-of-doom-using-rxjs-subscribe-with-angular-flattening-the", "title": "Preventing a Pyramid of Doom using rxjs .subscribe with Angular - flattening the number of .subscribes", "body": "<p>I'm currently looking into <a href=\"https://www.learnrxjs.io/operators/combination/merge.html\" rel=\"nofollow noreferrer\">RxJS's .merge</a> however I'll also ask the question here as I find explanations here at times to be brilliant.</p>\n\n<p>Okay, I have a form that depending on user input opens a modal window, I subscribe to the modal close event and pass back some data that I will use after I call / subscribe to a service method to retrieve some data, then when this has happened I do the same again and call / subscribe another service method to update some date then when this has finished I run a local method. So what I have here is 3 nested <code>.subscribe</code>s</p>\n\n<pre><code>const dialogRef = this.matDialog.open(ModalWindowComponent, {});\nlet userId = 4; // this is the real world is selected by the user\nlet userData = {}; // this is actually form data created by the user\n\n// dialog is closed\ndialogRef.afterClosed().subscribe((result) =&gt; {\n  if (typeof result === 'string') {\n     // subscribe to a service to get some data\n     this.userService.getUser(userId).subscribe((user: any) =&gt; {\n        // do something with the data\n        let mergedObj = Object.assign({}, user, {newProperty: result});\n          // subscribe to another service to update the data\n          this.scbasService.updateUser(userId, mergedObj).subscribe(() =&gt; {\n             this.doSomethingElse(userData); \n      });\n    });\n  }\n});\n</code></pre>\n\n<p>What I have here is a \"pyramid of doom\". I remember when working with AngularJS and working with promises I could return the next service and have chained <code>.then()</code>s. I really want to flatten my code, any ideas?</p>\n\n<p>How could I do the same here so my code doesn't indent constantly?</p>\n\n<p>If I haven't asked or explained myself so well please say so and I will rephrase my question.</p>\n"}, {"tags": ["angular", "typescript", "angular2-observables"], "answers": [{"comments": [{"owner": {"reputation": 3272, "user_id": 4269187, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Yhb5z.jpg?s=128&g=1", "display_name": "Carsten", "link": "https://stackoverflow.com/users/4269187/carsten"}, "edited": false, "score": 0, "creation_date": 1508308779, "post_id": 46804038, "comment_id": 80555041, "body": "OP might also try to use username.json() or username.text()"}, {"owner": {"reputation": 195, "user_id": 5245386, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/66e22aa903489c0d571b26464b3c6342?s=128&d=identicon&r=PG&f=1", "display_name": "Sol", "link": "https://stackoverflow.com/users/5245386/sol"}, "edited": false, "score": 1, "creation_date": 1508312178, "post_id": 46804038, "comment_id": 80556834, "body": "That solution is returning undefined."}, {"owner": {"reputation": 57402, "user_id": 5496973, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JH9iD.jpg?s=128&g=1", "display_name": "Suren Srapyan", "link": "https://stackoverflow.com/users/5496973/suren-srapyan"}, "edited": false, "score": 0, "creation_date": 1508312682, "post_id": 46804038, "comment_id": 80557137, "body": "Use myFinalValue only with binding, you can&#39;t know when it will be returned"}, {"owner": {"reputation": 195, "user_id": 5245386, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/66e22aa903489c0d571b26464b3c6342?s=128&d=identicon&r=PG&f=1", "display_name": "Sol", "link": "https://stackoverflow.com/users/5245386/sol"}, "edited": false, "score": 1, "creation_date": 1508342961, "post_id": 46804038, "comment_id": 80576577, "body": "Thanks for your input Suren, but I need the value from the observable to use in a service, not in a component/html template.  Is there a way to do binding inside a service as opposed to an html page?"}, {"owner": {"reputation": 57402, "user_id": 5496973, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JH9iD.jpg?s=128&g=1", "display_name": "Suren Srapyan", "link": "https://stackoverflow.com/users/5496973/suren-srapyan"}, "edited": false, "score": 0, "creation_date": 1508343363, "post_id": 46804038, "comment_id": 80576828, "body": "You know it will be better to understand observables at all and then try to do something. <a href=\"http://reactivex.io/rxjs/\" rel=\"nofollow noreferrer\">reactivex.io/rxjs</a> See the basics and look at the methods. Maybe you can think out how to make your logic"}], "tags": [], "owner": {"reputation": 57402, "user_id": 5496973, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JH9iD.jpg?s=128&g=1", "display_name": "Suren Srapyan", "link": "https://stackoverflow.com/users/5496973/suren-srapyan"}, "is_accepted": false, "score": 5, "last_activity_date": 1508312649, "last_edit_date": 1508312649, "creation_date": 1508308242, "answer_id": 46804038, "question_id": 46804020, "link": "https://stackoverflow.com/questions/46804020/how-to-set-a-value-from-observable-to-a-variable-in-angular-2/46804038#46804038", "title": "How to set a value from observable to a variable in Angular 2", "body": "<p>Because your call is an asynchronous (callback will work only when it is finished, you don't know when), you can't return a value from the asynchronous call, so you need only to assign it when the call is finished.\nYou need to do your logic which is related to the <code>username</code> you get in the <code>subscribe</code> method. You need to create a field to keep the value of the <code>username</code> for the later use in the class.</p>\n\n<pre><code>@Injectable()\nexport class AnotherService {\n\n    username: any[] = [];\n    myFinalValue: string;\n\n    constructor(private getUsernameService: UsernameService) { }\n\n    someMethod() {\n        this.getUsernameService.getUsername()\n        .subscribe(username =&gt; this.myFinalValue = username.data[0].AccountName));\n    }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 195, "user_id": 5245386, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/66e22aa903489c0d571b26464b3c6342?s=128&d=identicon&r=PG&f=1", "display_name": "Sol", "link": "https://stackoverflow.com/users/5245386/sol"}, "is_accepted": true, "score": 0, "last_activity_date": 1508355926, "creation_date": 1508355926, "answer_id": 46818043, "question_id": 46804020, "link": "https://stackoverflow.com/questions/46804020/how-to-set-a-value-from-observable-to-a-variable-in-angular-2/46818043#46818043", "title": "How to set a value from observable to a variable in Angular 2", "body": "<p>It turns out that since the observable is asynchronous and as Suren said \"callback will work only when it is finished, you don't know when\", I needed to initiate the code that was subscribing to the first service in my component ngOnInIt. From there, I needed to pass the subscribe value to the method in the component that actually calls the subscribe form the service as a parameter.</p>\n\n<p>Here's the piece form my component (you can see the this.username value passed to the getCharges() method as getCharges(accountName):</p>\n\n<pre><code>getCharges(accountName) {\n  this.getChargesService.getCharges(accountName)\n  .subscribe((charges) =&gt; {\n      this.charges = charges.data;\n      }, (error) =&gt; console.log(error) \n      )\n  }\n\n\nngOnInit() {\nthis.getUsernameService.getUsername()\n   .subscribe(username =&gt;  { \n        this.username = username.data[0].AccountName;\n        this.getCharges(this.username);\n        })\n   }\n</code></pre>\n\n<p>Then in the service file with the getUsernameService.getUsername() service/method, I was easily able to assign the parameter which contained my desired value to a variable.</p>\n\n<p>Hope that helps!</p>\n"}], "owner": {"reputation": 195, "user_id": 5245386, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/66e22aa903489c0d571b26464b3c6342?s=128&d=identicon&r=PG&f=1", "display_name": "Sol", "link": "https://stackoverflow.com/users/5245386/sol"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 23040, "favorite_count": 2, "accepted_answer_id": 46818043, "answer_count": 2, "score": 6, "last_activity_date": 1556001961, "creation_date": 1508308143, "last_edit_date": 1556001961, "question_id": 46804020, "link": "https://stackoverflow.com/questions/46804020/how-to-set-a-value-from-observable-to-a-variable-in-angular-2", "title": "How to set a value from observable to a variable in Angular 2", "body": "<p>I have a <code>UsernameService</code> that returns an observable which contains a json object. In <code>AnotherService</code>, I want to inject a value from the <code>UsernameService</code> object.</p>\n\n<p>So far, I am able to subscribe to the observable from UsernameService and I can show it in the console.  I can even drill down and show one of the values from the object in the console.  However, I don't understand how to assign that value to a variable that I can then use.  Instead, when I try to assign the value to a variable, in the console I get: Subscriber <code>{closed: false, _parent: null, _parents: null...etc</code></p>\n\n<p>Here's my example where I am successfully showing the observable value in the console:</p>\n\n<pre><code>import { UsernameService } from './username.service';\nimport { Injectable, OnInit } from '@angular/core';\nimport 'rxjs/Rx';\n\n@Injectable()\nexport class AnotherService {\n\n    username: any[] = [];\n\n    constructor(private getUsernameService: UsernameService) { }\n\n    someMethod() {\n        let myFinalValue = this.getUsernameService.getUsername()\n        .subscribe(username =&gt; console.log(username.data[0].AccountName));\n    }\n}\n</code></pre>\n\n<p>The code above results in the console correctly showing the value of the <code>AccountName</code> field which I am trying to  assign to the variable <code>myFinalValue</code>.  However, I cannot seem to figure out where I am going wrong. </p>\n\n<p>When I try to use the same  technique to simply  get the value (instead of log in console), I get the generic: Subscriber <code>{closed: false, _parent: null, _parents: null</code>...etc as I mentioned before.</p>\n\n<p>Here's an example of the code that results in my error:</p>\n\n<pre><code>import { UsernameService } from './username.service';\nimport { Injectable, OnInit } from '@angular/core';\nimport 'rxjs/Rx';\n\n@Injectable()\nexport class AnotherService {\n\n    username: any[] = [];\n\n    constructor(private getUsernameService: UsernameService) { }\n\n    someMethod() {\n        let myFinalValue = this.getUsernameService.getUsername()\n        .subscribe(username =&gt; this.username = username.data[0].AccountName);\n        console.log(myFinalValue);\n    }\n}\n</code></pre>\n\n<p>Ultimately, my goal is to just assign the value from <em>username.data[0].AccountName</em> to the variable <em>myFinalValue</em>.</p>\n\n<p>Thanks in advance for your help!</p>\n"}, {"tags": ["angular", "typescript"], "answers": [{"comments": [{"owner": {"reputation": 6359, "user_id": 6143656, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/ee15a9ee7eb1213ec2702d1b30ee3c6f?s=128&d=identicon&r=PG", "display_name": "Roel", "link": "https://stackoverflow.com/users/6143656/roel"}, "edited": false, "score": 0, "creation_date": 1508305754, "post_id": 46803543, "comment_id": 80553778, "body": "Hi there i will try this one but just curious of the outcome it is still valid to use this on ` {  path: &#39;some-path/&#39;,  component: ClientComponent, canActivate: [AuthGuard]  }`?"}, {"owner": {"reputation": 57402, "user_id": 5496973, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JH9iD.jpg?s=128&g=1", "display_name": "Suren Srapyan", "link": "https://stackoverflow.com/users/5496973/suren-srapyan"}, "reply_to_user": {"reputation": 6359, "user_id": 6143656, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/ee15a9ee7eb1213ec2702d1b30ee3c6f?s=128&d=identicon&r=PG", "display_name": "Roel", "link": "https://stackoverflow.com/users/6143656/roel"}, "edited": false, "score": 0, "creation_date": 1508305793, "post_id": 46803543, "comment_id": 80553799, "body": "@ShiftN&#39;Tab Yes of course, it is one variant of the <code>canActivate</code> function"}], "tags": [], "owner": {"reputation": 57402, "user_id": 5496973, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JH9iD.jpg?s=128&g=1", "display_name": "Suren Srapyan", "link": "https://stackoverflow.com/users/5496973/suren-srapyan"}, "is_accepted": true, "score": 4, "last_activity_date": 1508307811, "last_edit_date": 1508307811, "creation_date": 1508305597, "answer_id": 46803543, "question_id": 46803522, "link": "https://stackoverflow.com/questions/46803522/how-to-return-the-promise-then-catch-result-to-the-function-containing-the-p/46803543#46803543", "title": "How to return the promise then()/catch() result to the function containing the promise?", "body": "<p>The return type of <code>canActivate</code> method of the <a href=\"https://angular.io/api/router/CanActivate\" rel=\"nofollow noreferrer\"><strong>CanActivate</strong></a> interface is <code>Observable&lt;boolean&gt;|Promise&lt;boolean&gt;|boolean</code>. </p>\n\n<p>You can use <code>canActivate(): Promise&lt;boolean&gt;</code> version and return a Promise. In the function you can write</p>\n\n<pre><code>canActivate() : Promise&lt;boolean&gt; {\n\n   return new Promise( resolve =&gt; {\n\n      this.authSrv.verfifyUser(some_user).then(result =&gt; {\n         resolve(true);\n      }).catch(err =&gt; {\n         resolve(false);\n      });\n\n   });\n\n}\n</code></pre>\n"}], "owner": {"reputation": 6359, "user_id": 6143656, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/ee15a9ee7eb1213ec2702d1b30ee3c6f?s=128&d=identicon&r=PG", "display_name": "Roel", "link": "https://stackoverflow.com/users/6143656/roel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 420, "favorite_count": 0, "accepted_answer_id": 46803543, "answer_count": 1, "score": 0, "last_activity_date": 1508307811, "creation_date": 1508305490, "question_id": 46803522, "link": "https://stackoverflow.com/questions/46803522/how-to-return-the-promise-then-catch-result-to-the-function-containing-the-p", "title": "How to return the promise then()/catch() result to the function containing the promise?", "body": "<p>In my situation I am working with auth guard <code>CanActivate()</code> restricting the user access for every route, however the condition value is taken from http request Promise object. How can i access the Promise then() and catch() and return it to <code>CanActivate(): Boolean</code> function?</p>\n\n<p>My code look something like this.</p>\n\n<pre><code>// On AuthService\nverfifyUser(): Promise&lt;any&gt; {\n    return this.http\n      .get(`api/auth/verify-user`, { headers: this.headers })\n      .toPromise()\n      .then(res =&gt; res.json() as any);\n}\n\n\n// On AuthGuardService\nCanActivate(): Boolean {\n    this.authSrv.verfifyUser(some_user).then(result =&gt; {\n         // return true\n    }).catch(err =&gt; {\n         // return false \n    });\n}\n</code></pre>\n\n<p>I still can't figure out how to solve this problem.</p>\n"}, {"tags": ["angular", "typescript", "angular2-template", "angular2-observables"], "comments": [{"owner": {"reputation": 3272, "user_id": 4269187, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Yhb5z.jpg?s=128&g=1", "display_name": "Carsten", "link": "https://stackoverflow.com/users/4269187/carsten"}, "edited": false, "score": 0, "creation_date": 1508303972, "post_id": 46803105, "comment_id": 80553133, "body": "Could you show the contents of f"}, {"owner": {"reputation": 2289, "user_id": 5836034, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/awlVz.jpg?s=128&g=1", "display_name": "Theophilus Omoregbee", "link": "https://stackoverflow.com/users/5836034/theophilus-omoregbee"}, "edited": false, "score": 0, "creation_date": 1508304437, "post_id": 46803105, "comment_id": 80553292, "body": "just a chip in, instead of <code>&lt;string&gt; f[&#39;_body&#39;];</code> change to <code>&lt;string&gt;f.text()</code> safer"}, {"owner": {"reputation": 630270, "user_id": 571407, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2f0d9dec16bae1e06552af55ddefc11f?s=128&d=identicon&r=PG", "display_name": "JB Nizet", "link": "https://stackoverflow.com/users/571407/jb-nizet"}, "edited": false, "score": 2, "creation_date": 1508305766, "post_id": 46803105, "comment_id": 80553787, "body": "I don&#39;t understand what you&#39;re asking. What are you trying to achieve. Your code sends an HTTP request, and when the response comes back, initializes the innerHtml field of your component with the body of the response (after some replacement). What else would you like to achieve?"}, {"owner": {"reputation": 9290, "user_id": 5362646, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/SZ6fo.jpg?s=128&g=1", "display_name": "Chandru", "link": "https://stackoverflow.com/users/5362646/chandru"}, "edited": false, "score": 0, "creation_date": 1508308318, "post_id": 46803105, "comment_id": 80554815, "body": "use &lt;div [innerHTML]=&quot;innerHtml&quot;&gt;&lt;/div&gt; in template instead of &lt;div innerHTML = &quot;{{innerHtml}}&quot;&gt;&lt;/div&gt;"}, {"owner": {"reputation": 1, "user_id": 8793641, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9a92f48e88e5f4466ad8c913dfb229e3?s=128&d=identicon&r=PG&f=1", "display_name": "Mick", "link": "https://stackoverflow.com/users/8793641/mick"}, "edited": false, "score": 0, "creation_date": 1508309974, "post_id": 46803105, "comment_id": 80555635, "body": "Thanks Theophilus, I&#39;ve used f.text() instead. What I&#39;m trying to achieve Chandru is to not need to do a replace on the returned html. It returns it as a string instead of as a usable observable."}], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 8793641, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9a92f48e88e5f4466ad8c913dfb229e3?s=128&d=identicon&r=PG&f=1", "display_name": "Mick", "link": "https://stackoverflow.com/users/8793641/mick"}, "edited": false, "score": 0, "creation_date": 1508310628, "post_id": 46803684, "comment_id": 80555990, "body": "Thanks for the feedback Theophilus, unfortunately when I use &quot;[innerHTML]=&quot;view&quot;   &quot; as you describe above I get {{theme.Name}} on the view instead of the data, so I still need to pretend I&#39;m doing the interpolation using a &quot;replace&quot; command whereas I&#39;d prefer that the observable handle the replacement as it does normally. So instead of seeing {{theme.Name}} I&#39;d like to see &quot;Yellow Theme&quot; (or whatever I put in the config file)."}, {"owner": {"reputation": 2289, "user_id": 5836034, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/awlVz.jpg?s=128&g=1", "display_name": "Theophilus Omoregbee", "link": "https://stackoverflow.com/users/5836034/theophilus-omoregbee"}, "reply_to_user": {"reputation": 1, "user_id": 8793641, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9a92f48e88e5f4466ad8c913dfb229e3?s=128&d=identicon&r=PG&f=1", "display_name": "Mick", "link": "https://stackoverflow.com/users/8793641/mick"}, "edited": false, "score": 0, "creation_date": 1508311831, "post_id": 46803684, "comment_id": 80556613, "body": "check the plnkr link, it replaces it, or you are trying to make angular take the loaded innerHTML content to work as the way <code>ng-include</code> works?"}, {"owner": {"reputation": 1, "user_id": 8793641, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9a92f48e88e5f4466ad8c913dfb229e3?s=128&d=identicon&r=PG&f=1", "display_name": "Mick", "link": "https://stackoverflow.com/users/8793641/mick"}, "edited": false, "score": 0, "creation_date": 1508312318, "post_id": 46803684, "comment_id": 80556916, "body": "yes. The idea is that I have multiple themes. I have some files that are common among those themes. So I want to load in components without loading a common theme, because I want to use the originating theme and not change it."}, {"owner": {"reputation": 1, "user_id": 8793641, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9a92f48e88e5f4466ad8c913dfb229e3?s=128&d=identicon&r=PG&f=1", "display_name": "Mick", "link": "https://stackoverflow.com/users/8793641/mick"}, "edited": false, "score": 0, "creation_date": 1508312531, "post_id": 46803684, "comment_id": 80557048, "body": "I had a look at the plunkr code, it still has &quot;this.view = content.replace(&quot;{{theme.Name}}&quot;, this.theme.name);&quot;  which is the line of code I want to remove, but still have it look the same as what you have in the plunkr"}, {"owner": {"reputation": 1, "user_id": 8793641, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9a92f48e88e5f4466ad8c913dfb229e3?s=128&d=identicon&r=PG&f=1", "display_name": "Mick", "link": "https://stackoverflow.com/users/8793641/mick"}, "edited": false, "score": 0, "creation_date": 1508312643, "post_id": 46803684, "comment_id": 80557114, "body": "In other words, both your code and my code work, but with magic strings. I&#39;d prefer not to have magic strings in the code. It&#39;s for a big project, so if I can get this one page working I can refactor the whole solution."}, {"owner": {"reputation": 2289, "user_id": 5836034, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/awlVz.jpg?s=128&g=1", "display_name": "Theophilus Omoregbee", "link": "https://stackoverflow.com/users/5836034/theophilus-omoregbee"}, "reply_to_user": {"reputation": 1, "user_id": 8793641, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9a92f48e88e5f4466ad8c913dfb229e3?s=128&d=identicon&r=PG&f=1", "display_name": "Mick", "link": "https://stackoverflow.com/users/8793641/mick"}, "edited": false, "score": 0, "creation_date": 1508319621, "post_id": 46803684, "comment_id": 80561264, "body": "updating the answer to help you solve this, with reference too @Mick"}, {"owner": {"reputation": 1, "user_id": 8793641, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9a92f48e88e5f4466ad8c913dfb229e3?s=128&d=identicon&r=PG&f=1", "display_name": "Mick", "link": "https://stackoverflow.com/users/8793641/mick"}, "edited": false, "score": 0, "creation_date": 1508370608, "post_id": 46803684, "comment_id": 80589197, "body": "Thanks, I tried using a pipe, but that didn&#39;t do the interpolation either. So it seems the problem is with interpolation not working, and trapping it with Middleware doesn&#39;t seem to achieve that."}, {"owner": {"reputation": 2289, "user_id": 5836034, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/awlVz.jpg?s=128&g=1", "display_name": "Theophilus Omoregbee", "link": "https://stackoverflow.com/users/5836034/theophilus-omoregbee"}, "reply_to_user": {"reputation": 1, "user_id": 8793641, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9a92f48e88e5f4466ad8c913dfb229e3?s=128&d=identicon&r=PG&f=1", "display_name": "Mick", "link": "https://stackoverflow.com/users/8793641/mick"}, "edited": false, "score": 0, "creation_date": 1508370756, "post_id": 46803684, "comment_id": 80589238, "body": "checkout my answer, i added the possible way by using <b>ngComponentOutlet.</b>"}], "tags": [], "owner": {"reputation": 2289, "user_id": 5836034, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/awlVz.jpg?s=128&g=1", "display_name": "Theophilus Omoregbee", "link": "https://stackoverflow.com/users/5836034/theophilus-omoregbee"}, "is_accepted": false, "score": 0, "last_activity_date": 1508319986, "last_edit_date": 1508319986, "creation_date": 1508306323, "answer_id": 46803684, "question_id": 46803105, "link": "https://stackoverflow.com/questions/46803105/angular-4-update-observable-via-http-get/46803684#46803684", "title": "Angular 4 Update observable via http.get", "body": "<p>I suggest you update your <code>&lt;string&gt; f['_body'];</code> change to <code>&lt;string&gt;f.text()</code>, and also <code>innerHTML = \"{{innerHtml}}\"</code> to <code>[innerHTML]=\"view\"</code>   anyway check the below plnkr link as it's doing exactly what you are trying to perform</p>\n\n<pre><code>this._http.get(link).subscribe(f =&gt; {\n     this.loading = false;\n            var content = &lt;string&gt;f.text();\n            this.view = content.replace(\"{{theme.Name}}\", this.theme.name);\n            }, (error) =&gt; {\n              this.loading = false;\n              console.error(error);\n                alert(error);\n            });\n</code></pre>\n\n<p>the template is like this</p>\n\n<pre><code>content &lt;button (click)=\"open('external.html')\"&gt;Open Page&lt;/button&gt;\n      &lt;strong *ngIf=\"loading\"&gt;LOADING...&lt;/strong&gt;\n      &lt;div [innerHTML]=\"view\"&gt;&lt;/div&gt;\n</code></pre>\n\n<p>the <code>external.html</code> is simple as below</p>\n\n<pre><code>me playing around with this theme with name \n&lt;b&gt;\n  {{theme.Name}}\n&lt;/b&gt;\n</code></pre>\n\n<p>here is the running <a href=\"http://plnkr.co/edit/LrWNvP?p=preview\" rel=\"nofollow noreferrer\">Plnkr</a></p>\n\n<p>But for String interpolation processing as if the content was in the same template as the parent loading it and bind <code>this</code> to the template scope, which is similar to angular 1 <strong>ng-include</strong> check this <a href=\"https://stackoverflow.com/a/42065289/5836034\">answer</a> as it helps in solving that (instead of re doing it), and note this is for <strong>angular 4</strong> and above </p>\n\n<blockquote>\n  <p>using Angular 4.0.0-beta.6's <a href=\"https://angular.io/docs/ts/latest/api/common/index/NgComponentOutlet-directive.html\" rel=\"nofollow noreferrer\">ngComponentOutlet</a>.</p>\n</blockquote>\n"}, {"comments": [{"owner": {"reputation": 1, "user_id": 8793641, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9a92f48e88e5f4466ad8c913dfb229e3?s=128&d=identicon&r=PG&f=1", "display_name": "Mick", "link": "https://stackoverflow.com/users/8793641/mick"}, "edited": false, "score": 0, "creation_date": 1508310727, "post_id": 46804059, "comment_id": 80556043, "body": "Hi Shubhendu, I&#39;ve tried to write a service, but I can&#39;t seem to get it to work either."}, {"owner": {"reputation": 551, "user_id": 7229765, "user_type": "registered", "accept_rate": 25, "profile_image": "https://lh5.googleusercontent.com/-W-XXnQPn5dQ/AAAAAAAAAAI/AAAAAAAAAA4/KiLOhCDjXqA/photo.jpg?sz=128", "display_name": "Shubhendu Vaid", "link": "https://stackoverflow.com/users/7229765/shubhendu-vaid"}, "reply_to_user": {"reputation": 1, "user_id": 8793641, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9a92f48e88e5f4466ad8c913dfb229e3?s=128&d=identicon&r=PG&f=1", "display_name": "Mick", "link": "https://stackoverflow.com/users/8793641/mick"}, "edited": false, "score": 0, "creation_date": 1508310866, "post_id": 46804059, "comment_id": 80556114, "body": "please define the problem statement again as it is not clear, then i will try to help."}, {"owner": {"reputation": 1, "user_id": 8793641, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9a92f48e88e5f4466ad8c913dfb229e3?s=128&d=identicon&r=PG&f=1", "display_name": "Mick", "link": "https://stackoverflow.com/users/8793641/mick"}, "edited": false, "score": 0, "creation_date": 1508311022, "post_id": 46804059, "comment_id": 80556221, "body": "Sure, the problem is that I load some html from another page. I&#39;d like the interpolation to work on the html that I just loaded so I can see the interpolated result in the view rather than the plain text. In other words I&#39;m seeing {{ theme.name }} in the view, but what I want to see in the view is the data configured in the theme configuration file which could be &quot;Yellow Theme&quot; instead."}, {"owner": {"reputation": 1, "user_id": 8793641, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9a92f48e88e5f4466ad8c913dfb229e3?s=128&d=identicon&r=PG&f=1", "display_name": "Mick", "link": "https://stackoverflow.com/users/8793641/mick"}, "edited": false, "score": 0, "creation_date": 1508380185, "post_id": 46804059, "comment_id": 80591407, "body": "I&#39;ve never used plnkr before, but I&#39;ve put most of the code (not working) in <a href=\"http://plnkr.co/edit/X2jYniwfVs0SK7WQPMm7\" rel=\"nofollow noreferrer\">plnkr.co/edit/X2jYniwfVs0SK7WQPMm7</a>  .  Nothing I&#39;ve tried has actually worked so far"}], "tags": [], "owner": {"reputation": 551, "user_id": 7229765, "user_type": "registered", "accept_rate": 25, "profile_image": "https://lh5.googleusercontent.com/-W-XXnQPn5dQ/AAAAAAAAAAI/AAAAAAAAAA4/KiLOhCDjXqA/photo.jpg?sz=128", "display_name": "Shubhendu Vaid", "link": "https://stackoverflow.com/users/7229765/shubhendu-vaid"}, "is_accepted": false, "score": 1, "last_activity_date": 1508311811, "last_edit_date": 1508311811, "creation_date": 1508308340, "answer_id": 46804059, "question_id": 46803105, "link": "https://stackoverflow.com/questions/46803105/angular-4-update-observable-via-http-get/46804059#46804059", "title": "Angular 4 Update observable via http.get", "body": "<p>1)  What you want to achieve is not clear.\nWhat I can make out is on success you want to update the dom.\n2) Dont use inner html for that and use interpolation or ngModel for the same with a sanitizer.\n3) Another approach would be to create a custom reusable directive for the same.</p>\n\n<p>An approach could be:</p>\n\n<p>1) Make a pipe for sanitization:</p>\n\n<pre><code>import { Pipe, PipeTransform } from '@angular/core';\nimport { DomSanitizer } from '@angular/platform-browser';\n/**\n *\n * @export\n * @class SafeHtmlPipe\n * @implements {PipeTransform}\n */\n@Pipe({\n  name: 'safeHtml'\n})\nexport class SafeHtmlPipe implements PipeTransform {\n  /**\n   *\n   * @param {DomSanitizer} sanitizer\n   * @memberof SafeHtmlPipe\n   */\n  constructor(private sanitizer: DomSanitizer) { }\n  /**\n   *\n   * @param {any} style\n   * @returns\n   * @memberof SafeHtmlPipe\n   */\n  transform(style) {\n    // return this.sanitizer.bypassSecurityTrustStyle(style);\n    return this.sanitizer.bypassSecurityTrustHtml(style);\n    // return this.sanitizer.bypassSecurityTrustXxx(style); - see docs\n  }\n}\n</code></pre>\n\n<p>2) Use it like :</p>\n\n<pre><code>&lt;div class=\"card_description\" [innerHTML]=\"scenarioStepDataDesc | safeHtml\"&gt;&lt;/div&gt;\n</code></pre>\n\n<p>where scenarioStepDataDesc is your HTML content.</p>\n\n<p>3) Use a shared module for pipes and other reusable components/directives</p>\n\n<pre><code>import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\nimport { MaterialModule } from '../material/material.module';\nimport { BlockUIModule } from 'ng-block-ui';\nimport { AutoCompleteComponent } from './components/autoComplete/autoComplete.component';\nimport { DialogDataComponent } from './components/dialog/dialog.component';\nimport { SafeHtmlPipe } from './pipes/safeHtml.pipe';\n/**\n *\n * @export\n * @class SharedModule\n */\n@NgModule({\n  imports: [CommonModule, FormsModule, MaterialModule, BlockUIModule, ReactiveFormsModule],\n  exports: [\n    CommonModule,\n    FormsModule,\n    MaterialModule,\n    BlockUIModule,\n    ReactiveFormsModule,\n    AutoCompleteComponent,\n    DialogDataComponent,\n    SafeHtmlPipe\n  ],\n  declarations: [AutoCompleteComponent, DialogDataComponent, SafeHtmlPipe]\n})\nexport class SharedModule { }\n</code></pre>\n\n<p>Enjoy :) </p>\n"}], "owner": {"reputation": 1, "user_id": 8793641, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9a92f48e88e5f4466ad8c913dfb229e3?s=128&d=identicon&r=PG&f=1", "display_name": "Mick", "link": "https://stackoverflow.com/users/8793641/mick"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 396, "favorite_count": 1, "answer_count": 2, "score": 0, "last_activity_date": 1508319986, "creation_date": 1508302777, "last_edit_date": 1508305992, "question_id": 46803105, "link": "https://stackoverflow.com/questions/46803105/angular-4-update-observable-via-http-get", "title": "Angular 4 Update observable via http.get", "body": "<p>I'm trying to update an observable which is returned in html from an API call.</p>\n\n<p>I'm wondering if anyone can help me with this.</p>\n\n<p>The html (on another component)</p>\n\n<pre><code>&lt;common-content [theme]=\"theme\" &gt;&lt;/common-content&gt;\n</code></pre>\n\n<p>and the component is:</p>\n\n<pre><code>import { Component, OnInit, Input } from '@angular/core';\nimport { Http, Response } from '@angular/http';\nimport { ThemeModel } from '../../models';\nimport 'rxjs/add/operator/toPromise';\n\n@Component({\n  selector: 'common-content',\n  template: `&lt;div innerHTML = \"{{innerHtml}}\"&gt;&lt;/div&gt;`\n})\n\nexport class CommonContentComponent implements OnInit {\n    @Input() page: string;\n    @Input() theme: ThemeModel;\n    innerHtml: string;\n\n    constructor(private http: Http) {\n    }\n\n    ngOnInit() {\n        this.populatePage();\n    }\n\n    populatePage(){\n        let thisUrl = 'myPage.html';\n        this.http.get(thisUrl).subscribe(f =&gt; {\n            var content = &lt;string&gt;f['_body'];\n            this.innerHtml = content.replace(\"{{theme.Name}}\", this.theme.name);\n            }, (error) =&gt; {\n                let e = error;\n            }, () =&gt; {\n        });\n    }\n}\n</code></pre>\n\n<p>so instead of doing a \"replace\" the observable should just update automatically.</p>\n\n<p>I've tried to use a subscribe and I also tried a promise, however I don't seem to be able to get the syntax to behave.</p>\n\n<p>Can anyone help?</p>\n\n<p>Thanks in advance</p>\n"}, {"tags": ["angular", "typescript", "button", "ionic-framework", "drag-and-drop"], "answers": [{"tags": [], "owner": {"reputation": 373, "user_id": 8035794, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/encYD.png?s=128&g=1", "display_name": "fastworker399", "link": "https://stackoverflow.com/users/8035794/fastworker399"}, "is_accepted": true, "score": 1, "last_activity_date": 1508598838, "creation_date": 1508598838, "answer_id": 46864731, "question_id": 46802772, "link": "https://stackoverflow.com/questions/46802772/ionic-how-to-implement-pressing-release-drag-drop-event-of-button/46864731#46864731", "title": "Ionic How to implement pressing,release,drag,drop event of button?", "body": "<p><a href=\"https://github.com/wbhob/ionic-long-press\" rel=\"nofollow noreferrer\">https://github.com/wbhob/ionic-long-press</a>\n<a href=\"https://github.com/AbineshSrishti/ionic2-selection-card-drag\" rel=\"nofollow noreferrer\">https://github.com/AbineshSrishti/ionic2-selection-card-drag</a>\nI solved the problem using these plugins.</p>\n"}, {"tags": [], "owner": {"reputation": 1027, "user_id": 905915, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/4cb61f14620b7f7beb7e213c67ba5005?s=128&d=identicon&r=PG", "display_name": "Maverick09", "link": "https://stackoverflow.com/users/905915/maverick09"}, "is_accepted": false, "score": 0, "last_activity_date": 1524049936, "creation_date": 1524049936, "answer_id": 49898266, "question_id": 46802772, "link": "https://stackoverflow.com/questions/46802772/ionic-how-to-implement-pressing-release-drag-drop-event-of-button/49898266#49898266", "title": "Ionic How to implement pressing,release,drag,drop event of button?", "body": "<p>Unfortunately drag/drop events are not supported on mobile devices but they supports touch events. </p>\n\n<p>So either you can use touch ( <code>touchstart/touhend/touchmove</code>) events or if you want to use HTML 5 <code>drag/drop</code> events on mobile devices then you will have to include following <a href=\"https://github.com/Bernardo-Castilho/dragdroptouch/blob/master/DragDropTouch.js\" rel=\"nofollow noreferrer\">drag-drop-touch polyfill</a> in your project. </p>\n\n<p>This polyfill does the magic and maps touch events to drag / drop events. I have tried this in my project and it works like charm. </p>\n"}], "owner": {"reputation": 373, "user_id": 8035794, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/encYD.png?s=128&g=1", "display_name": "fastworker399", "link": "https://stackoverflow.com/users/8035794/fastworker399"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2165, "favorite_count": 0, "accepted_answer_id": 46864731, "answer_count": 2, "score": 0, "last_activity_date": 1524049936, "creation_date": 1508300525, "last_edit_date": 1508320611, "question_id": 46802772, "link": "https://stackoverflow.com/questions/46802772/ionic-how-to-implement-pressing-release-drag-drop-event-of-button", "title": "Ionic How to implement pressing,release,drag,drop event of button?", "body": "<p>I am implementing recording feature that can record while pressing a button, stop when release.\nSo I used ionic-long-press plugin.\nBut I notice that it can't treat the drag and drop event.\nAny advice will be appreciated.\nThanks. </p>\n"}, {"tags": ["angular", "typescript", "rxjs"], "answers": [{"comments": [{"owner": {"reputation": 1952, "user_id": 1850272, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/W4CKr.jpg?s=128&g=1", "display_name": "Optiq", "link": "https://stackoverflow.com/users/1850272/optiq"}, "edited": false, "score": 0, "creation_date": 1508312656, "post_id": 46802803, "comment_id": 80557122, "body": "would I use <code>.splice()</code> or <code>.unsubscribe()</code> somehow in the &quot;filter logic&quot;?"}, {"owner": {"reputation": 71, "user_id": 4832441, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GYzz4.jpg?s=128&g=1", "display_name": "007ruwan", "link": "https://stackoverflow.com/users/4832441/007ruwan"}, "reply_to_user": {"reputation": 1952, "user_id": 1850272, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/W4CKr.jpg?s=128&g=1", "display_name": "Optiq", "link": "https://stackoverflow.com/users/1850272/optiq"}, "edited": false, "score": 0, "creation_date": 1508735601, "post_id": 46802803, "comment_id": 80711845, "body": "you can define the filter logic\\ condition which returns true or false"}], "tags": [], "owner": {"reputation": 71, "user_id": 4832441, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GYzz4.jpg?s=128&g=1", "display_name": "007ruwan", "link": "https://stackoverflow.com/users/4832441/007ruwan"}, "is_accepted": false, "score": 1, "last_activity_date": 1508300736, "creation_date": 1508300736, "answer_id": 46802803, "question_id": 46802522, "link": "https://stackoverflow.com/questions/46802522/how-do-i-target-and-remove-a-subject-from-an-observable/46802803#46802803", "title": "How do I target and remove a Subject from an Observable?", "body": "<p>You can use the filter to drop data from your Observable.</p>\n\n<p>this._formList.observers.filter(data => (filter logic))</p>\n"}, {"comments": [{"owner": {"reputation": 1952, "user_id": 1850272, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/W4CKr.jpg?s=128&g=1", "display_name": "Optiq", "link": "https://stackoverflow.com/users/1850272/optiq"}, "edited": false, "score": 0, "creation_date": 1508312596, "post_id": 46803006, "comment_id": 80557090, "body": "I just updated the post to be clearer about how everything is set up."}], "tags": [], "owner": {"reputation": 9290, "user_id": 5362646, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/SZ6fo.jpg?s=128&g=1", "display_name": "Chandru", "link": "https://stackoverflow.com/users/5362646/chandru"}, "is_accepted": false, "score": 1, "last_activity_date": 1508302097, "creation_date": 1508302097, "answer_id": 46803006, "question_id": 46802522, "link": "https://stackoverflow.com/questions/46802522/how-do-i-target-and-remove-a-subject-from-an-observable/46803006#46803006", "title": "How do I target and remove a Subject from an Observable?", "body": "<p>Try like this :</p>\n\n<p><strong>component.ts</strong></p>\n\n<pre><code>import { Subscription } from 'rxjs/Rx';\n\nexport class Component {\n\n    private _formList = new Subject&lt;any&gt;();\n    private subscription: Subscription;\n\n    deleteResponse(event:string){\n         this.subscription = this._formList.observers.findIndex(a =&gt; a.id = event );\n         this.subscription.unsubscribe(); \n    }\n\n    ngOnDestroy() {\n        this.subscription.unsubscribe();\n        this.eventManager.destroy(this.eventSubscriber);\n    }\n\n}\n</code></pre>\n"}], "owner": {"reputation": 1952, "user_id": 1850272, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/W4CKr.jpg?s=128&g=1", "display_name": "Optiq", "link": "https://stackoverflow.com/users/1850272/optiq"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1352, "favorite_count": 2, "answer_count": 2, "score": 2, "last_activity_date": 1508382145, "creation_date": 1508298760, "last_edit_date": 1508382145, "question_id": 46802522, "link": "https://stackoverflow.com/questions/46802522/how-do-i-target-and-remove-a-subject-from-an-observable", "title": "How do I target and remove a Subject from an Observable?", "body": "<p>I'm using a service to collect user responses from a questionnaire.  The way everything flows is like this</p>\n\n<ol>\n<li><strong>questionnaire.component.ts</strong> : main container that recieves data from <code>question.service.ts</code></li>\n<li><strong>question-shell.component.ts</strong> : Component used by <code>questionnaire.component.ts</code> to iterate questions.</li>\n<li><strong>Misc input components</strong> : Several components to suit different types of input data which sends useer response back up to <code>question-shell.component.ts</code> through and <code>@Output()</code></li>\n<li><strong>question-shell.component.ts</strong> : recieves response and sends to <code>answer.service.ts</code>.</li>\n<li><strong>answer.service.ts</strong> : recieves data and stores in a variable named <code>_formList</code>.</li>\n</ol>\n\n<p>The <code>question-shell.component.ts</code> class looks like this</p>\n\n<pre><code>export class QuestionShellComponent implements OnDestroy {\n\n    @Input() Data: Question;  //receives data from questionnaire.component\n\n    Response     : UserResponse = {}; //stores user responses\n\n\n\n    constructor( private _ans: AnswerService ){}\n\n    ngOnDestroy(){\n        this.removeResponse();  //triggers if component toggled off\n    }\n\n    grabAnswer(event){          // gets user response from Output on\n        this.Response = event;  // input component and stores in Response\n        this.sendResponse();\n    }\n\n    sendResponse(): void{    // adds response to answer.service\n        this._ans.addResponse(this.Response);\n    }\n\n    removeResponse(): void{  //removes response from answer.service\n        this._ans.deleteResponse(this.Data.id);\n    }\n}\n</code></pre>\n\n<p>The <code>answer.service.ts</code> file looks like this</p>\n\n<pre><code>export class AnswerService {\n\n    private _formList = new Subject&lt;any&gt;();\n    public FormList = this._formList.asObservable();\n\n    constructor( private http: Http, private afdb: AngularFireDatabase ){}\n\n    addResponse(event:any){\n        this._formList.next(event);\n    }\n\n    deleteResponse(event:string){    //the only thing that made sense to try so far\n\n        let target = this._formList.observers.findIndex(a =&gt; a.id = event );\n\n        this.FormList.observers.unsubscribe(target);\n\n        console.log(target);\n\n        //let target = this._formList.observers.findIndex( a =&gt; a.id = event );\n\n        //this._formList.observers.find( a =&gt; a.id = event ).unsubscribe();\n\n        //this._formList.observers[target].unsubscribe();\n        //console.log(target);\n    }\n\n}\n</code></pre>\n\n<p>Everything loads to the <code>answer.service.ts</code> file successfully.  I'm calling the <code>OnDestroy</code> method because it's possible a user may change their mind about an answer and select a different one, which may close a tier of questions and open another.  As of right now if you keep switchining back and forth it keeps adding more instances of the same questions so I need to delete them if the component closes. </p>\n\n<p>As of right now I'm getting an error saying</p>\n\n<blockquote>\n  <p>Cannot read property 'unsubscribe' of undefined.</p>\n</blockquote>\n\n<p>I originally tried to only target <code>_formList</code> which gave me a result in the <code>console.log()</code> with an error telling me</p>\n\n<blockquote>\n  <p>this._formList.observers.unsubscribe is not a function</p>\n</blockquote>\n\n<p>I found <code>unsubscribe()</code> trying to find the right way of using <code>splice()</code> thinking that was what I needed to use.  I'm just lost now.  Everything else is working fine and the console is logging the response sent from the component's <code>OnDestroy</code> method so this has to be where the problem is.  If you need to know more about what's going on with the components let me know and I'll post more code.  </p>\n"}, {"tags": ["angular", "typescript", "firebase", "angularfire2"], "comments": [{"owner": {"reputation": 851, "user_id": 2013245, "user_type": "registered", "accept_rate": 22, "profile_image": "https://www.gravatar.com/avatar/2f488cf22b43ac5a975718787ac57197?s=128&d=identicon&r=PG", "display_name": "ashley", "link": "https://stackoverflow.com/users/2013245/ashley"}, "edited": false, "score": 0, "creation_date": 1508299665, "post_id": 46802517, "comment_id": 80551981, "body": "can you show how your json structure looks like in firebase console?"}, {"owner": {"reputation": 6216, "user_id": 1471485, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/8qRCk.png?s=128&g=1", "display_name": "John", "link": "https://stackoverflow.com/users/1471485/john"}, "edited": false, "score": 0, "creation_date": 1508306137, "post_id": 46802517, "comment_id": 80553936, "body": "Maybe you could try with a different <code>tableName</code> instead of <code>items</code> just to see if you get some data."}, {"owner": {"reputation": 35, "user_id": 8793492, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/383c7d497496802e5dbe9ed8df6a4eae?s=128&d=identicon&r=PG&f=1", "display_name": "Lac Nova", "link": "https://stackoverflow.com/users/8793492/lac-nova"}, "edited": false, "score": 0, "creation_date": 1508307042, "post_id": 46802517, "comment_id": 80554287, "body": "The JSON looks like this. [ {&quot;something&quot; : string, &quot;someelse&quot; : string}, {&quot;something&quot; : string, &quot;someelse&quot; : string} ].. i uploaded the file to firebase."}, {"owner": {"reputation": 3004, "user_id": 4619543, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/9NGJ9.jpg?s=128&g=1", "display_name": "brijmcq", "link": "https://stackoverflow.com/users/4619543/brijmcq"}, "edited": false, "score": 0, "creation_date": 1508320384, "post_id": 46802517, "comment_id": 80561771, "body": "&quot;My database actually has no label that says Items &quot; You need to indicate the name of the node in your firebase database. Can you show it too?"}, {"owner": {"reputation": 4162, "user_id": 2478195, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/bf3985b3fe462bb3b2f9e1c95e0b5d52?s=128&d=identicon&r=PG&f=1", "display_name": "Joseph Wu", "link": "https://stackoverflow.com/users/2478195/joseph-wu"}, "edited": false, "score": 0, "creation_date": 1508322008, "post_id": 46802517, "comment_id": 80562737, "body": "can you define &#39;items&#39; as: &quot;items: FirebaseListObservable&lt;any[]&gt;;&quot; to see if it works? also, why not use &quot;this.items = db.list(&#39;items&#39;);&quot;"}, {"owner": {"reputation": 35, "user_id": 8793492, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/383c7d497496802e5dbe9ed8df6a4eae?s=128&d=identicon&r=PG&f=1", "display_name": "Lac Nova", "link": "https://stackoverflow.com/users/8793492/lac-nova"}, "edited": false, "score": 0, "creation_date": 1508393937, "post_id": 46802517, "comment_id": 80594883, "body": "I cant do either of those because it seems FirebaseListObservable can&#39;t be found. What is ppsted is straight forward from the GitHub docs for angularfire2. So i assume since it&#39;s been live with no redacts for so long, it should work."}], "answers": [{"comments": [{"owner": {"reputation": 35, "user_id": 8793492, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/383c7d497496802e5dbe9ed8df6a4eae?s=128&d=identicon&r=PG&f=1", "display_name": "Lac Nova", "link": "https://stackoverflow.com/users/8793492/lac-nova"}, "edited": false, "score": 0, "creation_date": 1508362432, "post_id": 46812777, "comment_id": 80586675, "body": "Hi tim. I tried that but same thing occurs.. actually its worse... Now the html object that i am running the ngFor on.. totally disappears."}, {"owner": {"reputation": 689, "user_id": 3635680, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/CE3mg.png?s=128&g=1", "display_name": "Tim Hovius", "link": "https://stackoverflow.com/users/3635680/tim-hovius"}, "reply_to_user": {"reputation": 35, "user_id": 8793492, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/383c7d497496802e5dbe9ed8df6a4eae?s=128&d=identicon&r=PG&f=1", "display_name": "Lac Nova", "link": "https://stackoverflow.com/users/8793492/lac-nova"}, "edited": false, "score": 0, "creation_date": 1508391258, "post_id": 46812777, "comment_id": 80594039, "body": "Can you upload a screenshot of your firebase database?"}, {"owner": {"reputation": 35, "user_id": 8793492, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/383c7d497496802e5dbe9ed8df6a4eae?s=128&d=identicon&r=PG&f=1", "display_name": "Lac Nova", "link": "https://stackoverflow.com/users/8793492/lac-nova"}, "edited": false, "score": 0, "creation_date": 1508394048, "post_id": 46812777, "comment_id": 80594926, "body": "Just did. Hopefully you could help."}, {"owner": {"reputation": 35, "user_id": 8793492, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/383c7d497496802e5dbe9ed8df6a4eae?s=128&d=identicon&r=PG&f=1", "display_name": "Lac Nova", "link": "https://stackoverflow.com/users/8793492/lac-nova"}, "edited": false, "score": 0, "creation_date": 1508396522, "post_id": 46812777, "comment_id": 80595946, "body": "Above &quot;0&quot; is the name of the database. All the numbers fall below that. Withing the numbered nest is data. {&quot;This&quot; : &quot;That&quot;} .  <a href=\"https://i.stack.imgur.com/U2U7w.png\" rel=\"nofollow noreferrer\">i.stack.imgur.com/U2U7w.png</a>  Thanks Tim."}, {"owner": {"reputation": 689, "user_id": 3635680, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/CE3mg.png?s=128&g=1", "display_name": "Tim Hovius", "link": "https://stackoverflow.com/users/3635680/tim-hovius"}, "reply_to_user": {"reputation": 35, "user_id": 8793492, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/383c7d497496802e5dbe9ed8df6a4eae?s=128&d=identicon&r=PG&f=1", "display_name": "Lac Nova", "link": "https://stackoverflow.com/users/8793492/lac-nova"}, "edited": false, "score": 0, "creation_date": 1508399643, "post_id": 46812777, "comment_id": 80597722, "body": "I modified my answer; can you have a look on it?"}, {"owner": {"reputation": 35, "user_id": 8793492, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/383c7d497496802e5dbe9ed8df6a4eae?s=128&d=identicon&r=PG&f=1", "display_name": "Lac Nova", "link": "https://stackoverflow.com/users/8793492/lac-nova"}, "edited": false, "score": 0, "creation_date": 1508399886, "post_id": 46812777, "comment_id": 80597825, "body": "will do as soon as i can, but im honestly under the impression i tried that already. Thogh its the most logical answer."}, {"owner": {"reputation": 689, "user_id": 3635680, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/CE3mg.png?s=128&g=1", "display_name": "Tim Hovius", "link": "https://stackoverflow.com/users/3635680/tim-hovius"}, "reply_to_user": {"reputation": 35, "user_id": 8793492, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/383c7d497496802e5dbe9ed8df6a4eae?s=128&d=identicon&r=PG&f=1", "display_name": "Lac Nova", "link": "https://stackoverflow.com/users/8793492/lac-nova"}, "edited": false, "score": 0, "creation_date": 1508400069, "post_id": 46812777, "comment_id": 80597917, "body": "I see only numbers in your screenshot, so maybe you can try to create an <code>items</code> collection (or post a screenshot of the top of your database)"}, {"owner": {"reputation": 35, "user_id": 8793492, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/383c7d497496802e5dbe9ed8df6a4eae?s=128&d=identicon&r=PG&f=1", "display_name": "Lac Nova", "link": "https://stackoverflow.com/users/8793492/lac-nova"}, "edited": false, "score": 0, "creation_date": 1508400230, "post_id": 46812777, "comment_id": 80597996, "body": "test-9712b = Database Name , on my database. The numbers are the same as yours, but minus the &quot;Items&quot;."}, {"owner": {"reputation": 689, "user_id": 3635680, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/CE3mg.png?s=128&g=1", "display_name": "Tim Hovius", "link": "https://stackoverflow.com/users/3635680/tim-hovius"}, "reply_to_user": {"reputation": 35, "user_id": 8793492, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/383c7d497496802e5dbe9ed8df6a4eae?s=128&d=identicon&r=PG&f=1", "display_name": "Lac Nova", "link": "https://stackoverflow.com/users/8793492/lac-nova"}, "edited": false, "score": 0, "creation_date": 1508400315, "post_id": 46812777, "comment_id": 80598041, "body": "It&#39;s not working for you because you did not create the <code>items</code> collection. You are subscribed to the <code>items</code> collection in your code:  <code>this.items = db.list(&#39;items&#39;).valueChanges()</code>"}, {"owner": {"reputation": 35, "user_id": 8793492, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/383c7d497496802e5dbe9ed8df6a4eae?s=128&d=identicon&r=PG&f=1", "display_name": "Lac Nova", "link": "https://stackoverflow.com/users/8793492/lac-nova"}, "edited": false, "score": 0, "creation_date": 1508480810, "post_id": 46812777, "comment_id": 80634330, "body": "Thanks Tim. You have been helpful."}], "tags": [], "owner": {"reputation": 689, "user_id": 3635680, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/CE3mg.png?s=128&g=1", "display_name": "Tim Hovius", "link": "https://stackoverflow.com/users/3635680/tim-hovius"}, "is_accepted": true, "score": 0, "last_activity_date": 1508400560, "last_edit_date": 1508400560, "creation_date": 1508337459, "answer_id": 46812777, "question_id": 46802517, "link": "https://stackoverflow.com/questions/46802517/angular-not-pulling-data-through-angularfire2/46812777#46812777", "title": "Angular not pulling data through Angularfire2", "body": "<p>I think you forgot to create the <code>items</code> collection.</p>\n\n<p>You are subscribed to the <code>items</code> collection here:</p>\n\n<blockquote>\n  <p><code>this.items = db.list('items').valueChanges();</code></p>\n</blockquote>\n\n<p>Try to import this one and see if you get some results:  </p>\n\n<pre><code>{\n  \"items\": [\n    {\n      \"THIS\": \"test\",\n      \"THAT\": \"test\"\n    },\n    {\n      \"THIS\": \"test\",\n      \"THAT\": \"test\"\n    }\n  ]\n}\n</code></pre>\n\n<p>In firebase it looks like:</p>\n\n<p><a href=\"https://i.stack.imgur.com/DN7zy.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/DN7zy.png\" alt=\"enter image description here\"></a></p>\n"}], "owner": {"reputation": 35, "user_id": 8793492, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/383c7d497496802e5dbe9ed8df6a4eae?s=128&d=identicon&r=PG&f=1", "display_name": "Lac Nova", "link": "https://stackoverflow.com/users/8793492/lac-nova"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 89, "favorite_count": 1, "accepted_answer_id": 46812777, "answer_count": 1, "score": 0, "last_activity_date": 1508400560, "creation_date": 1508298731, "last_edit_date": 1508320123, "question_id": 46802517, "link": "https://stackoverflow.com/questions/46802517/angular-not-pulling-data-through-angularfire2", "title": "Angular not pulling data through Angularfire2", "body": "<p>I have been having a problem getting data back from the Real time Database on firebase. Everything is set correctly, the Read and Write permissions are public so I don't have to authenticate.</p>\n\n<p>npm compiles successfully. So the code is good (Angular-CLI). I tried exactly what is on the GitHub page as far as the documentation goes. </p>\n\n<p>When I interpolate pulling data from an Object the return on the front end is Null. When I do the same for a List the return is blank. *ngFor won't even work. </p>\n\n<p>Anyone has the same problem or could help?</p>\n\n<p>The code looks like this. That's a direct copy from the documentation.</p>\n\n<p>My database actually has no label that says \" Items \" as per db.list('items') . I dont think that would be the issue, but would that create a problem?</p>\n\n<pre><code>import { Component } from '@angular/core';\nimport { AngularFireDatabase } from      'angularfire2/database';\nimport { Observable } from 'rxjs/Observable';\n\n@Component({\n  selector: 'app-root',\n  template: `\n  &lt;ul&gt;\n    &lt;li *ngFor=\"let item of items | async\"&gt;\n   {{ item | json }}\n    &lt;/li&gt;\n  &lt;/ul&gt;\n  `,\n})\nexport class AppComponent {\n  items: Observable&lt;any[]&gt;;\n  constructor(db: AngularFireDatabase) {\n    this.items = db.list('items').valueChanges();\n  }\n}\n</code></pre>\n\n<p>The data in firebase has this structure..</p>\n\n<pre><code>[ \n {\"THIS\" : string , \"THAT\" : string},\n {\"THIS\" : string , \"THAT\" : string}\n]\n</code></pre>\n\n<p>That's what the file looks like before I uploaded.</p>\n"}, {"tags": ["android", "angular", "typescript", "ionic2", "ionic3"], "answers": [{"comments": [{"owner": {"reputation": 155, "user_id": 6837782, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/7cb6dea451b7cf7d14a0fe0d8468f949?s=128&d=identicon&r=PG&f=1", "display_name": "niroice", "link": "https://stackoverflow.com/users/6837782/niroice"}, "edited": false, "score": 0, "creation_date": 1508301322, "post_id": 46802578, "comment_id": 80552365, "body": "I&#39;m already using the file plugin &quot;.lisDir&quot; to access the external root directory, as far as I know that&#39;s the only way. My question was more directed at - is there some sort of flags or metaData that informs you if the folder is application directory or system directory. I did notice ignoring the &quot;android&quot; directory greatly improved the search time. That should probably do that trick."}, {"owner": {"reputation": 50111, "user_id": 1077309, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/yghA4.jpg?s=128&g=1", "display_name": "Sampath", "link": "https://stackoverflow.com/users/1077309/sampath"}, "reply_to_user": {"reputation": 155, "user_id": 6837782, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/7cb6dea451b7cf7d14a0fe0d8468f949?s=128&d=identicon&r=PG&f=1", "display_name": "niroice", "link": "https://stackoverflow.com/users/6837782/niroice"}, "edited": false, "score": 0, "creation_date": 1508301714, "post_id": 46802578, "comment_id": 80552485, "body": "Yes, It is a huge directory (i.e. <code>android</code>). You need to search very specific places where you need it. Otherwise, it&#39;ll take a lot of time unnecessary."}, {"owner": {"reputation": 50111, "user_id": 1077309, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/yghA4.jpg?s=128&g=1", "display_name": "Sampath", "link": "https://stackoverflow.com/users/1077309/sampath"}, "reply_to_user": {"reputation": 155, "user_id": 6837782, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/7cb6dea451b7cf7d14a0fe0d8468f949?s=128&d=identicon&r=PG&f=1", "display_name": "niroice", "link": "https://stackoverflow.com/users/6837782/niroice"}, "edited": false, "score": 0, "creation_date": 1508301778, "post_id": 46802578, "comment_id": 80552508, "body": "<code>is there some sort of flags or metadata that informs you if the folder is application directory or system directory</code> <b>No.</b> You need to use publicly exposed <code>Instance Members</code> for that."}], "tags": [], "owner": {"reputation": 50111, "user_id": 1077309, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/yghA4.jpg?s=128&g=1", "display_name": "Sampath", "link": "https://stackoverflow.com/users/1077309/sampath"}, "is_accepted": true, "score": 1, "last_activity_date": 1508299135, "creation_date": 1508299135, "answer_id": 46802578, "question_id": 46802257, "link": "https://stackoverflow.com/questions/46802257/ionic-2-3-easy-way-of-ignoring-other-application-android-directories-when-scan/46802578#46802578", "title": "Ionic 2/3 - Easy way of ignoring other application/android directories when scanning device", "body": "<p>You can do that using <a href=\"http://ionicframework.com/docs/native/file/\" rel=\"nofollow noreferrer\"><strong>native file plugin</strong></a>. It has so many options to <code>select/deselect</code> folder paths in the device.</p>\n\n<pre><code>ionic cordova plugin add cordova-plugin-file\nnpm install --save @ionic-native/file\n</code></pre>\n"}], "owner": {"reputation": 155, "user_id": 6837782, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/7cb6dea451b7cf7d14a0fe0d8468f949?s=128&d=identicon&r=PG&f=1", "display_name": "niroice", "link": "https://stackoverflow.com/users/6837782/niroice"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 48, "favorite_count": 0, "accepted_answer_id": 46802578, "answer_count": 1, "score": 1, "last_activity_date": 1512440703, "creation_date": 1508296929, "last_edit_date": 1512440703, "question_id": 46802257, "link": "https://stackoverflow.com/questions/46802257/ionic-2-3-easy-way-of-ignoring-other-application-android-directories-when-scan", "title": "Ionic 2/3 - Easy way of ignoring other application/android directories when scanning device", "body": "<p>I'm developing a gallery like app that allows users to select image/s from their phone and send to a kiosk. When the application loads it basically scans the whole devices for folders containing images and puts those folders into an album object. By Default iv set the scan to ignore all hidden directories (.directoryName), however iv noticed that the application also scan all the system directories like Android and other application folders; which significantly slows down the process. </p>\n\n<p>Is there a way to ignore certain folders by a flag? or should I just set the scan manually to ignore the \"android\" directory and put up with some silly results? My other option is to only scan common known spots - which I'm not really keen on as I don't want to limit users options.</p>\n\n<p>Any advice would be great! thanks.</p>\n"}, {"tags": ["javascript", "node.js", "typescript"], "answers": [{"comments": [{"owner": {"reputation": 1379, "user_id": 3587624, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/0d027a64fc870832410a87419265937a?s=128&d=identicon&r=PG&f=1", "display_name": "user3587624", "link": "https://stackoverflow.com/users/3587624/user3587624"}, "edited": false, "score": 0, "creation_date": 1508334374, "post_id": 46803140, "comment_id": 80570511, "body": "Nice! I just forgot two declare these two properties in my class. As soon as I defined them, I was able to do this.status and this.newResultObject. Thanks!"}], "tags": [], "owner": {"reputation": 1122, "user_id": 5885500, "user_type": "registered", "profile_image": "https://graph.facebook.com/10205953414690868/picture?type=large", "display_name": "Aaron Roberts", "link": "https://stackoverflow.com/users/5885500/aaron-roberts"}, "is_accepted": true, "score": 1, "last_activity_date": 1508302991, "creation_date": 1508302991, "answer_id": 46803140, "question_id": 46802255, "link": "https://stackoverflow.com/questions/46802255/nodejs-es6-extend-class-error-to-return-my-own-type-as-part-of-the-error-res/46803140#46803140", "title": "NodeJS - ES6 - Extend class Error to return my own Type as part of the error response", "body": "<p>Your class is defining the <code>status</code> and <code>newResultObject</code> properties so you just need to set them.\nYou just need to change</p>\n\n<pre><code>status = status || 500;\n\nnewResultObject = newResultObject;\n</code></pre>\n\n<p>to</p>\n\n<pre><code>this.status = status || 500;\n\nthis.newResultObject = newResultObject;\n</code></pre>\n\n<p>in your class</p>\n"}], "owner": {"reputation": 1379, "user_id": 3587624, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/0d027a64fc870832410a87419265937a?s=128&d=identicon&r=PG&f=1", "display_name": "user3587624", "link": "https://stackoverflow.com/users/3587624/user3587624"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 59, "favorite_count": 0, "accepted_answer_id": 46803140, "answer_count": 1, "score": 0, "last_activity_date": 1508308391, "creation_date": 1508296902, "last_edit_date": 1508308391, "question_id": 46802255, "link": "https://stackoverflow.com/questions/46802255/nodejs-es6-extend-class-error-to-return-my-own-type-as-part-of-the-error-res", "title": "NodeJS - ES6 - Extend class Error to return my own Type as part of the error response", "body": "<p>I want to extend the class Error and being able to return a custom error with some calls similar to this:</p>\n\n<pre><code>throw new Error('MessageGoesHere', ObjectWithOtherResultGoesHere | or NULL, ErrorCode);\n</code></pre>\n\n<p>For instance... let's say we have a method like below (I made it up):</p>\n\n<pre><code>    public getInformation(value1: string, value2:string): Promise&lt;MyDataResponse&gt; {\n        const promise = this.callFunction2(value1, value2)\n        .then(result =&gt; {\n            return result;\n            })\n            .catch(error =&gt; {\n                MyDataResponse errorResponse = {\n                    field1: value1,\n                    field2: value2\n                };\n\n                throw new CustomError('Error getting information', errorResponse, 003);\n            });\n\n        return Promise.resolve(promise);\n    }\n</code></pre>\n\n<p>I want to throw my own CustomError with three fields. For that, I created the following class:</p>\n\n<pre><code>export default class CustomError extends Error {\n    constructor (message: string, newResultObject: object, status: number) {\n\n      // Calling parent constructor of base Error class.\n      super(message);\n\n      // Saving class name in the property of our custom error as a shortcut.\n      this.name = this.constructor.name;\n\n      // Capturing stack trace, excluding constructor call from it.\n      Error.captureStackTrace(this, this.constructor);\n\n      status = status || 500;\n\n      newResultObject = newResultObject;\n\n    }\n}\n</code></pre>\n\n<p>However, I can't do <strong>this.status</strong> nor <strong>this.newResultObject</strong> as they are not part of the Error class so it never returned the values. How should I create my CustomError class then? Should I extend from a different Error?</p>\n"}, {"tags": ["angularjs", "twitter-bootstrap", "typescript"], "comments": [{"owner": {"reputation": 183792, "user_id": 1749403, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/g0aFU.png?s=128&g=1", "display_name": "Sajeetharan", "link": "https://stackoverflow.com/users/1749403/sajeetharan"}, "edited": false, "score": 0, "creation_date": 1508295141, "post_id": 46802070, "comment_id": 80550885, "body": "how does your data look?"}], "owner": {"reputation": 19, "user_id": 7993509, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cc7d1da8ec6784c4638569251d749201?s=128&d=identicon&r=PG&f=1", "display_name": "Francisco Mu&#241;oz", "link": "https://stackoverflow.com/users/7993509/francisco-mu%c3%b1oz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 59, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1558599935, "creation_date": 1508295087, "last_edit_date": 1558599935, "question_id": 46802070, "link": "https://stackoverflow.com/questions/46802070/bind-a-table-from-an-object-in-angular", "title": "bind a table from an object in angular", "body": "<p>I need to bind a table from an object in angular. when I submit my form, I get the object and send from component 1 to component 2, but when I create another object in my table only see the last insert. Here\u00b4s my code</p>\n\n<p>component n\u00b02</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>&lt;pre&gt;\n\n     import { Component, OnInit } from '@angular/core';\n     import { ClienteDetalleComponent} from './cliente-detalle.component';\n     import { FormGroup, FormControl, Validators } from '@angular/forms';\n     import {NgbDateStruct} from '@ng-bootstrap/ng-bootstrap';\n     import { Cliente } from '../../clases/cliente';\n     import { CoreService } from '../../services/core.service';\n\n\n    @Component({\n    selector: 'app-cliente-deuda',\n    templateUrl: './cliente-deuda.component.html',\n    styles: []\n    })\n    export class ClienteDeudaComponent implements OnInit {\n     data: Cliente;\n    constructor(private coreService: CoreService) {}\n\n      ngOnInit() {\n       this.data = this.coreService.getData();\n\n    }\n  }\n&lt;/pre&gt;\n</code></pre>\n\n<p>and this is my urlTemplate</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;h4&gt;Detalle de Deudas&lt;/h4&gt;\r\n&lt;table class=\"table table-hover\"&gt;\r\n    &lt;thead&gt;\r\n        &lt;tr&gt;\r\n            &lt;th&gt;Acreedor&lt;/th&gt;\r\n            &lt;th&gt;TipoDeuda&lt;/th&gt;\r\n            &lt;th&gt;Situaci\u00f3n&lt;/th&gt;\r\n            &lt;th&gt;Propuestas&lt;/th&gt;\r\n            &lt;th&gt;Monto Deuda&lt;/th&gt;\r\n        &lt;/tr&gt;\r\n    &lt;/thead&gt;\r\n    &lt;tbody&gt;\r\n        &lt;tr&gt;\r\n            &lt;td&gt;{{data.Acreedor}}&lt;/td&gt;\r\n            &lt;td&gt;{{data.TipoDeuda}}&lt;/td&gt;\r\n\r\n        &lt;/tr&gt;\r\n    &lt;/tbody&gt;\r\n&lt;/table&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>in this.data i have all my prop of the object, but i cannot display in a table or grid.</p>\n\n<p>thanks a lot! </p>\n"}, {"tags": ["typescript", "typescript-typings", "typescript2.0"], "comments": [{"owner": {"reputation": 1387, "user_id": 1930482, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b5960053b3ba9ed93f79bced9dce97c8?s=128&d=identicon&r=PG", "display_name": "Aviad Hadad", "link": "https://stackoverflow.com/users/1930482/aviad-hadad"}, "edited": false, "score": 0, "creation_date": 1508318529, "post_id": 46801750, "comment_id": 80560542, "body": "1. I actually don&#39;t get the error, you might be working with a bit older version? you can either upgrade or say what version you are working with. You can sometimes extend type definitions and fix the error even if your locked on an older version.  2. Ugly hack: just add a pre-build task with what ever build tool you are using, to delete <code>node_modules&#47;@progress&#47;kendo-ui&#47;index.d.ts</code>"}, {"owner": {"reputation": 41, "user_id": 2916529, "user_type": "registered", "profile_image": "https://graph.facebook.com/1464004226/picture?type=large", "display_name": "Richard Spence", "link": "https://stackoverflow.com/users/2916529/richard-spence"}, "reply_to_user": {"reputation": 1387, "user_id": 1930482, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b5960053b3ba9ed93f79bced9dce97c8?s=128&d=identicon&r=PG", "display_name": "Aviad Hadad", "link": "https://stackoverflow.com/users/1930482/aviad-hadad"}, "edited": false, "score": 0, "creation_date": 1508361133, "post_id": 46801750, "comment_id": 80585985, "body": "Here&#39;s the full error: <code>E:&#47;Repos&#47;ExperimentationUI&#47;node_modules&#47;@progress&#47;kendo-ui&#47;i&zwnj;&#8203;ndex.d.ts(1201,15): error TS2430: Interface &#39;DataSourceTransportWithFunctionOperations&#39; incorrectly extends interface &#39;DataSourceTransport&#39;.   Types of property &#39;create&#39; are incompatible.     Type &#39;(options: DataSourceTransportOptions) =&gt; void&#39; has no properties in common with type &#39;DataSourceTransportCreate&#39;.</code>  Tested with TS versions was 2.5.2 and 2.5.3"}, {"owner": {"reputation": 555, "user_id": 5572146, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c799e0c44a11d16cc175a717d5dca855?s=128&d=identicon&r=PG&f=1", "display_name": "chpio", "link": "https://stackoverflow.com/users/5572146/chpio"}, "edited": false, "score": 0, "creation_date": 1619091538, "post_id": 46801750, "comment_id": 118802984, "body": "Im having a similar problem, I have <code>@types&#47;react</code> installed (i need it for a second entry point, that is loaded into a WebView), but some types defined in <code>@types&#47;react</code> clash with types i need in my main program. Tried excluding it in my main tsconfig without success."}], "owner": {"reputation": 41, "user_id": 2916529, "user_type": "registered", "profile_image": "https://graph.facebook.com/1464004226/picture?type=large", "display_name": "Richard Spence", "link": "https://stackoverflow.com/users/2916529/richard-spence"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 517, "favorite_count": 0, "answer_count": 0, "score": 3, "last_activity_date": 1619261166, "creation_date": 1508292316, "last_edit_date": 1619261166, "question_id": 46801750, "link": "https://stackoverflow.com/questions/46801750/is-there-a-way-exclude-an-imported-packages-typings", "title": "Is there a way Exclude an imported Package&#39;s Typings?", "body": "<h1>Summary</h1>\n<p>I have an npm dependency <code>@progress/kendo-ui</code> that includes the <code>typings</code>within the npm package, pointing to a separate index.d.ts file.  Unfortunately the typings are incorrect and produce compile time errors.  Kendo appear a bit slow in fixing this issue, so I'm trying to do a quick mitigation.  Using Typescript version <code>2.5.3</code></p>\n<h1>Question</h1>\n<p>Is there a way to exclude this specific module's typings?  In the tsconfig file I've tried a few things like typeAcquistion and exclude, but can't seem to figure it out</p>\n<h3>Tsconfig file</h3>\n<pre class=\"lang-json prettyprint-override\"><code>&quot;compilerOptions&quot;: {\n        &quot;module&quot;: &quot;amd&quot;,\n        &quot;target&quot;: &quot;es5&quot;,\n        &quot;experimentalDecorators&quot;: true,\n        &quot;jsx&quot;: &quot;react&quot;,\n        &quot;declaration&quot;: true,\n        &quot;baseUrl&quot;: &quot;.&quot;,\n        &quot;importHelpers&quot;: true,\n        &quot;paths&quot;: {\n            &quot;tslib&quot;: [\n                &quot;../node_modules/tslib/tslib.d.ts&quot;\n            ],\n            &quot;monaco&quot;: [\n                &quot;../node_modules/monaco-editor/monaco.d.ts&quot;\n            ]\n        },\n        &quot;forceConsistentCasingInFileNames&quot;: true,\n        &quot;moduleResolution&quot;: &quot;node&quot;\n    },\n</code></pre>\n<p>and my attempted fixes</p>\n<pre class=\"lang-json prettyprint-override\"><code>&quot;typeAcquisition&quot;: {\n        &quot;enable&quot;: true,\n        &quot;exclude&quot;: [\n            &quot;@progress/kendo-ui&quot;,\n            &quot;../node_modules/@progress/kendo-ui/index.d.ts&quot;,\n            &quot;../node_modules/@progress/kendo-ui&quot;,\n            &quot;node_modules/@progress/kendo-ui&quot;,\n            &quot;@progress&quot;,\n            &quot;kendo-ui&quot;\n        ]\n    },\n    &quot;exclude&quot;: [\n        &quot;../node_modules/@progress/&quot;\n    ]\n</code></pre>\n<h3>The error for reference:</h3>\n<pre><code>E:/Repos/ExperimentationUI/node_modules/@progress/kendo-ui/index.d.ts(1201,15): error TS2430: Interface 'DataSourceTransportWithFunctionOperations' incorrectly extends interface 'DataSourceTransport'.\n  Types of property 'create' are incompatible.\n    Type '(options: DataSourceTransportOptions) =&gt; void' has no properties in common with type 'DataSourceTransportCreate'.\n</code></pre>\n"}, {"tags": ["angular", "typescript", "timer"], "comments": [{"owner": {"reputation": 50474, "user_id": 6680611, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wRJqu.png?s=128&g=1", "display_name": "cartant", "link": "https://stackoverflow.com/users/6680611/cartant"}, "edited": false, "score": 1, "creation_date": 1508292138, "post_id": 46801568, "comment_id": 80550200, "body": "Each call  to  <code>upTick</code> starts an interval timer. And <code>upTick</code> will be called multiple times by Angular when the template is rendered, so you have multiple, concurrent interval timers running."}, {"owner": {"reputation": 37, "user_id": 6741518, "user_type": "registered", "accept_rate": 80, "profile_image": "https://lh4.googleusercontent.com/-DMziqnRo9w0/AAAAAAAAAAI/AAAAAAAAABg/BnGrqnee1Io/photo.jpg?sz=128", "display_name": "Liam", "link": "https://stackoverflow.com/users/6741518/liam"}, "reply_to_user": {"reputation": 50474, "user_id": 6680611, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wRJqu.png?s=128&g=1", "display_name": "cartant", "link": "https://stackoverflow.com/users/6680611/cartant"}, "edited": false, "score": 0, "creation_date": 1508292472, "post_id": 46801568, "comment_id": 80550269, "body": "That makes sense, is there a way to update the timer variable in the TypeScript file, and then pass { timer } in the html file?"}], "answers": [{"tags": [], "owner": {"reputation": 260, "user_id": 3151553, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/zEHSf.jpg?s=128&g=1", "display_name": "stefanos", "link": "https://stackoverflow.com/users/3151553/stefanos"}, "is_accepted": true, "score": 2, "last_activity_date": 1508328710, "creation_date": 1508328710, "answer_id": 46809888, "question_id": 46801568, "link": "https://stackoverflow.com/questions/46801568/angular-4-timer-up-ticking-too-fast/46809888#46809888", "title": "Angular 4 Timer up ticking too fast", "body": "<p>As @cartant stated in the comments, angular templates is rendered multiple times.</p>\n\n<p>So you only need to have only one interval running at a time.</p>\n\n<p><code>setInterval()</code> returns an id so that you can handle it.</p>\n\n<p>Modifying your code a bit I ended up with this</p>\n\n<pre><code>@Component({\n    selector: 'main',\n    template: `\n   &lt;div&gt;\n    {{timer}}\n    &lt;button (click)=\"startStop()\"&gt;Start/Stop&lt;/button&gt;\n   &lt;/div&gt;\n    `\n})\nexport class MainComponent implements OnInit {\n\n    timer : number = 0;\n    intervalId : number;\n\n    constructor() {\n    }\n\n\n    start() {\n      this.intervalId = setInterval(() =&gt; {\n        this.timeIt()\n      }, 1000);\n    }\n\n    stop() {\n       clearInterval(this.intervalId);\n       this.intervalId = -1;\n    }\n\n    startStop() {\n      if(this.intervalId == -1) {\n        this.start();\n      }  else {\n        this.stop();\n      }\n    }\n\n    timeIt() {\n     this.timer++;\n    }\n\n    ngOnInit() {\n      this.start();\n    }\n}\n</code></pre>\n\n<p><a href=\"http://plnkr.co/edit/Mu1k05WXHhijWDjahd0Y?p=preview\" rel=\"nofollow noreferrer\">http://plnkr.co/edit/Mu1k05WXHhijWDjahd0Y?p=preview</a></p>\n"}], "owner": {"reputation": 37, "user_id": 6741518, "user_type": "registered", "accept_rate": 80, "profile_image": "https://lh4.googleusercontent.com/-DMziqnRo9w0/AAAAAAAAAAI/AAAAAAAAABg/BnGrqnee1Io/photo.jpg?sz=128", "display_name": "Liam", "link": "https://stackoverflow.com/users/6741518/liam"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2424, "favorite_count": 1, "accepted_answer_id": 46809888, "answer_count": 1, "score": 0, "last_activity_date": 1508328710, "creation_date": 1508290723, "question_id": 46801568, "link": "https://stackoverflow.com/questions/46801568/angular-4-timer-up-ticking-too-fast", "title": "Angular 4 Timer up ticking too fast", "body": "<p>I'm trying to create a simple timer in Angular 4 that will up tick each second, but when the following code is run it ticks up way too quickly.</p>\n\n<pre><code>import { Component, OnInit } from '@angular/core';\n\n@Component({\n  selector: 'app-clock',\n  templateUrl: './clock.component.html',\n  styleUrls: ['./clock.component.css']\n})\nexport class ClockComponent implements OnInit {\n\n  timer: number = 0;\n\n  constructor() {\n\n  }\n\n  ngOnInit() {\n  }\n\n  timeIt() {\n    this.timer++;\n  }\n\n  upTick() {\n    return setInterval(() =&gt; {\n      this.timeIt()\n    }, 1000);\n  }\n\n\n}\n</code></pre>\n\n<p>// HTML</p>\n\n<pre><code>&lt;p&gt;\n{{ upTick() }}\n&lt;button \n    type=\"submit\" \n    (click)=\"startStop()\"&gt;Start/Stop\n&lt;/button&gt;\n&lt;/p&gt;\n</code></pre>\n\n<p>Implementing this code in JavaScript using the setInterval() function alone with the parameter timeIt() and 1000 works for each second, not sure what is going wrong here in TypeScript</p>\n"}, {"tags": ["sql", "sql-server", "angular", "typescript", "sequelize.js"], "answers": [{"tags": [], "owner": {"reputation": 13, "user_id": 6558557, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XOzdD.jpg?s=128&g=1", "display_name": "cesiya23", "link": "https://stackoverflow.com/users/6558557/cesiya23"}, "is_accepted": false, "score": -1, "last_activity_date": 1508299031, "creation_date": 1508299031, "answer_id": 46802562, "question_id": 46801447, "link": "https://stackoverflow.com/questions/46801447/sequelize-join-tables-on-non-primary-key/46802562#46802562", "title": "Sequelize join tables on non primary key", "body": "<p><code>{sourceKey: 'id'}</code>: UserMail.id will be added to User as the content of foreign key column.</p>\n\n<p>So change <code>sourceKey</code> to the column you want.</p>\n"}, {"tags": [], "owner": {"reputation": 4958, "user_id": 3966458, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/K96lA.jpg?s=128&g=1", "display_name": "Saahithyan Vigneswaran", "link": "https://stackoverflow.com/users/3966458/saahithyan-vigneswaran"}, "is_accepted": false, "score": 7, "last_activity_date": 1554231360, "creation_date": 1554231360, "answer_id": 55481748, "question_id": 46801447, "link": "https://stackoverflow.com/questions/46801447/sequelize-join-tables-on-non-primary-key/55481748#55481748", "title": "Sequelize join tables on non primary key", "body": "<p>Use <code>targetKey</code> instead of <code>sourceKey</code></p>\n\n<p>This is a code from my project, hope this helps</p>\n\n<pre><code>Country.hasMany(Region, { foreignKey: 'countrycode' })\nRegion.belongsTo(Country, { foreignKey: 'countrycode', targetKey:'countrycode' })\n</code></pre>\n\n<p>so, urs wold be</p>\n\n<pre><code>User.hasMany(UserMail, {foreignKey:'from_user_id'})\nUserMail.belongsTo(User, {foreignKey: 'from_user_id', targetKey:'id'})\n</code></pre>\n"}], "owner": {"reputation": 41, "user_id": 8793053, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/228723f07914e3193fb3cd2d98c5c57f?s=128&d=identicon&r=PG&f=1", "display_name": "TheLastKiwi", "link": "https://stackoverflow.com/users/8793053/thelastkiwi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3061, "favorite_count": 1, "answer_count": 2, "score": 2, "last_activity_date": 1554231360, "creation_date": 1508289737, "question_id": 46801447, "link": "https://stackoverflow.com/questions/46801447/sequelize-join-tables-on-non-primary-key", "title": "Sequelize join tables on non primary key", "body": "<p>My code:</p>\n\n<pre><code>User.hasMany(UserMail, {foreignKey:'to_user_id', sourceKey:'id'});\nUser.hasMany(UserMail, {foreignKey:'from_user_id', sourceKey:'id'});\n\nUserMail.belongsTo(User, {foreignKey: 'from_user_id'})\nUserMail.belongsTo(User, {foreignKey: 'to_user_id'})\n\nfunction getUserMail(req,res){\n    // Authenticate\n    jwt.verify(req.headers.jwt, process.env.JWT_KEY,function(err,decoded) {\n        if (err) {\n            return res.status(401).send(\"Invalid token\");\n        }\n        let id = decoded.id;\n\n        return UserMail.findAll({\n            where: {\n                to_user_id: id,\n                to_user_deleted: false\n            },\n            include:{\n              model: User,\n\n\n              //This is where the error is\n              on:{\n                  id: Sequelize.where(Sequelize.col(\"User.id\"), \"=\",Sequelize.col(\"UserMail.from_user_id\"))\n              },\n\n\n                attributes:['username']\n            },\n            // attributes:[], // TODO Set what columns are needed\n            order:[['id', 'DESC']]\n        }).then(mail=&gt; {\n            return res.status(200).send(mail);\n        })\n\n    })\n}\n</code></pre>\n\n<p>When I use that I get \"Unhandled rejection SequelizeDatabaseError: missing FROM-clause entry for table \"User\"\" and I'm not sure what that means.</p>\n\n<p>I've tried using </p>\n\n<pre><code>where:{\n    id: UserMail.from_user_id;\n}\n</code></pre>\n\n<p>But every time the query is executed it has \"User\".\"id\" = NULL so it never returns results. I've also tried all sorts of variations to get it to not be NULL but no variable I've tried works.</p>\n\n<p>I just want to add a single column to the query, username from the Users table where from_user_id in the UserMail table is in the Users table. It sounds so simple, but I can't for the life of me seem to do it.</p>\n\n<p>It's simple to join the table on primary keys by just using</p>\n\n<pre><code>include:{[User]}\n</code></pre>\n\n<p>and it will include where the User primary key is equal to the UserMail primary key, but that's not what I want. I want it on a UserMail column that's not the primary key.</p>\n"}, {"tags": ["angular", "typescript"], "comments": [{"owner": {"reputation": 1087, "user_id": 7145293, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/AoYt4.jpg?s=128&g=1", "display_name": "Andresson", "link": "https://stackoverflow.com/users/7145293/andresson"}, "edited": false, "score": 0, "creation_date": 1508285555, "post_id": 46800958, "comment_id": 80548740, "body": "Do I understand you correctly..  You have user permission stored in local storage, and you need a way to access it and then display data depending on those permissions?"}, {"owner": {"reputation": 664, "user_id": 4576957, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/084a677ec0671afe0af7be674c9084e3?s=128&d=identicon&r=PG&f=1", "display_name": "GCoe", "link": "https://stackoverflow.com/users/4576957/gcoe"}, "reply_to_user": {"reputation": 1087, "user_id": 7145293, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/AoYt4.jpg?s=128&g=1", "display_name": "Andresson", "link": "https://stackoverflow.com/users/7145293/andresson"}, "edited": false, "score": 0, "creation_date": 1508285740, "post_id": 46800958, "comment_id": 80548787, "body": "I&#39;m using a service to store the permissions after login. And, yes , with these permissions some options at the navbar will or not be displayed."}, {"owner": {"reputation": 1087, "user_id": 7145293, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/AoYt4.jpg?s=128&g=1", "display_name": "Andresson", "link": "https://stackoverflow.com/users/7145293/andresson"}, "edited": false, "score": 0, "creation_date": 1508286037, "post_id": 46800958, "comment_id": 80548836, "body": "Okey. What exactly is the problem? Do you have problems accessing the data in your <code>*.component.ts</code> file ?  or, Is it something else ?"}, {"owner": {"reputation": 664, "user_id": 4576957, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/084a677ec0671afe0af7be674c9084e3?s=128&d=identicon&r=PG&f=1", "display_name": "GCoe", "link": "https://stackoverflow.com/users/4576957/gcoe"}, "reply_to_user": {"reputation": 1087, "user_id": 7145293, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/AoYt4.jpg?s=128&g=1", "display_name": "Andresson", "link": "https://stackoverflow.com/users/7145293/andresson"}, "edited": false, "score": 0, "creation_date": 1508286161, "post_id": 46800958, "comment_id": 80548863, "body": "I need fire an event on the navbar component like ngOnInit but the event is not fired"}, {"owner": {"reputation": 1087, "user_id": 7145293, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/AoYt4.jpg?s=128&g=1", "display_name": "Andresson", "link": "https://stackoverflow.com/users/7145293/andresson"}, "edited": false, "score": 0, "creation_date": 1508286706, "post_id": 46800958, "comment_id": 80549000, "body": "Could you provide code from your <code>...ts file</code>"}, {"owner": {"reputation": 664, "user_id": 4576957, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/084a677ec0671afe0af7be674c9084e3?s=128&d=identicon&r=PG&f=1", "display_name": "GCoe", "link": "https://stackoverflow.com/users/4576957/gcoe"}, "reply_to_user": {"reputation": 1087, "user_id": 7145293, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/AoYt4.jpg?s=128&g=1", "display_name": "Andresson", "link": "https://stackoverflow.com/users/7145293/andresson"}, "edited": false, "score": 0, "creation_date": 1508287105, "post_id": 46800958, "comment_id": 80549086, "body": "Shure, the ts is now on the question."}, {"owner": {"reputation": 1087, "user_id": 7145293, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/AoYt4.jpg?s=128&g=1", "display_name": "Andresson", "link": "https://stackoverflow.com/users/7145293/andresson"}, "reply_to_user": {"reputation": 664, "user_id": 4576957, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/084a677ec0671afe0af7be674c9084e3?s=128&d=identicon&r=PG&f=1", "display_name": "GCoe", "link": "https://stackoverflow.com/users/4576957/gcoe"}, "edited": false, "score": 0, "creation_date": 1508287229, "post_id": 46800958, "comment_id": 80549115, "body": "Let us <a href=\"http://chat.stackoverflow.com/rooms/156961/discussion-between-andresson-and-gcoe\">continue this discussion in chat</a>."}, {"owner": {"reputation": 664, "user_id": 4576957, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/084a677ec0671afe0af7be674c9084e3?s=128&d=identicon&r=PG&f=1", "display_name": "GCoe", "link": "https://stackoverflow.com/users/4576957/gcoe"}, "reply_to_user": {"reputation": 1087, "user_id": 7145293, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/AoYt4.jpg?s=128&g=1", "display_name": "Andresson", "link": "https://stackoverflow.com/users/7145293/andresson"}, "edited": false, "score": 0, "creation_date": 1508287473, "post_id": 46800958, "comment_id": 80549160, "body": "Thank you but now I&#39;m must leave"}, {"owner": {"reputation": 218, "user_id": 6768620, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/d0ece11dfa6d31b3d6c8fe915deffb9c?s=128&d=identicon&r=PG&f=1", "display_name": "harold_mean2", "link": "https://stackoverflow.com/users/6768620/harold-mean2"}, "edited": false, "score": 0, "creation_date": 1508289376, "post_id": 46800958, "comment_id": 80549585, "body": "One way I handle my events on my navbar is when the drop downs close and open."}], "owner": {"reputation": 664, "user_id": 4576957, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/084a677ec0671afe0af7be674c9084e3?s=128&d=identicon&r=PG&f=1", "display_name": "GCoe", "link": "https://stackoverflow.com/users/4576957/gcoe"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 40, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1508287038, "creation_date": 1508285261, "last_edit_date": 1508287038, "question_id": 46800958, "link": "https://stackoverflow.com/questions/46800958/events-on-a-navbar-component", "title": "Events on a navbar component", "body": "<p>At the main template on app.component I have this :</p>\n\n<pre><code>&lt;bs-navbar&gt;&lt;/bs-navbar&gt;\n&lt;div class=\"container\"&gt;\n\n  &lt;div class=\"row\"&gt;\n    &lt;div&gt;\n      &lt;router-outlet&gt;&lt;/router-outlet&gt;\n    &lt;/div&gt;\n  &lt;/div&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>My problem is that I need make some decisions to initialize the navbar displaying or not some options depending the customer rights that I save on login. I can read these options from a service. My problem is how can I use events like ngOnInit on the navbar component. As I can see, events like ngOnInit on navbar are not fired.</p>\n\n<p>At the navbar component I have : </p>\n\n<pre><code>import { GlobalsService } from './../globals.service';\nimport { any } from 'codelyzer/util/function';\nimport { Router } from '@angular/router';\nimport { AngularFireAuth } from 'angularfire2/auth';\nimport { Component, OnInit } from '@angular/core';\nimport { Observable } from 'rxjs/Observable';\n\nexport enum userProfile {\n    Admin = 1 ,\n    Normal = 2\n}\n\n@Component({\n   selector: 'bs-navbar',\n   templateUrl: './bs-navbar.component.html',\n   styleUrls: ['./bs-navbar.component.css']\n})\n\n\nexport class BsNavbarComponent implements OnInit {\n\nUserProfile ;\n\nconstructor(private router: Router, public globals: GlobalsService) {}\n\nngOnInit() {\n    this.UserProfile = this.globals.getValueParaTipoDeOperador ;\n    console.log('User profile -&gt; ', this.UserProfile );\n}\n</code></pre>\n\n<p>Thank you</p>\n"}, {"tags": ["angular", "typescript", "webpack"], "comments": [{"owner": {"reputation": 223, "user_id": 7985419, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/abbf07aa3cb5342565124950db4e5b8e?s=128&d=identicon&r=PG&f=1", "display_name": "mogli mogli", "link": "https://stackoverflow.com/users/7985419/mogli-mogli"}, "reply_to_user": {"reputation": 14418, "user_id": 547020, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/ab189bf43c55bf51af39fee8a8ca1090?s=128&d=identicon&r=PG", "display_name": "Eliran Malka", "link": "https://stackoverflow.com/users/547020/eliran-malka"}, "edited": false, "score": 0, "creation_date": 1508320511, "post_id": 46800514, "comment_id": 80561856, "body": "where I need to change?"}, {"owner": {"reputation": 1446, "user_id": 3980911, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ORRrQ.jpg?s=128&g=1", "display_name": "yadejo", "link": "https://stackoverflow.com/users/3980911/yadejo"}, "edited": false, "score": 1, "creation_date": 1508323773, "post_id": 46800514, "comment_id": 80563808, "body": "The library <code>ng2-mqtt</code> is using the <code>window</code> object without checking if it exists. This is a problem for server side rendering since <code>window</code> is unknown on the server side. Your best guess is to submit an issue on their github page and hope they fix it"}, {"owner": {"reputation": 223, "user_id": 7985419, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/abbf07aa3cb5342565124950db4e5b8e?s=128&d=identicon&r=PG&f=1", "display_name": "mogli mogli", "link": "https://stackoverflow.com/users/7985419/mogli-mogli"}, "reply_to_user": {"reputation": 1446, "user_id": 3980911, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ORRrQ.jpg?s=128&g=1", "display_name": "yadejo", "link": "https://stackoverflow.com/users/3980911/yadejo"}, "edited": false, "score": 0, "creation_date": 1508426781, "post_id": 46800514, "comment_id": 80614498, "body": "Ok but I am using the libraries within my node_modules. Is there not an other way to solve it? For example with webpack?"}], "owner": {"reputation": 223, "user_id": 7985419, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/abbf07aa3cb5342565124950db4e5b8e?s=128&d=identicon&r=PG&f=1", "display_name": "mogli mogli", "link": "https://stackoverflow.com/users/7985419/mogli-mogli"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 345, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1508317370, "creation_date": 1508281649, "last_edit_date": 1508317370, "question_id": 46800514, "link": "https://stackoverflow.com/questions/46800514/window-is-not-defined-server-side-rendering", "title": "window is not defined server side rendering", "body": "<p>I am getting following error:</p>\n\n<blockquote>\n  <p>/Users/Picchu/Documents/em/node_modules/ng2-mqtt/mqttws31.js:2143\n  })(window);    ^</p>\n  \n  <p>ReferenceError: window is not defined\n      at Object. (/Users/Picchu/Documents/em/node_modules/ng2-mqtt/mqttws31.js:2143:4)\n      at Module._compile (module.js:556:32)\n      at Object.Module._extensions..js (module.js:565:10)\n      at Module.load (module.js:473:32)\n      at tryModuleLoad (module.js:432:12)\n      at Function.Module._load (module.js:424:3)\n      at Module.require (module.js:483:17)\n      at require (internal/module.js:20:19)\n      at Object. (/Users/Picchu/Documents/em/dist/server.js:18652:18)\n      at <strong>webpack_require</strong> (/Users/Picchu/Documents/em/dist/server.js:20:30)</p>\n</blockquote>\n\n<p>How can I fix this problem?</p>\n"}, {"tags": ["typescript"], "answers": [{"tags": [], "owner": {"reputation": 19955, "user_id": 101087, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/646f0fa3075659904242cf6f576ed2e9?s=128&d=identicon&r=PG", "display_name": "NineBerry", "link": "https://stackoverflow.com/users/101087/nineberry"}, "is_accepted": true, "score": 6, "last_activity_date": 1508280609, "creation_date": 1508280609, "answer_id": 46800366, "question_id": 46800332, "link": "https://stackoverflow.com/questions/46800332/ts-2322-property-id-is-missing-in-type-id-number/46800366#46800366", "title": "TS 2322 - Property &#39;id&#39; is missing in type &#39;{ id: number", "body": "<p>You are trying to assign an array of objects to a variable of type Car. Make the variable an array of Cars.</p>\n\n<pre><code>cars : Car[] = [\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 2739, "user_id": 5917759, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/OjZc4.jpg?s=128&g=1", "display_name": "Frennetix", "link": "https://stackoverflow.com/users/5917759/frennetix"}, "is_accepted": false, "score": 1, "last_activity_date": 1543581996, "creation_date": 1543581996, "answer_id": 53557887, "question_id": 46800332, "link": "https://stackoverflow.com/questions/46800332/ts-2322-property-id-is-missing-in-type-id-number/53557887#53557887", "title": "TS 2322 - Property &#39;id&#39; is missing in type &#39;{ id: number", "body": "<p>For those who used like me:</p>\n\n<pre><code>var myObject = objects.filter(o =&gt; o.id === id)\n</code></pre>\n\n<p>Replace it by find() to return an object and not an array:</p>\n\n<pre><code>var myObject = objects.find(o =&gt; o.id === id)\n</code></pre>\n"}], "owner": {"reputation": 179, "user_id": 8579633, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0bb8d4e280b29424c2b1c840870b23db?s=128&d=identicon&r=PG&f=1", "display_name": "Dawid Schmidt", "link": "https://stackoverflow.com/users/8579633/dawid-schmidt"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 13648, "favorite_count": 0, "accepted_answer_id": 46800366, "answer_count": 2, "score": 5, "last_activity_date": 1543581996, "creation_date": 1508280379, "last_edit_date": 1508280783, "question_id": 46800332, "link": "https://stackoverflow.com/questions/46800332/ts-2322-property-id-is-missing-in-type-id-number", "title": "TS 2322 - Property &#39;id&#39; is missing in type &#39;{ id: number", "body": "<p>New to Angular and TS. I created model with the same properties but i got error and cant find solution: </p>\n\n<blockquote>\n  <p>TS2322: Type '{ id: number; model: string; plate: string;\n  deliveryDate: string; deadline: string; client: { fir...' is not\n  assignable to type 'Car'. Property 'id' is missing in type '{ id:\n  number; model: string; plate: string; deliveryDate: string; deadline:\n  string; client: { fir...'.    cars : Car = [</p>\n</blockquote>\n\n<p>my files:</p>\n\n<pre><code>//cars-list.component.ts\n\nimport { Car } from '../models/car';\n.\n.\n.\ncars : Car = [\n{\n  id: 1,\n  model: 'Mazda Rx7',\n  plate: 'GD2121E',\n  deliveryDate: '21-04-2017',\n  deadline: '05-05-2016',\n  client: {\n    firstName: 'Jan',\n    surname: 'Kowalski'\n  },\n  cost: 300,\n  isFullyDamaged: true\n}, \n...\n</code></pre>\n\n<p>and   </p>\n\n<pre><code>//car.ts\nimport {Client} from './client';\nexport interface Car {\n  id: number;\n  model: string;\n  plate: string;\n  deliveryDate: string;\n  deadline: string;\n  client: Client;\n  cost: number;\n  isFullyDamaged: boolean;\n}\n</code></pre>\n"}, {"tags": ["validation", "typescript", "edit", "aurelia"], "answers": [{"comments": [{"owner": {"reputation": 85, "user_id": 147768, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/614f0ecf81bf8a49e38b8744ca60bff9?s=128&d=identicon&r=PG", "display_name": "Manish Surolia", "link": "https://stackoverflow.com/users/147768/manish-surolia"}, "edited": false, "score": 0, "creation_date": 1528567358, "post_id": 46843297, "comment_id": 88561160, "body": "thanks a million for this wonderful answer. After wasting 2 days digging the internet, fortunately I finally stumbled here. Just wondering why this isn&#39;t marked as accepted."}], "tags": [], "owner": {"reputation": 1775, "user_id": 784699, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1dfba3290962a5ae931cc84122e58a64?s=128&d=identicon&r=PG", "display_name": "JSobell", "link": "https://stackoverflow.com/users/784699/jsobell"}, "is_accepted": false, "score": 1, "last_activity_date": 1508480089, "creation_date": 1508480089, "answer_id": 46843297, "question_id": 46800306, "link": "https://stackoverflow.com/questions/46800306/aurelia-validation-nor-working-when-data-is-pre-populated-in-the-form/46843297#46843297", "title": "Aurelia validation nor working when data is pre-populated in the form", "body": "<p>I expect it's because of this code:\n<code>\n.getById(params.id)\n  .then(data =&gt; {\n    console.log(data);\n    this.contactForEdit = data;\n</code></p>\n\n<p>your validation is against a <code>ContactForEditDto</code> object, but my guess is your repository is returning a JSON object cast to a <code>ContactForEditDto</code>, so it's not actually a class at all.\nTry something like\n<code>\n console.log(data);\n this.contactForEdit = new ContactForEditDto(data.id, data.firstname ..etc..);\n</code>\nor\n<code>\n console.log(data);\n this.contactForEdit = Object.assign(new ContactForEditDto(), data);\n</code></p>\n"}, {"tags": [], "owner": {"reputation": 4797, "user_id": 250094, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/49d80e4d995467c5c00f1300db855698?s=128&d=identicon&r=PG", "display_name": "Alex Dresko", "link": "https://stackoverflow.com/users/250094/alex-dresko"}, "is_accepted": false, "score": 0, "last_activity_date": 1513707189, "creation_date": 1513707189, "answer_id": 47892918, "question_id": 46800306, "link": "https://stackoverflow.com/questions/46800306/aurelia-validation-nor-working-when-data-is-pre-populated-in-the-form/47892918#47892918", "title": "Aurelia validation nor working when data is pre-populated in the form", "body": "<p>We just had a similar problem and solved it by setting up our validations after assigning the remote data to our local field. In your code, you'd set up your validation rules after <code>this.contactForEdit = data;</code></p>\n"}], "owner": {"reputation": 3, "user_id": 8099120, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/130011c425d70b544006083786b1f714?s=128&d=identicon&r=PG&f=1", "display_name": "aacg", "link": "https://stackoverflow.com/users/8099120/aacg"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 437, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1513707189, "creation_date": 1508280228, "question_id": 46800306, "link": "https://stackoverflow.com/questions/46800306/aurelia-validation-nor-working-when-data-is-pre-populated-in-the-form", "title": "Aurelia validation nor working when data is pre-populated in the form", "body": "<p>I have been unable to get the validation to work on an edit model-view that has data bound to it in the activate method of its view-model.</p>\n\n<p>I have a created.ts which works on an object with the same fields. This file has almost the same code - the exception is that since this one is a create, no data needs to be loaded to it. In this case, the validation is working properly.</p>\n\n<p>If I comment the code that loads the data for the edit model-view - in the activate method - the validation works properly.  </p>\n\n<p>Needless to say I am new to SPA, Aurelia and TypeScript and need some help!!</p>\n\n<p>Below is the code in edit.ts</p>\n\n<pre><code>import { ContactRepository } from \"./contactRepository\";\nimport { autoinject } from \"aurelia-framework\";\nimport { ContactForEditDto } from \"./contactForEditDto\";\nimport { json } from \"aurelia-fetch-client\";\nimport { inject, NewInstance } from \"aurelia-dependency-injection\";\nimport { ValidationRules, ValidationControllerFactory, validateTrigger, \nValidator } from \"aurelia-validation\";\n\n\n@autoinject\nexport class Edit {\n\npublic saveStatusMessage: string;\npublic isSaved: number = -1;\nprivate controller = null;\nprivate validator = null;\npublic canSave: boolean = false;\n\nconstructor(public contactForEdit: ContactForEditDto, private repository: \nContactRepository, private controllerFactory: ValidationControllerFactory,\npublic contactFullName: string, validator: Validator) {\n\nconsole.log(\"starting edit controller\");\n\nthis.controller = controllerFactory.createForCurrentScope(validator);\nthis.controller.validateTrigger = validateTrigger.changeOrBlur;\nthis.validator = validator;\nthis.controller.subscribe(event =&gt; this.validateWhole());\n\nValidationRules\n\n  .ensure((c: ContactForEditDto) =&gt; c.contactFirstName)\n  .displayName(\"First Name\")\n  .required().withMessage(\"\\${$displayName} cannot be empty.\")\n  .maxLength(50).withMessage(\"\\${$displayName} cannot have more than 50 characters.\")\n\n  .ensure((c: ContactForEditDto) =&gt; c.contactLastName)\n  .displayName(\"Last Name\")\n  .required().withMessage(\"\\${$displayName} cannot be empty.\")\n  .maxLength(50).withMessage(\"\\${$displayName} cannot have more than 50 characters.\")\n\n\n  .ensure((c: ContactForEditDto) =&gt; c.contactEmailAddress)\n  .displayName(\"Email Address\")\n  //.required().withMessage(\"\\${$displayName} cannot be empty.\")\n  .email().withMessage(\"\\${$displayName} needs to be in a correct email address format.\")\n  .maxLength(50).withMessage(\"\\${$displayName} cannot have more than 50 characters.\")\n\n  .ensure((c: ContactForEditDto) =&gt; c.contactPhoneNumber)\n  .displayName(\"Phone Number\")\n  .required().withMessage(\"\\${$displayName} cannot be empty.\")\n  .maxLength(12).withMessage(\"\\${$displayName} cannot have more than 12 characters.\")\n  .matches(/\\d{3}-\\d{3}-\\d{4}/).withMessage(\"'${$value}' is not a valid \\${$displayName}. Please enter a phone in the format xxx-xxx-xxxx\")\n\n  .on(ContactForEditDto);\n\n}\n\n// source https://www.jujens.eu/posts/en/2017/Jan/24/aurelia-validation/ \nworkaround 3\nvalidateWhole() {\nthis.validator.validateObject(this.contactForEdit)\n  .then(results =&gt; this.canSave = results.every(result =&gt; result.valid));\n}\n\n// Returning data from here because I can return a promise\n// and let the router know when i have retrieved my initial data.\n\n// Activate receives a params object as defined in the route.\n\nactivate(params) {\nconsole.log(\"ACTIVATE ON EDIT PARAMS:\" + params);\nthis.repository\n  .getById(params.id)\n  .then(data =&gt; {\n    console.log(data);\n    this.contactForEdit = data;\n    this.contactFullName = this.contactForEdit.contactLastName + \", \" + \n  this.contactForEdit.contactFirstName; // This needs to come from a method \n  in \n  contact.\n  });\n  }\n\n  edit() {\n\nthis.saveStatusMessage = \"\";\nthis.isSaved = -1;\n\n// This will be an edit\nif (this.contactForEdit.contactId &gt;= 1) {\n\n  this.repository\n    .update(this.contactForEdit)\n    .then(response =&gt; {\n      if (((response.status == 201) || (response.status == 204))\n        &amp;&amp; (response.ok == true)) {\n        this.isSaved = 1;\n        this.saveStatusMessage = \"Successfully saved the contact\";\n      }\n      else {\n        this.isSaved = 0;\n        //response.json().then(json =&gt; this.retVal = json);\n\n        //TODO: get more details about the error.\n        if (response.status == 400) {\n          this.saveStatusMessage = \"Unable to save the contact. Please make sure that you entered correct values for every field and try again.\";\n        }\n        else {\n          this.saveStatusMessage = \"Unable to save the contact.\";\n        }\n      }\n    });\n}\n\n}\n\nclearContactFields() {\nthis.contactForEdit = new ContactForEditDto(-1, \"\", \"\", \"\", \"\");\n}\n\n\n}\n</code></pre>\n\n<p>Below is the code in edit.html</p>\n\n<pre><code>&lt;template&gt;\n&lt;form id=\"editContact\" submit.delegate=\"edit()\"&gt;\n&lt;!-- placeholder for status messages. If equal to 1 display it. If equals to \n-1 or 1 hide this.--&gt;\n&lt;div id=\"successStatusMessage\" class.bind=\"isSaved == 1 ? 'visible' : \n'hidden'\"&gt;\n  &lt;div id=\"divSuccessMessage\" class=\"alert alert-success\"&gt;\n    &lt;a href=\"#\" class=\"close\" data-dismiss=\"alert\"&gt;&amp;times;&lt;/a&gt;\n    &lt;!--&lt;span class=\"glyphicon glyphicon glyphicon-ok\" aria-hidden=\"true\"&gt;\n&lt;/span&gt; TODO: How to get the glyphicon working? --&gt;\n    &lt;span class=\"sr-only\"&gt; Success:&lt;/span&gt; ${saveStatusMessage}\n  &lt;/div&gt;\n&lt;/div&gt;\n&lt;!-- placeholder for status messages.  If equal to 0 is in error, so dislay error message. if equals to -1 or 1 hide this.--&gt;\n&lt;div id=\"errorStatusMessage\" class.bind=\"isSaved == 0 ? 'visible' : 'hidden'\"&gt;\n  &lt;!-- placeholder for status messages. --&gt;\n  &lt;div id=\"divErrorMessage\" class=\"alert alert-danger\"&gt;\n    &lt;a href=\"#\" class=\"close\" data-dismiss=\"alert\"&gt;&amp;times;&lt;/a&gt;\n    &lt;!-- &lt;span class=\"glyphicon glyphicon-exclamation-sign\" aria-hidden=\"true\"&gt;&lt;/span&gt;  TODO:  class=\"glyphicon glyphicon-exclamation-sign\" how to get these in here for class?   --&gt;\n    &lt;span class=\"sr-only\"&gt; Error:&lt;/span&gt; ${saveStatusMessage}\n  &lt;/div&gt;\n&lt;/div&gt;\n\n&lt;div class=\"panel panel-default\"&gt;\n\n  &lt;div class=\"panel-heading\"&gt;\n    &lt;div class=\"panel-title\"&gt;\n      &lt;!--&lt;div if.bind=\"isCreate\"&gt;\n        \"Create a Contact\"\n      &lt;/div&gt;\n\n      &lt;div if.bind=\"!isCreate\"&gt;\n        Edit ${contactForEdit.contactFirstName}\n      &lt;/div&gt;--&gt;\n      ${ \"Edit \" + contactFullName }\n    &lt;/div&gt;\n  &lt;/div&gt;\n\n  &lt;div class=\"panel-body\"&gt;\n    &lt;div class=\"form-horizontal\"&gt;\n\n      &lt;div class=\"form-group\" validation-errors.bind=\"editFirstNameErrors\"\n           class.bind=\"editFirstNameErrors.length ? 'has-error' : ''\"&gt;\n\n        &lt;label class=\"control-label col-md-2\"&gt;First Name: &lt;/label&gt;\n        &lt;div class=\"col-md-10\"&gt;\n          &lt;input type=\"text\"\n                 placeholder=\"First Name\"\n                 class=\"form-control\"\n                 value.bind=\"contactForEdit.contactFirstName &amp; validate\" required /&gt; &lt;!-- NO ${} !!!--&gt;\n\n          &lt;span class=\"help-block\" repeat.for=\"editErrorInfo of editFirstNameErrors\"&gt;\n            ${editErrorInfo.error.message}\n          &lt;/span&gt;\n        &lt;/div&gt;\n\n      &lt;/div&gt;\n      &lt;div class=\"form-group\" validation-errors.bind=\"editLastNameErrors\"\n           class.bind=\"editLastNameErrors.length ? 'has-error' : ''\"&gt;\n        &lt;label class=\"control-label col-md-2\"&gt;Last Name: &lt;/label&gt;\n        &lt;div class=\"col-md-10\"&gt;\n          &lt;input type=\"text\"\n                 placeholder=\"Last Name\"\n                 class=\"form-control\"\n                 value.bind=\"contactForEdit.contactLastName &amp; validate\" required /&gt; &lt;!-- NO ${} !!!--&gt;\n          &lt;span class=\"help-block\" repeat.for=\"editErrorInfo of editLastNameErrors\"&gt;\n            ${editErrorInfo.error.message}\n          &lt;/span&gt;\n        &lt;/div&gt;\n      &lt;/div&gt;\n\n      &lt;div class=\"form-group\" validation-errors.bind=\"emailErrors\"\n           class.bind=\"editEmailErrors.length ? 'has-error' : ''\"&gt;\n        &lt;label for=\"emailAddress\" class=\"control-label col-md-2\"&gt;Email: &lt;/label&gt;\n        &lt;div class=\"col-md-10\"&gt;\n          &lt;input id=\"emailAddress\"\n                 type=\"text\"\n                 placeholder=\"Email Address (format: email@domain.com)\"\n                 class=\"form-control\"\n                 value.bind=\"contactForEdit.contactEmailAddress &amp; validate\" /&gt; &lt;!-- NO ${} !!!--&gt;\n          &lt;span class=\"help-block\" repeat.for=\"editErrorInfo of editEmailErrors\"&gt;\n            ${editErrorInfo.error.message}\n          &lt;/span&gt;\n        &lt;/div&gt;\n      &lt;/div&gt;\n\n      &lt;div class=\"form-group\" validation-errors.bind=\"editPhoneErrors\"\n           class.bind=\"editPhoneErrors.length ? 'has-error' : ''\"&gt;\n        &lt;label class=\"control-label col-md-2\"&gt;Phone: &lt;/label&gt;\n        &lt;div class=\"col-md-10\"&gt;\n          &lt;input type=\"text\"\n                 placeholder=\"Phone Number (format: xxx-xxx-xxxx)\"\n                 class=\"form-control\"\n                 value.bind=\"contactForEdit.contactPhoneNumber &amp; validate\" required /&gt; &lt;!-- NO ${} !!!--&gt;\n          &lt;span class=\"help-block\" repeat.for=\"editErrorInfo of editPhoneErrors\"&gt;\n            ${editErrorInfo.error.message}\n          &lt;/span&gt;\n        &lt;/div&gt;\n      &lt;/div&gt;\n\n      &lt;button type=\"submit\" class=\"btn btn-default ${canSave ? '' : 'disabled'}\"&gt;\n        &lt;!-- Look at click.dependent when there are child with buttons calling this.--&gt;\n        Save\n      &lt;/button&gt;\n      &lt;!-- AA-10-17-17 - replaced with errors per input field. &lt;ul for.bind=\"controller.errors\"&gt;\n        &lt;li repeat.for=\"error of controller.errors\" style=\"color:red\"&gt;\n          ${error.message}\n        &lt;/li&gt;\n      &lt;/ul&gt;--&gt;\n    &lt;/div&gt;\n  &lt;/div&gt;\n&lt;/div&gt;\n&lt;/form&gt;\n&lt;div&gt;\n  &lt;a route-href=\"route: home\"\n     class=\"btn btn-default\"&gt;\n    Back to list\n  &lt;/a&gt;\n\n&lt;/div&gt;\n&lt;/template&gt;\n</code></pre>\n"}, {"tags": ["angular", "typescript", "visual-studio-code"], "comments": [{"owner": {"reputation": 92827, "user_id": 369, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/DHcF2.png?s=128&g=1", "display_name": "Blorgbeard", "link": "https://stackoverflow.com/users/369/blorgbeard"}, "edited": false, "score": 4, "creation_date": 1508277574, "post_id": 46799828, "comment_id": 80546639, "body": "<a href=\"https://palantir.github.io/tslint/rules/no-inferrable-types/\" rel=\"nofollow noreferrer\">palantir.github.io/tslint/rules/no-inferrable-types</a> says &quot;Explicit types where they can be easily inferred by the compiler make code more verbose.&quot;"}, {"owner": {"reputation": 12968, "user_id": 86431, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/8a90d03e6464b450b1fb50aaaf35885b?s=128&d=identicon&r=PG", "display_name": "Eric Brown - Cal", "link": "https://stackoverflow.com/users/86431/eric-brown-cal"}, "edited": false, "score": 0, "creation_date": 1604952214, "post_id": 46799828, "comment_id": 114499317, "body": "You say more verbose like it&#39;s always a bad thing, sometimes more verbose is more clear."}, {"owner": {"reputation": 1745, "user_id": 1057157, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/t12sj.jpg?s=128&g=1", "display_name": "erich2k8", "link": "https://stackoverflow.com/users/1057157/erich2k8"}, "reply_to_user": {"reputation": 12968, "user_id": 86431, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/8a90d03e6464b450b1fb50aaaf35885b?s=128&d=identicon&r=PG", "display_name": "Eric Brown - Cal", "link": "https://stackoverflow.com/users/86431/eric-brown-cal"}, "edited": false, "score": 0, "creation_date": 1615254826, "post_id": 46799828, "comment_id": 117628986, "body": "@EricBrown-Cal more verbose is more clear when it would be ambiguous without it. Adding more code that provides no additional information is, by definition, cruft. <code>const thisIsAVariableContainingTheNumericIdOfTheServer: numberNotBooleanOrStringOrObjectOrArray = 10</code>"}], "answers": [{"tags": [], "owner": {"reputation": 26197, "user_id": 201303, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/AQoqr.jpg?s=128&g=1", "display_name": "Julian", "link": "https://stackoverflow.com/users/201303/julian"}, "is_accepted": false, "score": 1, "last_activity_date": 1508277603, "creation_date": 1508277603, "answer_id": 46799882, "question_id": 46799828, "link": "https://stackoverflow.com/questions/46799828/tslint-type-trivially-inferred-why-is-it-bad-practice-to-include-the-type-he/46799882#46799882", "title": "Tslint - type trivially inferred - Why is it bad practice to include the type here?", "body": "<p>It could be seen as noise. It's more important to type the non trivial parts</p>\n"}, {"comments": [{"owner": {"reputation": 4661, "user_id": 538921, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/efe3dcebff1c01cdbb1d8ce459f23343?s=128&d=identicon&r=PG", "display_name": "Edward J Beckett", "link": "https://stackoverflow.com/users/538921/edward-j-beckett"}, "edited": false, "score": 3, "creation_date": 1540657837, "post_id": 46799888, "comment_id": 92949978, "body": "In this case you&#39;re correct.... However, there can be ambiguity with strings and booleans... ( good variable naming should be followed as well...  )"}], "tags": [], "owner": {"reputation": 117929, "user_id": 669586, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/wxf3D.png?s=128&g=1", "display_name": "Sulthan", "link": "https://stackoverflow.com/users/669586/sulthan"}, "is_accepted": false, "score": 3, "last_activity_date": 1508277628, "creation_date": 1508277628, "answer_id": 46799888, "question_id": 46799828, "link": "https://stackoverflow.com/questions/46799828/tslint-type-trivially-inferred-why-is-it-bad-practice-to-include-the-type-he/46799888#46799888", "title": "Tslint - type trivially inferred - Why is it bad practice to include the type here?", "body": "<p>It is unnecessary, it does not provide any new information. It is basically a comment saying \"10 is a number\".</p>\n"}, {"tags": [], "owner": {"reputation": 147776, "user_id": 3731501, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/e4783dfa8ec98c884e61d29f2192ac97?s=128&d=identicon&r=PG&f=1", "display_name": "Estus Flask", "link": "https://stackoverflow.com/users/3731501/estus-flask"}, "is_accepted": true, "score": 81, "last_activity_date": 1508283029, "creation_date": 1508283029, "answer_id": 46800692, "question_id": 46799828, "link": "https://stackoverflow.com/questions/46799828/tslint-type-trivially-inferred-why-is-it-bad-practice-to-include-the-type-he/46800692#46800692", "title": "Tslint - type trivially inferred - Why is it bad practice to include the type here?", "body": "<p>It is not a bad practice, but <code>serverId: number = 10</code> is redundant, because <code>number</code> type is <a href=\"https://www.typescriptlang.org/docs/handbook/type-inference.html\" rel=\"noreferrer\">inferred</a> when a property is assigned. This is what TSLint <code>no-inferrable-types</code> warns about:</p>\n\n<blockquote>\n  <p>Explicit types where they can be easily inferred by the compiler make code more verbose.</p>\n</blockquote>\n\n<p>Unless there is a chance that <code>serverId</code> property may be initially undefined but be defined later (for instance in <code>constructor</code> function), <code>number</code> can be safely omitted.</p>\n\n<p>This approach works best with <a href=\"https://www.typescriptlang.org/docs/handbook/compiler-options.html\" rel=\"noreferrer\"><code>noImplicitAny</code></a> option because this way there are no chances that a type will be omitted by mistake because it wasn't inferred.</p>\n"}, {"tags": [], "owner": {"reputation": 70314, "user_id": 5043867, "user_type": "registered", "accept_rate": 42, "profile_image": "https://i.stack.imgur.com/RX8Aw.jpg?s=128&g=1", "display_name": "Pardeep Jain", "link": "https://stackoverflow.com/users/5043867/pardeep-jain"}, "is_accepted": false, "score": 24, "last_activity_date": 1591548227, "last_edit_date": 1591548227, "creation_date": 1521547021, "answer_id": 49383606, "question_id": 46799828, "link": "https://stackoverflow.com/questions/46799828/tslint-type-trivially-inferred-why-is-it-bad-practice-to-include-the-type-he/49383606#49383606", "title": "Tslint - type trivially inferred - Why is it bad practice to include the type here?", "body": "<p>This error is due to your configuration in <code>tslint.json</code> file.</p>\n\n<p>Either just initialize your variable as</p>\n\n<pre><code>serverId = 10;\n</code></pre>\n\n<p>or </p>\n\n<pre><code>serverId: number;\n</code></pre>\n\n<p>or just set your configuration for the <code>no-inferrable-types</code> in your tslint.json file as</p>\n\n<pre><code>no-inferrable-types: false\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 601, "user_id": 9856087, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Alex Spera", "link": "https://stackoverflow.com/users/9856087/alex-spera"}, "is_accepted": false, "score": 40, "last_activity_date": 1530033403, "creation_date": 1530033403, "answer_id": 51048318, "question_id": 46799828, "link": "https://stackoverflow.com/questions/46799828/tslint-type-trivially-inferred-why-is-it-bad-practice-to-include-the-type-he/51048318#51048318", "title": "Tslint - type trivially inferred - Why is it bad practice to include the type here?", "body": "<p>As was mentioned above, it's technically redundant and can be considered clutter. Personally I don't care for this opinion and prefer to have both the type and the value for a variety of specific minor workflow reasons and I don't consider it to be the level of clutter warranting a rule. If you want to disable it, here's how.</p>\n\n<ul>\n<li>open tslint.json</li>\n<li>find the \"no-inferrable-types\" attribute</li>\n<li>add <code>ignore-properties</code> to its array</li>\n</ul>\n\n<p>relevant tslint docs\n<a href=\"https://palantir.github.io/tslint/rules/no-inferrable-types/\" rel=\"noreferrer\">https://palantir.github.io/tslint/rules/no-inferrable-types/</a></p>\n"}, {"tags": [], "owner": {"reputation": 97, "user_id": 8102464, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-zRpxGFzvdBc/AAAAAAAAAAI/AAAAAAAAADU/G4ng3HCQqFA/photo.jpg?sz=128", "display_name": "Akshay Kumar", "link": "https://stackoverflow.com/users/8102464/akshay-kumar"}, "is_accepted": false, "score": 2, "last_activity_date": 1556772339, "creation_date": 1556772339, "answer_id": 55945807, "question_id": 46799828, "link": "https://stackoverflow.com/questions/46799828/tslint-type-trivially-inferred-why-is-it-bad-practice-to-include-the-type-he/55945807#55945807", "title": "Tslint - type trivially inferred - Why is it bad practice to include the type here?", "body": "<p>This might be weird coming for this now, but I was getting the similar error and couldn't find the \"no-inferrable-types\" attribute in the tslint.json file of my angular app. \nI don't know why it didn't generate that in the first place but I had to insert it here</p>\n\n<pre><code>\"rules\": {\n    **\"no-inferrable-types\": false,**\n    \"directive-selector\": [\n      true,\n      \"attribute\",\n      \"app\",\n      \"camelCase\"\n    ],\n</code></pre>\n\n<p>And then it worked like a charm!</p>\n\n<p>P.S. This is for someone who might be wandering with the same issue as I did, or I might be wrong because no one in any of the solutions mentioned that this has to be added from our end in the json file.</p>\n"}, {"tags": [], "owner": {"reputation": 142, "user_id": 5321043, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vDZr5.jpg?s=128&g=1", "display_name": "Mehdi Roostaeian", "link": "https://stackoverflow.com/users/5321043/mehdi-roostaeian"}, "is_accepted": false, "score": 0, "last_activity_date": 1586372392, "creation_date": 1586372392, "answer_id": 61108067, "question_id": 46799828, "link": "https://stackoverflow.com/questions/46799828/tslint-type-trivially-inferred-why-is-it-bad-practice-to-include-the-type-he/61108067#61108067", "title": "Tslint - type trivially inferred - Why is it bad practice to include the type here?", "body": "<p>in <em>tslint.json</em> file add or complete this rule:</p>\n\n<pre><code>\"no-inferrable-types\": [\n  true,\n  \"ignore-params\",\n  \"ignore-properties\"\n]\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 140, "user_id": 6930127, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cdb20e7a3fa4792608d9df2fd5f790be?s=128&d=identicon&r=PG&f=1", "display_name": "A. Cucci", "link": "https://stackoverflow.com/users/6930127/a-cucci"}, "edited": false, "score": 6, "creation_date": 1594614358, "post_id": 61878231, "comment_id": 111175738, "body": "Thanks for that. Worked like a charm.  Frankly, I find it dumb that this is even a thing to begin with. I&#39;m using TypeScript; let me define explicit types. If I wanted inferred type declarations, I would be using JavaScript, which is what I want to avoid, hence me using TypeScript in the first place."}], "tags": [], "owner": {"reputation": 5962, "user_id": 3873510, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/YpJMi.jpg?s=128&g=1", "display_name": "Paul Razvan Berg", "link": "https://stackoverflow.com/users/3873510/paul-razvan-berg"}, "is_accepted": false, "score": 13, "last_activity_date": 1589832981, "creation_date": 1589832981, "answer_id": 61878231, "question_id": 46799828, "link": "https://stackoverflow.com/questions/46799828/tslint-type-trivially-inferred-why-is-it-bad-practice-to-include-the-type-he/61878231#61878231", "title": "Tslint - type trivially inferred - Why is it bad practice to include the type here?", "body": "<p>If you came here looking for an eslint solution because <a href=\"https://github.com/palantir/tslint/issues/4534\" rel=\"noreferrer\">tslint is being deprecated</a>, add this rule to your <code>.eslintrc.js</code> file:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>module.exports = {\n  ...m\n  rules: {\n    ...,\n    \"@typescript-eslint/no-inferrable-types\": \"off\",\n    ...\n  },\n};\n\n</code></pre>\n"}], "owner": {"reputation": 3842, "user_id": 4912604, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/00fe40c51f1b5475a9e16f4d6767918b?s=128&d=identicon&r=PG", "display_name": "Tony Scialo", "link": "https://stackoverflow.com/users/4912604/tony-scialo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 55825, "favorite_count": 11, "accepted_answer_id": 46800692, "answer_count": 8, "score": 80, "last_activity_date": 1591548227, "creation_date": 1508277296, "question_id": 46799828, "link": "https://stackoverflow.com/questions/46799828/tslint-type-trivially-inferred-why-is-it-bad-practice-to-include-the-type-he", "title": "Tslint - type trivially inferred - Why is it bad practice to include the type here?", "body": "<p>In VSCode the linter , tslint, complains when I add the following code, with the type:</p>\n\n<pre><code>serverId: number = 10;\n</code></pre>\n\n<p>And gives the following message:</p>\n\n<blockquote>\n  <p>[tslint] Type number trivially inferred from a number literal, remove\n  type annotation (no-inferrable-types)</p>\n</blockquote>\n\n<p>When I remove the type 'number', the message goes away.</p>\n\n<p>Why is it bad practice to include the type information here?</p>\n"}, {"tags": ["angular", "typescript"], "comments": [{"owner": {"reputation": 5875, "user_id": 4383512, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/PdRqP.png?s=128&g=1", "display_name": "Meme Composer", "link": "https://stackoverflow.com/users/4383512/meme-composer"}, "edited": false, "score": 0, "creation_date": 1508275830, "post_id": 46799430, "comment_id": 80545961, "body": "If you pay a little more attention to your code inside <code>ngOnInit</code>, you will see the problem"}, {"owner": {"reputation": 1129, "user_id": 8062101, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/958686dc0efdc797db259f8a384bbac4?s=128&d=identicon&r=PG&f=1", "display_name": "Jun Kang", "link": "https://stackoverflow.com/users/8062101/jun-kang"}, "reply_to_user": {"reputation": 5875, "user_id": 4383512, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/PdRqP.png?s=128&g=1", "display_name": "Meme Composer", "link": "https://stackoverflow.com/users/4383512/meme-composer"}, "edited": false, "score": 1, "creation_date": 1508276067, "post_id": 46799430, "comment_id": 80546042, "body": "What @Dummy said. Also none of your variables are being declared. You&#39;re also trying to access those variables incorrectly (<code>eg. d = this.date.getDate()</code>). There&#39;s a lot wrong here."}, {"owner": {"reputation": 445, "user_id": 6637438, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/PVqGB.jpg?s=128&g=1", "display_name": "Draxy", "link": "https://stackoverflow.com/users/6637438/draxy"}, "reply_to_user": {"reputation": 1129, "user_id": 8062101, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/958686dc0efdc797db259f8a384bbac4?s=128&d=identicon&r=PG&f=1", "display_name": "Jun Kang", "link": "https://stackoverflow.com/users/8062101/jun-kang"}, "edited": false, "score": 0, "creation_date": 1508278214, "post_id": 46799430, "comment_id": 80546870, "body": "@JunKang the tutorials I&#39;ve seen declare some variables like <code>i = &quot;thing&quot;</code> and it works just fine. Adding <code>var</code> to mine seemingly makes no difference. Should I be declaring all variables outside of the methods, with set types? If so it seems rather overdone."}, {"owner": {"reputation": 1129, "user_id": 8062101, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/958686dc0efdc797db259f8a384bbac4?s=128&d=identicon&r=PG&f=1", "display_name": "Jun Kang", "link": "https://stackoverflow.com/users/8062101/jun-kang"}, "edited": false, "score": 1, "creation_date": 1508278661, "post_id": 46799430, "comment_id": 80546999, "body": "what tutorial are you looking at? there is so much wrong with this that i dont know where to start. for example, first of all, in your html, thats not how you use an angular component in angular2+. its how you would bind a controller to a div in angularjs(angular1). Also, you dont have to declare all variables outside the methods. but you do have to declare them, at least locally, if you want to use them. also, your functions <code>checkTime()</code> and <code>setTime()</code>  are being declared inside <code>ngInit()</code>, which it shouldnt be. It should be outside of the <code>ngInit()</code> within the scope of the component itself"}, {"owner": {"reputation": 445, "user_id": 6637438, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/PVqGB.jpg?s=128&g=1", "display_name": "Draxy", "link": "https://stackoverflow.com/users/6637438/draxy"}, "reply_to_user": {"reputation": 1129, "user_id": 8062101, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/958686dc0efdc797db259f8a384bbac4?s=128&d=identicon&r=PG&f=1", "display_name": "Jun Kang", "link": "https://stackoverflow.com/users/8062101/jun-kang"}, "edited": false, "score": 0, "creation_date": 1508280048, "post_id": 46799430, "comment_id": 80547428, "body": "@JunKang I&#39;ve updated my code, hope it&#39;s an improvement. Really appreciate that info on how things should be structured."}], "answers": [{"comments": [{"owner": {"reputation": 2783, "user_id": 1027936, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/7c00c38a2a2840ee056e39b4a900d274?s=128&d=identicon&r=PG", "display_name": "nicowernli", "link": "https://stackoverflow.com/users/1027936/nicowernli"}, "edited": false, "score": 0, "creation_date": 1508276555, "post_id": 46799663, "comment_id": 80546235, "body": "as you know that <code>this.date</code> is going to be type Date, better if you use the type in the definition <code>private date: Date</code>"}, {"owner": {"reputation": 2003, "user_id": 5219302, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b4f3d909580b0514f31f525eb59e6517?s=128&d=identicon&r=PG", "display_name": "Praveen Premaratne", "link": "https://stackoverflow.com/users/5219302/praveen-premaratne"}, "reply_to_user": {"reputation": 2783, "user_id": 1027936, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/7c00c38a2a2840ee056e39b4a900d274?s=128&d=identicon&r=PG", "display_name": "nicowernli", "link": "https://stackoverflow.com/users/1027936/nicowernli"}, "edited": false, "score": 1, "creation_date": 1508276669, "post_id": 46799663, "comment_id": 80546280, "body": "@nicowernli I was going to but wan&#39;t sure whether OP has relevant libraries  in the app, thats why left <code>any</code> I shall change it. Thanks"}, {"owner": {"reputation": 445, "user_id": 6637438, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/PVqGB.jpg?s=128&g=1", "display_name": "Draxy", "link": "https://stackoverflow.com/users/6637438/draxy"}, "edited": false, "score": 0, "creation_date": 1508277765, "post_id": 46799663, "comment_id": 80546711, "body": "When <code>let date = new Date();</code> (Snippet 2) is used I get <code>Property &#39;date&#39; does not exist</code>. Am I doing something else wrong? I can&#39;t think of how to make this object any more declared than it already is."}, {"owner": {"reputation": 2003, "user_id": 5219302, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b4f3d909580b0514f31f525eb59e6517?s=128&d=identicon&r=PG", "display_name": "Praveen Premaratne", "link": "https://stackoverflow.com/users/5219302/praveen-premaratne"}, "edited": false, "score": 0, "creation_date": 1508278016, "post_id": 46799663, "comment_id": 80546800, "body": "It might be because of this <code>this.date</code>. Word <code>this</code> reffers to a variable like on Snippet 1. It used to go up a level to the file level and look for the variable. If you remove it, it will use the one in the method"}, {"owner": {"reputation": 2003, "user_id": 5219302, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b4f3d909580b0514f31f525eb59e6517?s=128&d=identicon&r=PG", "display_name": "Praveen Premaratne", "link": "https://stackoverflow.com/users/5219302/praveen-premaratne"}, "reply_to_user": {"reputation": 445, "user_id": 6637438, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/PVqGB.jpg?s=128&g=1", "display_name": "Draxy", "link": "https://stackoverflow.com/users/6637438/draxy"}, "edited": false, "score": 1, "creation_date": 1508279136, "post_id": 46799663, "comment_id": 80547147, "body": "@Draxy Sorry it was my fault, I didn&#39;t pay attention other variables. I have made changes to both snippets, this should work. Don&#39;t forget to replace <code>any</code> with appropriate Types. I.E <code>string[]</code> (array of strings)"}, {"owner": {"reputation": 445, "user_id": 6637438, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/PVqGB.jpg?s=128&g=1", "display_name": "Draxy", "link": "https://stackoverflow.com/users/6637438/draxy"}, "edited": false, "score": 0, "creation_date": 1508280534, "post_id": 46799663, "comment_id": 80547553, "body": "@PraveenM All this declaring and <code>Property &#39;min&#39; does not exist</code> still, I&#39;m starting to think I&#39;m in over my head haha"}, {"owner": {"reputation": 2003, "user_id": 5219302, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b4f3d909580b0514f31f525eb59e6517?s=128&d=identicon&r=PG", "display_name": "Praveen Premaratne", "link": "https://stackoverflow.com/users/5219302/praveen-premaratne"}, "edited": false, "score": 0, "creation_date": 1508280685, "post_id": 46799663, "comment_id": 80547592, "body": "Have you added <code>let</code> in front of the <code>min</code>? Assuming you&#39;re using the second snippet approach"}], "tags": [], "owner": {"reputation": 2003, "user_id": 5219302, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b4f3d909580b0514f31f525eb59e6517?s=128&d=identicon&r=PG", "display_name": "Praveen Premaratne", "link": "https://stackoverflow.com/users/5219302/praveen-premaratne"}, "is_accepted": false, "score": 1, "last_activity_date": 1508281717, "last_edit_date": 1508281717, "creation_date": 1508276418, "answer_id": 46799663, "question_id": 46799430, "link": "https://stackoverflow.com/questions/46799430/angular-4-property-does-not-exist-on-type-component/46799663#46799663", "title": "Angular 4 &quot;Property does not exist on type component&quot;", "body": "<p>The reason you have not <code>declared</code> the variable <code>date</code> on your component.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>export class DateTimeComponent implements OnInit {\r\n\r\n  constructor() { \r\n\r\n  }\r\n  \r\n  private date: Date; // This is accessible to this entire file\r\n  private month: string[];\r\n  private d: any;\r\n  private m: any;\r\n  private y: any;\r\n  private h: any;\r\n  private min: any;\r\n  private s: any;\r\n  private newMin: any;\r\n  private newS: any;\r\n  private myDate: any;\r\n  private myTime: any;\r\n  private t: any;\r\n  \r\n  ngOnInit() {\r\n\r\n  }\r\n  \r\n  checkTime(i) {\r\n      return (i &lt; 10) ? \"0\" + i : i;\r\n    }\r\n\r\n    setTime() {\r\n      this.month = [\"January\", \"February\", \r\n      \"March\", \"April\", \r\n      \"May\", \"June\", \r\n      \"July\", \"August\", \r\n      \"September\", \"October\", \r\n      \"November\", \"December\"];\r\n\r\n      //date\r\n      this.date = new Date();\r\n      this.d = this.date.getDate();\r\n      this.m = this.date.getMonth();\r\n      this.y = this.date.getFullYear();\r\n      //time\r\n      this.h = this.date.getHours();\r\n      this.min = this.date.getMinutes();\r\n      this.s = this.date.getSeconds();\r\n\r\n      this.newMin = this.checkTime(this.min);\r\n      this.newS = this.checkTime(this.s);\r\n\r\n      this.myDate = this.d + \" \" + this.month[this.m] + \" \" + this.y;\r\n      this.myTime = this.h + \":\" + this.newMin + \":\" + this.newS; \r\n\r\n      this.t = setTimeout(() =&gt; {\r\n        startTime()\r\n      }, 500);\r\n    }\r\n\r\n\r\n} //end of class</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>export class DateTimeComponent implements OnInit {\r\n\r\n  constructor() { \r\n\r\n  }\r\n \r\n  ngOnInit() {\r\n  }\r\n  \r\n  checkTime(i) {\r\n      return (i &lt; 10) ? \"0\" + i : i;\r\n    }\r\n\r\n    setTime() {\r\n     let month = [\"January\", \"February\", \r\n      \"March\", \"April\", \r\n      \"May\", \"June\", \r\n      \"July\", \"August\", \r\n      \"September\", \"October\", \r\n      \"November\", \"December\"];\r\n\r\n      //date\r\n      let date: Date = new Date(); // this only accessible within setTime() method\r\n      let d: any = date.getDate();\r\n      let m: any = date.getMonth();\r\n      let y: any = date.getFullYear();\r\n      //time\r\n      let h: any = date.getHours();\r\n      let min: any = date.getMinutes();\r\n      let s: any = date.getSeconds();\r\n\r\n      let newMin: any = this.checkTime(this.min);\r\n      let newS: any = this.checkTime(this.s);\r\n\r\n      let myDate: any = d + \" \" + month[this.m] + \" \" + y;\r\n      let myTime: any = h + \":\" + newMin + \":\" + newS; \r\n\r\n      let t: any = setTimeout(() =&gt; {\r\n        startTime()\r\n      }, 500);\r\n    }\r\n\r\n} //end of class</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>There two approaches to this, <code>snippet 1</code> show file wide declaration, this what you would mostly use in your app. The <code>Snippet 2</code> show <code>method</code> based declaration and its only accessible to that method, as far as files concerns, that variable doesn't exist.</p>\n\n<blockquote>\n  <p><code>private</code></p>\n</blockquote>\n\n<p>If you stick <code>private</code> in front of a <code>variable</code> or <code>method</code>, that will only be accessible to the <code>.ts</code> file (itself), not even the <code>HTML</code> has access to that.</p>\n"}, {"comments": [{"owner": {"reputation": 2003, "user_id": 5219302, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b4f3d909580b0514f31f525eb59e6517?s=128&d=identicon&r=PG", "display_name": "Praveen Premaratne", "link": "https://stackoverflow.com/users/5219302/praveen-premaratne"}, "edited": false, "score": 0, "creation_date": 1508279433, "post_id": 46800159, "comment_id": 80547233, "body": "By the way, you forgot to declare every other variable after <code>date</code>."}], "tags": [], "owner": {"reputation": 1, "user_id": 8792612, "user_type": "registered", "profile_image": "https://graph.facebook.com/10155777318946613/picture?type=large", "display_name": "flashdave", "link": "https://stackoverflow.com/users/8792612/flashdave"}, "is_accepted": false, "score": -1, "last_activity_date": 1508279155, "creation_date": 1508279155, "answer_id": 46800159, "question_id": 46799430, "link": "https://stackoverflow.com/questions/46799430/angular-4-property-does-not-exist-on-type-component/46800159#46800159", "title": "Angular 4 &quot;Property does not exist on type component&quot;", "body": "<p>note that you are setting <code>date</code> try using <code>date.whatever</code> not <code>this.date.whatever</code></p>\n\n<pre><code>import { Component, OnInit } from '@angular/core';\n\n@Component({\n  selector: 'date-time',\n  templateUrl: './date-time.component.html',\n  styleUrls: ['./date-time.component.css']\n})\nexport class DateTimeComponent implements OnInit {\n\n  constructor() { \n\n  }\n\n  ngOnInit() {\n\n    checkTime(i) {\n      return (i &lt; 10) ? \"0\" + i : i;\n    }\n\n    setTime() {\n      month = [\"January\", \"February\", \n      \"March\", \"April\", \n      \"May\", \"June\", \n      \"July\", \"August\", \n      \"September\", \"October\", \n      \"November\", \"December\"];\n\n      //date\n      let date = new Date();\n      d = date.getDate();\n      m = date.getMonth();\n      y = date.getFullYear();\n      //time\n      h = date.getHours();\n      min = date.getMinutes();\n      s = date.getSeconds();\n\n      newMin = this.checkTime(this.min);\n      newS = this.checkTime(this.s);\n\n      myDate = this.d + \" \" + this.month[this.m] + \" \" + this.y;\n      myTime = this.h + \":\" + this.newMin + \":\" + this.newS; \n\n      t = setTimeout(() =&gt; {\n        startTime()\n      }, 500);\n    }\n\n  }\n\n} //end of class\n</code></pre>\n\n<p>that should work</p>\n"}, {"comments": [{"owner": {"reputation": 445, "user_id": 6637438, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/PVqGB.jpg?s=128&g=1", "display_name": "Draxy", "link": "https://stackoverflow.com/users/6637438/draxy"}, "edited": false, "score": 0, "creation_date": 1508282252, "post_id": 46800436, "comment_id": 80547975, "body": "I really like the efficiency here, but I really need to learn how to use methods, etc. I need to grasp the fundamentals of so many things and using code as clean as this would teach me little.  I think it would be best if I accept this as the answer as it works so well, and go study my brains out till I think I can build something once again. Hopefully when I come here for help next I&#39;ll have problems aside from code that is god awful."}, {"owner": {"reputation": 1129, "user_id": 8062101, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/958686dc0efdc797db259f8a384bbac4?s=128&d=identicon&r=PG&f=1", "display_name": "Jun Kang", "link": "https://stackoverflow.com/users/8062101/jun-kang"}, "reply_to_user": {"reputation": 445, "user_id": 6637438, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/PVqGB.jpg?s=128&g=1", "display_name": "Draxy", "link": "https://stackoverflow.com/users/6637438/draxy"}, "edited": false, "score": 1, "creation_date": 1508282582, "post_id": 46800436, "comment_id": 80548062, "body": "The first plunker does work, and shows how your code should be formatted to work. So you can still go off that to learn a little bit of what you&#39;re doing. The reason your code wasn&#39;t working before was for a few reasons. 1. Your variables <code>myDate</code> and <code>myTime</code> need to be declared publicly within the scope of the component itself, so it can be referenced in the html. 2. When updating those variables in the function <code>setTime()</code>, you need to use <code>this.myDate</code> and <code>this.myTime</code> because that&#39;s how you access variables declared in the scope of the component inside your functions."}, {"owner": {"reputation": 1129, "user_id": 8062101, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/958686dc0efdc797db259f8a384bbac4?s=128&d=identicon&r=PG&f=1", "display_name": "Jun Kang", "link": "https://stackoverflow.com/users/8062101/jun-kang"}, "reply_to_user": {"reputation": 445, "user_id": 6637438, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/PVqGB.jpg?s=128&g=1", "display_name": "Draxy", "link": "https://stackoverflow.com/users/6637438/draxy"}, "edited": false, "score": 1, "creation_date": 1508282740, "post_id": 46800436, "comment_id": 80548103, "body": "3. Since you declared the function <code>checkTime()</code> in the scope of the component, you also call that function with <code>checkTime()</code> when calling it inside the function <code>setTime()</code>. 4. Yes, all the variables need to be declared within the function <code>setTime()</code> itself if you want to use them. Using <code>let</code> declares the variables within the scope of the block you&#39;re using it in, as opposed to <code>var</code> which declares it globally within the scope its being used in. Using <code>var</code> is fine. Using <code>let</code> is also fine, in this context."}, {"owner": {"reputation": 1129, "user_id": 8062101, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/958686dc0efdc797db259f8a384bbac4?s=128&d=identicon&r=PG&f=1", "display_name": "Jun Kang", "link": "https://stackoverflow.com/users/8062101/jun-kang"}, "reply_to_user": {"reputation": 445, "user_id": 6637438, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/PVqGB.jpg?s=128&g=1", "display_name": "Draxy", "link": "https://stackoverflow.com/users/6637438/draxy"}, "edited": false, "score": 1, "creation_date": 1508282917, "post_id": 46800436, "comment_id": 80548130, "body": "5. In your html, the div should not have the property <code>ng-controller</code> on it at all. That&#39;s how controllers are defined using AngularJS (Angular 1). Not Angular (Angular 2+ (currently on version 4)). 6. You don&#39;t NEED to define a variables type, like <code>myDate: Date</code> but it&#39;s good to when its not implicit. E.g. If you do <code>myDate = new Date()</code>, it&#39;s not necessary to define the variable as a Date, because it is implicitly a date. But in my version, I did <code>myDate: Date;</code> with <code>this.myDate = new Date();</code> in the <code>ngOnInit()</code> function because at the time that <code>myDate</code> was declared, it wasn&#39;t implicit."}, {"owner": {"reputation": 1129, "user_id": 8062101, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/958686dc0efdc797db259f8a384bbac4?s=128&d=identicon&r=PG&f=1", "display_name": "Jun Kang", "link": "https://stackoverflow.com/users/8062101/jun-kang"}, "reply_to_user": {"reputation": 445, "user_id": 6637438, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/PVqGB.jpg?s=128&g=1", "display_name": "Draxy", "link": "https://stackoverflow.com/users/6637438/draxy"}, "edited": false, "score": 0, "creation_date": 1508283377, "post_id": 46800436, "comment_id": 80548227, "body": "btw in number 3, I said &quot;you also call that function with <code>checkTime()</code>&quot;. That should be <code>this.checkTime()</code> because <code>checkTime()</code> is declared in the scope of the component."}, {"owner": {"reputation": 445, "user_id": 6637438, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/PVqGB.jpg?s=128&g=1", "display_name": "Draxy", "link": "https://stackoverflow.com/users/6637438/draxy"}, "edited": false, "score": 0, "creation_date": 1508288190, "post_id": 46800436, "comment_id": 80549328, "body": "What do you think of this? I am making a new Date object every half-second, I&#39;m wondering if it&#39;s efficient. <a href=\"https://jsfiddle.net/nj7fmLvp/\" rel=\"nofollow noreferrer\">jsfiddle.net/nj7fmLvp</a>"}, {"owner": {"reputation": 1778, "user_id": 2927228, "user_type": "registered", "accept_rate": 25, "profile_image": "https://i.stack.imgur.com/xy4lF.jpg?s=128&g=1", "display_name": "Hidayt Rahman", "link": "https://stackoverflow.com/users/2927228/hidayt-rahman"}, "edited": false, "score": 0, "creation_date": 1581229031, "post_id": 46800436, "comment_id": 106356818, "body": "How we can do with string and another data type like an array, Object"}], "tags": [], "owner": {"reputation": 1129, "user_id": 8062101, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/958686dc0efdc797db259f8a384bbac4?s=128&d=identicon&r=PG&f=1", "display_name": "Jun Kang", "link": "https://stackoverflow.com/users/8062101/jun-kang"}, "is_accepted": true, "score": 6, "last_activity_date": 1508281308, "last_edit_date": 1508281308, "creation_date": 1508280992, "answer_id": 46800436, "question_id": 46799430, "link": "https://stackoverflow.com/questions/46799430/angular-4-property-does-not-exist-on-type-component/46800436#46800436", "title": "Angular 4 &quot;Property does not exist on type component&quot;", "body": "<p>Here's a <a href=\"https://plnkr.co/edit/SmMwb7J9qSIM7uFEPylj?p=preview\" rel=\"noreferrer\">plunker</a> showing your thing working in an Angular environment. This isn't a good way to accomplish what you're trying to do.</p>\n\n<p>Instead, you should do something like this <a href=\"https://plnkr.co/edit/cxWOmC8Zt2GcaSBDKZWG?p=preview\" rel=\"noreferrer\">better plunker that I made</a> that actually uses Angular to its full potential.</p>\n\n<p>My version of your code is like 99% shorter, and accomplishes the goal.</p>\n\n<pre><code>myDate: Date;\n\nngOnInit() {\n  this.myDate = new Date();\n}\n</code></pre>\n\n<p>With the HTML </p>\n\n<pre><code>&lt;p&gt;{{ myDate | date:'d MMMM y'}}&lt;/p&gt;\n&lt;p&gt;{{ myDate | date:'hh:mm:ss'}}&lt;/p&gt;\n</code></pre>\n"}], "owner": {"reputation": 445, "user_id": 6637438, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/PVqGB.jpg?s=128&g=1", "display_name": "Draxy", "link": "https://stackoverflow.com/users/6637438/draxy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 49738, "favorite_count": 3, "accepted_answer_id": 46800436, "answer_count": 3, "score": 3, "last_activity_date": 1508281717, "creation_date": 1508275395, "last_edit_date": 1508279770, "question_id": 46799430, "link": "https://stackoverflow.com/questions/46799430/angular-4-property-does-not-exist-on-type-component", "title": "Angular 4 &quot;Property does not exist on type component&quot;", "body": "<p>This last week I've started learning Angular 4 and TypeScript, and I've hit my first roadblock. </p>\n\n<p>I'm trying to make a simple date and time component. From a Javascript view I can't see anything wrong, but I think I'm not working with scope the way Angular wants, so I'm looking for some guidance. The error is:\n<code>Failed to compile very/long/file/path/date-time.component.ts (35,18): Property 'date' does not exist on type 'DateTimeComponent'.</code></p>\n\n<p>I suspect I'm not putting my methods in the right place, or I need to declare my properties outside of <code>setTime()</code>. Any advice much appreciated.</p>\n\n<p>date-time.component.ts:</p>\n\n<pre><code>export class DateTimeComponent implements OnInit {\n\n  constructor() { \n\n  }\n\n  ngOnInit() {\n    this.setTime();\n  }\n\n  checkTime(i) {\n    return (i &lt; 10) ? \"0\" + i : i;\n  }\n\n  setTime() {\n\n    let month = [\"January\", \"February\", \n    \"March\", \"April\", \n    \"May\", \"June\", \n    \"July\", \"August\", \n    \"September\", \"October\", \n    \"November\", \"December\"];\n\n    //date\n    let date: Date = new Date(); // this only accessible within setTime() method\n    let d: any = date.getDate();\n    let m: any = date.getMonth();\n    let y: any = date.getFullYear();\n    //time\n    let h: any = date.getHours();\n    let min: any = date.getMinutes();\n    let s: any = date.getSeconds();\n\n    let newMin: any = this.checkTime(this.min);\n    let newS: any = this.checkTime(this.s);\n\n    let myDate: any = d + \" \" + month[this.m] + \" \" + y;\n    let myTime: any = h + \":\" + newMin + \":\" + newS; \n\n    let t: any = setTimeout(() =&gt; {\n      startTime()\n    }, 500);\n\n  }\n\n} //end of class\n</code></pre>\n\n<p>date-time.component.html:</p>\n\n<pre><code>&lt;div ng-controller='TimeCtrl'&gt;\n  &lt;p&gt;{{ myDate }}&lt;/p&gt;\n  &lt;p&gt;{{ myTime }}&lt;/p&gt;\n&lt;/div&gt;\n</code></pre>\n"}, {"tags": ["android", "angular", "typescript", "firebase", "ionic3"], "comments": [{"owner": {"reputation": 50111, "user_id": 1077309, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/yghA4.jpg?s=128&g=1", "display_name": "Sampath", "link": "https://stackoverflow.com/users/1077309/sampath"}, "edited": false, "score": 0, "creation_date": 1508279001, "post_id": 46799412, "comment_id": 80547105, "body": "Any console errors?"}, {"owner": {"reputation": 1, "user_id": 8767908, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0d83a719ededd3adf115a8d41b4909b2?s=128&d=identicon&r=PG&f=1", "display_name": "Javier Araya", "link": "https://stackoverflow.com/users/8767908/javier-araya"}, "reply_to_user": {"reputation": 50111, "user_id": 1077309, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/yghA4.jpg?s=128&g=1", "display_name": "Sampath", "link": "https://stackoverflow.com/users/1077309/sampath"}, "edited": false, "score": 0, "creation_date": 1508279943, "post_id": 46799412, "comment_id": 80547401, "body": "No, there are no console error, it just doesn&#39;t run well"}, {"owner": {"reputation": 50111, "user_id": 1077309, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/yghA4.jpg?s=128&g=1", "display_name": "Sampath", "link": "https://stackoverflow.com/users/1077309/sampath"}, "edited": false, "score": 0, "creation_date": 1508280307, "post_id": 46799412, "comment_id": 80547500, "body": "You must test this on the device.Are you?"}, {"owner": {"reputation": 1, "user_id": 8767908, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0d83a719ededd3adf115a8d41b4909b2?s=128&d=identicon&r=PG&f=1", "display_name": "Javier Araya", "link": "https://stackoverflow.com/users/8767908/javier-araya"}, "reply_to_user": {"reputation": 50111, "user_id": 1077309, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/yghA4.jpg?s=128&g=1", "display_name": "Sampath", "link": "https://stackoverflow.com/users/1077309/sampath"}, "edited": false, "score": 0, "creation_date": 1508298941, "post_id": 46799412, "comment_id": 80551808, "body": "Is happening the same thing."}, {"owner": {"reputation": 50111, "user_id": 1077309, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/yghA4.jpg?s=128&g=1", "display_name": "Sampath", "link": "https://stackoverflow.com/users/1077309/sampath"}, "edited": false, "score": 0, "creation_date": 1508299022, "post_id": 46799412, "comment_id": 80551828, "body": "See the console errors on a device running."}, {"owner": {"reputation": 1, "user_id": 8767908, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0d83a719ededd3adf115a8d41b4909b2?s=128&d=identicon&r=PG&f=1", "display_name": "Javier Araya", "link": "https://stackoverflow.com/users/8767908/javier-araya"}, "reply_to_user": {"reputation": 50111, "user_id": 1077309, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/yghA4.jpg?s=128&g=1", "display_name": "Sampath", "link": "https://stackoverflow.com/users/1077309/sampath"}, "edited": false, "score": 0, "creation_date": 1508335719, "post_id": 46799412, "comment_id": 80571476, "body": "Nothing happens as well, only shows a message that is in the end of the code"}], "owner": {"reputation": 1, "user_id": 8767908, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0d83a719ededd3adf115a8d41b4909b2?s=128&d=identicon&r=PG&f=1", "display_name": "Javier Araya", "link": "https://stackoverflow.com/users/8767908/javier-araya"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 36, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1508279074, "creation_date": 1508275289, "last_edit_date": 1508279074, "question_id": 46799412, "link": "https://stackoverflow.com/questions/46799412/android-studio-google-login", "title": "Android Studio Google+ login", "body": "<p>I don't now why this code stops running, I've put some flags it has been senseless. It just goes to the end of the code, and does nothing. There you have some of the code.</p>\n\n<pre><code>loginGoogle(){\nthis.googlePlus.login({\n  'prompt':'consent',\n  'hd':'go-labs.net',\n        'webClientId': '660851996372-sou3k2to7661epk1a78mfid6hap105ne.apps.googleusercontent.com',\n  'offline': true\n})\n //the code just stop running here\n.then(res =&gt;{\n  if(res.email.endsWith('@go-labs.net')){\n    const googleCredential = firebase.auth.GoogleAuthProvider\n        .credential(res.idToken);\n\n    firebase.auth().signInWithCredential(googleCredential)\n  .then(response =&gt; {\n      this.dbUsers.addUser(response.uid, response.displayName, response.email);\n      this.loading.dismiss().then(() =&gt; {\n        this.navCtrl.setRoot(PulperiaPage);\n      });\n    });\n  }\n  else{\n    this.loading.dismiss().then(() =&gt; {\n      this.googlePlus.disconnect().then(res =&gt; {\n        this.presentAlert('That's not a valid account');\n      }).catch(error =&gt; {\n\n      });\n  });\n  }\n  //and then run this\n  }, err =&gt; {\n    this.loading.dismiss().then(() =&gt; {\n      this.presentAlert('Denied Access');\n    });\n  });\n  this.loading = this.loadingCtrl.create();\n  this.loading.present();\n</code></pre>\n\n<p>}</p>\n"}, {"tags": ["android", "ios", "typescript", "ionic-framework", "ionic3"], "comments": [{"owner": {"reputation": 10749, "user_id": 2108972, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/38a04d0ccf9b761c9373ec9905ca7e92?s=128&d=identicon&r=PG", "display_name": "greenapps", "link": "https://stackoverflow.com/users/2108972/greenapps"}, "edited": false, "score": 0, "creation_date": 1508277204, "post_id": 46799376, "comment_id": 80546514, "body": "<code>CameraOptions with the quality property,</code> ?? Never seen such."}, {"owner": {"reputation": 10749, "user_id": 2108972, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/38a04d0ccf9b761c9373ec9905ca7e92?s=128&d=identicon&r=PG", "display_name": "greenapps", "link": "https://stackoverflow.com/users/2108972/greenapps"}, "edited": false, "score": 0, "creation_date": 1508277379, "post_id": 46799376, "comment_id": 80546581, "body": "Why did you put that downloaded image in a base64 string? And didnt that image have an url which you can parse to an uri?"}, {"owner": {"reputation": 100, "user_id": 2426594, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0bcf24f8649fe43fd30300f9e101dddb?s=128&d=identicon&r=PG", "display_name": "Lucas Eduardo", "link": "https://stackoverflow.com/users/2426594/lucas-eduardo"}, "reply_to_user": {"reputation": 10749, "user_id": 2108972, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/38a04d0ccf9b761c9373ec9905ca7e92?s=128&d=identicon&r=PG", "display_name": "greenapps", "link": "https://stackoverflow.com/users/2108972/greenapps"}, "edited": false, "score": 0, "creation_date": 1508277688, "post_id": 46799376, "comment_id": 80546683, "body": "CameraOptions has quality &#39;greenapps&#39; - <a href=\"https://ionicframework.com/docs/native/camera/\" rel=\"nofollow noreferrer\">ionicframework.com/docs/native/camera</a>"}, {"owner": {"reputation": 10749, "user_id": 2108972, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/38a04d0ccf9b761c9373ec9905ca7e92?s=128&d=identicon&r=PG", "display_name": "greenapps", "link": "https://stackoverflow.com/users/2108972/greenapps"}, "edited": false, "score": 0, "creation_date": 1508277813, "post_id": 46799376, "comment_id": 80546721, "body": "Sorry i should have seen that this is Ionic. Forget my remark please."}, {"owner": {"reputation": 100, "user_id": 2426594, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0bcf24f8649fe43fd30300f9e101dddb?s=128&d=identicon&r=PG", "display_name": "Lucas Eduardo", "link": "https://stackoverflow.com/users/2426594/lucas-eduardo"}, "reply_to_user": {"reputation": 10749, "user_id": 2108972, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/38a04d0ccf9b761c9373ec9905ca7e92?s=128&d=identicon&r=PG", "display_name": "greenapps", "link": "https://stackoverflow.com/users/2108972/greenapps"}, "edited": false, "score": 0, "creation_date": 1508278006, "post_id": 46799376, "comment_id": 80546794, "body": "Why I put that in a base64 string? Because I will work with that value in my page and I will save in database as that. So you suggest that I should not work with base64?"}, {"owner": {"reputation": 10749, "user_id": 2108972, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/38a04d0ccf9b761c9373ec9905ca7e92?s=128&d=identicon&r=PG", "display_name": "greenapps", "link": "https://stackoverflow.com/users/2108972/greenapps"}, "edited": false, "score": 0, "creation_date": 1508280542, "post_id": 46799376, "comment_id": 80547557, "body": "How would you work with that in your page? In which page? Converting to base64 increases the amount of bytes with 30% so i consider this bad practise."}, {"owner": {"reputation": 100, "user_id": 2426594, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0bcf24f8649fe43fd30300f9e101dddb?s=128&d=identicon&r=PG", "display_name": "Lucas Eduardo", "link": "https://stackoverflow.com/users/2426594/lucas-eduardo"}, "reply_to_user": {"reputation": 10749, "user_id": 2108972, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/38a04d0ccf9b761c9373ec9905ca7e92?s=128&d=identicon&r=PG", "display_name": "greenapps", "link": "https://stackoverflow.com/users/2108972/greenapps"}, "edited": false, "score": 0, "creation_date": 1508286161, "post_id": 46799376, "comment_id": 80548862, "body": "Do you know another way to have an image in memory in ionic besides base64? Remember, ionic in the end is javascript."}, {"owner": {"reputation": 10749, "user_id": 2108972, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/38a04d0ccf9b761c9373ec9905ca7e92?s=128&d=identicon&r=PG", "display_name": "greenapps", "link": "https://stackoverflow.com/users/2108972/greenapps"}, "edited": false, "score": 0, "creation_date": 1508314345, "post_id": 46799376, "comment_id": 80558101, "body": "I do not know Ionic. No idea."}], "owner": {"reputation": 100, "user_id": 2426594, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0bcf24f8649fe43fd30300f9e101dddb?s=128&d=identicon&r=PG", "display_name": "Lucas Eduardo", "link": "https://stackoverflow.com/users/2426594/lucas-eduardo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 559, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1508276300, "creation_date": 1508275149, "last_edit_date": 1508276300, "question_id": 46799376, "link": "https://stackoverflow.com/questions/46799376/ionic-reduce-image-quality-having-a-base64-string", "title": "ionic - Reduce image quality (having a base64 string)", "body": "<p>I need to reduce an image quality. When I use the camera, I have the CameraOptions with the quality property, where I can set any value from 0 to 100.</p>\n\n<p>In my problem, I have an image downloaded from internet into a base64 string. I want to reduce this image quality, as camera does very well. But using the ImageResizer I have the following options:</p>\n\n<pre><code>    let options = {\n            uri: uri,\n            folderName: 'Protonet',\n            quality: 90,\n            width: 1280,\n            height: 1280\n    } as ImageResizerOptions;\n</code></pre>\n\n<p>It receives an uri as a property, but I have a base64 string.</p>\n\n<p>So here is the thing:</p>\n\n<ol>\n<li><p>How to convert this base64 string into an uri (but I don't think this is a solution, generating I/O is bad)</p></li>\n<li><p>How to reduce the quality without having to convert that base64 to uri?</p></li>\n</ol>\n\n<p>Thank you all in advance!</p>\n"}, {"tags": ["angular", "typescript", "ionic-framework", "ionic2", "ionic3"], "comments": [{"owner": {"reputation": 3543, "user_id": 3763916, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5jbLK.jpg?s=128&g=1", "display_name": "dlcardozo", "link": "https://stackoverflow.com/users/3763916/dlcardozo"}, "edited": false, "score": 0, "creation_date": 1508274066, "post_id": 46799132, "comment_id": 80545207, "body": "Check this <a href=\"http://ionicframework.com/docs/api/util/Events/\" rel=\"nofollow noreferrer\">ionicframework.com/docs/api/util/Events</a>"}, {"owner": {"reputation": 1, "user_id": 5152895, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5774c1516017d8f79282729a5910bceb?s=128&d=identicon&r=PG&f=1", "display_name": "Arun Kumar", "link": "https://stackoverflow.com/users/5152895/arun-kumar"}, "reply_to_user": {"reputation": 3543, "user_id": 3763916, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5jbLK.jpg?s=128&g=1", "display_name": "dlcardozo", "link": "https://stackoverflow.com/users/3763916/dlcardozo"}, "edited": false, "score": 0, "creation_date": 1508274625, "post_id": 46799132, "comment_id": 80545484, "body": "Thanks for the suggestion, my issue is not able to close that alert from the login page."}, {"owner": {"reputation": 1295, "user_id": 4360863, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/heWif.png?s=128&g=1", "display_name": "Philip Brack", "link": "https://stackoverflow.com/users/4360863/philip-brack"}, "edited": false, "score": 1, "creation_date": 1508290430, "post_id": 46799132, "comment_id": 80549822, "body": "Would it be satisfactory to use navigation guard to handle your logout logic? If not they I would suggest using a provider (service) that is shared between  both pages and call APIs to handle the popup."}, {"owner": {"reputation": 50111, "user_id": 1077309, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/yghA4.jpg?s=128&g=1", "display_name": "Sampath", "link": "https://stackoverflow.com/users/1077309/sampath"}, "edited": false, "score": 0, "creation_date": 1508299726, "post_id": 46799132, "comment_id": 80551994, "body": "Can you show your <code>code</code>?"}, {"owner": {"reputation": 1, "user_id": 5152895, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5774c1516017d8f79282729a5910bceb?s=128&d=identicon&r=PG&f=1", "display_name": "Arun Kumar", "link": "https://stackoverflow.com/users/5152895/arun-kumar"}, "edited": false, "score": 0, "creation_date": 1508334428, "post_id": 46799132, "comment_id": 80570549, "body": "Thanks Philip,  i just gave a example on my question. On the real project i have many alerts using AlertController inside private methods. What i am trying to do is dismiss all the alerts using ViewController if possible."}, {"owner": {"reputation": 1, "user_id": 5152895, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5774c1516017d8f79282729a5910bceb?s=128&d=identicon&r=PG&f=1", "display_name": "Arun Kumar", "link": "https://stackoverflow.com/users/5152895/arun-kumar"}, "edited": false, "score": 0, "creation_date": 1508334722, "post_id": 46799132, "comment_id": 80570749, "body": "Hi Sampath, Please find the sample code :   Private button_click(){  let alert = this.alertCtrl.create({         title: &#39;Alert&#39;,         message: &#39;No changes to save.&#39;,         buttons: [{           text: &#39;OK&#39;,           handler: () =&gt; {                        }         }]       });       alert.present();   }   Login Page  \u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014 Private closeAll_alerts(){     // I need solution here to close all alerts  }"}], "owner": {"reputation": 1, "user_id": 5152895, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5774c1516017d8f79282729a5910bceb?s=128&d=identicon&r=PG&f=1", "display_name": "Arun Kumar", "link": "https://stackoverflow.com/users/5152895/arun-kumar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 307, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1508299742, "creation_date": 1508273921, "last_edit_date": 1508299742, "question_id": 46799132, "link": "https://stackoverflow.com/questions/46799132/ionic2-close-the-alert-modal-from-different-page", "title": "Ionic2 - Close the alert/modal from different page", "body": "<p>I have 2 pages, home page and login page. In home page there is button when you press the button, it will popup and alert. Also in home page there is timer running it will logout (setroot to login page) you after certain time period. </p>\n\n<p>Assume that user clicked on the button and popup appeared and waited for time interval to automatically navigate back to login page. </p>\n\n<p>In this situation, i would like close the alert which i open on home page from login page. </p>\n\n<p>I would appreciate all your help and suggestions. Thanks. </p>\n"}, {"tags": ["angular", "typescript", "ionic-framework", "ionic3"], "answers": [{"tags": [], "owner": {"reputation": 447, "user_id": 2333802, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/6koqb.png?s=128&g=1", "display_name": "J&#248;rgen Svennevik Notland", "link": "https://stackoverflow.com/users/2333802/j%c3%b8rgen-svennevik-notland"}, "is_accepted": false, "score": 0, "last_activity_date": 1508273793, "creation_date": 1508273793, "answer_id": 46799098, "question_id": 46798471, "link": "https://stackoverflow.com/questions/46798471/keep-the-data-in-ionic-provider/46799098#46799098", "title": "Keep the data in Ionic provider", "body": "<p>Just use: </p>\n\n<pre><code>.publishReplay(1)\n.refCount();\n</code></pre>\n\n<p>On your http request observable.\npublishReplay caches the most recent value. reCount keeps the observable alive until there are no more observer.</p>\n"}, {"comments": [{"owner": {"reputation": 15836, "user_id": 1675492, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/HsMph.jpg?s=128&g=1", "display_name": "Ingo B&#252;rk", "link": "https://stackoverflow.com/users/1675492/ingo-b%c3%bcrk"}, "edited": false, "score": 0, "creation_date": 1508303098, "post_id": 46803136, "comment_id": 80552866, "body": "Although it should be noted that this will actually cache it even across page visits. That may or may not be what one wants, in any case you should think about cache expiry here."}, {"owner": {"reputation": 61, "user_id": 7989156, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/877a9a4f04d7c9a621375e84d4a49333?s=128&d=identicon&r=PG&f=1", "display_name": "marcelo", "link": "https://stackoverflow.com/users/7989156/marcelo"}, "edited": false, "score": 0, "creation_date": 1508338647, "post_id": 46803136, "comment_id": 80573499, "body": "On the <a href=\"https://ionicacademy.com/ionic-caching-service/\" rel=\"nofollow noreferrer\">Ionic cache article</a> you&#39;ve shared, at file **src/pages/home/home.ts **, lines 20-25 <code>let req = this.http.get(url) ...</code> it seems that the data will always hit the API server before show the cached result, isn&#39;t it?"}, {"owner": {"reputation": 50111, "user_id": 1077309, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/yghA4.jpg?s=128&g=1", "display_name": "Sampath", "link": "https://stackoverflow.com/users/1077309/sampath"}, "edited": false, "score": 0, "creation_date": 1508339662, "post_id": 46803136, "comment_id": 80574242, "body": "No.It does only once.After that, it uses cached data until it&#39;ll be expired.I have used this API and it is really awesome one."}, {"owner": {"reputation": 61, "user_id": 7989156, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/877a9a4f04d7c9a621375e84d4a49333?s=128&d=identicon&r=PG&f=1", "display_name": "marcelo", "link": "https://stackoverflow.com/users/7989156/marcelo"}, "edited": false, "score": 0, "creation_date": 1508345527, "post_id": 46803136, "comment_id": 80578030, "body": "How can I put a LoadingController in the article example? to give the user a feedback that the data is loading when press Load Films button"}, {"owner": {"reputation": 50111, "user_id": 1077309, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/yghA4.jpg?s=128&g=1", "display_name": "Sampath", "link": "https://stackoverflow.com/users/1077309/sampath"}, "edited": false, "score": 0, "creation_date": 1508345852, "post_id": 46803136, "comment_id": 80578188, "body": "What is the problem there? You just need to implement this: <a href=\"http://ionicframework.com/docs/api/components/loading/LoadingController/\" rel=\"nofollow noreferrer\">ionicframework.com/docs/api/components/loading/&hellip;</a>"}, {"owner": {"reputation": 5553, "user_id": 623952, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/UgXfy.jpg?s=128&g=1", "display_name": "gloomy.penguin", "link": "https://stackoverflow.com/users/623952/gloomy-penguin"}, "edited": false, "score": 0, "creation_date": 1555202733, "post_id": 46803136, "comment_id": 98028374, "body": "that article is now behind a paywall"}], "tags": [], "owner": {"reputation": 50111, "user_id": 1077309, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/yghA4.jpg?s=128&g=1", "display_name": "Sampath", "link": "https://stackoverflow.com/users/1077309/sampath"}, "is_accepted": false, "score": 1, "last_activity_date": 1508303407, "last_edit_date": 1508303407, "creation_date": 1508302973, "answer_id": 46803136, "question_id": 46798471, "link": "https://stackoverflow.com/questions/46798471/keep-the-data-in-ionic-provider/46803136#46803136", "title": "Keep the data in Ionic provider", "body": "<p><strong>Method 1:</strong></p>\n\n<p>You can easily use <a href=\"http://ionicframework.com/docs/storage/\" rel=\"nofollow noreferrer\"><strong>storage module</strong></a> for that.</p>\n\n<blockquote>\n  <p>Storage is an easy way to store key/value pairs and JSON objects.\n  Storage uses a variety of storage engines underneath, picking the best\n  one available depending on the platform.</p>\n</blockquote>\n\n<pre><code> // set a key/value\n  storage.set('name', 'myName');\n\n  // Or to get a key/value pair\n  storage.get('name').then((val) =&gt; {\n    console.log('Your name is', val);\n  });\n</code></pre>\n\n<p><strong>Method 2:</strong> </p>\n\n<p>If you need to expire that value at some point then you can use <a href=\"https://github.com/Nodonisko/ionic-cache\" rel=\"nofollow noreferrer\"><strong>Ionic cache service</strong></a></p>\n\n<p>Great article about <a href=\"https://ionicacademy.com/ionic-caching-service/\" rel=\"nofollow noreferrer\"><strong>it is here</strong></a>.</p>\n"}, {"comments": [{"owner": {"reputation": 61, "user_id": 7989156, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/877a9a4f04d7c9a621375e84d4a49333?s=128&d=identicon&r=PG&f=1", "display_name": "marcelo", "link": "https://stackoverflow.com/users/7989156/marcelo"}, "edited": false, "score": 0, "creation_date": 1508420127, "post_id": 46803171, "comment_id": 80609743, "body": "What do you mean about move the <code>providers</code> of a specific page to the <code>providers</code> of app module? I thought that <b>people-service.ts</b> is already a <b>public</b> provider that all the pages can access this, isn&#39;t? Can you show a example of app module provider?"}, {"owner": {"reputation": 15836, "user_id": 1675492, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/HsMph.jpg?s=128&g=1", "display_name": "Ingo B&#252;rk", "link": "https://stackoverflow.com/users/1675492/ingo-b%c3%bcrk"}, "reply_to_user": {"reputation": 61, "user_id": 7989156, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/877a9a4f04d7c9a621375e84d4a49333?s=128&d=identicon&r=PG&f=1", "display_name": "marcelo", "link": "https://stackoverflow.com/users/7989156/marcelo"}, "edited": false, "score": 0, "creation_date": 1508425175, "post_id": 46803171, "comment_id": 80613359, "body": "Currently, you provide the service in the decorator of <code>HomePage</code>, which means the service is scoped to that component. If you provide it in your AppModule instead, it is scoped to the entire app, which means any data you store in the service are kept for the app&#39;s entire lifecycle."}], "tags": [], "owner": {"reputation": 15836, "user_id": 1675492, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/HsMph.jpg?s=128&g=1", "display_name": "Ingo B&#252;rk", "link": "https://stackoverflow.com/users/1675492/ingo-b%c3%bcrk"}, "is_accepted": false, "score": 0, "last_activity_date": 1508303197, "creation_date": 1508303197, "answer_id": 46803171, "question_id": 46798471, "link": "https://stackoverflow.com/questions/46798471/keep-the-data-in-ionic-provider/46803171#46803171", "title": "Keep the data in Ionic provider", "body": "<p>You can store the result in a class member of the provider. The provider's life cycle is dependent on who is providing it: just move it from the <code>providers</code> of a specific page to the <code>providers</code> of your app module. This way, it will stay alive as long as the app is alive. </p>\n"}], "owner": {"reputation": 61, "user_id": 7989156, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/877a9a4f04d7c9a621375e84d4a49333?s=128&d=identicon&r=PG&f=1", "display_name": "marcelo", "link": "https://stackoverflow.com/users/7989156/marcelo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1351, "favorite_count": 0, "answer_count": 3, "score": 2, "last_activity_date": 1508303407, "creation_date": 1508271283, "last_edit_date": 1508302990, "question_id": 46798471, "link": "https://stackoverflow.com/questions/46798471/keep-the-data-in-ionic-provider", "title": "Keep the data in Ionic provider", "body": "<p>I'm making an API request with Ionic 3, and displaying it on a page <strong>Home.ts</strong>, using a Provider.\nI need the data to remain in the provider after the first request, so that all pages that uses this Provider can access the same information without having to re-request the API. What is the best way to do this?</p>\n\n<p>Versions: ionic CLI: 3.10;\nIonic Framework: 3.7.1</p>\n\n<hr>\n\n<p><strong>people-service.ts:</strong></p>\n\n<pre><code>import { Injectable } from '@angular/core';\nimport { Http, Response } from '@angular/http';\n\nimport 'rxjs/add/operator/do';\nimport 'rxjs/add/operator/map';\nimport 'rxjs/add/operator/catch';\nimport { Observable } from 'rxjs/Observable';\n\n@Injectable()\nexport class PeopleServiceProvider {\n  requisicao: any;\n  films: Observable&lt;any&gt;;\n  //getApiUrl : string = \"https://jsonplaceholder.typicode.com/posts\";\n  getApiUrl : string = \"https://randomuser.me/api/?results=3\";\n\n\n  constructor(public http: Http) {\n    this.requisicao = null;\n  }\n\n  // returns a Observable\n  getHTTP(docache: boolean) {\n      return this.http.get(this.getApiUrl)\n              .do(res  =&gt; console.log(res.json()))\n              .map(res =&gt; res.json());\n  }\n}\n</code></pre>\n\n<hr>\n\n<p><strong>Home.ts:</strong></p>\n\n<pre><code>import { Component } from '@angular/core';\nimport { NavController, LoadingController } from 'ionic-angular';\nimport {PeopleServiceProvider} from '../../providers/people-service/people-service';\nimport { Observable } from 'rxjs/Observable';\n\n\n@Component({\n  selector: 'page-home',\n  templateUrl: 'home.html',\n  providers: [PeopleServiceProvider]\n})\nexport class HomePage {\n\n  films: Observable&lt;any&gt;;\n  public people: any;\n  req: any;\n  constructor(public navCtrl: NavController, public loading: LoadingController, public peopleService: PeopleServiceProvider) {\n    this.people = null;\n  }\n\n  loadPeople(docache:boolean) {\n\n      let loader = this.loading.create({\n        content: 'Wait...',\n      });\n\n      loader.present().then(() =&gt; {\n        this.req = this.peopleService.getHTTP(docache);\n        this.req.subscribe((data)=&gt;{\n            this.people = data.results;\n            console.log(this.people);\n        });\n        // this.peopleService.getPosts(docache);\n\n        loader.dismiss();\n\n      });\n\n  }\n}\n</code></pre>\n\n<hr>\n\n<p><strong>Home.html</strong></p>\n\n<pre><code>  &lt;button ion-button secondary (click)='loadPeople(true);'&gt;Do cache&lt;/button&gt;\n</code></pre>\n"}, {"tags": ["javascript", "angularjs", "typescript", "ecmascript-2017"], "comments": [{"owner": {"reputation": 19955, "user_id": 101087, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/646f0fa3075659904242cf6f576ed2e9?s=128&d=identicon&r=PG", "display_name": "NineBerry", "link": "https://stackoverflow.com/users/101087/nineberry"}, "edited": false, "score": 3, "creation_date": 1508271565, "post_id": 46798358, "comment_id": 80543913, "body": "The type IHttpPromiseCallbackArg is not a promise. This is already the actual result of the function call. See <a href=\"http://definitelytyped.org/docs/angular-translate--angular-translate/interfaces/ng.ihttppromisecallbackarg.html\" rel=\"nofollow noreferrer\">definitelytyped.org/docs/angular-translate--angular-translat&zwnj;&#8203;e/&hellip;</a>"}, {"owner": {"reputation": 2096, "user_id": 2954463, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/b12033e593a98a470a964d7a93297386?s=128&d=identicon&r=PG&f=1", "display_name": "user2954463", "link": "https://stackoverflow.com/users/2954463/user2954463"}, "reply_to_user": {"reputation": 19955, "user_id": 101087, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/646f0fa3075659904242cf6f576ed2e9?s=128&d=identicon&r=PG", "display_name": "NineBerry", "link": "https://stackoverflow.com/users/101087/nineberry"}, "edited": false, "score": 0, "creation_date": 1508272249, "post_id": 46798358, "comment_id": 80544247, "body": "I can reword my question to - &quot;I thought <code>await</code> would return the same value as the first argument in the <code>.then</code> callback. Am I wrong?&quot;"}, {"owner": {"reputation": 19955, "user_id": 101087, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/646f0fa3075659904242cf6f576ed2e9?s=128&d=identicon&r=PG", "display_name": "NineBerry", "link": "https://stackoverflow.com/users/101087/nineberry"}, "edited": false, "score": 0, "creation_date": 1508272365, "post_id": 46798358, "comment_id": 80544317, "body": "You are correct. But you are wrong about what the type of the first parameter in the then callback function is. See <a href=\"http://definitelytyped.org/docs/angularjs--angular-route/interfaces/ng.ihttppromise.html\" rel=\"nofollow noreferrer\">definitelytyped.org/docs/angularjs--angular-route/interfaces&zwnj;&#8203;/&hellip;</a>"}, {"owner": {"reputation": 19955, "user_id": 101087, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/646f0fa3075659904242cf6f576ed2e9?s=128&d=identicon&r=PG", "display_name": "NineBerry", "link": "https://stackoverflow.com/users/101087/nineberry"}, "edited": false, "score": 0, "creation_date": 1508272653, "post_id": 46798358, "comment_id": 80544461, "body": "Maybe you are using the wrong type definition for what you are actually using. But we need a full working example to say that definitely."}], "answers": [{"comments": [{"owner": {"reputation": 2096, "user_id": 2954463, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/b12033e593a98a470a964d7a93297386?s=128&d=identicon&r=PG&f=1", "display_name": "user2954463", "link": "https://stackoverflow.com/users/2954463/user2954463"}, "edited": false, "score": 0, "creation_date": 1508271494, "post_id": 46798480, "comment_id": 80543881, "body": "So at the end of the day, I still have to call <code>.then</code> somewhere?"}, {"owner": {"reputation": 204677, "user_id": 75525, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/IYU63.png?s=128&g=1", "display_name": "Fenton", "link": "https://stackoverflow.com/users/75525/fenton"}, "reply_to_user": {"reputation": 2096, "user_id": 2954463, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/b12033e593a98a470a964d7a93297386?s=128&d=identicon&r=PG&f=1", "display_name": "user2954463", "link": "https://stackoverflow.com/users/2954463/user2954463"}, "edited": false, "score": 0, "creation_date": 1508271574, "post_id": 46798480, "comment_id": 80543920, "body": "You <i>may</i> still have to call <code>then</code> at the very top (in some cases, where you are passing your function to something else, you won&#39;t have to)."}, {"owner": {"reputation": 2082, "user_id": 798621, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/qSDR5.jpg?s=128&g=1", "display_name": "Jonathan Smith", "link": "https://stackoverflow.com/users/798621/jonathan-smith"}, "edited": false, "score": 1, "creation_date": 1508271589, "post_id": 46798480, "comment_id": 80543928, "body": "What&#39;s with the downvote? Any recommendations for improving the answer?"}, {"owner": {"reputation": 19955, "user_id": 101087, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/646f0fa3075659904242cf6f576ed2e9?s=128&d=identicon&r=PG", "display_name": "NineBerry", "link": "https://stackoverflow.com/users/101087/nineberry"}, "edited": false, "score": 1, "creation_date": 1508271921, "post_id": 46798480, "comment_id": 80544107, "body": "This does not answer the question which seems to be a misunderstanding about the types the function returns. The type IHttpPromiseCallbackArg is not a promise as the questioner assumes."}, {"owner": {"reputation": 204677, "user_id": 75525, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/IYU63.png?s=128&g=1", "display_name": "Fenton", "link": "https://stackoverflow.com/users/75525/fenton"}, "edited": false, "score": 1, "creation_date": 1508309943, "post_id": 46798480, "comment_id": 80555616, "body": "I was attempting to answer the question &quot;I thought await would return a regular value, not a promise. Am I wrong?&#39;"}], "tags": [], "owner": {"reputation": 204677, "user_id": 75525, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/IYU63.png?s=128&g=1", "display_name": "Fenton", "link": "https://stackoverflow.com/users/75525/fenton"}, "is_accepted": false, "score": 0, "last_activity_date": 1508271312, "creation_date": 1508271312, "answer_id": 46798480, "question_id": 46798358, "link": "https://stackoverflow.com/questions/46798358/why-does-typescript-think-async-await-returns-a-value-wrapped-in-a-promise/46798480#46798480", "title": "Why does Typescript think async/await returns a value wrapped in a promise?", "body": "<p>The line containing the <code>await</code> does indeed await the resolved value - but because the function itself is async (to allow all that awaiting), you get back a promise.</p>\n\n<p>Example... in the below code you can use <code>x</code> as a plain number (even though <code>delay</code> returns a promise) and again for <code>y</code> - so all the stuff you await is resolved so you can use it more like you would if it were synchronous.</p>\n\n<p>The async function that doesn't look like it returns a promise, now does.</p>\n\n<p>This can seem confusing, because it seems to \"invert the promises\", but what it does is shift the <code>then</code> to the top level (you could have async functions calling down to other async functions and so on).</p>\n\n<pre><code>function delay(ms: number) {\n    return new Promise&lt;number&gt;(function(resolve) {\n        setTimeout(() =&gt; {\n            resolve(5);\n        }, ms);\n    });\n}\n\n\nasync function asyncAwait() {\n    let x = await delay(1000);\n    console.log(x);\n\n    let y = await delay(1000);\n    console.log(y);\n\n    return 'Done';\n}\n\nasyncAwait().then((result) =&gt; console.log(result));\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 19955, "user_id": 101087, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/646f0fa3075659904242cf6f576ed2e9?s=128&d=identicon&r=PG", "display_name": "NineBerry", "link": "https://stackoverflow.com/users/101087/nineberry"}, "is_accepted": true, "score": 4, "last_activity_date": 1508275968, "last_edit_date": 1508275968, "creation_date": 1508275179, "answer_id": 46799380, "question_id": 46798358, "link": "https://stackoverflow.com/questions/46798358/why-does-typescript-think-async-await-returns-a-value-wrapped-in-a-promise/46799380#46799380", "title": "Why does Typescript think async/await returns a value wrapped in a promise?", "body": "<p>Your question \"I thought await would return the same value as the first argument in the .then callback. Am I wrong?\". </p>\n\n<p>No, you are absolutely right. But you are wrong about what the first argument in the .then callback is.</p>\n\n<p>You define <code>myAsyncRequest</code> to return <code>IHttpPromise&lt;IResp&gt;</code>. But <code>IHttpPromise&lt;T&gt;</code> is defined as inheriting <code>IPromise</code> the following way:</p>\n\n<pre><code>type IHttpPromise&lt;T&gt; = IPromise&lt;IHttpPromiseCallbackArg&lt;T&gt;&gt;;\n</code></pre>\n\n<p>So, an <code>IHttpPromise&lt;T&gt;</code> is a promise that returns an <code>IHttpPromiseCallbackArg&lt;T&gt;</code> back where the actual data of type <code>T</code> is in the <code>data</code> property of the <code>IHttpPromiseCallbackArg&lt;T&gt;</code>.</p>\n\n<p>So, the old code variant we see in the question:</p>\n\n<pre><code>handleSubmit(form) {\n    const params = this.getParams(form);\n\n    this.myAsyncRequest(params)\n       .then((resp:IResp) =&gt; this.processResp(resp))\n       .catch((e:IServerError) =&gt; this.handleError(e));\n }\n</code></pre>\n\n<p>should actually not compile without errors in TypeScript when <code>myAsyncRequest</code> is defined to return <code>IHttpPromise</code>.</p>\n\n<p>Howto fix this:</p>\n\n<pre><code>async handleSubmit(form) {\n    const params = this.getParams(form);\n\n    try {\n        const httpResp:IHttpPromiseCallbackArg&lt;IResp&gt; = await this.myAsyncRequest(params); \n        const resp: IResp = httpResp.data;\n        this.processResp(resp);\n    } catch (e:IServerError) {\n        this.handleError(e);\n    }\n}\n</code></pre>\n\n<hr>\n\n<p>Note: In the latest type definitions for angular, the type <code>IHttpPromiseCallbackArg&lt;T&gt;</code> is actually called <code>IHttpResponse&lt;T&gt;</code>. </p>\n\n<p>Maybe in your code, you have defined <code>IResp</code> as <code>IHttpResponse&lt;Something&gt;</code>? Then you just have a conflict with the old name <code>IHttpPromiseCallbackArg</code>. Then get the newest type definitions from DefinitelyTyped that uses the new name. And you would also have to change the definition of <code>myAsyncRequest</code> to:</p>\n\n<pre><code>myAsyncRequest(params:IParams):IHttpPromise&lt;Something&gt; {\n</code></pre>\n"}], "owner": {"reputation": 2096, "user_id": 2954463, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/b12033e593a98a470a964d7a93297386?s=128&d=identicon&r=PG&f=1", "display_name": "user2954463", "link": "https://stackoverflow.com/users/2954463/user2954463"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3542, "favorite_count": 0, "accepted_answer_id": 46799380, "answer_count": 2, "score": 2, "last_activity_date": 1508444884, "creation_date": 1508270834, "last_edit_date": 1508444884, "question_id": 46798358, "link": "https://stackoverflow.com/questions/46798358/why-does-typescript-think-async-await-returns-a-value-wrapped-in-a-promise", "title": "Why does Typescript think async/await returns a value wrapped in a promise?", "body": "<p>I want to refactor a promise chain into async/await, but Typescript is complaining about the typing.</p>\n\n<blockquote>\n  <p>TS2322:Type 'IHttpPromiseCallbackArg&lt; IResp >' is not assignable to type 'IResp'...</p>\n</blockquote>\n\n<p><s>I thought <code>await</code> would return a regular value, not a promise. Am I wrong? If so, how can I assign a typing so that the desired code will compile?</s></p>\n\n<p>I thought await would return the same value as the first argument in the .then callback. Am I wrong?</p>\n\n<p>Old code:</p>\n\n<pre><code>handleSubmit(form) {\n    const params = this.getParams(form);\n\n    this.myAsyncRequest(params)\n       .then((resp:IResp) =&gt; this.processResp(resp))\n       .catch((e:IServerError) =&gt; this.handleError(e));\n }\n</code></pre>\n\n<p>Desired new code:</p>\n\n<pre><code>async handleSubmit(form) {\n    const params = this.getParams(form);\n\n    try {\n        const resp:IResp = await this.myAsyncRequest(params); //typing error with \"const resp:IResp\"\n        this.processResp(resp);\n    } catch (e:IServerError) {\n        this.handleError(e);\n    }\n}\n</code></pre>\n\n<p>The desired code still breaks if I remove the return type in <code>myAsyncRequest</code> ; I guess Typescript infers  directly from the AngularJS library.</p>\n\n<pre><code>myAsyncRequest(params:IParams):IHttpPromise&lt;IResp&gt; {\n    return $http.post('blah', data);\n}\n</code></pre>\n\n<p>If I remove \"IResp\" from the const resp declaration, processResponse complains that IHttp&lt; IResp> does not equal IResp...</p>\n\n<pre><code>processResp(resp:IResp) {\n    //do stuff\n}\n</code></pre>\n"}, {"tags": ["node.js", "typescript", "async-await", "visual-studio-code", "vscode-extensions"], "comments": [{"owner": {"reputation": 92569, "user_id": 400654, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/afc1068910df4dd83c2fc3af0255af11?s=128&d=identicon&r=PG", "display_name": "Kevin B", "link": "https://stackoverflow.com/users/400654/kevin-b"}, "edited": false, "score": 0, "creation_date": 1508270918, "post_id": 46798354, "comment_id": 80543597, "body": "does that function even need to be async? does it gain anything at all? (getUsers)"}, {"owner": {"reputation": 22049, "user_id": 6293409, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/74f518a7b20445607bcf0b09f4c26ce1?s=128&d=identicon&r=PG&f=1", "display_name": "CRice", "link": "https://stackoverflow.com/users/6293409/crice"}, "edited": false, "score": 2, "creation_date": 1508271131, "post_id": 46798354, "comment_id": 80543699, "body": "Are you using typescript in this project? If so, it should have captured that error at compile since the type <code>Promise&lt;xxx&gt;</code> has no property &#39;length&#39;."}, {"owner": {"reputation": 1275, "user_id": 2040883, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/PWgit.png?s=128&g=1", "display_name": "Patrick Finnigan", "link": "https://stackoverflow.com/users/2040883/patrick-finnigan"}, "reply_to_user": {"reputation": 22049, "user_id": 6293409, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/74f518a7b20445607bcf0b09f4c26ce1?s=128&d=identicon&r=PG&f=1", "display_name": "CRice", "link": "https://stackoverflow.com/users/6293409/crice"}, "edited": false, "score": 0, "creation_date": 1509116840, "post_id": 46798354, "comment_id": 80903835, "body": "@CRice that works if you do &quot;users.length&quot; because Promise has no property &#39;length&#39;, but if you forget to await an async function that has no return value, then Typescript won&#39;t help you with this mechanism. Does anyone know if there&#39;s a Typescript setting (or other linter) that can detect async function calls that you&#39;re not awaiting and flag them as possible errors (that you could use a directive to explicitly ignore only when you want to kick off async work and not wait for it)?"}, {"owner": {"reputation": 1275, "user_id": 2040883, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/PWgit.png?s=128&g=1", "display_name": "Patrick Finnigan", "link": "https://stackoverflow.com/users/2040883/patrick-finnigan"}, "edited": false, "score": 0, "creation_date": 1509117703, "post_id": 46798354, "comment_id": 80904408, "body": "Actually looks like there&#39;s a tslint rule to detect &quot;floating&quot; promises called no-floating-promises - <a href=\"https://palantir.github.io/tslint/rules/no-floating-promises/\" rel=\"nofollow noreferrer\">palantir.github.io/tslint/rules/no-floating-promises</a>, <a href=\"https://github.com/palantir/tslint/pull/1632\" rel=\"nofollow noreferrer\">github.com/palantir/tslint/pull/1632</a>"}, {"owner": {"reputation": 797, "user_id": 1278519, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9f2e05d6eb62e6522dfcbea9a2dea19c?s=128&d=identicon&r=PG", "display_name": "user1278519", "link": "https://stackoverflow.com/users/1278519/user1278519"}, "edited": false, "score": 0, "creation_date": 1537163479, "post_id": 46798354, "comment_id": 91667111, "body": "Is there something in ESLint for this, too? <code>require-await</code> isn&#39;t it."}, {"owner": {"reputation": 20631, "user_id": 1422124, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/7gX80.jpg?s=128&g=1", "display_name": "Prinzhorn", "link": "https://stackoverflow.com/users/1422124/prinzhorn"}, "reply_to_user": {"reputation": 797, "user_id": 1278519, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9f2e05d6eb62e6522dfcbea9a2dea19c?s=128&d=identicon&r=PG", "display_name": "user1278519", "link": "https://stackoverflow.com/users/1278519/user1278519"}, "edited": false, "score": 0, "creation_date": 1539778239, "post_id": 46798354, "comment_id": 92624227, "body": "@user1278519 did you find a solution for eslint?"}], "answers": [{"tags": [], "owner": {"reputation": 204677, "user_id": 75525, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/IYU63.png?s=128&g=1", "display_name": "Fenton", "link": "https://stackoverflow.com/users/75525/fenton"}, "is_accepted": false, "score": 3, "last_activity_date": 1508272049, "creation_date": 1508272049, "answer_id": 46798660, "question_id": 46798354, "link": "https://stackoverflow.com/questions/46798354/how-to-find-missing-await-on-async-function-calls-in-nodetypescriptvscode/46798660#46798660", "title": "How to find missing Await on Async function calls in Node+Typescript+VSCode?", "body": "<p>TypeScript already does this</p>\n\n<pre><code>// users is a Promise&lt;T&gt;\nconst users = getUsers(); // &lt;&lt;&lt; missing await\n\n// users.length is not a property of users... then and catch are\nconsole.log(users.length);\n</code></pre>\n\n<p>You can find situations where you won't be told about your mistake - where the types are compatible, for example I missed an await here:</p>\n\n<pre><code>function delay(ms: number) {\n    return new Promise&lt;number&gt;(function(resolve) {\n        setTimeout(() =&gt; {\n            resolve(5);\n        }, ms);\n    });\n}\n\n\nasync function asyncAwait() {\n    let x = await delay(1000);\n    console.log(x);\n\n    let y = delay(1000);\n    console.log(y);\n\n    return 'Done';\n}\n\nasyncAwait().then((result) =&gt; console.log(result));\n</code></pre>\n\n<p>Because <code>console.log</code> doesn't cause any type incompatibility between my numbers and my promises, the compiler can't tell I have made a mistake.</p>\n\n<p>The only solution here would be a type annotation... but if you're gonna forget an await, you're just as likely to forget a type annotation.</p>\n\n<pre><code>let y: number = delay(1000);\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 505, "user_id": 1936549, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8a757d41c91ad9ea6fba3c2df99e28d9?s=128&d=identicon&r=PG", "display_name": "Eugenio", "link": "https://stackoverflow.com/users/1936549/eugenio"}, "edited": false, "score": 1, "creation_date": 1521655490, "post_id": 47401561, "comment_id": 85828862, "body": "Yes, that works, but VSCode problems tab shows less errors than running tslint manually (for example tslint error when you forgot the await is not present in problems tab)"}, {"owner": {"reputation": 2290, "user_id": 2579733, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/DTRU7.png?s=128&g=1", "display_name": "Max Ivanov", "link": "https://stackoverflow.com/users/2579733/max-ivanov"}, "edited": false, "score": 0, "creation_date": 1602801190, "post_id": 47401561, "comment_id": 113842760, "body": "I also had VS Code not showing all errors that ESLint cli could detect. Installing the ESLint VS Code plugin fixed that."}], "tags": [], "owner": {"reputation": 17775, "user_id": 2996339, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5f2ef707186eb4974def525534e163fd?s=128&d=identicon&r=PG", "display_name": "meziantou", "link": "https://stackoverflow.com/users/2996339/meziantou"}, "is_accepted": false, "score": 5, "last_activity_date": 1511214021, "creation_date": 1511214021, "answer_id": 47401561, "question_id": 46798354, "link": "https://stackoverflow.com/questions/46798354/how-to-find-missing-await-on-async-function-calls-in-nodetypescriptvscode/47401561#47401561", "title": "How to find missing Await on Async function calls in Node+Typescript+VSCode?", "body": "<p>TypeScript compiler doesn't provide a compiler option for that. However, TSLint 4.4 provides an option to detect floating promises. You can read this blog post for more detailed answer: <a href=\"https://www.meziantou.net/2017/11/20/detect-missing-await-in-typescript\" rel=\"noreferrer\">Detect missing await in typescript</a></p>\n\n<p>Download TSLint: </p>\n\n<pre><code>npm install -g tslint typescript\n</code></pre>\n\n<p>Configure TSLint: </p>\n\n<pre><code>{\n    \"extends\": \"tslint:recommended\",\n    \"rules\": {\n        \"no-floating-promises\": true\n    }\n}\n</code></pre>\n\n<p>Run TSLint: </p>\n\n<pre><code>tslint --project tsconfig.json\n</code></pre>\n\n<p>If there are floating promises in your code, you should see the following error:</p>\n\n<blockquote>\n  <p>ERROR: F:/Samples/index.ts[12, 5]: Promises must be handled appropriately</p>\n</blockquote>\n"}], "owner": {"reputation": 131, "user_id": 7741745, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-NW-DmgiciP4/AAAAAAAAAAI/AAAAAAAAA7M/rWia3ClRrME/photo.jpg?sz=128", "display_name": "1905home", "link": "https://stackoverflow.com/users/7741745/1905home"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3446, "favorite_count": 0, "answer_count": 2, "score": 13, "last_activity_date": 1511214021, "creation_date": 1508270828, "last_edit_date": 1508270883, "question_id": 46798354, "link": "https://stackoverflow.com/questions/46798354/how-to-find-missing-await-on-async-function-calls-in-nodetypescriptvscode", "title": "How to find missing Await on Async function calls in Node+Typescript+VSCode?", "body": "<p>We've deployed bugs in our node app b/c we forgot to prefix async function calls with \"await\".</p>\n\n<p>Example:</p>\n\n<pre><code>const getUsers = async () =&gt; db.query('SELECT * from Users');\n\nconst testMissingAwait = async () =&gt; {\n  const users = getUsers(); // &lt;&lt;&lt; missing await\n  console.log(users.length);\n};\n\ntestMissingAwait();\n</code></pre>\n\n<p>Is there an easy way to find async function calls missing the await keyword?</p>\n\n<p>Failing that, how much effort would it be to write a Visual Studio Code extension that flags these automatically? (I'm up for tackling if anyone can point me in the right direction).</p>\n"}, {"tags": ["typescript", "webpack", "ionic2", "typescript-typings", "type-definition"], "comments": [{"owner": {"reputation": 8159, "user_id": 1916362, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/fu3Fi.jpg?s=128&g=1", "display_name": "James Monger", "link": "https://stackoverflow.com/users/1916362/james-monger"}, "edited": false, "score": 0, "creation_date": 1508271138, "post_id": 46798118, "comment_id": 80543706, "body": "It would be useful to see how you import the modules you want to modify."}, {"owner": {"reputation": 3038, "user_id": 10135, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/eea12bb48fbb9cc2512e6cf89e257dc6?s=128&d=identicon&r=PG", "display_name": "daveywc", "link": "https://stackoverflow.com/users/10135/daveywc"}, "reply_to_user": {"reputation": 8159, "user_id": 1916362, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/fu3Fi.jpg?s=128&g=1", "display_name": "James Monger", "link": "https://stackoverflow.com/users/1916362/james-monger"}, "edited": false, "score": 0, "creation_date": 1508271424, "post_id": 46798118, "comment_id": 80543840, "body": "@JamesMonger I use a simple import statement for PouchDB: import PouchDB from &#39;pouchdb&#39;;"}, {"owner": {"reputation": 1295, "user_id": 4360863, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/heWif.png?s=128&g=1", "display_name": "Philip Brack", "link": "https://stackoverflow.com/users/4360863/philip-brack"}, "edited": false, "score": 0, "creation_date": 1508271440, "post_id": 46798118, "comment_id": 80543851, "body": "For one of my projects I added a &quot;postinstall&quot; step in my package.json which runs a bash script to make the modifications.  The correct way to do this would probably be to fork the repo."}], "answers": [{"comments": [{"owner": {"reputation": 8159, "user_id": 1916362, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/fu3Fi.jpg?s=128&g=1", "display_name": "James Monger", "link": "https://stackoverflow.com/users/1916362/james-monger"}, "edited": false, "score": 0, "creation_date": 1508315750, "post_id": 46798958, "comment_id": 80558864, "body": "Is your <code>declarations.d.ts</code> file in source control?"}], "tags": [], "owner": {"reputation": 3038, "user_id": 10135, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/eea12bb48fbb9cc2512e6cf89e257dc6?s=128&d=identicon&r=PG", "display_name": "daveywc", "link": "https://stackoverflow.com/users/10135/daveywc"}, "is_accepted": true, "score": 0, "last_activity_date": 1508273231, "creation_date": 1508273231, "answer_id": 46798958, "question_id": 46798118, "link": "https://stackoverflow.com/questions/46798118/typescript-definitions-modification/46798958#46798958", "title": "Typescript Definitions Modification", "body": "<p>I found that I could fix this particular issue by adding the following to my declarations.d.ts file:</p>\n\n<pre><code>declare namespace PouchDB {\n  interface Static {  adapter: any; }\n}\n</code></pre>\n"}], "owner": {"reputation": 3038, "user_id": 10135, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/eea12bb48fbb9cc2512e6cf89e257dc6?s=128&d=identicon&r=PG", "display_name": "daveywc", "link": "https://stackoverflow.com/users/10135/daveywc"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 27, "favorite_count": 0, "accepted_answer_id": 46798958, "answer_count": 1, "score": 0, "last_activity_date": 1508273231, "creation_date": 1508269889, "question_id": 46798118, "link": "https://stackoverflow.com/questions/46798118/typescript-definitions-modification", "title": "Typescript Definitions Modification", "body": "<p>I have a couple of modifications that I need to make to some typescript definition files.  Up until now I have been making these modifications manually - a bit of a pain if I wipe out my node_modules directory and start afresh, or if I install my code on a new machine.  But the changes are only small and it worked.  However now I want to build my code using a service that calls npm install as part of the build process - of course my modifications are unknown to this process.  I've included one of the modifications that I have to make below:</p>\n\n<pre><code>Add the following:\nadapter(param1: string, param2: any): Static; \n\nAfter the first line in node_modules\\@types\\pouchdb-core\\index.d.ts in the following Interface:\ninterface Static extends EventEmitter\n\nIn order to avoid an error with the following statement in data-service.ts:\nPouchDB.adapter('writableStream', replicationStream.adapters.writableStream);\n</code></pre>\n\n<p>My question is how can I make this type of modification outside of my node_modules directory so that the external build process will know about the required modifications.  </p>\n\n<p>I am using Ionic 2 which uses Webpack.</p>\n"}]