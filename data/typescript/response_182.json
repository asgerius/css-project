[{"tags": ["node.js", "typescript", "npm"], "answers": [{"comments": [{"owner": {"reputation": 2415, "user_id": 4216714, "user_type": "registered", "accept_rate": 88, "profile_image": "https://graph.facebook.com/1231298127/picture?type=large", "display_name": "Vladimir Venegas", "link": "https://stackoverflow.com/users/4216714/vladimir-venegas"}, "edited": false, "score": 0, "creation_date": 1530748842, "post_id": 51181832, "comment_id": 89346097, "body": "Need I to put the file extension? Like this? &quot;main&quot;: &quot;./lib/src/type-exception.js&quot;"}, {"owner": {"reputation": 2415, "user_id": 4216714, "user_type": "registered", "accept_rate": 88, "profile_image": "https://graph.facebook.com/1231298127/picture?type=large", "display_name": "Vladimir Venegas", "link": "https://stackoverflow.com/users/4216714/vladimir-venegas"}, "edited": false, "score": 0, "creation_date": 1530749988, "post_id": 51181832, "comment_id": 89346270, "body": "Ok, I fix it changing this line to &quot;main&quot;: &quot;./src/index.ts&quot;. Thanks"}], "tags": [], "owner": {"reputation": 204459, "user_id": 390330, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/1400be56ff17549b926dd3260da4a494?s=128&d=identicon&r=PG", "display_name": "basarat", "link": "https://stackoverflow.com/users/390330/basarat"}, "is_accepted": true, "score": 2, "last_activity_date": 1530748055, "creation_date": 1530748055, "answer_id": 51181832, "question_id": 51181822, "link": "https://stackoverflow.com/questions/51181822/typescript-package-is-installed-correctly-with-npm-but-vs-code-cannot-find-it/51181832#51181832", "title": "typescript package is installed correctly with npm but vs code cannot find it", "body": "<blockquote>\n  <p>throw me an Exception \"cannot find 'type-exception' module\" (on project B)</p>\n</blockquote>\n\n<p>This is a runtime exception. This is because your project's <code>main</code> is not pointing a file : <a href=\"https://github.com/vvenegasv/type-exception/blob/f7ec4f63a4cb129e73ed2c4592014adb7b363913/src/package.json#L5\" rel=\"nofollow noreferrer\">https://github.com/vvenegasv/type-exception/blob/f7ec4f63a4cb129e73ed2c4592014adb7b363913/src/package.json#L5</a></p>\n\n<p>It is </p>\n\n<pre><code>\"main\": \"type-exception\",\n</code></pre>\n\n<p>Should be like </p>\n\n<pre><code>\"main\": \"./lib/something/type-exception\",\n</code></pre>\n"}], "owner": {"reputation": 2415, "user_id": 4216714, "user_type": "registered", "accept_rate": 88, "profile_image": "https://graph.facebook.com/1231298127/picture?type=large", "display_name": "Vladimir Venegas", "link": "https://stackoverflow.com/users/4216714/vladimir-venegas"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 19, "favorite_count": 0, "accepted_answer_id": 51181832, "answer_count": 1, "score": 0, "last_activity_date": 1530748055, "creation_date": 1530747891, "question_id": 51181822, "link": "https://stackoverflow.com/questions/51181822/typescript-package-is-installed-correctly-with-npm-but-vs-code-cannot-find-it", "title": "typescript package is installed correctly with npm but vs code cannot find it", "body": "<p>I am developing a very simple npm package (type-exception) with TypeScript. My tests runs without errors and I was able to publish on NPM and even I can install it in another project (project B); but when I import it as reference, VS Code throw me an Exception \"cannot find 'type-exception' module\" (on project B)</p>\n\n<p>I have installed another package on project B without errores, so I think my package that I released on NPM has some issue, but I cannot figure what is.</p>\n\n<p>Basically, I made two classes and in the main.ts file export them like this:</p>\n\n<pre><code>export { nameof } from \"./reflection-helper\";\nexport { TypeException } from \"./type-exception\";\n</code></pre>\n\n<p>My folder project structure of type-exception project is like this:</p>\n\n<pre><code>src\n+-src\n|--index.ts\n|--reflection-helper.ts\n|--type-exception.ts\n|-test\n|-node_modules\n+-lib\n|--src\n|--test\n</code></pre>\n\n<p>The source code of \"type-exception\" project can be found <a href=\"https://github.com/vvenegasv/type-exception\" rel=\"nofollow noreferrer\" title=\"here\">here</a></p>\n"}, {"tags": ["javascript", "angular", "typescript", "angular6"], "owner": {"reputation": 21, "user_id": 6179443, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/238597a8041c5a8050143dad1f6b0740?s=128&d=identicon&r=PG&f=1", "display_name": "JamesBV3", "link": "https://stackoverflow.com/users/6179443/jamesbv3"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 525, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1531242803, "creation_date": 1530747377, "question_id": 51181783, "link": "https://stackoverflow.com/questions/51181783/how-to-get-sibling-controls-of-an-angular-6-abstractcontrol-in-a-nested-form", "title": "How to get sibling controls of an Angular 6 AbstractControl in a nested Form?", "body": "<p>I'm am trying to figure out as to how to get the sibling controls of an AbstractControl/FormControl in a nested angular reactive form.</p>\n\n<p>My situation is, I am trying to compare the value of 2 form controls, that are nested within, FormGroup>FormArray>FormGroup>FormArray>FormGroup</p>\n\n<p>I am using a custom validator to ensure that, within the deepest level FormGroup, one FormControl value is greater than another other FormControl value, but I am unable to retrieve sibling FormControls.</p>\n\n<p>I have passed in the other control name as a string to the custom validator:</p>\n\n<pre><code>static IsGreaterThan(GreaterThanControlName: string) : ValidatorFn | null {\n    return (control: AbstractControl) : { [key: string]: any } =&gt; {\n\n        const x = control.parent;\n        const y = x.get(GreaterThanControlName);\n        ...\n    }\n}\n</code></pre>\n\n<p>The idea is simple, I'm calling control.parent to get the parent FormGroup, and then using .get(GreaterThanControlName) to get the control of the FormGroup I am looking for.</p>\n\n<p>When I only include:</p>\n\n<pre><code>const x = control.parent\n</code></pre>\n\n<p>A formgroup is retrieved and displayed (when written to the console), as expected.</p>\n\n<p>However, if I then include:</p>\n\n<pre><code>const y = x.get(GreaterThanControlName);\n</code></pre>\n\n<p>or</p>\n\n<pre><code>const y = x.controls;\n</code></pre>\n\n<p>I get the error:</p>\n\n<pre><code>TypeError: Cannot read property 'get' of undefined\n</code></pre>\n\n<p>control.parent is now considered undefined, whereas previously it returned a FormGroup and the only difference is that I'm trying to retrieve one or more controls from the parent FormGroup of the original Control.</p>\n\n<p>I could potentially use .root() however, the requirement to go through multiple FormGroups and FormArrays would be a cumbersome solution to the problem.</p>\n\n<p>So how should I go about retrieving Sibling FormControls within a deeply nested form?</p>\n\n<p>Any advice as to how to solve this, or improve my understanding of angular is greatly appreciated.</p>\n\n<p>If any more code is required to describe the situation, please feel free to ask</p>\n"}, {"tags": ["angular", "typescript", "firebase-authentication"], "answers": [{"tags": [], "owner": {"reputation": 411025, "user_id": 209103, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/12d378e6a9788ab9c94bbafe242b82b4?s=128&d=identicon&r=PG", "display_name": "Frank van Puffelen", "link": "https://stackoverflow.com/users/209103/frank-van-puffelen"}, "is_accepted": false, "score": 2, "last_activity_date": 1530747235, "creation_date": 1530747235, "answer_id": 51181770, "question_id": 51181191, "link": "https://stackoverflow.com/questions/51181191/expire-user-session-using-firebase-authentication/51181770#51181770", "title": "Expire user session using Firebase Authentication", "body": "<p>Firebase Authentication sessions don't expire, the refresh tokens are valid indefinitely. The short-lived ID tokens are re-checked periodically (about once an hour), but there is no API to control how long that process succeeds.</p>\n\n<p>You have a few options though:</p>\n\n<ul>\n<li><p>The only control you have over the user's authentication session from the client-side API is to sign the user out.</p></li>\n<li><p>Alternatively, you can use server-side code to explicitly <a href=\"https://firebase.google.com/docs/auth/admin/manage-sessions#revoke_refresh_tokens\" rel=\"nofollow noreferrer\">revoke an individual refresh token through the Admin SDK</a>.</p></li>\n<li><p>If you must have an expiring token, consider creating your own sign-in provider for Firebase Authentication. In that case you can <a href=\"https://firebase.google.com/docs/auth/admin/create-custom-tokens\" rel=\"nofollow noreferrer\">control when the token expires through the <code>exp</code> claim</a>.</p></li>\n</ul>\n"}], "owner": {"reputation": 1254, "user_id": 9500453, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh6.googleusercontent.com/-Y2PoDK0My9o/AAAAAAAAAAI/AAAAAAAAAqQ/yld7pwS0oPc/photo.jpg?sz=128", "display_name": "Luiz Ricardo Cardoso", "link": "https://stackoverflow.com/users/9500453/luiz-ricardo-cardoso"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1935, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1530747235, "creation_date": 1530741604, "question_id": 51181191, "link": "https://stackoverflow.com/questions/51181191/expire-user-session-using-firebase-authentication", "title": "Expire user session using Firebase Authentication", "body": "<h2>How do I get user sessions logged into my system expire every 1 hour with AngularFireAuth?</h2>\n\n<p>In the configurations of my system I want to enable the authenticated user to be able to configure the time that the session expires.</p>\n\n<p>To log in to the system I am using the following code.</p>\n\n<pre><code>  signIn(user: User) {\n    return this.afAuth.auth.signInWithEmailAndPassword(user.email, user.password);\n  }\n</code></pre>\n\n<p>I've been looking in the documentation but I can not figure out how to apply this to my system.\n<a href=\"https://firebase.google.com/docs/auth/web/auth-state-persistence?hl=pt-br\" rel=\"nofollow noreferrer\">https://firebase.google.com/docs/auth/web/auth-state-persistence?hl=pt-br</a></p>\n\n<p>I would like to know how to do this from <strong><em>AngularFireAuth</em></strong>.\n<a href=\"https://github.com/angular/angularfire2/blob/master/docs/auth/getting-started.md\" rel=\"nofollow noreferrer\">https://github.com/angular/angularfire2/blob/master/docs/auth/getting-started.md</a></p>\n"}, {"tags": ["javascript", "arrays", "node.js", "typescript", "v8"], "comments": [{"owner": {"reputation": 2188, "user_id": 174541, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/82a805e3f216cf283959004f31f27901?s=128&d=identicon&r=PG", "display_name": "camillobruni", "link": "https://stackoverflow.com/users/174541/camillobruni"}, "edited": false, "score": 0, "creation_date": 1530811125, "post_id": 51180518, "comment_id": 89375369, "body": "Just stick with <code>void 0</code> if you&#39;re worried about <code>undefined</code> being redefined somewhere."}], "answers": [{"comments": [{"owner": {"reputation": 29171, "user_id": 1684269, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/5adbf1d60d27b9ee3aeee069591ba88b?s=128&d=identicon&r=PG", "display_name": "Ole", "link": "https://stackoverflow.com/users/1684269/ole"}, "edited": false, "score": 0, "creation_date": 1530737118, "post_id": 51180541, "comment_id": 89343514, "body": "OK - So Javascript allows us to use Javascript <code>undefined</code> as a variable name, hence the recommendation is to use &#39;undefined&#39; explicitly ..."}, {"owner": {"reputation": 105043, "user_id": 5260024, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XxSHe.jpg?s=128&g=1", "display_name": "Jonas Wilms", "link": "https://stackoverflow.com/users/5260024/jonas-wilms"}, "reply_to_user": {"reputation": 29171, "user_id": 1684269, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/5adbf1d60d27b9ee3aeee069591ba88b?s=128&d=identicon&r=PG", "display_name": "Ole", "link": "https://stackoverflow.com/users/1684269/ole"}, "edited": false, "score": 2, "creation_date": 1530737206, "post_id": 51180541, "comment_id": 89343533, "body": "@ole no, that means that <code>&quot;confuse me!&quot; === undefined</code> might be <code>true</code> and <code>typeof undefined === &quot;undefined&quot;</code> might be false, but if <code>typeof arrayName[index] === &quot;undefined&quot;</code> then its definetly <code>undefined</code>"}, {"owner": {"reputation": 2221, "user_id": 3263519, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/a30868a12dbbc6de32f2a790ef8ec7c3?s=128&d=identicon&r=PG&f=1", "display_name": "Hikmat G.", "link": "https://stackoverflow.com/users/3263519/hikmat-g"}, "edited": false, "score": 0, "creation_date": 1530737319, "post_id": 51180541, "comment_id": 89343567, "body": "but this throws error <code>&#39;undefined&#39; has already been declared</code>"}, {"owner": {"reputation": 5513, "user_id": 2718801, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/9d4b144cdafa73e1d470362ed8d7c3a9?s=128&d=identicon&r=PG", "display_name": "jhpratt", "link": "https://stackoverflow.com/users/2718801/jhpratt"}, "reply_to_user": {"reputation": 2221, "user_id": 3263519, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/a30868a12dbbc6de32f2a790ef8ec7c3?s=128&d=identicon&r=PG&f=1", "display_name": "Hikmat G.", "link": "https://stackoverflow.com/users/3263519/hikmat-g"}, "edited": false, "score": 0, "creation_date": 1530737406, "post_id": 51180541, "comment_id": 89343602, "body": "@HikmatGurbanli Just tried it in Node, I&#39;m surprised to say that&#39;s correct. Older versions that was certainly not the case."}, {"owner": {"reputation": 105043, "user_id": 5260024, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XxSHe.jpg?s=128&g=1", "display_name": "Jonas Wilms", "link": "https://stackoverflow.com/users/5260024/jonas-wilms"}, "reply_to_user": {"reputation": 2221, "user_id": 3263519, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/a30868a12dbbc6de32f2a790ef8ec7c3?s=128&d=identicon&r=PG&f=1", "display_name": "Hikmat G.", "link": "https://stackoverflow.com/users/3263519/hikmat-g"}, "edited": false, "score": 1, "creation_date": 1530737431, "post_id": 51180541, "comment_id": 89343608, "body": "@hikmat then wrap it in a block."}, {"owner": {"reputation": 29171, "user_id": 1684269, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/5adbf1d60d27b9ee3aeee069591ba88b?s=128&d=identicon&r=PG", "display_name": "Ole", "link": "https://stackoverflow.com/users/1684269/ole"}, "edited": false, "score": 0, "creation_date": 1530738067, "post_id": 51180541, "comment_id": 89343807, "body": "OK - I updated the question with some additional testing around your illustration, and it looks like it&#39;s better to stick with the typeof check ... since undefined could be redefined ... Like you are saying."}, {"owner": {"reputation": 105043, "user_id": 5260024, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XxSHe.jpg?s=128&g=1", "display_name": "Jonas Wilms", "link": "https://stackoverflow.com/users/5260024/jonas-wilms"}, "reply_to_user": {"reputation": 29171, "user_id": 1684269, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/5adbf1d60d27b9ee3aeee069591ba88b?s=128&d=identicon&r=PG", "display_name": "Ole", "link": "https://stackoverflow.com/users/1684269/ole"}, "edited": false, "score": 0, "creation_date": 1530738221, "post_id": 51180541, "comment_id": 89343854, "body": "@ole yeah but it can&#39;t be globally redeclared, only in your own code, and as you don&#39;t do this (i hope so) you don&#39;t have to consider this edgecase and <code>sth === undefined</code> is probably always more readable, faster to type etc."}, {"owner": {"reputation": 29171, "user_id": 1684269, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/5adbf1d60d27b9ee3aeee069591ba88b?s=128&d=identicon&r=PG", "display_name": "Ole", "link": "https://stackoverflow.com/users/1684269/ole"}, "edited": false, "score": 0, "creation_date": 1530739049, "post_id": 51180541, "comment_id": 89344100, "body": "Yeah I like the shorter version better for readability, and I&#39;m using typescript, which I think also warns, so in my case it&#39;s fairly safe."}], "tags": [], "owner": {"reputation": 105043, "user_id": 5260024, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XxSHe.jpg?s=128&g=1", "display_name": "Jonas Wilms", "link": "https://stackoverflow.com/users/5260024/jonas-wilms"}, "is_accepted": true, "score": 4, "last_activity_date": 1530737792, "last_edit_date": 1530737792, "creation_date": 1530737025, "answer_id": 51180541, "question_id": 51180518, "link": "https://stackoverflow.com/questions/51180518/is-arrayindex-undefined-the-always-same-as-typeof-arrayindex-undefi/51180541#51180541", "title": "Is array[index] === undefined the always same as typeof array[index] === &#39;undefined&#39;?", "body": "<p>Yes there is a very obscure edgecase:</p>\n\n<pre><code>let undefined = \"confuse me!\";\n</code></pre>\n\n<p>that means that </p>\n\n<pre><code> \"confuse me!\" === undefined\n</code></pre>\n\n<p>might be <code>true</code> and</p>\n\n<pre><code>typeof undefined === \"undefined\"\n</code></pre>\n\n<p>might be <code>false</code>,  but if</p>\n\n<pre><code> typeof arrayName[index] === \"undefined\" \n</code></pre>\n\n<p>is <code>true</code> then its definetly not  defined, however it might not be <code>undefined</code> :)</p>\n\n<p>But as this is terrible, you don't really have to consider that.</p>\n"}, {"comments": [{"owner": {"reputation": 162935, "user_id": 1175966, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8d3d9dfbd040f9cbc1a6b82f0da2b345?s=128&d=identicon&r=PG", "display_name": "charlietfl", "link": "https://stackoverflow.com/users/1175966/charlietfl"}, "edited": false, "score": 0, "creation_date": 1530737279, "post_id": 51180558, "comment_id": 89343554, "body": "The first two are not the same. <code>typeof</code> returns string always"}, {"owner": {"reputation": 29017, "user_id": 1119863, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/dhjKf.jpg?s=128&g=1", "display_name": "Marcos Casagrande", "link": "https://stackoverflow.com/users/1119863/marcos-casagrande"}, "reply_to_user": {"reputation": 162935, "user_id": 1175966, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8d3d9dfbd040f9cbc1a6b82f0da2b345?s=128&d=identicon&r=PG", "display_name": "charlietfl", "link": "https://stackoverflow.com/users/1175966/charlietfl"}, "edited": false, "score": 0, "creation_date": 1530737297, "post_id": 51180558, "comment_id": 89343559, "body": "Yeah, my bad, copy pasted and forgot to remove <code>typeof</code>, edited."}, {"owner": {"reputation": 4631, "user_id": 1958998, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/cNScD.jpg?s=128&g=1", "display_name": "DrewT", "link": "https://stackoverflow.com/users/1958998/drewt"}, "edited": false, "score": 0, "creation_date": 1530738175, "post_id": 51180558, "comment_id": 89343837, "body": "This is technically incorrect, they are not equivalent based on the syntax of quotes. My answer explains why."}, {"owner": {"reputation": 29017, "user_id": 1119863, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/dhjKf.jpg?s=128&g=1", "display_name": "Marcos Casagrande", "link": "https://stackoverflow.com/users/1119863/marcos-casagrande"}, "edited": false, "score": 1, "creation_date": 1530738296, "post_id": 51180558, "comment_id": 89343879, "body": "You should read my answer again, I&#39;m not using quotes on my second statement."}, {"owner": {"reputation": 4631, "user_id": 1958998, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/cNScD.jpg?s=128&g=1", "display_name": "DrewT", "link": "https://stackoverflow.com/users/1958998/drewt"}, "edited": false, "score": 0, "creation_date": 1530738406, "post_id": 51180558, "comment_id": 89343917, "body": "They are not equivalent. One is asking if an index&#39;s value is undefined. The other if it&#39;s data type is undefined. In my answer I showed how a variable value can be defined while it&#39;s type is undefined."}, {"owner": {"reputation": 29017, "user_id": 1119863, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/dhjKf.jpg?s=128&g=1", "display_name": "Marcos Casagrande", "link": "https://stackoverflow.com/users/1119863/marcos-casagrande"}, "edited": false, "score": 1, "creation_date": 1530738522, "post_id": 51180558, "comment_id": 89343950, "body": "you&#39;re not correct, they&#39;re equivalent. Tell me one case where <code>(typeof arrayName[index] !== &#39;undefined&#39;) !== (arrayName[index] !== undefined)</code>, you won&#39;t find unless the edge case describe by @Jonas, but you won&#39;t have that in a real world scneario"}, {"owner": {"reputation": 105043, "user_id": 5260024, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XxSHe.jpg?s=128&g=1", "display_name": "Jonas Wilms", "link": "https://stackoverflow.com/users/5260024/jonas-wilms"}, "reply_to_user": {"reputation": 4631, "user_id": 1958998, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/cNScD.jpg?s=128&g=1", "display_name": "DrewT", "link": "https://stackoverflow.com/users/1958998/drewt"}, "edited": false, "score": 0, "creation_date": 1530738556, "post_id": 51180558, "comment_id": 89343959, "body": "@drewT the one checks if it contains the string <code>&quot;undefined&quot;</code>, but i guess thats rather a typo, the OP probably meant <code>=== undefined</code> and then they  are equivalent."}], "tags": [], "owner": {"reputation": 29017, "user_id": 1119863, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/dhjKf.jpg?s=128&g=1", "display_name": "Marcos Casagrande", "link": "https://stackoverflow.com/users/1119863/marcos-casagrande"}, "is_accepted": false, "score": 1, "last_activity_date": 1530737660, "last_edit_date": 1530737660, "creation_date": 1530737119, "answer_id": 51180558, "question_id": 51180518, "link": "https://stackoverflow.com/questions/51180518/is-arrayindex-undefined-the-always-same-as-typeof-arrayindex-undefi/51180558#51180558", "title": "Is array[index] === undefined the always same as typeof array[index] === &#39;undefined&#39;?", "body": "<pre><code>if(typeof arrayName[index] !== 'undefined')\n</code></pre>\n\n<p>is the same as</p>\n\n<pre><code>if(arrayName[index] !== undefined) // without quotes\n</code></pre>\n\n<p>But not as you stated:</p>\n\n<blockquote>\n  <p>IIUC this is the same as `arrayName[index] !== 'undefined'?</p>\n</blockquote>\n\n<pre><code>if(arrayName[index] !== 'undefined') // this is not correct\n</code></pre>\n\n<hr>\n\n<p><a href=\"https://stackoverflow.com/questions/8783510/how-dangerous-is-it-in-javascript-really-to-assume-undefined-is-not-overwritte\">How dangerous is it in JavaScript, really, to assume undefined is not overwritten?</a></p>\n"}, {"tags": [], "owner": {"reputation": 2402, "user_id": 5016997, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7237f0e132b79a15fa27bd360d45633a?s=128&d=identicon&r=PG&f=1", "display_name": "Brendan Gannon", "link": "https://stackoverflow.com/users/5016997/brendan-gannon"}, "is_accepted": false, "score": 1, "last_activity_date": 1530737815, "creation_date": 1530737815, "answer_id": 51180668, "question_id": 51180518, "link": "https://stackoverflow.com/questions/51180518/is-arrayindex-undefined-the-always-same-as-typeof-arrayindex-undefi/51180668#51180668", "title": "Is array[index] === undefined the always same as typeof array[index] === &#39;undefined&#39;?", "body": "<p>Undefined is a global variable, and as such its value can be reassigned. So it is possible that the variable <code>undefined</code> could not be undefined. But <code>typeof</code> an undefined value will always return <code>'undefined'</code>, so it is technically safer. In practice, most people wouldn't reassign <code>undefined</code>, so either works.</p>\n"}], "owner": {"reputation": 29171, "user_id": 1684269, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/5adbf1d60d27b9ee3aeee069591ba88b?s=128&d=identicon&r=PG", "display_name": "Ole", "link": "https://stackoverflow.com/users/1684269/ole"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 162, "favorite_count": 0, "accepted_answer_id": 51180541, "answer_count": 3, "score": 0, "last_activity_date": 1530739368, "creation_date": 1530736874, "last_edit_date": 1530739368, "question_id": 51180518, "link": "https://stackoverflow.com/questions/51180518/is-arrayindex-undefined-the-always-same-as-typeof-arrayindex-undefi", "title": "Is array[index] === undefined the always same as typeof array[index] === &#39;undefined&#39;?", "body": "<p>I need to see whether something there is an entry for an array index in Javascript and <a href=\"https://stackoverflow.com/questions/13107855/how-to-check-if-array-element-exists-or-not-in-javascript\">this answer</a> say to uses (Essentially I changed it from === to !==):</p>\n\n<blockquote>\n  <p>if(typeof arrayName[index] !== 'undefined') </p>\n</blockquote>\n\n<p>IIUC this is the same as `arrayName[index] !== 'undefined'?</p>\n\n<p>I experimented with it and it works, but I want to make sure I'm not missing any edge cases?</p>\n\n<h2>Update</h2>\n\n<p>To clearify WRT to some answers given (Ran this on node <code>9.11.2</code>):</p>\n\n<pre><code>    let undefined = \"Hello\";\n    console.log(undefined);\n    let arrayName = [];\n    if(arrayName[0] !== undefined) {\n        console.log(\"Test passes\");\n        console.log(\"undefined is: \", undefined);\n        console.log(\"arrayName[0] is: \", arrayName[0]);\n    }\n</code></pre>\n\n<p>This prints:</p>\n\n<pre><code>Hello\nTest passes\nundefined is:  Hello\narrayName[0] is:  undefined\n</code></pre>\n\n<p>So it seems the answer is \"No undefined could sometimes be redefind ...\" ... and it's better to stick with <code>typeof array[index] === 'undefined'</code>, but as some have indicated, undefined cannot be redefined globally, so it should be fairly safe to use the shorter version.</p>\n"}, {"tags": ["typescript"], "answers": [{"tags": [], "owner": {"reputation": 364, "user_id": 9136781, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cfb57df979f261fb432a9f52a5e2ac69?s=128&d=identicon&r=PG&f=1", "display_name": "Gwen", "link": "https://stackoverflow.com/users/9136781/gwen"}, "is_accepted": false, "score": 0, "last_activity_date": 1530738095, "last_edit_date": 1530738095, "creation_date": 1530737728, "answer_id": 51180658, "question_id": 51180425, "link": "https://stackoverflow.com/questions/51180425/abstract-classes-in-type-script/51180658#51180658", "title": "Abstract Classes in Type Script", "body": "<p>Change</p>\n\n<pre><code>console.log('ArmyBase ' + this.name + ' has been activated!'');\n</code></pre>\n\n<p>With</p>\n\n<pre><code>console.log('ArmyBase ' + this.name + ' has been activated!');\n</code></pre>\n\n<p>(Same for navyBase -> There are 5 quotes instead of 4)</p>\n\n<p>You can just do this too : </p>\n\n<pre><code>console.log(`ArmyBase ${this.name} has been activated!`);\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 2753, "user_id": 179531, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/e9d2cdde8bdd9e82ae1b8ecb4ec2f563?s=128&d=identicon&r=PG", "display_name": "learning...", "link": "https://stackoverflow.com/users/179531/learning"}, "edited": false, "score": 0, "creation_date": 1530755993, "post_id": 51180841, "comment_id": 89347167, "body": "I have tried your updated code, i am only getting setup and printing starts messages nothing else. <code>https:&#47;&#47;jsfiddle.net&#47;learningjsfiddle&#47;L5qy08ch&#47;33&#47;</code>"}, {"owner": {"reputation": 2753, "user_id": 179531, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/e9d2cdde8bdd9e82ae1b8ecb4ec2f563?s=128&d=identicon&r=PG", "display_name": "learning...", "link": "https://stackoverflow.com/users/179531/learning"}, "edited": false, "score": 0, "creation_date": 1530757671, "post_id": 51180841, "comment_id": 89347414, "body": "I have moved this over to vs code, decorated all with <code>export</code> and prints are working good."}], "tags": [], "owner": {"reputation": 3578, "user_id": 2780480, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/oBkUP.jpg?s=128&g=1", "display_name": "Jagrut Sharma", "link": "https://stackoverflow.com/users/2780480/jagrut-sharma"}, "is_accepted": true, "score": 0, "last_activity_date": 1530739097, "creation_date": 1530739097, "answer_id": 51180841, "question_id": 51180425, "link": "https://stackoverflow.com/questions/51180425/abstract-classes-in-type-script/51180841#51180841", "title": "Abstract Classes in Type Script", "body": "<p>Try with minor modifications as below:</p>\n\n<p>1) Change</p>\n\n<pre><code>console.log('ArmyBase ' + this.name + ' has been activated!'');\n</code></pre>\n\n<p>to</p>\n\n<pre><code>console.log('ArmyBase ' + this.name + ' has been activated!');\n</code></pre>\n\n<p>2) Change</p>\n\n<pre><code>console.log('NavyBase ' + this.name + ' has been activated!'');\n</code></pre>\n\n<p>to</p>\n\n<pre><code>console.log('NavyBase ' + this.name + ' has been activated!');\n</code></pre>\n\n<p>3) Moving closing brace for below constructors to proper place:</p>\n\n<pre><code>constructor(name: string, totalShips: number)\nconstructor(name: string, totalSoldiers: number)\n</code></pre>\n\n<p><strong>Updated code is:</strong></p>\n\n<pre><code>console.log('setup');\n\ninterface Activatable {\n    //ActivateSelf: () =&gt; void;\n  ActivateSelf(): void;\n}\n\n//abstract keyword, abstract classes are allowed to implement interface\n//cannot do new AbstractBase, need sub classes to do method implementation same as C#\nabstract class AbstractBase implements Activatable {    \n  constructor(public name: string){}\n\n  //abstract method, this satisfies the req due to implementing interface\n  abstract ActivateSelf(): void;\n};\n\nclass ArmyBase extends AbstractBase {\n    totalSoldiers: number;\n  name: string\n\n  constructor(name: string, totalSoldiers: number){\n    //extending a class, need to call a super in the constructor\n    //this does not change when extending an abstract class\n    super(name);\n    this.totalSoldiers = totalSoldiers;\n  }\n\n    //abstract method\n    public ActivateSelf(){\n        //console.log(`ArmyBase [${this.name}] has been activated!`);\n      console.log('ArmyBase ' + this.name + ' has been activated!');\n    }\n  };\n\n\nclass NavyBase extends AbstractBase {\n    totalShips: number;\n  name: string\n\n  constructor(name: string, totalShips: number){\n    //extending a class, need to call a super in the constructor\n    //this does not change when extending an abstract class\n    super(name);\n    this.totalShips = totalShips;\n  }\n\n    //abstract method\n    public ActivateSelf(){\n        //console.log(`NavyBase [${this.name}] has been activated!`);\n      console.log('NavyBase ' + this.name + ' has been activated!');\n    }\n  };\n\nconsole.log('Printing starts');\n\nconst army = new ArmyBase(\"First Army Base\", 100);\nconst navy = new NavyBase(\"First Navy Base\", 3);\n\nconst anotherArmy : Activatable = new ArmyBase(\"Second Army Base\", 250);\n\nconsole.log('Army base', army)\nconsole.log('Another Army Base', anotherArmy)\nconsole.log('Navy Base', navy)\n\narmy.ActivateSelf();\nanotherArmy.ActivateSelf();\nnavy.ActivateSelf();\n</code></pre>\n\n<p><strong>The console output is:</strong></p>\n\n<pre><code>setup\nPrinting starts\nArmy base ArmyBase { name: 'First Army Base', totalSoldiers: 100 }\nAnother Army Base ArmyBase { name: 'Second Army Base', totalSoldiers: 250 }\nNavy Base NavyBase { name: 'First Navy Base', totalShips: 3 }\nArmyBase First Army Base has been activated!\nArmyBase Second Army Base has been activated!\nNavyBase First Navy Base has been activated!\n</code></pre>\n"}], "owner": {"reputation": 2753, "user_id": 179531, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/e9d2cdde8bdd9e82ae1b8ecb4ec2f563?s=128&d=identicon&r=PG", "display_name": "learning...", "link": "https://stackoverflow.com/users/179531/learning"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 39, "favorite_count": 0, "closed_date": 1530765936, "accepted_answer_id": 51180841, "answer_count": 2, "score": 0, "last_activity_date": 1530739097, "creation_date": 1530736286, "question_id": 51180425, "link": "https://stackoverflow.com/questions/51180425/abstract-classes-in-type-script", "closed_reason": "Not suitable for this site", "title": "Abstract Classes in Type Script", "body": "<p>Trying to test out a very simple abstract class implementation in jsfiddle but i am not getting the result back for any of the prints. Do you see any thing not correct here?</p>\n\n<p><a href=\"https://jsfiddle.net/learningjsfiddle/L5qy08ch/5/\" rel=\"nofollow noreferrer\">https://jsfiddle.net/learningjsfiddle/L5qy08ch/5/</a></p>\n\n<p>None of the console.log are printing. </p>\n\n<p>Here is the test example</p>\n\n<pre><code>console.log('setup');\n\ninterface Activatable {\n    //ActivateSelf: () =&gt; void;\n  ActivateSelf(): void;\n}\n\n//abstract keyword, abstract classes are allowed to implement interface\n//cannot do new AbstractBase, need sub classes to do method implementation same as C#\nabstract class AbstractBase implements Activatable {    \n  constructor(public name: string){}\n\n  //abstract method, this satisfies the req due to implementing interface\n  abstract ActivateSelf(): void;\n};\n\nclass ArmyBase extends AbstractBase {\n    totalSoldiers: number;\n  name: string\n\n  constructor(name: string, totalSoldiers: number){\n    //extending a class, need to call a super in the constructor\n    //this does not change when extending an abstract class\n    super(name);\n    this.totalSoldiers = totalSoldiers;\n\n    //abstract method\n    public ActivateSelf(){\n        //console.log(`ArmyBase [${this.name}] has been activated!`);\n      console.log('ArmyBase ' + this.name + ' has been activated!'');\n    }\n  }\n\n};\n\nclass NavyBase extends AbstractBase {\n    totalShips: number;\n  name: string\n\n  constructor(name: string, totalShips: number){\n    //extending a class, need to call a super in the constructor\n    //this does not change when extending an abstract class\n    super(name);\n    this.totalShips = totalShips;\n\n    //abstract method\n    public ActivateSelf(){\n        //console.log(`NavyBase [${this.name}] has been activated!`);\n      console.log('NavyBase ' + this.name + ' has been activated!'');\n    }\n  }\n\n};\n\nconsole.log('Printing starts');\n\nconst army = new ArmyBase(\"First Army Base\", 100);\nconst navy = new NavyBase(\"First Navy Base\", 3);\n\nconst anotherArmy : Activatable = new ArmyBase(\"Second Army Base\", 250);\n\nconsole.log('Army base', army)\nconsole.log('Another Army Base', anotherArmy)\nconsole.log('Navy Base', navy)\n\narmy.ActivateSelf();\nanotherArmy.ActivateSelf();\nnavy.ActivateSelf();\n</code></pre>\n\n<p>Firebug lite is added to the fiddle, in any case you can add via the following link: \n<a href=\"https://getfirebug.com/firebug-lite-debug.js\" rel=\"nofollow noreferrer\">https://getfirebug.com/firebug-lite-debug.js</a> </p>\n"}, {"tags": ["node.js", "typescript", "express", "mongoose", "passport.js"], "answers": [{"tags": [], "owner": {"reputation": 47, "user_id": 9244273, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/734ef074405081a8a5b6b2094299e55f?s=128&d=identicon&r=PG&f=1", "display_name": "Divan van Biljon", "link": "https://stackoverflow.com/users/9244273/divan-van-biljon"}, "is_accepted": false, "score": 0, "last_activity_date": 1530776831, "creation_date": 1530776831, "answer_id": 51185884, "question_id": 51180231, "link": "https://stackoverflow.com/questions/51180231/issue-with-connect-mongo-passport-passport-local-mongoose-with-session-not-pe/51185884#51185884", "title": "Issue with connect-mongo, passport &amp; passport-local-mongoose with session not persisting", "body": "<p>Found that I needed to call passport.authenticate as middle-ware to the route and had to do route chaining for it to work correctly!</p>\n\n<pre><code>app.route('/authenticate')\n            .post(passport.authenticate('local'))\n            .post((req: Request, res: Response, next: NextFunction) =&gt; {\n                try {\n                    console.log(chalk.cyanBright('Request from: ') + chalk.yellowBright(req.originalUrl));\n                    console.log(chalk.cyanBright('Request type: ') + chalk.yellowBright(req.method));\n\n                    next();\n                } catch (error) {\n                    console.error(chalk.redBright(error));\n                }\n            }, this.authenticationController.authenticate);\n</code></pre>\n"}], "owner": {"reputation": 47, "user_id": 9244273, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/734ef074405081a8a5b6b2094299e55f?s=128&d=identicon&r=PG&f=1", "display_name": "Divan van Biljon", "link": "https://stackoverflow.com/users/9244273/divan-van-biljon"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 161, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1530776831, "creation_date": 1530734794, "last_edit_date": 1530740926, "question_id": 51180231, "link": "https://stackoverflow.com/questions/51180231/issue-with-connect-mongo-passport-passport-local-mongoose-with-session-not-pe", "title": "Issue with connect-mongo, passport &amp; passport-local-mongoose with session not persisting", "body": "<p>Trying to save session and have the functionality of req.isAuthenticated(), req.user etc etc but not getting it to work.</p>\n\n<p>Session is not persisting and just not working in general for some reason.</p>\n\n<p><strong>app.ts</strong>\n<a href=\"https://pastebin.com/yGvUZhud\" rel=\"nofollow noreferrer\">https://pastebin.com/yGvUZhud</a></p>\n\n<pre><code>Some Code\n</code></pre>\n\n<p><strong>routes.ts</strong>\n<a href=\"https://pastebin.com/8Q2h1hsK\" rel=\"nofollow noreferrer\">https://pastebin.com/8Q2h1hsK</a></p>\n\n<pre><code>Some Code\n</code></pre>\n\n<p><strong>controller.ts</strong>\n<a href=\"https://pastebin.com/9iU6iHn9\" rel=\"nofollow noreferrer\">https://pastebin.com/9iU6iHn9</a></p>\n\n<pre><code>Some Code\n</code></pre>\n\n<p>Any help would be appreciated</p>\n"}, {"tags": ["javascript", "angular", "typescript", "custom-element"], "comments": [{"owner": {"reputation": 162935, "user_id": 1175966, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8d3d9dfbd040f9cbc1a6b82f0da2b345?s=128&d=identicon&r=PG", "display_name": "charlietfl", "link": "https://stackoverflow.com/users/1175966/charlietfl"}, "edited": false, "score": 0, "creation_date": 1530733836, "post_id": 51180057, "comment_id": 89342530, "body": "If <code>message</code> is a string then <code>message[&#39;productname&#39;]</code> is invalid  looking for property of a non-object. That syntax is object property syntax"}, {"owner": {"reputation": 105043, "user_id": 5260024, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XxSHe.jpg?s=128&g=1", "display_name": "Jonas Wilms", "link": "https://stackoverflow.com/users/5260024/jonas-wilms"}, "reply_to_user": {"reputation": 162935, "user_id": 1175966, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8d3d9dfbd040f9cbc1a6b82f0da2b345?s=128&d=identicon&r=PG", "display_name": "charlietfl", "link": "https://stackoverflow.com/users/1175966/charlietfl"}, "edited": false, "score": 0, "creation_date": 1530733979, "post_id": 51180057, "comment_id": 89342566, "body": "@charlietfl no, itll be undefined. Everything is an object in js."}, {"owner": {"reputation": 20710, "user_id": 536299, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/9b8612f4dbb037edc0f5ce82df05adde?s=128&d=identicon&r=PG", "display_name": "balteo", "link": "https://stackoverflow.com/users/536299/balteo"}, "edited": false, "score": 0, "creation_date": 1530734144, "post_id": 51180057, "comment_id": 89342620, "body": "Thanks for your input. Here is the link to the full source code on github: <a href=\"https://github.com/learnfrontend-dc/product-cart/blob/master/src/app/productcart/productcart.component.ts#L40\" rel=\"nofollow noreferrer\">here</a>"}, {"owner": {"reputation": 20710, "user_id": 536299, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/9b8612f4dbb037edc0f5ce82df05adde?s=128&d=identicon&r=PG", "display_name": "balteo", "link": "https://stackoverflow.com/users/536299/balteo"}, "reply_to_user": {"reputation": 162935, "user_id": 1175966, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8d3d9dfbd040f9cbc1a6b82f0da2b345?s=128&d=identicon&r=PG", "display_name": "charlietfl", "link": "https://stackoverflow.com/users/1175966/charlietfl"}, "edited": false, "score": 0, "creation_date": 1530734191, "post_id": 51180057, "comment_id": 89342638, "body": "@charlietfl Then if message is not a string what is it?"}, {"owner": {"reputation": 27488, "user_id": 1778465, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/NxIPr.jpg?s=128&g=1", "display_name": "Get Off My Lawn", "link": "https://stackoverflow.com/users/1778465/get-off-my-lawn"}, "edited": false, "score": 0, "creation_date": 1530734265, "post_id": 51180057, "comment_id": 89342661, "body": "it is probably an object <code>message = {productname: &#39;awesome&#39;}</code>"}, {"owner": {"reputation": 162935, "user_id": 1175966, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8d3d9dfbd040f9cbc1a6b82f0da2b345?s=128&d=identicon&r=PG", "display_name": "charlietfl", "link": "https://stackoverflow.com/users/1175966/charlietfl"}, "edited": false, "score": 0, "creation_date": 1530734291, "post_id": 51180057, "comment_id": 89342668, "body": "Simple enough to find out yourself using <code>typeof message</code> or using a breakpoint or console log to inspect it"}, {"owner": {"reputation": 20710, "user_id": 536299, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/9b8612f4dbb037edc0f5ce82df05adde?s=128&d=identicon&r=PG", "display_name": "balteo", "link": "https://stackoverflow.com/users/536299/balteo"}, "edited": false, "score": 0, "creation_date": 1530735015, "post_id": 51180057, "comment_id": 89342894, "body": "Thanks all. I am keen to understand the why the author typed the parameter of the setter as string... See: <code>set message(message: string) {...</code>"}, {"owner": {"reputation": 105043, "user_id": 5260024, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XxSHe.jpg?s=128&g=1", "display_name": "Jonas Wilms", "link": "https://stackoverflow.com/users/5260024/jonas-wilms"}, "edited": false, "score": 1, "creation_date": 1530735135, "post_id": 51180057, "comment_id": 89342929, "body": "@balteo maybe the author of the code is just very unexperienced and messed up this part. At least the code looks so"}, {"owner": {"reputation": 20710, "user_id": 536299, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/9b8612f4dbb037edc0f5ce82df05adde?s=128&d=identicon&r=PG", "display_name": "balteo", "link": "https://stackoverflow.com/users/536299/balteo"}, "reply_to_user": {"reputation": 105043, "user_id": 5260024, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XxSHe.jpg?s=128&g=1", "display_name": "Jonas Wilms", "link": "https://stackoverflow.com/users/5260024/jonas-wilms"}, "edited": false, "score": 0, "creation_date": 1530735227, "post_id": 51180057, "comment_id": 89342973, "body": "@JonasW. It might be the case indeed."}, {"owner": {"reputation": 105043, "user_id": 5260024, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XxSHe.jpg?s=128&g=1", "display_name": "Jonas Wilms", "link": "https://stackoverflow.com/users/5260024/jonas-wilms"}, "edited": false, "score": 0, "creation_date": 1530735592, "post_id": 51180057, "comment_id": 89343096, "body": "I guess <code>processMessage</code> is called with an object named <code>message</code> that is not a string."}], "answers": [{"comments": [{"owner": {"reputation": 20710, "user_id": 536299, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/9b8612f4dbb037edc0f5ce82df05adde?s=128&d=identicon&r=PG", "display_name": "balteo", "link": "https://stackoverflow.com/users/536299/balteo"}, "edited": false, "score": 0, "creation_date": 1530735141, "post_id": 51180137, "comment_id": 89342933, "body": "Thanks a lot for your input. I just don&#39;t seem to understand why the setter is typed as string... I am in touch with the author in order to understand why..."}, {"owner": {"reputation": 733, "user_id": 9638388, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/DIYkQ.png?s=128&g=1", "display_name": "geekley", "link": "https://stackoverflow.com/users/9638388/geekley"}, "reply_to_user": {"reputation": 20710, "user_id": 536299, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/9b8612f4dbb037edc0f5ce82df05adde?s=128&d=identicon&r=PG", "display_name": "balteo", "link": "https://stackoverflow.com/users/536299/balteo"}, "edited": false, "score": 0, "creation_date": 1530736157, "post_id": 51180137, "comment_id": 89343253, "body": "I&#39;m speculating, but maybe he wanted to parse a JSON string into an object and forgot to add JSON.parse?"}], "tags": [], "owner": {"reputation": 733, "user_id": 9638388, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/DIYkQ.png?s=128&g=1", "display_name": "geekley", "link": "https://stackoverflow.com/users/9638388/geekley"}, "is_accepted": true, "score": 2, "last_activity_date": 1530734225, "creation_date": 1530734225, "answer_id": 51180137, "question_id": 51180057, "link": "https://stackoverflow.com/questions/51180057/passing-a-string-within-brackets-to-another-string/51180137#51180137", "title": "Passing a string within brackets to another string", "body": "<p><code>message['productname']</code> would be the same as message.productname, which will be undefined if message is a string. If message is an object, it will be the <code>productname</code>property.</p>\n\n<p>So the code:</p>\n\n<pre><code>product.productname=(message['productname'] !== undefined)?message['productname']:\"\";\n</code></pre>\n\n<p>seems to be getting the productname if message is an object and \"\" if it is a string.</p>\n"}], "owner": {"reputation": 20710, "user_id": 536299, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/9b8612f4dbb037edc0f5ce82df05adde?s=128&d=identicon&r=PG", "display_name": "balteo", "link": "https://stackoverflow.com/users/536299/balteo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 70, "favorite_count": 0, "accepted_answer_id": 51180137, "answer_count": 1, "score": 1, "last_activity_date": 1530778876, "creation_date": 1530733741, "last_edit_date": 1530778876, "question_id": 51180057, "link": "https://stackoverflow.com/questions/51180057/passing-a-string-within-brackets-to-another-string", "title": "Passing a string within brackets to another string", "body": "<p>My question relates to JS and custom elements.</p>\n\n<p>I have the following code: </p>\n\n<pre><code>let product=this.getProduct(message['productname']);\n</code></pre>\n\n<p>What I am not clear about is that <code>message</code> is a string above... </p>\n\n<p>What is the result of passing a string within brackets (i.e. <code>['productname']</code>) to another string (i.e. <code>message</code>)?</p>\n\n<p>As in here:</p>\n\n<p><strong><code>message['productname']</code></strong></p>\n\n<p>What is the name for this notation/syntax?</p>\n\n<p>The full listing can be found below:</p>\n\n<pre><code>import { Component, TemplateRef, Renderer2, OnDestroy, OnInit, ViewEncapsulation, Input } from '@angular/core';\nimport { BsModalRef, BsModalService } from 'ngx-bootstrap/modal';\n\n\nexport class Product {\n  public productname:string;\n  public code: string;\n  public cartprice: number;\n  public price: number;\n  public available: number;\n  public qty: number;\n  constructor(){\n\n  }\n}\n\n@Component({\n  selector: 'product-cart',\n  templateUrl: './productcart.component.html',\n  styleUrls: ['./productcart.component.css'],\n  encapsulation: ViewEncapsulation.Emulated\n})\nexport class ProductCartComponent implements OnInit, OnDestroy {\n\n  public productlist : Product[]; \n  public totalprice=0;\n  public ngOnInit(): void {\n    this.productlist=[];\n  }\n  constructor(private renderer: Renderer2) {\n  }\n  @Input()\n  set message(message: string) {\n    this.processMessage(message);\n  }\n  get message(): string { return this._message; }\n  _message: string;\n\n  processMessage(message) {\n    let product=this.getProduct(message['productname']);\n    if(product !== undefined) {\n      product.qty=product.qty + 1;\n      product.cartprice=product.cartprice+message['price'];\n      this.totalprice=this.totalprice+message['price'];\n     } else if(message !== \"\" &amp;&amp; message !== undefined) {\n      product = new Product();\n      product.qty=1;\n      product.price=(message['price']!== undefined)?message['price']:0;\n      product.productname=(message['productname'] !== undefined)?message['productname']:\"\";\n      product.available=(message['available'] !== undefined)?message['available']:0;\n      product.code=(message['code'] !== undefined)?message['code']:\"\";\n      product.cartprice=(message['price'] !== undefined)?message['price']:0;\n      this.productlist.push(product);\n      this.totalprice=this.totalprice+product.price;\n    }\n\n  }\n\n  getProduct(productname) : Product {\n    let productObj=undefined;\n    for(let product of this.productlist) {\n      if(product.productname === productname) {\n        productObj=product; \n        break;\n      }\n  }\n  return productObj;\n  }\n  ngOnDestroy() {\n  }\n  increment(product) {\n    if(product.qty &gt;= 0 &amp;&amp; product.qty &lt; product.available) {\n      product.qty =product.qty + 1;\n      product.cartprice = product.cartprice + product.price;\n      this.totalprice = this.totalprice + product.price;\n      this.sendMessageToProductView(product);\n    }\n  }\n\n  decrement(product) {\n    if(product.qty &gt; 0 &amp;&amp; product.qty &lt;= product.available) {\n      product.qty =product.qty - 1;\n      product.cartprice = product.cartprice - product.price;\n      this.totalprice = this.totalprice - product.price;\n      this.sendMessageToProductView(product);\n    }\n  }\n  sendMessageToProductView(product) {\n    const productviewele = document.querySelector('product-view');\n    if(productviewele != null) {\n      productviewele['message']=product;\n    }\n  }\n}\n</code></pre>\n\n<p><strong>Edit</strong>: I can confirm that message is of type object and not string. The setter parameter is mistyped as hinted by Jonas. </p>\n"}, {"tags": ["node.js", "typescript", "json-rpc", "nestjs"], "answers": [{"comments": [{"owner": {"reputation": 399, "user_id": 1366590, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/5144d6528255073a3f034d55ae3c0418?s=128&d=identicon&r=PG", "display_name": "robertmain", "link": "https://stackoverflow.com/users/1366590/robertmain"}, "edited": false, "score": 0, "creation_date": 1531144641, "post_id": 51229096, "comment_id": 89473318, "body": "Cool, thanks. What is gRPC and how does it differ from json-rpc. Also, if there is no support for json-rpc out of the box, can it be added?"}], "tags": [], "owner": {"reputation": 1742, "user_id": 1058115, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9d9f27336d38932f199871e94ba49802?s=128&d=identicon&r=PG", "display_name": "cojack", "link": "https://stackoverflow.com/users/1058115/cojack"}, "is_accepted": true, "score": 1, "last_activity_date": 1531027470, "creation_date": 1531027470, "answer_id": 51229096, "question_id": 51179842, "link": "https://stackoverflow.com/questions/51179842/nest-js-json-rpc-support/51229096#51229096", "title": "Nest.JS JSON RPC Support", "body": "<p>Nest does support gRPC out of the box, you can read about it here <a href=\"https://docs.nestjs.com/microservices/grpc\" rel=\"nofollow noreferrer\">https://docs.nestjs.com/microservices/grpc</a> but not JSON-RPC, and Im not sure if this is exposed, so basically answering to your first part of question: Nope, there is no support for JSON-RPC in nest out of the box. But the second one, the answer is: yes, you can map your controller methods to the socket/http request.</p>\n"}, {"comments": [{"owner": {"reputation": 258, "user_id": 3945261, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/6df0e08f2c5b008cdb9f1feaacd82d0b?s=128&d=identicon&r=PG&f=1", "display_name": "Andrey Jakovenko", "link": "https://stackoverflow.com/users/3945261/andrey-jakovenko"}, "edited": false, "score": 0, "creation_date": 1594963019, "post_id": 61953161, "comment_id": 111315483, "body": "Thx you very much for sharing, it`s my library :)"}], "tags": [], "owner": {"reputation": 1039, "user_id": 3809516, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/27fc22c7a2d954f5f2d296561ada0aab?s=128&d=identicon&r=PG&f=1", "display_name": "han4wluc", "link": "https://stackoverflow.com/users/3809516/han4wluc"}, "is_accepted": false, "score": 3, "last_activity_date": 1590144099, "creation_date": 1590144099, "answer_id": 61953161, "question_id": 51179842, "link": "https://stackoverflow.com/questions/51179842/nest-js-json-rpc-support/61953161#61953161", "title": "Nest.JS JSON RPC Support", "body": "<p>There seems to be a nestjs JSON-RPC implementation now <a href=\"https://github.com/Insidexa/nestjs-rpc\" rel=\"nofollow noreferrer\">https://github.com/Insidexa/nestjs-rpc</a></p>\n"}], "owner": {"reputation": 399, "user_id": 1366590, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/5144d6528255073a3f034d55ae3c0418?s=128&d=identicon&r=PG", "display_name": "robertmain", "link": "https://stackoverflow.com/users/1366590/robertmain"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 858, "favorite_count": 1, "accepted_answer_id": 51229096, "answer_count": 2, "score": 1, "last_activity_date": 1590144099, "creation_date": 1530732304, "last_edit_date": 1530739942, "question_id": 51179842, "link": "https://stackoverflow.com/questions/51179842/nest-js-json-rpc-support", "title": "Nest.JS JSON RPC Support", "body": "<p>I'm looking into using Nest.JS for a project, but a key requirement for my project means I have to provide a JSON-RPC API as well as the usual HTTP/Socket.io API.</p>\n\n<p>Wondered if that was supported. Apparently this is the best place to ask.</p>\n"}, {"tags": ["arrays", "json", "angular", "typescript", "iterator"], "comments": [{"owner": {"reputation": 73287, "user_id": 3874623, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/6df0aa136ee42f4ea24ef08b7c348e7a?s=128&d=identicon&r=PG&f=1", "display_name": "Mark", "link": "https://stackoverflow.com/users/3874623/mark"}, "edited": false, "score": 1, "creation_date": 1530730806, "post_id": 51179586, "comment_id": 89341653, "body": "What specifically is the problem with the hyphens?"}, {"owner": {"reputation": 630270, "user_id": 571407, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2f0d9dec16bae1e06552af55ddefc11f?s=128&d=identicon&r=PG", "display_name": "JB Nizet", "link": "https://stackoverflow.com/users/571407/jb-nizet"}, "edited": false, "score": 0, "creation_date": 1530730966, "post_id": 51179586, "comment_id": 89341712, "body": "By &#39;iterating&quot;, do you mean &quot;accessing the value of a property&quot;? <code>foo.bar</code> can be written <code>foo[&#39;bar&#39;]</code> in JavaScript (and TypeScript). That&#39;s (probably) what you need to do here: <code>someObject[&#39;child-education&#39;]</code>"}, {"owner": {"reputation": 388, "user_id": 7520423, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/3169883cd5b56acdf3d9d584a8d9bf1f?s=128&d=identicon&r=PG", "display_name": "Major Sam", "link": "https://stackoverflow.com/users/7520423/major-sam"}, "edited": false, "score": 0, "creation_date": 1530731014, "post_id": 51179586, "comment_id": 89341734, "body": "I can&#39;t do this: <code>let showContent = this.arrayCont.business[0].anim[0].child-education[0].kid stories[0]</code>. Typescript throws an error and says that it can&#39;t find name &#39;education&#39;."}, {"owner": {"reputation": 62191, "user_id": 3993662, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/20ce5cf17ddc888ba9d7b5e639f040b2?s=128&d=identicon&r=PG&f=1", "display_name": "baao", "link": "https://stackoverflow.com/users/3993662/baao"}, "edited": false, "score": 0, "creation_date": 1530731156, "post_id": 51179586, "comment_id": 89341781, "body": "Just do it like in my answer. @major"}, {"owner": {"reputation": 73287, "user_id": 3874623, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/6df0aa136ee42f4ea24ef08b7c348e7a?s=128&d=identicon&r=PG&f=1", "display_name": "Mark", "link": "https://stackoverflow.com/users/3874623/mark"}, "edited": false, "score": 1, "creation_date": 1530731196, "post_id": 51179586, "comment_id": 89341798, "body": "No, but you can use brackets: <code>obj[&#39;child-education&#39;]</code>. Probably a better option than telling your client something is impossible and stupid that isn&#39;t."}, {"owner": {"reputation": 388, "user_id": 7520423, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/3169883cd5b56acdf3d9d584a8d9bf1f?s=128&d=identicon&r=PG", "display_name": "Major Sam", "link": "https://stackoverflow.com/users/7520423/major-sam"}, "edited": false, "score": 1, "creation_date": 1530731686, "post_id": 51179586, "comment_id": 89341907, "body": "Managed it using <code>(...)anim[0][&#39;child-education&#39;][0][&#39;Kid Stories&#39;][0]</code>. Thank all for your time and patience."}], "answers": [{"comments": [{"owner": {"reputation": 388, "user_id": 7520423, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/3169883cd5b56acdf3d9d584a8d9bf1f?s=128&d=identicon&r=PG", "display_name": "Major Sam", "link": "https://stackoverflow.com/users/7520423/major-sam"}, "edited": false, "score": 0, "creation_date": 1530731268, "post_id": 51179632, "comment_id": 89341817, "body": "Thanks for your time. This JSON is already parsed in the API, so there&#39;s no need to stringify it and then parse it again. My only issue is trying to access the nested arrays with hyphens and spaces."}, {"owner": {"reputation": 62191, "user_id": 3993662, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/20ce5cf17ddc888ba9d7b5e639f040b2?s=128&d=identicon&r=PG&f=1", "display_name": "baao", "link": "https://stackoverflow.com/users/3993662/baao"}, "reply_to_user": {"reputation": 388, "user_id": 7520423, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/3169883cd5b56acdf3d9d584a8d9bf1f?s=128&d=identicon&r=PG", "display_name": "Major Sam", "link": "https://stackoverflow.com/users/7520423/major-sam"}, "edited": false, "score": 1, "creation_date": 1530731304, "post_id": 51179632, "comment_id": 89341829, "body": "Cool. Then don&#39;t parse it. @major The rest is already explained in the answer as well"}], "tags": [], "owner": {"reputation": 62191, "user_id": 3993662, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/20ce5cf17ddc888ba9d7b5e639f040b2?s=128&d=identicon&r=PG&f=1", "display_name": "baao", "link": "https://stackoverflow.com/users/3993662/baao"}, "is_accepted": true, "score": 0, "last_activity_date": 1530730928, "creation_date": 1530730928, "answer_id": 51179632, "question_id": 51179586, "link": "https://stackoverflow.com/questions/51179586/iterating-through-nested-arrays-with-hyphen-in-object-name/51179632#51179632", "title": "Iterating through nested arrays with hyphen in object name", "body": "<p>You can parse that JSON string like any JSON string, using <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/JSON/parse\" rel=\"nofollow noreferrer\">JSON.parse()</a></p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>let str = \"{\\n\" +\r\n  \"    \\\"business\\\":\\n\" +\r\n  \"    [\\n\" +\r\n  \"        {\\n\" +\r\n  \"            \\\"anim\\\":\\n\" +\r\n  \"            [\\n\" +\r\n  \"                {\\n\" +\r\n  \"                    \\\"child-education\\\": [\\n\" +\r\n  \"                        {\\n\" +\r\n  \"                            \\\"Kid Stories\\\": [\\n\" +\r\n  \"\\n\" +\r\n  \"                                {\\n\" +\r\n  \"                                    \\\"id\\\": 1,\\n\" +\r\n  \"                                    \\\"name\\\": \\\"Three Little Pinkies\\\",\\n\" +\r\n  \"                                    \\\"url\\\": \\\"#\\\",\\n\" +\r\n  \"                                    \\\"description\\\": \\\"shows how the world is beautiful\\\"\\n\" +\r\n  \"                                }]}]}]}]}\" +\r\n  \"\"\r\nconsole.log(JSON.parse(str));</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>After that, you can use <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Property_Accessors\" rel=\"nofollow noreferrer\">bracket notation</a> to access any property names</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>let str = \"{\\n\" +\r\n  \"    \\\"business\\\":\\n\" +\r\n  \"    [\\n\" +\r\n  \"        {\\n\" +\r\n  \"            \\\"anim\\\":\\n\" +\r\n  \"            [\\n\" +\r\n  \"                {\\n\" +\r\n  \"                    \\\"child-education\\\": [\\n\" +\r\n  \"                        {\\n\" +\r\n  \"                            \\\"Kid Stories\\\": [\\n\" +\r\n  \"\\n\" +\r\n  \"                                {\\n\" +\r\n  \"                                    \\\"id\\\": 1,\\n\" +\r\n  \"                                    \\\"name\\\": \\\"Three Little Pinkies\\\",\\n\" +\r\n  \"                                    \\\"url\\\": \\\"#\\\",\\n\" +\r\n  \"                                    \\\"description\\\": \\\"shows how the world is beautiful\\\"\\n\" +\r\n  \"                                }]}]}]}]}\" +\r\n  \"\"\r\nconst obj = JSON.parse(str);\r\n\r\nconsole.log(obj.business[0].anim[0]['child-education'][0]['Kid Stories'][0]);</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 388, "user_id": 7520423, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/3169883cd5b56acdf3d9d584a8d9bf1f?s=128&d=identicon&r=PG", "display_name": "Major Sam", "link": "https://stackoverflow.com/users/7520423/major-sam"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 91, "favorite_count": 0, "accepted_answer_id": 51179632, "answer_count": 1, "score": 1, "last_activity_date": 1530730928, "creation_date": 1530730643, "question_id": 51179586, "link": "https://stackoverflow.com/questions/51179586/iterating-through-nested-arrays-with-hyphen-in-object-name", "title": "Iterating through nested arrays with hyphen in object name", "body": "<p>First of all, I know naming array objects with hyphens is completely incorrect, and I'm not the creator of this. I need to call an API within a service, and many objects are named improperly, like <code>{\"children-education\": [</code> and <code>{ \"Kid Stories\": [</code>.</p>\n\n<p>I have tried assigning the name to a variable like <code>let edChild = \"child-education\"</code>and then parsing it to an object, like <code>edChild = JSON.parse(edChild)</code>to no avail. I really have no idea of what I'm doing, nor even if it's possible to do so.</p>\n\n<p>I kinda have the option to call my customer and kindly ask his team to rename the objects to something less... stupid than special characters than I can't possible call in Typescript, but I'd like to learn if there's a way to surpass this in future occasions or if they can't rename it.</p>\n\n<p>Here's an example of the JSON I'm trying to iterate through:</p>\n\n<pre><code>{\n    \"business\":\n    [\n        {\n            \"anim\":\n            [\n                {\n                    \"child-education\": [\n                        {\n                            \"Kid Stories\": [\n\n                                {\n                                    \"id\": 1,\n                                    \"name\": \"Three Little Pinkies\",\n                                    \"url\": \"#\",\n                                    \"description\": \"shows how the world is beautiful\"\n                                },\n                  (... and so on)\n</code></pre>\n\n<p>Thanks in advance.</p>\n"}, {"tags": ["node.js", "typescript"], "answers": [{"tags": [], "owner": {"reputation": 25774, "user_id": 1048479, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/a9b214fab73f4c18ded501d976a2294c?s=128&d=identicon&r=PG", "display_name": "Nick Tomlin", "link": "https://stackoverflow.com/users/1048479/nick-tomlin"}, "is_accepted": true, "score": 0, "last_activity_date": 1533765538, "creation_date": 1533765538, "answer_id": 51756232, "question_id": 51179559, "link": "https://stackoverflow.com/questions/51179559/supporting-node-and-es-module-style-imports-for-typescript-package/51756232#51756232", "title": "Supporting node and es-module style imports for typescript package", "body": "<p>I didn't get a great answer to this so I ended up using <code>export =</code> and <code>import = require</code></p>\n\n<pre><code>// index.ts\nfunction myModule () {}\n\nexport = myModule\n</code></pre>\n\n<p>Node users can use a regular <code>require</code> and typescript users can use a mix of <code>import</code> and require to get type safety:</p>\n\n<pre><code>// consumer.ts\nimport myModule = require('my-module')\n</code></pre>\n\n<p>Which is a pattern I gleaned from the<a href=\"https://www.typescriptlang.org/docs/handbook/modules.html#export--and-import--require\" rel=\"nofollow noreferrer\">Typescript docs</a>:</p>\n\n<blockquote>\n  <p>When exporting a module using <code>export =</code>, TypeScript-specific <code>import module = require(\"module\")</code> must be used to import the module.</p>\n</blockquote>\n\n<p>You can see this \"live\" in my <a href=\"https://github.com/NickTomlin/protractor-flake/blob/master/src/index.ts#L94\" rel=\"nofollow noreferrer\">protractor-flake</a> module.</p>\n"}], "owner": {"reputation": 25774, "user_id": 1048479, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/a9b214fab73f4c18ded501d976a2294c?s=128&d=identicon&r=PG", "display_name": "Nick Tomlin", "link": "https://stackoverflow.com/users/1048479/nick-tomlin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 85, "favorite_count": 0, "accepted_answer_id": 51756232, "answer_count": 1, "score": 0, "last_activity_date": 1533765538, "creation_date": 1530730443, "question_id": 51179559, "link": "https://stackoverflow.com/questions/51179559/supporting-node-and-es-module-style-imports-for-typescript-package", "title": "Supporting node and es-module style imports for typescript package", "body": "<p>I have a project that I am converting from JS (transpiled via babel) to Typescript. The module consists of a single function and uses an <code>module.exports = myFunction</code> to set it as the default.</p>\n\n<p>The issue that I've run into is that I'd like to preserve <code>require</code> format for <code>node</code> users:</p>\n\n<pre><code>const myModule = require('my-module')\n</code></pre>\n\n<p>still allow es module aware users (typescript/babel) to <code>import</code>:</p>\n\n<pre><code>import myModule from 'my-module'\n</code></pre>\n\n<p>I've seen the <a href=\"https://github.com/alexjoverm/typescript-library-starter\" rel=\"nofollow noreferrer\"><code>typescript-library-starter</code></a> which has a separate build process using <code>rollup</code> to emit UMDified version of the module that translates the <code>module.exports.default = myModule</code> to a node style <code>module.exports = myModule</code> but I'd prefer not to have to include an entirely separate build system for server side code (this is server only, so there's no great need for the tree-shaking/compression that rollup provides).</p>\n\n<p>Currently, I can do something like the following</p>\n\n<pre><code>export = myFunction\n</code></pre>\n\n<p>which will support the <code>const myModule = require('my-module')</code> use case, but means that TS/es module users will need to do something like:</p>\n\n<pre><code>import * as myModule from 'my-module'\n</code></pre>\n\n<p>or drop back to a simple <code>const myModule = require('my-module')</code> (which removes the benefits of typescript). </p>\n\n<p>Is there a pattern to distribute my module that works for both node style requires and es-module style imports?</p>\n"}, {"tags": ["typescript", "promise", "visual-studio-code", "vscode-extensions"], "comments": [{"owner": {"reputation": 5588, "user_id": 6925187, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/EiK3N.jpg?s=128&g=1", "display_name": "HaaLeo", "link": "https://stackoverflow.com/users/6925187/haaleo"}, "edited": false, "score": 0, "creation_date": 1530737015, "post_id": 51179496, "comment_id": 89343491, "body": "Adding the keyword <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/await\" rel=\"nofollow noreferrer\"><code>await</code></a> before <code>askUserForValue</code> should fix it."}], "answers": [{"tags": [], "owner": {"reputation": 679, "user_id": 8857999, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/bf4266c9703ec15deb11045cc0015ef2?s=128&d=identicon&r=PG", "display_name": "Eldy", "link": "https://stackoverflow.com/users/8857999/eldy"}, "is_accepted": false, "score": 0, "last_activity_date": 1530898099, "creation_date": 1530898099, "answer_id": 51215234, "question_id": 51179496, "link": "https://stackoverflow.com/questions/51179496/ask-a-user-for-several-values-in-vscode-extension/51215234#51215234", "title": "Ask a user for several values in VSCode extension", "body": "<p>HaaLeo suggestion was helpful, but it didn't exactly work as mentionned.\nThis is how I did it:       </p>\n\n<pre><code>askUserForValues().then(value =&gt; {\n    performAction(value);\n});\n\nasync function askUserForIrcInstance() {\n    var firstValue = await askUserForValue(/*something*/)\n    var secondValue = await askUserForValue(/*something*/)\n    return new myObject(firstValue, secondValue );\n}\n</code></pre>\n"}], "owner": {"reputation": 679, "user_id": 8857999, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/bf4266c9703ec15deb11045cc0015ef2?s=128&d=identicon&r=PG", "display_name": "Eldy", "link": "https://stackoverflow.com/users/8857999/eldy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 206, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1530898099, "creation_date": 1530730080, "last_edit_date": 1530745040, "question_id": 51179496, "link": "https://stackoverflow.com/questions/51179496/ask-a-user-for-several-values-in-vscode-extension", "title": "Ask a user for several values in VSCode extension", "body": "<p>I am developing a VSCode extension, and I would like to do the following thing:</p>\n\n<ul>\n<li>Ask user for a first value (through <code>window.showInputBox()</code></li>\n<li>Ask user for a second value</li>\n<li>Perform an action using the first and second value</li>\n</ul>\n\n<p>I came up with a quick and dirty solution:</p>\n\n<pre><code>function askForFirstValue() { \n\n  window.showInputBox(options).then(value =&gt; { \n    firstValue = value; \n    askForSecondValue(); \n  }); \n} \n\nfunction askForSecondValue() { \n\n  window.showInputBox(options).then(value =&gt; { \n    secondValue = value; \n    performAction(firstValue, secondValue);\n  }); \n} \n</code></pre>\n\n<p>Obviously, this is less than ideal. I am trying to implement a nicer solution with a more generic function:</p>\n\n<pre><code>function askUserForValue(prompt: string, placeholder: string) {\n    let options: InputBoxOptions = {\n        prompt: prompt,\n        placeHolder: placeholder\n    }\n\n    return window.showInputBox(options)\n}\n</code></pre>\n\n<p>Then I would do:</p>\n\n<pre><code>var firstValue = null\nvar secondValue = null\nfirstValue = askUserForValue(/*something*/)\nsecondValue = askUserForValue(/*something*/)\nperformAction(firstValue, secondValue);\n</code></pre>\n\n<p>But when I do this, the prompt close immediatly after opening and the <code>performAction</code> function is called as <code>firstValue</code> and <code>secondValue</code> are still <code>null</code>.</p>\n\n<p>I understand that this has to do with how promises work, and I tried several way of handling those promises, but I am new at Javascript/Typescript and I feel like I am going nowhere.</p>\n"}, {"tags": ["javascript", "reactjs", "typescript", "visual-studio-code", "web-frontend"], "answers": [{"tags": [], "owner": {"reputation": 5917, "user_id": 375148, "user_type": "registered", "accept_rate": 44, "profile_image": "https://i.stack.imgur.com/jZJi4.jpg?s=128&g=1", "display_name": "deerawan", "link": "https://stackoverflow.com/users/375148/deerawan"}, "is_accepted": false, "score": 2, "last_activity_date": 1530742996, "creation_date": 1530742996, "answer_id": 51181369, "question_id": 51178204, "link": "https://stackoverflow.com/questions/51178204/how-to-show-js-file-under-ts-file-in-vs-code/51181369#51181369", "title": "How to show .js file under .ts file in VS Code?", "body": "<p>I'm a VSCode Typescript user. I've never seen that feature is available in VSCode. One thing that I usually do is to hide its javascript files on the sidebar. </p>\n\n<pre><code>{\n    \"files.exclude\": {\n        \"**/.git\": true,\n        \"**/.DS_Store\": true,\n        \"**/*.js\": {\"when\": \"$(basename).ts\"}\n    }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1297, "user_id": 3051475, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/39f6af8b3f78cbbdcae08a0e7387b131?s=128&d=identicon&r=PG&f=1", "display_name": "Farooq Hanif", "link": "https://stackoverflow.com/users/3051475/farooq-hanif"}, "is_accepted": true, "score": 3, "last_activity_date": 1530886168, "last_edit_date": 1530886168, "creation_date": 1530766454, "answer_id": 51183611, "question_id": 51178204, "link": "https://stackoverflow.com/questions/51178204/how-to-show-js-file-under-ts-file-in-vs-code/51183611#51183611", "title": "How to show .js file under .ts file in VS Code?", "body": "<p>I had a tsconfig file in my application's folder, in which </p>\n\n<pre><code>\"outDir\": \"build/dist\" \n</code></pre>\n\n<p>was causing generated files to go into build/dist folder. Removing this for tsconfig.json file will place generated files along with original .ts files in VS Code.</p>\n"}], "owner": {"reputation": 1297, "user_id": 3051475, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/39f6af8b3f78cbbdcae08a0e7387b131?s=128&d=identicon&r=PG&f=1", "display_name": "Farooq Hanif", "link": "https://stackoverflow.com/users/3051475/farooq-hanif"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 872, "favorite_count": 0, "accepted_answer_id": 51183611, "answer_count": 2, "score": 1, "last_activity_date": 1553732608, "creation_date": 1530723379, "last_edit_date": 1553732608, "question_id": 51178204, "link": "https://stackoverflow.com/questions/51178204/how-to-show-js-file-under-ts-file-in-vs-code", "title": "How to show .js file under .ts file in VS Code?", "body": "<p>I am using VS Code for an application in which I am using Reactjs and TypeScript. I have used </p>\n\n<pre><code>create-react-app-typescript\n</code></pre>\n\n<p>as a template to set up my project. Now when I run the build task from VS Code, I can see a build folder and the generated js files there as well as the generated source files.</p>\n\n<p>I am wondering if I can see generated .js file under its .ts version in VS Code - like you can see those together in Visual Studio ?</p>\n"}, {"tags": ["javascript", "angular", "typescript", "angular-routing"], "comments": [{"owner": {"reputation": 1283, "user_id": 7275319, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Rhr5z.jpg?s=128&g=1", "display_name": "Michael Sorensen", "link": "https://stackoverflow.com/users/7275319/michael-sorensen"}, "edited": false, "score": 0, "creation_date": 1530722936, "post_id": 51178052, "comment_id": 89338776, "body": "@JonasLochmann This is true but, it is always good to try and make your users aware when they can&#39;t do anything because they&#39;re not authenticated. At least imo. To that end it&#39;s usually good to have front and back end security."}, {"owner": {"reputation": 28589, "user_id": 8558186, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8af66bb1af6d1875a2dd7be9dd1c8d2b?s=128&d=identicon&r=PG&f=1", "display_name": "Eliseo", "link": "https://stackoverflow.com/users/8558186/eliseo"}, "edited": false, "score": 0, "creation_date": 1530725180, "post_id": 51178052, "comment_id": 89339680, "body": "Are you asking about redirecting routes? <a href=\"https://angular.io/guide/router#redirecting-routes\" rel=\"nofollow noreferrer\">angular.io/guide/router#redirecting-routes</a>"}, {"owner": {"reputation": 9153, "user_id": 6570042, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FlJAF.jpg?s=128&g=1", "display_name": "Gabor Lengyel", "link": "https://stackoverflow.com/users/6570042/gabor-lengyel"}, "edited": false, "score": 0, "creation_date": 1530725506, "post_id": 51178052, "comment_id": 89339804, "body": "This may be a valid feature request, it&#39;s probably a nice UX feature in some applications. But the security tag should be removed, because this has nothing to do with security, and will have zero effect on the security of the application (if not a false sense of security). :)"}, {"owner": {"reputation": 1283, "user_id": 7275319, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Rhr5z.jpg?s=128&g=1", "display_name": "Michael Sorensen", "link": "https://stackoverflow.com/users/7275319/michael-sorensen"}, "edited": false, "score": 0, "creation_date": 1530725594, "post_id": 51178052, "comment_id": 89339841, "body": "Consider it done."}, {"owner": {"reputation": 1283, "user_id": 7275319, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Rhr5z.jpg?s=128&g=1", "display_name": "Michael Sorensen", "link": "https://stackoverflow.com/users/7275319/michael-sorensen"}, "reply_to_user": {"reputation": 28589, "user_id": 8558186, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8af66bb1af6d1875a2dd7be9dd1c8d2b?s=128&d=identicon&r=PG&f=1", "display_name": "Eliseo", "link": "https://stackoverflow.com/users/8558186/eliseo"}, "edited": false, "score": 0, "creation_date": 1530725773, "post_id": 51178052, "comment_id": 89339914, "body": "@Eliseo yes I am specifically this portion of that guide. <a href=\"https://angular.io/guide/router#canload-guard-guarding-unauthorized-loading-of-feature-modules\" rel=\"nofollow noreferrer\">angular.io/guide/&hellip;</a>. My whole app requires the user to be authenticated to do anything so I want to always redirect them to /login if they are not logged in not just set of admin components."}, {"owner": {"reputation": 11587, "user_id": 2651006, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/21db98493eb83498d8d0443c3fa3134f?s=128&d=identicon&r=PG", "display_name": "Ploppy", "link": "https://stackoverflow.com/users/2651006/ploppy"}, "edited": false, "score": 0, "creation_date": 1530725953, "post_id": 51178052, "comment_id": 89339999, "body": "by root, do you mean the root url <code>&#47;</code> or root component? If you need to guard any component, create conditions in your <code>ngOnInit</code> method to reroute the user."}], "answers": [{"comments": [{"owner": {"reputation": 1283, "user_id": 7275319, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Rhr5z.jpg?s=128&g=1", "display_name": "Michael Sorensen", "link": "https://stackoverflow.com/users/7275319/michael-sorensen"}, "edited": false, "score": 1, "creation_date": 1530727413, "post_id": 51178741, "comment_id": 89340478, "body": "I tried your first solution and it worked exactly as I imagined. Thanks! Rest assured all back end calls are secured so no data is displayed without validation :)"}], "tags": [], "owner": {"reputation": 3384, "user_id": 3342835, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/7vBYI.jpg?s=128&g=1", "display_name": "li x", "link": "https://stackoverflow.com/users/3342835/li-x"}, "is_accepted": true, "score": 2, "last_activity_date": 1530726497, "last_edit_date": 1530726497, "creation_date": 1530726141, "answer_id": 51178741, "question_id": 51178052, "link": "https://stackoverflow.com/questions/51178052/is-it-possible-to-guard-the-entirety-of-an-angular-app/51178741#51178741", "title": "Is it possible to guard the entirety of an Angular app?", "body": "<p>Inside your app root component in the constructor you could use the router to catch the instance <code>NavigationStart</code> from the router. </p>\n\n<pre><code>export class AppComponent {\n\n    constructor(private router: Router) {\n\n        router.events.subscribe( (event: Event) =&gt; {\n\n            if (event instanceof NavigationStart) {\n                //Check either LocalStorage or cookies for value\n                  if(!localStorage.GetItem('hasLoaded')){\n                     this.router.navigate['./login']\n                  }\n\n            }\n\n        });\n\n    }\n}\n</code></pre>\n\n<p>Another option is a CanDeactiveRoute in your routing file</p>\n\n<pre><code>import { Injectable }    from '@angular/core';\nimport { CanDeactivate } from '@angular/router';\nimport { Observable }    from 'rxjs';\n\nexport interface CanComponentDeactivate {\n canDeactivate: () =&gt; Observable&lt;boolean&gt; | Promise&lt;boolean&gt; | boolean;\n}\n\n@Injectable()\nexport class CanDeactivateGuard implements CanDeactivate&lt;CanComponentDeactivate&gt; {\n  canDeactivate(component: CanComponentDeactivate) {\n    return component.canDeactivate ? component.canDeactivate() : true;\n  }\n}\n</code></pre>\n\n<p>Using this check alongside localStorage is a good start, you could use something like server side sessions and a <code>HTTP Interceptor</code> alongside this also.</p>\n\n<hr>\n\n<p><strong>Be advised the user can disable this and it's not meant to obscure or hide sensitive data. Do that on a server using secure transmission mechanisms, you've been warned.</strong></p>\n"}, {"comments": [{"owner": {"reputation": 1283, "user_id": 7275319, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Rhr5z.jpg?s=128&g=1", "display_name": "Michael Sorensen", "link": "https://stackoverflow.com/users/7275319/michael-sorensen"}, "edited": false, "score": 0, "creation_date": 1530727481, "post_id": 51178846, "comment_id": 89340493, "body": "I wanted to add that this is a valid solution but, as in the question I didn&#39;t want to make all my components children of a main wrapper component simply for authentication."}, {"owner": {"reputation": 452, "user_id": 5595366, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7ebec8aa235f8d6a9a405d23c04d42f1?s=128&d=identicon&r=PG&f=1", "display_name": "Manoj", "link": "https://stackoverflow.com/users/5595366/manoj"}, "reply_to_user": {"reputation": 1283, "user_id": 7275319, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Rhr5z.jpg?s=128&g=1", "display_name": "Michael Sorensen", "link": "https://stackoverflow.com/users/7275319/michael-sorensen"}, "edited": false, "score": 0, "creation_date": 1530753452, "post_id": 51178846, "comment_id": 89346791, "body": "componentless route means route without component. This is exactly what you should use when you don&#39;t want a wrapper component."}], "tags": [], "owner": {"reputation": 452, "user_id": 5595366, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7ebec8aa235f8d6a9a405d23c04d42f1?s=128&d=identicon&r=PG&f=1", "display_name": "Manoj", "link": "https://stackoverflow.com/users/5595366/manoj"}, "is_accepted": false, "score": 2, "last_activity_date": 1530726769, "creation_date": 1530726769, "answer_id": 51178846, "question_id": 51178052, "link": "https://stackoverflow.com/questions/51178052/is-it-possible-to-guard-the-entirety-of-an-angular-app/51178846#51178846", "title": "Is it possible to guard the entirety of an Angular app?", "body": "<p>You can create a componentless route in the same level as login and move everything other than login inside that route. Then add the guard to that route.</p>\n\n<pre><code>        const routes: Routes = [\n      {\n        path: \"login\",\n        component: LoginComponent\n      },\n      {\n        path: \"\",\n        canActivate: [AuthGuardService],\n        children: [\n          {\n            path: \"test\",\n            component: TestComponent\n          },\n          {\n            path: \"protected\",\n            canActivate: [AuthGuardService],\n            component: ProtectedComponent\n          },\n          {\n            path: \"alsoprotected/:id\",\n            component: AlsoProtectedComponent,\n            canActivate: [AuthGuardService],\n            children: [\n              {path: \"child1\", component: ChildOneComponent},\n              {path: \"child2\", component: ChildTwoComponent},\n              {path: \"child3\", component: ChildThreeComponent},\n              {path: \"child4\", component: ChildFourComponent},\n              {path: \"child5\", component: ChildFiveComponent},\n              {path: \"child6\", component: ChildSixComponent},\n              {path: \"child7\", component: ChildSevenComponent}\n            ]\n          },\n          {\n            path: \"protectedsettings\",\n            canActivate: [AuthGuardService],\n            component: SettingsComponent\n          }\n        ]\n      }\n    ];\n</code></pre>\n\n<p>check this <a href=\"http://vsavkin.tumblr.com/post/146722301646/angular-router-empty-paths-componentless-routes\" rel=\"nofollow noreferrer\">link</a> for more info</p>\n"}], "owner": {"reputation": 1283, "user_id": 7275319, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Rhr5z.jpg?s=128&g=1", "display_name": "Michael Sorensen", "link": "https://stackoverflow.com/users/7275319/michael-sorensen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 958, "favorite_count": 0, "accepted_answer_id": 51178741, "answer_count": 2, "score": 0, "last_activity_date": 1530726769, "creation_date": 1530722686, "last_edit_date": 1530725562, "question_id": 51178052, "link": "https://stackoverflow.com/questions/51178052/is-it-possible-to-guard-the-entirety-of-an-angular-app", "title": "Is it possible to guard the entirety of an Angular app?", "body": "<p>I have my application set up where many of my components are protected. However, the user is still able to access the main page \"/\". I was wondering if it would be possible to redirect the user to /login if they are not authenticated without making ALL of my components children of whatever component I have on \"/\". I'll include a modified version of what I have below:</p>\n\n<pre><code>const routes: Routes = [\n  {\n    path: \"login\",\n    component: LoginComponent\n  },\n  {\n    path: \"test\",\n    component: TestComponent\n  },\n  {\n    path: \"protected\",\n    canActivate: [AuthGuardService],\n    component: ProtectedComponent\n  },\n  {\n    path: \"alsoprotected/:id\",\n    component: AlsoProtectedComponent,\n    canActivate: [AuthGuardService],\n    children: [\n      { path: \"child1\", component: ChildOneComponent},\n      { path: \"child2\", component: ChildTwoComponent},\n      { path: \"child3\", component: ChildThreeComponent },\n      { path: \"child4\", component: ChildFourComponent },\n      { path: \"child5\", component: ChildFiveComponent },\n      { path: \"child6\", component: ChildSixComponent },\n      { path: \"child7\", component: ChildSevenComponent }\n    ]\n  },\n  {\n    path: \"protectedsettings\",\n    canActivate: [AuthGuardService],\n    component: SettingsComponent\n  }\n];\n</code></pre>\n\n<p>Is there some way to add my GuardService to my app-root component? </p>\n"}, {"tags": ["typescript", "generics"], "comments": [{"owner": {"reputation": 440, "user_id": 3506346, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/Ofem9.jpg?s=128&g=1", "display_name": "Alex Pyzhianov", "link": "https://stackoverflow.com/users/3506346/alex-pyzhianov"}, "edited": false, "score": 0, "creation_date": 1530721786, "post_id": 51177813, "comment_id": 89338281, "body": "Your <code>data</code> isn&#39;t really a constant, so <code>const</code> is pretty confusing"}, {"owner": {"reputation": 558, "user_id": 579745, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/28380b85b45836196ed513881a76d35d?s=128&d=identicon&r=PG", "display_name": "Ky6uk", "link": "https://stackoverflow.com/users/579745/ky6uk"}, "reply_to_user": {"reputation": 440, "user_id": 3506346, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/Ofem9.jpg?s=128&g=1", "display_name": "Alex Pyzhianov", "link": "https://stackoverflow.com/users/3506346/alex-pyzhianov"}, "edited": false, "score": 0, "creation_date": 1530721908, "post_id": 51177813, "comment_id": 89338332, "body": "@AlexeyPyzhianov that is acceptable for objects. Anyway updated to <code>let</code>."}], "answers": [{"comments": [{"owner": {"reputation": 558, "user_id": 579745, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/28380b85b45836196ed513881a76d35d?s=128&d=identicon&r=PG", "display_name": "Ky6uk", "link": "https://stackoverflow.com/users/579745/ky6uk"}, "edited": false, "score": 0, "creation_date": 1530723992, "post_id": 51178099, "comment_id": 89339198, "body": "Hmm. That&#39;s strange. I thought I tried all of simple generics like that. Thanks!"}], "tags": [], "owner": {"reputation": 8403, "user_id": 4244993, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/82WCd.jpg?s=128&g=1", "display_name": "jmattheis", "link": "https://stackoverflow.com/users/4244993/jmattheis"}, "is_accepted": true, "score": 3, "last_activity_date": 1530722864, "creation_date": 1530722864, "answer_id": 51178099, "question_id": 51177813, "link": "https://stackoverflow.com/questions/51177813/how-to-bound-types-inside-function-arguments/51178099#51178099", "title": "How to bound types inside function arguments", "body": "<p>Add a generic which can be any key of <code>Data</code> and then get the type of K with <code>Data[K]</code>.</p>\n\n<pre><code>function update&lt;K extends keyof Data&gt;(field: K, value: Data[K]) {\n   data[field] = value;\n}\n</code></pre>\n\n<p>with this 1 and 2 compile and 3, 4 and 5 throw a compile error.</p>\n"}], "owner": {"reputation": 558, "user_id": 579745, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/28380b85b45836196ed513881a76d35d?s=128&d=identicon&r=PG", "display_name": "Ky6uk", "link": "https://stackoverflow.com/users/579745/ky6uk"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 29, "favorite_count": 0, "accepted_answer_id": 51178099, "answer_count": 1, "score": 1, "last_activity_date": 1530729245, "creation_date": 1530721470, "last_edit_date": 1530729245, "question_id": 51177813, "link": "https://stackoverflow.com/questions/51177813/how-to-bound-types-inside-function-arguments", "title": "How to bound types inside function arguments", "body": "<p>Is it possible to check types of an one argument based on an other argument in functions? There is an example:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>interface Data {\n  id?: number;\n  name?: string;\n}\n\nlet data : Data = {};\n\n// have no idea how to strict \"value\" argument\nfunction update(field : keyof Data, value) {\n  data[field] = value;\n}\n\nupdate('id', 0);             // [1] ok\nupdate('name', 'foo');       // [2] ok\nupdate('id', 'some string'); // [3] FAIL (\"id\" must be a number)\nupdate('name', 123);         // [4] FAIL (\"name\" must be a string)\nupdate('other', 123);        // [5] FAIL (\"other\" isn't possible argument)\n</code></pre>\n\n<p>I am not sure it is possible to do that way. In the example only call number <code>[5]</code> will fail.</p>\n"}, {"tags": ["angular", "typescript"], "comments": [{"owner": {"reputation": 748, "user_id": 1564103, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/2adf5e98298b40793a113669b71711d2?s=128&d=identicon&r=PG", "display_name": "Smiter", "link": "https://stackoverflow.com/users/1564103/smiter"}, "edited": false, "score": 0, "creation_date": 1530721520, "post_id": 51177703, "comment_id": 89338178, "body": "You are changing your date formats to strings e.g. &quot;Wed Jul 04 2018&quot; and then trying to see if one is larger than the other ? This is incorrect. Keep the Date values so you can compare them, or convert them to timestamps so one will be larger than the other. <a href=\"https://stackoverflow.com/questions/9873197/convert-date-to-timestamp-in-javascript\" title=\"convert date to timestamp in javascript\">stackoverflow.com/questions/9873197/&hellip;</a>"}, {"owner": {"reputation": 93, "user_id": 4082763, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c855b1f6b5d4ceb7f50a93bc538f99ce?s=128&d=identicon&r=PG&f=1", "display_name": "sAntd", "link": "https://stackoverflow.com/users/4082763/santd"}, "reply_to_user": {"reputation": 748, "user_id": 1564103, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/2adf5e98298b40793a113669b71711d2?s=128&d=identicon&r=PG", "display_name": "Smiter", "link": "https://stackoverflow.com/users/1564103/smiter"}, "edited": false, "score": 0, "creation_date": 1530721929, "post_id": 51177703, "comment_id": 89338341, "body": "@Smiter Thanks a lot for showing me the mistake."}], "answers": [{"comments": [{"owner": {"reputation": 93, "user_id": 4082763, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c855b1f6b5d4ceb7f50a93bc538f99ce?s=128&d=identicon&r=PG&f=1", "display_name": "sAntd", "link": "https://stackoverflow.com/users/4082763/santd"}, "edited": false, "score": 0, "creation_date": 1530722074, "post_id": 51177799, "comment_id": 89338405, "body": "Thanks a lot for for the answer and it worked for me."}], "tags": [], "owner": {"reputation": 5927, "user_id": 494560, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/F7dQD.jpg?s=128&g=1", "display_name": "jcroll", "link": "https://stackoverflow.com/users/494560/jcroll"}, "is_accepted": true, "score": 4, "last_activity_date": 1530721419, "creation_date": 1530721419, "answer_id": 51177799, "question_id": 51177703, "link": "https://stackoverflow.com/questions/51177703/comparing-dates-on-typescript-angular-4/51177799#51177799", "title": "Comparing dates on Typescript / Angular 4", "body": "<p>You can compare date objects without casting them as strings. Try:</p>\n\n<pre><code>for(let k = 0; k &lt; this.bookingDetailsArrayRealObject.length; k++){\n        let dateCheckOut = this.bookingDetailsArrayRealObject[k].package.chackout;\n        let dateToBeCheckOut = new Date(dateCheckOut);\n        let today = new Date();\n        //let today_test = new Date();\n        if(this.bookingDetailsArrayRealObject[k].status){\n          if(dateToBeCheckOut &lt; today){\n            this.bookingIdsToBeUpdated.push(this.bookingDetailsArrayRealObject[k]._id);\n            window.alert('true');\n            console.log(today.toDateString());\n            console.log(dateToBeCheckOut.toDateString());\n            console.log(this.bookingDetailsArrayRealObject[k]);\n          }\n        }\n      }\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1501, "user_id": 7998781, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UYWqK.jpg?s=128&g=1", "display_name": "JanRecker", "link": "https://stackoverflow.com/users/7998781/janrecker"}, "is_accepted": false, "score": 1, "last_activity_date": 1530728038, "creation_date": 1530728038, "answer_id": 51179107, "question_id": 51177703, "link": "https://stackoverflow.com/questions/51177703/comparing-dates-on-typescript-angular-4/51179107#51179107", "title": "Comparing dates on Typescript / Angular 4", "body": "<p>Just a guess, did you check the timezone of the date objects at runtime?</p>\n\n<p>When i had to handle local (browser) date/time and database (server) date/times i very often had the problem of different timezones.</p>\n\n<p>An example:\nThe database sends a date (in UTC), in the format \"20190621T00:00:00\" (ISO-8601 conform but without timezone information)\nI transfered that information with Date(\"20190621T00:00:00\") into a Date object.</p>\n\n<p>Now the fun started, because my computer was NOT in the UTC Timezone but in +02:00. And \"Date()\" assumes the current timezone, if no timezone is delivered.</p>\n\n<p>As a result, my Date-Object then represented the date/time \"20190621T00:00:00+02:00\".\nAnd that\u00b4s a bit different then \"20190621T00:00:00+00:00\" what may database wanted to give me.</p>\n\n<p>So i had database log entries that came directly from the future :-)</p>\n\n<p>Perhaps</p>\n\n<pre><code>let databaseDate = new Date(Date.UTC(sourceDate));\nlet localDate = new Date(Date.UTC());\n</code></pre>\n\n<p>could help you?</p>\n\n<p>Warm regards</p>\n"}], "owner": {"reputation": 93, "user_id": 4082763, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c855b1f6b5d4ceb7f50a93bc538f99ce?s=128&d=identicon&r=PG&f=1", "display_name": "sAntd", "link": "https://stackoverflow.com/users/4082763/santd"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 22293, "favorite_count": 0, "accepted_answer_id": 51177799, "answer_count": 2, "score": 5, "last_activity_date": 1530728038, "creation_date": 1530721012, "question_id": 51177703, "link": "https://stackoverflow.com/questions/51177703/comparing-dates-on-typescript-angular-4", "title": "Comparing dates on Typescript / Angular 4", "body": "<p>I am trying to compare dated in <strong>typescript/angular 4</strong>. In my case, I assigned system date into a variable named 'today' and database date assigned into a variable named 'dateToBeCheckOut'. Then I compared dates using if statement, In my case I expected to get the bookings which having checkout date is <strong>less than(before)</strong> today's date. But I get unexpected result instead of getting the expected result. I attached my code bellow and expect someone's help for understanding why it happens.</p>\n\n<p>Here is the code</p>\n\n<pre><code>for(let k = 0; k &lt; this.bookingDetailsArrayRealObject.length; k++){\n        let dateCheckOut = this.bookingDetailsArrayRealObject[k].package.chackout;\n        let dateToBeCheckOut = new Date(dateCheckOut);\n        let today = new Date(Date.parse(Date()));\n        //let today_test = new Date();\n        if(this.bookingDetailsArrayRealObject[k].status){\n          if(dateToBeCheckOut.toDateString() &lt; today.toDateString()){\n            this.bookingIdsToBeUpdated.push(this.bookingDetailsArrayRealObject[k]._id);\n            window.alert('true');\n            console.log(today.toDateString());\n            console.log(dateToBeCheckOut.toDateString());\n            console.log(this.bookingDetailsArrayRealObject[k]);\n          }\n        }\n      }\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/RlHwA.png\" rel=\"noreferrer\">booking object from database</a></p>\n\n<p><a href=\"https://i.stack.imgur.com/LGIfx.png\" rel=\"noreferrer\">console result</a></p>\n\n<p>In console result, the 3rd one is unexpected according to the if statement. Any suggestion would be appreciated. </p>\n"}, {"tags": ["typescript"], "answers": [{"comments": [{"owner": {"reputation": 17761, "user_id": 701829, "user_type": "registered", "accept_rate": 44, "profile_image": "https://i.stack.imgur.com/iAg8E.jpg?s=128&g=1", "display_name": "Edmondo1984", "link": "https://stackoverflow.com/users/701829/edmondo1984"}, "edited": false, "score": 0, "creation_date": 1531299798, "post_id": 51178336, "comment_id": 89540063, "body": "Thank you, is there a reference about this I could read for learning?"}, {"owner": {"reputation": 8403, "user_id": 4244993, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/82WCd.jpg?s=128&g=1", "display_name": "jmattheis", "link": "https://stackoverflow.com/users/4244993/jmattheis"}, "reply_to_user": {"reputation": 17761, "user_id": 701829, "user_type": "registered", "accept_rate": 44, "profile_image": "https://i.stack.imgur.com/iAg8E.jpg?s=128&g=1", "display_name": "Edmondo1984", "link": "https://stackoverflow.com/users/701829/edmondo1984"}, "edited": false, "score": 0, "creation_date": 1531316532, "post_id": 51178336, "comment_id": 89551538, "body": "@Edmondo1984 you can read about declaration files in here <a href=\"https://www.typescriptlang.org/docs/handbook/declaration-files/introduction.html\" rel=\"nofollow noreferrer\">typescriptlang.org/docs/handbook/declaration-files/&hellip;</a> thats the only place to use declare"}], "tags": [], "owner": {"reputation": 8403, "user_id": 4244993, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/82WCd.jpg?s=128&g=1", "display_name": "jmattheis", "link": "https://stackoverflow.com/users/4244993/jmattheis"}, "is_accepted": true, "score": 4, "last_activity_date": 1530723991, "creation_date": 1530723991, "answer_id": 51178336, "question_id": 51177599, "link": "https://stackoverflow.com/questions/51177599/how-to-import-enum-defined-in-typescript/51178336#51178336", "title": "How to import enum defined in typescript?", "body": "<p>When using declare, typescript does <em>not</em> create any javascript code, it only implies that it already exists. With interfaces it all should work well, because they are just stripped at runtime. An enum on the other hand has actual string values like \"Good\".</p>\n\n<p>You can simply remove the declare keyword and it all should work.</p>\n\n<pre><code>module MyTypes {\n\n    export enum MyEnum {\n        GOOD = 'Good',\n        BAD = 'Bad',\n        UNKNOWN = '-'\n    }\n\n   export interface MyType1 {\n      myType1:string\n   }\n\n}\n\nexport default MyTypes;\n</code></pre>\n\n<p>FYI your enum in javascript would look like this: </p>\n\n<pre><code>export var MyEnum;\n(function (MyEnum) {\n    MyEnum[\"GOOD\"] = \"Good\";\n    MyEnum[\"BAD\"] = \"Bad\";\n    MyEnum[\"UNKNOWN\"] = \"-\";\n})(MyEnum || (MyEnum = {}));\n</code></pre>\n"}], "owner": {"reputation": 17761, "user_id": 701829, "user_type": "registered", "accept_rate": 44, "profile_image": "https://i.stack.imgur.com/iAg8E.jpg?s=128&g=1", "display_name": "Edmondo1984", "link": "https://stackoverflow.com/users/701829/edmondo1984"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2469, "favorite_count": 0, "accepted_answer_id": 51178336, "answer_count": 1, "score": 1, "last_activity_date": 1530723991, "creation_date": 1530720482, "question_id": 51177599, "link": "https://stackoverflow.com/questions/51177599/how-to-import-enum-defined-in-typescript", "title": "How to import enum defined in typescript?", "body": "<p>I have the following module defined in Typescript</p>\n\n<pre><code>declare module MyTypes {\n\n    export enum MyEnum {\n        GOOD = 'Good',\n        BAD = 'Bad',\n        UNKNOWN = '-'\n    }\n\n   export interface MyType1 {\n      myType1:string\n   }\n\n}\n\nexport default MyTypes;\n</code></pre>\n\n<p>In a separate file, I import it like so:</p>\n\n<pre><code>import MyTypes from '/my-types'\nimport MyType1 = MyTypes.MyType1\nimport MyEnum = MyTypes.MyEnum\n</code></pre>\n\n<p>When I refer in the code to <code>MyEnum.GOOD,</code> Chrome returns an exception on the console <code>MyTypes</code> is not defined. What is the appropriate way to import enums from modules in typescript?</p>\n"}, {"tags": ["angular", "typescript"], "comments": [{"owner": {"reputation": 59385, "user_id": 2630078, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UHzHh.png?s=128&g=1", "display_name": "Kirk Larkin", "link": "https://stackoverflow.com/users/2630078/kirk-larkin"}, "edited": false, "score": 0, "creation_date": 1530723102, "post_id": 51177253, "comment_id": 89338852, "body": "Please provide a <a href=\"https://stackoverflow.com/help/mcve\">MCVE</a> using e.g. <a href=\"https://stackblitz.com\" rel=\"nofollow noreferrer\">Stackblitz</a>. I&#39;ve created a simpler version of this that works as expected (with <code>true</code> and <code>false</code>)."}, {"owner": {"reputation": 2905, "user_id": 5310217, "user_type": "registered", "accept_rate": 63, "profile_image": "https://i.stack.imgur.com/V7V6f.jpg?s=128&g=1", "display_name": "k.vincent", "link": "https://stackoverflow.com/users/5310217/k-vincent"}, "reply_to_user": {"reputation": 59385, "user_id": 2630078, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UHzHh.png?s=128&g=1", "display_name": "Kirk Larkin", "link": "https://stackoverflow.com/users/2630078/kirk-larkin"}, "edited": false, "score": 0, "creation_date": 1530723889, "post_id": 51177253, "comment_id": 89339159, "body": "Sorry, If I understand you, you have created a demo for that on Stackbliz which works as it should be. Returns <code>true&#47;false</code>. I just can see a sample for an angular app start/basic."}, {"owner": {"reputation": 59385, "user_id": 2630078, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UHzHh.png?s=128&g=1", "display_name": "Kirk Larkin", "link": "https://stackoverflow.com/users/2630078/kirk-larkin"}, "edited": false, "score": 0, "creation_date": 1530723950, "post_id": 51177253, "comment_id": 89339181, "body": "No - I&#39;m suggesting <i>you</i> create a demo of your issue on Stackblitz as I am unable to reproduce your problem myself."}, {"owner": {"reputation": 2905, "user_id": 5310217, "user_type": "registered", "accept_rate": 63, "profile_image": "https://i.stack.imgur.com/V7V6f.jpg?s=128&g=1", "display_name": "k.vincent", "link": "https://stackoverflow.com/users/5310217/k-vincent"}, "reply_to_user": {"reputation": 59385, "user_id": 2630078, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UHzHh.png?s=128&g=1", "display_name": "Kirk Larkin", "link": "https://stackoverflow.com/users/2630078/kirk-larkin"}, "edited": false, "score": 0, "creation_date": 1530724029, "post_id": 51177253, "comment_id": 89339209, "body": "Ok, I&#39;ll try. Never have build a sample on Sblitz."}, {"owner": {"reputation": 59385, "user_id": 2630078, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UHzHh.png?s=128&g=1", "display_name": "Kirk Larkin", "link": "https://stackoverflow.com/users/2630078/kirk-larkin"}, "edited": false, "score": 0, "creation_date": 1530724067, "post_id": 51177253, "comment_id": 89339227, "body": "It doesn&#39;t have to be Stackblitz - You can create a Github repo or something else. We just need something that&#39;s complete and shows the problem."}, {"owner": {"reputation": 2905, "user_id": 5310217, "user_type": "registered", "accept_rate": 63, "profile_image": "https://i.stack.imgur.com/V7V6f.jpg?s=128&g=1", "display_name": "k.vincent", "link": "https://stackoverflow.com/users/5310217/k-vincent"}, "reply_to_user": {"reputation": 59385, "user_id": 2630078, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UHzHh.png?s=128&g=1", "display_name": "Kirk Larkin", "link": "https://stackoverflow.com/users/2630078/kirk-larkin"}, "edited": false, "score": 0, "creation_date": 1530725759, "post_id": 51177253, "comment_id": 89339908, "body": "Ok, here is the <a href=\"https://stackblitz.com/edit/angular-7lx7wc?file=app%2Fcheckbox%2Fcheckbox.component.ts\" rel=\"nofollow noreferrer\">Stackblitz demo</a>. Thee you can also find a part of code which is commented out and it&#39;s the one which works as expected, but it&#39;s not via child component. It&#39;s embedded directly in the main component."}, {"owner": {"reputation": 2905, "user_id": 5310217, "user_type": "registered", "accept_rate": 63, "profile_image": "https://i.stack.imgur.com/V7V6f.jpg?s=128&g=1", "display_name": "k.vincent", "link": "https://stackoverflow.com/users/5310217/k-vincent"}, "reply_to_user": {"reputation": 59385, "user_id": 2630078, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UHzHh.png?s=128&g=1", "display_name": "Kirk Larkin", "link": "https://stackoverflow.com/users/2630078/kirk-larkin"}, "edited": false, "score": 0, "creation_date": 1530725952, "post_id": 51177253, "comment_id": 89339997, "body": "Let us <a href=\"https://chat.stackoverflow.com/rooms/174362/discussion-between-k-vincent-and-kirk-larkin\">continue this discussion in chat</a>."}], "answers": [{"comments": [{"owner": {"reputation": 2905, "user_id": 5310217, "user_type": "registered", "accept_rate": 63, "profile_image": "https://i.stack.imgur.com/V7V6f.jpg?s=128&g=1", "display_name": "k.vincent", "link": "https://stackoverflow.com/users/5310217/k-vincent"}, "edited": false, "score": 0, "creation_date": 1530728530, "post_id": 51179162, "comment_id": 89340822, "body": "I don&#39;t see what you&#39;re talking about at all. Following the link, I get an empty app from your StackBlitz link. Sorry."}, {"owner": {"reputation": 2905, "user_id": 5310217, "user_type": "registered", "accept_rate": 63, "profile_image": "https://i.stack.imgur.com/V7V6f.jpg?s=128&g=1", "display_name": "k.vincent", "link": "https://stackoverflow.com/users/5310217/k-vincent"}, "edited": false, "score": 0, "creation_date": 1530729220, "post_id": 51179162, "comment_id": 89341107, "body": "I see now what you mean. But the  issue is about a checkbox and event with boolean status true/false which should be passed to the model."}, {"owner": {"reputation": 2905, "user_id": 5310217, "user_type": "registered", "accept_rate": 63, "profile_image": "https://i.stack.imgur.com/V7V6f.jpg?s=128&g=1", "display_name": "k.vincent", "link": "https://stackoverflow.com/users/5310217/k-vincent"}, "edited": false, "score": 0, "creation_date": 1530730464, "post_id": 51179162, "comment_id": 89341543, "body": "To your question regarding creating the separated component for just one <code>checkbox</code>, I would like to be flexible adding multiple checkboxes in the parent component and make the <code>label</code>, <code>name</code>, <code>placeholder</code>etc. configurable as much as possible. And therefore having a custom form. I do also have custom input and buttons."}, {"owner": {"reputation": 107, "user_id": 8864246, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/3c903f944722fd9803d79622fcaf0d72?s=128&d=identicon&r=PG&f=1", "display_name": "tatamingi", "link": "https://stackoverflow.com/users/8864246/tatamingi"}, "reply_to_user": {"reputation": 2905, "user_id": 5310217, "user_type": "registered", "accept_rate": 63, "profile_image": "https://i.stack.imgur.com/V7V6f.jpg?s=128&g=1", "display_name": "k.vincent", "link": "https://stackoverflow.com/users/5310217/k-vincent"}, "edited": false, "score": 0, "creation_date": 1530731744, "post_id": 51179162, "comment_id": 89341917, "body": "Could you tell me, are you emmiting true/false value when checbox checked?"}, {"owner": {"reputation": 107, "user_id": 8864246, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/3c903f944722fd9803d79622fcaf0d72?s=128&d=identicon&r=PG&f=1", "display_name": "tatamingi", "link": "https://stackoverflow.com/users/8864246/tatamingi"}, "reply_to_user": {"reputation": 2905, "user_id": 5310217, "user_type": "registered", "accept_rate": 63, "profile_image": "https://i.stack.imgur.com/V7V6f.jpg?s=128&g=1", "display_name": "k.vincent", "link": "https://stackoverflow.com/users/5310217/k-vincent"}, "edited": false, "score": 0, "creation_date": 1530731880, "post_id": 51179162, "comment_id": 89341963, "body": "you check the checkbox, value of the checkbox set into variable model and then we can emmit it to parent component with this.modelChange.emit(model)"}, {"owner": {"reputation": 2905, "user_id": 5310217, "user_type": "registered", "accept_rate": 63, "profile_image": "https://i.stack.imgur.com/V7V6f.jpg?s=128&g=1", "display_name": "k.vincent", "link": "https://stackoverflow.com/users/5310217/k-vincent"}, "edited": false, "score": 0, "creation_date": 1530731882, "post_id": 51179162, "comment_id": 89341964, "body": "Yes, I do. Please see the function <code>onChange()</code>. I did <code>this.modelChange.emit( event ) and </code>this.modelChange.emit( this.model )`. none of them worked as expected."}, {"owner": {"reputation": 107, "user_id": 8864246, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/3c903f944722fd9803d79622fcaf0d72?s=128&d=identicon&r=PG&f=1", "display_name": "tatamingi", "link": "https://stackoverflow.com/users/8864246/tatamingi"}, "reply_to_user": {"reputation": 2905, "user_id": 5310217, "user_type": "registered", "accept_rate": 63, "profile_image": "https://i.stack.imgur.com/V7V6f.jpg?s=128&g=1", "display_name": "k.vincent", "link": "https://stackoverflow.com/users/5310217/k-vincent"}, "edited": false, "score": 0, "creation_date": 1530732497, "post_id": 51179162, "comment_id": 89342119, "body": "you should just delete onChange() argument because the check box state is in variable model yet"}, {"owner": {"reputation": 2905, "user_id": 5310217, "user_type": "registered", "accept_rate": 63, "profile_image": "https://i.stack.imgur.com/V7V6f.jpg?s=128&g=1", "display_name": "k.vincent", "link": "https://stackoverflow.com/users/5310217/k-vincent"}, "edited": false, "score": 0, "creation_date": 1530732732, "post_id": 51179162, "comment_id": 89342186, "body": "True. I did. Issue persists."}, {"owner": {"reputation": 2905, "user_id": 5310217, "user_type": "registered", "accept_rate": 63, "profile_image": "https://i.stack.imgur.com/V7V6f.jpg?s=128&g=1", "display_name": "k.vincent", "link": "https://stackoverflow.com/users/5310217/k-vincent"}, "edited": false, "score": 0, "creation_date": 1530733101, "post_id": 51179162, "comment_id": 89342301, "body": "Yes, It&#39;s weird. <a href=\"https://stackblitz.com/edit/angular-7lx7wc?embed=1&amp;file=app/app.component.html&amp;view=editor\" rel=\"nofollow noreferrer\">Code</a>. Can you access the code?"}, {"owner": {"reputation": 107, "user_id": 8864246, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/3c903f944722fd9803d79622fcaf0d72?s=128&d=identicon&r=PG&f=1", "display_name": "tatamingi", "link": "https://stackoverflow.com/users/8864246/tatamingi"}, "reply_to_user": {"reputation": 2905, "user_id": 5310217, "user_type": "registered", "accept_rate": 63, "profile_image": "https://i.stack.imgur.com/V7V6f.jpg?s=128&g=1", "display_name": "k.vincent", "link": "https://stackoverflow.com/users/5310217/k-vincent"}, "edited": false, "score": 0, "creation_date": 1530734110, "post_id": 51179162, "comment_id": 89342605, "body": "Sure. I can suggest you do not use form for output, but use something like that <a href=\"https://stackblitz.com/edit/angular-odkm2n?file=src%2Fapp%2Fapp.component.html\" rel=\"nofollow noreferrer\">stackblitz.com/edit/&hellip;</a>"}, {"owner": {"reputation": 2905, "user_id": 5310217, "user_type": "registered", "accept_rate": 63, "profile_image": "https://i.stack.imgur.com/V7V6f.jpg?s=128&g=1", "display_name": "k.vincent", "link": "https://stackoverflow.com/users/5310217/k-vincent"}, "edited": false, "score": 0, "creation_date": 1530735111, "post_id": 51179162, "comment_id": 89342924, "body": "I did some modification.. also based on your hint. Seems to work, except then the form validation. The button should be disabled when false (checkbox is not checked) and enabled when form is valid (checkbox checked).You can see what I mean in the pervious StackBlitz <a href=\"https://stackblitz.com/edit/angular-7lx7wc?embed=1&amp;file=app/app.component.html&amp;view=editor\" rel=\"nofollow noreferrer\">link I poasted</a>. It not reacting regading <code>form.valid</code> <code>form.invalid</code> causs I use now: <code>[ngModule]=&quot;value&quot;</code> instead of <code>[ngModule]=&quot;name&quot;</code>."}, {"owner": {"reputation": 107, "user_id": 8864246, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/3c903f944722fd9803d79622fcaf0d72?s=128&d=identicon&r=PG&f=1", "display_name": "tatamingi", "link": "https://stackoverflow.com/users/8864246/tatamingi"}, "reply_to_user": {"reputation": 2905, "user_id": 5310217, "user_type": "registered", "accept_rate": 63, "profile_image": "https://i.stack.imgur.com/V7V6f.jpg?s=128&g=1", "display_name": "k.vincent", "link": "https://stackoverflow.com/users/5310217/k-vincent"}, "edited": false, "score": 0, "creation_date": 1530767756, "post_id": 51179162, "comment_id": 89349322, "body": "Ok, why not you disable button using the model variable"}, {"owner": {"reputation": 107, "user_id": 8864246, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/3c903f944722fd9803d79622fcaf0d72?s=128&d=identicon&r=PG&f=1", "display_name": "tatamingi", "link": "https://stackoverflow.com/users/8864246/tatamingi"}, "reply_to_user": {"reputation": 2905, "user_id": 5310217, "user_type": "registered", "accept_rate": 63, "profile_image": "https://i.stack.imgur.com/V7V6f.jpg?s=128&g=1", "display_name": "k.vincent", "link": "https://stackoverflow.com/users/5310217/k-vincent"}, "edited": false, "score": 0, "creation_date": 1530767851, "post_id": 51179162, "comment_id": 89349351, "body": "&lt;button [disabled]=!model&gt;"}, {"owner": {"reputation": 2905, "user_id": 5310217, "user_type": "registered", "accept_rate": 63, "profile_image": "https://i.stack.imgur.com/V7V6f.jpg?s=128&g=1", "display_name": "k.vincent", "link": "https://stackoverflow.com/users/5310217/k-vincent"}, "edited": false, "score": 0, "creation_date": 1530773267, "post_id": 51179162, "comment_id": 89351601, "body": "No, didn&#39;t help. Let us continue on <a href=\"https://chat.stackoverflow.com/rooms/174362/discussion-between-k-vincent-and-kirk-larkin\">chat</a>"}], "tags": [], "owner": {"reputation": 107, "user_id": 8864246, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/3c903f944722fd9803d79622fcaf0d72?s=128&d=identicon&r=PG&f=1", "display_name": "tatamingi", "link": "https://stackoverflow.com/users/8864246/tatamingi"}, "is_accepted": false, "score": 1, "last_activity_date": 1530728268, "creation_date": 1530728268, "answer_id": 51179162, "question_id": 51177253, "link": "https://stackoverflow.com/questions/51177253/why-checkbox-event-status-returns-string-on-instead-of-true-false/51179162#51179162", "title": "Why checkbox event status returns string &quot;on&quot; instead of true/false?", "body": "<p>I have done some code for you:\n<a href=\"https://stackblitz.com/edit/angular-odkm2n?file=src%2Fapp%2Fhello.html\" rel=\"nofollow noreferrer\">https://stackblitz.com/edit/angular-odkm2n?file=src%2Fapp%2Fhello.html</a>\nthe model value is boolean here\n1. Why you create the child component only with checkbox?\n2. Why you use Input() with \"model\" when you event don't take it into the child component? (also for the Output())</p>\n"}], "owner": {"reputation": 2905, "user_id": 5310217, "user_type": "registered", "accept_rate": 63, "profile_image": "https://i.stack.imgur.com/V7V6f.jpg?s=128&g=1", "display_name": "k.vincent", "link": "https://stackoverflow.com/users/5310217/k-vincent"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 370, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1530728268, "creation_date": 1530719137, "question_id": 51177253, "link": "https://stackoverflow.com/questions/51177253/why-checkbox-event-status-returns-string-on-instead-of-true-false", "title": "Why checkbox event status returns string &quot;on&quot; instead of true/false?", "body": "<p>I have a custom checkbox as child component which is being added in a parent component. I pass the <strong><code>ngModel</code></strong>, <strong><code>name</code></strong> etc. correctly and try to update the <strong><code>model</code></strong> with the status <strong><code>true/false</code></strong> based on checkbox status using <strong><code>EventEmitter</code></strong>.</p>\n\n<p>Unfortunately the status I get is <strong><code>\"on\"</code></strong> as a <strong><code>string</code></strong> instead of <strong><code>boolean</code></strong></p>\n\n<p>Via Chrome console, I can track the status and the <strong><code>event</code></strong>. It works correct and puts out the expected result. Just the <code>model</code> and two way binding gets a string value and in my case it's <strong><code>\"on\"</code></strong>, and it keeps this string even if I uncheck the checkbox. in other words there is even no <code>\"off\"</code></p>\n\n<p><strong>child.component.html:</strong></p>\n\n<pre><code>&lt;input type=\"checkbox\"\n        name=\"{{passCheckBoxName}}\" \n        #ngForm=\"ngModel\"\n        [ngModel]=\"model\" \n        (ngModelChange)=\"onChange($event)\"\n        required&gt;\n</code></pre>\n\n<p><strong>child.component.ts</strong>:</p>\n\n<pre><code>@Input() model: boolean;\n@Output() modelChange: EventEmitter&lt;any&gt; = new EventEmitter();\n\nonChange(event) {\n    console.log('this.model: ' + ${this.model});\n    this.model = event;\n    // event.checked doesn't work for me. output then is undefined\n    // this.model = event.checked;\n    console.log(event);\n    this.modelChange.emit( event ); \n    // event.checked doesn't work for me. output then is undefined\n    // this.modelChange.emit( event.checked ); \n}\n</code></pre>\n\n<p><strong>parent.component.html</strong>:</p>\n\n<pre><code>&lt;child-checkbox [parentFormGroup]=\"form\"\n                [name]=\"'nameOfCheckbox'\"\n                [ngModel]=\"name\"\" \n                ngDefaultControl&gt;\n&lt;/child-checkbox&gt;\n</code></pre>\n"}, {"tags": ["regex", "typescript"], "comments": [{"owner": {"reputation": 6779, "user_id": 6749601, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GHTLW.jpg?s=128&g=1", "display_name": "Lynx 242", "link": "https://stackoverflow.com/users/6749601/lynx-242"}, "edited": false, "score": 0, "creation_date": 1530718598, "post_id": 51177081, "comment_id": 89336857, "body": "Do you get any error?"}, {"owner": {"reputation": 381813, "user_id": 1863229, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/4sh1l.png?s=128&g=1", "display_name": "Tim Biegeleisen", "link": "https://stackoverflow.com/users/1863229/tim-biegeleisen"}, "edited": false, "score": 1, "creation_date": 1530718609, "post_id": 51177081, "comment_id": 89336863, "body": "I don&#39;t actually see curly braces in your character class at all.  What is the logic behind what you are trying to match/validate?"}, {"owner": {"reputation": 127, "user_id": 7237646, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/afe7a216d246ebe1f648cad04138396e?s=128&d=identicon&r=PG&f=1", "display_name": "Sriram", "link": "https://stackoverflow.com/users/7237646/sriram"}, "edited": false, "score": 0, "creation_date": 1530718704, "post_id": 51177081, "comment_id": 89336905, "body": "My regular exp should allow only the characters which are available in the expression. But the check is occurring only for the first character."}, {"owner": {"reputation": 56338, "user_id": 4265352, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-lzAUc5pYb24/AAAAAAAAAAI/AAAAAAAAAGQ/q3h7bZUnqrs/photo.jpg?sz=128", "display_name": "axiac", "link": "https://stackoverflow.com/users/4265352/axiac"}, "edited": false, "score": 0, "creation_date": 1530719081, "post_id": 51177081, "comment_id": 89337093, "body": "There is no TypeScript in this question."}], "answers": [{"comments": [{"owner": {"reputation": 127, "user_id": 7237646, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/afe7a216d246ebe1f648cad04138396e?s=128&d=identicon&r=PG&f=1", "display_name": "Sriram", "link": "https://stackoverflow.com/users/7237646/sriram"}, "edited": false, "score": 0, "creation_date": 1530719730, "post_id": 51177193, "comment_id": 89337445, "body": "Thanks a lot. Now I understand that ^ to $ denotes start to end of the string. Now this is allowing only the characters which are mentioned in the expression except backslah (&#41;. But that is allowed as per the expression."}], "tags": [], "owner": {"reputation": 82895, "user_id": 372239, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/2twLb.jpg?s=128&g=1", "display_name": "Toto", "link": "https://stackoverflow.com/users/372239/toto"}, "is_accepted": true, "score": 2, "last_activity_date": 1530718849, "creation_date": 1530718849, "answer_id": 51177193, "question_id": 51177081, "link": "https://stackoverflow.com/questions/51177081/typescript-regex-checks-only-first-charactcer/51177193#51177193", "title": "Typescript Regex - checks only first charactcer", "body": "<p>Add anchors to your regex:</p>\n\n<pre><code>const regEx = new RegExp('^[0-9A-Za-z_\\\\-`~!@#$%^&amp;*()=+ ]+$');\n//                     ___^                             __^\n</code></pre>\n"}], "owner": {"reputation": 127, "user_id": 7237646, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/afe7a216d246ebe1f648cad04138396e?s=128&d=identicon&r=PG&f=1", "display_name": "Sriram", "link": "https://stackoverflow.com/users/7237646/sriram"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 33, "favorite_count": 0, "accepted_answer_id": 51177193, "answer_count": 1, "score": 0, "last_activity_date": 1530718849, "creation_date": 1530718439, "last_edit_date": 1530718621, "question_id": 51177081, "link": "https://stackoverflow.com/questions/51177081/typescript-regex-checks-only-first-charactcer", "title": "Typescript Regex - checks only first charactcer", "body": "<p>I am trying to validate a string using typescript RegEx, but my RegEx is checking only the first character and ignores the remaining characters. This is my code.</p>\n\n<pre><code>const regEx = new RegExp('[0-9A-Za-z_\\\\-`~!@#$%^&amp;*()=+ ]+');\n</code></pre>\n\n<p>The above expression validates \"{abc\" but not \"a}bc\".</p>\n\n<p>Please help.</p>\n"}, {"tags": ["javascript", "angular", "typescript", "charts"], "answers": [{"tags": [], "owner": {"reputation": 415, "user_id": 8217812, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-vUo_dVKPgdo/AAAAAAAAAAI/AAAAAAAAB_k/vimUAsMNzh0/photo.jpg?sz=128", "display_name": "Nery Ortez", "link": "https://stackoverflow.com/users/8217812/nery-ortez"}, "is_accepted": true, "score": 1, "last_activity_date": 1530781229, "last_edit_date": 1530781229, "creation_date": 1530777817, "answer_id": 51186182, "question_id": 51177004, "link": "https://stackoverflow.com/questions/51177004/display-dynamic-data-in-angular6-with-googlechart/51186182#51186182", "title": "Display Dynamic Data in Angular6 with GoogleChart", "body": "<p>It seems you have gotten the right solution. There is just one problem when getting your data to <code>data1</code>. </p>\n\n<p>For the retrieved data to match the pattern on your data written in hard, you have to loop through it from the perspective of the retrieved data:</p>\n\n<pre><code>this.ppssToDisplay.subscribe(ppsList =&gt; {\n  this.data1 = [\n    interestingFields,\n    ...ppsList.map(pps =&gt; interestingFields.map(field =&gt; pps[field]))\n    ];\n});\n</code></pre>\n\n<p>And there you go. That should solve your problem.</p>\n"}], "owner": {"reputation": 1131, "user_id": 9962015, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6a62faf28ba0f93dfbfe2483c54227b7?s=128&d=identicon&r=PG&f=1", "display_name": "Newbiiiie", "link": "https://stackoverflow.com/users/9962015/newbiiiie"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1366, "favorite_count": 0, "accepted_answer_id": 51186182, "answer_count": 1, "score": 0, "last_activity_date": 1530781229, "creation_date": 1530718118, "last_edit_date": 1530720033, "question_id": 51177004, "link": "https://stackoverflow.com/questions/51177004/display-dynamic-data-in-angular6-with-googlechart", "title": "Display Dynamic Data in Angular6 with GoogleChart", "body": "<p>I use Angular Cli6, angularfire2 and firebase. I want to create a timeline with GoogleChart.</p>\n\n<p>//GoogleChart.service </p>\n\n<pre><code>declare var google: any;\n\nexport class GoogleChartsBaseService \n{\n  constructor() { google.charts.load('current', {'packages':[\"timeline\"]}); }\n\n   protected buildChart(data: any[], chartFunc: any, options: any) : void {\n   var func = (chartFunc, options) =&gt; \n        {\n        var datatable = google.visualization.arrayToDataTable(data);\n        chartFunc().draw(datatable, options); \n        };   \n   var callback = () =&gt; func(chartFunc, options);\n   google.charts.setOnLoadCallback(callback);\n   }\n}\n</code></pre>\n\n<p>TimelineChart.service</p>\n\n<pre><code>import { GoogleChartsBaseService } from './google-charts-base.service';\nimport { Injectable } from '@angular/core';\nimport { GanttChartConfig } from './../models/GanttChartConfig.model';\n\ndeclare var google: any;\n\n@Injectable()\nexport class GoogleGanttChartService extends GoogleChartsBaseService {\n\n  constructor() { super(); }\n\n  public BuildPieChart(elementId: string, data: any[], config: GanttChartConfig) : void {  \n    var chartFunc = () =&gt; { return new google.visualization.Timeline(document.getElementById(elementId)); };\n    var options = {\n            traitement: config.traitement,\n                  datedebut: config.datedebut,\n            datefin: config.datefin,\n\n      };\n\n    this.buildChart(data, chartFunc, options);\n  }\n}\n</code></pre>\n\n<p>Timeline.html</p>\n\n<pre><code>&lt;div id=\"{{elementId}}\" &gt;&lt;/div&gt;\n</code></pre>\n\n<p>Timeline.ts</p>\n\n<pre><code>import { Component, Input, OnInit } from '@angular/core';\nimport { GoogleGanttChartService } from './../../services/google-gantt-chart.service';\nimport { GanttChartConfig } from './../../models/GanttChartConfig.model';\ndeclare var google: any;\n\n@Component({\n  selector: 'app-gantt',\n  templateUrl: './gantt.component.html',\n  styleUrls: ['./gantt.component.scss']\n})\nexport class GanttComponent implements OnInit {\n\n    @Input() data: any[];\n    @Input() config: GanttChartConfig;\n    @Input() elementId: string;\n\n constructor(private _ganttChartService: GoogleGanttChartService) {}\n\n    ngOnInit(): void {\n        this._ganttChartService.BuildPieChart(this.elementId, this.data, this.config);\n    }\n}\n</code></pre>\n\n<p>And the component to display the graph :</p>\n\n<p>Component.html</p>\n\n<pre><code> &lt;div class=\"full\"&gt;&lt;app-gantt [data]=\"data1\" [config]=\"config1\" [elementId]=\"elementId1\"&gt;&lt;/app-gantt&gt;&lt;/div&gt;\n</code></pre>\n\n<p>Component.ts</p>\n\n<pre><code>import { Component, OnInit, Inject } from '@angular/core';\nimport { Patient } from '../models/patient.model';\nimport { Diagnostic } from '../models/diagnostic.model';\nimport { ActivatedRoute, Router } from '@angular/router';\nimport { PatientsService } from '../services/patients.service';\nimport { DiagnosticsService } from '../services/diagnostics.service';\nimport { PPSsService } from '../services/ppss.service';\nimport { AngularFireDatabase, AngularFireList, AngularFireObject, AngularFireAction } from 'angularfire2/database';\nimport { Location } from '@angular/common';\nimport { Observable } from 'rxjs/Observable';\nimport { GanttChartConfig } from './../models/GanttChartConfig.model';\nimport { PPS } from '../models/pps.model';\nimport {MAT_MOMENT_DATE_FORMATS, MomentDateAdapter} from '@angular/material-moment-adapter';\nimport {DateAdapter, MAT_DATE_FORMATS, MAT_DATE_LOCALE} from '@angular/material/core';\nimport {MatDialog, MatDialogRef, MAT_DIALOG_DATA,MatDatepickerModule, MatFormFieldModule,} from '@angular/material';\nimport { FormControl, FormControlName, FormBuilder, FormGroup, Validators, ReactiveFormsModule, FormsModule } from '@angular/forms';\nimport { startWith } from 'rxjs/operators/startWith';\nimport { map, filter, catchError, mergeMap } from 'rxjs/operators';\n\n  @Component({\n  selector: 'app-pps',\n  templateUrl: './pps.component.html',\n  styleUrls: ['./pps.component.scss']\n})\nexport class PpsComponent implements OnInit {\n patientid: string;\n patientToDisplay;\n ppssToDisplay;\n data1: any[];\n config1: GanttChartConfig;\n elementId1: string;\n\nconstructor( \n    private route: ActivatedRoute, \n    private location: Location,\n    private patientsService: PatientsService,\n    private diagnosticsService: DiagnosticsService,\n    private ppssService: PPSsService,\n    private router: Router, \n    public dialog: MatDialog, \n    ){ }\n  ngOnInit() {\n\n   this.route.params.forEach((urlParameters) =&gt; {\n   this.patientid = urlParameters['id'];});\n   this.patientToDisplay = \n   this.patientsService.getSinglePatient(this.patientid);\n   this.ppssToDisplay = this.ppssService.getPPSByPatientid(this.patientid);\n\n\n   this.data1 = [[ 'traitement','start', 'end'],\n   [ 'Chirurgie',  new Date(2017, 3, 29), new Date(2017, 3, 30)],\n   [ 'Chimioth\u00e9rapie', new Date(2017, 2, 4),  new Date(2018, 2, 4)],\n   [ 'Radioth\u00e9rapie',   new Date(2017, 2, 4),  new Date(2018, 2, 4)]]; \n\n   this.config1 = new GanttChartConfig( '',new Date (),new Date ());\n   this.elementId1 = 'myGanttChart';\n</code></pre>\n\n<p>Now i can display my graph easily with data write in my component</p>\n\n<p><a href=\"https://i.stack.imgur.com/3d5Ag.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/3d5Ag.jpg\" alt=\"enter image description here\"></a></p>\n\n<p>but my data are stocked in firebase like that :</p>\n\n<p><a href=\"https://i.stack.imgur.com/Gwcl4.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Gwcl4.png\" alt=\"enter image description here\"></a></p>\n\n<p>I display the data with an observable from angularfire2</p>\n\n<p>DATA.Service.TS </p>\n\n<pre><code>getPPSByPatientid(Patientid: string){\nreturn this.database.list('/ppss', ref =&gt; ref.orderByChild(\"Patientid\").equalTo(Patientid)).valueChanges();\n}\n</code></pre>\n\n<p>I try this in my component .ts in order to have the good array for this.data1 but witout succes\n<code>Console.log(this.data1)</code> send an array of undefined</p>\n\n<pre><code>let interestingFields = [ 'treatement','dateA', 'dateB'];\n    this.ppssToDisplay.subscribe(obj =&gt; {\n      this.data1 = [\n        interestingFields,\n        interestingFields.map(field =&gt; obj[field]),\n      ];\n    console.log(this.data1);\n    });\n\n\nError:\n\n    core.js:1598 ERROR Error: Uncaught (in promise): Error: Not an array Error: Not an array\n</code></pre>\n\n<p>I wanted to put all of my code so you could have complete visualization of what I want to do.</p>\n\n<p>My question is: Have I chosen the right solution or should I use a loop in my template to populate the chart?</p>\n\n<p>And could someone show me the voice so I can sleep again (5 days lol)</p>\n"}, {"tags": ["javascript", "angular", "typescript", "single-page-application", "google-tag-manager"], "comments": [{"owner": {"reputation": 2811, "user_id": 1937348, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/7w4KA.jpg?s=128&g=1", "display_name": "Daniel Congrove", "link": "https://stackoverflow.com/users/1937348/daniel-congrove"}, "edited": false, "score": 0, "creation_date": 1565809560, "post_id": 51176835, "comment_id": 101470660, "body": "Did you ever find a solution to handling the removal of the additional elements added by tag manager?"}, {"owner": {"reputation": 8278, "user_id": 2901207, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/tIung.png?s=128&g=1", "display_name": "CularBytes", "link": "https://stackoverflow.com/users/2901207/cularbytes"}, "reply_to_user": {"reputation": 2811, "user_id": 1937348, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/7w4KA.jpg?s=128&g=1", "display_name": "Daniel Congrove", "link": "https://stackoverflow.com/users/1937348/daniel-congrove"}, "edited": false, "score": 1, "creation_date": 1565947298, "post_id": 51176835, "comment_id": 101510757, "body": "Nope, I called-the-day on this and told marketing department that it&#39;s not possible, only way this would be possible is to load scripts that are country-specific manually. Only then it is possible to delete node&#39;s per name or id."}], "owner": {"reputation": 8278, "user_id": 2901207, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/tIung.png?s=128&g=1", "display_name": "CularBytes", "link": "https://stackoverflow.com/users/2901207/cularbytes"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1051, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1530717430, "creation_date": 1530717430, "question_id": 51176835, "link": "https://stackoverflow.com/questions/51176835/dynamically-load-google-tag-manager-and-switch-in-spa", "title": "Dynamically load Google Tag Manager and switch in SPA", "body": "<p>The marketing department wants to separate the Google Tag Manager per country. For an normal website, not SPA, we can easily do this based on the URL. Would the client switch to another URL, then the page would be refreshed, country code added in the URL and the correct GTM can be loaded.</p>\n\n<p>Now for a SPA (in Angular,Typescript) this is a little bit harder. Currently we don't have a language/country parameter in this application, but it can be changed anyways throughout the web application. Of course the page would not be refreshed.</p>\n\n<p>I am trying to find a way to dynamically load and unload GTM script.</p>\n\n<p>I can successfully load and unload an <code>&lt;script&gt;</code> element in the <code>&lt;head&gt;</code> but the tag manager adds more elements. </p>\n\n<pre><code>public loadScriptSimple(country : string) {\n    //first remove existing node\n    var existing = document.getElementById(\"tagmanager\");\n    if (existing &amp;&amp; existing.parentNode) {\n        existing.parentNode.removeChild(existing);\n    }\n    //\n    console.log('adding node to head...');\n    let node = document.createElement('script');\n    if (country === \"NL\") {\n        node.textContent =\n            \"(function (w, d, s, l, i) {w[l] = w[l] ....(window, document, 'script', 'dataLayer', 'GTM-XXX');\";\n    } else {//todo for later loading others\n        node.textContent =\n            \"(function (w, d, s, l, i) {w[l] = w[l] ....(window, document, 'script', 'dataLayer', 'GTM-YYY');\";\n    }\n\n    node.type = 'text/javascript';\n    node.async = true;\n    node.charset = 'utf-8';\n    node.setAttribute(\"id\", \"tagmanager\");\n    document.getElementsByTagName('head')[0].appendChild(node);\n    console.log('loaded script');\n}\n</code></pre>\n\n<p>Source: <a href=\"https://stackoverflow.com/a/38473334/2901207\">https://stackoverflow.com/a/38473334/2901207</a></p>\n\n<p>So it would be possible to load it on the first request (e.g. the first time the country is decided based on IP) but after changing the country, two tags would be loaded.</p>\n\n<p>Is there any simple way to remove the existing elements and then create the new ones like above?</p>\n"}, {"tags": ["typescript", "typescript2.0"], "answers": [{"tags": [], "owner": {"reputation": 6779, "user_id": 6749601, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GHTLW.jpg?s=128&g=1", "display_name": "Lynx 242", "link": "https://stackoverflow.com/users/6749601/lynx-242"}, "is_accepted": true, "score": 1, "last_activity_date": 1530718789, "creation_date": 1530718789, "answer_id": 51177175, "question_id": 51176680, "link": "https://stackoverflow.com/questions/51176680/is-it-possible-to-set-some-types-generic/51177175#51177175", "title": "Is it possible to set some types generic?", "body": "<p>Of course. You can make your class Generic. <a href=\"https://www.typescriptlang.org/docs/handbook/generics.html\" rel=\"nofollow noreferrer\">Docs</a></p>\n\n<pre><code>class A&lt;T&gt; {\n   public data: T;\n}\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 8291684, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/GjzJH.png?s=128&g=1", "display_name": "OPV", "link": "https://stackoverflow.com/users/8291684/opv"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 24, "favorite_count": 1, "accepted_answer_id": 51177175, "answer_count": 1, "score": 0, "last_activity_date": 1530718789, "creation_date": 1530716889, "question_id": 51176680, "link": "https://stackoverflow.com/questions/51176680/is-it-possible-to-set-some-types-generic", "title": "Is it possible to set some types generic?", "body": "<p>I mean this for generic function or class:</p>\n\n<pre><code>function do&lt;T&gt;(data: T) {\n\n}\n\nfunction do&lt;Imake | ITomake&gt;(data: Imake | ITomake) {\n\n}\n</code></pre>\n\n<p>In my case I have class:</p>\n\n<pre><code>class A {\n   public data: T;\n}\n</code></pre>\n\n<p>Where variable <code>data</code> can take <code>T</code> type, but T can be <code>Imake | ITomake</code> or others interface types</p>\n"}, {"tags": ["javascript", "angular", "typescript"], "answers": [{"tags": [], "owner": {"reputation": 3344, "user_id": 7085070, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/bMjQO.jpg?s=128&g=1", "display_name": "OlegI", "link": "https://stackoverflow.com/users/7085070/olegi"}, "is_accepted": true, "score": 0, "last_activity_date": 1530717145, "creation_date": 1530717145, "answer_id": 51176753, "question_id": 51176570, "link": "https://stackoverflow.com/questions/51176570/how-to-access-to-document-instance-from-typescript/51176753#51176753", "title": "How to access to document instance from typescript", "body": "<p>Nobody will create a ready solution for you. You need to be more accurate in your questions and present some code you have written in order to achieve your goal. Thus you are actually being downvoted.\nIn brief, since angular is a component-based framework, you need to create a component and bind this view + css to this component. But angular is a huge framework and set up can be painful. If you are planning to migrate a full project to angular I would recommend you to use some of the existed templates.</p>\n"}], "owner": {"reputation": 41, "user_id": 8800529, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-mGDr-R2mpN8/AAAAAAAAAAI/AAAAAAAAAEo/__3R8wpRQe4/photo.jpg?sz=128", "display_name": "zarik", "link": "https://stackoverflow.com/users/8800529/zarik"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 104, "favorite_count": 0, "accepted_answer_id": 51176753, "answer_count": 1, "score": -5, "last_activity_date": 1530717145, "creation_date": 1530716542, "question_id": 51176570, "link": "https://stackoverflow.com/questions/51176570/how-to-access-to-document-instance-from-typescript", "title": "How to access to document instance from typescript", "body": "<p>The essence of the problem in the next, there is a project that decided to rewrite under Angular 6, in the project there is a lateral navigation panel. The robot of this panel is written in JS (This code found on some site). I'm not strong at JS, and in Angular I have little experience. Tell me how you can rewrite this code to work with Angular.</p>\n\n<p><a href=\"https://i.stack.imgur.com/RUXWY.png\" rel=\"nofollow noreferrer\">navigation panel</a></p>\n\n<p>JS</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>$(document).ready(function() {\r\n  $('.time-button').click(function() {\r\n    if ($(this).hasClass('open')) {\r\n      $(this).removeClass('open').addClass('closed');\r\n      return $('.time-panel').animate({\r\n        'right': '-253'\r\n      }, 260);\r\n    } else {\r\n      $(this).removeClass('closed').addClass('open');\r\n      return $('.time-panel').animate({\r\n        'right': '0'\r\n      }, 260);\r\n    }\r\n  });\r\n});</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>html</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;div class=\"time-panel\"&gt;\r\n  &lt;div class=\"content\"&gt;\r\n    &lt;h5 class=\"d-flex justify-content-center\"&gt;&lt;span class=\"badge badge-success\"&gt;\u0420\u0435\u0436\u0438\u043c \u043f\u0440\u043e\u0441\u043c\u043e\u0442\u0440\u0430&lt;/span&gt;&lt;/h5&gt;\r\n    &lt;div class=\"d-flex justify-content-center btn-group btn-group-sm btn-group-toggle\" data-toggle=\"buttons\"&gt;\r\n      &lt;label class=\"btn btn-outline-success btn-control active\"&gt;\r\n                &lt;input type=\"radio\" name=\"options\" id=\"real-time\" autocomplete=\"off\" checked&gt; \u0420\u0435\u0430\u043b\u044c\u043d\u043e\u0435&lt;/br&gt;\u0432\u0440\u0435\u043c\u044f\r\n            &lt;/label&gt;\r\n      &lt;label class=\"btn btn-outline-primary btn-control\"&gt;\r\n                &lt;input type=\"radio\" name=\"options\" id=\"archive\" autocomplete=\"off\"&gt; \u041f\u0440\u043e\u0441\u043c\u043e\u0442\u0440&lt;/br&gt;\u0430\u0440\u0445\u0438\u0432\u0430\r\n            &lt;/label&gt;\r\n    &lt;/div&gt;\r\n    &lt;h5 class=\"d-flex justify-content-center mt-3\"&gt;&lt;span class=\"badge badge-primary\"&gt;\u041d\u0430\u0432\u0438\u0433\u0430\u0446\u0438\u044f \u043f\u043e \u0430\u0440\u0445\u0438\u0432\u0443&lt;/span&gt;&lt;/h5&gt;\r\n    &lt;div class=\"d-flex\"&gt;\r\n      &lt;div class=\"pr-1\"&gt;\r\n        &lt;span class=\"text-uppercase\"&gt;\u041f\u043e\u0441\u0442&lt;/span&gt;\r\n        &lt;div class=\"input-group input-group-sm\"&gt;\r\n          &lt;select class=\"custom-select\" id=\"storageBox\"&gt;\r\n            &lt;option selected&gt;\u0412\u044b\u0431\u0440\u0430\u0442\u044c&lt;/option&gt;\r\n            &lt;option value=\"1\"&gt;\u042d\u0426-1&lt;/option&gt;\r\n            &lt;option value=\"2\"&gt;\u042d\u0426-2&lt;/option&gt;\r\n            &lt;option value=\"3\"&gt;\u0413\u041f-1&lt;/option&gt;\r\n            &lt;option value=\"4\"&gt;\u0413\u041f-2&lt;/option&gt;\r\n            &lt;option value=\"5\"&gt;\u0413\u041f-3&lt;/option&gt;\r\n          &lt;/select&gt;\r\n        &lt;/div&gt;\r\n      &lt;/div&gt;\r\n      &lt;div class=\"pl-1\"&gt;\r\n        &lt;span class=\"d-flex justify-content-end text-uppercase\"&gt;\u0418\u043d\u0442\u0435\u0440\u0432\u0430\u043b&lt;/span&gt;\r\n        &lt;div class=\"input-group input-group-sm\"&gt;\r\n          &lt;select class=\"custom-select\" id=\"intervalBox\"&gt;\r\n            &lt;option selected&gt;\u0412\u044b\u0431\u0440\u0430\u0442\u044c&lt;/option&gt;\r\n            &lt;option value=\"1\"&gt;1 \u0447\u0430\u0441&lt;/option&gt;\r\n            &lt;option value=\"2\"&gt;30 \u043c\u0438\u043d\u0443\u0442&lt;/option&gt;\r\n            &lt;option value=\"3\"&gt;10 \u043c\u0438\u043d\u0443\u0442&lt;/option&gt;\r\n            &lt;option value=\"4\"&gt;5 \u043c\u0438\u043d\u0443\u0442&lt;/option&gt;\r\n            &lt;option value=\"5\"&gt;1 \u043c\u0438\u043d\u0443\u0442\u0430&lt;/option&gt;\r\n          &lt;/select&gt;\r\n        &lt;/div&gt;\r\n      &lt;/div&gt;\r\n    &lt;/div&gt;\r\n    &lt;div class=\"d-flex flex-column  mt-1\"&gt;\r\n      &lt;span class=\"d-flex justify-content-center text-uppercase\"&gt;\u0414\u0430\u0442\u0430 \u0438 \u0432\u0440\u0435\u043c\u044f \u043f\u0440\u043e\u0441\u043c\u043e\u0442\u0440\u0430&lt;/span&gt;\r\n      &lt;div class=\"form-group\"&gt;\r\n        &lt;div class=\"input-group date\" id=\"dateTimePicker\" data-target-input=\"nearest\"&gt;\r\n          &lt;input type=\"text\" class=\"form-control datetimepicker-input\" data-target=\"#dateTimePicker\" /&gt;\r\n          &lt;div class=\"input-group-append\" data-target=\"#dateTimePicker\" data-toggle=\"datetimepicker\"&gt;\r\n            &lt;div class=\"input-group-text\"&gt;\r\n              &lt;i class=\"fa fa-calendar\" title=\"\u0412\u044b\u0431\u043e\u0440 \u0434\u0430\u0442\u044b \u0438 \u0432\u0440\u0435\u043c\u0435\u043d\u0438 \u043f\u0440\u043e\u0441\u043c\u043e\u0442\u0440\u0430\"&gt;&lt;/i&gt;\r\n            &lt;/div&gt;\r\n          &lt;/div&gt;\r\n        &lt;/div&gt;\r\n      &lt;/div&gt;\r\n    &lt;/div&gt;\r\n    &lt;div class=\"d-flex mt-1\"&gt;\r\n      &lt;button type=\"button\" title=\"\u041f\u0435\u0440\u0435\u043c\u043e\u0442\u0430\u0442\u044c \u043d\u0430\u0437\u0430\u0434\" class=\"btn btn-sm btn-outline-primary btn-control\" id=\"prevButton\"&gt;\r\n                &lt;i class=\"d-flex align-items-center justify-content-center material-icons\"&gt;keyboard_arrow_left&lt;/i&gt;\r\n            &lt;/button&gt;\r\n      &lt;button type=\"button\" title=\"\u041f\u0440\u0438\u043c\u0435\u043d\u0438\u0442\u044c \u0432\u044b\u0431\u0440\u0430\u043d\u043d\u044b\u0435 \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b\" class=\"btn btn-sm btn-outline-primary ml-1 mr-1\" id=\"queryButton\"&gt;\r\n                &lt;i class=\"d-flex align-items-center justify-content-center material-icons\"&gt;autorenew&lt;/i&gt;\r\n            &lt;/button&gt;\r\n      &lt;button type=\"button\" title=\"\u041f\u0435\u0440\u0435\u043c\u043e\u0442\u0430\u0442\u044c \u0432\u043f\u0435\u0440\u0435\u0434\" class=\"btn btn-sm btn-outline-primary  btn-control\" id=\"nextButton\"&gt;\r\n                &lt;i class=\"d-flex align-items-center justify-content-center material-icons\"&gt;keyboard_arrow_right&lt;/i&gt;\r\n            &lt;/button&gt;\r\n    &lt;/div&gt;\r\n    &lt;span class=\"d-flex justify-content-center mt-2 text-uppercase\"&gt;\u0412\u0438\u0434 \u0433\u0440\u0430\u0444\u0438\u043a\u0430&lt;/span&gt;\r\n    &lt;div class=\"d-flex justify-content-center btn-group btn-group-sm btn-group-toggle\" data-toggle=\"buttons\"&gt;\r\n      &lt;label class=\"btn btn-outline-primary  btn-control active\"&gt;\r\n                &lt;input type=\"radio\" name=\"options\" id=\"option10\" autocomplete=\"off\" checked&gt;\u041a\u043b\u0430\u0441\u0441\u0438\u0447\u0435\u0441\u043a\u0438\u0439\r\n            &lt;/label&gt;\r\n      &lt;label class=\"btn btn-outline-primary  btn-control\"&gt;\r\n                &lt;input type=\"radio\" name=\"options\" id=\"option11\" autocomplete=\"off\"&gt;\u041f\u043e \u0446\u0435\u043d\u0442\u0440\u0443\r\n            &lt;/label&gt;\r\n    &lt;/div&gt;\r\n  &lt;/div&gt;\r\n  &lt;!--Visible button--&gt;\r\n  &lt;div class=\"time-button\" title=\"\u041f\u0430\u043d\u0435\u043b\u044c \u043d\u0430\u0432\u0438\u0433\u0430\u0446\u0438\u0438 \u043f\u043e \u0430\u0440\u0445\u0438\u0432\u0443\"&gt;\r\n    &lt;i class=\"material-icons\"&gt;gamepad&lt;/i&gt;\r\n  &lt;/div&gt;\r\n&lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>css</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>.time-panel {\r\n  position: fixed;\r\n  top: 177px;\r\n  right: -253px;\r\n  border: 1px solid #0062cc;\r\n  z-index: 100;\r\n}\r\n\r\n.time-panel .content {\r\n  width: 250px;\r\n  height: 400px;\r\n  padding: 15px;\r\n  background: #ffffff;\r\n}\r\n\r\n.time-panel .time-button {\r\n  position: absolute;\r\n  right: 100%;\r\n  top: -1px;\r\n  background: #0062cc;\r\n  border-bottom-left-radius: 0.25rem;\r\n  border-top-left-radius: 0.25rem;\r\n  cursor: pointer;\r\n}\r\n\r\n.time-panel .time-button i {\r\n  color: white;\r\n  padding: 5px;\r\n  font-size: 32px;\r\n}\r\n\r\n.btn-control {\r\n  width: 100%;\r\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": ["typescript", "dependency-injection", "typescript-typings"], "answers": [{"comments": [{"owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "edited": false, "score": 0, "creation_date": 1530725663, "post_id": 51178496, "comment_id": 89339870, "body": "Yeah this was the solution I was thinking about as well, the circular nature of the object literal type makes the compiler refuse to infer the type unfortunately. Would the op be interested in an alternative approach that does not use a single object literal for initialization? I believe we could get a better solution with such an apoach?"}, {"owner": {"reputation": 6371, "user_id": 283851, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/8ae7bce2d58740d9e5173e9cbdea0c4f?s=128&d=identicon&r=PG", "display_name": "mindplay.dk", "link": "https://stackoverflow.com/users/283851/mindplay-dk"}, "edited": false, "score": 0, "creation_date": 1530770741, "post_id": 51178496, "comment_id": 89350400, "body": "@artem does it matter what type the c argument is? whether it&#39;s the container or an identical, anonymous type - shouldn&#39;t matter. can we duplicate the declaration?"}, {"owner": {"reputation": 6371, "user_id": 283851, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/8ae7bce2d58740d9e5173e9cbdea0c4f?s=128&d=identicon&r=PG", "display_name": "mindplay.dk", "link": "https://stackoverflow.com/users/283851/mindplay-dk"}, "reply_to_user": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "edited": false, "score": 0, "creation_date": 1530770798, "post_id": 51178496, "comment_id": 89350420, "body": "@TitianCernicova-Dragomir I&#39;d be fine with refactoring to a class with a get-method, if that makes it possible?"}, {"owner": {"reputation": 6371, "user_id": 283851, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/8ae7bce2d58740d9e5173e9cbdea0c4f?s=128&d=identicon&r=PG", "display_name": "mindplay.dk", "link": "https://stackoverflow.com/users/283851/mindplay-dk"}, "edited": false, "score": 0, "creation_date": 1530773943, "post_id": 51178496, "comment_id": 89351988, "body": "<a href=\"https://gist.github.com/mindplay-dk/deb04e6f8a54b898f4b6bf48ee9aac89\" rel=\"nofollow noreferrer\">refactored to a class</a> if either of you can figure out how to type-hint the container argument? :-)"}, {"owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "reply_to_user": {"reputation": 6371, "user_id": 283851, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/8ae7bce2d58740d9e5173e9cbdea0c4f?s=128&d=identicon&r=PG", "display_name": "mindplay.dk", "link": "https://stackoverflow.com/users/283851/mindplay-dk"}, "edited": false, "score": 0, "creation_date": 1530775519, "post_id": 51178496, "comment_id": 89352917, "body": "@mindplay.dk I was not necessarily thinking about the container being a class, the way we build the container is the problem, I added an alternative solution, hope it helps"}, {"owner": {"reputation": 6371, "user_id": 283851, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/8ae7bce2d58740d9e5173e9cbdea0c4f?s=128&d=identicon&r=PG", "display_name": "mindplay.dk", "link": "https://stackoverflow.com/users/283851/mindplay-dk"}, "edited": false, "score": 0, "creation_date": 1530794234, "post_id": 51178496, "comment_id": 89364544, "body": "what if keep the container immutable and add a chainable factory-method that returns a new container? <code>let container = Container().with(X).with(Y)</code> etc. - or does that just create a different version of the same problem? hmm."}, {"owner": {"reputation": 28847, "user_id": 43848, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/l6ogn.png?s=128&g=1", "display_name": "artem", "link": "https://stackoverflow.com/users/43848/artem"}, "reply_to_user": {"reputation": 6371, "user_id": 283851, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/8ae7bce2d58740d9e5173e9cbdea0c4f?s=128&d=identicon&r=PG", "display_name": "mindplay.dk", "link": "https://stackoverflow.com/users/283851/mindplay-dk"}, "edited": false, "score": 0, "creation_date": 1530794884, "post_id": 51178496, "comment_id": 89364946, "body": "@mindplay yes if you don&#39;t mind writing a somewhat duplicate declaration with the same provider names explicitly giving provided types - it can also work. I updated my answer."}, {"owner": {"reputation": 6371, "user_id": 283851, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/8ae7bce2d58740d9e5173e9cbdea0c4f?s=128&d=identicon&r=PG", "display_name": "mindplay.dk", "link": "https://stackoverflow.com/users/283851/mindplay-dk"}, "edited": false, "score": 0, "creation_date": 1531116780, "post_id": 51178496, "comment_id": 89457041, "body": "I&#39;ll mark this as the accepted answer - it&#39;s probably the closest we can get, although it&#39;s a bit disappointing that the type-system doesn&#39;t work better for this case. Seems like it should be possible to make this type-safe without repeating a bunch of information, but, oh well."}, {"owner": {"reputation": 6371, "user_id": 283851, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/8ae7bce2d58740d9e5173e9cbdea0c4f?s=128&d=identicon&r=PG", "display_name": "mindplay.dk", "link": "https://stackoverflow.com/users/283851/mindplay-dk"}, "edited": false, "score": 0, "creation_date": 1536479548, "post_id": 51178496, "comment_id": 91433225, "body": "@artem any chance this newer feature <a href=\"https://www.typescriptlang.org/docs/handbook/advanced-types.html#type-inference-in-conditional-types\" rel=\"nofollow noreferrer\">type inference in conditional types</a> can be used get the inference I was hoping for?"}], "tags": [], "owner": {"reputation": 28847, "user_id": 43848, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/l6ogn.png?s=128&g=1", "display_name": "artem", "link": "https://stackoverflow.com/users/43848/artem"}, "is_accepted": true, "score": 3, "last_activity_date": 1530794742, "last_edit_date": 1530794742, "creation_date": 1530724846, "answer_id": 51178496, "question_id": 51176441, "link": "https://stackoverflow.com/questions/51176441/how-to-declare-generic-mapped-types-for-this-dependency-injection-container-in/51178496#51178496", "title": "How to declare generic, mapped types for this dependency-injection container in TypeScript", "body": "<p>The problem is to make the compiler to infer correct type for this <code>container</code>:</p>\n\n<pre><code>let container = Container({\n    \"cache\": async c =&gt; new UserCache(),\n    \"user-service\": async c =&gt; new UserService(await c(\"cache\"))\n});\n</code></pre>\n\n<p>But it depends on the type of the argument which is passed to <code>Container</code>, which is an object literal, so compiler looks at the type of property initializers:</p>\n\n<pre><code>async c =&gt; new UserCache()\n</code></pre>\n\n<p>and sees that <code>c</code> does not have type annotation, so it's type must be inferred, and the constraint is that it's the same type as <code>container</code> - oops, TypeScript does not equipped well to do type inference with circular constraints.</p>\n\n<p><code>c</code> gets inferred as <code>any</code>, there's no way around it:</p>\n\n<pre><code>// let's start with imaginary type P which maps names to provided types\n\n// and declare desired container type\ntype ContainerFunc&lt;P&gt; = &lt;N extends keyof P&gt;(n: N) =&gt; Promise&lt;P[N]&gt;;\n\n// and its argument type\ntype ProviderType&lt;P&gt; = { [N in keyof P]: (c: ContainerFunc&lt;P&gt;) =&gt; Promise&lt;P[N]&gt; };\n\n\nfunction Container&lt;P&gt;(provider: ProviderType&lt;P&gt;): ContainerFunc&lt;P&gt; {\n    const cache: { [N in keyof P]?: Promise&lt;P[N]&gt; } = {};\n\n    const container = function&lt;N extends keyof P&gt;(name: N): Promise&lt;P[N]&gt; {\n        if (!cache[name]) {\n            cache[name] = provider[name](container);\n        }\n\n        return cache[name];\n    }\n\n    return container;\n}\n\nclass UserCache { cache: {} }\n\nclass UserService {\n    constructor(private cache: UserCache) { }\n}\n\nlet container = Container({\n    \"cache\": async c =&gt; new UserCache(),\n    \"user-service\": async c =&gt; new UserService(await c(\"cache\"))\n});\n</code></pre>\n\n<p>To remove circularity, you have to remove <code>c</code> parameter - it's always the <code>container</code> itself, let's use it as such:</p>\n\n<pre><code>type ContainerFunc&lt;P&gt; = &lt;N extends keyof P&gt;(n: N) =&gt; Promise&lt;P[N]&gt;;\n\ntype ProviderType&lt;P&gt; = { [N in keyof P]: () =&gt; Promise&lt;P[N]&gt; };\n\nfunction Container&lt;P&gt;(provider: ProviderType&lt;P&gt;): ContainerFunc&lt;P&gt; {\n    const cache: { [N in keyof P]?: Promise&lt;P[N]&gt; } = {};\n\n    const container = function&lt;N extends keyof P&gt;(name: N): Promise&lt;P[N]&gt; {\n        if (!cache[name]) {\n            cache[name] = provider[name]();\n        }\n\n        return cache[name];\n    }\n\n    return container;\n}\n\nclass UserCache { cache: {} }\n\nclass UserService {\n    constructor(private cache: UserCache) { }\n}\n\nlet container = Container({\n    \"cache\": async () =&gt; new UserCache(),\n    \"user-service\": async () =&gt; new UserService(await container(\"cache\"))\n});\n</code></pre>\n\n<p>But now <code>container</code> type is inferred as <code>any</code>, because initializer for <code>\"user-service\"</code> refers to <code>container</code> in the function body, which prevents inferring that function return type.</p>\n\n<p>You have to add return type annotation:</p>\n\n<pre><code>let container = Container({\n    \"cache\": async () =&gt; new UserCache(),\n    \"user-service\": async (): Promise&lt;UserService&gt; =&gt; new UserService(await container(\"cache\"))\n});\n</code></pre>\n\n<p>Now it's working:</p>\n\n<pre><code>let container = Container({\n    \"cache\": async () =&gt; new UserCache(),\n    \"user-service\": async (): Promise&lt;UserService&gt; =&gt; new UserService(await container(\"user-service\"))\n});\n\n// error: Argument of type 'UserService' is not assignable to parameter of type 'UserCache'.\n</code></pre>\n\n<p>I believe it's the best that you can get.</p>\n\n<p><strong>Update</strong> as you suggested in comment, the other way to avoid circularity is to spell out all provider names and provided types in advance, before the implementation:</p>\n\n<pre><code>type ContainerFunc&lt;P&gt; = &lt;N extends keyof P&gt;(n: N) =&gt; Promise&lt;P[N]&gt;;\n\ntype ProviderType&lt;P&gt; = { [N in keyof P]: (c: ContainerFunc&lt;P&gt;) =&gt; Promise&lt;P[N]&gt; };\n\n\nfunction Container&lt;P&gt;(provider: ProviderType&lt;P&gt;): ContainerFunc&lt;P&gt; {\n    const cache: { [N in keyof P]?: Promise&lt;P[N]&gt; } = {};\n\n    const container = function&lt;N extends keyof P&gt;(name: N): Promise&lt;P[N]&gt; {\n        if (!cache[name]) {\n            cache[name] = provider[name](container);\n        }\n\n        return cache[name];\n    }\n\n    return container;\n}\n\nclass UserCache { cache: {} }\n\nclass UserService {\n    constructor(private cache: UserCache) { }\n}\n\ninterface ProviderTypes {\n    cache: UserCache;\n    \"user-service\": UserService;\n}\n\nlet container = Container&lt;ProviderTypes&gt;({\n    \"cache\": async c =&gt; new UserCache(),\n    \"user-service\": async c =&gt; new UserService(await c(\"cache\"))\n});\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 6371, "user_id": 283851, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/8ae7bce2d58740d9e5173e9cbdea0c4f?s=128&d=identicon&r=PG", "display_name": "mindplay.dk", "link": "https://stackoverflow.com/users/283851/mindplay-dk"}, "edited": false, "score": 0, "creation_date": 1530793742, "post_id": 51185491, "comment_id": 89364239, "body": "&quot;the compiler refuses to infer the type of an object literal if the inferred type references itself&quot; - but does it have to? the container argument doesn&#39;t have to be the same type, it could be a different (maybe anonymous) type with an identical signature. we can&#39;t avoid the circular inference that way?"}, {"owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "reply_to_user": {"reputation": 6371, "user_id": 283851, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/8ae7bce2d58740d9e5173e9cbdea0c4f?s=128&d=identicon&r=PG", "display_name": "mindplay.dk", "link": "https://stackoverflow.com/users/283851/mindplay-dk"}, "edited": false, "score": 0, "creation_date": 1530793861, "post_id": 51185491, "comment_id": 89364304, "body": "@mindplay.dk There is no way to type <code>c</code> except relative to the current object literal, and this is the relation that will cause the compiler to complain. Because to type <code>c</code> it needs to know the type of the object literal, and to fully type the object literal it needs to know the type of <code>c</code>.."}, {"owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "reply_to_user": {"reputation": 6371, "user_id": 283851, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/8ae7bce2d58740d9e5173e9cbdea0c4f?s=128&d=identicon&r=PG", "display_name": "mindplay.dk", "link": "https://stackoverflow.com/users/283851/mindplay-dk"}, "edited": false, "score": 0, "creation_date": 1530796192, "post_id": 51185491, "comment_id": 89365923, "body": "@mindplay.dk I see artem updated his answer, if you are willing to write out the providers in an interface before hand, that will work, I hadn&#39;t considered this approach as spelling out the providers twice seems like too much overhead..."}], "tags": [], "owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "is_accepted": false, "score": 2, "last_activity_date": 1530775476, "creation_date": 1530775476, "answer_id": 51185491, "question_id": 51176441, "link": "https://stackoverflow.com/questions/51176441/how-to-declare-generic-mapped-types-for-this-dependency-injection-container-in/51185491#51185491", "title": "How to declare generic, mapped types for this dependency-injection container in TypeScript", "body": "<p>As @artem mentioned, the compiler refuses to infer the type of an object literal if the inferred type references itself in any way (it's an outright limitation, the compiler will even mention this), so for the current structure you have @artem's answer is the best you are going to get.</p>\n\n<p>A refactoring you could consider is one where you don't add the providers in one go, but rather using an <code>add</code> method on a container builder class. The return type of the add will return a new container builder that can resolve the types added up until that point so a newly added service can only make use of services already registered (making lemonade out of lemons, this might not be totally bad as it avoids circular references)</p>\n\n<p>An implementation would look something like this:</p>\n\n<pre><code>function Container() {\n    type ContainerFunc&lt;P&gt; = &lt;N extends keyof P&gt;(n: N) =&gt; P[N];\n    class ContainerBuilder&lt;T extends { [P in keyof T]: Promise&lt;any&gt; }&gt; {\n        public constructor(private provider: { [P in keyof T]: (c: any) =&gt; T[P] } = {} as any) {\n\n        }\n        public add&lt;K extends string, V&gt;(name: K, p: (c: ContainerFunc&lt;T&gt;)=&gt; Promise&lt;V&gt;): ContainerBuilder&lt;T &amp; { [P in K]: Promise&lt;V&gt; }&gt; {\n            this.provider[name] = p;\n            return this as any;\n        }\n\n        finish() : ContainerFunc&lt;{ [P in keyof T]: T[P]}&gt; {\n            const provider = this.provider;\n            const cache: { [name in keyof T]?: Promise&lt;any&gt; } = {};\n            const container = function&lt;K extends keyof T&gt;(name: K) : T[K]  {\n                if (!cache[name]) {\n                    cache[name] = provider[name](container);\n                }\n\n                return cache[name] as any;\n            }\n            return container as any;\n\n        }\n    }\n\n    return new ContainerBuilder()\n}\n\nclass UserCache { }\nclass OfficeCache {}\nclass UserService {\n    constructor(private cache: UserCache, private officeCache?: OfficeCache) { }\n}\n\n\nvar c = Container()\n    .add(\"user\", async ()=&gt; new UserCache())\n    // all typed corectly, no any, the comented code below would be an error as office has not been registered yet\n    .add(\"user-service\", async c=&gt; new UserService(await c(\"user\") /* , await c(\"office\") */)) \n    .add(\"office\", async c=&gt; new OfficeCache())\n.finish();\n\nlet userService = c(\"user-service\");\n</code></pre>\n"}], "owner": {"reputation": 6371, "user_id": 283851, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/8ae7bce2d58740d9e5173e9cbdea0c4f?s=128&d=identicon&r=PG", "display_name": "mindplay.dk", "link": "https://stackoverflow.com/users/283851/mindplay-dk"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 432, "favorite_count": 1, "accepted_answer_id": 51178496, "answer_count": 2, "score": 2, "last_activity_date": 1530794742, "creation_date": 1530716084, "question_id": 51176441, "link": "https://stackoverflow.com/questions/51176441/how-to-declare-generic-mapped-types-for-this-dependency-injection-container-in", "title": "How to declare generic, mapped types for this dependency-injection container in TypeScript", "body": "\n\n<p>I've come up with this simple, asynchronous dependency-injection container in TypeScript:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>function Container&lt;P extends { [name: string]: { (c: any): Promise&lt;any&gt; } }&gt;(provider: P) {\n    const cache: { [name in keyof P]?: Promise&lt;any&gt; } = {};\n\n    const container = function(name: keyof P) {\n        if (!cache[name]) {\n            cache[name] = provider[name](container);\n        }\n\n        return cache[name];\n    }\n\n    return container;\n}\n</code></pre>\n\n<p>Here's a simple use-case example:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>class UserCache { }\n\nclass UserService {\n    constructor(private cache: UserCache) { }\n}\n\nlet container = Container({\n    \"cache\": async c =&gt; new UserCache(),\n    \"user-service\": async c =&gt; new UserService(await c(\"cache\"))\n});\n\ncontainer(\"user-service\").then(service =&gt; {\n    console.log(service);\n});\n</code></pre>\n\n<p>So to briefly explain what's expected here: the <code>Container</code> function is basically a \"type-cast\" that takes a map of service-definitions (a <code>provider</code>) and returns a factory-function aka the <code>container</code>. The service-definitions receive the <code>container</code> instance, so that they can look up their dependencies, and return a <code>Promise</code> that resolves to the service instance.</p>\n\n<p>I need help with the type-declarations.</p>\n\n<p>I've gotten as far as type-checking the <code>name</code> argument - the resulting <code>container</code> function accepts only keys that exist in the <code>provider</code>, so far, so good.</p>\n\n<p>What's missing is the generic return-type of calls to the <code>container</code>, so that, in turn, nested service-look-ups such as <code>await c(\"cache\")</code> can be resolved and type-checked correctly.</p>\n\n<p>Any idea how to do that?</p>\n"}, {"tags": ["typescript", "types"], "answers": [{"tags": [], "owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "is_accepted": true, "score": 2, "last_activity_date": 1530715857, "creation_date": 1530715857, "answer_id": 51176365, "question_id": 51176206, "link": "https://stackoverflow.com/questions/51176206/create-typesafe-object-literal-based-upon-existing-object-in-typescript/51176365#51176365", "title": "Create TypeSafe Object literal based upon existing object in TypeScript", "body": "<p>Sure you can create an object from a <code>string</code> array, if we use a generic type parameter to represent the fields names:</p>\n\n<pre><code>function keysToValuesArray&lt;T extends string&gt;(keys: T[]) : { [P in T] : P}{\n    const obj = keys.reduce((objInTheMaking, key) =&gt; ({ [key]: key, ...objInTheMaking  }), {} );\n    return obj as { [P in T] : P};\n}\nconst myHeaders2 = keysToValuesArray([\n    'a property with spaces',\n    'and another'\n]);\n</code></pre>\n\n<p>As o avoiding a cast to <code>any</code>, you can type <code>clone</code> directly as <code>any</code> or <code>{ [n: string]: any }</code> but that will not be much better. While building these objects they don't conform to the type anyway, so it doesn't make much difference.  I usually take solace in the idea that the call site is type safe which is more important.</p>\n\n<pre><code>function keysToValuesClone&lt;TObject extends {}&gt;(keysAndValuesObj: TObject) {\n    const clone : { [n: string]: any } = Object.assign({}, keysAndValuesObj);\n\n    Object.keys(clone).forEach(key =&gt; clone[key] = key);\n\n    const frozen = Object.freeze(clone);\n\n    return frozen as Readonly&lt;{ \n        [K in keyof typeof clone]: K\n    }&gt;;\n}\n</code></pre>\n"}], "owner": {"reputation": 4564, "user_id": 761388, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/a8dee94f1cb1e6a80fa71b8f640c42d8?s=128&d=identicon&r=PG", "display_name": "John Reilly", "link": "https://stackoverflow.com/users/761388/john-reilly"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 419, "favorite_count": 0, "accepted_answer_id": 51176365, "answer_count": 1, "score": 2, "last_activity_date": 1530723882, "creation_date": 1530715266, "last_edit_date": 1530723882, "question_id": 51176206, "link": "https://stackoverflow.com/questions/51176206/create-typesafe-object-literal-based-upon-existing-object-in-typescript", "title": "Create TypeSafe Object literal based upon existing object in TypeScript", "body": "<p>Consider the following function:</p>\n\n<pre><code>function keysToValuesClone&lt;TObject extends {}&gt;(keysAndValuesObj: TObject) {\n    const clone = Object.assign({}, keysAndValuesObj);\n\n    Object.keys(clone).forEach(key =&gt; clone[key] = key);\n\n    const frozen = Object.freeze(clone);\n\n    return (&lt;any&gt;frozen) as Readonly&lt;{ // The `any` is regrettable... see below\n        [K in keyof typeof clone]: K\n    }&gt;;\n}\n</code></pre>\n\n<p>I can supply this function with an object literal like so:</p>\n\n<pre><code>const myHeaders = keysToValuesClone({\n    'a property with spaces': '',\n    'and another': '',\n});\n</code></pre>\n\n<p>And the produced <code>myHeaders</code> will have this type:</p>\n\n<pre><code>Readonly&lt;{\n    'a property with spaces': \"a property with spaces\";\n    'and another': \"and another\";\n}&gt;\n</code></pre>\n\n<p>I like the utility of this function but writing it has raised 2 questions in my mind:</p>\n\n<h2>Is it possible to lose the <code>any</code>?</h2>\n\n<p>If I change the final line of <code>keysToValuesClone</code> to this:</p>\n\n<pre><code>    return frozen as Readonly&lt;{\n        [K in keyof typeof clone]: K\n    }&gt;;\n</code></pre>\n\n<p>Then I'm landed with the following error:</p>\n\n<pre><code>Type 'Readonly&lt;TObject &amp; {}&gt;' cannot be converted to type 'Readonly&lt;{ [K in keyof (TObject &amp; {})]: K; }&gt;'.\n  Type '(TObject &amp; {})[P]' is not comparable to type 'P'.\n</code></pre>\n\n<p>I've tried convincing the compiler in many different ways to allow this function without the <code>any</code> type assertion but all attempts fail.  Is this improvable?  Can you convince the compiler to come along for the ride without resorting to <code>any</code>?</p>\n\n<h2>Is it possible to create a similar function that constructs this type from a <code>string[]</code>?</h2>\n\n<p>I'd quite like to write this code:</p>\n\n<pre><code>const myHeaders = keysToValuesUsingArray([\n    'a property with spaces',\n    'and another'\n]);\n</code></pre>\n\n<p>i.e. supply a string array and have it output the same as the above.  Codewise I can achieve this like so:</p>\n\n<pre><code>function keysToValuesArray(keys: string[]) {\n    const obj = keys.reduce((objInTheMaking, key) =&gt; ({ [key]: key, ...objInTheMaking  }), {});\n\n    return obj;\n}\n</code></pre>\n\n<p>But this produces the type <code>{}</code>.  Is there a way to clue in the type system to what is happening here?</p>\n\n<p>I've played with <code>keyof / typeof / Tuple</code> etc all to no avail.  And so my friends I turn to you.  </p>\n\n<p>Educate me.</p>\n\n<hr>\n\n<h2>Thanks Titian!</h2>\n\n<p>That's awesome Titian; thanks so much!  I ended up rolling with your array solution with Readonly tweaks; see below: (I've unaccountably got a lot of love for <code>Object.freeze</code> right now; it's my jam)</p>\n\n<pre><code>function keysToValuesArray&lt;T extends string&gt;(keys: T[]): Readonly&lt;{ [P in T] : P}&gt; {\n    const obj = keys.reduce((objInTheMaking, key) =&gt; ({ [key]: key, ...objInTheMaking  }), {} );\n\n    const frozen = Object.freeze(obj);\n\n    return frozen as Readonly&lt;{ [P in T] : P}&gt;;\n}\n</code></pre>\n\n<p>Thanks again!</p>\n"}, {"tags": ["typescript"], "answers": [{"tags": [], "owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "is_accepted": true, "score": 2, "last_activity_date": 1530715201, "creation_date": 1530715201, "answer_id": 51176184, "question_id": 51175960, "link": "https://stackoverflow.com/questions/51175960/how-to-extend-add-new-prototype-property-existing-already-declared-classes-i/51176184#51176184", "title": "How to extend (add new prototype property) existing (already declared) classes in typescript?", "body": "<p>You can do it in the same way as in Javascript, the only catch is you need to add a definition for the newly added methods so that typescript knows about it.</p>\n\n<pre><code>declare global { // Remove this enclosing global if you are not in a module\n    interface Promise&lt;T&gt; {\n        catchAndLog(): Promise&lt;T&gt;\n    }\n}\n\nObject.defineProperty(Promise.prototype, 'catchAndLog', {\n\n})\n\nPromise.reject('error').catchAndLog()\n</code></pre>\n"}], "owner": {"reputation": 7288, "user_id": 692528, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/6c3537e43d6c6e2608cc0b149a497bc2?s=128&d=identicon&r=PG", "display_name": "Joon", "link": "https://stackoverflow.com/users/692528/joon"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 36, "favorite_count": 0, "accepted_answer_id": 51176184, "answer_count": 1, "score": 1, "last_activity_date": 1530715201, "creation_date": 1530714351, "question_id": 51175960, "link": "https://stackoverflow.com/questions/51175960/how-to-extend-add-new-prototype-property-existing-already-declared-classes-i", "title": "How to extend (add new prototype property) existing (already declared) classes in typescript?", "body": "<p>I want to add new method <code>catchAndLog</code> to existing <code>Promise</code> class.</p>\n\n<p>In plain JS, it's easy as <code>Object.defineProperty(Promise.prototype, 'catchAndLog', ...)</code>. However, it seems typescript does not understand this.</p>\n\n<p>How do I let typescript compiler know that <code>Promise</code> now has an additional member property so that it doesn't complain when I do <code>Promise.reject('error').catchAndLog()</code>?</p>\n"}, {"tags": ["angular", "typescript"], "answers": [{"comments": [{"owner": {"reputation": 459, "user_id": 3355599, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/FD36Q.jpg?s=128&g=1", "display_name": "Flamine", "link": "https://stackoverflow.com/users/3355599/flamine"}, "edited": false, "score": 0, "creation_date": 1530712915, "post_id": 51175387, "comment_id": 89333728, "body": "Did you mean, using pipes like filter for lists is bad idea?"}, {"owner": {"user_type": "does_not_exist", "display_name": "user4676340"}, "reply_to_user": {"reputation": 459, "user_id": 3355599, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/FD36Q.jpg?s=128&g=1", "display_name": "Flamine", "link": "https://stackoverflow.com/users/3355599/flamine"}, "edited": false, "score": 0, "creation_date": 1530713161, "post_id": 51175387, "comment_id": 89333867, "body": "I mean using pipes for filtering data <b>and showing it to your user</b> is a good idea, but using a pipe for filtering data <b>and using in your component&#39;s TS</b> is a bad idea."}, {"owner": {"reputation": 459, "user_id": 3355599, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/FD36Q.jpg?s=128&g=1", "display_name": "Flamine", "link": "https://stackoverflow.com/users/3355599/flamine"}, "edited": false, "score": 0, "creation_date": 1530713338, "post_id": 51175387, "comment_id": 89333983, "body": "But what if I want to delete, or change all filtered data?"}, {"owner": {"user_type": "does_not_exist", "display_name": "user4676340"}, "reply_to_user": {"reputation": 459, "user_id": 3355599, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/FD36Q.jpg?s=128&g=1", "display_name": "Flamine", "link": "https://stackoverflow.com/users/3355599/flamine"}, "edited": false, "score": 0, "creation_date": 1530713495, "post_id": 51175387, "comment_id": 89334089, "body": "Then as I said, you bind to your <code>input</code> event on your search input, and filter your data manually."}, {"owner": {"reputation": 459, "user_id": 3355599, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/FD36Q.jpg?s=128&g=1", "display_name": "Flamine", "link": "https://stackoverflow.com/users/3355599/flamine"}, "edited": false, "score": 0, "creation_date": 1530713888, "post_id": 51175387, "comment_id": 89334303, "body": "Ok, if need to show filtered data - use pipe. If need to work with this data in future - use methods in component. Thank you"}, {"owner": {"user_type": "does_not_exist", "display_name": "user4676340"}, "reply_to_user": {"reputation": 459, "user_id": 3355599, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/FD36Q.jpg?s=128&g=1", "display_name": "Flamine", "link": "https://stackoverflow.com/users/3355599/flamine"}, "edited": false, "score": 0, "creation_date": 1530713907, "post_id": 51175387, "comment_id": 89334317, "body": "Exactly, and no problem !"}, {"owner": {"user_type": "does_not_exist", "display_name": "user4676340"}, "reply_to_user": {"reputation": 459, "user_id": 3355599, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/FD36Q.jpg?s=128&g=1", "display_name": "Flamine", "link": "https://stackoverflow.com/users/3355599/flamine"}, "edited": false, "score": 1, "creation_date": 1530714021, "post_id": 51175387, "comment_id": 89334374, "body": "By the way, if you have already made the pipe, you can simply create an instance of it to filter instead of using <code>data.filter</code>. I edited my answer to show you that, @Flamine"}, {"owner": {"reputation": 459, "user_id": 3355599, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/FD36Q.jpg?s=128&g=1", "display_name": "Flamine", "link": "https://stackoverflow.com/users/3355599/flamine"}, "edited": false, "score": 0, "creation_date": 1530714478, "post_id": 51175387, "comment_id": 89334654, "body": "Ok, I will do by this way, Thank you"}], "tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user4676340"}, "is_accepted": true, "score": 2, "last_activity_date": 1530714019, "last_edit_date": 1530714019, "creation_date": 1530712443, "answer_id": 51175387, "question_id": 51175294, "link": "https://stackoverflow.com/questions/51175294/how-to-get-filtered-data-after-ngfor-from-component-with-angular2/51175387#51175387", "title": "How to get filtered data after *ngFor from component with Angular2", "body": "<p>Pipes are made for displaying data only. </p>\n\n<p>If you want to filter your values and get them in your component, consider filtering them on query change. </p>\n\n<pre><code>&lt;input type=\"file\" [(ngModel)]=\"search\" (input)=\"filterData\"&gt;\n\nfilterData() {\n  this.filteredData = this.data.filter(item =&gt; /* your filtering */);\n}\n</code></pre>\n\n<p><strong>EDIT</strong> You can also use an instance of your pipe to filter your data like so </p>\n\n<pre><code>filterData() {\n  const pipe = new FilterPipe(); // Consider moving this as a class member\n  this.filteredData = pipe.transform(this.data, this.search);\n}\n</code></pre>\n"}], "owner": {"reputation": 459, "user_id": 3355599, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/FD36Q.jpg?s=128&g=1", "display_name": "Flamine", "link": "https://stackoverflow.com/users/3355599/flamine"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 539, "favorite_count": 0, "accepted_answer_id": 51175387, "answer_count": 1, "score": 1, "last_activity_date": 1574370780, "creation_date": 1530712200, "last_edit_date": 1574370780, "question_id": 51175294, "link": "https://stackoverflow.com/questions/51175294/how-to-get-filtered-data-after-ngfor-from-component-with-angular2", "title": "How to get filtered data after *ngFor from component with Angular2", "body": "<p>I try to get filtered list of data in my component. \nIn view i have something like this:</p>\n\n<pre class=\"lang-html prettyprint-override\"><code>&lt;ng-container *ngIf=\u201d(items | filter:search.value) as result\u201d&gt;\n  &lt;div *ngFor=\u201dlet item of result\u201d&gt;\n    {{item}}\n  &lt;/div&gt;\n&lt;/ng-container&gt;\n</code></pre>\n\n<p>And I need to get <code>result</code> from component. \nYes, I can add <code>{{result_setter(result)}}</code> to ng-container, and create method with variable in component:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>filtered_data;\n\nresult_setter(data) {\n  this.filtered_data = data;\n}\n</code></pre>\n\n<p>But it's look like shit. Can anybody help?\nI found this article <a href=\"https://netbasal.com/using-pipe-results-in-angular-templates-430683fa2213\" rel=\"nofollow noreferrer\">https://netbasal.com/using-pipe-results-in-angular-templates-430683fa2213</a>, and users in comments has this problem too</p>\n"}, {"tags": ["typescript", "protractor"], "answers": [{"comments": [{"owner": {"reputation": 151, "user_id": 7302082, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2ac671a851f2e80837d479022c9866cf?s=128&d=identicon&r=PG", "display_name": "Jeroen Zwartepoorte", "link": "https://stackoverflow.com/users/7302082/jeroen-zwartepoorte"}, "edited": false, "score": 0, "creation_date": 1530725370, "post_id": 51175772, "comment_id": 89339758, "body": "Thanks for the explanation!"}], "tags": [], "owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "is_accepted": true, "score": 1, "last_activity_date": 1530713707, "creation_date": 1530713707, "answer_id": 51175772, "question_id": 51175088, "link": "https://stackoverflow.com/questions/51175088/default-generic-type-in-typescript/51175772#51175772", "title": "Default generic type in typescript", "body": "<p>The problem is that within the class, <code>T</code> is not known to be anything specific (even if you do some checking, the compiler will not narrow <code>T</code> in any way). What this means is that all assignments must work for any conceivable <code>T</code>, and since <code>this.type = (element: ElementFinder) =&gt; element;</code> will not work for any <code>T</code> it will give an error.</p>\n\n<p>The quick and dirty fix is to use a type assertion, if we are sure this is a false positive:</p>\n\n<pre><code>this.type = (element: ElementFinder) =&gt; element as any;\n</code></pre>\n\n<p>The more elegant solution would be to change <code>type</code> to required, and pass in the appropriate function: </p>\n\n<pre><code>class ComplexType {\n    foo = 'foo';\n\n    constructor(public element: ElementFinder) { }\n}\n\nexport interface ListOptions&lt;T&gt; {\n    element: ElementFinder;\n    selector?: string;\n    type: (element: ElementFinder) =&gt; T;\n}\n\nexport class List&lt;T = ElementFinder&gt; {\n    public readonly element: ElementFinder;\n    private selector: string;\n    private type: (element: ElementFinder) =&gt; T;\n\n    get items() {\n        return this.element.$$(this.selector);\n    }\n\n    get length() {\n        return this.items.count();\n    }\n    public static default(element: ElementFinder, selector = 'li') :ListOptions&lt;ElementFinder&gt;{\n        return {\n            element,\n            selector,\n            type : (e) =&gt; e\n        }\n    }\n    constructor(options: ListOptions&lt;T&gt;, selector?: string) {\n        this.element = options.element;\n        this.selector = options.selector || 'li';\n        this.type = options.type;\n    }\n\n    get(index: number): T {\n        return this.type(this.items.get(index));\n    }\n}\nlet element!: ElementFinder;\n\n// complex usage\nconst list1 = new List&lt;ComplexType&gt;({ element, type: e=&gt; new ComplexType(e) });\n//default usage\nconst list2 = new List(List.default(element));\n</code></pre>\n"}], "owner": {"reputation": 151, "user_id": 7302082, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2ac671a851f2e80837d479022c9866cf?s=128&d=identicon&r=PG", "display_name": "Jeroen Zwartepoorte", "link": "https://stackoverflow.com/users/7302082/jeroen-zwartepoorte"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1264, "favorite_count": 0, "accepted_answer_id": 51175772, "answer_count": 1, "score": 1, "last_activity_date": 1530713707, "creation_date": 1530711553, "question_id": 51175088, "link": "https://stackoverflow.com/questions/51175088/default-generic-type-in-typescript", "title": "Default generic type in typescript", "body": "<p>So i have a protractor list page object. That object defaults to returning <code>ElementFinder</code> instances, but it can be customized to return <code>ComplexType</code> instances like so:</p>\n\n<pre><code>class ComplexType {\n  foo = 'foo';\n\n  constructor(public element: ElementFinder) {}\n}\n\nconst list = new List&lt;ComplexType&gt;({ element: ..., type: ComplexType});\nexpect(list.get(0).foo).toBe('foo');\n</code></pre>\n\n<p>Here is the page object definition:</p>\n\n<pre><code>import { ElementFinder } from 'protractor';\n\nexport interface ListItem&lt;T&gt; {\n  new(element: ElementFinder): T;\n}\n\nexport interface ListOptions&lt;T&gt; {\n  element: ElementFinder;\n  selector?: string;\n  type?: ListItem&lt;T&gt;;\n}\n\nexport class List&lt;T = ElementFinder&gt; {\n  public readonly element: ElementFinder;\n  private selector: string;\n  private type: (element: ElementFinder) =&gt; T;\n\n  get items() {\n    return this.element.$$(this.selector);\n  }\n\n  get length() {\n    return this.items.count();\n  }\n\n  constructor(options: ListOptions&lt;T&gt; | ElementFinder, selector?: string) {\n    if (options instanceof ElementFinder) {\n      this.element = options;\n      this.selector = selector || 'li';\n      this.type = (element: ElementFinder) =&gt; element;\n    } else {\n      this.element = options.element;\n      this.selector = options.selector || 'li';\n      this.type = (element: ElementFinder) =&gt; new options.type(element);\n    }\n  }\n\n  get(index: number): T {\n    return this.type(this.items.get(index));\n  }\n}\n</code></pre>\n\n<p>The problem i'm having is that typescript doesn't understand that T sometimes is ElementFinder. So when i return an instance of ElementFinder it complains that element finder does not match T.</p>\n\n<p>I'm stumped. Surely this is possible?</p>\n"}, {"tags": ["typescript", "rxjs", "graphql", "apollo", "rxjs6"], "owner": {"reputation": 12547, "user_id": 4299560, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/84fd2bf8783aba24dd496c7fef48daad?s=128&d=identicon&r=PG&f=1", "display_name": "Ced", "link": "https://stackoverflow.com/users/4299560/ced"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 275, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1531205100, "creation_date": 1530711093, "last_edit_date": 1531205100, "question_id": 51174949, "link": "https://stackoverflow.com/questions/51174949/rxjs-pagination-with-subscription-to-each-page", "title": "rxjs pagination with subscription to each page", "body": "<p>We are querying <code>graphql</code> over websocket to have a subscription to a list of entities. We use pagination as the list is supposed to be scrollable indefinitely. We also want to see changes made in db in real time in the list on the front-end.</p>\n\n<p>This list can be <code>filtered</code>, <code>sorted</code> and <code>paginated</code>.</p>\n\n<p>We have the class <code>SelectParams</code> that helps us to do that: </p>\n\n<pre><code>export class SelectParams {\n    page = 0;\n    query = '';\n    sort: Sort = { sortBy: 'creationDate', sortOrder: 'DESC' };\n    take = 30;\n}\n</code></pre>\n\n<p>Then when we want to subscribe to a list we just give a <code>selectParams$ = Observable&lt;SelectParams&gt;</code> to get the list that is \"reactive\" and reacts to the changes in <code>selectParams$</code>. This is used like this:</p>\n\n<pre><code>    this.items$ = this.featureSrv.selectMany(this.selectParams$)\n</code></pre>\n\n<p>Under the hood the <code>selectMany</code> works like this:</p>\n\n<pre><code>// when we call selectMany we just push the params to the pipeline\nselectMany(params$: Observable&lt;SelectParams&gt; = of(new SelectParams())): Observable&lt;T[]&gt; {\n    this.selectManyParams$.next(params$);\n    return this.selectMany$;\n}\n\n// subject where we push params to sort, paginate and filter\nselectManyParams$ = new ReplaySubject&lt;Observable&lt;SelectParams&gt;&gt;(1);\n// when the params change then so does this observable, which is returned by the selectMany function\nselectMany$ = this.selectManyParams$.asObservable().pipe(\n    // retrieve params from their observable form\n    flatMap(params$ =&gt; params$),\n    // when the params haven't changed we shouldn't do anything\n    distinctUntilChanged(),\n    // then we query graphql to get a suscription to some part of the data\n    switchMap(({ page, sort, query, take }: SelectParams) =&gt; {\n    // the selectMany here is a subscription to some data on the server\n        return this.apolloWrapper.selectMany(this.gql, page, sort, query, take ).pipe(\n    // we add page data so we can use it in the scan\n            map(data =&gt; ({ data, page }) as any)\n        );\n    }),\n    // we append the result if page was incremented\n    // else we just return the result\n    scan((acc: any, curr: any) =&gt; curr.page === 0 ? curr.data : acc.concat(curr.data), [])\n);\n</code></pre>\n\n<p>The method <code>this.apolloWrapper.selectMany</code> is a method we created that just does a subscription over websocket to some slice of the data.\nSay we had <code>page = 0</code> then <code>this.apolloWrapper.selectMany</code> will return a subscription to the first slice of data, then when <code>page = 1</code>, <code>this.apolloWrapper.selectMany</code> returns a subscription to the second slice of data.</p>\n\n<p>The problem arise when we load the second page and make a modification to items to the first slice, the <code>scan</code> is then triggered and items are readded to the end of the list.</p>\n"}, {"tags": ["typescript"], "answers": [{"tags": [], "owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "is_accepted": true, "score": 2, "last_activity_date": 1530714412, "creation_date": 1530714412, "answer_id": 51175980, "question_id": 51174948, "link": "https://stackoverflow.com/questions/51174948/how-to-type-map-intersection-per-type-in-typescript/51175980#51175980", "title": "How to type-map intersection per type in Typescript?", "body": "<p>You can use the distributing behavior of conditional types:</p>\n\n<pre><code>type PickDistributed&lt;T, K extends keyof T&gt; = T extends object ? Pick&lt;T, K&gt; : never;\n\ntype Union = Foo | Bar | Baz;\n\ntype A1 = PickDistributed&lt;Union, 'a'&gt;; // creates Pick&lt;Foo, 'a'&gt; | Pick&lt;Bar, 'a'&gt; | Pick&lt;Baz, 'a'&gt;\ntype B1 = PickDistributed&lt;Union, 'b'&gt;;\n</code></pre>\n"}], "owner": {"reputation": 2576, "user_id": 289827, "user_type": "registered", "accept_rate": 47, "profile_image": "https://i.stack.imgur.com/h6h7I.jpg?s=128&g=1", "display_name": "Martin \u017ddila", "link": "https://stackoverflow.com/users/289827/martin-%c5%bddila"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 124, "favorite_count": 0, "accepted_answer_id": 51175980, "answer_count": 1, "score": 1, "last_activity_date": 1530714412, "creation_date": 1530711092, "question_id": 51174948, "link": "https://stackoverflow.com/questions/51174948/how-to-type-map-intersection-per-type-in-typescript", "title": "How to type-map intersection per type in Typescript?", "body": "<p>I have many interfaces like <code>Foo</code>, <code>Bar</code>, <code>Baz</code>, ... and I need to have union of their mapped types where mapping is always the same (eg. with <code>Pick</code>). </p>\n\n<pre><code>interface Foo {\n  a: 'FooA';\n  b: 'FooB';\n}\n\ninterface Bar {\n  a: 'BarA';\n  b: 'BarB';\n}\n\ninterface Baz {\n  a: 'BazA';\n  b: 'BazB';\n}\n</code></pre>\n\n<p>I can do it \"manually\":</p>\n\n<pre><code>type A = Pick&lt;Foo, 'a'&gt; | Pick&lt;Bar, 'a'&gt; | Pick&lt;Baz, 'a'&gt;;\ntype B = Pick&lt;Foo, 'b'&gt; | Pick&lt;Bar, 'b'&gt; | Pick&lt;Baz, 'b'&gt;;\n</code></pre>\n\n<p>But I would like not to repeat myself. Following code doesn't do it as it unions the properties of types and maps it afterwards:</p>\n\n<pre><code>type Union = Foo | Bar | Baz;\n\ntype A = Pick&lt;Union, 'a'&gt;; // creates { a: 'FooA' | 'BarA' | 'BazA' } but I need { a: 'FooA' } | { a: 'BarA' } | { a: 'BazA' }\ntype B = Pick&lt;Union, 'b'&gt;;\n</code></pre>\n\n<p>Is there a way to do it?</p>\n"}, {"tags": ["html", "node.js", "angular", "typescript"], "comments": [{"owner": {"reputation": 1959, "user_id": 1304668, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/qeGXo.png?s=128&g=1", "display_name": "Bagata", "link": "https://stackoverflow.com/users/1304668/bagata"}, "edited": false, "score": 0, "creation_date": 1530712143, "post_id": 51174939, "comment_id": 89333227, "body": "Can you show us what you have tried so far to code these function?"}, {"owner": {"reputation": 21, "user_id": 10032422, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-dncEM4z70y0/AAAAAAAAAAI/AAAAAAAAA_Y/Doupx9dS3iA/photo.jpg?sz=128", "display_name": "Stuzer", "link": "https://stackoverflow.com/users/10032422/stuzer"}, "reply_to_user": {"reputation": 1959, "user_id": 1304668, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/qeGXo.png?s=128&g=1", "display_name": "Bagata", "link": "https://stackoverflow.com/users/1304668/bagata"}, "edited": false, "score": 0, "creation_date": 1530801783, "post_id": 51174939, "comment_id": 89369749, "body": "i posted an alternative answer"}], "answers": [{"tags": [], "owner": {"reputation": 1792, "user_id": 574667, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/bc780ed8c9b17ef213e90287b23b2ec4?s=128&d=identicon&r=PG", "display_name": "jaboja", "link": "https://stackoverflow.com/users/574667/jaboja"}, "is_accepted": false, "score": 0, "last_activity_date": 1530711428, "creation_date": 1530711428, "answer_id": 51175049, "question_id": 51174939, "link": "https://stackoverflow.com/questions/51174939/how-to-get-tablearrayindex-in-to-component-in-angular/51175049#51175049", "title": "How to get Table(array)index in to component in Angular", "body": "<p>Set some additional variables to the <code>index</code> and use them in your (click) handler:</p>\n\n<pre><code>&lt;tbody&gt;\n    &lt;tr *ngFor=\"let subarray of myarray2; let i = index;\"&gt;\n        &lt;td *ngFor=\"let item of subarray; let j = index;\"&gt;\n          {{item}}\n          &lt;span tabindex=\"0\" (click)=\"someMethod(i, j)\"&gt;+&lt;/button&gt;\n        &lt;/td&gt;\n    &lt;/tr&gt;\n&lt;/tbody&gt;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 21, "user_id": 10032422, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-dncEM4z70y0/AAAAAAAAAAI/AAAAAAAAA_Y/Doupx9dS3iA/photo.jpg?sz=128", "display_name": "Stuzer", "link": "https://stackoverflow.com/users/10032422/stuzer"}, "is_accepted": false, "score": 0, "last_activity_date": 1530801746, "creation_date": 1530801746, "answer_id": 51194159, "question_id": 51174939, "link": "https://stackoverflow.com/questions/51174939/how-to-get-tablearrayindex-in-to-component-in-angular/51194159#51194159", "title": "How to get Table(array)index in to component in Angular", "body": "<p>I managed to get as parameters with help of the comment.This one also works .Thanks a lot</p>\n\n<p>html</p>\n\n<pre><code> &lt;tbody&gt;\n                            &lt;tr *ngFor=\"let i of myarray2 ; let indx1 = index\" [attr.data-index]=\"indx1\"&gt;\n                            &lt;td  *ngFor=\"let j of i ; let indx2 = index\" [attr.data-index]=\"indx2\"  &gt; {{j}} \n                            &lt;button *ngIf=\"j=='0.0 h'\" (click)=\"getIndexofTable(indx1, indx2)\" class=\"fa fa-plus\" &gt; &lt;/button&gt;\n                             &lt;/td&gt;\n\n                        &lt;/tr&gt;\n</code></pre>\n\n<p>typescript</p>\n\n<p>getIndexofTable(index_value:number,index_value2:number){\n}</p>\n"}], "owner": {"reputation": 21, "user_id": 10032422, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-dncEM4z70y0/AAAAAAAAAAI/AAAAAAAAA_Y/Doupx9dS3iA/photo.jpg?sz=128", "display_name": "Stuzer", "link": "https://stackoverflow.com/users/10032422/stuzer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 152, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1530801746, "creation_date": 1530711062, "last_edit_date": 1530729505, "question_id": 51174939, "link": "https://stackoverflow.com/questions/51174939/how-to-get-tablearrayindex-in-to-component-in-angular", "title": "How to get Table(array)index in to component in Angular", "body": "<p>I made 2 dim-array to implement my data on html page,</p>\n\n<pre><code>&lt;tbody&gt;\n   &lt;tr *ngFor=\"let i of myarray2\"&gt;\n     &lt;td  *ngFor=\"let j of i\"&gt; {{j}} \n     &lt;/td&gt;\n   &lt;/tr&gt;\n&lt;/tbody&gt;\n</code></pre>\n\n<p>It looks like this:</p>\n\n<p><a href=\"https://i.stack.imgur.com/zRvZ7.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/zRvZ7.jpg\" alt=\"enter image description here\"></a></p>\n\n<p>I need a function like when I click the plus I want to pass index values of my array(i and j) into my component (.ts file).</p>\n"}, {"tags": ["angular", "typescript", "service", "dependency-injection", "angular6"], "comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user4676340"}, "edited": false, "score": 0, "creation_date": 1530711818, "post_id": 51174859, "comment_id": 89333025, "body": "I don&#39;t understand the purpose of that. What are you trying to achieve ?"}, {"owner": {"reputation": 3190, "user_id": 4551323, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/e877dee94c068df58fe28b260b7fe46f?s=128&d=identicon&r=PG&f=1", "display_name": "Mr.wiseguy", "link": "https://stackoverflow.com/users/4551323/mr-wiseguy"}, "edited": false, "score": 2, "creation_date": 1530712034, "post_id": 51174859, "comment_id": 89333153, "body": "Dependency injection like it should be, the class uses an interface and doesn&#39;t care about the implementation of the code. Sure Angular works a bit differend with the need to type the injection with &#39;useValue&#39; everywhere, but it serves the same purpose."}, {"owner": {"user_type": "does_not_exist", "display_name": "user4676340"}, "edited": false, "score": 0, "creation_date": 1530712080, "post_id": 51174859, "comment_id": 89333181, "body": "And why don&#39;t you use the interface with <code>export class MyService implements MyInterface {...}</code> ?"}, {"owner": {"user_type": "does_not_exist", "display_name": "user4676340"}, "edited": false, "score": 0, "creation_date": 1530712157, "post_id": 51174859, "comment_id": 89333241, "body": "And BTW, <code>useValue</code> requires a value (an actual instance of a class), and <code>useClass</code> allows you to use classes. So try with <code>useClass</code>, and maybe <code>useInterface</code> (but this one I&#39;m not sure)"}, {"owner": {"reputation": 3190, "user_id": 4551323, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/e877dee94c068df58fe28b260b7fe46f?s=128&d=identicon&r=PG&f=1", "display_name": "Mr.wiseguy", "link": "https://stackoverflow.com/users/4551323/mr-wiseguy"}, "edited": false, "score": 0, "creation_date": 1530713013, "post_id": 51174859, "comment_id": 89333788, "body": "@trichetriche, unfortunately the <code>useClass</code> does not work either, since it does not match the parameter of the InjectableProvider (updated answer). About &#39;why don&#39;t you use (..) implements (..)&#39;, I don&#39;t want to do that because that way I still have to set the exact type in the constructor and I want to avoid that if possible"}, {"owner": {"user_type": "does_not_exist", "display_name": "user4676340"}, "edited": false, "score": 0, "creation_date": 1530713459, "post_id": 51174859, "comment_id": 89334069, "body": "And what about using a factory with <code>useFactory</code> ? this would cope with the signature. And you don&#39;t have to set the exact type in the constructor, you can create a <code>SotrageInterface</code> for instance, which is not the exact type and would still allow you to use <code>implements</code>"}, {"owner": {"reputation": 2726, "user_id": 1435187, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/d73c66853bc0b33f31c910a316b0a7a9?s=128&d=identicon&r=PG", "display_name": "FabiF", "link": "https://stackoverflow.com/users/1435187/fabif"}, "edited": false, "score": 0, "creation_date": 1535040163, "post_id": 51174859, "comment_id": 90929448, "body": "I think it&#39;s a duplication of this post: <a href=\"https://stackoverflow.com/a/50495384/1435187\">stackoverflow.com/a/50495384/1435187</a> (which have a solution)"}, {"owner": {"reputation": 3190, "user_id": 4551323, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/e877dee94c068df58fe28b260b7fe46f?s=128&d=identicon&r=PG&f=1", "display_name": "Mr.wiseguy", "link": "https://stackoverflow.com/users/4551323/mr-wiseguy"}, "reply_to_user": {"reputation": 2726, "user_id": 1435187, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/d73c66853bc0b33f31c910a316b0a7a9?s=128&d=identicon&r=PG", "display_name": "FabiF", "link": "https://stackoverflow.com/users/1435187/fabif"}, "edited": false, "score": 0, "creation_date": 1535469804, "post_id": 51174859, "comment_id": 91072976, "body": "@FabiF, I agree it looks a lot like that question, but the big difference is that he is using an abstract class on which the can define the &#39;use class&#39;, where I am using an interface to define it&#39;s type."}], "answers": [{"comments": [{"owner": {"reputation": 3190, "user_id": 4551323, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/e877dee94c068df58fe28b260b7fe46f?s=128&d=identicon&r=PG&f=1", "display_name": "Mr.wiseguy", "link": "https://stackoverflow.com/users/4551323/mr-wiseguy"}, "edited": false, "score": 2, "creation_date": 1530713107, "post_id": 51175409, "comment_id": 89333836, "body": "This does not match the params defined by the <code>InjectableProvider</code>, so unfortunately this does not work"}], "tags": [], "owner": {"reputation": 1622, "user_id": 8907887, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/39dc045d9bbf748ac92dbe256836375c?s=128&d=identicon&r=PG&f=1", "display_name": "eduPeeth", "link": "https://stackoverflow.com/users/8907887/edupeeth"}, "is_accepted": false, "score": -1, "last_activity_date": 1530712515, "creation_date": 1530712515, "answer_id": 51175409, "question_id": 51174859, "link": "https://stackoverflow.com/questions/51174859/angular-6-service-with-interface/51175409#51175409", "title": "Angular 6 service with interface", "body": "<p>You can use something like -</p>\n\n<pre><code>[{ provide: InterfaceName, useClass: ClassName}]\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 3190, "user_id": 4551323, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/e877dee94c068df58fe28b260b7fe46f?s=128&d=identicon&r=PG&f=1", "display_name": "Mr.wiseguy", "link": "https://stackoverflow.com/users/4551323/mr-wiseguy"}, "edited": false, "score": 0, "creation_date": 1531216807, "post_id": 51262078, "comment_id": 89502630, "body": "This works, but the problem is that this uses the old Angular 5 syntax for declaring a service. I am asking for a solution with the new Angular 6 syntax, since this (<code>provideIn: &#39;root&#39;</code>) is not declared via the module, but is only injected in the components that use it (better for tree shaking)."}], "tags": [], "owner": {"reputation": 69, "user_id": 5335781, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a26e77d88eeed679dccf0ba462cdc941?s=128&d=identicon&r=PG&f=1", "display_name": "k0zakinio", "link": "https://stackoverflow.com/users/5335781/k0zakinio"}, "is_accepted": false, "score": 6, "last_activity_date": 1531216479, "last_edit_date": 1531216479, "creation_date": 1531216074, "answer_id": 51262078, "question_id": 51174859, "link": "https://stackoverflow.com/questions/51174859/angular-6-service-with-interface/51262078#51262078", "title": "Angular 6 service with interface", "body": "<p>I used something like the following to solve this  </p>\n\n<p><strong>app.module.ts</strong></p>\n\n<pre><code>providers: [\n  { provide: AlmostInterface, useClass: environment.concrete }\n  ...\n]\n</code></pre>\n\n<p><strong>AlmostInterface.ts</strong></p>\n\n<pre><code>export abstract class AlmostInterface {\n   abstract myMethod();\n}\n</code></pre>\n\n<p><strong>MyConcrete.ts</strong></p>\n\n<pre><code>export class MyConcrete implements AlmostInterface {\n   myMethod() { ... }; // implementation\n}\n\nexport class MyConcreteAlternative implements AlmostInterface {\n   myMethod() { ... }; // implementation\n}\n</code></pre>\n\n<p><strong>environment.ts</strong></p>\n\n<pre><code>export const environment = {\n  production: false,\n  concrete: MyConcreteAlternative\n};\n</code></pre>\n\n<p><strong>environment.prod.ts</strong></p>\n\n<pre><code>export const environment = {\n  production: true,\n  concrete: MyConcrete\n};\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 3190, "user_id": 4551323, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/e877dee94c068df58fe28b260b7fe46f?s=128&d=identicon&r=PG&f=1", "display_name": "Mr.wiseguy", "link": "https://stackoverflow.com/users/4551323/mr-wiseguy"}, "edited": false, "score": 0, "creation_date": 1531230531, "post_id": 51264655, "comment_id": 89511991, "body": "Well, Angular (and Typescript) does provide a way for dependency injection, see @k0zakinio&#39;s answer. So it is possible. But I want to know if it&#39;s also possible for the Angular 6 way of services."}, {"owner": {"reputation": 279, "user_id": 7707428, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c0c59fe4f348db43aa648710e633b488?s=128&d=identicon&r=PG&f=1", "display_name": "SirDieter", "link": "https://stackoverflow.com/users/7707428/sirdieter"}, "reply_to_user": {"reputation": 3190, "user_id": 4551323, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/e877dee94c068df58fe28b260b7fe46f?s=128&d=identicon&r=PG&f=1", "display_name": "Mr.wiseguy", "link": "https://stackoverflow.com/users/4551323/mr-wiseguy"}, "edited": false, "score": 0, "creation_date": 1531297959, "post_id": 51264655, "comment_id": 89538845, "body": "Sorry, I totally misunderstood your question."}], "tags": [], "owner": {"reputation": 279, "user_id": 7707428, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c0c59fe4f348db43aa648710e633b488?s=128&d=identicon&r=PG&f=1", "display_name": "SirDieter", "link": "https://stackoverflow.com/users/7707428/sirdieter"}, "is_accepted": false, "score": 1, "last_activity_date": 1531298890, "last_edit_date": 1531298890, "creation_date": 1531224059, "answer_id": 51264655, "question_id": 51174859, "link": "https://stackoverflow.com/questions/51174859/angular-6-service-with-interface/51264655#51264655", "title": "Angular 6 service with interface", "body": "<p>I think you can't use typescript interfaces for dependency injection as <strong>typescript interfaces don't exist</strong> at runtime (only for typesafety at compile time).\n<br>I would suggest using an <strong>abstract class</strong> for it.</p>\n\n<p>EDIT:\nIt seems you can use <code>useClass</code> in the <strong>first</strong> parameter of @Injectable, not as a second like your example. Combining that with @k0zakinio's answer results in:</p>\n\n<pre><code>@Injectable({\n  providedIn: 'root',\n  useClass: environment.concrete,\n  deps: []\n})\nexport abstract class SessionStorage { }\n</code></pre>\n\n<p>It also seems you need to declare your dependencies via <code>deps</code> or <code>inject</code>, checkout this <a href=\"https://github.com/angular/angular/issues/23592\" rel=\"nofollow noreferrer\">github issue</a>. I hope this time my answer is of more help.</p>\n"}, {"comments": [{"owner": {"reputation": 3190, "user_id": 4551323, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/e877dee94c068df58fe28b260b7fe46f?s=128&d=identicon&r=PG&f=1", "display_name": "Mr.wiseguy", "link": "https://stackoverflow.com/users/4551323/mr-wiseguy"}, "edited": false, "score": 0, "creation_date": 1535469473, "post_id": 51964601, "comment_id": 91072748, "body": "I think this is the best option, unfortunately it needs yet an other variable and the <code>provideIn</code> needs to be defined on the token, where I would expect it to be defined on the service."}, {"owner": {"reputation": 15798, "user_id": 220005, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/6ac1b3b619949e4d1e397d522233e655?s=128&d=identicon&r=PG", "display_name": "jenson-button-event", "link": "https://stackoverflow.com/users/220005/jenson-button-event"}, "reply_to_user": {"reputation": 3190, "user_id": 4551323, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/e877dee94c068df58fe28b260b7fe46f?s=128&d=identicon&r=PG&f=1", "display_name": "Mr.wiseguy", "link": "https://stackoverflow.com/users/4551323/mr-wiseguy"}, "edited": false, "score": 0, "creation_date": 1535472019, "post_id": 51964601, "comment_id": 91074414, "body": "@Mr.wiseguy the <code>providedIn</code> is new in ng 6 and is recommended for some tree-shaking optimisation purpose. you can still register providers in the modules themselves."}, {"owner": {"reputation": 3190, "user_id": 4551323, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/e877dee94c068df58fe28b260b7fe46f?s=128&d=identicon&r=PG&f=1", "display_name": "Mr.wiseguy", "link": "https://stackoverflow.com/users/4551323/mr-wiseguy"}, "edited": false, "score": 0, "creation_date": 1535480994, "post_id": 51964601, "comment_id": 91078864, "body": "I agree with you on that (I really like the new <code>providedIn</code> option), but what I ment was that you can no longer decalre this on the service itself. It has to be declared on the injection token, otherwise it will not be available in the whole application."}, {"owner": {"reputation": 1973, "user_id": 3884310, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/4561a51306a43be225fceafa9f66d4c9?s=128&d=identicon&r=PG&f=1", "display_name": "tsiro", "link": "https://stackoverflow.com/users/3884310/tsiro"}, "edited": false, "score": 1, "creation_date": 1543597605, "post_id": 51964601, "comment_id": 93989447, "body": "what if we would like to inject something into &#39;CognitoAuthenticationProvider&#39; constructor?"}, {"owner": {"reputation": 1169, "user_id": 3177814, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4EjkD.jpg?s=128&g=1", "display_name": "MegaCasper", "link": "https://stackoverflow.com/users/3177814/megacasper"}, "edited": false, "score": 1, "creation_date": 1544629928, "post_id": 51964601, "comment_id": 94345831, "body": "I pay attention on the interface <code>IAuthenticationProvider</code> name. Angular style guide says: <a href=\"https://angular.io/guide/styleguide#style-03-03\" rel=\"nofollow noreferrer\">Consider naming an interface without an I prefix.</a>"}, {"owner": {"reputation": 15799, "user_id": 1195273, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/392b9a49e8a308036d37c9d07e9c7d9b?s=128&d=identicon&r=PG", "display_name": "crush", "link": "https://stackoverflow.com/users/1195273/crush"}, "reply_to_user": {"reputation": 1973, "user_id": 3884310, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/4561a51306a43be225fceafa9f66d4c9?s=128&d=identicon&r=PG&f=1", "display_name": "tsiro", "link": "https://stackoverflow.com/users/3884310/tsiro"}, "edited": false, "score": 0, "creation_date": 1583943195, "post_id": 51964601, "comment_id": 107284403, "body": "@tsiro I had the same question. Angular docs state the following about that: <code>When creating an InjectionToken, you can optionally specify a factory function which returns (possibly by creating) a default value of the parameterized type T. This sets up the InjectionToken using this factory as a provider as if it was defined explicitly in the application&#39;s root injector. If the factory function, which takes zero arguments, needs to inject dependencies, it can do so using the inject function.</code> They provide an <a href=\"https://angular.io/api/core/InjectionToken#description\" rel=\"nofollow noreferrer\">example</a>."}, {"owner": {"reputation": 15799, "user_id": 1195273, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/392b9a49e8a308036d37c9d07e9c7d9b?s=128&d=identicon&r=PG", "display_name": "crush", "link": "https://stackoverflow.com/users/1195273/crush"}, "reply_to_user": {"reputation": 1973, "user_id": 3884310, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/4561a51306a43be225fceafa9f66d4c9?s=128&d=identicon&r=PG&f=1", "display_name": "tsiro", "link": "https://stackoverflow.com/users/3884310/tsiro"}, "edited": false, "score": 0, "creation_date": 1583944372, "post_id": 51964601, "comment_id": 107285088, "body": "@tsiro Also keep in mind the <code>factory</code> parameter is optional, and only provides a default for the injection token. You might be in a case where you don&#39;t have a default to provide, in which case you shouldn&#39;t use the <code>factory</code> parameter at all. This would let angular fail with an error if you hadn&#39;t configured the injector to have any services to inject with that token elsewhere. You can setup the provider when adding your service to a module to use <code>providers: [{ provide: YOUR_TOKEN, useClass: YourConcreteClass }]</code>"}], "tags": [], "owner": {"reputation": 15798, "user_id": 220005, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/6ac1b3b619949e4d1e397d522233e655?s=128&d=identicon&r=PG", "display_name": "jenson-button-event", "link": "https://stackoverflow.com/users/220005/jenson-button-event"}, "is_accepted": true, "score": 12, "last_activity_date": 1534932786, "creation_date": 1534932786, "answer_id": 51964601, "question_id": 51174859, "link": "https://stackoverflow.com/questions/51174859/angular-6-service-with-interface/51964601#51964601", "title": "Angular 6 service with interface", "body": "<p>This can be done with <code>InjectionToken</code>, which is a replacement for the obsolete <code>OpaqueToken</code></p>\n\n<pre><code>export const AuthenticationProvider = new InjectionToken(\n  \"AuthenticationProvider\",\n  { providedIn: \"root\", factory: () =&gt; new CognitoAuthenticationProvider() }\n);\n\n...\n\n@Injectable()\nexport class CognitoAuthenticationProvider implements IAuthenticationProvider {\n\n...\n\n@Injectable({\n  providedIn: \"root\"\n})\nexport class AuthenticationService {\n  constructor(\n    @Inject(AuthenticationProvider)\n    private authenticationProvider: IAuthenticationProvider,\n    private http: HttpClient\n  ) {}\n</code></pre>\n"}], "owner": {"reputation": 3190, "user_id": 4551323, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/e877dee94c068df58fe28b260b7fe46f?s=128&d=identicon&r=PG&f=1", "display_name": "Mr.wiseguy", "link": "https://stackoverflow.com/users/4551323/mr-wiseguy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 20796, "favorite_count": 3, "accepted_answer_id": 51964601, "answer_count": 4, "score": 11, "last_activity_date": 1534932786, "creation_date": 1530710847, "last_edit_date": 1530712850, "question_id": 51174859, "link": "https://stackoverflow.com/questions/51174859/angular-6-service-with-interface", "title": "Angular 6 service with interface", "body": "<p>I am building an application with Angular (<code>6.0.7</code>) and I am trying to create a service with the new:</p>\n\n<pre><code>@Injectable({\n  providedIn: 'root'\n})\n</code></pre>\n\n<p>But how can I type an injection with an Interface?</p>\n\n<hr>\n\n<p><strong>The problem</strong></p>\n\n<p>I have 2 services, <strong>Authentication.service</strong> and <strong>SessionStorage.service</strong>. I want to inject the sessionstorage into the authentication service. That can be done via:</p>\n\n<pre><code>constructor(private sessionStorage: SessionStorage) {\n}\n</code></pre>\n\n<p>No problem there. But for Object Orientated purposes I want to have an <code>interface</code> above this service (so that I can implement both localstorage service as sessionstorage service). Thus it is only logical that I want to type the injected class with the interface, but this cannot be done the same way <a href=\"https://stackoverflow.com/questions/40068456/angular-2-interface-for-service\">Angular 5 and lower does it</a>.</p>\n\n<p>So how can I type the injection into this global service with my interface?</p>\n\n<hr>\n\n<p><strong>I've tried</strong></p>\n\n<p>The Angular service typings describe an <code>InjectableProvider</code>, but this does not match any of the parameters of the siblings of <code>InjectableProvider</code>, so this gives a compiler (and tslint) error. </p>\n\n<pre><code>@Injectable({\n  providedIn: 'root'\n}, {provide: IStorageService, useClass: SessionStorage})\n</code></pre>\n"}, {"tags": ["typescript", "es6-promise", "finally"], "comments": [{"owner": {"reputation": 555, "user_id": 1190491, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/514494bc594a1ec74404e0bdce928699?s=128&d=identicon&r=PG", "display_name": "Loic Coenen", "link": "https://stackoverflow.com/users/1190491/loic-coenen"}, "edited": false, "score": 0, "creation_date": 1530710601, "post_id": 51174725, "comment_id": 89332261, "body": "I tried to pin es6-promise to 4.1.1 and to simply remove it. I use typescript 2.8.3"}, {"owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "edited": false, "score": 0, "creation_date": 1530710711, "post_id": 51174725, "comment_id": 89332328, "body": "Have you tried just using the build-in promise definitions ? In tsconfig: <code>&quot;lib&quot;: [&quot;es5&quot;,&quot;es2015.promise&quot;,&quot;dom&quot;, &quot;scripthost&quot;]</code>"}, {"owner": {"reputation": 555, "user_id": 1190491, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/514494bc594a1ec74404e0bdce928699?s=128&d=identicon&r=PG", "display_name": "Loic Coenen", "link": "https://stackoverflow.com/users/1190491/loic-coenen"}, "reply_to_user": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "edited": false, "score": 0, "creation_date": 1530710884, "post_id": 51174725, "comment_id": 89332437, "body": "Just tried, not working. I&#39;m reluctant to update Typescript since I&#39;m pretty sure that will break everything"}, {"owner": {"reputation": 555, "user_id": 1190491, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/514494bc594a1ec74404e0bdce928699?s=128&d=identicon&r=PG", "display_name": "Loic Coenen", "link": "https://stackoverflow.com/users/1190491/loic-coenen"}, "reply_to_user": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "edited": false, "score": 0, "creation_date": 1530711228, "post_id": 51174725, "comment_id": 89332654, "body": "Updated to 2.9.2, still not working (but it looks like the compiler is using <code>--pretty</code> by default now... the error is prettier and neatly colorised, but it is still there)."}, {"owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "edited": false, "score": 1, "creation_date": 1530711425, "post_id": 51174725, "comment_id": 89332785, "body": "I was not necessarily suggesting you upgrade tsc, I was if you just need the definitions for Promises, to use the buit-in ones. You can do this even while targeting <code>es5</code> by using the libs option as above. And remove es6-promise"}, {"owner": {"reputation": 555, "user_id": 1190491, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/514494bc594a1ec74404e0bdce928699?s=128&d=identicon&r=PG", "display_name": "Loic Coenen", "link": "https://stackoverflow.com/users/1190491/loic-coenen"}, "reply_to_user": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "edited": false, "score": 0, "creation_date": 1530711601, "post_id": 51174725, "comment_id": 89332890, "body": "Oh right I haven&#39;t removed e6-promise. I&#39;ll be right back."}, {"owner": {"reputation": 555, "user_id": 1190491, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/514494bc594a1ec74404e0bdce928699?s=128&d=identicon&r=PG", "display_name": "Loic Coenen", "link": "https://stackoverflow.com/users/1190491/loic-coenen"}, "reply_to_user": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "edited": false, "score": 0, "creation_date": 1530711837, "post_id": 51174725, "comment_id": 89333031, "body": "Yup, it&#39;s working, thanks!"}], "answers": [{"comments": [{"owner": {"reputation": 1277, "user_id": 292779, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/f9f0f5d13dbdda25bed194a52cf01da9?s=128&d=identicon&r=PG", "display_name": "Fraga", "link": "https://stackoverflow.com/users/292779/fraga"}, "edited": false, "score": 0, "creation_date": 1604341960, "post_id": 51175297, "comment_id": 114313001, "body": "I am using typescript 2.7.2 and want to use finally in my promises. this solved it.. but what are you setting in target and module? and is there any way to update this to 2018 with my version?"}], "tags": [], "owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "is_accepted": false, "score": 1, "last_activity_date": 1530712205, "creation_date": 1530712205, "answer_id": 51175297, "question_id": 51174725, "link": "https://stackoverflow.com/questions/51174725/property-finally-is-missing-in-type-promise/51175297#51175297", "title": "Property finally is missing in type Promise", "body": "<p>If all you need is a correct type definition for a <code>Promise</code> then you can just use the built-in definitions that come with typescript (I say this because you note that the promise you are actually working with has the <code>finally</code> method as expected).</p>\n\n<p>To do this, remove <code>es6-promise</code> form you project and in <code>tsconfig</code> change your lib to:</p>\n\n<pre><code>{\n    ....\n    \"lib\": [\"es5\",\"es2015.promise\",\"dom\", \"scripthost\"] \n    ....\n} \n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 195, "user_id": 507237, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/436cfca55b1a30e16730b40ef0b5d4ed?s=128&d=identicon&r=PG", "display_name": "Barbarrosa", "link": "https://stackoverflow.com/users/507237/barbarrosa"}, "edited": false, "score": 0, "creation_date": 1573862448, "post_id": 51187968, "comment_id": 104039486, "body": "Note for other people coming here: you can encounter a very similar error when you&#39;re treating a resolved promise value as a promise. This can trip people up when you&#39;re dealing with nested promises."}, {"owner": {"reputation": 348, "user_id": 1581278, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/54c6b12b04881eaf453d29e1c3c680af?s=128&d=identicon&r=PG", "display_name": "Max Waterman", "link": "https://stackoverflow.com/users/1581278/max-waterman"}, "reply_to_user": {"reputation": 195, "user_id": 507237, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/436cfca55b1a30e16730b40ef0b5d4ed?s=128&d=identicon&r=PG", "display_name": "Barbarrosa", "link": "https://stackoverflow.com/users/507237/barbarrosa"}, "edited": false, "score": 0, "creation_date": 1594708890, "post_id": 51187968, "comment_id": 111211820, "body": "@Barbarrosa I think I might be encountering the problem you describe...any pointers on how to fix it?"}, {"owner": {"reputation": 195, "user_id": 507237, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/436cfca55b1a30e16730b40ef0b5d4ed?s=128&d=identicon&r=PG", "display_name": "Barbarrosa", "link": "https://stackoverflow.com/users/507237/barbarrosa"}, "reply_to_user": {"reputation": 348, "user_id": 1581278, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/54c6b12b04881eaf453d29e1c3c680af?s=128&d=identicon&r=PG", "display_name": "Max Waterman", "link": "https://stackoverflow.com/users/1581278/max-waterman"}, "edited": false, "score": 0, "creation_date": 1619249813, "post_id": 51187968, "comment_id": 118852253, "body": "@MaxWaterman I&#39;m not sure about your particular situation, but generally you&#39;d need to update the typings to reflect the non-promise value and correct accessors to avoid using properties that don&#39;t exist on the non-promise type."}], "tags": [], "owner": {"reputation": 4328, "user_id": 5951226, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/228FB.png?s=128&g=1", "display_name": "Jamie Birch", "link": "https://stackoverflow.com/users/5951226/jamie-birch"}, "is_accepted": false, "score": 6, "last_activity_date": 1538566139, "last_edit_date": 1538566139, "creation_date": 1530783355, "answer_id": 51187968, "question_id": 51174725, "link": "https://stackoverflow.com/questions/51174725/property-finally-is-missing-in-type-promise/51187968#51187968", "title": "Property finally is missing in type Promise", "body": "<p>I'm the one who noted that the <code>finally</code> shim was breaking Promise compatibility on that <a href=\"https://github.com/stefanpenner/es6-promise/issues/232#issuecomment-372413522\" rel=\"noreferrer\">linked issue</a>. Nice to see this getting some attention. Here are some options:</p>\n\n<h2>1. Rely purely on the TypeScript core library's typings</h2>\n\n<p><strong><code>tsconfig.json</code></strong></p>\n\n<pre><code>{\n    \"compilerOptions\": {\n        \"lib\": [\"DOM\",\"ES5\",\"ScriptHost\", \"es2018.promise\"]\n    }\n}\n</code></pre>\n\n<p>Install the shim, run the polyfill once at the start of your app, and from then on use the global <code>Promise</code> object rather than continuing to import the <code>Promise</code> class from <code>es6-promise</code>. I've found this to be the most inter-operable way.</p>\n\n<pre><code>npm install --save es6-promise@latest\n</code></pre>\n\n<p>Note that <code>es6-promise</code> has, for the last few releases, been bundling its own typings that conflict with the typings of TypeScript's built-in <code>Promise</code> libs.</p>\n\n<h2>2. Use an older version of <code>es6-promise</code> that doesn't include the <code>finally</code> shim</h2>\n\n<p>Note: Of course this means that you can't use <code>finally</code></p>\n\n<pre><code>{\n    \"compilerOptions\": {\n        \"lib\": [\"DOM\",\"ES5\",\"ScriptHost\"]\n    }\n}\n</code></pre>\n\n<p>Install the last version of <code>es6-promise</code> before they introduced <code>finally</code>, and use those typings:</p>\n\n<pre><code>npm install --save es6-promise@4.2.2 &amp;&amp; npm install --save-dev @types/es6-promise@0.0.32\n</code></pre>\n\n<p>(Or otherwise omit those typings and add <code>es2015.promise</code> to your <code>compilerOptions.lib</code> array in <code>tsconfig.json</code>.)</p>\n"}], "owner": {"reputation": 555, "user_id": 1190491, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/514494bc594a1ec74404e0bdce928699?s=128&d=identicon&r=PG", "display_name": "Loic Coenen", "link": "https://stackoverflow.com/users/1190491/loic-coenen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 8836, "favorite_count": 1, "answer_count": 2, "score": 11, "last_activity_date": 1538566139, "creation_date": 1530710413, "question_id": 51174725, "link": "https://stackoverflow.com/questions/51174725/property-finally-is-missing-in-type-promise", "title": "Property finally is missing in type Promise", "body": "<p>I'm pretty sure I'll be able to solve this issue by myself but if it can help somebody else I want to share and save somebody else time. </p>\n\n<p>I had to add the <code>es6-promise</code> library to get rid of this error</p>\n\n<pre><code>Promise only result to a type, but is only used as a value here.\n</code></pre>\n\n<p>when I was trying to use Promise.all (see <a href=\"https://stackoverflow.com/questions/43119163/typescript-error-ts2693-promise-only-refers-to-a-type-but-is-being-used-as#43122423\">this discussion</a> ). It worked fine until now, I get an error when I'm trying to use a Promise from MongoDB. </p>\n\n<pre><code>Promise&lt;whatever&gt; is not assignable to Promise&lt;any&gt;\n    Property 'finally' is missing in type Promise&lt;whatever&gt;\n</code></pre>\n\n<p>According to <a href=\"https://github.com/stefanpenner/es6-promise/issues/232\" rel=\"noreferrer\">this issue on es6-promise</a> (if I got that right), the new finally property is breaking compatibility. It's there on the Promise Mongo return but not on the one I imported from es6-promise. </p>\n\n<p>Any idea?</p>\n"}, {"tags": ["angular", "typescript", "angular-reactive-forms", "angular-forms"], "answers": [{"comments": [{"owner": {"reputation": 9156, "user_id": 714211, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/032f2ba41bba9cbde6fc0eed121efa0b?s=128&d=identicon&r=PG", "display_name": "Doua Beri", "link": "https://stackoverflow.com/users/714211/doua-beri"}, "edited": false, "score": 0, "creation_date": 1554688604, "post_id": 51985922, "comment_id": 97830149, "body": "thanks. just a notice. you can use   if (path === &#39;.&#39;) {     path = getControlName(c);   } else {     path = getControlName(c) + path;   }  to not add the last dot  path.to.name."}, {"owner": {"reputation": 4577, "user_id": 9971404, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7cd9db31d5a582aab9112b2cbaa75e4d?s=128&d=identicon&r=PG&f=1", "display_name": "lonix", "link": "https://stackoverflow.com/users/9971404/lonix"}, "edited": false, "score": 0, "creation_date": 1560257182, "post_id": 51985922, "comment_id": 99669675, "body": "No longer works. <code>formGroup[name]</code> gives me an error: <code>Element implicitly has an &#39;any&#39; type because expression of type &#39;string&#39; can&#39;t be used to index type &#39;{ [key: string]: AbstractControl; } | AbstractControl[]&#39;. No index signature with a parameter of type &#39;string&#39; was found on type &#39;{ [key: string]: AbstractControl; } | AbstractControl[]&#39;</code>. Any idea how to fix it?"}], "tags": [], "owner": {"reputation": 501, "user_id": 1958997, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6c765c0e6089c1a21d158d0ba1be75b0?s=128&d=identicon&r=PG", "display_name": "Marc", "link": "https://stackoverflow.com/users/1958997/marc"}, "is_accepted": false, "score": 5, "last_activity_date": 1535027631, "creation_date": 1535027631, "answer_id": 51985922, "question_id": 51174332, "link": "https://stackoverflow.com/questions/51174332/how-can-i-get-full-path-of-formcontrol-in-angular-4/51985922#51985922", "title": "How can I get full path of FormControl in angular 4+", "body": "<p>I implemented these two methods to get this functionality.  </p>\n\n<p>The first one is a helper that returns the name of a control (as it is indexed in its parent).  The function achieves that by searching on its parent's <code>controls</code> object the control that equals the one that you gave it, and then returning the key.</p>\n\n<p>The second one is a recursive function that calls returns the name of the control using the helper above and calls itself for the control's parent, joining the return string with dots ('.').</p>\n\n<pre class=\"lang-typescript prettyprint-override\"><code>  getControlName(c: AbstractControl): string | null {\n    if(!c.parent) return null;\n    const formGroup = c.parent.controls;\n    return Object.keys(formGroup).find(name =&gt; c === formGroup[name]) || null;\n  }\n\n  getControlPath(c: AbstractControl, path: string): string | null {\n    path = this.getControlName(c) + path;\n\n    if(c.parent &amp;&amp; this.getControlName(c.parent)) {\n      path = \".\"+path;\n      return this.getControlPath(c.parent, path);\n    } else {\n      return path;\n    }\n\n  }\n</code></pre>\n"}], "owner": {"reputation": 101, "user_id": 2886051, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e97f3221dbb51d9a836e2ffad9cb79b9?s=128&d=identicon&r=PG&f=1", "display_name": "Nyahahahaha", "link": "https://stackoverflow.com/users/2886051/nyahahahaha"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1848, "favorite_count": 0, "answer_count": 1, "score": 5, "last_activity_date": 1535027631, "creation_date": 1530709225, "last_edit_date": 1530714419, "question_id": 51174332, "link": "https://stackoverflow.com/questions/51174332/how-can-i-get-full-path-of-formcontrol-in-angular-4", "title": "How can I get full path of FormControl in angular 4+", "body": "<p>How can I get the full path of FormControl in angular 4+?</p>\n\n<p>I have the reactive form:</p>\n\n<pre><code>{\n    name: '',\n    address: {\n        city: '',\n        country: ''\n    }\n}\n</code></pre>\n\n<p>And I rly need to get full path of control:</p>\n\n<pre><code>const addressFormGroup = this.form.get('address');\nconst cityControl = addressFormGroup.get('city');\ncityControl.plsGiveMeFullPath() //address.city\n</code></pre>\n\n<p>Is there existing method to get the full path of cityControl: FormControl | FormGroup?</p>\n"}, {"tags": ["typescript", "visual-studio-code"], "answers": [{"tags": [], "owner": {"reputation": 15625, "user_id": 3786294, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/o0RBY.png?s=128&g=1", "display_name": "Paleo", "link": "https://stackoverflow.com/users/3786294/paleo"}, "is_accepted": true, "score": 5, "last_activity_date": 1530710329, "last_edit_date": 1530710329, "creation_date": 1530709746, "answer_id": 51174514, "question_id": 51174283, "link": "https://stackoverflow.com/questions/51174283/typescript-leaving-out-export-keyword-appears-to-make-an-interface-global/51174514#51174514", "title": "Typescript: leaving out &#39;export&#39; keyword appears to make an interface global?", "body": "<blockquote>\n  <p>So do anyone know what's going on here? Is this expected behavior or rather a bug of either typescript or vs code?</p>\n</blockquote>\n\n<p>This is the expected behavior. If there is no <code>export</code> neither <code>import</code> in a file, then it is a <em>script</em> instead of a module. Then, in a script, all members are global.</p>\n\n<p>See also: <a href=\"https://stackoverflow.com/questions/39652618/classic-scripts-v-s-module-scripts-in-javascript\">Classic scripts v/s module scripts in Javascript</a> </p>\n"}], "owner": {"reputation": 733, "user_id": 3063191, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/KXqpt.jpg?s=128&g=1", "display_name": "jlang", "link": "https://stackoverflow.com/users/3063191/jlang"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 32, "favorite_count": 0, "accepted_answer_id": 51174514, "answer_count": 1, "score": 4, "last_activity_date": 1552037105, "creation_date": 1530709090, "last_edit_date": 1552037105, "question_id": 51174283, "link": "https://stackoverflow.com/questions/51174283/typescript-leaving-out-export-keyword-appears-to-make-an-interface-global", "title": "Typescript: leaving out &#39;export&#39; keyword appears to make an interface global?", "body": "<p>Recently I had the following situation in VSCode in a typescript project:</p>\n\n<p>file: <code>some-interface.ts</code></p>\n\n<pre class=\"lang-js prettyprint-override\"><code>// no import statements have been skipped. This is the whole file:\nexport interface SomeInterface {\n    property: AnotherInterface;         \n}\n</code></pre>\n\n<p>and file: <code>another-interface.ts</code>:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>export interface AnotherInterface {\n    // ...\n}\n</code></pre>\n\n<p>Okay - as there is no import statement in the <code>some-interface.ts</code> VS code showed me the error that the type <code>AnotherInterface</code> could not be found. Of course this is expected behavior. <strong>But as soon I accidently removed the <code>export</code> keyword from <code>another-interface.ts</code> - VS code stopped complaining and could correctly resolve the type.</strong></p>\n\n<p>So do anyone know what's going on here? Is this expected behavior or rather a bug of either typescript or vs code?</p>\n"}, {"tags": ["javascript", "typescript", "webpack", "es6-modules", "rollup"], "comments": [{"owner": {"reputation": 320, "user_id": 4043487, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/x2bOe.jpg?s=128&g=1", "display_name": "Osvaldo Maria", "link": "https://stackoverflow.com/users/4043487/osvaldo-maria"}, "edited": false, "score": 1, "creation_date": 1530709448, "post_id": 51174118, "comment_id": 89331506, "body": "I went through the source and docs  of <a href=\"https://github.com/Hacker0x01/react-datepicker\" rel=\"nofollow noreferrer\">react-datepicker</a> and it seems to have been designed to work in react views, so I do not believe it is going to work if tour project is not react based. I don&#39;t think you can use a standalaone build that works without react"}, {"owner": {"reputation": 5668, "user_id": 2548746, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/0ccce8d8768f2a8173e18c5f1ea329c5?s=128&d=identicon&r=PG", "display_name": "PlayMa256", "link": "https://stackoverflow.com/users/2548746/playma256"}, "edited": false, "score": 0, "creation_date": 1530710225, "post_id": 51174118, "comment_id": 89332014, "body": "<a href=\"https://github.com/Hacker0x01/react-datepicker/blob/master/package.json#L88\" rel=\"nofollow noreferrer\">github.com/Hacker0x01/react-datepicker/blob/master/&hellip;</a> has react as peer dependency, it is required."}, {"owner": {"reputation": 2423, "user_id": 486516, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/9a54285b7c6a99a39f988182056015e1?s=128&d=identicon&r=PG", "display_name": "Pavel", "link": "https://stackoverflow.com/users/486516/pavel"}, "reply_to_user": {"reputation": 320, "user_id": 4043487, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/x2bOe.jpg?s=128&g=1", "display_name": "Osvaldo Maria", "link": "https://stackoverflow.com/users/4043487/osvaldo-maria"}, "edited": false, "score": 0, "creation_date": 1530711993, "post_id": 51174118, "comment_id": 89333118, "body": "@OsvaldoMaria react already exists in application as global variable. It loaded via umd react bundle. We need to build datepicker to use that global react version."}, {"owner": {"reputation": 507143, "user_id": 1048572, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/7f2c4de95e8f4f8f5a71c3aaf0ed312a?s=128&d=identicon&r=PG", "display_name": "Bergi", "link": "https://stackoverflow.com/users/1048572/bergi"}, "edited": false, "score": 0, "creation_date": 1530720474, "post_id": 51174118, "comment_id": 89337774, "body": "Yes, rollup and webpack are exactly made to build such a bundle. Have you tried using them?"}], "answers": [{"comments": [{"owner": {"reputation": 2423, "user_id": 486516, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/9a54285b7c6a99a39f988182056015e1?s=128&d=identicon&r=PG", "display_name": "Pavel", "link": "https://stackoverflow.com/users/486516/pavel"}, "edited": false, "score": 0, "creation_date": 1530792741, "post_id": 51182688, "comment_id": 89363630, "body": "Great! Thanks you very much!"}, {"owner": {"reputation": 188, "user_id": 2597199, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/a0pNG.png?s=128&g=1", "display_name": "mxcoder", "link": "https://stackoverflow.com/users/2597199/mxcoder"}, "reply_to_user": {"reputation": 2423, "user_id": 486516, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/9a54285b7c6a99a39f988182056015e1?s=128&d=identicon&r=PG", "display_name": "Pavel", "link": "https://stackoverflow.com/users/486516/pavel"}, "edited": false, "score": 0, "creation_date": 1530837357, "post_id": 51182688, "comment_id": 89384542, "body": "I&#39;m glad it was useful."}], "tags": [], "owner": {"reputation": 188, "user_id": 2597199, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/a0pNG.png?s=128&g=1", "display_name": "mxcoder", "link": "https://stackoverflow.com/users/2597199/mxcoder"}, "is_accepted": true, "score": 1, "last_activity_date": 1530758097, "creation_date": 1530758097, "answer_id": 51182688, "question_id": 51174118, "link": "https://stackoverflow.com/questions/51174118/build-module-to-use-it-in-environment-without-modules/51182688#51182688", "title": "Build module to use it in environment without modules", "body": "<p>You can achieve this with rollup, you would need to use its external and globals option like this:</p>\n\n<pre><code>external: ['react', 'react-dom', 'moment', 'classnames'],\nglobals: {\n    'react': 'React',\n    'react-dom': 'ReactDOM',\n    'classnames': 'classNames',\n    'moment': 'moment'\n},\n</code></pre>\n\n<p>Depending on the source file you're using, you might need to use these 2 plugins:</p>\n\n<pre><code>import commonjs from \"rollup-plugin-commonjs\";\nimport resolve from 'rollup-plugin-node-resolve';\n</code></pre>\n\n<p>Also, you might need to use <code>rollup-plugin-replace</code> because react-datepicker seems to include <code>process.env.NODE_ENV</code> in its code, and you will need to remove that.</p>\n\n<p>In case you would like to see a full working example, check this repo I created:\n<a href=\"https://github.com/mxcoder/rollup-iife-react-datepicker\" rel=\"nofollow noreferrer\">https://github.com/mxcoder/rollup-iife-react-datepicker</a></p>\n"}], "owner": {"reputation": 2423, "user_id": 486516, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/9a54285b7c6a99a39f988182056015e1?s=128&d=identicon&r=PG", "display_name": "Pavel", "link": "https://stackoverflow.com/users/486516/pavel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 271, "favorite_count": 0, "accepted_answer_id": 51182688, "answer_count": 1, "score": 0, "last_activity_date": 1530758097, "creation_date": 1530708565, "last_edit_date": 1530712053, "question_id": 51174118, "link": "https://stackoverflow.com/questions/51174118/build-module-to-use-it-in-environment-without-modules", "title": "Build module to use it in environment without modules", "body": "<p>Our application uses TypeScript's namespaces and do not use any kind of modules. We want to use <a href=\"https://www.npmjs.com/package/react-datepicker\" rel=\"nofollow noreferrer\"><code>react-datepicker</code></a>, which is written using modules. </p>\n\n<p>For example, it contains the next code:</p>\n\n<pre><code>import React from 'react';\nimport PropTypes from 'prop-types';\nimport classnames from 'classnames';\nimport onClickOutside from 'react-onclickoutside';\nimport moment from 'moment';\nimport { Manager, Popper, Target } from 'react-popper';\n...\nexport default DatePicker;\n</code></pre>\n\n<p>Or transpiled:</p>\n\n<pre><code>var React = _interopDefault(require('react'));\nvar PropTypes = _interopDefault(require('prop-types'));\nvar classnames = _interopDefault(require('classnames'));\nvar onClickOutside = _interopDefault(require('react-onclickoutside'));\nvar moment = _interopDefault(require('moment'));\nvar reactPopper = require('react-popper');\n...\nexports['default'] = DatePicker;\n</code></pre>\n\n<p>It is required to build some js-bundle for this package, that will contain <code>react-datepicker</code> itself as global variable <code>DatePicker</code>, and all its dependecies, besides <code>react</code>, <code>moment</code>, <code>classnames</code>. </p>\n\n<p>These libraries are already added to the application as global variables (<code>React</code>, <code>moment</code>, <code>classNames</code>), so it should use these global variables.</p>\n\n<p>Is there some plugins and techniques for <code>rollup</code>, <code>webpack</code>, etc. that can help to build such bundle?</p>\n"}, {"tags": ["javascript", "json", "angular", "typescript", "observable"], "comments": [{"owner": {"reputation": 1844, "user_id": 5736633, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/rM1Fw.png?s=128&g=1", "display_name": "vatbub", "link": "https://stackoverflow.com/users/5736633/vatbub"}, "edited": false, "score": 0, "creation_date": 1530707647, "post_id": 51173808, "comment_id": 89330367, "body": "Welcome to StackOverflow! Please post more details on the error you are getting (e. g. by pasting the error message) as it will be easier to help you then. Cheers :)"}, {"owner": {"reputation": 40591, "user_id": 6583140, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/eA8qK.jpg?s=128&g=1", "display_name": "Mihai Alexandru-Ionut", "link": "https://stackoverflow.com/users/6583140/mihai-alexandru-ionut"}, "edited": false, "score": 0, "creation_date": 1530707850, "post_id": 51173808, "comment_id": 89330487, "body": "Please provide your expected output"}, {"owner": {"reputation": 21, "user_id": 10032072, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-4ui9Yzjalxg/AAAAAAAAAAI/AAAAAAAAAAA/AB6qoq0wI5fDZg4K5O3fR6qUknk2x6tm7g/mo/photo.jpg?sz=128", "display_name": "kissaket", "link": "https://stackoverflow.com/users/10032072/kissaket"}, "edited": false, "score": 0, "creation_date": 1530709358, "post_id": 51173808, "comment_id": 89331450, "body": "I have added the expected output"}, {"owner": {"reputation": 21, "user_id": 10032072, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-4ui9Yzjalxg/AAAAAAAAAAI/AAAAAAAAAAA/AB6qoq0wI5fDZg4K5O3fR6qUknk2x6tm7g/mo/photo.jpg?sz=128", "display_name": "kissaket", "link": "https://stackoverflow.com/users/10032072/kissaket"}, "edited": false, "score": 0, "creation_date": 1530709468, "post_id": 51173808, "comment_id": 89331518, "body": "I wanted to convert the myResponse variable to a map"}, {"owner": {"reputation": 21436, "user_id": 1021703, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/g09TV.jpg?s=128&g=1", "display_name": "Jeremy Thille", "link": "https://stackoverflow.com/users/1021703/jeremy-thille"}, "edited": false, "score": 0, "creation_date": 1530710476, "post_id": 51173808, "comment_id": 89332176, "body": "I believe you need to do something like <code>.subscribe( res =&gt; { let myResponse = res.json(); }) </code>"}, {"owner": {"reputation": 21, "user_id": 10032072, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-4ui9Yzjalxg/AAAAAAAAAAI/AAAAAAAAAAA/AB6qoq0wI5fDZg4K5O3fR6qUknk2x6tm7g/mo/photo.jpg?sz=128", "display_name": "kissaket", "link": "https://stackoverflow.com/users/10032072/kissaket"}, "edited": false, "score": 0, "creation_date": 1530711625, "post_id": 51173808, "comment_id": 89332906, "body": "TypeError: res.json is not a function is showing, if I implement this"}], "answers": [{"tags": [], "owner": {"reputation": 2092, "user_id": 4828658, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f87743a4a0363da455d5c058e2f2ca5f?s=128&d=identicon&r=PG&f=1", "display_name": "zabusa", "link": "https://stackoverflow.com/users/4828658/zabusa"}, "is_accepted": false, "score": 0, "last_activity_date": 1530707976, "creation_date": 1530707976, "answer_id": 51173944, "question_id": 51173808, "link": "https://stackoverflow.com/questions/51173808/converting-a-json-file-which-has-first-been-converted-to-an-observable-to-a-map/51173944#51173944", "title": "Converting a json file which has first been converted to an Observable, to a map in typescript, in angular", "body": "<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const dummy = [\r\n\r\n     {\"key\":\"KEY1\", \"value\":[\"alpha\",\"beta\",\"gamma\"]},\r\n\r\n     {\"key\":\"KEY2\", \"value\":[\"A\",\"B\",\"C\"]},\r\n\r\n     {\"key\":\"KEY3\", \"value\":[\"One\",\"Foo\",\"Bar\"]}\r\n ]\r\n \r\n const result = new Map();\r\n \r\n dummy.map(item =&gt; {\r\n\r\n result.set(item[\"key\"], item[\"value\"]);\r\n })\r\n \r\nfor (var [key, value] of result.entries()) {\r\n  console.log(key + ' = ' + value);\r\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 21, "user_id": 10032072, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-4ui9Yzjalxg/AAAAAAAAAAI/AAAAAAAAAAA/AB6qoq0wI5fDZg4K5O3fR6qUknk2x6tm7g/mo/photo.jpg?sz=128", "display_name": "kissaket", "link": "https://stackoverflow.com/users/10032072/kissaket"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 52, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1530777808, "creation_date": 1530707504, "last_edit_date": 1530777808, "question_id": 51173808, "link": "https://stackoverflow.com/questions/51173808/converting-a-json-file-which-has-first-been-converted-to-an-observable-to-a-map", "title": "Converting a json file which has first been converted to an Observable, to a map in typescript, in angular", "body": "<p>I have a json file - dummy, which which looks like this -</p>\n\n<pre><code>[\n    {\"key\":\"KEY1\", \"value\":[\"alpha\",\"beta\",\"gamma\"]},\n\n    {\"key\":\"KEY2\", \"value\":[\"A\",\"B\",\"C\"]},\n\n    {\"key\":\"KEY3\", \"value\":[\"One\",\"Foo\",\"Bar\"]}\n]\n</code></pre>\n\n<p>I wanted to convert this json file to a map with key- value pairs same as given in the json file.</p>\n\n<p>To achieve this I created an observable - myObservable first, and did something like this in the component.ts file - </p>\n\n<pre><code>myMap: any = {};\nmyObservable: Observable&lt;any&gt; = Observable.of(this.dummy);\n\ngetObservable() {\n    return this.myObservable;\n}\n\nngOnInit() {\n    this.getObservable()\n    .subscribe(myResponse =&gt; {\n        this.myMap = new Map(myResponse); //Converting myresponse to map here.\n    )}.\n</code></pre>\n\n<p>But this analogy failed to work. How do I convert this observable file to a map in typescript?</p>\n\n<p>Expected Output:</p>\n\n<pre><code>{\n    Key1,[alpha,beta,gamma]\n    Key2,[A,B,C]\n    Key3,[One,Foo,Bar]\n}\n</code></pre>\n"}, {"tags": ["angular", "typescript", "angular-cli"], "answers": [{"comments": [{"owner": {"reputation": 731, "user_id": 4623370, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/1168d5cbb5568053a8bae908f2d7ede7?s=128&d=identicon&r=PG&f=1", "display_name": "Moody", "link": "https://stackoverflow.com/users/4623370/moody"}, "edited": false, "score": 1, "creation_date": 1530707831, "post_id": 51173760, "comment_id": 89330471, "body": "This doesn&#39;t work unfortunately: <code>Cannot find module &#39;..&#47;..&#47;assets&#47;config&#39;.</code> (tried it with <code>.json</code> extension and also without)"}, {"owner": {"reputation": 3092, "user_id": 9034168, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/fdvkK.jpg?s=128&g=1", "display_name": "Efe", "link": "https://stackoverflow.com/users/9034168/efe"}, "reply_to_user": {"reputation": 731, "user_id": 4623370, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/1168d5cbb5568053a8bae908f2d7ede7?s=128&d=identicon&r=PG&f=1", "display_name": "Moody", "link": "https://stackoverflow.com/users/4623370/moody"}, "edited": false, "score": 0, "creation_date": 1530708751, "post_id": 51173760, "comment_id": 89331071, "body": "<a href=\"https://stackblitz.com/edit/angular-ypuy7b?file=src%2Fapp%2Fhello.component.ts\" rel=\"nofollow noreferrer\">Here is the example</a>"}, {"owner": {"reputation": 731, "user_id": 4623370, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/1168d5cbb5568053a8bae908f2d7ede7?s=128&d=identicon&r=PG&f=1", "display_name": "Moody", "link": "https://stackoverflow.com/users/4623370/moody"}, "edited": false, "score": 1, "creation_date": 1530712507, "post_id": 51173760, "comment_id": 89333471, "body": "I have no clue why I received that error. But your method worked. Thanks."}, {"owner": {"reputation": 655, "user_id": 6237879, "user_type": "registered", "accept_rate": 96, "profile_image": "https://lh4.googleusercontent.com/-UfA0mW9tzP4/AAAAAAAAAAI/AAAAAAAAACw/LNGijM-AF6I/photo.jpg?sz=128", "display_name": "Jorge Cuevas", "link": "https://stackoverflow.com/users/6237879/jorge-cuevas"}, "reply_to_user": {"reputation": 731, "user_id": 4623370, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/1168d5cbb5568053a8bae908f2d7ede7?s=128&d=identicon&r=PG&f=1", "display_name": "Moody", "link": "https://stackoverflow.com/users/4623370/moody"}, "edited": false, "score": 0, "creation_date": 1556763675, "post_id": 51173760, "comment_id": 98542536, "body": "@Moody it was probably the missing json extension, it was looking for a js file by default"}, {"owner": {"reputation": 1151, "user_id": 1730846, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/11585d7f67714354b5777495401bbd9b?s=128&d=identicon&r=PG", "display_name": "Mojtaba", "link": "https://stackoverflow.com/users/1730846/mojtaba"}, "reply_to_user": {"reputation": 731, "user_id": 4623370, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/1168d5cbb5568053a8bae908f2d7ede7?s=128&d=identicon&r=PG&f=1", "display_name": "Moody", "link": "https://stackoverflow.com/users/4623370/moody"}, "edited": false, "score": 3, "creation_date": 1584721197, "post_id": 51173760, "comment_id": 107532073, "body": "@Moody you may need to set <code>&quot;resolveJsonModule&quot;: true</code> in <code>ts.config</code> see <a href=\"https://devblogs.microsoft.com/typescript/announcing-typescript-2-9-2/#json-imports\" rel=\"nofollow noreferrer\">here</a>"}, {"owner": {"reputation": 1036, "user_id": 5634841, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Xf3IR.jpg?s=128&g=1", "display_name": "wbartussek", "link": "https://stackoverflow.com/users/5634841/wbartussek"}, "edited": false, "score": 1, "creation_date": 1613656139, "post_id": 51173760, "comment_id": 117146401, "body": "I had exactly the same problem with Angular 11. In tsconfig.json I had to replace     &quot;baseUrl&quot;: &quot;./&quot;  by  &quot;baseUrl&quot;: &quot;src&quot;  and I had to add     &quot;resolveJsonModule&quot;: true,     &quot;allowSyntheticDefaultImports&quot;:true, - then it worked for me."}], "tags": [], "owner": {"reputation": 3092, "user_id": 9034168, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/fdvkK.jpg?s=128&g=1", "display_name": "Efe", "link": "https://stackoverflow.com/users/9034168/efe"}, "is_accepted": true, "score": 4, "last_activity_date": 1530707355, "creation_date": 1530707355, "answer_id": 51173760, "question_id": 51173263, "link": "https://stackoverflow.com/questions/51173263/import-static-json-file-from-assets-dir-in-component-angular/51173760#51173760", "title": "Import static JSON file from assets dir in component (Angular)", "body": "<p>You can just <code>import myConfig from 'path/to/json'</code> then use it in your file.</p>\n"}, {"tags": [], "owner": {"reputation": 53, "user_id": 12304388, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mClbWfa-8p2Mqn8GuDtGpDBCO8RJBY4e5fOIDeQ=k-s128", "display_name": "Adam", "link": "https://stackoverflow.com/users/12304388/adam"}, "is_accepted": false, "score": 1, "last_activity_date": 1594840029, "last_edit_date": 1594840029, "creation_date": 1594839663, "answer_id": 62922031, "question_id": 51173263, "link": "https://stackoverflow.com/questions/51173263/import-static-json-file-from-assets-dir-in-component-angular/62922031#62922031", "title": "Import static JSON file from assets dir in component (Angular)", "body": "<p>The new file you added should be named <code>json-typings.d.ts</code> with the following code:</p>\n<pre><code>declare module &quot;*.json&quot; {\n  const value: any;\n  export default value;\n}\n</code></pre>\n<p>Put it in your src folder (the same directory as <code>index.html</code>)</p>\n<p>Then import JSON files in your component:</p>\n<p><code>import * as SampleJson from &quot;../../assets/SampleJson.json&quot;;</code></p>\n<p>Also, you don't need to refer to it in <code>ts.config.spec.json</code></p>\n"}], "owner": {"reputation": 731, "user_id": 4623370, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/1168d5cbb5568053a8bae908f2d7ede7?s=128&d=identicon&r=PG&f=1", "display_name": "Moody", "link": "https://stackoverflow.com/users/4623370/moody"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 11973, "favorite_count": 0, "accepted_answer_id": 51173760, "answer_count": 2, "score": 4, "last_activity_date": 1594840029, "creation_date": 1530705808, "last_edit_date": 1530707251, "question_id": 51173263, "link": "https://stackoverflow.com/questions/51173263/import-static-json-file-from-assets-dir-in-component-angular", "title": "Import static JSON file from assets dir in component (Angular)", "body": "<p>I am using Angular CLI (version 6).\nI have a small <code>JSON</code> file in my <code>assets</code> folder which I want to import into my component. I want to do this <strong>without</strong> using a GET request from my component.</p>\n\n<p>What I did:</p>\n\n<ul>\n<li><p>I created a new file, <code>typings.d.ts</code>: </p>\n\n<pre><code>declare module \"*.json\" {\n    const value: any;\n    export default value;\n}\n</code></pre>\n\n<p>... and referred to it in <code>tsconfig.spec.json</code>. Here is a snippet of the referral in <code>ts.config.spec.json</code>:</p>\n\n<pre><code>\"files\": [\n    \"test.ts\",\n    \"polyfills.ts\",\n     \"./typings.d.ts\"\n],\n</code></pre></li>\n<li><p>From my component, I am trying to import my JSON file as such:</p>\n\n<pre><code>import * as myConfig from '../../assets/config.json';\n</code></pre></li>\n</ul>\n\n<p>At that line however, I get an error message: <code>cannot find module ../../assets/config.json</code>.</p>\n\n<p>I am quite sure that this relative path is correct (I tried several other options as well, similarly for the typings.d.ts referral - but anyway, my directory structure is just a simple Angualr CLI app:</p>\n\n<pre><code>|- src\n    |   \n    |-app\n    |   |-component\n    |       |-component.ts\n    |\n    |\n    |-assets\n        |-config.json\n</code></pre>\n\n<p>Any tips on how to solve this problem would be greatly appreciated.</p>\n"}, {"tags": ["typescript"], "comments": [{"owner": {"reputation": 54898, "user_id": 1260204, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/402e1da680f92d16e7736ab14a696f06?s=128&d=identicon&r=PG", "display_name": "Igor", "link": "https://stackoverflow.com/users/1260204/igor"}, "edited": false, "score": 0, "creation_date": 1530705949, "post_id": 51173212, "comment_id": 89329256, "body": "The <a href=\"https://github.com/Microsoft/TypeScript/issues/16\" rel=\"nofollow noreferrer\">safe navigator operator feature request</a>  already exists."}], "answers": [{"tags": [], "owner": {"reputation": 440, "user_id": 3506346, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/Ofem9.jpg?s=128&g=1", "display_name": "Alex Pyzhianov", "link": "https://stackoverflow.com/users/3506346/alex-pyzhianov"}, "is_accepted": false, "score": 2, "last_activity_date": 1530705920, "creation_date": 1530705920, "answer_id": 51173311, "question_id": 51173212, "link": "https://stackoverflow.com/questions/51173212/can-you-add-features-modify-or-extend-typescript/51173311#51173311", "title": "Can you add features, modify or extend typescript?", "body": "<p>No. Babel and TypeScript are two quite different beasts. As far as I know, configuring <a href=\"https://www.typescriptlang.org/docs/handbook/tsconfig-json.html\" rel=\"nofollow noreferrer\">tsconfig</a> is all you can do to change TS compiler behavior.</p>\n"}], "owner": {"reputation": 333, "user_id": 4230361, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/61119b05400be57cb25ffe151d4cd9db?s=128&d=identicon&r=PG&f=1", "display_name": "Baki", "link": "https://stackoverflow.com/users/4230361/baki"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 30, "favorite_count": 1, "answer_count": 1, "score": 1, "last_activity_date": 1530705920, "creation_date": 1530705656, "question_id": 51173212, "link": "https://stackoverflow.com/questions/51173212/can-you-add-features-modify-or-extend-typescript", "title": "Can you add features, modify or extend typescript?", "body": "<p>Is it possible to add features to typescript without making a fork? Is it possible to add plugins? An example of such a features would be <a href=\"https://github.com/tc39/proposal-optional-chaining\" rel=\"nofollow noreferrer\">optional chaining (elvis operator)</a> e.g.</p>\n\n<pre><code>const x = {};\nconsole.log(x.y); // throws an error\nconsole.log(x?.y); // console logs undefined\n</code></pre>\n\n<p>As far as I know it is possible to add such a feature to babel (<a href=\"https://www.npmjs.com/package/babel-plugin-transform-optional-chaining\" rel=\"nofollow noreferrer\">see</a>).</p>\n\n<p>Whether this is a good or a bad idea is a different story. All I'm asking is it physically possible and if not then why?</p>\n"}, {"tags": ["javascript", "typescript"], "comments": [{"owner": {"reputation": 1792, "user_id": 574667, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/bc780ed8c9b17ef213e90287b23b2ec4?s=128&d=identicon&r=PG", "display_name": "jaboja", "link": "https://stackoverflow.com/users/574667/jaboja"}, "edited": false, "score": 0, "creation_date": 1530705841, "post_id": 51173191, "comment_id": 89329183, "body": "What is your TypeScript definition of <i>getUrl</i>? And what are you going to achieve by adding that requirement?"}, {"owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "reply_to_user": {"reputation": 1792, "user_id": 574667, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/bc780ed8c9b17ef213e90287b23b2ec4?s=128&d=identicon&r=PG", "display_name": "jaboja", "link": "https://stackoverflow.com/users/574667/jaboja"}, "edited": false, "score": 0, "creation_date": 1530706071, "post_id": 51173191, "comment_id": 89329342, "body": "@jaboja I think the use case is pretty clear, I have seen numerous questions here on SO as to why is <code>get</code> (of whatever API) returning <code>{}</code> or <code>any</code> and not what I expect it to, or how do I tell get what type my API returns. Always the <code>get</code> has a type parameter that people do not see at first. With such a restriction it becomes mandatory and obvious"}, {"owner": {"reputation": 158222, "user_id": 871050, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/A9cyT.png?s=128&g=1", "display_name": "Madara&#39;s Ghost", "link": "https://stackoverflow.com/users/871050/madaras-ghost"}, "edited": false, "score": 0, "creation_date": 1530707338, "post_id": 51173191, "comment_id": 89330153, "body": "What problem are you trying to solve? After all, <code>U</code> would default to <code>{}</code>, and you&#39;d get an error when you try to access any properties on it, which would alert you to the problem."}], "answers": [{"comments": [{"owner": {"reputation": 10144, "user_id": 401450, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/41o2I.jpg?s=128&g=1", "display_name": "SET", "link": "https://stackoverflow.com/users/401450/set"}, "edited": false, "score": 1, "creation_date": 1579360115, "post_id": 51173322, "comment_id": 105744274, "body": "doing so will not allow you to actually use <code>extends</code> to set up generic type constraint"}], "tags": [], "owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "is_accepted": false, "score": 22, "last_activity_date": 1567325271, "last_edit_date": 1567325271, "creation_date": 1530705979, "answer_id": 51173322, "question_id": 51173191, "link": "https://stackoverflow.com/questions/51173191/typescript-require-generic-parameter-to-be-provided/51173322#51173322", "title": "TypeScript require generic parameter to be provided", "body": "<p>There is no built-in support for this, we can however engineer a scenario where not passing in a type parameter will generate an error, using default generic type arguments and conditional types. Namely we will give <code>U</code> a default value of <code>void</code>. If the default value is the actual value of <code>U</code>, then we will type the parameter to the function as something that should not really be passed in so as to get an error:</p>\n\n<pre><code>async function get&lt;U = void&gt;(url: string &amp; (U extends void ? \"You must provide a type parameter\" : string)): Promise&lt;U&gt; {\n    return null as any;\n}\n\nget('/user-url'); // Error Argument of type '\"/user-url\"' is not assignable to parameter of type '\"You must provide a type parameter\"'.\n\nclass User {}\nget&lt;User&gt;('/user-url');\n</code></pre>\n\n<p>The error message is not ideal, but I think it will get the message across.</p>\n\n<p><strong>Edit</strong>: For a solution where the type parameter is used in parameter types see <a href=\"https://stackoverflow.com/questions/57559234/how-to-make-a-generic-of-a-class-is-required/57744230#57744230\">here</a></p>\n"}, {"tags": [], "owner": {"reputation": 1047, "user_id": 1040699, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab23da3cb4fc27fa4100b8a653749208?s=128&d=identicon&r=PG", "display_name": "polmabri", "link": "https://stackoverflow.com/users/1040699/polmabri"}, "is_accepted": false, "score": 5, "last_activity_date": 1566169682, "creation_date": 1566169682, "answer_id": 57548987, "question_id": 51173191, "link": "https://stackoverflow.com/questions/51173191/typescript-require-generic-parameter-to-be-provided/57548987#57548987", "title": "TypeScript require generic parameter to be provided", "body": "<p>You could use multiple type parameters:</p>\n\n<pre><code>function contractType&lt;T = void, U extends T = T&gt;(value: unknown): U {\n    return value as U\n}\n\nconst example1: string = contractType(17) // error\nconst example2: string = contractType(\"value\") // error\nconst example3: string = contractType&lt;string&gt;(\"value\") // ok\n</code></pre>\n\n<p><a href=\"https://github.com/Microsoft/TypeScript/issues/14829#issuecomment-288902999\" rel=\"noreferrer\">https://github.com/Microsoft/TypeScript/issues/14829#issuecomment-288902999</a></p>\n"}, {"tags": [], "owner": {"reputation": 429, "user_id": 4609457, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-5EdtK6QWJDQ/AAAAAAAAAAI/AAAAAAAAAPg/ImlsJPpTkf4/photo.jpg?sz=128", "display_name": "Michael Zabka", "link": "https://stackoverflow.com/users/4609457/michael-zabka"}, "is_accepted": false, "score": 7, "last_activity_date": 1609217928, "last_edit_date": 1609217928, "creation_date": 1597410583, "answer_id": 63413428, "question_id": 51173191, "link": "https://stackoverflow.com/questions/51173191/typescript-require-generic-parameter-to-be-provided/63413428#63413428", "title": "TypeScript require generic parameter to be provided", "body": "<pre><code>function createCommand&lt;P extends WhatEver = never&gt;(a: P): P {\n    a.whatEverProperty; // a is always instanceof WhatEver. Never is overlooked here.\n}\n</code></pre>\n<p>The easiest solution for most of cases is specifying <code>never</code> as default type argument value. <code>never</code> is always assignable to the type argument, even if you extend it with WhatEver, so the body of function is not affected, but the return value here will be <code>never</code> affecting the consumers ability to use this function in any meaningful way.</p>\n<p><sub>(Consumers/callers will get an error at the point they try to use the return value, but if your function is called purely for side-effects, you may want to consider the approach outlined in @Titian's answer)</sub></p>\n<p>You can use conditional types to make the return type <code>never</code> when you normally wouldn't return <code>P</code>:</p>\n<pre><code>function createCommand&lt;P extends WhatEver = never&gt;(a: P): P['whatEverProperty'] {\n    // a is always instanceof WhatEver. Never is overlooked here.\n    return a.whatEverProperty as P extends WhatEver ?\n      ? WhatEver\n      : never\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 18455, "user_id": 565877, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/529124441fe482b523c6c06690c8f9cf?s=128&d=identicon&r=PG", "display_name": "Devin Rhode", "link": "https://stackoverflow.com/users/565877/devin-rhode"}, "edited": false, "score": 0, "creation_date": 1609302857, "post_id": 65502037, "comment_id": 115805340, "body": "A bit of a tangent, but this is one circumstance where 1 hook returning 1 component actually seems like a fair pattern. (A hook returning multiple components, however, gets in the way of tree-shaking)"}], "tags": [], "owner": {"reputation": 18455, "user_id": 565877, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/529124441fe482b523c6c06690c8f9cf?s=128&d=identicon&r=PG", "display_name": "Devin Rhode", "link": "https://stackoverflow.com/users/565877/devin-rhode"}, "is_accepted": false, "score": 0, "last_activity_date": 1609302753, "creation_date": 1609302753, "answer_id": 65502037, "question_id": 51173191, "link": "https://stackoverflow.com/questions/51173191/typescript-require-generic-parameter-to-be-provided/65502037#65502037", "title": "TypeScript require generic parameter to be provided", "body": "<p>Yet another approach! Require a parameter that is used just for the type inference:</p>\n<pre><code>/**\n * getFoo gives you a well-typed Foo component\n * ```tsx\n * const foo = getFoo(config)\n * ```\n */\nconst getFoo = &lt;Keys extends string&gt;(\n  _config: Record&lt;Keys, unknown&gt;\n) =&gt; {\n  return FooUntyped as FooType&lt;Keys&gt;\n}\n</code></pre>\n<p>If you have objects readily available to pass in for this type inference, and your functions wouldn't otherwise accept a parameter, this may be a good approach for you <sub><em>*as of TS v4.1.2</em></sub></p>\n<p><em><em>If you don't have some config object readily available</em></em>, calling it is a little bit &quot;wtf&quot; but you get an error directly where you call it, instead of somewhere further on:</p>\n<pre><code>const foo = getFoo({} as Record&lt;'my' | 'keys', unknown&gt;)\n</code></pre>\n<blockquote>\n<p>This design/approach happened to actually fix a little kink in my design in another location. I actually added an extra param too my <code>getFoo</code> called <code>defaultProps</code> which are some default props for a given Foo component (Foo is a Form Field component, and config keys are valid field names)</p>\n</blockquote>\n"}], "owner": {"reputation": 1272, "user_id": 1419621, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/012b2cb830f41375f267243428a4899c?s=128&d=identicon&r=PG", "display_name": "Kizer", "link": "https://stackoverflow.com/users/1419621/kizer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3614, "favorite_count": 5, "answer_count": 4, "score": 23, "last_activity_date": 1609302753, "creation_date": 1530705605, "question_id": 51173191, "link": "https://stackoverflow.com/questions/51173191/typescript-require-generic-parameter-to-be-provided", "title": "TypeScript require generic parameter to be provided", "body": "<p>I have the following function:</p>\n\n\n\n<pre><code>async function get&lt;U&gt;(url: string): Promise&lt;U&gt; {\n    return getUrl&lt;u&gt;(url);\n}\n</code></pre>\n\n<p>However, it is possible to call it like this (U is set to any by TS):</p>\n\n\n\n<pre><code>get('/user-url');\n</code></pre>\n\n<p>Is there a way to define this function such that it requires U to be provided explicitly, as in</p>\n\n\n\n<pre><code>get&lt;User&gt;('/user-url');\n</code></pre>\n"}, {"tags": ["typescript", "vue.js", "vuejs2", "vue-component", "vue-class-components"], "comments": [{"owner": {"reputation": 1617, "user_id": 8769328, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/893c61079c7f944dbb51d3e3f211441c?s=128&d=identicon&r=PG&f=1", "display_name": "Jeremy Walters", "link": "https://stackoverflow.com/users/8769328/jeremy-walters"}, "edited": false, "score": 1, "creation_date": 1547128974, "post_id": 51173059, "comment_id": 95091777, "body": "Hi have you figured out how to build a component library with typescript?"}, {"owner": {"reputation": 886, "user_id": 1534459, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/fa42a3eaddc90fe80c679d098a892183?s=128&d=identicon&r=PG", "display_name": "bodo", "link": "https://stackoverflow.com/users/1534459/bodo"}, "edited": false, "score": 1, "creation_date": 1560509730, "post_id": 51173059, "comment_id": 99769540, "body": "This is still not supported out of the box. See here for possible workarounds: <a href=\"https://github.com/vuejs/vue-cli/issues/1081\" rel=\"nofollow noreferrer\">github.com/vuejs/vue-cli/issues/1081</a>."}, {"owner": {"reputation": 1901, "user_id": 882168, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/3ceb01aa65ed40409410506b6271c363?s=128&d=identicon&r=PG", "display_name": "D2TheC", "link": "https://stackoverflow.com/users/882168/d2thec"}, "edited": false, "score": 0, "creation_date": 1602777870, "post_id": 51173059, "comment_id": 113834124, "body": "Hi I&#39;m just wondering does this persist in Q3 2020? I am wanting to do a similar thing"}], "owner": {"reputation": 836, "user_id": 4243683, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c17caa51dd680f41e326a8db11e9a51b?s=128&d=identicon&r=PG&f=1", "display_name": "ShabbY", "link": "https://stackoverflow.com/users/4243683/shabby"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1882, "favorite_count": 10, "answer_count": 0, "score": 8, "last_activity_date": 1530705220, "creation_date": 1530705220, "question_id": 51173059, "link": "https://stackoverflow.com/questions/51173059/how-to-build-a-es6-vue-component-library-using-vue-class-component", "title": "How to build a es6 vue-component library using vue-class-component", "body": "<p>I am trying to create a vuejs component library in typescript with vue-class-component and vue-property-decorator with the following requirements:</p>\n\n<ul>\n<li>The library components should be written in class-style typescript.</li>\n<li>The library components should be exported as es6 modules to allow treeshaking in the project.</li>\n</ul>\n\n<p>For The library I used the latest version of @vue/cli to scaffold the project. Within that library-project the components are working just fine.</p>\n\n<p>The Application on the other hand is using a webpack-setup and in here I want to use the vue-components. </p>\n\n<p>Usually when I want to build a typescript based library in es6, I use tsc to transpile the ts-files to es6 js-files. But following that approach the components do not know the templates. \nIs there a way to combine tsc with vue-template-compiler?</p>\n\n<p>I found a another way to make this work, but I'm not satisfied at all by that approach:</p>\n\n<p>I used <code>\"vue-cli-service build --target lib --name vue-lib ./src/index.ts\"</code>\nThis way the vue-cli-service will create a umd-bundle and commonjs-bundle as stated in the docs <a href=\"https://cli.vuejs.org/guide/build-targets.html#library\" rel=\"noreferrer\">here</a>. In the project I can use the component with an <code>//@ts-ignore</code> statement above. So I lose the declarations and the components are not in es6 syntax :/</p>\n\n<p>To get a better understanding of the Issue I have, I've created a minimal example  on github that you can find here:</p>\n\n<p>Library:\n<a href=\"https://github.com/Sh4bbY/vue-lib\" rel=\"noreferrer\">https://github.com/Sh4bbY/vue-lib</a></p>\n\n<p>Application:\n<a href=\"https://github.com/Sh4bbY/vue-project\" rel=\"noreferrer\">https://github.com/Sh4bbY/vue-project</a></p>\n"}, {"tags": ["javascript", "jquery", "typescript", "typescript-typings"], "comments": [{"owner": {"reputation": 3197, "user_id": 4709300, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/pGfqW.jpg?s=128&g=1", "display_name": "Chris", "link": "https://stackoverflow.com/users/4709300/chris"}, "edited": false, "score": 1, "creation_date": 1530705132, "post_id": 51172963, "comment_id": 89328741, "body": "Maybe try a type that has the <code>.map</code> method. Like <code>Array</code>"}, {"owner": {"reputation": 1515, "user_id": 10021083, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-F4opwx4U8H8/AAAAAAAAAAI/AAAAAAAAAAA/AB6qoq13JczyNUx5Nh4JYB6LEEig1b94fg/mo/photo.jpg?sz=128", "display_name": "Eugene Sukh", "link": "https://stackoverflow.com/users/10021083/eugene-sukh"}, "reply_to_user": {"reputation": 3197, "user_id": 4709300, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/pGfqW.jpg?s=128&g=1", "display_name": "Chris", "link": "https://stackoverflow.com/users/4709300/chris"}, "edited": false, "score": 0, "creation_date": 1530705317, "post_id": 51172963, "comment_id": 89328862, "body": "But Generic type &#39;Array&lt;T&gt;&#39; requires 1 type argument(s) , but which one?@chbchb55"}, {"owner": {"reputation": 3197, "user_id": 4709300, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/pGfqW.jpg?s=128&g=1", "display_name": "Chris", "link": "https://stackoverflow.com/users/4709300/chris"}, "edited": false, "score": 0, "creation_date": 1530705385, "post_id": 51172963, "comment_id": 89328912, "body": "Idk, I was just guessing, I&#39;m a noob with TypeScript."}], "answers": [{"tags": [], "owner": {"reputation": 1515, "user_id": 10021083, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-F4opwx4U8H8/AAAAAAAAAAI/AAAAAAAAAAA/AB6qoq13JczyNUx5Nh4JYB6LEEig1b94fg/mo/photo.jpg?sz=128", "display_name": "Eugene Sukh", "link": "https://stackoverflow.com/users/10021083/eugene-sukh"}, "is_accepted": false, "score": 0, "last_activity_date": 1530707343, "creation_date": 1530707343, "answer_id": 51173752, "question_id": 51172963, "link": "https://stackoverflow.com/questions/51172963/cannot-use-json-map/51173752#51173752", "title": "Cannot use json.map", "body": "<p>I found answer to my question. Answer is install mapbox-gl-js types and use code like this</p>\n\n<pre><code>  const json: Array&lt;GeoJSONGeometry&gt; = gon.hotel_info;\n</code></pre>\n\n<p>and after - this</p>\n\n<pre><code>  features: json.map((item: GeoJsonProperties): Feature =&gt; {\n</code></pre>\n"}], "owner": {"reputation": 1515, "user_id": 10021083, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-F4opwx4U8H8/AAAAAAAAAAI/AAAAAAAAAAA/AB6qoq13JczyNUx5Nh4JYB6LEEig1b94fg/mo/photo.jpg?sz=128", "display_name": "Eugene Sukh", "link": "https://stackoverflow.com/users/10021083/eugene-sukh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 49, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1561356462, "creation_date": 1530704942, "last_edit_date": 1561356462, "question_id": 51172963, "link": "https://stackoverflow.com/questions/51172963/cannot-use-json-map", "title": "Cannot use json.map", "body": "<p>I have <code>typescript</code> code to load <code>mapbox</code> and have <code>Json</code> from the back end</p>\n\n<p>Here is how I define variable now:-</p>\n\n<pre><code> const json: any = gon.hotel_info;\n</code></pre>\n\n<p>And use it like this, in this code:-</p>\n\n<pre><code> data: {\n        type: \"FeatureCollection\",\n        features: json.map((item): any =&gt; {\n          return {\n            type: \"Feature\",\n            properties: {\n</code></pre>\n\n<p>But I don't want to use any typedefs and try to use it like this</p>\n\n<pre><code>const json: JSON = gon.hotel_info;\n</code></pre>\n\n<p>But now I have an error with JSON map</p>\n\n<blockquote>\n  <p>Property 'map' does not exist on type 'JSON'.</p>\n</blockquote>\n\n<p>How I can fix it?</p>\n"}, {"tags": ["javascript", "regex", "typescript"], "comments": [{"owner": {"reputation": 1792, "user_id": 574667, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/bc780ed8c9b17ef213e90287b23b2ec4?s=128&d=identicon&r=PG", "display_name": "jaboja", "link": "https://stackoverflow.com/users/574667/jaboja"}, "edited": false, "score": 0, "creation_date": 1530704592, "post_id": 51172471, "comment_id": 89328381, "body": "<i>wwww.wwwww</i> may be actually a valid domain name provided someone for some obscure reason registers <i>wwwww</i> as TLD or as some local network domain."}], "answers": [{"tags": [], "owner": {"reputation": 440, "user_id": 3506346, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/Ofem9.jpg?s=128&g=1", "display_name": "Alex Pyzhianov", "link": "https://stackoverflow.com/users/3506346/alex-pyzhianov"}, "is_accepted": false, "score": 0, "last_activity_date": 1530704176, "creation_date": 1530704176, "answer_id": 51172751, "question_id": 51172471, "link": "https://stackoverflow.com/questions/51172471/website-url-validation/51172751#51172751", "title": "Website URL validation", "body": "<p>Why are you implementing the validator yourself? It's very tricky problem and also a solved one.</p>\n\n<p>Unless you are doing it for fun, I recommend using one of the existing validators like <a href=\"https://validatejs.org/#validators-url\" rel=\"nofollow noreferrer\">this one</a>. If you are interested in how it's regex looks, you can find it in <a href=\"https://gist.github.com/dperini/729294\" rel=\"nofollow noreferrer\">this gist</a>. </p>\n\n<p>Good luck!</p>\n"}, {"tags": [], "owner": {"reputation": 446, "user_id": 7372302, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-vzu8pI4pShs/AAAAAAAAAAI/AAAAAAAAAEM/LYNz3jtkrU8/photo.jpg?sz=128", "display_name": "ravi polara", "link": "https://stackoverflow.com/users/7372302/ravi-polara"}, "is_accepted": false, "score": 0, "last_activity_date": 1530704546, "creation_date": 1530704546, "answer_id": 51172857, "question_id": 51172471, "link": "https://stackoverflow.com/questions/51172471/website-url-validation/51172857#51172857", "title": "Website URL validation", "body": "<p>try this best code.</p>\n\n<pre><code>$(document).ready(function () {\n\n    $('input').keyup(function() {\n        var $th = $(this);\n\n        if (isValidUrl($th.val())==1){\n            alert(\"got a valid url!\");   \n        }else\n        {\n         alert(\"got a novalid url!\");   \n        }\n\n    });\n});\n\n\nfunction isValidUrl(url){\n\n var myVariable = url;\n    if(/^(http|https|ftp):\\/\\/[a-z0-9]+([\\-\\.]{1}[a-z0-9]+)*\\.[a-z]{2,5}(:[0-9]{1,5})?(\\/.*)?$/i.test(myVariable)) {\n      return 1;\n    } else {\n      return -1;\n    }   \n}\n</code></pre>\n"}], "owner": {"reputation": 359, "user_id": 6210486, "user_type": "registered", "accept_rate": 20, "profile_image": "https://graph.facebook.com/769916656478234/picture?type=large", "display_name": "Hovhannes Gevorgyan", "link": "https://stackoverflow.com/users/6210486/hovhannes-gevorgyan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 779, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1530704546, "creation_date": 1530703315, "last_edit_date": 1530704132, "question_id": 51172471, "link": "https://stackoverflow.com/questions/51172471/website-url-validation", "title": "Website URL validation", "body": "<p>I have this code of URL validator,\nit passes when typed for example \"www.wwww.www\" or \"wwww.wwwww\"\nIt not passes when dot is added in the end like this \"wwww.wwwww.\". Need it not pass when we fill in input a value like \"wwww.wwwww\".  How should I change the code?</p>\n\n<pre><code>export class WebsiteValidator {\npublic static validate(control: AbstractControl) {\nconst URL_REGEXP = /^(http:\\/\\/www\\.|https:\\/\\/www\\.|http:\\/\\/|https:\\/\\/)? \n [a-z0-9]+([\\-\\.]{1}[a-z0-9]+)*\\.[a-z]{2,5}(:[0-9]{1,5})?(\\/.*)?$/;\n return (control.value &amp;&amp; !URL_REGEXP.test(control.value)) ? {\n    validateUrl: {\n      valid: false\n    }\n  } : null;\n }\n}\n</code></pre>\n"}, {"tags": ["angular", "typescript", "module", "angular5"], "comments": [{"owner": {"reputation": 1575, "user_id": 7850051, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/b8JHX.jpg?s=128&g=1", "display_name": "Karnan Muthukumar", "link": "https://stackoverflow.com/users/7850051/karnan-muthukumar"}, "edited": false, "score": 1, "creation_date": 1530705562, "post_id": 51172176, "comment_id": 89329016, "body": "Show what you tried and created codding."}, {"owner": {"reputation": 45, "user_id": 10023331, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-cZyCdBcb8l8/AAAAAAAAAAI/AAAAAAAAAAA/AB6qoq1CqpIPTE4qhdBTDuiE-xCdlpTOdA/mo/photo.jpg?sz=128", "display_name": "Adolf H", "link": "https://stackoverflow.com/users/10023331/adolf-h"}, "reply_to_user": {"reputation": 6779, "user_id": 6749601, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GHTLW.jpg?s=128&g=1", "display_name": "Lynx 242", "link": "https://stackoverflow.com/users/6749601/lynx-242"}, "edited": false, "score": 0, "creation_date": 1530708863, "post_id": 51172176, "comment_id": 89331130, "body": "@DiabolicWords .. so what.. all cool names were already in use"}], "answers": [{"tags": [], "owner": {"reputation": 646, "user_id": 9661371, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3e3d67a9b7860d15115ce6278ebce614?s=128&d=identicon&r=PG&f=1", "display_name": "mittens pair", "link": "https://stackoverflow.com/users/9661371/mittens-pair"}, "is_accepted": false, "score": 0, "last_activity_date": 1530709638, "last_edit_date": 1530709638, "creation_date": 1530709281, "answer_id": 51174355, "question_id": 51172176, "link": "https://stackoverflow.com/questions/51172176/angular-5-show-module-in-component/51174355#51174355", "title": "Angular 5 - Show Module in Component", "body": "<ol>\n<li><p>Import your class <code>ProgressLoaderAnimations</code> at the top of your\n<code>app.module.ts</code>. and add it to the <code>declarations:</code> array</p></li>\n<li><p>Use the selector string referenced in Angular @Component directory\n    within your custom progress-loader component's <code>html</code> template.</p></li>\n</ol>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>import { ProgressLoaderAnimations } from './progress-loader-animations';\r\n\r\n@NgModule({\r\n  imports: [\r\n    BrowserModule,\r\n    FormsModule\r\n  ],\r\n  declarations: [\r\n    AppComponent,\r\n    ProgressLoaderAnimations // Note this.\r\n  ],\r\n  providers: [\r\n    BackendService,\r\n    HeroService,\r\n    Logger\r\n  ],\r\n  bootstrap: [ AppComponent ]\r\n})\r\nexport class AppModule { }</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>@Component({\r\n  selector: 'progress-loader-animations',\r\n  templateUrl: './hero-list.component.html',\r\n  providers: []\r\n})\r\nexport class ProgressLoaderAnimations implements OnInit {\r\n\r\n  /* . . . */\r\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>It would be nice to have more information (i.e. your code) or a plnkr, stackblitz, etc.</p>\n\n<p>The steps outlined here should be enough information to resolve your issues with the components and further reading into the Angular tutorial, if necessary.</p>\n\n<p>There are other optimisations in loading components that could be investigated, for example (lazy-loading).</p>\n\n<p>Components reference: <a href=\"https://angular.io/guide/architecture-components\" rel=\"nofollow noreferrer\">https://angular.io/guide/architecture-components</a></p>\n\n<p>Also a step-by-step walkthrough should be <strong>extremely</strong> beneficial for you, as it was for me. <a href=\"https://angular.io/tutorial\" rel=\"nofollow noreferrer\">https://angular.io/tutorial</a></p>\n\n<p><a href=\"https://stackblitz.com/angular/plmkaagkxqy?file=src%2Fapp%2Fapp.module.ts\" rel=\"nofollow noreferrer\">Googled Stackblitz example of HeroDetailComponent used in HeroListComponent</a></p>\n"}], "owner": {"reputation": 45, "user_id": 10023331, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-cZyCdBcb8l8/AAAAAAAAAAI/AAAAAAAAAAA/AB6qoq1CqpIPTE4qhdBTDuiE-xCdlpTOdA/mo/photo.jpg?sz=128", "display_name": "Adolf H", "link": "https://stackoverflow.com/users/10023331/adolf-h"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 197, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1530719611, "creation_date": 1530702323, "last_edit_date": 1530719611, "question_id": 51172176, "link": "https://stackoverflow.com/questions/51172176/angular-5-show-module-in-component", "title": "Angular 5 - Show Module in Component", "body": "<p>I have my app in which I would like to have several types of <code>progress-loader-animations</code> (<code>spinner</code>/<code>bar</code>/etc.)</p>\n\n<p>Therefore I have created a module with a component. How would I now show up the module's spinner in my <code>main-component</code>?</p>\n"}, {"tags": ["angular", "typescript", "nativescript", "router", "guard"], "comments": [{"owner": {"reputation": 7393, "user_id": 859968, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/v8Lgh.jpg?s=128&g=1", "display_name": "Idrees Khan", "link": "https://stackoverflow.com/users/859968/idrees-khan"}, "edited": false, "score": 0, "creation_date": 1530702718, "post_id": 51172173, "comment_id": 89327166, "body": "are you using <code>page-router-outlet</code> ?"}, {"owner": {"reputation": 221, "user_id": 9870536, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "site", "link": "https://stackoverflow.com/users/9870536/site"}, "reply_to_user": {"reputation": 7393, "user_id": 859968, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/v8Lgh.jpg?s=128&g=1", "display_name": "Idrees Khan", "link": "https://stackoverflow.com/users/859968/idrees-khan"}, "edited": false, "score": 0, "creation_date": 1530705067, "post_id": 51172173, "comment_id": 89328691, "body": "Yes <code>&lt;page-router-outlet&gt;&lt;&#47;page-router-outlet&gt;</code>"}], "answers": [{"tags": [], "owner": {"reputation": 1622, "user_id": 8907887, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/39dc045d9bbf748ac92dbe256836375c?s=128&d=identicon&r=PG&f=1", "display_name": "eduPeeth", "link": "https://stackoverflow.com/users/8907887/edupeeth"}, "is_accepted": true, "score": 1, "last_activity_date": 1530703040, "creation_date": 1530703040, "answer_id": 51172384, "question_id": 51172173, "link": "https://stackoverflow.com/questions/51172173/router-outside-canactivate-authguard-doesnt-work/51172384#51172384", "title": "router outside canActivate: [AuthGuard] doesn&#39;t work", "body": "<p>Please place these </p>\n\n<pre><code>{ path: \"register\", component: RegisterComponent },\n  { path: \"usersforgetpassword\", component: ResetPassComponent }\n</code></pre>\n\n<p>Before</p>\n\n<pre><code> { path: '**', redirectTo: 'home' } \n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1190, "user_id": 6853068, "user_type": "registered", "profile_image": "https://graph.facebook.com/1234074719957575/picture?type=large", "display_name": "Akshay Rana", "link": "https://stackoverflow.com/users/6853068/akshay-rana"}, "is_accepted": false, "score": 0, "last_activity_date": 1530704129, "creation_date": 1530704129, "answer_id": 51172738, "question_id": 51172173, "link": "https://stackoverflow.com/questions/51172173/router-outside-canactivate-authguard-doesnt-work/51172738#51172738", "title": "router outside canActivate: [AuthGuard] doesn&#39;t work", "body": "<p>Wildcard route should always be in the end, otherwise routes below that won't work as it matches all possible strings.</p>\n\n<p>Refer : <a href=\"https://angular.io/guide/router#configuration\" rel=\"nofollow noreferrer\">https://angular.io/guide/router#configuration</a></p>\n"}], "owner": {"reputation": 221, "user_id": 9870536, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "site", "link": "https://stackoverflow.com/users/9870536/site"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 263, "favorite_count": 0, "accepted_answer_id": 51172384, "answer_count": 2, "score": 1, "last_activity_date": 1530704129, "creation_date": 1530702307, "last_edit_date": 1592644375, "question_id": 51172173, "link": "https://stackoverflow.com/questions/51172173/router-outside-canactivate-authguard-doesnt-work", "title": "router outside canActivate: [AuthGuard] doesn&#39;t work", "body": "<p>I have a problem with my routing.</p>\n<p>I tried to used this code:</p>\n<pre><code>const routes: Routes = [\n  {\n    path: 'home', component: HomeComponent, canActivate: [AuthGuard], children: [\n      { path: 'events', component: EventsComponent },\n      { path: 'package', component: PackageComponent },\n      { path: 'settings', component: SettingsComponent }\n    ]\n  },\n  { path: 'login', component: LoginComponent },\n  { path: '**', redirectTo: 'home' },\n  { path: &quot;register&quot;, component: RegisterComponent },\n  { path: &quot;usersforgetpassword&quot;, component: ResetPassComponent }\n];\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/GvDLz.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/GvDLz.png\" alt=\"enter image description here\" /></a></p>\n<p>Doesn't work navigate, forgot password (ResetPassComponent) and new account(RegisterComponent ).</p>\n<p>Html code:</p>\n<pre><code>&lt;StackLayout&gt;\n        &lt;Label [nsRouterLink]=&quot;['/usersforgetpassword']&quot; class=&quot;text-center footnote&quot;&gt;\n            &lt;FormattedString&gt;\n                &lt;Span text=&quot;Forgot password?  &quot;&gt;&lt;/Span&gt;\n            &lt;/FormattedString&gt;\n        &lt;/Label&gt;\n    &lt;/StackLayout&gt;\n    &lt;StackLayout&gt;\n        &lt;Label [nsRouterLink]=&quot;['/register']&quot; class=&quot;text-center footnote&quot;&gt;\n            &lt;FormattedString&gt;\n                &lt;Span text=&quot;New Account &quot;&gt;&lt;/Span&gt;\n            &lt;/FormattedString&gt;\n        &lt;/Label&gt;\n    &lt;/StackLayout&gt;\n</code></pre>\n<p>Please, can you ask me, what is the problem in my router? I can't understand.</p>\n<p>Thnx</p>\n"}, {"tags": ["angular", "typescript", "sha512"], "comments": [{"owner": {"reputation": 70314, "user_id": 5043867, "user_type": "registered", "accept_rate": 42, "profile_image": "https://i.stack.imgur.com/RX8Aw.jpg?s=128&g=1", "display_name": "Pardeep Jain", "link": "https://stackoverflow.com/users/5043867/pardeep-jain"}, "edited": false, "score": 0, "creation_date": 1530701342, "post_id": 51171608, "comment_id": 89326275, "body": "You can use this package with angular.  * <a href=\"https://www.npmjs.com/package/sha256\" rel=\"nofollow noreferrer\">npmjs.com/package/sha256</a>"}, {"owner": {"reputation": 21664, "user_id": 26742, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4e55b3f0161d8b3b4f573a655679220d?s=128&d=identicon&r=PG", "display_name": "Sani Singh Huttunen", "link": "https://stackoverflow.com/users/26742/sani-singh-huttunen"}, "reply_to_user": {"reputation": 70314, "user_id": 5043867, "user_type": "registered", "accept_rate": 42, "profile_image": "https://i.stack.imgur.com/RX8Aw.jpg?s=128&g=1", "display_name": "Pardeep Jain", "link": "https://stackoverflow.com/users/5043867/pardeep-jain"}, "edited": false, "score": 0, "creation_date": 1530704592, "post_id": 51171608, "comment_id": 89328378, "body": "@PardeepJain: <code>SHA256 != SHA512</code>."}], "answers": [{"comments": [{"owner": {"reputation": 279, "user_id": 7737346, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-v7RR3XIYT20/AAAAAAAAAAI/AAAAAAAAFhI/POgYjCPTm9g/photo.jpg?sz=128", "display_name": "KBeDev", "link": "https://stackoverflow.com/users/7737346/kbedev"}, "edited": false, "score": 0, "creation_date": 1594227357, "post_id": 51183985, "comment_id": 111055031, "body": "Note you can use it with: <code>import { sha512 } from &#39;js-sha512&#39;;</code> And then, create your hash like this: <code>sha512.create().update(&lt;something_to_hash&gt;).hex()</code>"}], "tags": [], "owner": {"reputation": 277, "user_id": 7261939, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/528dfbf2eae33d98f24f5891516b881b?s=128&d=identicon&r=PG&f=1", "display_name": "Tadej Vozlic", "link": "https://stackoverflow.com/users/7261939/tadej-vozlic"}, "is_accepted": false, "score": 3, "last_activity_date": 1549964631, "last_edit_date": 1549964631, "creation_date": 1530768702, "answer_id": 51183985, "question_id": 51171608, "link": "https://stackoverflow.com/questions/51171608/implement-sha512-hash-in-angular/51183985#51183985", "title": "Implement SHA512 hash in angular", "body": "<p>Ok, i found the solution. I installed this <a href=\"https://www.npmjs.com/package/js-sha512\" rel=\"nofollow noreferrer\">npm package</a> </p>\n\n<p>then I included this package into my service (you can include it in component or wherever you need it) like that</p>\n\n<pre><code>import * as sha512 from 'js-sha512';\n</code></pre>\n\n<p>and finally used it as it says in documentation like that:</p>\n\n<pre><code>sha512.sha512('Message to hash');\n</code></pre>\n\n<p>The library has to be used to get to the function provided by it.</p>\n"}], "owner": {"reputation": 277, "user_id": 7261939, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/528dfbf2eae33d98f24f5891516b881b?s=128&d=identicon&r=PG&f=1", "display_name": "Tadej Vozlic", "link": "https://stackoverflow.com/users/7261939/tadej-vozlic"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 6603, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1549964631, "creation_date": 1530700425, "question_id": 51171608, "link": "https://stackoverflow.com/questions/51171608/implement-sha512-hash-in-angular", "title": "Implement SHA512 hash in angular", "body": "<p>I need to hash string in angular 2+ with SHA512, but i couldn't find any library or function to do that. Do you know of any solution to that?  </p>\n"}, {"tags": ["typescript", "winston", "morgan"], "answers": [{"comments": [{"owner": {"reputation": 10585, "user_id": 1548432, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/3eccf815d82c84550fa37f1f77c1c23d?s=128&d=identicon&r=PG", "display_name": "Kay", "link": "https://stackoverflow.com/users/1548432/kay"}, "edited": false, "score": 0, "creation_date": 1530701384, "post_id": 51171779, "comment_id": 89326305, "body": "That makes sense, this seemed to solve my problem but i have a followup question in that <code>this.log</code> is undefined inside this object function. ` Cannot read property &#39;info&#39; of undefined\\nTypeError: Cannot read property &#39;info&#39; of undefined`"}, {"owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "reply_to_user": {"reputation": 10585, "user_id": 1548432, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/3eccf815d82c84550fa37f1f77c1c23d?s=128&d=identicon&r=PG", "display_name": "Kay", "link": "https://stackoverflow.com/users/1548432/kay"}, "edited": false, "score": 0, "creation_date": 1530701441, "post_id": 51171779, "comment_id": 89326342, "body": "@Kay wops, yes since you want <code>this</code> from the declaration context best use an arrow function. Edited"}, {"owner": {"reputation": 10585, "user_id": 1548432, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/3eccf815d82c84550fa37f1f77c1c23d?s=128&d=identicon&r=PG", "display_name": "Kay", "link": "https://stackoverflow.com/users/1548432/kay"}, "edited": false, "score": 0, "creation_date": 1530701475, "post_id": 51171779, "comment_id": 89326358, "body": "Ty you so much. Fixed!"}], "tags": [], "owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "is_accepted": true, "score": 3, "last_activity_date": 1530701385, "last_edit_date": 1530701385, "creation_date": 1530701047, "answer_id": 51171779, "question_id": 51171572, "link": "https://stackoverflow.com/questions/51171572/argument-of-type-combined-is-not-assignable-to-parameter-of-type-formatfn/51171779#51171779", "title": "Argument of type &#39;&quot;combined&quot;&#39; is not assignable to parameter of type &#39;FormatFn&#39;", "body": "<p>The problem is that the second object passed to the function does not match the type declared for it, which is <code>morgan.Options</code>. Because of this the compiler moves past the overload with <code>'combine'</code> as an argument and ultimately, when finding no overload matched, will choose the last overload to report the error on, giving a rather confusing error message. </p>\n\n<p>The object literal you pass in does not match <code>morgan.Options</code> because <code>stream</code> should be of type <code>interface StreamOptions { write(str: string): void;}</code> and field <code>objectMode</code> does not exist on <code>morgan.Options</code> at all (al least not in the stock version with no augmentations, I did not install <code>Winston</code>)</p>\n\n<p>The code below passes the compiler checks (note I did not actually run this code, I am not familiar with <code>morgan</code> just providing help with the typescript type error):</p>\n\n<pre><code>morgan('combined', {\n    stream: {\n        write: (meta: any) =&gt; {\n           this.log.info(\"Request served\", meta);\n        },\n    }\n});\n</code></pre>\n"}], "owner": {"reputation": 10585, "user_id": 1548432, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/3eccf815d82c84550fa37f1f77c1c23d?s=128&d=identicon&r=PG", "display_name": "Kay", "link": "https://stackoverflow.com/users/1548432/kay"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1261, "favorite_count": 0, "accepted_answer_id": 51171779, "answer_count": 1, "score": 3, "last_activity_date": 1530701385, "creation_date": 1530700344, "question_id": 51171572, "link": "https://stackoverflow.com/questions/51171572/argument-of-type-combined-is-not-assignable-to-parameter-of-type-formatfn", "title": "Argument of type &#39;&quot;combined&quot;&#39; is not assignable to parameter of type &#39;FormatFn&#39;", "body": "<p>I am trying to use morgan along with winston logger. I am getting the following error. I have used the combined preset formats. i then want to log the request using my logger.</p>\n\n<blockquote>\n  <p>[ts] Argument of type '\"combined\"' is not assignable to parameter of type 'FormatFn'.</p>\n</blockquote>\n\n<pre><code>app.use(morgan(\"combined\" {\n    stream(meta: any) {\n       this.log.info(\"Request served\", meta);\n    },\n    objectMode: true,\n}));\n</code></pre>\n"}, {"tags": ["angular", "typescript", "angular-components", "ng-template"], "comments": [{"owner": {"reputation": 2455, "user_id": 1183088, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/eaa57863cd499773656be513bb4e1b83?s=128&d=identicon&r=PG", "display_name": "Jack M", "link": "https://stackoverflow.com/users/1183088/jack-m"}, "edited": false, "score": 0, "creation_date": 1530701481, "post_id": 51171350, "comment_id": 89326365, "body": "did you consider using dumb component? I think it may be easier that way."}], "answers": [{"comments": [{"owner": {"reputation": 21940, "user_id": 5394220, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/U2VGk.jpg?s=128&g=1", "display_name": "Jota.Toledo", "link": "https://stackoverflow.com/users/5394220/jota-toledo"}, "edited": false, "score": 0, "creation_date": 1530701970, "post_id": 51171754, "comment_id": 89326690, "body": "this does not solve the issue that OP described in relation to the inputs, you just gave a suggestion"}], "tags": [], "owner": {"reputation": 1829, "user_id": 1504265, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/39b0bb80b79d4f9d0e4629ffe0f716f5?s=128&d=identicon&r=PG", "display_name": "Vinod Bhavnani", "link": "https://stackoverflow.com/users/1504265/vinod-bhavnani"}, "is_accepted": false, "score": 7, "last_activity_date": 1530702369, "last_edit_date": 1530702369, "creation_date": 1530700952, "answer_id": 51171754, "question_id": 51171350, "link": "https://stackoverflow.com/questions/51171350/angular-pass-a-component-as-ng-template-of-another-component/51171754#51171754", "title": "Angular pass a Component as ng-template of another Component", "body": "<p>What you can do is this:</p>\n\n<p>When you call component A, you pass an ng-template to that as follows:</p>\n\n<pre><code>&lt;app-component-a&gt; \n   &lt;ng-template *ngIf=\u201dcondition; else elseBlock\u201d&gt; \n      &lt;app-component-b&gt;&lt;/app-component-b&gt; \n   &lt;/ng-template&gt; \n   &lt;ng-template #elseBlock&gt; \n      &lt;app-component-c&gt;&lt;/app-component-c&gt; \n   &lt;/ng-template&gt;\n&lt;/app-component-a&gt; \n</code></pre>\n\n<p>Now in your app-component-a.ts you do this:</p>\n\n<pre><code>@ContentChild(TemplateRef) template: TemplateRef;\n</code></pre>\n\n<p>So basically template will get component b or c based on your condition.</p>\n\n<p>And then in component A template, you do this:</p>\n\n<pre><code>&lt;ng-container [ngTemplateOutlet]=\"template\"&gt;&lt;/ng-container&gt;\n</code></pre>\n\n<p>So now your ng-container will get Component B or C based on your condition.</p>\n\n<p>As far as your form is concerned, i'm afraid the only thing I can think of is to create a service and provide it in component A, inject it in A,B and C and share the form in that service.</p>\n\n<p>But if you include component B and C the way I have shown above, Angular will handle creation and destruction of your B and C components on it's own. </p>\n\n<p>Otherwise when your ng-template condition changes, your component B will not be destroyed when component C is instantiated.</p>\n\n<p><strong>Edit:</strong></p>\n\n<p>One more thing I can think of is that if you are not calling component B or C as soon as A is instantiated, you could also emit (@Output) form from A to A's parent oninit of A. This way when B or C is called, A's parent will have access to form and it can pass it to B or C.</p>\n"}, {"tags": [], "owner": {"reputation": 21940, "user_id": 5394220, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/U2VGk.jpg?s=128&g=1", "display_name": "Jota.Toledo", "link": "https://stackoverflow.com/users/5394220/jota-toledo"}, "is_accepted": true, "score": 7, "last_activity_date": 1530702337, "creation_date": 1530702337, "answer_id": 51172183, "question_id": 51171350, "link": "https://stackoverflow.com/questions/51171350/angular-pass-a-component-as-ng-template-of-another-component/51172183#51172183", "title": "Angular pass a Component as ng-template of another Component", "body": "<p>Have you tried by simply doing:</p>\n\n<pre><code>&lt;app-component-a #compA\n  [entity]=\"row\"\n  [entityName]=\"entityName\"&gt;\n  &lt;app-component-b\n    [inline]=\"true\"\n    [form]=\"compA.form\"\n  &gt;&lt;/app-component-b&gt;\n&lt;/app-component-a&gt;\n\n// component-a.html\n\n&lt;div class=\"row-detail-panel\"&gt;\n  &lt;h4 class=\"row-detail-panel-title\"&gt;{{ newEntity ? 'Add new' : 'Edit this'}} {{ entityName }}&lt;/h4&gt;\n  &lt;ng-content&gt;&lt;/ng-content&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>In order for this to work, the <code>form</code> member defined in the A component should be public, and preferably <code>readonly</code>.</p>\n"}], "owner": {"reputation": 36829, "user_id": 3497671, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/f83baf1bb818fad4fb1559ac2bf0304d?s=128&d=identicon&r=PG", "display_name": "Francesco Borzi", "link": "https://stackoverflow.com/users/3497671/francesco-borzi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 14083, "favorite_count": 4, "accepted_answer_id": 51172183, "answer_count": 2, "score": 13, "last_activity_date": 1533473906, "creation_date": 1530699647, "last_edit_date": 1533473906, "question_id": 51171350, "link": "https://stackoverflow.com/questions/51171350/angular-pass-a-component-as-ng-template-of-another-component", "title": "Angular pass a Component as ng-template of another Component", "body": "<p>In my Angular 6 app I need to pass a Component to another Component as its <a href=\"https://angular.io/guide/structural-directives#the-ng-template\" rel=\"noreferrer\">ng-template</a>.</p>\n\n<p>The reason is that I have a <strong>Component A</strong> that I need to replicate many times, but each time it has to include different components (let's call them <strong>Component B</strong> and <strong>Component C</strong>) which <strong>have the same Inputs</strong>.</p>\n\n<p><strong>Component A</strong> template:</p>\n\n<pre><code>&lt;div class=\"row-detail-panel\"&gt;\n  &lt;h4 class=\"row-detail-panel-title\"&gt;{{ newEntity ? 'Add new' : 'Edit this'}} {{ entityName }}&lt;/h4&gt;\n\n  &lt;!--THIS IS THE COMPONENT I WANT TO INJECT--&gt;\n  &lt;app-component-b\n    [inline]=\"true\"\n    [form]=\"form\"\n  &gt;&lt;/app-component-b&gt;\n  &lt;!--END--&gt;\n\n  &lt;!--some more html code here--&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>And I create a <strong>Component A</strong> instance using:</p>\n\n<pre><code>&lt;app-component-a\n  [entity]=\"row\"\n  [entityName]=\"entityName\"\n&gt;&lt;/app-component-a&gt;\n</code></pre>\n\n<hr>\n\n<p>So I thought about using <code>ng-template</code>, so changing the <strong>Component A</strong> template as follows:</p>\n\n<pre><code>&lt;div class=\"row-detail-panel\"&gt;\n  &lt;h4 class=\"row-detail-panel-title\"&gt;{{ newEntity ? 'Add new' : 'Edit this'}} {{ entityName }}&lt;/h4&gt;\n\n  &lt;ng-template&gt;&lt;/ng-template&gt;\n\n  &lt;!--some more html code here--&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>And creating a <strong>Component A</strong> instance using:</p>\n\n<pre><code>&lt;app-component-a\n  [entity]=\"row\"\n  [entityName]=\"entityName\"\n&gt;\n  &lt;app-component-b\n    [inline]=\"true\"\n    [form]=\"form\" &lt;!--PROBLEM: \"form\" does not exist here--&gt;\n  &gt;&lt;/app-component-b&gt;\n&lt;/app-component-a&gt;\n</code></pre>\n\n<p>So I can easily inject <strong>Component C</strong> instead of <strong>Component B</strong> as <strong>Component A</strong>'s ng-template:</p>\n\n<pre><code>&lt;app-component-a\n  [entity]=\"row\"\n  [entityName]=\"entityName\"\n&gt;\n  &lt;app-component-c\n    [inline]=\"true\"\n    [form]=\"form\" &lt;!--PROBLEM: \"form\" does not exist here--&gt;\n  &gt;&lt;/app-component-c&gt;\n&lt;/app-component-a&gt;\n</code></pre>\n\n<p><strong>PROBLEM</strong>:</p>\n\n<p>the variable <code>form</code> that I need to inject to <strong>Component B</strong> or <strong>Component C</strong> exists only inside <strong>Component A</strong> and <strong>not</strong> in <strong>Component A's parent</strong> (for some reasons I cannot move it one level up).</p>\n\n<p>How can I solve this problem?</p>\n"}, {"tags": ["angular", "typescript", "asp.net-web-api", "rxjs", "observable"], "comments": [{"owner": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 1, "creation_date": 1530699736, "post_id": 51171348, "comment_id": 89325282, "body": "If you&#39;re using RxJS 6, you need to <a href=\"https://github.com/ReactiveX/rxjs/blob/master/docs_app/content/guide/v6/migration.md\" rel=\"nofollow noreferrer\">migrate</a>."}, {"owner": {"reputation": 21940, "user_id": 5394220, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/U2VGk.jpg?s=128&g=1", "display_name": "Jota.Toledo", "link": "https://stackoverflow.com/users/5394220/jota-toledo"}, "edited": false, "score": 0, "creation_date": 1530700659, "post_id": 51171348, "comment_id": 89325815, "body": "what makes you think that not unsubscribing could cause a mem. leak?"}, {"owner": {"reputation": 347, "user_id": 9947320, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-evPIxS48Agk/AAAAAAAAAAI/AAAAAAAAAAA/mf3MfXCoaAU/photo.jpg?sz=128", "display_name": "maac", "link": "https://stackoverflow.com/users/9947320/maac"}, "reply_to_user": {"reputation": 21940, "user_id": 5394220, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/U2VGk.jpg?s=128&g=1", "display_name": "Jota.Toledo", "link": "https://stackoverflow.com/users/5394220/jota-toledo"}, "edited": false, "score": 0, "creation_date": 1530701382, "post_id": 51171348, "comment_id": 89326302, "body": "Isnt it a quite big flaw to have hundreds of subsciptions up at the same time @Jota.Toledo ?"}], "answers": [{"comments": [{"owner": {"reputation": 21940, "user_id": 5394220, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/U2VGk.jpg?s=128&g=1", "display_name": "Jota.Toledo", "link": "https://stackoverflow.com/users/5394220/jota-toledo"}, "edited": false, "score": 2, "creation_date": 1530700576, "post_id": 51171503, "comment_id": 89325762, "body": "<code>take(1)</code> in the case that you describe is a noop, as the observables would emit only once by nature"}, {"owner": {"reputation": 859, "user_id": 8588193, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-BkzNQTWPtLc/AAAAAAAAAAI/AAAAAAAAAHA/HGwG0RdqXK8/photo.jpg?sz=128", "display_name": "Daniel Caldera", "link": "https://stackoverflow.com/users/8588193/daniel-caldera"}, "reply_to_user": {"reputation": 21940, "user_id": 5394220, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/U2VGk.jpg?s=128&g=1", "display_name": "Jota.Toledo", "link": "https://stackoverflow.com/users/5394220/jota-toledo"}, "edited": false, "score": 0, "creation_date": 1530700934, "post_id": 51171503, "comment_id": 89326006, "body": "You are right, the http complete the observable, take(1) is not needed. Edited for avoid confusions."}], "tags": [], "owner": {"reputation": 859, "user_id": 8588193, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-BkzNQTWPtLc/AAAAAAAAAAI/AAAAAAAAAHA/HGwG0RdqXK8/photo.jpg?sz=128", "display_name": "Daniel Caldera", "link": "https://stackoverflow.com/users/8588193/daniel-caldera"}, "is_accepted": false, "score": 1, "last_activity_date": 1530701049, "last_edit_date": 1530701049, "creation_date": 1530700149, "answer_id": 51171503, "question_id": 51171348, "link": "https://stackoverflow.com/questions/51171348/unsubscribing-to-an-observable-in-angular/51171503#51171503", "title": "Unsubscribing to an observable in Angular", "body": "<p>A http request in which you don't create a socket don't need to unsuscribe the observable, it finalize to a completed state. And why don't you call directly the service from updateInfo with the id that you receive as param?</p>\n\n<pre><code>updateInfo(vehicleId: number): void {\n    this.vehicleService.getVehicleDetail(vehicleId)\n     .subscribe((data) =&gt; {\n       this.vehicleDetail = data;\n       if (this.vehicleDetail.position) {\n         this.setMap();\n         return;\n       }\n       this.map.flyTo(new Leaflet.LatLng(50.7089, 10.9746), 4, {\n         animate: true,\n         duration: 4\n       });\n     });\n}\n</code></pre>\n"}], "owner": {"reputation": 347, "user_id": 9947320, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-evPIxS48Agk/AAAAAAAAAAI/AAAAAAAAAAA/mf3MfXCoaAU/photo.jpg?sz=128", "display_name": "maac", "link": "https://stackoverflow.com/users/9947320/maac"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 277, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1530701049, "creation_date": 1530699643, "question_id": 51171348, "link": "https://stackoverflow.com/questions/51171348/unsubscribing-to-an-observable-in-angular", "title": "Unsubscribing to an observable in Angular", "body": "<p>When I'm pressing a button I get info from a server for a specific vehicle. This is done by subscribing to an observable. When I press on the same button again I would like to unsubscribe to the current \"vehicleDetail\" that I'm looking at (to avoid memory leakage) as Im inspecting the new data of another vehicle.</p>\n\n<p>I'm using an VehicleDetail class, with the following properties:</p>\n\n<pre><code>export class VehicleDetail {\n  id: number;\n  name: string;\n  alarm: Alarms[] | null;\n  signalinfo: SignalInfo[];\n  position: Position | null;\n}\n</code></pre>\n\n<p>Here's my code in my .service.ts:</p>\n\n<pre><code>    getVehicleDetail(id: number): Observable&lt;VehicleDetail&gt; {\n        const url = `${this.vehiclesUrl}/${id}/${'detail'}`;\n        return this.http.get&lt;VehicleDetail&gt;(url).pipe(\n          tap(_ =&gt; this.log(`fetched vehicle detail id=${id}`)),\n          catchError(this.handleError&lt;VehicleDetail&gt;(`getVehicledetail id=${id}`))\n        );\n      }\n</code></pre>\n\n<p>and in my .component.ts:</p>\n\n<pre><code>import { Component, OnInit } from '@angular/core';\nimport { Observable, Subject } from 'rxjs';\nimport { takeUntil } from 'rxjs/operators';\nimport * as Leaflet from 'leaflet';\n\nimport { VehicleService } from '../vehicle.services';\nimport { VehicleDetail } from '../models/vehicle-detail';\n\n.........\n\nvehicleDetail: VehicleDetail;\nprivate unsubscribe$ = new Subject();\n\n.........\n\n\n\n  getVehicleDetail(): Observable&lt;VehicleDetail&gt; {\n    const details = this.vehicleService\n      .getVehicleDetail(this.vehicleService.vehicleId);\n\n    details.takeUntil(this.unsubscribe$).subscribe(data =&gt; {\n      this.vehicleDetail = data;\n    });\n    return details;\n  }\n\nupdateInfo(item): void {\n    this.unsubscribe$.next();\n    this.unsubscribe$.complete();\n    this.vehicleService.vehicleId = item;\n    console.log(this.vehicleService.vehicleId);\n    this.getVehicleDetail().takeUntil(this.unsubscribe$).subscribe(() =&gt; {\n      if (this.vehicleDetail.position) {\n        this.setMap();\n        return;\n      }\n      this.map.flyTo(new Leaflet.LatLng(50.7089, 10.9746), 4, {\n        animate: true,\n        duration: 4\n      });\n    });\n  }\n</code></pre>\n\n<p>The error I get is from takeUntil and it says:</p>\n\n<blockquote>\n  <p>error TS2339: Property 'takeUntil' does not exist on type\n  'Observable'.</p>\n</blockquote>\n\n<p>What am I doing wrong here?</p>\n"}, {"tags": ["angular", "typescript", "ionic2", "ionic3"], "comments": [{"owner": {"reputation": 4949, "user_id": 5928381, "user_type": "registered", "accept_rate": 11, "profile_image": "https://i.stack.imgur.com/3MFrQ.jpg?s=128&g=1", "display_name": "Anuradha Gunasekara", "link": "https://stackoverflow.com/users/5928381/anuradha-gunasekara"}, "edited": false, "score": 0, "creation_date": 1530698404, "post_id": 51170805, "comment_id": 89324459, "body": "Can you add the template(html) code as well."}, {"owner": {"reputation": 191, "user_id": 9192040, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh3.googleusercontent.com/-TRHQQhzCHEA/AAAAAAAAAAI/AAAAAAAAAwM/n503YflpXZ4/photo.jpg?sz=128", "display_name": "Juan David", "link": "https://stackoverflow.com/users/9192040/juan-david"}, "reply_to_user": {"reputation": 4949, "user_id": 5928381, "user_type": "registered", "accept_rate": 11, "profile_image": "https://i.stack.imgur.com/3MFrQ.jpg?s=128&g=1", "display_name": "Anuradha Gunasekara", "link": "https://stackoverflow.com/users/5928381/anuradha-gunasekara"}, "edited": false, "score": 0, "creation_date": 1530698532, "post_id": 51170805, "comment_id": 89324537, "body": "@AnuradhaGunasekara ready."}, {"owner": {"reputation": 4949, "user_id": 5928381, "user_type": "registered", "accept_rate": 11, "profile_image": "https://i.stack.imgur.com/3MFrQ.jpg?s=128&g=1", "display_name": "Anuradha Gunasekara", "link": "https://stackoverflow.com/users/5928381/anuradha-gunasekara"}, "edited": false, "score": 0, "creation_date": 1530698699, "post_id": 51170805, "comment_id": 89324631, "body": "what is the output ? Can you add a <code>console.log(data)</code> inside the <code>subscribe</code> method and add the output to the question?"}, {"owner": {"reputation": 191, "user_id": 9192040, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh3.googleusercontent.com/-TRHQQhzCHEA/AAAAAAAAAAI/AAAAAAAAAwM/n503YflpXZ4/photo.jpg?sz=128", "display_name": "Juan David", "link": "https://stackoverflow.com/users/9192040/juan-david"}, "reply_to_user": {"reputation": 4949, "user_id": 5928381, "user_type": "registered", "accept_rate": 11, "profile_image": "https://i.stack.imgur.com/3MFrQ.jpg?s=128&g=1", "display_name": "Anuradha Gunasekara", "link": "https://stackoverflow.com/users/5928381/anuradha-gunasekara"}, "edited": false, "score": 0, "creation_date": 1530699037, "post_id": 51170805, "comment_id": 89324830, "body": "@AnuradhaGunasekara ready"}, {"owner": {"reputation": 191, "user_id": 9192040, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh3.googleusercontent.com/-TRHQQhzCHEA/AAAAAAAAAAI/AAAAAAAAAwM/n503YflpXZ4/photo.jpg?sz=128", "display_name": "Juan David", "link": "https://stackoverflow.com/users/9192040/juan-david"}, "reply_to_user": {"reputation": 4949, "user_id": 5928381, "user_type": "registered", "accept_rate": 11, "profile_image": "https://i.stack.imgur.com/3MFrQ.jpg?s=128&g=1", "display_name": "Anuradha Gunasekara", "link": "https://stackoverflow.com/users/5928381/anuradha-gunasekara"}, "edited": false, "score": 0, "creation_date": 1530699084, "post_id": 51170805, "comment_id": 89324852, "body": "output is <code>numberOfSteps</code>"}, {"owner": {"reputation": 4949, "user_id": 5928381, "user_type": "registered", "accept_rate": 11, "profile_image": "https://i.stack.imgur.com/3MFrQ.jpg?s=128&g=1", "display_name": "Anuradha Gunasekara", "link": "https://stackoverflow.com/users/5928381/anuradha-gunasekara"}, "edited": false, "score": 0, "creation_date": 1530699237, "post_id": 51170805, "comment_id": 89324956, "body": "So everytime a new value comes the html and the console is getting updated right?"}, {"owner": {"reputation": 191, "user_id": 9192040, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh3.googleusercontent.com/-TRHQQhzCHEA/AAAAAAAAAAI/AAAAAAAAAwM/n503YflpXZ4/photo.jpg?sz=128", "display_name": "Juan David", "link": "https://stackoverflow.com/users/9192040/juan-david"}, "reply_to_user": {"reputation": 4949, "user_id": 5928381, "user_type": "registered", "accept_rate": 11, "profile_image": "https://i.stack.imgur.com/3MFrQ.jpg?s=128&g=1", "display_name": "Anuradha Gunasekara", "link": "https://stackoverflow.com/users/5928381/anuradha-gunasekara"}, "edited": false, "score": 0, "creation_date": 1530699451, "post_id": 51170805, "comment_id": 89325082, "body": "No, only the update is shown in the console, but the html is not updated, I want that, the html is updated as well."}, {"owner": {"reputation": 59546, "user_id": 6294072, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/wT1Nn.jpg?s=128&g=1", "display_name": "AJT82", "link": "https://stackoverflow.com/users/6294072/ajt82"}, "edited": false, "score": 0, "creation_date": 1530700779, "post_id": 51170805, "comment_id": 89325897, "body": "Could you reproduce this in a stackblitz?"}, {"owner": {"reputation": 191, "user_id": 9192040, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh3.googleusercontent.com/-TRHQQhzCHEA/AAAAAAAAAAI/AAAAAAAAAwM/n503YflpXZ4/photo.jpg?sz=128", "display_name": "Juan David", "link": "https://stackoverflow.com/users/9192040/juan-david"}, "edited": false, "score": 0, "creation_date": 1530701100, "post_id": 51170805, "comment_id": 89326120, "body": "sorry, this only work with cordova. what I am looking for is basically to be able to create a watch to detect the changes of stepsCount or this.pedometer.startPedometerUpdates ()."}, {"owner": {"reputation": 59546, "user_id": 6294072, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/wT1Nn.jpg?s=128&g=1", "display_name": "AJT82", "link": "https://stackoverflow.com/users/6294072/ajt82"}, "edited": false, "score": 0, "creation_date": 1530701802, "post_id": 51170805, "comment_id": 89326569, "body": "Oh right, I didn&#39;t notice :) Have you tried <code>NgZone</code> or <code>ChangeDetectorRef</code>?"}], "answers": [{"comments": [{"owner": {"reputation": 166, "user_id": 7207372, "user_type": "registered", "profile_image": "https://graph.facebook.com/10157945649430045/picture?type=large", "display_name": "Edwin Casta&#241;eda", "link": "https://stackoverflow.com/users/7207372/edwin-casta%c3%b1eda"}, "edited": false, "score": 0, "creation_date": 1567459271, "post_id": 51172465, "comment_id": 101961414, "body": "Still not working for you? I&#39;m triying with your solution, but i&#39;m getting not response from the pedometer when i testing with android."}], "tags": [], "owner": {"reputation": 191, "user_id": 9192040, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh3.googleusercontent.com/-TRHQQhzCHEA/AAAAAAAAAAI/AAAAAAAAAwM/n503YflpXZ4/photo.jpg?sz=128", "display_name": "Juan David", "link": "https://stackoverflow.com/users/9192040/juan-david"}, "is_accepted": false, "score": 0, "last_activity_date": 1530703300, "creation_date": 1530703300, "answer_id": 51172465, "question_id": 51170805, "link": "https://stackoverflow.com/questions/51170805/watch-changes-in-ionic-3/51172465#51172465", "title": "Watch changes in ionic 3", "body": "<p>I have solution. with <code>ChangeDetectorRef</code>, thank you. @AJT_82</p>\n\n<pre><code>import { Component , ChangeDetectorRef} from '@angular/core';\nimport { Platform, NavController } from 'ionic-angular';\n\n//Pedometer\nimport { Pedometer, IPedometerData } from '@ionic-native/pedometer';\n\n\n@Component({\n  selector: 'page-actv-home',\n  templateUrl: 'actv-home.html',\n})\nexport class ActvHomePage {\n\n  stepsCount: any = 0;\n\n  constructor(\n    public navCtrl: NavController,\n    public pedometer: Pedometer,\n    public refdect:ChangeDetectorRef,\n    public plt: Platform\n  ) {\n\n    // STEPS COUNT DEMO\n    if (this.plt.is('cordova')) {\n        this.watchSteps();\n    }\n  }\n\n\n  watchSteps(){\n    this.pedometer.startPedometerUpdates()\n        .subscribe((data: IPedometerData) =&gt; {\n          this.stepsCount = data.numberOfSteps;\n          if(this.stepsCount == 10){\n            alert('Yes! Your have completed 100 steps');\n          }\n          this.refdect.detectChanges();\n    });\n  }\n\n}\n</code></pre>\n"}], "owner": {"reputation": 191, "user_id": 9192040, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh3.googleusercontent.com/-TRHQQhzCHEA/AAAAAAAAAAI/AAAAAAAAAwM/n503YflpXZ4/photo.jpg?sz=128", "display_name": "Juan David", "link": "https://stackoverflow.com/users/9192040/juan-david"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1063, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1530703300, "creation_date": 1530697935, "last_edit_date": 1530701168, "question_id": 51170805, "link": "https://stackoverflow.com/questions/51170805/watch-changes-in-ionic-3", "title": "Watch changes in ionic 3", "body": "<p>I have the following code, I have not managed to get the way to update the changes of stepsCount, I need that every time startPedometerUpdates (), send changes to be able to show them instantaneously. in the variable stepsCount.</p>\n\n<p>what I am looking for is basically to be able to create a watch to detect the changes of <code>this.stepsCount</code> or <code>this.pedometer.startPedometerUpdates().</code></p>\n\n<p>Any idea how to do it?\nThank you very much</p>\n\n<pre><code>import { Component } from '@angular/core';\nimport { Platform, NavController } from 'ionic-angular';\n\n//Pedometer\nimport { Pedometer, IPedometerData } from '@ionic-native/pedometer';\n\n\n@Component({\n  selector: 'page-actv-home',\n  templateUrl: 'actv-home.html',\n})\nexport class ActvHomePage {\n\n  stepsCount: any = 0;\n\n  constructor(\n    public navCtrl: NavController,\n    public pedometer: Pedometer,\n    public plt: Platform\n  ) {\n    this.pedometer.startPedometerUpdates()\n      .subscribe((data: IPedometerData) =&gt; {\n        this.stepsCount = data.numberOfSteps;\n      });\n  }\n\n}\n</code></pre>\n\n<p><strong>HTML</strong></p>\n\n<pre><code>&lt;ion-content&gt;\n    &lt;p&gt;{{ stepsCount }}&lt;/p&gt;\n&lt;/ion-content&gt;\n</code></pre>\n\n<p><strong>Console log for</strong> <code>data</code></p>\n\n<p><a href=\"https://i.stack.imgur.com/xgOqI.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/xgOqI.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["angular", "typescript", "interface"], "comments": [{"owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "edited": false, "score": 1, "creation_date": 1530697689, "post_id": 51170695, "comment_id": 89323954, "body": "so you would want to be able to write something like <code>new modals.addAttribute().addAtributeMethod()</code> ?"}, {"owner": {"reputation": 990, "user_id": 7131648, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-Ume2O0mdfno/AAAAAAAAAAI/AAAAAAAAAF8/2k3lzM2RWWY/photo.jpg?sz=128", "display_name": "Alex Link", "link": "https://stackoverflow.com/users/7131648/alex-link"}, "reply_to_user": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "edited": false, "score": 0, "creation_date": 1530697787, "post_id": 51170695, "comment_id": 89324016, "body": "No, not at all. I would like to set the type for my components."}, {"owner": {"reputation": 990, "user_id": 7131648, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-Ume2O0mdfno/AAAAAAAAAAI/AAAAAAAAAF8/2k3lzM2RWWY/photo.jpg?sz=128", "display_name": "Alex Link", "link": "https://stackoverflow.com/users/7131648/alex-link"}, "reply_to_user": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "edited": false, "score": 0, "creation_date": 1530698088, "post_id": 51170695, "comment_id": 89324224, "body": "I need something like type: AngularComponent"}, {"owner": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 1, "creation_date": 1530698493, "post_id": 51170695, "comment_id": 89324511, "body": "What do you want to be able to <i>do</i> with something you get out of that map?"}], "answers": [{"tags": [], "owner": {"reputation": 10410, "user_id": 87056, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/LYg63.jpg?s=128&g=1", "display_name": "Yakov Fain", "link": "https://stackoverflow.com/users/87056/yakov-fain"}, "is_accepted": true, "score": 3, "last_activity_date": 1530700021, "last_edit_date": 1530700021, "creation_date": 1530699652, "answer_id": 51171352, "question_id": 51170695, "link": "https://stackoverflow.com/questions/51170695/what-is-the-type-of-angular-2-components-if-they-are-decorated/51171352#51171352", "title": "What is the type of angular 2 components if they are decorated?", "body": "<p>Decorators don't change the type of the class. If you just want to avoid using the type <code>any</code>, have each component class to extend the same abstract class or implement the same interface. Then you can use this new type as the generic one. For example, </p>\n\n<pre><code>class AddAttributeModalComponent implements MyInterface{...}\n\nMapOf&lt;MyInterface&gt; = {...}\n</code></pre>\n\n<p>The other option to try would be to create a new union type:</p>\n\n<pre><code>type MyNewType = AddAttributeModalComponent | \n                 EditAttributeModalComponent |\n                 RequestUnitModalComponent |\n                 RequestAttributeModalComponent;\n\nMapOf&lt;MyNewType&gt; = {...};\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 2575, "user_id": 1589218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/MthnD.jpg?s=128&g=1", "display_name": "Envil", "link": "https://stackoverflow.com/users/1589218/envil"}, "is_accepted": false, "score": 1, "last_activity_date": 1530724422, "last_edit_date": 1530724422, "creation_date": 1530700030, "answer_id": 51171475, "question_id": 51170695, "link": "https://stackoverflow.com/questions/51170695/what-is-the-type-of-angular-2-components-if-they-are-decorated/51171475#51171475", "title": "What is the type of angular 2 components if they are decorated?", "body": "<p><strong>Short answer: There're no such thing like that.</strong></p>\n\n<p><strong>Long Answer:</strong> We define the <code>Component</code> by using the <code>@Component({...})</code> decorator to provide some metadata about the <code>Component</code>. Angular will use that metadata to create the <code>View</code>, which is a low-level abstraction of the <code>Component</code> we used to know.</p>\n\n<p>So, the below <code>Component</code> interface for the <code>@Component</code> decorator is NOT the real \"component class\":</p>\n\n<p><code>import {Component} from '@angular/core';</code></p>\n\n<p>To achieve what you're trying to do, I think <a href=\"https://stackoverflow.com/a/51171352/1589218\">Yakov Fain's answer</a> is quite correct. Either you can create an interface or an abstract class then implement/extend your component classes from there.</p>\n\n<p>If you want to know more about the view, there're some nice articles by Ng Wizard about this topic:\n<a href=\"https://blog.angularindepth.com/exploring-angular-dom-abstractions-80b3ebcfc02\" rel=\"nofollow noreferrer\">https://blog.angularindepth.com/exploring-angular-dom-abstractions-80b3ebcfc02</a>\n <a href=\"https://blog.angularindepth.com/everything-you-need-to-know-about-change-detection-in-angular-8006c51d206f\" rel=\"nofollow noreferrer\">https://blog.angularindepth.com/everything-you-need-to-know-about-change-detection-in-angular-8006c51d206f</a></p>\n"}], "owner": {"reputation": 990, "user_id": 7131648, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-Ume2O0mdfno/AAAAAAAAAAI/AAAAAAAAAF8/2k3lzM2RWWY/photo.jpg?sz=128", "display_name": "Alex Link", "link": "https://stackoverflow.com/users/7131648/alex-link"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 482, "favorite_count": 0, "accepted_answer_id": 51171352, "answer_count": 2, "score": 0, "last_activity_date": 1530724422, "creation_date": 1530697588, "last_edit_date": 1530697707, "question_id": 51170695, "link": "https://stackoverflow.com/questions/51170695/what-is-the-type-of-angular-2-components-if-they-are-decorated", "title": "What is the type of angular 2 components if they are decorated?", "body": "<p>I need to have a map of different angular components. This is the map:</p>\n\n<pre><code>  private modals: MapOf&lt;any&gt; = {\n    addAttribute: AddAttributeModalComponent,\n    editAttribute: EditAttributeModalComponent,\n    requestUnit: RequestUnitModalComponent,\n    requestAttribute: RequestAttributeModalComponent\n  };\n</code></pre>\n\n<p>As you can see, I have a generic type MapOf. This is it:</p>\n\n<pre><code>export interface MapOf&lt;T&gt; {\n  [key: string]: T;\n}\n</code></pre>\n\n<p>Right now I am confused with &lt; any >, because clearly this is a map of components. But I don't know how to set this type and I couldn't find the answer. </p>\n\n<p>ComponentRef doesn't fit here, because it asks for a reference anyway.\nType Component doesn't fit also, because my components are decorated and they contain some methods which are not present on 'pure' Component.</p>\n\n<p>Any ideas?</p>\n"}, {"tags": ["javascript", "angular", "typescript", "mobx"], "answers": [{"tags": [], "owner": {"reputation": 14050, "user_id": 3772221, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/xfx4l.png?s=128&g=1", "display_name": "m0meni", "link": "https://stackoverflow.com/users/3772221/m0meni"}, "is_accepted": false, "score": 1, "last_activity_date": 1530810656, "creation_date": 1530810656, "answer_id": 51196763, "question_id": 51170654, "link": "https://stackoverflow.com/questions/51170654/how-can-i-check-if-mobx-store-is-empty-in-angular/51196763#51196763", "title": "How can I check if Mobx store is empty in Angular?", "body": "<p>Take a slice of the array first to convert it to a regular array, and then check the length i.e.</p>\n\n<pre><code>object.slice().length &gt; 0\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 81718, "user_id": 3617886, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/y26OT.jpg?s=128&g=1", "display_name": "Tholle", "link": "https://stackoverflow.com/users/3617886/tholle"}, "is_accepted": true, "score": 3, "last_activity_date": 1530810915, "creation_date": 1530810915, "answer_id": 51196817, "question_id": 51170654, "link": "https://stackoverflow.com/questions/51170654/how-can-i-check-if-mobx-store-is-empty-in-angular/51196817#51196817", "title": "How can I check if Mobx store is empty in Angular?", "body": "<p>The <code>length</code> property of an observable array works just the same way as a regular array, so <code>object.length === 0</code> is all you need to check if your <code>object</code> array is empty.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const { observable } = mobx;\r\n\r\nconst object = observable([]);\r\nconsole.log(`object is ${object.length === 0 ? 'empty' : 'not empty'}`);</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;script src=\"https://unpkg.com/mobx@5.0.3/lib/mobx.umd.min.js\"&gt;&lt;/script&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 910, "user_id": 8608962, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/wseAh.jpg?s=128&g=1", "display_name": "sander", "link": "https://stackoverflow.com/users/8608962/sander"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 902, "favorite_count": 0, "accepted_answer_id": 51196817, "answer_count": 2, "score": 3, "last_activity_date": 1530810915, "creation_date": 1530697482, "last_edit_date": 1530810528, "question_id": 51170654, "link": "https://stackoverflow.com/questions/51170654/how-can-i-check-if-mobx-store-is-empty-in-angular", "title": "How can I check if Mobx store is empty in Angular?", "body": "<p>It seems that Mobx populates its observable properties with array of undefined objects. How can I check if they are undefined or if they contain value?</p>\n\n<p>I have a property in Mobx store like this:</p>\n\n<pre><code>  @observable object: object[] = [];\n</code></pre>\n"}, {"tags": ["typescript", "typescript-typings", "tsc"], "answers": [{"tags": [], "owner": {"reputation": 1165, "user_id": 8049667, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/AVUML.jpg?s=128&g=1", "display_name": "Sh. Pavel", "link": "https://stackoverflow.com/users/8049667/sh-pavel"}, "is_accepted": true, "score": 4, "last_activity_date": 1530697068, "creation_date": 1530697068, "answer_id": 51170518, "question_id": 51170387, "link": "https://stackoverflow.com/questions/51170387/duplicate-string-values-in-ts-enum-does-not-cause-compilation-error/51170518#51170518", "title": "Duplicate string values in TS enum does not cause compilation error?", "body": "<p>regarding the TS ENUM specification:</p>\n\n<blockquote>\n  <p>Enums allow us to define a set of named constants. Using enums can make it easier to document intent, or create a set of distinct cases. TypeScript provides both numeric and string-based enums.</p>\n</blockquote>\n\n<p>There is nothing about that it should to be uniq, so probably that behaivor is okey.</p>\n\n<p><a href=\"https://www.typescriptlang.org/docs/handbook/enums.html\" rel=\"nofollow noreferrer\">enum/typescript</a></p>\n\n<p><strong>UPDATE:</strong>\nThere is another interesting thing about the ENUM and 'bugs':</p>\n\n<blockquote>\n  <p>Enum value incrementation does not consider previously defined values, nor does the compiler throws an error on duplicate values.</p>\n  \n  <p>Which means you can end up with potential bugs:</p>\n</blockquote>\n\n<pre><code>enum Color {Red = 3, Green = 2, Blue};\n\nColor.Red == Color.Blue; //true\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 7381, "user_id": 763790, "user_type": "registered", "accept_rate": 59, "profile_image": "https://i.stack.imgur.com/HmxR6.png?s=128&g=1", "display_name": "ic3", "link": "https://stackoverflow.com/users/763790/ic3"}, "is_accepted": false, "score": 2, "last_activity_date": 1572527857, "creation_date": 1572527857, "answer_id": 58644229, "question_id": 51170387, "link": "https://stackoverflow.com/questions/51170387/duplicate-string-values-in-ts-enum-does-not-cause-compilation-error/58644229#58644229", "title": "Duplicate string values in TS enum does not cause compilation error?", "body": "<p>To add an actual issue you might encounter wit this (remember that at runtime it's the value that is used) :</p>\n\n<pre><code>enum Toto {\n   A = \"a\",\n   B = \"a\"\n}\n\nconst a = Toto.B;\nswitch (a) {\n    case Toto.A:\n        console.log(\"1\");\n    break;\n    case Toto.B:\n        console.log(\"2\");\n}\n</code></pre>\n\n<p>There is no way to enter into case Toto.B case. It would be handy if typescript would NOT allow duplicated names.</p>\n"}, {"tags": [], "owner": {"reputation": 700, "user_id": 1093931, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5f0bb2bf8c3a6e4a1ad0340032454419?s=128&d=identicon&r=PG", "display_name": "Donniewiko", "link": "https://stackoverflow.com/users/1093931/donniewiko"}, "is_accepted": false, "score": 0, "last_activity_date": 1575296609, "creation_date": 1575296609, "answer_id": 59140892, "question_id": 51170387, "link": "https://stackoverflow.com/questions/51170387/duplicate-string-values-in-ts-enum-does-not-cause-compilation-error/59140892#59140892", "title": "Duplicate string values in TS enum does not cause compilation error?", "body": "<p>The same behaviour happens in c#:</p>\n\n<pre><code>void Main() {\n    var blue = Color.Blue;\n    blue.Dump(); // Red\n}\n\nenum Color {\n    Red = 3,\n    Green = 2,\n    Blue \n}\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 1223975, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/5Oh7r.jpg?s=128&g=1", "display_name": "Alexander Mills", "link": "https://stackoverflow.com/users/1223975/alexander-mills"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1286, "favorite_count": 0, "accepted_answer_id": 51170518, "answer_count": 3, "score": 5, "last_activity_date": 1575296609, "creation_date": 1530696731, "question_id": 51170387, "link": "https://stackoverflow.com/questions/51170387/duplicate-string-values-in-ts-enum-does-not-cause-compilation-error", "title": "Duplicate string values in TS enum does not cause compilation error?", "body": "<p>I have this in a TypeScript enum:</p>\n\n<pre><code>export enum LMXLockRequestError {\n  MaxRetries = 'bad_args',\n  BadArgumentsError = 'bad_args',\n}\n</code></pre>\n\n<p>this doesn't seem to cause a compilation error.\nIt transpiles to this:</p>\n\n<pre><code>var LMXLockRequestError;\n(function (LMXLockRequestError) {\n    LMXLockRequestError[\"MaxRetries\"] = \"bad_args\";\n    LMXLockRequestError[\"BadArgumentsError\"] = \"bad_args\";\n})(LMXLockRequestError = exports.LMXLockRequestError || (exports.LMXLockRequestError = {}));\n</code></pre>\n\n<p>if I were to then use it to do:</p>\n\n<pre><code>if(v === LMXLockRequestError.MaxRetries){\n\n}\n</code></pre>\n\n<p>if v was 'bad_args' it would match both MaxRetries and BadArgumentsError.</p>\n\n<p>Is this supposed to happen? Or should I file an issue with TypeScript on Github?</p>\n\n<p>To me an enum should have different keys, but maybe not necessarily different values? It would be nice if there was a way to tell the enum that it must have different values.</p>\n"}, {"tags": ["angular", "typescript", "angular5"], "comments": [{"owner": {"reputation": 28328, "user_id": 1160794, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/b81c88d628038fbe7c8e5976f40d5b12?s=128&d=identicon&r=PG&f=1", "display_name": "David", "link": "https://stackoverflow.com/users/1160794/david"}, "edited": false, "score": 0, "creation_date": 1530696778, "post_id": 51170346, "comment_id": 89323410, "body": "Are you using the old http or the new httpClient?"}, {"owner": {"reputation": 342, "user_id": 9981538, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cab1b1d8563b50304df69b8ae0db8426?s=128&d=identicon&r=PG&f=1", "display_name": "andrea2010", "link": "https://stackoverflow.com/users/9981538/andrea2010"}, "reply_to_user": {"reputation": 28328, "user_id": 1160794, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/b81c88d628038fbe7c8e5976f40d5b12?s=128&d=identicon&r=PG&f=1", "display_name": "David", "link": "https://stackoverflow.com/users/1160794/david"}, "edited": false, "score": 0, "creation_date": 1530696962, "post_id": 51170346, "comment_id": 89323510, "body": "I&#39;m using a new httpClient,"}, {"owner": {"reputation": 28328, "user_id": 1160794, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/b81c88d628038fbe7c8e5976f40d5b12?s=128&d=identicon&r=PG&f=1", "display_name": "David", "link": "https://stackoverflow.com/users/1160794/david"}, "edited": false, "score": 1, "creation_date": 1530697211, "post_id": 51170346, "comment_id": 89323662, "body": "Try using this <code>.then((res:any) =&gt; res.tasks as Task[])</code> for the terminal error. For the other one, you need to show how you call your pipe. You&#39;re probably calling it on an undefined variable"}, {"owner": {"reputation": 59546, "user_id": 6294072, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/wT1Nn.jpg?s=128&g=1", "display_name": "AJT82", "link": "https://stackoverflow.com/users/6294072/ajt82"}, "edited": false, "score": 0, "creation_date": 1530697597, "post_id": 51170346, "comment_id": 89323887, "body": "<a href=\"https://stackoverflow.com/questions/47202177/angular-4-http-to-httpclient-property-someproperty-does-not-exist-on-type/47202304\" title=\"angular 4 http to httpclient property someproperty does not exist on type\">stackoverflow.com/questions/47202177/&hellip;</a>"}, {"owner": {"reputation": 342, "user_id": 9981538, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cab1b1d8563b50304df69b8ae0db8426?s=128&d=identicon&r=PG&f=1", "display_name": "andrea2010", "link": "https://stackoverflow.com/users/9981538/andrea2010"}, "edited": false, "score": 0, "creation_date": 1530698147, "post_id": 51170346, "comment_id": 89324273, "body": "And thank you, the advice with an error in the console helped."}, {"owner": {"reputation": 342, "user_id": 9981538, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cab1b1d8563b50304df69b8ae0db8426?s=128&d=identicon&r=PG&f=1", "display_name": "andrea2010", "link": "https://stackoverflow.com/users/9981538/andrea2010"}, "edited": false, "score": 0, "creation_date": 1530699069, "post_id": 51170346, "comment_id": 89324841, "body": "I noticed that if I create two different accounts, create tasks from them, then tasks are not assigned to one user, how can this be fixed?"}], "owner": {"reputation": 342, "user_id": 9981538, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cab1b1d8563b50304df69b8ae0db8426?s=128&d=identicon&r=PG&f=1", "display_name": "andrea2010", "link": "https://stackoverflow.com/users/9981538/andrea2010"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 728, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1530699741, "creation_date": 1530696602, "last_edit_date": 1530699741, "question_id": 51170346, "link": "https://stackoverflow.com/questions/51170346/angular-error-ts2339-property-tasks-does-not-exist-on-type-response", "title": "Angular, error TS2339: Property &#39;tasks&#39; does not exist on type &#39;Response&#39;", "body": "<p>I'm trying to print tasks when I use <code>res.json()</code>, I get nothing when I use <code>res.tasks</code>. I get another error, only new ones are shown, old ones are not displayed, and if the page is reloaded, then new ones will also be removed.</p>\n\n<p>task.ts</p>\n\n<hr>\n\n<pre><code>....\n\n   loadTasks(): Promise&lt;Task[]&gt; {\n   const url = `${this.tasksUrl}?access_token=${localStorage.getItem('token')}`;\n   return this.http.get(url)\n     .toPromise()\n     .then(res =&gt; res.tasks as Task[]) // res.json()\n     .catch(error =&gt; this.handleError(error, 'Could not load tasks!'));\n}\n\n....\n</code></pre>\n\n<hr>\n\n<p>Error terminal:</p>\n\n<pre><code>ERROR in src/app/services/task.ts(30,24): error TS2339: Property 'tasks' does not exist on type 'Response'.\n</code></pre>\n\n<hr>\n\n<p>Error console browser:</p>\n\n<pre><code>ERROR Error: Uncaught (in promise): TypeError: Cannot read property 'constructor' of undefined\nTypeError: Cannot read property 'constructor' of undefined\nat FilterByFieldPipe.push../src/app/pipes/filter-by-field.ts.FilterByFieldPipe.transform (filter-by-field.ts:10)\n</code></pre>\n\n<p>and filter-by-field.ts</p>\n\n<pre><code>import { Pipe, PipeTransform } from '@angular/core';\n\n@Pipe({\n  name: 'filterByField',\n  pure: false\n})\n\nexport class FilterByFieldPipe implements PipeTransform {\n  transform(items, key, value) {\n    if (items.constructor === Array) {\n      return items.filter((item) =&gt; item[key] === value);\n    }\n  }\n}\n</code></pre>\n"}, {"tags": ["javascript", "angularjs", "typescript", "gulp"], "answers": [{"tags": [], "owner": {"reputation": 1973, "user_id": 3884310, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/4561a51306a43be225fceafa9f66d4c9?s=128&d=identicon&r=PG&f=1", "display_name": "tsiro", "link": "https://stackoverflow.com/users/3884310/tsiro"}, "is_accepted": true, "score": 0, "last_activity_date": 1531839475, "creation_date": 1531839475, "answer_id": 51384590, "question_id": 51170187, "link": "https://stackoverflow.com/questions/51170187/uncaught-in-promise-error-unexpected-token-updating-typescript-type-definit/51384590#51384590", "title": "Uncaught (in promise) Error: Unexpected token &lt; updating typescript type definitions", "body": "<p>Apparently, I have managed to have my site app and running after running gulp dev task. Below is the systemjs_initialization.js file which it has been changed to:</p>\n\n<pre><code>System.defaultJSExtensions = true;\n\nSystem.config({    \nbaseURL: \"/sitedomain/Scripts\",    \npackages: {        \n    \"/sitedomain/Scripts\": {\n        defaultExtension: \"js\"\n    }\n}\n});\n\n// loads /app.js\nSystem.import(\"app\");\n</code></pre>\n\n<p>I have added the 'packages' property inside SystemJS configuration which tells the SystemJS compiler how to load traspiled files when no filename and/or no extension provided.</p>\n"}], "owner": {"reputation": 1973, "user_id": 3884310, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/4561a51306a43be225fceafa9f66d4c9?s=128&d=identicon&r=PG&f=1", "display_name": "tsiro", "link": "https://stackoverflow.com/users/3884310/tsiro"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 97, "favorite_count": 0, "accepted_answer_id": 51384590, "answer_count": 1, "score": 0, "last_activity_date": 1531839475, "creation_date": 1530696176, "question_id": 51170187, "link": "https://stackoverflow.com/questions/51170187/uncaught-in-promise-error-unexpected-token-updating-typescript-type-definit", "title": "Uncaught (in promise) Error: Unexpected token &lt; updating typescript type definitions", "body": "<p>I am using angularjs with typescript in conjunction with gulp task utility.\nI have just updated typescript from version 2.0.3 to latest version 2.9.2. I have also changed typescript type definitions in tsconfig.json file.</p>\n\n<p>Previous tsconfig.json:</p>\n\n<pre><code>{\n \"compilerOptions\": {\n \"noImplicitAny\": false,\n \"noEmitOnError\": false,\n \"removeComments\": true,\n \"preserveConstEnums\": true,\n \"sourceMap\": false,\n \"inlineSourceMap\": true,\n \"inlineSources\": true,\n \"emitDecoratorMetadata\": true,\n \"experimentalDecorators\": true,\n \"strictNullChecks\": false, // to check periodically\n \"noUnusedLocals\": false, // to check periodically\n \"noUnusedParameters\": false, // to check periodically\n \"target\": \"es5\",\n \"module\": \"system\",\n \"moduleResolution\": \"node\"    \n},\n \"compileOnSave\": true,\n \"exclude\": [\n  \"node_modules\",\n  \"bower_components\",\n  \"Scripts/typings/lodash/lodash-3.10.d.ts\"\n ]\n}\n</code></pre>\n\n<p>Current tsconfig.json:</p>\n\n<pre><code>{\n \"compilerOptions\": {\n \"noImplicitAny\": false,\n \"noEmitOnError\": false,\n \"removeComments\": true,\n \"preserveConstEnums\": true,\n \"sourceMap\": false,\n \"inlineSourceMap\": true,\n \"inlineSources\": true,\n \"emitDecoratorMetadata\": true,\n \"experimentalDecorators\": true,\n \"strictNullChecks\": false, // to check periodically\n \"noUnusedLocals\": false, // to check periodically\n \"noUnusedParameters\": false, // to check periodically\n \"target\": \"es5\",\n \"module\": \"system\",\n \"moduleResolution\": \"node\",\n \"typeRoots\": [ \"node_modules/@types\" ],\n \"types\": [ \"angular\", \"node\", \"angular-growl-v2\", \"angular-local-storage\", \"angular-scroll\", \"ng-dialog\", \"ng-flow\", \"lodash\", \"jasmine\", \"chance\", \"jquery\", \"angular-mocks\", \"modernizr\" ],\n \"lib\":  [ \"dom\", \"es6\" ]\n},\n\"compileOnSave\": true,\n \"exclude\": [\n  \"node_modules\",\n  \"bower_components\",\n  \"Scripts/UnitTests\",\n  \"Scripts/typings/lodash/lodash-3.10.d.ts\"\n ]\n}\n</code></pre>\n\n<p>Previous package.json:</p>\n\n<pre><code>{\n \"version\": \"1.0.0\",\n \"name\": \"gtp.clientportalwebsite\",\n \"private\": true,\n \"dependencies\": {\n   \"@flow.js/ng-flow\": \"git+https://github.com/flowjs/ng-flow.git#a761386\",\n   \"angular\": \"1.5.8\",\n   \"angular-animate\": \"1.5.8\",\n   \"angular-bootstrap-calendar\": \"0.28.0\",\n   \"angular-bootstrap-multiselect\": \"1.1.2\",\n   \"angular-growl-v2\": \"0.7.5\",\n   \"angular-i18n\": \"1.5.8\",\n   \"angular-local-storage\": \"0.5.0\",\n   \"angular-messages\": \"1.5.8\",\n   \"angular-mocks\": \"1.5.8\",\n   \"angular-recursion\": \"^1.0.5\",\n   \"angular-sanitize\": \"1.5.8\",\n   \"angular-scroll\": \"1.0.0\",\n   \"angular-ui-bootstrap\": \"2.2.0\",\n   \"angular-ui-mask\": \"1.8.7\",\n   \"angular-ui-tree\": \"^2.22.6\",\n   \"animate.css\": \"3.5.2\",\n\"bootstrap\": \"3.3.7\",\n\"chance\": \"1.0.4\",\n\"compass-importer\": \"*\",\n\"del\": \"2.2.x\",\n\"fast-levenshtein\": \"2.0.5\",\n\"file-saver\": \"1.3.3\",\n\"font-awesome\": \"4.7.0\",\n\"gulp\": \"3.9.x\",\n\"gulp-buddy.js\": \"*\",\n\"gulp-clean-css\": \"2.0.x\",\n\"gulp-concat\": \"2.6.x\",\n\"gulp-imagemin\": \"3.0.x\",\n\"gulp-inject\": \"4.1.x\",\n\"gulp-modernizr\": \"1.0.0-alpha\",\n\"gulp-rename\": \"1.2.2\",\n\"gulp-sass\": \"3.1.0\",\n\"gulp-sourcemaps\": \"2.2.x\",\n\"gulp-tslint\": \"7.0.1\",\n\"gulp-typescript\": \"3.0.x\",\n\"gulp-uglify\": \"2.0.x\",\n\"gulp-util\": \"3.0.x\",\n\"jasmine-core\": \"2.5.x\",\n\"karma\": \"^2.0.0\",\n\"karma-chrome-launcher\": \"2.0.x\",\n\"karma-cli\": \"1.0.x\",\n\"karma-coverage\": \"1.1.x\",\n\"karma-firefox-launcher\": \"1.0.x\",\n\"karma-ie-launcher\": \"1.0.0\",\n\"karma-jasmine\": \"1.0.x\",\n\"karma-jasmine-html-reporter\": \"0.2.x\",\n\"karma-sourcemap-loader\": \"*\",\n\"karma-typescript\": \"3.0.12\",\n\"lodash\": \"4.17.1\",\n\"modernizr\": \"3.3.1\",\n\"moment\": \"2.16.0\",\n\"ng-dialog\": \"0.6.4\",\n\"ng-select-all-on-focus\": \"1.0.3\",\n\"node-sass\": \"^4.9.0\",\n\"path\": \"0.12.x\",\n\"pump\": \"1.0.1\",\n\"scriptjs\": \"2.5.8\",\n\"systemjs\": \"0.19.41\",\n\"systemjs-builder\": \"0.15.x\",\n\"tslint\": \"4.0.2\",\n\"tslint-microsoft-contrib\": \"4.0.0\",\n\"tslint-teamcity-reporter\": \"1.0.x\",\n\"typescript\": \"2.0.3\",\n\"ui-select\": \"0.19.6\",\n\"v-button\": \"1.2.1\",\n\"yargs\": \"*\"\n },\n  \"devDependencies\": {\n    \"karma-remap-coverage\": \"^0.1.5\",\n    \"karma-remap-istanbul\": \"^0.6.0\",\n    \"karma-typescript\": \"3.0.12\"\n  }\n}\n</code></pre>\n\n<p>Current package.json:</p>\n\n<pre><code>{\n   \"version\": \"1.0.0\",\n   \"name\": \"gtp.clientportalwebsite\",\n   \"private\": true,\n   \"dependencies\": {\n      \"@flow.js/ng-flow\": \"git+https://github.com/flowjs/ng- \n     flow.git#a761386\",\n     \"@types/angular\": \"^1.6.48\",\n\"@types/angular-growl-v2\": \"^0.7.1\",\n\"@types/angular-local-storage\": \"^0.6.1\",\n\"@types/angular-mocks\": \"^1.6.1\",\n\"@types/angular-scroll\": \"0.0.31\",\n\"@types/chance\": \"^1.0.1\",\n\"@types/jasmine\": \"^2.8.8\",\n\"@types/jquery\": \"^3.3.4\",\n\"@types/lodash\": \"^4.14.110\",\n\"@types/modernizr\": \"^3.5.2\",\n\"@types/ng-dialog\": \"^0.6.2\",\n\"@types/ng-flow\": \"0.0.30\",\n\"@types/node\": \"^10.5.1\",\n\"angular\": \"^1.7.2\",\n\"angular-animate\": \"^1.7.2\",\n\"angular-bootstrap-calendar\": \"0.28.0\",\n\"angular-bootstrap-multiselect\": \"1.1.2\",\n\"angular-growl-v2\": \"^0.7.5\",\n\"angular-i18n\": \"^1.7.2\",\n\"angular-local-storage\": \"^0.5.2\",\n\"angular-messages\": \"^1.7.2\",\n\"angular-mocks\": \"^1.7.2\",\n\"angular-recursion\": \"^1.0.5\",\n\"angular-sanitize\": \"^1.7.2\",\n\"angular-scroll\": \"^1.0.2\",\n\"angular-ui-bootstrap\": \"^2.5.6\",\n\"angular-ui-mask\": \"1.8.7\",\n\"angular-ui-tree\": \"^2.22.6\",\n\"animate.css\": \"^3.6.1\",\n\"babel-preset-env\": \"^1.7.0\",\n\"bootstrap\": \"^3.3.7\",\n\"chance\": \"^1.0.16\",\n\"compass-importer\": \"*\",\n\"del\": \"2.2.x\",\n\"fast-levenshtein\": \"2.0.5\",\n\"file-saver\": \"1.3.3\",\n\"font-awesome\": \"4.7.0\",\n\"gulp\": \"^3.9.1\",\n\"gulp-buddy.js\": \"^1.0.0\",\n\"gulp-clean-css\": \"^3.9.4\",\n\"gulp-concat\": \"^2.6.1\",\n\"gulp-imagemin\": \"3.0.x\",\n\"gulp-inject\": \"^4.3.2\",\n\"gulp-modernizr\": \"^3.0.0\",\n\"gulp-rename\": \"^1.3.0\",\n\"gulp-sass\": \"^4.0.1\",\n\"gulp-sourcemaps\": \"^2.6.4\",\n\"gulp-tslint\": \"7.0.1\",\n\"gulp-typescript\": \"^4.0.2\",\n\"gulp-uglify\": \"^3.0.0\",\n\"gulp-util\": \"3.0.x\",\n\"jasmine-core\": \"2.5.x\",\n\"karma\": \"^2.0.0\",\n\"karma-chrome-launcher\": \"2.0.x\",\n\"karma-cli\": \"1.0.x\",\n\"karma-coverage\": \"1.1.x\",\n\"karma-firefox-launcher\": \"1.0.x\",\n\"karma-ie-launcher\": \"1.0.0\",\n\"karma-jasmine\": \"1.0.x\",\n\"karma-jasmine-html-reporter\": \"0.2.x\",\n\"karma-sourcemap-loader\": \"*\",\n\"karma-typescript\": \"3.0.12\",\n\"lodash\": \"^4.17.10\",\n\"modernizr\": \"^3.6.0\",\n\"moment\": \"^2.22.2\",\n\"ng-dialog\": \"^1.4.0\",\n\"ng-select-all-on-focus\": \"1.0.3\",\n\"node-sass\": \"^4.9.0\",\n\"path\": \"0.12.x\",\n\"pump\": \"1.0.1\",\n\"scriptjs\": \"2.5.8\",\n\"systemjs\": \"^0.21.4\",\n\"systemjs-builder\": \"^0.16.13\",\n\"tslint\": \"4.0.2\",\n\"tslint-microsoft-contrib\": \"4.0.0\",\n\"tslint-teamcity-reporter\": \"1.0.x\",\n\"typescript\": \"^2.9.2\",\n\"ui-select\": \"0.19.6\",\n\"v-button\": \"1.2.1\",\n\"yargs\": \"*\"\n},\n  \"devDependencies\": {\n     \"karma-remap-coverage\": \"^0.1.5\",\n     \"karma-remap-istanbul\": \"^0.6.0\"\n  }\n }\n</code></pre>\n\n<p>gulpfile.js:</p>\n\n<pre><code>// include plug-ins\nvar gulp = require(\"gulp\");\nvar concat = require(\"gulp-concat\");\nvar del = require(\"del\"); // rm -rf\nvar minifyCSS = require(\"gulp-clean-css\");\nvar gutil = require(\"gulp-util\");\nvar imagemin = require(\"gulp-imagemin\");\nvar sourcemaps = require(\"gulp-sourcemaps\");\nvar sass = require(\"gulp-sass\");\nvar compass = require(\"compass-importer\");\nvar path = require(\"path\");\nvar karma = require(\"karma\");\nvar karmaParseConfig = require(\"karma/lib/config\").parseConfig;\nvar ts = require(\"gulp-typescript\");\nvar tslint = require(\"gulp-tslint\");\nvar inject = require(\"gulp-inject\");\nvar uglify = require(\"gulp-uglify\");\nvar Builder = require(\"systemjs-builder\");\nvar argv = require(\"yargs\").argv;\nvar pump = require(\"pump\");\nvar modernizr2 = require(\"gulp-modernizr\");\nvar modernizr = require(\"modernizr\");\nvar fs = require('fs');\nvar rename = require('gulp-rename');\nvar buddyjs = require('gulp-buddy.js');\n\nvar config = {\n  baseDir: \"./dist\",    \n\n vendor: [\n    \"./node_modules/angular/angular.js\",\n    \"./node_modules/angular-animate/angular-animate.js\",\n    \"./node_modules/angular-messages/angular-messages.js\",\n    \"./node_modules/angular-sanitize/angular-sanitize.js\",\n    \"./node_modules/angular-scroll/angular-scroll.js\",\n    \"./node_modules/angular-local-storage/dist/angular-local-storage.js\",\n    \"./node_modules/angular-ui-bootstrap/dist/ui-bootstrap-tpls.js\",\n    \"./node_modules/moment/min/moment-with-locales.js\",\n    \"./node_modules/angular-growl-v2/build/angular-growl.js\",\n    \"./node_modules/lodash/lodash.js\",\n    \"./node_modules/ng-dialog/js/ngDialog.js\",\n    \"./node_modules/ui-select/dist/select.js\",\n    \"./node_modules/v-button/dist/v-button.js\",\n    \"./node_modules/fast-levenshtein/levenshtein.js\",\n    \"./node_modules/modernizr/modernizr-build.js\",\n    \"./node_modules/systemjs/dist/system.js\",\n    \"./node_modules/systemjs/dist/system-polyfills.js\",\n    \"./node_modules/@flow.js/ng-flow/dist/ng-flow-standalone.js\",\n    \"./node_modules/angular-ui-mask/dist/mask.js\",\n    \"./node_modules/ng-select-all-on-focus/src/rb-select-all-on-focus.js\",\n    \"./node_modules/angular-bootstrap-multiselect/dist/angular-bootstrap-multiselect.js\",\n    \"./node_modules/file-saver/FileSaver.js\",\n    \"./node_modules/angular-bootstrap-calendar/dist/js/angular-bootstrap-calendar-tpls.js\",\n    \"./node_modules/angular-ui-tree/dist/angular-ui-tree.js\",\n    \"./node_modules/angular-recursion/angular-recursion.js\"\n],\n\n//Bootstrap CSS and Fonts\nvendorCss: [\n    \"./node_modules/bootstrap/dist/css/bootstrap.min.css\",\n    \"./node_modules/ng-dialog/css/ngDialog.min.css\",\n    \"./node_modules/angular-growl-v2/build/angular-growl.min.css\",\n    \"./node_modules/font-awesome/css/font-awesome.min.css\",\n    \"./node_modules/ui-select/dist/select.min.css\",\n    \"./node_modules/v-button/dist/v-button.min.css\",\n    \"./node_modules/animate.css/animate.min.css\",\n    \"./node_modules/angular-bootstrap-calendar/dist/css/angular-bootstrap-calendar.min.css\",\n    \"./node_modules/angular-ui-tree/dist/angular-ui-tree.min.css\"\n],\nfonts: [\"./node_modules/bootstrap/dist/fonts/*.*\",\n    \"./node_modules/font-awesome/fonts/*.*\"],\n\nimages: [\n    \"./Content/Images/**/*.*\",\n    \"./Content/Images/*.*\"\n],\n\nappcss: \"./Content/**/*.css\",\nfontsout: \"./dist/fonts\",\ncssout: \"./dist/css\",\ncssVendorOut: \"./dist/css\",\njsVendorOut: \"./dist/js\",\nimagesOut: \"./dist/images\"\n }\n\nvar injectedFiles = [];\nvar buildNumber = argv.buildNumber || \"\";\nvar build = buildNumber ? buildNumber + \"-\" + new Date().getTime() : new \n   Date().getTime();\n\ninjectedFiles = [\n    \"./Scripts/Libs/ckEditor/ckeditor.js\",\n    \"./dist/js/vendor_\" + build + \".min.js\", \"./dist/js/main_\" + build + \".min.js\", \"./dist/css/vendor_\" + build + \".min.css\",\n    \"./dist/css/app_\" + build + \".min.css\", \"./Scripts/Libs/ui-bootstrap-tpls-2.2.0.min.js\"\n ];\n\n//Create non minified files\ngulp.task(\"dev\", [\"fonts\", \"images\", \"app-css\", \"vendorjs:dev\", \"dev:inject\"]);\n\ngulp.task(\"clean\", function () {\nreturn del([\"./dist\"]);\n});\n\n gulp.task(\"bootstrap\", [\"clean\"], function () {\n      return gulp.src([\"./node_modules/angular-ui-bootstrap/dist/ui-bootstrap-tpls.js\"])\n           .pipe(uglify())\n           .pipe(rename({ suffix: '.min' }))\n           .pipe(gulp.dest(\"./node_modules/angular-ui-bootstrap/dist/\"));\n });\n\n gulp.task('modernizr', [\"clean\"], function (done) {\n    modernizr.build({\n    \"minify\": true,\n    \"options\": [\n        \"setClasses\"\n    ],\n    \"feature-detects\": [\n        \"test/svg/smil\"\n    ]\n},\n    function (code) {\n        fs.writeFile('./node_modules/modernizr/modernizr-build.js', code, done);\n      });\n });\n\n  gulp.task(\"vendorjs\", [\"clean\", \"bootstrap\", \"modernizr\"], function () {\n       return gulp.src(config.vendorMin)\n         .pipe(concat(\"vendor_\" + build + \".min.js\"))\n         .pipe(gulp.dest(config.jsVendorOut));\n  });\n\n  gulp.task(\"vendorjs:dev\", [\"clean\", \"modernizr\"], function () {\n       return gulp.src(config.vendor)\n           .pipe(concat(\"vendor.js\"))\n           .pipe(gulp.dest(config.jsVendorOut));\n   });\n\n   gulp.task(\"vendor-css\", [\"clean\"], function () {\n        return gulp.src(config.vendorCss)\n           .pipe(concat(\"vendor.css\"))\n           .pipe(gulp.dest(config.cssout))\n           .pipe(minifyCSS())\n           .pipe(concat(\"vendor_\" + build + \".min.css\"))\n           .pipe(gulp.dest(config.cssout));\n   });\n\n   gulp.task(\"app-css\", [\"sass\", \"vendor-css\"], function () {\n        return gulp.src([config.appcss])\n           .pipe(concat(\"app.css\"))\n           .pipe(gulp.dest(config.cssout))\n           .pipe(minifyCSS())\n           .pipe(concat(\"app_\" + build + \".min.css\"))\n           .pipe(gulp.dest(config.cssout));\n   });\n\n   gulp.task(\"fonts\", [\"clean\"], function () {\n         return gulp.src(config.fonts)\n             .pipe(gulp.dest(config.fontsout));\n   });\n\n   gulp.task(\"images\", [\"clean\"], function () {\n         return gulp.src(config.images)\n              .pipe(gulp.dest(config.imagesOut));\n   });\n\n   gulp.task(\"sass\", [\"clean\"], function () {\n         return gulp.src([\"Content/Styles/*.scss\", \n      \"./Scripts/Components/NlgFiltering/NlgFiltering.scss\"])\n  .pipe(sass({ importer: compass }).on(\"error\", function (e) { console.log(e) \n    }))\n       .pipe(gulp.dest(\"Content/Styles\"));\n  });\n\n   gulp.task(\"sass:dev\", function () {\n        return gulp.src([\"Content/Styles/*.scss\", \n        \"./Scripts/Components/NlgFiltering/NlgFiltering.scss\"])\n          .pipe(sass({ importer: compass }).on(\"error\", function(e) { \n     console.log(e) }))\n            .pipe(concat(\"app.css\"))\n            .pipe(gulp.dest(config.cssout));\n    });\n\n    gulp.task(\"sass:watch\", function () {\n           gulp.watch([\"Content/Styles/*.scss\", \n           \"./Scripts/Components/NlgFiltering/NlgFiltering.scss\"], [\"sass:dev\"]);\n    });\n\n    gulp.task(\"fonts\", [\"clean\"], function () {\n          return gulp.src(config.fonts)\n             .pipe(gulp.dest(config.fontsout));\n    });\n\n    gulp.task(\"images\", [\"clean\"], function () {\n          return gulp.src(config.images)\n              .pipe(gulp.dest(config.imagesOut));\n    });\n\n    gulp.task(\"images-min\", [\"clean\"], function () {\n          return gulp.src(config.images)\n             .pipe(imagemin({ optimizationLevel: 3, progressive: true, \n              interlaced: true }))\n           .pipe(gulp.dest(config.imagesOut));\n    });\n\n    gulp.task(\"ts\", [\"clean\"], function () {\n         var tsProject = ts.createProject(\"tsconfig.json\");\n         var tsResult = tsProject.src()\n               .pipe(sourcemaps.init()) // This means sourcemaps will be \n                generated \n               .pipe(tsProject())\n               .on(\"error\", function (error) {\n                   var log = gutil.log, colors = gutil.colors;\n                   log(\"Typescript compilation exited with \" + \n              colors.red(error));\n               process.exit(1);\n    });\n\n    return tsResult.js\n         .pipe(sourcemaps.write())\n         .pipe(gulp.dest(\"./Scripts\"));\n    });\n\n    gulp.task(\"tslint\", [\"ts\"], function () {\n      return gulp.src([\n            \"./Scripts/Controllers/**/*.ts\",\n            //\"./Scripts/Directives/**/*.ts\",\n            \"./Scripts/Filters/**/*.ts\",\n            \"./Scripts/Components/**/*.ts\",\n            \"./Scripts/Models/**/*.ts\",\n            \"./Scripts/Services/**/*.ts\",\n            \"./Scripts/Repositories/**/*.ts\",\n            \"./Scripts/app.ts\"\n       ])\n            .pipe(tslint({\n                  formatter: \"tslint-teamcity-reporter\"\n            }))\n            .pipe(tslint.report());\n      });\n\n     gulp.task('magicNumbers', function () {\n           return gulp.src([\n                \"./Scripts/Controllers/**/*.ts\",\n                \"./Scripts/Filters/**/*.ts\",\n                \"./Scripts/Components/**/*.ts\",\n                \"./Scripts/Models/**/*.ts\",\n                \"./Scripts/Services/**/*.ts\",\n                \"./Scripts/Repositories/**/*.ts\",\n                \"./Scripts/app.ts\"\n      ])\n            .pipe(buddyjs({\n               disableIgnore: true,\n               reporter: 'detailed'\n            }));\n     });\n\n    gulp.task(\"dev:inject\", [\"ts\", \"vendorjs:dev\", \"app-css\"], function (done) {\nreturn gulp.src([\"./Views/Shared/_Layout.cshtml\"])    \n      .pipe(inject(gulp.src([\n       \"./dist/js/vendor.js\",\n       \"./Scripts/Libs/ckEditor/ckeditor.js\",\n       \"./Scripts/systemjs_initialization.js\",\n       \"./dist/css/vendor.css\",\n       \"./dist/css/app.css\"], { read: false }),\n       {\n        addRootSlash: false,\n        addPrefix: \"~\"\n       }))\n       .pipe(gulp.dest(\"./Views/Shared\"));\n   });\n</code></pre>\n\n<p>Systemjs initialization.js:</p>\n\n<pre><code>System.defaultJSExtensions = true;\n\nSystem.config({    \n    baseURL: \"/sitedomain/Scripts\"\n});\n\n// loads /app.js\nSystem.import(\"app\");\n</code></pre>\n\n<p>Running gulp dev task after updating to latest typescript version completes successfully, but when the site is loaded i get the following error:</p>\n\n<p>Uncaught (in promise) Error: Unexpected token &lt;. Am I missing something? Any help would be appreciated.</p>\n"}, {"tags": ["typescript", "typescript2.0"], "comments": [{"owner": {"reputation": 1, "user_id": 8291684, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/GjzJH.png?s=128&g=1", "display_name": "OPV", "link": "https://stackoverflow.com/users/8291684/opv"}, "edited": false, "score": 0, "creation_date": 1530744464, "post_id": 51170130, "comment_id": 89345373, "body": "Show please <code>@DecoratedWithThis</code>. I think you can check through class A. Like this: <code>if (A.thisProp.__customMetaData) {}</code>"}, {"owner": {"reputation": 113, "user_id": 7014448, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9136c4fb536b0058930915f235f6c37e?s=128&d=identicon&r=PG&f=1", "display_name": "Philipp Fock", "link": "https://stackoverflow.com/users/7014448/philipp-fock"}, "reply_to_user": {"reputation": 1, "user_id": 8291684, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/GjzJH.png?s=128&g=1", "display_name": "OPV", "link": "https://stackoverflow.com/users/8291684/opv"}, "edited": false, "score": 0, "creation_date": 1530779572, "post_id": 51170130, "comment_id": 89355255, "body": "<code>@DecoratedWithThis</code> is just some function working as the decorator. <code>function DecoratedWithThis(target: any, key: string) {       &#47;&#47;doing some stuff like getter setter  }</code>"}, {"owner": {"reputation": 113, "user_id": 7014448, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9136c4fb536b0058930915f235f6c37e?s=128&d=identicon&r=PG&f=1", "display_name": "Philipp Fock", "link": "https://stackoverflow.com/users/7014448/philipp-fock"}, "reply_to_user": {"reputation": 1, "user_id": 8291684, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/GjzJH.png?s=128&g=1", "display_name": "OPV", "link": "https://stackoverflow.com/users/8291684/opv"}, "edited": false, "score": 0, "creation_date": 1530808921, "post_id": 51170130, "comment_id": 89374224, "body": "@OPV unfortunately, this won&#39;t work. there isn&#39;t any _customMetaData property available"}], "answers": [{"comments": [{"owner": {"reputation": 113, "user_id": 7014448, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9136c4fb536b0058930915f235f6c37e?s=128&d=identicon&r=PG&f=1", "display_name": "Philipp Fock", "link": "https://stackoverflow.com/users/7014448/philipp-fock"}, "edited": false, "score": 0, "creation_date": 1587668923, "post_id": 53511479, "comment_id": 108609881, "body": "seems to be the best way atm to do this"}], "tags": [], "owner": {"reputation": 563, "user_id": 8406447, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a3a96cca5a0fa86c7896b81a08bef174?s=128&d=identicon&r=PG&f=1", "display_name": "h0ss", "link": "https://stackoverflow.com/users/8406447/h0ss"}, "is_accepted": true, "score": 8, "last_activity_date": 1543374195, "creation_date": 1543374195, "answer_id": 53511479, "question_id": 51170130, "link": "https://stackoverflow.com/questions/51170130/check-if-property-is-decorated-with-specific-annotation-typescript/53511479#53511479", "title": "Check if property is decorated with specific annotation - Typescript", "body": "<p>There is no native way that I know of in typescript, but there is a way to do it using 'reflect-metadata' library <a href=\"https://github.com/rbuckton/reflect-metadata\" rel=\"noreferrer\">https://github.com/rbuckton/reflect-metadata</a> which is a proposed extension to native reflection api.</p>\n\n<p>Decorators are just functions that get executed when your class is defined. in your case you want to create a property decorator</p>\n\n<pre><code>function (target, propertyKey) {}\n</code></pre>\n\n<p>Where <strong>target</strong> is your Object.prototype and <strong>name</strong> is the property name</p>\n\n<p>Per <strong>Reflect Metadata Documentation</strong></p>\n\n<pre><code>// define metadata on an object or property\nReflect.defineMetadata(metadataKey, metadataValue, target, propertyKey);\n\n// get metadata value of a metadata key on the prototype chain of an object or property\nlet result = Reflect.getMetadata(metadataKey, target, propertyKey);\n</code></pre>\n\n<p>You can solve your problem by adding metadata to your property that you can read later on to check if that property has been decorated.</p>\n\n<p><strong>Example Implementation</strong></p>\n\n<pre><code>import 'reflect-metadata';\n\nconst metadataKey = 'MyDecorator';\n\nfunction MyDecorator(target, propertyKey) {\n    Reflect.defineMetadata(metadataKey, true, target, propertyKey);\n}\n\nfunction myDecoratorUsingClass&lt;T&gt;(type:  Type&lt;T&gt;, propertyKey: string) {\n    return myDecoratorUsingInstance(new type(), propertyKey);\n}\n\nfunction myDecoratorUsingInstance&lt;T&gt;(instance: T, propertyKey: string) {\n  return !!Reflect.getMetadata(metadataKey, instance, propertyKey);\n}\n\nclass MyClass {\n   @MyDecorator\n   property1;\n   property2;\n}\n\nconsole.log(myDecoratorUsingClass(MyClass, 'property1')); // true\nconsole.log(myDecoratorUsingClass(MyClass, 'property2')); // false\n\nconst instance = new MyClass();\nconsole.log(myDecoratorUsingInstance(instance, 'property1')); // true\nconsole.log(myDecoratorUsingInstance(instance, 'property2')); // false\n</code></pre>\n\n<p><strong>NOTE</strong> To use <em>myDecoratorUsingClass</em> your class should have a constructor where all the parameters are optional (or no parameters)</p>\n"}, {"comments": [{"owner": {"reputation": 113, "user_id": 7014448, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9136c4fb536b0058930915f235f6c37e?s=128&d=identicon&r=PG&f=1", "display_name": "Philipp Fock", "link": "https://stackoverflow.com/users/7014448/philipp-fock"}, "edited": false, "score": 0, "creation_date": 1605005836, "post_id": 64756367, "comment_id": 114514764, "body": "thanks a lot. I think they extended the reflect-metadata API recently, so it can be handled way easier now"}], "tags": [], "owner": {"reputation": 41, "user_id": 13044626, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5ac48dc3496069adf0c44d71fe490546?s=128&d=identicon&r=PG&f=1", "display_name": "Jobu", "link": "https://stackoverflow.com/users/13044626/jobu"}, "is_accepted": false, "score": 0, "last_activity_date": 1604942947, "creation_date": 1604942947, "answer_id": 64756367, "question_id": 51170130, "link": "https://stackoverflow.com/questions/51170130/check-if-property-is-decorated-with-specific-annotation-typescript/64756367#64756367", "title": "Check if property is decorated with specific annotation - Typescript", "body": "<p>Since I cannot comment as a new user I'm posting this as a new answer, although it's just an upgrade of @h0ss answer.</p>\n<p>Instead of <code>!!Reflect.getMetadata(metadataKey, instance, propertyKey)</code> you can use <code>Reflect.hasMetadata(metadataKey, target, propertyKey)</code> or <code>Reflect.hasOwnMetadata(metadataKey, target, propertyKey)</code> as described here\n<a href=\"https://www.npmjs.com/package/reflect-metadata#api\" rel=\"nofollow noreferrer\">https://www.npmjs.com/package/reflect-metadata#api</a></p>\n"}], "owner": {"reputation": 113, "user_id": 7014448, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9136c4fb536b0058930915f235f6c37e?s=128&d=identicon&r=PG&f=1", "display_name": "Philipp Fock", "link": "https://stackoverflow.com/users/7014448/philipp-fock"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3076, "favorite_count": 3, "accepted_answer_id": 53511479, "answer_count": 2, "score": 5, "last_activity_date": 1604942947, "creation_date": 1530695981, "last_edit_date": 1530696828, "question_id": 51170130, "link": "https://stackoverflow.com/questions/51170130/check-if-property-is-decorated-with-specific-annotation-typescript", "title": "Check if property is decorated with specific annotation - Typescript", "body": "<p>How can I determine if a specific property is decorated with a specific annotation?</p>\n\n<p>For example this class:</p>\n\n<pre><code>class A {\n    @DecoratedWithThis\n    thisProp: number;\n}\n</code></pre>\n\n<p>How can I know that <code>thisProp</code> is decorated with <code>DecoratedWithThis</code>?</p>\n\n<p>My use case: I use the class from another file to generate code and HTML for the properties.</p>\n\n<p>Could you imagine of another solution?</p>\n"}, {"tags": ["javascript", "angular", "typescript"], "answers": [{"tags": [], "owner": {"reputation": 105043, "user_id": 5260024, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XxSHe.jpg?s=128&g=1", "display_name": "Jonas Wilms", "link": "https://stackoverflow.com/users/5260024/jonas-wilms"}, "is_accepted": false, "score": 0, "last_activity_date": 1530695835, "creation_date": 1530695835, "answer_id": 51170087, "question_id": 51169993, "link": "https://stackoverflow.com/questions/51169993/typescript-retrieving-class-attributes-without-creating-object/51170087#51170087", "title": "Typescript - retrieving class attributes without creating object", "body": "<p>No, class properties are transpiled to something like this:</p>\n\n<pre><code>class Hello {\n  constructor() {\n     this.id = \"\";\n  }\n}\n</code></pre>\n\n<p>Therefore they only exist on an object instance after it was constructed, not on the class itself.</p>\n"}, {"comments": [{"owner": {"reputation": 70314, "user_id": 5043867, "user_type": "registered", "accept_rate": 42, "profile_image": "https://i.stack.imgur.com/RX8Aw.jpg?s=128&g=1", "display_name": "Pardeep Jain", "link": "https://stackoverflow.com/users/5043867/pardeep-jain"}, "edited": false, "score": 0, "creation_date": 1530696113, "post_id": 51170117, "comment_id": 89322970, "body": "this is something new to me :)"}], "tags": [], "owner": {"reputation": 1299, "user_id": 4019117, "user_type": "registered", "accept_rate": 8, "profile_image": "https://i.stack.imgur.com/ic4xA.jpg?s=128&g=1", "display_name": "Irfan Nasim", "link": "https://stackoverflow.com/users/4019117/irfan-nasim"}, "is_accepted": false, "score": 3, "last_activity_date": 1530695930, "creation_date": 1530695930, "answer_id": 51170117, "question_id": 51169993, "link": "https://stackoverflow.com/questions/51169993/typescript-retrieving-class-attributes-without-creating-object/51170117#51170117", "title": "Typescript - retrieving class attributes without creating object", "body": "<p>i believe this is not possible but what is possible if you declare the property static and then access with direct reference of class like </p>\n\n<pre><code> class Hello{\n        static id: number;\n        static  name?:string;\n        static  txt?:string;\n    }\n    Hello.id;\n</code></pre>\n\n<p>obviously the other way is creating object by putting constructor in it and initialization with default value,</p>\n"}, {"tags": [], "owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "is_accepted": false, "score": 2, "last_activity_date": 1530697362, "last_edit_date": 1530697362, "creation_date": 1530696841, "answer_id": 51170433, "question_id": 51169993, "link": "https://stackoverflow.com/questions/51169993/typescript-retrieving-class-attributes-without-creating-object/51170433#51170433", "title": "Typescript - retrieving class attributes without creating object", "body": "<p>If the fields are not initialized even creating an object will not retrieve all members of the class. If a field is just declared, the compiler will know about it and offer type checking but it will not emit any code for it, so if you use <code>Object.keys</code> only field that were assigned a value will be retrieved.</p>\n\n<p>One option is to just create an object with all the same fields as the original (minus methods) and get the keys if this object. We can get the compiler to check that this object will have exactly the same fields as the class, no more and no less, so if we change the class we will get an error if we forget to change this object as well.</p>\n\n<pre><code>export class Hello {\n    id: number;\n    name?: string;\n    txt?: string;\n    method() { }\n}\n\ntype NonMethodKeys&lt;T&gt; = { [P in keyof T]: T[P] extends Function ? never : P }[keyof T];\nfunction getFields&lt;T&gt;(fields: { [P in NonMethodKeys&lt;T&gt;]: true }) {\n    return Object.keys(fields)\n}\n\ngetFields&lt;Hello&gt;({\n    id: true,\n    name: true,\n    txt: true // if we comment this out we would get an error\n    //noAProp : true;  //this would be an error\n});\n</code></pre>\n\n<p>We can even extend this approach to creating an object that also has type information about the properties, again forcing the compiler to check that the object is accurate. For primitive types, we will pass a string representing the type name, for object properties we can either pass in the class constructor or just <code>object</code>:</p>\n\n<pre><code>interface IProp { }\n\nexport class Hello {\n    id: number;\n    name?: string;\n    txt?: string;\n    subHi: Hello;\n    prop: IProp;\n    method() { }\n}\n\ntype NonMethodKeys&lt;T&gt; = { [P in keyof T]: T[P] extends Function ? never : P }[keyof T];\ntype TypeOf&lt;T&gt; = T extends boolean ? 'boolean' :\n    T extends string ? 'string' :\n    T extends number ? 'number' :\n    'object' | (new (...args: any[]) =&gt; T);\n\nfunction getFields&lt;T&gt;(fields: { [P in NonMethodKeys&lt;T&gt;]: TypeOf&lt;T[P]&gt; }) : typeof fields{\n    return fields\n}\n\nlet fields = getFields&lt;Hello&gt;({\n    id: 'number',\n    name: 'string',\n    txt: 'string',\n    subHi: Hello,\n    prop: 'object'\n});\n</code></pre>\n"}], "owner": {"reputation": 734, "user_id": 4182663, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/cdfa3f01b2f7dcad5a68d0496ea4ddc7?s=128&d=identicon&r=PG&f=1", "display_name": "Robycool", "link": "https://stackoverflow.com/users/4182663/robycool"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2383, "favorite_count": 0, "answer_count": 3, "score": 2, "last_activity_date": 1530697362, "creation_date": 1530695551, "question_id": 51169993, "link": "https://stackoverflow.com/questions/51169993/typescript-retrieving-class-attributes-without-creating-object", "title": "Typescript - retrieving class attributes without creating object", "body": "<p>In angular 6, I have a typescript class like this</p>\n\n<pre><code>export class Hello {\n  id: number;\n  name?:string;\n  txt?:string;\n}\n</code></pre>\n\n<p>From a component controller, I would like to retrieve an array with the property names, without needing to create an object. Something like:</p>\n\n<pre><code>ObjectType.keys(Hello);\n// [\"id\", \"name\", \"txt\"]\n</code></pre>\n\n<p>Is that possible ?</p>\n"}, {"tags": ["angular", "typescript", "angular6"], "answers": [{"tags": [], "owner": {"reputation": 2401, "user_id": 9890873, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/lkm7i.jpg?s=128&g=1", "display_name": "Jacopo Sciampi", "link": "https://stackoverflow.com/users/9890873/jacopo-sciampi"}, "is_accepted": false, "score": 2, "last_activity_date": 1530698011, "creation_date": 1530698011, "answer_id": 51170832, "question_id": 51169980, "link": "https://stackoverflow.com/questions/51169980/how-to-achieve-dynamic-menu-items-list-based-on-user-rights-array/51170832#51170832", "title": "How to achieve Dynamic Menu items list based on User Rights Array?", "body": "<p>If I've understood right you want this to create a men\u00f9 that the user can see. So, in this example, the user will only see two entry named \"Add Roles\", and \"Edit Roles\", right?</p>\n\n<p>Create a Men\u00f9 class like this : </p>\n\n<pre><code>export class MenuEntities {\n   public state: string;\n   public name: string;\n   public target: boolean;\n}\n</code></pre>\n\n<p>Create an array of <code>MenuEntities</code> parsing the Json. I've assumed that the configuration is in this lines of code : </p>\n\n<pre><code>children: [\n              {\n                state: 'add-roles',\n                name: 'Add Roles',\n                // target: true\n              },\n              {\n                state: 'edit-roles',\n                name: 'Edit Roles',\n                // target: true\n              }\n            ]\n</code></pre>\n\n<p>Create the array and map the json res : </p>\n\n<pre><code>public menuEntities: MenuEntities[] = [];\n// I let you do the logic to parse the json to this array.\n</code></pre>\n\n<p>Once you have it you are up to go. Simply loop in the <code>.html</code> file to this array and you got a men\u00f9 :</p>\n\n<pre><code>&lt;ul *ngFor=\"let entity of menuEntities\"&gt;\n   &lt;li&gt;States : {{entity.states}}&lt;/li&gt;\n   &lt;li&gt;Name : {{entity.name}} &lt;/li&gt;\n&lt;/ul&gt;\n</code></pre>\n\n<p><strong>Note: I can edit this answer if you post more code, but this logic works fine</strong></p>\n"}], "owner": {"reputation": 1742, "user_id": 9810480, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/82mm4.jpg?s=128&g=1", "display_name": "Jignesh Mistry", "link": "https://stackoverflow.com/users/9810480/jignesh-mistry"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 46, "favorite_count": 1, "closed_date": 1530717051, "answer_count": 1, "score": 0, "last_activity_date": 1530698011, "creation_date": 1530695520, "question_id": 51169980, "link": "https://stackoverflow.com/questions/51169980/how-to-achieve-dynamic-menu-items-list-based-on-user-rights-array", "closed_reason": "Needs more focus", "title": "How to achieve Dynamic Menu items list based on User Rights Array?", "body": "<p>I have an application where all menu items are coming from my below file. I want that users should see only those menus who are in their rights array ?. Below is sample spinet out of whole code.</p>\n\n<pre><code> {\n        state: 'master',\n        short_label: 'M',\n        name: 'MASTER',\n        type: 'sub',\n        icon: 'ti-direction-alt',\n        children: [\n          {\n            state: 'roles',\n            name: 'Roles',\n            type: 'sub',\n            children: [\n              {\n                state: 'add-roles',\n                name: 'Add Roles',\n                // target: true\n              },\n              {\n                state: 'edit-roles',\n                name: 'Edit Roles',\n                // target: true\n              }\n            ]\n          },\n</code></pre>\n"}, {"tags": ["javascript", "angular", "typescript", "asynchronous"], "comments": [{"owner": {"reputation": 1165, "user_id": 8049667, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/AVUML.jpg?s=128&g=1", "display_name": "Sh. Pavel", "link": "https://stackoverflow.com/users/8049667/sh-pavel"}, "edited": false, "score": 1, "creation_date": 1530692908, "post_id": 51169038, "comment_id": 89321001, "body": "async function must to return Promise/Observable, so that&#39;s why you get an error here"}], "answers": [{"tags": [], "owner": {"reputation": 28444, "user_id": 6428638, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/eoaOn.jpg?s=128&g=1", "display_name": "Sachila Ranawaka", "link": "https://stackoverflow.com/users/6428638/sachila-ranawaka"}, "is_accepted": false, "score": 1, "last_activity_date": 1530692714, "creation_date": 1530692714, "answer_id": 51169063, "question_id": 51169038, "link": "https://stackoverflow.com/questions/51169038/what-is-the-typedef-for-an-async-void/51169063#51169063", "title": "What is the typedef for an async void", "body": "<p>Return the <code>Observable</code> type</p>\n\n<pre><code>private async getTranslations() : Observable&lt;any&gt;{ ... }\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 7609, "user_id": 2835541, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/RUaqD.jpg?s=128&g=1", "display_name": "Chris Pickford", "link": "https://stackoverflow.com/users/2835541/chris-pickford"}, "is_accepted": false, "score": 2, "last_activity_date": 1530692739, "creation_date": 1530692739, "answer_id": 51169075, "question_id": 51169038, "link": "https://stackoverflow.com/questions/51169038/what-is-the-typedef-for-an-async-void/51169075#51169075", "title": "What is the typedef for an async void", "body": "<p>Change return type to:</p>\n\n<pre><code>private async getTranslations(): Promise&lt;void&gt; {\n  this.translations = await this._languageService.getTranslations('Foo');\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 163341, "user_id": 314488, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/aYzi5.jpg?s=128&g=1", "display_name": "Pranay Rana", "link": "https://stackoverflow.com/users/314488/pranay-rana"}, "is_accepted": true, "score": 2, "last_activity_date": 1530693033, "creation_date": 1530693033, "answer_id": 51169176, "question_id": 51169038, "link": "https://stackoverflow.com/questions/51169038/what-is-the-typedef-for-an-async-void/51169176#51169176", "title": "What is the typedef for an async void", "body": "<blockquote>\n  <p>type 'void' is not a valid async function return in ES5 because it\n  does not refer to a pPromise-compatible constructor value</p>\n</blockquote>\n\n<p>you are getting error , because when you use <code>async/await</code> then return type is going to be <code>Promise</code> wrapped object, so function return type should be <code>Promise&lt;returntype&gt;</code>, and in your case it will be </p>\n\n<pre><code> private async getTranslations() : Promise&lt;void&gt; {\n    // this.translations is a public variable used by the html\n    this.translations = await this._languageService.getTranslations('Foo').toPromise();\n  }\n</code></pre>\n\n<p>and if you are using angular then service mostly returns <code>observable</code> object , so you need to convert it in <code>promise</code> object by calling <code>toPromise()</code> function of call (if you dont put <code>toPromise</code> it will not fire request if you used httpClient in you service to get result.).</p>\n"}], "owner": {"reputation": 1306, "user_id": 5695833, "user_type": "registered", "accept_rate": 57, "profile_image": "https://lh6.googleusercontent.com/-nTvuC7ovkJU/AAAAAAAAAAI/AAAAAAAAH-c/CgkOzqPXdkY/photo.jpg?sz=128", "display_name": "Hypenate", "link": "https://stackoverflow.com/users/5695833/hypenate"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 936, "favorite_count": 0, "accepted_answer_id": 51169176, "answer_count": 3, "score": 0, "last_activity_date": 1530693033, "creation_date": 1530692640, "question_id": 51169038, "link": "https://stackoverflow.com/questions/51169038/what-is-the-typedef-for-an-async-void", "title": "What is the typedef for an async void", "body": "<p>A tad related to <a href=\"https://stackoverflow.com/questions/25459136/what-does-it-mean-when-tslint-says-expected-callsignature-to-have-a-typedef\">this question</a>, but different.</p>\n\n<p>TSLint complains on this code because it needs a typedef:</p>\n\n<pre><code>  private async getTranslations() {\n    // this.translations is a public variable used by the html\n    this.translations = await this._languageService.getTranslations('Foo');\n  }\n</code></pre>\n\n<p>I updated it to   </p>\n\n<pre><code>private async getTranslations() : void { ... }\n</code></pre>\n\n<p>And this gives me the error:</p>\n\n<blockquote>\n  <p>type 'void' is not a valid async function return in ES5 because it\n  does not refer to a pPromise-compatible constructor value</p>\n</blockquote>\n\n<p>How can I get this right without removing the async keyword?</p>\n"}, {"tags": ["javascript", "typescript"], "answers": [{"comments": [{"owner": {"reputation": 8791, "user_id": 7247920, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bAqar.jpg?s=128&g=1", "display_name": "ggradnig", "link": "https://stackoverflow.com/users/7247920/ggradnig"}, "edited": false, "score": 0, "creation_date": 1530692765, "post_id": 51169029, "comment_id": 89320938, "body": "that would work of course, but I want to have A know nothing about the AExecuter class. otherwise I would create a tight coupling"}, {"owner": {"reputation": 105043, "user_id": 5260024, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XxSHe.jpg?s=128&g=1", "display_name": "Jonas Wilms", "link": "https://stackoverflow.com/users/5260024/jonas-wilms"}, "reply_to_user": {"reputation": 8791, "user_id": 7247920, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bAqar.jpg?s=128&g=1", "display_name": "ggradnig", "link": "https://stackoverflow.com/users/7247920/ggradnig"}, "edited": false, "score": 0, "creation_date": 1530692876, "post_id": 51169029, "comment_id": 89320988, "body": "@ggradnig then symbols maybe?"}], "tags": [], "owner": {"reputation": 105043, "user_id": 5260024, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XxSHe.jpg?s=128&g=1", "display_name": "Jonas Wilms", "link": "https://stackoverflow.com/users/5260024/jonas-wilms"}, "is_accepted": false, "score": 1, "last_activity_date": 1530693891, "last_edit_date": 1530693891, "creation_date": 1530692618, "answer_id": 51169029, "question_id": 51168935, "link": "https://stackoverflow.com/questions/51168935/alternative-for-visitor-pattern-in-typescript-avoiding-instanceof-conditionals/51169029#51169029", "title": "Alternative for visitor pattern in TypeScript (avoiding instanceof conditionals)", "body": "<p>Maybe link the executor directly to the class, like:</p>\n\n<pre><code>A.prototype.Executor = ExecutorA;\nB.prototype.Executor = ExecutorB;\n</code></pre>\n\n<p>So then you can just do</p>\n\n<pre><code>(new it.Executor).execute(it)\n</code></pre>\n\n<hr>\n\n<p>Alternatively one could use a Map to link the class and the Executor:</p>\n\n<pre><code>const executors: Map&lt;I, Executor&gt; = new Map();\nexecutors.set(A, ExecutorA).set(B, ExecutorB);\n</code></pre>\n\n<p>which can be used as:</p>\n\n<pre><code>(new executors.get( it.constructor )).execute(it)\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "reply_to_user": {"reputation": 8791, "user_id": 7247920, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bAqar.jpg?s=128&g=1", "display_name": "ggradnig", "link": "https://stackoverflow.com/users/7247920/ggradnig"}, "edited": false, "score": 0, "creation_date": 1530694102, "post_id": 51169145, "comment_id": 89321654, "body": "Any reason for the down-vote ? I&#39;m always looking to improve my answer, if there is something factually or fundamentally wrong with it let me know, whoever you are :)"}], "tags": [], "owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "is_accepted": true, "score": 5, "last_activity_date": 1530693288, "last_edit_date": 1530693288, "creation_date": 1530692930, "answer_id": 51169145, "question_id": 51168935, "link": "https://stackoverflow.com/questions/51168935/alternative-for-visitor-pattern-in-typescript-avoiding-instanceof-conditionals/51169145#51169145", "title": "Alternative for visitor pattern in TypeScript (avoiding instanceof conditionals)", "body": "<p>You can use the approach the typescript <a href=\"https://github.com/Microsoft/TypeScript/blob/81814057e854873497ee7ffa584d728535e41fb2/src/compiler/visitor.ts#L207\" rel=\"nofollow noreferrer\">compiler team</a> used and have a field that discriminates against the type of field, replacing <code>instanceof</code> with a simple string/number comparison, which is probably less expensive (although you should test for your use case): </p>\n\n<pre><code>enum Types {\n    A, B\n}\ninterface I &lt;T extends InternalResult&gt; {\n    readonly type : Types;\n    doStuff(): T;\n}\nclass A implements I &lt;AResult&gt; {\n    readonly type =  Types.A\n    doStuff(): AResult {\n        return new AResult();\n    }\n}\n\nclass B implements I &lt;BResult&gt; {\n    readonly type =  Types.B\n    doStuff(): BResult {\n        return new BResult();\n    }\n}\nclass Visitor {\n    private aExecuter: AExecuter = new AExecuter();\n    private bExecuter: BExecuter = new BExecuter();\n\n    visit(it: A | B): AResult | BResult {\n        // Since we don't have a default return, we will get a compiler error if we forget a case\n        switch(it.type){\n            case Types.A : return this.aExecuter.execute(it); break;\n            case Types.B : return this.bExecuter.execute(it); break;\n        }\n    }\n}\n</code></pre>\n\n<p>Another approach which requires less writing (but is less type safe) is to use the constructor name as a key for access the correct method:</p>\n\n<pre><code>class Visitor {\n    private aExecuter: AExecuter;\n    private bExecuter: BExecuter;\n\n    visit(it: A | B): AResult | BResult {\n        let visitor: (it: A | B) =&gt; AResult | BResult = (this as any)['visit' + it.constructor.name];\n        if(visitor == null) {\n            throw \"Visitor not found\"\n        }\n        return visitor.call(this, it)\n    }\n    visitA(it: A): AResult {\n        return this.aExecuter.execute(it);\n    }\n\n    visitB(it: B): BResult {\n        return this.bExecuter.execute(it);\n    }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 165, "user_id": 4713502, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-vz1v20DeBro/AAAAAAAAAAI/AAAAAAAAAU0/og3ijbHXQhQ/photo.jpg?sz=128", "display_name": "kapitalny", "link": "https://stackoverflow.com/users/4713502/kapitalny"}, "is_accepted": false, "score": 1, "last_activity_date": 1571373019, "creation_date": 1571373019, "answer_id": 58443976, "question_id": 51168935, "link": "https://stackoverflow.com/questions/51168935/alternative-for-visitor-pattern-in-typescript-avoiding-instanceof-conditionals/58443976#58443976", "title": "Alternative for visitor pattern in TypeScript (avoiding instanceof conditionals)", "body": "<p>You can always skip the visitor pattern completely and use a multimethod library instead, then you can simplify your code to something like this:</p>\n\n<pre><code>import { multi, method, Multi } from '@arrows/multimethod'\n\ninterface IExecute extends Multi {\n  (it: A): AResult\n  (it: B): BResult\n}\n\nconst execute: IExecute = multi(\n  method(A, (it: A) =&gt; it.doStuff()),\n  method(B, (it: B) =&gt; it.doStuff()),\n)\n\n// Usage:\nexecute(new A())\nexecute(new B())\n</code></pre>\n\n<p>It less type-safe (compiler won't warn you if you put a multimethod together incorrectly - but it's trivial code), but it is a much simpler solution.</p>\n"}, {"tags": [], "owner": {"reputation": 1045, "user_id": 5253279, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fc36fe597b52f12677bde5f32becfb6f?s=128&d=identicon&r=PG&f=1", "display_name": "TeemuK", "link": "https://stackoverflow.com/users/5253279/teemuk"}, "is_accepted": false, "score": 0, "last_activity_date": 1606585785, "last_edit_date": 1606585785, "creation_date": 1606585001, "answer_id": 65052623, "question_id": 51168935, "link": "https://stackoverflow.com/questions/51168935/alternative-for-visitor-pattern-in-typescript-avoiding-instanceof-conditionals/65052623#65052623", "title": "Alternative for visitor pattern in TypeScript (avoiding instanceof conditionals)", "body": "<p>I don't know about the accepted answer but how I managed to circumvent <code>\u00ecnstanceof</code> was by adding methods to the base class (alternatively you can just use helper functions) and additional type property.</p>\n<p>Eg</p>\n<pre class=\"lang-js prettyprint-override\"><code>class A {\n  constructor() {\n    this.type = 'A'\n  }\n  isInstanceOfA(): this is A {\n    return this.type === 'A'\n  }\n  isInstanceOfB(): this is B {\n    return this.type === 'B'\n  }\n}\n\nclass B extends A {\n  constructor() {\n    super()\n    this.type = 'B'\n  }\n}\n</code></pre>\n<p>Works like a charm. When compiling the code the type definitions are dropped therefore removing any circular dependencies you have between A and B. However, I found out that after fixing this I found new errors so yey but d'oh also.</p>\n"}], "owner": {"reputation": 8791, "user_id": 7247920, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bAqar.jpg?s=128&g=1", "display_name": "ggradnig", "link": "https://stackoverflow.com/users/7247920/ggradnig"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1387, "favorite_count": 2, "accepted_answer_id": 51169145, "answer_count": 4, "score": 6, "last_activity_date": 1606585785, "creation_date": 1530692262, "last_edit_date": 1530692874, "question_id": 51168935, "link": "https://stackoverflow.com/questions/51168935/alternative-for-visitor-pattern-in-typescript-avoiding-instanceof-conditionals", "title": "Alternative for visitor pattern in TypeScript (avoiding instanceof conditionals)", "body": "<p>Let's assume I have an interface</p>\n\n<pre><code>interface I &lt;T extends InternalResult&gt; {\n    doStuff(): T;\n}\n</code></pre>\n\n<p>and two concrete classes implementing this interface:</p>\n\n<pre><code>class A implements I &lt;InternalAResult&gt; {\n    doStuff(): InternalAResult {\n        // implementation\n    }\n}\n\nclass B implements I &lt;InternalBResult&gt; {\n    doStuff(): InternalBResult {\n        // implementation\n    }\n}\n</code></pre>\n\n<p>My client cannot execute <code>doStuff()</code> directly, but needs an instance of a class implementing an <code>Executer</code> interface, like one of those:</p>\n\n<pre><code>interface Executer &lt;T, R&gt; {\n     execute(it: T): R;\n}\n\nclass AExecuter implements Executer &lt;A, AResult&gt; {\n    execute(it: A): AResult {\n        let internalResult = it.doStuff();\n        // ... do something specific with internalResult create result\n        return result;\n    }\n}\n\nclass BExecuter implements Executer &lt;B, BResult&gt; {\n    execute(it: B): BResult {\n        let internalResult = it.doStuff();\n        // ... do something other specific with internalResult create result\n        return result;\n    }\n}\n</code></pre>\n\n<p>For such cases I always used the <em>Visitor</em> pattern in Java. I could create a visitor, pass two <code>Executer</code> instances to it and implement the <code>visit</code> method with an <code>A</code> and a <code>B</code> overloading, creating a conditional-free solution, like this:</p>\n\n<pre><code>class Visitor {\n    private aExecuter: AExecuter;\n    private bExecuter: BExecuter;\n\n    visit(it: A): Result {\n        return this.aExecuter.execute(it);\n    }\n\n    visit(it: B): Result {\n        return this.bExecuter.execute(it);\n    }\n}\n</code></pre>\n\n<p>Now, there is no such thing as method overloading in TypeScript / JavaScript. But what is the alternative to creating a conditional like this?:</p>\n\n<pre><code>if (it instanceof A)\n    aExecuter.execute(it);\nelse if (it instanceof B)\n    bExecuter.execute(it);\n</code></pre>\n\n<p><strong>Note:</strong> I want to have the <code>A</code> class know nothing about <code>AExecuter</code>. This would increase the coupling between those two classes and I could not switch the implementation of <code>AExecutor</code> easily.</p>\n"}, {"tags": ["typescript", "visual-studio-code", "tslint"], "comments": [{"owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "edited": false, "score": 2, "creation_date": 1530691685, "post_id": 51168657, "comment_id": 89320323, "body": "Could you post what <code>foo</code> is ? Unless <code>foo</code> has a field named <code>array</code> there is no reason for the IDE to suggest adding <code>array</code>"}, {"owner": {"reputation": 7609, "user_id": 2835541, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/RUaqD.jpg?s=128&g=1", "display_name": "Chris Pickford", "link": "https://stackoverflow.com/users/2835541/chris-pickford"}, "edited": false, "score": 1, "creation_date": 1530692321, "post_id": 51168657, "comment_id": 89320684, "body": "Probably worth mentioning what IDE you&#39;re using too."}, {"owner": {"reputation": 587, "user_id": 7167223, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/qOc9b.jpg?s=128&g=1", "display_name": "Florent Arlandis", "link": "https://stackoverflow.com/users/7167223/florent-arlandis"}, "reply_to_user": {"reputation": 7609, "user_id": 2835541, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/RUaqD.jpg?s=128&g=1", "display_name": "Chris Pickford", "link": "https://stackoverflow.com/users/2835541/chris-pickford"}, "edited": false, "score": 0, "creation_date": 1530692978, "post_id": 51168657, "comment_id": 89321050, "body": "@ChrisPickford I&#39;m using vs code. But the auto completion comes from a plugin called tslint."}, {"owner": {"reputation": 587, "user_id": 7167223, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/qOc9b.jpg?s=128&g=1", "display_name": "Florent Arlandis", "link": "https://stackoverflow.com/users/7167223/florent-arlandis"}, "reply_to_user": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "edited": false, "score": 0, "creation_date": 1530693082, "post_id": 51168657, "comment_id": 89321112, "body": "@TitianCernicova-Dragomir Foo&#39;s value doesn&#39;t matter here, it could be anything, but always an array. Thank you for the clarification, this is what I expected."}, {"owner": {"reputation": 630270, "user_id": 571407, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2f0d9dec16bae1e06552af55ddefc11f?s=128&d=identicon&r=PG", "display_name": "JB Nizet", "link": "https://stackoverflow.com/users/571407/jb-nizet"}, "edited": false, "score": 0, "creation_date": 1530693364, "post_id": 51168657, "comment_id": 89321246, "body": "Well, there is a major difference: one compiles and runs, and the other doesn&#39;t. tslint doesn&#39;t do any auto-completion. It signals linting errors."}], "owner": {"reputation": 587, "user_id": 7167223, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/qOc9b.jpg?s=128&g=1", "display_name": "Florent Arlandis", "link": "https://stackoverflow.com/users/7167223/florent-arlandis"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 165, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1530693212, "creation_date": 1530691328, "last_edit_date": 1530693212, "question_id": 51168657, "link": "https://stackoverflow.com/questions/51168657/vs-code-typescript-auto-completes-foo-foreach-to-foo-array-foreach", "title": "VS Code Typescript auto-completes foo.forEach() to foo.array.forEach()", "body": "<p>I'm using Visual Studio Code with the tslint plugin and auto-completion always adds <code>array</code> before <code>forEach()</code>.</p>\n\n<p>I couldn't find if there was a difference between the two notations\n<code>foo.array.forEach()</code> and <code>foo.forEach()</code> (foo is already an array here). Has anyone got any idea about this?</p>\n"}, {"tags": ["angular", "typescript", "angularjs-scope"], "comments": [{"owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "edited": false, "score": 0, "creation_date": 1530690036, "post_id": 51168281, "comment_id": 89319502, "body": "How does <code>getActive</code> get invoked ?"}, {"owner": {"reputation": 1405, "user_id": 649131, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/0f8fbcd2c751f14033265107282dbe15?s=128&d=identicon&r=PG", "display_name": "Derrick Miller", "link": "https://stackoverflow.com/users/649131/derrick-miller"}, "reply_to_user": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "edited": false, "score": 0, "creation_date": 1530690299, "post_id": 51168281, "comment_id": 89319638, "body": "@TitianCernicova-Dragomir: I&#39;ve edited the original question to show how <code>getActive</code> gets invoked."}, {"owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "edited": false, "score": 0, "creation_date": 1530690384, "post_id": 51168281, "comment_id": 89319688, "body": "Ok, different problem from the one I thought, I will edit my answer shortly."}, {"owner": {"reputation": 1405, "user_id": 649131, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/0f8fbcd2c751f14033265107282dbe15?s=128&d=identicon&r=PG", "display_name": "Derrick Miller", "link": "https://stackoverflow.com/users/649131/derrick-miller"}, "reply_to_user": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "edited": false, "score": 0, "creation_date": 1530690681, "post_id": 51168281, "comment_id": 89319854, "body": "I should note that the value of <code>this.active</code> does change periodically.  In my template, I reference <code>isActive</code> using an async pipe.  The idea is that changes in the value of <code>this.active</code> will be reflected in the view.  It&#39;s possible that the above code isn&#39;t the right approach.  I am still learning observables."}], "answers": [{"tags": [], "owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "is_accepted": true, "score": 1, "last_activity_date": 1530690587, "creation_date": 1530690587, "answer_id": 51168453, "question_id": 51168281, "link": "https://stackoverflow.com/questions/51168281/what-is-the-syntax-for-an-angular-typescript-method-that-uses-fat-arrow-syntax/51168453#51168453", "title": "What is the syntax for an Angular / TypeScript method that uses fat arrow syntax *and* declares the return type?", "body": "<p>The problem is not due to the binding of <code>this</code> or arrow functions, it is due to the order of initialization. The field initializers get called first (and thus the <code>getActive</code> method is invoked) and only then is the rest of the constructor executed. You can see this in the generated code for <code>es5</code>:</p>\n\n<pre><code>var PlayerComponent = /** @class */ (function () {\n    function PlayerComponent() {\n        this.isActive = this.getActive(); // active not set yet\n        this.active = false;\n    }\n    PlayerComponent.prototype.getActive = function () {\n        return of(this.active);\n    };\n    return PlayerComponent;\n}());\n</code></pre>\n\n<p>The simplest solution would be to move initialization of the observable in the constructor where you can control the order:</p>\n\n<pre><code>export class PlayerComponent implements OnInit {\n\n    active: boolean;\n    isActive: Observable&lt;boolean&gt;;\n\n    constructor() {\n        this.active = false;\n        this.isActive = this.getActive();\n    }\n\n    getActive(): Observable&lt;boolean&gt; {\n        return of(this.active);\n    }\n\n}\n</code></pre>\n"}], "owner": {"reputation": 1405, "user_id": 649131, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/0f8fbcd2c751f14033265107282dbe15?s=128&d=identicon&r=PG", "display_name": "Derrick Miller", "link": "https://stackoverflow.com/users/649131/derrick-miller"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 206, "favorite_count": 0, "accepted_answer_id": 51168453, "answer_count": 1, "score": 0, "last_activity_date": 1530690587, "creation_date": 1530689925, "last_edit_date": 1530690267, "question_id": 51168281, "link": "https://stackoverflow.com/questions/51168281/what-is-the-syntax-for-an-angular-typescript-method-that-uses-fat-arrow-syntax", "title": "What is the syntax for an Angular / TypeScript method that uses fat arrow syntax *and* declares the return type?", "body": "<p>I'm using Angular 6. In the following, simplified code, I have a method named getActive(). In that method I would like to access the value of <code>this.active</code>, however the <code>this</code> object is not in scope.</p>\n\n<p>How can I apply fat arrow syntax to this so the value of <code>this.active</code> will be accessible inside the method?  I have scoured the web and tried every possible syntax I can think of, but none of them will compile.</p>\n\n<pre><code>export class PlayerComponent implements OnInit {\n\n  active: boolean;   \n  isActive: Observable&lt;boolean&gt; = this.getActive();\n\n  constructor() {\n      this.active = false;\n  }\n\n  getActive(): Observable&lt;boolean&gt; {\n      return of(this.active);\n  }\n\n}\n</code></pre>\n\n<p>Note that my app works perfectly when I manually set the return value within the <code>getActive()</code> method, for example: <code>return of(false);</code>  It's just that it can't access the value of <code>this.active</code>.</p>\n"}, {"tags": ["javascript", "angular", "typescript"], "comments": [{"owner": {"reputation": 1550, "user_id": 3079776, "user_type": "registered", "accept_rate": 25, "profile_image": "https://i.stack.imgur.com/NmNaz.png?s=128&g=1", "display_name": "M14", "link": "https://stackoverflow.com/users/3079776/m14"}, "edited": false, "score": 0, "creation_date": 1530688912, "post_id": 51167951, "comment_id": 89318923, "body": "It is a version conflict"}, {"owner": {"reputation": 456, "user_id": 4995187, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/d94AI.jpg?s=128&g=1", "display_name": "Grenther", "link": "https://stackoverflow.com/users/4995187/grenther"}, "edited": false, "score": 0, "creation_date": 1530689023, "post_id": 51167951, "comment_id": 89318973, "body": "You seem to be using Angular 6 (where angular.json is added and another .json isn&#39;t used anymore). You have to explicitly specify which angular version you&#39;re using in the package.json or be better off starting with an Angular 6 project (or template/tutorial)."}, {"owner": {"reputation": 4949, "user_id": 5928381, "user_type": "registered", "accept_rate": 11, "profile_image": "https://i.stack.imgur.com/3MFrQ.jpg?s=128&g=1", "display_name": "Anuradha Gunasekara", "link": "https://stackoverflow.com/users/5928381/anuradha-gunasekara"}, "edited": false, "score": 0, "creation_date": 1530689030, "post_id": 51167951, "comment_id": 89318979, "body": "i dont see a angular.json file in the repo. I would recommend to create a new angular project and move the componets from the cloned repo to that new project"}, {"owner": {"reputation": 2193, "user_id": 946031, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/dba443186f507fd7c9ef7938cb118e63?s=128&d=identicon&r=PG", "display_name": "Rohit Choudhary", "link": "https://stackoverflow.com/users/946031/rohit-choudhary"}, "edited": false, "score": 0, "creation_date": 1530689274, "post_id": 51167951, "comment_id": 89319115, "body": "post the errors here and also your angular version"}, {"owner": {"reputation": 1516, "user_id": 1645290, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/YkYiG.jpg?s=128&g=1", "display_name": "Raphael", "link": "https://stackoverflow.com/users/1645290/raphael"}, "edited": false, "score": 0, "creation_date": 1530692046, "post_id": 51167951, "comment_id": 89320517, "body": "Are you inside the correct folder and executing the scripts."}], "answers": [{"comments": [{"owner": {"reputation": 361, "user_id": 2056532, "user_type": "registered", "accept_rate": 21, "profile_image": "https://www.gravatar.com/avatar/e48bc5913ae9b1bd124e1561ab7bbfaa?s=128&d=identicon&r=PG", "display_name": "Apparatus", "link": "https://stackoverflow.com/users/2056532/apparatus"}, "edited": false, "score": 0, "creation_date": 1530689390, "post_id": 51168039, "comment_id": 89319180, "body": "I did this already and it says package not installed angular-cli skipping and then I issued again ng serve, but same error"}, {"owner": {"reputation": 1550, "user_id": 3079776, "user_type": "registered", "accept_rate": 25, "profile_image": "https://i.stack.imgur.com/NmNaz.png?s=128&g=1", "display_name": "M14", "link": "https://stackoverflow.com/users/3079776/m14"}, "reply_to_user": {"reputation": 361, "user_id": 2056532, "user_type": "registered", "accept_rate": 21, "profile_image": "https://www.gravatar.com/avatar/e48bc5913ae9b1bd124e1561ab7bbfaa?s=128&d=identicon&r=PG", "display_name": "Apparatus", "link": "https://stackoverflow.com/users/2056532/apparatus"}, "edited": false, "score": 0, "creation_date": 1530689595, "post_id": 51168039, "comment_id": 89319267, "body": "delete the node modules folder and issue npm install then do ng update @angular/cli --migrate-only --from=1.7.4"}], "tags": [], "owner": {"reputation": 1550, "user_id": 3079776, "user_type": "registered", "accept_rate": 25, "profile_image": "https://i.stack.imgur.com/NmNaz.png?s=128&g=1", "display_name": "M14", "link": "https://stackoverflow.com/users/3079776/m14"}, "is_accepted": false, "score": 0, "last_activity_date": 1530689113, "creation_date": 1530689113, "answer_id": 51168039, "question_id": 51167951, "link": "https://stackoverflow.com/questions/51167951/unable-to-run-the-angular-project/51168039#51168039", "title": "Unable to run the Angular Project", "body": "<p>It is a version conflict. from angular6 requires new file angular.json which is not found on your project.</p>\n\n<p>Try running \n<code>ng update @angular/cli --migrate-only --from=1.7.4</code></p>\n"}], "owner": {"reputation": 361, "user_id": 2056532, "user_type": "registered", "accept_rate": 21, "profile_image": "https://www.gravatar.com/avatar/e48bc5913ae9b1bd124e1561ab7bbfaa?s=128&d=identicon&r=PG", "display_name": "Apparatus", "link": "https://stackoverflow.com/users/2056532/apparatus"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 184, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1530691200, "creation_date": 1530688823, "last_edit_date": 1530691200, "question_id": 51167951, "link": "https://stackoverflow.com/questions/51167951/unable-to-run-the-angular-project", "title": "Unable to run the Angular Project", "body": "<p>I am following some <a href=\"http://4dev.tech/2016/03/login-screen-and-authentication-with-angular2/\" rel=\"nofollow noreferrer\">TUTORIAL</a> for a simple login example and I am using Angulario latest version. I tried to understand the logic and downloaded the code from <a href=\"https://github.com/leonardohjines/angular2-login\" rel=\"nofollow noreferrer\">REPOSITORY</a>, but can someone help me to see this in action? After downloading the project I just changed the directory to downloaded folder and then issued <code>npm install</code> and then issued <code>ng serve</code> , but it's giving me different errors like angular.json couldn't be found etc., Have searched online to overcome these errors, but no luck. I think I am making blunder, but please go easy as I am new to Angular.</p>\n"}, {"tags": ["typescript", "npm", "yarnpkg", "definitelytyped"], "answers": [{"tags": [], "owner": {"reputation": 22363, "user_id": 4468617, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a09c08e1ae93a83e9102b6715fc75b4c?s=128&d=identicon&r=PG", "display_name": "Matt McCutchen", "link": "https://stackoverflow.com/users/4468617/matt-mccutchen"}, "is_accepted": false, "score": 1, "last_activity_date": 1541078317, "creation_date": 1541078317, "answer_id": 53102128, "question_id": 51167943, "link": "https://stackoverflow.com/questions/51167943/install-types-definition-from-fork/53102128#53102128", "title": "install @types definition from fork", "body": "<p>AFAIK, there's no one-step solution because npm and yarn don't support installing directly from a subdirectory of a git repository.  See the issues for <a href=\"https://github.com/npm/npm/issues/2974\" rel=\"nofollow noreferrer\">npm</a> (maybe there is a newer one) and <a href=\"https://github.com/yarnpkg/yarn/issues/4725\" rel=\"nofollow noreferrer\">yarn</a> and previous Stack Overflow questions including <a href=\"https://stackoverflow.com/q/39194648\">this one</a>.  (If your repository is hosted on a service that offers a URL to download a tarball of a subdirectory of the repository, you could try running <code>npm install</code> on that URL; I didn't pursue that approach.)</p>\n\n<p>I suggest you use <a href=\"https://github.com/cristibalan/braid/\" rel=\"nofollow noreferrer\">Braid</a> (disclosure: I am a Braid contributor) to copy the subdirectory of the DefinitelyTyped fork into a subdirectory of your project and then run <code>npm install</code> (or <code>yarn add</code>) on that subdirectory.  <code>npm</code> or <code>yarn</code> will create a symlink from the appropriate location under <code>node_modules</code> to the subdirectory, so TypeScript will find the type declarations without additional configuration.  Since the DefinitelyTyped repository does not contain fully functional <code>package.json</code> files for individual types packages, you'll likely need to create the <code>package.json</code> file in the local subdirectory or add the missing fields to it before running <code>npm install</code>.  (You can just leave this change as a downstream change to the Braid mirror.)</p>\n\n<p>The only drawback I see in this solution is that it makes a copy of the types package in the downstream repository, which will permanently take up some space in the repository.  (And Braid will copy the entire history of DefinitelyTyped into your local clone of the downstream repository, but that space can be reclaimed by garbage collection.)</p>\n"}, {"tags": [], "owner": {"reputation": 1089, "user_id": 6080889, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-j9S1fFOR5tc/AAAAAAAAAAI/AAAAAAAARjI/ZshXXge1K5o/photo.jpg?sz=128", "display_name": "Royson", "link": "https://stackoverflow.com/users/6080889/royson"}, "is_accepted": false, "score": 1, "last_activity_date": 1541078534, "creation_date": 1541078534, "answer_id": 53102187, "question_id": 51167943, "link": "https://stackoverflow.com/questions/51167943/install-types-definition-from-fork/53102187#53102187", "title": "install @types definition from fork", "body": "<p>This could be a time consuming process but doable (to the best of my knowledge).</p>\n\n<p>Use the <a href=\"https://github.com/Microsoft/types-publisher\" rel=\"nofollow noreferrer\">types-publisher project</a>.\n The <a href=\"https://github.com/Microsoft/types-publisher#manually-running\" rel=\"nofollow noreferrer\">Manually Running</a> section in the Readme covers the steps that needs to be executed.</p>\n\n<p>The following steps specified in the <code>Readme</code> should be sufficient to generate and publish the package to your npm account:</p>\n\n<ol>\n<li>Update the local DefinitelyTyped repo</li>\n<li>Parse the definitions</li>\n<li>Calculate versions</li>\n<li>Generate packages on disk</li>\n<li>Publish packages on disk</li>\n<li>Publish registry</li>\n</ol>\n\n<p>In the settings.json have the <a href=\"https://github.com/Microsoft/types-publisher#scopename\" rel=\"nofollow noreferrer\">scopeName</a> equal to npm username.</p>\n\n<p>The package can be used as <code>npm i @username/package-name</code></p>\n"}, {"tags": [], "owner": {"reputation": 5422, "user_id": 498176, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/TziRv.jpg?s=128&g=1", "display_name": "MisterMetaphor", "link": "https://stackoverflow.com/users/498176/mistermetaphor"}, "is_accepted": false, "score": 3, "last_activity_date": 1541392536, "creation_date": 1541392536, "answer_id": 53148405, "question_id": 51167943, "link": "https://stackoverflow.com/questions/51167943/install-types-definition-from-fork/53148405#53148405", "title": "install @types definition from fork", "body": "<p>If this is just temporary like you say (or maybe a very specific use case), it probably makes most sense to just copy the modified type definitions into the repository of your project. You can then reference these definitions just like you would with any custom typings (see <a href=\"https://stackoverflow.com/a/41707197/498176\">my other answer</a> for instructions).</p>\n"}], "owner": {"reputation": 6558, "user_id": 2398523, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/61adc78e99ab0684836043f210017a8a?s=128&d=identicon&r=PG", "display_name": "Waog", "link": "https://stackoverflow.com/users/2398523/waog"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 881, "favorite_count": 1, "answer_count": 3, "score": 9, "last_activity_date": 1541392536, "creation_date": 1530688807, "last_edit_date": 1530906333, "question_id": 51167943, "link": "https://stackoverflow.com/questions/51167943/install-types-definition-from-fork", "title": "install @types definition from fork", "body": "<h1>Context</h1>\n\n<p>I forked <a href=\"https://github.com/DefinitelyTyped/DefinitelyTyped\" rel=\"noreferrer\">DefinitelyTyped</a> and made a workaround to one type definition. This workaround is on a branch in this fork.</p>\n\n<p>This change shouldn't be merged back, since it's only a temporary workaround.</p>\n\n<h1>Question</h1>\n\n<p>How do I install this customized type definition via npm or yarn?</p>\n\n<h1>Problems</h1>\n\n<ul>\n<li>I can't just install the branch, since it would install the whole\nDefinitelyTyped repo instead of just the library.</li>\n<li>Ideally I'd like to have it installed the same way default type definitions are, so that no additional (global) configuration is required.</li>\n</ul>\n"}, {"tags": ["typescript", "visual-studio-code"], "comments": [{"owner": {"reputation": 698, "user_id": 6599635, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/00f2acfb2c6e0550a78d0940f815144c?s=128&d=identicon&r=PG&f=1", "display_name": "evayly", "link": "https://stackoverflow.com/users/6599635/evayly"}, "edited": false, "score": 0, "creation_date": 1530689414, "post_id": 51167931, "comment_id": 89319193, "body": "can you remove your typeroots? This is also among the default values, check here: <a href=\"https://www.typescriptlang.org/docs/handbook/tsconfig-json.html\" rel=\"nofollow noreferrer\">typescriptlang.org/docs/handbook/tsconfig-json.html</a>"}, {"owner": {"reputation": 15625, "user_id": 3786294, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/o0RBY.png?s=128&g=1", "display_name": "Paleo", "link": "https://stackoverflow.com/users/3786294/paleo"}, "edited": false, "score": 0, "creation_date": 1530694839, "post_id": 51167931, "comment_id": 89322121, "body": "I suggest to add the compiler option <code>&quot;traceResolution&quot;: true</code> to your <code>tsconfig.json</code>, then look at the messages."}], "owner": {"reputation": 289, "user_id": 10028437, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/z8JWL.jpg?s=128&g=1", "display_name": "muturgan", "link": "https://stackoverflow.com/users/10028437/muturgan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1392, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1530688791, "creation_date": 1530688791, "question_id": 51167931, "link": "https://stackoverflow.com/questions/51167931/vs-code-does-not-recognize-the-d-ts-files", "title": "VS Code does not recognize the *.d.ts-files", "body": "<p>My project's structure:</p>\n\n<pre><code>.\n\u251c\u2500\u2500 node_modules\n\u2502   \u251c\u2500\u2500 @types\n\u2502\n\u251c\u2500\u2500 server\n\u2502   \u251c\u2500\u2500 server.js\n\u2502   \u251c\u2500\u2500 server.ts\n\u2502\n\u251c\u2500\u2500 package.json\n\u2514\u2500\u2500 tsconfig.json\n</code></pre>\n\n<p>The server.ts is identical to the server.js. Only the file extension is different.<code>\n</code>Package.json contain such dependencies as express and @types/express.<code>\n</code>When I move the cursor to the string</p>\n\n<pre><code>const app = express();\n</code></pre>\n\n<p>in the server.js (notice - js!), I get a tip:</p>\n\n<pre><code>const app: Express\n</code></pre>\n\n<p>But in the server.ts the tip is:</p>\n\n<pre><code>const app: any\n</code></pre>\n\n<p>My tsconfig.json is:</p>\n\n<pre><code>{\n  \"compilerOptions\": {\n    \"sourceMap\": false,\n    \"declaration\": false,\n    \"moduleResolution\": \"node\",\n    \"emitDecoratorMetadata\": true,\n    \"experimentalDecorators\": true,\n    \"target\": \"es6\",\n    \"module\": \"commonjs\",\n    \"allowJs\": true,\n    \"typeRoots\": [\"node_modules/@types\"]\n  }\n}\n</code></pre>\n\n<p>AllowJs was added after reading this question:\n<a href=\"https://stackoverflow.com/questions/40224476/vs-code-typings-no-intellisense\">VS Code, typings - no IntelliSense</a> <code>\n</code>It didn't help.<code>\n</code> <code>\n</code>How to force the IDE to use the d.ts files in the @types folder?</p>\n"}, {"tags": ["javascript", "angular", "typescript"], "comments": [{"owner": {"reputation": 8791, "user_id": 7247920, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bAqar.jpg?s=128&g=1", "display_name": "ggradnig", "link": "https://stackoverflow.com/users/7247920/ggradnig"}, "edited": false, "score": 0, "creation_date": 1530689080, "post_id": 51167868, "comment_id": 89319002, "body": "could you post the desired result as JSON?"}, {"owner": {"reputation": 133386, "user_id": 295783, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/da548667c834109a7059b51060e53dff?s=128&d=identicon&r=PG", "display_name": "mplungjan", "link": "https://stackoverflow.com/users/295783/mplungjan"}, "edited": false, "score": 0, "creation_date": 1530689092, "post_id": 51167868, "comment_id": 89319009, "body": "Please visit the <a href=\"https://stackoverflow.com/help\">help center</a>, take the <a href=\"https://stackoverflow.com/tour\">tour</a> to see what and <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a>. Do some research, search for related topics on SO; if you get stuck, post a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> of your attempt, noting input and expected output."}], "answers": [{"tags": [], "owner": {"reputation": 70314, "user_id": 5043867, "user_type": "registered", "accept_rate": 42, "profile_image": "https://i.stack.imgur.com/RX8Aw.jpg?s=128&g=1", "display_name": "Pardeep Jain", "link": "https://stackoverflow.com/users/5043867/pardeep-jain"}, "is_accepted": false, "score": 1, "last_activity_date": 1530689146, "last_edit_date": 1530689146, "creation_date": 1530689103, "answer_id": 51168038, "question_id": 51167868, "link": "https://stackoverflow.com/questions/51167868/how-to-compare-and-get-the-values-two-array-of-objects/51168038#51168038", "title": "How to Compare and get the values two Array of objects?", "body": "<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>var a = [{locationId:1,locationName:\"Bangalore\"},{locationId:2, locationName:\"Mumbai\"}];\r\n    var b = [{baseId:1,baseUnit:\"abc\"},{baseId:2,baseUnit:\"\"}]\r\n    var c = [];\r\n\r\na.map(obj =&gt; {\r\n  b.map(res =&gt; {\r\n    if (obj.locationId == res.baseId) {\r\n      c.push({\r\n        \"locationName\": obj.locationName,\r\n        \"baseUnit\": res.baseUnit\r\n      });\r\n    }\r\n  });\r\n});\r\n\r\n\r\nconsole.log(c);</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": [], "owner": {"reputation": 1631, "user_id": 5309449, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iTftK.png?s=128&g=1", "display_name": "Venomy", "link": "https://stackoverflow.com/users/5309449/venomy"}, "is_accepted": false, "score": 1, "last_activity_date": 1530689128, "creation_date": 1530689128, "answer_id": 51168044, "question_id": 51167868, "link": "https://stackoverflow.com/questions/51167868/how-to-compare-and-get-the-values-two-array-of-objects/51168044#51168044", "title": "How to Compare and get the values two Array of objects?", "body": "<p>The following code should do what you need (comments in code)</p>\n\n<pre><code>// Go throught first array\nnewArray = array1.map(location =&gt; {\n    // Look for corresponding object in second array based on Ids\n    const foundBase = array2.find(base =&gt; base.baseId === location.locationId);\n    // If the object is found, return combined object\n    if(foundBase){\n        return Object.assign(location, foundBase);\n    }\n});\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 3197, "user_id": 4709300, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/pGfqW.jpg?s=128&g=1", "display_name": "Chris", "link": "https://stackoverflow.com/users/4709300/chris"}, "is_accepted": false, "score": 1, "last_activity_date": 1530690077, "creation_date": 1530690077, "answer_id": 51168318, "question_id": 51167868, "link": "https://stackoverflow.com/questions/51167868/how-to-compare-and-get-the-values-two-array-of-objects/51168318#51168318", "title": "How to Compare and get the values two Array of objects?", "body": "<h2>Reduce your arrays</h2>\n\n<p>Here you can see that it is possible to use <code>.reduce</code> on an <code>Array</code> to iterate over the array whilst generating a new one:</p>\n\n<pre><code>let array1 = [{locationId:1,locationName:\"Bangalore\"},{locationId:2, locationName:\"Mumbai\"}]\nlet array2 = [{baseId:1,baseUnit:\"abc\"},{baseId:2,baseUnit:\"\"}]\n\n// Combine objects in array\narray1.reduce((newArray, _, index) =&gt; newArray.concat({...array1[index], ...array2[index]}), [])\n</code></pre>\n"}], "owner": {"reputation": 99, "user_id": 1917925, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/b90ebed249024cf8e75b6ec5261815e1?s=128&d=identicon&r=PG", "display_name": "Arjun Sarthi", "link": "https://stackoverflow.com/users/1917925/arjun-sarthi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 56, "favorite_count": 0, "answer_count": 3, "score": 0, "last_activity_date": 1530690077, "creation_date": 1530688549, "last_edit_date": 1530689108, "question_id": 51167868, "link": "https://stackoverflow.com/questions/51167868/how-to-compare-and-get-the-values-two-array-of-objects", "title": "How to Compare and get the values two Array of objects?", "body": "<p>I have two Array of objects as follows.</p>\n\n<p>Array of object 1 ---->    <code>[{locationId:1,locationName:\"Bangalore\"},{locationId:2, locationName:\"Mumbai\"}]</code><br>\nArray of object 2 ----->   <code>[{baseId:1,baseUnit:\"abc\"},{baseId:2,baseUnit:\"\"}]</code></p>\n\n<p>Is there any short method where I can locationName from first Array, using baseId from Array 2 and push that to new Array of objects,in angular 6. I dont want to use for loop.</p>\n"}, {"tags": ["node.js", "typescript", "tcp", "typescript-typings", "tsc"], "answers": [{"tags": [], "owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "is_accepted": false, "score": 2, "last_activity_date": 1530687969, "last_edit_date": 1530687969, "creation_date": 1530687598, "answer_id": 51167600, "question_id": 51167477, "link": "https://stackoverflow.com/questions/51167477/type-checking-strings-instead-of-using-instanceof/51167600#51167600", "title": "Type checking strings instead of using instanceof", "body": "<p>You can use string literal strings to offer type checking for the error codes (and also good code completion support for the error codes).</p>\n\n<pre><code>interface CustomError {\n    code:'Request timeout' | 'Unauthorized'\n}\n\nconst makeRequest = function(err : CustomError | null, result : any){\n    if(err &amp;&amp; err.code === 'Not an error'){ // This would be an error\n\n    }\n    if(err &amp;&amp; err.code === 'Request timeout'){\n\n    }\n\n    if(err &amp;&amp; err.code === 'Unauthorized'){\n\n    }\n};\n</code></pre>\n\n<p>If each type of error has extra information you want to provide you could also combine string literal types with a discriminated union:</p>\n\n<pre><code>interface TimoutoutError {\n    code: 'Request timeout'\n    time: number;\n}\n\ninterface UnauthorizedError {\n    code: 'Unauthorized'\n    user: string;\n}\n\ntype CustomError = TimoutoutError | UnauthorizedError;\n\nconst makeRequest = function (err: CustomError | null, result: any) {\n    if (err &amp;&amp; err.code === 'Not an error') { // This would be an error\n\n    }\n    if (err &amp;&amp; err.code === 'Request timeout') {\n        err.time; // err is TimoutoutError\n    }\n\n    if (err &amp;&amp; err.code === 'Unauthorized') {\n        err.user // err is UnauthorizedError\n    }\n};\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 1223975, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/5Oh7r.jpg?s=128&g=1", "display_name": "Alexander Mills", "link": "https://stackoverflow.com/users/1223975/alexander-mills"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 36, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1530687969, "creation_date": 1530687153, "question_id": 51167477, "link": "https://stackoverflow.com/questions/51167477/type-checking-strings-instead-of-using-instanceof", "title": "Type checking strings instead of using instanceof", "body": "<p>Say I have a library that does TCP and the response could be vary, some responses representing errors.</p>\n\n<p>It doesn't make much sense to use an Error object because that is expensive, but also the stack trace doesn't have anything to do with the original request since the error, it were to occur, would occur asynchronously.</p>\n\n<p>So the best thing I can think of is a simple string, something like:</p>\n\n<pre><code>const makeRequest = function(err, result){\n\n    if(err &amp;&amp; err.code === 'Request timeout'){\n\n    }\n\n    if(err &amp;&amp; err.code === 'Unauthorized'){\n\n    }\n};\n</code></pre>\n\n<p>How can I allow users to type check the string with TypeScript?</p>\n"}, {"tags": ["angular", "typescript", "protractor", "e2e-testing"], "answers": [{"comments": [{"owner": {"reputation": 516, "user_id": 1159613, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/6da90f0d9dc5699d342f3866dcf31e64?s=128&d=identicon&r=PG", "display_name": "Wolf87", "link": "https://stackoverflow.com/users/1159613/wolf87"}, "edited": false, "score": 0, "creation_date": 1568880437, "post_id": 51169167, "comment_id": 102417622, "body": "Thank you very much, it helped me in my issue. I was getting this on running e2e: &quot;Port 8080 is already in use. Use &#39;--port&#39; to specify a different port.&quot;"}, {"owner": {"reputation": 959, "user_id": 4336408, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-BNWjP9D1lKU/AAAAAAAAAAI/AAAAAAAAAes/QOqIiRdylC4/photo.jpg?sz=128", "display_name": "Jeroen van Dijk-Jun", "link": "https://stackoverflow.com/users/4336408/jeroen-van-dijk-jun"}, "edited": false, "score": 0, "creation_date": 1618391548, "post_id": 51169167, "comment_id": 118584917, "body": "How does Protractor know the port? Is it possible to retrieve the chosen port? - I&#39;m asking because I&#39;m using cypress and I have this base URL incl. port number which I have to pass to Cypress, also I have a CORS thing which I need to solve by passing on this same port number"}], "tags": [], "owner": {"reputation": 858, "user_id": 668887, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/0e690607b165f5ec905dbd51e1df814e?s=128&d=identicon&r=PG", "display_name": "Coolbreeze", "link": "https://stackoverflow.com/users/668887/coolbreeze"}, "is_accepted": false, "score": 5, "last_activity_date": 1566223866, "last_edit_date": 1566223866, "creation_date": 1530693001, "answer_id": 51169167, "question_id": 51166848, "link": "https://stackoverflow.com/questions/51166848/how-to-make-ng-e2e-run-on-available-port/51169167#51169167", "title": "How to make ng e2e run on available port?", "body": "<p>I was able to find the solution for this.</p>\n\n<p>Just run <code>ng e2e &lt;app-name&gt; --port 0</code> to run on available ports.</p>\n\n<p>When this command executes, the tests will look for available ports in case of parallel execution. We don't need to explicitly hardcode or provide port numbers every time. </p>\n"}, {"tags": [], "owner": {"reputation": 261, "user_id": 10054019, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ko2SD.jpg?s=128&g=1", "display_name": "John", "link": "https://stackoverflow.com/users/10054019/john"}, "is_accepted": false, "score": 1, "last_activity_date": 1531143696, "creation_date": 1531143696, "answer_id": 51247021, "question_id": 51166848, "link": "https://stackoverflow.com/questions/51166848/how-to-make-ng-e2e-run-on-available-port/51247021#51247021", "title": "How to make ng e2e run on available port?", "body": "<p>I ran into a similar problem. You could try something like this: In your <code>package.json</code> file, in <code>scripts</code> you can enter <code>\"e2e\": ng e2e --port number</code> from there, within the command line, you can enter <code>npm run e2e</code>.</p>\n"}], "owner": {"reputation": 858, "user_id": 668887, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/0e690607b165f5ec905dbd51e1df814e?s=128&d=identicon&r=PG", "display_name": "Coolbreeze", "link": "https://stackoverflow.com/users/668887/coolbreeze"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1564, "favorite_count": 0, "answer_count": 2, "score": 4, "last_activity_date": 1566223866, "creation_date": 1530684676, "last_edit_date": 1566223854, "question_id": 51166848, "link": "https://stackoverflow.com/questions/51166848/how-to-make-ng-e2e-run-on-available-port", "title": "How to make ng e2e run on available port?", "body": "<p>After upgrading to Angular 6, <code>ng e2e</code> doesn't run on available port.\nFor example, if you take the previous version of Angular (we were previously using 4), you will be having the app service in port number 4200 and when we simultaneously run <code>ng e2e</code>, it used to pick a free port (like 49152) to run tests. </p>\n\n<p>After Angular 6 upgrade, when I try to run the tests on similar scenario, it fails with the error message \"Port 4200 is already in use\". </p>\n\n<p>I don't want to manually pass <code>--port {port number}</code> to the command for CI purposes since hardcoding port numbers will have problems in parallel executions in CI. Something broke during the upgrade to Angular 6, should I change the configuration?</p>\n"}, {"tags": ["javascript", "typescript", "asynchronous"], "comments": [{"owner": {"reputation": 437, "user_id": 6394930, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/12e47b3e7046a22fd1dbdfe0d4f966d9?s=128&d=identicon&r=PG&f=1", "display_name": "Rafid", "link": "https://stackoverflow.com/users/6394930/rafid"}, "edited": false, "score": 0, "creation_date": 1530682936, "post_id": 51166423, "comment_id": 89316026, "body": "possible duplicate <a href=\"https://stackoverflow.com/questions/34210812/how-to-use-async-await-function-object-in-javascript#34210944\" title=\"how to use async await function object in javascript%2334210944\">stackoverflow.com/questions/34210812/&hellip;</a>"}], "answers": [{"comments": [{"owner": {"reputation": 3836, "user_id": 3003401, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7f2de9e3bd27825488f4cf0a1dd86ac0?s=128&d=identicon&r=PG&f=1", "display_name": "Cerberus", "link": "https://stackoverflow.com/users/3003401/cerberus"}, "edited": false, "score": 4, "creation_date": 1530683503, "post_id": 51166460, "comment_id": 89316248, "body": "Note that this means that <code>CheckRegUser</code> will return not <code>boolean</code>, but <code>Promise&lt;boolean&gt;</code>, and it should be handled correspondingly in the calling code (either through <code>then</code>, or also with <code>async&#47;await</code>)."}, {"owner": {"reputation": 42804, "user_id": 2181397, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/616931b5c5ba8790a191fa6aea465c65?s=128&d=identicon&r=PG", "display_name": "brk", "link": "https://stackoverflow.com/users/2181397/brk"}, "reply_to_user": {"reputation": 3836, "user_id": 3003401, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7f2de9e3bd27825488f4cf0a1dd86ac0?s=128&d=identicon&r=PG&f=1", "display_name": "Cerberus", "link": "https://stackoverflow.com/users/3003401/cerberus"}, "edited": false, "score": 0, "creation_date": 1530683624, "post_id": 51166460, "comment_id": 89316293, "body": "@Cerberus I agree with you the return of <code>async&#47;await</code> is a promise"}, {"owner": {"reputation": 189, "user_id": 7790481, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/8e5be00ecd78b99d0119bf312aebba9a?s=128&d=identicon&r=PG&f=1", "display_name": "RoyNasr", "link": "https://stackoverflow.com/users/7790481/roynasr"}, "reply_to_user": {"reputation": 3836, "user_id": 3003401, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7f2de9e3bd27825488f4cf0a1dd86ac0?s=128&d=identicon&r=PG&f=1", "display_name": "Cerberus", "link": "https://stackoverflow.com/users/3003401/cerberus"}, "edited": false, "score": 0, "creation_date": 1531718786, "post_id": 51166460, "comment_id": 89682488, "body": "Thank you for your reply, it solved my problem!! And thanks @Cerberus for pointing out that async returned a promise."}, {"owner": {"reputation": 2221, "user_id": 1052622, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/59zh4.png?s=128&g=1", "display_name": "iGanja", "link": "https://stackoverflow.com/users/1052622/iganja"}, "edited": false, "score": 1, "creation_date": 1575994261, "post_id": 51166460, "comment_id": 104749816, "body": "A promise is NOT a value! Why is this the accepted answer?"}, {"owner": {"reputation": 532, "user_id": 2966499, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/rccbn.jpg?s=128&g=1", "display_name": "Emobe", "link": "https://stackoverflow.com/users/2966499/emobe"}, "reply_to_user": {"reputation": 2221, "user_id": 1052622, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/59zh4.png?s=128&g=1", "display_name": "iGanja", "link": "https://stackoverflow.com/users/1052622/iganja"}, "edited": false, "score": 0, "creation_date": 1579283812, "post_id": 51166460, "comment_id": 105727398, "body": "@iGanja beacuse <code>async</code> functions return Promises?"}], "tags": [], "owner": {"reputation": 42804, "user_id": 2181397, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/616931b5c5ba8790a191fa6aea465c65?s=128&d=identicon&r=PG", "display_name": "brk", "link": "https://stackoverflow.com/users/2181397/brk"}, "is_accepted": true, "score": 6, "last_activity_date": 1551405999, "last_edit_date": 1551405999, "creation_date": 1530682848, "answer_id": 51166460, "question_id": 51166423, "link": "https://stackoverflow.com/questions/51166423/return-value-with-asynchronous-functions-in-typescript/51166460#51166460", "title": "Return value with asynchronous functions in Typescript", "body": "<p>You can try with <code>async await</code></p>\n\n<pre><code>  async CheckRegUser(u: User): Promise&lt;boolean&gt; {\n\n    let toSend = {\n      email: u.email\n    };\n    let k = await this.http.post(\"http://localhost:8080/\", toSend).subscribe((data: Valid){\n      let b: boolean = true;\n      if(!data.validity){\n        b = false;\n      }\n      return b\n    });\n    console.log(k);\n    return k;\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 189, "user_id": 7790481, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/8e5be00ecd78b99d0119bf312aebba9a?s=128&d=identicon&r=PG&f=1", "display_name": "RoyNasr", "link": "https://stackoverflow.com/users/7790481/roynasr"}, "edited": false, "score": 0, "creation_date": 1531718976, "post_id": 51166777, "comment_id": 89682534, "body": "Thank you for your very detailed answer, it is really well explained, but I preferred to have a simple and clear solution for my problem. But again, thank you for the effort you put to write this answer!"}], "tags": [], "owner": {"reputation": 646, "user_id": 9661371, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3e3d67a9b7860d15115ce6278ebce614?s=128&d=identicon&r=PG&f=1", "display_name": "mittens pair", "link": "https://stackoverflow.com/users/9661371/mittens-pair"}, "is_accepted": false, "score": 4, "last_activity_date": 1530848455, "last_edit_date": 1530848455, "creation_date": 1530684322, "answer_id": 51166777, "question_id": 51166423, "link": "https://stackoverflow.com/questions/51166423/return-value-with-asynchronous-functions-in-typescript/51166777#51166777", "title": "Return value with asynchronous functions in Typescript", "body": "<p>I had this common problem when I was just starting to learn Observables/Reactive programming with a Google Maps app as well :D!</p>\n\n<p>Spot on, you realised that asynchronous function hasn't mutated the <code>b</code> boolean flag yet when the function synchronously returns <code>b</code> (that defaulted to <code>true</code>);</p>\n\n<p>To fix this it might be easier to restructure your function to return the <code>Observable</code> to the caller.</p>\n\n<p>and maybe look up <code>Observable</code> chaining or similar concept <code>Promise</code> chaining.</p>\n\n<p>Old example:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>CheckRegUser(u: User): boolean {\r\n    const b: boolean = true;\r\n    const toSend = {\r\n      email: u.email\r\n    };\r\n\r\n    const httpPost: Observable&lt;aJsonObject&gt; = this.http.post(\"http://localhost:8080/\", toSend)\r\n    const httpPostSubscription: Subscription = httpPost\r\n      .subscribe((data: Valid) =&gt; { // This is asynchronous\r\n        if (!data.validity) {\r\n          b = false;\r\n        }\r\n      });\r\n    console.log(b);\r\n\r\n    return b; // This is effectively sync returning your default value `b = true`;\r\n  }</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>It would be better if you could rename your variables to be clearer.\n<code>b</code> or <code>isDataValid</code>.\nMight also be good practice to start functional-style with <code>const</code> variables to help avoid mutability issues.</p>\n\n<p>If you're more familiar with <code>Promises</code>, you could also try to <code>promisify</code> the httpClient.post Observable.</p>\n\n<p>General gist of it is to pass the <code>Observable</code> back to the caller and <code>.subscribe</code> it there.\nWhen something is returning asynchronously, you should return the asynchronicity all the way back to the top.</p>\n\n<p>Refactor code to reflect these practices</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>  CheckRegUser(user: User, httpClient: HttpClient): Observable&lt;Valid&gt; {\r\n    // 1. Data to send\r\n    type  EmailPost                  = { email: string }\r\n    const emailJsonToSend: EmailPost = { // I prefer explicit typing wherever possible :tada: :D\r\n      email: user.email\r\n    };\r\n\r\n    // 2. POST the data to the web server\r\n    const emailHttpPostObs: Observable&lt;Valid&gt; = httpClient.post(\"http://localhost:8080/\", emailJsonToSend);\r\n\r\n    return emailHttpPostObs;\r\n  }\r\n\r\n  CallerSubmitUserFunction(user: User, httpClient: HttpClient) {\r\n    // Made some assumptions, please comment and we can work out a better solution\r\n    // Explicitly typed things as an example.\r\n\r\n    // 1. You have a user e.g. new User(name:'myUser', email: 'myEmailAddressOrEmailContent@email.com');\r\n    const userToSend: User = user;\r\n    // 2. You POST the user.email and get response.\r\n    const validatedUserDataObs: Observable&lt;Valid&gt; = CheckRegUser(userToSend, httpClient);\r\n\r\n    // 3. You check whether the server accepted the data and whether it was valid.\r\n    const validatedUserDataObs: Subscription = validatedUserDataObs\r\n      .subscribe((data: Valid) =&gt; {\r\n        // Perform data validation or Error checking here.\r\n\r\n        // If data is valid, \r\n        if (dataValidationFunction()) {\r\n          // Do something here\r\n          // Instead of trying to return the boolean in the asynchronouse function.\r\n          // Directly do something after the server responds (whenever it happens).\r\n        }\r\n      }) // catch Error\r\n\r\n\r\n    // It would also be better if you could rename your variables to be more self-indicative\r\n    // var dataIsValid\r\n\r\n  }</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 189, "user_id": 7790481, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/8e5be00ecd78b99d0119bf312aebba9a?s=128&d=identicon&r=PG&f=1", "display_name": "RoyNasr", "link": "https://stackoverflow.com/users/7790481/roynasr"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 11722, "favorite_count": 1, "accepted_answer_id": 51166460, "answer_count": 2, "score": 10, "last_activity_date": 1551405999, "creation_date": 1530682623, "question_id": 51166423, "link": "https://stackoverflow.com/questions/51166423/return-value-with-asynchronous-functions-in-typescript", "title": "Return value with asynchronous functions in Typescript", "body": "<p>I have the following TS function: </p>\n\n<pre><code>CheckRegUser(u: User): boolean {\n    let b: boolean = true;\n    let toSend = {\n      email: u.email\n    };\n    this.http.post(\"http://localhost:8080/\", toSend).subscribe((data: Valid) =&gt; {\n      if(!data.validity){\n        b = false;\n      }\n    });\n    console.log(b);\n    return b;\n}\n</code></pre>\n\n<p>Here I am connecting to an ExpressJS backend and I am getting back a boolean result. This part is working fine, but the problem is that the \"return b\" statement is executed before that the value of b is changed in \"this.http\", so b is always true no matter what the response from Express is.</p>\n\n<p>I know that TS and JS are asynchronous and this problem is caused because of that, but I couldn't find the correct method to solve my issue. Any help would be appreciated. </p>\n"}, {"tags": ["html", "css", "json", "angular", "typescript"], "comments": [{"owner": {"reputation": 1575, "user_id": 7850051, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/b8JHX.jpg?s=128&g=1", "display_name": "Karnan Muthukumar", "link": "https://stackoverflow.com/users/7850051/karnan-muthukumar"}, "edited": false, "score": 1, "creation_date": 1530682598, "post_id": 51166342, "comment_id": 89315893, "body": "show your getting value method.I have to know what you are doing. Then easy to help you."}, {"owner": {"reputation": 1138, "user_id": 6798006, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/237d47b9e57a0ddd2493ab5b400dc5dc?s=128&d=identicon&r=PG&f=1", "display_name": "Dylan Anlezark", "link": "https://stackoverflow.com/users/6798006/dylan-anlezark"}, "reply_to_user": {"reputation": 1575, "user_id": 7850051, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/b8JHX.jpg?s=128&g=1", "display_name": "Karnan Muthukumar", "link": "https://stackoverflow.com/users/7850051/karnan-muthukumar"}, "edited": false, "score": 0, "creation_date": 1530682716, "post_id": 51166342, "comment_id": 89315935, "body": "I have made an edit for you @KarnanMuthukumar"}, {"owner": {"reputation": 1575, "user_id": 7850051, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/b8JHX.jpg?s=128&g=1", "display_name": "Karnan Muthukumar", "link": "https://stackoverflow.com/users/7850051/karnan-muthukumar"}, "edited": false, "score": 0, "creation_date": 1530684027, "post_id": 51166342, "comment_id": 89316469, "body": "iam updated new way to achieve your scenario. Please try once and let me know."}, {"owner": {"reputation": 101, "user_id": 5244017, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1709668b3ff9ce053f84a3c10d50a6a2?s=128&d=identicon&r=PG&f=1", "display_name": "Rajiv Nathan", "link": "https://stackoverflow.com/users/5244017/rajiv-nathan"}, "edited": false, "score": 0, "creation_date": 1530684190, "post_id": 51166342, "comment_id": 89316535, "body": "console.log(JSON.stringify(this.Newsdata, null, 2)); should give you a more readable output to start."}, {"owner": {"reputation": 1575, "user_id": 7850051, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/b8JHX.jpg?s=128&g=1", "display_name": "Karnan Muthukumar", "link": "https://stackoverflow.com/users/7850051/karnan-muthukumar"}, "edited": false, "score": 0, "creation_date": 1530687990, "post_id": 51166342, "comment_id": 89318404, "body": "@Dylan Anelezark I tryed your way made some changes its worked.let&#39;s try once and let me know."}, {"owner": {"reputation": 59546, "user_id": 6294072, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/wT1Nn.jpg?s=128&g=1", "display_name": "AJT82", "link": "https://stackoverflow.com/users/6294072/ajt82"}, "edited": false, "score": 0, "creation_date": 1530706084, "post_id": 51166342, "comment_id": 89329351, "body": "You are using Angular... so use the Angular <code>HttpClient</code>: <a href=\"https://angular.io/guide/http\" rel=\"nofollow noreferrer\">angular.io/guide/http</a>"}, {"owner": {"reputation": 1575, "user_id": 7850051, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/b8JHX.jpg?s=128&g=1", "display_name": "Karnan Muthukumar", "link": "https://stackoverflow.com/users/7850051/karnan-muthukumar"}, "edited": false, "score": 0, "creation_date": 1530768392, "post_id": 51166342, "comment_id": 89349513, "body": "@DylanAnlezark did you tried my answer it&#39;s working perfect tested.Try once if any error let me know."}, {"owner": {"reputation": 1575, "user_id": 7850051, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/b8JHX.jpg?s=128&g=1", "display_name": "Karnan Muthukumar", "link": "https://stackoverflow.com/users/7850051/karnan-muthukumar"}, "edited": false, "score": 0, "creation_date": 1531199838, "post_id": 51166342, "comment_id": 89494006, "body": "Glad to help you"}], "answers": [{"comments": [{"owner": {"reputation": 1138, "user_id": 6798006, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/237d47b9e57a0ddd2493ab5b400dc5dc?s=128&d=identicon&r=PG&f=1", "display_name": "Dylan Anlezark", "link": "https://stackoverflow.com/users/6798006/dylan-anlezark"}, "edited": false, "score": 0, "creation_date": 1530683245, "post_id": 51166496, "comment_id": 89316153, "body": "Response1 : Response1 {&quot;status&quot;:&quot;ok&quot;,&quot;totalResults&quot;:20,&quot;articles&quot;:[{&quot;source&quot;:{&quot;id&quot;&zwnj;&#8203;:null,&quot;name&quot;:&quot;Nydail&zwnj;&#8203;ynews.com&quot;},&quot;author&quot;&zwnj;&#8203;:&quot;Kerry Burke, JOHN ANNESE, Rocco Parascandola&quot;,&quot;title&quot;:&quot;Two more Trinitarios members in custody in Bronx machete slay of Les TEXT CONTINUES  Response 2: getJSON failed for <a href=\"https://newsapi.org/v2/top-headlines?country=us&amp;apiKey=c6aecd1cd1de49edaca2544076713c45\" rel=\"nofollow noreferrer\">newsapi.org/v2/&hellip;</a> TypeError: response.json is not a function"}, {"owner": {"reputation": 1575, "user_id": 7850051, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/b8JHX.jpg?s=128&g=1", "display_name": "Karnan Muthukumar", "link": "https://stackoverflow.com/users/7850051/karnan-muthukumar"}, "reply_to_user": {"reputation": 1138, "user_id": 6798006, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/237d47b9e57a0ddd2493ab5b400dc5dc?s=128&d=identicon&r=PG&f=1", "display_name": "Dylan Anlezark", "link": "https://stackoverflow.com/users/6798006/dylan-anlezark"}, "edited": false, "score": 0, "creation_date": 1530683394, "post_id": 51166496, "comment_id": 89316205, "body": "ok just log this another line console.log(&quot;Articles&quot;,response.articles); you got value i think now assign your value to any variable for further use"}, {"owner": {"reputation": 1138, "user_id": 6798006, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/237d47b9e57a0ddd2493ab5b400dc5dc?s=128&d=identicon&r=PG&f=1", "display_name": "Dylan Anlezark", "link": "https://stackoverflow.com/users/6798006/dylan-anlezark"}, "edited": false, "score": 0, "creation_date": 1530683505, "post_id": 51166496, "comment_id": 89316250, "body": "Response1 undefined"}, {"owner": {"reputation": 1575, "user_id": 7850051, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/b8JHX.jpg?s=128&g=1", "display_name": "Karnan Muthukumar", "link": "https://stackoverflow.com/users/7850051/karnan-muthukumar"}, "reply_to_user": {"reputation": 1138, "user_id": 6798006, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/237d47b9e57a0ddd2493ab5b400dc5dc?s=128&d=identicon&r=PG&f=1", "display_name": "Dylan Anlezark", "link": "https://stackoverflow.com/users/6798006/dylan-anlezark"}, "edited": false, "score": 0, "creation_date": 1530683637, "post_id": 51166496, "comment_id": 89316299, "body": "please wait few minute"}], "tags": [], "owner": {"reputation": 1575, "user_id": 7850051, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/b8JHX.jpg?s=128&g=1", "display_name": "Karnan Muthukumar", "link": "https://stackoverflow.com/users/7850051/karnan-muthukumar"}, "is_accepted": true, "score": 1, "last_activity_date": 1530687955, "last_edit_date": 1530687955, "creation_date": 1530682996, "answer_id": 51166496, "question_id": 51166342, "link": "https://stackoverflow.com/questions/51166342/typescript-fetching-json-object/51166496#51166496", "title": "Typescript fetching JSON object", "body": "<p>Using this one line <code>JSON.parse()</code> method every thing works fine.</p>\n\n<p>First Way</p>\n\n<pre><code>private getCall() {\n        let url = \"https://newsapi.org/v2/top-headlines?country=us&amp;apiKey=c6aecd1cd1de49edaca2544076713c45\";\n        console.log(\"Entered FetchHeadlines\");\n\n        this.FetchHeadlines(url).then((response)=&gt;{\n            let Data=JSON.parse(response);\n            console.log(\"Data\",Data);\n            console.log(\"Data1\",Data.articles);\n\n        })      \n    }\n    get(url: string): Promise&lt;any&gt; {\n        return new Promise((resolve, reject) =&gt; {\n            var req = new XMLHttpRequest();\n            req.open('GET', url);\n\n            req.onload = () =&gt; {\n                if (req.status === 200) {\n                    resolve(req.response);\n                } else {\n                    reject(Error(req.statusText));\n                }\n            };\n\n            req.onerror = () =&gt; {\n                reject(Error('Network Error'));\n            };\n\n            req.send();\n        });\n    }\n\n    FetchHeadlines(url:string): Promise&lt;any&gt; {\n        console.log(\"Entered FetchHeadlines\");\n\n        return this.get(url).then().catch(error =&gt; {\n            console.log('getJSON failed for', url, error);\n            throw error;\n        });\n    }\n</code></pre>\n\n<p>worked perfect tested.\nscreenshot,\n<a href=\"https://i.stack.imgur.com/xINzd.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/xINzd.png\" alt=\"enter image description here\"></a></p>\n\n<p>Second Way:-</p>\n\n<pre><code>  private getCall(){\n        let url=\"https://newsapi.org/v2/top-headlines?country=us&amp;apiKey=c6aecd1cd1de49edaca2544076713c45\";\n            console.log(\"Entered FetchHeadlines\");\n\n            this.http.get(url).subscribe((response)=&gt;{\n                console.log(\"Response1\",response);\n                console.log(\"Response2\",response.json());   //here got json value you can assign value to variable.         \n            })\n    }\n</code></pre>\n\n<p>screenshot,</p>\n\n<p><a href=\"https://i.stack.imgur.com/1id6t.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/1id6t.png\" alt=\"enter image description here\"></a></p>\n\n<p>I hope its solve your problem First way.</p>\n\n<p>Thanks,\nMuthukumar</p>\n"}], "owner": {"reputation": 1138, "user_id": 6798006, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/237d47b9e57a0ddd2493ab5b400dc5dc?s=128&d=identicon&r=PG&f=1", "display_name": "Dylan Anlezark", "link": "https://stackoverflow.com/users/6798006/dylan-anlezark"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1665, "favorite_count": 1, "accepted_answer_id": 51166496, "answer_count": 1, "score": 0, "last_activity_date": 1530688164, "creation_date": 1530682164, "last_edit_date": 1530688164, "question_id": 51166342, "link": "https://stackoverflow.com/questions/51166342/typescript-fetching-json-object", "title": "Typescript fetching JSON object", "body": "<p><a href=\"https://i.stack.imgur.com/i5vFM.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/i5vFM.jpg\" alt=\"Capture\"></a></p>\n\n<p>I have gone and got some data from a request and it should be returning it as a json object that i can pass to and use in some html, however when run</p>\n\n<pre><code>console.log(this.data);\n</code></pre>\n\n<p>I can also see it has 20 elements in the articles array but it returns undefined or null as seen when i run</p>\n\n<pre><code>console.log(this.data.__zone_symbol__value);\n</code></pre>\n\n<p>Any help in solving this issue will be greatly appreciated. :)</p>\n\n<p>Edit in response to comment:</p>\n\n<pre><code>  ngOnInit() {\n    this.url = 'https://newsapi.org/v2/top-headlines?' +\n        'country=us&amp;' +\n        'apiKey=c6aecd1cd1de49edaca2544076713c45';\n   this.Newsdata = this.FetchHeadlines(this.url);\n\n   console.log(this.Newsdata);\n   console.log(this.Newsdata.__zone_symbol__value);\n\n}\n\nget(url: string): Promise&lt;any&gt; {\n    return new Promise((resolve, reject) =&gt; {\n        var req = new XMLHttpRequest();\n        req.open('GET', url);\n\n        req.onload = () =&gt; {\n            if (req.status === 200) {\n                resolve(req.response);\n            } else {\n                reject(Error(req.statusText));\n            }\n        };\n\n        req.onerror = () =&gt; {\n            reject(Error('Network Error'));\n        };\n\n        req.send();\n    });\n}\n\nFetchHeadlines(url: string): Promise&lt;any&gt; {\n    console.log(\"Entered FetchHeadlines\");\n\n    return this.get(url).then(JSON.parse).catch(error =&gt; {\n        console.log('getJSON failed for', url, error);\n        throw error;\n    });\n}\n</code></pre>\n"}, {"tags": ["json", "angular", "typescript"], "answers": [{"tags": [], "owner": {"reputation": 3836, "user_id": 3003401, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7f2de9e3bd27825488f4cf0a1dd86ac0?s=128&d=identicon&r=PG&f=1", "display_name": "Cerberus", "link": "https://stackoverflow.com/users/3003401/cerberus"}, "is_accepted": true, "score": 2, "last_activity_date": 1530683388, "creation_date": 1530683388, "answer_id": 51166577, "question_id": 51166205, "link": "https://stackoverflow.com/questions/51166205/merge-the-json-data-with-same-value-in-typescript/51166577#51166577", "title": "Merge the JSON data with same value in typescript", "body": "<p>Just some snippet to start:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>// data definition\r\nconst json_before = [ {\r\n  \"banana\": [\r\n    {\r\n      \"color\": \"yellow\",\r\n      \"size\": \"small\"\r\n    },\r\n    {\r\n      \"size\": \"medium\"\r\n    },\r\n    {\r\n      \"size\": \"large\"\r\n    }\r\n  ],\r\n  \"process_name\": \"fruits\"},\r\n{\r\n  \"carnivores\": [\r\n    {\r\n      \"name\": \"lion\"\r\n    },\r\n    {\r\n      \"name\": \"tiger\"\r\n    },\r\n    {\r\n      \"name\": \"chetah\"\r\n    },\r\n    {\r\n      \"name\": \"dianosaur\"\r\n    }\r\n  ],\r\n  \"process_name\": \"animal\"},\r\n{\r\n  \"apple\": [\r\n    {\r\n      \"color\": \"red\",\r\n      \"size\": \"large\"\r\n    }\r\n  ],\r\n  \"process_name\": \"fruits\"\r\n}];\r\n\r\n// processing\r\nconst json_after = json_before.reduce((arr, next) =&gt; {\r\n  const exist = arr.find(el =&gt; el.process_name === next.process_name);\r\n  if (exist) Object.assign(exist, next);\r\n  else arr.push(next);\r\n  return arr;\r\n}, []);\r\n\r\n// check\r\nconsole.log(json_after);</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>The main idea is to use <code>reduce</code> for array traversing. To shorten the processing code, I've used <code>Object.assign</code> to modify previuosly added element, although in real code it's better to use <code>Object.keys</code> and manually check whether the properties of the previous object aren't overwritten.</p>\n\n<p>Note that this is mutating the source data (check by adding <code>console.log(json_before)</code>). Again, if you don't want this, you should clone each element yourself, without direct object assignment.</p>\n"}], "owner": {"reputation": 375, "user_id": 9133416, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5c0accf48d88e2ef625ba3dc9e31b747?s=128&d=identicon&r=PG&f=1", "display_name": "Keerthi Reddy Yeruva", "link": "https://stackoverflow.com/users/9133416/keerthi-reddy-yeruva"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 56, "favorite_count": 0, "accepted_answer_id": 51166577, "answer_count": 1, "score": 0, "last_activity_date": 1530687584, "creation_date": 1530681411, "last_edit_date": 1530687584, "question_id": 51166205, "link": "https://stackoverflow.com/questions/51166205/merge-the-json-data-with-same-value-in-typescript", "title": "Merge the JSON data with same value in typescript", "body": "<p>I have a JSON Data that I am getting from URL. I want to merge the data which has <strong>same Value</strong> Below is the sample data. I have searched through the Internet,but i didn't got the solution. All i found is for <strong>same Keys</strong>.</p>\n\n<pre><code>  [ {\n    \"banana\": [\n      {\n        \"color\": yellow,\n        \"size\": \"small\"\n      },\n      {\n        \"size\": \"medium\"\n      },\n      {\n        \"size\": \"large\"\n      }\n    ],\n    \"process_name\": \"fruits\"},{\n    \"carnivores\": [\n      {\n        \"name\": \"lion\"\n      },\n      {\n        \"name\": \"tiger\"\n      },\n      {\n        \"name\": \"chetah\"\n      },\n      {\n        \"name\": \"dianosaur\"\n      }\n    ],\n    \"process_name\": \"animal\"}, {\n    \"apple\": [\n      {\n        \"color\": red,\n        \"size\": \"large\"\n      }\n    ],\n    \"process_name\": \"fruits\"}]\n</code></pre>\n\n<p>And I want to merge the data of <code>\"process_name\" :\"fruits\"</code>  into one array as below and the result should be</p>\n\n<pre><code>[{\n\"banana\": [\n  {\n    \"color\": yellow,\n    \"size\": \"small\"\n  },\n  {\n    \"size\": \"medium\"\n  },\n  {\n    \"size\": \"large\"\n  }\n],\n\"apple\": [\n  {\n    \"color\": red,\n    \"size\": \"large\"\n  }\n],\n\"process_name\": \"fruits\"  }, {\n\"carnivores\": [\n  {\n    \"name\": \"lion\"\n  },\n  {\n    \"name\": \"tiger\"\n  },\n  {\n    \"name\": \"chetah\"\n  },\n  {\n    \"name\": \"dianosaur\"\n  }\n],\n\"process_name\": \"animal\"}]\n</code></pre>\n\n<p>can anyone help on this?</p>\n"}, {"tags": ["reactjs", "typescript", ".net-core", "react-router"], "comments": [{"owner": {"reputation": 722, "user_id": 8880590, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/BhUeC.jpg?s=128&g=1", "display_name": "Krina Soni", "link": "https://stackoverflow.com/users/8880590/krina-soni"}, "edited": false, "score": 0, "creation_date": 1530682491, "post_id": 51166095, "comment_id": 89315856, "body": "try this.  export interface BillComponentState {     children?: React.ReactNode,     bills?: BillList }"}, {"owner": {"reputation": 9214, "user_id": 2790937, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/oLqdO.png?s=128&g=1", "display_name": "hazardous", "link": "https://stackoverflow.com/users/2790937/hazardous"}, "edited": false, "score": 0, "creation_date": 1530689695, "post_id": 51166095, "comment_id": 89319310, "body": "Try sharing minimal repro code."}, {"owner": {"reputation": 1173, "user_id": 4557002, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/718279ee9730b6ba946d206b7280940d?s=128&d=identicon&r=PG&f=1", "display_name": "ddeamaral", "link": "https://stackoverflow.com/users/4557002/ddeamaral"}, "edited": false, "score": 0, "creation_date": 1530712378, "post_id": 51166095, "comment_id": 89333391, "body": "changed bills: BillList to bills?: BillList still gives me the same error unfortunately"}], "answers": [{"comments": [{"owner": {"reputation": 1173, "user_id": 4557002, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/718279ee9730b6ba946d206b7280940d?s=128&d=identicon&r=PG&f=1", "display_name": "ddeamaral", "link": "https://stackoverflow.com/users/4557002/ddeamaral"}, "edited": false, "score": 0, "creation_date": 1530712330, "post_id": 51169410, "comment_id": 89333365, "body": "I tried to change the name and passing that to the type of React.Component and I&#39;m still getting the same error under &lt;BillList /&gt;"}, {"owner": {"reputation": 214, "user_id": 3233450, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/fcsoR.jpg?s=128&g=1", "display_name": "Marco van Dijk", "link": "https://stackoverflow.com/users/3233450/marco-van-dijk"}, "reply_to_user": {"reputation": 1173, "user_id": 4557002, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/718279ee9730b6ba946d206b7280940d?s=128&d=identicon&r=PG&f=1", "display_name": "ddeamaral", "link": "https://stackoverflow.com/users/4557002/ddeamaral"}, "edited": false, "score": 0, "creation_date": 1530712869, "post_id": 51169410, "comment_id": 89333697, "body": "Can you try using RouteComponentProps&lt;any&gt; instead of RouteComponentProps&lt;{}&gt; in the BillList component?"}, {"owner": {"reputation": 1173, "user_id": 4557002, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/718279ee9730b6ba946d206b7280940d?s=128&d=identicon&r=PG&f=1", "display_name": "ddeamaral", "link": "https://stackoverflow.com/users/4557002/ddeamaral"}, "edited": false, "score": 0, "creation_date": 1530713137, "post_id": 51169410, "comment_id": 89333851, "body": "I tried changing the RouteComponentProps to &lt;any&gt; and still have the same error."}, {"owner": {"reputation": 214, "user_id": 3233450, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/fcsoR.jpg?s=128&g=1", "display_name": "Marco van Dijk", "link": "https://stackoverflow.com/users/3233450/marco-van-dijk"}, "reply_to_user": {"reputation": 1173, "user_id": 4557002, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/718279ee9730b6ba946d206b7280940d?s=128&d=identicon&r=PG&f=1", "display_name": "ddeamaral", "link": "https://stackoverflow.com/users/4557002/ddeamaral"}, "edited": false, "score": 0, "creation_date": 1530714264, "post_id": 51169410, "comment_id": 89334511, "body": "Did you try changing all mentions of RouteComponentProps to use any? That&#39;s all I can think of at this point since the error doesn&#39;t specify mention the BillList component."}, {"owner": {"reputation": 1173, "user_id": 4557002, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/718279ee9730b6ba946d206b7280940d?s=128&d=identicon&r=PG&f=1", "display_name": "ddeamaral", "link": "https://stackoverflow.com/users/4557002/ddeamaral"}, "edited": false, "score": 0, "creation_date": 1530797422, "post_id": 51169410, "comment_id": 89366741, "body": "I added a link to my github repo with the project. I&#39;m pretty certain I got all of them at least locally if not in git."}], "tags": [], "owner": {"reputation": 214, "user_id": 3233450, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/fcsoR.jpg?s=128&g=1", "display_name": "Marco van Dijk", "link": "https://stackoverflow.com/users/3233450/marco-van-dijk"}, "is_accepted": false, "score": 0, "last_activity_date": 1530693858, "creation_date": 1530693858, "answer_id": 51169410, "question_id": 51166095, "link": "https://stackoverflow.com/questions/51166095/cant-render-another-component-from-another/51169410#51169410", "title": "Can&#39;t render another component from another", "body": "<p>This code sample doesn't provide enough information to tell where the error originated from. However, the React.Component first parameter accepts the components properties and you seem to be passing on a component (BillList). Also there is a BillComponentState interface defined but never used and I don't see any actual component state.</p>\n\n<p>Based on this code sample I can only advise you to rename BillComponentState to BillComponentProps and pass this to the component instead of BillList.</p>\n\n<pre><code>import * as React from 'react';\nimport { BillList } from './BillList';\nimport * as ReactDOM from \"react-dom\";\n\nexport interface BillComponentProps {\n    children?: React.ReactNode,\n    bills: BillList\n}\n\nexport class BillComponent extends React.Component&lt;BillComponentProps&gt;{\n    public render() {\n        return &lt;div className='container-fluid'&gt;\n            &lt;div className='row'&gt;\n                &lt;div className='col-sm-3'&gt;\n                    &lt;BillList /&gt;\n                &lt;/div&gt;\n                &lt;div className='col-sm-9'&gt;\n                    {this.props.children}\n                &lt;/div&gt;\n            &lt;/div&gt;\n        &lt;/div&gt;;\n    }\n}\n</code></pre>\n\n<p>But this is just guessing since we don't know what BillList looks like.</p>\n"}], "owner": {"reputation": 1173, "user_id": 4557002, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/718279ee9730b6ba946d206b7280940d?s=128&d=identicon&r=PG&f=1", "display_name": "ddeamaral", "link": "https://stackoverflow.com/users/4557002/ddeamaral"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 112, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1530712997, "creation_date": 1530680701, "last_edit_date": 1530712997, "question_id": 51166095, "link": "https://stackoverflow.com/questions/51166095/cant-render-another-component-from-another", "title": "Can&#39;t render another component from another", "body": "<p>I am having trouble rendering another component from my current component in vs code. The error message I get is..</p>\n\n<blockquote>\n  <p>Type '{}' is not assignable to type 'IntrinsicAttributes &amp;\n  IntrinsicClassAttributes &amp; Readonly&lt;{ children?: ReactNode;\n  }> &amp; ...'.   Type '{}' is not assignable to type\n  'Readonly>'.\n      Property 'match' is missing in type '{}'.</p>\n</blockquote>\n\n<p>Here is my code..</p>\n\n<pre><code>import * as React from 'react';\nimport { BillList } from './BillList';\nimport * as ReactDOM from \"react-dom\";\n\nexport interface BillComponentState {\n    children?: React.ReactNode,\n    bills: BillList\n}\n\nexport class BillComponent extends React.Component&lt;BillList&gt;{\n    public render() {\n        return &lt;div className='container-fluid'&gt;\n            &lt;div className='row'&gt;\n                &lt;div className='col-sm-3'&gt;\n                    &lt;BillList /&gt;\n                &lt;/div&gt;\n                &lt;div className='col-sm-9'&gt;\n                    {this.props.children}\n                &lt;/div&gt;\n            &lt;/div&gt;\n        &lt;/div&gt;;\n    }\n}\n</code></pre>\n\n<p>Why can't I just render my BillList which is literally rendering a list of strings from a web api on my web server?</p>\n\n<p>Disclaimer: I'm very new to React</p>\n\n<p>EDIT: Here is the code in BillList.tsx</p>\n\n<pre><code>import * as React from 'react';\nimport { RouteComponentProps } from 'react-router';\n\ninterface BillState {\n    bills: Bill[],\n    loading: boolean\n}\n\nexport class BillList extends React.Component&lt;RouteComponentProps&lt;{}&gt;, BillState&gt;\n{\n    constructor() {\n        super();\n\n        this.state = { bills: [], loading: true };\n\n        fetch(\"api/SampleData/GetBills\")\n            .then(response =&gt; response.json() as Promise&lt;Bill[]&gt;)\n            .then(data =&gt; {\n                this.setState({\n                    bills: data,\n                    loading: false\n                });\n            });\n    }\n\n    public render() {\n\n        let contents = this.state.loading\n            ? &lt;p&gt;&lt;em&gt;Loading...&lt;/em&gt;&lt;/p&gt;\n            : BillList.renderBillsToList(this.state.bills);\n\n        return &lt;div className=\"rendered-bills\"&gt;\n            &lt;h1&gt;Bills to pay&lt;/h1&gt;\n            {contents}\n        &lt;/div&gt;\n    }\n\n    public static renderBillsToList(bills: Bill[]) {\n\n        return &lt;ul&gt;\n            {bills.map((bill, i) =&gt;\n                &lt;li key={i}&gt; {bill.name} &lt;/li&gt;\n            )}\n        &lt;/ul&gt;;\n    }\n}\n\ninterface Bill {\n    name: string;\n}\n</code></pre>\n\n<p>Here is the code in a public repo. Let me know if you need more debugging information from me.</p>\n\n<p><a href=\"https://github.com/ddeamaral/billTracker\" rel=\"nofollow noreferrer\">https://github.com/ddeamaral/billTracker</a></p>\n"}, {"tags": ["angular", "typescript", "page-refresh", "angular-local-storage"], "comments": [{"owner": {"reputation": 17877, "user_id": 6782707, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2425200c04f326a53ef0085b703369d6?s=128&d=identicon&r=PG", "display_name": "Edric", "link": "https://stackoverflow.com/users/6782707/edric"}, "edited": false, "score": 0, "creation_date": 1530679021, "post_id": 51165821, "comment_id": 89314776, "body": "BTW, it&#39;s a better idea to use <code>camelCase</code> for your functions than to use <code>camelCase</code> with underscores"}, {"owner": {"reputation": 165, "user_id": 9751137, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a880ba93bd6782f0e812dd0a2d3edfd0?s=128&d=identicon&r=PG", "display_name": "lpd", "link": "https://stackoverflow.com/users/9751137/lpd"}, "edited": false, "score": 0, "creation_date": 1530679221, "post_id": 51165821, "comment_id": 89314828, "body": "can you share your both component code"}], "answers": [{"comments": [{"owner": {"reputation": 2581, "user_id": 9956391, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7b481d275f3f4090747ba9ee3fcebb63?s=128&d=identicon&r=PG&f=1", "display_name": "Zhu", "link": "https://stackoverflow.com/users/9956391/zhu"}, "edited": false, "score": 0, "creation_date": 1530679671, "post_id": 51165876, "comment_id": 89314957, "body": "User can edit the product code in URL too,Then how can I show the same window with the user selected product details before .@Max"}, {"owner": {"reputation": 452, "user_id": 5595366, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7ebec8aa235f8d6a9a405d23c04d42f1?s=128&d=identicon&r=PG&f=1", "display_name": "Manoj", "link": "https://stackoverflow.com/users/5595366/manoj"}, "reply_to_user": {"reputation": 2581, "user_id": 9956391, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7b481d275f3f4090747ba9ee3fcebb63?s=128&d=identicon&r=PG&f=1", "display_name": "Zhu", "link": "https://stackoverflow.com/users/9956391/zhu"}, "edited": false, "score": 0, "creation_date": 1530679963, "post_id": 51165876, "comment_id": 89315053, "body": "You can&#39;t stop them from editing but you can handle it gracefully when they do like taking back to home page or showing a 404 page"}, {"owner": {"reputation": 452, "user_id": 5595366, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7ebec8aa235f8d6a9a405d23c04d42f1?s=128&d=identicon&r=PG&f=1", "display_name": "Manoj", "link": "https://stackoverflow.com/users/5595366/manoj"}, "reply_to_user": {"reputation": 2581, "user_id": 9956391, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7b481d275f3f4090747ba9ee3fcebb63?s=128&d=identicon&r=PG&f=1", "display_name": "Zhu", "link": "https://stackoverflow.com/users/9956391/zhu"}, "edited": false, "score": 0, "creation_date": 1530680158, "post_id": 51165876, "comment_id": 89315106, "body": "If your code in browser can access it then the user also can access it. There is no way to stop it. You can make it hard like putting the data in indexed db may be but it&#39;s still accessible to the user. One way i can think of is to maintain a server side session where you&#39;ll store which product user seen at last and use that when same user logs in a again"}], "tags": [], "owner": {"reputation": 452, "user_id": 5595366, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7ebec8aa235f8d6a9a405d23c04d42f1?s=128&d=identicon&r=PG&f=1", "display_name": "Manoj", "link": "https://stackoverflow.com/users/5595366/manoj"}, "is_accepted": false, "score": 3, "last_activity_date": 1530679311, "creation_date": 1530679311, "answer_id": 51165876, "question_id": 51165821, "link": "https://stackoverflow.com/questions/51165821/how-to-load-the-same-product-after-refresh-the-browser-window-in-angular-6/51165876#51165876", "title": "How to load the same product after refresh the browser window in Angular 6", "body": "<p>Instead of local storage you can use route based second component which will have id in the url like <code>/product/12132</code> where 12132 is the product id. When the user reloads the page you check if it's a valid project. If it is then show the project or redirect to first component or 404 page.</p>\n"}, {"comments": [{"owner": {"reputation": 2581, "user_id": 9956391, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7b481d275f3f4090747ba9ee3fcebb63?s=128&d=identicon&r=PG&f=1", "display_name": "Zhu", "link": "https://stackoverflow.com/users/9956391/zhu"}, "edited": false, "score": 0, "creation_date": 1530679497, "post_id": 51165891, "comment_id": 89314901, "body": "see currently on refresh the window I can show the same product by using local storage value.But the local storage value is editable .So I am looking for some alternatives."}], "tags": [], "owner": {"reputation": 174, "user_id": 7749113, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c4fc497a383da1db9307fcdcdf4c267e?s=128&d=identicon&r=PG", "display_name": "Moch. Rizal Rachmadani", "link": "https://stackoverflow.com/users/7749113/moch-rizal-rachmadani"}, "is_accepted": false, "score": 0, "last_activity_date": 1530679372, "creation_date": 1530679372, "answer_id": 51165891, "question_id": 51165821, "link": "https://stackoverflow.com/questions/51165821/how-to-load-the-same-product-after-refresh-the-browser-window-in-angular-6/51165891#51165891", "title": "How to load the same product after refresh the browser window in Angular 6", "body": "<p>I think you forget to add <code>typeof</code></p>\n\n<pre><code>If(typeof productCode == \"undefined\"){\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1189, "user_id": 10026300, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kMi2E.jpg?s=128&g=1", "display_name": "Me1o", "link": "https://stackoverflow.com/users/10026300/me1o"}, "is_accepted": false, "score": 0, "last_activity_date": 1530684836, "creation_date": 1530684836, "answer_id": 51166883, "question_id": 51165821, "link": "https://stackoverflow.com/questions/51165821/how-to-load-the-same-product-after-refresh-the-browser-window-in-angular-6/51166883#51166883", "title": "How to load the same product after refresh the browser window in Angular 6", "body": "<p>use url params.. </p>\n\n<p>first, add a param to the route of the component:</p>\n\n<p><strong>module:</strong></p>\n\n<pre><code>  { path: 'product/:id', component: ProductComponent },\n</code></pre>\n\n<p><strong>Your url:</strong></p>\n\n<pre><code>yourapp/product/789329048\n</code></pre>\n\n<p>where <strong>789329048</strong> is your product id</p>\n\n<p>then in your product component.. read the url like: </p>\n\n<pre><code> this.sub = this.route.params.subscribe(params =&gt; {\n\n            let productid = params['id'];\n}\n</code></pre>\n\n<p>then pass the value productid to the api to get the details..</p>\n"}], "owner": {"reputation": 2581, "user_id": 9956391, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7b481d275f3f4090747ba9ee3fcebb63?s=128&d=identicon&r=PG&f=1", "display_name": "Zhu", "link": "https://stackoverflow.com/users/9956391/zhu"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 797, "favorite_count": 0, "answer_count": 3, "score": 1, "last_activity_date": 1530684836, "creation_date": 1530678892, "last_edit_date": 1530682809, "question_id": 51165821, "link": "https://stackoverflow.com/questions/51165821/how-to-load-the-same-product-after-refresh-the-browser-window-in-angular-6", "title": "How to load the same product after refresh the browser window in Angular 6", "body": "<p>I am new to the development world ,I am working in an angular 6 application.\nIt is an e-commerce application .</p>\n\n<p>What I want to know is ,I have 2 component from the first component I have listed  some products ,If user clicked anyone of the product the second component will get called and shown the details of the selected product ,I have completed it and working fine.</p>\n\n<p>Here if the user refresh the browser window I should show the same product details after refresh .But in my case the product code is <strong>\"undefined\" after refresh</strong>(I could not call the API with the undefined code).So I used local storage to save the product code and get the it when the second component get's called .</p>\n\n<p>If there is no product code is passed from first component ,I used the local storage value to call the API.</p>\n\n<p>But anyone can <strong>edit the local storage values</strong> ,if it is get edited then the API will return some other product or error messages.</p>\n\n<p><strong>I want to prevent it from editing or I am looking for some other logic to handle this situation safely</strong> .</p>\n\n<p>can anyone guide me to solve this .</p>\n\n<p>Thanks .</p>\n\n<p>code :</p>\n\n<pre><code>get_Product_Code(productCode: string) {\n\n    if (productCode == \"undefined\") {\n      this.selectedProduct = localStorage.getItem('Item_Code');\n    } else {\n      this.selectedProduct = productCode;\n    }\n    let key = 'Item_Code';\n    localStorage.setItem(key, this.selectedProduct);\n  }\n</code></pre>\n"}, {"tags": ["javascript", "reactjs", "typescript", "spread-syntax", "typescript-decorator"], "comments": [{"owner": {"reputation": 3197, "user_id": 4709300, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/pGfqW.jpg?s=128&g=1", "display_name": "Chris", "link": "https://stackoverflow.com/users/4709300/chris"}, "edited": false, "score": 1, "creation_date": 1530675290, "post_id": 51165299, "comment_id": 89313954, "body": "You can&#39;t, function are properties and as such will always be spread by the spread operator."}], "answers": [{"comments": [{"owner": {"reputation": 98, "user_id": 9588147, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3b9238d7bc581a9e9f70330b7e3893c2?s=128&d=identicon&r=PG&f=1", "display_name": "Orion", "link": "https://stackoverflow.com/users/9588147/orion"}, "edited": false, "score": 0, "creation_date": 1530842747, "post_id": 51165698, "comment_id": 89385523, "body": "Thanks. I was hoping for something different but this works."}], "tags": [], "owner": {"reputation": 3197, "user_id": 4709300, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/pGfqW.jpg?s=128&g=1", "display_name": "Chris", "link": "https://stackoverflow.com/users/4709300/chris"}, "is_accepted": true, "score": 1, "last_activity_date": 1530683590, "last_edit_date": 1530683590, "creation_date": 1530678023, "answer_id": 51165698, "question_id": 51165299, "link": "https://stackoverflow.com/questions/51165299/how-to-make-spread-operator-enumerate-through-non-function-properties-only/51165698#51165698", "title": "How to make spread operator enumerate through non-function properties only?", "body": "<h2>Why use a decorator when you could just remove the functions yourself</h2>\n\n<p>You can't use the spread operator to get only the non-function properties by default because functions are properties but perhaps with your <code>tsconfig</code> magic it should work, however, you can modify the object being passed to the spread operator first instead.</p>\n\n<p>To use spread syntax to get only non-function properties without the <code>tsconfig</code> magic, I would suggest using a function to filter out the function properties and then use the spread operator like so:</p>\n\n<pre><code>const filterOutFunctions = object =&gt; {\n  return Object.keys(object)\n    .filter(key =&gt; typeof(object[key]) !== 'function')\n    .reduce((filteredObj, currentItem) =&gt; {\n      filteredObj[currentItem] = object[currentItem]\n      return filteredObj\n    }, {})\n}\n\nconst objectWithFunctions = {\n  aFunction() {},\n  aProperty: 'A good ol string'\n}\n\n// Now you can do spread operator stuff with a filtered version like so:\n{...filterOutFunctions(objectWithFunctions)}\n// returns: { aProperty: 'A good ol string' }\n</code></pre>\n\n<p>The way this works is by iterating over the <code>keys</code> of <code>object</code> with <code>.filter</code> to filter out the keys that point to a function. Then we collect all of the remaining properties via assigning them to a new, empty, object with <code>.reduce</code>.</p>\n"}], "owner": {"reputation": 98, "user_id": 9588147, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3b9238d7bc581a9e9f70330b7e3893c2?s=128&d=identicon&r=PG&f=1", "display_name": "Orion", "link": "https://stackoverflow.com/users/9588147/orion"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 253, "favorite_count": 0, "accepted_answer_id": 51165698, "answer_count": 1, "score": 1, "last_activity_date": 1530684964, "creation_date": 1530674504, "last_edit_date": 1530684964, "question_id": 51165299, "link": "https://stackoverflow.com/questions/51165299/how-to-make-spread-operator-enumerate-through-non-function-properties-only", "title": "How to make spread operator enumerate through non-function properties only?", "body": "<p>Stack: ReactJS 16.x, Typescript 2.8.1, create-react-app project.</p>\n\n<p>I am getting a type error when using the spread operator to pass <code>props</code> from a TypeScript class to a React component.</p>\n\n<p>The error occurs only when the class has a function defined. If the class has a function expression variable, the spread operator works fine. I believe it has to do with the enumeration of properties on the class. So, I use a decorator to mark the function as non-enumerable but am still getting the same error. Below is the code:</p>\n\n<p><code>Message</code> is the class I am trying to spread into a React Component. </p>\n\n<pre><code>export class Message {\n  constructor() {\n    this.init2 = (msg: string) =&gt; {\n      this.msg = 'init2';\n      return this;\n    }\n  }\n\n  public msg: string;\n\n  // This works with spread operator\n  public init2: (msg: string) =&gt; Message;\n\n  // This will cause the spread operator to fail\n  public init(msg: string): Message {\n    this.msg = msg;\n    return this;\n  }\n\n  // Even with decorator to turn off enumeration, spread operator fails\n  @enumerable(false)\n  public initNoEnum(msg: string): Message {\n      this.msg = msg;\n      return this;\n  }\n}\n</code></pre>\n\n<p>ReactJS component who's prop is defined as <code>Message</code>:</p>\n\n<pre><code>export class MessageComponent extends React.Component&lt;Message, any&gt;{\n  render() {\n    return (&lt;div&gt;{this.props.msg}&lt;/div&gt;);\n  }\n}\n</code></pre>\n\n<p>Render method which uses <code>MessageComponent</code>:</p>\n\n<pre><code>  public render() {\n    const msg = new Message().init('hello world!');\n    return &lt;MessageComponent {...msg} /&gt; // The spread here fails\n  }\n</code></pre>\n\n<p>The <code>enumerable</code> decorator function:</p>\n\n<pre><code>  export function enumerable(value: boolean): any {\n      return function (target: any, propertyKey: string, descriptor: PropertyDescriptor) {\n      descriptor.enumerable = value;\n    };\n  }\n</code></pre>\n\n<p><strong>tsconfig:</strong></p>\n\n<pre><code>\"compilerOptions\": {\n  \"outDir\": \"./build\",\n  \"module\": \"esnext\",\n  \"target\": \"es5\",\n  \"lib\": [ \"es6\", \"dom\" ],\n  \"sourceMap\": true,\n  \"allowJs\": true,\n  \"jsx\": \"react\",\n  \"moduleResolution\": \"node\",\n  \"rootDir\": \"src\",\n  \"forceConsistentCasingInFileNames\": true,\n  \"noImplicitReturns\": true,\n  \"noImplicitThis\": true,\n  \"noImplicitAny\": true,\n  \"strictNullChecks\": true,\n  \"suppressImplicitAnyIndexErrors\": true,\n  \"noUnusedLocals\": true,\n  \"experimentalDecorators\": true\n},\n</code></pre>\n\n<p>If I comment out <code>init</code> and <code>initNoEnum</code> and keep <code>init2</code>, the spread operator works. With <code>init</code> and <code>initNoEnum</code>, the spread operator fails with similar message:</p>\n\n<blockquote>\n  <p>Type '{ msg: string; init2: (msg: string) => Message; }' is not assignable to type 'IntrinsicAttributes &amp; IntrinsicClassAttributes &amp; Readonly&lt;{ children?: ReactNod...'.   Type '{ msg: string; init2: (msg: string) => Message; }' is not assignable to type 'Readonly'. Property 'init' is missing in type '{ msg: string; init2: (msg: string) => Message; }'.</p>\n</blockquote>\n\n<p>What am I doing wrong? How do I make the spread operator only enumerate through properties and not functions?</p>\n"}, {"tags": ["javascript", "typescript", "jquery-select2", "browserify"], "owner": {"reputation": 43, "user_id": 1628694, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wcOtF.png?s=128&g=1", "display_name": "Salamek", "link": "https://stackoverflow.com/users/1628694/salamek"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 214, "favorite_count": 0, "closed_date": 1560955277, "answer_count": 0, "score": 1, "last_activity_date": 1530673810, "creation_date": 1530673810, "question_id": 51165235, "link": "https://stackoverflow.com/questions/51165235/typescript-select2-browserify-typeerror-select2-is-not-a-function", "closed_reason": "Duplicate", "title": "Typescript + select2 + browserify = TypeError: $(...).select2 is not a function", "body": "<p>i decided to migrate a one of my projects frontend to typescript + browserify (to learn this stuff), everything went well until i come across \"TypeError: $(...).select2 is not a function\"... After many wasted hours of googling and testing differend approaches,imports etc. without any result... well it is time to hit stackoverflow.com :)</p>\n\n<p>My setup is:</p>\n\n<p>(you can clone all this as testing project from here <a href=\"https://github.com/Salamek/ts-select2\" rel=\"nofollow noreferrer\">https://github.com/Salamek/ts-select2</a>) </p>\n\n<p>tsconfig.json</p>\n\n<pre><code>{\n    \"compilerOptions\": {\n        \"allowJs\": true,\n        \"target\": \"es5\",\n        \"module\": \"commonjs\",\n        \"moduleResolution\": \"node\",\n        \"sourceMap\": true\n    },\n    \"include\": [\n        \"./ts/**/*\"\n    ]\n}\n</code></pre>\n\n<p>package.json</p>\n\n<pre><code>{\n  \"dependencies\": {\n    \"jquery\": \"^3.3.1\",\n    \"select2\": \"^4.0.5\"\n  },\n  \"devDependencies\": {\n    \"@types/jquery\": \"^3.3.4\",\n    \"@types/select2\": \"^4.0.47\",\n    \"browserify\": \"^16.2.2\",\n    \"del\": \"^3.0.0\",\n    \"errorify\": \"^0.3.1\",\n    \"gulp\": \"^4.0.0\",\n    \"tsify\": \"^4.0.0\",\n    \"typescript\": \"^2.9.2\",\n    \"vinyl-source-stream\": \"^2.0.0\",\n    \"watchify\": \"^3.11.0\"\n  }\n}\n</code></pre>\n\n<p>index.html</p>\n\n<pre><code>&lt;html&gt;\n  &lt;head&gt;\n  &lt;/head&gt;\n  &lt;body&gt;\n    &lt;select class=\"select2\"&gt;\n      &lt;option&gt;Foo&lt;/option&gt;\n    &lt;/select&gt;\n  &lt;script src=\"js/bundle.js\" type=\"text/javascript\"&gt;&lt;/script&gt;\n  &lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p>gulpfile.js</p>\n\n<pre><code>const gulp = require('gulp');\nconst browserify = require('browserify');\nconst watchify = require('watchify');\nconst errorify = require('errorify');\nconst del = require('del');\nconst tsify = require('tsify');\nconst source = require('vinyl-source-stream');\n//const runSequence = require('run-sequence');\n\nfunction createBrowserifier(entry) {\n    return browserify({\n        basedir: '.',\n        debug: true,\n        entries: [entry],\n        cache: {},\n        packageCache: {}\n    })\n    .plugin(tsify)\n    .plugin(watchify)\n    .plugin(errorify);\n}\n\nfunction bundle(browserifier, bundleName, destination) {\n    return browserifier\n        .bundle()\n        .pipe(source(bundleName))\n        .pipe(gulp.dest(destination));\n}\n\ngulp.task('clean', () =&gt; {\n    return del('./js/**/*')\n});\n\ngulp.task('tsc-browserify-src', () =&gt; {\n    return bundle(\n        createBrowserifier('./ts/main.ts'),\n        'bundle.js',\n        'js');\n});\n\ngulp.task('watch', () =&gt; {\n    console.log('Watching...')\n    gulp.watch(['ts/**/*.ts'], gulp.series('clean', 'tsc-browserify-src', 'watch'));\n});\n\ngulp.task('default', gulp.series('clean', 'tsc-browserify-src', 'watch'));\n</code></pre>\n\n<p>ts/main.ts</p>\n\n<pre><code>import * as $ from \"jquery\";\ndeclare var global: any;\nglobal.jQuery = $;\nglobal.$ = $;\n\nimport \"select2\";\n\n$(function () {\n    $('.select2').select2();\n});\n</code></pre>\n\n<p>After successful gulp tsc-browserify-src task without any error i get:</p>\n\n<pre><code>Uncaught TypeError: $(...).select2 is not a function\n    at HTMLDocument.&lt;anonymous&gt; (main.ts:10)\n    at mightThrow (jquery.js:3534)\n    at process (jquery.js:3602)\n</code></pre>\n\n<p>when opening index.html in browser.</p>\n\n<p>Anyone know what to do ? What i'm doing wrong ? (till yesterday i was using plain jQuery, so pls slowly on me :-) )</p>\n\n<p><em>PS: My plan is to switch fully to angular.js for frontend stuff and abandon jQuery completely, but right now i need to get my app working with original components and rewrite app code to typescript, slowly dropping jQuery stuff...</em></p>\n"}, {"tags": ["javascript", "typescript", "promise", "synchronization"], "answers": [{"tags": [], "owner": {"reputation": 253913, "user_id": 9515207, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/34932d3e923ffad9a4a1423e30b1d9fc?s=128&d=identicon&r=PG&f=1", "display_name": "CertainPerformance", "link": "https://stackoverflow.com/users/9515207/certainperformance"}, "is_accepted": true, "score": 4, "last_activity_date": 1530667312, "last_edit_date": 1530667312, "creation_date": 1530666990, "answer_id": 51164612, "question_id": 51164585, "link": "https://stackoverflow.com/questions/51164585/promise-all-doesnt-work-as-intended/51164612#51164612", "title": "Promise.all doesn&#39;t work as intended", "body": "<p>You're not returning the promises created in <code>printName</code> to the <code>request</code> array, so <code>Promise.all</code> is being called on an array of <code>undefined</code>s (and, as a result, resolves immediately). Chain and return the promises instead.</p>\n\n<p>Often, when you use <code>Promise.all</code>, you <em>want</em> the resolved array to contain values and not <code>undefined</code>s - for that, also return <code>name</code> inside <code>getSomething.then</code> so that the <code>Promise.all</code> will resolve with an array of names:</p>\n\n<pre><code>function printName(name:string) {\n  let getSomething = new Promise(function(resolve, reject) {\n    setTimeout(function() {\n      resolve(name);  \n    },1000)\n  });\n  return getSomething.then(function(){\n    console.log(name);\n    return name; // add this line too\n  });\n}\n</code></pre>\n\n<p>Working snippet in ordinary Javascript:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"true\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code snippet-currently-hidden\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>class Person {\r\n  constructor(init){\r\n    this.name = init;\r\n  }\r\n}\r\n\r\nlet people = [];\r\nlet names = ['janes','james','jo','john','josh'];\r\nnames.forEach(n=&gt;people.push(new Person(n)));\r\n\r\nfunction printName(name) {\r\n  let getSomething = new Promise(function(resolve, reject) {\r\n    setTimeout(function() {\r\n      resolve(name);  \r\n    },1000)\r\n  });\r\n    return getSomething.then(function(){\r\n      console.log(name);\r\n      return name;\r\n    });\r\n}\r\nlet request = [];\r\nconsole.log('start');\r\npeople.forEach(person =&gt; { \r\n  request.push(printName(person.name));\r\n})\r\nPromise.all(request).then(result=&gt; {\r\n  console.log(result);\r\n  console.log(\"finsh\");\r\n})</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 805, "user_id": 6563591, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/sZUtG.jpg?s=128&g=1", "display_name": "roger", "link": "https://stackoverflow.com/users/6563591/roger"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 67, "favorite_count": 0, "accepted_answer_id": 51164612, "answer_count": 1, "score": 0, "last_activity_date": 1530747426, "creation_date": 1530666802, "last_edit_date": 1530747426, "question_id": 51164585, "link": "https://stackoverflow.com/questions/51164585/promise-all-doesnt-work-as-intended", "title": "Promise.all doesn&#39;t work as intended", "body": "<p>I have a few asynchronous calls I want to execute before my final call, and i have similar method to this <a href=\"https://stackoverflow.com/questions/42173350/synchronous-and-asynchronous-loops-in-javascript\">stackoverflow answer</a>.</p>\n\n<p>Here is the code in <a href=\"https://codepen.io/anon/pen/gKyGLM?editors=1111\" rel=\"nofollow noreferrer\">Codepen</a></p>\n\n<pre><code>class Person {\n  name: string;\n  constructor(init){\n    this.name = init;\n  }\n}\nlet people: Person[] = [];\nlet names:string[] = ['janes','james','jo','john','josh'];\nnames.forEach(n=&gt;people.push(new Person(n)));\nfunction printName(name:string) {\n  let getSomething = new Promise(function(resolve, reject) {\n    setTimeout(function() {\n      resolve(name);  \n    },1000)\n  });\n  getSomething.then(function(){\n    console.log(name);\n  });\n}\n/// main\nlet request = [];\nconsole.log('start');\npeople.forEach(person =&gt; { \n  request.push(printName(person.name));\n})\nPromise.all(request).then(result=&gt; {\n  console.log(result);\n  console.log(\"finsh\");\n})\n</code></pre>\n\n<p>What the above code produced: </p>\n\n<pre><code>\"start\"\n[undefined, undefined, undefined, undefined, undefined]\n\"finsh\"\n\"janes\"\n\"james\"\n\"jo\"\n\"john\"\n\"josh\"\n</code></pre>\n\n<p>while what I am expecting:</p>\n\n<pre><code>\"start\"\n\"janes\"\n\"james\"\n\"jo\"\n\"john\"\n\"josh\"\n[undefined, undefined, undefined, undefined, undefined]\n\"finsh\"\n</code></pre>\n"}, {"tags": ["javascript", "angular", "typescript", "ionic3"], "answers": [{"tags": [], "owner": {"reputation": 80, "user_id": 8818901, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/669cd018dc28e94c21303097a7ced639?s=128&d=identicon&r=PG&f=1", "display_name": "Ashu Mhatugade", "link": "https://stackoverflow.com/users/8818901/ashu-mhatugade"}, "is_accepted": false, "score": 1, "last_activity_date": 1530683673, "last_edit_date": 1530683673, "creation_date": 1530682891, "answer_id": 51166470, "question_id": 51164403, "link": "https://stackoverflow.com/questions/51164403/how-to-get-the-croped-image-using-croppr-js/51166470#51166470", "title": "How to get the croped image using Croppr.js?", "body": "<pre><code>If you are using ionic 3, then you can use @ionic-native/crop\": \"^4.7.0\" plugin for image crop. I have used this plugin for image crop in ionic 3.\n\nI have also used image cropping functionality in angular using \"ng2-img-cropper\" plugin. Refer below code which is used in angular project this will help you.\ndemo.ts :\nimport {ImageCropperComponent, CropperSettings, Bounds} from 'ng2-img-cropper';\n\n @ViewChild('cropper', undefined)\n    cropper:ImageCropperComponent;  \n\nconstructor( private cropperSettings: CropperSettings ) {\n        this.cropperSettings = new CropperSettings();\n        this.cropperSettings.noFileInput = true;\n    }\n\n  // To browse image \n   fileChangeListener($event) {\n        var image:any = new Image();\n        var file:File = $event.target.files[0];\n        var myReader:FileReader = new FileReader();\n        var that = this;\n        this.isfileOpen = true;\n        myReader.onloadend = function (loadEvent:any) {\n            image.src = loadEvent.target.result;\n            that.cropper.setImage(image);\n        };\n        myReader.readAsDataURL(file);\n    }\n\n  //convert cropped base64 image to image\n     var base64Blob = this.dataURItoBlob( file );\n\n   /**\n     * Function to convert base64 image \n    **/\n    dataURItoBlob = ( dataURI ) =&gt; {\n        var binary = atob( dataURI.split( ',' )[1] );\n        var array = [];\n        for ( var i = 0; i &lt; binary.length; i++ ) {\n            array.push( binary.charCodeAt( i ) );\n        }\n        return new Blob( [new Uint8Array( array )], { type: 'image/jpeg' } );\n    }\n\ndemo.html :\n&lt;img-cropper #cropper [hidden]=\"!isfileOpen\" [image]=\"data\" [settings]=\"cropperSettings\"&gt;&lt;/img-cropper&gt; \n       &lt;br&gt;\n       &lt;div class=\"file-upload\"  *ngIf=\"!isfileOpen\"&gt;\n         &lt;input id=\"custom-input\" accept=\"image/*\" class=\"textCenter\" type=\"file\" (change)=\"fileChangeListener($event)\"&gt;\n       &lt;/div&gt;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1129, "user_id": 4361584, "user_type": "registered", "accept_rate": 44, "profile_image": "https://i.stack.imgur.com/TWtkN.jpg?s=128&g=1", "display_name": "Ajantha Bandara", "link": "https://stackoverflow.com/users/4361584/ajantha-bandara"}, "is_accepted": false, "score": 0, "last_activity_date": 1530683330, "creation_date": 1530683330, "answer_id": 51166568, "question_id": 51164403, "link": "https://stackoverflow.com/questions/51164403/how-to-get-the-croped-image-using-croppr-js/51166568#51166568", "title": "How to get the croped image using Croppr.js?", "body": "<p>Found a solution.</p>\n\n<pre><code>onCropEnd(data: { x: number, y: number, width: number, height: number }): void {\n    console.log(\"On Crop End: \", data);\n\n    const canvas = &lt;HTMLCanvasElement&gt;document.getElementById('myCanvas'),\n      context = canvas.getContext('2d');\n    const image = new Image()\n\n    canvas.width = data.width;\n    canvas.height = data.height;\n    const loadedImg = &lt;HTMLImageElement&gt;document.getElementsByTagName('img')[0]\n    image.src = loadedImg.src;\n\n    context.drawImage(image, data.x, data.y, data.width, data.height, 0, 0, canvas.width, canvas.height);\n    const dataUrl = canvas.toDataURL('image/jpeg');\n\n    console.log(\"data url\", dataUrl)\n  }\n</code></pre>\n"}], "owner": {"reputation": 1129, "user_id": 4361584, "user_type": "registered", "accept_rate": 44, "profile_image": "https://i.stack.imgur.com/TWtkN.jpg?s=128&g=1", "display_name": "Ajantha Bandara", "link": "https://stackoverflow.com/users/4361584/ajantha-bandara"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 951, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1530683673, "creation_date": 1530664485, "question_id": 51164403, "link": "https://stackoverflow.com/questions/51164403/how-to-get-the-croped-image-using-croppr-js", "title": "How to get the croped image using Croppr.js?", "body": "<p>I'm working on an Ionic 3 mobile application. In there I'm using <strong><a href=\"https://jamesooi.design/Croppr.js/\" rel=\"nofollow noreferrer\">Croppr.js</a></strong> library to crop the images before uploading to the server. But I couldn't find a way to get the cropped image. This is the code that I have tried</p>\n\n<p><strong>index.html</strong></p>\n\n<pre><code>&lt;link href=\"assets/css/croppr.min.css\" rel=\"stylesheet\" /&gt;\n&lt;script src=\"assets/js/croppr.min.js\"&gt;&lt;/script&gt;\n</code></pre>\n\n<p><strong>profile.component.ts</strong></p>\n\n<pre><code>ionViewDidLoad() {\n    this._croppr = new Croppr('#croppr', {\n      maxSize: [512, 512, 'px'],\n      minSize: [128, 128, 'px'],\n      onCropStart: this.onCropStart,\n      onUpdate: this.onCropUpdate,\n      onCropEnd: this.onCropEnd\n    })\n  }\n\n  onCropEnd(data): void {\n    console.log(\"On Crop End: \", data);\n  }\n\n  onCropUpdate(data) {\n    console.log(\"On Crop Update: \", data);\n  }\n\n  onCropStart(data) {\n    console.log(\"crop start: \", data)\n  }\n</code></pre>\n\n<p><strong>home.component.html</strong></p>\n\n<pre><code>&lt;img src=\"path/to/image.jpg\" id=\"croppr\"/&gt;\n</code></pre>\n\n<p>This <code>onCropEnd</code> method only returns the dimensions of the cropped image. not the cropped image. Any knows how to get the cropped image out as <strong>File</strong> or <strong>base64</strong> string ?</p>\n"}, {"tags": ["javascript", "typescript", "oop", "interface", "polymorphism"], "comments": [{"owner": {"reputation": 2539, "user_id": 285915, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e06d9cba7384296d5aac1e5fba3762a6?s=128&d=identicon&r=PG", "display_name": "mrmcgreg", "link": "https://stackoverflow.com/users/285915/mrmcgreg"}, "edited": false, "score": 0, "creation_date": 1530665001, "post_id": 51164402, "comment_id": 89312107, "body": "which version are you using? It looks fine to me <a href=\"http://www.typescriptlang.org/play/#src=interface%20A%20%7B%0D%0A%20%20%20%20someFunction()%3A%20A%3B%0D%0A%7D%0D%0A%0D%0Aclass%20B%20implements%20A%20%7B%0D%0A%20%20%20%20someFunction()%3A%20B%20%7B%20return%20new%20B()%3B%20%7D%0D%0A%7D\" rel=\"nofollow noreferrer\">here</a>. And this approach seems fine to me."}, {"owner": {"reputation": 22049, "user_id": 6293409, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/74f518a7b20445607bcf0b09f4c26ce1?s=128&d=identicon&r=PG&f=1", "display_name": "CRice", "link": "https://stackoverflow.com/users/6293409/crice"}, "edited": false, "score": 0, "creation_date": 1530665521, "post_id": 51164402, "comment_id": 89312195, "body": "You mentioned &quot;The compiler seems to have an issue&quot;. Can you post the specific error that it generated?"}, {"owner": {"reputation": 335, "user_id": 3843659, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/Ecv5s.jpg?s=128&g=1", "display_name": "jmindel", "link": "https://stackoverflow.com/users/3843659/jmindel"}, "reply_to_user": {"reputation": 22049, "user_id": 6293409, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/74f518a7b20445607bcf0b09f4c26ce1?s=128&d=identicon&r=PG&f=1", "display_name": "CRice", "link": "https://stackoverflow.com/users/6293409/crice"}, "edited": false, "score": 0, "creation_date": 1530937790, "post_id": 51164402, "comment_id": 89420722, "body": "@CRice I&#39;ve added the error in my post. Let me know if that sheds any further light on the odd behavior."}, {"owner": {"reputation": 335, "user_id": 3843659, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/Ecv5s.jpg?s=128&g=1", "display_name": "jmindel", "link": "https://stackoverflow.com/users/3843659/jmindel"}, "reply_to_user": {"reputation": 2539, "user_id": 285915, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e06d9cba7384296d5aac1e5fba3762a6?s=128&d=identicon&r=PG", "display_name": "mrmcgreg", "link": "https://stackoverflow.com/users/285915/mrmcgreg"}, "edited": false, "score": 0, "creation_date": 1530938866, "post_id": 51164402, "comment_id": 89420896, "body": "@mrmcgreg Thank you for pointing out the version--turns out that an update (I was on 2.4.2 before) was enough to fix a few things. The setup is a bit more like <a href=\"http://www.typescriptlang.org/play/#src=interface%20A%20%7B%20%20%20%20new(str%3A%20string)%3A%20A%3B%20%20%20%20someFunction()%3A%20A%3B%7Dclass%20B%20implements%20A%20%7B%20%20%20%20constructor(str%3A%20string)%20%7B%20%7D%20%20%20%20someFunction()%3A%20B%20%7B%20return%20new%20B()%3B%20%7D%7D\" rel=\"nofollow noreferrer\">this</a> (updated the post to reflect it as well), and the issue seems to be in my declaration of a constructor in <code>A</code> instead."}], "answers": [{"comments": [{"owner": {"reputation": 335, "user_id": 3843659, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/Ecv5s.jpg?s=128&g=1", "display_name": "jmindel", "link": "https://stackoverflow.com/users/3843659/jmindel"}, "edited": false, "score": 0, "creation_date": 1531256915, "post_id": 51253478, "comment_id": 89526014, "body": "Understood. Thank you so much! I realized after updating my question that the TypeScript Handbook had some material on this, but your answer made it much clearer. For the time being, I&#39;ve switched to an abstract class instead to enforce a few different typing requirements that I&#39;ve realized make more sense to emphasize."}], "tags": [], "owner": {"reputation": 28847, "user_id": 43848, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/l6ogn.png?s=128&g=1", "display_name": "artem", "link": "https://stackoverflow.com/users/43848/artem"}, "is_accepted": true, "score": 1, "last_activity_date": 1531167801, "creation_date": 1531167801, "answer_id": 51253478, "question_id": 51164402, "link": "https://stackoverflow.com/questions/51164402/recognizing-polymorphism-between-interfaces-and-classes-in-typescript/51253478#51253478", "title": "Recognizing Polymorphism Between Interfaces and Classes in Typescript", "body": "<blockquote>\n  <p>I need that definition to be part of the agreement of what it\n  fundamentally means to be of type A</p>\n</blockquote>\n\n<p>Unfortunately there is no support for that in the language. <a href=\"https://stackoverflow.com/a/13408029/43848\">Construct signature can not be a part of contract</a> that a class is declared to implement. <code>extends</code> declares only the instance part of the contract, constructors and static methods are part of so-called <a href=\"https://stackoverflow.com/questions/39362690/difference-between-the-static-and-instance-sides-of-classes\">\"static part\"</a> and there is no way to declare a contract for that.</p>\n\n<p>TypeScript uses structural typing so you can in fact use <code>B</code> whenever an interface that specifies a construct signature is expected, but that interface must be declared separately, and the conformance will be checked every time <code>B</code> is used in-place, there is no way to declare it beforehand:</p>\n\n<pre><code>interface AConstructor {\n    new (str: string): A;\n}\n\ninterface A {\n    someFunction(str: string): A;\n}\n\nclass B implements A {\n    constructor(str: string) { /* ... */ }\n    someFunction(str: string): B { /* ... */ }\n}\n\nfunction f(cls: AConstructor) {\n    const instance = new cls('hi');\n    instance.someFunction('how are you?');\n}\n\nf(B);  // ok\n</code></pre>\n"}], "owner": {"reputation": 335, "user_id": 3843659, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/Ecv5s.jpg?s=128&g=1", "display_name": "jmindel", "link": "https://stackoverflow.com/users/3843659/jmindel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 624, "favorite_count": 2, "accepted_answer_id": 51253478, "answer_count": 1, "score": 3, "last_activity_date": 1531167801, "creation_date": 1530664474, "last_edit_date": 1530939215, "question_id": 51164402, "link": "https://stackoverflow.com/questions/51164402/recognizing-polymorphism-between-interfaces-and-classes-in-typescript", "title": "Recognizing Polymorphism Between Interfaces and Classes in Typescript", "body": "<p>I\u2019m currently working on a project in TypeScript (version 2.9.2), and have encountered an unexpected polymorphic behavior. In the likes of Java and C#, interfaces define polymorphic behavior as much as classes do\u2014that is, in the following, it is just as true that <code>item1</code> can be of type <code>A</code> as it is that it can be of type <code>B</code>, and that <code>item2</code> can be of type <code>C</code> as it is that it can be of type <code>D</code>:</p>\n\n<pre><code>interface A { }\nclass B implements A { }\nclass C { }\nclass D extends C { }\n</code></pre>\n\n<p>But in TypeScript, this seems to not be the case. I have approximately the following setup:</p>\n\n<pre><code>interface A {\n    new (str: string): Module;\n    someFunction(str: string): A;\n}\n\nclass B implements A {\n    constructor(str: string) { /* ... */ }\n    someFunction(str: string): B { /* ... */ }\n}\n</code></pre>\n\n<p>The compiler seems to have an issue with the return type of <code>B</code>\u2019s <code>someFunction()</code>, but by my understanding of polymorphism, since <code>B</code> implements <code>A</code>, if a function returns something of type <code>A</code>, then it should also be able to return something of type <code>B</code>. That being said, it doesn\u2019t make sense that something should \u201cbe of type <code>A</code>\u201d, since interfaces can\u2019t be instantiated, and are no more than an intangible agreement or contract between classes. It then seems reasonable that if <code>A</code> were to instead be an abstract class, the polymorphic behavior should behave as I expect\u2014which it indeed does\u2014but in the scope of the library I\u2019m building, it seems more proper for <code>A</code> to be an interface.</p>\n\n<p>The issue that the compiler gives in particular is as follows on the line that declares <code>B</code>'s <code>someFunction()</code>:</p>\n\n<pre><code>[ts]\nProperty 'someFunction' in type 'B' is not assignable to the same property in base type 'A'.\n  Type '(str: string) =&gt; B' is not assignable to type '(str: string) =&gt; A'.\n    Type 'B' is not assignable to type 'A'.\n      Types of property 'someFunction' are incompatible.\n        Type '(str: string) =&gt; B' is not assignable to type '(str: string) =&gt; A'.\n(method) Project.B.someFunction(str: string): B\n</code></pre>\n\n<p>Part of the problem seems to lie in the fact that I declare a constructor in <code>A</code>. If I delete that constructor definition, the problem is resolved, but I need that definition to be part of the agreement of what it fundamentally means to be of type <code>A</code>.</p>\n\n<p>Given the polymorphic behavior I expect, how might I go about writing my interface, or should I be using an abstract class instead? How do I bring this polymorphic behavior about?</p>\n"}, {"tags": ["javascript", "typescript", "ionic-framework", "ionic3", "observable"], "answers": [{"comments": [{"owner": {"reputation": 3193, "user_id": 4468277, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/amuKR.png?s=128&g=1", "display_name": "Michael Helvey", "link": "https://stackoverflow.com/users/4468277/michael-helvey"}, "edited": false, "score": 0, "creation_date": 1530807207, "post_id": 51182037, "comment_id": 89373311, "body": "Was thinking about this last night and thought you probably would want to control the concurrency of the queue...here&#39;s a fiddle using rxjs@6 <a href=\"https://jsfiddle.net/helvetici/npx1cyL2/55/\" rel=\"nofollow noreferrer\">jsfiddle.net/helvetici/npx1cyL2/55</a>  You&#39;d want to use <code>flatMapWithMaxConcurrent</code> for Rx 5 which I believe is what comes with Ionic 3 if I remember correctly though.  You&#39;d have to look up the api changes between rx versions but the operators are the same."}], "tags": [], "owner": {"reputation": 3193, "user_id": 4468277, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/amuKR.png?s=128&g=1", "display_name": "Michael Helvey", "link": "https://stackoverflow.com/users/4468277/michael-helvey"}, "is_accepted": true, "score": 1, "last_activity_date": 1530750714, "creation_date": 1530750714, "answer_id": 51182037, "question_id": 51164071, "link": "https://stackoverflow.com/questions/51164071/task-queue-with-observables/51182037#51182037", "title": "Task queue with observables", "body": "<p>I'd just grab a reference to the button, subscribe to the event stream of clicks, and use <code>flatMap</code> to pass off the click event to whatever async function does the task.  RxJS will ensure that everything is performed in order, and the beauty of Rx is that you don't have to manage any state.</p>\n\n<p>Example:</p>\n\n<pre><code>ionViewDidLoad() {\n  // grab a reference to your button.  Doesn't matter how you do it.\n  const button = document.getElementById('queueEventButton')\n\n  // Create the stream of clicks\n  Observable.fromEvent(button, 'click')\n    .flatMap(this.doTask) // pass each click event off to the async process\n    .scan( (count: number) =&gt; count + 1, 0) // this just counts the mouse click, useful for example\n    .subscribe(count =&gt; console.log(`Response received for button click #${count}!`))\n}\n\n// example task that simulates two second processing\ndoTask(event: Event): Observable&lt;Event&gt; {\n  return Observable.fromPromise(new Promise(resolve =&gt; {\n    setTimeout(() =&gt; resolve(event), 2000)\n  }))\n}\n</code></pre>\n"}], "owner": {"reputation": 55, "user_id": 9206546, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-t6CLdHRXJTw/AAAAAAAAAAI/AAAAAAAAAhY/QciW7dkpvOE/photo.jpg?sz=128", "display_name": "Vin&#237;cius Silva", "link": "https://stackoverflow.com/users/9206546/vin%c3%adcius-silva"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 559, "favorite_count": 0, "closed_date": 1530794001, "accepted_answer_id": 51182037, "answer_count": 1, "score": 0, "last_activity_date": 1530750714, "creation_date": 1530661060, "question_id": 51164071, "link": "https://stackoverflow.com/questions/51164071/task-queue-with-observables", "closed_reason": "Needs more focus", "title": "Task queue with observables", "body": "<p>I have this situation: the user of my application can tap a button that will execute a task and the task take 2 seconds to finish. I want to create a queue to execute each task in a row, sequentially.</p>\n\n<p>I'm using Ionic 3 with TypeScript.</p>\n\n<p>What is the best way to do it?</p>\n"}, {"tags": ["typescript", "ionic-framework"], "answers": [{"comments": [{"owner": {"reputation": 65, "user_id": 4402573, "user_type": "registered", "profile_image": "https://graph.facebook.com/721591787/picture?type=large", "display_name": "Cristian Saavedra", "link": "https://stackoverflow.com/users/4402573/cristian-saavedra"}, "edited": false, "score": 0, "creation_date": 1530709155, "post_id": 51163724, "comment_id": 89331322, "body": "Thank you very much, it was what I was missing. now if both signatures are the same"}], "tags": [], "owner": {"reputation": 162223, "user_id": 1704166, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/d256baab2fcfd81b0f109d394404fd67?s=128&d=identicon&r=PG", "display_name": "Ryan Cavanaugh", "link": "https://stackoverflow.com/users/1704166/ryan-cavanaugh"}, "is_accepted": true, "score": 0, "last_activity_date": 1530658149, "creation_date": 1530658149, "answer_id": 51163724, "question_id": 51163548, "link": "https://stackoverflow.com/questions/51163548/inconsistency-when-converting-to-string-in-hmacsha256-in-ionic/51163724#51163724", "title": "inconsistency when converting to string in HmacSHA256 in Ionic", "body": "<p>It looks like you're expecting a base64-encoded output, but are getting hex output because that's the default. Try passing the encoding:</p>\n\n<pre><code>var llave = CryptoJS.HmacSHA256(unido, key).toString(CryptoJS.enc.Base64);\n</code></pre>\n\n<p>Documented at <a href=\"https://github.com/jakubzapletal/crypto-js#the-hasher-output\" rel=\"nofollow noreferrer\">https://github.com/jakubzapletal/crypto-js#the-hasher-output</a></p>\n"}], "owner": {"reputation": 65, "user_id": 4402573, "user_type": "registered", "profile_image": "https://graph.facebook.com/721591787/picture?type=large", "display_name": "Cristian Saavedra", "link": "https://stackoverflow.com/users/4402573/cristian-saavedra"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 147, "favorite_count": 0, "accepted_answer_id": 51163724, "answer_count": 1, "score": 0, "last_activity_date": 1530658149, "creation_date": 1530656810, "question_id": 51163548, "link": "https://stackoverflow.com/questions/51163548/inconsistency-when-converting-to-string-in-hmacsha256-in-ionic", "title": "inconsistency when converting to string in HmacSHA256 in Ionic", "body": "<p>I want to comment on the following problem I have. I am creating a token in IONIC which for this I use the CryptoJS library. at the time of creating the signature, it gives me a totally different number than what I expect. the signature I expect is lLJuDJVb4DThZq / yP4fgYOk / 14d3piOvlSuWEI / E7po = and the one that gives me the method is the following: 94b26e0c955be034e166aff23f87e060e93fd78777a623af952b96108fc4ee9a\nI have read the documentation and I think I'm missing something but I can not catch it. I leave the code below:</p>\n\n<pre><code>GenerarToken(data)\n</code></pre>\n\n<p>{</p>\n\n<pre><code>let datos:string = btoa(JSON.stringify(data));\n\nlet encabezado:string = btoa(JSON.stringify({\n  \"typ\": \"JWT\",\n  \"alg\": \"HS256\"\n}));\n\nlet unido:string = encabezado +  \".\" + datos;\n\nvar llave = CryptoJS.HmacSHA256(unido, key).toString();\nlet token = unido + '.' + llave;\n\nreturn token; \n</code></pre>\n\n<p>}</p>\n\n<p>with respect to the header and payload I agree well, I only have the problem when creating the signature.</p>\n"}, {"tags": ["angular", "typescript", "rxjs"], "comments": [{"owner": {"reputation": 2575, "user_id": 1589218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/MthnD.jpg?s=128&g=1", "display_name": "Envil", "link": "https://stackoverflow.com/users/1589218/envil"}, "edited": false, "score": 2, "creation_date": 1530676906, "post_id": 51163313, "comment_id": 89314268, "body": "Please provide stackblitz edit link, not previewing link."}, {"owner": {"reputation": 81, "user_id": 9877913, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bc813a36e30c5984248211c0cdcc2984?s=128&d=identicon&r=PG&f=1", "display_name": "Yzak", "link": "https://stackoverflow.com/users/9877913/yzak"}, "reply_to_user": {"reputation": 2575, "user_id": 1589218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/MthnD.jpg?s=128&g=1", "display_name": "Envil", "link": "https://stackoverflow.com/users/1589218/envil"}, "edited": false, "score": 0, "creation_date": 1530804303, "post_id": 51163313, "comment_id": 89371594, "body": "<a href=\"https://stackblitz.com/edit/angular-fya5of\" rel=\"nofollow noreferrer\">stackblitz.com/edit/angular-fya5of</a>"}], "answers": [{"comments": [{"owner": {"reputation": 81, "user_id": 9877913, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bc813a36e30c5984248211c0cdcc2984?s=128&d=identicon&r=PG&f=1", "display_name": "Yzak", "link": "https://stackoverflow.com/users/9877913/yzak"}, "edited": false, "score": 0, "creation_date": 1530809890, "post_id": 51166343, "comment_id": 89374751, "body": "Which method is better?"}, {"owner": {"reputation": 255, "user_id": 5465673, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/301f8651334f03776494065ad7dbe370?s=128&d=identicon&r=PG&f=1", "display_name": "Ghanshyam", "link": "https://stackoverflow.com/users/5465673/ghanshyam"}, "reply_to_user": {"reputation": 81, "user_id": 9877913, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bc813a36e30c5984248211c0cdcc2984?s=128&d=identicon&r=PG&f=1", "display_name": "Yzak", "link": "https://stackoverflow.com/users/9877913/yzak"}, "edited": false, "score": 0, "creation_date": 1530846958, "post_id": 51166343, "comment_id": 89386322, "body": "In first case, when we want to pass data in sub component, then to use Input, Output method. And the second case use, when no any connection between 2 component or data pass from sub component to parent component. @Yzak"}], "tags": [], "owner": {"reputation": 255, "user_id": 5465673, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/301f8651334f03776494065ad7dbe370?s=128&d=identicon&r=PG&f=1", "display_name": "Ghanshyam", "link": "https://stackoverflow.com/users/5465673/ghanshyam"}, "is_accepted": false, "score": 0, "last_activity_date": 1530682174, "creation_date": 1530682174, "answer_id": 51166343, "question_id": 51163313, "link": "https://stackoverflow.com/questions/51163313/angular-2-data-binding-between-components/51166343#51166343", "title": "Angular 2 Data Binding between components", "body": "<p>There are two ways to solve your purpose.</p>\n\n<p>(1) You can create sub component(QuestionsComponent) of Parent Component(FiltersComponent). then you pass your checkbox data in sub compoent by Input/Output method.</p>\n\n<p>(2) Create one shared service. when you change in FiltersComponent ,You have to emit your data and subscribe that data in QuestionsComponent.</p>\n\n<p>Thanks,</p>\n"}], "owner": {"reputation": 81, "user_id": 9877913, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bc813a36e30c5984248211c0cdcc2984?s=128&d=identicon&r=PG&f=1", "display_name": "Yzak", "link": "https://stackoverflow.com/users/9877913/yzak"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 69, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1530805184, "creation_date": 1530655059, "last_edit_date": 1530805184, "question_id": 51163313, "link": "https://stackoverflow.com/questions/51163313/angular-2-data-binding-between-components", "title": "Angular 2 Data Binding between components", "body": "<p>Is there a way to bind data between two components, assuming they are using two related objects. </p>\n\n<p>One component is designated for filtering and the other for data results.</p>\n\n<p>When checkbox is filtered data results like response, percentage, and rank can change. </p>\n\n<p>Here's my stackblitz for reference, Feel free to edit my code!</p>\n\n<p><a href=\"http://stackblitz.com/edit/angular-fya5of\" rel=\"nofollow noreferrer\">stackblitz.com/edit/angular-fya5of</a> </p>\n"}, {"tags": ["javascript", "arrays", "angular", "typescript"], "comments": [{"owner": {"reputation": 39159, "user_id": 1541563, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/U4EOh.png?s=128&g=1", "display_name": "Patrick Roberts", "link": "https://stackoverflow.com/users/1541563/patrick-roberts"}, "edited": false, "score": 2, "creation_date": 1530649803, "post_id": 51162387, "comment_id": 89308189, "body": "It sounds like your <code>history</code> property hasn&#39;t been initialized yet, that&#39;s not a TypeScript error, that&#39;s a runtime error."}, {"owner": {"reputation": 43, "user_id": 9959144, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-TnN7pZYsPn0/AAAAAAAAAAI/AAAAAAAAAAA/BdG9mwQIb7M/photo.jpg?sz=128", "display_name": "Matt", "link": "https://stackoverflow.com/users/9959144/matt"}, "reply_to_user": {"reputation": 39159, "user_id": 1541563, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/U4EOh.png?s=128&g=1", "display_name": "Patrick Roberts", "link": "https://stackoverflow.com/users/1541563/patrick-roberts"}, "edited": false, "score": 0, "creation_date": 1530649913, "post_id": 51162387, "comment_id": 89308223, "body": "Ok , can you please mention how am i supposed to initialize it ?"}], "answers": [{"comments": [{"owner": {"reputation": 2809, "user_id": 4952551, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/aa5c7131e413943783506a7e4f6be395?s=128&d=identicon&r=PG", "display_name": "J. Pichardo", "link": "https://stackoverflow.com/users/4952551/j-pichardo"}, "edited": false, "score": 2, "creation_date": 1530650018, "post_id": 51162438, "comment_id": 89308257, "body": "That will just cause another <code>TypeError</code> due to <code>Music</code> being <code>undefined</code>. Why not initialize it"}, {"owner": {"reputation": 43, "user_id": 9959144, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-TnN7pZYsPn0/AAAAAAAAAAI/AAAAAAAAAAA/BdG9mwQIb7M/photo.jpg?sz=128", "display_name": "Matt", "link": "https://stackoverflow.com/users/9959144/matt"}, "edited": false, "score": 2, "creation_date": 1530650264, "post_id": 51162438, "comment_id": 89308345, "body": "maybe it should be like this ?, i tried it and it didn&#39;t gives any error  <code>history: {Movies:Array&lt;Media&gt;,Images:Array&lt;Media&gt;,Music:Array&lt;Media&gt;} = {Movies:[],Images:[],Music:[]};</code>"}], "tags": [], "owner": {"reputation": 22135, "user_id": 2079900, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/3dv63.jpg?s=128&g=1", "display_name": "Amit Chigadani", "link": "https://stackoverflow.com/users/2079900/amit-chigadani"}, "is_accepted": true, "score": 2, "last_activity_date": 1530663193, "last_edit_date": 1530663193, "creation_date": 1530649822, "answer_id": 51162438, "question_id": 51162387, "link": "https://stackoverflow.com/questions/51162387/how-to-declare-an-object-of-arrays-in-typescript/51162438#51162438", "title": "How to declare an object of arrays in TypeScript", "body": "<p>Initialize <code>history</code> object as follows, along with all the properties being set to <code>empty</code> array</p>\n\n<pre><code>history: {Movies: Array&lt;Media&gt;, Images: Array&lt;Media&gt;, Music: Array&lt;Media&gt;} = {\n  Movies: [],\n  Images: [],\n  Music: []\n};\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 12486, "user_id": 5640649, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/ab190da855988ffae29d287c7d55ebbe?s=128&d=identicon&r=PG", "display_name": "lealceldeiro", "link": "https://stackoverflow.com/users/5640649/lealceldeiro"}, "edited": false, "score": 1, "creation_date": 1530652084, "post_id": 51162816, "comment_id": 89308949, "body": "I think this is a valid option too. If the OP would not like to use a whole new class, maybe <a href=\"https://stackoverflow.com/questions/51162387/how-to-declare-an-object-of-arrays-in-typescript/51162802#51162802\">this answer</a> could be an option."}], "tags": [], "owner": {"reputation": 1045, "user_id": 8371135, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/RbhBC.jpg?s=128&g=1", "display_name": "Rodrigo Ferreira", "link": "https://stackoverflow.com/users/8371135/rodrigo-ferreira"}, "is_accepted": false, "score": 0, "last_activity_date": 1530651976, "creation_date": 1530651976, "answer_id": 51162816, "question_id": 51162387, "link": "https://stackoverflow.com/questions/51162387/how-to-declare-an-object-of-arrays-in-typescript/51162816#51162816", "title": "How to declare an object of arrays in TypeScript", "body": "<p>I think you can create a History class:</p>\n\n<pre><code>class History {\n    constructor(public Movies: Media[] = [], public Images: Media[] = [], public Music: Media[] = []){}\n}\n</code></pre>\n\n<p>Then in your component, you can initialize your <code>history</code> property like this:</p>\n\n<pre><code>history = new History();\n</code></pre>\n\n<p>then you can do what you tried to do:</p>\n\n<pre><code>this.history.Music.push(music);\n</code></pre>\n"}], "owner": {"reputation": 43, "user_id": 9959144, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-TnN7pZYsPn0/AAAAAAAAAAI/AAAAAAAAAAA/BdG9mwQIb7M/photo.jpg?sz=128", "display_name": "Matt", "link": "https://stackoverflow.com/users/9959144/matt"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 881, "favorite_count": 0, "accepted_answer_id": 51162438, "answer_count": 2, "score": 2, "last_activity_date": 1530663193, "creation_date": 1530649621, "last_edit_date": 1530652293, "question_id": 51162387, "link": "https://stackoverflow.com/questions/51162387/how-to-declare-an-object-of-arrays-in-typescript", "title": "How to declare an object of arrays in TypeScript", "body": "<p>I'm working with Angular 4 and I want to declare a in component class an attribute, which is an object containing multiple arrays, like the following.</p>\n\n<pre><code>history: {\n  Movies: Array&lt;Media&gt;,\n  Images: Array&lt;Media&gt;,\n  Music: Array&lt;Media&gt;,\n}; \n</code></pre>\n\n<p>The Media is an interface that looks like the following:</p>\n\n<pre><code>export interface Media {\n  size: number,\n  name: String\n} \n</code></pre>\n\n<p>When I try to push an object history elements like:</p>\n\n<pre><code>this.history.Music.push(music);\n</code></pre>\n\n<p>Given that <code>music</code> has the same type (Media).</p>\n\n<p>It gives me the following error :</p>\n\n<blockquote>\n  <p>1449 ERROR TypeError: Cannot read property 'Music' of undefined</p>\n</blockquote>\n\n<p>I guess that has something to do with the declaration.</p>\n\n<p>Note: I've already tried something like:</p>\n\n<pre><code>history: {\n  Movies: Array&lt;Media&gt;[],\n  Images: Array&lt;Media&gt;[],\n  Music: Array&lt;Media&gt;[],\n}; \n</code></pre>\n\n<p>And:</p>\n\n<pre><code>history: {\n  Movies: Media[],\n  Images: Media[],\n  Music: Media[],\n}; \n</code></pre>\n\n<p>And the same error remains.</p>\n"}, {"tags": ["typescript", "visual-studio-code"], "comments": [{"owner": {"reputation": 36705, "user_id": 306149, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/99b44e3cb23b76ce97baac83f20c6c86?s=128&d=identicon&r=PG", "display_name": "Matt Bierner", "link": "https://stackoverflow.com/users/306149/matt-bierner"}, "edited": false, "score": 0, "creation_date": 1530680960, "post_id": 51162327, "comment_id": 89315356, "body": "Are you using TypeScript 2.5 in your VS Code workspace to power the language features, or are you using the built-in TypeScript version?"}, {"owner": {"reputation": 1260, "user_id": 2284202, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/T1TRx.jpg?s=128&g=1", "display_name": "Alex Egli", "link": "https://stackoverflow.com/users/2284202/alex-egli"}, "reply_to_user": {"reputation": 36705, "user_id": 306149, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/99b44e3cb23b76ce97baac83f20c6c86?s=128&d=identicon&r=PG", "display_name": "Matt Bierner", "link": "https://stackoverflow.com/users/306149/matt-bierner"}, "edited": false, "score": 1, "creation_date": 1530797623, "post_id": 51162327, "comment_id": 89366880, "body": "I&#39;ve got it setup to use Typescript 2.5.3, the one from my workspace. I can see in the bottom info bar that it says it&#39;s using Typescript 2.5.3 as well."}, {"owner": {"reputation": 36705, "user_id": 306149, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/99b44e3cb23b76ce97baac83f20c6c86?s=128&d=identicon&r=PG", "display_name": "Matt Bierner", "link": "https://stackoverflow.com/users/306149/matt-bierner"}, "edited": false, "score": 0, "creation_date": 1530820498, "post_id": 51162327, "comment_id": 89379599, "body": "You should trying upgrading, or at least change the workspace to use TS 2.9+. There have been a number of bug fixes since 2.5"}, {"owner": {"reputation": 1260, "user_id": 2284202, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/T1TRx.jpg?s=128&g=1", "display_name": "Alex Egli", "link": "https://stackoverflow.com/users/2284202/alex-egli"}, "reply_to_user": {"reputation": 36705, "user_id": 306149, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/99b44e3cb23b76ce97baac83f20c6c86?s=128&d=identicon&r=PG", "display_name": "Matt Bierner", "link": "https://stackoverflow.com/users/306149/matt-bierner"}, "edited": false, "score": 0, "creation_date": 1530887746, "post_id": 51162327, "comment_id": 89406274, "body": "I can try that, but I&#39;m working on a web project, so I have a dozen or more other libraries dependent on the typescript library, so if I upgrade typescript I have to be careful it&#39;s compatible with all my other libraries. Ugh, typescript is such a nightmare to work with."}, {"owner": {"reputation": 1260, "user_id": 2284202, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/T1TRx.jpg?s=128&g=1", "display_name": "Alex Egli", "link": "https://stackoverflow.com/users/2284202/alex-egli"}, "reply_to_user": {"reputation": 36705, "user_id": 306149, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/99b44e3cb23b76ce97baac83f20c6c86?s=128&d=identicon&r=PG", "display_name": "Matt Bierner", "link": "https://stackoverflow.com/users/306149/matt-bierner"}, "edited": false, "score": 0, "creation_date": 1530888178, "post_id": 51162327, "comment_id": 89406509, "body": "Now I no longer get the error, but the auto-import suggestions are still not working. Maybe the problem is not with the excludes and with something else? I don&#39;t need to turn on auto-import suggestions in settings do I?"}, {"owner": {"reputation": 36705, "user_id": 306149, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/99b44e3cb23b76ce97baac83f20c6c86?s=128&d=identicon&r=PG", "display_name": "Matt Bierner", "link": "https://stackoverflow.com/users/306149/matt-bierner"}, "edited": false, "score": 0, "creation_date": 1530908937, "post_id": 51162327, "comment_id": 89415619, "body": "Upgrading TS versions will usually not break anything. Are you still seeing the prompt about excluding files on TS 2.9?"}, {"owner": {"reputation": 1260, "user_id": 2284202, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/T1TRx.jpg?s=128&g=1", "display_name": "Alex Egli", "link": "https://stackoverflow.com/users/2284202/alex-egli"}, "reply_to_user": {"reputation": 36705, "user_id": 306149, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/99b44e3cb23b76ce97baac83f20c6c86?s=128&d=identicon&r=PG", "display_name": "Matt Bierner", "link": "https://stackoverflow.com/users/306149/matt-bierner"}, "edited": false, "score": 0, "creation_date": 1531165352, "post_id": 51162327, "comment_id": 89484761, "body": "I didn&#39;t upgrade to TS 2.9 yet because it&#39;s such a big undertaking to do that when I have so many dependent libraries. I added a jsconfig.json to my project with an ignore for my bower components folders, since I have a hybrid Angular/angularJS project and I still have a lot of bower components from the angularJS left over, and now I haven&#39;t seen the warning in a day. My imports still don&#39;t work though."}, {"owner": {"reputation": 1260, "user_id": 2284202, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/T1TRx.jpg?s=128&g=1", "display_name": "Alex Egli", "link": "https://stackoverflow.com/users/2284202/alex-egli"}, "reply_to_user": {"reputation": 36705, "user_id": 306149, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/99b44e3cb23b76ce97baac83f20c6c86?s=128&d=identicon&r=PG", "display_name": "Matt Bierner", "link": "https://stackoverflow.com/users/306149/matt-bierner"}, "edited": false, "score": 0, "creation_date": 1531347446, "post_id": 51162327, "comment_id": 89567361, "body": "I tried upgrading to TS 2.9 and it slowed my build down to a crawl. Normally it takes about 30 seconds to build (TS 2.5.3) once I updated to 2.9 it took over 5 minutes. I don&#39;t know how long it would actually take, I killed it after 5 minutes. TS 2.9 is definitely unusable though."}, {"owner": {"reputation": 416, "user_id": 9646878, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/lnK6M.jpg?s=128&g=1", "display_name": "Saurabh47g", "link": "https://stackoverflow.com/users/9646878/saurabh47g"}, "edited": false, "score": 0, "creation_date": 1589451522, "post_id": 51162327, "comment_id": 109302087, "body": "It worked for me by changing the typescript version from the bottom left corner and also &quot;exclude&quot;: [&quot;<b>/node_modules/*&quot;,&quot;**/dist/</b>&quot;] in tsconfig"}], "owner": {"reputation": 1260, "user_id": 2284202, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/T1TRx.jpg?s=128&g=1", "display_name": "Alex Egli", "link": "https://stackoverflow.com/users/2284202/alex-egli"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 675, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1530649290, "creation_date": 1530649290, "question_id": 51162327, "link": "https://stackoverflow.com/questions/51162327/how-do-i-get-visual-studio-code-auto-import-etc-to-work-when-i-have-lots-of-ty", "title": "How do I get visual studio code auto-import, etc. to work when I have lots of typings files?", "body": "<p>I recently upgraded my Angular 4 project to Angular 5, and my typescript library from 2.3.4 to 2.5.3. Now whenever I open my project in visual studio code I get the warning pop-up:\n\"To enable project-wide Javascript/Typescript language features, exclude large folders with source files that you do not work on.\"</p>\n\n<p>I have already excluded node_modules and my build folders, but I still get this warning. Features like auto-import aren't working and I'm assuming it's because of this error. This is my tsconfig.json:</p>\n\n<pre><code>{\n  \"compilerOptions\": {\n    \"allowJs\": true,\n    \"target\": \"es5\",\n    \"module\": \"commonjs\",\n    \"moduleResolution\": \"node\",\n    \"sourceMap\": true,\n    \"emitDecoratorMetadata\": true,\n    \"experimentalDecorators\": true,\n    \"lib\": [ \"es2015\", \"dom\" ],\n    \"noImplicitAny\": false,\n    \"suppressImplicitAnyIndexErrors\": true,\n    \"typeRoots\": [\n      \"node_modules/@types/\"\n    ],\n    \"types\": [ \"node\", \"angular\", \"jasmine\" ]\n  },\n  \"compileOnSave\": true,\n  \"exclude\": [\n    \"**/node_modules/*\",\n    \"**/dev/*\",\n    \"**/prod/*\",\n    \"**/bower_components/*\",\n    \"**/*-aot.ts\"\n  ],\n  \"outDir\":\"build\"\n}\n</code></pre>\n\n<p>I enabled verbose logging in visual studio code, and it shows tons of typings file being included from node_modules, but no actual source. There are about 700 lines that have my source files, and lots of files like this:</p>\n\n<pre><code>c:/[PATH]/node_modules/@types/node/index.d.ts\nc:/[PATH]/node_modules/@types/jquery/index.d.ts\nc:/[PATH]/node_modules/@types/angular/index.d.ts\nc:/[PATH]/node_modules/@types/jasmine/index.d.ts\nc:/[PATH]/node_modules/@angular/material/material.d.ts\nc:/[PATH]/node_modules/@angular/material/typings/index.d.ts\nc:/[PATH]/node_modules/@angular/material/material.d.ts\nc:/[PATH]/node_modules/@angular/http/src/backends/browser_xhr.d.ts\nc:/[PATH]/node_modules/@angular/http/src/enums.d.ts\nc:/[PATH]/node_modules/@angular/http/src/headers.d.ts\nc:/[PATH]/node_modules/@angular/http/src/body.d.ts\nc:/[PATH]/node_modules/@angular/http/src/static_request.d.ts\nc:/[PATH]/node_modules/@angular/http/src/url_search_params.d.ts\nc:/[PATH]/node_modules/@angular/http/src/interfaces.d.ts\nc:/[PATH]/node_modules/@angular/http/src/base_response_options.d.ts\nc:/[PATH]/node_modules/@angular/http/src/static_response.d.ts\nc:/[PATH]/node_modules/@angular/http/src/backends/jsonp_backend.d.ts\nc:/[PATH]/node_modules/@angular/http/src/backends/xhr_backend.d.ts\nc:/[PATH]/node_modules/@angular/http/src/base_request_options.d.ts\nc:/[PATH]/node_modules/@angular/http/src/http.d.ts\nc:/[PATH]/node_modules/@angular/http/src/http_module.d.ts\nc:/[PATH]/node_modules/@angular/http/src/version.d.ts\nc:/[PATH]/node_modules/@angular/http/src/index.d.ts\nc:/[PATH]/node_modules/@angular/http/public_api.d.ts\nc:/[PATH]/node_modules/@angular/http/src/backends/browser_jsonp.d.ts\n</code></pre>\n\n<p>What configuration do I have wrong? How do I get this annoying error to stop popping up and for the typescript features to work properly now in visual studio code?</p>\n"}, {"tags": ["node.js", "typescript", "docker", "visual-studio-code", "mocha.js"], "comments": [{"owner": {"reputation": 910, "user_id": 3530965, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zryIk.jpg?s=128&g=1", "display_name": "Intellidroid", "link": "https://stackoverflow.com/users/3530965/intellidroid"}, "edited": false, "score": 0, "creation_date": 1530647282, "post_id": 51161845, "comment_id": 89307179, "body": "Not sure if this helps or not, or if I have read your question properly...but I just simply map my (node) container volume to my (local) drive that contains my vscode?"}, {"owner": {"reputation": 2971, "user_id": 1340238, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/fe02d595bdc6beb117b7c74f3399246a?s=128&d=identicon&r=PG", "display_name": "Andrew", "link": "https://stackoverflow.com/users/1340238/andrew"}, "reply_to_user": {"reputation": 910, "user_id": 3530965, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zryIk.jpg?s=128&g=1", "display_name": "Intellidroid", "link": "https://stackoverflow.com/users/3530965/intellidroid"}, "edited": false, "score": 0, "creation_date": 1530647525, "post_id": 51161845, "comment_id": 89307281, "body": "Not quite sure I follow @Intellidroid"}, {"owner": {"reputation": 910, "user_id": 3530965, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zryIk.jpg?s=128&g=1", "display_name": "Intellidroid", "link": "https://stackoverflow.com/users/3530965/intellidroid"}, "edited": false, "score": 0, "creation_date": 1530647814, "post_id": 51161845, "comment_id": 89307419, "body": "In my docker compose file I will set the volume to map to a local folder where my code is ..... so&quot; Volumes:  ./vscode-nodeserver-files: /directory-in-container&quot;"}, {"owner": {"reputation": 4889, "user_id": 686490, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/329ec62c5d36e7246966a7461aa95bef?s=128&d=identicon&r=PG&f=1", "display_name": "S..", "link": "https://stackoverflow.com/users/686490/s"}, "edited": false, "score": 0, "creation_date": 1612785916, "post_id": 51161845, "comment_id": 116866358, "body": "how do you run your mocha tests? I&#39;d guess the package script that runs them is different to that which starts your api/application and therefore mocha scripts aren&#39;t being inspected."}], "answers": [{"comments": [{"owner": {"reputation": 2971, "user_id": 1340238, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/fe02d595bdc6beb117b7c74f3399246a?s=128&d=identicon&r=PG", "display_name": "Andrew", "link": "https://stackoverflow.com/users/1340238/andrew"}, "edited": false, "score": 0, "creation_date": 1530649417, "post_id": 51162151, "comment_id": 89308023, "body": "Oh! Yeah, I have that in my docker-compose: this? <a href=\"https://github.com/andrewgu12/KSA-KExpo/blob/acc5dba0c723569e35263672a003a53cfe3cd343/docker-compose.yml#L16\" rel=\"nofollow noreferrer\">github.com/andrewgu12/KSA-KExpo/blob/&hellip;</a>"}], "tags": [], "owner": {"reputation": 910, "user_id": 3530965, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zryIk.jpg?s=128&g=1", "display_name": "Intellidroid", "link": "https://stackoverflow.com/users/3530965/intellidroid"}, "is_accepted": false, "score": 0, "last_activity_date": 1530648416, "creation_date": 1530648416, "answer_id": 51162151, "question_id": 51161845, "link": "https://stackoverflow.com/questions/51161845/debug-typescript-files-in-docker-container-with-vscode/51162151#51162151", "title": "Debug Typescript files in Docker container with VSCode", "body": "<p>I hope this makes more sense.\nIf you have a look at the Dockerfile in the server dir and then look what I do on the compose file</p>\n\n<p><a href=\"https://github.com/alphagov/sd-servicedesk-tools\" rel=\"nofollow noreferrer\">node container</a></p>\n"}], "owner": {"reputation": 2971, "user_id": 1340238, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/fe02d595bdc6beb117b7c74f3399246a?s=128&d=identicon&r=PG", "display_name": "Andrew", "link": "https://stackoverflow.com/users/1340238/andrew"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 806, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1530648416, "creation_date": 1530646851, "question_id": 51161845, "link": "https://stackoverflow.com/questions/51161845/debug-typescript-files-in-docker-container-with-vscode", "title": "Debug Typescript files in Docker container with VSCode", "body": "<p>I've been bashing my head over this over a couple hours now and can't seem to find a solution to this anywhere - </p>\n\n<p>I've a simple Node API setup in a Docker container written in Typescript and I'm trying to use VSCode to attach to it to debug. I'm able to connect to it (and the Debug console shows it) but as soon as I try to set a breakpoint I get back <code>Breakpoints set but not yet bound</code>. </p>\n\n<p>Here's my launch.json</p>\n\n<pre><code>{\n  \"version\": \"0.2.0\",\n  \"configurations\": [\n    {\n      \"name\": \"Attach to Docker\",\n      \"type\": \"node\",\n      \"request\": \"attach\",\n      \"port\":9229,\n      \"restart\": true,\n      \"sourceMaps\": false,\n      \"localRoot\": \"${workspaceRoot}\",\n      \"remoteRoot\": \"/api\",\n      \"protocol\" : \"inspector\",\n      \"trace\": \"verbose\"\n    }\n  ]\n}\n</code></pre>\n\n<p>Terminal output with debugger</p>\n\n<pre><code>web_1       | Debugger listening on ws://0.0.0.0:9229/44aca479-580c-4ecb-a104-cf80f9041538                                              \u2502\nweb_1       | For help, see: https://nodejs.org/en/docs/inspector                                                                       \nweb_1       | Debugger attached.\n</code></pre>\n\n<p>The node app gets started up with <code>node --inspect=0.0.0.0:9229</code>. I tried to run some Mocha tests but all the breakpoints I set earlier get completely ignored. Can anyone help me and take a look? Here's my current <a href=\"https://github.com/andrewgu12/KSA-KExpo/tree/redo-api\" rel=\"nofollow noreferrer\">repo</a> but I'll work on setting up a simple TS app in Docker to try and narrow down the possibilities. </p>\n\n<p>Thanks!</p>\n"}, {"tags": ["angular", "typescript", "tslint"], "comments": [{"owner": {"reputation": 109324, "user_id": 21926, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f6e61d47f9a6ec0a7a286835e51f3332?s=128&d=identicon&r=PG", "display_name": "Sean Bright", "link": "https://stackoverflow.com/users/21926/sean-bright"}, "edited": false, "score": 5, "creation_date": 1530645915, "post_id": 51161659, "comment_id": 89306674, "body": "Have you tried omitting the curly braces and the keyword &#39;return&#39;, and wrapping the object literal in parentheses?"}, {"owner": {"reputation": 22135, "user_id": 2079900, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/3dv63.jpg?s=128&g=1", "display_name": "Amit Chigadani", "link": "https://stackoverflow.com/users/2079900/amit-chigadani"}, "edited": false, "score": 0, "creation_date": 1530646406, "post_id": 51161659, "comment_id": 89306843, "body": "Error says it all! That&#39;s the answer to your question."}, {"owner": {"reputation": 998, "user_id": 8564532, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6867d0f1b8823d0f5f62b2fc3fee9189?s=128&d=identicon&r=PG", "display_name": "The224", "link": "https://stackoverflow.com/users/8564532/the224"}, "edited": false, "score": 0, "creation_date": 1530647302, "post_id": 51161659, "comment_id": 89307190, "body": "Like Amit said, Thank you :D"}], "answers": [{"comments": [{"owner": {"reputation": 998, "user_id": 8564532, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6867d0f1b8823d0f5f62b2fc3fee9189?s=128&d=identicon&r=PG", "display_name": "The224", "link": "https://stackoverflow.com/users/8564532/the224"}, "edited": false, "score": 0, "creation_date": 1530647159, "post_id": 51161675, "comment_id": 89307128, "body": "<b>So simple !</b> Thank you !"}], "tags": [], "owner": {"reputation": 127321, "user_id": 2435473, "user_type": "registered", "accept_rate": 59, "profile_image": "https://i.stack.imgur.com/8hKGc.jpg?s=128&g=1", "display_name": "Pankaj Parkar", "link": "https://stackoverflow.com/users/2435473/pankaj-parkar"}, "is_accepted": true, "score": 7, "last_activity_date": 1530646193, "last_edit_date": 1530646193, "creation_date": 1530645933, "answer_id": 51161675, "question_id": 51161659, "link": "https://stackoverflow.com/questions/51161659/how-to-map-on-a-array-and-return-a-object-with-tslint-syntactic-sugar/51161675#51161675", "title": "How to map on a array and return a object with tslint. (syntactic sugar)", "body": "<p>Simply wrap your object inside <code>()</code>(parenthesis) and remove the <code>function</code> and <code>return</code> statement. The shorthand is below.</p>\n\n<pre><code>const simple_users = users.map(u =&gt; ({ name: u.name, id: u.id}));\n</code></pre>\n\n<p>Further <code>destructuring</code> version would be more shorten.</p>\n\n<pre><code>const simple_users = users.map(({name, id}) =&gt; ({ name, id}));\n</code></pre>\n"}], "owner": {"reputation": 998, "user_id": 8564532, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6867d0f1b8823d0f5f62b2fc3fee9189?s=128&d=identicon&r=PG", "display_name": "The224", "link": "https://stackoverflow.com/users/8564532/the224"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2328, "favorite_count": 1, "accepted_answer_id": 51161675, "answer_count": 1, "score": 0, "last_activity_date": 1530646290, "creation_date": 1530645842, "last_edit_date": 1530646290, "question_id": 51161659, "link": "https://stackoverflow.com/questions/51161659/how-to-map-on-a-array-and-return-a-object-with-tslint-syntactic-sugar", "title": "How to map on a array and return a object with tslint. (syntactic sugar)", "body": "This is a pure <em>syntactic sugar</em> question.\n\n<h3>How can I iterate over a array with <code>map</code> and return a new object without having TSLint saying:</h3>\n\n<blockquote>\n  <p>This arrow function body can be simplified by omitting the curly braces and the keyword 'return', and wrapping the object literal in parentheses.</p>\n</blockquote>\n\n<p>For example, the object user:</p>\n\n<pre><code>class User {\n    constructor(\n        public id: number, \n        public first_name: string, \n        public last_name: string, \n        public gender: Date, \n        public location: number, \n    )\n}\n</code></pre>\n\n<p>And when I do this : </p>\n\n<pre><code>const simple_users = users.map(u =&gt; { return { name: u.name, id: u.id} });\n</code></pre>\n\n<p>Then this happens : </p>\n\n<pre>\n[tslint] This arrow function body can be simplified by omitting the curly braces and the\nkeyword 'return', and wrapping the object literal in parentheses. (arrow-return-shorthand)\n</pre>\n\n<p>And I want to keep the tslint rule <code>arrow-return-shorthand</code>.</p>\n"}, {"tags": ["typescript"], "answers": [{"comments": [{"owner": {"reputation": 645, "user_id": 4084010, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-NyH44ogez-w/AAAAAAAAAAI/AAAAAAAAACs/GumR2QiXheQ/photo.jpg?sz=128", "display_name": "Joseph Sikorski", "link": "https://stackoverflow.com/users/4084010/joseph-sikorski"}, "edited": false, "score": 0, "creation_date": 1530649970, "post_id": 51161871, "comment_id": 89308242, "body": "That&#39;s definitely pretty funky, and the signature of the resultant object still shows as an intersection of course, but it does give me the proper property suggestions with their types in VSCode, which is what I need."}], "tags": [], "owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "is_accepted": true, "score": 2, "last_activity_date": 1530647016, "creation_date": 1530647016, "answer_id": 51161871, "question_id": 51161567, "link": "https://stackoverflow.com/questions/51161567/given-tuple-type-of-string-constants-and-tuple-type-of-other-types-create-objec/51161871#51161871", "title": "Given tuple type of string constants and tuple type of other types, create object type with string keys and value types", "body": "<p>You can use an intersection type and mapped typed to create the objects you want: </p>\n\n<pre><code>function createZip2Object&lt;\n    K0 extends string,\n    K1 extends string\n    &gt;(names: [K0, K1]): &lt;V0, V1&gt;(v0: V0, v1: V1) =&gt; { [P in K0]: V0 } &amp; { [P in K1]: V1 };\nfunction createZip2Object(names: [string, string]): { [x: string]: any } {\n    return (...args: any[]) =&gt; ({\n        [names[0]]: args[0],\n        [names[1]]: args[1],\n    });\n}\n\nconst point = createZip2Object(['x', 'y']);\nconst p0 = point(10, 945);\n</code></pre>\n"}], "owner": {"reputation": 645, "user_id": 4084010, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-NyH44ogez-w/AAAAAAAAAAI/AAAAAAAAACs/GumR2QiXheQ/photo.jpg?sz=128", "display_name": "Joseph Sikorski", "link": "https://stackoverflow.com/users/4084010/joseph-sikorski"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 144, "favorite_count": 0, "accepted_answer_id": 51161871, "answer_count": 1, "score": 1, "last_activity_date": 1530647016, "creation_date": 1530645357, "last_edit_date": 1530646815, "question_id": 51161567, "link": "https://stackoverflow.com/questions/51161567/given-tuple-type-of-string-constants-and-tuple-type-of-other-types-create-objec", "title": "Given tuple type of string constants and tuple type of other types, create object type with string keys and value types", "body": "<p>I've been thinking about how to specify types for something like <a href=\"https://www.npmjs.com/package/daggy\" rel=\"nofollow noreferrer\">daggy</a>, where you specify a list of property names in an array and it creates some constructors.</p>\n\n<p>Essentially, I think want something like this:</p>\n\n<pre><code>[A, B] with [X, Y] =&gt; { [A]: X, [B]: Y }\n</code></pre>\n\n<p>where <code>A</code> and <code>B</code> are arbitrary string-constant-types and <code>X</code> and <code>Y</code> are any types.  e.g.</p>\n\n<pre><code>['x', 'y'] with [string, number] =&gt; { x: string, y: number }\n</code></pre>\n\n<p>Given the target use of <a href=\"https://www.npmjs.com/package/daggy\" rel=\"nofollow noreferrer\">daggy</a>, the target interface would likely end up something like</p>\n\n<pre><code>&lt;K0 extends string, K1 extends string&gt;(keys: [K0, K1])\n  =&gt; &lt;V0, V1&gt;(v0: V0, v1: V1)\n    =&gt; { [K0]: V0, [K1]: V1 }\n</code></pre>\n\n<p>One thing I noticed that is somewhat close which does work is that TS seems to accept <code>[K in NS[number]: ...</code> and <code>[K in K0|K1]</code> as valid.  The following works as expected:</p>\n\n<pre><code>function point&lt;\n  A extends string,\n  B extends string\n&gt;(names: [A, B]): { [K in A|B]: number };\nfunction point(names: any[]): { [x: string]: number } {\n  return {\n    [names[0]]: 0,\n    [names[1]]: 0,\n  };\n}\n\nconst p0 = point(['a', 'b']);\n// :: { a: number, b: number }\n</code></pre>\n\n<p>However, in this case, you can't assume the order of iteration over the members of the union, and there's no way to zip those members together with the members of another union.</p>\n\n<p>But if I try to use a <code>K extends string</code> type directly, like this:</p>\n\n<pre><code>function createZip2Object&lt;\n  K0 extends string,\n  K1 extends string\n&gt;(names: [K0, K1]): &lt;V0, V1&gt;(v0: V0, v1: V1) =&gt; { [K0]: V0, [K1]: V1 };\nfunction createZip2Object(names: [string, string]): { [x: string]: any } {\n  return (...args) =&gt; ({\n    [names[0]]: args[0],\n    [names[1]]: args[1],\n  });\n}\n\nconst point = createZip2Object(['x', 'y']);\nconst p0 = point(10, 945);\n</code></pre>\n\n<p>I get the messages <code>A computed property name in a type literal must refer to an expression whose type is a literal type or a 'unique symbol' type.</code> and <code>'K0' only refers to a type, but is being used as a value here.</code></p>\n\n<p>This error message appears even with simpler examples that don't try to hide type parametrizations in inner functions:</p>\n\n<pre><code>function boxValue&lt;K extends string, V&gt;(k: K, v: V): { [K]: V } {\n  return { [k]: v };\n}\n\nconst bv = boxValue('v', 42);\n// :: {}\n</code></pre>\n\n<p>This happens on the <a href=\"https://www.typescriptlang.org/play/index.html\" rel=\"nofollow noreferrer\">Typescript playground</a> and in VSCode with Typescript 2.9.1.</p>\n\n<p>I know I could just manually specify the type of the stuff returned by daggy's constructor creators, but I wanted to know if there was a more general way to do this.</p>\n"}, {"tags": ["javascript", "arrays", "typescript", "keyof"], "answers": [{"tags": [], "owner": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "is_accepted": true, "score": 5, "last_activity_date": 1530646724, "creation_date": 1530646724, "answer_id": 51161827, "question_id": 51161559, "link": "https://stackoverflow.com/questions/51161559/typescript-array-type-transform-with-keyof-like-method/51161827#51161827", "title": "TypeScript array type transform with keyof like method", "body": "<p>I <em>think</em> you can do something like this:</p>\n\n<pre><code>type TupleTransform&lt;T extends any[]&gt; = { [K in keyof T]:\n    K extends \"length\" ? T[K] :\n    K extends keyof any[] ? Array&lt;() =&gt; T[number]&gt;[K] :\n    () =&gt; T[K] \n}\n</code></pre>\n\n<p>It uses <a href=\"https://www.typescriptlang.org/docs/handbook/release-notes/typescript-2-8.html#conditional-types\" rel=\"noreferrer\">conditional types</a> to distinguish between the array methods and the tuple numeric-string indices.</p>\n\n<p>Let's make sure it works:</p>\n\n<pre><code>const tupleTransformer: TupleTransform&lt;[string, number]&gt; = [() =&gt; 'a', () =&gt; 5] //okay\nconst t0: () =&gt; string = tupleTransformer[0]\nconst t1: () =&gt; number = tupleTransformer[1]\nconst len: 2 = tupleTransformer.length;\nconst mapped: (string | number)[] = tupleTransformer.map(x =&gt; x()); \n</code></pre>\n\n<p>Looks okay to me.  It might differ from a \"real\" tuple in some subtle way, so caveat emptor.  Hope that helps.  Good luck!</p>\n"}], "owner": {"reputation": 359, "user_id": 3788615, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/66cd155a5a124c85a5eb8e3c129375b2?s=128&d=identicon&r=PG", "display_name": "ThaFog", "link": "https://stackoverflow.com/users/3788615/thafog"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 512, "favorite_count": 0, "accepted_answer_id": 51161827, "answer_count": 1, "score": 4, "last_activity_date": 1530646724, "creation_date": 1530645324, "last_edit_date": 1530646076, "question_id": 51161559, "link": "https://stackoverflow.com/questions/51161559/typescript-array-type-transform-with-keyof-like-method", "title": "TypeScript array type transform with keyof like method", "body": "<p>I'm trying to achieve something like clone of one array type with specified value types as array with functions which return specified values.</p>\n\n<p>Say we have array tuple like:</p>\n\n<pre><code>[string, number]\n</code></pre>\n\n<p>And what I want is to get generated type from it like:</p>\n\n<pre><code>[() =&gt; string, () =&gt; number]\n</code></pre>\n\n<p>What I've tried was to make type alias with <code>keyof</code> usage:</p>\n\n<pre><code>type tupleTransform&lt;T extends Array&lt;any&gt;&gt; = { [U in keyof T ]: (() =&gt; T[U]) };\n</code></pre>\n\n<p>And it almost worked except that it also checks for methods of <code>Array</code> so if I'll make:</p>\n\n<pre><code>const tupleTransformer: tupleTransform&lt;[string, number]&gt; = [() =&gt; 'a', () =&gt; 5]\n</code></pre>\n\n<p>It will fire me error that eg some method is not returning proper type </p>\n"}, {"tags": ["javascript", "reactjs", "typescript"], "comments": [{"owner": {"reputation": 81718, "user_id": 3617886, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/y26OT.jpg?s=128&g=1", "display_name": "Tholle", "link": "https://stackoverflow.com/users/3617886/tholle"}, "edited": false, "score": 0, "creation_date": 1530644828, "post_id": 51161409, "comment_id": 89306289, "body": "Do you still get the error if you give <code>inModal</code> a default value of <code>false</code> in your <code>Footer</code> component? <code>const Footer = ({ children, inModal = false }) ...</code>"}, {"owner": {"reputation": 6439, "user_id": 1487135, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/878873c9619c0af72ad1e15f4f1f84a6?s=128&d=identicon&r=PG&f=1", "display_name": "noblerare", "link": "https://stackoverflow.com/users/1487135/noblerare"}, "reply_to_user": {"reputation": 81718, "user_id": 3617886, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/y26OT.jpg?s=128&g=1", "display_name": "Tholle", "link": "https://stackoverflow.com/users/3617886/tholle"}, "edited": false, "score": 0, "creation_date": 1530645179, "post_id": 51161409, "comment_id": 89306402, "body": "No, the error goes away when I give a default value.  Would you mind explaining why that is and I can accept your answer?"}, {"owner": {"reputation": 81718, "user_id": 3617886, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/y26OT.jpg?s=128&g=1", "display_name": "Tholle", "link": "https://stackoverflow.com/users/3617886/tholle"}, "edited": false, "score": 0, "creation_date": 1530645272, "post_id": 51161409, "comment_id": 89306439, "body": "I think CRice gave a very nice answer below."}], "answers": [{"comments": [{"owner": {"reputation": 1375, "user_id": 535401, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/ltK0q.jpg?s=128&g=1", "display_name": "JakeRobb", "link": "https://stackoverflow.com/users/535401/jakerobb"}, "edited": false, "score": 0, "creation_date": 1615409357, "post_id": 51161536, "comment_id": 117685084, "body": "Apologies for resurrecting an old question, but could you explain <i>how</i> the error means that? What are <code>IntrinsicAttributes</code>? What&#39;s going on with the type system that causes the absence of a default value to result in that error? (I&#39;m seeing the same error, but these solutions didn&#39;t fix it for me; I&#39;m seeking a deeper understanding.)"}, {"owner": {"reputation": 22049, "user_id": 6293409, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/74f518a7b20445607bcf0b09f4c26ce1?s=128&d=identicon&r=PG&f=1", "display_name": "CRice", "link": "https://stackoverflow.com/users/6293409/crice"}, "reply_to_user": {"reputation": 1375, "user_id": 535401, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/ltK0q.jpg?s=128&g=1", "display_name": "JakeRobb", "link": "https://stackoverflow.com/users/535401/jakerobb"}, "edited": false, "score": 0, "creation_date": 1615411930, "post_id": 51161536, "comment_id": 117686151, "body": "@JakeRobb In this case the whole deduction came from only the last part of the error: <code>Property &#39;inModal&#39; is missing in type &#39;{ children: Element; }</code>, which spells it out pretty directly. The type system shows an error since the prop is marked required; it can&#39;t be left unspecified as it was originally written (see answer for detail on that). As for <code>IntrinsicAttributes</code>? It is the type representing the props that all react components must accept (and fyi: there is only one such prop, <code>key</code>, an optional <code>string | number</code>). If you are really stuck, perhaps consider asking a new question?"}], "tags": [], "owner": {"reputation": 22049, "user_id": 6293409, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/74f518a7b20445607bcf0b09f4c26ce1?s=128&d=identicon&r=PG&f=1", "display_name": "CRice", "link": "https://stackoverflow.com/users/6293409/crice"}, "is_accepted": true, "score": 8, "last_activity_date": 1530645212, "creation_date": 1530645212, "answer_id": 51161536, "question_id": 51161409, "link": "https://stackoverflow.com/questions/51161409/typescript-intrinsicattributes-and-children-type-issues-when-typing-react-comp/51161536#51161536", "title": "Typescript - IntrinsicAttributes and children type issues when typing React components", "body": "<p>The error is indicating that the <code>Footer</code> component requires a prop <code>inModal</code> to be passed to it. To fix the issue, you can either:</p>\n\n<p>Give it a default value:</p>\n\n<pre><code>const Footer = ({ children, inModal = false }) =&gt; ...\n</code></pre>\n\n<p>Tell typescript that it's optional:</p>\n\n<pre><code>const Footer = ({ children, inModal }: {children: any, inModal?: boolean}) =&gt; ...\n</code></pre>\n\n<p>Or explicitly provide that prop whenever you use the footer:</p>\n\n<pre><code>&lt;Footer inModal={false}&gt; ... &lt;/Footer&gt;\n</code></pre>\n"}], "owner": {"reputation": 6439, "user_id": 1487135, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/878873c9619c0af72ad1e15f4f1f84a6?s=128&d=identicon&r=PG&f=1", "display_name": "noblerare", "link": "https://stackoverflow.com/users/1487135/noblerare"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 8892, "favorite_count": 0, "accepted_answer_id": 51161536, "answer_count": 1, "score": 4, "last_activity_date": 1530647135, "creation_date": 1530644682, "last_edit_date": 1530647135, "question_id": 51161409, "link": "https://stackoverflow.com/questions/51161409/typescript-intrinsicattributes-and-children-type-issues-when-typing-react-comp", "title": "Typescript - IntrinsicAttributes and children type issues when typing React components", "body": "<p>I am migrating my React files to <code>.tsx</code> and have come across this issue.</p>\n\n<p><strong>Footer.tsx</strong></p>\n\n<pre><code>const Footer = ({ children, inModal }) =&gt; (\n    &lt;footer className={'(inModal ? \" in-modal\" : \"\") }&gt;\n        &lt;div&gt;\n            {children}\n        &lt;/div&gt;\n    &lt;/footer&gt;\n);\n\nexport default Footer;\n</code></pre>\n\n<p><strong>ParentComponent.tsx</strong></p>\n\n<pre><code>import Footer from 'path/to/Footer';\n\nexport class ParentComponent extends React.Component&lt;{ showSomething: (() =&gt; void) }&gt; {\n    render() {\n        return (\n            &lt;Footer&gt;\n                &lt;Button onClick={() =&gt; this.props.showSomething()}&gt;Add&lt;/Button&gt;\n            &lt;/Footer&gt;\n        );\n    }\n}\n</code></pre>\n\n<p>There is a red underline underneath the <code>&lt;Footer&gt;</code> tag with the error:</p>\n\n<blockquote>\n  <p>[ts] Type '{ children: Element; }' is not assignable to type\n  'IntrinsicAttributes &amp; { children: any; inModal: any; }'.   Type '{\n  children: Element; }' is not assignable to type '{ children: any;\n  inModal: any; }'.\n      Property 'inModal' is missing in type '{ children: Element; }'.</p>\n</blockquote>\n\n<p>I'm not quite sure how to decipher what that means. Any help would be greatly appreciated.</p>\n"}, {"tags": ["typescript", "typescript2.0"], "comments": [{"owner": {"reputation": 127321, "user_id": 2435473, "user_type": "registered", "accept_rate": 59, "profile_image": "https://i.stack.imgur.com/8hKGc.jpg?s=128&g=1", "display_name": "Pankaj Parkar", "link": "https://stackoverflow.com/users/2435473/pankaj-parkar"}, "edited": false, "score": 2, "creation_date": 1530643226, "post_id": 51161068, "comment_id": 89305569, "body": "<code>private model: IParentProfile = {}</code>;"}, {"owner": {"reputation": 10321, "user_id": 215552, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/26bda02894d869c95f620de4b7cd386d?s=128&d=identicon&r=PG", "display_name": "Heretic Monkey", "link": "https://stackoverflow.com/users/215552/heretic-monkey"}, "edited": false, "score": 0, "creation_date": 1530643381, "post_id": 51161068, "comment_id": 89305648, "body": "Please <a href=\"https://stackoverflow.com/posts/51161068/edit\">edit</a> your title. It&#39;s not clear what word is meant by &quot;y&quot;. &quot;by&quot;? &quot;and&quot; (from the Spanish)?"}, {"owner": {"reputation": 1, "user_id": 8291684, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/GjzJH.png?s=128&g=1", "display_name": "OPV", "link": "https://stackoverflow.com/users/8291684/opv"}, "edited": false, "score": 0, "creation_date": 1530643761, "post_id": 51161068, "comment_id": 89305817, "body": "<code>private model: IParentProfile = {}</code> is not assignible to interface"}, {"owner": {"reputation": 1, "user_id": 8291684, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/GjzJH.png?s=128&g=1", "display_name": "OPV", "link": "https://stackoverflow.com/users/8291684/opv"}, "edited": false, "score": 0, "creation_date": 1530643814, "post_id": 51161068, "comment_id": 89305838, "body": "I dont want to do this: private model:` ITeacherProfile = {  fullname: string;   school: &quot;1&quot;;   email: &quot;1&quot;;   phone: &quot;1&quot;; };`"}, {"owner": {"reputation": 1, "user_id": 8291684, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/GjzJH.png?s=128&g=1", "display_name": "OPV", "link": "https://stackoverflow.com/users/8291684/opv"}, "edited": false, "score": 0, "creation_date": 1530643900, "post_id": 51161068, "comment_id": 89305870, "body": "And it is ugly to check if property exist"}, {"owner": {"reputation": 1, "user_id": 8291684, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/GjzJH.png?s=128&g=1", "display_name": "OPV", "link": "https://stackoverflow.com/users/8291684/opv"}, "edited": false, "score": 0, "creation_date": 1530644126, "post_id": 51161068, "comment_id": 89305973, "body": "Seem it works: <code>private model: IParentProfile = &lt;IParentProfile&gt;{};</code>"}, {"owner": {"reputation": 1393, "user_id": 8456062, "user_type": "registered", "profile_image": "https://graph.facebook.com/1423344851113585/picture?type=large", "display_name": "Christophe Chenel", "link": "https://stackoverflow.com/users/8456062/christophe-chenel"}, "edited": false, "score": 0, "creation_date": 1530646053, "post_id": 51161068, "comment_id": 89306726, "body": "I did this and it works: private model: IParentProfile = {};  but visual studio code underline it and it gives me an error at compile time.  It solve my problem but.. still"}, {"owner": {"reputation": 2150, "user_id": 3697695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/5f49197df1d151d4c42bdfc05177cb4d?s=128&d=identicon&r=PG", "display_name": "Joel", "link": "https://stackoverflow.com/users/3697695/joel"}, "reply_to_user": {"reputation": 1393, "user_id": 8456062, "user_type": "registered", "profile_image": "https://graph.facebook.com/1423344851113585/picture?type=large", "display_name": "Christophe Chenel", "link": "https://stackoverflow.com/users/8456062/christophe-chenel"}, "edited": false, "score": 0, "creation_date": 1530646805, "post_id": 51161068, "comment_id": 89307000, "body": "A real type-safe way would be to go with a builder, which could be a copy of <code>IParentProfile</code> with all fields being optional, and only when this builder is complete you could build the final object of type <code>IParentProfile</code>. But since this would be quite verbose and full of boilerplate code, you can probably do an infringement of type-safety and go with the answer suggested by @ChristopheGudlake"}, {"owner": {"reputation": 2150, "user_id": 3697695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/5f49197df1d151d4c42bdfc05177cb4d?s=128&d=identicon&r=PG", "display_name": "Joel", "link": "https://stackoverflow.com/users/3697695/joel"}, "edited": false, "score": 0, "creation_date": 1530647164, "post_id": 51161068, "comment_id": 89307133, "body": "See also: <a href=\"https://stackoverflow.com/questions/45291644/builder-pattern-using-typescript-interfaces\" title=\"builder pattern using typescript interfaces\">stackoverflow.com/questions/45291644/&hellip;</a>"}], "answers": [{"tags": [], "owner": {"reputation": 1393, "user_id": 8456062, "user_type": "registered", "profile_image": "https://graph.facebook.com/1423344851113585/picture?type=large", "display_name": "Christophe Chenel", "link": "https://stackoverflow.com/users/8456062/christophe-chenel"}, "is_accepted": true, "score": 1, "last_activity_date": 1530654695, "last_edit_date": 1530654695, "creation_date": 1530646292, "answer_id": 51161734, "question_id": 51161068, "link": "https://stackoverflow.com/questions/51161068/how-to-initialize-object-with-its-interface/51161734#51161734", "title": "How to initialize object with its interface?", "body": "<p>Try this : </p>\n\n<pre><code>   var myObject = {} as IMyInterfaceName\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 8291684, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/GjzJH.png?s=128&g=1", "display_name": "OPV", "link": "https://stackoverflow.com/users/8291684/opv"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 33, "favorite_count": 1, "accepted_answer_id": 51161734, "answer_count": 1, "score": 1, "last_activity_date": 1530663379, "creation_date": 1530643085, "last_edit_date": 1530663379, "question_id": 51161068, "link": "https://stackoverflow.com/questions/51161068/how-to-initialize-object-with-its-interface", "title": "How to initialize object with its interface?", "body": "<p>For example, I have variable with Interface type:</p>\n\n<pre><code>private model: IParentProfile;\n</code></pre>\n\n<p>There is method that assigns property:</p>\n\n<pre><code>public setProp&lt;T, K extends keyof T&gt;(value: any, key: K): T {\n    return this.model[key] = value;\n}\n</code></pre>\n\n<p>But by default <code>this.model</code> is undefined. So it occures an error when I try assign a new value.</p>\n\n<p>How to initialize <code>model</code> by default?</p>\n"}, {"tags": ["javascript", "reactjs", "typescript"], "answers": [{"tags": [], "owner": {"reputation": 81718, "user_id": 3617886, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/y26OT.jpg?s=128&g=1", "display_name": "Tholle", "link": "https://stackoverflow.com/users/3617886/tholle"}, "is_accepted": true, "score": 1, "last_activity_date": 1530643312, "last_edit_date": 1530643312, "creation_date": 1530643072, "answer_id": 51161064, "question_id": 51161030, "link": "https://stackoverflow.com/questions/51161030/refs-with-instance-variable-gives-error/51161064#51161064", "title": "Refs with instance variable gives error", "body": "<p>You can add a private class field on your component that will store the <code>name</code> HTMLInputElement.</p>\n\n<pre><code>class NameComponent extends React.Component&lt;NameComponentProps&gt; {\n    private name: HTMLInputElement;\n\n    render() {\n        return (\n            &lt;Modal&gt;\n                &lt;Modal.Header&gt;\n                    Enter Name\n                &lt;/Modal.Header&gt;\n                &lt;Modal.Body&gt;\n                    &lt;FormGroup&gt;\n                        &lt;ControlLabel&gt;Name: &lt;/ControlLabel&gt;\n                        &lt;FormControl type=\"text\"\n                            placeholder='Enter name'\n                            inputRef={(ref) =&gt; this.name = ref}\n                            onChange={() =&gt; this.props.onValidate({ name: this.name.value })}\n                        /&gt;\n                        &lt;FormControl.Feedback /&gt;\n                    &lt;/FormGroup&gt;\n               &lt;/Modal.Body&gt;\n            &lt;/Modal&gt;\n        );\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 6439, "user_id": 1487135, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/878873c9619c0af72ad1e15f4f1f84a6?s=128&d=identicon&r=PG&f=1", "display_name": "noblerare", "link": "https://stackoverflow.com/users/1487135/noblerare"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 30, "favorite_count": 0, "accepted_answer_id": 51161064, "answer_count": 1, "score": 1, "last_activity_date": 1530643338, "creation_date": 1530642935, "last_edit_date": 1530643338, "question_id": 51161030, "link": "https://stackoverflow.com/questions/51161030/refs-with-instance-variable-gives-error", "title": "Refs with instance variable gives error", "body": "<p>I have a React component that I'm migrating to <code>tsx</code> file and I'm getting an error <code>Property 'name' does not exist on type 'NameComponent'</code>.</p>\n\n<p>Here is my component:</p>\n\n<pre><code>class NameComponent extends React.Component&lt;NameComponentProps&gt; {\n    render() {\n        return (\n            &lt;Modal&gt;\n                &lt;Modal.Header&gt;\n                    Enter Name\n                &lt;/Modal.Header&gt;\n                &lt;Modal.Body&gt;\n                    &lt;FormGroup&gt;\n                        &lt;ControlLabel&gt;Name: &lt;/ControlLabel&gt;\n                        &lt;FormControl type=\"text\"\n                            placeholder='Enter name'\n                            inputRef={(ref) =&gt; this.name = ref}\n                            onChange={() =&gt; this.props.onValidate({ name: this.name.value })}\n                        /&gt;\n                        &lt;FormControl.Feedback /&gt;\n                    &lt;/FormGroup&gt;\n               &lt;/Modal.Body&gt;\n            &lt;/Modal&gt;\n        );\n    }\n}\n</code></pre>\n\n<p>There is a red undeline on the occurences of <code>this.name</code>.  This worked back when I had this file in <code>.js</code> format. </p>\n\n<p>How do I resolve this error? </p>\n"}, {"tags": ["angular", "typescript", "visual-studio-code", "observable"], "comments": [{"owner": {"reputation": 7733, "user_id": 6335049, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/sEatl.jpg?s=128&g=1", "display_name": "Narm", "link": "https://stackoverflow.com/users/6335049/narm"}, "edited": false, "score": 0, "creation_date": 1530642250, "post_id": 51160782, "comment_id": 89305132, "body": "Try setting the type of your response <code>res</code> to type <code>any</code> like <code>this.Auth.loginUser(user).subscribe((res: any)=&gt;{</code>"}, {"owner": {"reputation": 53, "user_id": 9530750, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/96bde0d4fea02454809ca3ca42f9b46f?s=128&d=identicon&r=PG&f=1", "display_name": "D95", "link": "https://stackoverflow.com/users/9530750/d95"}, "reply_to_user": {"reputation": 7733, "user_id": 6335049, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/sEatl.jpg?s=128&g=1", "display_name": "Narm", "link": "https://stackoverflow.com/users/6335049/narm"}, "edited": false, "score": 0, "creation_date": 1530642298, "post_id": 51160782, "comment_id": 89305161, "body": "Yeah its works thank you can you explain why it happend?"}, {"owner": {"reputation": 11587, "user_id": 2651006, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/21db98493eb83498d8d0443c3fa3134f?s=128&d=identicon&r=PG", "display_name": "Ploppy", "link": "https://stackoverflow.com/users/2651006/ploppy"}, "edited": false, "score": 0, "creation_date": 1530642817, "post_id": 51160782, "comment_id": 89305394, "body": "<code>res</code> is an unknown object, so none of its properties are known. Since the typescript compiler doesn&#39;t know them, it throws error. By setting the type to <code>any</code>, the compiler knows that this object can contain any property. Therefore everything is allowed which can lead to runtime errors."}, {"owner": {"reputation": 11587, "user_id": 2651006, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/21db98493eb83498d8d0443c3fa3134f?s=128&d=identicon&r=PG", "display_name": "Ploppy", "link": "https://stackoverflow.com/users/2651006/ploppy"}, "edited": false, "score": 1, "creation_date": 1530643113, "post_id": 51160782, "comment_id": 89305519, "body": "An other way to bypass compiler warnings is to use square brackets like this <code>res[&#39;token&#39;]</code>. The right way to do this is to create an interface, and parse your response to this interface, therefore, you would have no error, plus code completion for your api response."}, {"owner": {"reputation": 53, "user_id": 9530750, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/96bde0d4fea02454809ca3ca42f9b46f?s=128&d=identicon&r=PG&f=1", "display_name": "D95", "link": "https://stackoverflow.com/users/9530750/d95"}, "reply_to_user": {"reputation": 11587, "user_id": 2651006, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/21db98493eb83498d8d0443c3fa3134f?s=128&d=identicon&r=PG", "display_name": "Ploppy", "link": "https://stackoverflow.com/users/2651006/ploppy"}, "edited": false, "score": 0, "creation_date": 1530644535, "post_id": 51160782, "comment_id": 89306164, "body": "Thank you @Ploppy But small question. when we call res[&#39;token&#39;] is it create a interface to token value or any other thing happening?"}, {"owner": {"reputation": 11587, "user_id": 2651006, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/21db98493eb83498d8d0443c3fa3134f?s=128&d=identicon&r=PG", "display_name": "Ploppy", "link": "https://stackoverflow.com/users/2651006/ploppy"}, "edited": false, "score": 0, "creation_date": 1530649162, "post_id": 51160782, "comment_id": 89307934, "body": "Creating an interface will make it easier to code and prevent some errors, though it is not mandatory."}], "answers": [{"tags": [], "owner": {"reputation": 1161, "user_id": 5597085, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/y2wtF.jpg?s=128&g=1", "display_name": "Kyle Burkett", "link": "https://stackoverflow.com/users/5597085/kyle-burkett"}, "is_accepted": true, "score": 0, "last_activity_date": 1530643027, "creation_date": 1530643027, "answer_id": 51161053, "question_id": 51160782, "link": "https://stackoverflow.com/questions/51160782/angular-login-authentication-error/51161053#51161053", "title": "Angular login Authentication Error", "body": "<p>What you define in Node for response types doesn't carry over to your typescript.. you have to define it manually.</p>\n\n<p>By referencing <code>resp.user</code> and <code>resp.token</code> Angular expects you to define your response to declare these objects. By setting <code>resp: any</code> you are telling Angular not to actually care to look for matching types.</p>\n\n<p>If you always expect your response here to contain a user and token, it would be better to declare the response:</p>\n\n<pre><code>resp: {\nuser: string,\ntoken: string \n}\n</code></pre>\n"}], "owner": {"reputation": 53, "user_id": 9530750, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/96bde0d4fea02454809ca3ca42f9b46f?s=128&d=identicon&r=PG&f=1", "display_name": "D95", "link": "https://stackoverflow.com/users/9530750/d95"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 579, "favorite_count": 0, "accepted_answer_id": 51161053, "answer_count": 1, "score": 0, "last_activity_date": 1530691796, "creation_date": 1530641878, "last_edit_date": 1530691796, "question_id": 51160782, "link": "https://stackoverflow.com/questions/51160782/angular-login-authentication-error", "title": "Angular login Authentication Error", "body": "<p>I am NEW to Angular. I am using this Angular method to user to log into the system.</p>\n\n<pre><code>loginuser(){\n    const user = {\n      username: this.username,\n      password: this.password\n    };\n    this.Auth.loginUser(user).subscribe((res)=&gt;{\n      if(res){\n        this.Auth.storeData(res.token, res.user);\n        this.flashMessage.show('You are Successfully logged In.', { cssClass: 'alert-success', timeout: 5000 });\n        this.router.navigate(['/userProfile']);\n      }else{\n        this.flashMessage.show('You are Password or Username not Correct.', { cssClass: 'alert-success', timeout: 5000 });\n        this.router.navigate(['/login']);\n      }\n\n    });\n  }\n</code></pre>\n\n<p>But I got a error in my VScode editor showing like this.\n<a href=\"https://i.stack.imgur.com/dNt45.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/dNt45.png\" alt=\"enter image description here\"></a></p>\n\n<p>And my angular-cli also showing these errors.\n<a href=\"https://i.stack.imgur.com/08pvq.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/08pvq.png\" alt=\"enter image description here\"></a>\nBut in my node function I clearly define those parameters. And this is my node function.</p>\n\n<pre><code>router.post('/login', (req, res)=&gt;{\n    const name = req.body.username;\n    const password = req.body.password;\n    //console.log(password);\n    User.findByName(name,(err, user)=&gt;{\n        if(err) throw err;\n        if(!user){\n            res.json({state: false, msg:\"No User Found\"});\n            //return false;\n        }\n        User.passwordCheck(password,user.password, (err, match)=&gt;{\n            if(err) throw err;\n\n            if(match){\n                const token = jwt.sign({User} , config.secret, {expiresIn:86400*3});\n                res.json({\n                    state: true,\n                    token: \"JWT\" + token,\n                    user:{\n                        id:user._id,\n                        name:user.name,\n                        ID:user.ID,\n                        IDexpDate: user.IDexpDate\n                    }\n                });    \n            }else {\n                res.json({state:false,msg:\"password does not match\"});\n            }\n        });\n\n    });   \n    console.log(password);\n});\n</code></pre>\n\n<p>I am using Angular version 6 to develop this application. I search for this in many areas unfortunately I cannot find any problem like this. I think my service functions also will need to give an answer so this are my service files.</p>\n\n<pre><code>readonly baseURL ='http://localhost:3000/users/login';    \nstoreData(token,userdata){\n    localStorage.setItem(\"tokenid\",token);\n    localStorage.setItem(\"user\",JSON.stringify(userdata));\n    this.authtoken = token;\n    this.user= userdata\n  }\n  loginUser(user){\n    let header = new HttpHeaders();\n    header.append('Content-Type','application/json');\n\n    return this.http.post(this.baseURL,user,{headers:header});\n  }\n</code></pre>\n\n<p>But when I console.log those res.token and res.user that gives me values in my console log. My problem is why that vscode editor show me error like that. Thank you very much for you to give your valuable time to help me.</p>\n"}, {"tags": ["asp.net", "angular", "typescript", "ionic-framework", "observable"], "comments": [{"owner": {"reputation": 1013, "user_id": 5810378, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pbURV.jpg?s=128&g=1", "display_name": "Obed", "link": "https://stackoverflow.com/users/5810378/obed"}, "edited": false, "score": 0, "creation_date": 1530643285, "post_id": 51160505, "comment_id": 89305600, "body": "the this.data is not an observable, where do you get the product events from? can you share what is in the data obj"}, {"owner": {"reputation": 1130, "user_id": 9516857, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81a1c723434afbf8d85d77b4ae61310b?s=128&d=identicon&r=PG", "display_name": "Udara Abeythilake", "link": "https://stackoverflow.com/users/9516857/udara-abeythilake"}, "reply_to_user": {"reputation": 1013, "user_id": 5810378, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pbURV.jpg?s=128&g=1", "display_name": "Obed", "link": "https://stackoverflow.com/users/5810378/obed"}, "edited": false, "score": 0, "creation_date": 1530681495, "post_id": 51160505, "comment_id": 89315531, "body": "I&#39;m getting data from MongoDB . for that I&#39;m using productProvider for getting data.   postapiUrl=&quot;<a href=\"http://localhost:55427\" rel=\"nofollow noreferrer\">localhost:55427</a>&quot;;      constructor(public http: HttpClient) {     console.log(&#39;Hello ProductProvider Provider&#39;);   }   getPostedProducts(){     return new Promise(resolve =&gt; {       this.http.get(this.postapiUrl+&#39;/product&#39;).subscribe(data =&gt; {         resolve(data);       }, err =&gt; {         console.log(err);       });     });   }"}], "answers": [{"tags": [], "owner": {"reputation": 1161, "user_id": 5597085, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/y2wtF.jpg?s=128&g=1", "display_name": "Kyle Burkett", "link": "https://stackoverflow.com/users/5597085/kyle-burkett"}, "is_accepted": true, "score": 0, "last_activity_date": 1530641684, "last_edit_date": 1530641684, "creation_date": 1530641136, "answer_id": 51160612, "question_id": 51160505, "link": "https://stackoverflow.com/questions/51160505/subscribe-is-not-a-function/51160612#51160612", "title": "subscribe is not a function", "body": "<p>In your code snippet where you use .subscribe:</p>\n\n<pre><code>this.products.subscribe(productevents=&gt;{\n</code></pre>\n\n<p>You're using subscribe on the object this.products but products isn't declared in your controller as an observable.</p>\n\n<p>It looks like inside your <code>.then</code> function you are referencing the data you're intending to use... </p>\n\n<pre><code>this.products = data;\n</code></pre>\n\n<p>On this line you are setting this.products to the response from .getPostedProducts() function. If one depends on the response to be delivered successfully from the other, I recommend <code>.then</code> chaining with <code>.finally</code>. You can read about it in this post:</p>\n\n<p><a href=\"https://stackoverflow.com/questions/41130154/what-is-the-difference-between-then-and-finally-in-a-promise\">What is the difference between then and finally in a promise?</a></p>\n"}], "owner": {"reputation": 1130, "user_id": 9516857, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81a1c723434afbf8d85d77b4ae61310b?s=128&d=identicon&r=PG", "display_name": "Udara Abeythilake", "link": "https://stackoverflow.com/users/9516857/udara-abeythilake"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 74, "favorite_count": 0, "accepted_answer_id": 51160612, "answer_count": 1, "score": 0, "last_activity_date": 1530650379, "creation_date": 1530640673, "last_edit_date": 1530650379, "question_id": 51160505, "link": "https://stackoverflow.com/questions/51160505/subscribe-is-not-a-function", "title": "subscribe is not a function", "body": "<p>I'm trying to get data from ASP.net core web API and access inside the ionic 3 application. Getting data from asp.net is successfully attempted. But I want to filter the retrieve data inside the ionic app. I wrote the below code to filter products by using the subscribe function.</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>import {ProductProvider} from '../../providers/product/product';\n\nconstructor(\n    public navCtrl: NavController,\n    private camera: Camera,\n    public alertCtrl:AlertController,\n    public actionsheet:ActionSheetController,\n    public image:UploadProvider,\n    public pro:ProductProvider) {\n}\n\ngetMyproduct() {\n    this.pro.getPostedProducts()\n        .then(data =&gt; {\n            this.products = data;\n            console.log(data);\n\n            this.id = this.sellerID.id;\n            this.products.subscribe(productevents =&gt; {\n                let productevent = productevents\n\n                this.myProduct_arr = productevent.filter(event =&gt; {\n                    return event.sid=this.sellerID;\n                })\n            })\n        })\n}\n</code></pre>\n\n<pre class=\"lang-html prettyprint-override\"><code>&lt;ion-list&gt;\n  &lt;ion-item *ngFor=\"let product of myProduct_arr\"&gt;\n    &lt;p&gt; {{product.name}}&lt;/p&gt;\n    &lt;p&gt; {{product.brand}}&lt;/p&gt;\n    &lt;p&gt; {{product.price}}&lt;/p&gt;\n  &lt;/ion-item&gt;\n&lt;/ion-list&gt;\n</code></pre>\n\n<p>but when I run it I'm getting the following error:</p>\n\n<pre><code>TypeError: _this.products.subscribe is not a function\n</code></pre>\n\n<p>can anyone say what is the reason for this?</p>\n"}, {"tags": ["javascript", "angular", "typescript", "html5-video"], "answers": [{"comments": [{"owner": {"reputation": 1351, "user_id": 3450163, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/GgEzg.jpg?s=128&g=1", "display_name": "GoGo", "link": "https://stackoverflow.com/users/3450163/gogo"}, "edited": false, "score": 0, "creation_date": 1530797269, "post_id": 51161076, "comment_id": 89366635, "body": "I followed your approach. I even did the <a href=\"https://www.w3schools.com/jsref/tryit.asp?filename=tryjsref_onended_video\" rel=\"nofollow noreferrer\">w3schools.com/jsref/tryit.asp?filename=tryjsref_onended_vide&zwnj;&#8203;o</a> example. But nothing happened at my browser. No error, nothing. Am I missing something?"}, {"owner": {"reputation": 127321, "user_id": 2435473, "user_type": "registered", "accept_rate": 59, "profile_image": "https://i.stack.imgur.com/8hKGc.jpg?s=128&g=1", "display_name": "Pankaj Parkar", "link": "https://stackoverflow.com/users/2435473/pankaj-parkar"}, "reply_to_user": {"reputation": 1351, "user_id": 3450163, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/GgEzg.jpg?s=128&g=1", "display_name": "GoGo", "link": "https://stackoverflow.com/users/3450163/gogo"}, "edited": false, "score": 0, "creation_date": 1530798204, "post_id": 51161076, "comment_id": 89367243, "body": "Can you add plunker / stablitz here..?"}, {"owner": {"reputation": 1351, "user_id": 3450163, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/GgEzg.jpg?s=128&g=1", "display_name": "GoGo", "link": "https://stackoverflow.com/users/3450163/gogo"}, "edited": false, "score": 0, "creation_date": 1530798581, "post_id": 51161076, "comment_id": 89367505, "body": "<a href=\"https://plnkr.co/edit/EPLjXhaRYS7Sci2628Er\" rel=\"nofollow noreferrer\">plnkr.co/edit/EPLjXhaRYS7Sci2628Er</a>  Or the w3 link on my previous comment is the exactly the same one. Hope this helps."}, {"owner": {"reputation": 1351, "user_id": 3450163, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/GgEzg.jpg?s=128&g=1", "display_name": "GoGo", "link": "https://stackoverflow.com/users/3450163/gogo"}, "edited": false, "score": 1, "creation_date": 1530803309, "post_id": 51161076, "comment_id": 89370903, "body": "Great! I could not see that for some reason:)"}, {"owner": {"reputation": 127321, "user_id": 2435473, "user_type": "registered", "accept_rate": 59, "profile_image": "https://i.stack.imgur.com/8hKGc.jpg?s=128&g=1", "display_name": "Pankaj Parkar", "link": "https://stackoverflow.com/users/2435473/pankaj-parkar"}, "reply_to_user": {"reputation": 1351, "user_id": 3450163, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/GgEzg.jpg?s=128&g=1", "display_name": "GoGo", "link": "https://stackoverflow.com/users/3450163/gogo"}, "edited": false, "score": 0, "creation_date": 1530806340, "post_id": 51161076, "comment_id": 89372826, "body": "@GoGo what you didn&#39;t see ?"}, {"owner": {"reputation": 1351, "user_id": 3450163, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/GgEzg.jpg?s=128&g=1", "display_name": "GoGo", "link": "https://stackoverflow.com/users/3450163/gogo"}, "edited": false, "score": 0, "creation_date": 1530808060, "post_id": 51161076, "comment_id": 89373796, "body": "I did <code>isEnded: boolean = true;</code> instead of <code>false</code>."}], "tags": [], "owner": {"reputation": 127321, "user_id": 2435473, "user_type": "registered", "accept_rate": 59, "profile_image": "https://i.stack.imgur.com/8hKGc.jpg?s=128&g=1", "display_name": "Pankaj Parkar", "link": "https://stackoverflow.com/users/2435473/pankaj-parkar"}, "is_accepted": true, "score": 1, "last_activity_date": 1530802279, "last_edit_date": 1530802279, "creation_date": 1530643108, "answer_id": 51161076, "question_id": 51160242, "link": "https://stackoverflow.com/questions/51160242/how-to-disable-buttons-until-a-video-ends-in-angular/51161076#51161076", "title": "How to disable buttons until a video ends in angular?", "body": "<p>You consider spying on <code>onend</code> event to track when video ends, but as far is the button hiding part is concern, you can enable a flag as soon as video starts and end when video <code>onend</code> event triggered.</p>\n\n<p><strong>HTML</strong></p>\n\n<pre><code>&lt;video #videoplayer controls (ended)=\"videoEnd()\" style=\"width: 1200px;\"&gt;\n    &lt;source \n      src=\"https://commondatastorage.googleapis.com/gtv-videos-bucket/sample/ForBiggerEscapes.mp4\" \n      type=\"video/mp4\"&gt; \n        Your browser does not support HTML5 video.\n&lt;/video&gt;\n</code></pre>\n\n<p><strong>Component</strong></p>\n\n<pre><code>import { Component, ViewChild, ElementRef } from '@angular/core';\n\n@Component({\n  selector: 'my-app',\n  templateUrl: './app.component.html',\n  styleUrls: ['./app.component.css']\n})\nexport class AppComponent {\n  @ViewChild('videoplayer') videoplayer;\n  isEnded: boolean = false;\ndebugger\n  pauseVideo(event: any) {\n    this.videoplayer.nativeElement.pause();\n  }\n\n  playVideo(event: any) {\n    this.videoplayer.nativeElement.play();\n    this.isEnded = false\n  }\n\n  videoEnd(event: any) {\n    this.isEnded = false;\n    alert('Video Has Ended')\n  }\n}\n</code></pre>\n\n<p>To register <code>onended</code> event you could use either <code>#templateVariable</code> with combination of <code>ViewChild</code> or directly register <code>onend</code> on DOM using <code>(ended)=\"videoEnd($event)\"</code> over video element.</p>\n\n<p><a href=\"https://stackblitz.com/edit/angular-w9gifm?file=src%2Fapp%2Fapp.component.ts\" rel=\"nofollow noreferrer\"><strong>Demo Here</strong></a></p>\n"}], "owner": {"reputation": 1351, "user_id": 3450163, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/GgEzg.jpg?s=128&g=1", "display_name": "GoGo", "link": "https://stackoverflow.com/users/3450163/gogo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 301, "favorite_count": 0, "accepted_answer_id": 51161076, "answer_count": 1, "score": 1, "last_activity_date": 1530802279, "creation_date": 1530639580, "question_id": 51160242, "link": "https://stackoverflow.com/questions/51160242/how-to-disable-buttons-until-a-video-ends-in-angular", "title": "How to disable buttons until a video ends in angular?", "body": "<p>I have an mp4 video that I control from the component.ts file. My html template file is:</p>\n\n<pre><code>&lt;div class=\"row\"&gt;\n    &lt;div class=\"col-lg-12\"&gt;\n        &lt;div class=\"text-center\"&gt;\n            &lt;button class=\"btn btn-primary play-button\" (click)=\"playVideo()\"&gt;&lt;i class=\"fa fa-play fa-2x\"&gt;&lt;/i&gt; Play the video&lt;/button&gt;\n            &lt;button class=\"btn btn-secondary play-button\" (click)=\"pauseVideo()\"&gt;&lt;i class=\"fa fa-pause fa-2x\"&gt;&lt;/i&gt; Pause the video&lt;/button&gt;\n        &lt;/div&gt;\n        &lt;div class=\"pull-left\"&gt;\n            &lt;button class=\"btn btn-info play-button disabled\"&gt;&lt;i class=\"fa fa-arrow-left fa-2x\"&gt;&lt;/i&gt; Previous&lt;/button&gt;\n        &lt;/div&gt;\n        &lt;div class=\"pull-right\"&gt;\n            &lt;button class=\"btn btn-info play-button\"&gt;&lt;i class=\"fa fa-arrow-right fa-2x\"&gt;&lt;/i&gt; Next&lt;/button&gt;\n        &lt;/div&gt;\n    &lt;/div&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>And my component.ys file is:</p>\n\n<pre><code>playVideo(event: any) {\n    this.videoplayer.nativeElement.play();\n}\n\npauseVideo(event: any) {\n    this.videoplayer.nativeElement.pause();\n}\n</code></pre>\n\n<p>I would like to make <code>next</code> button disabled during the video and make it enabled after the video ends. I couldn't find a good source in angular to accomplish this. I was wondering if you could share with me a tutorial, a post or a way to accomplish this. Any help would be appreciated! \nPS: The video is not youtube video. </p>\n"}, {"tags": ["angular", "typescript"], "comments": [{"owner": {"reputation": 11538, "user_id": 885626, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ADFuG.jpg?s=128&g=1", "display_name": "Ric", "link": "https://stackoverflow.com/users/885626/ric"}, "edited": false, "score": 0, "creation_date": 1530640858, "post_id": 51160212, "comment_id": 89304463, "body": "address: this.fb.group({})....."}, {"owner": {"reputation": 1214, "user_id": 7848128, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/0655d9171caf70dd24a37a53a2c5e5b5?s=128&d=identicon&r=PG&f=1", "display_name": "JED", "link": "https://stackoverflow.com/users/7848128/jed"}, "reply_to_user": {"reputation": 11538, "user_id": 885626, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ADFuG.jpg?s=128&g=1", "display_name": "Ric", "link": "https://stackoverflow.com/users/885626/ric"}, "edited": false, "score": 0, "creation_date": 1530641764, "post_id": 51160212, "comment_id": 89304900, "body": "and then how do you do validations on that? <code>[ngClass]=&quot;{&#39;has-error&#39;: newForm.get(&#39;contact&#39;).get(&#39;addressLine1&#39;).errors}&quot;</code>?"}], "answers": [{"tags": [], "owner": {"reputation": 25363, "user_id": 118228, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/f2tOS.jpg?s=128&g=1", "display_name": "djangofan", "link": "https://stackoverflow.com/users/118228/djangofan"}, "is_accepted": false, "score": 0, "last_activity_date": 1607056421, "creation_date": 1607056421, "answer_id": 65137978, "question_id": 51160212, "link": "https://stackoverflow.com/questions/51160212/use-form-to-create-object-with-subcomponents-in-angular-5/65137978#65137978", "title": "Use form to create object with subcomponents in Angular 5", "body": "<p>In retrospect, it is easy.  Here is how I did it in my project:</p>\n<pre><code>private convertFormToSong(rawSong: {owner: string, title: string, composer: string, \\\n    key: string, data: string, meta: string}): Song {\n      return new Song(rawSong.owner, rawSong.title, rawSong.composer, rawSong.key, \\\n          JSON.parse(rawSong.data), JSON.parse(rawSong.meta));\n  }\n</code></pre>\n<p>Then, you call it like this:</p>\n<pre><code>updateSong(index: number, newSong: FormGroup) {\n    const song = this.convertFormToSong(newSong.value);\n    ...\n</code></pre>\n<p>And that stems from this call:</p>\n<pre><code>onSave() {\n    if (this.editMode) {\n      this.songsService.updateSong(this.id, this.songForm);\n    } else {\n      this.songsService.addSong(this.songForm);\n    }\n    this.onCancel();\n  }\n</code></pre>\n<p>Action captured from this:</p>\n<pre><code>&lt;form [formGroup]=&quot;songForm&quot; (ngSubmit)=&quot;onSave()&quot;&gt;\n</code></pre>\n"}], "owner": {"reputation": 1214, "user_id": 7848128, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/0655d9171caf70dd24a37a53a2c5e5b5?s=128&d=identicon&r=PG&f=1", "display_name": "JED", "link": "https://stackoverflow.com/users/7848128/jed"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 23, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1607056421, "creation_date": 1530639424, "question_id": 51160212, "link": "https://stackoverflow.com/questions/51160212/use-form-to-create-object-with-subcomponents-in-angular-5", "title": "Use form to create object with subcomponents in Angular 5", "body": "<p>I am building a form to create an <code>account</code>.</p>\n\n<p>The account model has an <code>address</code> component.</p>\n\n<p>the address has it's own model.</p>\n\n<p>How would you create a new <code>account</code> object with a fully-instantiated <code>address</code> component in the front end?</p>\n\n<p><strong>account-create.component.html</strong></p>\n\n<pre><code>&lt;form [formGroup]=\"newForm\" (ngSubmit)=\"createAccount()\"&gt;\n    &lt;div class=\"form-group\" [ngClass]=\"{'has-error': newForm.get('name').errors &amp;&amp; newForm.get('name').touched}\"&gt;\n        &lt;input type=\"text\" class=\"form-control\" placeholder=\"Account Name\" formControlName=\"name\"&gt;\n        &lt;span class=\"help-block\" *ngIf=\"newForm.get('name').hasError('required') &amp;&amp; newForm.get('name').touched\"&gt;\n            Account name is required\n        &lt;/span&gt;\n    &lt;/div&gt;\n\n    //address portion goes here\n\n    &lt;div class=\"form-group text-center\"&gt;\n        &lt;button class=\"btn btn-success\" type=\"submit\"&gt;Register&lt;/button&gt;\n    &lt;/div&gt;\n&lt;/form&gt;\n</code></pre>\n\n<p><br>\n<strong>account-create.compoent.ts</strong></p>\n\n<pre><code>import...\n\n@Component({\n  selector: 'app-account-create',\n  templateUrl: './account-create.component.html',\n  styleUrls: ['./account-create.component.css']\n})\n\nexport class AccountCreateComponent implements OnInit {\n  @Output()\n  cancelCreateNew = new EventEmitter();\n  account: Account;\n  newForm: FormGroup;\n\n  constructor(\n    private accountService: AccountService,\n    http: HttpClient,\n    @Inject(\"BASE_URL\") baseurl: string,\n    private router: Router,\n    private alertify: AlertifyService,\n    private fb: FormBuilder\n  ) { }\n\n  ngOnInit() {\n    this.createNewForm();\n  }\n\n  createNewForm() {\n    this.newForm = this.fb.group({\n      name: [\"\", [Validators.required]]\n      //address???\n    });\n  }\n\n  createAccount() {\n    this.account = Object.assign({}, this.newForm.value);\n    this.accountService.createAccount(this.account).subscribe(() =&gt; {\n      this.alertify.success(\"Account creation successful\");\n      },\n      error =&gt; {\n        this.alertify.error(error);\n      },\n      () =&gt; {\n        this.router.navigate([`/accounts/${this.account.id}`]);\n      });\n  }\n}\n</code></pre>\n\n<p><br>\n<strong>_models\\account.ts</strong></p>\n\n<pre><code>import { Address } from \"./address\";\n\nexport interface Account {\n  id: number;\n  name: string;\n  address?: Address;\n}\n</code></pre>\n\n<p><br>\n<strong>_models\\address.ts</strong></p>\n\n<pre><code>export interface Address {\n  id: number;\n  addressLine1: string;\n  addressLine2?: string;\n  addressLine3?: string;\n  city: string;\n  state: string;\n  zip: string;\n}\n</code></pre>\n"}, {"tags": ["javascript", "html", "angular", "typescript"], "comments": [{"owner": {"reputation": 2621, "user_id": 7884305, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7f582791bc217379415cc2bc54abc718?s=128&d=identicon&r=PG&f=1", "display_name": "Chayim Friedman", "link": "https://stackoverflow.com/users/7884305/chayim-friedman"}, "edited": false, "score": 0, "creation_date": 1530639457, "post_id": 51160172, "comment_id": 89303763, "body": "You get this error from the TypeScript compiler, which doesn&#39;t know you have function named <code>UserDelete()</code> (beacuse it defined in JS). But why you cannot add the condition in the function <code>onUserDelete()</code>?"}, {"owner": {"reputation": 1792, "user_id": 574667, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/bc780ed8c9b17ef213e90287b23b2ec4?s=128&d=identicon&r=PG", "display_name": "jaboja", "link": "https://stackoverflow.com/users/574667/jaboja"}, "edited": false, "score": 0, "creation_date": 1530639568, "post_id": 51160172, "comment_id": 89303826, "body": "Are you sure you are asking about the <i>AngularJS</i> (i.e. verson 1.x) and not the <i>Angular</i> (i.e. version 2-6)? <code>(click)</code> seems more like an Angular syntax than AngularJS. Also, what libraries are you using for the UI?"}, {"owner": {"reputation": 3631, "user_id": 2744722, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/YN6k2.jpg?s=128&g=1", "display_name": "Bryan Dellinger", "link": "https://stackoverflow.com/users/2744722/bryan-dellinger"}, "edited": false, "score": 0, "creation_date": 1530645191, "post_id": 51160172, "comment_id": 89306406, "body": "if it is in another ts file wouldn&#39;t you need to import it into your component?"}], "answers": [{"tags": [], "owner": {"reputation": 652, "user_id": 7419440, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-_xU-OEed1JI/AAAAAAAAAAI/AAAAAAAAAMg/oclPQbRcgLg/photo.jpg?sz=128", "display_name": "radhey shyam", "link": "https://stackoverflow.com/users/7419440/radhey-shyam"}, "is_accepted": false, "score": 0, "last_activity_date": 1530648914, "creation_date": 1530648914, "answer_id": 51162259, "question_id": 51160172, "link": "https://stackoverflow.com/questions/51160172/how-to-add-dialog-box-in-with-yes-or-no-option-and-call-function-based-on-that/51162259#51162259", "title": "how to add dialog box in with yes or no option and call function based on that", "body": "<p>Make your ts file function for global access and then use it with</p>\n\n<p><code>window.angularComponentRef.zone.run(function () { \n       window.angularComponentRef.componentFn(10)\n })</code></p>\n\n<p>Use NgZone for accessing function from outside.\nFor more info you can follow: <a href=\"https://stackoverflow.com/questions/35296704/angular2-how-to-call-component-function-from-outside-the-app/35312658\">Angular2 - how to call component function from outside the app</a> </p>\n"}], "owner": {"reputation": 2259, "user_id": 1863721, "user_type": "registered", "accept_rate": 44, "profile_image": "https://i.stack.imgur.com/fMqku.jpg?s=128&g=1", "display_name": "Abhitesh khatri", "link": "https://stackoverflow.com/users/1863721/abhitesh-khatri"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 46, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1535290501, "creation_date": 1530639247, "last_edit_date": 1535290501, "question_id": 51160172, "link": "https://stackoverflow.com/questions/51160172/how-to-add-dialog-box-in-with-yes-or-no-option-and-call-function-based-on-that", "title": "how to add dialog box in with yes or no option and call function based on that", "body": "<p>I am new to typescript/angular  project and working on one project. In .html file i am calling delete operation but i want to add extra confirmation for delete operation. My existing code is :</p>\n\n<pre><code>&lt;a (click)=\"onUserDelete()\" class = \"btn btn-danger\" &gt;Delete User&lt;/a&gt;\n</code></pre>\n\n<p>How to add conditional check and call <strong>'onUserDelete()'</strong> function whic is define in .ts file. </p>\n\n<p>I tried adding  but it always throws error.\nTried code:</p>\n\n<pre><code>        &lt;script type=\"text/javascript\"&gt;\n        function UserDelete(){\n            onUserDelete();\n        }\n    &lt;/script&gt;\n    &lt;a (click)=\"UserDelete()\" class = \"btn btn-danger\" &gt;Delete&lt;/a&gt;\n</code></pre>\n\n<p>It always throws UserDelete is <strong>not a function.</strong></p>\n"}, {"tags": ["javascript", "angular", "typescript"], "answers": [{"comments": [{"owner": {"reputation": 7037, "user_id": 2628921, "user_type": "registered", "accept_rate": 73, "profile_image": "https://graph.facebook.com/510986610/picture?type=large", "display_name": "SBB", "link": "https://stackoverflow.com/users/2628921/sbb"}, "edited": false, "score": 0, "creation_date": 1530638490, "post_id": 51159870, "comment_id": 89303300, "body": "This is very close. You are correct about my structure of data as well. The end goal here is that the <code>optional = 0</code> always show up and when its <code>optional = 1</code> it is hidden until the button is clicked. In your example, 2, 4, 5  should shown by default and the toggle should show/hide 1,3."}], "tags": [], "owner": {"reputation": 1281, "user_id": 6345259, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/7fabfc9e3344bddedddaac79ba15892c?s=128&d=identicon&r=PG&f=1", "display_name": "monogate", "link": "https://stackoverflow.com/users/6345259/monogate"}, "is_accepted": false, "score": 0, "last_activity_date": 1530637998, "creation_date": 1530637998, "answer_id": 51159870, "question_id": 51159533, "link": "https://stackoverflow.com/questions/51159533/angular-hide-a-table-row-in-ngfor-if-it-meets-condition/51159870#51159870", "title": "Angular - Hide a table row in ngFor if it meets condition", "body": "<p>I assume your data look something like that:</p>\n\n<pre><code>  s = {\n    fields: {\n      field: [\n        {\n          FieldTitle: 'field 1',\n          Value: ' value 1',\n          Optional: '1'\n        },\n        {\n          FieldTitle: 'field 2',\n          Value: ' value 2',\n          Optional: '0'\n        },\n        {\n          FieldTitle: 'field 3',\n          Value: ' value 3',\n          Optional: '1'\n        },\n        {\n          FieldTitle: 'field 4',\n          Value: ' value 4',\n          Optional: '0'\n        },\n                {\n          FieldTitle: 'field 5',\n          Value: ' value 5',\n          Optional: '0'\n        }\n      ]\n    }\n  }\n</code></pre>\n\n<p>This can be achieved with simple conditions on table data and a simple <code>click</code> listener:</p>\n\n<pre><code>&lt;table class=\"table table-condensed table-striped\" *ngIf=\"!isToggled &amp;&amp; s.fields\"&gt;\n   &lt;tbody&gt;\n      &lt;tr *ngFor=\"let f of s.fields.field\"&gt;\n        &lt;td *ngIf=\"f.Optional == 1\"&gt;{{ f.FieldTitle }}&lt;/td&gt;\n        &lt;td *ngIf=\"f.Optional == 1\"&gt;{{ f.Value }}&lt;/td&gt;\n      &lt;/tr&gt;\n    &lt;/tbody&gt;\n&lt;/table&gt;\n&lt;br&gt;\n&lt;button (click)=\"onToggle()\"&gt;toggle&lt;/button&gt;\n</code></pre>\n\n<p>Make sure you have on your <strong>component.ts</strong> the <code>isToggled</code> boolean set to <code>false</code> and an <code>onToggle</code> function.</p>\n\n<p>Sample: <a href=\"https://stackblitz.com/edit/angular-2n5wpv?file=src%2Fapp%2Fapp.component.ts\" rel=\"nofollow noreferrer\">stackblitz.com</a></p>\n"}, {"comments": [{"owner": {"reputation": 7037, "user_id": 2628921, "user_type": "registered", "accept_rate": 73, "profile_image": "https://graph.facebook.com/510986610/picture?type=large", "display_name": "SBB", "link": "https://stackoverflow.com/users/2628921/sbb"}, "edited": false, "score": 0, "creation_date": 1530641792, "post_id": 51160680, "comment_id": 89304917, "body": "This worked great! I didn&#39;t know about <code>ng-container</code>. HTML tables are very strict so I wasn&#39;t able to do things like wrap a <code>tr</code> in a <code>div</code> to use logic on it, but this essentially allows that parent level that I needed."}], "tags": [], "owner": {"reputation": 1927, "user_id": 2649586, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/4d2fe3ad3c7ea945a4d979e00a261ac6?s=128&d=identicon&r=PG", "display_name": "dAxx_", "link": "https://stackoverflow.com/users/2649586/daxx"}, "is_accepted": true, "score": 7, "last_activity_date": 1530641446, "creation_date": 1530641446, "answer_id": 51160680, "question_id": 51159533, "link": "https://stackoverflow.com/questions/51159533/angular-hide-a-table-row-in-ngfor-if-it-meets-condition/51160680#51160680", "title": "Angular - Hide a table row in ngFor if it meets condition", "body": "<p>Here is my solution for you, using ng-container and a function to determine the state based on optional and toggle state.</p>\n\n<p><strong>TS</strong></p>\n\n<pre><code>state: boolean = false;\n\nisAllowed = (optional) =&gt; {\n  return optional === 0 ? true : this.state;\n}\n\nchangeState = () =&gt; {\n  this.state = !this.state;\n}\n</code></pre>\n\n<p><strong>HTML</strong></p>\n\n<pre><code>&lt;table class=\"table table-condensed table-striped\" *ngIf=\"s.fields\"&gt;\n   &lt;tbody&gt;\n      &lt;tr *ngFor=\"let f of s.fields.field\"&gt;\n        &lt;ng-container *ngIf=\"isAllowed(f.Optional)\"&gt;\n          &lt;td&gt;{{ f.FieldTitle }}&lt;/td&gt;\n          &lt;td&gt;{{ f.Value }}&lt;/td&gt;\n        &lt;/ng-container&gt;\n      &lt;/tr&gt;\n    &lt;/tbody&gt;\n&lt;/table&gt;\n&lt;br&gt;\n&lt;button (click)=\"changeState()\"&gt;Show/Hide&lt;/button&gt;\n</code></pre>\n"}], "owner": {"reputation": 7037, "user_id": 2628921, "user_type": "registered", "accept_rate": 73, "profile_image": "https://graph.facebook.com/510986610/picture?type=large", "display_name": "SBB", "link": "https://stackoverflow.com/users/2628921/sbb"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 10051, "favorite_count": 1, "accepted_answer_id": 51160680, "answer_count": 2, "score": 2, "last_activity_date": 1530641446, "creation_date": 1530636579, "question_id": 51159533, "link": "https://stackoverflow.com/questions/51159533/angular-hide-a-table-row-in-ngfor-if-it-meets-condition", "title": "Angular - Hide a table row in ngFor if it meets condition", "body": "<p>I have an angular app that is rendering a table of employee details. There is a datapoint called <code>Optional</code> that determines if it should show up by default.</p>\n\n<p>My goal here is to hide these rows by default and then be able to toggle them on/off with a click of a button.</p>\n\n<p>Example:</p>\n\n<pre><code>&lt;table class=\"table table-condensed table-striped\" *ngIf=\"s.fields\"&gt;\n   &lt;tbody&gt;\n      &lt;tr *ngFor=\"let f of s.fields.field\" [class.hidden]=\"f.Optional == 1\"&gt;\n        &lt;td&gt;{{ f.FieldTitle }}&lt;/td&gt;\n        &lt;td&gt;{{ f.Value }}&lt;/td&gt;\n      &lt;/tr&gt;\n    &lt;/tbody&gt;\n&lt;/table&gt;\n</code></pre>\n\n<p>So far, I have it hiding the rows correctly that are optional by adding a class to them.</p>\n\n<p>I ultimately need to be able to click a button to show/hide these hidden rows but I am unsure how to go about this approach.</p>\n\n<p>Do I use CSS for this or somehow create a 2-way binding or model for it?</p>\n"}, {"tags": ["java", "typescript", "angular5"], "comments": [{"owner": {"reputation": 1904, "user_id": 4143613, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/nRk19.png?s=128&g=1", "display_name": "erajuan", "link": "https://stackoverflow.com/users/4143613/erajuan"}, "edited": false, "score": 0, "creation_date": 1530638330, "post_id": 51159500, "comment_id": 89303203, "body": "I recommend you, change logo field to String, upload files to the server, and save the file path"}], "answers": [{"tags": [], "owner": {"reputation": 11, "user_id": 9990091, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-xqeq0oAsEqs/AAAAAAAAAAI/AAAAAAAAAAA/AB6qoq2pxijfK3s2IEXSLf4tWLwiNJmQ_A/mo/photo.jpg?sz=128", "display_name": "Marc Goritschnig", "link": "https://stackoverflow.com/users/9990091/marc-goritschnig"}, "is_accepted": false, "score": 0, "last_activity_date": 1530637460, "creation_date": 1530637460, "answer_id": 51159743, "question_id": 51159500, "link": "https://stackoverflow.com/questions/51159500/display-a-blob-image-from-mysql-database-using-angular-5/51159743#51159743", "title": "Display a Blob image from MySQL database using Angular 5", "body": "<p>Have you saved your logo as base64??</p>\n\n<p>If not try the following:</p>\n\n<pre><code>&lt;tr *ngFor=\"let c of pageCompanies?.content\"&gt;\n   &lt;td class=\"py-1\"&gt;&lt;img src=\"data:image/png;base64,{{c.logo}}\" class=\"rounded-circle\" width=\"45\" height=\"45\"&gt;&lt;/td&gt;\n&lt;/tr&gt;\n</code></pre>\n"}], "owner": {"reputation": 45, "user_id": 9267022, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/31c17c6db643a2be358d5859612b2361?s=128&d=identicon&r=PG&f=1", "display_name": "chimchim", "link": "https://stackoverflow.com/users/9267022/chimchim"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1913, "favorite_count": 1, "answer_count": 1, "score": 0, "last_activity_date": 1530637460, "creation_date": 1530636447, "question_id": 51159500, "link": "https://stackoverflow.com/questions/51159500/display-a-blob-image-from-mysql-database-using-angular-5", "title": "Display a Blob image from MySQL database using Angular 5", "body": "<p>I have a class with a Blob field called logo, when i want to display this field i am not sure how to do it in Angular, and if Blob is the best type to store images knowing that the app is a small app with few users.</p>\n\n<p><strong>Company.java</strong></p>\n\n<pre><code>@Entity\npublic class Company implements Serializable{\n    @Id \n    @GeneratedValue(strategy=GenerationType.IDENTITY)   \n    @Column(name = \"id\", updatable = false, nullable = false)\n    private Long id;\n    @Column(name = \"name\", unique = true, nullable = false)\n    private String name;  \n    @Column(name = \"activity\", nullable = false)\n    private String activity;\n    @Column(name = \"address\", nullable = false)\n    private String address;\n    @Column(name = \"city\", nullable = false)\n    private String city;\n    @Column(name = \"logo\", nullable = true)\n    private Blob logo;\n}\n</code></pre>\n\n<p><strong>model.company.ts</strong></p>\n\n<pre><code>export class Company{\n  public id:any;\n  public name:string;\n  public activity:string;\n  public address:string;\n  public city:string;\n  public logo:Blob;\n}\n</code></pre>\n\n<p>when i do it this way it doesn't show anything even other fields which are strings.</p>\n\n<pre><code>&lt;tr *ngFor=\"let c of pageCompanies?.content\"&gt;\n    &lt;td class=\"py-1\"&gt;&lt;img src=\"{{c.logo}}\" class=\"rounded-circle\" width=\"45\" height=\"45\"&gt;&lt;/td&gt;\n&lt;/tr&gt;\n</code></pre>\n"}, {"tags": ["typescript"], "comments": [{"owner": {"reputation": 37059, "user_id": 85597, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/pc3cE.jpg?s=128&g=1", "display_name": "Akash Kava", "link": "https://stackoverflow.com/users/85597/akash-kava"}, "edited": false, "score": 0, "creation_date": 1530636075, "post_id": 51159403, "comment_id": 89302072, "body": "You can use Webpack !! to combine modules"}, {"owner": {"reputation": 31, "user_id": 10026704, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/j5y3u.png?s=128&g=1", "display_name": "Frank Dekker", "link": "https://stackoverflow.com/users/10026704/frank-dekker"}, "reply_to_user": {"reputation": 37059, "user_id": 85597, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/pc3cE.jpg?s=128&g=1", "display_name": "Akash Kava", "link": "https://stackoverflow.com/users/85597/akash-kava"}, "edited": false, "score": 0, "creation_date": 1530636306, "post_id": 51159403, "comment_id": 89302184, "body": "any tips for a particular approach to webpack? I&#39;ve looked into webpack but couldn&#39;t find dynamic multibundle naming. Eg source file was <code>products.ts</code> so target should be <code>products.js</code>"}, {"owner": {"reputation": 37059, "user_id": 85597, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/pc3cE.jpg?s=128&g=1", "display_name": "Akash Kava", "link": "https://stackoverflow.com/users/85597/akash-kava"}, "edited": false, "score": 0, "creation_date": 1530639300, "post_id": 51159403, "comment_id": 89303684, "body": "Webpack basically combines all different modules into one javascript, it will also bring back code from referenced modules and put it in correct loading sequence. Don&#39;t use typescript to combine all sources into one, instead use individual modules."}, {"owner": {"reputation": 37059, "user_id": 85597, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/pc3cE.jpg?s=128&g=1", "display_name": "Akash Kava", "link": "https://stackoverflow.com/users/85597/akash-kava"}, "edited": false, "score": 0, "creation_date": 1530639501, "post_id": 51159403, "comment_id": 89303790, "body": "Also webpack does this automatically, you just have to give entry point, that is your application javascript, it will load dependencies automatically and it will create bundle file."}, {"owner": {"reputation": 32699, "user_id": 202694, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/982e5d5973bcd2be7b77e52ec7dca27c?s=128&d=identicon&r=PG", "display_name": "Pace", "link": "https://stackoverflow.com/users/202694/pace"}, "edited": false, "score": 0, "creation_date": 1530645411, "post_id": 51159403, "comment_id": 89306500, "body": "It sounds like you want multiple entry points.  An &quot;entry point&quot; in <code>webpack</code> is your top level file.  Take a look at the &quot;multi page application&quot; section on <a href=\"https://webpack.js.org/concepts/entry-points/\" rel=\"nofollow noreferrer\">this piece</a> of the webpack documentation.  Also, are you using any kind of framework?  <code>angular-cli</code> uses webpack internally and Angular &quot;modules&quot; implement exactly this kind of lazy loading for single page applications that don&#39;t want to load all the code at once."}, {"owner": {"reputation": 31, "user_id": 10026704, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/j5y3u.png?s=128&g=1", "display_name": "Frank Dekker", "link": "https://stackoverflow.com/users/10026704/frank-dekker"}, "edited": false, "score": 0, "creation_date": 1530648172, "post_id": 51159403, "comment_id": 89307555, "body": "thanks! It seems webpack multi page application is what i&#39;m looking for, although <a href=\"https://webpack.js.org/concepts/entry-points/#multi-page-application\" rel=\"nofollow noreferrer\">the example</a> shows static naming. Will have to see if names derived from sourcefile also is supported. Further our project doesn&#39;t allow us to use Angular or similar framework."}, {"owner": {"reputation": 37059, "user_id": 85597, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/pc3cE.jpg?s=128&g=1", "display_name": "Akash Kava", "link": "https://stackoverflow.com/users/85597/akash-kava"}, "edited": false, "score": 0, "creation_date": 1530758414, "post_id": 51159403, "comment_id": 89347530, "body": "@FrankDekker webpack is good for single page, multiple entry points are possible but are nightmare on long run as it keeps getting bigger and longer. Try SystemJS,  generate UMD from typescript and use SystemJS to load first page, it will automatically load rest of modules in browser."}, {"owner": {"reputation": 31, "user_id": 10026704, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/j5y3u.png?s=128&g=1", "display_name": "Frank Dekker", "link": "https://stackoverflow.com/users/10026704/frank-dekker"}, "reply_to_user": {"reputation": 37059, "user_id": 85597, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/pc3cE.jpg?s=128&g=1", "display_name": "Akash Kava", "link": "https://stackoverflow.com/users/85597/akash-kava"}, "edited": false, "score": 0, "creation_date": 1530889425, "post_id": 51159403, "comment_id": 89407159, "body": "@Akash the conclusion so far has been: components.js (bundle for global components), products.js (bundle for page specific modules), groups.js (bundle for page specific modules). For production this works well, as we can just release packages. I&#39;m running into development problems, that the webpack watcher doesn&#39;t recognize changes to the sub modules. If i make changes to the top file, it will recompile. If i make changes to an included module, nothing happens."}], "owner": {"reputation": 31, "user_id": 10026704, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/j5y3u.png?s=128&g=1", "display_name": "Frank Dekker", "link": "https://stackoverflow.com/users/10026704/frank-dekker"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 261, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1530635928, "creation_date": 1530635928, "question_id": 51159403, "link": "https://stackoverflow.com/questions/51159403/multipage-typescript-project", "title": "Multipage typescript project", "body": "<p>I'm looking into setting up a large Typescript project where instead of compiling all javascript files to a single bundle.js there is a bundled (with all dependencies included) js compiled for each individual page.</p>\n\n<p><strong>Example project structure:</strong></p>\n\n<pre><code>ts/common/utils.ts\nts/components/datepicker.ts\nts/modules/products.ts\nts/modules/products/productlist.ts\nts/modules/products/editproduct.ts\nts/modules/groups.ts\nts/modules/groups/grouplist.ts\nts/modules/groups/editgroup.ts\n</code></pre>\n\n<p>The above example has 2 pages</p>\n\n<ul>\n<li>products with bundled js: products.js</li>\n<li>groups with bundled js: groups.js</li>\n</ul>\n\n<p><code>products.js</code> consists of</p>\n\n<ul>\n<li>utils.ts</li>\n<li>datepicker.ts</li>\n<li>products.ts</li>\n<li>productlist.ts</li>\n<li>editproduct.ts</li>\n</ul>\n\n<p>All the required imports start at <code>products.ts</code>. So one could just compile <code>products.ts</code> and Typescript should resolve all necessary dependencies.</p>\n\n<p>I'm new to Typescrypt and I've been looking at a Typescript only solution, but that seemed to require tsconfig.json per page and including components from a parent directory wouldn't work.</p>\n\n<p>Preferrably I would like to automatically compile <code>/modules/xxxxx.ts</code> to <code>/public/js/xxxxx.js</code> with all imports included. </p>\n\n<p>What would be the best approach to setup a project like this?</p>\n"}, {"tags": ["angular", "typescript", "angular6", "angular-forms"], "comments": [{"owner": {"reputation": 1281, "user_id": 6345259, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/7fabfc9e3344bddedddaac79ba15892c?s=128&d=identicon&r=PG&f=1", "display_name": "monogate", "link": "https://stackoverflow.com/users/6345259/monogate"}, "edited": false, "score": 0, "creation_date": 1530635994, "post_id": 51159276, "comment_id": 89302031, "body": "Where exactly your if condition is checked? in NgOnInit?"}, {"owner": {"reputation": 5696, "user_id": 7588447, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/8FNQo.jpg?s=128&g=1", "display_name": "Ahmed Elkoussy", "link": "https://stackoverflow.com/users/7588447/ahmed-elkoussy"}, "reply_to_user": {"reputation": 1281, "user_id": 6345259, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/7fabfc9e3344bddedddaac79ba15892c?s=128&d=identicon&r=PG&f=1", "display_name": "monogate", "link": "https://stackoverflow.com/users/6345259/monogate"}, "edited": false, "score": 0, "creation_date": 1530637832, "post_id": 51159276, "comment_id": 89302935, "body": "@monogate yes , it is checked there"}, {"owner": {"reputation": 1281, "user_id": 6345259, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/7fabfc9e3344bddedddaac79ba15892c?s=128&d=identicon&r=PG&f=1", "display_name": "monogate", "link": "https://stackoverflow.com/users/6345259/monogate"}, "edited": false, "score": 0, "creation_date": 1530638056, "post_id": 51159276, "comment_id": 89303055, "body": "Can you try implement AfterViewInit and put your code inside ngAfterViewInit?"}, {"owner": {"reputation": 5696, "user_id": 7588447, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/8FNQo.jpg?s=128&g=1", "display_name": "Ahmed Elkoussy", "link": "https://stackoverflow.com/users/7588447/ahmed-elkoussy"}, "reply_to_user": {"reputation": 1281, "user_id": 6345259, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/7fabfc9e3344bddedddaac79ba15892c?s=128&d=identicon&r=PG&f=1", "display_name": "monogate", "link": "https://stackoverflow.com/users/6345259/monogate"}, "edited": false, "score": 0, "creation_date": 1530638252, "post_id": 51159276, "comment_id": 89303160, "body": "I will try this, I have also checked that the FormGroup is created by console.log &amp; it is created before the call actually (please check the code in the question, I have updated it)"}, {"owner": {"reputation": 5696, "user_id": 7588447, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/8FNQo.jpg?s=128&g=1", "display_name": "Ahmed Elkoussy", "link": "https://stackoverflow.com/users/7588447/ahmed-elkoussy"}, "reply_to_user": {"reputation": 1281, "user_id": 6345259, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/7fabfc9e3344bddedddaac79ba15892c?s=128&d=identicon&r=PG&f=1", "display_name": "monogate", "link": "https://stackoverflow.com/users/6345259/monogate"}, "edited": false, "score": 0, "creation_date": 1530638456, "post_id": 51159276, "comment_id": 89303279, "body": "Unfortunately, I still get the same error if I put the disable() in the ngAfterViewInit"}, {"owner": {"reputation": 22135, "user_id": 2079900, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/3dv63.jpg?s=128&g=1", "display_name": "Amit Chigadani", "link": "https://stackoverflow.com/users/2079900/amit-chigadani"}, "edited": false, "score": 0, "creation_date": 1530640634, "post_id": 51159276, "comment_id": 89304343, "body": "I do not see any errors in your stackblitz as you have mentioned."}, {"owner": {"reputation": 5696, "user_id": 7588447, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/8FNQo.jpg?s=128&g=1", "display_name": "Ahmed Elkoussy", "link": "https://stackoverflow.com/users/7588447/ahmed-elkoussy"}, "edited": false, "score": 0, "creation_date": 1530641063, "post_id": 51159276, "comment_id": 89304553, "body": "if you remove the <code>this.firstStepForm.disable();</code> &amp; rewrite it , you will get the error , but anyway the behavior is not correct, the form field is not disabled as expected"}, {"owner": {"reputation": 22135, "user_id": 2079900, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/3dv63.jpg?s=128&g=1", "display_name": "Amit Chigadani", "link": "https://stackoverflow.com/users/2079900/amit-chigadani"}, "edited": false, "score": 0, "creation_date": 1530642950, "post_id": 51159276, "comment_id": 89305445, "body": "I have edited my answer w.r.t template driven form. You may check that."}, {"owner": {"reputation": 5696, "user_id": 7588447, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/8FNQo.jpg?s=128&g=1", "display_name": "Ahmed Elkoussy", "link": "https://stackoverflow.com/users/7588447/ahmed-elkoussy"}, "edited": false, "score": 0, "creation_date": 1530643040, "post_id": 51159276, "comment_id": 89305485, "body": "Thanks Amit, I have just discovered that this was the reason, I was using ngForm but I grabbed it using FormGroup so it suggested that method, thanks for your help"}], "answers": [{"comments": [{"owner": {"reputation": 5696, "user_id": 7588447, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/8FNQo.jpg?s=128&g=1", "display_name": "Ahmed Elkoussy", "link": "https://stackoverflow.com/users/7588447/ahmed-elkoussy"}, "edited": false, "score": 0, "creation_date": 1530639761, "post_id": 51160070, "comment_id": 89303925, "body": "Thanks for your answer, actually it is a FormGroup , you can see the type in my code , the way you are using here is for the reactive FormGroup, mine is template driven FormGroup.  I have added stackblitz example to better show the issue"}, {"owner": {"reputation": 22135, "user_id": 2079900, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/3dv63.jpg?s=128&g=1", "display_name": "Amit Chigadani", "link": "https://stackoverflow.com/users/2079900/amit-chigadani"}, "reply_to_user": {"reputation": 5696, "user_id": 7588447, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/8FNQo.jpg?s=128&g=1", "display_name": "Ahmed Elkoussy", "link": "https://stackoverflow.com/users/7588447/ahmed-elkoussy"}, "edited": false, "score": 0, "creation_date": 1530639957, "post_id": 51160070, "comment_id": 89304018, "body": "But I do not see any errors in your stackblitz as you have mentioned."}, {"owner": {"reputation": 5696, "user_id": 7588447, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/8FNQo.jpg?s=128&g=1", "display_name": "Ahmed Elkoussy", "link": "https://stackoverflow.com/users/7588447/ahmed-elkoussy"}, "edited": false, "score": 0, "creation_date": 1530643353, "post_id": 51160070, "comment_id": 89305635, "body": "Yeah, sure thing, strangely it is not giving errors but still not disabling the form, I have tested locally &amp; in stackblitz <a href=\"https://stackblitz.com/edit/angular-nf9jog?file=app/app.component.ts\" rel=\"nofollow noreferrer\">stackblitz.com/edit/angular-nf9jog?file=app/app.component.ts</a>"}, {"owner": {"reputation": 22135, "user_id": 2079900, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/3dv63.jpg?s=128&g=1", "display_name": "Amit Chigadani", "link": "https://stackoverflow.com/users/2079900/amit-chigadani"}, "reply_to_user": {"reputation": 5696, "user_id": 7588447, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/8FNQo.jpg?s=128&g=1", "display_name": "Ahmed Elkoussy", "link": "https://stackoverflow.com/users/7588447/ahmed-elkoussy"}, "edited": false, "score": 1, "creation_date": 1530644197, "post_id": 51160070, "comment_id": 89306016, "body": "Move your code to <code>AfterViewChecked</code> lifecycle hook and also postpone the change detection to avoid expression changed error."}, {"owner": {"reputation": 5696, "user_id": 7588447, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/8FNQo.jpg?s=128&g=1", "display_name": "Ahmed Elkoussy", "link": "https://stackoverflow.com/users/7588447/ahmed-elkoussy"}, "edited": false, "score": 1, "creation_date": 1530645952, "post_id": 51160070, "comment_id": 89306692, "body": "Great solution , thanks for your very useful help , I am a bit afraid of these hooks as they seem a little bit too much but it works , thank you"}, {"owner": {"reputation": 5696, "user_id": 7588447, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/8FNQo.jpg?s=128&g=1", "display_name": "Ahmed Elkoussy", "link": "https://stackoverflow.com/users/7588447/ahmed-elkoussy"}, "edited": false, "score": 0, "creation_date": 1530646244, "post_id": 51160070, "comment_id": 89306797, "body": "With pleasure :) , I would appreciate it if you upvote my answer too to get it seen as well , it will help starters to be careful when relying on editor suggestions"}], "tags": [], "owner": {"reputation": 22135, "user_id": 2079900, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/3dv63.jpg?s=128&g=1", "display_name": "Amit Chigadani", "link": "https://stackoverflow.com/users/2079900/amit-chigadani"}, "is_accepted": false, "score": 4, "last_activity_date": 1530644660, "last_edit_date": 1530644660, "creation_date": 1530638860, "answer_id": 51160070, "question_id": 51159276, "link": "https://stackoverflow.com/questions/51159276/angular-6-formgroup-disable-method-is-not-working-with-my-template-driven-ngfo/51160070#51160070", "title": "Angular 6 FormGroup.disable() method is not working with my template driven NgForm", "body": "<p>The form object that you have created using template driven approach is of type <code>NgForm</code> and not <code>FormGroup</code></p>\n\n<p>There is a <code>form</code> attribute inside <code>ngForm</code> object which is actually of type <code>FormGroup</code>.</p>\n\n<p>So you should be doing</p>\n\n<pre><code>this.personForm.form.disable()\n</code></pre>\n\n<p>EDIT :</p>\n\n<p>You have to move your code to <code>AfterViewChecked</code> life cycle hook event, since your <code>formGroup</code> wont be ready <code>ngAfterViewChecked()</code> is triggered.</p>\n\n<pre><code>ngAfterViewChecked() {\n      console.log(this.personForm.form);    \n      this.personForm.form.disable(); \n      this.cdr.detectChanges();  \n} \n</code></pre>\n\n<p>And also postpone the change detection to avoid expression changed error  using ChangeDetectorRef.</p>\n\n<p><a href=\"https://stackblitz.com/edit/angular-formgroup-amit\" rel=\"nofollow noreferrer\">DEMO</a></p>\n"}, {"tags": [], "owner": {"reputation": 5696, "user_id": 7588447, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/8FNQo.jpg?s=128&g=1", "display_name": "Ahmed Elkoussy", "link": "https://stackoverflow.com/users/7588447/ahmed-elkoussy"}, "is_accepted": true, "score": 1, "last_activity_date": 1530648544, "last_edit_date": 1530648544, "creation_date": 1530642953, "answer_id": 51161034, "question_id": 51159276, "link": "https://stackoverflow.com/questions/51159276/angular-6-formgroup-disable-method-is-not-working-with-my-template-driven-ngfo/51161034#51161034", "title": "Angular 6 FormGroup.disable() method is not working with my template driven NgForm", "body": "<p>I have discovered the reason for this error:</p>\n\n<p>This form is made in the html template using <strong>ngForm</strong>, then <strong>I used ViewChild to get hold of the form in the typescript file</strong>, I noticed that I made that <em>object of type FormGroup</em> but ngForm is different than FormGroup (in my use cases it wasn't clear) that is why <strong>the FormGroup disable method is not working on the ngForm</strong> </p>\n\n<p>Note:</p>\n\n<p>(VS code is suggesting it as my type for that variable is FormGroup which is misleading the editor to give me that suggestion)</p>\n\n<p>Thanks for everyone who tried to help.</p>\n\n<p><strong>Update:</strong></p>\n\n<p>In case someone is reluctant to depend on detectChanges() like me \n&amp; Building upon the excellent Answer of Amit , we can disable the NgForm in this AfterContentChecked to avoid using detectChanges()</p>\n\n<pre><code>  // instead of disabling here &amp; using cdr.detectChanges()\n\n  // ngAfterViewChecked() {\n  //     console.log(this.personForm.form);    \n  //     this.personForm.form.disable(); \n  //     this.cdr.detectChanges();  \n  // } \n\n  // we can put our disable here\n  ngAfterContentChecked() {\n    this.personForm.form.disable();\n  }\n</code></pre>\n\n<p><a href=\"https://stackblitz.com/edit/angular-formgroup-amit-mchdmx?file=src/app/app.component.ts\" rel=\"nofollow noreferrer\">Stackblitz demo</a> </p>\n"}], "owner": {"reputation": 5696, "user_id": 7588447, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/8FNQo.jpg?s=128&g=1", "display_name": "Ahmed Elkoussy", "link": "https://stackoverflow.com/users/7588447/ahmed-elkoussy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3606, "favorite_count": 0, "accepted_answer_id": 51161034, "answer_count": 2, "score": 4, "last_activity_date": 1530648544, "creation_date": 1530635453, "last_edit_date": 1530646087, "question_id": 51159276, "link": "https://stackoverflow.com/questions/51159276/angular-6-formgroup-disable-method-is-not-working-with-my-template-driven-ngfo", "title": "Angular 6 FormGroup.disable() method is not working with my template driven NgForm", "body": "<p>When I try to use the disable method on a formGroup in my Angular 6 app , I get this error in the browser console :</p>\n\n<blockquote>\n  <p>TypeError: this.personForm.disable is not a function</p>\n</blockquote>\n\n<p>Although the method is <a href=\"https://angular.io/api/forms/FormGroup\" rel=\"nofollow noreferrer\">mentioned in the documentation</a> &amp; it is even suggested by VS Code as in this snapshot.<a href=\"https://i.stack.imgur.com/nVfPm.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/nVfPm.png\" alt=\"Even VS Code is suggesting the method\"></a></p>\n\n<p>My code is here:</p>\n\n<pre><code>// ... many parts skipped, the form here is template driven \n// but still personForm is a FormGroup , \n// I am trying to disable the whole FormGroup with all child elements\n@ViewChild('personForm') personForm: FormGroup;\n\n        if (true) {\n       // if I console.log here the form, I can see it is created already\n         console.log(this.personForm);              \n// output of console.log is \n// NgForm\u00a0{submitted: false, _directives: Array(0), ngSubmit: EventEmitter, form: FormGroup}\n\n         this.personForm.disable();\n        }\n</code></pre>\n\n<p>What is the problem here ?</p>\n\n<p>UPDATE 1:</p>\n\n<p>I have created a stackblitz to show the issue</p>\n\n<p><a href=\"https://stackblitz.com/edit/angular-yxcjp6?file=app/app.component.ts\" rel=\"nofollow noreferrer\">here is the link for that demo</a></p>\n\n<p>UPDATE 2:\nAs the error is not shown on initial loading, if you remove the <code>this.firstStepForm.disable();</code> &amp; rewrite it , you will get the error, but anyway the behavior is not correct, the form field is not disabled as expected</p>\n\n<p>Also, refreshing the browser part in the stackblitz will show an error snackbar</p>\n"}, {"tags": ["javascript", "angular", "typescript", "d3.js", "bar-chart"], "answers": [{"comments": [{"owner": {"reputation": 337, "user_id": 5191157, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/1ed7bd10c6b33851e9ed88ebc0824f3c?s=128&d=identicon&r=PG&f=1", "display_name": "Praveen", "link": "https://stackoverflow.com/users/5191157/praveen"}, "edited": false, "score": 0, "creation_date": 1530636766, "post_id": 51159259, "comment_id": 89302412, "body": "got it, thank you very much for your time and another set of fresh eyes always helps!"}, {"owner": {"reputation": 5190, "user_id": 5569282, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1a4102defb836f7b53d9800df6b7e0a6?s=128&d=identicon&r=PG&f=1", "display_name": "Shashank", "link": "https://stackoverflow.com/users/5569282/shashank"}, "reply_to_user": {"reputation": 337, "user_id": 5191157, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/1ed7bd10c6b33851e9ed88ebc0824f3c?s=128&d=identicon&r=PG&f=1", "display_name": "Praveen", "link": "https://stackoverflow.com/users/5191157/praveen"}, "edited": false, "score": 0, "creation_date": 1530637598, "post_id": 51159259, "comment_id": 89302811, "body": "Glad I could help."}], "tags": [], "owner": {"reputation": 5190, "user_id": 5569282, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1a4102defb836f7b53d9800df6b7e0a6?s=128&d=identicon&r=PG&f=1", "display_name": "Shashank", "link": "https://stackoverflow.com/users/5569282/shashank"}, "is_accepted": true, "score": 0, "last_activity_date": 1530635360, "creation_date": 1530635360, "answer_id": 51159259, "question_id": 51159044, "link": "https://stackoverflow.com/questions/51159044/d3-v4-vertical-bar-chart-issue-with-text-on-the-bars/51159259#51159259", "title": "d3 v4 vertical bar chart issue with text on the bars", "body": "<p>Simple <em>d3 selection enter/update</em> issue. If you look at the console, you get a better picture of why were you not able to view the texts. That's because the texts were being appended to the <code>rect</code>s </p>\n\n<p>Changing the <em>d3 enter selection</em> code to:</p>\n\n<pre><code>const bar = svg\n  .selectAll('.bar')\n  .data(chartData)\n  .enter().append('g').attr('class', 'bar');\n\nbar\n  .append('rect')\n  .attr('x', d =&gt; this._xScale(d.name))\n  ....\n\nbar\n  .append('text')\n  .attr('class', 'barText')\n  ...\n</code></pre>\n\n<p>Now if you check the console, you see that the <code>text</code>s are a part of a group <code>&lt;g&gt;</code> (classed <strong>bar</strong>) with <code>rect</code> and <code>text</code> as separate elements. This is how you append text within a rect.</p>\n\n<p>Fork: <a href=\"https://stackblitz.com/edit/angular-bhe6md?file=src/app/app.component.ts\" rel=\"nofollow noreferrer\">StackBlitz bar chart fork</a></p>\n\n<p>Hope this helps.</p>\n"}], "owner": {"reputation": 337, "user_id": 5191157, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/1ed7bd10c6b33851e9ed88ebc0824f3c?s=128&d=identicon&r=PG&f=1", "display_name": "Praveen", "link": "https://stackoverflow.com/users/5191157/praveen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 272, "favorite_count": 0, "accepted_answer_id": 51159259, "answer_count": 1, "score": -1, "last_activity_date": 1530635360, "creation_date": 1530634391, "question_id": 51159044, "link": "https://stackoverflow.com/questions/51159044/d3-v4-vertical-bar-chart-issue-with-text-on-the-bars", "title": "d3 v4 vertical bar chart issue with text on the bars", "body": "<p>I am trying to add the simple text on top of the bars, tried adding the same x and y coordinates used for bars to add the text but for some it doesn't work, i know it is simple but unable to catch it, could someone please the point the mistake?, any help is much appreciated. <a href=\"https://stackblitz.com/edit/angular-rs33lv?file=src%2Fapp%2Fapp.component.ts\" rel=\"nofollow noreferrer\">StackBlitz code</a></p>\n"}, {"tags": ["angular", "typescript", "firebase", "google-cloud-firestore", "angularfire2"], "answers": [{"tags": [], "owner": {"reputation": 1221, "user_id": 2530536, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/J6UDP.jpg?s=128&g=1", "display_name": "Tim Martens", "link": "https://stackoverflow.com/users/2530536/tim-martens"}, "is_accepted": true, "score": 1, "last_activity_date": 1530683007, "creation_date": 1530683007, "answer_id": 51166502, "question_id": 51158991, "link": "https://stackoverflow.com/questions/51158991/convert-collectionreference-in-angularfirestorecollectiont-or-observable/51166502#51166502", "title": "Convert CollectionReference in AngularFirestoreCollection&lt;T&gt; or Observable?", "body": "<p>Your function <code>buildHuman</code> doesn't return anything. Just return the <code>this.db.collection</code> call and you get a <code>AngularFirestoreCollection</code>. Or add call <code>valueChanges</code> like before to get an <code>observable</code>:</p>\n\n<pre><code>buildHuman(param1: string, param2?: string, param3?: string): AngularFirestoreCollection&lt;any&gt; {\n    return this.afs.collection('users', ref =&gt; {\n        let retVal = ref as any;\n        if (param1 != null) { retVal = retVal.where('param1', '==', param1); }\n        if (param2 != null) { retVal = retVal.where('param2', '==', param2); }\n        if (param3 != null) { retVal = retVal.where('param3', '==', param2); }\n        return retVal;\n    });\n}\n</code></pre>\n\n<p>OR</p>\n\n<pre><code>buildHuman(param1: string, param2?: string, param3?: string): Observable&lt;any&gt; {\n    return this.afs.collection('users', ref =&gt; {\n        let retVal = ref as any;\n        if (param1 != null) { retVal = retVal.where('param1', '==', param1); }\n        if (param2 != null) { retVal = retVal.where('param2', '==', param2); }\n        if (param3 != null) { retVal = retVal.where('param3', '==', param2); }\n        return retVal;\n    })\n    .valueChanges();\n}\n</code></pre>\n"}], "owner": {"reputation": 3977, "user_id": 4654957, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/Y3PqX.jpg?s=128&g=1", "display_name": "Diego Ven&#226;ncio", "link": "https://stackoverflow.com/users/4654957/diego-ven%c3%a2ncio"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 395, "favorite_count": 1, "accepted_answer_id": 51166502, "answer_count": 1, "score": 0, "last_activity_date": 1530683007, "creation_date": 1530634187, "last_edit_date": 1530669890, "question_id": 51158991, "link": "https://stackoverflow.com/questions/51158991/convert-collectionreference-in-angularfirestorecollectiont-or-observable", "title": "Convert CollectionReference in AngularFirestoreCollection&lt;T&gt; or Observable?", "body": "<p>My <a href=\"https://stackoverflow.com/questions/50930604/optional-parameter-and-clausule-where\">method</a> is returning a <code>CollectionReference</code>. \nHowever, this method used to return a <code>AngularFirestoreCollection&lt;myObj&gt;</code> before I converted it to <code>Observable&lt;myObj[]&gt;</code> to work with arrays. </p>\n\n<pre><code>humanCol : AngularFirestoreCollection&lt;Human&gt;;\nhumanObersArray: Observable&lt;Human[]&gt;;\n\nconstructor(private db: AngularFirestore) { }\n</code></pre>\n\n<p><strong>Before I was using this way. Work greats to fetch all data.</strong></p>\n\n<pre><code>buildHuman(): Observable&lt;Human[]&gt; {\n   this.humanCol = this.db.collection('path');\n   return this.humanObersArray = this.humanCol.valueChanges();\n} \n</code></pre>\n\n<p><strong>Now, I use have optional parameters.</strong></p>\n\n<pre><code>buildHuman(param1: string, param2?: string, param3?: string...){ \n  this.db.collection('path', ref =&gt; {\n  let retVal = ref as any;\n  if (param1 != null) { retVal = retVal.where('param1', '==', param1) }\n  if (param2 != null) { retVal = retVal.where('param2', '==', param2) }\n  if (param3 != null) { retVal = retVal.where('param3', '==', param3) }\n  ...\n  return retVal; //this return a CollectionReference \n  });\n}\n</code></pre>\n\n<p>How I can to convert <code>retVal</code> to <code>AngularFirestoreCollection&lt;T&gt;</code> or <code>Observable</code>?</p>\n"}]