[{"tags": ["reactjs", "typescript"], "answers": [{"tags": [], "owner": {"reputation": 5535, "user_id": 9200817, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/91bdda21dbfbeabc9496aadb2d42d670?s=128&d=identicon&r=PG&f=1", "display_name": "casieber", "link": "https://stackoverflow.com/users/9200817/casieber"}, "is_accepted": true, "score": 1, "last_activity_date": 1516842266, "creation_date": 1516842266, "answer_id": 48434090, "question_id": 48433271, "link": "https://stackoverflow.com/questions/48433271/use-a-map-for-this-object-with-arrays/48434090#48434090", "title": "Use a map for this object with arrays?", "body": "<p>It's a little unclear exactly what you are looking for when you say \"return a component\", but I'll give it a go with what I think you are saying. To fit into your loop code you could do something like the following:</p>\n\n<pre><code>const regionComponents = [];\nfor (let key in regions) {\n    for (let item in regions[key]) {\n        regionComponents.push(&lt;MyComponent region={regions[key][item]} /&gt;);\n    }\n}\n\nreturn regionComponents;\n</code></pre>\n\n<p>Or if you wanted to shorten it a little bit:</p>\n\n<pre><code>return regions.map(region =&gt; region.map(subRegion =&gt; &lt;MyComponent region={subRegion} /&gt;));\n</code></pre>\n\n<p>(Obviously that will return a 2D array with components, but if you are simply then putting that within JSX elsewhere to render React will handle de-nesting for you).</p>\n\n<p>If this isn't what you were looking for, leave a comment / edit your post to be a little clearer and I'll try my best to update my answer.</p>\n"}, {"tags": [], "owner": {"reputation": 1935, "user_id": 1942085, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4UahS.jpg?s=128&g=1", "display_name": "Shane Cavaliere", "link": "https://stackoverflow.com/users/1942085/shane-cavaliere"}, "is_accepted": false, "score": 0, "last_activity_date": 1516842441, "creation_date": 1516842441, "answer_id": 48434109, "question_id": 48433271, "link": "https://stackoverflow.com/questions/48433271/use-a-map-for-this-object-with-arrays/48434109#48434109", "title": "Use a map for this object with arrays?", "body": "<p>I'm not totally certain this is what you're trying to do, but you could use something like lodash's <code>mapValues</code> function to iterate over your object, and then turn each item of each array into a new component.</p>\n\n<p>Here's an example: <a href=\"https://codesandbox.io/s/ll5n988mwm\" rel=\"nofollow noreferrer\">https://codesandbox.io/s/ll5n988mwm</a></p>\n"}], "owner": {"reputation": 2557, "user_id": 843400, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/573ee7b3f2754075eb24655c7fbb77b5?s=128&d=identicon&r=PG&f=1", "display_name": "CustardBun", "link": "https://stackoverflow.com/users/843400/custardbun"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 54, "favorite_count": 0, "accepted_answer_id": 48434090, "answer_count": 2, "score": 0, "last_activity_date": 1516842441, "creation_date": 1516835817, "last_edit_date": 1516835936, "question_id": 48433271, "link": "https://stackoverflow.com/questions/48433271/use-a-map-for-this-object-with-arrays", "title": "Use a map for this object with arrays?", "body": "<p>I'm learning about JS and TypeScript and I need to generate a separate React component for each of these items: </p>\n\n<p>Say I have this object</p>\n\n<pre><code>var regions = {\n    NA: [\"US\", \"ABC1\"],\n    EU: [\"GB\", \"LX\", \"IT\"],\n    FE: [\"JP\", \"DEF1\"],\n    CN: [\"CN\"]\n}\n</code></pre>\n\n<p>I'm trying to loop through and return a component for each key (NA/EU/FE/CN) and each item in the array (US, ABC1, etc.) </p>\n\n<p>I can print out the values I want in a for loop: </p>\n\n<pre><code>for (let key in region) {\n    for (let item in region[key]) {\n        console.log(\"key: \" + key + \" item \" + region[key][item]);\n    }\n}\n</code></pre>\n\n<p>as a sanity test, but instead of doing this, I want each item to be mapped to a Component so that from the function, I can return an entire list of Components. Any recommended ways of doing this? </p>\n"}, {"tags": ["node.js", "typescript", "firebase", "asynchronous", "google-cloud-functions"], "answers": [{"tags": [], "owner": {"reputation": 233128, "user_id": 807126, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xpNqK.jpg?s=128&g=1", "display_name": "Doug Stevenson", "link": "https://stackoverflow.com/users/807126/doug-stevenson"}, "is_accepted": false, "score": 3, "last_activity_date": 1516834031, "creation_date": 1516834031, "answer_id": 48432969, "question_id": 48432930, "link": "https://stackoverflow.com/questions/48432930/resolving-promises-within-a-foreach-statement/48432969#48432969", "title": "Resolving promises within a foreach statement", "body": "<p>You'll have to collect all your promises into and array and use <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise/all\" rel=\"nofollow noreferrer\">Promise.all()</a> to generate a new promise that's resolved only after each one of them is resolved.  The general form is like this:</p>\n\n<pre><code>const promises = []\nthings.forEach(thing =&gt; {\n    promises.push(createPromiseForWork(thing))\n})\nconst p = Promise.all(promises)\np.then(() =&gt; {\n    // continue with your work\n})\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 22049, "user_id": 6293409, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/74f518a7b20445607bcf0b09f4c26ce1?s=128&d=identicon&r=PG&f=1", "display_name": "CRice", "link": "https://stackoverflow.com/users/6293409/crice"}, "is_accepted": true, "score": 3, "last_activity_date": 1516835707, "last_edit_date": 1516835707, "creation_date": 1516834049, "answer_id": 48432972, "question_id": 48432930, "link": "https://stackoverflow.com/questions/48432930/resolving-promises-within-a-foreach-statement/48432972#48432972", "title": "Resolving promises within a foreach statement", "body": "<p>This is simple enough if you use <code>Promise.all</code> and <code>map</code>:</p>\n\n<pre><code>export const setLeagues = (res: any, leaguesArray: any) =&gt; {\n    // Wrap in a Promise.all, and use .map instead of .forEach:\n    Promise.all(leaguesArray.map((element: any) =&gt; {\n        // Make sure to return promise here...\n        return firebaseAdmin.firestore().collection('leagues').add(element)\n            .catch((err: any) =&gt; { res.send(err) })\n    })).then(() =&gt; {\n        // Do things here that need to wait for all promises to resolve.\n    })\n}\n</code></pre>\n\n<hr>\n\n<p>I'll note that due to the way <code>Promise.all</code> works, you may want to change the way you handle an error as well. <code>Promise.all</code> rejects as soon as any of it's wrapped promises reject, or resolves when all of its wrapped promises resolve. So I would recommend moving your <code>.catch</code> to chain off the <code>Promise.all</code> rather than the inner promises to avoid sending a response twice:</p>\n\n<pre><code>export const setLeagues = (res: any, leaguesArray: any) =&gt; {\n    // Wrap in a Promise.all, and use .map instead of .forEach:\n    Promise.all(leaguesArray.map((element: any) =&gt; {\n        // Make sure to return promise here...\n        return firebaseAdmin.firestore().collection('leagues').add(element)\n    })).then(() =&gt; {\n        // Do things here that need to wait for all promises to resolve.\n        res.send('Successfully Added!')\n    }).catch((err: any) =&gt; {\n        // Consider moving error handler to here instead...\n        res.send(err)\n    })\n}\n</code></pre>\n"}], "owner": {"reputation": 47, "user_id": 9244273, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/734ef074405081a8a5b6b2094299e55f?s=128&d=identicon&r=PG&f=1", "display_name": "Divan van Biljon", "link": "https://stackoverflow.com/users/9244273/divan-van-biljon"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 642, "favorite_count": 0, "accepted_answer_id": 48432972, "answer_count": 2, "score": 1, "last_activity_date": 1516835707, "creation_date": 1516833816, "question_id": 48432930, "link": "https://stackoverflow.com/questions/48432930/resolving-promises-within-a-foreach-statement", "title": "Resolving promises within a foreach statement", "body": "<p>I'm trying to resolve multiple promises and return something when all of them have resolved</p>\n\n<p>I've looked around but can't find a solution or I'm just not understanding.</p>\n\n<p>My Code:</p>\n\n<pre><code>export const setLeagues = (res: any, leaguesArray: any) =&gt; {\nleaguesArray.forEach((element: any) =&gt; {\n    firebaseAdmin.firestore().collection('leagues').add(element)\n        .catch((err: any) =&gt; { res.send(err) })\n})\n</code></pre>\n\n<p>}</p>\n\n<p>I want to do a <code>res.send('Successfully Added!)</code> when all promises in the forEach has resolved.</p>\n"}, {"tags": ["html", "angular", "typescript"], "comments": [{"owner": {"reputation": 5977, "user_id": 5683579, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/8c263738dccc90304c0ac71ed8ed505b?s=128&d=identicon&r=PG", "display_name": "joh04667", "link": "https://stackoverflow.com/users/5683579/joh04667"}, "edited": false, "score": 1, "creation_date": 1516834260, "post_id": 48432919, "comment_id": 83857302, "body": "The only way would be to store the info outside of the website, e.g. <code>localStorage</code> or server-side."}, {"owner": {"reputation": 46655, "user_id": 1647604, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/de0a77110ab57284e2a8d57858f714a3?s=128&d=identicon&r=PG", "display_name": "DeborahK", "link": "https://stackoverflow.com/users/1647604/deborahk"}, "edited": false, "score": 0, "creation_date": 1516838365, "post_id": 48432919, "comment_id": 83858591, "body": "Are you referring to one window (template) in an application that you want the user to return to <i>while in the same application</i>? Or do need to retain the data after the user <i>exits</i> the application and restarts. If the later, then use the <code>localStorage</code> suggestions. If the former, use a service instead."}], "answers": [{"tags": [], "owner": {"reputation": 163228, "user_id": 383904, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/qCWYU.jpg?s=128&g=1", "display_name": "Roko C. Buljan", "link": "https://stackoverflow.com/users/383904/roko-c-buljan"}, "is_accepted": true, "score": 1, "last_activity_date": 1516836401, "last_edit_date": 1516836401, "creation_date": 1516834440, "answer_id": 48433045, "question_id": 48432919, "link": "https://stackoverflow.com/questions/48432919/preserve-input-value-on-page-reload-refresh/48433045#48433045", "title": "Preserve input value on page reload / refresh", "body": "<p>You could use <strong><a href=\"https://developer.mozilla.org/en-US/docs/Web/API/Window/localStorage\" rel=\"nofollow noreferrer\"><em>Window.localStorage</em></a></strong> to store a stringified JSON like</p>\n\n<pre><code>{\n    \"name\" : \"John\",\n    \"surname\" : \"Doe\",\n    \"message\" : \"Hello, World!\"\n}\n</code></pre>\n\n<p>where <code>name</code>, <code>surname</code> and <code>message</code> are the actual element <code>name=\"***\"</code> attribute.  </p>\n\n<p><strong><a href=\"https://jsfiddle.net/RokoCB/kL3ye6wq/1/\" rel=\"nofollow noreferrer\">jsFiddle demo</a></strong> (enter some values and refresh page)</p>\n\n<pre><code>// Get Object literal from LocalStorage\nlet memory = JSON.parse(localStorage.memory || \"{}\");\n\n// Loop input elements on page\n[...document.querySelectorAll('input, textarea')].forEach( el =&gt; {\n\n    // prepopulate from memory\n    if ( el.name in memory ) {\n        el.value = memory[el.name]\n    }\n\n    // save to memory\n    el.addEventListener(\"input\", () =&gt; {\n        memory[el.name] = el.value;\n        localStorage.memory = JSON.stringify(memory);\n    });\n});\n</code></pre>\n"}], "owner": {"reputation": 37, "user_id": 5953438, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/16e37c9d23468a11577304ef23f2d695?s=128&d=identicon&r=PG&f=1", "display_name": "ColdDigital", "link": "https://stackoverflow.com/users/5953438/colddigital"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 494, "favorite_count": 0, "accepted_answer_id": 48433045, "answer_count": 1, "score": 1, "last_activity_date": 1516836401, "creation_date": 1516833763, "last_edit_date": 1516835928, "question_id": 48432919, "link": "https://stackoverflow.com/questions/48432919/preserve-input-value-on-page-reload-refresh", "title": "Preserve input value on page reload / refresh", "body": "<p>Im trying to keep whatever a user has written into an input field inside, the input field even after the input window closes and someone reopens it. \nFor example:\nI type in \"hello\" into an empty input field, I then close the window. When I reopen the window I want to see \"hello\" in the field again. </p>\n\n<p>Is there a way to do this?</p>\n\n<p>Many thanks, any help is much appreciated!</p>\n"}, {"tags": ["javascript", "reactjs", "typescript", "ecmascript-6", "material-ui"], "answers": [{"comments": [{"owner": {"reputation": 3238, "user_id": 7486612, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9bc85993039d8b9241a72ca5ceb4c4a4?s=128&d=identicon&r=PG&f=1", "display_name": "Sidney", "link": "https://stackoverflow.com/users/7486612/sidney"}, "edited": false, "score": 3, "creation_date": 1516833129, "post_id": 48432781, "comment_id": 83856815, "body": "Exactly. I believe the material-ui docs also say that if you have tree-shaking enabled, it doesn&#39;t matter which import you use."}, {"owner": {"reputation": 1049, "user_id": 4856301, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4702bc684e908ea109e5a8046c71af5e?s=128&d=identicon&r=PG", "display_name": "Charles Stover", "link": "https://stackoverflow.com/users/4856301/charles-stover"}, "edited": false, "score": 4, "creation_date": 1516833224, "post_id": 48432781, "comment_id": 83856855, "body": "Wow, I&#39;m dumb. It&#39;s not emphasizing the curly braces; it&#39;s emphasizing the file path. Thanks!"}, {"owner": {"reputation": 3393, "user_id": 1071200, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/abdd51267ac451eebb27eca7d56e7b33?s=128&d=identicon&r=PG", "display_name": "Lars Gyrup Brink Nielsen", "link": "https://stackoverflow.com/users/1071200/lars-gyrup-brink-nielsen"}, "reply_to_user": {"reputation": 3238, "user_id": 7486612, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9bc85993039d8b9241a72ca5ceb4c4a4?s=128&d=identicon&r=PG&f=1", "display_name": "Sidney", "link": "https://stackoverflow.com/users/7486612/sidney"}, "edited": false, "score": 0, "creation_date": 1516833523, "post_id": 48432781, "comment_id": 83856985, "body": "That&#39;s partially right, @Sidney. It does not affect the production bundle size when tree shaking. However, while developing we still take the hit from parsing and executing all that JavaScript."}, {"owner": {"reputation": 39159, "user_id": 1541563, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/U4EOh.png?s=128&g=1", "display_name": "Patrick Roberts", "link": "https://stackoverflow.com/users/1541563/patrick-roberts"}, "reply_to_user": {"reputation": 3238, "user_id": 7486612, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9bc85993039d8b9241a72ca5ceb4c4a4?s=128&d=identicon&r=PG&f=1", "display_name": "Sidney", "link": "https://stackoverflow.com/users/7486612/sidney"}, "edited": false, "score": 0, "creation_date": 1516833962, "post_id": 48432781, "comment_id": 83857183, "body": "@Sidney there is an absolute benefit to always preferring single component imports to equivalent named imports from module namespace, whether or not you have tree-shaking enabled, because it <i>reduces duration of compiling</i>. By &quot;compiling&quot; I mean transpiling / bundling / tree-shaking / minifying. So even if the outcome of the runtime code is ultimately the same, you still have faster compilation time."}, {"owner": {"reputation": 39159, "user_id": 1541563, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/U4EOh.png?s=128&g=1", "display_name": "Patrick Roberts", "link": "https://stackoverflow.com/users/1541563/patrick-roberts"}, "reply_to_user": {"reputation": 507143, "user_id": 1048572, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/7f2c4de95e8f4f8f5a71c3aaf0ed312a?s=128&d=identicon&r=PG", "display_name": "Bergi", "link": "https://stackoverflow.com/users/1048572/bergi"}, "edited": false, "score": 0, "creation_date": 1516849770, "post_id": 48432781, "comment_id": 83861444, "body": "@Bergi I think that goes without saying... I said nothing about syntax."}], "tags": [], "owner": {"reputation": 3393, "user_id": 1071200, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/abdd51267ac451eebb27eca7d56e7b33?s=128&d=identicon&r=PG", "display_name": "Lars Gyrup Brink Nielsen", "link": "https://stackoverflow.com/users/1071200/lars-gyrup-brink-nielsen"}, "is_accepted": true, "score": 9, "last_activity_date": 1516833397, "last_edit_date": 1516833397, "creation_date": 1516833068, "answer_id": 48432781, "question_id": 48432754, "link": "https://stackoverflow.com/questions/48432754/why-is-exporting-importing-default-es-module-properties-faster-than-names-module/48432781#48432781", "title": "Why is exporting/importing default ES module properties faster than names module properties?", "body": "<p>The key thing is not whether the module has a default export or not, but the fact that you import a module that includes all the Material UI Components (the <code>material-ui</code> module) instead of the module that includes only the <code>RaisedButton</code> component (the <code>material-ui/RaisedButton</code> module).</p>\n\n<p>To be absolutely clear: We should be using the module that only includes a single component, i.e. <code>material-ui/RaisedButton</code>.</p>\n"}], "owner": {"reputation": 1049, "user_id": 4856301, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4702bc684e908ea109e5a8046c71af5e?s=128&d=identicon&r=PG", "display_name": "Charles Stover", "link": "https://stackoverflow.com/users/4856301/charles-stover"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 118, "favorite_count": 0, "accepted_answer_id": 48432781, "answer_count": 1, "score": 4, "last_activity_date": 1516833397, "creation_date": 1516832899, "question_id": 48432754, "link": "https://stackoverflow.com/questions/48432754/why-is-exporting-importing-default-es-module-properties-faster-than-names-module", "title": "Why is exporting/importing default ES module properties faster than names module properties?", "body": "<p>I'm reading the Material UI documentation, and it states:</p>\n\n<blockquote>\n  <p>Notice that in the above example, we used:\n  <code>import RaisedButton from 'material-ui/RaisedButton';</code> instead of\n  <code>import {RaisedButton} from 'material-ui';</code> This will make your build\n  process faster and your build output smaller.</p>\n</blockquote>\n\n<p>I cannot find any justification for why the use of default exports makes the build process faster or build output smaller.</p>\n\n<p>My manager is asking us to refrain from using default exports, however a smaller build size is an important target for this project. I mentioned this quote by Material UI, and they said to find proof. I'd like some proof, please, as my attempts to compile it with Babel have shown <code>default</code> to be larger if anything.</p>\n"}, {"tags": ["javascript", "typescript"], "comments": [{"owner": {"reputation": 25995, "user_id": 5152732, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-eL0xfQom3xQ/AAAAAAAAAAI/AAAAAAAAB1E/j1B2Mcgvt6M/photo.jpg?sz=128", "display_name": "toskv", "link": "https://stackoverflow.com/users/5152732/toskv"}, "edited": false, "score": 3, "creation_date": 1516829715, "post_id": 48431902, "comment_id": 83855094, "body": "this code is already valid typescript. What else would you need it to do?"}], "answers": [{"comments": [{"owner": {"reputation": 3393, "user_id": 1071200, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/abdd51267ac451eebb27eca7d56e7b33?s=128&d=identicon&r=PG", "display_name": "Lars Gyrup Brink Nielsen", "link": "https://stackoverflow.com/users/1071200/lars-gyrup-brink-nielsen"}, "edited": false, "score": 0, "creation_date": 1516831935, "post_id": 48432349, "comment_id": 83856225, "body": "Please stop using TypeScript namespaces. They prevent you from using ES6 Module imports. It is time to leave that sad piece of history behind!"}, {"owner": {"reputation": 26921, "user_id": 1088797, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/bltA9.png?s=128&g=1", "display_name": "Dan Prince", "link": "https://stackoverflow.com/users/1088797/dan-prince"}, "reply_to_user": {"reputation": 3393, "user_id": 1071200, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/abdd51267ac451eebb27eca7d56e7b33?s=128&d=identicon&r=PG", "display_name": "Lars Gyrup Brink Nielsen", "link": "https://stackoverflow.com/users/1071200/lars-gyrup-brink-nielsen"}, "edited": false, "score": 0, "creation_date": 1516883187, "post_id": 48432349, "comment_id": 83876923, "body": "@LarsGyrupBrinkNielsen It sounds like you&#39;re getting mixed up with named exports vs default exports and blaming it on namespaces. A default export object shares all the same problems as a default export namespace."}, {"owner": {"reputation": 26921, "user_id": 1088797, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/bltA9.png?s=128&g=1", "display_name": "Dan Prince", "link": "https://stackoverflow.com/users/1088797/dan-prince"}, "reply_to_user": {"reputation": 3393, "user_id": 1071200, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/abdd51267ac451eebb27eca7d56e7b33?s=128&d=identicon&r=PG", "display_name": "Lars Gyrup Brink Nielsen", "link": "https://stackoverflow.com/users/1071200/lars-gyrup-brink-nielsen"}, "edited": false, "score": 0, "creation_date": 1516883279, "post_id": 48432349, "comment_id": 83876979, "body": "Or if you&#39;re sure, feel free to go read the source for the TypeScript compiler, which makes heavy use of namespaces as a feature and tell them to leave it behind. They&#39;re still an important construct for creating scoped types."}, {"owner": {"reputation": 3393, "user_id": 1071200, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/abdd51267ac451eebb27eca7d56e7b33?s=128&d=identicon&r=PG", "display_name": "Lars Gyrup Brink Nielsen", "link": "https://stackoverflow.com/users/1071200/lars-gyrup-brink-nielsen"}, "edited": false, "score": 0, "creation_date": 1516886460, "post_id": 48432349, "comment_id": 83879109, "body": "I am talking about being able to use <code>import { someStuff } from &#39;.&#47;some-es6-module&#39;;</code>. If you know how to do that in a file with a namespace, please let me know. The same goes for accessing exported members of a namespace from an ES6 Module."}, {"owner": {"reputation": 26921, "user_id": 1088797, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/bltA9.png?s=128&g=1", "display_name": "Dan Prince", "link": "https://stackoverflow.com/users/1088797/dan-prince"}, "reply_to_user": {"reputation": 3393, "user_id": 1071200, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/abdd51267ac451eebb27eca7d56e7b33?s=128&d=identicon&r=PG", "display_name": "Lars Gyrup Brink Nielsen", "link": "https://stackoverflow.com/users/1071200/lars-gyrup-brink-nielsen"}, "edited": false, "score": 0, "creation_date": 1516886686, "post_id": 48432349, "comment_id": 83879257, "body": "That&#39;s a named export, which isn&#39;t possible with objects or namespaces if you are using <code>export default</code> like OP."}, {"owner": {"reputation": 3393, "user_id": 1071200, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/abdd51267ac451eebb27eca7d56e7b33?s=128&d=identicon&r=PG", "display_name": "Lars Gyrup Brink Nielsen", "link": "https://stackoverflow.com/users/1071200/lars-gyrup-brink-nielsen"}, "edited": false, "score": 0, "creation_date": 1516910385, "post_id": 48432349, "comment_id": 83894754, "body": "So if we have <code>export default namespace Debug { &#47;&#47; ... }</code> or even just <code>export namespace Debug { &#47;&#47; ... }</code> we can&#39;t reference it from an ES6 module or reference an ES6 module from the file containing the namespace, is that right?"}, {"owner": {"reputation": 26921, "user_id": 1088797, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/bltA9.png?s=128&g=1", "display_name": "Dan Prince", "link": "https://stackoverflow.com/users/1088797/dan-prince"}, "reply_to_user": {"reputation": 3393, "user_id": 1071200, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/abdd51267ac451eebb27eca7d56e7b33?s=128&d=identicon&r=PG", "display_name": "Lars Gyrup Brink Nielsen", "link": "https://stackoverflow.com/users/1071200/lars-gyrup-brink-nielsen"}, "edited": false, "score": 0, "creation_date": 1516910646, "post_id": 48432349, "comment_id": 83894891, "body": "Yeah, of course. <code>import Debug from &quot;...&quot;</code> or <code>import { Debug } from  &quot;...&quot;</code>. Namespaces compile down into IIFEs that return objects."}, {"owner": {"reputation": 3393, "user_id": 1071200, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/abdd51267ac451eebb27eca7d56e7b33?s=128&d=identicon&r=PG", "display_name": "Lars Gyrup Brink Nielsen", "link": "https://stackoverflow.com/users/1071200/lars-gyrup-brink-nielsen"}, "edited": false, "score": 0, "creation_date": 1516913750, "post_id": 48432349, "comment_id": 83896442, "body": "Thanks. I am working with some legacy code is written exclusively with namespaces and I just can&#39;t seem to make it work with ES6 Modules and NPM Packages. <code>export default namespace Debug { &#47;&#47; ... }</code> does not seem to be valid."}, {"owner": {"reputation": 26921, "user_id": 1088797, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/bltA9.png?s=128&g=1", "display_name": "Dan Prince", "link": "https://stackoverflow.com/users/1088797/dan-prince"}, "reply_to_user": {"reputation": 3393, "user_id": 1071200, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/abdd51267ac451eebb27eca7d56e7b33?s=128&d=identicon&r=PG", "display_name": "Lars Gyrup Brink Nielsen", "link": "https://stackoverflow.com/users/1071200/lars-gyrup-brink-nielsen"}, "edited": false, "score": 0, "creation_date": 1516916465, "post_id": 48432349, "comment_id": 83897832, "body": "You can do <code>namespace Debug { ... } export default Debug</code>."}, {"owner": {"reputation": 26921, "user_id": 1088797, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/bltA9.png?s=128&g=1", "display_name": "Dan Prince", "link": "https://stackoverflow.com/users/1088797/dan-prince"}, "reply_to_user": {"reputation": 3393, "user_id": 1071200, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/abdd51267ac451eebb27eca7d56e7b33?s=128&d=identicon&r=PG", "display_name": "Lars Gyrup Brink Nielsen", "link": "https://stackoverflow.com/users/1071200/lars-gyrup-brink-nielsen"}, "edited": false, "score": 0, "creation_date": 1516916585, "post_id": 48432349, "comment_id": 83897884, "body": "For the same reason you can&#39;t do <code>export default const Debug = { ... }</code>"}, {"owner": {"reputation": 3393, "user_id": 1071200, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/abdd51267ac451eebb27eca7d56e7b33?s=128&d=identicon&r=PG", "display_name": "Lars Gyrup Brink Nielsen", "link": "https://stackoverflow.com/users/1071200/lars-gyrup-brink-nielsen"}, "edited": false, "score": 0, "creation_date": 1516963419, "post_id": 48432349, "comment_id": 83912355, "body": "Thanks for the tips. Nested namespaces are still a pain. I am deprecating them in the codebase and converting to ES6 Modules where possible."}], "tags": [], "owner": {"reputation": 26921, "user_id": 1088797, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/bltA9.png?s=128&g=1", "display_name": "Dan Prince", "link": "https://stackoverflow.com/users/1088797/dan-prince"}, "is_accepted": false, "score": 1, "last_activity_date": 1516916534, "last_edit_date": 1516916534, "creation_date": 1516831121, "answer_id": 48432349, "question_id": 48431902, "link": "https://stackoverflow.com/questions/48431902/typescript-how-to-declare-anonymous-object-with-known-properties/48432349#48432349", "title": "Typescript - How to declare anonymous object with known properties?", "body": "<p>I would say that the idiomatic way would be to use namespaces.</p>\n\n<pre><code>namespace Debug {\n  export enum Modes { DEV, PROD }\n\n  export var mode: Modes = Modes.DEV;\n\n  export function isInProdMode(): boolean {\n    return mode === Modes.PROD;\n  }\n\n  export function assert(condition: boolean, message: string) {\n    if (condition) {\n      if (isInProdMode()) {\n        console.warn(message);\n      } else {\n        throw message;\n      }\n    }\n  }\n} \n\nexport default Debug\n</code></pre>\n\n<p>However, namespaces don't support getters and setters, so that getter would need to be converted into a regular function.</p>\n\n<p>If you need to declare this code as an object, then you could define the enum first, then reference in from the object.</p>\n\n<pre><code>enum Modes { DEV, PROD }\n\nconst Debug = {\n  mode: Modes = Modes.DEV,\n  get isInProdMode(): boolean {\n    return Debug.mode === Modes.PROD;\n  },\n  assert(condition: boolean, message: string) {\n    // ...\n  }\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 5759, "user_id": 4170935, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/J9I6b.png?s=128&g=1", "display_name": "Yairopro", "link": "https://stackoverflow.com/users/4170935/yairopro"}, "edited": false, "score": 0, "creation_date": 1516832904, "post_id": 48432418, "comment_id": 83856706, "body": "<code>const Debug: IDebug = {         Modes,         &#47;&#47; ...      }</code> I would never think this possible. &#212;.&#212;"}], "tags": [], "owner": {"reputation": 21519, "user_id": 639716, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/NN38X.png?s=128&g=1", "display_name": "pete", "link": "https://stackoverflow.com/users/639716/pete"}, "is_accepted": true, "score": 4, "last_activity_date": 1516831372, "creation_date": 1516831372, "answer_id": 48432418, "question_id": 48431902, "link": "https://stackoverflow.com/questions/48431902/typescript-how-to-declare-anonymous-object-with-known-properties/48432418#48432418", "title": "Typescript - How to declare anonymous object with known properties?", "body": "<p>The way I've tended to resolve these scenarios is to just make interfaces for the properties of the anonymous objects, and then interfaces for the anonymous objects:</p>\n\n<pre><code>enum Modes {\n    DEV     = 0,\n    PROD    = 1,\n}\n\ninterface IDebug {\n    mode: Modes | null;\n    Modes: typeof Modes;\n    readonly isInProdMode: boolean;\n    assert: (condition: boolean, message: string) =&gt; void;\n}\n\nconst Debug: IDebug = {\n    mode: null,\n    Modes,\n    get isInProdMode() {\n        return Debug.mode === Debug.Modes.PROD;\n    },\n    assert: (condition, message) =&gt; {\n        if (condition) {\n            if (Debug.isInProdMode) {\n                console.warn(message);\n            } else {\n                throw message;\n            }\n        }\n    },\n};\n\nexport default Debug;\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 5759, "user_id": 4170935, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/J9I6b.png?s=128&g=1", "display_name": "Yairopro", "link": "https://stackoverflow.com/users/4170935/yairopro"}, "edited": false, "score": 0, "creation_date": 1516833122, "post_id": 48432541, "comment_id": 83856813, "body": "My question was about converting the Debug module."}, {"owner": {"reputation": 3393, "user_id": 1071200, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/abdd51267ac451eebb27eca7d56e7b33?s=128&d=identicon&r=PG", "display_name": "Lars Gyrup Brink Nielsen", "link": "https://stackoverflow.com/users/1071200/lars-gyrup-brink-nielsen"}, "reply_to_user": {"reputation": 5759, "user_id": 4170935, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/J9I6b.png?s=128&g=1", "display_name": "Yairopro", "link": "https://stackoverflow.com/users/4170935/yairopro"}, "edited": false, "score": 0, "creation_date": 1516833231, "post_id": 48432541, "comment_id": 83856862, "body": "Excuse me, I seem to have missed your point. What do you mean by <i>converting</i> it?"}, {"owner": {"reputation": 5759, "user_id": 4170935, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/J9I6b.png?s=128&g=1", "display_name": "Yairopro", "link": "https://stackoverflow.com/users/4170935/yairopro"}, "edited": false, "score": 0, "creation_date": 1516833664, "post_id": 48432541, "comment_id": 83857047, "body": "For instance, make <code>Modes</code>an enum. Or add a signature to the <code>assert</code> function. I didn&#39;t manage to do it because it was in a anonymous object, not in a class declaration. But I got the answer from @pete. Thanks."}], "tags": [], "owner": {"reputation": 3393, "user_id": 1071200, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/abdd51267ac451eebb27eca7d56e7b33?s=128&d=identicon&r=PG", "display_name": "Lars Gyrup Brink Nielsen", "link": "https://stackoverflow.com/users/1071200/lars-gyrup-brink-nielsen"}, "is_accepted": false, "score": 0, "last_activity_date": 1516831869, "creation_date": 1516831869, "answer_id": 48432541, "question_id": 48431902, "link": "https://stackoverflow.com/questions/48431902/typescript-how-to-declare-anonymous-object-with-known-properties/48432541#48432541", "title": "Typescript - How to declare anonymous object with known properties?", "body": "<pre><code>// index.js\nimport Debug from './debug';\n\nDebug.mode = Debug.Modes.DEV;\nconsole.log(Debug.isInProdMode);\n// false\n</code></pre>\n"}], "owner": {"reputation": 5759, "user_id": 4170935, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/J9I6b.png?s=128&g=1", "display_name": "Yairopro", "link": "https://stackoverflow.com/users/4170935/yairopro"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4407, "favorite_count": 0, "accepted_answer_id": 48432418, "answer_count": 3, "score": 3, "last_activity_date": 1516916534, "creation_date": 1516829363, "last_edit_date": 1516863893, "question_id": 48431902, "link": "https://stackoverflow.com/questions/48431902/typescript-how-to-declare-anonymous-object-with-known-properties", "title": "Typescript - How to declare anonymous object with known properties?", "body": "<p>In JS, a lot of my modules are just objects that wrap static functions, enums and properties. For example, I've got a module <code>Debug</code> which is similar to this (I really simplified it):</p>\n\n<pre><code>export default Debug = {\n    // Current mode set, enum value from Modes. Setted outside of the module (see below).\n    mode : null,\n\n    // Enum of all possible modes\n    Modes : {\n        DEV : 0,\n        PROD : 1,\n    },\n\n    // getter, checks if it's in production mode\n    get isInProdMode() {\n        return Debug.mode === Debug.Modes.PROD;\n    },\n\n    // If the condition is met, it will throw an error in development mode, or just silently log a warning in production mode\n    assert : function(condition, message){\n        if (condiftion) {\n            if (Debug.isInProdMode)\n                console.warn(message);\n            else\n                throw message;\n        }\n    }\n}\n\n// index.js\nDebug.mode = Debug.Modes.DEV;\n</code></pre>\n\n<p>How can I make an anonymous object like this in Typescript? With an Enum as property? And a getter function? All properties are known.\nI'm really stuck.</p>\n"}, {"tags": ["angular", "typescript", "date-pipe"], "answers": [{"comments": [{"owner": {"reputation": 1125, "user_id": 6124415, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/dcf2e4e3a315e3b15b935b14c80d889c?s=128&d=identicon&r=PG&f=1", "display_name": "pb4now", "link": "https://stackoverflow.com/users/6124415/pb4now"}, "edited": false, "score": 0, "creation_date": 1516833817, "post_id": 48432833, "comment_id": 83857122, "body": "that was great ty alot"}, {"owner": {"reputation": 373, "user_id": 2707106, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/lWHUp.jpg?s=128&g=1", "display_name": "Gihanmu", "link": "https://stackoverflow.com/users/2707106/gihanmu"}, "edited": false, "score": 0, "creation_date": 1606199091, "post_id": 48432833, "comment_id": 114882654, "body": "This is gold. Even before trying this code, I knew that this would work. Thanks"}], "tags": [], "owner": {"reputation": 57675, "user_id": 1009922, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/K0eeL.jpg?s=128&g=1", "display_name": "ConnorsFan", "link": "https://stackoverflow.com/users/1009922/connorsfan"}, "is_accepted": true, "score": 12, "last_activity_date": 1516836265, "last_edit_date": 1516836265, "creation_date": 1516833325, "answer_id": 48432833, "question_id": 48431790, "link": "https://stackoverflow.com/questions/48431790/date-not-updating-after-change-of-a-month/48432833#48432833", "title": "Date not updating after change of a month", "body": "<p>Angular does not detect any change when the Date object is modified. One way to force change detection is to create a new Date object every time you modify the date. You can see in <a href=\"https://stackblitz.com/edit/angular-vbtwpk\" rel=\"noreferrer\"><strong>this stackblitz</strong></a> that it works without invoking <code>ChangeDetectorRef.detectChanges</code> manually (except, maybe, if your component uses <code>ChangeDetectionStrategy.OnPush</code>).</p>\n\n<pre><code>export class MyComponent implements OnInit {\n\n  public currentDate: Date;\n\n  ngOnInit() {\n    this.currentDate = new Date();\n  }\n\n  switchToNextMonth() {\n    this.incrementMonth(1);\n  }\n\n  switchToPrevMonth() {\n    this.incrementMonth(-1);\n  }\n\n  private incrementMonth(delta: number): void {\n    this.currentDate = new Date(\n      this.currentDate.getFullYear(),\n      this.currentDate.getMonth() + delta,\n      this.currentDate.getDate());\n  }\n}\n</code></pre>\n"}], "owner": {"reputation": 1125, "user_id": 6124415, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/dcf2e4e3a315e3b15b935b14c80d889c?s=128&d=identicon&r=PG&f=1", "display_name": "pb4now", "link": "https://stackoverflow.com/users/6124415/pb4now"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1985, "favorite_count": 0, "accepted_answer_id": 48432833, "answer_count": 1, "score": 7, "last_activity_date": 1516836265, "creation_date": 1516828880, "last_edit_date": 1516829202, "question_id": 48431790, "link": "https://stackoverflow.com/questions/48431790/date-not-updating-after-change-of-a-month", "title": "Date not updating after change of a month", "body": "<p>I just making a simple view where I can Change a month :</p>\n\n<pre><code>    &lt;button class=\"btn btn-primary\" (click)=\"switchToPrevMonth()\"&gt;&lt;&lt;/button&gt;\n{{currentDate|date:'MMMM'}}\n&lt;button class=\"btn btn-primary\" (click)=\"switchToNextMonth()\"&gt;&gt;&lt;/button&gt;\n</code></pre>\n\n<p>and then in my .ts:</p>\n\n<pre><code>ngOnInit() {\nthis.currentDate = new Date();\n}\n\nswitchToNextMonth() {\n this.currentDate.setMonth(this.currentDate.getMonth()+1)\n this.cdRef.detectChanges()\n}\n\nswitchToPrevMonth() {\nthis.currentDate.setMonth(this.currentDate.getMonth()-1)\nthis.cdRef.detectChanges()\n}\n</code></pre>\n\n<p>but it doesn't refresh the date - I made it work by creating a methode getDate() that uses DatePipe in ts(look code below) and returns a string but would like to know why the first case didn't work and if there is a way to make it work...?:s</p>\n\n<p>code that works:</p>\n\n<pre><code>    &lt;button class=\"btn btn-primary\" (click)=\"switchToPrevMonth()\"&gt;&lt;&lt;/button&gt;\n{{getDate()}}\n&lt;button class=\"btn btn-primary\" (click)=\"switchToNextMonth()\"&gt;&gt;&lt;/button&gt;\n</code></pre>\n\n<p>.ts:</p>\n\n<pre><code>getDate():string{\nreturn this.dp.transform(this.currentDate,\"MMMM\");\n}\n</code></pre>\n"}, {"tags": ["angular", "typescript", "eventemitter"], "comments": [{"owner": {"reputation": 8973, "user_id": 6382928, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4tzxR.jpg?s=128&g=1", "display_name": "Frank Modica", "link": "https://stackoverflow.com/users/6382928/frank-modica"}, "edited": false, "score": 0, "creation_date": 1516828878, "post_id": 48431734, "comment_id": 83854653, "body": "If you don&#39;t want to use <code>EventEmitter</code>, you can pass callback functions into child components just using <code>@Input</code>"}, {"owner": {"reputation": 5977, "user_id": 5683579, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/8c263738dccc90304c0ac71ed8ed505b?s=128&d=identicon&r=PG", "display_name": "joh04667", "link": "https://stackoverflow.com/users/5683579/joh04667"}, "edited": false, "score": 1, "creation_date": 1516828947, "post_id": 48431734, "comment_id": 83854691, "body": "How are you making the child component delete itself? Normally components are not able to control their lifecycle. Usually it&#39;s the parent&#39;s responsibility, so an <code>EventEmitter</code> is the best solution."}, {"owner": {"reputation": 870, "user_id": 4196295, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-hf7qBrIMKn4/AAAAAAAAAAI/AAAAAAAAAAA/94bXGx6Kfik/photo.jpg?sz=128", "display_name": "Ben", "link": "https://stackoverflow.com/users/4196295/ben"}, "edited": false, "score": 0, "creation_date": 1516836037, "post_id": 48431734, "comment_id": 83857918, "body": "Are you using ngFor to create the array?"}, {"owner": {"reputation": 2566, "user_id": 5874702, "user_type": "registered", "accept_rate": 59, "profile_image": "https://i.stack.imgur.com/IPSB7.png?s=128&g=1", "display_name": "Roka545", "link": "https://stackoverflow.com/users/5874702/roka545"}, "reply_to_user": {"reputation": 870, "user_id": 4196295, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-hf7qBrIMKn4/AAAAAAAAAAI/AAAAAAAAAAA/94bXGx6Kfik/photo.jpg?sz=128", "display_name": "Ben", "link": "https://stackoverflow.com/users/4196295/ben"}, "edited": false, "score": 0, "creation_date": 1516836754, "post_id": 48431734, "comment_id": 83858132, "body": "@Ben Yes, I am using an ngFor."}], "answers": [{"tags": [], "owner": {"reputation": 870, "user_id": 4196295, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-hf7qBrIMKn4/AAAAAAAAAAI/AAAAAAAAAAA/94bXGx6Kfik/photo.jpg?sz=128", "display_name": "Ben", "link": "https://stackoverflow.com/users/4196295/ben"}, "is_accepted": false, "score": 2, "last_activity_date": 1541074587, "last_edit_date": 1541074587, "creation_date": 1516837093, "answer_id": 48433450, "question_id": 48431734, "link": "https://stackoverflow.com/questions/48431734/tell-parent-component-to-delete-child-from-that-same-child-component/48433450#48433450", "title": "Tell parent component to delete child from that same child component", "body": "<p>If you use an ngFor directive to create the loop of child components, you should be able to directly call a delete method from the parent.  For example:</p>\n\n<p>HTML</p>\n\n<pre><code>&lt;div *ngFor=\"let item of items; index as i;\"&gt;\n  &lt;div&gt;{{name}}&lt;/div&gt;\n  &lt;button (click)=\"delete(i)\"&gt;&lt;/button&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>Component</p>\n\n<pre><code>import { Component } from \"@angular/core\";\n\n@Component({\n  selector: \"app\",\n  templateUrl: \"./app.html\",\n})\nexport class AppComponent {    \n  public items = [{name: \"first\"}, {name: \"second\"}];\n\n  public delete(index: number) {\n    this.items.splice(index, 1);\n  }\n}\n</code></pre>\n\n<p>Each child component can directly call the delete method from the parent and then use the index to indicate which item in the list should be removed.</p>\n"}], "owner": {"reputation": 2566, "user_id": 5874702, "user_type": "registered", "accept_rate": 59, "profile_image": "https://i.stack.imgur.com/IPSB7.png?s=128&g=1", "display_name": "Roka545", "link": "https://stackoverflow.com/users/5874702/roka545"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1088, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1541074587, "creation_date": 1516828669, "question_id": 48431734, "link": "https://stackoverflow.com/questions/48431734/tell-parent-component-to-delete-child-from-that-same-child-component", "title": "Tell parent component to delete child from that same child component", "body": "<p>I have an Angular parent component that creates an array containing several child components based on a value (e.g., 1 ParentComponent creates 10 ChildComponents). The ChildComponent has HTML that displays several buttons, including a delete button. The delete button while make the child component delete itself. </p>\n\n<p>After deleting a ChildComponent, how should I go about notifying the parent of the change? After the deletion the parent still contains the deleted object in it's ChildComponents array. I've seen posts about using an Output EventEmitter, but is it possible to do this without an EventEmitter?</p>\n"}, {"tags": ["javascript", "typescript", "webrtc"], "comments": [{"owner": {"reputation": 469147, "user_id": 476, "user_type": "moderator", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/a235706e3d81b614acaec3368edfea4b?s=128&d=identicon&r=PG", "display_name": "deceze", "link": "https://stackoverflow.com/users/476/deceze"}, "edited": false, "score": 0, "creation_date": 1516877473, "post_id": 48431596, "comment_id": 83873267, "body": "I do not see where you&#39;re binding an event listener to <code>onicecandidate</code>\u2026!?"}, {"owner": {"reputation": 21, "user_id": 9263710, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-jD_kjGd7Zpc/AAAAAAAAAAI/AAAAAAAAAB0/UJMP3akmjUc/photo.jpg?sz=128", "display_name": "60pfennig", "link": "https://stackoverflow.com/users/9263710/60pfennig"}, "reply_to_user": {"reputation": 469147, "user_id": 476, "user_type": "moderator", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/a235706e3d81b614acaec3368edfea4b?s=128&d=identicon&r=PG", "display_name": "deceze", "link": "https://stackoverflow.com/users/476/deceze"}, "edited": false, "score": 0, "creation_date": 1516878189, "post_id": 48431596, "comment_id": 83873721, "body": "I just did not paste it. I update the post"}, {"owner": {"reputation": 469147, "user_id": 476, "user_type": "moderator", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/a235706e3d81b614acaec3368edfea4b?s=128&d=identicon&r=PG", "display_name": "deceze", "link": "https://stackoverflow.com/users/476/deceze"}, "edited": false, "score": 0, "creation_date": 1516878229, "post_id": 48431596, "comment_id": 83873746, "body": "It would be rather pertinent, don&#39;t you think?"}, {"owner": {"reputation": 21, "user_id": 9263710, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-jD_kjGd7Zpc/AAAAAAAAAAI/AAAAAAAAAB0/UJMP3akmjUc/photo.jpg?sz=128", "display_name": "60pfennig", "link": "https://stackoverflow.com/users/9263710/60pfennig"}, "reply_to_user": {"reputation": 469147, "user_id": 476, "user_type": "moderator", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/a235706e3d81b614acaec3368edfea4b?s=128&d=identicon&r=PG", "display_name": "deceze", "link": "https://stackoverflow.com/users/476/deceze"}, "edited": false, "score": 0, "creation_date": 1516878536, "post_id": 48431596, "comment_id": 83873936, "body": "maybe. but i&#39;m quite sure that it isn&#39;t the binding of the event. but I&#39;m the one who is doing mistakes, so I updated the post. :)"}], "owner": {"reputation": 21, "user_id": 9263710, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-jD_kjGd7Zpc/AAAAAAAAAAI/AAAAAAAAAB0/UJMP3akmjUc/photo.jpg?sz=128", "display_name": "60pfennig", "link": "https://stackoverflow.com/users/9263710/60pfennig"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 424, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1516880212, "creation_date": 1516828030, "last_edit_date": 1516880212, "question_id": 48431596, "link": "https://stackoverflow.com/questions/48431596/webrtc-onicecandidate-is-not-called", "title": "WebRTC - onicecandidate is not called", "body": "<p>I'm working since hours to get my simple WebRTC thing running. But <code>onicecandidate</code> does not get called (Except the null candidate). Also, after accepting the offer the callee fires the <code>negotationneeded</code> event. I thought this should only happen after creating an offer. I read nearly every WebRTC example in the internet but I don't find my mistake. </p>\n\n<p>The Event Handlers are only logging.</p>\n\n<p>Init:</p>\n\n<pre><code>this.ws = new WebSocket('ws://localhost:8443');\n        this.pc = new RTCPeerConnection(this.configuration);\n\n\n        var mediaConstraints = { audio: true, video: false };\n\n        var self = this;  \n        this.pc.onicecandidate = this.gotIceCandidate.bind(this);\n        this.pc.onaddstream = this.handleAddStream.bind(this);\n        this.pc.onremovestream = this.handleRemoveStream.bind(this);\n        this.pc.oniceconnectionstatechange = this.handleICEConnectionStateChange.bind(this);\n        this.pc.onicegatheringstatechange = this.handleICEGatheringStateChange.bind(this);\n        this.pc.onsignalingstatechange = this.handleSignalingStateChange.bind(this);\n        this.pc.onnegotiationneeded = this.handleNegotiationNeeded.bind(this); \n</code></pre>\n\n<p>Caller:</p>\n\n<pre><code>  if (!location.hash) { //the caller has a location.hash\n        self.initiator = true;\n        self.hash = self.createHash();\n        this.ws.onopen = () =&gt; {\n\n            this.localStream = new MediaStream();\n            navigator.mediaDevices.getUserMedia(mediaConstraints).then((stream) =&gt; {\n                //this.pc.onaddstream({stream:stream});\n                this.localStream = stream;\n                return this.pc.addStream(stream);\n            }).then(\n                () =&gt; {\n                    return this.pc.createOffer();\n                }).then(\n                (desc) =&gt; {\n                    return this.pc.setLocalDescription(desc)\n                }\n                ).then(\n                () =&gt; {\n                    let data = JSON.stringify({\n                        'sdp': this.pc.localDescription,\n                        'hash': this.hash,\n                        'initiator': this.initiator\n                    });\n                    this.ws.send(data);\n\n                    console.log(\"sdp send:\" + data);\n                }).catch(this.error);\n\n        }\n\n        this.ws.onmessage = function (msgRaw) {\n\n            let msg = JSON.parse(msgRaw.data);\n            console.log(\"recieved a msg for initiator: \" + msgRaw.data);\n            if (msg.sdp) {\n                self.pc.setRemoteDescription(new RTCSessionDescription(msg.sdp)).then(\n                    function () {\n                        console.log(\"initiator remote location set\")\n                    }\n                );\n\n            }\n            if (msg.ice) {\n                console.log(\"got ice message for initiator\" + msg.ice);\n                self.setIceCandiate(msg.ice);\n            }\n        }\n    }\n</code></pre>\n\n<p>Callee:</p>\n\n<pre><code>else {\n        this.ws.onmessage = (msgRaw) =&gt; {\n            console.log(\"recieved a msg for caller: \" + msgRaw.data);\n            let msg = JSON.parse(msgRaw.data);\n\n            if (msg.sdp) {\n                console.log(\"recieved a sdp for caller: \" + msg.sdp.type + msg.sdp.sdp);\n                self.pc.setRemoteDescription(new RTCSessionDescription(msg.sdp)).then(\n                    (() =&gt; {\n                        return navigator.mediaDevices.getUserMedia(mediaConstraints);\n                    })\n                ).then(\n                    (stream) =&gt; {\n                        //hier stream handlen\n                        this.localStream = stream;\n                        return this.pc.addStream(stream);\n                    }\n                    ).then(() =&gt; {\n                        return this.pc.createAnswer()\n                    })\n                    .then(\n                    (desc) =&gt; {\n                        return this.pc.setLocalDescription(desc)\n                    }\n                    ).then(() =&gt; {\n                        var data = JSON.stringify({\n                            'sdp': this.pc.localDescription,\n                            'initiator': this.initiator, 'hash': this.hash\n                        });\n                        console.log(data);\n                        this.ws.send(data);\n                    }).catch(this.error);\n            }\n            else if (msg.ice) {\n                console.log(\"got ice message for caller\" + msg.ice);\n                self.setIceCandiate(msg.ice);\n            }\n        }\n        this.hash = location.hash;\n        this.initiator = false;\n        this.ws.onopen = function () {\n            self.ws.send(JSON.stringify({\n                'hash': self.hash,\n                'initiator': self.initiator\n            }));\n        }\n    }\n</code></pre>\n\n<p>Event HAndler:</p>\n\n<pre><code>handleAddStream(): void {\n        console.log(\"handleAddStream\");\n    }\n\n\n    handleRemoveStream(): void {\n        console.log(\"handleRemoveStream\");\n    }\n\n    handleICEConnectionStateChange(): void {\n        console.log(\"handle ICE connection state change:\" + this.pc.iceConnectionState);\n    }\n    handleICEGatheringStateChange(): void {\n        console.log(\"handle ICE gathering state change: \" + this.pc.iceGatheringState);\n    }\n\n    handleSignalingStateChange(): void {\n        console.log(\"handle Signaling state change: \" + this.pc.signalingState);\n    }\n\n    handleNegotiationNeeded(): void {\n\n        console.log(\"handle negaotation needed\");\n    }\ngotIceCandidate(evt:RTCPeerConnectionIceEvent) {\n        console.log(\"onIceCandidate: \" + evt.candidate);\n        if (evt.candidate != null) {\n            console.log(\"got ice candidate\");\n            this.ws.send(JSON.stringify({\n                'ice': evt.candidate,\n                'initiator': this.initiator, 'hash': this.hash\n            })\n            )\n        }\n    }\n</code></pre>\n\n<p>This is the log of the caller (logged in Opera Dev Tools Console):</p>\n\n<pre><code>handle negaotation needed\nbundle.js:83572 sdp send:{\"sdp\":{\"type\":\"offer\",\"sdp\":\"v=0\\r\\no=- 1136332092735661893 2 IN IP4 127.0.0.1\\r\\ns=-\\r\\nt=0 0\\r\\na=group:BUNDLE audio\\r\\na=msid-semantic: WMS UAGAiTGJkol3ekmevak1bV3v5qAciinhzlKh\\r\\nm=audio 9 UDP/TLS/RTP/SAVPF 111 103 104 9 0 8 106 105 13 110 112 113 126\\r\\nc=IN IP4 0.0.0.0\\r\\na=rtcp:9 IN IP4 0.0.0.0\\r\\na=ice-ufrag:AMaT\\r\\na=ice-pwd:kl8Hzi7+XMuD5KhcteFZKBPM\\r\\na=ice-options:trickle\\r\\na=fingerprint:sha-256 32:F2:9A:92:09:8A:17:A6:52:20:88:01:FA:83:50:FC:6C:85:D0:51:1C:E4:81:88:36:C0:F6:34:F9:AF:20:10\\r\\na=setup:actpass\\r\\na=mid:audio\\r\\na=extmap:1 urn:ietf:params:rtp-hdrext:ssrc-audio-level\\r\\na=sendrecv\\r\\na=rtcp-mux\\r\\na=rtpmap:111 opus/48000/2\\r\\na=rtcp-fb:111 transport-cc\\r\\na=fmtp:111 minptime=10;useinbandfec=1\\r\\na=rtpmap:103 ISAC/16000\\r\\na=rtpmap:104 ISAC/32000\\r\\na=rtpmap:9 G722/8000\\r\\na=rtpmap:0 PCMU/8000\\r\\na=rtpmap:8 PCMA/8000\\r\\na=rtpmap:106 CN/32000\\r\\na=rtpmap:105 CN/16000\\r\\na=rtpmap:13 CN/8000\\r\\na=rtpmap:110 telephone-event/48000\\r\\na=rtpmap:112 telephone-event/32000\\r\\na=rtpmap:113 telephone-event/16000\\r\\na=rtpmap:126 telephone-event/8000\\r\\na=ssrc:3433491845 cname:WBo9Ljf049MIHSUN\\r\\na=ssrc:3433491845 msid:UAGAiTGJkol3ekmevak1bV3v5qAciinhzlKh ad862009-7cc9-44a0-99f8-db76d6bf6d42\\r\\na=ssrc:3433491845 mslabel:UAGAiTGJkol3ekmevak1bV3v5qAciinhzlKh\\r\\na=ssrc:3433491845 label:ad862009-7cc9-44a0-99f8-db76d6bf6d42\\r\\n\"},\"hash\":\"b5fe2d\",\"initiator\":true}\nbundle.js:83643 handle Signaling state change: have-local-offer\nbundle.js:83640 handle ICE gathering state change: gathering\nbundle.js:83640 handle ICE gathering state change: complete\nbundle.js:83670 onIceCandidate: null\nbundle.js:83577 recieved a msg for initiator: {\"sdp\":{\"type\":\"answer\",\"sdp\":\"v=0\\r\\no=- 6491298606329810899 2 IN IP4 127.0.0.1\\r\\ns=-\\r\\nt=0 0\\r\\na=group:BUNDLE audio\\r\\na=msid-semantic: WMS o7uVOFEMUCnV4NwOSj64rYW9E1FfFXBxxABe\\r\\nm=audio 9 UDP/TLS/RTP/SAVPF 111 103 104 9 0 8 106 105 13 110 112 113 126\\r\\nc=IN IP4 0.0.0.0\\r\\na=rtcp:9 IN IP4 0.0.0.0\\r\\na=ice-ufrag:nVAM\\r\\na=ice-pwd:FuhqvuJNyzJosJbyoNjlRPnc\\r\\na=ice-options:trickle\\r\\na=fingerprint:sha-256 3C:8D:2D:AE:29:D2:88:1E:D1:56:11:B9:EE:CC:2F:6D:D8:8E:41:71:ED:D2:6D:BC:79:FD:12:21:FA:C4:44:43\\r\\na=setup:active\\r\\na=mid:audio\\r\\na=extmap:1 urn:ietf:params:rtp-hdrext:ssrc-audio-level\\r\\na=sendrecv\\r\\na=rtcp-mux\\r\\na=rtpmap:111 opus/48000/2\\r\\na=rtcp-fb:111 transport-cc\\r\\na=fmtp:111 minptime=10;useinbandfec=1\\r\\na=rtpmap:103 ISAC/16000\\r\\na=rtpmap:104 ISAC/32000\\r\\na=rtpmap:9 G722/8000\\r\\na=rtpmap:0 PCMU/8000\\r\\na=rtpmap:8 PCMA/8000\\r\\na=rtpmap:106 CN/32000\\r\\na=rtpmap:105 CN/16000\\r\\na=rtpmap:13 CN/8000\\r\\na=rtpmap:110 telephone-event/48000\\r\\na=rtpmap:112 telephone-event/32000\\r\\na=rtpmap:113 telephone-event/16000\\r\\na=rtpmap:126 telephone-event/8000\\r\\na=ssrc:1112390810 cname:P9L/gZVWuFwyyY7Y\\r\\na=ssrc:1112390810 msid:o7uVOFEMUCnV4NwOSj64rYW9E1FfFXBxxABe 26d25a55-d006-4b21-8219-5ad387146d52\\r\\na=ssrc:1112390810 mslabel:o7uVOFEMUCnV4NwOSj64rYW9E1FfFXBxxABe\\r\\na=ssrc:1112390810 label:26d25a55-d006-4b21-8219-5ad387146d52\\r\\n\"}}\nbundle.js:83643 handle Signaling state change: stable\nbundle.js:83637 handle ICE connection state change:checking\nbundle.js:83580 initiator remote location set\nbundle.js:83631 handleAddStream\n</code></pre>\n\n<p>log of the callee:</p>\n\n<pre><code>recieved a msg for caller: {\"sdp\":{\"type\":\"offer\",\"sdp\":\"v=0\\r\\no=- 1136332092735661893 2 IN IP4 127.0.0.1\\r\\ns=-\\r\\nt=0 0\\r\\na=group:BUNDLE audio\\r\\na=msid-semantic: WMS UAGAiTGJkol3ekmevak1bV3v5qAciinhzlKh\\r\\nm=audio 9 UDP/TLS/RTP/SAVPF 111 103 104 9 0 8 106 105 13 110 112 113 126\\r\\nc=IN IP4 0.0.0.0\\r\\na=rtcp:9 IN IP4 0.0.0.0\\r\\na=ice-ufrag:AMaT\\r\\na=ice-pwd:kl8Hzi7+XMuD5KhcteFZKBPM\\r\\na=ice-options:trickle\\r\\na=fingerprint:sha-256 32:F2:9A:92:09:8A:17:A6:52:20:88:01:FA:83:50:FC:6C:85:D0:51:1C:E4:81:88:36:C0:F6:34:F9:AF:20:10\\r\\na=setup:actpass\\r\\na=mid:audio\\r\\na=extmap:1 urn:ietf:params:rtp-hdrext:ssrc-audio-level\\r\\na=sendrecv\\r\\na=rtcp-mux\\r\\na=rtpmap:111 opus/48000/2\\r\\na=rtcp-fb:111 transport-cc\\r\\na=fmtp:111 minptime=10;useinbandfec=1\\r\\na=rtpmap:103 ISAC/16000\\r\\na=rtpmap:104 ISAC/32000\\r\\na=rtpmap:9 G722/8000\\r\\na=rtpmap:0 PCMU/8000\\r\\na=rtpmap:8 PCMA/8000\\r\\na=rtpmap:106 CN/32000\\r\\na=rtpmap:105 CN/16000\\r\\na=rtpmap:13 CN/8000\\r\\na=rtpmap:110 telephone-event/48000\\r\\na=rtpmap:112 telephone-event/32000\\r\\na=rtpmap:113 telephone-event/16000\\r\\na=rtpmap:126 telephone-event/8000\\r\\na=ssrc:3433491845 cname:WBo9Ljf049MIHSUN\\r\\na=ssrc:3433491845 msid:UAGAiTGJkol3ekmevak1bV3v5qAciinhzlKh ad862009-7cc9-44a0-99f8-db76d6bf6d42\\r\\na=ssrc:3433491845 mslabel:UAGAiTGJkol3ekmevak1bV3v5qAciinhzlKh\\r\\na=ssrc:3433491845 label:ad862009-7cc9-44a0-99f8-db76d6bf6d42\\r\\n\"}}\n...\nbundle.js:83643 handle Signaling state change: have-remote-offer\nbundle.js:83631 handleAddStream\nbundle.js:83646 handle negaotation needed\nbundle.js:83643 handle Signaling state change: stable\nbundle.js:83611 {\"sdp\":{\"type\":\"answer\",\"sdp\":\"v=0\\r\\no=- 6491298606329810899 2 IN IP4 127.0.0.1\\r\\ns=-\\r\\nt=0 0\\r\\na=group:BUNDLE audio\\r\\na=msid-semantic: WMS o7uVOFEMUCnV4NwOSj64rYW9E1FfFXBxxABe\\r\\nm=audio 9 UDP/TLS/RTP/SAVPF 111 103 104 9 0 8 106 105 13 110 112 113 126\\r\\nc=IN IP4 0.0.0.0\\r\\na=rtcp:9 IN IP4 0.0.0.0\\r\\na=ice-ufrag:nVAM\\r\\na=ice-pwd:FuhqvuJNyzJosJbyoNjlRPnc\\r\\na=ice-options:trickle\\r\\na=fingerprint:sha-256 3C:8D:2D:AE:29:D2:88:1E:D1:56:11:B9:EE:CC:2F:6D:D8:8E:41:71:ED:D2:6D:BC:79:FD:12:21:FA:C4:44:43\\r\\na=setup:active\\r\\na=mid:audio\\r\\na=extmap:1 urn:ietf:params:rtp-hdrext:ssrc-audio-level\\r\\na=sendrecv\\r\\na=rtcp-mux\\r\\na=rtpmap:111 opus/48000/2\\r\\na=rtcp-fb:111 transport-cc\\r\\na=fmtp:111 minptime=10;useinbandfec=1\\r\\na=rtpmap:103 ISAC/16000\\r\\na=rtpmap:104 ISAC/32000\\r\\na=rtpmap:9 G722/8000\\r\\na=rtpmap:0 PCMU/8000\\r\\na=rtpmap:8 PCMA/8000\\r\\na=rtpmap:106 CN/32000\\r\\na=rtpmap:105 CN/16000\\r\\na=rtpmap:13 CN/8000\\r\\na=rtpmap:110 telephone-event/48000\\r\\na=rtpmap:112 telephone-event/32000\\r\\na=rtpmap:113 telephone-event/16000\\r\\na=rtpmap:126 telephone-event/8000\\r\\na=ssrc:1112390810 cname:P9L/gZVWuFwyyY7Y\\r\\na=ssrc:1112390810 msid:o7uVOFEMUCnV4NwOSj64rYW9E1FfFXBxxABe 26d25a55-d006-4b21-8219-5ad387146d52\\r\\na=ssrc:1112390810 mslabel:o7uVOFEMUCnV4NwOSj64rYW9E1FfFXBxxABe\\r\\na=ssrc:1112390810 label:26d25a55-d006-4b21-8219-5ad387146d52\\r\\n\"},\"initiator\":false,\"hash\":\"#b5fe2d\"}\nbundle.js:83640 handle ICE gathering state change: gathering\nbundle.js:83640 handle ICE gathering state change: complete\nbundle.js:83670 onIceCandidate: null\n</code></pre>\n"}, {"tags": ["jquery", "html", "google-maps", "typescript"], "comments": [{"owner": {"reputation": 19508, "user_id": 3731614, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/PAIKr.jpg?s=128&g=1", "display_name": "Reborn", "link": "https://stackoverflow.com/users/3731614/reborn"}, "edited": false, "score": 0, "creation_date": 1516827638, "post_id": 48431346, "comment_id": 83854069, "body": "i am not that much of an angular guy but you should initialize the map on the modal <code>init</code> if you are using bootstrap modal try initializing the google maps init code inside the <code>show.bs.modal</code> event rather than <code>document.ready()</code> there is a known issue with the google maps if initialized inside parent having <code>display:none</code>"}, {"owner": {"reputation": 1202, "user_id": 6734301, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/68f0e11c94e94983ca8404f1e6a2171c?s=128&d=identicon&r=PG&f=1", "display_name": "Wazza", "link": "https://stackoverflow.com/users/6734301/wazza"}, "reply_to_user": {"reputation": 19508, "user_id": 3731614, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/PAIKr.jpg?s=128&g=1", "display_name": "Reborn", "link": "https://stackoverflow.com/users/3731614/reborn"}, "edited": false, "score": 0, "creation_date": 1516828128, "post_id": 48431346, "comment_id": 83854322, "body": "Hi, im using materialcss. but if i move the maps init code into <code>openModal( { this.modalActions.emit({action:&quot;modal&quot;,params:[&#39;open&#39;]}); }</code> the map doesnt show at all"}, {"owner": {"reputation": 19508, "user_id": 3731614, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/PAIKr.jpg?s=128&g=1", "display_name": "Reborn", "link": "https://stackoverflow.com/users/3731614/reborn"}, "edited": false, "score": 1, "creation_date": 1516828262, "post_id": 48431346, "comment_id": 83854389, "body": "no you donot have to move the map inside the <code>openModal</code> function but rather bind the event for modal , see here if that helps <a href=\"https://stackoverflow.com/questions/32037272/google-map-not-showing-on-bootstrap-modal\" title=\"google map not showing on bootstrap modal\">stackoverflow.com/questions/32037272/&hellip;</a>"}, {"owner": {"reputation": 1202, "user_id": 6734301, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/68f0e11c94e94983ca8404f1e6a2171c?s=128&d=identicon&r=PG&f=1", "display_name": "Wazza", "link": "https://stackoverflow.com/users/6734301/wazza"}, "reply_to_user": {"reputation": 19508, "user_id": 3731614, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/PAIKr.jpg?s=128&g=1", "display_name": "Reborn", "link": "https://stackoverflow.com/users/3731614/reborn"}, "edited": false, "score": 0, "creation_date": 1516829707, "post_id": 48431346, "comment_id": 83855091, "body": "I dont quite understand how to translate that across. Ive updated my app component in the question and added the html for the card that opens the modal"}], "owner": {"reputation": 1202, "user_id": 6734301, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/68f0e11c94e94983ca8404f1e6a2171c?s=128&d=identicon&r=PG&f=1", "display_name": "Wazza", "link": "https://stackoverflow.com/users/6734301/wazza"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 78, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1516829656, "creation_date": 1516826922, "last_edit_date": 1516829656, "question_id": 48431346, "link": "https://stackoverflow.com/questions/48431346/embedded-google-map-in-modal-is-showing-blank-until-window-resizes-manually", "title": "Embedded Google Map in modal is showing blank until window resizes manually", "body": "<p>I have a google map that is embedded into a modal, but when clicking to open the modal, the map appears blank. </p>\n\n<p><a href=\"https://i.stack.imgur.com/zLRr7.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/zLRr7.png\" alt=\"enter image description here\"></a></p>\n\n<p>After googling i thought i found a solution using jquery to resize the window again but it doesnt seem to work.</p>\n\n<p>The current code i'm using:</p>\n\n<p>component.html:</p>\n\n<pre><code>  &lt;div class=\"col s12 m6\"&gt;\n    &lt;a href=\"#\" onclick=\"$('#map-modal').modal('open');\"&gt;\n      &lt;div class=\"card\"&gt;\n        &lt;div class=\"card-image\"&gt;\n          &lt;img src=\"./assets/1.jpg\" class=\"z-depth-4\"&gt;\n          &lt;span id=\"card-title\" class=\"card-title\"&gt;Map's and Directions&lt;/span&gt;\n        &lt;/div&gt;\n      &lt;/div&gt;\n    &lt;/a&gt;\n  &lt;/div&gt;\n\n    &lt;div id=\"map\"&gt;\n      &lt;script type=\"text/javascript\"&gt;\n          google.maps.event.trigger(map, 'resize');\n      &lt;/script&gt;\n    &lt;/div&gt;\n</code></pre>\n\n<p>component.css</p>\n\n<pre><code>#map {\n  width: 100vw;\n  height: 100vh;\n  max-width: 100%;\n  margin: 0;\n  padding: 0;\n}\n</code></pre>\n\n<p>component.ts</p>\n\n<pre><code>    export class AppComponent implements OnInit {\n  title = 'app';\n\n  modalActions = new EventEmitter&lt;string|MaterializeAction&gt;();\n\n  ngOnInit() {\n    var mapProp = {\n          center: new google.maps.LatLng(-34.397, 150.644),\n          zoom: 11,\n          mapTypeId: google.maps.MapTypeId.ROADMAP\n      };\n    var map = new google.maps.Map(document.getElementById(\"map\"), mapProp);\n    $(document).ready(function() {\n        google.maps.event.addListener(map, \"idle\", function(){\n            google.maps.event.trigger(map, 'resize');\n        });\n    });\n  }\n}\n</code></pre>\n\n<p>index.html</p>\n\n<pre><code>&lt;script src=\"http://maps.googleapis.com/maps/api/js?key=APIKEY\"&gt;&lt;/script&gt;\n</code></pre>\n\n<p>Can anyone see what im missing?</p>\n\n<p>I m doing the app in angular 2 btw</p>\n"}, {"tags": ["javascript", "typescript", "proxy"], "comments": [{"owner": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "edited": false, "score": 0, "creation_date": 1516826099, "post_id": 48431075, "comment_id": 83853262, "body": "What&#39;s your type signature for <code>hp.watch()</code>?  Presumably you want it to look something like <code>watch&lt;T&gt;(obj: T): T &amp; hp.proxy</code>, but without more info I&#39;m not sure if that would solve it"}, {"owner": {"reputation": 27488, "user_id": 1778465, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/NxIPr.jpg?s=128&g=1", "display_name": "Get Off My Lawn", "link": "https://stackoverflow.com/users/1778465/get-off-my-lawn"}, "reply_to_user": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "edited": false, "score": 0, "creation_date": 1516826287, "post_id": 48431075, "comment_id": 83853378, "body": "@jcalz I have updated the question with how I am defining <code>watch</code>. Maybe I shouldn&#39;t be naming the function and the type the same?"}], "answers": [{"tags": [], "owner": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "is_accepted": true, "score": 1, "last_activity_date": 1516826739, "creation_date": 1516826739, "answer_id": 48431303, "question_id": 48431075, "link": "https://stackoverflow.com/questions/48431075/typescript-define-dynamic-properties-in-proxy/48431303#48431303", "title": "TypeScript: define dynamic properties in proxy", "body": "<p>You want to change the signature for <code>hp.watch()</code> to something like</p>\n\n<pre><code>export function watch&lt;T&gt;(item: T): proxy &amp; T;\nexport function watch&lt;K extends string, V&gt;(key: K, value: V): proxy &amp; Record&lt;K, V&gt;;\nexport function watch(...args: any[]): proxy {\n  // impl\n}\n</code></pre>\n\n<p>Then you have told TypeScript that the output of the function is both a <code>proxy</code> and has the same keys and value types as the thing you passed in.  </p>\n\n<p>Hope that helps; good luck!</p>\n"}], "owner": {"reputation": 27488, "user_id": 1778465, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/NxIPr.jpg?s=128&g=1", "display_name": "Get Off My Lawn", "link": "https://stackoverflow.com/users/1778465/get-off-my-lawn"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 699, "favorite_count": 0, "accepted_answer_id": 48431303, "answer_count": 1, "score": 0, "last_activity_date": 1516826739, "creation_date": 1516825747, "last_edit_date": 1516826234, "question_id": 48431075, "link": "https://stackoverflow.com/questions/48431075/typescript-define-dynamic-properties-in-proxy", "title": "TypeScript: define dynamic properties in proxy", "body": "<p>I have the following call to a <code>watch</code> </p>\n\n<pre><code>const watch = hp.watch({\n  running: false,\n  time: 0,\n  start: Date.now()\n})\n</code></pre>\n\n<p>watch bassically just runs <code>new proxy()</code>, then sets some properties and returns the newly created <code>proxy</code> class nothing too fancy.</p>\n\n<pre><code>export function watch(item: { [key: string]: any }): proxy\nexport function watch(key: string, value: any): proxy\nexport function watch(...args: any[]): proxy {\n  let prox = new proxy()\n  if (args.length == 2) {\n    prox[args[0]] = args[1]\n  } else if (args.length == 1 &amp;&amp; args[0] instanceof Object) {\n    for (let itm in args[0]) {\n      !(itm in prox) &amp;&amp; (prox[itm] = args[0][itm])\n    }\n  }\n  return prox\n}\n</code></pre>\n\n<p>I then have an interface which looks like this:</p>\n\n<pre><code>export interface proxy {\n  [key: string]: any\n}\n</code></pre>\n\n<p>Here is the the <code>proxy</code> class which basically is just a wrapper.</p>\n\n<pre><code>namespace hp {\n  export class proxy {\n    public constructor() {\n      return new Proxy(this, { /* Proxy stuff */})\n    }\n  }\n}\n</code></pre>\n\n<p>In an editor that supports intellisense, it would be nice if I could have it suggest <code>running</code>, <code>time</code>, <code>start</code> after I type <code>watch.</code>.</p>\n\n<p>I think I need to use a more advanced <code>interface</code> (or <code>type</code>) than the one I am using for that to happen. I have tried this but it doesn't work:</p>\n\n<pre><code>export type watch&lt;T&gt; = {\n  [A in keyof T]: T[A]\n} \n\nexport interface proxy {\n  [key: string]: watch&lt;any&gt;\n}\n</code></pre>\n\n<p>When doing <code>watch.time = 123</code> I get an error stating:</p>\n\n<blockquote>\n  <p>Type 'number' is not assignable to type 'watch'.</p>\n</blockquote>\n\n<p>and when trying to get the value <code>let a = watch.time</code> I get this error:</p>\n\n<blockquote>\n  <p>The right-hand side of an arithmetic operation must be of type 'any', 'number' or an enum type.</p>\n</blockquote>\n"}, {"tags": ["jquery", "angular", "typescript", "bootstrap-4"], "comments": [{"owner": {"reputation": 5258, "user_id": 3162724, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/833457f6ec5ea62785cd84e0c312a8a4?s=128&d=identicon&r=PG", "display_name": "Niladri", "link": "https://stackoverflow.com/users/3162724/niladri"}, "edited": false, "score": 3, "creation_date": 1516823563, "post_id": 48430499, "comment_id": 83851922, "body": "instead of using regular bootstrap.js you should try ngx-bootstrap or <code>ng-bootstrap</code> for using bootstrap 4 .<a href=\"https://ng-bootstrap.github.io/#/home\" rel=\"nofollow noreferrer\">ng-bootstrap.github.io/#/home</a> . it is designed specifically for Angular 4"}, {"owner": {"reputation": 126, "user_id": 6010823, "user_type": "registered", "profile_image": "https://graph.facebook.com/1080945631927809/picture?type=large", "display_name": "Paola Reyes", "link": "https://stackoverflow.com/users/6010823/paola-reyes"}, "reply_to_user": {"reputation": 5258, "user_id": 3162724, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/833457f6ec5ea62785cd84e0c312a8a4?s=128&d=identicon&r=PG", "display_name": "Niladri", "link": "https://stackoverflow.com/users/3162724/niladri"}, "edited": false, "score": 0, "creation_date": 1516824750, "post_id": 48430499, "comment_id": 83852576, "body": "Thanks for your answer, my real problem was Popper.js, I just had to add inside scripts after jquery and before bootstrap"}, {"owner": {"reputation": 57675, "user_id": 1009922, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/K0eeL.jpg?s=128&g=1", "display_name": "ConnorsFan", "link": "https://stackoverflow.com/users/1009922/connorsfan"}, "edited": false, "score": 0, "creation_date": 1516825067, "post_id": 48430499, "comment_id": 83852732, "body": "Angular versions of Bootstrap (ng-bootstrap or ngx-bootstrap) work better and more naturally with Angular than Bootstrap + jQuery. Note: I did not downvote anything here."}], "answers": [{"comments": [{"owner": {"reputation": 4159, "user_id": 6052255, "user_type": "registered", "accept_rate": 42, "profile_image": "https://graph.facebook.com/10153876441400115/picture?type=large", "display_name": "David Anthony Acosta", "link": "https://stackoverflow.com/users/6052255/david-anthony-acosta"}, "edited": false, "score": 0, "creation_date": 1516831361, "post_id": 48430850, "comment_id": 83855956, "body": "honestly there&#39;s no need to even use jquery with angular. Angular&#39;s built in libs can do everything that jquery does."}], "tags": [], "owner": {"reputation": 126, "user_id": 6010823, "user_type": "registered", "profile_image": "https://graph.facebook.com/1080945631927809/picture?type=large", "display_name": "Paola Reyes", "link": "https://stackoverflow.com/users/6010823/paola-reyes"}, "is_accepted": false, "score": 0, "last_activity_date": 1516824774, "creation_date": 1516824774, "answer_id": 48430850, "question_id": 48430499, "link": "https://stackoverflow.com/questions/48430499/using-jquery-with-angular-4/48430850#48430850", "title": "Using jquery with Angular 4", "body": "<p>Solved: </p>\n\n<pre><code>\"scripts\": [\n    \"../node_modules/jquery/dist/jquery.min.js\",\n    \"../node_modules/popper.js/dist/umd/popper.min.js\",\n    \"../node_modules/bootstrap/dist/js/bootstrap.min.js\"\n  ],\n</code></pre>\n"}], "owner": {"reputation": 126, "user_id": 6010823, "user_type": "registered", "profile_image": "https://graph.facebook.com/1080945631927809/picture?type=large", "display_name": "Paola Reyes", "link": "https://stackoverflow.com/users/6010823/paola-reyes"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 345, "favorite_count": 0, "answer_count": 1, "score": -2, "last_activity_date": 1516824774, "creation_date": 1516823171, "question_id": 48430499, "link": "https://stackoverflow.com/questions/48430499/using-jquery-with-angular-4", "title": "Using jquery with Angular 4", "body": "<p>I want to show a bootstrap modal but im still getting </p>\n\n<pre><code>SectionDetailComponent.html:54 ERROR TypeError: $(...).modal is not a function\n</code></pre>\n\n<p>My .angular-cli:</p>\n\n<pre><code>\"scripts\": [\n    \"../node_modules/jquery/dist/jquery.min.js\",\n    \"../node_modules/bootstrap/dist/js/bootstrap.min.js\"\n  ],\n</code></pre>\n\n<p>My component:</p>\n\n<pre><code>declare var jquery:any;\ndeclare var $:any;\n</code></pre>\n"}, {"tags": ["node.js", "typescript", "stream", "cryptography", "aes-gcm"], "answers": [{"tags": [], "owner": {"reputation": 1248, "user_id": 803678, "user_type": "registered", "accept_rate": 57, "profile_image": "https://lh3.googleusercontent.com/-V1bA-QSozF0/AAAAAAAAAAI/AAAAAAAAFbE/rY4gSh_6F-c/photo.jpg?sz=128", "display_name": "Marco Moschettini", "link": "https://stackoverflow.com/users/803678/marco-moschettini"}, "is_accepted": false, "score": 3, "last_activity_date": 1517075232, "creation_date": 1517075232, "answer_id": 48478685, "question_id": 48430224, "link": "https://stackoverflow.com/questions/48430224/unsupported-state-or-unable-to-authenticate-data-error-when-using-nodejs-with-t/48478685#48478685", "title": "Unsupported state or unable to authenticate data error when using NodeJS (with Typescript) streams and aes-gcm algorithm", "body": "<p>Actually the following code is working fine on files. I don't know the differences between this and the one I posted about...</p>\n\n<pre><code>const algorithm = 'aes-256-gcm';\nconst iv = Buffer.alloc(16);\nconst key = Buffer.alloc(256/8);\n\nconst cipher = crypto.createCipheriv(algorithm, key, iv);\nconst read_stream = fs.createReadStream(path.resolve(os.homedir(), 'Desktop', 'abstract.pdf'));\nconst encrypted_write_stream = fs.createWriteStream(path.resolve(os.homedir(), 'Desktop', 'abstract.enc.pdf'));\n\ncipher.on('finish', () =&gt; \n{\n    const tag = cipher.getAuthTag();\n    console.log('File encrypted. Tag is', tag.toString('hex'));\n\n    const decipher = crypto.createDecipheriv(algorithm, key, iv);\n    decipher.setAuthTag(tag);\n\n    const encrypted_read_stream = fs.createReadStream(path.resolve(os.homedir(), 'Desktop', 'abstract.enc.pdf'));\n    const write_stream = fs.createWriteStream(path.resolve(os.homedir(), 'Desktop', 'abstract.decrypted.pdf'));\n\n    decipher.on('error', console.error);\n    decipher.on('finish', () =&gt; \n    {\n        console.log('Decrypted successfully');\n    });\n\n    encrypted_read_stream.pipe(decipher).pipe(write_stream);\n});\n\nread_stream.pipe(cipher).pipe(encrypted_write_stream);\n</code></pre>\n"}], "owner": {"reputation": 1248, "user_id": 803678, "user_type": "registered", "accept_rate": 57, "profile_image": "https://lh3.googleusercontent.com/-V1bA-QSozF0/AAAAAAAAAAI/AAAAAAAAFbE/rY4gSh_6F-c/photo.jpg?sz=128", "display_name": "Marco Moschettini", "link": "https://stackoverflow.com/users/803678/marco-moschettini"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1687, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1559394359, "creation_date": 1516822137, "last_edit_date": 1516832914, "question_id": 48430224, "link": "https://stackoverflow.com/questions/48430224/unsupported-state-or-unable-to-authenticate-data-error-when-using-nodejs-with-t", "title": "Unsupported state or unable to authenticate data error when using NodeJS (with Typescript) streams and aes-gcm algorithm", "body": "<p>When trying to encrypt and decrypt a file through a Cipher/Decipher stream I always encounter the following error: <code>Unsupported state or unable to authenticate data</code>.</p>\n\n<p>This is the code (comparison between the stream and the not-stream versions):</p>\n\n<h3>Non stream version</h3>\n\n<pre><code>const key = Buffer.alloc(256 / 8);\n\nconst text = 'my secret message';\nconst encrypter = crypto.createCipheriv('aes-256-gcm', key, Buffer.alloc(16));\n\nlet encrypted = encrypter.update(text, 'utf8', 'hex');\nencrypted += encrypter.final('hex');\nconst tag = encrypter.getAuthTag();\n\nconsole.log('Encrypted!', encrypted);\n\nconst decrypter = crypto.createDecipheriv('aes-256-gcm', key, Buffer.alloc(16));\ndecrypter.setAuthTag(tag);\nlet decrypted = decrypter.update(encrypted, 'hex', 'utf8');\ndecrypted += decrypter.final('utf8');\n\nconsole.log('Decrypted', decrypted);\n</code></pre>\n\n<p>Which perfectly prints out <code>Decrypted my secret message</code> On the other hand...</p>\n\n<h3>Stream version</h3>\n\n<pre><code>const key = Buffer.alloc(256 / 8);\nconst text = 'my secret message';\n\nconst cipher = crypto.createCipheriv('aes-256-gcm', key, Buffer.alloc(16));\nlet encrypted = '';\ncipher.on('data', (data: Buffer) =&gt; \n{\n    encrypted += data.toString('hex');\n});\n\ncipher.on('end', () =&gt; \n{\n    const tag = cipher.getAuthTag();\n\n    const decipher = crypto.createDecipheriv('aes-256-gcm', key, Buffer.alloc(16));\n    decipher.setAuthTag(tag);\n\n    let decrypted = '';\n    decipher.on('readable', () =&gt; \n    {\n        const data = decipher.read() as Buffer;\n        if(data)\n            decrypted += data.toString('utf8');\n    });\n\n    decipher.on('end', () =&gt; \n    {\n        console.log(decrypted);\n    });\n\n    fromString(encrypted).pipe(decipher);\n});\n</code></pre>\n\n<p>I'm assuming the utility function <code>fromString</code> picked from the examples of the <a href=\"https://github.com/hughsk/from2\" rel=\"nofollow noreferrer\">from2 package</a></p>\n\n<pre><code>import * as from from 'from2';\n\nfunction fromString(text: string) \n{\n    return from((size, next) =&gt; \n    {\n        if (text.length &lt;= 0) \n            return next(null, null);\n\n        const chunk = text.slice(0, size);\n        text = text.slice(size);\n\n        next(null, chunk);\n    });\n}\n</code></pre>\n\n<p>Any hint on why this is not working correctly? \nThank you very much. I'm quite stuck on this.</p>\n"}, {"tags": ["javascript", "html", "typescript", "apache-flex"], "comments": [{"owner": {"reputation": 7864, "user_id": 749657, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/83dc7f749f7b738cb2ad6a6cd3f543f8?s=128&d=identicon&r=PG", "display_name": "Eric", "link": "https://stackoverflow.com/users/749657/eric"}, "edited": false, "score": 1, "creation_date": 1516820977, "post_id": 48429906, "comment_id": 83850400, "body": "Why would you want to do that? Nobody runs a flash player anymore..."}, {"owner": {"reputation": 366, "user_id": 2849742, "user_type": "registered", "profile_image": "https://graph.facebook.com/745153930/picture?type=large", "display_name": "Laurent Schwitter", "link": "https://stackoverflow.com/users/2849742/laurent-schwitter"}, "edited": false, "score": 2, "creation_date": 1516821200, "post_id": 48429906, "comment_id": 83850532, "body": "Avoid iframes like they&#39;re rapists"}, {"owner": {"reputation": 1, "user_id": 7992395, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WCIzi.jpg?s=128&g=1", "display_name": "Everton Jos&#233;", "link": "https://stackoverflow.com/users/7992395/everton-jos%c3%a9"}, "edited": false, "score": 1, "creation_date": 1516821466, "post_id": 48429906, "comment_id": 83850692, "body": "It&#39;s legacy my friend. &#175;_(\u30c4)_/&#175;"}, {"owner": {"reputation": 3689, "user_id": 514087, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/AMg4p.jpg?s=128&g=1", "display_name": "Brian", "link": "https://stackoverflow.com/users/514087/brian"}, "edited": false, "score": 0, "creation_date": 1516823173, "post_id": 48429906, "comment_id": 83851665, "body": "@EvertonJos&#233; You dropped this: \\"}], "answers": [{"tags": [], "owner": {"reputation": 71821, "user_id": 57191, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/1186a46e65dbea4c8900d524c613f926?s=128&d=identicon&r=PG", "display_name": "cwallenpoole", "link": "https://stackoverflow.com/users/57191/cwallenpoole"}, "is_accepted": false, "score": 1, "last_activity_date": 1516823215, "last_edit_date": 1516823215, "creation_date": 1516822805, "answer_id": 48430403, "question_id": 48429906, "link": "https://stackoverflow.com/questions/48429906/communication-between-flex-with-html5-typescript/48430403#48430403", "title": "Communication between Flex with HTML5 / TypeScript", "body": "<p>You want to use <code>ExternalInterface.call</code>. That will let you run a function in JS and then return its value.</p>\n"}], "owner": {"reputation": 1, "user_id": 7992395, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WCIzi.jpg?s=128&g=1", "display_name": "Everton Jos&#233;", "link": "https://stackoverflow.com/users/7992395/everton-jos%c3%a9"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 94, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1516823215, "creation_date": 1516820844, "question_id": 48429906, "link": "https://stackoverflow.com/questions/48429906/communication-between-flex-with-html5-typescript", "title": "Communication between Flex with HTML5 / TypeScript", "body": "<p>I'm building an application in HTML5 with TypeScript and in that application I have created a component to close the session if it's idle for a long time.</p>\n\n<p>Some screens are still in Flex and consequently I'm putting these screens in HTML5 iframes for them to use, whereas I don't migrate to HTML5 + TS.</p>\n\n<p>Is there any way to send some Flex event to html5 so that the component, which closes the session, knew that the flex screen is being used? Or save some information in the Local Storage?</p>\n\n<p>One of the ideas I had was for the component to show a modal asking if the user wants to end the session or not with a 10 second timer.</p>\n"}, {"tags": ["javascript", "angular", "typescript", "include", "export"], "answers": [{"comments": [{"owner": {"reputation": 63, "user_id": 2375982, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/f98aa55664b8dd0aa6e71e528dae29da?s=128&d=identicon&r=PG", "display_name": "Stev", "link": "https://stackoverflow.com/users/2375982/stev"}, "edited": false, "score": 0, "creation_date": 1516827786, "post_id": 48431127, "comment_id": 83854132, "body": "Thanks fortuneNext, once I added <code>d1:string = d1;</code> in the export class it worked great."}], "tags": [], "owner": {"reputation": 97, "user_id": 7065404, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/f82301ffa030b081ee64bbcae3150d9b?s=128&d=identicon&r=PG&f=1", "display_name": "fortuneNext", "link": "https://stackoverflow.com/users/7065404/fortunenext"}, "is_accepted": false, "score": 2, "last_activity_date": 1516825979, "creation_date": 1516825979, "answer_id": 48431127, "question_id": 48429627, "link": "https://stackoverflow.com/questions/48429627/angular-include-extra-ts-file-in-current-ts-file/48431127#48431127", "title": "Angular - Include extra ts file in current ts file", "body": "<p>The most simple and angular-unspecific approach for the original question would be to just make a file like string.ts:</p>\n\n<pre><code>export const d1 : string = \"Hello World, this is a long string.\";\n</code></pre>\n\n<p>and import the string via</p>\n\n<pre><code> import {d1} from './string';\n</code></pre>\n\n<p>Example: <a href=\"https://stackblitz.com/edit/angular-ayepho\" rel=\"nofollow noreferrer\">https://stackblitz.com/edit/angular-ayepho</a></p>\n"}], "owner": {"reputation": 63, "user_id": 2375982, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/f98aa55664b8dd0aa6e71e528dae29da?s=128&d=identicon&r=PG", "display_name": "Stev", "link": "https://stackoverflow.com/users/2375982/stev"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 90, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1516833841, "creation_date": 1516819716, "last_edit_date": 1516833841, "question_id": 48429627, "link": "https://stackoverflow.com/questions/48429627/angular-include-extra-ts-file-in-current-ts-file", "title": "Angular - Include extra ts file in current ts file", "body": "<p>I'm new to Angular and looking through the documentation but thought I'd also ask my question here.</p>\n\n<p>I'm exporting a class which is getting large so I'd like to break it up into two files and store d1, d2, d3, etc in a separate file and import them where d1 is located below.</p>\n\n<pre><code>  export class HomeComponent implements OnInit {\n\n  name: string;\n  AppModule;\n  d1: string = \" lengthy string of text\";\n  d2: string = \" another lengthy string of text\";\n  d3: string = \" another lengthy string of text\";\n  // goes on for many lines\n\n  constructor() { }\n\n  ngOnInit() {\n  this.name = \"Home\";\n  } ...\n</code></pre>\n\n<p>What's the best way to do achieve this?</p>\n"}, {"tags": ["typescript", "generics", "getter"], "answers": [{"comments": [{"owner": {"reputation": 1767, "user_id": 1279516, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/29e07e10bb04fa652d34d5da87315dc6?s=128&d=identicon&r=PG", "display_name": "jcairney", "link": "https://stackoverflow.com/users/1279516/jcairney"}, "edited": false, "score": 0, "creation_date": 1529548411, "post_id": 48429734, "comment_id": 88916232, "body": "Impressive.  But why <code>let propName = key.substr(0, key.length - 1);</code>?"}, {"owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "reply_to_user": {"reputation": 1767, "user_id": 1279516, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/29e07e10bb04fa652d34d5da87315dc6?s=128&d=identicon&r=PG", "display_name": "jcairney", "link": "https://stackoverflow.com/users/1279516/jcairney"}, "edited": false, "score": 0, "creation_date": 1529548640, "post_id": 48429734, "comment_id": 88916264, "body": "@jcairney that was just the convention used in the question, the fields end in <code>_</code> and the properties have the <code>_</code> removed. Took me a while to remember, this was a while back :)"}], "tags": [], "owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "is_accepted": true, "score": 7, "last_activity_date": 1516821313, "last_edit_date": 1516821313, "creation_date": 1516820198, "answer_id": 48429734, "question_id": 48429538, "link": "https://stackoverflow.com/questions/48429538/typescript-default-getter-of-class-properties/48429734#48429734", "title": "Typescript default getter of class properties", "body": "<p>If you want the properties to be read only and you can just set them in the constructor, you could use the <code>readonly</code> modifier:</p>\n\n<pre><code>export class foo {\n    constructor(\n        public readonly bar:string,\n        public readonly baz:number,\n        public readonly field2:string) { \n\n    }\n}\n</code></pre>\n\n<p>If you only want to access the property from HTML templates, you could use a decorator to create getters, but they will not be present on the type:</p>\n\n<pre><code>function createGetter (target: any, key: string) {\n    let propName = key.substr(0, key.length - 1);\n    Object.defineProperty(target, propName, {\n        get: function() {\n            return this[key]\n        }\n    });\n}\n\n\nexport class foo {\n    @createGetter private bar_:string;\n    @createGetter private baz_:number = 10;\n    @createGetter private field2_:string;\n    constructor() { }\n}\n</code></pre>\n\n<p>If you don't mind a bit of convoluted syntax and just declaring the properties, you coulda access the from typescript as well:</p>\n\n<pre><code>function withGetters&lt;TProps&gt;() {\n    return &lt;TBase&gt;(cls: new () =&gt; TBase) : new () =&gt; TProps &amp; TBase =&gt; {\n        return &lt;any&gt;cls;\n    };\n}\nclass baseFoo {\n    @createGetter private bar_:string;\n    @createGetter private baz_:number = 10;\n    @createGetter private field2_:string;\n    constructor()  { }\n}\nexport const foo = withGetters&lt;{ \n    readonly bar: string;\n    readonly baz: number; \n    readonly field2: string; \n}&gt;()(baseFoo);\n</code></pre>\n"}], "owner": {"reputation": 6857, "user_id": 755666, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/ea86c464319f512785c5b6e4e64c7f8e?s=128&d=identicon&r=PG", "display_name": "Steven Scott", "link": "https://stackoverflow.com/users/755666/steven-scott"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1382, "favorite_count": 0, "accepted_answer_id": 48429734, "answer_count": 1, "score": 1, "last_activity_date": 1516821313, "creation_date": 1516819349, "question_id": 48429538, "link": "https://stackoverflow.com/questions/48429538/typescript-default-getter-of-class-properties", "title": "Typescript default getter of class properties", "body": "<p>Suppose I have a class with internal private properties:</p>\n\n<pre><code>export class foo {\n    private bar_:string;\n    private baz_:number;\n    constructor() { }\n</code></pre>\n\n<p>I know that I can get the values from bar and baz by writing a getter for the variable.</p>\n\n<pre><code>    get bar():string {\n        return this.bar_;\n    }\n    get baz():number {\n        return this.baz_;\n    }\n</code></pre>\n\n<p>This then allows me to access data using:</p>\n\n<pre><code>let A:foo = new foo();\nconsole.log(foo.baz);\n</code></pre>\n\n<p>Is there a way to have a simple generic getter, so when working with a more structured class, I could access any field without needing to write an individual get.</p>\n\n<pre><code>console.log(A.field2);\n</code></pre>\n\n<p>The field2 is not a defined getter, but I would like to be able to do something like the following in the class:</p>\n\n<pre><code>export class foo {\n    private bar_:string;\n    private baz_:number;\n    private field2_:string;\n    constructor() { }\n\n    get X():any {        // X here is some placeholder that could be used, which contains the field name being asked (bar_, baz_, etc.)\n        return this.X;       // This would assume that a field is the same name as what was passed.\n    }\n</code></pre>\n\n<p>On the HTML or other area, I could access the value as <code>A.bar_</code> which would allow me to protect the private variable, but get external access to it without the need to write a getter for each field.  This could then be extended to more complex structures as well.</p>\n"}, {"tags": ["html", "angular", "typescript", "kendo-grid"], "answers": [{"comments": [{"owner": {"reputation": 147, "user_id": 8233296, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kvxCU.jpg?s=128&g=1", "display_name": "Ramious", "link": "https://stackoverflow.com/users/8233296/ramious"}, "edited": false, "score": 0, "creation_date": 1516819026, "post_id": 48429324, "comment_id": 83849438, "body": "Awesome!  Thank you... Easy miss on my end."}, {"owner": {"reputation": 6088, "user_id": 5932590, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/ENub0.jpg?s=128&g=1", "display_name": "vince", "link": "https://stackoverflow.com/users/5932590/vince"}, "reply_to_user": {"reputation": 147, "user_id": 8233296, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kvxCU.jpg?s=128&g=1", "display_name": "Ramious", "link": "https://stackoverflow.com/users/8233296/ramious"}, "edited": false, "score": 0, "creation_date": 1516819054, "post_id": 48429324, "comment_id": 83849455, "body": "No problem -- happy to help :)"}], "tags": [], "owner": {"reputation": 6088, "user_id": 5932590, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/ENub0.jpg?s=128&g=1", "display_name": "vince", "link": "https://stackoverflow.com/users/5932590/vince"}, "is_accepted": true, "score": 0, "last_activity_date": 1516818594, "creation_date": 1516818594, "answer_id": 48429324, "question_id": 48429087, "link": "https://stackoverflow.com/questions/48429087/kendo-grid-angular-assign-selectedrows-data-value-to-variable/48429324#48429324", "title": "Kendo Grid Angular Assign selectedRows data value to variable", "body": "<p>In order to access the <code>ProductID</code> on the selected item, you'll need to use </p>\n\n<pre><code>this.selectedId = e.selectedRows[0].dataItem.ProductID;\n</code></pre>\n\n<p>Here is a working plunkr: <a href=\"https://plnkr.co/edit/Kd9jxi5WMuXLIYIxhXQx?p=preview\" rel=\"nofollow noreferrer\">https://plnkr.co/edit/Kd9jxi5WMuXLIYIxhXQx?p=preview</a></p>\n"}], "owner": {"reputation": 147, "user_id": 8233296, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kvxCU.jpg?s=128&g=1", "display_name": "Ramious", "link": "https://stackoverflow.com/users/8233296/ramious"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 450, "favorite_count": 0, "accepted_answer_id": 48429324, "answer_count": 1, "score": 0, "last_activity_date": 1516818594, "creation_date": 1516817732, "last_edit_date": 1516818300, "question_id": 48429087, "link": "https://stackoverflow.com/questions/48429087/kendo-grid-angular-assign-selectedrows-data-value-to-variable", "title": "Kendo Grid Angular Assign selectedRows data value to variable", "body": "<p>I am attempting to pull a single select from a Kendo grid to a variable so I can pass the id of the object to a route of the selected item.  I can see the variable of the object under selectedRows > dataItem but I can't seem to call any of the objects below it.</p>\n\n<p>Plunker  <a href=\"https://plnkr.co/edit/1yLrC3EXkHREkgnMijgt?p=preview\" rel=\"nofollow noreferrer\">https://plnkr.co/edit/1yLrC3EXkHREkgnMijgt?p=preview</a>  </p>\n\n<pre><code>import { Component } from '@angular/core';  \nimport { products } from './products';\nimport { SelectableSettings } from '@progress/kendo-angular-grid';\n\n@Component({\nselector: 'my-app',\ntemplate: `\n\n\n    &lt;kendo-grid [data]=\"gridData\" [selectable]=\"{ mode: 'single'}\" [height]=\"500\" (selectionChange)=\"selected($event)\"&gt;\n        &lt;kendo-grid-column field=\"ProductName\" title=\"Product Name\" [width]=\"300\"&gt;&lt;/kendo-grid-column&gt;\n        &lt;kendo-grid-column field=\"UnitsInStock\" title=\"Units In Stock\"&gt;&lt;/kendo-grid-column&gt;\n        &lt;kendo-grid-column field=\"UnitsOnOrder\" title=\"Units On Order\"&gt;&lt;/kendo-grid-column&gt;\n        &lt;kendo-grid-column field=\"ReorderLevel\" title=\"Reorder Level\"&gt;&lt;/kendo-grid-column&gt;\n    &lt;/kendo-grid&gt;\n\n\n`\n})\nexport class AppComponent {\npublic gridData: any[] = products;\npublic selectedId: number;\n\nconstructor() { }\n\npublic selected(e){\n  //Problem here \n  this.selectedId = e.selectedRows.dataItem(n =&gt; n.ProductId);\n\n  console.log(selectedId);\n\n  }\n\n} \n</code></pre>\n"}, {"tags": ["typescript"], "comments": [{"owner": {"reputation": 926, "user_id": 118651, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/5eadec8ff5c03883e6221459fd288d32?s=128&d=identicon&r=PG", "display_name": "Chris", "link": "https://stackoverflow.com/users/118651/chris"}, "edited": false, "score": 0, "creation_date": 1587345692, "post_id": 48429008, "comment_id": 108467413, "body": "Did you guys ever figure out a workaround?"}], "answers": [{"comments": [{"owner": {"reputation": 241, "user_id": 9252982, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-QqiO9t1MTpw/AAAAAAAAAAI/AAAAAAAAG_c/hZu5EV6C0vs/photo.jpg?sz=128", "display_name": "Jonathan Cammisuli", "link": "https://stackoverflow.com/users/9252982/jonathan-cammisuli"}, "edited": false, "score": 0, "creation_date": 1516819173, "post_id": 48429197, "comment_id": 83849530, "body": "Unfortunately not, more could be added as they&#39;re needed."}], "tags": [], "owner": {"reputation": 3311, "user_id": 3007184, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/naWg8.jpg?s=128&g=1", "display_name": "Chybie", "link": "https://stackoverflow.com/users/3007184/chybie"}, "is_accepted": false, "score": 1, "last_activity_date": 1516818164, "creation_date": 1516818164, "answer_id": 48429197, "question_id": 48429008, "link": "https://stackoverflow.com/questions/48429008/typescript-convert-array-to-object-with-specified-type/48429197#48429197", "title": "Typescript convert array to object with specified type", "body": "<p>Is the array fixed to two? If yes, then probably can do the below:</p>\n\n<pre><code>interface R { battery?: B; kind?: K; } // set fields as optional\n\nrenderers.reduce((acc, renderer) =&gt; {\n  acc[renderer.name] = renderer;\n  return acc;\n}, {} as R); // strong type it manually \n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 241, "user_id": 9252982, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-QqiO9t1MTpw/AAAAAAAAAAI/AAAAAAAAG_c/hZu5EV6C0vs/photo.jpg?sz=128", "display_name": "Jonathan Cammisuli", "link": "https://stackoverflow.com/users/9252982/jonathan-cammisuli"}, "edited": false, "score": 0, "creation_date": 1516819277, "post_id": 48429356, "comment_id": 83849595, "body": "Honestly, this is where I went to first, but we&#39;re using Angular and its compiler does not like functions inside it&#39;s modules and other frustrating stuff like that."}], "tags": [], "owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "is_accepted": false, "score": 0, "last_activity_date": 1516818699, "creation_date": 1516818699, "answer_id": 48429356, "question_id": 48429008, "link": "https://stackoverflow.com/questions/48429008/typescript-convert-array-to-object-with-specified-type/48429356#48429356", "title": "Typescript convert array to object with specified type", "body": "<p>I'm afraid what you want is not possible to convert an array to an object type having as property names the names of the types, at least not without manually specifying the names again (as suggested in another answer). You could start from the other end, have an object that conforms to the desired shape and convert it to an array:</p>\n\n<pre><code>const renderersObject = {\n    Battery, // This is the same as Battery: Battery, so we don't have o specify it twice\n    Kind\n};\n</code></pre>\n\n<p>And then you can convert it to an array using <code>Object.value</code> (or a polyfill for it)</p>\n\n<pre><code>const renderers = Object.values(renderersObject);\n</code></pre>\n"}], "owner": {"reputation": 241, "user_id": 9252982, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-QqiO9t1MTpw/AAAAAAAAAAI/AAAAAAAAG_c/hZu5EV6C0vs/photo.jpg?sz=128", "display_name": "Jonathan Cammisuli", "link": "https://stackoverflow.com/users/9252982/jonathan-cammisuli"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3650, "favorite_count": 0, "answer_count": 2, "score": 6, "last_activity_date": 1516818699, "creation_date": 1516817386, "question_id": 48429008, "link": "https://stackoverflow.com/questions/48429008/typescript-convert-array-to-object-with-specified-type", "title": "Typescript convert array to object with specified type", "body": "<p>I'm trying to convert an array of classes to a object that has it's class name as the object key. So;</p>\n\n<p>I have an array of classes:</p>\n\n<pre><code>const renderers = [\n    Battery,\n    Kind\n]\n</code></pre>\n\n<p>And I want to convert to an object like:</p>\n\n<pre><code>{\n  Battery: Battery,\n  Kind: Kind\n}\n</code></pre>\n\n<p>To get to that, I use <code>reduce</code> to get the Object:</p>\n\n<pre><code>const convertedObject = renderers.reduce((acc, renderer) =&gt; {\n    acc[renderer.name] = renderer;\n    return acc;\n}, {});\n</code></pre>\n\n<p>So <code>convertedObject</code> now has a type of <code>{}</code>. I want this type to be <code>{ Battery: typeof Battery, Kind: typeof Kind}</code> (so that I can use <code>keyof typeof</code> to create a type with the string values.)</p>\n\n<p>I know how to get the type of the array by doing <code>type RendererType = typeof renderers[0]</code>, which gets me <code>typeof Battery | typeof Kind</code>. Then in the reducer I can do this:</p>\n\n<pre><code>renderers.reduce&lt;{[x: string]: RendererType }&gt;((acc, renderer) =&gt; {\n    acc[renderer.name] = renderer;\n    return acc;\n}, {});\n</code></pre>\n\n<p>So now, <code>convertedObject</code> has a type of <code>{ [x: string]: typeof Battery | typeof Kind }</code>, which is <em>ok</em>. But I rather it be the object I described earlier.</p>\n\n<p>I tried to do </p>\n\n<pre><code>renderers.reduce&lt;{[K in keyof RendererType]: RendererType }&gt;((acc, renderer) =&gt; {\n    acc[renderer.name] = renderer;\n    return acc;\n}, {});\n</code></pre>\n\n<p>But then I just get <code>{ prototype: typeof Battery | typeof Kind }</code></p>\n\n<p>Is there a way to get the type that I would need with Typescript somehow?</p>\n"}, {"tags": ["typescript", "es6-modules"], "comments": [{"owner": {"reputation": 10321, "user_id": 215552, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/26bda02894d869c95f620de4b7cd386d?s=128&d=identicon&r=PG", "display_name": "Heretic Monkey", "link": "https://stackoverflow.com/users/215552/heretic-monkey"}, "edited": false, "score": 2, "creation_date": 1516817479, "post_id": 48428984, "comment_id": 83848608, "body": "<a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/import#Importing_defaults\" rel=\"nofollow noreferrer\">developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/&hellip;</a>, which is to say, you don&#39;t have a default export in <code>math.ts</code>, so you can&#39;t import the default export in the way you want. You&#39;ll want to define a default export that encompasses everything in the file."}, {"owner": {"reputation": 13, "user_id": 265037, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a5bb69db4c2919e02a04742a8c43663b?s=128&d=identicon&r=PG", "display_name": "Max L", "link": "https://stackoverflow.com/users/265037/max-l"}, "reply_to_user": {"reputation": 10321, "user_id": 215552, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/26bda02894d869c95f620de4b7cd386d?s=128&d=identicon&r=PG", "display_name": "Heretic Monkey", "link": "https://stackoverflow.com/users/215552/heretic-monkey"}, "edited": false, "score": 0, "creation_date": 1516818912, "post_id": 48428984, "comment_id": 83849375, "body": "Thanks, adding a default export is definitely required. See my edit..."}], "answers": [{"tags": [], "owner": {"reputation": 13, "user_id": 265037, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a5bb69db4c2919e02a04742a8c43663b?s=128&d=identicon&r=PG", "display_name": "Max L", "link": "https://stackoverflow.com/users/265037/max-l"}, "is_accepted": true, "score": 0, "last_activity_date": 1516845368, "creation_date": 1516845368, "answer_id": 48434470, "question_id": 48428984, "link": "https://stackoverflow.com/questions/48428984/is-it-possible-to-import-all-exports-in-a-module-and-target-one-or-more-of-them/48434470#48434470", "title": "Is it possible to import all exports in a module and target one or more of them at the same time?", "body": "<p>I came up with this approach:</p>\n\n<pre><code>// _math.ts\nexport function add() {\n}\n\nexport function sub() {\n}\n\nexport function mult() {\n}\n\n// math.ts\nimport * as math from \"./_math\";\nexport * from \"./_math\";\nexport default math;\n</code></pre>\n\n<p>Then I can do this to import:</p>\n\n<pre><code>import Math, {add} from \"math\";\n</code></pre>\n\n<p>It's a bit clunky that you have to contrive an extra file, but it's a one-time annoyance and I can live with it. </p>\n"}, {"comments": [{"owner": {"reputation": 13, "user_id": 265037, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a5bb69db4c2919e02a04742a8c43663b?s=128&d=identicon&r=PG", "display_name": "Max L", "link": "https://stackoverflow.com/users/265037/max-l"}, "edited": false, "score": 0, "creation_date": 1549131222, "post_id": 54482515, "comment_id": 95797319, "body": "Thanks, but that&#39;s not much better than what I suggested in my own original post. Still two lines."}], "tags": [], "owner": {"reputation": 1116, "user_id": 3321301, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/59ae7e7d455ef113fb15bf3c192d10cf?s=128&d=identicon&r=PG&f=1", "display_name": "josesuero", "link": "https://stackoverflow.com/users/3321301/josesuero"}, "is_accepted": false, "score": 0, "last_activity_date": 1549035114, "creation_date": 1549035114, "answer_id": 54482515, "question_id": 48428984, "link": "https://stackoverflow.com/questions/48428984/is-it-possible-to-import-all-exports-in-a-module-and-target-one-or-more-of-them/54482515#54482515", "title": "Is it possible to import all exports in a module and target one or more of them at the same time?", "body": "<p>You can do:</p>\n\n<pre><code>// math.ts\nexport function mult() {\n}\n\nexport function add() {\n}\n\nexport function sub() {\n}\n</code></pre>\n\n<p>then</p>\n\n<pre><code>//client.js\nimport * as math from \"./_math\";\nconst {default: Math, add} = math;\n</code></pre>\n"}], "owner": {"reputation": 13, "user_id": 265037, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a5bb69db4c2919e02a04742a8c43663b?s=128&d=identicon&r=PG", "display_name": "Max L", "link": "https://stackoverflow.com/users/265037/max-l"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1501, "favorite_count": 0, "accepted_answer_id": 48434470, "answer_count": 2, "score": 0, "last_activity_date": 1549035114, "creation_date": 1516817255, "last_edit_date": 1516818583, "question_id": 48428984, "link": "https://stackoverflow.com/questions/48428984/is-it-possible-to-import-all-exports-in-a-module-and-target-one-or-more-of-them", "title": "Is it possible to import all exports in a module and target one or more of them at the same time?", "body": "<p>Let's say I have a module defined here:</p>\n\n<pre><code>// math.ts\nexport function mult() {\n}\n\nexport function add() {\n}\n\nexport function sub() {\n}\n</code></pre>\n\n<p>Then, in my client code, I want to get an object reference to all of these methods, as well as extract one of them by name, like this:</p>\n\n<pre><code>// index.ts\nimport * as math from \"./math\"\nimport {add} from \"./math\"\n</code></pre>\n\n<p>Is there any possible configuration or syntax for either my import or my module declaration that will allow me to combine those two lines? Like this:</p>\n\n<pre><code>import * as math, {add} from \"./math\"\n</code></pre>\n\n<p>or even better:</p>\n\n<pre><code>import Math, {add} from \"./math\"\n</code></pre>\n\n<p>I can't seem to find any documentation online that demonstrate how to do this for either Typescript or es6, but you do see it out in the wild eg:</p>\n\n<p><a href=\"https://github.com/ashsvendsen26/ChatComponent/blob/1c598703fd53a461e3e065859c258b0c555255a6/src/App.js#L1\" rel=\"nofollow noreferrer\">https://github.com/ashsvendsen26/ChatComponent/blob/1c598703fd53a461e3e065859c258b0c555255a6/src/App.js#L1</a></p>\n\n<p>Edit:\nThis technically works the way I want, but I don't like it because I have to repeat each function name in the module. How can it be tidied up so that I don't have to repeat myself?</p>\n\n<pre><code>export function add() {\n\n}\n\nexport function sub() {\n\n}\n\nexport function mult() {\n\n}\n\nexport default {\n    add,\n    sub,\n    mult\n}\n</code></pre>\n"}, {"tags": ["angular", "validation", "typescript", "directive", "blur"], "comments": [{"owner": {"reputation": 4232, "user_id": 6772373, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wMTdt.jpg?s=128&g=1", "display_name": "Mike Tung", "link": "https://stackoverflow.com/users/6772373/mike-tung"}, "edited": false, "score": 0, "creation_date": 1516816571, "post_id": 48428749, "comment_id": 83848104, "body": "can you also show the template?"}, {"owner": {"reputation": 21, "user_id": 7308368, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/87be94361b05a04bb93a6e5c60152a1b?s=128&d=identicon&r=PG&f=1", "display_name": "sdc_", "link": "https://stackoverflow.com/users/7308368/sdc"}, "reply_to_user": {"reputation": 4232, "user_id": 6772373, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wMTdt.jpg?s=128&g=1", "display_name": "Mike Tung", "link": "https://stackoverflow.com/users/6772373/mike-tung"}, "edited": false, "score": 0, "creation_date": 1516817472, "post_id": 48428749, "comment_id": 83848604, "body": "Thanks, I&#39;ve updated the post to include it."}, {"owner": {"reputation": 28589, "user_id": 8558186, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8af66bb1af6d1875a2dd7be9dd1c8d2b?s=128&d=identicon&r=PG&f=1", "display_name": "Eliseo", "link": "https://stackoverflow.com/users/8558186/eliseo"}, "edited": false, "score": 0, "creation_date": 1516825640, "post_id": 48428749, "comment_id": 83853014, "body": "your validator is different from <a href=\"https://angular.io/guide/form-validation#adding-to-template-driven-forms\" rel=\"nofollow noreferrer\">angular.io/guide/&hellip;</a>."}, {"owner": {"reputation": 21, "user_id": 7308368, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/87be94361b05a04bb93a6e5c60152a1b?s=128&d=identicon&r=PG&f=1", "display_name": "sdc_", "link": "https://stackoverflow.com/users/7308368/sdc"}, "edited": false, "score": 0, "creation_date": 1516833173, "post_id": 48428749, "comment_id": 83856835, "body": "Yeah its slightly different but both still result in the same issue, i only want the validation to fire on blur of the text box."}], "answers": [{"tags": [], "owner": {"reputation": 21, "user_id": 7308368, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/87be94361b05a04bb93a6e5c60152a1b?s=128&d=identicon&r=PG&f=1", "display_name": "sdc_", "link": "https://stackoverflow.com/users/7308368/sdc"}, "is_accepted": false, "score": 0, "last_activity_date": 1516956783, "creation_date": 1516956783, "answer_id": 48458170, "question_id": 48428749, "link": "https://stackoverflow.com/questions/48428749/angular-4-how-to-invoke-custom-validator-on-blur/48458170#48458170", "title": "Angular 4 - How to invoke Custom Validator on blur?", "body": "<p>I resolved this by creating an abstract class that disables async validators on focus of the control.  On blur of the control the validators get re-enabled and triggered.  </p>\n\n<pre><code>export abstract class AbstractCustomValidator implements OnChanges {\n\n    private asyncValidators: any;\n    private wasChanged: any;\n\n\n    @ContentChild(NgControl) formControl: NgControl;\n\n    constructor() {\n    }\n\n    // On focus of control, clear all async validators so they do not fire on keypress\n    @HostListener('focus', ['$event'])\n    onFocus($event) {\n        this.wasChanged = false;\n        this.asyncValidators = this.formControl.control.asyncValidator;\n        this.formControl.control.clearAsyncValidators();\n    }\n\n    @HostListener('window:keyup', ['$event'])\n    onKeyup($event) {\n        this.wasChanged = true;\n    }\n\n    ngOnChanges() {\n        this.wasChanged = true;\n    }\n\n    // On blur of control, re-enable all async validators so they fire \n    @HostListener('blur', ['$event'])\n    onBlur($event) {\n        this.formControl.control.setAsyncValidators(this.asyncValidators);\n\n        if (this.wasChanged) {\n            this.formControl.control.updateValueAndValidity();\n        }\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 21, "user_id": 7308368, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/87be94361b05a04bb93a6e5c60152a1b?s=128&d=identicon&r=PG&f=1", "display_name": "sdc_", "link": "https://stackoverflow.com/users/7308368/sdc"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1769, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1516956783, "creation_date": 1516816318, "last_edit_date": 1516817138, "question_id": 48428749, "link": "https://stackoverflow.com/questions/48428749/angular-4-how-to-invoke-custom-validator-on-blur", "title": "Angular 4 - How to invoke Custom Validator on blur?", "body": "<p>I have a template driven form where I need to make a http call to check if a user's email address is available.</p>\n\n<p>I need to make this call on blur of the email textbox, I'm trying to do it via a custom validator directive but unfortunately the validation gets invoked on every keypress (this seems to be the default behavior which I do not want in this scenario).</p>\n\n<pre><code>@Directive({\nselector: '[app-email-check][ngModel]',\nproviders: [\n    {\n        provide: NG_ASYNC_VALIDATORS,\n        useExisting: forwardRef(() =&gt; EmailCheckValidator),\n        multi: true\n    }\n]\n</code></pre>\n\n<p>})</p>\n\n<pre><code>export class EmailCheckValidator implements Validator, OnInit {\nvalidator: ValidatorFn;\n\nconstructor(private _emailHelper: EmailHelperService) {\n\n}\n\nngOnInit() {\n\n}\n\n\nvalidate(control: FormControl) {\n    return this._emailHelper.isEmailAvailable(control.value)\n        .then((response) =&gt; {\n            if (response) {\n                return null;\n            } else {\n                return { emailCheckValidator: { valid: false } };\n            }\n        });\n}\n</code></pre>\n\n<p>}</p>\n\n<p>I see that in Angular 5 they have fixed this by allowing you to specify the update type:</p>\n\n<pre><code>[ngModelOptions]=\"{ updateOn: 'blur' }\"\n</code></pre>\n\n<p><strong>Edit - Added HTML</strong>  </p>\n\n<pre><code>&lt;input type=\"text\" name=\"emailAddress\" id=\"emailAddr\"\n [(ngModel)]=\"user.emailAddress\" app-email-check  #emailAddress=\"ngModel\" required /&gt;\n</code></pre>\n\n<p>Has anyone come across this issue before? Any help would be appreciated, thanks!</p>\n"}, {"tags": ["html", "angular", "image", "typescript", "url"], "comments": [{"owner": {"reputation": 3899, "user_id": 2464706, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/ufYGl.jpg?s=128&g=1", "display_name": "musicnothing", "link": "https://stackoverflow.com/users/2464706/musicnothing"}, "edited": false, "score": 1, "creation_date": 1516816545, "post_id": 48428710, "comment_id": 83848082, "body": "It would be helpful if you could write a clearer description of the problem, and supply the code as text rather than an image."}, {"owner": {"reputation": 491, "user_id": 7128645, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JSCkV.jpg?s=128&g=1", "display_name": "Kristian", "link": "https://stackoverflow.com/users/7128645/kristian"}, "edited": false, "score": 0, "creation_date": 1516817169, "post_id": 48428710, "comment_id": 83848431, "body": "... also I recommend not sharing real paths to your server publicly ... I am not sure about your backend, but it feels kind of weird to retrieve images in this way (absolute ip with port and complete path to some file ) ... perhaps you should consider using some api or some tooling that provides you with more easy and flexible queries such as Firebase ... have you tried placing &#39;https://&#39; at the start of the string that is representing the path to your image? Do you use some base meta tag in page head? You probably do not need the interpolation in your binding, try src=&quot;{{item.picture}}&quot;"}], "answers": [{"comments": [{"owner": {"reputation": 13, "user_id": 9254575, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1a180cdfc1c500a8574f96ea6d436f1f?s=128&d=identicon&r=PG&f=1", "display_name": "kazeal", "link": "https://stackoverflow.com/users/9254575/kazeal"}, "edited": false, "score": 0, "creation_date": 1516819051, "post_id": 48429319, "comment_id": 83849451, "body": "Thank you so much! it worked. What was lacking was the http:// at the beggining of the image Url."}], "tags": [], "owner": {"reputation": 491, "user_id": 7128645, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JSCkV.jpg?s=128&g=1", "display_name": "Kristian", "link": "https://stackoverflow.com/users/7128645/kristian"}, "is_accepted": true, "score": 0, "last_activity_date": 1516818981, "last_edit_date": 1516818981, "creation_date": 1516818588, "answer_id": 48429319, "question_id": 48428710, "link": "https://stackoverflow.com/questions/48428710/angular-2-image-url-from-local-server-not-displaying-in-html/48429319#48429319", "title": "Angular 2 Image Url from Local Server Not Displaying in Html", "body": "<p>I think that you do not need the interpolation in your binding. As you can see <a href=\"https://plnkr.co/edit/i5uynowyZbiS2W25zxay\" rel=\"nofollow noreferrer\">at this plunker</a> simple assignment, such as</p>\n\n<pre><code>src={{path}}\n</code></pre>\n\n<p>works well for external file sources.</p>\n\n<p>You can even see that you probably do not have to do something that hardcore as bypassing security ... you could have sanitized the data, but even that is overkill per my opinion in this case.</p>\n\n<p>I think that the problem is in the way you store and retrieve your data. I would recommend you moving to some flexible backend such as <a href=\"http://firebase.google.com/\" rel=\"nofollow noreferrer\">Firebase</a> and using full capabilities of those tools, at least until you will not be able to create and maintain your own hosting/api/db properly. I totally do not like resources path in a form 666.66.0.6:4200/my/secret/path/little_pink_kitten.jpg ... Per your localhost appearing in the path, try prefix the src url with https:// or http:// alternatively ... you should be able to store all your data in simple key-value database structure accompanied with some kind of api allowing you use ajax/promises/etc in your queries, not just directly ask the server with some absolute path.</p>\n"}], "owner": {"reputation": 13, "user_id": 9254575, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1a180cdfc1c500a8574f96ea6d436f1f?s=128&d=identicon&r=PG&f=1", "display_name": "kazeal", "link": "https://stackoverflow.com/users/9254575/kazeal"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1465, "favorite_count": 0, "accepted_answer_id": 48429319, "answer_count": 1, "score": 0, "last_activity_date": 1516829256, "creation_date": 1516816121, "last_edit_date": 1516829256, "question_id": 48428710, "link": "https://stackoverflow.com/questions/48428710/angular-2-image-url-from-local-server-not-displaying-in-html", "title": "Angular 2 Image Url from Local Server Not Displaying in Html", "body": "<p>I have an Angular 2 Application that retrieves items from a local database. The server stores the image of the item and the database stores the path where it is stored on the server. I can retrieve all the items without the problem but when it comes to displaying the picture <strong>it will not render because it says Unsafe Url</strong>.\ni.e. 192.168.0.24:1025/UploadFile/freshmilk.jpg. So I Created a pipe to bypassSecurityTrustUrl. After that, the error disappears but still does not display the image. </p>\n\n<p>After inspecting the Html the image src says the correct Url for the image but <strong>when I hover my mouse it actually appended the localhost:5555 before the image Url</strong>. The problem is that the image will not display since localhost:5555 is appended to the image Url. <strong>How do I remove this appended localhost:5555 in the image Url?</strong></p>\n\n<p>[Localhost:5555 appended with the image Url][1]</p>\n\n<p>I tried hard coding one of the images from the server without using data binding. Which resulted in the Green Milk image next to the cat while the Cat is an image Url from the Internet.</p>\n\n<p>This is the Html Part of my Code </p>\n\n<pre><code>&lt;img src=\"http://192.168.0.24:1025/UploadFile/freshmilk.jpg\" width=\"100\" height=\"100\"&gt;\n&lt;img [src]=\"picturetest | safeHtml\" width=\"100\" height=\"100\"&gt;\n\n&lt;div class=\"table\"&gt;\n    &lt;table class=\"table\"&gt;\n        &lt;thead&gt;\n        &lt;th&gt;Picture&lt;/th&gt;\n    &lt;th&gt;ID&lt;/th&gt;\n    &lt;th&gt;Name&lt;/th&gt;\n    &lt;th&gt;Quantity Stored&lt;/th&gt;\n    &lt;th&gt;Price&lt;/th&gt;\n    &lt;th&gt;Purchase Count&lt;/th&gt;\n    &lt;th&gt;Options&lt;/th&gt;\n\n    &lt;/thead&gt;`enter code here`\n    &lt;tbody&gt;\n        &lt;tr *ngFor=\"let item of items.data\"&gt;\n            &lt;td&gt;&lt;img [src]=\"item.picture | safeHtml\" width=\"100\" height=\"100\"&gt;&lt;/td&gt;\n            &lt;td&gt;{{item.itemID}}&lt;/td&gt;\n            &lt;td&gt;{{item.itemName}}&lt;/td&gt;\n            &lt;td&gt;{{item.itemQuantityStored}}&lt;/td&gt;\n            &lt;td&gt;{{item.itemPrice}}&lt;/td&gt;\n            &lt;td&gt;{{item.purchaseCount}}&lt;/td&gt;           \n        &lt;/tr&gt;\n\n\n    &lt;/tbody&gt;\n&lt;/table&gt;\n</code></pre>\n\n<p></p>\n\n<p>I also tried removing the Pipe and manually looping the bypass security</p>\n\n<pre><code>   this.Data.getProducts().subscribe(data =&gt; {\n          this.items.data=data\n          console.log(this.items.data);\n          for(var i=0;i&lt;this.items.data.length;i++)\n           this.items.data[i].picture=this.sanitizer.bypassSecurityTrustUrl(this.items.data[i].picture);\n            console.log(\"latestest\");\n\n    });\n</code></pre>\n"}, {"tags": ["angular", "typescript", "single-page-application"], "comments": [{"owner": {"reputation": 18865, "user_id": 1990451, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/kffVz.jpg?s=128&g=1", "display_name": "smnbbrv", "link": "https://stackoverflow.com/users/1990451/smnbbrv"}, "edited": false, "score": 1, "creation_date": 1516815452, "post_id": 48428449, "comment_id": 83847449, "body": "I don&#39;t know how to explain it better than the error message"}, {"owner": {"reputation": 57675, "user_id": 1009922, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/K0eeL.jpg?s=128&g=1", "display_name": "ConnorsFan", "link": "https://stackoverflow.com/users/1009922/connorsfan"}, "edited": false, "score": 1, "creation_date": 1516815757, "post_id": 48428449, "comment_id": 83847626, "body": "Can you set <code>userHotelLength: number = 0;</code>?"}, {"owner": {"reputation": 9503, "user_id": 4987197, "user_type": "registered", "profile_image": "https://graph.facebook.com/10205789938965948/picture?type=large", "display_name": "mhodges", "link": "https://stackoverflow.com/users/4987197/mhodges"}, "edited": false, "score": 0, "creation_date": 1516818088, "post_id": 48428449, "comment_id": 83848939, "body": "My guess is that it&#39;s not allowing you to coercively compare a string with a number. Try setting <code>userHotelLength = 0</code>, not &quot;0&quot; and see if that fixes things."}], "answers": [{"comments": [{"owner": {"reputation": 7629, "user_id": 978005, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/9219975d0b744e19422761516d419f12?s=128&d=identicon&r=PG", "display_name": "Phix", "link": "https://stackoverflow.com/users/978005/phix"}, "edited": false, "score": 1, "creation_date": 1516817524, "post_id": 48428632, "comment_id": 83848633, "body": "Why don&#39;t you use the <code>number</code> type?"}, {"owner": {"reputation": 9503, "user_id": 4987197, "user_type": "registered", "profile_image": "https://graph.facebook.com/10205789938965948/picture?type=large", "display_name": "mhodges", "link": "https://stackoverflow.com/users/4987197/mhodges"}, "edited": false, "score": 0, "creation_date": 1516818213, "post_id": 48428632, "comment_id": 83849006, "body": "Is there a good reason you are using coercive equality? Why does userHotelLength need to be a string? FYI <code>&#39;&#39; == 0; &#47;&#47; true</code>"}, {"owner": {"reputation": 3751, "user_id": 6792646, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/90c3356d59254bbb5b4464ee3524294e?s=128&d=identicon&r=PG", "display_name": "Daksh Miglani", "link": "https://stackoverflow.com/users/6792646/daksh-miglani"}, "reply_to_user": {"reputation": 9503, "user_id": 4987197, "user_type": "registered", "profile_image": "https://graph.facebook.com/10205789938965948/picture?type=large", "display_name": "mhodges", "link": "https://stackoverflow.com/users/4987197/mhodges"}, "edited": false, "score": 0, "creation_date": 1546172674, "post_id": 48428632, "comment_id": 94792650, "body": "@mhodges well, idk at that time the api returned a string."}], "tags": [], "owner": {"reputation": 3751, "user_id": 6792646, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/90c3356d59254bbb5b4464ee3524294e?s=128&d=identicon&r=PG", "display_name": "Daksh Miglani", "link": "https://stackoverflow.com/users/6792646/daksh-miglani"}, "is_accepted": false, "score": 0, "last_activity_date": 1516815781, "creation_date": 1516815781, "answer_id": 48428632, "question_id": 48428449, "link": "https://stackoverflow.com/questions/48428449/ng-build-prod-operator-cannot-be-applied-to-types-string-and-number/48428632#48428632", "title": "ng build --prod: Operator &#39;==&#39; cannot be applied to types &#39;string&#39; and &#39;number&#39;", "body": "<p>Found the answer:</p>\n\n<p>Change the variable type to any instead of string because we're comparing right:</p>\n\n<pre><code>userHotelLength: any = '0';\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 277, "user_id": 8787354, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kQEBy.jpg?s=128&g=1", "display_name": "Anthony Giretti", "link": "https://stackoverflow.com/users/8787354/anthony-giretti"}, "is_accepted": true, "score": 1, "last_activity_date": 1516816057, "creation_date": 1516816057, "answer_id": 48428688, "question_id": 48428449, "link": "https://stackoverflow.com/questions/48428449/ng-build-prod-operator-cannot-be-applied-to-types-string-and-number/48428688#48428688", "title": "ng build --prod: Operator &#39;==&#39; cannot be applied to types &#39;string&#39; and &#39;number&#39;", "body": "<p>When you compare one type with other with <em>AOT</em> it gives error because it compiles at the time of build.</p>\n\n<p>I your change variables type it will worked. You won't get idea until you compile code with AOT because at the development one generally don't serve with AOT.</p>\n"}], "owner": {"reputation": 3751, "user_id": 6792646, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/90c3356d59254bbb5b4464ee3524294e?s=128&d=identicon&r=PG", "display_name": "Daksh Miglani", "link": "https://stackoverflow.com/users/6792646/daksh-miglani"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2857, "favorite_count": 0, "accepted_answer_id": 48428688, "answer_count": 2, "score": 1, "last_activity_date": 1516816057, "creation_date": 1516815143, "last_edit_date": 1516815677, "question_id": 48428449, "link": "https://stackoverflow.com/questions/48428449/ng-build-prod-operator-cannot-be-applied-to-types-string-and-number", "title": "ng build --prod: Operator &#39;==&#39; cannot be applied to types &#39;string&#39; and &#39;number&#39;", "body": "<p>I was building an Angular 4 and it runs completely fine in the developer server and without the <code>--prod</code> flag but as soon as I ran <code>ng build --prod</code> on My Angular 4 Project but it gives the following output:</p>\n\n<p>PS: It's built using ng cli version 1.4.2</p>\n\n<p>Variable that is giving error:</p>\n\n<pre><code>userHotelLength = '0';\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>Date: 2018-01-24T17:25:24.719Z                                                        \nHash: a7059ea62cc4eeb37fde\nTime: 12033ms\nchunk {0} styles.c9da94e47a8635066285.bundle.css (styles) 142 kB {3} [initial] [rendered]\nchunk {1} polyfills.3bc34265385d52184eab.bundle.js (polyfills) 86 bytes {3} [initial] [rendered]\nchunk {2} main.e402deade8b026b7d50e.bundle.js (main) 84 bytes [initial] [rendered]\nchunk {3} inline.9d07561b59257af76b95.bundle.js (inline) 1.45 kB [entry] [rendered]\n\nERROR in ng:///home/x/y/z.html (10,6): Operator '==' cannot be applied to types 'string' and 'number'.\nERROR in ng:///home/x/y/z.html (29,6): Operator '!=' cannot be applied to types 'string' and 'number'.\nERROR in ng:///home/x/y/z.html (36,6): Operator '==' cannot be applied to types 'string' and 'number'.\n</code></pre>\n\n<p>Code: </p>\n\n<pre><code>&lt;div class=\"my-booking-card loading-card\" *ngIf=\"userHotelLength == 0 &amp;&amp; (!userCancelledHotels || !userBookedHotels)\"&gt;\n...\n&lt;/div&gt;\n&lt;div *ngIf=\"userHotelLength != 0 &amp;&amp; (userCancelledHotels || userBookedHotels)\"&gt;\n\n...\n\n&lt;/div&gt;\n\n&lt;div class=\"no-hotel-found\" *ngIf=\"userHotelLength == 0\"&gt;\n...\n&lt;/div&gt;\n</code></pre>\n"}, {"tags": ["javascript", "angular", "typescript", "angular-directive", "angular-components"], "comments": [{"owner": {"reputation": 97, "user_id": 7065404, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/f82301ffa030b081ee64bbcae3150d9b?s=128&d=identicon&r=PG&f=1", "display_name": "fortuneNext", "link": "https://stackoverflow.com/users/7065404/fortunenext"}, "edited": false, "score": 0, "creation_date": 1516814947, "post_id": 48428341, "comment_id": 83847164, "body": "I seriously have no idea why the format brakes at Option1a code sample and after. If some mod got an idea..."}, {"owner": {"reputation": 113065, "user_id": 1850609, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/X0C56.jpg?s=128&g=1", "display_name": "acdcjunior", "link": "https://stackoverflow.com/users/1850609/acdcjunior"}, "edited": false, "score": 1, "creation_date": 1516891397, "post_id": 48428341, "comment_id": 83882718, "body": "@fortuneNxt about the formatting, the line breaks before the lists make a difference. I fixed it for you. Have a look at the diff (<a href=\"https://stackoverflow.com/posts/48428341/revisions\">stackoverflow.com/posts/48428341/revisions</a>)."}], "answers": [{"tags": [], "owner": {"reputation": 6088, "user_id": 5932590, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/ENub0.jpg?s=128&g=1", "display_name": "vince", "link": "https://stackoverflow.com/users/5932590/vince"}, "is_accepted": true, "score": 2, "last_activity_date": 1516891017, "last_edit_date": 1516891017, "creation_date": 1516889769, "answer_id": 48444995, "question_id": 48428341, "link": "https://stackoverflow.com/questions/48428341/angular-boolean-input-vs-attribute-directive-which-to-use/48444995#48444995", "title": "Angular: Boolean @Input vs Attribute @Directive - which to use?", "body": "<p>Using <code>@Input()</code> is best for this use case. </p>\n\n<p>It's simple, clean, and most importantly, it allows you to <em>dynamically</em> determine whether your component has a close button (a nice feature you could not get with the attribute directive). Example (this is terrible UX), but what if you only wanted to allow admin users to have a close button. Then, you could subscribe to your user service and set <code>[hasCloseButton]=\"userIsAdmin$ | async\"</code>. That's pretty powerful stuff you couldn't do (in a clean way) with an attribute directive. </p>\n\n<p>Also, for testing, you can just set the input directly (<code>testComponent.hasCloseButton = true</code>), rather than having to create a test host component and create one case with the directive / one without. </p>\n\n<p>To summarize: using <code>@Input()</code> will afford you more flexibility and make testing easier. </p>\n"}], "owner": {"reputation": 97, "user_id": 7065404, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/f82301ffa030b081ee64bbcae3150d9b?s=128&d=identicon&r=PG&f=1", "display_name": "fortuneNext", "link": "https://stackoverflow.com/users/7065404/fortunenext"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 509, "favorite_count": 0, "accepted_answer_id": 48444995, "answer_count": 1, "score": 0, "last_activity_date": 1516891335, "creation_date": 1516814727, "last_edit_date": 1516891335, "question_id": 48428341, "link": "https://stackoverflow.com/questions/48428341/angular-boolean-input-vs-attribute-directive-which-to-use", "title": "Angular: Boolean @Input vs Attribute @Directive - which to use?", "body": "<p>What I want to do using Angular is to create a \"directive\" that adds a something to my component, lets say a <code>myPortlet</code> with <code>myHasCloseButton</code> gives <code>myPortlet</code> a close button. </p>\n\n<pre><code>&lt;myPortlet myHasCloseButton&gt;...&lt;/myPortlet&gt;\n</code></pre>\n\n<p>I found three options how to approach this and I'm not sure which one is the correct one or if I missed a better option.</p>\n\n<p><strong>Option 1:</strong>\nCreate a directive that does something like</p>\n\n<pre><code>this.el.nativeElement.querySelector('.myCloseButton').style.visibility = 'visible';\n</code></pre>\n\n<ul>\n<li>Presence of directive enables the button which is syntactically awesome (see above).</li>\n<li>Can be applied to more than myPortlets which allows a more flexible use.</li>\n<li>Does not allow for <code>*ngIf</code>, thus forcing each <code>myPortlet</code> and other components to carry a hidden <code>myCloseButton</code> which feels awkward and appears to be not recommended.</li>\n<li>Does not allow to bind to some boolean property.</li>\n</ul>\n\n<p><strong>Option 1a:</strong>\nJust like Option 1, but give the directive an boolean <code>@Input</code> that switches the application of the visibility.</p>\n\n<ul>\n<li>Allows to bind some boolean property.</li>\n<li><p>Presence of directive no longer sufficient, usage is now</p>\n\n<p>...</p></li>\n</ul>\n\n<p><strong>Option 2:</strong>\nGive myPortlet a boolean <code>@Input</code> and a <code>*ngIf</code> directive at the right place.</p>\n\n<ul>\n<li>No close-button generated where unnecessary.</li>\n<li>Allows for binding a boolean.</li>\n<li>Must be implemented seperatly for each component using it.</li>\n<li>Presence of directive no longer sufficient, see above.</li>\n</ul>\n\n<p><strong>Option 2b:</strong>\n\"Hackily\" give a string <code>@Input</code> instead and check if it's empty (as that's what happens when you just give the input name without anything after) and treat it as true.</p>\n\n<ul>\n<li>Presence of directive enables the button which is syntactically awesome (see above).</li>\n<li>Does not allow to bind to some boolean property except maybe by typecasting boolean to string.</li>\n</ul>\n\n<p><strong>Option 3:</strong>\nCreate a directive that actually injects the myCloseButton via something like</p>\n\n<pre><code>ElementRef.nativeElement.querySelector('.myCloseButton').addComponent(myCloseButton)\n</code></pre>\n\n<p>[No actual tested Syntax, just an example, not sure if addComponent is the correct function and how to use it]</p>\n\n<ul>\n<li>Somehow feels awkward, seems like bad practice and overcomplicated.</li>\n<li>Using <code>Elementref</code> is warned against in Angular Docs, appears dangerous.</li>\n<li>Forces each <code>myPortlet</code> and other components to carry a hidden <code>myCloseButton</code> container.</li>\n<li><code>myPortlet</code> (or other component) no longer has control over the embedded <code>myCloseButton</code>.</li>\n<li>Due to that, it might be more difficult to achieve communication between <code>myPortlet</code> and the embedded <code>myCloseButton</code> (especially of <code>myCloseButton</code> is something more complex).</li>\n</ul>\n\n<p>So my question is: Which is the recommended approach? Am I missing any option? Any best practices? None of those options feels right.</p>\n"}, {"tags": ["typescript"], "answers": [{"comments": [{"owner": {"reputation": 2494, "user_id": 1246758, "user_type": "registered", "accept_rate": 42, "profile_image": "https://www.gravatar.com/avatar/1f6617b12faf7e61616f33c8c31fabc9?s=128&d=identicon&r=PG&f=1", "display_name": "Omtechguy", "link": "https://stackoverflow.com/users/1246758/omtechguy"}, "edited": false, "score": 0, "creation_date": 1517938622, "post_id": 48428755, "comment_id": 84295197, "body": "Can you explain what is &quot;{ body }&quot; mean in the line: const { body } = optional; ?"}], "tags": [], "owner": {"reputation": 3311, "user_id": 3007184, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/naWg8.jpg?s=128&g=1", "display_name": "Chybie", "link": "https://stackoverflow.com/users/3007184/chybie"}, "is_accepted": true, "score": 3, "last_activity_date": 1516816345, "creation_date": 1516816345, "answer_id": 48428755, "question_id": 48428278, "link": "https://stackoverflow.com/questions/48428278/how-to-check-if-optional-parameter-defined/48428755#48428755", "title": "How to check if optional parameter defined", "body": "<p>Assign a default empty object return <code>{}</code>. Then use shortcut to get <code>body</code>.</p>\n\n<pre><code>interface IOptional = { \n  params?: HttpParams, \n  body?: any, \n  isUseCache?:boolean \n};\n\nhttpAPI&lt;T&gt;(httpMethod: HttpMethod, url: string, optional?: IOptional = {}): Observable&lt;T&gt; \n{\n  const { body } = optional;\n}\n</code></pre>\n\n<p>You can also use <code>lodash get</code> or <code>lodash fp getOr</code> to achieve the same purpose.</p>\n"}], "owner": {"reputation": 2494, "user_id": 1246758, "user_type": "registered", "accept_rate": 42, "profile_image": "https://www.gravatar.com/avatar/1f6617b12faf7e61616f33c8c31fabc9?s=128&d=identicon&r=PG&f=1", "display_name": "Omtechguy", "link": "https://stackoverflow.com/users/1246758/omtechguy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 198, "favorite_count": 0, "accepted_answer_id": 48428755, "answer_count": 1, "score": 1, "last_activity_date": 1516816345, "creation_date": 1516814507, "question_id": 48428278, "link": "https://stackoverflow.com/questions/48428278/how-to-check-if-optional-parameter-defined", "title": "How to check if optional parameter defined", "body": "<p>This is the way i'm using to check if body property has been provided to the function.</p>\n\n<p>is there any simpler way to do it in TypeScript?</p>\n\n<pre><code>httpAPI&lt;T&gt;(httpMethod: HttpMethod, url: string, optional?: { params?: HttpParams, body?: any, isUseCache?:boolean }): Observable&lt;T&gt; \n{\n\n    const body: any = optional === undefined || optional.body === undefined ? undefined : optional.body;\n\n}\n</code></pre>\n"}, {"tags": ["angularjs", "typescript", "typescript-typings", "yarnpkg"], "comments": [{"owner": {"reputation": 2096, "user_id": 2954463, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/b12033e593a98a470a964d7a93297386?s=128&d=identicon&r=PG&f=1", "display_name": "user2954463", "link": "https://stackoverflow.com/users/2954463/user2954463"}, "edited": false, "score": 0, "creation_date": 1517243601, "post_id": 48427807, "comment_id": 84005850, "body": "for now, i am running rimraf in postinstall..."}, {"owner": {"reputation": 1158, "user_id": 3555105, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/e9f9e4a253cf7665970af1993c8b560c?s=128&d=identicon&r=PG&f=1", "display_name": "cdignam", "link": "https://stackoverflow.com/users/3555105/cdignam"}, "edited": false, "score": 0, "creation_date": 1549665330, "post_id": 48427807, "comment_id": 95998670, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/50530597/how-to-exclude-node-modules-types-node-modules\">How to exclude `node_modules/@types/**/node_modules`?</a>"}], "owner": {"reputation": 2096, "user_id": 2954463, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/b12033e593a98a470a964d7a93297386?s=128&d=identicon&r=PG&f=1", "display_name": "user2954463", "link": "https://stackoverflow.com/users/2954463/user2954463"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1534, "favorite_count": 2, "answer_count": 0, "score": 5, "last_activity_date": 1516812982, "creation_date": 1516812982, "question_id": 48427807, "link": "https://stackoverflow.com/questions/48427807/tsconfig-how-to-ignore-types-whatever-node-modules-for-a-specific-directory", "title": "tsconfig - How to ignore @types/whatever/node_modules for a specific directory?", "body": "<p>I'm running angular 1.5 with typescript (yay), and we include both <code>@types/angular</code> and <code>@types/angular-mocks</code>.</p>\n\n<p>The trouble is that <code>@types/angular-mocks</code> lists <code>@types/angular</code> as a dependency with * versioning. This causes yarn to install 1.6 in <code>@types/angular-mocks/node_modules</code>.</p>\n\n<p>The final result is a ts compile error: <code>@types/angular</code> 1.5 has a different definition for $inject than <code>@types/angular</code> 1.6</p>\n\n<p>How can I get the tsconfig to ignore <code>@types/angular-mocks/node_modules</code>?</p>\n\n<p>Here is my current tsconfig:</p>\n\n<pre><code>{\n    \"compilerOptions\": {\n        \"module\": \"commonjs\",\n        \"target\": \"es5\",\n        \"sourceMap\": true,\n        \"noImplicitAny\": false,\n        \"allowSyntheticDefaultImports\": true,\n        \"forceConsistentCasingInFileNames\": true,\n        \"lib\": [\n            \"es2016\",\n            \"dom\"\n        ],\n        \"rootDir\": \"app/modules\",\n        \"mapRoot\": \"/modules/\",\n        \"sourceRoot\": \"/modules\",\n        \"typeRoots\": [\"./node_modules/@types\"],\n        \"baseUrl\": \".\",\n        \"paths\": {\n            \"*\": [\n                \"app/modules/*\"\n            ]\n        }\n    },\n\n    \"include\": [\n        \"./node_modules/@types\",\n        \"./typings-custom/*.d.ts\"\n    ],\n\n    \"exclude\": [\n        \"node_modules\"\n    ]\n}\n</code></pre>\n"}, {"tags": ["angular", "typescript", "angular-reactive-forms"], "answers": [{"comments": [{"owner": {"reputation": 33, "user_id": 9263082, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eee7fef07138e57f17cafcccb4ab21db?s=128&d=identicon&r=PG&f=1", "display_name": "Thayend", "link": "https://stackoverflow.com/users/9263082/thayend"}, "edited": false, "score": 1, "creation_date": 1516814100, "post_id": 48427293, "comment_id": 83846621, "body": "Thanks for your fast reply, but actually thats what I wanted to avoid. The reason for this is, that I have the same data in many, many components (user is kind of an unfitting example for that). And then I would have the same code in all of them... seems not ideal to me..."}, {"owner": {"reputation": 28589, "user_id": 8558186, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8af66bb1af6d1875a2dd7be9dd1c8d2b?s=128&d=identicon&r=PG&f=1", "display_name": "Eliseo", "link": "https://stackoverflow.com/users/8558186/eliseo"}, "edited": false, "score": 0, "creation_date": 1516814207, "post_id": 48427293, "comment_id": 83846687, "body": "In my opinion, the services only have to return Observables; and in my opinion too, it is clearer if a function is done to build formControl (pass empty data or an object). In general, the form does not have to have the same fields as the data."}, {"owner": {"reputation": 33, "user_id": 9263082, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eee7fef07138e57f17cafcccb4ab21db?s=128&d=identicon&r=PG&f=1", "display_name": "Thayend", "link": "https://stackoverflow.com/users/9263082/thayend"}, "edited": false, "score": 1, "creation_date": 1516814555, "post_id": 48427293, "comment_id": 83846895, "body": "Could I somehow use an <i>Resolve Guard</i> to achieve this?"}, {"owner": {"reputation": 916, "user_id": 1134197, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/cdbfc7b4da05b76f1e608bca2b92217f?s=128&d=identicon&r=PG", "display_name": "aycanadal", "link": "https://stackoverflow.com/users/1134197/aycanadal"}, "edited": false, "score": 0, "creation_date": 1565883614, "post_id": 48427293, "comment_id": 101492749, "body": "I&#39;m not sure if making async calls in a service constructor is a good practice. Never had to do it."}], "tags": [], "owner": {"reputation": 4874, "user_id": 1879665, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/216fb94dbeb798e2bcf83887ec4c1072?s=128&d=identicon&r=PG", "display_name": "Iancovici", "link": "https://stackoverflow.com/users/1879665/iancovici"}, "is_accepted": false, "score": 3, "last_activity_date": 1516812079, "last_edit_date": 1516812079, "creation_date": 1516811374, "answer_id": 48427293, "question_id": 48427121, "link": "https://stackoverflow.com/questions/48427121/best-way-to-get-data-from-a-service-to-a-reactive-form-in-angular5/48427293#48427293", "title": "Best way to get data from a service to a reactive form in Angular5", "body": "<p>You can subscribe inside your component instead, or you could create a subject that emits the values once done.</p>\n\n<p>Subscribing inside component</p>\n\n<pre><code>@Injectable()\nexport class UserService {\n\nprivate user: User;\n\nprivate url: string = 'v1/user';\n\nconstructor(private restService: RestService) {}\n\n\n\npublic getUser() {\n    return this.restService.get(this.url);\n}\n</code></pre>\n\n<p>In component.ts</p>\n\n<pre><code>export class UserComponent implements OnInit {\n\nprivate form: FormGroup;\n    userSub: Subscription;\n    user: string;\nconstructor(\n    private userService: UserService\n) {}\n\nngOnInit(): void {\n   userSub = this.userService.getUser()\n     .subscribe( (res) =&gt; { \n        this.user = res;\n         // Initalize the empty form\n        this.form = new FormGroup({\n            'email': new FormControl(this.user, [])\n             })\n        );\n     });\n\n}\n</code></pre>\n\n<hr>\n\n<p>Subscribing to a subject in service</p>\n\n<pre><code>@Injectable()\nexport class UserService {\nuserRetrieved: new Subject&lt;User&gt;();\nprivate user: User;\n\nprivate url: string = 'v1/user';\n\nconstructor(\n    private restService: RestService\n\n) {\n    this.restService.get(this.url).subscribe(\n        (res) =&gt; {\n            this.user = res;\n            this.userRetrieved.next(this.user);\n        }\n    );\n\n}\n\npublic getUser(): User {\n    return this.user;\n}\n</code></pre>\n\n<p>Then in your component, subscribe to it</p>\n\n<pre><code>export class UserComponent implements OnInit {\nuserSub: Subscription;\nprivate form: FormGroup;\n\nconstructor(\n    private userService: UserService\n) {}\n\nngOnInit(): void {\n    // Initalize the empty form\n    this.form = new FormGroup({\n            email: new FormControl()\n        })\n    );\n    this.userSub = this.userService.userChanged\n       .subscribe((res: User ) =&gt; { \n        //Code to update and Fill the form with values from the service\n        // this.form.patchValue(res);\n       });\n\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 150, "user_id": 7111126, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-S0PlNtHdTk8/AAAAAAAAAAI/AAAAAAAALGE/UnBPqEM_iZc/photo.jpg?sz=128", "display_name": "PaNic175", "link": "https://stackoverflow.com/users/7111126/panic175"}, "is_accepted": true, "score": 2, "last_activity_date": 1517586141, "last_edit_date": 1517586141, "creation_date": 1517585357, "answer_id": 48585907, "question_id": 48427121, "link": "https://stackoverflow.com/questions/48427121/best-way-to-get-data-from-a-service-to-a-reactive-form-in-angular5/48585907#48585907", "title": "Best way to get data from a service to a reactive form in Angular5", "body": "<p>Yes, you can actually make your service act as an resolver and achieve your goal this way.</p>\n\n<pre><code>@Injectable()\nexport class UserService implements Resolve&lt;any&gt; {\n\n    private user: User;\n\n    private url: string = 'v1/user';\n\n    constructor(\n        private restService: RestService\n    ) {}\n\n    public resolve(route: ActivatedRouteSnapshot): Observable&lt;any&gt; {\n        return this.restService.get(this.url).map(\n            user =&gt; {\n                this.user = user;    \n            },\n            error =&gt; {}\n        ).first();\n    }\n\n}\n</code></pre>\n\n<p>And afterwards in your router you add the service to your route, as you would do it for a normal resolver.</p>\n\n<pre><code>const routes: Routes = [\n    {\n        path: 'user',\n        component: UserComponent,\n        resolve: {\n            user: UserService\n        }\n    }\n]\n\n@NgModule({ \n  imports: [ RouterModule.forRoot(routes)],\n    exports: [RouterModule],\n    providers: [UserService] \n})\n</code></pre>\n\n<p>This way the service data is refreshed everytime you navigate in your app.</p>\n\n<p>Hope this helps.</p>\n"}], "owner": {"reputation": 33, "user_id": 9263082, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eee7fef07138e57f17cafcccb4ab21db?s=128&d=identicon&r=PG&f=1", "display_name": "Thayend", "link": "https://stackoverflow.com/users/9263082/thayend"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3792, "favorite_count": 2, "accepted_answer_id": 48585907, "answer_count": 2, "score": 3, "last_activity_date": 1517586141, "creation_date": 1516810868, "question_id": 48427121, "link": "https://stackoverflow.com/questions/48427121/best-way-to-get-data-from-a-service-to-a-reactive-form-in-angular5", "title": "Best way to get data from a service to a reactive form in Angular5", "body": "<p>I'm searching for the best way to fill a form with data from a service in Angular 5. I wanted to have as little component code as possible, thats my variable-data is stored within the services and not the component.</p>\n\n<p>My services actually load the content via a second service.</p>\n\n<p><strong>Example Service:</strong></p>\n\n<pre><code>@Injectable()\nexport class UserService {\n\nprivate user: User;\n\nprivate url: string = 'v1/user';\n\nconstructor(\n    private restService: RestService\n\n) {\n    this.restService.get(this.url).subscribe(\n        res =&gt; {\n            this.user = res;\n        }\n    );\n\n}\n\npublic getUser(): User {\n    return this.user;\n}\n</code></pre>\n\n<p><strong>Example Component:</strong></p>\n\n<pre><code>export class UserComponent implements OnInit {\n\nprivate form: FormGroup;\n\nconstructor(\n    private userService: UserService\n) {}\n\nngOnInit(): void {\n    // Initalize the empty form\n    this.form = new FormGroup({\n            email: new FormControl()\n        })\n    );\n\n    // Fill the form with values from the service\n    this.form.patchValue(this.userService.getUser());\n}\n</code></pre>\n\n<p>When I actually wait for a time (like 10 seconds with setTimeout) and then execute the patchValue() everything works, but obviously that is not optimal.</p>\n\n<p>Is there a way to know when the code in the service is loaded, aside from going <em>to take a sledgehammer to crack a nut</em> and using an Observable?</p>\n\n<p>I'm thankful to any input.</p>\n"}, {"tags": ["html", "angular", "typescript", "module", "lazy-loading"], "comments": [{"owner": {"reputation": 21940, "user_id": 5394220, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/U2VGk.jpg?s=128&g=1", "display_name": "Jota.Toledo", "link": "https://stackoverflow.com/users/5394220/jota-toledo"}, "edited": false, "score": 1, "creation_date": 1516811135, "post_id": 48427072, "comment_id": 83844620, "body": "why do you want to &quot;unload&quot; modules?"}, {"owner": {"reputation": 434, "user_id": 6235807, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/LSR9j.jpg?s=128&g=1", "display_name": "lynxSven", "link": "https://stackoverflow.com/users/6235807/lynxsven"}, "reply_to_user": {"reputation": 21940, "user_id": 5394220, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/U2VGk.jpg?s=128&g=1", "display_name": "Jota.Toledo", "link": "https://stackoverflow.com/users/5394220/jota-toledo"}, "edited": false, "score": 0, "creation_date": 1516811232, "post_id": 48427072, "comment_id": 83844693, "body": "To reset the app to a starting state without reloading the side"}], "answers": [{"tags": [], "owner": {"reputation": 28444, "user_id": 6428638, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/eoaOn.jpg?s=128&g=1", "display_name": "Sachila Ranawaka", "link": "https://stackoverflow.com/users/6428638/sachila-ranawaka"}, "is_accepted": false, "score": 0, "last_activity_date": 1516810942, "creation_date": 1516810942, "answer_id": 48427156, "question_id": 48427072, "link": "https://stackoverflow.com/questions/48427072/unloading-lazy-loaded-modules-in-angular-5/48427156#48427156", "title": "Unloading lazy loaded modules in Angular 5", "body": "<p>the whole point of using lazy loading is to load the relevant modules for a component. Once you log out the application it actually loads the modules which need for that component. Hence there is nothing to unload</p>\n"}, {"tags": [], "owner": {"reputation": 434, "user_id": 6235807, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/LSR9j.jpg?s=128&g=1", "display_name": "lynxSven", "link": "https://stackoverflow.com/users/6235807/lynxsven"}, "is_accepted": true, "score": 2, "last_activity_date": 1591879674, "last_edit_date": 1591879674, "creation_date": 1551283200, "answer_id": 54909573, "question_id": 48427072, "link": "https://stackoverflow.com/questions/48427072/unloading-lazy-loaded-modules-in-angular-5/54909573#54909573", "title": "Unloading lazy loaded modules in Angular 5", "body": "<p>I guess unloading my modules was the wrong direction.</p>\n\n<p>Once the chunks are loaded they shouldn't be constructed again.</p>\n\n<p>I register the services in another service. Now when I Logout I call a function which iterates through all the services and calls a function for every service which empties all data by the previous User.</p>\n\n<p>----------EDIT---------</p>\n\n<p>Seeing that this question still get views here is a solution I used for some Apps:</p>\n\n<p>Kudos to user benh80</p>\n\n<p>Resetting the complete App and reloading it:\n<a href=\"https://stackoverflow.com/questions/43234416/resetting-angular-2-app\">Resetting Angular 2 App</a></p>\n"}], "owner": {"reputation": 434, "user_id": 6235807, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/LSR9j.jpg?s=128&g=1", "display_name": "lynxSven", "link": "https://stackoverflow.com/users/6235807/lynxsven"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1763, "favorite_count": 0, "accepted_answer_id": 54909573, "answer_count": 2, "score": 1, "last_activity_date": 1591879674, "creation_date": 1516810699, "last_edit_date": 1516811178, "question_id": 48427072, "link": "https://stackoverflow.com/questions/48427072/unloading-lazy-loaded-modules-in-angular-5", "title": "Unloading lazy loaded modules in Angular 5", "body": "<p>I want to unload all used modules when a user logs out of the webside to reset the application. When a new logs into the backendserver with the same running application all lazy loaded modules are still there.\nI did some research and seems to me like it isn't possible by now.</p>\n\n<p>Does somebody know a solution or a githublink to the ticket?</p>\n"}, {"tags": ["angular", "unit-testing", "typescript", "angular2-forms", "angular2-directives"], "answers": [{"tags": [], "owner": {"reputation": 1, "user_id": 5028589, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-G4KkxMZ3D_4/AAAAAAAAAAI/AAAAAAAAAU4/Mu9TdPYcnTQ/photo.jpg?sz=128", "display_name": "Chris Stoy", "link": "https://stackoverflow.com/users/5028589/chris-stoy"}, "is_accepted": false, "score": 0, "last_activity_date": 1525189110, "creation_date": 1525189110, "answer_id": 50119415, "question_id": 48426754, "link": "https://stackoverflow.com/questions/48426754/unit-testing-directive-hostlistener-not-working/50119415#50119415", "title": "Unit testing directive HostListener not working", "body": "<p>I've had luck using <code>triggerEventHandler</code> on the directive element.  For example,</p>\n\n<pre><code>it('should add \"c2d-dropzone-active\" class to element when dragenter has occurred', async done =&gt; {\n  fixture.detectChanges();\n  const el: any = element.query(By.directive(C2dDropzoneDirective));\n  expect(el.nativeElement.className).not.toContain('c2d-dropzone-active');\n  el.triggerEventHandler('dragenter', mockEvent);\n  fixture.detectChanges();\n  await fixture.whenStable();\n  expect(el.nativeElement.className).toContain('c2d-dropzone-active');\n  done();\n});\n</code></pre>\n"}], "owner": {"reputation": 31, "user_id": 7253112, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dd76e68ace47c25ac9a46fea98f073f3?s=128&d=identicon&r=PG&f=1", "display_name": "Stephen", "link": "https://stackoverflow.com/users/7253112/stephen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 2336, "favorite_count": 0, "answer_count": 1, "score": 3, "last_activity_date": 1525189712, "creation_date": 1516809857, "last_edit_date": 1525189712, "question_id": 48426754, "link": "https://stackoverflow.com/questions/48426754/unit-testing-directive-hostlistener-not-working", "title": "Unit testing directive HostListener not working", "body": "<p>I am attempting to unit test some functionality that does work on the front-end flawlessly but the unit test doesn't seem to be taking hold.</p>\n\n<p>Below is my current unit test, it is not finished completely I am just trying to get the bare bones test to work before moving on to more complicated checks. </p>\n\n<pre class=\"lang-js prettyprint-override\"><code>@Component({\n  template : '&lt;input appInputFilter filterType=\"alphanumericOnly\" type=\"text\" minlength=\"2\"&gt;'\n})\nclass TestComponent {\n\n}\n\ndescribe('InputFilterDirective', () =&gt; {\n\n  let comp: TestComponent;\n  let fixture: ComponentFixture&lt;TestComponent&gt;;\n  let de: DebugElement;\n // const el: HTMLElement;\n\n  beforeEach(() =&gt; {\n    TestBed.configureTestingModule({\n      declarations : [InputFilterDirective, TestComponent]\n    });\n\n    fixture = TestBed.createComponent(TestComponent);\n\n    comp = fixture.componentInstance;\n\n    de = fixture.debugElement.query(By.directive(InputFilterDirective));\n  });\n\n  it('should create instance of inputFilter', () =&gt; {\n    expect(comp).toBeTruthy();\n    expect(de).toBeDefined();\n  });\n\n  it('should only allow onlyNumbers', async(() =&gt; {\n\n    fixture.detectChanges();\n\n\n    const keyEvent = new KeyboardEvent('keydown', {'code': 'KeyQ'});\n    const input = de.nativeElement as HTMLInputElement;\n    input.dispatchEvent(keyEvent);\n    expect(input.value).toEqual('q');\n\n\n    expect(true).toBeTruthy();\n  }));\n});\n</code></pre>\n\n<p>And here is my full directive:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code> import { Directive, ElementRef, HostListener, Input  } from '@angular/core';\n\n@Directive({\n  selector: '[appInputFilter]',\n\n})\nexport class InputFilterDirective {\n\n  private el : any;\n  private specialKeys : Array&lt;string&gt; = ['Backspace', 'Tab', 'End', 'Home'];\n\n  @Input() public filterType : any;\n\n  constructor(el: ElementRef) {\n    this.el = el;\n   }\n\n   @HostListener('keydown', ['$event'])\n   onKeyDown(event: KeyboardEvent) {\n\n    if (this.specialKeys.indexOf(event.key) !== -1) {\n      return;\n    }\n\n    switch (this.filterType) {\n      case 'onlyNumber':\n        this.appFilter(event, new RegExp(/\\D/g));\n      break;\n      case 'alphanumericOnly':\n        this.appFilter(event, new RegExp(/\\W/g));\n      break;\n      case 'alphabeticAndSpecial':\n        this.appFilter(event, new RegExp(/[^a-zA-Z'-]/));\n      break;\n      case 'ipAddress':\n        this.appFilter(event, new RegExp(/[^0-9.]/g));\n      break;\n    }\n   };\n\n  appFilter(event: KeyboardEvent, regex: RegExp) {\n    const current: string = this.el.nativeElement.value;\n    const next: string = current.concat(event.key);\n\n    if (next &amp;&amp; String(next).match(regex)) {\n      event.preventDefault();\n    }\n  };\n}\n</code></pre>\n\n<p>Additional notes:</p>\n\n<ul>\n<li>I have attempted many different KeyEvents such as type key: '1' and such like that. </li>\n<li>I have run the unit test as async and non async.</li>\n<li>I have followed many different stack overflow instructions on how other people have attempted to unit test HostListeners and unfortunately this is simply not working for me and I have no idea why.</li>\n</ul>\n\n<p>And help is very much appreciated, like I said this is a bare bones test, you will notice in the test component that I am using the filter to filter for alphanumeric (which you can check out in the directive code)</p>\n\n<p>Also I am <strong>NOT</strong> opposed to listening for \"preventDefault\" to prove this test so if the issue is how I am detecting change then please let me know and I do not mind adjusting. </p>\n"}, {"tags": ["angular", "typescript", "angular-cli"], "answers": [{"comments": [{"owner": {"reputation": 177, "user_id": 6020504, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/d6fbdc04c2bae3ccd16c69e97fe1719b?s=128&d=identicon&r=PG&f=1", "display_name": "runningraptor", "link": "https://stackoverflow.com/users/6020504/runningraptor"}, "edited": false, "score": 0, "creation_date": 1516834767, "post_id": 48428654, "comment_id": 83857492, "body": "Thank you! The first one wasn&#39;t strict enough, but the second solution worked perfectly!"}, {"owner": {"reputation": 119030, "user_id": 16940, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/7fc2db839382b30434539fbc967c498e?s=128&d=identicon&r=PG", "display_name": "Simon_Weaver", "link": "https://stackoverflow.com/users/16940/simon-weaver"}, "edited": false, "score": 1, "creation_date": 1527969052, "post_id": 48428654, "comment_id": 88331254, "body": "adding <code>--source-map=false</code> can greatly speed things up. Obviously the <code>prod</code> and <code>aot</code> slow things down - and if you&#39;re looking to just fix all those silly small things this should speed up the process."}], "tags": [], "owner": {"reputation": 2207, "user_id": 3632314, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/94aef9ba83eaa55eca8d73fd2114e2d4?s=128&d=identicon&r=PG&f=1", "display_name": "srikanth_k", "link": "https://stackoverflow.com/users/3632314/srikanth-k"}, "is_accepted": true, "score": 0, "last_activity_date": 1528732910, "last_edit_date": 1528732910, "creation_date": 1516815904, "answer_id": 48428654, "question_id": 48425713, "link": "https://stackoverflow.com/questions/48425713/what-flag-can-i-add-to-angular-ng-serve-to-make-hotload-show-strict-build-erro/48428654#48428654", "title": "What flag can I add to Angular `ng serve` to make hotload show strict build errors", "body": "<p>Here is the documentation of all the build options of ng serve</p>\n\n<p><a href=\"https://github.com/angular/angular-cli/wiki/serve\" rel=\"nofollow noreferrer\">https://github.com/angular/angular-cli/wiki/serve</a></p>\n\n<p>For your case, try </p>\n\n<pre><code>ng serve --e=prod\n</code></pre>\n\n<p>or </p>\n\n<pre><code>ng serve --aot --e=prod\n</code></pre>\n\n<p>Hope this works.</p>\n\n<p>Also try --source-maps=false. This looks like speeding up things.</p>\n"}], "owner": {"reputation": 177, "user_id": 6020504, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/d6fbdc04c2bae3ccd16c69e97fe1719b?s=128&d=identicon&r=PG&f=1", "display_name": "runningraptor", "link": "https://stackoverflow.com/users/6020504/runningraptor"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1416, "favorite_count": 1, "accepted_answer_id": 48428654, "answer_count": 1, "score": 1, "last_activity_date": 1528732910, "creation_date": 1516806602, "question_id": 48425713, "link": "https://stackoverflow.com/questions/48425713/what-flag-can-i-add-to-angular-ng-serve-to-make-hotload-show-strict-build-erro", "title": "What flag can I add to Angular `ng serve` to make hotload show strict build errors", "body": "<p>I wanted to add a question within the comment section of this post: <a href=\"https://stackoverflow.com/questions/41979418/angular-2-aot-vs-jit?noredirect=1&amp;lq=1\">Angular 2 AOT vs JIT</a>, but I don't have enough rep points yet.</p>\n\n<p>I have an Angular app that shows errors when I build but not in dev. I understand the desire to get quick feedback in dev but for this application it is causing issues in the gratification of quick deployment after working in the dev enviroment for extended time. Instead of doing <code>ng serve</code> to get the feedback and then do <code>ng build</code> right after to make sure at a later time I will be able to deploy; is there a flag I can add to <code>ng serve</code> that will do this for me?</p>\n\n<p>At the moment I use <code>ng serve --aot</code> but that is not strict enough to show errors that will fail at build. Right now the application I have is not that big, so I will find it acceptable if my <code>ng serve</code> loads slower.</p>\n\n<p>Here's a snippet of my package.json:</p>\n\n<pre><code>{\n  \"name\": \"XXXXXXX\",\n  \"url\": \"XXXXXXX\",\n  \"version\": \"0.0.1\",\n  \"scripts\": {\n    \"ng\": \"ng\",\n    \"start\": \"ng serve --aot\",\n    \"build\": \"ng build --prod\",\n    \"test\": \"ng test\",\n    \"lint\": \"ng lint\",\n    \"e2e\": \"ng e2e\"\n  },\n  \"private\": true,\n  \"dependencies\": {\n    \"@angular/animations\": \"^5.1.2\",\n    \"@angular/cdk\": \"^5.0.2\",\n    \"@angular/common\": \"^5.0.0\",\n    \"@angular/compiler\": \"^5.0.0\",\n    \"@angular/core\": \"^5.0.0\",\n    \"@angular/forms\": \"^5.0.0\",\n    \"@angular/http\": \"^5.0.0\",\n    \"@angular/material\": \"^5.0.2\",\n    \"@angular/platform-browser\": \"^5.0.0\",\n    \"@angular/platform-browser-dynamic\": \"^5.0.0\",\n    \"@angular/platform-server\": \"^5.0.0\",\n    \"@angular/router\": \"^5.0.0\",\n    \"angular2-jwt\": \"^0.2.3\",\n  },\n  \"devDependencies\": {\n    \"@angular/cli\": \"^1.5.5\",\n    \"@angular/compiler-cli\": \"^5.0.0\",\n    \"@types/google.analytics\": \"0.0.36\",\n    \"@types/jasmine\": \"^2.5.38\",\n    \"@types/node\": \"~6.0.60\",\n    \"codelyzer\": \"~2.0.0\",\n    \"jasmine-core\": \"~2.5.2\",\n    \"jasmine-spec-reporter\": \"~3.2.0\",\n    \"karma\": \"~1.4.1\",\n    \"karma-chrome-launcher\": \"~2.0.0\",\n    \"karma-cli\": \"~1.0.1\",\n    \"karma-coverage-istanbul-reporter\": \"^0.2.0\",\n    \"karma-jasmine\": \"~1.1.0\",\n    \"karma-jasmine-html-reporter\": \"^0.2.2\",\n    \"protractor\": \"~5.1.0\",\n    \"ts-node\": \"^2.0.0\",\n    \"tslint\": \"~4.5.0\",\n    \"typescript\": \"^2.4.2\"\n  }\n}\n</code></pre>\n"}, {"tags": ["angular", "typescript", "angular-material", "angular-material2", "angular2-directives"], "comments": [{"owner": {"reputation": 8049, "user_id": 1447173, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/Q0dKa.gif?s=128&g=1", "display_name": "Daniel B", "link": "https://stackoverflow.com/users/1447173/daniel-b"}, "edited": false, "score": 1, "creation_date": 1516807683, "post_id": 48425624, "comment_id": 83841963, "body": "This part, <code>collpaseClose(0)</code> looks like a potential culprit. You&#39;re always calling the method with the 0 index. You should use a variable to specify which expansion panel gets clicked instead."}, {"owner": {"reputation": 534, "user_id": 5358640, "user_type": "registered", "accept_rate": 22, "profile_image": "https://lh5.googleusercontent.com/-Xrr8QWluDyA/AAAAAAAAAAI/AAAAAAAABRo/BSKXonuaMa0/photo.jpg?sz=128", "display_name": "Nishant Varshney", "link": "https://stackoverflow.com/users/5358640/nishant-varshney"}, "reply_to_user": {"reputation": 8049, "user_id": 1447173, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/Q0dKa.gif?s=128&g=1", "display_name": "Daniel B", "link": "https://stackoverflow.com/users/1447173/daniel-b"}, "edited": false, "score": 0, "creation_date": 1516912725, "post_id": 48425624, "comment_id": 83895936, "body": "HI @DanielB..Sorry for late response... But i am not calling with 0 every time. for each expansion panel I am having different index starting from 0.I am comparing the index in the TS file."}], "answers": [{"tags": [], "owner": {"reputation": 31, "user_id": 3933588, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/944e321a09446e9d817e0e68936c2232?s=128&d=identicon&r=PG&f=1", "display_name": "Syam Pradeep", "link": "https://stackoverflow.com/users/3933588/syam-pradeep"}, "is_accepted": false, "score": 1, "last_activity_date": 1519354138, "last_edit_date": 1519354138, "creation_date": 1519320800, "answer_id": 48933815, "question_id": 48425624, "link": "https://stackoverflow.com/questions/48425624/function-on-closed-of-mat-expansion-panel-is-called-when-i-am-opening-the-an/48933815#48933815", "title": "Function on (closed) of &lt;mat-expansion-panel&gt; is called when I am opening the another panel", "body": "<p>mat-accordion component has an input property <strong>multi</strong>.\n@Input()multi: boolean :Whether the accordion should allow multiple expanded accordion items simultaneously.\nAs it is not set to true it may be triggering the closed event for other expansion panel.\nSet <strong>multi</strong> to true <code>&lt;mat-accordion [multi]=\"true\"&gt;</code> and check.</p>\n"}], "owner": {"reputation": 534, "user_id": 5358640, "user_type": "registered", "accept_rate": 22, "profile_image": "https://lh5.googleusercontent.com/-Xrr8QWluDyA/AAAAAAAAAAI/AAAAAAAABRo/BSKXonuaMa0/photo.jpg?sz=128", "display_name": "Nishant Varshney", "link": "https://stackoverflow.com/users/5358640/nishant-varshney"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3752, "favorite_count": 0, "answer_count": 1, "score": 4, "last_activity_date": 1519354138, "creation_date": 1516806333, "question_id": 48425624, "link": "https://stackoverflow.com/questions/48425624/function-on-closed-of-mat-expansion-panel-is-called-when-i-am-opening-the-an", "title": "Function on (closed) of &lt;mat-expansion-panel&gt; is called when I am opening the another panel", "body": "<p>I am using the mat-accordion and inside this there is multiple mat-expansion-panel. On the very first mat-expansion-panel I am calling a function on (closed). By default very first mat-expansion-panel is closed.Now when the page loads and I am clicking on second mat-expansion-panel then the function of very first mat-expansion-panel (closed) is getting called(which should not be as it is not opened yet). </p>\n\n<p>I want that when we open a expansion-panel and then close it or any other open any other expansion-panel then only the (closed) function of first expansion-panel will enter called.</p>\n\n<pre><code>&lt;mat-accordion class=\"example-headers-align myaccordion\"&gt;\n             &lt;mat-expansion-panel  hideToggle=\"true\" class=\"myexpension\" (opened)=\"fetchGeneralInfo()\" (closed)=\"collpaseClose(0)\"  #generalInfo&gt;\n             &lt;mat-expansion-panel-header&gt;\n                &lt;mat-panel-title&gt;\n                            General Information\n                &lt;/mat-panel-title&gt;\n &lt;/mat-expansion-panel&gt;\n\n   &lt;mat-expansion-panel hideToggle=\"true\" class=\"myexpension\" #guaInfo (opened)=\"fetchGua()\" &gt;\n    &lt;mat-expansion-panel-header&gt;\n      &lt;mat-panel-title&gt;\n        Gurantor Information\n      &lt;/mat-panel-title&gt;\n &lt;/mat-expansion-panel&gt;\n</code></pre>\n"}, {"tags": ["javascript", "typescript"], "answers": [{"comments": [{"owner": {"reputation": 4532, "user_id": 4450187, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/4bd15ffbc419f4b78e83d561b028bb66?s=128&d=identicon&r=PG&f=1", "display_name": "messerbill", "link": "https://stackoverflow.com/users/4450187/messerbill"}, "edited": false, "score": 0, "creation_date": 1516805233, "post_id": 48425210, "comment_id": 83840128, "body": "<code>console.log(dimensions)</code> will have the same output?"}, {"owner": {"reputation": 1689, "user_id": 4671195, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/te560.png?s=128&g=1", "display_name": "Ben Kolya Mansley", "link": "https://stackoverflow.com/users/4671195/ben-kolya-mansley"}, "edited": false, "score": 1, "creation_date": 1516805262, "post_id": 48425210, "comment_id": 83840145, "body": "yes, that will correctly output the <code>dimensions</code> object"}, {"owner": {"reputation": 143310, "user_id": 5157454, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-QPadFFLbBGA/AAAAAAAAAAI/AAAAAAAADB8/FkNCMP_vkAc/photo.jpg?sz=128", "display_name": "Ori Drori", "link": "https://stackoverflow.com/users/5157454/ori-drori"}, "edited": false, "score": 0, "creation_date": 1516805305, "post_id": 48425210, "comment_id": 83840170, "body": "You can destructure both dimensions and height - see example"}, {"owner": {"reputation": 723, "user_id": 3185846, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/sAoU9.jpg?s=128&g=1", "display_name": "DaniGuardiola", "link": "https://stackoverflow.com/users/3185846/daniguardiola"}, "edited": false, "score": 0, "creation_date": 1516808674, "post_id": 48425210, "comment_id": 83842785, "body": "Nice! I didn&#39;t know about nested destructuring, that is sexy indeed"}], "tags": [], "owner": {"reputation": 143310, "user_id": 5157454, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-QPadFFLbBGA/AAAAAAAAAAI/AAAAAAAADB8/FkNCMP_vkAc/photo.jpg?sz=128", "display_name": "Ori Drori", "link": "https://stackoverflow.com/users/5157454/ori-drori"}, "is_accepted": true, "score": 8, "last_activity_date": 1516806536, "last_edit_date": 1516806536, "creation_date": 1516805158, "answer_id": 48425210, "question_id": 48425187, "link": "https://stackoverflow.com/questions/48425187/destructuring-object-how-to-rewrite-in-a-more-succinct-way/48425210#48425210", "title": "Destructuring object - how to rewrite in a more succinct way", "body": "<p>You can <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Destructuring_assignment#Nested_object_and_array_destructuring\" rel=\"nofollow noreferrer\">destructure a nested structure</a>.</p>\n\n<p>destructuring inner property - height:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const state = { dimensions: { width: 200, height: 100 }}\r\n\r\nconst { dimensions: { height } } = state\r\n\r\nconsole.log(height)</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>Destructuring outer and inner property - dimensions and height:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const state = { dimensions: { width: 200, height: 100 }}\r\n\r\nconst { dimensions, dimensions: { height } } = state\r\n\r\nconsole.log(dimensions)\r\nconsole.log(height)</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 4570, "user_id": 6426229, "user_type": "registered", "accept_rate": 80, "profile_image": "https://lh4.googleusercontent.com/-d4LpnU-bOis/AAAAAAAAAAI/AAAAAAAAAFg/7PJbhWKlyRQ/photo.jpg?sz=128", "display_name": "Radex", "link": "https://stackoverflow.com/users/6426229/radex"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 57, "favorite_count": 0, "accepted_answer_id": 48425210, "answer_count": 1, "score": 1, "last_activity_date": 1516806536, "creation_date": 1516805091, "last_edit_date": 1516805987, "question_id": 48425187, "link": "https://stackoverflow.com/questions/48425187/destructuring-object-how-to-rewrite-in-a-more-succinct-way", "title": "Destructuring object - how to rewrite in a more succinct way", "body": "<p>I would like to know if it is possible to simplify this code and write it in one line (I can use even ES6-7)</p>\n\n<pre><code>const { dimensions } = this.state\nconst { height} = dimensions\nconsole.log(height)\n</code></pre>\n"}, {"tags": ["typescript", "generics"], "comments": [{"owner": {"reputation": 12487, "user_id": 408199, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b1c8fd31d87111bd5f4981ee8077f702?s=128&d=identicon&r=PG", "display_name": "jacobm", "link": "https://stackoverflow.com/users/408199/jacobm"}, "edited": false, "score": 2, "creation_date": 1516805333, "post_id": 48425137, "comment_id": 83840194, "body": "As for the question &quot;why do I need to define such a variable,&quot; the answer is that in this case you don&#39;t. It&#39;s just there as an example of another syntax for declaring a function with that type."}], "answers": [{"tags": [], "owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "is_accepted": true, "score": 9, "last_activity_date": 1516805156, "creation_date": 1516805156, "answer_id": 48425208, "question_id": 48425137, "link": "https://stackoverflow.com/questions/48425137/typescript-type-of-generic-function/48425208#48425208", "title": "TypeScript Type of generic function", "body": "<p>The last line declares a variable named <code>myIdentity</code>. The variable is of a function type, a generic function (the <code>&lt;T&gt;</code> makes the it the signature of a generic function, more type arguments could be in the list) which takes an argument of type <code>T</code> and returns a value of type<code>T</code>. And then initializes the variable with the <code>identity</code> function which conforms to the declared signature of myIdentity.</p>\n\n<p>You may want to do this in order to assign different functions to <code>myIdentity</code> based on runtime conditions. Or declare a parameter of this type and pass it to a function that can invoke it later.</p>\n"}, {"comments": [{"owner": {"reputation": 1012, "user_id": 275712, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/e474bf34ede6eb79e14fcfc79adc0375?s=128&d=identicon&r=PG", "display_name": "balanza", "link": "https://stackoverflow.com/users/275712/balanza"}, "edited": false, "score": 0, "creation_date": 1549297039, "post_id": 48430950, "comment_id": 95843102, "body": "so if I want to define a type <code>type Identity&lt;T&gt; = &lt;T&gt;(arg: T) =&gt; T</code> and then define <code>let myIdentity: Identity&lt;T&gt; = (e: T) =&gt; e</code>, is that illegal?"}, {"owner": {"reputation": 11723, "user_id": 3356777, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/1c7bee1f2c7ba7f81ddb902b83626558?s=128&d=identicon&r=PG&f=1", "display_name": "attdona", "link": "https://stackoverflow.com/users/3356777/attdona"}, "reply_to_user": {"reputation": 1012, "user_id": 275712, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/e474bf34ede6eb79e14fcfc79adc0375?s=128&d=identicon&r=PG", "display_name": "balanza", "link": "https://stackoverflow.com/users/275712/balanza"}, "edited": false, "score": 1, "creation_date": 1549301109, "post_id": 48430950, "comment_id": 95845232, "body": "Yes, it is wrong. It is legal to declare a generic type alias like <code>type Identity&lt;T&gt; = (arg: T) =&gt; T</code> and then use it like <code>let myIdentity:  Identity&lt;String&gt; = (arg: String) =&gt; arg</code>. <code>Identity&lt;T&gt;</code> is a generic type alias, you have to define a specific type when declaring a variable of type <code>Identity&lt;T&gt;</code>, in this case <code>String</code>."}], "tags": [], "owner": {"reputation": 11723, "user_id": 3356777, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/1c7bee1f2c7ba7f81ddb902b83626558?s=128&d=identicon&r=PG&f=1", "display_name": "attdona", "link": "https://stackoverflow.com/users/3356777/attdona"}, "is_accepted": false, "score": 8, "last_activity_date": 1516825253, "creation_date": 1516825253, "answer_id": 48430950, "question_id": 48425137, "link": "https://stackoverflow.com/questions/48425137/typescript-type-of-generic-function/48430950#48430950", "title": "TypeScript Type of generic function", "body": "<p>Lets say that from the compiler perspective explicit type declaration is not necessary\nbecause of type inference.</p>\n\n<pre><code>let myIdentity: &lt;T&gt;(arg: T) =&gt; T = identity;\n</code></pre>\n\n<p>is equivalent to</p>\n\n<pre><code>let myIdentity = identity\n</code></pre>\n\n<p>Nevertheless, from the human side, it can be used for improving code readability.</p>\n"}], "owner": {"reputation": 570, "user_id": 6243865, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/3684665c4e90660503192a9c362f3fe8?s=128&d=identicon&r=PG&f=1", "display_name": "Kev O.", "link": "https://stackoverflow.com/users/6243865/kev-o"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 14270, "favorite_count": 2, "accepted_answer_id": 48425208, "answer_count": 2, "score": 11, "last_activity_date": 1516825253, "creation_date": 1516804953, "question_id": 48425137, "link": "https://stackoverflow.com/questions/48425137/typescript-type-of-generic-function", "title": "TypeScript Type of generic function", "body": "<p>I can't get my head arround the following paragraph in the TypeScript documentation:</p>\n\n<p>\"The type of generic functions is just like those of non-generic functions, with the type parameters listed first, similarly to function declarations:\"</p>\n\n<pre><code>function identity&lt;T&gt;(arg: T): T {\n    return arg;\n}\n\nlet myIdentity: &lt;T&gt;(arg: T) =&gt; T = identity;\n</code></pre>\n\n<p>What does the last line do and why is it used?</p>\n\n<p>As far as I understood, myIdentity is a variable which gets the type of the identity function? And if this is the case why do I need to define such a variable? The function identity already declares what return type I can expect.</p>\n"}, {"tags": ["angular", "typescript", "decorator"], "comments": [{"owner": {"reputation": 147776, "user_id": 3731501, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/e4783dfa8ec98c884e61d29f2192ac97?s=128&d=identicon&r=PG&f=1", "display_name": "Estus Flask", "link": "https://stackoverflow.com/users/3731501/estus-flask"}, "edited": false, "score": 2, "creation_date": 1516804485, "post_id": 48424743, "comment_id": 83839537, "body": "<i>Why?</i> - who knows? It should work as expected. <a href=\"http://plnkr.co/edit/sFGuTPSjJSarEGXMX3MI?p=preview\" rel=\"nofollow noreferrer\">plnkr.co/edit/sFGuTPSjJSarEGXMX3MI?p=preview</a> . The question doesn&#39;t contain <a href=\"http://stackoverflow.com/help/mcve\">stackoverflow.com/help/mcve</a> which means that you did something wrong but didn&#39;t specify that in the question."}, {"owner": {"reputation": 4467, "user_id": 3246930, "user_type": "registered", "accept_rate": 48, "profile_image": "https://i.stack.imgur.com/n22FI.jpg?s=128&g=1", "display_name": "elzoy", "link": "https://stackoverflow.com/users/3246930/elzoy"}, "reply_to_user": {"reputation": 147776, "user_id": 3731501, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/e4783dfa8ec98c884e61d29f2192ac97?s=128&d=identicon&r=PG&f=1", "display_name": "Estus Flask", "link": "https://stackoverflow.com/users/3731501/estus-flask"}, "edited": false, "score": 0, "creation_date": 1516805998, "post_id": 48424743, "comment_id": 83840689, "body": "Thank you, your approval made me a bit more sure about source of the problem. Unfortunately I couldn&#39;t paste here the whole code. The problem was that the function that sets the ngOnDestroy was inside getter that was in return. Placing in there was too deep and made it too late to set the ngOnDestroy. The solution is to either place setting ngOnDestroy not deeper than in the first layer of decorator function or (in case we need &#39;this&#39; in the function) set it there on null and then set it again in getter. Doing it in getter makes us available to change the function, not to declare it."}, {"owner": {"reputation": 147776, "user_id": 3731501, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/e4783dfa8ec98c884e61d29f2192ac97?s=128&d=identicon&r=PG&f=1", "display_name": "Estus Flask", "link": "https://stackoverflow.com/users/3731501/estus-flask"}, "edited": false, "score": 0, "creation_date": 1516806547, "post_id": 48424743, "comment_id": 83841132, "body": "I&#39;m not sure what getter thing is supposed to look like. Can you provide an example?"}, {"owner": {"reputation": 4467, "user_id": 3246930, "user_type": "registered", "accept_rate": 48, "profile_image": "https://i.stack.imgur.com/n22FI.jpg?s=128&g=1", "display_name": "elzoy", "link": "https://stackoverflow.com/users/3246930/elzoy"}, "reply_to_user": {"reputation": 147776, "user_id": 3731501, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/e4783dfa8ec98c884e61d29f2192ac97?s=128&d=identicon&r=PG&f=1", "display_name": "Estus Flask", "link": "https://stackoverflow.com/users/3731501/estus-flask"}, "edited": false, "score": 0, "creation_date": 1516806795, "post_id": 48424743, "comment_id": 83841322, "body": "I meant when you return a descriptor object with custom get function. I had an object like that and inside the get funttion I was adding the ngOnDestroy."}, {"owner": {"reputation": 1666, "user_id": 2830131, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/19FFr.png?s=128&g=1", "display_name": "Tao", "link": "https://stackoverflow.com/users/2830131/tao"}, "edited": false, "score": 0, "creation_date": 1516806860, "post_id": 48424743, "comment_id": 83841373, "body": "Why don&#39;t you use a class decorator?"}], "owner": {"reputation": 4467, "user_id": 3246930, "user_type": "registered", "accept_rate": 48, "profile_image": "https://i.stack.imgur.com/n22FI.jpg?s=128&g=1", "display_name": "elzoy", "link": "https://stackoverflow.com/users/3246930/elzoy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 165, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1516803788, "creation_date": 1516803788, "question_id": 48424743, "link": "https://stackoverflow.com/questions/48424743/can-i-add-ngondestroy-using-a-decorator", "title": "Can I add ngOnDestroy using a decorator?", "body": "<pre><code>class x() {\n @decorator\n someMethod() {\n }\n}\n</code></pre>\n\n<p>is there a way to add <code>ngOnDestroy</code> to the <code>x</code> class using the decorator? I tried following steps:</p>\n\n<p>1 - Add to the target</p>\n\n<pre><code>function decorator(target, key, descriptor) {\n  target.ngOnDestroy = {...};\n  target.ngOnDestroy = {...};\n}\n</code></pre>\n\n<p>2 - Add using 'this' where 'this' was the context of 'x' class</p>\n\n<pre><code>function decorator(target, key, descriptor) {\n  this.ngOnDestroy = {...};\n  this['ngOnDestroy'] = {...};\n}\n</code></pre>\n\n<p>after each step when I consoled '<code>this</code>' or '<code>target</code>' I saw there the '<code>ngOnDestroy</code>' key but after '<code>x</code>' destruction the <code>ngOnDestroy</code> didn't fire. Why?</p>\n"}, {"tags": ["angular", "typescript", "activexobject"], "comments": [{"owner": {"reputation": 26154, "user_id": 5436257, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/iGuaK.jpg?s=128&g=1", "display_name": "Joe Clay", "link": "https://stackoverflow.com/users/5436257/joe-clay"}, "edited": false, "score": 0, "creation_date": 1516805235, "post_id": 48424563, "comment_id": 83840129, "body": "<i>&#39;it throws error&#39;</i> - this tells us nothing! Please specify what error it is that you&#39;re getting."}, {"owner": {"reputation": 26154, "user_id": 5436257, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/iGuaK.jpg?s=128&g=1", "display_name": "Joe Clay", "link": "https://stackoverflow.com/users/5436257/joe-clay"}, "edited": false, "score": 1, "creation_date": 1516805366, "post_id": 48424563, "comment_id": 83840221, "body": "Also, I&#39;d very, very heavily recommend avoiding ActiveX unless you have no other choice. It&#39;s not supported in any modern browsers, and there&#39;s native JS libraries like PDF.js which will do the same job."}, {"owner": {"reputation": 7020, "user_id": 278470, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/03f7a05eb774d7a83fd3e7a50eeebe02?s=128&d=identicon&r=PG", "display_name": "Hacker", "link": "https://stackoverflow.com/users/278470/hacker"}, "reply_to_user": {"reputation": 26154, "user_id": 5436257, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/iGuaK.jpg?s=128&g=1", "display_name": "Joe Clay", "link": "https://stackoverflow.com/users/5436257/joe-clay"}, "edited": false, "score": 0, "creation_date": 1516805609, "post_id": 48424563, "comment_id": 83840388, "body": "ActiveXObject not found is the error thrown."}, {"owner": {"reputation": 189, "user_id": 6256940, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/4fcdc44ced0b61f212af0458168be856?s=128&d=identicon&r=PG&f=1", "display_name": "D. Pesc.", "link": "https://stackoverflow.com/users/6256940/d-pesc"}, "edited": false, "score": 0, "creation_date": 1540986934, "post_id": 48424563, "comment_id": 93062256, "body": "Any news on this question? I&#39;m facing the same issue"}], "answers": [{"tags": [], "owner": {"reputation": 680, "user_id": 2464815, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/49c891f43027f1269de0c547c69abfdb?s=128&d=identicon&r=PG", "display_name": "Sasha Bond", "link": "https://stackoverflow.com/users/2464815/sasha-bond"}, "is_accepted": false, "score": 0, "last_activity_date": 1530276357, "creation_date": 1530276357, "answer_id": 51102112, "question_id": 48424563, "link": "https://stackoverflow.com/questions/48424563/how-to-use-activexobject-in-angular-4-project/51102112#51102112", "title": "How to use ActiveXObject in Angular 4 project", "body": "<p>example for msxml - ActiveXObject is available only in IE, in Chrome using native methods:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code> import * as ts from \"typescript\";\r\n ...\r\n  private loadMsXml(src: string): any {\r\n    let code: string = `({\r\n      Run: (data: string): any =&gt; {\r\n        let doc = new ActiveXObject(\"Msxml2.DOMDocument.6.0\");\r\n        doc.async = false;\r\n        doc.loadXML(data);\r\n        return doc;\r\n      })`;\r\n    const e = eval;\r\n    let result = ts.transpile(code);\r\n    let runnalbe: any = e(result);\r\n    return runnalbe.Run(src);\r\n  }\r\n\r\n  private transformXml(xmlDoc: any, xsltDoc: any): string {\r\n    if (this.isBrowserIE()) {\r\n      let xmlDocMS = this.loadMsXml(new XMLSerializer().serializeToString(xmlDoc));\r\n      let xslDocMS = this.loadMsXml(new XMLSerializer().serializeToString(xsltDoc));\r\n      let resultXml = xmlDocMS.transformNode(xslDocMS);\r\n      return resultXml;\r\n    }\r\n\r\n    let xsltProcessor = new XSLTProcessor();\r\n    xsltProcessor.importStylesheet(xsltDoc);\r\n    let resultDoc = xsltProcessor.transformToDocument(xmlDoc);\r\n    let resultXml = new XMLSerializer().serializeToString(resultDoc);\r\n    return resultXml;\r\n  }</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 7020, "user_id": 278470, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/03f7a05eb774d7a83fd3e7a50eeebe02?s=128&d=identicon&r=PG", "display_name": "Hacker", "link": "https://stackoverflow.com/users/278470/hacker"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 4123, "favorite_count": 1, "answer_count": 1, "score": 4, "last_activity_date": 1530276357, "creation_date": 1516803279, "question_id": 48424563, "link": "https://stackoverflow.com/questions/48424563/how-to-use-activexobject-in-angular-4-project", "title": "How to use ActiveXObject in Angular 4 project", "body": "<p>I am trying to use ActiveXObject like below</p>\n\n<pre><code>getActiveXObject(pdfCtrl) {\n      return new ActiveXObject(pdfCtrl);\n    }\n\n    checkPDF() {\n        let plugin = null;\n            if (this.getBrowser() === 'ie') {\n                plugin = this.getActiveXObject('AcroPDF.PDF') || this.getActiveXObject('PDF.PdfCtrl');\n        }\n        return plugin;\n    }\n</code></pre>\n\n<p>It gives error like ActiveXObject not found. In plain JS this works, but in Angular/typesript compilation phase it throws error. How do i handle this?</p>\n"}, {"tags": ["typescript", "protractor"], "answers": [{"comments": [{"owner": {"reputation": 327, "user_id": 4619955, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/d13552f773c6e3dea34ab90c133e7ec1?s=128&d=identicon&r=PG&f=1", "display_name": "Joseph", "link": "https://stackoverflow.com/users/4619955/joseph"}, "reply_to_user": {"reputation": 3192, "user_id": 6201042, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/984a64d990b47f74ad38d59ad827a94b?s=128&d=identicon&r=PG&f=1", "display_name": "Gunderson", "link": "https://stackoverflow.com/users/6201042/gunderson"}, "edited": false, "score": 0, "creation_date": 1516868555, "post_id": 48425833, "comment_id": 83867863, "body": "@Gunderson - tried using your code and the exact same result is happening.  Also tried yong suggestion and changed to jasmine2 in my conf.js file and also the same result."}, {"owner": {"reputation": 327, "user_id": 4619955, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/d13552f773c6e3dea34ab90c133e7ec1?s=128&d=identicon&r=PG&f=1", "display_name": "Joseph", "link": "https://stackoverflow.com/users/4619955/joseph"}, "edited": false, "score": 0, "creation_date": 1516868587, "post_id": 48425833, "comment_id": 83867881, "body": "@yong - tried your suggestion also and the behaviour hasn&#39;t changed."}], "tags": [], "owner": {"reputation": 681, "user_id": 9119638, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d96ce237572ae1bd6d21f5e7d0824edf?s=128&d=identicon&r=PG&f=1", "display_name": "Ben Mohorc", "link": "https://stackoverflow.com/users/9119638/ben-mohorc"}, "is_accepted": false, "score": 0, "last_activity_date": 1516815180, "last_edit_date": 1516815180, "creation_date": 1516806980, "answer_id": 48425833, "question_id": 48424562, "link": "https://stackoverflow.com/questions/48424562/protractor-jasmine-typeerror-expect-is-not-a-function/48425833#48425833", "title": "Protractor - Jasmine - TypeError: expect is not a function", "body": "<p>The way in which you are getting your variable for the expect is very different. I am not sure if it is the issue, but I have never seen it done that way. Try this:</p>\n\n<pre><code>var expectedString = \"Step 1 of 10\";\nvar elem = element(by.xpath('/html[1]/body[1]/section[1]/app-root[1]/app-pay-only[1]/div[1]/div[1]/h2[1]'));\nexpect(elem.getText()).toContain(expectedString);\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 11632, "user_id": 8582353, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aa2e22a564c1d0e098316210a2ec4fb1?s=128&d=identicon&r=PG&f=1", "display_name": "yong", "link": "https://stackoverflow.com/users/8582353/yong"}, "is_accepted": false, "score": 0, "last_activity_date": 1516874584, "last_edit_date": 1516874584, "creation_date": 1516860516, "answer_id": 48436636, "question_id": 48424562, "link": "https://stackoverflow.com/questions/48424562/protractor-jasmine-typeerror-expect-is-not-a-function/48436636#48436636", "title": "Protractor - Jasmine - TypeError: expect is not a function", "body": "<p>Firstly, do a quick try as below: <br>\n1. comment all lines after <code>console.log('After wait');</code>  <br>\n2. add a new line <code>expect('Test abc').toContain('abc')</code> at the end ,</p>\n\n<p>If you still get same error, <br>\n  check your whole script to find you assign other value to <code>expect</code> or not. \n(like expect=xxx or global.expect=xxxx)</p>\n\n<p>If you not get same error, maybe your protractor version greater than 3.0 (I don't remember the exact version), you have to use jasmine2,  jasmine1 is not supported in high protractor. </p>\n\n<p>Easy to verify it by change framework in conf file to <code>jasmine2</code></p>\n\n<pre><code>exports.config = {\n    framework: 'jasmine2',\n</code></pre>\n\n<p>Pleae give your package.json, so that we can know what dependecy you used and their version.</p>\n"}], "owner": {"reputation": 327, "user_id": 4619955, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/d13552f773c6e3dea34ab90c133e7ec1?s=128&d=identicon&r=PG&f=1", "display_name": "Joseph", "link": "https://stackoverflow.com/users/4619955/joseph"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1072, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1516874584, "creation_date": 1516803278, "question_id": 48424562, "link": "https://stackoverflow.com/questions/48424562/protractor-jasmine-typeerror-expect-is-not-a-function", "title": "Protractor - Jasmine - TypeError: expect is not a function", "body": "<p>I have defined the use of Jasmine in my conf.js file </p>\n\n<pre><code>exports.config = {\n    framework: 'jasmine',\n\n    // Capabilities to be passed to the webdriver instance.\n    capabilities: {\n        'browserName': 'chrome',\n    },\n</code></pre>\n\n<p>And I am using the following code to click a button on a page and check for text.</p>\n\n<pre><code>    element(by.css('.btn.btn-success.btn-lg')).click();\n\n    console.log('Wait 2 seconds');\n    browser.sleep(2000);\n    console.log('After wait');\n    // question 1\n    var expectedString = \"Step 1 of 10\";\n\n    var actualString =  element(by.xpath('/html[1]/body[1]/section[1]/app-root[1]/app-pay-only[1]/div[1]/div[1]/h2[1]')).getText().then(function(actualString) {\n        return actualString;\n    });\n    console.log('here\\'s the expect');\n    expect(actualString).toContain(expectedString);\n</code></pre>\n\n<p>However, I get a failure saying \"expect is not a function\" and when I am looking at the test run, I can see that the button isn't being pressed (so the page doesn't navigate.)  If I comment out the expect, then the page will navigate as normal.  I cannot see any reason why the click event would fail (I have even put in sleeps to see what is going on) </p>\n\n<p>The stacktrace will be below - can anyone see anything to shed some light on this?</p>\n\n<pre><code> Message:\n   Failed: expect is not a function\n Stack:\n   TypeError: expect is not a function\n       at UserContext.&lt;anonymous&gt; (C:\\Users\\Joseph.Adams\\Desktop\\protractor\\LA1-311\\end_to_end.js:78:9)\n       at C:\\Users\\Joseph.Adams\\AppData\\Roaming\\npm\\node_modules\\protractor\\node_modules\\jasminewd2\\index.js:112:25\n       at new ManagedPromise (C:\\Users\\Joseph.Adams\\AppData\\Roaming\\npm\\node_modules\\protractor\\node_modules\\selenium-webdriver\\lib\\promise.js:1077:7)\n       at ControlFlow.promise (C:\\Users\\Joseph.Adams\\AppData\\Roaming\\npm\\node_modules\\protractor\\node_modules\\selenium-webdriver\\lib\\promise.js:2505:12)\n       at schedulerExecute (C:\\Users\\Joseph.Adams\\AppData\\Roaming\\npm\\node_modules\\protractor\\node_modules\\jasminewd2\\index.js:95:18)\n       at TaskQueue.execute_ (C:\\Users\\Joseph.Adams\\AppData\\Roaming\\npm\\node_modules\\protractor\\node_modules\\selenium-webdriver\\lib\\promise.js:3084:14)\n       at TaskQueue.executeNext_ (C:\\Users\\Joseph.Adams\\AppData\\Roaming\\npm\\node_modules\\protractor\\node_modules\\selenium-webdriver\\lib\\promise.js:3067:27)\n       at asyncRun (C:\\Users\\Joseph.Adams\\AppData\\Roaming\\npm\\node_modules\\protractor\\node_modules\\selenium-webdriver\\lib\\promise.js:2974:25)\n       at C:\\Users\\Joseph.Adams\\AppData\\Roaming\\npm\\node_modules\\protractor\\node_modules\\selenium-webdriver\\lib\\promise.js:668:7\n       at &lt;anonymous&gt;\n   From: Task: Run it(\"Must allow working end to end\") in control flow\n       at UserContext.&lt;anonymous&gt; (C:\\Users\\Joseph.Adams\\AppData\\Roaming\\npm\\node_modules\\protractor\\node_modules\\jasminewd2\\index.js:94:19)\n       at C:\\Users\\Joseph.Adams\\AppData\\Roaming\\npm\\node_modules\\protractor\\node_modules\\jasminewd2\\index.js:64:48\n       at ControlFlow.emit (C:\\Users\\Joseph.Adams\\AppData\\Roaming\\npm\\node_modules\\protractor\\node_modules\\selenium-webdriver\\lib\\events.js:62:21)\n       at ControlFlow.shutdown_ (C:\\Users\\Joseph.Adams\\AppData\\Roaming\\npm\\node_modules\\protractor\\node_modules\\selenium-webdriver\\lib\\promise.js:2674:10)\n       at shutdownTask_.MicroTask (C:\\Users\\Joseph.Adams\\AppData\\Roaming\\npm\\node_modules\\protractor\\node_modules\\selenium-webdriver\\lib\\promise.js:2599:53)\n   From asynchronous test:\n   Error\n       at Suite.&lt;anonymous&gt; (C:\\Users\\Joseph.Adams\\Desktop\\protractor\\LA1-311\\end_to_end.js:63:5)\n       at Object.&lt;anonymous&gt; (C:\\Users\\Joseph.Adams\\Desktop\\protractor\\LA1-311\\end_to_end.js:14:1)\n       at Module._compile (module.js:635:30)\n       at Object.Module._extensions..js (module.js:646:10)\n       at Module.load (module.js:554:32)\n       at tryModuleLoad (module.js:497:12)\n</code></pre>\n"}, {"tags": ["angular", "typescript", "angular5", "angular-compiler", "ng-packagr"], "comments": [{"owner": {"reputation": 57430, "user_id": 3106920, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pO5sC.jpg?s=128&g=1", "display_name": "Poul Kruijt", "link": "https://stackoverflow.com/users/3106920/poul-kruijt"}, "edited": false, "score": 0, "creation_date": 1516802126, "post_id": 48424019, "comment_id": 83837806, "body": "try installing the latest <code>ng-packagr@next</code>. This is the beta version, and as far as I know should fix this. And perhaps remove the <code>main</code> entry from your <code>package.json</code>. Packagr takes care of this"}, {"owner": {"reputation": 1, "user_id": 9262255, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-VUM60a-1Jrw/AAAAAAAAAAI/AAAAAAAAAaE/5jT_wHSv5Zk/photo.jpg?sz=128", "display_name": "Guillermo Vigil Rodr&#237;guez", "link": "https://stackoverflow.com/users/9262255/guillermo-vigil-rodr%c3%adguez"}, "reply_to_user": {"reputation": 57430, "user_id": 3106920, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pO5sC.jpg?s=128&g=1", "display_name": "Poul Kruijt", "link": "https://stackoverflow.com/users/3106920/poul-kruijt"}, "edited": false, "score": 0, "creation_date": 1516808957, "post_id": 48424019, "comment_id": 83843007, "body": "Thank you for your reply. I already made both changes but now I&#39;m facing errors doing the packaging with the decorators from ts-doc.   The &#39;@type&#39;, &#39;@param&#39;, &#39;@member&#39;, etc. are failing in all my files. Any suggestions for this?"}, {"owner": {"reputation": 1, "user_id": 9262255, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-VUM60a-1Jrw/AAAAAAAAAAI/AAAAAAAAAaE/5jT_wHSv5Zk/photo.jpg?sz=128", "display_name": "Guillermo Vigil Rodr&#237;guez", "link": "https://stackoverflow.com/users/9262255/guillermo-vigil-rodr%c3%adguez"}, "reply_to_user": {"reputation": 57430, "user_id": 3106920, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pO5sC.jpg?s=128&g=1", "display_name": "Poul Kruijt", "link": "https://stackoverflow.com/users/3106920/poul-kruijt"}, "edited": false, "score": 0, "creation_date": 1516810391, "post_id": 48424019, "comment_id": 83844058, "body": "I found this issue on ng-packagr:   <a href=\"https://github.com/dherges/ng-packagr/issues/413\" rel=\"nofollow noreferrer\">github.com/dherges/ng-packagr/issues/413</a>  The tags we are using for ts-doc are not allowed for ng-packagr."}], "owner": {"reputation": 1, "user_id": 9262255, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-VUM60a-1Jrw/AAAAAAAAAAI/AAAAAAAAAaE/5jT_wHSv5Zk/photo.jpg?sz=128", "display_name": "Guillermo Vigil Rodr&#237;guez", "link": "https://stackoverflow.com/users/9262255/guillermo-vigil-rodr%c3%adguez"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 2204, "favorite_count": 1, "answer_count": 0, "score": 0, "last_activity_date": 1516801571, "creation_date": 1516801571, "question_id": 48424019, "link": "https://stackoverflow.com/questions/48424019/after-packaging-my-angular-5-library-using-ng-packagr-the-library-doesnt-work", "title": "After packaging my Angular 5 library using ng-packagr, the library doesn&#39;t work once is used on an Angular application", "body": "<p>Currently I'm working with the following versions:</p>\n\n<pre><code>typescript   --&gt; 2.6.2 \nangular      --&gt; 5.2.1\n@angular/cli --&gt; 1.6.5\n</code></pre>\n\n<p>After packaging my own library with some components using <strong>ng-packagr</strong> (<code>\"ng-packagr\": \"^1.6.0\"</code>), I added the files created on my application inside node_modules folder but when I tried to run the application with <code>ng serve</code> or <code>ng serve --aot=false</code>, I get this error:</p>\n\n<p>ERROR in TypeError: Cannot read property 'members' of undefined: \n<a href=\"https://i.stack.imgur.com/mazUq.png\" rel=\"nofollow noreferrer\">Image with the error</a></p>\n\n<p>The versions on the library created and the application which use that library are the same, and it seems something related with the typescript version. </p>\n\n<p>I also tried to package the library with other typescript versions like 2.4.2 (this version is the most stable for angular 5) and running the application with that version also but it doesn't work.</p>\n\n<p>This is the package.json from the library I want to package: </p>\n\n<pre><code>{\n  \"name\": \"oc-infra\",\n  \"version\": \"0.0.0\",\n  \"license\": \"DXC\",\n  \"main\": \"ocinfra/index.ts\",\n  \"typings\": \"ocinfra/index.ts\",\n  \"scripts\": {\n    \"ng\": \"ng\",\n    \"start\": \"npm run prebuild &amp;&amp; ng serve\",\n    \"build\": \"npm run prebuild &amp;&amp; ng build\",\n    \"test\": \"ng test\",\n    \"lint\": \"ng lint\",\n    \"e2e\": \"ng e2e\",\n    \"doc:build\": \"./node_modules/.bin/compodoc -p tsconfig.json\",\n    \"doc:serve\": \"compodoc -s -r 4040\",\n    \"prebuild\": \"node utilities/metamodel-validator validateMetamodels\",\n    \"translate\": \"node utilities/metamodel-translator server\",\n    \"packagr\": \"ng-packagr -p ng-package.json\"\n  },\n  \"repository\": {\n    \"type\": \"git\",\n    \"url\": \"https://github.dxc.com/insurance/ui-framework.git\"\n  },\n  \"dependencies\": {\n    \"@angular-devkit/core\": \"0.0.28\",\n    \"@angular/animations\": \"^5.1.0\",\n    \"@angular/cdk\": \"^5.0.4\",\n    \"@angular/common\": \"^5.1.0\",\n    \"@angular/compiler\": \"^5.1.0\",\n    \"@angular/core\": \"^5.1.0\",\n    \"@angular/forms\": \"^5.1.0\",\n    \"@angular/http\": \"^5.1.0\",\n    \"@angular/material\": \"^5.0.4\",\n    \"@angular/platform-browser\": \"^5.1.0\",\n    \"@angular/platform-browser-dynamic\": \"^5.1.0\",\n    \"@angular/router\": \"^5.1.0\",\n    \"@ngui/auto-complete\": \"^0.16.1\",\n    \"@ngx-translate/core\": \"^9.1.1\",\n    \"@ngx-translate/http-loader\": \"^2.0.1\",\n    \"@swimlane/ngx-charts\": \"^7.0.1\",\n    \"@types/lodash\": \"^4.14.61\",\n    \"@types/node\": \"^9.3.0\",\n    \"ajv\": \"^6.0.1\",\n    \"angular-font-awesome\": \"^3.1.2\",\n    \"angular2-bootstrap-switch\": \"^0.2.3\",\n    \"bootstrap\": \"4.0.0\",\n    \"core-js\": \"^2.4.1\",\n    \"d3\": \"^4.10.0\",\n    \"font-awesome\": \"^4.7.0\",\n    \"jquery\": \"^3.2.1\",\n    \"jsonpath\": \"^1.0.0\",\n    \"lodash\": \"^4.17.4\",\n    \"mydatepicker\": \"^2.0.20\",\n    \"ng2-archwizard\": \"2.1.0\",\n    \"ng2-completer\": \"^1.5.2\",\n    \"ng2-file-upload\": \"^1.2.1\",\n    \"ng2-nouislider\": \"1.7.7\",\n    \"ngx-bootstrap\": \"^2.0.0-beta.11\",\n    \"ngx-modal\": \"0.0.29\",\n    \"ngx-pagination\": \"^3.0.1\",\n    \"nouislider\": \"^11.0.0\",\n    \"npm-font-open-sans\": \"^1.1.0\",\n    \"popper.js\": \"^1.12.9\",\n    \"rxjs\": \"5.5.6\",\n    \"ts-md5\": \"^1.2.0\",\n    \"typescript-collections\": \"^1.2.3\",\n    \"typings\": \"^2.1.1\",\n    \"zone.js\": \"^0.8.4\"\n  },\n  \"devDependencies\": {\n    \"@angular/cli\": \"^1.6.5\",\n    \"@angular/compiler-cli\": \"^5.1.0\",\n    \"@compodoc/compodoc\": \"^1.0.0-beta.10\",\n    \"@types/jasmine\": \"2.8.5\",\n    \"codelyzer\": \"~4.1.0\",\n    \"jasmine-core\": \"~2.9.1\",\n    \"jasmine-spec-reporter\": \"~4.2.1\",\n    \"karma\": \"~2.0.0\",\n    \"karma-chrome-launcher\": \"~2.2.0\",\n    \"karma-cli\": \"~1.0.1\",\n    \"karma-coverage\": \"^1.1.1\",\n    \"karma-coverage-istanbul-reporter\": \"^1.1.0\",\n    \"karma-jasmine\": \"~1.1.0\",\n    \"karma-jasmine-html-reporter\": \"^0.2.2\",\n    \"karma-sourcemap-loader\": \"^0.3.7\",\n    \"ng-packagr\": \"^1.6.0\",\n    \"protractor\": \"~5.2.2\",\n    \"remap-istanbul\": \"^0.10.0\",\n    \"ts-node\": \"~4.1.0\",\n    \"tslint\": \"~5.9.1\",\n    \"typescript\": \"^2.6.2\",\n    \"typescript-collections\": \"^1.2.3\",\n    \"typings\": \"^2.1.1\",\n    \"webpack\": \"^3.10.0\"\n  }\n}\n</code></pre>\n\n<p>And this is the package.json from the application which use the library:</p>\n\n<pre><code>{\n  \"name\": \"omnichannel_starter\",\n  \"license\": \"MIT\",\n  \"scripts\": {\n    \"ng\": \"ng\",\n    \"start\": \"ng serve --open\",\n    \"build\": \"ng build --prod\",\n    \"test\": \"ng test\",\n    \"lint\": \"ng lint\",\n    \"e2e\": \"ng e2e\"\n  },\n  \"private\": true,\n  \"dependencies\": {\n    \"@angular/animations\": \"^5.2.1\",\n    \"@angular/common\": \"^5.2.1\",\n    \"@angular/compiler\": \"^5.2.1\",\n    \"@angular/core\": \"^5.2.1\",\n    \"@angular/forms\": \"^5.2.1\",\n    \"@angular/http\": \"^5.2.1\",\n    \"@angular/platform-browser\": \"^5.2.1\",\n    \"@angular/platform-browser-dynamic\": \"^5.2.1\",\n    \"@angular/router\": \"^5.2.1\",\n    \"@ngx-translate/core\": \"^9.1.1\",\n    \"bootstrap\": \"4.0.0\",\n    \"core-js\": \"^2.4.1\",\n    \"font-awesome\": \"^4.7.0\",\n    \"jquery\": \"^3.2.1\",\n    **\"my-library\": \"my github url\",**\n    \"popper.js\": \"^1.13.0\",\n    \"rxjs\": \"^5.5.2\",\n    \"zone.js\": \"^0.8.14\"\n  },\n  \"devDependencies\": {\n    \"@angular/cli\": \"1.6.5\",\n    \"@angular/compiler-cli\": \"^5.2.1\",\n    \"@angular/language-service\": \"^5.2.1\",\n    \"@types/jasmine\": \"~2.8.5\",\n    \"@types/jasminewd2\": \"~2.0.2\",\n    \"@types/node\": \"~9.3.0\",\n    \"codelyzer\": \"^4.0.1\",\n    \"jasmine-core\": \"~2.9.1\",\n    \"jasmine-spec-reporter\": \"~4.2.1\",\n    \"karma\": \"~2.0.0\",\n    \"karma-chrome-launcher\": \"~2.2.0\",\n    \"karma-cli\": \"~1.0.1\",\n    \"karma-coverage-istanbul-reporter\": \"^1.2.1\",\n    \"karma-jasmine\": \"~1.1.0\",\n    \"karma-jasmine-html-reporter\": \"^0.2.2\",\n    \"protractor\": \"~5.2.2\",\n    \"ts-node\": \"~4.1.0\",\n    \"tslint\": \"~5.9.1\",\n    \"typescript\": \"^2.6.2\"\n  }\n}\n</code></pre>\n\n<p>Thanks in advance.</p>\n"}, {"tags": ["html", "json", "angular", "typescript", "angular-material"], "comments": [{"owner": {"reputation": 8360, "user_id": 2103767, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/1d0b20ba537ec3d705cf87f48cd190d7?s=128&d=identicon&r=PG&f=1", "display_name": "bhantol", "link": "https://stackoverflow.com/users/2103767/bhantol"}, "edited": false, "score": 1, "creation_date": 1516832794, "post_id": 48424018, "comment_id": 83856650, "body": "Put a breakpoint at <code>this.receivedBatchesData = data;</code> and what you are receiving"}], "answers": [{"tags": [], "owner": {"reputation": 1865, "user_id": 7745173, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/tx8YG.png?s=128&g=1", "display_name": "Logan Wlv", "link": "https://stackoverflow.com/users/7745173/logan-wlv"}, "is_accepted": false, "score": 0, "last_activity_date": 1516950995, "creation_date": 1516950995, "answer_id": 48457096, "question_id": 48424018, "link": "https://stackoverflow.com/questions/48424018/print-json-data-using-mattablemodule/48457096#48457096", "title": "Print json data using MatTableModule", "body": "<p>Ok my mistake was on dataSource object, here the correction to make it works : </p>\n\n<pre><code>     dataSource = new MatTableDataSource();\n     makeRequest(): void {\n            this.http.get&lt;IBatchInstance[]&gt;(testJsonBatchesDr3).subscribe(data =&gt; {\n                this.dataSource.data = data;\n                console.log(this.dataSource.data);\n            },\n            err =&gt; {\n                console.log('An error occured during the http GET request');\n            });\n        }\n</code></pre>\n"}], "owner": {"reputation": 1865, "user_id": 7745173, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/tx8YG.png?s=128&g=1", "display_name": "Logan Wlv", "link": "https://stackoverflow.com/users/7745173/logan-wlv"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 139, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1516950995, "creation_date": 1516801570, "question_id": 48424018, "link": "https://stackoverflow.com/questions/48424018/print-json-data-using-mattablemodule", "title": "Print json data using MatTableModule", "body": "<p>so I have a springboot server exposing json data to my angular app, the data structure is <code>IBatchInstance</code> linked below. </p>\n\n<p>The json GET request goes well but the DATA does not print, I think I did an error when trying to access to the <code>batchDef</code> properties inside my <code>batchInstance</code> object, but as a angular beginner I don't know how to correct it.\nAny ideas?</p>\n\n<p>PrintJsonComponent.ts</p>\n\n<pre><code>export class PrintJsonComponent implements OnInit {\n\n    displayedColumns = ['id', 'name', 'label', 'perimeter', 'batchState',\n                        'creationDate', 'lastModifiedDate'];        \n    receivedBatchesData: IBatchInstance[];\n    dataSource = new MatTableDataSource(this.receivedBatchesData);\n\n\nconstructor(private http: HttpClient) {\n}\n\nngOnInit() {\n    this.makeRequest();\n}\n\nmakeRequest(): void {\n    this.http.get&lt;IBatchInstance[]&gt;(myDataURL).subscribe(data =&gt; {\n        this.receivedBatchesData = data;\n    },\n    err =&gt; {\n        console.log('An error occured during the http GET request');\n    });\n}\n</code></pre>\n\n<p>dataJson.ts : </p>\n\n<pre><code> export interface IBatchInstance {\n    id: number;\n    batchDef: IBatchDef;\n    batchState: string;\n    inputData: any[];\n    outputData: any[];\n    creationDate: string;\n    lastModifiedDate: string;\n    username: string;\n  }\n\n  export interface IBatchDef {\n    name: string;\n    label: string;\n    launchCommand: string;\n    perimeter: string;\n    inputDataDefs: any[];\n    outputDataDefs: any[];\n  }\n</code></pre>\n\n<p>PrintJsonComponent.html :\n</p>\n\n<pre><code>&lt;!-- ID Column --&gt;\n&lt;ng-container matColumnDef=\"id\"&gt;\n  &lt;mat-header-cell *matHeaderCellDef&gt; ID &lt;/mat-header-cell&gt;\n  &lt;mat-cell *matCellDef=\"let batchInstance\"&gt; {{batchInstance.id}} &lt;/mat-cell&gt;\n&lt;/ng-container&gt;\n\n&lt;!-- Name Column --&gt;\n&lt;ng-container matColumnDef=\"name\"&gt;\n  &lt;mat-header-cell *matHeaderCellDef&gt; Name &lt;/mat-header-cell&gt;\n  &lt;mat-cell *matCellDef=\"let batchInstance\"&gt; {{batchInstance.batchDef.name}} &lt;/mat-cell&gt;\n&lt;/ng-container&gt;\n\n&lt;!-- Label Column --&gt;\n&lt;ng-container matColumnDef=\"label\"&gt;\n  &lt;mat-header-cell *matHeaderCellDef&gt; Label &lt;/mat-header-cell&gt;\n  &lt;mat-cell *matCellDef=\"let batchInstance\"&gt; {{batchInstance.batchDef.label}} &lt;/mat-cell&gt;\n&lt;/ng-container&gt;\n\n&lt;!-- Perimeter Column --&gt;\n&lt;ng-container matColumnDef=\"perimeter\"&gt;\n  &lt;mat-header-cell *matHeaderCellDef&gt; Perimeter &lt;/mat-header-cell&gt;\n  &lt;mat-cell *matCellDef=\"let batchInstance\"&gt; {{batchInstance.batchDef.perimeter}} &lt;/mat-cell&gt;\n&lt;/ng-container&gt;\n\n&lt;!-- batchState Column --&gt;\n&lt;ng-container matColumnDef=\"batchState\"&gt;\n  &lt;mat-header-cell *matHeaderCellDef&gt; Batch state &lt;/mat-header-cell&gt;\n  &lt;mat-cell *matCellDef=\"let batchInstance\"&gt; {{batchInstance.batchState}} &lt;/mat-cell&gt;\n&lt;/ng-container&gt;\n\n&lt;!-- creationDate Column --&gt;\n&lt;ng-container matColumnDef=\"creationDate\"&gt;\n  &lt;mat-header-cell *matHeaderCellDef&gt; Creation date &lt;/mat-header-cell&gt;\n  &lt;mat-cell *matCellDef=\"let batchInstance\"&gt; {{batchInstance.creationDate}} &lt;/mat-cell&gt;\n&lt;/ng-container&gt;\n\n&lt;!-- lastModifiedDate Column --&gt;\n&lt;ng-container matColumnDef=\"lastModifiedDate\"&gt;\n  &lt;mat-header-cell *matHeaderCellDef&gt; Last modification &lt;/mat-header-cell&gt;\n  &lt;mat-cell *matCellDef=\"let batchInstance\"&gt; {{batchInstance.lastModifiedDate}} &lt;/mat-cell&gt;\n&lt;/ng-container&gt;\n\n&lt;mat-header-row *matHeaderRowDef=\"displayedColumns\"&gt;&lt;/mat-header-row&gt;\n&lt;mat-row *matRowDef=\"let row; columns: displayedColumns;\"&gt;&lt;/mat-row&gt;\n</code></pre>\n\n<p></p>\n"}, {"tags": ["angular", "typescript", "angular5"], "comments": [{"owner": {"reputation": 1661, "user_id": 4166407, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/90b95969c3bb59e8e2974af4bfa0b329?s=128&d=identicon&r=PG", "display_name": "Sophie", "link": "https://stackoverflow.com/users/4166407/sophie"}, "edited": false, "score": 0, "creation_date": 1516802378, "post_id": 48423991, "comment_id": 83837982, "body": "You&#39;ve got the wrong tag - <code>angularjs</code> is for Angular version 1.x!"}], "answers": [{"tags": [], "owner": {"reputation": 152, "user_id": 4533245, "user_type": "registered", "profile_image": "https://graph.facebook.com/630758987069720/picture?type=large", "display_name": "Monkey D. Luffy", "link": "https://stackoverflow.com/users/4533245/monkey-d-luffy"}, "is_accepted": false, "score": 0, "last_activity_date": 1555068106, "creation_date": 1555068106, "answer_id": 55650522, "question_id": 48423991, "link": "https://stackoverflow.com/questions/48423991/how-to-dynamically-add-and-remove-table-row-and-column-in-angular-5/55650522#55650522", "title": "how to dynamically add and remove table row and column in angular 5?", "body": "<p>I think this will work for your row removing problem</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code> //inside your ts\r\n \r\n private fieldArray: Array&lt;any&gt; = [];\r\n    private newAttribute: any = {};\r\n\r\n    ngOnInit(){\r\n\r\n    }\r\n\r\n    addFieldValue() {\r\n        this.fieldArray.push(this.newAttribute)\r\n        this.newAttribute = {};\r\n\r\n        console.log(this.fieldArray);\r\n    }\r\n\r\n    deleteFieldValue(index) {\r\n        this.fieldArray.splice(index, 1);\r\n    }</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>  &lt;tbody&gt;\r\n        &lt;tr *ngFor=\"let field of fieldArray}; let i = index\"&gt;\r\n            &lt;td&gt;{{field.code}}&lt;/td&gt;\r\n            &lt;td&gt;{{field.name}}&lt;/td&gt;\r\n            &lt;td&gt;{{field.price}}&lt;/td&gt;\r\n            &lt;td&gt;\r\n                &lt;button class=\"btn btn-default\"  type=\"button\" (click)=\"deleteFieldValue(i)\"&gt;Delete&lt;/button&gt;\r\n            &lt;/td&gt;\r\n        &lt;/tr&gt;\r\n        &lt;tr&gt;\r\n            &lt;td&gt;\r\n                &lt;input class=\"form-control\" type=\"text\" id=\"newAttributeCode\" [(ngModel)]=\"newAttribute.code\" name=\"newAttributeCode\" /&gt;\r\n            &lt;/td&gt;\r\n            &lt;td&gt;\r\n                &lt;input class=\"form-control\" type=\"text\" id=\"newAttributeName\" [(ngModel)]=\"newAttribute.name\" name=\"newAttributeName\" /&gt;\r\n            &lt;/td&gt;\r\n            &lt;td&gt;\r\n                &lt;input class=\"form-control\" type=\"number\" id=\"newAttributePrice\" [(ngModel)]=\"newAttribute.price\" name=\"newAttributePrice\" /&gt;\r\n            &lt;/td&gt;\r\n            &lt;td&gt;\r\n                &lt;button class=\"btn btn-default\" type=\"button\" (click)=\"addFieldValue()\"&gt;Add&lt;/button&gt;\r\n            &lt;/td&gt;\r\n        &lt;/tr&gt;\r\n    &lt;/tbody&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 1301, "user_id": 7505840, "user_type": "registered", "accept_rate": 69, "profile_image": "https://lh6.googleusercontent.com/-_XgTqlhbcEg/AAAAAAAAAAI/AAAAAAAAADU/mVS0oa-th8I/photo.jpg?sz=128", "display_name": "Soumya Behera", "link": "https://stackoverflow.com/users/7505840/soumya-behera"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 5659, "favorite_count": 1, "answer_count": 1, "score": 3, "last_activity_date": 1555068106, "creation_date": 1516801514, "last_edit_date": 1516802817, "question_id": 48423991, "link": "https://stackoverflow.com/questions/48423991/how-to-dynamically-add-and-remove-table-row-and-column-in-angular-5", "title": "how to dynamically add and remove table row and column in angular 5?", "body": "<pre><code>Below my component and html files. In below html code I have check boxes and table. \n</code></pre>\n\n<p>Initial page loading dynamically i am showing two check boxes selected and both check box column name property i am adding to table column. If i check the unselected check box its being selected and dynamically the column name property of that check box is adding to table column. if i uncheck any checkbox i am able to remove that column name from table.\nMy requirement: \nI have tabledata: any = []. When i select any check box same column name table data will add to table and if i unselect the check box same column name table data will remove dynamically.</p>\n\n<pre><code> component.ts\n    import { Component, OnInit, Input, ViewChild } from '@angular/core';\n    import { MatTableDataSource, MatSort } from '@angular/material';\n    import { Sort } from '@angular/material';\n\n    @Component({\n      selector: 'export-results',\n      templateUrl: './export-results.component.html',\n      styleUrls: ['./export-results.component.scss']\n    })\n    export class ExportResultsComponent implements OnInit {\n      @Input() getExportResults: any;\n      inputCheckBox: any = [];\n      callCheckBox: any = [];\n      tableHeader: any = [];\n      tabledata: any = [];\n\n      constructor() {\n        this.inputCheckBox = [\n          {\n            key: 1,\n            value: 'name',\n            defaultChecked: true,\n            columnName: 'input.name',\n          },\n          {\n            key: 2,\n            value: 'path',\n            defaultChecked: false,\n            columnName: 'input.path',\n          }\n        ]\n\n        this.callCheckBox = [\n          {\n            key: 3,\n            value: 'name',\n            defaultChecked: true,\n            columnName: 'call.name',\n          },\n          {\n            key: 4,\n            value: 'rank',\n            defaultChecked: true,\n            columnName: 'call.rank',\n          },\n        ]\n\n      }\n      ngOnInit() {\n        this.tableHeader = [\n          {\n            key: 1,\n            value: 'inputname',\n            defaultChecked: true,\n            columnName: 'input.name',\n          },\n          {\n            key: 2,\n            value: 'path',\n            defaultChecked: false,\n            columnName: 'input.path',\n          },\n          {\n            key: 4,\n            value: 'rank',\n            defaultChecked: true,\n            columnName: 'call.rank',\n          },\n\n        ];\n        this.tabledata = [\n          {\n            input_name: 'abc1',\n            input_path: 'path2',\n            call_name: 'aaa',\n          },\n          {\n            input_name: 'abc1',\n            input_path: 'path2',\n            call_name: 'aaa',\n          }]\n      }\n      onSelected(input) {\n\n        let obj = this.tableHeader.find(x =&gt; x.columnName === input.columnName);\n        let index = this.tableHeader.indexOf(obj);\n        if (index &gt; -1) {\n          this.tableHeader.splice(index, 1);\n        } else {\n          this.tableHeader.push(input);\n        }\n        this.tableHeader.sort(function (a, b) {\n          return a.key - b.key\n        })\n      }\n    }\n\ncomponent.html\n\n    &lt;div &gt;\n      &lt;!-- Select columns section--&gt;\n      &lt;div&gt;\n        &lt;div&gt;\n          &lt;label class=\"select-columns__label-heading\"&gt;Select Columns&lt;/label&gt;\n          &lt;div&gt;\n            &lt;button class=\"save-button\"&gt;&lt;/button&gt;\n          &lt;/div&gt;\n        &lt;/div&gt;\n        &lt;!-- Select columns checkboxes --&gt;\n        &lt;div&gt;\n          &lt;div class=\"select-columns__check-list\"&gt;\n            &lt;h4&gt;Input&lt;/h4&gt;\n            &lt;div *ngFor=\"let input of inputCheckBox\" class=\"mat-checkbox\"&gt;\n              &lt;mat-checkbox (change)=\"onSelected(input)\" type=\"checkbox\" [(checked)]=\"input.defaultChecked\" name=\"inputCheckBox1\"&gt;{{input.value}}\n              &lt;/mat-checkbox&gt;\n            &lt;/div&gt;\n          &lt;/div&gt;\n          &lt;div class=\"select-columns__check-list\"&gt;\n            &lt;h4&gt;Call&lt;/h4&gt;\n            &lt;div *ngFor=\"let call of callCheckBox\" class=\"mat-checkbox\"&gt;\n              &lt;mat-checkbox (change)=\"onSelected(call)\" type=\"checkbox\" [(checked)]=\"call.defaultChecked\" name=\"inputCheckBox\"&gt;{{call.value}}\n              &lt;/mat-checkbox&gt;\n            &lt;/div&gt;\n          &lt;/div&gt;\n        &lt;/div&gt;\n      &lt;/div&gt;\n      &lt;!-- table section--&gt;\n      &lt;div class=\"select-columns__table\"&gt;\n        &lt;table matSort class=\"export-table\"&gt;\n          &lt;tr&gt;\n            &lt;th *ngFor=\"let headerName of tableHeader\"&gt;{{headerName.columnName}}&lt;/th&gt;\n          &lt;/tr&gt;\n          &lt;tr&gt;\n          &lt;td&gt;\n\n          &lt;/td&gt;\n          &lt;/tr&gt;\n        &lt;/table&gt;\n      &lt;/div&gt;\n    &lt;/div&gt;\n</code></pre>\n"}, {"tags": ["angular", "typescript"], "comments": [{"owner": {"reputation": 6538, "user_id": 2275797, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/lg0K6.jpg?s=128&g=1", "display_name": "briosheje", "link": "https://stackoverflow.com/users/2275797/briosheje"}, "edited": false, "score": 2, "creation_date": 1516801496, "post_id": 48423931, "comment_id": 83837384, "body": "Interfaces in typescript does <b>not</b> exist at runtime. You probably rather want to do something like: <code>export class ConsultationInit implements Consultation</code>. The &quot;Consultation instance&quot; you&#39;re talking about <b>cannot</b> exist, since <code>Consultation</code> is an interface, not a class. Finally, to create your instance, you should do: <code>new ConsultationInit()</code>. This will create an <b>empty</b> instance. Be aware (once again) that <code>interfaces</code> in typescript are FAR different from other languages."}, {"owner": {"reputation": 4782, "user_id": 3914509, "user_type": "registered", "accept_rate": 56, "profile_image": "https://graph.facebook.com/618920827/picture?type=large", "display_name": "Jeremy Thomas", "link": "https://stackoverflow.com/users/3914509/jeremy-thomas"}, "reply_to_user": {"reputation": 6538, "user_id": 2275797, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/lg0K6.jpg?s=128&g=1", "display_name": "briosheje", "link": "https://stackoverflow.com/users/2275797/briosheje"}, "edited": false, "score": 0, "creation_date": 1516812650, "post_id": 48423931, "comment_id": 83845676, "body": "Do I need to supply parameters when initializing?  I thought it would have to be <code>new ConsultationInit(null, null, null, null)</code> which is such a pain"}, {"owner": {"reputation": 6538, "user_id": 2275797, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/lg0K6.jpg?s=128&g=1", "display_name": "briosheje", "link": "https://stackoverflow.com/users/2275797/briosheje"}, "edited": false, "score": 0, "creation_date": 1516812953, "post_id": 48423931, "comment_id": 83845879, "body": "No, you don&#39;t, since they are &quot;nullable&quot; (not really nullable, but they conceptually are)."}, {"owner": {"reputation": 4782, "user_id": 3914509, "user_type": "registered", "accept_rate": 56, "profile_image": "https://graph.facebook.com/618920827/picture?type=large", "display_name": "Jeremy Thomas", "link": "https://stackoverflow.com/users/3914509/jeremy-thomas"}, "reply_to_user": {"reputation": 6538, "user_id": 2275797, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/lg0K6.jpg?s=128&g=1", "display_name": "briosheje", "link": "https://stackoverflow.com/users/2275797/briosheje"}, "edited": false, "score": 0, "creation_date": 1516827466, "post_id": 48423931, "comment_id": 83853959, "body": "when I call <code>new ConsultationInit(null, null, true, true)</code> it still says that the value is <code>undefined</code>.  Shouldn&#39;t the result be an object with those values?"}, {"owner": {"reputation": 6538, "user_id": 2275797, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/lg0K6.jpg?s=128&g=1", "display_name": "briosheje", "link": "https://stackoverflow.com/users/2275797/briosheje"}, "edited": false, "score": 0, "creation_date": 1516868858, "post_id": 48423931, "comment_id": 83868014, "body": "No, you need to <b>fill</b> the values manually, or define them public or private: <code>export class ConsultationInit { constructor(public id?: number; public submitted?: boolean, public showed_up?: boolean, public signed_up?: boolean) {} }</code>, otherwise, you need to <b>declare</b> the class properties in the class definition, like <b>every other OOP language</b>."}], "owner": {"reputation": 4782, "user_id": 3914509, "user_type": "registered", "accept_rate": 56, "profile_image": "https://graph.facebook.com/618920827/picture?type=large", "display_name": "Jeremy Thomas", "link": "https://stackoverflow.com/users/3914509/jeremy-thomas"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 562, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1516801376, "creation_date": 1516801376, "question_id": 48423931, "link": "https://stackoverflow.com/questions/48423931/how-to-initialize-a-class-in-angular-2", "title": "How to initialize a class in Angular 2", "body": "<p>I have begun adding <code>interfaces</code> to my angular app but the concept is new to my as I come from a Railsy world.  After creating a model in Rails, I could initialize the empty model with null values very easily:</p>\n\n<pre><code>Foo.new\n</code></pre>\n\n<p>where <code>Foo</code> is the model name.  In Angular I've created a typescript <code>interface</code>:</p>\n\n<pre><code>export interface Consultation {\n  id?: number;\n  submitted?: boolean;\n  showed_up?: boolean;\n  signed_up?: boolean;\n}\n</code></pre>\n\n<p>I've also made a similar <code>class</code>:</p>\n\n<pre><code>export class ConsultationInit {\n  constructor(\n    id?: number,\n    submitted?: boolean,\n    showed_up?: boolean,\n    signed_up?: boolean\n  )\n}\n</code></pre>\n\n<p>but I am a bit confused on how to initialize an empty <code>Consultation</code>.  This method seems very un-DRY.  I understand that the <code>interface</code> is the object <code>type</code> but if I am to create an instance of a <code>Consultation</code> do I need to supply params or can I call the equivalent of <code>Consultation.new</code></p>\n"}, {"tags": ["asp.net", "asp.net-mvc", "typescript", "angular5", "tsc"], "comments": [{"owner": {"reputation": 43836, "user_id": 5947043, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jUK37.png?s=128&g=1", "display_name": "ADyson", "link": "https://stackoverflow.com/users/5947043/adyson"}, "edited": false, "score": 0, "creation_date": 1516801418, "post_id": 48423870, "comment_id": 83837338, "body": "&quot;doesn&#39;t work&quot; tells people nothing useful. Describe what actually goes wrong. Did you follow any kind of guidance? If so then link to it."}, {"owner": {"reputation": 15, "user_id": 8231738, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1ab948a5ed999ccd8062b3d8b06ea36a?s=128&d=identicon&r=PG&f=1", "display_name": "deepak", "link": "https://stackoverflow.com/users/8231738/deepak"}, "reply_to_user": {"reputation": 43836, "user_id": 5947043, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jUK37.png?s=128&g=1", "display_name": "ADyson", "link": "https://stackoverflow.com/users/5947043/adyson"}, "edited": false, "score": 0, "creation_date": 1516801686, "post_id": 48423870, "comment_id": 83837501, "body": "@ADyson i have followed a video on youtube . following is the link . <a href=\"https://www.youtube.com/watch?v=rbHSTJBhJ44\" rel=\"nofollow noreferrer\">youtube.com/watch?v=rbHSTJBhJ44</a>"}, {"owner": {"reputation": 43836, "user_id": 5947043, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jUK37.png?s=128&g=1", "display_name": "ADyson", "link": "https://stackoverflow.com/users/5947043/adyson"}, "edited": false, "score": 0, "creation_date": 1516801934, "post_id": 48423870, "comment_id": 83837676, "body": "Ok. Well I&#39;m not watching all that to see if you followed it correctly. Apart from anything, I&#39;ve only got your description of what you did to go on, not visibility of what you <i>actually</i> did. Like I said, you need to provide details of your problem as well, not just &quot;doesn&#39;t work&quot;."}, {"owner": {"reputation": 15, "user_id": 8231738, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1ab948a5ed999ccd8062b3d8b06ea36a?s=128&d=identicon&r=PG&f=1", "display_name": "deepak", "link": "https://stackoverflow.com/users/8231738/deepak"}, "reply_to_user": {"reputation": 43836, "user_id": 5947043, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jUK37.png?s=128&g=1", "display_name": "ADyson", "link": "https://stackoverflow.com/users/5947043/adyson"}, "edited": false, "score": 0, "creation_date": 1516803104, "post_id": 48423870, "comment_id": 83838495, "body": "@ADyson on creating build i got the following error ::C:\\Program Files (x86)\\MSBuild\\Microsoft\\VisualStudio\\v14.0\\TypeScript\\Micros&zwnj;&#8203;oft.TypeScript.targe&zwnj;&#8203;ts(214,5): error MSB6006: &quot;tsc.exe&quot;"}, {"owner": {"reputation": 43836, "user_id": 5947043, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jUK37.png?s=128&g=1", "display_name": "ADyson", "link": "https://stackoverflow.com/users/5947043/adyson"}, "edited": false, "score": 0, "creation_date": 1516803801, "post_id": 48423870, "comment_id": 83838984, "body": "That just looks like a file path, not a full error message. Are you sure there are no other details following that?"}, {"owner": {"reputation": 15, "user_id": 8231738, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1ab948a5ed999ccd8062b3d8b06ea36a?s=128&d=identicon&r=PG&f=1", "display_name": "deepak", "link": "https://stackoverflow.com/users/8231738/deepak"}, "reply_to_user": {"reputation": 43836, "user_id": 5947043, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jUK37.png?s=128&g=1", "display_name": "ADyson", "link": "https://stackoverflow.com/users/5947043/adyson"}, "edited": false, "score": 0, "creation_date": 1516804127, "post_id": 48423870, "comment_id": 83839257, "body": "<a href=\"https://github.com/angular/quickstart\" rel=\"nofollow noreferrer\">github.com/angular/quickstart</a>  This is link from where i have cloned angular code and added files package.json , src/app folder , src/systemjs.config.js , src/systemjs-angular-loader.js ,src/tsconfig.json and then i copied script from src/index.html and pasted it to views/shared/_Layout.cshtml. and copied body portion from src/index.html and pasted to views/home/index.html. Finally i copied src/main.ts and pasted it to app folder. i saved it click on rebuild but rebuild failed giving above mentioned error."}, {"owner": {"reputation": 15, "user_id": 8231738, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1ab948a5ed999ccd8062b3d8b06ea36a?s=128&d=identicon&r=PG&f=1", "display_name": "deepak", "link": "https://stackoverflow.com/users/8231738/deepak"}, "reply_to_user": {"reputation": 43836, "user_id": 5947043, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jUK37.png?s=128&g=1", "display_name": "ADyson", "link": "https://stackoverflow.com/users/5947043/adyson"}, "edited": false, "score": 0, "creation_date": 1516804244, "post_id": 48423870, "comment_id": 83839351, "body": "error MSB6006: &quot;tsc.exe&quot; exited with code 1. this is error and like this it showing a count of 2175 errors. I don&#39;t know what this is all ."}, {"owner": {"reputation": 15, "user_id": 8231738, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1ab948a5ed999ccd8062b3d8b06ea36a?s=128&d=identicon&r=PG&f=1", "display_name": "deepak", "link": "https://stackoverflow.com/users/8231738/deepak"}, "reply_to_user": {"reputation": 43836, "user_id": 5947043, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jUK37.png?s=128&g=1", "display_name": "ADyson", "link": "https://stackoverflow.com/users/5947043/adyson"}, "edited": false, "score": 0, "creation_date": 1516805267, "post_id": 48423870, "comment_id": 83840150, "body": "I followed one solution over stackflow and someone assisted to download latest version of typescript from the link <a href=\"https://www.microsoft.com/en-us/download/confirmation.aspx?id=48593\" rel=\"nofollow noreferrer\">microsoft.com/en-us/download/confirmation.aspx?id=48593</a> . I downloaded this and installed . but rather solving the problem now a new error is occured that is --&gt; tsc : error TS5023: Build:Unknown compiler option &#39;lib&#39;."}, {"owner": {"reputation": 43836, "user_id": 5947043, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jUK37.png?s=128&g=1", "display_name": "ADyson", "link": "https://stackoverflow.com/users/5947043/adyson"}, "edited": false, "score": 0, "creation_date": 1516809075, "post_id": 48423870, "comment_id": 83843101, "body": "I suggest you edit and clarify your question to that effect and include the relevant error details. Seems it&#39;s specific to how to integrate typescript into Visual Studio, rather than anything to do with angular or MVC per se."}, {"owner": {"reputation": 15, "user_id": 8231738, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1ab948a5ed999ccd8062b3d8b06ea36a?s=128&d=identicon&r=PG&f=1", "display_name": "deepak", "link": "https://stackoverflow.com/users/8231738/deepak"}, "reply_to_user": {"reputation": 43836, "user_id": 5947043, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jUK37.png?s=128&g=1", "display_name": "ADyson", "link": "https://stackoverflow.com/users/5947043/adyson"}, "edited": false, "score": 0, "creation_date": 1516860111, "post_id": 48423870, "comment_id": 83864375, "body": "hey ADyson ... i have done a lot of search but still i am not able to get a proper solution . Look now the error i am getting is  &quot; tsc : error TS5023: Build:Unknown compiler option &#39;lib&#39; &quot; , my tsc file is as below ::-&gt;                      {   &quot;compilerOptions&quot;: {     &quot;target&quot;: &quot;es5&quot;,     &quot;module&quot;: &quot;commonjs&quot;,     &quot;moduleResolution&quot;: &quot;node&quot;,     &quot;sourceMap&quot;: true,     &quot;emitDecoratorMetadata&quot;: true,     &quot;experimentalDecorators&quot;: true,     &quot;lib&quot;: [ &quot;es2015&quot;, &quot;dom&quot; ],     &quot;noImplicitAny&quot;: true,     &quot;suppressImplicitAnyIndexErrors&quot;: true   } }"}, {"owner": {"reputation": 15, "user_id": 8231738, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1ab948a5ed999ccd8062b3d8b06ea36a?s=128&d=identicon&r=PG&f=1", "display_name": "deepak", "link": "https://stackoverflow.com/users/8231738/deepak"}, "reply_to_user": {"reputation": 43836, "user_id": 5947043, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jUK37.png?s=128&g=1", "display_name": "ADyson", "link": "https://stackoverflow.com/users/5947043/adyson"}, "edited": false, "score": 0, "creation_date": 1517558260, "post_id": 48423870, "comment_id": 84152484, "body": "still waiting for an answer::    following errors i am getting :: shim.min.js Failed to load resource: the server responded with a status of 404 (Not Found) zone.js Failed to load resource: the server responded with a status of 404 (Not Found) system.src.js Failed to load resource: the server responded with a status of 404 (Not Found) systemjs.config.js Failed to load resource: the server responded with a status of 404 (Not Found) shim.min.js Failed to load resource: the server responded with a status of 404 (Not Found)"}], "owner": {"reputation": 15, "user_id": 8231738, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1ab948a5ed999ccd8062b3d8b06ea36a?s=128&d=identicon&r=PG&f=1", "display_name": "deepak", "link": "https://stackoverflow.com/users/8231738/deepak"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 398, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1517562518, "creation_date": 1516801161, "last_edit_date": 1517562518, "question_id": 48423870, "link": "https://stackoverflow.com/questions/48423870/angular-component-not-loading-in-dot-net-mvc-project", "title": "ANGULAR COMPONENT NOT LOADING IN DOT NET MVC PROJECT", "body": "<p>I am trying to add angular5 to .net mvc web api . I have searched over and found some answers but that doesn't work for me . Following steps i followed : </p>\n\n<ol>\n<li>I cloned latest version from github of angular5 on my desktop. </li>\n<li>Then i created a new project in visual studio 2015 selecting mvc and webapi.</li>\n<li>Then i copied package.json to root directory of newly created project in vs 2015.</li>\n<li>I then by right clicking on package.json navigate to restore packages and it is supposed to add node_modules to root directory and it added that. </li>\n<li>Then i copied tsconfig.app , main.ts and app folder to root directory and by clicking on it included it in.</li>\n</ol>\n\n<p>However after following all these steps i ran for build but i got error as \n\"tsc : error TS5023: Build:Unknown compiler option 'lib'\" </p>\n\n<p>My tsc file is below ::</p>\n\n<pre><code>{\n  \"compilerOptions\": \n{\n    \"target\": \"es5\",\n    \"module\": \"commonjs\",\n    \"moduleResolution\": \"node\",\n    \"sourceMap\": true,\n    \"emitDecoratorMetadata\": true,\n    \"experimentalDecorators\": true,\n    \"lib\": [ \"es2015\", \"dom\" ],\n    \"noImplicitAny\": true,\n    \"suppressImplicitAnyIndexErrors\": true\n  }\n}\n</code></pre>\n\n<p>Any help will be highly appreciated as i am stucked in this for a long time .</p>\n\n<p>UPDATED 02 FEB 2018\nHello now i have solved the issue .. it is running now but it is unable to load my  angular component. On browser console i can see the following errors:\n<a href=\"https://i.stack.imgur.com/XYRuX.jpg\" rel=\"nofollow noreferrer\">screenshot of the error screen</a></p>\n"}, {"tags": ["angular", "typescript", "ngx-charts"], "comments": [{"owner": {"reputation": 695, "user_id": 1394071, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/ad33649043ae55ee273fcde1627e02db?s=128&d=identicon&r=PG", "display_name": "drinu16", "link": "https://stackoverflow.com/users/1394071/drinu16"}, "edited": false, "score": 1, "creation_date": 1521791913, "post_id": 48423539, "comment_id": 85891213, "body": "Did you solve this by any chance ?"}, {"owner": {"reputation": 764, "user_id": 3636177, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/fb55ac29bfb76b36239b97bdb8721d94?s=128&d=identicon&r=PG", "display_name": "Matt Brewerton", "link": "https://stackoverflow.com/users/3636177/matt-brewerton"}, "reply_to_user": {"reputation": 695, "user_id": 1394071, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/ad33649043ae55ee273fcde1627e02db?s=128&d=identicon&r=PG", "display_name": "drinu16", "link": "https://stackoverflow.com/users/1394071/drinu16"}, "edited": false, "score": 1, "creation_date": 1521803545, "post_id": 48423539, "comment_id": 85898426, "body": "Hi, nope this is still very much an open issue!"}, {"owner": {"reputation": 113, "user_id": 10189964, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/knHB3.jpg?s=128&g=1", "display_name": "Sandy B", "link": "https://stackoverflow.com/users/10189964/sandy-b"}, "edited": false, "score": 0, "creation_date": 1605504654, "post_id": 48423539, "comment_id": 114660740, "body": "Issue still exists, may have to use a work around as seen in the answers section."}], "answers": [{"tags": [], "owner": {"reputation": 695, "user_id": 1394071, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/ad33649043ae55ee273fcde1627e02db?s=128&d=identicon&r=PG", "display_name": "drinu16", "link": "https://stackoverflow.com/users/1394071/drinu16"}, "is_accepted": false, "score": 3, "last_activity_date": 1521849433, "last_edit_date": 1521849433, "creation_date": 1521827745, "answer_id": 49455744, "question_id": 48423539, "link": "https://stackoverflow.com/questions/48423539/ngxcharts-resizing-on-data-change/49455744#49455744", "title": "NgxCharts resizing on data change", "body": "<p>We solved it using a div around the chart and using CSS added a height of 40 or 50vh.</p>\n\n<p>The chart no longer changes in height on update.</p>\n"}, {"tags": [], "owner": {"reputation": 19, "user_id": 11598939, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-0-5XhyO81ow/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rchGV0lcO-FpS_hSXLI5YSDso59RQ/mo/photo.jpg?sz=128", "display_name": "Prom0", "link": "https://stackoverflow.com/users/11598939/prom0"}, "is_accepted": false, "score": 1, "last_activity_date": 1559651808, "creation_date": 1559651808, "answer_id": 56444041, "question_id": 48423539, "link": "https://stackoverflow.com/questions/48423539/ngxcharts-resizing-on-data-change/56444041#56444041", "title": "NgxCharts resizing on data change", "body": "<p>The following worked for me:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;div style=\"max-height: 50vh\"&gt;\r\n  &lt;ngx-charts-bar-vertical   [results]=\"dataArray\"\r\n                             [legend]=\"true\"\r\n                             [xAxis]=\"true\"\r\n                             [yAxis]=\"true\"\r\n                             [xAxisLabel]=\"'Date'\"\r\n                             [yAxisLabel]=\"'# tickets Raised'\"\r\n                             [showXAxisLabel]=\"true\"\r\n                             [showYAxisLabel]=\"true\"&gt;&lt;/ngx-charts-bar-vertical&gt;\r\n&lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>Downside on this, is you would need to define a maximum height.</p>\n"}, {"tags": [], "owner": {"reputation": 730, "user_id": 1831032, "user_type": "registered", "accept_rate": 48, "profile_image": "https://www.gravatar.com/avatar/157ebf77309901e5d6064a731ae02fd5?s=128&d=identicon&r=PG", "display_name": "Sree", "link": "https://stackoverflow.com/users/1831032/sree"}, "is_accepted": false, "score": 0, "last_activity_date": 1572894941, "creation_date": 1572894941, "answer_id": 58699741, "question_id": 48423539, "link": "https://stackoverflow.com/questions/48423539/ngxcharts-resizing-on-data-change/58699741#58699741", "title": "NgxCharts resizing on data change", "body": "<p>Use views</p>\n\n<pre><code>&lt;ngx-charts-bar-vertical [results]=\"dataArray\"\n                                 [legend]=\"true\"\n                                 [xAxis]=\"true\"\n                                 [yAxis]=\"true\"\n                                 [xAxisLabel]=\"'Date'\"\n                                 [yAxisLabel]=\"'# tickets Raised'\"\n                                 [showXAxisLabel]=\"true\"\n                                 [showYAxisLabel]=\"true\" [view]=\"chartSize\"&gt;\n&lt;/ngx-charts-bar-vertical&gt;\n</code></pre>\n\n<p>and in the component define chartSize</p>\n\n<pre><code>chartSize = [770, 450];\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 141, "user_id": 10905231, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-Un8IqpFpb7o/AAAAAAAAAAI/AAAAAAAAAoo/nMuimH6d9Cg/photo.jpg?sz=128", "display_name": "Deepesh Nair", "link": "https://stackoverflow.com/users/10905231/deepesh-nair"}, "is_accepted": false, "score": 0, "last_activity_date": 1574836782, "creation_date": 1574836782, "answer_id": 59064414, "question_id": 48423539, "link": "https://stackoverflow.com/questions/48423539/ngxcharts-resizing-on-data-change/59064414#59064414", "title": "NgxCharts resizing on data change", "body": "<p>The attribute view will set the size and stop the change</p>\n\n<pre><code>  &lt;ngx-charts-line-chart\n    [results]=\"sloGraphData\"\n    [xAxis]=\"true\"\n    [yAxis]=\"true\"\n    [legend]=\"true\"\n    [legendPosition]=\"'below'\"\n    [showXAxisLabel]=\"false\"\n    [showYAxisLabel]=\"false\"\n    [showRefLines]=\"true\"\n    [referenceLines]=\"refLines\"\n    [xAxisLabel]=\"'Days required'\"\n    [yAxisLabel]=\"'Date'\"\n    [view]=\"[360, 300]\"&gt;\n  &lt;/ngx-charts-line-chart&gt;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 39, "user_id": 9515080, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mxYyK.jpg?s=128&g=1", "display_name": "Thanan_Jaje", "link": "https://stackoverflow.com/users/9515080/thanan-jaje"}, "is_accepted": false, "score": 0, "last_activity_date": 1584525451, "creation_date": 1584525451, "answer_id": 60737099, "question_id": 48423539, "link": "https://stackoverflow.com/questions/48423539/ngxcharts-resizing-on-data-change/60737099#60737099", "title": "NgxCharts resizing on data change", "body": "<p>you trying to modify data is not recognized by change detection.</p>\n\n<pre><code>this.dataArray = d;\n</code></pre>\n\n<p>instead try spreading data over, that will detect the changes. It worked for me. </p>\n\n<pre><code>this.dataArray = [...d];\n</code></pre>\n"}], "owner": {"reputation": 764, "user_id": 3636177, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/fb55ac29bfb76b36239b97bdb8721d94?s=128&d=identicon&r=PG", "display_name": "Matt Brewerton", "link": "https://stackoverflow.com/users/3636177/matt-brewerton"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 5548, "favorite_count": 0, "answer_count": 5, "score": 7, "last_activity_date": 1584525451, "creation_date": 1516800166, "question_id": 48423539, "link": "https://stackoverflow.com/questions/48423539/ngxcharts-resizing-on-data-change", "title": "NgxCharts resizing on data change", "body": "<p>I'm building an app using Swimlane's Ngx Charts for graphical data representation, but I'm getting odd behaviour when I update the data via a refresh button which re-calls a GET function to update the data array. I'm using @angular/flex-layout for a \"tile-like\" view but even without using it, I'm still encountering this issue - it just grows the parent container. I don't want to use hard-coded px values in the <code>[view]</code> property because I want it to work with any size of graph/tile.</p>\n\n<p>I'm use a pretty basic vertical bar chart:</p>\n\n<pre class=\"lang-html prettyprint-override\"><code>&lt;div&gt;\n    &lt;div&gt;\n        &lt;ngx-charts-bar-vertical [results]=\"dataArray\"\n                                 [legend]=\"true\"\n                                 [xAxis]=\"true\"\n                                 [yAxis]=\"true\"\n                                 [xAxisLabel]=\"'Date'\"\n                                 [yAxisLabel]=\"'# tickets Raised'\"\n                                 [showXAxisLabel]=\"true\"\n                                 [showYAxisLabel]=\"true\"&gt;&lt;/ngx-charts-bar-vertical&gt;\n    &lt;/div&gt;\n    &lt;div&gt;\n        &lt;!-- Got a table here --&gt;\n    &lt;/div&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>To update my <code>dataArray</code> I'm doing:</p>\n\n<pre class=\"lang-typescript prettyprint-override\"><code>export class DashboardComponent implements AfterViewInit {\n    constructor(private httpClient: HttpClient, private datePipe: DatePipe, private dataService: DataService) { }\n\n    dataArray: any[] = [];\n\n    getData(): void {\n\n        this.dataService.getSomeData&lt;any[]&gt;().subscribe(d =&gt; {\n                this.dataArray = d;\n        });\n    }\n\n    // Init\n    ngAfterViewInit(): void {\n        this.getData();\n    }\n}\n</code></pre>\n\n<p>On initial load, it's fine and will fill the container (where it can) but when I hit the refresh button this is the behaviour I get:\n<a href=\"https://i.stack.imgur.com/St28A.gif\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/St28A.gif\" alt=\"enter image description here\"></a></p>\n\n<p>Thank you for your time.</p>\n"}, {"tags": ["html", "css", "angular", "typescript"], "answers": [{"tags": [], "owner": {"reputation": 875, "user_id": 9941079, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fbe4ca7bf05dae88149d1c4fcafd542a?s=128&d=identicon&r=PG&f=1", "display_name": "Mangesh Daundkar", "link": "https://stackoverflow.com/users/9941079/mangesh-daundkar"}, "is_accepted": false, "score": 0, "last_activity_date": 1529926046, "creation_date": 1529926046, "answer_id": 51022393, "question_id": 48423065, "link": "https://stackoverflow.com/questions/48423065/angular-material-snackbar-not-work-properly/51022393#51022393", "title": "Angular Material Snackbar not work properly", "body": "<p>For right positioning, set the configuration <code>horizontalPosition: 'right'</code><br>\nIn your code,</p>\n\n<pre><code>this.snackBar.open(msg, undefined, {\n  duration: 2000,\n  horizontalPosition:'right'\n});\n</code></pre>\n"}], "owner": {"reputation": 11, "user_id": 9262128, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/23cc41aee8b5b810222ee997ed6e0dc1?s=128&d=identicon&r=PG&f=1", "display_name": "wakinpang", "link": "https://stackoverflow.com/users/9262128/wakinpang"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 627, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1529926046, "creation_date": 1516798566, "last_edit_date": 1516844606, "question_id": 48423065, "link": "https://stackoverflow.com/questions/48423065/angular-material-snackbar-not-work-properly", "title": "Angular Material Snackbar not work properly", "body": "<p>I'm using a snackbar to tell users some information, but the snackbar does not perform at right position, Here is my code:</p>\n\n<p><code>\nopenSnackBar(msg: string) {\n    this.snackBar.open(msg, undefined, {\n      duration: 2000,\n      extraClasses:['snack-bar']\n    });\n  }\n</code></p>\n\n<p><code>this.snackBar</code>is injected in constructor</p>\n\n<p>when I call this function the snackbar perform at my page's left-down corner, like this:</p>\n\n<p><a href=\"https://i.stack.imgur.com/aBH7C.jpg\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n\n<p>you see the black block with text is the snackbar, and add a div with same text on it, and this div does not disappear anymore.</p>\n\n<p>I'm using bootstrap3 + Angular 5 + Material 2</p>\n"}, {"tags": ["typescript"], "comments": [{"owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "edited": false, "score": 0, "creation_date": 1516804853, "post_id": 48423044, "comment_id": 83839848, "body": "Afraid the answer is no. Hope someone with more TS internal knowledge will prove me wrong."}], "answers": [{"comments": [{"owner": {"reputation": 35, "user_id": 9262060, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4643caf7ef6af6a354b5250471ddea53?s=128&d=identicon&r=PG&f=1", "display_name": "frelars", "link": "https://stackoverflow.com/users/9262060/frelars"}, "edited": false, "score": 0, "creation_date": 1516827474, "post_id": 48426613, "comment_id": 83853963, "body": "Amazing, it works :) Rebinding T this way seems a bit strange. Do you know if this is legal/specified behavior or something undefined that may change for 2.8+?"}, {"owner": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "reply_to_user": {"reputation": 35, "user_id": 9262060, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4643caf7ef6af6a354b5250471ddea53?s=128&d=identicon&r=PG&f=1", "display_name": "frelars", "link": "https://stackoverflow.com/users/9262060/frelars"}, "edited": false, "score": 0, "creation_date": 1516827636, "post_id": 48426613, "comment_id": 83854068, "body": "It&#39;s definitely intended to allow you to use inference from mapped types to make functions &quot;backwards&quot; like that, although I don&#39;t know if they anticipated this particular use case.  I was a little worried that it wouldn&#39;t work, since the bare <code>T</code> doesn&#39;t appear as the type of any particular parameter or the return value... but I guess it does."}, {"owner": {"reputation": 35, "user_id": 9262060, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4643caf7ef6af6a354b5250471ddea53?s=128&d=identicon&r=PG&f=1", "display_name": "frelars", "link": "https://stackoverflow.com/users/9262060/frelars"}, "edited": false, "score": 0, "creation_date": 1516827738, "post_id": 48426613, "comment_id": 83854112, "body": "It does :) Thanks!"}], "tags": [], "owner": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "is_accepted": true, "score": 0, "last_activity_date": 1516809465, "creation_date": 1516809465, "answer_id": 48426613, "question_id": 48423044, "link": "https://stackoverflow.com/questions/48423044/convert-methods-to-props-using-mapped-types/48426613#48426613", "title": "Convert methods to props using mapped types", "body": "<p>Yes, you can use <a href=\"https://www.typescriptlang.org/docs/handbook/advanced-types.html#inference-from-mapped-types\" rel=\"nofollow noreferrer\">inference from mapped types</a>.  This lets you express a function <em>input</em> as a mapped type and still allow inference to (sometimes) work.  </p>\n\n<p>I've often found that TypeScript problems can be solved by tackling an \"upside-down\" or \"backwards\" version of the problem.  For example, your issue is that there's not currently (as of TypeScript 2.7) a way to take a function signature and extract the return type.  But there is a way to take a return type and compose a function signature from it, which is \"backwards\" from what you want.  And inference from mapped types lets you proceed like this:</p>\n\n<pre><code>declare function select&lt;T, K extends keyof T&gt;(\n  obj: {[P in keyof T]: () =&gt; T[P]}, \n  keys: K[]\n): {[P in K]: T[P]};\n</code></pre>\n\n<p>So the type <code>T</code> isn't the type of <code>obj</code> anymore, but rather the type of the return value of <code>select()</code> in the case where <code>K</code> is the full <code>keyof T</code>.  Let's see if it works:</p>\n\n<pre><code>const obj = {\n  foo: () =&gt; 3,\n  bar: () =&gt; \"hey\",\n  baz: () =&gt; false\n}\n\nconst result = select(obj, [\"foo\", \"baz\"]);\n// result: { foo: number; baz: boolean; }\n</code></pre>\n\n<p>If you inspect the code, you'll see that the compiler infers the generic parameters as <code>T={ foo: number; bar: string; baz: boolean; }</code> and <code>K=\"foo\"|\"baz\"</code>... and hence the result is <code>{ foo: number; baz: boolean; }</code> as you want.</p>\n\n<p>Hope that helps; good luck!</p>\n"}], "owner": {"reputation": 35, "user_id": 9262060, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4643caf7ef6af6a354b5250471ddea53?s=128&d=identicon&r=PG&f=1", "display_name": "frelars", "link": "https://stackoverflow.com/users/9262060/frelars"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 28, "favorite_count": 0, "accepted_answer_id": 48426613, "answer_count": 1, "score": 1, "last_activity_date": 1516809465, "creation_date": 1516798527, "question_id": 48423044, "link": "https://stackoverflow.com/questions/48423044/convert-methods-to-props-using-mapped-types", "title": "Convert methods to props using mapped types", "body": "<p>I need to pick/select from generic objects with multiple generic no-arg functions and return a object holding the evaluated result with correct typing.</p>\n\n<p>For props I can select using the following function signature:</p>\n\n<pre><code>function select&lt;T, K extends keyof T&gt;(obj:T,keys:K[]):{[P in K]:T[P]}\n</code></pre>\n\n<p>I want something like this:</p>\n\n<pre><code>function select&lt;T, K extends keyof T&gt;(obj:T,keys:K[]):{[P in K]:T[P]()}\n</code></pre>\n\n<p>Notice <code>T[P]()</code> in the return type, which does not work, but illustrates my need. K should also be constrained by <code>keyof T &amp; ()=&gt;U</code>, where U is different for each method.</p>\n\n<p>Is this possible?</p>\n"}, {"tags": ["html", "typescript", "ionic-framework"], "comments": [{"owner": {"reputation": 6623, "user_id": 5404186, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/9FDrJ.jpg?s=128&g=1", "display_name": "David Dal Busco", "link": "https://stackoverflow.com/users/5404186/david-dal-busco"}, "edited": false, "score": 0, "creation_date": 1516798706, "post_id": 48422969, "comment_id": 83835509, "body": "Are you using WkWebView? If so you should maybe tro to rewrite your URL aka remove &#39;file://&#39;. See <a href=\"https://ionicframework.com/docs/wkwebview/\" rel=\"nofollow noreferrer\">ionicframework.com/docs/wkwebview</a> topic &quot;Rewriting file://&quot;"}, {"owner": {"reputation": 3243, "user_id": 5454400, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/50623f5ea714bc6271f9c34b13b090ab?s=128&d=identicon&r=PG&f=1", "display_name": "peachykeen", "link": "https://stackoverflow.com/users/5454400/peachykeen"}, "reply_to_user": {"reputation": 6623, "user_id": 5404186, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/9FDrJ.jpg?s=128&g=1", "display_name": "David Dal Busco", "link": "https://stackoverflow.com/users/5404186/david-dal-busco"}, "edited": false, "score": 0, "creation_date": 1516799256, "post_id": 48422969, "comment_id": 83835912, "body": "Thank you for that webpage. I tried slicing out the <code>file:&#47;&#47;</code>, but unfortunately, that didn&#39;t work. Also, I tried using their function, <code>normalizeURL</code>, which should solve the issue too, but it makes the string <code>http:&#47;&#47;localhost:8080&#47;var&#47;mobile&#47;Containers&#47;Data&#47;Application&zwnj;&#8203;&#47;17737D0A-F9C2-4DD9-&zwnj;&#8203;8A9B-4DA6A094D100&#47;tm&zwnj;&#8203;p&#47;cdv_photo_001.jpg</code> which didn&#39;t work either."}, {"owner": {"reputation": 6623, "user_id": 5404186, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/9FDrJ.jpg?s=128&g=1", "display_name": "David Dal Busco", "link": "https://stackoverflow.com/users/5404186/david-dal-busco"}, "edited": false, "score": 0, "creation_date": 1516799453, "post_id": 48422969, "comment_id": 83836048, "body": "Freak :( Maybe something with the HTMLElement. Could you try without it, like <code>&lt;div *ngIf=&quot;cameraImageURI != null&quot;&gt;&lt;img [src]=&quot;cameraImageURI&quot;&gt;&lt;&#47;div&gt;</code> ps.: I&#39;m assuming that <code>cameraImageURI</code> is a public variable of the class/view/page"}, {"owner": {"reputation": 3243, "user_id": 5454400, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/50623f5ea714bc6271f9c34b13b090ab?s=128&d=identicon&r=PG&f=1", "display_name": "peachykeen", "link": "https://stackoverflow.com/users/5454400/peachykeen"}, "reply_to_user": {"reputation": 6623, "user_id": 5404186, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/9FDrJ.jpg?s=128&g=1", "display_name": "David Dal Busco", "link": "https://stackoverflow.com/users/5404186/david-dal-busco"}, "edited": false, "score": 0, "creation_date": 1516799819, "post_id": 48422969, "comment_id": 83836292, "body": "Awesome! :) That worked! What exactly is this doing?"}, {"owner": {"reputation": 6623, "user_id": 5404186, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/9FDrJ.jpg?s=128&g=1", "display_name": "David Dal Busco", "link": "https://stackoverflow.com/users/5404186/david-dal-busco"}, "edited": false, "score": 0, "creation_date": 1516799932, "post_id": 48422969, "comment_id": 83836376, "body": "It just render the image when the url is loaded, not before. But I&#39;m more guessing that there was a problem with using <code>document</code>. Anyway good to hear it worked out!!! Would you like to post the answer and mark the question as solved or should I?"}, {"owner": {"reputation": 3243, "user_id": 5454400, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/50623f5ea714bc6271f9c34b13b090ab?s=128&d=identicon&r=PG&f=1", "display_name": "peachykeen", "link": "https://stackoverflow.com/users/5454400/peachykeen"}, "reply_to_user": {"reputation": 6623, "user_id": 5404186, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/9FDrJ.jpg?s=128&g=1", "display_name": "David Dal Busco", "link": "https://stackoverflow.com/users/5404186/david-dal-busco"}, "edited": false, "score": 0, "creation_date": 1516799986, "post_id": 48422969, "comment_id": 83836408, "body": "I would be happy to give you the points if you want to post your answer :)"}, {"owner": {"reputation": 6623, "user_id": 5404186, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/9FDrJ.jpg?s=128&g=1", "display_name": "David Dal Busco", "link": "https://stackoverflow.com/users/5404186/david-dal-busco"}, "edited": false, "score": 0, "creation_date": 1516800015, "post_id": 48422969, "comment_id": 83836428, "body": "Hahaha ok I do it right now then, thx ;)"}], "answers": [{"tags": [], "owner": {"reputation": 6623, "user_id": 5404186, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/9FDrJ.jpg?s=128&g=1", "display_name": "David Dal Busco", "link": "https://stackoverflow.com/users/5404186/david-dal-busco"}, "is_accepted": true, "score": 1, "last_activity_date": 1516800330, "creation_date": 1516800330, "answer_id": 48423596, "question_id": 48422969, "link": "https://stackoverflow.com/questions/48422969/recently-taken-camera-image-wont-display-on-ionic-page/48423596#48423596", "title": "Recently taken camera image won&#39;t display on Ionic page", "body": "<p>As discussed in the comments above, firstly we figured out that the first problem was linked with <code>WkWebView</code> not supporting URI containing <code>file://</code>.</p>\n\n<p>To remove it, Ionic provide an handy util method which could be use as follow:</p>\n\n<pre><code>import { normalizeURL } from 'ionic-angular';\n\nthis.cameraImageURI = normalizeURL(this.cameraImageURI);\n</code></pre>\n\n<p>Dokumentation could be found at <a href=\"https://ionicframework.com/docs/wkwebview/\" rel=\"nofollow noreferrer\">https://ionicframework.com/docs/wkwebview/</a> see topic \"Rewriting file://</p>\n\n<p>Secondly I thought that OP might had a problem with setting the URI result with <code>document</code>. I suggested to access the URI from the page template as following and luckily it worked out ;)</p>\n\n<pre><code>&lt;div *ngIf=\"cameraImageURI != null\"&gt;\n  &lt;img [src]=\"cameraImageURI\"&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>Note: Doing so, the image will be only rendered if the URI isn't empty. Furthermore, <code>cameraImageURI</code> has to be a public variable of the class/view</p>\n"}], "owner": {"reputation": 3243, "user_id": 5454400, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/50623f5ea714bc6271f9c34b13b090ab?s=128&d=identicon&r=PG&f=1", "display_name": "peachykeen", "link": "https://stackoverflow.com/users/5454400/peachykeen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 368, "favorite_count": 0, "accepted_answer_id": 48423596, "answer_count": 1, "score": 0, "last_activity_date": 1516800330, "creation_date": 1516798324, "last_edit_date": 1516799442, "question_id": 48422969, "link": "https://stackoverflow.com/questions/48422969/recently-taken-camera-image-wont-display-on-ionic-page", "title": "Recently taken camera image won&#39;t display on Ionic page", "body": "<p>I am trying to display two images on a page using Ionic. I am taking one photo via a camera, and I am pulling the other image down from the web. I can successfully store the images as a <code>FILE_URI</code> that is something like the following:</p>\n\n<p>Camera:</p>\n\n<pre><code>file:///var/mobile/Containers/Data/Application/2A696490-1D2B-4A22-B058-8F814AF52D90/tmp/cdv_photo_001.jpg\n</code></pre>\n\n<p>Web:</p>\n\n<pre><code>file:///var/mobile/Containers/Data/Application/2A696490-1D2B-4A22-B058-8F814AF52D90/Documents/file.png\n</code></pre>\n\n<p>The problem arises when I try to view the files. When I try to set an <code>img</code> HTMLElement's <code>src</code> in typescript via <code>document[\"img1\"].src = this.cameraImageURI;</code> I get an error on my xcode console that is the following:</p>\n\n<pre><code>ERROR: Unable to send exception to server [object Object]\n</code></pre>\n\n<p>My page never even loads because of this error. I believe my issue may be with passing the entire string (as shared above) into the <code>img1</code> <code>src</code> attribute. </p>\n\n<p>I have looked into Ionic's <a href=\"https://ionicframework.com/docs/native/file-opener/\" rel=\"nofollow noreferrer\"><code>FileOpener</code> class</a>, but I am not sure if that is the way to go. </p>\n\n<p><strong>UPDATE 1:</strong> I tried slicing out the file://, but unfortunately, that didn't work. Also, I tried using their function, <code>normalizeURL</code>, which should solve the issue too. The documentation for this is found <a href=\"https://ionicframework.com/docs/wkwebview/\" rel=\"nofollow noreferrer\">here</a>. But alas, it makes the string: </p>\n\n<pre><code>http://localhost:8080/var/mobile/Containers/Data/Application\u200c\u200b/17737D0A-F9C2-4DD9-\u200c\u200b8A9B-4DA6A094D100/tm\u200c\u200bp/cdv_photo_001.jpg \n</code></pre>\n\n<p>which didn't work either.</p>\n"}, {"tags": ["javascript", "html", "typescript", "ecmascript-6", "custom-element"], "comments": [{"owner": {"reputation": 507143, "user_id": 1048572, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/7f2c4de95e8f4f8f5a71c3aaf0ed312a?s=128&d=identicon&r=PG", "display_name": "Bergi", "link": "https://stackoverflow.com/users/1048572/bergi"}, "edited": false, "score": 0, "creation_date": 1516798017, "post_id": 48422748, "comment_id": 83835062, "body": "Do you transpile the TypeScript code to ES5 or ES6?"}, {"owner": {"reputation": 808, "user_id": 2994171, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/eed6f54fe04fc2f00fd7240c69bffec4?s=128&d=identicon&r=PG&f=1", "display_name": "mtizziani", "link": "https://stackoverflow.com/users/2994171/mtizziani"}, "reply_to_user": {"reputation": 507143, "user_id": 1048572, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/7f2c4de95e8f4f8f5a71c3aaf0ed312a?s=128&d=identicon&r=PG", "display_name": "Bergi", "link": "https://stackoverflow.com/users/1048572/bergi"}, "edited": false, "score": 0, "creation_date": 1516798151, "post_id": 48422748, "comment_id": 83835157, "body": "@Bergi : to ES6"}, {"owner": {"reputation": 23324, "user_id": 4600982, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/6kpWl.png?s=128&g=1", "display_name": "Supersharp", "link": "https://stackoverflow.com/users/4600982/supersharp"}, "edited": false, "score": 0, "creation_date": 1516874372, "post_id": 48422748, "comment_id": 83871305, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/39986046/how-to-create-new-instance-of-an-extended-class-of-custom-elements\">How to create new instance of an extended class of custom elements</a>"}], "answers": [{"comments": [{"owner": {"reputation": 682, "user_id": 7736729, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/651479842b6c71dfcc04c0520a88b137?s=128&d=identicon&r=PG&f=1", "display_name": "TypedSource", "link": "https://stackoverflow.com/users/7736729/typedsource"}, "edited": false, "score": 2, "creation_date": 1516985468, "post_id": 48423241, "comment_id": 83925131, "body": "thanks for the fast response. im wondering why there are so many tutorials online where extanding from HTML*Element is done if it does not work in any browser."}, {"owner": {"reputation": 1748, "user_id": 4374738, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0d814eac36e4f8ffba259b43025f3813?s=128&d=identicon&r=PG&f=1", "display_name": "adz5A", "link": "https://stackoverflow.com/users/4374738/adz5a"}, "reply_to_user": {"reputation": 682, "user_id": 7736729, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/651479842b6c71dfcc04c0520a88b137?s=128&d=identicon&r=PG&f=1", "display_name": "TypedSource", "link": "https://stackoverflow.com/users/7736729/typedsource"}, "edited": false, "score": 0, "creation_date": 1516986157, "post_id": 48423241, "comment_id": 83925559, "body": "Do they polyfill those classes ? If you have a link to one of those I&#39;ll look into it as there is not enough information to be sure of what the problem is. The only conclusion you can  come at this moment is that <code>HTML*Element</code> cannot be inherited from."}, {"owner": {"reputation": 682, "user_id": 7736729, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/651479842b6c71dfcc04c0520a88b137?s=128&d=identicon&r=PG&f=1", "display_name": "TypedSource", "link": "https://stackoverflow.com/users/7736729/typedsource"}, "edited": false, "score": 0, "creation_date": 1517047604, "post_id": 48423241, "comment_id": 83942722, "body": "no, they dont support other than HTMLElement. The answer to the issue i opened is : I will come soon."}, {"owner": {"reputation": 1748, "user_id": 4374738, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0d814eac36e4f8ffba259b43025f3813?s=128&d=identicon&r=PG&f=1", "display_name": "adz5A", "link": "https://stackoverflow.com/users/4374738/adz5a"}, "reply_to_user": {"reputation": 682, "user_id": 7736729, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/651479842b6c71dfcc04c0520a88b137?s=128&d=identicon&r=PG&f=1", "display_name": "TypedSource", "link": "https://stackoverflow.com/users/7736729/typedsource"}, "edited": false, "score": 0, "creation_date": 1517417413, "post_id": 48423241, "comment_id": 84090424, "body": "This is my conclusion in my answer, is it ok for you to accept it or do you find it lacking in some way (for future readership proofing) ?"}], "tags": [], "owner": {"reputation": 1748, "user_id": 4374738, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0d814eac36e4f8ffba259b43025f3813?s=128&d=identicon&r=PG&f=1", "display_name": "adz5A", "link": "https://stackoverflow.com/users/4374738/adz5a"}, "is_accepted": false, "score": 5, "last_activity_date": 1516799110, "creation_date": 1516799110, "answer_id": 48423241, "question_id": 48422748, "link": "https://stackoverflow.com/questions/48422748/html5-es6-custom-elements-extending-htmltextareaelement-crashes-illegal-construc/48423241#48423241", "title": "HTML5 ES6 Custom-Elements extending HTMLTextAreaElement crashes illegal constructor", "body": "<p>The error you are seeing means that the object you are calling <code>new</code> on does not have a <code>[[construct]]</code> internal method. </p>\n\n<p>Although the specs indicates that you can <code>extend</code> HTML*Element classes it does not seem to be supported at this time ( see a similar issue : <a href=\"https://github.com/webcomponents/custom-elements/issues/6\" rel=\"noreferrer\">https://github.com/webcomponents/custom-elements/issues/6</a> ) so you can only extend <code>HTMLElement</code>at this moment.</p>\n"}, {"tags": [], "owner": {"reputation": 40275, "user_id": 3744304, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/17uwe.jpg?s=128&g=1", "display_name": "connexo", "link": "https://stackoverflow.com/users/3744304/connexo"}, "is_accepted": false, "score": 0, "last_activity_date": 1601628568, "creation_date": 1601628568, "answer_id": 64168676, "question_id": 48422748, "link": "https://stackoverflow.com/questions/48422748/html5-es6-custom-elements-extending-htmltextareaelement-crashes-illegal-construc/64168676#64168676", "title": "HTML5 ES6 Custom-Elements extending HTMLTextAreaElement crashes illegal constructor", "body": "<p>Two things are blatantly wrong in your attempt at extending <code>HTMLTextAreaElement</code>.</p>\n<ol>\n<li>You <strong>must</strong> add the mandatory <code>{ extends: 'textarea' }</code> third argument when registering your element.</li>\n<li>Extended built-in-elements don't get a tag of their own, instead use the tag of the extended element, adding your name in an <code>is=&quot;&quot;</code> attribute.</li>\n</ol>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>class MyTextarea extends HTMLTextAreaElement {\n  constructor(){\n    super();\n    console.log('MyTextarea');\n  }\n}\n\ncustomElements.define('my-textarea', MyTextarea, {extends: 'textarea'});</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;textarea is=\"my-textarea\"&gt;&lt;/textarea&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 808, "user_id": 2994171, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/eed6f54fe04fc2f00fd7240c69bffec4?s=128&d=identicon&r=PG&f=1", "display_name": "mtizziani", "link": "https://stackoverflow.com/users/2994171/mtizziani"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1956, "favorite_count": 0, "answer_count": 2, "score": 2, "last_activity_date": 1601628568, "creation_date": 1516797601, "question_id": 48422748, "link": "https://stackoverflow.com/questions/48422748/html5-es6-custom-elements-extending-htmltextareaelement-crashes-illegal-construc", "title": "HTML5 ES6 Custom-Elements extending HTMLTextAreaElement crashes illegal constructor", "body": "<p>i need to extend a custom element from HTMLTextAreaElement for using in a form and fetch value directly. but i allways get Illegal Constructor Message</p>\n\n<p>HTML:</p>\n\n<pre><code>&lt;!DOCTYPE html&gt;\n&lt;html&gt;\n  &lt;head&gt;\n  &lt;/head&gt;\n  &lt;body&gt;\n    &lt;div&gt;\n      &lt;working-element&gt;&lt;/working-element&gt;\n    &lt;/div&gt;\n    &lt;div&gt;\n      &lt;crashing-element&gt;&lt;/crashing-element&gt;\n    &lt;/div&gt;\n  &lt;/body&gt;\n  &lt;script src=\"myScript.js\"&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p>Typescript (compiled as ES6 to myScript.js):</p>\n\n<pre><code>// all works fine\nclass newElementWorks extends HTMLElement {\n  constructor(){\n    super();\n    console.log('newElementWorks');\n  }\n}\ncustomElements.define('working-element', newElementWorks);\n\n// this one crashes on super() call\nclass newElementCrash extends HTMLTextAreaElement {\n  constructor(){\n    super();\n    console.log('newElementCrash');\n  }\n}\ncustomElements.define('crashing-element', newElementCrash);\n</code></pre>\n\n<p>the script is executed on Chrome Version 63.0.3239.132 that supports ES6 and Custom-Element</p>\n\n<p>i allready tried to include <a href=\"https://github.com/webcomponents/custom-elements\" rel=\"nofollow noreferrer\">webcomponents/custom-elements</a> polyfill</p>\n\n<p>do you have any idea why extending from other than HTMLElement crashes?</p>\n"}, {"tags": ["arrays", "angular", "typescript"], "comments": [{"owner": {"reputation": 4874, "user_id": 1879665, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/216fb94dbeb798e2bcf83887ec4c1072?s=128&d=identicon&r=PG", "display_name": "Iancovici", "link": "https://stackoverflow.com/users/1879665/iancovici"}, "edited": false, "score": 2, "creation_date": 1516797175, "post_id": 48422532, "comment_id": 83834528, "body": "Are you subscribing to incoming data, and checking its length before it arrives?"}, {"owner": {"reputation": 3890, "user_id": 4335507, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/b6736076623ffcb3cd5625dfb9719dd7?s=128&d=identicon&r=PG", "display_name": "Elmer Dantas", "link": "https://stackoverflow.com/users/4335507/elmer-dantas"}, "edited": false, "score": 6, "creation_date": 1516797202, "post_id": 48422532, "comment_id": 83834548, "body": "<code>shop.length</code> is outside of a asynchronous operation...that&#39;s your problem."}, {"owner": {"reputation": 53, "user_id": 3912619, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/720956f0a431b6503b461d506142eee4?s=128&d=identicon&r=PG&f=1", "display_name": "user3912619", "link": "https://stackoverflow.com/users/3912619/user3912619"}, "edited": false, "score": 0, "creation_date": 1516797436, "post_id": 48422532, "comment_id": 83834681, "body": "but the console log which is before my if statement works why?"}, {"owner": {"reputation": 630270, "user_id": 571407, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2f0d9dec16bae1e06552af55ddefc11f?s=128&d=identicon&r=PG", "display_name": "JB Nizet", "link": "https://stackoverflow.com/users/571407/jb-nizet"}, "edited": false, "score": 0, "creation_date": 1516797448, "post_id": 48422532, "comment_id": 83834688, "body": "Analogy: why is my bread not toasted right after I put it in the toaster? Answer: because it will only be toasted when the toaster tells you that it has finished toasting the bread. I.e. once the <code>function (querySnapshot)</code> has been called, asynchronously, after the db has loaded all the data from the server."}], "answers": [{"tags": [], "owner": {"reputation": 204677, "user_id": 75525, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/IYU63.png?s=128&g=1", "display_name": "Fenton", "link": "https://stackoverflow.com/users/75525/fenton"}, "is_accepted": true, "score": 1, "last_activity_date": 1516801930, "creation_date": 1516801930, "answer_id": 48424147, "question_id": 48422532, "link": "https://stackoverflow.com/questions/48422532/why-does-typescript-report-a-length-of-0-when-there-are-2-items-in-the-array/48424147#48424147", "title": "Why does Typescript report a length of 0 when there are 2 items in the array", "body": "<p>To <em>reliably</em> get the length, you need to make sure you wait for a result.</p>\n\n<pre><code>  this.db.collection(\"Countries\").doc(\"AU\")\n    .collection(\"cPostcode\").doc(this.searchby)\n    .collection(this.shop).where(how, '==', true)\n    .onSnapshot((querySnapshot) =&gt; {\n        // In here, we have data\n        querySnapshot.forEach((doc) =&gt; {\n            shop.push(doc.data());\n        });\n\n        console.log('shop.length', shop.length, 'Shop', shop);\n\n        // Therefore, shop.length should work _reliably_\n        if (shop.length) {\n            alert(shop.length);\n        }\n  });\n</code></pre>\n\n<p>Alternatives include using promises, or calling a function when you have the result (rather than just chucking all the code inside that callback function).</p>\n"}], "owner": {"reputation": 53, "user_id": 3912619, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/720956f0a431b6503b461d506142eee4?s=128&d=identicon&r=PG&f=1", "display_name": "user3912619", "link": "https://stackoverflow.com/users/3912619/user3912619"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 318, "favorite_count": 0, "accepted_answer_id": 48424147, "answer_count": 1, "score": 1, "last_activity_date": 1516801930, "creation_date": 1516797012, "last_edit_date": 1516801856, "question_id": 48422532, "link": "https://stackoverflow.com/questions/48422532/why-does-typescript-report-a-length-of-0-when-there-are-2-items-in-the-array", "title": "Why does Typescript report a length of 0 when there are 2 items in the array", "body": "<p>The response from a Firestore onSnapshot is 2 records which I push into an array named shop.</p>\n\n<pre><code>this.db.collection(\"Countries\").doc(\"AU\")\n    .collection(\"cPostcode\").doc(this.searchby)\n    .collection(this.shop).where(how, '==', true)\n    .onSnapshot(function (querySnapshot) {\n        querySnapshot.forEach(function (doc) {\n            shop.push(doc.data());\n        })\n    });\n    console.log('shop.length', shop.length, 'Shop', shop);\n    if (shop.length) {\n        this.shopList = shop; .........\n</code></pre>\n\n<p>I use <code>shop.length &gt; 0</code> to know if any data is returned, but even though there are 2 items in the array, <code>shop.length</code> equals to 0.</p>\n\n<p>Output from the console log shows <code>length:2</code>-</p>\n\n<pre><code>shop.length 0 shop []\n    0:{ABN: \"1\", ACN: \"2\"}\n    1:{ABN: \"3\", ACN: \"4\"}\n    length:2\n    __proto__:Array(0)\n</code></pre>\n\n<p>I have tried putting a flag in the forEach, but it goes out of scope so does the  \"this.count\" variable I tried. I have been working on this on and off for days. I have googled this problem and general Typescript help, but no one else seems to have this problem. What am I doing wrong?  </p>\n"}, {"tags": ["angular", "typescript", "templates", "recursion", "components"], "comments": [{"owner": {"reputation": 483726, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 3, "creation_date": 1516882009, "post_id": 48422305, "comment_id": 83876182, "body": "A question should contain the essential parts directly instead of linking to an external resource."}, {"owner": {"reputation": 43, "user_id": 1910169, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/U691h.jpg?s=128&g=1", "display_name": "Skyverian", "link": "https://stackoverflow.com/users/1910169/skyverian"}, "reply_to_user": {"reputation": 483726, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1517394299, "post_id": 48422305, "comment_id": 84074688, "body": "thanks have updated the question and hope it does some clarification what my question is."}, {"owner": {"reputation": 483726, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1517394830, "post_id": 48422305, "comment_id": 84075017, "body": "As far as I remember dynamically added components and directives are not found by <code>@ContentChild()</code>. <code>&lt;ul-title ...&gt;&lt;ul-item ...&gt;...&lt;&#47;ul-item&gt;&lt;&#47;ul-title&gt;</code> makes it work one level deep because they are statically added in the template. What are you trying to accomplish? Perhaps using a shared service is a better way?"}, {"owner": {"reputation": 43, "user_id": 1910169, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/U691h.jpg?s=128&g=1", "display_name": "Skyverian", "link": "https://stackoverflow.com/users/1910169/skyverian"}, "reply_to_user": {"reputation": 483726, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1517411084, "post_id": 48422305, "comment_id": 84086008, "body": "I&#39;m trying to accomplish a tree view with expanding items with headers in it. But why wouldn&#39;t components and directive found if they are dynamically added by the template but when it is dynamically added on some other way it would recognize."}, {"owner": {"reputation": 483726, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 1, "creation_date": 1517411263, "post_id": 48422305, "comment_id": 84086138, "body": "What do you mean by &quot;dynamically added on some other way&quot;. I don&#39;t think it works if they were dynamically added. If you add a component dynamically then the components inside that components template are still statically added to that component. With statically added I mean - written into the template of a component. In your example <code>&lt;ul-title&gt;</code> as parent and <code>&lt;ul-item&gt;</code> as child are added statically to the components template. The content of the template is added dynamically - according to my understanding of things."}, {"owner": {"reputation": 43, "user_id": 1910169, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/U691h.jpg?s=128&g=1", "display_name": "Skyverian", "link": "https://stackoverflow.com/users/1910169/skyverian"}, "reply_to_user": {"reputation": 483726, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1517411824, "post_id": 48422305, "comment_id": 84086498, "body": "What i meant was if I got an component <code>&lt;ul-title&gt;</code> with an &#39;ng-content&#39; and in the &#39;ng-content&#39;. When something triggers to add an <code>&lt;ul-item&gt;</code> in the ng-content container. It will be discovered from what I understand.  And if it&#39;s in the template then I would use @ViewChildren, but that doesn&#39;t work too."}, {"owner": {"reputation": 483726, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1517411964, "post_id": 48422305, "comment_id": 84086607, "body": "So, what&#39;s the problem of using a shared service instead of accessing components directly? Usually this is the better approach anyway."}, {"owner": {"reputation": 43, "user_id": 1910169, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/U691h.jpg?s=128&g=1", "display_name": "Skyverian", "link": "https://stackoverflow.com/users/1910169/skyverian"}, "reply_to_user": {"reputation": 483726, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1517412072, "post_id": 48422305, "comment_id": 84086687, "body": "As I read your comment I understand what you meant by how the ng-template works and why it doesn&#39;t detect the added components."}, {"owner": {"reputation": 483726, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1517412234, "post_id": 48422305, "comment_id": 84086793, "body": "I don&#39;t know if it is explicitly stated anywhere that it should find children or content added using a template. In my experience it doesn&#39;t, but I don&#39;t have deep knowledge in this area."}, {"owner": {"reputation": 43, "user_id": 1910169, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/U691h.jpg?s=128&g=1", "display_name": "Skyverian", "link": "https://stackoverflow.com/users/1910169/skyverian"}, "reply_to_user": {"reputation": 483726, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1517412328, "post_id": 48422305, "comment_id": 84086884, "body": "Oh about the shared service approach, I have though of that but it&#39;s not that elegant cause it&#39;s an extra <code>thing</code>. If you look at how the way it got to work."}, {"owner": {"reputation": 483726, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1517412425, "post_id": 48422305, "comment_id": 84086960, "body": "I think a shared service would be a more elegant solution."}, {"owner": {"reputation": 43, "user_id": 1910169, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/U691h.jpg?s=128&g=1", "display_name": "Skyverian", "link": "https://stackoverflow.com/users/1910169/skyverian"}, "reply_to_user": {"reputation": 483726, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1517412692, "post_id": 48422305, "comment_id": 84087148, "body": "But then you need to have an extra service for components that interact each other when they can read the value of each other if it&#39;s in a template. Isn&#39;t that a lil bit overkill?"}, {"owner": {"reputation": 483726, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1517413202, "post_id": 48422305, "comment_id": 84087480, "body": "I don&#39;t think a service is overkill. It&#39;s usually the best solution if you don&#39;t have direct parent-child relation where you can use <code>[inputInChild]=&quot;fieldInParent&quot;</code>"}, {"owner": {"reputation": 43, "user_id": 1910169, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/U691h.jpg?s=128&g=1", "display_name": "Skyverian", "link": "https://stackoverflow.com/users/1910169/skyverian"}, "reply_to_user": {"reputation": 483726, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1517413492, "post_id": 48422305, "comment_id": 84087685, "body": "For example: <code>&lt;ul-header&gt; &lt;ul-item ngFor=&#39;item in items&#39;&gt; &lt;ul-header ngFor=&#39;header in items.header&#39;&gt; &lt;ul-item ngFor=&#39;childItem in header.items&#39;&gt;&lt;&#47;ul-item&gt; &lt;&#47;ul-header&gt; &lt;&#47;ul-item&gt; &lt;&#47;ul-header&gt;</code>   And in the item and header you have some ngIf of the @contentchildren.   It will work like this so what you want is to clean a bit code to make an recursive template and for that to make it work you&#39;ll have to make an service :/, that&#39;s what i mean by overkill"}, {"owner": {"reputation": 483726, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1517414294, "post_id": 48422305, "comment_id": 84088267, "body": "It&#39;s common that people consider a service overkill, but I can&#39;t see it this way. I prefer dumb components anyway and therefore a service is usually the preferred way of doing many things in Angular. A service is very lightweight. I don&#39;t get why people think it&#39;s overkill."}], "owner": {"reputation": 43, "user_id": 1910169, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/U691h.jpg?s=128&g=1", "display_name": "Skyverian", "link": "https://stackoverflow.com/users/1910169/skyverian"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 251, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1517394211, "creation_date": 1516796241, "last_edit_date": 1517394211, "question_id": 48422305, "link": "https://stackoverflow.com/questions/48422305/angular-component-in-a-recursive-ng-template", "title": "Angular component in a recursive ng-template", "body": "<p>I have a question about recursion of ng-template and getting the components which are produces by the ng-template, which looks will like this:</p>\n\n<pre><code>&lt;template #recursion&gt;\n    &lt;header&gt;\n        &lt;item&gt;\n            &lt;repeat template #recursion&gt;&lt;repeat&gt;\n        &lt;/item&gt;\n    &lt;/header&gt;\n&lt;template&gt;\n</code></pre>\n\n<p>When I use @ContentChildren on the header you'll get a list of the items of the ng-content but when you use @ContentChildren on the item then you won't get a list of headers which is in the ng-content.</p>\n\n<p>What I expected was that @ContentChildren on the items would return an list of headers which are produced by the ng-template.</p>\n\n<p>Example of mine: <a href=\"https://stackblitz.com/edit/angular-qhzpw1\" rel=\"nofollow noreferrer\">Stackblitz</a></p>\n\n<p>How can i solve this? I have tried with a lot of different solution but it just doesn't work.</p>\n\n<p>Thanks :)</p>\n"}, {"tags": ["typescript", "interface", "typescript-typings"], "comments": [{"owner": {"reputation": 2901, "user_id": 1734815, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/pB5aj.png?s=128&g=1", "display_name": "Danielo515", "link": "https://stackoverflow.com/users/1734815/danielo515"}, "edited": false, "score": 0, "creation_date": 1614758696, "post_id": 48421319, "comment_id": 117479521, "body": "I think this should be a language feature, so I opened an issue about it <a href=\"https://github.com/microsoft/TypeScript/issues/43057\" rel=\"nofollow noreferrer\">github.com/microsoft/TypeScript/issues/43057</a>"}], "answers": [{"comments": [{"owner": {"reputation": 522, "user_id": 769086, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/q2QNi.jpg?s=128&g=1", "display_name": "Touchpad", "link": "https://stackoverflow.com/users/769086/touchpad"}, "edited": false, "score": 0, "creation_date": 1516794973, "post_id": 48421561, "comment_id": 83833187, "body": "Hi, thanks, I am however already to deep into the array for my liking, I would like to not add an extra layer specially if the only reason for doing so is to get the interface working"}, {"owner": {"reputation": 1087, "user_id": 5439109, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/q4rVC.jpg?s=128&g=1", "display_name": "Hey24sheep", "link": "https://stackoverflow.com/users/5439109/hey24sheep"}, "reply_to_user": {"reputation": 522, "user_id": 769086, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/q2QNi.jpg?s=128&g=1", "display_name": "Touchpad", "link": "https://stackoverflow.com/users/769086/touchpad"}, "edited": false, "score": 0, "creation_date": 1516795079, "post_id": 48421561, "comment_id": 83833257, "body": "@Touchpad You could only use the IDictionary interface as it is generic. You don&#39;t need to change anything. Arrays will work too as the type will be any."}, {"owner": {"reputation": 1087, "user_id": 5439109, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/q4rVC.jpg?s=128&g=1", "display_name": "Hey24sheep", "link": "https://stackoverflow.com/users/5439109/hey24sheep"}, "reply_to_user": {"reputation": 522, "user_id": 769086, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/q2QNi.jpg?s=128&g=1", "display_name": "Touchpad", "link": "https://stackoverflow.com/users/769086/touchpad"}, "edited": false, "score": 0, "creation_date": 1516795458, "post_id": 48421561, "comment_id": 83833490, "body": "@Touchpad I have updated my answer to include another approach."}, {"owner": {"reputation": 522, "user_id": 769086, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/q2QNi.jpg?s=128&g=1", "display_name": "Touchpad", "link": "https://stackoverflow.com/users/769086/touchpad"}, "edited": false, "score": 0, "creation_date": 1516795868, "post_id": 48421561, "comment_id": 83833784, "body": "1st Method would result in an extra layer (<code>route</code>). as for the second method, I would really like to avoid the use of <code>any</code> if possible"}, {"owner": {"reputation": 1087, "user_id": 5439109, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/q4rVC.jpg?s=128&g=1", "display_name": "Hey24sheep", "link": "https://stackoverflow.com/users/5439109/hey24sheep"}, "reply_to_user": {"reputation": 522, "user_id": 769086, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/q2QNi.jpg?s=128&g=1", "display_name": "Touchpad", "link": "https://stackoverflow.com/users/769086/touchpad"}, "edited": false, "score": 0, "creation_date": 1516796811, "post_id": 48421561, "comment_id": 83834327, "body": "@Touchpad I got your point check my latest update. I hope it helps you."}], "tags": [], "owner": {"reputation": 1087, "user_id": 5439109, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/q4rVC.jpg?s=128&g=1", "display_name": "Hey24sheep", "link": "https://stackoverflow.com/users/5439109/hey24sheep"}, "is_accepted": true, "score": 3, "last_activity_date": 1516796783, "last_edit_date": 1516796783, "creation_date": 1516793757, "answer_id": 48421561, "question_id": 48421319, "link": "https://stackoverflow.com/questions/48421319/typescript-creating-interface-for-object-with-both-dynamic-and-static-keys/48421561#48421561", "title": "Typescript creating interface for object with both dynamic and static keys", "body": "<p>You could do something like this. You are trying to create a dictionary so this might help.</p>\n\n<p>To have a clean code </p>\n\n<p><strong>1st Method</strong></p>\n\n<pre><code>interface IDictionary&lt;T&gt; {\n    [key: string]: T;\n}\n\ninterface iObject {\n    token: string;\n    route: IDictionary&lt;any[]&gt;;\n}\n\n//Use it like this\nvar obj: iObject = {\n            token: \"thisismytoken\",\n            route: {\n                \"/path/to/somewhere\": [{\n                    pathName: 'somewhere'\n                }]\n            }\n        };\n</code></pre>\n\n<p>Here is a <a href=\"https://www.typescriptlang.org/play/#src=interface%20IDictionary%3CT%3E%20%7B%0D%0A%20%20%20%20%5Bkey%3A%20string%5D%3A%20T%3B%0D%0A%7D%0D%0A%0D%0Ainterface%20iObject%20%7B%0D%0A%20%20%20%20token%3A%20string%3B%0D%0A%20%20%20%20route%3A%20IDictionary%3Cany%5B%5D%3E%3B%0D%0A%7D%0D%0A%0D%0A%0D%0Aclass%20createToken%20%7B%0D%0A%20%20%20%20public%20obj%3A%20iObject%3B%0D%0A%20%20%20%20constructor(public%20tokenVal%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20public%20route%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20public%20routeName)%20%7B%0D%0A%20%20%20%20var%20self%20%3D%20this%3B%0D%0A%20%20%20%20self.obj%20%3D%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20token%3A%20self.tokenVal%2C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20route%3A%20%7B%7D%0D%0A%20%20%20%20%20%20%20%20%7D%3B%0D%0A%20%20%20%20%20%20%20%20%0D%0A%20%20%20%20self.obj.route%5Bself.route%5D%20%3D%20%5B%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%22Route%20Name%22%20%3A%20self.routeName%0D%0A%20%20%20%20%20%20%20%20%7D%5D%3B%0D%0A%20%20%20%20%20%20%20%20%0D%0A%20%20%20%20%7D%0D%0A%7D%0D%0A%0D%0Avar%20tokenInfo%20%3D%20new%20createToken(%22asd234%22%2C%20%22path%2Fto%2Fyou%22%2C%20%22Home%22)%3B%0D%0A%0D%0Adocument.body.innerHTML%20%3D%20JSON.stringify(tokenInfo.obj)%3B\" rel=\"nofollow noreferrer\">working typescript playground</a></p>\n\n<p><strong>2nd Method</strong> based on your last try</p>\n\n<p>When I try something like:</p>\n\n<blockquote>\n  <p>interface iObject {   [key: string]: { ... }[] | string; }</p>\n</blockquote>\n\n<pre><code>    interface IDictionary&lt;T&gt; {\n        [key: string]: T;\n    }\n\n    var obj: IDictionary&lt;any&gt; = {\n            token: \"asdf123\",\n            \"path/to/somewhere\": [{\n                data: 'something'\n            }]\n        };\n</code></pre>\n\n<blockquote>\n  <p>TS2339: Property 'push' does not exist on type 'string | { ... }[]'.\n  Property 'push' does not exist on type 'string'.</p>\n</blockquote>\n\n<p><strong>3rd Method</strong></p>\n\n<p>You could typecast your obj like so</p>\n\n<pre><code>interface iObject {\n  [key: string]: Array&lt;object&gt; | string;\n}\n\nself.obj = {\n            token: self.tokenVal\n        };\n        self.obj[self.route] = [{ \"routeName\": self.routeName }];\n\n        (&lt;Array&lt;object&gt;&gt;self.obj[self.route]).push({\n            \"zip\": \"123456\"\n        });\n</code></pre>\n\n<p>Also refer to <a href=\"https://www.typescriptlang.org/docs/handbook/advanced-types.html\" rel=\"nofollow noreferrer\">Advanced Types</a></p>\n"}, {"comments": [{"owner": {"reputation": 10568, "user_id": 1525495, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/imb0b.jpg?s=128&g=1", "display_name": "Jorge Fuentes Gonz&#225;lez", "link": "https://stackoverflow.com/users/1525495/jorge-fuentes-gonz%c3%a1lez"}, "edited": false, "score": 0, "creation_date": 1613151558, "post_id": 48422383, "comment_id": 116996835, "body": "Not working when assigning the type: <a href=\"https://femto.pw/hej8\" rel=\"nofollow noreferrer\">femto.pw/hej8</a>"}, {"owner": {"reputation": 2901, "user_id": 1734815, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/pB5aj.png?s=128&g=1", "display_name": "Danielo515", "link": "https://stackoverflow.com/users/1734815/danielo515"}, "edited": false, "score": 0, "creation_date": 1614754229, "post_id": 48422383, "comment_id": 117478071, "body": "This is incorrect. Please, don&#39;t suggest a solution that doesn&#39;t work at all"}], "tags": [], "owner": {"reputation": 1666, "user_id": 2830131, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/19FFr.png?s=128&g=1", "display_name": "Tao", "link": "https://stackoverflow.com/users/2830131/tao"}, "is_accepted": false, "score": 4, "last_activity_date": 1516796522, "creation_date": 1516796522, "answer_id": 48422383, "question_id": 48421319, "link": "https://stackoverflow.com/questions/48421319/typescript-creating-interface-for-object-with-both-dynamic-and-static-keys/48422383#48422383", "title": "Typescript creating interface for object with both dynamic and static keys", "body": "<p>You can use intersection types for this:</p>\n\n<pre><code>type iObject = {\n    token: string\n} &amp; {\n    [key: string]: { ... }[]\n}\n</code></pre>\n\n<p>But note that the indexed type doesn't limit you to one property. What you probably would need are regex validated keys, which <a href=\"https://github.com/Microsoft/TypeScript/pull/21044\" rel=\"nofollow noreferrer\">might come in the future</a>.</p>\n"}], "owner": {"reputation": 522, "user_id": 769086, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/q2QNi.jpg?s=128&g=1", "display_name": "Touchpad", "link": "https://stackoverflow.com/users/769086/touchpad"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1228, "favorite_count": 0, "accepted_answer_id": 48421561, "answer_count": 2, "score": 3, "last_activity_date": 1516796783, "creation_date": 1516793034, "question_id": 48421319, "link": "https://stackoverflow.com/questions/48421319/typescript-creating-interface-for-object-with-both-dynamic-and-static-keys", "title": "Typescript creating interface for object with both dynamic and static keys", "body": "<p>I'm trying to learn typescript and I've hit a road bump when it comes to the interfaces, I have a object that I want to save one <code>token</code> and one <code>route</code> in as follows</p>\n\n<pre><code>const obj = {\n  token: 'thisismytoken',\n  '/path/to/somewhere': [{ ... }]\n}\n</code></pre>\n\n<p>The problem I'm having here is: how do I generate the interface for this object?</p>\n\n<p>I've tried:</p>\n\n<pre><code>interface iObject {\n  token: string;\n  [key: string]: { ... }[]\n}\n</code></pre>\n\n<p>but this generates the error:</p>\n\n<blockquote>\n  <p>TS2411: Property 'token' of type 'string' is not assignable to string index type '{ ... }'.</p>\n</blockquote>\n\n<p>same thing happens when I try something like:</p>\n\n<pre><code>interface iRoute {\n  val1: number;\n  val2: string;\n}\n\ninterface iObject extends iRoute {\n  token: string;\n}\n</code></pre>\n\n<p>When I try something like:</p>\n\n<pre><code>interface iObject {\n  [key: string]: { ... }[] | string;\n}\n</code></pre>\n\n<p>I get the following error when I try to add data to the route variable:</p>\n\n<blockquote>\n  <p>TS2339: Property 'push' does not exist on type 'string | { ... }[]'.<br>\n  Property 'push' does not exist on type 'string'.</p>\n</blockquote>\n\n<p>is there any other way to go about doing this?</p>\n"}, {"tags": ["angular", "typescript", "observable"], "answers": [{"tags": [], "owner": {"reputation": 57402, "user_id": 5496973, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JH9iD.jpg?s=128&g=1", "display_name": "Suren Srapyan", "link": "https://stackoverflow.com/users/5496973/suren-srapyan"}, "is_accepted": true, "score": 1, "last_activity_date": 1516787517, "creation_date": 1516787517, "answer_id": 48419394, "question_id": 48419363, "link": "https://stackoverflow.com/questions/48419363/update-observable-timer-in-angular/48419394#48419394", "title": "Update Observable timer in Angular", "body": "<p>Observable is currently created with the given time. You can't change that given time to affect the observable. So you need to unsubscribe and create another one.</p>\n"}, {"tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user4676340"}, "is_accepted": false, "score": 1, "last_activity_date": 1516788306, "creation_date": 1516788306, "answer_id": 48419667, "question_id": 48419363, "link": "https://stackoverflow.com/questions/48419363/update-observable-timer-in-angular/48419667#48419667", "title": "Update Observable timer in Angular", "body": "<p>You could try this : </p>\n\n<pre><code>createDelayedObservable(delay: number): Observable&lt;any&gt; {\n  return Observable.of('value').delay(delay);\n}\n\nsub  = createDelayedObservable(1000).subscribe(res =&gt; {/* ... */ });\n</code></pre>\n"}], "owner": {"reputation": 183, "user_id": 4408533, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/QIBLU.jpg?s=128&g=1", "display_name": "Poorman", "link": "https://stackoverflow.com/users/4408533/poorman"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 736, "favorite_count": 0, "accepted_answer_id": 48419394, "answer_count": 2, "score": 1, "last_activity_date": 1516788306, "creation_date": 1516787442, "last_edit_date": 1516787744, "question_id": 48419363, "link": "https://stackoverflow.com/questions/48419363/update-observable-timer-in-angular", "title": "Update Observable timer in Angular", "body": "<p>I would like to change dynamically the Observable timer setting.</p>\n\n<pre><code>    this.speed = 1000;\n    let timer = Observable.timer(1, this.speed);\n\n    sub = timer.subscribe(t =&gt; {\n        if (t == 10) {\n            this.speed = 500;\n        }\n    });\n</code></pre>\n\n<p>If for example, after X seconds, I set the <code>this.speed = 500</code>.</p>\n\n<p>The example above doesn't work. Is it possible, or I have to unsubscribe this one and create a new one?</p>\n"}, {"tags": ["angular", "typescript"], "answers": [{"tags": [], "owner": {"reputation": 12464, "user_id": 7497763, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/VQEbN.png?s=128&g=1", "display_name": "cyr_x", "link": "https://stackoverflow.com/users/7497763/cyr-x"}, "is_accepted": true, "score": 0, "last_activity_date": 1516786591, "creation_date": 1516786591, "answer_id": 48419085, "question_id": 48418994, "link": "https://stackoverflow.com/questions/48418994/change-the-style-of-an-element-by-the-router-path/48419085#48419085", "title": "Change the style of an element by the router path", "body": "<p>You should use the build in directive called <a href=\"https://angular.io/api/router/RouterLinkActive\" rel=\"nofollow noreferrer\"><strong>RouterLinkActive</strong></a>, which sets a css class based on the current active route.</p>\n\n<p>Use it like this:</p>\n\n<pre><code>&lt;nav&gt;\n  &lt;a routerLink=\"/hello\" routerLinkActive=\"selected\"&gt;Hello&lt;/a&gt;\n  &lt;a routerLink=\"/world\" routerLinkActive=\"selected\"&gt;World&lt;/a&gt;\n&lt;/nav&gt;\n</code></pre>\n"}], "owner": {"reputation": 17, "user_id": 8899643, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d056a39572062195776797bda390643c?s=128&d=identicon&r=PG&f=1", "display_name": "floboe", "link": "https://stackoverflow.com/users/8899643/floboe"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 44, "favorite_count": 0, "accepted_answer_id": 48419085, "answer_count": 1, "score": 0, "last_activity_date": 1516786591, "creation_date": 1516786309, "question_id": 48418994, "link": "https://stackoverflow.com/questions/48418994/change-the-style-of-an-element-by-the-router-path", "title": "Change the style of an element by the router path", "body": "<p>I've got a parent component which holds in the HTML a navigation-element and shows different components depending on which link is chosen, e.g.</p>\n\n<pre><code>&lt;nav&gt;\n    &lt;a routerLink=\"/hello\"&gt;Hello&lt;/a&gt;\n    &lt;a routerLink=\"/world\"&gt;World&lt;/a&gt;\n&lt;/nav&gt;\n&lt;router-outlet&gt;&lt;/router-outlet&gt;\n</code></pre>\n\n<p>Now, I want to change the style of the navigation-link, that is chosen. So I declared a variable in the TypeScript file and initialized it with \"hello\", because that is the path that is loaded at the start of the Application:</p>\n\n<pre><code>selected: string = 'hello';\n</code></pre>\n\n<p>and a method:</p>\n\n<pre><code>setSelected(selected: string): void {\n    this.selected = selected;\n}\n</code></pre>\n\n<p>and changed the navigation to:</p>\n\n<pre><code>&lt;nav&gt;\n     &lt;a routerLink=\"/hello\" [class.selected]=\"selected == 'hello'\" \n         (click)=\"setSelected('hello');\"&gt;Hello&lt;/a&gt;\n     &lt;a routerLink=\"/world\" [class.selected]=\"selected == 'world'\"\n         (click)=\"setSelected('wolrd');\"&gt;World&lt;/a&gt;\n&lt;/nav&gt;\n</code></pre>\n\n<p>In the CSS-sheet, I declarde the styles for the selected-class.</p>\n\n<p>So far, this is working quite well, instead of one problem:\nIf I reload the page at the /world-path, the \"Hello\"-link is styled as selected, because the variable is initialized again, but the router-outlett still shows the content of /world.</p>\n\n<p><strong>Is there a way, to change the style by using the current router-path, instead of the click-event or is there completely different way to solve this problem?</strong></p>\n"}, {"tags": ["javascript", "c#", "typescript", "typelite"], "answers": [{"comments": [{"owner": {"reputation": 134355, "user_id": 120955, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/3653360c9b96b1ae5e39067c9e18183c?s=128&d=identicon&r=PG", "display_name": "StriplingWarrior", "link": "https://stackoverflow.com/users/120955/striplingwarrior"}, "edited": false, "score": 0, "creation_date": 1555348512, "post_id": 48419963, "comment_id": 98071102, "body": "FWIW I figured out that webpack seemed to ignore imports for any files that had a <code>&#47;&#47;&#47; &lt;reference ...</code> tag for them, so I was able to get constants working as imported modules only after moving the constants to a separate file."}], "tags": [], "owner": {"reputation": 36989, "user_id": 3850405, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/b2b9eece8c493ba7ddcff82f845ff2af?s=128&d=identicon&r=PG&f=1", "display_name": "Ogglas", "link": "https://stackoverflow.com/users/3850405/ogglas"}, "is_accepted": true, "score": 0, "last_activity_date": 1516789105, "creation_date": 1516789105, "answer_id": 48419963, "question_id": 48418792, "link": "https://stackoverflow.com/questions/48418792/typelite-typescript-enum-runtime-error-uncaught-referenceerror-tsenum-is/48419963#48419963", "title": "TypeLite -&gt; TypeScript Enum -&gt; Runtime error: Uncaught ReferenceError: TSEnum is not defined", "body": "<p>Could not find a good solution so I decided to create a new enum object that can be used in front end. I removed <code>.AsConstEnums(false)</code> from <code>TypeLite.Net4.d.tt</code> and created the following code:</p>\n\n<pre><code>export enum TSEnumObject {\n    None = CustomEnum.TSEnum.None,\n    Test = CustomEnum.TSEnum.Test\n}\n\nconsole.log(TSEnumObject[TSEnumObject.None]);\n</code></pre>\n"}], "owner": {"reputation": 36989, "user_id": 3850405, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/b2b9eece8c493ba7ddcff82f845ff2af?s=128&d=identicon&r=PG&f=1", "display_name": "Ogglas", "link": "https://stackoverflow.com/users/3850405/ogglas"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 578, "favorite_count": 0, "accepted_answer_id": 48419963, "answer_count": 1, "score": 1, "last_activity_date": 1516789105, "creation_date": 1516785636, "last_edit_date": 1516787437, "question_id": 48418792, "link": "https://stackoverflow.com/questions/48418792/typelite-typescript-enum-runtime-error-uncaught-referenceerror-tsenum-is", "title": "TypeLite -&gt; TypeScript Enum -&gt; Runtime error: Uncaught ReferenceError: TSEnum is not defined", "body": "<p>We are using TypeLite to generate Enums in TypeScript.</p>\n\n<p>C#:</p>\n\n<pre><code>[TsEnum(Module = \"CustomEnum\")]\npublic enum TSEnum {\n    None,\n    Test\n}\n</code></pre>\n\n<p><a href=\"http://type.litesolutions.net/\" rel=\"nofollow noreferrer\">http://type.litesolutions.net/</a></p>\n\n<p>Generates this code in a file called Enums.ts:</p>\n\n<pre><code>namespace CustomEnum {\n    export enum TSEnum {\n        None = 0,\n        Test =1\n    }\n}\n</code></pre>\n\n<p>As default TypeLite generates a <code>const enum</code> but in order to be able to get the names of the TypeScript enum entry <code>const</code> has been removed. This was done by editing <code>TypeLite.Net4.tt</code> and changing:</p>\n\n<pre><code>&lt;# var ts = TypeScript.Definitions()\n        .WithReference(\"Enums.ts\")\n        .ForLoadedAssemblies();\n#&gt;\n</code></pre>\n\n<p>To this:</p>\n\n<pre><code>&lt;# var ts = TypeScript.Definitions()\n        .WithReference(\"Enums.ts\")\n        .ForLoadedAssemblies()\n        .AsConstEnums(false);\n#&gt;\n</code></pre>\n\n<p><a href=\"https://bitbucket.org/LukasKabrt/typelite/issues/96/allow-option-of-export-const-enum-to-be\" rel=\"nofollow noreferrer\">https://bitbucket.org/LukasKabrt/typelite/issues/96/allow-option-of-export-const-enum-to-be</a></p>\n\n<p><a href=\"https://www.typescriptlang.org/docs/handbook/enums.html#const-enums\" rel=\"nofollow noreferrer\">https://www.typescriptlang.org/docs/handbook/enums.html#const-enums</a></p>\n\n<p>I do not get any compile warning but at runtime I get the following error </p>\n\n<blockquote>\n  <p>Uncaught ReferenceError: TSEnum is not defined</p>\n</blockquote>\n\n<p>Code generating error:</p>\n\n<pre><code>console.log(CustomEnum.TSEnum[CustomEnum.TSEnum.None]);\n</code></pre>\n\n<p>Or simply:</p>\n\n<pre><code>console.log(CustomEnum.TSEnum.None);\n</code></pre>\n\n<p><a href=\"https://stackoverflow.com/a/36743651/3850405\">https://stackoverflow.com/a/36743651/3850405</a></p>\n\n<p>If I however write it like this everything works:</p>\n\n<pre><code>enum TSEnum {\n    None = 0,\n    Test = 1,\n}\n\nconsole.log(TSEnum[TSEnum.None]);\n</code></pre>\n\n<p>What can I do to fix this? I'm using <code>webpack</code> for bundling if this could affect something. I have tried to import the Enums but it does not make any difference.</p>\n\n<pre><code>import '../../../Scripts/Enums';\n</code></pre>\n\n<p>If I manually entered <code>export</code> to <code>CustomEnum</code> and then imported the enum the code worked but the declarations that used <code>CustomEnum.TSEnum</code> in <code>TypeLite.Net4.d.tt</code> could no longer find the property.</p>\n\n<pre><code>import { TouchPoint } from '../../../Scripts/Enums';\n</code></pre>\n\n<p>Enums.ts:</p>\n\n<pre><code>export namespace CustomEnum {\n    export enum TSEnum {\n        None = 0,\n        Test =1\n    }\n}\n</code></pre>\n"}, {"tags": ["node.js", "typescript", "visual-studio-code", "bluebird"], "comments": [{"owner": {"reputation": 89878, "user_id": 1945651, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/9J4D8.png?s=128&g=1", "display_name": "JLRishe", "link": "https://stackoverflow.com/users/1945651/jlrishe"}, "edited": false, "score": 0, "creation_date": 1516796942, "post_id": 48418758, "comment_id": 83834396, "body": "What version of TypeScript are you using? It&#39;s possible that you have an old version which does not natively define the <code>Map</code> type."}, {"owner": {"reputation": 29, "user_id": 8404839, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5a43c569516d625cb0d9c93d8a222b85?s=128&d=identicon&r=PG&f=1", "display_name": "D.Papo", "link": "https://stackoverflow.com/users/8404839/d-papo"}, "reply_to_user": {"reputation": 89878, "user_id": 1945651, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/9J4D8.png?s=128&g=1", "display_name": "JLRishe", "link": "https://stackoverflow.com/users/1945651/jlrishe"}, "edited": false, "score": 0, "creation_date": 1516891446, "post_id": 48418758, "comment_id": 83882752, "body": "Typescript Version :  2.6.2"}, {"owner": {"reputation": 89878, "user_id": 1945651, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/9J4D8.png?s=128&g=1", "display_name": "JLRishe", "link": "https://stackoverflow.com/users/1945651/jlrishe"}, "edited": false, "score": 0, "creation_date": 1516899321, "post_id": 48418758, "comment_id": 83888662, "body": "I see. Pretty sure that version should support <code>Map&lt;K, V&gt;</code>."}], "owner": {"reputation": 29, "user_id": 8404839, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5a43c569516d625cb0d9c93d8a222b85?s=128&d=identicon&r=PG&f=1", "display_name": "D.Papo", "link": "https://stackoverflow.com/users/8404839/d-papo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 114, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1516796517, "creation_date": 1516785528, "last_edit_date": 1516796517, "question_id": 48418758, "link": "https://stackoverflow.com/questions/48418758/visual-studio-code-typescript-why-cant-see-map-in-bluebird-package", "title": "Visual Studio Code TypeScript: why cant see map in bluebird package", "body": "<p>I'm install bluebird package in my project and does not working in my pc...</p>\n\n<p>I don't have any idea.\nThis is my code:</p>\n\n<pre><code>import * as dotenv from \"dotenv\";\nimport * as express from \"express\";\nimport * as mongoose from \"mongoose\";\nimport * as bluebird from \"bluebird\";\nimport * as session from \"express-session\";\n\n// Load environment variables from .env file, where API keys and passwords are configured\ndotenv.config({ path: \".env.myenv\" });\n\n// Controllers (route handlers)\nimport * as homeController from \"./controllers/home\";\n\n// Create Express server\nconst app = express();\n\n// Connect to MongoDB\nconst mongoUrl:any = process.env.MONGOLAB_URI;\n(&lt;any&gt;mongoose).Promise = bluebird;\nmongoose.connect(mongoUrl, {useMongoClient: true}).then(\n  () =&gt; { /** ready to use. The `mongoose.connect()` promise resolves to undefined. */ },\n).catch(err =&gt; {\n  console.log(\"MongoDB connection error. Please make sure MongoDB is running. \" + err);\n  // process.exit();\n});\n\n\napp.get(\"/\", homeController.index);\n\n\napp.listen(3000, function(){\n    console.log('Hello World');\n});\n\nmodule.exports = app;\n</code></pre>\n\n<p>When i try build for js file : tsc src/app.ts compiller catch this error</p>\n\n<p><a href=\"https://i.stack.imgur.com/r5qvG.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/r5qvG.png\" alt=\"enter image description here\"></a></p>\n\n<p>node_modules/@types/bluebird/index.d.ts  This one error :</p>\n\n<p><a href=\"https://i.stack.imgur.com/aNugx.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/aNugx.png\" alt=\"enter image description here\"></a></p>\n\n<p>and This one :\n<a href=\"https://i.stack.imgur.com/j4le5.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/j4le5.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["php", "angular", "typescript", "ionic3"], "answers": [{"comments": [{"owner": {"reputation": 376, "user_id": 7070380, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/983298e28408e7bb05e9a17eeb92d288?s=128&d=identicon&r=PG&f=1", "display_name": "Akash M", "link": "https://stackoverflow.com/users/7070380/akash-m"}, "edited": false, "score": 0, "creation_date": 1516789150, "post_id": 48418701, "comment_id": 83829507, "body": "No luck, it&#39;s not working. Do i need to use the &#39;publish&#39; in my login.ts page ?"}, {"owner": {"reputation": 742, "user_id": 6840387, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/da28683f125b489fb70ea52308b8df41?s=128&d=identicon&r=PG", "display_name": "Manoj Bhardwaj", "link": "https://stackoverflow.com/users/6840387/manoj-bhardwaj"}, "reply_to_user": {"reputation": 376, "user_id": 7070380, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/983298e28408e7bb05e9a17eeb92d288?s=128&d=identicon&r=PG&f=1", "display_name": "Akash M", "link": "https://stackoverflow.com/users/7070380/akash-m"}, "edited": false, "score": 0, "creation_date": 1516789999, "post_id": 48418701, "comment_id": 83830107, "body": "Try with navParams"}], "tags": [], "owner": {"reputation": 742, "user_id": 6840387, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/da28683f125b489fb70ea52308b8df41?s=128&d=identicon&r=PG", "display_name": "Manoj Bhardwaj", "link": "https://stackoverflow.com/users/6840387/manoj-bhardwaj"}, "is_accepted": true, "score": 0, "last_activity_date": 1516789596, "last_edit_date": 1516789596, "creation_date": 1516785349, "answer_id": 48418701, "question_id": 48418576, "link": "https://stackoverflow.com/questions/48418576/how-to-fetch-the-data-from-login-page-to-my-details-page-in-ionic-3/48418701#48418701", "title": "How to Fetch the data from Login page to My-Details Page in ionic 3", "body": "<p>By using NavParams and Events you can do that</p>\n\n<p>Events is a publish-subscribe style event system for sending and responding to application-level events across your app.</p>\n\n<p>NavParams are an object that exists on a page and can contain data for that particular view. </p>\n\n<pre><code>import { Events } from 'ionic-angular';\n\nfirst page (publish an event when a user is created)\nconstructor(public events: Events) {}\ncreateUser(user) {\n console.log('User created!')\n this.events.publish('user:created', user, Date.now());\n }\nsecond page (listen for the user created event after function is called)\nconstructor(public events: Events) {\nevents.subscribe('user:created', (user, time) =&gt; {\nuser and time are the same arguments passed in `events.publish(user, time)`\nconsole.log('Welcome', user, 'at', time);\n  });\n}\n</code></pre>\n\n<p>Refer link <a href=\"https://ionicframework.com/docs/api/util/Events/\" rel=\"nofollow noreferrer\">https://ionicframework.com/docs/api/util/Events/</a></p>\n\n<p>Or try with params</p>\n\n<pre><code> constructor(public navParams: NavParams){\n  // userParams is an object we have in our nav-parameters\n   this.customerdata=this.navParams.get('customerdata');\n  }\n</code></pre>\n"}], "owner": {"reputation": 376, "user_id": 7070380, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/983298e28408e7bb05e9a17eeb92d288?s=128&d=identicon&r=PG&f=1", "display_name": "Akash M", "link": "https://stackoverflow.com/users/7070380/akash-m"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 455, "favorite_count": 0, "accepted_answer_id": 48418701, "answer_count": 1, "score": 0, "last_activity_date": 1516789596, "creation_date": 1516784899, "question_id": 48418576, "link": "https://stackoverflow.com/questions/48418576/how-to-fetch-the-data-from-login-page-to-my-details-page-in-ionic-3", "title": "How to Fetch the data from Login page to My-Details Page in ionic 3", "body": "<p>I have login page which is working fine. Once the customer logs into account account he will be redirected to \"HomePage\" now HomePage will have all the data of customer. Below is My loginPage.ts file code which is working fine:</p>\n\n<pre><code>    this.auth.login(this.loginCredentials).subscribe(data =&gt; {\n         if(data){\n             this.customerdata = data;\n             if(this.customerdata['status_code'] == '200'){\n                 this.navCtrl.setRoot(HomePage,{customerdata: this.customerdata});\n             }else if(this.customerdata['status_code'] == '000'){\n                 this.navCtrl.setRoot(LoginPage);\n             }\n         }\n     })\n</code></pre>\n\n<p>Problem is, I have one more page \"MyDetailsPage.ts\" I want above same data in this page also. I am moving to this page through SIDE-MENU section. So I cannot use PUSH function and send data.</p>\n\n<p>So please help me out.</p>\n\n<p>Thank you,</p>\n"}, {"tags": ["angular", "typescript"], "comments": [{"owner": {"reputation": 37059, "user_id": 85597, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/pc3cE.jpg?s=128&g=1", "display_name": "Akash Kava", "link": "https://stackoverflow.com/users/85597/akash-kava"}, "edited": false, "score": 0, "creation_date": 1516787332, "post_id": 48418317, "comment_id": 83828332, "body": "You can declare a class <code>declare class Opportunity {}</code> in <code>form.ts</code> file, TypeScript will assume that class is an external class and will be available at runtime. And you can skip import in one of the class."}, {"owner": {"reputation": 6968, "user_id": 5490505, "user_type": "registered", "accept_rate": 88, "profile_image": "https://lh4.googleusercontent.com/-6-yKyG1ZZUI/AAAAAAAAAAI/AAAAAAAAABA/5a7UfitqO5Y/photo.jpg?sz=128", "display_name": "John", "link": "https://stackoverflow.com/users/5490505/john"}, "reply_to_user": {"reputation": 37059, "user_id": 85597, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/pc3cE.jpg?s=128&g=1", "display_name": "Akash Kava", "link": "https://stackoverflow.com/users/85597/akash-kava"}, "edited": false, "score": 0, "creation_date": 1516787711, "post_id": 48418317, "comment_id": 83828577, "body": "@AkashKava thanks!! I can accept this answer, and maybe this is the best solution. It&#39;s not <i>perfect</i> though because declaring the class in this manner removes various autocomplete options from my IDE (VS Code). I assume because the IDE no longer knows anything about the declared class. In order to recapture the autocomplete ability, is the only solution to manually redefine the interface?"}], "answers": [{"tags": [], "owner": {"reputation": 37059, "user_id": 85597, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/pc3cE.jpg?s=128&g=1", "display_name": "Akash Kava", "link": "https://stackoverflow.com/users/85597/akash-kava"}, "is_accepted": true, "score": 4, "last_activity_date": 1516787937, "creation_date": 1516787937, "answer_id": 48419531, "question_id": 48418317, "link": "https://stackoverflow.com/questions/48418317/circular-dependency-caused-by-importing-typescript-type/48419531#48419531", "title": "Circular dependency caused by importing typescript type", "body": "<p>You can declare a class declare class Opportunity {} in form.ts file, TypeScript will assume that class is an external class and will be available at runtime. And you can skip import in one of the class.</p>\n\n<p>The only pain here is, you have to declare methods that you will be using for example,</p>\n\n<pre><code>declare class Opportunity {\n     method1(): void;\n     method2(): number;\n}\n</code></pre>\n\n<p>This class will serve as simple declaration and will not require method body. And VS intellisense will work correctly.</p>\n"}, {"comments": [{"owner": {"reputation": 6968, "user_id": 5490505, "user_type": "registered", "accept_rate": 88, "profile_image": "https://lh4.googleusercontent.com/-6-yKyG1ZZUI/AAAAAAAAAAI/AAAAAAAAABA/5a7UfitqO5Y/photo.jpg?sz=128", "display_name": "John", "link": "https://stackoverflow.com/users/5490505/john"}, "edited": false, "score": 0, "creation_date": 1516793305, "post_id": 48420978, "comment_id": 83832198, "body": "This is <i>also</i> a very good answer!  My question was a slight simplification. On <code>Form</code> I actually have <code>public parent: FormParent;</code> where <code>type FormParent = Opportunity | ContactList;</code>. It didn&#39;t occur to me that I could make <code>FormParent</code> into an abstract class which other classes could extend. I&#39;ll definitely keep this idea in mind. However, when pulling a <code>Form</code> from the server, the JSON may contain args to construct the parent property. One advantage of the accepted answer is that, in the <code>Form</code> constructor, I can instantiate a <code>new Opportunity()</code> because opportunity has been declared."}], "tags": [], "owner": {"reputation": 204677, "user_id": 75525, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/IYU63.png?s=128&g=1", "display_name": "Fenton", "link": "https://stackoverflow.com/users/75525/fenton"}, "is_accepted": false, "score": 1, "last_activity_date": 1516792067, "creation_date": 1516792067, "answer_id": 48420978, "question_id": 48418317, "link": "https://stackoverflow.com/questions/48418317/circular-dependency-caused-by-importing-typescript-type/48420978#48420978", "title": "Circular dependency caused by importing typescript type", "body": "<p>You could remove the circular dependency by depending on abstractions, for example your <code>form</code> module could define an interface or abstract class that <code>parent</code> must confirm to.</p>\n\n<p>This would mean your <code>opportunity</code> module would depend on the <code>form</code> module, but not vice versa. You would inject a concrete <code>Opportunity</code> into the <code>Form.parent</code> property and that would be acceptable.</p>\n\n<p>This also allows you to define a <code>FormParent</code> (see below) that is a subset of <code>Opportunity</code> as you probably don't depend on <em>everything</em> in <code>Opportunity</code>.</p>\n\n<p>As TypeScript is structural, it is up to you whether you explicitly implement the interface on the <code>Opportunity</code> class.</p>\n\n<p>// opportunity.ts</p>\n\n<pre><code>import { Form } from '....../form'\n\nexport class Opportunity {\n  public forms: Form[] = [];\n}\n</code></pre>\n\n<p>// form.ts</p>\n\n<pre><code>interface FormParent {\n    forms: Form[];\n}\n\nexport class Form {\n  public parent: FormParent;\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 11, "user_id": 9538126, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Viet Thanh Le", "link": "https://stackoverflow.com/users/9538126/viet-thanh-le"}, "is_accepted": false, "score": 1, "last_activity_date": 1602070682, "last_edit_date": 1602070682, "creation_date": 1602065363, "answer_id": 64241851, "question_id": 48418317, "link": "https://stackoverflow.com/questions/48418317/circular-dependency-caused-by-importing-typescript-type/64241851#64241851", "title": "Circular dependency caused by importing typescript type", "body": "<p>Another approach is to use <code>require</code> instead of <code>import</code> in one class.<br />\nLooks something like:</p>\n<pre><code>let LoginPage = require(&quot;./loginpage&quot;).default;\nreturn new LoginPage();\n</code></pre>\n<p>You can find it in the <strong>Best Practice #5</strong> from this <a href=\"https://www.logigear.com/blog/test-automation/15-best-practices-for-building-an-awesome-protractor-framework\" rel=\"nofollow noreferrer\">post</a>.</p>\n"}, {"tags": [], "owner": {"reputation": 141, "user_id": 14574256, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/OGhqu.jpg?s=128&g=1", "display_name": "mozu", "link": "https://stackoverflow.com/users/14574256/mozu"}, "is_accepted": false, "score": 0, "last_activity_date": 1608196554, "creation_date": 1608196554, "answer_id": 65337713, "question_id": 48418317, "link": "https://stackoverflow.com/questions/48418317/circular-dependency-caused-by-importing-typescript-type/65337713#65337713", "title": "Circular dependency caused by importing typescript type", "body": "<p>from typescript version 3.8</p>\n<p><code>import type</code> would help you.</p>\n<p><a href=\"https://www.typescriptlang.org/docs/handbook/release-notes/typescript-3-8.html\" rel=\"nofollow noreferrer\">https://www.typescriptlang.org/docs/handbook/release-notes/typescript-3-8.html</a></p>\n"}], "owner": {"reputation": 6968, "user_id": 5490505, "user_type": "registered", "accept_rate": 88, "profile_image": "https://lh4.googleusercontent.com/-6-yKyG1ZZUI/AAAAAAAAAAI/AAAAAAAAABA/5a7UfitqO5Y/photo.jpg?sz=128", "display_name": "John", "link": "https://stackoverflow.com/users/5490505/john"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4109, "favorite_count": 0, "accepted_answer_id": 48419531, "answer_count": 4, "score": 5, "last_activity_date": 1608196554, "creation_date": 1516784000, "last_edit_date": 1592644375, "question_id": 48418317, "link": "https://stackoverflow.com/questions/48418317/circular-dependency-caused-by-importing-typescript-type", "title": "Circular dependency caused by importing typescript type", "body": "<p>I'm modeling data in typescript sent from a server to my Angular app. An <code>Opportunity</code> has a <code>forms</code> property containing an array of <code>Form[]</code> objects. A <code>Form</code> has a <code>parent</code> property which may contain an <code>Opportunity</code>. In order to resolve the types, the file which defines <code>Opportunity</code> imports <code>Form</code> and the file which defines <code>Form</code> imports <code>Opportunity</code>. This creates a circular dependency warning.</p>\n<p>I've found several prior SO questions dealing with circular dependencies (<a href=\"https://stackoverflow.com/questions/48123578/instanceof-child-causing-circular-dependency\">here</a>, <a href=\"https://stackoverflow.com/questions/39334698/typescript-decorators-and-circular-dependencies\">here</a>), but in each case they were dealing with circular dependencies in the javascript code. In this case, the circular dependency is only with the typescript types, and will not exist after compilation. Is there some way to include a type in a file while avoiding this circular dependency issue? So far I haven't found anything.</p>\n<p>I can think of two solutions to this problem:</p>\n<ol>\n<li>Define both models in the same file</li>\n<li>Recreate the <code>Form</code> interface in the <code>Opportunity</code> file / the <code>Opportunity</code> interface in the <code>Form</code> file.</li>\n</ol>\n<p>Are there any other / better solutions? Thanks!</p>\n<h1>Update 2</h1>\n<p>I appear to have found <a href=\"https://stackoverflow.com/questions/24444436/circular-type-references-in-typescript\"><em>an</em> answer</a> (it was just really far down in the list of questions for some reason). This answer suggestions two possibilities</p>\n<ol>\n<li><p>Create a seperate definition file (which would seem to involve recreating the <code>Opportunity</code> and <code>Form</code> class interfaces, so would be no better then option #2 above).</p>\n</li>\n<li><p>Use import, which is what I'm already doing (and which is causing the circular dependency warning).</p>\n</li>\n</ol>\n<p>Is there a way to import <em>just</em> the associated interface of a class?</p>\n<h2>Update 3</h2>\n<p>Just to be clear, currently <code>Opportunity</code> and <code>Form</code> look like this:</p>\n<pre><code>// opportunity.ts\nimport { Form } from '....../form'\n\nexport class Opportunity {\n  public forms: Form[] = [];\n}\n\n// form.ts\nimport { Opportunity } from '....../opportunity'\n\nexport class Form {\n  public parent: Opportunity;\n}\n</code></pre>\n"}, {"tags": ["typescript", "react-native"], "answers": [{"tags": [], "owner": {"reputation": 7437, "user_id": 375721, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/nosh5.png?s=128&g=1", "display_name": "martins", "link": "https://stackoverflow.com/users/375721/martins"}, "is_accepted": false, "score": 0, "last_activity_date": 1516787636, "creation_date": 1516787636, "answer_id": 48419430, "question_id": 48417809, "link": "https://stackoverflow.com/questions/48417809/how-can-i-tell-react-natives-metro-bundler-to-serve-files-from-lib-src/48419430#48419430", "title": "How can I tell React Native&#39;s *Metro Bundler* to serve files from `./lib/src`?", "body": "<p>I figured it out.</p>\n\n<p><strong>android/app/build.gradle</strong></p>\n\n<p>Change line 5</p>\n\n<pre><code>  1 apply plugin: \"com.android.application\"\n  2\n  3 import com.android.build.OutputFile\n  4\n  5 project.ext.react = [\n  6   entryFile: \"src/index.js\"\n  7 ]\n  8\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 2430, "user_id": 332948, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/857339a99b1a2135bf14e03e208c50df?s=128&d=identicon&r=PG", "display_name": "rodrigoelp", "link": "https://stackoverflow.com/users/332948/rodrigoelp"}, "is_accepted": false, "score": 0, "last_activity_date": 1532162996, "creation_date": 1532162996, "answer_id": 51454422, "question_id": 48417809, "link": "https://stackoverflow.com/questions/48417809/how-can-i-tell-react-natives-metro-bundler-to-serve-files-from-lib-src/51454422#51454422", "title": "How can I tell React Native&#39;s *Metro Bundler* to serve files from `./lib/src`?", "body": "<p>Uhms, this is a tad late... but what you might want to do is:</p>\n\n<ol>\n<li>Change your <code>./index.js</code> to just <code>import \"./lib</code></li>\n<li>Change your tsconfig.json <code>outDir</code> property to <code>\"./lib\"</code> (that way you avoid having the <code>./lib/src</code> path.</li>\n</ol>\n\n<p>That's what I do with my projects.</p>\n"}], "owner": {"reputation": 7437, "user_id": 375721, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/nosh5.png?s=128&g=1", "display_name": "martins", "link": "https://stackoverflow.com/users/375721/martins"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 757, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1532162996, "creation_date": 1516782238, "last_edit_date": 1516785112, "question_id": 48417809, "link": "https://stackoverflow.com/questions/48417809/how-can-i-tell-react-natives-metro-bundler-to-serve-files-from-lib-src", "title": "How can I tell React Native&#39;s *Metro Bundler* to serve files from `./lib/src`?", "body": "<p>I'm working on a React Native project. I got my TypeScript files located in <code>./src</code>. This is transpiled to <code>./lib/</code>.</p>\n\n<p>E.g <code>./src/index.ts</code> ends up in <code>./lib/src/index.js</code>.</p>\n\n<p>How can I tell <strong>Metro Bundler</strong> (<code>npm start</code>) to serve files from <code>./lib/src</code>?</p>\n"}, {"tags": ["typescript", "ecmascript-6"], "comments": [{"owner": {"reputation": 1820, "user_id": 901891, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/53f57a90ab57b9c90dfa8481c1d87df8?s=128&d=identicon&r=PG&f=1", "display_name": "Greg Rozmarynowycz", "link": "https://stackoverflow.com/users/901891/greg-rozmarynowycz"}, "edited": false, "score": 0, "creation_date": 1516781832, "post_id": 48417604, "comment_id": 83824969, "body": "I would probably ensure all errors are fixed before assuming your code works; some of those errors may prevent the compiler from correctly interpreting your code and there are limited instances where TSC generated JavaScript can be different than you might assume (instances I&#39;ve seen also usually happen when there are errors)."}, {"owner": {"reputation": 122, "user_id": 6609629, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9QKNW.png?s=128&g=1", "display_name": "Kristiyan D Kovachev", "link": "https://stackoverflow.com/users/6609629/kristiyan-d-kovachev"}, "edited": false, "score": 0, "creation_date": 1516782159, "post_id": 48417604, "comment_id": 83825155, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/34880522/mute-ignore-ts2307-error-from-typescript-tsc\">Mute/ignore TS2307 error from TypeScript tsc</a>"}, {"owner": {"reputation": 630270, "user_id": 571407, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2f0d9dec16bae1e06552af55ddefc11f?s=128&d=identicon&r=PG", "display_name": "JB Nizet", "link": "https://stackoverflow.com/users/571407/jb-nizet"}, "edited": false, "score": 3, "creation_date": 1516782161, "post_id": 48417604, "comment_id": 83825157, "body": "tsc emits files even though it produces errors (unless you enable the noEmitOnError flag). Doesn&#39;t it?"}, {"owner": {"reputation": 5214, "user_id": 1972632, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/3aea3ceb435a942a6597d1aa8165f55f?s=128&d=identicon&r=PG", "display_name": "Gal Ziv", "link": "https://stackoverflow.com/users/1972632/gal-ziv"}, "edited": false, "score": 0, "creation_date": 1516782554, "post_id": 48417604, "comment_id": 83825337, "body": "im using tsc with no options. i checked the compiler options and the noEmitOnError default value is false"}, {"owner": {"reputation": 630270, "user_id": 571407, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2f0d9dec16bae1e06552af55ddefc11f?s=128&d=identicon&r=PG", "display_name": "JB Nizet", "link": "https://stackoverflow.com/users/571407/jb-nizet"}, "edited": false, "score": 0, "creation_date": 1516782758, "post_id": 48417604, "comment_id": 83825443, "body": "That doesn&#39;t answer my question. Does it emit files, or not?"}, {"owner": {"reputation": 5214, "user_id": 1972632, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/3aea3ceb435a942a6597d1aa8165f55f?s=128&d=identicon&r=PG", "display_name": "Gal Ziv", "link": "https://stackoverflow.com/users/1972632/gal-ziv"}, "edited": false, "score": 0, "creation_date": 1516783830, "post_id": 48417604, "comment_id": 83826066, "body": "no output files"}, {"owner": {"reputation": 25033, "user_id": 1113002, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CgW7b.png?s=128&g=1", "display_name": "Aleksey L.", "link": "https://stackoverflow.com/users/1113002/aleksey-l"}, "edited": false, "score": 0, "creation_date": 1516787512, "post_id": 48417604, "comment_id": 83828456, "body": "Do you have tsconfig file and <code>noEmitOnError</code> in it?"}, {"owner": {"reputation": 5214, "user_id": 1972632, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/3aea3ceb435a942a6597d1aa8165f55f?s=128&d=identicon&r=PG", "display_name": "Gal Ziv", "link": "https://stackoverflow.com/users/1972632/gal-ziv"}, "edited": false, "score": 0, "creation_date": 1516792190, "post_id": 48417604, "comment_id": 83831468, "body": "no tsconfig. i can see when i do tsc -t ES2016 --outDir .\\output rootFile.ts, this files and its dependencies are generated to js but no one file in the output directory"}], "owner": {"reputation": 5214, "user_id": 1972632, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/3aea3ceb435a942a6597d1aa8165f55f?s=128&d=identicon&r=PG", "display_name": "Gal Ziv", "link": "https://stackoverflow.com/users/1972632/gal-ziv"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 2513, "favorite_count": 1, "answer_count": 0, "score": 4, "last_activity_date": 1516781452, "creation_date": 1516781452, "question_id": 48417604, "link": "https://stackoverflow.com/questions/48417604/typescript-compile-code-with-errors", "title": "typescript compile code with errors", "body": "<p>I have a big js (es6) project which I started to migrate to typescript.\nFirst I changed all js files to ts.\nThen I executed tsc to compile the project.\ntsc outputs A-LOT of errors. I want to fix all of them but it'll take me some time. In this time I still want to project to be compiled as I know it works as expected.</p>\n\n<p>Is there a way to compile while still having errors?\nI assume failed imports are a big problem and it'll stop but for sure none of this error exist currently in the project.\nI know I can disable checks with compiler option but I'm looking for a simpler way.\nIs there? :)</p>\n"}, {"tags": ["typescript"], "answers": [{"comments": [{"owner": {"reputation": 5787, "user_id": 2331095, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/54DTz.png?s=128&g=1", "display_name": "user2331095", "link": "https://stackoverflow.com/users/2331095/user2331095"}, "edited": false, "score": 0, "creation_date": 1516784162, "post_id": 48418133, "comment_id": 83826268, "body": "Thanks. I have one more question: If <code>mylibs</code> has many other properties/utils, like: <code>mylibs.utils.request</code>, <code>mylibs.constants.X</code>, which solution is better ?"}, {"owner": {"reputation": 5787, "user_id": 2331095, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/54DTz.png?s=128&g=1", "display_name": "user2331095", "link": "https://stackoverflow.com/users/2331095/user2331095"}, "edited": false, "score": 0, "creation_date": 1516785393, "post_id": 48418133, "comment_id": 83827082, "body": "I finally figure out it: <code>let VecType: &#39;Vec2&#39; | &#39;Vec3&#39; | &#39;Vec4&#39; = &#39;Vec&#39; + len as any;</code>."}, {"owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "reply_to_user": {"reputation": 5787, "user_id": 2331095, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/54DTz.png?s=128&g=1", "display_name": "user2331095", "link": "https://stackoverflow.com/users/2331095/user2331095"}, "edited": false, "score": 0, "creation_date": 1516785395, "post_id": 48418133, "comment_id": 83827083, "body": "Both solutions can be used .. but it&#39;s not ideal, I will update my answer shortly"}, {"owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "reply_to_user": {"reputation": 5787, "user_id": 2331095, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/54DTz.png?s=128&g=1", "display_name": "user2331095", "link": "https://stackoverflow.com/users/2331095/user2331095"}, "edited": false, "score": 0, "creation_date": 1516785444, "post_id": 48418133, "comment_id": 83827110, "body": "@user2331095, Yup that was what I was going to say as well :). You can use the index solution as well but the index will return <code>any</code> instead of <code>new ()=&gt;any</code>"}], "tags": [], "owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "is_accepted": true, "score": 2, "last_activity_date": 1516783916, "last_edit_date": 1516783916, "creation_date": 1516783323, "answer_id": 48418133, "question_id": 48417520, "link": "https://stackoverflow.com/questions/48417520/typescript-dynamic-access-property/48418133#48418133", "title": "Typescript dynamic access property", "body": "<p>As the error suggests one solution would be to add an index signature to the type so as to allow indexing by any string :</p>\n\n<pre><code>let mylibs : { [key: string]:  new () =&gt; any} = {\n    Vec2: Vec2,\n    Vec3: Vec3,\n    Vec4: Vec4\n};\n</code></pre>\n\n<p>Instead of any if you want to be more restrictive, you could use a base class of the <code>Vec*</code> types, or a union type of all property types (<code>Vec2|Vec3|Vec4</code>)</p>\n\n<p>Another option, would be to not index by a generic string but rather by a string that is a key for <code>mylibs</code>. To construct such a string dynamically would involve a cast which would not be particularly safe:</p>\n\n<pre><code>let VecType: keyof typeof mylibs = ('Vec' + len) as any;\nlet randomVector = new mylibs[VecType]();\n</code></pre>\n"}], "owner": {"reputation": 5787, "user_id": 2331095, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/54DTz.png?s=128&g=1", "display_name": "user2331095", "link": "https://stackoverflow.com/users/2331095/user2331095"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 605, "favorite_count": 0, "accepted_answer_id": 48418133, "answer_count": 1, "score": 0, "last_activity_date": 1516783916, "creation_date": 1516781105, "question_id": 48417520, "link": "https://stackoverflow.com/questions/48417520/typescript-dynamic-access-property", "title": "Typescript dynamic access property", "body": "<p>Here is a demo:</p>\n\n<pre><code>class Vec2 {};\nclass Vec3 {};\nclass Vec4 {};\n\nlet mylibs = {\n    Vec2: Vec2,\n    Vec3: Vec3,\n    Vec4: Vec4\n};\nlet len = Math.round(Math.random() * 2) + 2;\nlet VecType = 'Vec' + len;\nlet randomVector = new mylibs[VecType]();\n</code></pre>\n\n<p>I want to create something by user input, the <code>VecType</code> is something I used to simulate user input.\nThe code above works, and <code>tsc</code> will not throw any error. However in my vscode, it tell me something wrong.</p>\n\n<p><a href=\"https://i.stack.imgur.com/ymZVJ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ymZVJ.png\" alt=\"enter image description here\"></a>\n<a href=\"https://i.stack.imgur.com/LJ82n.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/LJ82n.png\" alt=\"enter image description here\"></a></p>\n\n<p>I want to resolve this kind of error. Thanks.</p>\n"}, {"tags": ["javascript", "angular", "typescript"], "comments": [{"owner": {"reputation": 183792, "user_id": 1749403, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/g0aFU.png?s=128&g=1", "display_name": "Sajeetharan", "link": "https://stackoverflow.com/users/1749403/sajeetharan"}, "edited": false, "score": 0, "creation_date": 1516781208, "post_id": 48417518, "comment_id": 83824653, "body": "try to place json inside  assets folder"}, {"owner": {"reputation": 125, "user_id": 9102178, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/4900c8b1d8ee2223cf5816c731e8c04d?s=128&d=identicon&r=PG&f=1", "display_name": "Idiot_cheg", "link": "https://stackoverflow.com/users/9102178/idiot-cheg"}, "reply_to_user": {"reputation": 183792, "user_id": 1749403, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/g0aFU.png?s=128&g=1", "display_name": "Sajeetharan", "link": "https://stackoverflow.com/users/1749403/sajeetharan"}, "edited": false, "score": 0, "creation_date": 1516781262, "post_id": 48417518, "comment_id": 83824674, "body": "place what? in asset folder"}, {"owner": {"reputation": 28589, "user_id": 8558186, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8af66bb1af6d1875a2dd7be9dd1c8d2b?s=128&d=identicon&r=PG&f=1", "display_name": "Eliseo", "link": "https://stackoverflow.com/users/8558186/eliseo"}, "edited": false, "score": 0, "creation_date": 1516782640, "post_id": 48417518, "comment_id": 83825378, "body": "Cheg, when you compile your angular app, you have in a &quot;dist&quot; folder, your index.html, your .css, your .js and a folder called assets (copy of your folder &quot;assets&quot; in your scr/assets). Use this folder to put all you need read: images, .json to read, etc, etc"}, {"owner": {"reputation": 125, "user_id": 9102178, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/4900c8b1d8ee2223cf5816c731e8c04d?s=128&d=identicon&r=PG&f=1", "display_name": "Idiot_cheg", "link": "https://stackoverflow.com/users/9102178/idiot-cheg"}, "edited": false, "score": 0, "creation_date": 1516784575, "post_id": 48417518, "comment_id": 83826543, "body": "but i&#39;ve not using any other basic folder structure"}, {"owner": {"reputation": 125, "user_id": 9102178, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/4900c8b1d8ee2223cf5816c731e8c04d?s=128&d=identicon&r=PG&f=1", "display_name": "Idiot_cheg", "link": "https://stackoverflow.com/users/9102178/idiot-cheg"}, "edited": false, "score": 0, "creation_date": 1516785310, "post_id": 48417518, "comment_id": 83827029, "body": "\u251c\u2500\u2500\u2500app \u251c\u2500\u2500\u2500assets \u2502   \u2514\u2500\u2500\u2500js                  dummy.json \u2514\u2500\u2500\u2500environments  now i have changed as you said. can u tell me how to access it?"}, {"owner": {"reputation": 2101, "user_id": 5781747, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/iSm99.jpg?s=128&g=1", "display_name": "YounesM", "link": "https://stackoverflow.com/users/5781747/younesm"}, "edited": false, "score": 0, "creation_date": 1516787009, "post_id": 48417518, "comment_id": 83828125, "body": "The URL should be : <code>assets&#47;dummy.json</code>"}, {"owner": {"reputation": 125, "user_id": 9102178, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/4900c8b1d8ee2223cf5816c731e8c04d?s=128&d=identicon&r=PG&f=1", "display_name": "Idiot_cheg", "link": "https://stackoverflow.com/users/9102178/idiot-cheg"}, "reply_to_user": {"reputation": 2101, "user_id": 5781747, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/iSm99.jpg?s=128&g=1", "display_name": "YounesM", "link": "https://stackoverflow.com/users/5781747/younesm"}, "edited": false, "score": 0, "creation_date": 1516787620, "post_id": 48417518, "comment_id": 83828516, "body": "@YounesM pls check my updated question"}, {"owner": {"reputation": 2101, "user_id": 5781747, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/iSm99.jpg?s=128&g=1", "display_name": "YounesM", "link": "https://stackoverflow.com/users/5781747/younesm"}, "edited": false, "score": 0, "creation_date": 1516793279, "post_id": 48417518, "comment_id": 83832182, "body": "Since you put your json in a folder it should be : <code>assets&#47;js&#47;dummy.json</code> Can we have a look at your angular-cli.json file?"}, {"owner": {"reputation": 125, "user_id": 9102178, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/4900c8b1d8ee2223cf5816c731e8c04d?s=128&d=identicon&r=PG&f=1", "display_name": "Idiot_cheg", "link": "https://stackoverflow.com/users/9102178/idiot-cheg"}, "reply_to_user": {"reputation": 2101, "user_id": 5781747, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/iSm99.jpg?s=128&g=1", "display_name": "YounesM", "link": "https://stackoverflow.com/users/5781747/younesm"}, "edited": false, "score": 0, "creation_date": 1516798790, "post_id": 48417518, "comment_id": 83835572, "body": "@YounesM now its working fine as expected :)  thank ya"}], "answers": [{"comments": [{"owner": {"reputation": 125, "user_id": 9102178, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/4900c8b1d8ee2223cf5816c731e8c04d?s=128&d=identicon&r=PG&f=1", "display_name": "Idiot_cheg", "link": "https://stackoverflow.com/users/9102178/idiot-cheg"}, "edited": false, "score": 0, "creation_date": 1516787653, "post_id": 48419351, "comment_id": 83828529, "body": "Noel pls check my updated question i&#39;ve attached screenshots"}, {"owner": {"reputation": 782, "user_id": 9046139, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wN7VS.jpg?s=128&g=1", "display_name": "Victor No&#235;l", "link": "https://stackoverflow.com/users/9046139/victor-no%c3%abl"}, "reply_to_user": {"reputation": 125, "user_id": 9102178, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/4900c8b1d8ee2223cf5816c731e8c04d?s=128&d=identicon&r=PG&f=1", "display_name": "Idiot_cheg", "link": "https://stackoverflow.com/users/9102178/idiot-cheg"}, "edited": false, "score": 0, "creation_date": 1516868235, "post_id": 48419351, "comment_id": 83867699, "body": "the error shows a different path (assets/dummy.json) than what you say is in your directory (assets/js/dummy.json)"}, {"owner": {"reputation": 125, "user_id": 9102178, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/4900c8b1d8ee2223cf5816c731e8c04d?s=128&d=identicon&r=PG&f=1", "display_name": "Idiot_cheg", "link": "https://stackoverflow.com/users/9102178/idiot-cheg"}, "edited": false, "score": 0, "creation_date": 1517231660, "post_id": 48419351, "comment_id": 83997502, "body": "sorry for delayed response . its working fine now :)"}], "tags": [], "owner": {"reputation": 782, "user_id": 9046139, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wN7VS.jpg?s=128&g=1", "display_name": "Victor No&#235;l", "link": "https://stackoverflow.com/users/9046139/victor-no%c3%abl"}, "is_accepted": true, "score": 2, "last_activity_date": 1516787399, "creation_date": 1516787399, "answer_id": 48419351, "question_id": 48417518, "link": "https://stackoverflow.com/questions/48417518/angular-2-how-to-consume-data-from-local-json/48419351#48419351", "title": "Angular 2 - how to consume data from local json?", "body": "<p>Theoretically, you have two options:</p>\n\n<ol>\n<li>You serve the json as an asset and retrieve it via the <code>HttpClient</code>.</li>\n<li>You put the json in the source code, you import it in your typescript and when it is compiled, it is transformed into an object by webpack.</li>\n</ol>\n\n<p>In practice, the second point is not doable as far as I know, because it involves the modification of the webpack configuration and it is not currently possible with Angular.</p>\n"}], "owner": {"reputation": 125, "user_id": 9102178, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/4900c8b1d8ee2223cf5816c731e8c04d?s=128&d=identicon&r=PG&f=1", "display_name": "Idiot_cheg", "link": "https://stackoverflow.com/users/9102178/idiot-cheg"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 348, "favorite_count": 1, "accepted_answer_id": 48419351, "answer_count": 1, "score": 3, "last_activity_date": 1516788611, "creation_date": 1516781103, "last_edit_date": 1516788611, "question_id": 48417518, "link": "https://stackoverflow.com/questions/48417518/angular-2-how-to-consume-data-from-local-json", "title": "Angular 2 - how to consume data from local json?", "body": "<p>Thanks for every one who jumping into this for helping me . <strong><em>NOW its working like charm</em></strong> </p>\n\n<p>Thanks all</p>\n\n<p>Could someone tell me how to use local JSON data?</p>\n\n<p>I am not sure what am missing in configuration (problem might be in HTTP config). Below is my file structure.</p>\n\n<pre><code>\u251c\u2500\u2500\u2500app\n    about.component.html\nabout.component.ts\napp.component.css\napp.component.html\napp.component.spec.ts\napp.component.ts\napp.module.ts\napp.routing.ts\ndataservice.ts\nhome.component.html\nhome.component.ts\ndummy.json\n\u2514\u2500\u2500\u2500environments\n</code></pre>\n\n<p>myService.ts</p>\n\n<pre><code>@Injectable()\nexport class dataService implements OnInit {\n  constructor(private Http: Http) {}\n  private _url: string = \"assets/js/dummy.json\";\n  ngOnInit() {}\n  gethomedata() {\n    return this.Http.get(this._url).map(response =&gt; response.json());\n  }\n}\n</code></pre>\n\n<p>homeComponent.ts</p>\n\n<pre><code>@Component({\n  templateUrl: './home.component.html',\n})\nexport class home implements OnInit {\n  constructor(private http: Http, private dataService: dataService) {}\n  home = [];\n  ngOnInit() {\n    this.dataService.gethomedata().subscribe(data =&gt; {\n      console.log('home', data);\n      this.home.push(data);\n    })\n  }\n}\n</code></pre>\n\n<p>When I run, it shows 404 not found error. \nCan tell me where I did wrong?</p>\n\n<p><a href=\"https://i.stack.imgur.com/BlGdn.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/BlGdn.png\" alt=\"enter image description here\"></a></p>\n\n<p><a href=\"https://i.stack.imgur.com/wG6Kc.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/wG6Kc.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["angular", "typescript"], "answers": [{"tags": [], "owner": {"reputation": 2611, "user_id": 5504034, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/sWisd.jpg?s=128&g=1", "display_name": "Armen Vardanyan", "link": "https://stackoverflow.com/users/5504034/armen-vardanyan"}, "is_accepted": false, "score": 1, "last_activity_date": 1516781016, "creation_date": 1516781016, "answer_id": 48417486, "question_id": 48417439, "link": "https://stackoverflow.com/questions/48417439/angular2-assign-style-dynamically/48417486#48417486", "title": "Angular2 assign style dynamically", "body": "<p>You are misusing the <code>[ngStyle]</code> directive. It does not work like the <code>[ngClass]</code> directive, (adding or removing a css class based on condition). It rather assigns a certain style to the elements <code>CSSStyleDeclaration</code> property, so you should manage dynamic styles maually, like this, in your example:</p>\n\n<pre><code>&lt;th *ngFor =\"let col of cols\" [ngStyle]=\"{'width': col.field != 'email' ? '25%': 'auto'}\"&gt; // etc\n</code></pre>\n\n<p>As you seem, I used ternary operator to  assign a style dynamically. You can also do this:</p>\n\n<pre><code>&lt;th *ngFor =\"let col of cols\" [style.width]=\"col.field != 'email' ? '25%': 'auto'\"&gt; // etc\n</code></pre>\n\n<p>Which is obviously shorter. And, by the way, <code>*ngFor</code> as a property should come before you use the iteration variable among other attributes/directives on the same element (<code>*ngFor</code> and only then <code>[ngStyle]</code>, as you use the <code>col</code> variable declared in <code>*ngFor</code> inside the <code>[ngStyle]</code> directive, not the other way round)</p>\n"}, {"tags": [], "owner": {"reputation": 1265, "user_id": 6092216, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/F6a3O.jpg?s=128&g=1", "display_name": "Nabin Paudyal", "link": "https://stackoverflow.com/users/6092216/nabin-paudyal"}, "is_accepted": false, "score": 2, "last_activity_date": 1516852518, "last_edit_date": 1516852518, "creation_date": 1516781095, "answer_id": 48417515, "question_id": 48417439, "link": "https://stackoverflow.com/questions/48417439/angular2-assign-style-dynamically/48417515#48417515", "title": "Angular2 assign style dynamically", "body": "<p>You have done it incorrectly. The correct way to do it is:</p>\n\n<pre><code>&lt;th [ngStyle]=\"{'width': col.field != 'email' ? '25%': auto}\"\n        *ngFor=\"let col of cols\"\n        [pSortableColumn]=\"col.field\"\n&gt;\n  {{col.header}}\n&lt;/th&gt;\n</code></pre>\n"}], "owner": {"reputation": 4424, "user_id": 5540863, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/fe63b9c0ffe7aa8836dbc98c2dcf8e37?s=128&d=identicon&r=PG&f=1", "display_name": "Geoff", "link": "https://stackoverflow.com/users/5540863/geoff"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 667, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1516852518, "creation_date": 1516780779, "last_edit_date": 1516826749, "question_id": 48417439, "link": "https://stackoverflow.com/questions/48417439/angular2-assign-style-dynamically", "title": "Angular2 assign style dynamically", "body": "<p>I would like to assign style in a <code>th</code> dynamically in Angular 2.</p>\n\n<p>I tried the following:</p>\n\n<pre><code>&lt;th [ngStyle]=\"{'width:25%': col.field != 'email'}\"\n    *ngFor=\"let col of cols\"\n    [pSortableColumn]=\"col.field\"&gt;\n        {{col.header}}\n&lt;/th&gt;\n</code></pre>\n\n<p>But the above fails.</p>\n\n<p>How should I assign the style property?</p>\n"}, {"tags": ["javascript", "angular", "laravel", "typescript", "angular-ui-router"], "answers": [{"comments": [{"owner": {"reputation": 16077, "user_id": 2708210, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/EU2af.jpg?s=128&g=1", "display_name": "Rahul Singh", "link": "https://stackoverflow.com/users/2708210/rahul-singh"}, "edited": false, "score": 1, "creation_date": 1516780390, "post_id": 48417322, "comment_id": 83824275, "body": "i think he is asking for a feature similar to what is there in larvel in angular, i might be wrong in understanding though"}], "tags": [], "owner": {"reputation": 133774, "user_id": 1227923, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/1589ee24678b35829902192fdfce67f7?s=128&d=identicon&r=PG&f=1", "display_name": "Alexey Mezenin", "link": "https://stackoverflow.com/users/1227923/alexey-mezenin"}, "is_accepted": false, "score": 1, "last_activity_date": 1516780257, "creation_date": 1516780257, "answer_id": 48417322, "question_id": 48417277, "link": "https://stackoverflow.com/questions/48417277/how-to-specify-certain-method-on-component-from-route-file-in-angular-2-4/48417322#48417322", "title": "How to specify certain method on component from route file in angular 2 &amp; 4?", "body": "<p>You need to <a href=\"https://laravel.com/docs/5.5/middleware#assigning-middleware-to-routes\" rel=\"nofollow noreferrer\">use middleware</a> for that. For example:</p>\n\n<pre><code>Route::get('user/{id}/delete', 'UserController@delete')-&gt;middleware('superadmin');\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1032, "user_id": 1973483, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/0okZt.jpg?s=128&g=1", "display_name": "Daniel Chikaka", "link": "https://stackoverflow.com/users/1973483/daniel-chikaka"}, "edited": false, "score": 0, "creation_date": 1516780547, "post_id": 48417332, "comment_id": 83824356, "body": "would you mind show me some code on how to assign the data to the component&#39;s method?  @rahul-singh"}], "tags": [], "owner": {"reputation": 16077, "user_id": 2708210, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/EU2af.jpg?s=128&g=1", "display_name": "Rahul Singh", "link": "https://stackoverflow.com/users/2708210/rahul-singh"}, "is_accepted": false, "score": 0, "last_activity_date": 1516780783, "last_edit_date": 1516780783, "creation_date": 1516780332, "answer_id": 48417332, "question_id": 48417277, "link": "https://stackoverflow.com/questions/48417277/how-to-specify-certain-method-on-component-from-route-file-in-angular-2-4/48417332#48417332", "title": "How to specify certain method on component from route file in angular 2 &amp; 4?", "body": "<p>AFAIK this is not possible directly with Angular where as you can do this</p>\n\n<p>Send some data with the router like</p>\n\n<pre><code>{path : 'heroes', component : HeroDetailComponent, data : {some_data : 'some value'}}\n</code></pre>\n\n<blockquote>\n  <p>And in the component onInit check for the data using ActivatedRoute\n  and assign it to the proper method of the compoenent</p>\n</blockquote>\n\n<p><strong>Update</strong></p>\n\n<pre><code>constructor(private route: ActivatedRoute) {}\n  ngOnInit() {\n    this.sub = this.route\n      .data\n      .subscribe(v =&gt; console.log(v));\n  }\n</code></pre>\n"}], "owner": {"reputation": 1032, "user_id": 1973483, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/0okZt.jpg?s=128&g=1", "display_name": "Daniel Chikaka", "link": "https://stackoverflow.com/users/1973483/daniel-chikaka"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 32, "favorite_count": 0, "answer_count": 2, "score": 3, "last_activity_date": 1516780783, "creation_date": 1516780068, "last_edit_date": 1516780417, "question_id": 48417277, "link": "https://stackoverflow.com/questions/48417277/how-to-specify-certain-method-on-component-from-route-file-in-angular-2-4", "title": "How to specify certain method on component from route file in angular 2 &amp; 4?", "body": "<p>I have been searching for certain feature we use in Laravel to specify where the routes will go in controllers methods like so: </p>\n\n<pre><code>Route::get('/user', 'UserController@index');\n</code></pre>\n\n<p>In above code when user navigate to <code>/user</code> the app will send him to the UserController and directly into index method.</p>\n\n<p>I'm looking for something similar to help me handle delete routes because I want to restrict them for super admins only and don't want to write additional component for that</p>\n"}, {"tags": ["typescript", "type-inference"], "answers": [{"tags": [], "owner": {"reputation": 2322, "user_id": 1802679, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/83b3543f192aa488ddcb3a8576d9f79a?s=128&d=identicon&r=PG", "display_name": "Slawek", "link": "https://stackoverflow.com/users/1802679/slawek"}, "is_accepted": false, "score": 2, "last_activity_date": 1516781702, "last_edit_date": 1516781702, "creation_date": 1516781349, "answer_id": 48417574, "question_id": 48417119, "link": "https://stackoverflow.com/questions/48417119/typescript-type-inference/48417574#48417574", "title": "TypeScript type inference", "body": "<p>Let's start with solution:</p>\n\n<pre><code>function fetchUser(): Promise&lt;User&gt; {\n    return fetch&lt;User&gt;('https://...').then(getData)\n}\n</code></pre>\n\n<p>In order for type inference to work we need to give TypeScript a starting point, which in this case is the function with which we initiate the execution. If we let <em>fetch</em> method generic T parameter to have a default value (which is {}) then TypeScript will use that type to determine all connected function calls, basically making <em>then</em> and <em>getData</em> to inherit that default type. In the end, when TypeScript gets to the point when it have to verify type correctness between last function signature (<em>getData</em>) and outer <em>fetchUser</em> signature it will discover conflict, because <em>getData</em> is assumed to work with {} type and <em>fetchUser</em> states explicitly that it works with User type.</p>\n\n<p>You can compare how TypeScript will work out returned type when you omit completely the type returned by fetchUser function:</p>\n\n<pre><code>function fetchUser() {\n    return fetch&lt;User&gt;('https://...').then(getData)\n}\n</code></pre>\n\n<p>If you hover over <em>fetchUser</em> function you will see that TypeScript inferred the User type from inner <em>fetch</em> function signature and its still Promise&lt; User>.</p>\n"}, {"tags": [], "owner": {"reputation": 3696, "user_id": 185999, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/09ce5b8c5d70924f9ab23b1211e498eb?s=128&d=identicon&r=PG", "display_name": "AbdouMoumen", "link": "https://stackoverflow.com/users/185999/abdoumoumen"}, "is_accepted": false, "score": 1, "last_activity_date": 1516787442, "creation_date": 1516787442, "answer_id": 48419365, "question_id": 48417119, "link": "https://stackoverflow.com/questions/48417119/typescript-type-inference/48419365#48419365", "title": "TypeScript type inference", "body": "<p>For your first question, the reason why TypeScript is complaining about the type being <code>Promise&lt;{}&gt;</code> is that, if you don't specify a type for a generic function that returns a promise, it's by default <code>Promise&lt;{}&gt;</code>.</p>\n\n<p>With this in mind, by calling <code>fetch('http://...')</code>, without providing the type parameter, TypeScript will <em>infer</em> that it's <code>Promise&lt;HttpResponse&lt;{}&gt;&gt;</code>.</p>\n\n<p>I assume you were able to make it work by specifying the <code>User</code> type when calling <code>fetch</code> in  <code>fetchUser</code>, like so:</p>\n\n<pre><code>return fetch&lt;User&gt;('https://...').then(getData);\n</code></pre>\n\n<p>The inference that you're looking for would've worked if you were returning the call to <code>fetch</code> directly. Something like:</p>\n\n<pre><code>async function getValueAsync&lt;T&gt;(): Promise&lt;T&gt; {\n    return null;\n}\n\nfunction testGetValueAsync(): Promise&lt;User&gt; {\n    return getValueAsync();\n}\n</code></pre>\n\n<p>However, since you're chaining off of that call, there is nothing in the <code>fetch</code> call that tells TypeScript what type it's returning.</p>\n\n<p>Therefore, the minimal change you need to make is to specify the <code>User</code> type when calling <code>fetch</code></p>\n\n<pre><code>return fetch&lt;User&gt;('https://...').then(getData);\n</code></pre>\n"}], "owner": {"reputation": 913, "user_id": 2018219, "user_type": "registered", "accept_rate": 10, "profile_image": "https://www.gravatar.com/avatar/55e91884ce9772558b23918d401f14b7?s=128&d=identicon&r=PG", "display_name": "DanielM", "link": "https://stackoverflow.com/users/2018219/danielm"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 595, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1516787442, "creation_date": 1516779423, "question_id": 48417119, "link": "https://stackoverflow.com/questions/48417119/typescript-type-inference", "title": "TypeScript type inference", "body": "<p>In the following code, I try to create a type-safe function that access the <code>data</code> property of the given input. My goal is to avoid repeating the access to <code>data</code> everywhere, and for this to be worth it I would like to keep boilerplate to a minimum (e.g. I would like TypeScript to infer as many type as possible).</p>\n\n<pre><code>interface User {\n    name: string\n}\n\ninterface HttpResponse&lt;T&gt; {\n    data: T\n    status: number\n}\n\ntype HttpPromise&lt;T&gt; = Promise&lt;HttpResponse&lt;T&gt;&gt;\n\nfunction fetch&lt;T&gt;(url: string): HttpPromise&lt;T&gt; {\n    return\n}\n\nfunction getData&lt;T&gt;(response: HttpResponse&lt;T&gt;): T {\n    return response.data\n}\n\n// Doesn't work: 'Promise&lt;{}&gt;' is not assignable to type 'Promise&lt;User&gt;'.\nfunction fetchUser(): Promise&lt;User&gt; {\n    return fetch('https://...').then(getData)\n}\n</code></pre>\n\n<p>I know how to make it work by explicitly stating more types, but I don't know why this doesn't work already. In particular:</p>\n\n<ol>\n<li>Where does the <code>{}</code> type come from (in <code>Promise&lt;{}&gt;</code>)?</li>\n<li>Why can't TypeScript infer the type of the expression properly, based on the return type?</li>\n</ol>\n\n<p><a href=\"https://www.typescriptlang.org/play/#src=interface%20User%20%7B%0A%20%20%20%20name%3A%20string%0A%7D%0A%0Ainterface%20HttpResponse%3CT%3E%20%7B%0A%20%20%20%20data%3A%20T%0A%20%20%20%20status%3A%20number%0A%7D%0A%0Atype%20HttpPromise%3CT%3E%20%3D%20Promise%3CHttpResponse%3CT%3E%3E%0A%0Afunction%20fetch%3CT%3E(url%3A%20string)%3A%20HttpPromise%3CT%3E%20%7B%0A%20%20%20%20return%0A%7D%0A%0Afunction%20getData%3CT%3E(response%3A%20HttpResponse%3CT%3E)%3A%20T%20%7B%0A%20%20%20%20return%20response.data%0A%7D%0A%0A%2F%2F%20Doesn%27t%20work%3A%20%27Promise%3C%7B%7D%3E%27%20is%20not%20assignable%20to%20type%20%27Promise%3CUser%3E%27.%0A%2F%2F%201)%20Where%20does%20the%20%27%7B%7D%27%20type%20come%20from%3F%0A%2F%2F%202)%20Why%20can%27t%20TypeScript%20infer%20the%20type%20properly%3F%0Afunction%20fetchUser()%3A%20Promise%3CUser%3E%20%7B%0A%20%20%20%20return%20fetch(%27https%3A%2F%2F...%27).then(getData)%0A%7D%0A\" rel=\"nofollow noreferrer\">Link to TypeScript's playground with the code.</a></p>\n"}, {"tags": ["typescript", "reactive-programming", "rxjs5"], "comments": [{"owner": {"reputation": 1666, "user_id": 2830131, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/19FFr.png?s=128&g=1", "display_name": "Tao", "link": "https://stackoverflow.com/users/2830131/tao"}, "edited": false, "score": 2, "creation_date": 1516777452, "post_id": 48415804, "comment_id": 83822731, "body": "There is the <a href=\"http://reactivex.io/rxjs/manual/overview.html#behaviorsubject\" rel=\"nofollow noreferrer\">BehaviorSubject</a> in rxjs that does this."}, {"owner": {"reputation": 28019, "user_id": 1531054, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/FpS9p.png?s=128&g=1", "display_name": "S.D.", "link": "https://stackoverflow.com/users/1531054/s-d"}, "reply_to_user": {"reputation": 1666, "user_id": 2830131, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/19FFr.png?s=128&g=1", "display_name": "Tao", "link": "https://stackoverflow.com/users/2830131/tao"}, "edited": false, "score": 0, "creation_date": 1517221050, "post_id": 48415804, "comment_id": 83990961, "body": "@Tao See updated question."}, {"owner": {"reputation": 1666, "user_id": 2830131, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/19FFr.png?s=128&g=1", "display_name": "Tao", "link": "https://stackoverflow.com/users/2830131/tao"}, "edited": false, "score": 0, "creation_date": 1517235716, "post_id": 48415804, "comment_id": 84000360, "body": "I&#39;m not sure I completely understand what you intend to achieve, but I think you coud try subclassing BehaviorSubject and overriding the <code>next</code> and <code>subscribe</code> methods."}], "owner": {"reputation": 28019, "user_id": 1531054, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/FpS9p.png?s=128&g=1", "display_name": "S.D.", "link": "https://stackoverflow.com/users/1531054/s-d"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 47, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1517221739, "creation_date": 1516773971, "last_edit_date": 1517221739, "question_id": 48415804, "link": "https://stackoverflow.com/questions/48415804/creating-a-sticky-reactive-value-subject", "title": "Creating a sticky reactive value (Subject)", "body": "<p>I intend to create a reactive \"value\" of generic type <code>T</code> with following properties:</p>\n\n<ol>\n<li>It can be used as observable by multiple subscribers.</li>\n<li>The first subscriber triggers a value calculation.</li>\n<li>Any new subscriber is dispatched the last cached value.</li>\n<li>A new value can be externally set anytime and is published to all subscribers.</li>\n<li>When last subscriber is removed, any ongoing calculation must stop.</li>\n<li>When a new value is set externally, any triggered calculation result is ignored.</li>\n</ol>\n\n<p>Intended usage:</p>\n\n<pre><code>// calculates value on demand\nfunction getValue&lt;Number&gt;():Observable&lt;Number&gt;{\n  // return an observable of some number, takes 1-2 seconds to calculate\n}\n\n// sticky observable of value\nconst value = new StickyValue&lt;Number&gt;(getValue);\n\n// first subscriber triggers calculation\nvalue.subscribe((n) =&gt; console.log(n));\n\n// value can be set externally, the subscribers get this value ignoring any triggered calculation result\nvalue.next(500);\n\n// second subscriber gets value that was last set or last calculated\nvalue.subscribe((n) =&gt; console.log(n));\n</code></pre>\n\n<p>Assumptions: <code>calculation()</code> is a simple function that returns Observable of the value</p>\n\n<p>From comments, I find that <code>BehaviourSubject</code> comes close. But it still doesn't satisfy the conditions 2 and 6.</p>\n"}, {"tags": ["javascript", "arrays", "angular", "typescript"], "comments": [{"owner": {"reputation": 35803, "user_id": 3858469, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/Lf9q4.png?s=128&g=1", "display_name": "Aravind", "link": "https://stackoverflow.com/users/3858469/aravind"}, "edited": false, "score": 0, "creation_date": 1516773980, "post_id": 48415756, "comment_id": 83821177, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/48401341/typescript-filter-array-of-objects-by-an-array\">Typescript filter array of objects by an array</a>"}], "answers": [{"tags": [], "owner": {"reputation": 183792, "user_id": 1749403, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/g0aFU.png?s=128&g=1", "display_name": "Sajeetharan", "link": "https://stackoverflow.com/users/1749403/sajeetharan"}, "is_accepted": true, "score": 14, "last_activity_date": 1516773784, "creation_date": 1516773784, "answer_id": 48415766, "question_id": 48415756, "link": "https://stackoverflow.com/questions/48415756/typescript-get-array-of-a-column-value-in-array-of-objects/48415766#48415766", "title": "Typescript get array of a column value in array of objects", "body": "<p>Filter will take only the matching values, You need to use .map</p>\n\n<pre><code>var data = result1.map(x =&gt; x.id);\n</code></pre>\n\n<p><strong>DEMO</strong></p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>var result1 = [\r\n    {id:1, name:'Sandra', type:'user', username:'sandra'},\r\n    {id:2, name:'John', type:'admin', username:'johnny2'},\r\n    {id:3, name:'Peter', type:'user', username:'pete'},\r\n    {id:4, name:'Bobby', type:'user', username:'be_bob'}];\r\n    \r\n \r\nvar data = result1.map(t=&gt;t.id);\r\nconsole.log(data);</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": [], "owner": {"reputation": 658, "user_id": 5375418, "user_type": "registered", "profile_image": "https://graph.facebook.com/10207124759773073/picture?type=large", "display_name": "DarknessZX", "link": "https://stackoverflow.com/users/5375418/darknesszx"}, "is_accepted": false, "score": 2, "last_activity_date": 1516773870, "creation_date": 1516773870, "answer_id": 48415786, "question_id": 48415756, "link": "https://stackoverflow.com/questions/48415756/typescript-get-array-of-a-column-value-in-array-of-objects/48415786#48415786", "title": "Typescript get array of a column value in array of objects", "body": "<p>You need to use map </p>\n\n<pre><code>var data = result1.map(x =&gt; x.id)\n</code></pre>\n"}], "owner": {"reputation": 1417, "user_id": 3616854, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/btp6M.jpg?s=128&g=1", "display_name": "anand", "link": "https://stackoverflow.com/users/3616854/anand"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 14802, "favorite_count": 0, "accepted_answer_id": 48415766, "answer_count": 2, "score": 2, "last_activity_date": 1516774307, "creation_date": 1516773732, "last_edit_date": 1516774307, "question_id": 48415756, "link": "https://stackoverflow.com/questions/48415756/typescript-get-array-of-a-column-value-in-array-of-objects", "title": "Typescript get array of a column value in array of objects", "body": "<p>i have to get array from an array of objects.</p>\n\n<p><strong>Data</strong></p>\n\n<pre><code>var result1 = [\n    {id:1, name:'Sandra', type:'user', username:'sandra'},\n    {id:2, name:'John', type:'admin', username:'johnny2'},\n    {id:3, name:'Peter', type:'user', username:'pete'},\n    {id:4, name:'Bobby', type:'user', username:'be_bob'}\n</code></pre>\n\n<p><strong>My Code</strong></p>\n\n<pre><code>var data = result1.filter(x =&gt; x.id)\n</code></pre>\n\n<p><strong>Expected O/P</strong></p>\n\n<pre><code>var data = [1,2,3,4]\n</code></pre>\n\n<p>my code is not returning the expected result. Thanks in advance</p>\n"}, {"tags": ["angular", "typescript", "angular2-observables"], "comments": [{"owner": {"reputation": 1674, "user_id": 3382670, "user_type": "registered", "accept_rate": 51, "profile_image": "https://i.stack.imgur.com/EFvr5.jpg?s=128&g=1", "display_name": "sia", "link": "https://stackoverflow.com/users/3382670/sia"}, "edited": false, "score": 1, "creation_date": 1516773389, "post_id": 48415514, "comment_id": 83820950, "body": "be more clear on ur question"}, {"owner": {"reputation": 57, "user_id": 5127214, "user_type": "registered", "accept_rate": 50, "profile_image": "https://graph.facebook.com/1616072252007354/picture?type=large", "display_name": "Sid Kasundra", "link": "https://stackoverflow.com/users/5127214/sid-kasundra"}, "reply_to_user": {"reputation": 1674, "user_id": 3382670, "user_type": "registered", "accept_rate": 51, "profile_image": "https://i.stack.imgur.com/EFvr5.jpg?s=128&g=1", "display_name": "sia", "link": "https://stackoverflow.com/users/3382670/sia"}, "edited": false, "score": 0, "creation_date": 1516774499, "post_id": 48415514, "comment_id": 83821380, "body": "i want to decrement the timer to end up the quiz. For example:1:20:60 to 0:0:0. When the timer is over i want to submit the quiz."}, {"owner": {"reputation": 2783, "user_id": 1027936, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/7c00c38a2a2840ee056e39b4a900d274?s=128&d=identicon&r=PG", "display_name": "nicowernli", "link": "https://stackoverflow.com/users/1027936/nicowernli"}, "edited": false, "score": 0, "creation_date": 1516776215, "post_id": 48415514, "comment_id": 83822152, "body": "We can&#39;t help you if you don&#39;t share the code where you generate the counter value"}, {"owner": {"reputation": 630270, "user_id": 571407, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2f0d9dec16bae1e06552af55ddefc11f?s=128&d=identicon&r=PG", "display_name": "JB Nizet", "link": "https://stackoverflow.com/users/571407/jb-nizet"}, "edited": false, "score": 0, "creation_date": 1516776998, "post_id": 48415514, "comment_id": 83822532, "body": "Take your time modulo 60: that&#39;s the second part. Divide by 60 and take modulo 60, that&#39;s the minutes part. Divide by 3600, that&#39;s the hours part. Simple math."}, {"owner": {"reputation": 28589, "user_id": 8558186, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8af66bb1af6d1875a2dd7be9dd1c8d2b?s=128&d=identicon&r=PG&f=1", "display_name": "Eliseo", "link": "https://stackoverflow.com/users/8558186/eliseo"}, "edited": false, "score": 0, "creation_date": 1516780943, "post_id": 48415514, "comment_id": 83824550, "body": "You can &quot;force&quot; Date Pipe and use miliseconds, so, you can write {{miliseconds |date:&#39;HH:mm:ss&#39;:&#39;+0000&#39;}}"}, {"owner": {"reputation": 57, "user_id": 5127214, "user_type": "registered", "accept_rate": 50, "profile_image": "https://graph.facebook.com/1616072252007354/picture?type=large", "display_name": "Sid Kasundra", "link": "https://stackoverflow.com/users/5127214/sid-kasundra"}, "edited": false, "score": 0, "creation_date": 1516782560, "post_id": 48415514, "comment_id": 83825340, "body": "i&#39;m new in angular 2 so i didn&#39;t know how to pass value of second in pipe and show them in hh:mm:ss format"}, {"owner": {"reputation": 168, "user_id": 7375516, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xV7g2.jpg?s=128&g=1", "display_name": "Sudhir Kaushik", "link": "https://stackoverflow.com/users/7375516/sudhir-kaushik"}, "edited": false, "score": 0, "creation_date": 1516784446, "post_id": 48415514, "comment_id": 83826467, "body": "You don&#39;t need Angular for that. Thats vanilla JS stuff."}], "answers": [{"tags": [], "owner": {"reputation": 698, "user_id": 5606128, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/o5nmx.jpg?s=128&g=1", "display_name": "Americo Arvani", "link": "https://stackoverflow.com/users/5606128/americo-arvani"}, "is_accepted": false, "score": 0, "last_activity_date": 1516821635, "last_edit_date": 1516821635, "creation_date": 1516790201, "answer_id": 48420358, "question_id": 48415514, "link": "https://stackoverflow.com/questions/48415514/how-can-i-convert-sec-into-hhmmss-format-in-angular2/48420358#48420358", "title": "how can i convert sec into hh:mm:ss format in angular2", "body": "<p>Hello here one suggestion.</p>\n\n<pre><code>import {Component, Directive, Output, OnInit, EventEmitter, Input, SimpleChange} from '@angular/core'\n    import {Observable} from 'rxjs/Observable';\n    import {Observer} from 'rxjs/Observer';\n    import 'rxjs/Rx';\n\n\n    @Component({\n      selector: 'my-app',\n      template: `\n      {{ timeMask(tick) }}\n      `\n    })\n    export class App implements OnInit {\n\n      private tick: number = 72;\n      private myobs = Observable.timer(1000,1000).map( m =&gt;  m );\n\n      ngOnInit(){\n        this.myobs.subscribe( x =&gt; if( this.tick &gt; 0){ this.tick-- } );\n      }\n\n      timeMask(value: number): string {\n           const minutes: number = Math.floor(value / 60);\n           return minutes + ':' + (value - minutes * 60);\n       }\n\n    }\n</code></pre>\n\n<p>also <a href=\"https://plnkr.co/edit/BS1cYlCEakcEv5GtdT10?p=preview\" rel=\"nofollow noreferrer\">link for the plunker</a></p>\n"}, {"tags": [], "owner": {"reputation": 57, "user_id": 5127214, "user_type": "registered", "accept_rate": 50, "profile_image": "https://graph.facebook.com/1616072252007354/picture?type=large", "display_name": "Sid Kasundra", "link": "https://stackoverflow.com/users/5127214/sid-kasundra"}, "is_accepted": true, "score": 1, "last_activity_date": 1516873243, "creation_date": 1516873243, "answer_id": 48439742, "question_id": 48415514, "link": "https://stackoverflow.com/questions/48415514/how-can-i-convert-sec-into-hhmmss-format-in-angular2/48439742#48439742", "title": "how can i convert sec into hh:mm:ss format in angular2", "body": "<p>I implemented this code by my own  </p>\n\n<pre><code>var callDuration = this.elementRef.nativeElement.querySelector('#time');\nthis.startTimer(callDuration);\n\nstartTimer(display){\nvar timer = 3600;\nvar minutes;\nvar seconds;\nvar hours;\nthis.display1=display;\n\n  this.sub = Observable.interval(1000).subscribe(x =&gt; {\n  hours = Math.floor(timer / 3600)\n  minutes = Math.floor((timer % 3600)/60);\n  seconds = Math.floor(timer % 60);\n\n  hours = minutes &lt; 10 ? \"0\" + hours : hours;\n  minutes = minutes &lt; 10 ? \"0\" + minutes : minutes;\n  seconds = seconds &lt; 10 ? \"0\" + seconds : seconds;\n\n  display.textContent = hours + \":\" + minutes + \":\" + seconds;\n\n  --timer;\n  if (timer &lt; -1) {\n    this.sub.unsubscribe();\n    display.textContent =\"00:00:00\";\n    window.alert(\"Times Up, Quiz Submitted\");\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 28589, "user_id": 8558186, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8af66bb1af6d1875a2dd7be9dd1c8d2b?s=128&d=identicon&r=PG&f=1", "display_name": "Eliseo", "link": "https://stackoverflow.com/users/8558186/eliseo"}, "is_accepted": false, "score": 0, "last_activity_date": 1517388755, "last_edit_date": 1517388755, "creation_date": 1517385157, "answer_id": 48537121, "question_id": 48415514, "link": "https://stackoverflow.com/questions/48415514/how-can-i-convert-sec-into-hhmmss-format-in-angular2/48537121#48537121", "title": "how can i convert sec into hh:mm:ss format in angular2", "body": "<pre><code>import {Observable} from 'rxjs/Observable';\nimport 'rxjs/add/observable/interval';\nimport 'rxjs/add/operator/takeWhile';\n\n@Component({\n  selector: 'app-root',\n  template: `\n  {{miliseconds |date:'HH:mm:ss':'+0000'}} \n  `\n})\nexport class AppComponent implements OnInit {\n  miliseconds:number\n  alive:boolean=true;\n  ngOnInit()\n  {\n    this.miliseconds=5000;\n    Observable.interval(1000)\n        .takeWhile(()=&gt;this.alive)\n        .subscribe(x =&gt; {\n             this.miliseconds-=1000;\n             if (this.miliseconds&lt;0)\n             {\n               this.miliseconds=0;\n               this.alive=false;\n               window.alert(\"Times Up, Quiz Submitted\");\n             }\n         })\n  }\n}\n</code></pre>\n"}], "owner": {"reputation": 57, "user_id": 5127214, "user_type": "registered", "accept_rate": 50, "profile_image": "https://graph.facebook.com/1616072252007354/picture?type=large", "display_name": "Sid Kasundra", "link": "https://stackoverflow.com/users/5127214/sid-kasundra"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2045, "favorite_count": 0, "accepted_answer_id": 48439742, "answer_count": 3, "score": 1, "last_activity_date": 1517388755, "creation_date": 1516772458, "last_edit_date": 1516782453, "question_id": 48415514, "link": "https://stackoverflow.com/questions/48415514/how-can-i-convert-sec-into-hhmmss-format-in-angular2", "title": "how can i convert sec into hh:mm:ss format in angular2", "body": "<p>i have tried this </p>\n\nTime Left={{counter}}\n\n<p><br>\nbut it show me just in second format.\ni want in hh:mm:ss format.\ni want to implement his functionality in quiz timer where timer is decreased.\nin my .ts file i take var counter and decrement using .map method using angular OBSERVABLE method.</p>\n\n<p>i want to decrement the timer to end up the quiz. For example:1:20:60 to 0:0:0. When the timer is over i want to submit the quiz.</p>\n\n<p>starttimer(){</p>\n\n<pre><code>this.countDown = Observable.timer(0,1000)\n.take(this.counter)\n.map( x=&gt; --this.counter)\n.subscribe(x=&gt;this.timer(x))\n</code></pre>\n\n<p>}</p>\n"}, {"tags": ["javascript", "arrays", "json", "sorting", "typescript"], "comments": [{"owner": {"reputation": 4010, "user_id": 2825551, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/vCq8n.jpg?s=128&g=1", "display_name": "Jhecht", "link": "https://stackoverflow.com/users/2825551/jhecht"}, "edited": false, "score": 0, "creation_date": 1516767917, "post_id": 48414760, "comment_id": 83819394, "body": "<code>array.reduce</code> seems like a good case for this. You would pass it a function that would check if the given <code>inspection_date</code> exists in the current object as a key -- if no, add an empty array to that key -- then just use <code>array.push</code>"}], "answers": [{"comments": [{"owner": {"reputation": 815, "user_id": 540174, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/FK7ev.jpg?s=128&g=1", "display_name": "Zeratas", "link": "https://stackoverflow.com/users/540174/zeratas"}, "edited": false, "score": 1, "creation_date": 1516768828, "post_id": 48414858, "comment_id": 83819610, "body": "I&#39;ll have to do some testing, but so far, looks like it worked! I&#39;ve done some map/reduce in Java, but not JS yet. I&#39;ll def have to check it out and practice a bit more! Thanks!"}, {"owner": {"reputation": 4010, "user_id": 2825551, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/vCq8n.jpg?s=128&g=1", "display_name": "Jhecht", "link": "https://stackoverflow.com/users/2825551/jhecht"}, "reply_to_user": {"reputation": 815, "user_id": 540174, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/FK7ev.jpg?s=128&g=1", "display_name": "Zeratas", "link": "https://stackoverflow.com/users/540174/zeratas"}, "edited": false, "score": 0, "creation_date": 1516769697, "post_id": 48414858, "comment_id": 83819847, "body": "Glad to help, let me know if an error pops up with the code that you are uncertain of how to fix."}], "tags": [], "owner": {"reputation": 4010, "user_id": 2825551, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/vCq8n.jpg?s=128&g=1", "display_name": "Jhecht", "link": "https://stackoverflow.com/users/2825551/jhecht"}, "is_accepted": true, "score": 1, "last_activity_date": 1516768398, "creation_date": 1516768398, "answer_id": 48414858, "question_id": 48414760, "link": "https://stackoverflow.com/questions/48414760/trying-to-dynamically-organize-json-object-elements-into-different-arrays-based/48414858#48414858", "title": "Trying to dynamically organize JSON object elements into different arrays based on values", "body": "<p>I wrote this in jQuery just because it was faster for me, but it should translate fairly well to Angular (I just don't want to fiddle with an angular app right now)</p>\n\n<p>Let me know if you have any questions.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>$(function() {\r\n  let byDateObj = {};\r\n  $.ajax({\r\n    url: 'https://data.cityofnewyork.us/resource/xx67-kt59.json?$where=camis%20=%2230112340%22'\r\n  }).then(function(data) {\r\n    //probably do a check to make sure the data is an array, im gonna skip that\r\n    byDateObj = data.reduce(function(cum, cur) {\r\n      if (!cum.hasOwnProperty(cur.inspection_date)) cum[cur.inspection_date] = [];\r\n      //if the cumulative array doesn't have the inspection property already, add it as an empty array\r\n      cum[cur.inspection_date].push(cur);\r\n      //push to inspection_date array.\r\n      return cum;\r\n      //return cumulatie object\r\n    }, byDateObj);\r\n    //start with an empty object by default;\r\n    console.log(byDateObj);\r\n  }, console.error);\r\n});</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;script src=\"https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js\"&gt;&lt;/script&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 815, "user_id": 540174, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/FK7ev.jpg?s=128&g=1", "display_name": "Zeratas", "link": "https://stackoverflow.com/users/540174/zeratas"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 58, "favorite_count": 0, "accepted_answer_id": 48414858, "answer_count": 1, "score": 0, "last_activity_date": 1516768398, "creation_date": 1516767671, "question_id": 48414760, "link": "https://stackoverflow.com/questions/48414760/trying-to-dynamically-organize-json-object-elements-into-different-arrays-based", "title": "Trying to dynamically organize JSON object elements into different arrays based on values", "body": "<p>This is the JSON I'm working with:</p>\n\n<p><a href=\"https://data.cityofnewyork.us/resource/xx67-kt59.json\" rel=\"nofollow noreferrer\">https://data.cityofnewyork.us/resource/xx67-kt59.json</a>?$where=camis%20=%2230112340%22</p>\n\n<p>I'd be dynamically making the queries using different data, so it'll possibly change.</p>\n\n<p>What I'm essentially trying to do is to somehow organize the elements within this array into different arrays based on inspection_date.</p>\n\n<p>So for each unique inspection_date value, those respective inspections would be put into its own collection.</p>\n\n<ol>\n<li>If I knew the dates beforehand, I could easily iterate through each element and just push into an array.</li>\n<li>Is there a way to dynamically create the arrays?</li>\n</ol>\n\n<p>My end goal is to be able to display each group of inspections (based on inspection date) using Angular 5 on a webpage. I already have the site up and working and all of the requests being made.</p>\n\n<p>So, I'm trying to eventually get to something like this. But of course, using whatever dates in the response from the request.</p>\n\n<p><strong>2016-10-03T00:00:00</strong></p>\n\n<p>List the inspections</p>\n\n<p><strong>2016-04-30T00:00:00</strong></p>\n\n<p>List the inspections</p>\n\n<p><strong>2016-04-12T00:00:00</strong></p>\n\n<p>List the inspections</p>\n\n<p>Just for reference, here's the code I'm using:</p>\n\n<pre><code>  ngOnInit() {\n    this.route.params.subscribe(params =&gt; {\n      this.title = +params['camis']; // (+) converts string 'id' to a number\n      this.q.getInpectionsPerCamis(this.title).subscribe((res) =&gt; {\n        this.inspectionList = res;\n          console.log(res);\n      });\n      // In a real app: dispatch action to load the details here.\n\n    });\n\n  }\n</code></pre>\n\n<p>I wish I could give you more info, but at this point, I'm just trying to get started.</p>\n"}, {"tags": ["javascript", "angular", "typescript", "mapbox-gl-js"], "comments": [{"owner": {"reputation": 183792, "user_id": 1749403, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/g0aFU.png?s=128&g=1", "display_name": "Sajeetharan", "link": "https://stackoverflow.com/users/1749403/sajeetharan"}, "edited": false, "score": 0, "creation_date": 1516767094, "post_id": 48414668, "comment_id": 83819189, "body": "which array you want to loop?"}, {"owner": {"reputation": 1886, "user_id": 7616010, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/61d48d3e4a5f2bf3d44b9b9d65393e95?s=128&d=identicon&r=PG&f=1", "display_name": "Bhrungarajni", "link": "https://stackoverflow.com/users/7616010/bhrungarajni"}, "reply_to_user": {"reputation": 183792, "user_id": 1749403, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/g0aFU.png?s=128&g=1", "display_name": "Sajeetharan", "link": "https://stackoverflow.com/users/1749403/sajeetharan"}, "edited": false, "score": 0, "creation_date": 1516767119, "post_id": 48414668, "comment_id": 83819192, "body": "the coordinates array"}, {"owner": {"reputation": 923, "user_id": 6756805, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/12b08555f1511d80b7cd040c045934c3?s=128&d=identicon&r=PG&f=1", "display_name": "Hema", "link": "https://stackoverflow.com/users/6756805/hema"}, "edited": false, "score": 0, "creation_date": 1516777407, "post_id": 48414668, "comment_id": 83822702, "body": "your map.addLayer declaration is wrong. Make tht as array"}], "answers": [{"comments": [{"owner": {"reputation": 1886, "user_id": 7616010, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/61d48d3e4a5f2bf3d44b9b9d65393e95?s=128&d=identicon&r=PG&f=1", "display_name": "Bhrungarajni", "link": "https://stackoverflow.com/users/7616010/bhrungarajni"}, "edited": false, "score": 0, "creation_date": 1516767509, "post_id": 48414731, "comment_id": 83819289, "body": "ya i need like this kind in html.. but in ts i must write the function in an array"}, {"owner": {"reputation": 183792, "user_id": 1749403, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/g0aFU.png?s=128&g=1", "display_name": "Sajeetharan", "link": "https://stackoverflow.com/users/1749403/sajeetharan"}, "reply_to_user": {"reputation": 1886, "user_id": 7616010, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/61d48d3e4a5f2bf3d44b9b9d65393e95?s=128&d=identicon&r=PG&f=1", "display_name": "Bhrungarajni", "link": "https://stackoverflow.com/users/7616010/bhrungarajni"}, "edited": false, "score": 0, "creation_date": 1516767548, "post_id": 48414731, "comment_id": 83819296, "body": "Replace the same code inside .ts using let(let cordinates of source.data.features)"}, {"owner": {"reputation": 1886, "user_id": 7616010, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/61d48d3e4a5f2bf3d44b9b9d65393e95?s=128&d=identicon&r=PG&f=1", "display_name": "Bhrungarajni", "link": "https://stackoverflow.com/users/7616010/bhrungarajni"}, "edited": false, "score": 0, "creation_date": 1516767642, "post_id": 48414731, "comment_id": 83819319, "body": "ya in .ts file only i had written the above function, and i have used only import mapboxgl from &#39;mapbox-gl&#39;;"}, {"owner": {"reputation": 1886, "user_id": 7616010, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/61d48d3e4a5f2bf3d44b9b9d65393e95?s=128&d=identicon&r=PG&f=1", "display_name": "Bhrungarajni", "link": "https://stackoverflow.com/users/7616010/bhrungarajni"}, "edited": false, "score": 0, "creation_date": 1516767722, "post_id": 48414731, "comment_id": 83819340, "body": "I got this error, after placing html Can&#39;t bind to &#39;latitude&#39; since it isn&#39;t a known property of &#39;div&#39;. (&quot;inates of source.data.features&quot; &gt;   &lt;div *ngFor=&quot;let cordiante of cordinates.geometry.coordinates&quot; [ERROR -&gt;][latitude]=&quot;m[0]&quot; [longitude]=&quot;m[1]&quot; id=&quot;maps&quot; style=&quot;height:440px&quot;&gt;&lt;/div&gt; &lt;/ng-container&gt;"}, {"owner": {"reputation": 183792, "user_id": 1749403, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/g0aFU.png?s=128&g=1", "display_name": "Sajeetharan", "link": "https://stackoverflow.com/users/1749403/sajeetharan"}, "reply_to_user": {"reputation": 1886, "user_id": 7616010, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/61d48d3e4a5f2bf3d44b9b9d65393e95?s=128&d=identicon&r=PG&f=1", "display_name": "Bhrungarajni", "link": "https://stackoverflow.com/users/7616010/bhrungarajni"}, "edited": false, "score": 0, "creation_date": 1516767791, "post_id": 48414731, "comment_id": 83819353, "body": "you need to replace with map"}, {"owner": {"reputation": 1886, "user_id": 7616010, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/61d48d3e4a5f2bf3d44b9b9d65393e95?s=128&d=identicon&r=PG&f=1", "display_name": "Bhrungarajni", "link": "https://stackoverflow.com/users/7616010/bhrungarajni"}, "edited": false, "score": 0, "creation_date": 1516767848, "post_id": 48414731, "comment_id": 83819371, "body": "should i put the html as it is given by you? and how about the array in this.source?"}], "tags": [], "owner": {"reputation": 183792, "user_id": 1749403, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/g0aFU.png?s=128&g=1", "display_name": "Sajeetharan", "link": "https://stackoverflow.com/users/1749403/sajeetharan"}, "is_accepted": false, "score": 0, "last_activity_date": 1516767423, "creation_date": 1516767423, "answer_id": 48414731, "question_id": 48414668, "link": "https://stackoverflow.com/questions/48414668/how-to-loop-the-contents-of-mapbox-in-an-array-using-angular2-to-use-inside-ngf/48414731#48414731", "title": "How to loop the contents of mapbox in an array using angular2 to use inside *ngFor", "body": "<p>You need nested <strong><code>ngFor</code></strong> as below</p>\n\n<pre><code>&lt;ng-container *ngFor=\"let cordinates of source.data.features\" &gt; \n &lt;div *ngFor=\"let cordiante of cordinates.geometry.coordinates\" [latitude]=\"m[0]\" [longitude]=\"m[1]\" &gt;&lt;/div&gt;\n&lt;/ng-container&gt;\n</code></pre>\n\n<p>and assign </p>\n\n<pre><code>this.source = yourArray; \n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 923, "user_id": 6756805, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/12b08555f1511d80b7cd040c045934c3?s=128&d=identicon&r=PG&f=1", "display_name": "Hema", "link": "https://stackoverflow.com/users/6756805/hema"}, "is_accepted": false, "score": 0, "last_activity_date": 1516777469, "creation_date": 1516777469, "answer_id": 48416633, "question_id": 48414668, "link": "https://stackoverflow.com/questions/48414668/how-to-loop-the-contents-of-mapbox-in-an-array-using-angular2-to-use-inside-ngf/48416633#48416633", "title": "How to loop the contents of mapbox in an array using angular2 to use inside *ngFor", "body": "<pre><code>You will get array now. Loop tht now in html using *ngFor\n\n  map.addLayer = [{\n  \"id\": \"points\",\n  \"type\": \"circle\",\n  \"paint\":{\n    \"circle-radius\":10,\n    \"circle-color\":'rgba(55,148,179,1)'    \n  },\n  \"source\": {\n    \"type\": \"geojson\",\n    \"data\": {\n      \"type\": \"FeatureCollection\",\n      \"features\": [\n        {\n          \"type\": \"Feature\",\n          \"properties\": {},\n          \"geometry\": {\n            \"type\": \"Point\",\n            \"coordinates\": [12.568337,55.676098]\n          }\n        },\n        {\n          \"type\": \"Feature\",\n          \"properties\": {},\n          \"geometry\": {\n            \"type\": \"Point\",\n            \"coordinates\": [13.077576,55.670667]\n          }\n        },\n        {\n          \"type\": \"Feature\",\n          \"properties\": {},\n          \"geometry\": {\n            \"type\": \"Point\",\n            \"coordinates\": [12.35112,55.816349]\n          }\n        }\n      ]\n    }\n  },\n}];\n</code></pre>\n"}], "owner": {"reputation": 1886, "user_id": 7616010, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/61d48d3e4a5f2bf3d44b9b9d65393e95?s=128&d=identicon&r=PG&f=1", "display_name": "Bhrungarajni", "link": "https://stackoverflow.com/users/7616010/bhrungarajni"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 198, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1516777469, "creation_date": 1516766932, "question_id": 48414668, "link": "https://stackoverflow.com/questions/48414668/how-to-loop-the-contents-of-mapbox-in-an-array-using-angular2-to-use-inside-ngf", "title": "How to loop the contents of mapbox in an array using angular2 to use inside *ngFor", "body": "<p>i have written the function to give markers with respect to coordinates given in typescript, but i want to put those in an array and loop it. so that it can be used in html with *ngFor can anyone help me to sort this issue.</p>\n\n<p>TS:</p>\n\n<pre><code>mapboxgl.accessToken = 'pk.eyJ1IjoicmFrc2hpdGhhMTkiLCJhIjoiY2pjcHl1YW5wMjR5czJ6bzdqdjZrbDRzeSJ9.OOqu6zVyNsXavzCsYoBdPA';\n    var map = new mapboxgl.Map({\n      container: 'maps',\n      style: 'mapbox://styles/mapbox/streets-v9',\n      center: [12.568337,55.676098],\n      zoom: 9\n});\n\n  map.on('load', function () {\n    map.addLayer({\n      \"id\": \"points\",\n      \"type\": \"circle\",\n      \"paint\":{\n        \"circle-radius\":10,\n        \"circle-color\":'rgba(55,148,179,1)'    \n      },\n      \"source\": {\n        \"type\": \"geojson\",\n        \"data\": {\n          \"type\": \"FeatureCollection\",\n          \"features\": [\n            {\n              \"type\": \"Feature\",\n              \"properties\": {},\n              \"geometry\": {\n                \"type\": \"Point\",\n                \"coordinates\": [12.568337,55.676098]\n              }\n            },\n            {\n              \"type\": \"Feature\",\n              \"properties\": {},\n              \"geometry\": {\n                \"type\": \"Point\",\n                \"coordinates\": [13.077576,55.670667]\n              }\n            },\n            {\n              \"type\": \"Feature\",\n              \"properties\": {},\n              \"geometry\": {\n                \"type\": \"Point\",\n                \"coordinates\": [12.35112,55.816349]\n              }\n            }\n          ]\n        }\n      },\n    });\n});\n</code></pre>\n\n<p>HTML:</p>\n\n<pre><code>&lt;div id='maps' style=\"height:440px\"&gt;&lt;/div&gt;\n</code></pre>\n"}, {"tags": ["typescript", "typescript2.0"], "comments": [{"owner": {"reputation": 175871, "user_id": 454533, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/c7715e765817254e0534f89a4092c0aa?s=128&d=identicon&r=PG", "display_name": "Explosion Pills", "link": "https://stackoverflow.com/users/454533/explosion-pills"}, "edited": false, "score": 3, "creation_date": 1516764227, "post_id": 48414277, "comment_id": 83818485, "body": "You have several questions here so you should probably split them up, but a lot of these questions have existing answers. For starters: <a href=\"https://stackoverflow.com/questions/43712705/why-does-typescript-use-like-types\" title=\"why does typescript use like types\">stackoverflow.com/questions/43712705/&hellip;</a>"}], "answers": [{"tags": [], "owner": {"reputation": 204459, "user_id": 390330, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/1400be56ff17549b926dd3260da4a494?s=128&d=identicon&r=PG", "display_name": "basarat", "link": "https://stackoverflow.com/users/390330/basarat"}, "is_accepted": false, "score": 5, "last_activity_date": 1516764331, "creation_date": 1516764331, "answer_id": 48414344, "question_id": 48414277, "link": "https://stackoverflow.com/questions/48414277/promise-void-in-typescript/48414344#48414344", "title": "&lt;promise void&gt; in typescript", "body": "<blockquote>\n  <ol>\n  <li>I am but not the part <code>const htmlElementsMap: Object</code></li>\n  </ol>\n</blockquote>\n\n<p><code>:Object</code> is a type annotation. <a href=\"https://basarat.gitbooks.io/typescript/docs/types/type-system.html\" rel=\"noreferrer\">Some notes on type annotations</a></p>\n\n<blockquote>\n  <ol start=\"2\">\n  <li>What is an <code>Object</code></li>\n  </ol>\n</blockquote>\n\n<p>It is the type of standard JavaScript objects : <a href=\"https://developer.mozilla.org/en-US/docs/Glossary/Object\" rel=\"noreferrer\">https://developer.mozilla.org/en-US/docs/Glossary/Object</a></p>\n\n<blockquote>\n  <ol start=\"3\">\n  <li>what does this <code>PromiseLike&lt;void&gt;</code> means:</li>\n  </ol>\n</blockquote>\n\n<p><code>PromiseLike</code> is something that follows the a+ promise spec : <a href=\"https://promisesaplus.com/\" rel=\"noreferrer\">https://promisesaplus.com/</a></p>\n\n<p>The browser native <code>Promise</code> is one implementation : <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise\" rel=\"noreferrer\">https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise</a></p>\n\n<p><code>&lt;void&gt;</code> is a <a href=\"https://basarat.gitbooks.io/typescript/docs/types/generics.html\" rel=\"noreferrer\">generic type annotation</a>. </p>\n\n<blockquote>\n  <ol start=\"4\">\n  <li>What does implements means</li>\n  </ol>\n</blockquote>\n\n<p>It means it <em>follows</em> the types <a href=\"https://basarat.gitbooks.io/typescript/docs/types/interfaces.html\" rel=\"noreferrer\">present in the interface</a>.</p>\n\n<blockquote>\n  <ol start=\"5\">\n  <li>What is a static and why it is assigned to the class name</li>\n  </ol>\n</blockquote>\n\n<p>What is static: It is a type of member present <a href=\"https://basarat.gitbooks.io/typescript/docs/classes.html\" rel=\"noreferrer\">on classes</a>.</p>\n\n<p>Why it is assigned to the class name: It is not. <code>: AddItemsToShoppingBag</code> is a return <a href=\"https://basarat.gitbooks.io/typescript/docs/types/type-system.html\" rel=\"noreferrer\">type annotation</a>, <em>not an assignment</em>. </p>\n"}], "owner": {"reputation": 55, "user_id": 9221404, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/34e8e034116b1b38e279e4c6eb2ee5a9?s=128&d=identicon&r=PG&f=1", "display_name": "J Don", "link": "https://stackoverflow.com/users/9221404/j-don"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 10688, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1573118595, "creation_date": 1516763732, "last_edit_date": 1573118595, "question_id": 48414277, "link": "https://stackoverflow.com/questions/48414277/promise-void-in-typescript", "title": "&lt;promise void&gt; in typescript", "body": "<p>I am trying to learn typescript but i am not clear on few concepts on typescript such as:</p>\n\n<p>1) I am but not the part <code>Object = Object.assign</code></p>\n\n<pre><code>export const htmlElementsMap: Object = Object.assign(\n  {},\n  homePageElementsMap,\n  loginPageElementsMap,\n  productDetailPageElementsMap,\n  productListPageElementsMap,\n  shoppingBagPageElementsMap,\n  thankYouPageElementsMap\n);\n</code></pre>\n\n<p>2) Same with this part <code>export const UrlNavigationMap: Object = {</code>\nWhat is an object?</p>\n\n<p>3) For this function i am not sure what does this <code>PromiseLike&lt;void&gt;</code> means:</p>\n\n<pre><code>performAs(actor: PerformsTasks): PromiseLike&lt;void&gt; {\n    return actor.attemptsTo(\n      Click.on(homePageElementsMap.lnk_men),\n      SearchItemBySku.called()\n    );\n  }\n</code></pre>\n\n<p>4) <code>export class FillShippingAddress implements Task {}</code> - What does implements means?</p>\n\n<p>and last:</p>\n\n<p>5) What is a <code>static</code> and why it is assigned to the class name?</p>\n\n<pre><code>export class AddItemsToShoppingBag implements Task{\n  static called(gender: string): AddItemsToShoppingBag {\n    return new AddItemsToShoppingBag(gender);\n  }\n</code></pre>\n"}, {"tags": ["typescript", "aurelia"], "comments": [{"owner": {"reputation": 2841, "user_id": 4205470, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/RCXsv.jpg?s=128&g=1", "display_name": "Bal&#225;zs", "link": "https://stackoverflow.com/users/4205470/bal%c3%a1zs"}, "edited": false, "score": 1, "creation_date": 1516965313, "post_id": 48413989, "comment_id": 83913309, "body": "Why couldn&#39;t you get it working using AMD? It transpiled it for me to that with no problems."}, {"owner": {"reputation": 2841, "user_id": 4205470, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/RCXsv.jpg?s=128&g=1", "display_name": "Bal&#225;zs", "link": "https://stackoverflow.com/users/4205470/bal%c3%a1zs"}, "edited": false, "score": 1, "creation_date": 1516965985, "post_id": 48413989, "comment_id": 83913642, "body": "What&#39;s more, the app is running fine for me without any 404s. I inspected the app bundle and your shared items are there. This tells me that your basic structure is correct, and we should indeed focus on why you cannot transpile to AMD."}, {"owner": {"reputation": 5907, "user_id": 67624, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/dbca13ac37089800762b293c652e39de?s=128&d=identicon&r=PG", "display_name": "Sam", "link": "https://stackoverflow.com/users/67624/sam"}, "reply_to_user": {"reputation": 2841, "user_id": 4205470, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/RCXsv.jpg?s=128&g=1", "display_name": "Bal&#225;zs", "link": "https://stackoverflow.com/users/4205470/bal%c3%a1zs"}, "edited": false, "score": 0, "creation_date": 1517185357, "post_id": 48413989, "comment_id": 83978786, "body": "Thanks, I just changed the module format to AMD in the library project and it really is working for me now - it wasn&#39;t the first time I tried AMD, but I think that was because I hadn&#39;t setup the index file for the package so I wasn&#39;t able to consume the types from the application project. Thank you for your help."}], "answers": [{"tags": [], "owner": {"reputation": 5907, "user_id": 67624, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/dbca13ac37089800762b293c652e39de?s=128&d=identicon&r=PG", "display_name": "Sam", "link": "https://stackoverflow.com/users/67624/sam"}, "is_accepted": false, "score": 2, "last_activity_date": 1517201595, "creation_date": 1517201595, "answer_id": 48494582, "question_id": 48413989, "link": "https://stackoverflow.com/questions/48413989/how-to-share-typescript-code-correctly-between-aurelia-cli-projects/48494582#48494582", "title": "How to share TypeScript code correctly between Aurelia CLI projects?", "body": "<p>The solution was just to change the module output in tsconfig.json in the Shared.Lib project to \"amd\", with no other changes (ie, keeping outDir set to \"dist\" as well).</p>\n\n<p>The index.ts file works correctly to export all types, and the AMD format is bundled correctly by Aurelia for runtime deployment.</p>\n\n<p>I've updated the repository in case anyone wants to use it as a starting point.</p>\n"}], "owner": {"reputation": 5907, "user_id": 67624, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/dbca13ac37089800762b293c652e39de?s=128&d=identicon&r=PG", "display_name": "Sam", "link": "https://stackoverflow.com/users/67624/sam"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 105, "favorite_count": 1, "answer_count": 1, "score": 1, "last_activity_date": 1517201595, "creation_date": 1516761458, "question_id": 48413989, "link": "https://stackoverflow.com/questions/48413989/how-to-share-typescript-code-correctly-between-aurelia-cli-projects", "title": "How to share TypeScript code correctly between Aurelia CLI projects?", "body": "<p>I'm trying to develop a local Node package written in TypeScript that I can import into multiple Aurelia CLI projects in the same solution.</p>\n\n<p>I've created a sample solution at:</p>\n\n<p><a href=\"https://github.com/sam-piper/aurelia-library\" rel=\"nofollow noreferrer\">https://github.com/sam-piper/aurelia-library</a> </p>\n\n<p>which demonstrates my progress so far - the tooling mirrors our development infrastructure (VS 2017 / ASP.NET Core / Aurelia CLI / TypeScript).</p>\n\n<p>The shared exports are compiling correctly in the referencing Aurelia project, and <strong>au build</strong> is also working with no reported errors, but the files are not being bundled correctly, resulting in lots of 404 errors for individual script files when the application loads.</p>\n\n<p>Basically, I need help trying to get this final step working. I'm not sure exactly how the shared project should be structured and built so that it will be compatible for both TypeScript compilation AND Aurelia bundling.</p>\n\n<p>Open to any suggestions!</p>\n"}, {"tags": ["typescript"], "comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user8321027"}, "edited": false, "score": 0, "creation_date": 1516759221, "post_id": 48413651, "comment_id": 83817370, "body": "I got a solution, but I wonder if I can do it better. My solution: Object.keys(ObservationType).filter(o =&gt; !isNaN(o as any))"}, {"owner": {"reputation": 175871, "user_id": 454533, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/c7715e765817254e0534f89a4092c0aa?s=128&d=identicon&r=PG", "display_name": "Explosion Pills", "link": "https://stackoverflow.com/users/454533/explosion-pills"}, "edited": false, "score": 0, "creation_date": 1516760105, "post_id": 48413651, "comment_id": 83817584, "body": "Why are you trying to get these keys?"}, {"owner": {"user_type": "does_not_exist", "display_name": "user8321027"}, "reply_to_user": {"reputation": 175871, "user_id": 454533, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/c7715e765817254e0534f89a4092c0aa?s=128&d=identicon&r=PG", "display_name": "Explosion Pills", "link": "https://stackoverflow.com/users/454533/explosion-pills"}, "edited": false, "score": 0, "creation_date": 1516765368, "post_id": 48413651, "comment_id": 83818778, "body": "I need to show some fields for each observation type with some particularities"}], "answers": [{"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user8321027"}, "edited": false, "score": 0, "creation_date": 1516765295, "post_id": 48414184, "comment_id": 83818762, "body": "Thanks basarat, it&#39;s like my solution that I posted as a comment to my post, my target was get only number values, so I did it: Object.keys(ObservationType).filter(o =&gt; !isNaN(o as any))"}, {"owner": {"reputation": 204459, "user_id": 390330, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/1400be56ff17549b926dd3260da4a494?s=128&d=identicon&r=PG", "display_name": "basarat", "link": "https://stackoverflow.com/users/390330/basarat"}, "edited": false, "score": 0, "creation_date": 1516788859, "post_id": 48414184, "comment_id": 83829312, "body": "<code>isNaN</code> to check <i>number</i> is a bad idea. It should be used for <code>NaN</code> (not a number is a special value)"}, {"owner": {"reputation": 723, "user_id": 5991278, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/humJX.jpg?s=128&g=1", "display_name": "philraj", "link": "https://stackoverflow.com/users/5991278/philraj"}, "edited": false, "score": 3, "creation_date": 1560799321, "post_id": 48414184, "comment_id": 99846224, "body": "This won&#39;t work. <code>Object.keys([&#39;a&#39;, &#39;b&#39;, &#39;c&#39;]).filter(key =&gt; typeof key === &#39;string&#39;)</code> will yield <code>[&#39;0&#39;, &#39;1&#39;, &#39;2&#39;]</code>. All object keys are strings or symbols in JavaScript. Also, there&#39;s a typo in your code (<code>k</code> vs. <code>key</code>)."}, {"owner": {"reputation": 67225, "user_id": 106979, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/XUWge.gif?s=128&g=1", "display_name": "fortran", "link": "https://stackoverflow.com/users/106979/fortran"}, "reply_to_user": {"reputation": 723, "user_id": 5991278, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/humJX.jpg?s=128&g=1", "display_name": "philraj", "link": "https://stackoverflow.com/users/5991278/philraj"}, "edited": false, "score": 1, "creation_date": 1580478694, "post_id": 48414184, "comment_id": 106120831, "body": "@philraj is correct, the check should be done with <code>Number.isInteger</code>, because the runtime type of all the keys of an object is always string."}], "tags": [], "owner": {"reputation": 204459, "user_id": 390330, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/1400be56ff17549b926dd3260da4a494?s=128&d=identicon&r=PG", "display_name": "basarat", "link": "https://stackoverflow.com/users/390330/basarat"}, "is_accepted": false, "score": 1, "last_activity_date": 1516763067, "creation_date": 1516763067, "answer_id": 48414184, "question_id": 48413651, "link": "https://stackoverflow.com/questions/48413651/is-there-a-simple-way-to-get-a-list-of-keys-numbers-from-enum-in-typescript/48414184#48414184", "title": "Is there a simple way to get a list of keys/numbers from enum in typescript?", "body": "<p>The <code>ObservationType</code> object will have keys :<code>Accomodation</code>, <code>Additional</code>, <code>LandTransport</code>, <code>1</code>, <code>2</code>, <code>3</code> and is fundamental to <a href=\"https://basarat.gitbooks.io/typescript/docs/enums.html\" rel=\"nofollow noreferrer\">how enums work in TypeScript</a>. </p>\n\n<p>That said if you want just the <code>string</code> names you can with a simple <code>filter</code>: </p>\n\n<pre><code>{Object.keys(ObservationType).filter(k =&gt; typeof key === 'string').map((type) =&gt; &lt;div&gt;{type}&lt;/div&gt;)}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 51, "user_id": 3959081, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8be5e5c611a553d1f1e334d0a699b405?s=128&d=identicon&r=PG&f=1", "display_name": "Tom&#225;\u0161 Ji\u0159&#237;\u010dek", "link": "https://stackoverflow.com/users/3959081/tom%c3%a1%c5%a1-ji%c5%99%c3%ad%c4%8dek"}, "edited": false, "score": 0, "creation_date": 1612353072, "post_id": 48426048, "comment_id": 116738688, "body": "This can easily be done by <code>const keys = Object.keys(ObservationTypeNums);</code> <code>const enumValues = keys.slice(keys.length &#47; 2); &#47;&#47; only string keys</code>"}], "tags": [], "owner": {"reputation": 175871, "user_id": 454533, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/c7715e765817254e0534f89a4092c0aa?s=128&d=identicon&r=PG", "display_name": "Explosion Pills", "link": "https://stackoverflow.com/users/454533/explosion-pills"}, "is_accepted": true, "score": 2, "last_activity_date": 1516807659, "creation_date": 1516807659, "answer_id": 48426048, "question_id": 48413651, "link": "https://stackoverflow.com/questions/48413651/is-there-a-simple-way-to-get-a-list-of-keys-numbers-from-enum-in-typescript/48426048#48426048", "title": "Is there a simple way to get a list of keys/numbers from enum in typescript?", "body": "<p>From the <a href=\"https://www.typescriptlang.org/docs/handbook/enums.html\" rel=\"nofollow noreferrer\">TypeScript enum documentation</a>:</p>\n\n<blockquote>\n  <p>In this generated code, an enum is compiled into an object that stores both forward (name -> value) and reverse (value -> name) mappings. References to other enum members are always emitted as property accesses and never inlined.</p>\n  \n  <p>Keep in mind that string enum members do not get a reverse mapping generated at all.</p>\n</blockquote>\n\n<p>This means that if you're able, you may want to use string enums, e.g.:</p>\n\n<pre><code>enum ObservationType {\n  Accomodation = 'Acc',\n  Addtional = 'Addt',\n  LandTransport = 'LandT',\n}\n\n// Object.keys will only have the three keys.\n</code></pre>\n\n<p>Another way to handle this would be to keep track of the mapped values to get the reverse mappings only once. This requires the numeric keys of the object to be set first which is not necessarily a guarantee:</p>\n\n<pre><code>enum ObservationTypeNums {\n  Accomodation,\n  Addtional,\n  LandTransport,\n}\n\nObject.keys(ObservationTypeNums).reduce((arr, key) =&gt; {\n  if (!arr.includes(key)) {\n    arr.push(ObservationTypeNums[key]);\n  }\n  return arr;\n}, []);\n\n// arr now has only the string keys\n</code></pre>\n\n<p>Otherwise you will just have to filter out numeric keys in a way as you have done.</p>\n"}, {"tags": [], "owner": {"reputation": 297, "user_id": 9404555, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-9hSb3mN-Wlg/AAAAAAAAAAI/AAAAAAAAAdQ/5ZqSLFjr4Dc/photo.jpg?sz=128", "display_name": "Jeff Lau", "link": "https://stackoverflow.com/users/9404555/jeff-lau"}, "is_accepted": false, "score": 2, "last_activity_date": 1520095621, "last_edit_date": 1520095621, "creation_date": 1519454196, "answer_id": 48960092, "question_id": 48413651, "link": "https://stackoverflow.com/questions/48413651/is-there-a-simple-way-to-get-a-list-of-keys-numbers-from-enum-in-typescript/48960092#48960092", "title": "Is there a simple way to get a list of keys/numbers from enum in typescript?", "body": "<p>Try using <code>ts-enum-util</code> (<a href=\"https://github.com/UselessPickles/ts-enum-util\" rel=\"nofollow noreferrer\">github</a>, <a href=\"https://www.npmjs.com/package/ts-enum-util\" rel=\"nofollow noreferrer\">npm</a>):</p>\n\n<pre><code>import {$enum} from \"ts-enum-util\";\n\nenum ObservationType {\n    Accomodation = 1,\n    Addtional = 2,\n    LandTransport = 3\n}\n\n// type: ObservationType[]\n// value: [1, 2, 3]\nconst values = $enum(ObservationType).getValues();\n\n// type: (\"Accomodation\" | \"Addtional\" | \"LandTransport\")[]\n// value: [\"Accomodation\", \"Addtional\", \"LandTransport\"]\nconst keys = $enum(ObservationType).getKeys();\n\n// directly map the enum value/key pairs\nconst valueDivs = $enum(ObservationType).map(\n    (value, key) =&gt; &lt;div&gt;{value}&lt;/div&gt;\n)\n</code></pre>\n\n<p>It takes care of ignoring the numeric key reverse lookup entries in the runt-time enum object for you, among other things. </p>\n"}, {"tags": [], "owner": {"reputation": 2105, "user_id": 756177, "user_type": "registered", "accept_rate": 31, "profile_image": "https://www.gravatar.com/avatar/c34ddb0609708bb0f300c3d06886ffc4?s=128&d=identicon&r=PG", "display_name": "ABCD.ca", "link": "https://stackoverflow.com/users/756177/abcd-ca"}, "is_accepted": false, "score": 2, "last_activity_date": 1575006639, "creation_date": 1575006639, "answer_id": 59099360, "question_id": 48413651, "link": "https://stackoverflow.com/questions/48413651/is-there-a-simple-way-to-get-a-list-of-keys-numbers-from-enum-in-typescript/59099360#59099360", "title": "Is there a simple way to get a list of keys/numbers from enum in typescript?", "body": "<p>How about, <code>Object.keys(ObservationType).filter(k =&gt; isNaN(Number(k)))</code></p>\n\n<p>credit to @basarat whose answer I built on.</p>\n"}, {"tags": [], "owner": {"reputation": 407, "user_id": 4068471, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/mQsU1.jpg?s=128&g=1", "display_name": "Kevin Minehart", "link": "https://stackoverflow.com/users/4068471/kevin-minehart"}, "is_accepted": false, "score": 0, "last_activity_date": 1597788126, "creation_date": 1597788126, "answer_id": 63477237, "question_id": 48413651, "link": "https://stackoverflow.com/questions/48413651/is-there-a-simple-way-to-get-a-list-of-keys-numbers-from-enum-in-typescript/63477237#63477237", "title": "Is there a simple way to get a list of keys/numbers from enum in typescript?", "body": "<p>I had a hard time finding a good answer to this.</p>\n<p>It looks like the <code>enum</code> generates an <code>Object</code> like this:</p>\n<pre class=\"lang-js prettyprint-override\"><code>{\n  key0: 0,\n  key1: 1,\n  0: key0,\n  1: key1\n}\n</code></pre>\n<p>So this is what I did:</p>\n<pre class=\"lang-js prettyprint-override\"><code>const observationTypes: string[] = Object.keys(ObservationType).filter((_, i) =&gt; ObservationType[i] !== undefined).map((_, i) =&gt; ObservationType[i]);\n</code></pre>\n<p>This gives me an array of strings:</p>\n<pre class=\"lang-js prettyprint-override\"><code>{\n  0: &quot;a&quot;,\n  1: &quot;b&quot;,\n  2: &quot;c&quot;,\n  3: &quot;d&quot;,\n  4: &quot;e&quot;,\n  ...\n}\n</code></pre>\n<p>You could easily modify this to create a set of  elements like in your question.</p>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user8321027"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 15829, "favorite_count": 0, "accepted_answer_id": 48426048, "answer_count": 5, "score": 5, "last_activity_date": 1597788126, "creation_date": 1516758577, "last_edit_date": 1516759166, "question_id": 48413651, "link": "https://stackoverflow.com/questions/48413651/is-there-a-simple-way-to-get-a-list-of-keys-numbers-from-enum-in-typescript", "title": "Is there a simple way to get a list of keys/numbers from enum in typescript?", "body": "<p>I would like a simple way to get a list of keys from an enumerator, I tried Object.keys, but it returned 6 keys, 0-5, I think it occours because when I tried foreach the enum, this returned keys and values list, is there a simple way to return only keys, I would not like to return to mount and return another list.</p>\n\n<p>I will use this with react</p>\n\n<p>My enum:</p>\n\n<pre><code>enum ObservationType {\n    Accomodation = 1,\n    Addtional = 2,\n    LandTransport = 3\n}\n</code></pre>\n\n<p>Sample that I tried and returned six values:</p>\n\n<pre><code>{Object.keys(ObservationType).map((type) =&gt; &lt;div&gt;{type}&lt;/div&gt;)}\n</code></pre>\n"}, {"tags": ["javascript", "typescript", "properties"], "answers": [{"tags": [], "owner": {"reputation": 113, "user_id": 6402918, "user_type": "registered", "accept_rate": 12, "profile_image": "https://www.gravatar.com/avatar/b654daafeead47dfbb1dd4c799dcb14a?s=128&d=identicon&r=PG&f=1", "display_name": "Chris", "link": "https://stackoverflow.com/users/6402918/chris"}, "is_accepted": false, "score": 2, "last_activity_date": 1516767962, "creation_date": 1516767962, "answer_id": 48414796, "question_id": 48413578, "link": "https://stackoverflow.com/questions/48413578/typescript-component-runs-correctly-but-says-there-is-an-error-because-it-does-n/48414796#48414796", "title": "Typescript component runs correctly but says there is an error because it does not recognize a property that is there", "body": "<p>The fix I found was not the cleanest, but I explicitly cast my particle to any in my for loop where it said vertices did not exist. I changed </p>\n\n<p>Original: </p>\n\n<pre><code>this.particles.geometry.vertices.length;\n</code></pre>\n\n<p>Fix: </p>\n\n<pre><code>(this.particles as any).geometry.vertices.length;\n</code></pre>\n\n<p>Then in my tsconfig I set the noImplicitAny flag to true.</p>\n\n<pre><code>\"noImplicitAny\": true\n</code></pre>\n"}], "owner": {"reputation": 113, "user_id": 6402918, "user_type": "registered", "accept_rate": 12, "profile_image": "https://www.gravatar.com/avatar/b654daafeead47dfbb1dd4c799dcb14a?s=128&d=identicon&r=PG&f=1", "display_name": "Chris", "link": "https://stackoverflow.com/users/6402918/chris"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 936, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1516767962, "creation_date": 1516758017, "question_id": 48413578, "link": "https://stackoverflow.com/questions/48413578/typescript-component-runs-correctly-but-says-there-is-an-error-because-it-does-n", "title": "Typescript component runs correctly but says there is an error because it does not recognize a property that is there", "body": "<p>I am using three.js library for drawing an image to the screen. When I create my particles = THREE.point(geometry, materials) typescript says that vertices does not exist in particles.geometry.vertices, but when I run my module everything loads and responds as it should besides it gives me this error saying vertices does not exists, and if they did not exist I would not have drawn that image.</p>\n\n<p>Geometry has a property that is called vertices, and when I create the object particles through three.point(geometry, material); I get all the vertices from geometry and access them by doing this.particles.geometry.vertices, but typescript says the property does not exist in geometry even though it works.</p>\n\n<p>Picture of error even though everything is executing as it should:\n<a href=\"https://i.stack.imgur.com/Ea0xi.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Ea0xi.png\" alt=\"enter image description here\"></a>\nErrors in text:</p>\n\n<pre><code>[at-loader] ./ClientApp/app/components/shared/backgroundScene/backgroundScene.component.ts:146:53 \n    TS2339: Property 'vertices' does not exist on type 'Geometry | BufferGeometry'.\n  Property 'vertices' does not exist on type 'BufferGeometry'.\n[at-loader] ./ClientApp/app/components/shared/backgroundScene/backgroundScene.component.ts:147:56 \n    TS2339: Property 'vertices' does not exist on type 'Geometry | BufferGeometry'.\n  Property 'vertices' does not exist on type 'BufferGeometry'.\n[at-loader] ./ClientApp/app/components/shared/backgroundScene/backgroundScene.component.ts:152:33 \n    TS2339: Property 'verticesNeedUpdate' does not exist on type 'Geometry | BufferGeometry'.\n  Property 'verticesNeedUpdate' does not exist on type 'BufferGeometry'.\n</code></pre>\n\n<p>Source code for drawing image where it says vertices does not exist is in the render, and the drawImage just shows how I add to my particles. Everything works fine, I just do not get why I am getting these errors when everything is working correctly. If you know how to get the typings so I can see these properties in my object let me know. I have threejs imported and the typings if you were wondering and those work fine. I just come across problems accessing properties of objects when the property exists and typescript says it does not but when I run my code I can see that it does.</p>\n\n<pre><code>public render() {\n    this.renderer.render(this.scene, this.camera);\n\n    // Draw image to screen\n    for (var i = 0, j = this.particles.geometry.vertices.length; i &lt; j; i++) {\n        var particle:any = this.particles.geometry.vertices[i];\n        particle.x += (particle.destination.x - particle.x) * particle.speed;\n        particle.y += (particle.destination.y - particle.y) * particle.speed;\n        particle.z += (particle.destination.z - particle.z) * particle.speed;\n    }\n    this.particles.geometry.verticesNeedUpdate = true;\n}\n\npublic drawImage() {\n\n    // Create vertices to draw the image.\n    for (var y = 0, y2 = this.imageData.height; y &lt; y2; y += 2) {\n        for (var x = 0, x2 = this.imageData.width; x &lt; x2; x += 2) {\n            if (this.imageData.data[(x * 4 + y * 4 * this.imageData.width) + 3] &gt; 128) {\n\n                let vertex:any = new THREE.Vector3();\n                vertex.x = Math.random() * 1000 - 500;\n                vertex.y = Math.random() * 1000 - 500;\n                vertex.z = -Math.random() * 500;\n\n                vertex.destination = {\n                    x: x - this.imageData.width / 2,\n                    y: -y + this.imageData.height / 2,\n                    z: 0\n                };\n\n                vertex.speed = Math.random() / 200 + 0.015;\n\n                this.geometry.vertices.push(vertex);\n            }\n        }\n    }\n    this.particles = new THREE.Points(this.geometry, this.material);\n    this.scene.add(this.particles);\n\n    requestAnimationFrame(this.render);\n}\n</code></pre>\n"}, {"tags": ["html", "css", "angular", "typescript"], "comments": [{"owner": {"reputation": 1239, "user_id": 4941860, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/71c9260582b15c5fea01710b424fda73?s=128&d=identicon&r=PG&f=1", "display_name": "matmo", "link": "https://stackoverflow.com/users/4941860/matmo"}, "edited": false, "score": 0, "creation_date": 1516758435, "post_id": 48413506, "comment_id": 83817172, "body": "Your code should be deployed using an AOT build, and you absolutely can not do this with an AOT build. I don&#39;t know 100% for sure if there&#39;s a hacky way to have dynamic templateUrls with the JIT compiler, but I know that you shouldn&#39;t be doing this is in the first place. There are plenty of non-hacky Angular ways that you could accomplish what you&#39;re trying to do."}, {"owner": {"reputation": 1291, "user_id": 1394566, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/9c9a84db1d43404dcf8f046292dba0f2?s=128&d=identicon&r=PG", "display_name": "Eric Bergman", "link": "https://stackoverflow.com/users/1394566/eric-bergman"}, "reply_to_user": {"reputation": 1239, "user_id": 4941860, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/71c9260582b15c5fea01710b424fda73?s=128&d=identicon&r=PG&f=1", "display_name": "matmo", "link": "https://stackoverflow.com/users/4941860/matmo"}, "edited": false, "score": 0, "creation_date": 1516758576, "post_id": 48413506, "comment_id": 83817211, "body": "@matmo Can you give me some ideas to accomplish this ?"}, {"owner": {"reputation": 1239, "user_id": 4941860, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/71c9260582b15c5fea01710b424fda73?s=128&d=identicon&r=PG&f=1", "display_name": "matmo", "link": "https://stackoverflow.com/users/4941860/matmo"}, "edited": false, "score": 2, "creation_date": 1516758701, "post_id": 48413506, "comment_id": 83817239, "body": "The simplest way is to make a component out of each of those templates, and then in your HelpComponent&#39;s template you just conditionally (ngIf) render them based on the router url. Any reason that won&#39;t work?"}, {"owner": {"reputation": 1291, "user_id": 1394566, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/9c9a84db1d43404dcf8f046292dba0f2?s=128&d=identicon&r=PG", "display_name": "Eric Bergman", "link": "https://stackoverflow.com/users/1394566/eric-bergman"}, "reply_to_user": {"reputation": 1239, "user_id": 4941860, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/71c9260582b15c5fea01710b424fda73?s=128&d=identicon&r=PG&f=1", "display_name": "matmo", "link": "https://stackoverflow.com/users/4941860/matmo"}, "edited": false, "score": 0, "creation_date": 1516759299, "post_id": 48413506, "comment_id": 83817392, "body": "@matmo I have 20 templates, I was trying to avoid having to create a component for each one of them but I guess that&#39;s the simplest way. oh well."}, {"owner": {"reputation": 1291, "user_id": 1394566, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/9c9a84db1d43404dcf8f046292dba0f2?s=128&d=identicon&r=PG", "display_name": "Eric Bergman", "link": "https://stackoverflow.com/users/1394566/eric-bergman"}, "reply_to_user": {"reputation": 1239, "user_id": 4941860, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/71c9260582b15c5fea01710b424fda73?s=128&d=identicon&r=PG&f=1", "display_name": "matmo", "link": "https://stackoverflow.com/users/4941860/matmo"}, "edited": false, "score": 0, "creation_date": 1516759482, "post_id": 48413506, "comment_id": 83817437, "body": "@matmo is there a &#39;hacky&#39; way to do this?"}, {"owner": {"reputation": 1239, "user_id": 4941860, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/71c9260582b15c5fea01710b424fda73?s=128&d=identicon&r=PG&f=1", "display_name": "matmo", "link": "https://stackoverflow.com/users/4941860/matmo"}, "edited": false, "score": 0, "creation_date": 1516760072, "post_id": 48413506, "comment_id": 83817576, "body": "Unless you statically define the templateUrl, you&#39;re always going to have to have a performance penalty. If you&#39;re fine with that, you could just make an http call to fetch the proper template html file when HelpComponent loads up and then just add it to your view with a binding to innerHTML, i.e. <code>&lt;div [innerHTML]=&quot;myFetchedHtml&quot;&gt;&lt;&#47;div&gt;</code>."}, {"owner": {"reputation": 1291, "user_id": 1394566, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/9c9a84db1d43404dcf8f046292dba0f2?s=128&d=identicon&r=PG", "display_name": "Eric Bergman", "link": "https://stackoverflow.com/users/1394566/eric-bergman"}, "reply_to_user": {"reputation": 1239, "user_id": 4941860, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/71c9260582b15c5fea01710b424fda73?s=128&d=identicon&r=PG&f=1", "display_name": "matmo", "link": "https://stackoverflow.com/users/4941860/matmo"}, "edited": false, "score": 0, "creation_date": 1516760433, "post_id": 48413506, "comment_id": 83817651, "body": "I tried that but it always returns a 404 not found error... for some reason it can&#39;t load static html files located in the project:     http.get(&quot;../project_dir/help/help_files/learn-how-to-bake.h&zwnj;&#8203;tml&quot;).subscribe((htm&zwnj;&#8203;l:any) =&gt; this.myFetchedHtml = html);"}, {"owner": {"reputation": 1239, "user_id": 4941860, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/71c9260582b15c5fea01710b424fda73?s=128&d=identicon&r=PG&f=1", "display_name": "matmo", "link": "https://stackoverflow.com/users/4941860/matmo"}, "reply_to_user": {"reputation": 1291, "user_id": 1394566, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/9c9a84db1d43404dcf8f046292dba0f2?s=128&d=identicon&r=PG", "display_name": "Eric Bergman", "link": "https://stackoverflow.com/users/1394566/eric-bergman"}, "edited": false, "score": 0, "creation_date": 1516760478, "post_id": 48413506, "comment_id": 83817664, "body": "Let us <a href=\"http://chat.stackoverflow.com/rooms/163758/discussion-between-matmo-and-eric-bergman\">continue this discussion in chat</a>."}], "owner": {"reputation": 1291, "user_id": 1394566, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/9c9a84db1d43404dcf8f046292dba0f2?s=128&d=identicon&r=PG", "display_name": "Eric Bergman", "link": "https://stackoverflow.com/users/1394566/eric-bergman"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 38, "favorite_count": 1, "answer_count": 0, "score": 0, "last_activity_date": 1516757334, "creation_date": 1516757334, "question_id": 48413506, "link": "https://stackoverflow.com/questions/48413506/angular2-set-a-components-templateurl-in-code", "title": "Angular2: Set a component&#39;s templateUrl in code", "body": "<p>Let's say I have the following static HTML pages, examples:</p>\n\n<p>../project_dir/help/help_files/learn-how-to-bake.html</p>\n\n<p>../project_dir/help/help_files/learn-how-to-cook-salmon.html</p>\n\n<p>etc...</p>\n\n<p>I have a component called \"HelpComponent\" and in this component I would like to set the templateUrl based on the page that I'm at, example:</p>\n\n<pre><code>if (this.router.url == '/cooking/pies')\n    templateUrl = '../project_dir/help/help_files/learn-how-to-bake.html'\nelse if (this.router.url == '/cooking/salmon')\n    templateUrl = '../project_dir/help/help_files/learn-how-to-cook-salmon.html'\n</code></pre>\n\n<p>Is there a way to dynamically set a component's templateUrl in Angular2?</p>\n"}, {"tags": ["node.js", "angular", "sockets", "typescript", "socket.io"], "answers": [{"tags": [], "owner": {"reputation": 93, "user_id": 7498746, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e08bc5abdd7a3e1275d7958c472cf6ed?s=128&d=identicon&r=PG&f=1", "display_name": "Ian Bennett", "link": "https://stackoverflow.com/users/7498746/ian-bennett"}, "is_accepted": false, "score": 0, "last_activity_date": 1530076741, "creation_date": 1530076741, "answer_id": 51054993, "question_id": 48412995, "link": "https://stackoverflow.com/questions/48412995/extraheaders-not-being-attached-to-petition/51054993#51054993", "title": "extraHeaders not being attached to petition", "body": "<p>Transports option goes at the same level as TransportOptions.   </p>\n\n<p>You could try if that makes a difference but I don't think that is your problem though as \"polling\" is the default anyway.</p>\n"}], "owner": {"reputation": 123, "user_id": 7481213, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8a8bf2e10fb119a9936b1d9d6ac6b486?s=128&d=identicon&r=PG", "display_name": "Alessandro Cuppari", "link": "https://stackoverflow.com/users/7481213/alessandro-cuppari"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 447, "favorite_count": 1, "answer_count": 1, "score": 1, "last_activity_date": 1530076741, "creation_date": 1516753345, "last_edit_date": 1516826070, "question_id": 48412995, "link": "https://stackoverflow.com/questions/48412995/extraheaders-not-being-attached-to-petition", "title": "extraHeaders not being attached to petition", "body": "<p>I'm trying to integrate socket.io with my angular that. For that, I've followed the steps outlined in <a href=\"https://blog.codewithdan.com/2017/11/07/pushing-real-time-data-to-an-angular-service-using-web-sockets/\" rel=\"nofollow noreferrer\">this</a> article. Since my server (which uses Express) is using jwt based authentication, I'm setting the authentication headers as per the socket.io <a href=\"https://socket.io/docs/client-api/#with-extraheaders\" rel=\"nofollow noreferrer\">docs</a>. Here's the Angular service code:</p>\n\n<pre><code>@Injectable()\nexport class PushNotificationsService {\n\n  socket: SocketIoModel;\n  observer: Observer&lt;any&gt;;\n  environment;\n\n  constructor (private authService: AuthService) {\n    this.environment = environment; // This contains the server endpoints \n  }\n\n  async getQuotes (): Promise&lt;Observable&lt;number&gt;&gt; {\n    this.socket = socketIo(this.environment.url, {\n      transportOptions: {\n        transports: ['polling'],\n        polling: {\n          extraHeaders: {\n            'Authorization': `Bearer ${await this.authService.getToken()}`\n          }\n        }\n      }\n    });\n\n    this.socket.on('data', (res) =&gt; {\n      this.observer.next(res.data);\n    });\n\n    return this.createObservable();\n  }\n\n  createObservable (): Observable&lt;number&gt; {\n    return new Observable(observer =&gt; {\n      this.observer = observer;\n    });\n  }\n\n  private handleError (error) {\n    console.error('server error:', error);\n    if (error.error instanceof Error) {\n      const errMessage = error.error.message;\n      return Observable.throw(errMessage);\n    }\n    return Observable.throw(error || 'Socket.io server error');\n  }    \n}\n</code></pre>\n\n<p>If I inspect the <code>socket</code> attribute, I can see that the option is being set. But, when I inspect my app's petitions with the browser, I can see that the <code>Authentication</code> header is not present:\n<a href=\"https://i.stack.imgur.com/8dcQT.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/8dcQT.png\" alt=\"enter image description here\"></a></p>\n\n<p>Any ideas on what I'm doing wrong?</p>\n"}, {"tags": ["typescript", "visual-studio-code"], "owner": {"reputation": 11, "user_id": 2812181, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e070f2def191fafd360d5395102ff9f0?s=128&d=identicon&r=PG&f=1", "display_name": "aguyandhiscat", "link": "https://stackoverflow.com/users/2812181/aguyandhiscat"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 63, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1516753300, "creation_date": 1516753300, "question_id": 48412987, "link": "https://stackoverflow.com/questions/48412987/inconsistent-breakpoints-vscode-and-typescript", "title": "Inconsistent Breakpoints VSCode and TypeScript", "body": "<p>Given the following folder structure.</p>\n\n<pre><code>+ frontend\n  + CreateReport\n    + CreateReportInteractor.spec.ts\n    + CreateReportInteractor.ts\n+ tmp\n  + frontend\n    + CreateReportInteractor.js\n    + CreateReportInteractor.js.map\n    + CreateReportInteractor.spec.js\n    + CreateReportInteractor.spec.js.map\n</code></pre>\n\n<p>I have a <code>node</code> script (unittests/tester.js) to execute my tests. These are loading the correct files (<code>tmp/frontend/*.spec.js</code>).</p>\n\n<p><code>node --inspect=9229 --debug-brk unittests/tester.js</code></p>\n\n<p>Inside <code>launch.json</code> I have the following attach request.</p>\n\n<pre><code>{\n    \"type\": \"node\",\n    \"request\": \"attach\",\n    \"name\": \"Attach\",\n    \"port\": 9229\n}\n</code></pre>\n\n<p>This will attach to the executing code. It will break upon entry into the first line too.</p>\n\n<p>My .scripts output from the debugger is:</p>\n\n<pre><code>\u203a &lt;&gt;/tmp/frontend/CreateReport/CreateReportInteractor.js\n    - ../../../frontend/CreateReport/CreateReportInteractor.ts (&lt;&gt;/frontend/CreateReport/CreateReportInteractor.ts)\n\u203a &lt;&gt;/tmp/frontend/CreateReport/CreateReportInteractor.spec.js\n    - ../../../frontend/CreateReport/CreateReportInteractor.spec.ts (&lt;&gt;/frontend/CreateReport/CreateReportInteractor.spec.ts)\n\u203a &lt;&gt;/tmp/frontend/app/Const.js\n    - ../../../frontend/app/Const.ts (&lt;&gt;/frontend/app/Const.ts)\n\u203a &lt;&gt;/tmp/frontend/app/Requests/MockRequest.helper.spec.js\n    - ../../../../frontend/app/Requests/MockRequest.helper.spec.ts (&lt;&gt;/frontend/app/Requests/MockRequest.helper.spec.ts)\n\u203a &lt;&gt;/tmp/frontend/app/Requests/MockRequestFactory.helper.spec.js\n    - ../../../../frontend/app/Requests/MockRequestFactory.helper.spec.ts (&lt;&gt;/frontend/app/Requests/MockRequestFactory.helper.spec.ts)\n\u203a &lt;&gt;/tmp/frontend/app/Requests/Request.js\n    - ../../../../frontend/app/Requests/Request.ts (&lt;&gt;/frontend/app/Requests/Request.ts)\n\u203a &lt;&gt;/tmp/frontend/app/Requests/RequestFactory.js\n    - ../../../../frontend/app/Requests/RequestFactory.ts (&lt;&gt;/frontend/app/Requests/RequestFactory.ts)\n</code></pre>\n\n<p>However, if I place a breakpoint in VSCode (red dot), sometimes it will stop execution and other times it will not.</p>\n\n<p>If I place a <code>debugger;</code> statement, it will always stop execution.</p>\n\n<p>If I place a VSCode breakpoint after a <code>debugger;</code> statement, it will always stop execution.</p>\n\n<p>My version of VSCode is 1.19.2, Node is v6.9.4, and TypeScript is 2.6.2.</p>\n\n<p>Please let me know if there is any advice you can give. I've been banging my head for the last 2 hours.</p>\n"}, {"tags": ["javascript", "typescript", "properties"], "comments": [{"owner": {"reputation": 277, "user_id": 8787354, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kQEBy.jpg?s=128&g=1", "display_name": "Anthony Giretti", "link": "https://stackoverflow.com/users/8787354/anthony-giretti"}, "edited": false, "score": 0, "creation_date": 1516754195, "post_id": 48412828, "comment_id": 83816077, "body": "Can you add a console.log(yourmethodname) in each method that is executed and trace the execution order , I think there is bad execution order, your code is a but huge, hard to tell easily like that..."}, {"owner": {"reputation": 113, "user_id": 6402918, "user_type": "registered", "accept_rate": 12, "profile_image": "https://www.gravatar.com/avatar/b654daafeead47dfbb1dd4c799dcb14a?s=128&d=identicon&r=PG&f=1", "display_name": "Chris", "link": "https://stackoverflow.com/users/6402918/chris"}, "reply_to_user": {"reputation": 277, "user_id": 8787354, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kQEBy.jpg?s=128&g=1", "display_name": "Anthony Giretti", "link": "https://stackoverflow.com/users/8787354/anthony-giretti"}, "edited": false, "score": 0, "creation_date": 1516754303, "post_id": 48412828, "comment_id": 83816100, "body": "I fixed it, but I am just having problems with it saying I am getting an error when everything is executing as it should."}], "answers": [{"tags": [], "owner": {"reputation": 113, "user_id": 6402918, "user_type": "registered", "accept_rate": 12, "profile_image": "https://www.gravatar.com/avatar/b654daafeead47dfbb1dd4c799dcb14a?s=128&d=identicon&r=PG&f=1", "display_name": "Chris", "link": "https://stackoverflow.com/users/6402918/chris"}, "is_accepted": false, "score": 0, "last_activity_date": 1516753937, "creation_date": 1516753937, "answer_id": 48413072, "question_id": 48412828, "link": "https://stackoverflow.com/questions/48412828/typescript-cannot-access-objects-properties-even-though-they-are-there/48413072#48413072", "title": "Typescript cannot access objects properties even though they are there", "body": "<p>I changed my public particles = THREE.Points; -> public particles:any = THREE.Points;</p>\n\n<p>This fixed it for me, but I just do not have types, and that sucks, but if you know what you are changing then you should be fine.</p>\n\n<p>Fixed code:</p>\n\n<pre><code>import { Component, AfterViewInit, ElementRef, Input, ViewChild, HostListener} from '@angular/core';\nimport { TweenLite } from 'gsap';\nimport * as THREE from 'three';\ndeclare const require: (moduleId: string) =&gt; any;\nvar OrbitControls = require('three-orbit-controls')(THREE);\n\n@Component({\n    selector: 'shared-background-scene',\n    templateUrl: './backgroundScene.component.html',\n    styleUrls: ['./backgroundScene.component.scss']\n})\n\nexport class BackgroundSceneComponent {\n\n    public scene: THREE.Scene;\n    private renderer: THREE.WebGLRenderer;\n    private camera: THREE.PerspectiveCamera;\n    private cameraTarget: THREE.Vector3;\n    public controls: THREE.OrbitControls;\n\n    public fieldOfView: number = 60;\n    public nearClippingPane: number = 1;\n    public farClippingPane: number = 1100;\n\n    @ViewChild('canvas')\n    private canvasRef: ElementRef;\n\n    public particles:any = THREE.Points;\n    public imageData: any;\n    public geometry = new THREE.Geometry();\n    public material = new THREE.PointsMaterial({\n                size: 3,\n                color: 0x313742,\n                sizeAttenuation: false\n    });\n    public loadImage() {\n        //load texture, which is the image, and then get the imagedata, and draw image.\n        var texture = new THREE.TextureLoader().load(\"assets/img/transparentMap.png\", () =&gt; { console.log(texture); this.imageData = this.getImageData(texture.image); this.drawImage(); this.startRendering(); })\n    }\n\n    public getImageData(image: any) {\n        console.log(image);\n        // Create canvas for the image\n        let canvas = document.createElement(\"canvas\");\n        canvas.width = image.width;\n        canvas.height = image.width;\n\n        // Make sure context is 2d\n        let context = canvas.getContext(\"2d\");\n        context!.drawImage(image, 0, 0);\n\n        //return the context to be saved to the imageData.\n        return context!.getImageData(0, 0, image.width, image.height);\n    }\n\n    public drawImage() {\n\n        // Create vertices to draw the image.\n        for (var y = 0, y2 = this.imageData.height; y &lt; y2; y += 2) {\n            for (var x = 0, x2 = this.imageData.width; x &lt; x2; x += 2) {\n                if (this.imageData.data[(x * 4 + y * 4 * this.imageData.width) + 3] &gt; 128) {\n\n                    let vertex:any = new THREE.Vector3();\n                    vertex.x = Math.random() * 1000 - 500;\n                    vertex.y = Math.random() * 1000 - 500;\n                    vertex.z = -Math.random() * 500;\n\n                    vertex.destination = {\n                        x: x - this.imageData.width / 2,\n                        y: -y + this.imageData.height / 2,\n                        z: 0\n                    };\n\n                    vertex.speed = Math.random() / 200 + 0.015;\n\n                    this.geometry.vertices.push(vertex);\n                }\n            }\n        }\n        this.particles = new THREE.Points(this.geometry, this.material);\n        this.scene.add(this.particles);\n\n        requestAnimationFrame(this.render);\n    }\n\n    constructor() {\n        this.render = this.render.bind(this);\n    }\n\n    private get canvas(): HTMLCanvasElement {\n        return this.canvasRef.nativeElement;\n    }\n\n    private createScene() {\n        this.scene = new THREE.Scene();\n    }\n\n    private createCamera() {\n        let aspectRatio = this.getAspectRatio();\n        this.camera = new THREE.PerspectiveCamera(\n            this.fieldOfView,\n            aspectRatio,\n            this.nearClippingPane,\n            this.farClippingPane\n        );\n\n        // Set position and look at\n        this.camera.position.x = 10;\n        this.camera.position.y = 10;\n        this.camera.position.z = 100;\n    }\n\n    private getAspectRatio(): number {\n        let height = this.canvas.clientHeight;\n        if (height === 0) {\n            return 0;\n        }\n        return this.canvas.clientWidth / this.canvas.clientHeight;\n    }\n\n    private startRendering() {\n        this.renderer = new THREE.WebGLRenderer({\n            canvas: this.canvas,\n            antialias: true\n        });\n        this.renderer.setPixelRatio(devicePixelRatio);\n        this.renderer.setSize(this.canvas.clientWidth, this.canvas.clientHeight);\n\n        this.renderer.shadowMap.enabled = true;\n        this.renderer.shadowMap.type = THREE.PCFSoftShadowMap;\n        this.renderer.setClearColor(0xffffff, 1);\n        this.renderer.autoClear = true;\n\n        let component: BackgroundSceneComponent = this;\n\n        (function render() {\n            requestAnimationFrame(render);\n            component.render();\n        }());\n    }\n\n    public render() {\n        this.renderer.render(this.scene, this.camera);\n\n        // Draw image to screen\n        for (var i = 0, j = this.particles.geometry.vertices.length; i &lt; j; i++) {\n            var particle:any = this.particles.geometry.vertices[i];\n            particle.x += (particle.destination.x - particle.x) * particle.speed;\n            particle.y += (particle.destination.y - particle.y) * particle.speed;\n            particle.z += (particle.destination.z - particle.z) * particle.speed;\n        }\n        this.particles.geometry.verticesNeedUpdate = true;\n    }\n\n    public addControls() {\n        this.controls = new OrbitControls(this.camera);\n        this.controls.rotateSpeed = 1.0;\n        this.controls.zoomSpeed = 1.2;\n        this.controls.addEventListener('change', this.render);\n\n    }\n\n    private loadCubeModel() {\n        var geometry = new THREE.BoxGeometry(1, 1, 1);\n        var material = new THREE.MeshBasicMaterial({ color: 0x00ff00 });\n        var cube = new THREE.Mesh(geometry, material);\n        this.scene.add(cube);\n    }\n\n    /* Events */\n   private onResize(event: Event) {\n        this.canvas.style.width = \"100%\";\n        this.canvas.style.height = \"100vh\";\n        //console.log(\"onResize: \" + this.canvas.clientWidth + \", \" + this.canvas.clientHeight);\n\n        this.camera.aspect = this.getAspectRatio();\n        this.camera.updateProjectionMatrix();\n        this.renderer.setSize(this.canvas.clientWidth, this.canvas.clientHeight);\n        this.render();\n    }\n\n    /* LIFECYCLE */\n   ngAfterViewInit() {\n        this.createScene();\n        this.createCamera();\n        this.loadImage(); // rendering starts here\n        this.loadCubeModel();\n        this.addControls();\n    }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 3836, "user_id": 3003401, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7f2de9e3bd27825488f4cf0a1dd86ac0?s=128&d=identicon&r=PG&f=1", "display_name": "Cerberus", "link": "https://stackoverflow.com/users/3003401/cerberus"}, "is_accepted": false, "score": 1, "last_activity_date": 1530007845, "creation_date": 1530007845, "answer_id": 51040285, "question_id": 48412828, "link": "https://stackoverflow.com/questions/48412828/typescript-cannot-access-objects-properties-even-though-they-are-there/51040285#51040285", "title": "Typescript cannot access objects properties even though they are there", "body": "<p>The reason is that, when we use <code>THREE.Points</code>, TypeScript have no way to know whether we'll use them with <code>Geometry</code> or with <code>BufferGeometry</code>. I'd just add this line in your render() method:</p>\n\n<pre><code>const geometry = this.particles.geometry as Geometry\n</code></pre>\n\n<p>and used <code>geometry</code> instead of <code>this.particles.geometry</code> in the following code. This will essentially tell TypeScript \"I know, that it will always be <code>Geometry</code>, trust me\".</p>\n"}], "owner": {"reputation": 113, "user_id": 6402918, "user_type": "registered", "accept_rate": 12, "profile_image": "https://www.gravatar.com/avatar/b654daafeead47dfbb1dd4c799dcb14a?s=128&d=identicon&r=PG&f=1", "display_name": "Chris", "link": "https://stackoverflow.com/users/6402918/chris"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 930, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1530007845, "creation_date": 1516752107, "last_edit_date": 1516752945, "question_id": 48412828, "link": "https://stackoverflow.com/questions/48412828/typescript-cannot-access-objects-properties-even-though-they-are-there", "title": "Typescript cannot access objects properties even though they are there", "body": "<p>I am having troubles with accessing properties even though they exist in the object, but typescript tells me they do not. I create a particles object, which contains the geometry of the shape, and a material. I need to be able to access the geometry vertices of the particle, but typescript throws a fit when I try. For example, <code>this.particles.geometry.vertices.length</code> should return the length of my vertices, but typescript says vertices do not exist in geometry when it is actually there.</p>\n\n<p>My problem occurs after the image is loaded, vertices are created, and then I need to move them to there destination index, but it says the this.particles.geometry.vertices does not exist.</p>\n\n<p>Here is my particle object which contains the geometry, and inside the geometry is a property that is vertices that does contain all my vertices, but I cannot access them the way I am showing.\n<a href=\"https://i.stack.imgur.com/4vD6h.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/4vD6h.png\" alt=\"enter image description here\"></a></p>\n\n<p>Here is my full source code. The drawImage method will draw all the vertices correct, and push the vertex object into my geometry object. Then Once that is done I add the geometry to the particles and it works just fine, and I add it to the scene and get all my vertices displayed. Problem is I cannot access my vertices to manipulate them. So my particles object, drawImage and render method containing my for loop is where all this happens. In my render method it just says (TS) Property 'vertices' does not exists on type 'Geometry | buffer geometry'. It does exist and I show that with the image that my particles object which is a point object contains my geometry and that geometry has a property inside that has all my vertices called vertices.</p>\n\n<pre><code>import { Component, AfterViewInit, ElementRef, Input, ViewChild, HostListener} from '@angular/core';\nimport { TweenLite } from 'gsap';\nimport * as THREE from 'three';\ndeclare const require: (moduleId: string) =&gt; any;\nvar OrbitControls = require('three-orbit-controls')(THREE);\n\n@Component({\n    selector: 'shared-background-scene',\n    templateUrl: './backgroundScene.component.html',\n    styleUrls: ['./backgroundScene.component.scss']\n})\n\nexport class BackgroundSceneComponent {\n\n    public scene: THREE.Scene;\n    private renderer: THREE.WebGLRenderer;\n    private camera: THREE.PerspectiveCamera;\n    private cameraTarget: THREE.Vector3;\n    public controls: THREE.OrbitControls;\n\n    public fieldOfView: number = 60;\n    public nearClippingPane: number = 1;\n    public farClippingPane: number = 1100;\n\n    @ViewChild('canvas')\n    private canvasRef: ElementRef;\n\n    public particles: THREE.Points;\n    public imageData: any;\n    public geometry = new THREE.Geometry();\n    public material = new THREE.PointsMaterial({\n                size: 3,\n                color: 0x313742,\n                sizeAttenuation: false\n    });\n    public loadImage() {\n        //load texture, which is the image, and then get the imagedata, and draw image.\n        var texture = new THREE.TextureLoader().load(\"assets/img/example-clouds.png\", () =&gt; { console.log(texture); this.imageData = this.getImageData(texture.image); this.drawImage(); this.startRendering(); })\n    }\n\n    public getImageData(image: any) {\n        console.log(image);\n        // Create canvas for the image\n        let canvas = document.createElement(\"canvas\");\n        canvas.width = image.width;\n        canvas.height = image.width;\n\n        // Make sure context is 2d\n        let context = canvas.getContext(\"2d\");\n        context!.drawImage(image, 0, 0);\n\n        //return the context to be saved to the imageData.\n        return context!.getImageData(0, 0, image.width, image.height);\n    }\n\n    public drawImage() {\n\n        // Create vertices to draw the image.\n        for (var y = 0, y2 = this.imageData.height; y &lt; y2; y += 2) {\n            for (var x = 0, x2 = this.imageData.width; x &lt; x2; x += 2) {\n                if (this.imageData.data[(x * 4 + y * 4 * this.imageData.width) + 3] &gt; 128) {\n\n                    let vertex:any = new THREE.Vector3();\n                    vertex.x = Math.random() * 1000 - 500;\n                    vertex.y = Math.random() * 1000 - 500;\n                    vertex.z = -Math.random() * 500;\n\n                    vertex.destination = {\n                        x: x - this.imageData.width / 2,\n                        y: -y + this.imageData.height / 2,\n                        z: 0\n                    };\n\n                    vertex.speed = Math.random() / 200 + 0.015;\n\n                    this.geometry.vertices.push(vertex);\n                }\n            }\n        }\n\n        console.log(this.geometry);\n        this.particles = new THREE.Points(this.geometry, this.material);\n        this.scene.add(this.particles);\n        console.log(this.particles);\n        requestAnimationFrame(this.render);\n    }\n\n    constructor() {\n        this.render = this.render.bind(this);\n    }\n\n    private get canvas(): HTMLCanvasElement {\n        return this.canvasRef.nativeElement;\n    }\n\n    private createScene() {\n        this.scene = new THREE.Scene();\n    }\n\n    private createCamera() {\n        let aspectRatio = this.getAspectRatio();\n        this.camera = new THREE.PerspectiveCamera(\n            this.fieldOfView,\n            aspectRatio,\n            this.nearClippingPane,\n            this.farClippingPane\n        );\n\n        // Set position and look at\n        this.camera.position.x = 10;\n        this.camera.position.y = 10;\n        this.camera.position.z = 100;\n    }\n\n    private getAspectRatio(): number {\n        let height = this.canvas.clientHeight;\n        if (height === 0) {\n            return 0;\n        }\n        return this.canvas.clientWidth / this.canvas.clientHeight;\n    }\n\n    private startRendering() {\n        this.renderer = new THREE.WebGLRenderer({\n            canvas: this.canvas,\n            antialias: true\n        });\n        this.renderer.setPixelRatio(devicePixelRatio);\n        this.renderer.setSize(this.canvas.clientWidth, this.canvas.clientHeight);\n\n        this.renderer.shadowMap.enabled = true;\n        this.renderer.shadowMap.type = THREE.PCFSoftShadowMap;\n        this.renderer.setClearColor(0xffffff, 1);\n        this.renderer.autoClear = true;\n\n        let component: BackgroundSceneComponent = this;\n\n        (function render() {\n            requestAnimationFrame(render);\n            component.render();\n        }());\n    }\n\n    public render() {\n        this.renderer.render(this.scene, this.camera);\n\n        for (var i = 0, j = this.particles.geometry.vertices; i &lt; j; i++) {\n            var particle = this.particles.geometry.vertices[i];\n            particle.x += (particle.destination.x - particle.x) * particle.speed;\n            particle.y += (particle.destination.y - particle.y) * particle.speed;\n            particle.z += (particle.destination.z - particle.z) * particle.speed;\n        }\n        this.particles.geometry.verticesneedupdate = true;\n    }\n\n    public addControls() {\n        this.controls = new OrbitControls(this.camera);\n        this.controls.rotateSpeed = 1.0;\n        this.controls.zoomSpeed = 1.2;\n        this.controls.addEventListener('change', this.render);\n\n    }\n\n    private loadCubeModel() {\n        var geometry = new THREE.BoxGeometry(1, 1, 1);\n        var material = new THREE.MeshBasicMaterial({ color: 0x00ff00 });\n        var cube = new THREE.Mesh(geometry, material);\n        this.scene.add(cube);\n    }\n\n    /* Events */\n   private onResize(event: Event) {\n        this.canvas.style.width = \"100%\";\n        this.canvas.style.height = \"100vh\";\n        //console.log(\"onResize: \" + this.canvas.clientWidth + \", \" + this.canvas.clientHeight);\n\n        this.camera.aspect = this.getAspectRatio();\n        this.camera.updateProjectionMatrix();\n        this.renderer.setSize(this.canvas.clientWidth, this.canvas.clientHeight);\n        this.render();\n    }\n\n    /* LIFECYCLE */\n   ngAfterViewInit() {\n        this.createScene();\n        this.createCamera();\n        this.loadImage(); // rendering starts here\n        this.loadCubeModel();\n        this.addControls();\n    }\n}\n</code></pre>\n\n<p>Quick example of me using         console.log(this.particles.geometry.vertices.length); and getting the correct output, but it still says it does not exist.\n<a href=\"https://i.stack.imgur.com/SKydC.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/SKydC.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["angular", "typescript", "ag-grid", "ag-grid-ng2"], "comments": [{"owner": {"reputation": 1739, "user_id": 885338, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/9641b362641b2516869b0f56cbb2c5fc?s=128&d=identicon&r=PG", "display_name": "Arikael", "link": "https://stackoverflow.com/users/885338/arikael"}, "edited": false, "score": 0, "creation_date": 1527685419, "post_id": 48412810, "comment_id": 88220233, "body": "did you find a solution for that? The only thing I was able to get to work is defining a static property on <code>ComponentLibModule</code> and use that as parameter in <code>AgGridModule.withComponents</code> which is really hacky and ugly in my opinion"}], "owner": {"reputation": 21, "user_id": 9259477, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-lAkczMBoXJE/AAAAAAAAAAI/AAAAAAAAEG4/so4giDdGboU/photo.jpg?sz=128", "display_name": "Divyanshu Mittal", "link": "https://stackoverflow.com/users/9259477/divyanshu-mittal"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 273, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1516752011, "creation_date": 1516752011, "question_id": 48412810, "link": "https://stackoverflow.com/questions/48412810/exporting-an-angular-module-which-imports-aggridmodule", "title": "Exporting an Angular module which imports agGridModule", "body": "<p>I am trying to write a component library in Angular5. My library has a rich set of features/components. I am trying to use AgGrid Module in my component library.</p>\n\n<p>I understand AgGrid Module needs to be aware of entryComponents at compile-time if i plan to use any of them in my grid. This leads me to an interesting problem. </p>\n\n<pre><code>@NgModule({\nimports: [\n    BrowserModule,\n    AgGridModule.withComponents([\n        ...\n    ])\n],\ndeclarations: [\n    AgGridComponent\n],\nexports: [\n    AgGridComponent\n]})  export class ComponentLibModule {}\n</code></pre>\n\n<p>I want to export my ComponentLibModule to be consumed by an application. The problem is, the application is going to define components which AgGridModule needs to treat as entryComponents.</p>\n\n<p>How can i wrap my ComponentLibModule to return a decorated module which provides AgGrid with its entry components?</p>\n"}, {"tags": ["javascript", "typescript", "asynchronous", "promise"], "comments": [{"owner": {"reputation": 47165, "user_id": 5053002, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab6a9edfd2614014563162586c1b0697?s=128&d=identicon&r=PG", "display_name": "Jaromanda X", "link": "https://stackoverflow.com/users/5053002/jaromanda-x"}, "edited": false, "score": 5, "creation_date": 1516749442, "post_id": 48412420, "comment_id": 83814675, "body": "<code>this</code> is not what you think it is ... use arrow functions or bind required <code>this</code> as appropriate"}, {"owner": {"reputation": 22049, "user_id": 6293409, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/74f518a7b20445607bcf0b09f4c26ce1?s=128&d=identicon&r=PG&f=1", "display_name": "CRice", "link": "https://stackoverflow.com/users/6293409/crice"}, "edited": false, "score": 0, "creation_date": 1516749456, "post_id": 48412420, "comment_id": 83814680, "body": "the use of <code>.then(function(...</code> is the issue. The <code>function</code> keyword introduces a new <code>this</code> context. Use an arrow function: <code>.then((values) =&gt; {...</code>"}, {"owner": {"reputation": 109, "user_id": 7563498, "user_type": "registered", "accept_rate": 0, "profile_image": "https://lh3.googleusercontent.com/-kFX2qThpLTc/AAAAAAAAAAI/AAAAAAAAAEw/N_QiNp8atSY/photo.jpg?sz=128", "display_name": "Yusof Bandar", "link": "https://stackoverflow.com/users/7563498/yusof-bandar"}, "edited": false, "score": 0, "creation_date": 1516749930, "post_id": 48412420, "comment_id": 83814832, "body": "cheers much appreciated, am i right in saying the function keyword takes the viewresults out of scope"}, {"owner": {"reputation": 109, "user_id": 7563498, "user_type": "registered", "accept_rate": 0, "profile_image": "https://lh3.googleusercontent.com/-kFX2qThpLTc/AAAAAAAAAAI/AAAAAAAAAEw/N_QiNp8atSY/photo.jpg?sz=128", "display_name": "Yusof Bandar", "link": "https://stackoverflow.com/users/7563498/yusof-bandar"}, "edited": false, "score": 0, "creation_date": 1516749953, "post_id": 48412420, "comment_id": 83814840, "body": "Also what do you think about the approach i am taking is it the best way"}], "answers": [{"tags": [], "owner": {"reputation": 204459, "user_id": 390330, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/1400be56ff17549b926dd3260da4a494?s=128&d=identicon&r=PG", "display_name": "basarat", "link": "https://stackoverflow.com/users/390330/basarat"}, "is_accepted": false, "score": 10, "last_activity_date": 1516749520, "creation_date": 1516749520, "answer_id": 48412453, "question_id": 48412420, "link": "https://stackoverflow.com/questions/48412420/javascript-calling-function-within-promise/48412453#48412453", "title": "Javascript, calling function within promise", "body": "<p>Change: </p>\n\n<pre><code>function(values) {\n  this.viewResult(values);\n}\n</code></pre>\n\n<p>To: </p>\n\n<pre><code>(values) =&gt; {\n  this.viewResult(values);\n}\n</code></pre>\n\n<h1>More</h1>\n\n<p>Arrow functions bind <a href=\"https://basarat.gitbooks.io/typescript/docs/arrow-functions.html\" rel=\"noreferrer\"><code>this</code> based on outer scope</a>.</p>\n"}], "owner": {"reputation": 109, "user_id": 7563498, "user_type": "registered", "accept_rate": 0, "profile_image": "https://lh3.googleusercontent.com/-kFX2qThpLTc/AAAAAAAAAAI/AAAAAAAAAEw/N_QiNp8atSY/photo.jpg?sz=128", "display_name": "Yusof Bandar", "link": "https://stackoverflow.com/users/7563498/yusof-bandar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2410, "favorite_count": 0, "closed_date": 1517529333, "answer_count": 1, "score": 0, "last_activity_date": 1516799761, "creation_date": 1516749314, "last_edit_date": 1516799761, "question_id": 48412420, "link": "https://stackoverflow.com/questions/48412420/javascript-calling-function-within-promise", "closed_reason": "Duplicate", "title": "Javascript, calling function within promise", "body": "<h2>Explanation of code</h2>\n\n<p>I have a function called <code>placeDecode</code> which takes an HTML input element. Within the function I have a promise which converts input value into a formatted address.</p>\n\n<p>I called <code>placeDecode</code> twice, to check when both called have been resolved I use a Promise.all, checking both each function call. My problem arises when I try to call a function <code>viewResult</code>, I get <code>Cannot read property 'viewresult' of undefined</code> error.</p>\n\n<hr>\n\n<h2>Code</h2>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>  //call function twice\r\n    var startAddress = this.placeDecode1(this.searches.startSearch);\r\n    var endAddress = this.placeDecode1(this.searches.endSearch);\r\n  \r\n    //promise all\r\n    Promise.all([endAddress,startAddress]).then(function(values) {\r\n      this.viewResult(values);\r\n\r\n    }).catch(function(result){\r\n      console.log(result);\r\n    })\r\n\r\n    console.log('hit');\r\n  }\r\n\r\n\r\n  //method convertes input into formatted address\r\n  private placeDecode1(input: HTMLInputElement) {\r\n\r\n    var result = new Promise(function(resolve, reject) {\r\n      var location = input.value;\r\n\r\n      var geoCode = new google.maps.Geocoder();\r\n      geoCode.geocode({\r\n        address: location\r\n      }, function(result,status){\r\n        if(status == 'OK'){\r\n          console.log(result[0].formatted_address);\r\n          resolve(result[0].formatted_address);\r\n        }\r\n      })\r\n    });\r\n\r\n    return result;\r\n\r\n  }</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<hr>\n\n<h2>Problem</h2>\n\n<p>The problem I am having is when i call <code>this.viewResult(values);</code> , I get an </p>\n\n<p><code>Cannot read property 'viewResult' of undefined</code> Error.</p>\n\n<p>many thanks</p>\n"}, {"tags": ["javascript", "angular", "typescript"], "comments": [{"owner": {"reputation": 366, "user_id": 2849742, "user_type": "registered", "profile_image": "https://graph.facebook.com/745153930/picture?type=large", "display_name": "Laurent Schwitter", "link": "https://stackoverflow.com/users/2849742/laurent-schwitter"}, "edited": false, "score": 0, "creation_date": 1516748605, "post_id": 48412229, "comment_id": 83814389, "body": "i might be wrong but i don&#39;t think that&#39;s possible... as far as i know and in simple terms templates get rendered by angular in such a way that&#39;s impossible to &quot;pass a DOM element to it&quot; via some strings... this is not jQuery :P do it angular style!"}, {"owner": {"reputation": 7037, "user_id": 2628921, "user_type": "registered", "accept_rate": 73, "profile_image": "https://graph.facebook.com/510986610/picture?type=large", "display_name": "SBB", "link": "https://stackoverflow.com/users/2628921/sbb"}, "reply_to_user": {"reputation": 366, "user_id": 2849742, "user_type": "registered", "profile_image": "https://graph.facebook.com/745153930/picture?type=large", "display_name": "Laurent Schwitter", "link": "https://stackoverflow.com/users/2849742/laurent-schwitter"}, "edited": false, "score": 0, "creation_date": 1516748757, "post_id": 48412229, "comment_id": 83814452, "body": "@LaurentSchwitter - How else would I do this? I tried the angular way by using a router link but its also the same situation you mentioned, passing something to an element. <code>output = output.replace(&#47;&lt;footer&gt;&#47;gi, &#39;&lt;footer&gt;&lt;a [routerLink]=&quot;[\\&#39;routeexample1\\&#39;]&quot; fragment=&quot;info&quot;&gt;&#39;);</code>"}, {"owner": {"reputation": 929, "user_id": 2928233, "user_type": "registered", "profile_image": "https://graph.facebook.com/1366214737/picture?type=large", "display_name": "Amit Beckenstein", "link": "https://stackoverflow.com/users/2928233/amit-beckenstein"}, "edited": false, "score": 2, "creation_date": 1516749032, "post_id": 48412229, "comment_id": 83814540, "body": "Why not just create a comment component, which does it on its own, in a more Angular-ish way instead of replacing inner HTML?"}, {"owner": {"reputation": 366, "user_id": 2849742, "user_type": "registered", "profile_image": "https://graph.facebook.com/745153930/picture?type=large", "display_name": "Laurent Schwitter", "link": "https://stackoverflow.com/users/2849742/laurent-schwitter"}, "edited": false, "score": 1, "creation_date": 1516749677, "post_id": 48412229, "comment_id": 83814756, "body": "@SBB omg please don&#39;t use a router to implement a link :P do what Amit suggested...  or simply [(click)]=&quot;hasLink ? &#39;linkID&#39; : &#39;&#39;&quot; or something... i deeply suggest you read some angular documentation... it looks to me like you havn&#39;t and are trying to make it work like it&#39;s not angular... follow some quick start guide or tutorial for your own well being"}], "answers": [{"tags": [], "owner": {"reputation": 5977, "user_id": 5683579, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/8c263738dccc90304c0ac71ed8ed505b?s=128&d=identicon&r=PG", "display_name": "joh04667", "link": "https://stackoverflow.com/users/5683579/joh04667"}, "is_accepted": false, "score": 1, "last_activity_date": 1516823845, "last_edit_date": 1516823845, "creation_date": 1516750985, "answer_id": 48412661, "question_id": 48412229, "link": "https://stackoverflow.com/questions/48412229/angular-replace-html-content-with-a-link-to-a-page-fragment/48412661#48412661", "title": "Angular replace html content with a link to a page fragment", "body": "<p><strong>Angular is precompiled</strong></p>\n\n<p>Remember, Angular is <em>precompiled</em>. Angular template syntax is consumed and transformed when it is compiled, which means the DOM isn't actively checked for Angular syntax. In fact, one goal of Angular is to decouple your code from the DOM. </p>\n\n<p>Think of it this way: adding a <code>(click)</code> to an element isn't valid vanilla HTML syntax. When you add that binding to a template in an Angular project, compile it, and inspect the output through your DevTools, that <code>(click)</code> attribute won't be on the element in the compiled HTML anymore. That's because the Angular compiler recognizes that <code>(click)</code> syntax, removes it from the outputted HTML, and instead registers an <code>onclick</code> handler behind the scenes that behaves as you'd expect in the scope it's assigned, and Angular manages this behavior in its own space. Once it's compiled as a component, simply altering the HTML won't add anything that Angular will be aware of -- the logic is there, but it's been consumed by the <em>framework</em>.</p>\n\n<h3>Raw HTML</h3>\n\n<p>Now, Angular shines with this idea of a template syntax, but when dealing with raw HTML things can be a bit trickier to do 'The Angular way.' The ideal solution would be to not parse raw HTML at all, but I'll assume for your case that it's a necessity. </p>\n\n<p>Since Angular has the DOM wrapped up in its API, it's considered best practice to not directly manipulate it (note: binding potentially expensive function calls to inputs can also be bad...called on change detection cycles). Something you could try instead:</p>\n\n<pre><code>&lt;app-link-comm [comm]=\"comm\"&gt;&lt;/app-link-comm&gt;\n</code></pre>\n\n<p>where <code>app-link-comm</code> is a component:</p>\n\n<pre><code>@Component({\n  selector: 'app-link-comm',\n  template: '&lt;p [innerHTML]=\"comm.Communication\"&gt;&lt;/p&gt;`,\n  styles: {some-style: stylish}\n})\nexport class LinkCommComponent implements AfterViewInit {\n\n  // Allow the parent to bind a comm to the component\n  @Input('comm') comm;\n\n\n  constructor(public render: Renderer2, public router: Router) {}\n\n  // Wait until afterViewInit so the view is drawn and inputs are resolved\n  ngAfterViewInit() {\n    // Search within this node with a jQuery-like DOM querySelector\n    let footer = this.renderer.selectRootElement('footer');\n    // attach some Angular-aware behavior to it\n    this.renderer.listen(footer, 'click', (event: Event) =&gt; {\n      // do whatever you want on click here. We could emit an event that the parent component could listen to, but let's just assume we're changing routes and act on the router directly.\n      this.router.navigate(`#commID_${this.comm.CommunicationId}`);\n    }\n\n    /** That leaves us with a click listener on the footer. \n    /* If we wanted to append a child element, we just use the Renderer with the new element:\n    **/\n\n    let a = document.createElement('a');\n    // We could listen for clicks on the &lt;a&gt; like above, but let's just attach vanilla behavior:\n    a.href = `#commID_${this.comm.CommunicationId}`;\n    this.renderer.appendChild(footer, a);\n\n  }\n\n}\n</code></pre>\n\n<p>The <strong>Renderer2</strong> is an injectable service that both wraps up differences in browser and mobile APIs and also allows us to attach behaviors to elements that Angular can manage through its <code>NgZone</code>.</p>\n\n<p><strong>Alternatively:</strong></p>\n\n<p>If you wanted to append an anchor element to the footer with an <code>href</code>\nThe same thing could potentially be achieved with directives, pipes, or even dynamically rendered components, but I think this is a good solution when dealing with raw HTML. The component gets a single binding, the <code>[innerHTML]</code> allows Angular to sanitize the input, and DOM querying is done through the Angular <code>Renderer</code> instead of manual parsing. </p>\n\n<p>Since this is now its own component, other localized behaviors can be kept here as well.</p>\n\n<p>As far as adding directives to raw HTML, it's not going to be possible. Angular needs to be aware of the directive before compile time to attach its behaviors correctly. Your best bet would be to make a host component/element with the directive on it, then bind the correct (parsed) html elements to that element.</p>\n"}], "owner": {"reputation": 7037, "user_id": 2628921, "user_type": "registered", "accept_rate": 73, "profile_image": "https://graph.facebook.com/510986610/picture?type=large", "display_name": "SBB", "link": "https://stackoverflow.com/users/2628921/sbb"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1650, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1516823845, "creation_date": 1516748251, "question_id": 48412229, "link": "https://stackoverflow.com/questions/48412229/angular-replace-html-content-with-a-link-to-a-page-fragment", "title": "Angular replace html content with a link to a page fragment", "body": "<p>I have a component that is outputting comments on the page. In these comments, there is some HTML <code>&lt;footer&gt;By John Doe on Jan 23, 2018&lt;/footer&gt;</code>.</p>\n\n<p>I am trying to wrap the contents of the footer in an <code>anchor link</code> so that you can jump to the parent communication on the same page.</p>\n\n<p><strong>Component HTML:</strong></p>\n\n<pre><code>&lt;p [innerHTML]=\"linkComm(comm.Communication, comm)\"&gt;&lt;/p&gt;\n</code></pre>\n\n<p><code>comm.communication</code> = <code>Blah Blah Blah &lt;footer&gt;By John Doe on Jan 23, 2018&lt;/footer&gt;</code></p>\n\n<p><strong>Component TS:</strong></p>\n\n<pre><code>    /**\n     * Link to parent communication\n     * @param message \n     * @param comm \n     */\n    linkComm(message, comm){\n        let output = message;\n        output = output.replace(/&lt;footer&gt;/gi, '&lt;footer&gt;&lt;a (click)=\"someMethod(comm.CommunicationID)\"&gt;');\n        output = output.replace(/&lt;\\/footer&gt;/gi, '&lt;/a&gt;&lt;/footer&gt;');\n        return output;\n    }\n</code></pre>\n\n<p>When I take this approach, no <code>click</code> event is being added to the link like I would expect. </p>\n\n<p>I also tried a module suggested here (<a href=\"https://stackoverflow.com/a/46587554/2628921\">https://stackoverflow.com/a/46587554/2628921</a>) that is meant for page scrolling but it doest appear that <code>pageScroll</code> is being added on there either. </p>\n\n<p><code>output = output.replace(/&lt;footer&gt;/gi, '&lt;footer&gt;&lt;a pageScroll href=\"#commID_'+comm.CommunicationID+'\"&gt;');</code></p>\n\n<p>Is this a security issue where only certain attributes can be added to a link? </p>\n"}, {"tags": ["typescript", "jestjs"], "answers": [{"comments": [{"owner": {"reputation": 6857, "user_id": 755666, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/ea86c464319f512785c5b6e4e64c7f8e?s=128&d=identicon&r=PG", "display_name": "Steven Scott", "link": "https://stackoverflow.com/users/755666/steven-scott"}, "edited": false, "score": 0, "creation_date": 1516815476, "post_id": 48412190, "comment_id": 83847464, "body": "I have sourceMap: true, and changed to sourceMaps:true, still with no change. I added the &quot;sourceMaps&quot;:true to the &quot;compilerOptions&quot;  section. I added my tsconfig.json to the question."}, {"owner": {"reputation": 6857, "user_id": 755666, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/ea86c464319f512785c5b6e4e64c7f8e?s=128&d=identicon&r=PG", "display_name": "Steven Scott", "link": "https://stackoverflow.com/users/755666/steven-scott"}, "edited": false, "score": 0, "creation_date": 1516816379, "post_id": 48412190, "comment_id": 83847992, "body": "I also found that the Typescript compiler Schema seems to indicate sourceMap.  This also did not work."}, {"owner": {"reputation": 6857, "user_id": 755666, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/ea86c464319f512785c5b6e4e64c7f8e?s=128&d=identicon&r=PG", "display_name": "Steven Scott", "link": "https://stackoverflow.com/users/755666/steven-scott"}, "edited": false, "score": 0, "creation_date": 1516920896, "post_id": 48412190, "comment_id": 83899521, "body": "sourceMaps gives: [17:52:08]  typescript error. Unknown compiler option &#39;sourceMaps&#39;.  I am running in an ionic environment if that changes things.  I have a folder (.sourcemaps) off the main project directory."}, {"owner": {"reputation": 6857, "user_id": 755666, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/ea86c464319f512785c5b6e4e64c7f8e?s=128&d=identicon&r=PG", "display_name": "Steven Scott", "link": "https://stackoverflow.com/users/755666/steven-scott"}, "edited": false, "score": 0, "creation_date": 1563920425, "post_id": 48412190, "comment_id": 100858841, "body": "Just accepted this as the newer versions of everything do not have the issue.  The versions and @types have likely been updated correctly now."}, {"owner": {"reputation": 368, "user_id": 6022629, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/u0Zuu.jpg?s=128&g=1", "display_name": "Juan Carlos", "link": "https://stackoverflow.com/users/6022629/juan-carlos"}, "edited": false, "score": 0, "creation_date": 1598605058, "post_id": 48412190, "comment_id": 112519199, "body": "&quot;sourceMaps&quot; is incorrect. Plus jest with typescript does not use the tsconfig, but uses babel instead."}, {"owner": {"reputation": 10523, "user_id": 806963, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/gSzvm.jpg?s=128&g=1", "display_name": "Stav Alfi", "link": "https://stackoverflow.com/users/806963/stav-alfi"}, "edited": false, "score": 0, "creation_date": 1611871715, "post_id": 48412190, "comment_id": 116597772, "body": "i fixed the answer. he had a typo."}], "tags": [], "owner": {"reputation": 204459, "user_id": 390330, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/1400be56ff17549b926dd3260da4a494?s=128&d=identicon&r=PG", "display_name": "basarat", "link": "https://stackoverflow.com/users/390330/basarat"}, "is_accepted": true, "score": -2, "last_activity_date": 1611871692, "last_edit_date": 1611871692, "creation_date": 1516748085, "answer_id": 48412190, "question_id": 48412159, "link": "https://stackoverflow.com/questions/48412159/jest-test-of-typescript-shows-wrong-error-lines/48412190#48412190", "title": "Jest test of Typescript shows wrong error lines", "body": "<blockquote>\n<p>Jest test of Typescript shows wrong error lines</p>\n</blockquote>\n<p>Make sure your <code>tsconfig.json</code> has <code>sourceMap: true</code></p>\n"}, {"tags": [], "owner": {"reputation": 449, "user_id": 3757553, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5f0ca4dd7b18f3cda3554680366c5c67?s=128&d=identicon&r=PG", "display_name": "Russ", "link": "https://stackoverflow.com/users/3757553/russ"}, "is_accepted": false, "score": 0, "last_activity_date": 1615999026, "creation_date": 1615999026, "answer_id": 66677385, "question_id": 48412159, "link": "https://stackoverflow.com/questions/48412159/jest-test-of-typescript-shows-wrong-error-lines/66677385#66677385", "title": "Jest test of Typescript shows wrong error lines", "body": "<p>Mine are off by more than a couple of lines. In fact, the further down the file, the more &quot;off&quot; it is. I've detailed the issue in this post (<a href=\"https://stackoverflow.com/questions/66550875/jest-26-angular-error-line-numbers-incorrectly-reported\">Jest 26 &amp; Angular - Error Line Numbers incorrectly reported</a>). I've also created a minimal repo if anyone can assist.</p>\n"}], "owner": {"reputation": 6857, "user_id": 755666, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/ea86c464319f512785c5b6e4e64c7f8e?s=128&d=identicon&r=PG", "display_name": "Steven Scott", "link": "https://stackoverflow.com/users/755666/steven-scott"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1262, "favorite_count": 0, "accepted_answer_id": 48412190, "answer_count": 2, "score": 3, "last_activity_date": 1615999026, "creation_date": 1516747895, "last_edit_date": 1561132489, "question_id": 48412159, "link": "https://stackoverflow.com/questions/48412159/jest-test-of-typescript-shows-wrong-error-lines", "title": "Jest test of Typescript shows wrong error lines", "body": "<p>I am running a sample Jest test on a structure, and I find that the errors in my output summary from Jest are off by a couple of lines.  </p>\n\n<p>Package.json</p>\n\n<pre><code>\"devDependencies\": {\n    \"@types/jest\": \"^22.0.1\",\n    \"jest\": \"^22.1.4\",\n    \"jest-preset-angular\": \"^5.0.0\",\n    \"ts-jest\": \"^22.0.1\",\n    \"typescript\": \"^2.6.2\"\n},\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>Venue \u203a Venue Structure \u203a should have all the structure fields\n\nexpect(received).toBeDefined()\n\nExpected value to be defined, instead received\n  undefined\n\n  20 |              it('should be an instance of DataStructure', () =&gt; {\n  21 |                      expect(VenueInfo instanceof DataStructure).toBeTruthy();\n&gt; 22 |              })\n  23 |\n  24 |              it('should have the proper number of data fields', () =&gt; {\n  25 |                      expect(VenueInfo.NumberOfFields).toBe(14);              // LastUpdated is added automatically\n\n  at src/structures/Venue.spec.ts:22:35\n</code></pre>\n\n<p>However, the test is question is actually at line 29, based on the text from the <code>it()</code>.</p>\n\n<p>Venue.spec.ts:</p>\n\n<pre><code>import { TestBed, ComponentFixture } from '@angular/core/testing';\nimport { NO_ERRORS_SCHEMA } from '@angular/core';\n\nimport { Venue } from './Venue';\nimport { DataStructure } from '../library/base/DataStructure';\n\ndescribe('Venue', () =&gt; {\n    let VenueInfo: Venue;\n\n    beforeEach(() =&gt; {\n        VenueInfo = new Venue();\n    });\n\n    describe('Class', () =&gt; {\n\n        it('should be an instance of Venue', () =&gt; {\n            expect(VenueInfo instanceof Venue).toBeTruthy();    ;\n        });\n\n        it('should be an instance of DataStructure', () =&gt; {\n            expect(VenueInfo instanceof DataStructure).toBeTruthy();\n        })\n\n        it('should have the proper number of data fields', () =&gt; {\n            expect(VenueInfo.NumberOfFields).toBe(14);          });\n    });\n\n    describe('Venue Structure', () =&gt; {\n        it('should have all the structure fields', () =&gt; {\n            expect(VenueInfo.Key).toBeDefined();\n            expect(VenueInfo.Description).toBeDefined();\n            expect(VenueInfo.Address1).toBeDefined();\n            expect(VenueInfo.Address2).toBeDefined();\n            expect(VenueInfo.City).toBeDefined();\n            expect(VenueInfo.Province).toBeDefined();\n            expect(VenueInfo.Country).toBeDefined();\n            expect(VenueInfo.PostalCode).toBeDefined();\n            expect(VenueInfo.Telephone).toBeDefined();\n            expect(VenueInfo.Latitude).toBeDefined();\n            expect(VenueInfo.Longitude).toBeDefined();\n            expect(VenueInfo.MajorIntersection).toBeDefined();\n            expect(VenueInfo.DartBoards).toBeDefined();\n        });\n    });\n});\n</code></pre>\n\n<p>tsconfig.json</p>\n\n<pre><code>{\n    \"compilerOptions\": {\n        \"allowSyntheticDefaultImports\": true,\n        \"declaration\": false,\n        \"emitDecoratorMetadata\": true,\n        \"experimentalDecorators\": true,\n        \"lib\": [\n            \"dom\",\n            \"es2015\"\n        ],\n        \"module\": \"es2015\",\n        \"moduleResolution\": \"node\",\n        \"sourceMaps\": true,\n        \"target\": \"es5\"\n    },\n    \"include\": [\n        \"src/**/*.ts\"\n    ],\n    \"exclude\": [\n        \"node_modules\",\n        \"src/**/*.spec.ts\",\n        \"src/test-config\"\n    ],\n    \"compileOnSave\": false,\n    \"atom\": {\n        \"rewriteTsconfig\": false\n    }\n}\n</code></pre>\n\n<p>From early configurations, I also had a tsconfig.spec.ts in the src directory of my Ionic application, which also has the sourceMaps: true, but does not seem to have any impact.</p>\n\n<p>tsconfig.spec.json (not sure what uses this as I cannot find a reference to the file):</p>\n\n<pre><code>{\n    \"extends\": \"../tsconfig.json\",\n    \"compilerOptions\": {\n        \"allowJs\": true,\n        \"module\": \"commonjs\",\n        \"outDir\": \"../out-tsc/spec\",\n        \"sourceMaps\": true,\n        \"target\": \"es5\"\n    },\n    \"files\": [\n        \"**/*.ts\"\n    ],\n    \"include\": [\n        \"*.spec.ts\",\n        \"**/*.spec.ts\",\n        \"**/*.d.ts\",\n        \"test-config/*.ts\",\n        \"test-config/**/*.ts\"\n    ]\n}\n</code></pre>\n"}, {"tags": ["node.js", "typescript", "sinon", "stub", "request-promise"], "comments": [{"owner": {"reputation": 22898, "user_id": 1915893, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/580b31b0be7173bbc477ca1d6967d87c?s=128&d=identicon&r=PG", "display_name": "Aluan Haddad", "link": "https://stackoverflow.com/users/1915893/aluan-haddad"}, "edited": false, "score": 1, "creation_date": 1516746434, "post_id": 48411836, "comment_id": 83813528, "body": "Not an answer, but why not just make your own stub. The code will be simpler: <code>rp.get = () =&gt; Promise.resolve(stubresponse)</code>"}, {"owner": {"reputation": 3882, "user_id": 2753802, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/O81Mt.jpg?s=128&g=1", "display_name": "Troopers", "link": "https://stackoverflow.com/users/2753802/troopers"}, "edited": false, "score": 0, "creation_date": 1516798878, "post_id": 48411836, "comment_id": 83835640, "body": "<a href=\"https://stackoverflow.com/questions/21072016/stubbing-a-class-method-with-sinon-js\">Possible duplicate</a>"}, {"owner": {"user_type": "does_not_exist", "display_name": "user773737"}, "reply_to_user": {"reputation": 3882, "user_id": 2753802, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/O81Mt.jpg?s=128&g=1", "display_name": "Troopers", "link": "https://stackoverflow.com/users/2753802/troopers"}, "edited": false, "score": 0, "creation_date": 1516802151, "post_id": 48411836, "comment_id": 83837839, "body": "@Troopers sorry, that issue is different than my case. That problem follows the <code>(class, method)</code> pattern, but my call to <code>rp</code> doesn&#39;t fit that."}, {"owner": {"reputation": 3882, "user_id": 2753802, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/O81Mt.jpg?s=128&g=1", "display_name": "Troopers", "link": "https://stackoverflow.com/users/2753802/troopers"}, "edited": false, "score": 0, "creation_date": 1516802879, "post_id": 48411836, "comment_id": 83838338, "body": "@Houseman : Show us how you define <code>rp</code> in the second case."}, {"owner": {"reputation": 3882, "user_id": 2753802, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/O81Mt.jpg?s=128&g=1", "display_name": "Troopers", "link": "https://stackoverflow.com/users/2753802/troopers"}, "edited": false, "score": 0, "creation_date": 1516803326, "post_id": 48411836, "comment_id": 83838641, "body": "<a href=\"https://stackoverflow.com/questions/34575750/how-to-stub-exported-function-in-es6\">Similar question with es6</a>"}, {"owner": {"user_type": "does_not_exist", "display_name": "user773737"}, "reply_to_user": {"reputation": 3882, "user_id": 2753802, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/O81Mt.jpg?s=128&g=1", "display_name": "Troopers", "link": "https://stackoverflow.com/users/2753802/troopers"}, "edited": false, "score": 0, "creation_date": 1516803670, "post_id": 48411836, "comment_id": 83838884, "body": "@Troopers I&#39;ve edited the question to show how I define <code>rp</code>. The similar es6 question doesn&#39;t quite fit, because that&#39;s still <code>foo.bar()</code>. For it to be equivalent, it would have to be just <code>foo()</code>."}, {"owner": {"reputation": 3882, "user_id": 2753802, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/O81Mt.jpg?s=128&g=1", "display_name": "Troopers", "link": "https://stackoverflow.com/users/2753802/troopers"}, "edited": false, "score": 0, "creation_date": 1516806507, "post_id": 48411836, "comment_id": 83841101, "body": "<a href=\"https://github.com/sinonjs/sinon/issues/664\" rel=\"nofollow noreferrer\">Third try</a>"}], "answers": [{"tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user773737"}, "is_accepted": true, "score": 1, "last_activity_date": 1516813166, "creation_date": 1516813166, "answer_id": 48427862, "question_id": 48411836, "link": "https://stackoverflow.com/questions/48411836/stub-an-object-without-requiring-a-method/48427862#48427862", "title": "stub an object without requiring a method", "body": "<p>From @Troopers' link in the comments above, it seems like this isn't possible: <a href=\"https://github.com/sinonjs/sinon/issues/664#issuecomment-71980876\" rel=\"nofollow noreferrer\">Doing this is not technically possible without faking the entire module loading system.</a></p>\n\n<p>So I followed the suggestion here: <a href=\"https://github.com/request/request/issues/2181\" rel=\"nofollow noreferrer\">https://github.com/request/request/issues/2181</a> and used mock-require to stub <code>rp</code>. I also changed up my code that used to call <code>rp.get()</code>, so that it just calls <code>rp()</code>, since I couldn't also figure out how to stub both <code>rp()</code> and <code>rp.get()</code></p>\n"}, {"tags": [], "owner": {"reputation": 1584, "user_id": 976881, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s7CZl.jpg?s=128&g=1", "display_name": "mantoni", "link": "https://stackoverflow.com/users/976881/mantoni"}, "is_accepted": false, "score": 0, "last_activity_date": 1516957208, "creation_date": 1516957208, "answer_id": 48458275, "question_id": 48411836, "link": "https://stackoverflow.com/questions/48411836/stub-an-object-without-requiring-a-method/48458275#48458275", "title": "stub an object without requiring a method", "body": "<p>You might find the Sinon HowTo about Link Seams helpful: <a href=\"http://sinonjs.org/how-to/link-seams-commonjs/\" rel=\"nofollow noreferrer\">http://sinonjs.org/how-to/link-seams-commonjs/</a></p>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user773737"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 771, "favorite_count": 0, "accepted_answer_id": 48427862, "answer_count": 2, "score": 0, "last_activity_date": 1516957208, "creation_date": 1516746286, "last_edit_date": 1516803522, "question_id": 48411836, "link": "https://stackoverflow.com/questions/48411836/stub-an-object-without-requiring-a-method", "title": "stub an object without requiring a method", "body": "<p>I have something like:</p>\n\n<pre><code>sandbox.stub(rp, 'get').resolves(successResponse)\n</code></pre>\n\n<p>which returns my custom response when it hits this code:  </p>\n\n<pre><code>return await rp.get(url, options)\n</code></pre>\n\n<p>But how can I do something like this:</p>\n\n<pre><code>    sandbox.stub(rp).resolves(successResponse)\n</code></pre>\n\n<p>Which can return a custom response when it hits this code?</p>\n\n<pre><code>    return await rp(url, options)\n</code></pre>\n\n<p>When I attempt \"stubbing\" the entire object, I get this error when I run the test:</p>\n\n<pre><code>TypeError: Attempted to wrap undefined property undefined as function\n      at wrapMethod (node_modules\\sinon\\lib\\sinon\\util\\core\\wrap-method.js:70:21)\n      at stub (node_modules\\sinon\\lib\\sinon\\stub.js:58:44)\n      at Object.stub (node_modules\\sinon\\lib\\sinon\\collection.js:93:33)\n</code></pre>\n\n<p><code>rp</code> is <a href=\"https://github.com/request/request-promise-native\" rel=\"nofollow noreferrer\">request-promise-native</a>, which wraps <a href=\"https://github.com/request/request\" rel=\"nofollow noreferrer\">request</a></p>\n"}, {"tags": ["javascript", "reactjs", "typescript", "redux"], "answers": [{"comments": [{"owner": {"reputation": 294, "user_id": 6630144, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-56iWQJs4aa8/AAAAAAAAAAI/AAAAAAAABFQ/4xjBhr7f9Is/photo.jpg?sz=128", "display_name": "Pierre Kraemer", "link": "https://stackoverflow.com/users/6630144/pierre-kraemer"}, "edited": false, "score": 1, "creation_date": 1516746796, "post_id": 48411908, "comment_id": 83813693, "body": "If you want to avoid re-render, you can leverage memoization offered for example by reselect: <a href=\"https://github.com/reactjs/reselect\" rel=\"nofollow noreferrer\">github.com/reactjs/reselect</a>"}, {"owner": {"reputation": 265, "user_id": 2201169, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/fa0dd3f6edcbdad3ca7a196dc7943a21?s=128&d=identicon&r=PG", "display_name": "Thomas", "link": "https://stackoverflow.com/users/2201169/thomas"}, "edited": false, "score": 0, "creation_date": 1516882071, "post_id": 48411908, "comment_id": 83876231, "body": "Thank you! I added reselect, created a selector, and now it only renders when I want it to :) Here is some code for completeness:      <code>export const personListSelector = createSelector&lt;RootState,       { [byId: string]: Readonly&lt;IPerson&gt; },       ReadonlyArray&lt;IPerson&gt;     &gt;(state =&gt; state.entities.persons.byId, result =&gt; _.values(result));</code>"}], "tags": [], "owner": {"reputation": 34232, "user_id": 3836229, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/27d2fef27eacad45ee3fffda314f86f2?s=128&d=identicon&r=PG", "display_name": "Timo", "link": "https://stackoverflow.com/users/3836229/timo"}, "is_accepted": true, "score": 5, "last_activity_date": 1516746656, "creation_date": 1516746656, "answer_id": 48411908, "question_id": 48411812, "link": "https://stackoverflow.com/questions/48411812/why-does-my-redux-container-render-when-unrelated-state-changes/48411908#48411908", "title": "Why does my redux container render when unrelated state changes?", "body": "<p><code>state.entities.persons</code> may be the same object after updating <code>cars</code>, but <code>_.values(state.entities.persons.byId)</code> produces a new object with each execution \u2013 <code>_.values</code> does not cache/reuse its result, even if the input stays the same.</p>\n\n<p>Since the prop provided to the <code>PureComponent</code> is now a different object (even with identical content), a re-render is triggered.</p>\n"}], "owner": {"reputation": 265, "user_id": 2201169, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/fa0dd3f6edcbdad3ca7a196dc7943a21?s=128&d=identicon&r=PG", "display_name": "Thomas", "link": "https://stackoverflow.com/users/2201169/thomas"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 88, "favorite_count": 0, "accepted_answer_id": 48411908, "answer_count": 1, "score": 2, "last_activity_date": 1516746656, "creation_date": 1516746144, "last_edit_date": 1516746278, "question_id": 48411812, "link": "https://stackoverflow.com/questions/48411812/why-does-my-redux-container-render-when-unrelated-state-changes", "title": "Why does my redux container render when unrelated state changes?", "body": "<p>My redux state looks like this: </p>\n\n<pre><code>{ \n  entities: {\n    cars: {\n      byId: {},\n      isFetching: true\n    },\n    persons: {\n      byId: {},\n      isFetching: false\n    }  \n  }\n}\n</code></pre>\n\n<p>My Person container:</p>\n\n<pre><code>class PersonPageComponent extends React.PureComponent&lt;\n  IPersonPageProps &amp; InjectedAuthRouterProps,\n  {}\n&gt; {\n  render() {\n    console.log('render\u00b4);\n    return (&lt;p&gt;helllo&lt;/p&gt;);\n  }\n}\n\nconst mapStateToProps = (state: RootState, ownProps: { title: string }) =&gt; ({\n  list: _.values(state.entities.persons.byId), // personsSelector(state)  \n});\n\nexport const PersonPage = userIsAuthenticated(\n  connect&lt;IPersonPageProps, {}, {}&gt;(\n    mapStateToProps\n  )(PersonPageComponent)\n);\n</code></pre>\n\n<p>Why does my Person container re-render when I have changes in redux state under entities.cars? Is it supposed to trigger render since 'entities' changed? A GET_CARS action sets entities.cars.isFetching = true. Should this result in a re-render in PersonComponent?</p>\n"}, {"tags": ["angular", "typescript", "generics"], "comments": [{"owner": {"reputation": 22898, "user_id": 1915893, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/580b31b0be7173bbc477ca1d6967d87c?s=128&d=identicon&r=PG", "display_name": "Aluan Haddad", "link": "https://stackoverflow.com/users/1915893/aluan-haddad"}, "edited": false, "score": 2, "creation_date": 1516743129, "post_id": 48411120, "comment_id": 83812045, "body": "Angular&#39;s <code>Type&lt;T&gt;</code> is a bad API. You are one of many who has been mislead by its frankly irresponsible naming. <code>Type&lt;T&gt;</code> really means <code>Constructable&lt;T&gt;</code>. It is the type of a value that you can call with <code>new</code>"}, {"owner": {"reputation": 33439, "user_id": 3977061, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/dcec319057f1824502fbf3ecece46e26?s=128&d=identicon&r=PG&f=1", "display_name": "BeetleJuice", "link": "https://stackoverflow.com/users/3977061/beetlejuice"}, "reply_to_user": {"reputation": 22898, "user_id": 1915893, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/580b31b0be7173bbc477ca1d6967d87c?s=128&d=identicon&r=PG", "display_name": "Aluan Haddad", "link": "https://stackoverflow.com/users/1915893/aluan-haddad"}, "edited": false, "score": 0, "creation_date": 1516743742, "post_id": 48411120, "comment_id": 83812296, "body": "@AluanHaddad so does this mean that my generic function needs to accept this Constructable as an argument to work? I cannot extract the Constructable from the generic type <code>T</code>?"}, {"owner": {"reputation": 22898, "user_id": 1915893, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/580b31b0be7173bbc477ca1d6967d87c?s=128&d=identicon&r=PG", "display_name": "Aluan Haddad", "link": "https://stackoverflow.com/users/1915893/aluan-haddad"}, "edited": false, "score": 0, "creation_date": 1516743928, "post_id": 48411120, "comment_id": 83812378, "body": "No, you may not. TypeScript types are purely design time constructs. See my answer for how you can make it work."}], "answers": [{"comments": [{"owner": {"reputation": 33439, "user_id": 3977061, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/dcec319057f1824502fbf3ecece46e26?s=128&d=identicon&r=PG&f=1", "display_name": "BeetleJuice", "link": "https://stackoverflow.com/users/3977061/beetlejuice"}, "edited": false, "score": 0, "creation_date": 1516747508, "post_id": 48411330, "comment_id": 83813989, "body": "Thanks for the expanded answer. I will try it out when I get back to my desk. +1"}], "tags": [], "owner": {"reputation": 22898, "user_id": 1915893, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/580b31b0be7173bbc477ca1d6967d87c?s=128&d=identicon&r=PG", "display_name": "Aluan Haddad", "link": "https://stackoverflow.com/users/1915893/aluan-haddad"}, "is_accepted": true, "score": 5, "last_activity_date": 1546151720, "last_edit_date": 1546151720, "creation_date": 1516743877, "answer_id": 48411330, "question_id": 48411120, "link": "https://stackoverflow.com/questions/48411120/angular-in-typescript-how-to-pass-generic-type-to-function/48411330#48411330", "title": "Angular in Typescript: how to pass generic Type to function", "body": "<p>Angular's <code>Type&lt;T&gt;</code> is a bad API. You are one of many who has been mislead by its frankly irresponsible naming (see remarks). <code>Type&lt;T&gt;</code> really means Constructable. It is the type of a value that you can call with <code>new</code>.</p>\n\n<p><code>By.directive</code> takes a <em>value</em> not a type. The type of that value is something which can be called with <code>new</code>, something that can be constructed. This means a class or a function.</p>\n\n<p>However, you <em>can</em> write the function you wish to.</p>\n\n<p>Here is how I would write it.</p>\n\n<pre><code>function getDirective&lt;T&gt;(\n  hostFixture: ComponentFixture&lt;any&gt;, \n  ComponentConstructor: new (...args: any[]) =&gt; T\n): T {\n  const debugElement = hostFixture.debugElement.query(By.directive(ComponentConstructor));\n\n  return debugElement &amp;&amp; debugElement.componentInstance || undefined;\n}\n</code></pre>\n\n<p>Then call it like this</p>\n\n<pre><code>const instance = getDirective(fixture, MyComponent);\n</code></pre>\n\n<p><strong>Remarks:</strong></p>\n\n<p>TypeScript types are purely design time constructs. The language's entire type system was carefully designed to be fully erased during transpilation and in particular to have no impact on the runtime behavior of programs.</p>\n\n<p>Why do I say that the name <code>Type&lt;T&gt;</code> is irresponsible? Because thousands of programmers are learning TypeScript for the first time in the context of Angular. By naming a type Type, they have made things very easy to misunderstand.</p>\n\n<p>This is especially significant because the type <code>Type&lt;T&gt;</code> is usually ascribed to a value that is a class and many people already confuse types with classes in TypeScript and in vanilla JavaScript as well.</p>\n\n<p>Angular wants these concepts to be conflated, it <em>wishes</em> that classes in JavaScript were types like they are in many other languages but they simply are not. It's worth noting that frameworks such as Aurelia, which I prefer, also encourage this conflating but, since they do not <em>attempt</em> to mandate TypeScript and as they allow dependencies to be specified via a property on classes (perhaps ironically in the manner or AngularJS, confusion is less likely. Irregardless, TypeScript types, ECMAScript classes, and dependency injection are entirely orthogonal concepts.</p>\n\n<p>Given the nature of TypeScript, which provides design time only types, this leads to serious confusion.</p>\n\n<p>It is interesting to note that the Angular team designed their own programming language, called @Script specifically for the development of Angular 2. @Script was a derivative of JavaScript and TypeScript that distinguished itself by adding some degree of type reification while eschewing <em>Decorators</em> for a then competing <em>Annotations</em> feature. They abandoned this language late in 2014, opting to use TypeScript instead.</p>\n\n<p>Still I sometimes think that the same philosophy that inspired @Script still influences Angular.</p>\n"}], "owner": {"reputation": 33439, "user_id": 3977061, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/dcec319057f1824502fbf3ecece46e26?s=128&d=identicon&r=PG&f=1", "display_name": "BeetleJuice", "link": "https://stackoverflow.com/users/3977061/beetlejuice"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3052, "favorite_count": 0, "accepted_answer_id": 48411330, "answer_count": 1, "score": 4, "last_activity_date": 1546151720, "creation_date": 1516742894, "question_id": 48411120, "link": "https://stackoverflow.com/questions/48411120/angular-in-typescript-how-to-pass-generic-type-to-function", "title": "Angular in Typescript: how to pass generic Type to function", "body": "<p>Using Typescript to write an Angular 5 unit tests, I have a function that will query the DOM and return an instance of the <code>MyComponent</code> class if found:</p>\n\n<pre><code>function getMyComponent(hostFixture: ComponentFixture&lt;any&gt;): MyComponent {\n  const debugElement = hostFixture.debugElement.query(By.directive(MyComponent));\n\n  return (debugElement &amp;&amp; debugElement.componentInstance) || null;\n}\n</code></pre>\n\n<p>This works flawlessly. Now I'd like to generalize the function so that it could query any Type on demand. I figured this could be done with generic typesThe function would be called like so:</p>\n\n<pre><code>const instance: MyComponent = getDirective&lt;MyComponent&gt;(fixture);\n</code></pre>\n\n<p>I can't get it working though; Here is the broken function:</p>\n\n<pre><code>function getDirective&lt;T&gt;(hostFixture: ComponentFixture&lt;any&gt;): T {\n  const debugElement = hostFixture.debugElement.query(By.directive(T));\n\n  return (debugElement &amp;&amp; debugElement.componentInstance) || null;\n}\n</code></pre>\n\n<p>The first line within the function throws the error:</p>\n\n<blockquote>\n  <p>TS2693: 'T' only refers to a type, but is being used as a value here</p>\n</blockquote>\n\n<p>What is the right syntax here? The Angular function I'm calling -- <code>By.directive()</code> -- takes an argument of type <code>Type&lt;any&gt;</code>, and is <a href=\"https://angular.io/api/platform-browser/By#directive\" rel=\"nofollow noreferrer\">documented here</a></p>\n"}, {"tags": ["angular", "typescript", "angular-directive", "angular5"], "comments": [{"owner": {"reputation": 22898, "user_id": 1915893, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/580b31b0be7173bbc477ca1d6967d87c?s=128&d=identicon&r=PG", "display_name": "Aluan Haddad", "link": "https://stackoverflow.com/users/1915893/aluan-haddad"}, "edited": false, "score": 0, "creation_date": 1516742810, "post_id": 48410996, "comment_id": 83811890, "body": "It is a much more complex and convoluted process than what you have tried. In your case it is just a <code>&lt;mat-card&gt;</code> so you don&#39;t need to do it at all. But if you need to dynamically create an element at runtime without registering it ahead of time, you are hosed."}, {"owner": {"reputation": 366, "user_id": 2849742, "user_type": "registered", "profile_image": "https://graph.facebook.com/745153930/picture?type=large", "display_name": "Laurent Schwitter", "link": "https://stackoverflow.com/users/2849742/laurent-schwitter"}, "edited": false, "score": 0, "creation_date": 1516747924, "post_id": 48410996, "comment_id": 83814153, "body": "what do you mean it doesn&#39;t get compiled?"}, {"owner": {"reputation": 2251, "user_id": 3872998, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/pCtVV.jpg?s=128&g=1", "display_name": "Sampgun", "link": "https://stackoverflow.com/users/3872998/sampgun"}, "reply_to_user": {"reputation": 366, "user_id": 2849742, "user_type": "registered", "profile_image": "https://graph.facebook.com/745153930/picture?type=large", "display_name": "Laurent Schwitter", "link": "https://stackoverflow.com/users/2849742/laurent-schwitter"}, "edited": false, "score": 0, "creation_date": 1516780003, "post_id": 48410996, "comment_id": 83824085, "body": "@LaurentSchwitter: does the mat-card above look the same as the mat-card below in my fiddle? Did you ask yourself why?"}, {"owner": {"reputation": 2251, "user_id": 3872998, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/pCtVV.jpg?s=128&g=1", "display_name": "Sampgun", "link": "https://stackoverflow.com/users/3872998/sampgun"}, "reply_to_user": {"reputation": 22898, "user_id": 1915893, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/580b31b0be7173bbc477ca1d6967d87c?s=128&d=identicon&r=PG", "display_name": "Aluan Haddad", "link": "https://stackoverflow.com/users/1915893/aluan-haddad"}, "edited": false, "score": 1, "creation_date": 1516780179, "post_id": 48410996, "comment_id": 83824162, "body": "@AluanHaddad Sorry but I don&#39;t understand &quot;hosed&quot; I can&#39;t find a translation...what do you mean? (I&#39;m italian :D )"}, {"owner": {"reputation": 22898, "user_id": 1915893, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/580b31b0be7173bbc477ca1d6967d87c?s=128&d=identicon&r=PG", "display_name": "Aluan Haddad", "link": "https://stackoverflow.com/users/1915893/aluan-haddad"}, "edited": false, "score": 0, "creation_date": 1516784775, "post_id": 48410996, "comment_id": 83826669, "body": "@TonySamperi it means you are screwed."}, {"owner": {"reputation": 2251, "user_id": 3872998, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/pCtVV.jpg?s=128&g=1", "display_name": "Sampgun", "link": "https://stackoverflow.com/users/3872998/sampgun"}, "reply_to_user": {"reputation": 22898, "user_id": 1915893, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/580b31b0be7173bbc477ca1d6967d87c?s=128&d=identicon&r=PG", "display_name": "Aluan Haddad", "link": "https://stackoverflow.com/users/1915893/aluan-haddad"}, "edited": false, "score": 1, "creation_date": 1516809949, "post_id": 48410996, "comment_id": 83843720, "body": "@AluanHaddad I managed to do everything I needed. As soon as I can I&#39;ll answer this question."}, {"owner": {"reputation": 22898, "user_id": 1915893, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/580b31b0be7173bbc477ca1d6967d87c?s=128&d=identicon&r=PG", "display_name": "Aluan Haddad", "link": "https://stackoverflow.com/users/1915893/aluan-haddad"}, "edited": false, "score": 0, "creation_date": 1516811981, "post_id": 48410996, "comment_id": 83845197, "body": "@TonySamperi glad to hear it. I was talking about the more general case of synthesizing arbitrary component definitions at runtime. I&#39;m glad I gave you a laugh though :)"}], "answers": [{"comments": [{"owner": {"reputation": 2251, "user_id": 3872998, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/pCtVV.jpg?s=128&g=1", "display_name": "Sampgun", "link": "https://stackoverflow.com/users/3872998/sampgun"}, "edited": false, "score": 0, "creation_date": 1516781254, "post_id": 48412448, "comment_id": 83824668, "body": "This is nice, but I can&#39;t believe I need to create a &quot;getElement&quot; method on each parent component..."}, {"owner": {"reputation": 2251, "user_id": 3872998, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/pCtVV.jpg?s=128&g=1", "display_name": "Sampgun", "link": "https://stackoverflow.com/users/3872998/sampgun"}, "edited": false, "score": 0, "creation_date": 1516810037, "post_id": 48412448, "comment_id": 83843788, "body": "I managed to do everything I needed. As soon as I can I&#39;ll answer this question. I was inspired by your code. The problem here is that you need to know you are in the &quot;LoaderComponent&quot;. I wanted something more &quot;universal&quot;. Let me know if you want to be tagged when I answer. Bye and thank you"}, {"owner": {"reputation": 2251, "user_id": 3872998, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/pCtVV.jpg?s=128&g=1", "display_name": "Sampgun", "link": "https://stackoverflow.com/users/3872998/sampgun"}, "edited": false, "score": 0, "creation_date": 1516810058, "post_id": 48412448, "comment_id": 83843806, "body": "I just upped your answer, since it was useful ;)"}], "tags": [], "owner": {"reputation": 1048, "user_id": 6073570, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/tyx8O.jpg?s=128&g=1", "display_name": "Leandro Lima", "link": "https://stackoverflow.com/users/6073570/leandro-lima"}, "is_accepted": false, "score": 7, "last_activity_date": 1516788593, "last_edit_date": 1516788593, "creation_date": 1516749477, "answer_id": 48412448, "question_id": 48410996, "link": "https://stackoverflow.com/questions/48410996/dynamically-append-component-to-div-in-angular-5/48412448#48412448", "title": "Dynamically append component to div in Angular 5", "body": "<p>It's pretty simple. I just made an example to you.</p>\n\n<p>Please, read the comments inside loader directive.</p>\n\n<p><a href=\"https://github.com/garapa/studying/tree/master/loader\" rel=\"noreferrer\">https://github.com/garapa/studying/tree/master/loader</a></p>\n\n<p>EDIT:</p>\n\n<p>You component:</p>\n\n<pre><code>export class LoaderComponent {\n\n  loading;\n\n  constructor() { }\n\n}\n</code></pre>\n\n<p>Your directive</p>\n\n<pre><code>export class LoaderDirective implements OnDestroy {\n\n  private componentInstance: ComponentRef&lt;LoaderComponent&gt; = null;\n\n  @Input()\n  set appLoader(loading: boolean) {\n    this.toggleLoader(loading);\n  }\n\n  constructor(\n    private viewContainerRef: ViewContainerRef,\n    private componentFactoryResolver: ComponentFactoryResolver\n  ) { }\n\n  toggleLoader(loading: boolean) {\n    if (!this.componentInstance) {\n      this.createLoaderComponent();\n      this.makeComponentAChild();\n    }\n\n    this.componentInstance.instance.loading = loading;\n  }\n\n  private createLoaderComponent() {\n    const componentFactory = this.componentFactoryResolver.resolveComponentFactory(LoaderComponent);\n    this.componentInstance = this.viewContainerRef.createComponent(componentFactory);\n  }\n\n  private makeComponentAChild(){\n    const loaderComponentElement = this.componentInstance.location.nativeElement;\n    const sibling: HTMLElement = loaderComponentElement.previousSibling;\n    sibling.insertBefore(loaderComponentElement, sibling.firstChild);\n  }\n\n  ngOnDestroy(): void {\n    if (this.componentInstance) {\n      this.componentInstance.destroy();\n    }\n  }\n\n}\n</code></pre>\n\n<p>You module</p>\n\n<pre><code>@NgModule({\n  ...\n  entryComponents: [\n    LoaderComponent\n  ]\n})\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 216, "user_id": 6936977, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/952e440a8c2588052b6a9d231cd617b6?s=128&d=identicon&r=PG&f=1", "display_name": "Dhiraj Dhakal", "link": "https://stackoverflow.com/users/6936977/dhiraj-dhakal"}, "edited": false, "score": 0, "creation_date": 1546918131, "post_id": 48502150, "comment_id": 95002820, "body": "When mat-card is returned, does this also apply the angular material css ? Because when i tried to do something same, the css is not applied. Thanks in advance..."}, {"owner": {"reputation": 2251, "user_id": 3872998, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/pCtVV.jpg?s=128&g=1", "display_name": "Sampgun", "link": "https://stackoverflow.com/users/3872998/sampgun"}, "reply_to_user": {"reputation": 216, "user_id": 6936977, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/952e440a8c2588052b6a9d231cd617b6?s=128&d=identicon&r=PG&f=1", "display_name": "Dhiraj Dhakal", "link": "https://stackoverflow.com/users/6936977/dhiraj-dhakal"}, "edited": false, "score": 0, "creation_date": 1547017428, "post_id": 48502150, "comment_id": 95041719, "body": "I have to make a blitz with this code...honestly I don&#39;t remember. I use different approaches now to dinamically append components!"}], "tags": [], "owner": {"reputation": 2251, "user_id": 3872998, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/pCtVV.jpg?s=128&g=1", "display_name": "Sampgun", "link": "https://stackoverflow.com/users/3872998/sampgun"}, "is_accepted": true, "score": 3, "last_activity_date": 1557999346, "last_edit_date": 1557999346, "creation_date": 1517231668, "answer_id": 48502150, "question_id": 48410996, "link": "https://stackoverflow.com/questions/48410996/dynamically-append-component-to-div-in-angular-5/48502150#48502150", "title": "Dynamically append component to div in Angular 5", "body": "<p>Here's the way I got it working</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>import {\r\n  Renderer2,\r\n  Directive,\r\n  Input,\r\n  ElementRef,\r\n  OnChanges,\r\n  ViewEncapsulation\r\n} from \"@angular/core\";\r\nimport { MatSpinner } from \"@angular/material\";\r\n\r\n@Directive({\r\n  selector: \"[myDirective]\"\r\n})\r\nexport class MyDirective {\r\n\r\n  @Input()\r\n  set myDirective(newValue: boolean) {\r\n    console.info(\"myDirectiveBind\", newValue);\r\n    if (!!this._$matCard) {\r\n      const method = newValue ? \"removeClass\" : \"addClass\";\r\n      this.renderer[method](this._$matCard, \"ng-hide\");\r\n    }\r\n    this._myDirective = newValue;\r\n  }\r\n\r\n  private _myDirective: boolean;\r\n  private _$matCard;\r\n\r\n  constructor(private targetEl: ElementRef, private renderer: Renderer2) {\r\n    this._$matCard = this.renderer.createElement('mat-card');\r\n    const matCardInner = this.renderer.createText('Dynamic card!');\r\n    this.renderer.addClass(this._$matCard, \"mat-card\");\r\n    this.renderer.appendChild(this._$matCard, matCardInner);\r\n    const container = this.targetEl.nativeElement;\r\n    this.renderer.appendChild(container, this._$matCard);\r\n  }\r\n\r\n\r\n}\r\n\r\nimport {\r\n  Component,\r\n  ElementRef,\r\n  AfterViewInit,\r\n  ViewEncapsulation\r\n} from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'card-overview-example',\r\n  templateUrl: 'card-overview-example.html',\r\n  styleUrls: ['card-overview-example.css']\r\n})\r\nexport class CardOverviewExample {\r\n  \r\n  hideMyDirective = !1;\r\n\r\n  constructor(private _elementRef: ElementRef) { }\r\n\r\n  getElementRef() {\r\n    return this._elementRef;\r\n  }\r\n\r\n  ngAfterViewInit() {\r\n    let element = this._elementRef.nativeElement;\r\n    let parent = element.parentNode;\r\n    element.parentNode.className += \" pippo\";\r\n\r\n  }\r\n}</code></pre>\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>.ng-hide {\r\n  display: none;\r\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;mat-card&gt;Simple card&lt;/mat-card&gt;\r\n&lt;div class=\"text-center\"&gt;\r\n  &lt;button (click)=\"hideMyDirective = !hideMyDirective\"&gt;\r\n    Toggle show dynamic card\r\n&lt;/button&gt;\r\n&lt;/div&gt;\r\n&lt;br /&gt;\r\n&lt;span&gt;hideMyDirective: {{hideMyDirective}}&lt;/span&gt;\r\n&lt;hr /&gt;\r\n&lt;div class=\"myDiv\" [myDirective]=\"hideMyDirective\"&gt;\r\n    &lt;ul&gt;\r\n      &lt;li&gt;My content&lt;/li&gt;\r\n      &lt;/ul&gt;\r\n&lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"comments": [{"owner": {"reputation": 2251, "user_id": 3872998, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/pCtVV.jpg?s=128&g=1", "display_name": "Sampgun", "link": "https://stackoverflow.com/users/3872998/sampgun"}, "edited": false, "score": 0, "creation_date": 1557993683, "post_id": 56161370, "comment_id": 98954598, "body": "This doesn&#39;t quite answer. I already came across this approach. And it works. But what I needed was something universal, which doesn&#39;t require to know the component to insert. More or less something working as the $compile worked in AngularJS. It was enough to append the HTML and compile it to make it work.."}, {"owner": {"reputation": 595, "user_id": 8937480, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-uQ0IVieYv-g/AAAAAAAAAAI/AAAAAAAAAAw/j9NAhd-gCSU/photo.jpg?sz=128", "display_name": "Kanish Mathew", "link": "https://stackoverflow.com/users/8937480/kanish-mathew"}, "reply_to_user": {"reputation": 2251, "user_id": 3872998, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/pCtVV.jpg?s=128&g=1", "display_name": "Sampgun", "link": "https://stackoverflow.com/users/3872998/sampgun"}, "edited": false, "score": 0, "creation_date": 1557997750, "post_id": 56161370, "comment_id": 98956779, "body": "The approach has been good in Angular 6+ versions. It was an effective method for showing components without including components inside children with angular routing."}, {"owner": {"reputation": 2251, "user_id": 3872998, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/pCtVV.jpg?s=128&g=1", "display_name": "Sampgun", "link": "https://stackoverflow.com/users/3872998/sampgun"}, "edited": false, "score": 0, "creation_date": 1557998782, "post_id": 56161370, "comment_id": 98957387, "body": "It works even on Angular 4 and 5. I&#39;m not saying it&#39;s not an effective method. But it doesn&#39;t do what I asked."}], "tags": [], "owner": {"reputation": 595, "user_id": 8937480, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-uQ0IVieYv-g/AAAAAAAAAAI/AAAAAAAAAAw/j9NAhd-gCSU/photo.jpg?sz=128", "display_name": "Kanish Mathew", "link": "https://stackoverflow.com/users/8937480/kanish-mathew"}, "is_accepted": false, "score": 1, "last_activity_date": 1557984263, "creation_date": 1557984263, "answer_id": 56161370, "question_id": 48410996, "link": "https://stackoverflow.com/questions/48410996/dynamically-append-component-to-div-in-angular-5/56161370#56161370", "title": "Dynamically append component to div in Angular 5", "body": "<p>Inside the component html file to which component is to be inserted:</p>\n\n<pre><code>&lt;div #target&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>Inside the component ts file to which component is to be inserted:</p>\n\n<p>'Component_to_insert' -> is the component to be inserted inside another component.</p>\n\n<pre><code>import { Component_to_insert } from 'path';\nimport { Component, ViewChild, ViewContainerRef, ComponentFactoryResolver, AfterViewInit } from '@angular/core';\n\n@Component({\nselector: 'component-name',\ntemplateUrl: 'component.html',\nstyleUrls: ['component.scss'],\nentryComponents: [Component_to_insert]\n})\n\nexport class ManagetemplatesPanelComponent implements AfterViewInit {\n\n    @ViewChild('target', { read: ViewContainerRef }) entry: ViewContainerRef;\n\n    constructor(private resolver: ComponentFactoryResolver) { }\n\n    ngAfterViewInit() {\n     this.createComponent();\n    }\n\n    createComponent() {\n      this.entry.clear();\n      const factory = this.resolver.resolveComponentFactory(Component_to_insert);\n      const componentRef = this.entry.createComponent(factory);\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 2251, "user_id": 3872998, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/pCtVV.jpg?s=128&g=1", "display_name": "Sampgun", "link": "https://stackoverflow.com/users/3872998/sampgun"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 30102, "favorite_count": 2, "accepted_answer_id": 48502150, "answer_count": 3, "score": 8, "last_activity_date": 1557999346, "creation_date": 1516742383, "last_edit_date": 1557998808, "question_id": 48410996, "link": "https://stackoverflow.com/questions/48410996/dynamically-append-component-to-div-in-angular-5", "title": "Dynamically append component to div in Angular 5", "body": "<p>I have this</p>\n\n<p><a href=\"https://angular-dynamic-component-append.stackblitz.io/\" rel=\"noreferrer\">https://angular-dynamic-component-append.stackblitz.io/</a></p>\n\n<p>I managed to dynamically append an element, but it doesn't get compiled.\nI saw many tutorials like <a href=\"https://medium.com/front-end-hacking/dynamically-add-components-to-the-dom-with-angular-71b0cb535286\" rel=\"noreferrer\">this</a></p>\n\n<p>But it's not really what I need. And often they use the hashtag notation to identify the container.</p>\n\n<p>I need to append a component to any element which may have\nmy custom directive on it.</p>\n\n<p>I'd also need to use the bind value of the directive to control a [hidden] attribute on the appended element.</p>\n\n<p><strong>THE GOALS</strong></p>\n\n<ol>\n<li>Override behaviour of existing component:\n\n<ul>\n<li>adding an attribute to show/hide</li>\n<li>adding a class to customize appearance</li>\n</ul></li>\n<li>Reduce html coding\n\n<ul>\n<li>No need to write the entire component <code>&lt;my-comp&gt;&lt;/mycomp&gt;</code></li>\n<li>No need to know the class</li>\n<li>Automatic behaviour if the class name is changed\n\n<ol start=\"3\">\n<li>Changing the element on which the directive is applied</li>\n</ol></li>\n<li>The final goal will be to add a class to the contaner element</li>\n</ul></li>\n</ol>\n\n<p><strong>Expected source</strong></p>\n\n<pre><code>&lt;div [myDirective]=\"myBoolean\"&gt;\n    &lt;p&gt;some content&lt;/p&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p><strong>Expected compiled</strong></p>\n\n<pre><code>&lt;div [myDirective]=\"myBoolean\" class=\"myDirectiveClass1\"&gt;\n    &lt;p&gt;some content&lt;/p&gt;\n     &lt;someComponent [hidden]=\"myBoolean\" class=\"myDirectiveClass2\"&gt;&lt;/someComponent&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>Is there a way to achieve this?</p>\n\n<p>Thank you in advance</p>\n"}, {"tags": ["typescript", "generics"], "comments": [{"owner": {"reputation": 25995, "user_id": 5152732, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-eL0xfQom3xQ/AAAAAAAAAAI/AAAAAAAAB1E/j1B2Mcgvt6M/photo.jpg?sz=128", "display_name": "toskv", "link": "https://stackoverflow.com/users/5152732/toskv"}, "edited": false, "score": 0, "creation_date": 1516740649, "post_id": 48410510, "comment_id": 83810816, "body": "sometimes having an argument and sometimes not is the definition of an optional function parameter. Why not make it optional?"}, {"owner": {"reputation": 4976, "user_id": 204851, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/fc2292d408e831e2d3ed77b8964e5ccf?s=128&d=identicon&r=PG", "display_name": "Wickoo", "link": "https://stackoverflow.com/users/204851/wickoo"}, "edited": false, "score": 0, "creation_date": 1516740714, "post_id": 48410510, "comment_id": 83810846, "body": "For <code>y3</code> I can imagine you want to call it without arguments, but why it is a good idea to call <code>y2</code> and <code>y4</code> without arguments? <code>null</code> and <code>any</code> are concrete types with instances and doesn&#39;t make sense not to send an argument. For <code>y3</code>, make it simply optional."}, {"owner": {"reputation": 8378, "user_id": 124538, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/82159aeb57c52bc0c7bfe6e9c832c3ea?s=128&d=identicon&r=PG", "display_name": "Wesley Wiser", "link": "https://stackoverflow.com/users/124538/wesley-wiser"}, "edited": false, "score": 0, "creation_date": 1516740912, "post_id": 48410510, "comment_id": 83810945, "body": "Basically, when <code>TArg = (string | number | object)</code> etc it is required. I&#39;m looking for some type of <code>TArg</code> that doesn&#39;t require me to pass a value at the call site."}, {"owner": {"reputation": 8378, "user_id": 124538, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/82159aeb57c52bc0c7bfe6e9c832c3ea?s=128&d=identicon&r=PG", "display_name": "Wesley Wiser", "link": "https://stackoverflow.com/users/124538/wesley-wiser"}, "reply_to_user": {"reputation": 4976, "user_id": 204851, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/fc2292d408e831e2d3ed77b8964e5ccf?s=128&d=identicon&r=PG", "display_name": "Wickoo", "link": "https://stackoverflow.com/users/204851/wickoo"}, "edited": false, "score": 0, "creation_date": 1516740952, "post_id": 48410510, "comment_id": 83810972, "body": "@Wickoo Yes, you&#39;re right. I&#39;m simply providing the code I&#39;ve already tried. <code>never</code> seemed like logicially it should work but it didn&#39;t."}, {"owner": {"reputation": 22049, "user_id": 6293409, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/74f518a7b20445607bcf0b09f4c26ce1?s=128&d=identicon&r=PG&f=1", "display_name": "CRice", "link": "https://stackoverflow.com/users/6293409/crice"}, "edited": false, "score": 1, "creation_date": 1516741449, "post_id": 48410510, "comment_id": 83811238, "body": "FWIW I don&#39;t think this is possible at the moment. However, if <a href=\"https://github.com/Microsoft/TypeScript/pull/21316\" rel=\"nofollow noreferrer\">this pull request</a> ever lands, you might be able to use that feature to get what you want here."}, {"owner": {"reputation": 8378, "user_id": 124538, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/82159aeb57c52bc0c7bfe6e9c832c3ea?s=128&d=identicon&r=PG", "display_name": "Wesley Wiser", "link": "https://stackoverflow.com/users/124538/wesley-wiser"}, "reply_to_user": {"reputation": 22049, "user_id": 6293409, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/74f518a7b20445607bcf0b09f4c26ce1?s=128&d=identicon&r=PG&f=1", "display_name": "CRice", "link": "https://stackoverflow.com/users/6293409/crice"}, "edited": false, "score": 0, "creation_date": 1516741764, "post_id": 48410510, "comment_id": 83811397, "body": "@CRice Thanks, if you post answer that says it currently isn&#39;t possible, I&#39;ll accept that."}], "answers": [{"tags": [], "owner": {"reputation": 1820, "user_id": 901891, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/53f57a90ab57b9c90dfa8481c1d87df8?s=128&d=identicon&r=PG&f=1", "display_name": "Greg Rozmarynowycz", "link": "https://stackoverflow.com/users/901891/greg-rozmarynowycz"}, "is_accepted": true, "score": 2, "last_activity_date": 1516747716, "last_edit_date": 1516747716, "creation_date": 1516741109, "answer_id": 48410695, "question_id": 48410510, "link": "https://stackoverflow.com/questions/48410510/how-to-have-an-optional-argument-type-in-a-generic-function-type/48410695#48410695", "title": "How to have an optional argument type in a generic function type?", "body": "<p>If having an execution wrapper is acceptable, I've come up with a solution that handles either function length (0 or 1), and is type safe for the argument:</p>\n\n<pre><code>type Test&lt;T&gt; = (arg?: T) =&gt; void;\n\nclass Wrapper&lt;T, F extends Test&lt;T&gt;&gt; {\n    public execute: F;\n\n    public static create&lt;T1, F1 extends Test&lt;T1&gt;&gt;(method: F1): Wrapper&lt;T1, F1&gt; {\n        return new Wrapper(method);\n    }\n\n    constructor(method: F) {\n        this.execute = method;\n    }\n}\n\nconst func1 = Wrapper.create((a: string) =&gt; console.log(a));\nconst func2 = Wrapper.create(() =&gt; { });\n\nfunc1.execute('3');\nfunc2.execute();\n\nfunc1.execute(5); // 5 is not assignable to type \"string\"\nfunc1.execute(); // expected 1 argument\nfunc2.execute(5); // expected 0 arguments\n</code></pre>\n\n<p>Note if you wanted to expand this beyond 1 parameter you could add additional generic types but you'd have to manually define each one and carry it through the wrapper class, but it would work.</p>\n\n<p><strong>EDIT</strong> removed original optional parameter solution</p>\n"}], "owner": {"reputation": 8378, "user_id": 124538, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/82159aeb57c52bc0c7bfe6e9c832c3ea?s=128&d=identicon&r=PG", "display_name": "Wesley Wiser", "link": "https://stackoverflow.com/users/124538/wesley-wiser"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 761, "favorite_count": 0, "accepted_answer_id": 48410695, "answer_count": 1, "score": 3, "last_activity_date": 1516747716, "creation_date": 1516740361, "question_id": 48410510, "link": "https://stackoverflow.com/questions/48410510/how-to-have-an-optional-argument-type-in-a-generic-function-type", "title": "How to have an optional argument type in a generic function type?", "body": "<p>I have a generic function type that looks like this:</p>\n\n<pre><code>type Test&lt;TArg&gt; = (arg: TArg) =&gt; void;\n</code></pre>\n\n<p>Most of the time, the argument is used by functions conforming to this type:</p>\n\n<pre><code>let x1: Test&lt;number&gt; = (n) =&gt; { console.log(n) };\nlet x2: Test&lt;string&gt; = (s) =&gt; { alert(s) };\n</code></pre>\n\n<p>Sometimes though, I have a function that doesn't take any arguments:</p>\n\n<pre><code>let y1: Test&lt;undefined&gt; = () =&gt; { };\n</code></pre>\n\n<p>I'd like to be able to invoke this function without providing any arguments at the callsite like this:</p>\n\n<pre><code>y1();\n</code></pre>\n\n<p>But no matter what types I plug in for <code>TArg</code>, I can't seem to do that. Is there anyway to do this without making the parameter optional in the definition of <code>Test</code>?</p>\n\n<p>Here's what I've tried:</p>\n\n<pre><code>type Test&lt;TArg&gt; = (arg: TArg) =&gt; void;\n\nlet x: Test&lt;number&gt; = (n) =&gt; { console.log(n) };\nlet y1: Test&lt;never&gt; = () =&gt; { };\nlet y2: Test&lt;any&gt; = () =&gt; { };\nlet y3: Test&lt;undefined&gt; = () =&gt; { };\nlet y4: Test&lt;null&gt; = () =&gt; { };\n\nx(1);\ny1(); //Expected 1 arguments, but got 0.\ny2(); //Expected 1 arguments, but got 0.\ny3(); //Expected 1 arguments, but got 0.\ny4(); //Expected 1 arguments, but got 0.\n</code></pre>\n"}, {"tags": ["typescript", "npm"], "comments": [{"owner": {"reputation": 924, "user_id": 2329281, "user_type": "registered", "accept_rate": 47, "profile_image": "https://www.gravatar.com/avatar/fb79942e307a17966df0774c5ac12daf?s=128&d=identicon&r=PG", "display_name": "Zeb McCorkle", "link": "https://stackoverflow.com/users/2329281/zeb-mccorkle"}, "edited": false, "score": 3, "creation_date": 1516738179, "post_id": 48409980, "comment_id": 83809563, "body": "<code>node_modules&#47;@types&#47;jasmine</code> is what immediately comes to mind to me. Not sure if it&#39;s right, though."}, {"owner": {"reputation": 175871, "user_id": 454533, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/c7715e765817254e0534f89a4092c0aa?s=128&d=identicon&r=PG", "display_name": "Explosion Pills", "link": "https://stackoverflow.com/users/454533/explosion-pills"}, "edited": false, "score": 2, "creation_date": 1516738331, "post_id": 48409980, "comment_id": 83809645, "body": "<code>node_modules&#47;@types&#47;jasmine&#47;index.d.ts</code>"}, {"owner": {"reputation": 3081, "user_id": 152543, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/ce1ce1dddffc6f620df63ca9d7c7240a?s=128&d=identicon&r=PG", "display_name": "Anm", "link": "https://stackoverflow.com/users/152543/anm"}, "edited": false, "score": 0, "creation_date": 1516819001, "post_id": 48409980, "comment_id": 83849424, "body": "Weird. Re-ran the install and now its there, as expected. Thanks, all."}], "answers": [{"comments": [{"owner": {"reputation": 3081, "user_id": 152543, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/ce1ce1dddffc6f620df63ca9d7c7240a?s=128&d=identicon&r=PG", "display_name": "Anm", "link": "https://stackoverflow.com/users/152543/anm"}, "edited": false, "score": 0, "creation_date": 1516819050, "post_id": 48412201, "comment_id": 83849450, "body": "I did not know about the <code>types</code> attribute to <code>&lt;reference&gt;</code>.  Thanks!"}], "tags": [], "owner": {"reputation": 32699, "user_id": 202694, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/982e5d5973bcd2be7b77e52ec7dca27c?s=128&d=identicon&r=PG", "display_name": "Pace", "link": "https://stackoverflow.com/users/202694/pace"}, "is_accepted": false, "score": 1, "last_activity_date": 1516748138, "creation_date": 1516748138, "answer_id": 48412201, "question_id": 48409980, "link": "https://stackoverflow.com/questions/48409980/where-does-npm-install-save-types-jasmine-install-the-typescript-declaratio/48412201#48412201", "title": "Where does &quot;npm install --save @types/jasmine&quot; install the TypeScript declaration files?", "body": "<p>The comments are correct.  Jasmine's declaration file will be in <code>node_modules/@types/jasmine/index.d.ts</code>.  To reference it in a declaration file you can simply do:</p>\n\n<pre><code>/// &lt;reference types=\"jasmine\" /&gt;\n\ndeclare function blah(): jasmine.CustomMatcher;\n</code></pre>\n"}], "owner": {"reputation": 3081, "user_id": 152543, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/ce1ce1dddffc6f620df63ca9d7c7240a?s=128&d=identicon&r=PG", "display_name": "Anm", "link": "https://stackoverflow.com/users/152543/anm"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 308, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1516748138, "creation_date": 1516738067, "question_id": 48409980, "link": "https://stackoverflow.com/questions/48409980/where-does-npm-install-save-types-jasmine-install-the-typescript-declaratio", "title": "Where does &quot;npm install --save @types/jasmine&quot; install the TypeScript declaration files?", "body": "<p>I ran <code>npm install --save @types/jasmine</code>, and now my <code>describe</code>/<code>it</code>/<code>expect</code> calls all compile. However, I can't find where the declarations are stored, and attempts to reference the Jasmine types in other declarations also fail.</p>\n\n<p><code>$ find node_modules -name jasmine.*\nnode_modules/jasmine-core/lib/jasmine-core/jasmine.css\nnode_modules/jasmine-core/lib/jasmine-core/jasmine.js\n</code></p>\n\n<p>...but no TypeScript declaration.</p>\n"}, {"tags": ["typescript", "vue.js", "contextmenu", "vue-context-menu"], "comments": [{"owner": {"reputation": 54898, "user_id": 1260204, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/402e1da680f92d16e7736ab14a696f06?s=128&d=identicon&r=PG", "display_name": "Igor", "link": "https://stackoverflow.com/users/1260204/igor"}, "edited": false, "score": 0, "creation_date": 1516737339, "post_id": 48409760, "comment_id": 83809099, "body": "The error message is self explanatory don&#39;t you think? I am not sure what your actual question is."}, {"owner": {"reputation": 2147, "user_id": 772893, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/c0468a899f67bd29e6dbeae3b7c1409d?s=128&d=identicon&r=PG", "display_name": "Robert", "link": "https://stackoverflow.com/users/772893/robert"}, "reply_to_user": {"reputation": 54898, "user_id": 1260204, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/402e1da680f92d16e7736ab14a696f06?s=128&d=identicon&r=PG", "display_name": "Igor", "link": "https://stackoverflow.com/users/1260204/igor"}, "edited": false, "score": 0, "creation_date": 1516746004, "post_id": 48409760, "comment_id": 83813334, "body": "why self explanatory? here is the error: $refs.ctx.open($event, but I don&#39;t understand why method open is no available in typescript"}, {"owner": {"reputation": 16636, "user_id": 4716245, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/665fa1fbba5eba2c56cc572a12b2723f?s=128&d=identicon&r=PG&f=1", "display_name": "Richard Matsen", "link": "https://stackoverflow.com/users/4716245/richard-matsen"}, "edited": false, "score": 0, "creation_date": 1516749937, "post_id": 48409760, "comment_id": 83814834, "body": "Is this the context-menu you are using? <a href=\"https://www.npmjs.com/package/vue-context-menu\" rel=\"nofollow noreferrer\">vue-context-menu</a>"}, {"owner": {"reputation": 2147, "user_id": 772893, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/c0468a899f67bd29e6dbeae3b7c1409d?s=128&d=identicon&r=PG", "display_name": "Robert", "link": "https://stackoverflow.com/users/772893/robert"}, "edited": false, "score": 0, "creation_date": 1516781298, "post_id": 48409760, "comment_id": 83824694, "body": "Yes, this is the context-menu. This code I have in Vue template in typescript file"}, {"owner": {"reputation": 16636, "user_id": 4716245, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/665fa1fbba5eba2c56cc572a12b2723f?s=128&d=identicon&r=PG&f=1", "display_name": "Richard Matsen", "link": "https://stackoverflow.com/users/4716245/richard-matsen"}, "edited": false, "score": 1, "creation_date": 1517009334, "post_id": 48409760, "comment_id": 83935897, "body": "Sorry, I did not see your reply comment until now. I tried out vmaimone&#39;s sample myself, but could not get the error. Here is the test environment, may help you <a href=\"https://codesandbox.io/s/6xnpjkm51n\" rel=\"nofollow noreferrer\">CodeSandbox</a>"}, {"owner": {"reputation": 2147, "user_id": 772893, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/c0468a899f67bd29e6dbeae3b7c1409d?s=128&d=identicon&r=PG", "display_name": "Robert", "link": "https://stackoverflow.com/users/772893/robert"}, "edited": false, "score": 0, "creation_date": 1517475777, "post_id": 48409760, "comment_id": 84113324, "body": "I moved code from cshtml file to vue component template and now it works, I don&#39;t know why this code won&#39;t work when it&#39;s placed in cshtml code but never mind"}], "owner": {"reputation": 2147, "user_id": 772893, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/c0468a899f67bd29e6dbeae3b7c1409d?s=128&d=identicon&r=PG", "display_name": "Robert", "link": "https://stackoverflow.com/users/772893/robert"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 224, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1517009402, "creation_date": 1516737159, "last_edit_date": 1517009402, "question_id": 48409760, "link": "https://stackoverflow.com/questions/48409760/typescript-object-doesnt-support-property-or-method-open", "title": "Typescript Object doesn&#39;t support property or method open", "body": "<p>I use context menu in vue. Code is written in typescript.</p>\n\n<pre><code> &lt;div\n        v-for=\"(color, index) in colors\"\n        class=\"colored-box\"\n        :style=\"{background: color}\"\n        @click=\"sayColor(color)\"\n        @contextmenu.prevent=\"$refs.ctx.open($event, {color: color, index: index})\"&gt;\n    &lt;/div&gt;\n\n    &lt;context-menu id=\"testingctx\" ref=\"ctx\" @ctx-open=\"onCtxOpen\" @ctx-cancel=\"resetCtxLocals\" @ctx-close=\"onCtxClose\"&gt;\n      &lt;li class=\"ctx-header\"&gt;kkkk&lt;/li&gt;\n      &lt;li class=\"ctx-item\"&gt;option one&lt;/li&gt;\n      &lt;li class=\"ctx-item disabled\"&gt;option two (disabled)&lt;/li&gt;\n      &lt;li class=\"ctx-item\"&gt;add to log&lt;/li&gt;\n    &lt;/context-menu&gt;\n</code></pre>\n\n<p>The sample is taken from project site.\nError displays when I click right button of the mouse:</p>\n\n<pre><code>Object doesn't support property or method 'open'\n</code></pre>\n"}, {"tags": ["typescript"], "comments": [{"owner": {"reputation": 25995, "user_id": 5152732, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-eL0xfQom3xQ/AAAAAAAAAAI/AAAAAAAAB1E/j1B2Mcgvt6M/photo.jpg?sz=128", "display_name": "toskv", "link": "https://stackoverflow.com/users/5152732/toskv"}, "edited": false, "score": 0, "creation_date": 1516735630, "post_id": 48409329, "comment_id": 83808134, "body": "thanks for letting me know. I&#39;ll delete it not to confuse people."}], "answers": [{"comments": [{"owner": {"reputation": 1236, "user_id": 3795530, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/d59d84cee19e6d6009e67a18cd000d37?s=128&d=identicon&r=PG", "display_name": "nehalist", "link": "https://stackoverflow.com/users/3795530/nehalist"}, "edited": false, "score": 0, "creation_date": 1516736455, "post_id": 48409407, "comment_id": 83808596, "body": "Interesting. Could I do something like <code>interface Type&lt;T&gt; { new(...args: any[]): T; }</code> which would make my array look like <code>const arr: Type&lt;Foobar&gt;[];</code>? I&#39;ve seen this once some time ago, but didn&#39;t get the point of it back then."}], "tags": [], "owner": {"reputation": 162223, "user_id": 1704166, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/d256baab2fcfd81b0f109d394404fd67?s=128&d=identicon&r=PG", "display_name": "Ryan Cavanaugh", "link": "https://stackoverflow.com/users/1704166/ryan-cavanaugh"}, "is_accepted": false, "score": 3, "last_activity_date": 1516735725, "creation_date": 1516735725, "answer_id": 48409407, "question_id": 48409329, "link": "https://stackoverflow.com/questions/48409329/is-there-a-type-of-non-instantiated-classes/48409407#48409407", "title": "Is there a type of non-instantiated classes?", "body": "<p>The empty interface here is throwing you off; this code only \"works\" because the interface has no members (and thus means \"anything\"):</p>\n\n<pre><code>interface Foobar { x: number; }\n\nclass Foo implements Foobar { x: number; }\nclass Bar implements Foobar { x: number; }\n\n// Error\nconst arr: Foobar[] = [Foo, Bar];\n</code></pre>\n\n<p>The general type of a class is <code>{ new(...args: any[]): any }</code> if you're talking about something that can be invoked with <code>new</code>, or <code>{ new(...args: any[]): Foobar }</code> if you're talking about something that returns a <code>Foobar</code> when invoked with <code>new</code>.</p>\n"}, {"comments": [{"owner": {"reputation": 1236, "user_id": 3795530, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/d59d84cee19e6d6009e67a18cd000d37?s=128&d=identicon&r=PG", "display_name": "nehalist", "link": "https://stackoverflow.com/users/3795530/nehalist"}, "edited": false, "score": 0, "creation_date": 1516736874, "post_id": 48409429, "comment_id": 83808839, "body": "This would make usage of interfaces kinda useless, wouldn&#39;t it?"}, {"owner": {"reputation": 22898, "user_id": 1915893, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/580b31b0be7173bbc477ca1d6967d87c?s=128&d=identicon&r=PG", "display_name": "Aluan Haddad", "link": "https://stackoverflow.com/users/1915893/aluan-haddad"}, "reply_to_user": {"reputation": 1236, "user_id": 3795530, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/d59d84cee19e6d6009e67a18cd000d37?s=128&d=identicon&r=PG", "display_name": "nehalist", "link": "https://stackoverflow.com/users/3795530/nehalist"}, "edited": false, "score": 0, "creation_date": 1516737052, "post_id": 48409429, "comment_id": 83808947, "body": "@nehalist no it doesn&#39;t. I will add to the answer to explain what I believe you are getting at."}, {"owner": {"reputation": 22898, "user_id": 1915893, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/580b31b0be7173bbc477ca1d6967d87c?s=128&d=identicon&r=PG", "display_name": "Aluan Haddad", "link": "https://stackoverflow.com/users/1915893/aluan-haddad"}, "reply_to_user": {"reputation": 1236, "user_id": 3795530, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/d59d84cee19e6d6009e67a18cd000d37?s=128&d=identicon&r=PG", "display_name": "nehalist", "link": "https://stackoverflow.com/users/3795530/nehalist"}, "edited": false, "score": 0, "creation_date": 1516740897, "post_id": 48409429, "comment_id": 83810935, "body": "@nehalist I added a bunch more examples and detail"}], "tags": [], "owner": {"reputation": 22898, "user_id": 1915893, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/580b31b0be7173bbc477ca1d6967d87c?s=128&d=identicon&r=PG", "display_name": "Aluan Haddad", "link": "https://stackoverflow.com/users/1915893/aluan-haddad"}, "is_accepted": false, "score": 1, "last_activity_date": 1516741187, "last_edit_date": 1516741187, "creation_date": 1516735837, "answer_id": 48409429, "question_id": 48409329, "link": "https://stackoverflow.com/questions/48409329/is-there-a-type-of-non-instantiated-classes/48409429#48409429", "title": "Is there a type of non-instantiated classes?", "body": "<pre><code>interface Foobar {}\n\nclass Foo implements Foobar {}\nclass Bar implements Foobar {}\n\nconst arr: Foobar[] = [Foo, Bar];\n</code></pre>\n\n<blockquote>\n  <p>This compiles, but isn't really true. typeof Foo or typeof Bar is\n  Function - makes sense, since they haven't been instantiated so far.</p>\n</blockquote>\n\n<p>Classes are values. Instances are values. There is no such thing as an uninstantiated class.</p>\n\n<p>It is highly useful to be able to store classes, not just their instances.</p>\n\n<p>Furthermore, as classes are just functions, the ability to do so is a natural consequence, a powerful feature we get for free.</p>\n\n<blockquote>\n  <p>Is there a better way in storing non-instantiated classes than arr: any[]?</p>\n</blockquote>\n\n<p>As to the type of an array of them, yes you have better options than <code>any[]</code>. Definitely do not use <code>any[]</code> for this as the types are very precise and also easy to infer</p>\n\n<p>The simplest way is just to let the compiler infer the type. This is highly precise and easy to write (just code to remove, not add)</p>\n\n<pre><code>const arr = [Foo, Bar];\n</code></pre>\n\n<p>Another approach is to use a tuple type</p>\n\n<pre><code>const arr: [typeof Foo, typeof Bar] = [Foo, Bar];\n</code></pre>\n\n<p>And finally you can use an of a union type explicitly</p>\n\n<pre><code>const arr: Array&lt;typeof Foo | typeof Bar&gt; = [Foo, Bar];\n</code></pre>\n\n<p>As for accidentally using the class, forgetting to <code>new</code> it, Ryan Cavanaugh's answer covers that perfectly.</p>\n\n<p>Responding to the comment remark</p>\n\n<blockquote>\n  <p>This would make usage of interfaces kinda useless, wouldn't it?</p>\n</blockquote>\n\n<p>An <code>interface</code> is a declaration used to describe the type of any value.</p>\n\n<p>TypeScript is a structural typed (AKA duck typed) language.\nThis means that all values implement interfaces simply by having compatible members.</p>\n\n<p>The <code>implements</code> keyword is <em>always</em> optional in class definitions. It is most often used to express intent to help both tools and other programmers understand the code better, but it does not change the actual types.</p>\n\n<p>You are possibly thinking of <code>interface</code> dispatch, hence the type <code>FooBar[]</code> in your example, but in TypeScript, as in JavaScript, polymorphism is achieved via completely different techniques.</p>\n\n<p>Here is an example of using an interface to describe a class instance:</p>\n\n<pre><code>interface I {\n  p: string;\n  m(): void;\n}\n\nclass A implements I {\n  p = 'implements I';\n  m() {console.log(this.p);}\n}\n\nconst a = new A;\n\nclass B {\n  p = 'also implements I';\n  m() {console.log(this.p);}\n}\n\nconst b = new B;\n\nconst c = {\n  p: 'also implements I',\n  m() {console.log(this.p);}\n};\n\nconst is: I[] = [a, b, c];\n</code></pre>\n\n<p>The <code>interface I</code> above describes the shape of instances of the <code>class A</code>, the shape of instances of instances of the <code>class B</code>, and the shape of object <code>c</code>.</p>\n\n<p>Given this, it is natural that classes themselves can also implement interfaces.</p>\n\n<p>Such an interface describes the shape of the class value itself, not its instances.</p>\n\n<p>Recall that classes in JavaScript are simply functions that can be \"newed\" (more technically <code>[[Construct]]</code>ed).</p>\n\n<p>Given that, the interface representing an arbitrary class could be written</p>\n\n<pre><code>interface Newable&lt;T&gt; {\n  new(...args: any[]): T;\n}\n</code></pre>\n\n<p>This is sometimes referred to as the type of static-side of the class as it allows for describing <code>static</code> members in the interface.</p>\n\n<pre><code>interface Deserializable&lt;T&gt; {\n  fromJSON(json: string): T;\n}\n\ninterface NewableDeserializable&lt;T&gt; extends Newable&lt;T&gt;, Deserializable&lt;T&gt; {}\n</code></pre>\n\n<p>Now consider the following interface and classes.</p>\n\n<pre><code>interface Character {\n  position: {x: number, y: number, z: number};\n  name: string;\n}\n\nclass Snake implements Character {\n  position = {x: 0, y: 0, z: 0};\n  name = 'Snake';\n\n  static fromJSON(saved: string) {\n    const mc = new this();\n\n    return Object.assign(mc, JSON.parse(saved));\n  }\n}\n\ninterface NewableDeserializable&lt;T&gt; extends Newable&lt;T&gt;, Deserializable&lt;T&gt; {}\n\nconst deserializableMainCharacterClass: NewableDeserializable&lt;Character&gt; = Snake;\n</code></pre>\n\n<p>The type annotations on the variable are optional but demonstrate that the <em>class itself</em> implements the interface because they typecheck.</p>\n\n<p>Finally, this can all be done in one expression:</p>\n\n<pre><code>const Meryl: NewableDeserializable&lt;Character&gt; =\n  class implements Character {\n    name = 'Meryl';\n    position = {x: 1, y: 1, z: 1};\n\n    static fromJSON(saved: string) {\n      const mc = new this();\n      return Object.assign(mc, JSON.parse(saved));\n    }\n};\n</code></pre>\n"}], "owner": {"reputation": 1236, "user_id": 3795530, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/d59d84cee19e6d6009e67a18cd000d37?s=128&d=identicon&r=PG", "display_name": "nehalist", "link": "https://stackoverflow.com/users/3795530/nehalist"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 483, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1516741187, "creation_date": 1516735448, "question_id": 48409329, "link": "https://stackoverflow.com/questions/48409329/is-there-a-type-of-non-instantiated-classes", "title": "Is there a type of non-instantiated classes?", "body": "<p>Assume the following code:</p>\n\n<pre><code>interface Foobar {}\n\nclass Foo implements Foobar {}\nclass Bar implements Foobar {}\n\nconst arr: Foobar[] = [Foo, Bar];\n</code></pre>\n\n<p>This compiles, <em>but</em> isn't really true. <code>typeof Foo</code> or <code>typeof Bar</code> is <code>Function</code> - makes sense, since they haven't been instantiated so far.</p>\n\n<p>Is there a better way in storing non-instantiated classes than <code>arr: any[]</code>?</p>\n"}, {"tags": ["typescript", "firebase", "ionic-framework", "ionic3", "camanjs"], "comments": [{"owner": {"reputation": 7431, "user_id": 4005366, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/b42e7e7888cd46f17946f04e8233bc77?s=128&d=identicon&r=PG&f=1", "display_name": "Sergey Rudenko", "link": "https://stackoverflow.com/users/4005366/sergey-rudenko"}, "edited": false, "score": 0, "creation_date": 1516744216, "post_id": 48409088, "comment_id": 83812509, "body": "I guess all you need is to add to change this line: var fotoModificata = this.toBase64(); to be this.fotoModificata = this.toBase64(); but to do that you need to ensure &quot;this&quot; is pointing to the whoel component of yours. For that I would use arrow function: Caman(&quot;#image&quot;, () =&gt; { ... }"}, {"owner": {"reputation": 7431, "user_id": 4005366, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/b42e7e7888cd46f17946f04e8233bc77?s=128&d=identicon&r=PG&f=1", "display_name": "Sergey Rudenko", "link": "https://stackoverflow.com/users/4005366/sergey-rudenko"}, "edited": false, "score": 0, "creation_date": 1516744289, "post_id": 48409088, "comment_id": 83812540, "body": "try and let me know if it helps:) I am learning as well but I think that should work for you."}, {"owner": {"reputation": 73, "user_id": 9229147, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/9c6fc47617a0b37c7d97de60cf059efc?s=128&d=identicon&r=PG&f=1", "display_name": "Marco Palmisano", "link": "https://stackoverflow.com/users/9229147/marco-palmisano"}, "reply_to_user": {"reputation": 7431, "user_id": 4005366, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/b42e7e7888cd46f17946f04e8233bc77?s=128&d=identicon&r=PG&f=1", "display_name": "Sergey Rudenko", "link": "https://stackoverflow.com/users/4005366/sergey-rudenko"}, "edited": false, "score": 0, "creation_date": 1516744692, "post_id": 48409088, "comment_id": 83812752, "body": "If I use that I\u2019ve an errore while compiling that says that brightness and render are not properties of filtripage"}, {"owner": {"reputation": 73, "user_id": 9229147, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/9c6fc47617a0b37c7d97de60cf059efc?s=128&d=identicon&r=PG&f=1", "display_name": "Marco Palmisano", "link": "https://stackoverflow.com/users/9229147/marco-palmisano"}, "reply_to_user": {"reputation": 7431, "user_id": 4005366, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/b42e7e7888cd46f17946f04e8233bc77?s=128&d=identicon&r=PG&f=1", "display_name": "Sergey Rudenko", "link": "https://stackoverflow.com/users/4005366/sergey-rudenko"}, "edited": false, "score": 0, "creation_date": 1516745601, "post_id": 48409088, "comment_id": 83813149, "body": "I tried this: &#39;addFilter(){         Caman(&quot;#image&quot;, function () {          this.brightness(5);          this.render( () =&gt; {          this.fotoModificata = this.toBase64();     });   });  }&#39;  But when I call upload() I&#39;ve ERROR Error: [object Object]"}, {"owner": {"reputation": 7431, "user_id": 4005366, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/b42e7e7888cd46f17946f04e8233bc77?s=128&d=identicon&r=PG&f=1", "display_name": "Sergey Rudenko", "link": "https://stackoverflow.com/users/4005366/sergey-rudenko"}, "edited": false, "score": 0, "creation_date": 1516745940, "post_id": 48409088, "comment_id": 83813312, "body": "wait a sec:) i think I know what is wrong - disregard my previous comment. I will post working code in 3 mins"}], "answers": [{"comments": [{"owner": {"reputation": 73, "user_id": 9229147, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/9c6fc47617a0b37c7d97de60cf059efc?s=128&d=identicon&r=PG&f=1", "display_name": "Marco Palmisano", "link": "https://stackoverflow.com/users/9229147/marco-palmisano"}, "edited": false, "score": 0, "creation_date": 1516746979, "post_id": 48411891, "comment_id": 83813764, "body": "Still have ERROR Error: [object Object] in console calling upload() with a button from html. Also if I write after this.fotoModificata = temp; console.log(this.fotoModificata); I retrieve an undefined in console so I think that the value of temp is still somehow jailed in Caman function."}, {"owner": {"reputation": 7431, "user_id": 4005366, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/b42e7e7888cd46f17946f04e8233bc77?s=128&d=identicon&r=PG&f=1", "display_name": "Sergey Rudenko", "link": "https://stackoverflow.com/users/4005366/sergey-rudenko"}, "reply_to_user": {"reputation": 73, "user_id": 9229147, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/9c6fc47617a0b37c7d97de60cf059efc?s=128&d=identicon&r=PG&f=1", "display_name": "Marco Palmisano", "link": "https://stackoverflow.com/users/9229147/marco-palmisano"}, "edited": false, "score": 0, "creation_date": 1516750868, "post_id": 48411891, "comment_id": 83815135, "body": "OK I will copy your code and see it to work. Did you manage to successfully log to console base64 from you code?"}, {"owner": {"reputation": 7431, "user_id": 4005366, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/b42e7e7888cd46f17946f04e8233bc77?s=128&d=identicon&r=PG&f=1", "display_name": "Sergey Rudenko", "link": "https://stackoverflow.com/users/4005366/sergey-rudenko"}, "reply_to_user": {"reputation": 73, "user_id": 9229147, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/9c6fc47617a0b37c7d97de60cf059efc?s=128&d=identicon&r=PG&f=1", "display_name": "Marco Palmisano", "link": "https://stackoverflow.com/users/9229147/marco-palmisano"}, "edited": false, "score": 0, "creation_date": 1516751316, "post_id": 48411891, "comment_id": 83815293, "body": "Basically - let me know what do you get if ytou log -&gt; var fotoModificata in the addFilter funciton"}, {"owner": {"reputation": 7431, "user_id": 4005366, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/b42e7e7888cd46f17946f04e8233bc77?s=128&d=identicon&r=PG&f=1", "display_name": "Sergey Rudenko", "link": "https://stackoverflow.com/users/4005366/sergey-rudenko"}, "reply_to_user": {"reputation": 73, "user_id": 9229147, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/9c6fc47617a0b37c7d97de60cf059efc?s=128&d=identicon&r=PG&f=1", "display_name": "Marco Palmisano", "link": "https://stackoverflow.com/users/9229147/marco-palmisano"}, "edited": false, "score": 0, "creation_date": 1516751368, "post_id": 48411891, "comment_id": 83815311, "body": "I think my example is wrong now as the var temp never &quot;makes it&quot; to the function..."}, {"owner": {"reputation": 7431, "user_id": 4005366, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/b42e7e7888cd46f17946f04e8233bc77?s=128&d=identicon&r=PG&f=1", "display_name": "Sergey Rudenko", "link": "https://stackoverflow.com/users/4005366/sergey-rudenko"}, "reply_to_user": {"reputation": 73, "user_id": 9229147, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/9c6fc47617a0b37c7d97de60cf059efc?s=128&d=identicon&r=PG&f=1", "display_name": "Marco Palmisano", "link": "https://stackoverflow.com/users/9229147/marco-palmisano"}, "edited": false, "score": 0, "creation_date": 1516751473, "post_id": 48411891, "comment_id": 83815339, "body": "BTW did you check if render function is sync or async? it can be that it needs async handling. This would explain why the temp is undefined..."}, {"owner": {"reputation": 73, "user_id": 9229147, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/9c6fc47617a0b37c7d97de60cf059efc?s=128&d=identicon&r=PG&f=1", "display_name": "Marco Palmisano", "link": "https://stackoverflow.com/users/9229147/marco-palmisano"}, "edited": false, "score": 0, "creation_date": 1516770298, "post_id": 48411891, "comment_id": 83819998, "body": "I can console base64 string only if I call it immediatly after tobase64(). How can I check sync or async?"}, {"owner": {"reputation": 73, "user_id": 9229147, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/9c6fc47617a0b37c7d97de60cf059efc?s=128&d=identicon&r=PG&f=1", "display_name": "Marco Palmisano", "link": "https://stackoverflow.com/users/9229147/marco-palmisano"}, "edited": false, "score": 0, "creation_date": 1516770859, "post_id": 48411891, "comment_id": 83820160, "body": "It seems that render is async due to this <a href=\"https://github.com/meltingice/CamanJS/wiki/About-the-block-renderer\" rel=\"nofollow noreferrer\">github.com/meltingice/CamanJS/wiki/About-the-block-renderer</a>"}, {"owner": {"reputation": 7431, "user_id": 4005366, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/b42e7e7888cd46f17946f04e8233bc77?s=128&d=identicon&r=PG&f=1", "display_name": "Sergey Rudenko", "link": "https://stackoverflow.com/users/4005366/sergey-rudenko"}, "reply_to_user": {"reputation": 73, "user_id": 9229147, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/9c6fc47617a0b37c7d97de60cf059efc?s=128&d=identicon&r=PG&f=1", "display_name": "Marco Palmisano", "link": "https://stackoverflow.com/users/9229147/marco-palmisano"}, "edited": false, "score": 0, "creation_date": 1516781436, "post_id": 48411891, "comment_id": 83824760, "body": "Yes makes sense. Ok then you need to use async/await in this function or use promise and once resolved call the function that needs base64 string. Do you have examples with promises?"}, {"owner": {"reputation": 7431, "user_id": 4005366, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/b42e7e7888cd46f17946f04e8233bc77?s=128&d=identicon&r=PG&f=1", "display_name": "Sergey Rudenko", "link": "https://stackoverflow.com/users/4005366/sergey-rudenko"}, "reply_to_user": {"reputation": 73, "user_id": 9229147, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/9c6fc47617a0b37c7d97de60cf059efc?s=128&d=identicon&r=PG&f=1", "display_name": "Marco Palmisano", "link": "https://stackoverflow.com/users/9229147/marco-palmisano"}, "edited": false, "score": 0, "creation_date": 1516781561, "post_id": 48411891, "comment_id": 83824826, "body": "Can you share how these functions are called in ui?"}, {"owner": {"reputation": 73, "user_id": 9229147, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/9c6fc47617a0b37c7d97de60cf059efc?s=128&d=identicon&r=PG&f=1", "display_name": "Marco Palmisano", "link": "https://stackoverflow.com/users/9229147/marco-palmisano"}, "edited": false, "score": 0, "creation_date": 1516781919, "post_id": 48411891, "comment_id": 83825025, "body": "&#39;&lt;ion-content padding&gt;   &lt;img id=&#39;image&#39; class=&quot;foto&quot; src={{fotoScelta}} /&gt;   &lt;button ion-button (click)=&quot;addFilter()&quot;&gt;Filtro&lt;/button&gt;   &lt;button ion-button (click)=&quot;upload()&quot;&gt;Ok&lt;/button&gt; &lt;/ion-content&gt;&#39; That&#39;s my code. Can you write me a promise example? By the way you are really really kind. thank you so much to help me"}, {"owner": {"reputation": 7431, "user_id": 4005366, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/b42e7e7888cd46f17946f04e8233bc77?s=128&d=identicon&r=PG&f=1", "display_name": "Sergey Rudenko", "link": "https://stackoverflow.com/users/4005366/sergey-rudenko"}, "reply_to_user": {"reputation": 73, "user_id": 9229147, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/9c6fc47617a0b37c7d97de60cf059efc?s=128&d=identicon&r=PG&f=1", "display_name": "Marco Palmisano", "link": "https://stackoverflow.com/users/9229147/marco-palmisano"}, "edited": false, "score": 0, "creation_date": 1516806782, "post_id": 48411891, "comment_id": 83841313, "body": "I will post in in 2 hours. But looking at ui it seems like it could be something else as buttons are separate."}, {"owner": {"reputation": 73, "user_id": 9229147, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/9c6fc47617a0b37c7d97de60cf059efc?s=128&d=identicon&r=PG&f=1", "display_name": "Marco Palmisano", "link": "https://stackoverflow.com/users/9229147/marco-palmisano"}, "edited": false, "score": 0, "creation_date": 1516807091, "post_id": 48411891, "comment_id": 83841531, "body": "Thanks again. I would like to use a button for apply filter and another one for upload final image"}, {"owner": {"reputation": 7431, "user_id": 4005366, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/b42e7e7888cd46f17946f04e8233bc77?s=128&d=identicon&r=PG&f=1", "display_name": "Sergey Rudenko", "link": "https://stackoverflow.com/users/4005366/sergey-rudenko"}, "reply_to_user": {"reputation": 73, "user_id": 9229147, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/9c6fc47617a0b37c7d97de60cf059efc?s=128&d=identicon&r=PG&f=1", "display_name": "Marco Palmisano", "link": "https://stackoverflow.com/users/9229147/marco-palmisano"}, "edited": false, "score": 0, "creation_date": 1516818021, "post_id": 48411891, "comment_id": 83848904, "body": "Hey yo, so I am willing to help but I can&#39;t install all the dependencies from your project;/ can you help me with the following: if you console log the var as in the snippet below : addFilter(){        Caman(&quot;#image&quot;, function(){         this.brightness(5);         this.render(function () {         var fotoModificata = this.toBase64();         console.log(fotoModificata)         });      });    } what is the value of the var that console gives you - is it base64 string?"}, {"owner": {"reputation": 73, "user_id": 9229147, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/9c6fc47617a0b37c7d97de60cf059efc?s=128&d=identicon&r=PG&f=1", "display_name": "Marco Palmisano", "link": "https://stackoverflow.com/users/9229147/marco-palmisano"}, "edited": false, "score": 0, "creation_date": 1516818288, "post_id": 48411891, "comment_id": 83849050, "body": "Yes it is the string in base64"}, {"owner": {"reputation": 7431, "user_id": 4005366, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/b42e7e7888cd46f17946f04e8233bc77?s=128&d=identicon&r=PG&f=1", "display_name": "Sergey Rudenko", "link": "https://stackoverflow.com/users/4005366/sergey-rudenko"}, "reply_to_user": {"reputation": 73, "user_id": 9229147, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/9c6fc47617a0b37c7d97de60cf059efc?s=128&d=identicon&r=PG&f=1", "display_name": "Marco Palmisano", "link": "https://stackoverflow.com/users/9229147/marco-palmisano"}, "edited": false, "score": 0, "creation_date": 1516839342, "post_id": 48411891, "comment_id": 83858892, "body": "Sorry I am kind of doing it in blind mode;/ since your buttons are separate, it should not be an async issue here. But I am curious as to why the base64 value is not getting assigned to the fotoModificata. Try this below and see what console.log(temp) gives you in console?: addFilter(){        let temp = Caman(&quot;#image&quot;, function(){         this.brightness(5);         this.render(function() {         return this.toBase64();       });        // console.log(temp)        this.fotoModificata = temp      });    }"}, {"owner": {"reputation": 7431, "user_id": 4005366, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/b42e7e7888cd46f17946f04e8233bc77?s=128&d=identicon&r=PG&f=1", "display_name": "Sergey Rudenko", "link": "https://stackoverflow.com/users/4005366/sergey-rudenko"}, "reply_to_user": {"reputation": 73, "user_id": 9229147, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/9c6fc47617a0b37c7d97de60cf059efc?s=128&d=identicon&r=PG&f=1", "display_name": "Marco Palmisano", "link": "https://stackoverflow.com/users/9229147/marco-palmisano"}, "edited": false, "score": 0, "creation_date": 1516839506, "post_id": 48411891, "comment_id": 83858946, "body": "I think I know why in my asnwers example the value is not getting assigned: since base64 string is still a string - the moment we do this.fotoModificata = temp; in my answer&#39;s snippet - we just assign &quot;undefined&quot; to it. And once later on &quot;temp&quot; gets actual base64 string - there is never a reassignment. You can test my theory by making temp = &quot;test&quot; and then seeing what my answer&#39;s snippet gives you in the console (it should give you &quot;test&quot;)"}, {"owner": {"reputation": 7431, "user_id": 4005366, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/b42e7e7888cd46f17946f04e8233bc77?s=128&d=identicon&r=PG&f=1", "display_name": "Sergey Rudenko", "link": "https://stackoverflow.com/users/4005366/sergey-rudenko"}, "reply_to_user": {"reputation": 73, "user_id": 9229147, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/9c6fc47617a0b37c7d97de60cf059efc?s=128&d=identicon&r=PG&f=1", "display_name": "Marco Palmisano", "link": "https://stackoverflow.com/users/9229147/marco-palmisano"}, "edited": false, "score": 0, "creation_date": 1516839778, "post_id": 48411891, "comment_id": 83859027, "body": "Can you try this trick now: addFilter(){        let scope = this;        Caman(&quot;#image&quot;, function(){           this.brightness(5);           this.render(function() {           scope.fotoModificata = this.toBase64();         });        });    }"}, {"owner": {"reputation": 73, "user_id": 9229147, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/9c6fc47617a0b37c7d97de60cf059efc?s=128&d=identicon&r=PG&f=1", "display_name": "Marco Palmisano", "link": "https://stackoverflow.com/users/9229147/marco-palmisano"}, "edited": false, "score": 0, "creation_date": 1516864391, "post_id": 48411891, "comment_id": 83865966, "body": "Oh Man!!! It works!!! You saved me!!! If you answer with this solution I&#39;ll mark as solved!!! Thanks so much"}, {"owner": {"reputation": 7431, "user_id": 4005366, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/b42e7e7888cd46f17946f04e8233bc77?s=128&d=identicon&r=PG&f=1", "display_name": "Sergey Rudenko", "link": "https://stackoverflow.com/users/4005366/sergey-rudenko"}, "reply_to_user": {"reputation": 73, "user_id": 9229147, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/9c6fc47617a0b37c7d97de60cf059efc?s=128&d=identicon&r=PG&f=1", "display_name": "Marco Palmisano", "link": "https://stackoverflow.com/users/9229147/marco-palmisano"}, "edited": false, "score": 0, "creation_date": 1516869521, "post_id": 48411891, "comment_id": 83868370, "body": ";)) all good i was also puzzled and glad it worked! The answer is updated!"}], "tags": [], "owner": {"reputation": 7431, "user_id": 4005366, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/b42e7e7888cd46f17946f04e8233bc77?s=128&d=identicon&r=PG&f=1", "display_name": "Sergey Rudenko", "link": "https://stackoverflow.com/users/4005366/sergey-rudenko"}, "is_accepted": true, "score": 0, "last_activity_date": 1516839867, "last_edit_date": 1516839867, "creation_date": 1516746575, "answer_id": 48411891, "question_id": 48409088, "link": "https://stackoverflow.com/questions/48409088/modify-an-image-using-caman-and-then-upload-it-to-firebase/48411891#48411891", "title": "Modify an image using caman and then upload it to firebase", "body": "<p>OK this feels like all you need is to pass result of addFilter function (currently stored in var fotoModificata) to global var (fotoModificata).</p>\n\n<p>I would do this below:</p>\n\n<pre><code>addFilter() {\n\n    // save scope of global \"this\" here:\n    let scope = this;\n\n    Caman(\"#image\", function(){\n      this.brightness(5);\n      this.render(function() {\n      // use the scope as a pointer to the global scope to assign the value:\n      scope.fotoModificata = this.toBase64();\n      });\n    });\n  }\n</code></pre>\n"}], "owner": {"reputation": 73, "user_id": 9229147, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/9c6fc47617a0b37c7d97de60cf059efc?s=128&d=identicon&r=PG&f=1", "display_name": "Marco Palmisano", "link": "https://stackoverflow.com/users/9229147/marco-palmisano"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 318, "favorite_count": 0, "accepted_answer_id": 48411891, "answer_count": 1, "score": 0, "last_activity_date": 1516840047, "creation_date": 1516734545, "last_edit_date": 1516840047, "question_id": 48409088, "link": "https://stackoverflow.com/questions/48409088/modify-an-image-using-caman-and-then-upload-it-to-firebase", "title": "Modify an image using caman and then upload it to firebase", "body": "<p>Here is my problem. I want to modify an image using caman and then upload it to firebase. That's my code</p>\n\n<pre><code>import { Component, NgZone } from '@angular/core';\nimport { NavController, NavParams, AlertController } from 'ionic-angular';\nimport firebase from 'firebase';\n\ndeclare var Caman: any;\n\n@Component({\n  selector: 'page-filtri',\n  templateUrl: 'filtri.html'\n})\nexport class FiltriPage {\n\nfotoModificata: any;\npublic fotoScelta;\nitemRef : firebase.database.Reference = firebase.database().ref('/matrimonio1');\nfirestore = firebase.storage();\nalertCtrl: AlertController;\nimgsource: any;\n\n  constructor(public navCtrl: NavController, public navParams: NavParams, alertCtrl: AlertController,   public zone: NgZone,\n) {\n\n    this.alertCtrl = alertCtrl;\n    this.fotoScelta = navParams.get(\"foto\");\n  }\n\n  addFilter(){\n\n       Caman(\"#image\", function(){\n         this.brightness(5);\n         this.render(function () {\n         var fotoModificata = this.toBase64();\n\n   });\n\n });\n\n}\n\n\nupload() {\n\n\n    let storageRef = firebase.storage().ref();\n    const filename = Math.floor(Date.now() / 1000);\n    const imageRef = storageRef.child(`images/${filename}.jpg`);\n\n    imageRef.putString(this.fotoModificata, firebase.storage.StringFormat.DATA_URL).then((snapshot)=&gt; {\n\n// il codice sotto prende l'url della foto appena caricata\n         this.firestore.ref().child(`images/${filename}.jpg`).getDownloadURL().then((url) =&gt; {\n           this.zone.run(() =&gt; {\n             this.imgsource = url;\n\n// carica l'url in firebase.database\n      let newPostRef = this.itemRef.push();\n          newPostRef.set({\n            \"nome\" : \" \",\n            \"url\" : url\n          });\n\n\n            })\n         });\n\n         this.showSuccesfulUploadAlert();\n\n\n       }, (err) =&gt; { });\n\n  }\n\n  showSuccesfulUploadAlert() {\n\n      let alert = this.alertCtrl.create({\n        title: 'Caricata!',\n        subTitle: 'La foto \u00e8 stata caricata!',\n        buttons: ['OK']\n      });\n      alert.present();\n\n      this.fotoModificata = \"\";\n\n  }\n\n}\n</code></pre>\n\n<p>I know for sure that the upload() function works. Ho can I export the var fotoModificata from the addFilter function to be used in upload() ? If I use console.log immediately after the var declaration i can see in console the base64 string of my image but if I log in console somewhere else I've and undefined. How can I solve?</p>\n"}, {"tags": ["typescript"], "comments": [{"owner": {"reputation": 162223, "user_id": 1704166, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/d256baab2fcfd81b0f109d394404fd67?s=128&d=identicon&r=PG", "display_name": "Ryan Cavanaugh", "link": "https://stackoverflow.com/users/1704166/ryan-cavanaugh"}, "edited": false, "score": 1, "creation_date": 1516734664, "post_id": 48408820, "comment_id": 83807574, "body": "Are you asking how to make this code typecheck as-is (without changing the runtime behavior), or how to make the entire code <i>actually</i> safe against incorrect calls?"}, {"owner": {"reputation": 4029, "user_id": 80280, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/wfRgf.jpg?s=128&g=1", "display_name": "Eric Liprandi", "link": "https://stackoverflow.com/users/80280/eric-liprandi"}, "reply_to_user": {"reputation": 162223, "user_id": 1704166, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/d256baab2fcfd81b0f109d394404fd67?s=128&d=identicon&r=PG", "display_name": "Ryan Cavanaugh", "link": "https://stackoverflow.com/users/1704166/ryan-cavanaugh"}, "edited": false, "score": 0, "creation_date": 1516734805, "post_id": 48408820, "comment_id": 83807658, "body": "Good question. I guess my first question should be: am I just wrong in writing this kind of code? If the answer is that I am not completely crazy, then how do I make the compiler happy with <code>strictFunctionTypes</code>?"}], "answers": [{"tags": [], "owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "is_accepted": false, "score": 2, "last_activity_date": 1516734844, "creation_date": 1516734844, "answer_id": 48409166, "question_id": 48408820, "link": "https://stackoverflow.com/questions/48408820/how-can-i-solve-strictfunctiontypes-errors-for-generic-handlers/48409166#48409166", "title": "how can I solve strictFunctionTypes errors for generic handlers?", "body": "<p>The compiler is not wrong about the fact it can't prove that the assignment <code>processorOne</code> to <code>Processor</code> is safe. You say you \"know\" based on a type property that you need to pass <code>InputOne</code> to <code>processorOne</code> even though the argument to <code>Process</code> is of type <code>BaseInput</code>. </p>\n\n<p>The simplest solution for when we \"know\" something the compiler does not know is to use a type assertion: </p>\n\n<pre><code>const mapping = new Map&lt;string, Processor&gt;([\n    ['one', &lt;Processor&gt;processorOne],\n    ['two', &lt;Processor&gt;processorTwo],\n]);\n</code></pre>\n\n<p>The safer solution would be to make <code>Processor</code> generic and use a custom map that knows about the generic arguments to <code>Processor</code>. But here you are basically pushing the assertions to the map and forging your consumers to specify the type arguments which is not ideal.</p>\n\n<pre><code>class ProcessorMap {\n  private innerMap = new Map&lt;string, any&gt;() ;\n  set&lt;TIn extends BaseInput, TOut extends BaseOutput&gt;(key: string, processor: Processor&lt;TIn, TOut&gt;) {\n    this.innerMap.set(key, &lt;any&gt;processor);\n    return this;\n  }\n  get&lt;TIn extends BaseInput, TOut extends BaseOutput&gt;(key: string) {\n    return this.innerMap.get(key);\n  }\n}\n\nconst mapping = new ProcessorMap()\n    .set('one', processorOne)\n    .set('two', processorTwo);\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 4029, "user_id": 80280, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/wfRgf.jpg?s=128&g=1", "display_name": "Eric Liprandi", "link": "https://stackoverflow.com/users/80280/eric-liprandi"}, "edited": false, "score": 0, "creation_date": 1516739406, "post_id": 48409723, "comment_id": 83810174, "body": "Thanks for the detailed answer. You are right, it is quite verbose for what I thought was a simple use case. But it seems to do the trick. I will look into implementing this and will make sure to come back on mark this as the answer."}], "tags": [], "owner": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "is_accepted": false, "score": 3, "last_activity_date": 1516754886, "last_edit_date": 1516754886, "creation_date": 1516737013, "answer_id": 48409723, "question_id": 48408820, "link": "https://stackoverflow.com/questions/48408820/how-can-i-solve-strictfunctiontypes-errors-for-generic-handlers/48409723#48409723", "title": "how can I solve strictFunctionTypes errors for generic handlers?", "body": "<p>Other answers about type assertions are good, if you're comfortable with telling the compiler not to worry about parameter contravariance.  If you want the compiler to actually help you use these things in a type-safe manner, though, you need to explicitly define the key for the <code>mapping</code> and how it relates to the exact input and output types for the <code>Processor</code> in question.  Here we go:  </p>\n\n<p>First, let's make <code>Processor</code> generic so you can express exactly what type of <code>Processor</code> you're using:</p>\n\n<pre><code>type Processor&lt;I extends BaseInput=BaseInput, O extends BaseOutput=BaseOutput&gt;\n  = (input: I) =&gt; O;\n</code></pre>\n\n<p>So a plain <code>Processor</code> is just the same as it used to be, but now you can talk specifically about <code>Processor&lt;InputOne, OutputOne&gt;</code> as a processor that takes an <code>InputOne</code> as an input and produces and <code>OutputOne</code> as an output.</p>\n\n<p>Now let's describe the type of the things you're going to store in <code>mapping</code>:</p>\n\n<pre><code>interface ProcessorTypeMappings {\n  one: { input: InputOne, output: OutputOne };\n  two: { input: InputTwo, output: OutputTwo };\n}\n</code></pre>\n\n<p>This is a bit verbose (and causes more verbosity later) but it helps if you need to query, say, just the input type for <code>mapping.get('two')</code>, for some function later.  In any case you can add properties above for more processors.</p>\n\n<p>We can use <code>ProcessorTypeMappings</code> to describe the functionality of <code>mapping</code> more accurately.  I'm only going to specify <code>get()</code> and <code>set()</code>... this isn't perfect but you can tweak it as you see fit:</p>\n\n<pre><code>interface ProcessorMap extends Map&lt;string, Processor&lt;any, any&gt;&gt; {\n  get&lt;K extends keyof ProcessorTypeMappings&gt;(key: K):\n    Processor&lt;ProcessorTypeMappings[K]['input'], ProcessorTypeMappings[K]['output']&gt;;\n  set&lt;K extends keyof ProcessorTypeMappings&gt;(key: K,\n    val: Processor&lt;ProcessorTypeMappings[K]['input'], ProcessorTypeMappings[K]['output']&gt;): this;\n}\n</code></pre>\n\n<p>So <code>get()</code> takes a key from <code>ProcessorTypeMappings</code>, and produces a value which is a <code>Processor&lt;I,O&gt;</code> where <code>I</code> is the <code>input</code> property of the relevant property in <code>ProcessorTypeMappings</code>, and <code>O</code> is the corresponding <code>output</code> property.  And <code>set()</code> is similar, except that it takes both a key and a value.</p>\n\n<p>Now, finally, you can create <code>mapping</code> as a <code>ProcessorMap</code> and populate it:</p>\n\n<pre><code>const mapping: ProcessorMap = new Map&lt;string, any&gt;();\nmapping.set('one', processorOne);  // okay\nmapping.set('two', processorTwo);  // okay\n</code></pre>\n\n<p>Those type-check fine.  I did that using <code>set()</code> instead of using constructor arguments, which would have been a little more annoying to get done (since the constructor is its own type).</p>\n\n<p>And, you will get type safety when you use <code>mapping</code> later:</p>\n\n<pre><code>declare const inputOne: InputOne;\ndeclare const inputTwo: InputTwo;\nconst outputOne = mapping.get('one')(inputOne); // OutputOne\nconst oops = mapping.get('three'); // no such key\nconst nope = mapping.get('two')(inputOne); // InputOne not assignable to InputTwo\n</code></pre>\n\n<p><a href=\"https://www.typescriptlang.org/play//#src=type%20Processor%3CI%20extends%20BaseInput%3DBaseInput%2C%20O%20extends%20BaseOutput%3DBaseOutput%3E%0D%0A%20%20%3D%20%28input%3A%20I%29%20%3D%3E%20O%3B%0D%0A%0D%0A%2F%2F%20base%0D%0Ainterface%20BaseInput%20%7B%0D%0A%20%20name%3A%20string%3B%0D%0A%7D%0D%0A%0D%0Ainterface%20BaseOutput%20%7B%0D%0A%20%20id%3A%20number%3B%0D%0A%7D%0D%0A%0D%0A%2F%2F%20one%0D%0Ainterface%20InputOne%20extends%20BaseInput%20%7B%0D%0A%20%20title%3A%20string%3B%0D%0A%7D%0D%0A%0D%0Ainterface%20OutputOne%20extends%20BaseOutput%20%7B%0D%0A%20%20fullname%3A%20string%3B%0D%0A%7D%0D%0A%0D%0A%2F%2F%20two%0D%0Ainterface%20InputTwo%20extends%20BaseInput%20%7B%0D%0A%20%20age%3A%20number%3B%0D%0A%7D%0D%0A%0D%0Ainterface%20OutputTwo%20extends%20BaseOutput%20%7B%0D%0A%20%20parent%3A%20string%3B%0D%0A%7D%0D%0A%0D%0Afunction%20processorOne%28input%3A%20InputOne%29%3A%20OutputOne%20%7B%0D%0A%20%20return%20%7B%0D%0A%20%20%20%20id%3A%201%2C%0D%0A%20%20%20%20fullname%3A%20input.title%20%2B%20input.name%2C%0D%0A%20%20%7D%0D%0A%7D%0D%0A%0D%0Afunction%20processorTwo%28input%3A%20InputTwo%29%3A%20OutputTwo%20%7B%0D%0A%20%20return%20%7B%0D%0A%20%20%20%20id%3A%202%2C%0D%0A%20%20%20%20parent%3A%20input.name%2C%0D%0A%20%20%7D%0D%0A%7D%0D%0A%0D%0A%0D%0A%2F%2F%2F%2F%2F%0D%0A%0D%0Ainterface%20ProcessorTypeMappings%20%7B%0D%0A%20%20one%3A%20%7B%20input%3A%20InputOne%2C%20output%3A%20OutputOne%20%7D%3B%0D%0A%20%20two%3A%20%7B%20input%3A%20InputTwo%2C%20output%3A%20OutputTwo%20%7D%3B%0D%0A%7D%0D%0A%0D%0Ainterface%20ProcessorMap%20extends%20Map%3Cstring%2C%20Processor%3Cany%2C%20any%3E%3E%20%7B%0D%0A%20%20get%3CK%20extends%20keyof%20ProcessorTypeMappings%3E%28key%3A%20K%29%3A%0D%0A%20%20%20%20Processor%3CProcessorTypeMappings%5BK%5D%5B%27input%27%5D%2C%20ProcessorTypeMappings%5BK%5D%5B%27output%27%5D%3E%3B%0D%0A%20%20set%3CK%20extends%20keyof%20ProcessorTypeMappings%3E%28key%3A%20K%2C%0D%0A%20%20%20%20val%3A%20Processor%3CProcessorTypeMappings%5BK%5D%5B%27input%27%5D%2C%20ProcessorTypeMappings%5BK%5D%5B%27output%27%5D%3E%29%3A%20this%3B%0D%0A%7D%0D%0Aconst%20mapping%3A%20ProcessorMap%20%3D%20new%20Map%3Cstring%2C%20any%3E%28%29%3B%0D%0Amapping.set%28%27one%27%2C%20processorOne%29%3B%0D%0Amapping.set%28%27two%27%2C%20processorTwo%29%3B%0D%0A%0D%0Adeclare%20const%20inputOne%3A%20InputOne%3B%0D%0Adeclare%20const%20inputTwo%3A%20InputTwo%3B%0D%0Aconst%20outputOne%20%3D%20mapping.get%28%27one%27%29%28inputOne%29%3B%20%2F%2F%20OutputOne%0D%0Aconst%20oops%20%3D%20mapping.get%28%27three%27%29%3B%20%2F%2F%20no%20such%20key%0D%0Aconst%20nope%20%3D%20mapping.get%28%27two%27%29%28inputOne%29%3B%20%2F%2F%20InputOne%20not%20assignable%20to%20InputTwo%0D%0A%0D%0A%0D%0A\" rel=\"nofollow noreferrer\">Playground link</a></p>\n\n<p>Hope that helps; good luck!</p>\n\n<hr>\n\n<h2>UPDATE</h2>\n\n<p>It occurred to me (and this is <em>blindingly obvious</em> in retrospect) that if you really have just a simple mapping from string-valued keys to particular processor types, then you may want to use a plain old regular <em>object</em> instead of any kind of <code>Map</code>.  String-valued keys and differently-typed-values are what objects do best.  And TypeScript will helpfully infer a fairly specific type for such an object, so you don't even need to declare a mess of interfaces or types:</p>\n\n<p>Here's your <code>mapping</code>:</p>\n\n<pre><code>const mapping = {\n  one: processorOne,\n  two: processorTwo\n}; \n</code></pre>\n\n<p>That's it.  And testing it:</p>\n\n<pre><code>declare const inputOne: InputOne;\ndeclare const inputTwo: InputTwo;\nconst outputOne = mapping.one(inputOne); // OutputOne\nconst oops = mapping.three; // no such key\nconst nope = mapping.two(inputOne); // InputOne not assignable to InputTwo\n</code></pre>\n\n<p>Insanely simple.  You may decide your use case is complicated enough to require the heavier machinery above; that's up to you.  But simpler is often better, so I wanted to make sure to present it.</p>\n\n<p>Okay, good luck again! </p>\n"}], "owner": {"reputation": 4029, "user_id": 80280, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/wfRgf.jpg?s=128&g=1", "display_name": "Eric Liprandi", "link": "https://stackoverflow.com/users/80280/eric-liprandi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 292, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1516754886, "creation_date": 1516733440, "last_edit_date": 1516734439, "question_id": 48408820, "link": "https://stackoverflow.com/questions/48408820/how-can-i-solve-strictfunctiontypes-errors-for-generic-handlers", "title": "how can I solve strictFunctionTypes errors for generic handlers?", "body": "<p>we have built a pipeline for processing data from a MongoDB collection in TypeScript.</p>\n\n<p>Each document within a collection has a <code>type</code> property which we use to discriminate. We then send each document through a <em>processor</em>. </p>\n\n<p>Below is the contrived/simplified version of our code:</p>\n\n<pre><code>type Processor = (input: BaseInput) =&gt; BaseOutput;\n\n// base\ninterface BaseInput {\n    name: string;\n}\n\ninterface BaseOutput {\n    id: number;\n}\n\n// one\ninterface InputOne extends BaseInput {\n    title: string;\n}\n\ninterface OutputOne extends BaseOutput {\n    fullname: string;\n}\n\n// two\ninterface InputTwo extends BaseInput {\n    age: number;\n}\n\ninterface OutputTwo extends BaseOutput {\n    parent: string;\n}\n\nconst mapping = new Map&lt;string, Processor&gt;([\n    ['one', processorOne],\n    ['two', processorTwo],\n]);\n\nfunction processorOne(input: InputOne): OutputOne {\n    return {\n        id: 1,\n        fullname: input.title + input.name,\n    }\n}\n\nfunction processorTwo(input: InputTwo): OutputTwo {\n    return {\n        id: 2,\n        parent: input.name,\n    }\n}\n</code></pre>\n\n<p>This is working fine in <code>2.5</code>, but we're getting errors in <code>2.6</code> with <code>strictFunctionTypes</code> for the <code>mapping</code>:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>Argument of type '([string, (input: InputOne) =&gt; OutputOne] | [string, (input: InputTwo) =&gt; OutputTwo])[]' is not assignable to parameter of type '[string, Processor][]'.\n  Type '[string, (input: InputOne) =&gt; OutputOne] | [string, (input: InputTwo) =&gt; OutputTwo]' is not assignable to type '[string, Processor]'.\n    Type '[string, (input: InputOne) =&gt; OutputOne]' is not assignable to type '[string, Processor]'.\n      Type '(input: InputOne) =&gt; OutputOne' is not assignable to type 'Processor'.\n        Types of parameters 'input' and 'input' are incompatible.\n          Type 'BaseInput' is not assignable to type 'InputOne'.\n            Property 'title' is missing in type 'BaseInput'.\n</code></pre>\n\n<p>I understand why it is warning me, but <strong>how can we tweak the declaration (or implementation) to be type safe?</strong></p>\n"}, {"tags": ["javascript", "typescript"], "comments": [{"owner": {"reputation": 7463, "user_id": 1008741, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/wCDsd.png?s=128&g=1", "display_name": "Jack Guy", "link": "https://stackoverflow.com/users/1008741/jack-guy"}, "edited": false, "score": 0, "creation_date": 1516731096, "post_id": 48408129, "comment_id": 83805556, "body": "How do you know that they are simple JS Objects? Your initialization code is probably more important than what you&#39;ve shared here.  Also on an unrelated note, I have mixed feelings on this pattern in general. The <code>Object.assign</code> call seems like it could be really destructive."}, {"owner": {"reputation": 105043, "user_id": 5260024, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XxSHe.jpg?s=128&g=1", "display_name": "Jonas Wilms", "link": "https://stackoverflow.com/users/5260024/jonas-wilms"}, "edited": false, "score": 0, "creation_date": 1516731182, "post_id": 48408129, "comment_id": 83805601, "body": "Remove those getters/setters . They are not neccessary here. And <code>null</code> as a default value makes no sense either IMO."}, {"owner": {"reputation": 2781, "user_id": 3693726, "user_type": "registered", "accept_rate": 92, "profile_image": "https://graph.facebook.com/1537834392/picture?type=large", "display_name": "Deniss M.", "link": "https://stackoverflow.com/users/3693726/deniss-m"}, "reply_to_user": {"reputation": 105043, "user_id": 5260024, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XxSHe.jpg?s=128&g=1", "display_name": "Jonas Wilms", "link": "https://stackoverflow.com/users/5260024/jonas-wilms"}, "edited": false, "score": 0, "creation_date": 1516731235, "post_id": 48408129, "comment_id": 83805630, "body": "@JonasW. why not necessary?"}, {"owner": {"reputation": 105043, "user_id": 5260024, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XxSHe.jpg?s=128&g=1", "display_name": "Jonas Wilms", "link": "https://stackoverflow.com/users/5260024/jonas-wilms"}, "edited": false, "score": 0, "creation_date": 1516731272, "post_id": 48408129, "comment_id": 83805657, "body": "Just make the properties <code>public</code>."}, {"owner": {"reputation": 2781, "user_id": 3693726, "user_type": "registered", "accept_rate": 92, "profile_image": "https://graph.facebook.com/1537834392/picture?type=large", "display_name": "Deniss M.", "link": "https://stackoverflow.com/users/3693726/deniss-m"}, "reply_to_user": {"reputation": 7463, "user_id": 1008741, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/wCDsd.png?s=128&g=1", "display_name": "Jack Guy", "link": "https://stackoverflow.com/users/1008741/jack-guy"}, "edited": false, "score": 0, "creation_date": 1516731322, "post_id": 48408129, "comment_id": 83805687, "body": "@Harangue <a href=\"https://stackoverflow.com/questions/45958742/typescript-class-with-a-constructor-which-calls-methods-depending-incoming-para\" title=\"typescript class with a constructor which calls methods depending incoming para\">stackoverflow.com/questions/45958742/&hellip;</a> this is concerning the Object.assign(). How do I know, because the getters are no populated and this object doesn&#39;t show a type in chrome console during service log output."}, {"owner": {"reputation": 105043, "user_id": 5260024, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XxSHe.jpg?s=128&g=1", "display_name": "Jonas Wilms", "link": "https://stackoverflow.com/users/5260024/jonas-wilms"}, "edited": false, "score": 1, "creation_date": 1516731448, "post_id": 48408129, "comment_id": 83805741, "body": "Do you need this classes for something (e.g. do you need methods?) And is the rest response always the same?"}, {"owner": {"reputation": 2781, "user_id": 3693726, "user_type": "registered", "accept_rate": 92, "profile_image": "https://graph.facebook.com/1537834392/picture?type=large", "display_name": "Deniss M.", "link": "https://stackoverflow.com/users/3693726/deniss-m"}, "edited": false, "score": 0, "creation_date": 1516731534, "post_id": 48408129, "comment_id": 83805786, "body": "Yes I need these methods and classes. I do not want to do it the JS way, but the TS way with getters/setters. About the rest response you mean the structure or the content? The structure is always the same."}, {"owner": {"reputation": 105043, "user_id": 5260024, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XxSHe.jpg?s=128&g=1", "display_name": "Jonas Wilms", "link": "https://stackoverflow.com/users/5260024/jonas-wilms"}, "edited": false, "score": 1, "creation_date": 1516731789, "post_id": 48408129, "comment_id": 83805927, "body": "<code>but the TS way</code>, thats not ts, thats ugly. Thats kind of java"}, {"owner": {"reputation": 2781, "user_id": 3693726, "user_type": "registered", "accept_rate": 92, "profile_image": "https://graph.facebook.com/1537834392/picture?type=large", "display_name": "Deniss M.", "link": "https://stackoverflow.com/users/3693726/deniss-m"}, "edited": false, "score": 0, "creation_date": 1516731894, "post_id": 48408129, "comment_id": 83805979, "body": "I am coming from java. :)"}, {"owner": {"reputation": 105043, "user_id": 5260024, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XxSHe.jpg?s=128&g=1", "display_name": "Jonas Wilms", "link": "https://stackoverflow.com/users/5260024/jonas-wilms"}, "edited": false, "score": 2, "creation_date": 1516732055, "post_id": 48408129, "comment_id": 83806082, "body": "Okay. Just forget every &quot;best practice&quot; you learned already. Getters and setters arent always useful. If they are like <code>set property(value){ this._property = value }</code> you should simply make the property public. If you then somewhen decide that a getter/setter might be useful, you can replace the getter/setter with a property without the need to refactor."}, {"owner": {"reputation": 2781, "user_id": 3693726, "user_type": "registered", "accept_rate": 92, "profile_image": "https://graph.facebook.com/1537834392/picture?type=large", "display_name": "Deniss M.", "link": "https://stackoverflow.com/users/3693726/deniss-m"}, "reply_to_user": {"reputation": 105043, "user_id": 5260024, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XxSHe.jpg?s=128&g=1", "display_name": "Jonas Wilms", "link": "https://stackoverflow.com/users/5260024/jonas-wilms"}, "edited": false, "score": 0, "creation_date": 1516732290, "post_id": 48408129, "comment_id": 83806216, "body": "@JonasW. thanks, I became a bit smarter now. Will def. use this approach in the next project. Too much is done in here to make the switch :)"}], "answers": [{"comments": [{"owner": {"reputation": 105043, "user_id": 5260024, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XxSHe.jpg?s=128&g=1", "display_name": "Jonas Wilms", "link": "https://stackoverflow.com/users/5260024/jonas-wilms"}, "edited": false, "score": 0, "creation_date": 1516731825, "post_id": 48408407, "comment_id": 83805946, "body": "Actually <i>note</i> is the real answer."}, {"owner": {"reputation": 2781, "user_id": 3693726, "user_type": "registered", "accept_rate": 92, "profile_image": "https://graph.facebook.com/1537834392/picture?type=large", "display_name": "Deniss M.", "link": "https://stackoverflow.com/users/3693726/deniss-m"}, "edited": false, "score": 0, "creation_date": 1516731878, "post_id": 48408407, "comment_id": 83805972, "body": "Does it mean I do not need to use <code>this.role = hotelRole.role.map(r=&gt; new Role(r));</code> if I use the interface type for these objects? Is that done by TS itself?"}, {"owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "reply_to_user": {"reputation": 105043, "user_id": 5260024, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XxSHe.jpg?s=128&g=1", "display_name": "Jonas Wilms", "link": "https://stackoverflow.com/users/5260024/jonas-wilms"}, "edited": false, "score": 0, "creation_date": 1516731897, "post_id": 48408407, "comment_id": 83805982, "body": "@JonasW Yes, I would go with that 100% on the basis of the question that was asked, but there my be reasons for using classes if there are other methods on the class"}, {"owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "reply_to_user": {"reputation": 2781, "user_id": 3693726, "user_type": "registered", "accept_rate": 92, "profile_image": "https://graph.facebook.com/1537834392/picture?type=large", "display_name": "Deniss M.", "link": "https://stackoverflow.com/users/3693726/deniss-m"}, "edited": false, "score": 0, "creation_date": 1516731992, "post_id": 48408407, "comment_id": 83806039, "body": "@DenissM. With interfaces there is no constructor, so no place to put that code anyway, but you don&#39;t need it anyway. With interfaces you just describe the shape of your JSON object, how that object arrived to be of that shpe is not important for the TS compiler"}, {"owner": {"reputation": 2781, "user_id": 3693726, "user_type": "registered", "accept_rate": 92, "profile_image": "https://graph.facebook.com/1537834392/picture?type=large", "display_name": "Deniss M.", "link": "https://stackoverflow.com/users/3693726/deniss-m"}, "edited": false, "score": 0, "creation_date": 1516732150, "post_id": 48408407, "comment_id": 83806138, "body": "@TitianCernicova-Dragomir thanks. BTW <code>this.role = hotelRole.role.map(r=&gt; new Role(r));</code> this gives a hotelRole.role.map is not a function. Is it prone to null objects?"}, {"owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "reply_to_user": {"reputation": 2781, "user_id": 3693726, "user_type": "registered", "accept_rate": 92, "profile_image": "https://graph.facebook.com/1537834392/picture?type=large", "display_name": "Deniss M.", "link": "https://stackoverflow.com/users/3693726/deniss-m"}, "edited": false, "score": 0, "creation_date": 1516732280, "post_id": 48408407, "comment_id": 83806206, "body": "@DenissM. wops, that should have been <code>roles</code>, that is the array of roles in your JSON from what I gathered. You should do null checking if you are going to go with that solution, I didn&#39;t do that in the demo code"}, {"owner": {"reputation": 2781, "user_id": 3693726, "user_type": "registered", "accept_rate": 92, "profile_image": "https://graph.facebook.com/1537834392/picture?type=large", "display_name": "Deniss M.", "link": "https://stackoverflow.com/users/3693726/deniss-m"}, "edited": false, "score": 0, "creation_date": 1516732393, "post_id": 48408407, "comment_id": 83806274, "body": "@TitianCernicova-Dragomir nope that is <code>role</code> you had it correct. No <code>roles</code> in that object :)"}, {"owner": {"reputation": 2781, "user_id": 3693726, "user_type": "registered", "accept_rate": 92, "profile_image": "https://graph.facebook.com/1537834392/picture?type=large", "display_name": "Deniss M.", "link": "https://stackoverflow.com/users/3693726/deniss-m"}, "edited": false, "score": 0, "creation_date": 1516733091, "post_id": 48408407, "comment_id": 83806684, "body": "@TitianCernicova-Dragomir with <code>Role</code> this doesn&#39;t work even if I do null checks and array length checks. Must be a more complex solution :("}, {"owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "edited": false, "score": 1, "creation_date": 1516733291, "post_id": 48408407, "comment_id": 83806783, "body": "um .. if <code>role</code> is an array it should work. Mabe it&#39;s not an array ? An then you would need <code>this.role = new Role(hotelRole.role)</code>. The basic idea should be the same .. you need to call the constructor of he class"}, {"owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "edited": false, "score": 0, "creation_date": 1516733444, "post_id": 48408407, "comment_id": 83806875, "body": "had a second look at the JSON .. yes it&#39;s a simple object not an array"}, {"owner": {"reputation": 2781, "user_id": 3693726, "user_type": "registered", "accept_rate": 92, "profile_image": "https://graph.facebook.com/1537834392/picture?type=large", "display_name": "Deniss M.", "link": "https://stackoverflow.com/users/3693726/deniss-m"}, "edited": false, "score": 0, "creation_date": 1516733845, "post_id": 48408407, "comment_id": 83807096, "body": "@TitianCernicova-Dragomir oops, my bad. You are correct :)"}], "tags": [], "owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "is_accepted": true, "score": 4, "last_activity_date": 1516823758, "last_edit_date": 1516823758, "creation_date": 1516731702, "answer_id": 48408407, "question_id": 48408129, "link": "https://stackoverflow.com/questions/48408129/typescript-doesnt-convert-class-members-other-classes-correctly/48408407#48408407", "title": "TypeScript doesn&#39;t convert class members (other classes) correctly", "body": "<p>The problem is that using <code>Object.assign</code> does not turn the nested objects into instances of your class, you need to call the constructors manually: </p>\n\n<pre><code>export class UsersManagementData {\n\n  constructor(usersManagementData: any) {\n    Object.assign(this, usersManagementData);\n    this.hotelRoles = usersManagementData.hotelRoles.map(hr =&gt; new HotelRole(hr));\n  }\n  ....\n}\n\nexport class HotelRole {\n\n  constructor(hotelRole: any) {\n    Object.assign(this, hotelRole);\n    this.role = new Role(hotelRole.role);\n  }\n}\n</code></pre>\n\n<p><strong>Note</strong> </p>\n\n<p>Your design is not very JS/TS oriented, if I had to guess I would say you come from a C#/Java background. I would recommend just converting the classes to interfaces if they have no other methods, (define the all the properties on the interfaces) and assign the JSON directly to a variable of the interface type:</p>\n\n<pre><code>export interface UsersManagementData {\n  username: string;\n  hotelRoles: HotelRole[];\n  title: string;\n  email: string;\n  firstName: string;\n  lastName: string;\n  middleName: string;\n  dateOfBirth: string;\n  telephone: string;\n  mobile: string;\n  job: string;\n  department: string;\n  companyName: string;\n  employeeId: string;\n  taxId: string;\n  cashRegister: string;\n  address1: string;\n  address2: string;\n  townCity: string;\n  regionState: string;\n  postCode: string;\n  country: string;\n  website: string;\n  fullName: string;\n}\nexport interface HotelRole {\n  hotelId: string;\n  role: Role[];\n}\n\nexport interface Role {\n  code: string;\n  name: string;\n}\n\nlet jsonResult: any; \nlet umd : UsersManagementData = jsonResult;\n</code></pre>\n"}], "owner": {"reputation": 2781, "user_id": 3693726, "user_type": "registered", "accept_rate": 92, "profile_image": "https://graph.facebook.com/1537834392/picture?type=large", "display_name": "Deniss M.", "link": "https://stackoverflow.com/users/3693726/deniss-m"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 102, "favorite_count": 0, "accepted_answer_id": 48408407, "answer_count": 1, "score": 0, "last_activity_date": 1516823758, "creation_date": 1516730643, "question_id": 48408129, "link": "https://stackoverflow.com/questions/48408129/typescript-doesnt-convert-class-members-other-classes-correctly", "title": "TypeScript doesn&#39;t convert class members (other classes) correctly", "body": "<p>I came across a problem that I cannot solve. The rest response returns the following object:</p>\n\n<pre><code>[{\n  \"username\": \"ljkkljk\",\n  \"hotelRoles\": [\n    {\n      \"hotelId\": \"lkjkj\",\n      \"role\": {\n        \"code\": \"ROLE_USER\",\n        \"name\": \"User administration\"\n      }\n    },\n    {\n      \"hotelId\": \"ljkklj\",\n      \"role\": {\n        \"code\": \"ROLE_USER\",\n        \"name\": \"User administration\"\n      }\n  }],\n  \"applications\": [],\n  \"enabled\": false,\n  \"title\": null,\n  \"email\": \"lkj.lj@lkj.lkj\",\n  \"firstName\": \"ljk\",\n  \"lastName\": \"lkj\",\n  \"middleName\": null,\n  \"dateOfBirth\": null,\n  \"telephone\": null,\n  \"mobile\": \"+ljkl\",\n  \"job\": null,\n  \"department\": null,\n  \"companyName\": \"ljkl\",\n  \"employeeId\": null,\n  \"taxId\": null,\n  \"cashRegister\": null,\n  \"address1\": null,\n  \"address2\": null,\n  \"townCity\": null,\n  \"regionState\": null,\n  \"postCode\": null,\n  \"country\": \"ljkl\",\n  \"website\": null,\n  \"fullName\": \"jklkljkli\"\n}]\n</code></pre>\n\n<p>I try to map it with the current TypeScript class structure:</p>\n\n<p><strong>UserManagementData.ts</strong></p>\n\n<pre><code>export class UsersManagementData {\n\n  private username: string;\n  private hotelRoles: HotelRole[];\n  private title: string;\n  private email: string;\n  private firstName: string;\n  private lastName: string;\n  private middleName: string;\n  private dateOfBirth: string;\n  private telephone: string;\n  private mobile: string;\n  private job: string;\n  private department: string;\n  private companyName: string;\n  private employeeId: string;\n  private taxId: string;\n  private cashRegister: string;\n  private address1: string;\n  private address2: string;\n  private townCity: string;\n  private regionState: string;\n  private postCode: string;\n  private country: string;\n  private website: string;\n  private fullName: string;\n\n  constructor(usersManagementData: any = DEFAULT_VALUES) {\n    Object.assign(this, usersManagementData);\n  }\n\n  get _username(): string {\n    return this.username;\n  }\n\n  set _username(value: string) {\n    this.username = value;\n  }\n\n  get _hotelRoles(): HotelRole[] {\n    return this.hotelRoles;\n  }\n\n  set _hotelRoles(value: HotelRole[]) {\n    this.hotelRoles = value;\n  }\n\n  get _title(): string {\n    return this.title;\n  }\n\n  set _title(value: string) {\n    this.title = value;\n  }\n\n  get _email(): string {\n    return this.email;\n  }\n\n  set _email(value: string) {\n    this.email = value;\n  }\n\n  get _firstName(): string {\n    return this.firstName;\n  }\n\n  set _firstName(value: string) {\n    this.firstName = value;\n  }\n\n  get _lastName(): string {\n    return this.lastName;\n  }\n\n  set _lastName(value: string) {\n    this.lastName = value;\n  }\n\n  get _middleName(): string {\n    return this.middleName;\n  }\n\n  set _middleName(value: string) {\n    this.middleName = value;\n  }\n\n  get _dateOfBirth(): string {\n    return this.dateOfBirth;\n  }\n\n  set _dateOfBirth(value: string) {\n    this.dateOfBirth = value;\n  }\n\n  get _telephone(): string {\n    return this.telephone;\n  }\n\n  set _telephone(value: string) {\n    this.telephone = value;\n  }\n\n  get _mobile(): string {\n    return this.mobile;\n  }\n\n  set _mobile(value: string) {\n    this.mobile = value;\n  }\n\n  get _job(): string {\n    return this.job;\n  }\n\n  set _job(value: string) {\n    this.job = value;\n  }\n\n  get _department(): string {\n    return this.department;\n  }\n\n  set _department(value: string) {\n    this.department = value;\n  }\n\n  get _companyName(): string {\n    return this.companyName;\n  }\n\n  set _companyName(value: string) {\n    this.companyName = value;\n  }\n\n  get _employeeId(): string {\n    return this.employeeId;\n  }\n\n  set _employeeId(value: string) {\n    this.employeeId = value;\n  }\n\n  get _taxId(): string {\n    return this.taxId;\n  }\n\n  set _taxId(value: string) {\n    this.taxId = value;\n  }\n\n  get _cashRegister(): string {\n    return this.cashRegister;\n  }\n\n  set _cashRegister(value: string) {\n    this.cashRegister = value;\n  }\n\n  get _address1(): string {\n    return this.address1;\n  }\n\n  set _address1(value: string) {\n    this.address1 = value;\n  }\n\n  get _address2(): string {\n    return this.address2;\n  }\n\n  set _address2(value: string) {\n    this.address2 = value;\n  }\n\n  get _townCity(): string {\n    return this.townCity;\n  }\n\n  set _townCity(value: string) {\n    this.townCity = value;\n  }\n\n  get _regionState(): string {\n    return this.regionState;\n  }\n\n  set _regionState(value: string) {\n    this.regionState = value;\n  }\n\n  get _postCode(): string {\n    return this.postCode;\n  }\n\n  set _postCode(value: string) {\n    this.postCode = value;\n  }\n\n  get _country(): string {\n    return this.country;\n  }\n\n  set _country(value: string) {\n    this.country = value;\n  }\n\n  get _website(): string {\n    return this.website;\n  }\n\n  set _website(value: string) {\n    this.website = value;\n  }\n\n  get _fullName(): string {\n    return this.fullName;\n  }\n\n  set _fullName(value: string) {\n    this.fullName = value;\n  }\n}\n\nconst DEFAULT_VALUES = {\n  username: null,\n  hotelRoles: null,\n  title: null,\n  email: null,\n  firstName: null,\n  lastName: null,\n  middleName: null,\n  dateOfBirth: null,\n  telephone: null,\n  mobile: null,\n  job: null,\n  department: null,\n  companyName: null,\n  employeeId: null,\n  taxId: null,\n  cashRegister: null,\n  address1: null,\n  address2: null,\n  townCity: null,\n  regionState: null,\n  postCode: null,\n  country: null,\n  website: null,\n  fullName: null\n};\n</code></pre>\n\n<p><strong>HotelRole.ts</strong></p>\n\n<pre><code>export class HotelRole {\n\n  private hotelId: string;\n  private role: Role[];\n\n  constructor(hotelRole: any = DEFAULT_VALUES) {\n    Object.assign(this, hotelRole);\n  }\n\n  get _hotelId(): string {\n    return this.hotelId;\n  }\n\n  set _hotelId(value: string) {\n    this.hotelId = value;\n  }\n\n  get _role(): Role[] {\n    return this.role;\n  }\n\n  set _role(value: Role[]) {\n    this.role = value;\n  }\n}\n\nconst DEFAULT_VALUES = {\n  hotelId: null,\n  role: null\n};\n</code></pre>\n\n<p>and lastly the <strong>Role.ts</strong></p>\n\n<pre><code>export class Role {\n\n private code: string;\n private name: string;\n\n constructor(role: any = DEFAULT_VALUES) {\n   Object.assign(this, role);\n }\n\n  get _code(): string {\n    return this.code;\n  }\n\n  set _code(value: string) {\n    this.code = value;\n  }\n\n  get _name(): string {\n    return this.name;\n  }\n\n  set _name(value: string) {\n    this.name = value;\n  }\n}\n\nconst DEFAULT_VALUES = {\n  code: null,\n  name: null\n};\n</code></pre>\n\n<p>The first parent object (<strong>UserManagementData.ts</strong>) maps correctly, but <strong>HotelRoles.ts</strong> and <strong>Roles.ts</strong> do not map. They are mapped is simple JS objects. </p>\n\n<p>What am I doing wrong. I think I've done this before a million times and never had such problems. Any help will be gladly appreciated. </p>\n"}, {"tags": ["html", "angular", "typescript", "ionic-framework"], "answers": [{"comments": [{"owner": {"reputation": 191, "user_id": 4006131, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/1b3c359cbda704c97c03b7c44223d4e6?s=128&d=identicon&r=PG&f=1", "display_name": "Ivas", "link": "https://stackoverflow.com/users/4006131/ivas"}, "edited": false, "score": 1, "creation_date": 1516730834, "post_id": 48408138, "comment_id": 83805419, "body": "Thank you again. Your answers are always very helpful."}], "tags": [], "owner": {"reputation": 183792, "user_id": 1749403, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/g0aFU.png?s=128&g=1", "display_name": "Sajeetharan", "link": "https://stackoverflow.com/users/1749403/sajeetharan"}, "is_accepted": true, "score": 1, "last_activity_date": 1516730706, "creation_date": 1516730706, "answer_id": 48408138, "question_id": 48408126, "link": "https://stackoverflow.com/questions/48408126/disable-range-slider/48408138#48408138", "title": "Disable Range Slider", "body": "<p>You can set <strong><code>disabled= true;</code></strong></p>\n\n<pre><code> &lt;ion-range disabled=\"true\" [(ngModel)]=\"singleValue\" color=\"danger\" pin=\"true\" snaps=\"true\" &gt;&lt;/ion-range&gt;\n</code></pre>\n"}], "owner": {"reputation": 191, "user_id": 4006131, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/1b3c359cbda704c97c03b7c44223d4e6?s=128&d=identicon&r=PG&f=1", "display_name": "Ivas", "link": "https://stackoverflow.com/users/4006131/ivas"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1027, "favorite_count": 0, "accepted_answer_id": 48408138, "answer_count": 1, "score": 1, "last_activity_date": 1516730706, "creation_date": 1516730641, "question_id": 48408126, "link": "https://stackoverflow.com/questions/48408126/disable-range-slider", "title": "Disable Range Slider", "body": "<p>I have a range slider that needs to be disabled. I was not able to find anything on the ionic docs. Any help would be appreciated. Thank you.</p>\n\n<p><strong>.html</strong></p>\n\n<pre><code>&lt;ion-item&gt;\n   &lt;ion-range [(ngModel)]=\"singleValue\" color=\"danger\" pin=\"true\" snaps=\"true\" &gt;&lt;/ion-range&gt;\n &lt;/ion-item&gt;\n</code></pre>\n"}, {"tags": ["javascript", "typescript", "normalization", "flowtype", "static-typing"], "comments": [{"owner": {"reputation": 21589, "user_id": 4875631, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/fGuXb.png?s=128&g=1", "display_name": "Goodbye StackExchange", "link": "https://stackoverflow.com/users/4875631/goodbye-stackexchange"}, "edited": false, "score": 0, "creation_date": 1516730259, "post_id": 48408003, "comment_id": 83805080, "body": "Slight suggestion, you know you can use <code>Meeting[]</code> instead of <code>Array&lt;Meeting&gt;</code>?"}, {"owner": {"reputation": 507, "user_id": 3881307, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/c49a397b5b8e0420f55ba3a14dc0b6e7?s=128&d=identicon&r=PG&f=1", "display_name": "Brian Boyko", "link": "https://stackoverflow.com/users/3881307/brian-boyko"}, "reply_to_user": {"reputation": 21589, "user_id": 4875631, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/fGuXb.png?s=128&g=1", "display_name": "Goodbye StackExchange", "link": "https://stackoverflow.com/users/4875631/goodbye-stackexchange"}, "edited": false, "score": 0, "creation_date": 1516730336, "post_id": 48408003, "comment_id": 83805133, "body": "I did not!  Thank you!"}, {"owner": {"reputation": 7463, "user_id": 1008741, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/wCDsd.png?s=128&g=1", "display_name": "Jack Guy", "link": "https://stackoverflow.com/users/1008741/jack-guy"}, "edited": false, "score": 0, "creation_date": 1516730478, "post_id": 48408003, "comment_id": 83805222, "body": "&#39;without making it an &quot;any&quot; - which will then throw errors if I try to .sort() on an &quot;any&quot; value&#39; - that shouldn&#39;t be the behavior of <code>any</code> - it&#39;s truly typeless. Do you have some weird setting in your tsconfig? Can we see your sort code?"}, {"owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "edited": false, "score": 0, "creation_date": 1516730645, "post_id": 48408003, "comment_id": 83805313, "body": "Could you post your current JS code that achieves the conversion from <code>RawDataFromDB</code> to <code>WhatIWantAtTheEnd</code>"}], "answers": [{"tags": [], "owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "is_accepted": false, "score": 0, "last_activity_date": 1516778284, "last_edit_date": 1516778284, "creation_date": 1516730893, "answer_id": 48408178, "question_id": 48408003, "link": "https://stackoverflow.com/questions/48408003/in-typed-js-typescript-flowtype-how-do-you-handle-normalized-objects/48408178#48408178", "title": "In Typed JS (Typescript/FlowType) how do you handle normalized objects?", "body": "<p>From what I understand of the algorithm you describe, the intermediate object type you are looking for, should have an indexer from <code>string</code> to <code>Meeting</code> defined:</p>\n\n<pre><code>let map: { [participants: string]: Meeting } = {};\nfor (let m of RawDataFromDB) {\n  let key = m.participants.sort().join(',');\n  let existingMeeting = map[key];\n  if (!existingMeeting) {\n    map[key] = {\n      locations: [m.location],\n      participants: m.participants\n    }\n  } else {\n    existingMeeting.locations.push(m.location);\n  }\n}\n</code></pre>\n\n<p>Or using <code>reduce</code> as you do in your sample, you just need to specify the indexable type as a generic parameter (the parameter representing the result type) to <code>reduce</code></p>\n\n<pre><code>const getWhatIWant = (rawData: OneMeeting[]): Meeting[] =&gt; {\n  // what is the type I should use for normalized ?\n  let normalized = rawData.reduce&lt;{ [key: string]: Meeting }&gt;((pv, curr) =&gt; {\n    let key = curr.participants.sort().join(\",\")\n    if (!pv[key]) {\n      pv[key] = { locations: [curr.location], participants: curr.participants }\n    } else {\n      pv[key].locations.push(curr.location)\n    }\n    return pv;\n  }, {})\n  return Object.values(normalized);\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 507, "user_id": 3881307, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/c49a397b5b8e0420f55ba3a14dc0b6e7?s=128&d=identicon&r=PG&f=1", "display_name": "Brian Boyko", "link": "https://stackoverflow.com/users/3881307/brian-boyko"}, "edited": false, "score": 1, "creation_date": 1516739643, "post_id": 48410274, "comment_id": 83810296, "body": "Wouldn&#39;t that be horrifically inefficient from a BigO standpoint? That&#39;s at least On^2"}, {"owner": {"reputation": 502, "user_id": 3275619, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ea2dbf5c3dd785469f837d0386a9d8f5?s=128&d=identicon&r=PG&f=1", "display_name": "max890", "link": "https://stackoverflow.com/users/3275619/max890"}, "reply_to_user": {"reputation": 507, "user_id": 3881307, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/c49a397b5b8e0420f55ba3a14dc0b6e7?s=128&d=identicon&r=PG&f=1", "display_name": "Brian Boyko", "link": "https://stackoverflow.com/users/3881307/brian-boyko"}, "edited": false, "score": 1, "creation_date": 1516740579, "post_id": 48410274, "comment_id": 83810784, "body": "Horrifically inefficient, I can&#39;t tell. But, yes, this function is not optimized. If you really want to be efficient, you should manipulate those data directly in SQL. Otherwise, using map with some precaculated Array hash could be faster. (and to be honest, n&#178; is not that slow)"}], "tags": [], "owner": {"reputation": 502, "user_id": 3275619, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ea2dbf5c3dd785469f837d0386a9d8f5?s=128&d=identicon&r=PG&f=1", "display_name": "max890", "link": "https://stackoverflow.com/users/3275619/max890"}, "is_accepted": false, "score": -1, "last_activity_date": 1516739382, "creation_date": 1516739382, "answer_id": 48410274, "question_id": 48408003, "link": "https://stackoverflow.com/questions/48408003/in-typed-js-typescript-flowtype-how-do-you-handle-normalized-objects/48410274#48410274", "title": "In Typed JS (Typescript/FlowType) how do you handle normalized objects?", "body": "<p>Not sure if it's what you really want, but here is a one liner code:</p>\n\n<pre><code>// Assuming that type Meeting  = { location: string[]; participants: string[]; }\nconst WhatIWantAtTheEnd: Meeting[] = RawDataFromDB\n    .map(meeting =&gt; meeting.participants.sort((a, b) =&gt; a.localeCompare(b))) // Create a participant sorted list\n    .filter((value, index, array) =&gt; index === array.findIndex(compValue =&gt; value.every(participant =&gt; compValue.includes(participant)))) // strip duplicates\n    .map(sortedParticipants =&gt; ({\n        participants: sortedParticipants,\n        location: RawDataFromDB.filter(raw =&gt; raw.participants.every(participant =&gt; sortedParticipants.includes(participant))).map(e =&gt; e.location)\n    }));\n</code></pre>\n"}], "owner": {"reputation": 507, "user_id": 3881307, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/c49a397b5b8e0420f55ba3a14dc0b6e7?s=128&d=identicon&r=PG&f=1", "display_name": "Brian Boyko", "link": "https://stackoverflow.com/users/3881307/brian-boyko"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 437, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1516778284, "creation_date": 1516730155, "last_edit_date": 1516740160, "question_id": 48408003, "link": "https://stackoverflow.com/questions/48408003/in-typed-js-typescript-flowtype-how-do-you-handle-normalized-objects", "title": "In Typed JS (Typescript/FlowType) how do you handle normalized objects?", "body": "<p>Working on a project.  I'm starting with flow type because it's easier to implement piecemeal but eventually I plan to convert from flow to Typescript when we move from \"proof of concept\" into \"prototype\".  However, a solution to this problem in either should work in both flow or TS. </p>\n\n<p>I'm writing a backend API which makes queries to a database. </p>\n\n<p>Now, my query to the DB gives me this:</p>\n\n<pre><code>type OneMeeting = {\n  location: string\n  participants: Array&lt;string&gt;\n}\n\nconst RawDataFromDB: Array&lt;OneMeeting&gt; = await getDataFromDB();\n</code></pre>\n\n<p>Here's the problem: </p>\n\n<p>I want to consolidate that data, so that if all participants are identical, the zip codes are combined.  </p>\n\n<p>So, I want this: </p>\n\n<pre><code>type Meeting = {\n  locations: Array&lt;string&gt;\n  participants: Array&lt;string&gt;\n} \n\nconst RawDataFromDB: Array&lt;OneMeeting&gt; = [\n  {\n    location: \"Trump Tower\",\n    participants: [\"Kushner\", \"Trump Jr.\", \"Manifort\", \"Veselnitskaya\"]\n  },\n  {\n    location: \"Mar A Lago\",\n    participants: [\"Kushner\", \"Trump Jr.\", \"Manifort\", \"Veselnitskaya\"]\n  },\n  { \n    location: \"Mar A Lago\",\n    participants: [\"Trump Sr.\", \"Abramovich\"]\n  }\n]\n\nconst WhatIWantAtTheEnd: Array&lt;Meeting&gt; = [\n  { \n    locations: [\"Trump Tower\", \"Mar A Lago\"], \n     participants: [\"Kushner\", \"Trump Jr.\", \"Manifort\", \"Veselnitskaya\"]\n  }, \n  { \n    locations: [\"Mar A Lago\"],\n    participants: [\"Trump Sr.\", \"Abramovich\"]\n  }\n] \n</code></pre>\n\n<p>Now, the way I had been converting from Raw Data to What I want was basically to sort() the participants in each meeting, create an object where the key is the JSON.stringified version of the participants array, and push the location values.  So there's an intermediate step where, instead of an array of meetings, there's an intermediate Object with an unknown number of keys, where the names of those keys cannot be determined in advance.  </p>\n\n<p>And for the life of me, I can't figure out how to type out that intermediate Object so that it doesn't throw a type error, without making it an \"any\" - which will then throw errors if I try to .sort() on an \"any\" value. </p>\n\n<p>So, typescripterinos, how would you approach this?  </p>\n\n<p>-- Edit, this is how I normally would do the conversion from A->B. </p>\n\n<pre><code>const getWhatIWant = (rawData: OneMeeting[]): Meeting[] =&gt; { \n// what is the type I should use for normalized ?\nlet normalized: Object = rawData.reduce((pv: Object, curr: OneMeeting) =&gt; { \n    let key = curr.participants.sort().join(\",\")\n    if(!pv[key]){\n      pv[key] = {locations: [curr.location], participants: curr.participants}\n    } else {\n      pv[key].locations.push(curr.location)\n    }\n    return pv;\n    }, {})\n  return Object.values(normalized);\n}\n</code></pre>\n"}, {"tags": ["javascript", "reactjs", "typescript", "react-redux-form"], "comments": [{"owner": {"reputation": 5258, "user_id": 3162724, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/833457f6ec5ea62785cd84e0c312a8a4?s=128&d=identicon&r=PG", "display_name": "Niladri", "link": "https://stackoverflow.com/users/3162724/niladri"}, "edited": false, "score": 0, "creation_date": 1516730042, "post_id": 48407545, "comment_id": 83804966, "body": "you can check this anser <a href=\"https://stackoverflow.com/questions/38758518/how-to-override-a-parent-class-method-in-react\" title=\"how to override a parent class method in react\">stackoverflow.com/questions/38758518/&hellip;</a>"}], "answers": [{"comments": [{"owner": {"reputation": 4489, "user_id": 1315956, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/e1T3o.jpg?s=128&g=1", "display_name": "im1dermike", "link": "https://stackoverflow.com/users/1315956/im1dermike"}, "edited": false, "score": 0, "creation_date": 1516976627, "post_id": 48459772, "comment_id": 83919370, "body": "Wouldn&#39;t that fire on every keypress event and not just those fired by react-redux-form controls?  That would be undesirable, at the very least, for textareas."}, {"owner": {"reputation": 4489, "user_id": 1315956, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/e1T3o.jpg?s=128&g=1", "display_name": "im1dermike", "link": "https://stackoverflow.com/users/1315956/im1dermike"}, "edited": false, "score": 0, "creation_date": 1516980531, "post_id": 48459772, "comment_id": 83922086, "body": "I could easily throw a logic in there to only call <code>e.preventDefault()</code> if it&#39;s not a textarea, but there are inline inputs outside of RRF that I want enter to work for.  I need to only have this logic fired for these controls."}, {"owner": {"reputation": 1011, "user_id": 8526992, "user_type": "registered", "profile_image": "https://graph.facebook.com/10211932471741194/picture?type=large", "display_name": "Luca Taccagni", "link": "https://stackoverflow.com/users/8526992/luca-taccagni"}, "reply_to_user": {"reputation": 4489, "user_id": 1315956, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/e1T3o.jpg?s=128&g=1", "display_name": "im1dermike", "link": "https://stackoverflow.com/users/1315956/im1dermike"}, "edited": false, "score": 0, "creation_date": 1517214267, "post_id": 48459772, "comment_id": 83987022, "body": "ok is more clear now. I think you could use a <code>element.addEventListener</code> instead of <code>document</code>, where Element is your RRF."}], "tags": [], "owner": {"reputation": 1011, "user_id": 8526992, "user_type": "registered", "profile_image": "https://graph.facebook.com/10211932471741194/picture?type=large", "display_name": "Luca Taccagni", "link": "https://stackoverflow.com/users/8526992/luca-taccagni"}, "is_accepted": false, "score": 0, "last_activity_date": 1516963326, "creation_date": 1516963326, "answer_id": 48459772, "question_id": 48407545, "link": "https://stackoverflow.com/questions/48407545/extending-base-class-property-in-typescript/48459772#48459772", "title": "Extending base class property in Typescript", "body": "<p>try overriding the base javascript function <code>onKeyPress()</code> with an EventListener which wait for event trigger: </p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>document.addEventListener('keypress', yourCallBack, true);\r\n\r\nyourCallBack() {\r\n  // your code\r\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>Put inside app.component.ts and should be fine</p>\n"}, {"comments": [{"owner": {"reputation": 4489, "user_id": 1315956, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/e1T3o.jpg?s=128&g=1", "display_name": "im1dermike", "link": "https://stackoverflow.com/users/1315956/im1dermike"}, "edited": false, "score": 0, "creation_date": 1517236415, "post_id": 48472250, "comment_id": 84000866, "body": "Thanks for your response.  I have pretty strict typescript settings in my tsconfig for this project and when I implement your code, I get the following error:  <code>Types of property &#39;ref&#39; are incompatible.             Types of parameters &#39;instance&#39; and &#39;instance&#39; are incompatible.               Type &#39;Control&lt;{}&gt; | null&#39; is not assignable to type &#39;T | null&#39;.                 Type &#39;Control&lt;{}&gt;&#39; is not assignable to type &#39;T | null&#39;.                   Type &#39;Control&lt;{}&gt;&#39; is not assignable to type &#39;T&#39;.&#39;</code>"}, {"owner": {"reputation": 5535, "user_id": 9200817, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/91bdda21dbfbeabc9496aadb2d42d670?s=128&d=identicon&r=PG&f=1", "display_name": "casieber", "link": "https://stackoverflow.com/users/9200817/casieber"}, "reply_to_user": {"reputation": 4489, "user_id": 1315956, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/e1T3o.jpg?s=128&g=1", "display_name": "im1dermike", "link": "https://stackoverflow.com/users/1315956/im1dermike"}, "edited": false, "score": 0, "creation_date": 1517250185, "post_id": 48472250, "comment_id": 84009818, "body": "While I can&#39;t be entirely sure without seeing more of your code, are you doing <code>&lt;CustomControl ref=...</code> anywhere and trying to use it&#39;s ref? If so, would you try changing that to the <code>getRef</code> prop that react-redux-form exposes in their <a href=\"https://github.com/davidkpiano/react-redux-form/blob/master/react-redux-form.d.ts\" rel=\"nofollow noreferrer\">typings</a>"}], "tags": [], "owner": {"reputation": 5535, "user_id": 9200817, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/91bdda21dbfbeabc9496aadb2d42d670?s=128&d=identicon&r=PG&f=1", "display_name": "casieber", "link": "https://stackoverflow.com/users/9200817/casieber"}, "is_accepted": false, "score": 4, "last_activity_date": 1517023209, "creation_date": 1517023209, "answer_id": 48472250, "question_id": 48407545, "link": "https://stackoverflow.com/questions/48407545/extending-base-class-property-in-typescript/48472250#48472250", "title": "Extending base class property in Typescript", "body": "<p>Instead of extending <code>Control</code> with <code>CustomControl</code> you should wrap it.</p>\n\n<p>What you are really looking to do is modify the <code>render()</code> method of <code>Control</code> and add in a custom <code>onKeyPress</code>. The problem with extending <code>Control</code> is that you can only <strong>override</strong> <code>Control</code>'s render method and not make changes to pieces of it.</p>\n\n<p>However, if you <strong>wrap</strong> the <code>Control</code> component with your own component, you are able to influence it in the way you are looking to.</p>\n\n<p>If you look at the definition for <code>ControlProps&lt;T&gt;</code> you will see this:</p>\n\n<pre><code>export interface ControlProps&lt;T&gt; extends React.HTMLProps&lt;T&gt; {\n</code></pre>\n\n<p>Because it is extending <code>React.HTMLProps</code> it supports the <code>onKeyPress</code> method as a prop.</p>\n\n<p>If we combine all this information together, you can do something like:</p>\n\n<pre><code>import * as React from \"react\";\nimport { Control, ControlProps } from \"react-redux-form\";\n\nexport class CustomControl&lt;T&gt; extends React.Component&lt;ControlProps&lt;T&gt;&gt; {\n\n    onKeyPress(e: any) {\n        if (e.key === \"Enter\") {\n            e.preventDefault();\n        }\n    }\n\n    render() {\n        return &lt;Control {...this.props} onKeyPress={e =&gt; this.onKeyPress(e)} /&gt;;\n    }\n}\n</code></pre>\n\n<p>Please note that the above implementation will completely override any <code>onKeyPress</code> passed as a prop to <code>CustomControl</code> in favor of your custom <code>onKeyPress</code>.</p>\n\n<p>If you also wanted to call any <code>onKeyPress</code> that gets passed as a prop you could add the following to the bottom of your custom <code>onKeyPress</code> function:</p>\n\n<pre><code>// After custom logic call any onKeyPress passed to this\nthis.props.onKeyPress &amp;&amp; this.props.onKeyPress(e);\n</code></pre>\n"}], "owner": {"reputation": 4489, "user_id": 1315956, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/e1T3o.jpg?s=128&g=1", "display_name": "im1dermike", "link": "https://stackoverflow.com/users/1315956/im1dermike"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 902, "favorite_count": 1, "answer_count": 2, "score": 7, "last_activity_date": 1517023209, "creation_date": 1516728428, "last_edit_date": 1516893387, "question_id": 48407545, "link": "https://stackoverflow.com/questions/48407545/extending-base-class-property-in-typescript", "title": "Extending base class property in Typescript", "body": "<p>I'm trying to create a wrapper class for ReactReduxForm's <code>Control</code> component to add additional functionality.  Here is the base class/component definition:</p>\n\n<pre><code>export class Control&lt;T&gt; extends React.Component&lt;ControlProps&lt;T&gt;, {}&gt; {\n    static custom: React.ComponentClass&lt;ControlProps&lt;HTMLInputElement&gt;&gt;;\n    static input: React.ComponentClass&lt;ControlProps&lt;HTMLInputElement&gt;&gt;;\n    static text: React.ComponentClass&lt;ControlProps&lt;HTMLInputElement&gt;&gt;;\n    static textarea: React.ComponentClass&lt;ControlProps&lt;HTMLTextAreaElement&gt;&gt;;\n    static radio: React.ComponentClass&lt;ControlProps&lt;HTMLInputElement&gt;&gt;;\n    static checkbox: React.ComponentClass&lt;ControlProps&lt;HTMLInputElement&gt;&gt;;\n    static file: React.ComponentClass&lt;ControlProps&lt;HTMLInputElement&gt;&gt;;\n    static select: React.ComponentClass&lt;ControlProps&lt;HTMLSelectElement&gt;&gt;;\n    static reset: React.ComponentClass&lt;ControlProps&lt;HTMLButtonElement&gt;&gt;;\n    static button: React.ComponentClass&lt;ControlProps&lt;HTMLButtonElement&gt;&gt;;\n}\n</code></pre>\n\n<p>I would like to override <code>onKeyPress</code> functionality for all types of controls (eg. input, text, textarea, etc.) which are static properties of the base <code>Control</code> class/component.</p>\n\n<p>Here is my skeleton definition for my derived class:</p>\n\n<pre><code>import * as React from \"react\";\nimport { Control } from \"react-redux-form\";\n\nexport class CustomControl&lt;T&gt; extends Control&lt;T&gt; { }\n</code></pre>\n\n<p>I would like the following functionality to apply to all control types (eg. text, select, etc.) of <code>CustomControl</code>:</p>\n\n<pre><code>  onKeyPress(e: any) {\n    if (e.key === \"Enter\") {\n      e.preventDefault();\n    }\n  }\n</code></pre>\n\n<p>How can I have my `onKeyPress() functionality be used?</p>\n"}, {"tags": ["json", "angular", "typescript", "angular5"], "answers": [{"tags": [], "owner": {"reputation": 24915, "user_id": 449897, "user_type": "registered", "accept_rate": 99, "profile_image": "https://i.stack.imgur.com/ng43Y.jpg?s=128&g=1", "display_name": "santosh singh", "link": "https://stackoverflow.com/users/449897/santosh-singh"}, "is_accepted": true, "score": 1, "last_activity_date": 1516727802, "creation_date": 1516727802, "answer_id": 48407386, "question_id": 48407332, "link": "https://stackoverflow.com/questions/48407332/angular-5-cannot-display-interface-object-to-html/48407386#48407386", "title": "Angular 5 cannot display interface object to html", "body": "<p>Your server returns json array. Try following code snippet</p>\n\n<pre><code>&lt;section id=\"profile\"&gt;\n&lt;div class=\"container\"&gt;\n    &lt;div class=\"row\"&gt;\n        &lt;div class=\"col\"&gt;\n            &lt;h2&gt;{{userProfile[0].userId}}&lt;/h2&gt;\n            &lt;h2&gt;{{userProfile[0].profile.dsplayName}}&lt;/h2&gt;\n        &lt;/div&gt;\n    &lt;/div&gt;\n&lt;/div&gt;\n</code></pre>\n"}], "owner": {"reputation": 275, "user_id": 9109094, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/923d82a14bc7a477823c1dee37ab1f75?s=128&d=identicon&r=PG&f=1", "display_name": "Jonathan Lightbringer", "link": "https://stackoverflow.com/users/9109094/jonathan-lightbringer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 903, "favorite_count": 0, "accepted_answer_id": 48407386, "answer_count": 1, "score": 1, "last_activity_date": 1516727802, "creation_date": 1516727610, "question_id": 48407332, "link": "https://stackoverflow.com/questions/48407332/angular-5-cannot-display-interface-object-to-html", "title": "Angular 5 cannot display interface object to html", "body": "<p>My server gives me json that looks like this.</p>\n\n<pre><code>[\n{\n    \"userId\": 11,\n    \"positionId\": 2,\n    \"emailAddress\": \"ada.lovelace@gmail.com\",\n    \"username\": \"adalovelace\",\n    \"createdBy\": 1,\n    \"createdAt\": \"2018-01-06 13:43:18\",\n    \"updatedBy\": null,\n    \"updatedAt\": \"2018-01-06 13:43:18\",\n    \"profile\": {\n        \"userProfileId\": 1,\n        \"userId\": 11,\n        \"displayName\": \"adalovelace\",\n        \"location\": null,\n        \"title\": null,\n        \"imageUrl\": null,\n        \"about\": null,\n        \"threadCount\": 0,\n        \"threadPostCount\": 1,\n        \"threadKarma\": 0,\n        \"threadPostKarma\": 2\n    }\n}\n]\n</code></pre>\n\n<p>my .ts files looks like this, I have removed a lot of unrelated codes.</p>\n\n<pre><code>import { UserService } from '../_shared/services/user.service';\nimport { UserInterface } from '../_shared/interfaces/user.interface';\n\nexport class ProfileComponent implements OnInit, OnDestroy {\n\nprivate currentUser = &lt;UserInterface&gt;{};\n\npublic username: string;\n\npublic userProfile = &lt;UserInterface&gt;{};\n\nngOnInit() {\n    this.userSubcription = this.userService.showProfile(this.username)\n        .subscribe((userProfile: UserInterface) =&gt; {\n            this.userProfile = userProfile;\n            console.log(this.userProfile); // has value!\n        }, error =&gt; {\n            console.log(error);\n        });\n}\n\n}\n</code></pre>\n\n<p>.html file</p>\n\n<pre><code>&lt;section id=\"profile\"&gt;\n&lt;div class=\"container\"&gt;\n    &lt;div class=\"row\"&gt;\n        &lt;div class=\"col\"&gt;\n            &lt;h2&gt;{{userProfile.userId}}&lt;/h2&gt;\n            &lt;h2&gt;{{userProfile.profile.dsplayName}}&lt;/h2&gt;\n        &lt;/div&gt;\n    &lt;/div&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p></p>\n\n<p>It does not show me anything. userProfile.profile.dsplayName even gives me error. It says undefined.</p>\n\n<p>User interface looks like this.</p>\n\n<pre><code>import { UserProfileInterface } from './user-profile.interface';\n\nexport interface UserInterface {\nuserId: number;\ntoken: string;\nusername: string;\nemailAddress: string;\ncreatedBy: string;\ncreatedAt: string;\nupdatedBy: string;\nupdatedAt: string;\n\npositionId: number;\npassword: string;\nconfirmPassword: string;\n\nprofile: UserProfileInterface;\n}\n</code></pre>\n\n<p>Is it because I'm using interface? I have another similar page that uses interface with interface array inside but it works. </p>\n"}, {"tags": ["angular", "typescript"], "comments": [{"owner": {"reputation": 630270, "user_id": 571407, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2f0d9dec16bae1e06552af55ddefc11f?s=128&d=identicon&r=PG", "display_name": "JB Nizet", "link": "https://stackoverflow.com/users/571407/jb-nizet"}, "edited": false, "score": 4, "creation_date": 1516727846, "post_id": 48407143, "comment_id": 83803735, "body": "If you have no import or export in your file, it&#39;s not a module, and what you define in it clutters the global namespace. If you ever need to import some type in one of these files, you&#39;re doomed. And if you ever have two different interfaces with the same name, you&#39;re doomed."}, {"owner": {"reputation": 10321, "user_id": 215552, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/26bda02894d869c95f620de4b7cd386d?s=128&d=identicon&r=PG", "display_name": "Heretic Monkey", "link": "https://stackoverflow.com/users/215552/heretic-monkey"}, "edited": false, "score": 0, "creation_date": 1516727846, "post_id": 48407143, "comment_id": 83803736, "body": "Interfaces exist only for the compiler to validate against; they don&#39;t exist at runtime. You do not need to export/import them. You can, of course, and it can make it easier to keep track of where the interface is."}, {"owner": {"reputation": 761, "user_id": 292110, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/e9b4192cd053fc574bfc6a58fce5a4d1?s=128&d=identicon&r=PG", "display_name": "Tony Smith", "link": "https://stackoverflow.com/users/292110/tony-smith"}, "reply_to_user": {"reputation": 630270, "user_id": 571407, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2f0d9dec16bae1e06552af55ddefc11f?s=128&d=identicon&r=PG", "display_name": "JB Nizet", "link": "https://stackoverflow.com/users/571407/jb-nizet"}, "edited": false, "score": 0, "creation_date": 1516731838, "post_id": 48407143, "comment_id": 83805951, "body": "@JB Nizet - Not really though since all interface code is removed at compile. It solely exists for the IDE. Not sure why I would be doomed to import files into one of these, I do it just fine. I did, at one point, have 2 interfaces named the same and it did cause a compile error but I am not sure that wouldn&#39;t happen anyway."}, {"owner": {"reputation": 761, "user_id": 292110, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/e9b4192cd053fc574bfc6a58fce5a4d1?s=128&d=identicon&r=PG", "display_name": "Tony Smith", "link": "https://stackoverflow.com/users/292110/tony-smith"}, "edited": false, "score": 0, "creation_date": 1516732133, "post_id": 48407143, "comment_id": 83806127, "body": "Angular CLI: 1.6.4 Node: 9.4.0 OS: darwin x64"}, {"owner": {"reputation": 761, "user_id": 292110, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/e9b4192cd053fc574bfc6a58fce5a4d1?s=128&d=identicon&r=PG", "display_name": "Tony Smith", "link": "https://stackoverflow.com/users/292110/tony-smith"}, "edited": false, "score": 0, "creation_date": 1516732506, "post_id": 48407143, "comment_id": 83806330, "body": "Looks like this is a duplicate question. <a href=\"https://stackoverflow.com/questions/42233987/how-to-configure-custom-global-interfaces-d-ts-files-for-typescript\" title=\"how to configure custom global interfaces d ts files for typescript\">stackoverflow.com/questions/42233987/&hellip;</a>"}, {"owner": {"reputation": 630270, "user_id": 571407, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2f0d9dec16bae1e06552af55ddefc11f?s=128&d=identicon&r=PG", "display_name": "JB Nizet", "link": "https://stackoverflow.com/users/571407/jb-nizet"}, "edited": false, "score": 0, "creation_date": 1516732538, "post_id": 48407143, "comment_id": 83806350, "body": "Suppose you have a main.ts file using the interface Bar defined in bar.ts, without importing it since it&#39;s not exported. Now Bar needs an additional field of type Foo which is a class exported from foo.ts. So bar.ts now needs to import Foo from foo.ts, and becomes a module. And Bar is thus not visible globally anymore. So it now needs to be imported in main.ts and in every file using it. If you had exported it from the start, you would not have to add the missing import from all the files using Bar and assuming it&#39;s global."}], "answers": [{"comments": [{"owner": {"reputation": 761, "user_id": 292110, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/e9b4192cd053fc574bfc6a58fce5a4d1?s=128&d=identicon&r=PG", "display_name": "Tony Smith", "link": "https://stackoverflow.com/users/292110/tony-smith"}, "edited": false, "score": 0, "creation_date": 1516731347, "post_id": 48407623, "comment_id": 83805695, "body": "Sometimes....I get a compile error and the app still works. However, if I shut down the server and start it again (full re-compile?) all the errors go away."}, {"owner": {"reputation": 1533, "user_id": 7962294, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-Dbct-dXHVaY/AAAAAAAAAAI/AAAAAAAABSY/otTGF437UL8/photo.jpg?sz=128", "display_name": "k harish", "link": "https://stackoverflow.com/users/7962294/k-harish"}, "reply_to_user": {"reputation": 761, "user_id": 292110, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/e9b4192cd053fc574bfc6a58fce5a4d1?s=128&d=identicon&r=PG", "display_name": "Tony Smith", "link": "https://stackoverflow.com/users/292110/tony-smith"}, "edited": false, "score": 0, "creation_date": 1516767773, "post_id": 48407623, "comment_id": 83819347, "body": "yes, [link] (<a href=\"https://stackoverflow.com/questions/42233987/how-to-configure-custom-global-interfaces-d-ts-files-for-typescript\" title=\"how to configure custom global interfaces d ts files for typescript\">stackoverflow.com/questions/42233987/&hellip;</a>) sums up why this works. As a good practice, I feel avoiding globals are better way as it might confuse other developers who will work on the project as they need to search for the interface."}], "tags": [], "owner": {"reputation": 1533, "user_id": 7962294, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-Dbct-dXHVaY/AAAAAAAAAAI/AAAAAAAABSY/otTGF437UL8/photo.jpg?sz=128", "display_name": "k harish", "link": "https://stackoverflow.com/users/7962294/k-harish"}, "is_accepted": false, "score": 0, "last_activity_date": 1516728713, "creation_date": 1516728713, "answer_id": 48407623, "question_id": 48407143, "link": "https://stackoverflow.com/questions/48407143/why-dont-i-need-to-export-import-typescript-interfaces/48407623#48407623", "title": "Why don&#39;t I need to export/import TypeScript Interfaces?", "body": "<p>As it is an Angular 5 application I believe you are using angular_cli. I checked using interface without exporting, but, I did get an error on serving angular project in the terminal. Please check the terminal.</p>\n"}], "owner": {"reputation": 761, "user_id": 292110, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/e9b4192cd053fc574bfc6a58fce5a4d1?s=128&d=identicon&r=PG", "display_name": "Tony Smith", "link": "https://stackoverflow.com/users/292110/tony-smith"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 772, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1516728713, "creation_date": 1516726895, "last_edit_date": 1516727023, "question_id": 48407143, "link": "https://stackoverflow.com/questions/48407143/why-dont-i-need-to-export-import-typescript-interfaces", "title": "Why don&#39;t I need to export/import TypeScript Interfaces?", "body": "<p>I created an Angular 5 application along with my coworker. I created a folder for all my interfaces and grouped them by feature. However, I did not include any export notation on them and, when using them, I never have to import them...they just exist and don't create any compile errors. I like it this way because it keeps the code cleaner but am I just taking advantage on some bug? My coworker did it the \"right\" way and needs to import anytime he wants to use an interface. Any ideas? How should you create interfaces that exist in separate files? Thanks!</p>\n\n<p><a href=\"https://i.stack.imgur.com/xET95.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/xET95.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["javascript", "node.js", "typescript", "websocket", "socket.io"], "answers": [{"comments": [{"owner": {"reputation": 691, "user_id": 6179613, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/d6b678804a2dabaaeff3c61dddd00655?s=128&d=identicon&r=PG&f=1", "display_name": "cbrawl", "link": "https://stackoverflow.com/users/6179613/cbrawl"}, "edited": false, "score": 0, "creation_date": 1516726212, "post_id": 48406818, "comment_id": 83802656, "body": "That makes sense. I am sending the note ID to make sure only the correct note is updated with the text. The issue is that regardless of which note is actually updated in the database, all clients currently connected to that socket will get the output of the updated text. I can still make sure only the same note is updated, but why receive 200 responses/minute that don&#39;t relate to your note? What is best practice for this? Should I keep track of which client is on which note and somehow only push to those clients editing the same note? Thanks for your help."}, {"owner": {"reputation": 574461, "user_id": 816620, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/Xu7hp.jpg?s=128&g=1", "display_name": "jfriend00", "link": "https://stackoverflow.com/users/816620/jfriend00"}, "reply_to_user": {"reputation": 691, "user_id": 6179613, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/d6b678804a2dabaaeff3c61dddd00655?s=128&d=identicon&r=PG&f=1", "display_name": "cbrawl", "link": "https://stackoverflow.com/users/6179613/cbrawl"}, "edited": false, "score": 1, "creation_date": 1516726376, "post_id": 48406818, "comment_id": 83802780, "body": "@cbrawl - You can use the server-side concept of &quot;rooms&quot; to manage who gets sent which data.  If your server knows which clients are interested in which notes, it can add that client&#39;s socket to a room who&#39;s name is derived from the id of the note.  A connection can be in more than one room.  Then, when a note is modified, you can broadcast to all clients in that room with <code>io.to(roomId).emit(...)</code>.  You will have to maintain the rooms so a client is added or removed from a room for a specific note appropriately.  See <code>socket.join()</code> and <code>socket.leave()</code> on the server."}, {"owner": {"reputation": 691, "user_id": 6179613, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/d6b678804a2dabaaeff3c61dddd00655?s=128&d=identicon&r=PG&f=1", "display_name": "cbrawl", "link": "https://stackoverflow.com/users/6179613/cbrawl"}, "edited": false, "score": 0, "creation_date": 1516726568, "post_id": 48406818, "comment_id": 83802909, "body": "Thank you, that answers my question. I will investigate rooms."}], "tags": [], "owner": {"reputation": 574461, "user_id": 816620, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/Xu7hp.jpg?s=128&g=1", "display_name": "jfriend00", "link": "https://stackoverflow.com/users/816620/jfriend00"}, "is_accepted": true, "score": 2, "last_activity_date": 1516725802, "creation_date": 1516725802, "answer_id": 48406818, "question_id": 48406537, "link": "https://stackoverflow.com/questions/48406537/multiple-instances-of-socket-using-socket-io/48406818#48406818", "title": "Multiple instances of socket using Socket.io", "body": "<p>There's no need to use a separate socket for editing a different note.  When you send an edit for a note, you can just send an id for the note with the edit so that when a server receives an edit, it knows exactly which note the edit belongs to.</p>\n\n<p>If you want more specific help, you will have to show us your actual code.</p>\n\n<blockquote>\n  <p>If two people are editing two different notes, I would expect them to use different sockets.</p>\n</blockquote>\n\n<p>That is not required and is probably not desirable either.  You can send messages retaining to many different notes over the same socket.  A socket is merely a communications channel.  It doesn't have to be tied to a specific piece of data.  You just need to include with the message you are sending some sort of identifier so the recipient of the message knows which data this message pertains to.</p>\n"}], "owner": {"reputation": 691, "user_id": 6179613, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/d6b678804a2dabaaeff3c61dddd00655?s=128&d=identicon&r=PG&f=1", "display_name": "cbrawl", "link": "https://stackoverflow.com/users/6179613/cbrawl"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 522, "favorite_count": 0, "accepted_answer_id": 48406818, "answer_count": 1, "score": 0, "last_activity_date": 1516725802, "creation_date": 1516724854, "question_id": 48406537, "link": "https://stackoverflow.com/questions/48406537/multiple-instances-of-socket-using-socket-io", "title": "Multiple instances of socket using Socket.io", "body": "<p>In a part of my web app there are items with detailed notes that can be edited by several people at once. This was causing issues so I decided to implement socket.io so that changes would be pushed in real time. It is working great. The issue is that I am using the same socket for all notes. If two people are editing two different notes, I would expect them to use different sockets. I don't even know how to search this issue. I would imagine each socket is unique by note ID. Any suggestions?</p>\n"}, {"tags": ["angular", "typescript", "query-parameters"], "comments": [{"owner": {"reputation": 1166, "user_id": 5631150, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6091d471cdef4355037e29f2624fe347?s=128&d=identicon&r=PG", "display_name": "Gianluca Paris", "link": "https://stackoverflow.com/users/5631150/gianluca-paris"}, "edited": false, "score": 0, "creation_date": 1516723977, "post_id": 48406117, "comment_id": 83801149, "body": "Can you please console.log(params) and show us the result? Thank you"}, {"owner": {"reputation": 4869, "user_id": 3829417, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/93c7e7ffaa757fcc153d952443adfaa0?s=128&d=identicon&r=PG&f=1", "display_name": "GregH", "link": "https://stackoverflow.com/users/3829417/gregh"}, "reply_to_user": {"reputation": 1166, "user_id": 5631150, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6091d471cdef4355037e29f2624fe347?s=128&d=identicon&r=PG", "display_name": "Gianluca Paris", "link": "https://stackoverflow.com/users/5631150/gianluca-paris"}, "edited": false, "score": 0, "creation_date": 1516724120, "post_id": 48406117, "comment_id": 83801248, "body": "@GianlucaParis it is an empty array <code>{}</code>"}, {"owner": {"reputation": 1166, "user_id": 5631150, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6091d471cdef4355037e29f2624fe347?s=128&d=identicon&r=PG", "display_name": "Gianluca Paris", "link": "https://stackoverflow.com/users/5631150/gianluca-paris"}, "edited": false, "score": 0, "creation_date": 1516724313, "post_id": 48406117, "comment_id": 83801369, "body": "Also your route path should be defined as: path: &#39;confirm-email/:token/:userId&#39;, is it right?"}], "answers": [{"tags": [], "owner": {"reputation": 2611, "user_id": 5504034, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/sWisd.jpg?s=128&g=1", "display_name": "Armen Vardanyan", "link": "https://stackoverflow.com/users/5504034/armen-vardanyan"}, "is_accepted": true, "score": 4, "last_activity_date": 1516724356, "creation_date": 1516724356, "answer_id": 48406338, "question_id": 48406117, "link": "https://stackoverflow.com/questions/48406117/angular2-issues-retrieving-url-parameters/48406338#48406338", "title": "Angular2 issues retrieving URL parameters", "body": "<p>You need to subscribe to <code>activatedRoute.queryParams</code>, not <code>params</code>, obviously, as you pass data through query parameters, not predefined params ('my-url?key=value' instead of 'my-url/:someParam'). Just like this:</p>\n\n<pre><code>this.activatedRoute.queryParams.subscribe((params: Params) =&gt; { //etc\n</code></pre>\n"}], "owner": {"reputation": 4869, "user_id": 3829417, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/93c7e7ffaa757fcc153d952443adfaa0?s=128&d=identicon&r=PG&f=1", "display_name": "GregH", "link": "https://stackoverflow.com/users/3829417/gregh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 144, "favorite_count": 0, "accepted_answer_id": 48406338, "answer_count": 1, "score": 0, "last_activity_date": 1516724553, "creation_date": 1516723729, "question_id": 48406117, "link": "https://stackoverflow.com/questions/48406117/angular2-issues-retrieving-url-parameters", "title": "Angular2 issues retrieving URL parameters", "body": "<p>I am currently implementing a confirm email process in my angular 2 application (.net core 2 backend). The workflow currently goes: user registers -> they are sent an email to confirm their account -> they click the link -> they're directed to an angular component that SHOULD read the userId and generated token. The Url in the browser is <code>http://localhost:35000/confirm-email?token=CfDJ8OR7TVlXC69LsUgYal539cq4%2FcxvIXYoyaXcvLXQofMfK8d%2Bp6JE02IBATC49meM8bNSq9pgzq%2B7MspZLt7h1hfetLF2iVkXRkQZHFiJluhRpJbZ7kkafpyrbXjs82KFjkzVSOEDGV4sC6x4%2Bd0i0SXejfK%2F%2FpZgKTnOhdvB%2FwbLK5iauwdDXnjV7ZN7LHA0HInpvBPF2OOpdjJ%2FXicRLYLq5ic4Pz7SnXz0iwOTj4HJQIZAX%2FA1DqgvrPR6vuaOwQ%3D%3D&amp;userId=5da26d4c-f737-481c-9142-affd89e8e9d6</code></p>\n\n<p>which routes me to the confirm-email component below however I am unable to read my params <code>token</code> and <code>userId</code> properly - they are always undefined. The simplified code for my angular component is below:</p>\n\n<pre><code>export class ConfirmEmailComponent implements OnInit {\n    emailConfirmed: boolean = false;\n\n    constructor(private userService: UserService,\n        private router: Router,\n        private activatedRoute: ActivatedRoute) { }\n\n    ngOnInit() {\n        this.activatedRoute.params.subscribe((params: Params) =&gt; {\n          let token = params['token'];\n          let userId = params['userId'];\n\n          this.userService.confirmEmail(token, userId).subscribe(\n            (data) =&gt; {\n              this.emailConfirmed = true;\n            });\n        });\n    }\n}\n</code></pre>\n"}, {"tags": ["typescript", "ionic-framework", "ionic3"], "answers": [{"tags": [], "owner": {"reputation": 2264, "user_id": 1272105, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/6ce5549664fbbc36280e71ed2bc3ef2c?s=128&d=identicon&r=PG", "display_name": "Sasha Grievus", "link": "https://stackoverflow.com/users/1272105/sasha-grievus"}, "is_accepted": false, "score": 0, "last_activity_date": 1516728586, "creation_date": 1516728586, "answer_id": 48407586, "question_id": 48406066, "link": "https://stackoverflow.com/questions/48406066/how-to-pass-a-parameter-to-a-subscribe-function-used-to-get-the-content-of-an-as/48407586#48407586", "title": "How to pass a parameter to a subscribe function used to get the content of an assets file in typescript/ionic 3?", "body": "<p>One solution, considering that in data['url'] there is the full url of the request, is</p>\n\n<pre><code>var fileIndex=[4,5,1]; \nfor (i = 0; i &lt; this.fileIndex.length; i++) { \n  this.http.get('assets/data/file_'+this.fileIndex[i]+'.txt,' {\n        params: { fileNumber: this.fileIndex[i] }\n    }).subscribe(data=&gt;{\n        let obj = data['_body'];\n        console.log(\"obj \"+JSON.stringify(obj));\n        console.log(\"This is file number \"+\nthis.getQueryString(\"fileNumber\",data['url']));\n      });\n}\n\ngetQueryString = function ( field, url ) {\n    var href = url ? url : window.location.href;\n    var reg = new RegExp( '[?&amp;]' + field + '=([^&amp;#]*)', 'i' );\n    var string = reg.exec(href);\n    return string ? string[1] : null;\n  };\n</code></pre>\n\n<p>but doesn't seems quite elegant. </p>\n"}], "owner": {"reputation": 2264, "user_id": 1272105, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/6ce5549664fbbc36280e71ed2bc3ef2c?s=128&d=identicon&r=PG", "display_name": "Sasha Grievus", "link": "https://stackoverflow.com/users/1272105/sasha-grievus"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 31, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1516728586, "creation_date": 1516723566, "question_id": 48406066, "link": "https://stackoverflow.com/questions/48406066/how-to-pass-a-parameter-to-a-subscribe-function-used-to-get-the-content-of-an-as", "title": "How to pass a parameter to a subscribe function used to get the content of an assets file in typescript/ionic 3?", "body": "<p>I know I can get the content of a text file inside my assets directory in typescript like</p>\n\n<pre><code>this.http.get('assets/data/file_1.txt')\n.subscribe(data=&gt;{\n   let obj = data['_body'];\n   console.log(\"obj \"+JSON.stringify(obj)); // This log the content of the file\n});\n</code></pre>\n\n<p>It is possible to pass a parameter/value to this request?</p>\n\n<p>I mean, in my case i have several file (file_4.txt,file_5.txt,file_1.txt) and I want to repeat the request for any of them (number and indexes could be variable in time). So my code sounds like</p>\n\n<pre><code>var fileIndex=[4,5,1]; \nfor (i = 0; i &lt; this.fileIndex.length; i++) { \n  this.http.get('assets/data/file_'+this.fileIndex[i]+'.txt')\n  .subscribe(data=&gt;{\n        let obj = data['_body'];\n        console.log(\"obj \"+JSON.stringify(obj));\n        console.log(\"This is file number \"+this.fileIndex[i]); // problem is here\n      });\n}\n</code></pre>\n\n<p>I can't log what the file number is for any of the three requests generated this way.</p>\n\n<p>Logging this.fileIndex[i] inside subscribe returns \"undefined\" and I can imagine why. The get request is asynchronous and can't access the values of i. Maybe also of fileIndex, isn't?</p>\n\n<p>So, I can pass a parameter/value to the request so that I can get it inside the subscribe? Or, anyway, how may I can access the this.fileIndex[i] value inside the subscribe function?</p>\n"}, {"tags": ["javascript", "angular", "typescript", "ng-bootstrap"], "comments": [{"owner": {"reputation": 1011, "user_id": 5152481, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/858cb103246899f4ea409e12803c33c2?s=128&d=identicon&r=PG", "display_name": "G Man", "link": "https://stackoverflow.com/users/5152481/g-man"}, "edited": false, "score": 0, "creation_date": 1602853604, "post_id": 48405588, "comment_id": 113858907, "body": "Remove the <code>NgbModule.forRoot(),</code> import in <code>AppModule</code>. The <code>NgbModule</code> is now imported with <code>MainNavbarModule</code>."}], "answers": [{"comments": [{"owner": {"reputation": 4159, "user_id": 6052255, "user_type": "registered", "accept_rate": 42, "profile_image": "https://graph.facebook.com/10153876441400115/picture?type=large", "display_name": "David Anthony Acosta", "link": "https://stackoverflow.com/users/6052255/david-anthony-acosta"}, "reply_to_user": {"reputation": 77, "user_id": 7468146, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/c07b27208e838577f488c9379bac8623?s=128&d=identicon&r=PG&f=1", "display_name": "Alexander Bondarenko", "link": "https://stackoverflow.com/users/7468146/alexander-bondarenko"}, "edited": false, "score": 0, "creation_date": 1516804520, "post_id": 48405731, "comment_id": 83839573, "body": "Hmmm...try this. Add a constructor to your module class and add this: import { NgbModule, NgbDropdownConfig} from &quot;@ng-bootstrap/ng-bootstrap&quot;; and in the constructor:  export class YourModule{     constructor(dropdownConfig: NgbDropdownConfig) {         dropdownConfig.placement = [&quot;bottom-left&quot;, &quot;top-left&quot;, &quot;bottom-right&quot;, &quot;top-right&quot;];     } }"}], "tags": [], "owner": {"reputation": 4159, "user_id": 6052255, "user_type": "registered", "accept_rate": 42, "profile_image": "https://graph.facebook.com/10153876441400115/picture?type=large", "display_name": "David Anthony Acosta", "link": "https://stackoverflow.com/users/6052255/david-anthony-acosta"}, "is_accepted": false, "score": 0, "last_activity_date": 1516722599, "creation_date": 1516722599, "answer_id": 48405731, "question_id": 48405588, "link": "https://stackoverflow.com/questions/48405588/ng-bootstrap-in-exported-module/48405731#48405731", "title": "ng-bootstrap in exported module", "body": "<p>Any sub modules that use ngbmodule should include it like so:</p>\n\n<pre><code>imports: [NgbModule]\n</code></pre>\n\n<p>Your MAIN app module needs to hav eit declared like this:</p>\n\n<pre><code>imports: [NgbModule.forRoot()]\n</code></pre>\n\n<p>You should not have it as an export in your navbar module. Apart from that export, it seems like you imported it correctly based on what I said above. I would try removing that export.</p>\n"}], "owner": {"reputation": 77, "user_id": 7468146, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/c07b27208e838577f488c9379bac8623?s=128&d=identicon&r=PG&f=1", "display_name": "Alexander Bondarenko", "link": "https://stackoverflow.com/users/7468146/alexander-bondarenko"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 880, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1516722599, "creation_date": 1516722118, "question_id": 48405588, "link": "https://stackoverflow.com/questions/48405588/ng-bootstrap-in-exported-module", "title": "ng-bootstrap in exported module", "body": "<p>So I have a nav-bar module that used ng-bootstrap:</p>\n\n<pre><code>import {NgModule, NgZone} from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport {NavigationComponent} from \"./components/navigation/navigation.component\";\nimport {NavMenuComponent} from \"./components/nav-menu/nav-menu.component\";\nimport {MainMenuComponent} from \"./components/main-menu/main-menu.component\";\nimport {NgbModule} from \"@ng-bootstrap/ng-bootstrap\";\n\n@NgModule({\n  imports: [\n    CommonModule,\n    NgbModule\n  ],\n  declarations: [\n    NavigationComponent,\n    NavMenuComponent,\n    MainMenuComponent\n  ],\n  exports: [\n    NavigationComponent,\n    NavMenuComponent,\n    MainMenuComponent,\n    CommonModule,\n    NgbModule\n  ],\n  providers: [{ provide: NgZone, useFactory: () =&gt; new NgZone({}) }]\n})\nexport class MainNavbarModule { }\n</code></pre>\n\n<p>It is placed in another directory (project), so the structure is:</p>\n\n<ul>\n<li>Main directory\n\n<ul>\n<li>App1 (here is placed nav-bar module)</li>\n<li>App2 (here I want to import it)</li>\n</ul></li>\n</ul>\n\n<p>Here is App2 module:</p>\n\n<pre><code>    import {BrowserModule} from '@angular/platform-browser';\nimport {NgModule, NgZone} from '@angular/core';\nimport {NgbModule} from '@ng-bootstrap/ng-bootstrap';\nimport {MainNavbarModule} from '@front-core/src/app/shared/main-navbar.module';\nimport {AppComponent} from './app.component';\nimport {AppRoutes} from './app.routes';\nimport {CommonModule} from '@angular/common';\n\n@NgModule({\n  declarations: [AppComponent],\n  imports: [\n    BrowserModule,\n    NgbModule.forRoot(),\n    CommonModule,\n    AppRoutes,\n    MainNavbarModule\n  ],\n  bootstrap: [AppComponent]\n})\nexport class AppModule {\n}\n</code></pre>\n\n<p><code>@front-core</code> is a path from tsconfig.app.json\nHere it is:</p>\n\n<pre><code>{\n  \"extends\": \"../tsconfig.json\",\n  \"compilerOptions\": {\n    \"outDir\": \"../out-tsc/app\",\n    \"baseUrl\": \".\",\n    \"module\": \"es2015\",\n    \"types\": [],\n    \"paths\": {\n      \"@front-core/*\": [\"../../front-core/*\"]\n    }\n  },\n  \"exclude\": [\n    \"test.ts\",\n    \"**/*.spec.ts\"\n  ]\n}\n</code></pre>\n\n<p>So the problem is that when I include this component into template of App2, the error is occurred:</p>\n\n<pre><code>   ERROR Error: StaticInjectorError[NgbDropdownConfig]: \n  StaticInjectorError[NgbDropdownConfig]: \n    NullInjectorError: No provider for NgbDropdownConfig!\n    at _NullInjector.get (core.js:993)\n    at resolveToken (core.js:1281)\n    at tryResolveToken (core.js:1223)\n    at StaticInjector.get (core.js:1094)\n    at resolveToken (core.js:1281)\n    at tryResolveToken (core.js:1223)\n    at StaticInjector.get (core.js:1094)\n    at resolveNgModuleDep (core.js:10878)\n    at NgModuleRef_.get (core.js:12110)\n    at resolveDep (core.js:12608)\n</code></pre>\n"}, {"tags": ["angular", "typescript", "angular-cli"], "answers": [{"comments": [{"owner": {"reputation": 2597, "user_id": 1542325, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/018fa601cfdf1046dd3a4b0d5ff57618?s=128&d=identicon&r=PG", "display_name": "jmls", "link": "https://stackoverflow.com/users/1542325/jmls"}, "edited": false, "score": 0, "creation_date": 1516722416, "post_id": 48405616, "comment_id": 83799994, "body": "Hmm. Perhaps I have been misled (or more likely, misunderstood) by Angular-cli - their default project has a tsconfig.json in /, and another tsconfig.app.json in &quot;/src/app&quot; which extends the config in root"}, {"owner": {"reputation": 26154, "user_id": 5436257, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/iGuaK.jpg?s=128&g=1", "display_name": "Joe Clay", "link": "https://stackoverflow.com/users/5436257/joe-clay"}, "edited": false, "score": 0, "creation_date": 1516722497, "post_id": 48405616, "comment_id": 83800064, "body": "You definitely can have multiple <code>tsconfig.json</code> files in a single project, using config inheritance. Whether you should in this case is another matter."}, {"owner": {"reputation": 2597, "user_id": 1542325, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/018fa601cfdf1046dd3a4b0d5ff57618?s=128&d=identicon&r=PG", "display_name": "jmls", "link": "https://stackoverflow.com/users/1542325/jmls"}, "edited": false, "score": 0, "creation_date": 1516722553, "post_id": 48405616, "comment_id": 83800114, "body": "yeah, I think a node project needs a module of &quot;commonjs&quot; whereas angular needs &quot;es2015&quot;"}], "tags": [], "owner": {"reputation": 4159, "user_id": 6052255, "user_type": "registered", "accept_rate": 42, "profile_image": "https://graph.facebook.com/10153876441400115/picture?type=large", "display_name": "David Anthony Acosta", "link": "https://stackoverflow.com/users/6052255/david-anthony-acosta"}, "is_accepted": false, "score": 0, "last_activity_date": 1516722200, "creation_date": 1516722200, "answer_id": 48405616, "question_id": 48405466, "link": "https://stackoverflow.com/questions/48405466/sharing-code-with-typescript-node-and-angular/48405616#48405616", "title": "Sharing code with typescript, node and angular", "body": "<p>You should not have a tsconfig.json file in every folder. The tsconfig.json is used as the TypeScript compiler configuration. That is, it is the file that basically tells angular how to compile everything to javascript, since browsers can't run Typescript, which is what Angular uses. You only should have one file for the configuration, and it tells the entire app how to compile. As for the structure, it can be setup in any way that you like, but your config must point to the correct files.</p>\n"}, {"tags": [], "owner": {"reputation": 35, "user_id": 4083171, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3ee55c318d9b2e109734257bf2fefc93?s=128&d=identicon&r=PG&f=1", "display_name": "DormaPadre", "link": "https://stackoverflow.com/users/4083171/dormapadre"}, "is_accepted": false, "score": 1, "last_activity_date": 1595016854, "last_edit_date": 1595016854, "creation_date": 1516742732, "answer_id": 48411085, "question_id": 48405466, "link": "https://stackoverflow.com/questions/48405466/sharing-code-with-typescript-node-and-angular/48411085#48411085", "title": "Sharing code with typescript, node and angular", "body": "<p>you can definitly have multiple typescript definitions for each folder.\nFor node to be able to have common functionionalty like <code>fs</code> or <code>path</code> you will need to set the module to commonjs.</p>\n<p>I think you can use <a href=\"https://www.typescriptlang.org/docs/handbook/module-resolution.html#virtual-directories-with-rootdirs\" rel=\"nofollow noreferrer\"><code>rootDirs</code></a> in this scenario.</p>\n<p><a href=\"https://github.com/gdi2290/angular-starter/issues/1439\" rel=\"nofollow noreferrer\">here</a> is using</p>\n<pre><code> &quot;rootDirs&quot;: [\n      &quot;./src&quot;,\n      &quot;../shared/src&quot;\n    ],\n</code></pre>\n"}], "owner": {"reputation": 2597, "user_id": 1542325, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/018fa601cfdf1046dd3a4b0d5ff57618?s=128&d=identicon&r=PG", "display_name": "jmls", "link": "https://stackoverflow.com/users/1542325/jmls"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1156, "favorite_count": 0, "answer_count": 2, "score": 3, "last_activity_date": 1595016854, "creation_date": 1516721721, "question_id": 48405466, "link": "https://stackoverflow.com/questions/48405466/sharing-code-with-typescript-node-and-angular", "title": "Sharing code with typescript, node and angular", "body": "<p>I'm trying to set up a project where there is a need for an angular client with a minimal node server on the backend, using typescript.</p>\n\n<p>Ideally I'd like to have a folder structure similar to</p>\n\n<pre><code>/\n/dist : angular client (--prod) files\n/server : node js files (created by typescript)\n/tests : server-side test scripts\n/src/client: angular typescript\n/src/server: node typescript\n/src/tests: node typescript test scripts\n/src/common: common files shared between node &amp; angular (interface defintions, utils etc)\n</code></pre>\n\n<p>I am really struggling with trying to create a <code>tsconfig.json</code> file for each \"folder\". </p>\n\n<p>Errors I get include root issues, modules not found etc</p>\n\n<p>The main problems I am getting are to do with the dreaded </p>\n\n<blockquote>\n  <p>\"error TS6059: File 'common/interfaces/cell.ts' is not under 'rootDir'\n  'server/'. 'rootDir' is expected to contain all source files\"</p>\n</blockquote>\n\n<p>When building / compiling the server, is it possible to take the <code>common</code> folder and move it underneath the server folder, so it is found ? </p>\n\n<p>I would have thought that this is a common requirement (and if it isn't, what is the best practice ? ;) )</p>\n\n<p>I would appreciate your help in setting up the correct settings in the appropriate <code>tsconfig.json</code> files</p>\n"}, {"tags": ["typescript", "iterable"], "comments": [{"owner": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "edited": false, "score": 0, "creation_date": 1516721146, "post_id": 48405157, "comment_id": 83799068, "body": "What do you mean by &quot;generically&quot;?"}, {"owner": {"reputation": 542, "user_id": 1566112, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/b80e14ee0d779dc3f926ed65679a8077?s=128&d=identicon&r=PG", "display_name": "kaba", "link": "https://stackoverflow.com/users/1566112/kaba"}, "reply_to_user": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "edited": false, "score": 0, "creation_date": 1516722338, "post_id": 48405157, "comment_id": 83799938, "body": "@jcalz A way to detect for an arbitrary type whether it can be traversed multiple times. Is there an interface such as MultipleIterable with this additional property?"}, {"owner": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "edited": false, "score": 0, "creation_date": 1516723221, "post_id": 48405157, "comment_id": 83800596, "body": "Ah, I don&#39;t think so.  You could, of course, create one yourself, with the caveat that nothing would implement it by default."}], "answers": [{"tags": [], "owner": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "is_accepted": true, "score": 1, "last_activity_date": 1516731665, "last_edit_date": 1516731665, "creation_date": 1516728333, "answer_id": 48407525, "question_id": 48405157, "link": "https://stackoverflow.com/questions/48405157/multiple-traversals-over-iterable-in-typescript/48407525#48407525", "title": "Multiple traversals over iterable in Typescript", "body": "<p>This isn't necessarily perfect, but along the lines of \"create one yourself\":</p>\n\n<p>You can make a <code>MultipleIterable</code> interface which exposes nothing more than a property whose value is <code>true</code> if the object represents an <code>Iterable</code> whose iterator method produces a \"fresh\" iterator each time it is called:</p>\n\n<pre><code>export interface MultipleIterable&lt;T&gt; extends Iterable&lt;T&gt; {\n  multipleIterable: true;\n}\n</code></pre>\n\n<p>As well as a function you can call on an <code>Iterable</code> to check if it is also <code>MultipleIterable</code>:</p>\n\n<pre><code>function isMultableIterable&lt;T&gt;(iterable: Iterable&lt;T&gt;): iterable is MultipleIterable&lt;T&gt; {\n  return (iterable) &amp;&amp; ((iterable as any).multipleIterable === true);\n}\n</code></pre>\n\n<p>Then you can, if you want, augment <code>Array</code>'s prototype to signal that arrays are <code>MultipleIterable</code>:</p>\n\n<pre><code>declare global {\n  interface Array&lt;T&gt; {\n    multipleIterable: true;\n  }\n}\nArray.prototype.multipleIterable = true;\n</code></pre>\n\n<p>Similarly you could modify the prototype of any built-in iterable that behaves this way.</p>\n\n<hr>\n\n<p>Then, you can create a <code>ReplayableIterable&lt;T&gt;</code> class whose constructor takes any <code>Iterable&lt;T&gt;</code> and wraps it in such a way that its iterators are always fresh:</p>\n\n<pre><code>class ReplayableIterable&lt;T&gt; implements MultipleIterable&lt;T&gt; {\n\n  multipleIterable = true as true;\n\n  [Symbol.iterator](): Iterator&lt;T&gt; {\n    let cur = 0;\n    let iterable = this;\n    return {\n      next(): IteratorResult&lt;T&gt; {\n        while (cur &gt;= iterable.iteratorResults.length) {\n          iterable.iteratorResults.push(iterable.iterator.next());\n        }\n        const ret: IteratorResult&lt;T&gt; = iterable.iteratorResults[cur];\n        cur++;\n        return ret;\n      }\n    }\n  }\n\n  private iterator: Iterator&lt;T&gt;;\n  private iteratorResults: Array&lt;IteratorResult&lt;T&gt;&gt;;\n\n  constructor(iterable: Iterable&lt;T&gt;) {\n    this.iterator = iterable[Symbol.iterator]();\n    this.iteratorResults = [];\n  }\n\n}\n</code></pre>\n\n<p>The idea is that the passed-in iterable is used to get just one iterator, and the results from processing that iterator are stored in an array.  Iterators handed out by the <code>ReplayableIterable</code> only consult the actual iterator if it exhausts the array contents.  This is <em>lazily</em> copying the iterator: if the passed-in iterable has a billion elements (or worse, infinite) but you only plan to traverse a few of them, you don't have to take the memory and time hit of copying the elements you'll never use (the time hit for generators that never terminate would be quite substantial indeed).</p>\n\n<p>And finally, export a function that converts any <code>Iterable</code> to a <code>MultipleIterable</code> either by handing back the parameter unchanged (if you give it a <code>MultipleIterable</code> to begin with) or by constructing a <code>ReplayableIterable</code> based on it.</p>\n\n<pre><code>export function toMultipleIterable&lt;T&gt;(iterable: Iterable&lt;T&gt;): MultipleIterable&lt;T&gt; {\n  return isMultableIterable(iterable) ? iterable : new ReplayableIterable(iterable);\n}\n</code></pre>\n\n<p>Hope that helps; good luck!</p>\n"}, {"tags": [], "owner": {"reputation": 83, "user_id": 7964502, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5e05288cfbb67a2da0f894e7c8f76c27?s=128&d=identicon&r=PG&f=1", "display_name": "Richard Stiller", "link": "https://stackoverflow.com/users/7964502/richard-stiller"}, "is_accepted": false, "score": 0, "last_activity_date": 1516737553, "creation_date": 1516737553, "answer_id": 48409861, "question_id": 48405157, "link": "https://stackoverflow.com/questions/48405157/multiple-traversals-over-iterable-in-typescript/48409861#48409861", "title": "Multiple traversals over iterable in Typescript", "body": "<p>Maybe this is the way to go:</p>\n\n<pre><code>type FIterable&lt;T&gt; = (() =&gt; Iterable&lt;T&gt;) | Iterable&lt;T&gt;;\nexport function* run&lt;T = any&gt;(...its: FIterable&lt;T&gt;[]) {\n    while (true) {\n        for (const it of its) {\n            if (typeof it === 'function') {\n                yield* it(); // this throw a type error but compile :)\n            } else {\n                yield* it;\n            }\n        }\n    }\n}\n\n// Example:\nexport const map: Map&lt;number, number&gt; = new Map([[1, 2], [3, 4]]);\nconst a = run(() =&gt; map.keys(), [5, 6, 7], new Set([8, 9]));\nfor (const _ of Array(10)) {\n    console.log(a.next());\n};\n</code></pre>\n\n<p>JS/TS generators can iterate generators by using <code>yield*</code>.\nThe problem with the single way iterable should solve with functions, why not create a iterable again?</p>\n\n<p>In this example only the map can not repeated.</p>\n\n<p>my tsconfig.json</p>\n\n<pre><code>{\n    \"compilerOptions\": {\n        \"module\": \"UMD\",\n        \"target\": \"es5\",\n        \"lib\": [\n            \"es2015\",\n            \"es2015.iterable\",\n            \"dom\"\n        ]\n    },\n    \"files\": [\n        \"app.ts\"\n    ]\n}\n</code></pre>\n"}], "owner": {"reputation": 542, "user_id": 1566112, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/b80e14ee0d779dc3f926ed65679a8077?s=128&d=identicon&r=PG", "display_name": "kaba", "link": "https://stackoverflow.com/users/1566112/kaba"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 570, "favorite_count": 0, "accepted_answer_id": 48407525, "answer_count": 2, "score": 0, "last_activity_date": 1516737553, "creation_date": 1516720868, "question_id": 48405157, "link": "https://stackoverflow.com/questions/48405157/multiple-traversals-over-iterable-in-typescript", "title": "Multiple traversals over iterable in Typescript", "body": "<p>What is a good way of dealing with multiple traversals over an <code>Iterable</code> in Typescript?</p>\n\n<p>In general, an <code>Iterable</code> can be traversed only once, after which it yields no new elements. For example, <code>IterableIterator</code> is an <code>Iterable</code> with this property. Therefore, one solution to traverse a sequence multiple times is to first copy it to an array (say). </p>\n\n<p>When the <code>Iterable</code> can already be traversed multiple times, such as with Array, this copying is redundant. Therefore, as an optimization it would seem worthwhile to create a <code>possiblyCopyForMultipleTraversals()</code> function which returns a copy only when necessary. A conservative implementation of this function would detect standard collections such as Arrays and Sets and avoid a copy for them. Can such a function be implemented generically?</p>\n"}, {"tags": ["javascript", "angular", "typescript"], "answers": [{"comments": [{"owner": {"reputation": 77, "user_id": 2399563, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/5b663a2a9b7e8c6e2e362cee1f0e71e1?s=128&d=identicon&r=PG&f=1", "display_name": "Alcamech", "link": "https://stackoverflow.com/users/2399563/alcamech"}, "edited": false, "score": 0, "creation_date": 1516724783, "post_id": 48406172, "comment_id": 83801685, "body": "This is the route im going now, so far I&#39;ve been able to get the specific id. I am now going to define an findbyid call in my api. When you say define a route with the id you mean like /page-view/:id ?"}, {"owner": {"reputation": 1145, "user_id": 4747923, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/7799ce32ba261caa2c0968c9633043ce?s=128&d=identicon&r=PG&f=1", "display_name": "hogan", "link": "https://stackoverflow.com/users/4747923/hogan"}, "reply_to_user": {"reputation": 77, "user_id": 2399563, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/5b663a2a9b7e8c6e2e362cee1f0e71e1?s=128&d=identicon&r=PG&f=1", "display_name": "Alcamech", "link": "https://stackoverflow.com/users/2399563/alcamech"}, "edited": false, "score": 0, "creation_date": 1516819196, "post_id": 48406172, "comment_id": 83849548, "body": "Yes, have a look at <a href=\"https://angular.io/tutorial/toh-pt5#navigating-to-hero-details\" rel=\"nofollow noreferrer\">angular.io/tutorial/toh-pt5#navigating-to-hero-details</a>. Define something like <code>{ path: &#39;diary&#47;:id&#39;, component: DiaryDetailComponent }</code> and then navigate to it. Either per anchor tag directly or in the component using the router. There are examples in the documentation which I just provided."}], "tags": [], "owner": {"reputation": 1145, "user_id": 4747923, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/7799ce32ba261caa2c0968c9633043ce?s=128&d=identicon&r=PG&f=1", "display_name": "hogan", "link": "https://stackoverflow.com/users/4747923/hogan"}, "is_accepted": true, "score": 0, "last_activity_date": 1516723871, "creation_date": 1516723871, "answer_id": 48406172, "question_id": 48405084, "link": "https://stackoverflow.com/questions/48405084/angular-pass-single-object-within-ngfor-to-router-linked-component/48406172#48406172", "title": "Angular: pass single object within ngFor to router linked component", "body": "<p>You want to look at <a href=\"https://angular.io/guide/component-interaction\" rel=\"nofollow noreferrer\">https://angular.io/guide/component-interaction</a></p>\n\n<p>There are several methods / ways to achieve this and depending on your use case choose one.</p>\n\n<p>I would define an Input property in VolumeLinksComponent and pass the diary object in there (that's the first part \"Pass data from parent to child with input binding\").</p>\n\n<p>This would look something like:</p>\n\n<pre><code>&lt;a *ngFor='let diary of diaries' (click)='chooseDiary(diary)'&gt;\n\n&lt;my-diary-container [diary]='selectedDiary'&gt;&lt;/my-diary-container&gt;\n</code></pre>\n\n<p>and that parent component of course needs a property 'selectedDiary' and a method:</p>\n\n<pre><code>chooseDiary(diary: Diary): void {\n     this.selectedDiary = diary;\n}\n</code></pre>\n\n<p>But in your provided case it seems like you just need the specific id since you want to retrieve details from the api? In that case you could just define a route with the id and when the route is accessed ask an additional DiaryService to retrieve what you need.</p>\n"}], "owner": {"reputation": 77, "user_id": 2399563, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/5b663a2a9b7e8c6e2e362cee1f0e71e1?s=128&d=identicon&r=PG&f=1", "display_name": "Alcamech", "link": "https://stackoverflow.com/users/2399563/alcamech"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 94, "favorite_count": 0, "accepted_answer_id": 48406172, "answer_count": 1, "score": 0, "last_activity_date": 1516723871, "creation_date": 1516720675, "last_edit_date": 1516721030, "question_id": 48405084, "link": "https://stackoverflow.com/questions/48405084/angular-pass-single-object-within-ngfor-to-router-linked-component", "title": "Angular: pass single object within ngFor to router linked component", "body": "<p>How do I pass the data binded information within the <code>&lt;a&gt;</code> tag (Within the volume-links.component.html ) to my page-view component when the link is clicked.</p>\n\n<p>I want to pass that particular diary object to my page-view.</p>\n\n<p>I've looked into parent and child component interaction but I don't think that is the proper way to do it. I've looked into communicating via a service but I do not know how that would work for a problem such as this.</p>\n\n<p><strong>volume-links.component.html</strong></p>\n\n<pre><code>&lt;ul class=\"navigation\"&gt;\n &lt;li *ngFor=\"let d of diary\"&gt;\n   &lt;a id={{d.notebook_id}} routerLink=\"/page-view\" routerLinkActive=\"active\"&gt;Volume {{d.notebook_id}}, {{ d.date }}, {{ d.volume_id }}, Add MS {{ d.ms_id }}&lt;/a&gt;\n &lt;/li&gt;\n&lt;/ul&gt;\n</code></pre>\n\n<p><strong>volume-links.component.ts</strong></p>\n\n<pre><code>import { Component, OnInit } from '@angular/core';\nimport { Http } from '@angular/http';\nimport { HttpClient, HttpClientModule } from '@angular/common/http';\nimport 'rxjs/add/operator/map'\n\n@Component({\n  selector: 'app-volume-links',\n  templateUrl: './volume-links.component.html',\n  styleUrls: ['./volume-links.component.scss'],\n  //encapsulation: ViewEncapsulation.None\n})\nexport class VolumeLinksComponent implements OnInit {\n\ndiary : String;\n\nconstructor(private http: HttpClient) { }\n\nngOnInit() {\n  this.http.get('/api/diaries').subscribe(data =&gt; {\n    this.diary = data[\"data\"][\"docs\"];\n    console.log(this.diary);\n  })\n }\n}\n</code></pre>\n"}]