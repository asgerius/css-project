[{"tags": ["typescript", "firebase-realtime-database", "angularfire2"], "answers": [{"tags": [], "owner": {"reputation": 22363, "user_id": 4468617, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a09c08e1ae93a83e9102b6715fc75b4c?s=128&d=identicon&r=PG", "display_name": "Matt McCutchen", "link": "https://stackoverflow.com/users/4468617/matt-mccutchen"}, "is_accepted": true, "score": 2, "last_activity_date": 1534376564, "creation_date": 1534376564, "answer_id": 51867838, "question_id": 51867737, "link": "https://stackoverflow.com/questions/51867737/firebase-thenable-reference-return-handling/51867838#51867838", "title": "firebase thenable reference return handling", "body": "<p>If you go to the definition of <code>ThenableReference</code> (in Visual Studio Code, you would press Ctrl-T and then type <code>ThenableReference</code>), you should see something like <a href=\"https://github.com/firebase/firebase-js-sdk/blob/2f17ba02a3a139678b849cd53b2199156e5bc6d1/packages/firebase/index.d.ts#L568-L570\" rel=\"nofollow noreferrer\">this</a>:</p>\n\n<pre><code>  interface ThenableReference\n    extends firebase.database.Reference,\n      PromiseLike&lt;any&gt; {}\n</code></pre>\n\n<p>The part we care about is the <code>PromiseLike&lt;any&gt;</code>.  If you jump to definition on that, you should see <a href=\"https://github.com/Microsoft/TypeScript/blob/b9bd0d9a3ff3e468302b4ad1179ca5ee802d1ded/src/lib/es5.d.ts#L1296-L1304\" rel=\"nofollow noreferrer\">this</a>:</p>\n\n<pre><code>interface PromiseLike&lt;T&gt; {\n    /**\n     * Attaches callbacks for the resolution and/or rejection of the Promise.\n     * @param onfulfilled The callback to execute when the Promise is resolved.\n     * @param onrejected The callback to execute when the Promise is rejected.\n     * @returns A Promise for the completion of which ever callback is executed.\n     */\n    then&lt;TResult1 = T, TResult2 = never&gt;(onfulfilled?: ((value: T) =&gt; TResult1 | PromiseLike&lt;TResult1&gt;) | undefined | null, onrejected?: ((reason: any) =&gt; TResult2 | PromiseLike&lt;TResult2&gt;) | undefined | null): PromiseLike&lt;TResult1 | TResult2&gt;;\n}\n</code></pre>\n\n<p>Notice that <code>then</code> accepts an optional second callback that is called in case of error.  You should be able to use that in place of the <code>catch</code> method.</p>\n"}], "owner": {"reputation": 6841, "user_id": 135982, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/8042c87bcc36d121c2491662220a984d?s=128&d=identicon&r=PG", "display_name": "Vik", "link": "https://stackoverflow.com/users/135982/vik"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 143, "favorite_count": 0, "accepted_answer_id": 51867838, "answer_count": 1, "score": 0, "last_activity_date": 1534399806, "creation_date": 1534375643, "last_edit_date": 1534399806, "question_id": 51867737, "link": "https://stackoverflow.com/questions/51867737/firebase-thenable-reference-return-handling", "title": "firebase thenable reference return handling", "body": "<p>i am using angularfire2 and making  a push call to store a object. it looks like below:</p>\n\n<p><strong>Click handler</strong></p>\n\n<pre><code>assignCode(){\n    this.ddlSvc.assignCoupon(this.selItem.key, coupon).then(\n      (resp) =&gt;  {\n                      console.log(\"user created with:\" + resp)\n                      const alert = this.core.createAlert('Confirmation', 'Coupon Assgined to customer!')\n                      alert.present()\n\n                 }\n    )\n  }\n</code></pre>\n\n<p><strong>angular service making call to firebase</strong></p>\n\n<pre><code>assignCoupon(key:string, coupon:Coupon){\n    return this.db.list('/users/' + key + '/coupons').push(coupon)\n  }\n</code></pre>\n\n<p>It works fine when the calling client user has the required permissions to push to this node. However, we are testing a case where calling client does not have the permissions. currently, when we fire this case we get all the error on the UI in a very ugly manner rather a nice popup as we are not handling it. So, how do we handle error part? as it is a thenable reference so on click handler function there is no . \".catch\" to handle. </p>\n"}, {"tags": ["javascript", "arrays", "typescript"], "answers": [{"tags": [], "owner": {"reputation": 22363, "user_id": 4468617, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a09c08e1ae93a83e9102b6715fc75b4c?s=128&d=identicon&r=PG", "display_name": "Matt McCutchen", "link": "https://stackoverflow.com/users/4468617/matt-mccutchen"}, "is_accepted": true, "score": 1, "last_activity_date": 1534375708, "creation_date": 1534375708, "answer_id": 51867744, "question_id": 51867548, "link": "https://stackoverflow.com/questions/51867548/how-to-use-while-loop-on-a-condition-for-nested-array-of-array-objects/51867744#51867744", "title": "How to use While Loop on a condition for nested array of array objects?", "body": "<p>Remember, you have an array of arrays.  When you call <code>forEach</code> on the outer array, you get an inner array of products from a single shop.  Then you have to iterate over the inner array somehow.  I'd suggest using <code>forEach</code> rather than <code>while</code>.  The following is working for me in a few simple tests:</p>\n\n<pre><code>export class CartComponent {\n\n  someMethod() { \n    let packages: Package[] = [];\n    let weight = 0;\n    let finishPackage = () =&gt; {\n      packages.push({ weight: weight });\n      weight = 0;\n    };\n\n    products.forEach(sameShopProducts =&gt;\n      {\n        sameShopProducts.forEach(prod =&gt; {\n          if (weight + prod.Variant.weight &gt; 30) {\n            finishPackage();\n          }\n          weight += prod.Variant.weight;\n        });\n        // Different shops cannot share a package.\n        finishPackage();\n      });\n    return packages;\n  }\n\n}\n</code></pre>\n"}], "owner": {"reputation": 909, "user_id": 10200536, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/56e3889c1bb4f8aaf2943912d3282ef1?s=128&d=identicon&r=PG&f=1", "display_name": "James", "link": "https://stackoverflow.com/users/10200536/james"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 44, "favorite_count": 0, "accepted_answer_id": 51867744, "answer_count": 1, "score": 0, "last_activity_date": 1534376319, "creation_date": 1534373950, "last_edit_date": 1534376319, "question_id": 51867548, "link": "https://stackoverflow.com/questions/51867548/how-to-use-while-loop-on-a-condition-for-nested-array-of-array-objects", "title": "How to use While Loop on a condition for nested array of array objects?", "body": "<p>I have the following nested array <code>products</code>:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>products: [\r\n    [{\r\n        Variant: {\r\n            variant_id: '1',\r\n            weight: 15\r\n        },\r\n        Product: {\r\n            _id: '1',\r\n            _shop_id: '1'\r\n        },\r\n        quantity: 5,\r\n        totalPrice: 600\r\n    }],\r\n    [{\r\n            Variant: {\r\n                variant_id: '2',\r\n                weight: 20\r\n            },\r\n            Product: {\r\n                _id: '2',\r\n                _shop_id: '2'\r\n            },\r\n            quantity: 4,\r\n            totalPrice: 500\r\n        },\r\n        {\r\n            Variant: {\r\n                variant_id: '5',\r\n                weight: 25\r\n            },\r\n            Product: {\r\n                _id: '3',\r\n                _shop_id: '2'\r\n            },\r\n            quantity: 3,\r\n            totalPrice: 400\r\n        }\r\n    ]\r\n]</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>I have a <code>packages</code> array that needs to be filled with <code>package</code> objects. Rule: A package needs to contain products of the same <code>_shop_id</code> (got it) and the sum of products must not surpass the 30kg limit weight. In another words, i need to add a new package if the sum of <code>Variant.weight</code> surpass 30. For example, <code>products</code> array needs three packages:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>// Package 1 - weight: 15kg - shopId: 1\r\n{Variant: {variant_id: '1', weight: 15}, Product: {_id: '1', _shop_id:'1'}, quantity: 5, totalPrice: 600}\r\n\r\n// Package 2 - weight: 20kg - shopId: 2\r\n{Variant: {variant_id: '2', weight: 20}, Product: {_id: '2', _shop_id:'2'}, quantity: 4, totalPrice: 500}\r\n\r\n// Package 3 - Needs new package because it would be 45kg - weight: 25kg - shopId: 2\r\n{Variant: {variant_id: '5', weight: 25}, Product: {_id: '3', _shop_id:'2'}, quantity: 3, totalPrice: 400}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>I just need to know how many packages would be necessary to pack all of the products. The <code>package</code> object will be added after a package is full like this:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>export interface Package {\r\n    weight: number;\r\n}\r\n\r\nexport class CartComponent {\r\n\r\n  someMethod() { \r\n    let packages: Package[] = [];\r\n    let weight = 0;\r\n\r\n    products.forEach(prod =&gt;\r\n      {\r\n          while(weight &lt; 30) {\r\n            weight += prod.Variant.weight;\r\n            let package = { weight: weight };\r\n          }\r\n          packages.push(package);\r\n      }\r\n    });\r\n  }\r\n\r\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>What Am I doing wrong? I need to correctly loop the <code>products</code> array to know how many packages will be used.</p>\n"}, {"tags": ["javascript", "angular", "typescript", "sorting", "angular6"], "answers": [{"tags": [], "owner": {"reputation": 1889, "user_id": 7872063, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-wDCavaPv1_I/AAAAAAAAAAI/AAAAAAAAAJg/lh0EvSkqEM8/photo.jpg?sz=128", "display_name": "Ben Steward", "link": "https://stackoverflow.com/users/7872063/ben-steward"}, "is_accepted": false, "score": 3, "last_activity_date": 1534376972, "last_edit_date": 1534376972, "creation_date": 1534372990, "answer_id": 51867432, "question_id": 51867404, "link": "https://stackoverflow.com/questions/51867404/angular-6-sort-array-of-object-by-date/51867432#51867432", "title": "Angular 6 Sort Array of object by Date", "body": "<p>From looking through the docs, there doesn't seem to be any built-in array sorting. However, you can do this in your template:</p>\n\n<pre><code>&lt;app-item *ngFor=\"let item of someArray.sort(sortFunc)\"&gt;&lt;/app-item&gt;\n</code></pre>\n\n<p>And then in your component.ts file, define the function, because you cannot define functions in your template:</p>\n\n<pre><code>sortFunc (a, b) {\n  return a.CREATE_TS - b.CREATE_TS\n}\n</code></pre>\n\n<p>Edit: Simon K pointed out that the string format allows for straight comparison without coercing to Date and then to number. My original equation (for scenarios where your date string isn't that convenient):</p>\n\n<pre><code>return new Date(a.CREATE_TS).getTime() - new Date(b.CREATE_TS).getTime()\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 2552, "user_id": 5487673, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/tDPsf.jpg?s=128&g=1", "display_name": "Simon K", "link": "https://stackoverflow.com/users/5487673/simon-k"}, "edited": false, "score": 3, "creation_date": 1534374451, "post_id": 51867578, "comment_id": 90687021, "body": "Given the format that the timestamps are in, you don&#39;t actually need to convert them into a <code>Date</code> object. A simple string comparison (<code>val1.CREATE_TS &gt; val2.CREATE_TS</code>) would suffice."}, {"owner": {"reputation": 381, "user_id": 5970111, "user_type": "registered", "accept_rate": 57, "profile_image": "https://graph.facebook.com/1168403696526809/picture?type=large", "display_name": "Huy Le", "link": "https://stackoverflow.com/users/5970111/huy-le"}, "reply_to_user": {"reputation": 2552, "user_id": 5487673, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/tDPsf.jpg?s=128&g=1", "display_name": "Simon K", "link": "https://stackoverflow.com/users/5487673/simon-k"}, "edited": false, "score": 1, "creation_date": 1534388056, "post_id": 51867578, "comment_id": 90689655, "body": "@SimonK It compiled with an error because, in the sort comparison, it can not return a boolean."}, {"owner": {"reputation": 2552, "user_id": 5487673, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/tDPsf.jpg?s=128&g=1", "display_name": "Simon K", "link": "https://stackoverflow.com/users/5487673/simon-k"}, "edited": false, "score": 1, "creation_date": 1534388291, "post_id": 51867578, "comment_id": 90689693, "body": "Right, I forgot it was supposed to be a number. Go with <code>val1.CREATE_TS &gt; val2.CREATE_TS ? 1 : -1</code>"}, {"owner": {"reputation": 749, "user_id": 6740056, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/cLh7E.png?s=128&g=1", "display_name": "Unknown_Coder", "link": "https://stackoverflow.com/users/6740056/unknown-coder"}, "edited": false, "score": 0, "creation_date": 1539865420, "post_id": 51867578, "comment_id": 92661267, "body": "What if date is null or empty ? @Tiisetso"}], "tags": [], "owner": {"reputation": 1672, "user_id": 2177361, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/fVePi.jpg?s=128&g=1", "display_name": "Tiisetso Tjabane", "link": "https://stackoverflow.com/users/2177361/tiisetso-tjabane"}, "is_accepted": false, "score": 15, "last_activity_date": 1534374229, "creation_date": 1534374229, "answer_id": 51867578, "question_id": 51867404, "link": "https://stackoverflow.com/questions/51867404/angular-6-sort-array-of-object-by-date/51867578#51867578", "title": "Angular 6 Sort Array of object by Date", "body": "<p>you can use the  <code>sort</code> function for arrays, it takes in compare function. Parse the Date string into a date object and sort by it.</p>\n\n<p>read more about <a href=\"https://www.w3schools.com/jsref/jsref_sort.asp\" rel=\"noreferrer\">here</a></p>\n\n<pre><code>var myArr = [\n\n\n{\n    CREATE_TS: \"2018-08-15 17:17:30.0\",\n    Key1: \"Val1\",\n    Key2: \"Val2\",\n  },\n  {\n    CREATE_TS: \"2018-08-15 17:25:30.0\",\n    Key1: \"Val1\",\n    Key2: \"Val2\",\n  },\n  {\n    CREATE_TS: \"2018-08-15 17:28:30.0\",\n    Key1: \"Val1\",\n    Key2: \"Val2\",\n  }\n]\nmyArr.sort((val)=&gt; {return new Date(val.CREATE_TS)})\n</code></pre>\n\n<p>Ascending</p>\n\n<pre><code>myArr.sort((val1, val2)=&gt; {return new Date(val1.CREATE_TS) - new \nDate(val2.CREATE_TS)})\n</code></pre>\n\n<p>Descending</p>\n\n<pre><code>myArr.sort((val1, val2)=&gt; {return new Date(val2.CREATE_TS) - new \nDate(val1.CREATE_TS)})\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1857, "user_id": 6758795, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pgWd8.jpg?s=128&g=1", "display_name": "derelict", "link": "https://stackoverflow.com/users/6758795/derelict"}, "is_accepted": true, "score": 14, "last_activity_date": 1534375266, "creation_date": 1534375266, "answer_id": 51867692, "question_id": 51867404, "link": "https://stackoverflow.com/questions/51867404/angular-6-sort-array-of-object-by-date/51867692#51867692", "title": "Angular 6 Sort Array of object by Date", "body": "<p>in addition to cryptic's answer, you will likely want to wrap the sorted values in an accessor for including in the template, adding a getter in your typescript class:</p>\n\n<pre><code>public get sortedArray(): YourItemType[] {\n    return this.myArr.sort(...);\n}\n</code></pre>\n\n<p>and in the template:</p>\n\n<pre><code>&lt;app-item *ngFor=\"let item of sortedArray\"&gt;&lt;/app-item&gt;\n</code></pre>\n\n<p>alternately, you can sort the array as you get it into your component class and store the sorted version there, however the accessor pattern can be quite useful for dynamic sorting.</p>\n"}, {"tags": [], "owner": {"reputation": 7635, "user_id": 7584231, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JKqAC.jpg?s=128&g=1", "display_name": "Krishna Rathore", "link": "https://stackoverflow.com/users/7584231/krishna-rathore"}, "is_accepted": false, "score": 23, "last_activity_date": 1534401599, "creation_date": 1534401599, "answer_id": 51870996, "question_id": 51867404, "link": "https://stackoverflow.com/questions/51867404/angular-6-sort-array-of-object-by-date/51870996#51870996", "title": "Angular 6 Sort Array of object by Date", "body": "<p>You can use <code>Array.sort</code> for sort data.</p>\n\n<p>I have created a demo on  <strong><a href=\"https://stackblitz.com/edit/angular-6-sort-array-of-object-by-date?file=src%2Fapp%2Fdynamicform%2Fdynamicform.component.ts\" rel=\"noreferrer\">Stackblitz</a></strong>. I hope this will help/guide to you/others.</p>\n\n<blockquote>\n  <p>component.ts</p>\n</blockquote>\n\n<pre><code>  data = [\n    {\n      CREATE_TS: \"2018-08-15 17:17:30.0\",\n      Key1: \"Val1\",\n      Key2: \"Val2\",\n    },\n    {\n      CREATE_TS: \"2018-08-15 17:25:30.0\",\n      Key1: \"Val1\",\n      Key2: \"Val2\",\n    },\n    {\n      CREATE_TS: \"2018-08-15 17:28:30.0\",\n      Key1: \"Val1\",\n      Key2: \"Val2\",\n    }\n  ]\n\n  get sortData() {\n    return this.data.sort((a, b) =&gt; {\n      return &lt;any&gt;new Date(b.CREATE_TS) - &lt;any&gt;new Date(a.CREATE_TS);\n    });\n  }\n</code></pre>\n\n<blockquote>\n  <p>component.html</p>\n</blockquote>\n\n<pre><code>&lt;div *ngFor=\"let item of sortData\"&gt;\n  {{item.Key1}} -- {{item.CREATE_TS}} \n&lt;/div&gt;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 904, "user_id": 4841788, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/NGWfh.jpg?s=128&g=1", "display_name": "Sarjerao Ghadage", "link": "https://stackoverflow.com/users/4841788/sarjerao-ghadage"}, "is_accepted": false, "score": 6, "last_activity_date": 1551347329, "creation_date": 1551347329, "answer_id": 54922695, "question_id": 51867404, "link": "https://stackoverflow.com/questions/51867404/angular-6-sort-array-of-object-by-date/54922695#54922695", "title": "Angular 6 Sort Array of object by Date", "body": "<p>Using this method in Typescript, you can easily sort date values in whatever order you\u2019d like. You can also sort any type of other data types, like number or string, by simply removing the new Date() and getTime methods.</p>\n\n<pre><code>this.data.sort((a, b) =&gt; new Date(b.CREATE_TS).getTime() - new Date(a.CREATE_TS).getTime());\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 2750, "user_id": 5155835, "user_type": "registered", "accept_rate": 48, "profile_image": "https://www.gravatar.com/avatar/3d51608584fba7f32d1dc74d120b89ef?s=128&d=identicon&r=PG&f=1", "display_name": "user5155835", "link": "https://stackoverflow.com/users/5155835/user5155835"}, "edited": false, "score": 0, "creation_date": 1585329423, "post_id": 56615784, "comment_id": 107730625, "body": "In both cases, it should be <code>this.data.sort((a, b)</code>"}], "tags": [], "owner": {"reputation": 133, "user_id": 11625637, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-JWthbuS1QQg/AAAAAAAAAAI/AAAAAAAAABs/H7zG_OPJHns/photo.jpg?sz=128", "display_name": "Pruthvi Raj", "link": "https://stackoverflow.com/users/11625637/pruthvi-raj"}, "is_accepted": false, "score": 10, "last_activity_date": 1560654565, "creation_date": 1560654565, "answer_id": 56615784, "question_id": 51867404, "link": "https://stackoverflow.com/questions/51867404/angular-6-sort-array-of-object-by-date/56615784#56615784", "title": "Angular 6 Sort Array of object by Date", "body": "<p>For recent first:</p>\n\n<pre><code>this.data.sort((a, b) =&gt; new Date(b.date1).getTime() - new Date(a.date1).getTime());\n</code></pre>\n\n<p>For OlderFirst: </p>\n\n<pre><code>this.data.sort((b, a) =&gt; new Date(b.date1).getTime() - new Date(a.date1).getTime());\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 21, "user_id": 10864549, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-JhgVq_23yE4/AAAAAAAAAAI/AAAAAAAAAEI/e1RDFMGuZHE/photo.jpg?sz=128", "display_name": "Lucian Popa", "link": "https://stackoverflow.com/users/10864549/lucian-popa"}, "is_accepted": false, "score": 0, "last_activity_date": 1585758806, "last_edit_date": 1585758806, "creation_date": 1585758270, "answer_id": 60975645, "question_id": 51867404, "link": "https://stackoverflow.com/questions/51867404/angular-6-sort-array-of-object-by-date/60975645#60975645", "title": "Angular 6 Sort Array of object by Date", "body": "<p>You should first parse the dates to miliseconds, then perform sorting, in order to avoid the \"the left-hand side of an arithmetic operation must be of type 'any', 'number', 'bigint' or an enum type\" typescript error when you return new Date(a.CREATE_TS) - new Date(b.CREATE_TS):</p>\n\n<pre><code>someArray.sort((a: any, b: any) =&gt; { return Date.parse(a.CREATE_TS) - Date.parse(b.CREATE_TS) });\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 233, "user_id": 7765768, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GFH2s.jpg?s=128&g=1", "display_name": "Suraj Parise", "link": "https://stackoverflow.com/users/7765768/suraj-parise"}, "is_accepted": false, "score": 2, "last_activity_date": 1596565118, "creation_date": 1596565118, "answer_id": 63252881, "question_id": 51867404, "link": "https://stackoverflow.com/questions/51867404/angular-6-sort-array-of-object-by-date/63252881#63252881", "title": "Angular 6 Sort Array of object by Date", "body": "<p>With moment.js you can use</p>\n<pre><code>const newArr = myArr.sort((a, b) =&gt; moment(b.date).unix() - moment(a.date).unix());\n</code></pre>\n"}], "owner": {"reputation": 381, "user_id": 5970111, "user_type": "registered", "accept_rate": 57, "profile_image": "https://graph.facebook.com/1168403696526809/picture?type=large", "display_name": "Huy Le", "link": "https://stackoverflow.com/users/5970111/huy-le"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 81426, "favorite_count": 1, "accepted_answer_id": 51867692, "answer_count": 8, "score": 19, "last_activity_date": 1596565118, "creation_date": 1534372781, "question_id": 51867404, "link": "https://stackoverflow.com/questions/51867404/angular-6-sort-array-of-object-by-date", "title": "Angular 6 Sort Array of object by Date", "body": "<p>I try to sort the array object by date for my Angular 6 application. The data has string format. I wonder if there is an existing module to perform sort in Angular or we have to build sort function it in Typescript.</p>\n\n<p>Angular Template</p>\n\n<pre><code>&lt;app-item *ngFor=\"let item of someArray\"&gt;&lt;/app-item&gt;\n</code></pre>\n\n<p>The Array</p>\n\n<pre><code>[\n  {\n    CREATE_TS: \"2018-08-15 17:17:30.0\",\n    Key1: \"Val1\",\n    Key2: \"Val2\",\n  },\n  {\n    CREATE_TS: \"2018-08-15 17:25:30.0\",\n    Key1: \"Val1\",\n    Key2: \"Val2\",\n  },\n  {\n    CREATE_TS: \"2018-08-15 17:28:30.0\",\n    Key1: \"Val1\",\n    Key2: \"Val2\",\n  }\n]\n</code></pre>\n"}, {"tags": ["angular", "typescript"], "answers": [{"tags": [], "owner": {"reputation": 22363, "user_id": 4468617, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a09c08e1ae93a83e9102b6715fc75b4c?s=128&d=identicon&r=PG", "display_name": "Matt McCutchen", "link": "https://stackoverflow.com/users/4468617/matt-mccutchen"}, "is_accepted": true, "score": 4, "last_activity_date": 1534372750, "creation_date": 1534372750, "answer_id": 51867398, "question_id": 51867282, "link": "https://stackoverflow.com/questions/51867282/identifier-x-is-not-defined-y-does-not-contain-such-a-member-angular/51867398#51867398", "title": "Identifier &#39;X&#39; is not defined. &#39;Y&#39; does not contain such a member Angular", "body": "<p>The constructor of the <code>Band</code> class takes a bunch of parameters and throws them away.  You may have intended to use <a href=\"https://www.typescriptlang.org/docs/handbook/classes.html#parameter-properties\" rel=\"nofollow noreferrer\">parameter properties</a>:</p>\n\n<pre><code>export class Band {\n  constructor(\n  public name: string,\n  public pictureUrl: string,\n  public summary: string,\n  public signatureSongs: string[],\n  public subgenres?: string[],\n  public website?: string\n  ) {}\n}\n</code></pre>\n"}], "owner": {"reputation": 87, "user_id": 10230719, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-0hFBif2OaY4/AAAAAAAAAAI/AAAAAAAAAAA/AAnnY7r0MormlkjcZ34CkFR883O0lAhLog/mo/photo.jpg?sz=128", "display_name": "Michael C", "link": "https://stackoverflow.com/users/10230719/michael-c"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1880, "favorite_count": 0, "accepted_answer_id": 51867398, "answer_count": 1, "score": 0, "last_activity_date": 1534378920, "creation_date": 1534371999, "last_edit_date": 1534378920, "question_id": 51867282, "link": "https://stackoverflow.com/questions/51867282/identifier-x-is-not-defined-y-does-not-contain-such-a-member-angular", "title": "Identifier &#39;X&#39; is not defined. &#39;Y&#39; does not contain such a member Angular", "body": "<p>I'm trying use an ngfor directive to display items from an array on the screen, and I'm getting the error \"[Angular] Identifier '' is not defined. 'Band' does not contain such a member. I'm not sure what I'm doing wrong since everything seems to be typed correctly. Referring to <a href=\"https://stackoverflow.com/questions/49187510/object-does-not-contain-such-a-member-angular-5\">&#39;object&#39; does not contain such a member Angular 5</a> wasn't helpful. Code is as follows:</p>\n\n<p>Band.ts:</p>\n\n<pre><code>export class Band {\n  constructor(\n  name: string,\n  pictureUrl: string,\n  summary: string,\n  signatureSongs: string[],\n  subgenres?: string[],\n  website?: string\n  ) {}\n</code></pre>\n\n<p>}</p>\n\n<p>band.component.ts:</p>\n\n<pre><code>import { Component } from '@angular/core';\n\nimport { Band } from './band';\n\n\n@Component({\n  selector: 'app-band',\n  templateUrl: './band.component.html',\n  styleUrls: ['./band.component.css']\n})\nexport class BandComponent {\n\nbands: Band[] = [\n  new Band('Iron Maiden', \n'&lt;long link goes here&gt;',\n`The most high-profile band of the New Wave Of British Heavy Metal, Iron \nMaiden is reknown for\n            their soaring twin-guitar harmonies and energetic and elaborate live shows.`,\n          ['Hallowed Be They Name', 'Phantom of the Opera', 'Wasted Years'],\n        ['New Wave of British Heavy Metal', 'Classic Metal'], 'https://ironmaiden.com/'),\n        new Band('Metallica', 'https://i.pinimg.com/originals/bc/54/5b/bc545b3f8d7344be68199bfd48e59ae6.jpg',\n         `Bay Area thrash legends Metallica are one fo the most influential metal band of all time, with their\n         dynamic and muscular songs.`, ['One', 'Enter Sandman', 'Master of Puppets'], ['Classic Metal', 'Thrash Metal'],\n         'www.metallica.com')\n];\n\n}\n</code></pre>\n\n<p>and band.component.html:</p>\n\n<pre><code>&lt;h2&gt;Bands&lt;/h2&gt;\n\n&lt;div  class=\"bands__container\"&gt;\n  &lt;div *ngFor=\"let band of bands\"&gt;\n    &lt;h6&gt;{{ band.name }}&lt;/h6&gt;\n    &lt;img src=\"{{ band.pictureUrl }}\"&gt;\n    &lt;p&gt;{{ band.summary }}&lt;/p&gt;\n    &lt;p&gt;{{ band.signatureSongs }}&lt;/p&gt;\n    &lt;p&gt;{{ band.subgenres }}&lt;/p&gt;\n    &lt;p&gt;{{ band.website }}&lt;/p&gt;\n  &lt;/div&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>Everything is properly declared in the app.module file, and no other compilation errors exist. </p>\n"}, {"tags": ["javascript", "html", "angular", "typescript", "slider"], "answers": [{"tags": [], "owner": {"reputation": 2552, "user_id": 5487673, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/tDPsf.jpg?s=128&g=1", "display_name": "Simon K", "link": "https://stackoverflow.com/users/5487673/simon-k"}, "is_accepted": false, "score": 1, "last_activity_date": 1534371904, "creation_date": 1534371904, "answer_id": 51867271, "question_id": 51867110, "link": "https://stackoverflow.com/questions/51867110/html-range-element-value-not-updating-with-angular6-function/51867271#51867271", "title": "HTML Range element value not updating with Angular6 function", "body": "<p>You problem is that <code>slider.getAttribute(\"value\")</code> reads the value of the attribute, not the value of the input, so it will always say <code>30</code>.</p>\n\n<p>What you need is:</p>\n\n<pre><code>update(i: number) {\n    const id = `shade${i}`;\n    const slider = document.getElementById(id) as HTMLInputElement;\n    console.log(slider.value);\n}\n</code></pre>\n"}], "owner": {"reputation": 11, "user_id": 10231470, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d35f93dd5da63f371ecd5856ff698e3e?s=128&d=identicon&r=PG&f=1", "display_name": "EJ McDonnell", "link": "https://stackoverflow.com/users/10231470/ej-mcdonnell"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 135, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1534371904, "creation_date": 1534370874, "question_id": 51867110, "link": "https://stackoverflow.com/questions/51867110/html-range-element-value-not-updating-with-angular6-function", "title": "HTML Range element value not updating with Angular6 function", "body": "<p>I am trying to get access to the changing values of a series of HTML range sliders.  </p>\n\n<p>Here is how they're instantiated:</p>\n\n<pre><code>&lt;li *ngFor=\"let rgbVal of rgbVals; let i=index\"&gt;\n            {{i}}: {{rgbVal}} &lt;br&gt;\n            &lt;div class=\"color-box\" [style.backgroundColor]=\"rgbVal\"&gt;&lt;/div&gt;\n            &lt;div class=\"slideContainer\" &gt;\n                &lt;input type=\"range\" min=\"1\" max=\"100\" value=\"30\"  class=\"slider\" id=\"shade{{i}}\" step=\"1\" (change) = \"update(i)\"  &gt;\n\n            &lt;/div&gt;\n\n\n        &lt;/li&gt;\n</code></pre>\n\n<p>This is the Typescript function I have in my .ts function that should be able to access the value of the sliders:</p>\n\n<pre><code>update(i){\nvar id = \"shade\"+i;\nvar slider = document.getElementById(id);\nconsole.log(slider.getAttribute(\"value\"));}\n</code></pre>\n\n<p>The value once I move the slider stays constant &amp; unchanged, no matter which slider I move or how much I move it. </p>\n\n<p>Interestingly enough, if I run this code: </p>\n\n<pre><code> update(i){\nvar sliders = document.getElementsByClassName(\"slider\");\nconsole.log(sliders);}\n</code></pre>\n\n<p>And then in the console open up the HTML container and look at the value field of each slider, it is updated as I move it.  </p>\n\n<p>I also tried </p>\n\n<pre><code>slider = sliders[i];\nconsole.log(slider.getAttribute(\"value\");\n</code></pre>\n\n<p>And that stayed constant regardless of change, even though that slider when viewed as a part of the sliders object allowed the value to be updated. </p>\n\n<p>I am baffled by this one and can't find any similar errors online, so any help would be greatly appreciated.  </p>\n"}, {"tags": ["angular", "typescript", "unit-testing", "jasmine", "angular-reactive-forms"], "answers": [{"tags": [], "owner": {"reputation": 2361, "user_id": 3551035, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/31d4c410afb0527b26e33aaef8eb310f?s=128&d=identicon&r=PG", "display_name": "shohrukh", "link": "https://stackoverflow.com/users/3551035/shohrukh"}, "is_accepted": true, "score": 2, "last_activity_date": 1535123774, "last_edit_date": 1535123774, "creation_date": 1535121999, "answer_id": 52006924, "question_id": 51866982, "link": "https://stackoverflow.com/questions/51866982/why-is-change-event-for-reactive-form-control-not-firing-in-jasmine-angular-unit/52006924#52006924", "title": "Why is change event for reactive form control not firing in Jasmine Angular unit test?", "body": "<p>In your example <code>age.setValue(...)</code> actually sets correct value to the input, but it doesn't append <code>ageError</code> to the DOM - BECAUSE there wasn't real/emulated event to mark the control as dirty. This is why the method <code>ageIsError</code> always returns <code>false</code> in this case.</p>\n\n<p>As a workaround I just emulated input event using <code>document.createEvent('Event')</code> and seems like it works fine:</p>\n\n<pre><code>  it('should show error message when age is less than 18', async(() =&gt; {\n    const customEvent: Event = document.createEvent('Event');\n    customEvent.initEvent('input', false, false);\n    const ageInput = fixture.debugElement.query(By.css('input#age')).nativeElement;\n    ageInput.value = 10;\n    ageInput.dispatchEvent(customEvent);\n\n    fixture.detectChanges();\n\n    fixture.whenStable().then(() =&gt; {\n      let ageError = fixture.debugElement.query(By.css('#ageError')).nativeElement;\n      expect(component.ageIsError()).toBe(true);\n      expect(ageError.innerText).toContain('Age has errored');\n    });\n  }));\n</code></pre>\n\n<p>I also found the fix to your solution - just call <code>age.markAsDirty()</code> before <code>detectChanges</code>:</p>\n\n<pre><code>  it('should show error message when age is less than 18', async(() =&gt; {\n    let age = component.myForm.controls.age;\n    age.setValue('10'); // { emitEvent: true } is by default\n    age.markAsDirty(); // add this line\n\n    fixture.detectChanges();\n\n    fixture.whenStable().then(() =&gt; {\n        let ageError = fixture.debugElement.query(By.css('#ageError')).nativeElement;\n        expect(component.ageIsError()).toBe(true);\n        expect(ageError.innerText).toContain('Age has errored');\n    });\n  }));\n</code></pre>\n\n<p>I've also created a <a href=\"https://stackblitz.com/edit/angular-testing-template-ebe5ol?file=app/hello.component.spec.ts\" rel=\"nofollow noreferrer\">stackblitz example</a>, please check it out as well. Hope these solutions will be helpful for you :)</p>\n"}, {"tags": [], "owner": {"reputation": 893, "user_id": 3302764, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/752882536b495695f1254a7e83480ef2?s=128&d=identicon&r=PG&f=1", "display_name": "JoshuaTree", "link": "https://stackoverflow.com/users/3302764/joshuatree"}, "is_accepted": false, "score": 0, "last_activity_date": 1609414353, "creation_date": 1609414353, "answer_id": 65520300, "question_id": 51866982, "link": "https://stackoverflow.com/questions/51866982/why-is-change-event-for-reactive-form-control-not-firing-in-jasmine-angular-unit/65520300#65520300", "title": "Why is change event for reactive form control not firing in Jasmine Angular unit test?", "body": "<p>The form control bindings are updated automatically.</p>\n<p>The below code is within a test block. It simply gets an input field and dispatches an update value on it.</p>\n<p>I then render out the controller state and can confirm the bindings worked automatically.</p>\n<pre><code>  const usernameInput: HTMLInputElement = fixture.nativeElement.querySelector(\n            '#username'\n        );\n        usernameInput.value = 'testValueNotEmail';\n        usernameInput.dispatchEvent(new Event('input'));\n\n        // FormGroup and Controll Bindings and Validations were automatically updated after the event.\n        console.log(component.loginForm.getRawValue());\n        console.log(component.loginForm.get('username')?.errors);\n        console.log(component.loginForm.get('username')?.touched);\n        console.log(component.loginForm.get('username')?.dirty);\n\n        // In order for the fixture render element changes to take effect,\n        // I had to detect the changes. The form error fields were then rendered. \n        fixture.detectChanges();\n        const errorField = fixture.nativeElement.querySelector(\n            '#usernameSmall'\n        );\n        console.log(errorField);\n</code></pre>\n"}], "owner": {"reputation": 1391, "user_id": 2063134, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/2771ca0056a251e9b0bda3886277bed2?s=128&d=identicon&r=PG", "display_name": "J-man", "link": "https://stackoverflow.com/users/2063134/j-man"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3689, "favorite_count": 2, "accepted_answer_id": 52006924, "answer_count": 2, "score": 8, "last_activity_date": 1609414353, "creation_date": 1534370055, "last_edit_date": 1557514568, "question_id": 51866982, "link": "https://stackoverflow.com/questions/51866982/why-is-change-event-for-reactive-form-control-not-firing-in-jasmine-angular-unit", "title": "Why is change event for reactive form control not firing in Jasmine Angular unit test?", "body": "<p>I have a change function I am passing to the change event for a <strong>reactive form control</strong> that evaluates the <strong>dirty</strong> state and to check if there are any errors on the control and if so then set a boolean flag to true/false.  This boolean flag is then used to determine whether or not to show a <code>&lt;div&gt;</code> element that has an error message.  This works just fine in the browser, but when the unit test runs, the \"dirty\" is never being set to true.  Here is my code:</p>\n\n<p><strong>HTML</strong></p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;form [formGroup]=\"myForm\" novalidate&gt;\n    &lt;input id=\"age\" formControlName=\"age\" (change)=\"onChange()\" /&gt;\n    &lt;div id=\"ageError\" *ngIf=\"ageIsError()\"&gt;\n        &lt;label&gt;Age has errored&lt;/label&gt;\n    &lt;/div&gt;\n&lt;/form&gt;\n</code></pre>\n\n<p><strong>Component</strong></p>\n\n<pre><code>constructor(private fb: FormBuilder) {}\n\nngOnInit() {\n    this.myForm = this.fb.group({\n        age: [null, [Validators.min(18)]]\n    });\n}\n\nonChange() {\n    if (this.ageIsError())\n        // do something\n}\n\nageIsError() {\n    return this.myForm.controls.age.hasError('min') &amp;&amp;\n           this.myForm.controls.age.dirty;\n}\n</code></pre>\n\n<p><strong>Unit Test</strong></p>\n\n<pre><code>it('should show error message when age is less than 18', fakeAsync(() =&gt; {\n    let age = component.myForm.controls.age;\n    age.setValue('10', { emitEvent: true });\n    fixture.detectChanges();\n\n    fixture.whenStable().then(() =&gt; {\n        let ageError = debugElement.query(By.css('#ageError')).nativeElement;\n        expect(component.ageIsError()).toBe(true);\n        expect(ageError.innerText).toContain('Age has errored');\n    });\n}));\n</code></pre>\n\n<p>Again, the actual implementation works in the browser, but the unit test fails.  Does anyone know hoe to emit the event in jasmine to set the control to a dirty state, or is there a better way to achieve this?  Thanks!</p>\n"}, {"tags": ["javascript", "angular", "typescript"], "comments": [{"owner": {"reputation": 57675, "user_id": 1009922, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/K0eeL.jpg?s=128&g=1", "display_name": "ConnorsFan", "link": "https://stackoverflow.com/users/1009922/connorsfan"}, "edited": false, "score": 0, "creation_date": 1534369831, "post_id": 51866889, "comment_id": 90685906, "body": "Try <code>.catch(this.errHandler.bind(this))</code> or use an arrow function."}, {"owner": {"reputation": 2007, "user_id": 3066142, "user_type": "registered", "accept_rate": 44, "profile_image": "https://i.stack.imgur.com/7Ci81.jpg?s=128&g=1", "display_name": "Omar", "link": "https://stackoverflow.com/users/3066142/omar"}, "reply_to_user": {"reputation": 57675, "user_id": 1009922, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/K0eeL.jpg?s=128&g=1", "display_name": "ConnorsFan", "link": "https://stackoverflow.com/users/1009922/connorsfan"}, "edited": false, "score": 0, "creation_date": 1534369937, "post_id": 51866889, "comment_id": 90685938, "body": "@connorsFan make that an answer so i can upvote"}, {"owner": {"reputation": 57675, "user_id": 1009922, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/K0eeL.jpg?s=128&g=1", "display_name": "ConnorsFan", "link": "https://stackoverflow.com/users/1009922/connorsfan"}, "edited": false, "score": 1, "creation_date": 1534370022, "post_id": 51866889, "comment_id": 90685960, "body": "I suggest confirming that the question is a duplicate. This question is asked every day on the Angular forum. :-)"}], "answers": [{"tags": [], "owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "is_accepted": false, "score": 0, "last_activity_date": 1534369792, "creation_date": 1534369792, "answer_id": 51866931, "question_id": 51866889, "link": "https://stackoverflow.com/questions/51866889/angular-6-access-this-in-catch-errhandler/51866931#51866931", "title": "Angular 6: access &quot;this&quot; in catch =&gt; errHandler", "body": "<p>When you pass <code>errHandler</code> to <code>catch</code> you are only passing the function not its associated <code>this</code>. <code>this</code> will be decided by the caller (in this case the observable). This is the way functions behave in Javascript, even class methods are not tied to a specific object instance.</p>\n\n<p>The simplest solution is to transform <code>errHandler</code> to an arrow function ( <code>=&gt;</code>) which captures <code>this</code> from the declaration context: </p>\n\n<pre><code>@Injectable()\nexport class ConfigsService {\n\n    constructor( public notice: SnotifyService )  {}\n\n    addProductModifier(data) {\n        this.notice.warning(show); // works finf\n        return this.http.get&lt;any&gt;( api_url + '/addProductModifier', {params: data} ).catch(this.errHandler);\n    }\n\n    errHandler = (error: HttpErrorResponse) =&gt; {\n        let show = error.error.formatted || error.statusText;\n        _log(show, 'e');\n        this.notice.warning(show); // Cannot read property 'warning' of undefined\n        return Observable.throw(error.error || \"unknown error\");\n    }\n\n}\n</code></pre>\n\n<p>You could also use <code>bind</code> when you pass the function to <code>catch</code></p>\n\n<pre><code>addProductModifier(data) {\n    this.notice.warning(show); // works finf\n    return this.http.get&lt;any&gt;( api_url + '/addProductModifier', {params: data} ).catch(this.errHandler.bind(this));\n}\n</code></pre>\n"}], "owner": {"reputation": 2007, "user_id": 3066142, "user_type": "registered", "accept_rate": 44, "profile_image": "https://i.stack.imgur.com/7Ci81.jpg?s=128&g=1", "display_name": "Omar", "link": "https://stackoverflow.com/users/3066142/omar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 55, "favorite_count": 0, "closed_date": 1534370046, "answer_count": 1, "score": 0, "last_activity_date": 1534369792, "creation_date": 1534369556, "question_id": 51866889, "link": "https://stackoverflow.com/questions/51866889/angular-6-access-this-in-catch-errhandler", "closed_reason": "Duplicate", "title": "Angular 6: access &quot;this&quot; in catch =&gt; errHandler", "body": "<h2>My Service</h2>\n\n<pre><code>import { Injectable } from '@angular/core';\nimport { _log, notice, SnotifyService } from '../utils';\n\n\n@Injectable()\nexport class ConfigsService {\n\n    constructor( public notice: SnotifyService )  {}\n\n    addProductModifier(data) {\n        this.notice.warning(show); // works finf\n        return this.http.get&lt;any&gt;( api_url + '/addProductModifier', {params: data} ).catch(this.errHandler);\n    }\n\n    errHandler(error: HttpErrorResponse) {\n        let show = error.error.formatted || error.statusText;\n        _log(show, 'e');\n        this.notice.warning(show); // Cannot read property 'warning' of undefined\n        return Observable.throw(error.error || \"unknown error\");\n    }\n\n}\n</code></pre>\n\n<h2>Question</h2>\n\n<p>In the above code you can see that <code>this</code> is not available in the errHandler function. What am i doing wrong?</p>\n"}, {"tags": ["javascript", "angular", "typescript", "angular-material"], "comments": [{"owner": {"reputation": 891, "user_id": 7502260, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f35497e7438df0be043f03357cb53e5d?s=128&d=identicon&r=PG", "display_name": "abdullahkady", "link": "https://stackoverflow.com/users/7502260/abdullahkady"}, "edited": false, "score": 0, "creation_date": 1534370063, "post_id": 51866788, "comment_id": 90685970, "body": "I know nothing about that specific table tbh. But maybe you should pass your data as DATA.products, to be of the same type"}], "answers": [{"tags": [], "owner": {"reputation": 2696, "user_id": 596367, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3a64fd57e3e8b4b929b8ac2fa89b07bf?s=128&d=identicon&r=PG", "display_name": "PeS", "link": "https://stackoverflow.com/users/596367/pes"}, "is_accepted": false, "score": 0, "last_activity_date": 1534370731, "creation_date": 1534370731, "answer_id": 51867086, "question_id": 51866788, "link": "https://stackoverflow.com/questions/51866788/cant-interpolate-data-correctly-angular-material-table-angular2/51867086#51867086", "title": "Can&#39;t interpolate data correctly - Angular material table - Angular2+", "body": "<p>It is not quite clear as you did not supply code for creating <code>dataSource</code> but my guess is that you are passing <code>Object</code> instead of <code>Array</code> there. Try creating the <code>dataSource</code> with <code>DATA.products</code>.</p>\n"}, {"tags": [], "owner": {"reputation": 667, "user_id": 5523146, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/t1oMu.jpg?s=128&g=1", "display_name": "Brad Axe", "link": "https://stackoverflow.com/users/5523146/brad-axe"}, "is_accepted": true, "score": 0, "last_activity_date": 1534377288, "last_edit_date": 1534377288, "creation_date": 1534371229, "answer_id": 51867170, "question_id": 51866788, "link": "https://stackoverflow.com/questions/51866788/cant-interpolate-data-correctly-angular-material-table-angular2/51867170#51867170", "title": "Can&#39;t interpolate data correctly - Angular material table - Angular2+", "body": "<p>You are currently pointing the data source at an object, when it needs an array.  So, simple implementation might be (in .component.ts):</p>\n\n<p><code>dataSource = DATA[\"products\"]</code></p>\n"}, {"tags": [], "owner": {"reputation": 1048, "user_id": 3558573, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f2ca616b8dfd29e78c294afb275ab878?s=128&d=identicon&r=PG&f=1", "display_name": "wFitz", "link": "https://stackoverflow.com/users/3558573/wfitz"}, "is_accepted": false, "score": 0, "last_activity_date": 1534371344, "creation_date": 1534371344, "answer_id": 51867187, "question_id": 51866788, "link": "https://stackoverflow.com/questions/51866788/cant-interpolate-data-correctly-angular-material-table-angular2/51867187#51867187", "title": "Can&#39;t interpolate data correctly - Angular material table - Angular2+", "body": "<p>Try using this, it worked for me</p>\n\n<pre><code>import { MatTableDataSource } from '@angular/material';\n</code></pre>\n\n<p>Then add to ngOniInit() the following</p>\n\n<pre><code>ngOnInit() {\n   this.dataSource = new MatTableDataSource(DATA);\n}\n</code></pre>\n"}], "owner": {"reputation": 3897, "user_id": 3061047, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/8254f5cf0a9a916e0a1a2dbf4bff6041?s=128&d=identicon&r=PG&f=1", "display_name": "physicsboy", "link": "https://stackoverflow.com/users/3061047/physicsboy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 200, "favorite_count": 0, "accepted_answer_id": 51867170, "answer_count": 3, "score": 0, "last_activity_date": 1534377288, "creation_date": 1534368949, "question_id": 51866788, "link": "https://stackoverflow.com/questions/51866788/cant-interpolate-data-correctly-angular-material-table-angular2", "title": "Can&#39;t interpolate data correctly - Angular material table - Angular2+", "body": "<p>I cannot figure out how to modify the example material data table such that I can use my own data within it...</p>\n\n<p>my data appear in this format:</p>\n\n<pre><code>export const DATA: any = {\n  'products': [\n    {\n      'id': 1,\n      'name': 'SOLID BB T-SHIRT',\n      'price': '28.00',\n      ...\n    },\n...\n]\n</code></pre>\n\n<p>From the example that Material.angular.io gives, their data is in the format:</p>\n\n<pre><code>export const DATA = [\n  {\n    \"id\": 1,\n    \"name\": \"Leanne Graham\",\n    \"username\": \"Bret\",\n    ...\n  },\n  ...\n]\n</code></pre>\n\n<p>However, I cannot seem to get my data format to fit the interpolation for use in the HTML as so:</p>\n\n<pre><code>&lt;table mat-table [dataSource]=\"dataSource\" class=\"mat-elevation-z8\"&gt;\n   &lt;ng-container matColumnDef=\"id\"&gt;\n    &lt;th mat-header-cell *matHeaderCellDef&gt; id &lt;/th&gt;\n    &lt;td mat-cell *matCellDef=\"let element\"&gt; {{element.id}} &lt;/td&gt;\n  &lt;/ng-container&gt;\n</code></pre>\n\n<p>Is there something I am missing?</p>\n"}, {"tags": ["angular", "typescript"], "answers": [{"tags": [], "owner": {"reputation": 630270, "user_id": 571407, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2f0d9dec16bae1e06552af55ddefc11f?s=128&d=identicon&r=PG", "display_name": "JB Nizet", "link": "https://stackoverflow.com/users/571407/jb-nizet"}, "is_accepted": false, "score": 2, "last_activity_date": 1534368903, "creation_date": 1534368903, "answer_id": 51866778, "question_id": 51866357, "link": "https://stackoverflow.com/questions/51866357/resolver-angular-6/51866778#51866778", "title": "Resolver Angular 6", "body": "<p>The code should be</p>\n\n<pre><code>return this.FooService.getById(route.paramMap.get('id')).pipe(\n  switchMap(result =&gt; \n    this.fooService.getType().pipe(\n      map(results =&gt; {\n        result.type = this.getObject(results, result.typeId);\n        return result;\n      })\n    )\n  )\n);\n</code></pre>\n\n<p>Otherwise, the router gives the result to the component as soon as the first observable has emitted, without waiting for the second one.</p>\n"}], "owner": {"reputation": 191, "user_id": 6017616, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/2ec2719126cdee2c52e9b112493138af?s=128&d=identicon&r=PG&f=1", "display_name": "Callum Osborn", "link": "https://stackoverflow.com/users/6017616/callum-osborn"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 759, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1534368903, "creation_date": 1534366798, "last_edit_date": 1534368283, "question_id": 51866357, "link": "https://stackoverflow.com/questions/51866357/resolver-angular-6", "title": "Resolver Angular 6", "body": "<p>I am creating a resolver for a route of my Angular 6 application.</p>\n\n<p>Currently, I make a call to an API and return the data to a component so it can render the data in the component's template.</p>\n\n<p>foo.resolver.ts</p>\n\n<pre><code>@Injectable()\nexport class FooResolver implements Resolve&lt;any&gt; {\n\n  constructor(private fooService: FooService) {}\n\n  resolve(route: ActivatedRouteSnapshot) {   \n    return this.fooService.getById(route.paramMap.get('id'));\n  }\n}\n</code></pre>\n\n<p>foo.component.ts</p>\n\n<pre><code>export class FooComponent implements OnInit {\n\n  fooObj: any = {};\n\n  constructor(private route: ActivatedRoute) { }\n\n  ngOnInit() {    \n    this.fooObj = this.route.snapshot.data.fooObject;    \n  }\n}\n</code></pre>\n\n<p>However, I need to change this current implementation to make a sub call to another API once getById has completed and returned a custom object to my foo.component.ts class. I have tried to edit the resolve function to reflect this requirement.</p>\n\n<pre><code>resolve(route: ActivatedRouteSnapshot) {   \n\n    return this.FooService.getById(route.paramMap.get('id')).pipe(map(result =&gt; {\n\n        this.fooService.getType().subscribe(results =&gt; {\n\n            result.type = this.getObject(results, result.typeId);\n\n        });\n\n        return result;\n    }));\n\nprivate getObject(collection: any, id: number): any {\n    return collection.find(e =&gt; e.id == id);\n}\n</code></pre>\n\n<p>However, I am getting errors in the console. Regarding cannot Cannot read property 'name' of undefined. I don't think I am returing a finished Observable from the second version of the resolve function.</p>\n"}, {"tags": ["angular", "typescript", "angular6", "angular-reactive-forms", "angular-observable"], "comments": [{"owner": {"reputation": 5271, "user_id": 3696510, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/Sq34R.jpg?s=128&g=1", "display_name": "muttonUp", "link": "https://stackoverflow.com/users/3696510/muttonup"}, "edited": false, "score": 1, "creation_date": 1549065008, "post_id": 51866061, "comment_id": 95783691, "body": "Please upvote the issue (Been open over a year) - <a href=\"https://github.com/angular/angular/issues/21021\" rel=\"nofollow noreferrer\">github.com/angular/angular/issues/21021</a>"}], "answers": [{"tags": [], "owner": {"reputation": 28589, "user_id": 8558186, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8af66bb1af6d1875a2dd7be9dd1c8d2b?s=128&d=identicon&r=PG&f=1", "display_name": "Eliseo", "link": "https://stackoverflow.com/users/8558186/eliseo"}, "is_accepted": false, "score": 2, "last_activity_date": 1534403423, "creation_date": 1534403423, "answer_id": 51871476, "question_id": 51866061, "link": "https://stackoverflow.com/questions/51866061/patchvalue-with-null-object/51871476#51871476", "title": "Patchvalue with null object", "body": "<p>I usually make a function to create the form like</p>\n\n<pre><code>buildForm(data:any)\n{\n   let form= this.fb.group({\n      'userId': [data?data.userId:'', [Validators.required]],\n      'dob': [data?data.dob:null, [Validators.required]],\n      ...\n   })\n   return form;\n}\n</code></pre>\n\n<p>so I can call to the function like</p>\n\n<pre><code>this.userInfoForm=this.buildForm(data); //create the form with data\nthis.userInfoForm=this.buildForm(null); //create a empty form\n</code></pre>\n\n<p>Yo manage if secondaryPhone is null or not we can simply</p>\n\n<pre><code>   let form= this.fb.group({\n      'userId': [data?data.userId:'', [Validators.required]],\n      'dob': [data?data.dob:null, [Validators.required]],\n      ...\n      secondaryPhone: data &amp;&amp; data.secondaryPhone? //if data &amp;&amp; data.secondaryPhone\n           this.fb.group({\n             'phoneId': [data.secondatyPhone.phoneId],\n             ...\n           }): //else the values are empty\n           this.fb.group({\n             'phoneId': [''],\n             ...\n           }):\n   })\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 612, "user_id": 5253897, "user_type": "registered", "profile_image": "https://graph.facebook.com/10155939497895076/picture?type=large", "display_name": "Christian Jensen", "link": "https://stackoverflow.com/users/5253897/christian-jensen"}, "is_accepted": false, "score": 11, "last_activity_date": 1574378029, "creation_date": 1574378029, "answer_id": 58985148, "question_id": 51866061, "link": "https://stackoverflow.com/questions/51866061/patchvalue-with-null-object/58985148#58985148", "title": "Patchvalue with null object", "body": "<p>While we wait for <a href=\"https://github.com/angular/angular/issues/21021\" rel=\"noreferrer\">this issue</a> to be resolved, change <code>null</code> values to empty objects before patching:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>this.form.patchValue({\n  ...data,\n  secondaryPhone: data.secondaryPhone || {}\n})\n</code></pre>\n"}], "owner": {"reputation": 439, "user_id": 1041169, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/e9e3ced0019907a17b6a170612606ab7?s=128&d=identicon&r=PG", "display_name": "user1041169", "link": "https://stackoverflow.com/users/1041169/user1041169"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 6667, "favorite_count": 2, "answer_count": 2, "score": 5, "last_activity_date": 1574378029, "creation_date": 1534365451, "last_edit_date": 1539440459, "question_id": 51866061, "link": "https://stackoverflow.com/questions/51866061/patchvalue-with-null-object", "title": "Patchvalue with null object", "body": "<p>I am using Angular 6 and I am trying to perform patchValue to populate my form with data from an observable http call. Everything works great except I have a secondaryPhone value that can be null the json that populates the observable object. When it is null I get an error \"Cannot convert undefined or null to object\". I know I can manually patch every value individually if it is not null but is there a way to load this value without having to manually patch every value?</p>\n\n<p>Model.ts</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>export class UserInfoModel {\n    userId: number;\n    dob: Date;\n    firstName: string;\n    middleInitial: string;\n    lastName: string;\n    genderTypeId: number;\n    ssnLast4: string;\n    userAddresses: UserAddress[];\n    primaryPhone?: Phone;\n    secondaryPhone?: Phone;\n    fax?: Phone;\n}\n\nexport class Address {\n    address1: string;\n    address2: string;\n    city: string;\n    stateCd: string;\n    zipCode: string;\n    internationalAddress: string;\n    countryId: number;\n}\n\nexport class UserAddress {\n    userAddressId: number;\n    userId: number;\n    active: boolean;\n    address: Address;\n}\n\nexport class Phone {\n    phoneId: number;\n    phoneTypeId: number;\n    phoneNumber: string;\n    internationalPhone: string;\n}\n</code></pre>\n\n\n\n<p>component.ts</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>this.as.accountUserInfo(this.activeRoute$.ActiveUserId).subscribe(data =&gt; {\n    this.userInfoModel$ = data as UserInfoModel;\n    this.userInfoForm.patchValue(this.userInfoModel$);\n});\n\nthis.userInfoForm = this.fb.group({\n    'userId': ['', [Validators.required]],\n    'dob': [null, [Validators.required]],\n    'firstName': ['', [Validators.required, Validators.maxLength(50)]],\n    'middleInitial': ['', [Validators.maxLength(1)]],\n    'lastName': ['', [Validators.required]],\n    'genderTypeId': ['', [Validators.required]],\n    //TODO: Add conditional requirement\n    'ssnLast4': ['', [Validators.pattern(\"/^\\d{4}$/\")]],\n    userAddresses: this.fb.array([\n        this.fb.group({\n            'userAddressId': [''],\n            'userId': ['', [Validators.required]],\n            'active': ['', [Validators.required]],\n            address: this.fb.group({\n                'address1': ['', [Validators.required]],\n                'address2': ['', [Validators.required]],\n                'city': ['', [Validators.required]],\n                'stateCd': ['', [Validators.required]],\n                'zipCode': ['', [Validators.required]],\n                'internationalAddress': ['', [Validators.required]],\n                'countryId': ['', [Validators.required]]\n            })\n        })\n    ]),\n    primaryPhone: this.fb.group({\n        'phoneId': [''],\n        'phoneTypeId': ['', [Validators.required]],\n        'phoneNumber': ['', [Validators.required]],\n        'internationalPhone': ['', [Validators.required]]\n    }),\n    secondaryPhone: this.fb.group({\n        'phoneId': [''],\n        'phoneTypeId': ['', [Validators.required]],\n        'phoneNumber': ['', [Validators.required]],\n        'internationalPhone': ['', [Validators.required]]\n    })\n});\n</code></pre>\n\n\n\n<p>Json example</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>{\n    \"userId\": 6,\n    ...,\n    \"primaryPhone\": {\n        \"phoneId\": 2,\n        \"phoneTypeId\": 2,\n        \"phoneNumber\": \"3030303303\",\n        \"internationalPhone\": \"\"\n    },\n    \"secondaryPhone\": null\n}\n</code></pre>\n\n\n"}, {"tags": ["angular", "typescript", "es6-proxy"], "answers": [{"comments": [{"owner": {"reputation": 2756, "user_id": 1375316, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/62627013dd03b525ba5954cff57b0f9b?s=128&d=identicon&r=PG", "display_name": "threeve", "link": "https://stackoverflow.com/users/1375316/threeve"}, "edited": false, "score": 0, "creation_date": 1534443557, "post_id": 51865579, "comment_id": 90717941, "body": "Your answer works and I thank you for it.  I ended up using the fake base class because I couldn&#39;t get the function to work correctly in the context of <code>FooProxy</code> being an Angular service, and <code>createFooProxy</code> being the service provider.  In this case I want to return <code>new Proxy(this, handler)</code> instead of <code>new Proxy(foo, handler)</code> because I need the <code>FooProxy</code> to retain its own properties and methods.  The error thrown is <code>FooProxy</code> has no properties in common with type &#39;Foo&#39;.  Dependency injection also confuses the issue somewhat.  If you have any additional wisdom about that, great!"}], "tags": [], "owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "is_accepted": true, "score": 10, "last_activity_date": 1534363015, "creation_date": 1534363015, "answer_id": 51865579, "question_id": 51865430, "link": "https://stackoverflow.com/questions/51865430/typescript-compiler-does-not-know-about-es6-proxy-trap-on-class/51865579#51865579", "title": "Typescript Compiler Does Not Know About ES6 Proxy Trap on Class", "body": "<p>I don't think in this case a class is the best approach you can just use a function to create the proxy and all will work as expected:</p>\n\n<pre><code>function createFooProxy(foo:Foo) : Foo { // Proxy&lt;Foo&gt; is compatible with Foo\n    let handler = {\n        get: function(target: Foo, prop: keyof Foo, receiver: any) {\n            if(Foo.prototype[prop] !== null) {\n                return foo[prop];\n            }\n\n            return Reflect.get(target, prop, receiver);\n        }\n    }\n    return new Proxy(foo, handler);\n}\n</code></pre>\n\n<p>If you are set on using the class approach, you can fake a base class:</p>\n\n<pre><code>function fakeBaseClass&lt;T&gt;() : new() =&gt; Pick&lt;T, keyof T&gt;{ // we use a pick to remove the abstract modifier\n    return class {} as any\n}\n\nclass FooProxy extends fakeBaseClass&lt;Foo&gt;(){\n    private foo: Foo; // I would make this private as it is not really accessible on what the constructor of FooProxy returns (maybe remove it as I see no use for it)\n\n    constructor(foo: Foo) {\n        super();\n        this.foo = foo;\n        let handler = {\n            get: function(target: FooProxy, prop: keyof Foo, receiver: any) {\n                if(Foo.prototype[prop] !== null) {\n                    return target.foo[prop];\n                }\n\n                return Reflect.get(target, prop, receiver);\n            }\n        }\n        return new Proxy(this, handler);\n    }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 32718, "user_id": 1697459, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/bzP9B.png?s=128&g=1", "display_name": "Wilt", "link": "https://stackoverflow.com/users/1697459/wilt"}, "is_accepted": false, "score": 5, "last_activity_date": 1597318667, "last_edit_date": 1597318667, "creation_date": 1550736680, "answer_id": 54802162, "question_id": 51865430, "link": "https://stackoverflow.com/questions/51865430/typescript-compiler-does-not-know-about-es6-proxy-trap-on-class/54802162#54802162", "title": "Typescript Compiler Does Not Know About ES6 Proxy Trap on Class", "body": "<p>As an addition to the accepted answer I want to share a solution that can be used for more simple cases where you simply want to be able to proxy to any method or property (either a trap in the handler or something that actually exists on the actual target). The solution is based on using an &quot;index signature&quot;, read more on that topic here: <a href=\"https://www.typescriptlang.org/docs/handbook/interfaces.html\" rel=\"nofollow noreferrer\">https://www.typescriptlang.org/docs/handbook/interfaces.html</a></p>\n<p>I hope it will be useful for others ending up at this great question:</p>\n<pre><code>const handler = {\n  get: (target: object, property: string, receiver: any) =&gt; {\n    // define custom traps here:\n    if (property === &quot;trap&quot;) {\n      // ... do something ...\n    }\n\n    // optional test whether property exists using the Reflect class:\n    if (!Reflect.has(target, property)) {\n      throw Error(`Property ${property} does not exist`);\n    }\n    // proxy to the target using the Reflect class:\n    return Reflect.get(target, property);\n  },\n};\n</code></pre>\n<p>I will show two solutions:</p>\n<p><strong>1.</strong> create a factory and an interface:</p>\n<pre><code>// Any property is allowed in this interface using the following index signature:\ninterface FooInterface {\n  [key: string]: any;\n}\n\n// From the factory we return the FooInterface \nconst proxyFactory = (target: Foo): FooInterface =&gt; {\n  return new Proxy(target, handler);\n};\n</code></pre>\n<p><strong>2.</strong> create a class with an index signature and return the proxy directly from the class constructor</p>\n<pre><code>class FooProxy {\n  [key: string]: any;\n  constructor(target: Foo) {\n    return new Proxy(target, handler);\n  }\n}\n</code></pre>\n<p>Can be used like this where all possible methods and properties you want to build a trap for inside the handler will be recognized:</p>\n<pre><code>const fooProxy = proxyFactory(foo);\n</code></pre>\n<p>or</p>\n<pre><code>const fooProxy = new FooProxy(foo);\n</code></pre>\n<p>No more messages complaining:</p>\n<blockquote>\n<p>Property '<em>...property name...</em>' does not exist on type 'Proxy'.</p>\n</blockquote>\n<p>So anything can be called and trapped now:</p>\n<pre><code>const returnedFromMethod = fooProxy.anyMethod();\nconst property = fooProxy.anyProperty;\n</code></pre>\n<p>You can of course refine your interface, the example is simply to demonstrate a solution for all methods and properties.</p>\n"}], "owner": {"reputation": 2756, "user_id": 1375316, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/62627013dd03b525ba5954cff57b0f9b?s=128&d=identicon&r=PG", "display_name": "threeve", "link": "https://stackoverflow.com/users/1375316/threeve"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 6640, "favorite_count": 1, "accepted_answer_id": 51865579, "answer_count": 2, "score": 9, "last_activity_date": 1597318667, "creation_date": 1534362377, "question_id": 51865430, "link": "https://stackoverflow.com/questions/51865430/typescript-compiler-does-not-know-about-es6-proxy-trap-on-class", "title": "Typescript Compiler Does Not Know About ES6 Proxy Trap on Class", "body": "<p>I have an abstract class:</p>\n\n<pre><code>abstract class Foo {\n    abstract bar(): string;\n}\n</code></pre>\n\n<p>I have some classes that extend <code>Foo</code>:</p>\n\n<pre><code>class Foo1 extends Foo {\n    bar(): string { return 'foo1'; }\n}\n\nclass Foo2 extends Foo {\n    bar(): string { return 'foo2'; }\n}\n</code></pre>\n\n<p>I have another class that I want to proxy all methods of <code>Foo</code> to a <code>Foo</code>.  This actually works fine, if I define all methods of <code>Foo</code> on this class.  But I would rather not do that.  I would prefer to have the methods of <code>Foo</code> defined on <code>Foo</code> and the compiler to know that <code>FooProxy</code> also implements those methods without actually having to implement them.  Is this possible?  The Proxy class looks something like this:</p>\n\n<pre><code>class FooProxy {\n    public foo: Foo;\n\n    constructor(foo: Foo) {\n        this.foo = foo;\n        let handler = {\n            get: function(target: FooProxy, prop: string, receiver: any) {\n                if(Foo.prototype[prop] !== null) {\n                    return target.foo[prop];\n                }\n\n                return Reflect.get(target, prop, receiver);\n            }\n        }\n        return new Proxy(this, handler);\n    }\n}\n</code></pre>\n\n<p>Example: </p>\n\n<pre><code>let f = new Foo1();\nlet fp = new FooProxy(f);\nfp.bar();\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>error TS2339: Property 'bar' does not exist on type 'FooProxy'.\n</code></pre>\n\n<p>This program actually runs in the playground, but <code>tsc</code> does not emit anything.  I just need to trick the compiler some how...</p>\n"}, {"tags": ["typescript"], "comments": [{"owner": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "edited": false, "score": 1, "creation_date": 1534361029, "post_id": 51865026, "comment_id": 90682459, "body": "<code>&#39;assign&#39; does not exist...</code>: You are probably not loading the libraries for ES2015 or later.  If your target environment is ES5, then <code>Object.assign</code> really doesn&#39;t exist."}], "answers": [{"tags": [], "owner": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "is_accepted": true, "score": 2, "last_activity_date": 1534361379, "creation_date": 1534361379, "answer_id": 51865188, "question_id": 51865026, "link": "https://stackoverflow.com/questions/51865026/how-to-merge-generic-list-of-objects/51865188#51865188", "title": "How to merge generic list of objects?", "body": "<p>You can use a trick with <a href=\"https://www.typescriptlang.org/docs/handbook/release-notes/typescript-2-8.html#conditional-types\" rel=\"nofollow noreferrer\">conditional types</a> to take a union of types and get an intersection of those types:</p>\n\n<pre><code>type UnionToIntersection&lt;U&gt; =\n  (U extends any ? (k: U) =&gt; void : never) extends ((k: infer I) =&gt; void) ? I : never\n</code></pre>\n\n<p>Assuming you're using TS 3.0, the following typing should work:    </p>\n\n<pre><code>declare function combine&lt;T extends any[]&gt;(...args: T): UnionToIntersection&lt;T[number]&gt;;\n</code></pre>\n\n<p>Let's test it:</p>\n\n<pre><code>const foobar = combine(\n  { foo: 1 },\n  { bar: 2 }\n);\n// { foo: number } &amp; { bar: number }\n</code></pre>\n\n<p>Looks good, I think.</p>\n\n<p>Hope that helps.  Good luck!</p>\n"}], "owner": {"reputation": 8556, "user_id": 335911, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/81e78ce8a8d78aa693dc63a4fad2dabf?s=128&d=identicon&r=PG", "display_name": "Manuel", "link": "https://stackoverflow.com/users/335911/manuel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 22, "favorite_count": 0, "accepted_answer_id": 51865188, "answer_count": 1, "score": 0, "last_activity_date": 1534361379, "creation_date": 1534360549, "question_id": 51865026, "link": "https://stackoverflow.com/questions/51865026/how-to-merge-generic-list-of-objects", "title": "How to merge generic list of objects?", "body": "<p>I want to combine/merge any number of objects and keep type safety. Here's what I have so far:</p>\n\n<pre><code>function combine(...args) {\n  return (&lt;any&gt;Object).assign({}, ...args);\n}\n\nconst foobar = combine(\n  { foo: 1 },\n  { bar: 2 }\n);\n\nconsole.log(foobar); // {foo: 1, bar: 2}\n</code></pre>\n\n<p>The problem is that foobar is of type <code>any</code>. I can get type safety for a known number of arguments, not any. Here's the solution for 2 arguments:</p>\n\n<pre><code>function combine&lt;T, U&gt;(a: T, b: U): T &amp; U {\n  return (&lt;any&gt;Object).assign({}, a, b);\n}\n</code></pre>\n\n<p>I was trying to make <code>function combine&lt;T extends any[]&gt;(...args: T)</code> work but not getting anywhere.</p>\n\n<p>Note: <code>(&lt;any&gt;Object)</code> is to work around <code>error TS2339: Property 'assign' does not exist on type 'ObjectConstructor'</code></p>\n"}, {"tags": ["typescript", "constructor", "abstract-class", "abstract"], "comments": [{"owner": {"reputation": 630270, "user_id": 571407, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2f0d9dec16bae1e06552af55ddefc11f?s=128&d=identicon&r=PG", "display_name": "JB Nizet", "link": "https://stackoverflow.com/users/571407/jb-nizet"}, "edited": false, "score": 0, "creation_date": 1534359260, "post_id": 51864697, "comment_id": 90681659, "body": "Add a data argument to the base class constructor, and pass it from the subclass constructor: <code>super(&#39;Foo&#39;)</code>"}, {"owner": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "edited": false, "score": 2, "creation_date": 1534359362, "post_id": 51864697, "comment_id": 90681709, "body": "You&#39;re putting the methods on the instance, not the prototype.  Why?"}, {"owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "edited": false, "score": 0, "creation_date": 1534359590, "post_id": 51864697, "comment_id": 90681805, "body": "Also calling abstract or overridden  methods in the constructor generally leads to unintuitive behavior: <a href=\"https://stackoverflow.com/questions/49775508/typescript-can-not-access-member-value-in-inherited-class-constructor\" title=\"typescript can not access member value in inherited class constructor\">stackoverflow.com/questions/49775508/&hellip;</a>"}, {"owner": {"reputation": 4950, "user_id": 3847117, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/625532931d60c1c3a51c51de2bf9f141?s=128&d=identicon&r=PG&f=1", "display_name": "Roymunson", "link": "https://stackoverflow.com/users/3847117/roymunson"}, "reply_to_user": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "edited": false, "score": 0, "creation_date": 1534359623, "post_id": 51864697, "comment_id": 90681824, "body": "@jcalz If I understand your question correctly, the reason <code>createStateData</code> is not in the abstract class is because this example is simplified, in reality, <code>createStateData</code> is actually something like <code>return new RiverStateData(this.boat, this.passengers)</code> and the class <code>RiverPuzzle</code> would have the properties <code>boat</code> and <code>passengers</code>."}, {"owner": {"reputation": 630270, "user_id": 571407, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2f0d9dec16bae1e06552af55ddefc11f?s=128&d=identicon&r=PG", "display_name": "JB Nizet", "link": "https://stackoverflow.com/users/571407/jb-nizet"}, "edited": false, "score": 1, "creation_date": 1534359723, "post_id": 51864697, "comment_id": 90681879, "body": "@Roymunson I thing he rather asks why you don&#39;t use <i>methods</i>: <code>createStateData() {   return &#39;Foo&#39;; }</code>"}], "answers": [{"comments": [{"owner": {"reputation": 4950, "user_id": 3847117, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/625532931d60c1c3a51c51de2bf9f141?s=128&d=identicon&r=PG&f=1", "display_name": "Roymunson", "link": "https://stackoverflow.com/users/3847117/roymunson"}, "edited": false, "score": 1, "creation_date": 1534361045, "post_id": 51864885, "comment_id": 90682465, "body": "Update: The code still broke (but to a lesser degree), but that&#39;s just because <code>createStateData</code> was using <code>this</code> inside of it. Let this be a lesson to all future visitors - don&#39;t use abstract functions (at least ones that contain <code>this</code>) inside of abstract constructors."}, {"owner": {"reputation": 4432, "user_id": 232990, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/caa30471f9ee4c1fcf9a1cdd9b0f5a4c?s=128&d=identicon&r=PG", "display_name": "Creynders", "link": "https://stackoverflow.com/users/232990/creynders"}, "reply_to_user": {"reputation": 4950, "user_id": 3847117, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/625532931d60c1c3a51c51de2bf9f141?s=128&d=identicon&r=PG&f=1", "display_name": "Roymunson", "link": "https://stackoverflow.com/users/3847117/roymunson"}, "edited": false, "score": 0, "creation_date": 1534423734, "post_id": 51864885, "comment_id": 90706164, "body": "There&#39;s absolutely no reason you shouldn&#39;t use <code>this</code> in abstract method implementations. @Roymunson the reason why your code is not working is something else, not reflected in this bare bones example."}], "tags": [], "owner": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "is_accepted": true, "score": 2, "last_activity_date": 1534359830, "creation_date": 1534359830, "answer_id": 51864885, "question_id": 51864697, "link": "https://stackoverflow.com/questions/51864697/typescript-call-abstract-method-from-abstract-constructor-or-provide-equivalen/51864885#51864885", "title": "Typescript - call abstract method from abstract constructor or provide equivalent functionality", "body": "<p>You are using <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Functions/Arrow_functions#Arrow_functions_used_as_methods\" rel=\"nofollow noreferrer\">arrow functions as methods</a>, which is generally discouraged.  It does weird things with <code>this</code>, and each instance of your class will have its own method as opposed to having just one method on the prototype.  Unless you have some good reason, I suggest you use prototype methods (not using arrow function notation), like this:</p>\n\n<pre><code>abstract class Puzzle {\n    addState() {\n         let data = this.createStateData()\n         //Perform a operation with data \n    }\n\n    abstract createStateData(): Object\n\n    protected constructor() {\n        this.addState()\n     }\n}\n\nclass RiverPuzzle extends Puzzle {\n    createStateData() {\n         return 'Foo'\n    }\n\n    constructor() { \n        super()            \n    }\n}\n</code></pre>\n\n<p>That should hopefully work more as you expect.  </p>\n"}], "owner": {"reputation": 4950, "user_id": 3847117, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/625532931d60c1c3a51c51de2bf9f141?s=128&d=identicon&r=PG&f=1", "display_name": "Roymunson", "link": "https://stackoverflow.com/users/3847117/roymunson"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2889, "favorite_count": 0, "accepted_answer_id": 51864885, "answer_count": 1, "score": 1, "last_activity_date": 1534360240, "creation_date": 1534359042, "last_edit_date": 1534360240, "question_id": 51864697, "link": "https://stackoverflow.com/questions/51864697/typescript-call-abstract-method-from-abstract-constructor-or-provide-equivalen", "title": "Typescript - call abstract method from abstract constructor or provide equivalent functionality", "body": "<p><s> In Typescript - abstract methods cannot be called from within abstract constructors (the code will compile, but will crash at runtime).\n</s></p>\n\n<p>Take the following example where the code crashes:</p>\n\n<pre><code>abstract class Puzzle {\n\n\n    addState = () =&gt; {\n         let data = this.createStateData()\n         //Perform a operation with data \n    }\n\n    abstract createStateData: () =&gt; Object\n\n    protected constructor() {\n        //The code crashes here because createStateData\n        //has not been defined yet\n        this.addState()\n     }\n\n}\n\nclass RiverPuzzle extends Puzzle {\n\n    createStateData = (): Object =&gt; {\n         return 'Foo'\n    }\n\n    constructor() { \n        super()\n        //this.addState()\n    }\n\n}\n</code></pre>\n\n<p>In this particular example, the problem can be solved by uncommenting the line in the constructor of the <code>RiverPuzzle</code> class and commenting the offending line in the constructor of the abstract class.</p>\n\n<p>However, the solution is suboptimal because there are many classes extending the abstract class <code>Puzzle</code> and I don't want to manually add <code>this.addState()</code> to the constructor of every single subclass.</p>\n\n<p>What is a more efficient alternative?</p>\n"}, {"tags": ["typescript", "import", "node-modules", "git-submodules"], "comments": [{"owner": {"reputation": 22363, "user_id": 4468617, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a09c08e1ae93a83e9102b6715fc75b4c?s=128&d=identicon&r=PG", "display_name": "Matt McCutchen", "link": "https://stackoverflow.com/users/4468617/matt-mccutchen"}, "edited": false, "score": 0, "creation_date": 1534361825, "post_id": 51864564, "comment_id": 90682781, "body": "What is the path of the file that is trying and failing to load a module from project B&#39;s node_modules?  Normally this should just work."}, {"owner": {"reputation": 439, "user_id": 8334579, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7dbc8cb1080832828efe17278294668c?s=128&d=identicon&r=PG&f=1", "display_name": "Michael Sutherland", "link": "https://stackoverflow.com/users/8334579/michael-sutherland"}, "reply_to_user": {"reputation": 22363, "user_id": 4468617, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a09c08e1ae93a83e9102b6715fc75b4c?s=128&d=identicon&r=PG", "display_name": "Matt McCutchen", "link": "https://stackoverflow.com/users/4468617/matt-mccutchen"}, "edited": false, "score": 0, "creation_date": 1534368510, "post_id": 51864564, "comment_id": 90685479, "body": "@MattMcCutchen I added an update to the post to try and provide an example of where the issue is seen."}, {"owner": {"reputation": 22363, "user_id": 4468617, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a09c08e1ae93a83e9102b6715fc75b4c?s=128&d=identicon&r=PG", "display_name": "Matt McCutchen", "link": "https://stackoverflow.com/users/4468617/matt-mccutchen"}, "edited": false, "score": 0, "creation_date": 1534368885, "post_id": 51864564, "comment_id": 90685584, "body": "Is your build of project A transpiling project B&#39;s source code into project A&#39;s <code>build</code> directory?  If so, that would definitely cause the problem.  Consider using <a href=\"https://www.typescriptlang.org/docs/handbook/project-references.html\" rel=\"nofollow noreferrer\">project references</a> so that project B will transpile into its own output directory.  You may then have to fiddle with compiler options and/or package.json files so that your import paths work for both the source and the output."}, {"owner": {"reputation": 439, "user_id": 8334579, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7dbc8cb1080832828efe17278294668c?s=128&d=identicon&r=PG&f=1", "display_name": "Michael Sutherland", "link": "https://stackoverflow.com/users/8334579/michael-sutherland"}, "reply_to_user": {"reputation": 22363, "user_id": 4468617, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a09c08e1ae93a83e9102b6715fc75b4c?s=128&d=identicon&r=PG", "display_name": "Matt McCutchen", "link": "https://stackoverflow.com/users/4468617/matt-mccutchen"}, "edited": false, "score": 0, "creation_date": 1534433684, "post_id": 51864564, "comment_id": 90712818, "body": "@MattMcCutchen Yes at the moment Project A is building both A and B into A&#39;s build directory. I would like to keep them both independent. Is the normal behavior to have a pre-build step that builds the dependency projects? In which case, should project A be using <code>import X from ..&#47;project-b&#47;some&#47;folder</code> or <code>import X from ..&#47;project-b&#47;build&#47;src&#47;some&#47;folder</code> and then rely on the source maps. I still want to be able to import the typescript files and not the javascript compiled source so that all the typescript declarations are intact."}, {"owner": {"reputation": 22363, "user_id": 4468617, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a09c08e1ae93a83e9102b6715fc75b4c?s=128&d=identicon&r=PG", "display_name": "Matt McCutchen", "link": "https://stackoverflow.com/users/4468617/matt-mccutchen"}, "edited": false, "score": 0, "creation_date": 1534447446, "post_id": 51864564, "comment_id": 90719762, "body": "A project reference gives you just such a &quot;pre-build step&quot; when you use <code>tsc -b .</code>.  <code>import X from &#39;..&#47;project-b&#47;build&#47;src&#47;some&#47;folder&#39;</code> should work because TypeScript will create a <code>.d.ts</code> file in <code>project-b&#47;build&#47;src&#47;some&#47;folder</code> when it runs on <code>project-b</code>.  It&#39;s a <a href=\"https://www.typescriptlang.org/docs/handbook/project-references.html#caveats-for-project-references\" rel=\"nofollow noreferrer\">known limitation</a> that you have to build before that import will resolve in your IDE."}], "answers": [{"tags": [], "owner": {"reputation": 439, "user_id": 8334579, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7dbc8cb1080832828efe17278294668c?s=128&d=identicon&r=PG&f=1", "display_name": "Michael Sutherland", "link": "https://stackoverflow.com/users/8334579/michael-sutherland"}, "is_accepted": false, "score": 0, "last_activity_date": 1534499894, "creation_date": 1534499894, "answer_id": 51892881, "question_id": 51864564, "link": "https://stackoverflow.com/questions/51864564/imported-git-submodule-causing-run-time-linking-errors-in-typescript-project/51892881#51892881", "title": "imported git submodule causing run-time linking errors in Typescript project", "body": "<p>Answer provided in comments:</p>\n\n<blockquote>\n  <p>A project reference gives you just such a \"pre-build step\" when you use tsc -b .. import X from '../project-b/build/src/some/folder' should work because TypeScript will create a .d.ts file in project-b/build/src/some/folder when it runs on project-b. It's a known limitation that you have to build before that import will resolve in your IDE. \u2013 Matt McCutchen 14 hours ago </p>\n</blockquote>\n"}], "owner": {"reputation": 439, "user_id": 8334579, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7dbc8cb1080832828efe17278294668c?s=128&d=identicon&r=PG&f=1", "display_name": "Michael Sutherland", "link": "https://stackoverflow.com/users/8334579/michael-sutherland"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 483, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1534499894, "creation_date": 1534358347, "last_edit_date": 1534368473, "question_id": 51864564, "link": "https://stackoverflow.com/questions/51864564/imported-git-submodule-causing-run-time-linking-errors-in-typescript-project", "title": "imported git submodule causing run-time linking errors in Typescript project", "body": "<p>Typescript Project A imports Typescript Project B, however I am actively modifying Project B at the same time as working on Project A.</p>\n\n<p>Project A and B each have their own git repo.\nI have added Project B as a git submodule to Project A</p>\n\n<pre><code>/project-a/\n    /src/\n       /index.ts\n    /build/\n       /index.js\n    /test/\n    /node_modules/\n    /project-b/  &lt;- git submodule\n       /src\n       /build/\n       /node_modules\n</code></pre>\n\n<p>Inside index.ts</p>\n\n<pre><code>import { classB } from '../project-b/src/classB';\n</code></pre>\n\n<p>I can build Project B independently and I can build Project A with Project B included in tsconfig.json, however at run time node can't find the modules from Project B which are in Project B's node_modules directory.</p>\n\n<p>I have tried using yarn workspaces where both Project A and Project B are the workspaces, however doing that results in Project A no longer being able to be built due to a bunch of build errors coming from Project B which weren't there before.</p>\n\n<p>What is the correct way to set this up?</p>\n\n<p><strong>Update:</strong>\nOne example would be that project-b has a dependency on 'winston' logger npm module. <code>yarn install</code> in project-b folder will download winston package to <code>project-b/node_modules</code>. I then <code>yarn run build</code> in <code>project-a</code> folder and the project builds successfully with no errors. If I then run <code>node build/index.js</code> in <code>project-a</code> folder it says that 'winston' module cannot be loaded. As a hacky fix I am adding this dependency to <code>project-a</code> which fixes the runtime error but I would rather not add all dependencies of <code>project-b</code> to <code>project-a</code>. I think the problem is that if this were a javascript project it would find <code>project-b/node_modules</code> directory but because in typescript the javascript lives in <code>build/</code> there is no <code>project-b/node_modules</code> folder in the folder tree.</p>\n"}, {"tags": ["javascript", "reactjs", "typescript", "ecmascript-6"], "comments": [{"owner": {"reputation": 4828, "user_id": 8378419, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/2772206b4d6afcbdfe7485286554190d?s=128&d=identicon&r=PG&f=1", "display_name": "Robbie Milejczak", "link": "https://stackoverflow.com/users/8378419/robbie-milejczak"}, "edited": false, "score": 0, "creation_date": 1534358247, "post_id": 51864529, "comment_id": 90681165, "body": "You get that error because <code>items.data</code> does not exist, can you post some more code? console.log() your response, what is it&#39;s exact shape?"}, {"owner": {"reputation": 139, "user_id": 7631165, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3dd2e574d2c61ae2866b992d759a8cbd?s=128&d=identicon&r=PG&f=1", "display_name": "Hayden Carlson", "link": "https://stackoverflow.com/users/7631165/hayden-carlson"}, "edited": false, "score": 3, "creation_date": 1534358264, "post_id": 51864529, "comment_id": 90681180, "body": "Can you provide a code example and the structure of the response you are receiving?"}], "answers": [{"tags": [], "owner": {"reputation": 309, "user_id": 10230843, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-_L6lcmfkVzg/AAAAAAAAAAI/AAAAAAAABZw/LjoEP0ZFqwQ/photo.jpg?sz=128", "display_name": "Nigel Gilbert", "link": "https://stackoverflow.com/users/10230843/nigel-gilbert"}, "is_accepted": false, "score": 0, "last_activity_date": 1534358652, "creation_date": 1534358652, "answer_id": 51864612, "question_id": 51864529, "link": "https://stackoverflow.com/questions/51864529/error-in-displaying-json-in-react/51864612#51864612", "title": "Error in displaying JSON in react", "body": "<p>I don't think there is enough context here to answer your question.  Can you provide an example?  In the meantime, I'll still try to help you.  </p>\n\n<p>I am not sure if your request is <a href=\"https://stackoverflow.com/questions/16715380/what-is-difference-between-asynchronous-http-request-and-synchronous-http-reques\">synchronous or asynchronous</a>.  Looking at your error, you are probably making an asynchronous request.  When the first <code>render()</code> is called, <code>items</code> hasn't resolved yet.  Therefore, <code>item.data</code> is <code>undefined</code>, which is the cause of your error.</p>\n\n<p>A solution is to initialize the <code>data</code> property of <code>this.state.item</code> to an empty array <code>[]</code>, that way your not calling the index operator of an undefined object.</p>\n"}], "owner": {"reputation": 121, "user_id": 8032050, "user_type": "registered", "accept_rate": 11, "profile_image": "https://www.gravatar.com/avatar/60d038eda989e20f233c5170774f75e1?s=128&d=identicon&r=PG&f=1", "display_name": "rockz", "link": "https://stackoverflow.com/users/8032050/rockz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 74, "favorite_count": 0, "answer_count": 1, "score": -2, "last_activity_date": 1534358652, "creation_date": 1534358184, "question_id": 51864529, "link": "https://stackoverflow.com/questions/51864529/error-in-displaying-json-in-react", "title": "Error in displaying JSON in react", "body": "<p>On calling an API , got a response, stored it in a variable \"items\" and it is getting displayed on console also. When i access items.data[0].id, it is getting displayed in console but when i try to display same thing in render method, error is coming that :-</p>\n\n<pre><code>TypeError : cannot read property 0 of undefined.\n</code></pre>\n\n<p>I am calling the API call in ComponentWillMount() function in react.</p>\n"}, {"tags": ["angular", "typescript", "firebase", "firebase-authentication", "recaptcha"], "answers": [{"tags": [], "owner": {"reputation": 41, "user_id": 6155124, "user_type": "registered", "profile_image": "https://graph.facebook.com/10207141860797541/picture?type=large", "display_name": "Lucas Aides", "link": "https://stackoverflow.com/users/6155124/lucas-aides"}, "is_accepted": false, "score": 0, "last_activity_date": 1534496342, "creation_date": 1534496342, "answer_id": 51891814, "question_id": 51864517, "link": "https://stackoverflow.com/questions/51864517/firebase-signinwithphonenumber-recaptcha-client-has-been-deleted-0/51891814#51891814", "title": "firebase signInWithPhoneNumber recaptcha client has been deleted 0", "body": "<p>Ok so the error was because the recaptcha container got deleted,\nI set loading to true on the sendLoginCode() and the loading would delete the entire login component from dom..</p>\n"}, {"comments": [{"owner": {"reputation": 1507, "user_id": 381124, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/GLvil.jpg?s=128&g=1", "display_name": "Mike Poole", "link": "https://stackoverflow.com/users/381124/mike-poole"}, "edited": false, "score": 2, "creation_date": 1567149142, "post_id": 57721886, "comment_id": 101884875, "body": "Welcome to SO. Please can you explain why your answer is valid and not just provide the code."}], "tags": [], "owner": {"reputation": 41, "user_id": 11997886, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-MkSb_v08Qmg/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rehg7aUdiZU1R25lbcmHZztclw9Bg/photo.jpg?sz=128", "display_name": "Priti Shreya", "link": "https://stackoverflow.com/users/11997886/priti-shreya"}, "is_accepted": false, "score": 2, "last_activity_date": 1567148012, "creation_date": 1567148012, "answer_id": 57721886, "question_id": 51864517, "link": "https://stackoverflow.com/questions/51864517/firebase-signinwithphonenumber-recaptcha-client-has-been-deleted-0/57721886#57721886", "title": "firebase signInWithPhoneNumber recaptcha client has been deleted 0", "body": "<pre><code>    ngOnInit() {\n   this.windowRef = window;\n    this.windowRef.recaptchaVerifier = new firebase.auth.RecaptchaVerifier('recaptcha-container', {\n      'size': 'invisible',\n      'callback': response =&gt; {\n        // reCAPTCHA solved, allow signInWithPhoneNumber.\n      },\n      'expired-callback': () =&gt; {\n        // Reset reCAPTCHA?\n      }\n    });\n  }\n\n  isRecaptchaValid() {\n    return (grecaptcha.getResponse(this.windowRef.recaptchaWidgetId).length &gt; 0);\n  }\n\n  sendLoginCode() {\n    this.store.dispatch(new fromStore.SetLoading(true));\n    this.firebaseFunctionsService.getFunction(`userExistence/${this.phoneNumber.e164}`).subscribe(data =&gt; {\n      if (data &amp;&amp; data.exists) {\n        const appVerifier = this.windowRef.recaptchaVerifier;\n        const num = this.phoneNumber.e164;\n        firebase.auth().signInWithPhoneNumber(num, appVerifier).then(result =&gt; {\n          this.windowRef.confirmationResult = result;\n          this.store.dispatch(new fromStore.SetLoading(false));\n        }).catch(error =&gt; {\n          this.messageService.add({\n            summary: '\u05d4\u05d4\u05d5\u05d3\u05e2\u05d4 \u05dc\u05d0 \u05e0\u05e9\u05dc\u05d7\u05d4',\n            detail: error.toString(),\n            severity: 'error'\n          });\n          grecaptcha.reset(this.windowRef.recaptchaWidgetId);\n          this.store.dispatch(new fromStore.SetLoading(false));\n        });\n      } else {\n        this.messageService.add({\n          summary: '\u05de\u05e9\u05ea\u05de\u05e9 \u05d6\u05d4 \u05dc\u05d0 \u05e7\u05d9\u05d9\u05dd \u05d1\u05de\u05e2\u05e8\u05db\u05ea',\n          detail: '\u05d0\u05e0\u05d0 \u05e4\u05e0\u05d4 \u05dc\u05de\u05e0\u05d4\u05dc \u05d4\u05de\u05e2\u05e8\u05db\u05ea \u05e2\u05dc \u05de\u05e0\u05ea \u05dc\u05d4\u05d5\u05e1\u05d9\u05e3 \u05dc\u05da \u05de\u05e9\u05ea\u05de\u05e9',\n          severity: 'warn'\n        });\n        this.store.dispatch(new fromStore.SetLoading(false));\n      }\n    }, serverError =&gt; {\n      this.messageService.add({\n        summary: '\u05d4\u05d4\u05d5\u05d3\u05e2\u05d4 \u05dc\u05d0 \u05e0\u05e9\u05dc\u05d7\u05d4',\n        detail: serverError.message.toString(),\n        severity: 'error'\n      });\n      this.store.dispatch(new fromStore.SetLoading(false));\n    });\n</code></pre>\n"}], "owner": {"reputation": 41, "user_id": 6155124, "user_type": "registered", "profile_image": "https://graph.facebook.com/10207141860797541/picture?type=large", "display_name": "Lucas Aides", "link": "https://stackoverflow.com/users/6155124/lucas-aides"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1519, "favorite_count": 0, "answer_count": 2, "score": 4, "last_activity_date": 1567148012, "creation_date": 1534358140, "question_id": 51864517, "link": "https://stackoverflow.com/questions/51864517/firebase-signinwithphonenumber-recaptcha-client-has-been-deleted-0", "title": "firebase signInWithPhoneNumber recaptcha client has been deleted 0", "body": "<p>Hi I'm trying to authenticate users with phone numbers without using firebaseui.</p>\n\n<p>my html template looks like this:</p>\n\n<pre><code>&lt;div class=\"flex center space-items-sides-m m-t-m\" dir=\"ltr\"&gt;\n    &lt;p-dropdown panelStyleClass=\"phone-select\" [options]=\"countries\" [(ngModel)]=\"phoneNumber.country\" [style]=\"{'width':'130px'}\" optionLabel=\"name\" [filter]=\"true\" appendTo=\"body\"&gt;\n      &lt;ng-template let-item pTemplate=\"selectedItem\"&gt;\n        +{{item.value.callingCode}}\n      &lt;/ng-template&gt;\n    &lt;/p-dropdown&gt;\n    &lt;input type=\"text\" pInputText id=\"phone\" [(ngModel)]=\"phoneNumber.phone\" pKeyFilter=\"pint\"&gt;\n  &lt;/div&gt;\n  &lt;div class=\"m-t-l\" id=\"recaptcha-container\"&gt;&lt;/div&gt;\n  &lt;button (click)=\"sendLoginCode()\" class=\"m-t-l\" pButton label=\"\u05e9\u05dc\u05d7 \u05e7\u05d5\u05d3 \u05d0\u05d9\u05de\u05d5\u05ea\" [disabled]=\"!phoneNumber.isValid || !isRecaptchaValid()\"&gt;&lt;/button&gt;\n</code></pre>\n\n<p>and my component looks like this:</p>\n\n<pre><code> ngOnInit() {\n    this.windowRef = window;\n    this.windowRef.recaptchaVerifier = new firebase.auth.RecaptchaVerifier('recaptcha-container');\n    this.windowRef.recaptchaVerifier.render().then((widgetId) =&gt; {\n      this.windowRef.recaptchaWidgetId = widgetId;\n    });\n  }\n\n  isRecaptchaValid() {\n    return (grecaptcha.getResponse(this.windowRef.recaptchaWidgetId).length &gt; 0);\n  }\n\n  sendLoginCode() {\n    this.store.dispatch(new fromStore.SetLoading(true));\n    this.firebaseFunctionsService.getFunction(`userExistence/${this.phoneNumber.e164}`).subscribe(data =&gt; {\n      if (data &amp;&amp; data.exists) {\n        const appVerifier = this.windowRef.recaptchaVerifier;\n        const num = this.phoneNumber.e164;\n        firebase.auth().signInWithPhoneNumber(num, appVerifier).then(result =&gt; {\n          this.windowRef.confirmationResult = result;\n          this.store.dispatch(new fromStore.SetLoading(false));\n        }).catch(error =&gt; {\n          this.messageService.add({\n            summary: '\u05d4\u05d4\u05d5\u05d3\u05e2\u05d4 \u05dc\u05d0 \u05e0\u05e9\u05dc\u05d7\u05d4',\n            detail: error.toString(),\n            severity: 'error'\n          });\n          grecaptcha.reset(this.windowRef.recaptchaWidgetId);\n          this.store.dispatch(new fromStore.SetLoading(false));\n        });\n      } else {\n        this.messageService.add({\n          summary: '\u05de\u05e9\u05ea\u05de\u05e9 \u05d6\u05d4 \u05dc\u05d0 \u05e7\u05d9\u05d9\u05dd \u05d1\u05de\u05e2\u05e8\u05db\u05ea',\n          detail: '\u05d0\u05e0\u05d0 \u05e4\u05e0\u05d4 \u05dc\u05de\u05e0\u05d4\u05dc \u05d4\u05de\u05e2\u05e8\u05db\u05ea \u05e2\u05dc \u05de\u05e0\u05ea \u05dc\u05d4\u05d5\u05e1\u05d9\u05e3 \u05dc\u05da \u05de\u05e9\u05ea\u05de\u05e9',\n          severity: 'warn'\n        });\n        this.store.dispatch(new fromStore.SetLoading(false));\n      }\n    }, serverError =&gt; {\n      this.messageService.add({\n        summary: '\u05d4\u05d4\u05d5\u05d3\u05e2\u05d4 \u05dc\u05d0 \u05e0\u05e9\u05dc\u05d7\u05d4',\n        detail: serverError.message.toString(),\n        severity: 'error'\n      });\n      this.store.dispatch(new fromStore.SetLoading(false));\n    });\n</code></pre>\n\n<p>so the function isRecaptchaValid() works perfectly and the submit button becomes enabled when the users clicks \"I'm not a robot\" but when the user clicks the submit button the function firebase.auth().signInWithPhoneNumber goes straight to the catch with the error \"recaptcha client has been deleted 0\"\neven after I do grecaptcha.reset(this.windowRef.recaptchaWidgetId) and try to submit again I go straight to the catch with error \"recaptcha client has been deleted 1\" and so on..</p>\n\n<p>I'm new to the recaptcha and don't understand it so much.. what am I doing wrong? I worked from the firebase docs <a href=\"https://firebase.google.com/docs/auth/web/phone-auth\" rel=\"nofollow noreferrer\">https://firebase.google.com/docs/auth/web/phone-auth</a>\nbut they dont explain there what to do when there are errors..</p>\n\n<p>I'm using angular 6 with firebase 5.0.3 and angularfire2 5.0.0-rc.9</p>\n\n<p>please help</p>\n"}, {"tags": ["javascript", "regex", "typescript"], "comments": [{"owner": {"reputation": 10920, "user_id": 3390419, "user_type": "registered", "accept_rate": 30, "profile_image": "https://i.stack.imgur.com/cXKh9.jpg?s=128&g=1", "display_name": "Paolo", "link": "https://stackoverflow.com/users/3390419/paolo"}, "edited": false, "score": 1, "creation_date": 1534358324, "post_id": 51864482, "comment_id": 90681212, "body": "Try <code>(\\d)(\\d{3})(\\.\\d+)?</code> <a href=\"https://regex101.com/r/swu2DG/1\" rel=\"nofollow noreferrer\">here</a>."}, {"owner": {"reputation": 4828, "user_id": 8378419, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/2772206b4d6afcbdfe7485286554190d?s=128&d=identicon&r=PG&f=1", "display_name": "Robbie Milejczak", "link": "https://stackoverflow.com/users/8378419/robbie-milejczak"}, "edited": false, "score": 0, "creation_date": 1534358397, "post_id": 51864482, "comment_id": 90681244, "body": "You can use <code>|</code> in Regex it functions as a boolean OR"}, {"owner": {"reputation": 10920, "user_id": 3390419, "user_type": "registered", "accept_rate": 30, "profile_image": "https://i.stack.imgur.com/cXKh9.jpg?s=128&g=1", "display_name": "Paolo", "link": "https://stackoverflow.com/users/3390419/paolo"}, "edited": false, "score": 0, "creation_date": 1534358495, "post_id": 51864482, "comment_id": 90681290, "body": "Are you expecting digits of variable length?"}, {"owner": {"reputation": 333, "user_id": 8794616, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/302172da3e85a81581618699336fc7d0?s=128&d=identicon&r=PG&f=1", "display_name": "Avernikoz", "link": "https://stackoverflow.com/users/8794616/avernikoz"}, "reply_to_user": {"reputation": 10920, "user_id": 3390419, "user_type": "registered", "accept_rate": 30, "profile_image": "https://i.stack.imgur.com/cXKh9.jpg?s=128&g=1", "display_name": "Paolo", "link": "https://stackoverflow.com/users/3390419/paolo"}, "edited": false, "score": 0, "creation_date": 1534359621, "post_id": 51864482, "comment_id": 90681823, "body": "@UnbearableLightness does not work for big numbers: <a href=\"https://regex101.com/r/2qjIYu/1\" rel=\"nofollow noreferrer\">regex101.com/r/2qjIYu/1</a>"}, {"owner": {"reputation": 10920, "user_id": 3390419, "user_type": "registered", "accept_rate": 30, "profile_image": "https://i.stack.imgur.com/cXKh9.jpg?s=128&g=1", "display_name": "Paolo", "link": "https://stackoverflow.com/users/3390419/paolo"}, "edited": false, "score": 0, "creation_date": 1534359645, "post_id": 51864482, "comment_id": 90681837, "body": "Yeah, hence why I asked if you are expecting digits of variable length."}, {"owner": {"reputation": 333, "user_id": 8794616, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/302172da3e85a81581618699336fc7d0?s=128&d=identicon&r=PG&f=1", "display_name": "Avernikoz", "link": "https://stackoverflow.com/users/8794616/avernikoz"}, "reply_to_user": {"reputation": 10920, "user_id": 3390419, "user_type": "registered", "accept_rate": 30, "profile_image": "https://i.stack.imgur.com/cXKh9.jpg?s=128&g=1", "display_name": "Paolo", "link": "https://stackoverflow.com/users/3390419/paolo"}, "edited": false, "score": 0, "creation_date": 1534359671, "post_id": 51864482, "comment_id": 90681852, "body": "@UnbearableLightness for 100 billion as maximum, I guess, it would be great."}, {"owner": {"reputation": 333, "user_id": 8794616, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/302172da3e85a81581618699336fc7d0?s=128&d=identicon&r=PG&f=1", "display_name": "Avernikoz", "link": "https://stackoverflow.com/users/8794616/avernikoz"}, "reply_to_user": {"reputation": 10920, "user_id": 3390419, "user_type": "registered", "accept_rate": 30, "profile_image": "https://i.stack.imgur.com/cXKh9.jpg?s=128&g=1", "display_name": "Paolo", "link": "https://stackoverflow.com/users/3390419/paolo"}, "edited": false, "score": 0, "creation_date": 1534359794, "post_id": 51864482, "comment_id": 90681915, "body": "@UnbearableLightness Is it possible?"}, {"owner": {"reputation": 10920, "user_id": 3390419, "user_type": "registered", "accept_rate": 30, "profile_image": "https://i.stack.imgur.com/cXKh9.jpg?s=128&g=1", "display_name": "Paolo", "link": "https://stackoverflow.com/users/3390419/paolo"}, "edited": false, "score": 0, "creation_date": 1534360725, "post_id": 51864482, "comment_id": 90682335, "body": "It&#39;s certainly possible but its considerably tricky, because you have to count three digits counting from right to left. Perhaps @Wiktor has a solution for this problem."}], "answers": [{"tags": [], "owner": {"reputation": 2945, "user_id": 3449808, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/IPO0K.jpg?s=128&g=1", "display_name": "Pavel Agarkov", "link": "https://stackoverflow.com/users/3449808/pavel-agarkov"}, "is_accepted": false, "score": 3, "last_activity_date": 1534367543, "creation_date": 1534367543, "answer_id": 51866512, "question_id": 51864482, "link": "https://stackoverflow.com/questions/51864482/how-to-combine-two-regex-in-one-when-we-format-number-to-us-format/51866512#51866512", "title": "How to combine two regex in one when we format number to US format", "body": "<p>Since there is only (?=...) 'followed by' expression and no 'preceded by' - you can reverse the string in order to properly use 'followed by' like this:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const num = '1234567890.12345';\r\nconst result = [...[...num] // destructing the string\r\n  .reverse().join('') // reversing the original string\r\n  .replace(/(?:\\d+\\.)?(\\d{3}(?=\\d))/g,'$&amp;,')]\r\n  .reverse().join(''); // reversing the result back to normal\r\nconsole.log(result);</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>But this approach is faaar from optimal!<br>\nDo not use it if you have a lot of data to process!</p>\n"}, {"tags": [], "owner": {"reputation": 156, "user_id": 6776408, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1888d807f25fd206cb34a3c651df9274?s=128&d=identicon&r=PG", "display_name": "SIARHEI PAKHUTA", "link": "https://stackoverflow.com/users/6776408/siarhei-pakhuta"}, "is_accepted": false, "score": 1, "last_activity_date": 1534404688, "creation_date": 1534404688, "answer_id": 51871830, "question_id": 51864482, "link": "https://stackoverflow.com/questions/51864482/how-to-combine-two-regex-in-one-when-we-format-number-to-us-format/51871830#51871830", "title": "How to combine two regex in one when we format number to US format", "body": "<p>Regexp from hell, but it works )))</p>\n\n<pre><code>const num = '1234567890.123456';\nconst result  = num.replace(new RegExp('\\\\B(?=(\\\\d{3})+'+(~num.indexOf('.')?'\\\\.':'$')+')','g'),',');\n\nconsole.log(result);\n</code></pre>\n\n<p>Original answer: <a href=\"https://stackoverflow.com/a/46371080/6776408\">https://stackoverflow.com/a/46371080/6776408</a></p>\n"}, {"tags": [], "owner": {"reputation": 2599, "user_id": 3350428, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FShig.jpg?s=128&g=1", "display_name": "Andrei Odegov", "link": "https://stackoverflow.com/users/3350428/andrei-odegov"}, "is_accepted": false, "score": 0, "last_activity_date": 1534581036, "creation_date": 1534581036, "answer_id": 51906768, "question_id": 51864482, "link": "https://stackoverflow.com/questions/51864482/how-to-combine-two-regex-in-one-when-we-format-number-to-us-format/51906768#51906768", "title": "How to combine two regex in one when we format number to US format", "body": "<p>Check on the next regex <code>(?:(?&lt;=^|[^\\d.])(\\d{1,3})(?=(?:\\d{3})+(?:\\D|$))|\\G)(\\d{3})</code>.</p>\n\n<p>To try the regex online and get an explanation, please click <a href=\"https://regex101.com/r/xfQtyA/3\" rel=\"nofollow noreferrer\">here</a>.</p>\n"}], "owner": {"reputation": 333, "user_id": 8794616, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/302172da3e85a81581618699336fc7d0?s=128&d=identicon&r=PG&f=1", "display_name": "Avernikoz", "link": "https://stackoverflow.com/users/8794616/avernikoz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 95, "favorite_count": 0, "answer_count": 3, "score": 5, "last_activity_date": 1534581036, "creation_date": 1534357989, "question_id": 51864482, "link": "https://stackoverflow.com/questions/51864482/how-to-combine-two-regex-in-one-when-we-format-number-to-us-format", "title": "How to combine two regex in one when we format number to US format", "body": "<p>I want to combine two regexes in one, but I don't know how to do it in my case.\nSo, I want to do next thing: function that format number to US-format, simply adding commas for 1000, like <strong><em>1,000</em></strong> and so on. (I know about <code>toLocaleString('en-US')</code> and <code>Intl.NumberFormat.prototype.format</code> but these are unsuitable for my case).\nFor do it using regex I tried this expression: <code>/\\d(?=(\\d{3})+\\.)/g</code> and it works well, but <strong><em>only</em></strong> if our number contains <strong><em>dot</em></strong> (e.g. <code>1000.23</code>), but if there is <em>no dot</em>, the current regex won't work.\n(<em>Proof:</em> <a href=\"https://regex101.com/r/93O0gJ/1\" rel=\"noreferrer\">https://regex101.com/r/93O0gJ/1</a>)</p>\n\n<p>There is another regex that I have to make my function work properly: <code>/\\d(?=(\\d{3})+$)/g</code> but it works properly only when we have <strong><em>no dot's at all</em></strong>. If we have dots, it will replace the <em>float or fractional part</em> with commas, and it is not a correct behaviour for my requirements. (<em>My number would be like \"1000.12,345,678\" for number 1000.12345678</em>). But without dots in number everything works well.\n(Proof: <a href=\"https://regex101.com/r/BHikK7/1\" rel=\"noreferrer\">https://regex101.com/r/BHikK7/1</a>)</p>\n\n<p>So, for my case I create function that checks:\nif <strong><em>number</em></strong> has dots, I use the 1st regex, if doesn't, I use 2nd:</p>\n\n<pre><code>const formatNumberToUSFormat = (numberToFormat: number):string =&gt; {\n  const stringNumber = numberToFormat.toString()\n\n  return stringNumber.match(/\\./g) ?\n    stringNumber.replace(/\\d(?=(\\d{3})+\\.)/g, '$&amp;,') : \n    stringNumber.replace(/\\d(?=(\\d{3})+$)/g, '$&amp;,')\n}\n</code></pre>\n\n<p>My main question \u2014 how to combine two regex in one in my case and by that avoid unnecessary checks for dots and so on.\nThanks in advance.</p>\n"}, {"tags": ["angular", "typescript", "angular6", "angular-reactive-forms", "ng-bootstrap"], "answers": [{"comments": [{"owner": {"reputation": 592, "user_id": 2932998, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/nnFO1.jpg?s=128&g=1", "display_name": "Randika", "link": "https://stackoverflow.com/users/2932998/randika"}, "edited": false, "score": 0, "creation_date": 1534392648, "post_id": 51864531, "comment_id": 90690492, "body": "Yeah, I added this on parent component where calls modal open. But didn&#39;t work."}, {"owner": {"reputation": 14745, "user_id": 7790376, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-i3Pxbe4117Y/AAAAAAAAAAI/AAAAAAAAAEw/r6BT0yIo_4E/photo.jpg?sz=128", "display_name": "Chellappan \u0bb5", "link": "https://stackoverflow.com/users/7790376/chellappan-%e0%ae%b5"}, "reply_to_user": {"reputation": 592, "user_id": 2932998, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/nnFO1.jpg?s=128&g=1", "display_name": "Randika", "link": "https://stackoverflow.com/users/2932998/randika"}, "edited": false, "score": 0, "creation_date": 1534395376, "post_id": 51864531, "comment_id": 90691139, "body": "try this ngAfterViewChecked(){    //your code to update the model    this.cdr.detectChanges(); }"}, {"owner": {"reputation": 592, "user_id": 2932998, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/nnFO1.jpg?s=128&g=1", "display_name": "Randika", "link": "https://stackoverflow.com/users/2932998/randika"}, "edited": false, "score": 0, "creation_date": 1534396593, "post_id": 51864531, "comment_id": 90691471, "body": "Thanks, But didn&#39;t work. I think I am doing something wrong. Here is the stackblitz link <a href=\"https://stackblitz.com/edit/angular-fwrywq\" rel=\"nofollow noreferrer\">stackblitz.com/edit/angular-fwrywq</a> for you."}, {"owner": {"reputation": 14745, "user_id": 7790376, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-i3Pxbe4117Y/AAAAAAAAAAI/AAAAAAAAAEw/r6BT0yIo_4E/photo.jpg?sz=128", "display_name": "Chellappan \u0bb5", "link": "https://stackoverflow.com/users/7790376/chellappan-%e0%ae%b5"}, "reply_to_user": {"reputation": 592, "user_id": 2932998, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/nnFO1.jpg?s=128&g=1", "display_name": "Randika", "link": "https://stackoverflow.com/users/2932998/randika"}, "edited": false, "score": 0, "creation_date": 1534399043, "post_id": 51864531, "comment_id": 90692234, "body": "@Randika check now"}], "tags": [], "owner": {"reputation": 14745, "user_id": 7790376, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-i3Pxbe4117Y/AAAAAAAAAAI/AAAAAAAAAEw/r6BT0yIo_4E/photo.jpg?sz=128", "display_name": "Chellappan \u0bb5", "link": "https://stackoverflow.com/users/7790376/chellappan-%e0%ae%b5"}, "is_accepted": true, "score": 1, "last_activity_date": 1534399032, "last_edit_date": 1534399032, "creation_date": 1534358190, "answer_id": 51864531, "question_id": 51864459, "link": "https://stackoverflow.com/questions/51864459/how-to-open-angular-modal-on-focus-reactive-form-text-field/51864531#51864531", "title": "How to open angular modal on focus reactive form text field?", "body": "<p>To fix this use event.PreventDefault\n<strong>Html</strong></p>\n\n<pre><code>&lt;input type=\"text\" [readonly]=\"true\" placeholder=\"Please select a user\" (focus)=\"openModal($event)\" formControlName=\"username\" class=\"form-control\"/&gt;\n</code></pre>\n\n<p><strong>TS</strong></p>\n\n<pre><code> openModal(event) {\n    event.srcElement.blur();\n  event.preventDefault();\n    const userModal = this.modalService.open(UserComponent, { size: 'sm' });\n  }\n</code></pre>\n\n<p>Forked Example:<a href=\"https://stackblitz.com/edit/angular-4md9fd\" rel=\"nofollow noreferrer\">https://stackblitz.com/edit/angular-4md9fd</a></p>\n"}], "owner": {"reputation": 592, "user_id": 2932998, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/nnFO1.jpg?s=128&g=1", "display_name": "Randika", "link": "https://stackoverflow.com/users/2932998/randika"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 502, "favorite_count": 0, "accepted_answer_id": 51864531, "answer_count": 1, "score": 0, "last_activity_date": 1534399032, "creation_date": 1534357882, "last_edit_date": 1534396242, "question_id": 51864459, "link": "https://stackoverflow.com/questions/51864459/how-to-open-angular-modal-on-focus-reactive-form-text-field", "title": "How to open angular modal on focus reactive form text field?", "body": "<p>I need to open angular <code>(Ngbmodal)</code> modal when focus on a read-only text field. But when I do, it opens the modal but shows an error in the console and unable to close the modal.</p>\n\n<p>Error:</p>\n\n<p><a href=\"https://i.stack.imgur.com/kAihW.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/kAihW.png\" alt=\"enter image description here\"></a></p>\n\n<p>Text Field :</p>\n\n<pre><code>&lt;input type=\"text\" [readonly]=\"true\" placeholder=\"Please select a user\" (focus)=\"openUserSelectModal()\" formControlName=\"username\" class=\"form-control\" [ngClass]=\"{ 'is-invalid': submitted &amp;&amp; f.username.errors }\" /&gt;\n</code></pre>\n\n<p>Modal open function:</p>\n\n<pre><code>ngOnInit() {\nthis.basicAccountForm = this.formBuilder.group({\n  username: ['', Validators.required],\n});\n</code></pre>\n\n<p>}</p>\n\n<pre><code>openUserSelectModal() {\nconst modal = this.modalService.open(UserSelectorComponent, { size: 'sm', container: 'nb-layout' });\n\nmodal.result.then((username) =&gt; {\n  if (username) {\n    this.basicAccountForm.controls['username'].setValue(username);\n  }\n}, () =&gt; {\n  this.basicAccountForm.controls['username'].setValue(null);\n});\n }\n</code></pre>\n\n<p><a href=\"https://stackblitz.com/edit/angular-fwrywq\" rel=\"nofollow noreferrer\">Stackblitz Editor Link</a></p>\n"}, {"tags": ["javascript", "typescript"], "comments": [{"owner": {"reputation": 108986, "user_id": 511529, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/YNRmY.jpg?s=128&g=1", "display_name": "GolezTrol", "link": "https://stackoverflow.com/users/511529/goleztrol"}, "edited": false, "score": 1, "creation_date": 1534357814, "post_id": 51864392, "comment_id": 90680972, "body": "The question is not only if the loop can be parallel, but also if the canvas can be parallel."}, {"owner": {"reputation": 369690, "user_id": 182668, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/b19917aa04a6839aef577f1117c71d48?s=128&d=identicon&r=PG", "display_name": "Pointy", "link": "https://stackoverflow.com/users/182668/pointy"}, "edited": false, "score": 4, "creation_date": 1534357923, "post_id": 51864392, "comment_id": 90681024, "body": "JavaScript is, for the most part, single-threaded. There are no parallel operations like that in the language."}, {"owner": {"reputation": 108986, "user_id": 511529, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/YNRmY.jpg?s=128&g=1", "display_name": "GolezTrol", "link": "https://stackoverflow.com/users/511529/goleztrol"}, "edited": false, "score": 2, "creation_date": 1534357926, "post_id": 51864392, "comment_id": 90681027, "body": "Btw, for drawing lots of stuff on a canvas, you might draw (haha) some inspiration from <a href=\"http://paperjs.org/\" rel=\"nofollow noreferrer\">Paper.js</a>."}, {"owner": {"reputation": 4828, "user_id": 8378419, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/2772206b4d6afcbdfe7485286554190d?s=128&d=identicon&r=PG&f=1", "display_name": "Robbie Milejczak", "link": "https://stackoverflow.com/users/8378419/robbie-milejczak"}, "edited": false, "score": 1, "creation_date": 1534358125, "post_id": 51864392, "comment_id": 90681115, "body": "You could use web workers, here&#39;s an article with a sort of relevant example (drawing to a canvas) <a href=\"https://kenhalbert.com/posts/parallelization-with-web-workers\" rel=\"nofollow noreferrer\">kenhalbert.com/posts/parallelization-with-web-workers</a>"}, {"owner": {"reputation": 18854, "user_id": 1083572, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/9xSFI.png?s=128&g=1", "display_name": "Kokodoko", "link": "https://stackoverflow.com/users/1083572/kokodoko"}, "edited": false, "score": 0, "creation_date": 1613954849, "post_id": 51864392, "comment_id": 117227860, "body": "If your real problem is that you just don&#39;t want all items to appear one by one, you can draw them on a hidden canvas. And when they are all finished, you copy the whole hidden canvas to the actual canvas in one go."}], "answers": [{"tags": [], "owner": {"reputation": 1458, "user_id": 6205646, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7db5807de549f0a8fc87e4d0dc8ab916?s=128&d=identicon&r=PG&f=1", "display_name": "F&#233;lix Brunet", "link": "https://stackoverflow.com/users/6205646/f%c3%a9lix-brunet"}, "is_accepted": false, "score": 1, "last_activity_date": 1613954344, "last_edit_date": 1613954344, "creation_date": 1534358718, "answer_id": 51864626, "question_id": 51864392, "link": "https://stackoverflow.com/questions/51864392/foreach-parallel-in-javascript/51864626#51864626", "title": "forEach parallel in Javascript?", "body": "<p>Like Pointy mentioned in comment, javascript is mostly single threaded.</p>\n<p>If you find lag because the canvas is large, you can promisify <code>addToCanvas</code>.\nwhat it will do is defer the invocation of these function in the future, permitting the page to be interacted between each invocation.</p>\n<p>If you have to do something after all &quot;addToCanvas&quot; have been called, you can use\n<code>Promise.all()</code></p>\n<p>To do truly parallel work, you would need to work with WebWorker, but these have limitation. They don't have access to the DOM, and can only be interacted with a asynchronous message API.\nDepending of your need, it could be a solution. It is useful if you have long calculation you want to do in the background.</p>\n"}], "owner": {"reputation": 889, "user_id": 5017437, "user_type": "registered", "accept_rate": 60, "profile_image": "https://graph.facebook.com/10206860442812079/picture?type=large", "display_name": "Kimy BF", "link": "https://stackoverflow.com/users/5017437/kimy-bf"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 5805, "favorite_count": 1, "answer_count": 1, "score": 1, "last_activity_date": 1613954344, "creation_date": 1534357657, "question_id": 51864392, "link": "https://stackoverflow.com/questions/51864392/foreach-parallel-in-javascript", "title": "forEach parallel in Javascript?", "body": "<p>I want to apply a function to all elements in an array at the same time, I dont want to apply it one by one, I mean, sequentially. Its because I have a big array of elements and I want to draw them in a Canvas at the same time. Im working with Angular 6.</p>\n\n<p>I have this:</p>\n\n<pre><code> drawRow(row: Node[]) {\n    row.forEach((item) =&gt; {\n      this.addToCanvas(item);\n    });\n }\n</code></pre>\n\n<p>I want to add to the canvas all the elements of the row in parallel. \nIs necessary to install some library to do this or can I do this just with pure javascript...?\nWhat would be the correct approach to this ?</p>\n\n<p>Thank you in advance =)</p>\n"}, {"tags": ["reactjs", "typescript", "redux"], "comments": [{"owner": {"reputation": 5270, "user_id": 6356919, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/waPfK.png?s=128&g=1", "display_name": "Chaim Friedman", "link": "https://stackoverflow.com/users/6356919/chaim-friedman"}, "edited": false, "score": 0, "creation_date": 1534356447, "post_id": 51864086, "comment_id": 90680381, "body": "You have typescript errors, but the code still compiles?"}, {"owner": {"reputation": 4613, "user_id": 1572526, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/425d70affe3cc8d12b2311ed9d7935ec?s=128&d=identicon&r=PG", "display_name": "Joe", "link": "https://stackoverflow.com/users/1572526/joe"}, "reply_to_user": {"reputation": 5270, "user_id": 6356919, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/waPfK.png?s=128&g=1", "display_name": "Chaim Friedman", "link": "https://stackoverflow.com/users/6356919/chaim-friedman"}, "edited": false, "score": 0, "creation_date": 1534356537, "post_id": 51864086, "comment_id": 90680416, "body": "Yes the generated js-files is valid."}, {"owner": {"reputation": 5270, "user_id": 6356919, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/waPfK.png?s=128&g=1", "display_name": "Chaim Friedman", "link": "https://stackoverflow.com/users/6356919/chaim-friedman"}, "edited": false, "score": 0, "creation_date": 1534357053, "post_id": 51864086, "comment_id": 90680644, "body": "Dont know if this will solve your issue, but when working with typescript and redux, I found this article super helpful. <a href=\"https://spin.atomicobject.com/2017/04/20/typesafe-container-components/\" rel=\"nofollow noreferrer\">spin.atomicobject.com/2017/04/20/typesafe-container-componen&zwnj;&#8203;ts</a>"}], "answers": [{"comments": [{"owner": {"reputation": 4613, "user_id": 1572526, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/425d70affe3cc8d12b2311ed9d7935ec?s=128&d=identicon&r=PG", "display_name": "Joe", "link": "https://stackoverflow.com/users/1572526/joe"}, "edited": false, "score": 0, "creation_date": 1534362262, "post_id": 51864446, "comment_id": 90682963, "body": "Well, my question was how to connect the interface to the reducer in redux."}, {"owner": {"reputation": 48, "user_id": 8131317, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/68b95ebf22ed62409718579ba10ae5ca?s=128&d=identicon&r=PG&f=1", "display_name": "Archit Gupta", "link": "https://stackoverflow.com/users/8131317/archit-gupta"}, "reply_to_user": {"reputation": 4613, "user_id": 1572526, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/425d70affe3cc8d12b2311ed9d7935ec?s=128&d=identicon&r=PG", "display_name": "Joe", "link": "https://stackoverflow.com/users/1572526/joe"}, "edited": false, "score": 0, "creation_date": 1534394740, "post_id": 51864446, "comment_id": 90690973, "body": "Define setValue function also in the Prop types then you will not receive any typescript error. I just updated my answer."}, {"owner": {"reputation": 48, "user_id": 8131317, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/68b95ebf22ed62409718579ba10ae5ca?s=128&d=identicon&r=PG&f=1", "display_name": "Archit Gupta", "link": "https://stackoverflow.com/users/8131317/archit-gupta"}, "reply_to_user": {"reputation": 4613, "user_id": 1572526, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/425d70affe3cc8d12b2311ed9d7935ec?s=128&d=identicon&r=PG", "display_name": "Joe", "link": "https://stackoverflow.com/users/1572526/joe"}, "edited": false, "score": 0, "creation_date": 1534488324, "post_id": 51864446, "comment_id": 90730386, "body": "Ahh Sorry, I don&#39;t know how I missed it. You need to pass interfaces Props and state to the Component too. I just updated my answer. Please check."}], "tags": [], "owner": {"reputation": 48, "user_id": 8131317, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/68b95ebf22ed62409718579ba10ae5ca?s=128&d=identicon&r=PG&f=1", "display_name": "Archit Gupta", "link": "https://stackoverflow.com/users/8131317/archit-gupta"}, "is_accepted": false, "score": -1, "last_activity_date": 1534488382, "last_edit_date": 1534488382, "creation_date": 1534357826, "answer_id": 51864446, "question_id": 51864086, "link": "https://stackoverflow.com/questions/51864086/how-to-use-typescript-on-redux-connected-components/51864446#51864446", "title": "How to use typescript on redux connected components?", "body": "<p>You need to define the Props type and the State type the component is expected to have so as to ignore typescript error. </p>\n\n<p>You can implement something like this.</p>\n\n<pre><code>interface Props {\n    value: number;               // Props type of the component.\n    setValue: (number: int) =&gt; void;\n}\n\ninterface State {\n                               //  State type of the component  \n}\n\nclass Sidebar extends React.Component&lt;Props, State&gt; {  // edited -need to pass interfaces\n  constructor(props) {\n    super(props);\n  }\n\n  render() {\n    return (\n      &lt;div id=\"test\"&gt;\n        &lt;p&gt;{this.props.value}&lt;/p&gt; // Typescript error\n        &lt;button onClick={() =&gt; this.props.setValue(3)}&gt; click&lt;/button&gt; // Typescript error\n      &lt;/div&gt;\n    );\n  }\n}\n\nconst mapStateToProps = (state: any, ownProps: any) =&gt; ({\n  value: state.calcReducer.value as number,\n});\n\nconst mapDispatchToProps = (dispatch: any) =&gt; ({\n  setValue: (number: int) =&gt; dispatch(setValue(number)),\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Sidebar);\n</code></pre>\n\n<p>I hope it may help you to solve the typescript error.Thanks!!</p>\n\n<p>**edited.</p>\n"}, {"comments": [{"owner": {"reputation": 5090, "user_id": 2827960, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bSZPd.jpg?s=128&g=1", "display_name": "C&#249; \u0110\u1ee9c Hi\u1ebfu", "link": "https://stackoverflow.com/users/2827960/c%c3%b9-%c4%90%e1%bb%a9c-hi%e1%ba%bfu"}, "reply_to_user": {"reputation": 4613, "user_id": 1572526, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/425d70affe3cc8d12b2311ed9d7935ec?s=128&d=identicon&r=PG", "display_name": "Joe", "link": "https://stackoverflow.com/users/1572526/joe"}, "edited": false, "score": 0, "creation_date": 1534403984, "post_id": 51869669, "comment_id": 90694516, "body": "Never mind, I think I probably get it. I have updated the answer. Please give it one more try."}], "tags": [], "owner": {"reputation": 5090, "user_id": 2827960, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bSZPd.jpg?s=128&g=1", "display_name": "C&#249; \u0110\u1ee9c Hi\u1ebfu", "link": "https://stackoverflow.com/users/2827960/c%c3%b9-%c4%90%e1%bb%a9c-hi%e1%ba%bfu"}, "is_accepted": true, "score": 4, "last_activity_date": 1534403892, "last_edit_date": 1534403892, "creation_date": 1534394202, "answer_id": 51869669, "question_id": 51864086, "link": "https://stackoverflow.com/questions/51864086/how-to-use-typescript-on-redux-connected-components/51869669#51869669", "title": "How to use typescript on redux connected components?", "body": "<p>You can set <code>type</code> on your props like this:</p>\n\n<pre><code>interface IProps {\n  value: number;\n  setValue: (value: number) =&gt; void;\n}\n\nclass Sidebar extends React.Component&lt;IProps&gt; {\n  constructor(props: IProps) {\n    super(props);\n  }\n\n  // Your code ...\n}\n</code></pre>\n\n<hr>\n\n<p>If you want to get rid of the <code>any</code> keywords as well you can give this a try.</p>\n\n<pre><code>interface IYourState {/* Your code */}\n\ninterface IYourOwnProps {/* Your code */}\n\nconst mapStateToProps = (state: IYourState, ownProps: IYourOwnProps) =&gt; ({\n  value: state.calcReducer.value as number,\n});\n\nexport default connect&lt;IYourState, {}, IYourOwnProps&gt;(mapStateToProps, {\n  setValue,\n})(Sidebar);\n</code></pre>\n\n<p>Here is the type definition of the <code>connect()</code> function of <code>react-redux</code> in case you want to investigate further. Note that I have marked the line <code>109</code> so you should start around there first.</p>\n\n<p><a href=\"https://github.com/DefinitelyTyped/DefinitelyTyped/blob/master/types/react-redux/index.d.ts#L109\" rel=\"nofollow noreferrer\">https://github.com/DefinitelyTyped/DefinitelyTyped/blob/master/types/react-redux/index.d.ts#L109</a></p>\n"}], "owner": {"reputation": 4613, "user_id": 1572526, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/425d70affe3cc8d12b2311ed9d7935ec?s=128&d=identicon&r=PG", "display_name": "Joe", "link": "https://stackoverflow.com/users/1572526/joe"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3853, "favorite_count": 0, "accepted_answer_id": 51869669, "answer_count": 2, "score": 1, "last_activity_date": 1534488382, "creation_date": 1534356273, "question_id": 51864086, "link": "https://stackoverflow.com/questions/51864086/how-to-use-typescript-on-redux-connected-components", "title": "How to use typescript on redux connected components?", "body": "<p>How do I type props that are connected to a reducer?</p>\n\n<p>Following code gives typescript errors but works in runtime.</p>\n\n<pre><code>class Sidebar extends React.Component {\n  constructor(props) {\n    super(props);\n  }\n\n  render() {\n    return (\n      &lt;div id=\"test\"&gt;\n        &lt;p&gt;{this.props.value}&lt;/p&gt; // Typescript error\n        &lt;button onClick={() =&gt; this.props.setValue(3)}&gt; click&lt;/button&gt; // Typescript error\n      &lt;/div&gt;\n    );\n  }\n}\n\nconst mapStateToProps = (state: any, ownProps: any) =&gt; ({\n  value: state.calcReducer.value as number,\n});\n\nexport default connect(mapStateToProps, {\n  setValue,\n})(Sidebar);\n</code></pre>\n"}, {"tags": ["typescript", "angular6", "subscribe"], "comments": [{"owner": {"reputation": 2140, "user_id": 2393789, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/0d7ae370c3d97446212070057e2b4a8a?s=128&d=identicon&r=PG", "display_name": "onetwo12", "link": "https://stackoverflow.com/users/2393789/onetwo12"}, "edited": false, "score": 0, "creation_date": 1534355845, "post_id": 51863923, "comment_id": 90680059, "body": "What&#39;s the error?"}, {"owner": {"reputation": 1, "user_id": 9821697, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/955eefeab89c25b7e660b59edc4069ae?s=128&d=identicon&r=PG&f=1", "display_name": "Marifer Villarroel", "link": "https://stackoverflow.com/users/9821697/marifer-villarroel"}, "reply_to_user": {"reputation": 2140, "user_id": 2393789, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/0d7ae370c3d97446212070057e2b4a8a?s=128&d=identicon&r=PG", "display_name": "onetwo12", "link": "https://stackoverflow.com/users/2393789/onetwo12"}, "edited": false, "score": 0, "creation_date": 1534355998, "post_id": 51863923, "comment_id": 90680143, "body": "When I subscribe to my service, I get the error: &quot; The &#39;subscribe&#39; property does not exist in the &#39;OperatorFunction&lt;{}, {}&gt;&#39; type &quot;, and I don&#39;t understand why"}, {"owner": {"reputation": 2140, "user_id": 2393789, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/0d7ae370c3d97446212070057e2b4a8a?s=128&d=identicon&r=PG", "display_name": "onetwo12", "link": "https://stackoverflow.com/users/2393789/onetwo12"}, "edited": false, "score": 0, "creation_date": 1534356076, "post_id": 51863923, "comment_id": 90680196, "body": "What does this return <code>signup(myForm.value)</code>?"}, {"owner": {"reputation": 1, "user_id": 9821697, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/955eefeab89c25b7e660b59edc4069ae?s=128&d=identicon&r=PG&f=1", "display_name": "Marifer Villarroel", "link": "https://stackoverflow.com/users/9821697/marifer-villarroel"}, "reply_to_user": {"reputation": 2140, "user_id": 2393789, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/0d7ae370c3d97446212070057e2b4a8a?s=128&d=identicon&r=PG", "display_name": "onetwo12", "link": "https://stackoverflow.com/users/2393789/onetwo12"}, "edited": false, "score": 0, "creation_date": 1534356810, "post_id": 51863923, "comment_id": 90680543, "body": "The values of my signup form. I just edited the question, adding the service"}], "answers": [{"tags": [], "owner": {"reputation": 863, "user_id": 4638529, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/znUZb.png?s=128&g=1", "display_name": "Wrokar", "link": "https://stackoverflow.com/users/4638529/wrokar"}, "is_accepted": false, "score": 0, "last_activity_date": 1534357691, "creation_date": 1534357691, "answer_id": 51864408, "question_id": 51863923, "link": "https://stackoverflow.com/questions/51863923/the-subscribe-property-does-not-exist-in-the-operatorfunction-type/51864408#51864408", "title": "The &#39;subscribe&#39; property does not exist in the &#39;OperatorFunction&lt;{}, {}&gt;&#39; type", "body": "<p>There may be a couple of things wrong with your <code>signup</code> function. In Angular 6, the <code>map(res =&gt; res.json())</code> portion of your service is no longer needed. Also I think you may have mis-copied/pasted because that function has some syntax errors (missing parenthesis or <code>.</code> operator?)</p>\n\n<pre><code>signup(formSignup) {\n  return this.http.post(`${this.BASE_URL}/api/signup`, formSignup)\n                  .catch(this.handleError);\n}\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 9821697, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/955eefeab89c25b7e660b59edc4069ae?s=128&d=identicon&r=PG&f=1", "display_name": "Marifer Villarroel", "link": "https://stackoverflow.com/users/9821697/marifer-villarroel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 59, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1534357691, "creation_date": 1534355515, "last_edit_date": 1534356732, "question_id": 51863923, "link": "https://stackoverflow.com/questions/51863923/the-subscribe-property-does-not-exist-in-the-operatorfunction-type", "title": "The &#39;subscribe&#39; property does not exist in the &#39;OperatorFunction&lt;{}, {}&gt;&#39; type", "body": "<p>This a service file:</p>\n\n<pre><code>import { Injectable } from '@angular/core';\nimport { Http, Response } from \"@angular/http\";\nimport {map, catchError} from 'rxjs/operators';\nimport { Observable } from \"../../node_modules/rxjs\";\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class SessionService {\n  BASE_URL = \"http://localhost:3000\"\n  constructor(private http: Http) { }\n\n  handleError(e) {\n  return Observable.throw(e.json().message);\n}\n\nsignup(formSignup) {\n  return this.http.post(`${this.BASE_URL}/api/signup`, formSignup)\n  .pipe(map(res =&gt; res.json())),\n  catchError(this.handleError);\n}\n</code></pre>\n\n<p>Here is where the subscribe method showing this error</p>\n\n<pre><code>import { Component, OnInit } from '@angular/core';\nimport { SessionService } from '../../services/session.service';\nimport { Router } from '@angular/router'\n\n@Component({\n  selector: 'app-signup-form',\n  templateUrl: './signup-form.component.html',\n  styleUrls: ['./signup-form.component.css']\n})\nexport class SignupFormComponent implements OnInit {\n\n  constructor(\n  private sessionService:SessionService, \n  private router:Router) { }\n\n  ngOnInit() {\n  }\n\n  sendSignupForm(myForm){\n    this.sessionService.signup(myForm.value)\n      .subscribe(()=&gt; this.router.navigate(['private']))\n    }\n   }\n</code></pre>\n\n<p>I have a service file where I have to call my api to get the api and when I subscribe to the method, it gives me this error: </p>\n\n<blockquote>\n  <p>The <code>subscribe' property does not exist in the</code>OperatorFunction&lt;{},\n  {}>>' type</p>\n</blockquote>\n\n<p>I don't understand why you're giving me this mistake, I'd appreciate any help, thank you.</p>\n"}, {"tags": ["javascript", "typescript", "import", "module"], "answers": [{"tags": [], "owner": {"reputation": 19249, "user_id": 1711598, "user_type": "registered", "accept_rate": 42, "profile_image": "https://i.stack.imgur.com/ytmdg.jpg?s=128&g=1", "display_name": "Kna\u0123is", "link": "https://stackoverflow.com/users/1711598/kna%c4%a3is"}, "is_accepted": false, "score": 1, "last_activity_date": 1534355932, "creation_date": 1534355932, "answer_id": 51864017, "question_id": 51863668, "link": "https://stackoverflow.com/questions/51863668/how-can-i-use-namespace-import-without-importing-everything/51864017#51864017", "title": "How can I use namespace import without importing everything?", "body": "<p>Not directly in import but you can create the <code>_</code> object manually.</p>\n\n<pre><code>import { pluck, delay } from 'lodash';\n\nconst _ = { pluck, delay };\n</code></pre>\n"}], "owner": {"reputation": 3459, "user_id": 388006, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/afd80bfa42d7b546eecd38e7601e4be2?s=128&d=identicon&r=PG", "display_name": "pgreen2", "link": "https://stackoverflow.com/users/388006/pgreen2"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 25, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1534355932, "creation_date": 1534354492, "question_id": 51863668, "link": "https://stackoverflow.com/questions/51863668/how-can-i-use-namespace-import-without-importing-everything", "title": "How can I use namespace import without importing everything?", "body": "<p>We use lodash in an angular app written with typescript.  Currently we import lodash as follows:</p>\n\n<pre><code>import * as _ from 'lodash';\n\n//.. code which uses _.pluck()\n</code></pre>\n\n<p>However, for the sake of tree shaking, we want to change to the following:</p>\n\n<pre><code>import {pluck, delay} from 'lodash';\n\n//.. code which uses _.pluck() needs changed to pluck()\n</code></pre>\n\n<p>The problem is we need to do a lot of tedious code changes because using the second import method loses the namespace of <code>_</code> and there could be name conflicts.  Is there a way of specifying the things we want to import but maintain the namespace?  I was thinking something as follows, but it doesn't work:</p>\n\n<pre><code>import {pluck, delay} as _ from 'lodash';\n\n//.. code which uses _.pluck() needs changed to pluck()\n</code></pre>\n"}, {"tags": ["javascript", "typescript", "ionic-framework"], "comments": [{"owner": {"reputation": 348, "user_id": 4301380, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gWrqs.jpg?s=128&g=1", "display_name": "theriddle2", "link": "https://stackoverflow.com/users/4301380/theriddle2"}, "edited": false, "score": 0, "creation_date": 1534358481, "post_id": 51863642, "comment_id": 90681284, "body": "Is id a variable defined in Component? or did you want to use the id of the html element? Because the way you wrote it, id should be a variable defined in the component"}, {"owner": {"reputation": 1, "user_id": 10210226, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8c48aee0b294b388ec3ef48f04cacfe8?s=128&d=identicon&r=PG&f=1", "display_name": "ThibaudDavid", "link": "https://stackoverflow.com/users/10210226/thibauddavid"}, "reply_to_user": {"reputation": 348, "user_id": 4301380, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gWrqs.jpg?s=128&g=1", "display_name": "theriddle2", "link": "https://stackoverflow.com/users/4301380/theriddle2"}, "edited": false, "score": 0, "creation_date": 1534359684, "post_id": 51863642, "comment_id": 90681858, "body": "no id it the id of the toggle it self and y have alredy try (ionChange)=&quot;notify2(this.id)&quot; and this work it send the good id a the function notify2"}, {"owner": {"reputation": 5203, "user_id": 3995261, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/54754c59e35649b7d22d70b72ce2989a?s=128&d=identicon&r=PG&f=1", "display_name": "YakovL", "link": "https://stackoverflow.com/users/3995261/yakovl"}, "edited": false, "score": 0, "creation_date": 1534367970, "post_id": 51863642, "comment_id": 90685307, "body": "Please always describe the expected and the actual (problematic) behaviour in debug-like questions. Best regards"}], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 10210226, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8c48aee0b294b388ec3ef48f04cacfe8?s=128&d=identicon&r=PG&f=1", "display_name": "ThibaudDavid", "link": "https://stackoverflow.com/users/10210226/thibauddavid"}, "edited": false, "score": 0, "creation_date": 1534362783, "post_id": 51865074, "comment_id": 90683195, "body": "in my case listToggle1 is an variable listToggle1:any=[]  define in the component and initilized with 2 value true and false"}, {"owner": {"reputation": 1, "user_id": 10210226, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8c48aee0b294b388ec3ef48f04cacfe8?s=128&d=identicon&r=PG&f=1", "display_name": "ThibaudDavid", "link": "https://stackoverflow.com/users/10210226/thibauddavid"}, "edited": false, "score": 0, "creation_date": 1534363057, "post_id": 51865074, "comment_id": 90683300, "body": "in the end i want to dubliquate this toggle and other element and the value of this duplicate element will be listToggle1[id] so the 1st will be the key 0 the second key 1 ....."}], "tags": [], "owner": {"reputation": 348, "user_id": 4301380, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gWrqs.jpg?s=128&g=1", "display_name": "theriddle2", "link": "https://stackoverflow.com/users/4301380/theriddle2"}, "is_accepted": false, "score": 0, "last_activity_date": 1534360793, "creation_date": 1534360793, "answer_id": 51865074, "question_id": 51863642, "link": "https://stackoverflow.com/questions/51863642/ionic-ngmodel-with-an-list-and-the-id-in-key/51865074#51865074", "title": "Ionic ngmodel with an list and the id in key", "body": "<p>I would suggest using: (ionChange) and then detect which element was clicked in component, like this:</p>\n\n<p>HTML:</p>\n\n<pre><code>&lt;ion-toggle id=\"0\" name=\"toggle1\" (ionChange)=\"listToggle1($event)\"&gt;&lt;/ion-toggle&gt;\n</code></pre>\n\n<p>and TS:</p>\n\n<pre><code>listToggle1(event) {\n    console.log(event._elementRef.nativeElement.id);\n}\n</code></pre>\n\n<p>This prints the id of your toggled element, then do with it what you want.</p>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 10210226, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8c48aee0b294b388ec3ef48f04cacfe8?s=128&d=identicon&r=PG&f=1", "display_name": "ThibaudDavid", "link": "https://stackoverflow.com/users/10210226/thibauddavid"}, "is_accepted": false, "score": 0, "last_activity_date": 1534449241, "last_edit_date": 1534449241, "creation_date": 1534366860, "answer_id": 51866376, "question_id": 51863642, "link": "https://stackoverflow.com/questions/51863642/ionic-ngmodel-with-an-list-and-the-id-in-key/51866376#51866376", "title": "Ionic ngmodel with an list and the id in key", "body": "<p>In the end like i said i want to clone/dublicate some html element</p>\n\n<p>My project I have a sort of alarm than the user can configurate (timer text notifcation....) </p>\n\n<p>I have a \"template\" and normaly sould be able to dublicate this in order to creat multiple alarm with different pameter </p>\n\n<p><a href=\"https://i.stack.imgur.com/zYel9.png\" rel=\"nofollow noreferrer\">myapp</a></p>\n\n<p>so normaly when the user click on \"add new\" the same html element than \"the form\" is add but whith new value.\nThat is the idea. But I don't have a good clone function</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>\tduplicate(d) {\r\n\talert(d);\r\n\tvar i = 0;\r\n\tvar original = document.getElementById(d);\r\n\r\n    var clone = original.cloneNode(true); // \"deep\" clone\r\n\r\n\tclone.id = Number(d)+1;\r\n\talert(clone.id);\r\n\t\r\n\r\n    original.parentNode.appendChild(clone);\r\n\r\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>The only thing that i can modify is the id of the new element (i cant modifie other like the ngmodel) also when i clone and element i can't modifie the new element in the html page (in the point of view of the user)</p>\n\n<p>Peraphs some know a good way to clone/dublicate html element?</p>\n"}], "owner": {"reputation": 1, "user_id": 10210226, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8c48aee0b294b388ec3ef48f04cacfe8?s=128&d=identicon&r=PG&f=1", "display_name": "ThibaudDavid", "link": "https://stackoverflow.com/users/10210226/thibauddavid"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 84, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1534449241, "creation_date": 1534354413, "last_edit_date": 1534377075, "question_id": 51863642, "link": "https://stackoverflow.com/questions/51863642/ionic-ngmodel-with-an-list-and-the-id-in-key", "title": "Ionic ngmodel with an list and the id in key", "body": "<p>I have a problem.</p>\n\n<p>I want to link a toggle button with the following and list and use the id of this toggle like a key.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>//Here my fonction to convert \r\n transform(d)\r\n   {\r\n\t\t\r\n\t   alert(d); //when i put this.id here i have undefined value\r\n\t   return Number(d);\r\n   }</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;ion-toggle id=\"0\" name=\"toggle1\" [(ngModel)]=\"listToggle1[this.id)]\"&gt;&lt;/ion-toggle&gt;\r\n\r\n&lt;!--Here the pb is the \"id\" is a string and for the list i need a key valu in int --&gt;\r\n\r\n&lt;!--This work but it's not dynamic --&gt;\r\n&lt;ion-toggle id=\"0\" name=\"toggle1\" [(ngModel)]=\"listToggle1[0]\"&gt;&lt;/ion-toggle&gt;\r\n\r\n&lt;!-- i try this --&gt;\r\n\r\n&lt;ion-toggle id=\"0\" name=\"toggle1\" [(ngModel)]=\"listToggle1[transform(this.id)]\" &gt;&lt;/ion-toggle&gt;\r\n\r\n&lt;!--i call a function with the id in parameter, and this typescript function will convert the string id in an int value\r\n\r\nBut the pb is here in transform(this.id) the this.id is undefined--&gt;\r\n&lt;!--This work but again not dynamic --&gt;\r\n&lt;ion-toggle id=\"0\" name=\"toggle1\" [(ngModel)]=\"listToggle1[transform('0')]\" &gt;&lt;/ion-toggle&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>I hope someone can help me with this.</p>\n"}, {"tags": ["typescript", "async-await"], "answers": [{"comments": [{"owner": {"reputation": 1013, "user_id": 8866996, "user_type": "registered", "accept_rate": 40, "profile_image": "https://graph.facebook.com/1160575134075689/picture?type=large", "display_name": "Ben Clarke", "link": "https://stackoverflow.com/users/8866996/ben-clarke"}, "edited": false, "score": 0, "creation_date": 1534356846, "post_id": 51863509, "comment_id": 90680564, "body": "That looks great, do i have to wrap a promise in the <code>subscribeToContainerItem</code> method?"}, {"owner": {"reputation": 6787, "user_id": 1584167, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/n5VTo.jpg?s=128&g=1", "display_name": "udalmik", "link": "https://stackoverflow.com/users/1584167/udalmik"}, "reply_to_user": {"reputation": 1013, "user_id": 8866996, "user_type": "registered", "accept_rate": 40, "profile_image": "https://graph.facebook.com/1160575134075689/picture?type=large", "display_name": "Ben Clarke", "link": "https://stackoverflow.com/users/8866996/ben-clarke"}, "edited": false, "score": 0, "creation_date": 1534363278, "post_id": 51863509, "comment_id": 90683393, "body": "Added some notes on subscribeToContainerItem also"}], "tags": [], "owner": {"reputation": 6787, "user_id": 1584167, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/n5VTo.jpg?s=128&g=1", "display_name": "udalmik", "link": "https://stackoverflow.com/users/1584167/udalmik"}, "is_accepted": true, "score": 0, "last_activity_date": 1534410109, "last_edit_date": 1534410109, "creation_date": 1534353821, "answer_id": 51863509, "question_id": 51863261, "link": "https://stackoverflow.com/questions/51863261/await-subscribe-not-working/51863509#51863509", "title": "Await subscribe not working", "body": "<p>subscribeToContainer looks incorrect, here you need to convert asynchronous callback based API (assume it is RxJs Observable) to Promise. Most of such cases can be done via Promise constructor:</p>\n\n<pre><code>subscribeToContainerItem(item: any) {\n    // immediately return promise instance\n    return new Promise((resolve, reject) =&gt; {\n        // call inner API and wait for async response\n        this._azureStorageService.getContainerItemByContainerIdItemName(this._routeIdService.getStorageContainerId(), item.Name)\n            .subscribe(\n                // in callback call resolve function to resolve the promise\n                res =&gt; resolve({ filename: item.Name, path: res.url }), \n                // in case of error reject result promise\n                err =&gt; reject(err)\n            );\n    });\n}\n</code></pre>\n\n<p>For attachments you need to wait for all attachments to be populated. I made function shorter a bit:</p>\n\n<pre><code>assignEmailAttachments() {\n    // map each element to async operation which resolves with populated item\n    const populatedAttachmentPromises = this.selectedAttachments.map(item =&gt; this.subscribeToContainerItem(item));\n    // wraps them with promise, which be resolved when all items are populated\n    return Promise.all(populatedAttachmentPromises);\n}\n</code></pre>\n\n<p>then in <code>onClick</code> handler you need wait for promise resolution as well before going further:</p>\n\n<pre><code>onSendEmailClick(): void {\n    if (this.selectedEmail.Content) {\n        this.assignEmailContent()\n            .then(attachments =&gt; this.fireAfterCompleted(attachments));\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 1013, "user_id": 8866996, "user_type": "registered", "accept_rate": 40, "profile_image": "https://graph.facebook.com/1160575134075689/picture?type=large", "display_name": "Ben Clarke", "link": "https://stackoverflow.com/users/8866996/ben-clarke"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 113, "favorite_count": 0, "accepted_answer_id": 51863509, "answer_count": 1, "score": 0, "last_activity_date": 1534410109, "creation_date": 1534352767, "question_id": 51863261, "link": "https://stackoverflow.com/questions/51863261/await-subscribe-not-working", "title": "Await subscribe not working", "body": "<p>When a button is clicked inside my application. I need to upload certain items to the API before I can carry on with the next step of functionality.</p>\n\n<p>I have tried a lot of things to wait for the code to run but it seem not to work and just move on.</p>\n\n<p>Here is an example of my code:</p>\n\n<pre><code>// Gets fired on button click\nonSendEmailClick(): void {\n    if (this.selectedEmail.Content) {\n        let attachments = this.assignEmailContent();\n        this.fireAfterCompleted(attachments);\n    }\n}\n\n// Gets called by button click\nassignEmailContent() {\n    return this.assignEmailAttachments();\n}\n\n// Need attachmentsArray to be fully populated before returning items\nasync assignEmailAttachments() {\n    let attachmentArray: any[] = this.selectedAttachments.map(async (item) =&gt; {\n        const response = await this.subscribeToContainerItem(item);\n        attachmentArray.push(response);\n    });\n    return attachmentArray;\n}\n\n// Calls a API method to get item\nasync subscribeToContainerItem(item: any) {\n  this._azureStorageService.getContainerItemByContainerIdItemName(this._routeIdService.getStorageContainerId(), item.Name).subscribe(async (res: any) =&gt; {\n        return ({ filename: item.Name, path: res.url });\n    }, err =&gt; {\n        return (err);\n    });\n}\n\n// API Request\ngetContainerItemByContainerIdItemName(containerId: string, itemName: string) {\n    let httpOptions = this.prepareOptions();\n    return this._http.get(environment.API + containerId + '/' + itemName, httpOptions);\n}\n</code></pre>\n\n<p>So really the method assignEmailAttachments needs to await the response before moving on. </p>\n\n<p>Can anyone point me in the right direction?</p>\n"}, {"tags": ["typescript", "import", "module"], "answers": [{"comments": [{"owner": {"reputation": 458, "user_id": 6365086, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/dbdf00b2b19f48d78b2423751bfe4941?s=128&d=identicon&r=PG", "display_name": "Saeid Ostad", "link": "https://stackoverflow.com/users/6365086/saeid-ostad"}, "edited": false, "score": 0, "creation_date": 1534352207, "post_id": 51863088, "comment_id": 90678415, "body": "so what should I do? add webpack? is there any way to do it with just typescript?"}, {"owner": {"reputation": 22363, "user_id": 4468617, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a09c08e1ae93a83e9102b6715fc75b4c?s=128&d=identicon&r=PG", "display_name": "Matt McCutchen", "link": "https://stackoverflow.com/users/4468617/matt-mccutchen"}, "reply_to_user": {"reputation": 458, "user_id": 6365086, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/dbdf00b2b19f48d78b2423751bfe4941?s=128&d=identicon&r=PG", "display_name": "Saeid Ostad", "link": "https://stackoverflow.com/users/6365086/saeid-ostad"}, "edited": false, "score": 2, "creation_date": 1534361560, "post_id": 51863088, "comment_id": 90682677, "body": "If you want to use an import, you have to use a bundler; Webpack will probably work, though I&#39;ve never used it myself and don&#39;t know the details.  Your only other option would be to not use an import and instead use the API of your target environment to read the file from the correct location; in Node this would be <code>fs.readFile</code>, while in the browser it would be <code>XMLHttpRequest</code> or the Fetch API."}, {"owner": {"reputation": 458, "user_id": 6365086, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/dbdf00b2b19f48d78b2423751bfe4941?s=128&d=identicon&r=PG", "display_name": "Saeid Ostad", "link": "https://stackoverflow.com/users/6365086/saeid-ostad"}, "edited": false, "score": 0, "creation_date": 1534439590, "post_id": 51863088, "comment_id": 90716062, "body": "I add webpack to my node application and now it works. thanks"}], "tags": [], "owner": {"reputation": 22363, "user_id": 4468617, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a09c08e1ae93a83e9102b6715fc75b4c?s=128&d=identicon&r=PG", "display_name": "Matt McCutchen", "link": "https://stackoverflow.com/users/4468617/matt-mccutchen"}, "is_accepted": false, "score": 3, "last_activity_date": 1534352049, "creation_date": 1534352049, "answer_id": 51863088, "question_id": 51863061, "link": "https://stackoverflow.com/questions/51863061/typescript-import-text-file-error-ts2307-cannot-find-module/51863088#51863088", "title": "Typescript import text file &quot;error TS2307: Cannot find module&quot;", "body": "<p>Since you just run <code>tsc index.ts</code>, nothing is forcing <code>txt.d.ts</code> to be loaded.  Given that you have a <code>tsconfig.json</code> file, you probably mean to run <code>tsc -p .</code>.  This still won't work at runtime unless you're using a bundler that bundles the text file in the format you're assuming.</p>\n"}], "owner": {"reputation": 458, "user_id": 6365086, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/dbdf00b2b19f48d78b2423751bfe4941?s=128&d=identicon&r=PG", "display_name": "Saeid Ostad", "link": "https://stackoverflow.com/users/6365086/saeid-ostad"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2622, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1534352059, "creation_date": 1534351939, "last_edit_date": 1534352059, "question_id": 51863061, "link": "https://stackoverflow.com/questions/51863061/typescript-import-text-file-error-ts2307-cannot-find-module", "title": "Typescript import text file &quot;error TS2307: Cannot find module&quot;", "body": "<p>I wanted to import a text file to my typescript file and simply print it.</p>\n\n<p><strong>index.ts</strong> file:</p>\n\n<pre><code>import d from \"./a.txt\";\nconsole.log(d);\n</code></pre>\n\n<p><strong>txt.d.ts</strong> file:</p>\n\n<pre><code>declare module \"*.txt\" {\n  const value: string;\n  export default value;\n}\n</code></pre>\n\n<p><strong>tsconfig.json</strong> file:</p>\n\n<pre><code>{\n  \"compilerOptions\": {\n    \"module\": \"system\"\n  }\n}\n</code></pre>\n\n<p><strong>package.json</strong> file:</p>\n\n<pre><code>{\n  \"name\": \"test\",\n  \"version\": \"1.0.0\",\n  \"description\": \"\",\n  \"main\": \"index.js\",\n  \"scripts\": {\n    \"tsc\": \"tsc\",\n    \"test\": \"echo \\\"Error: no test specified\\\" &amp;&amp; exit 1\"\n  },\n  \"author\": \"\",\n  \"license\": \"ISC\",\n  \"dependencies\": {\n    \"typescript\": \"^3.0.1\"\n  }\n}\n</code></pre>\n\n<p>but it's giving me this <strong>error</strong>:</p>\n\n<blockquote>\n  <blockquote>\n    <p>tsc \"index.ts\"</p>\n  </blockquote>\n  \n  <p>index.ts:1:15 - error TS2307: Cannot find module './a.txt'.</p>\n  \n  <p>1 import d from \"./a.txt\";</p>\n  \n  <p>npm ERR! code ELIFECYCLE npm ERR! errno 2 npm ERR! test@1.0.0 tsc:\n  <code>tsc \"index.ts\"</code> npm ERR! Exit status 2 npm ERR! npm ERR! Failed at\n  the test@1.0.0 tsc script. npm ERR! This is probably not a problem\n  with npm. There is likely additional logging output above.</p>\n  \n  <p>npm ERR! A complete log of this run can be found in: npm ERR!<br>\n  C:\\Users\\SOstad\\AppData\\Roaming\\npm-cache_logs\\2018-08-15T16_45_37_115Z-debug.log</p>\n</blockquote>\n\n<p>file structure:</p>\n\n<pre><code>Mode                LastWriteTime         Length Name\n----                -------------         ------ ----\nd-----        8/15/2018  11:50 AM                node_modules\n-a----        8/15/2018  12:40 PM             12 .gitignore\n-a----        8/15/2018  12:22 PM             20 a.txt\n-a----        8/15/2018  12:45 PM            112 index.js\n-a----        8/15/2018  12:25 PM             43 index.ts\n-a----        8/15/2018  11:50 AM            363 package-lock.json\n-a----        8/15/2018  11:51 AM            270 package.json\n-a----        8/15/2018  12:25 PM             59 tsconfig.json\n-a----        8/15/2018  12:25 PM             78 txt.d.ts\n</code></pre>\n"}, {"tags": ["angular", "typescript", "firebase", "rxjs", "angularfire"], "comments": [{"owner": {"reputation": 86, "user_id": 9838190, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-ApNpNoT7g0U/AAAAAAAAAAI/AAAAAAAAGhs/nHfyBiUqVZs/photo.jpg?sz=128", "display_name": "Javier E. Gonzalez", "link": "https://stackoverflow.com/users/9838190/javier-e-gonzalez"}, "edited": false, "score": 0, "creation_date": 1534352525, "post_id": 51862952, "comment_id": 90678561, "body": "Is your ngInit firing when you navigate back? If so it may be that there are no changes to your observable, so your variable never gets repopulated. See if you can explicitly get the value out of your event service on page load."}], "answers": [{"tags": [], "owner": {"reputation": 46655, "user_id": 1647604, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/de0a77110ab57284e2a8d57858f714a3?s=128&d=identicon&r=PG", "display_name": "DeborahK", "link": "https://stackoverflow.com/users/1647604/deborahk"}, "is_accepted": false, "score": 3, "last_activity_date": 1534352825, "last_edit_date": 1534352825, "creation_date": 1534352203, "answer_id": 51863135, "question_id": 51862952, "link": "https://stackoverflow.com/questions/51862952/observable-data-gone-after-changing-routes-back-and-forth/51863135#51863135", "title": "Observable data gone after changing routes back and forth", "body": "<p>Are you referring to a local variable in the component?</p>\n\n<p>If so, when you navigate away from a component, that component is destroyed. Any state that it had in any properties (local variables) are gone. You can't retain state in a component between routes.</p>\n\n<p>Instead, you can store that state in a service. If you register the service with the root application injector, then that service will remain even when the component is destroyed.</p>\n"}, {"tags": [], "owner": {"reputation": 1906, "user_id": 6421052, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e95f90e5ba3cd938bf64151c419d955c?s=128&d=identicon&r=PG&f=1", "display_name": "Ricardo", "link": "https://stackoverflow.com/users/6421052/ricardo"}, "is_accepted": false, "score": 0, "last_activity_date": 1534352231, "creation_date": 1534352231, "answer_id": 51863143, "question_id": 51862952, "link": "https://stackoverflow.com/questions/51862952/observable-data-gone-after-changing-routes-back-and-forth/51863143#51863143", "title": "Observable data gone after changing routes back and forth", "body": "<p>I believe is because you are having the subscription in the component, when you navigate the component can be destroyed (depend of how you manage the route), if it is like that then the subscription will be created every time</p>\n"}], "owner": {"reputation": 33, "user_id": 8723394, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/241aefd17a2e4e5dafde46a611a55703?s=128&d=identicon&r=PG&f=1", "display_name": "memo khoury", "link": "https://stackoverflow.com/users/8723394/memo-khoury"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 480, "favorite_count": 1, "answer_count": 2, "score": 2, "last_activity_date": 1555199145, "creation_date": 1534351539, "question_id": 51862952, "link": "https://stackoverflow.com/questions/51862952/observable-data-gone-after-changing-routes-back-and-forth", "title": "Observable data gone after changing routes back and forth", "body": "<p>I have been working on an Angular application. I have a <code>events.service</code> that contains a method <code>getEvents()</code> which returns an Observable of type <code>Event</code> from the Angular Firestore Collection I have. </p>\n\n<p>In my <code>homepage.component</code>, my <code>getEvents()</code> method subscribes to <code>valueChanges()</code> of the event collection, which stores the collection into my local variable of Array <code>Event</code>.</p>\n\n<p>Now, it works very fine, and the subscription is flawless. Any document I add, modify or delete from Firestore is updated in my client in real time. Very cool stuff.</p>\n\n<p>The problem is when I route to a different page, and then navigate back to my homepage, my local variable is empty! I don't know why.</p>\n\n<p>Here's my code:</p>\n\n<p><strong>app.module.ts</strong></p>\n\n<pre><code>const appRoutes: Routes = [\n    { path: \"\", redirectTo: \"/login\", pathMatch: \"full\" },\n    { path: \"login\", component: LoginComponent },\n    { path: \"signup\", component: SignupComponent },\n    { path: \"home\", component: HomepageComponent, canActivate: [AuthGuard] },\n    {\n      path: \"reservepage/:id\",\n      component: ReservePageComponent\n    },\n    { path: \"scan\", component: ScanPageComponent },\n    { path: \"create\", component: CreateEventPageComponent },\n    { path: \"preview/:id\", component: PreviewEventPageComponent }\n  ];\n</code></pre>\n\n<p><strong>event.service.ts</strong></p>\n\n<pre><code>    // Angular imports\n    import { Injectable } from \"@angular/core\";\n\n    // Angular Fire Imports\n    import {\n      AngularFirestore,\n      AngularFirestoreCollection,\n      AngularFirestoreDocument,\n      fromDocRef\n    } from \"angularfire2/firestore\";\n    import { AngularFireAuth } from \"angularfire2/auth\";\n    import * as firebase from \"firebase\";\n\n    // Internal imports\n    import { Event } from \"./event\";\n    import { AuthService } from \"../auth/auth.service\";\n\n    // rxjs imports\n    import { Observable, of } from \"rxjs\";\n    import { map } from \"rxjs/operators\";\n\n    @Injectable({\n      providedIn: \"root\"\n    })\n    export class EventsService {\n      constructor(\n        private angularFirestore: AngularFirestore,\n        private authService: AuthService,\n        private firebaseAuth: AngularFireAuth\n      ) {}\n\n      collection: AngularFirestoreCollection&lt;\n        Event\n      &gt; = this.angularFirestore.collection(\"events\");\n      collection$: Observable&lt;Event[]&gt; = this.collection.valueChanges();\n\n      document: AngularFirestoreDocument&lt;Event&gt;;\n      document$: Observable&lt;Event&gt;;\n\n      id: string;\n\n      add(\n        _name: string,\n        _description: string,\n        _photoURL: string,\n        _address?: string,\n        _totalTickets?: number,\n        _ticketsSold?: number,\n        _ticketsAvailable?: number\n      ) {\n        this.collection\n          .add({\n            id: \"\",\n            name: _name,\n            description: _description,\n            photoURL: _photoURL,\n            uid: this.firebaseAuth.auth.currentUser.uid,\n            address: _address,\n            totalTickets: _totalTickets\n          })\n          .then(docRef =&gt; {\n            this.collection.doc(docRef.id).update({\n              id: docRef.id\n            });\n            this.setId(docRef.id);\n          });\n      }\n\n      getEvents(): Observable&lt;Event[]&gt; {\n        return this.collection$;\n      }\n\n      getEvent(id: string): Observable&lt;Event&gt; {\n        // return a document as a type\n        this.document = this.collection.doc(id);\n        this.document$ = this.document.valueChanges();\n        return this.document$;\n      }\n\n      setId(id: string) {\n        this.id = id;\n      }\n\n      getId() {\n        return this.id;\n      }\n    }\n</code></pre>\n\n<p><strong>homepage.component.ts</strong></p>\n\n<pre><code>// Angular Imports\nimport { Component, OnInit } from \"@angular/core\";\n\n// Internal Imports\nimport { AuthService } from \"../../auth/auth.service\";\nimport { NavbarComponent } from \"../../components/navbar/navbar.component\";\nimport { EventCardComponent } from \"../../components/event-card/event-card.component\";\nimport { Event } from \"../../event/event\";\nimport { EventsService } from \"../../event/events.service\";\n\n// AngularFire imports\nimport { AngularFirestore } from \"angularfire2/firestore\";\n\n// rxjs imports\nimport { Observable } from \"rxjs\";\n\n// firebase\nimport * as firebase from \"firebase\";\n\n@Component({\n  selector: \"app-homepage\",\n  templateUrl: \"./homepage.component.html\",\n  styleUrls: [\"./homepage.component.css\"]\n})\nexport class HomepageComponent implements OnInit {\n  constructor(\n    private authService: AuthService,\n    private eventsService: EventsService,\n    private afs: AngularFirestore // public navbar: NavbarComponent\n  ) {}\n\n  events: Event[] = [];\n  myEvents: Event[] = [];\n\n  eventsFilled: boolean;\n\n  getEvents(): void {\n    this.eventsService.getEvents().subscribe(events =&gt; {\n      this.events = events;\n      console.log(\"the length of the events pulled are: \" + this.events.length);\n    });\n  }\n\n  ngOnInit() {\n    this.getEvents();\n    console.log(\n      \"the length of the events logged from onInit are: \" + this.events.length\n    );\n  }\n}\n</code></pre>\n"}, {"tags": ["angular", "typescript", "angular-components"], "comments": [{"owner": {"reputation": 630270, "user_id": 571407, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2f0d9dec16bae1e06552af55ddefc11f?s=128&d=identicon&r=PG", "display_name": "JB Nizet", "link": "https://stackoverflow.com/users/571407/jb-nizet"}, "edited": false, "score": 1, "creation_date": 1534351152, "post_id": 51862815, "comment_id": 90677938, "body": "Your code wouldn&#39;t even compile. Post code that compiles, and reproduces the problem you&#39;re facing. Don&#39;t put comments instead of the critical code related to your question. While you&#39;re at it, post it as a stackblitz, so that we can see the problem in action."}, {"owner": {"reputation": 46655, "user_id": 1647604, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/de0a77110ab57284e2a8d57858f714a3?s=128&d=identicon&r=PG", "display_name": "DeborahK", "link": "https://stackoverflow.com/users/1647604/deborahk"}, "edited": false, "score": 0, "creation_date": 1534352634, "post_id": 51862815, "comment_id": 90678598, "body": "Conceptually your components should work as described. But without a working stackblitz as requested above, it would be difficult to see what may be causing the issue."}, {"owner": {"reputation": 1389, "user_id": 1371714, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9BlWg.jpg?s=128&g=1", "display_name": "Indrakumara", "link": "https://stackoverflow.com/users/1371714/indrakumara"}, "edited": false, "score": 0, "creation_date": 1534358935, "post_id": 51862815, "comment_id": 90681510, "body": "Your code will work after doing two simple modifications 1. in Service private data change to public  2. in component 2 this.aService.data$ change to this.aService.data"}], "answers": [{"tags": [], "owner": {"reputation": 1352, "user_id": 9626618, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/57e81eaeac122f91a53a4888ddf7ede1?s=128&d=identicon&r=PG&f=1", "display_name": "PierBJX", "link": "https://stackoverflow.com/users/9626618/pierbjx"}, "is_accepted": false, "score": 0, "last_activity_date": 1534354085, "creation_date": 1534354085, "answer_id": 51863572, "question_id": 51862815, "link": "https://stackoverflow.com/questions/51862815/angular-sharing-the-data-between-components-getting-null-data/51863572#51863572", "title": "Angular - Sharing the data between components, getting null data", "body": "<p>What I should advice you is to combine a ngIf (in the html parent) and another variable in your service. Like this when component 1 is done, it updates the variable and the component 2 will be load.</p>\n\n<p><strong>Service:</strong></p>\n\n<pre><code>import { Injectable } from \"@angular/core\";\nimport { BehaviorSubject } from \"rxjs\";\n@Injectable()\n@Injectable({\n  providedIn: \"root\"\n})\n\n/**\n * Service to manage all the global variables in order to use it in different components\n */\nexport class AService {\n\n  private data = new BehaviorSubject&lt;any&gt;(null);\n  public data$ = this.data.asObservable();\n\n  // Global variable to know if component 1 is done\n  private isComponent1Source = new BehaviorSubject(false); // Set up the source\n  isComponent1 = this.isComponent1Source.asObservable(); // Make it Observable\n\n  constructor() {}\n\n  /**\n   * Function to change the variable from a component\n   * @param done boolean to display the info experiment\n   */\n  setIsComponent1(done: any) {\n    this.isComponent1Source.next(done);\n  }\n\n  getData(){\n  // http get service\n  }\n\n  setData(newData) { \n   this.data.next(newData);\n  }\n\n}\n</code></pre>\n\n<p><strong>Component 1:</strong></p>\n\n<pre><code>@Component({\n  selector: \"component1\",\n  templateUrl: \"../html/component1.html\",\n  styleUrls: [\"../css/component1.css\"],\n  providers: [AService]\n})\nexport class Component1 implements OnInit {\n\n    constructor(private aService: AService) {}\n\n    getData(corpId: string, type: string) {\n    this.aService\n      .getData\n      .subscribe(newData =&gt; {\n        this.aService.setData(newData);\n        this.aService.setIsComponent1(true);\n        // some other code.\n      });\n  }\n}\n</code></pre>\n\n<p><strong>Component 2</strong></p>\n\n<pre><code>@Component({\n  selector: \"component2\",\n  templateUrl: \"../html/component2.html\",\n  styleUrls: [\"../css/component2.css\"],\n  providers: [AService]\n})\nexport class Component2 implements OnInit {\n\n    newData: any;\n\n    constructor(private aService: AService) {\n        this.aService.data$.subscribe(data =&gt; this.newData = data);\n    }\n\n} \n</code></pre>\n\n<p><strong>Parent Component:</strong></p>\n\n<pre><code>@Component({\n  selector: \"componentParent\",\n  templateUrl: \"../html/componentparent.html\",\n  styleUrls: [\"../css/componentParent.css\"],\n  providers: [AService]\n})\nexport class ComponentParent implements OnInit {\n\n    done = false;\n\n    constructor(private aService: AService) {\n        this.aService.isComponent1.subscribe(res =&gt; this.done = res);\n    }\n\n} \n</code></pre>\n\n<p><strong>Parent HTML:</strong></p>\n\n<pre><code>&lt;component1&gt;&lt;/component1&gt;\n&lt;component2 *ngIf=\"done\"&gt;&lt;/component2&gt;\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 10225737, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-POGe5snwlos/AAAAAAAAAAI/AAAAAAAAAAA/AAnnY7oOJfzBv2tVpUA_m1ADOAU0xuke7A/mo/photo.jpg?sz=128", "display_name": "anonymous", "link": "https://stackoverflow.com/users/10225737/anonymous"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 119, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1534366385, "creation_date": 1534350984, "last_edit_date": 1534366385, "question_id": 51862815, "link": "https://stackoverflow.com/questions/51862815/angular-sharing-the-data-between-components-getting-null-data", "title": "Angular - Sharing the data between components, getting null data", "body": "<p>I'm trying to share the data received from a service in one component to another component but getting null data.  </p>\n\n<p>Service:  </p>\n\n<pre><code>@Injectable()\nexport class AService {\n\n  private data = new BehaviorSubject&lt;any&gt;(null);\n  public data$ = this.data.asObservable();\n\n  getData(){\n    // http get service\n  }\n\n  setData(newData) { \n    this.data.next(newData);\n  }\n}\n</code></pre>\n\n<p>Component 1:  </p>\n\n<pre><code>@Component({\n  selector: \"component1\",\n  templateUrl: \"../html/component1.html\",\n  styleUrls: [\"../css/component1.css\"],\n  providers: [AService]\n})\nexport class Component1 implements OnInit {\n\n    constructor(private aService: AService) {}\n\n    getData(corpId: string, type: string) {\n    this.aService\n      .getData\n      .subscribe(newData =&gt; {\n        this.aService.setData(newData);\n        // some other code.\n      });\n  }\n}\n</code></pre>\n\n<p>Component 2:</p>\n\n<pre><code>@Component({\n  selector: \"component2\",\n  templateUrl: \"../html/component2.html\",\n  styleUrls: [\"../css/component2.css\"],\n  providers: [AService]\n})\nexport class Component2 implements OnInit {\n\n    newData: any;\n\n    constructor(private aService: AService) {\n        this.aService.data$.subscribe(data =&gt; this.newData = data);  // data is null as this statement is getting called first before the component 1\n    }\n\n} \n</code></pre>\n\n<p>Component 2 constructor is getting called before the Component 1 <code>getData()</code> method. Both components are in the same page, I want the component1 to load first and then component in order to get the data from component1 in to component2.  </p>\n\n<p>IN another base component I have used the both selectors as below:  </p>\n\n<pre><code>&lt;component1&gt;&lt;/component1&gt;\n\n&lt;component2&gt;&lt;/component2&gt;\n</code></pre>\n"}, {"tags": ["typescript", "types"], "comments": [{"owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "edited": false, "score": 0, "creation_date": 1534350955, "post_id": 51862746, "comment_id": 90677848, "body": "You can use a type assertion to fool the compiler that a value has type <code>T</code>. It is surely of limited use, but my guess is that nobody implemented <code>1 &amp; &#39;2&#39;</code> to be <code>never</code> and it does not follow from any other type rule."}, {"owner": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "edited": false, "score": 1, "creation_date": 1534354976, "post_id": 51862746, "comment_id": 90679619, "body": "I think I&#39;ve had this conversation before... <a href=\"https://github.com/Microsoft/TypeScript/issues/16386#issuecomment-328836063\" rel=\"nofollow noreferrer\">github.com/Microsoft/TypeScript/issues/&hellip;</a>"}], "answers": [{"comments": [{"owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "edited": false, "score": 0, "creation_date": 1534352049, "post_id": 51862983, "comment_id": 90678345, "body": "One could argue that a lot of intersections might not be assignable, for example without an assertion all primitive intersections are not directly assignable ex: <code>string &amp; number</code> or <code>string &amp; boolean</code>"}], "tags": [], "owner": {"reputation": 22363, "user_id": 4468617, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a09c08e1ae93a83e9102b6715fc75b4c?s=128&d=identicon&r=PG", "display_name": "Matt McCutchen", "link": "https://stackoverflow.com/users/4468617/matt-mccutchen"}, "is_accepted": true, "score": 2, "last_activity_date": 1534356636, "last_edit_date": 1592644375, "creation_date": 1534351648, "answer_id": 51862983, "question_id": 51862746, "link": "https://stackoverflow.com/questions/51862746/why-isnt-an-intersection-of-two-different-literals-equal-to-never/51862983#51862983", "title": "Why isn&#39;t an intersection of two different literals equal to never?", "body": "<p>I happened to recently file <a href=\"https://github.com/Microsoft/TypeScript/issues/25730\" rel=\"nofollow noreferrer\">an issue</a> asking about this.  The answer was that an error that something isn't assignable to <code>1 &amp; '2'</code> tends to be more helpful than an error that something isn't assignable to <code>never</code>:</p>\n<blockquote>\n<p>The inconsistency here is because intersections are only reduced when used in a union. so <code>&quot;foo&quot; &amp; &quot;bar&quot;</code> will stay that type unless it is part of a union. that is why <code>x</code> is not assignable to <code>u</code>.</p>\n<p>We have found that keeping the intersections longer gives better error messages to users, since <code>never</code> can does not tell you where the type originated from. more over, there is something to say about user typing a type as such, what the intent is..</p>\n</blockquote>\n"}], "owner": {"reputation": 87, "user_id": 7399080, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/VHOkh.png?s=128&g=1", "display_name": "Kinrany", "link": "https://stackoverflow.com/users/7399080/kinrany"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 29, "favorite_count": 0, "accepted_answer_id": 51862983, "answer_count": 1, "score": 0, "last_activity_date": 1534356636, "creation_date": 1534350732, "question_id": 51862746, "link": "https://stackoverflow.com/questions/51862746/why-isnt-an-intersection-of-two-different-literals-equal-to-never", "title": "Why isn&#39;t an intersection of two different literals equal to never?", "body": "<pre><code>type T = 1 &amp; '2';\nconst a: T = ???\n</code></pre>\n\n<p>There is no value that could possibly be assigned to <code>a</code>, yet <code>T</code> is <code>1 &amp; \"2\"</code>, not <code>never</code>, even in strict mode. Why?</p>\n"}, {"tags": ["angular", "typescript", "angular6", "rxjs6"], "comments": [{"owner": {"reputation": 46655, "user_id": 1647604, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/de0a77110ab57284e2a8d57858f714a3?s=128&d=identicon&r=PG", "display_name": "DeborahK", "link": "https://stackoverflow.com/users/1647604/deborahk"}, "edited": false, "score": 0, "creation_date": 1534351053, "post_id": 51862609, "comment_id": 90677890, "body": "You could try chaining two different map statements, the first to perform the sort and the second to perform the two filters."}, {"owner": {"reputation": 1906, "user_id": 6421052, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e95f90e5ba3cd938bf64151c419d955c?s=128&d=identicon&r=PG&f=1", "display_name": "Ricardo", "link": "https://stackoverflow.com/users/6421052/ricardo"}, "edited": false, "score": 0, "creation_date": 1534352602, "post_id": 51862609, "comment_id": 90678585, "body": "can you put the part of the code where you subscribe to the observable?"}, {"owner": {"reputation": 131, "user_id": 9333900, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/1b2882efa8e0ba24d37d845ec9ca6304?s=128&d=identicon&r=PG&f=1", "display_name": "Connie DeCinko CS", "link": "https://stackoverflow.com/users/9333900/connie-decinko-cs"}, "reply_to_user": {"reputation": 1906, "user_id": 6421052, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e95f90e5ba3cd938bf64151c419d955c?s=128&d=identicon&r=PG&f=1", "display_name": "Ricardo", "link": "https://stackoverflow.com/users/6421052/ricardo"}, "edited": false, "score": 0, "creation_date": 1534353121, "post_id": 51862609, "comment_id": 90678816, "body": "@Ricardo added it to the original post."}, {"owner": {"reputation": 547, "user_id": 3492940, "user_type": "registered", "profile_image": "https://graph.facebook.com/100000347934042/picture?type=large", "display_name": "enf0rcer", "link": "https://stackoverflow.com/users/3492940/enf0rcer"}, "edited": false, "score": 0, "creation_date": 1534353359, "post_id": 51862609, "comment_id": 90678933, "body": "Since the Observable you are talking about is the http request, there is no other way of doing the sorting unless you have direct access to the back-end of the api. The phase you are doing the sorting now is the first phase possible on the client side, so I think that&#39;s all good."}, {"owner": {"reputation": 131, "user_id": 9333900, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/1b2882efa8e0ba24d37d845ec9ca6304?s=128&d=identicon&r=PG&f=1", "display_name": "Connie DeCinko CS", "link": "https://stackoverflow.com/users/9333900/connie-decinko-cs"}, "edited": false, "score": 0, "creation_date": 1534353479, "post_id": 51862609, "comment_id": 90678990, "body": "Sorting by the name works, sorting by the server.name does not."}], "owner": {"reputation": 131, "user_id": 9333900, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/1b2882efa8e0ba24d37d845ec9ca6304?s=128&d=identicon&r=PG&f=1", "display_name": "Connie DeCinko CS", "link": "https://stackoverflow.com/users/9333900/connie-decinko-cs"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 64, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1534353065, "creation_date": 1534350231, "last_edit_date": 1534353065, "question_id": 51862609, "link": "https://stackoverflow.com/questions/51862609/sort-by-value-in-nested-array-before-map", "title": "Sort by value in nested array before Map", "body": "<p>Using NG6 Rxjs to return some data via http.  I then split the returned data into two Observables.  Works great but I need to sort the data first, by a value(s) in a nested array.  I am able to sort the array after an event fires in the view, but not working when the page loads.</p>\n\n<p>This code sorts by a value in the outer array:</p>\n\n<pre><code>return this.http\n  .get(this.apiUrl + 'PatchGroups/ForApp/' + appId)\n  .pipe(\n    map((data: Array&lt;any&gt;) =&gt; {\n    return {\n      ungrouped: data.filter(d =&gt; d.id &lt; 0),\n      grouped: data.filter(d =&gt; d.id &gt; 0).sort((a, b) =&gt; a.name &lt; b.name ? -1 : 1)\n    };\n    }),\n   catchError(this.handleError)\n  );\n</code></pre>\n\n<p>Tried this to sort by the nested value but no good:</p>\n\n<pre><code>return this.http\n  .get(this.apiUrl + 'PatchGroups/ForApp/' + appId)\n  .pipe(\n    map((data: Array&lt;any&gt;) =&gt; {\n    return {\n      ungrouped: data.sort((a, b) =&gt; a.server.name &lt; b.server.name ? -1 : 1).filter(d =&gt; d.id &lt; 0),\n      grouped: data.filter(d =&gt; d.id &gt; 0).sort((a, b) =&gt; a.name &lt; b.name ? -1 : 1)\n    };\n    }),\n   catchError(this.handleError)\n  );\n</code></pre>\n\n<p>It seems dirty to sort each Observable. Can't I sort the data before passing to each Observable?</p>\n\n<p>From my component:</p>\n\n<pre><code>this.appsApiService.getPatchGroups(appReconId)\n  .subscribe(pg =&gt; {\n    this.ungrouped_patchGroups = pg.ungrouped;\n    this.grouped_patchGroups = pg.grouped;\n  }\n);\n</code></pre>\n"}, {"tags": ["typescript"], "answers": [{"comments": [{"owner": {"reputation": 10667, "user_id": 3345644, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/5e4fa66a71e59fe32c2d602bdb5068b5?s=128&d=identicon&r=PG", "display_name": "Alexander Abakumov", "link": "https://stackoverflow.com/users/3345644/alexander-abakumov"}, "edited": false, "score": 0, "creation_date": 1534351465, "post_id": 51862629, "comment_id": 90678091, "body": "Sounds like a plan, but could you take a look at the updated question? How can we declare an exact type for <code>someKey</code>? This is my linter requirement."}, {"owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "reply_to_user": {"reputation": 10667, "user_id": 3345644, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/5e4fa66a71e59fe32c2d602bdb5068b5?s=128&d=identicon&r=PG", "display_name": "Alexander Abakumov", "link": "https://stackoverflow.com/users/3345644/alexander-abakumov"}, "edited": false, "score": 0, "creation_date": 1534351811, "post_id": 51862629, "comment_id": 90678240, "body": "I think the idea to have a rule to force you to specify ALL types is not a very good one... some types are horrible to write, The compiler already has the option of <code>noImplictAny</code> to prevent inference where the compiler can&#39;t infer the type."}, {"owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "reply_to_user": {"reputation": 10667, "user_id": 3345644, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/5e4fa66a71e59fe32c2d602bdb5068b5?s=128&d=identicon&r=PG", "display_name": "Alexander Abakumov", "link": "https://stackoverflow.com/users/3345644/alexander-abakumov"}, "edited": false, "score": 0, "creation_date": 1534351898, "post_id": 51862629, "comment_id": 90678277, "body": "@AlexanderAbakumov also if <code>Class2</code> is a subset of <code>Class1</code>, maybe just declare <code>keysSubset</code> as <code>(keyof Class2)[]</code> ?"}, {"owner": {"reputation": 10667, "user_id": 3345644, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/5e4fa66a71e59fe32c2d602bdb5068b5?s=128&d=identicon&r=PG", "display_name": "Alexander Abakumov", "link": "https://stackoverflow.com/users/3345644/alexander-abakumov"}, "edited": false, "score": 0, "creation_date": 1534353366, "post_id": 51862629, "comment_id": 90678939, "body": "Yes, specifying all types feels painfully in the beginning, but after a while you realize how many production bugs those explicit type declarations help to prevent. TypeScript is all about typing in the end of the day :) From this experience, when you catch yourself in writing a horrible type declarations, you already know that you&#39;re doing something that should be simplified\\decomposed at least for readability in the future. I hoped TS has something simple for this case, similar to <code>keyof</code>, but for <code>Array</code> values."}, {"owner": {"reputation": 10667, "user_id": 3345644, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/5e4fa66a71e59fe32c2d602bdb5068b5?s=128&d=identicon&r=PG", "display_name": "Alexander Abakumov", "link": "https://stackoverflow.com/users/3345644/alexander-abakumov"}, "edited": false, "score": 0, "creation_date": 1534353411, "post_id": 51862629, "comment_id": 90678963, "body": "This is the exact problem: <code>Class2</code> is not just a subset of <code>Class1</code>. That&#39;s why I&#39;m trying to use an <code>Array</code> which keeps common properties."}, {"owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "reply_to_user": {"reputation": 10667, "user_id": 3345644, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/5e4fa66a71e59fe32c2d602bdb5068b5?s=128&d=identicon&r=PG", "display_name": "Alexander Abakumov", "link": "https://stackoverflow.com/users/3345644/alexander-abakumov"}, "edited": false, "score": 0, "creation_date": 1534353913, "post_id": 51862629, "comment_id": 90679176, "body": "@AlexanderAbakumov I don&#39;t necessarily agree with this all explicit school of thought, but it&#39;s your call. If you don&#39;t want any inference then <code>keyArrayOf</code> is of limited use to you and you need to explicitly type your array to <code>(&quot;prop1&quot; | &quot;prop2&quot;)[]</code>. The limited use of <code>keyArrayOf</code> is to ensure that the strings are actually keys of <code>Class1</code>"}, {"owner": {"reputation": 10667, "user_id": 3345644, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/5e4fa66a71e59fe32c2d602bdb5068b5?s=128&d=identicon&r=PG", "display_name": "Alexander Abakumov", "link": "https://stackoverflow.com/users/3345644/alexander-abakumov"}, "edited": false, "score": 0, "creation_date": 1534373922, "post_id": 51862629, "comment_id": 90686921, "body": "Please take a look at my <a href=\"https://stackoverflow.com/a/51867537/3345644\">answer</a>. I think it&#39;s a good way to avoid manually specifying <code>(&quot;prop1&quot; | &quot;prop2&quot;)[]</code>."}], "tags": [], "owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "is_accepted": true, "score": 1, "last_activity_date": 1534351806, "last_edit_date": 1534351806, "creation_date": 1534350282, "answer_id": 51862629, "question_id": 51862544, "link": "https://stackoverflow.com/questions/51862544/declare-a-compiler-check-able-array-of-common-property-names-of-two-unrelated-ty/51862629#51862629", "title": "Declare a compiler check-able array of common property names of two unrelated types", "body": "<p>The problem is that the type of <code>keysSubset</code> is an array of all keys in the class. This is what we need to change first, so that the type of <code>keysSubset</code> is exactly an array of the assigned values. We can use a helper function for that, while still constraining the values to be keys of the class.</p>\n\n<p>To get the type of an item in an array we can use a type query. </p>\n\n<pre><code>class Class1 {\n    public prop1: number;\n    public prop2: number;\n    public prop3: number;\n}\n// Helper function to infer the subset of keys correctly \nfunction keyArrayOf&lt;T&gt;() {\n    return function &lt;K extends keyof T&gt;(o: K[]) {\n        return o;\n    }\n}\n\nclass Foo {\n    // will be inferred as  (\"prop1\" | \"prop2\")[]\n    private readonly keysSubset = keyArrayOf&lt;Class1&gt;()([\"prop1\", \"prop2\"])\n    method(){\n        // Use a type query to get the type of an item of the keysSubset array\n        const someKey: Foo['keysSubset'][number] = this.keysSubset[1]; // \"prop1\" | \"prop2\"\n        // Or just let inference work\n        const someKeyInffered = this.keysSubset[1]; // \"prop1\" | \"prop2\", no need for an explicit annotation \n    }\n}\n</code></pre>\n\n<p><strong>Edit</strong></p>\n\n<p>Your updated example could be written using the <code>keyArrayOf</code> helper function as:</p>\n\n<pre><code>class Class2 {\n    public prop1: number;\n    public prop2: number;\n\n    private readonly keysSubset = keyArrayOf&lt;Class1&gt;()([\"prop1\", \"prop2\"])\n\n    public updateFrom(source: Class1): void {\n        this.keysSubset.forEach((someKey: Class2['keysSubset'][number]): void =&gt; {\n            this[someKey] = source[someKey];\n        });\n    }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 10667, "user_id": 3345644, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/5e4fa66a71e59fe32c2d602bdb5068b5?s=128&d=identicon&r=PG", "display_name": "Alexander Abakumov", "link": "https://stackoverflow.com/users/3345644/alexander-abakumov"}, "is_accepted": false, "score": 0, "last_activity_date": 1534440618, "last_edit_date": 1534440618, "creation_date": 1534373803, "answer_id": 51867537, "question_id": 51862544, "link": "https://stackoverflow.com/questions/51862544/declare-a-compiler-check-able-array-of-common-property-names-of-two-unrelated-ty/51867537#51867537", "title": "Declare a compiler check-able array of common property names of two unrelated types", "body": "<p><em>(<strong>@TitianCernicova-Dragomir</strong>'s <a href=\"https://stackoverflow.com/a/51862629/3345644\">post</a> contains a direct answer to my initial question. This answer contains an answer to <strong>how to declare a compiler check-able array of common property names of two unrelated types</strong>. Thanks to @Titian, I realized that I was thinking backwards: I don't need to create a union <strong>type based on a constant string array values</strong>. I need a union <strong>type consisting of common property names from <code>Class1</code> and <code>Class2</code></strong> in the first place. Then, I'd be able to declare an array of that type. So, the below contains the answer to this problem.)</em></p>\n\n<h2>TLDR</h2>\n\n<p>Here is how to declare a type containing ONLY common properties from two other types:</p>\n\n<pre><code>type CommonProperty = keyof {\n  [P in keyof Class1 &amp; keyof Class2]: Class1[P] | Class2[P]\n}\n</code></pre>\n\n<p>Now you're able to declare an array containing a desired subset of common properties which will be checked by the compiler for correctness of values:</p>\n\n<pre><code>const keysSubset: ReadOnlyArray&lt;CommonProperty&gt; = [\n        \"prop1\" // Ok,\n        \"prop2\" // Ok,\n        \"prop4\" // Error - property is missing in Class1\n    ];\n</code></pre>\n\n<h2>Step by step:</h2>\n\n<p>First step on the way is to understand how to declare a type containing ONLY common properties from types <code>Class1</code> and <code>Class2</code>:</p>\n\n<pre><code>type CommonFromClass1AndClass2 = {\n  [P in keyof Class1 &amp; keyof Class2]: Class1[P] | Class2[P]\n}\n</code></pre>\n\n<p>That was the most complex part for me.</p>\n\n<p>Now we can declare a string union type representing subset of common property names:</p>\n\n<pre><code>type CommonProperty = keyof CommonFromClass1AndClass2;\n</code></pre>\n\n<p>And finally, we can use it in an array declaration:</p>\n\n<pre><code>const keysSubset: ReadOnlyArray&lt;CommonProperty&gt; = [\n        \"prop1\" // Ok,\n        \"prop2\" // Ok,\n        \"prop4\" // Error - property is missing in Class1\n    ];\n</code></pre>\n"}], "owner": {"reputation": 10667, "user_id": 3345644, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/5e4fa66a71e59fe32c2d602bdb5068b5?s=128&d=identicon&r=PG", "display_name": "Alexander Abakumov", "link": "https://stackoverflow.com/users/3345644/alexander-abakumov"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 32, "favorite_count": 0, "accepted_answer_id": 51862629, "answer_count": 2, "score": 1, "last_activity_date": 1534440691, "creation_date": 1534349953, "last_edit_date": 1534440691, "question_id": 51862544, "link": "https://stackoverflow.com/questions/51862544/declare-a-compiler-check-able-array-of-common-property-names-of-two-unrelated-ty", "title": "Declare a compiler check-able array of common property names of two unrelated types", "body": "<p>I'm using TypeScript 2.9.2. I have a class:</p>\n\n<pre><code>class Class1 {\n    public prop1: number;\n    public prop2: number;\n    public prop3: number;\n}\n</code></pre>\n\n<p>I declared an <code>ReadOnlyArray</code> representing a subset of <code>Class1</code> keys:</p>\n\n<pre><code>private readonly keysSubset: ReadOnlyArray&lt;keyof Class1&gt; = [\"prop1\", \"prop2\"];\n</code></pre>\n\n<p>Now, I want to declare a variable which can take any of property names declared in <code>keysSubset</code>:</p>\n\n<pre><code>const someKey: ? = this.keysSubset[1];\n</code></pre>\n\n<p>I don't want to give it neither <code>string</code> type, nor manually enumerate possible values like this:</p>\n\n<pre><code>const someKey: \"prop1\" | \"prop2\" = this.keysSubset[1];\n</code></pre>\n\n<p>I want to explicitly say \"this can contain any value from <code>keysSubset</code>\", so when items in <code>keysSubset</code> gets changed statically in the code (not at the run-time), I don't have to change <code>someKey</code> type declaration manually and compiler still could check whether <code>someKey</code> is assigned one of the values from <code>keysSubset</code>.</p>\n\n<p><strong>UPDATE</strong> (To give more info on the rationale):<br>\nI need the exact type for <code>someKey</code> to iterate over <code>keysSubset</code> and update some properties of instance of a different class <code>Class2</code> from an object of type <code>Class1</code>:</p>\n\n<pre><code>class Class2 {\n    public prop1: number;\n    public prop2: number;\n\n    private readonly keysSubset: ReadOnlyArray&lt;keyof Class1&gt; = [\"prop1\", \"prop2\"];\n\n    public updateFrom(source: Class1): void {\n        this.keysSubset.forEach((someKey: ?/*keyof Class1 won't work since Class2 doesn't have prop3*/): void =&gt; {\n                this[someKey] = source[someKey];\n            });\n    }\n}\n</code></pre>\n\n<p>So in short, the problem I'm solving is updating a given subset of properties of <code>Class1</code> from an instance of a different type <code>Class2</code>. While subset is static, there is some generic logic for each property update, so I don't want just write a bunch of <code>class1[someLey] = class2[someLey]</code> statements.</p>\n\n<p>How to declare the type of <code>someKey</code> in this case?</p>\n"}, {"tags": ["javascript", "angular", "typescript"], "answers": [{"comments": [{"owner": {"reputation": 167, "user_id": 10050172, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-70MrLopI-sY/AAAAAAAAAAI/AAAAAAAAAAA/AB6qoq15QURk3nsqRrwMpYQwVZp-GoqSdw/mo/photo.jpg?sz=128", "display_name": "2 Developer", "link": "https://stackoverflow.com/users/10050172/2-developer"}, "edited": false, "score": 0, "creation_date": 1534352868, "post_id": 51863004, "comment_id": 90678710, "body": "OK but in the second text area it will display the error line number from that i have to get the line number and highlight that in the first text area"}, {"owner": {"reputation": 391, "user_id": 8882906, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/10209965411323178/picture?type=large", "display_name": "Robert", "link": "https://stackoverflow.com/users/8882906/robert"}, "reply_to_user": {"reputation": 167, "user_id": 10050172, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-70MrLopI-sY/AAAAAAAAAAI/AAAAAAAAAAA/AB6qoq15QURk3nsqRrwMpYQwVZp-GoqSdw/mo/photo.jpg?sz=128", "display_name": "2 Developer", "link": "https://stackoverflow.com/users/10050172/2-developer"}, "edited": false, "score": 0, "creation_date": 1534358602, "post_id": 51863004, "comment_id": 90681345, "body": "You can display the line number by retrieving the index in the <code>Array.map</code> function, but unfortunately it&#39;s not possible to highlight certain text within a textarea. More info on Array.map here: <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/map\" rel=\"nofollow noreferrer\">developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/&hellip;</a>"}], "tags": [], "owner": {"reputation": 391, "user_id": 8882906, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/10209965411323178/picture?type=large", "display_name": "Robert", "link": "https://stackoverflow.com/users/8882906/robert"}, "is_accepted": false, "score": 0, "last_activity_date": 1534352021, "last_edit_date": 1534352021, "creation_date": 1534351705, "answer_id": 51863004, "question_id": 51862032, "link": "https://stackoverflow.com/questions/51862032/unable-to-add-line-numbers-and-error-status-in-text-area-using-angular-2/51863004#51863004", "title": "Unable to add line numbers and error status in text area using angular 2+", "body": "<p>Unfortunately you can't change the css properties of certain lines of text in a textarea, but you can simulate a textarea by using the <code>contenteditable</code> attribute on a div and editing the div's css accordingly.</p>\n\n<p>My approach to the solution was to split the inputted text by line break into an array of strings, adding a span around each line that results in an error, then joining the array back into a string.</p>\n\n<p>Here's a StackBlitz showing my quick fix: <a href=\"https://angular-zclmnm.stackblitz.io\" rel=\"nofollow noreferrer\">https://angular-zclmnm.stackblitz.io</a></p>\n\n<p><strong>HTML</strong></p>\n\n<pre><code>&lt;div [innerHTML]=\"TextData1\" contenteditable&gt;&lt;/div&gt;\n</code></pre>\n\n<p><strong>TS</strong> (note I removed some unneeded variables)</p>\n\n<pre><code>test(){\n    var tempData = [];\n    this.TextData1 = this.TextData.split(\"\\n\");                  // split TextData on line break\n\n    this.TextData1.map(data =&gt; {\n      if(error === true){                                        // Set error conditions\n        data = data.replace(/\\s+/g, '').trim();\n        data = \"&lt;span class='highlight'&gt;\" + data + \"&lt;/span&gt;\"     // Add class to error row\n        tempData.push(data);\n      } else{\n        tempData.push(data);\n      }\n    });\n    this.TextData1 = tempData.join('');\n  }\n</code></pre>\n\n<p>note: don't forget to add <code>encapsulation: ViewEncapsulation.None</code> to the <code>@Component</code> decorator</p>\n"}], "owner": {"reputation": 167, "user_id": 10050172, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-70MrLopI-sY/AAAAAAAAAAI/AAAAAAAAAAA/AB6qoq15QURk3nsqRrwMpYQwVZp-GoqSdw/mo/photo.jpg?sz=128", "display_name": "2 Developer", "link": "https://stackoverflow.com/users/10050172/2-developer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 431, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1534352021, "creation_date": 1534347879, "last_edit_date": 1534349561, "question_id": 51862032, "link": "https://stackoverflow.com/questions/51862032/unable-to-add-line-numbers-and-error-status-in-text-area-using-angular-2", "title": "Unable to add line numbers and error status in text area using angular 2+", "body": "<p>here i am  facing a typical issue i have a Dynamic json data which is</p>\n\n<pre><code>[\n{\n\"id\": 1,\n\"name\": \"Leanne Graham\",\n\"username\": \"Bret\",\n\"email\": \"Sincere@april.biz\",\n\"address\": {\n\"street\": \"Kulas Light\",\n\"suite\": \"Apt. 556\",\n\"city\": \"Gwenborough\",\n\"zipcode\": \"92998-3874\",\n\"geo\": {\n\"lat\": \"-37.3159\",\n\"lng\": \"81.1496\"\n}\n},\n\"phone\": \"1-770-736-8031 x56442\",\n\"website\": \"hildegard.org\",\n\"company\": {\n\"name\": \"Romaguera-Crona\",\n\"catchPhrase\": \"Multi-layered client-server neural-net\",\n\"bs\": \"harness real-time e-markets\"\n}\n}\n]\n</code></pre>\n\n<p>And i have 2 text areas . In text area One i try to paste this json data and after click action i am getting data transferred into 2nd text area here everything works good but the issue is i unable to set the line number programmatic for the text area by using css </p>\n\n<pre><code>.textarea {\n    background: url(http://i.imgur.com/2cOaJ.png);\n    background-attachment: local;\n    background-repeat: no-repeat;\n    padding-left: 35px;\n    padding-top: 10px;\n    border-color:#ccc;\n}\n</code></pre>\n\n<p>i am setting the line number the problem with this approach is suppose if i get any error in particular line how can i highlight it.</p>\n\n<p>now my issues are \n<strong>How can i add line numbers other than css way and how can show error in particular line if any i mean if i got  error in line 5 &amp; 10 then how can i high light those line</strong></p>\n\n<p>below is my stack blitz\n<a href=\"https://stackblitz.com/edit/angular-zgyxet\" rel=\"nofollow noreferrer\">https://stackblitz.com/edit/angular-zgyxet</a></p>\n\n<p><a href=\"https://i.stack.imgur.com/ONY9W.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ONY9W.jpg\" alt=\"enter image description here\"></a> </p>\n"}, {"tags": ["javascript", "typescript", "ionic2"], "comments": [{"owner": {"reputation": 22363, "user_id": 4468617, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a09c08e1ae93a83e9102b6715fc75b4c?s=128&d=identicon&r=PG", "display_name": "Matt McCutchen", "link": "https://stackoverflow.com/users/4468617/matt-mccutchen"}, "edited": false, "score": 0, "creation_date": 1534347815, "post_id": 51861969, "comment_id": 90676197, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/20279484/how-to-access-the-correct-this-inside-a-callback\">How to access the correct `this` inside a callback?</a>"}, {"owner": {"user_type": "does_not_exist", "display_name": "user1531971"}, "edited": false, "score": 1, "creation_date": 1534348138, "post_id": 51861969, "comment_id": 90676392, "body": "You mention other answers, but don&#39;t say why they don&#39;t apply. In order to help people not just give you those other answers, maybe tell us why those solutions don&#39;t fit?"}, {"owner": {"reputation": 25, "user_id": 10225845, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-PBtWbm4UwJg/AAAAAAAAAAI/AAAAAAAAAAA/AAnnY7o_fgbSXrSymf6_X89r_AY5avpHFw/mo/photo.jpg?sz=128", "display_name": "Milica Jevtic", "link": "https://stackoverflow.com/users/10225845/milica-jevtic"}, "reply_to_user": {"reputation": 22363, "user_id": 4468617, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a09c08e1ae93a83e9102b6715fc75b4c?s=128&d=identicon&r=PG", "display_name": "Matt McCutchen", "link": "https://stackoverflow.com/users/4468617/matt-mccutchen"}, "edited": false, "score": 0, "creation_date": 1534363494, "post_id": 51861969, "comment_id": 90683488, "body": "Thanks for the answers! About the answers, I&#39;ve read them but I didn&#39;t really figure &#39;this&#39; out. It is difficult for me, I come from Java, and it seems that it is very different. I&#39;ve read that @MattMcCutchen, but I&#39;m still not sure what should I change in my code to make this work. Sorry for the hassle, but I can&#39;t get this right."}, {"owner": {"reputation": 22363, "user_id": 4468617, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a09c08e1ae93a83e9102b6715fc75b4c?s=128&d=identicon&r=PG", "display_name": "Matt McCutchen", "link": "https://stackoverflow.com/users/4468617/matt-mccutchen"}, "edited": false, "score": 0, "creation_date": 1534363813, "post_id": 51861969, "comment_id": 90683614, "body": "Yes, <code>this</code> in JavaScript is a pain.  I added some code examples; hopefully I got at least one of them right."}], "answers": [{"comments": [{"owner": {"reputation": 25, "user_id": 10225845, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-PBtWbm4UwJg/AAAAAAAAAAI/AAAAAAAAAAA/AAnnY7o_fgbSXrSymf6_X89r_AY5avpHFw/mo/photo.jpg?sz=128", "display_name": "Milica Jevtic", "link": "https://stackoverflow.com/users/10225845/milica-jevtic"}, "edited": false, "score": 0, "creation_date": 1534364352, "post_id": 51865731, "comment_id": 90683857, "body": "Used the ref.on(&#39;value&#39;, this.gotData.bind(this), this.errData.bind(this)) version and it is actually working! Thank you very much!   After reading the other thread you sent me, and now seeing how it should be done I feel I understand the &quot;this&quot; concept much clearer now. Thank you VERY much, been banging my head on this whole day. Very appreciated!"}], "tags": [], "owner": {"reputation": 22363, "user_id": 4468617, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a09c08e1ae93a83e9102b6715fc75b4c?s=128&d=identicon&r=PG", "display_name": "Matt McCutchen", "link": "https://stackoverflow.com/users/4468617/matt-mccutchen"}, "is_accepted": true, "score": 0, "last_activity_date": 1534363779, "creation_date": 1534363779, "answer_id": 51865731, "question_id": 51861969, "link": "https://stackoverflow.com/questions/51861969/cannot-read-property-of-null-with-arrays-in-typescript/51865731#51865731", "title": "Cannot read property of null with arrays in typescript", "body": "<p>Replace:</p>\n\n<pre><code>ref.on('value', this.gotData, this.errData)\n</code></pre>\n\n<p>with:</p>\n\n<pre><code>ref.on('value', this.gotData.bind(this), this.errData.bind(this))\n</code></pre>\n\n<p>or:</p>\n\n<pre><code>ref.on('value', (data) =&gt; this.gotData(data), (err) =&gt; this.errData(err))\n</code></pre>\n\n<p>Alternatively, change the definitions:</p>\n\n<pre><code>gotData(data){ ... }\nerrData(err){ ... }\n</code></pre>\n\n<p>to:</p>\n\n<pre><code>gotData = (data) =&gt; { ... }\nerrData = (err) =&gt; { ... }\n</code></pre>\n"}], "owner": {"reputation": 25, "user_id": 10225845, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-PBtWbm4UwJg/AAAAAAAAAAI/AAAAAAAAAAA/AAnnY7o_fgbSXrSymf6_X89r_AY5avpHFw/mo/photo.jpg?sz=128", "display_name": "Milica Jevtic", "link": "https://stackoverflow.com/users/10225845/milica-jevtic"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 580, "favorite_count": 0, "accepted_answer_id": 51865731, "answer_count": 1, "score": 0, "last_activity_date": 1534363779, "creation_date": 1534347675, "question_id": 51861969, "link": "https://stackoverflow.com/questions/51861969/cannot-read-property-of-null-with-arrays-in-typescript", "title": "Cannot read property of null with arrays in typescript", "body": "<p>I'm new to typescript. I've tried searching through answers here but none of the solutions seem to fit.</p>\n\n<p>I have a relatively simple (I guess) problem. \nThe data that I get with profilesArr arrays are correct, but I can't seem to pass that data to the array \"profiles\" that I declared at the start of the class. It does, however, pass the data from profilesArr correctly to the locally declared array called \"array\". I can obtain the data from \"array\" easily, but when I run this line of code this.profiles[i]=profilesArr[k]; it gives me the error: Cannot read property 'profiles' of null.</p>\n\n<pre><code>export class RegisteredusersPage {\n\n  private profileListRef = this.db.list&lt;Profile&gt;('profile-list');\n  constructor(public navCtrl: NavController, public navParams: NavParams,     private storage: Storage,\n    private db: AngularFireDatabase) {\n  }\n  profiles=[];\n  ionViewDidLoad() {\n    console.log('ionViewDidLoad RegisteredusersPage');\n\n  }\n  getProfile(){\n    console.log(this.db.list('profile-list'));\n    var database = firebase.database();\n    var ref=database.ref(\"profile-list\");\n    ref.on('value', this.gotData, this.errData)\n\n  }\n  gotData(data){\n      console.log(data.val());\n      var profilesArr=data.val();\n      var keys=Object.keys(profilesArr);\n      var that=this;\n      var array=[];\n      console.log(\"Pre keys\");\n      console.log(\"keys:\"+keys);\n      console.log(\"profilesArr: \"+profilesArr);\n      for(var i = 0; i &lt;keys.length; i++){\n          var k = keys[i];\n          var profileName = profilesArr[k].name;\n          var profileCountry = profilesArr[k].country;\n          console.log(profileName,profileCountry);\n          alert(profileName);\n          alert(profileCountry);\n          array[i]=profilesArr[k];\n          this.profiles[i]=profilesArr[k];\n\n      }\n      console.log(this.profiles);\n\n  }\n  errData(err){\n    console.log(\"Error\");\n    console.log(err);\n  }\n</code></pre>\n\n<p>I know it's a pretty newbie question, but I can't get my head around it. I would be <strong>really</strong> grateful if you could help me solve it, thanks!</p>\n"}, {"tags": ["javascript", "typescript", "firebase", "google-cloud-functions"], "answers": [{"comments": [{"owner": {"reputation": 642, "user_id": 8735352, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a954491d5813e4271bc38fbb1b97e68a?s=128&d=identicon&r=PG&f=1", "display_name": "Danilo Fuchs", "link": "https://stackoverflow.com/users/8735352/danilo-fuchs"}, "edited": false, "score": 0, "creation_date": 1534377085, "post_id": 51863924, "comment_id": 90687583, "body": "Rookie mistake. I saw the call method and immediately thought it was what I was looking for. Thank you so much!"}], "tags": [], "owner": {"reputation": 6467, "user_id": 7164592, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QlZVW.png?s=128&g=1", "display_name": "Jen Person", "link": "https://stackoverflow.com/users/7164592/jen-person"}, "is_accepted": true, "score": 11, "last_activity_date": 1534355517, "creation_date": 1534355517, "answer_id": 51863924, "question_id": 51861909, "link": "https://stackoverflow.com/questions/51861909/firebase-callable-function-not-receiving-arguments/51863924#51863924", "title": "Firebase callable function not receiving arguments", "body": "<p>Instead of doing <code>a.call</code>, just call the function <code>a</code> with the parameters, like this:</p>\n\n<pre><code>const a = Firebase.functions.httpsCallable(\"httpsOnCall\");\n  a({ a: 1, b: \"testing\", c: true }).then(result =&gt; {\n    console.log(result);\n  });\n</code></pre>\n\n<p>See the <a href=\"https://firebase.google.com/docs/functions/callable\" rel=\"noreferrer\">guide</a> for an example.</p>\n"}, {"tags": [], "owner": {"reputation": 11, "user_id": 10884885, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-ZSbYIBuo4XQ/AAAAAAAAAAI/AAAAAAAAAC4/qHzrciz6UWc/photo.jpg?sz=128", "display_name": "Gen&#237;s Mart&#237;nez", "link": "https://stackoverflow.com/users/10884885/gen%c3%ads-mart%c3%adnez"}, "is_accepted": false, "score": 1, "last_activity_date": 1584879566, "creation_date": 1584879566, "answer_id": 60799216, "question_id": 51861909, "link": "https://stackoverflow.com/questions/51861909/firebase-callable-function-not-receiving-arguments/60799216#60799216", "title": "Firebase callable function not receiving arguments", "body": "<pre><code>//imports\nconst firebase = require(\"firebase\");\nrequire(\"firebase/functions\");\n\n\n//call steatment\nconst a = firebase.functions().httpsCallable('httpsOnCall');\n        a({ a: 1, b: \"testing\", c: true })\n            .then((result) =&gt; {\n                console.log(result);\n            })\n            .catch((error) =&gt; {\n                console.log(`error: ${JSON.stringify(error)}`);\n        });\n</code></pre>\n"}], "owner": {"reputation": 642, "user_id": 8735352, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a954491d5813e4271bc38fbb1b97e68a?s=128&d=identicon&r=PG&f=1", "display_name": "Danilo Fuchs", "link": "https://stackoverflow.com/users/8735352/danilo-fuchs"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2480, "favorite_count": 0, "accepted_answer_id": 51863924, "answer_count": 2, "score": 2, "last_activity_date": 1584879566, "creation_date": 1534347484, "question_id": 51861909, "link": "https://stackoverflow.com/questions/51861909/firebase-callable-function-not-receiving-arguments", "title": "Firebase callable function not receiving arguments", "body": "<p>Implementing a simple function on typescript to call a Firebase callable function is not working.\nUsing firebase-tools@4.0.3 -g, firebase-functions@2.0.5, firebase@5.3.1</p>\n\n<p>Firebase callable function:</p>\n\n<pre><code>import * as functions from \"firebase-functions\";\n\nexports.httpsOnCall = functions.https.onCall((data, context) =&gt; {\n  console.log(data);\n  return data;\n});\n</code></pre>\n\n<p>It is deployed correctly</p>\n\n<p>Calling the function in webapp:</p>\n\n<pre><code>const a = Firebase.functions.httpsCallable(\"httpsOnCall\");\n  a.call({ a: 1, b: \"testing\", c: true }).then(result =&gt; {\n    console.log(result);\n  });\n</code></pre>\n\n<p>Firebase object initialization:</p>\n\n<pre><code>import * as firebase from \"firebase\";\n\nconst config = {\n  apiKey: \"asdasdasd\",\n  authDomain: \"APPNAME.firebaseapp.com\",\n  databaseURL: \"https://APPNAME.firebaseio.com\",\n  projectId: \"APPNAME\",\n  storageBucket: \"APPNAME.appspot.com\",\n  messagingSenderId: \"123456\"\n};\nfirebase.initializeApp(config);\nconst Firebase = {\n   functions: firebase.functions()\n}\n</code></pre>\n\n<p>Log from firebase:</p>\n\n<pre><code>null\n</code></pre>\n\n<p>Log from webapp:</p>\n\n<pre><code>{data: null}\n</code></pre>\n\n<p>It seems like data is not reaching the httpsOnCall function, even though the context variable is populated.</p>\n"}, {"tags": ["angular", "typescript", "architecture", "angular-material", "ngrx"], "answers": [{"tags": [], "owner": {"reputation": 1544, "user_id": 1558028, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/828e5a42f476437de9cddb7b9a2a18cd?s=128&d=identicon&r=PG", "display_name": "androbin", "link": "https://stackoverflow.com/users/1558028/androbin"}, "is_accepted": false, "score": 0, "last_activity_date": 1569427757, "creation_date": 1569427757, "answer_id": 58102549, "question_id": 51861612, "link": "https://stackoverflow.com/questions/51861612/angular-material-dialog-and-ngrx/58102549#58102549", "title": "Angular material dialog and ngrx", "body": "<p>You can use forRoot and forFeature for the module. <a href=\"https://angular.io/guide/singleton-services\" rel=\"nofollow noreferrer\">Link here</a></p>\n\n<p>For the root module you add the services to be singleton (like effects). For the feature module you can add the others.</p>\n\n<p>You can use the singleton service with <code>providedIn: 'root'</code> but I don't know actually if it's working with NgRx effects.</p>\n\n<p>P.S. On the other hand if you restore the state with HMR the modals won't stay open.</p>\n"}], "owner": {"reputation": 1146, "user_id": 4271430, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7hYSL.jpg?s=128&g=1", "display_name": "Adrien SAULNIER", "link": "https://stackoverflow.com/users/4271430/adrien-saulnier"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 3831, "favorite_count": 1, "answer_count": 1, "score": 7, "last_activity_date": 1569427757, "creation_date": 1534346344, "last_edit_date": 1534358424, "question_id": 51861612, "link": "https://stackoverflow.com/questions/51861612/angular-material-dialog-and-ngrx", "title": "Angular material dialog and ngrx", "body": "<p>I'm working on a new Angular 6 application, with Ngrx and Angular material.\nI'm creating the base app that will be used by many devs in my company. My problem is on the dialog redux system that I want to create.</p>\n\n<p>I will start by share my actual code and I will explain the problem and what I tried.</p>\n\n<p>My goal : Anywhere in my app, I want to simply call an action that will open a custom dialog (specific to each feature). The app should open multiple fullscreen dialogs.</p>\n\n<p><strong>Here is my simplified architecture :</strong></p>\n\n<pre><code>AppModule\nCoreModule\nDialogsModule (StoreModule.forFeature('dialog', dialogReducer) / Effects.forFeature([DialogEffects]))\n    FeatureAModule (contains specific dialogs component)\n    FeatureBModule (contains specific dialogs component)\n</code></pre>\n\n<p><strong>That I want, anywhere in my app :</strong> </p>\n\n<pre><code>// Random Feature\n openDialog(): void {\n    const payload: {\n       componentOrTemplateRef: MyDialogComponent, // The dialog, create by dev, in a specific feature\n       config: {\n          id: 'my-custom-id',\n          data: {\n             ... // MAT_DIALOG_DATA\n          }\n       }\n    };\n    this.store.dispatch(new OpenDialogAction(payload));\n}\n</code></pre>\n\n<p><strong>My actual dialog Redux :</strong></p>\n\n<p><strong><em>dialog.action.ts</em></strong></p>\n\n<pre><code>export enum DialogActionTypes {\n  OPEN = '[DIALOG] OPEN',\n  SAVE_REF = '[DIALOG] SAVE_REF' // use to store dialog reference in the ngrx store\n  CLOSE = '[DIALOG] CLOSE'\n}\n\nexport type DialogAction = OpenDialogAction | SaveRefDialogAction | CloseDialogAction;\n\nexport interface OpenDialogPayload {\n  componentOrTemplateRef: ComponentType&lt;any&gt;;\n  config: MatDialogConfig;\n}\n\nexport interface CloseDialogPayload {\n  dialogId: string;\n  responseData?: any;\n}\n\nexport class OpenDialogAction implements Action {\n  readonly type = DialogActionTypes.OPEN;\n\n  constructor(public payload: OpenDialogPayload) {}\n}\n\nexport class SaveRefDialogAction implements Action {\n  readonly type = DialogActionTypes.SAVE_REF;\n\n  constructor(public payload: MatDialogRef&lt;any&gt;) {}\n}\n\nexport class CloseDialogAction implements Action {\n  readonly type = DialogActionTypes.CLOSE;\n\n  constructor(public payload: CloseDialogPayload) {}\n}\n</code></pre>\n\n<p><strong><em>dialog.reducer.ts</em></strong></p>\n\n<pre><code>export interface DialogState {\n  refs: Array&lt;{ id: string, ref: MatDialogRef&lt;any&gt; }&gt;;\n}\n\nconst initialState: DialogState = {\n  refs: []\n};\n\nexport function dialogReducer(state: DialogState = initialState, action: DialogAction): DialogState {\n  switch (action.type) {\n    case DialogActionTypes.SAVE_REF:\n      return { ...state, refs: [...state.refs, { id: action.payload.id, ref: action.payload }] };\n    case DialogActionTypes.CLOSE:\n      return { ...state, refs: state.refs.filter(ref =&gt; ref.id !== action.payload.dialogId) };\n    default:\n      return state;\n  }\n}\n\n// DialogState Selector\nexport const getDialogState = createFeatureSelector('dialog');\n\n// DialogState property selectors\nexport const getDialogRefById = (id: string) =&gt; createSelector(getDialogState, (state: DialogState) =&gt; state.refs.find(ref =&gt; ref.id === id).ref);\n</code></pre>\n\n<p><strong><em>dialog.effects.ts</em></strong></p>\n\n<pre><code>@Injectable()\nexport class DialogEffects {\n  @Effect()\n  openDialog$: Observable&lt;SaveRefDialogAction&gt; = this.actions$.pipe(\n    ofType(DialogActionTypes.OPEN),\n    map((action: OpenDialogAction) =&gt; action.payload),\n    switchMap((payload: OpenDialogPayload) =&gt; of(this.dialog.open(payload.componentOrTemplateRef, payload.config))),\n    map((dialogRef: MatDialogRef&lt;any&gt;) =&gt; new SaveRefDialogAction(dialogRef))\n  );\n\n  @Effect({ dispatch: false })\n  closeDialog$: Observable&lt;{}&gt; = this.actions$.pipe(\n    ofType(DialogActionTypes.CLOSE),\n    map((action: CloseDialogAction) =&gt; action.payload),\n    tap((payload: CloseDialogPayload) =&gt; this.dialog.getDialogById(payload.dialogId).close(payload.responseData)),\n    mapTo(of())\n  );\n\n  constructor(private actions$: Actions, private dialog: MatDialog) {}\n</code></pre>\n\n<p>I had a problem with feature's custom dialog components. They were not recognized by DialogsModule (they must be on entryComponents). So, I created a static method <code>withComponents</code> that return a ModuleWithProviders and populate entryComponents with the injection token ANALYZE_FOR_ENTRY_COMPONENTS</p>\n\n<pre><code>@NgModule({\n  imports: [\n    MatDialogModule,\n    StoreModule.forFeature('dialog', dialogReducer),\n    EffectsModule.forFeature([DialogEffects])\n  ]\n})\nexport class DialogsModule {\n  static withComponents(components: any) ModuleWithProviders {\n    return {\n        ngModule: DialogsModule,\n        providers: [{ provide: ANALYZE_FOR_ENTRY_COMPONENTS, useValue: components, multi: true }]\n    };\n  }\n}\n</code></pre>\n\n<p><strong>The Problem</strong> </p>\n\n<p>All of my feature with custom dialog need to import DialogsModule... But, DialogEffects will be instanciated each times (If I have 3 modules that must imports DialogsModule, DialogEffects will be instanciate 3 times).</p>\n\n<p>How can I have a correct material dialog manager without this problem and the entryComponents problem ? I'm open for any suggestions. </p>\n\n<p>Thank you by advance !</p>\n"}, {"tags": ["javascript", "angular", "typescript", "underscore.js", "lodash"], "comments": [{"owner": {"reputation": 22363, "user_id": 4468617, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a09c08e1ae93a83e9102b6715fc75b4c?s=128&d=identicon&r=PG", "display_name": "Matt McCutchen", "link": "https://stackoverflow.com/users/4468617/matt-mccutchen"}, "edited": false, "score": 1, "creation_date": 1534347372, "post_id": 51861597, "comment_id": 90675980, "body": "I don&#39;t know what&#39;s going on in Stackblitz; when I export the project, run <code>npm install</code> and load it up in VS Code on my machine, I get no error."}, {"owner": {"reputation": 1361, "user_id": 1601399, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/D9bVZ.jpg?s=128&g=1", "display_name": "Vaibhav Kumar Goyal", "link": "https://stackoverflow.com/users/1601399/vaibhav-kumar-goyal"}, "edited": false, "score": 0, "creation_date": 1534347452, "post_id": 51861597, "comment_id": 90676021, "body": "can you provide your typings.json file @SebastianG"}, {"owner": {"reputation": 5631, "user_id": 10064334, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Cl7s7.png?s=128&g=1", "display_name": "SebastianG", "link": "https://stackoverflow.com/users/10064334/sebastiang"}, "reply_to_user": {"reputation": 22363, "user_id": 4468617, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a09c08e1ae93a83e9102b6715fc75b4c?s=128&d=identicon&r=PG", "display_name": "Matt McCutchen", "link": "https://stackoverflow.com/users/4468617/matt-mccutchen"}, "edited": false, "score": 0, "creation_date": 1534347519, "post_id": 51861597, "comment_id": 90676056, "body": "@MattMcCutchen does the object display/get built correctly in the console as well?"}, {"owner": {"reputation": 5631, "user_id": 10064334, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Cl7s7.png?s=128&g=1", "display_name": "SebastianG", "link": "https://stackoverflow.com/users/10064334/sebastiang"}, "reply_to_user": {"reputation": 1361, "user_id": 1601399, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/D9bVZ.jpg?s=128&g=1", "display_name": "Vaibhav Kumar Goyal", "link": "https://stackoverflow.com/users/1601399/vaibhav-kumar-goyal"}, "edited": false, "score": 0, "creation_date": 1534347606, "post_id": 51861597, "comment_id": 90676101, "body": "@VaibhavKumarGoyal I can&#39;t find any such file in my project. A global search with &#39;everything&#39; software on my computer reveleas only some files called typings.json inside various node_modules from other projects."}, {"owner": {"reputation": 22363, "user_id": 4468617, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a09c08e1ae93a83e9102b6715fc75b4c?s=128&d=identicon&r=PG", "display_name": "Matt McCutchen", "link": "https://stackoverflow.com/users/4468617/matt-mccutchen"}, "edited": false, "score": 1, "creation_date": 1534347717, "post_id": 51861597, "comment_id": 90676153, "body": "@SebastianG I know TypeScript but I&#39;m not familiar with how to run Angular projects.  I tried <code>ng serve</code> but got an error, <code>Module not found: Error: Can&#39;t resolve &#39;REDACTED&#47;src&#47;main.ts&#39; in &#39;REDACTED&#47;node_modules&#47;@angular&#47;cli&#47;models&#47;webpack-configs&#39;</code>."}, {"owner": {"reputation": 5631, "user_id": 10064334, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Cl7s7.png?s=128&g=1", "display_name": "SebastianG", "link": "https://stackoverflow.com/users/10064334/sebastiang"}, "reply_to_user": {"reputation": 22363, "user_id": 4468617, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a09c08e1ae93a83e9102b6715fc75b4c?s=128&d=identicon&r=PG", "display_name": "Matt McCutchen", "link": "https://stackoverflow.com/users/4468617/matt-mccutchen"}, "edited": false, "score": 0, "creation_date": 1534347914, "post_id": 51861597, "comment_id": 90676248, "body": "@MattMcCutchen I think the stackblitz is messed up for some odd reason. I have just created a blank component for my application and copied only the stackblitz code. No errors and it seems to work but on the console I&#39;m now getting &#39;undefined&#39;."}, {"owner": {"reputation": 22363, "user_id": 4468617, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a09c08e1ae93a83e9102b6715fc75b4c?s=128&d=identicon&r=PG", "display_name": "Matt McCutchen", "link": "https://stackoverflow.com/users/4468617/matt-mccutchen"}, "edited": false, "score": 1, "creation_date": 1534348886, "post_id": 51861597, "comment_id": 90676791, "body": "Looks like you may be missing a <code>return</code> before <code>_(param)</code> (or alternatively, remove the curly braces)."}, {"owner": {"reputation": 5631, "user_id": 10064334, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Cl7s7.png?s=128&g=1", "display_name": "SebastianG", "link": "https://stackoverflow.com/users/10064334/sebastiang"}, "reply_to_user": {"reputation": 22363, "user_id": 4468617, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a09c08e1ae93a83e9102b6715fc75b4c?s=128&d=identicon&r=PG", "display_name": "Matt McCutchen", "link": "https://stackoverflow.com/users/4468617/matt-mccutchen"}, "edited": false, "score": 0, "creation_date": 1534348998, "post_id": 51861597, "comment_id": 90676842, "body": "@MattMcCutchen ah that might be it -- I have since modified the function to just console.log the whole thing which has made it unnecessary to add the return. I&#39;m no longer getting undefined but now I&#39;m getting an empty array, literally just the brackets."}, {"owner": {"reputation": 22363, "user_id": 4468617, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a09c08e1ae93a83e9102b6715fc75b4c?s=128&d=identicon&r=PG", "display_name": "Matt McCutchen", "link": "https://stackoverflow.com/users/4468617/matt-mccutchen"}, "edited": false, "score": 1, "creation_date": 1534349722, "post_id": 51861597, "comment_id": 90677213, "body": "If the definition of <code>array</code> is still as in the StackBlitz, <code>array: [ { &quot;BookingId&quot;: 0 ... } ]</code>, then you are declaring a really complicated type for the <code>array</code> but not initializing it and it remains <code>undefined</code>.  Try replacing <code>array:</code> with <code>array =</code>."}, {"owner": {"reputation": 5631, "user_id": 10064334, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Cl7s7.png?s=128&g=1", "display_name": "SebastianG", "link": "https://stackoverflow.com/users/10064334/sebastiang"}, "reply_to_user": {"reputation": 22363, "user_id": 4468617, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a09c08e1ae93a83e9102b6715fc75b4c?s=128&d=identicon&r=PG", "display_name": "Matt McCutchen", "link": "https://stackoverflow.com/users/4468617/matt-mccutchen"}, "edited": false, "score": 0, "creation_date": 1534350733, "post_id": 51861597, "comment_id": 90677752, "body": "@MattMcCutchen that.... worked O.o wow. Now the only problem that I&#39;m having is that the new objects have all data inside them as well, not just the key that I&#39;m interested. If you have suggestions on how to map as keys just the values of the keys that I&#39;m filtering it would be great. Also if you want to post as an answer I&#39;ll be glad to mark it as the solution! Thanks!"}, {"owner": {"reputation": 22363, "user_id": 4468617, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a09c08e1ae93a83e9102b6715fc75b4c?s=128&d=identicon&r=PG", "display_name": "Matt McCutchen", "link": "https://stackoverflow.com/users/4468617/matt-mccutchen"}, "edited": false, "score": 1, "creation_date": 1534351420, "post_id": 51861597, "comment_id": 90678056, "body": "Replacing <code>...group[0]</code> with <code>DeliveryStatus: group[0].DeliveryStatus</code> should do it."}], "answers": [{"tags": [], "owner": {"reputation": 22363, "user_id": 4468617, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a09c08e1ae93a83e9102b6715fc75b4c?s=128&d=identicon&r=PG", "display_name": "Matt McCutchen", "link": "https://stackoverflow.com/users/4468617/matt-mccutchen"}, "is_accepted": true, "score": 1, "last_activity_date": 1534351540, "creation_date": 1534351540, "answer_id": 51862953, "question_id": 51861597, "link": "https://stackoverflow.com/questions/51861597/lodash-in-angular2-typescript-groupby-getting-cannot-invoke-an-expression-wh/51862953#51862953", "title": "Lodash in Angular2+/Typescript -- groupBy getting cannot invoke an expression whose type lacks a call signature when trying to pass parameter?", "body": "<p>The problem was that <code>array</code> is being declared with a very complicated type (following the colon) but not actually initialized, so it is <code>undefined</code>.  Replace <code>array:</code> with <code>array =</code>.</p>\n"}], "owner": {"reputation": 5631, "user_id": 10064334, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Cl7s7.png?s=128&g=1", "display_name": "SebastianG", "link": "https://stackoverflow.com/users/10064334/sebastiang"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 158, "favorite_count": 0, "accepted_answer_id": 51862953, "answer_count": 1, "score": 2, "last_activity_date": 1534351540, "creation_date": 1534346303, "last_edit_date": 1534351476, "question_id": 51861597, "link": "https://stackoverflow.com/questions/51861597/lodash-in-angular2-typescript-groupby-getting-cannot-invoke-an-expression-wh", "title": "Lodash in Angular2+/Typescript -- groupBy getting cannot invoke an expression whose type lacks a call signature when trying to pass parameter?", "body": "<p>Stackblitz here: </p>\n\n<p><a href=\"https://stackblitz.com/edit/angular-qbpnqc\" rel=\"nofollow noreferrer\">https://stackblitz.com/edit/angular-qbpnqc</a></p>\n\n<pre><code>import { Component, OnInit } from '@angular/core';\nimport _ from \"lodash\";\n\n@Component({\n  selector: 'my-app',\n  templateUrl: './app.component.html',\n  styleUrls: [ './app.component.css' ]\n})\nexport class AppComponent implements OnInit  {\n  array: [\n    {\n        \"BookingId\": 0,\n        \"OrderNumber\": \"331049910611\",\n        \"ArrivalTime\": \"07:00:00\",\n        \"DepartureTime\": \"14:00:00\",\n        \"Duration\": \"07:00:00\",\n    },\n    {\n        \"BookingId\": 0,\n        \"OrderNumber\": \"331049910611\",\n        \"ArrivalTime\": \"07:00:00\",\n        \"DepartureTime\": \"14:00:00\",\n        \"Duration\": \"07:00:00\",\n    },\n    {\n        \"BookingId\": 0,\n        \"OrderNumber\": \"331049910611\",\n        \"ArrivalTime\": \"07:00:00\",\n        \"DepartureTime\": \"14:00:00\",\n        \"Duration\": \"07:00:00\",\n\n    },\n    {\n        \"BookingId\": 0,\n        \"OrderNumber\": \"331049910611\",\n        \"ArrivalTime\": \"07:00:00\",\n        \"DepartureTime\": \"14:00:00\",\n        \"Duration\": \"07:00:00\",\n\n\n    },\n    {\n        \"BookingId\": 0,\n        \"OrderNumber\": \"331049910611\",\n        \"ArrivalTime\": \"07:00:00\",\n        \"DepartureTime\": \"14:00:00\",\n        \"Duration\": \"07:00:00\",\n\n\n    },\n    {\n        \"BookingId\": 0,\n        \"OrderNumber\": \"331049910611\",\n        \"ArrivalTime\": \"07:00:00\",\n        \"DepartureTime\": \"14:00:00\",\n        \"Duration\": \"07:00:00\",\n\n        \"DeliveryStatus\": \"Accepted\"\n    },\n    {\n        \"BookingId\": 59088,\n        \"OrderNumber\": \"691\",\n        \"ArrivalTime\": \"11:00:00\",\n        \"DepartureTime\": \"12:00:00\",\n        \"Duration\": \"01:00:00\",\n\n        \"DeliveryStatus\": \"Accepted\"\n    }\n];\n\ncountSmth: any;\n\nngOnInit() {\n\n  // not working\n  console.log( _(this.array).groupBy('DeliveryStatus').values().map(\n      (group) =&gt; ({ ...group[0], qty: group.length }).value()\n    ));\n}\n\n\n\n}\n</code></pre>\n"}, {"tags": ["javascript", "angular", "typescript", "angular2-changedetection"], "comments": [{"owner": {"reputation": 57675, "user_id": 1009922, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/K0eeL.jpg?s=128&g=1", "display_name": "ConnorsFan", "link": "https://stackoverflow.com/users/1009922/connorsfan"}, "edited": false, "score": 0, "creation_date": 1534346445, "post_id": 51861558, "comment_id": 90675408, "body": "You want to get or you want to set? The question is not clear to me. Maybe showing the template could help."}, {"owner": {"reputation": 3660, "user_id": 2085502, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/35944d07bd203fe68ed3781347412474?s=128&d=identicon&r=PG", "display_name": "Christoph L&#252;tjen", "link": "https://stackoverflow.com/users/2085502/christoph-l%c3%bctjen"}, "edited": false, "score": 0, "creation_date": 1534346588, "post_id": 51861558, "comment_id": 90675501, "body": "Your setter is called one time when creating the component. It will not be called if something inside of content var changes. That&#39;s why your log output is always 0. Are you looking for something like this <a href=\"https://stackoverflow.com/questions/6492683/how-to-detect-divs-dimension-changed\" title=\"how to detect divs dimension changed\">stackoverflow.com/questions/6492683/&hellip;</a> ?"}, {"owner": {"reputation": 728, "user_id": 958916, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/b4755277eecf4e75cb11d62e77a2aae7?s=128&d=identicon&r=PG", "display_name": "Vincent-cm", "link": "https://stackoverflow.com/users/958916/vincent-cm"}, "reply_to_user": {"reputation": 57675, "user_id": 1009922, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/K0eeL.jpg?s=128&g=1", "display_name": "ConnorsFan", "link": "https://stackoverflow.com/users/1009922/connorsfan"}, "edited": false, "score": 0, "creation_date": 1534347257, "post_id": 51861558, "comment_id": 90675908, "body": "@ConnorsFan get: to get the style from the template, set: to set the value to the component"}, {"owner": {"reputation": 728, "user_id": 958916, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/b4755277eecf4e75cb11d62e77a2aae7?s=128&d=identicon&r=PG", "display_name": "Vincent-cm", "link": "https://stackoverflow.com/users/958916/vincent-cm"}, "reply_to_user": {"reputation": 3660, "user_id": 2085502, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/35944d07bd203fe68ed3781347412474?s=128&d=identicon&r=PG", "display_name": "Christoph L&#252;tjen", "link": "https://stackoverflow.com/users/2085502/christoph-l%c3%bctjen"}, "edited": false, "score": 0, "creation_date": 1534347441, "post_id": 51861558, "comment_id": 90676019, "body": "Thanks @ChristophL&#252;tjen I will look into the plugin implementation. But I still want to see if there is a method in pure Angular"}, {"owner": {"reputation": 3660, "user_id": 2085502, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/35944d07bd203fe68ed3781347412474?s=128&d=identicon&r=PG", "display_name": "Christoph L&#252;tjen", "link": "https://stackoverflow.com/users/2085502/christoph-l%c3%bctjen"}, "edited": false, "score": 0, "creation_date": 1534347651, "post_id": 51861558, "comment_id": 90676123, "body": "If you want to get notified when size changes, there&#39;s nothing build in in angular (I was looking for it too). I&#39;m using the ResizeObserver polyfill <a href=\"https://github.com/que-etc/resize-observer-polyfill\" rel=\"nofollow noreferrer\">github.com/que-etc/resize-observer-polyfill</a>"}, {"owner": {"reputation": 1361, "user_id": 1601399, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/D9bVZ.jpg?s=128&g=1", "display_name": "Vaibhav Kumar Goyal", "link": "https://stackoverflow.com/users/1601399/vaibhav-kumar-goyal"}, "edited": false, "score": 0, "creation_date": 1534348715, "post_id": 51861558, "comment_id": 90676706, "body": "what type of element is this ? maybe you can write a custom function which emits an event for example in case of a button ` &lt;div (click)=&quot;setImageWidth()&quot;&gt;&lt;/div&gt; ` and then in the function <code>@ViewChild(&#39;targetElement&#39;) el:ElementRef </code> <code>setImageWidth()</code> <code>{</code> <code>console.log( this.elementView.nativeElement.offsetHeight);</code> <code>}</code>"}], "answers": [{"tags": [], "owner": {"reputation": 14745, "user_id": 7790376, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-i3Pxbe4117Y/AAAAAAAAAAI/AAAAAAAAAEw/r6BT0yIo_4E/photo.jpg?sz=128", "display_name": "Chellappan \u0bb5", "link": "https://stackoverflow.com/users/7790376/chellappan-%e0%ae%b5"}, "is_accepted": true, "score": 1, "last_activity_date": 1534348417, "creation_date": 1534348417, "answer_id": 51862155, "question_id": 51861558, "link": "https://stackoverflow.com/questions/51861558/is-there-any-passive-way-to-get-element-style-from-viewchild-style-dynamicall/51862155#51862155", "title": "Is there any &#39;passive&#39; way to get element style from @ViewChild style dynamically in Angular2?", "body": "<p>You can use resizeObserver</p>\n\n<p>Resize Observer is a new JavaScript API that\u2019s very similar to other observer APIs like the Intersection Observer API. It allows for elements to be notified when their size changes.</p>\n\n<p>Install polyfill that may be used for browsers back to Internet Explorer 11</p>\n\n<pre><code>npm i resize-observer-polyfill\n\nvar observer = new ResizeObserver( resizeObserverEntries =&gt; {\n    for (let entry of resizeObserverEntries) {\n        const rect = entry.contentRect;\n        console.log('Element:', entry.target);\n        console.log(`Element size: ${rect.width}px x ${rect.height}px`);\n        console.log(`Element padding: ${rect.top}px ; ${rect.left}px`);\n    }\n});\n</code></pre>\n\n<p>StackBlitz:<a href=\"https://stackblitz.com/edit/resize-observer\" rel=\"nofollow noreferrer\">https://stackblitz.com/edit/resize-observer</a></p>\n\n<p>ResizeObserver: It\u2019s Like document.onresize for Elements\nDocumentation:<a href=\"https://developers.google.com/web/updates/2016/10/resizeobserver\" rel=\"nofollow noreferrer\">https://developers.google.com/web/updates/2016/10/resizeobserver</a>\nCheck this:<a href=\"https://www.sitepen.com/blog/2018/06/04/exploring-the-resize-observer-proposal/\" rel=\"nofollow noreferrer\">https://www.sitepen.com/blog/2018/06/04/exploring-the-resize-observer-proposal/</a></p>\n"}], "owner": {"reputation": 728, "user_id": 958916, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/b4755277eecf4e75cb11d62e77a2aae7?s=128&d=identicon&r=PG", "display_name": "Vincent-cm", "link": "https://stackoverflow.com/users/958916/vincent-cm"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 75, "favorite_count": 0, "accepted_answer_id": 51862155, "answer_count": 1, "score": 2, "last_activity_date": 1534348417, "creation_date": 1534346161, "last_edit_date": 1534347232, "question_id": 51861558, "link": "https://stackoverflow.com/questions/51861558/is-there-any-passive-way-to-get-element-style-from-viewchild-style-dynamicall", "title": "Is there any &#39;passive&#39; way to get element style from @ViewChild style dynamically in Angular2?", "body": "<p>For example, there is an element in the template using a local variable <code>#targetElement</code> which aims to get its current width whenever it needs. But I don't want to programmatically calculate the style. Tried with a setter with @ViewChild annotation</p>\n\n<p>get: to get the style from the template</p>\n\n<p>set: to set the value to the component</p>\n\n<pre><code>@ViewChild('targetElement')\nset imgWidth(content: ElementRef) {\n  if (content) {\n    console.log('Current width is: ' + content.nativeElement.clientWidth);\n  }\n}\n</code></pre>\n\n<p>But it can only get a 0 and it won't update when the page is resized, or any change to the window. So, the question is how I can passively set the <code>#targetElement</code> into my component in anytime?</p>\n\n<p>Write a setter in <code>ngDoCheck</code> or <code>ngAfterViewChecked</code> seems killing the performance.</p>\n"}, {"tags": ["javascript", "html", "angular", "typescript", "angular2-forms"], "owner": {"reputation": 518, "user_id": 7110325, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/6b5682560d4afb4624cfb8932df5fbf8?s=128&d=identicon&r=PG&f=1", "display_name": "Krishna", "link": "https://stackoverflow.com/users/7110325/krishna"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 55, "favorite_count": 1, "answer_count": 0, "score": 1, "last_activity_date": 1534345533, "creation_date": 1534345533, "question_id": 51861368, "link": "https://stackoverflow.com/questions/51861368/angular-2-dynamic-checkboxes-with-iteration", "title": "angular 2 dynamic checkboxes with iteration", "body": "<p><a href=\"https://i.stack.imgur.com/6GPDE.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/6GPDE.png\" alt=\"enter image description here\"></a></p>\n\n<p>Hi,</p>\n\n<p>I'm having a hard time to find a solution to my requirement. I want to generate checkboxes dynamically like the above image.</p>\n\n<p>Data from the API will come in below format. \n<div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>  vaultsNamesValues: any = {\r\n    SMDD: ['SMDD1', 'SMDD2', 'SMDD3', 'SMDDZ1', 'SMDDZ2', 'SMDDZ2'],\r\n    DCRT: ['DCRTZ1', 'DCRTZ2', 'DCRTZ3', 'DCRTZ4'],\r\n    MISS: ['MISS1', 'MISS2']\r\n  }</code></pre>\r\n</div>\r\n</div>\r\n </p>\n\n<p>I was able to generate them but want to set the indeterminate state for the main checkbox whenever one or more sub checkboxes selected like <a href=\"https://material.angularjs.org/latest/demo/checkbox#select-all\" rel=\"nofollow noreferrer\">https://material.angularjs.org/latest/demo/checkbox#select-all</a></p>\n\n<p>I have created stackblitz with current code: <a href=\"https://stackblitz.com/edit/angular-htl6b2?file=app%2Fcheckbox-overview-example.ts\" rel=\"nofollow noreferrer\">https://stackblitz.com/edit/angular-htl6b2?file=app%2Fcheckbox-overview-example.ts</a></p>\n\n<p>Can anyone please help me?</p>\n"}, {"tags": ["javascript", "angular", "typescript"], "comments": [{"owner": {"reputation": 15262, "user_id": 2131286, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/9f0db34a996e06c4e4cd149fec17688d?s=128&d=identicon&r=PG", "display_name": "Lazar Ljubenovi\u0107", "link": "https://stackoverflow.com/users/2131286/lazar-ljubenovi%c4%87"}, "edited": false, "score": 0, "creation_date": 1534345635, "post_id": 51861339, "comment_id": 90674941, "body": "Try logging <code>console.log(amf)</code> to inspect what your object looks like. Depending on how it&#39;s exported, imported, and how your <code>tsconfig</code> is set to work with modules, it could be that you need to access it as <code>amf.amf.Client()</code>, <code>amf()</code> or even <code>amf.default()</code>."}, {"owner": {"reputation": 21436, "user_id": 1021703, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/g09TV.jpg?s=128&g=1", "display_name": "Jeremy Thille", "link": "https://stackoverflow.com/users/1021703/jeremy-thille"}, "edited": false, "score": 0, "creation_date": 1534345939, "post_id": 51861339, "comment_id": 90675129, "body": "Well, <code>amf.Client = function(...)</code> That&#39;s a simple function, not a Class. So it should just be called with <code>const amfClient = amf.Client(&#39;param1&#39;,&#39;param2&#39;, param3)</code> without <code>new</code>, I guess"}, {"owner": {"reputation": 130, "user_id": 8296628, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9bb5bf7c97563eace666a95bd567d7b9?s=128&d=identicon&r=PG", "display_name": "JoeBoxer", "link": "https://stackoverflow.com/users/8296628/joeboxer"}, "edited": false, "score": 0, "creation_date": 1534346969, "post_id": 51861339, "comment_id": 90675733, "body": "Thanks for the responses... it see&#39;s the client function and when i take out the new it gives me a &quot;Client is not a function&quot; error.  Interesting note...if i do this javascript tags in html... &lt;body&gt;     &lt;script type=&quot;text/javascript&quot;&gt;         var amfClient = new amf.Client(&#39;param1&#39;,&#39;param2&#39;, param3);   it works fine."}], "answers": [{"tags": [], "owner": {"reputation": 130, "user_id": 8296628, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9bb5bf7c97563eace666a95bd567d7b9?s=128&d=identicon&r=PG", "display_name": "JoeBoxer", "link": "https://stackoverflow.com/users/8296628/joeboxer"}, "is_accepted": false, "score": 0, "last_activity_date": 1534385463, "creation_date": 1534385463, "answer_id": 51868694, "question_id": 51861339, "link": "https://stackoverflow.com/questions/51861339/instantiating-a-javascript-constructor-function-from-typescript-angular/51868694#51868694", "title": "Instantiating a JavaScript Constructor function from Typescript/Angular", "body": "<p>Typescript wasn't going to instantiate this class unless i gave it a type def file.  So I had to create a amf.d.ts file put it in a types folder and make the reference in the tsconfig.json file so the compiler would recognize the types in the javascript library.</p>\n\n<p>\"compilerOptions\": {\n....\n \"typeRoots\": [\n      \"./src/types\", \"./node_modules/@types\"\n    ],\n}</p>\n"}], "owner": {"reputation": 130, "user_id": 8296628, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9bb5bf7c97563eace666a95bd567d7b9?s=128&d=identicon&r=PG", "display_name": "JoeBoxer", "link": "https://stackoverflow.com/users/8296628/joeboxer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 530, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1534385463, "creation_date": 1534345471, "last_edit_date": 1534345560, "question_id": 51861339, "link": "https://stackoverflow.com/questions/51861339/instantiating-a-javascript-constructor-function-from-typescript-angular", "title": "Instantiating a JavaScript Constructor function from Typescript/Angular", "body": "<p>I'm developing in Angular/Typescript and importing an external javascript library.  Having some troubles instantiating an object in the library that is a constructor function.</p>\n\n<p>The javascript function is...</p>\n\n<pre><code>var amf = { some declarations etc }\n\namf.Client = function(destination, endpoint, timeout) {\n\n};\n</code></pre>\n\n<p>The import declaration in Typescript...</p>\n\n<pre><code>import * as amf from '../../src/amf.js';\n</code></pre>\n\n<p>The code calling the object...</p>\n\n<pre><code>const amfClient = new amf.Client('param1','param2', param3);\n</code></pre>\n\n<p>The error in chome im getting...</p>\n\n<pre><code>ERROR TypeError: _src_amf_js__WEBPACK_IMPORTED_MODULE_4__.Client is not a constructor\n</code></pre>\n\n<p>Any thoughts would be greatly appreciated.</p>\n\n<p>Thanx in advance</p>\n"}, {"tags": ["javascript", "angular", "typescript", "date", "angular5"], "comments": [{"owner": {"reputation": 369690, "user_id": 182668, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/b19917aa04a6839aef577f1117c71d48?s=128&d=identicon&r=PG", "display_name": "Pointy", "link": "https://stackoverflow.com/users/182668/pointy"}, "edited": false, "score": 0, "creation_date": 1534345423, "post_id": 51861275, "comment_id": 90674802, "body": "Months are numbered 0 through 11."}], "answers": [{"tags": [], "owner": {"reputation": 15262, "user_id": 2131286, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/9f0db34a996e06c4e4cd149fec17688d?s=128&d=identicon&r=PG", "display_name": "Lazar Ljubenovi\u0107", "link": "https://stackoverflow.com/users/2131286/lazar-ljubenovi%c4%87"}, "is_accepted": true, "score": 5, "last_activity_date": 1534345431, "creation_date": 1534345431, "answer_id": 51861321, "question_id": 51861275, "link": "https://stackoverflow.com/questions/51861275/javascript-date-objects-constructor-returns-a-date-one-month-ahead/51861321#51861321", "title": "Javascript Date object&#39;s constructor returns a date one month ahead", "body": "<p>This is not Angular-related, it's just how JavaScript's <code>Date</code> works. Months are zero-based: January is <code>0</code>, December is <code>11</code>.</p>\n"}, {"tags": [], "owner": {"reputation": 10071, "user_id": 1033518, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/EwSaG.png?s=128&g=1", "display_name": "Tzook Bar Noy", "link": "https://stackoverflow.com/users/1033518/tzook-bar-noy"}, "is_accepted": false, "score": 0, "last_activity_date": 1534345475, "creation_date": 1534345475, "answer_id": 51861342, "question_id": 51861275, "link": "https://stackoverflow.com/questions/51861275/javascript-date-objects-constructor-returns-a-date-one-month-ahead/51861342#51861342", "title": "Javascript Date object&#39;s constructor returns a date one month ahead", "body": "<p>Javascript Date object counts months from 0</p>\n\n<p>from \"W3Schools\"</p>\n\n<p>JavaScript counts months from 0 to 11. January is 0. December is 11.</p>\n\n<p><a href=\"https://www.w3schools.com/js/js_dates.asp\" rel=\"nofollow noreferrer\">https://www.w3schools.com/js/js_dates.asp</a></p>\n\n<p>So just set <code>7</code> instead of <code>8</code></p>\n"}], "owner": {"reputation": 171, "user_id": 4315519, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d2c01de412221149515a17cbc234f12f?s=128&d=identicon&r=PG&f=1", "display_name": "Erfan", "link": "https://stackoverflow.com/users/4315519/erfan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 264, "favorite_count": 0, "closed_date": 1534345477, "accepted_answer_id": 51861321, "answer_count": 2, "score": -1, "last_activity_date": 1534345475, "creation_date": 1534345306, "question_id": 51861275, "link": "https://stackoverflow.com/questions/51861275/javascript-date-objects-constructor-returns-a-date-one-month-ahead", "closed_reason": "Duplicate", "title": "Javascript Date object&#39;s constructor returns a date one month ahead", "body": "<p>I am using typescript (Angular 5) and I have the following code:</p>\n\n<pre><code>let date = new Date(2018, 8, 17, 14, 0);\n</code></pre>\n\n<p>I expect \"Fri Aug 17 2018 14:00:00 GMT-0400 (Eastern Daylight Time)\" as the result, but instead this is what it actually returns:</p>\n\n<blockquote>\n  <p>Mon Sep 17 2018 14:00:00 GMT-0400 (Eastern Daylight Time)</p>\n</blockquote>\n\n<p>As you can see it adds a month to the date. I've fixed it by subtracting like the following code:</p>\n\n<pre><code>let date = new Date(2018, 8 - 1, 17, 14, 0);\n</code></pre>\n\n<p>My question is why is this happening? Any idea? Is there any other way to fix this?</p>\n"}, {"tags": ["javascript", "typescript", "typescript-typings"], "answers": [{"comments": [{"owner": {"reputation": 27488, "user_id": 1778465, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/NxIPr.jpg?s=128&g=1", "display_name": "Get Off My Lawn", "link": "https://stackoverflow.com/users/1778465/get-off-my-lawn"}, "edited": false, "score": 0, "creation_date": 1534344819, "post_id": 51861069, "comment_id": 90674466, "body": "does the definition order matter? If you moved <code>...(limit: 1)...</code> above the the first one, would that one take precedence?"}, {"owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "reply_to_user": {"reputation": 27488, "user_id": 1778465, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/NxIPr.jpg?s=128&g=1", "display_name": "Get Off My Lawn", "link": "https://stackoverflow.com/users/1778465/get-off-my-lawn"}, "edited": false, "score": 1, "creation_date": 1534344941, "post_id": 51861069, "comment_id": 90674531, "body": "@GetOffMyLawn order matters, but in this case the compiler will prefer the very specific overload regardless of order apparently (I changed just to be sure) but the problem I point out remains, as it is caused by the type of the passed in parameter (<code>n</code> is number, so the compiler can&#39;t possibly select the overload with 1)"}, {"owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "reply_to_user": {"reputation": 27488, "user_id": 1778465, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/NxIPr.jpg?s=128&g=1", "display_name": "Get Off My Lawn", "link": "https://stackoverflow.com/users/1778465/get-off-my-lawn"}, "edited": false, "score": 0, "creation_date": 1534345041, "post_id": 51861069, "comment_id": 90674594, "body": "@GetOffMyLawn It&#39;s one of those, technically possible but better not situations in my opinion. I would go with an explicit <code>selectOne</code>  extra method."}, {"owner": {"reputation": 27488, "user_id": 1778465, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/NxIPr.jpg?s=128&g=1", "display_name": "Get Off My Lawn", "link": "https://stackoverflow.com/users/1778465/get-off-my-lawn"}, "edited": false, "score": 0, "creation_date": 1534345209, "post_id": 51861069, "comment_id": 90674693, "body": "<code>const n = 1</code> works and validates, just not <code>let</code> or <code>var</code> as you pointed out"}, {"owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "reply_to_user": {"reputation": 27488, "user_id": 1778465, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/NxIPr.jpg?s=128&g=1", "display_name": "Get Off My Lawn", "link": "https://stackoverflow.com/users/1778465/get-off-my-lawn"}, "edited": false, "score": 0, "creation_date": 1534345305, "post_id": 51861069, "comment_id": 90674743, "body": "Yes, for <code>const</code> the compiler will infer the most restrictive type possible so <code>const n = 1</code> is equivalent to <code>const n:1 =1</code>, it will not work with variables."}, {"owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "reply_to_user": {"reputation": 27488, "user_id": 1778465, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/NxIPr.jpg?s=128&g=1", "display_name": "Get Off My Lawn", "link": "https://stackoverflow.com/users/1778465/get-off-my-lawn"}, "edited": false, "score": 0, "creation_date": 1534345395, "post_id": 51861069, "comment_id": 90674794, "body": "@GetOffMyLawn But since the second overlaod can sometimes return a <code>Promise&lt;T&gt;</code> I would type it <code>public async select&lt;T extends any&gt;(limit: number): Promise&lt;T| Cursor&lt;T&gt;&gt;</code> as otherwise for <code>let n = 1; o.select(n)</code> the return type is actually wrong"}], "tags": [], "owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "is_accepted": true, "score": 2, "last_activity_date": 1534344842, "last_edit_date": 1534344842, "creation_date": 1534344623, "answer_id": 51861069, "question_id": 51860968, "link": "https://stackoverflow.com/questions/51860968/define-return-type-when-parameter-is-a-certain-value/51861069#51861069", "title": "Define return type when parameter is a certain value", "body": "<p>You can use a numeric literal type in your overload to get the desired effect: </p>\n\n<pre><code>class Cursor&lt;T&gt;{}\nclass O {\n\n    public async select&lt;T extends any&gt;(limit: 1): Promise&lt;T&gt;\n    public async select&lt;T extends any&gt;(limit: number): Promise&lt;Cursor&lt;T&gt;&gt;\n\n\n    public async select&lt;T extends any&gt;(...args: any[]): Promise&lt;T | Cursor&lt;T&gt;&gt; {\n        return null as any\n\n    }\n}\nlet o = new O();\nlet s = o.select(1) // Promise&lt;{}&gt;\nlet m = o.select(2) // Promise&lt;Cursor&lt;{}&gt;&gt;\n</code></pre>\n\n<p>This will however only work if you pass the constant 1 to the function, and might cause more confusion then it's worth. </p>\n\n<pre><code>let n = 1;\no.select(n);//  n is a number so it's types as a Promise&lt;Cursor&lt;{}&gt;&gt; \nconst constOne = 1;\no.select(constOne);// Promise&lt;{}&gt;\n</code></pre>\n"}], "owner": {"reputation": 27488, "user_id": 1778465, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/NxIPr.jpg?s=128&g=1", "display_name": "Get Off My Lawn", "link": "https://stackoverflow.com/users/1778465/get-off-my-lawn"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 41, "favorite_count": 0, "accepted_answer_id": 51861069, "answer_count": 1, "score": 3, "last_activity_date": 1534345044, "creation_date": 1534344267, "last_edit_date": 1534344574, "question_id": 51860968, "link": "https://stackoverflow.com/questions/51860968/define-return-type-when-parameter-is-a-certain-value", "title": "Define return type when parameter is a certain value", "body": "<p>I have two definitions that are exactly the same, however I would like it if the first one returned <code>Promise&lt;Cursor&lt;T&gt;&gt;</code> when the value of <code>limit</code> is greater than  <code>1</code>, and second one should returned <code>Promise&lt;T&gt;</code> if the value of <code>limit is 1</code> how would I define this, is it possible to define or is there another way to define it?</p>\n\n<pre><code>public async select&lt;T extends any&gt;(limit: number): Promise&lt;Cursor&lt;T&gt;&gt;\n\npublic async select&lt;T extends any&gt;(limit: number): limit is 1 &amp;&amp; Promise&lt;T&gt;\n\npublic async select&lt;T extends any&gt;(...args: any[]): Promise&lt;T | Cursor&lt;T&gt;&gt; {\n  // Do query and return the Pomise\n}\n</code></pre>\n"}, {"tags": ["angular", "typescript", "router-outlet"], "comments": [{"owner": {"reputation": 1672, "user_id": 338011, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/IhgLu.jpg?s=128&g=1", "display_name": "Baptiste Mille-Mathias", "link": "https://stackoverflow.com/users/338011/baptiste-mille-mathias"}, "edited": false, "score": 1, "creation_date": 1534344796, "post_id": 51860920, "comment_id": 90674449, "body": "Hello and welcome to stackoverflow, this is not a coding service. To read how to ask question please read <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a>, and edit your question accordingly, thanks"}], "answers": [{"tags": [], "owner": {"reputation": 46655, "user_id": 1647604, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/de0a77110ab57284e2a8d57858f714a3?s=128&d=identicon&r=PG", "display_name": "DeborahK", "link": "https://stackoverflow.com/users/1647604/deborahk"}, "is_accepted": false, "score": 1, "last_activity_date": 1534354983, "creation_date": 1534354983, "answer_id": 51863787, "question_id": 51860920, "link": "https://stackoverflow.com/questions/51860920/angular-6-routerlink/51863787#51863787", "title": "Angular 6 | RouterLink", "body": "<p>There were a bunch of new scrolling features added in Angular v6.1.</p>\n\n<p>Here is a quote from a blog post about it:</p>\n\n<blockquote>\n  <p>The Router Scroller provides functions related to scrolling to the\n  Angular Router. With Router Scroller, you can do the following things.</p>\n  \n  <p>Restore to scroll position before transition when browser back\n  Fragmented URL like <code>#foo</code> and automatically scroll to elements with\n  corresponding ID</p>\n</blockquote>\n\n<p>I assume the second paragraph (anchor scrolling) is what you are asking about?</p>\n\n<p>If so, you can find out more here: </p>\n\n<p><a href=\"https://medium.com/lacolaco-blog/introduce-router-scroller-in-angular-v6-1-ef34278461e9\" rel=\"nofollow noreferrer\">https://medium.com/lacolaco-blog/introduce-router-scroller-in-angular-v6-1-ef34278461e9</a></p>\n\n<p>And </p>\n\n<p><a href=\"https://blog.ninja-squad.com/2018/07/26/what-is-new-angular-6.1/\" rel=\"nofollow noreferrer\">https://blog.ninja-squad.com/2018/07/26/what-is-new-angular-6.1/</a></p>\n"}, {"tags": [], "owner": {"reputation": 14745, "user_id": 7790376, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-i3Pxbe4117Y/AAAAAAAAAAI/AAAAAAAAAEw/r6BT0yIo_4E/photo.jpg?sz=128", "display_name": "Chellappan \u0bb5", "link": "https://stackoverflow.com/users/7790376/chellappan-%e0%ae%b5"}, "is_accepted": true, "score": 1, "last_activity_date": 1534356218, "creation_date": 1534356218, "answer_id": 51864069, "question_id": 51860920, "link": "https://stackoverflow.com/questions/51860920/angular-6-routerlink/51864069#51864069", "title": "Angular 6 | RouterLink", "body": "<p>You can do using scrollIntoView method</p>\n\n<p>Credits goes to:ibenjelloun</p>\n\n<p>Example:<a href=\"https://stackblitz.com/edit/angular-scroll-spy-routing\" rel=\"nofollow noreferrer\">https://stackblitz.com/edit/angular-scroll-spy-routing</a></p>\n\n<pre><code>@HostListener('scroll', ['$event'])\nonScroll(event: any) {\n    let currentSection: string;\n    const children = this._el.nativeElement.children;\n    const scrollTop = event.target.scrollTop;\n    const parentOffset = event.target.offsetTop;\n    for (let i = 0; i &lt; children.length; i++) {\n        const element = children[i];\n        if (this.spiedTags.some(spiedTag =&gt; spiedTag === element.tagName)) {\n            if ((element.offsetTop - parentOffset) &lt;= scrollTop) {\n                currentSection = element.id;\n            }\n        }\n    }\n    if (currentSection !== this.currentSection) {\n        this.currentSection = currentSection;\n        this.sectionChange.emit(this.currentSection);\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 3, "user_id": 10229835, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-l6qyYv7qr38/AAAAAAAAAAI/AAAAAAAAAAA/AAnnY7od0NYLf97Pel7bH5XIN10MlbrweQ/mo/photo.jpg?sz=128", "display_name": "\u0417\u0430\u0432\u0435\u043d \u0412\u0430\u0440\u0434\u0430\u043d\u043e\u0432\u0438\u0447", "link": "https://stackoverflow.com/users/10229835/%d0%97%d0%b0%d0%b2%d0%b5%d0%bd-%d0%92%d0%b0%d1%80%d0%b4%d0%b0%d0%bd%d0%be%d0%b2%d0%b8%d1%87"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 339, "favorite_count": 0, "accepted_answer_id": 51864069, "answer_count": 2, "score": -4, "last_activity_date": 1534356218, "creation_date": 1534344114, "last_edit_date": 1534353361, "question_id": 51860920, "link": "https://stackoverflow.com/questions/51860920/angular-6-routerlink", "title": "Angular 6 | RouterLink", "body": "<p>is there any way to go to another page's section  which is defined by id without reload</p>\n"}, {"tags": ["javascript", "typescript", "async-await", "angular5"], "comments": [{"owner": {"reputation": 20114, "user_id": 691711, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/bf26891a2ec4eca6dd1962a6804f5a40?s=128&d=identicon&r=PG", "display_name": "zero298", "link": "https://stackoverflow.com/users/691711/zero298"}, "edited": false, "score": 0, "creation_date": 1534343948, "post_id": 51860844, "comment_id": 90673952, "body": "<code>getTimecard</code> doesn&#39;t return anything to wait on."}], "answers": [{"tags": [], "owner": {"reputation": 3660, "user_id": 2085502, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/35944d07bd203fe68ed3781347412474?s=128&d=identicon&r=PG", "display_name": "Christoph L&#252;tjen", "link": "https://stackoverflow.com/users/2085502/christoph-l%c3%bctjen"}, "is_accepted": true, "score": 3, "last_activity_date": 1534344922, "creation_date": 1534344922, "answer_id": 51861161, "question_id": 51860844, "link": "https://stackoverflow.com/questions/51860844/angular-5-await-not-waiting/51861161#51861161", "title": "Angular 5 Await Not Waiting", "body": "<p>To make a function awaitable the function needs to return a Promise. </p>\n\n<pre><code>loadTimecards() {\n   return new Promise(resolve =&gt; {\n     this.sending = true;\n     this._service.getTimecard().subscribe(data =&gt; {\n       this.sending = false;\n       this.timecards = data;\n       resolve();\n     });\n  });\n}\n</code></pre>\n"}], "owner": {"reputation": 323, "user_id": 9254145, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/058f455d32365d257c9bb06c8c2dec09?s=128&d=identicon&r=PG&f=1", "display_name": "bjwhip", "link": "https://stackoverflow.com/users/9254145/bjwhip"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2667, "favorite_count": 0, "accepted_answer_id": 51861161, "answer_count": 1, "score": 0, "last_activity_date": 1534345258, "creation_date": 1534343890, "last_edit_date": 1534345258, "question_id": 51860844, "link": "https://stackoverflow.com/questions/51860844/angular-5-await-not-waiting", "title": "Angular 5 Await Not Waiting", "body": "<p>When I run the code below, the checkCard function runs before the getTimecard function is finished.</p>\n\n<pre><code>getTimecard() {\n  this._service.getTimecard().subscribe(\n  data =&gt; {\n    this.sending = true;\n    this.timecards = data;\n  },\n  err =&gt; {\n    this.sending = false;\n    console.error(err);\n  },\n  () =&gt; {\n    this.sending = false;\n  }\n);\n}\n\ncheckCards() {\n  console.log('timecards', this.timecards);\n  //code dependent on timecard data\n}\n\nasync onSubmit() {\n  await this.getTimecard();\n  this.checkCards(); \n}\n</code></pre>\n\n<p>Why Isn't checkOverlap waiting for getTimecard to return its data?</p>\n"}, {"tags": ["javascript", "node.js", "typescript", "gitlab"], "comments": [{"owner": {"reputation": 3289, "user_id": 1802221, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/W2mDt.jpg?s=128&g=1", "display_name": "Rishikesh Dhokare", "link": "https://stackoverflow.com/users/1802221/rishikesh-dhokare"}, "edited": false, "score": 0, "creation_date": 1534343432, "post_id": 51860643, "comment_id": 90673631, "body": "try <code>import gitlab from &quot;gitlab&quot;;</code>"}], "answers": [{"tags": [], "owner": {"reputation": 28335, "user_id": 7053190, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/DPZdC.png?s=128&g=1", "display_name": "Ankit Agarwal", "link": "https://stackoverflow.com/users/7053190/ankit-agarwal"}, "is_accepted": true, "score": 1, "last_activity_date": 1534343486, "creation_date": 1534343486, "answer_id": 51860724, "question_id": 51860643, "link": "https://stackoverflow.com/questions/51860643/typeerror-gitlab-is-not-a-function/51860724#51860724", "title": "TypeError: gitlab is not a function", "body": "<p>You are importing all the modules from <code>gitlab</code>. You can do</p>\n\n<pre><code>import Gitlab from \"gitlab\";\n</code></pre>\n\n<p>Then,</p>\n\n<pre><code>const api = new Gitlab({\n   url: 'http://git.test.com/',\n   token: 'asdasfgwsgsafa'\n});\n</code></pre>\n\n<p>Since, you are doing <code>import * as gitlab from \"gitlab\";</code> it does not get the <code>gitlab</code> module when you do <code>new gitlab</code></p>\n\n<p>With the way you have imported you need to do:</p>\n\n<pre><code>const api = new gitlab.Gitlab({\n   url: 'http://git.test.com/',\n   token: 'asdasfgwsgsafa'\n});\n</code></pre>\n\n<p>For further reading you can refer <a href=\"https://www.npmjs.com/package/gitlab\" rel=\"nofollow noreferrer\">here</a></p>\n"}], "owner": {"reputation": 305, "user_id": 7395454, "user_type": "registered", "accept_rate": 50, "profile_image": "https://lh4.googleusercontent.com/-bDNfxGFz6gI/AAAAAAAAAAI/AAAAAAAAAIA/v9A6J7-KrYI/photo.jpg?sz=128", "display_name": "Adri&#224; Cabezuelo", "link": "https://stackoverflow.com/users/7395454/adri%c3%a0-cabezuelo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 134, "favorite_count": 0, "accepted_answer_id": 51860724, "answer_count": 1, "score": 1, "last_activity_date": 1534343486, "creation_date": 1534343223, "question_id": 51860643, "link": "https://stackoverflow.com/questions/51860643/typeerror-gitlab-is-not-a-function", "title": "TypeError: gitlab is not a function", "body": "<p>I have a problem with my code TypeScript, am using the library of node gitlab, and have installed the package correctly, so much in @types as in node_modules, am trying to do a CRUD for gitlab, and just now I am fulfilling the backend with express. When the controller to do of gitlab and on having compiled to javascript, he throws error to me:\n<a href=\"https://i.stack.imgur.com/u3BWm.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/u3BWm.jpg\" alt=\"Error throws\"></a></p>\n\n<p>and here is my code:</p>\n\n<pre><code>// Import only what we need from express\n   import { Router, Request, Response } from 'express';\n   import * as gitlab from \"gitlab\";\n\n// Assign router to the express.Router() instance\n   const router: Router = Router();\n   const api = new gitlab({\n     url: 'http://git.test.com/',\n     token: 'asdasfgwsgsafa',\n   });\n\n   const users = api.users.all();\n\n   router.get('/allUsers', (req: Request, res: Response) =&gt; {\n      res.send(users);\n   });\n // The / here corresponds to the route that the gitLabController\n // is mounted on in the server.ts file.\n // In this case it's /gitlab\n   router.get('/', (req: Request, res: Response) =&gt; {\n// Reply with a hello world when no name param is provided\n     res.send('Hello, World!');\n   });\n\n  router.get('/:name', (req: Request, res: Response) =&gt; {\n    // Extract the name from the request parameters\n    res.send(`Hello, ${req.params.name}`);\n  });\n\n // Export the express.Router() instance to be used by server.ts\n export const gitLabController: Router = router;\n</code></pre>\n\n<p>I hope that they could help me, thank you in advance.</p>\n"}, {"tags": ["mysql", "typescript", "typeorm"], "answers": [{"tags": [], "owner": {"reputation": 4295, "user_id": 1844247, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/a55ce85d84d6207834d97b08b84dbf85?s=128&d=identicon&r=PG", "display_name": "Sergey", "link": "https://stackoverflow.com/users/1844247/sergey"}, "is_accepted": true, "score": 1, "last_activity_date": 1552213883, "creation_date": 1552213883, "answer_id": 55086740, "question_id": 51860432, "link": "https://stackoverflow.com/questions/51860432/typeorm-repository-create-not-setting-values/55086740#55086740", "title": "TypeORM repository create not setting values", "body": "<p>I've never seen any ORM (in any language) would use an object private fields as data fields. And why would one expect that? Private fields are not visible from any other code except that particular class instance. So, the ORM wouldn't be aware of them and therefore you shouldn't mark them with decorators/attributes, it just doesn't make any sense. Even if the ORM could find private properties how would it guess which getter/setter should have been used with the property <code>_name</code> or any other?</p>\n\n<p>In the <a href=\"https://github.com/typeorm/typeorm/blob/master/docs/entities.md\" rel=\"nofollow noreferrer\">docs</a> they suggest using only classes with plain public properties like this:</p>\n\n<pre><code>@Entity()\nexport class User {\n\n    @PrimaryGeneratedColumn()\n    id: number;\n\n    @Column()\n    firstName: string;\n\n    @Column()\n    lastName: string;\n}\n</code></pre>\n\n<p>and it seems to be the only correct way at the moment.</p>\n"}], "owner": {"reputation": 303, "user_id": 6192780, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/eT7Tl.jpg?s=128&g=1", "display_name": "Manuel", "link": "https://stackoverflow.com/users/6192780/manuel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3264, "favorite_count": 0, "accepted_answer_id": 55086740, "answer_count": 1, "score": 4, "last_activity_date": 1552213883, "creation_date": 1534342500, "last_edit_date": 1534837371, "question_id": 51860432, "link": "https://stackoverflow.com/questions/51860432/typeorm-repository-create-not-setting-values", "title": "TypeORM repository create not setting values", "body": "<p>Here is my entity:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>@Entity()\nexport class Game extends BaseEntity {\n\n     @PrimaryGeneratedColumn({\n        name: \"id\",\n     })\n     private _id: number;\n\n     @Column({\n        name: \"name\",\n        type: \"varchar\",\n        nullable: false,\n     })\n     private _name: string;\n\n\n    get id(): number {\n        return this._id;\n    }\n\n    set id(id: number) {\n        this._id = id;\n    }\n\n    get name(): string {\n        return this._name;\n    }\n\n    set name(name: string) {\n        this._name = name;\n    }\n}\n</code></pre>\n\n<p>And when I try to create a new Game, I want to use <a href=\"https://github.com/typeorm/typeorm/blob/master/docs/repository-api.md\" rel=\"nofollow noreferrer\">Repository API</a>.</p>\n\n<p>So what I do is:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>import { getRepository } from \"typeorm\";\nimport { Game } from \"../entities/game.entity\";\nimport { InsertGameConfig } from \"../interfaces/entities/game\";\n\npublic async insert(config: InsertGameConfig) {\n    return await getRepository(Game).create(config).save();\n}\n</code></pre>\n\n<p>And calling insert function like this:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>await insert({\n  name: \"test\",\n});\n</code></pre>\n\n<p>But when I check mysql query log, I find this:</p>\n\n<pre><code>INSERT INTO `game`(`id`, `name`) VALUES (DEFAULT, DEFAULT)\n</code></pre>\n\n<p>However, if I create the instance and set every value like this:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>const game = new Game();\ngame.name = config.name;\nreturn await game.save();\n</code></pre>\n\n<p>And then it works correctly, so:</p>\n\n<pre><code>INSERT INTO `game`(`id`, `name`) VALUES (DEFAULT, \"test\")\n</code></pre>\n\n<p>From TypeOrm doc:</p>\n\n<p><code>create</code> - Creates a new instance of User. Optionally accepts an object literal with user properties which will be written into newly created user object.</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>const user = repository.create(); // same as const user = new User();\nconst user = repository.create({\n    id: 1,\n    firstName: \"Timber\",\n    lastName: \"Saw\"\n}); // same as const user = new User(); user.firstName = \"Timber\"; user.lastName = \"Saw\";\n</code></pre>\n\n<h2>Note</h2>\n\n<p>I tried setting class's attributes public, and then <code>create</code> works correctly, but when they're private and I use getters/setters, it does not work.</p>\n"}, {"tags": ["angular", "typescript", "quill"], "answers": [{"tags": [], "owner": {"reputation": 27, "user_id": 9279291, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-X-BngiTJISQ/AAAAAAAAAAI/AAAAAAAAAA4/ki4FgSUh4fw/photo.jpg?sz=128", "display_name": "Dertsaf", "link": "https://stackoverflow.com/users/9279291/dertsaf"}, "is_accepted": true, "score": 0, "last_activity_date": 1539274281, "creation_date": 1539274281, "answer_id": 52764582, "question_id": 51860332, "link": "https://stackoverflow.com/questions/51860332/keypress-events-not-registered-in-quill-inline-blot/52764582#52764582", "title": "Keypress events not registered in Quill Inline blot", "body": "<p>After some research ended up with <a href=\"https://quilljs.com/docs/modules/keyboard/\" rel=\"nofollow noreferrer\">Keyboard Module</a></p>\n\n<pre><code>const bindings = {\n  enter: {\n    key: 13,\n    shiftKey: null,\n    handler: () =&gt; {\n      const range = this.quill.getSelection(true);\n      if (range &amp;&amp; !this.editable(range.index)) {\n        this.quill.insertText(range, '\\n');\n      }\n    }\n  }\n};\n\nthis.quill = new Quill('#editor-container', {\n  modules: {\n    keyboard: {\n      bindings\n    },\n    toolbar: '#toolbar'\n  },\n  theme: 'snow'\n});\n</code></pre>\n"}], "owner": {"reputation": 27, "user_id": 9279291, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-X-BngiTJISQ/AAAAAAAAAAI/AAAAAAAAAA4/ki4FgSUh4fw/photo.jpg?sz=128", "display_name": "Dertsaf", "link": "https://stackoverflow.com/users/9279291/dertsaf"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 460, "favorite_count": 0, "accepted_answer_id": 52764582, "answer_count": 1, "score": 0, "last_activity_date": 1539274281, "creation_date": 1534342099, "last_edit_date": 1534843415, "question_id": 51860332, "link": "https://stackoverflow.com/questions/51860332/keypress-events-not-registered-in-quill-inline-blot", "title": "Keypress events not registered in Quill Inline blot", "body": "<p>I have a custom Inline Blot in my Quill editor. I would like to listen to <code>keypress</code> event on nodes. The problem is <code>keypress</code> event never gets fired, although <code>click</code> event works just fine.  </p>\n\n<p>Here is my code: </p>\n\n<pre><code>const Inline = Quill.import('blots/inline');\n\nclass Editable extends Inline {\n  static create(value: any) {\n    const node = super.create();\n    node.setAttribute('contenteditable', true);\n    node.setAttribute('editable', value);\n    node.addEventListener('keypress', (e: any) =&gt; {\n      alert('pressed'); // doesn't work\n    });\n    node.addEventListener('click', (e: any) =&gt; {\n      alert('clicked'); // works\n    });\n    return node;\n  }\n}\n\nEditable.blotName = 'editable';\nEditable.tagName = 'edit';\nQuill.register(Editable);\n</code></pre>\n\n<p>What am I doing wrong ? </p>\n\n<p><strong>UPDATE</strong></p>\n\n<p>After some research ended up with <a href=\"https://quilljs.com/docs/modules/keyboard/\" rel=\"nofollow noreferrer\">Keyboard Module</a></p>\n\n<pre><code>const bindings = {\n  enter: {\n    key: 13,\n    shiftKey: null,\n    handler: () =&gt; {\n      const range = this.quill.getSelection(true);\n      if (range &amp;&amp; !this.editable(range.index)) {\n        this.quill.insertText(range, '\\n');\n      }\n    }\n  }\n};\n\nthis.quill = new Quill('#editor-container', {\n  modules: {\n    keyboard: {\n      bindings\n    },\n    toolbar: '#toolbar'\n  },\n  theme: 'snow'\n});\n</code></pre>\n"}, {"tags": ["javascript", "angular", "typescript", "rxjs", "observable"], "answers": [{"comments": [{"owner": {"reputation": 1201, "user_id": 2504021, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/CNZfe.jpg?s=128&g=1", "display_name": "VWeber", "link": "https://stackoverflow.com/users/2504021/vweber"}, "edited": false, "score": 0, "creation_date": 1534344064, "post_id": 51860863, "comment_id": 90674032, "body": "Hi Kabb5! You`re right, the API Response was wrong. Thank you!"}], "tags": [], "owner": {"reputation": 3496, "user_id": 1839655, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/5f766688733d674458c5a1479bcf7102?s=128&d=identicon&r=PG", "display_name": "Kabb5", "link": "https://stackoverflow.com/users/1839655/kabb5"}, "is_accepted": true, "score": 1, "last_activity_date": 1534343949, "creation_date": 1534343949, "answer_id": 51860863, "question_id": 51860282, "link": "https://stackoverflow.com/questions/51860282/angular-6-httpclient-and-observable/51860863#51860863", "title": "Angular 6 HTTPClient and Observable", "body": "<p>Based on the data sample you provided, you should define your interfaces like this:</p>\n\n<pre><code>export interface DbHeartbeats {\n  size: string;\n  buildInfo: string;\n  heartbeat: boolean;\n  name: string;\n}\n\nexport interface Heartbeats {\n  dbHeartbeats: Array&lt;DbHeartbeats&gt;;\n}\n</code></pre>\n\n<p>Then your <code>getHeartbeats</code> function will return the <code>Observable&lt;Heartbeats&gt;</code> you expect.</p>\n"}], "owner": {"reputation": 1201, "user_id": 2504021, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/CNZfe.jpg?s=128&g=1", "display_name": "VWeber", "link": "https://stackoverflow.com/users/2504021/vweber"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 731, "favorite_count": 1, "accepted_answer_id": 51860863, "answer_count": 1, "score": 1, "last_activity_date": 1534343949, "creation_date": 1534341934, "question_id": 51860282, "link": "https://stackoverflow.com/questions/51860282/angular-6-httpclient-and-observable", "title": "Angular 6 HTTPClient and Observable", "body": "<p>I'm trying to load the following structure from a HTTP endpoint:</p>\n\n<pre><code>{\n  \"dbHeartbeats\": [\n    [\n      {\n        \"size\": [\n          \"2113464 documents\"\n        ],\n        \"buildInfo\": [\n          \"4.0.0\"\n        ],\n        \"heartbeat\": [\n          true\n        ],\n        \"name\": [\n          \"MongoDB\"\n        ]\n      },\n      {\n        \"size\": [\n          \"8549 kB\"\n        ],\n        \"buildInfo\": [\n          \"PostgreSQL 10.4 (Debian 10.4-2.pgdg90+1)\"\n        ],\n        \"heartbeat\": [\n          true\n        ],\n        \"name\": [\n          \"PostgreSQL Database\"\n        ]\n      }\n    ]\n  ]\n</code></pre>\n\n<p>So I wrote two interfaces:</p>\n\n<pre><code>export interface DbHeartbeats {\n  name: string;\n}\n</code></pre>\n\n<p>and</p>\n\n<pre><code>import { DbHeartbeats } from \"./db-heartbeats\";\n\nexport interface Heartbeats {\n  dbHeartbeats: DbHeartbeats;\n}\n</code></pre>\n\n<p>A simple service that calls the endpoint and returns an observable:</p>\n\n<pre><code>import { Injectable } from '@angular/core';\nimport { Heartbeats } from './heartbeats';\nimport { HttpClient } from '@angular/common/http';\nimport { Observable } from 'rxjs';\n\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class HeartbeatService {\n  heartbeats$: Observable&lt;Heartbeats&gt;;\n  apiRoot = 'http://localhost:9090/backend/rest/v1/heartbeat';\n\n  constructor(private httpClient: HttpClient) {\n    this.heartbeats$ = this.getHeartbeats();\n  }\n  getHeartbeats() {\n    return this.httpClient.get&lt;Heartbeats&gt;(this.apiRoot);\n  }\n}\n</code></pre>\n\n<p>and a template</p>\n\n<pre><code>&lt;div style=\"text-align:center\"&gt;\n  &lt;div *ngFor=\"let item of (heartbeatService.heartbeats$ | async).dbHeartbeats\"&gt;\n    Test {{item.name}}\n  &lt;/div&gt;\n&lt;/div&gt;\n</code></pre>\n\n<hr>\n\n<pre><code>import {Component} from '@angular/core';\nimport {HeartbeatService} from './heartbeat.service';\n\n@Component({\n  selector: 'app-root',\n  templateUrl: './app.component.html',\n  styleUrls: ['./app.component.css']\n})\nexport class AppComponent {\n\n  constructor(public heartbeatService: HeartbeatService) {\n  }\n}\n</code></pre>\n\n<p>But I always get the error message 'Cannot read property 'dbHeartbeats' of null'. It's driving me nuts, I don't get what I'm doing wrong here. Any advices?</p>\n"}, {"tags": ["database", "typescript", "firebase", "cloud"], "answers": [{"comments": [{"owner": {"reputation": 845, "user_id": 5406043, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/f0892556b812d5959dc6608f994699d5?s=128&d=identicon&r=PG&f=1", "display_name": "GPH", "link": "https://stackoverflow.com/users/5406043/gph"}, "edited": false, "score": 0, "creation_date": 1534343223, "post_id": 51860558, "comment_id": 90673508, "body": "It is error . &quot;Property &#39;data&#39; does not exist on type &#39;DataSnapshot&#39;. Did you mean &#39;_data&#39;?&quot;"}, {"owner": {"reputation": 372, "user_id": 1748539, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d4897ae7f7da5e1cbc42032bc7223e35?s=128&d=identicon&r=PG", "display_name": "eusoj", "link": "https://stackoverflow.com/users/1748539/eusoj"}, "reply_to_user": {"reputation": 845, "user_id": 5406043, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/f0892556b812d5959dc6608f994699d5?s=128&d=identicon&r=PG&f=1", "display_name": "GPH", "link": "https://stackoverflow.com/users/5406043/gph"}, "edited": false, "score": 0, "creation_date": 1534343392, "post_id": 51860558, "comment_id": 90673614, "body": "Try to verify if you have the last SDK <a href=\"https://firebase.google.com/docs/functions/beta-v1-diff\" rel=\"nofollow noreferrer\">firebase.google.com/docs/functions/beta-v1-diff</a> , they use this method to get the information for update : <a href=\"https://firebase.google.com/docs/functions/beta-v1-diff#cloud-firestore\" rel=\"nofollow noreferrer\">firebase.google.com/docs/functions/beta-v1-diff#cloud-firest&zwnj;&#8203;ore</a>"}, {"owner": {"reputation": 845, "user_id": 5406043, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/f0892556b812d5959dc6608f994699d5?s=128&d=identicon&r=PG&f=1", "display_name": "GPH", "link": "https://stackoverflow.com/users/5406043/gph"}, "edited": false, "score": 0, "creation_date": 1534345451, "post_id": 51860558, "comment_id": 90674820, "body": "I follow the instruction to install npm install firebase-functions@latest --save npm install firebase-admin@latest --save-exact, npm install -g firebase-tools. But i still have error. Can you please let me know how to check the version of the tools?"}, {"owner": {"reputation": 372, "user_id": 1748539, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d4897ae7f7da5e1cbc42032bc7223e35?s=128&d=identicon&r=PG", "display_name": "eusoj", "link": "https://stackoverflow.com/users/1748539/eusoj"}, "reply_to_user": {"reputation": 845, "user_id": 5406043, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/f0892556b812d5959dc6608f994699d5?s=128&d=identicon&r=PG&f=1", "display_name": "GPH", "link": "https://stackoverflow.com/users/5406043/gph"}, "edited": false, "score": 0, "creation_date": 1534349907, "post_id": 51860558, "comment_id": 90677307, "body": "Try firebase --version"}], "tags": [], "owner": {"reputation": 372, "user_id": 1748539, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d4897ae7f7da5e1cbc42032bc7223e35?s=128&d=identicon&r=PG", "display_name": "eusoj", "link": "https://stackoverflow.com/users/1748539/eusoj"}, "is_accepted": false, "score": -1, "last_activity_date": 1534342948, "creation_date": 1534342948, "answer_id": 51860558, "question_id": 51860279, "link": "https://stackoverflow.com/questions/51860279/firebase-cloud-function-typescript-get-value-from-firebase-real-time-database/51860558#51860558", "title": "Firebase cloud function Typescript get value from firebase real time database", "body": "<p>The y value need to be set using snapshot.after.data()</p>\n\n<p>You can take a look in the updated documentation here : <a href=\"https://firebase.google.com/docs/functions/firestore-events\" rel=\"nofollow noreferrer\">https://firebase.google.com/docs/functions/firestore-events</a></p>\n"}], "owner": {"reputation": 845, "user_id": 5406043, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/f0892556b812d5959dc6608f994699d5?s=128&d=identicon&r=PG&f=1", "display_name": "GPH", "link": "https://stackoverflow.com/users/5406043/gph"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1007, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1534342948, "creation_date": 1534341932, "last_edit_date": 1534341978, "question_id": 51860279, "link": "https://stackoverflow.com/questions/51860279/firebase-cloud-function-typescript-get-value-from-firebase-real-time-database", "title": "Firebase cloud function Typescript get value from firebase real time database", "body": "<p>I would like to get the value updated from a firebase real time database node. here with my code for typescript.</p>\n\n<ol>\n<li>I suppose it show \"true\" for the value of y in the log. Why it shows something strange?</li>\n<li>How to get the updated value of the node \"PostApproved\"</li>\n<li><p>I read the <a href=\"https://firebase.google.com/docs/functions/database-events\" rel=\"nofollow noreferrer\">firebase doc</a> here, it can't help a much. Is anyone know where to find tutorial about Firebase cloud function Typescript for firebase real time database?</p>\n\n<pre><code>export const onPostApprovedUpdate = functions.database.ref('/Qpon/{country}/{city}/{nodeID}/PostApproved').onUpdate((snapshot, context) =&gt; {\n\nconst getCountry = context.params.country\nconst getCity = context.params.city\nconst getNode = context.params.nodeID\n\n//const y = snapshot.after.ref.parent.child('PostApproved')\nconst y = snapshot.after.val\n\nconsole.log(`Counrty - ${getCountry}, City - ${getCity}, node - ${getNode}, ${y}`)\n\nreturn \"OK\"\n</code></pre>\n\n<p>});</p></li>\n</ol>\n\n<p>Here with database structure:</p>\n\n<p><a href=\"https://i.stack.imgur.com/ecpJ7.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ecpJ7.png\" alt=\"enter image description here\"></a></p>\n\n<p>Here with the log:\n<a href=\"https://i.stack.imgur.com/1bnHT.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/1bnHT.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["typescript", "ecmascript-6"], "comments": [{"owner": {"reputation": 10321, "user_id": 215552, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/26bda02894d869c95f620de4b7cd386d?s=128&d=identicon&r=PG", "display_name": "Heretic Monkey", "link": "https://stackoverflow.com/users/215552/heretic-monkey"}, "edited": false, "score": 0, "creation_date": 1534342426, "post_id": 51859958, "comment_id": 90673004, "body": "Well, the data will be coming in as an array of plain JavaScript objects. If you want the behavior of your <code>Stack</code> class, you&#39;re going to have to add them to your structure individually."}, {"owner": {"reputation": 507143, "user_id": 1048572, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/7f2c4de95e8f4f8f5a71c3aaf0ed312a?s=128&d=identicon&r=PG", "display_name": "Bergi", "link": "https://stackoverflow.com/users/1048572/bergi"}, "edited": false, "score": 0, "creation_date": 1534346174, "post_id": 51859958, "comment_id": 90675269, "body": "Seems you&#39;re looking for <code>for (const obj of response) stack.push(obj)</code>. And yes of course, converting an array to your custom stack type will cost linear time."}], "owner": {"reputation": 243, "user_id": 9697780, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Noah Tony", "link": "https://stackoverflow.com/users/9697780/noah-tony"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 20, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1534346509, "creation_date": 1534340761, "last_edit_date": 1534346509, "question_id": 51859958, "link": "https://stackoverflow.com/questions/51859958/stack-linkedlist-implementation-save-big-data-from-backend", "title": "Stack (LinkedList) implementation save big data from backend", "body": "<p>I have created a stack with O(1) operation in my case I have implemented a linked list within my push remove operation. </p>\n\n<p>But I am a bit confused how I can save a big amount of data for example if I get it from the backend, eg. </p>\n\n<blockquote>\n  <p>const response = [{data:1, data2:2, data3:3}, {{data:1, data2:2,\n  data3:3}]</p>\n</blockquote>\n\n<pre><code>class Node{\n  constructor(data, next = null){\n    this.data = data;\n    this.next = next;\n  }\n}\n\nclass Stack {\n  constructor() {\n    this.head = null;\n  }\n\npush(item) {\n  let newNode = new Node(item, this.head );\n   this.head = newNode;\n}\n\npop() {\n    if(!this.head){\n      return;\n   }\n\n    this.head = this.head.next;\n}\n\n}\n</code></pre>\n\n<p>Now I want to pass my response to my stack like this:</p>\n\n<pre><code>const stack = new Stack();\nstack.push(resp\n</code></pre>\n\n<p>onse); </p>\n\n<p>Here I am passing entire response into one node. This is confusing to me. \nWould I say I need a way to push each property or object inside my response? \nor If I loop again over my array then it cost time again?.</p>\n\n<p>Thanks.</p>\n"}, {"tags": ["javascript", "angular", "typescript", "underscore.js", "lodash"], "comments": [{"owner": {"reputation": 60090, "user_id": 188031, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/p2YIF.jpg?s=128&g=1", "display_name": "tokland", "link": "https://stackoverflow.com/users/188031/tokland"}, "edited": false, "score": 0, "creation_date": 1534341190, "post_id": 51859909, "comment_id": 90672309, "body": "underscore.js or lodash? no angular nor typescript in the question, tags can be removed."}], "answers": [{"comments": [{"owner": {"reputation": 5631, "user_id": 10064334, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Cl7s7.png?s=128&g=1", "display_name": "SebastianG", "link": "https://stackoverflow.com/users/10064334/sebastiang"}, "edited": false, "score": 0, "creation_date": 1534341214, "post_id": 51860011, "comment_id": 90672321, "body": "Hmm, I gave it a go and added it to the end of the lodash chain but it doesn&#39;t seem to have made a difference. I&#39;ve used ` import * as _ from &quot;lodash&quot;` and installed it via Yarn."}, {"owner": {"reputation": 60090, "user_id": 188031, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/p2YIF.jpg?s=128&g=1", "display_name": "tokland", "link": "https://stackoverflow.com/users/188031/tokland"}, "reply_to_user": {"reputation": 5631, "user_id": 10064334, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Cl7s7.png?s=128&g=1", "display_name": "SebastianG", "link": "https://stackoverflow.com/users/10064334/sebastiang"}, "edited": false, "score": 0, "creation_date": 1534341420, "post_id": 51860011, "comment_id": 90672445, "body": "You usually write: <code>import _ from &#39;lodash&#39;;</code>. Try to run your code in a console here: <a href=\"https://lodash.com/\" rel=\"nofollow noreferrer\">lodash.com</a>"}, {"owner": {"reputation": 5631, "user_id": 10064334, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Cl7s7.png?s=128&g=1", "display_name": "SebastianG", "link": "https://stackoverflow.com/users/10064334/sebastiang"}, "edited": false, "score": 0, "creation_date": 1534342877, "post_id": 51860011, "comment_id": 90673288, "body": "I have created a stackblitz running angular and installed everyhting the same way, typed in a scaled down version of my data array that I&#39;ll be working in for simplicity: <a href=\"https://stackblitz.com/edit/angular-qbpnqc\" rel=\"nofollow noreferrer\">stackblitz.com/edit/angular-qbpnqc</a>"}], "tags": [], "owner": {"reputation": 60090, "user_id": 188031, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/p2YIF.jpg?s=128&g=1", "display_name": "tokland", "link": "https://stackoverflow.com/users/188031/tokland"}, "is_accepted": false, "score": 0, "last_activity_date": 1534341220, "last_edit_date": 1534341220, "creation_date": 1534340964, "answer_id": 51860011, "question_id": 51859909, "link": "https://stackoverflow.com/questions/51859909/typescript-lodash-group-by-trying-to-group-values-of-a-key-of-an-array-with-t/51860011#51860011", "title": "Typescript/Lodash group by -- Trying to group values of a key of an array with their quantity", "body": "<p>What's the library behind <code>_</code> in this stackblitz? In Lodash, you need a <a href=\"https://lodash.com/docs/4.17.10#prototype-value\" rel=\"nofollow noreferrer\">.value()</a> at the end to unwrap the value from the chain.</p>\n"}, {"tags": [], "owner": {"reputation": 5631, "user_id": 10064334, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Cl7s7.png?s=128&g=1", "display_name": "SebastianG", "link": "https://stackoverflow.com/users/10064334/sebastiang"}, "is_accepted": true, "score": 1, "last_activity_date": 1534419133, "creation_date": 1534419133, "answer_id": 51876038, "question_id": 51859909, "link": "https://stackoverflow.com/questions/51859909/typescript-lodash-group-by-trying-to-group-values-of-a-key-of-an-array-with-t/51876038#51876038", "title": "Typescript/Lodash group by -- Trying to group values of a key of an array with their quantity", "body": "<p>After 8 hours of troubleshooting and some help in another thread + some help from colleagues, I ended up with this function:</p>\n\n<pre><code>  let countUniqueValues = (data, key) =&gt; {\n    return _(data).groupBy(key).values().map(\n      (group) =&gt; ({ key: group[0][`${key}`], count: group.length })\n    ).value()\n  }\n</code></pre>\n\n<p>Now, when I update my store, I can call this function to create any kpi I want by passing it the data from the action and the key whose values I want to count. </p>\n\n<p>I don't even have to touch the function at all.</p>\n"}], "owner": {"reputation": 5631, "user_id": 10064334, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Cl7s7.png?s=128&g=1", "display_name": "SebastianG", "link": "https://stackoverflow.com/users/10064334/sebastiang"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1062, "favorite_count": 0, "accepted_answer_id": 51876038, "answer_count": 2, "score": 4, "last_activity_date": 1534419133, "creation_date": 1534340582, "last_edit_date": 1534342818, "question_id": 51859909, "link": "https://stackoverflow.com/questions/51859909/typescript-lodash-group-by-trying-to-group-values-of-a-key-of-an-array-with-t", "title": "Typescript/Lodash group by -- Trying to group values of a key of an array with their quantity", "body": "<p>Code: </p>\n\n<pre><code>    this.countSmth = _(data).groupBy('DeliveryStatus').values().map(\n      (group) =&gt; ({ ...group[0], qty: group.length })\n    ), console.log(this.countSmth);\n</code></pre>\n\n<p>I've been experimenting with <a href=\"https://stackblitz.com/edit/angular-qbpnqc\" rel=\"nofollow noreferrer\">this stackblit</a>z and all works well, giving me the desired result. However in my project the end result looks like <a href=\"https://i.imgur.com/ezR5nPe.png\" rel=\"nofollow noreferrer\">this(link).</a></p>\n\n<p>The HTTP response that I'm using as a source looks like this:</p>\n\n<pre><code>{\n    {\n        \"BookingId\": \"VALUE\",\n        \"OrderNumber\": \"VALUE\",\n        \"ArrivalTime\": \"VALUE\",\n        \"DepartureTime\": \"VALUE\",\n        \"Duration\": \"VALUE\",\n        \"DeliveryStatus\": \"Accepted\"\n    }\n]\n</code></pre>\n\n<p>In my Angular project Ive used yarn to add 'lodash' and @types/lodash. I decided to test the same stackblitz text in the same environment and it dosn't seem to work which means I've written it wrong there.</p>\n\n<p><strong>EDIT: I've created an angular project and imported lodash the same. I replaced the data object that I'm getting with a typed array, here:</strong></p>\n\n<p><a href=\"https://stackblitz.com/edit/angular-qbpnqc\" rel=\"nofollow noreferrer\">https://stackblitz.com/edit/angular-qbpnqc</a></p>\n"}, {"tags": ["typescript", "static", "subclass"], "answers": [{"comments": [{"owner": {"reputation": 371, "user_id": 9087103, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3dbf8664a24af82c130947a5bd9c0535?s=128&d=identicon&r=PG&f=1", "display_name": "D C", "link": "https://stackoverflow.com/users/9087103/d-c"}, "edited": false, "score": 1, "creation_date": 1534352307, "post_id": 51859905, "comment_id": 90678463, "body": "Awesome! It rocks!"}, {"owner": {"reputation": 371, "user_id": 9087103, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3dbf8664a24af82c130947a5bd9c0535?s=128&d=identicon&r=PG&f=1", "display_name": "D C", "link": "https://stackoverflow.com/users/9087103/d-c"}, "edited": false, "score": 0, "creation_date": 1534360939, "post_id": 51859905, "comment_id": 90682421, "body": "when SubDoc has a constructor(public prop), it will report error: [ts] The &#39;this&#39; context of type &#39;typeof SubDoc&#39; is not assignable to method&#39;s &#39;this&#39; of type &#39;typeof DocBase&#39;."}, {"owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "reply_to_user": {"reputation": 371, "user_id": 9087103, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3dbf8664a24af82c130947a5bd9c0535?s=128&d=identicon&r=PG&f=1", "display_name": "D C", "link": "https://stackoverflow.com/users/9087103/d-c"}, "edited": false, "score": 0, "creation_date": 1534362613, "post_id": 51859905, "comment_id": 90683127, "body": "@DC Sorry I took a while to get back, I was putting the child to bed :). You can use the approach in my second example, just <code>typeof BasDoc</code> will unfortunately mandate an empty constructor. This should work <code>static find&lt;T extends { new (... args: any[]) : BaseDoc, Collection: any }&gt;(this: T): InstanceType&lt;T&gt;</code>"}, {"owner": {"reputation": 371, "user_id": 9087103, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3dbf8664a24af82c130947a5bd9c0535?s=128&d=identicon&r=PG&f=1", "display_name": "D C", "link": "https://stackoverflow.com/users/9087103/d-c"}, "edited": false, "score": 0, "creation_date": 1534363633, "post_id": 51859905, "comment_id": 90683533, "body": "Thank you very much! It works again! BTW, I prefer your 1st example for its simplicity."}, {"owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "reply_to_user": {"reputation": 371, "user_id": 9087103, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3dbf8664a24af82c130947a5bd9c0535?s=128&d=identicon&r=PG&f=1", "display_name": "D C", "link": "https://stackoverflow.com/users/9087103/d-c"}, "edited": false, "score": 0, "creation_date": 1534363682, "post_id": 51859905, "comment_id": 90683555, "body": "@DC yeah, it is simpler, unfortunately simple does not always work :("}, {"owner": {"reputation": 741, "user_id": 6685632, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kcrqn.jpg?s=128&g=1", "display_name": "Dylan", "link": "https://stackoverflow.com/users/6685632/dylan"}, "edited": false, "score": 0, "creation_date": 1572613598, "post_id": 51859905, "comment_id": 103622553, "body": "Exactly what I was looking for. Can someone explain how the first example works?"}, {"owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "reply_to_user": {"reputation": 741, "user_id": 6685632, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kcrqn.jpg?s=128&g=1", "display_name": "Dylan", "link": "https://stackoverflow.com/users/6685632/dylan"}, "edited": false, "score": 0, "creation_date": 1572614389, "post_id": 51859905, "comment_id": 103622924, "body": "@Dylan <code>this</code> will be the class itself for the static method. If we use a generic type parameter such as <code>T</code> for the <code>this</code> parameter, ts will infer into <code>T</code> the actual class that the static method is called on, so <code>T</code> will be <code>typeof SubDoc</code> and then we extarct the instance type using <code>InstanceType</code>. Let me know if it&#39;s more clear now, or if not, let me know what is tripping you up. \ud83d\ude0a"}, {"owner": {"reputation": 741, "user_id": 6685632, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kcrqn.jpg?s=128&g=1", "display_name": "Dylan", "link": "https://stackoverflow.com/users/6685632/dylan"}, "edited": false, "score": 0, "creation_date": 1572618361, "post_id": 51859905, "comment_id": 103624930, "body": "Just can&#39;t wrap my head around why going <code>find&lt;T extends BaseDoc&gt;(this: T): T</code> doesn&#39;t work. Appreciate the help."}, {"owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "reply_to_user": {"reputation": 741, "user_id": 6685632, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kcrqn.jpg?s=128&g=1", "display_name": "Dylan", "link": "https://stackoverflow.com/users/6685632/dylan"}, "edited": false, "score": 1, "creation_date": 1572618524, "post_id": 51859905, "comment_id": 103624992, "body": "@Dylan <code>BaseDoc</code> is the instance type, <code>typeof BaseDoc</code> is the class type. Whane you call an instance method this is an instance of the type so <code>this</code> will be of the same type as the instance type. When you call a static method, <code>this</code> will be the class itself (since that is what the method gets called on) so <code>this</code> will be something that extends <code>typeof BaseDoc</code>"}, {"owner": {"reputation": 741, "user_id": 6685632, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kcrqn.jpg?s=128&g=1", "display_name": "Dylan", "link": "https://stackoverflow.com/users/6685632/dylan"}, "edited": false, "score": 0, "creation_date": 1572619144, "post_id": 51859905, "comment_id": 103625254, "body": "@TitianCernicova-Dragomir Makes sense now, thankyou for your help."}], "tags": [], "owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "is_accepted": true, "score": 9, "last_activity_date": 1534340570, "creation_date": 1534340570, "answer_id": 51859905, "question_id": 51859682, "link": "https://stackoverflow.com/questions/51859682/typescript-how-to-return-subclass-type-from-inherited-static-property/51859905#51859905", "title": "Typescript: how to return subclass type from inherited static property?", "body": "<p>You can create a generic version of <code>find</code> that will have the <code>this</code> parameter inferred to the type of the class it's being called on, and use <code>InstanceType&lt;T&gt;</code> to extract the actual instance type from the class type:</p>\n\n<pre><code>class BaseDoc {\n    static Collection: any;\n    static find&lt;T extends typeof BaseDoc&gt;(this: T): InstanceType&lt;T&gt; {\n        // which is expected to return an instance of SubDoc when run SubDoc.find()\n        return this.Collection.find();\n    }\n}\n\nclass SubDoc extends BaseDoc {\n\n}\n\nSubDoc.find() // return SubDoc\n</code></pre>\n\n<p>Or you can mandate that the derived class defines a generic <code>Collection</code> member of the appropriate type:</p>\n\n<pre><code>class Collection&lt;T&gt; {\n    find(): T {\n        return null as any // dummy imeplmentation\n    }\n}\ntype GetCollectionItem&lt;T extends Collection&lt;any&gt;&gt; = T extends Collection&lt;infer U&gt; ? U: never;\n\nclass BaseDoc {\n    static Collection: Collection&lt;BaseDoc&gt;;\n    static find&lt;T extends { new (... args: any[]) : any, Collection: Collection&lt;any&gt; }&gt;(this: T):  GetCollectionItem&lt;T['Collection']&gt; {\n        // which is expected to return an instance of SubDoc when run SubDoc.find()\n        return this.Collection.find();\n    }\n}\n\nclass SubDoc extends BaseDoc {\n    static Collection: Collection&lt;SubDoc&gt;;\n}\n\nSubDoc.find() // return SubDoc\n</code></pre>\n"}], "owner": {"reputation": 371, "user_id": 9087103, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3dbf8664a24af82c130947a5bd9c0535?s=128&d=identicon&r=PG&f=1", "display_name": "D C", "link": "https://stackoverflow.com/users/9087103/d-c"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2404, "favorite_count": 1, "accepted_answer_id": 51859905, "answer_count": 1, "score": 8, "last_activity_date": 1534340570, "creation_date": 1534339778, "question_id": 51859682, "link": "https://stackoverflow.com/questions/51859682/typescript-how-to-return-subclass-type-from-inherited-static-property", "title": "Typescript: how to return subclass type from inherited static property?", "body": "<pre><code>class BaseDoc {\n    static Collection;  \n    static find(){\n        // which is expected to return an instance of SubDoc when run SubDoc.find()\n        return this.Collection.find();  \n    }\n}\n\nclass SubDoc extends BaseDoc {}\n</code></pre>\n\n<p>What I hope is: When running SubDoc.find(), the app knows the type of the return value to be an instance of SubDoc rather than BaseDoc.</p>\n\n<p>How can I achieve that?</p>\n"}, {"tags": ["typescript", "types"], "comments": [{"owner": {"reputation": 22363, "user_id": 4468617, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a09c08e1ae93a83e9102b6715fc75b4c?s=128&d=identicon&r=PG", "display_name": "Matt McCutchen", "link": "https://stackoverflow.com/users/4468617/matt-mccutchen"}, "edited": false, "score": 2, "creation_date": 1534342122, "post_id": 51859538, "comment_id": 90672845, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/51815782/typescript-array-of-different-generic-types\">Typescript array of different generic types</a>.  I&#39;m curious what both of you are doing that involves a value and a function to convert it to a string."}, {"owner": {"reputation": 425, "user_id": 2537069, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f90353d679310f0f59925a63f701ef93?s=128&d=identicon&r=PG", "display_name": "zedryas", "link": "https://stackoverflow.com/users/2537069/zedryas"}, "reply_to_user": {"reputation": 22363, "user_id": 4468617, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a09c08e1ae93a83e9102b6715fc75b4c?s=128&d=identicon&r=PG", "display_name": "Matt McCutchen", "link": "https://stackoverflow.com/users/4468617/matt-mccutchen"}, "edited": false, "score": 0, "creation_date": 1534355565, "post_id": 51859538, "comment_id": 90679907, "body": "thank you @MattMcCutchen i&#39;m trying to wrap my head around your solution to see if it answer my question. The function in the example is just a dummy example, and the real use case it&#39;s quite different - in essence what i need is to ensure that the type of the arguments provided by the user of the function match the expected type as input of the function to prevent errors in execution. Since it&#39;s all typescript it should be able to computes it before execution."}], "owner": {"reputation": 425, "user_id": 2537069, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f90353d679310f0f59925a63f701ef93?s=128&d=identicon&r=PG", "display_name": "zedryas", "link": "https://stackoverflow.com/users/2537069/zedryas"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 125, "favorite_count": 1, "answer_count": 0, "score": 2, "last_activity_date": 1534340908, "creation_date": 1534339289, "last_edit_date": 1534340908, "question_id": 51859538, "link": "https://stackoverflow.com/questions/51859538/typescript-how-to-have-an-array-of-typed-items", "title": "Typescript: how to have an array of typed items", "body": "<p>Quite new to typescript and i'm trying to accomplish something that seems to be computable before execution but can't achieve the typings for it.</p>\n\n<p>I'll try to explain it by an exemple: \nIn the following code what i want is to have an interface that enforces an argument to have the same type used in the function defined in that interface.\nSo far it's easy and i can use a generic type to achieve it:</p>\n\n<pre><code>interface Interface&lt;T&gt; {\n  arg: T\n  func: (_: T) =&gt; string\n}\n</code></pre>\n\n<p>What I then want is to be a able to have an array of those interface that can have differents type between them (while still ensuring to have the same type between the argument and the function inside one of the interfaces).<br>\nHere is a function that takes such an argument:</p>\n\n<pre><code>const mainFunc = &lt;T&gt;(\n  items: Array&lt;Interface&lt;T&gt;&gt;\n) =&gt; {\n  items.forEach(({ func, arg }) =&gt; func(arg))\n}\n</code></pre>\n\n<p>Once i call it it works if all interface use the same type like so:</p>\n\n<pre><code>mainFunc([\n  { arg: 'abc', func: _ =&gt; typeof _ }, // string typed Interface\n  { arg: 'def', func: _ =&gt; typeof _ }, // string typed Interface\n])\n</code></pre>\n\n<p>But fails if the interface used differents types like so:</p>\n\n<pre><code>mainFunc([\n  { arg: 2, func: _ =&gt; typeof _ },     // number typed Interface\n  { arg: 'abc', func: _ =&gt; typeof _ }, // string typed Interface\n])\n</code></pre>\n\n<p>Telling me that type string is incompatible with type number. \nI know that the type <code>number</code> is infered by the fist line and that it then breaks the second line.</p>\n\n<p>Is there a way to have an array of interface using internally the same type while being type differently between them?</p>\n\n<p>Thanks all for reading and replying ;)<br>\n(excuse my english for possible typos)</p>\n\n<p>Seb</p>\n"}, {"tags": ["typescript", "generics", "currying"], "comments": [{"owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "edited": false, "score": 0, "creation_date": 1534340035, "post_id": 51859461, "comment_id": 90671641, "body": "Not sure how the currying for <code>CurriedFunction</code> type args is supposed to happen, since <code>T</code> parameter to <code>CurriedFunction</code>  is always the same in the input and output"}, {"owner": {"reputation": 860, "user_id": 2470040, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7bd1fc55b75e50127628ce751072c322?s=128&d=identicon&r=PG", "display_name": "wagerfield", "link": "https://stackoverflow.com/users/2470040/wagerfield"}, "reply_to_user": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "edited": false, "score": 0, "creation_date": 1534340943, "post_id": 51859461, "comment_id": 90672178, "body": "You&#39;re right. I have a feeling I will need yet another generic variable that extends from <code>any[]</code> to annotate the arguments of the curried function that is returned."}, {"owner": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "edited": false, "score": 0, "creation_date": 1534341166, "post_id": 51859461, "comment_id": 90672284, "body": "Strongly-typed <code>bind()</code> is still not yet possible in TypeScript as of 3.0, since there&#39;s no (supported) way to <a href=\"https://github.com/Microsoft/TypeScript/issues/26058\" rel=\"nofollow noreferrer\">concatenate tuples</a> in the type system.  So you will probably not get this done easily."}, {"owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "reply_to_user": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "edited": false, "score": 0, "creation_date": 1534341458, "post_id": 51859461, "comment_id": 90672466, "body": "@jcalz concatenation is not possible I agree, but removing the first parameter (or the first n parameters) should be possible, isn&#39;t that enough for bind ? (BTW: Congrats on your is gold badge :) )"}, {"owner": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "edited": false, "score": 0, "creation_date": 1534342085, "post_id": 51859461, "comment_id": 90672827, "body": "Removing the first n parameters for generic n is not possible, which is what&#39;s needed.  You can still do heaps of overloads or sneaky compiler-hostile recursion, but it&#39;s not great."}], "answers": [{"comments": [{"owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "edited": false, "score": 1, "creation_date": 1534345984, "post_id": 51860718, "comment_id": 90675164, "body": "Cool use of <code>L[&#39;length&#39;]</code> got to remember that one :)"}, {"owner": {"reputation": 860, "user_id": 2470040, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7bd1fc55b75e50127628ce751072c322?s=128&d=identicon&r=PG", "display_name": "wagerfield", "link": "https://stackoverflow.com/users/2470040/wagerfield"}, "edited": false, "score": 0, "creation_date": 1534418741, "post_id": 51860718, "comment_id": 90703099, "body": "Wowsers thank you so much @jcalz\u2014I clearly need to sharpen up my TS skills!"}, {"owner": {"reputation": 1921, "user_id": 4420543, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/cff56a7d6453ef26835d3cf2e3a83cdb?s=128&d=identicon&r=PG&f=1", "display_name": "andras", "link": "https://stackoverflow.com/users/4420543/andras"}, "edited": false, "score": 0, "creation_date": 1553522828, "post_id": 51860718, "comment_id": 97404380, "body": "What does even <code>0 extends L[&#39;length&#39;]</code> mean (@jcalz )? This blows my mind. Where can I read up on that expression?"}, {"owner": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "edited": false, "score": 2, "creation_date": 1553523216, "post_id": 51860718, "comment_id": 97404634, "body": "The <code>X extends Y ? T : U</code> syntax is called a <a href=\"https://www.typescriptlang.org/docs/handbook/release-notes/typescript-2-8.html#conditional-types\" rel=\"nofollow noreferrer\">conditional type</a> (the <code>?</code> and <code>:</code> are also part of the clause, not just the <code>extends</code> part). And if <code>L</code> is a type with a property named <code>length</code> (such as a tuple), then <code>L[&#39;length&#39;]</code> is the type of that property. That notation is called a <a href=\"https://www.typescriptlang.org/docs/handbook/release-notes/typescript-2-1.html#keyof-and-lookup-types\" rel=\"nofollow noreferrer\">lookup type</a>.  So <code>0 extends L[&#39;length&#39;]</code> is part of a conditional type, checking if <code>L</code> is a zero-length tuple."}, {"owner": {"reputation": 2332, "user_id": 506361, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3db25d695a5fa73a0caba9315faffd14?s=128&d=identicon&r=PG", "display_name": "Pre101", "link": "https://stackoverflow.com/users/506361/pre101"}, "edited": false, "score": 0, "creation_date": 1567699291, "post_id": 51860718, "comment_id": 102050056, "body": "This is a very elegant solution.  One downside, though, is that it loses the parameter names, making the IntelliSense output less useful.  Is there a solution that preserves the parameter names or otherwise produces better output?"}, {"owner": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "edited": false, "score": 0, "creation_date": 1567730116, "post_id": 51860718, "comment_id": 102059912, "body": "I don&#39;t see how, sorry.  Maybe someone else has an idea, but parameter names are not really part of the type, and the compiler doesn&#39;t give much support for manipulating them."}], "tags": [], "owner": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "is_accepted": true, "score": 8, "last_activity_date": 1534466095, "last_edit_date": 1534466095, "creation_date": 1534343471, "answer_id": 51860718, "question_id": 51859461, "link": "https://stackoverflow.com/questions/51859461/generic-curry-function-with-typescript-3/51860718#51860718", "title": "Generic curry function with TypeScript 3", "body": "<p>Right now the biggest hurdle for typing this correctly is TypeScript's inability to concatenate or split tuples as of TypeScript 3.0.  There are <a href=\"https://github.com/Microsoft/TypeScript/issues/26058\" rel=\"noreferrer\">suggestions</a> for doing this, and something might be in the works for TypeScript 3.1 and beyond, but it's just not there right now.  As of today all you could do is enumerate cases up to some maximum finite length, or try to <a href=\"https://github.com/Microsoft/TypeScript/issues/14833\" rel=\"noreferrer\">trick the compiler into using recursion</a> which is <a href=\"https://github.com/Microsoft/TypeScript/pull/24897#issuecomment-401418254\" rel=\"noreferrer\">not recommended</a>.</p>\n\n<p>If we imagine that there were a <code>TupleSplit&lt;T extends any[], L extends number&gt;</code> type function which could take a tuple and a length and split the tuple at that length into the initial component and the rest, so that <code>TupleSplit&lt;[string, number, boolean], 2&gt;</code> would produce <code>{init: [string, number], rest: [boolean]}</code>, then you could declare your <code>curry</code> function's type as something like this:</p>\n\n<pre><code>declare function curry&lt;A extends any[], R&gt;(\n  f: (...args: A) =&gt; R\n): &lt;L extends TupleSplit&lt;A, number&gt;['init']&gt;(\n    ...args: L\n  ) =&gt; 0 extends L['length'] ?\n    never :\n    ((...args: TupleSplit&lt;A, L['length']&gt;['rest']) =&gt; R) extends infer F ?\n    F extends () =&gt; any ? R : F : never;\n</code></pre>\n\n<p>For the sake of being able to try that, let's introduce a version of <code>TupleSplit&lt;T, L&gt;</code> that only works for <code>L</code> up to <code>3</code> (which you can add to if you want).  It looks like this:</p>\n\n<pre><code>type TupleSplit&lt;T extends any[], L extends number, F = (...a: T) =&gt; void&gt; = [\n  { init: [], rest: T },\n  F extends ((a: infer A, ...z: infer Z) =&gt; void) ?\n  { init: [A], rest: Z } : never,\n  F extends ((a: infer A, b: infer B, ...z: infer Z) =&gt; void) ?\n  { init: [A, B], rest: Z } : never,\n  F extends ((a: infer A, b: infer B, c: infer C, ...z: infer Z) =&gt; void) ?\n  { init: [A, B, C], rest: Z } : never,\n  // etc etc for tuples of length 4 and greater\n  ...{ init: T, rest: [] }[]\n][L];\n</code></pre>\n\n<p>Now we can test that declaration of <code>curry</code> on a function like</p>\n\n<pre><code>function add(x: number, y: number) {\n  return x + y;\n}\nconst curriedAdd = curry(add);\n\nconst addTwo = curriedAdd(2); // (y: number) =&gt; number;\nconst four = curriedAdd(2,2); // number\nconst willBeAnError = curriedAdd(); // never\n</code></pre>\n\n<p>Those types look correct to me.</p>\n\n<hr>\n\n<p>Of course, that doesn't mean the <em>implementation</em> of <code>curry</code> will be happy with that type.  You might be able to implement it like:</p>\n\n<pre><code>return &lt;L extends TupleSplit&lt;A, number&gt;['init']&gt;(...args: TupleSplit&lt;A, L['length']&gt;['rest']) =&gt; {\n  if (args.length === 0) {\n    throw new Error(\"Empty invocation\")\n  } else if (args.length &lt; f.length) {\n    return curry(f.bind(null, ...args))\n  } else {\n    return f(...args as A)\n  }\n}\n</code></pre>\n\n<p>possibly.  I haven't tested that.</p>\n\n<p>Anyway, hope that makes some sense and gives you some direction.  Good luck!</p>\n\n<hr>\n\n<h2>UPDATE</h2>\n\n<p>I didn't pay attention to the fact that <code>curry()</code> returns further curried functions, if you don't pass in all the arguments.  Doing that requires a recursive type, like this:</p>\n\n<pre><code>type Curried&lt;A extends any[], R&gt; =\n  &lt;L extends TupleSplit&lt;A, number&gt;['init']&gt;(...args: L) =&gt;\n    0 extends L['length'] ? never :\n    0 extends TupleSplit&lt;A, L['length']&gt;['rest']['length'] ? R :\n    Curried&lt;TupleSplit&lt;A,L['length']&gt;['rest'], R&gt;;\n\ndeclare function curry&lt;A extends any[], R&gt;(f: (...args: A)=&gt;R): Curried&lt;A, R&gt;;\n\nfunction add(x: number, y: number) {\n  return x + y;\n}\nconst curriedAdd = curry(add);\n\nconst addTwo = curriedAdd(2); // Curried&lt;[number], number&gt;\nconst three = addTwo(1); // number\nconst four = curriedAdd(2,2); // number\nconst willBeAnError = curriedAdd(); // never\n</code></pre>\n\n<p>That's more like the original definition.</p>\n\n<hr>\n\n<p>But I also notice that if you do this:</p>\n\n<pre><code>const wat = curriedAdd(\"no error?\"); // never\n</code></pre>\n\n<p>that instead of getting an error, it returns <code>never</code>.  This looks like a compiler bug to me, but I haven't followed it up yet.  EDIT: Okay, I filed <a href=\"https://github.com/Microsoft/TypeScript/issues/26491\" rel=\"noreferrer\">Microsoft/TypeScript#26491</a> about this.</p>\n\n<p>Cheers! </p>\n"}, {"tags": [], "owner": {"reputation": 5975, "user_id": 592768, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/15f8ba298c5402ad368839c4805ff82f?s=128&d=identicon&r=PG", "display_name": "Lawrence Wagerfield", "link": "https://stackoverflow.com/users/592768/lawrence-wagerfield"}, "is_accepted": false, "score": 1, "last_activity_date": 1534352852, "last_edit_date": 1534352852, "creation_date": 1534347397, "answer_id": 51861885, "question_id": 51859461, "link": "https://stackoverflow.com/questions/51859461/generic-curry-function-with-typescript-3/51861885#51861885", "title": "Generic curry function with TypeScript 3", "body": "<p>The biggest problem here is that you're trying to define a generic function with a variable number of 'curried levels' -- e.g. <code>a =&gt; b =&gt; c =&gt; d</code> or <code>x =&gt; y =&gt; z</code> or <code>(k, l) =&gt; (m, n) =&gt; o</code>, where all of these functions are somehow represented by the same (albeit generic) type definition <code>F&lt;T, R&gt;</code> -- something that isn't possible in TypeScript as you can't arbitrarily split <code>generic rests</code> into two smaller tuples...</p>\n\n<p>Conceptually you need:</p>\n\n<pre><code>FN&lt;A extends any[], R&gt; = (...a: A) =&gt; R | (...p: A.Prefix) =&gt; FN&lt;A.Suffix, R&gt;\n</code></pre>\n\n<p>TypeScript AFAIK cannot do this.</p>\n\n<p>Your best bet would be to use some lovely overloads:</p>\n\n<pre><code>FN1&lt;A, R&gt;             = (a: A) =&gt; R\nFN2&lt;A, B, R&gt;          = ((a: A, b: B) =&gt; R)             | ((a: A) =&gt; FN1&lt;B, R&gt;)\nFN3&lt;A, B, C, R&gt;       = ((a: A, b: B, c: C) =&gt; R)       | ((a: A, b: B) =&gt; FN1&lt;C, R&gt;)       | ((a: A) =&gt; FN2&lt;B, C, R&gt;)\nFN4&lt;A, B, C, D, R&gt;    = ((a: A, b: B, c: C, d: D) =&gt; R) | ((a: A, b: B, c: C) =&gt; FN1&lt;D, R&gt;) | ((a: A, b: B) =&gt; FN2&lt;C, D, R&gt;) | ((a: A) =&gt; FN3&lt;B, C, D, R&gt;)\n\nfunction curry&lt;A, R&gt;(fn: (A) =&gt; R): FN1&lt;A, R&gt;\nfunction curry&lt;A, B, R&gt;(fn: (A, B) =&gt; R): FN2&lt;A, B, R&gt;\nfunction curry&lt;A, B, C, R&gt;(fn: (A, B, C) =&gt; R): FN3&lt;A, B, C, R&gt;\nfunction curry&lt;A, B, C, D, R&gt;(fn: (A, B, C, D) =&gt; R): FN4&lt;A, B, C, D, R&gt;\n</code></pre>\n\n<p>Lots of languages have unrolled types like these baked-in, because few type systems support this level of recursive flow control when defining types.</p>\n"}, {"comments": [{"owner": {"reputation": 2421, "user_id": 578724, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/a6550cda8b3f772080646e5833cc7d5e?s=128&d=identicon&r=PG", "display_name": "aopsfan", "link": "https://stackoverflow.com/users/578724/aopsfan"}, "edited": false, "score": 0, "creation_date": 1595440922, "post_id": 61171266, "comment_id": 111478612, "body": "Trial and error suggests that this doesn&#39;t allow calls like <code>curry(add)(1, 2)(3)</code>, but this serves as a nice drop-in module declaration in cases like mine where lodash&#39;s implementation of curry works but doesn&#39;t quite cut it in the types department."}, {"owner": {"reputation": 7390, "user_id": 205696, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/e6a042553edc475cda59f8f62df2a86c?s=128&d=identicon&r=PG", "display_name": "dotnetCarpenter", "link": "https://stackoverflow.com/users/205696/dotnetcarpenter"}, "edited": false, "score": 0, "creation_date": 1608990982, "post_id": 61171266, "comment_id": 115725070, "body": "<code>curry(add)(1, 2)(3)</code> should never work but <code>curry(add)(1, 2)</code> should. That is easy to fix in the code. Simply change the return function to <code>return (...args) =&gt; curry(fn.bind(null, ...args))</code> but then the types are wrong. This is equivalent to <code>fn.apply</code> if all arguments are there and therefore you do not have to account for <i>that partially applied functions can be correctly called multiple times</i>. A simple example is <a href=\"https://github.com/MostlyAdequate/mostly-adequate-guide/blob/master/appendix_a.md#curry\" rel=\"nofollow noreferrer\">Mostly Adequate&#39;s curry definition</a>."}], "tags": [], "owner": {"reputation": 11687, "user_id": 158483, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/d25c1d21b14f542800094c926c0f505b?s=128&d=identicon&r=PG", "display_name": "Pete", "link": "https://stackoverflow.com/users/158483/pete"}, "is_accepted": false, "score": 2, "last_activity_date": 1586694235, "last_edit_date": 1586694235, "creation_date": 1586693651, "answer_id": 61171266, "question_id": 51859461, "link": "https://stackoverflow.com/questions/51859461/generic-curry-function-with-typescript-3/61171266#61171266", "title": "Generic curry function with TypeScript 3", "body": "<p>With the current version of typescript, it is possible to create a relatively simple correctly typed generic curry function.</p>\n\n<pre><code>type CurryFirst&lt;T&gt; = T extends (x: infer U, ...rest: any) =&gt; any ? U : never;\ntype CurryRest&lt;T&gt; =\n    T extends (x: infer U) =&gt; infer V ? U :\n    T extends (x: infer U, ...rest: infer V) =&gt; infer W ? Curried&lt;(...args: V) =&gt; W&gt; :\n    never\n\ntype Curried&lt;T extends (...args: any) =&gt; any&gt; = (x: CurryFirst&lt;T&gt;) =&gt; CurryRest&lt;T&gt;\n\nconst curry = &lt;T extends (...args: any) =&gt; any&gt;(fn: T): Curried&lt;T&gt; =&gt; {\n    if (!fn.length) { return fn(); }\n    return (arg: CurryFirst&lt;T&gt;): CurryRest&lt;T&gt; =&gt; {\n        return curry(fn.bind(null, arg) as any) as any;\n    };\n}\n\ndescribe(\"Curry\", () =&gt; {\n    it(\"Works\", () =&gt; {\n        const add = (x: number, y: number, z: number) =&gt; x + y + z;\n        const result = curry(add)(1)(2)(3)\n        result.should.equal(6);\n    });\n});\n</code></pre>\n\n<p>This is based on two type constructors:</p>\n\n<ul>\n<li><code>CurryFirst</code> will given a function return the type of the first argument for that function.</li>\n<li><code>CurryRest</code> will return the return type of the curried function with the first argument applied. The special case is when the function type <code>T</code> only takes one argument, then <code>CurryRest&lt;T&gt;</code> will just return the return type of the function type <code>T</code></li>\n</ul>\n\n<p>Based on these two, the type signature for the curried version of function of type <code>T</code> simply becomes:</p>\n\n<pre><code>Curried&lt;T&gt; = (arg: CurryFirst&lt;T&gt;) =&gt; CurryRest&lt;T&gt;\n</code></pre>\n\n<p>I made some simple constraints here:</p>\n\n<ul>\n<li>You don't want to curry a parameterless function. You could easily add it, but I don't think it makes sense.</li>\n<li>I don't preserve the <code>this</code> pointer. This doesn't make sense to me either because we're entering pure FP land here.</li>\n</ul>\n\n<p>Speculative performance improvements could be made if the curry function accumulates the parameters in an array, and performs one <code>fn.apply</code>, instead of multiple <code>fn.bind</code> calls. But care must be taken to make sure that partially applied functions can be correctly called multiple times.</p>\n"}], "owner": {"reputation": 860, "user_id": 2470040, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7bd1fc55b75e50127628ce751072c322?s=128&d=identicon&r=PG", "display_name": "wagerfield", "link": "https://stackoverflow.com/users/2470040/wagerfield"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 6254, "favorite_count": 7, "accepted_answer_id": 51860718, "answer_count": 3, "score": 12, "last_activity_date": 1586694235, "creation_date": 1534338901, "last_edit_date": 1569719341, "question_id": 51859461, "link": "https://stackoverflow.com/questions/51859461/generic-curry-function-with-typescript-3", "title": "Generic curry function with TypeScript 3", "body": "<p>TypeScript 3.0 introduced <a href=\"https://www.typescriptlang.org/docs/handbook/release-notes/typescript-3-0.html#generic-rest-parameters\" rel=\"nofollow noreferrer\">generic rest parameters</a>.</p>\n\n<p>Up until this point, <code>curry</code> functions had to be annotated in TypeScript with a <a href=\"https://gist.github.com/donnut/fd56232da58d25ceecf1#gistcomment-1746556\" rel=\"nofollow noreferrer\">finite number of function overloads</a> and a series of conditional statements querying the number of passed arguments within the implementation.</p>\n\n<p>I am hoping that generic rest parameters finally offers the mechanism needed to implement a completely generic solution.</p>\n\n<p><em>I would like to know how to use this new language feature to write a generic <code>curry</code> function...assuming it's possible of course!</em></p>\n\n<p>The JS implementation using rest params that I modified a little from a <a href=\"https://hackernoon.com/currying-in-js-d9ddc64f162e\" rel=\"nofollow noreferrer\">solution I found on hackernoon</a> looks like this:</p>\n\n<pre><code>function curry(fn) {\n  return (...args) =&gt; {\n    if (args.length === 0) {\n      throw new Error(\"Empty invocation\")\n    } else if (args.length &lt; fn.length) {\n      return curry(fn.bind(null, ...args))\n    } else {\n      return fn(...args)\n    }\n  }\n}\n</code></pre>\n\n<p>Using generic rest params and function overloads, my attempt at annotating this <code>curry</code> function in TypeScript looks like this:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>interface CurriedFunction&lt;T extends any[], R&gt; {\n  (...args: T): void // Function that throws error when zero args are passed\n  (...args: T): CurriedFunction&lt;T, R&gt; // Partially applied function\n  (...args: T): R // Fully applied function\n}\n\nfunction curry&lt;T extends any[], R&gt;(\n  fn: CurriedFunction&lt;T, R&gt;\n): CurriedFunction&lt;T, R&gt; {\n  return (...args: T) =&gt; {\n    if (args.length === 0) {\n      throw new Error(\"Empty invocation\")\n    } else if (args.length &lt; fn.length) {\n      return curry(fn.bind(null, ...args))\n    } else {\n      return fn(...args)\n    }\n  }\n}\n</code></pre>\n\n<p>However TypeScript throws the error:</p>\n\n<pre><code>Type 'CurriedFunction&lt;any[], {}&gt;' is not assignable to type 'CurriedFunction&lt;T, R&gt;'.\nType '{}' is not assignable to type 'R'.\n</code></pre>\n\n<p>I don't understand where and why <code>R</code> is being inferred as <code>{}</code>?</p>\n\n<p>Any help from the TypeScript gods amongst you would be very much appreciated.</p>\n"}, {"tags": ["angular", "typescript"], "comments": [{"owner": {"reputation": 343, "user_id": 8581092, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e94f74c7612f42560e047937ddaab099?s=128&d=identicon&r=PG&f=1", "display_name": "William", "link": "https://stackoverflow.com/users/8581092/william"}, "edited": false, "score": 0, "creation_date": 1534337684, "post_id": 51859038, "comment_id": 90670285, "body": "Perhaps an <code>AbstractPageClass</code> would be a better and cleaner solution than a service."}, {"owner": {"reputation": 343, "user_id": 8581092, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e94f74c7612f42560e047937ddaab099?s=128&d=identicon&r=PG&f=1", "display_name": "William", "link": "https://stackoverflow.com/users/8581092/william"}, "edited": false, "score": 0, "creation_date": 1541673259, "post_id": 51859038, "comment_id": 93299958, "body": "Apparently, no one has a solution, or it&#39;s a mistake on my part."}, {"owner": {"reputation": 9274, "user_id": 5166336, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/AGjjg.png?s=128&g=1", "display_name": "Sunil Singh", "link": "https://stackoverflow.com/users/5166336/sunil-singh"}, "edited": false, "score": 1, "creation_date": 1556273735, "post_id": 51859038, "comment_id": 98390944, "body": "Yes, abstraction is better solution than emitter and it is doable. I use abstraction in all my libraries."}], "answers": [{"tags": [], "owner": {"reputation": 343, "user_id": 8581092, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e94f74c7612f42560e047937ddaab099?s=128&d=identicon&r=PG&f=1", "display_name": "William", "link": "https://stackoverflow.com/users/8581092/william"}, "is_accepted": true, "score": 1, "last_activity_date": 1570704898, "creation_date": 1570704898, "answer_id": 58321291, "question_id": 51859038, "link": "https://stackoverflow.com/questions/51859038/angular-library-module-inject-service-with-abstract-class/58321291#58321291", "title": "Angular library module inject service with abstract class", "body": "<p>As Sunil Singh said, a normal abstract class is the solution (without <code>@Injectable</code>).</p>\n\n<pre><code>export abstract class AbstractPageService {\n\n  abstract logout(): void;\n\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 11, "user_id": 9033933, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-nFbFLLaDsdg/AAAAAAAAAAI/AAAAAAAABlA/9cPj2XRPoww/photo.jpg?sz=128", "display_name": "Daniel Hussy", "link": "https://stackoverflow.com/users/9033933/daniel-hussy"}, "is_accepted": false, "score": 1, "last_activity_date": 1571641944, "creation_date": 1571641944, "answer_id": 58481400, "question_id": 51859038, "link": "https://stackoverflow.com/questions/51859038/angular-library-module-inject-service-with-abstract-class/58481400#58481400", "title": "Angular library module inject service with abstract class", "body": "<p>I think there should be 'useValue' instead of 'useClass'.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>export class ComponentsModule {\r\n  static forRoot(pageService): ModuleWithProviders {\r\n    return {\r\n      ngModule: ComponentsModule,\r\n      providers: [\r\n        {provide: 'PageService', useClass: pageService}\r\n      ]\r\n    };\r\n  }\r\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": [], "owner": {"reputation": 3078, "user_id": 8343610, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Pg6PA.jpg?s=128&g=1", "display_name": "Jesse", "link": "https://stackoverflow.com/users/8343610/jesse"}, "is_accepted": false, "score": 8, "last_activity_date": 1579773277, "creation_date": 1579773277, "answer_id": 59875706, "question_id": 51859038, "link": "https://stackoverflow.com/questions/51859038/angular-library-module-inject-service-with-abstract-class/59875706#59875706", "title": "Angular library module inject service with abstract class", "body": "<p>I used this approach but ran into one problem:</p>\n\n<p><strong>The <code>PageService</code> is not the same singleton instance in the library as in the application.</strong> Because it is provided in multiple modules (application module and the library module), it creates a new instance for each module.</p>\n\n<p>What I ended up doing was providing my service through a <code>string</code> in the application module:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>// app.module.ts in the root application\nproviders: [\n  {\n    provide: 'PageService',\n    useClass: PageService\n  }\n]\n</code></pre>\n\n<p>Then injecting the service where needed using <code>@Inject()</code></p>\n\n<pre class=\"lang-js prettyprint-override\"><code>// anywhere in the root application where the service is needed\nconstructor(@Inject('PageService') private pageService: PageService) {}\n</code></pre>\n\n<hr>\n\n<p>Then, in the <em>library</em>, I created a simple interface:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>export interface AbstractPageService {\n  logout(): void;\n}\n</code></pre>\n\n<p>Then, I can simply inject the service in the library through the <code>Inject()</code> decorator and type it using the interface (without the need to implement the interface in the root application):</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>// anywhere in the library where the service is needed\nconstructor(@Inject('PageService') private pageService: AbstractPageService) {}\n</code></pre>\n\n<p>Now both the root application <em>and</em> the library use the same singleton instance of the <code>PageService</code>, as provided in the root application.</p>\n"}, {"tags": [], "owner": {"reputation": 2149, "user_id": 5029143, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/b62b704350b1cc19a5f3d468e60ddb31?s=128&d=identicon&r=PG&f=1", "display_name": "SeaBiscuit", "link": "https://stackoverflow.com/users/5029143/seabiscuit"}, "is_accepted": false, "score": 1, "last_activity_date": 1613819536, "creation_date": 1613819536, "answer_id": 66290848, "question_id": 51859038, "link": "https://stackoverflow.com/questions/51859038/angular-library-module-inject-service-with-abstract-class/66290848#66290848", "title": "Angular library module inject service with abstract class", "body": "<p>To reuse singleton</p>\n<h2>Provide in application appModule.ts</h2>\n<pre><code>{ provide: 'currentCompanyService', useFactory: getCompanyServiceFactory, deps: [AppInitService]}\n</code></pre>\n<p>Create factory which just returns injected instance.</p>\n<pre><code>export function getCompanyServiceFactory(appInitService: AppInitService): AppInitService {\n return appInitService;\n}\n</code></pre>\n<h2>Inject in library component</h2>\n<pre><code>public CustomLibraryComponent {\n\n   private companyService: AppInitService;\n\n   constructor(@Inject('currentEnvironment') environment: any,\n               @Inject('currentCompanyService') companyService: AppInitService) {\n       this.environment = environment;\n       this.companyService = companyService;\n   }\n}\n</code></pre>\n"}], "owner": {"reputation": 343, "user_id": 8581092, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e94f74c7612f42560e047937ddaab099?s=128&d=identicon&r=PG&f=1", "display_name": "William", "link": "https://stackoverflow.com/users/8581092/william"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4906, "favorite_count": 3, "accepted_answer_id": 58321291, "answer_count": 4, "score": 18, "last_activity_date": 1613819536, "creation_date": 1534337371, "last_edit_date": 1579773351, "question_id": 51859038, "link": "https://stackoverflow.com/questions/51859038/angular-library-module-inject-service-with-abstract-class", "title": "Angular library module inject service with abstract class", "body": "<p>I have created an Angular Component Library, which I distribute via NPM (over Nexus) to several similar projects. This contains a <code>PageComponent</code>, which in turn contains a <code>FooterComponent</code> and a <code>NavbarComponent</code>. In  <code>NavbarComponent</code> exists a button, which triggers a <code>logout</code> function. This function is to be provided via a <code>PageService</code> of the respective project. For this purpose I created an <code>AbstractPageService</code> in the Angular Component library (<code>PageService</code> extends <code>AbstractPageService</code>).</p>\n\n<p>At first I solved this via the <code>EventEmitter</code>. But since I had to provide a <code>logout</code> function for each new page, I wanted to solve this via one service per project. I pass the <code>PageService</code> (Project) with using the <code>forRoot()</code> method of Angular Component Library.</p>\n\n<p>Everything works as desired, but wanted to know if there is a better solution or if the solution is so recommendable at all?</p>\n\n<p>I have the following solution for this:</p>\n\n<p><strong>Components Lib - components.module.ts</strong></p>\n\n<pre><code>import {ModuleWithProviders, NgModule} from '@angular/core';\nimport {CommonModule} from '@angular/common';\nimport {RouterModule} from '@angular/router';\nimport {FontAwesomeModule} from '@fortawesome/angular-fontawesome';\n\n\nimport {NavbarComponent} from './layout/navbar/navbar.component';\nimport {PageComponent} from './layout/page/page.component';\nimport {PageHeaderComponent} from './components/page-header/page-header.component';\n// ... others ...\n\n@NgModule({\n  imports: [\n    CommonModule,\n    RouterModule,\n    FontAwesomeModule\n  ],\n  declarations: [\n    NavbarComponent,\n    PageComponent,\n    // ... others ...\n  ],\n  exports: [\n    NavbarComponent,\n    PageComponent,\n    // ... others ...\n  ]\n})\nexport class ComponentsModule {\n  static forRoot(pageService): ModuleWithProviders {\n    return {\n      ngModule: ComponentsModule,\n      providers: [\n        {provide: 'PageService', useClass: pageService}\n      ]\n    };\n  }\n}\n</code></pre>\n\n<p><strong>Component Lib - page.component.ts</strong></p>\n\n<pre><code>import {Component, EventEmitter, HostBinding, Inject, Input, Output} from '@angular/core';\nimport {AbstractPageService} from '../../services/abstract-page.service';\n\n@Component({\n  selector: 'dc-page',\n  templateUrl: './page.component.html',\n  styleUrls: ['./page.component.scss']\n})\nexport class PageComponent {\n\n  @HostBinding('class') styleClass = 'd-flex flex-column';\n\n  @Input() customStyleClass = null;\n\n  @Input() showLogoutButton = true;\n  // @Output() logoutButtonClick: EventEmitter&lt;any&gt; = new EventEmitter();\n\n  constructor(@Inject('PageService') protected pageService: AbstractPageService) {\n  }\n\n  logout(): void {\n    this.pageService.logout();\n  }\n}\n</code></pre>\n\n<p><strong>Component Lib - abstract-page.service.ts</strong></p>\n\n<pre><code>import {Injectable} from '@angular/core';\n\n@Injectable()\nexport abstract class AbstractPageService {\n\n  abstract logout(): void;\n\n}\n</code></pre>\n\n<hr>\n\n<p>And here the use in a project:</p>\n\n<p><strong>Project - app.module.ts</strong></p>\n\n<pre><code>import {BrowserModule} from '@angular/platform-browser';\nimport {NgModule} from '@angular/core';\n\nimport {AppComponent} from './app.component';\nimport {RouterModule, Routes} from '@angular/router';\nimport {FontAwesomeModule} from '@fortawesome/angular-fontawesome';\n\nimport {ComponentsModule} from 'components';\n\nconst appRoutes: Routes = [\n  {path: '', component: AppComponent},\n\n  // otherwise redirect to home\n  {path: '**', redirectTo: ''}\n];\n\n\n@NgModule({\n  declarations: [\n    AppComponent\n  ],\n  imports: [\n    BrowserModule,\n    FormsModule,\n    FontAwesomeModule,\n    RouterModule.forRoot(appRoutes),\n    ComponentsModule.forRoot(PageService),\n  ],\n  providers: [\n    // {provide: 'PageService', useClass: PageService}\n  ],\n  bootstrap: [AppComponent]\n})\nexport class AppModule {\n}\n</code></pre>\n\n<p><strong>Project - page.service.ts</strong></p>\n\n<pre><code>import {Injectable} from '@angular/core';\nimport {AbstractPageService} from '../../../projects/components/src/lib/services/abstract-page.service';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class PageService extends AbstractPageService {\n\n  constructor() {\n    super();\n  }\n\n  logout() {\n    console.log('Ausloggen!');\n  }\n}\n</code></pre>\n"}, {"tags": ["angular", "typescript", "angular-template"], "answers": [{"comments": [{"owner": {"reputation": 3301, "user_id": 3466235, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/NXA6S.jpg?s=128&g=1", "display_name": "Tanasos", "link": "https://stackoverflow.com/users/3466235/tanasos"}, "edited": false, "score": 0, "creation_date": 1534336562, "post_id": 51858805, "comment_id": 90669655, "body": "Yes, but that way it is always present. What I mean is, if the query is passed, show something."}, {"owner": {"reputation": 57402, "user_id": 5496973, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JH9iD.jpg?s=128&g=1", "display_name": "Suren Srapyan", "link": "https://stackoverflow.com/users/5496973/suren-srapyan"}, "reply_to_user": {"reputation": 3301, "user_id": 3466235, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/NXA6S.jpg?s=128&g=1", "display_name": "Tanasos", "link": "https://stackoverflow.com/users/3466235/tanasos"}, "edited": false, "score": 0, "creation_date": 1534336609, "post_id": 51858805, "comment_id": 90669690, "body": "No, if query param is not taken, <code>queryParam</code> will be <code>undefined</code> and the condition will result <code>false</code>"}, {"owner": {"reputation": 3301, "user_id": 3466235, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/NXA6S.jpg?s=128&g=1", "display_name": "Tanasos", "link": "https://stackoverflow.com/users/3466235/tanasos"}, "edited": false, "score": 0, "creation_date": 1534336718, "post_id": 51858805, "comment_id": 90669740, "body": "Sorry, I was refreshing with the query in the url. Thank You very much!"}], "tags": [], "owner": {"reputation": 57402, "user_id": 5496973, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JH9iD.jpg?s=128&g=1", "display_name": "Suren Srapyan", "link": "https://stackoverflow.com/users/5496973/suren-srapyan"}, "is_accepted": true, "score": 3, "last_activity_date": 1534336581, "last_edit_date": 1534336581, "creation_date": 1534336522, "answer_id": 51858805, "question_id": 51858784, "link": "https://stackoverflow.com/questions/51858784/angular-ngif-conditional-based-on-url-params/51858805#51858805", "title": "angular - *ngIf conditional based on url params", "body": "<p>You need to assign specific query param into a property and then use that property in the condition <code>*ngIf</code>.</p>\n\n<pre><code>queryParam;\n\nngOnInit() {\n    this.route.queryParams.subscribe(params =&gt; {\n        this.queryParam = params['yourParamName'];\n    });\n}\n</code></pre>\n\n<p>In the markup </p>\n\n<pre><code>&lt;div *ngIf=\"queryParam == 'yourCondition'\"&gt;&lt;/div&gt;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 567, "user_id": 4232022, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-HtnkkLRnh5w/AAAAAAAAAAI/AAAAAAAAABM/8HbeayRKCS0/photo.jpg?sz=128", "display_name": "Ishara Sandun", "link": "https://stackoverflow.com/users/4232022/ishara-sandun"}, "is_accepted": false, "score": 0, "last_activity_date": 1534337868, "creation_date": 1534337868, "answer_id": 51859173, "question_id": 51858784, "link": "https://stackoverflow.com/questions/51858784/angular-ngif-conditional-based-on-url-params/51859173#51859173", "title": "angular - *ngIf conditional based on url params", "body": "<p>in .ts file </p>\n\n<pre><code>private queryParams:string ='';\n\nngOnInit() {\n    this.route.queryParams.subscribe(params =&gt; {\n        this.queryParams= params['PARAMETER_NAME'];\n\n    });\n}\n</code></pre>\n\n<p>**For \"PARAMETER_NAME\" you can mention the name of the query parameter.\nFor example if route is \"/userId\" </p>\n\n<pre><code>this.queryParams= params['userId'];\n</code></pre>\n\n<p>in .html file </p>\n\n<pre><code>&lt;div *ngIf=\"queryParams.toLowerCase() === 'QUERY_NAME'.toLowerCase()\"&gt;&lt;/div&gt;\n</code></pre>\n\n<p>**For \"QUERY_NAME\" you can mention the intended query parameter string.\nFor example if intended string is \"userName\" </p>\n\n<pre><code> &lt;div *ngIf=\"queryParams.toLowerCase() === 'userName'.toLowerCase()\"&gt;&lt;/div&gt;\n</code></pre>\n"}], "owner": {"reputation": 3301, "user_id": 3466235, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/NXA6S.jpg?s=128&g=1", "display_name": "Tanasos", "link": "https://stackoverflow.com/users/3466235/tanasos"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2735, "favorite_count": 2, "accepted_answer_id": 51858805, "answer_count": 2, "score": 1, "last_activity_date": 1534337868, "creation_date": 1534336449, "last_edit_date": 1534336725, "question_id": 51858784, "link": "https://stackoverflow.com/questions/51858784/angular-ngif-conditional-based-on-url-params", "title": "angular - *ngIf conditional based on url params", "body": "<p>How can I show an element only if there are certain <code>queryParams</code> added to the url?</p>\n\n<p>e.g.</p>\n\n<pre><code>ngOnInit() {\n    this.route.queryParams.subscribe(params =&gt; {\n        console.log(params);\n    });\n}\n</code></pre>\n\n<p>And I want to do something like:</p>\n\n<pre><code>&lt;div *ngIf=\"queryParams = 'query_name'\"&gt;&lt;/div&gt;\n</code></pre>\n"}, {"tags": ["reactjs", "typescript", "typescript-typings", "dynamic-import"], "comments": [{"owner": {"reputation": 2071, "user_id": 7478530, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cGr5i.png?s=128&g=1", "display_name": "Dragonthoughts", "link": "https://stackoverflow.com/users/7478530/dragonthoughts"}, "edited": false, "score": 0, "creation_date": 1534337298, "post_id": 51858723, "comment_id": 90670074, "body": "Please include the actual code, rather than a picture of code, so that people can try to reproduce your problem without retyping it."}], "answers": [{"tags": [], "owner": {"reputation": 147776, "user_id": 3731501, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/e4783dfa8ec98c884e61d29f2192ac97?s=128&d=identicon&r=PG&f=1", "display_name": "Estus Flask", "link": "https://stackoverflow.com/users/3731501/estus-flask"}, "is_accepted": false, "score": 0, "last_activity_date": 1534338497, "last_edit_date": 1534338497, "creation_date": 1534337238, "answer_id": 51859003, "question_id": 51858723, "link": "https://stackoverflow.com/questions/51858723/react-typescript-dynamic-import-hoc-typings/51859003#51859003", "title": "React + Typescript + Dynamic import HOC typings", "body": "<p>Given <code>importComponent</code> is a <em>function</em> that returns a <em>promise</em> of a component, it is:</p>\n\n<pre><code>const withLazyLoading = (importComponent: () =&gt; Promise&lt;React.ComponentClass&gt;) =&gt; {\n...\n</code></pre>\n\n<p>It can be additionally typed as a generic if needed:</p>\n\n<pre><code>const withLazyLoading = &lt;T extends {}&gt;(importComponent: () =&gt; Promise&lt;React.ComponentClass&lt;T&gt;&gt;): React.ComponentClass&lt;T&gt; =&gt; {\n    return class extends React.Component&lt;T&gt; {\n    ...\n</code></pre>\n"}], "owner": {"reputation": 13, "user_id": 10229240, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-cVt6X_82MO0/AAAAAAAAAAI/AAAAAAAAG_s/HazrsPxJXbU/photo.jpg?sz=128", "display_name": "\u0418\u043b\u044c\u044f Book Nerd", "link": "https://stackoverflow.com/users/10229240/%d0%98%d0%bb%d1%8c%d1%8f-book-nerd"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 275, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1534338497, "creation_date": 1534336187, "last_edit_date": 1534337328, "question_id": 51858723, "link": "https://stackoverflow.com/questions/51858723/react-typescript-dynamic-import-hoc-typings", "title": "React + Typescript + Dynamic import HOC typings", "body": "<pre><code>import React from 'react'\nimport { Preloader } from 'src/base-components/preloader'\nimport styles from './styles.scss'\n\nconst withLazyLoading = (importComponent: any) =&gt; {\n    return class extends React.Component {\n        public state = {\n            component: null\n        }\n\n        public componentDidMount() {\n            importComponent()\n                .then((cmp) =&gt; {\n                    this.setState({ component: cmp.default })\n                })\n        }\n\n        public render() {\n            const Component = this.state.component\n            return Component\n                ? &lt;Component { ...this.props } /&gt;\n                : &lt;div className={ styles.box }&gt;&lt;Preloader show /&gt;&lt;/div&gt;\n        }\n    }\n}\n\nexport { withLazyLoading }\n</code></pre>\n\n<p>I'd like to add Types for:</p>\n\n<blockquote>\n  <p>importComponent: any <strong>&lt;= not to be any</strong></p>\n</blockquote>\n\n<p>Everything works Ok, but <code>any</code> causes an error:</p>\n\n<p><a href=\"https://i.stack.imgur.com/HlhDx.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/HlhDx.jpg\" alt=\"\"></a> </p>\n"}, {"tags": ["typescript"], "comments": [{"owner": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 0, "creation_date": 1534336501, "post_id": 51858692, "comment_id": 90669620, "body": "You could replace <code>TField</code> with <code>keyof TRow</code> in both places, then you only need to supply <code>TRow</code>. You would lose the specific type of <code>row[field]</code>, though."}, {"owner": {"reputation": 13257, "user_id": 616859, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/LVkS2.png?s=128&g=1", "display_name": "sroes", "link": "https://stackoverflow.com/users/616859/sroes"}, "reply_to_user": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 0, "creation_date": 1534336757, "post_id": 51858692, "comment_id": 90669765, "body": "Yeah, but I want to use <code>TField</code> in other properties of my column definition. The first parameter of the <code>formatter</code> for example."}], "answers": [{"comments": [{"owner": {"reputation": 13257, "user_id": 616859, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/LVkS2.png?s=128&g=1", "display_name": "sroes", "link": "https://stackoverflow.com/users/616859/sroes"}, "edited": false, "score": 1, "creation_date": 1534342235, "post_id": 51859916, "comment_id": 90672909, "body": "That&#39;s a smart trick, but not really the solution I was hoping for :-) Hopefully TypeScript will support partial type inference some day."}], "tags": [], "owner": {"reputation": 28847, "user_id": 43848, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/l6ogn.png?s=128&g=1", "display_name": "artem", "link": "https://stackoverflow.com/users/43848/artem"}, "is_accepted": true, "score": 4, "last_activity_date": 1534340600, "creation_date": 1534340600, "answer_id": 51859916, "question_id": 51858692, "link": "https://stackoverflow.com/questions/51858692/automatically-infer-second-generic-argument-from-first-one/51859916#51859916", "title": "Automatically infer second generic argument from first one", "body": "<blockquote>\n  <p>Now what I want is to only provide the type of the rows (TRow), and\n  let TypeScript automatically infer the type of the field (TField)\n  based on the value in the field property.</p>\n</blockquote>\n\n<p>This looks very similar to <a href=\"https://github.com/Microsoft/TypeScript/pull/23696\" rel=\"nofollow noreferrer\">partial type inference</a> which is not currently supported in typescript, and it's not clear if it will ever be supported for this particular use case.</p>\n\n<p>But there is one thing you can do - you can have one function that accepts explicit type parameter for <code>TRow</code>, and returns another function that will infer <code>TField</code> from its parameter. The syntax is a bit unwieldy, but it works:</p>\n\n<pre><code>function columnDefinition&lt;TRow&gt;(): \n   &lt;TField extends keyof TRow&gt;(def: IColumnDefinition&lt;TRow, TField&gt;) =&gt; \n        IColumnDefinition&lt;TRow, TField&gt; {\n    return  &lt;TField extends keyof TRow&gt;(def: IColumnDefinition&lt;TRow, TField&gt;) =&gt; def\n}\n\nexport interface IColumnDefinition&lt;TRow, TField extends keyof TRow&gt; {\n    field: TField;\n    label?: string;\n    formatter?: (value: TRow[TField], row: TRow) =&gt; string;\n}\n\ninterface User {\n    name: string;\n    birthDate: number;\n}\n</code></pre>\n\n<p>To use it, you call <code>columnDefinition&lt;User&gt;()</code> without any parameters, and then immediately call returned function with column definition object as parameter:</p>\n\n<pre><code>const birthDateColumnDefinition = columnDefinition&lt;User&gt;()({\n    field: 'birthDate',\n    formatter: value =&gt; new Date(value).toDateString(), \n            // value inferred as (parameter) value: number\n});\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 13257, "user_id": 616859, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/LVkS2.png?s=128&g=1", "display_name": "sroes", "link": "https://stackoverflow.com/users/616859/sroes"}, "is_accepted": false, "score": 1, "last_activity_date": 1534406288, "creation_date": 1534406288, "answer_id": 51872253, "question_id": 51858692, "link": "https://stackoverflow.com/questions/51858692/automatically-infer-second-generic-argument-from-first-one/51872253#51872253", "title": "Automatically infer second generic argument from first one", "body": "<p>I ended up using artem's answer to write a column definition builder class:</p>\n\n<pre><code>export class ColumnDefinitionBuilder&lt;TRow&gt; {\n\n  private _columns: Array&lt;IColumnDefinitionWithField&lt;TRow, any&gt;&gt; = [];\n\n  public define&lt;TValue&gt;(field: ((row: TRow) =&gt; TValue) | string, def: IColumnDefinition&lt;TRow, TValue&gt;)\n    : ColumnDefinitionBuilder&lt;TRow&gt; {\n    this._columns.push({...def, field});\n    return this;\n  }\n\n  public get columns() {\n    return this._columns;\n  }\n}\n</code></pre>\n\n<p>Which allows for the following syntax to define the columns:</p>\n\n<pre><code>const userColumnDefinitions = new ColumnDefinitionBuilder&lt;User&gt;()\n    .define(x =&gt; x.birthDate, {\n        label: 'Birth date',\n        formatter: x =&gt; new Date(x).toDateString(),\n    })\n    .define(x =&gt; x.name, {\n        label: 'Name',\n    })\n    .columns;\n</code></pre>\n"}], "owner": {"reputation": 13257, "user_id": 616859, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/LVkS2.png?s=128&g=1", "display_name": "sroes", "link": "https://stackoverflow.com/users/616859/sroes"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1558, "favorite_count": 1, "accepted_answer_id": 51859916, "answer_count": 2, "score": 4, "last_activity_date": 1534406288, "creation_date": 1534336068, "question_id": 51858692, "link": "https://stackoverflow.com/questions/51858692/automatically-infer-second-generic-argument-from-first-one", "title": "Automatically infer second generic argument from first one", "body": "<p>I have the following interface to define define a column of a table:</p>\n\n<pre><code>export interface IColumnDefinition&lt;TRow, TField extends keyof TRow&gt; {\n    field: TField;\n    label?: string;\n    formatter?: (value: TRow[TField], row: TRow) =&gt; string;\n}\n</code></pre>\n\n<p>Now what I want is to only provide the type of the rows (<code>TRow</code>), and let TypeScript automatically infer the type of the field (<code>TField</code>) based on the value in the <code>field</code> property.</p>\n\n<p>Now assume I have the following interface for my rows:</p>\n\n<pre><code>interface User {\n    name: string;\n    birthDate: number;\n}\n</code></pre>\n\n<p>What I tried is the following:</p>\n\n<pre><code>const birthDateColumnDefinition: IColumnDefinition&lt;User&gt; = {\n    field: 'birthDate',\n    formatter: value =&gt; new Date(value).toDateString(),\n}\n</code></pre>\n\n<p>Which gives me the following error:</p>\n\n<blockquote>\n  <p><strong>Generic type 'IColumnDefinition&lt;TRow, TField extends keyof TRow&gt;' requires 2 type argument(s).</strong></p>\n</blockquote>\n\n<p>What I also tried is to use a function to create the definition, hoping that the type can be inferred from an argument:</p>\n\n<pre><code>function createColumnDefinition&lt;TField extends keyof TRow&gt;(\n    field: TField,\n    columnDef: Partial&lt;IColumnDefinition&lt;TRow, TField&gt;&gt;): IColumnDefinition&lt;TRow, TField&gt;\n{\n    return {\n        ...columnDef,\n        field,\n    };\n}\n\nconst birthDateColumnDefinition = createColumnDefinition&lt;User&gt;('birthDate', {\n    formatter: (value, row) =&gt; new Date(value).toDateString(),\n});\n</code></pre>\n\n<p>This gives me a comparable error:</p>\n\n<blockquote>\n  <p><strong>Excepted 2 type arguments, but got 1.</strong></p>\n</blockquote>\n\n<p>If however I would also include the row as an argument, and remove all the generic arguments all together, it works fine:</p>\n\n<pre><code>function createColumnDefinition&lt;TRow, TField extends keyof TRow&gt;(\n    row: TRow,\n    field: TField,\n    columnDef: Partial&lt;IColumnDefinition&lt;TRow, TField&gt;&gt;): IColumnDefinition&lt;TRow, TField&gt;\n{\n    return {\n        ...columnDef,\n        field,\n    };\n}\n\nconst user: User = {\n    name: 'John Doe',\n    birthDate: 549064800000,\n};\n\nconst birthDateColumnDefinition = createColumnDefinition(user, 'birthDate', {\n    formatter: (value, row) =&gt; new Date(value).toDateString(),\n});\n</code></pre>\n\n<p>This does work, but this isn't an option since I don't actually have a row when defining the columns.</p>\n\n<p>So is there any way to make this work (preferably by using an interface and not a function)?</p>\n"}, {"tags": ["javascript", "typescript", "knockout.js", "knockout-2.0"], "answers": [{"tags": [], "owner": {"reputation": 3411, "user_id": 1932379, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/96c2b1a992178ce12964cc6e3d3623c0?s=128&d=identicon&r=PG", "display_name": "Rainer Plumer", "link": "https://stackoverflow.com/users/1932379/rainer-plumer"}, "is_accepted": false, "score": 1, "last_activity_date": 1534335538, "creation_date": 1534335538, "answer_id": 51858576, "question_id": 51858432, "link": "https://stackoverflow.com/questions/51858432/why-has-this-bound-knockout-element-become-undefined/51858576#51858576", "title": "Why has this bound knockout element become undefined?", "body": "<p>I dont have a knockout/typescript setup at hand to try this out, but i will take a guess and say that \"this\" has lost its reference to the parent class in the function.</p>\n\n<p>If you look at an example on knockout home page, you can see that they use \"self\" variable to store \"this\" reference. Maybe the template doesnt call the function with correct \"this\" value. Use console.log to see what \"this\" value is.</p>\n\n<pre><code>&lt;ul data-bind=\"foreach: places\"&gt;\n    &lt;li&gt;\n        &lt;span data-bind=\"text: $data\"&gt;&lt;/span&gt;\n        &lt;button data-bind=\"click: $parent.removePlace\"&gt;Remove&lt;/button&gt;\n    &lt;/li&gt;\n&lt;/ul&gt;\n\n &lt;script type=\"text/javascript\"&gt;\n     function MyViewModel() {\n         var self = this;\n         self.places = ko.observableArray(['London', 'Paris', 'Tokyo']);\n\n         // The current item will be passed as the first parameter, so we know which place to remove\n         self.removePlace = function(place) {\n             self.places.remove(place)\n         }\n     }\n     ko.applyBindings(new MyViewModel());\n&lt;/script&gt;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 13257, "user_id": 616859, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/LVkS2.png?s=128&g=1", "display_name": "sroes", "link": "https://stackoverflow.com/users/616859/sroes"}, "is_accepted": true, "score": 1, "last_activity_date": 1534339248, "creation_date": 1534339248, "answer_id": 51859528, "question_id": 51858432, "link": "https://stackoverflow.com/questions/51858432/why-has-this-bound-knockout-element-become-undefined/51859528#51859528", "title": "Why has this bound knockout element become undefined?", "body": "<p>If you reference a function in your view model that way, <code>this</code> will be overriden by Knockout.</p>\n\n<p>You can define the functions in your view model as arrow functions. This way, <code>this</code> will keep referencing the view model class.</p>\n\n<p>So you can change:</p>\n\n<pre><code>removeVehicle(vehicle): void {\n    this.vehicles.remove(vehicle);\n}\n</code></pre>\n\n<p>To:</p>\n\n<pre><code>removeVehicle = (vehicle) =&gt; {\n    this.vehicles.remove(vehicle);\n}\n</code></pre>\n"}], "owner": {"reputation": 8763, "user_id": 271907, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/525689ce2b6388ca2c525c89121a6ecd?s=128&d=identicon&r=PG", "display_name": "Bob Tway", "link": "https://stackoverflow.com/users/271907/bob-tway"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 566, "favorite_count": 0, "accepted_answer_id": 51859528, "answer_count": 2, "score": 0, "last_activity_date": 1534339248, "creation_date": 1534334919, "question_id": 51858432, "link": "https://stackoverflow.com/questions/51858432/why-has-this-bound-knockout-element-become-undefined", "title": "Why has this bound knockout element become undefined?", "body": "<p>Building a page using TypeScript and Knockout. When the page loads, the viewmodel creates and assigns a value to a \"vehicles\" array of objects.</p>\n\n<pre><code>vehicles: KnockoutObservableArray&lt;Vehicle&gt;;\n\nconstructor() {\n    // uses and API to fetch data into a \"vehicleData\" array\n    this.vehicles = ko.observableArray(vehicleData);\n}\n</code></pre>\n\n<p>And in the page itself this is bound to an element which includes a \"remove\" button:</p>\n\n<pre><code>&lt;div data-bind=\"foreach: vehicles\"&gt;\n    &lt;div data-bind=\"text: model\"&gt;&lt;/div&gt;\n    &lt;button data-bind=\"click: $parent.removeVehicle\"&gt;Remove&lt;/button&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>This is all fine. What I don't understand is what happens when removeVehicles in invoked. Here it is:</p>\n\n<pre><code>removeVehicle(vehicle): void {\n    this.vehicles.remove(vehicle);\n}\n</code></pre>\n\n<p>It passes in the parameter as expected, but when it tries to remove, it claims that \"vehicles\" no longer exists.</p>\n\n<pre><code>Uncaught TypeError: Cannot read property 'remove' of undefined\n    at Object.VehicleManagementViewModel.removeVehicle\n    at HTMLButtonElement.&lt;anonymous&gt; (knockout-latest.js:99)\n</code></pre>\n\n<p>What's caused the array to become undefined? How can it be undefined, when the HTML element is bound to it correctly? </p>\n"}, {"tags": ["html", "angular", "typescript", "angular6"], "comments": [{"owner": {"reputation": 11587, "user_id": 2651006, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/21db98493eb83498d8d0443c3fa3134f?s=128&d=identicon&r=PG", "display_name": "Ploppy", "link": "https://stackoverflow.com/users/2651006/ploppy"}, "edited": false, "score": 0, "creation_date": 1534333412, "post_id": 51858031, "comment_id": 90668151, "body": "You can <code>.filter()</code> your array to only get the desired items."}], "answers": [{"tags": [], "owner": {"reputation": 4141, "user_id": 3151567, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/w2uaa.jpg?s=128&g=1", "display_name": "Abderrahim Soubai-Elidrisi", "link": "https://stackoverflow.com/users/3151567/abderrahim-soubai-elidrisi"}, "is_accepted": false, "score": 0, "last_activity_date": 1534333998, "creation_date": 1534333998, "answer_id": 51858188, "question_id": 51858031, "link": "https://stackoverflow.com/questions/51858031/typescript-show-records-only-for-todays-date/51858188#51858188", "title": "Typescript- show records only for todays date", "body": "<pre><code>this.timeRecords = time.filter(t =&gt; t.getTime() == Date.now().getTime() );\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 10138517, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/68471cc9ac054063f9421602bdfdfc2c?s=128&d=identicon&r=PG&f=1", "display_name": "Martin", "link": "https://stackoverflow.com/users/10138517/martin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 32, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1534333998, "creation_date": 1534333310, "question_id": 51858031, "link": "https://stackoverflow.com/questions/51858031/typescript-show-records-only-for-todays-date", "title": "Typescript- show records only for todays date", "body": "<p>simple question: How do I show a list of records that have todays date?\nmy HTML:\n<div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;table class='table hovertable'&gt;\r\n        &lt;tbody class=\"mytable\"&gt;\r\n          &lt;tr *ngFor=\"let timeRecord of timeRecords\"&gt;\r\n            &lt;th&gt;\r\n              {{timeRecord.date | date:'dd.\\u00A0'}}{{timeRecord.date | date:'MMMM' | convertToSlovakMonthsPipe}}\r\n            &lt;/th&gt;\r\n            &lt;td&gt;\r\n              {{timeRecord.duration}}&amp;nbsp;h\r\n            &lt;/td&gt;\r\n            &lt;td&gt;\r\n              {{timeRecord.allocation}}\r\n            &lt;/td&gt;\r\n            &lt;td&gt;\r\n              {{timeRecord.comment}}\r\n            &lt;/td&gt;\r\n          &lt;/tr&gt;\r\n        &lt;/tbody&gt;\r\n      &lt;/table&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>and my typescript that gets all records: </p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>getTimeRecords() {\r\n    this.timeRecordService.getTimeRecords()\r\n      .subscribe(\r\n        (time: ITimeRecord[]) =&gt; {\r\n          this.timeRecords = time;\r\n        }\r\n      )\r\n  }</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": ["javascript", "typescript", "tslint", "prettier"], "answers": [{"comments": [{"owner": {"reputation": 1347, "user_id": 8052052, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/LeaWG.png?s=128&g=1", "display_name": "Taichi", "link": "https://stackoverflow.com/users/8052052/taichi"}, "edited": false, "score": 0, "creation_date": 1534335742, "post_id": 51858350, "comment_id": 90669245, "body": "Thank you! but it says like this <a href=\"https://github.com/ikatyang/tslint-plugin-prettier#usage\" rel=\"nofollow noreferrer\">github.com/ikatyang/tslint-plugin-prettier#usage</a> , and I use tslint 5.10.0, my configs seem okay."}, {"owner": {"reputation": 1347, "user_id": 8052052, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/LeaWG.png?s=128&g=1", "display_name": "Taichi", "link": "https://stackoverflow.com/users/8052052/taichi"}, "edited": false, "score": 0, "creation_date": 1534335791, "post_id": 51858350, "comment_id": 90669276, "body": "So in your environment, does the code like in my question is formatted to new lined?"}, {"owner": {"reputation": 1115, "user_id": 5484330, "user_type": "registered", "profile_image": "https://graph.facebook.com/1026433120711066/picture?type=large", "display_name": "Kacper Wiszczuk", "link": "https://stackoverflow.com/users/5484330/kacper-wiszczuk"}, "reply_to_user": {"reputation": 1347, "user_id": 8052052, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/LeaWG.png?s=128&g=1", "display_name": "Taichi", "link": "https://stackoverflow.com/users/8052052/taichi"}, "edited": false, "score": 0, "creation_date": 1534336749, "post_id": 51858350, "comment_id": 90669760, "body": "I have changed my configs to use <code>rulesDirectory</code> and it works fine. So it must be different part of your config that is wrong."}, {"owner": {"reputation": 1347, "user_id": 8052052, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/LeaWG.png?s=128&g=1", "display_name": "Taichi", "link": "https://stackoverflow.com/users/8052052/taichi"}, "edited": false, "score": 0, "creation_date": 1534336905, "post_id": 51858350, "comment_id": 90669845, "body": "Thank you for that information. My <code>tslint-config-prettier-check .&#47;tslint.json</code> says max-line-length is conflicted, how about yours?"}, {"owner": {"reputation": 1115, "user_id": 5484330, "user_type": "registered", "profile_image": "https://graph.facebook.com/1026433120711066/picture?type=large", "display_name": "Kacper Wiszczuk", "link": "https://stackoverflow.com/users/5484330/kacper-wiszczuk"}, "reply_to_user": {"reputation": 1347, "user_id": 8052052, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/LeaWG.png?s=128&g=1", "display_name": "Taichi", "link": "https://stackoverflow.com/users/8052052/taichi"}, "edited": false, "score": 0, "creation_date": 1534336956, "post_id": 51858350, "comment_id": 90669874, "body": "yes. That is the problem. I ll edit my post for answer"}, {"owner": {"reputation": 1115, "user_id": 5484330, "user_type": "registered", "profile_image": "https://graph.facebook.com/1026433120711066/picture?type=large", "display_name": "Kacper Wiszczuk", "link": "https://stackoverflow.com/users/5484330/kacper-wiszczuk"}, "reply_to_user": {"reputation": 1347, "user_id": 8052052, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/LeaWG.png?s=128&g=1", "display_name": "Taichi", "link": "https://stackoverflow.com/users/8052052/taichi"}, "edited": false, "score": 0, "creation_date": 1534337260, "post_id": 51858350, "comment_id": 90670056, "body": "Let us <a href=\"https://chat.stackoverflow.com/rooms/178076/discussion-between-kacper-wiszczuk-and-taichi\">continue this discussion in chat</a>."}], "tags": [], "owner": {"reputation": 1115, "user_id": 5484330, "user_type": "registered", "profile_image": "https://graph.facebook.com/1026433120711066/picture?type=large", "display_name": "Kacper Wiszczuk", "link": "https://stackoverflow.com/users/5484330/kacper-wiszczuk"}, "is_accepted": false, "score": 8, "last_activity_date": 1534337253, "last_edit_date": 1534337253, "creation_date": 1534334611, "answer_id": 51858350, "question_id": 51857822, "link": "https://stackoverflow.com/questions/51857822/how-to-fix-prettier-and-tslint-error-with-brackets-with-single-props/51858350#51858350", "title": "How to fix prettier and tslint error with brackets with single props?", "body": "<p>Error in your config comes from <code>\"max-line-length\": [true, 80]</code>. It conflicts with prettier rules. If you want to set <code>max-line</code> you should do it in <code>.prettierc</code> file -> <code>\"printWidth\": 80</code>.</p>\n\n<p><a href=\"https://github.com/alexjoverm/tslint-config-prettier\" rel=\"noreferrer\">tslint-config-prettier</a> - this config disables all the rules from <code>tslint</code> that conflicts with <code>prettier</code> (So in your case, this plugin disabled <code>max-line</code> from <code>tslint</code>, but then you set it manually in <code>rules</code> section)</p>\n\n<p><a href=\"https://github.com/ikatyang/tslint-plugin-prettier\" rel=\"noreferrer\">tslint-plugin-prettier</a> - this plugin runs prettier rules as <code>tslint</code> rules. In addition you need to enable this in <code>rule</code> section of your <code>tslint.json</code>.</p>\n\n<p>Taking all of that into consideration your configuration should look more or less like this:</p>\n\n<pre><code>// With tslint@5.0.0+\n{\n  \"extends\": [\n    \"tslint-config-airbnb\",\n    \"tslint-config-prettier\",\n    \"tslint-plugin-prettier\"\n  ],\n  \"rules\": {\n    \"prettier\": true\n  }\n}\n\n// With tslint@5.2.0+\n{\n  \"extends\": [\n    \"tslint-config-airbnb\",\n    \"tslint-config-prettier\",\n    \"tslint-plugin-prettier\"\n  ],\n  \"rules\": {\n    \"prettier\": true\n  },\n  \"rulesDirectory\": [\n    \"tslint-plugin-prettier\"\n  ]\n}\n</code></pre>\n"}], "owner": {"reputation": 1347, "user_id": 8052052, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/LeaWG.png?s=128&g=1", "display_name": "Taichi", "link": "https://stackoverflow.com/users/8052052/taichi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 5434, "favorite_count": 2, "answer_count": 1, "score": 2, "last_activity_date": 1534337253, "creation_date": 1534332464, "question_id": 51857822, "link": "https://stackoverflow.com/questions/51857822/how-to-fix-prettier-and-tslint-error-with-brackets-with-single-props", "title": "How to fix prettier and tslint error with brackets with single props?", "body": "<p>I use prettier and tslint, with <a href=\"https://github.com/alexjoverm/tslint-config-prettier\" rel=\"nofollow noreferrer\">https://github.com/alexjoverm/tslint-config-prettier</a> and <a href=\"https://github.com/ikatyang/tslint-plugin-prettier\" rel=\"nofollow noreferrer\">https://github.com/ikatyang/tslint-plugin-prettier</a> .</p>\n\n<p>My <code>tslint.json</code> is like</p>\n\n<pre><code>{\n  \"defaultSeverity\": \"error\",\n  \"extends\": [\n    \"tslint-config-airbnb\",\n    \"tslint-react\",\n    \"tslint-config-prettier\"\n  ],\n  \"jsRules\": {},\n  \"rules\": {\n    \"max-line-length\": [true, 80],\n    \"import-name\": false,\n    \"variable-name\": false,\n    \"jsx-boolean-value\": false,\n    \"jsx-no-multiline-js\": false,\n    \"no-else-after-return\": false,\n    \"object-shorthand-properties-first\": false,\n    \"ter-arrow-parens\": false,\n    \"ter-indent\": false,\n    \"prettier\": true\n  },\n  \"rulesDirectory\": [\"tslint-plugin-prettier\"]\n}\n</code></pre>\n\n<p>And my <code>.prettierrc</code> is like</p>\n\n<pre><code>{\n  \"trailingComma\": \"all\",\n  \"singleQuote\": true\n}\n</code></pre>\n\n<p>After <code>tslint --fix \"src/**/*.ts\"</code>, codes like below appears:</p>\n\n<pre><code>import { getChildrenProceduresSelector } from '@src/entities/procedures/selectors';\n</code></pre>\n\n<p>And the error says <code>[tslint] Exceeds maximum line length of 80 (max-line-length)</code> .</p>\n\n<p>But when I fix it manually to </p>\n\n<pre><code>import {\n  getChildrenProceduresSelector,\n} from '@src/entities/procedures/selectors';\n</code></pre>\n\n<p>It says</p>\n\n<pre><code>[tslint] Replace `\u23ce\u00b7\u00b7getChildrenProceduresSelector,\u23ce` with `\u00b7getChildrenProceduresSelector\u00b7` (prettier)\n</code></pre>\n\n<p>I use VSCode with tslint and prettier extensions.\nMy tslint command says the same error.\nHow to fix this conflicts?</p>\n"}, {"tags": ["javascript", "angular", "typescript", "asynchronous", "rxjs"], "answers": [{"comments": [{"owner": {"reputation": 4766, "user_id": 4957388, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/KUNhv.jpg?s=128&g=1", "display_name": "firasKoubaa", "link": "https://stackoverflow.com/users/4957388/firaskoubaa"}, "edited": false, "score": 0, "creation_date": 1534332304, "post_id": 51857758, "comment_id": 90667670, "body": "i ve already noticed that i won&#39;t do it that way : as my call of method may be in several places and within other methods"}, {"owner": {"reputation": 22135, "user_id": 2079900, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/3dv63.jpg?s=128&g=1", "display_name": "Amit Chigadani", "link": "https://stackoverflow.com/users/2079900/amit-chigadani"}, "reply_to_user": {"reputation": 4766, "user_id": 4957388, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/KUNhv.jpg?s=128&g=1", "display_name": "firasKoubaa", "link": "https://stackoverflow.com/users/4957388/firaskoubaa"}, "edited": false, "score": 0, "creation_date": 1534333111, "post_id": 51857758, "comment_id": 90668019, "body": "Well at least the first call inside <code>ngOnInIt()</code> should be this way as shown. So you will have the value of <code>permittedPefs</code> by that time. Later you can call the method <code>this.myMethod(1)</code> from other places as you wish."}], "tags": [], "owner": {"reputation": 22135, "user_id": 2079900, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/3dv63.jpg?s=128&g=1", "display_name": "Amit Chigadani", "link": "https://stackoverflow.com/users/2079900/amit-chigadani"}, "is_accepted": false, "score": 0, "last_activity_date": 1534334255, "last_edit_date": 1534334255, "creation_date": 1534332195, "answer_id": 51857758, "question_id": 51857706, "link": "https://stackoverflow.com/questions/51857706/angular-how-to-handle-the-async-set-of-a-variable/51857758#51857758", "title": "Angular : How to handle the async set of a variable", "body": "<p>Call the method <code>this.myMethod(1);</code> from <code>subscription</code> block, so that you wait for asynchronous call to be completed, which will then set the value of <code>permittedPefs</code>.</p>\n\n<pre><code>ngOnInit() {\n      // STEP 1\n      this.loadUserPefsService.getUserRolePefs(roleId).subscribe(\n          (returnedListPefs) =&gt; {\n            this.permittedPefs = returnedListPefs;\n           // STEP 2\n           this.myMethod(1);  // check this line\n          },\n          error =&gt; {\n            console.log(error);\n          });\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 4141, "user_id": 3151567, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/w2uaa.jpg?s=128&g=1", "display_name": "Abderrahim Soubai-Elidrisi", "link": "https://stackoverflow.com/users/3151567/abderrahim-soubai-elidrisi"}, "is_accepted": true, "score": 0, "last_activity_date": 1534332459, "creation_date": 1534332459, "answer_id": 51857819, "question_id": 51857706, "link": "https://stackoverflow.com/questions/51857706/angular-how-to-handle-the-async-set-of-a-variable/51857819#51857819", "title": "Angular : How to handle the async set of a variable", "body": "<p>Asynchronous Hell ! the best choice here is to get an <code>Observable</code> instead of a value</p>\n\n<p>in your service :</p>\n\n<pre><code>getValue (): Observable&lt;any&gt;{\n\nreturn this.loadUserPefsService.getUserRolePefs(roleId);\n\n}\n</code></pre>\n\n<p>in your method : </p>\n\n<pre><code> myMethod(pefId): boolean {\n\n       this.yourservice.getValue().subscribe(\n       data =&gt; {\n\n         if(data){\n            return data.includes(pefId);\n             }\n\n        });\n\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1064, "user_id": 7448025, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b840f3fdf13febcfcee463d6dec039c9?s=128&d=identicon&r=PG", "display_name": "Moein Hosseini", "link": "https://stackoverflow.com/users/7448025/moein-hosseini"}, "is_accepted": false, "score": 0, "last_activity_date": 1534332652, "creation_date": 1534332652, "answer_id": 51857865, "question_id": 51857706, "link": "https://stackoverflow.com/questions/51857706/angular-how-to-handle-the-async-set-of-a-variable/51857865#51857865", "title": "Angular : How to handle the async set of a variable", "body": "<p>This happens because your method is called when you have not received the result yet. so  just move the function call in subscribe function</p>\n"}], "owner": {"reputation": 4766, "user_id": 4957388, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/KUNhv.jpg?s=128&g=1", "display_name": "firasKoubaa", "link": "https://stackoverflow.com/users/4957388/firaskoubaa"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 984, "favorite_count": 0, "accepted_answer_id": 51857819, "answer_count": 3, "score": -1, "last_activity_date": 1534334255, "creation_date": 1534331957, "question_id": 51857706, "link": "https://stackoverflow.com/questions/51857706/angular-how-to-handle-the-async-set-of-a-variable", "title": "Angular : How to handle the async set of a variable", "body": "<p>Under my <strong>Angular 6</strong> app , i have this service ; where i'm declaring a varibale called <strong>permittedPefs</strong> , this variable is setted asychronsouly within a <code>httpClient.get</code> call.</p>\n\n<pre><code>@Injectable()\n    export class myService implements OnInit {\n\n      permittedPefs = [];\n      constructor(){}\n\n      ngOnInit() {\n      // STEP 1\n      this.loadUserPefsService.getUserRolePefs(roleId).subscribe(\n          (returnedListPefs) =&gt; {\n            this.permittedPefs = returnedListPefs;\n          },\n          error =&gt; {\n            console.log(error);\n          });\n      }\n      // STEP 2\n      this.myMethod(1);\n</code></pre>\n\n<p>After that , i ve a call of this method which is using my <strong>-supposed setted -</strong> var</p>\n\n<pre><code>myMethod(pefId): boolean {\n        return this.permittedPefs.includes(pefId);\n}\n</code></pre>\n\n<p>the problem is it seems that <strong>permittedPefs</strong> , haven't got its value yet , and the call of <code>myMethod()</code> point to a wrong value of \"<strong>permittedPefs</strong>\"</p>\n\n<p>So what's the simpliest way <strong>to make it wait to the just after the http response</strong> , without calling if from the http Response callback <em>(as i 'm using it in several places)</em> </p>\n\n<p><strong><em>Sugesstions??</em></strong></p>\n"}, {"tags": ["typescript", "vue.js"], "answers": [{"tags": [], "owner": {"reputation": 13257, "user_id": 616859, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/LVkS2.png?s=128&g=1", "display_name": "sroes", "link": "https://stackoverflow.com/users/616859/sroes"}, "is_accepted": false, "score": 2, "last_activity_date": 1534422142, "creation_date": 1534422142, "answer_id": 51876977, "question_id": 51857630, "link": "https://stackoverflow.com/questions/51857630/vue-property-decorator-how-to-modify-the-parameters-of-emit/51876977#51876977", "title": "vue-property-decorator: How to modify the parameters of @Emit", "body": "<p>You could probably do something like this:</p>\n\n<pre><code>@Component\nexport default class YourComponent extends Vue {\n    date: Date\n\n    get timestamp() {\n        if (this.date) {\n            return this.date.getTime();\n        }\n    }\n\n    startChange(date: Date) {\n        this.date = date\n    }\n\n    @Watch('timestamp')\n    @Emit('timestampChange')\n    onTimestampChanged(timestamp: number) {\n    }\n}\n</code></pre>\n\n<p>Alternatively:</p>\n\n<pre><code>@Component\nexport default class YourComponent extends Vue {\n    timestamp: number\n\n    startChangeByDate(date: Date) {\n        this.startChangeByTimestamp(date.getTime())\n    }\n\n    @Emit('timestampChange')\n    startChangeByTimestamp(timestamp: number) {\n        this.timestamp= timestamp\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 11, "user_id": 9617114, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "\u6768\u4e9a\u6d32", "link": "https://stackoverflow.com/users/9617114/%e6%9d%a8%e4%ba%9a%e6%b4%b2"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2781, "favorite_count": 1, "answer_count": 1, "score": 1, "last_activity_date": 1534422142, "creation_date": 1534331622, "last_edit_date": 1534338678, "question_id": 51857630, "link": "https://stackoverflow.com/questions/51857630/vue-property-decorator-how-to-modify-the-parameters-of-emit", "title": "vue-property-decorator: How to modify the parameters of @Emit", "body": "<p>When I saw <code>@Emit</code>, I saw the example on GitHub.</p>\n\n<pre><code>import { Vue, Component, Emit } from 'vue-property-decorator'\n   @Component\n   export default class YourComponent extends Vue {\n      count = 0\n      @Emit()\n      addToCount(n: number) {\n         this.count += n\n      }\n   }\n</code></pre>\n\n<p>is equivalent to</p>\n\n<pre><code>export default {\n  data() {\n    return {\n      count: 0\n    }\n  },\n  methods: {\n    addToCount(n) {\n      this.count += n\n      this.$emit('add-to-count', n)\n    }\n  }\n}\n</code></pre>\n\n<p><strong>Problem:</strong></p>\n\n<p>I want to know how to modify this parameter <code>n</code>.\nI use return statement but it doesn't work.</p>\n\n<pre><code>@Emit()\n  startChange(num:any){\n}\n</code></pre>\n\n<p>The type of the <code>num</code> parameter is <code>Date</code>.\nI want to transform it into <code>timestamp</code> and pass it on to the parent component.\nHow do you do it?</p>\n"}, {"tags": ["json", "node.js", "angular", "typescript"], "answers": [{"tags": [], "owner": {"reputation": 38, "user_id": 2482417, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/i0sE2.png?s=128&g=1", "display_name": "Roelof Jan Elsinga", "link": "https://stackoverflow.com/users/2482417/roelof-jan-elsinga"}, "is_accepted": true, "score": 0, "last_activity_date": 1534332819, "creation_date": 1534332819, "answer_id": 51857902, "question_id": 51857412, "link": "https://stackoverflow.com/questions/51857412/extracting-data-from-json-file/51857902#51857902", "title": "extracting data from Json file", "body": "<p>So assuming \"data\" is a string (because you say console.log(data) equals the given output), you could do something like:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>// This will be the data variable you already have\r\nconst data = `Query Result: {\"TradeId\":\"FTE_2\",\"BuyerTaxId\":\"ABC Firm\",\"Skuid\":\"SKU001\",\"SellerTaxId\":\"CDE Firm\",\"ExportBankId\":\"\",\"ImportBankId\":\"\",\"DeliveryDate\":\"\",\"ShipperId\":\"\",\"Status\":\"Trade initiated\",\"TradePrice\":10000,\"ShippingPrice\":1000}`;\r\n\r\n// Replace the prefixed string from the JSON string\r\nconst jsonString = data.replace(\"Query Result: \", \"\");\r\n\r\n// Parse the json string into a json object\r\nconst jsonObject = JSON.parse(jsonString);\r\n\r\n// At last, you can simply get the TradeId from your JSON object\r\nconst tradeId = jsonObject.TradeId;\r\n\r\nconsole.log(tradeId); //results in: FTE_2</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 11, "user_id": 10123155, "user_type": "registered", "profile_image": "https://graph.facebook.com/1816022662027974/picture?type=large", "display_name": "Nadhem Zmandar", "link": "https://stackoverflow.com/users/10123155/nadhem-zmandar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1714, "favorite_count": 0, "accepted_answer_id": 51857902, "answer_count": 1, "score": -2, "last_activity_date": 1534332819, "creation_date": 1534330636, "last_edit_date": 1534331163, "question_id": 51857412, "link": "https://stackoverflow.com/questions/51857412/extracting-data-from-json-file", "title": "extracting data from Json file", "body": "<p>I am using a child process to execute a script and I have this result in stdout. Using res.json(stdout) to send this output to the variable data in app.component. How can I extract data from this output using data.TradeId for example knowing that the variable data is an object.\nConsole.log(data)</p>\n\n<blockquote>\n  <p>Query Result: {\"TradeId\":\"FTE_2\",\"BuyerTaxId\":\"ABC\n  Firm\",\"Skuid\":\"SKU001\",\"SellerTaxId\":\"CDE\n  Firm\",\"ExportBankId\":\"\",\"ImportBankId\":\"\",\"DeliveryDate\":\"\",\"ShipperId\":\"\",\"Status\":\"Trade\n  initiated\",\"TradePrice\":10000,\"ShippingPrice\":1000}</p>\n</blockquote>\n"}, {"tags": ["typescript", "types"], "answers": [{"comments": [{"owner": {"reputation": 646, "user_id": 1743162, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/fe3dcced79aeb1941c180b9c5513dfd9?s=128&d=identicon&r=PG", "display_name": "robjtede", "link": "https://stackoverflow.com/users/1743162/robjtede"}, "edited": false, "score": 0, "creation_date": 1534345741, "post_id": 51861160, "comment_id": 90675016, "body": "Shall try out soon but for now, +1 for <code>as any as U</code>."}], "tags": [], "owner": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "is_accepted": false, "score": 2, "last_activity_date": 1534344920, "creation_date": 1534344920, "answer_id": 51861160, "question_id": 51857345, "link": "https://stackoverflow.com/questions/51857345/typescript-infer-lookup-type-for-function-parameter-within-object/51861160#51861160", "title": "Typescript: Infer lookup type for function parameter within object", "body": "<p>I think your main problem is that you probably don't want <code>customRender</code> to be a generic function.  It shouldn't be that any <code>customRender</code> can take a <code>T[U]</code> for <em>any</em> <code>U</code>, but that each <code>customRender</code> expects a <em>particular</em> <code>U</code>.  After all, <code>(targetData, row) =&gt; fnThatOnlyTakesStrings(targetData)</code> seems to expect that <code>targetData</code> is a <code>string</code>, which only works for some <em>particular</em> key, right?</p>\n\n<p>So I think you really want <code>ColumnDef</code> to be generic in both <code>T</code> and <code>U</code>, like this:</p>\n\n<pre><code>interface ColumnDef&lt;T, U extends keyof T&gt; {\n  key?: U\n  customRender?: (\n    targetData: T[U],\n    rowData: T\n  ) =&gt; string | JSX.Element\n}\n</code></pre>\n\n<p>This ends up needing to propagate out to other things that refer to <code>ColumnDef</code>:</p>\n\n<pre><code>interface Props&lt;T, U extends keyof T&gt; {\n  data: T[] | null | undefined\n  schema: ColumnDef&lt;T, U&gt;[]\n}\n\nclass PagedTable&lt;T, U extends keyof T&gt; extends React.Component&lt;Props&lt;T, U&gt;, any&gt; {\n  renderCell(datum: T, cd: ColumnDef&lt;T, U&gt;) {\n    if (cd.customRender) {\n      return cd.customRender(datum[cd.key! as any as U], datum)\n    } else {\n      return datum[cd.key!]\n    }\n  }\n}\n</code></pre>\n\n<p>(I'm not sure if the changes I made to <code>renderCell</code> are necessary or if it behaves as desired, but I got errors having to do with number of arguments and I fixed it until it didn't complain.  You should alter it to suit your needs).</p>\n\n<hr>\n\n<p>Hope that helps.  Good luck.    </p>\n"}, {"comments": [{"owner": {"reputation": 646, "user_id": 1743162, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/fe3dcced79aeb1941c180b9c5513dfd9?s=128&d=identicon&r=PG", "display_name": "robjtede", "link": "https://stackoverflow.com/users/1743162/robjtede"}, "edited": false, "score": 0, "creation_date": 1534345704, "post_id": 51861273, "comment_id": 90674995, "body": "Shall try out soon but for now, +1 for demonstrating how to specify the type on a JSX component."}], "tags": [], "owner": {"reputation": 22363, "user_id": 4468617, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a09c08e1ae93a83e9102b6715fc75b4c?s=128&d=identicon&r=PG", "display_name": "Matt McCutchen", "link": "https://stackoverflow.com/users/4468617/matt-mccutchen"}, "is_accepted": false, "score": 1, "last_activity_date": 1534345290, "creation_date": 1534345290, "answer_id": 51861273, "question_id": 51857345, "link": "https://stackoverflow.com/questions/51857345/typescript-infer-lookup-type-for-function-parameter-within-object/51861273#51861273", "title": "Typescript: Infer lookup type for function parameter within object", "body": "<p>If I'm understanding this correctly, the tricky aspect is that <code>schema</code> can have multiple <code>ColumnDef</code>s of different types, and the key of <em>each</em> <code>ColumnDef</code> needs to correspond to its <code>customRender</code> function.  In order for TypeScript to infer and enforce a different type for each <code>ColumnDef</code>, you'll need to wrap each <code>ColumnDef</code> in a function call.  Then I found that I needed to explicitly specify <code>T</code> in order for the inference to work; hopefully that won't be a hassle because I assume in a real application you already have type definitions for <code>T</code>.  This code is working for me:</p>\n\n<pre><code>import * as React from \"react\";\n\ninterface Props&lt;T&gt; {\n  data: T[] | null | undefined\n  schema: WrappedColumnDef&lt;T&gt;[]\n}\n\ninterface ColumnDef&lt;T, U extends keyof T&gt; {\n  key?: U\n  customRender?: (\n    targetData: T[U],\n    rowData: T\n  ) =&gt; string | JSX.Element\n}\n\nconst WRAPPED_COLUMN_DEF_MARKER = Symbol();\ninterface WrappedColumnDef&lt;T&gt; extends ColumnDef&lt;T, any&gt; { \n  [WRAPPED_COLUMN_DEF_MARKER]: undefined;\n}\n\ndeclare function wrapColumnDef&lt;T, U extends keyof T&gt;(arg: ColumnDef&lt;T, U&gt;): WrappedColumnDef&lt;T&gt; { \n  return arg as WrappedColumnDef&lt;T&gt;;\n}\n\ndeclare class PagedTable&lt;T&gt; extends React.Component&lt;Props&lt;T&gt;, any&gt; {}\n\ndeclare function fnThatOnlyTakesStrings(arg: string): string;\n\ninterface MyDatum { \n  username: string;\n  logins: number;\n}\n\nlet x = &lt;PagedTable&lt;MyDatum&gt;\n  data={[{ username: 'rob', logins: 32 }]}\n  schema={[\n    wrapColumnDef({\n      key: 'username',\n      customRender: (targetData, row) =&gt; fnThatOnlyTakesStrings(targetData)\n    })\n   ]}\n /&gt;;\n</code></pre>\n"}], "owner": {"reputation": 646, "user_id": 1743162, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/fe3dcced79aeb1941c180b9c5513dfd9?s=128&d=identicon&r=PG", "display_name": "robjtede", "link": "https://stackoverflow.com/users/1743162/robjtede"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 462, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1534345290, "creation_date": 1534330263, "last_edit_date": 1534343965, "question_id": 51857345, "link": "https://stackoverflow.com/questions/51857345/typescript-infer-lookup-type-for-function-parameter-within-object", "title": "Typescript: Infer lookup type for function parameter within object", "body": "<p>Defining a general purpose table. That takes data and a schema for how to display it. Here is a simplified example of how to call it.</p>\n\n<pre><code>&lt;PagedTable\n  data={[ username: 'rob', logins: 32 ]}\n  schema={[\n    {\n      key: 'username',\n      customRender: (targetData, row) =&gt; fnThatOnlyTakesStrings(targetData)\n    } \n   ]}\n /&gt;\n</code></pre>\n\n<p>The component class has the following signature:</p>\n\n<pre><code>class PagedTable&lt;T&gt; extends Component&lt;Props&lt;T&gt;, any&gt;\n</code></pre>\n\n<p>and the props:</p>\n\n<pre><code>interface Props&lt;T&gt; {\n  data: T[] | null | undefined\n  schema: ColumnDef&lt;T&gt;[]\n}\n\ninterface ColumnDef&lt;T&gt; {\n  key?: keyof T\n  customRender?: &lt;U extends keyof T&gt;(\n    targetData: T[U],\n    rowData: T\n  ) =&gt; string | JSX.Element\n}\n</code></pre>\n\n<p>So the concrete type for the class is inferred correctly.</p>\n\n<p>For completeness, inside PagedTable the simplified rendering function for the cell is:</p>\n\n<pre><code>renderCell(datum: T, { customRender, key }: ColumnDef&lt;T&gt;) {\n  if (customRender) {\n    return customRender(datum[key!], datum, key!)\n  } else {\n    return datum[key]\n  }\n}\n</code></pre>\n\n<p>What I want is for <code>targetData</code> to get the correct type when using the customRender function. In this setup it's type is <code>number | string</code> which is incorrect.</p>\n\n<p>Is there a way to infer the type just using the <code>key</code> property of a schema object (which is guaranteed to be a key of a data object)?</p>\n"}, {"tags": ["angular", "typescript", "grpc", "grpc-web"], "comments": [{"owner": {"reputation": 18865, "user_id": 1990451, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/kffVz.jpg?s=128&g=1", "display_name": "smnbbrv", "link": "https://stackoverflow.com/users/1990451/smnbbrv"}, "edited": false, "score": 0, "creation_date": 1579552527, "post_id": 51857225, "comment_id": 105797487, "body": "Here is unofficial angular+grpc framework <a href=\"https://github.com/ngx-grpc/core\" rel=\"nofollow noreferrer\">github.com/ngx-grpc/core</a>"}], "answers": [{"comments": [{"owner": {"reputation": 149, "user_id": 3678698, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/10e0833ad1f8977ec9ce33a0c8f5d41e?s=128&d=identicon&r=PG&f=1", "display_name": "Synster", "link": "https://stackoverflow.com/users/3678698/synster"}, "edited": false, "score": 1, "creation_date": 1598950953, "post_id": 51864160, "comment_id": 112615279, "body": "Repo link not working, Can you please update that? thanks"}, {"owner": {"reputation": 439, "user_id": 2516231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cf2de4966beb0077d6de649270c74927?s=128&d=identicon&r=PG", "display_name": "toderik", "link": "https://stackoverflow.com/users/2516231/toderik"}, "reply_to_user": {"reputation": 149, "user_id": 3678698, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/10e0833ad1f8977ec9ce33a0c8f5d41e?s=128&d=identicon&r=PG&f=1", "display_name": "Synster", "link": "https://stackoverflow.com/users/3678698/synster"}, "edited": false, "score": 1, "creation_date": 1610433835, "post_id": 51864160, "comment_id": 116123750, "body": "@Synster I think this might do it. This is the official example for typescript on the grpc-web githug page: <a href=\"https://github.com/grpc/grpc-web/blob/master/net/grpc/gateway/examples/echo/ts-example/client.ts\" rel=\"nofollow noreferrer\">github.com/grpc/grpc-web/blob/master/net/grpc/gateway/exampl&zwnj;&#8203;es/&hellip;</a>"}], "tags": [], "owner": {"reputation": 661, "user_id": 6916378, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/74527ac804c73b7f2d0a5f5ef0349122?s=128&d=identicon&r=PG&f=1", "display_name": "Asad Shah", "link": "https://stackoverflow.com/users/6916378/asad-shah"}, "is_accepted": true, "score": 7, "last_activity_date": 1534356612, "creation_date": 1534356612, "answer_id": 51864160, "question_id": 51857225, "link": "https://stackoverflow.com/questions/51857225/grpc-web-client-with-angular-6/51864160#51864160", "title": "GRPC web client with angular 6", "body": "<p>After spending sometime i was able to create proto files for typescript by following steps:</p>\n\n<ol>\n<li>Download protobuf for windows from this <a href=\"https://github.com/google/protobuf/releases\" rel=\"noreferrer\">link</a>. After extracting files set the path variable for protoc.exe</li>\n<li>install npm packages <code>npm install google-protobuf @types/google-protobuf grpc-web-client ts-protoc-gen --save</code></li>\n<li>After installing it generate the typescript files by using the command:\n<code>protoc --plugin=\"protoc-gen-ts=absolute-path-to-your-project\\node_modules\\.bin\\protoc-gen-ts.cmd\" --js_out=\"import_style=commonjs,binary:${OUT_DIR}\" --ts_out=\"service=true:${OUT_DIR}\" your.proto</code></li>\n<li>Finally consume it like as mentioned in this <a href=\"https://github.com/improbable-eng/grpc-web/tree/master/ts#usage-overview\" rel=\"noreferrer\">repo</a>.</li>\n</ol>\n"}, {"tags": [], "owner": {"reputation": 21, "user_id": 4454853, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/550dddfbbe9ff476571dadcc8eed7920?s=128&d=identicon&r=PG", "display_name": "Wenbo Zhu", "link": "https://stackoverflow.com/users/4454853/wenbo-zhu"}, "is_accepted": false, "score": 1, "last_activity_date": 1534369968, "creation_date": 1534369968, "answer_id": 51866964, "question_id": 51857225, "link": "https://stackoverflow.com/questions/51857225/grpc-web-client-with-angular-6/51866964#51866964", "title": "GRPC web client with angular 6", "body": "<p>grpc/grpc-web is available at <a href=\"https://github.com/grpc/grpc-web\" rel=\"nofollow noreferrer\">https://github.com/grpc/grpc-web</a> </p>\n"}, {"tags": [], "owner": {"reputation": 3530, "user_id": 2068766, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/PuZsi.jpg?s=128&g=1", "display_name": "Kim T", "link": "https://stackoverflow.com/users/2068766/kim-t"}, "is_accepted": false, "score": 3, "last_activity_date": 1548550983, "creation_date": 1548550983, "answer_id": 54384249, "question_id": 51857225, "link": "https://stackoverflow.com/questions/51857225/grpc-web-client-with-angular-6/54384249#54384249", "title": "GRPC web client with angular 6", "body": "<p>You can also get it to work by running:</p>\n\n<pre><code>npm install google-protobuf protoc ts-protoc-gen\n</code></pre>\n\n<p>Then add a compile script to your package.json:</p>\n\n<pre><code>\"compile\": \"./node_modules/protoc/protoc/bin/protoc --plugin=protoc-gen-ts=./node_modules/.bin/protoc-gen-ts --js_out=import_style=commonjs,binary:src/app/proto-gen --ts_out=service=true:src/app/proto -I ./src/app/proto ./src/app/proto/**/*.proto\",\n</code></pre>\n\n<p>now you can compile the .proto files to a Service using:</p>\n\n<pre><code>npm run compile\n</code></pre>\n\n<p>You can see the approach working here:</p>\n\n<p><a href=\"https://github.com/kmturley/angular-nest-grpc\" rel=\"nofollow noreferrer\">https://github.com/kmturley/angular-nest-grpc</a></p>\n"}, {"tags": [], "owner": {"reputation": 11, "user_id": 13549584, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-UFOzLB9GpYE/AAAAAAAAAAI/AAAAAAAAAAA/AMZuuckwJKDar9oVz2xRWj2UILJ1TBvZiQ/photo.jpg?sz=128", "display_name": "Tom&#225;\u0161 Moskala", "link": "https://stackoverflow.com/users/13549584/tom%c3%a1%c5%a1-moskala"}, "is_accepted": false, "score": 0, "last_activity_date": 1590757057, "creation_date": 1590757057, "answer_id": 62086576, "question_id": 51857225, "link": "https://stackoverflow.com/questions/51857225/grpc-web-client-with-angular-6/62086576#62086576", "title": "GRPC web client with angular 6", "body": "<p>Cannot use on on Windows </p>\n\n<pre><code>\"compile\": \"./node_modules/protoc/protoc/bin/protoc\n--plugin=protoc-gen-ts=./node_modules/.bin/protoc-gen-ts --js_out=import_style=commonjs,binary:src/app/proto-gen --ts_out=service=true:src/app/proto -I ./src/app/proto ./src/app/proto/**/*.proto\",\n</code></pre>\n\n<p>I get '.' is not recognized as an internal or external command</p>\n\n<p>This works fine: package.json</p>\n\n<pre><code>\"scripts\": {\n\"compile\": \"node_modules\\\\protoc\\\\protoc\\\\bin\\\\protoc --plugin=protoc-gen-ts=node_modules\\\\.bin\\\\protoc-gen-ts.cmd --js_out=import_style=commonjs,binary:./proto/generated --ts_out=service=grpc-web:./proto/generated -I ./proto ./proto/*.proto\"\n}\n</code></pre>\n\n<p>npm run compile</p>\n"}, {"tags": [], "owner": {"reputation": 57, "user_id": 3913394, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/32026277ebe7f08067c8fc3288843bd3?s=128&d=identicon&r=PG&f=1", "display_name": "Farshad Bayat", "link": "https://stackoverflow.com/users/3913394/farshad-bayat"}, "is_accepted": false, "score": 0, "last_activity_date": 1617643062, "creation_date": 1617643062, "answer_id": 66956957, "question_id": 51857225, "link": "https://stackoverflow.com/questions/51857225/grpc-web-client-with-angular-6/66956957#66956957", "title": "GRPC web client with angular 6", "body": "<p>On windows Solution with automatic:</p>\n<ol>\n<li>npm i @types/google-protobuf --save-dev</li>\n<li>npm i google-protobuf --save</li>\n<li>npm i grpc-web-client --save</li>\n<li>npm i ts-protoc-gen --save</li>\n</ol>\n<p><strong>Or for 1 to 4 can use this command:\nnpm i @types/google-protobuf  google-protobuf grpc-web-client ts-protoc-gen --save</strong></p>\n<ol start=\"5\">\n<li><p>Add this line to package.json:</p>\n<p>&quot;scripts&quot;: {</p>\n<pre><code>&quot;grpc:gen&quot;: &quot;protoc --plugin=protoc-gen-ts=node_modules\\\\ts-protoc-gen\\\\bin\\\\protoc-gen-ts.cmd --js_out=import_style=commonjs,binary:proto\\\\out --ts_out=service=grpc-web:proto\\\\out proto\\\\greet.proto&quot;\n</code></pre>\n<p>}</p>\n</li>\n<li><p>generate ts file with this command <code>npm run grpc:gen</code></p>\n</li>\n</ol>\n<p>code is available at here:\n<a href=\"https://gitlab.com/farshadbayat/grpc.net-core.git\" rel=\"nofollow noreferrer\">Server for .net Core</a>\n<a href=\"https://gitlab.com/farshadbayat/angular-grpc.git\" rel=\"nofollow noreferrer\">Client for angular</a></p>\n"}], "owner": {"reputation": 661, "user_id": 6916378, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/74527ac804c73b7f2d0a5f5ef0349122?s=128&d=identicon&r=PG&f=1", "display_name": "Asad Shah", "link": "https://stackoverflow.com/users/6916378/asad-shah"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 15718, "favorite_count": 2, "accepted_answer_id": 51864160, "answer_count": 5, "score": 11, "last_activity_date": 1617643062, "creation_date": 1534329732, "question_id": 51857225, "link": "https://stackoverflow.com/questions/51857225/grpc-web-client-with-angular-6", "title": "GRPC web client with angular 6", "body": "<p>I have worked with grpc .net client and a grpc server created with java, how can i implement grpc web client on angular 6 with typescript? Also how can i create proto files and it's typing's for typescript?\nI am following <a href=\"https://www.npmjs.com/package/grpc-web-client\" rel=\"noreferrer\">this</a> repo but not able to generate proto files.</p>\n"}, {"tags": ["javascript", "angular", "typescript", "angular-material"], "comments": [{"owner": {"reputation": 1350, "user_id": 7057736, "user_type": "registered", "profile_image": "https://graph.facebook.com/1152701018117340/picture?type=large", "display_name": "Malindu Sandaruwan", "link": "https://stackoverflow.com/users/7057736/malindu-sandaruwan"}, "edited": false, "score": 0, "creation_date": 1534330108, "post_id": 51856989, "comment_id": 90666721, "body": "I have added a new answer"}], "answers": [{"comments": [{"owner": {"reputation": 3897, "user_id": 3061047, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/8254f5cf0a9a916e0a1a2dbf4bff6041?s=128&d=identicon&r=PG&f=1", "display_name": "physicsboy", "link": "https://stackoverflow.com/users/3061047/physicsboy"}, "edited": false, "score": 0, "creation_date": 1534330234, "post_id": 51857230, "comment_id": 90666770, "body": "Aha! Wonderful! Thanks for the advice. It was the <code>@Optional()</code> that saved me here."}, {"owner": {"reputation": 1350, "user_id": 7057736, "user_type": "registered", "profile_image": "https://graph.facebook.com/1152701018117340/picture?type=large", "display_name": "Malindu Sandaruwan", "link": "https://stackoverflow.com/users/7057736/malindu-sandaruwan"}, "reply_to_user": {"reputation": 3897, "user_id": 3061047, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/8254f5cf0a9a916e0a1a2dbf4bff6041?s=128&d=identicon&r=PG&f=1", "display_name": "physicsboy", "link": "https://stackoverflow.com/users/3061047/physicsboy"}, "edited": false, "score": 0, "creation_date": 1534330306, "post_id": 51857230, "comment_id": 90666804, "body": "so shall I edit te answer and remove the providers thing?"}, {"owner": {"reputation": 3897, "user_id": 3061047, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/8254f5cf0a9a916e0a1a2dbf4bff6041?s=128&d=identicon&r=PG&f=1", "display_name": "physicsboy", "link": "https://stackoverflow.com/users/3061047/physicsboy"}, "edited": false, "score": 1, "creation_date": 1534330447, "post_id": 51857230, "comment_id": 90666864, "body": "You can leave it in. You never know, it may help out in future :P"}], "tags": [], "owner": {"reputation": 1350, "user_id": 7057736, "user_type": "registered", "profile_image": "https://graph.facebook.com/1152701018117340/picture?type=large", "display_name": "Malindu Sandaruwan", "link": "https://stackoverflow.com/users/7057736/malindu-sandaruwan"}, "is_accepted": true, "score": 1, "last_activity_date": 1534330518, "last_edit_date": 1534330518, "creation_date": 1534329745, "answer_id": 51857230, "question_id": 51856989, "link": "https://stackoverflow.com/questions/51856989/cannot-open-shopping-cart-dialog-material-dialog-angular2/51857230#51857230", "title": "Cannot open shopping cart dialog - Material Dialog - Angular2+", "body": "<p>Mark <code>MD_DIALOG_DATA</code> optional,</p>\n\n<pre><code>@Optional() @Inject(MD_DIALOG_DATA) private data: any).\n</code></pre>\n\n<p>If problem exists, in your module add <code>MAT_DIALOG_DATA</code> to providers,</p>\n\n<pre><code>providers: [\n    { provide: MAT_DIALOG_DATA, useValue: {} },\n</code></pre>\n"}], "owner": {"reputation": 3897, "user_id": 3061047, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/8254f5cf0a9a916e0a1a2dbf4bff6041?s=128&d=identicon&r=PG&f=1", "display_name": "physicsboy", "link": "https://stackoverflow.com/users/3061047/physicsboy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 34, "favorite_count": 0, "accepted_answer_id": 51857230, "answer_count": 1, "score": 0, "last_activity_date": 1534330518, "creation_date": 1534328641, "last_edit_date": 1534329354, "question_id": 51856989, "link": "https://stackoverflow.com/questions/51856989/cannot-open-shopping-cart-dialog-material-dialog-angular2", "title": "Cannot open shopping cart dialog - Material Dialog - Angular2+", "body": "<p>I have a shopping app, of which I can open a material dialog with product details and from there add to cart.</p>\n\n<p>When I try to open my cart dialog however, I cannot seem to get anything open...</p>\n\n<p>I'm unsure whether it is because my routing of data is incorrect, or whether the actual opening of the dialog is wrong. But seeing as one of my dialogs works... I'm stumped.</p>\n\n<p><a href=\"https://i.stack.imgur.com/RoWLk.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/RoWLk.jpg\" alt=\"enter image description here\"></a></p>\n\n<p><strong>cart-button.ts</strong></p>\n\n<pre><code>export class CartButtonComponent implements OnInit {\n\n  products: any[];\n  numProducts: number;\n  cartTotal: number;\n\n  constructor(private cartService: CartService, public dialog: MatDialog) {\n    this.products = [];\n    this.numProducts = 0;\n    this.cartTotal = 0;\n  }\n\n  ngOnInit() {\n    this.cartService.productAdded$.subscribe(data =&gt; {\n      this.products = data.products;\n      this.cartTotal = data.cartTotal;\n      this.numProducts = data.products.reduce((acc, prod) =&gt; {\n        acc += prod.quantity;\n        return acc;\n      }, 0);\n    });\n  }\n\n  openCartDialog(prods) {\n    console.log(prods);\n    this.dialog.open(CartPageComponent, {\n      autoFocus: true,\n      width: '600px',\n      data: prods\n    });\n  }\n\n}\n</code></pre>\n\n<p><strong>cart-page.ts</strong></p>\n\n<pre><code>export class CartPageComponent implements OnInit {\n\n  @Input() products: any[];\n\n  constructor(\n    private cartService: CartService,\n    @Inject(MAT_DIALOG_DATA) private data: any) {\n    this.products = [];\n  }\n\n  ngOnInit() {\n  }\n\n  deleteProduct(product: Product) {\n    this.cartService.deleteFromCart(product);\n  }\n}\n</code></pre>\n\n<p><strong>app.module</strong></p>\n\n<pre><code>@NgModule({\n  declarations: [\n    AppComponent,\n    HomepageComponent,\n    ProductThumbnailComponent,\n    ProductPageComponent,\n    CartPageComponent,\n    ToolbarComponent,\n    NavComponent,\n    DashboardComponent,\n    CartButtonComponent,\n  ],\n  imports: [\n    BrowserAnimationsModule,\n    BrowserModule,\n    MaterialModule,\n    LayoutModule,\n  ],\n  entryComponents: [ProductPageComponent, CartPageComponent],\n  providers: [],\n  bootstrap: [AppComponent]\n})\nexport class AppModule { }\n</code></pre>\n\n<p>FYI: All Material modules are imported via <code>MaterialModule</code></p>\n\n<p><strong><a href=\"https://shopping-app.stackblitz.io\" rel=\"nofollow noreferrer\">STACKBLITZ</a></strong></p>\n"}, {"tags": ["typescript"], "answers": [{"tags": [], "owner": {"reputation": 74246, "user_id": 80911, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/9e9b4f80c65dc6076d74cd421084e4fc?s=128&d=identicon&r=PG", "display_name": "Evert", "link": "https://stackoverflow.com/users/80911/evert"}, "is_accepted": false, "score": 0, "last_activity_date": 1534324471, "creation_date": 1534324471, "answer_id": 51855977, "question_id": 51855939, "link": "https://stackoverflow.com/questions/51855939/typescript-return-multiple-type-regarding-to-parameter-value/51855977#51855977", "title": "Typescript: return multiple type regarding to parameter value", "body": "<p>I think you want function overloading:</p>\n\n<pre><code>function Fetch(isAsync:true): AsyncGet;\nfunction Fetch(isAsync:false): Get;\nfunction Fetch(isAsync:boolean): AsyncGet | Get{\n  return isAsync ? AsyncGet : Get;\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1849, "user_id": 2535616, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/73eb9f75b3df33ca2649634a3d91e315?s=128&d=identicon&r=PG", "display_name": "lleon", "link": "https://stackoverflow.com/users/2535616/lleon"}, "is_accepted": true, "score": 0, "last_activity_date": 1534324654, "creation_date": 1534324654, "answer_id": 51856020, "question_id": 51855939, "link": "https://stackoverflow.com/questions/51855939/typescript-return-multiple-type-regarding-to-parameter-value/51856020#51856020", "title": "Typescript: return multiple type regarding to parameter value", "body": "<p>You can use <a href=\"https://www.typescriptlang.org/docs/handbook/release-notes/typescript-2-8.html#conditional-types\" rel=\"nofollow noreferrer\">conditional types</a></p>\n\n<pre><code>function Fetch&lt;T extends boolean&gt;(isAsync: T): T extends true ? AsyncGet : Get {\n  // ....\n}\n</code></pre>\n"}], "owner": {"reputation": 371, "user_id": 9087103, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3dbf8664a24af82c130947a5bd9c0535?s=128&d=identicon&r=PG&f=1", "display_name": "D C", "link": "https://stackoverflow.com/users/9087103/d-c"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 134, "favorite_count": 0, "accepted_answer_id": 51856020, "answer_count": 2, "score": 0, "last_activity_date": 1534324654, "creation_date": 1534324251, "question_id": 51855939, "link": "https://stackoverflow.com/questions/51855939/typescript-return-multiple-type-regarding-to-parameter-value", "title": "Typescript: return multiple type regarding to parameter value", "body": "<p>I want to get specified return type regarding to specified parameter like following.</p>\n\n<pre><code>function Fetch(isAsync:boolean){\n  return isAsync ? AsyncGet : Get;\n}\n</code></pre>\n\n<p>If app runs let func = Fetch(true), it expects func to be of AsyncGet type, but the return value type is AsyncGet | Get. </p>\n\n<p>I cannot call func() for it has incompatible signature from AsyncGet and Get.</p>\n\n<p>How can I achieve that?</p>\n"}, {"tags": ["typescript", "visual-studio-code", "typescript-typings", "webdriver-io"], "answers": [{"tags": [], "owner": {"reputation": 313, "user_id": 5333867, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/a32bab082c42288ce18ab021cfefe911?s=128&d=identicon&r=PG&f=1", "display_name": "nEkis", "link": "https://stackoverflow.com/users/5333867/nekis"}, "is_accepted": false, "score": 0, "last_activity_date": 1534323478, "creation_date": 1534323478, "answer_id": 51855750, "question_id": 51855736, "link": "https://stackoverflow.com/questions/51855736/automatic-jquery-types-in-vscode/51855750#51855750", "title": "Automatic jQuery types in VSCode", "body": "<p>In settings is field <code>typescript.disableAutomaticTypeAcquisition</code>, set it to <code>true</code>. </p>\n"}], "owner": {"reputation": 313, "user_id": 5333867, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/a32bab082c42288ce18ab021cfefe911?s=128&d=identicon&r=PG&f=1", "display_name": "nEkis", "link": "https://stackoverflow.com/users/5333867/nekis"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 72, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1534324459, "creation_date": 1534323409, "last_edit_date": 1534324459, "question_id": 51855736, "link": "https://stackoverflow.com/questions/51855736/automatic-jquery-types-in-vscode", "title": "Automatic jQuery types in VSCode", "body": "<p>I am using <a href=\"http://webdriver.io\" rel=\"nofollow noreferrer\">wdio</a> to create UI tests. Wdio uses <code>$</code> and <code>$$</code> globals to search for elements as such:</p>\n\n<pre><code>private get logo() { return $(\"#logo\") }\nprivate get menuItems() { return $$(\"nav .nav-item\") }\n</code></pre>\n\n<p>VSCode is automatically recognizing <code>$</code> global as <code>JQueryStatic&lt;HTMLElement&gt;</code>. <code>$$</code> is working correctly as <code>WebdriverIO.Client&lt;WebdriverIO.RawResult&lt;WebdriverIO.Element&gt;&gt;[]</code>. Compiler has no problems and we have no jQuery types installed in project.</p>\n\n<p>Is there a way to disable native types, or force VSCode to use only types in <code>package.json</code>? </p>\n"}, {"tags": ["angular", "typescript", "leaflet", "leaflet.draw"], "answers": [{"comments": [{"owner": {"reputation": 29, "user_id": 3820544, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/454d9ecc36510536724747ccc2129116?s=128&d=identicon&r=PG&f=1", "display_name": "user3820544", "link": "https://stackoverflow.com/users/3820544/user3820544"}, "edited": false, "score": 0, "creation_date": 1534327390, "post_id": 51855953, "comment_id": 90665578, "body": "But I can do like you recommended because ts throwing an error: &#39;Property &#39;CustomCircle&#39; does not exist on type &#39;typeof Draw&#39;.&#39;"}, {"owner": {"reputation": 141, "user_id": 10223550, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/df459fd092320ef80428b23d5c9ebe73?s=128&d=identicon&r=PG&f=1", "display_name": "TheJSWizard", "link": "https://stackoverflow.com/users/10223550/thejswizard"}, "reply_to_user": {"reputation": 29, "user_id": 3820544, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/454d9ecc36510536724747ccc2129116?s=128&d=identicon&r=PG&f=1", "display_name": "user3820544", "link": "https://stackoverflow.com/users/3820544/user3820544"}, "edited": false, "score": 0, "creation_date": 1534328696, "post_id": 51855953, "comment_id": 90666186, "body": "Are you importing leaflet-draw? <code>import &#39;leaflet-draw&#39;;</code>"}, {"owner": {"reputation": 141, "user_id": 10223550, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/df459fd092320ef80428b23d5c9ebe73?s=128&d=identicon&r=PG&f=1", "display_name": "TheJSWizard", "link": "https://stackoverflow.com/users/10223550/thejswizard"}, "reply_to_user": {"reputation": 29, "user_id": 3820544, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/454d9ecc36510536724747ccc2129116?s=128&d=identicon&r=PG&f=1", "display_name": "user3820544", "link": "https://stackoverflow.com/users/3820544/user3820544"}, "edited": false, "score": 0, "creation_date": 1534328798, "post_id": 51855953, "comment_id": 90666227, "body": "Dependencies won&#39;t work if you load them in index.html, unless you declare all the properties as <code>any</code> (i don&#39;t recommend doing that). What you need to do, for typescript&#39;s sake is import all of the leaflet plugins you need to use so that typescript knows they exist. You could also create/find a typing to do that aswell."}, {"owner": {"reputation": 29, "user_id": 3820544, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/454d9ecc36510536724747ccc2129116?s=128&d=identicon&r=PG&f=1", "display_name": "user3820544", "link": "https://stackoverflow.com/users/3820544/user3820544"}, "edited": false, "score": 0, "creation_date": 1534332295, "post_id": 51855953, "comment_id": 90667664, "body": "Could you provide some working example, for me its hard to get it. L.Draw won&#39;t work, because I have to override many classes. I have no idea how to do it"}, {"owner": {"reputation": 141, "user_id": 10223550, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/df459fd092320ef80428b23d5c9ebe73?s=128&d=identicon&r=PG&f=1", "display_name": "TheJSWizard", "link": "https://stackoverflow.com/users/10223550/thejswizard"}, "reply_to_user": {"reputation": 29, "user_id": 3820544, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/454d9ecc36510536724747ccc2129116?s=128&d=identicon&r=PG&f=1", "display_name": "user3820544", "link": "https://stackoverflow.com/users/3820544/user3820544"}, "edited": false, "score": 0, "creation_date": 1534336998, "post_id": 51855953, "comment_id": 90669896, "body": "What are you overriding that&#39;s related to L.Draw? Just add the import to the top of the typscript file"}], "tags": [], "owner": {"reputation": 141, "user_id": 10223550, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/df459fd092320ef80428b23d5c9ebe73?s=128&d=identicon&r=PG&f=1", "display_name": "TheJSWizard", "link": "https://stackoverflow.com/users/10223550/thejswizard"}, "is_accepted": false, "score": 1, "last_activity_date": 1534324317, "creation_date": 1534324317, "answer_id": 51855953, "question_id": 51855693, "link": "https://stackoverflow.com/questions/51855693/how-to-create-custom-control-in-leaflet-draw-for-angular/51855953#51855953", "title": "How to create custom control in leaflet draw for Angular?", "body": "<p>How i've done it in the past is this way, whether it's the correct way to do it or not, i'm not sure. It works. It doesn't follow the 'angular' way of doing things, but you are using an external library that doesn't follow angular, so you can only be as angular as it lets you.</p>\n\n<p>Of course i've only done a bit for you, but this should get you started. It really is the same as doing it in JS, just you have a typescript class around it this time instead.</p>\n\n<pre><code>import * as L from 'leaflet';\n@Component({\n  selector: 'app-map',\n  templateUrl: 'foo.html',\n})\n\nexport class MapPage implements OnInit {\n  public map: L.Map;\n  constructor() { }\n\n  public ngOnInit() {\n    const config = {};\n    this.map = L.map('elementId', config)\n    this.addLeafletExtras();\n  }\n\n  private addLeafletExtras() {\n    L.Draw.CustomCircle = L.Draw.Circle.extend({\n      options: {\n        repeatMode: true\n      },\n      initialize: function (map, options) {\n        this.type = 'customCircle';\n        L.Draw.Feature.prototype.initialize.call(this, map, options);\n      }\n    });\n  }\n\n}\n</code></pre>\n\n<p>Just something to note, if you want to add a callback to something in leaflet, that calls something in your angular code, pass the callback and use .bind(this) with it, this will bind the current angular scope to the callback, and you can then safely call your callback from leaflet but keep it within angular (i hope that makes sense).</p>\n"}, {"tags": [], "owner": {"reputation": 29, "user_id": 3820544, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/454d9ecc36510536724747ccc2129116?s=128&d=identicon&r=PG&f=1", "display_name": "user3820544", "link": "https://stackoverflow.com/users/3820544/user3820544"}, "is_accepted": false, "score": 0, "last_activity_date": 1534401666, "creation_date": 1534401666, "answer_id": 51871009, "question_id": 51855693, "link": "https://stackoverflow.com/questions/51855693/how-to-create-custom-control-in-leaflet-draw-for-angular/51871009#51871009", "title": "How to create custom control in leaflet draw for Angular?", "body": "<p>I managed to implement it. Its basically not fully in the was of ts, but works</p>\n\n<pre><code>declare var L;\nexport class Ovverides {\naddNewTypes() {\n    /*change the draw created event to pass in a featureTypeCode.\n       This makes it so that when the draw created is triggered, I can fetch the type shape made and\n       append that as a property in the generated GeoJSON*/\n    L.Draw.Feature.prototype._fireCreatedEvent = function (layer) {\n        if (this.featureTypeCode) {\n            this._map.fire('draw:created', { layer: layer, layerType: this.type, featureTypeCode: this.featureTypeCode });\n        } else {\n            this._map.fire('draw:created', { layer: layer, layerType: this.type });\n        }\n    }\n\n    /*Class for new circle include */\n    L.Draw.CircleInclude = L.Draw.Circle.extend({\n        options: {\n            repeatMode: false\n        },\n        initialize: function (map, options) {\n            this.type = L.Draw.Circle.TYPE;\n            this.featureTypeCode = 'include';\n            this._initialLabelText = L.drawLocal.draw.handlers.circle.include.tooltip.start;\n            this._endLabelText = 'Release mouse to finish drawing.';\n            L.Draw.Feature.prototype.initialize.call(this, map, options);\n        }\n    });\n    /*Class for new circle exclude */\n    L.Draw.CircleExclude = L.Draw.Circle.extend({\n        options: {\n            repeatMode: false\n        },\n\n        initialize: function (map, options) {\n            this.type = L.Draw.Circle.TYPE;\n            this.featureTypeCode = 'exclude';\n            this._endLabelText = 'Release mouse to finish drawing.';\n            this._initialLabelText = L.drawLocal.draw.handlers.circle.exclude.tooltip.start;\n            L.Draw.Feature.prototype.initialize.call(this, map, options);\n        }\n    });\n\n    /*Modify this function to catch the featureCodeType.  This needs to append to the\n    Css class name generated so that I can color them and do other stuff appropriately\n    based on custom class in our css file*/\n    L.Toolbar.prototype._initModeHandler = function (handler, container, buttonIndex, classNamePredix, buttonTitle) {\n        var type = handler.type;\n        var target = type;\n        if (typeof handler.featureTypeCode != 'undefined') {\n            target = type + '-' + handler.featureTypeCode;\n        }\n        this._modes[type] = {};\n\n        this._modes[type].handler = handler;\n\n        this._modes[type].button = this._createButton({\n            type: type,\n            title: buttonTitle,\n            className: classNamePredix + '-' + target,\n            container: container,\n            callback: this._modes[type].handler.enable,\n            context: this._modes[type].handler\n        });\n        this._modes[type].buttonIndex = buttonIndex;\n\n        this._modes[type].handler\n            .on('enabled', this._handlerActivated, this)\n            .on('disabled', this._handlerDeactivated, this);\n    }\n\n    /*Changes some of the default text for the toolbar buttons*/\n    L.drawLocal = {\n        draw: {\n            toolbar: {\n                actions: {\n                    title: 'Cancel drawing',\n                    text: 'Cancel'\n                },\n                finish: {\n                    title: 'Finish drawing',\n                    text: 'Finish'\n                },\n                undo: {\n                    title: 'Delete last point drawn',\n                    text: 'Delete last point'\n                },\n                buttons: {\n                    polyline: 'Draw a polyline',\n                    polygon: 'Draw a polygon',\n                    rectangle: 'Draw a rectangle',\n                    circle: {\n                        include: 'Create include circle',\n                        exclude: 'Create exclude circle',\n                    },\n                    marker: 'Draw a marker'\n                }\n            },\n            handlers: {\n                circle: {\n                    radius: 'Radius',\n                    include: {\n                        tooltip: {\n                            start: 'Click to start drawing a circle include',\n                        },\n                    },\n                    exclude: {\n                        tooltip: {\n                            start: 'Click to start drawing a circle exclude',\n                        },\n                    },\n                },\n                marker: {\n                    tooltip: {\n                        start: 'Click map to place a site marker.'\n                    }\n                },\n                polygon: {\n                    tooltip: {\n                        start: 'Click to start drawing a site property',\n                        cont: 'Click to continue drawing a site property',\n                        end: 'Click first point to close this site property'\n                    }\n                },\n                polyline: {\n                    error: '&lt;strong&gt;Error:&lt;/strong&gt; shape edges cannot cross!',\n                    tooltip: {\n                        start: 'Click to start drawing line',\n                        cont: 'Click to continue drawing line',\n                        end: 'Click last point to finish line'\n                    }\n                },\n                rectangle: {\n                    tooltip: {\n                        start: 'Click and drag to create a site boundary'\n                    }\n                },\n                simpleshape: {\n                    tooltip: {\n                        end: 'Release mouse to finish drawing.'\n                    }\n                }\n            }\n        },\n        edit: {\n            toolbar: {\n                actions: {\n                    save: {\n                        title: 'Save changes',\n                        text: 'Save'\n                    },\n                    cancel: {\n                        title: 'Cancel editing, discards all changes',\n                        text: 'Cancel'\n                    },\n                    clearAll: {\n                        title: 'Clear all layers',\n                        text: 'Clear All'\n                    }\n                },\n                buttons: {\n                    edit: 'Edit layers',\n                    editDisabled: 'No layers to edit',\n                    remove: 'Delete layers',\n                    removeDisabled: 'No layers to delete'\n                }\n            },\n            handlers: {\n                edit: {\n                    tooltip: {\n                        text: 'Drag handles or markers to edit features.',\n                        subtext: 'Click cancel to undo changes.'\n                    }\n                },\n                remove: {\n                    tooltip: {\n                        text: 'Click on a feature to remove.'\n                    }\n                }\n            }\n        }\n    };\n\n    /*Adds new shape types to the options */\n    L.DrawToolbar.include({\n        options: {\n            polyline: {},\n            polygon: {},\n            rectangle: {},\n            circle: {\n                include: {},\n                exclude: {}\n            },\n            marker: {}\n        },\n        initialize: function (options) {\n            // Ensure that the options are merged correctly since L.extend is only shallow\n            for (var type in this.options) {\n                if (this.options.hasOwnProperty(type)) {\n                    if (options[type]) {\n                        options[type] = L.extend({}, this.options[type], options[type]);\n                    }\n                }\n            }\n\n            this._toolbarClass = 'leaflet-draw-draw';\n            L.Toolbar.prototype.initialize.call(this, options);\n        },\n        getModeHandlers: function (map) {\n            return [\n                {\n                    enabled: this.options.circle.include,\n                    handler: new L.Draw.CircleInclude(map, this.options.circle.include),\n                    title: L.drawLocal.draw.toolbar.buttons.circle.include\n                },\n                {\n                    enabled: this.options.circle.exclude,\n                    handler: new L.Draw.CircleExclude(map, this.options.circle.exclude),\n                    title: L.drawLocal.draw.toolbar.buttons.circle.exclude\n                },\n            ];\n        },\n\n        // Get the actions part of the toolbar\n        getActions: function (handler) {\n            return [\n                {\n                    enabled: handler.completeShape,\n                    title: L.drawLocal.draw.toolbar.finish.title,\n                    text: L.drawLocal.draw.toolbar.finish.text,\n                    callback: handler.completeShape,\n                    context: handler\n                },\n                {\n                    enabled: handler.deleteLastVertex,\n                    title: L.drawLocal.draw.toolbar.undo.title,\n                    text: L.drawLocal.draw.toolbar.undo.text,\n                    callback: handler.deleteLastVertex,\n                    context: handler\n                },\n                {\n                    title: L.drawLocal.draw.toolbar.actions.title,\n                    text: L.drawLocal.draw.toolbar.actions.text,\n                    callback: this.disable,\n                    context: this\n                }\n            ];\n        },\n\n        setOptions: function (options) {\n            L.setOptions(this, options);\n\n            for (var type in this._modes) {\n                if (this._modes.hasOwnProperty(type) &amp;&amp; options.hasOwnProperty(type)) {\n                    this._modes[type].handler.setOptions(options[type]);\n                }\n            }\n        }\n    });\n}\n</code></pre>\n\n<p>}</p>\n"}, {"tags": [], "owner": {"reputation": 313, "user_id": 7545270, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/fWGaN.jpg?s=128&g=1", "display_name": "sertal70", "link": "https://stackoverflow.com/users/7545270/sertal70"}, "is_accepted": false, "score": 3, "last_activity_date": 1539261237, "creation_date": 1539261237, "answer_id": 52760205, "question_id": 51855693, "link": "https://stackoverflow.com/questions/51855693/how-to-create-custom-control-in-leaflet-draw-for-angular/52760205#52760205", "title": "How to create custom control in leaflet draw for Angular?", "body": "<p>I've had the same need and obviously my search ended into this SO question. I didn't like so much the solution proposed by @TheJSWizard because we are in TS so we should use an \"object oriented\" approach.</p>\n\n<p>Turns out the solution is pretty simple. Starting from the javascript leaflet tutorial for custom controls I created the following Typescript leaflet custom control class:</p>\n\n<pre><code>import * as L from 'leaflet';\n\nexport class Watermark extends L.Control {\n\n  onAdd(map: L.Map) {\n    let img = L.DomUtil.create('img') as HTMLImageElement;\n    img.src = '../../docs/images/logo.png';\n    img.style.width = '200px';\n    return img;\n  }\n\n  onRemove(map: L.Map) {\n    // Nothing to do here\n  }\n\n  constructor(options?: L.ControlOptions) {\n    super(options);\n  }\n}\n</code></pre>\n\n<p>Then I can use the custom control <code>Watermark</code> wherever I create a map in the following way:</p>\n\n<pre><code>import * as L from 'leaflet';\nimport { Watermark } from './leaflet-watermark-control';\n...\n\nlet myMap = L.map(\"mapId\")setView([51.505, -0.09], 13);\nnew Watermark({position: 'bottomleft'}).addTo(myMap);\n</code></pre>\n\n<p>Hope it helps!</p>\n"}], "owner": {"reputation": 29, "user_id": 3820544, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/454d9ecc36510536724747ccc2129116?s=128&d=identicon&r=PG&f=1", "display_name": "user3820544", "link": "https://stackoverflow.com/users/3820544/user3820544"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4374, "favorite_count": 2, "answer_count": 3, "score": 2, "last_activity_date": 1539261237, "creation_date": 1534323189, "question_id": 51855693, "link": "https://stackoverflow.com/questions/51855693/how-to-create-custom-control-in-leaflet-draw-for-angular", "title": "How to create custom control in leaflet draw for Angular?", "body": "<p>I am new to leaflet draw plugin and typescript, so I am looking for the way to extend leaflet draw in order to create a custom control that draw a circle. I saw an example written in JS, but don't know how to properly create a control based on leaflet draw plugin.</p>\n\n<p>I am creating web app based on Angular.\nHelp to extend control in typescript. There ars libs I am using.</p>\n\n<pre><code>\"leaflet\": \"^1.3.3\",\n\"leaflet-draw\": \"^1.0.2\",\n\"@types/leaflet\": \"^1.2.9\",\n</code></pre>\n\n<p>its code snippet how it can be done in JS </p>\n\n<pre><code> }\n/*Class for new polygon shape */\nL.Draw.CustomCircle = L.Draw.Circle.extend({\n    options: {\n        repeatMode: true\n    },\n    initialize: function (map, options) {\n        this.type = 'customCircle';\n        L.Draw.Feature.prototype.initialize.call(this, map, options);\n    }\n});\n\n\n/*Changes some of the default text for the toolbar buttons*/\nL.drawLocal = {\n    draw: {\n        toolbar: {\n            buttons: {\n                circle: 'Draw a include circle',\n                customCircle: 'Draw a exnclude circle',\n            }\n        },\n        handlers: {\n            circle: {\n                tooltip: {\n                    start: 'Click and drag to include circle.'\n                },\n                radius: 'Radius'\n            },\n          customCircle: {\n                tooltip: {\n                    start: 'Click and drag to exclude circle.'\n                },\n                radius: 'Radius'\n            }\n        }\n    },\n    edit: {        }\n};\n\n/*Adds new shape types to the options */\nL.DrawToolbar.include({\n\noptions: {\n        circle: {},\n        customCircle: {}\n    },\n        initialize: function (options) {\n    // Ensure that the options are merged correctly since L.extend is only shallow\n    for (var type in this.options) {\n        if (this.options.hasOwnProperty(type)) {\n            if (options[type]) {\n                options[type] = L.extend({}, this.options[type], options[type]);\n            }\n        }\n    }\n\n    this._toolbarClass = 'leaflet-draw-draw';\n    L.Toolbar.prototype.initialize.call(this, options);\n},\n    getModeHandlers: function (map) {\n        return [\n             {\n                enabled: this.options.customCircle,\n                handler: new L.Draw.CustomCircle(map, this.options.customCircle),\n                title: L.drawLocal.draw.toolbar.buttons.customCircle\n            },\n                             {\n                enabled: this.options.circle,\n                handler: new l.draw.circle(map, this.options.circle),\n                title: l.drawlocal.draw.toolbar.buttons.circle\n            },\n        ];\n    },\n\n    // Get the actions part of the toolbar\n    getActions: function (handler) {\n        return [\n            {\n                enabled: handler.completeShape,\n                title: L.drawLocal.draw.toolbar.finish.title,\n                text: L.drawLocal.draw.toolbar.finish.text,\n                callback: handler.completeShape,\n                context: handler\n            },\n        ];\n    },\n\n    setOptions: function (options) {\n        L.setOptions(this, options);\n\n        for (var type in this._modes) {\n            if (this._modes.hasOwnProperty(type) &amp;&amp; options.hasOwnProperty(type)) {\n                this._modes[type].handler.setOptions(options[type]);\n            }\n        }\n    }\n});\n\n\nvar drawControl = new L.Control.Draw();\nmap.addControl(drawControl);\n</code></pre>\n"}, {"tags": ["angular", "typescript", "events", "input", "ngmodel"], "answers": [{"comments": [{"owner": {"reputation": 659, "user_id": 4996174, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/0193176894dac6b5090f0ffbcc0d0134?s=128&d=identicon&r=PG&f=1", "display_name": "WeSt", "link": "https://stackoverflow.com/users/4996174/west"}, "edited": false, "score": 0, "creation_date": 1534323547, "post_id": 51855712, "comment_id": 90663751, "body": "Is it possible to send the event programmatically? So I could call the updateOrderNumberFilter method from the finally?"}, {"owner": {"reputation": 57402, "user_id": 5496973, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JH9iD.jpg?s=128&g=1", "display_name": "Suren Srapyan", "link": "https://stackoverflow.com/users/5496973/suren-srapyan"}, "reply_to_user": {"reputation": 659, "user_id": 4996174, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/0193176894dac6b5090f0ffbcc0d0134?s=128&d=identicon&r=PG&f=1", "display_name": "WeSt", "link": "https://stackoverflow.com/users/4996174/west"}, "edited": false, "score": 0, "creation_date": 1534323603, "post_id": 51855712, "comment_id": 90663781, "body": "You just need to access the value ? What you want to do with <code>evt</code> parameter ?"}, {"owner": {"reputation": 659, "user_id": 4996174, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/0193176894dac6b5090f0ffbcc0d0134?s=128&d=identicon&r=PG&f=1", "display_name": "WeSt", "link": "https://stackoverflow.com/users/4996174/west"}, "edited": false, "score": 0, "creation_date": 1534324954, "post_id": 51855712, "comment_id": 90664340, "body": "I need the value in that method to evaluate it and pass it to the ag-grid framework"}], "tags": [], "owner": {"reputation": 57402, "user_id": 5496973, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JH9iD.jpg?s=128&g=1", "display_name": "Suren Srapyan", "link": "https://stackoverflow.com/users/5496973/suren-srapyan"}, "is_accepted": true, "score": 2, "last_activity_date": 1534325924, "last_edit_date": 1534325924, "creation_date": 1534323290, "answer_id": 51855712, "question_id": 51855663, "link": "https://stackoverflow.com/questions/51855663/angular-input-event-is-not-fired-by-setting-the-value-with-the-model/51855712#51855712", "title": "Angular input event is not fired by setting the value with the model", "body": "<p>And it will not be fired, because <code>input</code> event will be fired only during user interaction. </p>\n\n<p>You can work with <code>Reactive Forms</code> instead of <code>Template Driven Forms</code> and using its <code>valueChanges</code> function you can listen to changes of the value of the controls.</p>\n\n<p>Another answer about <em>Reactive Form value changes</em> you can read <a href=\"https://stackoverflow.com/questions/45179389/subscribe-to-valuechanges-from-input-formcontrol-in-formgroup\"><strong>here</strong></a> </p>\n\n<p><strong>UPDATED</strong></p>\n\n<p>You can declare your function to get the <code>value</code> of the input</p>\n\n<pre><code>public updateOrderNumberFilter(value: any): void {\n\n}\n</code></pre>\n\n<p>In the markup attach it with <code>$event.target.value</code></p>\n\n<pre><code>&lt;input type=\"text\" id=\"orderNumberFilter\" (input)=\"updateOrderNumberFilter($event.target.value)\" [(ngModel)]=\"orderNumberFilterValue\"&gt;\n</code></pre>\n\n<p>and also call it in the <code>finally</code> and pass the <code>value</code>.</p>\n"}, {"tags": [], "owner": {"reputation": 1350, "user_id": 7057736, "user_type": "registered", "profile_image": "https://graph.facebook.com/1152701018117340/picture?type=large", "display_name": "Malindu Sandaruwan", "link": "https://stackoverflow.com/users/7057736/malindu-sandaruwan"}, "is_accepted": false, "score": 1, "last_activity_date": 1534323307, "creation_date": 1534323307, "answer_id": 51855716, "question_id": 51855663, "link": "https://stackoverflow.com/questions/51855663/angular-input-event-is-not-fired-by-setting-the-value-with-the-model/51855716#51855716", "title": "Angular input event is not fired by setting the value with the model", "body": "<p>So you can call the <code>updateData</code> method manually from the place where you update the model (<code>orderNumberFilterValue</code>)</p>\n"}], "owner": {"reputation": 659, "user_id": 4996174, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/0193176894dac6b5090f0ffbcc0d0134?s=128&d=identicon&r=PG&f=1", "display_name": "WeSt", "link": "https://stackoverflow.com/users/4996174/west"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 813, "favorite_count": 1, "accepted_answer_id": 51855712, "answer_count": 2, "score": 3, "last_activity_date": 1586878640, "creation_date": 1534323115, "last_edit_date": 1586878640, "question_id": 51855663, "link": "https://stackoverflow.com/questions/51855663/angular-input-event-is-not-fired-by-setting-the-value-with-the-model", "title": "Angular input event is not fired by setting the value with the model", "body": "<p>I use a input field which calls a method when the value in it changes. But when I set the value in the input field by the <code>ngModel</code> (not typed by hand) the \"value changed\" event of the input field will not be fired.</p>\n\n<p>Input field:</p>\n\n<pre><code>&lt;div&gt;\n  &lt;input type=\"text\" id=\"orderNumberFilter\" (input)=\"updateOrderNumberFilter($event)\" [(ngModel)]=\"orderNumberFilterValue\"&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>component:</p>\n\n<pre><code>public updateData(evt: any): void {\n  .finally(() =&gt; {\n    this.orderNumberFilterValue = \"test\"\n  })\n  .subscribe(\n    //get data from backend\n  });\n}\n\n\npublic updateOrderNumberFilter(evt: any): void {\n\n //do stuff with the event\n\n}\n</code></pre>\n"}, {"tags": ["typescript", "typescript-generics"], "answers": [{"tags": [], "owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "is_accepted": true, "score": 3, "last_activity_date": 1534323068, "creation_date": 1534323068, "answer_id": 51855652, "question_id": 51855605, "link": "https://stackoverflow.com/questions/51855605/how-to-unwrap-a-typescript-generic-internal-type/51855652#51855652", "title": "How to unwrap a typescript generic internal type", "body": "<p>This  a basic application of conditional types and their inference behavior </p>\n\n<pre><code>class EntityClass&lt;T extends Data&gt; {\n    public data: T; // T assuming this should be T\n\n    constructor(data: T) {\n        this.data = data;\n    }\n}\n\ntype GetDataClass&lt;T  extends EntityClass&lt;any&gt;&gt; = T  extends EntityClass&lt;infer U &gt; ? U: never;\nfunction extract&lt;Class extends EntityClass&lt;any&gt;&gt;(\n    entity: Class\n) : Result&lt;GetDataClass&lt;Class&gt;&gt; { return null as any}\n</code></pre>\n\n<p>Or you can also do it with a type query as well, but that means you will be tied to the <code>data</code> field, the conditional type will extract the generic type based on structure without you having to specify a particular field. </p>\n\n<pre><code>function extract&lt;Class extends EntityClass&lt;any&gt;&gt;(\n    entity: Class\n) : Result&lt;Class['data']&gt; { return null as any}\n</code></pre>\n\n<p>You can read more about type queries and conditional types <a href=\"https://www.typescriptlang.org/docs/handbook/advanced-types.html\" rel=\"nofollow noreferrer\">here</a></p>\n"}], "owner": {"reputation": 118, "user_id": 1394568, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/33942491d2dc4800ea1334c7b1dc792c?s=128&d=identicon&r=PG", "display_name": "oldlol", "link": "https://stackoverflow.com/users/1394568/oldlol"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1409, "favorite_count": 1, "accepted_answer_id": 51855652, "answer_count": 1, "score": 3, "last_activity_date": 1576507415, "creation_date": 1534322841, "question_id": 51855605, "link": "https://stackoverflow.com/questions/51855605/how-to-unwrap-a-typescript-generic-internal-type", "title": "How to unwrap a typescript generic internal type", "body": "<p>I have a graph of generic classes, where the wrapped type is needed to specify other classes.</p>\n\n<pre><code>interface Data {\n    id: number,\n}\n\nclass EntityClass&lt;T extends Data&gt; {\n    public data;\n\n    constructor(data: T) {\n        this.data = data;\n    }\n}\n\nclass Result&lt;T extends Data&gt; {\n    public data\n\n    constructor(data) {\n        this.data = data;\n    }\n}\n</code></pre>\n\n<p>Right now I'm passing both the type (<code>EntityClass&lt;any&gt;</code> and the internal type (<code>DataClass</code>), even though it always matches what would be <code>any</code> here.</p>\n\n<pre><code>function extract&lt;Class extends EntityClass&lt;any&gt;, DataClass extends Data&gt;(\n    entity: Class\n) : Result&lt;DataClass&gt; {}\n</code></pre>\n\n<p>Is there a way to \"unwrap\" the internal type of EntityClass, to avoid passing both? Here's what I'd like to do:</p>\n\n<pre><code>function extract&lt;Class extends EntityClass&lt;InternalClass&gt;&gt;(\n    entity: Class\n) : Result&lt;InternalClass&gt; {}\n</code></pre>\n"}, {"tags": ["angular", "typescript", "pipe", "observable"], "comments": [{"owner": {"reputation": 4514, "user_id": 2640467, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/7UJJQ.jpg?s=128&g=1", "display_name": "Luillyfe", "link": "https://stackoverflow.com/users/2640467/luillyfe"}, "edited": false, "score": 0, "creation_date": 1534346495, "post_id": 51855521, "comment_id": 90675439, "body": "Have you suscribed to it?"}, {"owner": {"reputation": 173, "user_id": 9433582, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "fly high", "link": "https://stackoverflow.com/users/9433582/fly-high"}, "reply_to_user": {"reputation": 4514, "user_id": 2640467, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/7UJJQ.jpg?s=128&g=1", "display_name": "Luillyfe", "link": "https://stackoverflow.com/users/2640467/luillyfe"}, "edited": false, "score": 0, "creation_date": 1534402252, "post_id": 51855521, "comment_id": 90693630, "body": "Yes. subscribed."}], "answers": [{"tags": [], "owner": {"reputation": 57402, "user_id": 5496973, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JH9iD.jpg?s=128&g=1", "display_name": "Suren Srapyan", "link": "https://stackoverflow.com/users/5496973/suren-srapyan"}, "is_accepted": true, "score": 2, "last_activity_date": 1534322633, "creation_date": 1534322633, "answer_id": 51855545, "question_id": 51855521, "link": "https://stackoverflow.com/questions/51855521/angular-how-to-get-the-api-return-data/51855545#51855545", "title": "Angular / how to get the api return data", "body": "<p>Just use <code>tap</code> operator combined with <code>map</code></p>\n\n<pre><code>add(content): Observable&lt;Comment&gt; {\n     return this.apiService.post('/api/comment/', comment)\n                           .pipe(tap(data =&gt; console.log('data.comment :', data.comment)),\n                                 map(data =&gt; data.comment));\n}\n</code></pre>\n\n<p><code>tap</code> is used when you don't need to change the response shape, you need something to log or to add into the local storage and so on.</p>\n"}], "owner": {"reputation": 173, "user_id": 9433582, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "fly high", "link": "https://stackoverflow.com/users/9433582/fly-high"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 238, "favorite_count": 0, "accepted_answer_id": 51855545, "answer_count": 1, "score": 2, "last_activity_date": 1534322790, "creation_date": 1534322497, "last_edit_date": 1534322790, "question_id": 51855521, "link": "https://stackoverflow.com/questions/51855521/angular-how-to-get-the-api-return-data", "title": "Angular / how to get the api return data", "body": "<p>I use pipe and map to send to return value.</p>\n\n<pre><code>add(content): Observable&lt;Comment&gt; {\n    return this.apiService\n               .post('/api/comment/', comment)\n               .pipe(map(data =&gt; data.comment));\n}\n</code></pre>\n\n<p>I want to check the 'data' value.</p>\n\n<p>For example, using <code>console.log</code></p>\n\n<pre><code>add(content): Observable&lt;Comment&gt; {\n     return this.apiService\n                .post('/api/comment/', comment)\n                .pipe(map(data =&gt; data.comment, data =&gt; console.log('data.comment :', data.comment)));\n}\n</code></pre>\n\n<p>In this case, it does not work.</p>\n\n<p>I wonder how to use it in this case.</p>\n"}, {"tags": ["angular", "typescript", "dependency-injection", "angular-ui-router"], "answers": [{"comments": [{"owner": {"reputation": 38, "user_id": 2482417, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/i0sE2.png?s=128&g=1", "display_name": "Roelof Jan Elsinga", "link": "https://stackoverflow.com/users/2482417/roelof-jan-elsinga"}, "edited": false, "score": 0, "creation_date": 1535396398, "post_id": 52045019, "comment_id": 91041838, "body": "That makes perfect sense, thank you for your answer! I&#39;ll implement this tomorrow! I&#39;ve currently solved this using: <code>{ token: &#39;myToken&#39;, deps: [Transition], resolveFn: exportedFunctionRightHere}</code>. This works well, but I like the way you solved it, it keeps the router file clean."}, {"owner": {"reputation": 3182, "user_id": 1580092, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/ef4d8b91c49a96f203f18c475157e690?s=128&d=identicon&r=PG", "display_name": "Mark", "link": "https://stackoverflow.com/users/1580092/mark"}, "edited": false, "score": 0, "creation_date": 1554319542, "post_id": 52045019, "comment_id": 97711897, "body": "Currently I am learning about UI-Router for Angular using the following link: <a href=\"https://github.com/ui-router/sample-app-angular\" rel=\"nofollow noreferrer\">github.com/ui-router/sample-app-angular</a>. However, I am getting errors installing the project. I am wondering if I can post them here in this thread?"}], "tags": [], "owner": {"reputation": 8046, "user_id": 3225368, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/scNVA.jpg?s=128&g=1", "display_name": "Chris T", "link": "https://stackoverflow.com/users/3225368/chris-t"}, "is_accepted": true, "score": 2, "last_activity_date": 1535394402, "creation_date": 1535394402, "answer_id": 52045019, "question_id": 51855046, "link": "https://stackoverflow.com/questions/51855046/angular-6-ui-router-class-resolvers/52045019#52045019", "title": "Angular 6 UI Router class resolvers", "body": "<p>FYI UI-Router for Angular (<code>@uirouter/angular</code>) is a totally separate implementation -- it does not extend the Angular Router (<code>@angular/router</code>).  </p>\n\n<p>The resolve system in <code>@uirouter/angular</code> works much the same as the resolve system of the AngularJS version.  The main difference is that services in AngularJS must always be injected using a <em>string token</em>.  In Angular, services may be injected using Token objects (<code>OpaqueToken</code> or <code>InjectionToken</code>) or class references.</p>\n\n<p>In hybrid mode (<code>@uirouter/angular-hybrid</code>), UI-Router resolves are always injected using string tokens.  If you want to use non-string tokens in a resolver, inject the <code>Transition</code> object using the <code>$transition$</code> string token.  Then, use the <a href=\"https://ui-router.github.io/ng2/docs/2.0.0/classes/transition.transition-1.html#injector\" rel=\"nofollow noreferrer\">Transition.injector()</a> API to access your services.</p>\n\n<pre><code>export const pageDataResolver = ($transition$) =&gt; {\n  const _page: PageService = $transition$.injector().get(PageService);\n  const ngRedux: NgRedux&lt;IAppState&gt; = $transition$.injector().get(NgRedux);\n\n  return this._page.getPageInformation(\n            this.ngRedux.getState().currentLanguage,\n            route.paramMap.get('slug')\n        ).toPromise();\n}\n\nconst routes = {\n  states: [{\n    name: 'page',\n    url: '/page/:slug/',\n    component: ViewPageComponent,\n    resolve: {\n      boatData: PageDataResolver\n    },\n    parent: 'public'\n  }]\n};\n</code></pre>\n\n<p>I've added docs to <code>@uirouter/angular-hybrid</code> which explains this limitation:\n<a href=\"https://github.com/ui-router/angular-hybrid#resolve\" rel=\"nofollow noreferrer\">https://github.com/ui-router/angular-hybrid#resolve</a></p>\n"}], "owner": {"reputation": 38, "user_id": 2482417, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/i0sE2.png?s=128&g=1", "display_name": "Roelof Jan Elsinga", "link": "https://stackoverflow.com/users/2482417/roelof-jan-elsinga"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1763, "favorite_count": 0, "accepted_answer_id": 52045019, "answer_count": 1, "score": 1, "last_activity_date": 1535394402, "creation_date": 1534320359, "last_edit_date": 1534328298, "question_id": 51855046, "link": "https://stackoverflow.com/questions/51855046/angular-6-ui-router-class-resolvers", "title": "Angular 6 UI Router class resolvers", "body": "<p>I'm currently working on a AngularJS to Angular 6 migration, so I'm using the Angular UI Router for the transitions (@uirouter/angularjs, @uirouter/angular, @uirouter/angular-hybrid).</p>\n\n<p>I've seen that you can use resolver classes to resolve data in your routes, but as far as I can see this is only available in @angular/router. I've read through the documentation and the source code and did see references in the UI router to the \"normal\" router, so I'm assuming that the UI router is simply extending the \"normal\" router. </p>\n\n<p>Now my question is: is there a way I can use the resolver classes in UI router without having to make use of the provided Resolvables?</p>\n\n<p>The desired usage as displayed in @angular/router:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const routes = {\r\n  states: [{\r\n    name: 'page',\r\n    url: '/page/:slug/',\r\n    component: ViewPageComponent,\r\n    resolve: {\r\n      boatData: PageDataResolver\r\n    },\r\n    parent: 'public'\r\n  }]\r\n};\r\n\r\n//Module for the states, the forRoot is defined in my app.module:\r\n@NgModule({\r\n  imports: [\r\n    UIRouterUpgradeModule.forChild(routes)\r\n  ],\r\n  providers: [\r\n    PageDataResolver,\r\n    PageService //di in the PageDataResolver\r\n  ]\r\n})\r\nexport class PublicRoutesModule {}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>And the contents of the PageDataResolver:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>import {Injectable} from '@angular/core';\r\nimport {NgRedux} from '@angular-redux/store';\r\nimport {PageService} from '../page.service';\r\nimport {IAppState} from '../../../redux/interfaces/state';\r\nimport {Resolve} from \"@angular/router\";\r\n\r\n@Injectable()\r\nexport class BoatDataResolver implements Resolve&lt;Promise&lt;any&gt;&gt; {\r\n\r\n    constructor(\r\n        private _page: PageService,\r\n        private ngRedux: NgRedux&lt;IAppState&gt;\r\n    ) {}\r\n\r\n    resolve(route): Promise&lt;any&gt; {\r\n        return this._page.getPageInformation(\r\n            this.ngRedux.getState().currentLanguage,\r\n            route.paramMap.get('slug')\r\n        ).toPromise();\r\n    }\r\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>However, when I use this exact snippet, I get a runtime error saying \"No provider for _page!\". So it seems that the services I inject, aren't actually injected in the StateDeclaration. </p>\n\n<p>I hope you can help, thanks for your time!</p>\n"}, {"tags": ["typescript", "angular6", "rxjs6"], "comments": [{"owner": {"reputation": 22363, "user_id": 4468617, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a09c08e1ae93a83e9102b6715fc75b4c?s=128&d=identicon&r=PG", "display_name": "Matt McCutchen", "link": "https://stackoverflow.com/users/4468617/matt-mccutchen"}, "edited": false, "score": 0, "creation_date": 1534317330, "post_id": 51854143, "comment_id": 90661207, "body": "It looks like <code>response</code> is getting a different type in the two versions of the code.  This is presumably a consequence of the type of one of the things passed in up to that point: <code>this.http</code>, <code>url</code>, <code>body</code>, or <code>httpOptions</code>.  It&#39;s hard for me to debug without knowing the type of <code>this.http</code>.  But you can debug by yourself by hovering over each function call to see which overload is being chosen and the resulting return type."}, {"owner": {"reputation": 11616, "user_id": 6703783, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/af329d320f6609622cc298ccdeb1ace7?s=128&d=identicon&r=PG&f=1", "display_name": "Manu Chadha", "link": "https://stackoverflow.com/users/6703783/manu-chadha"}, "reply_to_user": {"reputation": 22363, "user_id": 4468617, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a09c08e1ae93a83e9102b6715fc75b4c?s=128&d=identicon&r=PG", "display_name": "Matt McCutchen", "link": "https://stackoverflow.com/users/4468617/matt-mccutchen"}, "edited": false, "score": 0, "creation_date": 1534320164, "post_id": 51854143, "comment_id": 90662340, "body": "Thanks. You are correct it seems. <code>post</code> has several overloaded methods and one of them return <code>Observable&lt;ArrayBuffer&gt;</code> - <a href=\"https://angular.io/api/common/http/HttpClient#post\" rel=\"nofollow noreferrer\">angular.io/api/common/http/HttpClient#post</a> . I&#39;ll debug further and update this thread. If it works, happy to accept your comment as answer"}, {"owner": {"reputation": 11616, "user_id": 6703783, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/af329d320f6609622cc298ccdeb1ace7?s=128&d=identicon&r=PG&f=1", "display_name": "Manu Chadha", "link": "https://stackoverflow.com/users/6703783/manu-chadha"}, "reply_to_user": {"reputation": 22363, "user_id": 4468617, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a09c08e1ae93a83e9102b6715fc75b4c?s=128&d=identicon&r=PG", "display_name": "Matt McCutchen", "link": "https://stackoverflow.com/users/4468617/matt-mccutchen"}, "edited": false, "score": 0, "creation_date": 1534395474, "post_id": 51854143, "comment_id": 90691160, "body": "sorry, I have not been able to figure this out :(. Updated the question with more details"}], "answers": [{"comments": [{"owner": {"reputation": 11616, "user_id": 6703783, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/af329d320f6609622cc298ccdeb1ace7?s=128&d=identicon&r=PG&f=1", "display_name": "Manu Chadha", "link": "https://stackoverflow.com/users/6703783/manu-chadha"}, "edited": false, "score": 0, "creation_date": 1534398379, "post_id": 51870035, "comment_id": 90692014, "body": "sorry,that didn&#39;t work. I was able to solve the issue but still have doubts. You may look at my answer"}], "tags": [], "owner": {"reputation": 2552, "user_id": 5487673, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/tDPsf.jpg?s=128&g=1", "display_name": "Simon K", "link": "https://stackoverflow.com/users/5487673/simon-k"}, "is_accepted": false, "score": 0, "last_activity_date": 1534396712, "creation_date": 1534396712, "answer_id": 51870035, "question_id": 51854143, "link": "https://stackoverflow.com/questions/51854143/unable-to-compile-a-code-when-converted-into-a-function/51870035#51870035", "title": "unable to compile a code when converted into a function", "body": "<p>While I can't answer why you'd be getting a TS error now when you weren't before, I can advise you how to get rid of it (assuming the code was previously working before you refactored it). If you give <code>response</code> a type on declaration, then it won't get an assumed type that you have to try and map:</p>\n\n<pre><code>.pipe(tap((response: HttpEvent&lt;any&gt;) =&gt; { \n\n      let httpEvent = response; // No need for type-casting here anymore.\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 11616, "user_id": 6703783, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/af329d320f6609622cc298ccdeb1ace7?s=128&d=identicon&r=PG&f=1", "display_name": "Manu Chadha", "link": "https://stackoverflow.com/users/6703783/manu-chadha"}, "is_accepted": true, "score": 0, "last_activity_date": 1534398354, "creation_date": 1534398354, "answer_id": 51870327, "question_id": 51854143, "link": "https://stackoverflow.com/questions/51854143/unable-to-compile-a-code-when-converted-into-a-function/51870327#51870327", "title": "unable to compile a code when converted into a function", "body": "<p>i was able to solve it but now I am left with more questions than answers. Would appreciate if someone could explain the behaviour to me.</p>\n\n<p>I was using the following <code>httpOptions</code> object</p>\n\n<pre><code>const httpOptions = {\n  headers: new HttpHeaders({ 'Content-Type': 'application/json' }),\n\nwithCredentials: true, \nobserve: 'response' as 'response', \n\n};\n</code></pre>\n\n<p>as was using it as follows in some places in the code.</p>\n\n<pre><code> return this.http.post(this.SIGNUP_USER_URL,body,httpOptions)\n</code></pre>\n\n<p>This worked.</p>\n\n<p>Then I thought of changing the <code>http.post</code> into a function <code>sendMessage</code> (as explained in the question) and replaced it in only once place (remember I am using <code>this.http.post</code> in several places so wanted to try it at one place to begin with). I noticed that using <code>httpOptions</code> made <code>post</code> return <code>Observable&lt;ArrayBuffer&gt;</code>. </p>\n\n<p>Doubt 1 - why?</p>\n\n<p>Then I changed <code>httpOptions</code> to</p>\n\n<pre><code>const httpOptions = {\n  headers: new HttpHeaders({ 'Content-Type': 'application/json' }),\n\nwithCredentials: true, \nobserve: 'response' as 'response', \nresponseType:'json'  \n};\n</code></pre>\n\n<p>It started giving me errors at places where I am using <code>http.post</code> directly (without <code>sendMessage</code>. The error was</p>\n\n<pre><code>ERROR in src/app/web-to-backend-interface.service.ts(81,71): error TS2345: Argument of type '{ headers: HttpHeaders; withCredentials: boolean; observe: \"response\"; responseType: string; }' is not assignable to parameter of type '{ headers?: HttpHeaders | { [header: string]: string | string[]; }; observe?: \"body\"; params?: Ht...'.\n  Types of property 'observe' are incompatible.\n    Type '\"response\"' is not assignable to type '\"body\"'.\nsrc/app/web-to-backend-interface.service.ts(112,52): error TS2345: Argument of type '{ headers: HttpHeaders; withCredentials: boolean; observe: \"response\"; responseType: string; }' is not assignable to parameter of type '{ headers?: HttpHeaders | { [header: string]: string | string[]; }; observe?: \"body\"; params?: Ht...'.\n  Types of property 'observe' are incompatible.\n    Type '\"response\"' is not assignable to type '\"body\"'.\nsrc/app/web-to-backend-interface.service.ts(196,73): error TS2345: Argument of type '{ headers: HttpHeaders; withCredentials: boolean; observe: \"response\"; responseType: string; }' is not assignable to parameter of type '{ headers?: HttpHeaders | { [header: string]: string | string[]; }; observe?: \"body\"; params?: Ht...'.\nsrc/app/web-to-backend-interface.service.ts(216,72): error TS2345: Argument of type '{ headers: HttpHeaders; withCredentials: boolean; observe: \"response\"; responseType: string; }' is not assignable to parameter of type '{ headers?: HttpHeaders | { [header: string]: string | string[]; }; observe?: \"body\"; params?: Ht...'.\nsrc/app/web-to-backend-interface.service.ts(251,54): error TS2345: Argument of type '{ headers: HttpHeaders; withCredentials: boolean; observe: \"response\"; responseType: string; }' is not assignable to parameter of type '{ headers?: HttpHeaders | { [header: string]: string | string[]; }; observe?: \"body\"; params?: Ht...'.\nsrc/app/web-to-backend-interface.service.ts(291,9): error TS2322: Type 'Observable&lt;ArrayBuffer&gt;' is not assignable to type 'Observable&lt;HttpEvent&lt;any&gt;&gt;'.\n  Type 'ArrayBuffer' is not assignable to type 'HttpEvent&lt;any&gt;'.\n    Type 'ArrayBuffer' is not assignable to type 'HttpUserEvent&lt;any&gt;'.\n      Property 'type' is missing in type 'ArrayBuffer'.\n</code></pre>\n\n<p>So I removed <code>responseType:'json'</code> from <code>httpOptions</code> and added an explicit object in <code>this.http.post</code> in my <code>sendMessage</code> which worked!</p>\n\n<pre><code>private sendMessage(url:string, body:any,httpOptions){\n  ...\n    let observable:Observable&lt;HttpEvent&lt;any&gt;&gt; = this.http.post(url,body,{\n          headers: new HttpHeaders({ 'Content-Type': 'application/json' }),\n          withCredentials: true,\n          observe: 'events',\n          responseType: 'json'\n        })\n...\n}\n</code></pre>\n\n<p>there seem to be relationship between observe and responseType. Eg observe=body and responseType=text means that post should observe (look in) the body, interpret it as text and return Observable. But I wonder why I just couldn't change <code>httpOptions</code></p>\n"}], "owner": {"reputation": 11616, "user_id": 6703783, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/af329d320f6609622cc298ccdeb1ace7?s=128&d=identicon&r=PG&f=1", "display_name": "Manu Chadha", "link": "https://stackoverflow.com/users/6703783/manu-chadha"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 799, "favorite_count": 0, "accepted_answer_id": 51870327, "answer_count": 2, "score": 0, "last_activity_date": 1534398354, "creation_date": 1534315783, "last_edit_date": 1534395819, "question_id": 51854143, "link": "https://stackoverflow.com/questions/51854143/unable-to-compile-a-code-when-converted-into-a-function", "title": "unable to compile a code when converted into a function", "body": "<p>I have the following piece of code which works correctly.</p>\n\n<pre><code>  public createData(data:Data):Observable&lt;any&gt;{\n    console.log('contacting server at '+this.API_URL +this.NEW_DATA_URL +\" with data \"+data+ \" with httpOptions \"+httpOptions.withCredentials + \",\"+httpOptions.headers );\n\nlet newData = new Data(data)    \n    let body = JSON.stringify(newQuestion); \n//I WANT TO MOVE THE CODE BELOW INTO A FUNCTION BUT AM GETTING COMPILATION ERROR\n    this.loaderService.show();\n    return this.http.post(this.NEW_QUESTION_URL,body,httpOptions)\n      .pipe(tap(response =&gt; { \n        let httpEvent = &lt;HttpEvent&lt;any&gt;&gt;response;\n        if(httpEvent.type === HttpEventType.Response)\n        {\n          console.log('response from backend service:', response);\n\n          return result;\n        }\n        else {\n          console.log(\"not an http response\")\n          return response;\n        }\n      })\n      ,catchError(this.handleError)\n        ,finalize(()=&gt; this.loaderService.hide())); //error handler if Observable fails\n\n  }\n</code></pre>\n\n<p>As I can reuse some part of the code, I thought to create a function but now I am getting compilation errors. I am unable to find out what is the mistake.</p>\n\n<p>The new function is</p>\n\n<pre><code>private sendMessage(url:string, body:any,httpOptions:any){\n    this.loaderService.show();\n    return this.http.post(url,body,httpOptions)\n      .pipe(tap(response =&gt; { \n\n          let httpEvent = &lt;HttpEvent&lt;any&gt;&gt;response; //ERROR HERE - 'ArrayBuffer' cannot be converted to type 'HttpEvent&lt;any&gt;'.\n          if(httpEvent.type === HttpEventType.Response)\n          {\n            console.log('response from backend service:', response);\n\n            let result = &lt;HttpResponse&lt;any&gt;&gt;response;\n\n            return result;\n          }\n          else {\n            console.log(\"not an http response\")\n            return response;\n          }\n        })\n        ,catchError(this.handleError)\n        ,finalize(()=&gt; this.loaderService.hide())); //error handler if Observable fails\n    }\n</code></pre>\n\n<p>ERROR is \n<code>ERROR in src/app/web-to-backend-interface.service.ts(264,27): error TS2352:</code> <code>Type 'ArrayBuffer' cannot be converted to type 'HttpEvent&lt;any&gt;'.</code>\n<code>Type 'ArrayBuffer' is not comparable to type 'HttpUserEvent&lt;any&gt;'.</code>\n<code>Property 'type' is missing in type 'ArrayBuffer'.</code></p>\n\n<p><code>http.post</code> has several overloaded methods and one of them return Observable - angular.io/api/common/http/HttpClient#post. How do I make Angular use the overloaded version which returns <code>Observable&lt;T&gt;</code>? I changed the code and added <code>responseType:'json'</code> but that didnt work either</p>\n\n<pre><code>const httpOptions = {\n  headers: new HttpHeaders({ 'Content-Type': 'application/json' }),\n  withCredentials: true, \nobserve: 'response' as 'response', \n  responseType: 'json' \n};\n\n\nlet observable:Observable&lt;HttpEvent&lt;any&gt;&gt; = this.http.post(url,body,httpOptions)\n    return observable.pipe(tap((httpEvent:HttpEvent&lt;any&gt;) =&gt; {....}\n</code></pre>\n\n<p>The errors I am seeing are</p>\n\n<pre><code>ERROR in src/app/web-to-backend-interface.service.ts(80,71): error TS2345: Argument of type '{ headers: HttpHeaders; withCredentials: boolean; observe: \"response\"; responseType: string; }' is not assignable to parameter of type '{ headers?: HttpHeaders | { [header: string]: string | string[]; }; observe?: \"body\"; params?: Ht...'.\n  Types of property 'observe' are incompatible.\n    Type '\"response\"' is not assignable to type '\"body\"'.\nsrc/app/web-to-backend-interface.service.ts(111,52): error TS2345: Argument of type '{ headers: HttpHeaders; withCredentials: boolean; observe: \"response\"; responseType: string; }' is not assignable to parameter of type '{ headers?: HttpHeaders | { [header: string]: string | string[]; }; observe?: \"body\"; params?: Ht...'.\n  Types of property 'observe' are incompatible.\n    Type '\"response\"' is not assignable to type '\"body\"'.\nsrc/app/web-to-backend-interface.service.ts(195,73): error TS2345: Argument of type '{ headers: HttpHeaders; withCredentials: boolean; observe: \"response\"; responseType: string; }' is not assignable to parameter of type '{ headers?: HttpHeaders | { [header: string]: string | string[]; }; observe?: \"body\"; params?: Ht...'.\nsrc/app/web-to-backend-interface.service.ts(215,72): error TS2345: Argument of type '{ headers: HttpHeaders; withCredentials: boolean; observe: \"response\"; responseType: string; }' is not assignable to parameter of type '{ headers?: HttpHeaders | { [header: string]: string | string[]; }; observe?: \"body\"; params?: Ht...'.\nsrc/app/web-to-backend-interface.service.ts(250,54): error TS2345: Argument of type '{ headers: HttpHeaders; withCredentials: boolean; observe: \"response\"; responseType: string; }' is not assignable to parameter of type '{ headers?: HttpHeaders | { [header: string]: string | string[]; }; observe?: \"body\"; params?: Ht...'.\nsrc/app/web-to-backend-interface.service.ts(290,9): error TS2322: Type 'Observable&lt;ArrayBuffer&gt;' is not assignable to type 'Observable&lt;HttpEvent&lt;any&gt;&gt;'.\n  Type 'ArrayBuffer' is not assignable to type 'HttpEvent&lt;any&gt;'.\n    Type 'ArrayBuffer' is not assignable to type 'HttpUserEvent&lt;any&gt;'.\n      Property 'type' is missing in type 'ArrayBuffer'.\nsrc/app/web-to-backend-interface.service.ts(296,59): error TS2552: Cannot find name 'response'. Did you mean 'Response'?\n</code></pre>\n\n<p>Why does making a separate function of a working code makes it non-compilable? What is my mistake?</p>\n"}, {"tags": ["angular", "typescript"], "comments": [{"owner": {"reputation": 1828, "user_id": 1478238, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/eMZzp.png?s=128&g=1", "display_name": "Shai Aharoni", "link": "https://stackoverflow.com/users/1478238/shai-aharoni"}, "edited": false, "score": 0, "creation_date": 1534315505, "post_id": 51854046, "comment_id": 90660535, "body": "The handleError function returns a function which receives an error parameter and  returns Observable&lt;T&gt;"}], "answers": [{"comments": [{"owner": {"reputation": 270, "user_id": 9191495, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/00f4e38ea855dde0a41417f862f94c9a?s=128&d=identicon&r=PG&f=1", "display_name": "stormtrooper", "link": "https://stackoverflow.com/users/9191495/stormtrooper"}, "edited": false, "score": 0, "creation_date": 1534315982, "post_id": 51854070, "comment_id": 90660722, "body": "man, that&#39;s confusing sometimes with all the brackets. Thanks."}], "tags": [], "owner": {"reputation": 57402, "user_id": 5496973, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JH9iD.jpg?s=128&g=1", "display_name": "Suren Srapyan", "link": "https://stackoverflow.com/users/5496973/suren-srapyan"}, "is_accepted": true, "score": 5, "last_activity_date": 1534315371, "creation_date": 1534315371, "answer_id": 51854070, "question_id": 51854046, "link": "https://stackoverflow.com/questions/51854046/what-does-double-type-declarations-in-typescript-mean/51854070#51854070", "title": "What does double type declarations in TypeScript mean?", "body": "<p>You return a type which is a <strong><em>function</em></strong>. It takes an <code>error: any</code> and returns <code>Observable&lt;T&gt;</code>.</p>\n\n<pre><code>(error: any): Observable&lt;T&gt;\n</code></pre>\n\n<p>After this you initialize your variable with a function which has body</p>\n\n<pre><code>=&gt; {\n      console.error(error);\n\n      this.log(`${operation} failed: ${error.message}`);\n\n      return of(result as T);\n};\n</code></pre>\n\n<p>So your <code>handleError</code> <strong>returns a function with signature taking a parameter of type <code>any</code> and returning an <code>Observable&lt;T&gt;</code></strong></p>\n\n<pre><code>(error: any): Observable&lt;T&gt;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 630270, "user_id": 571407, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2f0d9dec16bae1e06552af55ddefc11f?s=128&d=identicon&r=PG", "display_name": "JB Nizet", "link": "https://stackoverflow.com/users/571407/jb-nizet"}, "is_accepted": false, "score": 2, "last_activity_date": 1534315406, "creation_date": 1534315406, "answer_id": 51854079, "question_id": 51854046, "link": "https://stackoverflow.com/questions/51854046/what-does-double-type-declarations-in-typescript-mean/51854079#51854079", "title": "What does double type declarations in TypeScript mean?", "body": "<pre><code>return (error: any): Observable&lt;T&gt; =&gt; { ... }\n</code></pre>\n\n<p>That returns a function, taking an argument named <code>error</code>, of type <code>any</code>, whose return type is <code>Observable&lt;T&gt;</code>, and whose body is between the curly braces.</p>\n"}], "owner": {"reputation": 270, "user_id": 9191495, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/00f4e38ea855dde0a41417f862f94c9a?s=128&d=identicon&r=PG&f=1", "display_name": "stormtrooper", "link": "https://stackoverflow.com/users/9191495/stormtrooper"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 103, "favorite_count": 0, "accepted_answer_id": 51854070, "answer_count": 2, "score": 3, "last_activity_date": 1534315406, "creation_date": 1534315224, "question_id": 51854046, "link": "https://stackoverflow.com/questions/51854046/what-does-double-type-declarations-in-typescript-mean", "title": "What does double type declarations in TypeScript mean?", "body": "<p>I was doing the Angular tutorial <a href=\"https://angular.io/tutorial/toh-pt6#error-handling\" rel=\"nofollow noreferrer\">here</a></p>\n\n<p>The following piece of code have double type declarations, but I don't understand what it means.</p>\n\n<pre><code>handleError&lt;T&gt;(operation = 'operation', result?: T) {\n   return (error: any): Observable&lt;T&gt; =&gt; {\n      console.error(error);\n\n      this.log(`${operation} failed: ${error.message}`);\n\n      return of(result as T);\n   };\n}\n</code></pre>\n\n<p>So error is declared as of type any, then there's another colon to declare a function with Observable as the parameter. What exactly is it returning?</p>\n"}, {"tags": ["angular", "typescript"], "answers": [{"comments": [{"owner": {"reputation": 675, "user_id": 2989388, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/e86a0674809bad9d9c550f91f447837a?s=128&d=identicon&r=PG&f=1", "display_name": "Joe Berthelot", "link": "https://stackoverflow.com/users/2989388/joe-berthelot"}, "edited": false, "score": 0, "creation_date": 1534308662, "post_id": 51853121, "comment_id": 90658746, "body": "Works perfectly.  Thank you!"}], "tags": [], "owner": {"reputation": 57402, "user_id": 5496973, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JH9iD.jpg?s=128&g=1", "display_name": "Suren Srapyan", "link": "https://stackoverflow.com/users/5496973/suren-srapyan"}, "is_accepted": true, "score": 3, "last_activity_date": 1534308693, "last_edit_date": 1534308693, "creation_date": 1534308545, "answer_id": 51853121, "question_id": 51853108, "link": "https://stackoverflow.com/questions/51853108/angular-6-cannot-read-property-useremail-of-undefined/51853121#51853121", "title": "Angular 6 Cannot Read Property &#39;userEmail&#39; of undefined", "body": "<p><code>emailMatchValidator</code> function have lost its context - means that <code>this</code> is not showing to the component now. You need to bind the context explicitly or use <code>arrow function</code>.</p>\n\n<p>Using explicitly binding</p>\n\n<pre><code>{ validator: this.emailMatchValidator.bind(this) })\n</code></pre>\n\n<p>you say that <code>this</code> will show to the given value to the <code>bind</code> function - in our case to the <code>ProfileComponent</code>.</p>\n"}], "owner": {"reputation": 675, "user_id": 2989388, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/e86a0674809bad9d9c550f91f447837a?s=128&d=identicon&r=PG&f=1", "display_name": "Joe Berthelot", "link": "https://stackoverflow.com/users/2989388/joe-berthelot"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 456, "favorite_count": 0, "accepted_answer_id": 51853121, "answer_count": 1, "score": 2, "last_activity_date": 1534308693, "creation_date": 1534308450, "question_id": 51853108, "link": "https://stackoverflow.com/questions/51853108/angular-6-cannot-read-property-useremail-of-undefined", "title": "Angular 6 Cannot Read Property &#39;userEmail&#39; of undefined", "body": "<p>Code:</p>\n\n<pre><code>// Angular Modules\nimport { Component, OnInit } from '@angular/core';\nimport { FormGroup, FormBuilder, Validators } from '@angular/forms';\nimport { Title } from '@angular/platform-browser';\n\n// Services\nimport { AuthService } from '../../services/auth.service';\n\n@Component({\n  selector: 'app-profile',\n  templateUrl: './profile.component.html',\n  styleUrls: ['./profile.component.less']\n})\nexport class ProfileComponent implements OnInit {\n  title = 'Profile';\n  showError = false;\n  showSuccess = false;\n  showAccountRemovalModal = false;\n\n  profileForm: FormGroup;\n  passwordForm: FormGroup;\n  removeAccountForm: FormGroup;\n  user: Object;\n  userEmail: String;\n  errorMessage: String;\n  successMessage: String;\n\n  constructor(private TitleService: Title,\n              private fb: FormBuilder,\n              private authService: AuthService) {\n\n    // Creates the profileForm schema with validations.\n    this.profileForm = this.fb.group({\n      name: [{value: null, disabled: false}, Validators.required],\n      username: [{value: null, disabled: true}, Validators.required],\n      email: [{value: null, disabled: false}, [Validators.required, Validators.email]]\n    });\n\n    // Creates the passwordForm schema with validations.\n    this.passwordForm = this.fb.group({\n      passwords: fb.group({\n        password: [null, [Validators.required]],\n        confirmPassword: [null, [Validators.required]]\n      }, {validator: this.passwordMatchValidator})\n    });\n\n    // Creates the removeAccountForm schema with validations.\n    this.removeAccountForm = this.fb.group({\n      emailAddress: fb.group({\n        verifyEmail: [null, [Validators.required]]\n      }, {validator: this.emailMatchValidator})\n    });\n  }\n\n  // Compares the password and confirmPassword fields for a match.\n  passwordMatchValidator(form: FormGroup) {\n    return form.controls['password'].value === form.controls['confirmPassword'].value ? null : {\n      'mismatch': true\n    };\n  }\n\n  // Compares the entered email address field for account removal.\n  emailMatchValidator(form: FormGroup) {\n    return form.controls['verifyEmail'].value === this.userEmail ? null : {\n      'mismatch': true\n    };\n  }\n\n  // Updates the profile of the User.\n  updateProfile(id, name, email) {\n    const user = {\n      name: name,\n      email: email,\n    };\n\n    this.authService.updateUser(id, user).subscribe(data =&gt; {\n      if (data) {\n        console.log(data);\n        this.successMessage = 'Your profile information has been updated!';\n        this.showSuccess = true;\n      } else {\n        this.errorMessage = data.msg;\n        this.showError = true;\n      }\n    });\n  }\n\n  removeUser(id) {\n    this.authService.removeUser(id);\n  }\n\n  ngOnInit() {\n    // Gets the current User object.\n    this.authService.getUser().subscribe(profile =&gt; {\n      this.user = profile;\n      this.userEmail = profile.email;\n    },\n    err =&gt; {\n      console.log(err);\n      return false;\n    });\n\n    // Sets the page title.\n    this.TitleService.setTitle('WODGate - ' + this.title);\n  }\n}\n</code></pre>\n\n<p>At the bottom, in my <code>ngOnInit</code>, I'm pushing a string to u<code>serEmail</code> which is valid.  <code>console.log(profile.email)</code> returns a valid string.  The error I'm getting comes from the <code>emailMatchValidator</code> function where I'm trying to read <code>this.userEmail</code>.  Actually, even if I try to read <code>this.user</code> anywhere in my .ts file I get the same error.  In my HTML, I have to read the values using the <code>?</code> operator such as <code>user?.email</code> for it to work.</p>\n\n<p>I need to be able to read <code>this.userEmail</code> in my .ts file but I'm getting the error <em>\"Cannot Read Property 'userEmail' of undefined\"</em>.</p>\n\n<p>Here is the function from my service for reference:</p>\n\n<pre><code>// Return Single User\n  getUser() {\n    const headers = new Headers();\n    this.loadToken();\n    headers.append('Authorization', this.authToken);\n    headers.append('Content-Type', 'application/json');\n    return this.http.get('http://localhost:4000/api/users/' + this.user.id, {headers: headers})\n      .map(res =&gt; res.json());\n  }\n</code></pre>\n"}, {"tags": ["typescript", "import"], "comments": [{"owner": {"reputation": 22363, "user_id": 4468617, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a09c08e1ae93a83e9102b6715fc75b4c?s=128&d=identicon&r=PG", "display_name": "Matt McCutchen", "link": "https://stackoverflow.com/users/4468617/matt-mccutchen"}, "edited": false, "score": 0, "creation_date": 1534307345, "post_id": 51852938, "comment_id": 90658451, "body": "What happens if you just write <code>const TASK_CLASS = TASK_IMPORT_FUNCTION.Task</code>?"}, {"owner": {"reputation": 1264, "user_id": 4021204, "user_type": "registered", "accept_rate": 41, "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "divramod", "link": "https://stackoverflow.com/users/4021204/divramod"}, "reply_to_user": {"reputation": 22363, "user_id": 4468617, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a09c08e1ae93a83e9102b6715fc75b4c?s=128&d=identicon&r=PG", "display_name": "Matt McCutchen", "link": "https://stackoverflow.com/users/4468617/matt-mccutchen"}, "edited": false, "score": 0, "creation_date": 1534308138, "post_id": 51852938, "comment_id": 90658622, "body": "this is running :-) i was blind then. thx a lot!"}], "answers": [{"tags": [], "owner": {"reputation": 24353, "user_id": 1137432, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/3c6c74e3328f48a1d99b51c95ab9f473?s=128&d=identicon&r=PG", "display_name": "jh314", "link": "https://stackoverflow.com/users/1137432/jh314"}, "is_accepted": false, "score": 2, "last_activity_date": 1534307430, "creation_date": 1534307430, "answer_id": 51852982, "question_id": 51852938, "link": "https://stackoverflow.com/questions/51852938/typescript-dynamically-import-classes/51852982#51852982", "title": "Typescript: dynamically import classes", "body": "<p>Assuming <code>Task</code> class is in <code>task.ts</code>, you can use dynamic import:</p>\n\n<pre><code>const task = await import(\"./task\");\n</code></pre>\n\n<p>when you need to import.</p>\n"}], "owner": {"reputation": 1264, "user_id": 4021204, "user_type": "registered", "accept_rate": 41, "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "divramod", "link": "https://stackoverflow.com/users/4021204/divramod"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2726, "favorite_count": 1, "answer_count": 1, "score": 1, "last_activity_date": 1534308264, "creation_date": 1534307128, "last_edit_date": 1534308264, "question_id": 51852938, "link": "https://stackoverflow.com/questions/51852938/typescript-dynamically-import-classes", "title": "Typescript: dynamically import classes", "body": "<p>i like to dynamically import a Typescript Class.\nI got everything running with the new dynamic function import but how do a dynamic class import?</p>\n\n<p>i have a somehow dirty hack, which looks so:</p>\n\n<pre><code>// main.ts\nasync function main2() {\n    const G = './test1'\n    const TASK_IMPORT_FUNCTION = await import(G)\n    const TASK_CLASS = TASK_IMPORT_FUNCTION.getTask()\n    const TASK = new TASK_CLASS(__dirname)\n    const R_TASK = TASK.run()\n}\nmain2()\n\n// test1.ts\nexport class Task {\n    constructor(inputCwd: string) {}\n    // ...\n}\n\nexport function getTask() {\n    return Task\n}\n</code></pre>\n\n<p>So my question is: How can i get rid of the getTask() function and import the class directly in a dynamic way?</p>\n\n<h1>Solution</h1>\n\n<pre><code>// main.ts\nasync function main2() {\n    const TASK_IMPORT = await import(G)\n    const TASK_CLASS = TASK_IMPORT.Task\n    const TASK = new TASK_CLASS(__dirname)\n    const R_TASK = TASK.run()\n}\nmain2()\n</code></pre>\n"}, {"tags": ["typescript"], "comments": [{"owner": {"reputation": 636, "user_id": 1880816, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/c97ebbd3487d9240457c3cecbc7a42e0?s=128&d=identicon&r=PG", "display_name": "Nestor", "link": "https://stackoverflow.com/users/1880816/nestor"}, "edited": false, "score": 0, "creation_date": 1534306774, "post_id": 51852854, "comment_id": 90658324, "body": "<a href=\"https://stackoverflow.com/questions/13487765/how-instanceof-will-work-on-an-interface\" title=\"how instanceof will work on an interface\">stackoverflow.com/questions/13487765/&hellip;</a>"}, {"owner": {"reputation": 1298, "user_id": 855208, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/NHcJZ.png?s=128&g=1", "display_name": "eddiewould", "link": "https://stackoverflow.com/users/855208/eddiewould"}, "edited": false, "score": 0, "creation_date": 1534306789, "post_id": 51852854, "comment_id": 90658328, "body": "Do you want a runtime type check or compile-time type check?"}, {"owner": {"reputation": 22363, "user_id": 4468617, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a09c08e1ae93a83e9102b6715fc75b4c?s=128&d=identicon&r=PG", "display_name": "Matt McCutchen", "link": "https://stackoverflow.com/users/4468617/matt-mccutchen"}, "edited": false, "score": 1, "creation_date": 1534306813, "post_id": 51852854, "comment_id": 90658333, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/14425568/interface-type-check-with-typescript\">Interface type check with Typescript</a>"}, {"owner": {"reputation": 3249, "user_id": 3102993, "user_type": "registered", "accept_rate": 49, "profile_image": "https://i.stack.imgur.com/nwAIr.jpg?s=128&g=1", "display_name": "blankface", "link": "https://stackoverflow.com/users/3102993/blankface"}, "reply_to_user": {"reputation": 1298, "user_id": 855208, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/NHcJZ.png?s=128&g=1", "display_name": "eddiewould", "link": "https://stackoverflow.com/users/855208/eddiewould"}, "edited": false, "score": 0, "creation_date": 1534306894, "post_id": 51852854, "comment_id": 90658349, "body": "@eddiewould compile time"}, {"owner": {"reputation": 1298, "user_id": 855208, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/NHcJZ.png?s=128&g=1", "display_name": "eddiewould", "link": "https://stackoverflow.com/users/855208/eddiewould"}, "edited": false, "score": 0, "creation_date": 1534307128, "post_id": 51852854, "comment_id": 90658396, "body": "Where did &quot;item&quot; originally come from? Ajax response? A non-typescript library? Or is it defined as an object-literal (in which case we <i>know</i> it is of type IDemo)"}, {"owner": {"reputation": 3249, "user_id": 3102993, "user_type": "registered", "accept_rate": 49, "profile_image": "https://i.stack.imgur.com/nwAIr.jpg?s=128&g=1", "display_name": "blankface", "link": "https://stackoverflow.com/users/3102993/blankface"}, "edited": false, "score": 0, "creation_date": 1534309872, "post_id": 51852854, "comment_id": 90659014, "body": "from an ajax response"}, {"owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "edited": false, "score": 0, "creation_date": 1534310670, "post_id": 51852854, "comment_id": 90659215, "body": "Maybe the answer here will help: <a href=\"https://stackoverflow.com/questions/48442746/check-if-object-correctly-implements-interface/48444302#48444302\" title=\"check if object correctly implements interface\">stackoverflow.com/questions/48442746/&hellip;</a>"}, {"owner": {"reputation": 3249, "user_id": 3102993, "user_type": "registered", "accept_rate": 49, "profile_image": "https://i.stack.imgur.com/nwAIr.jpg?s=128&g=1", "display_name": "blankface", "link": "https://stackoverflow.com/users/3102993/blankface"}, "edited": false, "score": 0, "creation_date": 1534321357, "post_id": 51852854, "comment_id": 90662853, "body": "I have made some changes to the original question. Please have a look."}], "answers": [{"comments": [{"owner": {"reputation": 3249, "user_id": 3102993, "user_type": "registered", "accept_rate": 49, "profile_image": "https://i.stack.imgur.com/nwAIr.jpg?s=128&g=1", "display_name": "blankface", "link": "https://stackoverflow.com/users/3102993/blankface"}, "edited": false, "score": 0, "creation_date": 1534310887, "post_id": 51853326, "comment_id": 90659260, "body": "how would i do it if it wasn&#39;t an ajax response?"}, {"owner": {"reputation": 3249, "user_id": 3102993, "user_type": "registered", "accept_rate": 49, "profile_image": "https://i.stack.imgur.com/nwAIr.jpg?s=128&g=1", "display_name": "blankface", "link": "https://stackoverflow.com/users/3102993/blankface"}, "edited": false, "score": 0, "creation_date": 1534321347, "post_id": 51853326, "comment_id": 90662850, "body": "I have made some changes to the original question. Please have a look."}], "tags": [], "owner": {"reputation": 24353, "user_id": 1137432, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/3c6c74e3328f48a1d99b51c95ab9f473?s=128&d=identicon&r=PG", "display_name": "jh314", "link": "https://stackoverflow.com/users/1137432/jh314"}, "is_accepted": false, "score": 3, "last_activity_date": 1534310253, "creation_date": 1534310253, "answer_id": 51853326, "question_id": 51852854, "link": "https://stackoverflow.com/questions/51852854/check-interface-type-in-typescript/51853326#51853326", "title": "Check interface type in TypeScript", "body": "<p>Since <code>item</code> comes from ajax response, you are looking for some kind of runtime typecheck. TS interfaces are compile time entities, so you need to create your own runtime checks using your own <a href=\"https://www.typescriptlang.org/docs/handbook/advanced-types.html\" rel=\"nofollow noreferrer\">type guard.</a></p>\n\n<p>Something like:</p>\n\n<pre><code>function isIDemo(item: any): item is IDemo {\n    return typeof item.first === 'string' &amp;&amp; typeof item.last === 'string';\n}\n</code></pre>\n"}], "owner": {"reputation": 3249, "user_id": 3102993, "user_type": "registered", "accept_rate": 49, "profile_image": "https://i.stack.imgur.com/nwAIr.jpg?s=128&g=1", "display_name": "blankface", "link": "https://stackoverflow.com/users/3102993/blankface"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3972, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1534321324, "creation_date": 1534306385, "last_edit_date": 1534321324, "question_id": 51852854, "link": "https://stackoverflow.com/questions/51852854/check-interface-type-in-typescript", "title": "Check interface type in TypeScript", "body": "<pre><code>interface IData {\n  firstName: string;\n  lastName: string;\n}\n\ninterface IDemo {\n    Events: {\n      GetItem: (callback: (data: IData) =&gt; void) =&gt; void;\n    }\n}\n\nconst item = {\n  Events: {\n    GetItem: //mock function\n  }\n}\n\nif (item is of type IDemo)\n</code></pre>\n\n<p>In the above scenario, I have <code>IDemo</code> interface that takes in an object of <code>Events</code>, which in turn has an object called <code>GetItem</code> - a function.</p>\n\n<p>I want to check if <code>const item</code> is of type <code>IDemo</code>. How can I achieve this?</p>\n"}, {"tags": ["javascript", "arrays", "angular", "typescript"], "answers": [{"tags": [], "owner": {"reputation": 22363, "user_id": 4468617, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a09c08e1ae93a83e9102b6715fc75b4c?s=128&d=identicon&r=PG", "display_name": "Matt McCutchen", "link": "https://stackoverflow.com/users/4468617/matt-mccutchen"}, "is_accepted": true, "score": 10, "last_activity_date": 1534303733, "creation_date": 1534303733, "answer_id": 51852540, "question_id": 51852427, "link": "https://stackoverflow.com/questions/51852427/how-to-groupby-a-typescript-array-with-a-key-of-an-object-inside-that-array/51852540#51852540", "title": "How to groupBy a typescript array with a Key of an object inside that array?", "body": "<p>Since your <code>_shop_id</code> belongs to a nested object, you're probably best off passing a lambda to extract it:</p>\n\n<pre><code>someMethod(){\n  const productsByShop = this.utils.groupBy(this.products,\n    (product) =&gt; product.Product._shop_id);\n}\n// ...\nexport class Utils {\n    constructor() { }\n\n    groupBy&lt;T, K&gt;(list: T[], getKey: (item: T) =&gt; K) {\n        const map = new Map&lt;K, T[]&gt;();\n        list.forEach((item) =&gt; {\n            const key = getKey(item);\n            const collection = map.get(key);\n            if (!collection) {\n                map.set(key, [item]);\n            } else {\n                collection.push(item);\n            }\n        });\n        return Array.from(map.values());\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 909, "user_id": 10200536, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/56e3889c1bb4f8aaf2943912d3282ef1?s=128&d=identicon&r=PG&f=1", "display_name": "James", "link": "https://stackoverflow.com/users/10200536/james"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 5628, "favorite_count": 1, "accepted_answer_id": 51852540, "answer_count": 1, "score": 2, "last_activity_date": 1534303760, "creation_date": 1534302450, "last_edit_date": 1534303760, "question_id": 51852427, "link": "https://stackoverflow.com/questions/51852427/how-to-groupby-a-typescript-array-with-a-key-of-an-object-inside-that-array", "title": "How to groupBy a typescript array with a Key of an object inside that array?", "body": "<p>I have an array <code>products</code> that needs to be grouped by <code>Product._shop_id</code>.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>export class Product {\r\n    _id: string;\r\n    _shop_id: string;\r\n}\r\n\r\nexport class Variant { variant_id: string; }\r\n\r\nexport interface ShoppingCart {\r\n    Variant: Variant;\r\n    Product: Product;\r\n    quantity: number;\r\n    totalPrice: number;\r\n}\r\n\r\nexport class CartComponent implements OnInit {\r\n    products: ShoppingCart[] = [];\r\n\r\n    ngOnInit(){\r\n      this.products = [\r\n                        {Variant: {variant_id: '1'}, Product: {_id: '1', _shop_id:'1'}, quantity: 5, totalPrice: 600},\r\n                        {Variant: {variant_id: '2'}, Product: {_id: '2', _shop_id:'2'}, quantity: 4, totalPrice: 500},\r\n                        {Variant: {variant_id: '5'}, Product: {_id: '3', _shop_id:'2'}, quantity: 3, totalPrice: 400}\r\n                      ]\r\n    }\r\n\r\n    someMethod(){\r\n      const productsByShop = this.utils.groupBy(this.products, key);\r\n    }\r\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>Here is the method to achieve this. But I need the Object Key to make it work.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>export class Utils {\r\n    constructor() { }\r\n\r\n    groupBy(list, key) {\r\n        const map = new Map();\r\n        list.forEach((item) =&gt; {\r\n            const collection = map.get(key);\r\n            if (!collection) {\r\n                map.set(key, [item]);\r\n            } else {\r\n                collection.push(item);\r\n            }\r\n        });\r\n        return Array.from(map)[0][1];\r\n    }\r\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>I'm trying to get different arrays grouped by <code>_shop_id</code> from <code>products</code> array.\nLike this: </p>\n\n<pre><code>array1: [ {Variant: {variant_id: '1'}, Product: {_id: '1', _shop_id:'1'}, quantity: 5, totalPrice: 600} ]`\n\narray2: [ {Variant: {variant_id: '2'}, Product: {_id: '2', _shop_id:'2'}, quantity: 4, totalPrice: 500},\n          {Variant: {variant_id: '5'}, Product: {_id: '3', _shop_id:'2'}, quantity: 3, totalPrice: 400} ]`\n</code></pre>\n"}, {"tags": ["reactjs", "typescript", "dom"], "comments": [{"owner": {"reputation": 1384, "user_id": 3061187, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5O8DG.png?s=128&g=1", "display_name": "Siu", "link": "https://stackoverflow.com/users/3061187/siu"}, "edited": false, "score": 0, "creation_date": 1534302857, "post_id": 51852390, "comment_id": 90657519, "body": "Having DOM elements as Nav children might be the issue: <a href=\"https://github.com/react-bootstrap/react-bootstrap/issues/2199\" rel=\"nofollow noreferrer\">github.com/react-bootstrap/react-bootstrap/issues/2199</a>"}], "answers": [{"tags": [], "owner": {"reputation": 22363, "user_id": 4468617, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a09c08e1ae93a83e9102b6715fc75b4c?s=128&d=identicon&r=PG", "display_name": "Matt McCutchen", "link": "https://stackoverflow.com/users/4468617/matt-mccutchen"}, "is_accepted": true, "score": 3, "last_activity_date": 1534302867, "creation_date": 1534302867, "answer_id": 51852466, "question_id": 51852390, "link": "https://stackoverflow.com/questions/51852390/react-does-not-recognize-the-activekey-and-activehref-prop-on-a-dom-elemen/51852466#51852466", "title": "React does not recognize the &#39;activeKey&#39; (and &#39;activeHref&#39;) prop on a DOM element", "body": "<p>A <a href=\"https://www.google.com/search?q=activeKey+activeHref\" rel=\"nofollow noreferrer\">web search</a> found me <a href=\"https://github.com/react-bootstrap/react-router-bootstrap/issues/194\" rel=\"nofollow noreferrer\">this issue</a>, which indicates that putting <code>&lt;Navbar.Form&gt;</code> inside <code>&lt;Nav&gt;</code> is not valid.  Looking at the example in <a href=\"https://react-bootstrap.github.io/components/navbar/#navbars-form\" rel=\"nofollow noreferrer\">the documentation</a>, it may work to just remove the <code>&lt;Nav&gt;</code>.</p>\n"}], "owner": {"reputation": 177, "user_id": 10227310, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ef0e83ddf496ba10469a1fc4438ff326?s=128&d=identicon&r=PG&f=1", "display_name": "Hyokune", "link": "https://stackoverflow.com/users/10227310/hyokune"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3672, "favorite_count": 0, "accepted_answer_id": 51852466, "answer_count": 1, "score": 3, "last_activity_date": 1534302867, "creation_date": 1534302179, "last_edit_date": 1534302615, "question_id": 51852390, "link": "https://stackoverflow.com/questions/51852390/react-does-not-recognize-the-activekey-and-activehref-prop-on-a-dom-elemen", "title": "React does not recognize the &#39;activeKey&#39; (and &#39;activeHref&#39;) prop on a DOM element", "body": "<p>I've been continuously having this warning on my React web application and not sure how I can fix this. I'm pretty new to React and have tried googling my way through, but still haven't ended up in a solution.</p>\n\n<pre><code>Warning: React does not recognize the `activeKey` prop on a DOM element. If \n         you intentionally want it to appear in the DOM as a custom \n         attribute, spell it as lowercase `activekey` instead. If you \n         accidentally passed it from a parent component, remove it from the \n         DOM element.\n    in div (created by NavbarForm)\n    in NavbarForm (created by Header)\n    in ul (created by Nav)\n    in Nav (created by Header)\n    in div (created by Grid)\n    in Grid (created by Navbar)\n    in nav (created by Navbar)\n    in Navbar (created by Uncontrolled(Navbar))\n    in Uncontrolled(Navbar) (created by Header)\n    in Header (created by App)\n    in div (created by App)\n    in App\n</code></pre>\n\n<p>Here is the code for my Header</p>\n\n<pre><code>import * as React from 'react';\nimport { Button, FormControl, FormGroup, Nav, Navbar, NavItem} from 'react-bootstrap';\n\nconst Header = (props : any) =&gt; {\n    return (\n        &lt;Navbar&gt;\n            &lt;Navbar.Header&gt;\n                &lt;Navbar.Brand&gt;\n                    &lt;NavItem href=\"/\"&gt;\n                        RedQuick\n                    &lt;/NavItem&gt;\n                &lt;/Navbar.Brand&gt;\n            &lt;/Navbar.Header&gt;\n            &lt;Nav&gt;\n                &lt;Navbar.Form&gt;\n                    &lt;form onSubmit={ props.getRedditPost }&gt;\n                        &lt;FormGroup&gt;\n                            &lt;FormControl \n                                type=\"text\" \n                                name=\"subreddit\" \n                                placeholder=\"Subreddit Name...\" \n                            /&gt;\n                        &lt;/FormGroup&gt;\n                        &lt;Button type=\"submit\"&gt;Search&lt;/Button&gt;\n                    &lt;/form&gt;\n                &lt;/Navbar.Form&gt;                \n            &lt;/Nav&gt;\n        &lt;/Navbar&gt;\n    );\n};\n\nexport default Header;\n</code></pre>\n\n<p><a href=\"https://github.com/Hyokune/Sample/tree/master/application_1\" rel=\"nofollow noreferrer\">Link to Github repo if its not the header's problem</a></p>\n"}, {"tags": ["typescript", "firebase", "google-cloud-firestore", "angular6"], "answers": [{"tags": [], "owner": {"reputation": 22363, "user_id": 4468617, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a09c08e1ae93a83e9102b6715fc75b4c?s=128&d=identicon&r=PG", "display_name": "Matt McCutchen", "link": "https://stackoverflow.com/users/4468617/matt-mccutchen"}, "is_accepted": true, "score": 1, "last_activity_date": 1534302257, "creation_date": 1534302257, "answer_id": 51852399, "question_id": 51852132, "link": "https://stackoverflow.com/questions/51852132/error-ts2339-property-contenido-does-not-exist-on-type/51852399#51852399", "title": "error TS2339: Property &#39;contenido&#39; does not exist on type &#39;{}&#39;", "body": "<p>You have to specify the type of your document, otherwise TypeScript defaults to the empty type <code>{}</code>.  Add the following to the service (change as necessary):</p>\n\n<pre><code>export interface Post {\n    titulo: string;\n    contenido: string;\n    estracto: string;\n    url_image: string;\n}\n</code></pre>\n\n<p>and then change <code>getPost</code> as follows:</p>\n\n<pre><code>  //Obtiene un post\n  public getPost(documentId: string) {\n    return this.firestore.collection('posts').doc&lt;Post&gt;(documentId).snapshotChanges();\n    //                                           ^^^^^^\n  }\n</code></pre>\n"}], "owner": {"reputation": 23, "user_id": 10227312, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-GBe1x-Gnlo0/AAAAAAAAAAI/AAAAAAAAASw/OG4c6o-4oaY/photo.jpg?sz=128", "display_name": "Miguel Sanz", "link": "https://stackoverflow.com/users/10227312/miguel-sanz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4386, "favorite_count": 0, "accepted_answer_id": 51852399, "answer_count": 1, "score": 2, "last_activity_date": 1534312740, "creation_date": 1534300015, "last_edit_date": 1534312740, "question_id": 51852132, "link": "https://stackoverflow.com/questions/51852132/error-ts2339-property-contenido-does-not-exist-on-type", "title": "error TS2339: Property &#39;contenido&#39; does not exist on type &#39;{}&#39;", "body": "<p>I'm doing a crud, with angular 6 and firebase, in its firestore database, I'm editing some data through a form, the application should work but the compiler is giving me this error:</p>\n\n<pre><code>ERROR in src/app/Components/Posts/dashboard-posts/dashboard-posts.component.ts(113,37): error TS2339: Property 'titulo' does not exist on type '{}'.\nsrc/app/Components/Posts/dashboard-posts/dashboard-posts.component.ts(114,40): error TS2339: Property 'contenido' does not exist on type '{}'.\nsrc/app/Components/Posts/dashboard-posts/dashboard-posts.component.ts(115,39): error TS2339: Property 'estracto' does not exist on type '{}'.\nsrc/app/Components/Posts/dashboard-posts/dashboard-posts.component.ts(116,40): error TS2339: Property 'url_image' does not exist on type '{}'.\n</code></pre>\n\n<p>I have a service and a component working on this, then I will leave them both:</p>\n\n<p>Service:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>import { Injectable } from '@angular/core';\r\nimport { AngularFirestore, AngularFirestoreDocument } from 'angularfire2/firestore';\r\nimport { Observable } from 'rxjs';\r\n\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class FirestoreService {\r\n  // Posts\r\n  constructor(\r\n    private firestore: AngularFirestore\r\n  ) { }\r\n  //Crea un nuevo post\r\n  public createPost(data: { titulo: string, contenido: string, estracto: string, url_image: string }) {\r\n    return this.firestore.collection('posts').add(data);\r\n  }\r\n\r\n  //Obtiene un post\r\n  public getPost(documentId: string) {\r\n    return this.firestore.collection('posts').doc(documentId).snapshotChanges();\r\n  }\r\n\r\n  //Obtiene todos los posts\r\n  public getPosts() {\r\n    return this.firestore.collection('posts').snapshotChanges();\r\n  }\r\n\r\n  //Actualiza un post\r\n  public updatePost(documentId: string, data: { titulo?: string, contenido?: string, estracto?: string, url_image?: string }) {\r\n\r\n    return this.firestore.collection('posts').doc(documentId).set(data);\r\n  }\r\n\r\n  //Borra un post\r\n  public deletePost(documentId: string) {\r\n    return this.firestore.collection('posts').doc(documentId).delete();\r\n  }\r\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>and here the component:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>import { Component, OnInit } from '@angular/core';\r\nimport { FirestoreService } from '../../../Service/firestore.service';\r\nimport { Form, FormControl, FormGroup, Validators } from '@angular/forms';\r\nimport { AngularFirestoreCollection } from 'angularfire2/firestore';\r\nimport { Observable } from 'rxjs';\r\nimport swal from 'sweetalert';\r\n\r\nexport interface Post {\r\n\r\n  id: string;\r\n  titulo: string;\r\n  contenido: string;\r\n  estracto: string;\r\n  url_image: string;\r\n\r\n}\r\n\r\n@Component({\r\n  selector: 'app-dashboard-posts',\r\n  templateUrl: './dashboard-posts.component.html',\r\n  styleUrls: ['./dashboard-posts.component.scss']\r\n})\r\nexport class DashboardPostsComponent implements OnInit {\r\n\r\n  public posts = [];\r\n  public currentStatus = 1;\r\n  public newPostForm = new FormGroup({\r\n    titulo: new FormControl('', Validators.required),\r\n    contenido: new FormControl('', Validators.required),\r\n    estracto: new FormControl('', Validators.required),\r\n    url_image: new FormControl('', Validators.required),\r\n    id: new FormControl('')\r\n  });\r\n\r\n\r\n  constructor(\r\n    private firestoreService: FirestoreService\r\n  ) {\r\n    this.newPostForm.setValue({\r\n      id: '',\r\n      titulo: '',\r\n      contenido: '',\r\n      estracto: '',\r\n      url_image: ''\r\n    });\r\n  }\r\n\r\n  postsCollections: AngularFirestoreCollection&lt;Post&gt;;\r\n  postsObservable: Observable&lt;Post[]&gt;;\r\n\r\n  ngOnInit() {\r\n    this.firestoreService.getPosts().subscribe((postsSnapshot) =&gt; {\r\n      this.posts = [];\r\n      postsSnapshot.forEach((postData: any) =&gt; {\r\n        this.posts.push({\r\n          id: postData.payload.doc.id,\r\n          data: postData.payload.doc.data()\r\n        });\r\n      })\r\n    });\r\n  }\r\n\r\n  public newPost(form, documentId = null) {\r\n    if (this.currentStatus == 1) {\r\n      let data = {\r\n        titulo: form.titulo,\r\n        contenido: form.contenido,\r\n        estracto: form.estracto,\r\n        url_image: form.url_image\r\n      }\r\n      this.firestoreService.createPost(data).then(() =&gt; {\r\n        swal(\"Listo!\", \"Tu post ha sido creado extitosamente!\", \"success\");\r\n        this.newPostForm.setValue({\r\n          titulo: '',\r\n          contenido: '',\r\n          estracto: '',\r\n          url_image: '',\r\n          id: ''\r\n        });\r\n      }, (error) =&gt; {\r\n        console.error(error);\r\n      });\r\n    } else {\r\n      let data = {\r\n        titulo: form.titulo,\r\n        contenido: form.contenido,\r\n        estracto: form.estracto,\r\n        url_image: form.url_image\r\n      }\r\n      this.firestoreService.updatePost(form.id, form).then(() =&gt; {\r\n        this.currentStatus = 1;\r\n        this.newPostForm.setValue({\r\n          titulo: '',\r\n          contenido: '',\r\n          estracto: '',\r\n          url_image: '',\r\n          id: ''\r\n        });\r\n        console.log('Documento editado exit\u00f3samente');\r\n      }, (error) =&gt; {\r\n        console.log(error);\r\n      });\r\n    }\r\n  }\r\n\r\n  public editPost(documentId) {\r\n    this.firestoreService.getPost(documentId).subscribe((post) =&gt; {\r\n      this.currentStatus = 2;\r\n\r\n      this.newPostForm.setValue({\r\n\r\n        id: documentId,\r\n        titulo: post.payload.data().titulo, //Aqui me da el error\r\n        contenido: post.payload.data().contenido, //Aqui me da el error\r\n        estracto: post.payload.data().estracto, //Aqui me da el error\r\n        url_image: post.payload.data().url_image //Aqui me da el error\r\n      });\r\n    });\r\n  }\r\n\r\n\r\n\r\n  public deletePost(documentId) {\r\n    this.firestoreService.deletePost(documentId).then(() =&gt; {\r\n      console.log('Documento eliminado!');\r\n    }, (error) =&gt; {\r\n      console.error(error);\r\n    });\r\n  }\r\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>I hope you can help me.</p>\n"}, {"tags": ["typescript"], "answers": [{"comments": [{"owner": {"reputation": 46625, "user_id": 174375, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/1ae897c8666a2d1b13bf9da38b4de712?s=128&d=identicon&r=PG", "display_name": "NibblyPig", "link": "https://stackoverflow.com/users/174375/nibblypig"}, "edited": false, "score": 0, "creation_date": 1534337089, "post_id": 51852722, "comment_id": 90669953, "body": "This is way too complicated to just create a re-usable class in a TS file and use it in my code, without adding itself to the global namespace. There has to be something I&#39;m doing wrong. I just want to do <code>new MyClass()</code> on my html page and use it."}, {"owner": {"reputation": 46625, "user_id": 174375, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/1ae897c8666a2d1b13bf9da38b4de712?s=128&d=identicon&r=PG", "display_name": "NibblyPig", "link": "https://stackoverflow.com/users/174375/nibblypig"}, "edited": false, "score": 0, "creation_date": 1534337818, "post_id": 51852722, "comment_id": 90670351, "body": "I get a &#39;define is not defined&#39; error with the above code on this line <code>define([&quot;require&quot;, &quot;exports&quot;], function (require, exports) {</code>"}, {"owner": {"reputation": 22363, "user_id": 4468617, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a09c08e1ae93a83e9102b6715fc75b4c?s=128&d=identicon&r=PG", "display_name": "Matt McCutchen", "link": "https://stackoverflow.com/users/4468617/matt-mccutchen"}, "reply_to_user": {"reputation": 46625, "user_id": 174375, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/1ae897c8666a2d1b13bf9da38b4de712?s=128&d=identicon&r=PG", "display_name": "NibblyPig", "link": "https://stackoverflow.com/users/174375/nibblypig"}, "edited": false, "score": 0, "creation_date": 1534342752, "post_id": 51852722, "comment_id": 90673209, "body": "If you want to load the TypeScript with <code>&lt;script type=&quot;module&quot;&gt;</code>, then you need to set the <code>module</code> compiler option to <code>es6</code> to preserve the ES6 module instead of converting it to an AMD module (which will fail unless you use an AMD loader)."}, {"owner": {"reputation": 22363, "user_id": 4468617, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a09c08e1ae93a83e9102b6715fc75b4c?s=128&d=identicon&r=PG", "display_name": "Matt McCutchen", "link": "https://stackoverflow.com/users/4468617/matt-mccutchen"}, "reply_to_user": {"reputation": 46625, "user_id": 174375, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/1ae897c8666a2d1b13bf9da38b4de712?s=128&d=identicon&r=PG", "display_name": "NibblyPig", "link": "https://stackoverflow.com/users/174375/nibblypig"}, "edited": false, "score": 0, "creation_date": 1534342828, "post_id": 51852722, "comment_id": 90673257, "body": "Re &quot;way too complicated&quot;: You can use TypeScript without using modules at all.  Just remove the <code>export default</code> and your TypeScript file will be a global script that will define <code>MyClass</code> globally."}, {"owner": {"reputation": 46625, "user_id": 174375, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/1ae897c8666a2d1b13bf9da38b4de712?s=128&d=identicon&r=PG", "display_name": "NibblyPig", "link": "https://stackoverflow.com/users/174375/nibblypig"}, "edited": false, "score": 0, "creation_date": 1534344100, "post_id": 51852722, "comment_id": 90674055, "body": "Hmm, trying typescript to do things correctly, as much like C# as possible with nice classes and separate files etc.  I tried a namespace instead of a module but still couldn&#39;t see my class. I tried adding it to the window object and still nothing.   Not really sure what to do now, trying very hard to learn typescript but if I can&#39;t even get a simple thing like this to work after about 10 hours of trying different things over the past 2 days...  I&#39;ve done all of the pluralsight tutorials on it but there&#39;s just so little information about how it all hangs together :S"}, {"owner": {"reputation": 22363, "user_id": 4468617, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a09c08e1ae93a83e9102b6715fc75b4c?s=128&d=identicon&r=PG", "display_name": "Matt McCutchen", "link": "https://stackoverflow.com/users/4468617/matt-mccutchen"}, "reply_to_user": {"reputation": 46625, "user_id": 174375, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/1ae897c8666a2d1b13bf9da38b4de712?s=128&d=identicon&r=PG", "display_name": "NibblyPig", "link": "https://stackoverflow.com/users/174375/nibblypig"}, "edited": false, "score": 0, "creation_date": 1534346290, "post_id": 51852722, "comment_id": 90675331, "body": "OK, let&#39;s start really simple.  Does the &quot;Example with simple global TypeScript script&quot; that I have just added work for you?"}, {"owner": {"reputation": 46625, "user_id": 174375, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/1ae897c8666a2d1b13bf9da38b4de712?s=128&d=identicon&r=PG", "display_name": "NibblyPig", "link": "https://stackoverflow.com/users/174375/nibblypig"}, "edited": false, "score": 0, "creation_date": 1534346517, "post_id": 51852722, "comment_id": 90675460, "body": "Yep - that&#39;s pretty much what I started with when I first dabbled with typescript. But then I realised I didn&#39;t want it cluttering up the global namespace, so I read about modules and namespaces. Not 100% sure on when to use each one but I tried creating a module, and then had the above problems, so I tried creating a namespace, and still had the same problems."}, {"owner": {"reputation": 22363, "user_id": 4468617, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a09c08e1ae93a83e9102b6715fc75b4c?s=128&d=identicon&r=PG", "display_name": "Matt McCutchen", "link": "https://stackoverflow.com/users/4468617/matt-mccutchen"}, "reply_to_user": {"reputation": 46625, "user_id": 174375, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/1ae897c8666a2d1b13bf9da38b4de712?s=128&d=identicon&r=PG", "display_name": "NibblyPig", "link": "https://stackoverflow.com/users/174375/nibblypig"}, "edited": false, "score": 0, "creation_date": 1534346867, "post_id": 51852722, "comment_id": 90675669, "body": "How about the above for a namespace?  The example I gave of a module should also have worked if you set the <code>module</code> option to <code>es6</code> as I said, though it does require copying <code>MyClass</code> onto the window."}, {"owner": {"reputation": 46625, "user_id": 174375, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/1ae897c8666a2d1b13bf9da38b4de712?s=128&d=identicon&r=PG", "display_name": "NibblyPig", "link": "https://stackoverflow.com/users/174375/nibblypig"}, "edited": false, "score": 0, "creation_date": 1534347716, "post_id": 51852722, "comment_id": 90676152, "body": "Ahha, that worked, I had export namespace when I tried it, I removed export and it worked (kept it on the class though)! Thanks. Can&#39;t really tell if I should just write my application like this or if I should use modules really, I am not sure what the advantages are. None of the videos I watched really made it clear. Plus there is massive confusion over modules/namespaces sometimes being the same thing."}], "tags": [], "owner": {"reputation": 22363, "user_id": 4468617, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a09c08e1ae93a83e9102b6715fc75b4c?s=128&d=identicon&r=PG", "display_name": "Matt McCutchen", "link": "https://stackoverflow.com/users/4468617/matt-mccutchen"}, "is_accepted": false, "score": 1, "last_activity_date": 1534346816, "last_edit_date": 1534346816, "creation_date": 1534305278, "answer_id": 51852722, "question_id": 51852041, "link": "https://stackoverflow.com/questions/51852041/how-do-i-access-a-typescript-module-in-plain-javascript/51852722#51852722", "title": "How do I access a typescript module in plain javascript?", "body": "<p>I'm not aware of any way for a global script to access a module.  Instead, you'll need to write a module that copies all the things you want to use in global scripts into global variables (i.e., properties of the window).  You can do this directly in <code>MyClass.ts</code> if you like (which I'll do for simplicity) or in a separate module.</p>\n\n<p>A second issue is that <a href=\"https://jakearchibald.com/2017/es-modules-in-browsers/#defer-by-default\" rel=\"nofollow noreferrer\">modules are always deferred</a>, so in order for your global script to run after the module, you'll need to defer your global script using one of the techniques from <a href=\"https://stackoverflow.com/questions/41394983/how-to-defer-inline-javascript\">this question</a>.</p>\n\n<p>Working example:</p>\n\n<p>index.html:</p>\n\n<pre><code>&lt;html&gt;\n&lt;body&gt;\n&lt;script type=\"module\" src=\"./MyClass.js\"&gt;&lt;/script&gt;\n&lt;script defer src=\"global.js\"&gt;&lt;/script&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p>MyClass.ts:</p>\n\n<pre><code>export default class MyClass {\n\n}\n(&lt;any&gt;window).MyClass = MyClass;\n</code></pre>\n\n<p>global.js:</p>\n\n<pre><code>console.log(new MyClass());\n</code></pre>\n\n<h2>Example with simple global TypeScript script</h2>\n\n<p>MyClass.ts:</p>\n\n<pre><code>class MyClass {}\n</code></pre>\n\n<p>index.html:</p>\n\n<pre><code>&lt;html&gt;\n&lt;body&gt;\n&lt;script src=\"MyClass.js\"&gt;&lt;/script&gt;\n&lt;script&gt;\nconsole.log(new MyClass());\n&lt;/script&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<h2>Example with TypeScript namespace</h2>\n\n<p>MyClass.ts:</p>\n\n<pre><code>namespace MyNamespace {\n  export class MyClass {}\n}\n</code></pre>\n\n<p>index.html:</p>\n\n<pre><code>&lt;html&gt;\n&lt;body&gt;\n&lt;script src=\"MyClass.js\"&gt;&lt;/script&gt;\n&lt;script&gt;\nconsole.log(new MyNamespace.MyClass());\n&lt;/script&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n"}], "owner": {"reputation": 46625, "user_id": 174375, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/1ae897c8666a2d1b13bf9da38b4de712?s=128&d=identicon&r=PG", "display_name": "NibblyPig", "link": "https://stackoverflow.com/users/174375/nibblypig"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1039, "favorite_count": 1, "answer_count": 1, "score": 1, "last_activity_date": 1534346816, "creation_date": 1534299204, "question_id": 51852041, "link": "https://stackoverflow.com/questions/51852041/how-do-i-access-a-typescript-module-in-plain-javascript", "title": "How do I access a typescript module in plain javascript?", "body": "<p>Might be doing this wrong as I am new to typescript, but I have created a module, which I think from watching tutorials all day, let's me create what in C# would be a class, and I've done so like this:</p>\n\n<pre><code>export default class MyClass {\n\n}\n</code></pre>\n\n<p>Now, it's my understanding that to create a new instance of this class, in typescript, I would do this:</p>\n\n<pre><code>import t from './MyClass';\nvar something = new t();\n</code></pre>\n\n<p>However, in my case my file is a js file, not a ts file, because I need to do it on the bottom of a html page.</p>\n\n<p>However I can't figure out how, as doing <code>new Myclass()</code> gives me a not defined error.</p>\n\n<p>I am struggling with the concept of import and export despite watching several tutorials so I could be doing things wrong, but I just want to create a clean project and it has lead mt to believe this is the way to do that.</p>\n\n<p>I should also add that I had to add my module like this:</p>\n\n<p><code>&lt;script type=\"module\" src=\"~/Scripts/Proj/MyClass.js\"&gt;&lt;/script&gt;</code></p>\n\n<p>I have never used <code>type=\"module\"</code> before, it just didn't work without it and I found it on a random SO post.</p>\n\n<p>Any advice?</p>\n"}, {"tags": ["typescript", "visual-studio-code"], "comments": [{"owner": {"reputation": 22363, "user_id": 4468617, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a09c08e1ae93a83e9102b6715fc75b4c?s=128&d=identicon&r=PG", "display_name": "Matt McCutchen", "link": "https://stackoverflow.com/users/4468617/matt-mccutchen"}, "edited": false, "score": 0, "creation_date": 1534303907, "post_id": 51851742, "comment_id": 90657734, "body": "Possibly <a href=\"https://github.com/Microsoft/TypeScript/issues/26333\" rel=\"nofollow noreferrer\">github.com/Microsoft/TypeScript/issues/26333</a> ?  Try installing <code>typescript@next</code> into your project and switching VS Code to use it and see if the problem goes away."}, {"owner": {"reputation": 890, "user_id": 6572277, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7bb20e4c4348fdf65ae2a571248ebef1?s=128&d=identicon&r=PG&f=1", "display_name": "rshepp", "link": "https://stackoverflow.com/users/6572277/rshepp"}, "reply_to_user": {"reputation": 22363, "user_id": 4468617, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a09c08e1ae93a83e9102b6715fc75b4c?s=128&d=identicon&r=PG", "display_name": "Matt McCutchen", "link": "https://stackoverflow.com/users/4468617/matt-mccutchen"}, "edited": false, "score": 0, "creation_date": 1534310057, "post_id": 51851742, "comment_id": 90659057, "body": "@MattMcCutchen Thanks, that&#39;s fixed it! Feel free to post as answer. :)"}], "answers": [{"tags": [], "owner": {"reputation": 22363, "user_id": 4468617, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a09c08e1ae93a83e9102b6715fc75b4c?s=128&d=identicon&r=PG", "display_name": "Matt McCutchen", "link": "https://stackoverflow.com/users/4468617/matt-mccutchen"}, "is_accepted": true, "score": 1, "last_activity_date": 1534310162, "creation_date": 1534310162, "answer_id": 51853311, "question_id": 51851742, "link": "https://stackoverflow.com/questions/51851742/import-code-suggestions-missing-after-upgrading-to-typescript-3-0-1/51853311#51853311", "title": "Import code suggestions missing after upgrading to typescript 3.0.1", "body": "<p>Possibly <a href=\"https://github.com/Microsoft/TypeScript/issues/26333\" rel=\"nofollow noreferrer\">https://github.com/Microsoft/TypeScript/issues/26333</a> ? Try installing <code>typescript@next</code> into your project and switching VS Code to use it and see if the problem goes away.</p>\n"}], "owner": {"reputation": 890, "user_id": 6572277, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7bb20e4c4348fdf65ae2a571248ebef1?s=128&d=identicon&r=PG&f=1", "display_name": "rshepp", "link": "https://stackoverflow.com/users/6572277/rshepp"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 488, "favorite_count": 0, "accepted_answer_id": 51853311, "answer_count": 1, "score": 0, "last_activity_date": 1534310162, "creation_date": 1534296407, "question_id": 51851742, "link": "https://stackoverflow.com/questions/51851742/import-code-suggestions-missing-after-upgrading-to-typescript-3-0-1", "title": "Import code suggestions missing after upgrading to typescript 3.0.1", "body": "<p>I use Visual Studio Code's code actions to save time writing import statements.</p>\n\n<p>For example, using <code>typescript@2.8.4</code> I could just write the name of something I want to import and there would usually be a code action available:</p>\n\n<p><a href=\"https://i.stack.imgur.com/NS5mR.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/NS5mR.png\" alt=\"Working example\"></a></p>\n\n<p>However if I change the typescript version used for language features in Visual Studio Code to <code>typescript@3.0.1</code> (VS Code's current version) these code actions aren't available:</p>\n\n<p><a href=\"https://i.stack.imgur.com/4sjrt.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/4sjrt.png\" alt=\"Not working example\"></a></p>\n\n<p>My folder structure is a pretty typical setup where <code>tsconfig.json</code> is in the root directory with <code>package.json</code> and <code>node_modules/</code> and my typescript files are in <code>src/</code>.</p>\n\n<pre><code>/src/MyScript.ts\n/node_modules/...\n/package.json\n/tsconfig.json\n</code></pre>\n\n<p>The tsconfig.json file is the default generated by <code>react-scripts-ts</code></p>\n\n<pre><code>{\n  \"compilerOptions\": {\n    \"baseUrl\": \".\",\n    \"outDir\": \"build/dist\",\n    \"module\": \"esnext\",\n    \"target\": \"es5\",\n    \"lib\": [\"es6\", \"dom\"],\n    \"sourceMap\": true,\n    \"allowJs\": true,\n    \"jsx\": \"react\",\n    \"moduleResolution\": \"node\",\n    \"rootDir\": \"src\",\n    \"forceConsistentCasingInFileNames\": true,\n    \"noImplicitReturns\": true,\n    \"noImplicitThis\": true,\n    \"noImplicitAny\": true,\n    \"strictNullChecks\": true,\n    \"suppressImplicitAnyIndexErrors\": true,\n    \"noUnusedLocals\": true\n  },\n  \"exclude\": [\n    \"node_modules\",\n    \"build\",\n    \"scripts\",\n    \"acceptance-tests\",\n    \"webpack\",\n    \"jest\",\n    \"src/setupTests.ts\"\n  ]\n}\n</code></pre>\n\n<p>Why is this happening/how can I fix it? I searched github issues for typescript, and VS Code, and googled to see if anyone else is experiencing similar issues but didn't find anything for this particular problem.\nI'm using the latest version of VS Code (1.26.0) on Windows 10 x64.</p>\n"}, {"tags": ["typescript"], "comments": [{"owner": {"reputation": 58681, "user_id": 6509751, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/260caa996ae8ac9fcee35487aa8d7c81?s=128&d=identicon&r=PG&f=1", "display_name": "creativecreatorormaybenot", "link": "https://stackoverflow.com/users/6509751/creativecreatorormaybenot"}, "edited": false, "score": 0, "creation_date": 1534296415, "post_id": 51851677, "comment_id": 90656340, "body": "I am afraid that I do not quite understand: Do you want to get <code>string</code> from <code>a</code> and <code>number</code> from <code>b</code>?"}, {"owner": {"reputation": 2678, "user_id": 2483138, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/1320d18fa8806488f96baad70b29ce4c?s=128&d=identicon&r=PG", "display_name": "ABMagil", "link": "https://stackoverflow.com/users/2483138/abmagil"}, "reply_to_user": {"reputation": 58681, "user_id": 6509751, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/260caa996ae8ac9fcee35487aa8d7c81?s=128&d=identicon&r=PG&f=1", "display_name": "creativecreatorormaybenot", "link": "https://stackoverflow.com/users/6509751/creativecreatorormaybenot"}, "edited": false, "score": 0, "creation_date": 1534296732, "post_id": 51851677, "comment_id": 90656400, "body": "I want to get <code>[string, number]</code> or similar (a tuple, perhaps) from applying some sort of operation to the function <code>test</code>"}], "answers": [{"tags": [], "owner": {"reputation": 3819, "user_id": 4289700, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-GGKsgSVN_n4/AAAAAAAAAAI/AAAAAAAAAvQ/_IAucbb8ss8/photo.jpg?sz=128", "display_name": "HugoTeixeira", "link": "https://stackoverflow.com/users/4289700/hugoteixeira"}, "is_accepted": false, "score": 0, "last_activity_date": 1534297289, "creation_date": 1534297289, "answer_id": 51851833, "question_id": 51851677, "link": "https://stackoverflow.com/questions/51851677/how-to-get-argument-types-from-function-in-typescript/51851833#51851833", "title": "How to get argument types from function in Typescript", "body": "<p>A possible solution is to use the <code>arguments</code> variable (which is a local variable accessible within all functions and contains an entry for each argument passed to that function). So you can do:</p>\n\n<pre><code>const args = Array.prototype.slice.call(arguments, 0, arguments.length);\nconst argTypes = args.map(e =&gt; typeof e); \nconsole.log(argTypes);        \n</code></pre>\n\n<p>This prints:</p>\n\n<pre><code>[\"string\", \"number\"]\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 2173, "user_id": 970346, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/a9321f95a868f4ea30fb9ae960ccea4a?s=128&d=identicon&r=PG", "display_name": "Stephen Niedzielski", "link": "https://stackoverflow.com/users/970346/stephen-niedzielski"}, "edited": false, "score": 9, "creation_date": 1549005378, "post_id": 51851844, "comment_id": 95756524, "body": "Thanks, @jcalz. It appears this functionality is now available in TypeScript itself as <code>Parameters</code>."}, {"owner": {"reputation": 2531, "user_id": 1398479, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/19650dc2ffcc590635f65387a9b53f39?s=128&d=identicon&r=PG", "display_name": "transang", "link": "https://stackoverflow.com/users/1398479/transang"}, "edited": false, "score": 0, "creation_date": 1555296989, "post_id": 51851844, "comment_id": 98048198, "body": "what does <code>infer</code> keyword mean?"}, {"owner": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "edited": false, "score": 1, "creation_date": 1555297965, "post_id": 51851844, "comment_id": 98048384, "body": "See <a href=\"https://github.com/Microsoft/TypeScript/wiki/What&#39;s-new-in-TypeScript#type-inference-in-conditional-types\" rel=\"nofollow noreferrer\">Type inference in conditional types</a>"}], "tags": [], "owner": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "is_accepted": true, "score": 179, "last_activity_date": 1589648124, "last_edit_date": 1589648124, "creation_date": 1534297395, "answer_id": 51851844, "question_id": 51851677, "link": "https://stackoverflow.com/questions/51851677/how-to-get-argument-types-from-function-in-typescript/51851844#51851844", "title": "How to get argument types from function in Typescript", "body": "<p>Typescript now comes with a <a href=\"https://github.com/Microsoft/TypeScript/blob/v3.3.1/lib/lib.es5.d.ts#L1471-L1474\" rel=\"noreferrer\">predefined <code>Parameters&lt;F&gt;</code> type alias in the standard library</a> which is almost the same as <code>ArgumentTypes&lt;&gt;</code> below, so you can just use that instead of creating your own type alias.</p>\n\n<pre><code>type TestParams = Parameters&lt;(a: string, b: number) =&gt; void&gt; // [string, number]\n</code></pre>\n\n<p>Then to get for example the second parameter's type you can use the numeric indexing operator:</p>\n\n<pre><code>type SecondParam = TestParams[1] // number\n</code></pre>\n\n<p>Original answer:</p>\n\n<hr>\n\n<p>Yes, now that TypeScript 3.0 has introduced <a href=\"https://github.com/Microsoft/TypeScript/pull/24897\" rel=\"noreferrer\">tuples in rest/spread positions</a>, you can create a conditional type to do this:</p>\n\n<pre><code>type ArgumentTypes&lt;F extends Function&gt; = F extends (...args: infer A) =&gt; any ? A : never;\n</code></pre>\n\n<p>Let's see if it works:</p>\n\n<pre><code>type TestArguments = ArgumentTypes&lt;typeof test&gt;; // [string, number]\n</code></pre>\n\n<p>Looks good.  Note that these beefed-up tuples also capture things like optional parameters and rest parameters:</p>\n\n<pre><code>declare function optionalParams(a: string, b?: number, c?: boolean): void;\ntype OptionalParamsArgs = ArgumentTypes&lt;typeof optionalParams&gt;; \n// [string, (number | undefined)?, (boolean | undefined)?]\n\ndeclare function restParams(a: string, b: number, ...c: boolean[]): void;\ntype RestParamsArgs = ArgumentTypes&lt;typeof restParams&gt;;\n// [string, number, ...boolean[]]\n</code></pre>\n\n<p>Hope that helps.  Good luck!</p>\n"}], "owner": {"reputation": 2678, "user_id": 2483138, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/1320d18fa8806488f96baad70b29ce4c?s=128&d=identicon&r=PG", "display_name": "ABMagil", "link": "https://stackoverflow.com/users/2483138/abmagil"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 67378, "favorite_count": 18, "closed_date": 1534310021, "accepted_answer_id": 51851844, "answer_count": 2, "score": 92, "last_activity_date": 1589648124, "creation_date": 1534295692, "question_id": 51851677, "link": "https://stackoverflow.com/questions/51851677/how-to-get-argument-types-from-function-in-typescript", "closed_reason": "Duplicate", "title": "How to get argument types from function in Typescript", "body": "<p>I may have missed something in the docs, but I can't find any way in typescript to get the types of the parameters in a function.  That is, I've got a function</p>\n\n<pre><code>function test(a: string, b: number) {\n    console.log(a);\n    console.log(b)\n}\n</code></pre>\n\n<p>I want access to the types <code>string</code> and <code>number</code>, likely as a tuple.</p>\n\n<p>I know I can get the type of the function itself, as <code>typeof test</code>, or the return type via <code>ReturnType&lt;test&gt;</code>. </p>\n\n<p>When I tried <code>keyof typeof test</code>, it returned <code>never</code>, which I also couldn't explain.</p>\n\n<p>Other answers <a href=\"https://stackoverflow.com/questions/43481518/get-argument-types-for-function-class-constructor\">like this one</a> point to <code>extends</code>, but I don't really understand how that works and don't give me an easy way to access the set-of-all-params as a type.</p>\n"}, {"tags": ["html", "angular", "typescript"], "answers": [{"comments": [{"owner": {"reputation": 323, "user_id": 2751115, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/17e92e898eb5f40fc0f15f4b3f979da2?s=128&d=identicon&r=PG&f=1", "display_name": "Paulo Henrique de Siqueira", "link": "https://stackoverflow.com/users/2751115/paulo-henrique-de-siqueira"}, "edited": false, "score": 0, "creation_date": 1534320013, "post_id": 51852758, "comment_id": 90662277, "body": "Interesting. I\u2019m already fetching the permissions with a shared service. And Elen it comes to a specific component that needs to fetch custom configuration I\u2019m doing that inside onInit. But in terms of rendering performance *ngIf would be my best option so?"}], "tags": [], "owner": {"reputation": 26053, "user_id": 982341, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/07129b74cbf0de1a592c7a98224f9e16?s=128&d=identicon&r=PG", "display_name": "GreyBeardedGeek", "link": "https://stackoverflow.com/users/982341/greybeardedgeek"}, "is_accepted": false, "score": 1, "last_activity_date": 1534305640, "creation_date": 1534305640, "answer_id": 51852758, "question_id": 51851558, "link": "https://stackoverflow.com/questions/51851558/dynamic-template-angular-based-on-database-configuration/51852758#51852758", "title": "Dynamic template Angular based on database configuration", "body": "<p>ngIf is indeed the best way to show/hide sections of your UI based on user permissions.</p>\n\n<p>You can also protect routes with Router Guards (e.g. CanActivate).</p>\n\n<p>If you fetch the user's permissions in each Component, you may indeed slow your application down somewhat, so I would suggest fetching them once at login - the most performant way would be to return the permissions upon a successful login request. </p>\n\n<p>You'll want to do this with a Service that is shared among all of your components and which caches the result.</p>\n\n<p>If instead, you send a separate request for permissions after login, that will slow things down a bit. Whether the delay is noticeable will depend on how long that second request takes to complete.</p>\n"}], "owner": {"reputation": 323, "user_id": 2751115, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/17e92e898eb5f40fc0f15f4b3f979da2?s=128&d=identicon&r=PG&f=1", "display_name": "Paulo Henrique de Siqueira", "link": "https://stackoverflow.com/users/2751115/paulo-henrique-de-siqueira"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 116, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1534314194, "creation_date": 1534294609, "last_edit_date": 1534314194, "question_id": 51851558, "link": "https://stackoverflow.com/questions/51851558/dynamic-template-angular-based-on-database-configuration", "title": "Dynamic template Angular based on database configuration", "body": "<p>I have an Angular application and in some interfaces I need to show/hide some divs based on user configuration that is retrieved from my database.</p>\n\n<p>I was thinking about using *ngIf and doing something like this:</p>\n\n<pre><code>&lt;div *ngIf=\u201chasConfig(\u2018blue\u2019)&gt;\n      Blue div\n&lt;/div&gt;\n\n&lt;div *ngIf=\u201chasConfig(\u2018yellow\u2019)&gt;\n      Yellow div\n&lt;/div&gt;\n\n&lt;div *ngIf=\u201chasConfig(\u2018red\u2019)&gt;\n      Red div\n&lt;/div&gt;\n</code></pre>\n\n<p>But I\u2019m afraid that it will harm my app performance and get a little bit messy, because the same situation happens in several parts of my app.\nAnd these divs have fields, each with a ngModel that can be sent to the server, it\u2019s like all of them togheter constitute one single form.</p>\n\n<p>The same applies to the main menu, I need to show menus based on permissions that the users are given by an admin. Today I\u2019m doing this with *ngIf, but I\u2019m not sure if that\u2019s the best approach.</p>\n\n<p>Are there any good practices or solutions that won\u2019t slow down my app in this scenario?</p>\n"}, {"tags": ["javascript", "angular", "typescript", "rxjs"], "comments": [{"owner": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 1, "creation_date": 1534286545, "post_id": 51850637, "comment_id": 90654547, "body": "Given that you&#39;ve separately imported fromEvent, why <i>are</i> you trying to access it on observable?"}, {"owner": {"reputation": 4819, "user_id": 9964622, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bo9qD.jpg?s=128&g=1", "display_name": "The Dead Man", "link": "https://stackoverflow.com/users/9964622/the-dead-man"}, "reply_to_user": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 0, "creation_date": 1534286784, "post_id": 51850637, "comment_id": 90654607, "body": "@jonrsharpe I wa just trying to solve the error by trying to import fromEvent to see if I can solve the issue , but seems not the right way, I am learning bro, that is why I need some guide from you guys"}], "answers": [{"tags": [], "owner": {"reputation": 2696, "user_id": 596367, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3a64fd57e3e8b4b929b8ac2fa89b07bf?s=128&d=identicon&r=PG", "display_name": "PeS", "link": "https://stackoverflow.com/users/596367/pes"}, "is_accepted": true, "score": 10, "last_activity_date": 1534286791, "creation_date": 1534286791, "answer_id": 51850716, "question_id": 51850637, "link": "https://stackoverflow.com/questions/51850637/angular-6-property-fromevent-does-not-exist-on-type-typeof-observable/51850716#51850716", "title": "Angular 6 : Property &#39;fromEvent&#39; does not exist on type &#39;typeof Observable&#39;", "body": "<p>In rxjs v6 it is just <code>fromEvent</code>:</p>\n\n<pre><code>fromEvent(window, 'scroll').subscribe(() =&gt; this.manageScrollEvent());\n</code></pre>\n"}], "owner": {"reputation": 4819, "user_id": 9964622, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bo9qD.jpg?s=128&g=1", "display_name": "The Dead Man", "link": "https://stackoverflow.com/users/9964622/the-dead-man"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4303, "favorite_count": 0, "accepted_answer_id": 51850716, "answer_count": 1, "score": 4, "last_activity_date": 1591518034, "creation_date": 1534286191, "last_edit_date": 1534287156, "question_id": 51850637, "link": "https://stackoverflow.com/questions/51850637/angular-6-property-fromevent-does-not-exist-on-type-typeof-observable", "title": "Angular 6 : Property &#39;fromEvent&#39; does not exist on type &#39;typeof Observable&#39;", "body": "<p>I am creating sticky navbar directive for sticky header in my angular 6 app </p>\n\n<p>Here is what I have so far:</p>\n\n<pre><code>import { Directive, Input, Renderer, ElementRef, OnInit } from '@angular/core';\nimport { Observable } from 'rxjs';\nimport { fromEvent } from 'rxjs';\n\n@Directive({\n    selector: '[ngStickyNav]'\n})\n\nexport class StickyNavDirective implements OnInit {\n    private offsetTop: number;\n    private lastScroll: number = 0;\n    private isSticky: boolean = false;\n    @Input('stickyClass') stickyClass: string;\n\n    constructor(private elementRef: ElementRef, private renderer: Renderer) {\n\n    }\n\n    ngOnInit(): void {\n        this.offsetTop = this.elementRef.nativeElement.offsetTop;\n\n        Observable.fromEvent(window, 'scroll').subscribe(() =&gt; this.manageScrollEvent());\n    }\n}\n</code></pre>\n\n<p>I am getting the following error :</p>\n\n<blockquote>\n  <p>Property 'fromEvent' does not exist on type 'typeof Observable'.</p>\n</blockquote>\n\n<p>what is wrong with my code? newbie though</p>\n"}, {"tags": ["typescript", "firebase", "google-cloud-firestore", "google-cloud-functions"], "comments": [{"owner": {"reputation": 11755, "user_id": 4797603, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/AwTvE.jpg?s=128&g=1", "display_name": "Ronnie Royston", "link": "https://stackoverflow.com/users/4797603/ronnie-royston"}, "edited": false, "score": 0, "creation_date": 1534291130, "post_id": 51850494, "comment_id": 90655474, "body": "Your Firestore Rules are not allowing the read or write. Review your <code>firestore.rules</code> file."}, {"owner": {"reputation": 176, "user_id": 10226748, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/63593a096e903d428740c37984be9471?s=128&d=identicon&r=PG&f=1", "display_name": "Lars-B", "link": "https://stackoverflow.com/users/10226748/lars-b"}, "reply_to_user": {"reputation": 233128, "user_id": 807126, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xpNqK.jpg?s=128&g=1", "display_name": "Doug Stevenson", "link": "https://stackoverflow.com/users/807126/doug-stevenson"}, "edited": false, "score": 2, "creation_date": 1534316417, "post_id": 51850494, "comment_id": 90660886, "body": "@ RonRoyston Thanks for your reply, but this is a Cloud Function using firebase-admin, it should not be effected by the firestore security rules. See my complete answer in the question (Update 2). It also contains a link by @DougStevenson mentioning this."}], "answers": [{"comments": [{"owner": {"reputation": 2909, "user_id": 2943345, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/W4WUr.jpg?s=128&g=1", "display_name": "\u0414\u043c\u0438\u0442\u0440\u043e \u0411\u0443\u043b\u0430\u0445", "link": "https://stackoverflow.com/users/2943345/%d0%94%d0%bc%d0%b8%d1%82%d1%80%d0%be-%d0%91%d1%83%d0%bb%d0%b0%d1%85"}, "edited": false, "score": 1, "creation_date": 1558092958, "post_id": 51857416, "comment_id": 98996364, "body": "My god. Was getting the same error. Just deleted and redeployed function and it finally works even with the default us-central1 loc"}], "tags": [], "owner": {"reputation": 176, "user_id": 10226748, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/63593a096e903d428740c37984be9471?s=128&d=identicon&r=PG&f=1", "display_name": "Lars-B", "link": "https://stackoverflow.com/users/10226748/lars-b"}, "is_accepted": true, "score": 4, "last_activity_date": 1534396656, "last_edit_date": 1534396656, "creation_date": 1534330654, "answer_id": 51857416, "question_id": 51850494, "link": "https://stackoverflow.com/questions/51850494/firebase-cloud-functions-firestore-trigger-produces-error-7-permission-denied/51857416#51857416", "title": "Firebase Cloud Functions Firestore Trigger produces: Error: 7 PERMISSION_DENIED: Missing or insufficient permissions", "body": "<p>I've finally got it working. I didn't change any firestore security rules nor any IAM stuff. I deleted the function which was running on us-central1. Created the same Cloud Function project again, copied over my existing code, but this time I deployed it to europe-west1 and it worked out of the box. </p>\n\n<p>I assume that something might failed during the first initial deployment to us-central1 and after that my project stuck with the error even if I had deleted and redeployed the function several times. Not sure what happened exactly, because no obvious error has been displayed. Maybe someone of the firebase team who knows the internal workflows can tell us if something like this can happen and if yes, how to deal with it.</p>\n\n<p>For now the above steps solved my issue.</p>\n"}, {"comments": [{"owner": {"reputation": 729, "user_id": 38414, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/222513635c221e0bf88ca2d3e5ba963b?s=128&d=identicon&r=PG", "display_name": "CodeKiwi", "link": "https://stackoverflow.com/users/38414/codekiwi"}, "edited": false, "score": 1, "creation_date": 1599082349, "post_id": 51999443, "comment_id": 112667068, "body": "OMG you legend. This took me so long to figure out."}, {"owner": {"reputation": 121, "user_id": 1115655, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/33bf8062f60843b2809aafda332a6b21?s=128&d=identicon&r=PG", "display_name": "Josh M.", "link": "https://stackoverflow.com/users/1115655/josh-m"}, "edited": false, "score": 0, "creation_date": 1609183909, "post_id": 51999443, "comment_id": 115771394, "body": "This is it for me too, embarrassing... You can use an environment variable for your project id instead: <a href=\"https://firebase.google.com/docs/functions/config-env\" rel=\"nofollow noreferrer\">firebase.google.com/docs/functions/config-env</a>"}], "tags": [], "owner": {"reputation": 21, "user_id": 1836827, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/50016f29caff7953673e75affc45c792?s=128&d=identicon&r=PG", "display_name": "Seb", "link": "https://stackoverflow.com/users/1836827/seb"}, "is_accepted": false, "score": 2, "last_activity_date": 1535095577, "creation_date": 1535095577, "answer_id": 51999443, "question_id": 51850494, "link": "https://stackoverflow.com/questions/51850494/firebase-cloud-functions-firestore-trigger-produces-error-7-permission-denied/51999443#51999443", "title": "Firebase Cloud Functions Firestore Trigger produces: Error: 7 PERMISSION_DENIED: Missing or insufficient permissions", "body": "<p>I've met the same error and have not found the solution anywhere so I post it here if it can help someone...</p>\n\n<p>We use 2 firebase projects (DEV, PROD) and deploy the same functions on both. The PERMISSION_DENIED appears also when you specify a wrong projectId in :</p>\n\n<pre><code>admin.initializeApp({projectId: 'your_project_id'});\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 458, "user_id": 1202416, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/836eefa3667c255f2f21c5dfd852ceca?s=128&d=identicon&r=PG", "display_name": "moreirapontocom", "link": "https://stackoverflow.com/users/1202416/moreirapontocom"}, "edited": false, "score": 0, "creation_date": 1591413847, "post_id": 56142571, "comment_id": 110053881, "body": "Worked fine here. Thanks a lot!"}], "tags": [], "owner": {"reputation": 678, "user_id": 3987384, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HudSD.jpg?s=128&g=1", "display_name": "Matias Seguel", "link": "https://stackoverflow.com/users/3987384/matias-seguel"}, "is_accepted": false, "score": 8, "last_activity_date": 1593542587, "last_edit_date": 1593542587, "creation_date": 1557899893, "answer_id": 56142571, "question_id": 51850494, "link": "https://stackoverflow.com/questions/51850494/firebase-cloud-functions-firestore-trigger-produces-error-7-permission-denied/56142571#56142571", "title": "Firebase Cloud Functions Firestore Trigger produces: Error: 7 PERMISSION_DENIED: Missing or insufficient permissions", "body": "<p>My solution was setting up the serviceAccount, check the following code snippet:</p>\n<pre><code>var admin = require(&quot;firebase-admin&quot;);\n\nvar serviceAccount = require(&quot;path/to/serviceAccountKey.json&quot;);\n\nadmin.initializeApp({\n  credential: admin.credential.cert(serviceAccount),\n  databaseURL: &quot;https://your-database-url.firebaseio.com&quot;\n});\n</code></pre>\n<p>You can generate the serviceAccountKey on:\n<em>Firebase dashboard -&gt; Project Settings -&gt; Service Accounts tab</em></p>\n<p>Hope it helps!</p>\n"}, {"comments": [{"owner": {"reputation": 3317, "user_id": 7557284, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/o2p3W.jpg?s=128&g=1", "display_name": "ADW", "link": "https://stackoverflow.com/users/7557284/adw"}, "edited": false, "score": 1, "creation_date": 1572534204, "post_id": 57340576, "comment_id": 103597383, "body": "I was able to solve this problem in a similar manner with some differences. Details in my answer to this question."}], "tags": [], "owner": {"reputation": 805, "user_id": 3421028, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cf99c1c2e14670b15286034a477a27b9?s=128&d=identicon&r=PG", "display_name": "nVitius", "link": "https://stackoverflow.com/users/3421028/nvitius"}, "is_accepted": false, "score": 8, "last_activity_date": 1564852831, "creation_date": 1564852831, "answer_id": 57340576, "question_id": 51850494, "link": "https://stackoverflow.com/questions/51850494/firebase-cloud-functions-firestore-trigger-produces-error-7-permission-denied/57340576#57340576", "title": "Firebase Cloud Functions Firestore Trigger produces: Error: 7 PERMISSION_DENIED: Missing or insufficient permissions", "body": "<p>I had the same exact problem with Cloud Functions. My issue was not solved by deleting/redeploying the function. It turns out that, when my project was provisioned, the IAM roles for the default service account were not added. I had to add an <code>Editor</code> role in the IAM Admin panel for <code>&lt;project-name&gt;@appspot.gserviceaccount.com</code>.</p>\n"}, {"comments": [{"owner": {"reputation": 2487, "user_id": 69938, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/57820d05ca0ace7919eb83fa3c47be94?s=128&d=identicon&r=PG", "display_name": "Dongsheng Cai", "link": "https://stackoverflow.com/users/69938/dongsheng-cai"}, "edited": false, "score": 0, "creation_date": 1583405950, "post_id": 58646481, "comment_id": 107109089, "body": "this is the correct answer, for some reason, default service account doesn&#39;t appear in IAM for me, I have added it back, not it worked :)"}], "tags": [], "owner": {"reputation": 3317, "user_id": 7557284, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/o2p3W.jpg?s=128&g=1", "display_name": "ADW", "link": "https://stackoverflow.com/users/7557284/adw"}, "is_accepted": false, "score": 11, "last_activity_date": 1579356085, "last_edit_date": 1579356085, "creation_date": 1572535074, "answer_id": 58646481, "question_id": 51850494, "link": "https://stackoverflow.com/questions/51850494/firebase-cloud-functions-firestore-trigger-produces-error-7-permission-denied/58646481#58646481", "title": "Firebase Cloud Functions Firestore Trigger produces: Error: 7 PERMISSION_DENIED: Missing or insufficient permissions", "body": "<p>I had the same issue. And like <a href=\"https://stackoverflow.com/users/3421028/nvitius\">nvitius</a>, I solved it by changing permissions.</p>\n\n<p>When creating a function, the default service account appears to be <code>&lt;project-name&gt;@appspot.gserviceaccount.com</code>.</p>\n\n<p>You can check this by clicking on the <code>Environment variables, networking, timeouts and more</code> link:</p>\n\n<p><a href=\"https://i.stack.imgur.com/CSCLf.jpg\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/CSCLf.jpg\" alt=\"To show Service Account\"></a></p>\n\n<p>And then you can verify or change the account to the `App Engine default service account':</p>\n\n<p><a href=\"https://i.stack.imgur.com/3zb2Y.jpg\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/3zb2Y.jpg\" alt=\"App Engine default service account\"></a></p>\n\n<p>After this, I went to the IAM to verify the permission this service account had.</p>\n\n<p>But the IAM did not have this service account listed/added.</p>\n\n<p>So I add it >> Add >> New members. Start typing the ID of the project and the service account should pop-up in the drop-down.</p>\n\n<p>And then I gave it the following permissions:</p>\n\n<ul>\n<li>Project >> Editor (It may have this already)</li>\n<li>Datastore >> Cloud Datastore Owner</li>\n<li>Storage >> Storage Admin</li>\n</ul>\n\n<p>Hope this helps.</p>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 10873737, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-o2AWfZquZaY/AAAAAAAAAAI/AAAAAAAAAG4/0ErX4ffAE-I/photo.jpg?sz=128", "display_name": "Dylan", "link": "https://stackoverflow.com/users/10873737/dylan"}, "is_accepted": false, "score": 0, "last_activity_date": 1589920721, "last_edit_date": 1589920721, "creation_date": 1589920383, "answer_id": 61900267, "question_id": 51850494, "link": "https://stackoverflow.com/questions/51850494/firebase-cloud-functions-firestore-trigger-produces-error-7-permission-denied/61900267#61900267", "title": "Firebase Cloud Functions Firestore Trigger produces: Error: 7 PERMISSION_DENIED: Missing or insufficient permissions", "body": "<p>One solution that worked for me:</p>\n\n<ul>\n<li>I was switching between firebase projects where I wanted to emulate a Cloud Function and see the results in production in Firestore (I already had the Cloud Function creating data in production Firestore in a project (ex. \"project-dev\")</li>\n<li>Permission denied error kept happening when creating new document in Firestore via the cloud function even though I was using the downloaded the serviceAccount credentials for the new project (\"project-sandbox\")</li>\n</ul>\n\n<pre><code>let serviceAccount = require('../credentials-sb.json');\nadmin.initializeApp({\n    credential: admin.credential.cert(serviceAccount),\n    databaseURL: \"https://&lt;project&gt;-sandbox.firebaseio.com\"\n});\n</code></pre>\n\n<ul>\n<li>I noticed I had not yet run the <code>firebase use</code> command for my new project, nor was it added to .firebaserc. I was \"using\" a project other than the one that the credentials file would have needed (ex: Firebase CLI set to use \"project-dev\", I had not yet run the <code>firebase use</code> command for my new \"project-sandbox\")</li>\n<li>After I ran <code>firebase use project-sandbox</code>, I ran <code>npm run shell</code> and executed my function from the emulator and everything worked. The emulator worked as it should for \"project-sandbox\" as it had for \"project-dev\".</li>\n</ul>\n\n<p>I can only assume this is due to setting a project-id environment variable which is either sensed from the environment when running <code>admin.initializeApp()</code> or that I could have set manually like this (see comment from @Seb above):</p>\n\n<pre><code>let serviceAccount = require('../credentials-sb.json');\nadmin.initializeApp({\n    project-id: '&lt;project&gt;-sandbox'\n    credential: admin.credential.cert(serviceAccount),\n    databaseURL: \"https://inkling-sandbox.firebaseio.com\"\n});\n</code></pre>\n\n<p>I hope this helps! Please let me know if it did.</p>\n"}], "owner": {"reputation": 176, "user_id": 10226748, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/63593a096e903d428740c37984be9471?s=128&d=identicon&r=PG&f=1", "display_name": "Lars-B", "link": "https://stackoverflow.com/users/10226748/lars-b"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 6843, "favorite_count": 7, "accepted_answer_id": 51857416, "answer_count": 6, "score": 12, "last_activity_date": 1593542587, "creation_date": 1534285112, "last_edit_date": 1534318195, "question_id": 51850494, "link": "https://stackoverflow.com/questions/51850494/firebase-cloud-functions-firestore-trigger-produces-error-7-permission-denied", "title": "Firebase Cloud Functions Firestore Trigger produces: Error: 7 PERMISSION_DENIED: Missing or insufficient permissions", "body": "<p>I'm trying to use a Firebase Cloud Function to update a document within my Firestore database, when one of my documents has been updated using a trigger. The trigger is called and working fine, but when I'm using the firebase admin instance to get the other document which I want to update, I'm getting the following error.</p>\n\n<pre><code>Error: 7 PERMISSION_DENIED: Missing or insufficient permissions.\n    at Object.exports.createStatusError (/user_code/node_modules/firebase-admin/node_modules/grpc/src/common.js:87:15)\n    at ClientReadableStream._emitStatusIfDone (/user_code/node_modules/firebase-admin/node_modules/grpc/src/client.js:235:26)\n    at ClientReadableStream._receiveStatus (/user_code/node_modules/firebase-admin/node_modules/grpc/src/client.js:213:8)\n    at Object.onReceiveStatus (/user_code/node_modules/firebase-admin/node_modules/grpc/src/client_interceptors.js:1256:15)\n    at InterceptingListener._callNext (/user_code/node_modules/firebase-admin/node_modules/grpc/src/client_interceptors.js:564:42)\n    at InterceptingListener.onReceiveStatus (/user_code/node_modules/firebase-admin/node_modules/grpc/src/client_interceptors.js:614:8)\n    at /user_code/node_modules/firebase-admin/node_modules/grpc/src/client_interceptors.js:1019:24\n</code></pre>\n\n<p>function code:</p>\n\n<pre><code>import * as functions from \"firebase-functions\";\nimport * as admin from \"firebase-admin\";\n\nadmin.initializeApp();\nconst settings = { timestampsInSnapshots: true };\nadmin.firestore().settings(settings);\n\nexport const onDocUpdate = functions.firestore\n  .document(\"documents/{documentId}\")\n  .onUpdate((snapshot, context) =&gt; {\n    console.log(\"onDocUpdate called \", context.params.documentId);\n    const document = snapshot.after.data();\n    console.log(\"Document: \", document);\n    if (document.screw) {\n      console.log(\"Document screw exists. \", document.screw);\n      const docRef = admin\n        .firestore()\n        .collection(\"screws\")\n        .doc(document.screw);\n      return docRef\n        .get()\n        .then(doc =&gt; {\n          if (doc.exists) {\n            console.log(\"Screw for document exists.\");\n          } else {\n            console.error(\n              \"Screw for document not found! \",\n              document.screw\n            );\n          }\n        })\n        .catch(error =&gt; {\n          // Here I get the permission error :(\n          console.error(\n            \"Screw for document doc load error!! \",\n            error\n          );\n        });\n    } else {\n      console.error(\"Document is not bound to a screw! \", document.id);\n    }\n    return null;\n  });\n</code></pre>\n\n<p>package.json</p>\n\n<pre><code>{\n  \"name\": \"functions\",\n  \"scripts\": {\n    \"lint\": \"tslint --project tsconfig.json\",\n    \"build\": \"tsc\",\n    \"serve\": \"npm run build &amp;&amp; firebase serve --only functions\",\n    \"shell\": \"npm run build &amp;&amp; firebase functions:shell\",\n    \"start\": \"npm run shell\",\n    \"deploy\": \"firebase deploy --only functions\",\n    \"logs\": \"firebase functions:log\"\n  },\n  \"main\": \"lib/index.js\",\n  \"dependencies\": {\n    \"@google-cloud/firestore\": \"^0.16.0\",\n    \"firebase-admin\": \"^6.0.0\",\n    \"firebase-functions\": \"^2.0.4\",\n    \"protobufjs\": \"^6.8.8\"\n  },\n  \"devDependencies\": {\n    \"tslint\": \"~5.8.0\",\n    \"typescript\": \"~2.8.3\"\n  },\n  \"private\": true\n}\n</code></pre>\n\n<p>I assume that it has something to do with the permission of the admin instance, but no idea what the error could be, I've just followed the steps from the docs and the firebase videos on youtube. </p>\n\n<p>My account is still on a Free Plan and I'm getting a notice in the logs the that I should configure the billing account, but if understand the documentation correct I should be able to access services within the Google Cloud Platform and so reading other nodes within the same database should not be a problem.</p>\n\n<p>I've already found two similar issues here on stackoverflow, but did not find a solution there. Maybe someone else also faced this issue in the meantime and was able to solve it? </p>\n\n<p><a href=\"https://stackoverflow.com/questions/49910274/permission-denied-firestore-cloudfunction-typescript?noredirect=1&amp;lq=1\">PERMISSION_DENIED Firestore CloudFunction TypeScript</a> and \n<a href=\"https://stackoverflow.com/questions/50489491/firebase-error-writing-to-firestore-via-a-function-7-permission-denied-missin\">Firebase error writing to Firestore via a Function: &quot;7 PERMISSION_DENIED: Missing or insufficient permissions&quot;</a></p>\n\n<p><strong>Update 1:</strong> Had another issue with the new timestampsInSnapshots setting. This has been fixed and the code above updated. The main issue permission denied is still present.</p>\n\n<p><strong>Update 2</strong>: Regarding the answer by @RonRoyston below. This is a Cloud Function and its using the Admin SDK from firebase-admin package to read the node. Hence it should not be effected by the firestore security rules. There's already a <a href=\"https://stackoverflow.com/questions/49910274/permission-denied-firestore-cloudfunction-typescript?noredirect=1&amp;lq=1#comment86836463_49910274\">comment</a> on one of the linked questions by @DougStevenson mentioning this. Based on the <a href=\"https://firebase.google.com/docs/admin/setup?authuser=0\" rel=\"noreferrer\">Admin SDK documentation</a> it should be enough to initialize it by calling admin.initializeApp(), but unfortunately in my case it isn't. I've read no where that there is any need to apply any special IAM settings within the service accounts or security rules when using Cloud Functions, and so I didn't touch any of these settings. </p>\n\n<p>Cheers,\nLars</p>\n"}, {"tags": ["javascript", "angular", "typescript"], "answers": [{"tags": [], "owner": {"reputation": 891, "user_id": 7502260, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f35497e7438df0be043f03357cb53e5d?s=128&d=identicon&r=PG", "display_name": "abdullahkady", "link": "https://stackoverflow.com/users/7502260/abdullahkady"}, "is_accepted": true, "score": 0, "last_activity_date": 1534285876, "creation_date": 1534285876, "answer_id": 51850597, "question_id": 51850357, "link": "https://stackoverflow.com/questions/51850357/cant-access-template-created-through-innerhtml-directive-angular-4/51850597#51850597", "title": "Can&#39;t access template created through innerHTML directive, Angular 4", "body": "<p>Angular by default won't allow you to inject dynamic HTML into the template, since it's a security concern (Cross Site Scripting, read <a href=\"https://angular.io/api/platform-browser/DomSanitizer#security-risk\" rel=\"nofollow noreferrer\">here</a>).</p>\n\n<p>However you can bypass the sanitizing as mentioned in the docs linked above, using a pipe would be the most straight forward solution: </p>\n\n<pre><code>import { Pipe, PipeTransform } from '@angular/core';\nimport { DomSanitizer, SafeHtml } from '@angular/platform-browser';\n\n@Pipe({name: 'safeHTML'})\nexport class SanitizeHtml implements PipeTransform {\n  constructor(private sanitizer: DomSanitizer) {}\n\n  transform(html): SafeHtml {\n    return this.sanitizer.bypassSecurityTrustHtml(html);\n  }\n}\n</code></pre>\n\n<p>And you would edit your template to use that pipe: \n     </p>\n"}], "owner": {"reputation": 29, "user_id": 8527806, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7fa5ad7d01affc8382c2ff2fdbee4527?s=128&d=identicon&r=PG&f=1", "display_name": "Jacopo Rufini", "link": "https://stackoverflow.com/users/8527806/jacopo-rufini"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 37, "favorite_count": 0, "accepted_answer_id": 51850597, "answer_count": 1, "score": -1, "last_activity_date": 1534285876, "creation_date": 1534284173, "question_id": 51850357, "link": "https://stackoverflow.com/questions/51850357/cant-access-template-created-through-innerhtml-directive-angular-4", "title": "Can&#39;t access template created through innerHTML directive, Angular 4", "body": "<p>I need to access to the elements of the DOM of a component dinamically created through innerHTML directive in Angular.\nThis is my main component:</p>\n\n<pre><code>import {Component} from '@angular/core';\n\n@Component({\n  selector: 'app-root',\n  template: `\n    &lt;app-block [template]=\"template\"&gt;&lt;/app-block&gt;\n  `\n})\nexport class AppComponent {\n\nprotected template = `\n      &lt;main role=\"main\" class=\"inner cover\"&gt;\n        &lt;h1 class=\"cover-heading text-center\"&gt;Cover your page.&lt;/h1&gt;\n        &lt;p #paragraph class=\"lead\"&gt;Cover is a one-page template for building simple and beautiful home pages. \n        Download, edit the text, and add your own fullscreen background photo to make it your own.&lt;/p&gt;\n        &lt;p #paragraph class=\"lead\"&gt;\n          &lt;a href=\"#\" class=\"btn btn-lg btn-secondary\"&gt;Learn more&lt;/a&gt;\n        &lt;/p&gt;\n      &lt;/main&gt;\n  `;\n}\n</code></pre>\n\n<p>and this is my component created dinamically:</p>\n\n<pre><code>import {\n  AfterViewInit,\n  Component,\n  Input,\n  ViewChildren,\n } from '@angular/core';\n\n@Component({\n  selector: 'app-block',\n  template: `    \n    &lt;div [innerHTML]=\"template\"&gt;&lt;/div&gt;\n  `\n})\nexport class BlockComponent implements AfterViewInit {\n  @Input() template: String;\n  @ViewChildren('paragraph') ps;\n\n  public ngAfterViewInit(): void {\n    console.log(this.ps.length);\n  }\n}\n</code></pre>\n\n<p>I just tried to get the length of my object but it seems to be empty. Like it can't see the template auto-generated.</p>\n"}, {"tags": ["angular", "html", "typescript"], "answers": [{"tags": [], "owner": {"reputation": 2696, "user_id": 596367, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3a64fd57e3e8b4b929b8ac2fa89b07bf?s=128&d=identicon&r=PG", "display_name": "PeS", "link": "https://stackoverflow.com/users/596367/pes"}, "is_accepted": false, "score": 1, "last_activity_date": 1534295947, "creation_date": 1534295947, "answer_id": 51851699, "question_id": 51850220, "link": "https://stackoverflow.com/questions/51850220/set-true-false-returned-to-yes-no-in-dropdown/51851699#51851699", "title": "Set true/false returned to yes/no in Dropdown", "body": "<p>You might want to try binding options <code>value</code> as input:</p>\n\n<pre><code>&lt;select *ngIf=\"attribute.IsWritable\" [(ngModel)]=\"animal[attribute.AttributeKey]\"&gt;\n  &lt;option [value]=\"true\"&gt;Yes&lt;/option&gt;\n  &lt;option [value]=\"false\"&gt;No&lt;/option&gt;\n&lt;/select&gt;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 35, "user_id": 5399270, "user_type": "registered", "profile_image": "https://graph.facebook.com/481581832025526/picture?type=large", "display_name": "Mahdi Akbary Nikzad", "link": "https://stackoverflow.com/users/5399270/mahdi-akbary-nikzad"}, "is_accepted": false, "score": 0, "last_activity_date": 1540635306, "creation_date": 1540635306, "answer_id": 53020850, "question_id": 51850220, "link": "https://stackoverflow.com/questions/51850220/set-true-false-returned-to-yes-no-in-dropdown/53020850#53020850", "title": "Set true/false returned to yes/no in Dropdown", "body": "<p>This will not work as you expect because binding in <code>select</code> to <code>value</code> option will return </p>\n\n<blockquote>\n  <p>string</p>\n</blockquote>\n\n<p><code>'true'</code> or <code>'false'</code> </p>\n\n<p><code>&lt;select *ngIf=\"attribute.IsWritable\" [(ngModel)]=\"animal[attribute.AttributeKey]\"&gt;\n  &lt;option [value]=\"true\"&gt;Yes&lt;/option&gt;\n  &lt;option [value]=\"false\"&gt;No&lt;/option&gt;\n&lt;/select&gt;</code></p>\n\n<p>So in that case the next part should be as below:</p>\n\n<pre><code>&lt;span *ngIf=\"attribute.IsWritable &amp;&amp; attribute.IsReadable &amp;&amp; animal[attribute.AttributeKey] === 'true' \"&gt;Yes&lt;/span&gt;\n&lt;span *ngIf=\"attribute.IsWritable &amp;&amp; attribute.IsReadable &amp;&amp; animal[attribute.AttributeKey] === 'false'\"&gt;No&lt;/span&gt; \n</code></pre>\n"}], "owner": {"reputation": 396, "user_id": 814733, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/5d8cbf838fd0781e096e60f25ca058b7?s=128&d=identicon&r=PG", "display_name": "kauschan", "link": "https://stackoverflow.com/users/814733/kauschan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1617, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1540635306, "creation_date": 1534283345, "last_edit_date": 1534288950, "question_id": 51850220, "link": "https://stackoverflow.com/questions/51850220/set-true-false-returned-to-yes-no-in-dropdown", "title": "Set true/false returned to yes/no in Dropdown", "body": "<p>I have the following piece of code:</p>\n\n<pre><code>   &lt;div *ngSwitchCase=\"'Boolean'\"&gt;\n        &lt;select *ngIf=\"attribute.IsWritable\" [(ngModel)]=\"animal[attribute.AttributeKey]\"&gt;\n            &lt;option (value)=\"animal[attribute.AttributeKey]==true\"&gt;Yes&lt;/option&gt;\n            &lt;option (value)=\"animal[attribute.AttributeKey]==false\"&gt;No&lt;/option&gt;\n        &lt;/select&gt;\n        &lt;span *ngIf=\"!attribute.IsWritable &amp;&amp; attribute.IsReadable &amp;&amp; animal[attribute.AttributeKey] \"&gt;Yes&lt;/span&gt;\n        &lt;span *ngIf=\"!attribute.IsWritable &amp;&amp; attribute.IsReadable &amp;&amp; !animal[attribute.AttributeKey]\"&gt;No&lt;/span&gt;             \n     &lt;/div&gt;\n</code></pre>\n\n<p>I want to change the drop down to display yes or now based on the value returned from animal[attribute.AttributeKey] which is either true or false. How can I go about achieving this ? . Any help is appreciated. Also how can I keep the value returned here to be selected by default ?</p>\n"}, {"tags": ["angular", "typescript", "angular-cli", "ng-packagr", "angular-library"], "comments": [{"owner": {"reputation": 28393, "user_id": 5669456, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/aeueo.png?s=128&g=1", "display_name": "ford04", "link": "https://stackoverflow.com/users/5669456/ford04"}, "edited": false, "score": 0, "creation_date": 1565423650, "post_id": 51850063, "comment_id": 101357362, "body": "The displayed error makes sense from TypeScript perspective, however I don&#39;t really have knowledge of Angular CLI. As you don&#39;t set <code>rootDir</code> property in your tsconfig, Angular CLI seems to internally restrict it to the root of the library you want to compile. Then, if you <code>import</code> another lib outside, TypeScript rightfully complains. Concerning <code>rootDir</code> have a look here: <a href=\"https://stackoverflow.com/questions/57422458/error-ts6059-file-is-not-under-rootdir-rootdir-is-expected-to-contain-al/57429111#57429111\" title=\"error ts6059 file is not under rootdir rootdir is expected to contain al\">stackoverflow.com/questions/57422458/&hellip;</a> (disclaimer: answer from me)."}], "answers": [{"comments": [{"owner": {"reputation": 4106, "user_id": 3634032, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/PDCW3.jpg?s=128&g=1", "display_name": "Sam Herrmann", "link": "https://stackoverflow.com/users/3634032/sam-herrmann"}, "edited": false, "score": 0, "creation_date": 1534347809, "post_id": 51861257, "comment_id": 90676193, "body": "A.Agius, I would like to verify that the <code>dev</code> version of TypeScript solves this issue in my project, but I am getting the TypeScript mismatch error when building the library. Can you assist with overcoming this issue <a href=\"https://stackoverflow.com/questions/51861942/disable-typescript-mismatch-in-ng-packagr\">here</a>?"}, {"owner": {"reputation": 4106, "user_id": 3634032, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/PDCW3.jpg?s=128&g=1", "display_name": "Sam Herrmann", "link": "https://stackoverflow.com/users/3634032/sam-herrmann"}, "edited": false, "score": 2, "creation_date": 1534441752, "post_id": 51861257, "comment_id": 90717027, "body": "Great, thanks! With your help I was able to confirm that the build error occurs in version <code>3.1.0-dev.20180810</code> and before, but the build is successful with version <code>3.1.0-dev.20180813</code> as you have pointed out."}], "tags": [], "owner": {"reputation": 1072, "user_id": 695438, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/02c42a5147bbac64517737a9da162340?s=128&d=identicon&r=PG", "display_name": "A. Agius", "link": "https://stackoverflow.com/users/695438/a-agius"}, "is_accepted": true, "score": 6, "last_activity_date": 1543406852, "last_edit_date": 1543406852, "creation_date": 1534345237, "answer_id": 51861257, "question_id": 51850063, "link": "https://stackoverflow.com/questions/51850063/rootdir-is-expected-to-contain-all-source-files/51861257#51861257", "title": "&#39;rootDir&#39; is expected to contain all source files", "body": "<p>This looks like the problem that is occurring due to the <code>import types</code> which was introduced in <code>TypeScript 2.9</code>. When emitted these are not being rewired properly see line 3.</p>\n\n<p><strong>dist/bar/lib/bar.component.d.ts(5,11):</strong></p>\n\n<pre><code>export declare class BarComponent implements OnInit {\n    private barService;\n    list: import(\"projects/bar/src/lib/types\").Item[]; \n    constructor(barService: BarService);\n    ngOnInit(): void;\n}\n</code></pre>\n\n<p>In the above emitted <code>dts</code>, <code>list: import(\"projects/bar/src/lib/types\").Item[];</code> should be something like <code>import(\"./types\").Item[];</code> instead.</p>\n\n<p>A workaround for this can be that from your code instead infering the type, you explicitly set it.</p>\n\n<p>in <code>bar.component.ts</code> change the below;</p>\n\n<pre><code>list = this.barService.list();\n</code></pre>\n\n<p>to: </p>\n\n<pre><code>list: Item[] = this.barService.list();\n</code></pre>\n\n<p>This will remove the type import and the consuming library will build. </p>\n\n<p>I also checked a bit with future versions of TypeScript, it is still an issue in TypeScript <code>3.0.1</code>, but it looks like it has been addressed in <code>dev</code> version of TypeScript <code>3.1.0</code>, ie <code>3.1.0-dev.20180813</code></p>\n"}, {"tags": [], "owner": {"reputation": 4799, "user_id": 2528609, "user_type": "registered", "accept_rate": 38, "profile_image": "https://i.stack.imgur.com/bxEnK.jpg?s=128&g=1", "display_name": "mvermand", "link": "https://stackoverflow.com/users/2528609/mvermand"}, "is_accepted": false, "score": 8, "last_activity_date": 1543408088, "creation_date": 1543408088, "answer_id": 53519492, "question_id": 51850063, "link": "https://stackoverflow.com/questions/51850063/rootdir-is-expected-to-contain-all-source-files/53519492#53519492", "title": "&#39;rootDir&#39; is expected to contain all source files", "body": "<p>I had the same issue, but the solution of @Agius did not help.</p>\n\n<p>I had:</p>\n\n<pre><code>Angular Workspace\n  - projects\n      - lib1\n      - lib2\n  - src\n      - test application\n</code></pre>\n\n<p>In fact I had moved a component from lib2 to lib1, by dragging the folder in WebStorm. By doing this, the references in lib2 to that component were not removed but updated and pointed to the source-folder of lib1. I forgot to remove these references which were no longer needed in lib2. After removing all references to the component in lib2, that library compiled.</p>\n\n<p>I had to remove the references in</p>\n\n<ul>\n<li>public_api.ts </li>\n<li>./lib/lib2.module.ts</li>\n</ul>\n\n<p>Maybe there are more references in your project.</p>\n"}, {"tags": [], "owner": {"reputation": 125, "user_id": 12958726, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-iVxNAnwUr88/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rdvMLdZinffH8Gsje2zhGLGPps0cQ/photo.jpg?sz=128", "display_name": "soni kumari", "link": "https://stackoverflow.com/users/12958726/soni-kumari"}, "is_accepted": false, "score": 1, "last_activity_date": 1595249558, "creation_date": 1595249558, "answer_id": 62995810, "question_id": 51850063, "link": "https://stackoverflow.com/questions/51850063/rootdir-is-expected-to-contain-all-source-files/62995810#62995810", "title": "&#39;rootDir&#39; is expected to contain all source files", "body": "<p>the issue is related to import statement where import path is not being provided properly.\nFor example :- import * from '../.././../tools1/tools2/tools/demo';\nshould be import * from '@tools/tools/demo';</p>\n<p>here @tools is considered as root directory.\nNote:- above mentioned path is just an example.</p>\n"}], "owner": {"reputation": 4106, "user_id": 3634032, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/PDCW3.jpg?s=128&g=1", "display_name": "Sam Herrmann", "link": "https://stackoverflow.com/users/3634032/sam-herrmann"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 32244, "favorite_count": 0, "accepted_answer_id": 51861257, "answer_count": 3, "score": 25, "last_activity_date": 1595249558, "creation_date": 1534282363, "last_edit_date": 1534295423, "question_id": 51850063, "link": "https://stackoverflow.com/questions/51850063/rootdir-is-expected-to-contain-all-source-files", "title": "&#39;rootDir&#39; is expected to contain all source files", "body": "<p>I have an Angular CLI workspace containing two library projects, <code>foo</code> and <code>bar</code>. When I build the second of the two libraries, <code>foo</code>, the build fails with the following error:</p>\n\n<blockquote>\n  <p>error TS6059: File '/code/projects/bar/src/lib/types.ts' is not under\n  'rootDir' '/code/projects/foo/src'. 'rootDir' is expected tocontain\n  all source files.</p>\n\n<pre><code>Error: error TS6059: File '/code/projects/bar/src/lib/types.ts' is not under 'rootDir' '/code/projects/foo/src'. 'rootDir' is expected to contain all source files.\n\n    at Object.&lt;anonymous&gt; (/code/node_modules/ng-packagr/lib/ngc/compile-source-files.js:53:68)\n    at Generator.next (&lt;anonymous&gt;)\n    at /code/node_modules/ng-packagr/lib/ngc/compile-source-files.js:7:71\n    at new Promise (&lt;anonymous&gt;)\n    at __awaiter (/code/node_modules/ng-packagr/lib/ngc/compile-source-files.js:3:12)\n    at Object.compileSourceFiles (/code/node_modules/ng-packagr/lib/ngc/compile-source-files.js:19:12)\n    at Object.&lt;anonymous&gt; (/code/node_modules/ng-packagr/lib/ng-v5/entry-point/ts/compile-ngc.transform.js:26:32)\n    at Generator.next (&lt;anonymous&gt;)\n    at /code/node_modules/ng-packagr/lib/ng-v5/entry-point/ts/compile-ngc.transform.js:7:71\n    at new Promise (&lt;anonymous&gt;)\n</code></pre>\n</blockquote>\n\n<p>I have reproduced the error in a sandbox repo on GitHub <a href=\"https://github.com/samherrmann/angular-sandbox/commit/0c676a44c7dcc17b684323660cda24f7bc699ec9\" rel=\"noreferrer\">here</a>. I have simplified the code to as much as I can while still experiencing the error. You can reproduce the error by executing <code>npm run build</code> on the <a href=\"https://github.com/samherrmann/angular-sandbox/compare/rootDir-expect-all-source-files-error\" rel=\"noreferrer\">rootDir-expect-all-source-files-error</a> branch. What is the cause of the error? May this be a bug with <code>ng-packagr</code> or <code>ngc</code> or <code>tsc</code>? Or is it simply a configuration issue?</p>\n\n<h1>Observations</h1>\n\n<p>Below are code changes with which I can make the build pass, but I would like to know what is causing the error with the code as is.</p>\n\n<h2>bar.component.ts</h2>\n\n<h3>Build fails</h3>\n\n<pre><code>export class BarComponent {\n\n  list = this.barService.list();\n\n  constructor(private barService: BarService) {}\n}\n</code></pre>\n\n<h3>Build passes</h3>\n\n<p>Initialize list property in constructor instead of inline</p>\n\n<pre><code>export class BarComponent {\n\n  list;\n\n  constructor(private barService: BarService) {\n    this.list = this.barService.list();\n  }\n}\n</code></pre>\n\n<h2>bar.service.ts</h2>\n\n<h3>Build fails</h3>\n\n<pre><code>import { Injectable } from '@angular/core';\nimport { List, Item } from './types';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class BarService {\n\n  private _list: List = [];\n\n  constructor() { }\n\n  add(item: Item): void {\n    this._list.push(item);\n  }\n\n  list(): List {\n    return this._list;\n  }\n}\n</code></pre>\n\n<h3>Build passes</h3>\n\n<p>Remove the data types</p>\n\n<pre><code>import { Injectable } from '@angular/core';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class BarService {\n\n  private _list: any[] = [];\n\n  constructor() { }\n\n  add(item: any): void {\n    this._list.push(item);\n  }\n\n  list(): any {\n    return this._list;\n  }\n}\n</code></pre>\n"}, {"tags": ["html", "angular", "function", "typescript", "angular-cli"], "answers": [{"tags": [], "owner": {"reputation": 175871, "user_id": 454533, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/c7715e765817254e0534f89a4092c0aa?s=128&d=identicon&r=PG", "display_name": "Explosion Pills", "link": "https://stackoverflow.com/users/454533/explosion-pills"}, "is_accepted": true, "score": 1, "last_activity_date": 1534281941, "creation_date": 1534281941, "answer_id": 51849979, "question_id": 51849850, "link": "https://stackoverflow.com/questions/51849850/angular-cli-use-script-inside-html-with-a-parameter-from-another-ts-file/51849979#51849979", "title": "&lt;Angular CLI&gt; Use script inside HTML with a parameter from another .ts file", "body": "<p>Inside your <code>heroes.ts</code> component where you have <code>hero.id</code>, etc. you can define <code>aliveDead</code> instead.</p>\n\n<pre><code>Status: {{aliveDead(hero)}}\n</code></pre>\n\n<p>If you really want <code>aliveDead</code> to be defined separately, you can just put it in a separate file. Then you can import it in <code>heroes.ts</code>:</p>\n\n<pre><code>import { aliveDead } from 'path/to/aliveDead.ts';\n\n@Component(...)\nclass HeroesList {\n  ...\n  // Assign your declared function to a component property\n  aliveDead = aliveDead;\n}\n</code></pre>\n\n<hr>\n\n<p>Another more efficient way to do this would be to create a pipe:</p>\n\n<p>import { Pipe, PipeTransform } from '@angular/core';</p>\n\n<pre><code>/**\n * Pass-through pipe that mocks the `translate` pipe used for L10n for tests\n */\n@Pipe({ name: 'aliveDead' })\nexport class HeroStatusPipe implements PipeTransform {\n  transform(hero) {\n    if (hero.status === '1') {\n      return 'Active';\n    }\n    return 'Dead';\n  }\n}\n</code></pre>\n\n<p>Then you will have to add this pipe to your module declarations. In your template you will be able to use <code>Status: {{hero | aliveDead}}</code></p>\n"}], "owner": {"reputation": 37, "user_id": 9430314, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/AU4Mz.jpg?s=128&g=1", "display_name": "CH4B", "link": "https://stackoverflow.com/users/9430314/ch4b"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 59, "favorite_count": 0, "accepted_answer_id": 51849979, "answer_count": 1, "score": 1, "last_activity_date": 1534281941, "creation_date": 1534281283, "question_id": 51849850, "link": "https://stackoverflow.com/questions/51849850/angular-cli-use-script-inside-html-with-a-parameter-from-another-ts-file", "title": "&lt;Angular CLI&gt; Use script inside HTML with a parameter from another .ts file", "body": "<p>Good afternoon!</p>\n\n<p>I'm sorry if I'm unable to get this clear, but here's the problem:</p>\n\n<p>i have a file named \"heroes.ts\", where I have many objects for a \"Hero\" class (which is exported from another file), here you can see a fragment of it --></p>\n\n<pre><code>import { Hero, Villain } from '../hero';\n\nexport const HEROES: Hero[] = [\n\n{ id: 78251, name: 'Fareeha Amari',            codename: 'Pharah',        alive:true  },\n{ id: 15964, name: 'Gengi Shimada',            codename: 'Gengi',         alive:true  },\n{ id: 21345, name: 'Angela Ziegler',           codename: 'Mercy',         alive:true  },\n{ id: 84519, name: 'Lena Oxton',               codename: 'Tracer',        alive:true  },\n{ id: 64518, name: 'Jeese Mccree',             codename: 'Mccree',        alive:true  }, \n\n..............]\n</code></pre>\n\n<p>these pieces of information are used inside another file, called \"heroes.component.html\". After a certain point, i need to call this data. And I do it like this (mostly, without any problem): </p>\n\n<pre><code>&lt;h2&gt;Heroes&lt;/h2&gt;\n\n  &lt;ul id=\"heroes\"&gt;\n\n&lt;li *ngFor=\"let hero of heroes\" \n[class.selected]=\"hero === selectedHero\" \n(click)=\"onSelect(hero)\"&gt; \n\n  &lt;p&gt; ID: {{hero.id}} | {{hero.name}}, codename {{hero.codename}}. \n  &lt;!-- Until here, everything is AOK and printed --&gt; \n  Status: &lt;script&gt; aliveDead()  &lt;/script&gt; &lt;/p&gt;  \n  &lt;!-- Here lies the preoblem, nothing gets printed after \"Status --&gt; \n&lt;/li&gt;\n</code></pre>\n\n<p></p>\n\n<p>You must be wondering where is aliveDead(), i have this function in this same file:</p>\n\n<pre><code> &lt;script&gt;\n\n    function aliveDead()\n    {\n      if( hero.alive == 1 )\n      {\n        return \"Active\";\n      }\n      else\n      {\n        return \"Dead\";\n      }\n    }\n//OBS: i tried using hero.alive and hero as parameters for this function\n//it does not work\n&lt;/script&gt;\n</code></pre>\n\n<p>I need to make this function run inside the script tags and return me a value that can be printed after the \"Status\" using, as parameter, the information provided from the first chunck of code ( \"heroes.ts\" )</p>\n\n<p>Again, i'm sorry if i can't really explain that well, but i did my best</p>\n\n<p>thanks anyway,</p>\n\n<p>chab</p>\n"}, {"tags": ["javascript", "angular", "typescript", "rxjs"], "answers": [{"tags": [], "owner": {"reputation": 175871, "user_id": 454533, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/c7715e765817254e0534f89a4092c0aa?s=128&d=identicon&r=PG", "display_name": "Explosion Pills", "link": "https://stackoverflow.com/users/454533/explosion-pills"}, "is_accepted": true, "score": 1, "last_activity_date": 1534281512, "creation_date": 1534281512, "answer_id": 51849896, "question_id": 51849763, "link": "https://stackoverflow.com/questions/51849763/how-to-get-data-from-the-server-through-an-interval/51849896#51849896", "title": "How to get data from the server through an interval?", "body": "<p>RxJS 6 has updated to use <a href=\"https://github.com/ReactiveX/rxjs/blob/master/doc/pipeable-operators.md\" rel=\"nofollow noreferrer\">pipeable operators</a>. Also, timer <a href=\"https://github.com/ReactiveX/rxjs/blob/master/docs_app/content/guide/v6/migration.md#import-paths\" rel=\"nofollow noreferrer\">imports from a different path</a>. You should import <code>timer</code> (or <code>interval</code> in this case) directly and use <code>.pipe</code> with the operators that you need. Finally, use <code>mergeMap</code> instead of <code>flatMap</code>.</p>\n\n<pre><code>import { interval } from 'rxjs';\nimport { mergeMap, map } from 'rxjs/operators';\n\nreturn interval(5000).pipe(\n  mergeMap(() =&gt; this.httpClient.get('https://jsonplaceholder.typicode.com/posts')),\n  map((r) =&gt; {\n    console.log(r);\n    return r;\n  })\n);\n</code></pre>\n"}], "owner": {"reputation": 127, "user_id": 10067181, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9df8b2501c9d4310bfbb2df239a2a290?s=128&d=identicon&r=PG&f=1", "display_name": "ptortyr45", "link": "https://stackoverflow.com/users/10067181/ptortyr45"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 38, "favorite_count": 0, "accepted_answer_id": 51849896, "answer_count": 1, "score": 1, "last_activity_date": 1534281512, "creation_date": 1534280809, "question_id": 51849763, "link": "https://stackoverflow.com/questions/51849763/how-to-get-data-from-the-server-through-an-interval", "title": "How to get data from the server through an interval?", "body": "<p>I use angular6, i try get json from server through 5 seconds interval. </p>\n\n<p><a href=\"https://stackblitz.com/edit/angular-lsqhfq\" rel=\"nofollow noreferrer\">JSFIDDLE</a></p>\n\n<p>Its my service:</p>\n\n<pre><code>getExample(): Observable&lt;any&gt; {\n    console.log('getExample');\n    return Observable\n      .timer(0, 5000)\n      .flatMap(() =&gt; this.httpClient.get('https://jsonplaceholder.typicode.com/posts'))\n      .map((r) =&gt; {\n        return r;\n      });\n  }\n</code></pre>\n\n<p>Please help fix this code.  </p>\n\n<p>PS: more simple service <a href=\"https://stackblitz.com/edit/angular-q5ykue\" rel=\"nofollow noreferrer\">worked</a> without problem</p>\n"}, {"tags": ["angular", "typescript", "ionic2"], "comments": [{"owner": {"reputation": 99450, "user_id": 1686485, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/g3GW9.png?s=128&g=1", "display_name": "tymeJV", "link": "https://stackoverflow.com/users/1686485/tymejv"}, "edited": false, "score": 0, "creation_date": 1534280089, "post_id": 51849619, "comment_id": 90652488, "body": "Like you can type something different in 1 box vs the other?"}, {"owner": {"reputation": 175871, "user_id": 454533, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/c7715e765817254e0534f89a4092c0aa?s=128&d=identicon&r=PG", "display_name": "Explosion Pills", "link": "https://stackoverflow.com/users/454533/explosion-pills"}, "edited": false, "score": 0, "creation_date": 1534280122, "post_id": 51849619, "comment_id": 90652503, "body": "I&#39;m not sure what you&#39;re asking -- you mean that you have more than one <code>Gender</code> textbox at once and you want them to have different values? Or you want the gender and <code>hairCat</code> boxes to accept different values?"}, {"owner": {"reputation": 313, "user_id": 8761751, "user_type": "registered", "accept_rate": 33, "profile_image": "https://graph.facebook.com/121511431853785/picture?type=large", "display_name": "Tonye Boro", "link": "https://stackoverflow.com/users/8761751/tonye-boro"}, "reply_to_user": {"reputation": 175871, "user_id": 454533, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/c7715e765817254e0534f89a4092c0aa?s=128&d=identicon&r=PG", "display_name": "Explosion Pills", "link": "https://stackoverflow.com/users/454533/explosion-pills"}, "edited": false, "score": 0, "creation_date": 1534280414, "post_id": 51849619, "comment_id": 90652633, "body": "@ExplosionPills, yes, I want them to have the same ngModel but differet values. Like for example if you clone them."}, {"owner": {"reputation": 175871, "user_id": 454533, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/c7715e765817254e0534f89a4092c0aa?s=128&d=identicon&r=PG", "display_name": "Explosion Pills", "link": "https://stackoverflow.com/users/454533/explosion-pills"}, "edited": false, "score": 0, "creation_date": 1534280481, "post_id": 51849619, "comment_id": 90652661, "body": "You can&#39;t do that using the same ngModel since ngModel will bind to a property by its name -- i.e. it is the same property. Do you want a dynamic list of gender/hair forms, or is it a set number? (exactly two)"}, {"owner": {"reputation": 307, "user_id": 8716085, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/105196db6d398c854e1f0300b3702a00?s=128&d=identicon&r=PG&f=1", "display_name": "whatthefish", "link": "https://stackoverflow.com/users/8716085/whatthefish"}, "edited": false, "score": 0, "creation_date": 1534280534, "post_id": 51849619, "comment_id": 90652686, "body": "@TonyeBoro, so do you want to have one Gender textbox with Male value, while other Gender textbox will have Female value?"}, {"owner": {"reputation": 313, "user_id": 8761751, "user_type": "registered", "accept_rate": 33, "profile_image": "https://graph.facebook.com/121511431853785/picture?type=large", "display_name": "Tonye Boro", "link": "https://stackoverflow.com/users/8761751/tonye-boro"}, "reply_to_user": {"reputation": 307, "user_id": 8716085, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/105196db6d398c854e1f0300b3702a00?s=128&d=identicon&r=PG&f=1", "display_name": "whatthefish", "link": "https://stackoverflow.com/users/8716085/whatthefish"}, "edited": false, "score": 0, "creation_date": 1534280614, "post_id": 51849619, "comment_id": 90652725, "body": "@whatthefish, yes."}], "answers": [{"tags": [], "owner": {"reputation": 1974, "user_id": 7535961, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/mTg4K.png?s=128&g=1", "display_name": "karoluS", "link": "https://stackoverflow.com/users/7535961/karolus"}, "is_accepted": false, "score": 0, "last_activity_date": 1534280140, "creation_date": 1534280140, "answer_id": 51849641, "question_id": 51849619, "link": "https://stackoverflow.com/questions/51849619/how-to-make-same-ng-model-to-accept-different-values-inputs/51849641#51849641", "title": "How to make same ng-model to accept different values inputs", "body": "<p>You are binding two inputs to the same object so the values are the same. </p>\n\n<p>Change <code>[(ngModel)]=\"hairCat\" [(ngModel)]=\"Gender</code>\" in the second text box to <code>[(ngModel)]=\"hairCat2\" [(ngModel)]=\"Gender2\"</code>.</p>\n"}], "owner": {"reputation": 313, "user_id": 8761751, "user_type": "registered", "accept_rate": 33, "profile_image": "https://graph.facebook.com/121511431853785/picture?type=large", "display_name": "Tonye Boro", "link": "https://stackoverflow.com/users/8761751/tonye-boro"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 61, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1534281035, "creation_date": 1534279974, "last_edit_date": 1534281035, "question_id": 51849619, "link": "https://stackoverflow.com/questions/51849619/how-to-make-same-ng-model-to-accept-different-values-inputs", "title": "How to make same ng-model to accept different values inputs", "body": "<p>Let say I have an input textbox like this</p>\n\n<pre><code>&lt;ion-input [(ngModel)]=\"Gender\" type=\"text\" placeholder=\"Gender Type\"&gt;&lt;/ion-input&gt;\n&lt;ion-input [(ngModel)]=\"hairCat\" type=\"text\" placeholder=\"Hair Type\"&gt;&lt;/ion-input&gt;\n</code></pre>\n\n<p>And also another textbox of the same type</p>\n\n<pre><code>&lt;ion-input [(ngModel)]=\"Gender\" type=\"text\" placeholder=\"Gender Type\"&gt;&lt;/ion-input&gt;\n&lt;ion-input [(ngModel)]=\"hairCat\" type=\"text\" placeholder=\"Hair Type\"&gt;&lt;/ion-input&gt;\n</code></pre>\n\n<p>What I want is for the input to accept different values at once.</p>\n\n<p>for example</p>\n\n<pre><code>[Boy Girl][black brown] \n</code></pre>\n\n<p>For more clarification, Let say I predefined a textbox like this</p>\n\n<pre><code>&lt;ion-input type=\"text\" readonly [(ngModel)]=\"values\" value=\"adp\"&gt;&lt;/ion-input&gt;\n &lt;ion-input type=\"number\" placeholder=\"Total Votes\" name=\"vote\" [(ngModel)]=\"vote\"&gt;&lt;/ion-input&gt;   \n\n &lt;ion-input type=\"text\" readonly   [(ngModel)]=\"values\"  value=\"lp\"&gt;&lt;/ion-input&gt;\n  &lt;ion-input type=\"number\" placeholder=\"Total Votes\" name=\"vote\" [(ngModel)]=\"vote\"&gt;&lt;/ion-input&gt; \n</code></pre>\n\n<p>I have:</p>\n\n<p>value   Vote\nadp<br>\nlp</p>\n\n<p>value is defined but vote will be imputted. </p>\n\n<p>How can I make them accept different values?  </p>\n"}, {"tags": ["javascript", "html", "angular", "typescript", "hierarchy"], "owner": {"reputation": 103, "user_id": 8262174, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/355658fd582a2afa510f3c450838a809?s=128&d=identicon&r=PG&f=1", "display_name": "Tee Jay", "link": "https://stackoverflow.com/users/8262174/tee-jay"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 126, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1534368236, "creation_date": 1534278466, "last_edit_date": 1534368236, "question_id": 51849303, "link": "https://stackoverflow.com/questions/51849303/display-hierarchy-selections-in-a-list-view-in-the-order-of-selection", "title": "Display hierarchy selections in a list view in the order of selection", "body": "<p>I am trying to implement a functionality which will display a list of nodes selected from the TreeNode structure, on the right. \nSomething similar to this plunkr I found :  <a href=\"http://next.plnkr.co/edit/1Fr83XHkY0bWd9IzOwuT?p=preview&amp;utm_source=legacy&amp;utm_medium=worker&amp;utm_campaign=next&amp;preview\" rel=\"nofollow noreferrer\">http://next.plnkr.co/edit/1Fr83XHkY0bWd9IzOwuT?p=preview&amp;utm_source=legacy&amp;utm_medium=worker&amp;utm_campaign=next&amp;preview</a></p>\n\n<p>In my current method, I am getting the right-side list to be in the same hierarchy order as that on the left.</p>\n\n<p>For eg : Even if I select node \"B\" before node \"A\", in the list, it still shows first A and then B (because A is above B in the displayed hierarchy).</p>\n\n<p>Rightside.component.html :</p>\n\n<pre><code>&lt;link rel=\"stylesheet\" href=\"https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css\"&gt;\n  &lt;ul class=\"selection-list\"&gt;\n    &lt;li *ngFor=\"let item of getSelections()\"&gt;\n      &lt;button class=\"btn\" (click)=\"deselect(item)\" *ngIf=\"item.selected\"&gt;\n        &lt;i class=\"fa fa-close\"&gt; {{ item.displayName }} &lt;/i&gt;\n      &lt;/button&gt; \n    &lt;/li&gt;\n  &lt;/ul&gt;\n</code></pre>\n\n<p>rightside.component.ts:</p>\n\n<pre><code>import { Component, Input, OnInit, ChangeDetectionStrategy, ChangeDetectorRef } from '@angular/core';\nimport { DataService } from '../../shared/service/data.service';\nimport { TreeNode } from '../../shared/dto/TreeNode';\n\nimport html from './rightside.component.html';\nimport css from './rightside.component.css';\n\n@Component({\n  selector: 'rightside-component',\n  template: html,\n  providers: [DataService],\n  styles: [css],\n  changeDetection: ChangeDetectionStrategy.OnPush\n})\n\nexport class RightSideComponent implements OnInit {\n  selections: string[];\n  @Input() treeNode: TreeNode&lt;string&gt;[];\n\n  constructor(private cd: ChangeDetectorRef) {}\n\n  ngOnInit() {\n  }\n\n  getSelections() : TreeNode&lt;string&gt;[] {\n    if (typeof(this.treeNode) == \"undefined\" || (this.treeNode) === null) {\n      return [];\n    }\n    return this.treeNode;\n  }\n\n  deselect(item: TreeNode&lt;string&gt;): void {\n    if((item.children) !== null) {\n      item.children.forEach(element =&gt; {\n        this.deselect(element);\n      });\n    }\n    item.selected = false;\n  }\n\n}\n</code></pre>\n\n<p>productline.component.html:</p>\n\n<pre><code>&lt;p&gt;Productlines&lt;/p&gt;\n&lt;mat-input-container&gt;\n    &lt;input #searchInput matInput placeholder=\"Search for Product Line\"&gt;\n&lt;/mat-input-container&gt;\n&lt;div class=\"flex-container\"&gt;\n&lt;div class=\"PLCheck\" *ngIf=\"isDataLoaded\"&gt;\n    &lt;fortune-select\n       (dataChanged)=\"onDataChange($event)\"\n       [searchTerm]=\"searchInput.value\"\n       [currentNode]=\"tree\"\n       [singleSelect]=\"singleSelect\"\n       [collapsed]=\"true\"&gt;&lt;/fortune-select&gt;\n&lt;/div&gt;\n&lt;div class=\"sendToRight\"&gt;\n    &lt;rightside-component\n        [treeNode]=\"selectedProductLine\"&gt;\n    &lt;/rightside-component&gt;\n&lt;/div&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>Productline.component.ts:</p>\n\n<pre><code>import { Component, Input, OnInit, ChangeDetectionStrategy, ChangeDetectorRef } from '@angular/core';\nimport * as API from '../../shared/api-routes';\nimport { DataService } from '../../shared/service/data.service';\nimport { ValidationService } from '../../shared/service/validation.service';\nimport { Subject } from 'rxjs/Subject';\nimport { BasestepComponent } from '../basestep-component/basestep.component';\nimport { TreeNode } from '../../shared/dto/TreeNode';\n\nimport html from './productline.component.html';\nimport css from './productline.component.css';\n\n@Component({\n  selector: 'productline-component',\n  template: html,\n  providers: [DataService],\n  styles: [css],\n  changeDetection: ChangeDetectionStrategy.OnPush\n})\n\nexport class ProductlineComponent extends BasestepComponent&lt;string&gt; implements OnInit {\n  selectedProductLine:    TreeNode&lt;string&gt;[];\n\n  constructor(dataService:DataService, cd:ChangeDetectorRef) {\n    super(dataService, cd);\n  }\n\n  ngOnInit() {\n    this.subject.subscribe((productline) =&gt; this.productLineChange(productline));\n  }\n\n  public productLineChange(productLine: TreeNode&lt;string&gt;[]):void {\n    this.selectedProductLine = productLine;\n  }\n\n}\n</code></pre>\n\n<p>Basestep.component.ts:</p>\n\n<pre><code>import { Input, ChangeDetectorRef } from '@angular/core';\nimport { castTree, ReportTemplate } from '../report-common';\nimport { DataService } from '../../shared/service/data.service';\nimport { Subject } from 'rxjs/Subject';\nimport { ValidationService } from '../../shared/service/validation.service';\nimport { TreeNode } from '../../shared/dto/TreeNode';\n\nexport class BasestepComponent&lt;T&gt; {\n  public tree: TreeNode&lt;T&gt;;\n  public singleSelect: boolean = false;\n  public isDataLoaded: boolean;\n  public template: ReportTemplate;\n  @Input() templateSubject: Subject&lt;ReportTemplate&gt;;\n  @Input() subject: Subject&lt;TreeNode&lt;T&gt;[]&gt;;\n\n  constructor(private dataService:DataService, private cd: ChangeDetectorRef) {}\n\n  public onDataChange(event:TreeNode&lt;T&gt;[]):void {\n    if (!ValidationService.isNullOrUndefined(this.subject)) {\n      this.subject.next(event);\n    }\n  }\n\n\n  public markForCheck() {\n    this.cd.markForCheck();\n  }\n\n  public reset() {\n    this.tree = null;\n    this.isDataLoaded = false;\n    this.markForCheck();\n  }\n}\n</code></pre>\n\n<p>I want the order on the right to be in the order in which the items are selected and not based on the hierarchy. Hence, even if A is above B in the hierarchy, I would want B to be shown and then A based on the selections.</p>\n\n<p>Basically, I would like the selections to be displayed dynamically in the order that they are chosen.</p>\n\n<p>EDIT 1:</p>\n\n<p>Adding code for fortune-select.component.ts:</p>\n\n<pre><code>import { Component, Input, Output, EventEmitter } from '@angular/core';\nimport { TreeNode } from './../dto/TreeNode';\n\nimport html from './fortune-select.component.html';\nimport css from './fortune-select.component.css';\n\n@Component({\n  selector: 'fortune-select',\n  template: html,\n  styles: [css],\n})\n\nexport class FortuneSelectComponent&lt;T&gt; {\n  @Input() currentNode:  TreeNode&lt;T&gt;;\n  @Input() collapsed:    boolean = false;\n  @Input() linked:       boolean = true;\n  @Input() searchTerm:   string  = '';\n  @Input() singleSelect: boolean = false;\n  @Output() dataChanged          = new EventEmitter&lt;TreeNode&lt;T&gt;[]&gt;();\n\n  selectedRadioValue:T;\n\n  public checkboxChangedEvent():void {\n    let list:TreeNode&lt;T&gt;[];\n    this.currentNode.indeterminate = true;\n\n    if (this.linked) {\n      list = TreeNode.getTopLevelCheckedNodes(this.currentNode);\n    } else {\n      list = TreeNode.getAllCheckedNodes(this.currentNode);\n    }\n\n    this.dataChanged.emit(list);\n  }\n\n  public radioChangedEvent(event:TreeNode&lt;T&gt;):void {\n    this.dataChanged.emit([event]);\n  }\n}\n</code></pre>\n\n<p>Is there a way I could maybe store every selection in a list and then display the list? That way, it will show the selections in order. Right now, the entire structure is getting traversed, hence it displays in the tree's order.</p>\n\n<p>Is there a way to do this?</p>\n"}, {"tags": ["reactjs", "typescript"], "answers": [{"comments": [{"owner": {"reputation": 47, "user_id": 6761863, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b523126b7ce86f08de8a390b508124ae?s=128&d=identicon&r=PG&f=1", "display_name": "Drunkwolf", "link": "https://stackoverflow.com/users/6761863/drunkwolf"}, "edited": false, "score": 0, "creation_date": 1534343966, "post_id": 51850020, "comment_id": 90673963, "body": "Trying to import &#39;fs: &#39;<code>import * as fs from &#39;fs&#39;;</code> - got the error &quot;can not find module&quot;"}, {"owner": {"reputation": 170, "user_id": 9816567, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/afd2c0e19d2d9ef7f1e197920d632502?s=128&d=identicon&r=PG", "display_name": "Benjam&#237;n V&#225;zquez", "link": "https://stackoverflow.com/users/9816567/benjam%c3%adn-v%c3%a1zquez"}, "reply_to_user": {"reputation": 47, "user_id": 6761863, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b523126b7ce86f08de8a390b508124ae?s=128&d=identicon&r=PG&f=1", "display_name": "Drunkwolf", "link": "https://stackoverflow.com/users/6761863/drunkwolf"}, "edited": false, "score": 0, "creation_date": 1534344571, "post_id": 51850020, "comment_id": 90674311, "body": "You need to run: <code>npm install @types&#47;node --save-dev</code>"}], "tags": [], "owner": {"reputation": 170, "user_id": 9816567, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/afd2c0e19d2d9ef7f1e197920d632502?s=128&d=identicon&r=PG", "display_name": "Benjam&#237;n V&#225;zquez", "link": "https://stackoverflow.com/users/9816567/benjam%c3%adn-v%c3%a1zquez"}, "is_accepted": false, "score": 0, "last_activity_date": 1534282145, "creation_date": 1534282145, "answer_id": 51850020, "question_id": 51849170, "link": "https://stackoverflow.com/questions/51849170/how-to-generate-image-paths-for-list-of-items-in-reactjs/51850020#51850020", "title": "How to generate image paths for list of items in reactjs", "body": "<p>How about importing the <strong>fs</strong> module and checking if the file exists before rendering the image</p>\n\n<pre><code>&lt;td&gt; &lt;img src={require('../../Media/Images/ProductImages/' +prod.id +'.png')} alt= {prod.id} /&gt;&lt;/td&gt;\n</code></pre>\n\n<p>Like this</p>\n\n<pre><code>&lt;td&gt;\n    {fs.existsSync('Media/Images/ProductImages/' +prod.id +'.png') &amp;&amp; (\n        &lt;img src={require('../../Media/Images/ProductImages/' +prod.id +'.png')} alt= {prod.id} /&gt;\n    )}\n&lt;/td&gt;\n</code></pre>\n\n<p>Remember that some functions of the fs module require paths from the current working directory, in other words, the directory that was current when you started node</p>\n"}], "owner": {"reputation": 47, "user_id": 6761863, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b523126b7ce86f08de8a390b508124ae?s=128&d=identicon&r=PG&f=1", "display_name": "Drunkwolf", "link": "https://stackoverflow.com/users/6761863/drunkwolf"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 31, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1534282145, "creation_date": 1534277943, "last_edit_date": 1534278738, "question_id": 51849170, "link": "https://stackoverflow.com/questions/51849170/how-to-generate-image-paths-for-list-of-items-in-reactjs", "title": "How to generate image paths for list of items in reactjs", "body": "<p>Having a list of items I try to assign an image for each of them where file name equals item's id:</p>\n\n<pre><code> private static renderItemsTable(products: Product[]) {\n\n    return &lt;table className='table'&gt;\n        &lt;thead&gt;\n            &lt;tr&gt;\n                &lt;th&gt;Product view&lt;/th&gt;\n                &lt;th&gt;Name&lt;/th&gt; \n            &lt;/tr&gt;\n        &lt;/thead&gt;\n        &lt;tbody&gt;\n                {products.map(prod =&gt;\n                &lt;tr key={prod.dateCreated}&gt;                      \n                    &lt;td&gt; &lt;img src={require('../../Media/Images/ProductImages/' +prod.id +'.png')} alt= {prod.id} /&gt;&lt;/td&gt;   \n                    &lt;td&gt;{prod.name}&lt;/td&gt;\n               &lt;/tr&gt;\n                 )}\n        &lt;/tbody&gt;\n    &lt;/table&gt;;\n}  \n</code></pre>\n\n<p>In this case if one of the files does not exist in folder the whole table does not renders.  </p>\n"}, {"tags": ["typescript", "types"], "comments": [{"owner": {"reputation": 162223, "user_id": 1704166, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/d256baab2fcfd81b0f109d394404fd67?s=128&d=identicon&r=PG", "display_name": "Ryan Cavanaugh", "link": "https://stackoverflow.com/users/1704166/ryan-cavanaugh"}, "edited": false, "score": 1, "creation_date": 1534277933, "post_id": 51849119, "comment_id": 90651571, "body": "This seems to conflate two different concepts. Turing completeness doesn&#39;t imply the expressiveness described in the second paragraph, nor vice versa. Are you asking if JS Doc in TS can express all the same concepts as regular type declarations/annotations, or if it is a turing complete system?"}, {"owner": {"reputation": 34263, "user_id": 454780, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/d8238ae773f9d75e510abe305209189f?s=128&d=identicon&r=PG", "display_name": "trusktr", "link": "https://stackoverflow.com/users/454780/trusktr"}, "reply_to_user": {"reputation": 162223, "user_id": 1704166, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/d256baab2fcfd81b0f109d394404fd67?s=128&d=identicon&r=PG", "display_name": "Ryan Cavanaugh", "link": "https://stackoverflow.com/users/1704166/ryan-cavanaugh"}, "edited": false, "score": 0, "creation_date": 1584555121, "post_id": 51849119, "comment_id": 107475168, "body": "@RyanCavanaugh I&#39;m asking the former regarding whether JSDoc in TS can express all the same concepts as regular type declarations/annotations. Can it?"}], "answers": [{"comments": [{"owner": {"reputation": 34263, "user_id": 454780, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/d8238ae773f9d75e510abe305209189f?s=128&d=identicon&r=PG", "display_name": "trusktr", "link": "https://stackoverflow.com/users/454780/trusktr"}, "edited": false, "score": 0, "creation_date": 1536712571, "post_id": 52050413, "comment_id": 91519984, "body": "Alright, I guess I&#39;ll resort to <code>.d.ts</code> files for describing my <code>.js</code> files. It would be nice to do it all in one <code>.js</code> file though!"}], "tags": [], "owner": {"reputation": 171, "user_id": 8421261, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f4c8a19651d5ad48c348133d502a5829?s=128&d=identicon&r=PG&f=1", "display_name": "Ruby Tunaley", "link": "https://stackoverflow.com/users/8421261/ruby-tunaley"}, "is_accepted": false, "score": 0, "last_activity_date": 1535432524, "creation_date": 1535432524, "answer_id": 52050413, "question_id": 51849119, "link": "https://stackoverflow.com/questions/51849119/does-typescript-jsdoc-style-typing-have-full-power-of-regular-types/52050413#52050413", "title": "Does TypeScript JSDoc-style typing have full power of regular types?", "body": "<p>Not all types expressible in TypeScript can be represented in JSDoc. Example:</p>\n\n<pre><code>/**\n * @typedef Parameters\n * A tuple of the types of the parameters of a function.\n * @template T\n * @type {(T extends (...args: infer U) =&gt; * ? U : never)}\n */\n</code></pre>\n\n<p>Trying to use this type causes the TypeScript service to think that <code>Paramaters&lt;T&gt; = any</code>. This means that conditional types are not supported.</p>\n\n<p>In general, you can figure out whether a type is supported in JSDoc by writing it and seeing whether the service gives up and just says it's <code>any</code>.</p>\n"}], "owner": {"reputation": 34263, "user_id": 454780, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/d8238ae773f9d75e510abe305209189f?s=128&d=identicon&r=PG", "display_name": "trusktr", "link": "https://stackoverflow.com/users/454780/trusktr"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 459, "favorite_count": 0, "answer_count": 1, "score": 3, "last_activity_date": 1535432524, "creation_date": 1534277700, "last_edit_date": 1534285318, "question_id": 51849119, "link": "https://stackoverflow.com/questions/51849119/does-typescript-jsdoc-style-typing-have-full-power-of-regular-types", "title": "Does TypeScript JSDoc-style typing have full power of regular types?", "body": "<p>TypeScript is said to be <a href=\"https://github.com/Microsoft/TypeScript/issues/14833\" rel=\"nofollow noreferrer\">\"turing complete\"</a>. Is the JSDoc-style typing as feature full as regular types? Can we do mapped types, conditional types, keyof, etc, and all the things of regular types?</p>\n\n<p>Just curious, because I'd like to declare types for JS files that implement class-factory mixins and that define define functions that accepts objects and return classes generated from the object definition. The generated classes should have protected and private members, and the mixins should return classes with protected/private members.</p>\n\n<p>I'd like to type these things without having to convert to <code>.ts</code> files, just keep the JS code as is.</p>\n\n<p>Is it possible with JSDoc comments, to type such meta things like generated classes from object literal definitions and class-factory mixins, etc?</p>\n"}, {"tags": ["javascript", "typescript", "momentjs"], "comments": [{"owner": {"reputation": 30819, "user_id": 47589, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/16703987f5d8e44af08a28f4942ec0f1?s=128&d=identicon&r=PG", "display_name": "Rainbow Dash", "link": "https://stackoverflow.com/users/47589/rainbow-dash"}, "edited": false, "score": 2, "creation_date": 1534276670, "post_id": 51848906, "comment_id": 90651042, "body": "Well, mountain time is UTC-6... Odd coincidence."}, {"owner": {"reputation": 1224, "user_id": 319470, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/0717c876ea92548f472c74eee903d2d5?s=128&d=identicon&r=PG", "display_name": "KSwift87", "link": "https://stackoverflow.com/users/319470/kswift87"}, "reply_to_user": {"reputation": 30819, "user_id": 47589, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/16703987f5d8e44af08a28f4942ec0f1?s=128&d=identicon&r=PG", "display_name": "Rainbow Dash", "link": "https://stackoverflow.com/users/47589/rainbow-dash"}, "edited": false, "score": 0, "creation_date": 1534276765, "post_id": 51848906, "comment_id": 90651094, "body": "Everywhere I&#39;ve read online including this site says moment().format() translates into your browser&#39;s local time. This is not the case?"}, {"owner": {"reputation": 30819, "user_id": 47589, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/16703987f5d8e44af08a28f4942ec0f1?s=128&d=identicon&r=PG", "display_name": "Rainbow Dash", "link": "https://stackoverflow.com/users/47589/rainbow-dash"}, "edited": false, "score": 1, "creation_date": 1534276870, "post_id": 51848906, "comment_id": 90651146, "body": "It&#39;s your local time in UTC format.   <a href=\"https://momentjs.com/docs/#/displaying/format/\" rel=\"nofollow noreferrer\">momentjs.com/docs/#/displaying/format</a>  Scroll down to &quot;Default format&quot;"}, {"owner": {"reputation": 216, "user_id": 6574021, "user_type": "registered", "accept_rate": 25, "profile_image": "https://graph.facebook.com/1043202309055428/picture?type=large", "display_name": "darkknight", "link": "https://stackoverflow.com/users/6574021/darkknight"}, "edited": false, "score": 0, "creation_date": 1534276944, "post_id": 51848906, "comment_id": 90651176, "body": "check the time zone of your computer. It may be set to UTC + 6 hours"}, {"owner": {"reputation": 1224, "user_id": 319470, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/0717c876ea92548f472c74eee903d2d5?s=128&d=identicon&r=PG", "display_name": "KSwift87", "link": "https://stackoverflow.com/users/319470/kswift87"}, "reply_to_user": {"reputation": 30819, "user_id": 47589, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/16703987f5d8e44af08a28f4942ec0f1?s=128&d=identicon&r=PG", "display_name": "Rainbow Dash", "link": "https://stackoverflow.com/users/47589/rainbow-dash"}, "edited": false, "score": 0, "creation_date": 1534276981, "post_id": 51848906, "comment_id": 90651200, "body": "@Amy - Ah, thank you. I&#39;ll accept your answer if you post it."}, {"owner": {"reputation": 1224, "user_id": 319470, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/0717c876ea92548f472c74eee903d2d5?s=128&d=identicon&r=PG", "display_name": "KSwift87", "link": "https://stackoverflow.com/users/319470/kswift87"}, "reply_to_user": {"reputation": 216, "user_id": 6574021, "user_type": "registered", "accept_rate": 25, "profile_image": "https://graph.facebook.com/1043202309055428/picture?type=large", "display_name": "darkknight", "link": "https://stackoverflow.com/users/6574021/darkknight"}, "edited": false, "score": 0, "creation_date": 1534277026, "post_id": 51848906, "comment_id": 90651217, "body": "@darkknight - I&#39;d notice if my computer&#39;s clock was incorrect very quickly since I view it several times per day."}, {"owner": {"reputation": 184244, "user_id": 14104, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/otetW.jpg?s=128&g=1", "display_name": "epascarello", "link": "https://stackoverflow.com/users/14104/epascarello"}, "edited": false, "score": 0, "creation_date": 1534277063, "post_id": 51848906, "comment_id": 90651236, "body": "@KSwift87 Maybe it adjusts itself when you  look. lol.... ;)"}, {"owner": {"reputation": 30819, "user_id": 47589, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/16703987f5d8e44af08a28f4942ec0f1?s=128&d=identicon&r=PG", "display_name": "Rainbow Dash", "link": "https://stackoverflow.com/users/47589/rainbow-dash"}, "reply_to_user": {"reputation": 216, "user_id": 6574021, "user_type": "registered", "accept_rate": 25, "profile_image": "https://graph.facebook.com/1043202309055428/picture?type=large", "display_name": "darkknight", "link": "https://stackoverflow.com/users/6574021/darkknight"}, "edited": false, "score": 0, "creation_date": 1534277127, "post_id": 51848906, "comment_id": 90651260, "body": "@darkknight No, his computer clock is fine.  It&#39;s giving him the time in UTC format, which will appear to be six hours ahead because he is six hours behind."}], "answers": [{"comments": [{"owner": {"reputation": 1224, "user_id": 319470, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/0717c876ea92548f472c74eee903d2d5?s=128&d=identicon&r=PG", "display_name": "KSwift87", "link": "https://stackoverflow.com/users/319470/kswift87"}, "edited": false, "score": 0, "creation_date": 1534277442, "post_id": 51849024, "comment_id": 90651396, "body": "I&#39;m creating a new Date object by using moment().format()."}, {"owner": {"reputation": 68, "user_id": 5401739, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3efeec899a5e9d70c931152bfc1e7a2c?s=128&d=identicon&r=PG&f=1", "display_name": "cal2u", "link": "https://stackoverflow.com/users/5401739/cal2u"}, "reply_to_user": {"reputation": 1224, "user_id": 319470, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/0717c876ea92548f472c74eee903d2d5?s=128&d=identicon&r=PG", "display_name": "KSwift87", "link": "https://stackoverflow.com/users/319470/kswift87"}, "edited": false, "score": 0, "creation_date": 1534277628, "post_id": 51849024, "comment_id": 90651464, "body": "What output do you get from moment().local().format()?"}, {"owner": {"reputation": 30819, "user_id": 47589, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/16703987f5d8e44af08a28f4942ec0f1?s=128&d=identicon&r=PG", "display_name": "Rainbow Dash", "link": "https://stackoverflow.com/users/47589/rainbow-dash"}, "edited": false, "score": 1, "creation_date": 1534277734, "post_id": 51849024, "comment_id": 90651506, "body": "<code>format()</code> will <i>always</i> print the date in UTC format if not provided a format string.  It doesn&#39;t matter how you get the <code>moment</code> object.  Read the docs on the <code>format()</code> function."}, {"owner": {"reputation": 68, "user_id": 5401739, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3efeec899a5e9d70c931152bfc1e7a2c?s=128&d=identicon&r=PG&f=1", "display_name": "cal2u", "link": "https://stackoverflow.com/users/5401739/cal2u"}, "edited": false, "score": 0, "creation_date": 1534278020, "post_id": 51849024, "comment_id": 90651604, "body": "I didn&#39;t know how the ISO8601 format worked with the z offset. I guess technically it&#39;s being displayed in local time as-is."}, {"owner": {"reputation": 1224, "user_id": 319470, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/0717c876ea92548f472c74eee903d2d5?s=128&d=identicon&r=PG", "display_name": "KSwift87", "link": "https://stackoverflow.com/users/319470/kswift87"}, "edited": false, "score": 0, "creation_date": 1534278320, "post_id": 51849024, "comment_id": 90651735, "body": "I found some conversion code being used by the HTML template that was throwing things off, because after feeding .format() a format string, I was still getting the same issue."}, {"owner": {"reputation": 68, "user_id": 5401739, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3efeec899a5e9d70c931152bfc1e7a2c?s=128&d=identicon&r=PG&f=1", "display_name": "cal2u", "link": "https://stackoverflow.com/users/5401739/cal2u"}, "reply_to_user": {"reputation": 30819, "user_id": 47589, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/16703987f5d8e44af08a28f4942ec0f1?s=128&d=identicon&r=PG", "display_name": "Rainbow Dash", "link": "https://stackoverflow.com/users/47589/rainbow-dash"}, "edited": false, "score": 0, "creation_date": 1534279342, "post_id": 51849024, "comment_id": 90652157, "body": "@Amy I don&#39;t think that is correct. Moment.js displays local times for me -- see the JSFiddle in my answer."}], "tags": [], "owner": {"reputation": 68, "user_id": 5401739, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3efeec899a5e9d70c931152bfc1e7a2c?s=128&d=identicon&r=PG&f=1", "display_name": "cal2u", "link": "https://stackoverflow.com/users/5401739/cal2u"}, "is_accepted": false, "score": 0, "last_activity_date": 1534279063, "last_edit_date": 1534279063, "creation_date": 1534277189, "answer_id": 51849024, "question_id": 51848906, "link": "https://stackoverflow.com/questions/51848906/why-does-moment-format-create-a-date-object-six-hours-in-the-future/51849024#51849024", "title": "Why does moment().format() create a date object six hours in the future?", "body": "<p>From the <a href=\"https://momentjs.com/docs/#/parsing/utc/\" rel=\"nofollow noreferrer\">moment.js docs</a>: </p>\n\n<blockquote>\n  <p>By default, moment parses and displays in local time</p>\n</blockquote>\n\n<p>However, by default moment.js uses the ISO8601 format <code>YYYY-MM-DDTHH:mm:ssZ</code>, where Z is your local <a href=\"https://en.wikipedia.org/wiki/ISO_8601#Time_offsets_from_UTC\" rel=\"nofollow noreferrer\">time offset from UTC</a>.</p>\n\n<p>Here is an example <a href=\"http://jsfiddle.net/rLjQx/113862/\" rel=\"nofollow noreferrer\">JSFiddle</a>.</p>\n"}], "owner": {"reputation": 1224, "user_id": 319470, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/0717c876ea92548f472c74eee903d2d5?s=128&d=identicon&r=PG", "display_name": "KSwift87", "link": "https://stackoverflow.com/users/319470/kswift87"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 58, "favorite_count": 0, "answer_count": 1, "score": -3, "last_activity_date": 1534279063, "creation_date": 1534276608, "question_id": 51848906, "link": "https://stackoverflow.com/questions/51848906/why-does-moment-format-create-a-date-object-six-hours-in-the-future", "title": "Why does moment().format() create a date object six hours in the future?", "body": "<p>Why when I use moment().format() on my local machine, does it create a date object that is six hours ahead of my local time? I'm Mountain Standard Time if it matters...</p>\n"}, {"tags": ["angular", "typescript", "datatables"], "answers": [{"tags": [], "owner": {"reputation": 239, "user_id": 5543369, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/VN3d2.jpg?s=128&g=1", "display_name": "Fabian", "link": "https://stackoverflow.com/users/5543369/fabian"}, "is_accepted": true, "score": 0, "last_activity_date": 1534337558, "creation_date": 1534337558, "answer_id": 51859093, "question_id": 51848842, "link": "https://stackoverflow.com/questions/51848842/datatables-loads-the-data-but-the-buttons-and-sorting-dont-function-as-expected/51859093#51859093", "title": "DataTables loads the data but the buttons and sorting don&#39;t function as expected in Angular 4", "body": "<p>I found out that the styles of the datatables and the actual list of participants are inside the <code>ngOnInit</code> method. Which means they both are loading at the same time. Temporarily, I can use <code>setTimeOut()</code> function to make sure the participants loads first then styles of the datatables are next with a perhaps 300 ms time period. But again, this is not a perfect solution. I am still looking for a better approach.</p>\n"}], "owner": {"reputation": 239, "user_id": 5543369, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/VN3d2.jpg?s=128&g=1", "display_name": "Fabian", "link": "https://stackoverflow.com/users/5543369/fabian"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 81, "favorite_count": 0, "accepted_answer_id": 51859093, "answer_count": 1, "score": 1, "last_activity_date": 1534337558, "creation_date": 1534276329, "question_id": 51848842, "link": "https://stackoverflow.com/questions/51848842/datatables-loads-the-data-but-the-buttons-and-sorting-dont-function-as-expected", "title": "DataTables loads the data but the buttons and sorting don&#39;t function as expected in Angular 4", "body": "<p>I have an Angular 4 project that I am trying to display my data in a table format using <a href=\"https://www.datatables.net/\" rel=\"nofollow noreferrer\">DataTables</a> library. I am able to work with the hardcoded data that are in their websites. I have all the buttons (copy, print, excel) working fine. However, when I try to show my data that I grab from SQL database using service, I am able to display data in the table but none of the buttons work. I even have <code>No data available in table</code> text in the table.</p>\n\n<p>My html code: </p>\n\n<pre><code>&lt;table id=\"example\" class=\"display nowrap\" style=\"width:100%\"&gt;\n  &lt;thead&gt;\n    &lt;tr&gt;\n        &lt;th&gt;Name&lt;/th&gt;\n        &lt;th&gt;Age&lt;/th&gt;\n        &lt;th&gt;Zip Code&lt;/th&gt;\n        &lt;th&gt;Submited Date/Time&lt;/th&gt;\n        &lt;th&gt;Submisson Status&lt;/th&gt;\n        &lt;th&gt;Extra&lt;/th&gt;\n    &lt;/tr&gt;\n&lt;/thead&gt;\n&lt;tbody&gt;\n  &lt;tr *ngFor=\"let p of participants\"&gt;\n      &lt;td&gt;{{ p.firstName }} {{ p.middleName }} {{ p.lastName }}&lt;/td&gt;\n      &lt;td&gt;{{ p.age }}&lt;/td&gt;\n      &lt;td&gt;{{ p.zip }}&lt;/td&gt;\n      &lt;td&gt;{{ p.crreatedDateTime | date:'short' }}&lt;/td&gt;\n      &lt;td&gt;{{ p.projectStatus }}&lt;/td&gt;\n      &lt;td&gt;Ask&lt;/td&gt;\n   &lt;/tr&gt;\n&lt;/tbody&gt;\n</code></pre>\n\n<p></p>\n\n<p>And My component.ts is:</p>\n\n<pre><code>import { ParticipantService } from './../../_services/participant.service';\nimport { Component, OnInit } from '@angular/core';\ndeclare const $;\n\n@Component({\n  selector: 'app-participant-list-demo',\n  templateUrl: './participant-list-demo.component.html',\n  styleUrls: ['./participant-list-demo.component.css']\n})\nexport class ParticipantListDemoComponent implements OnInit {\n  participants: any[];\n\n  constructor(\n    private participantService: ParticipantService\n  ) { }\n\n  ngOnInit() {\n    this.loadStyles();\n    this.loadParticipants();\n  }\n\n  loadParticipants() {\n    this.participantService.getAll().subscribe(participants =&gt; {\n      this.participants = participants;\n    });\n  }\n\n  loadStyles() {\n    $(function () {\n      $('#example').DataTable( {\n        dom: 'Bfrtip',\n        buttons: [\n            'copy', 'csv', 'excel', 'pdf', 'print'\n        ]\n    } );\n    });\n  }\n}\n</code></pre>\n\n<p>I tried loading the participants first using <code>'zone</code> it didn't work either. How can I plug my dynamic data to the DataTables so that I can use its buttons?</p>\n"}, {"tags": ["angular", "typescript"], "answers": [{"tags": [], "owner": {"reputation": 2171, "user_id": 464435, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/f0349807b224f079ee8d46a591aa4242?s=128&d=identicon&r=PG", "display_name": "Aydus-Matthew", "link": "https://stackoverflow.com/users/464435/aydus-matthew"}, "is_accepted": false, "score": 0, "last_activity_date": 1537545306, "creation_date": 1537545306, "answer_id": 52447313, "question_id": 51848714, "link": "https://stackoverflow.com/questions/51848714/angular-6-library-intellisense-autocomplete/52447313#52447313", "title": "Angular 6 Library Intellisense / Autocomplete", "body": "<p>This issue has resolved itself but I don't know exactly why. One or all of these factors helped resolve the issue:</p>\n\n<ol>\n<li>Upgrade Angular. Currently using version: 6.1.1</li>\n<li>Doing library production builds e.g. ng build --prod my-lib</li>\n<li>Including my-lib in other projects using: npm install \"../my-lib/dist/my-lib\" (this auto creates a symlink).</li>\n</ol>\n"}], "owner": {"reputation": 2171, "user_id": 464435, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/f0349807b224f079ee8d46a591aa4242?s=128&d=identicon&r=PG", "display_name": "Aydus-Matthew", "link": "https://stackoverflow.com/users/464435/aydus-matthew"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 486, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1537545306, "creation_date": 1534275708, "last_edit_date": 1534281595, "question_id": 51848714, "link": "https://stackoverflow.com/questions/51848714/angular-6-library-intellisense-autocomplete", "title": "Angular 6 Library Intellisense / Autocomplete", "body": "<p>How do I get typescript intellisense / autocomplete working for a simple Angular 6 library.</p>\n\n<p>I have an Angular 6 project with an Angular 6 library. Typescript intellisense / autocomplete is working correctly on the project. However, it does not work when referencing library components. The library is NOT in npm and will only be used for this local project.</p>\n\n<p>There's no mention of typings here (or anywhere else that I can find): <a href=\"https://github.com/angular/angular-cli/wiki/stories-create-library\" rel=\"nofollow noreferrer\">https://github.com/angular/angular-cli/wiki/stories-create-library</a></p>\n\n<p>Have tried in latest versions of both VS Code and Visual Studio editors.</p>\n"}, {"tags": ["java", "node.js", "angular", "typescript", "pact"], "answers": [{"tags": [], "owner": {"reputation": 1020, "user_id": 832671, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/x4Lc1.png?s=128&g=1", "display_name": "Beth Skurrie", "link": "https://stackoverflow.com/users/832671/beth-skurrie"}, "is_accepted": false, "score": 0, "last_activity_date": 1534979876, "creation_date": 1534979876, "answer_id": 51976396, "question_id": 51848022, "link": "https://stackoverflow.com/questions/51848022/java-lang-exception-did-not-find-any-pact-files-for-provider-between-java8/51976396#51976396", "title": "&quot;java.lang.Exception: Did not find any pact files for provider...&quot; between Java8 and Node", "body": "<p>Please update to the latest versions of each, as pact-jvm now writes the pact specification version in the correct format (camelcase).</p>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 10226197, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-mfAG9VgpBHA/AAAAAAAAAAI/AAAAAAAAAAA/AAnnY7r8FNY7GLcGAcm8MNHYE1S0B8ES3w/mo/photo.jpg?sz=128", "display_name": "Alexandre Neves", "link": "https://stackoverflow.com/users/10226197/alexandre-neves"}, "is_accepted": false, "score": 0, "last_activity_date": 1535397545, "creation_date": 1535397545, "answer_id": 52045738, "question_id": 51848022, "link": "https://stackoverflow.com/questions/51848022/java-lang-exception-did-not-find-any-pact-files-for-provider-between-java8/52045738#52045738", "title": "&quot;java.lang.Exception: Did not find any pact files for provider...&quot; between Java8 and Node", "body": "<p>Exact! I changed to the latest version (3.5.21), I updated the Intellij to 2018.2 and it works! </p>\n\n<blockquote>\n  <p>BugFix 3.15.19: \"f71deb21 - fix: pact specification attribute should\n  be in camel case...\"\n  <a href=\"https://github.com/DiUS/pact-jvm/blob/master/CHANGELOG.md\" rel=\"nofollow noreferrer\">https://github.com/DiUS/pact-jvm/blob/master/CHANGELOG.md</a></p>\n</blockquote>\n\n<p>There is a bug in the IntelliJ 2017.3 that does not run the tests if the pact version is 3.5.18 or plus.</p>\n\n<p>Thank you!!!! </p>\n"}], "owner": {"reputation": 1, "user_id": 10226197, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-mfAG9VgpBHA/AAAAAAAAAAI/AAAAAAAAAAA/AAnnY7r8FNY7GLcGAcm8MNHYE1S0B8ES3w/mo/photo.jpg?sz=128", "display_name": "Alexandre Neves", "link": "https://stackoverflow.com/users/10226197/alexandre-neves"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1383, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1535397545, "creation_date": 1534272565, "question_id": 51848022, "link": "https://stackoverflow.com/questions/51848022/java-lang-exception-did-not-find-any-pact-files-for-provider-between-java8", "title": "&quot;java.lang.Exception: Did not find any pact files for provider...&quot; between Java8 and Node", "body": "<p>I'm trying to run the pact test between <strong>Java8 (provider)</strong> and <strong>Node (consumer)</strong> and I have an exception that is being very hard to fix. Actually, when I run the provider I get the following error message:</p>\n\n<p>\"java.lang.Exception: Did not find any pact files for provider...\"</p>\n\n<p>I note that the problem is (maybe) in the pactSpecification key name, generated by the consumer (Node) in the Pact Broker.</p>\n\n<pre><code>Ex: \n \"metadata\": {\n    \"pactSpecification\": {\n      \"version\": \"3.0.0\"\n    }\n  }\n</code></pre>\n\n<p>I ran Pact localy just for testing using @PactUrl, I change the name of key <strong>pactSpecification (camelCase)</strong> for <strong>pact-specification (with dash and lower case)</strong> and....it works!</p>\n\n<pre><code>Ex: \n \"metadata\": {\n    \"pact-specification\": {\n      \"version\": \"3.0.0\"\n    }\n  }\n</code></pre>\n\n<p><strong>The question is, how to match the metadata key name <em>\"pactSpecification\"</em> or <em>\"pact-specification\"</em> between Java8 and Node? I tried all versions of pact in maven repository but it did not work.</strong></p>\n\n<p>Actually, in Java 8 environment I'm using Maven 3.5.2 with the following dependencies:</p>\n\n<pre><code>&lt;pact.version&gt;3.5.9&lt;/pact.version&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;au.com.dius&lt;/groupId&gt;\n        &lt;artifactId&gt;pact-jvm-consumer-java8_2.12&lt;/artifactId&gt;\n        &lt;version&gt;${pact.version}&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n        &lt;exclusions&gt;\n            &lt;exclusion&gt;\n                &lt;groupId&gt;io.netty&lt;/groupId&gt;\n                &lt;artifactId&gt;netty-handler&lt;/artifactId&gt;\n            &lt;/exclusion&gt;\n            &lt;exclusion&gt;\n                &lt;groupId&gt;org.json&lt;/groupId&gt;\n                &lt;artifactId&gt;json&lt;/artifactId&gt;\n            &lt;/exclusion&gt;\n        &lt;/exclusions&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;au.com.dius&lt;/groupId&gt;\n        &lt;artifactId&gt;pact-jvm-provider-spring_2.12&lt;/artifactId&gt;\n        &lt;version&gt;${pact.version}&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n</code></pre>\n\n<p>and</p>\n\n<pre><code>&lt;plugin&gt;\n    &lt;groupId&gt;au.com.dius&lt;/groupId&gt;\n    &lt;artifactId&gt;pact-jvm-provider-maven_2.12&lt;/artifactId&gt;\n    &lt;version&gt;${pact.version}&lt;/version&gt;\n    &lt;executions&gt;\n        &lt;execution&gt;\n            &lt;id&gt;deploy-contract&lt;/id&gt;\n            &lt;phase&gt;verify&lt;/phase&gt;\n            &lt;goals&gt;\n                &lt;goal&gt;publish&lt;/goal&gt;\n            &lt;/goals&gt;\n        &lt;/execution&gt;\n    &lt;/executions&gt;\n    &lt;configuration&gt;\n        &lt;pactBrokerUrl&gt;${pact-broker.url}&lt;/pactBrokerUrl&gt;\n    &lt;/configuration&gt;\n&lt;/plugin&gt;\n</code></pre>\n\n<p>For the Node environment, I'm using the following dependencies:</p>\n\n<pre><code>\"devDependencies\": {\n   \"@pact-foundation/pact\": \"~6.0.0-alpha.14\",\n   \"@pact-foundation/pact-node\": \"~6.19.0\",\n...\n</code></pre>\n\n<p>Thanks!!!</p>\n"}, {"tags": ["reactjs", "typescript", "dialog", "material-ui"], "owner": {"reputation": 3055, "user_id": 554462, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/Q80F3.gif?s=128&g=1", "display_name": "proggrock", "link": "https://stackoverflow.com/users/554462/proggrock"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 220, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1534270689, "creation_date": 1534270689, "question_id": 51847554, "link": "https://stackoverflow.com/questions/51847554/material-ui-dialog-property-open-does-not-exist", "title": "Material UI dialog property open does not exist", "body": "<p>I'm getting this error trying to create a simple material-ui dialog. I do see the property 'open' exists on \"ModalProps\", which should be an extended property of DialogProps.</p>\n\n<p>\"typescript\": \"2.8.3\",</p>\n\n<p>\"react\": \"^16.3.2\",</p>\n\n<p>\"@material-ui/core\": \"1.5.0\",</p>\n\n<pre><code>import Dialog from '@material-ui/core/Dialog';\n\n&lt;Dialog open={true}\n        onClose={this.handleClose}&gt;\n</code></pre>\n\n<blockquote>\n  <p>(TS) Property 'open' does not exist on type 'IntrinsicAttributes &amp; DialogProps &amp; { children?: ReactNode; }'</p>\n</blockquote>\n\n<p><strong>tsconfig.json</strong></p>\n\n<pre><code>{\n\"compilerOptions\": {\n\"baseUrl\": \".\",\n\"module\": \"commonjs\",\n\"moduleResolution\": \"node\",\n\"target\": \"es6\",\n\"jsx\": \"react\",\n\"experimentalDecorators\": true,\n\"sourceMap\": true,\n\"skipDefaultLibCheck\": true,\n\"strict\": false,\n\"lib\": [\"es6\", \"dom\"],\n\"types\": [\"webpack-env\"]\n},\n\"exclude\": [\n\"bin\",\n\"node_modules\"\n]\n }\n</code></pre>\n"}]