[{"tags": ["typescript"], "answers": [{"comments": [{"owner": {"reputation": 862, "user_id": 1126944, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/27be28fb1b065f493e7f748c9c58cb58?s=128&d=identicon&r=PG", "display_name": "IcyBrk", "link": "https://stackoverflow.com/users/1126944/icybrk"}, "edited": false, "score": 0, "creation_date": 1451590629, "post_id": 34543277, "comment_id": 56844098, "body": "Your answer makes sense, I also like to add the &quot;prototype&quot; in (a: {new(): A;      prototype: {keeper: K}}) has different meaning from javascript&#39;s prototype keyword as in a.prototype.keeper"}], "tags": [], "owner": {"reputation": 204677, "user_id": 75525, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/IYU63.png?s=128&g=1", "display_name": "Fenton", "link": "https://stackoverflow.com/users/75525/fenton"}, "is_accepted": true, "score": 1, "last_activity_date": 1451549474, "creation_date": 1451549474, "answer_id": 34543277, "question_id": 34538808, "link": "https://stackoverflow.com/questions/34538808/is-keeper-a-property-of-lion-prototype/34543277#34543277", "title": "Is &quot;keeper&quot; a property of Lion.prototype", "body": "<p>The example in the handbook is a great example of how the types can be inferred, i.e. if you pass in a Lion, it knows that <code>A</code> is a <code>Lion</code> and <code>K</code> is a <code>ZooKeeper</code>. This is really powerful type inference.</p>\n\n<p>The example is also not a great practical example. Beacuse <code>Lion</code> is passed (not an instance of <code>Lion</code>), the value of <code>a.prototype.keeper</code> has not yet been defined. The code is, otherwise, correct - but just impractical.</p>\n\n<p>This can be overcome in a few ways... but here is one way:</p>\n\n<pre><code>class BeeKeeper {\n    hasMask: boolean;\n}\n\nclass ZooKeeper {\n    nametag: string; \n}\n\nclass Animal {\n    keeper: BeeKeeper | ZooKeeper;\n    numLegs: number;\n}\n\nclass Bee extends Animal {\n    keeper: BeeKeeper = {\n        hasMask: false\n    };\n}\n\nclass Lion extends Animal {\n    keeper: ZooKeeper = {\n        nametag: 'Icy'\n    };\n}\n\nfunction findKeeper&lt;A extends Animal, K&gt; (a: {new(): A; \n    prototype: {keeper: K}}): K {\n\n    var animal: Animal = new a();\n\n    return &lt;any&gt;animal.keeper;\n}\n\nvar keeperA = findKeeper(Lion);\nconsole.log(keeperA.nametag);  // typechecks!\n\nvar keeperB = findKeeper(Bee);\nconsole.log(keeperB.hasMask); // also typechecks!\n</code></pre>\n\n<p>This example still shows off the type-inference, but also has values to demonstrate things fully working.</p>\n"}], "owner": {"reputation": 862, "user_id": 1126944, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/27be28fb1b065f493e7f748c9c58cb58?s=128&d=identicon&r=PG", "display_name": "IcyBrk", "link": "https://stackoverflow.com/users/1126944/icybrk"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 52, "favorite_count": 0, "accepted_answer_id": 34543277, "answer_count": 1, "score": 1, "last_activity_date": 1451549474, "creation_date": 1451517844, "question_id": 34538808, "link": "https://stackoverflow.com/questions/34538808/is-keeper-a-property-of-lion-prototype", "title": "Is &quot;keeper&quot; a property of Lion.prototype", "body": "<p>I read \"generic constraints\" section in the TypeScript handbook from its official site(<a href=\"http://www.typescriptlang.org/Handbook#generics-generic-constraints\" rel=\"nofollow noreferrer\">http://www.typescriptlang.org/Handbook#generics-generic-constraints</a>), however, the example the book gave as I pasted below is not ideal</p>\n\n<pre><code>class BeeKeeper {\n    hasMask: boolean;\n}\n\nclass ZooKeeper {\n    nametag: string; \n}\n\nclass Animal {\n    numLegs: number;\n}\n\nclass Bee extends Animal {\n    keeper: BeeKeeper;\n}\n\nclass Lion extends Animal {\n    keeper: ZooKeeper;\n}\n\nfunction findKeeper&lt;A extends Animal, K&gt; (a: {new(): A; \n    prototype: {keeper: K}}): K {\n\n    return a.prototype.keeper;\n}\n\nfindKeeper(Lion).nametag;  // typechecks!\n</code></pre>\n\n<p>I think in findKeeper(Lion) call, the argument given actually is the Lion constructor function as compiled in JS code, and its prototype property is just like an instance of Animal. This fact I get proved from running the code and observed it in Web Developer </p>\n\n<p><a href=\"https://i.stack.imgur.com/z4xPU.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/z4xPU.png\" alt=\"enter image description here\"></a> </p>\n\n<p>So Am I right that the function findKeeper definition code: \"return a.prototype.keeper\" is wrong? This error is also got shown to me in the console window with: \"Uncaught TypeError: Cannot read property 'nametag' of undefined\" when I run the code sample in the browser, since a.prototype.keeper returns undefined.</p>\n\n<p>Could someone explain the purpose of the illustrated example a little bit to help me understand the idea given here and also on how to correct it, thank you.</p>\n"}, {"tags": ["javascript", "typescript", "instantiation"], "answers": [{"tags": [], "owner": {"reputation": 5988, "user_id": 2580784, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/778d7b1d81dd35ea224716661d602ddf?s=128&d=identicon&r=PG", "display_name": "zlumer", "link": "https://stackoverflow.com/users/2580784/zlumer"}, "is_accepted": false, "score": 1, "last_activity_date": 1451577694, "last_edit_date": 1451577694, "creation_date": 1451574795, "answer_id": 34548256, "question_id": 34537289, "link": "https://stackoverflow.com/questions/34537289/instantiate-classes-by-link-to-the-constructors-with-different-amount-of-paramet/34548256#34548256", "title": "Instantiate classes by link to the constructors with different amount of parameters", "body": "<p>I'm not sure what you're trying to achieve, but I think there are two non-optimal solutions that may suit your use case.</p>\n\n<ol>\n<li><p>Hardcode the parameters.</p>\n\n<pre><code>public createInstance(Class: ISimpleClass&lt;ClassType&gt;, ...args): ClassType\n{\n    var result:ClassType;\n    if (args.length == 0)\n        result = new ClassToCreate();\n    if (args.length == 1)\n        result = new ClassToCreate(args[0]);\n    // ...\n    if (args.length == 8)\n        result = new ClassToCreate(args[0],args[1],args[2],args[3],args[4],args[5],args[6],args[7]);\n    // ...\n\n    return result;\n}\n</code></pre>\n\n<p>I know, looks ugly.</p></li>\n<li><p>Use <a href=\"https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/Object/create\" rel=\"nofollow\"><code>Object.create</code></a>.</p>\n\n<pre><code>public createInstance(Class: ISimpleClass&lt;ClassType&gt;, ...args): ClassType\n{\n    var result:any = Object.create(ClassToCreate.prototype); // create an object\n    ClassToCreate.apply(result, args); // call the constructor\n\n    return result;\n}\n</code></pre></li>\n</ol>\n\n<p>Like I said, none of them is optimal, but may help until you can find a better solution to your problem. Maybe pass just one <code>data</code> dictionary into every constructor?</p>\n"}, {"tags": [], "owner": {"reputation": 1479, "user_id": 5288928, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/etWlW.jpg?s=128&g=1", "display_name": "Mark Dolbyrev", "link": "https://stackoverflow.com/users/5288928/mark-dolbyrev"}, "is_accepted": true, "score": 0, "last_activity_date": 1451899797, "creation_date": 1451899797, "answer_id": 34588065, "question_id": 34537289, "link": "https://stackoverflow.com/questions/34537289/instantiate-classes-by-link-to-the-constructors-with-different-amount-of-paramet/34588065#34588065", "title": "Instantiate classes by link to the constructors with different amount of parameters", "body": "<p>I've gound the way to implement what I needed by using the function <strong>eval</strong>:</p>\n\n<pre><code>var evalString: string = \"new Class(\";\nargs.forEach(\n    (value: any, index: number, array: any[]): void =&gt;\n    {\n        if (index &gt; 0)\n        {\n            evalString += \",\";\n        }\n        evalString += \"args[\" + index + \"]\";\n    }\n);\nevalString += \");\";\n\nvar result: any = eval(evalString);\n</code></pre>\n\n<p>I'm not sure if it's a normal practice to use the function <strong>eval</strong> (maybe there are some unknown for me drawbacks), but it works for me at the current stage.</p>\n"}], "owner": {"reputation": 1479, "user_id": 5288928, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/etWlW.jpg?s=128&g=1", "display_name": "Mark Dolbyrev", "link": "https://stackoverflow.com/users/5288928/mark-dolbyrev"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 32, "favorite_count": 1, "accepted_answer_id": 34588065, "answer_count": 2, "score": 0, "last_activity_date": 1451899797, "creation_date": 1451509789, "last_edit_date": 1451899597, "question_id": 34537289, "link": "https://stackoverflow.com/questions/34537289/instantiate-classes-by-link-to-the-constructors-with-different-amount-of-paramet", "title": "Instantiate classes by link to the constructors with different amount of parameters", "body": "<p>I am trying to create a method which can be used as a generic solution for instantiating different classes with different constructor parameters.</p>\n\n<p>Here an example of this \"imaginable\" method, sort of my thoughts about how it should look:</p>\n\n<pre><code>module flashist\n{\n    export interface ISimpleClass&lt;ObjectType&gt;\n    {\n        new (): ObjectType;\n    }\n\n    export class Instantiator\n    {\n        public createInstance(Class: ISimpleClass&lt;ClassType&gt;, ...args): ClassType\n        {\n            // I understand, that this annotation is not possible\n            var result: any = new Class.apply(args);\n            return (result as ClassType);\n        }\n    }\n}\n</code></pre>\n\n<p>The problem happens with the line:</p>\n\n<pre><code>var result: any = new Class.apply(args);\n</code></pre>\n\n<p>Where I want to pass unknown parameters to the constructor. I understand, that this syntax is not possible, I just wanted to show something similar to the thing I want to achieve.</p>\n\n<p>So, my question is: do we have any solution for this problem in TypeScript and/or JS?</p>\n"}, {"tags": ["typescript"], "answers": [{"comments": [{"owner": {"reputation": 13, "user_id": 3179108, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f99a722d42fc6b94377325aad31984c3?s=128&d=identicon&r=PG", "display_name": "JaviSR", "link": "https://stackoverflow.com/users/3179108/javisr"}, "edited": false, "score": 0, "creation_date": 1451561677, "post_id": 34539658, "comment_id": 56833235, "body": "Thank you for the advice :)"}, {"owner": {"reputation": 13, "user_id": 3179108, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f99a722d42fc6b94377325aad31984c3?s=128&d=identicon&r=PG", "display_name": "JaviSR", "link": "https://stackoverflow.com/users/3179108/javisr"}, "edited": false, "score": 0, "creation_date": 1451562093, "post_id": 34539658, "comment_id": 56833414, "body": "I tried to use <code>import InfoBubble = require(&#39;.&#47;libs&#47;infobubble&#39;);</code> but I get the follow error:  <code>error TS2307: Cannot find module &#39;.&#47;libs&#47;infobubble&#39;.</code>"}, {"owner": {"reputation": 15157, "user_id": 252087, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rntY6.png?s=128&g=1", "display_name": "C Snover", "link": "https://stackoverflow.com/users/252087/c-snover"}, "reply_to_user": {"reputation": 13, "user_id": 3179108, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f99a722d42fc6b94377325aad31984c3?s=128&d=identicon&r=PG", "display_name": "JaviSR", "link": "https://stackoverflow.com/users/3179108/javisr"}, "edited": false, "score": 0, "creation_date": 1451578499, "post_id": 34539658, "comment_id": 56839788, "body": "You will need to create a corresponding d.ts file at <code>.&#47;libs&#47;infobubble.d.ts</code> so TypeScript knows what is imported. It can be as simple as <code>declare var infobubble: any; export = infobubble;</code>, or you can actually model the library so you get accurate typing information."}, {"owner": {"reputation": 13, "user_id": 3179108, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f99a722d42fc6b94377325aad31984c3?s=128&d=identicon&r=PG", "display_name": "JaviSR", "link": "https://stackoverflow.com/users/3179108/javisr"}, "edited": false, "score": 0, "creation_date": 1452588648, "post_id": 34539658, "comment_id": 57223972, "body": "Thank you! It was very helpful :)"}], "tags": [], "owner": {"reputation": 15157, "user_id": 252087, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rntY6.png?s=128&g=1", "display_name": "C Snover", "link": "https://stackoverflow.com/users/252087/c-snover"}, "is_accepted": true, "score": 1, "last_activity_date": 1451523985, "creation_date": 1451523985, "answer_id": 34539658, "question_id": 34537285, "link": "https://stackoverflow.com/questions/34537285/require-amd-modules-in-typescript/34539658#34539658", "title": "require AMD modules in Typescript", "body": "<p><code>import</code> statements do the same thing as an AMD require call if you are compiling with <code>--module amd</code> or <code>--module umd</code>. So, you should be able to simplify your code and just write:</p>\n\n<pre><code>import $ = require('jquery');\nimport Visor = require('./Visor');\nimport GoogleMapsLoader = require('google-maps');\nimport InfoBubble = require('./libs/infobubble');\n</code></pre>\n\n<p>(As a side-note, I would also recommend that instead of using a reference comment, you include your <code>typings.d.ts</code> file on the command-line when you run <code>tsc</code>, or you put it in the <code>files</code> array of <code>tsconfig.json</code>.</p>\n\n<p>The reason for this is that reference comments affect the <em>entire</em> compilation environment, not just the environment of the file they\u2019re in, which means if you change/remove this file you may accidentally break your build when other files indirectly rely on this comment.)</p>\n"}], "owner": {"reputation": 13, "user_id": 3179108, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f99a722d42fc6b94377325aad31984c3?s=128&d=identicon&r=PG", "display_name": "JaviSR", "link": "https://stackoverflow.com/users/3179108/javisr"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1198, "favorite_count": 0, "accepted_answer_id": 34539658, "answer_count": 1, "score": 1, "last_activity_date": 1451523985, "creation_date": 1451509776, "question_id": 34537285, "link": "https://stackoverflow.com/questions/34537285/require-amd-modules-in-typescript", "title": "require AMD modules in Typescript", "body": "<p>I'm playing with TypeScript and GoogleMaps and I found some JS libraries that I don't know if I am using it in the right way.</p>\n\n<p>Im trying to load and AMD module (infobubble) using require like the follow example:</p>\n\n<pre><code>/// &lt;reference path=\"../typings/tsd.d.ts\" /&gt;\n\nimport $ = require(\"jquery\");\nimport Visor = require(\"./Visor\");\nimport GoogleMapsLoader = require('google-maps');\n\n//THIS IS IMPORTANT TO LOAD JS AMD LIBRARIES\ndeclare var require: (moduleId: string) =&gt; any;\nvar InfoBubble: any = require(\"./libs/infobubble\");\n</code></pre>\n\n<p>This piece of code works well but I'm not sure If it is the correct way. </p>\n"}, {"tags": ["typescript", "typescript1.5", "typescript1.4"], "comments": [{"owner": {"reputation": 25995, "user_id": 5152732, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-eL0xfQom3xQ/AAAAAAAAAAI/AAAAAAAAB1E/j1B2Mcgvt6M/photo.jpg?sz=128", "display_name": "toskv", "link": "https://stackoverflow.com/users/5152732/toskv"}, "edited": false, "score": 1, "creation_date": 1451506874, "post_id": 34536393, "comment_id": 56815030, "body": "Possible duplicate of <a href=\"http://stackoverflow.com/questions/16508435/implementing-typescript-interface-with-bare-function-signature-plus-other-fields\">Implementing TypeScript interface with bare function signature plus other fields</a>"}, {"owner": {"reputation": 175, "user_id": 3116308, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/4d0d37b0eb4f2b5d34961c10f609bcc1?s=128&d=identicon&r=PG", "display_name": "Amol Agrawal", "link": "https://stackoverflow.com/users/3116308/amol-agrawal"}, "reply_to_user": {"reputation": 25995, "user_id": 5152732, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-eL0xfQom3xQ/AAAAAAAAAAI/AAAAAAAAB1E/j1B2Mcgvt6M/photo.jpg?sz=128", "display_name": "toskv", "link": "https://stackoverflow.com/users/5152732/toskv"}, "edited": false, "score": 0, "creation_date": 1451509795, "post_id": 34536393, "comment_id": 56816589, "body": "The solution doesn&#39;t work for me."}, {"owner": {"reputation": 25995, "user_id": 5152732, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-eL0xfQom3xQ/AAAAAAAAAAI/AAAAAAAAB1E/j1B2Mcgvt6M/photo.jpg?sz=128", "display_name": "toskv", "link": "https://stackoverflow.com/users/5152732/toskv"}, "edited": false, "score": 0, "creation_date": 1451510743, "post_id": 34536393, "comment_id": 56817018, "body": "Why not what&#39;s wrong?"}, {"owner": {"reputation": 175, "user_id": 3116308, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/4d0d37b0eb4f2b5d34961c10f609bcc1?s=128&d=identicon&r=PG", "display_name": "Amol Agrawal", "link": "https://stackoverflow.com/users/3116308/amol-agrawal"}, "reply_to_user": {"reputation": 25995, "user_id": 5152732, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-eL0xfQom3xQ/AAAAAAAAAAI/AAAAAAAAB1E/j1B2Mcgvt6M/photo.jpg?sz=128", "display_name": "toskv", "link": "https://stackoverflow.com/users/5152732/toskv"}, "edited": false, "score": 0, "creation_date": 1451512946, "post_id": 34536393, "comment_id": 56818000, "body": "The variable needs a typedef. And so when I mention that it&#39;s of any particular type, either of type A or of type&quot;any&quot; I get errors"}], "answers": [{"tags": [], "owner": {"reputation": 834, "user_id": 1134380, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/92458ac15290aed82fd8c402c3f09bc2?s=128&d=identicon&r=PG", "display_name": "Guillaume", "link": "https://stackoverflow.com/users/1134380/guillaume"}, "is_accepted": false, "score": 1, "last_activity_date": 1451576042, "creation_date": 1451576042, "answer_id": 34548484, "question_id": 34536393, "link": "https://stackoverflow.com/questions/34536393/implementation-of-interfaces-typescript/34548484#34548484", "title": "Implementation of interfaces typescript", "body": "<p>An interface cannot, by definition, contain a constructor. You have to move it in your implemented class :</p>\n\n<pre><code>interface A {\n    func1(): void;\n    func2(): void;\n}\n\nclass B implements A {\n    constructor(obj? : any) {\n\n    }\n\n    func1() {\n\n    }\n\n    func2() {\n\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 175, "user_id": 3116308, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/4d0d37b0eb4f2b5d34961c10f609bcc1?s=128&d=identicon&r=PG", "display_name": "Amol Agrawal", "link": "https://stackoverflow.com/users/3116308/amol-agrawal"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 55, "favorite_count": 1, "answer_count": 1, "score": 2, "last_activity_date": 1451576042, "creation_date": 1451505612, "last_edit_date": 1451507181, "question_id": 34536393, "link": "https://stackoverflow.com/questions/34536393/implementation-of-interfaces-typescript", "title": "Implementation of interfaces typescript", "body": "<pre><code>interface A {\n(obj? : any) : any;\nfunc1() : void;\nfunc2() :void;\n} \n</code></pre>\n\n<p>How do I write a class B that would implement A? How would I implement the parametrized constructor? </p>\n"}, {"tags": ["javascript", "typescript", "syntax-error", "token", "angular"], "comments": [{"owner": {"reputation": 25995, "user_id": 5152732, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-eL0xfQom3xQ/AAAAAAAAAAI/AAAAAAAAB1E/j1B2Mcgvt6M/photo.jpg?sz=128", "display_name": "toskv", "link": "https://stackoverflow.com/users/5152732/toskv"}, "edited": false, "score": 0, "creation_date": 1451500902, "post_id": 34534920, "comment_id": 56812122, "body": "what do you use as a server? I usually get that kind of errors when I map the routes badly on the server and it returns index.html instead of javascript"}, {"owner": {"reputation": 483726, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1451500961, "post_id": 34534920, "comment_id": 56812153, "body": "There are already several questions with similar errors. Did you check them <a href=\"http://stackoverflow.com/search?tab=votes&amp;q=%5bangular2%5d%20unexpected%20token\">stackoverflow.com/&hellip;</a>"}, {"owner": {"reputation": 1391, "user_id": 3845362, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/fb0426c92408f8ec9f0a653a4e654077?s=128&d=identicon&r=PG&f=1", "display_name": "Edward", "link": "https://stackoverflow.com/users/3845362/edward"}, "reply_to_user": {"reputation": 483726, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1451504187, "post_id": 34534920, "comment_id": 56813770, "body": "@G&#252;nter Z&#246;chbauer I have tried 5 solutions so far, either I already had them in my code or it didn&#39;t help :s"}], "answers": [{"comments": [{"owner": {"reputation": 1391, "user_id": 3845362, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/fb0426c92408f8ec9f0a653a4e654077?s=128&d=identicon&r=PG&f=1", "display_name": "Edward", "link": "https://stackoverflow.com/users/3845362/edward"}, "edited": false, "score": 0, "creation_date": 1451504243, "post_id": 34535888, "comment_id": 56813796, "body": "I just used &#39;npm install&#39;, so normally it has everything installed right? The node_modules folders is about 90mb in size."}, {"owner": {"reputation": 3359, "user_id": 4777077, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/C35SU.png?s=128&g=1", "display_name": "Eggy", "link": "https://stackoverflow.com/users/4777077/eggy"}, "reply_to_user": {"reputation": 1391, "user_id": 3845362, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/fb0426c92408f8ec9f0a653a4e654077?s=128&d=identicon&r=PG&f=1", "display_name": "Edward", "link": "https://stackoverflow.com/users/3845362/edward"}, "edited": false, "score": 0, "creation_date": 1451504446, "post_id": 34535888, "comment_id": 56813897, "body": "@Edward If you are using angular 2.0.0-beta.0 those packages have to be installed separately."}, {"owner": {"reputation": 1391, "user_id": 3845362, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/fb0426c92408f8ec9f0a653a4e654077?s=128&d=identicon&r=PG&f=1", "display_name": "Edward", "link": "https://stackoverflow.com/users/3845362/edward"}, "edited": false, "score": 0, "creation_date": 1451505789, "post_id": 34535888, "comment_id": 56814515, "body": "ok I will try this, quick question do I only need to import this into my index.html or in every &#39;class&#39; I&#39;m using angular2 stuff?"}, {"owner": {"reputation": 3359, "user_id": 4777077, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/C35SU.png?s=128&g=1", "display_name": "Eggy", "link": "https://stackoverflow.com/users/4777077/eggy"}, "reply_to_user": {"reputation": 1391, "user_id": 3845362, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/fb0426c92408f8ec9f0a653a4e654077?s=128&d=identicon&r=PG&f=1", "display_name": "Edward", "link": "https://stackoverflow.com/users/3845362/edward"}, "edited": false, "score": 0, "creation_date": 1451505894, "post_id": 34535888, "comment_id": 56814562, "body": "@Edward Only into <code>index.html</code>"}, {"owner": {"reputation": 1391, "user_id": 3845362, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/fb0426c92408f8ec9f0a653a4e654077?s=128&d=identicon&r=PG&f=1", "display_name": "Edward", "link": "https://stackoverflow.com/users/3845362/edward"}, "edited": false, "score": 0, "creation_date": 1451507991, "post_id": 34535888, "comment_id": 56815675, "body": "Well it fixed the illegal token problem, but instead I get this error &quot;Uncaught RangeError: Maximum call stack size exceeded&quot;. I assume this hasn&#39;t anything to do with the changes I just made but with my app in general?"}, {"owner": {"reputation": 3359, "user_id": 4777077, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/C35SU.png?s=128&g=1", "display_name": "Eggy", "link": "https://stackoverflow.com/users/4777077/eggy"}, "reply_to_user": {"reputation": 1391, "user_id": 3845362, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/fb0426c92408f8ec9f0a653a4e654077?s=128&d=identicon&r=PG&f=1", "display_name": "Edward", "link": "https://stackoverflow.com/users/3845362/edward"}, "edited": false, "score": 0, "creation_date": 1451508264, "post_id": 34535888, "comment_id": 56815815, "body": "@Edward Most likely you have somewhere infinite recursive function."}], "tags": [], "owner": {"reputation": 3359, "user_id": 4777077, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/C35SU.png?s=128&g=1", "display_name": "Eggy", "link": "https://stackoverflow.com/users/4777077/eggy"}, "is_accepted": false, "score": 3, "last_activity_date": 1451504722, "last_edit_date": 1451504722, "creation_date": 1451503542, "answer_id": 34535888, "question_id": 34534920, "link": "https://stackoverflow.com/questions/34534920/angular2-uncaught-syntaxerror-unexpected-token/34535888#34535888", "title": "angular2: Uncaught SyntaxError: Unexpected token &lt;", "body": "<p>I suppose, you have installed angular 2 beta release. In this case you have to install additional modules:</p>\n\n<pre><code>npm install es6-promise@^3.0.2 es6-shim@^0.33.3 reflect-metadata@0.1.2 rxjs@^5.0.0-beta.0 zone.js@0.5.10 --save\n</code></pre>\n\n<p>And import these scripts:</p>\n\n<pre><code>&lt;!-- ES6-related imports --&gt;\n&lt;script src=\"../node_modules/angular2/bundles/angular2-polyfills.min.js\"&gt;&lt;/script&gt;\n&lt;script src=\"../node_modules/es6-shim/es6-shim.min.js\"&gt;&lt;/script&gt;\n&lt;script src=\"../node_modules/systemjs/dist/system.js\"&gt;&lt;/script&gt;\n&lt;script&gt;\n  //configure system loader\n  System.config({defaultJSExtensions: true});\n&lt;/script&gt;\n&lt;script src=\"../node_modules/rxjs/bundles/Rx.js\"&gt;&lt;/script&gt;\n&lt;script src=\"../node_modules/angular2/bundles/angular2.min.js\"&gt;&lt;/script&gt;\n&lt;script src=\"../node_modules/angular2/bundles/http.min.js\"&gt;&lt;/script&gt;\n&lt;script src=\"../node_modules/angular2/bundles/router.min.js\"&gt;&lt;/script&gt;\n&lt;script&gt;\n  //bootstrap the Angular2 application\n  System.import('app/app').catch(console.log.bind(console));\n&lt;/script&gt;\n</code></pre>\n\n<p>EDIT:</p>\n\n<p>In fact, these changes where introduced in  <a href=\"https://github.com/angular/angular/blob/master/CHANGELOG.md#breaking-changes-4\" rel=\"nofollow\">alpha 49</a></p>\n"}, {"comments": [{"owner": {"reputation": 1391, "user_id": 3845362, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/fb0426c92408f8ec9f0a653a4e654077?s=128&d=identicon&r=PG&f=1", "display_name": "Edward", "link": "https://stackoverflow.com/users/3845362/edward"}, "edited": false, "score": 0, "creation_date": 1451508682, "post_id": 34536872, "comment_id": 56816020, "body": "Yes sorry, the whole app/my-app was wrong I edited my question, I had 2 projects mixed up, thanks you."}, {"owner": {"reputation": 1391, "user_id": 3845362, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/fb0426c92408f8ec9f0a653a4e654077?s=128&d=identicon&r=PG&f=1", "display_name": "Edward", "link": "https://stackoverflow.com/users/3845362/edward"}, "edited": false, "score": 0, "creation_date": 1451510604, "post_id": 34536872, "comment_id": 56816953, "body": "Your plunker seems to work fine, however when I make these changes into my project it gives the &quot;Uncaught RangeError: Maximum call stack size exceeded&quot; like said here <a href=\"http://goo.gl/O3EVGP\" rel=\"nofollow noreferrer\">goo.gl/O3EVGP</a>. Even after disabling all my functions, I think I&#39;m going to start from scratch this angular2 stuff is giving me nightmares.."}, {"owner": {"reputation": 15500, "user_id": 3125880, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d3e27beedab625639f716f543323d926?s=128&d=identicon&r=PG&f=1", "display_name": "Abdulrahman Alsoghayer", "link": "https://stackoverflow.com/users/3125880/abdulrahman-alsoghayer"}, "reply_to_user": {"reputation": 1391, "user_id": 3845362, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/fb0426c92408f8ec9f0a653a4e654077?s=128&d=identicon&r=PG&f=1", "display_name": "Edward", "link": "https://stackoverflow.com/users/3845362/edward"}, "edited": false, "score": 0, "creation_date": 1451511962, "post_id": 34536872, "comment_id": 56817538, "body": "The problem could be on one of these files &#39;hall-list.component&#39;,  &#39;./hall-detail.component&#39; , &#39;./hall.service&#39;.. could you post them?"}, {"owner": {"reputation": 15500, "user_id": 3125880, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d3e27beedab625639f716f543323d926?s=128&d=identicon&r=PG&f=1", "display_name": "Abdulrahman Alsoghayer", "link": "https://stackoverflow.com/users/3125880/abdulrahman-alsoghayer"}, "reply_to_user": {"reputation": 1391, "user_id": 3845362, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/fb0426c92408f8ec9f0a653a4e654077?s=128&d=identicon&r=PG&f=1", "display_name": "Edward", "link": "https://stackoverflow.com/users/3845362/edward"}, "edited": false, "score": 0, "creation_date": 1451525034, "post_id": 34536872, "comment_id": 56821765, "body": "I couldn&#39;t regenerate your &quot;Maximum call stack&quot; issue. But here is your <a href=\"https://plnkr.co/edit/ddBgosBQQN94KbQv40DI?p=preview\" rel=\"nofollow noreferrer\">plunker</a> working .. I just fixed some imports and removed your 2 comments /* implements OnInit */ &lt;&lt;  they were causing problems!!"}], "tags": [], "owner": {"reputation": 15500, "user_id": 3125880, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d3e27beedab625639f716f543323d926?s=128&d=identicon&r=PG&f=1", "display_name": "Abdulrahman Alsoghayer", "link": "https://stackoverflow.com/users/3125880/abdulrahman-alsoghayer"}, "is_accepted": true, "score": 5, "last_activity_date": 1451507728, "creation_date": 1451507728, "answer_id": 34536872, "question_id": 34534920, "link": "https://stackoverflow.com/questions/34534920/angular2-uncaught-syntaxerror-unexpected-token/34536872#34536872", "title": "angular2: Uncaught SyntaxError: Unexpected token &lt;", "body": "<p>You have several issues:</p>\n\n<p>you component selector is : 'my-app'</p>\n\n<pre><code>&lt;app&gt;Loading...&lt;app&gt;\n</code></pre>\n\n<p>should be</p>\n\n<pre><code>&lt;my-app&gt;Loading...&lt;/my-app&gt;\n</code></pre>\n\n<p>Also, you are importing a wrong file:</p>\n\n<pre><code>System.import('app/app');\n</code></pre>\n\n<p>should be</p>\n\n<pre><code>System.import('app/boot');\n</code></pre>\n\n<p>Also, unless you are compiling your typescript to java script.. you should change this line and import typescript.js</p>\n\n<pre><code>{defaultExtension: 'js'}}\n</code></pre>\n\n<p>should be</p>\n\n<pre><code>{defaultExtension: 'ts'}}\n&lt;script src=\"https://code.angularjs.org/tools/typescript.js\"&gt;&lt;/script&gt;\n</code></pre>\n\n<p>Also, you are missing few imports:</p>\n\n<pre><code>&lt;script src=\"https://code.angularjs.org/2.0.0-beta.0/angular2-polyfills.js\"&gt;&lt;/script&gt;\n&lt;script src=\"https://code.angularjs.org/tools/system.js\"&gt;&lt;/script&gt;\n&lt;script src=\"https://code.angularjs.org/2.0.0-beta.0/Rx.js\"&gt;&lt;/script&gt;\n</code></pre>\n\n<p>Here is a <a href=\"http://plnkr.co/edit/XccQWK5kebLrdO5umZYW?p=preview\" rel=\"noreferrer\">plunker</a> of your code working </p>\n"}, {"tags": [], "owner": {"reputation": 447, "user_id": 5828058, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-VMdVYddu5IQ/AAAAAAAAAAI/AAAAAAAAAF0/Uc0ttIS7E88/photo.jpg?sz=128", "display_name": "Michael Gikaru", "link": "https://stackoverflow.com/users/5828058/michael-gikaru"}, "is_accepted": false, "score": 2, "last_activity_date": 1453501729, "creation_date": 1453501729, "answer_id": 34957020, "question_id": 34534920, "link": "https://stackoverflow.com/questions/34534920/angular2-uncaught-syntaxerror-unexpected-token/34957020#34957020", "title": "angular2: Uncaught SyntaxError: Unexpected token &lt;", "body": "<p>In my case the error came from forgetting to include</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;script src=\"node_modules/angular2/bundles/router.min.js\"&gt;&lt;/script&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>in <strong>index.html</strong></p>\n"}, {"tags": [], "owner": {"reputation": 1718, "user_id": 370538, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/32f4c4b658621f82996e14b2f24925f9?s=128&d=identicon&r=PG", "display_name": "snort", "link": "https://stackoverflow.com/users/370538/snort"}, "is_accepted": false, "score": 0, "last_activity_date": 1454707912, "creation_date": 1454707912, "answer_id": 35233902, "question_id": 34534920, "link": "https://stackoverflow.com/questions/34534920/angular2-uncaught-syntaxerror-unexpected-token/35233902#35233902", "title": "angular2: Uncaught SyntaxError: Unexpected token &lt;", "body": "<p>Ran into this in beta 3 using the rxjs v5.0.0-beta.0 package recommended in the Angular 2 quick start. I switched from the npm package to the one on the Angular beta CDN and it worked fine.</p>\n\n<pre><code>&lt;script src=\"https://code.angularjs.org/2.0.0-beta.3/Rx.js\"&gt;&lt;/script&gt;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 12300, "user_id": 1371131, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/Qpq1r.png?s=128&g=1", "display_name": "weltschmerz", "link": "https://stackoverflow.com/users/1371131/weltschmerz"}, "is_accepted": false, "score": 0, "last_activity_date": 1455081820, "creation_date": 1455081820, "answer_id": 35307452, "question_id": 34534920, "link": "https://stackoverflow.com/questions/34534920/angular2-uncaught-syntaxerror-unexpected-token/35307452#35307452", "title": "angular2: Uncaught SyntaxError: Unexpected token &lt;", "body": "<p>Ran into this today using Angular 2.0.0-beta.0 and rxjs. Had to change</p>\n\n<pre><code>import * as Rx from 'rxjs';\n</code></pre>\n\n<p>to</p>\n\n<pre><code>import * as Rx from 'rxjs/Rx';\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 773, "user_id": 112247, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/618b5e3ba24e30620fde4360483d3c54?s=128&d=identicon&r=PG&f=1", "display_name": "Jim Gilmartin", "link": "https://stackoverflow.com/users/112247/jim-gilmartin"}, "edited": false, "score": 1, "creation_date": 1457826902, "post_id": 35820888, "comment_id": 59584513, "body": "This answer is what helped me. It pointed me to the fact that I had a misspelling in my import. I had  <b>from &#39;angular2/Router&#39;</b>  instead of <b>from &#39;angular2/router&#39;</b>"}, {"owner": {"reputation": 1741, "user_id": 1613129, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/98165ca839138b9b1a6d1d681b411aa8?s=128&d=identicon&r=PG", "display_name": "Francisco", "link": "https://stackoverflow.com/users/1613129/francisco"}, "edited": false, "score": 0, "creation_date": 1469747985, "post_id": 35820888, "comment_id": 64678941, "body": "I wish I could put another like in this answer"}, {"owner": {"reputation": 1661, "user_id": 3971984, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/776644a76fff9e12ee246626c6b167ca?s=128&d=identicon&r=PG", "display_name": "Jaime Still", "link": "https://stackoverflow.com/users/3971984/jaime-still"}, "edited": false, "score": 0, "creation_date": 1470404770, "post_id": 35820888, "comment_id": 64951834, "body": "Typo for &#39;rxjs&#39; as &#39;rxsj&#39; and was getting this error. Caused me to re-evaluate my imports and fix my issues. Thanks!"}, {"owner": {"reputation": 1235, "user_id": 2346720, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/lLOx2.jpg?s=128&g=1", "display_name": "yeelan", "link": "https://stackoverflow.com/users/2346720/yeelan"}, "edited": false, "score": 0, "creation_date": 1472843824, "post_id": 35820888, "comment_id": 65932766, "body": "Thanks! This acutally hit the core of my problem since I am not that familiar with AppEngine yet!"}, {"owner": {"reputation": 918, "user_id": 730515, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/c3cabf1fe82c4dcb6f4ca8397795d037?s=128&d=identicon&r=PG", "display_name": "Snorre", "link": "https://stackoverflow.com/users/730515/snorre"}, "edited": false, "score": 0, "creation_date": 1477314767, "post_id": 35820888, "comment_id": 67701913, "body": "This answer helped me as well. Using Fiddler I saw that all missing packages came up as blue lines and same Body size."}, {"owner": {"reputation": 4783, "user_id": 1794871, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jYGXY.jpg?s=128&g=1", "display_name": "Gene Parcellano", "link": "https://stackoverflow.com/users/1794871/gene-parcellano"}, "edited": false, "score": 0, "creation_date": 1478538961, "post_id": 35820888, "comment_id": 68185996, "body": "How do we actually change the settings so it serves up a 404 instead of index.html?"}], "tags": [], "owner": {"reputation": 221, "user_id": 6023746, "user_type": "unregistered", "profile_image": "https://www.gravatar.com/avatar/b7fd221e0989f51393558e26b87aec28?s=128&d=identicon&r=PG", "display_name": "Haringat", "link": "https://stackoverflow.com/users/6023746/haringat"}, "is_accepted": false, "score": 22, "last_activity_date": 1457221548, "last_edit_date": 1457221548, "creation_date": 1457218243, "answer_id": 35820888, "question_id": 34534920, "link": "https://stackoverflow.com/questions/34534920/angular2-uncaught-syntaxerror-unexpected-token/35820888#35820888", "title": "angular2: Uncaught SyntaxError: Unexpected token &lt;", "body": "<p>So the above answers seem to be correct but here is some information about the error itself (just for others who run into the same problem wondering what they did wrong) because it can appear with literally <strong>each single</strong> import and is quite difficult to track down. </p>\n\n<p>It appears whenever a file is required and the webserver is configured to just serve <code>/</code> instead of a <code>404-file-not-found-page</code>. </p>\n\n<p><code>/</code> usually then translates to <code>/index.html</code> and there the first character usually is <code>&lt;</code> (mostly the start of <code>&lt;!DOCTYPE html&gt;</code>) and since that is no valid javascript the browser throws an illegal token exception.</p>\n"}, {"tags": [], "owner": {"reputation": 4563, "user_id": 2919398, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/Ken5N.jpg?s=128&g=1", "display_name": "Sul Aga", "link": "https://stackoverflow.com/users/2919398/sul-aga"}, "is_accepted": false, "score": 0, "last_activity_date": 1460832403, "creation_date": 1460832403, "answer_id": 36668245, "question_id": 34534920, "link": "https://stackoverflow.com/questions/34534920/angular2-uncaught-syntaxerror-unexpected-token/36668245#36668245", "title": "angular2: Uncaught SyntaxError: Unexpected token &lt;", "body": "<p>make sure to add full path when you import. Also make sure to add ./ in front of files you import which are in the same directory. </p>\n\n<p>So if file.ts wants to import service.ts which resides in the same directory then you shoule write the import like this:</p>\n\n<pre><code>import {service} from './service'\n</code></pre>\n\n<p>if you write </p>\n\n<pre><code>import {service} from 'service'\n</code></pre>\n\n<p>then you will get this error</p>\n"}, {"comments": [{"owner": {"reputation": 1391, "user_id": 3845362, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/fb0426c92408f8ec9f0a653a4e654077?s=128&d=identicon&r=PG&f=1", "display_name": "Edward", "link": "https://stackoverflow.com/users/3845362/edward"}, "edited": false, "score": 0, "creation_date": 1462437949, "post_id": 36966249, "comment_id": 61640452, "body": "I also had some issues sometimes with referencing the directory, for example sometimes <code>from &#39;.&#47;rxjs&#47;Rx&#39;;</code> and sometimes it had to be <code>from &#39;rxjs&#47;Rx&#39;;</code> can&#39;t remember which one where"}], "tags": [], "owner": {"reputation": 41, "user_id": 1951260, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/547622bde478899fb85a746dd2b43c6e?s=128&d=identicon&r=PG", "display_name": "imahama", "link": "https://stackoverflow.com/users/1951260/imahama"}, "is_accepted": false, "score": 2, "last_activity_date": 1462102913, "creation_date": 1462102913, "answer_id": 36966249, "question_id": 34534920, "link": "https://stackoverflow.com/questions/34534920/angular2-uncaught-syntaxerror-unexpected-token/36966249#36966249", "title": "angular2: Uncaught SyntaxError: Unexpected token &lt;", "body": "<p>In my case I had</p>\n\n<pre><code>import {Observable} from 'rxjs/rx';\n</code></pre>\n\n<p>which was giving error.</p>\n\n<p>I changed to</p>\n\n<pre><code>import {Observable} from 'rxjs/Rx';\n</code></pre>\n\n<p>and problem went away. So mind the case-sensitivity.</p>\n"}, {"tags": [], "owner": {"reputation": 3756, "user_id": 3105145, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84e73eb6392def249c03d3c851036831?s=128&d=identicon&r=PG&f=1", "display_name": "KhaledMohamedP", "link": "https://stackoverflow.com/users/3105145/khaledmohamedp"}, "is_accepted": false, "score": 0, "last_activity_date": 1525788068, "creation_date": 1525788068, "answer_id": 50235522, "question_id": 34534920, "link": "https://stackoverflow.com/questions/34534920/angular2-uncaught-syntaxerror-unexpected-token/50235522#50235522", "title": "angular2: Uncaught SyntaxError: Unexpected token &lt;", "body": "<p>This is due to SystemJS trying to fetch rxjs methods from a relative path instead of the library itself</p>\n\n<p>I had to insert this line of code inside the Systemjs configuration <code>System.config({})</code></p>\n\n<pre><code>paths: {\n 'rxjs*': 'node_modules/rxjs/bundles/Rx.min.js'\n}\n</code></pre>\n\n<p>Took me several hours to find this solution</p>\n\n<p><a href=\"https://github.com/ReactiveX/rxjs/issues/2458#issuecomment-286706048\" rel=\"nofollow noreferrer\">source</a></p>\n"}], "owner": {"reputation": 1391, "user_id": 3845362, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/fb0426c92408f8ec9f0a653a4e654077?s=128&d=identicon&r=PG&f=1", "display_name": "Edward", "link": "https://stackoverflow.com/users/3845362/edward"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 26876, "favorite_count": 0, "accepted_answer_id": 34536872, "answer_count": 9, "score": 7, "last_activity_date": 1525788068, "creation_date": 1451499466, "last_edit_date": 1495541902, "question_id": 34534920, "link": "https://stackoverflow.com/questions/34534920/angular2-uncaught-syntaxerror-unexpected-token", "title": "angular2: Uncaught SyntaxError: Unexpected token &lt;", "body": "<p>I keep getting this error <code>Uncaught SyntaxError: Unexpected token &lt;</code> whenever I try to run my angular2 application. This is just a modification based on the <a href=\"https://angular.io/docs/ts/latest/guide/router.html\" rel=\"nofollow noreferrer\">routing 'tutorial'</a> of the angular2 website. </p>\n\n<p>Normally these kind of errors speak for themselves where I miswrote a piece of code. But the Chrome console tells me the <a href=\"https://picasaweb.google.com/lh/photo/st39nlTuYPSQ-i4PCZeA2SOBG2bGE-R0SjQZqsLNf_4\" rel=\"nofollow noreferrer\">error</a> occurs inside of an angular2 js file. </p>\n\n<p>Reading and trying the answers from both <a href=\"https://stackoverflow.com/questions/5733275/chrome-uncaught-syntax-error-unexpected-token-illegal\"><code>Chrome Uncaught Syntax Error: Unexpected Token ILLEGAL</code></a>  and <a href=\"https://stackoverflow.com/questions/10501634/warning-c4819-how-to-find-the-character-that-has-to-be-saved-in-unicode\"><code>warning C4819: How to find the character that has to be saved in unicode?</code></a> didn't work. Guessing that the error has to be somewhere in my boot.ts or app.component.ts.</p>\n\n<p><strong>boot.ts</strong></p>\n\n<pre><code>import {bootstrap}        from 'angular2/platform/browser';\nimport {ROUTER_PROVIDERS} from 'angular2/router';\nimport {AppComponent}     from './app.component';\nimport {HallService}     from './hall/hall.service';\nbootstrap(AppComponent,[\n    ROUTER_PROVIDERS,\n    HallService\n]);\n</code></pre>\n\n<p><strong>app.component.ts</strong></p>\n\n<pre><code>import {Component} from 'angular2/core';\nimport {RouteConfig, ROUTER_DIRECTIVES} from 'angular2/router';\nimport {HallCenterComponent} from './hall/hall-center.component';\n\n@Component({\n    selector: 'my-app',\n    template: `\n    &lt;h1 class=\"title\"&gt;Component Router&lt;/h1&gt;\n    &lt;a [routerLink]=\"['HallCenter']\"&gt;Hallen&lt;/a&gt;\n    &lt;a&gt;Heroes&lt;/a&gt;\n    &lt;router-outlet&gt;&lt;/router-outlet&gt;\n  `,\n    directives: [ROUTER_DIRECTIVES]\n})\n@RouteConfig([\n    {\n        path: '/hall/...',\n        name: 'HallCenter',\n        component: HallCenterComponent,\n        useAsDefault: true\n    }\n])\nexport class AppComponent { }\n</code></pre>\n\n<p><strong>index.html</strong></p>\n\n<pre><code>&lt;html&gt;\n&lt;head&gt;\n    &lt;base href=\"/\"&gt;\n    &lt;title&gt;Factory project&lt;/title&gt;\n    &lt;link rel=\"stylesheet\" href=\"styles.css\"&gt;\n    &lt;script src=\"node_modules/angular2/bundles/angular2-polyfills.js\"&gt;&lt;/script&gt;\n    &lt;script src=\"node_modules/systemjs/dist/system.src.js\"&gt;&lt;/script&gt;\n    &lt;script src=\"node_modules/rxjs/bundles/Rx.js\"&gt;&lt;/script&gt;\n    &lt;script src=\"node_modules/angular2/bundles/angular2.dev.js\"&gt;&lt;/script&gt;\n    &lt;script src=\"node_modules/angular2/bundles/router.dev.js\"&gt;&lt;/script&gt;\n    &lt;script&gt;\n        System.config({\n            packages: {\n                app: {\n                    format: 'register',\n                    defaultExtension: 'js'\n                }\n            }\n        });\n        System.import('app/boot')\n                .then(null, console.error.bind(console));\n    &lt;/script&gt;\n&lt;/head&gt;\n&lt;body&gt;\n&lt;my-app&gt;loading...&lt;/my-app&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p><strong>hall-center.component.ts</strong></p>\n\n<pre><code>import {Component}     from 'angular2/core';\nimport {RouteConfig, RouterOutlet} from 'angular2/router';\nimport {HallListComponent}   from './hall-list.component';\nimport {HallDetailComponent} from './hall-detail.component';\nimport {HallService}         from './hall.service';\n\n@Component({\n    template:  `\n    &lt;h2&gt;HALL CENTER&lt;/h2&gt;\n    &lt;router-outlet&gt;&lt;/router-outlet&gt;\n  `,\n    directives: [RouterOutlet],\n    providers:  [HallService]\n})\n@RouteConfig([\n    {path:'/',         name: 'HallCenter', component: HallListComponent, useAsDefault: true},\n    {path:'/:id',      name: 'HallDetail', component: HallDetailComponent},\n    {path:'/list/:id', name: 'HallList',   component: HallListComponent}\n])\nexport class HallCenterComponent { }\n</code></pre>\n"}, {"tags": ["javascript", "json", "typescript"], "comments": [{"owner": {"reputation": 25995, "user_id": 5152732, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-eL0xfQom3xQ/AAAAAAAAAAI/AAAAAAAAB1E/j1B2Mcgvt6M/photo.jpg?sz=128", "display_name": "toskv", "link": "https://stackoverflow.com/users/5152732/toskv"}, "edited": false, "score": 1, "creation_date": 1451500984, "post_id": 34534050, "comment_id": 56812160, "body": "what&#39;s wrong with using an interface in this scenario? Seems like the best fit."}, {"owner": {"reputation": 17529, "user_id": 398606, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9922e981f96ab7d809dfdc02c723fd41?s=128&d=identicon&r=PG", "display_name": "Sunil D.", "link": "https://stackoverflow.com/users/398606/sunil-d"}, "edited": false, "score": 1, "creation_date": 1451501099, "post_id": 34534050, "comment_id": 56812208, "body": "I think your options are to create an interface w/the optional property and have your class implement the interface or accept the interface as a constructor parameter. At the moment, there is no way to do what you want, but <a href=\"https://github.com/Microsoft/TypeScript/issues/4889\" rel=\"nofollow noreferrer\">others have asked</a> for it."}, {"owner": {"reputation": 25995, "user_id": 5152732, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-eL0xfQom3xQ/AAAAAAAAAAI/AAAAAAAAB1E/j1B2Mcgvt6M/photo.jpg?sz=128", "display_name": "toskv", "link": "https://stackoverflow.com/users/5152732/toskv"}, "edited": false, "score": 0, "creation_date": 1451503718, "post_id": 34534050, "comment_id": 56813517, "body": "alternatively you could just make a constructor for the class and call it with a null parameter.. the interface would still be better for this case though."}, {"owner": {"reputation": 5253, "user_id": 3945392, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/1374a9ce2b9be9163fa50420a83eb2b7?s=128&d=identicon&r=PG", "display_name": "Langley", "link": "https://stackoverflow.com/users/3945392/langley"}, "reply_to_user": {"reputation": 25995, "user_id": 5152732, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-eL0xfQom3xQ/AAAAAAAAAAI/AAAAAAAAB1E/j1B2Mcgvt6M/photo.jpg?sz=128", "display_name": "toskv", "link": "https://stackoverflow.com/users/5152732/toskv"}, "edited": false, "score": 0, "creation_date": 1451510885, "post_id": 34534050, "comment_id": 56817091, "body": "@toskv  This is not the real scenario, just a simple scenario to make it easier to see the one thing I want to do. The real scenario needs a class, as I specified."}, {"owner": {"reputation": 5253, "user_id": 3945392, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/1374a9ce2b9be9163fa50420a83eb2b7?s=128&d=identicon&r=PG", "display_name": "Langley", "link": "https://stackoverflow.com/users/3945392/langley"}, "reply_to_user": {"reputation": 17529, "user_id": 398606, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9922e981f96ab7d809dfdc02c723fd41?s=128&d=identicon&r=PG", "display_name": "Sunil D.", "link": "https://stackoverflow.com/users/398606/sunil-d"}, "edited": false, "score": 0, "creation_date": 1451510915, "post_id": 34534050, "comment_id": 56817102, "body": "@SunilD. I already know how to do it with an interface, the question is how to do something similar with a class instead."}, {"owner": {"reputation": 5253, "user_id": 3945392, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/1374a9ce2b9be9163fa50420a83eb2b7?s=128&d=identicon&r=PG", "display_name": "Langley", "link": "https://stackoverflow.com/users/3945392/langley"}, "reply_to_user": {"reputation": 17529, "user_id": 398606, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9922e981f96ab7d809dfdc02c723fd41?s=128&d=identicon&r=PG", "display_name": "Sunil D.", "link": "https://stackoverflow.com/users/398606/sunil-d"}, "edited": false, "score": 0, "creation_date": 1451511100, "post_id": 34534050, "comment_id": 56817174, "body": "@SunilD. sending the interface as a parameter is the same as &quot;Sending an object with all the properties into the constructor&quot;, with the exception that you still have to create the interface, and now you&#39;d have both an interface and a class for the exact same object. There&#39;s a couples of correct ways to do it using an interface but I&#39;m looking for a way without an interface in order to avoid code replication. Once again, the question is how to do it using a class."}, {"owner": {"reputation": 25995, "user_id": 5152732, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-eL0xfQom3xQ/AAAAAAAAAAI/AAAAAAAAB1E/j1B2Mcgvt6M/photo.jpg?sz=128", "display_name": "toskv", "link": "https://stackoverflow.com/users/5152732/toskv"}, "edited": false, "score": 0, "creation_date": 1451514218, "post_id": 34534050, "comment_id": 56818582, "body": "I made an answer with a constructor. Btw, casting the incomplete object works just fine for me."}, {"owner": {"reputation": 5253, "user_id": 3945392, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/1374a9ce2b9be9163fa50420a83eb2b7?s=128&d=identicon&r=PG", "display_name": "Langley", "link": "https://stackoverflow.com/users/3945392/langley"}, "edited": false, "score": 0, "creation_date": 1451523649, "post_id": 34534050, "comment_id": 56821409, "body": "You mean my exact example works fine for you? the compiler is not throwing you that error? if not, what compiler options are you using? maybe that&#39;s what I&#39;m looking for. The compiler configuration I&#39;m using is the following:   {         &quot;compilerOptions&quot;: {             &quot;target&quot;: &quot;ES5&quot;,             &quot;module&quot;: &quot;system&quot;,             &quot;moduleResolution&quot;: &quot;node&quot;,             &quot;sourceMap&quot;: true,             &quot;emitDecoratorMetadata&quot;: true,             &quot;experimentalDecorators&quot;: true,             &quot;removeComments&quot;: true,             &quot;noImplicitAny&quot;: false         }"}, {"owner": {"reputation": 17529, "user_id": 398606, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9922e981f96ab7d809dfdc02c723fd41?s=128&d=identicon&r=PG", "display_name": "Sunil D.", "link": "https://stackoverflow.com/users/398606/sunil-d"}, "edited": false, "score": 0, "creation_date": 1451585825, "post_id": 34534050, "comment_id": 56842570, "body": "As I linked to above, there&#39;s no way to do what you want at the moment. It comes right from the horses mouth in the typescript git repo."}], "answers": [{"comments": [{"owner": {"reputation": 5253, "user_id": 3945392, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/1374a9ce2b9be9163fa50420a83eb2b7?s=128&d=identicon&r=PG", "display_name": "Langley", "link": "https://stackoverflow.com/users/3945392/langley"}, "edited": false, "score": 0, "creation_date": 1451523422, "post_id": 34538173, "comment_id": 56821341, "body": "You are setting all parameters there, I want the ability to set only the ones I want. The closest solution I have is using constructors though, so you might be on the right track."}, {"owner": {"reputation": 25995, "user_id": 5152732, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-eL0xfQom3xQ/AAAAAAAAAAI/AAAAAAAAB1E/j1B2Mcgvt6M/photo.jpg?sz=128", "display_name": "toskv", "link": "https://stackoverflow.com/users/5152732/toskv"}, "reply_to_user": {"reputation": 5253, "user_id": 3945392, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/1374a9ce2b9be9163fa50420a83eb2b7?s=128&d=identicon&r=PG", "display_name": "Langley", "link": "https://stackoverflow.com/users/3945392/langley"}, "edited": false, "score": 1, "creation_date": 1451550731, "post_id": 34538173, "comment_id": 56828581, "body": "Indeed, well you can use a factory to create the items, but as I said, &lt;Person&gt;{name: &quot;Guy&quot;} works fine for me. What version of typescript are you using?"}, {"owner": {"reputation": 5253, "user_id": 3945392, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/1374a9ce2b9be9163fa50420a83eb2b7?s=128&d=identicon&r=PG", "display_name": "Langley", "link": "https://stackoverflow.com/users/3945392/langley"}, "edited": false, "score": 0, "creation_date": 1451865944, "post_id": 34538173, "comment_id": 56911484, "body": "Hey toskv I hadn&#39;t seen this comment, yea apparently the casting was fine, it was just the way to declare the class that was wrong in order to achieve what I wanted, you were on the right track but in your example you are initializing all the properties, change it so it looks like the one I posted and I&#39;ll change the accepted answer to yours."}, {"owner": {"reputation": 25995, "user_id": 5152732, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-eL0xfQom3xQ/AAAAAAAAAAI/AAAAAAAAB1E/j1B2Mcgvt6M/photo.jpg?sz=128", "display_name": "toskv", "link": "https://stackoverflow.com/users/5152732/toskv"}, "reply_to_user": {"reputation": 5253, "user_id": 3945392, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/1374a9ce2b9be9163fa50420a83eb2b7?s=128&d=identicon&r=PG", "display_name": "Langley", "link": "https://stackoverflow.com/users/3945392/langley"}, "edited": false, "score": 0, "creation_date": 1451900300, "post_id": 34538173, "comment_id": 56921292, "body": "@Langley your answer looks fine. :)"}], "tags": [], "owner": {"reputation": 25995, "user_id": 5152732, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-eL0xfQom3xQ/AAAAAAAAAAI/AAAAAAAAB1E/j1B2Mcgvt6M/photo.jpg?sz=128", "display_name": "toskv", "link": "https://stackoverflow.com/users/5152732/toskv"}, "is_accepted": false, "score": 0, "last_activity_date": 1451514137, "creation_date": 1451514137, "answer_id": 34538173, "question_id": 34534050, "link": "https://stackoverflow.com/questions/34534050/correct-way-to-cast-a-json-object-into-a-typescript-typed-variable-using-a-class/34538173#34538173", "title": "Correct way to cast a JSON object into a typescript typed variable using a class?", "body": "<p>You could write your class with a constructor.</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>export class Person {\n  constructor(public id: number, public name: string) {}\n}\n</code></pre>\n\n\n\n<p>But you would have to call it like this.</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>let person = new Person(null, \"George\");\n</code></pre>\n\n\n"}, {"comments": [{"owner": {"reputation": 23145, "user_id": 2788872, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/a2616878b8bfb95d8fbb8a63ad18d729?s=128&d=identicon&r=PG&f=1", "display_name": "John Weisz", "link": "https://stackoverflow.com/users/2788872/john-weisz"}, "edited": false, "score": 0, "creation_date": 1462126771, "post_id": 34580857, "comment_id": 61496061, "body": "<code>&lt;Person&gt;{name: &quot;Guy&quot;} instanceof Person; &#47;&#47; false</code>"}, {"owner": {"reputation": 5253, "user_id": 3945392, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/1374a9ce2b9be9163fa50420a83eb2b7?s=128&d=identicon&r=PG", "display_name": "Langley", "link": "https://stackoverflow.com/users/3945392/langley"}, "reply_to_user": {"reputation": 23145, "user_id": 2788872, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/a2616878b8bfb95d8fbb8a63ad18d729?s=128&d=identicon&r=PG&f=1", "display_name": "John Weisz", "link": "https://stackoverflow.com/users/2788872/john-weisz"}, "edited": false, "score": 0, "creation_date": 1462245926, "post_id": 34580857, "comment_id": 61543979, "body": "@JohnWhite yea, {name: &quot;Guy&quot;}&#39;s type is Object, if you want an instance of Person you need to call the constructor: <code>new Person()</code>"}], "tags": [], "owner": {"reputation": 5253, "user_id": 3945392, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/1374a9ce2b9be9163fa50420a83eb2b7?s=128&d=identicon&r=PG", "display_name": "Langley", "link": "https://stackoverflow.com/users/3945392/langley"}, "is_accepted": true, "score": 3, "last_activity_date": 1451866085, "last_edit_date": 1451866085, "creation_date": 1451850252, "answer_id": 34580857, "question_id": 34534050, "link": "https://stackoverflow.com/questions/34534050/correct-way-to-cast-a-json-object-into-a-typescript-typed-variable-using-a-class/34580857#34580857", "title": "Correct way to cast a JSON object into a typescript typed variable using a class?", "body": "<p>I found the easiest way to do it, and IT IS POSSIBLE. I think I had tried it this way before but the fact that I was using the \"Number\" &amp; \"String\" types instead of \"number\" &amp; \"string\", might be giving me missleading errors from the compiler, the following code works wonders for me:</p>\n\n<pre><code>export class Person{\n    constructor(\n        public id?: number, // make sure you use number and string types instead of Number and String types\n        public name?: string // make sure you make all properties optional using \"?\"\n    ){}\n}\n\nexport class PersonForm{\n    default:Person = &lt;Person&gt;{name: \"Guy\"};\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 35729, "user_id": 145173, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/7e4957bc72a7e6ab7243bad65fdb7c98?s=128&d=identicon&r=PG", "display_name": "Edward Brey", "link": "https://stackoverflow.com/users/145173/edward-brey"}, "is_accepted": false, "score": 0, "last_activity_date": 1475920765, "creation_date": 1475920765, "answer_id": 39931059, "question_id": 34534050, "link": "https://stackoverflow.com/questions/34534050/correct-way-to-cast-a-json-object-into-a-typescript-typed-variable-using-a-class/39931059#39931059", "title": "Correct way to cast a JSON object into a typescript typed variable using a class?", "body": "<p>Cast the JSON expression to <code>any</code>. The line to assign <code>default</code> becomes:</p>\n\n<pre><code>default: Person = &lt;any&gt;{ name: \"Guy\" };\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 20741, "user_id": 1657476, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/FnxbC.jpg?s=128&g=1", "display_name": "Meirion Hughes", "link": "https://stackoverflow.com/users/1657476/meirion-hughes"}, "is_accepted": false, "score": 0, "last_activity_date": 1475922291, "creation_date": 1475922291, "answer_id": 39931259, "question_id": 34534050, "link": "https://stackoverflow.com/questions/34534050/correct-way-to-cast-a-json-object-into-a-typescript-typed-variable-using-a-class/39931259#39931259", "title": "Correct way to cast a JSON object into a typescript typed variable using a class?", "body": "<p>This is another option to complement the other answers posted here..</p>\n\n<p>If you have some object initialiser</p>\n\n<pre><code>{\n  name:\"John\" \n}\n</code></pre>\n\n<p>and you explicitly want an instance of the class <code>Person</code>, but want keep the object initialiser, while keeping the defaults that the class <code>Person</code> creates, you can do it via passing the entire object into the class constructor: </p>\n\n<pre><code>var instance = new Person({name:\"John\"});\n</code></pre>\n\n<p>where </p>\n\n<pre><code>export class Person\n{\n   id:number = 0; //or generate one\n   name:string = \"unknown\";\n   constructor(opts:{id?:number; name?:string}){\n      if(opts){\n          this.id = opts.id || this.id;\n          this.name = opts.name || this.name;\n      }\n   }\n}\n</code></pre>\n\n<p>examples:</p>\n\n<pre><code>var people = [\n   new Person(),\n   new Person({name:\"John\"}),\n   new Person({name:\"James\", id:10}),\n   new Person({id:20})];\n</code></pre>\n"}], "owner": {"reputation": 5253, "user_id": 3945392, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/1374a9ce2b9be9163fa50420a83eb2b7?s=128&d=identicon&r=PG", "display_name": "Langley", "link": "https://stackoverflow.com/users/3945392/langley"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1695, "favorite_count": 0, "accepted_answer_id": 34580857, "answer_count": 4, "score": 6, "last_activity_date": 1475922291, "creation_date": 1451495832, "last_edit_date": 1451854634, "question_id": 34534050, "link": "https://stackoverflow.com/questions/34534050/correct-way-to-cast-a-json-object-into-a-typescript-typed-variable-using-a-class", "title": "Correct way to cast a JSON object into a typescript typed variable using a class?", "body": "<p>This is a more simple example of what I'm trying to do:</p>\n\n<pre><code>export class Person{\n    id:Number;\n    name:String;\n}\n\nexport class PersonForm{\n\n    // This line:\n    default:Person = {name: \"Guy\"};\n    // Gives the following error:\n    //  Error:(25, 5) TS2322: Type '{ name: string; }' is not assignable to type 'Person'.\n    //  Property 'id' is missing in type '{ name: string; }'.\n\n    // I tried &lt;Person&gt;{name: \"Guy\"} but it gives the same error.\n\n}\n</code></pre>\n\n<p>How can I make the compiler ignore this issue as long as Im not using non existant properties, or how do I declare the class so I can do the assignment this way instead of new Person() and then setting just the properties I want. </p>\n\n<p>Note: Sending an object with all the properties into the constructor is not the solution I'm expecting. Also using an interface works because I can declare the fields optional, how can I do the same in a class?</p>\n\n<p>Adding some more info:</p>\n\n<p>The main goal of what I'm trying to achieve:</p>\n\n<p>Find the best way to declare a class (not an interface) so I can initialize it with clean code in one line setting only the parameters I want to set. In Java you would overload constructors or use the Builder pattern. </p>\n\n<p>I could certainly try the builder pattern but I'm looking for a more typescript way to do it, if there's any.</p>\n"}, {"tags": ["typescript"], "answers": [{"tags": [], "owner": {"reputation": 25995, "user_id": 5152732, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-eL0xfQom3xQ/AAAAAAAAAAI/AAAAAAAAB1E/j1B2Mcgvt6M/photo.jpg?sz=128", "display_name": "toskv", "link": "https://stackoverflow.com/users/5152732/toskv"}, "is_accepted": true, "score": 1, "last_activity_date": 1451493890, "creation_date": 1451493890, "answer_id": 34533533, "question_id": 34533163, "link": "https://stackoverflow.com/questions/34533163/how-to-remove-private-members-and-keep-comments-in-auto-generated-typescript-def/34533533#34533533", "title": "How to remove private members and keep comments in auto generated typescript definition files", "body": "<p>There is no way to stop emitting declarations for the private variables and functions.</p>\n\n<p>Assuming that you have a <strong>tsconfig.json</strong> or a similar way to configure <strong>tsc</strong> you can set the <strong>removeComments</strong> option to <strong>false</strong>. </p>\n\n<p>If set to false documentation comments will be left in the source. A documentation comment must start with /** instead of /* or //.</p>\n\n<p>You can find more info on configuring tsc <a href=\"https://github.com/Microsoft/TypeScript/wiki/tsconfig.json\" rel=\"nofollow\">here</a>.</p>\n"}], "owner": {"reputation": 23, "user_id": 3832848, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/99b3ee8cb9459f8dca358c255c64a9ff?s=128&d=identicon&r=PG&f=1", "display_name": "BigBen", "link": "https://stackoverflow.com/users/3832848/bigben"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 120, "favorite_count": 0, "accepted_answer_id": 34533533, "answer_count": 1, "score": 2, "last_activity_date": 1451493890, "creation_date": 1451492436, "question_id": 34533163, "link": "https://stackoverflow.com/questions/34533163/how-to-remove-private-members-and-keep-comments-in-auto-generated-typescript-def", "title": "How to remove private members and keep comments in auto generated typescript definition files", "body": "<p>I have two questions about the typesript compiler.</p>\n\n<p>I use the autogenerating definition feature of the typescript compiler. The result includes private symbols:</p>\n\n<pre><code>export declare class WorkerController {\n    static LIBRARY_ROOT_PATH: string;\n    private _worker;\n    private _entryPoint;\n    private _externalScripts;\n    constructor(entryPoint: string, externalScript?: Array&lt;string&gt;);\n    spawn(): void;\n    private _test();\n}\n</code></pre>\n\n<p>Is it possible to not include these?</p>\n\n<p>I would also like to include the documentation comments that I have on my code. Is there a special keyword to preserve those?</p>\n\n<p>thx</p>\n"}, {"tags": ["javascript", "http", "typescript", "promise", "angular"], "comments": [{"owner": {"reputation": 28908, "user_id": 4933038, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fea342bbab0580d1ee823125a5f0e030?s=128&d=identicon&r=PG&f=1", "display_name": "Eric Martinez", "link": "https://stackoverflow.com/users/4933038/eric-martinez"}, "edited": false, "score": 4, "creation_date": 1451492224, "post_id": 34532995, "comment_id": 56807600, "body": "If <code>forecast</code> is a promise you should do this <code>[weather-list]=&quot;(forecast | async)?.list&quot;</code>"}, {"owner": {"reputation": 4539, "user_id": 3276721, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/1f4Z5.png?s=128&g=1", "display_name": "Miguel Lattuada", "link": "https://stackoverflow.com/users/3276721/miguel-lattuada"}, "reply_to_user": {"reputation": 28908, "user_id": 4933038, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fea342bbab0580d1ee823125a5f0e030?s=128&d=identicon&r=PG&f=1", "display_name": "Eric Martinez", "link": "https://stackoverflow.com/users/4933038/eric-martinez"}, "edited": false, "score": 0, "creation_date": 1451492684, "post_id": 34532995, "comment_id": 56807850, "body": "It&#39;s not a promise / observable itself. But nice approach I will research and view If I can change forecast to be a promise."}, {"owner": {"reputation": 28908, "user_id": 4933038, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fea342bbab0580d1ee823125a5f0e030?s=128&d=identicon&r=PG&f=1", "display_name": "Eric Martinez", "link": "https://stackoverflow.com/users/4933038/eric-martinez"}, "edited": false, "score": 0, "creation_date": 1451493355, "post_id": 34532995, "comment_id": 56808242, "body": "It&#39;s fine if it isn&#39;t a promise or observable (I thought it was because part of your question). You can remove the <code>| async</code> and leave <code>forecast?.list</code>. See <a href=\"https://angular.io/docs/ts/latest/guide/template-syntax.html\" rel=\"nofollow noreferrer\">elvis operator</a>"}], "answers": [{"comments": [{"owner": {"reputation": 1419, "user_id": 2179668, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/GZL6N.jpg?s=128&g=1", "display_name": "seza443", "link": "https://stackoverflow.com/users/2179668/seza443"}, "edited": false, "score": 7, "creation_date": 1491550624, "post_id": 41857125, "comment_id": 73612744, "body": "<i>ngOnInit</i> is available for Components, not for Services (Injectables)"}], "tags": [], "owner": {"reputation": 37317, "user_id": 1205871, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/eDE58.gif?s=128&g=1", "display_name": "danday74", "link": "https://stackoverflow.com/users/1205871/danday74"}, "is_accepted": false, "score": 0, "last_activity_date": 1485362971, "creation_date": 1485362971, "answer_id": 41857125, "question_id": 34532995, "link": "https://stackoverflow.com/questions/34532995/how-to-inject-services-with-async-call-on-constructor-angular-2/41857125#41857125", "title": "How to Inject services with Async call on constructor, Angular 2", "body": "<p>Angular2 advise to do heavy work inside <strong>ngOnInit</strong> NOT inside the constructor.</p>\n\n<p><strong>ngOnInit</strong> is a lifecycle hook / event.</p>\n"}, {"tags": [], "owner": {"reputation": 570, "user_id": 11242668, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/38b7a4771959cf7c69ff19e67c7a16ae?s=128&d=identicon&r=PG&f=1", "display_name": "mamichels", "link": "https://stackoverflow.com/users/11242668/mamichels"}, "is_accepted": false, "score": 0, "last_activity_date": 1582649537, "last_edit_date": 1582649537, "creation_date": 1582647341, "answer_id": 60398937, "question_id": 34532995, "link": "https://stackoverflow.com/questions/34532995/how-to-inject-services-with-async-call-on-constructor-angular-2/60398937#60398937", "title": "How to Inject services with Async call on constructor, Angular 2", "body": "<p>You're trying to work around the angular lifecycle.</p>\n\n<p>It seems you assume that your service is initiated during startup. This is not the case. Even if your service is provided on root level it may only be initialized just in time. You may want to call some public init method during your startup logic to ensure its initialization.</p>\n"}], "owner": {"reputation": 4539, "user_id": 3276721, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/1f4Z5.png?s=128&g=1", "display_name": "Miguel Lattuada", "link": "https://stackoverflow.com/users/3276721/miguel-lattuada"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1619, "favorite_count": 0, "answer_count": 2, "score": 7, "last_activity_date": 1582649537, "creation_date": 1451491770, "last_edit_date": 1485362923, "question_id": 34532995, "link": "https://stackoverflow.com/questions/34532995/how-to-inject-services-with-async-call-on-constructor-angular-2", "title": "How to Inject services with Async call on constructor, Angular 2", "body": "<p>This is the problem: I have a service that makes an HTTP request in the constructor:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"false\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>    constructor(public http: Http, public geolocation: Geolocation) {\r\n        this.http = http;\r\n        this.geolocation = geolocation;\r\n        //Http request... this will set variable forecast of the class when complete.\r\n        this.getForecast(16);\r\n    }</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>then I inject that service in a component like this:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"false\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>    constructor(public connector: ApiConnector) {\r\n         this.forecast = connector.forecast;\r\n    }</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>If I try to use the forecast member of the component class on the component decorator as I do here:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"false\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>@Component({\r\n    selector: 'app',\r\n    directives: [MainForecast, DailyForecast],\r\n    template: `\r\n        &lt;main-forecast [main-weather]=\"forecast\"&gt;&lt;/main-forecast&gt;\r\n        &lt;daily-forecast [weather-list]=\"forecast.list\"&gt;&lt;/daily-forecast&gt;\r\n    `,\r\n})</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<blockquote>\n  <p>I get an error, \"Cannot read property 'list' of undefined in...\"</p>\n</blockquote>\n\n<p>Is there any possibility to work with promises in the component constructor?</p>\n"}, {"tags": ["typescript"], "answers": [{"comments": [{"owner": {"reputation": 391, "user_id": 1008800, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/55ecae81c416a5cdc050da8ea1c4db21?s=128&d=identicon&r=PG&f=1", "display_name": "Markus Kramer", "link": "https://stackoverflow.com/users/1008800/markus-kramer"}, "edited": false, "score": 0, "creation_date": 1451904657, "post_id": 34534308, "comment_id": 56923787, "body": "Great. This solved my problem. I was unaware of this export syntax."}], "tags": [], "owner": {"reputation": 18389, "user_id": 1860591, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/AWtf9.jpg?s=128&g=1", "display_name": "Lodewijk Bogaards", "link": "https://stackoverflow.com/users/1860591/lodewijk-bogaards"}, "is_accepted": true, "score": 1, "last_activity_date": 1451496886, "creation_date": 1451496886, "answer_id": 34534308, "question_id": 34532303, "link": "https://stackoverflow.com/questions/34532303/unable-to-import-class-that-was-exported-two-times-typescript/34534308#34534308", "title": "Unable to import class that was exported two times (Typescript)", "body": "<p>When you're declaring property <code>b : moduleB.B</code> in <code>a.ts</code> you're defining <code>b</code> to be of the <em>type</em> <code>moduleB.B</code>, but you've defined <code>moduleB.B</code> as a <em>const</em>. Since the const is a reference to the constructor function of <code>C</code> the <code>new moduleB.B()</code> does compile.</p>\n\n<p>You could write <code>export type B = C</code> in <code>b.ts</code> instead, but that would then <em>only</em> export the type alias which would mean <code>b : moduleB.B</code> would compile, but <code>new moduleB.B()</code> wouldn't since you did not export constructor function.</p>\n\n<p>Use <code>export {C as B}</code> (full alias) in <code>b.ts</code> to achieve exactly what you want to achieve.</p>\n"}], "owner": {"reputation": 391, "user_id": 1008800, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/55ecae81c416a5cdc050da8ea1c4db21?s=128&d=identicon&r=PG&f=1", "display_name": "Markus Kramer", "link": "https://stackoverflow.com/users/1008800/markus-kramer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 102, "favorite_count": 0, "accepted_answer_id": 34534308, "answer_count": 1, "score": 1, "last_activity_date": 1451496886, "creation_date": 1451489173, "question_id": 34532303, "link": "https://stackoverflow.com/questions/34532303/unable-to-import-class-that-was-exported-two-times-typescript", "title": "Unable to import class that was exported two times (Typescript)", "body": "<p>I'm unable to import a class that was exported two times.</p>\n\n<p><strong>a.ts</strong></p>\n\n<pre><code>import * as moduleB from \"./b\";\nexport class A {\n  b: moduleB.B;\n  constructor() {\n    this.b = new moduleB.B();\n    this.b.hello();\n  }\n}\n</code></pre>\n\n<p><strong>b.ts</strong></p>\n\n<pre><code>import {C} from \"./c\";\nexport const B = C;\n</code></pre>\n\n<p><strong>c.ts</strong></p>\n\n<pre><code>export class C {\n  hello() {\n    console.log(\"hello\");\n  }\n}\n</code></pre>\n\n<p>The error message is:</p>\n\n<pre><code>a.ts(3,14): error TS2305: Module '\"b\"' has no exported member 'B'.\n</code></pre>\n\n<p>The problem seems to be that the type of C has not been probably exported with \"export const B = C;\". The error would go away if I change \"b: moduleB.B;\" to just \"b: any;\".\nHow can I fix this?</p>\n\n<p>Using a default export in b.ts would work but I want to export several things in b.ts so that's not an option. I'm using Typescript 1.7.5.</p>\n"}, {"tags": ["typescript", "type-inference", "type-safety"], "answers": [{"comments": [{"owner": {"reputation": 36091, "user_id": 172029, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/74f4e470810c7368c3880be929c57408?s=128&d=identicon&r=PG", "display_name": "David Pfeffer", "link": "https://stackoverflow.com/users/172029/david-pfeffer"}, "edited": false, "score": 0, "creation_date": 1451513604, "post_id": 34533133, "comment_id": 56818290, "body": "Why wouldn&#39;t there be a single way to determine the type of T? There&#39;s only one use of it in the args."}, {"owner": {"reputation": 36091, "user_id": 172029, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/74f4e470810c7368c3880be929c57408?s=128&d=identicon&r=PG", "display_name": "David Pfeffer", "link": "https://stackoverflow.com/users/172029/david-pfeffer"}, "edited": false, "score": 0, "creation_date": 1451513621, "post_id": 34533133, "comment_id": 56818295, "body": "FWIW I&#39;m coming from C# where this would have worked just fine via type inference. Its not a uniqueness issue."}, {"owner": {"reputation": 25995, "user_id": 5152732, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-eL0xfQom3xQ/AAAAAAAAAAI/AAAAAAAAB1E/j1B2Mcgvt6M/photo.jpg?sz=128", "display_name": "toskv", "link": "https://stackoverflow.com/users/5152732/toskv"}, "reply_to_user": {"reputation": 36091, "user_id": 172029, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/74f4e470810c7368c3880be929c57408?s=128&d=identicon&r=PG", "display_name": "David Pfeffer", "link": "https://stackoverflow.com/users/172029/david-pfeffer"}, "edited": false, "score": 0, "creation_date": 1451551968, "post_id": 34533133, "comment_id": 56828981, "body": "Sadly type inference in TypeScript is not as advanced as C#, and at the moment it needs you to specify the type for generic functions. Regarding uniqueness I was trying to say it makes it easier for the compiler to determine the type (it doesn&#39;t really need to if you specify it). Looking back that phrase is not very well worded though, I will change it. :)"}, {"owner": {"reputation": 25995, "user_id": 5152732, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-eL0xfQom3xQ/AAAAAAAAAAI/AAAAAAAAB1E/j1B2Mcgvt6M/photo.jpg?sz=128", "display_name": "toskv", "link": "https://stackoverflow.com/users/5152732/toskv"}, "reply_to_user": {"reputation": 36091, "user_id": 172029, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/74f4e470810c7368c3880be929c57408?s=128&d=identicon&r=PG", "display_name": "David Pfeffer", "link": "https://stackoverflow.com/users/172029/david-pfeffer"}, "edited": false, "score": 0, "creation_date": 1451554596, "post_id": 34533133, "comment_id": 56830075, "body": "It looks like TypeScript has some type inference after all, but it seems to stop working exactly at the level of a determining the type of T from a the parameter of a callback given to a function received as a parameter. :("}, {"owner": {"reputation": 25995, "user_id": 5152732, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-eL0xfQom3xQ/AAAAAAAAAAI/AAAAAAAAB1E/j1B2Mcgvt6M/photo.jpg?sz=128", "display_name": "toskv", "link": "https://stackoverflow.com/users/5152732/toskv"}, "reply_to_user": {"reputation": 36091, "user_id": 172029, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/74f4e470810c7368c3880be929c57408?s=128&d=identicon&r=PG", "display_name": "David Pfeffer", "link": "https://stackoverflow.com/users/172029/david-pfeffer"}, "edited": false, "score": 0, "creation_date": 1451563095, "post_id": 34533133, "comment_id": 56833836, "body": "just for completion C# can&#39;t infer the type from the callback on it&#39;s own either. It does at least generate a compilation error, and asks you to specify the generic type manually. At least if what I wrote here is correct. <a href=\"http://goo.gl/nEVXo0\" rel=\"nofollow noreferrer\">goo.gl/nEVXo0</a>"}], "tags": [], "owner": {"reputation": 25995, "user_id": 5152732, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-eL0xfQom3xQ/AAAAAAAAAAI/AAAAAAAAB1E/j1B2Mcgvt6M/photo.jpg?sz=128", "display_name": "toskv", "link": "https://stackoverflow.com/users/5152732/toskv"}, "is_accepted": true, "score": 4, "last_activity_date": 1451556739, "last_edit_date": 1451556739, "creation_date": 1451492308, "answer_id": 34533133, "question_id": 34531390, "link": "https://stackoverflow.com/questions/34531390/typescript-type-inference-issue/34533133#34533133", "title": "TypeScript type inference issue", "body": "<p>Typescript is able to infer the type of some generic functions but it has some limitations.</p>\n\n<p>Since there isn't any information in the <a href=\"http://www.typescriptlang.org/Handbook#generics\" rel=\"nofollow\">generic section of the handbook</a> I decided to make some tests and see where it breaks down.</p>\n\n<ol>\n<li>a simple function that takes 1 parameter.</li>\n</ol>\n\n<pre class=\"lang-js prettyprint-override\"><code>function genericFunction&lt;T&gt;(value: T): T {\n    return value;\n}\n\n// type of val is Window\nlet val = genericFunction(window); \n</code></pre>\n\n\n\n<p>This works, there's no need to specify the type of T manually.</p>\n\n<ol start=\"2\">\n<li>a function with 2 generic parameters.</li>\n</ol>\n\n<pre class=\"lang-js prettyprint-override\"><code>function genericFunction2&lt;T&gt;(value: T, anotherValue: T) : T {\n    return value;\n}\n\n// type of val is String\nlet val = genericFunction2(\"b\", \"5\"); \n\n// compilation error type of T can't be inferred from usage\nlet anotherVal = genericFunction2(\"b\", 5); \n</code></pre>\n\n\n\n<p>This works, there's no need to specify the type of T manually.</p>\n\n<ol start=\"3\">\n<li>a function that receives a callback and a value.</li>\n</ol>\n\n<pre class=\"lang-js prettyprint-override\"><code>function callBackAndValue&lt;T&gt;(action: (value: T) =&gt; T, value: T): T {\n    return action(value);\n}\n\n// type of val is string\nlet val = callBackAndValue((value: string) =&gt; value + \"5\", \"abc \"); \n</code></pre>\n\n\n\n<p>This works, there's no need to specify the type of T manually.</p>\n\n<ol start=\"4\">\n<li>a function that receives a callback and a value but returns a promise.</li>\n</ol>\n\n<pre class=\"lang-js prettyprint-override\"><code>function callBackAndValueWithPromise&lt;T&gt;(action: (value: T) =&gt; T, value: T): Promise&lt;T&gt; {\n    return new Promise&lt;T&gt;((resolve, reject) =&gt; {\n        resolve(action(value));\n    });\n}\n\n// type of val is Promise&lt;string&gt;\nlet val = callBackAndValueWithPromise((value: string) =&gt; value + \"5\", \"abc \"); \n</code></pre>\n\n\n\n<p>This works, there's no need to specify the type of T manually.</p>\n\n<ol start=\"5\">\n<li>a function that receives only a function from T to T</li>\n</ol>\n\n<pre class=\"lang-js prettyprint-override\"><code>function onlyCallback&lt;T&gt;(action: () =&gt; T) : T {\n    return action();\n}\n\n// type of val is string\nlet val = onlyCallback(()=&gt; \"abc\"); \n</code></pre>\n\n\n\n<p>This works, there's no need to specify the type of T manually.</p>\n\n<ol start=\"6\">\n<li>A function that receives a function from nothing to T that returns a promise.</li>\n</ol>\n\n<pre class=\"lang-js prettyprint-override\"><code>function onlyCallbackWithPromise&lt;T&gt;(action: () =&gt; T): Promise&lt;T&gt; {\n    return new Promise&lt;T&gt;((resolve, reject) =&gt; { \n        resolve(action());\n    });\n}\n\n// the type of val is Promise&lt;string&gt;\nlet val = onlyCallbackWithPromise(()=&gt; \"abc\"); \n</code></pre>\n\n<p>\nThis works, there's no need to specify the type of T manually.</p>\n\n<ol start=\"7\">\n<li>A function that receives the a function that takes a function.  The case in the question.</li>\n</ol>\n\n<pre class=\"lang-js prettyprint-override\"><code>function typeFromCallbackOfCallback&lt;T&gt;(action: (callback: (value: T) =&gt; void) =&gt; void): Promise&lt;T&gt; {\n    return new Promise&lt;T&gt;((resolve, reject) =&gt; {\n        action((value) =&gt; {\n            resolve(value);\n        });\n    });\n}\n\n// here the compiler fails to infer the type cb should take as a parameter and it seems to default to object({})\n// type of Val is Promise&lt;{}&gt;\nlet val = typeFromCallbackOfCallback(cb =&gt; cb(\"abc\")); \n</code></pre>\n\n\n\n<p>This no longer works and needs the type to be specified manually.</p>\n\n<p>Since the compiler is limited at the moment I guess you are stuck having to specify the type for this case. That is the solution given in the handbook as well for the cases when type inference fails.</p>\n\n<p>Adding another parameter of type T fixes it, but It doesn't quite match your case.</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>function lastOne&lt;T&gt;(action: (callback: (value: T) =&gt; void) =&gt; void, b: T): Promise&lt;T&gt; {\n    return new Promise&lt;T&gt;((resolve, reject) =&gt; {\n        action((value) =&gt; {\n            resolve(value);\n        });\n    });\n}\n\n// type of var is Promise&lt;string&gt;\nlet var = lastOne(cb =&gt; cb(\"abc\"), \"a\");\n</code></pre>\n\n<p>\nThis works, there's no need to specify the type of T manually.</p>\n"}, {"comments": [{"owner": {"reputation": 25995, "user_id": 5152732, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-eL0xfQom3xQ/AAAAAAAAAAI/AAAAAAAAB1E/j1B2Mcgvt6M/photo.jpg?sz=128", "display_name": "toskv", "link": "https://stackoverflow.com/users/5152732/toskv"}, "edited": false, "score": 0, "creation_date": 1451566926, "post_id": 34546779, "comment_id": 56835299, "body": "it&#39;s just too deep for the compiler to get it. :("}], "tags": [], "owner": {"reputation": 36091, "user_id": 172029, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/74f4e470810c7368c3880be929c57408?s=128&d=identicon&r=PG", "display_name": "David Pfeffer", "link": "https://stackoverflow.com/users/172029/david-pfeffer"}, "is_accepted": false, "score": 1, "last_activity_date": 1451566299, "creation_date": 1451566299, "answer_id": 34546779, "question_id": 34531390, "link": "https://stackoverflow.com/questions/34531390/typescript-type-inference-issue/34546779#34546779", "title": "TypeScript type inference issue", "body": "<p>I was wrong, this doesn't work in C# either. Here's the example of the same code from TypeScript, written in C#, that does not work:</p>\n\n<pre><code>using System.IO;\nusing System;\nusing System.Threading.Tasks;\n\nclass Program\n{\n    static void Main()\n    {\n        Console.WriteLine(\"Hello, World!\");\n        var task = Wrapper(cb =&gt; FakeMongoFunctionWithCallback(5, cb));\n    }\n\n    static void FakeMongoFunctionWithCallback(int arg, Action&lt;Exception, int&gt; callback)\n    {\n        // just pass through the arg into the callback, pretending we went to a db and came back with that result\n        callback(null, arg);\n    }\n\n    static Task&lt;T&gt; Wrapper&lt;T&gt;(Action&lt;Action&lt;Exception, T&gt;&gt; action) {\n        var tcs = new TaskCompletionSource&lt;T&gt;();\n        action((err, res) =&gt; {\n            if (err != null) tcs.SetException(err);\n            else tcs.SetResult(res);\n        });\n\n        return tcs.Task;\n    } \n}\n</code></pre>\n"}], "owner": {"reputation": 36091, "user_id": 172029, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/74f4e470810c7368c3880be929c57408?s=128&d=identicon&r=PG", "display_name": "David Pfeffer", "link": "https://stackoverflow.com/users/172029/david-pfeffer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1067, "favorite_count": 1, "accepted_answer_id": 34533133, "answer_count": 2, "score": 5, "last_activity_date": 1451566299, "creation_date": 1451485582, "question_id": 34531390, "link": "https://stackoverflow.com/questions/34531390/typescript-type-inference-issue", "title": "TypeScript type inference issue", "body": "<p>I'm using TypeScript with the MongoDB node.js driver. Note, this is not a Mongo question, its just the particular use case of this issue I'm having.</p>\n\n<p>Pretty much every Mongo call uses a pattern of <code>(arg1, arg2, ..., argn, callback)</code> where <code>callback</code> is a function that accepts <code>(err, res)</code>. However, I want to use promises. I'm trying to simplify my usage by writing a helper wrapper function, like so:</p>\n\n<pre><code>function mongoWrap&lt;T&gt;(action: (callback: (err: Error, res: T) =&gt; void) =&gt; void) : q.IPromise&lt;T&gt;\n{\n    var promise = q.Promise&lt;T&gt;((resolve, reject) =&gt; {\n       action((err, res) =&gt; {\n           if (err) reject(err);\n           else resolve(res);\n       });\n    });\n\n    return promise;\n}\n</code></pre>\n\n<p>This works great, except that for some reason the compiler cannot infer the type of <code>T</code>. I have to make calls such as:</p>\n\n<pre><code>var dbPromise = mongoWrap&lt;mongodb.Db&gt;(cb =&gt; mongoClient.connect(\"mongodb://localhost:27017/database\", cb));\n</code></pre>\n\n<p>If I omit the <code>&lt;mongodb.Db&gt;</code> part, the result is <code>Promise&lt;{}&gt;</code> and I lose type safety. However, the compiler clearly knows that the <code>callback</code> argument to the Mongo call is <code>(err: Error, db: Db) =&gt; void</code>.</p>\n\n<p>What can I do to get the compiler to correctly infer the type of <code>T</code>?</p>\n"}, {"tags": ["javascript", "3d", "three.js", "typescript"], "comments": [{"owner": {"reputation": 2001, "user_id": 1774938, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eb762727487dba21da5af43b778e717a?s=128&d=identicon&r=PG", "display_name": "MacK", "link": "https://stackoverflow.com/users/1774938/mack"}, "edited": false, "score": 1, "creation_date": 1451566544, "post_id": 34531144, "comment_id": 56835165, "body": "Probably mrdoob or West Langley can shed some... ahem, light on this. My guess is that you can actually see an object interacting with the light source. You could try to attach the light on a box geometry and give the material an opacity of 0 so it will have a hitbox."}], "answers": [{"tags": [], "owner": {"reputation": 3272, "user_id": 901417, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/836ld.png?s=128&g=1", "display_name": "Mr_Pouet", "link": "https://stackoverflow.com/users/901417/mr-pouet"}, "is_accepted": true, "score": 1, "last_activity_date": 1451694453, "creation_date": 1451694453, "answer_id": 34561457, "question_id": 34531144, "link": "https://stackoverflow.com/questions/34531144/three-js-how-to-select-light-camera/34561457#34561457", "title": "Three.js - How to select light / camera", "body": "<p>You should definitely go with the invisible mesh solution.\nSimply set the <code>visible</code> property of your material to <code>false</code> and that will do the trick.</p>\n\n<p><a href=\"http://threejs.org/docs/#Reference/Materials/Material\" rel=\"nofollow\">http://threejs.org/docs/#Reference/Materials/Material</a></p>\n"}], "owner": {"reputation": 2786, "user_id": 3930694, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/6851423d47c488280e1f9037e2a84123?s=128&d=identicon&r=PG&f=1", "display_name": "Nicky", "link": "https://stackoverflow.com/users/3930694/nicky"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 122, "favorite_count": 1, "accepted_answer_id": 34561457, "answer_count": 1, "score": 1, "last_activity_date": 1451694453, "creation_date": 1451484554, "question_id": 34531144, "link": "https://stackoverflow.com/questions/34531144/three-js-how-to-select-light-camera", "title": "Three.js - How to select light / camera", "body": "<p>Question,</p>\n\n<p>In <a href=\"http://threejs.org/editor/\" rel=\"nofollow\">this</a> editor, it is possible to select a light or camera by clicking on it.\nI know how to get this working for meshes (<code>raycaster.intersectObjects(objects)</code>), but since lights and camera's do not have meshes, how would I go about selecting such objects on click?</p>\n\n<p>My thoughs were to implement some kind of box around it (say, a \"picker\") that is able to be hit by the raycaster by means of an invisible mesh?</p>\n\n<p>Any thoughts or references on this?<br>\nThank!</p>\n\n<p><em>NOTE: Answer written in TypeScript is preferred, but JavaScript is fine too!</em></p>\n"}, {"tags": ["function", "dictionary", "typescript", "factory", "enumeration"], "comments": [{"owner": {"reputation": 12389, "user_id": 1233508, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/93MDM.jpg?s=128&g=1", "display_name": "DCoder", "link": "https://stackoverflow.com/users/1233508/dcoder"}, "edited": false, "score": 1, "creation_date": 1451493140, "post_id": 34530122, "comment_id": 56808101, "body": "This is mostly correct, but in your type definition <code>() =&gt; {}</code> says &quot;this is a function that takes zero parameters and returns a <code>{}</code>&quot;. You might want to change that return type to something more specific than <code>{}</code>, but note that you can&#39;t specify different return types for individual indices."}, {"owner": {"reputation": 196, "user_id": 5387814, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vCzBy.jpg?s=128&g=1", "display_name": "Andi Emma Davies", "link": "https://stackoverflow.com/users/5387814/andi-emma-davies"}, "reply_to_user": {"reputation": 12389, "user_id": 1233508, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/93MDM.jpg?s=128&g=1", "display_name": "DCoder", "link": "https://stackoverflow.com/users/1233508/dcoder"}, "edited": false, "score": 0, "creation_date": 1451555782, "post_id": 34530122, "comment_id": 56830607, "body": "Thanks, @DCoder, I believe that&#39;s what I was missing! Could you put that in an answer and I&#39;ll mark it as accepted?"}], "answers": [{"tags": [], "owner": {"reputation": 12389, "user_id": 1233508, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/93MDM.jpg?s=128&g=1", "display_name": "DCoder", "link": "https://stackoverflow.com/users/1233508/dcoder"}, "is_accepted": true, "score": 3, "last_activity_date": 1451562524, "creation_date": 1451562524, "answer_id": 34546076, "question_id": 34530122, "link": "https://stackoverflow.com/questions/34530122/is-it-possible-to-declare-and-call-a-dictionary-of-functions-in-typescript/34546076#34546076", "title": "Is it possible to declare and call a dictionary of functions in TypeScript?", "body": "<p>Your code is mostly correct and this approach will work, but there's one thing that can be improved:</p>\n\n<blockquote>\n<pre><code>// Here, I'm trying to declare a dictionary where the key is a number and the value is a\n// function\nvar ElementFactory: { [elementType: number]: () =&gt; {}; };\n</code></pre>\n</blockquote>\n\n<p>In a type definition, <code>() =&gt; {}</code> means \"a function that takes zero parameters and returns a <code>{}</code>\". You can modify the return type here to be more specific, but unfortunately you will still need to manually express the type of the returned values whenever you call these factory functions. For example, you can do this:</p>\n\n<pre><code>type AnyElementType = ElementOfTypeA | ElementOfTypeB | ElementOfTypeC;\n\nvar ElementFactory: { [elementType: number]: () =&gt; AnyElementType; };\n\n...\n\n// this type declaration will not work\nvar a: ElementOfTypeA = ElementFactory[ElementType.TypeA]();\n\n// but these will\nvar b = &lt;ElementOfTypeB&gt;ElementFactory[ElementType.TypeB]();\nvar c = ElementFactory[ElementType.TypeC]() as ElementOfTypeC;\n</code></pre>\n"}], "owner": {"reputation": 196, "user_id": 5387814, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vCzBy.jpg?s=128&g=1", "display_name": "Andi Emma Davies", "link": "https://stackoverflow.com/users/5387814/andi-emma-davies"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3000, "favorite_count": 0, "accepted_answer_id": 34546076, "answer_count": 1, "score": 3, "last_activity_date": 1584963663, "creation_date": 1451480667, "last_edit_date": 1495542683, "question_id": 34530122, "link": "https://stackoverflow.com/questions/34530122/is-it-possible-to-declare-and-call-a-dictionary-of-functions-in-typescript", "title": "Is it possible to declare and call a dictionary of functions in TypeScript?", "body": "<p>I'm doing a bit of refactoring and was wondering whether it's possible to declare and initialise a dictionary of factory functions, keyed on an enumerator, such that it can be used as a lookup for factory functions which can then be called? Or, alternatively, whether I'm going the wrong way about this and am missing a more elegant solution. I followed <a href=\"https://stackoverflow.com/a/15879330/5387814\">this answer</a> to declare and initialise a typed dictionary but I'm unsure as to whether I've declared the signature correct or not, such that the key is a number and the value is a function. I've simplified my code into a very generic example - I'm aware it's rather contrived but the intent is much clearer this way.</p>\n\n<pre><code>// Types are enumerated as I have several different lists of types which I'd like to\n// implement as an array of enumerators\nenum ElementType {\n    TypeA,\n    TypeB,\n    TypeC\n}\n\n// Here, I'm trying to declare a dictionary where the key is a number and the value is a\n// function\nvar ElementFactory: { [elementType: number]: () =&gt; {}; };\n\n// Then I'm trying to declare these factory functions to return new objects\nElementFactory[ElementType.TypeA] = () =&gt; new ElementOfTypeA();\nElementFactory[ElementType.TypeB] = () =&gt; new ElementOfTypeB();\nElementFactory[ElementType.TypeC] = () =&gt; new ElementOfTypeC();\n\n// And finally I'd like to be able to call this function like so such that they return\n// instantiated objects as declared in the code block above\nvar a = ElementFactory[ElementType.TypeA]();\nvar b = ElementFactory[ElementType.TypeB]();\nvar c = ElementFactory[ElementType.TypeC]();\n</code></pre>\n"}, {"tags": ["typescript", "angular"], "answers": [{"comments": [{"owner": {"reputation": 385, "user_id": 3467552, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gmPzx.jpg?s=128&g=1", "display_name": "Mahisha", "link": "https://stackoverflow.com/users/3467552/mahisha"}, "edited": false, "score": 2, "creation_date": 1451481388, "post_id": 34529928, "comment_id": 56801780, "body": "Thanks  @toskv It worked. Actually <code>this</code> reference was not working inside <code>setTimeout</code> function. For that I had to use <code>that</code> and <code>this</code> as given at <a href=\"http://plnkr.co/edit/RhYhVS84wnOdPuhYUG1E?p=preview\" rel=\"nofollow noreferrer\">Updated Plunkr Code</a>"}, {"owner": {"reputation": 716, "user_id": 5571541, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d9a425e746bc9014310ebb23f0ce9856?s=128&d=identicon&r=PG&f=1", "display_name": "Romain", "link": "https://stackoverflow.com/users/5571541/romain"}, "edited": false, "score": 12, "creation_date": 1451488323, "post_id": 34529928, "comment_id": 56805489, "body": "You should use arrow function. They allow you to use the <b><i>this</i></b> keyword without having to store it in another variable. (eg: <code>setTimeout(() =&gt; { this.n += 10; }, 1000);</code>"}, {"owner": {"reputation": 25995, "user_id": 5152732, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-eL0xfQom3xQ/AAAAAAAAAAI/AAAAAAAAB1E/j1B2Mcgvt6M/photo.jpg?sz=128", "display_name": "toskv", "link": "https://stackoverflow.com/users/5152732/toskv"}, "edited": false, "score": 0, "creation_date": 1451491021, "post_id": 34529928, "comment_id": 56806943, "body": "I updated the answer to use an arrow function so this works fine in setTimeout as well. :)"}, {"owner": {"reputation": 385, "user_id": 3467552, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gmPzx.jpg?s=128&g=1", "display_name": "Mahisha", "link": "https://stackoverflow.com/users/3467552/mahisha"}, "reply_to_user": {"reputation": 716, "user_id": 5571541, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d9a425e746bc9014310ebb23f0ce9856?s=128&d=identicon&r=PG&f=1", "display_name": "Romain", "link": "https://stackoverflow.com/users/5571541/romain"}, "edited": false, "score": 0, "creation_date": 1451494080, "post_id": 34529928, "comment_id": 56808643, "body": "@Romain, Thanks for the arrow function. It is really useful in this."}, {"owner": {"reputation": 184, "user_id": 13146415, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/tO6Zs.png?s=128&g=1", "display_name": "gerstams", "link": "https://stackoverflow.com/users/13146415/gerstams"}, "edited": false, "score": 1, "creation_date": 1586411097, "post_id": 34529928, "comment_id": 108118916, "body": "Eventually, try to move the code into Angulars ngOnInit lifecycle hook to keep the constructor clean. That makes testing a lot easier."}], "tags": [], "owner": {"reputation": 25995, "user_id": 5152732, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-eL0xfQom3xQ/AAAAAAAAAAI/AAAAAAAAB1E/j1B2Mcgvt6M/photo.jpg?sz=128", "display_name": "toskv", "link": "https://stackoverflow.com/users/5152732/toskv"}, "is_accepted": true, "score": 88, "last_activity_date": 1586410677, "last_edit_date": 1586410677, "creation_date": 1451479967, "answer_id": 34529928, "question_id": 34529557, "link": "https://stackoverflow.com/questions/34529557/angular2-typescript-increment-a-number-after-timeout-in-appcomponent/34529928#34529928", "title": "Angular2 - TypeScript : Increment a number after timeout in AppComponent", "body": "<p>This is not valid TypeScript code. You can not have method invocations in the body of a class.</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>// INVALID CODE\nexport class AppComponent {\n  public n: number = 1;\n  setTimeout(function() {\n    n = n + 10;\n  }, 1000);\n}\n</code></pre>\n\n\n\n<p>Instead move the <code>setTimeout</code> call to the <code>constructor</code> of the class. Additionally, use the arrow function <code>=&gt;</code> to gain access to <code>this</code>.</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>export class AppComponent {\n  public n: number = 1;\n\n  constructor() {\n    setTimeout(() =&gt; {\n      this.n = this.n + 10;\n    }, 1000);\n  }\n\n}\n</code></pre>\n\n\n\n<p>In TypeScript, you can only refer to class properties or methods via <code>this</code>. That's why the arrow function <code>=&gt;</code> is important.</p>\n"}, {"tags": [], "owner": {"reputation": 181833, "user_id": 1873365, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/45TMV.png?s=128&g=1", "display_name": "Thierry Templier", "link": "https://stackoverflow.com/users/1873365/thierry-templier"}, "is_accepted": false, "score": 7, "last_activity_date": 1519646591, "last_edit_date": 1519646591, "creation_date": 1451479988, "answer_id": 34529934, "question_id": 34529557, "link": "https://stackoverflow.com/questions/34529557/angular2-typescript-increment-a-number-after-timeout-in-appcomponent/34529934#34529934", "title": "Angular2 - TypeScript : Increment a number after timeout in AppComponent", "body": "<p>You should put your processing into the class constructor or an <code>OnInit</code> hook method.</p>\n"}], "owner": {"reputation": 385, "user_id": 3467552, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gmPzx.jpg?s=128&g=1", "display_name": "Mahisha", "link": "https://stackoverflow.com/users/3467552/mahisha"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 147391, "favorite_count": 6, "accepted_answer_id": 34529928, "answer_count": 2, "score": 37, "last_activity_date": 1586410677, "creation_date": 1451478400, "last_edit_date": 1451479469, "question_id": 34529557, "link": "https://stackoverflow.com/questions/34529557/angular2-typescript-increment-a-number-after-timeout-in-appcomponent", "title": "Angular2 - TypeScript : Increment a number after timeout in AppComponent", "body": "<p>I want to create a simple <code>Angular2</code> Application using <code>TypeScript</code>. Seems, pretty simple, but I am not able to achieve what I wanted to.</p>\n\n<p>I want to show a property value in the template. And I want to update the same after 1 second using setTimeout.</p>\n\n<p>Plunkr Code is here : <a href=\"http://plnkr.co/edit/RhYhVS84wnOdPuhYUG1E?p=preview\">Code on Plunkr</a></p>\n\n<p>What I wrote is here :</p>\n\n<pre><code>import {Component} from 'angular2/core';\n\ninterface Hero {\n  id: number;\n  name: string;\n}\n\n@Component({\n  selector: 'my-app',\n  template:`&lt;h1&gt;Number Increment&lt;/h1&gt;&lt;p&gt;{{n}}&lt;/p&gt;`\n})\nexport class AppComponent {\n  public n : number = 1;\n  setTimeout(function() {\n    n = n + 10;\n  }, 1000);\n}    \n</code></pre>\n\n<p>When I use this code I am getting following error : </p>\n\n<pre><code>Uncaught SyntaxError: Unexpected token ;\n</code></pre>\n\n<p>Why I am not able to access <code>n</code>, which is in the same scope as we used to do in JavaScript. If I am not wrong, we can use pure JavaScript too in TypeScript.</p>\n\n<p>I even tried </p>\n\n<pre><code>export class AppComponent {\n  public n : number = 1;\n  console.log(n);\n}\n</code></pre>\n\n<p>But I am not able to see the value of <code>n</code> in the console.</p>\n\n<p>When I tried</p>\n\n<pre><code>export class AppComponent {\n  public n : number = 1;\n  console.log(this);\n}\n</code></pre>\n\n<p>I am getting same error as above. Why cant we access this in this place. I guess, <code>this</code> refers to the current context as in JavaScript.</p>\n\n<p>Thanks in advance.</p>\n"}, {"tags": ["javascript", "angularjs", "typescript", "angular-ui-router", "definitelytyped"], "answers": [{"comments": [{"owner": {"reputation": 3566, "user_id": 3810154, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/MMtcc.jpg?s=128&g=1", "display_name": "Monfa.red", "link": "https://stackoverflow.com/users/3810154/monfa-red"}, "edited": false, "score": 0, "creation_date": 1464443182, "post_id": 34528711, "comment_id": 62494486, "body": "Why? I hate brackets notation, it&#39;s ugly to me. Can I disable that?"}], "tags": [], "owner": {"reputation": 617, "user_id": 1455831, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6a0ea1726a1becccb8c86ab42642fe87?s=128&d=identicon&r=PG", "display_name": "Ethnar", "link": "https://stackoverflow.com/users/1455831/ethnar"}, "is_accepted": true, "score": 6, "last_activity_date": 1451475169, "creation_date": 1451475169, "answer_id": 34528711, "question_id": 34528591, "link": "https://stackoverflow.com/questions/34528591/typescript-build-error-property-does-not-exist-on-type-istateparamsservice/34528711#34528711", "title": "TypeScript Build Error : Property does not exist on type &#39;IStateParamsService&#39;", "body": "<p>Typescript prefers to work on maps explicitly through brackets notation [].</p>\n\n<p>If you want to get a field out of a map-like object you should use square brackets instead of dot notation:</p>\n\n<pre><code>if (this.param['courseId'] === \"00000....0000\") {\n  //.. rest of the code\n</code></pre>\n\n<p>That should solve the immediate issue you're facing.</p>\n"}], "owner": {"reputation": 3634, "user_id": 326597, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/a89a914f0c1801bd2b42f7d0d6936499?s=128&d=identicon&r=PG", "display_name": "Foyzul Karim", "link": "https://stackoverflow.com/users/326597/foyzul-karim"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1354, "favorite_count": 0, "accepted_answer_id": 34528711, "answer_count": 1, "score": 2, "last_activity_date": 1451475169, "creation_date": 1451474778, "question_id": 34528591, "link": "https://stackoverflow.com/questions/34528591/typescript-build-error-property-does-not-exist-on-type-istateparamsservice", "title": "TypeScript Build Error : Property does not exist on type &#39;IStateParamsService&#39;", "body": "<p>I am using TypeScript almost entire of my client project. Currently I am facing a technical problem. </p>\n\n<p>In my HTML, I have an anchor tag like below : </p>\n\n<pre><code>    &lt;a class=\"btn btn-default mrm\" ui-sref=\"course-detail({courseId: '{{c.Id}}'})\"&gt;Details&lt;/a&gt;\n</code></pre>\n\n<p>In my course detail controller, I am getting the values in the stateparam variable. But if I want to access my 'courseId' from that variable, it is giving me build error. Please check the image below.</p>\n\n<p><a href=\"https://i.stack.imgur.com/PNpcD.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/PNpcD.png\" alt=\"TypeScript Code with Build Error\"></a></p>\n\n<p>But if I remove the IF block, then I am getting the log in the developer console like below. </p>\n\n<p><a href=\"https://i.stack.imgur.com/0bZud.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/0bZud.png\" alt=\"Console Log by commenting the build error code\"></a></p>\n\n<p>I must get the course Id property and value to proceed. Otherwise I need to code this controller in pure angularjs which I don't want. Thanks. </p>\n"}, {"tags": ["angularjs", "typescript"], "comments": [{"owner": {"reputation": 25995, "user_id": 5152732, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-eL0xfQom3xQ/AAAAAAAAAAI/AAAAAAAAB1E/j1B2Mcgvt6M/photo.jpg?sz=128", "display_name": "toskv", "link": "https://stackoverflow.com/users/5152732/toskv"}, "edited": false, "score": 0, "creation_date": 1451473698, "post_id": 34528238, "comment_id": 56797662, "body": "could you post the entire html tag where you use it?"}, {"owner": {"reputation": 40088, "user_id": 205270, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/Q5hW8.jpg?s=128&g=1", "display_name": "demas", "link": "https://stackoverflow.com/users/205270/demas"}, "reply_to_user": {"reputation": 25995, "user_id": 5152732, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-eL0xfQom3xQ/AAAAAAAAAAI/AAAAAAAAB1E/j1B2Mcgvt6M/photo.jpg?sz=128", "display_name": "toskv", "link": "https://stackoverflow.com/users/5152732/toskv"}, "edited": false, "score": 0, "creation_date": 1451473875, "post_id": 34528238, "comment_id": 56797753, "body": "do you mean the directive template or HTML which I will get from my Jade? I have added both of them to my question"}, {"owner": {"reputation": 779, "user_id": 2420357, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3686fb3d4891224027284f19a6ed95a9?s=128&d=identicon&r=PG", "display_name": "FlorianTopf", "link": "https://stackoverflow.com/users/2420357/floriantopf"}, "edited": false, "score": 0, "creation_date": 1451474175, "post_id": 34528238, "comment_id": 56797926, "body": "You are not supplying a function to the attribute <code>dm-action</code>. The <code>console.log</code> is not a function, so how this should be called with <code>dmAction()</code> afterwards?"}, {"owner": {"reputation": 40088, "user_id": 205270, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/Q5hW8.jpg?s=128&g=1", "display_name": "demas", "link": "https://stackoverflow.com/users/205270/demas"}, "edited": false, "score": 0, "creation_date": 1451474433, "post_id": 34528238, "comment_id": 56798065, "body": "I have updated my question.  I was trying to pass controller&#39;s function before and it didn&#39;t work for me."}, {"owner": {"reputation": 40088, "user_id": 205270, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/Q5hW8.jpg?s=128&g=1", "display_name": "demas", "link": "https://stackoverflow.com/users/205270/demas"}, "reply_to_user": {"reputation": 25995, "user_id": 5152732, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-eL0xfQom3xQ/AAAAAAAAAAI/AAAAAAAAB1E/j1B2Mcgvt6M/photo.jpg?sz=128", "display_name": "toskv", "link": "https://stackoverflow.com/users/5152732/toskv"}, "edited": false, "score": 0, "creation_date": 1451474899, "post_id": 34528238, "comment_id": 56798288, "body": "@toskv, I have added debugger screenshots. May be it will help to find the problem."}, {"owner": {"reputation": 40088, "user_id": 205270, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/Q5hW8.jpg?s=128&g=1", "display_name": "demas", "link": "https://stackoverflow.com/users/205270/demas"}, "reply_to_user": {"reputation": 25995, "user_id": 5152732, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-eL0xfQom3xQ/AAAAAAAAAAI/AAAAAAAAB1E/j1B2Mcgvt6M/photo.jpg?sz=128", "display_name": "toskv", "link": "https://stackoverflow.com/users/5152732/toskv"}, "edited": false, "score": 1, "creation_date": 1451475108, "post_id": 34528238, "comment_id": 56798393, "body": "@toskv, I have find the problem.  I need to add <code>;</code>. So <code>dm-action=&quot;vm.foo()&quot;</code> should be <code>dm-action=&quot;vm.foo();&quot;</code>.  Thanks"}], "answers": [{"comments": [{"owner": {"reputation": 40088, "user_id": 205270, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/Q5hW8.jpg?s=128&g=1", "display_name": "demas", "link": "https://stackoverflow.com/users/205270/demas"}, "edited": false, "score": 0, "creation_date": 1451474437, "post_id": 34528469, "comment_id": 56798067, "body": "I have updated my question.  I was trying to pass controller&#39;s function before and it didn&#39;t work for me."}, {"owner": {"reputation": 40088, "user_id": 205270, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/Q5hW8.jpg?s=128&g=1", "display_name": "demas", "link": "https://stackoverflow.com/users/205270/demas"}, "edited": false, "score": 0, "creation_date": 1451474906, "post_id": 34528469, "comment_id": 56798289, "body": "I have added debugger screenshots. May be it will help to find the problem."}, {"owner": {"reputation": 40088, "user_id": 205270, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/Q5hW8.jpg?s=128&g=1", "display_name": "demas", "link": "https://stackoverflow.com/users/205270/demas"}, "edited": false, "score": 0, "creation_date": 1451475091, "post_id": 34528469, "comment_id": 56798378, "body": "I have find the problem.  I need to add <code>;</code>. So <code>dm-action=&quot;vm.foo()&quot;</code> should be <code>dm-action=&quot;vm.foo();&quot;</code>"}], "tags": [], "owner": {"reputation": 617, "user_id": 1455831, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6a0ea1726a1becccb8c86ab42642fe87?s=128&d=identicon&r=PG", "display_name": "Ethnar", "link": "https://stackoverflow.com/users/1455831/ethnar"}, "is_accepted": true, "score": 2, "last_activity_date": 1451474260, "creation_date": 1451474260, "answer_id": 34528469, "question_id": 34528238, "link": "https://stackoverflow.com/questions/34528238/pass-function-to-directive/34528469#34528469", "title": "Pass function to directive", "body": "<p>The problem here is that you're passing to the directive an expression <code>console.log('hello');</code> that will be executed on parent controller scope.</p>\n\n<p>This basically means you'd need to have <code>console</code> object attached to scope and under that object a method <code>log</code>. Angular expressions don't work with globals (<code>console</code> in this case) automatically.</p>\n\n<p>Simply ensure that the expression you pass to the directive is a valid angular expression and that should work. For example - create new method on app scope called <code>myConsoleLog</code> that prints something to the console and change the attribute value for the directive to <code>dm-action=\"myConsoleLog();\"</code></p>\n"}], "owner": {"reputation": 40088, "user_id": 205270, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/Q5hW8.jpg?s=128&g=1", "display_name": "demas", "link": "https://stackoverflow.com/users/205270/demas"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 337, "favorite_count": 0, "accepted_answer_id": 34528469, "answer_count": 1, "score": 0, "last_activity_date": 1451474656, "creation_date": 1451473432, "last_edit_date": 1451474656, "question_id": 34528238, "link": "https://stackoverflow.com/questions/34528238/pass-function-to-directive", "title": "Pass function to directive", "body": "<p>Here is my directive:</p>\n\n<pre><code>module app.directives {\n\n    interface IDmDeleteIconController {\n        doAction(): void;\n    }\n\n    class DmDeleteIconController implements IDmDeleteIconController {\n\n        static $inject = ['$scope'];\n        constructor(public $scope:any) {\n        }\n\n        doAction() {\n            console.log('1');\n            this.$scope.dmAction();\n        }\n    }\n\n    export class DmDeleteIcon implements ng.IDirective {\n\n        templateUrl = './app/common/directives/deleteIcon/deleteIcon.html';\n        controller = DmDeleteIconController;\n        controllerAs = 'dmDeleteIconVm';\n\n        scope = {\n            dmAction: '&amp;'\n        };\n\n        link = (scope: any, element: ng.IAugmentedJQuery, attrs: ng.IAttributes, ctrl: any) =&gt; {\n            console.log('2');\n            scope.dmAction();\n        }\n\n        static factory(): ng.IDirectiveFactory {\n            const directive = () =&gt; new DmDeleteIcon();\n            directive.$inject = [];\n            return directive;\n        }\n    }\n\n    angular.module('myApp').directive('dmDeleteIcon', DmDeleteIcon.factory());\n}\n</code></pre>\n\n<p>Here I am trying to use it:</p>\n\n<pre><code>dm-delete-icon(dm-action=\"console.log('hello');\")\n</code></pre>\n\n<p>When I am open page I'll get <code>2</code> in the console (from <code>link</code> function), but I don't get the <code>hello</code> from the function I have passed to directive.</p>\n\n<p>Why and how can I fix it?</p>\n\n<p><em>Update:</em>  </p>\n\n<p>Here is a directive template:</p>\n\n<pre><code>a.item-detail-delete-icon(class=\"form-image-link\" href=\"\" ng-click=\"dmDeleteIconVm.doAction()\")\n</code></pre>\n\n<p>Here is HTML to which my Jade compile:</p>\n\n<pre><code>&lt;dm-delete-icon dm-action=\"console.log('hello');\"&gt;&lt;/dm-delete-icon&gt;\n</code></pre>\n\n<p><strong>Update 2:</strong></p>\n\n<p>I was trying to use it like this:</p>\n\n<pre><code>&lt;dm-delete-icon dm-action=\"vm.foo()\"&gt;&lt;/dm-delete-icon&gt;\n</code></pre>\n\n<p>where:</p>\n\n<pre><code>    foo(): void {\n        console.log(\"hello\");       \n    }\n</code></pre>\n\n<p>the function in the controller.</p>\n\n<p><strong>Update 3:</strong></p>\n\n<p>If I am trying to debug this code I will get this:</p>\n\n<p><a href=\"https://i.stack.imgur.com/2eOgk.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/2eOgk.png\" alt=\"enter image description here\"></a></p>\n\n<p><a href=\"https://i.stack.imgur.com/kKERj.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/kKERj.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["angular", "typescript", "parse-platform", "tsd"], "answers": [{"comments": [{"owner": {"reputation": 1834, "user_id": 1533368, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/QXzmg.jpg?s=128&g=1", "display_name": "Samarth Agarwal", "link": "https://stackoverflow.com/users/1533368/samarth-agarwal"}, "edited": false, "score": 0, "creation_date": 1474349838, "post_id": 34537761, "comment_id": 66482352, "body": "I am stuck with Parse in Angular2. Can you please share your basic code. I am getting errors while trying to import &#39;parse&#39; module."}], "tags": [], "owner": {"reputation": 3390, "user_id": 897465, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/42c4b6ba27c6748d5eb4038af331b71a?s=128&d=identicon&r=PG&f=1", "display_name": "netigger", "link": "https://stackoverflow.com/users/897465/netigger"}, "is_accepted": true, "score": 1, "last_activity_date": 1451512112, "last_edit_date": 1492086990, "creation_date": 1451512112, "answer_id": 34537761, "question_id": 34528184, "link": "https://stackoverflow.com/questions/34528184/using-parse-with-angular2-typescript/34537761#34537761", "title": "Using Parse with Angular2 (TypeScript)", "body": "<p>The reason I got this was that there was to many watches (inotify) in the filsystem. See <a href=\"https://unix.stackexchange.com/questions/13751/kernel-inotify-watch-limit-reached%E2%80%8C%E2%80%8B\">https://unix.stackexchange.com/questions/13751/kernel-inotify-watch-limit-reached%E2%80%8C%E2%80%8B</a> for how to increment the maximun number of watches!</p>\n"}], "owner": {"reputation": 3390, "user_id": 897465, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/42c4b6ba27c6748d5eb4038af331b71a?s=128&d=identicon&r=PG&f=1", "display_name": "netigger", "link": "https://stackoverflow.com/users/897465/netigger"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1409, "favorite_count": 1, "accepted_answer_id": 34537761, "answer_count": 1, "score": 0, "last_activity_date": 1513349580, "creation_date": 1451473270, "last_edit_date": 1513349580, "question_id": 34528184, "link": "https://stackoverflow.com/questions/34528184/using-parse-with-angular2-typescript", "title": "Using Parse with Angular2 (TypeScript)", "body": "<p>(Yes, I know angular2 is beta, but I'm just trying it out)</p>\n\n<p>I've followed the angular2 quickstart here: <a href=\"https://angular.io/docs/js/latest/quickstart.html\" rel=\"nofollow\">https://angular.io/docs/js/latest/quickstart.html</a></p>\n\n<p>And that's working fine. Now I want to try to use it with Parse, so I found out tsd was probably the way to go to access Parse from TypeScript.</p>\n\n<p>I went on and did:</p>\n\n<pre><code>tsd init\ntsd install parse --save\n</code></pre>\n\n<p>It added Parse (parse.d.ts) + its dependencies (node.d.ts, jquery.d.ts and underscore.d.ts.</p>\n\n<p>Now, the node.d.ts part was abit problematic since angular2 already had this added, so each definition was duplicated, I tried to solve this by:</p>\n\n<pre><code>Remove \"typings/node\" folder (node/node.d.ts)\nRemove '/// &lt;reference path=\"node/noded.ts\" /&gt;' from typings/tsd.d.ts\nRemove '/// &lt;reference path=\"node/noded.ts\" /&gt;' from typings/parse/parse.d.ts\n</code></pre>\n\n<p>I figured, this will work since node.d.ts is available already, right?</p>\n\n<p>Well, it's not working and I have no clue why. I get an error <code>node_modules/angular2/typings/angular-protractor/angular-protractor.d.ts(1679,13): error TS2403: Subsequent variable declarations must have the same type.  Variable '$' must be of type 'JQueryStatic', but here has type 'cssSelectorHelper'.</code> But this is not the main problem, because it looks like proceeds after that.</p>\n\n<p>This is what makes <code>npm start</code> \"crash\":</p>\n\n<pre><code>[1] events.js:141\n[1]       throw er; // Unhandled 'error' event\n[1]       ^\n[1] \n[1] Error: watch node_modules/angular2/es6/dev/examples/core/ts/bootstrap/bootstrap.js ENOSPC\n[1]     at exports._errnoException (util.js:855:11)\n[1]     at FSWatcher.start (fs.js:1313:19)\n[1]     at Object.fs.watch (fs.js:1341:11)\n[1]     at createFsWatchInstance (/home/david/repo/angular2-toodeloo/node_modules/chokidar/lib/nodefs-handler.js:37:15)\n[1]     at setFsWatchListener (/home/david/repo/angular2-toodeloo/node_modules/chokidar/lib/nodefs-handler.js:80:15)\n[1]     at FSWatcher.NodeFsHandler._watchWithNodeFs (/home/david/repo/angular2-toodeloo/node_modules/chokidar/lib/nodefs-handler.js:228:14)\n[1]     at FSWatcher.NodeFsHandler._handleFile (/home/david/repo/angular2-toodeloo/node_modules/chokidar/lib/nodefs-handler.js:255:21)\n[1]     at FSWatcher.&lt;anonymous&gt; (/home/david/repo/angular2-toodeloo/node_modules/chokidar/lib/nodefs-handler.js:473:21)\n[1]     at FSReqWrap.oncomplete (fs.js:82:15)\n</code></pre>\n\n<p>Full output can be found here: <a href=\"http://pastebin.com/xE3u3qUh\" rel=\"nofollow\">http://pastebin.com/xE3u3qUh</a></p>\n\n<p><em>UPDATE</em></p>\n\n<p>I relized the error above was in the angular2 examples, so I removed the examples and got rid of the error. But when I did \"npm install parse\", the error was back, but in another place.. This time: <code>Error: watch node_modules/opt-merger/node_modules/lodash/lang/isFunction.js ENOSPC</code></p>\n"}, {"tags": ["typescript", "this"], "answers": [{"comments": [{"owner": {"reputation": 197, "user_id": 115082, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/a583bda4ac8e895e65b4c7aecf406ffe?s=128&d=identicon&r=PG", "display_name": "Noam", "link": "https://stackoverflow.com/users/115082/noam"}, "edited": false, "score": 0, "creation_date": 1451495568, "post_id": 34527340, "comment_id": 56809466, "body": "Thanks. Can someone explain, or point me to an explanation, why this solution works. why does the arrow function change the scope."}, {"owner": {"reputation": 25995, "user_id": 5152732, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-eL0xfQom3xQ/AAAAAAAAAAI/AAAAAAAAB1E/j1B2Mcgvt6M/photo.jpg?sz=128", "display_name": "toskv", "link": "https://stackoverflow.com/users/5152732/toskv"}, "reply_to_user": {"reputation": 197, "user_id": 115082, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/a583bda4ac8e895e65b4c7aecf406ffe?s=128&d=identicon&r=PG", "display_name": "Noam", "link": "https://stackoverflow.com/users/115082/noam"}, "edited": false, "score": 0, "creation_date": 1451495790, "post_id": 34527340, "comment_id": 56809606, "body": "This might help clear some things. <a href=\"http://stackoverflow.com/questions/3127429/how-does-the-this-keyword-work\" title=\"how does the this keyword work\">stackoverflow.com/questions/3127429/&hellip;</a>"}], "tags": [], "owner": {"reputation": 25995, "user_id": 5152732, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-eL0xfQom3xQ/AAAAAAAAAAI/AAAAAAAAB1E/j1B2Mcgvt6M/photo.jpg?sz=128", "display_name": "toskv", "link": "https://stackoverflow.com/users/5152732/toskv"}, "is_accepted": true, "score": 4, "last_activity_date": 1451470201, "creation_date": 1451470201, "answer_id": 34527340, "question_id": 34527198, "link": "https://stackoverflow.com/questions/34527198/reading-a-local-file-with-typescript-and-the-this-object/34527340#34527340", "title": "Reading a local file with typescript, and the &#39;this&#39; object", "body": "<p>In ES6 and TypeScript even for class methods the regular function rules for this still apply.</p>\n\n<p>In the <strong>start</strong> method you are sending a reference to the <strong>readSingleFile</strong> function as the callback for the change event.That function will later get called in the input field's context thus changing what <strong>this</strong> points to.</p>\n\n<p>Try using an arrow function instead to preserve the same context.</p>\n\n<pre class=\"lang-js prettyprint-override\"><code> start() {\n   document.getElementById(\"file-input\").addEventListener(\"change\", e =&gt; {\n     this.readSingleFile(e); // this should now be FileTools\n   }, false);\n }\n</code></pre>\n\n\n"}], "owner": {"reputation": 197, "user_id": 115082, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/a583bda4ac8e895e65b4c7aecf406ffe?s=128&d=identicon&r=PG", "display_name": "Noam", "link": "https://stackoverflow.com/users/115082/noam"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 12947, "favorite_count": 0, "accepted_answer_id": 34527340, "answer_count": 1, "score": 4, "last_activity_date": 1451470201, "creation_date": 1451469680, "question_id": 34527198, "link": "https://stackoverflow.com/questions/34527198/reading-a-local-file-with-typescript-and-the-this-object", "title": "Reading a local file with typescript, and the &#39;this&#39; object", "body": "<p>I am writing a TypeScript browser application. I need to read the contents of an XML file, and store it in a class.  I am having issues with the 'this' object. Here is what I have so far:</p>\n\n<pre><code>class FileTools {\n  text: string;\n\n  readSingleFile(e) {\n    var fileName = e.target.files[0];\n    if (!fileName) {\n        return;\n    }\n    var reader = new FileReader();\n    reader.onload = file =&gt; {\n        var contents: any = file.target;\n        this.text = contents.result; &lt;== Issue here. 'this' is the filereader\n    };\n    reader.readAsText(fileName);\n}\n\n  start() {\n    document.getElementById(\"file-input\").addEventListener(\"change\", this.readSingleFile, false);\n  }\n}\n\nwindow.onload = () =&gt; {\n  var tcx = new FileTools();\n  tcx.start();\n};\n</code></pre>\n\n<p>The HTML has a file selection box\n    input type=\"file\" id=\"file-input\"</p>\n\n<p>The issue is that when the file is loaded, using the 'this' points to the file reader, not to my class. If I add a 'self' variable first like this:</p>\n\n<pre><code>  readSingleFile(e) {\n    var fileName = e.target.files[0];\n    if (!fileName) {\n        return;\n    }\n    var reader = new FileReader();\n    var self = this;\n    reader.onload = file =&gt; {\n        var contents: any = file.target;\n        self.text = contents.result; &lt;== Issue here. 'this' is the filereader\n    };\n    reader.readAsText(fileName);\n}\n</code></pre>\n\n<p>then self points to the input box (as that is the context of the outer method).</p>\n\n<p>So the question is, how do I get the real 'this' object for the FileTools reference.</p>\n\n<p>Thanks.</p>\n"}, {"tags": ["typescript", "redux", "immutable.js"], "comments": [{"owner": {"reputation": 4153, "user_id": 2701144, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/q4rsA.jpg?s=128&g=1", "display_name": "Brett", "link": "https://stackoverflow.com/users/2701144/brett"}, "edited": false, "score": 1, "creation_date": 1452183014, "post_id": 34526239, "comment_id": 57064993, "body": "Your API data is normalized as it should be and it <b>is</b> the state of your application. You simply <i>have to</i> map the participant ID to the respective user entity if you want the data to be useful. You seem to be reaching for a different answer than the one concluded in the discussion you linked, but I do not think you will find a better one. As Dan Abramov said, &quot;<a href=\"http://stackoverflow.com/questions/25701168/at-what-nesting-level-should-components-read-entities-from-stores-in-flux/25701169#25701169\">That&#39;s the tradeoff</a>.&quot;"}], "owner": {"reputation": 1935, "user_id": 859688, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/1ba3953f6a6a459dcd4810a228ef4000?s=128&d=identicon&r=PG", "display_name": "hrach", "link": "https://stackoverflow.com/users/859688/hrach"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 774, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1451466302, "creation_date": 1451466302, "question_id": 34526239, "link": "https://stackoverflow.com/questions/34526239/tree-model-structure-with-immutable-jss-record-redux-typescript", "title": "Tree model structure with Immutable.js&#39;s Record &amp; Redux &amp; Typescript", "body": "<p>I receive a flat structure from my API:</p>\n\n<pre><code>{\n    \"users\": [\n         {\"id\": 123, \"name\": \"Peter\"},\n         {\"id\": 124, \"name\": \"John\"}\n    ],\n    \"threads\": [\n         {\"id\": 1, \"participantIds\": [123, 124, 125]},\n         {\"id\": 2, \"participantIds\": [879, 888]}\n    ]\n}\n</code></pre>\n\n<p>where <code>participantIds</code> refers to user \"entities\".</p>\n\n<p>I would like to store the data in Redux's was, i.e an immutable flat structure. For convience, I've created Record entities, which I would like to receive as an input (props) in my React components:</p>\n\n<pre><code>export class User extends Immutable.Record({})\n{\n    id: string;\n    name: string;\n}\n\nexport class Thread extends Immutable.Record({})\n{\n    id: string;\n    paticipants: Immutable.Map&lt;string, User&gt;;\n}\n</code></pre>\n\n<p>Since Redux's flat structure is different, I'm not sure, how exactly build this architecture properly. Here is a little summary what I might have done:</p>\n\n<ol>\n<li>Use Reselect library and transform the flat state to tree state.\n\n<ol>\n<li>Store data as raw Immutable.js Map &amp; List and then in selector converts them into the entities.</li>\n<li>Introduce property Thread->participantIds and fill the Thread->participants in reselect, so the property before running the selector is empty.</li>\n<li>Create a layer in between, something like MVVM, so I would have two type of entities, one for storing the data, other for passing to the React components.</li>\n</ol></li>\n<li>Store the tree state and do updates on all possible occurences of particular (User) entity.</li>\n</ol>\n\n<p>I do not like neither of these possible solutions. All of them seem to be pretty verbose for such usual and simple usecase.</p>\n\n<hr>\n\n<p>I found a little discussion here: <a href=\"https://github.com/rackt/redux/issues/815\" rel=\"nofollow\">https://github.com/rackt/redux/issues/815</a> But I didn't get the anwers I need. </p>\n"}, {"tags": ["javascript", "typescript"], "comments": [{"owner": {"reputation": 6957, "user_id": 2239174, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pO5KY.gif?s=128&g=1", "display_name": "TSV", "link": "https://stackoverflow.com/users/2239174/tsv"}, "edited": false, "score": 2, "creation_date": 1451463769, "post_id": 34525157, "comment_id": 56792487, "body": "Typescript playground (<a href=\"http://www.typescriptlang.org/Playground\" rel=\"nofollow noreferrer\">typescriptlang.org/Playground</a>) doesn&#39;t show any errors for your code."}, {"owner": {"reputation": 834, "user_id": 1134380, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/92458ac15290aed82fd8c402c3f09bc2?s=128&d=identicon&r=PG", "display_name": "Guillaume", "link": "https://stackoverflow.com/users/1134380/guillaume"}, "edited": false, "score": 0, "creation_date": 1451465852, "post_id": 34525157, "comment_id": 56793525, "body": "Have you tried to change your MethodRep class to an interface ?"}, {"owner": {"reputation": 295, "user_id": 98503, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c9c3368c1d3c5cedef288692ba2e30d4?s=128&d=identicon&r=PG", "display_name": "gsobocinski", "link": "https://stackoverflow.com/users/98503/gsobocinski"}, "reply_to_user": {"reputation": 834, "user_id": 1134380, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/92458ac15290aed82fd8c402c3f09bc2?s=128&d=identicon&r=PG", "display_name": "Guillaume", "link": "https://stackoverflow.com/users/1134380/guillaume"}, "edited": false, "score": 0, "creation_date": 1451468236, "post_id": 34525157, "comment_id": 56794792, "body": "Agreed with @Guillaume I&#39;ve only ever got this to work with interfaces"}], "answers": [{"tags": [], "owner": {"reputation": 834, "user_id": 1134380, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/92458ac15290aed82fd8c402c3f09bc2?s=128&d=identicon&r=PG", "display_name": "Guillaume", "link": "https://stackoverflow.com/users/1134380/guillaume"}, "is_accepted": false, "score": 0, "last_activity_date": 1451473699, "creation_date": 1451473699, "answer_id": 34528313, "question_id": 34525157, "link": "https://stackoverflow.com/questions/34525157/typescript-create-a-dictionary-of-a-type/34528313#34528313", "title": "TypeScript create a dictionary of a type", "body": "<p>Can you try with replacing <code>MethodRep</code> class to an interface like this :</p>\n\n<pre><code>interface Methods {\n    [index: string]: MethodRep;\n}\n\nexport interface MethodRep {\n    name: string;\n}\n\nexport class BaseFileStructure {\n    public methods: Methods;\n\n    constructor() {\n        this.methods = {};\n    }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 15157, "user_id": 252087, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rntY6.png?s=128&g=1", "display_name": "C Snover", "link": "https://stackoverflow.com/users/252087/c-snover"}, "is_accepted": false, "score": 1, "last_activity_date": 1451498197, "last_edit_date": 1451498197, "creation_date": 1451497704, "answer_id": 34534518, "question_id": 34525157, "link": "https://stackoverflow.com/questions/34525157/typescript-create-a-dictionary-of-a-type/34534518#34534518", "title": "TypeScript create a dictionary of a type", "body": "<p>Since <code>interface Methods</code> is not exported, but you are using it as part of a class that <em>is</em> exported, if your compiler is set up to create declaration (d.ts) files (and it\u2019s possible that the plugin you are using always does this behind the scenes and manages writing these files itself), TypeScript will complain that the interface Methods is not exported because it is referenced by a publicly accessible member:</p>\n\n<blockquote>\n  <p>error TS4031: Public property 'methods' of exported class has or is using private name 'Methods'.</p>\n</blockquote>\n\n<p>If you change <code>interface Methods</code> to <code>export interface Methods</code>, this should solve the problem, since there is otherwise no problem with your code.</p>\n"}], "owner": {"reputation": 11803, "user_id": 2652208, "user_type": "registered", "accept_rate": 43, "profile_image": "https://i.stack.imgur.com/j3u9J.jpg?s=128&g=1", "display_name": "developer82", "link": "https://stackoverflow.com/users/2652208/developer82"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 466, "favorite_count": 1, "answer_count": 2, "score": 2, "last_activity_date": 1451498197, "creation_date": 1451461500, "question_id": 34525157, "link": "https://stackoverflow.com/questions/34525157/typescript-create-a-dictionary-of-a-type", "title": "TypeScript create a dictionary of a type", "body": "<p>I'm trying to create a dictionary in TypeScript where each element in the dictionary is of a class type.</p>\n\n<pre><code>interface Methods {\n    [index: string]: MethodRep;\n}\n\nexport class MethodRep {\n    name: string;\n}\n\nexport class BaseFileStructure {\n    public methods: Methods;\n\n    constructor() {\n        this.methods = {};\n    }\n}\n</code></pre>\n\n<p>but it doesn't seem to like it. I'm using atom with a TypeScript pluging. it says <code>Compile failed but emit succeeded</code>.</p>\n\n<p>If I change the type of the elements to string then it works (even putting type number doesn't work)</p>\n\n<pre><code>interface Methods {\n    [index: string]: string; // only this works\n}\n</code></pre>\n\n<p>what am I missing here?</p>\n"}, {"tags": ["angularjs", "typescript"], "comments": [{"owner": {"reputation": 12389, "user_id": 1233508, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/93MDM.jpg?s=128&g=1", "display_name": "DCoder", "link": "https://stackoverflow.com/users/1233508/dcoder"}, "edited": false, "score": 3, "creation_date": 1451459587, "post_id": 34524000, "comment_id": 56790805, "body": "In a fat arrow function <code>() =&gt; ...</code>, the value of <code>this</code> is carried over from its containing scope, but the provider function passes a completely different context. First step, change the line back to <code>.provider(&#39;foo&#39;, function() {...</code>, second step - consider what further changes will be needed for the same reason."}, {"owner": {"user_type": "does_not_exist", "display_name": "user1752532"}, "reply_to_user": {"reputation": 12389, "user_id": 1233508, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/93MDM.jpg?s=128&g=1", "display_name": "DCoder", "link": "https://stackoverflow.com/users/1233508/dcoder"}, "edited": false, "score": 0, "creation_date": 1451461138, "post_id": 34524000, "comment_id": 56791443, "body": "Clearly i did not understand the fat arrow functions correctly. thanks @DCoder."}], "owner": {"user_type": "does_not_exist", "display_name": "user1752532"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 737, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1451456709, "creation_date": 1451456245, "last_edit_date": 1451456709, "question_id": 34524000, "link": "https://stackoverflow.com/questions/34524000/creating-a-provider-with-typescript", "title": "Creating a $provider with typescript", "body": "<p>I am trying to create a $provider using a fairly simple method ported from my angularjs app. </p>\n\n<p>The original</p>\n\n<pre><code>(function(){\n    var app = angular.module('app',[]);\n\n    app.config(function($provide) {\n\n         $provide.provider('foo',function(){\n              this.$get = function(){\n                  var foo = 'foo';\n                  return {\n                      foo:foo\n                  }\n              }\n         }\n    }  \n\n}());\n</code></pre>\n\n<p>Its pretty straight forward. However when i try implementing this in typescript i get a error on the <code>this.$get</code> -> <code>Property get does not exist</code></p>\n\n<pre><code>export interface IFooConfig {\n    foo:string;\n}\n\nexport class FooConfig implements IFooConfig {\n\n    static $inject = [\"$injector\",\"$provide\"];\n    constructor(private $provide : angular.auto.IProvideService,\n                public foo:string\n    ) {   \n\n         $provide.provider('foo',() =&gt;{\n             this.$get = () =&gt; {  // error here on this.$get\n                 this.foo = \"foo\";\n\n                 return {\n                     foo:this.foo\n                 }\n             }\n         })\n      }\n\n   }\n\n   angular.module(\"app\").config(FooConfig);\n}\n</code></pre>\n\n<p>I feel like this should work otherwise i am doing something very fundamentally incorrect</p>\n"}, {"tags": ["typescript"], "answers": [{"comments": [{"owner": {"reputation": 8645, "user_id": 444917, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/cbf71204645a6417868c85cee85e9244?s=128&d=identicon&r=PG", "display_name": "Clay", "link": "https://stackoverflow.com/users/444917/clay"}, "edited": false, "score": 0, "creation_date": 1451496471, "post_id": 34523732, "comment_id": 56809953, "body": "any solution where i don&#39;t lose intellisense?"}], "tags": [], "owner": {"reputation": 162223, "user_id": 1704166, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/d256baab2fcfd81b0f109d394404fd67?s=128&d=identicon&r=PG", "display_name": "Ryan Cavanaugh", "link": "https://stackoverflow.com/users/1704166/ryan-cavanaugh"}, "is_accepted": false, "score": 2, "last_activity_date": 1451454867, "creation_date": 1451454867, "answer_id": 34523732, "question_id": 34523334, "link": "https://stackoverflow.com/questions/34523334/how-to-assign-object-literal-to-variable-with-private-properties/34523732#34523732", "title": "How to assign object literal to variable with private properties", "body": "<p>Private properties are designed to disallow this kind of thing. The best thing to do is use a type assertion to <code>any</code>:</p>\n\n<pre><code>var x: MyClass = &lt;any&gt;{\n  prop1: \"a\",\n  prop2: \"b\"\n};\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1152, "user_id": 521097, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/5033feb257f3472c43bd6c45eb3202dd?s=128&d=identicon&r=PG", "display_name": "mikeysee", "link": "https://stackoverflow.com/users/521097/mikeysee"}, "is_accepted": true, "score": 1, "last_activity_date": 1532063658, "creation_date": 1532063658, "answer_id": 51435495, "question_id": 34523334, "link": "https://stackoverflow.com/questions/34523334/how-to-assign-object-literal-to-variable-with-private-properties/51435495#51435495", "title": "How to assign object literal to variable with private properties", "body": "<p>You can sort of do it now using object spread:</p>\n\n<pre><code>var x: MyClass = {\n  prop1: \"a\",\n  ...{} as any\n};\n</code></pre>\n"}], "owner": {"reputation": 8645, "user_id": 444917, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/cbf71204645a6417868c85cee85e9244?s=128&d=identicon&r=PG", "display_name": "Clay", "link": "https://stackoverflow.com/users/444917/clay"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 911, "favorite_count": 1, "accepted_answer_id": 51435495, "answer_count": 2, "score": 2, "last_activity_date": 1532063658, "creation_date": 1451452645, "question_id": 34523334, "link": "https://stackoverflow.com/questions/34523334/how-to-assign-object-literal-to-variable-with-private-properties", "title": "How to assign object literal to variable with private properties", "body": "<p>Consider the following class:</p>\n\n<pre><code>class MyClass\n{\n  public prop1: string;\n  private prop2: string;\n}\n</code></pre>\n\n<p>How can I assign to an instance of this class using an object literal in TypeScript?</p>\n\n<pre><code>var x: MyClass = {\n  prop1: \"a\",\n  prop2: \"b\" // compiler complains that prop2 is public not private\n};\n</code></pre>\n"}, {"tags": ["typescript", "angular", "rxjs"], "comments": [{"owner": {"reputation": 28908, "user_id": 4933038, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fea342bbab0580d1ee823125a5f0e030?s=128&d=identicon&r=PG&f=1", "display_name": "Eric Martinez", "link": "https://stackoverflow.com/users/4933038/eric-martinez"}, "edited": false, "score": 3, "creation_date": 1451431508, "post_id": 34520598, "comment_id": 56782906, "body": "You should watch <a href=\"https://www.youtube.com/watch?v=bVI5gGTEQ_U\" rel=\"nofollow noreferrer\">this video</a> to see how to do a typeahead."}, {"owner": {"reputation": 2413, "user_id": 566267, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/7UsX9.png?s=128&g=1", "display_name": "Mica&#235;l F&#233;lix", "link": "https://stackoverflow.com/users/566267/mica%c3%abl-f%c3%a9lix"}, "reply_to_user": {"reputation": 28908, "user_id": 4933038, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fea342bbab0580d1ee823125a5f0e030?s=128&d=identicon&r=PG&f=1", "display_name": "Eric Martinez", "link": "https://stackoverflow.com/users/4933038/eric-martinez"}, "edited": false, "score": 0, "creation_date": 1451499928, "post_id": 34520598, "comment_id": 56811699, "body": "I have made some changes after seeing that video, and the rxJs subject is not part of the service anymore."}], "answers": [{"tags": [], "owner": {"reputation": 2413, "user_id": 566267, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/7UsX9.png?s=128&g=1", "display_name": "Mica&#235;l F&#233;lix", "link": "https://stackoverflow.com/users/566267/mica%c3%abl-f%c3%a9lix"}, "is_accepted": true, "score": 11, "last_activity_date": 1453631578, "last_edit_date": 1453631578, "creation_date": 1451499583, "answer_id": 34534946, "question_id": 34520598, "link": "https://stackoverflow.com/questions/34520598/how-to-use-subject-and-debounce-with-rxjs-5-from-a-string-input/34534946#34534946", "title": "How to use subject and debounce with RxJs 5 from a string input", "body": "<p><em>Note: if you have a better alternative, just post another answer and I will choose it as the answer.</em></p>\n\n<p>My results have shown that I was not understanding well the purpose of Rx.Subject.</p>\n\n<hr>\n\n<h2>Suggested solution using ngModel and ngModelChange</h2>\n\n<p>Because I currently only use ngModel in my components, I had to split the [(ngModel)] to [ngModel] and (ngModelChange)</p>\n\n<p><strong>In the component constructor</strong></p>\n\n<p>Use an Rx.Subject (theorically it's the same than an EventEmitter, but maybe it has changed since because we don't have access to all the Rx.Subject methods with it anymore) that will be parameterized to debounce and call the service to retrieve values.</p>\n\n<p><strong>For each keystroke:</strong></p>\n\n<p>Input -> (ngModelChange) -> eventEmitterComponentInstance.next(InputValue)</p>\n\n<h2>Code</h2>\n\n<p>SuggestMultipleStringComponent.ts</p>\n\n<pre><code>@Component({\n  template: `&lt;input [ngModel]=\"userInput\"\n                    (ngModelChange)=\"userInputChanged($event)\" /&gt;`\n  providers: [SearchService]\n})\nexport class SuggestMultipleStringComponent { \n    private typeAheadEventEmitter = new Rx.Subject&lt;string&gt;();\n    private userInput: string;\n\n    constructor(private _searchService: SearchService) {\n        this.typeAheadEventEmitter\n                .debounceTime(700)\n                .switchMap(val =&gt; {\n                    console.log('called once')\n                    return this._searchService.callSomething();\n                }).subscribe(results =&gt; {\n                    console.log(results);\n                }, error =&gt; {\n                    console.log('error logged:');\n                    console.log(error);\n                });\n      }\n\n    userInputChanged(value: string) {\n        this.userInput = value;\n        this.typeAheadEventEmitter.next(value);\n    }\n}\n</code></pre>\n\n<p>SearchService.ts</p>\n\n<pre><code>@Injectable()\nexport class SearchService {\n\n    constructor(private http: Http) {\n        this.http = http;\n    }\n\n    callSomething() {\n        return this.http.get('some/url')\n                        .map((res: Response) =&gt; res.json());\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 2413, "user_id": 566267, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/7UsX9.png?s=128&g=1", "display_name": "Mica&#235;l F&#233;lix", "link": "https://stackoverflow.com/users/566267/mica%c3%abl-f%c3%a9lix"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 13585, "favorite_count": 3, "accepted_answer_id": 34534946, "answer_count": 1, "score": 3, "last_activity_date": 1453631578, "creation_date": 1451430952, "question_id": 34520598, "link": "https://stackoverflow.com/questions/34520598/how-to-use-subject-and-debounce-with-rxjs-5-from-a-string-input", "title": "How to use subject and debounce with RxJs 5 from a string input", "body": "<p>I do not get how the Subject object would work for a <em>Suggestion/Search service</em> that I'm trying to implement in Angular2.</p>\n\n<p>Let's say that generateSuggestions gets called <strong>each time an input changes</strong>, for an autocomplete use.</p>\n\n<p>I don't understand why I'm not able to get something out of the \"next()\" call, typescript compiler says it's returning a void type.</p>\n\n<p>My goal would be to submit each change to an object, which will decide to call each 500ms a function on the server, without spamming it on each key entry.</p>\n\n<pre><code>import { Jsonp, Response, Http } from 'angular2/http';\nimport * as Rx from 'rxjs/Rx';\nimport { Injectable } from 'angular2/core';\n\n@Injectable()\nexport class SearchService {\n    queryStream = new Rx.Subject();\n\n    constructor(public http: Http) {\n\n    }\n\n    generateSuggestions(query: string) {\n        this.queryStream\n            .next(query)\n            .debounce(500) // Compiler error: Debounce does not exist on type \"void\"\n            .map(\n                query =&gt; this.http.get('hellow')\n                        .map( (res: Response) =&gt; res.json() )\n                        .subscribe( results =&gt; console.log(results) )\n            );\n    }\n}\n</code></pre>\n\n<p>I can do this in plain JS/Typescript but I really wanted to try to work with RxJs because it's already used by Angular2.</p>\n\n<p>What are the mistakes made here? The documentation is really poor without any example on their official website.</p>\n"}, {"tags": ["javascript", "node.js", "typescript", "es6-module-loader"], "comments": [{"owner": {"reputation": 1444, "user_id": 188870, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/f1945436277d2a4ae7ba54e77cdeb853?s=128&d=identicon&r=PG", "display_name": "unflores", "link": "https://stackoverflow.com/users/188870/unflores"}, "edited": false, "score": 0, "creation_date": 1540221352, "post_id": 34520288, "comment_id": 92774450, "body": "Module should be <code>commonjs</code> and not <code>commonsjs</code>. That may be causing you a problem."}, {"owner": {"reputation": 143, "user_id": 4150973, "user_type": "registered", "accept_rate": 86, "profile_image": "https://lh3.googleusercontent.com/-LdfQlY_PMpI/AAAAAAAAAAI/AAAAAAAABPA/oRfHgc8LFwA/photo.jpg?sz=128", "display_name": "Biel Simon", "link": "https://stackoverflow.com/users/4150973/biel-simon"}, "edited": false, "score": 2, "creation_date": 1567207194, "post_id": 34520288, "comment_id": 101907991, "body": "Consider using esModuleInterop: true compiler option (set it on your tsconfig). This allows you to do <code>import express from &#39;express&#39;</code> as you would expect"}], "answers": [{"comments": [{"owner": {"reputation": 15157, "user_id": 252087, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rntY6.png?s=128&g=1", "display_name": "C Snover", "link": "https://stackoverflow.com/users/252087/c-snover"}, "edited": false, "score": 1, "creation_date": 1451448924, "post_id": 34520891, "comment_id": 56787170, "body": "<code>import *</code> is the wrong way to import legacy modules. See <a href=\"http://stackoverflow.com/a/29598404/252087\">stackoverflow.com/a/29598404/252087</a>."}, {"owner": {"reputation": 143, "user_id": 4150973, "user_type": "registered", "accept_rate": 86, "profile_image": "https://lh3.googleusercontent.com/-LdfQlY_PMpI/AAAAAAAAAAI/AAAAAAAABPA/oRfHgc8LFwA/photo.jpg?sz=128", "display_name": "Biel Simon", "link": "https://stackoverflow.com/users/4150973/biel-simon"}, "edited": false, "score": 2, "creation_date": 1567207159, "post_id": 34520891, "comment_id": 101907988, "body": "Consider using esModuleInterop: true compiler option (set it on your tsconfig). This allows you to do <code>import express from &#39;express&#39;</code> as you would expect"}], "tags": [], "owner": {"reputation": 4518, "user_id": 2012235, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/d3ae5ab77f79f70a2b433b7929896e7d?s=128&d=identicon&r=PG", "display_name": "dvlsg", "link": "https://stackoverflow.com/users/2012235/dvlsg"}, "is_accepted": true, "score": 31, "last_activity_date": 1602631265, "last_edit_date": 1602631265, "creation_date": 1451432653, "answer_id": 34520891, "question_id": 34520288, "link": "https://stackoverflow.com/questions/34520288/node-js-typescript-unclear-syntax-with-type-script-compiled-code/34520891#34520891", "title": "Node.js + TypeScript: Unclear syntax with type script compiled code", "body": "<p>The safest solution would be:</p>\n<pre><code>import express = require('express');\n</code></pre>\n<p>This transpiles to:</p>\n<pre><code>var express = require('express');\n</code></pre>\n<p>The official documentation for import require declarations can be found <a href=\"https://github.com/Microsoft/TypeScript/blob/376534981220fbbfee39ae97299aafe0d9c473ce/doc/spec.md#11.3.3\" rel=\"nofollow noreferrer\">here</a>.</p>\n<p>I believe TypeScript expects an export named &quot;default&quot; to function as your code above, judging from the final paragraph <a href=\"https://github.com/Microsoft/TypeScript/blob/376534981220fbbfee39ae97299aafe0d9c473ce/doc/spec.md#11342-export-default-declarations\" rel=\"nofollow noreferrer\">here</a>.</p>\n<hr />\n<p>Side note: It looks like TypeScript's newest version (typescript@1.8.0-dev.20151229 at the time of writing) will throw a warning on a compile attempt which would attempt to use a missing default:</p>\n<pre><code>index.ts(1,8): error TS1192: Module '&quot;express&quot;' has no default export.\n</code></pre>\n<hr />\n<p>Side note 2: An example from Microsoft using the <code>import * as express from 'express';</code> syntax can be found <a href=\"https://github.com/Microsoft/TypeScriptSamples/blob/f206e7ca3e0f605ee5ec8f9b30894881dbe4c462/imageboard/app.ts#L3\" rel=\"nofollow noreferrer\">here</a>. When targeting a module of <code>commonjs</code> (as <a href=\"https://github.com/Microsoft/TypeScriptSamples/blob/f206e7ca3e0f605ee5ec8f9b30894881dbe4c462/imageboard/tsconfig.json#L3\" rel=\"nofollow noreferrer\">they are</a> in this example), this will also transpile to <code>var express = require('express');</code>.</p>\n<hr />\n<p>If you have at least TypeScript 2.7 and are targeting CommonJS, you can use <a href=\"https://devblogs.microsoft.com/typescript/announcing-typescript-2-7/#easier-ecmascript-module-interoperability\" rel=\"nofollow noreferrer\">esModuleInterop</a>, as well.</p>\n<p>From the link:</p>\n<blockquote>\n<p>To give users the same runtime behavior as Babel or Webpack, TypeScript provides a new --esModuleInterop flag when emitting to legacy module formats.</p>\n<p>Under the new --esModuleInterop flag, these callable CommonJS modules must be imported as default imports like so:</p>\n</blockquote>\n<pre><code>import express from &quot;express&quot;;\n\nlet app = express();\n</code></pre>\n<blockquote>\n<p>We strongly suggest that Node.js users leverage this flag with a module target of CommonJS for libraries like Express.js, which export a callable/constructable module.</p>\n</blockquote>\n"}, {"comments": [{"owner": {"reputation": 3391, "user_id": 4470201, "user_type": "registered", "accept_rate": 66, "profile_image": "https://graph.facebook.com/558270100/picture?type=large", "display_name": "Shikloshi", "link": "https://stackoverflow.com/users/4470201/shikloshi"}, "edited": false, "score": 0, "creation_date": 1451478221, "post_id": 34522813, "comment_id": 56800005, "body": "Thanks! I had some research on the subject thanks to you."}, {"owner": {"reputation": 15157, "user_id": 252087, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rntY6.png?s=128&g=1", "display_name": "C Snover", "link": "https://stackoverflow.com/users/252087/c-snover"}, "reply_to_user": {"reputation": 3391, "user_id": 4470201, "user_type": "registered", "accept_rate": 66, "profile_image": "https://graph.facebook.com/558270100/picture?type=large", "display_name": "Shikloshi", "link": "https://stackoverflow.com/users/4470201/shikloshi"}, "edited": false, "score": 0, "creation_date": 1451496935, "post_id": 34522813, "comment_id": 56810203, "body": "I don\u2019t understand why you accepted the other answer as the correct answer. It\u2019s the wrong answer."}, {"owner": {"reputation": 4518, "user_id": 2012235, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/d3ae5ab77f79f70a2b433b7929896e7d?s=128&d=identicon&r=PG", "display_name": "dvlsg", "link": "https://stackoverflow.com/users/2012235/dvlsg"}, "edited": false, "score": 0, "creation_date": 1451497802, "post_id": 34522813, "comment_id": 56810646, "body": "If it is truly the wrong answer for the current version of Typescript, then I suggest you have Microsoft edit their examples."}, {"owner": {"reputation": 15157, "user_id": 252087, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rntY6.png?s=128&g=1", "display_name": "C Snover", "link": "https://stackoverflow.com/users/252087/c-snover"}, "reply_to_user": {"reputation": 4518, "user_id": 2012235, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/d3ae5ab77f79f70a2b433b7929896e7d?s=128&d=identicon&r=PG", "display_name": "dvlsg", "link": "https://stackoverflow.com/users/2012235/dvlsg"}, "edited": false, "score": 0, "creation_date": 1451499448, "post_id": 34522813, "comment_id": 56811484, "body": "@dvlsg That Microsoft example is <i>not</i> the same as what the OP is doing! The example uses only the <code>static</code> property from <code>express</code>, it does <i>not</i> try to use the default export (because it couldn\u2019t, because it\u2019s wrong and won\u2019t work). In such a case, <code>import *</code> is fine, because it makes the imported <code>express</code> identifier a blank List, then adds all exported properties of the express module onto that List, per the ES specification. It <i>not</i> correct for using the default export."}, {"owner": {"reputation": 4518, "user_id": 2012235, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/d3ae5ab77f79f70a2b433b7929896e7d?s=128&d=identicon&r=PG", "display_name": "dvlsg", "link": "https://stackoverflow.com/users/2012235/dvlsg"}, "edited": false, "score": 0, "creation_date": 1451499793, "post_id": 34522813, "comment_id": 56811627, "body": "As far as I can tell, the <code>const app = express();</code> in the original question is exactly what is being done in the Microsoft <a href=\"https://github.com/Microsoft/TypeScriptSamples/blob/f206e7ca3e0f605ee5ec8f9b30894881dbe4c462/imageboard/app.ts#L11\" rel=\"nofollow noreferrer\">example</a> (minus the const, of course). I agree that <code>require</code> will work in more scenarios, however, so I will edit accordingly."}, {"owner": {"reputation": 15157, "user_id": 252087, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rntY6.png?s=128&g=1", "display_name": "C Snover", "link": "https://stackoverflow.com/users/252087/c-snover"}, "edited": false, "score": 0, "creation_date": 1451502047, "post_id": 34522813, "comment_id": 56812723, "body": "Sorry, I missed that line. That really should not be working, since the ES spec is explicit that the value of a <code>* as</code> import is <a href=\"http://www.ecma-international.org/ecma-262/6.0/index.html#sec-module-namespace-objects\" rel=\"nofollow noreferrer\">a Namespace Object</a>, not any callable item, and implementation of ES6 modules syntax was <a href=\"http://stackoverflow.com/a/29598404/252087\">supposed to disallow it</a>. So I\u2019m trying to track down when and how the semantics of <code>* as</code> were changed to not fail in this case."}, {"owner": {"reputation": 4518, "user_id": 2012235, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/d3ae5ab77f79f70a2b433b7929896e7d?s=128&d=identicon&r=PG", "display_name": "dvlsg", "link": "https://stackoverflow.com/users/2012235/dvlsg"}, "edited": false, "score": 0, "creation_date": 1451506319, "post_id": 34522813, "comment_id": 56814740, "body": "Perhaps it allows it because my test environment and their example were both aiming for <code>commonjs</code> (for better or worse or unintentionally)? Targeting ES6 with no module defined resulted in error TS1202 (import assignment cannot be used), but does attempt to transpile. ES6/ES5 with commonjs as the module both transpiled to <code>var express = require(&#39;express&#39;);</code>. Targeting ES5 with no module defined doesn&#39;t even attempt to transpile, and suggests setting a module."}], "tags": [], "owner": {"reputation": 15157, "user_id": 252087, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rntY6.png?s=128&g=1", "display_name": "C Snover", "link": "https://stackoverflow.com/users/252087/c-snover"}, "is_accepted": false, "score": 7, "last_activity_date": 1602631345, "last_edit_date": 1602631345, "creation_date": 1451449041, "answer_id": 34522813, "question_id": 34520288, "link": "https://stackoverflow.com/questions/34520288/node-js-typescript-unclear-syntax-with-type-script-compiled-code/34522813#34522813", "title": "Node.js + TypeScript: Unclear syntax with type script compiled code", "body": "<p>If you are trying to use the default export of a non-ES6 module like Express.js, you need to use the legacy import syntax <code>import express = require('express')</code>.</p>\n<p>In ES6 modules, there is no default value export like the <code>module.exports</code> of Node.js modules or the <code>return</code> of AMD modules; the default export of an ES6 module is just the <code>default</code> key. This is why, when you use an ES6 default <code>import</code> as you are attempting to do, TypeScript generates JavaScript with an access to the <code>default</code> property.</p>\n<p>More information about this is available at <em><a href=\"https://stackoverflow.com/questions/29596714/new-es6-syntax-for-importing-commonjs-amd-modules-i-e-import-foo-require\">New es6 syntax for importing commonjs / amd modules i.e. `import foo = require(&#39;foo&#39;)`</a></em>.</p>\n"}, {"comments": [{"owner": {"reputation": 936, "user_id": 9296249, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-tGpdgZMad5E/AAAAAAAAAAI/AAAAAAAAAVY/MH1bahJdxTs/photo.jpg?sz=128", "display_name": "Josh Dando", "link": "https://stackoverflow.com/users/9296249/josh-dando"}, "edited": false, "score": 1, "creation_date": 1553451189, "post_id": 52772480, "comment_id": 97379861, "body": "Make sure to have &quot;module&quot;: &quot;commonJS&quot; in your tsconfig.json"}], "tags": [], "owner": {"reputation": 14811, "user_id": 4574281, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/gSI2p.png?s=128&g=1", "display_name": "WasiF", "link": "https://stackoverflow.com/users/4574281/wasif"}, "is_accepted": false, "score": 4, "last_activity_date": 1602657411, "last_edit_date": 1602657411, "creation_date": 1539319924, "answer_id": 52772480, "question_id": 34520288, "link": "https://stackoverflow.com/questions/34520288/node-js-typescript-unclear-syntax-with-type-script-compiled-code/52772480#52772480", "title": "Node.js + TypeScript: Unclear syntax with type script compiled code", "body": "<p>If you still want to use the <code>import</code> keyword then use it like:</p>\n<pre><code>import express from &quot;express&quot;; \n// If the above is not supported by your project environment then follow as below\nimport * as express from &quot;express&quot;;\n</code></pre>\n<p>In file <code>tsconfig.json</code></p>\n<pre><code>{\n  &quot;compilerOptions&quot;: {\n    ...   \n    &quot;module&quot;: &quot;commonjs&quot;\n    ...\n  }\n}\n</code></pre>\n<p>Thanks to <a href=\"https://stackoverflow.com/questions/34520288/nodejs-typescript-unclear-syntax-with-type-script-compiled-code#comment97379861_52772480\">Josh Dando</a>.</p>\n"}, {"comments": [{"owner": {"reputation": 7673, "user_id": 6086226, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/fQU1t.jpg?s=128&g=1", "display_name": "Derk Jan Speelman", "link": "https://stackoverflow.com/users/6086226/derk-jan-speelman"}, "edited": false, "score": 1, "creation_date": 1566308280, "post_id": 56760197, "comment_id": 101610146, "body": "This solved my problem! Could&#39;ve known <a href=\"https://www.npmjs.com/package/ts-node-dev\" rel=\"nofollow noreferrer\">ts-node-dev</a> is using TypeScript&#39;s configuration, so I added a <code>tsconfig.json</code> file. Thanks!"}, {"owner": {"reputation": 1718, "user_id": 1989999, "user_type": "registered", "accept_rate": 29, "profile_image": "https://i.stack.imgur.com/FHot3.jpg?s=128&g=1", "display_name": "Foxhoundn", "link": "https://stackoverflow.com/users/1989999/foxhoundn"}, "edited": false, "score": 3, "creation_date": 1579732006, "post_id": 56760197, "comment_id": 105869209, "body": "This should be the accepted answer, as it allows to simply use <code>import express from &#39;express&#39;</code>"}, {"owner": {"reputation": 4518, "user_id": 2012235, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/d3ae5ab77f79f70a2b433b7929896e7d?s=128&d=identicon&r=PG", "display_name": "dvlsg", "link": "https://stackoverflow.com/users/2012235/dvlsg"}, "edited": false, "score": 0, "creation_date": 1580153020, "post_id": 56760197, "comment_id": 105996741, "body": "I agree this is the correct strategy with newer versions of typescript. This option wasn&#39;t made available until typescript 2.7, which came out in 2018."}, {"owner": {"reputation": 1530, "user_id": 335243, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/6d2756263ccdbac83a0f561f05fdb066?s=128&d=identicon&r=PG", "display_name": "y_nk", "link": "https://stackoverflow.com/users/335243/y-nk"}, "edited": false, "score": 0, "creation_date": 1612354098, "post_id": 56760197, "comment_id": 116739195, "body": "This should be the accepted answer."}], "tags": [], "owner": {"reputation": 509, "user_id": 603985, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/aeqST.jpg?s=128&g=1", "display_name": "Liam", "link": "https://stackoverflow.com/users/603985/liam"}, "is_accepted": false, "score": 27, "last_activity_date": 1561487900, "creation_date": 1561487900, "answer_id": 56760197, "question_id": 34520288, "link": "https://stackoverflow.com/questions/34520288/node-js-typescript-unclear-syntax-with-type-script-compiled-code/56760197#56760197", "title": "Node.js + TypeScript: Unclear syntax with type script compiled code", "body": "<p>I solved this by adding the following to <code>tsconfig.json</code>:</p>\n\n<pre><code>{\n  \"compilerOptions\": {\n    ... \n    \"module\": \"commonjs\",\n    \"esModuleInterop\": true,\n    ...\n  }\n}\n</code></pre>\n\n<p>The <strong>esModuleInterop</strong> flag is described as: \"Emit __importStar and __importDefault helpers for runtime babel ecosystem compatibility and enable --allowSyntheticDefaultImports for typesystem compatibility.\"</p>\n\n<p><a href=\"https://www.typescriptlang.org/docs/handbook/compiler-options.html\" rel=\"noreferrer\">https://www.typescriptlang.org/docs/handbook/compiler-options.html</a></p>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 10017188, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-6L1v5w2k8nQ/AAAAAAAAAAI/AAAAAAAAABE/vU9O8PCNYPY/photo.jpg?sz=128", "display_name": "David Mar&#237;n G&#243;mez", "link": "https://stackoverflow.com/users/10017188/david-mar%c3%adn-g%c3%b3mez"}, "is_accepted": false, "score": 0, "last_activity_date": 1602631572, "last_edit_date": 1602631572, "creation_date": 1587160107, "answer_id": 61281278, "question_id": 34520288, "link": "https://stackoverflow.com/questions/34520288/node-js-typescript-unclear-syntax-with-type-script-compiled-code/61281278#61281278", "title": "Node.js + TypeScript: Unclear syntax with type script compiled code", "body": "<p>Another solution that could work for you is do it like this:</p>\n<pre><code>import * as express from express;\nconst app = express();\n</code></pre>\n<p>It should work in the same way.</p>\n"}], "owner": {"reputation": 3391, "user_id": 4470201, "user_type": "registered", "accept_rate": 66, "profile_image": "https://graph.facebook.com/558270100/picture?type=large", "display_name": "Shikloshi", "link": "https://stackoverflow.com/users/4470201/shikloshi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 14165, "favorite_count": 2, "accepted_answer_id": 34520891, "answer_count": 5, "score": 22, "last_activity_date": 1602657411, "creation_date": 1451429138, "last_edit_date": 1602630904, "question_id": 34520288, "link": "https://stackoverflow.com/questions/34520288/node-js-typescript-unclear-syntax-with-type-script-compiled-code", "title": "Node.js + TypeScript: Unclear syntax with type script compiled code", "body": "<p>I'm trying to work with TypeScript in my node project, but I have some issues with that.</p>\n<p>This is my <em>index.ts</em> file:</p>\n<pre><code>import express from 'express';\n\nconst app = express();\n</code></pre>\n<p>I'm running:</p>\n<pre><code>tsc --module commonsjs -d index.ts\n</code></pre>\n<p>My output is <em>index.js</em>:</p>\n<pre><code>var express_1 = require('express');\nvar app = express_1[&quot;default&quot;]();\n</code></pre>\n<p>Where did this <code>[&quot;default&quot;]</code> came from? It is making my code not to run properly:</p>\n<pre><code>var app = express_1[&quot;default&quot;]();\n                              ^\n\nTypeError: express_1.default is not a function\n</code></pre>\n<p>As far as I understand, I should have got the code without the &quot;default&quot; brackets and it would have worked fine - I tried removing the brackets and it worked.</p>\n<p>What am I missing here?</p>\n"}, {"tags": ["typescript"], "answers": [{"tags": [], "owner": {"reputation": 2414, "user_id": 1723204, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7a3ba2c3e25a5fb5ffe0ddb1674189e6?s=128&d=identicon&r=PG", "display_name": "Batavia", "link": "https://stackoverflow.com/users/1723204/batavia"}, "is_accepted": false, "score": 0, "last_activity_date": 1451423488, "creation_date": 1451423488, "answer_id": 34519156, "question_id": 34519063, "link": "https://stackoverflow.com/questions/34519063/can-typeof-zip-invoke-its-member-directly/34519156#34519156", "title": "can &quot;typeof Zip&quot; invoke its member directly", "body": "<p>what does your Zip class look like?</p>\n\n<p>In general if you have an object of type Zip then you can call it's members.</p>\n\n<p>For example this would work just fine</p>\n\n<pre><code>import Zip = require('./ZipCodeValidator');\n\nZip.isAcceptable('...');\n</code></pre>\n\n<p>this does assume isAcceptable is a static function in your zip class. Otherwise you do need to have an instance of your object</p>\n\n<pre><code>import Zip = require('./ZipCodeValidator');\n\nx = new Zip();\nx.isAcceptable('...');\n</code></pre>\n\n<p>Your class does need to be loaded 'somehow' and your import ... require tells me you have some kind of module loading turned on.</p>\n\n<p>You could do with without module loading but then you needed to reference the other files</p>\n\n<pre><code>/// &lt;reference path=\"./ZipCodeValidator\"/&gt;\n</code></pre>\n\n<p>if you do that you can call the code in the other class 'directly'. In general i wouldn't recommend going without module loading though.</p>\n"}, {"comments": [{"owner": {"reputation": 862, "user_id": 1126944, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/27be28fb1b065f493e7f748c9c58cb58?s=128&d=identicon&r=PG", "display_name": "IcyBrk", "link": "https://stackoverflow.com/users/1126944/icybrk"}, "edited": false, "score": 0, "creation_date": 1451429186, "post_id": 34520240, "comment_id": 56782014, "body": "Thank you, this is close to what I am thinking, so the example in the TS official site has something wrong. The link (<a href=\"http://www.typescriptlang.org/Handbook#modules-optional-module-loading-and-other-advanced-loading-scenarios\" rel=\"nofollow noreferrer\">typescriptlang.org/&hellip;</a>) is what I firstly pointed to."}], "tags": [], "owner": {"reputation": 15157, "user_id": 252087, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rntY6.png?s=128&g=1", "display_name": "C Snover", "link": "https://stackoverflow.com/users/252087/c-snover"}, "is_accepted": true, "score": 0, "last_activity_date": 1451442722, "last_edit_date": 1451442722, "creation_date": 1451428853, "answer_id": 34520240, "question_id": 34519063, "link": "https://stackoverflow.com/questions/34519063/can-typeof-zip-invoke-its-member-directly/34520240#34520240", "title": "can &quot;typeof Zip&quot; invoke its member directly", "body": "<p>In your example, a type of <code>typeof Zip</code> refers to the Zip (ZipCodeValidator) constructor, whereas a type of <code>Zip</code> refers to an instance of the Zip type.</p>\n\n<p>So, the <code>typeof Zip</code> type in the <code>require</code> call is correct, since that is the correct type for the imported object <code>x</code> (though one would not need to do this as it is already imported by <code>import</code> statement)\u2014but the attempt to use <code>x.isAcceptable</code> is wrong, since <code>isAcceptable</code> is a member of an <em>instance</em> of Zip, not a member of the constructor function (in other words, it is not a static class member).</p>\n\n<p>For <code>isAcceptable</code> to be usable as a member of the constructor, one would need to declare it using the <code>static</code> keyword (<code>static isAcceptable(s: string) \u2026</code>).</p>\n\n<p>Otherwise, you\u2019d need to do one of these things:</p>\n\n<ol>\n<li>Instantiate the type using the constructor function first in order to access the member function (<code>new x().isAcceptable(\u2026)</code>).</li>\n<li>Access <code>isAcceptable</code> via the prototype of the class constructor (<code>x.prototype.isAcceptable</code>).</li>\n</ol>\n"}], "owner": {"reputation": 862, "user_id": 1126944, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/27be28fb1b065f493e7f748c9c58cb58?s=128&d=identicon&r=PG", "display_name": "IcyBrk", "link": "https://stackoverflow.com/users/1126944/icybrk"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 45, "favorite_count": 0, "accepted_answer_id": 34520240, "answer_count": 2, "score": 0, "last_activity_date": 1451442722, "creation_date": 1451423013, "last_edit_date": 1451428429, "question_id": 34519063, "link": "https://stackoverflow.com/questions/34519063/can-typeof-zip-invoke-its-member-directly", "title": "can &quot;typeof Zip&quot; invoke its member directly", "body": "<p>I read the TypeScript <a href=\"http://www.typescriptlang.org/Handbook#modules-optional-module-loading-and-other-advanced-loading-scenarios\" rel=\"nofollow\">handbook</a> now, in Optional Module Loading section, I met the example like below:</p>\n\n<pre><code>declare var require;\nimport Zip = require('./ZipCodeValidator');\n\nif (needZipValidation) {\n    require(['./ZipCodeValidator'], (x: typeof Zip) =&gt; {\n        if (x.isAcceptable('...')) { /* ... */ }\n    });\n}\n</code></pre>\n\n<p>my question is since </p>\n\n<blockquote>\n  <p>x:typeof Zip</p>\n</blockquote>\n\n<p>is it correct usage in the example that like</p>\n\n<blockquote>\n  <p>x.isAcceptable('...')</p>\n</blockquote>\n\n<p>I think since x represents the \"class ZipCodeValidator\", you cannot call the class member directly without get an instance of the class first.</p>\n\n<p>I also tested this code in an Visual Studio, the IDE shows that statement x.isAccetable('...') is not valid.</p>\n\n<p><em>For a reference, I extracted the code for ZipCodeValidator from the handbook as below:</em></p>\n\n<pre><code>import validation = require('./Validation');\n    var numberRegexp = /^[0-9]+$/;\n    class ZipCodeValidator implements validation.StringValidator {\n        isAcceptable(s: string) {\n            return s.length === 5 &amp;&amp; numberRegexp.test(s);\n        }\n    }\n    export = ZipCodeValidator;\n</code></pre>\n"}, {"tags": ["django", "typescript", "frontend", "angular", "django-pipeline"], "comments": [{"owner": {"reputation": 870, "user_id": 2443062, "user_type": "registered", "accept_rate": 26, "profile_image": "https://i.stack.imgur.com/pTk9s.png?s=128&g=1", "display_name": "Dmitry Yudin", "link": "https://stackoverflow.com/users/2443062/dmitry-yudin"}, "edited": false, "score": 0, "creation_date": 1467180582, "post_id": 34517414, "comment_id": 63618543, "body": "I solved all my problems with angular2 webback"}], "answers": [{"tags": [], "owner": {"reputation": 870, "user_id": 2443062, "user_type": "registered", "accept_rate": 26, "profile_image": "https://i.stack.imgur.com/pTk9s.png?s=128&g=1", "display_name": "Dmitry Yudin", "link": "https://stackoverflow.com/users/2443062/dmitry-yudin"}, "is_accepted": false, "score": 0, "last_activity_date": 1467180608, "creation_date": 1467180608, "answer_id": 38091603, "question_id": 34517414, "link": "https://stackoverflow.com/questions/34517414/difference-between-compiling-angular-2-typescript-on-server-or-give-ts-to-transp/38091603#38091603", "title": "Difference between compiling Angular 2 typescript on server or give TS to transpiler", "body": "<p>I solved all my problems with angular2 webback</p>\n"}], "owner": {"reputation": 870, "user_id": 2443062, "user_type": "registered", "accept_rate": 26, "profile_image": "https://i.stack.imgur.com/pTk9s.png?s=128&g=1", "display_name": "Dmitry Yudin", "link": "https://stackoverflow.com/users/2443062/dmitry-yudin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 539, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1467180608, "creation_date": 1451415977, "last_edit_date": 1495542342, "question_id": 34517414, "link": "https://stackoverflow.com/questions/34517414/difference-between-compiling-angular-2-typescript-on-server-or-give-ts-to-transp", "title": "Difference between compiling Angular 2 typescript on server or give TS to transpiler", "body": "<p>i just want to start with angular 2 right way. Im using django and django-pipeline. I tried pipeline typescript module, which compiling all .ts files in .js files. But i cannot run it, due errors and <a href=\"https://stackoverflow.com/questions/34492333/angular-2-typescript-compiller-error\">here</a> is my question about that, so i still not get it working! </p>\n\n<p>So for now i just followed <a href=\"https://angular.io/docs/ts/latest/quickstart.html\" rel=\"nofollow noreferrer\">official tutorial</a> and got it running without compilation on server </p>\n\n<p>So my question is, is it normal production setup to do like this, just leave all my problems to transpiler, or i need to fix my typescript compiller and files need to be JS. \nWhat is the right way to build project with typescript and minification + maybe obfuscation. \nDjango-pipeline do all i dreamed about, but i cannot get it running with Angular, but typescript compiling ok.</p>\n"}, {"tags": ["json", "typescript", "angular"], "comments": [{"owner": {"reputation": 16944, "user_id": 1433665, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/eb67872e230b18666cedb94bd572809f?s=128&d=identicon&r=PG", "display_name": "TheKojuEffect", "link": "https://stackoverflow.com/users/1433665/thekojueffect"}, "edited": false, "score": 2, "creation_date": 1451413779, "post_id": 34516332, "comment_id": 56774747, "body": "If you are using <code>angular 2 beta</code>, <code>map</code> is not available in <code>Observable</code> returned from <code>http.get()</code>, instead <code>subscribe</code> is used directly on <code>Observable</code>."}], "answers": [{"comments": [{"owner": {"reputation": 2997, "user_id": 1617407, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/423b0bab314c359c61d26f1d34ca0ef9?s=128&d=identicon&r=PG", "display_name": "Don Chambers", "link": "https://stackoverflow.com/users/1617407/don-chambers"}, "edited": false, "score": 1, "creation_date": 1451417103, "post_id": 34516875, "comment_id": 56776519, "body": "At runtime it&#39;s untyped,  At compile time we don&#39;t what the api will return.  That makes sense but it does not really help.  I guess we need to know the json first and build our object accordingly."}, {"owner": {"reputation": 25995, "user_id": 5152732, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-eL0xfQom3xQ/AAAAAAAAAAI/AAAAAAAAB1E/j1B2Mcgvt6M/photo.jpg?sz=128", "display_name": "toskv", "link": "https://stackoverflow.com/users/5152732/toskv"}, "reply_to_user": {"reputation": 2997, "user_id": 1617407, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/423b0bab314c359c61d26f1d34ca0ef9?s=128&d=identicon&r=PG", "display_name": "Don Chambers", "link": "https://stackoverflow.com/users/1617407/don-chambers"}, "edited": false, "score": 0, "creation_date": 1451417176, "post_id": 34516875, "comment_id": 56776547, "body": "@user1617407 exactly. You can&#39;t cast to an unknown interface.. well you can cast to any, but that doesn&#39;t really help either."}], "tags": [], "owner": {"reputation": 25995, "user_id": 5152732, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-eL0xfQom3xQ/AAAAAAAAAAI/AAAAAAAAB1E/j1B2Mcgvt6M/photo.jpg?sz=128", "display_name": "toskv", "link": "https://stackoverflow.com/users/5152732/toskv"}, "is_accepted": false, "score": 15, "last_activity_date": 1458388577, "last_edit_date": 1458388577, "creation_date": 1451413812, "answer_id": 34516875, "question_id": 34516332, "link": "https://stackoverflow.com/questions/34516332/angular2-cast-a-json-result-to-an-interface/34516875#34516875", "title": "Angular2 cast a json result to an interface", "body": "<p>You can do a type assertion to the interface you are expecting on the object created by JSON.parse.</p>\n\n<pre><code> this.http.get('http://localhost:4200/').subscribe((value: Response) =&gt; {\n    let hero = &lt;ServerInfo&gt;value.json();\n  });\n</code></pre>\n\n<p>However this will not result in any errors if the server sends you bad objects because of 2 reasons.</p>\n\n<p>At compile time the transpiler does not know what the server will send.</p>\n\n<p>At runtime all type information is erased since everything gets compiled to \njavascript.</p>\n"}, {"tags": [], "owner": {"reputation": 296, "user_id": 4904507, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/lWDO1.jpg?s=128&g=1", "display_name": "Matthew de Nobrega", "link": "https://stackoverflow.com/users/4904507/matthew-de-nobrega"}, "is_accepted": false, "score": 5, "last_activity_date": 1451415838, "creation_date": 1451415838, "answer_id": 34517377, "question_id": 34516332, "link": "https://stackoverflow.com/questions/34516332/angular2-cast-a-json-result-to-an-interface/34517377#34517377", "title": "Angular2 cast a json result to an interface", "body": "<p>Viktor Savkin has a <a href=\"https://github.com/vsavkin/RuntimeTypeChecks\" rel=\"noreferrer\">library to do runtime checking of types</a> for this sort of situation but it doesn't work with interfaces because Typescript doesn't export runtime information on interfaces. There is a discussion about this <a href=\"https://typescript.codeplex.com/discussions/401501\" rel=\"noreferrer\">here</a>.</p>\n\n<p>There are two possible solutions:</p>\n\n<ul>\n<li>If you know the data coming from the api is the correct shape, and you are just looking to give your IDE / the compiler information about this shape, you can cast as per toskv's answer.</li>\n<li>If you are not sure of the api and want your app to throw if the data is the wrong shape, you are going to have to implement your own check. This is a bit of overhead but it's well worth it for larger apps.</li>\n</ul>\n\n<p>In general I see Typescript's types as compiler hints more than a rigorous type system - it has to compile down to an untyped language after all. </p>\n"}], "owner": {"reputation": 2997, "user_id": 1617407, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/423b0bab314c359c61d26f1d34ca0ef9?s=128&d=identicon&r=PG", "display_name": "Don Chambers", "link": "https://stackoverflow.com/users/1617407/don-chambers"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 38582, "favorite_count": 4, "answer_count": 2, "score": 25, "last_activity_date": 1458388577, "creation_date": 1451411652, "question_id": 34516332, "link": "https://stackoverflow.com/questions/34516332/angular2-cast-a-json-result-to-an-interface", "title": "Angular2 cast a json result to an interface", "body": "<p>Using Angular2 and typescript, I have JSON returned from a webApi and I need to get it into an array of a certain type.  I can't figure out how to cast the json to the interface I need.</p>\n\n<p>My type is this interface:</p>\n\n<pre><code>export interface Country {\n    Id: number;\n    Name: string;\n}\n</code></pre>\n\n<p>My mock returns this array:</p>\n\n<pre><code>export var COUNTRIES: Country[] = [\n    { \"Id\": 11, \"Name\": \"US\" },\n    { \"Id\": 12, \"Name\": \"England\" },\n    { \"Id\": 13, \"Name\": \"Japan\" }\n];\n</code></pre>\n\n<p>Here is my code:\ncountry.service.ts</p>\n\n<pre><code>@Injectable()\nexport class CountryService {\n    private _http = null;\n\n    constructor(http: Http) {\n        this._http = http;\n    }\n\n    getCountries() {\n        return Promise.resolve(COUNTRIES);\n    }\n}\n</code></pre>\n\n<p>Then I call it with this:</p>\n\n<pre><code>export class CountryPickerComponent {\n    public countries: Country[];\n\n    constructor(private _countryService: CountryService) { }\n\n\n    getCountries() {\n        this._countryService.getCountries().then(data =&gt; this.setData(data));\n    }\n\n    setData(data) {\n        //this.countries = data;\n        this.countries = JSON.parse(data);\n        var q = 1;\n    }\n\n    ngOnInit() {\n        this.getCountries();\n    }\n}  \n</code></pre>\n\n<p>As you can see, I have a class variable called countries that is an array of the Country interface.  This works as expected.  (I know I don't need that setData method - it's for debugging)</p>\n\n<p>Next, I changed the service to a wepApi call which returns this json.</p>\n\n<pre><code>\"[{\"name\":\"England\",\"id\":1},{\"name\":\"France\",\"id\":2}]\"\n</code></pre>\n\n<p>I changed the getCountries method in the service to:</p>\n\n<pre><code>getCountries() {\n    return new Promise(resolve=&gt;\n        this._http.get('http://localhost:63651/Api/membercountry')\n            .subscribe(data =&gt; resolve(data.json()))\n    );\n}\n</code></pre>\n\n<p>Using JSON.parse, I convert this to an array which I can then use in angular2.  It works.  It creates the array with the data.  But it's not an array implementing the Country interface.</p>\n\n<p>Notice that the field names from the JSON are all lower case, but the interface properties starts with an uppercase and I coded to the interface.  As a result, when I got the real json it does not work.  Is there a way to 'cast' this to the interface, which should throw an error and let me know something is wrong?  </p>\n\n<p>Many examples use map in the get as shown below:</p>\n\n<pre><code>  getCountries() {\n        var retVal;\n\n        return new Promise(resolve=&gt;\n            this._http.get('http://localhost:63651/Api/membercountry')\n                .map(ref =&gt; ref.json())\n                .subscribe(data =&gt; resolve(data.json()))\n        );\n    }\n</code></pre>\n\n<p>I can't find documentation on this.  When I try it I never get data but there is no error.  No compile error and no runtime error.</p>\n"}, {"tags": ["visual-studio-2013", "typescript"], "comments": [{"owner": {"reputation": 25995, "user_id": 5152732, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-eL0xfQom3xQ/AAAAAAAAAAI/AAAAAAAAB1E/j1B2Mcgvt6M/photo.jpg?sz=128", "display_name": "toskv", "link": "https://stackoverflow.com/users/5152732/toskv"}, "edited": false, "score": 0, "creation_date": 1451411473, "post_id": 34516152, "comment_id": 56773653, "body": "you must select a module manager to compile to. there should be an option for it in the project&#39;s properties in visual studio. :)"}], "answers": [{"tags": [], "owner": {"reputation": 648, "user_id": 3198607, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/kbHbl.jpg?s=128&g=1", "display_name": "Diwakar Singh", "link": "https://stackoverflow.com/users/3198607/diwakar-singh"}, "is_accepted": true, "score": 2, "last_activity_date": 1451411606, "creation_date": 1451411606, "answer_id": 34516322, "question_id": 34516152, "link": "https://stackoverflow.com/questions/34516152/unable-to-build-module-in-typescript/34516322#34516322", "title": "Unable to build module in typescript", "body": "<p>Well, I was using require js in my project and that needs AMD option to be enabled from project->properties->typescript build -> Module System = AMD.</p>\n\n<p>After checking the Radio Button my problem got solved.</p>\n"}], "owner": {"reputation": 648, "user_id": 3198607, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/kbHbl.jpg?s=128&g=1", "display_name": "Diwakar Singh", "link": "https://stackoverflow.com/users/3198607/diwakar-singh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 123, "favorite_count": 0, "accepted_answer_id": 34516322, "answer_count": 1, "score": 0, "last_activity_date": 1451411606, "creation_date": 1451410966, "question_id": 34516152, "link": "https://stackoverflow.com/questions/34516152/unable-to-build-module-in-typescript", "title": "Unable to build module in typescript", "body": "<p>I am newbie in Typescript.\nI have created a new project in Typescripts in Visual Studio 2013.\nBut whenever I try to build my project I am facing an error:\n<strong>'Error 1 Cannot compile modules unless the '--module' flag is provided'.</strong></p>\n\n<p>Please suggest where I am doing wrong.</p>\n"}, {"tags": ["visual-studio-2012", "typescript"], "answers": [{"tags": [], "owner": {"reputation": 25995, "user_id": 5152732, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-eL0xfQom3xQ/AAAAAAAAAAI/AAAAAAAAB1E/j1B2Mcgvt6M/photo.jpg?sz=128", "display_name": "toskv", "link": "https://stackoverflow.com/users/5152732/toskv"}, "is_accepted": false, "score": 0, "last_activity_date": 1451409386, "creation_date": 1451409386, "answer_id": 34515742, "question_id": 34515033, "link": "https://stackoverflow.com/questions/34515033/how-can-i-see-typescript-logs/34515742#34515742", "title": "How Can I See TypeScript Logs?", "body": "<p>Messages logged with <strong>window.console.log</strong> appear in the browser's console.</p>\n\n<p>You can usually find that in the <strong>Developer tools</strong> of the browser. </p>\n"}], "owner": {"reputation": 2908, "user_id": 1910355, "user_type": "registered", "accept_rate": 6, "profile_image": "https://i.stack.imgur.com/79e5C.png?s=128&g=1", "display_name": "Jim", "link": "https://stackoverflow.com/users/1910355/jim"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 36, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1451409386, "creation_date": 1451406386, "question_id": 34515033, "link": "https://stackoverflow.com/questions/34515033/how-can-i-see-typescript-logs", "title": "How Can I See TypeScript Logs?", "body": "<p>I'm using TypeScript 1.0.3.0 in Visual Studio. I've created a new project and set up a tsconfig.json file that looks like this:</p>\n\n<pre><code>{\n    \"compilerOptions\": {\n        \"target\": \"ES5\",\n        \"module\": \"amd\",\n        \"sourceMap\": true\n    }\n}\n</code></pre>\n\n<p>In the code I've put some window.console.log statements, but they never appear in the visual studio console. Instead when I debug the program the output looks like this:</p>\n\n<pre><code>'iisexpress.exe' (CLR v4.0.30319: DefaultDomain): Loaded 'C:\\Windows\\Microsoft.Net\\assembly\\GAC_32\\mscorlib\\v4.0_4.0.0.0__b77a5c561934e089\\mscorlib.dll'. Skipped loading symbols. Module is optimized and the debugger option 'Just My Code' is enabled.\n'iisexpress.exe' (CLR v4.0.30319: DefaultDomain): Loaded 'C:\\Windows\\Microsoft.Net\\assembly\\GAC_32\\System.Web\\v4.0_4.0.0.0__b03f5f7f11d50a3a\\System.Web.dll'. Skipped loading symbols. Module is optimized and the debugger option 'Just My Code' is enabled.\n'iisexpress.exe' (CLR v4.0.30319: DefaultDomain): Loaded 'C:\\Windows\\Microsoft.Net\\assembly\\GAC_MSIL\\System\\v4.0_4.0.0.0__b77a5c561934e089\\System.dll'. Skipped loading symbols. Module is optimized and the debugger option 'Just My Code' is enabled.\n'iisexpress.exe' (CLR v4.0.30319: DefaultDomain): Loaded 'C:\\Windows\\Microsoft.Net\\assembly\\GAC_MSIL\\System.Core\\v4.0_4.0.0.0__b77a5c561934e089\\System.Core.dll'. Skipped loading symbols. Module is optimized and the debugger option 'Just My Code' is enabled.\n'iisexpress.exe' (CLR v4.0.30319: DefaultDomain): Loaded 'C:\\Windows\\Microsoft.Net\\assembly\\GAC_MSIL\\System.Web.ApplicationServices\\v4.0_4.0.0.0__31bf3856ad364e35\\System.Web.ApplicationServices.dll'. Skipped loading symbols. Module is optimized and the debugger option 'Just My Code' is enabled.\n'iisexpress.exe' (CLR v4.0.30319: DefaultDomain): Loaded 'C:\\Windows\\Microsoft.Net\\assembly\\GAC_MSIL\\System.Configuration\\v4.0_4.0.0.0__b03f5f7f11d50a3a\\System.Configuration.dll'. Skipped loading symbols. Module is optimized and the debugger option 'Just My Code' is enabled.\n'iisexpress.exe' (CLR v4.0.30319: DefaultDomain): Loaded 'C:\\Windows\\Microsoft.Net\\assembly\\GAC_MSIL\\System.Xml\\v4.0_4.0.0.0__b77a5c561934e089\\System.Xml.dll'. Skipped loading symbols. Module is optimized and the debugger option 'Just My Code' is enabled.\n'iisexpress.exe' (CLR v4.0.30319: Domain 2): Loaded 'C:\\Windows\\Microsoft.Net\\assembly\\GAC_32\\mscorlib\\v4.0_4.0.0.0__b77a5c561934e089\\mscorlib.dll'. Skipped loading symbols. Module is optimized and the debugger option 'Just My Code' is enabled.\n'iisexpress.exe' (CLR v4.0.30319: /LM/W3SVC/4/ROOT-1-130958796930393380): Loaded 'C:\\Windows\\Microsoft.Net\\assembly\\GAC_32\\System.Web\\v4.0_4.0.0.0__b03f5f7f11d50a3a\\System.Web.dll'. Skipped loading symbols. Module is optimized and the debugger option 'Just My Code' is enabled.\n'iisexpress.exe' (CLR v4.0.30319: /LM/W3SVC/4/ROOT-1-130958796930393380): Loaded 'C:\\Windows\\Microsoft.Net\\assembly\\GAC_MSIL\\System\\v4.0_4.0.0.0__b77a5c561934e089\\System.dll'. Skipped loading symbols. Module is optimized and the debugger option 'Just My Code' is enabled.\n'iisexpress.exe' (CLR v4.0.30319: /LM/W3SVC/4/ROOT-1-130958796930393380): Loaded 'C:\\Windows\\Microsoft.Net\\assembly\\GAC_MSIL\\System.Core\\v4.0_4.0.0.0__b77a5c561934e089\\System.Core.dll'. Skipped loading symbols. Module is optimized and the debugger option 'Just My Code' is enabled.\n'iisexpress.exe' (CLR v4.0.30319: /LM/W3SVC/4/ROOT-1-130958796930393380): Loaded 'C:\\Windows\\Microsoft.Net\\assembly\\GAC_MSIL\\System.Web.ApplicationServices\\v4.0_4.0.0.0__31bf3856ad364e35\\System.Web.ApplicationServices.dll'. Skipped loading symbols. Module is optimized and the debugger option 'Just My Code' is enabled.\n'iisexpress.exe' (CLR v4.0.30319: /LM/W3SVC/4/ROOT-1-130958796930393380): Loaded 'C:\\Windows\\Microsoft.Net\\assembly\\GAC_MSIL\\System.Configuration\\v4.0_4.0.0.0__b03f5f7f11d50a3a\\System.Configuration.dll'. Skipped loading symbols. Module is optimized and the debugger option 'Just My Code' is enabled.\n'iisexpress.exe' (CLR v4.0.30319: /LM/W3SVC/4/ROOT-1-130958796930393380): Loaded 'C:\\Windows\\Microsoft.Net\\assembly\\GAC_MSIL\\System.Xml\\v4.0_4.0.0.0__b77a5c561934e089\\System.Xml.dll'. Skipped loading symbols. Module is optimized and the debugger option 'Just My Code' is enabled.\n'iisexpress.exe' (CLR v4.0.30319: /LM/W3SVC/4/ROOT-1-130958796930393380): Loaded 'C:\\Windows\\Microsoft.Net\\assembly\\GAC_MSIL\\System.Runtime.Caching\\v4.0_4.0.0.0__b03f5f7f11d50a3a\\System.Runtime.Caching.dll'. Skipped loading symbols. Module is optimized and the debugger option 'Just My Code' is enabled.\n'iisexpress.exe' (CLR v4.0.30319: DefaultDomain): Loaded 'C:\\Windows\\Microsoft.Net\\assembly\\GAC_MSIL\\System.Runtime.Caching\\v4.0_4.0.0.0__b03f5f7f11d50a3a\\System.Runtime.Caching.dll'. Skipped loading symbols. Module is optimized and the debugger option 'Just My Code' is enabled.\n'iisexpress.exe' (CLR v4.0.30319: /LM/W3SVC/4/ROOT-1-130958796930393380): Loaded 'C:\\Windows\\Microsoft.Net\\assembly\\GAC_MSIL\\Microsoft.Build.Utilities.v4.0\\v4.0_4.0.0.0__b03f5f7f11d50a3a\\Microsoft.Build.Utilities.v4.0.dll'. Skipped loading symbols. Module is optimized and the debugger option 'Just My Code' is enabled.\n'iisexpress.exe' (CLR v4.0.30319: DefaultDomain): Loaded 'C:\\Windows\\Microsoft.Net\\assembly\\GAC_MSIL\\Microsoft.Build.Utilities.v4.0\\v4.0_4.0.0.0__b03f5f7f11d50a3a\\Microsoft.Build.Utilities.v4.0.dll'. Skipped loading symbols. Module is optimized and the debugger option 'Just My Code' is enabled.\n'iisexpress.exe' (CLR v4.0.30319: /LM/W3SVC/4/ROOT-1-130958796930393380): Loaded 'C:\\Windows\\Microsoft.Net\\assembly\\GAC_MSIL\\Microsoft.JScript\\v4.0_10.0.0.0__b03f5f7f11d50a3a\\Microsoft.JScript.dll'. Skipped loading symbols. Module is optimized and the debugger option 'Just My Code' is enabled.\n'iisexpress.exe' (CLR v4.0.30319: /LM/W3SVC/4/ROOT-1-130958796930393380): Loaded 'C:\\Windows\\Microsoft.Net\\assembly\\GAC_MSIL\\Microsoft.CSharp\\v4.0_4.0.0.0__b03f5f7f11d50a3a\\Microsoft.CSharp.dll'. Skipped loading symbols. Module is optimized and the debugger option 'Just My Code' is enabled.\n'iisexpress.exe' (CLR v4.0.30319: /LM/W3SVC/4/ROOT-1-130958796930393380): Loaded 'C:\\Windows\\Microsoft.Net\\assembly\\GAC_32\\System.Data\\v4.0_4.0.0.0__b77a5c561934e089\\System.Data.dll'. Skipped loading symbols. Module is optimized and the debugger option 'Just My Code' is enabled.\n'iisexpress.exe' (CLR v4.0.30319: /LM/W3SVC/4/ROOT-1-130958796930393380): Loaded 'C:\\Windows\\Microsoft.Net\\assembly\\GAC_MSIL\\System.Web.Services\\v4.0_4.0.0.0__b03f5f7f11d50a3a\\System.Web.Services.dll'. Skipped loading symbols. Module is optimized and the debugger option 'Just My Code' is enabled.\n'iisexpress.exe' (CLR v4.0.30319: /LM/W3SVC/4/ROOT-1-130958796930393380): Loaded 'C:\\Windows\\Microsoft.Net\\assembly\\GAC_MSIL\\System.Drawing\\v4.0_4.0.0.0__b03f5f7f11d50a3a\\System.Drawing.dll'. Skipped loading symbols. Module is optimized and the debugger option 'Just My Code' is enabled.\n'iisexpress.exe' (CLR v4.0.30319: /LM/W3SVC/4/ROOT-1-130958796930393380): Loaded 'C:\\Windows\\Microsoft.Net\\assembly\\GAC_32\\System.EnterpriseServices\\v4.0_4.0.0.0__b03f5f7f11d50a3a\\System.EnterpriseServices.dll'. Skipped loading symbols. Module is optimized and the debugger option 'Just My Code' is enabled.\n'iisexpress.exe' (CLR v4.0.30319: /LM/W3SVC/4/ROOT-1-130958796930393380): Loaded 'C:\\Windows\\Microsoft.Net\\assembly\\GAC_MSIL\\System.IdentityModel\\v4.0_4.0.0.0__b77a5c561934e089\\System.IdentityModel.dll'. Skipped loading symbols. Module is optimized and the debugger option 'Just My Code' is enabled.\n'iisexpress.exe' (CLR v4.0.30319: /LM/W3SVC/4/ROOT-1-130958796930393380): Loaded 'C:\\Windows\\Microsoft.Net\\assembly\\GAC_MSIL\\System.Runtime.Serialization\\v4.0_4.0.0.0__b77a5c561934e089\\System.Runtime.Serialization.dll'. Skipped loading symbols. Module is optimized and the debugger option 'Just My Code' is enabled.\n'iisexpress.exe' (CLR v4.0.30319: /LM/W3SVC/4/ROOT-1-130958796930393380): Loaded 'C:\\Windows\\Microsoft.Net\\assembly\\GAC_MSIL\\System.ServiceModel\\v4.0_4.0.0.0__b77a5c561934e089\\System.ServiceModel.dll'. Skipped loading symbols. Module is optimized and the debugger option 'Just My Code' is enabled.\n'iisexpress.exe' (CLR v4.0.30319: /LM/W3SVC/4/ROOT-1-130958796930393380): Loaded 'C:\\Windows\\Microsoft.Net\\assembly\\GAC_MSIL\\System.ServiceModel.Activation\\v4.0_4.0.0.0__31bf3856ad364e35\\System.ServiceModel.Activation.dll'. Skipped loading symbols. Module is optimized and the debugger option 'Just My Code' is enabled.\n'iisexpress.exe' (CLR v4.0.30319: /LM/W3SVC/4/ROOT-1-130958796930393380): Loaded 'C:\\Windows\\Microsoft.Net\\assembly\\GAC_MSIL\\System.ServiceModel.Web\\v4.0_4.0.0.0__31bf3856ad364e35\\System.ServiceModel.Web.dll'. Cannot find or open the PDB file.\n'iisexpress.exe' (CLR v4.0.30319: /LM/W3SVC/4/ROOT-1-130958796930393380): Loaded 'C:\\Windows\\Microsoft.Net\\assembly\\GAC_MSIL\\System.Activities\\v4.0_4.0.0.0__31bf3856ad364e35\\System.Activities.dll'. Skipped loading symbols. Module is optimized and the debugger option 'Just My Code' is enabled.\n'iisexpress.exe' (CLR v4.0.30319: /LM/W3SVC/4/ROOT-1-130958796930393380): Loaded 'C:\\Windows\\Microsoft.Net\\assembly\\GAC_MSIL\\System.ServiceModel.Activities\\v4.0_4.0.0.0__31bf3856ad364e35\\System.ServiceModel.Activities.dll'. Skipped loading symbols. Module is optimized and the debugger option 'Just My Code' is enabled.\n'iisexpress.exe' (CLR v4.0.30319: /LM/W3SVC/4/ROOT-1-130958796930393380): Loaded 'C:\\Windows\\Microsoft.Net\\assembly\\GAC_MSIL\\System.WorkflowServices\\v4.0_4.0.0.0__31bf3856ad364e35\\System.WorkflowServices.dll'. Cannot find or open the PDB file.\n'iisexpress.exe' (CLR v4.0.30319: /LM/W3SVC/4/ROOT-1-130958796930393380): Loaded 'C:\\Windows\\Microsoft.Net\\assembly\\GAC_MSIL\\System.Web.Extensions\\v4.0_4.0.0.0__31bf3856ad364e35\\System.Web.Extensions.dll'. Cannot find or open the PDB file.\n'iisexpress.exe' (CLR v4.0.30319: /LM/W3SVC/4/ROOT-1-130958796930393380): Loaded 'C:\\Windows\\Microsoft.Net\\assembly\\GAC_MSIL\\System.Data.DataSetExtensions\\v4.0_4.0.0.0__b77a5c561934e089\\System.Data.DataSetExtensions.dll'. Cannot find or open the PDB file.\n'iisexpress.exe' (CLR v4.0.30319: /LM/W3SVC/4/ROOT-1-130958796930393380): Loaded 'C:\\Windows\\Microsoft.Net\\assembly\\GAC_MSIL\\System.Xml.Linq\\v4.0_4.0.0.0__b77a5c561934e089\\System.Xml.Linq.dll'. Skipped loading symbols. Module is optimized and the debugger option 'Just My Code' is enabled.\n'iisexpress.exe' (CLR v4.0.30319: /LM/W3SVC/4/ROOT-1-130958796930393380): Loaded \n</code></pre>\n"}, {"tags": ["javascript", "typescript", "webstorm"], "answers": [{"tags": [], "owner": {"reputation": 72406, "user_id": 2274212, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f05f19aded7e6cfc60f184796e8e02a4?s=128&d=identicon&r=PG", "display_name": "lena", "link": "https://stackoverflow.com/users/2274212/lena"}, "is_accepted": true, "score": 3, "last_activity_date": 1451403250, "creation_date": 1451403250, "answer_id": 34514157, "question_id": 34514013, "link": "https://stackoverflow.com/questions/34514013/indicate-that-a-function-is-used-externally-in-webstorm/34514157#34514157", "title": "Indicate that a function is used externally in Webstorm", "body": "<p>Yes - <code>//noinspection JSUnusedGlobalSymbols</code>; hit <code>Alt+Enter</code> on your function that is reported to be unused, then hit <code>Right</code> and choose '<code>Suppress for statement</code>'</p>\n"}], "owner": {"reputation": 27, "user_id": 5389329, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/--Uhz3SudSyI/AAAAAAAAAAI/AAAAAAAAACg/7TwfkNYc38I/photo.jpg?sz=128", "display_name": "Darren Hill", "link": "https://stackoverflow.com/users/5389329/darren-hill"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 54, "favorite_count": 0, "accepted_answer_id": 34514157, "answer_count": 1, "score": 1, "last_activity_date": 1451403250, "creation_date": 1451402701, "question_id": 34514013, "link": "https://stackoverflow.com/questions/34514013/indicate-that-a-function-is-used-externally-in-webstorm", "title": "Indicate that a function is used externally in Webstorm", "body": "<p>I feel I'm overlooking something here.  I've created a nice Typescript file, but WebStorm complains that all my functions are 'Unused'.  Well, they are .. just not locally to the file itself.  Is there some JSDoc or other commented code I can put in to tell WebStorm that I KNOW this function IS used .. just used externally?</p>\n"}, {"tags": ["javascript", "typescript", "protractor"], "answers": [{"comments": [{"owner": {"reputation": 25995, "user_id": 5152732, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-eL0xfQom3xQ/AAAAAAAAAAI/AAAAAAAAB1E/j1B2Mcgvt6M/photo.jpg?sz=128", "display_name": "toskv", "link": "https://stackoverflow.com/users/5152732/toskv"}, "edited": false, "score": 0, "creation_date": 1451403131, "post_id": 34514029, "comment_id": 56768910, "body": "I can not test that, let me know if it works or not. :)"}, {"owner": {"reputation": 2117, "user_id": 993856, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/8b947edb1a48656a7d6c0053f11781cc?s=128&d=identicon&r=PG", "display_name": "Ken Palmer", "link": "https://stackoverflow.com/users/993856/ken-palmer"}, "edited": false, "score": 0, "creation_date": 1451403327, "post_id": 34514029, "comment_id": 56769014, "body": "Thanks! We&#39;re reviewing this now."}, {"owner": {"reputation": 25995, "user_id": 5152732, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-eL0xfQom3xQ/AAAAAAAAAAI/AAAAAAAAB1E/j1B2Mcgvt6M/photo.jpg?sz=128", "display_name": "toskv", "link": "https://stackoverflow.com/users/5152732/toskv"}, "reply_to_user": {"reputation": 2117, "user_id": 993856, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/8b947edb1a48656a7d6c0053f11781cc?s=128&d=identicon&r=PG", "display_name": "Ken Palmer", "link": "https://stackoverflow.com/users/993856/ken-palmer"}, "edited": false, "score": 0, "creation_date": 1451403510, "post_id": 34514029, "comment_id": 56769122, "body": "the this rules in javascript differ a lot from other languages, maybe this will help demystify it a bit <a href=\"http://stackoverflow.com/questions/3127429/how-does-the-this-keyword-work\" title=\"how does the this keyword work\">stackoverflow.com/questions/3127429/&hellip;</a>."}, {"owner": {"reputation": 2117, "user_id": 993856, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/8b947edb1a48656a7d6c0053f11781cc?s=128&d=identicon&r=PG", "display_name": "Ken Palmer", "link": "https://stackoverflow.com/users/993856/ken-palmer"}, "edited": false, "score": 0, "creation_date": 1451407472, "post_id": 34514029, "comment_id": 56771424, "body": "That&#39;s a great link. So with the approach you&#39;re suggesting, how would we employ the byText and byName and byIndex operations to other functions? We have multiple functions that need to use operations like byIndex, but their implementation would be totally different from the operations that clickRepeaterElement needs."}, {"owner": {"reputation": 25995, "user_id": 5152732, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-eL0xfQom3xQ/AAAAAAAAAAI/AAAAAAAAB1E/j1B2Mcgvt6M/photo.jpg?sz=128", "display_name": "toskv", "link": "https://stackoverflow.com/users/5152732/toskv"}, "reply_to_user": {"reputation": 2117, "user_id": 993856, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/8b947edb1a48656a7d6c0053f11781cc?s=128&d=identicon&r=PG", "display_name": "Ken Palmer", "link": "https://stackoverflow.com/users/993856/ken-palmer"}, "edited": false, "score": 1, "creation_date": 1451408521, "post_id": 34514029, "comment_id": 56772068, "body": "@KenPalmer check the update to the answer, I think that would be a lot easier to just structure the code in classes/functionalities. It allows for multiple implementations and makes it a lot clearer what this means. :)"}], "tags": [], "owner": {"reputation": 25995, "user_id": 5152732, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-eL0xfQom3xQ/AAAAAAAAAAI/AAAAAAAAB1E/j1B2Mcgvt6M/photo.jpg?sz=128", "display_name": "toskv", "link": "https://stackoverflow.com/users/5152732/toskv"}, "is_accepted": true, "score": 2, "last_activity_date": 1451408717, "last_edit_date": 1451408717, "creation_date": 1451402763, "answer_id": 34514029, "question_id": 34513813, "link": "https://stackoverflow.com/questions/34513813/with-typescript-in-protractor-how-can-i-scope-an-interior-function-so-its-acce/34514029#34514029", "title": "With Typescript in Protractor, how can I scope an interior function so it&#39;s accessible to another function?", "body": "<p>Javascript has weird rules when it comes to <strong>this</strong>. </p>\n\n<p>In your case <strong>this</strong> points to the <strong>byText</strong> function, not the class.</p>\n\n<p>I would rewrite it this way:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>export class Lib {\n  public clickBreadcrumb = {\n    byText: this.byText\n  };\n\n  public clickRepeaterElement = {\n    byName: this.byName,\n    byIndex: this.byIndex,\n  };\n\n  private byText(breadcrumbText: string) {\n    // this is now Lib\n    this.clickRepeaterElement.byName('bcItem in vm.breadCrumbs', breadcrumbText);\n  }\n  private byName(repeaterText: string, elementToClick: string, parentElement ? : protractor.ElementFinder): void {\n    // Click the elementToClick.\n  }\n  private byIndex(repeaterText: string, index: number) {\n    // Click element at the index.\n  }\n\n}\n</code></pre>\n\n\n\n<p>You can also use <strong><a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function/bind\" rel=\"nofollow\">bind</a></strong> to make sure that the context of the methods have the correct value of <strong>this</strong>. </p>\n\n<p><strong>Update:</strong></p>\n\n<p>Regarding the multiple implementations question. I would propose you make use of the classes in TypeScript to structure the code a little bit differently.</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>export class Lib {\n  public clickBreadcrumb = new Breadcrumb(this);\n\n  public clickRepeaterElement = new Repeater(this);\n\n}\n\nexport class Breadcrumb {\n  constructor(private lib: Lib) {}\n\n  public byText(breadcrumbText: string) {\n    this.lib.clickRepeaterElement.byName('bcItem in vm.breadCrumbs', breadcrumbText);\n  }\n\n}\n\nexport class Repeater {\n  constructor(private lib: Lib) {}\n\n  public byName(repeaterText: string, elementToClick: string, parentElement ? : protractor.ElementFinder): void {\n    // Click the elementToClick.\n  }\n\n  public byIndex(repeaterText: string, index: number) {\n    // Click element at the index.\n  }\n\n  public byText(test: string) {\n    // some other implementation\n  }\n}\n</code></pre>\n\n\n\n<p>You can also send smaller parts of the library in places, instead of sending Lib everywhere. It will also allow for better concern separation if/when your library grows. </p>\n"}], "owner": {"reputation": 2117, "user_id": 993856, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/8b947edb1a48656a7d6c0053f11781cc?s=128&d=identicon&r=PG", "display_name": "Ken Palmer", "link": "https://stackoverflow.com/users/993856/ken-palmer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 154, "favorite_count": 0, "accepted_answer_id": 34514029, "answer_count": 1, "score": 0, "last_activity_date": 1451408717, "creation_date": 1451401953, "question_id": 34513813, "link": "https://stackoverflow.com/questions/34513813/with-typescript-in-protractor-how-can-i-scope-an-interior-function-so-its-acce", "title": "With Typescript in Protractor, how can I scope an interior function so it&#39;s accessible to another function?", "body": "<p>We are creating a library for frequently used functions in our Protractor/TypeScript project, and encountered a problem with scoping.</p>\n\n<p>This is an excerpt from the TypeScript.  Our problem occurs when we run the application and call for example clickBreadcrumb.  The clickBreadcrumb function attempts to access the clickRepeaterElement.byName function. </p>\n\n<pre><code>export class Lib {\n    public clickBreadcrumb = {\n        byText(breadcrumbText: string) {\n            // This statement fails. TypeError: Cannot read property 'byName' of undefined\n            this.clickRepeaterElement.byName('bcItem in vm.breadCrumbs', breadcrumbText);\n        }\n    };\n\n    public clickRepeaterElement = {\n        byName(repeaterText:string, elementToClick:string, parentElement?:protractor.ElementFinder): void {\n            // Click the elementToClick.\n        },\n        byIndex(repeaterText: string, index: number) {\n            // Click element at the index.\n        },\n    };\n}\n</code></pre>\n\n<p>WebStorm resolves clickRepeaterElement.byName, which essentially signals to us that this <em>should</em> work.  But when we actually run the test, we get the following error:</p>\n\n<blockquote>\n  <p>TypeError: Cannot read property 'byName' of undefined</p>\n</blockquote>\n\n<p>Coming from a C# background this was unexpected.  How can we adjust the pattern so that this will resolve as we expect?  Thanks for your help.</p>\n"}, {"tags": ["javascript", "class", "inheritance", "interface", "typescript"], "comments": [{"owner": {"reputation": 21272, "user_id": 52277, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/67498fd0e17d27cb9be0c107f306e378?s=128&d=identicon&r=PG", "display_name": "Michael Freidgeim", "link": "https://stackoverflow.com/users/52277/michael-freidgeim"}, "edited": false, "score": 0, "creation_date": 1589406889, "post_id": 34513594, "comment_id": 109286386, "body": "Related: multiple interfaces inheritance is shown in <a href=\"https://stackoverflow.com/questions/24766032/require-function-parameter-to-implement-multiple-interfaces\" title=\"require function parameter to implement multiple interfaces\">stackoverflow.com/questions/24766032/&hellip;</a> question"}], "answers": [{"comments": [{"owner": {"reputation": 15157, "user_id": 252087, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rntY6.png?s=128&g=1", "display_name": "C Snover", "link": "https://stackoverflow.com/users/252087/c-snover"}, "edited": false, "score": 29, "creation_date": 1451418421, "post_id": 34513685, "comment_id": 56777120, "body": "But this is not multiple inheritance, this is a single implementation of multiple interfaces, which is not the same thing. Multiple inheritance includes inheritance of implementation."}, {"owner": {"reputation": 53661, "user_id": 1413538, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/594bb80f7ed4b0b3770df7ad97c4d16a?s=128&d=identicon&r=PG", "display_name": "Brocco", "link": "https://stackoverflow.com/users/1413538/brocco"}, "reply_to_user": {"reputation": 15157, "user_id": 252087, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rntY6.png?s=128&g=1", "display_name": "C Snover", "link": "https://stackoverflow.com/users/252087/c-snover"}, "edited": false, "score": 4, "creation_date": 1451563947, "post_id": 34513685, "comment_id": 56834170, "body": "Of course it isn&#39;t multiple inheritance, TypeScript does not support it (just like C# &amp; Java). But what I have provided, as requested by the OP are a couple of alternatives to mimic that functionality."}, {"owner": {"reputation": 3589, "user_id": 732570, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/30afcc018d25e3b4b6bd7b89f97fba90?s=128&d=identicon&r=PG", "display_name": "roberto tom&#225;s", "link": "https://stackoverflow.com/users/732570/roberto-tom%c3%a1s"}, "edited": false, "score": 0, "creation_date": 1561322044, "post_id": 34513685, "comment_id": 100014877, "body": "is there a way to have an interface provide a default implementation (like Java, for example)? that would really match 100% what the op was asking"}], "tags": [], "owner": {"reputation": 53661, "user_id": 1413538, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/594bb80f7ed4b0b3770df7ad97c4d16a?s=128&d=identicon&r=PG", "display_name": "Brocco", "link": "https://stackoverflow.com/users/1413538/brocco"}, "is_accepted": true, "score": 2, "last_activity_date": 1451401467, "creation_date": 1451401467, "answer_id": 34513685, "question_id": 34513594, "link": "https://stackoverflow.com/questions/34513594/multiple-class-inheritance-in-typescript/34513685#34513685", "title": "Multiple Class Inheritance In TypeScript", "body": "<p>This is possible with interfaces:</p>\n\n<pre><code>interface IBar {\n  doBarThings();\n}\n\ninterface IBazz {\n  doBazzThings();\n}\n\nclass Foo implements IBar, IBazz {\n  doBarThings() {}\n  doBazzThings(){}\n}\n</code></pre>\n\n<p>But if you want implementation for this in a <code>super</code>/<code>base</code> way, then you'll have to do something different, like this:</p>\n\n<pre><code>class FooBase implements IBar, IBazz{\n  doBarThings() {}\n  doBazzThings(){}\n}\n\nclass Foo extends FooBase {\n  doFooThings(){\n      super.doBarThings();\n      super.doBazzThings();\n  }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 2650, "user_id": 7776268, "user_type": "registered", "accept_rate": 43, "profile_image": "https://i.stack.imgur.com/jAgZj.jpg?s=128&g=1", "display_name": "nomadoda", "link": "https://stackoverflow.com/users/7776268/nomadoda"}, "is_accepted": false, "score": 1, "last_activity_date": 1554882060, "last_edit_date": 1554882060, "creation_date": 1554841897, "answer_id": 55600879, "question_id": 34513594, "link": "https://stackoverflow.com/questions/34513594/multiple-class-inheritance-in-typescript/55600879#55600879", "title": "Multiple Class Inheritance In TypeScript", "body": "<p>This is my workaround on extending multiple classes. It allows for some pretty sweet type-safety. I have yet to find any major downsides to this approach, works just as I would want multiple inheritance to do.</p>\n\n<p>First declare interfaces that you want to implement on your target class:</p>\n\n<pre><code>interface IBar {\n  doBarThings(): void;\n}\n\ninterface IBazz {\n  doBazzThings(): void;\n}\n\nclass Foo implements IBar, IBazz {}\n</code></pre>\n\n<p>Now we have to add the implementation to the <code>Foo</code> class. We can use class mixins that also implements these interfaces:</p>\n\n<pre><code>class Base {}\n\ntype Constructor&lt;I = Base&gt; = new (...args: any[]) =&gt; I;\n\nfunction Bar&lt;T extends Constructor&gt;(constructor: T = Base as any) {\n  return class extends constructor implements IBar {\n    public doBarThings() {\n      console.log(\"Do bar!\");\n    }\n  };\n}\n\nfunction Bazz&lt;T extends Constructor&gt;(constructor: T = Base as any) {\n  return class extends constructor implements IBazz {\n    public doBazzThings() {\n      console.log(\"Do bazz!\");\n    }\n  };\n}\n</code></pre>\n\n<p>Extend the <code>Foo</code> class with the class mixins:</p>\n\n<pre><code>class Foo extends Bar(Bazz()) implements IBar, IBazz {\n  public doBarThings() {\n    super.doBarThings();\n    console.log(\"Override mixin\");\n  }\n}\n\nconst foo = new Foo();\nfoo.doBazzThings(); // Do bazz!\nfoo.doBarThings(); // Do bar! // Override mixin\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1422, "user_id": 453959, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/6a822c3ad319ca7f0d44309584610d42?s=128&d=identicon&r=PG", "display_name": "spierala", "link": "https://stackoverflow.com/users/453959/spierala"}, "is_accepted": false, "score": 1, "last_activity_date": 1579769204, "creation_date": 1579769204, "answer_id": 59874502, "question_id": 34513594, "link": "https://stackoverflow.com/questions/34513594/multiple-class-inheritance-in-typescript/59874502#59874502", "title": "Multiple Class Inheritance In TypeScript", "body": "<p>Not really a solution to your problem, but it is worth to consider to use composition over inheritance anyway. </p>\n\n<p><a href=\"https://stackoverflow.com/questions/49002/prefer-composition-over-inheritance?rq=1\">Prefer composition over inheritance?</a></p>\n"}], "owner": {"reputation": 250, "user_id": 1535084, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/de6013894880a10a6a6723ce247cae02?s=128&d=identicon&r=PG", "display_name": "nourikhalass", "link": "https://stackoverflow.com/users/1535084/nourikhalass"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 14535, "favorite_count": 1, "accepted_answer_id": 34513685, "answer_count": 3, "score": 13, "last_activity_date": 1579769204, "creation_date": 1451401154, "question_id": 34513594, "link": "https://stackoverflow.com/questions/34513594/multiple-class-inheritance-in-typescript", "title": "Multiple Class Inheritance In TypeScript", "body": "<p>What are ways to get around the problem of only being allowed to extend at most one other class.</p>\n\n<pre><code>class Bar {\n\n  doBarThings() {\n    //...\n  }\n\n}\n\nclass Bazz {\n\n  doBazzThings() {\n    //...\n  }\n\n}\n\nclass Foo extends Bar, Bazz {\n\n  doBarThings() {\n    super.doBarThings();\n    //...\n  }\n\n}\n</code></pre>\n\n<p>This is currently not possible, TypeScript will give an error. One can overcome this problem in other languages by using interfaces but solving the problem with those is not possible in TypeScript. </p>\n\n<p>Suggestions are welcome!</p>\n"}, {"tags": ["typescript"], "answers": [{"comments": [{"owner": {"reputation": 3, "user_id": 5726848, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2a29662b83987dc0761b60bd6141bec8?s=128&d=identicon&r=PG&f=1", "display_name": "Guy Montza", "link": "https://stackoverflow.com/users/5726848/guy-montza"}, "edited": false, "score": 0, "creation_date": 1451403054, "post_id": 34512543, "comment_id": 56768877, "body": "<code>this.listeners.forEach((it)=&gt;it()); &#47;&#47; when reload operation has done then invoke all listeners</code> when im debugging that line fails with this error : <i>Uncaught TypeError: Cannot read property &#39;forEach&#39; of undefined</i>"}, {"owner": {"reputation": 3, "user_id": 5726848, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2a29662b83987dc0761b60bd6141bec8?s=128&d=identicon&r=PG&f=1", "display_name": "Guy Montza", "link": "https://stackoverflow.com/users/5726848/guy-montza"}, "edited": false, "score": 0, "creation_date": 1451405699, "post_id": 34512543, "comment_id": 56770391, "body": "this is the error from  Visual studio : 0x800a138f - JavaScript runtime error: Unable to get property &#39;forEach&#39; of undefined or null reference"}, {"owner": {"reputation": 8090, "user_id": 4891253, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d8a7b6ff38e865dafa02259ed769eab4?s=128&d=identicon&r=PG", "display_name": "Oleh Dokuka", "link": "https://stackoverflow.com/users/4891253/oleh-dokuka"}, "reply_to_user": {"reputation": 3, "user_id": 5726848, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2a29662b83987dc0761b60bd6141bec8?s=128&d=identicon&r=PG&f=1", "display_name": "Guy Montza", "link": "https://stackoverflow.com/users/5726848/guy-montza"}, "edited": false, "score": 0, "creation_date": 1451428856, "post_id": 34512543, "comment_id": 56781888, "body": "Hmm, I made for you some changes"}, {"owner": {"reputation": 8090, "user_id": 4891253, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d8a7b6ff38e865dafa02259ed769eab4?s=128&d=identicon&r=PG", "display_name": "Oleh Dokuka", "link": "https://stackoverflow.com/users/4891253/oleh-dokuka"}, "reply_to_user": {"reputation": 3, "user_id": 5726848, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2a29662b83987dc0761b60bd6141bec8?s=128&d=identicon&r=PG&f=1", "display_name": "Guy Montza", "link": "https://stackoverflow.com/users/5726848/guy-montza"}, "edited": false, "score": 0, "creation_date": 1451429010, "post_id": 34512543, "comment_id": 56781934, "body": "The issue happens because you callback in previous case had bound to global scope, so, there is no listeners ( listeners equals to undefined) in this scope"}], "tags": [], "owner": {"reputation": 8090, "user_id": 4891253, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d8a7b6ff38e865dafa02259ed769eab4?s=128&d=identicon&r=PG", "display_name": "Oleh Dokuka", "link": "https://stackoverflow.com/users/4891253/oleh-dokuka"}, "is_accepted": false, "score": 0, "last_activity_date": 1451428903, "last_edit_date": 1451428903, "creation_date": 1451397385, "answer_id": 34512543, "question_id": 34511795, "link": "https://stackoverflow.com/questions/34511795/how-to-get-data-from-callback-function-in-typescript/34512543#34512543", "title": "how to get data from callback function in typescript", "body": "<p>Im my opinion it should be looks like this</p>\n\n<pre><code>export class XmlData \n{\n    private path: string;\n    private xmlData: Element; //xml data on class level\n    private listeners: Function[] = [];//array of poreccess listeners\n\n    constructor(path: string) {\n        this.path = path;\n    }\n\n    public get data(): Element { //getter of data\n        return this.xmlData;\n    } \n\n    public addListener(listener: Function) {\n        this.listeners.push(listener);\n    }\n\n    public getXml(callback: Function): void {\n\n        var request = new XMLHttpRequest();\n        request.onreadystatechange = function () {\n            if ((request.readyState == 4) &amp;&amp; (request.status &lt; 400)) {\n                callback(request.responseXML);\n            }\n        };\n        request.open(\"GET\", this.path, true);\n        request.send();\n    }\n\n    public callbackData(data: XmlDocument): void {\n        var xml = new XmlDocument(data);\n        this.xmlData = xml.documentElement;\n\n        this.listeners.forEach((it)=&gt;it()); // when reload operation has done then invoke all listeners\n    }\n\n    public reloadXml() {\n        this.getXml(this.callbackData.bind(this)); // bind your callback to current object\n    }\n}\n</code></pre>\n\n<p>So, in the main app you should work with it like this</p>\n\n<pre><code>/// &lt;reference path=\"XmlData.ts\" /&gt;    \nclass App {\n\n    private xmldata :XmlData;\n    constructor() {\n        this.xmldata = new XmlData(\"xml.xml\");   \n        this.xmldata.addListener(()=&gt;this.onXmlReloaded()); // here we add some listener to xmldata loader  \n    }\n\n    private onXmlReloaded(){ // here we process received data outside of xmldata class\n      let receivedData =  this.xmldata.data;\n      //some code here\n    }        \n\n    dosome(): void {\n        this.xmldata.reloadXml();\n    }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 3, "user_id": 5726848, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2a29662b83987dc0761b60bd6141bec8?s=128&d=identicon&r=PG&f=1", "display_name": "Guy Montza", "link": "https://stackoverflow.com/users/5726848/guy-montza"}, "is_accepted": false, "score": 0, "last_activity_date": 1451485603, "creation_date": 1451485603, "answer_id": 34531394, "question_id": 34511795, "link": "https://stackoverflow.com/questions/34511795/how-to-get-data-from-callback-function-in-typescript/34531394#34531394", "title": "how to get data from callback function in typescript", "body": "<p>i found the problem its not your suggestion, but its look like that</p>\n\n<pre><code>public callbackData(data: XmlDocument): void {\n        var xml = new XmlDocument(data);\n        this.xmlData = xml.documentElement;\n        //this.listeners.forEach((it) =&gt; it());\n        DockContainer.prototype.abc(this.xmlData);        \n</code></pre>\n\n<p>}</p>\n\n<pre><code>public abc(data: any) {\n            console.log(data);\n}\n</code></pre>\n\n<p>if you want to get acces to another function in the same class, need to specify the full path to this function </p>\n"}], "owner": {"reputation": 3, "user_id": 5726848, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2a29662b83987dc0761b60bd6141bec8?s=128&d=identicon&r=PG&f=1", "display_name": "Guy Montza", "link": "https://stackoverflow.com/users/5726848/guy-montza"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1047, "favorite_count": 1, "answer_count": 2, "score": 0, "last_activity_date": 1451485603, "creation_date": 1451394609, "question_id": 34511795, "link": "https://stackoverflow.com/questions/34511795/how-to-get-data-from-callback-function-in-typescript", "title": "how to get data from callback function in typescript", "body": "<p>I want to get the xml data from the callback function and send the data to another function in Xml Data Class.\nWhere do I have to return the data to be used outside the callback function ? </p>\n\nThis class is responsible for reading the XML file \n\n<pre><code>export class XmlData \n{\n    private path: string;\n\n    constructor(path: string) {\n        this.path = path;\n    }\n\n    public getXml(callback: Function): void {\n\n        var request = new XMLHttpRequest();\n        request.onreadystatechange = function () {\n            if ((request.readyState == 4) &amp;&amp; (request.status &lt; 400)) {\n                callback(request.responseXML);\n            }\n        };\n        request.open(\"GET\", this.path, true);\n        request.send();\n    }\n\n    public callbackData(data: XmlDocument): void {\n        var xml = new XmlDocument(data);\n        var xmlData: Element = xml.documentElement;\n    }\n\n    public reloadXml() {\n        this.getXml(this.callbackData);\n    }\n}\n</code></pre>\n\n<hr>\n\n This is the main app class calls the XmlData Class\n\n<pre><code>/// &lt;reference path=\"XmlData.ts\" /&gt;    \nclass App {\n\n    private xmldata :XmlData;\n    constructor() {\n        this.xmldata = new XmlData(\"xml.xml\");       \n    }\n    dosome(): void {\n        this.xmldata.reloadXml();\n    }\n}\n</code></pre>\n\n<hr>\n"}, {"tags": ["typescript"], "comments": [{"owner": {"reputation": 779, "user_id": 2420357, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3686fb3d4891224027284f19a6ed95a9?s=128&d=identicon&r=PG", "display_name": "FlorianTopf", "link": "https://stackoverflow.com/users/2420357/floriantopf"}, "edited": false, "score": 0, "creation_date": 1451388123, "post_id": 34509636, "comment_id": 56760915, "body": "I think it&#39;s because of the <code>var key in object</code> and the usage of <code>key</code> afterwards. Can you try to run the compilation with <code>noImplicitAny=false</code> to confirm?"}], "answers": [{"comments": [{"owner": {"reputation": 329, "user_id": 3211617, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/6dae0b7cdab506b3656c0294ba1554e8?s=128&d=identicon&r=PG&f=1", "display_name": "jo_wil", "link": "https://stackoverflow.com/users/3211617/jo-wil"}, "edited": false, "score": 5, "creation_date": 1466533823, "post_id": 34509945, "comment_id": 63352439, "body": "Hi Martin, great answer to the question, I was just wondering if you (or anyone else) know why this works, or why we have to define the local objectCopy and objectSource variables?"}, {"owner": {"reputation": 642, "user_id": 706768, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fd957578347b7e5831988cc2548d5375?s=128&d=identicon&r=PG", "display_name": "GreeneCreations", "link": "https://stackoverflow.com/users/706768/greenecreations"}, "edited": false, "score": 0, "creation_date": 1561127837, "post_id": 34509945, "comment_id": 99974433, "body": "Heads up: The reason why the error is being thrown is because the object you&#39;re trying to copy might have more properties on it than you want it to. There is a lot of information inside the Github repo for TypeScript. I realize that the errors are not obvious though. This might help? <a href=\"https://github.com/Microsoft/TypeScript/issues/14951#issuecomment-392111183\" rel=\"nofollow noreferrer\">github.com/Microsoft/TypeScript/issues/&hellip;</a>"}], "tags": [], "owner": {"reputation": 24880, "user_id": 99256, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/HfmF9.png?s=128&g=1", "display_name": "Martin Vseticka", "link": "https://stackoverflow.com/users/99256/martin-vseticka"}, "is_accepted": true, "score": 16, "last_activity_date": 1451388874, "last_edit_date": 1451388874, "creation_date": 1451388126, "answer_id": 34509945, "question_id": 34509636, "link": "https://stackoverflow.com/questions/34509636/typescript-index-signature-of-object-type-implicitly-has-an-any-type/34509945#34509945", "title": "TypeScript: Index signature of object type implicitly has an &#39;any&#39; type", "body": "<pre><code>class test&lt;T&gt; {\n    copyObject&lt;T&gt; (object:T):T {\n        var objectCopy = &lt;T&gt;{};\n        for (var key in object) {\n            if (object.hasOwnProperty(key)) {\n                objectCopy[key] = object[key];\n            }\n        }\n        return objectCopy;\n    }\n}\n</code></pre>\n\n<p>If I run the code as follows</p>\n\n<pre><code>c:\\Work\\TypeScript&gt;tsc hello.ts\n</code></pre>\n\n<p>it works OK. However, the following code:</p>\n\n<pre><code>c:\\Work\\TypeScript&gt;tsc --noImplicitAny hello.ts\n</code></pre>\n\n<p>throws</p>\n\n<pre><code>hello.ts(6,17): error TS7017: Index signature of object type implicitly has an 'any' type.\nhello.ts(6,35): error TS7017: Index signature of object type implicitly has an 'any' type.\n</code></pre>\n\n<p>So if you disable <code>noImplicitAny</code> flag, it will work.</p>\n\n<p>There seems to be another option as well because <code>tsc</code> supports the following flag:</p>\n\n<pre><code>--suppressImplicitAnyIndexErrors   Suppress noImplicitAny errors for indexing objects lacking index signatures.\n</code></pre>\n\n<p>This works for me too:</p>\n\n<pre><code>tsc --noImplicitAny --suppressImplicitAnyIndexErrors hello.ts\n</code></pre>\n\n<p><strong>Update:</strong></p>\n\n<pre><code>class test&lt;T&gt; {\n    copyObject&lt;T&gt; (object:T):T {\n        let objectCopy:any = &lt;T&gt;{};\n        let objectSource:any = object;\n        for (var key in objectSource) {\n            if (objectSource.hasOwnProperty(key)) {\n                objectCopy[key] = objectSource[key];\n            }\n        }\n        return objectCopy;\n    }\n}\n</code></pre>\n\n<p>This code works without changing any compiler flags.</p>\n"}, {"tags": [], "owner": {"reputation": 71, "user_id": 3562698, "user_type": "registered", "profile_image": "https://graph.facebook.com/100002215939262/picture?type=large", "display_name": "user3562698", "link": "https://stackoverflow.com/users/3562698/user3562698"}, "is_accepted": false, "score": 2, "last_activity_date": 1545203759, "creation_date": 1545203759, "answer_id": 53846287, "question_id": 34509636, "link": "https://stackoverflow.com/questions/34509636/typescript-index-signature-of-object-type-implicitly-has-an-any-type/53846287#53846287", "title": "TypeScript: Index signature of object type implicitly has an &#39;any&#39; type", "body": "<p>I know I'm late, but in the current version of TypeScript (maybe ver 2.7 and newer), you can write it like below.</p>\n\n<pre><code>for (var key in object) {\n    if (objectSource.hasOwnProperty(key)) {\n        const k = key as keyof typeof object;\n        objectCopy[k] = object[k]; // object and objectCopy need to be the same type\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 16601, "user_id": 4345344, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/a3f267dc4fe6d188ab0429da6db0fa44?s=128&d=identicon&r=PG&f=1", "display_name": "uksz", "link": "https://stackoverflow.com/users/4345344/uksz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 15846, "favorite_count": 1, "accepted_answer_id": 34509945, "answer_count": 2, "score": 13, "last_activity_date": 1545203759, "creation_date": 1451386953, "question_id": 34509636, "link": "https://stackoverflow.com/questions/34509636/typescript-index-signature-of-object-type-implicitly-has-an-any-type", "title": "TypeScript: Index signature of object type implicitly has an &#39;any&#39; type", "body": "<p>I am having an issue with my function:</p>\n\n<pre><code>    copyObject&lt;T&gt; (object:T):T {\n        var objectCopy = &lt;T&gt;{};\n        for (var key in object) {\n            if (object.hasOwnProperty(key)) {\n                objectCopy[key] = object[key];\n            }\n        }\n        return objectCopy;\n    }\n</code></pre>\n\n<p>And I have following error:</p>\n\n<pre><code>Index signature of object type implicitly has an 'any' type.\n</code></pre>\n\n<p>How can I fix it?</p>\n"}, {"tags": ["typescript", "angular", "angular2-services"], "answers": [{"tags": [], "owner": {"reputation": 25995, "user_id": 5152732, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-eL0xfQom3xQ/AAAAAAAAAAI/AAAAAAAAB1E/j1B2Mcgvt6M/photo.jpg?sz=128", "display_name": "toskv", "link": "https://stackoverflow.com/users/5152732/toskv"}, "is_accepted": false, "score": 0, "last_activity_date": 1451400794, "creation_date": 1451400794, "answer_id": 34513491, "question_id": 34509320, "link": "https://stackoverflow.com/questions/34509320/angular-2-http-get-equivalent-to-angular-http-get/34513491#34513491", "title": "Angular 2 HTTP GET Equivalent to Angular HTTP GET", "body": "<p>Services in angular 2 are just TypeScript classes decorated with the <strong>@Injectable()</strong>.</p>\n\n<p>The service could look like this:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>import {Injectable, Inject, EventEmitter} from 'angular2/core';\nimport {Http, Response} from 'angular2/http';\n\n@Injectable() // annotated class that can be injected in other components\nexport class ProcessingService {\n  // inject the http service (configured in the global injector)\n  constructor(@Inject(Http) private http :Http) {\n\n  }\n  // the service method returning an event emmiter (instead of promises)\n  public getSettings():EventEmitter&lt;string&gt; {\n\n      let emmiter = new EventEmitter&lt;string&gt;(true);\n\n      // call the method and subscribe to the event emmiter\n      this.http.get('Settings/GetSettings').subscribe((value: Response) =&gt; {\n        emmiter.emit('called');    \n      });\n      return emmiter;\n  }\n}\n</code></pre>\n\n\n\n<p>Then you can use dependency injection to insert the service in a component, like this:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>import {Component, Inject } from 'angular2/core';\n// import our service\nimport {ProcessingService} from './services/processing-service/processing-service';\n\n@Component({\n  selector: 'http-search-params-app',\n  providers: [],\n  templateUrl: 'app/http-search-params.html',\n  pipes: [],\n  bindings:[ProcessingService] // tell the component injector to inject our service\n})\nexport class HttpWorkApp {\n  workDone = [];\n\n  constructor(private processingService: ProcessingService) {}\n\n  // call the sevice \n  public doWork() {\n      this.processingService.getSettings().subscribe((value :string) =&gt;{\n          this.workDone.push(value);\n      });\n  }\n}\n</code></pre>\n\n<p>The template for that component:</p>\n\n<pre><code>&lt;div&gt;\n    &lt;button (click)=\"doWork()\"&gt;Call HTTP Service&lt;/button&gt;\n    &lt;div *ngFor=\"#workItem of workDone\"&gt;{{workItem}}&lt;/div&gt;    \n&lt;/div&gt;\n</code></pre>\n\n<p>You also need to configure the global inject to allow for the injection of the <strong>Http</strong> service.</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>import {bootstrap} from 'angular2/platform/browser';\nimport {HttpWorkApp} from './app/http-search-params';\nimport {HTTP_PROVIDERS} from 'angular2/http';\n\nbootstrap(HttpWorkApp, [HTTP_PROVIDERS]);\n</code></pre>\n\n\n"}, {"comments": [{"owner": {"reputation": 2607, "user_id": 385638, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/8ee9e62cc6474e25ec14a6f2a7734b38?s=128&d=identicon&r=PG", "display_name": "DavidWainwright", "link": "https://stackoverflow.com/users/385638/davidwainwright"}, "edited": false, "score": 0, "creation_date": 1530182394, "post_id": 34514506, "comment_id": 89149878, "body": "Do I have to import the Http type for this? if so, where from?"}, {"owner": {"reputation": 181833, "user_id": 1873365, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/45TMV.png?s=128&g=1", "display_name": "Thierry Templier", "link": "https://stackoverflow.com/users/1873365/thierry-templier"}, "reply_to_user": {"reputation": 2607, "user_id": 385638, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/8ee9e62cc6474e25ec14a6f2a7734b38?s=128&d=identicon&r=PG", "display_name": "DavidWainwright", "link": "https://stackoverflow.com/users/385638/davidwainwright"}, "edited": false, "score": 0, "creation_date": 1530219684, "post_id": 34514506, "comment_id": 89170534, "body": "Yes you have to. From @angular/http. Note that Angular provides now another module for http: http client."}], "tags": [], "owner": {"reputation": 181833, "user_id": 1873365, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/45TMV.png?s=128&g=1", "display_name": "Thierry Templier", "link": "https://stackoverflow.com/users/1873365/thierry-templier"}, "is_accepted": true, "score": 2, "last_activity_date": 1451404531, "last_edit_date": 1495542875, "creation_date": 1451404531, "answer_id": 34514506, "question_id": 34509320, "link": "https://stackoverflow.com/questions/34509320/angular-2-http-get-equivalent-to-angular-http-get/34514506#34514506", "title": "Angular 2 HTTP GET Equivalent to Angular HTTP GET", "body": "<p>You can simply return an observable object (what the <code>http.get</code> method returns) from your your service, i.e. a class with the <code>Injectable</code> annotation:</p>\n\n<pre><code>@Injectable()\nexport class CompanyService {\n  constructor(http:Http) {\n    this.http = http;\n  }\n\n  getRandomQuote() {\n    return this.http.get('http://localhost:3001/api/random-quote')\n                  .map(res =&gt; res.json());\n  }\n}\n</code></pre>\n\n<p>Within your component, you can then inject this service and call the method that actually executes the HTTP request. To get the result, just use the <code>subscribe</code> method:</p>\n\n<pre><code>export class CompanyList implements OnInit {\n  public companies: Company[];\n\n  constructor(private service: CompanyService) {\n    this.service = service;\n  }\n\n  logError(err) {\n  }\n\n  ngOnInit() {\n    this.service.getRandomQuote().subscribe(\n      data =&gt; this.randomQuote = data,\n      err =&gt; this.logError(err),\n      () =&gt; console.log('Random Quote Complete')\n    );\n  }\n}\n</code></pre>\n\n<p>You could have more details at this address: <a href=\"https://stackoverflow.com/questions/34450131/how-to-consume-http-component-efficiently-in-angular-2-beta/34450948#34450948\">How to Consume Http Component efficiently in a service in angular 2 beta?</a>.</p>\n\n<p>Hope it will help you,\nThierry</p>\n"}], "owner": {"reputation": 83, "user_id": 1714346, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/df8f92a74fab1d7534e798605356b99e?s=128&d=identicon&r=PG", "display_name": "user1714346", "link": "https://stackoverflow.com/users/1714346/user1714346"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1537, "favorite_count": 0, "accepted_answer_id": 34514506, "answer_count": 2, "score": 3, "last_activity_date": 1451404531, "creation_date": 1451385761, "question_id": 34509320, "link": "https://stackoverflow.com/questions/34509320/angular-2-http-get-equivalent-to-angular-http-get", "title": "Angular 2 HTTP GET Equivalent to Angular HTTP GET", "body": "<p>Hope someone can clarify something for me.\nWhat I am doing right now, working with Angular 1.4.6:</p>\n\n<p>I create a service </p>\n\n<pre><code>'use strict';\nangular.module('App')\n.factory('processingService', ['$http',\n    function ($http) {\n        var settings = 'Settings/GetSettings';    \n        var getSettings = function()\n        {\n            return $http.get(settings)\n                .then(function(response)\n                {\n                    return response.data;\n                });\n        };\n        return {\n            getSettings: getSettings           \n        };\n    }\n]);\n</code></pre>\n\n<p>And use/inject that in my controller.</p>\n\n<pre><code>'use strict';\nangular.module('App')\n.controller('appController', [\n    '$scope','appService',\n    function ($scope, appService) {     \n        var onSettings = function (data) {\n            if (data.hasOwnProperty('Settings')) {    \n                //Code handling Settings          \n            }\n        };\n        var onSettingsError = function()\n        {\n           //Handle Errors\n           $scope.showLoader = false;\n        };      \n        appService.getSettings()\n            .then(onSettings, onSettingsError);\n}]);\n</code></pre>\n\n<p>I started a little bit playing around with angular2 beta and found the following example on http.get</p>\n\n<pre><code>getRandomQuote() {\n  this.http.get('http://localhost:3001/api/random-quote')\n    .map(res =&gt; res.text())\n    .subscribe(\n      data =&gt; this.randomQuote = data,\n      err =&gt; this.logError(err),\n      () =&gt; console.log('Random Quote Complete')\n    );\n}\n\nlogError(err) {\n  console.error('There was an error: ' + err);\n}\n</code></pre>\n\n<p>I build some other methods and tested a bit around and googled a lot, but could not find anything similar in creating a service with angular2 beta and typescript the way I was doing till now.\nIs it even necessary to do it that way. \nOr is this not the way it is done now with Angular2 beta?</p>\n\n<p>Thank you in advance.</p>\n"}, {"tags": ["node.js", "express", "typescript"], "comments": [{"owner": {"reputation": 2859, "user_id": 2948399, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4c94890ad2c249f78ba61367ff812d58?s=128&d=identicon&r=PG", "display_name": "pmcoltrane", "link": "https://stackoverflow.com/users/2948399/pmcoltrane"}, "edited": false, "score": 1, "creation_date": 1451400661, "post_id": 34508081, "comment_id": 56767593, "body": "have you tried <code>exports.test = (req: express.Request, res)...</code>?"}, {"owner": {"reputation": 17837, "user_id": 1923190, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/D0JyZ.jpg?s=128&g=1", "display_name": "Simon H", "link": "https://stackoverflow.com/users/1923190/simon-h"}, "reply_to_user": {"reputation": 2859, "user_id": 2948399, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4c94890ad2c249f78ba61367ff812d58?s=128&d=identicon&r=PG", "display_name": "pmcoltrane", "link": "https://stackoverflow.com/users/2948399/pmcoltrane"}, "edited": false, "score": 0, "creation_date": 1451423060, "post_id": 34508081, "comment_id": 56779275, "body": "Thanks - that seems to help, except that it requires me to put <code>import * as express from &quot;express&quot;;</code> in my controllers even though I don&#39;t use them in my code"}, {"owner": {"reputation": 2859, "user_id": 2948399, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4c94890ad2c249f78ba61367ff812d58?s=128&d=identicon&r=PG", "display_name": "pmcoltrane", "link": "https://stackoverflow.com/users/2948399/pmcoltrane"}, "edited": false, "score": 0, "creation_date": 1451424491, "post_id": 34508081, "comment_id": 56779908, "body": "how about <code>...req: Express.Request..</code> (uppercase E, as it is in the tsd)?"}, {"owner": {"reputation": 17837, "user_id": 1923190, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/D0JyZ.jpg?s=128&g=1", "display_name": "Simon H", "link": "https://stackoverflow.com/users/1923190/simon-h"}, "reply_to_user": {"reputation": 2859, "user_id": 2948399, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4c94890ad2c249f78ba61367ff812d58?s=128&d=identicon&r=PG", "display_name": "pmcoltrane", "link": "https://stackoverflow.com/users/2948399/pmcoltrane"}, "edited": false, "score": 0, "creation_date": 1451457612, "post_id": 34508081, "comment_id": 56790042, "body": "No, that does not seem to work. Thanks for what did work though"}], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 1223975, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/5Oh7r.jpg?s=128&g=1", "display_name": "Alexander Mills", "link": "https://stackoverflow.com/users/1223975/alexander-mills"}, "edited": false, "score": 0, "creation_date": 1519783506, "post_id": 44610058, "comment_id": 85047006, "body": "nice work, upvoted, do you think my answer is better tho?"}], "tags": [], "owner": {"reputation": 511, "user_id": 6117231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/df07a3cb4e75c959705b68e1619f6fb0?s=128&d=identicon&r=PG&f=1", "display_name": "J. NZ", "link": "https://stackoverflow.com/users/6117231/j-nz"}, "is_accepted": false, "score": 41, "last_activity_date": 1605585858, "last_edit_date": 1605585858, "creation_date": 1497739211, "answer_id": 44610058, "question_id": 34508081, "link": "https://stackoverflow.com/questions/34508081/how-to-add-typescript-definitions-to-express-req-res/44610058#44610058", "title": "How to add Typescript definitions to Express req &amp; res", "body": "<p>You can use ES6 style named imports to import only the interfaces you need, rather than <code>import * as express from 'express'</code> which would include express itself.</p>\n<p>First, make sure you have installed the type definitions for express (<code>npm install -D @types/express</code>).</p>\n<p>Example:</p>\n<pre><code>// middleware/authCheck.ts\nimport { Request, Response, NextFunction } from 'express';\n\nexport const authCheckMiddleware = (req: Request, res: Response, next: NextFunction) =&gt; {\n  ...\n};\n\n// server.ts\nimport { authCheckMiddleware } from './middleware/authCheck';\napp.use('/api', authCheckMiddleware);\n</code></pre>\n<p>Currently using TypeScript 2.3.4 and @types/express 4.0.36.</p>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 1223975, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/5Oh7r.jpg?s=128&g=1", "display_name": "Alexander Mills", "link": "https://stackoverflow.com/users/1223975/alexander-mills"}, "is_accepted": false, "score": 3, "last_activity_date": 1519783489, "creation_date": 1519783489, "answer_id": 49020885, "question_id": 34508081, "link": "https://stackoverflow.com/questions/34508081/how-to-add-typescript-definitions-to-express-req-res/49020885#49020885", "title": "How to add Typescript definitions to Express req &amp; res", "body": "<p>The best way to do this is like so.</p>\n\n<p>// create some shared types in your project</p>\n\n<pre><code>import { Request, Response, NextFunction } from 'express';\nexport type MiddlewareFn = (req: Request, res: Response, next: NextFunction) =&gt; void;\n</code></pre>\n\n<p>// then use the above types:</p>\n\n<pre><code>import {MiddlewareFn} from './my-types.d.ts'\n\nrouter.get('/foo', &lt;MiddlewareFn&gt;function (req, res, next) {\n\n   // ....\n});\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 6891, "user_id": 3859456, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/0dbf7bc0c83ae7971af6f41ebf7c7330?s=128&d=identicon&r=PG&f=1", "display_name": "Jonathan002", "link": "https://stackoverflow.com/users/3859456/jonathan002"}, "is_accepted": false, "score": 24, "last_activity_date": 1564366755, "last_edit_date": 1564366755, "creation_date": 1564366422, "answer_id": 57246489, "question_id": 34508081, "link": "https://stackoverflow.com/questions/34508081/how-to-add-typescript-definitions-to-express-req-res/57246489#57246489", "title": "How to add Typescript definitions to Express req &amp; res", "body": "<p>It can be daunting to type the arguments every time you need to write middleware functions so you can just type the whole function directly too.</p>\n\n<pre><code>npm i @types/express --save-dev (\"@types/express\": \"^4.17.0\")\n</code></pre>\n\n<p>After installing typings..</p>\n\n<pre><code>// This can be shortened..\nimport { Request, Response, NextFunction } from 'express';\nexport const myMiddleware = (req: Request, res: Response, next: NextFunction) =&gt; {\n  ...\n};\n\n// to this..\nimport { RequestHandler } from 'express';\nexport const myMiddleware: RequestHandler = (req, res, next) =&gt; {\n  ...\n};\n\n// or in case it handles the error object\nimport { ErrorRequestHandler } from 'express';\nexport const myMiddleware: ErrorRequestHandler = (err, req, res, next) =&gt; {\n  ...\n};\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1020, "user_id": 12564768, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-AzRRVYFu6ns/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rdeCJCru2g53Hk-Z1t9IrAprgFO4w/photo.jpg?sz=128", "display_name": "07mm8", "link": "https://stackoverflow.com/users/12564768/07mm8"}, "edited": false, "score": 0, "creation_date": 1599743767, "post_id": 62136416, "comment_id": 112872856, "body": "it works, but it&#39;s so wrong. <code>paramName</code> is string or undefined... crap api and types from express side"}], "tags": [], "owner": {"reputation": 568, "user_id": 5591374, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/j9vOc.jpg?s=128&g=1", "display_name": "mkg", "link": "https://stackoverflow.com/users/5591374/mkg"}, "is_accepted": false, "score": 2, "last_activity_date": 1591028369, "creation_date": 1591028369, "answer_id": 62136416, "question_id": 34508081, "link": "https://stackoverflow.com/questions/34508081/how-to-add-typescript-definitions-to-express-req-res/62136416#62136416", "title": "How to add Typescript definitions to Express req &amp; res", "body": "<p>Rather than installing types(<code>@types/express</code>) you should also define request parameters. Since every parameter is string, interface should base on  dictionary.</p>\n\n<p>Here is an inline route handler:</p>\n\n<pre><code>interface GetParams {\n  [key: string]: string\n  paramName: string\n}\n\nrouter.get&lt;GetParams&gt;('/:paramName', (req, res) =&gt; {\n  res.send('Parameter is ' + req.params.paramName)\n})\n\n</code></pre>\n"}], "owner": {"reputation": 17837, "user_id": 1923190, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/D0JyZ.jpg?s=128&g=1", "display_name": "Simon H", "link": "https://stackoverflow.com/users/1923190/simon-h"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 16723, "favorite_count": 4, "answer_count": 4, "score": 21, "last_activity_date": 1605585858, "creation_date": 1451380953, "last_edit_date": 1451385079, "question_id": 34508081, "link": "https://stackoverflow.com/questions/34508081/how-to-add-typescript-definitions-to-express-req-res", "title": "How to add Typescript definitions to Express req &amp; res", "body": "<p>I have a set of controller functions for my REST API and I'm getting lots of the following</p>\n\n<pre><code>error TS7006: Parameter 'req' implicitly has an 'any' type.\n</code></pre>\n\n<p>Likewise for <code>res</code>.  I've been playing around with typeings etc. but with no success. For example the <code>Request</code> type parameter below does NOT work.</p>\n\n<p>Here is an example of the controller files. The reference path is correct.</p>\n\n<pre><code>/// &lt;reference path=\"../../../typings/tsd.d.ts\" /&gt;    \n/* globals require */    \n\"use strict\";    \nexports.test = (req : Request, res) =&gt; {\n</code></pre>\n\n<p>I tried adding <code>import * as express from \"express\";</code> into the file - I don't need it normally as these functions are exported and use by index.js which actually implements the routing.</p>\n\n<p>And this is tsd.d.ts</p>\n\n<pre><code>/// &lt;reference path=\"requirejs/require.d.ts\" /&gt;\n/// &lt;reference path=\"express/express.d.ts\" /&gt;\n/// &lt;reference path=\"mime/mime.d.ts\" /&gt;\n/// &lt;reference path=\"node/node.d.ts\" /&gt;\n/// &lt;reference path=\"serve-static/serve-static.d.ts\" /&gt;\n/// &lt;reference path=\"bluebird/bluebird.d.ts\" /&gt;\n/// &lt;reference path=\"mongoose/mongoose.d.ts\" /&gt;\n</code></pre>\n"}, {"tags": ["javascript", "angularjs", "typescript", "jasmine"], "owner": {"reputation": 146, "user_id": 2048901, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rAi3a.png?s=128&g=1", "display_name": "cesaraviles", "link": "https://stackoverflow.com/users/2048901/cesaraviles"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 34, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1451369243, "creation_date": 1451369243, "question_id": 34505402, "link": "https://stackoverflow.com/questions/34505402/ng-typescript-and-jasmin-test-failing", "title": "NG, Typescript and Jasmin test failing", "body": "<p>getQuestions is called but never seems to completed so the length in the test is always undefined. However, when I access the page directly without a unit test this works fine. Any thoughts? Thanks in advance!</p>\n\n<pre><code>    //service\n            `/// &lt;reference path=\"../entity/entity.service.ts\" /&gt;\n                module app.services {\n                'use strict';\n\n                //TODO: answer question and favorite\n                export interface IQuestionService {\n                    favoriteQuestion(favQuestion: entity.IFavoriteQuestionDetails): angular.IHttpPromiseCallbackArg&lt;any&gt;\n                    ask(question: entity.IQuestionDetails):angular.IHttpPromiseCallbackArg&lt;any&gt;;\n                    getQuestions(): angular.IPromise&lt;app.entity.IQuestions&gt;;\n                    getQuestion(qid: string): angular.IHttpPromiseCallbackArg&lt;entity.IQuestion&gt;;\n                    answerQuestion(answer: entity.AnswerDetails): angular.IHttpPromiseCallbackArg&lt;any&gt; \n                    sort(sortType: entity.SortType): angular.IHttpPromiseCallbackArg&lt;app.entity.IQuestions&gt;;\n                    search(q: string): angular.IHttpPromiseCallbackArg&lt;app.entity.IQuestions&gt;;\n\n                }\n\n                export class QuestionService implements IQuestionService  {\n                    static $inject = [\n                        '$http'\n                    ];\n                    constructor(private $http: angular.IHttpService) {\n\n\n                    }\n\n                    favoriteQuestion(favQuestion: entity.IFavoriteQuestionDetails): angular.IHttpPromiseCallbackArg&lt;any&gt; {\n\n                        return this.$http\n                            .post('https://api.stackexchange.com/2.2/' + favQuestion.id + '/favorite', favQuestion)\n                            .then((response: angular.IHttpPromiseCallbackArg&lt;any&gt;): any =&gt; {\n                                return response.data;\n                            }, () =&gt; {\n                                return null;\n                            });\n\n                    }\n\n                    getQuestions(): angular.IPromise&lt;app.entity.IQuestions&gt; {\n                        return this.$http\n                            .get('https://api.stackexchange.com/2.2/questions?order=desc&amp;sort=activity&amp;site=stackoverflow')\n                            .then((response: angular.IHttpPromiseCallbackArg&lt;app.entity.IQuestions&gt;): app.entity.IQuestions =&gt; {\n\n\n                                return response.data;\n                            }, () =&gt; {\n                                return null;\n                            });\n\n                    }\n\n                    getQuestion(qid: string): angular.IHttpPromiseCallbackArg&lt;app.entity.IQuestion&gt; {\n                        return this.$http\n                            .get('http://api.stackexchange.com//2.2/questions/' + qid + '/answers?order=desc&amp;sort=activity&amp;site=stackoverflow&amp;filter=withbody')\n                            .then((response: angular.IHttpPromiseCallbackArg&lt;entity.IQuestion&gt;): entity.IQuestion =&gt; {\n\n\n                                return response.data;\n                            }, () =&gt; {\n                                return null;\n                            });\n\n                    }\n\n                    //https://api.stackexchange.com/docs/create-answer\n                    ///2.2/questions/ { id } / answers / add\n                    answerQuestion(answer: entity.AnswerDetails): angular.IHttpPromiseCallbackArg&lt;any&gt; {\n\n                        return this.$http\n                            .post('https://api.stackexchange.com/2.2/' + answer.id + '/answers/add', answer)\n                            .then((response: angular.IHttpPromiseCallbackArg&lt;any&gt;): any =&gt; {\n                                return response.data;\n                            }, () =&gt; {\n                                return null;\n                            });\n\n                    }\n\n\n                    sortStr: string;\n\n                    sort(sortType: app.entity.SortType): angular.IHttpPromiseCallbackArg&lt;entity.IQuestions&gt; {\n\n                        switch (sortType) {\n                        case app.entity.SortType.Creation:\n                            this.sortStr = 'creation';\n                            break;\n                        case app.entity.SortType.Hot:\n                            this.sortStr = 'hot';\n                            break;\n                        case app.entity.SortType.Month:\n                            this.sortStr = 'month';\n                            break;\n                        case app.entity.SortType.Votes:\n                            this.sortStr = 'votes';\n                            break;\n                        case app.entity.SortType.Week:\n                            this.sortStr = 'week';\n                            break;\n                        default:\n                            this.sortStr = 'activity';\n                            break;\n                        }\n\n                        return this.$http\n                            .get('http://api.stackexchange.com/2.2/questions?order=asc&amp;sort=' + this.sortStr + '&amp;site=stackoverflow ')\n                            .then((response: angular.IHttpPromiseCallbackArg&lt;entity.IQuestions&gt;): entity.IQuestions =&gt; {\n\n\n                                return response.data;\n                            }, () =&gt; {\n                                return null;\n                            });\n\n                    }\n\n\n                    search(q: string): entity.IQuestions {\n\n\n                        return &lt;any&gt;(this.$http\n                            .get('https://api.stackexchange.com/2.2/search/advanced?order=desc&amp;sort=activity&amp;q=' + q + 'site=stackoverflow')\n                            .then((response: angular.IHttpPromiseCallbackArg&lt;entity.IQuestions&gt;): entity.IQuestions =&gt; {\n\n\n                                return response.data;\n                            }, () =&gt; {\n                                return null;\n                            }));\n\n                    }\n\n\n\n\n                    ask(question: entity.QuestionDetails): angular.IHttpPromiseCallbackArg&lt;any&gt; {\n\n                        return this.$http\n                            .post('https://api.stackexchange.com/2.2/questions/add', question)\n                            .then((response: angular.IHttpPromiseCallbackArg&lt;any&gt;): any =&gt; {\n                                return response.data;\n                            }, () =&gt; {\n                                return null;\n                            });\n\n\n                    }\n\n\n\n                }\n\n                angular.module('app.services').service('app.services.QuestionService', QuestionService);\n            }\n\n\n        //controller\n\n            /// &lt;reference path=\"../entity/entity.service.ts\" /&gt;\n            module app.questions {\n                'use strict';\n                export interface IQuestions {\n                    getQuestions(): void;\n                }\n                export class QuestionsController implements IQuestions {\n                    static $inject = [\n                        '$scope',\n                        'app.services.QuestionService'\n                    ];\n\n                    allquestions: entity.IQuestions;\n\n                    constructor(\n                        private $scope: angular.IScope,\n                        private questions: app.services.IQuestionService\n\n                    ) {\n\n                    }\n                    getQuestions(): void {\n                        this.questions.getQuestions().then(\n                            response =&gt; {\n                                this.$scope['questions'] = response;\n                                console.log('questions' + response);\n                            });\n                    }\n                }\n                angular\n                    .module('app.questions')\n                    .controller('app.questions.QuestionsController', QuestionsController);\n            }\n\n\n//unit test\n                describe('QuestionController', function () {\n                beforeEach(angular.mock.module('app'));\n\n                var $controller;\n\n                beforeEach(inject(function (_$controller_) {\n                    // The injector unwraps the underscores (_) from around the parameter names when matching\n                    $controller = _$controller_;\n                }));\n\n                describe('do we have questions', function () {\n                    var $scope, controller, qs;\n\n                    beforeEach(function (done) {\n                        $scope = {};\n                        qs = {};\n                        controller = $controller('app.questions.QuestionsController', {   $scope: $scope });\n\n                   controller.getQuestions();\n                        setTimeout(function () {\n\n                            done();\n                        }, 3000);\n                    });\n                    it(\"the list should have questions\", function (done) {\n\n                        expect($scope.questions.items.length).toBeGreaterThan(0);\n                        done();\n                    });\n                    });\n                });`\n</code></pre>\n"}, {"tags": ["javascript", "typescript", "webpack", "angular", "webpack-dev-server"], "answers": [{"tags": [], "owner": {"reputation": 18175, "user_id": 1480995, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/cd82c8854beb35da244f8d7d7f3751a8?s=128&d=identicon&r=PG", "display_name": "Michael Oryl", "link": "https://stackoverflow.com/users/1480995/michael-oryl"}, "is_accepted": true, "score": 0, "last_activity_date": 1451406612, "creation_date": 1451406612, "answer_id": 34515086, "question_id": 34504026, "link": "https://stackoverflow.com/questions/34504026/missing-typescript-source-file-mappings-in-webpack/34515086#34515086", "title": "Missing TypeScript source file mappings in webpack://", "body": "<p>The issue appears to have been one of caching.  Blowing out my build directory and restarting webpack (or the webpack-dev-server) caused everything to come back.</p>\n\n<p>Simply restarting the server had no impact.</p>\n"}], "owner": {"reputation": 18175, "user_id": 1480995, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/cd82c8854beb35da244f8d7d7f3751a8?s=128&d=identicon&r=PG", "display_name": "Michael Oryl", "link": "https://stackoverflow.com/users/1480995/michael-oryl"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 823, "favorite_count": 0, "accepted_answer_id": 34515086, "answer_count": 1, "score": 1, "last_activity_date": 1451406612, "creation_date": 1451360090, "last_edit_date": 1451394480, "question_id": 34504026, "link": "https://stackoverflow.com/questions/34504026/missing-typescript-source-file-mappings-in-webpack", "title": "Missing TypeScript source file mappings in webpack://", "body": "<p>I'm trying to get an Angular 2 application (written in TypeScript) setup in Webpack so that it is debuggable in IntelliJ IDEA 15.  I'm serving it locally with the webpack-dev-server.</p>\n\n<p>One of the things I've noticed is that very few of my application's files show up in the <code>webpack://.</code> section of the Scripts tab when I look at my app in the IntelliJ debugger or in Chrome's inspector.</p>\n\n<p>Here's what I see listed in the Chrome Inspector, for example:</p>\n\n<p><a href=\"https://i.stack.imgur.com/hv19n.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/hv19n.png\" alt=\"Chrome Inspector view\"></a></p>\n\n<p>That shows very few files.  But here's (some of) what's really in play (as shown in IntelliJ IDEA):</p>\n\n<p><a href=\"https://i.stack.imgur.com/fGPza.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/fGPza.png\" alt=\"Actual folder contents\"></a></p>\n\n<p>This is what my <code>webpack.config.js</code> file looks like:</p>\n\n<pre><code>// @AngularClass\n\n/*\n * Helper: root(), and rootDir() are defined at the bottom\n */\nvar path = require('path');\nvar webpack = require('webpack');\n// Webpack Plugins\nvar CommonsChunkPlugin = webpack.optimize.CommonsChunkPlugin;\n\n/*\n * Config\n */\nmodule.exports = {\n    // for faster builds use 'eval'\n    devtool: 'source-map',\n    debug: true, // remove in production\n\n    entry: {\n//        'vendor': './src/vendor.ts',\n        'vendor': './src/vendor.ts',\n        'app': './src/app/app.ts' // our angular app\n    },\n\n    // Config for our build files\n    output: {\n        path: root('__build__'),\n        filename: '[name].js',\n        sourceMapFilename: '[name].map',\n        chunkFilename: '[id].chunk.js'\n    },\n\n    resolve: {\n        // ensure loader extensions match\n        alias: { // failed attempt to import into vendor.ts\n            jquery: path.join(__dirname, 'src/lib/jquery/jquery.min.js'),\n            'js.cookie': path.join(__dirname, 'src/lib/js.cookie/js.cookie.js'),\n            bootstrap: path.join(__dirname, 'src/lib/bootstrap/bootstrap.js')\n        },\n        extensions: ['', '.ts', '.js', '.json', '.css', '.html']\n    },\n\n    module: {\n//        preLoaders: [ { test: /\\.ts$/, loader: 'tslint-loader' } ],\n        loaders: [\n            // Support for .ts files.\n            {\n                test: /\\.ts$/,\n                loader: 'ts-loader',\n                query: {\n                    'ignoreDiagnostics': [\n                        2403, // 2403 -&gt; Subsequent variable declarations\n                        2300, // 2300 -&gt; Duplicate identifier\n                        2374, // 2374 -&gt; Duplicate number index signature\n                        2375  // 2375 -&gt; Duplicate string index signature\n                    ]\n                },\n                exclude: [/\\.(spec|e2e)\\.ts$/, /node_modules\\/(?!(ng2-.+))/]\n            },\n\n            // Support for *.json files.\n            {test: /\\.json$/, loader: 'json-loader'},\n\n            // Support for CSS as raw text\n            {test: /\\.css$/, loader: 'raw-loader'},\n\n            // support for .html as raw text\n            {test: /\\.html$/, loader: 'raw-loader'}\n        ],\n        noParse: [/angular2-polyfills/]\n    },\n\n    plugins: [\n        new CommonsChunkPlugin({name: 'vendor', filename: 'vendor.js', minChunks: Infinity}),\n        new CommonsChunkPlugin({name: 'common', filename: 'common.js', minChunks: 2, chunks: ['app', 'vendor']})\n        // include uglify in production\n    ],\n\n    // Other module loader config\n    tslint: {\n        emitErrors: false,\n        failOnHint: false\n    },\n    // our Webpack Development Server config\n    devServer: {\n        historyApiFallback: true,\n        contentBase: 'src',\n        publicPath: '/__build__'\n    }\n};\n\n// Helper functions\n\nfunction root(args) {\n    args = Array.prototype.slice.call(arguments, 0);\n    return path.join.apply(path, [__dirname].concat(args));\n}\n\nfunction rootNode(args) {\n    args = Array.prototype.slice.call(arguments, 0);\n    return root.apply(path, ['node_modules'].concat(args));\n}\n</code></pre>\n\n<p>So far I've had no luck debugging my app, which doesn't seem like much of a surprise if the debugger can't map the running code to my source files using the source maps created by Webpack.</p>\n\n<p>If anybody has any insight as to what I might need to do, I'd appreciate it.</p>\n"}, {"tags": ["meteor", "typescript", "angular", "angular2-meteor"], "answers": [{"comments": [{"owner": {"reputation": 13, "user_id": 3258128, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/192535a658e35d1efb812e96cd0bc5e1?s=128&d=identicon&r=PG", "display_name": "user171353", "link": "https://stackoverflow.com/users/3258128/user171353"}, "edited": false, "score": 0, "creation_date": 1451448010, "post_id": 34503505, "comment_id": 56786920, "body": "I not ready to give up on Angular2 just yet. I did find that the Meteor.methods/call technique works if I move the definition from the &quot;server&quot; to the &quot;collections&quot; folder. I would prefer to hide the type of details you have in your helper method from the client, so I am wondering where you place the &quot;public static get&quot;  function. (Trying to import a function from the &quot;server&quot; folder causes compile time errors.)"}], "tags": [], "owner": {"reputation": 9323, "user_id": 300359, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/LNQHU.jpg?s=128&g=1", "display_name": "Thai Tran", "link": "https://stackoverflow.com/users/300359/thai-tran"}, "is_accepted": false, "score": 1, "last_activity_date": 1451449952, "last_edit_date": 1451449952, "creation_date": 1451355244, "answer_id": 34503505, "question_id": 34503400, "link": "https://stackoverflow.com/questions/34503400/using-meteor-with-angular2-typescript-how-do-i-call-an-external-web-service-fro/34503505#34503505", "title": "Using Meteor with Angular2/Typescript, how do I call an external web service from server-side code based on a client-side event?", "body": "<p>Yes, you can call directly from the server to the web service in order to receive data. I am not so sure how you did for the <code>Meteor.methods/Meteor.call</code> and say it did not work. But basically, the idea is client will click the button and then button will trigger a method on the server. The server method then will call the web service and return the data. </p>\n\n<p>Some example code could be: </p>\n\n<pre><code>Template['template'].events({\n    'click .getData': function(event: any) {\n        Meteor.call('serverMethod', function(err, res) {\n            if (err) {alert(err);}\n            else { ... }\n\n        )\n    }\n});\n</code></pre>\n\n<p>The tricky part for new comer when calling the rest is you need to use <code>aysnc</code> calling in order to return the data to client. We normally make helper function for that</p>\n\n<pre><code>    public static get(url: string, headers: any): any {\n        var httpCall  = Meteor.wrapAsync(HTTP.call);\n\n        var result = httpCall('GET', url, {headers: headers});\n\n        if (result.statusCode == 200) {\n            try {\n                var res = JSON.parse(result.content);\n\n                return res;\n            } catch(err) {\n                return result.content;\n            }   \n        }\n\n        return null;    \n    }\n</code></pre>\n\n<p>And call the helper like this </p>\n\n<pre><code>public static serverMethod(username: string, password: string): any {\n    var response = RestService.get(query.url, query.header); \n    return response;\n}\n</code></pre>\n\n<p>This way, the <code>res</code> in the client code above will get the result. </p>\n\n<p>I actually dropped the Angular 2 for the lack of documentation, but stay with Typescript for my system because I can wrap all the meteor call inside the Typescript class, as you can see in my example, <code>serverMethod</code> is in the typescript function format, not in meteor way like <code>Meteor.methods({....})</code>, which is really good for now</p>\n\n<p>Typically, this is a class in my server folder </p>\n\n<pre><code>// server/rest.service.ts\ndeclare var RestService: any;\nRestService = class RestService {\n\n    methodMap = {\n        \"getFromRest\": RestService.get,\n        \"postToRest\": RestService.post,\n    };\n\n    constructor() {\n        var abstractService = new AbstractService();\n        abstractService.registerMethod(this.getClassName(), this.methodMap);        \n    }\n\n    getClassName(): string {\n        return this.constructor.toString().match(/\\w+/g)[1];\n    }\n\n    //------------------------------------------------------------------------------------\n    // Helper methods\n    //------------------------------------------------------------------------------------\n    public static get(url: string, headers: any): any {\n        var httpCall  = Meteor.wrapAsync(HTTP.call);\n\n        var result = httpCall('GET', url, {headers: headers});\n\n        if (result.statusCode == 200) {\n            try {\n                var res = JSON.parse(result.content);\n\n                return res;\n            } catch(err) {\n                return result.content;\n            }   \n        }\n\n        return null;    \n    }\n</code></pre>\n\n<p>I have a class to map the typescript service to the <code>meteor</code> method</p>\n\n<pre><code>// server/abstract.service.ts\ndeclare var AbstractService: any;\nAbstractService = class AbstractService {\n    constructor() {}\n\n    public registerMethod (scopeName: string, methodMap: {[key:string]:any}) {\n        var scopeMap: {[key:string]: any} = {};\n\n        for (var key in methodMap) {\n            scopeMap[scopeName + '.' + key] = methodMap[key];\n        }\n\n        Meteor.methods(scopeMap);\n    }\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1629, "user_id": 5737337, "user_type": "registered", "accept_rate": 0, "profile_image": "https://lh3.googleusercontent.com/-B0hHFzPSkuM/AAAAAAAAAAI/AAAAAAAADGQ/smj4Da63ILk/photo.jpg?sz=128", "display_name": "Derek Kite", "link": "https://stackoverflow.com/users/5737337/derek-kite"}, "is_accepted": true, "score": 0, "last_activity_date": 1453767422, "creation_date": 1453767422, "answer_id": 35004933, "question_id": 34503400, "link": "https://stackoverflow.com/questions/34503400/using-meteor-with-angular2-typescript-how-do-i-call-an-external-web-service-fro/35004933#35004933", "title": "Using Meteor with Angular2/Typescript, how do I call an external web service from server-side code based on a client-side event?", "body": "<p>Using angular2, Meteor and Typescript, what works is to chain the Meteor.methods.</p>\n\n<p>First on the client, in response to a button click \n ...<br>\n Meteor.call('importCsv',id,function(error,result) {\n ...</p>\n\n<p>In collections/methods folder or similar, I define the method as follows:</p>\n\n<pre><code>Meteor.methods({\n 'importCsv': function(id) {\n    console.log('importCsv method on client');\n    Meteor.call('importCsvServer',id);\n\n }\n</code></pre>\n\n<p>});</p>\n\n<p>In server/ folder, a file includes the method as follows</p>\n\n<pre><code>Meteor.methods({\n'importCsvServer': function(id) {\n</code></pre>\n\n<p>....</p>\n\n<p>In server/main.ts I import the collections/methods/filename. In client/app.ts I import the same thing. The client Meteor.call successfully calls the first method which then calls the second one in the server/ folder.</p>\n\n<p>My goal is to have a bunch of processing on the server initiated by the client. When I had the function calls in the method defined in collections/methods imported into both the client and server, it resulted in compiler errors.</p>\n\n<p><a href=\"https://github.com/Urigo/angular2-meteor/issues/74\" rel=\"nofollow\">Angular2-Meteor issue 74</a></p>\n"}], "owner": {"reputation": 13, "user_id": 3258128, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/192535a658e35d1efb812e96cd0bc5e1?s=128&d=identicon&r=PG", "display_name": "user171353", "link": "https://stackoverflow.com/users/3258128/user171353"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 818, "favorite_count": 0, "accepted_answer_id": 35004933, "answer_count": 2, "score": 1, "last_activity_date": 1456262040, "creation_date": 1451354389, "last_edit_date": 1456262040, "question_id": 34503400, "link": "https://stackoverflow.com/questions/34503400/using-meteor-with-angular2-typescript-how-do-i-call-an-external-web-service-fro", "title": "Using Meteor with Angular2/Typescript, how do I call an external web service from server-side code based on a client-side event?", "body": "<p>When the user adds a new entry in the client, I need to make a web service call from the server (the client-side code will not have access) and add some additional information to the data stored in MongoDB.\nTrying to use the standard Meteor.methods/Meteor.call pattern does not seem to work.</p>\n\n<p>Do I need to listen for the click event on the \"Add\" button on both the server and the client?\nShould I raise a custom event on the client that the server reacts to?\nIs there a proper way to make a direct call to a server-side method?\nMost importantly, how do I keep TypeScript happy in all of this?</p>\n\n<p>I am new to the TypeScript layer on top of Meteor and it is throwing me for loop. I have been generally following the Angular-Meteor tutorial for 2.0 but this sort of thing is not covered yet.</p>\n"}, {"tags": ["typescript", "static-members"], "answers": [{"tags": [], "owner": {"reputation": 2859, "user_id": 2948399, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4c94890ad2c249f78ba61367ff812d58?s=128&d=identicon&r=PG", "display_name": "pmcoltrane", "link": "https://stackoverflow.com/users/2948399/pmcoltrane"}, "is_accepted": false, "score": 4, "last_activity_date": 1451347971, "creation_date": 1451347971, "answer_id": 34502654, "question_id": 34502195, "link": "https://stackoverflow.com/questions/34502195/using-static-property-in-inherited-class-method/34502654#34502654", "title": "Using static property in inherited class method", "body": "<p>If you are willing to sacrifice type checking, you can get rid of the TypeScript compiler error by indexing the property:</p>\n\n<pre><code>console.log(this.constructor[\"staticProp\"]);\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 24880, "user_id": 99256, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/HfmF9.png?s=128&g=1", "display_name": "Martin Vseticka", "link": "https://stackoverflow.com/users/99256/martin-vseticka"}, "reply_to_user": {"reputation": 147776, "user_id": 3731501, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/e4783dfa8ec98c884e61d29f2192ac97?s=128&d=identicon&r=PG&f=1", "display_name": "Estus Flask", "link": "https://stackoverflow.com/users/3731501/estus-flask"}, "edited": false, "score": 0, "creation_date": 1451389613, "post_id": 34509156, "comment_id": 56761637, "body": "Well, the problem is that if you go with @pmcoltrane solution, you lose type information. You can do <code>let p = this.constructor[&quot;staticProp&quot;] as boolean</code> but this way you specify the type twice and if you do some refactoring, you may get an error. So there are pros and cons. It would be great to have <code>self</code> keyword but unfortunately it is not supported. This is also the reason why I would use the getters (even though they are clumsy), because my IDE could control my code and a chance of introducing a bug would be lower."}], "tags": [], "owner": {"reputation": 24880, "user_id": 99256, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/HfmF9.png?s=128&g=1", "display_name": "Martin Vseticka", "link": "https://stackoverflow.com/users/99256/martin-vseticka"}, "is_accepted": false, "score": 10, "last_activity_date": 1451385073, "creation_date": 1451385073, "answer_id": 34509156, "question_id": 34502195, "link": "https://stackoverflow.com/questions/34502195/using-static-property-in-inherited-class-method/34509156#34509156", "title": "Using static property in inherited class method", "body": "<p>TypeScript only supports <code>ClassName.staticPropertyName</code> syntax at the moment. There is, however, <a href=\"https://github.com/Microsoft/TypeScript/issues/3836\">an open issue</a> asking for simplifying it.</p>\n\n<p>You can also wrap your <code>staticProp</code> in a getter. It's cumbersome but at least it does not feel like a language hack:</p>\n\n<pre><code>class ParentClass {\n    static staticProp = true; \n\n    method() {\n        console.log(this.staticProp);\n    }\n\n    get staticProp(): boolean { return ParentClass.staticProp; }\n}\n\nclass ChildClass extends ParentClass {\n    static staticProp = false; \n\n    get staticProp(): boolean { return ChildClass.staticProp; }\n}\n\n(new ChildClass).method(); \n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 147776, "user_id": 3731501, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/e4783dfa8ec98c884e61d29f2192ac97?s=128&d=identicon&r=PG&f=1", "display_name": "Estus Flask", "link": "https://stackoverflow.com/users/3731501/estus-flask"}, "is_accepted": true, "score": 6, "last_activity_date": 1504709193, "last_edit_date": 1504709193, "creation_date": 1451390891, "answer_id": 34510748, "question_id": 34502195, "link": "https://stackoverflow.com/questions/34502195/using-static-property-in-inherited-class-method/34510748#34510748", "title": "Using static property in inherited class method", "body": "<p>I was able to make TypeScript keep silent with</p>\n\n<pre><code>class ParentClass {\n    static staticProp = true; \n\n    method() {\n        console.log((&lt;typeof ParentClass&gt;this.constructor).staticProp);\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 147776, "user_id": 3731501, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/e4783dfa8ec98c884e61d29f2192ac97?s=128&d=identicon&r=PG&f=1", "display_name": "Estus Flask", "link": "https://stackoverflow.com/users/3731501/estus-flask"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4870, "favorite_count": 2, "accepted_answer_id": 34510748, "answer_count": 3, "score": 7, "last_activity_date": 1504709193, "creation_date": 1451344665, "question_id": 34502195, "link": "https://stackoverflow.com/questions/34502195/using-static-property-in-inherited-class-method", "title": "Using static property in inherited class method", "body": "<p>This piece of code transpiles with Babel and TypeScript and works as expected.</p>\n\n<pre><code>class ParentClass {\n    static staticProp = true; \n\n    method() {\n        console.log(this.constructor.staticProp);\n    }\n}\n\nclass ChildClass extends ParentClass {\n    static staticProp = false;\n}\n\n(new ChildClass).method(); \n</code></pre>\n\n<p>The requirement here is to refer to static property of current class (through <code>this.constructor</code>) instead of mentioning the class explicitly, so the method can be inherited and use the relevant static property in child classes.</p>\n\n<p>It is ok for Babel, and TypeScript compiles it as well, but it throws</p>\n\n<blockquote>\n  <p>error TS2339: Property 'staticProp' does not exist on type 'Function'.</p>\n</blockquote>\n\n<p>on compilation.</p>\n\n<p>How can this case be treated to please TypeScript compiler?</p>\n"}, {"tags": ["typescript", "typescript1.7", "reflect-metadata"], "answers": [{"tags": [], "owner": {"reputation": 17182, "user_id": 606821, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/X49xe.png?s=128&g=1", "display_name": "Remo H. Jansen", "link": "https://stackoverflow.com/users/606821/remo-h-jansen"}, "is_accepted": false, "score": 0, "last_activity_date": 1494116243, "last_edit_date": 1592644375, "creation_date": 1494116243, "answer_id": 43826598, "question_id": 34500288, "link": "https://stackoverflow.com/questions/34500288/reflect-metadata-generates-error-ts1238-unable-to-resolve-signature-of-class-d/43826598#43826598", "title": "@Reflect.metadata generates error TS1238: Unable to resolve signature of class decorator when called as an expression", "body": "<p>From the TypeScript <a href=\"https://github.com/Microsoft/TypeScript/wiki/Breaking-Changes#decorators-are-checked-as-call-expressions\" rel=\"nofollow noreferrer\">docs</a>:</p>\n<blockquote>\n<p>Decorators are checked as call expressions</p>\n<p>Starting with 1.6, decorators type checking is more accurate; <strong>the compiler will checks a decorator expression as a call expression</strong> with the decorated entity as a parameter. This can cause error to be reported that were not in previous releases.</p>\n</blockquote>\n<p>My guess is that you probably need to <strong>use a newer version of TypeScript or an older version of <code>reflect-metadata</code>.</strong></p>\n<p>The latest releases are:</p>\n<ul>\n<li><code>typescript@2.3.2</code></li>\n<li><code>reflect-metadata@0.1.10</code></li>\n</ul>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 3057066, "user_type": "registered", "profile_image": "https://graph.facebook.com/1294334480/picture?type=large", "display_name": "Alex", "link": "https://stackoverflow.com/users/3057066/alex"}, "is_accepted": false, "score": 0, "last_activity_date": 1578149986, "creation_date": 1578149986, "answer_id": 59591876, "question_id": 34500288, "link": "https://stackoverflow.com/questions/34500288/reflect-metadata-generates-error-ts1238-unable-to-resolve-signature-of-class-d/59591876#59591876", "title": "@Reflect.metadata generates error TS1238: Unable to resolve signature of class decorator when called as an expression", "body": "<p>The solution is to mark all of the decorator function's arguments as optional:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>function logType(a?: any, b?: any) {\n    console.log(a, b);\n}\n\n@logType\nclass MyClass {...}\n</code></pre>\n\n<p>and then adjust them according to your needs.</p>\n"}], "owner": {"reputation": 44608, "user_id": 1127114, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/bb1b2345f4c7b696d7c0376d273d01b2?s=128&d=identicon&r=PG", "display_name": "Michael Liu", "link": "https://stackoverflow.com/users/1127114/michael-liu"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1322, "favorite_count": 0, "answer_count": 2, "score": 6, "last_activity_date": 1578149986, "creation_date": 1451334473, "question_id": 34500288, "link": "https://stackoverflow.com/questions/34500288/reflect-metadata-generates-error-ts1238-unable-to-resolve-signature-of-class-d", "title": "@Reflect.metadata generates error TS1238: Unable to resolve signature of class decorator when called as an expression", "body": "<p>I tried to apply the <code>@Reflect.metadata</code> decorator to a TypeScript class, following the example on lines 82-84 of <a href=\"https://github.com/rbuckton/ReflectDecorators/blob/master/reflect-metadata.d.ts\">reflect-metadata.d.ts</a>:</p>\n\n<pre><code>/// &lt;reference path=\"node_modules/reflect-metadata/reflect-metadata.d.ts\"/&gt;\n\n@Reflect.metadata('key', 0)\nclass C {\n}\n</code></pre>\n\n<p>However, the TypeScript 1.7.2 compiler generates the following error on the <code>@Reflect.metadata</code> line:</p>\n\n<blockquote>\n  <p>error TS1238: Unable to resolve signature of class decorator when called as an expression.<br>\n  Cannot invoke an expression whose type lacks a call signature.</p>\n</blockquote>\n\n<p>What's wrong?</p>\n"}, {"tags": ["javascript", "typescript"], "comments": [{"owner": {"reputation": 14420, "user_id": 136258, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/tKLvu.jpg?s=128&g=1", "display_name": "Cleiton", "link": "https://stackoverflow.com/users/136258/cleiton"}, "edited": false, "score": 1, "creation_date": 1451332721, "post_id": 34499583, "comment_id": 56741319, "body": "Could you please explain with another words what are you trying to archieve?"}], "answers": [{"comments": [{"owner": {"reputation": 828, "user_id": 4933859, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/OK8de.jpg?s=128&g=1", "display_name": "Seb Bizeul", "link": "https://stackoverflow.com/users/4933859/seb-bizeul"}, "edited": false, "score": 0, "creation_date": 1451332012, "post_id": 34499635, "comment_id": 56740997, "body": "I try, but it does not work. I read on the documentation that functions created from function.bind are always preserve &#39;this&#39;..."}, {"owner": {"reputation": 11846, "user_id": 4339170, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/xdR3z.png?s=128&g=1", "display_name": "CoderPi", "link": "https://stackoverflow.com/users/4339170/coderpi"}, "reply_to_user": {"reputation": 828, "user_id": 4933859, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/OK8de.jpg?s=128&g=1", "display_name": "Seb Bizeul", "link": "https://stackoverflow.com/users/4933859/seb-bizeul"}, "edited": false, "score": 0, "creation_date": 1451332112, "post_id": 34499635, "comment_id": 56741035, "body": "After reading again, I must admit that I&#39;m not sure if I understood your answer correctly"}, {"owner": {"reputation": 11846, "user_id": 4339170, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/xdR3z.png?s=128&g=1", "display_name": "CoderPi", "link": "https://stackoverflow.com/users/4339170/coderpi"}, "reply_to_user": {"reputation": 828, "user_id": 4933859, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/OK8de.jpg?s=128&g=1", "display_name": "Seb Bizeul", "link": "https://stackoverflow.com/users/4933859/seb-bizeul"}, "edited": false, "score": 0, "creation_date": 1451332637, "post_id": 34499635, "comment_id": 56741281, "body": "@SebBizeul can you re-explain your question diffrently?"}, {"owner": {"reputation": 828, "user_id": 4933859, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/OK8de.jpg?s=128&g=1", "display_name": "Seb Bizeul", "link": "https://stackoverflow.com/users/4933859/seb-bizeul"}, "edited": false, "score": 0, "creation_date": 1451332860, "post_id": 34499635, "comment_id": 56741372, "body": "OK sorry! Method spriteController is in Engine class. When I will use it in a different part of my program, I want to set &#39;this&#39; on the SpriteController class. That&#39;s why I&#39;m calling &#39;bind(new SpriteController)&#39;. But actually it does not work"}, {"owner": {"reputation": 11846, "user_id": 4339170, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/xdR3z.png?s=128&g=1", "display_name": "CoderPi", "link": "https://stackoverflow.com/users/4339170/coderpi"}, "reply_to_user": {"reputation": 828, "user_id": 4933859, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/OK8de.jpg?s=128&g=1", "display_name": "Seb Bizeul", "link": "https://stackoverflow.com/users/4933859/seb-bizeul"}, "edited": false, "score": 0, "creation_date": 1451335362, "post_id": 34499635, "comment_id": 56742444, "body": "@SebBizeul The answer might not totaly have been what you are looking for, I updated it. Tell me if its ok"}, {"owner": {"reputation": 828, "user_id": 4933859, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/OK8de.jpg?s=128&g=1", "display_name": "Seb Bizeul", "link": "https://stackoverflow.com/users/4933859/seb-bizeul"}, "edited": false, "score": 0, "creation_date": 1451336068, "post_id": 34499635, "comment_id": 56742752, "body": "With the last answer, compiler complains about &#39;callbackfn()&#39; It says: supplied parameters do not match any signature of call target. I fixed with callbackfn(this._ctx). I am right?"}, {"owner": {"reputation": 11846, "user_id": 4339170, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/xdR3z.png?s=128&g=1", "display_name": "CoderPi", "link": "https://stackoverflow.com/users/4339170/coderpi"}, "reply_to_user": {"reputation": 828, "user_id": 4933859, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/OK8de.jpg?s=128&g=1", "display_name": "Seb Bizeul", "link": "https://stackoverflow.com/users/4933859/seb-bizeul"}, "edited": false, "score": 0, "creation_date": 1451336419, "post_id": 34499635, "comment_id": 56742886, "body": "Yes, or just assign it to a new Variable, so TypeScript does not moan for the (not realy) missing argument - updated"}, {"owner": {"reputation": 828, "user_id": 4933859, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/OK8de.jpg?s=128&g=1", "display_name": "Seb Bizeul", "link": "https://stackoverflow.com/users/4933859/seb-bizeul"}, "edited": false, "score": 0, "creation_date": 1451336743, "post_id": 34499635, "comment_id": 56743050, "body": "Ok it works great, thank you! But I have a problem with the _ctx object. A call to ctx.fillRect(20,20,150,100); within the callback gives me an error: ctx.clearRect is not a function. It&#39;s weird..."}, {"owner": {"reputation": 11846, "user_id": 4339170, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/xdR3z.png?s=128&g=1", "display_name": "CoderPi", "link": "https://stackoverflow.com/users/4339170/coderpi"}, "reply_to_user": {"reputation": 828, "user_id": 4933859, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/OK8de.jpg?s=128&g=1", "display_name": "Seb Bizeul", "link": "https://stackoverflow.com/users/4933859/seb-bizeul"}, "edited": false, "score": 0, "creation_date": 1451336838, "post_id": 34499635, "comment_id": 56743087, "body": "Well thats a new Problem/Question, maybe you can post the relevant code in a new question, and link it here so I can have a look at it? You could also use console.log(ctx) at the place where you use the fillRect - or is it clearRect? :D"}], "tags": [], "owner": {"reputation": 11846, "user_id": 4339170, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/xdR3z.png?s=128&g=1", "display_name": "CoderPi", "link": "https://stackoverflow.com/users/4339170/coderpi"}, "is_accepted": true, "score": 5, "last_activity_date": 1451336302, "last_edit_date": 1451336302, "creation_date": 1451331500, "answer_id": 34499635, "question_id": 34499583, "link": "https://stackoverflow.com/questions/34499583/bind-function-and-this-in-typescript/34499635#34499635", "title": "bind function and this in typescript", "body": "<p>When binding, it is returning the bound function, you have to update your variable width <code>callbackfn = callbackfn.bind(...)</code>: </p>\n\n<p><a href=\"https://developer.mozilla.org/de/docs/Web/JavaScript/Reference/Global_Objects/Function/bind\" rel=\"nofollow\">Documentation link</a></p>\n\n<pre><code>class Engine {\n    spriteController(sprite: Sprite, callbackfn: (ctx: CanvasRenderingContext2D) =&gt; void) {\n        let callbackfnBinded = callbackfn.bind(new SpriteController(sprite), [this._ctx])\n        callbackfnBinded()\n    }\n}\n</code></pre>\n\n<p>JavaScript here:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>var Sprite = (function () {\r\n    function Sprite(name) {\r\n        this.name = name;\r\n    }\r\n    return Sprite;\r\n})();\r\nvar SpriteController = (function () {\r\n    function SpriteController(sprite) {\r\n        this.sprite = sprite;\r\n    }\r\n    return SpriteController;\r\n})();\r\nvar Engine = (function () {\r\n    function Engine() {\r\n    }\r\n    Engine.prototype.spriteController = function (sprite, callbackfn) {\r\n        callbackfn = callbackfn.bind(new SpriteController(sprite), [this._ctx])\r\n        callbackfn()\r\n    };\r\n    return Engine;\r\n})();\r\nvar e = new Engine();\r\nvar s = new Sprite(\"test\");\r\nvar cb = function (ctx) {\r\n    alert(this.sprite.name);\r\n};\r\ne.spriteController(s, cb);</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 828, "user_id": 4933859, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/OK8de.jpg?s=128&g=1", "display_name": "Seb Bizeul", "link": "https://stackoverflow.com/users/4933859/seb-bizeul"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 25296, "favorite_count": 1, "accepted_answer_id": 34499635, "answer_count": 1, "score": 6, "last_activity_date": 1451336302, "creation_date": 1451331286, "last_edit_date": 1451333209, "question_id": 34499583, "link": "https://stackoverflow.com/questions/34499583/bind-function-and-this-in-typescript", "title": "bind function and this in typescript", "body": "<p>I wanted to implement a simple context binding but it doesn't work in TypeScript.\nHere is my piece of code:</p>\n\n<pre><code>class Engine {\n    // some code...\n\n    spriteController(sprite: Sprite, callbackfn: (ctx: CanvasRenderingContext2D) =&gt; void) {\n        callbackfn.bind(new SpriteController(sprite), [this._ctx]);\n    }\n\n    // code again ...\n}\n</code></pre>\n\n<p>If I want to use spriteController method in another file like this:</p>\n\n<pre><code>engine.spriteController(sprite, function(ctx) {\n    this.moveRight() // access to the spriteController class\n})\n</code></pre>\n\n<p>I want to be able to use the SpriteController class within the callback. <br /> \nIn JS, the first argument (within the bind() call) bind 'this' to the given object. But in TypeScript, functions created from function.bind are always preserve 'this'. <br />\nHow to achieve this in TypeScript?</p>\n"}, {"tags": ["javascript", "typescript", "karma-jasmine"], "answers": [{"tags": [], "owner": {"reputation": 11846, "user_id": 4339170, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/xdR3z.png?s=128&g=1", "display_name": "CoderPi", "link": "https://stackoverflow.com/users/4339170/coderpi"}, "is_accepted": true, "score": 1, "last_activity_date": 1451330040, "creation_date": 1451330040, "answer_id": 34499316, "question_id": 34499274, "link": "https://stackoverflow.com/questions/34499274/typescript-interface-implementation/34499316#34499316", "title": "TypeScript Interface implementation", "body": "<p>You can't use an anonymus function for this, do it like that:</p>\n\n<pre><code>interface A {\n    func(): any;\n}\nclass Mock implements A {\n    func() {\n    }\n}\n</code></pre>\n\n<p>Note that Mock also need to implement <code>func</code></p>\n"}], "owner": {"reputation": 175, "user_id": 3116308, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/4d0d37b0eb4f2b5d34961c10f609bcc1?s=128&d=identicon&r=PG", "display_name": "Amol Agrawal", "link": "https://stackoverflow.com/users/3116308/amol-agrawal"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 50, "favorite_count": 0, "accepted_answer_id": 34499316, "answer_count": 1, "score": -1, "last_activity_date": 1451332797, "creation_date": 1451329804, "last_edit_date": 1451332797, "question_id": 34499274, "link": "https://stackoverflow.com/questions/34499274/typescript-interface-implementation", "title": "TypeScript Interface implementation", "body": "<pre><code>interface A {\n   ():any;\n}\nclass Mock implements A{\n}\n</code></pre>\n\n<p>A mock class has to implement <code>class A</code>.\nI'm getting errors if I use <code>():any</code> inside <code>class Mock</code>.How should I do it?</p>\n"}, {"tags": ["javascript", "angularjs", "visual-studio", "typescript"], "answers": [{"tags": [], "owner": {"reputation": 357, "user_id": 2043900, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/dbbfaaaee1011fea339905aed18c0c07?s=128&d=identicon&r=PG", "display_name": "thadam", "link": "https://stackoverflow.com/users/2043900/thadam"}, "is_accepted": false, "score": 0, "last_activity_date": 1451329439, "creation_date": 1451329439, "answer_id": 34499194, "question_id": 34498848, "link": "https://stackoverflow.com/questions/34498848/referencing-in-a-simple-way-using-angularjs-and-typescript/34499194#34499194", "title": "Referencing in a simple way using AngularJS and TypeScript", "body": "<p>if you want to refrence only one file in html via script tag and other files just reference in other js files then you can use <a href=\"http://requirejs.org\" rel=\"nofollow\">requirejs</a>. It is a nice tool to load scripts. in production it is a good approach to concat and minify all your scripts to reduce number of requests.</p>\n"}, {"tags": [], "owner": {"reputation": 14420, "user_id": 136258, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/tKLvu.jpg?s=128&g=1", "display_name": "Cleiton", "link": "https://stackoverflow.com/users/136258/cleiton"}, "is_accepted": false, "score": 0, "last_activity_date": 1451332326, "last_edit_date": 1451332326, "creation_date": 1451330006, "answer_id": 34499309, "question_id": 34498848, "link": "https://stackoverflow.com/questions/34498848/referencing-in-a-simple-way-using-angularjs-and-typescript/34499309#34499309", "title": "Referencing in a simple way using AngularJS and TypeScript", "body": "<p>I managed to resolve it using <code>experimental typescript decorators</code>, <code>requirejs</code> and a little of imagination.</p>\n\n<p>So, in resume I wrote two decorators one called <code>AppStartup</code> and other called <code>DependsOn</code>. So at angular bootstrap I can get and register all dependencies.</p>\n\n<p>I ended up with something like it:</p>\n\n<hr>\n\n<p>TodoListController.ts</p>\n\n<pre><code>import {DependsOn, AppStartup, ngControllerBase} from \"../infra/core\";\nimport {taskManagerDirective} from \"../directives/TaskManagerDirective\";\n\n@AppStartup({\n    Name: \"TodoSample\"\n}).Controller({\n    DependsOn: [taskManagerDirective]\n})\nexport class TodoListController extends ngControllerBase {\n    public ByControllerAs: string;\n\n    constructor() {\n        super(arguments);\n\n        let $httpPromise = this.$get&lt;ng.IHttpService&gt;(\"$http\");\n\n        $httpPromise.then(function ($http) {\n            $http.get('http://www.google.com').success(function (body) {\n                console.info(\"google.com downloaded, source code: \", body);\n            });\n        });\n\n        this.ByControllerAs = \"This was included by controllerAs 'this'\";\n    }\n}\n</code></pre>\n\n<hr>\n\n<p>rowListItemDirective.ts</p>\n\n<pre><code>import {DependsOn, ngDirectiveBase} from \"../infra/core\";\nimport {rowListItemDirective} from \"./RowListItemDirective\";\n\n@DependsOn([rowListItemDirective])\nexport class taskManagerDirective extends ngDirectiveBase{\n    public template: string = `\n    Parent Directive\n        &lt;table&gt;\n            &lt;tbody&gt;\n                &lt;tr row-list-item-directive&gt;&lt;/tr&gt;\n            &lt;/tbody&gt;\n        &lt;/table&gt;\n   `;\n}\n</code></pre>\n\n<p>You can see what I did below at my github repository:</p>\n\n<p><a href=\"https://github.com/klaygomes/angular-typescript-jasmine-seed\" rel=\"nofollow\">https://github.com/klaygomes/angular-typescript-jasmine-seed</a></p>\n"}], "owner": {"reputation": 482, "user_id": 5322969, "user_type": "registered", "accept_rate": 67, "profile_image": "https://graph.facebook.com/10153507424810090/picture?type=large", "display_name": "Adrian Luca Thomas", "link": "https://stackoverflow.com/users/5322969/adrian-luca-thomas"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 49, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1451332326, "creation_date": 1451327765, "question_id": 34498848, "link": "https://stackoverflow.com/questions/34498848/referencing-in-a-simple-way-using-angularjs-and-typescript", "title": "Referencing in a simple way using AngularJS and TypeScript", "body": "<p>I'm using VS2015 with Gulp and I'm trying to build AngularJS with TypeScript.</p>\n\n<p>In my index.html, I have a script tag to my \"app.js\" (the output and bundle of the TS build).</p>\n\n<p>However if I want to reference my controller, and any other services - how can I avoid having to put the relevant script tags in each and every HTML file - is there a way I can just reference the app.js file and be done with it? What's the recommended approach?</p>\n\n<p>Cheers,</p>\n"}, {"tags": ["javascript", "typescript", "ecmascript-6", "visual-studio-code"], "comments": [{"owner": {"reputation": 2313, "user_id": 862919, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/B7VG8.jpg?s=128&g=1", "display_name": "Spets", "link": "https://stackoverflow.com/users/862919/spets"}, "edited": false, "score": 0, "creation_date": 1451329155, "post_id": 34498580, "comment_id": 56739796, "body": "Ok I got intellisense working, looks like I somehow deleted my tsconfig.json file through some of the mayhem of refactoring.  The only issue remains is the transpilation...ES5 set as the target but String.prototype.includes is not part of ES5...."}, {"owner": {"reputation": 623, "user_id": 410855, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f84c369a889ef74ffd3e1cf8e37266ef?s=128&d=identicon&r=PG", "display_name": "mdi", "link": "https://stackoverflow.com/users/410855/mdi"}, "edited": false, "score": 0, "creation_date": 1455114523, "post_id": 34498580, "comment_id": 58344453, "body": "There&#39;s some good discussion of this here: <a href=\"https://github.com/Microsoft/TypeScript/issues/3429\" rel=\"nofollow noreferrer\">Github</a>"}], "owner": {"reputation": 2313, "user_id": 862919, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/B7VG8.jpg?s=128&g=1", "display_name": "Spets", "link": "https://stackoverflow.com/users/862919/spets"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 544, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1451326454, "creation_date": 1451326454, "question_id": 34498580, "link": "https://stackoverflow.com/questions/34498580/vs-code-no-es6-intellisense-in-typescript-file", "title": "VS Code - No ES6 Intellisense in TypeScript File", "body": "<p>Can't quite figure out why I'm not getting intellisense for ES6 features in a TypeScript file.  </p>\n\n<p>I'm fairly certain it is related to the <strong>lib.d.ts</strong> file that is used in the typescript source files.  For reference this is located in:</p>\n\n<p><em>C:\\Program Files (x86)\\Microsoft VS Code\\resources\\app\\extensions\\typescript\\server\\typescript\\lib</em></p>\n\n<p>I noticed that the same folder contains <strong>lib.es6.d.ts</strong>.  When going to definition on a method that is defined by the base interface definition files, it points you to <strong>lib.d.ts</strong> and not the es6 version.  The es6 version has all of the interfaces that I need.</p>\n\n<p>That said, even if I include some ES6 methods and force the task runner(which under the hood uses the typescript compiler installed), it doesn't transpile to ES5 like I expected it to. </p>\n\n<p>Maybe my TypeScript compiler version is dated?  Primarily I want these features:</p>\n\n<ol>\n<li>Symbol</li>\n<li>Array.prototype.includes</li>\n<li>String.prototype.includes</li>\n</ol>\n\n<p>I see these interfaces defined in the es6 typing definition file.  Is there a way to get VSCode to recognize this?  I'm thinking a hacky approach of just including that lib file in my project but I'm trying to avoid that and in the end it still doesn't solve my problem when I transpile to ES5 and get garbage.</p>\n\n<p>Thanks and much love :)</p>\n"}, {"tags": ["typescript", "jasmine", "karma-jasmine", "jasmine-jquery"], "answers": [{"tags": [], "owner": {"reputation": 24880, "user_id": 99256, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/HfmF9.png?s=128&g=1", "display_name": "Martin Vseticka", "link": "https://stackoverflow.com/users/99256/martin-vseticka"}, "is_accepted": false, "score": 0, "last_activity_date": 1451321136, "last_edit_date": 1451321136, "creation_date": 1451320757, "answer_id": 34497244, "question_id": 34496747, "link": "https://stackoverflow.com/questions/34496747/any-keyword-not-being-recognized-in-javascript-unit-test/34497244#34497244", "title": "&quot;any&quot; keyword not being recognized in javascript unit test", "body": "<p>The way you wrote the code it means that you assign to variable <code>x</code> an object. I guess you want to declare a variable with a structure and you can do that this way:</p>\n\n<pre><code>let x: {\n  y: {\n    z: any\n  }\n};\n</code></pre>\n\n<p>Please note the colon (<code>:</code>) after <code>x</code> variable.</p>\n\n<p>To make it more clear:</p>\n\n<pre><code>// let variable : structure = value;\n\n// The following code is OK\nlet x: {\n  y: {\n    z: any\n  }\n} = { \n  y: {\n      z: \"test\"\n  }\n};\n\n// The following code throws an error:\n\nlet x: {\n  y: {\n    z: any\n  }\n} = { \n  y: {\n      z: \"test\"\n  },\n  notDefined : {}\n};\n</code></pre>\n\n<p>[<a href=\"http://www.typescriptlang.org/Playground#src=%20%20%20%0D%0A%0D%0A%20%20%20%20let%20x%3A%20%7B%0D%0A%20%20%20%20%20%20y%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20z%3A%20any%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D%20%3D%20%7B%20%0D%0A%09%20%20y%3A%20%7B%0D%0A%09%09%20%20z%3A%20%22test%22%0D%0A%09%20%20%7D%2C%0D%0A%09%20%20notDefined%20%3A%20%7B%7D%0D%0A%09%7D%3B%0D%0A%09%0D%0A%09\" rel=\"nofollow\">Playground</a>]</p>\n"}], "owner": {"reputation": 175, "user_id": 3116308, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/4d0d37b0eb4f2b5d34961c10f609bcc1?s=128&d=identicon&r=PG", "display_name": "Amol Agrawal", "link": "https://stackoverflow.com/users/3116308/amol-agrawal"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 382, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1451321136, "creation_date": 1451318584, "last_edit_date": 1451320599, "question_id": 34496747, "link": "https://stackoverflow.com/questions/34496747/any-keyword-not-being-recognized-in-javascript-unit-test", "title": "&quot;any&quot; keyword not being recognized in javascript unit test", "body": "<pre><code>let x= {\n  y: {\n    z: any\n  }\n};\n</code></pre>\n\n<p>'any' keyword isn't being recognized. The error says that the symbol 'any' is located in an inaccessible module. Can you please help me out? </p>\n"}, {"tags": ["angular", "typescript"], "comments": [{"owner": {"reputation": 483726, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 1, "creation_date": 1451317955, "post_id": 34496508, "comment_id": 56734590, "body": "<code>(scroll)=&quot;update($event)&quot;</code> on the element in your template you want to get scroll notifications should do what you want, no?"}, {"owner": {"reputation": 1572, "user_id": 648546, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/7632eac0330915c387002d624111018f?s=128&d=identicon&r=PG", "display_name": "Sagi ", "link": "https://stackoverflow.com/users/648546/sagi"}, "reply_to_user": {"reputation": 483726, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1451321262, "post_id": 34496508, "comment_id": 56736303, "body": "Tried the following, but doesn&#39;t work  &lt;div style=&quot;height: 100%&quot; (scroll)=&quot;onScroll($ev);&quot;&gt;     &lt;div *ng-for=&quot;#row of rows&quot;&gt;&lt;/div&gt; &lt;/div&gt;  the onScroll(ev) function wont get called at all on component."}], "answers": [{"comments": [{"owner": {"reputation": 1893, "user_id": 3831435, "user_type": "registered", "accept_rate": 77, "profile_image": "https://graph.facebook.com/829983118/picture?type=large", "display_name": "Luke Dupin", "link": "https://stackoverflow.com/users/3831435/luke-dupin"}, "edited": false, "score": 1, "creation_date": 1458601185, "post_id": 34498614, "comment_id": 59924333, "body": "This does work but how do you get the amount you&#39;ve scrolled.  event.scrollY == 57 kinda thing?"}, {"owner": {"reputation": 13143, "user_id": 69527, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/215056e1d2d4b5ce5f5837c445dba4d5?s=128&d=identicon&r=PG", "display_name": "CoderDennis", "link": "https://stackoverflow.com/users/69527/coderdennis"}, "reply_to_user": {"reputation": 1893, "user_id": 3831435, "user_type": "registered", "accept_rate": 77, "profile_image": "https://graph.facebook.com/829983118/picture?type=large", "display_name": "Luke Dupin", "link": "https://stackoverflow.com/users/3831435/luke-dupin"}, "edited": false, "score": 1, "creation_date": 1460147003, "post_id": 34498614, "comment_id": 60624261, "body": "@LukeDupin try <code>window.scrollY</code>. That&#39;s what worked for me."}, {"owner": {"reputation": 1357, "user_id": 2856088, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1a77c8d923914aa774e678b5fe42f057?s=128&d=identicon&r=PG&f=1", "display_name": "Noor Ahmed", "link": "https://stackoverflow.com/users/2856088/noor-ahmed"}, "edited": false, "score": 0, "creation_date": 1461917942, "post_id": 34498614, "comment_id": 61425822, "body": "Not working in my case. I am applying this to a div inside my application which is built in ng2-material design. Problem is (window:scroll) doesnot fire in my case @alexpods"}, {"owner": {"reputation": 829, "user_id": 5884431, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-Zd1hql9TsO8/AAAAAAAAAAI/AAAAAAAAACI/xBzZrbz_-EA/photo.jpg?sz=128", "display_name": "Eduardo Oliveros", "link": "https://stackoverflow.com/users/5884431/eduardo-oliveros"}, "edited": false, "score": 0, "creation_date": 1473630863, "post_id": 34498614, "comment_id": 66204342, "body": "im new in angular, and i don&#39;t understand, anybody can help me to implement this?"}], "tags": [], "owner": {"reputation": 42643, "user_id": 2511783, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/980aca982914967ce7c0fd99e9339b10?s=128&d=identicon&r=PG", "display_name": "alexpods", "link": "https://stackoverflow.com/users/2511783/alexpods"}, "is_accepted": true, "score": 29, "last_activity_date": 1451327302, "last_edit_date": 1451327302, "creation_date": 1451326593, "answer_id": 34498614, "question_id": 34496508, "link": "https://stackoverflow.com/questions/34496508/implement-infinite-scroller-in-angular2/34498614#34498614", "title": "implement infinite scroller in angular2", "body": "<p>Use <code>(target:event)=\"handler()\"</code> notation for listening to global events. You can use <code>window</code>, <code>document</code> or <code>body</code> as a target. For your case it will be <code>(window:scroll)=\"onScroll($event)\"</code>. See <a href=\"http://plnkr.co/edit/LngREiDpRJEQJpwj7Dmd\">this plunk</a>.</p>\n\n<pre class=\"lang-ts prettyprint-override\"><code>import {Component} from 'angular2/core'\n\n@Component({\n  selector: 'my-app',\n  template: `\n    &lt;div (window:scroll)=\"onScroll($event)\"&gt;\n      &lt;h1&gt;Hello Angular2&lt;/h1&gt;\n      ...\n    &lt;/div&gt;\n  `,\n})\nexport class App {\n\n  onScroll(event) {\n    console.log('scroll event', event);\n  }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 539, "user_id": 5349366, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HICMT.jpg?s=128&g=1", "display_name": "Ashish Sharma", "link": "https://stackoverflow.com/users/5349366/ashish-sharma"}, "is_accepted": false, "score": 10, "last_activity_date": 1495607304, "creation_date": 1495607304, "answer_id": 44150539, "question_id": 34496508, "link": "https://stackoverflow.com/questions/34496508/implement-infinite-scroller-in-angular2/44150539#44150539", "title": "implement infinite scroller in angular2", "body": "<p>You can use @HostListener to detect Scrolling. This is how I have done this</p>\n\n<pre><code> export class AppComponent {\n\n  @HostListener('window:scroll', ['$event'])\n    onScroll($event: Event): void {\n    console.log(\"On Scroll\");\n    //Logic To Check whether we are bottom of the page\n    if ((window.innerHeight + window.scrollY) &gt;= document.body.offsetHeight) {\n      console.log(\"On Scroll Down\");\n      //Write logic here for loading new content.\n    }\n  }\n\n}\n</code></pre>\n\n<p>Hope this will help you :)</p>\n"}, {"tags": [], "owner": {"reputation": 26, "user_id": 9294939, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TnvbN.jpg?s=128&g=1", "display_name": "Eiks", "link": "https://stackoverflow.com/users/9294939/eiks"}, "is_accepted": false, "score": 1, "last_activity_date": 1517410282, "creation_date": 1517410282, "answer_id": 48545010, "question_id": 34496508, "link": "https://stackoverflow.com/questions/34496508/implement-infinite-scroller-in-angular2/48545010#48545010", "title": "implement infinite scroller in angular2", "body": "<p>component.html</p>\n\n<pre><code>&lt;div (scroll)=\"onScroll($event)\"&gt;\n    //Content\n&lt;/div&gt;\n</code></pre>\n\n<p>Now i just used the $event.target properties <code>scrollTopMax</code> and <code>scrollTop</code>:</p>\n\n<p>component.ts</p>\n\n<pre><code>onScroll(event: any): void {\n   let elementHeight = event.target.scrollTopMax;\n   let scrollPosition = event.target.scrollTop;\n   if( elementHeight - scrollPosition &lt; 100) {\n       //add Content\n   }\n}\n</code></pre>\n\n<p>Of course you will need some function checking if new content is already rendered. \nIf not the <code>onScroll()</code> function will be called much too often.</p>\n\n<p>In my case i insert other component with  <code>*ngFor</code> and created and <code>@Output</code> to notify the parent about a finished rendering.</p>\n\n<p>child.component.ts</p>\n\n<pre><code>@Output()\nrendered = new EventEmitter();\n\nngAfterViewChecked() {\n    this.rendered.emit(&lt;uniqueIdentifier&gt;);\n}\n</code></pre>\n\n<p>component.html</p>\n\n<pre><code>&lt;div (scroll)=\"onScroll($event)\"&gt;\n    &lt;child *ngFor=\"element in displayedElement\"\n        (rendered)=\"elementRendered($event)\"&gt;\n    &lt;/child&gt;\n</code></pre>\n\n<p></p>\n\n<p>component.ts</p>\n\n<pre><code>elements: any;\ndisplayedElements: any[];\nrenderedElements: new Set();\n\naddElements(): void {\n    /////\n}\n\nelementRendered(&lt;uniqueIdentifier&gt;: any) {\n    this.renderedElements.add(&lt;uniqueIdentifier&gt;);\n}\n\nonScroll(event: any): void {\n    if( this.displayedElements.length == this.renderedElements.size) {\n        let elementHeight = event.target.scrollTopMax;\n        let scrollPosition = event.target.scrollTop;\n        if( elementHeight - scrollPosition &lt; 100) {\n            this.addElements();\n        }\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 1572, "user_id": 648546, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/7632eac0330915c387002d624111018f?s=128&d=identicon&r=PG", "display_name": "Sagi ", "link": "https://stackoverflow.com/users/648546/sagi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 17274, "favorite_count": 7, "accepted_answer_id": 34498614, "answer_count": 3, "score": 14, "last_activity_date": 1517410282, "creation_date": 1451317689, "last_edit_date": 1492780629, "question_id": 34496508, "link": "https://stackoverflow.com/questions/34496508/implement-infinite-scroller-in-angular2", "title": "implement infinite scroller in angular2", "body": "<p>I would like to implement infinite scrolling for an *ng-for of DIVs in angular2 component. For this I need to somehow hook to the window onScroll event via angular method. Then in angular I will be able to load more items into the data items array when user has scrolled pass some point of the page.</p>\n\n<p>Anyone has ideas how to hook to the window.scroll event from angular (inside ng2 component)?</p>\n"}, {"tags": ["http", "typescript", "angular"], "comments": [{"owner": {"reputation": 124932, "user_id": 2308683, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/eac16c9fc481cb6825f8b3a35f916b5c?s=128&d=identicon&r=PG", "display_name": "OneCricketeer", "link": "https://stackoverflow.com/users/2308683/onecricketeer"}, "edited": false, "score": 0, "creation_date": 1451317333, "post_id": 34496362, "comment_id": 56734263, "body": "Are you trying to return a promise? If not, get rid of the toPromise(null)"}, {"owner": {"reputation": 436, "user_id": 3369579, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/c735cd817640725ec3fbfdb07bd4fa84?s=128&d=identicon&r=PG&f=1", "display_name": "user3369579", "link": "https://stackoverflow.com/users/3369579/user3369579"}, "reply_to_user": {"reputation": 124932, "user_id": 2308683, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/eac16c9fc481cb6825f8b3a35f916b5c?s=128&d=identicon&r=PG", "display_name": "OneCricketeer", "link": "https://stackoverflow.com/users/2308683/onecricketeer"}, "edited": false, "score": 0, "creation_date": 1451319089, "post_id": 34496362, "comment_id": 56735206, "body": "yes this is my return object  Promise&lt;Benutzer[]&gt;"}, {"owner": {"reputation": 80516, "user_id": 227299, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/6483c2f0fcf64b578c55ca0df7e01096?s=128&d=identicon&r=PG", "display_name": "Juan Mendes", "link": "https://stackoverflow.com/users/227299/juan-mendes"}, "edited": false, "score": 1, "creation_date": 1451319312, "post_id": 34496362, "comment_id": 56735322, "body": "Synchronous XHR on the UI thread is deprecated <a href=\"https://developer.mozilla.org/en-US/docs/Web/API/XMLHttpRequest/Synchronous_and_Asynchronous_Requests#Synchronous_request\" rel=\"nofollow noreferrer\">developer.mozilla.org/en-US/docs/Web/API/XMLHttpRequest/&hellip;</a>"}], "answers": [{"comments": [{"owner": {"reputation": 181833, "user_id": 1873365, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/45TMV.png?s=128&g=1", "display_name": "Thierry Templier", "link": "https://stackoverflow.com/users/1873365/thierry-templier"}, "reply_to_user": {"reputation": 436, "user_id": 3369579, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/c735cd817640725ec3fbfdb07bd4fa84?s=128&d=identicon&r=PG&f=1", "display_name": "user3369579", "link": "https://stackoverflow.com/users/3369579/user3369579"}, "edited": false, "score": 1, "creation_date": 1451381970, "post_id": 34496826, "comment_id": 56757811, "body": "Which function can&#39;t found? Did you use the import? I haven&#39;t this error on my side... ;-)"}], "tags": [], "owner": {"reputation": 181833, "user_id": 1873365, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/45TMV.png?s=128&g=1", "display_name": "Thierry Templier", "link": "https://stackoverflow.com/users/1873365/thierry-templier"}, "is_accepted": true, "score": 6, "last_activity_date": 1451319987, "last_edit_date": 1451319987, "creation_date": 1451318984, "answer_id": 34496826, "question_id": 34496362, "link": "https://stackoverflow.com/questions/34496362/create-a-synchronous-http-get/34496826#34496826", "title": "create a synchronous http.get()", "body": "<p>I wonder if you actually use promise since the HTTP support of Angular relies on Observables.</p>\n\n<p>To get the response, you simply need to return the observable for your call:</p>\n\n<pre><code>getSomething() {\n  return this.http.get('http://localhost:5000/login/', {\n    headers: authHeader\n  }).map((response) =&gt; {\n    return response.json()\n  })\n}\n</code></pre>\n\n<p>When calling the method, you can then register callbacks using the <code>subscribe</code> method:</p>\n\n<pre><code>getSomething().subscribe(\n  data =&gt; handleData(data),\n  err =&gt; reject(err));\n</code></pre>\n\n<p>If you really want to use promises (with the <code>toPromise</code> method), you should import this:</p>\n\n<pre><code>import 'rxjs/Rx';\n</code></pre>\n\n<p>See this issue for more details: <a href=\"https://github.com/angular/angular/issues/5632#issuecomment-167026172\" rel=\"nofollow\">https://github.com/angular/angular/issues/5632#issuecomment-167026172</a>.</p>\n\n<p>Otherwise, FYI calls aren't synchronous regarding HTTP in browsers...</p>\n\n<p>Hope it helps you,\nThierry</p>\n"}, {"tags": [], "owner": {"reputation": 81, "user_id": 9886646, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/faddfc633241e108f35ad8a6d5322337?s=128&d=identicon&r=PG", "display_name": "Shane", "link": "https://stackoverflow.com/users/9886646/shane"}, "is_accepted": false, "score": 0, "last_activity_date": 1547721575, "last_edit_date": 1547721575, "creation_date": 1547717001, "answer_id": 54232647, "question_id": 34496362, "link": "https://stackoverflow.com/questions/34496362/create-a-synchronous-http-get/54232647#54232647", "title": "create a synchronous http.get()", "body": "<p>If you want, you can use a TypeScript wrapper for <strong>sync-request</strong> library.</p>\n\n<p>This TypeScript strongly-typed, fluent wrapper library is <strong>ts-sync-request</strong>.</p>\n\n<p><a href=\"https://www.npmjs.com/package/ts-sync-request\" rel=\"nofollow noreferrer\"><strong>ts-sync-request on npm</strong></a></p>\n\n<p>With this library, you can make sync http calls like below:</p>\n\n<p><strong>Your TypeScript classes</strong>:</p>\n\n<pre><code>class Request\n{\n    Email: string;\n}\n\nclass Response\n{\n    isValid: boolean;\n}\n</code></pre>\n\n<p><strong>Install package in project</strong>:</p>\n\n<pre><code> npm i ts-sync-request\n</code></pre>\n\n<p>Then</p>\n\n<pre><code>import { SyncRequestClient } from 'ts-sync-request/dist'\n</code></pre>\n\n<p><strong>GET</strong>:</p>\n\n<pre><code>    let email = \"jdoe@xyz.com\";\n    let url = \"http://localhost:59039/api/Movies/validateEmail/\" + email;\n\n    var response = new SyncRequestClient()\n                                .addHeader(\"Authorization\", \"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJleHAiOjE1NDc2OTg1MzgsIm5iZiI6MTU0NzY5NDIxOCwiaHR0cDovL3NjaGVtYXMueG1sc29hcC5vcmcvd3MvMjAwNS8wNS9pZGVudGl0eS9jbGFpbXMvbmFtZSI6InN0cmluZyIsImh0dHA6Ly9zY2hlbWFzLm1pY3Jvc29mdC5jb20vd3MvMjAwOC8wNi9pZGVudGl0eS9jbGFpbXMvcm9sZSI6InN0cmluZyIsIkRPQiI6IjEvMTcvMjAxOSIsImlzcyI6InlvdXIgYXBwIiwiYXVkIjoidGhlIGNsaWVudCBvZiB5b3VyIGFwcCJ9.qxFdcdAVKG2Idcsk_tftnkkyB2vsaQx5py1KSMy3fT4\")\n                            .get&lt;Response&gt;(url);\n</code></pre>\n\n<p><strong>POST</strong>:</p>\n\n<pre><code>    let url = \"http://localhost:59039/api/Movies/validateEmailPost\";\n    let request = new Request();\n    request.Email = \"jdoe@xyz.com\";\n\n    var response = new SyncRequestClient()\n                                .addHeader(\"Authorization\", \"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJleHAiOjE1NDc2OTg1MzgsIm5iZiI6MTU0NzY5NDIxOCwiaHR0cDovL3NjaGVtYXMueG1sc29hcC5vcmcvd3MvMjAwNS8wNS9pZGVudGl0eS9jbGFpbXMvbmFtZSI6InN0cmluZyIsImh0dHA6Ly9zY2hlbWFzLm1pY3Jvc29mdC5jb20vd3MvMjAwOC8wNi9pZGVudGl0eS9jbGFpbXMvcm9sZSI6InN0cmluZyIsIkRPQiI6IjEvMTcvMjAxOSIsImlzcyI6InlvdXIgYXBwIiwiYXVkIjoidGhlIGNsaWVudCBvZiB5b3VyIGFwcCJ9.qxFdcdAVKG2Idcsk_tftnkkyB2vsaQx5py1KSMy3fT4\")\n                            .post&lt;Request, Response&gt;(url, request);\n</code></pre>\n\n<p>Hope this helps.</p>\n"}], "owner": {"reputation": 436, "user_id": 3369579, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/c735cd817640725ec3fbfdb07bd4fa84?s=128&d=identicon&r=PG&f=1", "display_name": "user3369579", "link": "https://stackoverflow.com/users/3369579/user3369579"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 10647, "favorite_count": 1, "accepted_answer_id": 34496826, "answer_count": 2, "score": 0, "last_activity_date": 1547721575, "creation_date": 1451317067, "last_edit_date": 1451379592, "question_id": 34496362, "link": "https://stackoverflow.com/questions/34496362/create-a-synchronous-http-get", "title": "create a synchronous http.get()", "body": "<p>Im trying to handle a login via promises and http.get but i fail so hard I get following error :</p>\n\n<blockquote>\n  <p>Object doesn't support property or method 'toPromise'</p>\n</blockquote>\n\n<p>My code is  :</p>\n\n<pre><code>return this.http.get('http://localhost:5000/login/', {\n  headers: authHeader\n}).map((response) =&gt; {\n  return response.json()\n}).toPromise(null);\n</code></pre>\n\n<p>ive got it from :</p>\n\n<p><a href=\"https://github.com/johnpapa/angular2-there-and-back-again/blob/master/src/app/core/character.service.ts\" rel=\"nofollow\">https://github.com/johnpapa/angular2-there-and-back-again/blob/master/src/app/core/character.service.ts</a></p>\n\n<p>UPDATE :</p>\n\n<p>JohnPapa updated his project my friends</p>\n\n<p><a href=\"https://github.com/johnpapa/angular2-there-and-back-again/blob/master/app/core/character.service.ts\" rel=\"nofollow\">https://github.com/johnpapa/angular2-there-and-back-again/blob/master/app/core/character.service.ts</a></p>\n"}, {"tags": ["javascript", "jquery", "twitter-bootstrap", "typescript", "angular"], "comments": [{"owner": {"reputation": 57430, "user_id": 3106920, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pO5sC.jpg?s=128&g=1", "display_name": "Poul Kruijt", "link": "https://stackoverflow.com/users/3106920/poul-kruijt"}, "edited": false, "score": 0, "creation_date": 1451313199, "post_id": 34495307, "comment_id": 56732151, "body": "Can you check if the <code>this</code> where <code>this.sessions = sessions;</code> is, actually refers to a <code>ScrumSessionsModalComponent</code> instance?"}, {"owner": {"reputation": 831, "user_id": 459773, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/045d7e8b0e2cf46f89ad6771c36d410f?s=128&d=identicon&r=PG", "display_name": "Jurgen Welschen", "link": "https://stackoverflow.com/users/459773/jurgen-welschen"}, "reply_to_user": {"reputation": 57430, "user_id": 3106920, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pO5sC.jpg?s=128&g=1", "display_name": "Poul Kruijt", "link": "https://stackoverflow.com/users/3106920/poul-kruijt"}, "edited": false, "score": 0, "creation_date": 1451314043, "post_id": 34495307, "comment_id": 56732552, "body": "I have published the latest version and placed a debugger on the fetch promise. <a href=\"http://gbscrumboard.azurewebsites.net/\" rel=\"nofollow noreferrer\">gbscrumboard.azurewebsites.net</a> . (click on the active sessions button). there you can see it is the correct instance (atleast from what i can see)"}, {"owner": {"reputation": 28908, "user_id": 4933038, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fea342bbab0580d1ee823125a5f0e030?s=128&d=identicon&r=PG&f=1", "display_name": "Eric Martinez", "link": "https://stackoverflow.com/users/4933038/eric-martinez"}, "edited": false, "score": 0, "creation_date": 1451314778, "post_id": 34495307, "comment_id": 56732918, "body": "Have you tried using Observables to listen for events? Like <code>Observable.fromEvent(this._elementRef.nativeElement, &#39;shown.bs.modal&#39;)</code>"}, {"owner": {"reputation": 831, "user_id": 459773, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/045d7e8b0e2cf46f89ad6771c36d410f?s=128&d=identicon&r=PG", "display_name": "Jurgen Welschen", "link": "https://stackoverflow.com/users/459773/jurgen-welschen"}, "edited": false, "score": 0, "creation_date": 1451316089, "post_id": 34495307, "comment_id": 56733582, "body": "I have not heard about that before. I have tried it as follows:  <code>var obs = Observable.fromEvent(this._elementRef.nativeElement, &#39;shown.bs.modal&#39;);              obs.forEach((value: any) =&gt; {                 this.initialize();             }, null);</code>  however this did not update the view, but perhaps i am using it wrong."}, {"owner": {"reputation": 347451, "user_id": 215945, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/203qt.png?s=128&g=1", "display_name": "Mark Rajcok", "link": "https://stackoverflow.com/users/215945/mark-rajcok"}, "edited": false, "score": 0, "creation_date": 1451334233, "post_id": 34495307, "comment_id": 56741935, "body": "It sounds like a Zone issue -- Angular doesn&#39;t know about the jQuery callback so it can&#39;t monkey patch it.  See if this answer helps: <a href=\"http://stackoverflow.com/a/34376204/215945\">stackoverflow.com/a/34376204/215945</a>"}, {"owner": {"reputation": 831, "user_id": 459773, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/045d7e8b0e2cf46f89ad6771c36d410f?s=128&d=identicon&r=PG", "display_name": "Jurgen Welschen", "link": "https://stackoverflow.com/users/459773/jurgen-welschen"}, "edited": false, "score": 0, "creation_date": 1451671453, "post_id": 34495307, "comment_id": 56860563, "body": "Thank you mate that was it!"}], "answers": [{"comments": [{"owner": {"reputation": 2259, "user_id": 802196, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5663b0f39b9b536eea0c09703fb84be3?s=128&d=identicon&r=PG", "display_name": "ObjectiveTC", "link": "https://stackoverflow.com/users/802196/objectivetc"}, "edited": false, "score": 0, "creation_date": 1506029808, "post_id": 34558674, "comment_id": 79667177, "body": "Doesn&#39;t seem to work with Angular4 / Bootstrap4.  Tried your answer here as well as the &#39;observable&#39; version above, but neither of them results in Angular4 receiving the &#39;shown.bs.modal&#39; event from Bootstrap4."}, {"owner": {"reputation": 831, "user_id": 459773, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/045d7e8b0e2cf46f89ad6771c36d410f?s=128&d=identicon&r=PG", "display_name": "Jurgen Welschen", "link": "https://stackoverflow.com/users/459773/jurgen-welschen"}, "reply_to_user": {"reputation": 2259, "user_id": 802196, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5663b0f39b9b536eea0c09703fb84be3?s=128&d=identicon&r=PG", "display_name": "ObjectiveTC", "link": "https://stackoverflow.com/users/802196/objectivetc"}, "edited": false, "score": 0, "creation_date": 1506077514, "post_id": 34558674, "comment_id": 79685236, "body": "yeah this answer is pretty outdated now. This was still in the angular 2 beta phase. I dont know how this would be converted to angular 4."}, {"owner": {"reputation": 2259, "user_id": 802196, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5663b0f39b9b536eea0c09703fb84be3?s=128&d=identicon&r=PG", "display_name": "ObjectiveTC", "link": "https://stackoverflow.com/users/802196/objectivetc"}, "edited": false, "score": 0, "creation_date": 1506550781, "post_id": 34558674, "comment_id": 79871688, "body": "I found a solution.  Intercept the event from within a script in index.html; construct a customEvent having the same event-name as the bootstrap event, and emit the event from the bootstrap event&#39;s original target.  Doing this allows you to Observe the event from within your components."}], "tags": [], "owner": {"reputation": 831, "user_id": 459773, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/045d7e8b0e2cf46f89ad6771c36d410f?s=128&d=identicon&r=PG", "display_name": "Jurgen Welschen", "link": "https://stackoverflow.com/users/459773/jurgen-welschen"}, "is_accepted": false, "score": 3, "last_activity_date": 1451671846, "creation_date": 1451671846, "answer_id": 34558674, "question_id": 34495307, "link": "https://stackoverflow.com/questions/34495307/angular2-with-bootstrap-events-does-not-trigger-observable-changes/34558674#34558674", "title": "Angular2 with bootstrap events does not trigger observable changes", "body": "<p>Solved it with the link provided by Mark.\nApparently angular does not know about the bootstrap events and i have to tell zone.js to manually trigger change detection.</p>\n\n<pre class=\"lang-ts prettyprint-override\"><code>this._elementRef = elementRef;\njQuery(this._elementRef.nativeElement).on(\"shown.bs.modal\", () =&gt; {\n    this._zone.run(() =&gt; {\n      this.initialize();    \n    });\n});\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 4550, "user_id": 194653, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/d75c8156a7b7a93af066fd4cf6642b3a?s=128&d=identicon&r=PG", "display_name": "Chris Weber", "link": "https://stackoverflow.com/users/194653/chris-weber"}, "edited": false, "score": 2, "creation_date": 1507314611, "post_id": 46458318, "comment_id": 80175785, "body": "This should be the answer for Angular 4 (4.2.4 for sure)."}], "tags": [], "owner": {"reputation": 2259, "user_id": 802196, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5663b0f39b9b536eea0c09703fb84be3?s=128&d=identicon&r=PG", "display_name": "ObjectiveTC", "link": "https://stackoverflow.com/users/802196/objectivetc"}, "is_accepted": false, "score": 6, "last_activity_date": 1506552240, "creation_date": 1506552240, "answer_id": 46458318, "question_id": 34495307, "link": "https://stackoverflow.com/questions/34495307/angular2-with-bootstrap-events-does-not-trigger-observable-changes/46458318#46458318", "title": "Angular2 with bootstrap events does not trigger observable changes", "body": "<p>Solution: Observing Bootstrap Events with Angular4 / Bootstrap4.</p>\n\n<p>Summary: Intercept the bootstrap events, and fire off a custom event in its place.  The custom event will be observable from within angular components.</p>\n\n<p>Index.html:</p>\n\n<pre><code>&lt;body&gt;\n...\n&lt;script&gt;\n  function eventRelay(bs_event){\n  $('body').on(bs_event, function($event){\n    const customEvent = document.createEvent('Event');\n    customEvent.initEvent(bs_event, true, true);\n    let target_id = '#'+$event.target.id;\n    $(target_id)[0].dispatchEvent(customEvent);\n  });\n&lt;/script&gt;\n&lt;/body&gt;\n</code></pre>\n\n<p>In your Component/Service:</p>\n\n<pre><code>//dynamically execute the event relays\n  private registerEvent(event){\n    var script = document.createElement('script');\n    script.innerHTML = \"eventRelay('\"+event+\"');\"\n    document.body.appendChild(script);\n  }\n</code></pre>\n\n<p>In your Component's Constructor or ngOnInit(), you can now register and observe the bootstrap events.  Eg, Bootstrap Modal 'hidden' event.</p>\n\n<pre><code>constructor(){\n    registerEvent('hidden.bs.modal');\n     Observable.fromEvent(document, 'hidden.bs.modal')\n     .subscribe(($event) =&gt; {\n       console.log('my component observed hidden.bs.modal');\n       //...insert your code here...\n    });\n}\n</code></pre>\n\n<p>Note: the 'eventRelay' function must be inside index.html so that the DOM loads it.  Otherwise it will not be recognized when you issue the calls to 'eventRelay' from within 'registerEvent'.</p>\n\n<p>Conclusion: This is a middle-ware workaround solution that works with vanilla Angular4/Bootstrap4. I don't know why bootstrap events are not visible within angular, and I have not found any other solution around this.  </p>\n\n<p>Note1: Only call registerEvent once for each event.  That means 'once' in the entire app, so consider putting all registerEvent calls in app.component.ts.  Calling registerEvent multiple times will result in duplicate events being emitted to angular.</p>\n\n<p>Note2: There is an alternative bootstrap framework you can use with angular called ngx-bootstrap (<a href=\"https://valor-software.com/ngx-bootstrap/#/\" rel=\"noreferrer\">https://valor-software.com/ngx-bootstrap/#/</a>) which might make the bootstrap events visible, however I have not tested this.</p>\n\n<p>Advanced Solution: Create an Angular Service that manages the events registered through 'registerEvent', so it only only call 'registerEvent' once for each event.  This way, in your components you can call 'registerEvent' and then immediately create the Observable to that event, without having to worry about duplicate calls to 'registerEvent' in other components.</p>\n"}, {"comments": [{"owner": {"reputation": 4442, "user_id": 234110, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/2ZYqV.jpg?s=128&g=1", "display_name": "Anand Rockzz", "link": "https://stackoverflow.com/users/234110/anand-rockzz"}, "reply_to_user": {"reputation": 3008, "user_id": 764653, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/QvZoD.png?s=128&g=1", "display_name": "iamwhitebox", "link": "https://stackoverflow.com/users/764653/iamwhitebox"}, "edited": false, "score": 0, "creation_date": 1565989805, "post_id": 49122040, "comment_id": 101528362, "body": "I look back at my answer and feels the same.. but I wasn&#39;t the same a year back and certainly angular is not the same either. Changed my approach, <a href=\"https://stackoverflow.com/a/46704202/234110\">here</a> is a better solution to hide/show bootstrap modals."}], "tags": [], "owner": {"reputation": 4442, "user_id": 234110, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/2ZYqV.jpg?s=128&g=1", "display_name": "Anand Rockzz", "link": "https://stackoverflow.com/users/234110/anand-rockzz"}, "is_accepted": true, "score": 3, "last_activity_date": 1526224659, "last_edit_date": 1526224659, "creation_date": 1520299409, "answer_id": 49122040, "question_id": 34495307, "link": "https://stackoverflow.com/questions/34495307/angular2-with-bootstrap-events-does-not-trigger-observable-changes/49122040#49122040", "title": "Angular2 with bootstrap events does not trigger observable changes", "body": "<p>Wrapped above solution with an easy-to-use-service:</p>\n\n<p><strong>Update:</strong> If you are using <strong>rxjs-6</strong> there are breaking changes, you will have to </p>\n\n<pre><code>import { fromEvent } from 'rxjs';\n..\n</code></pre>\n\n<p>and use</p>\n\n<pre><code>..\nfromEvent(document, BsEventsService.BS_COLLAPSIBLE_SHOWN);\n</code></pre>\n\n<p>instead of</p>\n\n<pre><code>Observable.fromEvent(document, BsEventsService.BS_COLLAPSIBLE_SHOWN);\n</code></pre>\n\n<p><strong>bs-events.service.ts</strong></p>\n\n<pre><code>import { Subject, Observable, Subscription } from 'rxjs';\nimport { Injectable } from '@angular/core';\n\n@Injectable() export class BsEventsService {   private static BS_COLLAPSIBLE_SHOWN: string = 'shown.bs.collapse';   private static BS_COLLAPSIBLE_HIDDEN: string = 'hidden.bs.collapse';\n\n  constructor() {\n    this.registerEvent(BsEventsService.BS_COLLAPSIBLE_SHOWN);\n    this.registerEvent(BsEventsService.BS_COLLAPSIBLE_HIDDEN);\n  }\n\n  onCollapsibleShown(): Observable&lt;Event&gt; {\n      return Observable.fromEvent(document, BsEventsService.BS_COLLAPSIBLE_SHOWN);\n  }   \n  onCollapsibleHidden(): Observable&lt;Event&gt; {\n      return Observable.fromEvent(document, BsEventsService.BS_COLLAPSIBLE_HIDDEN);\n  }\n\n  private registerEvent(event) {\n    var script = document.createElement('script');\n    script.innerHTML = \"eventRelay('\" + event + \"');\"\n    document.body.appendChild(script);\n  }\n\n}\n</code></pre>\n\n<p><strong>index.html</strong></p>\n\n<pre><code>&lt;app-root&gt;&lt;/app-root&gt;\n..\n  &lt;!-- relay bootstrap events to angular - start --&gt;\n  &lt;script&gt;\n    function eventRelay(bs_event) {\n      $('body').on(bs_event, function ($event) {\n        const customEvent = document.createEvent('Event');\n        customEvent.initEvent(bs_event, true, true);\n        let target_id = '#' + $event.target.id;\n        $(target_id)[0].dispatchEvent(customEvent);\n      });\n    }\n  &lt;/script&gt;\n  &lt;!-- relay bootstrap events to angular - end --&gt;\n..\n&lt;/body&gt;\n</code></pre>\n\n<p><strong>component</strong></p>\n\n<pre><code>import { BsEventsService } from './service/bs-events.service';\nimport { Subject, Observable, Subscription } from 'rxjs';\n..\n\nprivate onCllapsibleShownSubject: Subscription;\nprivate onCllapsibleHiddenSubject: Subscription;\n\n..\nconstructor(.., private bsEventsService: BsEventsService) {\n..\n}\n\nngOnInit() {\n    this.onCllapsibleShownSubject = this.bsEventsService.onCollapsibleShown().subscribe((event: any) =&gt; {\n      console.log('shown: ' + event.target.id);\n    });\n    this.onCllapsibleHiddenSubject = this.bsEventsService.onCollapsibleHidden().subscribe((event: any) =&gt; {\n      console.log('hidden: ' + event.target.id);\n    });\n}\nngOnDestroy() {\n    this.onCllapsibleShownSubject.unsubscribe();\n    this.onCllapsibleHiddenSubject.unsubscribe();\n}\n</code></pre>\n"}], "owner": {"reputation": 831, "user_id": 459773, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/045d7e8b0e2cf46f89ad6771c36d410f?s=128&d=identicon&r=PG", "display_name": "Jurgen Welschen", "link": "https://stackoverflow.com/users/459773/jurgen-welschen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 6042, "favorite_count": 1, "accepted_answer_id": 49122040, "answer_count": 3, "score": 3, "last_activity_date": 1526224659, "creation_date": 1451312654, "last_edit_date": 1451314074, "question_id": 34495307, "link": "https://stackoverflow.com/questions/34495307/angular2-with-bootstrap-events-does-not-trigger-observable-changes", "title": "Angular2 with bootstrap events does not trigger observable changes", "body": "<p>I found a weird issue involving bootstrapjs modals along with angular2.\nI have a component that is bound to the html of an bootstrap modal:</p>\n\n<pre class=\"lang-ts prettyprint-override\"><code>// ... lots of imports here\n\n@Component({\nselector: 'scrum-sessions-modal',\nbindings: [ScrumSessionService, ScrumSessionRepository, ScrumModuleDataContext, ElementRef]\n\n})\n\n@View({\ntemplateUrl: 'templates/modals/scrumSessions.modal.html',\n\nstyleUrls: ['']\n})\n\nexport class ScrumSessionsModalComponent {\n\n    private _elementRef: ElementRef;\n    public sessions: ScrumSession[];\n\n    constructor(scrumSessionsProxy: ScrumSessionsProxy, scrumSessionService: ScrumSessionService, elementRef: ElementRef) {\n\n        this._proxy = scrumSessionsProxy;\n        this._scrumSessionService = scrumSessionService;\n        this._elementRef = elementRef;\n\n        // This is the bootstrap on shown event where i call the initialize method\n        jQuery(this._elementRef.nativeElement).on(\"shown.bs.modal\", () =&gt; {\n            this.initialize();    \n        });\n\n         jQuery(\"#scrumSessionsModal\").on(\"hidden.bs.modal\", () =&gt; {\n             this.cleanup();\n         });\n\n    }\n\n    public initialize() {\n\n        // Start our hub proxy to the scrumsessionshub\n        this._proxy.start().then(() =&gt; {\n            // Fetch all active sessions;\n            this._scrumSessionService.fetchActiveSessions().then((sessions: ScrumSession[]) =&gt; {\n                // This console.log is being shown, however the sessions list is never populated in the view even though there are active sessions!\n                console.log(\"loaded\");\n                this.sessions = sessions;\n            }); \n        });\n    }\n\n    // Free up memory and stop any event listeners/hubs\n    private cleanup() {\n        this.sessions = [];\n        this._proxy.stop();\n    }\n\n}\n</code></pre>\n\n<p>In this modal i have an event listener in the constructor that checks when the modal is shown. when it does it calls the initialize function that will load the initial data that will be displayed in the modal. </p>\n\n<p>The html for the modal looks like this:</p>\n\n<pre class=\"lang-html prettyprint-override\"><code>&lt;div class=\"modal fade\" id=\"scrumSessionsModal\" tabindex=\"-1\" role=\"dialog\" aria-labelledby=\"scrumSessionsModalLabel\"&gt;\n&lt;div class=\"modal-dialog\" role=\"document\"&gt;\n    &lt;div class=\"modal-content\"&gt;\n    &lt;div class=\"modal-header\"&gt;\n        &lt;button type=\"button\" class=\"close\" data-dismiss=\"modal\" aria-label=\"Close\"&gt;&lt;span aria-hidden=\"true\"&gt;&amp;times;&lt;/span&gt;&lt;/button&gt;\n        &lt;h4 class=\"modal-title\" id=\"myModalLabel\"&gt;Actieve sessies &lt;/h4&gt;\n    &lt;/div&gt;\n    &lt;div class=\"modal-body\"&gt;\n\n        &lt;table class=\"table\"&gt;\n            &lt;tr&gt;\n                &lt;th&gt;Id&lt;/th&gt;\n                &lt;th&gt;Maker&lt;/th&gt;\n                &lt;th&gt;Start datum&lt;/th&gt;\n                &lt;th&gt;Aantal deelnemers&lt;/th&gt;\n            &lt;/tr&gt;\n            &lt;tr *ngFor=\"#session of sessions\"&gt;\n                &lt;td&gt;\n                    {{ session.id }}\n                &lt;/td&gt;\n                &lt;td&gt;\n                    test\n                &lt;/td&gt;\n                &lt;td&gt;\n                    test\n                &lt;/td&gt;\n                &lt;td&gt;\n                test\n                &lt;/td&gt;\n            &lt;/tr&gt;\n        &lt;/table&gt;\n\n    &lt;/div&gt;\n    &lt;div class=\"modal-footer\"&gt;\n        &lt;button type=\"button\" class=\"btn btn-default\" data-dismiss=\"modal\"&gt;Close&lt;/button&gt;\n    &lt;/div&gt;\n    &lt;/div&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>The problem i am having is that the sessions variable that is filled by the fetchactivesessions function does not get updated in the view. I put a debugger on the fetch completion method and it is being called with a result of one scrumsession object.</p>\n\n<p>However, when i remove the on(\"shown.bs.modal\") event listener and simply put the call to initialize() inside a setTimeout function of 5 seconds and then open the modal the sessions list is correctly populated.</p>\n\n<p>It only happens when i put the initialize call inside the callback of the bootstrap shown event. It is like it stops checking for changes when the call is inside a jquery callback. Does anyone know what the deal is here? I could offcourse just call the initialize in the constructor but i rather have it called on the shown event from bootstrap.</p>\n\n<p>I have published the latest version of the app for debugging at: <a href=\"http://gbscrumboard.azurewebsites.net/\" rel=\"nofollow\">http://gbscrumboard.azurewebsites.net/</a></p>\n"}, {"tags": ["typescript"], "answers": [{"comments": [{"owner": {"reputation": 337, "user_id": 2077291, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/2b674189034adfc37369a2f599f7dff0?s=128&d=identicon&r=PG", "display_name": "mathias999us", "link": "https://stackoverflow.com/users/2077291/mathias999us"}, "edited": false, "score": 0, "creation_date": 1451311327, "post_id": 34494878, "comment_id": 56731261, "body": "I independently verbatim updated my post with your second solution at the same time that you provided it. If it turns out that this is truly the best/only solution (which I&#39;m thinking it is), I will accept your answer."}, {"owner": {"reputation": 11846, "user_id": 4339170, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/xdR3z.png?s=128&g=1", "display_name": "CoderPi", "link": "https://stackoverflow.com/users/4339170/coderpi"}, "reply_to_user": {"reputation": 337, "user_id": 2077291, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/2b674189034adfc37369a2f599f7dff0?s=128&d=identicon&r=PG", "display_name": "mathias999us", "link": "https://stackoverflow.com/users/2077291/mathias999us"}, "edited": false, "score": 1, "creation_date": 1451311392, "post_id": 34494878, "comment_id": 56731287, "body": "@mathias999us I also hope there is a more typesafe solution, but I can&#39;t think of one (the first would be the best typesafe solution, but remember the 2nd will return the same object x, not a copy of it, the first will return a copy of it)"}], "tags": [], "owner": {"reputation": 11846, "user_id": 4339170, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/xdR3z.png?s=128&g=1", "display_name": "CoderPi", "link": "https://stackoverflow.com/users/4339170/coderpi"}, "is_accepted": false, "score": 0, "last_activity_date": 1451310997, "creation_date": 1451310997, "answer_id": 34494878, "question_id": 34494814, "link": "https://stackoverflow.com/questions/34494814/how-to-add-a-property-to-an-existing-object-to-satisfy-an-interface-in-typescrip/34494878#34494878", "title": "How to add a property to an existing object to satisfy an interface in typescript?", "body": "<p>It's more a JavaScript-Problem:</p>\n\n<pre><code>function someImportantFunction(x: A): B {\n    var ret: B = {\n        prop1: x.prop1,\n        prop2: someCalculation()\n    }\n\n    return ret;\n}\n</code></pre>\n\n<p>but you could also do:</p>\n\n<pre><code>function someImportantFunction(x: A): B {\n    var ret: B = &lt;B&gt;x\n    x.prop2 = someCalculation()\n\n    return ret;\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 12389, "user_id": 1233508, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/93MDM.jpg?s=128&g=1", "display_name": "DCoder", "link": "https://stackoverflow.com/users/1233508/dcoder"}, "is_accepted": true, "score": 5, "last_activity_date": 1451644752, "creation_date": 1451644752, "answer_id": 34555419, "question_id": 34494814, "link": "https://stackoverflow.com/questions/34494814/how-to-add-a-property-to-an-existing-object-to-satisfy-an-interface-in-typescrip/34555419#34555419", "title": "How to add a property to an existing object to satisfy an interface in typescript?", "body": "<p>With <a href=\"https://github.com/Microsoft/TypeScript/blob/master/doc/spec.md#3.5\" rel=\"noreferrer\"><em>intersection types</em></a> (TS 1.6+), you can have more type safety:</p>\n\n<pre><code>// your typical mixin function, like lodash extend or jQuery.extend\n// you can use one of those instead of this quick and dirty implementation,\n// the main reason for having this function is its type signature\nfunction extend&lt;T1, T2&gt;(source: T1, addition: T2): T1 &amp; T2 {\n  let result = &lt;T1 &amp; T2&gt;source;\n  for(let key of Object.keys(addition)) {\n    result[key] = addition[key];\n  }\n  return result;\n}\n\ninterface A {\n  prop1: string;\n}\n\ninterface B extends A {\n  prop2: string;\n}\n\nfunction someImportantFunction(x: A): B {\n  return extend(x, {\n    prop2: someCalculation()\n  });\n}\n</code></pre>\n\n<p>This way the compiler can determine what properties of type <code>B</code> are missing from type <code>A</code> and ensure your <code>extend</code> call provides them.</p>\n"}, {"comments": [{"owner": {"reputation": 337, "user_id": 2077291, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/2b674189034adfc37369a2f599f7dff0?s=128&d=identicon&r=PG", "display_name": "mathias999us", "link": "https://stackoverflow.com/users/2077291/mathias999us"}, "edited": false, "score": 0, "creation_date": 1530203158, "post_id": 51017866, "comment_id": 89163676, "body": "The accepted answer that utilizes intersection types performs this operation in a type-safe manner. The approach you outlined does not guarantee that adding &quot;prop2&quot; to x results in an object that satisfies type B."}, {"owner": {"reputation": 4522, "user_id": 45583, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/edd73df39a0c7d85da3e01ce29f4bc3c?s=128&d=identicon&r=PG", "display_name": "Fowl", "link": "https://stackoverflow.com/users/45583/fowl"}, "reply_to_user": {"reputation": 337, "user_id": 2077291, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/2b674189034adfc37369a2f599f7dff0?s=128&d=identicon&r=PG", "display_name": "mathias999us", "link": "https://stackoverflow.com/users/2077291/mathias999us"}, "edited": false, "score": 0, "creation_date": 1531889956, "post_id": 51017866, "comment_id": 89759197, "body": "@mathias999us: It does though. <code>Object.assign</code> is <a href=\"https://github.com/Microsoft/TypeScript/blob/d92c26db699b1776b5869b123f5f43824d1bf03d/lib/lib.es2015.core.d.ts#L286\" rel=\"nofollow noreferrer\">defined</a> as <code>assign&lt;T, U&gt;(target: T, source: U): T &amp; U;</code>, almost identically to the accepted answer."}, {"owner": {"reputation": 4522, "user_id": 45583, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/edd73df39a0c7d85da3e01ce29f4bc3c?s=128&d=identicon&r=PG", "display_name": "Fowl", "link": "https://stackoverflow.com/users/45583/fowl"}, "reply_to_user": {"reputation": 337, "user_id": 2077291, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/2b674189034adfc37369a2f599f7dff0?s=128&d=identicon&r=PG", "display_name": "mathias999us", "link": "https://stackoverflow.com/users/2077291/mathias999us"}, "edited": false, "score": 0, "creation_date": 1531987807, "post_id": 51017866, "comment_id": 89806024, "body": "@mathias999us updated the answer - you should be able to now =)"}], "tags": [], "owner": {"reputation": 4522, "user_id": 45583, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/edd73df39a0c7d85da3e01ce29f4bc3c?s=128&d=identicon&r=PG", "display_name": "Fowl", "link": "https://stackoverflow.com/users/45583/fowl"}, "is_accepted": false, "score": 3, "last_activity_date": 1531987740, "last_edit_date": 1531987740, "creation_date": 1529910066, "answer_id": 51017866, "question_id": 34494814, "link": "https://stackoverflow.com/questions/34494814/how-to-add-a-property-to-an-existing-object-to-satisfy-an-interface-in-typescrip/51017866#51017866", "title": "How to add a property to an existing object to satisfy an interface in typescript?", "body": "<p>Use <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/assign\" rel=\"nofollow noreferrer\"><code>Object.assign</code></a>:</p>\n\n<pre><code>interface A { prop1: string; }\ninterface B extends A { prop2: string; }\n\nsomeImportantFunction(x: A): B {\n    var ret: B = Object.assign(x, { prop2 : someCalculation()});\n\n    return ret;\n}\n</code></pre>\n\n<p>The types come out because of <a href=\"https://github.com/Microsoft/TypeScript/blob/d92c26db699b1776b5869b123f5f43824d1bf03d/lib/lib.es2015.core.d.ts#L286\" rel=\"nofollow noreferrer\">the typing file</a> defines the return values as an <a href=\"https://www.typescriptlang.org/docs/handbook/advanced-types.html#intersection-types\" rel=\"nofollow noreferrer\">intersection type</a> (<code>&amp;</code>):</p>\n\n<pre><code>assign&lt;T, U&gt;(target: T, source: U): T &amp; U;\n</code></pre>\n"}], "owner": {"reputation": 337, "user_id": 2077291, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/2b674189034adfc37369a2f599f7dff0?s=128&d=identicon&r=PG", "display_name": "mathias999us", "link": "https://stackoverflow.com/users/2077291/mathias999us"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 6133, "favorite_count": 1, "accepted_answer_id": 34555419, "answer_count": 3, "score": 9, "last_activity_date": 1531987740, "creation_date": 1451310783, "last_edit_date": 1451311229, "question_id": 34494814, "link": "https://stackoverflow.com/questions/34494814/how-to-add-a-property-to-an-existing-object-to-satisfy-an-interface-in-typescrip", "title": "How to add a property to an existing object to satisfy an interface in typescript?", "body": "<p>Here's what I would like to do in a nutshell:</p>\n\n<pre><code>interface A {\n     prop1: string;\n}\n\ninterface B extends A {\n    prop2: string;\n}\n\nsomeImportantFunction(x: A): B {\n    var ret: B = x.prop2 = someCalculation(); //Error, but if possible x would now satisfy B\n\n    return ret;\n}\n</code></pre>\n\n<p>The english version of my question is: how can I add new properties to an existing object in typescript, with the goal of satisfying a more-derived interface definition? Perhaps this is not possible, or I am missing some obvious approach.</p>\n\n<p>UPDATE:\nAlso, suppose the list of properties on interface A is long, so boilerplate assignment by mapping properties is laborious and not clean.</p>\n\n<p>I also see something like this would work, but it seems like a hack:</p>\n\n<pre><code>someImportantFunction(x: A): B {\n    var ret: B = &lt;B&gt;x;\n    ret.prop2 = someCalculation();\n\n    return ret;\n}\n</code></pre>\n\n<p>Thanks,\nMathias</p>\n"}, {"tags": ["typescript", "firebase", "systemjs"], "comments": [{"owner": {"reputation": 1057, "user_id": 1242054, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/b8c10d4ed78da063858d2561e44162fb?s=128&d=identicon&r=PG&f=1", "display_name": "Aditya Jain", "link": "https://stackoverflow.com/users/1242054/aditya-jain"}, "edited": false, "score": 0, "creation_date": 1462374788, "post_id": 34492799, "comment_id": 61613478, "body": "I am facing the same issue, did you solved it?"}, {"owner": {"reputation": 4999, "user_id": 595335, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/4h21E.jpg?s=128&g=1", "display_name": "Max Alexander", "link": "https://stackoverflow.com/users/595335/max-alexander"}, "reply_to_user": {"reputation": 1057, "user_id": 1242054, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/b8c10d4ed78da063858d2561e44162fb?s=128&d=identicon&r=PG&f=1", "display_name": "Aditya Jain", "link": "https://stackoverflow.com/users/1242054/aditya-jain"}, "edited": false, "score": 0, "creation_date": 1462375815, "post_id": 34492799, "comment_id": 61614189, "body": "I dumped system JS because of this and several other issues and went with webpack"}], "answers": [{"tags": [], "owner": {"reputation": 119, "user_id": 1337137, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/4c69739c62243c2bf4cba85c03a8d484?s=128&d=identicon&r=PG", "display_name": "Udgin", "link": "https://stackoverflow.com/users/1337137/udgin"}, "is_accepted": false, "score": 1, "last_activity_date": 1476734859, "creation_date": 1476734859, "answer_id": 40094807, "question_id": 34492799, "link": "https://stackoverflow.com/questions/34492799/firebase-to-work-with-systemjs/40094807#40094807", "title": "Firebase to work with SystemJS", "body": "<p>My SystemJs:</p>\n\n<pre><code>'firebase': 'npm:firebase/firebase.js',\n</code></pre>\n\n<p>And there is my code:</p>\n\n<pre><code>import 'firebase';\n\nlet config = {\n    apiKey: ,\n    authDomain: \n    databaseURL: ',\n    storageBucket: ,\n    messagingSenderId: \n  };\n\nfirebase.initializeApp(config);\n</code></pre>\n\n<p>It is working well with SystemJs.</p>\n"}], "owner": {"reputation": 4999, "user_id": 595335, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/4h21E.jpg?s=128&g=1", "display_name": "Max Alexander", "link": "https://stackoverflow.com/users/595335/max-alexander"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 374, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1476734859, "creation_date": 1451302601, "question_id": 34492799, "link": "https://stackoverflow.com/questions/34492799/firebase-to-work-with-systemjs", "title": "Firebase to work with SystemJS", "body": "<p>I'm using SystemJS to load all my dependencies. I'm using TypeScript but I something really odd is happening. Firebase is being imported but I can't seeem to call `new Firebase(\"myUrl\") on it.</p>\n\n<p>Here's my map property of SystemJS </p>\n\n<pre><code>map: {\n        'rxjs': '/node_modules/rxjs',\n        'lodash': '/node_modules/lodash/index.js',\n        'handlebars': '/node_modules/handlebars/dist/handlebars.min.js',\n        'firebase': '/node_modules/firebase/lib/firebase-web.js'\n}\n</code></pre>\n\n<p>Unless I'm missing something I can't seem to instantiate a Firebase instance... </p>\n\n<p><code>new Firebase(\"myUrl\")</code> throws a <code>Firebase is not a function</code> but the object isn't <code>undefined</code></p>\n\n<p>I upgraded to SystemJS 0.19.6 and Firebase 2.3.2</p>\n"}, {"tags": ["javascript", "django", "typescript", "angular", "django-pipeline"], "comments": [{"owner": {"reputation": 36624, "user_id": 1876949, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/f9db9f1682b280cc87f52553bba0c75b?s=128&d=identicon&r=PG", "display_name": "Sasxa", "link": "https://stackoverflow.com/users/1876949/sasxa"}, "edited": false, "score": 0, "creation_date": 1451305359, "post_id": 34492333, "comment_id": 56728517, "body": "try using <code>angular2&#47;bundles&#47;angular2-polyfills.js</code> instead of <code>tsc.js</code> and <code>es6-shim.js</code>, assuming you&#39;re using Beta0..."}], "answers": [{"comments": [{"owner": {"reputation": 870, "user_id": 2443062, "user_type": "registered", "accept_rate": 26, "profile_image": "https://i.stack.imgur.com/pTk9s.png?s=128&g=1", "display_name": "Dmitry Yudin", "link": "https://stackoverflow.com/users/2443062/dmitry-yudin"}, "edited": false, "score": 0, "creation_date": 1451309722, "post_id": 34493608, "comment_id": 56730473, "body": "Same problem after doing this"}, {"owner": {"reputation": 57430, "user_id": 3106920, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pO5sC.jpg?s=128&g=1", "display_name": "Poul Kruijt", "link": "https://stackoverflow.com/users/3106920/poul-kruijt"}, "reply_to_user": {"reputation": 870, "user_id": 2443062, "user_type": "registered", "accept_rate": 26, "profile_image": "https://i.stack.imgur.com/pTk9s.png?s=128&g=1", "display_name": "Dmitry Yudin", "link": "https://stackoverflow.com/users/2443062/dmitry-yudin"}, "edited": false, "score": 0, "creation_date": 1451309952, "post_id": 34493608, "comment_id": 56730597, "body": "Have you removed <code>tsc.js</code>, <code>es6-shim.js</code>, and put the scripts in the order I provided? I&#39;m also wondering what&#39;s in your <code>&#47;static&#47;js&#47;sceneapp&#47;app.js</code> script"}, {"owner": {"reputation": 870, "user_id": 2443062, "user_type": "registered", "accept_rate": 26, "profile_image": "https://i.stack.imgur.com/pTk9s.png?s=128&g=1", "display_name": "Dmitry Yudin", "link": "https://stackoverflow.com/users/2443062/dmitry-yudin"}, "edited": false, "score": 0, "creation_date": 1451316726, "post_id": 34493608, "comment_id": 56733944, "body": "my app ts :import {Component} from &#39;angular2/core&#39;;  @Component({     selector: &#39;my-app&#39;,     template: &#39;&lt;h1&gt;My First Angular 2 App&lt;/h1&gt;&#39; }) export class AppComponent {}  I wrote that already at top of question"}, {"owner": {"reputation": 57430, "user_id": 3106920, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pO5sC.jpg?s=128&g=1", "display_name": "Poul Kruijt", "link": "https://stackoverflow.com/users/3106920/poul-kruijt"}, "reply_to_user": {"reputation": 870, "user_id": 2443062, "user_type": "registered", "accept_rate": 26, "profile_image": "https://i.stack.imgur.com/pTk9s.png?s=128&g=1", "display_name": "Dmitry Yudin", "link": "https://stackoverflow.com/users/2443062/dmitry-yudin"}, "edited": false, "score": 1, "creation_date": 1451316985, "post_id": 34493608, "comment_id": 56734100, "body": "You should initialise your app through systemjs. And not add the <code>app.js</code> in the <code>index.html</code>. I&#39;ve updated my answer"}, {"owner": {"reputation": 870, "user_id": 2443062, "user_type": "registered", "accept_rate": 26, "profile_image": "https://i.stack.imgur.com/pTk9s.png?s=128&g=1", "display_name": "Dmitry Yudin", "link": "https://stackoverflow.com/users/2443062/dmitry-yudin"}, "edited": false, "score": 0, "creation_date": 1451320939, "post_id": 34493608, "comment_id": 56736160, "body": "Thank you so much! That helps. Error is gone, but stupidly now i have another problem, described here : <a href=\"http://stackoverflow.com/questions/34387174/angular-2-quickstart-unexpected-token\" title=\"angular 2 quickstart unexpected token\">stackoverflow.com/questions/34387174/&hellip;</a>"}, {"owner": {"reputation": 870, "user_id": 2443062, "user_type": "registered", "accept_rate": 26, "profile_image": "https://i.stack.imgur.com/pTk9s.png?s=128&g=1", "display_name": "Dmitry Yudin", "link": "https://stackoverflow.com/users/2443062/dmitry-yudin"}, "edited": false, "score": 0, "creation_date": 1451416285, "post_id": 34493608, "comment_id": 56776070, "body": "So i have no luck with my setup. It is still not compiling Typesctipt on server"}, {"owner": {"reputation": 75411, "user_id": 310726, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/cc38ee5e151f1efb6470740c66262058?s=128&d=identicon&r=PG", "display_name": "martin", "link": "https://stackoverflow.com/users/310726/martin"}, "edited": false, "score": 0, "creation_date": 1455722432, "post_id": 34493608, "comment_id": 58617512, "body": "This is actually misleading. <code>es6-shim.js</code> and <code>angular2-polyfills.js</code> are two different things. <code>es6-shim.js</code> provides ES2015 functionality in all browsers while <code>angular2-polyfills.js</code> is just a combination of <code>zone.js</code> and <code>reflect-metadata</code>. You DO need to use both of them."}, {"owner": {"reputation": 57430, "user_id": 3106920, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pO5sC.jpg?s=128&g=1", "display_name": "Poul Kruijt", "link": "https://stackoverflow.com/users/3106920/poul-kruijt"}, "edited": false, "score": 0, "creation_date": 1455727035, "post_id": 34493608, "comment_id": 58621114, "body": "Well, now you do :), but it wasn&#39;t necessary in the alpha versions of angular2"}], "tags": [], "owner": {"reputation": 57430, "user_id": 3106920, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pO5sC.jpg?s=128&g=1", "display_name": "Poul Kruijt", "link": "https://stackoverflow.com/users/3106920/poul-kruijt"}, "is_accepted": false, "score": 1, "last_activity_date": 1451316937, "last_edit_date": 1451316937, "creation_date": 1451305890, "answer_id": 34493608, "question_id": 34492333, "link": "https://stackoverflow.com/questions/34492333/angular-2-typescript-compiler-error/34493608#34493608", "title": "Angular 2 Typescript compiler error", "body": "<p>These scripts must be included for a basic angular2 application, ES6-shim is not necessary when you include angular2-polyfills:</p>\n\n<pre><code>&lt;script src=\"node_modules/angular2/bundles/angular2-polyfills.js\"&gt;&lt;/script&gt;\n&lt;script src=\"node_modules/systemjs/dist/system.src.js\"&gt;&lt;/script&gt;\n&lt;script src=\"node_modules/rxjs/bundles/Rx.js\"&gt;&lt;/script&gt;\n&lt;script src=\"node_modules/angular2/bundles/angular2.dev.js\"&gt;&lt;/script&gt;\n</code></pre>\n\n<p>After this you can make a systemjs script which will load your app:</p>\n\n<pre><code>System.config({\n    packages: {\n        'static/js': {\n            format: 'register',\n            defaultExtension: 'js'\n        }\n    }\n});\nSystem.import('sceneapp/app').then(null, console.error.bind(console));\n</code></pre>\n\n<p>Make sure to place the bootstrap somewhere as well.</p>\n\n<p>Just follow the <a href=\"https://angular.io/docs/ts/latest/quickstart.html\" rel=\"nofollow\">angular2 quickstart</a>. That is a good starting point anyways for problems like this</p>\n"}], "owner": {"reputation": 870, "user_id": 2443062, "user_type": "registered", "accept_rate": 26, "profile_image": "https://i.stack.imgur.com/pTk9s.png?s=128&g=1", "display_name": "Dmitry Yudin", "link": "https://stackoverflow.com/users/2443062/dmitry-yudin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4601, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1527439046, "creation_date": 1451300632, "last_edit_date": 1527439046, "question_id": 34492333, "link": "https://stackoverflow.com/questions/34492333/angular-2-typescript-compiler-error", "title": "Angular 2 Typescript compiler error", "body": "<p>I think its time to use Angular2 in development, so I want to start, but I have stuck at Error raised by TS compiler.\nIm using django-pipelines and pipelines-typescript package. It seems that compiler works ok if i create a .ts file it outputs .js and its working. But when I trying to use angular2 it outputs \" error TS2304: Cannot find name 'Map'\" and \"'Promise'.\\n/Users/bbx/envs/dscn_3/bin/scene/scene/static/angular2/src/facade/promise.d.ts(3,14): error TS2304: Cannot find name promise\":</p>\n\n<pre><code>    CompilerError at /\nb\"/Users/bbx/envs/dscn_3/bin/scene/scene/static/angular2/src/core/change_detection/parser/locals.d.ts(3,14): error TS2304: Cannot find name\n 'Map'.\\n/Users/bbx/envs/dscn_3/bin/scene/scene/static/angular2/src/core/change_detection/parser/locals.d.ts(4,42): error TS2304: Cannot find name 'Map'.\\n/Users/bbx/envs/dscn_3/bin/scene/scene/static/angular2/src/core/linker/element_injector.d.ts(71,32): error TS2304: Cannot find name 'Map'.\\n/Users/bbx/envs/dscn_3/bin/scene/scene/static/angular2/src/core/linker/element_injector.d.ts(73,17): error TS2304: Cannot find name 'Map'.\\n/Users/bbx/envs/dscn_3/bin/scene/scene/static/angular2/src/core/linker/element_injector.d.ts(77,184): error TS2304: Cannot find name 'Map'.\\n/Users/bbx/envs/dscn_3/bin/scene/scene/static/angular2/src/core/linker/element_injector.d.ts(82,182): error TS2304: Cannot find name 'Map'.\\n/Users/bbx/envs/dscn_3/bin/scene/scene/static/angular2/src/core/linker/element_injector.d.ts(106,37): error TS2304: Cannot find name 'Map'.\\n/Users/bbx/envs/dscn_3/bin/scene/scene/static/angular2/src/core/linker/proto_view_factory.d.ts(28,146): error TS2304: Cannot find name 'Map'.\\n/Users/bbx/envs/dscn_3/bin/scene/scene/static/angular2/src/core/linker/view.d.ts(52,144): error TS2304: Cannot find name 'Map'.\\n/Users/bbx/envs/dscn_3/bin/scene/scene/static/angular2/src/core/linker/view.d.ts(76,79): error TS2304: Cannot find name 'Map'.\\n/Users/bbx/envs/dscn_3/bin/scene/scene/static/angular2/src/core/linker/view.d.ts(77,73): error TS2304: Cannot find name 'Map'.\\n/Users/bbx/envs/dscn_3/bin/scene/scene/static/angular2/src/core/linker/view.d.ts(95,31): error TS2304: Cannot find name 'Map'.\\n/Users/bbx/envs/dscn_3/bin/scene/scene/static/angular2/src/core/linker/view.d.ts(98,18): error TS2304: Cannot find name 'Map'.\\n/Users/bbx/envs/dscn_3/bin/scene/scene/static/angular2/src/core/linker/view.d.ts(101,24): error TS2304: Cannot find name 'Map'.\\n/Users/bbx/envs/dscn_3/bin/scene/scene/static/angular2/src/core/linker/view.d.ts(104,162): error TS2304: Cannot find name 'Map'.\\n/Users/bbx/envs/dscn_3/bin/scene/scene/static/angular2/src/core/linker/view.d.ts(105,160): error TS2304: Cannot find name 'Map'.\\n/Users/bbx/envs/dscn_3/bin/scene/scene/static/angular2/src/core/render/api.d.ts(317,74): error TS2304: Cannot find name 'Map'.\\n/Users/bbx/envs/dscn_3/bin/scene/scene/static/angular2/src/core/zone/ng_zone.d.ts(2,37): error TS2304: Cannot find name 'Zone'.\\n/Users/bbx/envs/dscn_3/bin/scene/scene/static/angular2/src/facade/collection.d.ts(1,25): error TS2304: Cannot find name 'MapConstructor'.\\n/Users/bbx/envs/dscn_3/bin/scene/scene/static/angular2/src/facade/collection.d.ts(2,25): error TS2304: Cannot find name 'SetConstructor'.\\n/Users/bbx/envs/dscn_3/bin/scene/scene/static/angular2/src/facade/collection.d.ts(4,27): error TS2304: Cannot find name 'Map'.\\n/Users/bbx/envs/dscn_3/bin/scene/scene/static/angular2/src/facade/collection.d.ts(4,39): error TS2304: Cannot find name 'Map'.\\n/Users/bbx/envs/dscn_3/bin/scene/scene/static/angular2/src/facade/collection.d.ts(7,9): error TS2304: Cannot find name 'Map'.\\n/Users/bbx/envs/dscn_3/bin/scene/scene/static/angular2/src/facade/collection.d.ts(8,30): error TS2304: Cannot find name 'Map'.\\n/Users/bbx/envs/dscn_3/bin/scene/scene/static/angular2/src/facade/collection.d.ts(11,43): error TS2304: Cannot find name 'Map'.\\n/Users/bbx/envs/dscn_3/bin/scene/scene/static/angular2/src/facade/collection.d.ts(12,27): error TS2304: Cannot find name 'Map'.\\n/Users/bbx/envs/dscn_3/bin/scene/scene/static/angular2/src/facade/collection.d.ts(14,23): error TS2304: Cannot find name 'Map'.\\n/Users/bbx/envs/dscn_3/bin/scene/scene/static/angular2/src/facade/collection.d.ts(15,25): error TS2304: Cannot find name 'Map'.\\n/Users/bbx/envs/dscn_3/bin/scene/scene/static/angular2/src/facade/collection.d.ts(94,41): error TS2304: Cannot find name 'Set'.\\n/Users/bbx/envs/dscn_3/bin/scene/scene/static/angular2/src/facade/collection.d.ts(95,22): error TS2304: Cannot find name 'Set'.\\n/Users/bbx/envs/dscn_3/bin/scene/scene/static/angular2/src/facade/collection.d.ts(96,25): error TS2304: Cannot find name 'Set'.\\n/Users/bbx/envs/dscn_3/bin/scene/scene/static/angular2/src/facade/lang.d.ts(1,1): error TS1148: Cannot compile modules unless the '--module' flag is provided.\\n/Users/bbx/envs/dscn_3/bin/scene/scene/static/angular2/src/facade/lang.d.ts(2,22): error TS2304: Cannot find name 'BrowserNodeGlobal'.\\n/Users/bbx/envs/dscn_3/bin/scene/scene/static/angular2/src/facade/lang.d.ts(48,59): error TS2304: Cannot find name 'Map'.\\n/Users/bbx/envs/dscn_3/bin/scene/scene/static/angular2/src/facade/promise.d.ts(1,10): error TS2304: Cannot find name 'Promise'.\\n/Users/bbx/envs/dscn_3/bin/scene/scene/static/angular2/src/facade/promise.d.ts(3,14): error TS2304: Cannot find name 'Promise'.\\n/Users/bbx/envs/dscn_3/bin/scene/scene/static/angular2/src/facade/promise.d.ts(8,32): error TS2304: Cannot find name 'Promise'.\\n/Users/bbx/envs/dscn_3/bin/scene/scene/static/angular2/src/facade/promise.d.ts(9,38): error TS2304: Cannot find name 'Promise'.\\n/Users/bbx/envs/dscn_3/bin/scene/scene/static/angular2/src/facade/promise.d.ts(10,35): error TS2304: Cannot find name 'Promise'.\\n/Users/bbx/envs/dscn_3/bin/scene/scene/static/angular2/src/facade/promise.d.ts(10,93): error TS2304: Cannot find name 'Promise'.\\n/Users/bbx/envs/dscn_3/bin/scene/scene/static/angular2/src/facade/promise.d.ts(11,34): error TS2304: Cannot find name 'Promise'.\\n/Users/bbx/envs/dscn_3/bin/scene/scene/static/angular2/src/facade/promise.d.ts(12,32): error TS2304: Cannot find name 'Promise'.\\n/Users/bbx/envs/dscn_3/bin/scene/scene/static/angular2/src/facade/promise.d.ts(12,149): error TS2304: Cannot find name 'Promise'.\\n/Users/bbx/envs/dscn_3/bin/scene/scene/static/angular2/src/facade/promise.d.ts(13,43): error TS2304: Cannot find name 'Promise'.\\n/Users/bbx/envs/dscn_3/bin/scene/scene/static/js/sceneapp/app.ts(1,1): error TS6053: File '/Users/bbx/envs/dscn_3/bin/scene/scene/static/js/typings/angular2-meteor.d.ts' not found.\\n/Users/bbx/envs/dscn_3/bin/scene/scene/static/js/sceneapp/app.ts(8,14): error TS1219: Experimental support for decorators is a feature that is subject to change in a future release. Specify '--experimentalDecorators' to remove this warning.\\n/Users/bbx/envs/dscn_3/bin/scene/scene/static/rxjs/CoreOperators.d.ts(22,67): error TS2304: Cannot find name 'Promise'.\\n/Users/bbx/envs/dscn_3/bin/scene/scene/static/rxjs/CoreOperators.d.ts(72,67): error TS2304: Cannot find name 'Promise'.\\n/Users/bbx/envs/dscn_3/bin/scene/scene/static/rxjs/CoreOperators.d.ts(77,31): error TS2304: Cannot find name 'PromiseConstructor'.\\n/Users/bbx/envs/dscn_3/bin/scene/scene/static/rxjs/CoreOperators.d.ts(77,54): error TS2304: Cannot find name 'Promise'.\\n/Users/bbx/envs/dscn_3/bin/scene/scene/static/rxjs/Observable.d.ts(65,67): error TS2304: Cannot find name 'PromiseConstructor'.\\n/Users/bbx/envs/dscn_3/bin/scene/scene/static/rxjs/Observable.d.ts(65,88): error TS2304: Cannot find name 'Promise'.\\n/Users/bbx/envs/dscn_3/bin/scene/scene/static/rxjs/Observable.d.ts(72,84): error TS2304: Cannot find name 'Promise'.\\n/Users/bbx/envs/dscn_3/bin/scene/scene/static/rxjs/Observable.d.ts(77,38): error TS2304: Cannot find name 'Promise'.\\n/Users/bbx/envs/dscn_3/bin/scene/scene/static/rxjs/Observable.d.ts(100,66): error TS2304: Cannot find name 'Promise'.\\n/Users/bbx/envs/dscn_3/bin/scene/scene/static/rxjs/Observable.d.ts(154,66): error TS2304: Cannot find name 'Promise'.\\n/Users/bbx/envs/dscn_3/bin/scene/scene/static/rxjs/Observable.d.ts(159,31): error TS2304: Cannot find name 'PromiseConstructor'.\\n/Users/bbx/envs/dscn_3/bin/scene/scene/static/rxjs/Observable.d.ts(159,54): error TS2304: Cannot find name 'Promise'.\\n\"\n</code></pre>\n\n<p>My template is:</p>\n\n<pre><code>    &lt;!DOCTYPE html&gt;\n&lt;html lang=\"en\"&gt;\n&lt;head&gt;\n    &lt;meta charset=\"UTF-8\"&gt;\n    &lt;title&gt;Document&lt;/title&gt;\n    &lt;link href=\"/static/css/style.css\" rel=\"stylesheet\" type=\"text/css\" media=\"screen,projection\" /&gt;\n    &lt;script type=\"text/javascript\" src=\"/static/typescript/lib/tsc.js\" charset=\"utf-8\"&gt;&lt;/script&gt;\n&lt;script type=\"text/javascript\" src=\"/static/es6-shim/es6-shim.js\" charset=\"utf-8\"&gt;&lt;/script&gt;\n&lt;script type=\"text/javascript\" src=\"/static/rxjs/Rx.js\" charset=\"utf-8\"&gt;&lt;/script&gt;\n&lt;script type=\"text/javascript\" src=\"/static/systemjs/dist/system.js\" charset=\"utf-8\"&gt;&lt;/script&gt;\n&lt;script type=\"text/javascript\" src=\"/static/angular2/bundles/angular2.js\" charset=\"utf-8\"&gt;&lt;/script&gt;\n&lt;script type=\"text/javascript\" src=\"/static/js/sceneapp/app.js\" charset=\"utf-8\"&gt;&lt;/script&gt;\n    &lt;/head&gt;\n&lt;body&gt;\nWorks\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p>and app.ts is</p>\n\n<pre><code>import {Component} from 'angular2/core';\n\n@Component({\n    selector: 'my-app',\n    template: '&lt;h1&gt;My First Angular 2 App&lt;/h1&gt;'\n})\nexport class AppComponent {}\n</code></pre>\n\n<p>So I see that it cannot find a promise and map.</p>\n"}, {"tags": ["javascript", "typescript", "angular", "angular2-template"], "comments": [{"owner": {"reputation": 57430, "user_id": 3106920, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pO5sC.jpg?s=128&g=1", "display_name": "Poul Kruijt", "link": "https://stackoverflow.com/users/3106920/poul-kruijt"}, "edited": false, "score": 0, "creation_date": 1451300047, "post_id": 34491871, "comment_id": 56725980, "body": "I&#39;ve just rebuild your minimal angular2 app, but i do get the updated text result. Is there any error in the console? If not, can you give more code? Like your <code>index.html</code>, <code>main.component.html</code> and where you bootstrap the app"}], "answers": [{"comments": [{"owner": {"reputation": 831, "user_id": 459773, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/045d7e8b0e2cf46f89ad6771c36d410f?s=128&d=identicon&r=PG", "display_name": "Jurgen Welschen", "link": "https://stackoverflow.com/users/459773/jurgen-welschen"}, "edited": false, "score": 0, "creation_date": 1451300596, "post_id": 34492260, "comment_id": 56726281, "body": "Thank you, no errors in the console. I have updated my question with the full code, i notice you are using import &#39;rxjs/Rx&#39;; and i am not. I could not see this in the tutorial. Is there a reason you do it like this?"}, {"owner": {"reputation": 6245, "user_id": 4911384, "user_type": "registered", "accept_rate": 50, "profile_image": "https://lh6.googleusercontent.com/-pRKkwUEJZws/AAAAAAAAAAI/AAAAAAAAA-A/VAn5zKHtzzQ/photo.jpg?sz=128", "display_name": "Vlado Tesanovic", "link": "https://stackoverflow.com/users/4911384/vlado-tesanovic"}, "reply_to_user": {"reputation": 831, "user_id": 459773, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/045d7e8b0e2cf46f89ad6771c36d410f?s=128&d=identicon&r=PG", "display_name": "Jurgen Welschen", "link": "https://stackoverflow.com/users/459773/jurgen-welschen"}, "edited": false, "score": 0, "creation_date": 1451303303, "post_id": 34492260, "comment_id": 56727543, "body": "No no, you don&#39;t need it, i forked my other plunker and it left... :( As Thierry said, just include angular2-polyfills.min.js in your index.html"}, {"owner": {"reputation": 1503, "user_id": 5078433, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/35c3a2720b2baf9b285d99d8f8c59bef?s=128&d=identicon&r=PG&f=1", "display_name": "Motassem MK", "link": "https://stackoverflow.com/users/5078433/motassem-mk"}, "edited": false, "score": 0, "creation_date": 1479283899, "post_id": 34492260, "comment_id": 68487129, "body": "this totally worked for me with angular 2.0, thanks."}], "tags": [], "owner": {"reputation": 6245, "user_id": 4911384, "user_type": "registered", "accept_rate": 50, "profile_image": "https://lh6.googleusercontent.com/-pRKkwUEJZws/AAAAAAAAAAI/AAAAAAAAA-A/VAn5zKHtzzQ/photo.jpg?sz=128", "display_name": "Vlado Tesanovic", "link": "https://stackoverflow.com/users/4911384/vlado-tesanovic"}, "is_accepted": false, "score": 6, "last_activity_date": 1451300347, "creation_date": 1451300347, "answer_id": 34492260, "question_id": 34491871, "link": "https://stackoverflow.com/questions/34491871/angular2-view-not-updating-after-variable-changes-in-settimeout/34492260#34492260", "title": "Angular2, view not updating after variable changes in settimeout", "body": "<p>That should work. Do you have any other errors in console?</p>\n\n<pre><code>@Component({\n selector: 'my-app',\n template: `&lt;h1&gt;Hello {{title}}&lt;/h1&gt;`\n})\nexport class App {\n public title: string = \"World\";\n constructor() {\n   setTimeout(() =&gt; {\n    this.title = \"Brave New World\"\n   }, 1000);)\n }\n}\n</code></pre>\n\n<p>Look at this Plunker:\n<a href=\"http://plnkr.co/edit/XaL4GoqFd9aisOYIhuXq?p=preview\" rel=\"noreferrer\">http://plnkr.co/edit/XaL4GoqFd9aisOYIhuXq?p=preview</a></p>\n"}, {"comments": [{"owner": {"reputation": 831, "user_id": 459773, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/045d7e8b0e2cf46f89ad6771c36d410f?s=128&d=identicon&r=PG", "display_name": "Jurgen Welschen", "link": "https://stackoverflow.com/users/459773/jurgen-welschen"}, "edited": false, "score": 0, "creation_date": 1451300870, "post_id": 34492340, "comment_id": 56726424, "body": "That was it! But i dont understand. i used to develop with the alpha some versions back and this would work out of the box. How come they dont include this in the angular2 package by default?"}, {"owner": {"reputation": 181833, "user_id": 1873365, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/45TMV.png?s=128&g=1", "display_name": "Thierry Templier", "link": "https://stackoverflow.com/users/1873365/thierry-templier"}, "edited": false, "score": 0, "creation_date": 1451301085, "post_id": 34492340, "comment_id": 56726536, "body": "Yes, agreed! There are some differences between alpha versions and the beta one... Things that worked before and can now not work anymore. That&#39;s the problem when you&#39;re in alpha. Otherwise I guess that they don&#39;t put this into angular2 package because it&#39;s not actually angular2 ;-) My two cents"}], "tags": [], "owner": {"reputation": 181833, "user_id": 1873365, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/45TMV.png?s=128&g=1", "display_name": "Thierry Templier", "link": "https://stackoverflow.com/users/1873365/thierry-templier"}, "is_accepted": true, "score": 9, "last_activity_date": 1451300667, "creation_date": 1451300667, "answer_id": 34492340, "question_id": 34491871, "link": "https://stackoverflow.com/questions/34491871/angular2-view-not-updating-after-variable-changes-in-settimeout/34492340#34492340", "title": "Angular2, view not updating after variable changes in settimeout", "body": "<p>As Vlado said, it should work ;-)</p>\n\n<p>I think that the <code>angular2-polyfills.js</code> library should be included into your page. I can't see it. This file is essentially a mashup of zone.js and reflect-metadata. Zones take part of the detection of updates.</p>\n\n<p>You could have a look at this video where Bryan Ford explains what it is: <a href=\"https://www.youtube.com/watch?v=3IqtmUscE_U\" rel=\"noreferrer\">https://www.youtube.com/watch?v=3IqtmUscE_U</a>.</p>\n\n<p>Hope it helps you,\nThierry</p>\n"}, {"tags": [], "owner": {"reputation": 1309, "user_id": 333150, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/O4wJh.jpg?s=128&g=1", "display_name": "Ben", "link": "https://stackoverflow.com/users/333150/ben"}, "is_accepted": false, "score": 4, "last_activity_date": 1473410633, "creation_date": 1473410633, "answer_id": 39407391, "question_id": 34491871, "link": "https://stackoverflow.com/questions/34491871/angular2-view-not-updating-after-variable-changes-in-settimeout/39407391#39407391", "title": "Angular2, view not updating after variable changes in settimeout", "body": "<p>I had a very similar problem to the OP where even in a basic Angular2 setup changes to bound properties would not be reflected by the view automatically. At this point in time we're using Angular2 2.0.0-rc.6.\nThere was no error message.</p>\n\n<p>In the end I found the culprit to be a reference to es6-promise.js, which was 'required' by a third party component we use. Somehow this interfered with the core-js reference we are using which is suggested with rc6 in some of the Angular2 tutorials.</p>\n\n<p>As soon as I got rid of the es6-promise.js reference, the view updated correctly after changing a property on my component (via Promise or timeout).</p>\n\n<p>Hope this helps somebody some day.</p>\n"}, {"tags": [], "owner": {"reputation": 2624, "user_id": 3516963, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1b70ad11c185bf77711323511ff39f10?s=128&d=identicon&r=PG&f=1", "display_name": "artemisian", "link": "https://stackoverflow.com/users/3516963/artemisian"}, "is_accepted": false, "score": 3, "last_activity_date": 1485797966, "creation_date": 1485797966, "answer_id": 41942072, "question_id": 34491871, "link": "https://stackoverflow.com/questions/34491871/angular2-view-not-updating-after-variable-changes-in-settimeout/41942072#41942072", "title": "Angular2, view not updating after variable changes in settimeout", "body": "<p>In Angular2 (~2.1.2) another way to make it work is through the ChangeDetectorRef class. The original question code would look like this:</p>\n\n<pre class=\"lang-html prettyprint-override\"><code>import { \n  ChangeDetectorRef\n  // ... other imports here\n} from '@angular/core';\n\n @Component({\n    selector: \"my-app\",\n    bindings: []\n})\n\n@View({\n    templateUrl: \"templates/main.component.html\",\n    styleUrls: ['styles/out/components/main.component.css']\n})\n\nexport class MainComponent {\n\n    public test2 = \"initial text\";\n\n    constructor(private cd: ChangeDetectorRef) {\n        setTimeout(() =&gt; {\n            this.test2 = \"updated text\"; \n\n            // as stated by the angular team: the following is required, otherwise the view will not be updated\n            this.cd.markForCheck();\n\n        }, 500);\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 831, "user_id": 459773, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/045d7e8b0e2cf46f89ad6771c36d410f?s=128&d=identicon&r=PG", "display_name": "Jurgen Welschen", "link": "https://stackoverflow.com/users/459773/jurgen-welschen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 26000, "favorite_count": 0, "accepted_answer_id": 34492340, "answer_count": 4, "score": 25, "last_activity_date": 1485797966, "creation_date": 1451298839, "last_edit_date": 1451300398, "question_id": 34491871, "link": "https://stackoverflow.com/questions/34491871/angular2-view-not-updating-after-variable-changes-in-settimeout", "title": "Angular2, view not updating after variable changes in settimeout", "body": "<p>I am trying to setup my first angular2 application as an experiment and am using the latest beta release.</p>\n\n<p>I am facing a weird issue where the variable i am using in my view is not being updated after setting a timeout.</p>\n\n<pre class=\"lang-ts prettyprint-override\"><code>@Component({\n    selector: \"my-app\",\n    bindings: []\n})\n\n@View({\n    templateUrl: \"templates/main.component.html\",\n    styleUrls: ['styles/out/components/main.component.css']\n})\n\nexport class MainComponent {\n\n    public test2 = \"initial text\";\n\n    constructor() {\n        setTimeout(() =&gt; {\n            this.test2 = \"updated text\"; \n        }, 500);\n\n    }\n}\n</code></pre>\n\n<p>As you can see i have a variable named test2 and in the constructor i set a timeout of 500 ms where i am updating the value to \"updated text\".</p>\n\n<p>Then in my view main.component.html  i simply use:</p>\n\n<pre class=\"lang-html prettyprint-override\"><code>{{ test2 }}\n</code></pre>\n\n<p>But the value will never be set to \"updated text\" and stays on \"initial text\" forever even though the update part is being hit. If i follow the angular2 tutorial they dont really give me an answer to this solution. Was wondering if anyone would have an idea of what i am missing here.</p>\n\n<p>edit: my full code i am using including the bootstrap and html etc</p>\n\n\n\n<pre><code>&lt;html&gt;\n&lt;head&gt;\n    &lt;title&gt;Angular 2&lt;/title&gt;\n    &lt;script src=\"/node_modules/systemjs/dist/system.src.js\"&gt;&lt;/script&gt;\n    &lt;script src=\"/node_modules/reflect-metadata/reflect.js\"&gt;&lt;/script&gt;\n    &lt;script src=\"/node_modules/angular2/bundles/angular2.dev.js\"&gt;&lt;/script&gt;\n\n    &lt;script src=\"/node_modules/q/q.js\"&gt;&lt;/script&gt;\n    &lt;script src=\"/node_modules/jquery/dist/jquery.js\"&gt;&lt;/script&gt;\n    &lt;meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\"&gt;\n\n    &lt;script src=\"/bower_components/breeze-client/breeze.debug.js\"&gt;&lt;/script&gt;\n    &lt;script src=\"/bower_components/datajs/datajs.js\"&gt;&lt;/script&gt;\n    &lt;script src=\"/bower_components/bootstrap-less/js/collapse.js\"&gt;&lt;/script&gt;\n    &lt;script src=\"/bower_components/bootstrap-less/js/modal.js\"&gt;&lt;/script&gt;\n\n    &lt;script src=\"/bower_components/signalr/jquery.signalR.js\"&gt;&lt;/script&gt;\n    &lt;script src=\"http://localhost:64371/signalr/js\"&gt;&lt;/script&gt;\n\n    &lt;link href=\"styles/out/main.css\" type=\"text/css\" rel=\"stylesheet\"  /&gt;\n    &lt;script&gt;\n        System.config({\n            map: {\n                rxjs: '/node_modules/rxjs' // added this map section\n            },\n            packages: {'scripts/out': {defaultExtension: 'js'}, 'rxjs': {defaultExtension: 'js'}}\n        });\n\n        System.import('scripts/out/main');\n\n    &lt;/script&gt;\n&lt;/head&gt;\n&lt;body&gt;\n    &lt;my-app&gt;loading...&lt;/my-app&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p>main.ts with the bootstrap: </p>\n\n<pre class=\"lang-ts prettyprint-override\"><code>import {Component} from 'angular2/core';\nimport {bootstrap} from 'angular2/platform/browser'\nimport {COMMON_DIRECTIVES} from './constants';\nimport {MainComponent} from './components/main.component'\nbootstrap(MainComponent);\n</code></pre>\n\n<p>main-component.html\n</p>\n\n<pre><code>{{ test2 }}\n</code></pre>\n"}, {"tags": ["javascript", "angularjs", "node.js", "mongodb", "typescript"], "comments": [{"owner": {"reputation": 25995, "user_id": 5152732, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-eL0xfQom3xQ/AAAAAAAAAAI/AAAAAAAAB1E/j1B2Mcgvt6M/photo.jpg?sz=128", "display_name": "toskv", "link": "https://stackoverflow.com/users/5152732/toskv"}, "edited": false, "score": 0, "creation_date": 1451308192, "post_id": 34491627, "comment_id": 56729776, "body": "I think this is a question that&#39;s better suited for <a href=\"http://programmers.stackexchange.com/\">programmers.stackexchange.com</a>"}, {"owner": {"reputation": 25995, "user_id": 5152732, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-eL0xfQom3xQ/AAAAAAAAAAI/AAAAAAAAB1E/j1B2Mcgvt6M/photo.jpg?sz=128", "display_name": "toskv", "link": "https://stackoverflow.com/users/5152732/toskv"}, "edited": false, "score": 1, "creation_date": 1451308337, "post_id": 34491627, "comment_id": 56729842, "body": "Still, as an  short answer, I would make the model contain only d.ts files and have the other products either implement or import the interfaces in it."}, {"owner": {"reputation": 6198, "user_id": 839601, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d6db99aa846a8217f7e2aba6fa198e7c?s=128&d=identicon&r=PG", "display_name": "gnat", "link": "https://stackoverflow.com/users/839601/gnat"}, "reply_to_user": {"reputation": 25995, "user_id": 5152732, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-eL0xfQom3xQ/AAAAAAAAAAI/AAAAAAAAB1E/j1B2Mcgvt6M/photo.jpg?sz=128", "display_name": "toskv", "link": "https://stackoverflow.com/users/5152732/toskv"}, "edited": false, "score": 0, "creation_date": 1451309498, "post_id": 34491627, "comment_id": 56730378, "body": "@toskv when referring other sites, it is often helpful to point that <a href=\"http://meta.stackexchange.com/tags/cross-posting/info\">cross-posting is frowned upon</a>"}, {"owner": {"reputation": 25995, "user_id": 5152732, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-eL0xfQom3xQ/AAAAAAAAAAI/AAAAAAAAB1E/j1B2Mcgvt6M/photo.jpg?sz=128", "display_name": "toskv", "link": "https://stackoverflow.com/users/5152732/toskv"}, "reply_to_user": {"reputation": 6198, "user_id": 839601, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d6db99aa846a8217f7e2aba6fa198e7c?s=128&d=identicon&r=PG", "display_name": "gnat", "link": "https://stackoverflow.com/users/839601/gnat"}, "edited": false, "score": 0, "creation_date": 1451309779, "post_id": 34491627, "comment_id": 56730501, "body": "@gnat I am not able to flag it to be moved to another website. :("}, {"owner": {"reputation": 6198, "user_id": 839601, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d6db99aa846a8217f7e2aba6fa198e7c?s=128&d=identicon&r=PG", "display_name": "gnat", "link": "https://stackoverflow.com/users/839601/gnat"}, "reply_to_user": {"reputation": 25995, "user_id": 5152732, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-eL0xfQom3xQ/AAAAAAAAAAI/AAAAAAAAB1E/j1B2Mcgvt6M/photo.jpg?sz=128", "display_name": "toskv", "link": "https://stackoverflow.com/users/5152732/toskv"}, "edited": false, "score": 0, "creation_date": 1451314125, "post_id": 34491627, "comment_id": 56732600, "body": "@toskv this is <a href=\"http://meta.stackoverflow.com/a/300348/839601\">explained here</a>"}, {"owner": {"reputation": 2523, "user_id": 1170940, "user_type": "registered", "accept_rate": 43, "profile_image": "https://i.stack.imgur.com/n7mDL.jpg?s=128&g=1", "display_name": "pascalwhoop", "link": "https://stackoverflow.com/users/1170940/pascalwhoop"}, "edited": false, "score": 0, "creation_date": 1451390310, "post_id": 34491627, "comment_id": 56761960, "body": "will it solve my problem though if i only have interfaces in the model? I&#39;d still have the mongodb dependency and the whole long roundtrip rebuild npm update stuff.."}], "owner": {"reputation": 2523, "user_id": 1170940, "user_type": "registered", "accept_rate": 43, "profile_image": "https://i.stack.imgur.com/n7mDL.jpg?s=128&g=1", "display_name": "pascalwhoop", "link": "https://stackoverflow.com/users/1170940/pascalwhoop"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 95, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1451297957, "creation_date": 1451297957, "question_id": 34491627, "link": "https://stackoverflow.com/questions/34491627/manage-common-model-in-typescript-end-to-end-applications", "title": "Manage common Model in Typescript End-to-End Applications", "body": "<p>we're currently writing an application with Typescript. Frontend Angular 2, Backend NodeJS+MongoDb. </p>\n\n<p>Since many times, the frontend and backend use the same classes, we wanted to have a common model. Logically, a module with classes and interfaces would be implemented and both front- and backend depend on such module. </p>\n\n<p>Now if said module describes our data-model which is linked to MongoDB, it itself relies on MongoDB (e.g. for ObjectID). Now our frontend relies (indirectly) on MongoDB. Thats kind of odd though isnt it?</p>\n\n<p>There's also another problem:\nOur Backend uses require.js, the frontend (due to a2) uses system.js. Now if i have tsc -w running in my \"model\" project, and then add the dependency on this model in the package.json, the frontend gets the \"wrong\" js files, because the backend is compiled to require.js not system.js. </p>\n\n<p>So what is better?</p>\n\n<p>Having 2 separate Model declarations one for the frontend one for the backend, specific to its needs --> Duplication of Code</p>\n\n<p>Or somehow bend the toolchain and everything around it so you have one common code base but need to have some way of creating 2 compiled versions of the model, one for the frontend and one for the backend with the respective module systems etc?</p>\n"}, {"tags": ["debugging", "typescript", "grunt-contrib-concat", "grunt-ts", "transpiler"], "comments": [{"owner": {"reputation": 25995, "user_id": 5152732, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-eL0xfQom3xQ/AAAAAAAAAAI/AAAAAAAAB1E/j1B2Mcgvt6M/photo.jpg?sz=128", "display_name": "toskv", "link": "https://stackoverflow.com/users/5152732/toskv"}, "edited": false, "score": 0, "creation_date": 1451299692, "post_id": 34490743, "comment_id": 56725796, "body": "it is possible but you must let tsc concatenate the files. In the current version TypeScript that comes with some restrictions on how the code is written, in the @next version it works out of the box if you use amd or system packages. You can check the response to this question for more details <a href=\"http://stackoverflow.com/questions/34474651/typescript-compile-to-single-file\" title=\"typescript compile to single file\">stackoverflow.com/questions/34474651/&hellip;</a>"}, {"owner": {"reputation": 24880, "user_id": 99256, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/HfmF9.png?s=128&g=1", "display_name": "Martin Vseticka", "link": "https://stackoverflow.com/users/99256/martin-vseticka"}, "edited": false, "score": 2, "creation_date": 1451307658, "post_id": 34490743, "comment_id": 56729550, "body": "We use <code>gulp-typescript</code> plugin and for development purposes we reference all the <code>.js</code> files in <code>.html</code> page. Then I simply debug JS files through Google Chrome. It works for me very well."}, {"owner": {"reputation": 6268, "user_id": 1644422, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/01c7fb4b20926d4dcf7d1125f7adac9f?s=128&d=identicon&r=PG", "display_name": "Louay Alakkad", "link": "https://stackoverflow.com/users/1644422/louay-alakkad"}, "edited": false, "score": 1, "creation_date": 1451313142, "post_id": 34490743, "comment_id": 56732119, "body": "You&#39;ll need to use sourcemaps. Add the <code>outFile</code> and <code>sourceMaps</code> options in <code>tsconfig</code> and get rid of grunt-concat."}, {"owner": {"reputation": 5987, "user_id": 1827926, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/96047c49031b412c397e5b4891d61c78?s=128&d=identicon&r=PG", "display_name": "Nypan", "link": "https://stackoverflow.com/users/1827926/nypan"}, "edited": false, "score": 0, "creation_date": 1451406836, "post_id": 34490743, "comment_id": 56771046, "body": "Are you compiling with <code>mode</code> set to &quot;commonjs&quot;? In any case using something like <a href=\"https://www.npmjs.com/package/grunt-browserify\" rel=\"nofollow noreferrer\">grunt-browserify</a> might be a good solution."}, {"owner": {"reputation": 739, "user_id": 1355918, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/7b89e0a57e6cb2e5e05cdf42da52f141?s=128&d=identicon&r=PG", "display_name": "mrchad", "link": "https://stackoverflow.com/users/1355918/mrchad"}, "edited": false, "score": 0, "creation_date": 1455571840, "post_id": 34490743, "comment_id": 58539476, "body": "Jetbrains explained it in here:  <a href=\"https://www.jetbrains.com/webstorm/help/debugging-typescript.html\" rel=\"nofollow noreferrer\">jetbrains.com/webstorm/help/debugging-typescript.html</a>"}], "owner": {"reputation": 31, "user_id": 4959451, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/20067051d49f15c3bf7e7d9085d540a9?s=128&d=identicon&r=PG&f=1", "display_name": "DMike", "link": "https://stackoverflow.com/users/4959451/dmike"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 203, "favorite_count": 3, "answer_count": 0, "score": 3, "last_activity_date": 1452696292, "creation_date": 1451294333, "last_edit_date": 1452696292, "question_id": 34490743, "link": "https://stackoverflow.com/questions/34490743/typescript-debugging-with-concatenated-js-files", "title": "Typescript debugging with concatenated js files", "body": "<p>We use this setting in development:</p>\n\n<ul>\n<li>we develop our angular project in typescript using IntelliJ IDEA</li>\n<li>transpile our typescript code to javascript with grunt-ts</li>\n<li>concatenate all transpiled javascript files to one singe all.js file using grunt-contrib-concat</li>\n<li>all.js file is referenced in html</li>\n</ul>\n\n<p>The problem is that we run our app from concatenated all.js file so we can't debug it. \nAny ideas on how can we debug our source code in typescript? \nIs there any development-wise solution or advice to this?</p>\n"}, {"tags": ["javascript", "angular", "typescript", "ecmascript-6"], "comments": [{"owner": {"reputation": 699354, "user_id": 218196, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/4P5DY.jpg?s=128&g=1", "display_name": "Felix Kling", "link": "https://stackoverflow.com/users/218196/felix-kling"}, "edited": false, "score": 0, "creation_date": 1451303488, "post_id": 34489916, "comment_id": 56727622, "body": "Possible duplicate of <a href=\"http://stackoverflow.com/questions/29168433/es6-variable-import-name-in-node-js\">ES6 variable import name in node.js?</a>"}], "answers": [{"comments": [{"owner": {"reputation": 7349, "user_id": 186334, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/f2aeb2c524d426fb0eed06768b7119c0?s=128&d=identicon&r=PG", "display_name": "CallMeLaNN", "link": "https://stackoverflow.com/users/186334/callmelann"}, "edited": false, "score": 1, "creation_date": 1451298662, "post_id": 34489991, "comment_id": 56725259, "body": "It seems like I need to use module loader specifically in the component. Well, that&#39;s fine since <code>System</code> is the future of loader, I think."}, {"owner": {"reputation": 27869, "user_id": 1988693, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/XRVZv.jpg?s=128&g=1", "display_name": "drew moore", "link": "https://stackoverflow.com/users/1988693/drew-moore"}, "reply_to_user": {"reputation": 7349, "user_id": 186334, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/f2aeb2c524d426fb0eed06768b7119c0?s=128&d=identicon&r=PG", "display_name": "CallMeLaNN", "link": "https://stackoverflow.com/users/186334/callmelann"}, "edited": false, "score": 0, "creation_date": 1451356315, "post_id": 34489991, "comment_id": 56749204, "body": "@CallMeLaNN bingo :-)"}, {"owner": {"reputation": 7349, "user_id": 186334, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/f2aeb2c524d426fb0eed06768b7119c0?s=128&d=identicon&r=PG", "display_name": "CallMeLaNN", "link": "https://stackoverflow.com/users/186334/callmelann"}, "edited": false, "score": 6, "creation_date": 1451367247, "post_id": 34489991, "comment_id": 56751888, "body": "<code>TypeScript Plugin for Sublime Text</code> does not happy with <code>System</code> in the TypeScript code: <code>Cannot find name &#39;System&#39;</code> but no error during transpiling and running. Both <code>Angular2</code> and <code>System</code> script file already added into <code>index.html</code>. Anyway to <code>import</code> the <code>System</code> and make the plugin happy?"}, {"owner": {"reputation": 10679, "user_id": 1015648, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/7261d414a78ed3118aa86a5e0c8a93d1?s=128&d=identicon&r=PG", "display_name": "Murhaf Sousli", "link": "https://stackoverflow.com/users/1015648/murhaf-sousli"}, "edited": false, "score": 1, "creation_date": 1452306410, "post_id": 34489991, "comment_id": 57124679, "body": "but what if you are not using system.js!"}, {"owner": {"reputation": 3542, "user_id": 5381547, "user_type": "registered", "accept_rate": 99, "profile_image": "https://i.stack.imgur.com/jFcfu.png?s=128&g=1", "display_name": "Viktor", "link": "https://stackoverflow.com/users/5381547/viktor"}, "edited": false, "score": 0, "creation_date": 1460702987, "post_id": 34489991, "comment_id": 60874457, "body": "It will work, but your console will be overcrowded with errors."}, {"owner": {"reputation": 27869, "user_id": 1988693, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/XRVZv.jpg?s=128&g=1", "display_name": "drew moore", "link": "https://stackoverflow.com/users/1988693/drew-moore"}, "reply_to_user": {"reputation": 10679, "user_id": 1015648, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/7261d414a78ed3118aa86a5e0c8a93d1?s=128&d=identicon&r=PG", "display_name": "Murhaf Sousli", "link": "https://stackoverflow.com/users/1015648/murhaf-sousli"}, "edited": false, "score": 0, "creation_date": 1460709112, "post_id": 34489991, "comment_id": 60878090, "body": "@MurhafSousli if you&#39;re using webpack, see edit. if you have a better solution, please post it!"}, {"owner": {"reputation": 10679, "user_id": 1015648, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/7261d414a78ed3118aa86a5e0c8a93d1?s=128&d=identicon&r=PG", "display_name": "Murhaf Sousli", "link": "https://stackoverflow.com/users/1015648/murhaf-sousli"}, "edited": false, "score": 2, "creation_date": 1460709451, "post_id": 34489991, "comment_id": 60878280, "body": "@drewmoore I don&#39;t remember why I said so, <code>require()</code>/<code>import</code> should work fine as your answer now, +1"}, {"owner": {"reputation": 33463, "user_id": 811785, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/mftvN.jpg?s=128&g=1", "display_name": "Saeed Neamati", "link": "https://stackoverflow.com/users/811785/saeed-neamati"}, "edited": false, "score": 0, "creation_date": 1493140241, "post_id": 34489991, "comment_id": 74282903, "body": "and if you don&#39;t use any of those? What&#39;s the old school&#39;s way?"}, {"owner": {"reputation": 2647, "user_id": 1250917, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/RPzCA.jpg?s=128&g=1", "display_name": "WillyC", "link": "https://stackoverflow.com/users/1250917/willyc"}, "edited": false, "score": 15, "creation_date": 1493760389, "post_id": 34489991, "comment_id": 74538105, "body": "From what I can tell these options don&#39;t work for scripts on the internet, just for local files.  This doesn&#39;t seem to answer the original question as asked."}, {"owner": {"reputation": 96, "user_id": 6035392, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-B7abukuhRCI/AAAAAAAAAAI/AAAAAAAAGCc/m89G7eoO40U/photo.jpg?sz=128", "display_name": "Thisisalexis", "link": "https://stackoverflow.com/users/6035392/thisisalexis"}, "edited": false, "score": 0, "creation_date": 1522691735, "post_id": 34489991, "comment_id": 86239178, "body": "Hello. Should I import something in my component to be able to use System.import or require.ensure? I&#39;ve tried to use them and both rise errors because my component doesn&#39;t recognize System nor require.ensure. Thanks in advance!"}, {"owner": {"reputation": 1848, "user_id": 6696239, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/uz6Oe.jpg?s=128&g=1", "display_name": "mchl18", "link": "https://stackoverflow.com/users/6696239/mchl18"}, "reply_to_user": {"reputation": 96, "user_id": 6035392, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-B7abukuhRCI/AAAAAAAAAAI/AAAAAAAAGCc/m89G7eoO40U/photo.jpg?sz=128", "display_name": "Thisisalexis", "link": "https://stackoverflow.com/users/6035392/thisisalexis"}, "edited": false, "score": 0, "creation_date": 1608221201, "post_id": 34489991, "comment_id": 115522512, "body": "@Thisisalexis Yes, not sure how this answer got accepted. see the answer below with renderer2"}], "tags": [], "owner": {"reputation": 27869, "user_id": 1988693, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/XRVZv.jpg?s=128&g=1", "display_name": "drew moore", "link": "https://stackoverflow.com/users/1988693/drew-moore"}, "is_accepted": true, "score": 68, "last_activity_date": 1527773103, "last_edit_date": 1527773103, "creation_date": 1451290839, "answer_id": 34489991, "question_id": 34489916, "link": "https://stackoverflow.com/questions/34489916/how-to-load-external-scripts-dynamically-in-angular/34489991#34489991", "title": "How to load external scripts dynamically in Angular?", "body": "<p>If you're using system.js, you can use <code>System.import()</code> at runtime: </p>\n\n<pre><code>export class MyAppComponent {\n  constructor(){\n    System.import('path/to/your/module').then(refToLoadedModule =&gt; {\n      refToLoadedModule.someFunction();\n    }\n  );\n}\n</code></pre>\n\n<p>If you're using webpack, you can take full advantage of its robust code splitting support with <a href=\"https://webpack.js.org/guides/code-splitting/\" rel=\"noreferrer\"><code>require.ensure</code></a> : </p>\n\n<pre><code>export class MyAppComponent {\n  constructor() {\n     require.ensure(['path/to/your/module'], require =&gt; {\n        let yourModule = require('path/to/your/module');\n        yourModule.someFunction();\n     }); \n  }\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 573, "user_id": 4502711, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fcb0521c80ebc5565e37305ab1fe0e20?s=128&d=identicon&r=PG&f=1", "display_name": "Niraj", "link": "https://stackoverflow.com/users/4502711/niraj"}, "edited": false, "score": 1, "creation_date": 1474287092, "post_id": 38473334, "comment_id": 66455304, "body": "Thanx man Worked for me. You can now load it on page load also using ngonit method. So button click is not required."}, {"owner": {"reputation": 123, "user_id": 1260987, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/c0fb6ddc0a072b5814bbfa5be728977b?s=128&d=identicon&r=PG", "display_name": "Mitesh Shah", "link": "https://stackoverflow.com/users/1260987/mitesh-shah"}, "edited": false, "score": 0, "creation_date": 1477124053, "post_id": 38473334, "comment_id": 67646335, "body": "I am using the same way.. but not worked for me . can u please help me out for the same ??  this.loadJs(&quot;javascriptfile path&quot;);  public loadjs(file) { let node = document.createElement(&#39;script&#39;);         node.src = file;         node.type = &#39;text/javascript&#39;;         node.async = true;         node.charset = &#39;utf-8&#39;;         document.getElementsByTagName(&#39;head&#39;)[0].appendChild(node); }"}, {"owner": {"reputation": 901, "user_id": 3587944, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/BnjvG.jpg?s=128&g=1", "display_name": "ng-darren", "link": "https://stackoverflow.com/users/3587944/ng-darren"}, "edited": false, "score": 0, "creation_date": 1477356504, "post_id": 38473334, "comment_id": 67722417, "body": "Are you trying to do it on click or on page load? Could you tell us more about the result or error?"}, {"owner": {"reputation": 6589, "user_id": 3145373, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/BHaEf.jpg?s=128&g=1", "display_name": "user3145373 \u30c4", "link": "https://stackoverflow.com/users/3145373/user3145373-%e3%83%84"}, "edited": false, "score": 0, "creation_date": 1481779401, "post_id": 38473334, "comment_id": 69515365, "body": "hello, I have tried to implement this and working fine but <code>new Promise</code> is not resolved. Can you tell me for <code>Promise</code> shall I have to import anything ?"}, {"owner": {"reputation": 901, "user_id": 3587944, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/BnjvG.jpg?s=128&g=1", "display_name": "ng-darren", "link": "https://stackoverflow.com/users/3587944/ng-darren"}, "edited": false, "score": 0, "creation_date": 1481872074, "post_id": 38473334, "comment_id": 69558020, "body": "Hi, I didn&#39;t import anything special when I use Promise."}, {"owner": {"reputation": 348, "user_id": 4931209, "user_type": "registered", "accept_rate": 40, "profile_image": "https://lh5.googleusercontent.com/-Mlb_NltSc1U/AAAAAAAAAAI/AAAAAAAACm4/2I63Bi1gdDU/photo.jpg?sz=128", "display_name": "Akash Jain", "link": "https://stackoverflow.com/users/4931209/akash-jain"}, "edited": false, "score": 0, "creation_date": 1511259204, "post_id": 38473334, "comment_id": 81774187, "body": "Hello @ng-darren, It worked well but do you have any idea how I can use PRODUCTION variable used in project&#39;s environment constant. Environment variable is exported as export const Environment = { PRODUCTION: false } Also, I am using this dynamically imported javascript only on some route&#39;s of project."}, {"owner": {"reputation": 663, "user_id": 2558803, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/B9yvR.jpg?s=128&g=1", "display_name": "Ankur Shah", "link": "https://stackoverflow.com/users/2558803/ankur-shah"}, "edited": false, "score": 0, "creation_date": 1511431256, "post_id": 38473334, "comment_id": 81859942, "body": "I used this technique, it worked at first, but when I need to load multiple js libs, in order, then its showing some problem. It shows all libs in the same order in browser console but the files that comes later in the order doesn&#39;t get the reference of its previous files. I used <code>window.setTimeout( ... , 50)</code> for my made scripts but for js libs its difficult !!!"}, {"owner": {"reputation": 741, "user_id": 9874339, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qAlzP.jpg?s=128&g=1", "display_name": "Techdive", "link": "https://stackoverflow.com/users/9874339/techdive"}, "edited": false, "score": 0, "creation_date": 1543306146, "post_id": 38473334, "comment_id": 93859843, "body": "I get this error -&gt; GET <a href=\"http://iknow.com/this/does/not/work/either/file.js\" rel=\"nofollow noreferrer\">iknow.com/this/does/not/work/either/file.js</a> 403 (Forbidden)"}, {"owner": {"reputation": 5134, "user_id": 3492996, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/853f44b0d51a51fc3b07a9cc476a30a2?s=128&d=identicon&r=PG&f=1", "display_name": "mrapi", "link": "https://stackoverflow.com/users/3492996/mrapi"}, "edited": false, "score": 0, "creation_date": 1558172859, "post_id": 38473334, "comment_id": 99019069, "body": "that works for me but seems that scripts are loaded always async even set async=false.that cause some loading problems"}], "tags": [], "owner": {"reputation": 901, "user_id": 3587944, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/BnjvG.jpg?s=128&g=1", "display_name": "ng-darren", "link": "https://stackoverflow.com/users/3587944/ng-darren"}, "is_accepted": false, "score": 54, "last_activity_date": 1493606223, "last_edit_date": 1493606223, "creation_date": 1468994238, "answer_id": 38473334, "question_id": 34489916, "link": "https://stackoverflow.com/questions/34489916/how-to-load-external-scripts-dynamically-in-angular/38473334#38473334", "title": "How to load external scripts dynamically in Angular?", "body": "<p>This might work. This Code dynamically appends the <code>&lt;script&gt;</code> tag to the <code>head</code> of the html file on button clicked.</p>\n\n<pre><code>const url = 'http://iknow.com/this/does/not/work/either/file.js';\n\nexport class MyAppComponent {\n    loadAPI: Promise&lt;any&gt;;\n\n    public buttonClicked() {\n        this.loadAPI = new Promise((resolve) =&gt; {\n            console.log('resolving promise...');\n            this.loadScript();\n        });\n    }\n\n    public loadScript() {\n        console.log('preparing to load...')\n        let node = document.createElement('script');\n        node.src = url;\n        node.type = 'text/javascript';\n        node.async = true;\n        node.charset = 'utf-8';\n        document.getElementsByTagName('head')[0].appendChild(node);\n    }\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1923, "user_id": 1336678, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/6267999b774a82952cd62fb1c9b859fc?s=128&d=identicon&r=PG&f=1", "display_name": "Our_Benefactors", "link": "https://stackoverflow.com/users/1336678/our-benefactors"}, "edited": false, "score": 8, "creation_date": 1496349719, "post_id": 42766146, "comment_id": 75639265, "body": "This works brilliantly. Shaves over 1MB off initial load size - I have a lot of libraries!"}, {"owner": {"reputation": 1923, "user_id": 1336678, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/6267999b774a82952cd62fb1c9b859fc?s=128&d=identicon&r=PG&f=1", "display_name": "Our_Benefactors", "link": "https://stackoverflow.com/users/1336678/our-benefactors"}, "edited": false, "score": 3, "creation_date": 1497032649, "post_id": 42766146, "comment_id": 75925657, "body": "Looks like I spoke too soon. This solution does NOT work in iOS Safari."}, {"owner": {"reputation": 4450, "user_id": 2254878, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Ofs9L.jpg?s=128&g=1", "display_name": "Rahul Kumar", "link": "https://stackoverflow.com/users/2254878/rahul-kumar"}, "reply_to_user": {"reputation": 1923, "user_id": 1336678, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/6267999b774a82952cd62fb1c9b859fc?s=128&d=identicon&r=PG&f=1", "display_name": "Our_Benefactors", "link": "https://stackoverflow.com/users/1336678/our-benefactors"}, "edited": false, "score": 0, "creation_date": 1497071161, "post_id": 42766146, "comment_id": 75935477, "body": "after loading the script check whether it&#39;s appending to head of your dom"}, {"owner": {"reputation": 92, "user_id": 2334001, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/1vHJN.jpg?s=128&g=1", "display_name": "Towelie", "link": "https://stackoverflow.com/users/2334001/towelie"}, "edited": false, "score": 0, "creation_date": 1529115855, "post_id": 42766146, "comment_id": 88770896, "body": "Perhaps I&#39;m not injecting correctly, but I&#39;m getting <code>this.script.load is not a function</code>"}, {"owner": {"reputation": 616, "user_id": 3275971, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/6ba81bee4b98a6e02d0f5699a03a464a?s=128&d=identicon&r=PG", "display_name": "Joel Azevedo", "link": "https://stackoverflow.com/users/3275971/joel-azevedo"}, "edited": false, "score": 0, "creation_date": 1534841591, "post_id": 42766146, "comment_id": 90839415, "body": "Thanks. This works, but I am getting my script (a background animation) loaded in every other component. I want it to be loaded only on my first component (it is a login page). What can I do to achieve that? Thanks"}, {"owner": {"reputation": 467, "user_id": 643416, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/0lDGD.jpg?s=128&g=1", "display_name": "Cesar", "link": "https://stackoverflow.com/users/643416/cesar"}, "edited": false, "score": 0, "creation_date": 1537303716, "post_id": 42766146, "comment_id": 91733889, "body": "I&#39;m trying load dependent scripts for FlowPlayer with this method (flowplayer, flowplayer.hlsjs, flowplayer.hlsjs.light) but seems I&#39;m having console errors about the first one, from second and third (<code>flowplayer is not defined</code>). Any ideas about that? Thanks!"}, {"owner": {"reputation": 4450, "user_id": 2254878, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Ofs9L.jpg?s=128&g=1", "display_name": "Rahul Kumar", "link": "https://stackoverflow.com/users/2254878/rahul-kumar"}, "edited": false, "score": 0, "creation_date": 1537331779, "post_id": 42766146, "comment_id": 91740431, "body": "Check if it getting appended to the head?"}, {"owner": {"reputation": 195, "user_id": 356760, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/04b75448e93317fb627b4f9a53d5be3c?s=128&d=identicon&r=PG", "display_name": "SaamTehraani", "link": "https://stackoverflow.com/users/356760/saamtehraani"}, "edited": false, "score": 0, "creation_date": 1539227087, "post_id": 42766146, "comment_id": 92427207, "body": "It doesn&#39;t add in order."}, {"owner": {"reputation": 4450, "user_id": 2254878, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Ofs9L.jpg?s=128&g=1", "display_name": "Rahul Kumar", "link": "https://stackoverflow.com/users/2254878/rahul-kumar"}, "edited": false, "score": 0, "creation_date": 1539237639, "post_id": 42766146, "comment_id": 92429944, "body": "It doesn&#39;t scripts add in order because the code is using Promise.all(promises) for loading the scripts, you can modify this section of the code to resolve all promises sequentially"}, {"owner": {"reputation": 4450, "user_id": 2254878, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Ofs9L.jpg?s=128&g=1", "display_name": "Rahul Kumar", "link": "https://stackoverflow.com/users/2254878/rahul-kumar"}, "edited": false, "score": 0, "creation_date": 1547563940, "post_id": 42766146, "comment_id": 95229384, "body": "Are you injecting script service properly"}, {"owner": {"reputation": 92, "user_id": 2334001, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/1vHJN.jpg?s=128&g=1", "display_name": "Towelie", "link": "https://stackoverflow.com/users/2334001/towelie"}, "reply_to_user": {"reputation": 123, "user_id": 6653204, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/K5V5p.jpg?s=128&g=1", "display_name": "Kunoichi", "link": "https://stackoverflow.com/users/6653204/kunoichi"}, "edited": false, "score": 0, "creation_date": 1547592673, "post_id": 42766146, "comment_id": 95242656, "body": "@mirypoko I believe that I went with a simpler solution <a href=\"https://stackoverflow.com/questions/34489916/how-to-load-external-scripts-dynamically-in-angular/42766146?noredirect=1#answer-49981918\">here</a> Hope this helps"}, {"owner": {"reputation": 2184, "user_id": 3084228, "user_type": "registered", "accept_rate": 49, "profile_image": "https://graph.facebook.com/100000917375511/picture?type=large", "display_name": "Junaid", "link": "https://stackoverflow.com/users/3084228/junaid"}, "edited": false, "score": 0, "creation_date": 1551256980, "post_id": 42766146, "comment_id": 96569813, "body": "@RahulKumar, I have added one <code>Script</code> in <code>ScriptStore</code>. I have implemented as you said. But when I call <code>this.scriptService.load(&#39;scriptName&#39;);</code> then it gets called twice before <code>script.onload()</code> called for first call. I have checked that in <code>private scripts: any = {};</code> variable of <code>ScriptService</code>, I have only one <code>Script</code> entry."}, {"owner": {"reputation": 121, "user_id": 3045259, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2c408aaf789372c4e4dae2d74e1ca6de?s=128&d=identicon&r=PG&f=1", "display_name": "HouseFragance", "link": "https://stackoverflow.com/users/3045259/housefragance"}, "edited": false, "score": 0, "creation_date": 1558951697, "post_id": 42766146, "comment_id": 99255568, "body": "What appenned if you change route and component? do scripts remain in head tag? if the answer is YES, it would not be really correct.  is there a way to remove scripts from the head if i am not in the specific component?"}, {"owner": {"reputation": 121, "user_id": 3045259, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2c408aaf789372c4e4dae2d74e1ca6de?s=128&d=identicon&r=PG&f=1", "display_name": "HouseFragance", "link": "https://stackoverflow.com/users/3045259/housefragance"}, "edited": false, "score": 0, "creation_date": 1559030294, "post_id": 42766146, "comment_id": 99280744, "body": "hi Rahul, thanks for the reply. In your opinion, how should I remove that script from the &lt;head&gt; tag? Where i have to do this check? I wouldn&#39;t know how to do it"}, {"owner": {"reputation": 4450, "user_id": 2254878, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Ofs9L.jpg?s=128&g=1", "display_name": "Rahul Kumar", "link": "https://stackoverflow.com/users/2254878/rahul-kumar"}, "edited": false, "score": 0, "creation_date": 1559108767, "post_id": 42766146, "comment_id": 99311827, "body": "You can remove the script from &lt;head&gt; of the document on ngOnDestroy() event of the component."}, {"owner": {"reputation": 5907, "user_id": 159527, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/7daffacbe703f4a150b681ee9f7d4760?s=128&d=identicon&r=PG", "display_name": "pdiddy", "link": "https://stackoverflow.com/users/159527/pdiddy"}, "edited": false, "score": 1, "creation_date": 1569242843, "post_id": 42766146, "comment_id": 102521924, "body": "How do you call function that are in the js file? are they attached to the global window?"}, {"owner": {"reputation": 115, "user_id": 8441040, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/USLkq.jpg?s=128&g=1", "display_name": "Willie", "link": "https://stackoverflow.com/users/8441040/willie"}, "edited": false, "score": 1, "creation_date": 1596048325, "post_id": 42766146, "comment_id": 111688294, "body": "I modified your load function for sequential loading. Here is what I did. <code>load(...scripts: string[]) {let promise = Promise.resolve(); scripts.forEach(script =&gt; { promise = promise.then(() =&gt; this.loadScript(script)).then(res =&gt; console.log(res));});}</code> Thank you for your answer."}, {"owner": {"reputation": 587, "user_id": 9031516, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/db12ba1c87cc28a7f13367f7a7b1d570?s=128&d=identicon&r=PG&f=1", "display_name": "james ace", "link": "https://stackoverflow.com/users/9031516/james-ace"}, "edited": false, "score": 0, "creation_date": 1608305164, "post_id": 42766146, "comment_id": 115550528, "body": "The question now is how do you call the functions loaded in the JS file?"}], "tags": [], "owner": {"reputation": 4450, "user_id": 2254878, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Ofs9L.jpg?s=128&g=1", "display_name": "Rahul Kumar", "link": "https://stackoverflow.com/users/2254878/rahul-kumar"}, "is_accepted": false, "score": 167, "last_activity_date": 1516809322, "last_edit_date": 1516809322, "creation_date": 1489415410, "answer_id": 42766146, "question_id": 34489916, "link": "https://stackoverflow.com/questions/34489916/how-to-load-external-scripts-dynamically-in-angular/42766146#42766146", "title": "How to load external scripts dynamically in Angular?", "body": "<p>You can use following technique to \ndynamically load JS scripts and libraries on demand in your Angular project.</p>\n\n<p><strong>script.store.ts</strong> will contain the <strong>path</strong> of the script either locally or on a remote server and a <strong>name</strong> that will be used to load the script dynamically</p>\n\n<pre><code> interface Scripts {\n    name: string;\n    src: string;\n}  \nexport const ScriptStore: Scripts[] = [\n    {name: 'filepicker', src: 'https://api.filestackapi.com/filestack.js'},\n    {name: 'rangeSlider', src: '../../../assets/js/ion.rangeSlider.min.js'}\n];\n</code></pre>\n\n<p><strong>script.service.ts</strong> is an injectable service that will handle the loading of script, copy <code>script.service.ts</code> as it is</p>\n\n<pre><code>import {Injectable} from \"@angular/core\";\nimport {ScriptStore} from \"./script.store\";\n\ndeclare var document: any;\n\n@Injectable()\nexport class ScriptService {\n\nprivate scripts: any = {};\n\nconstructor() {\n    ScriptStore.forEach((script: any) =&gt; {\n        this.scripts[script.name] = {\n            loaded: false,\n            src: script.src\n        };\n    });\n}\n\nload(...scripts: string[]) {\n    var promises: any[] = [];\n    scripts.forEach((script) =&gt; promises.push(this.loadScript(script)));\n    return Promise.all(promises);\n}\n\nloadScript(name: string) {\n    return new Promise((resolve, reject) =&gt; {\n        //resolve if already loaded\n        if (this.scripts[name].loaded) {\n            resolve({script: name, loaded: true, status: 'Already Loaded'});\n        }\n        else {\n            //load script\n            let script = document.createElement('script');\n            script.type = 'text/javascript';\n            script.src = this.scripts[name].src;\n            if (script.readyState) {  //IE\n                script.onreadystatechange = () =&gt; {\n                    if (script.readyState === \"loaded\" || script.readyState === \"complete\") {\n                        script.onreadystatechange = null;\n                        this.scripts[name].loaded = true;\n                        resolve({script: name, loaded: true, status: 'Loaded'});\n                    }\n                };\n            } else {  //Others\n                script.onload = () =&gt; {\n                    this.scripts[name].loaded = true;\n                    resolve({script: name, loaded: true, status: 'Loaded'});\n                };\n            }\n            script.onerror = (error: any) =&gt; resolve({script: name, loaded: false, status: 'Loaded'});\n            document.getElementsByTagName('head')[0].appendChild(script);\n        }\n    });\n}\n\n}\n</code></pre>\n\n<p>Inject this <code>ScriptService</code> wherever you need it and load js libs like this </p>\n\n<pre><code>this.script.load('filepicker', 'rangeSlider').then(data =&gt; {\n    console.log('script loaded ', data);\n}).catch(error =&gt; console.log(error));\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1661, "user_id": 910074, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/A8IRU.jpg?s=128&g=1", "display_name": "Will Huang", "link": "https://stackoverflow.com/users/910074/will-huang"}, "edited": false, "score": 1, "creation_date": 1496507699, "post_id": 44016611, "comment_id": 75695097, "body": "You forget set the <code>async</code> to <code>true</code>."}, {"owner": {"reputation": 231, "user_id": 4984738, "user_type": "registered", "accept_rate": 35, "profile_image": "https://www.gravatar.com/avatar/d1afd0c1ea8dbc38a7c0cfb627a4e843?s=128&d=identicon&r=PG&f=1", "display_name": "d123546", "link": "https://stackoverflow.com/users/4984738/d123546"}, "edited": false, "score": 0, "creation_date": 1497606035, "post_id": 44016611, "comment_id": 76159586, "body": "I have a question, when we append the script and navigate between routes, lets say I loaded script on home and browse to about and returned back to home, is there a way to reinit the current script ? Means I&#39;d like to remove previously loaded one and load it again? Thank you very much"}, {"owner": {"reputation": 7104, "user_id": 492067, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/0b4d9527019c3b7bd10af23753d32449?s=128&d=identicon&r=PG", "display_name": "Joel", "link": "https://stackoverflow.com/users/492067/joel"}, "reply_to_user": {"reputation": 231, "user_id": 4984738, "user_type": "registered", "accept_rate": 35, "profile_image": "https://www.gravatar.com/avatar/d1afd0c1ea8dbc38a7c0cfb627a4e843?s=128&d=identicon&r=PG&f=1", "display_name": "d123546", "link": "https://stackoverflow.com/users/4984738/d123546"}, "edited": false, "score": 0, "creation_date": 1497606173, "post_id": 44016611, "comment_id": 76159718, "body": "@d123546 Yes, if you&#39;d want that it is possible. But you&#39;d have to write some logic that removes the script tag. Have a look here: <a href=\"https://stackoverflow.com/questions/14708189/remove-specific-script-tag-in-head-tag-by-onclick-event\" title=\"remove specific script tag in head tag by onclick event\">stackoverflow.com/questions/14708189/&hellip;</a>"}, {"owner": {"reputation": 231, "user_id": 4984738, "user_type": "registered", "accept_rate": 35, "profile_image": "https://www.gravatar.com/avatar/d1afd0c1ea8dbc38a7c0cfb627a4e843?s=128&d=identicon&r=PG&f=1", "display_name": "d123546", "link": "https://stackoverflow.com/users/4984738/d123546"}, "edited": false, "score": 0, "creation_date": 1497608302, "post_id": 44016611, "comment_id": 76161223, "body": "Thanks Joel, but is there a way to somehow remove the functions initialized by the script ? Currently Im facing a problem in my angular4 project, because Im loading script which initialize jquery slider, so when the first route loads it displayed properly, but then when I navigate to other route and return back to my route, script is loaded twice and slider is not loading anymore :( Could you advice me on this please"}, {"owner": {"reputation": 7104, "user_id": 492067, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/0b4d9527019c3b7bd10af23753d32449?s=128&d=identicon&r=PG", "display_name": "Joel", "link": "https://stackoverflow.com/users/492067/joel"}, "reply_to_user": {"reputation": 231, "user_id": 4984738, "user_type": "registered", "accept_rate": 35, "profile_image": "https://www.gravatar.com/avatar/d1afd0c1ea8dbc38a7c0cfb627a4e843?s=128&d=identicon&r=PG&f=1", "display_name": "d123546", "link": "https://stackoverflow.com/users/4984738/d123546"}, "edited": false, "score": 0, "creation_date": 1497614164, "post_id": 44016611, "comment_id": 76164883, "body": "@d123546 can&#39;t really help you, sorry. The code here should not load the same script twice. That is the purpose of saving the loaded scripts in the <code>scripts</code> array"}, {"owner": {"reputation": 231, "user_id": 4984738, "user_type": "registered", "accept_rate": 35, "profile_image": "https://www.gravatar.com/avatar/d1afd0c1ea8dbc38a7c0cfb627a4e843?s=128&d=identicon&r=PG&f=1", "display_name": "d123546", "link": "https://stackoverflow.com/users/4984738/d123546"}, "edited": false, "score": 0, "creation_date": 1497617560, "post_id": 44016611, "comment_id": 76167081, "body": "The thing is if I load it and navigate it stops working , I need to initialize my scripts written in jQuery again"}, {"owner": {"reputation": 6197, "user_id": 32055, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/pGaRU.png?s=128&g=1", "display_name": "Chris Haines", "link": "https://stackoverflow.com/users/32055/chris-haines"}, "edited": false, "score": 2, "creation_date": 1548691888, "post_id": 44016611, "comment_id": 95622623, "body": "There is an error in the line <code>private scripts: {ScriptModel}[] = [];</code>. It should be <code>private scripts: ScriptModel[] = [];</code>"}, {"owner": {"reputation": 159, "user_id": 3665669, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TgLiJ.jpg?s=128&g=1", "display_name": "Jiyan Akg&#252;l", "link": "https://stackoverflow.com/users/3665669/jiyan-akg%c3%bcl"}, "reply_to_user": {"reputation": 231, "user_id": 4984738, "user_type": "registered", "accept_rate": 35, "profile_image": "https://www.gravatar.com/avatar/d1afd0c1ea8dbc38a7c0cfb627a4e843?s=128&d=identicon&r=PG&f=1", "display_name": "d123546", "link": "https://stackoverflow.com/users/4984738/d123546"}, "edited": false, "score": 1, "creation_date": 1609841936, "post_id": 44016611, "comment_id": 115941685, "body": "@d123546 you should initialize the service only once. Use <code>@Injectable({providedIn: &#39;root&#39;})</code> and add the service  <b>only</b> into the <code>providers:[]</code> array of <i>app.module.ts</i>"}], "tags": [], "owner": {"reputation": 7104, "user_id": 492067, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/0b4d9527019c3b7bd10af23753d32449?s=128&d=identicon&r=PG", "display_name": "Joel", "link": "https://stackoverflow.com/users/492067/joel"}, "is_accepted": false, "score": 28, "last_activity_date": 1550046437, "last_edit_date": 1550046437, "creation_date": 1495000314, "answer_id": 44016611, "question_id": 34489916, "link": "https://stackoverflow.com/questions/34489916/how-to-load-external-scripts-dynamically-in-angular/44016611#44016611", "title": "How to load external scripts dynamically in Angular?", "body": "<p>I have modified @rahul kumars answer, so that it uses Observables instead:</p>\n\n\n\n<pre class=\"lang-js prettyprint-override\"><code>import { Injectable } from \"@angular/core\";\nimport { Observable } from \"rxjs/Observable\";\nimport { Observer } from \"rxjs/Observer\";\n\n@Injectable()\nexport class ScriptLoaderService {\n    private scripts: ScriptModel[] = [];\n\n    public load(script: ScriptModel): Observable&lt;ScriptModel&gt; {\n        return new Observable&lt;ScriptModel&gt;((observer: Observer&lt;ScriptModel&gt;) =&gt; {\n            var existingScript = this.scripts.find(s =&gt; s.name == script.name);\n\n            // Complete if already loaded\n            if (existingScript &amp;&amp; existingScript.loaded) {\n                observer.next(existingScript);\n                observer.complete();\n            }\n            else {\n                // Add the script\n                this.scripts = [...this.scripts, script];\n\n                // Load the script\n                let scriptElement = document.createElement(\"script\");\n                scriptElement.type = \"text/javascript\";\n                scriptElement.src = script.src;\n\n                scriptElement.onload = () =&gt; {\n                    script.loaded = true;\n                    observer.next(script);\n                    observer.complete();\n                };\n\n                scriptElement.onerror = (error: any) =&gt; {\n                    observer.error(\"Couldn't load script \" + script.src);\n                };\n\n                document.getElementsByTagName('body')[0].appendChild(scriptElement);\n            }\n        });\n    }\n}\n\nexport interface ScriptModel {\n    name: string,\n    src: string,\n    loaded: boolean\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 19, "user_id": 2324295, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9c5e79678fd3cc8138ef6589a9b00646?s=128&d=identicon&r=PG", "display_name": "Waseem", "link": "https://stackoverflow.com/users/2324295/waseem"}, "is_accepted": false, "score": 1, "last_activity_date": 1508104183, "creation_date": 1508104183, "answer_id": 46760348, "question_id": 34489916, "link": "https://stackoverflow.com/questions/34489916/how-to-load-external-scripts-dynamically-in-angular/46760348#46760348", "title": "How to load external scripts dynamically in Angular?", "body": "<p>@d123546\nI faced the same issue and got it working now using ngAfterContentInit (Lifecycle Hook) in the component like this :</p>\n\n<pre><code>import { Component, OnInit, AfterContentInit } from '@angular/core';\nimport { Router } from '@angular/router';\nimport { ScriptService } from '../../script.service';\n\n@Component({\n    selector: 'app-players-list',\n    templateUrl: './players-list.component.html',\n    styleUrls: ['./players-list.component.css'],\n    providers: [ ScriptService ]\n})\nexport class PlayersListComponent implements OnInit, AfterContentInit {\n\nconstructor(private router: Router, private script: ScriptService) {\n}\n\nngOnInit() {\n}\n\nngAfterContentInit() {\n    this.script.load('filepicker', 'rangeSlider').then(data =&gt; {\n    console.log('script loaded ', data);\n    }).catch(error =&gt; console.log(error));\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 175, "user_id": 8577819, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9e5a0dd6d0997131c9200376dac5b8bd?s=128&d=identicon&r=PG&f=1", "display_name": "natrayan", "link": "https://stackoverflow.com/users/8577819/natrayan"}, "edited": false, "score": 0, "creation_date": 1566005030, "post_id": 47236978, "comment_id": 101530954, "body": "if i import multiple scripts foo,foo1,foo2 and i know only during the time of execution how to do the declaration dynamically?"}], "tags": [], "owner": {"reputation": 245, "user_id": 5193930, "user_type": "registered", "accept_rate": 67, "profile_image": "https://lh3.googleusercontent.com/-iMVktmmQeB8/AAAAAAAAAAI/AAAAAAAAAgU/KXCkvhko21k/photo.jpg?sz=128", "display_name": "Z3nk", "link": "https://stackoverflow.com/users/5193930/z3nk"}, "is_accepted": false, "score": 2, "last_activity_date": 1510396681, "creation_date": 1510396681, "answer_id": 47236978, "question_id": 34489916, "link": "https://stackoverflow.com/questions/34489916/how-to-load-external-scripts-dynamically-in-angular/47236978#47236978", "title": "How to load external scripts dynamically in Angular?", "body": "<p>@rahul-kumar 's solution works good for me, but i wanted to call my javascript function in my typescript</p>\n\n<pre><code>foo.myFunctions() // works in browser console, but foo can't be used in typescript file\n</code></pre>\n\n<p>I fixed it by declaring it in my typescript :</p>\n\n<pre><code>import { Component } from '@angular/core';\nimport { ScriptService } from './script.service';\ndeclare var foo;\n</code></pre>\n\n<p>And now, i can call <strong>foo</strong> anywhere in my typecript file</p>\n"}, {"comments": [{"owner": {"reputation": 2768, "user_id": 86023, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/805e6a9a24e8d7c8cd51761e92d5225e?s=128&d=identicon&r=PG", "display_name": "Karan", "link": "https://stackoverflow.com/users/86023/karan"}, "edited": false, "score": 0, "creation_date": 1529389789, "post_id": 49439341, "comment_id": 88843077, "body": "I want to load the CSS file from an external web source. Currently, i am facing the error saying &quot;Not allowed to load local resource&quot;.. Please suggest."}, {"owner": {"reputation": 1019, "user_id": 939116, "user_type": "registered", "accept_rate": 39, "profile_image": "https://www.gravatar.com/avatar/f94957291db07244b3918b7948bd1ef3?s=128&d=identicon&r=PG", "display_name": "Kr1", "link": "https://stackoverflow.com/users/939116/kr1"}, "edited": false, "score": 0, "creation_date": 1549452129, "post_id": 49439341, "comment_id": 95904671, "body": "I tried this way. Despite it&#39;s working well for Scripts files, it doesn&#39;t work for Stylesheets"}], "tags": [], "owner": {"reputation": 4389, "user_id": 1472806, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/u20P2.jpg?s=128&g=1", "display_name": "bob.mazzo", "link": "https://stackoverflow.com/users/1472806/bob-mazzo"}, "is_accepted": false, "score": 3, "last_activity_date": 1521757047, "creation_date": 1521757047, "answer_id": 49439341, "question_id": 34489916, "link": "https://stackoverflow.com/questions/34489916/how-to-load-external-scripts-dynamically-in-angular/49439341#49439341", "title": "How to load external scripts dynamically in Angular?", "body": "<p>In my case, I've loaded both the <code>js</code> and <code>css</code> <code>visjs</code> files using the above technique - which works great. I call the new function from <code>ngOnInit()</code></p>\n\n<p><strong><em>Note:</em></strong> I could <strong>not</strong> get it to load by simply adding a <code>&lt;script&gt;</code> and <code>&lt;link&gt;</code> tag to the html template file.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>loadVisJsScript() {\r\n  console.log('Loading visjs js/css files...');\r\n  let script = document.createElement('script');\r\n  script.src = \"../../assets/vis/vis.min.js\";\r\n  script.type = 'text/javascript';\r\n  script.async = true;\r\n  script.charset = 'utf-8';\r\n  document.getElementsByTagName('head')[0].appendChild(script);    \r\n\t\r\n  let link = document.createElement(\"link\");\r\n  link.type = \"stylesheet\";\r\n  link.href = \"../../assets/vis/vis.min.css\";\r\n  document.getElementsByTagName('head')[0].appendChild(link);    \r\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"comments": [{"owner": {"reputation": 819, "user_id": 3994745, "user_type": "registered", "accept_rate": 50, "profile_image": "https://graph.facebook.com/600592623/picture?type=large", "display_name": "Pierre", "link": "https://stackoverflow.com/users/3994745/pierre"}, "edited": false, "score": 3, "creation_date": 1528380092, "post_id": 49981918, "comment_id": 88493957, "body": "I have to say, this looks simple but works well, very easy to implement :-)"}, {"owner": {"reputation": 2233, "user_id": 4120474, "user_type": "registered", "accept_rate": 39, "profile_image": "https://www.gravatar.com/avatar/a29d97551bb7f27c5a8c7371551ac651?s=128&d=identicon&r=PG&f=1", "display_name": "j4rey", "link": "https://stackoverflow.com/users/4120474/j4rey"}, "edited": false, "score": 3, "creation_date": 1544687352, "post_id": 49981918, "comment_id": 94366556, "body": "The problem with this type of script injection is that since Angular is a SPA, this scripts basically stays on the browser cache even after you remove the scripts tag from the DOM."}, {"owner": {"reputation": 371, "user_id": 6164678, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-fRbDrfDHAKY/AAAAAAAAAAI/AAAAAAAAEPo/69gmpgO_O4c/photo.jpg?sz=128", "display_name": "Nadeeshan Herath", "link": "https://stackoverflow.com/users/6164678/nadeeshan-herath"}, "edited": false, "score": 1, "creation_date": 1550061357, "post_id": 49981918, "comment_id": 96130510, "body": "Awesome answer ! Saved my day, It works with Angular 6 &amp; 7. Tested !"}, {"owner": {"reputation": 797, "user_id": 1340442, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WyluD.jpg?s=128&g=1", "display_name": "gnganapath", "link": "https://stackoverflow.com/users/1340442/gnganapath"}, "edited": false, "score": 0, "creation_date": 1573588140, "post_id": 49981918, "comment_id": 103928024, "body": "To send data to external js and and get data from external js , Call this function at app.component.ts and use declare var d3Sankey:any at any feature level module&#39;s component. It&#39;s working."}], "tags": [], "owner": {"reputation": 450, "user_id": 7541197, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-dhUQYjc3rNU/AAAAAAAAAAI/AAAAAAAADxo/DaPtat8_EvQ/photo.jpg?sz=128", "display_name": "Aswin Sanakan", "link": "https://stackoverflow.com/users/7541197/aswin-sanakan"}, "is_accepted": false, "score": 23, "last_activity_date": 1524488851, "creation_date": 1524488851, "answer_id": 49981918, "question_id": 34489916, "link": "https://stackoverflow.com/questions/34489916/how-to-load-external-scripts-dynamically-in-angular/49981918#49981918", "title": "How to load external scripts dynamically in Angular?", "body": "<p>You can load <strong>multiple scripts dynamically</strong> like this in your <code>component.ts</code> file:</p>\n\n<pre><code> loadScripts() {\n    const dynamicScripts = [\n     'https://platform.twitter.com/widgets.js',\n     '../../../assets/js/dummyjs.min.js'\n    ];\n    for (let i = 0; i &lt; dynamicScripts.length; i++) {\n      const node = document.createElement('script');\n      node.src = dynamicScripts[i];\n      node.type = 'text/javascript';\n      node.async = false;\n      node.charset = 'utf-8';\n      document.getElementsByTagName('head')[0].appendChild(node);\n    }\n  }\n</code></pre>\n\n<p>and call this method inside the constructor,</p>\n\n<pre><code>constructor() {\n    this.loadScripts();\n}\n</code></pre>\n\n<p>Note : For more scripts to be loaded dynamically, add them to <code>dynamicScripts</code> array.</p>\n"}, {"tags": [], "owner": {"reputation": 6366, "user_id": 4636680, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-cVphcj8umyU/AAAAAAAAAAI/AAAAAAAAAMA/h77C6Fp3D08/photo.jpg?sz=128", "display_name": "Eduardo Vargas", "link": "https://stackoverflow.com/users/4636680/eduardo-vargas"}, "is_accepted": false, "score": 7, "last_activity_date": 1528815998, "creation_date": 1528815998, "answer_id": 50820403, "question_id": 34489916, "link": "https://stackoverflow.com/questions/34489916/how-to-load-external-scripts-dynamically-in-angular/50820403#50820403", "title": "How to load external scripts dynamically in Angular?", "body": "<p>I have done this code snippet with the new renderer api</p>\n\n<pre><code> constructor(private renderer: Renderer2){}\n\n addJsToElement(src: string): HTMLScriptElement {\n    const script = document.createElement('script');\n    script.type = 'text/javascript';\n    script.src = src;\n    this.renderer.appendChild(document.body, script);\n    return script;\n  }\n</code></pre>\n\n<p>And then call it like this</p>\n\n<pre><code>this.addJsToElement('https://widgets.skyscanner.net/widget-server/js/loader.js').onload = () =&gt; {\n        console.log('SkyScanner Tag loaded');\n} \n</code></pre>\n\n<p><strong><a href=\"https://stackblitz.com/edit/angular-3drmyp\" rel=\"noreferrer\">StackBlitz</a></strong></p>\n"}, {"tags": [], "owner": {"reputation": 1943, "user_id": 5131929, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/MKmmu.jpg?s=128&g=1", "display_name": "unos baghaii", "link": "https://stackoverflow.com/users/5131929/unos-baghaii"}, "is_accepted": false, "score": 1, "last_activity_date": 1531898988, "creation_date": 1531898988, "answer_id": 51396075, "question_id": 34489916, "link": "https://stackoverflow.com/questions/34489916/how-to-load-external-scripts-dynamically-in-angular/51396075#51396075", "title": "How to load external scripts dynamically in Angular?", "body": "<p>a sample can be </p>\n\n<p>script-loader.service.ts file</p>\n\n<pre><code>import {Injectable} from '@angular/core';\nimport * as $ from 'jquery';\n\ndeclare let document: any;\n\ninterface Script {\n  src: string;\n  loaded: boolean;\n}\n\n@Injectable()\nexport class ScriptLoaderService {\npublic _scripts: Script[] = [];\n\n/**\n* @deprecated\n* @param tag\n* @param {string} scripts\n* @returns {Promise&lt;any[]&gt;}\n*/\nload(tag, ...scripts: string[]) {\nscripts.forEach((src: string) =&gt; {\n  if (!this._scripts[src]) {\n    this._scripts[src] = {src: src, loaded: false};\n  }\n});\n\nlet promises: any[] = [];\nscripts.forEach((src) =&gt; promises.push(this.loadScript(tag, src)));\n\nreturn Promise.all(promises);\n}\n\n /**\n * Lazy load list of scripts\n * @param tag\n * @param scripts\n * @param loadOnce\n * @returns {Promise&lt;any[]&gt;}\n */\nloadScripts(tag, scripts, loadOnce?: boolean) {\nloadOnce = loadOnce || false;\n\nscripts.forEach((script: string) =&gt; {\n  if (!this._scripts[script]) {\n    this._scripts[script] = {src: script, loaded: false};\n  }\n});\n\nlet promises: any[] = [];\nscripts.forEach(\n    (script) =&gt; promises.push(this.loadScript(tag, script, loadOnce)));\n\nreturn Promise.all(promises);\n}\n\n/**\n * Lazy load a single script\n * @param tag\n * @param {string} src\n * @param loadOnce\n * @returns {Promise&lt;any&gt;}\n */\nloadScript(tag, src: string, loadOnce?: boolean) {\nloadOnce = loadOnce || false;\n\nif (!this._scripts[src]) {\n  this._scripts[src] = {src: src, loaded: false};\n}\n\nreturn new Promise((resolve, reject) =&gt; {\n  // resolve if already loaded\n  if (this._scripts[src].loaded &amp;&amp; loadOnce) {\n    resolve({src: src, loaded: true});\n  }\n  else {\n    // load script tag\n    let scriptTag = $('&lt;script/&gt;').\n        attr('type', 'text/javascript').\n        attr('src', this._scripts[src].src);\n\n    $(tag).append(scriptTag);\n\n    this._scripts[src] = {src: src, loaded: true};\n    resolve({src: src, loaded: true});\n  }\n });\n }\n }\n</code></pre>\n\n<p>and usage </p>\n\n<p>first inject </p>\n\n<pre><code>  constructor(\n  private _script: ScriptLoaderService) {\n  }\n</code></pre>\n\n<p>then </p>\n\n<pre><code>ngAfterViewInit()  {\nthis._script.loadScripts('app-wizard-wizard-3',\n['assets/demo/default/custom/crud/wizard/wizard.js']);\n\n}\n</code></pre>\n\n<p>or </p>\n\n<pre><code>    this._script.loadScripts('body', [\n  'assets/vendors/base/vendors.bundle.js',\n  'assets/demo/default/base/scripts.bundle.js'], true).then(() =&gt; {\n  Helpers.setLoading(false);\n  this.handleFormSwitch();\n  this.handleSignInFormSubmit();\n  this.handleSignUpFormSubmit();\n  this.handleForgetPasswordFormSubmit();\n});\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 692, "user_id": 2859009, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4dDHK.jpg?s=128&g=1", "display_name": "Mehul Bhalala", "link": "https://stackoverflow.com/users/2859009/mehul-bhalala"}, "edited": false, "score": 0, "creation_date": 1537195647, "post_id": 51490006, "comment_id": 91685243, "body": "Could you please share the code of IPreloadScriptResult interface?"}], "tags": [], "owner": {"reputation": 61, "user_id": 10125338, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/31b4f7e9782449d5227165db0e704cfd?s=128&d=identicon&r=PG&f=1", "display_name": "\u7533\u541b\u5065", "link": "https://stackoverflow.com/users/10125338/%e7%94%b3%e5%90%9b%e5%81%a5"}, "is_accepted": false, "score": 6, "last_activity_date": 1532404037, "last_edit_date": 1532404037, "creation_date": 1532402598, "answer_id": 51490006, "question_id": 34489916, "link": "https://stackoverflow.com/questions/34489916/how-to-load-external-scripts-dynamically-in-angular/51490006#51490006", "title": "How to load external scripts dynamically in Angular?", "body": "<p>I have a good way to dynamically load scripts!\nNow I use ng6, echarts4 (>700Kb ) ,ngx-echarts3 in my project.   when I use them by ngx-echarts's docs,  I need import echarts in angular.json : \n    \"scripts\":[\"./node_modules/echarts/dist/echarts.min.js\"]\nthus in the login module, page while loading scripts.js, this is big file! I don't want it.</p>\n\n<p>So, I think angular loads each module as a file, I can insert a router resolver to preload js, then begin the module loading!</p>\n\n<p>//  PreloadScriptResolver.service.js</p>\n\n<pre><code>/**\u52a8\u6001\u52a0\u8f7djs\u7684\u670d\u52a1 */\n@Injectable({\n  providedIn: 'root'\n})\nexport class PreloadScriptResolver implements Resolve&lt;IPreloadScriptResult[]&gt; {\n  // Here import all dynamically js file\n  private scripts: any = {\n    echarts: { loaded: false, src: \"assets/lib/echarts.min.js\" }\n  };\n  constructor() { }\n  load(...scripts: string[]) {\n    const promises = scripts.map(script =&gt; this.loadScript(script));\n    return Promise.all(promises);\n  }\n  loadScript(name: string): Promise&lt;IPreloadScriptResult&gt; {\n    return new Promise((resolve, reject) =&gt; {\n      if (this.scripts[name].loaded) {\n        resolve({ script: name, loaded: true, status: 'Already Loaded' });\n      } else {\n        const script = document.createElement('script');\n        script.type = 'text/javascript';\n        script.src = this.scripts[name].src;\n        script.onload = () =&gt; {\n          this.scripts[name].loaded = true;\n          resolve({ script: name, loaded: true, status: 'Loaded' });\n        };\n        script.onerror = (error: any) =&gt; reject({ script: name, loaded: false, status: 'Loaded Error:' + error.toString() });\n        document.head.appendChild(script);\n      }\n    });\n  }\n\n  resolve(route: ActivatedRouteSnapshot, state: RouterStateSnapshot): Promise&lt;IPreloadScriptResult[]&gt; {\n   return this.load(...route.routeConfig.data.preloadScripts);\n  }\n}\n</code></pre>\n\n<p>Then in the submodule-routing.module.ts \uff0cimport this PreloadScriptResolver:</p>\n\n<pre><code>const routes: Routes = [\n  {\n    path: \"\",\n    component: DashboardComponent,\n    canActivate: [AuthGuardService],\n    canActivateChild: [AuthGuardService],\n    resolve: {\n      preloadScripts: PreloadScriptResolver\n    },\n    data: {\n      preloadScripts: [\"echarts\"]  // important!\n    },\n    children: [.....]\n}\n</code></pre>\n\n<p>This code works well, and its promises that: After js file loaded, then module begin load!  this Resolver can use in many routers</p>\n"}, {"comments": [{"owner": {"reputation": 164, "user_id": 5132600, "user_type": "registered", "accept_rate": 60, "profile_image": "https://graph.facebook.com/10206719763334084/picture?type=large", "display_name": "Youness Houdass", "link": "https://stackoverflow.com/users/5132600/youness-houdass"}, "edited": false, "score": 2, "creation_date": 1593415650, "post_id": 53026833, "comment_id": 110762081, "body": "Great, but instead of npm install --save @types/scriptjs, it should be npm install --save-dev @types/scriptjs (or just npm i -D @types/scriptjs)"}], "tags": [], "owner": {"reputation": 52004, "user_id": 1375553, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/a94s0.jpg?s=128&g=1", "display_name": "Vadim Gremyachev", "link": "https://stackoverflow.com/users/1375553/vadim-gremyachev"}, "is_accepted": false, "score": 25, "last_activity_date": 1540679464, "creation_date": 1540679464, "answer_id": 53026833, "question_id": 34489916, "link": "https://stackoverflow.com/questions/34489916/how-to-load-external-scripts-dynamically-in-angular/53026833#53026833", "title": "How to load external scripts dynamically in Angular?", "body": "<p>Yet another option would be to utilize <a href=\"https://www.npmjs.com/package/scriptjs\" rel=\"noreferrer\"><code>scriptjs</code> package</a> for that matter which</p>\n\n<blockquote>\n  <p>allows you to load script resources on-demand from any URL</p>\n</blockquote>\n\n<p><strong>Example</strong></p>\n\n<p>Install the package: </p>\n\n<pre><code>npm i scriptjs\n</code></pre>\n\n<p>and <a href=\"https://www.npmjs.com/package/@types/scriptjs\" rel=\"noreferrer\">type definitions for <code>scriptjs</code></a>:</p>\n\n<pre><code>npm install --save @types/scriptjs\n</code></pre>\n\n<p>Then import <code>$script.get()</code> method:  </p>\n\n<pre><code>import { get } from 'scriptjs';\n</code></pre>\n\n<p>and finally load script resource, in our case Google Maps library:</p>\n\n<pre><code>export class AppComponent implements OnInit {\n  ngOnInit() {\n    get(\"https://maps.googleapis.com/maps/api/js?key=\", () =&gt; {\n        //Google Maps library has been loaded...\n    });\n  }\n}\n</code></pre>\n\n<p><a href=\"https://codesandbox.io/s/k3587kn1yo\" rel=\"noreferrer\">Demo</a></p>\n"}, {"tags": [], "owner": {"reputation": 528, "user_id": 3156265, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/sxUnP.jpg?s=128&g=1", "display_name": "Aniket", "link": "https://stackoverflow.com/users/3156265/aniket"}, "is_accepted": false, "score": 1, "last_activity_date": 1553003999, "creation_date": 1553003999, "answer_id": 55242784, "question_id": 34489916, "link": "https://stackoverflow.com/questions/34489916/how-to-load-external-scripts-dynamically-in-angular/55242784#55242784", "title": "How to load external scripts dynamically in Angular?", "body": "<pre><code>import { Injectable } from '@angular/core';\nimport * as $ from 'jquery';\n\ninterface Script {\n    src: string;\n    loaded: boolean;\n}\n\n@Injectable()\nexport class ScriptLoaderService {\n    public _scripts: Script[] = [];\n\n    /**\n     * @deprecated\n     * @param tag\n     * @param {string} scripts\n     * @returns {Promise&lt;any[]&gt;}\n     */\n    load(tag, ...scripts: string[]) {\n        scripts.forEach((src: string) =&gt; {\n            if (!this._scripts[src]) {\n                this._scripts[src] = { src: src, loaded: false };\n            }\n        });\n\n        const promises: any[] = [];\n        scripts.forEach(src =&gt; promises.push(this.loadScript(tag, src)));\n\n        return Promise.all(promises);\n    }\n\n    /**\n     * Lazy load list of scripts\n     * @param tag\n     * @param scripts\n     * @param loadOnce\n     * @returns {Promise&lt;any[]&gt;}\n     */\n    loadScripts(tag, scripts, loadOnce?: boolean) {\n        debugger;\n        loadOnce = loadOnce || false;\n\n        scripts.forEach((script: string) =&gt; {\n            if (!this._scripts[script]) {\n                this._scripts[script] = { src: script, loaded: false };\n            }\n        });\n\n        const promises: any[] = [];\n        scripts.forEach(script =&gt; promises.push(this.loadScript(tag, script, loadOnce)));\n\n        return Promise.all(promises);\n    }\n\n    /**\n     * Lazy load a single script\n     * @param tag\n     * @param {string} src\n     * @param loadOnce\n     * @returns {Promise&lt;any&gt;}\n     */\n    loadScript(tag, src: string, loadOnce?: boolean) {\n        debugger;\n        loadOnce = loadOnce || false;\n\n        if (!this._scripts[src]) {\n            this._scripts[src] = { src: src, loaded: false };\n        }\n\n        return new Promise((resolve, _reject) =&gt; {\n            // resolve if already loaded\n            if (this._scripts[src].loaded &amp;&amp; loadOnce) {\n                resolve({ src: src, loaded: true });\n            } else {\n                // load script tag\n                const scriptTag = $('&lt;script/&gt;')\n                    .attr('type', 'text/javascript')\n                    .attr('src', this._scripts[src].src);\n\n                $(tag).append(scriptTag);\n\n                this._scripts[src] = { src: src, loaded: true };\n                resolve({ src: src, loaded: true });\n            }\n        });\n    }\n\n    reloadOnSessionChange() {\n        window.addEventListener('storage', function(data) {\n            if (data['key'] === 'token' &amp;&amp; data['oldValue'] == null &amp;&amp; data['newValue']) {\n                document.location.reload();\n            }\n        });\n    }\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1541, "user_id": 889376, "user_type": "registered", "accept_rate": 35, "profile_image": "https://www.gravatar.com/avatar/eed19df63d014cbb935b922af3d1278a?s=128&d=identicon&r=PG", "display_name": "Mustafa", "link": "https://stackoverflow.com/users/889376/mustafa"}, "edited": false, "score": 1, "creation_date": 1570794855, "post_id": 55367426, "comment_id": 103036636, "body": "This somehow feels dodgy"}], "tags": [], "owner": {"reputation": 14155, "user_id": 632088, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/4b02313659bcb668d49a0075c2de0bc1?s=128&d=identicon&r=PG", "display_name": "robert king", "link": "https://stackoverflow.com/users/632088/robert-king"}, "is_accepted": false, "score": 4, "last_activity_date": 1560429334, "last_edit_date": 1560429334, "creation_date": 1553641423, "answer_id": 55367426, "question_id": 34489916, "link": "https://stackoverflow.com/questions/34489916/how-to-load-external-scripts-dynamically-in-angular/55367426#55367426", "title": "How to load external scripts dynamically in Angular?", "body": "<p>An Angular universal solution; I needed to wait for a particular element to be on the page before loading a script to play a video.</p>\n\n<pre><code>import {Inject, Injectable, PLATFORM_ID} from '@angular/core';\nimport {isPlatformBrowser} from \"@angular/common\";\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class ScriptLoaderService {\n\n  constructor(\n    @Inject(PLATFORM_ID) private platformId: Object,\n  ) {\n  }\n\n  load(scriptUrl: string) {\n    if (isPlatformBrowser(this.platformId)) {\n      let node: any = document.createElement('script');\n      node.src = scriptUrl;\n      node.type = 'text/javascript';\n      node.async = true;\n      node.charset = 'utf-8';\n      document.getElementsByTagName('head')[0].appendChild(node);\n    }\n  }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1077, "user_id": 4767208, "user_type": "registered", "accept_rate": 14, "profile_image": "https://www.gravatar.com/avatar/80e7ed3c9c18fbdc35662be9bcbfe191?s=128&d=identicon&r=PG&f=1", "display_name": "Hetdev", "link": "https://stackoverflow.com/users/4767208/hetdev"}, "is_accepted": false, "score": 10, "last_activity_date": 1579271806, "creation_date": 1579271806, "answer_id": 59789482, "question_id": 34489916, "link": "https://stackoverflow.com/questions/34489916/how-to-load-external-scripts-dynamically-in-angular/59789482#59789482", "title": "How to load external scripts dynamically in Angular?", "body": "<p>Hi you can use Renderer2 and elementRef with just a few lines of code:</p>\n\n<pre><code>constructor(private readonly elementRef: ElementRef,\n          private renderer: Renderer2) {\n}\nngOnInit() {\n const script = this.renderer.createElement('script');\n script.src = 'http://iknow.com/this/does/not/work/either/file.js';\n script.onload = () =&gt; {\n   console.log('script loaded');\n   initFile();\n };\n this.renderer.appendChild(this.elementRef.nativeElement, script);\n}\n</code></pre>\n\n<p>the <code>onload</code> function can be used to call the script functions after the script is loaded, this is very useful if you have to do the calls in the ngOnInit() </p>\n"}, {"tags": [], "owner": {"reputation": 75, "user_id": 11283881, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-kfF8roBXhnc/AAAAAAAAAAI/AAAAAAAAaD0/S3Ax5bOv5iw/photo.jpg?sz=128", "display_name": "Satyam Dorville", "link": "https://stackoverflow.com/users/11283881/satyam-dorville"}, "is_accepted": false, "score": -1, "last_activity_date": 1616861385, "creation_date": 1616861385, "answer_id": 66833412, "question_id": 34489916, "link": "https://stackoverflow.com/questions/34489916/how-to-load-external-scripts-dynamically-in-angular/66833412#66833412", "title": "How to load external scripts dynamically in Angular?", "body": "<p>You can use Google Tag Manager to manage your external scripts without going into code. That s a perfect solution for non-tech users and tech users.</p>\n"}, {"tags": [], "owner": {"reputation": 845, "user_id": 2906568, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/77b651a24c5ea93c738ab41e373c1e0d?s=128&d=identicon&r=PG&f=1", "display_name": "F.H.", "link": "https://stackoverflow.com/users/2906568/f-h"}, "is_accepted": false, "score": 0, "last_activity_date": 1618319057, "creation_date": 1618319057, "answer_id": 67075468, "question_id": 34489916, "link": "https://stackoverflow.com/questions/34489916/how-to-load-external-scripts-dynamically-in-angular/67075468#67075468", "title": "How to load external scripts dynamically in Angular?", "body": "<p>for those of you who would like to load styles dynamically too.\n<em>(based on <strong>@Rahul Kumar</strong> brilliant answer)</em></p>\n<p><strong>script.store.ts</strong></p>\n<pre><code>interface Scripts {\n    name: string;\n    src: string;\n}\n\nexport const StyleStore: Scripts[] = [\n    { name: 'fancybox-css', src: 'https://cdn.jsdelivr.net/gh/fancyapps/fancybox@3.5.7/dist/jquery.fancybox.min.css' }\n];\n\nexport const ScriptStore: Scripts[] = [\n    { name: 'jquery', src: 'https://cdn.jsdelivr.net/npm/jquery@3.5.1/dist/jquery.min.js' },\n    { name: 'other', src: '[other script source]'}\n];\n</code></pre>\n<p><strong>script-loader.service.ts</strong></p>\n<pre><code>import { Injectable } from '@angular/core';\nimport { ScriptStore, StyleStore } from '../../stores/script.store';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class ScriptLoaderService {\n\n  private scripts: any = {};\n  private styles: any = {};\n\n  constructor() {\n    ScriptStore.forEach((script: any) =&gt; {\n      this.scripts[script.name] = {\n        loaded: false,\n        src: script.src\n      };\n    });\n\n    StyleStore.forEach((script: any) =&gt; {\n      this.styles[script.name] = {\n        loaded: false,\n        src: script.src\n      };\n    });\n  }\n\n  load(...scripts: string[]) {\n    var promises: any[] = [];\n    scripts.forEach((script) =&gt; promises.push(this.loadScript(script)));\n    return Promise.all(promises);\n  }\n\n  loadStyles(...scripts: string[]) {\n    var promises: any[] = [];\n    scripts.forEach((script) =&gt; promises.push(this.loadStyle(script)));\n    return Promise.all(promises);\n  }\n\n  loadScript(name: string) {\n    return new Promise((resolve, reject) =&gt; {\n      //resolve if already loaded\n      if (this.scripts[name].loaded) {\n        resolve({ script: name, loaded: true, status: 'Already Loaded' });\n      }\n      else {\n        //load script\n        let script = document.createElement('script') as any;\n        script.type = 'text/javascript';\n        script.src = this.scripts[name].src;\n        if (script.readyState) {  //IE\n          script.onreadystatechange = () =&gt; {\n            if (script.readyState === &quot;loaded&quot; || script.readyState === &quot;complete&quot;) {\n              script.onreadystatechange = null;\n              this.scripts[name].loaded = true;\n              resolve({ script: name, loaded: true, status: 'Loaded' });\n            }\n          };\n        } else {  //Others\n          script.onload = () =&gt; {\n            this.scripts[name].loaded = true;\n            resolve({ script: name, loaded: true, status: 'Loaded' });\n          };\n        }\n        script.onerror = (error: any) =&gt; resolve({ script: name, loaded: false, status: 'Loaded' });\n        document.getElementsByTagName('head')[0].appendChild(script);\n      }\n    });\n  }\n\n  loadStyle(name: string) {\n    return new Promise((resolve, reject) =&gt; {\n      //resolve if already loaded\n      if (this.styles[name].loaded) {\n        resolve({ script: name, loaded: true, status: 'Already Loaded' });\n      }\n      else {\n        //load style\n        let style = document.createElement('link') as any;\n        style.type = &quot;text/css&quot;;\n        style.rel = &quot;stylesheet&quot;;\n        style.href = this.styles[name].src;\n        if (style.readyState) {  //IE\n          style.onreadystatechange = () =&gt; {\n            if (style.readyState === &quot;loaded&quot; || style.readyState === &quot;complete&quot;) {\n              style.onreadystatechange = null;\n              this.styles[name].loaded = true;\n              resolve({ style: name, loaded: true, status: 'Loaded' });\n            }\n          };\n        } else {  //Others\n          style.onload = () =&gt; {\n            this.styles[name].loaded = true;\n            resolve({ style: name, loaded: true, status: 'Loaded' });\n          };\n        }\n        style.onerror = (error: any) =&gt; resolve({ style: name, loaded: false, status: 'Loaded' });\n        document.getElementsByTagName('head')[0].appendChild(style);\n      }\n    });\n  }\n\n}\n</code></pre>\n<p><strong>app.component.ts</strong></p>\n<pre><code>constructor(private scriptLoaderService: ScriptLoaderService) {\n  this.scriptLoaderService.loadStyles('fancybox-css').then(x =&gt; {\n    this.scriptLoaderService.load('jquery', 'fancybox').then(data =&gt; {\n    }).catch(error =&gt; console.log(error));\n  });\n}\n</code></pre>\n"}], "owner": {"reputation": 7349, "user_id": 186334, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/f2aeb2c524d426fb0eed06768b7119c0?s=128&d=identicon&r=PG", "display_name": "CallMeLaNN", "link": "https://stackoverflow.com/users/186334/callmelann"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 230300, "favorite_count": 83, "protected_date": 1563048667, "accepted_answer_id": 34489991, "answer_count": 17, "score": 170, "last_activity_date": 1618319057, "creation_date": 1451290445, "last_edit_date": 1518174804, "question_id": 34489916, "link": "https://stackoverflow.com/questions/34489916/how-to-load-external-scripts-dynamically-in-angular", "title": "How to load external scripts dynamically in Angular?", "body": "<p>I have this module which componentize the external library together with additional logic without adding the <code>&lt;script&gt;</code> tag directly into the index.html:</p>\n\n<pre><code>import 'http://external.com/path/file.js'\n//import '../js/file.js'\n\n@Component({\n    selector: 'my-app',\n    template: `\n        &lt;script src=\"http://iknow.com/this/does/not/work/either/file.js\"&gt;&lt;/script&gt;\n        &lt;div&gt;Template&lt;/div&gt;`\n})\nexport class MyAppComponent {...}\n</code></pre>\n\n<p>I notice the <code>import</code> by ES6 spec is static and resolved during TypeScript transpiling rather than at runtime.</p>\n\n<p>Anyway to make it configurable so the file.js will be loading either from CDN or local folder?\nHow to tell Angular 2 to load a script dynamically?</p>\n"}, {"tags": ["javascript", "dictionary", "typescript", "map-function"], "answers": [{"comments": [{"owner": {"reputation": 4194, "user_id": 2270340, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/74dbd6553164e6938b05a3455497de9c?s=128&d=identicon&r=PG", "display_name": "Sayan Pal", "link": "https://stackoverflow.com/users/2270340/sayan-pal"}, "edited": false, "score": 0, "creation_date": 1451289520, "post_id": 34489677, "comment_id": 56721304, "body": "Thank You. This solved the problem :) However, I still have to wait 9 mins to accept this as answer :) In the meantime, can you please explain a little bit, what just happened here?"}, {"owner": {"reputation": 6268, "user_id": 1644422, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/01c7fb4b20926d4dcf7d1125f7adac9f?s=128&d=identicon&r=PG", "display_name": "Louay Alakkad", "link": "https://stackoverflow.com/users/1644422/louay-alakkad"}, "reply_to_user": {"reputation": 4194, "user_id": 2270340, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/74dbd6553164e6938b05a3455497de9c?s=128&d=identicon&r=PG", "display_name": "Sayan Pal", "link": "https://stackoverflow.com/users/2270340/sayan-pal"}, "edited": false, "score": 1, "creation_date": 1451289905, "post_id": 34489677, "comment_id": 56721447, "body": "oh sure. arrow functions are just syntactical sugar to bind the function to the outer <code>this</code> value. i.e. the value of <code>this</code> in arrow function is the value of <code>this</code> in its parent scope. You should never use arrow functions for <code>prototype</code> methods."}], "tags": [], "owner": {"reputation": 6268, "user_id": 1644422, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/01c7fb4b20926d4dcf7d1125f7adac9f?s=128&d=identicon&r=PG", "display_name": "Louay Alakkad", "link": "https://stackoverflow.com/users/1644422/louay-alakkad"}, "is_accepted": true, "score": 2, "last_activity_date": 1451289338, "creation_date": 1451289338, "answer_id": 34489677, "question_id": 34489633, "link": "https://stackoverflow.com/questions/34489633/wrong-this-reference-in-extending-map/34489677#34489677", "title": "Wrong &#39;this&#39; reference in extending Map", "body": "<p>That's because you're using an arrow function. Don't use arrow functions when you need access to <code>this</code>.</p>\n\n<pre><code>Map.prototype.clone = function() { ... }\n</code></pre>\n"}], "owner": {"reputation": 4194, "user_id": 2270340, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/74dbd6553164e6938b05a3455497de9c?s=128&d=identicon&r=PG", "display_name": "Sayan Pal", "link": "https://stackoverflow.com/users/2270340/sayan-pal"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 46, "favorite_count": 0, "accepted_answer_id": 34489677, "answer_count": 1, "score": 0, "last_activity_date": 1451289338, "creation_date": 1451289100, "question_id": 34489633, "link": "https://stackoverflow.com/questions/34489633/wrong-this-reference-in-extending-map", "title": "Wrong &#39;this&#39; reference in extending Map", "body": "<p>I am trying to write a simple method, on <code>Map&lt;K, V&gt;</code> interface. And this what I have done so far:\n<code>MapExtensions.ts:</code></p>\n\n<pre><code>interface Map&lt;K, V&gt; {\n    clone(): Map&lt;K, V&gt;;\n}\n\nMap.prototype.clone = () =&gt; {\n    var self = this;\n    console.log(self);\n\n    let retval = new Map();        \n    self.forEach((value, key) =&gt; {\n        retval.set(key, value);\n    });\n\n    //for (let [key, value] of self.entries()) {\n    //    retval.set(key, value);\n    //}\n    return retval;\n};\n</code></pre>\n\n<p>However, while testing the method I eventually found that the reference in <code>this</code> argument is wrongly referring to <code>Window</code> object, and thus, <code>self.forEach</code> does not work and the while testing it says <code>self.forEach is not a function</code>(same with <code>self.entries()</code>). Here is my test script:</p>\n\n<pre><code>test(\"clone test\", () =&gt; {\n    //Arrange\n    const source = new Map().set(1, \"abc\").set(2, \"def\").set(3, \"ghi\");\n\n    //Act\n    const actual = source.clone.bind(source)();//This fails.\n    //const actual = source.clone();//This too fails.\n\n    //Assert\n    console.log(actual);\n    console.log(expected);\n    deepEqual(actual, source, \"Cloned correctly\");\n});\n</code></pre>\n\n<p>Additional Information:</p>\n\n<ol>\n<li><p>Below is the JavaScript output generated:</p>\n\n<pre><code>var _this = this;//It seems this is causing the problem.\nMap.prototype.clone = function () {\n    var self = _this;\n    var retval = new Map();\n    console.log(self);\n    self.forEach(function (value, key) {\n        retval.set(key, value);\n    });\n    return retval;\n};\n</code></pre></li>\n<li><p>I am using Visual Studio 2015, and the default JavaScript output generator from typescript.</p></li>\n</ol>\n\n<p>How to do this successfully?</p>\n"}, {"tags": ["javascript", "node.js", "typescript", "es6-promise"], "answers": [{"comments": [{"owner": {"reputation": 4875, "user_id": 400295, "user_type": "registered", "accept_rate": 35, "profile_image": "https://www.gravatar.com/avatar/48937e4a3e26f4337f88c1d875b9c0b4?s=128&d=identicon&r=PG", "display_name": "Andreas Selenwall", "link": "https://stackoverflow.com/users/400295/andreas-selenwall"}, "edited": false, "score": 0, "creation_date": 1451327293, "post_id": 34492275, "comment_id": 56739032, "body": "Sorry, but this doesn&#39;t work. For some reason the constructor isn&#39;t found. I am targeting module commonjs and es5 since I want this to work in NodeJS."}, {"owner": {"reputation": 25995, "user_id": 5152732, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-eL0xfQom3xQ/AAAAAAAAAAI/AAAAAAAAB1E/j1B2Mcgvt6M/photo.jpg?sz=128", "display_name": "toskv", "link": "https://stackoverflow.com/users/5152732/toskv"}, "reply_to_user": {"reputation": 4875, "user_id": 400295, "user_type": "registered", "accept_rate": 35, "profile_image": "https://www.gravatar.com/avatar/48937e4a3e26f4337f88c1d875b9c0b4?s=128&d=identicon&r=PG", "display_name": "Andreas Selenwall", "link": "https://stackoverflow.com/users/400295/andreas-selenwall"}, "edited": false, "score": 0, "creation_date": 1451344368, "post_id": 34492275, "comment_id": 56746198, "body": "that&#39;s the ES6 promise, if you are using es5 you most likely are using a thirdparty promise library. They usually follow the same style but there might be diferences. Please share what promise library you are using."}], "tags": [], "owner": {"reputation": 25995, "user_id": 5152732, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-eL0xfQom3xQ/AAAAAAAAAAI/AAAAAAAAB1E/j1B2Mcgvt6M/photo.jpg?sz=128", "display_name": "toskv", "link": "https://stackoverflow.com/users/5152732/toskv"}, "is_accepted": false, "score": 0, "last_activity_date": 1451344390, "last_edit_date": 1451344390, "creation_date": 1451300412, "answer_id": 34492275, "question_id": 34489376, "link": "https://stackoverflow.com/questions/34489376/typescript-es6-promise-how-do-i-match-promise-constructor/34492275#34492275", "title": "TypeScript es6-promise, how do I match Promise constructor", "body": "<p>The ES6 promise constructor takes a function that takes the resolve and reject functions as parameters.</p>\n\n<p>A simple example:</p>\n\n<pre><code>let executor = (resolve, reject) =&gt; {\n   if(1&gt;0) {\n      resolve(\"1\");\n   } else {\n      reject(\"0\");\n   };\n\nlet promise = new Promise&lt;string&gt;(executor);\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 22172, "user_id": 1263942, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/b272a5e1d5d3589192d942552e51e2a8?s=128&d=identicon&r=PG", "display_name": "Bruno Grieder", "link": "https://stackoverflow.com/users/1263942/bruno-grieder"}, "is_accepted": false, "score": 0, "last_activity_date": 1451301446, "creation_date": 1451301446, "answer_id": 34492514, "question_id": 34489376, "link": "https://stackoverflow.com/questions/34489376/typescript-es6-promise-how-do-i-match-promise-constructor/34492514#34492514", "title": "TypeScript es6-promise, how do I match Promise constructor", "body": "<p>Not sure where you got this definition from.\nIs your compiler target set to es6 ?</p>\n\n<p>From <code>lib.es6.d.ts</code></p>\n\n<pre><code>/**\n * Creates a new Promise.\n * @param executor A callback used to initialize the promise. This callback is passed two arguments: \n * a resolve callback used resolve the promise with a value or the result of another promise, \n * and a reject callback used to reject the promise with a provided reason or error.\n */\nnew &lt;T&gt;(executor: (resolve: (value?: T | PromiseLike&lt;T&gt;) =&gt; void, reject: (reason?: any) =&gt; void) =&gt; void): Promise&lt;T&gt;;\n</code></pre>\n\n<p>Works fine for me typescript 1.7.5, target es6</p>\n\n<p>This should work for you</p>\n\n<pre><code>return new Promise&lt;mongodb.Db&gt;((resolve: (value?: any) =&gt; void, reject: (reason?: any) =&gt; void) =&gt; {\n...\n })\n</code></pre>\n"}], "owner": {"reputation": 4875, "user_id": 400295, "user_type": "registered", "accept_rate": 35, "profile_image": "https://www.gravatar.com/avatar/48937e4a3e26f4337f88c1d875b9c0b4?s=128&d=identicon&r=PG", "display_name": "Andreas Selenwall", "link": "https://stackoverflow.com/users/400295/andreas-selenwall"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 936, "favorite_count": 0, "answer_count": 2, "score": 2, "last_activity_date": 1451344390, "creation_date": 1451287800, "last_edit_date": 1451290471, "question_id": 34489376, "link": "https://stackoverflow.com/questions/34489376/typescript-es6-promise-how-do-i-match-promise-constructor", "title": "TypeScript es6-promise, how do I match Promise constructor", "body": "<p>Trying this:</p>\n\n<pre><code>  init():Promise&lt;mongodb.Db&gt; {\n    return new Promise&lt;mongodb.Db&gt;((resolve : (value?: R | Thenable&lt;R&gt;) =&gt; void, reject: (error?: any) =&gt; void) =&gt; {\n      this.db = new mongodb.Db(\"test\", new mongodb.Server(\"localhost\", 12017));\n\n      this.db.open((err, db) =&gt; {\n        if (err) {\n          reject(err);\n        } else {\n          resolve(db);\n        }\n      });\n    });\n  }\n</code></pre>\n\n<p>Gives me this:</p>\n\n<pre><code>error TS2351: Cannot use 'new' with an expression whose type lacks a call or construct signature.\n</code></pre>\n\n<p>What am I doing wrong? The constructor parameter I copied straight from the class definition of Promise. Tried many, many different ways to do this, none of them worked though. Obviously, hence the question :)</p>\n"}, {"tags": ["typescript", "ecmascript-6", "angular", "es6-shim"], "comments": [{"owner": {"reputation": 147776, "user_id": 3731501, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/e4783dfa8ec98c884e61d29f2192ac97?s=128&d=identicon&r=PG&f=1", "display_name": "Estus Flask", "link": "https://stackoverflow.com/users/3731501/estus-flask"}, "edited": false, "score": 1, "creation_date": 1451282088, "post_id": 34488074, "comment_id": 56718712, "body": "And your environment is?.. I guess that SystemJS is used for imports, so it tries to request es6-shim package from listed url instead of bundling it locally. <code>import</code> statement has nothing to do with <code>&lt;script&gt;</code> tag, you probably have to figure out how <code>import</code> and SystemJS work before moving any further. And btw, it is <code>Map</code>, <code>shim.Map</code> is optional because es6-shim is a polyfill. And btw this is the reason why it shouldn&#39;t be loaded twice in the first place."}, {"owner": {"reputation": 2761, "user_id": 2301114, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/L37bx.jpg?s=128&g=1", "display_name": "AstrOne", "link": "https://stackoverflow.com/users/2301114/astrone"}, "reply_to_user": {"reputation": 147776, "user_id": 3731501, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/e4783dfa8ec98c884e61d29f2192ac97?s=128&d=identicon&r=PG&f=1", "display_name": "Estus Flask", "link": "https://stackoverflow.com/users/3731501/estus-flask"}, "edited": false, "score": 0, "creation_date": 1451283551, "post_id": 34488074, "comment_id": 56719115, "body": "Oh God, this is embarrassing... indeed I didn&#39;t have to do anything special. No import was necessary... I don&#39;t know why it did&#39;t work the first time (and it made me to start importing stuff and so on). Thanks for the help my friend!"}, {"owner": {"reputation": 147776, "user_id": 3731501, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/e4783dfa8ec98c884e61d29f2192ac97?s=128&d=identicon&r=PG&f=1", "display_name": "Estus Flask", "link": "https://stackoverflow.com/users/3731501/estus-flask"}, "edited": false, "score": 1, "creation_date": 1451284180, "post_id": 34488074, "comment_id": 56719298, "body": "You&#39;re welcome. In fact, it can be imported once in entry point (bootstrap.ts or so), but since the entire application (SystemJS itself in the first place) relies on es6 features, there&#39;s no real reason to do this with import"}, {"owner": {"reputation": 714, "user_id": 2610314, "user_type": "registered", "accept_rate": 59, "profile_image": "https://graph.facebook.com/1692202410/picture?type=large", "display_name": "Vladimir Melekh", "link": "https://stackoverflow.com/users/2610314/vladimir-melekh"}, "edited": false, "score": 0, "creation_date": 1476998790, "post_id": 34488074, "comment_id": 67598410, "body": "So is it enough to include es6-shim in index.html to get it&#39;s support in the application?"}], "owner": {"reputation": 2761, "user_id": 2301114, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/L37bx.jpg?s=128&g=1", "display_name": "AstrOne", "link": "https://stackoverflow.com/users/2301114/astrone"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 2108, "favorite_count": 0, "answer_count": 0, "score": 3, "last_activity_date": 1451280305, "creation_date": 1451280305, "question_id": 34488074, "link": "https://stackoverflow.com/questions/34488074/using-es6-shim-in-an-angular2-typescript-project", "title": "Using es6-shim in an Angular2/TypeScript project", "body": "<p>I want to use es6's Map for an Angular2/typescript project. I guess the way to achieve that is through the es6-shim library. However I am really confused on how I am supposed to do that. Here is what I have done so far:</p>\n\n<p>On my root index.html file I have this:</p>\n\n<pre><code>&lt;script src=\"../node_modules/es6-shim/es6-shim.js\"&gt;&lt;/script&gt;\n</code></pre>\n\n<p>The above works just fine because if I run my app now it will load with no problems.</p>\n\n<p>Then, in one of my typescript files I have this:</p>\n\n<pre><code>import * as shim from 'es6-shim/es6-shim.js';\n</code></pre>\n\n<p>If I do this I get an error when I try to run my application:</p>\n\n<pre><code>GET http://localhost:63342/gbkfitcloud_client/src/es6-shim/es6-shim 404 (Not Found)\n</code></pre>\n\n<p>Isn't this strange since I included es6-shim in my index.html?</p>\n\n<p>Now, if I just manually copy the es6-shim.js file in the above directory it works, I don't get any errors.</p>\n\n<p>Then, I try to create a Map object like this:</p>\n\n<pre><code>let foo = new shim.Map();\n</code></pre>\n\n<p>But I get the following error:</p>\n\n<pre><code>ORIGINAL EXCEPTION: TypeError: shim.Map is not a function\n</code></pre>\n\n<p>So, since I get these strange errors I assume that I am doing something totally wrong. Can someone help me please? </p>\n\n<p>Thank you!</p>\n"}, {"tags": ["angular", "typescript"], "comments": [{"owner": {"reputation": 25995, "user_id": 5152732, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-eL0xfQom3xQ/AAAAAAAAAAI/AAAAAAAAB1E/j1B2Mcgvt6M/photo.jpg?sz=128", "display_name": "toskv", "link": "https://stackoverflow.com/users/5152732/toskv"}, "edited": false, "score": 0, "creation_date": 1451305636, "post_id": 34487836, "comment_id": 56728653, "body": "I&#39;ve reproduced this, it seems to be a bug in angular2. I do not see any issues currently open about this on github. Maybe you should make one. :)"}, {"owner": {"reputation": 25995, "user_id": 5152732, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-eL0xfQom3xQ/AAAAAAAAAAI/AAAAAAAAB1E/j1B2Mcgvt6M/photo.jpg?sz=128", "display_name": "toskv", "link": "https://stackoverflow.com/users/5152732/toskv"}, "edited": false, "score": 0, "creation_date": 1451307765, "post_id": 34487836, "comment_id": 56729612, "body": "I made a smaller example here <a href=\"http://plnkr.co/edit/BEPEILzYtlOxLq7oTJl1?p=preview\" rel=\"nofollow noreferrer\">plnkr.co/edit/BEPEILzYtlOxLq7oTJl1?p=preview</a>"}, {"owner": {"reputation": 387, "user_id": 4917005, "user_type": "registered", "accept_rate": 38, "profile_image": "https://lh6.googleusercontent.com/-MT_gtbhhzTo/AAAAAAAAAAI/AAAAAAAAAGk/JKNBOWsGQpo/photo.jpg?sz=128", "display_name": "David Cater", "link": "https://stackoverflow.com/users/4917005/david-cater"}, "reply_to_user": {"reputation": 25995, "user_id": 5152732, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-eL0xfQom3xQ/AAAAAAAAAAI/AAAAAAAAB1E/j1B2Mcgvt6M/photo.jpg?sz=128", "display_name": "toskv", "link": "https://stackoverflow.com/users/5152732/toskv"}, "edited": false, "score": 0, "creation_date": 1451317050, "post_id": 34487836, "comment_id": 56734141, "body": "Are you sure it is a bug? The UI for the sample specifically indicates that changes to hero.name won&#39;t trigger a change, which implies to me that it is a design decision rather than a bug. Ie, deep changes to referenced objects aren&#39;t intended to be watched by default for performance reasons."}, {"owner": {"reputation": 25995, "user_id": 5152732, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-eL0xfQom3xQ/AAAAAAAAAAI/AAAAAAAAB1E/j1B2Mcgvt6M/photo.jpg?sz=128", "display_name": "toskv", "link": "https://stackoverflow.com/users/5152732/toskv"}, "edited": false, "score": 0, "creation_date": 1451324993, "post_id": 34487836, "comment_id": 56738022, "body": "This does seem intentional. Still the documentation does not actually say anything about objects not being received, only that it happens when the input changes. The documentation could be improved at least. :)"}, {"owner": {"reputation": 22783, "user_id": 1113772, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/uLSIj.png?s=128&g=1", "display_name": "Paul Sweatte", "link": "https://stackoverflow.com/users/1113772/paul-sweatte"}, "edited": false, "score": 0, "creation_date": 1465823571, "post_id": 34487836, "comment_id": 63047535, "body": "Possible duplicate of <a href=\"http://stackoverflow.com/questions/11357331/defining-getters-and-setters-in-javascript\">Defining getters and setters in javascript</a>"}], "owner": {"reputation": 387, "user_id": 4917005, "user_type": "registered", "accept_rate": 38, "profile_image": "https://lh6.googleusercontent.com/-MT_gtbhhzTo/AAAAAAAAAAI/AAAAAAAAAGk/JKNBOWsGQpo/photo.jpg?sz=128", "display_name": "David Cater", "link": "https://stackoverflow.com/users/4917005/david-cater"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1262, "favorite_count": 3, "answer_count": 0, "score": 3, "last_activity_date": 1577569675, "creation_date": 1451278233, "last_edit_date": 1577569675, "question_id": 34487836, "link": "https://stackoverflow.com/questions/34487836/angular-2-how-to-watch-for-changes-in-a-data-object-not-a-component", "title": "Angular 2: How to watch for changes in a data object (not a component)?", "body": "<p>The Angular 2 documentation talks about LifeCycle hooks like the ngOnChanges hook, which will let you watch for changes in a Component:</p>\n\n<p><a href=\"https://angular.io/docs/ts/latest/guide/lifecycle-hooks.html\" rel=\"nofollow noreferrer\">LifeCycle Hooks</a></p>\n\n<p>The Plunkr example that demonstrates how to use OnChanges specifically indicates that changes to properties of data objects referenced by the Component that implements OnChanges will not trigger a call to OnChanges:</p>\n\n<p><a href=\"https://angular.io/resources/live-examples/lifecycle-hooks/ts/plnkr.html\" rel=\"nofollow noreferrer\">Plunkr Example</a></p>\n\n<p>Here's a snippet of the Component in that example that implements OnChanges:</p>\n\n<pre><code>export class MyHeroComponent implements OnChanges {\n  @Input() hero: Hero;\n  @Input() power: string;\n</code></pre>\n\n<p>If you change hero.name, OnChanges won't be called.  If you change power, it will be called.</p>\n\n<p>So what is the recommended solution if you want to watch for changes to any property of an object like hero?  It sounds like you could do something with $scope.$watch in AngularJS 1.x, although I'm not sure if that is for watching individual properties or if you can watch an entire object.  But it looks like that probably isn't an option in Angular 2.0, with no $scope variable available.</p>\n\n<p>My goal here is to run code when any value in my data model changes.  This is for writing a generic framework that is used to display custom data entry screens with custom data objects, where the data entry screen can provide its own validation script, a script to indicate which screen to go to next, etc.  I want to call certain scripts when any property of the underlying data object changes, which means I can't put any sort of \"watches\" on every property of the data (since the generic framework won't know what those properties are).</p>\n\n<p>Note that I am new to both AngularJS 1.x and Angular 2.0, and I'm trying to wrap my head around them.  I gather there is a concept called Observable that may apply here, but I'm not entirely sure yet whether that has to do with incrementally retrieving results from (e.g.) a data service, or watching for changes to an object.  My apologies if I'm overlooking something obvious or not expressing myself clearly.  My background is .NET, so I'm trying to map my skillset there onto Angular concepts.</p>\n"}, {"tags": ["typescript", "sublimetext3", "sublimetext", "sublime-text-plugin"], "answers": [{"comments": [{"owner": {"reputation": 73, "user_id": 3081494, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/5ba9a46dce77f182a8f19151d9b2644e?s=128&d=identicon&r=PG&f=1", "display_name": "user244145", "link": "https://stackoverflow.com/users/3081494/user244145"}, "edited": false, "score": 0, "creation_date": 1451373229, "post_id": 34494029, "comment_id": 56754002, "body": "This worked -- the problem is that I can&#39;t copy paste into TypeScript files anymore. I&#39;m guessing this wiped out all the listeners and the copy paste functionality is somehow included in that."}, {"owner": {"reputation": 13587, "user_id": 1136887, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/8iu4z.jpg?s=128&g=1", "display_name": "James Hibbard", "link": "https://stackoverflow.com/users/1136887/james-hibbard"}, "reply_to_user": {"reputation": 73, "user_id": 3081494, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/5ba9a46dce77f182a8f19151d9b2644e?s=128&d=identicon&r=PG&f=1", "display_name": "user244145", "link": "https://stackoverflow.com/users/3081494/user244145"}, "edited": false, "score": 0, "creation_date": 1451456270, "post_id": 34494029, "comment_id": 56789520, "body": "Shame. You can still paste using right click &gt; paste though, right?"}], "tags": [], "owner": {"reputation": 13587, "user_id": 1136887, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/8iu4z.jpg?s=128&g=1", "display_name": "James Hibbard", "link": "https://stackoverflow.com/users/1136887/james-hibbard"}, "is_accepted": false, "score": 2, "last_activity_date": 1451307725, "creation_date": 1451307725, "answer_id": 34494029, "question_id": 34487294, "link": "https://stackoverflow.com/questions/34487294/how-to-disable-only-error-syntax-highlighting-in-sublime-text-3/34494029#34494029", "title": "How to disable only error syntax highlighting in Sublime Text 3?", "body": "<p>This is a hack, but it'll do what you want:</p>\n\n<ul>\n<li>Locate the folder for the TypeScript package. You can do this from within Sublime: Preferences > Browse Packages. On my system this folder is located at <code>/home/jack/.config/sublime-text-3/Packages/TypeScript</code></li>\n<li><p>From within the <code>TypeScript</code> folder open the <code>typescript</code> folder, then the then <code>listeners</code> folder.</p></li>\n<li><p>Rename the file <code>error_list.py</code> to <code>error_list_old.py</code></p></li>\n<li>Restart Sublime</li>\n</ul>\n\n<p>This will remove the red underline and the plugin's complaining about errors, but will also remove the entire Error List feature (so the plugin will no longer tell you what it thinks is wrong with your TypeScript code).</p>\n\n<p>If you just want to remove the red underline (but keep the rest) it'll probably be somewhere in that file.</p>\n"}, {"tags": [], "owner": {"reputation": 11, "user_id": 7072093, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/de9edf761d8789faf185c77c6031b932?s=128&d=identicon&r=PG&f=1", "display_name": "p-mcgowan", "link": "https://stackoverflow.com/users/7072093/p-mcgowan"}, "is_accepted": false, "score": 1, "last_activity_date": 1479152871, "creation_date": 1479152871, "answer_id": 40596690, "question_id": 34487294, "link": "https://stackoverflow.com/questions/34487294/how-to-disable-only-error-syntax-highlighting-in-sublime-text-3/40596690#40596690", "title": "How to disable only error syntax highlighting in Sublime Text 3?", "body": "<p>Temp solution: comment lines 26 - 29 (inclusive) in <code>.../Packges/TypeScript/typescript/commands/error_info.py</code> and restart sublime. If you are experiencing this with build errors you may also want to disable inline errors in sublime settings <code>\"show_errors_inline\": false,</code></p>\n\n<pre><code>...\nif len(error_text) &gt; 0:\n  # if PHANTOM_SUPPORT:\n  #       template = '&lt;body&gt;&lt;style&gt;div.error {{ background-color: brown; padding: 5px; color: white }}&lt;/style&gt;&lt;div class=\"error\"&gt;{0}&lt;/div&gt;&lt;/body&gt;'\n  #       display_text = template.format(error_text)\n  #       self.view.add_phantom(\"typescript_error\", self.view.sel()[0], display_text, sublime.LAYOUT_BLOCK)\n  self.view.set_status(\"typescript_error\", error_text)\n</code></pre>\n\n<p><a href=\"https://github.com/Microsoft/TypeScript-Sublime-Plugin/issues/556#issuecomment-260439591\" rel=\"nofollow noreferrer\">https://github.com/Microsoft/TypeScript-Sublime-Plugin/issues/556#issuecomment-260439591</a></p>\n\n<p>Note: this disables the large red block but leaves red underlines. Comment the whole file if you do not want those either.</p>\n"}], "owner": {"reputation": 73, "user_id": 3081494, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/5ba9a46dce77f182a8f19151d9b2644e?s=128&d=identicon&r=PG&f=1", "display_name": "user244145", "link": "https://stackoverflow.com/users/3081494/user244145"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1734, "favorite_count": 1, "answer_count": 2, "score": 1, "last_activity_date": 1479152871, "creation_date": 1451272874, "last_edit_date": 1451441987, "question_id": 34487294, "link": "https://stackoverflow.com/questions/34487294/how-to-disable-only-error-syntax-highlighting-in-sublime-text-3", "title": "How to disable only error syntax highlighting in Sublime Text 3?", "body": "<p>I've installed the TypeScript package for Sublime Text 3. I want it to still color code syntax, but not red underline and complain about errors. I can't seem to find anything in preferences that would do this for me. How would I do this?</p>\n"}, {"tags": ["typescript"], "answers": [{"comments": [{"owner": {"reputation": 3542, "user_id": 2984585, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/d8b299670c2e1512831e7d2026a8d350?s=128&d=identicon&r=PG", "display_name": "ditoslav", "link": "https://stackoverflow.com/users/2984585/ditoslav"}, "edited": false, "score": 0, "creation_date": 1451294964, "post_id": 34490739, "comment_id": 56723402, "body": "Would this be considered bad practice?"}, {"owner": {"reputation": 5987, "user_id": 1827926, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/96047c49031b412c397e5b4891d61c78?s=128&d=identicon&r=PG", "display_name": "Nypan", "link": "https://stackoverflow.com/users/1827926/nypan"}, "reply_to_user": {"reputation": 3542, "user_id": 2984585, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/d8b299670c2e1512831e7d2026a8d350?s=128&d=identicon&r=PG", "display_name": "ditoslav", "link": "https://stackoverflow.com/users/2984585/ditoslav"}, "edited": false, "score": 0, "creation_date": 1451310275, "post_id": 34490739, "comment_id": 56730765, "body": "Well it just would not work in any usable way. No code completion etc."}, {"owner": {"reputation": 3542, "user_id": 2984585, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/d8b299670c2e1512831e7d2026a8d350?s=128&d=identicon&r=PG", "display_name": "ditoslav", "link": "https://stackoverflow.com/users/2984585/ditoslav"}, "edited": false, "score": 0, "creation_date": 1451310932, "post_id": 34490739, "comment_id": 56731076, "body": "Since this would have to be implemented as syntactic sugar, doesn&#39;t it really depend just on whether the analyzer recognizes this as declaration? I mean, if you want this in code completion you could just tell the IDE to include it..."}], "tags": [], "owner": {"reputation": 5987, "user_id": 1827926, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/96047c49031b412c397e5b4891d61c78?s=128&d=identicon&r=PG", "display_name": "Nypan", "link": "https://stackoverflow.com/users/1827926/nypan"}, "is_accepted": true, "score": 1, "last_activity_date": 1451294323, "creation_date": 1451294323, "answer_id": 34490739, "question_id": 34486330, "link": "https://stackoverflow.com/questions/34486330/is-it-possible-to-import-classes-specified-by-string-in-typescript/34490739#34490739", "title": "Is it possible to import classes specified by string in typescript?", "body": "<p>No this is not possible I am afraid. It would be possible to do it in a way that would make it work in the transpiled javascript. But it is not possible to get it to work with the typescript compiler. </p>\n"}], "owner": {"reputation": 3542, "user_id": 2984585, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/d8b299670c2e1512831e7d2026a8d350?s=128&d=identicon&r=PG", "display_name": "ditoslav", "link": "https://stackoverflow.com/users/2984585/ditoslav"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 27, "favorite_count": 0, "accepted_answer_id": 34490739, "answer_count": 1, "score": 1, "last_activity_date": 1451294323, "creation_date": 1451262590, "question_id": 34486330, "link": "https://stackoverflow.com/questions/34486330/is-it-possible-to-import-classes-specified-by-string-in-typescript", "title": "Is it possible to import classes specified by string in typescript?", "body": "<p>So I have</p>\n\n<pre><code>import { AccountData } from '../settings/AccountData/AccountData';\nimport { AccountDelete } from '../settings/AccountDelete/AccountDelete';\nimport { AccountLogin } from '../settings/AccountLogin/AccountLogin';\nimport { AccountPassword } from '../settings/AccountPassword/AccountPassword';\nimport { AddTrack } from '../settings/AddTrack/AddTrack';\n\nimport { EditUser } from '../settings/EditUser/EditUser';\nimport { MakePlaylist } from '../settings/MakePlaylist/MakePlaylist';\nimport { MakeWishlist } from '../settings/MakeWishlist/MakeWishlist';\nimport { ManageAdmins } from '../settings/ManageAdmins/ManageAdmins';\nimport { ManageEditors } from '../settings/ManageEditors/ManageEditors';\nimport { ManageRadiostation } from '../settings/ManageRadiostation/ManageRadiostation';\nimport { ManageTracks } from '../settings/ManageTracks/ManageTracks';\nimport { ManageUsers } from '../settings/ManageUsers/ManageUsers';\n</code></pre>\n\n<p>and later I have</p>\n\n<pre><code>@RouteConfig([\n    { path: '/', redirectTo: ['AccountData']},\n    { path: 'AccountData', name: 'AccountData', component: AccountData },\n    { path: 'AccountDelete', name: 'AccountDelete', component: AccountDelete },\n    { path: 'AccountLogin', name: 'AccountLogin', component: AccountLogin },\n    { path: 'AccountPassword', name: 'AccountPassword', component: AccountPassword },\n    { path: 'AddTrack', name: 'AddTrack', component: AddTrack },\n\n    { path: 'EditUser', name: 'EditUser', component: EditUser },\n    { path: 'MakePlaylist', name: 'MakePlaylist', component: MakePlaylist },\n    { path: 'MakeWishlist', name: 'MakeWishlist', component: MakeWishlist },\n    { path: 'ManageAdmins', name: 'ManageAdmins', component: ManageAdmins },\n    { path: 'ManageEditors', name: 'ManageEditors', component: ManageEditors },\n    { path: 'ManageRadiostation', name: 'ManageRadiostation', component: ManageRadiostation },\n    { path: 'ManageTracks', name: 'ManageTracks', component: ManageTracks },\n    { path: 'ManageUsers', name: 'ManageUsers', component: ManageUsers }\n])\nclass A ...\n</code></pre>\n\n<p>I also have to change this now and then when adding some stuff.\nWould it be possible to somehow create and array of the components like</p>\n\n<pre><code>var components = ['AccountData', ...]\nvar routes = components.map((comp) =&gt; { import comp from '../settings/' + comp + '/' + comp; return new Route(comp, comp, comp); }\n\n@RouteConfig(routes)\nclass A ....\n</code></pre>\n\n<p>?</p>\n"}, {"tags": ["debugging", "typescript", "angular", "visual-studio-code"], "comments": [{"owner": {"reputation": 6245, "user_id": 4911384, "user_type": "registered", "accept_rate": 50, "profile_image": "https://lh6.googleusercontent.com/-pRKkwUEJZws/AAAAAAAAAAI/AAAAAAAAA-A/VAn5zKHtzzQ/photo.jpg?sz=128", "display_name": "Vlado Tesanovic", "link": "https://stackoverflow.com/users/4911384/vlado-tesanovic"}, "edited": false, "score": 0, "creation_date": 1451289237, "post_id": 34486182, "comment_id": 56721199, "body": "Is node_modules/systemjs/dist/system.src.js valid location with file? Did you install it with npm package manager?"}, {"owner": {"reputation": 8836, "user_id": 2535344, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/RdyRt.jpg?s=128&g=1", "display_name": "Levi Fuller", "link": "https://stackoverflow.com/users/2535344/levi-fuller"}, "reply_to_user": {"reputation": 6245, "user_id": 4911384, "user_type": "registered", "accept_rate": 50, "profile_image": "https://lh6.googleusercontent.com/-pRKkwUEJZws/AAAAAAAAAAI/AAAAAAAAA-A/VAn5zKHtzzQ/photo.jpg?sz=128", "display_name": "Vlado Tesanovic", "link": "https://stackoverflow.com/users/4911384/vlado-tesanovic"}, "edited": false, "score": 0, "creation_date": 1451332305, "post_id": 34486182, "comment_id": 56741114, "body": "Yes, I did install via npm. The application runs fine via <code>npm start</code> and the error is only encountered while trying to Launch via &quot;debug mode&quot;."}, {"owner": {"reputation": 2836, "user_id": 1175623, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kbsVM.jpg?s=128&g=1", "display_name": "Narottam Goyal", "link": "https://stackoverflow.com/users/1175623/narottam-goyal"}, "edited": false, "score": 0, "creation_date": 1493132519, "post_id": 34486182, "comment_id": 74277601, "body": "Possible duplicate of <a href=\"http://stackoverflow.com/questions/36494938/debug-run-angular2-typescript-with-visual-studio-code\">Debug &amp; Run Angular2 Typescript with Visual Studio Code?</a>"}], "answers": [{"comments": [{"owner": {"reputation": 8836, "user_id": 2535344, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/RdyRt.jpg?s=128&g=1", "display_name": "Levi Fuller", "link": "https://stackoverflow.com/users/2535344/levi-fuller"}, "edited": false, "score": 2, "creation_date": 1453064020, "post_id": 34824543, "comment_id": 57427706, "body": "That changes nothing."}], "tags": [], "owner": {"reputation": 4018, "user_id": 4935452, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/740beec4e62c85c0d00c00bfe418c664?s=128&d=identicon&r=PG&f=1", "display_name": "Jaime", "link": "https://stackoverflow.com/users/4935452/jaime"}, "is_accepted": false, "score": -4, "last_activity_date": 1452928616, "creation_date": 1452928616, "answer_id": 34824543, "question_id": 34486182, "link": "https://stackoverflow.com/questions/34486182/how-to-debug-an-angular2-typescript-application-in-visual-studio-code/34824543#34824543", "title": "How to debug an Angular2 TypeScript application in Visual Studio Code?", "body": "<p>In tsconfig.json, you should be using CommonJS configuration:</p>\n\n<p>\"module\": \"commonjs\",</p>\n"}, {"comments": [{"owner": {"reputation": 8836, "user_id": 2535344, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/RdyRt.jpg?s=128&g=1", "display_name": "Levi Fuller", "link": "https://stackoverflow.com/users/2535344/levi-fuller"}, "edited": false, "score": 0, "creation_date": 1460337331, "post_id": 36535926, "comment_id": 60679152, "body": "It works... kind of. There are still some breakpoints which can&#39;t be hit for some reason (Screenshot: <a href=\"http://snag.gy/Hq6gC.jpg\" rel=\"nofollow noreferrer\">snag.gy/Hq6gC.jpg</a>), and if you have a different <code>outDir</code> specified, it will only debug the js files. Any idea how I would fix this?"}, {"owner": {"reputation": 584, "user_id": 293072, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/FPGYg.jpg?s=128&g=1", "display_name": "Rares Musina", "link": "https://stackoverflow.com/users/293072/rares-musina"}, "reply_to_user": {"reputation": 8836, "user_id": 2535344, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/RdyRt.jpg?s=128&g=1", "display_name": "Levi Fuller", "link": "https://stackoverflow.com/users/2535344/levi-fuller"}, "edited": false, "score": 0, "creation_date": 1460363094, "post_id": 36535926, "comment_id": 60688008, "body": "You can specify a different outDIr in the launch.json file ({ configurations: { ... &quot;outDir&quot;: &quot;bin&quot; } }). I am not sure yet about the breakpoints not being hit. I also saw it from time to time. I will have a look tonight, as I have 2 hunches - one is related to chrome caching js files, the other to my def server config. Will return with details. Meanwhile, you might want to have a look at <a href=\"https://github.com/Microsoft/vscode-chrome-debug/issues/42\" rel=\"nofollow noreferrer\">github.com/Microsoft/vscode-chrome-debug/issues/42</a>, where they seem to be troubleshooting a use-case similar to ours."}, {"owner": {"reputation": 8836, "user_id": 2535344, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/RdyRt.jpg?s=128&g=1", "display_name": "Levi Fuller", "link": "https://stackoverflow.com/users/2535344/levi-fuller"}, "edited": false, "score": 0, "creation_date": 1460470580, "post_id": 36535926, "comment_id": 60750696, "body": "Cool, I&#39;ll try specifying the outDir in the launch.json. Let me know if you figure anything out for the breakpoints not being hit."}, {"owner": {"reputation": 584, "user_id": 293072, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/FPGYg.jpg?s=128&g=1", "display_name": "Rares Musina", "link": "https://stackoverflow.com/users/293072/rares-musina"}, "reply_to_user": {"reputation": 8836, "user_id": 2535344, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/RdyRt.jpg?s=128&g=1", "display_name": "Levi Fuller", "link": "https://stackoverflow.com/users/2535344/levi-fuller"}, "edited": false, "score": 0, "creation_date": 1460491539, "post_id": 36535926, "comment_id": 60764969, "body": "I&#39;ve done some more poking around, and I have some more info. First of all, for the outDIr problem. I also set a custom outDir (bin), and now my project looks like this:  /root/bin/[comp.js, comp.map.js]  /root/app/[comp.ts]  /root/index.html  In the tsconfig, I just specified &quot;outDir&quot;: &quot;bin&quot; and in the index.html, I mad sure to load the js from the bin directory using System.import. No changes needed to the launch.config (sorry to have misguided you before, suggesting outDir in that file). If you have a different setup, you might want to play around with the webroot property."}, {"owner": {"reputation": 584, "user_id": 293072, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/FPGYg.jpg?s=128&g=1", "display_name": "Rares Musina", "link": "https://stackoverflow.com/users/293072/rares-musina"}, "reply_to_user": {"reputation": 8836, "user_id": 2535344, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/RdyRt.jpg?s=128&g=1", "display_name": "Levi Fuller", "link": "https://stackoverflow.com/users/2535344/levi-fuller"}, "edited": false, "score": 0, "creation_date": 1460491848, "post_id": 36535926, "comment_id": 60765160, "body": "As for the &#39;jumping&#39; breakpoints, it seems to be a bug in the <a href=\"https://github.com/Microsoft/vscode-chrome-debug/issues/48\" rel=\"nofollow noreferrer\">vscode-chrome-debug</a> extension, which was potentially fixed 3 days ago, and it doesn&#39;t seem to have been released yet. I&#39;ll try to install the dev version and see if it really fixes the issue."}, {"owner": {"reputation": 8836, "user_id": 2535344, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/RdyRt.jpg?s=128&g=1", "display_name": "Levi Fuller", "link": "https://stackoverflow.com/users/2535344/levi-fuller"}, "edited": false, "score": 0, "creation_date": 1462201711, "post_id": 36535926, "comment_id": 61525880, "body": "It seems they have deleted the Tour of Heroes sample from the repository? Perhaps since they were still encountering the &#39;jumping breakpoints&#39; issue?"}, {"owner": {"reputation": 8836, "user_id": 2535344, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/RdyRt.jpg?s=128&g=1", "display_name": "Levi Fuller", "link": "https://stackoverflow.com/users/2535344/levi-fuller"}, "edited": false, "score": 0, "creation_date": 1501129938, "post_id": 36535926, "comment_id": 77644393, "body": "Just tested this with latest Chrome Debugger extension and VS Code using an Angular-CLI generated project. Works like a charm."}], "tags": [], "owner": {"reputation": 584, "user_id": 293072, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/FPGYg.jpg?s=128&g=1", "display_name": "Rares Musina", "link": "https://stackoverflow.com/users/293072/rares-musina"}, "is_accepted": true, "score": 3, "last_activity_date": 1460492681, "last_edit_date": 1460492681, "creation_date": 1460325011, "answer_id": 36535926, "question_id": 34486182, "link": "https://stackoverflow.com/questions/34486182/how-to-debug-an-angular2-typescript-application-in-visual-studio-code/36535926#36535926", "title": "How to debug an Angular2 TypeScript application in Visual Studio Code?", "body": "<p>I managed to make this work using the <a href=\"https://blogs.msdn.microsoft.com/cdndevs/2015/12/21/visual-studio-code-debugger-for-chrome-extension/\" rel=\"nofollow\">debugger-for-chrome extension</a> for vs code. Just follow the installation instructions mentioned there, and create a launch.json file similar to this one: </p>\n\n<pre><code>{\n\"version\": \"0.2.0\",\n\"configurations\": [\n    {\n        \"name\": \"Launch localhost with sourcemaps\",\n        \"type\": \"chrome\",\n        \"request\": \"launch\",\n        \"url\": \"http://localhost:3000\",\n        \"sourceMaps\": true,\n        \"webRoot\": \"${workspaceRoot}\"\n    }\n]}\n</code></pre>\n\n<p>Also make sure that you have sourceMap set to true in your tsconfig.json. Mine looks like this:</p>\n\n<pre><code>{\n\"compilerOptions\": {\n    \"target\": \"es5\",\n    \"module\": \"system\",\n    \"moduleResolution\": \"node\",\n    \"sourceMap\": true,\n    \"emitDecoratorMetadata\": true,\n    \"experimentalDecorators\": true,\n    \"removeComments\": false,\n    \"noImplicitAny\": false,\n    \"watch\": true\n},\n\"exclude\": [\n    \"node_modules\",\n    \"typings/main\",\n    \"typings/main.d.ts\"\n]}\n</code></pre>\n\n<p>I've tested it with the angular2 <a href=\"https://github.com/johnpapa/angular2-tour-of-heroes\" rel=\"nofollow\">tour-of-heroes</a> quickstart example (typescript version) and it works fine. Just make sure to run </p>\n\n<pre><code>npm start\n</code></pre>\n\n<p>before you run the vs debugger in chrome, so you have someone to serve the index page. </p>\n\n<p><strong>EDIT 1:</strong> The author of the extension has also added the tour-of-heroes app as a working example in his <a href=\"https://github.com/Microsoft/vscode-chrome-debug/tree/master/examples/angular2-tour-of-heroes\" rel=\"nofollow\">repository</a>.</p>\n"}], "owner": {"reputation": 8836, "user_id": 2535344, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/RdyRt.jpg?s=128&g=1", "display_name": "Levi Fuller", "link": "https://stackoverflow.com/users/2535344/levi-fuller"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 7707, "favorite_count": 4, "accepted_answer_id": 36535926, "answer_count": 2, "score": 12, "last_activity_date": 1460492681, "creation_date": 1451260998, "last_edit_date": 1451272835, "question_id": 34486182, "link": "https://stackoverflow.com/questions/34486182/how-to-debug-an-angular2-typescript-application-in-visual-studio-code", "title": "How to debug an Angular2 TypeScript application in Visual Studio Code?", "body": "<p>How do you successfully configure and debug an Angular2 TypeScript application in Visual Studio Code?</p>\n\n<p>I have tried importing the <code>es6-shim</code> and <code>reflect-metadata</code> as well with no success. The relevant code is below. Please let me know if you require further details.</p>\n\n<p>Note: I am using Angular2 Beta.</p>\n\n<p><strong>ERROR MESSAGE</strong></p>\n\n<pre><code>Debugger listening on port 24565\nc:\\Users\\LeviF\\OneDrive\\Source Code\\Github\\SimpleMarket\\app\\bin\\boot.js:1\nSystem.register(['angular2/platform/browser', './app.component'], function(exports_1) {\n^\n\nReferenceError: System is not defined\n    at Object.&lt;anonymous&gt; (c:\\Users\\LeviF\\OneDrive\\Source Code\\Github\\SimpleMarket\\app\\bin\\boot.js:1:1)\n    at Module._compile (module.js:399:26)\n    at Object.Module._extensions..js (module.js:406:10)\n    at Module.load (module.js:345:32)\n    at Function.Module._load (module.js:302:12)\n    at Module.runMain [as _onTimeout] (module.js:431:10)\n    at Timer.listOnTimeout (timers.js:93:15)\n</code></pre>\n\n<p><strong>index.html</strong></p>\n\n<pre><code>&lt;html&gt;\n\n  &lt;head&gt;\n    &lt;title&gt;Angular 2 QuickStart&lt;/title&gt;\n\n    &lt;!-- 1. Load libraries --&gt;\n\n    &lt;script src=\"node_modules/angular2/bundles/angular2-polyfills.js\"&gt;&lt;/script&gt;\n    &lt;script src=\"node_modules/es6-shim/es6-shim.js\"&gt;&lt;/script&gt;\n    &lt;script src=\"node_modules/systemjs/dist/system.src.js\"&gt;&lt;/script&gt;\n    &lt;script src=\"node_modules/rxjs/bundles/Rx.js\"&gt;&lt;/script&gt;\n    &lt;script src=\"node_modules/angular2/bundles/angular2.dev.js\"&gt;&lt;/script&gt;\n\n    &lt;!-- 2. Configure SystemJS --&gt;\n    &lt;script&gt;\n      System.config({\n        packages: {        \n          app: {\n            format: 'register',\n            defaultExtension: 'js'\n          }\n        }\n      });\n      System.import('app/bin/boot')\n            .then(null, console.error.bind(console));\n    &lt;/script&gt;\n    &lt;script&gt;\n\n    &lt;/script&gt;\n\n  &lt;/head&gt;\n\n  &lt;!-- 3. Display the application --&gt;\n  &lt;body&gt;\n    &lt;my-app&gt;Loading...&lt;/my-app&gt;\n  &lt;/body&gt;\n\n&lt;/html&gt;\n</code></pre>\n\n<p><strong>boot.ts</strong></p>\n\n<pre><code>//import 'reflect-metadata';\n// import 'es6-shim';\nimport {bootstrap}    from 'angular2/platform/browser';\nimport {AppComponent} from './app.component';\n\n// This loads our AppComponent as the ROOT Component (The app entry point)\nbootstrap(AppComponent);\n</code></pre>\n\n<p><strong>app.component.ts</strong></p>\n\n<pre><code>import {Component} from 'angular2/core';\nimport {StockComponent} from './stock/stock.component';\n\n@Component({\n    selector: 'my-app',\n    templateUrl: 'app/src/app.view.html',\n    directives: [StockComponent]\n})\nexport class AppComponent{\n    public name: string;\n\n    getStock(){\n        this.name = \"hello\";\n        console.log('trying');\n    }\n}\n</code></pre>\n\n<p><strong>Launch.json</strong></p>\n\n<pre><code>{\"version\": \"0.2.0\",\n    \"configurations\": [\n        {\n            \"name\": \"Launch type\",\n            \"type\": \"node\",\n            \"program\": \"app/src/boot.ts\",\n            \"stopOnEntry\": true,\n            \"sourceMaps\": true,\n            \"outDir\": \"app/bin\"\n        },\n        {\n            \"name\": \"Attach\",\n            \"type\": \"node\",\n            \"request\": \"attach\",\n            \"port\": 3000\n        }\n    ]\n}\n</code></pre>\n"}, {"tags": ["javascript", "css", "typescript", "ecmascript-6", "angular"], "comments": [{"owner": {"reputation": 347451, "user_id": 215945, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/203qt.png?s=128&g=1", "display_name": "Mark Rajcok", "link": "https://stackoverflow.com/users/215945/mark-rajcok"}, "edited": false, "score": 2, "creation_date": 1451343073, "post_id": 34486007, "comment_id": 56745683, "body": "Wild guess:  is ngOnInit() too early in the <a href=\"https://angular.io/docs/ts/latest/guide/lifecycle-hooks.html\" rel=\"nofollow noreferrer\">component lifecycle</a>?  Does ngAfterContentInit() or ngAfterViewInit() work instead?"}, {"owner": {"reputation": 11964, "user_id": 1066899, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/093623a2cb341330217f2a4f38a69cc2?s=128&d=identicon&r=PG", "display_name": "the_critic", "link": "https://stackoverflow.com/users/1066899/the-critic"}, "reply_to_user": {"reputation": 347451, "user_id": 215945, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/203qt.png?s=128&g=1", "display_name": "Mark Rajcok", "link": "https://stackoverflow.com/users/215945/mark-rajcok"}, "edited": false, "score": 2, "creation_date": 1451352334, "post_id": 34486007, "comment_id": 56748308, "body": "@MarkRajcok Appreciate your input, but unfortunately it does not affect the component regardless of where I put it."}, {"owner": {"reputation": 24880, "user_id": 99256, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/HfmF9.png?s=128&g=1", "display_name": "Martin Vseticka", "link": "https://stackoverflow.com/users/99256/martin-vseticka"}, "edited": false, "score": 0, "creation_date": 1451917186, "post_id": 34486007, "comment_id": 56931469, "body": "Another wild guess: What happens when you add <code>implements OnInit</code> (i.e. <code>class ChildComponent implements OnInit { ... }</code>). At least, that&#39;s what I understand from the doc: <a href=\"https://angular.io/docs/js/latest/api/core/OnInit-interface.html\" rel=\"nofollow noreferrer\">angular.io/docs/js/latest/api/core/OnInit-interface.html</a>"}, {"owner": {"reputation": 11964, "user_id": 1066899, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/093623a2cb341330217f2a4f38a69cc2?s=128&d=identicon&r=PG", "display_name": "the_critic", "link": "https://stackoverflow.com/users/1066899/the-critic"}, "reply_to_user": {"reputation": 24880, "user_id": 99256, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/HfmF9.png?s=128&g=1", "display_name": "Martin Vseticka", "link": "https://stackoverflow.com/users/99256/martin-vseticka"}, "edited": false, "score": 1, "creation_date": 1451917652, "post_id": 34486007, "comment_id": 56931774, "body": "@MartinVseticka Yes! That&#39;s it! Please post an answer so that I can reward you good Sir!"}, {"owner": {"reputation": 24880, "user_id": 99256, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/HfmF9.png?s=128&g=1", "display_name": "Martin Vseticka", "link": "https://stackoverflow.com/users/99256/martin-vseticka"}, "edited": false, "score": 0, "creation_date": 1451917984, "post_id": 34486007, "comment_id": 56932013, "body": "I posted it as an answer. I&#39;m glad it helped. :)"}, {"owner": {"reputation": 704, "user_id": 1171289, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/274051212496adc6a9478968e022c808?s=128&d=identicon&r=PG", "display_name": "A Macdonald", "link": "https://stackoverflow.com/users/1171289/a-macdonald"}, "edited": false, "score": 0, "creation_date": 1452081529, "post_id": 34486007, "comment_id": 57010126, "body": "can you inject css with predefined animation styles and then add the class to the element - that might get around the problem of adding animation styles on the fly?"}, {"owner": {"reputation": 5253, "user_id": 3945392, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/1374a9ce2b9be9163fa50420a83eb2b7?s=128&d=identicon&r=PG", "display_name": "Langley", "link": "https://stackoverflow.com/users/3945392/langley"}, "edited": false, "score": 0, "creation_date": 1452293100, "post_id": 34486007, "comment_id": 57121355, "body": "Let me see if I understand correctly, all you want to do is set the class <code>-webkit-animation-delay</code> with a different value on each child?"}, {"owner": {"reputation": 11964, "user_id": 1066899, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/093623a2cb341330217f2a4f38a69cc2?s=128&d=identicon&r=PG", "display_name": "the_critic", "link": "https://stackoverflow.com/users/1066899/the-critic"}, "reply_to_user": {"reputation": 5253, "user_id": 3945392, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/1374a9ce2b9be9163fa50420a83eb2b7?s=128&d=identicon&r=PG", "display_name": "Langley", "link": "https://stackoverflow.com/users/3945392/langley"}, "edited": false, "score": 0, "creation_date": 1452293152, "post_id": 34486007, "comment_id": 57121378, "body": "@Langley That is correct, yes."}, {"owner": {"reputation": 5253, "user_id": 3945392, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/1374a9ce2b9be9163fa50420a83eb2b7?s=128&d=identicon&r=PG", "display_name": "Langley", "link": "https://stackoverflow.com/users/3945392/langley"}, "edited": false, "score": 0, "creation_date": 1452293207, "post_id": 34486007, "comment_id": 57121400, "body": "why don&#39;t you do it using a template?"}], "answers": [{"comments": [{"owner": {"reputation": 715, "user_id": 7471307, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/77a6abcc7fb68ab5466ddf4d8c79afaa?s=128&d=identicon&r=PG&f=1", "display_name": "Artanis Zeratul", "link": "https://stackoverflow.com/users/7471307/artanis-zeratul"}, "edited": false, "score": 0, "creation_date": 1531993563, "post_id": 34593641, "comment_id": 89809641, "body": "question, how do you do it the other way around? getting a style of an elementref. e.g. zindex? thanks."}], "tags": [], "owner": {"reputation": 181833, "user_id": 1873365, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/45TMV.png?s=128&g=1", "display_name": "Thierry Templier", "link": "https://stackoverflow.com/users/1873365/thierry-templier"}, "is_accepted": false, "score": 1, "last_activity_date": 1451923836, "last_edit_date": 1495535452, "creation_date": 1451918651, "answer_id": 34593641, "question_id": 34486007, "link": "https://stackoverflow.com/questions/34486007/modify-component-with-renderer-and-elementref/34593641#34593641", "title": "Modify component with Renderer and ElementRef", "body": "<p>I tried to reproduce your problem. In fact, I have problem to add styles like <code>-webkit-animation-delay</code> and <code>animation-delay</code>.</p>\n\n<p>If I try with another style like <code>color</code>, it works fine and the style is taken into account at runtime.</p>\n\n<pre><code>ngOnInit() {\n    this._renderer.setElementStyle(this._el, 'color', 'yellow');\n}\n</code></pre>\n\n<p>So it seems to be linked to animation styles... I see these links that could interest you:</p>\n\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/8742249/how-to-set-css3-transition-using-javascript\">How to set CSS3 transition using javascript?</a></li>\n<li><a href=\"http://www.javascriptkit.com/javatutors/setcss3properties.shtml\" rel=\"nofollow noreferrer\">http://www.javascriptkit.com/javatutors/setcss3properties.shtml</a></li>\n</ul>\n\n<p>Otherwise it seems that there is some support for animation in Angular2 but it's not really documented... See this file: <a href=\"https://github.com/angular/angular/blob/master/modules/angular2/src/animate/animation.ts\" rel=\"nofollow noreferrer\">https://github.com/angular/angular/blob/master/modules/angular2/src/animate/animation.ts</a>.</p>\n\n<p>Hope it helps you,\nThierry</p>\n"}, {"tags": [], "owner": {"reputation": 57430, "user_id": 3106920, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pO5sC.jpg?s=128&g=1", "display_name": "Poul Kruijt", "link": "https://stackoverflow.com/users/3106920/poul-kruijt"}, "is_accepted": false, "score": 0, "last_activity_date": 1452429063, "last_edit_date": 1452429063, "creation_date": 1452292512, "answer_id": 34687245, "question_id": 34486007, "link": "https://stackoverflow.com/questions/34486007/modify-component-with-renderer-and-elementref/34687245#34687245", "title": "Modify component with Renderer and ElementRef", "body": "<p>This seems to be a bug in angular2 itself. Adding <code>!important</code> to a style will result in an illegal value to the style and it is not applied to the element. The correct way in plain js is to use another parameter which implies if the style is important.</p>\n\n<p>So the correct answer is to use:</p>\n\n<pre><code>this._renderer.setElementStyle(this._el, 'animation-delay', delay + 's'); //sans !important\n</code></pre>\n\n<p>and if you want to add <code>!important</code> you have to use:</p>\n\n<pre><code>this._el.nativeElement.style.setProperty('animation-delay', delay + 's', 'important');\n</code></pre>\n\n<p>The <code>-webkit-</code> prefix gets added (or removed) if necessary, so there is no need to add that as well</p>\n"}, {"comments": [{"owner": {"reputation": 11964, "user_id": 1066899, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/093623a2cb341330217f2a4f38a69cc2?s=128&d=identicon&r=PG", "display_name": "the_critic", "link": "https://stackoverflow.com/users/1066899/the-critic"}, "edited": false, "score": 0, "creation_date": 1452334266, "post_id": 34687698, "comment_id": 57130425, "body": "I think you do have a valid point right there, but I would love to keep this more dynamic that&#39;s why I probably won&#39;t pick/use your answer (but I might...)."}], "tags": [], "owner": {"reputation": 5253, "user_id": 3945392, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/1374a9ce2b9be9163fa50420a83eb2b7?s=128&d=identicon&r=PG", "display_name": "Langley", "link": "https://stackoverflow.com/users/3945392/langley"}, "is_accepted": false, "score": 0, "last_activity_date": 1452454160, "last_edit_date": 1452454160, "creation_date": 1452295196, "answer_id": 34687698, "question_id": 34486007, "link": "https://stackoverflow.com/questions/34486007/modify-component-with-renderer-and-elementref/34687698#34687698", "title": "Modify component with Renderer and ElementRef", "body": "<p>From here:</p>\n\n<p><a href=\"https://angular.io/docs/ts/latest/api/core/ElementRef-class.html\" rel=\"nofollow\">https://angular.io/docs/ts/latest/api/core/ElementRef-class.html</a></p>\n\n<p>You should only use ElementRef as an absolute last resource. The whole idea of Angular 2 is that you don't have to mess with the dom at all. What you are trying to do can be acomplished very easy using a template:</p>\n\n<pre><code>import {NgStyle} from 'angular2/common';\nimport {Component} from \"angular2/core\";\n\n@Component({\n    selector: 'app',\n    template: `\n        &lt;div *ngFor=\"#child of children; #i = index\"&gt;\n            &lt;div [ngStyle]=\"{ 'z-index': i * multiplier,\n                                '-webkit-animation-delay': i * multiplier + 's',\n                                 'animation-delay': i * multiplier + 's' }\"&gt; {{i}} - {{child}} &lt;/div&gt;\n        &lt;/div&gt;\n    `,\n    directives: [NgStyle]\n})\nexport class AppComponent{\n    public children:string[] = [ \"Larry\", \"Moe\", \"Curly\" ];\n    public multiplier:number = 2;\n}\n</code></pre>\n\n<p>Depending on the browser you might see those css properties or not, that's why I added the z-index which is more common and old so you can see you can render the css value dynamically using the index variable from ngFor inside a template.</p>\n\n<p>I hope this helps !</p>\n"}], "owner": {"reputation": 11964, "user_id": 1066899, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/093623a2cb341330217f2a4f38a69cc2?s=128&d=identicon&r=PG", "display_name": "the_critic", "link": "https://stackoverflow.com/users/1066899/the-critic"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1968, "favorite_count": 0, "answer_count": 3, "score": 4, "last_activity_date": 1452454160, "creation_date": 1451259138, "question_id": 34486007, "link": "https://stackoverflow.com/questions/34486007/modify-component-with-renderer-and-elementref", "title": "Modify component with Renderer and ElementRef", "body": "<h1> 1 ISSUE </h1>\n\n<hr>\n\n<p>I am trying to implement the following: </p>\n\n<p>I have a container component <code>ContainerComponent</code> and child components <code>ChildComponent</code>. I want to modify the rendering and overall behaviour of the child components via the controlling <code>ContainerComponent</code>.</p>\n\n<hr>\n\n<h1> 2 TECHNOLOGIES USED </h1>\n\n<hr>\n\n<p><code>Angular2</code>, <code>HTML</code>, <code>CSS</code>, <code>Javascript</code>, <code>Typescript</code>, <code>ES6</code></p>\n\n<hr>\n\n<h1> 3 CODE </h1>\n\n<hr>\n\n<p><strong>ContainerComponent.ts</strong></p>\n\n<pre><code>export class ContainerComponent {\n\n    children: Array&lt;Child&gt;;\n\n    constructor(\n        private _el: ElementRef,\n        private _dcl: DynamicComponentLoader,\n        private _childService: ChildService) {\n\n    }\n\n    ngOnInit() {\n\n        let index = 0; // index of child component in container\n        this._childService.getChildren().then( // get the children models\n            (children) =&gt; {\n\n                this.children = children; \n                this.children.forEach((child, index) =&gt; {\n                    this._dcl.loadIntoLocation(ChildComponent, this._el, 'dynamicChild')\n                    .then(function(el){\n                        el.instance.child = child; // assign child model to child component\n                        el.instance.index = index;\n                    });\n                });\n\n            }\n        );\n\n    }\n\n}\n</code></pre>\n\n<p><strong>ChildComponent.ts</strong></p>\n\n<pre><code>export class ChildComponent {\n\n    child: Child;\n    index: number;\n\n    constructor(private _renderer: Renderer, private _el: ElementRef) {\n    }\n\n    ngOnInit() {\n\n        let delay = (this.index + 1) * 0.5; // calculate animation delay\n        this._renderer.setElementStyle(this._el, '-webkit-animation-delay', delay + 's !important');\n        this._renderer.setElementStyle(this._el, 'animation-delay', delay + 's !important');\n\n    }\n\n}\n</code></pre>\n\n<hr>\n\n<h1> 4 CODE EXPLANATION </h1>\n\n<hr>\n\n<p>In the above code, the <code>ContainerComponent</code> dynamically inserts <code>ChildComponent</code>s (granted, this could be done without the <code>DynamicContentLoader</code>). </p>\n\n<p>The <code>ChildComponents</code> should dynamically add css properties, in this case, the animation delay once it is displayed. So based on the index of the child, the animation delay increases. </p>\n\n<p>However the modifications from the renderer do not take effect, the css properties are not there at runtime. </p>\n"}, {"tags": ["typescript"], "answers": [{"comments": [{"owner": {"reputation": 22469, "user_id": 208827, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/0b455a88803f79d121493a95ff119937?s=128&d=identicon&r=PG", "display_name": "RadiantHex", "link": "https://stackoverflow.com/users/208827/radianthex"}, "edited": false, "score": 0, "creation_date": 1451246435, "post_id": 34484242, "comment_id": 56710419, "body": "Thanks for the answer! Is this called <code>type casting</code>? Do you think it would be possible to have some code run when the casting is performed?"}, {"owner": {"reputation": 11846, "user_id": 4339170, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/xdR3z.png?s=128&g=1", "display_name": "CoderPi", "link": "https://stackoverflow.com/users/4339170/coderpi"}, "reply_to_user": {"reputation": 22469, "user_id": 208827, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/0b455a88803f79d121493a95ff119937?s=128&d=identicon&r=PG", "display_name": "RadiantHex", "link": "https://stackoverflow.com/users/208827/radianthex"}, "edited": false, "score": 0, "creation_date": 1451246530, "post_id": 34484242, "comment_id": 56710443, "body": "Yes thats typecasting, but remember it wont have anything else that you define in the class that is not in the object"}, {"owner": {"reputation": 22469, "user_id": 208827, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/0b455a88803f79d121493a95ff119937?s=128&d=identicon&r=PG", "display_name": "RadiantHex", "link": "https://stackoverflow.com/users/208827/radianthex"}, "edited": false, "score": 0, "creation_date": 1451246862, "post_id": 34484242, "comment_id": 56710504, "body": "Ah that means functions will be missing as well! Did I get that right?"}, {"owner": {"reputation": 11846, "user_id": 4339170, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/xdR3z.png?s=128&g=1", "display_name": "CoderPi", "link": "https://stackoverflow.com/users/4339170/coderpi"}, "reply_to_user": {"reputation": 22469, "user_id": 208827, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/0b455a88803f79d121493a95ff119937?s=128&d=identicon&r=PG", "display_name": "RadiantHex", "link": "https://stackoverflow.com/users/208827/radianthex"}, "edited": false, "score": 0, "creation_date": 1451247017, "post_id": 34484242, "comment_id": 56710537, "body": "yes, I added an option using a constructor. this will work"}, {"owner": {"reputation": 6268, "user_id": 1644422, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/01c7fb4b20926d4dcf7d1125f7adac9f?s=128&d=identicon&r=PG", "display_name": "Louay Alakkad", "link": "https://stackoverflow.com/users/1644422/louay-alakkad"}, "edited": false, "score": 0, "creation_date": 1451247618, "post_id": 34484242, "comment_id": 56710706, "body": "But why would you create two objects? Just use the signature <code>constructor(wheels, color, maxSpeed)</code>."}, {"owner": {"reputation": 11846, "user_id": 4339170, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/xdR3z.png?s=128&g=1", "display_name": "CoderPi", "link": "https://stackoverflow.com/users/4339170/coderpi"}, "reply_to_user": {"reputation": 6268, "user_id": 1644422, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/01c7fb4b20926d4dcf7d1125f7adac9f?s=128&d=identicon&r=PG", "display_name": "Louay Alakkad", "link": "https://stackoverflow.com/users/1644422/louay-alakkad"}, "edited": false, "score": 0, "creation_date": 1451247677, "post_id": 34484242, "comment_id": 56710720, "body": "@Louy I think he already has this object and wants to convert it to a class object? Well but we dont realy know why he is doing this indeed"}, {"owner": {"reputation": 6268, "user_id": 1644422, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/01c7fb4b20926d4dcf7d1125f7adac9f?s=128&d=identicon&r=PG", "display_name": "Louay Alakkad", "link": "https://stackoverflow.com/users/1644422/louay-alakkad"}, "edited": false, "score": 0, "creation_date": 1451247789, "post_id": 34484242, "comment_id": 56710751, "body": "You&#39;re right. Maybe just add that as a suggestion :)"}, {"owner": {"reputation": 11846, "user_id": 4339170, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/xdR3z.png?s=128&g=1", "display_name": "CoderPi", "link": "https://stackoverflow.com/users/4339170/coderpi"}, "reply_to_user": {"reputation": 22469, "user_id": 208827, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/0b455a88803f79d121493a95ff119937?s=128&d=identicon&r=PG", "display_name": "RadiantHex", "link": "https://stackoverflow.com/users/208827/radianthex"}, "edited": false, "score": 0, "creation_date": 1451247987, "post_id": 34484242, "comment_id": 56710802, "body": "@RadiantHex can you explain what you want to achieve? We could help you better then"}, {"owner": {"reputation": 22469, "user_id": 208827, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/0b455a88803f79d121493a95ff119937?s=128&d=identicon&r=PG", "display_name": "RadiantHex", "link": "https://stackoverflow.com/users/208827/radianthex"}, "reply_to_user": {"reputation": 6268, "user_id": 1644422, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/01c7fb4b20926d4dcf7d1125f7adac9f?s=128&d=identicon&r=PG", "display_name": "Louay Alakkad", "link": "https://stackoverflow.com/users/1644422/louay-alakkad"}, "edited": false, "score": 0, "creation_date": 1451248252, "post_id": 34484242, "comment_id": 56710887, "body": "@CodeiSir @Louy thanks guys! The objects I&#39;m using have about 87-92 properties, I&#39;d like to wrap these in a class without a long <code>this.argN = argN; ...</code> constructor, while adding the remaining class logic on top."}, {"owner": {"reputation": 11846, "user_id": 4339170, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/xdR3z.png?s=128&g=1", "display_name": "CoderPi", "link": "https://stackoverflow.com/users/4339170/coderpi"}, "reply_to_user": {"reputation": 22469, "user_id": 208827, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/0b455a88803f79d121493a95ff119937?s=128&d=identicon&r=PG", "display_name": "RadiantHex", "link": "https://stackoverflow.com/users/208827/radianthex"}, "edited": false, "score": 0, "creation_date": 1451248393, "post_id": 34484242, "comment_id": 56710937, "body": "@RadiantHex Ah OK, the best way to do this would be <code>for (var a in carObj) { this[a] = carObj[a] }</code> (see modifeyed answer) - You have to copy the attributes / merge the object into the classObject."}, {"owner": {"reputation": 22469, "user_id": 208827, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/0b455a88803f79d121493a95ff119937?s=128&d=identicon&r=PG", "display_name": "RadiantHex", "link": "https://stackoverflow.com/users/208827/radianthex"}, "edited": false, "score": 0, "creation_date": 1451248456, "post_id": 34484242, "comment_id": 56710951, "body": "@CodeiSir d&#39;oh, that&#39;s perfect :)"}, {"owner": {"reputation": 11846, "user_id": 4339170, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/xdR3z.png?s=128&g=1", "display_name": "CoderPi", "link": "https://stackoverflow.com/users/4339170/coderpi"}, "reply_to_user": {"reputation": 22469, "user_id": 208827, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/0b455a88803f79d121493a95ff119937?s=128&d=identicon&r=PG", "display_name": "RadiantHex", "link": "https://stackoverflow.com/users/208827/radianthex"}, "edited": false, "score": 0, "creation_date": 1451248556, "post_id": 34484242, "comment_id": 56710976, "body": "@RadiantHex OK, test if it works for you. If not feel free to ask again, otherwise I would appreciate if you accept the answer"}], "tags": [], "owner": {"reputation": 11846, "user_id": 4339170, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/xdR3z.png?s=128&g=1", "display_name": "CoderPi", "link": "https://stackoverflow.com/users/4339170/coderpi"}, "is_accepted": true, "score": 2, "last_activity_date": 1451248373, "last_edit_date": 1451248373, "creation_date": 1451246167, "answer_id": 34484242, "question_id": 34484216, "link": "https://stackoverflow.com/questions/34484216/can-i-map-a-wrap-a-simple-object-with-a-class/34484242#34484242", "title": "Can I map a wrap a simple object with a class?", "body": "<p>Would this be OK for you?</p>\n\n<pre><code>var car = { wheels: 4, color: \"red\", maxSpeed: 100 }\n\nclass Car {\n    wheels: number;\n    color: string;\n    maxSpeed: number\n}\n\nlet wrappedCar = &lt;Car&gt; car\nconsole.log(wrappedCar.wheels)\n</code></pre>\n\n<hr>\n\n<p>The proper solution to do this would be using a constructor and merging the Objects:</p>\n\n<pre><code>var car = { wheels: 4, color: \"red\", maxSpeed: 100 }\n\nclass Car {\n    wheels: number;\n    color: string;\n    maxSpeed: number\n\n    constructor(carObj) {\n        for (var a in carObj) { this[a] = carObj[a] }\n    }\n}\n\nlet wrappedCar = new Car(car)\nconsole.log(wrappedCar.wheels)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 25995, "user_id": 5152732, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-eL0xfQom3xQ/AAAAAAAAAAI/AAAAAAAAB1E/j1B2Mcgvt6M/photo.jpg?sz=128", "display_name": "toskv", "link": "https://stackoverflow.com/users/5152732/toskv"}, "is_accepted": false, "score": 0, "last_activity_date": 1453668892, "last_edit_date": 1453668892, "creation_date": 1451246246, "answer_id": 34484254, "question_id": 34484216, "link": "https://stackoverflow.com/questions/34484216/can-i-map-a-wrap-a-simple-object-with-a-class/34484254#34484254", "title": "Can I map a wrap a simple object with a class?", "body": "<p>If all you need to do is describe an objects structure you can use an <strong>interface</strong>.</p>\n\n<p>It would be something like this</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>interface Car {\n  wheels: number;\n  color: string;\n  maxSpeed: number\n}\n</code></pre>\n\n\n\n<p>You can later just use it normally.</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>let car: Car = {\n  wheels: 4,\n  color: \"red\",\n  maxSpeed: 100\n}\n</code></pre>\n\n\n\n<p>The compiler will also automatically recognize if an object implements that interface. So you it's perfect for describing what you expect to receive in your methods.</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>function washCar(car: Car): void {}\n\nwashCar({\n  wheels: 10,\n  color: 'red',\n  maxSpeed: 100\n}); // will work\n\nwashCar({\n  name: 'John',\n  age: 5\n}); // will generate a compilation error\n</code></pre>\n\n\n"}], "owner": {"reputation": 22469, "user_id": 208827, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/0b455a88803f79d121493a95ff119937?s=128&d=identicon&r=PG", "display_name": "RadiantHex", "link": "https://stackoverflow.com/users/208827/radianthex"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 678, "favorite_count": 2, "accepted_answer_id": 34484242, "answer_count": 2, "score": 2, "last_activity_date": 1453668892, "creation_date": 1451245914, "question_id": 34484216, "link": "https://stackoverflow.com/questions/34484216/can-i-map-a-wrap-a-simple-object-with-a-class", "title": "Can I map a wrap a simple object with a class?", "body": "<p>I'm looking to mapping an object to a class, maybe my technical wording is wrong so I'll try and illustrate.</p>\n\n<pre><code>var car = {wheels:4, color:\"red\", maxSpeed: 100}\n\nclass Car(){\n    wheels: number;\n    color: string;\n    maxSpeed: number\n}\n\nlet wrappedCar = new Car(**car)\nconsole.log(wrappedCar.wheels)\n// 4\n</code></pre>\n\n<p>What's the best way to achieve this in Typescript? :)</p>\n"}, {"tags": ["javascript", "node.js", "mongoose", "typescript"], "comments": [{"owner": {"reputation": 6268, "user_id": 1644422, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/01c7fb4b20926d4dcf7d1125f7adac9f?s=128&d=identicon&r=PG", "display_name": "Louay Alakkad", "link": "https://stackoverflow.com/users/1644422/louay-alakkad"}, "edited": false, "score": 0, "creation_date": 1451233979, "post_id": 34482136, "comment_id": 56706643, "body": "<code>User</code> can&#39;t be a class because creating one is an async operation. It has to return a promise so you have to call <code>User.create({...}).then...</code>."}, {"owner": {"reputation": 1088, "user_id": 5703176, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-M1o9XKlTS74/AAAAAAAAAAI/AAAAAAAAAH8/7RaEE_ucJXo/photo.jpg?sz=128", "display_name": "Tim McNamara", "link": "https://stackoverflow.com/users/5703176/tim-mcnamara"}, "reply_to_user": {"reputation": 6268, "user_id": 1644422, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/01c7fb4b20926d4dcf7d1125f7adac9f?s=128&d=identicon&r=PG", "display_name": "Louay Alakkad", "link": "https://stackoverflow.com/users/1644422/louay-alakkad"}, "edited": false, "score": 1, "creation_date": 1451263390, "post_id": 34482136, "comment_id": 56714810, "body": "Specifically, given in the code in the OP, could you please elaborate on why <code>User</code> cannot be a class?"}, {"owner": {"reputation": 891, "user_id": 1316532, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/y4u81.jpg?s=128&g=1", "display_name": "Erich", "link": "https://stackoverflow.com/users/1316532/erich"}, "edited": false, "score": 0, "creation_date": 1494487259, "post_id": 34482136, "comment_id": 74851146, "body": "Try <a href=\"https://github.com/typeorm/typeorm\" rel=\"nofollow noreferrer\">github.com/typeorm/typeorm</a> instead."}, {"owner": {"reputation": 305, "user_id": 11968594, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/AwONH.png?s=128&g=1", "display_name": "PayamB.", "link": "https://stackoverflow.com/users/11968594/payamb"}, "reply_to_user": {"reputation": 891, "user_id": 1316532, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/y4u81.jpg?s=128&g=1", "display_name": "Erich", "link": "https://stackoverflow.com/users/1316532/erich"}, "edited": false, "score": 0, "creation_date": 1578132472, "post_id": 34482136, "comment_id": 105345062, "body": "@Erich they say that typeorm doesn&#39;t work well with the MongoDB , maybe Type goose is a good option"}, {"owner": {"reputation": 942, "user_id": 4273202, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/1b69f4ba206d5d9bd387e913a529789c?s=128&d=identicon&r=PG&f=1", "display_name": "Harry", "link": "https://stackoverflow.com/users/4273202/harry"}, "edited": false, "score": 0, "creation_date": 1587823663, "post_id": 34482136, "comment_id": 108663182, "body": "Check this out <a href=\"https://www.npmjs.com/package/@types/mongoose\" rel=\"nofollow noreferrer\">npmjs.com/package/@types/mongoose</a>"}], "answers": [{"comments": [{"owner": {"reputation": 1088, "user_id": 5703176, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-M1o9XKlTS74/AAAAAAAAAAI/AAAAAAAAAH8/7RaEE_ucJXo/photo.jpg?sz=128", "display_name": "Tim McNamara", "link": "https://stackoverflow.com/users/5703176/tim-mcnamara"}, "edited": false, "score": 2, "creation_date": 1451235098, "post_id": 34482413, "comment_id": 56707057, "body": "sorry, but how is &#39;mongoose&#39; defined in TS?"}, {"owner": {"reputation": 6268, "user_id": 1644422, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/01c7fb4b20926d4dcf7d1125f7adac9f?s=128&d=identicon&r=PG", "display_name": "Louay Alakkad", "link": "https://stackoverflow.com/users/1644422/louay-alakkad"}, "reply_to_user": {"reputation": 1088, "user_id": 5703176, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-M1o9XKlTS74/AAAAAAAAAAI/AAAAAAAAAH8/7RaEE_ucJXo/photo.jpg?sz=128", "display_name": "Tim McNamara", "link": "https://stackoverflow.com/users/5703176/tim-mcnamara"}, "edited": false, "score": 13, "creation_date": 1451235121, "post_id": 34482413, "comment_id": 56707076, "body": "<code>import * as mongoose from &#39;mongoose&#39;;</code> or <code>import mongoose = require(&#39;mongoose&#39;);</code>"}, {"owner": {"reputation": 1093, "user_id": 2287595, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/7f730b15a8f7a4c0ba11bfdd833ad286?s=128&d=identicon&r=PG", "display_name": "Aarmora", "link": "https://stackoverflow.com/users/2287595/aarmora"}, "edited": false, "score": 0, "creation_date": 1463084726, "post_id": 34482413, "comment_id": 61925963, "body": "This is solid, thanks!  Can I ask how you&#39;re importing and using the model in your app?"}, {"owner": {"reputation": 6268, "user_id": 1644422, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/01c7fb4b20926d4dcf7d1125f7adac9f?s=128&d=identicon&r=PG", "display_name": "Louay Alakkad", "link": "https://stackoverflow.com/users/1644422/louay-alakkad"}, "edited": false, "score": 1, "creation_date": 1463247856, "post_id": 34482413, "comment_id": 61989614, "body": "Something like this: <code>import User from &#39;~&#47;models&#47;user&#39;; User.find(&#47;*...*&#47;).then(&#47;*...*&#47;);</code>"}, {"owner": {"reputation": 6021, "user_id": 1134192, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/2FKNr.jpg?s=128&g=1", "display_name": "Oliver Dixon", "link": "https://stackoverflow.com/users/1134192/oliver-dixon"}, "edited": false, "score": 0, "creation_date": 1469205996, "post_id": 34482413, "comment_id": 64457013, "body": "How would one define Mongoose object id?"}, {"owner": {"reputation": 6452, "user_id": 3547347, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/15780fe731005d0f3e5c56dedeb12039?s=128&d=identicon&r=PG&f=1", "display_name": "Douglas Gaskell", "link": "https://stackoverflow.com/users/3547347/douglas-gaskell"}, "edited": false, "score": 0, "creation_date": 1470887068, "post_id": 34482413, "comment_id": 65134280, "body": "@Louy when using this <code>import User from &#39;~&#47;models&#47;user&#39;; </code>, it looks like it can&#39;t determine which export to use. Has somethign changed with TypeScript? To get this to work I have to use: <code>import User = require(&#39;.&#47;models&#47;user&#39;)</code> and reference the model with <code>User.User.find()...</code>"}, {"owner": {"reputation": 6268, "user_id": 1644422, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/01c7fb4b20926d4dcf7d1125f7adac9f?s=128&d=identicon&r=PG", "display_name": "Louay Alakkad", "link": "https://stackoverflow.com/users/1644422/louay-alakkad"}, "edited": false, "score": 0, "creation_date": 1470934198, "post_id": 34482413, "comment_id": 65162786, "body": "<code>import User ...</code> can be used with <code>export default const User</code>. <code>import {User} ...</code> can be used with <code>export const User</code>."}, {"owner": {"reputation": 6268, "user_id": 1644422, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/01c7fb4b20926d4dcf7d1125f7adac9f?s=128&d=identicon&r=PG", "display_name": "Louay Alakkad", "link": "https://stackoverflow.com/users/1644422/louay-alakkad"}, "edited": false, "score": 0, "creation_date": 1470934221, "post_id": 34482413, "comment_id": 65162792, "body": "Updated my answer. Sorry about the confusion."}, {"owner": {"reputation": 3581, "user_id": 810830, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/557d55c66789638f06a3ed1af7ee54a1?s=128&d=identicon&r=PG", "display_name": "Nepoxx", "link": "https://stackoverflow.com/users/810830/nepoxx"}, "edited": false, "score": 0, "creation_date": 1471984853, "post_id": 34482413, "comment_id": 65568005, "body": "How would you add statics with this?"}, {"owner": {"reputation": 2569, "user_id": 1770072, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/ac6045b4feadf2d6c8886815edd93214?s=128&d=identicon&r=PG", "display_name": "Augie Gardner", "link": "https://stackoverflow.com/users/1770072/augie-gardner"}, "edited": false, "score": 1, "creation_date": 1475050355, "post_id": 34482413, "comment_id": 66780346, "body": "Don&#39;t forget to install the mongoose typings, otherwise many IDEs will not flow with this.  <code>typings install mongoose</code>"}, {"owner": {"reputation": 3557, "user_id": 161644, "user_type": "registered", "accept_rate": 30, "profile_image": "https://www.gravatar.com/avatar/a6cb5398163ae8d986a39d6b59e6ef18?s=128&d=identicon&r=PG", "display_name": "John Lockwood", "link": "https://stackoverflow.com/users/161644/john-lockwood"}, "edited": false, "score": 0, "creation_date": 1475341858, "post_id": 34482413, "comment_id": 66910046, "body": "Would this work if the IUser interface also needed to work in the browser?  It seems to me The other answer below from Mr. Imre seems like it would work better in this case, but I haven&#39;t tried your approach.."}, {"owner": {"reputation": 169, "user_id": 4464640, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/150a3067408c96db22b54da0a3c33b47?s=128&d=identicon&r=PG", "display_name": "Sergio", "link": "https://stackoverflow.com/users/4464640/sergio"}, "edited": false, "score": 3, "creation_date": 1478082583, "post_id": 34482413, "comment_id": 68007336, "body": "Last line (export default const User...) does not work for me. I need to split the line, as proposed in <a href=\"http://stackoverflow.com/questions/35821614/typescript-compile-error-error-ts1109-expression-expected\" title=\"typescript compile error error ts1109 expression expected\">stackoverflow.com/questions/35821614/&hellip;</a>"}, {"owner": {"reputation": 4204, "user_id": 1627777, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/a1f0aa2202d094a06ebc2c41182cba37?s=128&d=identicon&r=PG", "display_name": "Aniket", "link": "https://stackoverflow.com/users/1627777/aniket"}, "edited": false, "score": 0, "creation_date": 1495703576, "post_id": 34482413, "comment_id": 75367878, "body": "@Louy If somethingElse property in the interface IUser was not a number but another interface say IRole, whether the IRole interface would also extend mongoose.Document?"}, {"owner": {"reputation": 6268, "user_id": 1644422, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/01c7fb4b20926d4dcf7d1125f7adac9f?s=128&d=identicon&r=PG", "display_name": "Louay Alakkad", "link": "https://stackoverflow.com/users/1644422/louay-alakkad"}, "reply_to_user": {"reputation": 4204, "user_id": 1627777, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/a1f0aa2202d094a06ebc2c41182cba37?s=128&d=identicon&r=PG", "display_name": "Aniket", "link": "https://stackoverflow.com/users/1627777/aniket"}, "edited": false, "score": 0, "creation_date": 1495994115, "post_id": 34482413, "comment_id": 75470561, "body": "@Aniket if it was a subdocument yes it should extend <code>Document</code>, otherwise I don&#39;t think so."}, {"owner": {"reputation": 2759, "user_id": 2062613, "user_type": "registered", "accept_rate": 35, "profile_image": "https://www.gravatar.com/avatar/c0081b66841a47febd3ea73143f7a85b?s=128&d=identicon&r=PG", "display_name": "Lupurus", "link": "https://stackoverflow.com/users/2062613/lupurus"}, "edited": false, "score": 7, "creation_date": 1512076158, "post_id": 34482413, "comment_id": 82122910, "body": "I can do <code>let newUser = new User({ iAmNotHere: true })</code> without any errors in the IDE or at compiling. So what is the reason for creating an interface?"}, {"owner": {"reputation": 3486, "user_id": 2304751, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/qEKVc.jpg?s=128&g=1", "display_name": "Diesel", "link": "https://stackoverflow.com/users/2304751/diesel"}, "edited": false, "score": 0, "creation_date": 1549228331, "post_id": 34482413, "comment_id": 95818911, "body": "Can you confirm that if you want an instance method to not have an error you must add the instance method and put it in the interface?"}, {"owner": {"reputation": 4537, "user_id": 1604261, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/b19a28ffd8ab669e874a690dbed23712?s=128&d=identicon&r=PG&f=1", "display_name": "Jos&#233; Cabo", "link": "https://stackoverflow.com/users/1604261/jos%c3%a9-cabo"}, "edited": false, "score": 0, "creation_date": 1576087703, "post_id": 34482413, "comment_id": 104788128, "body": "What&#39;s the type of the instantiation of the generated &quot;class&quot; from <code>const User = mongoose.model&lt;IUser&gt;(&#39;User&#39;, UserSchema);</code> ? This answer is otherwise incomplete. I.e. <code>const myUser: ?? = new User({...});</code>"}, {"owner": {"reputation": 108811, "user_id": 1269037, "user_type": "registered", "accept_rate": 38, "profile_image": "https://i.stack.imgur.com/mMk1e.jpg?s=128&g=1", "display_name": "Dan Dascalescu", "link": "https://stackoverflow.com/users/1269037/dan-dascalescu"}, "edited": false, "score": 0, "creation_date": 1586711629, "post_id": 34482413, "comment_id": 108223085, "body": "The problem with this is that it duplicates every single field between the interface and the schema, which is a <a href=\"https://stackoverflow.com/questions/34482136/mongoose-the-typescript-way/61154023#61154023\">maintenance risk</a>."}, {"owner": {"reputation": 344, "user_id": 10808483, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kPQW8.jpg?s=128&g=1", "display_name": "Marco Pestrin", "link": "https://stackoverflow.com/users/10808483/marco-pestrin"}, "edited": false, "score": 0, "creation_date": 1614716329, "post_id": 34482413, "comment_id": 117469077, "body": "thank you mate ;)"}, {"owner": {"reputation": 149, "user_id": 5467699, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JeO9B.jpg?s=128&g=1", "display_name": "Hernan", "link": "https://stackoverflow.com/users/5467699/hernan"}, "edited": false, "score": 0, "creation_date": 1618580381, "post_id": 34482413, "comment_id": 118651744, "body": "I see this answer over and over the whole internet, but what I dont like about it is that it is not DRY. Each time you want to add a field it must be done two times.  There&#39;s a clear duplication of code with this approach."}], "tags": [], "owner": {"reputation": 6268, "user_id": 1644422, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/01c7fb4b20926d4dcf7d1125f7adac9f?s=128&d=identicon&r=PG", "display_name": "Louay Alakkad", "link": "https://stackoverflow.com/users/1644422/louay-alakkad"}, "is_accepted": true, "score": 136, "last_activity_date": 1485973838, "last_edit_date": 1485973838, "creation_date": 1451233875, "answer_id": 34482413, "question_id": 34482136, "link": "https://stackoverflow.com/questions/34482136/mongoose-the-typescript-way/34482413#34482413", "title": "Mongoose the Typescript way...?", "body": "<p>Here's how I do it:</p>\n\n<pre><code>export interface IUser extends mongoose.Document {\n  name: string; \n  somethingElse?: number; \n};\n\nexport const UserSchema = new mongoose.Schema({\n  name: {type:String, required: true},\n  somethingElse: Number,\n});\n\nconst User = mongoose.model&lt;IUser&gt;('User', UserSchema);\nexport default User;\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 108811, "user_id": 1269037, "user_type": "registered", "accept_rate": 38, "profile_image": "https://i.stack.imgur.com/mMk1e.jpg?s=128&g=1", "display_name": "Dan Dascalescu", "link": "https://stackoverflow.com/users/1269037/dan-dascalescu"}, "edited": false, "score": 2, "creation_date": 1586711711, "post_id": 36661990, "comment_id": 108223125, "body": "Does the <code>mongoose.Schema</code> definition here duplicate the fields from <code>IUser</code>? Given that <code>IUser</code> is defined in a <i>different file</i> the <a href=\"https://stackoverflow.com/questions/34482136/mongoose-the-typescript-way/61154023#61154023\">risk that the fields with get out of sync</a> as the project grows in complexity and number of developers, is quite high."}, {"owner": {"reputation": 4702, "user_id": 1165203, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/367588ff895238dded0622c0a3f3f0c7?s=128&d=identicon&r=PG", "display_name": "G&#225;bor Imre", "link": "https://stackoverflow.com/users/1165203/g%c3%a1bor-imre"}, "reply_to_user": {"reputation": 108811, "user_id": 1269037, "user_type": "registered", "accept_rate": 38, "profile_image": "https://i.stack.imgur.com/mMk1e.jpg?s=128&g=1", "display_name": "Dan Dascalescu", "link": "https://stackoverflow.com/users/1269037/dan-dascalescu"}, "edited": false, "score": 0, "creation_date": 1586861964, "post_id": 36661990, "comment_id": 108277637, "body": "Yes, this is a valid argument worth considering. Using component integration tests may help reducing the risks though. And note that there are approaches and architectures where the type declarations and the DB implementations are separated whether it&#39;s done via an ORM (as you proposed) or manually (like in this answer). No silver bullet there is... &lt;(&#176;.&#176;)&gt;"}, {"owner": {"reputation": 108811, "user_id": 1269037, "user_type": "registered", "accept_rate": 38, "profile_image": "https://i.stack.imgur.com/mMk1e.jpg?s=128&g=1", "display_name": "Dan Dascalescu", "link": "https://stackoverflow.com/users/1269037/dan-dascalescu"}, "edited": false, "score": 0, "creation_date": 1586908311, "post_id": 36661990, "comment_id": 108300833, "body": "One bullet might be to <a href=\"https://github.com/dotansimha/graphql-code-generator/issues/3859\" rel=\"nofollow noreferrer\">generate code</a> from the GraphQL definition, for TypeScript and mongoose."}], "tags": [], "owner": {"reputation": 4702, "user_id": 1165203, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/367588ff895238dded0622c0a3f3f0c7?s=128&d=identicon&r=PG", "display_name": "G&#225;bor Imre", "link": "https://stackoverflow.com/users/1165203/g%c3%a1bor-imre"}, "is_accepted": false, "score": 35, "last_activity_date": 1460795733, "creation_date": 1460795733, "answer_id": 36661990, "question_id": 34482136, "link": "https://stackoverflow.com/questions/34482136/mongoose-the-typescript-way/36661990#36661990", "title": "Mongoose the Typescript way...?", "body": "<p>Another alternative if you want to detach your type definitions and the database implementation. </p>\n\n<pre><code>import {IUser} from './user.ts';\nimport * as mongoose from 'mongoose';\n\ntype UserType = IUser &amp; mongoose.Document;\nconst User = mongoose.model&lt;UserType&gt;('User', new mongoose.Schema({\n    userName  : String,\n    password  : String,\n    /* etc */\n}));\n</code></pre>\n\n<p>Inspiration from here: <a href=\"https://github.com/Appsilon/styleguide/wiki/mongoose-typescript-models\">https://github.com/Appsilon/styleguide/wiki/mongoose-typescript-models</a></p>\n"}, {"comments": [{"owner": {"reputation": 494, "user_id": 1378525, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/54420547651c5cbe8dd8f750de2060d8?s=128&d=identicon&r=PG", "display_name": "rels", "link": "https://stackoverflow.com/users/1378525/rels"}, "edited": false, "score": 0, "creation_date": 1481790591, "post_id": 39584483, "comment_id": 69520175, "body": "where did you define <code>generateJwt</code>?"}, {"owner": {"reputation": 768, "user_id": 916995, "user_type": "registered", "accept_rate": 38, "profile_image": "https://i.stack.imgur.com/mVwCF.jpg?s=128&g=1", "display_name": "a11smiles", "link": "https://stackoverflow.com/users/916995/a11smiles"}, "reply_to_user": {"reputation": 494, "user_id": 1378525, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/54420547651c5cbe8dd8f750de2060d8?s=128&d=identicon&r=PG", "display_name": "rels", "link": "https://stackoverflow.com/users/1378525/rels"}, "edited": false, "score": 1, "creation_date": 1486082360, "post_id": 39584483, "comment_id": 71205048, "body": "@rels <code>const User = mongoose.model.... password: String, generateJwt: () =&gt; { return someJwt; } }));</code> basically, <code>generateJwt</code> becomes another property of the model."}, {"owner": {"reputation": 2383, "user_id": 1790300, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/8799cf9199f68e2c055e60d1606c4348?s=128&d=identicon&r=PG", "display_name": "user1790300", "link": "https://stackoverflow.com/users/1790300/user1790300"}, "edited": false, "score": 0, "creation_date": 1499808359, "post_id": 39584483, "comment_id": 77063847, "body": "Would you just add it as a method in this fashion or would you connect it to the methods property?"}, {"owner": {"reputation": 158, "user_id": 7739188, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-Jhj64G1to1s/AAAAAAAAAAI/AAAAAAAAAD8/J531uVLLIpI/photo.jpg?sz=128", "display_name": "Rafael del Rio", "link": "https://stackoverflow.com/users/7739188/rafael-del-rio"}, "edited": false, "score": 1, "creation_date": 1512401841, "post_id": 39584483, "comment_id": 82231686, "body": "This should be the accepted answer as It detaches user definition and user DAL. If you want to switch from mongo to another db provider, you won&#39;t have to change user interface."}, {"owner": {"reputation": 108811, "user_id": 1269037, "user_type": "registered", "accept_rate": 38, "profile_image": "https://i.stack.imgur.com/mMk1e.jpg?s=128&g=1", "display_name": "Dan Dascalescu", "link": "https://stackoverflow.com/users/1269037/dan-dascalescu"}, "reply_to_user": {"reputation": 158, "user_id": 7739188, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-Jhj64G1to1s/AAAAAAAAAAI/AAAAAAAAAD8/J531uVLLIpI/photo.jpg?sz=128", "display_name": "Rafael del Rio", "link": "https://stackoverflow.com/users/7739188/rafael-del-rio"}, "edited": false, "score": 1, "creation_date": 1586712232, "post_id": 39584483, "comment_id": 108223369, "body": "@RafaeldelRio: the question was about using mongoose with TypeScript. Switching to another DB is antithetic to this goal. And the problem with separating the schema definition from the <code>IUser</code> interface declaration <i>in a different file</i> is that the <a href=\"https://stackoverflow.com/questions/34482136/mongoose-the-typescript-way/61154023#61154023\">risk of fields getting out of sync</a> as the project grows in the number of complexity and developers, is quite high."}], "tags": [], "owner": {"reputation": 30971, "user_id": 2000548, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/46b999a5b1498f5ef58f767845942269?s=128&d=identicon&r=PG", "display_name": "Hongbo Miao", "link": "https://stackoverflow.com/users/2000548/hongbo-miao"}, "is_accepted": false, "score": 5, "last_activity_date": 1589794108, "last_edit_date": 1589794108, "creation_date": 1474335813, "answer_id": 39584483, "question_id": 34482136, "link": "https://stackoverflow.com/questions/34482136/mongoose-the-typescript-way/39584483#39584483", "title": "Mongoose the Typescript way...?", "body": "<p>Just add another way (<code>@types/mongoose</code> must be installed with <code>npm install --save-dev @types/mongoose</code>)</p>\n\n<pre><code>import { IUser } from './user.ts';\nimport * as mongoose from 'mongoose';\n\ninterface IUserModel extends IUser, mongoose.Document {}\n\nconst User = mongoose.model&lt;IUserModel&gt;('User', new mongoose.Schema({\n    userName: String,\n    password: String,\n    // ...\n}));\n</code></pre>\n\n<p>And the difference between <code>interface</code> and <code>type</code>, please read <a href=\"https://stackoverflow.com/a/37233777/2000548\">this answer</a></p>\n\n<p>This way has a advantage, you can add Mongoose static method typings:</p>\n\n<pre><code>interface IUserModel extends IUser, mongoose.Document {\n  generateJwt: () =&gt; string\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 2884, "user_id": 6335994, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/b3a9470291d89394a2af372f0db5760a?s=128&d=identicon&r=PG&f=1", "display_name": "Corbfon", "link": "https://stackoverflow.com/users/6335994/corbfon"}, "edited": false, "score": 8, "creation_date": 1548088397, "post_id": 46754070, "comment_id": 95408830, "body": "I also came to this conclusion, but am worried that <code>typegoose</code> doesn&#39;t have enough support... checking their npm stats, it&#39;s only 3k weekly downloads, and rn there are almost 100 open Github issues, most of which don&#39;t have comments, and some of which looks like they should have been closed a long time ago"}, {"owner": {"reputation": 1562, "user_id": 540725, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9a7a566c295985b320f9915a43fcfa90?s=128&d=identicon&r=PG", "display_name": "N4ppeL", "link": "https://stackoverflow.com/users/540725/n4ppel"}, "reply_to_user": {"reputation": 2884, "user_id": 6335994, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/b3a9470291d89394a2af372f0db5760a?s=128&d=identicon&r=PG&f=1", "display_name": "Corbfon", "link": "https://stackoverflow.com/users/6335994/corbfon"}, "edited": false, "score": 0, "creation_date": 1570011925, "post_id": 46754070, "comment_id": 102777290, "body": "@Corbfon Did you try it? If so, what were your findings? If not, was there anything else that made you decide not to use it?  I generally see some people worrying about complete support, but it seems those who actually use it are quite happy with it"}, {"owner": {"reputation": 2884, "user_id": 6335994, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/b3a9470291d89394a2af372f0db5760a?s=128&d=identicon&r=PG&f=1", "display_name": "Corbfon", "link": "https://stackoverflow.com/users/6335994/corbfon"}, "reply_to_user": {"reputation": 1562, "user_id": 540725, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9a7a566c295985b320f9915a43fcfa90?s=128&d=identicon&r=PG", "display_name": "N4ppeL", "link": "https://stackoverflow.com/users/540725/n4ppel"}, "edited": false, "score": 1, "creation_date": 1570154233, "post_id": 46754070, "comment_id": 102832617, "body": "@N4ppeL I wouldn&#39;t go with <code>typegoose</code> - we ended up manually handling our typing, similar to <a href=\"https://brianflove.com/2016/10/04/typescript-declaring-mongoose-schema-model/\" rel=\"nofollow noreferrer\">this post</a>, it looks like <code>ts-mongoose</code> might have some promise (as suggested in later answer)"}, {"owner": {"reputation": 13365, "user_id": 1028230, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/fbeKv.png?s=128&g=1", "display_name": "ruffin", "link": "https://stackoverflow.com/users/1028230/ruffin"}, "edited": false, "score": 1, "creation_date": 1583506025, "post_id": 46754070, "comment_id": 107151294, "body": "Never apologize for &quot;necroposting&quot;. [As you now know...] There&#39;s even a badge (though <a href=\"https://stackoverflow.com/help/badges/17/necromancer\">it <b><i>is</i></b> named Necromancer</a> ;^D) for doing just this! Necroposting new information and ideas is encouraged!"}, {"owner": {"reputation": 108811, "user_id": 1269037, "user_type": "registered", "accept_rate": 38, "profile_image": "https://i.stack.imgur.com/mMk1e.jpg?s=128&g=1", "display_name": "Dan Dascalescu", "link": "https://stackoverflow.com/users/1269037/dan-dascalescu"}, "reply_to_user": {"reputation": 13365, "user_id": 1028230, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/fbeKv.png?s=128&g=1", "display_name": "ruffin", "link": "https://stackoverflow.com/users/1028230/ruffin"}, "edited": false, "score": 1, "creation_date": 1586406686, "post_id": 46754070, "comment_id": 108117790, "body": "@ruffin: I also really don&#39;t understand the stigma against posting new and up-to-date solutions to problems."}, {"owner": {"reputation": 592, "user_id": 4356329, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/sgY45.gif?s=128&g=1", "display_name": "m8a", "link": "https://stackoverflow.com/users/4356329/m8a"}, "edited": false, "score": 0, "creation_date": 1597595405, "post_id": 46754070, "comment_id": 112178147, "body": "Typegoose is currently being maintained and the maintainer is helpful. It also works fairly well."}], "tags": [], "owner": {"reputation": 6018, "user_id": 1122806, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/09b0387240456c6a2e480460127195b0?s=128&d=identicon&r=PG", "display_name": "Dimanoid", "link": "https://stackoverflow.com/users/1122806/dimanoid"}, "is_accepted": false, "score": 26, "last_activity_date": 1545192073, "last_edit_date": 1545192073, "creation_date": 1508063501, "answer_id": 46754070, "question_id": 34482136, "link": "https://stackoverflow.com/questions/34482136/mongoose-the-typescript-way/46754070#46754070", "title": "Mongoose the Typescript way...?", "body": "<p>Sorry for necroposting but this can be still interesting for someone.\nI think <a href=\"https://github.com/szokodiakos/typegoose\" rel=\"noreferrer\">Typegoose</a> provides more modern and elegant way to define models</p>\n\n<p>Here is an example from the docs:</p>\n\n<pre><code>import { prop, Typegoose, ModelType, InstanceType } from 'typegoose';\nimport * as mongoose from 'mongoose';\n\nmongoose.connect('mongodb://localhost:27017/test');\n\nclass User extends Typegoose {\n    @prop()\n    name?: string;\n}\n\nconst UserModel = new User().getModelForClass(User);\n\n// UserModel is a regular Mongoose Model with correct types\n(async () =&gt; {\n    const u = new UserModel({ name: 'JohnDoe' });\n    await u.save();\n    const user = await UserModel.findOne();\n\n    // prints { _id: 59218f686409d670a97e53e0, name: 'JohnDoe', __v: 0 }\n    console.log(user);\n})();\n</code></pre>\n\n<p>For an existing connection scenario, you can use as the following (which may be more likely in the real situations and uncovered in the docs):</p>\n\n<pre><code>import { prop, Typegoose, ModelType, InstanceType } from 'typegoose';\nimport * as mongoose from 'mongoose';\n\nconst conn = mongoose.createConnection('mongodb://localhost:27017/test');\n\nclass User extends Typegoose {\n    @prop()\n    name?: string;\n}\n\n// Notice that the collection name will be 'users':\nconst UserModel = new User().getModelForClass(User, {existingConnection: conn});\n\n// UserModel is a regular Mongoose Model with correct types\n(async () =&gt; {\n    const u = new UserModel({ name: 'JohnDoe' });\n    await u.save();\n    const user = await UserModel.findOne();\n\n    // prints { _id: 59218f686409d670a97e53e0, name: 'JohnDoe', __v: 0 }\n    console.log(user);\n})();\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 111, "user_id": 656668, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Csl4H.jpg?s=128&g=1", "display_name": "Boriel", "link": "https://stackoverflow.com/users/656668/boriel"}, "edited": false, "score": 1, "creation_date": 1544479049, "post_id": 53618860, "comment_id": 94283092, "body": "Looks very promising! Thanks for sharing! :)"}, {"owner": {"reputation": 8877, "user_id": 388827, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/fcbd636611fa901a055a84a16c463219?s=128&d=identicon&r=PG", "display_name": "qqilihq", "link": "https://stackoverflow.com/users/388827/qqilihq"}, "edited": false, "score": 1, "creation_date": 1552695748, "post_id": 53618860, "comment_id": 97122844, "body": "Wow. This locks very sleek. Looking forward to give it a try!"}, {"owner": {"reputation": 664, "user_id": 5139284, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/147UW.png?s=128&g=1", "display_name": "mic", "link": "https://stackoverflow.com/users/5139284/mic"}, "edited": false, "score": 1, "creation_date": 1582364850, "post_id": 53618860, "comment_id": 106758414, "body": "Disclosure: ts-mongoose seems to be created by sky. Seems to be the slickest solution out there."}, {"owner": {"reputation": 108811, "user_id": 1269037, "user_type": "registered", "accept_rate": 38, "profile_image": "https://i.stack.imgur.com/mMk1e.jpg?s=128&g=1", "display_name": "Dan Dascalescu", "link": "https://stackoverflow.com/users/1269037/dan-dascalescu"}, "edited": false, "score": 1, "creation_date": 1586579954, "post_id": 53618860, "comment_id": 108183822, "body": "Nice package, <a href=\"https://github.com/lstkz/ts-mongoose/issues/54\" rel=\"nofollow noreferrer\">are you still maintaining it</a>?"}, {"owner": {"reputation": 333, "user_id": 10691587, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/P1yzV.jpg?s=128&g=1", "display_name": "Goran_Ilic_Ilke", "link": "https://stackoverflow.com/users/10691587/goran-ilic-ilke"}, "edited": false, "score": 0, "creation_date": 1614057539, "post_id": 53618860, "comment_id": 117261199, "body": "Looks nice but we still need mongoose for other logic in api."}], "tags": [], "owner": {"reputation": 456, "user_id": 880634, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/722324da97b997aba530323157812c3d?s=128&d=identicon&r=PG", "display_name": "sky", "link": "https://stackoverflow.com/users/880634/sky"}, "is_accepted": false, "score": 17, "last_activity_date": 1543946211, "creation_date": 1543946211, "answer_id": 53618860, "question_id": 34482136, "link": "https://stackoverflow.com/questions/34482136/mongoose-the-typescript-way/53618860#53618860", "title": "Mongoose the Typescript way...?", "body": "<p>Try <code>ts-mongoose</code>. It uses conditional types to do the mapping.</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>import { createSchema, Type, typedModel } from 'ts-mongoose';\n\nconst UserSchema = createSchema({\n  username: Type.string(),\n  email: Type.string(),\n});\n\nconst User = typedModel('User', UserSchema);\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 726, "user_id": 1931039, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/8382100f7705bdff378e8c72a655ec08?s=128&d=identicon&r=PG", "display_name": "Jamie S", "link": "https://stackoverflow.com/users/1931039/jamie-s"}, "edited": false, "score": 1, "creation_date": 1565649132, "post_id": 53789111, "comment_id": 101411084, "body": "This is the only correct answer.  None of the other answers actually ensured type compatability between the schema and the type/interface."}, {"owner": {"reputation": 108811, "user_id": 1269037, "user_type": "registered", "accept_rate": 38, "profile_image": "https://i.stack.imgur.com/mMk1e.jpg?s=128&g=1", "display_name": "Dan Dascalescu", "link": "https://stackoverflow.com/users/1269037/dan-dascalescu"}, "reply_to_user": {"reputation": 726, "user_id": 1931039, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/8382100f7705bdff378e8c72a655ec08?s=128&d=identicon&r=PG", "display_name": "Jamie S", "link": "https://stackoverflow.com/users/1931039/jamie-s"}, "edited": false, "score": 0, "creation_date": 1586410688, "post_id": 53789111, "comment_id": 108118805, "body": "@JamieStrauss: what about <a href=\"https://stackoverflow.com/questions/34482136/mongoose-the-typescript-way#comment108118780_59792239\">not duplicating the fields in the first place</a>?"}, {"owner": {"reputation": 726, "user_id": 1931039, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/8382100f7705bdff378e8c72a655ec08?s=128&d=identicon&r=PG", "display_name": "Jamie S", "link": "https://stackoverflow.com/users/1931039/jamie-s"}, "reply_to_user": {"reputation": 108811, "user_id": 1269037, "user_type": "registered", "accept_rate": 38, "profile_image": "https://i.stack.imgur.com/mMk1e.jpg?s=128&g=1", "display_name": "Dan Dascalescu", "link": "https://stackoverflow.com/users/1269037/dan-dascalescu"}, "edited": false, "score": 1, "creation_date": 1586922610, "post_id": 53789111, "comment_id": 108304083, "body": "@DanDascalescu I don&#39;t think you understand how types work."}], "tags": [], "owner": {"reputation": 9562, "user_id": 20489, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/8daed6e147b68f7d82fde4963d30bbdb?s=128&d=identicon&r=PG", "display_name": "bingles", "link": "https://stackoverflow.com/users/20489/bingles"}, "is_accepted": false, "score": 5, "last_activity_date": 1544842852, "last_edit_date": 1544842852, "creation_date": 1544841867, "answer_id": 53789111, "question_id": 34482136, "link": "https://stackoverflow.com/questions/34482136/mongoose-the-typescript-way/53789111#53789111", "title": "Mongoose the Typescript way...?", "body": "<p>Here's a strong typed way to match a plain model with a mongoose schema. The compiler will ensure the definitions passed to mongoose.Schema matches the interface. Once you have the schema, you can use </p>\n\n<p><strong>common.ts</strong></p>\n\n<pre><code>export type IsRequired&lt;T&gt; =\n  undefined extends T\n  ? false\n  : true;\n\nexport type FieldType&lt;T&gt; =\n  T extends number ? typeof Number :\n  T extends string ? typeof String :\n  Object;\n\nexport type Field&lt;T&gt; = {\n  type: FieldType&lt;T&gt;,\n  required: IsRequired&lt;T&gt;,\n  enum?: Array&lt;T&gt;\n};\n\nexport type ModelDefinition&lt;M&gt; = {\n  [P in keyof M]-?:\n    M[P] extends Array&lt;infer U&gt; ? Array&lt;Field&lt;U&gt;&gt; :\n    Field&lt;M[P]&gt;\n};\n</code></pre>\n\n<p><strong>user.ts</strong></p>\n\n<pre><code>import * as mongoose from 'mongoose';\nimport { ModelDefinition } from \"./common\";\n\ninterface User {\n  userName  : string,\n  password  : string,\n  firstName : string,\n  lastName  : string,\n  email     : string,\n  activated : boolean,\n  roles     : Array&lt;string&gt;\n}\n\n// The typings above expect the more verbose type definitions,\n// but this has the benefit of being able to match required\n// and optional fields with the corresponding definition.\n// TBD: There may be a way to support both types.\nconst definition: ModelDefinition&lt;User&gt; = {\n  userName  : { type: String, required: true },\n  password  : { type: String, required: true },\n  firstName : { type: String, required: true },\n  lastName  : { type: String, required: true },\n  email     : { type: String, required: true },\n  activated : { type: Boolean, required: true },\n  roles     : [ { type: String, required: true } ]\n};\n\nconst schema = new mongoose.Schema(\n  definition\n);\n</code></pre>\n\n<p>Once you have your schema, you can use methods mentioned in other answers such as</p>\n\n<pre><code>const userModel = mongoose.model&lt;User &amp; mongoose.Document&gt;('User', schema);\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 353, "user_id": 8549369, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c7e325a6e94332d89488c6101013dc8b?s=128&d=identicon&r=PG", "display_name": "tomitheninja", "link": "https://stackoverflow.com/users/8549369/tomitheninja"}, "is_accepted": false, "score": 2, "last_activity_date": 1561851485, "last_edit_date": 1561851485, "creation_date": 1561849296, "answer_id": 56821393, "question_id": 34482136, "link": "https://stackoverflow.com/questions/34482136/mongoose-the-typescript-way/56821393#56821393", "title": "Mongoose the Typescript way...?", "body": "<h2>With this <kbd>vscode intellisense</kbd> works on both</h2>\n\n<ul>\n<li><strong>User Type</strong> <em>User.findOne</em></li>\n<li><strong>user instance</strong> <em>u1._id</em></li>\n</ul>\n\n<hr>\n\n<h2>The Code:</h2>\n\n<pre class=\"lang-js prettyprint-override\"><code>// imports\nimport { ObjectID } from 'mongodb'\nimport { Document, model, Schema, SchemaDefinition } from 'mongoose'\n\nimport { authSchema, IAuthSchema } from './userAuth'\n\n// the model\n\nexport interface IUser {\n  _id: ObjectID, // !WARNING: No default value in Schema\n  auth: IAuthSchema\n}\n\n// IUser will act like it is a Schema, it is more common to use this\n// For example you can use this type at passport.serialize\nexport type IUserSchema = IUser &amp; SchemaDefinition\n// IUser will act like it is a Document\nexport type IUserDocument = IUser &amp; Document\n\nexport const userSchema = new Schema&lt;IUserSchema&gt;({\n  auth: {\n    required: true,\n    type: authSchema,\n  }\n})\n\nexport default model&lt;IUserDocument&gt;('user', userSchema)\n\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 108811, "user_id": 1269037, "user_type": "registered", "accept_rate": 38, "profile_image": "https://i.stack.imgur.com/mMk1e.jpg?s=128&g=1", "display_name": "Dan Dascalescu", "link": "https://stackoverflow.com/users/1269037/dan-dascalescu"}, "edited": false, "score": 0, "creation_date": 1586588703, "post_id": 58107396, "comment_id": 108185623, "body": "Like <a href=\"https://stackoverflow.com/questions/34482136/mongoose-the-typescript-way#comment108118805_53789111\">other answers</a>, this approach duplicates the fields between the interface and the schema. That could be avoided by having a single source of truth, e.g. by using <code>ts-mongoose</code> or <code>typegoose</code>. The situation gets further duplicated when defining the GraphQL schema."}, {"owner": {"reputation": 108811, "user_id": 1269037, "user_type": "registered", "accept_rate": 38, "profile_image": "https://i.stack.imgur.com/mMk1e.jpg?s=128&g=1", "display_name": "Dan Dascalescu", "link": "https://stackoverflow.com/users/1269037/dan-dascalescu"}, "edited": false, "score": 0, "creation_date": 1586666928, "post_id": 58107396, "comment_id": 108208454, "body": "Any way to define refs with this approach?"}], "tags": [], "owner": {"reputation": 12596, "user_id": 450913, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/8697727ab104f2d1307c0736fff5ec03?s=128&d=identicon&r=PG", "display_name": "orad", "link": "https://stackoverflow.com/users/450913/orad"}, "is_accepted": false, "score": 3, "last_activity_date": 1569451110, "creation_date": 1569451110, "answer_id": 58107396, "question_id": 34482136, "link": "https://stackoverflow.com/questions/34482136/mongoose-the-typescript-way/58107396#58107396", "title": "Mongoose the Typescript way...?", "body": "<p>Here is the example from Mongoose documentation, <a href=\"https://mongoosejs.com/docs/4.x/docs/advanced_schemas.html\" rel=\"nofollow noreferrer\">Creating from ES6 Classes Using loadClass()</a>, converted to TypeScript:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>import { Document, Schema, Model, model } from 'mongoose';\nimport * as assert from 'assert';\n\nconst schema = new Schema&lt;IPerson&gt;({ firstName: String, lastName: String });\n\nexport interface IPerson extends Document {\n  firstName: string;\n  lastName: string;\n  fullName: string;\n}\n\nclass PersonClass extends Model {\n  firstName!: string;\n  lastName!: string;\n\n  // `fullName` becomes a virtual\n  get fullName() {\n    return `${this.firstName} ${this.lastName}`;\n  }\n\n  set fullName(v) {\n    const firstSpace = v.indexOf(' ');\n    this.firstName = v.split(' ')[0];\n    this.lastName = firstSpace === -1 ? '' : v.substr(firstSpace + 1);\n  }\n\n  // `getFullName()` becomes a document method\n  getFullName() {\n    return `${this.firstName} ${this.lastName}`;\n  }\n\n  // `findByFullName()` becomes a static\n  static findByFullName(name: string) {\n    const firstSpace = name.indexOf(' ');\n    const firstName = name.split(' ')[0];\n    const lastName = firstSpace === -1 ? '' : name.substr(firstSpace + 1);\n    return this.findOne({ firstName, lastName });\n  }\n}\n\nschema.loadClass(PersonClass);\nconst Person = model&lt;IPerson&gt;('Person', schema);\n\n(async () =&gt; {\n  let doc = await Person.create({ firstName: 'Jon', lastName: 'Snow' });\n  assert.equal(doc.fullName, 'Jon Snow');\n  doc.fullName = 'Jon Stark';\n  assert.equal(doc.firstName, 'Jon');\n  assert.equal(doc.lastName, 'Stark');\n\n  doc = (&lt;any&gt;Person).findByFullName('Jon Snow');\n  assert.equal(doc.fullName, 'Jon Snow');\n})();\n</code></pre>\n\n<p>For the static <code>findByFullName</code> method, I couldn't figure how get the type information <code>Person</code>, so I had to cast <code>&lt;any&gt;Person</code> when I want to call it. If you know how to fix that please add a comment.</p>\n"}, {"comments": [{"owner": {"reputation": 108811, "user_id": 1269037, "user_type": "registered", "accept_rate": 38, "profile_image": "https://i.stack.imgur.com/mMk1e.jpg?s=128&g=1", "display_name": "Dan Dascalescu", "link": "https://stackoverflow.com/users/1269037/dan-dascalescu"}, "edited": false, "score": 1, "creation_date": 1586410618, "post_id": 59792239, "comment_id": 108118780, "body": "That duplicates every single field between mongoose and TypeScript, which creates a maintenance risk as the model becomes more complex. Solutions like <code>ts-mongoose</code> and <code>typegoose</code> solve that problem, though admittedly with quite a bit of syntactic cruft."}], "tags": [], "owner": {"reputation": 787, "user_id": 9234721, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-IGOZYUJutj4/AAAAAAAAAAI/AAAAAAAAAAA/AKxrwcZ8LwokBRlDXnjKM8njJ50mS5rjiA/mo/photo.jpg?sz=128", "display_name": "Lead Developer", "link": "https://stackoverflow.com/users/9234721/lead-developer"}, "is_accepted": false, "score": 4, "last_activity_date": 1579282190, "creation_date": 1579282190, "answer_id": 59792239, "question_id": 34482136, "link": "https://stackoverflow.com/questions/34482136/mongoose-the-typescript-way/59792239#59792239", "title": "Mongoose the Typescript way...?", "body": "<p>Here's how guys at Microsoft do it. <a href=\"https://github.com/microsoft/TypeScript-Node-Starter/blob/003f86e0e9bf387c3f83941ab8491550a1d64905/src/models/User.ts\" rel=\"nofollow noreferrer\">here</a></p>\n\n<pre><code>import mongoose from \"mongoose\";\n\nexport type UserDocument = mongoose.Document &amp; {\n    email: string;\n    password: string;\n    passwordResetToken: string;\n    passwordResetExpires: Date;\n...\n};\n\nconst userSchema = new mongoose.Schema({\n    email: { type: String, unique: true },\n    password: String,\n    passwordResetToken: String,\n    passwordResetExpires: Date,\n...\n}, { timestamps: true });\n\nexport const User = mongoose.model&lt;UserDocument&gt;(\"User\", userSchema);\n</code></pre>\n\n<p>I recommend to check this excellent starter project out when you add TypeScript to your Node project.</p>\n\n<p><a href=\"https://github.com/microsoft/TypeScript-Node-Starter\" rel=\"nofollow noreferrer\">https://github.com/microsoft/TypeScript-Node-Starter</a></p>\n"}, {"comments": [{"owner": {"reputation": 108811, "user_id": 1269037, "user_type": "registered", "accept_rate": 38, "profile_image": "https://i.stack.imgur.com/mMk1e.jpg?s=128&g=1", "display_name": "Dan Dascalescu", "link": "https://stackoverflow.com/users/1269037/dan-dascalescu"}, "edited": false, "score": 0, "creation_date": 1586588499, "post_id": 59906628, "comment_id": 108185570, "body": "This approach duplicates the definition of every field from <code>IUserDocument</code> into <code>UserSchema</code>, which creates a maintenance risk as the model becomes more complex. Packages like <code>ts-mongoose</code> and <code>typegoose</code> attempt to solve that problem, though admittedly with quite a bit of syntactic cruft."}], "tags": [], "owner": {"reputation": 1034, "user_id": 3422060, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/6d3ace9b2191a8ad947704e06982fe0c?s=128&d=identicon&r=PG&f=1", "display_name": "webelo", "link": "https://stackoverflow.com/users/3422060/webelo"}, "is_accepted": false, "score": 0, "last_activity_date": 1579930352, "creation_date": 1579930352, "answer_id": 59906628, "question_id": 34482136, "link": "https://stackoverflow.com/questions/34482136/mongoose-the-typescript-way/59906628#59906628", "title": "Mongoose the Typescript way...?", "body": "<p>Here is an example based off the README for the <a href=\"https://github.com/DefinitelyTyped/DefinitelyTyped/tree/master/types/mongoose\" rel=\"nofollow noreferrer\"><code>@types/mongoose</code></a> package.</p>\n\n<p>Besides the elements already included above it shows how to include regular and static methods:</p>\n\n<pre><code>import { Document, model, Model, Schema } from \"mongoose\";\n\ninterface IUserDocument extends Document {\n  name: string;\n  method1: () =&gt; string;\n}\ninterface IUserModel extends Model&lt;IUserDocument&gt; {\n  static1: () =&gt; string;\n}\n\nvar UserSchema = new Schema&lt;IUserDocument &amp; IUserModel&gt;({\n  name: String\n});\n\nUserSchema.methods.method1 = function() {\n  return this.name;\n};\nUserSchema.statics.static1 = function() {\n  return \"\";\n};\n\nvar UserModel: IUserModel = model&lt;IUserDocument, IUserModel&gt;(\n  \"User\",\n  UserSchema\n);\nUserModel.static1(); // static methods are available\n\nvar user = new UserModel({ name: \"Success\" });\nuser.method1();\n</code></pre>\n\n<p>In general, this README appears to be a fantastic resource for approaching types with mongoose.</p>\n"}, {"tags": [], "owner": {"reputation": 201, "user_id": 430405, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/48dd83d39cceb42d75a20d7e1423a0f0?s=128&d=identicon&r=PG", "display_name": "bonjorno", "link": "https://stackoverflow.com/users/430405/bonjorno"}, "is_accepted": false, "score": 4, "last_activity_date": 1584140009, "creation_date": 1584140009, "answer_id": 60678176, "question_id": 34482136, "link": "https://stackoverflow.com/questions/34482136/mongoose-the-typescript-way/60678176#60678176", "title": "Mongoose the Typescript way...?", "body": "<p>I am a fans of Plumier, it has <a href=\"https://github.com/plumier/plumier/tree/master/packages/mongoose\" rel=\"nofollow noreferrer\">mongoose helper</a>, <strong>but it can be used standalone without Plumier itself</strong>. Unlike Typegoose its took different path by using Plumier's dedicated reflection library, that make it possible to use cools stuff.</p>\n\n<h3>Features</h3>\n\n<ol>\n<li>Pure POJO (domain doesn't need to inherit from any class, nor using any special data type), Model created automatically inferred as <code>T &amp; Document</code> thus its possible to access document related properties.</li>\n<li>Supported TypeScript parameter properties, it's good when you have <code>strict:true</code> tsconfig configuration. And with parameter properties doesn't require decorator on all properties.</li>\n<li>Supported field properties like Typegoose</li>\n<li>Configuration is the same as mongoose so you will get easily familiar with it. </li>\n<li>Supported inheritance that's make the programming more natural.</li>\n<li>Model analysis, showing model names and its appropriate collection name, configuration applied etc. </li>\n</ol>\n\n<h2>Usage</h2>\n\n<pre class=\"lang-js prettyprint-override\"><code>import model, {collection} from \"@plumier/mongoose\"\n\n\n@collection({ timestamps: true, toJson: { virtuals: true } })\nclass Domain {\n    constructor(\n        public createdAt?: Date,\n        public updatedAt?: Date,\n        @collection.property({ default: false })\n        public deleted?: boolean\n    ) { }\n}\n\n@collection()\nclass User extends Domain {\n    constructor(\n        @collection.property({ unique: true })\n        public email: string,\n        public password: string,\n        public firstName: string,\n        public lastName: string,\n        public dateOfBirth: string,\n        public gender: string\n    ) { super() }\n}\n\n// create mongoose model (can be called multiple time)\nconst UserModel = model(User)\nconst user = await UserModel.findById()\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1142, "user_id": 5863693, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/101741963312f7ee577a74925672d234?s=128&d=identicon&r=PG&f=1", "display_name": "Yos", "link": "https://stackoverflow.com/users/5863693/yos"}, "edited": false, "score": 0, "creation_date": 1613898438, "post_id": 61154023, "comment_id": 117213818, "body": "Using Graphql to generate typescript types will be problematic if the entity has additional graphql fields which don&#39;t exist in Mongoose schema, because the type will have not just the mongoose schema fields but also the additional fields from graphql."}], "tags": [], "owner": {"reputation": 108811, "user_id": 1269037, "user_type": "registered", "accept_rate": 38, "profile_image": "https://i.stack.imgur.com/mMk1e.jpg?s=128&g=1", "display_name": "Dan Dascalescu", "link": "https://stackoverflow.com/users/1269037/dan-dascalescu"}, "is_accepted": false, "score": 17, "last_activity_date": 1586908426, "last_edit_date": 1586908426, "creation_date": 1586593952, "answer_id": 61154023, "question_id": 34482136, "link": "https://stackoverflow.com/questions/34482136/mongoose-the-typescript-way/61154023#61154023", "title": "Mongoose the Typescript way...?", "body": "<p>Most answers here repeat the fields in the TypeScript class/interface, and in the mongoose schema. Not having a single source of truth represents a maintenance risk, as the project becomes more complex and more developers work on it: <strong>fields are more likely to get out of sync</strong>. This is particularly bad when the class is in a different file vs. the mongoose schema.</p>\n\n<p>To keep fields in sync, it makes sense to define them once. There are a few libraries that do this:</p>\n\n<ul>\n<li><a href=\"https://www.npmjs.com/package/typeodm.io\" rel=\"noreferrer\">typeodm.io</a> - full test coverage, good examples, no traction yet</li>\n<li><a href=\"https://www.npmjs.com/package/mongoose-decorators-ts\" rel=\"noreferrer\">mongoose-decorators-ts</a> - best English, no traction yet</li>\n<li><a href=\"https://typegoose.github.io/typegoose/\" rel=\"noreferrer\">typegoose</a> - most popular, documentation <a href=\"https://github.com/typegoose/typegoose/pulls?q=is%3Apr+author%3Adandv\" rel=\"noreferrer\">needs improvement</a></li>\n<li><a href=\"https://www.npmjs.com/package/ts-mongoose\" rel=\"noreferrer\">ts-mongoose</a> - doesn't use decorators, second most popular, not actively maintained</li>\n<li><a href=\"https://www.npmjs.com/package/mongoose-schema-decorators\" rel=\"noreferrer\">mongoose-schema-decorators</a> - no traction yet</li>\n<li><a href=\"https://github.com/bangbang93/mongoose-typescript/issues/4\" rel=\"noreferrer\">mongoose-typescript</a> - fork of typegoose</li>\n</ul>\n\n<p>I haven't yet been fully convinced by any of them but typegoose seems actively maintained, and the developer accepted my PRs.</p>\n\n<p>To think one step ahead: when you add a GraphQL schema into the mix, another layer of model duplication appears. One way to overcome this problem might be to <a href=\"https://github.com/dotansimha/graphql-code-generator/issues/3859\" rel=\"noreferrer\">generate TypeScript and mongoose code</a> from the GraphQL schema.</p>\n"}, {"tags": [], "owner": {"reputation": 136, "user_id": 8292279, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/b0OsG.jpg?s=128&g=1", "display_name": "Francesco Virga", "link": "https://stackoverflow.com/users/8292279/francesco-virga"}, "is_accepted": false, "score": 2, "last_activity_date": 1602429824, "last_edit_date": 1602429824, "creation_date": 1602429026, "answer_id": 64305576, "question_id": 34482136, "link": "https://stackoverflow.com/questions/34482136/mongoose-the-typescript-way/64305576#64305576", "title": "Mongoose the Typescript way...?", "body": "<p>For anyone looking for a solution for existing Mongoose projects:</p>\n<p>We recently built <a href=\"https://github.com/Bounced-Inc/mongoose-tsgen\" rel=\"nofollow noreferrer\">mongoose-tsgen</a> to address this issue (would love some feedback!). Existing solutions like typegoose required rewriting our entire schemas and introduced various incompatibilities. <a href=\"https://github.com/Bounced-Inc/mongoose-tsgen\" rel=\"nofollow noreferrer\">mongoose-tsgen</a> is a simple CLI tool which generates an index.d.ts file containing Typescript interfaces for all your Mongoose schemas; it requires little to no configuration and integrates very smoothly with any Typescript project.</p>\n"}, {"tags": [], "owner": {"reputation": 400, "user_id": 5566394, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/y7IAT.jpg?s=128&g=1", "display_name": "Morteza Faghih Shojaie", "link": "https://stackoverflow.com/users/5566394/morteza-faghih-shojaie"}, "is_accepted": false, "score": 2, "last_activity_date": 1602887947, "last_edit_date": 1602887947, "creation_date": 1602883957, "answer_id": 64396663, "question_id": 34482136, "link": "https://stackoverflow.com/questions/34482136/mongoose-the-typescript-way/64396663#64396663", "title": "Mongoose the Typescript way...?", "body": "<p>If you want to ensure that your schema satisfies the model type and vice versa , this solution offers better typing than what @bingles suggested:</p>\n<p>The common type file:\n<code>ToSchema.ts</code> (Don't panic! Just copy and paste it)</p>\n<pre class=\"lang-js prettyprint-override\"><code>import { Document, Schema, SchemaType, SchemaTypeOpts } from 'mongoose';\n\ntype NonOptionalKeys&lt;T&gt; = { [k in keyof T]-?: undefined extends T[k] ? never : k }[keyof T];\ntype OptionalKeys&lt;T&gt; = Exclude&lt;keyof T, NonOptionalKeys&lt;T&gt;&gt;;\ntype NoDocument&lt;T&gt; = Exclude&lt;T, keyof Document&gt;;\ntype ForceNotRequired = Omit&lt;SchemaTypeOpts&lt;any&gt;, 'required'&gt; &amp; { required?: false };\ntype ForceRequired = Omit&lt;SchemaTypeOpts&lt;any&gt;, 'required'&gt; &amp; { required: SchemaTypeOpts&lt;any&gt;['required'] };\n\nexport type ToSchema&lt;T&gt; = Record&lt;NoDocument&lt;NonOptionalKeys&lt;T&gt;&gt;, ForceRequired | Schema | SchemaType&gt; &amp;\n   Record&lt;NoDocument&lt;OptionalKeys&lt;T&gt;&gt;, ForceNotRequired | Schema | SchemaType&gt;;\n\n</code></pre>\n<p>and an example model:</p>\n<pre class=\"lang-js prettyprint-override\"><code>import { Document, model, Schema } from 'mongoose';\nimport { ToSchema } from './ToSchema';\n\nexport interface IUser extends Document {\n   name?: string;\n   surname?: string;\n   email: string;\n   birthDate?: Date;\n   lastLogin?: Date;\n}\n\nconst userSchemaDefinition: ToSchema&lt;IUser&gt; = {\n   surname: String,\n   lastLogin: Date,\n   role: String, // Error, 'role' does not exist\n   name: { type: String, required: true, unique: true }, // Error, name is optional! remove 'required'\n   email: String, // Error, property 'required' is missing\n   // email: {type: String, required: true}, // correct \ud83d\udc4d\n   // Error, 'birthDate' is not defined\n};\n\nconst userSchema = new Schema(userSchemaDefinition);\n\nexport const User = model&lt;IUser&gt;('User', userSchema);\n\n\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 333, "user_id": 10691587, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/P1yzV.jpg?s=128&g=1", "display_name": "Goran_Ilic_Ilke", "link": "https://stackoverflow.com/users/10691587/goran-ilic-ilke"}, "edited": false, "score": 0, "creation_date": 1614056754, "post_id": 65537468, "comment_id": 117261010, "body": "How to see when i must to pay to see."}, {"owner": {"reputation": 390, "user_id": 11127541, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-mcsaDH8wnZY/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3re9KnEdSI2st7JCr4Wk8lzwmGMEnQ/mo/photo.jpg?sz=128", "display_name": "Omar Omeiri", "link": "https://stackoverflow.com/users/11127541/omar-omeiri"}, "edited": false, "score": 0, "creation_date": 1619210650, "post_id": 65537468, "comment_id": 118845983, "body": "open in incognito mode. hehe"}], "tags": [], "owner": {"reputation": 1074, "user_id": 1906456, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/4bc8eeb71cc6e2b163d3bb3ac0be144b?s=128&d=identicon&r=PG", "display_name": "Jason Ching", "link": "https://stackoverflow.com/users/1906456/jason-ching"}, "is_accepted": false, "score": 0, "last_activity_date": 1609578258, "creation_date": 1609578258, "answer_id": 65537468, "question_id": 34482136, "link": "https://stackoverflow.com/questions/34482136/mongoose-the-typescript-way/65537468#65537468", "title": "Mongoose the Typescript way...?", "body": "<p>The latest mongoose package has come with typescript support. You don't need to use @types/mongoose anymore.  See my example here.</p>\n<p><a href=\"https://jasonching2005.medium.com/complete-guide-for-using-typescript-in-mongoose-with-lean-function-e55adf1189dc\" rel=\"nofollow noreferrer\">https://jasonching2005.medium.com/complete-guide-for-using-typescript-in-mongoose-with-lean-function-e55adf1189dc</a></p>\n"}, {"tags": [], "owner": {"reputation": 1669, "user_id": 2881112, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2587bdb445fa0d21638afcbf59a36e1d?s=128&d=identicon&r=PG", "display_name": "Atul", "link": "https://stackoverflow.com/users/2881112/atul"}, "is_accepted": false, "score": 0, "last_activity_date": 1612904878, "last_edit_date": 1612904878, "creation_date": 1612904337, "answer_id": 66127052, "question_id": 34482136, "link": "https://stackoverflow.com/questions/34482136/mongoose-the-typescript-way/66127052#66127052", "title": "Mongoose the Typescript way...?", "body": "<p>I find the following approach the easiest and most efficient since it validates the keys in the schema with the extra interface you define, helping you keep everything in sync.</p>\n<p>You also get the amazing typescript autocomplete suggestions when you are adding/changing schema validator properties like maxlength, lowercase, etc on the schema.</p>\n<p>Win win!</p>\n<pre><code>\nimport { Document, model, Schema, SchemaDefinitionProperty } from &quot;mongoose&quot;;\n\ntype TDocument&lt;Fields&gt; = Fields &amp; Document;\ntype TSchema&lt;Fields&gt; = Record&lt;keyof Fields, SchemaDefinitionProperty&gt;;\n\ntype UserFields = {\n  email: string;\n  firstName?: string;\n  roles?: string[];\n};\n\nconst userSchema: TSchema&lt;UserFields&gt; = {\n  email: { type: Schema.Types.String, required: true, index: true },\n  firstName: { type: Schema.Types.String, maxlength: 30, trim: true },\n  roles: [\n    { type: Schema.Types.String, maxlength: 20, lowercase: true },\n  ],\n};\n\nexport const User = model&lt;TDocument&lt;UserFields&gt;&gt;(\n  &quot;User&quot;,\n  new Schema(userSchema, { timestamps: true })\n);\n\n</code></pre>\n<p>Best part! you could reuse TDocument and TSchema types for all your models.</p>\n"}, {"tags": [], "owner": {"reputation": 2423, "user_id": 8437740, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/PsSye.png?s=128&g=1", "display_name": "Jithin", "link": "https://stackoverflow.com/users/8437740/jithin"}, "is_accepted": false, "score": 0, "last_activity_date": 1615197547, "creation_date": 1615197547, "answer_id": 66527712, "question_id": 34482136, "link": "https://stackoverflow.com/questions/34482136/mongoose-the-typescript-way/66527712#66527712", "title": "Mongoose the Typescript way...?", "body": "<p>Not sure this is what you are looking for\nbut there's a package called <a href=\"https://typegoose.github.io/\" rel=\"nofollow noreferrer\">Typegoose</a></p>\n"}], "owner": {"reputation": 1088, "user_id": 5703176, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-M1o9XKlTS74/AAAAAAAAAAI/AAAAAAAAAH8/7RaEE_ucJXo/photo.jpg?sz=128", "display_name": "Tim McNamara", "link": "https://stackoverflow.com/users/5703176/tim-mcnamara"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 79603, "favorite_count": 39, "accepted_answer_id": 34482413, "answer_count": 17, "score": 99, "last_activity_date": 1615197547, "creation_date": 1451231966, "last_edit_date": 1451233312, "question_id": 34482136, "link": "https://stackoverflow.com/questions/34482136/mongoose-the-typescript-way", "title": "Mongoose the Typescript way...?", "body": "<p>Trying to implement a Mongoose model in Typescript.  Scouring the Google has revealed only a hybrid approach (combining JS and TS).  How would one go about implementing the User class, on my rather naive approach, without the JS?</p>\n\n<p>Want to be able to IUserModel without the baggage.</p>\n\n<pre><code>import {IUser} from './user.ts';\nimport {Document, Schema, Model} from 'mongoose';\n\n// mixing in a couple of interfaces\ninterface IUserDocument extends IUser,  Document {}\n\n// mongoose, why oh why '[String]' \n// TODO: investigate out why mongoose needs its own data types\nlet userSchema: Schema = new Schema({\n  userName  : String,\n  password  : String,\n  firstName : String,\n  lastName  : String,\n  email     : String,\n  activated : Boolean,\n  roles     : [String]\n});\n\n// interface we want to code to?\nexport interface IUserModel extends Model&lt;IUserDocument&gt; {/* any custom methods here */}\n\n// stumped here\nexport class User {\n  constructor() {}\n}\n</code></pre>\n"}, {"tags": ["javascript", "node.js", "typescript", "bookshelf.js", "knex.js"], "comments": [{"owner": {"reputation": 11366, "user_id": 5388620, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/68887ac2aafbd1115f67fd30b0640778?s=128&d=identicon&r=PG&f=1", "display_name": "Shanoor", "link": "https://stackoverflow.com/users/5388620/shanoor"}, "edited": false, "score": 1, "creation_date": 1451226355, "post_id": 34481043, "comment_id": 56704295, "body": "I don&#39;t use Typescript but there is a definition for bookshelf and Knex, you can use <a href=\"https://www.npmjs.com/package/tsd\" rel=\"nofollow noreferrer\">tsd</a> to manage/install these definitions. Once installed, a decent code editor will use the definitions for autocompletions and documentation (Visual Studio Code for example)."}], "answers": [{"tags": [], "owner": {"reputation": 25995, "user_id": 5152732, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-eL0xfQom3xQ/AAAAAAAAAAI/AAAAAAAAB1E/j1B2Mcgvt6M/photo.jpg?sz=128", "display_name": "toskv", "link": "https://stackoverflow.com/users/5152732/toskv"}, "is_accepted": false, "score": 2, "last_activity_date": 1451226515, "creation_date": 1451226515, "answer_id": 34481378, "question_id": 34481043, "link": "https://stackoverflow.com/questions/34481043/strongly-typed-database-access-with-node-js-and-typescript/34481378#34481378", "title": "Strongly-typed database access with Node.JS and TypeScript", "body": "<p>You can find type definitions for a lot of js libraries in the <a href=\"https://github.com/DefinitelyTyped/DefinitelyTyped\" rel=\"nofollow\">DefinitelyTyped</a> repository on github.</p>\n\n<p>You can also add those definition files to your project using the <strong>tsd</strong> tool found <a href=\"http://definitelytyped.org/tsd/\" rel=\"nofollow\">here</a>.</p>\n\n<p>in short you need to run these 4 commands in a terminal.</p>\n\n<pre><code>$ npm install tsd -g\n$ tsd init\n$ tsd install knex\n$ tsd install bookshelf\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 25995, "user_id": 5152732, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-eL0xfQom3xQ/AAAAAAAAAAI/AAAAAAAAB1E/j1B2Mcgvt6M/photo.jpg?sz=128", "display_name": "toskv", "link": "https://stackoverflow.com/users/5152732/toskv"}, "edited": false, "score": 0, "creation_date": 1451236418, "post_id": 34482644, "comment_id": 56707514, "body": "d.ts files can be found for bookshelf and knex they just have to be added to the project that&#39;s all. :)"}, {"owner": {"reputation": 5844, "user_id": 1075401, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/b38e877fe17599d7eec56bfcc52eb63d?s=128&d=identicon&r=PG", "display_name": "gilamran", "link": "https://stackoverflow.com/users/1075401/gilamran"}, "reply_to_user": {"reputation": 25995, "user_id": 5152732, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-eL0xfQom3xQ/AAAAAAAAAAI/AAAAAAAAB1E/j1B2Mcgvt6M/photo.jpg?sz=128", "display_name": "toskv", "link": "https://stackoverflow.com/users/5152732/toskv"}, "edited": false, "score": 0, "creation_date": 1451309312, "post_id": 34482644, "comment_id": 56730278, "body": "I saw your answer and I don&#39;t think he asked for these kind of definitions. He wanted the actual structure of the data..."}, {"owner": {"reputation": 25995, "user_id": 5152732, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-eL0xfQom3xQ/AAAAAAAAAAI/AAAAAAAAB1E/j1B2Mcgvt6M/photo.jpg?sz=128", "display_name": "toskv", "link": "https://stackoverflow.com/users/5152732/toskv"}, "edited": false, "score": 0, "creation_date": 1451309642, "post_id": 34482644, "comment_id": 56730433, "body": "hm.. you are right,reading the question again it does sound more like he wants to have type definitions for the objects he stores in the database."}], "tags": [], "owner": {"reputation": 5844, "user_id": 1075401, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/b38e877fe17599d7eec56bfcc52eb63d?s=128&d=identicon&r=PG", "display_name": "gilamran", "link": "https://stackoverflow.com/users/1075401/gilamran"}, "is_accepted": false, "score": 2, "last_activity_date": 1451235349, "creation_date": 1451235349, "answer_id": 34482644, "question_id": 34481043, "link": "https://stackoverflow.com/questions/34481043/strongly-typed-database-access-with-node-js-and-typescript/34482644#34482644", "title": "Strongly-typed database access with Node.JS and TypeScript", "body": "<p>Are are asking for something that currently is not available.<br>\nBUT, can actually be done! You will have to do some hard work!  </p>\n\n<p>As you (Probably) know, TypeScript is used only in dev time, nothing goes into the runtime, so you are asking for type verification against your database structure.</p>\n\n<p>You will have to create a build step that runs before the typescript compiler, this new build step should generates a d.ts file out of your database structure. It should connect to the database, investigate it, and output the interface the describe its structure.  </p>\n\n<p>Please note that this structure will change according to the database you are using...</p>\n\n<p>Another solution will be to manually create the d.ts files yourself, and once your database structure changes, you will have to also reflect that (manually) in the definitions file as well.</p>\n"}, {"comments": [{"owner": {"reputation": 686, "user_id": 183972, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/66003d13d0d6f798630d97aba06609e6?s=128&d=identicon&r=PG", "display_name": "woolyninja", "link": "https://stackoverflow.com/users/183972/woolyninja"}, "edited": false, "score": 0, "creation_date": 1494405321, "post_id": 37504393, "comment_id": 74808850, "body": "This was a great answer - helped me get this working in my project, thanks!"}], "tags": [], "owner": {"reputation": 181, "user_id": 6288002, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/409bf59e627fc204cdbc4d22d4bf3b7e?s=128&d=identicon&r=PG", "display_name": "Mashaal", "link": "https://stackoverflow.com/users/6288002/mashaal"}, "is_accepted": false, "score": 17, "last_activity_date": 1492699880, "last_edit_date": 1592644375, "creation_date": 1464475291, "answer_id": 37504393, "question_id": 34481043, "link": "https://stackoverflow.com/questions/34481043/strongly-typed-database-access-with-node-js-and-typescript/37504393#37504393", "title": "Strongly-typed database access with Node.JS and TypeScript", "body": "<p>I searched the web for examples on how to use Bookshelfjs with Typescript and there were no articles or blog posts that could help. I did find  tests distributed as part of the DefinatelyTyped <a href=\"https://github.com/DefinitelyTyped/DefinitelyTyped/blob/master/types/bookshelf/bookshelf-tests.ts\" rel=\"noreferrer\">test file</a> on github, which were a good starting point. Further, most likely you would want to store each model in its own file, which would require the Bookshelfjs registry plugin. <a href=\"http://billpatrianakos.me/blog/2015/11/30/how-to-structure-bookshelf-dot-js-models/\" rel=\"noreferrer\">This article</a> explains why but in the context of regular javascript.</p>\n<p>Putting it all together, assuming you've installed typings for knexjs and bookshelfjs properly. Using your code as inspiration, read further:</p>\n<p>You might have a file called &quot;Config.ts&quot; that has all your database details in it:</p>\n<pre><code>import * as Knex from 'knex';\nimport * as Bookshelf from 'bookshelf';\n\nexport class Config {\n\n    private static _knex:Knex = Knex({\n        client: 'mysql',\n        connection: {\n            host     : '127.0.0.1',\n            user     : 'your_database_user',\n            password : 'your_database_password',\n            database : 'myapp_test',\n            charset  : 'utf8'\n        }\n    });\n\n    private static bookshelf:Bookshelf = Bookshelf(Config.knex);\n\n    public static bookshelf(): Bookshelf {\n        Config.bookshelf.plugin('registry');\n        return Config._bookshelf;\n    }\n}\n</code></pre>\n<p>You might have a filed called &quot;Blog.ts&quot; to hold the Blog model (and another called &quot;Post.ts&quot; to hold the Post model):</p>\n<pre><code>import {Config} from './Config';\nimport {Post} from './Post';\n\nexport class Blog extends Config.bookshelf.Model&lt;Blog&gt; \n{ \n    get tableName() { return 'books'; }\n\n    // strongly typed model properties linked to columns in table\n    public get BlogId(): number {return this.get('id');}\n    public set BlogId(value: number) {this.set({id: value})}\n    public get Name(): string {return this.get('name');}\n    public set Name(value: string) {this.set({name: value});}\n\n    posts(): Bookshelf.Collection&lt;Post&gt; {\n        return this.hasMany(Post);\n    } \n}\n\nmodule.exports = Server.bookshelf.model('Blog', Blog);\n</code></pre>\n<p>And in your &quot;App.ts&quot; file you would run your code like so:</p>\n<pre><code>import {Config} from './Config';\nimport {Blog} from './Blog';\n\nvar blog = new Blog();\nblog.set({ Name : &quot;My new blog&quot;, BlogId : 1 }); \n    .save(); \n</code></pre>\n<p>I haven't tested the code here so I may have some small typos but you get the idea. Note that I've used title case for class properties, but I've used snake case for the database fields. For Bookshelf to work out of the box certain naming conventions must be adhered to like the Id field for every table being called 'id' and foreign keys for relationships have singular version of table name (e.g. for users table, the Id in the table would be 'id' but the foreign key in the login table would be 'user_id').</p>\n<p>Anyway, whe best way to figure out how to use Bookshelfjs with TypeScript thought (in light of the lack of documentation on the subject) would be to take a look at the Bookshelfjs documentation in combination with the DefinatelyTyped typedef bookshelf.d.ts file.</p>\n"}], "owner": {"reputation": 101, "user_id": 5720646, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/48fc092449852cfd4ed407e54a6b00fb?s=128&d=identicon&r=PG&f=1", "display_name": "Kai Bo", "link": "https://stackoverflow.com/users/5720646/kai-bo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 8268, "favorite_count": 3, "answer_count": 3, "score": 7, "last_activity_date": 1492699880, "creation_date": 1451224108, "question_id": 34481043, "link": "https://stackoverflow.com/questions/34481043/strongly-typed-database-access-with-node-js-and-typescript", "title": "Strongly-typed database access with Node.JS and TypeScript", "body": "<p>When we use <code>C#</code>, we can access our database in a strongly-typed manner using Code-First approach:</p>\n\n<pre><code>public class Blog \n{ \n    public int BlogId { get; set; } \n    public string Name { get; set; } \n    public virtual List&lt;Post&gt; Posts { get; set; } \n}\n...\npublic class Database : DbContext \n{ \n    public DbSet&lt;Blog&gt; Blogs { get; set; } \n    public DbSet&lt;Post&gt; Posts { get; set; } \n}\nvar db = new Database()\nvar blog = new Blog { Name = \"My new blog\", BlogId = 1 }; \ndb.Blogs.Add(blog); \ndb.SaveChanges(); // save object to database\n</code></pre>\n\n<p>The compiler will encure that we only access existing properties/methods and also that we use correct types everywhere in our code.</p>\n\n<p>How can I do the same with <code>TypeScript</code> and <code>Node.JS</code>?</p>\n\n<p>I found <code>Knex.JS</code> and <code>bookshelf</code> libraries for database access, but I cannot find any samples on how to uses them with strongly-typed <code>TypeScript</code> objects and classes.</p>\n"}, {"tags": ["javascript", "angular", "typescript", "dependency-injection"], "comments": [{"owner": {"reputation": 483726, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1451201434, "post_id": 34478353, "comment_id": 56698559, "body": "As far as I know injectables (AjaxService)  need to be annotated with <code>@Injectable()</code> in TS."}, {"owner": {"reputation": 5187, "user_id": 2759075, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/OUIOd.png?s=128&g=1", "display_name": "Yaron Schwimmer", "link": "https://stackoverflow.com/users/2759075/yaron-schwimmer"}, "edited": false, "score": 0, "creation_date": 1451207391, "post_id": 34478353, "comment_id": 56699740, "body": "where do you use the <code>User</code> class? is it a component? does it have a template?"}], "answers": [{"comments": [{"owner": {"reputation": 2606, "user_id": 1890135, "user_type": "registered", "accept_rate": 48, "profile_image": "https://i.stack.imgur.com/8A052.jpg?s=128&g=1", "display_name": "monty_lennie", "link": "https://stackoverflow.com/users/1890135/monty-lennie"}, "edited": false, "score": 0, "creation_date": 1451248078, "post_id": 34479641, "comment_id": 56710826, "body": "I think you only need @Injectable in the services that you want to inject into other components?"}, {"owner": {"reputation": 6245, "user_id": 4911384, "user_type": "registered", "accept_rate": 50, "profile_image": "https://lh6.googleusercontent.com/-pRKkwUEJZws/AAAAAAAAAAI/AAAAAAAAA-A/VAn5zKHtzzQ/photo.jpg?sz=128", "display_name": "Vlado Tesanovic", "link": "https://stackoverflow.com/users/4911384/vlado-tesanovic"}, "reply_to_user": {"reputation": 2606, "user_id": 1890135, "user_type": "registered", "accept_rate": 48, "profile_image": "https://i.stack.imgur.com/8A052.jpg?s=128&g=1", "display_name": "monty_lennie", "link": "https://stackoverflow.com/users/1890135/monty-lennie"}, "edited": false, "score": 0, "creation_date": 1451249669, "post_id": 34479641, "comment_id": 56711312, "body": "Yes, that is true. Also, you need to include Service in array of providers for component."}], "tags": [], "owner": {"reputation": 6245, "user_id": 4911384, "user_type": "registered", "accept_rate": 50, "profile_image": "https://lh6.googleusercontent.com/-pRKkwUEJZws/AAAAAAAAAAI/AAAAAAAAA-A/VAn5zKHtzzQ/photo.jpg?sz=128", "display_name": "Vlado Tesanovic", "link": "https://stackoverflow.com/users/4911384/vlado-tesanovic"}, "is_accepted": false, "score": 2, "last_activity_date": 1488962963, "last_edit_date": 1488962963, "creation_date": 1451213016, "answer_id": 34479641, "question_id": 34478353, "link": "https://stackoverflow.com/questions/34478353/angular2-dependency-injection-service-not-being-injected-during-class-inheritan/34479641#34479641", "title": "Angular2 dependency injection, service not being injected during class inheritance", "body": "<p>Each class in Angular 2 that you want to inject you must annotate. If it is not component, you must annotate it with <code>@Injectable()</code> annotation. If you inject class that already inject other class, you must create provider for that. </p>\n\n<pre><code>import {Injectable} from 'angular2/core';\nimport {Base} from './base';\n@Injectable()\nexport class User extends Base {\n}\n</code></pre>\n\n<p>I created Plunker for you, i hope that it will solve your problem:</p>\n\n<p><a href=\"http://plnkr.co/edit/p4o6w9GjWZWGfzA6cv41?p=preview\" rel=\"nofollow noreferrer\">http://plnkr.co/edit/p4o6w9GjWZWGfzA6cv41?p=preview</a></p>\n\n<p>( look at console output )</p>\n\n<p>PS. Please use Observable instead of Promises</p>\n"}, {"comments": [{"owner": {"reputation": 217, "user_id": 5423781, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8b6f1e58f44e71663d1a263ab8163bf9?s=128&d=identicon&r=PG&f=1", "display_name": "Sam Jason Braddock", "link": "https://stackoverflow.com/users/5423781/sam-jason-braddock"}, "edited": false, "score": 0, "creation_date": 1476459772, "post_id": 34481787, "comment_id": 67370186, "body": "Thanks for the answer. I&#39;m trying to reduce code duplication but this is going to be a nightmare..."}], "tags": [], "owner": {"reputation": 36971, "user_id": 336423, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/7F8Fe.jpg?s=128&g=1", "display_name": "TGH", "link": "https://stackoverflow.com/users/336423/tgh"}, "is_accepted": false, "score": 9, "last_activity_date": 1451229783, "last_edit_date": 1451229783, "creation_date": 1451229467, "answer_id": 34481787, "question_id": 34478353, "link": "https://stackoverflow.com/questions/34478353/angular2-dependency-injection-service-not-being-injected-during-class-inheritan/34481787#34481787", "title": "Angular2 dependency injection, service not being injected during class inheritance", "body": "<p>It's ok to inject services in the base, but you have to pass it in from the User class regardless. You can't inherit the actual instantiation of the service from the Base, so you have to pass it down to the Base from User. This is not a limitation of TypeScript, but rather a feature of how DI works in general. </p>\n\n<p>Something like this:</p>\n\n<pre><code>class User extends Base\n  constructor(service: AjaxService) {\n        super(service);\n  }\n</code></pre>\n\n<p>If the Base instantiated the service for you, you would not be able to affect the instantiation from User. This would negate a lot of the benefits of DI overall since you would lose control by delegating dependency control to a different component. </p>\n\n<p>I understand that you might be trying to reduce code duplication by specifying this in the Base, but this goes against the principle of DI.</p>\n"}], "owner": {"reputation": 2606, "user_id": 1890135, "user_type": "registered", "accept_rate": 48, "profile_image": "https://i.stack.imgur.com/8A052.jpg?s=128&g=1", "display_name": "monty_lennie", "link": "https://stackoverflow.com/users/1890135/monty-lennie"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2406, "favorite_count": 2, "answer_count": 2, "score": 11, "last_activity_date": 1513194897, "creation_date": 1451199977, "last_edit_date": 1513194897, "question_id": 34478353, "link": "https://stackoverflow.com/questions/34478353/angular2-dependency-injection-service-not-being-injected-during-class-inheritan", "title": "Angular2 dependency injection, service not being injected during class inheritance", "body": "<p>I'm using <code>angular2</code> with <code>Typescript</code>. I'm trying to create a <code>base class</code> that can be inherited by other classes and within the base class, a service is injected. So far I can not get the <code>ajaxService</code> <code>injected</code> correctly into the <code>base class</code> that is being <code>inherited</code> into the <code>user class</code>. Specifically when a user is instantiated, and then the <code>save()</code> method is called from the <code>user</code> instance, the following line in the <code>base class</code>: <code>return _this._ajaxService.send(options);</code> doesn't work since <code>_ajaxService</code> is undefined. </p>\n\n<p>Here is a <code>user class</code> that extends the <code>base class</code>:</p>\n\n<pre><code>import {Base} from '../utils/base';\n\nexport class User extends Base {\n\n  // properties\n  id = null;\n  email = null;\n  password = null;\n  first_name = null;\n  last_name = null;\n\n  constructor(source) {\n    _super.CopyProperties(source, this);\n  }\n}\n</code></pre>\n\n<p>Here is the <code>base class</code>:</p>\n\n<pre><code>import {Component} from 'angular2/core';\nimport {AjaxService} from './ajax.service';\n\n@Component({\n  providers: [AjaxService]\n})\n\nexport class Base {\n\n  constructor(private _ajaxService: AjaxService) { }\n\n  // methods\n  public static CopyProperties(source:any, target:any):void {\n    for(var prop in source){\n      if(target[prop] !== undefined){\n          target[prop] = source[prop];\n      }\n      else {\n          console.error(\"Cannot set undefined property: \" + prop);\n      }\n    }\n  }\n\n  save(options) {\n    const _this = this;\n    return Promise.resolve()\n    .then(() =&gt; {\n      const className = _this.constructor.name\n                            .toLowerCase() + 's';\n      const options = {\n        data: JSON.stringify(_this),\n        url: className,\n        action: _this.id ? 'PATCH' : 'POST';\n      };\n\n      debugger;\n      return _this._ajaxService.send(options);\n    });\n  }\n}\n</code></pre>\n\n<p>This works fine except that <code>AjaxService</code> is not being injected into the base class. I guess this makes sense since user is being instantiated not base. </p>\n\n<p>So how can I use <code>AjaxService</code> in the <code>Base module</code> when when `Base module is being extended on another class?</p>\n\n<p>I guess when I instantiate user, the constructor in the user class is called but the constructor in the base class that injects the service is not being called.  </p>\n\n<p>Here's the <code>AjaxService</code>:</p>\n\n<pre><code>   import {Injectable} from 'angular2/core';\n\n@Injectable()\n\nexport class AjaxService {\n\n  // methods\n  send(options) {\n    const endpoint = options.url || \"\";\n    const action = options.action || \"GET\";\n    const data = options.data || {};\n\n    return new Promise((resolve,reject) =&gt; {\n      debugger;\n      $.ajax({\n        url: 'http://localhost:3000' + endpoint,\n        headers: {\n          Authentication: \"\",\n          Accept: \"application/vnd.app.v1\",\n          \"Content-Type\": \"application/json\"\n        },\n        data: data,\n        method: action\n      })\n      .done((response) =&gt; {\n        debugger;\n        return resolve(response);\n      })\n      .fail((err) =&gt; {\n        debugger;\n        return reject(err);\n      });\n    });\n\n  }\n\n}\n</code></pre>\n"}, {"tags": ["node.js", "typescript", "systemjs"], "comments": [{"owner": {"reputation": 632, "user_id": 1796236, "user_type": "registered", "accept_rate": 44, "profile_image": "https://i.stack.imgur.com/HghlS.jpg?s=128&g=1", "display_name": "Pablo", "link": "https://stackoverflow.com/users/1796236/pablo"}, "edited": false, "score": 1, "creation_date": 1451185037, "post_id": 34477129, "comment_id": 56696010, "body": "What exactly is the problem? How do you know you were not able?"}, {"owner": {"reputation": 61, "user_id": 5719712, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e28049f9ef1f8d13c712f712dbd280ec?s=128&d=identicon&r=PG&f=1", "display_name": "Maquh", "link": "https://stackoverflow.com/users/5719712/maquh"}, "reply_to_user": {"reputation": 632, "user_id": 1796236, "user_type": "registered", "accept_rate": 44, "profile_image": "https://i.stack.imgur.com/HghlS.jpg?s=128&g=1", "display_name": "Pablo", "link": "https://stackoverflow.com/users/1796236/pablo"}, "edited": false, "score": 0, "creation_date": 1451210708, "post_id": 34477129, "comment_id": 56700447, "body": "Added terminal output"}, {"owner": {"reputation": 21426, "user_id": 2495283, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/62ef72b32709062aa479476844515073?s=128&d=identicon&r=PG", "display_name": "Claies", "link": "https://stackoverflow.com/users/2495283/claies"}, "edited": false, "score": 0, "creation_date": 1451211559, "post_id": 34477129, "comment_id": 56700632, "body": "you are showing <code>boot.ts</code>, which doesn&#39;t appear to have the line that appears to be crashing from <code>boot.js</code>.  can you show the disk contents (compiled output) of <code>boot.js</code>?"}, {"owner": {"reputation": 6268, "user_id": 1644422, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/01c7fb4b20926d4dcf7d1125f7adac9f?s=128&d=identicon&r=PG", "display_name": "Louay Alakkad", "link": "https://stackoverflow.com/users/1644422/louay-alakkad"}, "edited": false, "score": 0, "creation_date": 1451235234, "post_id": 34477129, "comment_id": 56707118, "body": "did you try doing this: <code>global.System = require(&#39;systemjs&#39;);</code> in boot.ts?"}, {"owner": {"reputation": 61, "user_id": 5719712, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e28049f9ef1f8d13c712f712dbd280ec?s=128&d=identicon&r=PG&f=1", "display_name": "Maquh", "link": "https://stackoverflow.com/users/5719712/maquh"}, "edited": false, "score": 0, "creation_date": 1451254026, "post_id": 34477129, "comment_id": 56712580, "body": "I tried to do this (it seems similar to define global.ts stated on <a href=\"https://github.com/systemjs/systemjs\" rel=\"nofollow noreferrer\">github.com/systemjs/systemjs</a> ) but the error is still the same. I think the main problem is, that the <code>&quot;module&quot;: &quot;system&quot;</code> in the tsconfig.json wich always adds those System.register before I&#39;m able to declare what System is."}, {"owner": {"reputation": 6268, "user_id": 1644422, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/01c7fb4b20926d4dcf7d1125f7adac9f?s=128&d=identicon&r=PG", "display_name": "Louay Alakkad", "link": "https://stackoverflow.com/users/1644422/louay-alakkad"}, "edited": false, "score": 0, "creation_date": 1451255592, "post_id": 34477129, "comment_id": 56713040, "body": "Right. In that case you&#39;ll need a js entry file. Just create a new js file, add that line and add <code>require(&#39;.&#47;boot.js&#39;);</code>."}, {"owner": {"reputation": 61, "user_id": 5719712, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e28049f9ef1f8d13c712f712dbd280ec?s=128&d=identicon&r=PG&f=1", "display_name": "Maquh", "link": "https://stackoverflow.com/users/5719712/maquh"}, "edited": false, "score": 0, "creation_date": 1451257332, "post_id": 34477129, "comment_id": 56713510, "body": "Adding a new file (run.js) did also not work: <code>&#47;Users&#47;maquh&#47;Development&#47;02_Backgular&#47;server&#47;node_modules&#47;sy&zwnj;&#8203;stemjs&#47;dist&#47;system.s&zwnj;&#8203;rc.js:2777           throw new TypeError(&#39;Unexpected anonymous System.register call.&#39;);</code>  I also tried the following <b>boot.ts</b>: <code>var System = require(&#39;systemjs&#39;);   System.transpiler = &#39;ts&#39;;   System.import(&#39;.&#47;app.js&#39;).then(function(m) {    console.log(m);  }, function(err) {    console.error(err);  });</code> Error: <code>[Error: ENOENT: no such file or directory, open &#39;&#47;Users&#47;maquh&#47;Development&#47;02_Backgular&#47;server&#47;restify&#39;]</code>"}], "answers": [{"tags": [], "owner": {"reputation": 15239, "user_id": 476660, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/09171bb788cf74ff2141dc8f706f84bb?s=128&d=identicon&r=PG", "display_name": "Grofit", "link": "https://stackoverflow.com/users/476660/grofit"}, "is_accepted": false, "score": 2, "last_activity_date": 1457512475, "creation_date": 1457512475, "answer_id": 35886565, "question_id": 34477129, "link": "https://stackoverflow.com/questions/34477129/setting-up-typescript-for-node-by-using-module-system-is-not-working/35886565#35886565", "title": "Setting up TypeScript for node by using module=system is not working", "body": "<p>System uses ES6 module loaders which nodejs (to my knowledge) does not currently support, your initial use case was right where you were outputting to <code>commonjs</code>. If you want to use the ES6 style module resolution within node you will need to tell node how to load it such as:</p>\n\n<p><a href=\"https://www.npmjs.com/package/es6-module-loader\" rel=\"nofollow\">https://www.npmjs.com/package/es6-module-loader</a></p>\n\n<p>I use typescript in node fine but I use <code>commonjs</code>, I have used <code>system</code> in the browser before and it works fine when you have ES6 module loaders available such as SystemJs (JSPM).</p>\n"}], "owner": {"reputation": 61, "user_id": 5719712, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e28049f9ef1f8d13c712f712dbd280ec?s=128&d=identicon&r=PG&f=1", "display_name": "Maquh", "link": "https://stackoverflow.com/users/5719712/maquh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2913, "favorite_count": 0, "answer_count": 1, "score": 6, "last_activity_date": 1457512475, "creation_date": 1451183941, "last_edit_date": 1451257854, "question_id": 34477129, "link": "https://stackoverflow.com/questions/34477129/setting-up-typescript-for-node-by-using-module-system-is-not-working", "title": "Setting up TypeScript for node by using module=system is not working", "body": "<p>I tried to setup a restify project using typescript.\nAfter various tries I was able to create a working version by using \"module: commonjs\" in the tsconfig.json</p>\n\n<p>I'd prefer to use system - but I wasn't able to set it up with systemjs</p>\n\n<p><strong>boot.ts</strong></p>\n\n<pre><code>import {AppServer} from './app';\n\nvar _appServer = new AppServer();\n</code></pre>\n\n<p><strong>tsconfig.json</strong></p>\n\n<pre><code>{\n  \"compilerOptions\": {\n    \"target\": \"ES5\",\n    \"module\": \"commonjs\",\n    \"moduleResolution\": \"node\",\n    \"sourceMap\": true,\n    \"emitDecoratorMetadata\": true,\n    \"experimentalDecorators\": true,\n    \"removeComments\": false,\n    \"noImplicitAny\": false\n  },\n  \"exclude\": [\n    \"node_modules\"\n  ]\n}\n</code></pre>\n\n<p><strong>app.ts</strong></p>\n\n<pre><code>/// &lt;reference path=\"typings/restify/restify.d.ts\" /&gt;\nimport {Server, Response, Request, createServer} from 'restify';\n\nexport class AppServer {\n\n  private server: Server;\n\n  constructor() {\n    this.init();\n  }\n\n  init() {\n    this.server = createServer();\n    this.server.get('/hello/:name', this.respond);\n\n    this.server.listen(8080, () =&gt; {\n      console.log('%s listening at %s', this.server.name, this.server.url);\n    });\n  }\n\n  respond(req: Request, res: Response, next: Function) {\n    res.send('hello ' + req.params.name);\n    next();\n  }\n\n}\n</code></pre>\n\n<p>using\n<code>\"module\": \"system\"</code>\nin the tsconfig.json, I get the following output (even with <code>import System = require('systemjs')</code>in the boot.ts):</p>\n\n<pre><code>\u279c  server git:(master) \u2717 npm run server                                                        \n\n&gt; server@1.0.0 server /Users/maquh/Development/02_Backgular/server\n&gt; node boot.js\n\n/Users/maquh/Development/02_Backgular/server/boot.js:1\n(function (exports, require, module, __filename, __dirname) { System.register(['./app'], function(exports_1) {\n                                                              ^\n\nReferenceError: System is not defined\n    at Object.&lt;anonymous&gt; (/Users/maquh/Development/02_Backgular/server/boot.js:1:63)\n    at Module._compile (module.js:425:26)\n    at Object.Module._extensions..js (module.js:432:10)\n    at Module.load (module.js:356:32)\n    at Function.Module._load (module.js:313:12)\n    at Function.Module.runMain (module.js:457:10)\n    at startup (node.js:138:18)\n    at node.js:974:3\n</code></pre>\n\n<p><strong>Transpiled boot.js</strong></p>\n\n<pre><code>System.register(['./app'], function(exports_1) {\n    var app_1;\n    var _appServer;\n    return {\n        setters:[\n            function (app_1_1) {\n                app_1 = app_1_1;\n            }],\n        execute: function() {\n            //System.import('./app.ts').\n            _appServer = new app_1.AppServer();\n        }\n    }\n});\n//# sourceMappingURL=boot.js.map\n</code></pre>\n\n<p>UPDATE:\nI also tried another alternative version of <strong>boot.ts</strong></p>\n\n<pre><code>var System = require('systemjs');\n\nSystem.transpiler = 'ts';\n\n\nSystem.import('./app.js').then(function(m) {\n  console.log(m);\n}, function(err) {\n  console.error(err);\n});\n</code></pre>\n\n<p>those leads to the following error:</p>\n\n<pre><code>[Error: ENOENT: no such file or directory, open '/Users/markusbellgardt/Development/02_Backgular/server/restify']\n</code></pre>\n"}, {"tags": ["typescript", "gulp", "webstorm"], "comments": [{"owner": {"reputation": 25995, "user_id": 5152732, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-eL0xfQom3xQ/AAAAAAAAAAI/AAAAAAAAB1E/j1B2Mcgvt6M/photo.jpg?sz=128", "display_name": "toskv", "link": "https://stackoverflow.com/users/5152732/toskv"}, "edited": false, "score": 0, "creation_date": 1451170035, "post_id": 34475852, "comment_id": 56693659, "body": "just as a note, VisualCode does not rely on gulp to show the errors, it compiles itself (most likely using tsc directly). Maybe look for a TypeScript plugin for WebStorm?"}, {"owner": {"reputation": 25995, "user_id": 5152732, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-eL0xfQom3xQ/AAAAAAAAAAI/AAAAAAAAB1E/j1B2Mcgvt6M/photo.jpg?sz=128", "display_name": "toskv", "link": "https://stackoverflow.com/users/5152732/toskv"}, "edited": false, "score": 0, "creation_date": 1451170101, "post_id": 34475852, "comment_id": 56693669, "body": "this page seems to show how to set WebStorm for typescript. :) <a href=\"https://www.jetbrains.com/webstorm/help/typescript-support.html\" rel=\"nofollow noreferrer\">jetbrains.com/webstorm/help/typescript-support.html</a>"}, {"owner": {"reputation": 25995, "user_id": 5152732, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-eL0xfQom3xQ/AAAAAAAAAAI/AAAAAAAAB1E/j1B2Mcgvt6M/photo.jpg?sz=128", "display_name": "toskv", "link": "https://stackoverflow.com/users/5152732/toskv"}, "edited": false, "score": 0, "creation_date": 1451171034, "post_id": 34475852, "comment_id": 56693879, "body": "I just installed WebStorm 11 and it works fine with my projects, what&#39;s your setup?"}, {"owner": {"reputation": 1482, "user_id": 1139775, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/a3bdb52dd9c382311f8e02457d8bfcac?s=128&d=identicon&r=PG", "display_name": "Simon Trewhella", "link": "https://stackoverflow.com/users/1139775/simon-trewhella"}, "reply_to_user": {"reputation": 25995, "user_id": 5152732, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-eL0xfQom3xQ/AAAAAAAAAAI/AAAAAAAAB1E/j1B2Mcgvt6M/photo.jpg?sz=128", "display_name": "toskv", "link": "https://stackoverflow.com/users/5152732/toskv"}, "edited": false, "score": 0, "creation_date": 1451171160, "post_id": 34475852, "comment_id": 56693910, "body": "Guys, please note I want to use Gulp, not the TypeScript integration. The normal integration works fine, but I want it as a gulp task. Also VSCode allows you to pipe gulp errors to its error output so it hooks up"}], "answers": [{"tags": [], "owner": {"reputation": 72406, "user_id": 2274212, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f05f19aded7e6cfc60f184796e8e02a4?s=128&d=identicon&r=PG", "display_name": "lena", "link": "https://stackoverflow.com/users/2274212/lena"}, "is_accepted": true, "score": 2, "last_activity_date": 1451314838, "creation_date": 1451314838, "answer_id": 34495830, "question_id": 34475852, "link": "https://stackoverflow.com/questions/34475852/add-errors-from-gulp-typescript-task-to-webstorm/34495830#34495830", "title": "Add errors from Gulp Typescript task to WebStorm", "body": "<p>Doesn't work currently, please vote for <a href=\"https://youtrack.jetbrains.com/issue/WEB-19636\" rel=\"nofollow\">WEB-19636</a></p>\n"}], "owner": {"reputation": 1482, "user_id": 1139775, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/a3bdb52dd9c382311f8e02457d8bfcac?s=128&d=identicon&r=PG", "display_name": "Simon Trewhella", "link": "https://stackoverflow.com/users/1139775/simon-trewhella"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 91, "favorite_count": 1, "accepted_answer_id": 34495830, "answer_count": 1, "score": 2, "last_activity_date": 1451314838, "creation_date": 1451168971, "question_id": 34475852, "link": "https://stackoverflow.com/questions/34475852/add-errors-from-gulp-typescript-task-to-webstorm", "title": "Add errors from Gulp Typescript task to WebStorm", "body": "<p>I'm using gulp-typescript to compile my TypeScript and I use WebStorm. Currently, compilation errors appear in my output window and I'd like to be able to double-click them to go to the line TypeScript has identified. In VSCode, you can add those errors to the IDE, but I don't see how with WebStorm.</p>\n\n<p>Anyone know how to do this?</p>\n"}, {"tags": ["http", "angular", "typescript"], "comments": [{"owner": {"reputation": 1800, "user_id": 2551623, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/f2dc635cee34eff59dc0bebc4d35b813?s=128&d=identicon&r=PG&f=1", "display_name": "pratikpawar", "link": "https://stackoverflow.com/users/2551623/pratikpawar"}, "edited": false, "score": 0, "creation_date": 1451166702, "post_id": 34475523, "comment_id": 56692740, "body": "<a href=\"http://stackoverflow.com/questions/26541801/how-to-send-json-data-in-url-as-request-parameters-in-java\" title=\"how to send json data in url as request parameters in java\">stackoverflow.com/questions/26541801/&hellip;</a> refer this. Create URL before call and pass it to subscribe function in place of BASE_URL. 2cents"}], "answers": [{"comments": [{"owner": {"reputation": 4539, "user_id": 3276721, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/1f4Z5.png?s=128&g=1", "display_name": "Miguel Lattuada", "link": "https://stackoverflow.com/users/3276721/miguel-lattuada"}, "edited": false, "score": 0, "creation_date": 1451168058, "post_id": 34475594, "comment_id": 56693097, "body": "Thanks for that, It helped."}, {"owner": {"reputation": 25995, "user_id": 5152732, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-eL0xfQom3xQ/AAAAAAAAAAI/AAAAAAAAB1E/j1B2Mcgvt6M/photo.jpg?sz=128", "display_name": "toskv", "link": "https://stackoverflow.com/users/5152732/toskv"}, "reply_to_user": {"reputation": 4539, "user_id": 3276721, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/1f4Z5.png?s=128&g=1", "display_name": "Miguel Lattuada", "link": "https://stackoverflow.com/users/3276721/miguel-lattuada"}, "edited": false, "score": 0, "creation_date": 1451168159, "post_id": 34475594, "comment_id": 56693129, "body": "yw, I&#39;ll add an example soon, or you can do it if you have it working already. :)"}, {"owner": {"reputation": 4539, "user_id": 3276721, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/1f4Z5.png?s=128&g=1", "display_name": "Miguel Lattuada", "link": "https://stackoverflow.com/users/3276721/miguel-lattuada"}, "edited": false, "score": 0, "creation_date": 1451168291, "post_id": 34475594, "comment_id": 56693178, "body": "Sure I&#39;ll share a gist for it. I was testing it."}, {"owner": {"reputation": 4539, "user_id": 3276721, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/1f4Z5.png?s=128&g=1", "display_name": "Miguel Lattuada", "link": "https://stackoverflow.com/users/3276721/miguel-lattuada"}, "edited": false, "score": 2, "creation_date": 1451168691, "post_id": 34475594, "comment_id": 56693298, "body": "A gist: <a href=\"https://gist.github.com/MiguelLattuada/bb502d84854ad9fc26e0\" rel=\"nofollow noreferrer\">gist.github.com/MiguelLattuada/bb502d84854ad9fc26e0</a> how to use URLSearchParams object, thanks again @toskv"}, {"owner": {"reputation": 3183, "user_id": 2593877, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/DKCvz.jpg?s=128&g=1", "display_name": "Logan H", "link": "https://stackoverflow.com/users/2593877/logan-h"}, "edited": false, "score": 1, "creation_date": 1474061875, "post_id": 34475594, "comment_id": 66394837, "body": "Super slick with the URLSearchParams! Solved my issue with serializing JSON object."}, {"owner": {"reputation": 555, "user_id": 1375807, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/63b73ae16852473eba72d0c4174d5daf?s=128&d=identicon&r=PG", "display_name": "SlimSim", "link": "https://stackoverflow.com/users/1375807/slimsim"}, "edited": false, "score": 0, "creation_date": 1477883549, "post_id": 34475594, "comment_id": 67927332, "body": "There is no need for the variables, just use string interpolation with {    search: <code>var1=${val1}&amp;var2=${val2}</code>  }"}, {"owner": {"reputation": 11106, "user_id": 1264321, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/ubcLZ.png?s=128&g=1", "display_name": "Stefan", "link": "https://stackoverflow.com/users/1264321/stefan"}, "edited": false, "score": 0, "creation_date": 1479480337, "post_id": 34475594, "comment_id": 68589503, "body": "Does that mean, if I already have a link containing parameters (string), I have to cut it into pieces and rebuild it as the second method parameter?"}, {"owner": {"reputation": 25995, "user_id": 5152732, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-eL0xfQom3xQ/AAAAAAAAAAI/AAAAAAAAB1E/j1B2Mcgvt6M/photo.jpg?sz=128", "display_name": "toskv", "link": "https://stackoverflow.com/users/5152732/toskv"}, "reply_to_user": {"reputation": 11106, "user_id": 1264321, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/ubcLZ.png?s=128&g=1", "display_name": "Stefan", "link": "https://stackoverflow.com/users/1264321/stefan"}, "edited": false, "score": 0, "creation_date": 1479481893, "post_id": 34475594, "comment_id": 68590592, "body": "@Stefan no, it should work just fine if you use i as the url."}, {"owner": {"reputation": 9207, "user_id": 631527, "user_type": "registered", "accept_rate": 36, "profile_image": "https://i.stack.imgur.com/92e59.jpg?s=128&g=1", "display_name": "Toolkit", "link": "https://stackoverflow.com/users/631527/toolkit"}, "edited": false, "score": 0, "creation_date": 1481033558, "post_id": 34475594, "comment_id": 69203283, "body": "can o pass the whole object? i don&#39;t want to mess with each param in my service"}, {"owner": {"reputation": 25995, "user_id": 5152732, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-eL0xfQom3xQ/AAAAAAAAAAI/AAAAAAAAB1E/j1B2Mcgvt6M/photo.jpg?sz=128", "display_name": "toskv", "link": "https://stackoverflow.com/users/5152732/toskv"}, "reply_to_user": {"reputation": 9207, "user_id": 631527, "user_type": "registered", "accept_rate": 36, "profile_image": "https://i.stack.imgur.com/92e59.jpg?s=128&g=1", "display_name": "Toolkit", "link": "https://stackoverflow.com/users/631527/toolkit"}, "edited": false, "score": 1, "creation_date": 1481035382, "post_id": 34475594, "comment_id": 69204429, "body": "@Toolkit looking at the api it is you can&#39;t give an object. If type safety is not a priority it might be that something like SilmSlim proposed might suit you better."}, {"owner": {"reputation": 25995, "user_id": 5152732, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-eL0xfQom3xQ/AAAAAAAAAAI/AAAAAAAAB1E/j1B2Mcgvt6M/photo.jpg?sz=128", "display_name": "toskv", "link": "https://stackoverflow.com/users/5152732/toskv"}, "reply_to_user": {"reputation": 9207, "user_id": 631527, "user_type": "registered", "accept_rate": 36, "profile_image": "https://i.stack.imgur.com/92e59.jpg?s=128&g=1", "display_name": "Toolkit", "link": "https://stackoverflow.com/users/631527/toolkit"}, "edited": false, "score": 0, "creation_date": 1481036358, "post_id": 34475594, "comment_id": 69205192, "body": "@Toolkit it should also be fairly easy to itterate over an object&#39;s keys and have them set in the params object."}, {"owner": {"reputation": 748, "user_id": 6107820, "user_type": "registered", "accept_rate": 83, "profile_image": "https://graph.facebook.com/1016692225091409/picture?type=large", "display_name": "Sukumar MS", "link": "https://stackoverflow.com/users/6107820/sukumar-ms"}, "edited": false, "score": 0, "creation_date": 1495186427, "post_id": 34475594, "comment_id": 75156932, "body": "@toskv. i too had similar kind of issue but mine is quite different. your ans helped me getting url binding with params.                                      finally i need to build an url to call my rest api server using this url ( <a href=\"http://testsite.com/category/page/:pageId/:activeFilter\" rel=\"nofollow noreferrer\">testsite.com/category/page/:pageId/:activeFilter</a> )  i tried a lot. but it is not coming as i expected, this is what i am getting /category/page/?pageId=0&amp;activeFilter=1  in my server console. i want to send only numerical number like <code>&#47;category&#47;page&#47;0&#47;1</code>  any suggestions please"}, {"owner": {"reputation": 25995, "user_id": 5152732, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-eL0xfQom3xQ/AAAAAAAAAAI/AAAAAAAAB1E/j1B2Mcgvt6M/photo.jpg?sz=128", "display_name": "toskv", "link": "https://stackoverflow.com/users/5152732/toskv"}, "reply_to_user": {"reputation": 748, "user_id": 6107820, "user_type": "registered", "accept_rate": 83, "profile_image": "https://graph.facebook.com/1016692225091409/picture?type=large", "display_name": "Sukumar MS", "link": "https://stackoverflow.com/users/6107820/sukumar-ms"}, "edited": false, "score": 2, "creation_date": 1495191011, "post_id": 34475594, "comment_id": 75160035, "body": "@SukumarMS there&#39;s really no need for anything special since it&#39;s part of the path. Just concatenate the strings &#39;blabla.com/page/&#39; + page +&#39;/activeFilter&#39; + activeFilter. Or if you want to use template literals `blabla.com/page/${page}/${activeFilter}`."}, {"owner": {"reputation": 1095, "user_id": 2350850, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/6119ca95719b00c39801124c9e193d28?s=128&d=identicon&r=PG", "display_name": "ocespedes", "link": "https://stackoverflow.com/users/2350850/ocespedes"}, "edited": false, "score": 0, "creation_date": 1496780224, "post_id": 34475594, "comment_id": 75798011, "body": "@toskv is there any way to iterate the params in the class URLSearchParams once they are set?"}, {"owner": {"reputation": 25995, "user_id": 5152732, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-eL0xfQom3xQ/AAAAAAAAAAI/AAAAAAAAB1E/j1B2Mcgvt6M/photo.jpg?sz=128", "display_name": "toskv", "link": "https://stackoverflow.com/users/5152732/toskv"}, "reply_to_user": {"reputation": 1095, "user_id": 2350850, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/6119ca95719b00c39801124c9e193d28?s=128&d=identicon&r=PG", "display_name": "ocespedes", "link": "https://stackoverflow.com/users/2350850/ocespedes"}, "edited": false, "score": 0, "creation_date": 1496782489, "post_id": 34475594, "comment_id": 75799162, "body": "@ocespedes check the documentation, there&#39;s a paramsMap property on the UrlSearchParams class."}, {"owner": {"reputation": 159, "user_id": 4990374, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a5d3ef3ae5b746b7ccf980f28464ea4c?s=128&d=identicon&r=PG&f=1", "display_name": "Alexander Suvorov", "link": "https://stackoverflow.com/users/4990374/alexander-suvorov"}, "edited": false, "score": 10, "creation_date": 1499348708, "post_id": 34475594, "comment_id": 76876455, "body": "this works for me: <code>http.get(url, {params: {var1: val1, var2: val2}})</code>"}, {"owner": {"reputation": 1237, "user_id": 2500040, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/c89722b908b56bbe061f692086a8c4e3?s=128&d=identicon&r=PG", "display_name": "BotanMan", "link": "https://stackoverflow.com/users/2500040/botanman"}, "edited": false, "score": 8, "creation_date": 1499679281, "post_id": 34475594, "comment_id": 76990435, "body": "<code>search</code> property has been depricated from 4.0.0 -&gt; use <code>params</code> instead"}, {"owner": {"reputation": 25995, "user_id": 5152732, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-eL0xfQom3xQ/AAAAAAAAAAI/AAAAAAAAB1E/j1B2Mcgvt6M/photo.jpg?sz=128", "display_name": "toskv", "link": "https://stackoverflow.com/users/5152732/toskv"}, "edited": false, "score": 0, "creation_date": 1499681297, "post_id": 34475594, "comment_id": 76991890, "body": "you are right, I&#39;ll update the answer with the 4.0.0 way of doing it"}, {"owner": {"reputation": 2758, "user_id": 4184670, "user_type": "registered", "accept_rate": 63, "profile_image": "https://lh5.googleusercontent.com/-srjOBPyZ3EA/AAAAAAAAAAI/AAAAAAAAAHk/QkrBFiVfDj0/photo.jpg?sz=128", "display_name": "Winnemucca", "link": "https://stackoverflow.com/users/4184670/winnemucca"}, "edited": false, "score": 0, "creation_date": 1507570985, "post_id": 34475594, "comment_id": 80253200, "body": "I am wondering if this query params are best handled in the component or in the service?"}, {"owner": {"reputation": 25995, "user_id": 5152732, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-eL0xfQom3xQ/AAAAAAAAAAI/AAAAAAAAB1E/j1B2Mcgvt6M/photo.jpg?sz=128", "display_name": "toskv", "link": "https://stackoverflow.com/users/5152732/toskv"}, "reply_to_user": {"reputation": 2758, "user_id": 4184670, "user_type": "registered", "accept_rate": 63, "profile_image": "https://lh5.googleusercontent.com/-srjOBPyZ3EA/AAAAAAAAAAI/AAAAAAAAAHk/QkrBFiVfDj0/photo.jpg?sz=128", "display_name": "Winnemucca", "link": "https://stackoverflow.com/users/4184670/winnemucca"}, "edited": false, "score": 0, "creation_date": 1507619640, "post_id": 34475594, "comment_id": 80269728, "body": "@Winnemucca that depends on your application. It works anywhere."}, {"owner": {"reputation": 1909, "user_id": 1930552, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/COrSq.jpg?s=128&g=1", "display_name": "Musa Haidari", "link": "https://stackoverflow.com/users/1930552/musa-haidari"}, "edited": false, "score": 0, "creation_date": 1517903481, "post_id": 34475594, "comment_id": 84272172, "body": "Just as a side note URLSearchParams is deprecated"}, {"owner": {"reputation": 25995, "user_id": 5152732, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-eL0xfQom3xQ/AAAAAAAAAAI/AAAAAAAAB1E/j1B2Mcgvt6M/photo.jpg?sz=128", "display_name": "toskv", "link": "https://stackoverflow.com/users/5152732/toskv"}, "reply_to_user": {"reputation": 1909, "user_id": 1930552, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/COrSq.jpg?s=128&g=1", "display_name": "Musa Haidari", "link": "https://stackoverflow.com/users/1930552/musa-haidari"}, "edited": false, "score": 1, "creation_date": 1517905327, "post_id": 34475594, "comment_id": 84273121, "body": "@Musa you are right, I&#39;ll add a comment saying that."}], "tags": [], "owner": {"reputation": 25995, "user_id": 5152732, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-eL0xfQom3xQ/AAAAAAAAAAI/AAAAAAAAB1E/j1B2Mcgvt6M/photo.jpg?sz=128", "display_name": "toskv", "link": "https://stackoverflow.com/users/5152732/toskv"}, "is_accepted": true, "score": 363, "last_activity_date": 1543268855, "last_edit_date": 1543268855, "creation_date": 1451167008, "answer_id": 34475594, "question_id": 34475523, "link": "https://stackoverflow.com/questions/34475523/how-to-pass-url-arguments-query-string-to-a-http-request-on-angular/34475594#34475594", "title": "How to pass url arguments (query string) to a HTTP request on Angular?", "body": "<p>The <strong><a href=\"https://angular.io/api/common/http/HttpClient\" rel=\"noreferrer\">HttpClient</a></strong> methods allow you to set the <strong>params</strong> in it's options.</p>\n\n<p>You can configure it by importing the <strong><a href=\"https://angular.io/api/common/http\" rel=\"noreferrer\">HttpClientModule</a></strong> from the @angular/common/http package.</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>import {HttpClientModule} from '@angular/common/http';\n\n@NgModule({\n  imports: [ BrowserModule, HttpClientModule ],\n  declarations: [ App ],\n  bootstrap: [ App ]\n})\nexport class AppModule {}\n</code></pre>\n\n\n\n<p>After that you can inject the <strong>HttpClient</strong> and use it to do the request.</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>import {HttpClient} from '@angular/common/http'\n\n@Component({\n  selector: 'my-app',\n  template: `\n    &lt;div&gt;\n      &lt;h2&gt;Hello {{name}}&lt;/h2&gt;\n    &lt;/div&gt;\n  `,\n})\nexport class App {\n  name:string;\n  constructor(private httpClient: HttpClient) {\n    this.httpClient.get('/url', {\n      params: {\n        appid: 'id1234',\n        cnt: '5'\n      },\n      observe: 'response'\n    })\n    .toPromise()\n    .then(response =&gt; {\n      console.log(response);\n    })\n    .catch(console.log);\n  }\n}\n</code></pre>\n\n\n\n<p>For angular versions prior to version 4 you can do the same using the <strong>Http</strong> service.</p>\n\n<p>The <strong>Http.get</strong> method takes an object that implements <a href=\"https://angular.io/docs/ts/latest/api/http/index/RequestOptionsArgs-interface.html\" rel=\"noreferrer\">RequestOptionsArgs</a> as a second parameter.</p>\n\n<p>The <strong>search</strong> field of that object can be used to set a string or a <a href=\"https://angular.io/docs/ts/latest/api/http/index/URLSearchParams-class.html\" rel=\"noreferrer\">URLSearchParams</a> object.</p>\n\n<p>An example:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code> // Parameters obj-\n let params: URLSearchParams = new URLSearchParams();\n params.set('appid', StaticSettings.API_KEY);\n params.set('cnt', days.toString());\n\n //Http request-\n return this.http.get(StaticSettings.BASE_URL, {\n   search: params\n }).subscribe(\n   (response) =&gt; this.onGetForecastResult(response.json()), \n   (error) =&gt; this.onGetForecastError(error.json()), \n   () =&gt; this.onGetForecastComplete()\n );\n</code></pre>\n\n\n\n<p>The documentation for the <strong>Http</strong> class has more details. It can be found <a href=\"https://angular.io/docs/ts/latest/api/http/index/Http-class.html\" rel=\"noreferrer\">here</a> and an working example <a href=\"https://plnkr.co/edit/pKdztZBHr0wr1YLmmI8P?p=preview\" rel=\"noreferrer\">here</a>.</p>\n"}, {"tags": [], "owner": {"reputation": 2113, "user_id": 671674, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Rw92L.jpg?s=128&g=1", "display_name": "ethemsulan", "link": "https://stackoverflow.com/users/671674/ethemsulan"}, "is_accepted": false, "score": 9, "last_activity_date": 1509089859, "last_edit_date": 1509089859, "creation_date": 1479216367, "answer_id": 40610989, "question_id": 34475523, "link": "https://stackoverflow.com/questions/34475523/how-to-pass-url-arguments-query-string-to-a-http-request-on-angular/40610989#40610989", "title": "How to pass url arguments (query string) to a HTTP request on Angular?", "body": "<p>My example</p>\n\n<pre><code>private options = new RequestOptions({headers: new Headers({'Content-Type': 'application/json'})});\n</code></pre>\n\n<p>My method</p>\n\n<pre><code>  getUserByName(name: string): Observable&lt;MyObject[]&gt; {\n    //set request params\n    let params: URLSearchParams = new URLSearchParams();\n    params.set(\"name\", name);\n    //params.set(\"surname\", surname); for more params\n    this.options.search = params;\n\n    let url = \"http://localhost:8080/test/user/\";\n    console.log(\"url: \", url);\n\n    return this.http.get(url, this.options)\n      .map((resp: Response) =&gt; resp.json() as MyObject[])\n      .catch(this.handleError);\n  }\n\n  private handleError(err) {\n    console.log(err);\n    return Observable.throw(err || 'Server error');\n  }\n</code></pre>\n\n<p>in my  component</p>\n\n<pre><code>  userList: User[] = [];\n  this.userService.getUserByName(this.userName).subscribe(users =&gt; {\n      this.userList = users;\n    });\n</code></pre>\n\n<p>By postman</p>\n\n<pre><code>http://localhost:8080/test/user/?name=Ethem\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 9207, "user_id": 631527, "user_type": "registered", "accept_rate": 36, "profile_image": "https://i.stack.imgur.com/92e59.jpg?s=128&g=1", "display_name": "Toolkit", "link": "https://stackoverflow.com/users/631527/toolkit"}, "is_accepted": false, "score": 0, "last_activity_date": 1486559378, "last_edit_date": 1486559378, "creation_date": 1481045834, "answer_id": 41001495, "question_id": 34475523, "link": "https://stackoverflow.com/questions/34475523/how-to-pass-url-arguments-query-string-to-a-http-request-on-angular/41001495#41001495", "title": "How to pass url arguments (query string) to a HTTP request on Angular?", "body": "<pre><code>import ...\ndeclare var $:any;\n...\ngetSomeEndPoint(params:any): Observable&lt;any[]&gt; {\n    var qStr = $.param(params); //&lt;---YOUR GUY\n    return this._http.get(this._adUrl+\"?\"+qStr)\n      .map((response: Response) =&gt; &lt;any[]&gt; response.json())\n      .catch(this.handleError);\n}\n</code></pre>\n\n<p>provided that you have <a href=\"https://github.com/angular/angular-cli#3rd-party-library-installation\" rel=\"nofollow noreferrer\">installed jQuery</a>, I do <code>npm i jquery --save</code> and include in <code>apps.scripts</code> in <code>angular-cli.json</code></p>\n"}, {"comments": [{"owner": {"reputation": 3300, "user_id": 2779525, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7979241a9096b6bdd4437ffadf50fd77?s=128&d=identicon&r=PG", "display_name": "hardsetting", "link": "https://stackoverflow.com/users/2779525/hardsetting"}, "edited": false, "score": 3, "creation_date": 1487858262, "post_id": 41533506, "comment_id": 71980806, "body": "Not working for me. I digged into the source code and found that the second parameter of http.get expects a RequestOptionsArgs interface, which URLSearchParams does not implement. Wrapping the searchParams inside a RequestOptions object works. Would be nice to have a shortcut though."}, {"owner": {"reputation": 9413, "user_id": 5131937, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/D9pW6.jpg?s=128&g=1", "display_name": "Radouane ROUFID", "link": "https://stackoverflow.com/users/5131937/radouane-roufid"}, "reply_to_user": {"reputation": 3300, "user_id": 2779525, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7979241a9096b6bdd4437ffadf50fd77?s=128&d=identicon&r=PG", "display_name": "hardsetting", "link": "https://stackoverflow.com/users/2779525/hardsetting"}, "edited": false, "score": 3, "creation_date": 1487862717, "post_id": 41533506, "comment_id": 71984371, "body": "You are totally right, I forgot <code>RequestOptions</code>. I updated my answer."}, {"owner": {"reputation": 1113, "user_id": 3466890, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/uonpm.png?s=128&g=1", "display_name": "Hayden Braxton", "link": "https://stackoverflow.com/users/3466890/hayden-braxton"}, "edited": false, "score": 1, "creation_date": 1495403384, "post_id": 41533506, "comment_id": 75224404, "body": "Thanks for pointing out deprecation of <code>search</code>. Fixed my prob"}, {"owner": {"reputation": 1757, "user_id": 7547940, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/o9hMH.jpg?s=128&g=1", "display_name": "rayepps", "link": "https://stackoverflow.com/users/7547940/rayepps"}, "edited": false, "score": 0, "creation_date": 1499810264, "post_id": 41533506, "comment_id": 77064640, "body": "Thank you for pointing this change out! All docs and issues I&#39;ve found for hours have been telling me to attach params to <code>search</code> property."}], "tags": [], "owner": {"reputation": 9413, "user_id": 5131937, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/D9pW6.jpg?s=128&g=1", "display_name": "Radouane ROUFID", "link": "https://stackoverflow.com/users/5131937/radouane-roufid"}, "is_accepted": false, "score": 190, "last_activity_date": 1504858279, "last_edit_date": 1592644375, "creation_date": 1483884097, "answer_id": 41533506, "question_id": 34475523, "link": "https://stackoverflow.com/questions/34475523/how-to-pass-url-arguments-query-string-to-a-http-request-on-angular/41533506#41533506", "title": "How to pass url arguments (query string) to a HTTP request on Angular?", "body": "<h2>Edit Angular &gt;= 4.3.x</h2>\n<p><a href=\"https://angular.io/guide/http\" rel=\"noreferrer\">HttpClient</a> has been introduced along with <a href=\"https://angular.io/api/common/http/HttpParams\" rel=\"noreferrer\">HttpParams</a>. Below an example of use :</p>\n<pre><code>import { HttpParams, HttpClient } from '@angular/common/http';\n\nconstructor(private http: HttpClient) { }\n\nlet params = new HttpParams();\nparams = params.append('var1', val1);\nparams = params.append('var2', val2);\n\nthis.http.get(StaticSettings.BASE_URL, {params: params}).subscribe(...);\n</code></pre>\n<hr />\n<p>(Old answers)</p>\n<h2>Edit Angular &gt;= 4.x</h2>\n<p><code>requestOptions.search</code> has been deprecated. Use <code>requestOptions.params</code> instead :</p>\n<pre><code>let requestOptions = new RequestOptions();\nrequestOptions.params = params;\n</code></pre>\n<hr />\n<h2>Original answer (Angular 2)</h2>\n<p>You need to import <code>URLSearchParams</code> as below</p>\n<pre><code>import { Http, RequestOptions, URLSearchParams } from '@angular/http';\n</code></pre>\n<p>And then build your parameters and make the http request as the following :</p>\n<pre><code>let params: URLSearchParams = new URLSearchParams();\nparams.set('var1', val1);\nparams.set('var2', val2);\n\nlet requestOptions = new RequestOptions();\nrequestOptions.search = params;\n\nthis.http.get(StaticSettings.BASE_URL, requestOptions)\n    .toPromise()\n    .then(response =&gt; response.json())\n...\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 2758, "user_id": 4184670, "user_type": "registered", "accept_rate": 63, "profile_image": "https://lh5.googleusercontent.com/-srjOBPyZ3EA/AAAAAAAAAAI/AAAAAAAAAHk/QkrBFiVfDj0/photo.jpg?sz=128", "display_name": "Winnemucca", "link": "https://stackoverflow.com/users/4184670/winnemucca"}, "edited": false, "score": 0, "creation_date": 1507571420, "post_id": 41836049, "comment_id": 80253413, "body": "In the get request on your service I am missing how you are handling the get request."}, {"owner": {"reputation": 1366, "user_id": 4807889, "user_type": "registered", "accept_rate": 45, "profile_image": "https://graph.facebook.com/10153645629657370/picture?type=large", "display_name": "mjwrazor", "link": "https://stackoverflow.com/users/4807889/mjwrazor"}, "reply_to_user": {"reputation": 2758, "user_id": 4184670, "user_type": "registered", "accept_rate": 63, "profile_image": "https://lh5.googleusercontent.com/-srjOBPyZ3EA/AAAAAAAAAAI/AAAAAAAAAHk/QkrBFiVfDj0/photo.jpg?sz=128", "display_name": "Winnemucca", "link": "https://stackoverflow.com/users/4184670/winnemucca"}, "edited": false, "score": 0, "creation_date": 1507576080, "post_id": 41836049, "comment_id": 80255958, "body": "Oh I guess you would put the http get request in that method as a return like ethumsulan&#39;s answer"}], "tags": [], "owner": {"reputation": 1366, "user_id": 4807889, "user_type": "registered", "accept_rate": 45, "profile_image": "https://graph.facebook.com/10153645629657370/picture?type=large", "display_name": "mjwrazor", "link": "https://stackoverflow.com/users/4807889/mjwrazor"}, "is_accepted": false, "score": 5, "last_activity_date": 1485281621, "creation_date": 1485281621, "answer_id": 41836049, "question_id": 34475523, "link": "https://stackoverflow.com/questions/34475523/how-to-pass-url-arguments-query-string-to-a-http-request-on-angular/41836049#41836049", "title": "How to pass url arguments (query string) to a HTTP request on Angular?", "body": "<p>If you plan on sending more than one parameter.</p>\n\n<h3>Component</h3>\n\n<pre><code>private options = {\n  sort:   '-id',\n  select: null,\n  limit:  1000,\n  skip:   0,\n  from:   null,\n  to:     null\n};\n\nconstructor(private service: Service) { }\n\nngOnInit() {\n  this.service.getAllItems(this.options)\n    .subscribe((item: Item[]) =&gt; {\n      this.item = item;\n    });\n}\n</code></pre>\n\n<h3>Service</h3>\n\n<pre><code>private options = new RequestOptions({headers: new Headers({'Content-Type': 'application/json'})});\nconstructor(private http: Http) { }\n\ngetAllItems(query: any) {\n  let params: URLSearchParams = new URLSearchParams();\n  for(let key in query){\n    params.set(key.toString(), query[key]);\n  }\n  this.options.search = params;\n  this.header = this.headers();\n</code></pre>\n\n<p>And continue with your http request just how @ethemsulan did.</p>\n\n<h3>Server side route</h3>\n\n<pre><code>router.get('/api/items', (req, res) =&gt; {\n  let q = {};\n  let skip = req.query.skip;\n  let limit = req.query.limit;\n  let sort  = req.query.sort;\n  q.from = req.query.from;\n  q.to = req.query.to;\n\n  Items.find(q)\n    .skip(skip)\n    .limit(limit)\n    .sort(sort)\n    .exec((err, items) =&gt; {\n      if(err) {\n        return res.status(500).json({\n          title: \"An error occurred\",\n          error: err\n        });\n      }\n      res.status(200).json({\n        message: \"Success\",\n        obj:  items\n      });\n    });\n});\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 2526, "user_id": 1470979, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/YfFx9.png?s=128&g=1", "display_name": "Rahmathullah M", "link": "https://stackoverflow.com/users/1470979/rahmathullah-m"}, "is_accepted": false, "score": 68, "last_activity_date": 1612778847, "last_edit_date": 1612778847, "creation_date": 1501663695, "answer_id": 45455904, "question_id": 34475523, "link": "https://stackoverflow.com/questions/34475523/how-to-pass-url-arguments-query-string-to-a-http-request-on-angular/45455904#45455904", "title": "How to pass url arguments (query string) to a HTTP request on Angular?", "body": "<h2>Version 5+</h2>\n<p>With Angular 5 and up, you <strong>DON'T have to use HttpParams</strong>. You can directly send your json object as shown below.</p>\n<pre><code>let data = {limit: &quot;2&quot;};\nthis.httpClient.get&lt;any&gt;(apiUrl, {params: data});\n</code></pre>\n<p>Please note that data values should be string, ie; <code>{ params: {limit: &quot;2&quot;}}</code></p>\n<h2>Version 4.3.x+</h2>\n<p>Use <strong>HttpParams, HttpClient</strong> from <strong>@angular/common/http</strong></p>\n<pre><code>import { HttpParams, HttpClient } from '@angular/common/http';\n...\nconstructor(private httpClient: HttpClient) { ... }\n...\nlet params = new HttpParams();\nparams = params.append(&quot;page&quot;, 1);\n....\nthis.httpClient.get&lt;any&gt;(apiUrl, {params: params});\n</code></pre>\n<p>Also, try stringifying your nested object using <code>JSON.stringify()</code>.</p>\n"}, {"comments": [{"owner": {"reputation": 4539, "user_id": 3276721, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/1f4Z5.png?s=128&g=1", "display_name": "Miguel Lattuada", "link": "https://stackoverflow.com/users/3276721/miguel-lattuada"}, "edited": false, "score": 2, "creation_date": 1532309660, "post_id": 51468512, "comment_id": 89909472, "body": "That&#39;s was a change added in version 5. Already added here <a href=\"https://stackoverflow.com/a/45455904/3276721\">stackoverflow.com/a/45455904/3276721</a>"}], "tags": [], "owner": {"reputation": 1097, "user_id": 10081795, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a234b8bacfbe3f87a6bc8622f5302ab4?s=128&d=identicon&r=PG&f=1", "display_name": "Stefan Mitic", "link": "https://stackoverflow.com/users/10081795/stefan-mitic"}, "is_accepted": false, "score": 15, "last_activity_date": 1532287106, "creation_date": 1532287106, "answer_id": 51468512, "question_id": 34475523, "link": "https://stackoverflow.com/questions/34475523/how-to-pass-url-arguments-query-string-to-a-http-request-on-angular/51468512#51468512", "title": "How to pass url arguments (query string) to a HTTP request on Angular?", "body": "<p><strong>Angular 6</strong></p>\n\n<p>You can pass in parameters needed for get call by using params:</p>\n\n<pre><code>this.httpClient.get&lt;any&gt;(url, { params: x });\n</code></pre>\n\n<p>where x = { property: \"123\" }.</p>\n\n<p>As for the api function that logs \"123\":</p>\n\n<pre><code>router.get('/example', (req, res) =&gt; {\n    console.log(req.query.property);\n})\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 529, "user_id": 9674606, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ffcf31ad4b472763b94b76c7d55a2200?s=128&d=identicon&r=PG&f=1", "display_name": "vbrgr", "link": "https://stackoverflow.com/users/9674606/vbrgr"}, "is_accepted": false, "score": 0, "last_activity_date": 1536328243, "last_edit_date": 1536328243, "creation_date": 1536326639, "answer_id": 52223497, "question_id": 34475523, "link": "https://stackoverflow.com/questions/34475523/how-to-pass-url-arguments-query-string-to-a-http-request-on-angular/52223497#52223497", "title": "How to pass url arguments (query string) to a HTTP request on Angular?", "body": "<pre><code>import { Http, Response } from '@angular/http';\nconstructor(private _http: Http, private router: Router) {\n}\n\nreturn this._http.get('http://url/login/' + email + '/' + password)\n       .map((res: Response) =&gt; {\n           return res.json();\n        }).catch(this._handleError);\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 2837, "user_id": 7885651, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Q4CaH.jpg?s=128&g=1", "display_name": "Muhammed Ozdogan", "link": "https://stackoverflow.com/users/7885651/muhammed-ozdogan"}, "is_accepted": false, "score": 0, "last_activity_date": 1536430079, "creation_date": 1536430079, "answer_id": 52238059, "question_id": 34475523, "link": "https://stackoverflow.com/questions/34475523/how-to-pass-url-arguments-query-string-to-a-http-request-on-angular/52238059#52238059", "title": "How to pass url arguments (query string) to a HTTP request on Angular?", "body": "<p>You can use <a href=\"https://angular.io/guide/http#url-parameters\" rel=\"nofollow noreferrer\">Url Parameters</a> from the official documentation. </p>\n\n<p>Example: <code>this.httpClient.get(this.API, { params: new HttpParams().set('noCover', noCover) })</code></p>\n"}, {"comments": [{"owner": {"reputation": 4474, "user_id": 2419808, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/MKqDe.jpg?s=128&g=1", "display_name": "Yulian", "link": "https://stackoverflow.com/users/2419808/yulian"}, "edited": false, "score": 2, "creation_date": 1571232147, "post_id": 56816922, "comment_id": 103171589, "body": "This won&#39;t work if any of <code>searchParams</code>&#39; properties are not <code>string</code> values."}], "tags": [], "owner": {"reputation": 646, "user_id": 8668095, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s2WoT.jpg?s=128&g=1", "display_name": "Kapil Raghuwanshi", "link": "https://stackoverflow.com/users/8668095/kapil-raghuwanshi"}, "is_accepted": false, "score": 7, "last_activity_date": 1561805305, "creation_date": 1561805305, "answer_id": 56816922, "question_id": 34475523, "link": "https://stackoverflow.com/questions/34475523/how-to-pass-url-arguments-query-string-to-a-http-request-on-angular/56816922#56816922", "title": "How to pass url arguments (query string) to a HTTP request on Angular?", "body": "<p>In latest Angular 7/8, you can use the simplest approach:-</p>\n\n<pre><code>import { HttpClient, HttpHeaders, HttpParams } from '@angular/common/http';\n\ngetDetails(searchParams) {\n    const httpOptions = {\n        headers: { 'Content-Type': 'application/json' },\n        params: { ...searchParams}\n    };\n    return this.http.get(this.Url, httpOptions);\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 81, "user_id": 10711922, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gBBkx.png?s=128&g=1", "display_name": "Cristhian D", "link": "https://stackoverflow.com/users/10711922/cristhian-d"}, "is_accepted": false, "score": 2, "last_activity_date": 1586276679, "creation_date": 1586276679, "answer_id": 61084734, "question_id": 34475523, "link": "https://stackoverflow.com/questions/34475523/how-to-pass-url-arguments-query-string-to-a-http-request-on-angular/61084734#61084734", "title": "How to pass url arguments (query string) to a HTTP request on Angular?", "body": "<p>You can use <strong>HttpParams</strong> from @angular/common/http and pass a string with the query.\nFor example:</p>\n\n<pre><code>import { HttpClient, HttpParams } from '@angular/common/http';\nconst query = 'key=value' // date=2020-03-06\n\nconst options = {\n  params: new HttpParams({\n    fromString: query\n  })\n}\n</code></pre>\n\n<p>Now in your code</p>\n\n<pre><code>this.http.get(urlFull, options);\n</code></pre>\n\n<p>And this works for you :)</p>\n\n<p>I hoppe help you</p>\n"}], "owner": {"reputation": 4539, "user_id": 3276721, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/1f4Z5.png?s=128&g=1", "display_name": "Miguel Lattuada", "link": "https://stackoverflow.com/users/3276721/miguel-lattuada"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 526733, "favorite_count": 55, "protected_date": 1572331568, "accepted_answer_id": 34475594, "answer_count": 11, "score": 298, "last_activity_date": 1612778847, "creation_date": 1451166509, "last_edit_date": 1608800418, "question_id": 34475523, "link": "https://stackoverflow.com/questions/34475523/how-to-pass-url-arguments-query-string-to-a-http-request-on-angular", "title": "How to pass url arguments (query string) to a HTTP request on Angular?", "body": "<p>I would like to trigger HTTP request from an Angular component, but I do not know how to add URL arguments (query string) to it.</p>\n<pre class=\"lang-js prettyprint-override\"><code>this.http.get(StaticSettings.BASE_URL).subscribe(\n  (response) =&gt; this.onGetForecastResult(response.json()),\n  (error) =&gt; this.onGetForecastError(error.json()),\n  () =&gt; this.onGetForecastComplete()\n)\n</code></pre>\n<p>Now my <code>StaticSettings.BASE_URL</code> is like a URL without query string like: <code>http://atsomeplace.com/</code> but I want it to be like <code>http://atsomeplace.com/?var1=val1&amp;var2=val2</code></p>\n<p>How to add <code>var1</code>, and <code>var2</code> to my HTTP request object as an object?</p>\n<pre class=\"lang-js prettyprint-override\"><code>{\n  query: {\n    var1: val1,\n    var2: val2\n  }\n}\n</code></pre>\n<p>and then just the HTTP module does the job to parse it into URL query string.</p>\n"}, {"tags": ["javascript", "typescript"], "answers": [{"comments": [{"owner": {"reputation": 4127, "user_id": 1575291, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/256f3b1176c487cac3ffe79366aec371?s=128&d=identicon&r=PG", "display_name": "David Limkys", "link": "https://stackoverflow.com/users/1575291/david-limkys"}, "edited": false, "score": 1, "creation_date": 1451162699, "post_id": 34475035, "comment_id": 56691729, "body": "The issue that you pointed out seemed to be resolved, also <a href=\"https://github.com/Microsoft/TypeScript/wiki/Compiler-Options\" rel=\"nofollow noreferrer\">github.com/Microsoft/TypeScript/wiki/Compiler-Options</a> suggests that the --outFile flag as to be used with the --module flag."}, {"owner": {"reputation": 25995, "user_id": 5152732, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-eL0xfQom3xQ/AAAAAAAAAAI/AAAAAAAAB1E/j1B2Mcgvt6M/photo.jpg?sz=128", "display_name": "toskv", "link": "https://stackoverflow.com/users/5152732/toskv"}, "reply_to_user": {"reputation": 4127, "user_id": 1575291, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/256f3b1176c487cac3ffe79366aec371?s=128&d=identicon&r=PG", "display_name": "David Limkys", "link": "https://stackoverflow.com/users/1575291/david-limkys"}, "edited": false, "score": 0, "creation_date": 1451164236, "post_id": 34475035, "comment_id": 56692106, "body": "indeed, but it does not seem to be working. :( Maybe make an issue out of it on github?"}, {"owner": {"reputation": 25995, "user_id": 5152732, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-eL0xfQom3xQ/AAAAAAAAAAI/AAAAAAAAB1E/j1B2Mcgvt6M/photo.jpg?sz=128", "display_name": "toskv", "link": "https://stackoverflow.com/users/5152732/toskv"}, "reply_to_user": {"reputation": 4127, "user_id": 1575291, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/256f3b1176c487cac3ffe79366aec371?s=128&d=identicon&r=PG", "display_name": "David Limkys", "link": "https://stackoverflow.com/users/1575291/david-limkys"}, "edited": false, "score": 0, "creation_date": 1451164489, "post_id": 34475035, "comment_id": 56692180, "body": "btw, the resolutions of the issues on github do not seem to point to any actual changes to the code base, they always close with this being the default behaviour."}, {"owner": {"reputation": 25995, "user_id": 5152732, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-eL0xfQom3xQ/AAAAAAAAAAI/AAAAAAAAB1E/j1B2Mcgvt6M/photo.jpg?sz=128", "display_name": "toskv", "link": "https://stackoverflow.com/users/5152732/toskv"}, "reply_to_user": {"reputation": 4127, "user_id": 1575291, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/256f3b1176c487cac3ffe79366aec371?s=128&d=identicon&r=PG", "display_name": "David Limkys", "link": "https://stackoverflow.com/users/1575291/david-limkys"}, "edited": false, "score": 0, "creation_date": 1451164957, "post_id": 34475035, "comment_id": 56692303, "body": "I just noticed this. It looks like the fix for the issue I mentioned will be available in version 1.8. Maybe use typescript@next to get the latest now? <a href=\"https://github.com/Microsoft/TypeScript/wiki/Breaking-Changes\" rel=\"nofollow noreferrer\">github.com/Microsoft/TypeScript/wiki/Breaking-Changes</a>"}, {"owner": {"reputation": 25995, "user_id": 5152732, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-eL0xfQom3xQ/AAAAAAAAAAI/AAAAAAAAB1E/j1B2Mcgvt6M/photo.jpg?sz=128", "display_name": "toskv", "link": "https://stackoverflow.com/users/5152732/toskv"}, "reply_to_user": {"reputation": 4127, "user_id": 1575291, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/256f3b1176c487cac3ffe79366aec371?s=128&d=identicon&r=PG", "display_name": "David Limkys", "link": "https://stackoverflow.com/users/1575291/david-limkys"}, "edited": false, "score": 0, "creation_date": 1451165185, "post_id": 34475035, "comment_id": 56692357, "body": "And I can confirm this. if using typescript@next this works just fine. :) I&#39;ll edit my answer to include this too."}, {"owner": {"reputation": 24783, "user_id": 969613, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/Gg9TK.png?s=128&g=1", "display_name": "JMK", "link": "https://stackoverflow.com/users/969613/jmk"}, "edited": false, "score": 0, "creation_date": 1451947872, "post_id": 34475035, "comment_id": 56948385, "body": "@toskv My <i>module</i> is set to <i>commonjs</i> and my output file is still empty, is this to be expected too?"}, {"owner": {"reputation": 25995, "user_id": 5152732, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-eL0xfQom3xQ/AAAAAAAAAAI/AAAAAAAAB1E/j1B2Mcgvt6M/photo.jpg?sz=128", "display_name": "toskv", "link": "https://stackoverflow.com/users/5152732/toskv"}, "edited": false, "score": 0, "creation_date": 1451947918, "post_id": 34475035, "comment_id": 56948407, "body": "if you are using typescript 1.7.5 (latest released) yes"}, {"owner": {"reputation": 25995, "user_id": 5152732, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-eL0xfQom3xQ/AAAAAAAAAAI/AAAAAAAAB1E/j1B2Mcgvt6M/photo.jpg?sz=128", "display_name": "toskv", "link": "https://stackoverflow.com/users/5152732/toskv"}, "edited": false, "score": 0, "creation_date": 1451948017, "post_id": 34475035, "comment_id": 56948452, "body": "it&#39;s just something that was never implemented. if you want to use it though you can get the development version of tsc. just run: npm install -g typescript@next"}, {"owner": {"reputation": 24783, "user_id": 969613, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/Gg9TK.png?s=128&g=1", "display_name": "JMK", "link": "https://stackoverflow.com/users/969613/jmk"}, "edited": false, "score": 0, "creation_date": 1451948023, "post_id": 34475035, "comment_id": 56948454, "body": "Understand now, sorry I&#39;m a bit slow sometimes!"}, {"owner": {"reputation": 25995, "user_id": 5152732, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-eL0xfQom3xQ/AAAAAAAAAAI/AAAAAAAAB1E/j1B2Mcgvt6M/photo.jpg?sz=128", "display_name": "toskv", "link": "https://stackoverflow.com/users/5152732/toskv"}, "edited": false, "score": 3, "creation_date": 1451948155, "post_id": 34475035, "comment_id": 56948506, "body": "I edited the answer to include the @next part too, just so it&#39;s clearer. :)"}, {"owner": {"reputation": 8137, "user_id": 2559709, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/RHGiu.jpg?s=128&g=1", "display_name": "Alex Zhukovskiy", "link": "https://stackoverflow.com/users/2559709/alex-zhukovskiy"}, "edited": false, "score": 0, "creation_date": 1481117522, "post_id": 34475035, "comment_id": 69244670, "body": "@toskv and what if I want to compile each directory to its own file? For example I have <code>script&#47;x&#47;a.ts</code>, <code>script&#47;x&#47;b.ts</code>, <code>script&#47;y&#47;c.ts</code>, <code>script&#47;y&#47;d.ts</code>, <code>script&#47;y&#47;e.ts</code> and I want to get <code>script&#47;x.js</code> and <code>script&#47;y.js</code>. Now I&#39;m adding <code>tsconfig.json</code> in each folder which combines all script files into one, but I&#39;m looking for more elegant solution, because I want to have only one single <code>tsconfig.json</code> for such case. Is it possible at all?"}, {"owner": {"reputation": 25995, "user_id": 5152732, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-eL0xfQom3xQ/AAAAAAAAAAI/AAAAAAAAB1E/j1B2Mcgvt6M/photo.jpg?sz=128", "display_name": "toskv", "link": "https://stackoverflow.com/users/5152732/toskv"}, "edited": false, "score": 0, "creation_date": 1481117615, "post_id": 34475035, "comment_id": 69244742, "body": "I could see that doable with something like gulp-typescript. with tsc alone you&#39;ll need a tsconfig in each folder that you want compiled separately (as far as I know)."}, {"owner": {"reputation": 19972, "user_id": 1102051, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/6GqwA.jpg?s=128&g=1", "display_name": "vitaly-t", "link": "https://stackoverflow.com/users/1102051/vitaly-t"}, "edited": false, "score": 48, "creation_date": 1536588944, "post_id": 34475035, "comment_id": 91466967, "body": "Is there a better way to do this with TypeScript 3.x?"}, {"owner": {"reputation": 5962, "user_id": 3873510, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/YpJMi.jpg?s=128&g=1", "display_name": "Paul Razvan Berg", "link": "https://stackoverflow.com/users/3873510/paul-razvan-berg"}, "reply_to_user": {"reputation": 19972, "user_id": 1102051, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/6GqwA.jpg?s=128&g=1", "display_name": "vitaly-t", "link": "https://stackoverflow.com/users/1102051/vitaly-t"}, "edited": false, "score": 0, "creation_date": 1591826854, "post_id": 34475035, "comment_id": 110208269, "body": "@vitaly-t not natively, but there&#39;s a neat way with <a href=\"https://www.npmjs.com/package/@zeit/ncc\" rel=\"nofollow noreferrer\">ncc</a>. Check my <a href=\"https://stackoverflow.com/a/60175555/3873510\">answer</a>."}], "tags": [], "owner": {"reputation": 25995, "user_id": 5152732, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-eL0xfQom3xQ/AAAAAAAAAAI/AAAAAAAAB1E/j1B2Mcgvt6M/photo.jpg?sz=128", "display_name": "toskv", "link": "https://stackoverflow.com/users/5152732/toskv"}, "is_accepted": true, "score": 47, "last_activity_date": 1458237298, "last_edit_date": 1458237298, "creation_date": 1451162299, "answer_id": 34475035, "question_id": 34474651, "link": "https://stackoverflow.com/questions/34474651/typescript-compile-to-single-file/34475035#34475035", "title": "Typescript compile to single file", "body": "<p>This will be implemented in <strong>TypeSript 1.8</strong>. With that version the <strong>outFile</strong> option works when <strong>module</strong> is <strong>amd</strong> or <strong>system</strong>. </p>\n\n<p>At this time the feature is available in the development version of Typescript.\nTo install that run:</p>\n\n<pre><code>$ npm install -g typescript@next\n</code></pre>\n\n<p>For previous versions even if it's not obvious the <strong>module</strong> and the <strong>outFile</strong> options can not work together.</p>\n\n<p>You can check <a href=\"https://github.com/Microsoft/TypeScript/issues/1544\">this</a> issue for more details.</p>\n\n<hr>\n\n<p>If you want to output a single file with versions lower than 1.8 you can not use the <strong>module</strong> option in <strong>tsconfig.json</strong>. Instead you have to make namespaces using the <strong>module keyword</strong>.</p>\n\n<p>Your <strong>tsconfig.json</strong> file should look like this:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>{\n  \"compilerOptions\": {\n    \"target\": \"ES5\",\n    \"removeComments\": true,\n    \"preserveConstEnums\": true,\n    \"outFile\": \"./build/build.js\",\n    \"sourceRoot\": \"./src/\",\n    \"rootDir\": \"./src/\",\n    \"sourceMap\": true\n  }\n}\n</code></pre>\n\n\n\n<p>Also your TS files should look like this:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>module SomeModule {\n  export class RaceTrack {\n    constructor(private host: Element) {\n      host.appendChild(document.createElement(\"canvas\"));\n    }\n  }\n}\n</code></pre>\n\n\n\n<p>And instead of using the import statement you'll have to refer to the imports by namespace.</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>window.addEventListener(\"load\", (ev: Event) =&gt; {\n  var racetrack = new SomeModule.RaceTrack(document.getElementById(\"content\"));\n});\n</code></pre>\n\n\n"}, {"comments": [{"owner": {"reputation": 758, "user_id": 7441319, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a2c7723cec11c73621d4f848b43da582?s=128&d=identicon&r=PG&f=1", "display_name": "Alkis Mavridis", "link": "https://stackoverflow.com/users/7441319/alkis-mavridis"}, "edited": false, "score": 4, "creation_date": 1578857851, "post_id": 58042841, "comment_id": 105567106, "body": "Your solution does not work. I get &quot;Cannot compile modules using option &#39;outFile&#39; unless the &#39;--module&#39; flag is &#39;amd&#39; or &#39;system&#39;.&quot;"}, {"owner": {"reputation": 589, "user_id": 5748383, "user_type": "registered", "accept_rate": 89, "profile_image": "https://lh4.googleusercontent.com/-4GG1t-TZN2Y/AAAAAAAAAAI/AAAAAAAAAKk/GD2_xyc0ywQ/photo.jpg?sz=128", "display_name": "1valdis", "link": "https://stackoverflow.com/users/5748383/1valdis"}, "reply_to_user": {"reputation": 758, "user_id": 7441319, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a2c7723cec11c73621d4f848b43da582?s=128&d=identicon&r=PG&f=1", "display_name": "Alkis Mavridis", "link": "https://stackoverflow.com/users/7441319/alkis-mavridis"}, "edited": false, "score": 0, "creation_date": 1580482384, "post_id": 58042841, "comment_id": 106122865, "body": "@AlkisMavridis same for me. Did you find a solution?"}, {"owner": {"reputation": 2294, "user_id": 2444386, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/0709acfbbd3c51b74dd89b712a2e0394?s=128&d=identicon&r=PG", "display_name": "Daniel Barral", "link": "https://stackoverflow.com/users/2444386/daniel-barral"}, "reply_to_user": {"reputation": 758, "user_id": 7441319, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a2c7723cec11c73621d4f848b43da582?s=128&d=identicon&r=PG&f=1", "display_name": "Alkis Mavridis", "link": "https://stackoverflow.com/users/7441319/alkis-mavridis"}, "edited": false, "score": 1, "creation_date": 1597440348, "post_id": 58042841, "comment_id": 112143954, "body": "@AlkisMavridis I updated my answer with other options to compile to a single file, if you are using modules."}, {"owner": {"reputation": 2097, "user_id": 4756173, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0e50f7e8bb3963d1dc749e278c3d8d33?s=128&d=identicon&r=PG", "display_name": "Philippe Fanaro", "link": "https://stackoverflow.com/users/4756173/philippe-fanaro"}, "edited": false, "score": 0, "creation_date": 1604797341, "post_id": 58042841, "comment_id": 114456541, "body": "Don&#39;t forget to also install the CLI with <code>npm i webpack-cli</code> and neatly run Webpack on watch mode with <code>npx webpack -w</code>."}, {"owner": {"reputation": 100, "user_id": 3086001, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b1e7632079b633b77201887479b2ce31?s=128&d=identicon&r=PG&f=1", "display_name": "JohnF", "link": "https://stackoverflow.com/users/3086001/johnf"}, "edited": false, "score": 0, "creation_date": 1608757427, "post_id": 58042841, "comment_id": 115679086, "body": "What file is that last one where I put &#39;scripts.build&#39; to &#39;webpack&#39;?"}, {"owner": {"reputation": 2294, "user_id": 2444386, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/0709acfbbd3c51b74dd89b712a2e0394?s=128&d=identicon&r=PG", "display_name": "Daniel Barral", "link": "https://stackoverflow.com/users/2444386/daniel-barral"}, "reply_to_user": {"reputation": 100, "user_id": 3086001, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b1e7632079b633b77201887479b2ce31?s=128&d=identicon&r=PG&f=1", "display_name": "JohnF", "link": "https://stackoverflow.com/users/3086001/johnf"}, "edited": false, "score": 1, "creation_date": 1608813270, "post_id": 58042841, "comment_id": 115692065, "body": "@JohnF That file is the &quot;package.json&quot; and is located at root directory. I updated the answer. <a href=\"https://docs.npmjs.com/creating-a-package-json-file\" rel=\"nofollow noreferrer\">docs.npmjs.com/creating-a-package-json-file</a>"}], "tags": [], "owner": {"reputation": 2294, "user_id": 2444386, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/0709acfbbd3c51b74dd89b712a2e0394?s=128&d=identicon&r=PG", "display_name": "Daniel Barral", "link": "https://stackoverflow.com/users/2444386/daniel-barral"}, "is_accepted": false, "score": 19, "last_activity_date": 1608812983, "last_edit_date": 1608812983, "creation_date": 1569089047, "answer_id": 58042841, "question_id": 34474651, "link": "https://stackoverflow.com/questions/34474651/typescript-compile-to-single-file/58042841#58042841", "title": "Typescript compile to single file", "body": "<h2>Option 1 - if you are not using modules</h2>\n<p>If your code contains only regular Typescript, without modules (import/export) you just need to add parameter <code>outfile</code> to your <code>tsconfig.json</code>.</p>\n<pre class=\"lang-json prettyprint-override\"><code>// tsconfig.json\n{\n    &quot;compilerOptions&quot;: {\n        &quot;lib&quot;: [&quot;es5&quot;, &quot;es6&quot;, &quot;dom&quot;],\n        &quot;rootDir&quot;: &quot;./src/&quot;,\n        &quot;outFile&quot;: &quot;./build/build.js&quot;\n    }\n}\n</code></pre>\n<p>But this option have some limitations.</p>\n<p>If you get this error:</p>\n<pre><code>Cannot compile modules using option 'outFile' unless the '--module' flag is 'amd' or 'system'\n</code></pre>\n<p>Try &quot;Option 2&quot; below.</p>\n<h2>Option 2 - using a module loader</h2>\n<p>If you are using modules (import/export), you will need a module loader to run your compiled script in the browser.</p>\n<p>When you compile to a single file (using <code>outFile</code>), Typescript natively supports compiling to <code>amd</code> and <code>system</code> module loaders.</p>\n<p>In tsconfig, you need to set <code>module</code> to <code>amd</code> or <code>system</code>:</p>\n<pre class=\"lang-json prettyprint-override\"><code>// tsconfig.json\n{\n    &quot;compilerOptions&quot;: {\n        &quot;module&quot;: &quot;AMD&quot;,\n        &quot;lib&quot;: [&quot;es5&quot;, &quot;es6&quot;, &quot;dom&quot;],\n        &quot;rootDir&quot;: &quot;./src/&quot;,\n        &quot;outFile&quot;: &quot;./build/build.js&quot;\n    }\n}\n</code></pre>\n<p>If you choose AMD, you need to use the <code>require.js</code> runtime. AMD requires an AMD loader, require.js is the most popular option (<a href=\"https://requirejs.org/\" rel=\"noreferrer\">https://requirejs.org/</a>).</p>\n<p>If you choose System, you need to use the SystemJS module loader (<a href=\"https://github.com/systemjs/systemjs\" rel=\"noreferrer\">https://github.com/systemjs/systemjs</a>).</p>\n<h2>Option 3 - use a module bundler / build tool</h2>\n<p>Probably, the best option is to use a module bundler / build tool, like Webpack.</p>\n<p>Webpack will compile all your TypeScript files to a single JavaScript bundle.</p>\n<p>So, you will use <code>webpack</code> to compile, instead of <code>tsc</code>.</p>\n<p>First install webpack, <code>webpack-cli</code> and <code>ts-loader</code>:</p>\n<pre class=\"lang-sh prettyprint-override\"><code>npm install --save-dev webpack webpack-cli typescript ts-loader\n</code></pre>\n<p>If you are using webpack with Typescript, it's best to use <code>module</code> with <code>commonjs</code>:</p>\n<pre class=\"lang-json prettyprint-override\"><code>// tsconfig.json\n{\n    &quot;compilerOptions&quot;: {\n        &quot;module&quot;: &quot;commonjs&quot;,\n        &quot;lib&quot;: [&quot;es5&quot;, &quot;es6&quot;, &quot;dom&quot;],\n        &quot;rootDir&quot;: &quot;src&quot;\n    }\n}\n</code></pre>\n<p>Webpack <code>webpack.config.js</code> example:</p>\n<pre class=\"lang-js prettyprint-override\"><code>//webpack.config.js\nconst path = require('path');\n\nmodule.exports = {\n  mode: &quot;development&quot;,\n  devtool: &quot;inline-source-map&quot;,\n  entry: {\n    main: &quot;./src/YourEntryFile.ts&quot;,\n  },\n  output: {\n    path: path.resolve(__dirname, './build'),\n    filename: &quot;[name]-bundle.js&quot; // &lt;--- Will be compiled to this single file\n  },\n  resolve: {\n    extensions: [&quot;.ts&quot;, &quot;.tsx&quot;, &quot;.js&quot;],\n  },\n  module: {\n    rules: [\n      { \n        test: /\\.tsx?$/,\n        loader: &quot;ts-loader&quot;\n      }\n    ]\n  }\n};\n</code></pre>\n<p>Now, to compile, instead of executing using <code>tsc</code> command, use <code>webpack</code> command.</p>\n<p><code>package.json</code> example:</p>\n<pre><code>{\n  &quot;name&quot;: &quot;yourProject&quot;,\n  &quot;version&quot;: &quot;0.1.0&quot;,\n  &quot;private&quot;: true,\n  &quot;description&quot;: &quot;&quot;,\n  &quot;scripts&quot;: {\n    &quot;build&quot;: &quot;webpack&quot; // &lt;---- compile ts to a single file\n  },\n  &quot;devDependencies&quot;: {\n    &quot;ts-loader&quot;: &quot;^8.0.2&quot;,\n    &quot;typescript&quot;: &quot;^3.9.7&quot;,\n    &quot;webpack&quot;: &quot;^4.44.1&quot;,\n    &quot;webpack-cli&quot;: &quot;^3.3.12&quot;\n  }\n}\n</code></pre>\n<p><a href=\"https://webpack.js.org/guides/typescript/\" rel=\"noreferrer\">Webpack's TypeScript Documentation</a></p>\n<p>Lastly, compile everything (under watch mode preferably) with:</p>\n<pre class=\"lang-sh prettyprint-override\"><code>npx webpack -w\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 5962, "user_id": 3873510, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/YpJMi.jpg?s=128&g=1", "display_name": "Paul Razvan Berg", "link": "https://stackoverflow.com/users/3873510/paul-razvan-berg"}, "is_accepted": false, "score": 13, "last_activity_date": 1619074567, "last_edit_date": 1619074567, "creation_date": 1581446977, "answer_id": 60175555, "question_id": 34474651, "link": "https://stackoverflow.com/questions/34474651/typescript-compile-to-single-file/60175555#60175555", "title": "Typescript compile to single file", "body": "<h2>The Easiest Way</h2>\n<p>You can do this with a custom tool called <a href=\"https://www.npmjs.com/package/@vercel/ncc\" rel=\"nofollow noreferrer\">ncc</a>, built and maintained by <a href=\"https://vercel.com\" rel=\"nofollow noreferrer\">Vercel</a>. Here's how they're using it in <a href=\"https://github.com/vercel/next.js/tree/canary/packages/create-next-app\" rel=\"nofollow noreferrer\">create-next-app</a>:</p>\n<pre class=\"lang-sh prettyprint-override\"><code>ncc build ./index.ts -w -o dist/\n</code></pre>\n<p>Install it with yarn:</p>\n<pre class=\"lang-sh prettyprint-override\"><code>yarn add @vercel/ncc\n</code></pre>\n<p>Or npm:</p>\n<pre class=\"lang-sh prettyprint-override\"><code>npm install @vercel/ncc\n</code></pre>\n"}], "owner": {"reputation": 4127, "user_id": 1575291, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/256f3b1176c487cac3ffe79366aec371?s=128&d=identicon&r=PG", "display_name": "David Limkys", "link": "https://stackoverflow.com/users/1575291/david-limkys"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 73676, "favorite_count": 17, "accepted_answer_id": 34475035, "answer_count": 3, "score": 70, "last_activity_date": 1619074567, "creation_date": 1451159192, "question_id": 34474651, "link": "https://stackoverflow.com/questions/34474651/typescript-compile-to-single-file", "title": "Typescript compile to single file", "body": "<p>I'm using TS 1.7 and I'm trying to compile my project to one big file that I will be able to include in my html file.</p>\n\n<p>My project structure looks like this:</p>\n\n<pre><code>-build // Build directory\n-src // source root\n--main.ts // my \"Main\" file that uses the imports my outer files\n--subDirectories with more ts files.\n-package.json\n-tsconfig.json\n</code></pre>\n\n<p>my tsconfig file is:</p>\n\n<pre><code> {\n  \"compilerOptions\": {\n    \"module\":\"amd\",\n    \"target\": \"ES5\",\n    \"removeComments\": true,\n    \"preserveConstEnums\": true,\n    \"outDir\": \"./build\",\n    \"outFile\":\"./build/build.js\",\n    \"sourceRoot\": \"./src/\",\n    \"rootDir\": \"./src/\",\n    \"sourceMap\": true\n  }\n}\n</code></pre>\n\n<p>When I build my project I expect the build.js file to be one big file compiled from my source.\nBut ths build.js file is empty and I get all of my files compiled o js files.</p>\n\n<p>Each of my TS files look a bit like this</p>\n\n<pre><code>import {blabla} from \"../../bla/blas\";\n\nexport default class bar implements someThing {\n    private variable : string;\n}\n</code></pre>\n\n<p>What am I doing wrong ?</p>\n"}, {"tags": ["http", "dependency-injection", "typescript", "angular"], "comments": [{"owner": {"reputation": 28908, "user_id": 4933038, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fea342bbab0580d1ee823125a5f0e030?s=128&d=identicon&r=PG&f=1", "display_name": "Eric Martinez", "link": "https://stackoverflow.com/users/4933038/eric-martinez"}, "edited": false, "score": 0, "creation_date": 1451159138, "post_id": 34474558, "comment_id": 56690869, "body": "What would be the problem/error?"}, {"owner": {"reputation": 28908, "user_id": 4933038, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fea342bbab0580d1ee823125a5f0e030?s=128&d=identicon&r=PG&f=1", "display_name": "Eric Martinez", "link": "https://stackoverflow.com/users/4933038/eric-martinez"}, "edited": false, "score": 0, "creation_date": 1451160047, "post_id": 34474558, "comment_id": 56691098, "body": "Did you add <code>HTTP_PROVIDERS</code> in your bootstrap?"}, {"owner": {"reputation": 28908, "user_id": 4933038, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fea342bbab0580d1ee823125a5f0e030?s=128&d=identicon&r=PG&f=1", "display_name": "Eric Martinez", "link": "https://stackoverflow.com/users/4933038/eric-martinez"}, "edited": false, "score": 0, "creation_date": 1451160840, "post_id": 34474558, "comment_id": 56691301, "body": "The way you tried is correct. I just noticed also that you are bootstraping in System.import. I haven&#39;t seen that way of doing it before, is that working for you? Can you try bootstraping in the same <code>SomeComponent</code> file? Remember to import <code>HTTP_PROVIDERS</code> from <code>angular2&#47;http</code>."}, {"owner": {"reputation": 28908, "user_id": 4933038, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fea342bbab0580d1ee823125a5f0e030?s=128&d=identicon&r=PG&f=1", "display_name": "Eric Martinez", "link": "https://stackoverflow.com/users/4933038/eric-martinez"}, "edited": false, "score": 1, "creation_date": 1451184555, "post_id": 34474558, "comment_id": 56695950, "body": "For what I see in your updated code, you need to uncomment the <code>subscribe</code> since that&#39;s the part that triggers the request."}, {"owner": {"reputation": 7536, "user_id": 2419183, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/ac151b3eb8086a1f05da6f80ab1b1f50?s=128&d=identicon&r=PG", "display_name": "Peter Pei Guo", "link": "https://stackoverflow.com/users/2419183/peter-pei-guo"}, "reply_to_user": {"reputation": 28908, "user_id": 4933038, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fea342bbab0580d1ee823125a5f0e030?s=128&d=identicon&r=PG&f=1", "display_name": "Eric Martinez", "link": "https://stackoverflow.com/users/4933038/eric-martinez"}, "edited": false, "score": 1, "creation_date": 1451184955, "post_id": 34474558, "comment_id": 56696001, "body": "That was it! Thanks @EricMartinez, so it is smart and only makes the request if the result is consumed. Thanks!"}, {"owner": {"reputation": 347451, "user_id": 215945, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/203qt.png?s=128&g=1", "display_name": "Mark Rajcok", "link": "https://stackoverflow.com/users/215945/mark-rajcok"}, "edited": false, "score": 1, "creation_date": 1451185592, "post_id": 34474558, "comment_id": 56696087, "body": "You shouldn&#39;t have HTTP_PROVIDERS in <code>bootstrap()</code> and in <code>providers: [...]</code>.  Pick one."}, {"owner": {"reputation": 7536, "user_id": 2419183, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/ac151b3eb8086a1f05da6f80ab1b1f50?s=128&d=identicon&r=PG", "display_name": "Peter Pei Guo", "link": "https://stackoverflow.com/users/2419183/peter-pei-guo"}, "reply_to_user": {"reputation": 347451, "user_id": 215945, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/203qt.png?s=128&g=1", "display_name": "Mark Rajcok", "link": "https://stackoverflow.com/users/215945/mark-rajcok"}, "edited": false, "score": 0, "creation_date": 1451186040, "post_id": 34474558, "comment_id": 56696163, "body": "@MarkRajcok, you are right, I picked bootstrap() and that worked. Also I realized that it was not necessary for me to define my own http property, if I pass &quot;public http: Http&quot; to the constructor."}], "answers": [{"tags": [], "owner": {"reputation": 6180, "user_id": 916450, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/kiTW9.jpg?s=128&g=1", "display_name": "Yaniv Efraim", "link": "https://stackoverflow.com/users/916450/yaniv-efraim"}, "is_accepted": true, "score": 4, "last_activity_date": 1451164641, "creation_date": 1451164641, "answer_id": 34475326, "question_id": 34474558, "link": "https://stackoverflow.com/questions/34474558/how-to-make-ajax-call-with-angular2-http/34475326#34475326", "title": "How to make ajax call with angular2/http?", "body": "<p>You should add an Http provider. You have two options:</p>\n\n<ol>\n<li>On bootstrap:</li>\n</ol>\n\n<p><code>import {HTTP_PROVIDERS} from 'angular2/http';</code></p>\n\n<p>and:</p>\n\n<pre><code>ng.bootstrap(src.SomeComponent, [HTTP_PROVIDERS]);\n</code></pre>\n\n<ol start=\"2\">\n<li><p>On the component using the service:</p>\n\n<p>import {HTTP_PROVIDERS} from 'angular2/http';</p>\n\n<p>@Component({</p>\n\n<p>...</p>\n\n<p>providers: [HTTP_PROVIDERS]</p>\n\n<p>...<br>\n})</p></li>\n</ol>\n"}, {"tags": [], "owner": {"reputation": 4713, "user_id": 934904, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/b3b6bc75132115c4299964be9c8e2c5f?s=128&d=identicon&r=PG", "display_name": "MatthewScarpino", "link": "https://stackoverflow.com/users/934904/matthewscarpino"}, "is_accepted": false, "score": 1, "last_activity_date": 1451185459, "creation_date": 1451185459, "answer_id": 34477221, "question_id": 34474558, "link": "https://stackoverflow.com/questions/34474558/how-to-make-ajax-call-with-angular2-http/34477221#34477221", "title": "How to make ajax call with angular2/http?", "body": "<p>I had a similar problem when I used an old version of the TypeScript compiler. I fixed it by changing the constructor argument from <code>http: Http</code> to <code>@Inject(Http) http: Http</code>. Of course, you need to import <code>Inject</code> to use it.</p>\n\n<p>I'd try using the SystemJS release at <a href=\"https://code.angularjs.org/tools/system.js\" rel=\"nofollow\">https://code.angularjs.org/tools/system.js</a> instead of the release at rawgithub.com.</p>\n"}], "owner": {"reputation": 7536, "user_id": 2419183, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/ac151b3eb8086a1f05da6f80ab1b1f50?s=128&d=identicon&r=PG", "display_name": "Peter Pei Guo", "link": "https://stackoverflow.com/users/2419183/peter-pei-guo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 7404, "favorite_count": 3, "accepted_answer_id": 34475326, "answer_count": 2, "score": 8, "last_activity_date": 1534143256, "creation_date": 1451158536, "last_edit_date": 1534143256, "question_id": 34474558, "link": "https://stackoverflow.com/questions/34474558/how-to-make-ajax-call-with-angular2-http", "title": "How to make ajax call with angular2/http?", "body": "<p>I am using Angular 2.0.0-beta.0 with typescript. I was able to make ajax call with window['fetch'] out of the box without any problem (and I did not need to use any of the workarounds required in earlier versions.)</p>\n\n<p>But I could not make the same ajax call working with angular2's http.</p>\n\n<p>Here is the code to demo the issue. There are three files, index.html in the project folder, and boot.ts and app.component.ts in a subfolder called app.</p>\n\n<p>app.component.ts:  </p>\n\n<pre><code>import {Http, HTTP_PROVIDERS} from 'angular2/http';\nimport {Component} from 'angular2/core';\n\n@Component({\n    selector: 'my-app',\n    providers: [HTTP_PROVIDERS],\n    template: '&lt;h1&gt;My First Angular 2 App&lt;/h1&gt;&lt;button (click)=\"getTasks()\"&gt;click&lt;/button&gt;{{tasks}}'\n})\nexport class AppComponent { \n    http: Http;\n    tasks = [];\n\n    constructor(http: Http) {\n        alert(http == null);\n        this.http = http;\n    }\n\n    getTasks(): void {\n        this.http.get('http://localhost:3000/tasks/norender');\n            //.map((res: Response) =&gt; res.json())\n\n            //it is important to have this subscribe call, since the \n            //request is only made if there is a subscriber \n            .subscribe(res =&gt; this.tasks = res);\n    }   \n}\n</code></pre>\n\n<p>boot.ts:</p>\n\n<pre><code>import {bootstrap} from 'angular2/platform/browser'\nimport {HTTP_PROVIDERS} from 'angular2/http';\nimport {AppComponent} from './app.component'\n\nbootstrap(AppComponent, [HTTP_PROVIDERS]);\n</code></pre>\n\n<p>index.html:</p>\n\n<pre><code>&lt;!DOCTYPE html&gt;\n&lt;html&gt;\n  &lt;head&gt;\n    &lt;title&gt;Angular 2 QuickStart&lt;/title&gt;\n    &lt;!-- 1. Load libraries --&gt;\n        &lt;script src=\"https://rawgithub.com/systemjs/systemjs/0.19.6/dist/system.js\"&gt;&lt;/script&gt;\n        &lt;script src=\"https://code.angularjs.org/tools/typescript.js\"&gt;&lt;/script&gt;\n        &lt;script src=\"https://code.angularjs.org/2.0.0-beta.0/angular2-polyfills.js\"&gt;&lt;/script&gt;\n        &lt;script src=\"https://code.angularjs.org/2.0.0-beta.0/Rx.js\"&gt;&lt;/script&gt;\n        &lt;script src=\"https://code.angularjs.org/2.0.0-beta.0/http.dev.js\"&gt;&lt;/script&gt;\n        &lt;script src=\"https://code.angularjs.org/2.0.0-beta.0/angular2.dev.js\"&gt;&lt;/script&gt;\n\n    &lt;!-- 2. Configure SystemJS --&gt;\n    &lt;script&gt;\n        System.config({\n            transpiler: 'typescript', \n            typescriptOptions: {emitDecoratorMetadata: true}, \n            packages: {'app': {defaultExtension: 'ts'}} \n        });\n        System.import('app/boot')\n            .then(null, console.error.bind(console));\n    &lt;/script&gt;\n\n  &lt;/head&gt;\n\n  &lt;!-- 3. Display the application --&gt;\n  &lt;body&gt;\n    &lt;my-app&gt;Loading...&lt;/my-app&gt;\n  &lt;/body&gt;\n\n&lt;/html&gt;\n</code></pre>\n"}, {"tags": ["typescript", "visual-studio-code", "gulp", "minify", "vscode-tasks"], "comments": [{"owner": {"reputation": 16646, "user_id": 1139099, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/AWxKH.png?s=128&g=1", "display_name": "harishr", "link": "https://stackoverflow.com/users/1139099/harishr"}, "edited": false, "score": 0, "creation_date": 1451224533, "post_id": 34474439, "comment_id": 56703745, "body": "may be because it runs the task in parallel.. can you try by using run-sequence. does that solves the issue?"}, {"owner": {"reputation": 6268, "user_id": 1644422, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/01c7fb4b20926d4dcf7d1125f7adac9f?s=128&d=identicon&r=PG", "display_name": "Louay Alakkad", "link": "https://stackoverflow.com/users/1644422/louay-alakkad"}, "edited": false, "score": 0, "creation_date": 1451247736, "post_id": 34474439, "comment_id": 56710735, "body": "Why not just create a new task that runs both? Or even add a dependency from &quot;typescriptCompilation&quot; to &quot;minifyAndConcat&quot;. I&#39;m not sure whether vscode runs multiple tasks or just the first one."}], "answers": [{"comments": [{"owner": {"reputation": 522, "user_id": 3540472, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/95hV6.jpg?s=128&g=1", "display_name": "NewZeroRiot", "link": "https://stackoverflow.com/users/3540472/newzeroriot"}, "edited": false, "score": 0, "creation_date": 1451300372, "post_id": 34492142, "comment_id": 56726151, "body": "That&#39;s what I did in the end, i&#39;ve left the tasks.json just for typescript compilation now. I&#39;ll mark this as the answer. Cheers anyway!"}], "tags": [], "owner": {"reputation": 834, "user_id": 1134380, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/92458ac15290aed82fd8c402c3f09bc2?s=128&d=identicon&r=PG", "display_name": "Guillaume", "link": "https://stackoverflow.com/users/1134380/guillaume"}, "is_accepted": true, "score": 3, "last_activity_date": 1451299940, "creation_date": 1451299940, "answer_id": 34492142, "question_id": 34474439, "link": "https://stackoverflow.com/questions/34474439/vscode-running-multiple-gulp-tasks/34492142#34492142", "title": "VSCode, running multiple Gulp tasks", "body": "<p>Why don't you try to create one more gulp task :</p>\n\n<pre><code>gulp.task('default', ['typescriptCompilation', 'minifyAndConcat']);\n</code></pre>\n\n<p>And then in your tasks.json :</p>\n\n<pre><code>{\n\"version\": \"0.1.0\",\n\"command\": \"gulp\",\n\"isShellCommand\": true,\n\"args\": [],\n\"tasks\": [\n    {\n        \"taskName\": \"default\",\n        \"isBuildCommand\": true,\n        \"showOutput\": \"always\"\n    }\n  ]\n}\n</code></pre>\n"}], "owner": {"reputation": 522, "user_id": 3540472, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/95hV6.jpg?s=128&g=1", "display_name": "NewZeroRiot", "link": "https://stackoverflow.com/users/3540472/newzeroriot"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 575, "favorite_count": 0, "accepted_answer_id": 34492142, "answer_count": 1, "score": -1, "last_activity_date": 1545954874, "creation_date": 1451157612, "last_edit_date": 1545954874, "question_id": 34474439, "link": "https://stackoverflow.com/questions/34474439/vscode-running-multiple-gulp-tasks", "title": "VSCode, running multiple Gulp tasks", "body": "<p>Evening, i've got an issue with running multiple Gulp tasks in VSCode, whereby only the first task is ever run, and the second is just ignored. Both tasks work individually when I 'Ctrl-Shift-B', but together, nada.</p>\n\n<p>Two really simple commands, one that builds my Typescript into JS, the other to just minify and concatenate. Just regular stuff.</p>\n\n<p>Here's my <strong>gulpfile.js</strong></p>\n\n<pre><code>var gulp = require('gulp');\nvar concat = require('gulp-concat');\nvar uglify = require('gulp-uglify');\nvar ts = require('gulp-typescript');\n\n//  Task that is used to compile the Typescript in JS \ngulp.task('typescriptCompilation', function () {\n  return gulp.src('scripts/*.ts')\n    .pipe(ts({\n        noImplicitAny: true,\n        out: 'output.js'\n    }))\n    .pipe(gulp.dest('scripts')); \n});\n\n//  Task that is used to minify anf concatanate the JS into one file for distribution\ngulp.task('minifyAndConcat', function() {\n  return gulp.src('scripts/*.js') // read all of the files that are in script/lib with a .js extension\n    .pipe(concat('all.min.js')) // run uglify (for minification) on 'all.min.js'\n    .pipe(uglify({mangle: false})) // run uglify (for minification) on 'all.min.js'\n    .pipe(gulp.dest('dist/js')); // write all.min.js to the dist/js file\n});\n</code></pre>\n\n<p>And the <strong>tasks.json</strong></p>\n\n<pre><code>{\n\"version\": \"0.1.0\",\n\"command\": \"gulp\",\n\"isShellCommand\": true,\n\"args\": [],\n\"tasks\": [\n    {\n        \"taskName\": \"typescriptCompilation\",\n        \"isBuildCommand\": true,\n        \"showOutput\": \"always\"\n    },\n    {\n        \"taskName\": \"minifyAndConcat\",\n        \"isBuildCommand\": true,\n        \"showOutput\": \"always\"\n    }\n]\n}\n</code></pre>\n\n<p>It's most likely something simple i've missed, but i'm new to Gulp and I can't see it.....</p>\n"}, {"tags": ["typescript", "angular", "observable", "rxjs", "tslint"], "comments": [{"owner": {"reputation": 28908, "user_id": 4933038, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fea342bbab0580d1ee823125a5f0e030?s=128&d=identicon&r=PG&f=1", "display_name": "Eric Martinez", "link": "https://stackoverflow.com/users/4933038/eric-martinez"}, "edited": false, "score": 0, "creation_date": 1451147270, "post_id": 34473040, "comment_id": 56687534, "body": "Try with <code>.flatMap((res: Response) =&gt; ...)</code>"}, {"owner": {"reputation": 334, "user_id": 821330, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/33b4306524b28d3fbca3a69ff7f5dbfd?s=128&d=identicon&r=PG", "display_name": "Matteo Suppo", "link": "https://stackoverflow.com/users/821330/matteo-suppo"}, "reply_to_user": {"reputation": 28908, "user_id": 4933038, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fea342bbab0580d1ee823125a5f0e030?s=128&d=identicon&r=PG&f=1", "display_name": "Eric Martinez", "link": "https://stackoverflow.com/users/4933038/eric-martinez"}, "edited": false, "score": 0, "creation_date": 1451164887, "post_id": 34473040, "comment_id": 56692283, "body": "It works! Thank you. Why don&#39;t you post it as an answer?"}, {"owner": {"reputation": 28908, "user_id": 4933038, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fea342bbab0580d1ee823125a5f0e030?s=128&d=identicon&r=PG&f=1", "display_name": "Eric Martinez", "link": "https://stackoverflow.com/users/4933038/eric-martinez"}, "edited": false, "score": 0, "creation_date": 1451172733, "post_id": 34473040, "comment_id": 56694241, "body": "I posted it as an answer as you suggested. I&#39;m curious about the version you&#39;re using (both angular2 and TS), which ones are you using?"}, {"owner": {"reputation": 334, "user_id": 821330, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/33b4306524b28d3fbca3a69ff7f5dbfd?s=128&d=identicon&r=PG", "display_name": "Matteo Suppo", "link": "https://stackoverflow.com/users/821330/matteo-suppo"}, "reply_to_user": {"reputation": 28908, "user_id": 4933038, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fea342bbab0580d1ee823125a5f0e030?s=128&d=identicon&r=PG&f=1", "display_name": "Eric Martinez", "link": "https://stackoverflow.com/users/4933038/eric-martinez"}, "edited": false, "score": 0, "creation_date": 1451236743, "post_id": 34473040, "comment_id": 56707618, "body": "&quot;angular2&quot;: &quot;2.0.0-beta.0&quot; &quot;typescript&quot;: &quot;^1.7.3&quot; &quot;rxjs&quot;: &quot;5.0.0-beta.0&quot; &quot;tslint&quot;: &quot;^3.1.1&quot;"}], "answers": [{"tags": [], "owner": {"reputation": 28908, "user_id": 4933038, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fea342bbab0580d1ee823125a5f0e030?s=128&d=identicon&r=PG&f=1", "display_name": "Eric Martinez", "link": "https://stackoverflow.com/users/4933038/eric-martinez"}, "is_accepted": true, "score": 0, "last_activity_date": 1451172687, "creation_date": 1451172687, "answer_id": 34476255, "question_id": 34473040, "link": "https://stackoverflow.com/questions/34473040/observableany-triggers-tslint-property-does-not-exist/34476255#34476255", "title": "Observable&lt;Any&gt; triggers TSLint &#39;property does not exist&#39;", "body": "<p>To fix this issue you should add <code>Response</code> as the type of the returned value</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>flatMap((res: Response) =&gt; {\n  let headers = new Headers();\n  headers.append(\"Content-Type\", \"application/json\");\n  headers.append(\"Authorization\", res.json().Token);\n  return this._http.get(this.endpoints[endpoint], {headers: headers});\n});\n</code></pre>\n\n<p><strong>Note</strong></p>\n\n<p>This was fixed already, check this <a href=\"https://github.com/angular/angular/issues/5597#issuecomment-162081391\" rel=\"nofollow\">comment</a>, so pressumably you're not in the newest version. I tested it using beta.0 and I couldn't reproduce this message even without adding <code>Response</code> as the type.</p>\n\n<p><strong>Reference</strong></p>\n\n<ul>\n<li><a href=\"https://github.com/ReactiveX/RxJS/issues/635\" rel=\"nofollow\">RxJS #635</a></li>\n<li><a href=\"https://github.com/angular/angular/issues/5597\" rel=\"nofollow\">Angular #5597</a></li>\n</ul>\n"}], "owner": {"reputation": 334, "user_id": 821330, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/33b4306524b28d3fbca3a69ff7f5dbfd?s=128&d=identicon&r=PG", "display_name": "Matteo Suppo", "link": "https://stackoverflow.com/users/821330/matteo-suppo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 909, "favorite_count": 0, "accepted_answer_id": 34476255, "answer_count": 1, "score": 1, "last_activity_date": 1451172687, "creation_date": 1451146452, "question_id": 34473040, "link": "https://stackoverflow.com/questions/34473040/observableany-triggers-tslint-property-does-not-exist", "title": "Observable&lt;Any&gt; triggers TSLint &#39;property does not exist&#39;", "body": "<p>I have this block of code here:</p>\n\n<pre><code>this._auth.getToken().flatMap(token =&gt; {\n  return this._http.post(\"/authenticate\");\n}).flatMap(res =&gt; {\n  let headers = new Headers();\n  headers.append(\"Content-Type\", \"application/json\");\n  headers.append(\"Authorization\", res.json().Token);\n  return this._http.get(this.endpoints[endpoint], {headers: headers});\n});\n</code></pre>\n\n<p><em>http.get</em> and <em>http.post</em> return an <em>Observable&lt;Response&gt;</em> which contains a <em>.json</em> method</p>\n\n<p>However <em>flatMap</em> returns an Observable&lt;Any&gt; which doesn't contain the <em>.json</em> method.</p>\n\n<p>It works correctly, but TSlint complains with:</p>\n\n<blockquote>\n  <p>Property 'json' does not exist on type '{}'.at line 32 col 49</p>\n</blockquote>\n\n<p>Am I doing something wrong? Is this expected? It's not a big deal but maybe it's a symptom of bigger issues in the code.</p>\n"}, {"tags": ["javascript", "oop", "inheritance", "typescript"], "comments": [{"owner": {"reputation": 682, "user_id": 131782, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/96a1ef57fee8349bd6f92faf153f9ec3?s=128&d=identicon&r=PG", "display_name": "Breck", "link": "https://stackoverflow.com/users/131782/breck"}, "edited": false, "score": 0, "creation_date": 1602543930, "post_id": 34471231, "comment_id": 113748635, "body": "If anyone is still encountering this and looking for a solution that does not discard type information, the strategy posted here (<a href=\"https://stackoverflow.com/a/45871004/131782\">stackoverflow.com/a/45871004/131782</a>) about returning <code>this</code> seems to work."}], "answers": [{"comments": [{"owner": {"reputation": 1798, "user_id": 2129219, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3afe4c8d030860a80655a7b4547663bf?s=128&d=identicon&r=PG", "display_name": "Colin D", "link": "https://stackoverflow.com/users/2129219/colin-d"}, "edited": false, "score": 0, "creation_date": 1570226101, "post_id": 34471424, "comment_id": 102859247, "body": "Is it not possible to say that this.constructor derives from Base?"}, {"owner": {"reputation": 682, "user_id": 131782, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/96a1ef57fee8349bd6f92faf153f9ec3?s=128&d=identicon&r=PG", "display_name": "Breck", "link": "https://stackoverflow.com/users/131782/breck"}, "edited": false, "score": 1, "creation_date": 1602543248, "post_id": 34471424, "comment_id": 113748427, "body": "Doing it this way you lose Type information. The correct solution likely involves generics, though I haven&#39;t quite figured it out."}], "tags": [], "owner": {"reputation": 3227, "user_id": 1855774, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/ceb53fae689f6309ba112d033ca51f2d?s=128&d=identicon&r=PG", "display_name": "Gerrit Bertier", "link": "https://stackoverflow.com/users/1855774/gerrit-bertier"}, "is_accepted": true, "score": 3, "last_activity_date": 1451133703, "creation_date": 1451133703, "answer_id": 34471424, "question_id": 34471231, "link": "https://stackoverflow.com/questions/34471231/create-new-instance-of-child-class-from-base-class-in-typescript/34471424#34471424", "title": "Create new instance of Child class from Base class in Typescript", "body": "<p>You need to cast to a generic object when cloning an unknown object.<br />\nThe best way to do this is to use the <code>&lt;any&gt;</code> statement.</p>\n\n<pre><code>class Base {\n    constructor() {\n\n    }\n\n    public clone() {\n        return new (&lt;any&gt;this.constructor);\n    }\n}\n\nclass Child extends Base {\n\n    test:string;\n\n    constructor() {\n        this.test = 'test string';\n        super();\n    }\n}\n\n\nvar bar = new Child();\nvar cloned = bar.clone();\n\nconsole.log(cloned instanceof Child); // returns 'true'\nconsole.log(cloned.test); // returns 'test string'\n</code></pre>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user474470"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 5082, "favorite_count": 0, "closed_date": 1480436122, "accepted_answer_id": 34471424, "answer_count": 1, "score": 2, "last_activity_date": 1451133703, "creation_date": 1451132028, "question_id": 34471231, "link": "https://stackoverflow.com/questions/34471231/create-new-instance-of-child-class-from-base-class-in-typescript", "closed_reason": "Duplicate", "title": "Create new instance of Child class from Base class in Typescript", "body": "<p>I want to create new instance of <strong>Child</strong> class from <strong>Base</strong> class method.</p>\n\n<p>It's a little bit complicated, but i will try to explain.</p>\n\n<p>Here's an example:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>class Base(){\n    constructor(){}\n\n    clone(){\n        //Here i want to create new instance\n    }\n}\n\nclass Child extends Base(){}\n\n\nvar bar = new Child();\nvar cloned = bar.clone();\n\nclone instanceof Child //should be true!\n</code></pre>\n\n<p>So. From this example i want to clone my <code>bar</code> instance, that should be instance of <code>Child</code></p>\n\n<p>Well. I'm trying following in <code>Bar.clone</code> method:</p>\n\n<pre><code>clone(){\n    return new this.constructor()\n}\n</code></pre>\n\n<p>...And this works in compiled code, but i have typescript error:</p>\n\n<p><code>error TS2351: Cannot use 'new' with an expression whose type lacks a call or construct signature.</code></p>\n\n<p>Any ideas how i can handle this?</p>\n\n<p>Thank you. Hope this helps some1 :)</p>\n"}, {"tags": ["import", "module", "typescript", "export", "ecmascript-6"], "answers": [{"tags": [], "owner": {"reputation": 6268, "user_id": 1644422, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/01c7fb4b20926d4dcf7d1125f7adac9f?s=128&d=identicon&r=PG", "display_name": "Louay Alakkad", "link": "https://stackoverflow.com/users/1644422/louay-alakkad"}, "is_accepted": true, "score": 4, "last_activity_date": 1451130449, "creation_date": 1451130449, "answer_id": 34471042, "question_id": 34469868, "link": "https://stackoverflow.com/questions/34469868/cant-use-imported-class-as-a-return-type-in-typescript/34471042#34471042", "title": "Can&#39;t use imported class as a return type in TypeScript", "body": "<p>That's because <code>commander.IExportedCommand.Command</code> <a href=\"https://github.com/DefinitelyTyped/DefinitelyTyped/blob/1ee457510633b5bdde96f2519ecde2107bc23b6b/commander/commander.d.ts#L403\" rel=\"nofollow\">is not</a> a type but a variable. You can either use <code>typeof Command</code> or use the actual name of that type <code>commander.ICommand</code>.</p>\n\n<pre><code>function create(args: string[]): typeof Command;\n// or\nfunction create(args: string[]): commander.ICommand;\n</code></pre>\n"}], "owner": {"reputation": 1135, "user_id": 3435720, "user_type": "registered", "accept_rate": 95, "profile_image": "https://graph.facebook.com/100002742669841/picture?type=large", "display_name": "1ambda", "link": "https://stackoverflow.com/users/3435720/1ambda"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 490, "favorite_count": 0, "accepted_answer_id": 34471042, "answer_count": 1, "score": 3, "last_activity_date": 1451130449, "creation_date": 1451120142, "question_id": 34469868, "link": "https://stackoverflow.com/questions/34469868/cant-use-imported-class-as-a-return-type-in-typescript", "title": "Can&#39;t use imported class as a return type in TypeScript", "body": "<p><a href=\"https://i.stack.imgur.com/PPy6t.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/PPy6t.png\" alt=\"enter image description here\"></a></p>\n\n<p>I can't use imported <code>Command</code> class as a return type even if it is possible to create <code>Command</code> instance like (<code>let parser = new Command();</code>)</p>\n\n<p>My <code>tsc</code> version is, </p>\n\n<pre><code>$ src git:(master) \u2717 tsc --version\nVersion 1.8.0-dev.20151222\n</code></pre>\n\n<p>Am I missing something?</p>\n"}, {"tags": ["javascript", "typescript", "angular", "angular-routing"], "comments": [{"owner": {"reputation": 42137, "user_id": 361151, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/Z524i.jpg?s=128&g=1", "display_name": "Chandermani", "link": "https://stackoverflow.com/users/361151/chandermani"}, "edited": false, "score": 2, "creation_date": 1451097931, "post_id": 34467965, "comment_id": 56678128, "body": "Well if you look at the documentation note at <a href=\"https://angular.io/docs/ts/latest/api/router/CanActivate-var.html\" rel=\"nofollow noreferrer\">angular.io/docs/ts/latest/api/router/CanActivate-var.html</a> it clearly mentions the reason and it makes sense. CanActivate is called before the Component is instantiated and hence invoking a function inside the Component seems incorrect."}], "answers": [{"comments": [{"owner": {"reputation": 31497, "user_id": 122313, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/65a1c89a4d5c60688f29abd3eb636c08?s=128&d=identicon&r=PG", "display_name": "Aaron Saunders", "link": "https://stackoverflow.com/users/122313/aaron-saunders"}, "edited": false, "score": 0, "creation_date": 1451357312, "post_id": 34469383, "comment_id": 56749450, "body": "i guess i was  looking to keep the logic for accessing the controller in the controller but I guess that is not the correct pattern... I did see the approach of injecting a service that contained the loging into the canActivate method but was looking for something different... thanks"}, {"owner": {"reputation": 181833, "user_id": 1873365, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/45TMV.png?s=128&g=1", "display_name": "Thierry Templier", "link": "https://stackoverflow.com/users/1873365/thierry-templier"}, "reply_to_user": {"reputation": 31497, "user_id": 122313, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/65a1c89a4d5c60688f29abd3eb636c08?s=128&d=identicon&r=PG", "display_name": "Aaron Saunders", "link": "https://stackoverflow.com/users/122313/aaron-saunders"}, "edited": false, "score": 0, "creation_date": 1451382169, "post_id": 34469383, "comment_id": 56757893, "body": "Yes referencing a service from the CanActivate function is possible but not the reference of the component is attached on. FYI there is no more the concept of controller in Angular2 ;-)"}], "tags": [], "owner": {"reputation": 181833, "user_id": 1873365, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/45TMV.png?s=128&g=1", "display_name": "Thierry Templier", "link": "https://stackoverflow.com/users/1873365/thierry-templier"}, "is_accepted": false, "score": 2, "last_activity_date": 1451114723, "last_edit_date": 1495540944, "creation_date": 1451114723, "answer_id": 34469383, "question_id": 34467965, "link": "https://stackoverflow.com/questions/34467965/how-to-access-the-component-inside-of-annotation-in-angular2/34469383#34469383", "title": "How to Access the Component Inside of Annotation in Angular2?", "body": "<p>In fact you can't since processing within the annotation is called right before instantiating (or not) the component.</p>\n\n<p>I guess that you want to use the resolve feature of Angular1 router into Angular2. In fact, such feature isn't supported yet. For more details you can have a look at this issue in the Angular github:</p>\n\n<ul>\n<li><a href=\"https://github.com/angular/angular/issues/4015\" rel=\"nofollow noreferrer\">https://github.com/angular/angular/issues/4015</a></li>\n</ul>\n\n<p>The two following links give you some workarounds for your use case:</p>\n\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/34289761/angular-2-equivalent-to-router-resolve-data-for-new-router\">Angular 2 - equivalent to router resolve data for new router</a></li>\n<li><a href=\"https://stackoverflow.com/questions/33462532/using-resolve-in-angular2-routes/34159997#34159997\">Using Resolve In Angular2 Routes</a></li>\n</ul>\n\n<p>Hope it helps you,\nThierry</p>\n"}], "owner": {"reputation": 31497, "user_id": 122313, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/65a1c89a4d5c60688f29abd3eb636c08?s=128&d=identicon&r=PG", "display_name": "Aaron Saunders", "link": "https://stackoverflow.com/users/122313/aaron-saunders"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 269, "favorite_count": 1, "answer_count": 1, "score": 2, "last_activity_date": 1451114723, "creation_date": 1451096143, "question_id": 34467965, "link": "https://stackoverflow.com/questions/34467965/how-to-access-the-component-inside-of-annotation-in-angular2", "title": "How to Access the Component Inside of Annotation in Angular2?", "body": "<p>This is just me trying to get an understanding of the lifecycle and try and perform some logic before loading the component so I found the <code>CanActivate</code> Annotation.</p>\n\n<p>I have a function in the Component that I want to call so I need the Component; I have injected it... it seems overly complex.    </p>\n\n<pre><code>// HomeComponent Component\n@Component({\n  selector: 'HomeComponent',\n  template: '&lt;h2&gt;HomeComponent Us&lt;/h2&gt;'\n})\n@CanActivate((next,prev) =&gt; {\n\n  let injector: any = Injector.resolveAndCreate([HomeComponent]);\n  let theComponent: HomeComponent = injector.get(HomeComponent);\n\n  return theComponent.canActivate(next,prev)\n})\n\nclass HomeComponent {\n  data = {}\n  myresolver: any\n\n  constructor() {\n    console.log(\"in constructor\", this.data)\n  }\n\n  setData(data: any) {\n    this.data = data\n  }\n\n  canActivate(nextInstr, currInstr) {\n      console.log(\"in my resolver\");\n      var that = this;\n      return new Promise(function(resolve, reject) {\n        setTimeout(function() {\n          var data = { data: \"Aaron\" };\n          that.setData(data)\n          resolve(data);\n        }, 2000)\n      });\n    }\n\n}\n</code></pre>\n"}, {"tags": ["angular", "typescript", "sanitize"], "comments": [{"owner": {"reputation": 11964, "user_id": 1066899, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/093623a2cb341330217f2a4f38a69cc2?s=128&d=identicon&r=PG", "display_name": "the_critic", "link": "https://stackoverflow.com/users/1066899/the-critic"}, "edited": false, "score": 0, "creation_date": 1464900714, "post_id": 34467000, "comment_id": 62688591, "body": "@DanielGartmann I actually did want to sanitize the content. I&#39;m surprised about the wording myself now that you point it out, I&#39;ll edit my question. Thanks."}, {"owner": {"reputation": 2335, "user_id": 189518, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/7a969fd6545336585797bf65ff0683d3?s=128&d=identicon&r=PG", "display_name": "Sensei James", "link": "https://stackoverflow.com/users/189518/sensei-james"}, "edited": false, "score": 0, "creation_date": 1520818727, "post_id": 34467000, "comment_id": 85457706, "body": "<b>Angular does automatically sanitize content.</b>  From the <i>Preventing Cross Site Scripting</i> section of <a href=\"https://angular.io/guide/security\" rel=\"nofollow noreferrer\">angular.io/guide/security</a>: <i>To systematically block XSS bugs, Angular treats all values as untrusted by default. When a value is inserted into the DOM from a template, via property, attribute, style, class binding, or interpolation, Angular sanitizes and escapes untrusted values.</i>"}], "answers": [{"comments": [{"owner": {"reputation": 11964, "user_id": 1066899, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/093623a2cb341330217f2a4f38a69cc2?s=128&d=identicon&r=PG", "display_name": "the_critic", "link": "https://stackoverflow.com/users/1066899/the-critic"}, "edited": false, "score": 2, "creation_date": 1451091923, "post_id": 34467699, "comment_id": 56677361, "body": "oh boy, I tried <code>inner-html</code>. Bummer... Thanks!"}, {"owner": {"reputation": 57430, "user_id": 3106920, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pO5sC.jpg?s=128&g=1", "display_name": "Poul Kruijt", "link": "https://stackoverflow.com/users/3106920/poul-kruijt"}, "reply_to_user": {"reputation": 11964, "user_id": 1066899, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/093623a2cb341330217f2a4f38a69cc2?s=128&d=identicon&r=PG", "display_name": "the_critic", "link": "https://stackoverflow.com/users/1066899/the-critic"}, "edited": false, "score": 3, "creation_date": 1451091969, "post_id": 34467699, "comment_id": 56677367, "body": "The specs have changed since.. alpha.51 if i&#39;m correct. CamelCase everywhere now (except element tags). You are welcome :)"}, {"owner": {"reputation": 11964, "user_id": 1066899, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/093623a2cb341330217f2a4f38a69cc2?s=128&d=identicon&r=PG", "display_name": "the_critic", "link": "https://stackoverflow.com/users/1066899/the-critic"}, "edited": false, "score": 1, "creation_date": 1451092072, "post_id": 34467699, "comment_id": 56677387, "body": "I haven&#39;t used any alpha version ever, jumped into the beta right away, but still, I think I caught that <code>inner-html</code> from some earlier alpha version while doing research."}, {"owner": {"reputation": 413, "user_id": 2316975, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b7a0fa84b1d0c7fd3375febe8296dc09?s=128&d=identicon&r=PG", "display_name": "Daniel Antunes Pinto", "link": "https://stackoverflow.com/users/2316975/daniel-antunes-pinto"}, "edited": false, "score": 0, "creation_date": 1455403834, "post_id": 34467699, "comment_id": 58476941, "body": "It seems that it does not watch the changes in the innerHtml for directives."}, {"owner": {"reputation": 57430, "user_id": 3106920, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pO5sC.jpg?s=128&g=1", "display_name": "Poul Kruijt", "link": "https://stackoverflow.com/users/3106920/poul-kruijt"}, "edited": false, "score": 0, "creation_date": 1455443661, "post_id": 34467699, "comment_id": 58484844, "body": "That&#39;s why I said &quot;normal HTML&quot; :)"}, {"owner": {"reputation": 1297, "user_id": 180975, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/d653154f1b4bb001b76e9fa1dc61a75a?s=128&d=identicon&r=PG", "display_name": "Jonathan Reyes", "link": "https://stackoverflow.com/users/180975/jonathan-reyes"}, "edited": false, "score": 1, "creation_date": 1475391653, "post_id": 34467699, "comment_id": 66919887, "body": "Pert he latest documentation we need to use <code>DomSanitizer</code> as seen here <a href=\"https://angular.io/docs/ts/latest/api/platform-browser/index/DomSanitizer-class.html\" rel=\"nofollow noreferrer\">angular.io/docs/ts/latest/api/platform-browser/index/&hellip;</a>.  There has been some renaming."}, {"owner": {"reputation": 57430, "user_id": 3106920, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pO5sC.jpg?s=128&g=1", "display_name": "Poul Kruijt", "link": "https://stackoverflow.com/users/3106920/poul-kruijt"}, "reply_to_user": {"reputation": 1297, "user_id": 180975, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/d653154f1b4bb001b76e9fa1dc61a75a?s=128&d=identicon&r=PG", "display_name": "Jonathan Reyes", "link": "https://stackoverflow.com/users/180975/jonathan-reyes"}, "edited": false, "score": 1, "creation_date": 1475475206, "post_id": 34467699, "comment_id": 66940928, "body": "@JonathanReyes Thanks for the headsup. Updated my answer"}, {"owner": {"reputation": 161, "user_id": 3701499, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Ugq1v.jpg?s=128&g=1", "display_name": "Duy Tran", "link": "https://stackoverflow.com/users/3701499/duy-tran"}, "edited": false, "score": 0, "creation_date": 1476413735, "post_id": 34467699, "comment_id": 67345227, "body": "Good solution, tks @PierreDuc, u save my time :)"}, {"owner": {"reputation": 612, "user_id": 3848573, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/eRiax.jpg?s=128&g=1", "display_name": "Joseph Khella", "link": "https://stackoverflow.com/users/3848573/joseph-khella"}, "edited": false, "score": 0, "creation_date": 1487764061, "post_id": 34467699, "comment_id": 71928540, "body": "@PierreDuc thx for your answer it was very helpful, do you know how to make dynamic HTML tags with it&#39;s own components to work? ,, you mentioned <code>This is not going to work with HTML which has its own components and directives, at least not in the way you&#39;d expect it.</code> ,, how to make that to work?  thx"}, {"owner": {"reputation": 80516, "user_id": 227299, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/6483c2f0fcf64b578c55ca0df7e01096?s=128&d=identicon&r=PG", "display_name": "Juan Mendes", "link": "https://stackoverflow.com/users/227299/juan-mendes"}, "reply_to_user": {"reputation": 612, "user_id": 3848573, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/eRiax.jpg?s=128&g=1", "display_name": "Joseph Khella", "link": "https://stackoverflow.com/users/3848573/joseph-khella"}, "edited": false, "score": 0, "creation_date": 1516202883, "post_id": 34467699, "comment_id": 83594040, "body": "@JosephKhella It won&#39;t work, unless you dynamically compile components and render them using ViewRefs. In any case, you should not ask a separate question in a comment. See <a href=\"https://stackoverflow.com/questions/34784778/equivalent-of-compile-in-angular-2\" title=\"equivalent of compile in angular 2\">stackoverflow.com/questions/34784778/&hellip;</a>"}, {"owner": {"reputation": 1546, "user_id": 1606349, "user_type": "registered", "accept_rate": 26, "profile_image": "https://graph.facebook.com/728970010/picture?type=large", "display_name": "Charles Robertson", "link": "https://stackoverflow.com/users/1606349/charles-robertson"}, "edited": false, "score": 0, "creation_date": 1524941754, "post_id": 34467699, "comment_id": 87175938, "body": "Awesome stuff. Simple, clean &amp; extremely modular with the Directive approach..."}, {"owner": {"reputation": 4592, "user_id": 856905, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/63550e7ec302dee000d97a5ffae4272a?s=128&d=identicon&r=PG", "display_name": "abbr", "link": "https://stackoverflow.com/users/856905/abbr"}, "edited": false, "score": 0, "creation_date": 1543263119, "post_id": 34467699, "comment_id": 93846496, "body": "@PierreDuc, thx for the answer. But what if <code>htmlProperty</code> contains angular-specific directives such as <code>&lt;a (click)=&quot;doSomthing()&quot;&gt;</code>? I found this rendered element is not parsed by Angular."}, {"owner": {"reputation": 57430, "user_id": 3106920, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pO5sC.jpg?s=128&g=1", "display_name": "Poul Kruijt", "link": "https://stackoverflow.com/users/3106920/poul-kruijt"}, "reply_to_user": {"reputation": 4592, "user_id": 856905, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/63550e7ec302dee000d97a5ffae4272a?s=128&d=identicon&r=PG", "display_name": "abbr", "link": "https://stackoverflow.com/users/856905/abbr"}, "edited": false, "score": 0, "creation_date": 1543303734, "post_id": 34467699, "comment_id": 93858831, "body": "@abbr If you have something like that, you are not using angular the right way. Dynamic templates are frowned upon, and you should find a different way to accomplish the same thing. Either using <code>*ngIf</code> or any other structural directive."}, {"owner": {"reputation": 7118, "user_id": 170451, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/EOfLl.png?s=128&g=1", "display_name": "KarolDepka", "link": "https://stackoverflow.com/users/170451/karoldepka"}, "edited": false, "score": 0, "creation_date": 1560387022, "post_id": 34467699, "comment_id": 99722628, "body": "The name of the <code>@Pipe</code> (<code>sanitizeHtml</code>) is horribly misleading! Please change the name to something like <code>bypassSecurityTrustHtml</code> or else it increases the risk of a security problem!"}, {"owner": {"reputation": 57430, "user_id": 3106920, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pO5sC.jpg?s=128&g=1", "display_name": "Poul Kruijt", "link": "https://stackoverflow.com/users/3106920/poul-kruijt"}, "reply_to_user": {"reputation": 7118, "user_id": 170451, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/EOfLl.png?s=128&g=1", "display_name": "KarolDepka", "link": "https://stackoverflow.com/users/170451/karoldepka"}, "edited": false, "score": 1, "creation_date": 1560406687, "post_id": 34467699, "comment_id": 99726821, "body": "@KarolDepka although I agree with you that the name was poorly chosen (3.5 years ago), there is a warning quote in the answer, and there is also an edit button below the answer, with which you could have proposed a better name. Instead you went for a comment and a downvote. Nevertheless, I&#39;ve updated the name, to how I have it now in my projects, so thanks for the heads-up"}, {"owner": {"reputation": 668, "user_id": 9941039, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/--yKAej3kSAA/AAAAAAAAAAI/AAAAAAAAAAA/_Mnf-QVPB6o/photo.jpg?sz=128", "display_name": "TintinSansYeux", "link": "https://stackoverflow.com/users/9941039/tintinsansyeux"}, "edited": false, "score": 0, "creation_date": 1578954955, "post_id": 34467699, "comment_id": 105600710, "body": "Missing whitespace <code>readonlysr</code> =&gt; <code>readonly sr</code> in @Directive constructor. Cannot edit (edits must be at least 6 characters)."}], "tags": [], "owner": {"reputation": 57430, "user_id": 3106920, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pO5sC.jpg?s=128&g=1", "display_name": "Poul Kruijt", "link": "https://stackoverflow.com/users/3106920/poul-kruijt"}, "is_accepted": true, "score": 46, "last_activity_date": 1578986405, "last_edit_date": 1578986405, "creation_date": 1451091800, "answer_id": 34467699, "question_id": 34467000, "link": "https://stackoverflow.com/questions/34467000/sanitize-input-in-angular2/34467699#34467699", "title": "Sanitize input in Angular2", "body": "<p>To insert normal HTML into your angular2 app, you can use the <code>[innerHtml]</code> directive.</p>\n\n<pre><code>&lt;div [innerHtml]=\"htmlProperty\"&gt;&lt;/div&gt;\n</code></pre>\n\n<p>This is not going to work with HTML which has its own components and directives, at least not in the way you'd expect it.</p>\n\n<p>If however you do get an unsafe html warning you should trust the <code>HTML</code> first before injecting it. You have to use the <a href=\"https://angular.io/docs/ts/latest/api/platform-browser/index/DomSanitizer-class.html\" rel=\"nofollow noreferrer\"><code>DomSanitizer</code></a> for such a thing. For instance, an <code>&lt;h3&gt;</code> element is considered safe. An <code>&lt;input&gt;</code> element is not.</p>\n\n<pre><code>export class AppComponent  {\n\n    private _htmlProperty: string = '&lt;input type=\"text\" name=\"name\"&gt;';\n\n    public get htmlProperty() : SafeHtml {\n       return this.sr.bypassSecurityTrustHtml(this._htmlProperty);\n    }\n\n    constructor(private sr: DomSanitizer){}\n}\n</code></pre>\n\n<p>And have your template stay the same as this:</p>\n\n<pre><code>&lt;div [innerHtml]=\"htmlProperty\"&gt;&lt;/div&gt;\n</code></pre>\n\n<p>A little heads-up though:</p>\n\n<blockquote>\n  <p>WARNING: calling this method with untrusted user data exposes your application to XSS security risks!</p>\n</blockquote>\n\n<p>If you plan on using this technique more, you can try to write a <a href=\"https://angular.io/docs/ts/latest/guide/pipes.html\" rel=\"nofollow noreferrer\"><strong><code>@Pipe</code></strong></a> to fulfill this task.</p>\n\n<pre><code>import { Pipe, PipeTransform } from '@angular/core';\nimport { DomSanitizer, SafeHtml } from '@angular/platform-browser';\n\n@Pipe({\n    name: 'trustHtml'\n})\nexport class TrustHtmlPipe implements PipeTransform  {    \n   constructor(readonly sr: DomSanitizer){}  \n\n   transform(html: string) : SafeHtml {\n      return this.sr.bypassSecurityTrustHtml(html); \n   } \n} \n</code></pre>\n\n<p>If you have a pipe like this, your <code>AppComponent</code> will change to this. Don't forget to add the pipe to your declarations array of your <code>NgModule</code>:</p>\n\n<pre><code>@Component({\n   selector: 'app',\n   template: `&lt;div [innerHtml]=\"htmlProperty | trustHtml\"&gt;&lt;/div&gt;`\n})\nexport class AppComponent{\n\n    public htmlProperty: string = '&lt;input type=\"text\" name=\"name\"&gt;';\n\n} \n</code></pre>\n\n<p>Or you can write a <a href=\"https://angular.io/docs/ts/latest/guide/attribute-directives.html\" rel=\"nofollow noreferrer\"><strong><code>@Directive</code></strong></a> to do the same:</p>\n\n<pre><code>@Directive({\n   selector: '[trustHtml]'\n})\nexport class SanitizeHtmlDirective {\n\n    @Input()\n    public set trustHtml(trustHtml: string) {\n      if (this._trustHtml !== trustHtml) {\n        this._trustHtml = trustHtml;\n        this.innerHtml = this.sr.bypassSecurityTrustHtml(this.trustHtml);\n      }\n    }\n\n    @HostBinding('innerHtml')\n    innerHtml?: SafeHtml;\n\n    private _trustHtml: string;\n\n    constructor(readonly sr: DomSanitizer){}\n}\n</code></pre>\n\n<p>If you have a directive like this, your <code>AppComponent</code> will change to this. Don't forget to add the directive to your declarations array of your <code>NgModule</code>:</p>\n\n<pre><code>@Component({\n   selector: 'app',\n   template: `&lt;div [trustHtml]=\"htmlProperty\"&gt;&lt;/div&gt;`\n})\nexport class AppComponent{\n\n    public htmlProperty: string = '&lt;input type=\"text\" name=\"name\"&gt;';\n\n} \n</code></pre>\n"}], "owner": {"reputation": 11964, "user_id": 1066899, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/093623a2cb341330217f2a4f38a69cc2?s=128&d=identicon&r=PG", "display_name": "the_critic", "link": "https://stackoverflow.com/users/1066899/the-critic"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 35538, "favorite_count": 10, "closed_date": 1460095984, "accepted_answer_id": 34467699, "answer_count": 1, "score": 27, "last_activity_date": 1578986405, "creation_date": 1451082867, "last_edit_date": 1547631274, "question_id": 34467000, "link": "https://stackoverflow.com/questions/34467000/sanitize-input-in-angular2", "closed_reason": "Duplicate", "title": "Sanitize input in Angular2", "body": "<p>I am trying to get third-party (potentially unsafe) html content from my database and insert it into my html document. </p>\n\n<p>How do I safely do that (Protection against XSS) ? </p>\n\n<p>In <strong>Angular1.x</strong> there used to be <code>$sce</code> to sanitize input, how do I do that in <strong>Angular2</strong> ? As far as I understand, <strong>Angular2</strong> automatically sanitizes it by default, is that correct ? </p>\n\n<p>Something like this will not work: </p>\n\n<pre><code>&lt;div class=\"foo\"&gt;\n    {{someBoundValueWithSafeHTML}} // I want HTML from db here\n&lt;/div&gt;\n</code></pre>\n"}, {"tags": ["typescript", "angular"], "comments": [{"owner": {"reputation": 245145, "user_id": 1348195, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/f6dca2295546af21e1cde8e68f2d49bd?s=128&d=identicon&r=PG", "display_name": "Benjamin Gruenbaum", "link": "https://stackoverflow.com/users/1348195/benjamin-gruenbaum"}, "edited": false, "score": 0, "creation_date": 1451067250, "post_id": 34465214, "comment_id": 56672414, "body": "The general answer is &quot;it depends&quot;, a decorator is just something that wraps your class. It is possible for it to expose a proprerty or not - as it chooses. It doesn&#39;t <i>have</i> to let you have access to it - in fact it may choose to ignore the parameter passed to it altogether."}], "answers": [{"tags": [], "owner": {"reputation": 57430, "user_id": 3106920, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pO5sC.jpg?s=128&g=1", "display_name": "Poul Kruijt", "link": "https://stackoverflow.com/users/3106920/poul-kruijt"}, "is_accepted": false, "score": 20, "last_activity_date": 1553519958, "last_edit_date": 1553519958, "creation_date": 1451078440, "answer_id": 34466523, "question_id": 34465214, "link": "https://stackoverflow.com/questions/34465214/access-meta-annotation-inside-class-typescript/34466523#34466523", "title": "Access Meta-Annotation inside Class (TypeScript)", "body": "<p>With the new angular version, you should use the native <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Reflect\" rel=\"nofollow noreferrer\"><code>Reflect</code></a> object. No IE11 support though:</p>\n\n<pre><code>const annotations = Reflect.getOwnPropertyDescriptor(MyModule, '__annotations__').value;\n</code></pre>\n\n<p>Read Jeff Fairley's answer below on what to do with the data after that</p>\n\n<p><strike>\nYou can see an annotation/decorator as a normal function call. To this function the 'Class/Function' object (not instance) gets send in the first parameter, and the parameters (metadata) in the second argument.</p>\n\n<p>However it depends on the implementation of that function if something gets added for instance to the prototype of the class (bad practice/exposing property). The TypeScript compiler and Angular2 do things differently though.</p>\n\n<p>They use the <code>__decorate</code> and <code>__metadata</code> functions, which are generated by the TypeScript compiler. The data gets added with the <a href=\"https://developer.mozilla.org/nl/docs/Web/JavaScript/Reference/Global_Objects/Object/defineProperty\" rel=\"nofollow noreferrer\">Object.defineProperty()</a> function. The package responsible for this is <a href=\"https://github.com/rbuckton/ReflectDecorators\" rel=\"nofollow noreferrer\">Reflect</a>. (which under the hood uses the <code>Object.defineProperty()</code> function in combination with a <code>WeakMap</code>).</p>\n\n<p>The function <code>Reflect.defineMetadata()</code> is used to set the annotations, and to obtain them the obvious <code>Reflect.getMetadata()</code>. </p>\n\n<p>TLDR;</p>\n\n<ul>\n<li><p>To get the annotations from a class/component in angular2, you have\nto use:</p>\n\n<pre><code>Reflect.getMetadata('annotations', ComponentClass); //@Component({}), @Pipe({}), ...\n</code></pre></li>\n<li><p>To get the annotations from the constructor paramaters in angular2, you have to use:</p>\n\n<pre><code>Reflect.getMetadata('parameters', ComponentClass); //@Inject()\n</code></pre></li>\n<li><p>To get the annotations from a property in a class in angular2, you\nhave to use:</p>\n\n<pre><code>Reflect.getMetadata('propMetadata', ComponentClass); //@HostBinding(), @Input(), ...\n</code></pre>\n\n<p></strike></p></li>\n</ul>\n"}, {"comments": [{"owner": {"reputation": 57430, "user_id": 3106920, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pO5sC.jpg?s=128&g=1", "display_name": "Poul Kruijt", "link": "https://stackoverflow.com/users/3106920/poul-kruijt"}, "edited": false, "score": 0, "creation_date": 1553519805, "post_id": 50378933, "comment_id": 97402470, "body": "Nice answer! This is indeed how it should be done now, although if you don&#39;t care about IE, you can use the native <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Reflect\" rel=\"nofollow noreferrer\">Reflect</a> now. <code>Reflect.getOwnPropertyDescriptor(AppComponent, &#39;__annotations__&#39;);</code>"}, {"owner": {"reputation": 34409, "user_id": 102181, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/a8bf03194a8ab9e09c26a38ee0404315?s=128&d=identicon&r=PG", "display_name": "Hoff", "link": "https://stackoverflow.com/users/102181/hoff"}, "edited": false, "score": 0, "creation_date": 1573492086, "post_id": 50378933, "comment_id": 103891224, "body": "This answer is more current, making it the accepted answer. See <a href=\"https://stackoverflow.com/questions/46937746/how-to-retrieve-a-components-metadata-in-angular\" title=\"how to retrieve a components metadata in angular\">stackoverflow.com/questions/46937746/&hellip;</a> for a bit more details"}], "tags": [], "owner": {"reputation": 6672, "user_id": 317951, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/f441c9678f416d71cff295e717a018ff?s=128&d=identicon&r=PG", "display_name": "Jeff Fairley", "link": "https://stackoverflow.com/users/317951/jeff-fairley"}, "is_accepted": true, "score": 8, "last_activity_date": 1526501023, "last_edit_date": 1526501023, "creation_date": 1526500417, "answer_id": 50378933, "question_id": 34465214, "link": "https://stackoverflow.com/questions/34465214/access-meta-annotation-inside-class-typescript/50378933#50378933", "title": "Access Meta-Annotation inside Class (TypeScript)", "body": "<p><a href=\"https://stackoverflow.com/a/34466523/317951\">@PierreDuc's answer</a> doesn't work for me in <em>Angular 5</em>. I did some further reading (sorry, I can't find all the relevant links to share), and came up with the following:</p>\n\n<pre class=\"lang-typescript prettyprint-override\"><code>let decorator: Type&lt;any&gt;;\n// you can cast the component class\ndecorator = (&lt;any&gt;AppComponent).__annotations__[0];\n// or use with lodash.get\ndecorator = get(AppComponent, '__annotations__[0]');\n\n//\n// obviously, this is an array, and based on your app,\n// you may have multiple decorators on one class, so iterate them\n//\n\n\n// if you want to just grab some data from the @Component:\nconst templateUrl: string = decorator.templateUrl;\n// or from a @NgModule:\nconst declarations: Type&lt;any&gt;[] = decorator.declarations;\n\n\n// or if you're trying to decide whether this is in fact a component:\nif (decorator instanceof Component) {\n  // do things\n}\n// or a provider\nif (decorator instanceof Injectable) {\n  // do different things\n}\n// or a module:\nif (decorator instanceof NgModule) {\n  // do things\n}\n\n// etc...\n</code></pre>\n\n<p>I have not yet upgraded my app to Angular 6, so I have not verified that this has not changed.</p>\n\n<p>Related:</p>\n\n<ul>\n<li>Here's any interesting article about <em>creating</em> a custom decorator: <a href=\"https://blog.angularindepth.com/implementing-custom-component-decorator-in-angular-4d037d5a3f0d\" rel=\"noreferrer\">https://blog.angularindepth.com/implementing-custom-component-decorator-in-angular-4d037d5a3f0d</a></li>\n</ul>\n"}, {"comments": [{"owner": {"reputation": 4968, "user_id": 308645, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/Xlzz9.jpg?s=128&g=1", "display_name": "unitario", "link": "https://stackoverflow.com/users/308645/unitario"}, "edited": false, "score": 0, "creation_date": 1581757666, "post_id": 56158669, "comment_id": 106549124, "body": "Should be noted that of the out of all possible <a href=\"https://angular.io/api/core/Component\" rel=\"nofollow noreferrer\">annotations</a> only <code>inputs</code>, <code>outputs</code>, <code>queries</code> and <code>selector</code> are accessible from the <code>ComponentFactory</code>."}], "tags": [], "owner": {"reputation": 1433, "user_id": 3499424, "user_type": "registered", "profile_image": "https://graph.facebook.com/1267452563/picture?type=large", "display_name": "John Neuhaus", "link": "https://stackoverflow.com/users/3499424/john-neuhaus"}, "is_accepted": false, "score": 3, "last_activity_date": 1557961822, "last_edit_date": 1557961822, "creation_date": 1557961054, "answer_id": 56158669, "question_id": 34465214, "link": "https://stackoverflow.com/questions/34465214/access-meta-annotation-inside-class-typescript/56158669#56158669", "title": "Access Meta-Annotation inside Class (TypeScript)", "body": "<p>We were using this solution and found out that AOT strips out <code>__annotations__</code> (which is also the default for <code>--prod</code> builds,) making it a no-go for us.</p>\n\n<p>Fortunately if you're dealing with components, there's an alternative that works in both and doesn't use strings:</p>\n\n<pre><code>const components = [ MyComponent ];\n/*\n  ...\n  Anything that can be injected into\n*/\nconstructor(private componentFactoryResolver: ComponentFactoryResolver) {\n  // For each component\n  components.forEach(element =&gt; {\n    // Get its resolved factory\n    const factory = this.componentFactoryResolver.resolveComponentFactory(element);\n\n    console.log('Factory:', factory);\n    console.log('Selector:', factory.selector);\n  });\n}\n</code></pre>\n\n<p>Since it's dealing with proper types and interfaces, it's also linter-approved!</p>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 10709338, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-sqXEOdrwxCI/AAAAAAAAAAI/AAAAAAAAAAA/AGDgw-hzN_3_ZLfe4heDc7g7Gw1n9uFNdQ/mo/photo.jpg?sz=128", "display_name": "xingyuan chen", "link": "https://stackoverflow.com/users/10709338/xingyuan-chen"}, "is_accepted": false, "score": 0, "last_activity_date": 1597594475, "creation_date": 1597594475, "answer_id": 63439160, "question_id": 34465214, "link": "https://stackoverflow.com/questions/34465214/access-meta-annotation-inside-class-typescript/63439160#63439160", "title": "Access Meta-Annotation inside Class (TypeScript)", "body": "<p>as John Neuhaus stated, angular just remove <strong>annotations</strong> property when aot compiling. So, we can just do <code>ng serve --aot=false</code>, and now you may find <strong>annotations</strong> show up when you do <code>console.dir(AppComponent);</code></p>\n"}], "owner": {"reputation": 34409, "user_id": 102181, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/a8bf03194a8ab9e09c26a38ee0404315?s=128&d=identicon&r=PG", "display_name": "Hoff", "link": "https://stackoverflow.com/users/102181/hoff"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 6917, "favorite_count": 7, "accepted_answer_id": 50378933, "answer_count": 4, "score": 19, "last_activity_date": 1597594475, "creation_date": 1451067030, "question_id": 34465214, "link": "https://stackoverflow.com/questions/34465214/access-meta-annotation-inside-class-typescript", "title": "Access Meta-Annotation inside Class (TypeScript)", "body": "<p>When I annotate a class with metadata in TypeScript, e.g. to create an Angular2 component, can I access the metadata inside that class?  </p>\n\n<pre><code>import {Component} from 'angular2/core';\n\n@Component({\n    selector: 'app',\n    templateUrl: '/app/components/app/app.component.html'\n})\nexport class AppComponent {\n\n    // can I access 'templateUrl' from above annotation here?\n\n}\n</code></pre>\n"}, {"tags": ["typescript", "tsd"], "answers": [{"comments": [{"owner": {"reputation": 18389, "user_id": 1860591, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/AWtf9.jpg?s=128&g=1", "display_name": "Lodewijk Bogaards", "link": "https://stackoverflow.com/users/1860591/lodewijk-bogaards"}, "edited": false, "score": 0, "creation_date": 1451081121, "post_id": 34465337, "comment_id": 56675603, "body": "Great I&#39;ve actually added this linking piece between the external and internal module in a separate file: /// <code>&lt;reference path=&quot;..&#47;typings&#47;tsd&#47;nouislider&#47;nouislider.d.ts&quot;&#47;&gt; declare module &#39;noUiSlider&#47;distribute&#47;nouislider&#39; {   export = noUiSlider; }</code>. That&#39;s all I was looking for. Thanks!"}], "tags": [], "owner": {"reputation": 22172, "user_id": 1263942, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/b272a5e1d5d3589192d942552e51e2a8?s=128&d=identicon&r=PG", "display_name": "Bruno Grieder", "link": "https://stackoverflow.com/users/1263942/bruno-grieder"}, "is_accepted": true, "score": 2, "last_activity_date": 1451068238, "creation_date": 1451068238, "answer_id": 34465337, "question_id": 34463905, "link": "https://stackoverflow.com/questions/34463905/how-to-load-an-external-typescript-module-that-is-defined-as-an-internal-module/34465337#34465337", "title": "How to load an external typescript module that is defined as an internal module (tsd)", "body": "<p>No much you can do I am afraid other than creating a pull request on <a href=\"https://github.com/DefinitelyTyped/DefinitelyTyped\" rel=\"nofollow\">DefinitelyTyped</a> and propose <em>adding</em></p>\n\n<pre><code>declare module 'noUiSlider/distribute/nouislider' {\n     export = noUiSlider;\n}\n</code></pre>\n\n<p>This should simply add the possibility to use it as an external module without breaking any existing use</p>\n"}], "owner": {"reputation": 18389, "user_id": 1860591, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/AWtf9.jpg?s=128&g=1", "display_name": "Lodewijk Bogaards", "link": "https://stackoverflow.com/users/1860591/lodewijk-bogaards"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 391, "favorite_count": 0, "accepted_answer_id": 34465337, "answer_count": 1, "score": 1, "last_activity_date": 1451068238, "creation_date": 1451055922, "last_edit_date": 1451064895, "question_id": 34463905, "link": "https://stackoverflow.com/questions/34463905/how-to-load-an-external-typescript-module-that-is-defined-as-an-internal-module", "title": "How to load an external typescript module that is defined as an internal module (tsd)", "body": "<p>I am trying to load the <a href=\"http://refreshless.com/nouislider/\" rel=\"nofollow\">nouislider</a> module in my project: Angular 2 beta-0, Typescript 1.7 using SystemJs 0.19.4. </p>\n\n<p>I have it working with a work-around: by changing the .d.ts file <code>tsd</code> has installed for me. I would like to know what, if anything, I can do to load the module without altering the  original typescript definition file: <a href=\"https://github.com/DefinitelyTyped/DefinitelyTyped/blob/master/nouislider/nouislider.d.ts\" rel=\"nofollow\">nouislider.d.ts</a>.</p>\n\n<p>With my changes I can currently load <code>nouislider</code> and use it in my Typescript project with SystemJs like so:</p>\n\n<pre><code>import {create as createSlider}  from 'noUiSlider/distribute/nouislider';\ncreateSlider(document.getElementById('test-slider'), {\n  start: 40,  connect: \"lower\",\n  range: { 'min': 0, 'max': 100 }\n});\n</code></pre>\n\n<p>What I did to get it working was change these two lines at the top in <code>nouislider.d.ts</code>:</p>\n\n<pre><code>declare module noUiSlider {\n    function create(target: HTMLElement, options: Options): void;\n</code></pre>\n\n<p>into</p>\n\n<pre><code>declare module 'noUiSlider/distribute/nouislider' {\n    export function create(target : HTMLElement, options : Options) : void;\n</code></pre>\n\n<p>I set the module's name to 'noUiSlider/distribute/nouislider', otherwise System.js does not load the module from the right path. And I export the create function, since otherwise I have no way of loading it</p>\n\n<p>How can I prevent making these two changes? I would be quite content creating an external module definition myself that references the internal module definition or achieve the same result some other way without changing nouislider.d.ts. I've tried a bunch of things, but couldn't make it work, and seem to be getting lost in all the docs. Your help is much appreciated.</p>\n"}, {"tags": ["typescript", "mocha.js"], "comments": [{"owner": {"reputation": 1255, "user_id": 2731094, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/DEHBk.jpg?s=128&g=1", "display_name": "Quy", "link": "https://stackoverflow.com/users/2731094/quy"}, "edited": false, "score": 0, "creation_date": 1451028909, "post_id": 34458494, "comment_id": 56663868, "body": "That should only pick up javascript files with the extension <code>.js</code>. Usually typescript files have an extension of <code>.ts</code>."}, {"owner": {"reputation": 6268, "user_id": 1644422, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/01c7fb4b20926d4dcf7d1125f7adac9f?s=128&d=identicon&r=PG", "display_name": "Louay Alakkad", "link": "https://stackoverflow.com/users/1644422/louay-alakkad"}, "edited": false, "score": 0, "creation_date": 1451033635, "post_id": 34458494, "comment_id": 56664763, "body": "Mocha should never run <code>ts</code> files anyway. It doesn&#39;t understand them."}], "owner": {"reputation": 469, "user_id": 4471158, "user_type": "registered", "accept_rate": 44, "profile_image": "https://lh4.googleusercontent.com/-opKJlaPu4pY/AAAAAAAAAAI/AAAAAAAAAGI/s7j_NhXDBdg/photo.jpg?sz=128", "display_name": "Igor Babkin", "link": "https://stackoverflow.com/users/4471158/igor-babkin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 277, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1450996783, "creation_date": 1450996783, "question_id": 34458494, "link": "https://stackoverflow.com/questions/34458494/how-to-exclude-ts-files-in-mocha", "title": "How to exclude ts files in mocha", "body": "<p>Does anybody know how to exclude typescript file when run mocha?</p>\n\n<pre><code>mocha test/*.js\n</code></pre>\n\n<p>This command doesn't help. Mocha tries to run typescript files.\nI need to execute only .js test files.</p>\n"}, {"tags": ["typescript", "angular", "transclusion"], "answers": [{"comments": [{"owner": {"reputation": 11964, "user_id": 1066899, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/093623a2cb341330217f2a4f38a69cc2?s=128&d=identicon&r=PG", "display_name": "the_critic", "link": "https://stackoverflow.com/users/1066899/the-critic"}, "edited": false, "score": 0, "creation_date": 1450990628, "post_id": 34457814, "comment_id": 56657624, "body": "<code>ngSwitch</code> is not an option, <code>DynamicComponentLoader</code> sounds more like what I am looking for. I&#39;ll take a look at that and get back to you."}, {"owner": {"reputation": 11964, "user_id": 1066899, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/093623a2cb341330217f2a4f38a69cc2?s=128&d=identicon&r=PG", "display_name": "the_critic", "link": "https://stackoverflow.com/users/1066899/the-critic"}, "edited": false, "score": 0, "creation_date": 1450996671, "post_id": 34457814, "comment_id": 56658980, "body": "Phew! Almost there, I only need to set a property on the newly created component. I get the promise with the <code>ComponentRef</code> back but I&#39;m not really sure how to access properties of the newly loaded component... Any idea ? (Updated my question for you to see what I am working with)"}, {"owner": {"reputation": 11964, "user_id": 1066899, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/093623a2cb341330217f2a4f38a69cc2?s=128&d=identicon&r=PG", "display_name": "the_critic", "link": "https://stackoverflow.com/users/1066899/the-critic"}, "edited": false, "score": 0, "creation_date": 1450997324, "post_id": 34457814, "comment_id": 56659112, "body": "Okay, I think the component instance would be <code>el.instance</code>. Trying that out and getting back to you shortly."}, {"owner": {"reputation": 11964, "user_id": 1066899, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/093623a2cb341330217f2a4f38a69cc2?s=128&d=identicon&r=PG", "display_name": "the_critic", "link": "https://stackoverflow.com/users/1066899/the-critic"}, "edited": false, "score": 1, "creation_date": 1450997707, "post_id": 34457814, "comment_id": 56659192, "body": "Okay got it! Your tip was immensely helpful! Vielen Dank und frohe Weihnachten!"}, {"owner": {"reputation": 928, "user_id": 2675396, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6zGfw.jpg?s=128&g=1", "display_name": "Alexandre Junges", "link": "https://stackoverflow.com/users/2675396/alexandre-junges"}, "edited": false, "score": 0, "creation_date": 1470232663, "post_id": 34457814, "comment_id": 64865172, "body": "Since rc1 DynamicComponentLoader has become deprecated."}, {"owner": {"reputation": 483726, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "reply_to_user": {"reputation": 928, "user_id": 2675396, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6zGfw.jpg?s=128&g=1", "display_name": "Alexandre Junges", "link": "https://stackoverflow.com/users/2675396/alexandre-junges"}, "edited": false, "score": 0, "creation_date": 1470232745, "post_id": 34457814, "comment_id": 64865235, "body": "@AlexandreJunges thanks for the hint :) I updated my answer."}], "tags": [], "owner": {"reputation": 483726, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "is_accepted": true, "score": 2, "last_activity_date": 1470232729, "last_edit_date": 1495542752, "creation_date": 1450990493, "answer_id": 34457814, "question_id": 34457716, "link": "https://stackoverflow.com/questions/34457716/dynamic-template-transclusion-in-angular2/34457814#34457814", "title": "Dynamic template &quot;transclusion&quot; in Angular2", "body": "<p><strong>update</strong></p>\n\n<p>DCL is deprecated since a while. Use <code>ViewContainerRef.createComponent</code> instead. For an example (with Plunker) see <a href=\"https://stackoverflow.com/questions/36325212/angular-2-dynamic-tabs-with-user-click-chosen-components/36325468#36325468\">Angular 2 dynamic tabs with user-click chosen components</a></p>\n\n<p><strong>original</strong></p>\n\n<p>You can use <code>ngSwitch</code> (similar to your own workaround but more concise)  or <code>DynamicComponentLoader</code></p>\n\n<p>See also</p>\n\n<ul>\n<li><a href=\"https://angular.io/docs/ts/latest/api/core/DynamicComponentLoader-class.html\" rel=\"nofollow noreferrer\">https://angular.io/docs/ts/latest/api/core/DynamicComponentLoader-class.html</a></li>\n<li><a href=\"https://stackoverflow.com/questions/33034930/how-to-use-angular2-dynamiccomponentloader-in-es6\">How to use angular2 DynamicComponentLoader in ES6?</a></li>\n</ul>\n"}], "owner": {"reputation": 11964, "user_id": 1066899, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/093623a2cb341330217f2a4f38a69cc2?s=128&d=identicon&r=PG", "display_name": "the_critic", "link": "https://stackoverflow.com/users/1066899/the-critic"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2086, "favorite_count": 1, "accepted_answer_id": 34457814, "answer_count": 1, "score": 5, "last_activity_date": 1470232729, "creation_date": 1450989530, "last_edit_date": 1450997820, "question_id": 34457716, "link": "https://stackoverflow.com/questions/34457716/dynamic-template-transclusion-in-angular2", "title": "Dynamic template &quot;transclusion&quot; in Angular2", "body": "<p>I am trying to achieve something like this: \nI have a model class called <code>ObjectTypeA</code>, <code>ObjectTypeB</code> and <code>ObjectTypeC</code>. \nThere is also a factory <code>ComponentFactory</code>, which based on the type of object passed in will create different components: </p>\n\n<p><strong>ComponentFactory.ts</strong></p>\n\n<pre><code>export interface ComponentFactoryInterface {\n\n    static CreateComponent(obj: CommonSuperObject)\n\n}\n\n@Injectable()\nexport class ComponentFactory {\n\n    public static CreateComponent(obj: CommonSuperObject){\n\n        if (obj instanceof ObjectTypeA){\n            return ObjectComponentA()\n        }else if (obj instanceof ObjectTypeB){\n            return ObjectComponentB()\n        }\n\n    }\n}\n</code></pre>\n\n<p>In the template I would like to do something like this: </p>\n\n<p><strong>main_template.html</strong></p>\n\n<pre><code>&lt;components&gt;\n  &lt;component *ngFor=\"#obj in objects\"&gt;\n     &lt;!-- insert custom component template here --&gt;\n  &lt;/component&gt;\n&lt;/components&gt;\n</code></pre>\n\n<p>How do I insert the associated components dynamically ? </p>\n\n<p>I could do something like this (not my preferred way of doing it):</p>\n\n<pre><code>&lt;components&gt;\n  &lt;!-- loop over component models --&gt;\n  &lt;custom-component-a *ngIf=\"models[i] instanceof ObjectTypeA\"&gt;\n  &lt;/custom-component-a&gt;\n  &lt;custom-component-b *ngIf=\"models[i] instanceof ObjectTypeB\"&gt;\n  &lt;/custom-component-b&gt;\n&lt;/components&gt;\n</code></pre>\n\n<p>But this is seems really wrong to me on many levels (I would have to modify this code and the factory code if I add another component type). </p>\n\n<h1> Edit - Working Example </h1>\n\n<pre><code>constructor(private _contentService: ContentService, private _dcl: DynamicComponentLoader, componentFactory: ComponentFactory, elementRef: ElementRef){\n\n    this.someArray = _contentService.someArrayData;\n    this.someArray.forEach(compData =&gt; {\n    let component = componentFactory.createComponent(compData);\n        _dcl.loadIntoLocation(component, elementRef, 'componentContainer').then(function(el){\n            el.instance.compData = compData;\n        });\n    });\n\n}\n</code></pre>\n"}, {"tags": ["angularjs", "typescript", "jasmine", "karma-jasmine"], "answers": [{"tags": [], "owner": {"reputation": 852, "user_id": 3393290, "user_type": "registered", "accept_rate": 42, "profile_image": "https://www.gravatar.com/avatar/c22cdf2556508c58e15cf12e5f53d3f0?s=128&d=identicon&r=PG&f=1", "display_name": "Aj1", "link": "https://stackoverflow.com/users/3393290/aj1"}, "is_accepted": false, "score": 0, "last_activity_date": 1450988570, "creation_date": 1450988570, "answer_id": 34457588, "question_id": 34457386, "link": "https://stackoverflow.com/questions/34457386/jasmine-expected-spy-to-have-been-called/34457588#34457588", "title": "Jasmine Expected Spy to have been called", "body": "<p>Fixed the issue here is the updated Test.</p>\n\n<pre><code>import {DataService } from ' ./sharedData.Service';\n export function main() {\n    describe(\"DataService\", () =&gt; {\n        let service: DataService;\n        beforeEach(function () {\n            service = new DataService();\n        });\n\n        it(\"should initialize shared data service\", () =&gt; {\n           var spy = spyOn(service, \"setYear\").and.callThrough();\n            expect(service).toBeDefined();\n            expect(spy);\n            expect(service._selectedYear).toEqual(2015);\n        });\n    });\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 71, "user_id": 5715558, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cbf4eee652abdbbbc7eacb458c08becb?s=128&d=identicon&r=PG&f=1", "display_name": "Jorge", "link": "https://stackoverflow.com/users/5715558/jorge"}, "is_accepted": false, "score": 7, "last_activity_date": 1566285982, "last_edit_date": 1566285982, "creation_date": 1450998435, "answer_id": 34458646, "question_id": 34457386, "link": "https://stackoverflow.com/questions/34457386/jasmine-expected-spy-to-have-been-called/34458646#34458646", "title": "Jasmine Expected Spy to have been called", "body": "<p>The problem is you are setting up the spy too late. By the time you mount the spy on service, it has already been constructed and setYear has been called. But you obviously can not mount the spy on service before it is constructed. </p>\n\n<p>One way around this is to spy on DataService.prototype.setYear. You can make sure it was called by the service instance asserting that </p>\n\n<p><code>Dataservice.prototype.setYear.calls.mostRecent().object is service.</code></p>\n"}], "owner": {"reputation": 852, "user_id": 3393290, "user_type": "registered", "accept_rate": 42, "profile_image": "https://www.gravatar.com/avatar/c22cdf2556508c58e15cf12e5f53d3f0?s=128&d=identicon&r=PG&f=1", "display_name": "Aj1", "link": "https://stackoverflow.com/users/3393290/aj1"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 19229, "favorite_count": 0, "answer_count": 2, "score": 7, "last_activity_date": 1566285982, "creation_date": 1450987078, "question_id": 34457386, "link": "https://stackoverflow.com/questions/34457386/jasmine-expected-spy-to-have-been-called", "title": "Jasmine Expected Spy to have been called", "body": "<p>Here is my angular factory written in typescript: </p>\n\n<pre><code>export class DataService { \n\nconstructor () {\n   this.setYear(2015);\n }\nsetYear = (year:number) =&gt; {\n        this._selectedYear =year;\n     }\n}\n</code></pre>\n\n<p>Here is my test file.</p>\n\n<pre><code> import {DataService } from ' ./sharedData.Service';\n export function main() {\n    describe(\"DataService\", () =&gt; {\n        let service: DataService;\n        beforeEach(function () {\n            service = new DataService();\n        });\n\n        it(\"should initialize shared data service\", () =&gt; {\n            spyOn(service, \"setYear\");\n            expect(service).toBeDefined();\n            expect(service.setYear).toHaveBeenCalled(2015);\n        });\n    });\n}\n</code></pre>\n\n<p>When I run the file the test failing saying that</p>\n\n<pre><code>**Expected spy setSelectedCropYear to have been called.\nError: Expected spy setSelectedCropYear to have been called.**\n</code></pre>\n\n<p>I am not able to figure what is wrong. Can anyone tell me what is wrong with the test please.</p>\n"}, {"tags": ["angularjs", "typescript", "angular-directive"], "comments": [{"owner": {"reputation": 147776, "user_id": 3731501, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/e4783dfa8ec98c884e61d29f2192ac97?s=128&d=identicon&r=PG&f=1", "display_name": "Estus Flask", "link": "https://stackoverflow.com/users/3731501/estus-flask"}, "edited": false, "score": 2, "creation_date": 1450979428, "post_id": 34455526, "comment_id": 56654406, "body": "&#39;Is there another AngularJS mechanism I can use for this purpose?&#39; The answer is yes. <code>require</code> parent controller in children directives."}], "answers": [{"tags": [], "owner": {"reputation": 15708, "user_id": 128662, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/e25c1b1285205a14ec422c6eb9ab8736?s=128&d=identicon&r=PG", "display_name": "Cyril Gandon", "link": "https://stackoverflow.com/users/128662/cyril-gandon"}, "is_accepted": true, "score": 1, "last_activity_date": 1451020056, "last_edit_date": 1451020056, "creation_date": 1451019719, "answer_id": 34460156, "question_id": 34455526, "link": "https://stackoverflow.com/questions/34455526/service-to-communicate-between-parent-directive-and-all-children-angularjs/34460156#34460156", "title": "Service to communicate between parent directive and all children, angularjs", "body": "<p>You can create an instance of an object in the parent directive, and pass it to each children in the attribute of the directives.</p>\n\n<pre><code>class parentDirective {\n    instanciatedService : MyService;\n    constructor() {\n        this.instanciatedService = new MyService();\n    }\n}\n\ntemplate : `\n&lt;parent&gt;\n    &lt;child custom-service=\"vm.instanciatedService\"&gt;&lt;/child&gt;\n&lt;/parent&gt;\n`,\ncontrollerAs : 'vm'\n</code></pre>\n\n<p>In child's directive</p>\n\n<pre><code>bindToController /* or scope */ {\n    customService: \"=\"\n},\n</code></pre>\n\n<p>In parent directive, you instanciate <code>instanciatedService</code>, then children and parent can access that same object. It's a kind of dependency injection throught directives attributes.</p>\n\n<p>This will obvisouly leads to more boilerplate in html templates, but at least this is not a singleton.</p>\n"}], "owner": {"reputation": 3272, "user_id": 845356, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/300474536742f11884ed9c9bc0e1fe08?s=128&d=identicon&r=PG&f=1", "display_name": "Whit Waldo", "link": "https://stackoverflow.com/users/845356/whit-waldo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 365, "favorite_count": 0, "accepted_answer_id": 34460156, "answer_count": 1, "score": 2, "last_activity_date": 1451020056, "creation_date": 1450974631, "question_id": 34455526, "link": "https://stackoverflow.com/questions/34455526/service-to-communicate-between-parent-directive-and-all-children-angularjs", "title": "Service to communicate between parent directive and all children, angularjs", "body": "<p>I have a directive that I'm intending to contain a number of other directives and that I intended to have a number of instances of on the page. I would like to be able to create a non-singleton service that I can create a new instance of for the parent directive and then make it available to all child directives within that tree so that those children can influence the behavior of the parent directive. At the same time, the service for one parent directive cannot modify other parent directives and should be unique to the one it's originally instantiated in.</p>\n\n<p>Ideally, I'd like to be able to call functions on this service from each of the child directives and then have it communicate either with other services or directly with the parent directive. However, I'm aware that services are singletons, so that's not quite the right terminology here. Is there another AngularJS mechanism I can use for this purpose?</p>\n\n<p>This application is written in TypeScript with AngularJS v1.4.7 - thanks for your help!</p>\n"}, {"tags": ["javascript", "angular", "typescript", "dependency-injection"], "comments": [{"owner": {"reputation": 10697, "user_id": 2456263, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/a3cf0df72502fdc81fad7301b2b887d8?s=128&d=identicon&r=PG", "display_name": "0xcaff", "link": "https://stackoverflow.com/users/2456263/0xcaff"}, "edited": false, "score": 3, "creation_date": 1451011302, "post_id": 34454481, "comment_id": 56661289, "body": "In the issue you linked, <code>It is not easy to use it as standalone atm and there is no documentation for such setup. There is a plan to extract DI library from the **angular2** repo in the future, but this is not the case today.</code> Also, nice hat!"}, {"owner": {"reputation": 10697, "user_id": 2456263, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/a3cf0df72502fdc81fad7301b2b887d8?s=128&d=identicon&r=PG", "display_name": "0xcaff", "link": "https://stackoverflow.com/users/2456263/0xcaff"}, "edited": false, "score": 0, "creation_date": 1451011420, "post_id": 34454481, "comment_id": 56661299, "body": "It&#39;s speaking about the angular2 di."}, {"owner": {"reputation": 2535, "user_id": 3211143, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/b0fe837f59ba5d0ed42c961c3afa172b?s=128&d=identicon&r=PG&f=1", "display_name": "Ludovic C", "link": "https://stackoverflow.com/users/3211143/ludovic-c"}, "reply_to_user": {"reputation": 10697, "user_id": 2456263, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/a3cf0df72502fdc81fad7301b2b887d8?s=128&d=identicon&r=PG", "display_name": "0xcaff", "link": "https://stackoverflow.com/users/2456263/0xcaff"}, "edited": false, "score": 0, "creation_date": 1451011723, "post_id": 34454481, "comment_id": 56661336, "body": "Oh I see you&#39;re right. But things might have changed now! Angular2 wasn&#39;t out at the time."}, {"owner": {"reputation": 10697, "user_id": 2456263, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/a3cf0df72502fdc81fad7301b2b887d8?s=128&d=identicon&r=PG", "display_name": "0xcaff", "link": "https://stackoverflow.com/users/2456263/0xcaff"}, "edited": false, "score": 0, "creation_date": 1451011907, "post_id": 34454481, "comment_id": 56661352, "body": "<a href=\"https://github.com/angular/angular/commit/169cb5f270c0a8f570a9383bb7ddbc4d30ec6b5f\" rel=\"nofollow noreferrer\">We had alpha 44</a> on October 15th."}, {"owner": {"reputation": 2535, "user_id": 3211143, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/b0fe837f59ba5d0ed42c961c3afa172b?s=128&d=identicon&r=PG&f=1", "display_name": "Ludovic C", "link": "https://stackoverflow.com/users/3211143/ludovic-c"}, "reply_to_user": {"reputation": 10697, "user_id": 2456263, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/a3cf0df72502fdc81fad7301b2b887d8?s=128&d=identicon&r=PG", "display_name": "0xcaff", "link": "https://stackoverflow.com/users/2456263/0xcaff"}, "edited": false, "score": 1, "creation_date": 1451012064, "post_id": 34454481, "comment_id": 56661367, "body": "&quot;It\u2019s an isolated component of the framework that can be used as standalone system, without Angular 2 &quot; <a href=\"http://blog.thoughtram.io/angular/2015/05/18/dependency-injection-in-angular-2.html\" rel=\"nofollow noreferrer\">blog.thoughtram.io/angular/2015/05/18/&hellip;</a>"}, {"owner": {"reputation": 2535, "user_id": 3211143, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/b0fe837f59ba5d0ed42c961c3afa172b?s=128&d=identicon&r=PG&f=1", "display_name": "Ludovic C", "link": "https://stackoverflow.com/users/3211143/ludovic-c"}, "reply_to_user": {"reputation": 10697, "user_id": 2456263, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/a3cf0df72502fdc81fad7301b2b887d8?s=128&d=identicon&r=PG", "display_name": "0xcaff", "link": "https://stackoverflow.com/users/2456263/0xcaff"}, "edited": false, "score": 1, "creation_date": 1451151705, "post_id": 34454481, "comment_id": 56688749, "body": "That&#39;s the thing. I&#39;m reading all sort of stuff all over the place. I&#39;d like to know once for all if I can use angular2 Di elsewhere."}], "answers": [{"comments": [{"owner": {"reputation": 147776, "user_id": 3731501, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/e4783dfa8ec98c884e61d29f2192ac97?s=128&d=identicon&r=PG&f=1", "display_name": "Estus Flask", "link": "https://stackoverflow.com/users/3731501/estus-flask"}, "edited": false, "score": 1, "creation_date": 1470696020, "post_id": 38839461, "comment_id": 65044774, "body": "It inconvenient that DI is mixed with non-relevant stuff, but core A2 features don&#39;t depend on the platform, so it should be possible at least, just not sure how good the things are (NPM package is relatively small and contains pre-built ES5 and ES6). Btw, we already got <a href=\"https://github.com/aurelia/dependency-injection\" rel=\"nofollow noreferrer\">Aurelia DI</a> as a componentized  alternative, not documented for Node usage too."}], "tags": [], "owner": {"reputation": 635, "user_id": 3902761, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6ee4099c47a049f500a7d213d5a9658a?s=128&d=identicon&r=PG&f=1", "display_name": "Th&#233;o", "link": "https://stackoverflow.com/users/3902761/th%c3%a9o"}, "is_accepted": false, "score": 5, "last_activity_date": 1470695431, "creation_date": 1470695431, "answer_id": 38839461, "question_id": 34454481, "link": "https://stackoverflow.com/questions/34454481/angular2-di-in-typescript-can-we-use-it-in-node-js-non-angular-projects/38839461#38839461", "title": "Angular2 DI in Typescript. Can we use it in node.js / non-angular projects?", "body": "<p>I doubt it, <a href=\"https://github.com/angular/angular/tree/master/modules/%40angular/core/src/di\">it doesn't look like it has been extracted into a component</a>. It's a bit sad that major frameworks like Angular still have this monolithic approach, I would rather like to see Component oriented frameworks like <a href=\"http://symfony.com/\">Symfony</a>, but JavaScript isn't quite there yet.</p>\n\n<p>In the meantime you have <a href=\"https://github.com/inversify/InversifyJS\">InversifyJS</a> that doesn't look bad.</p>\n"}, {"tags": [], "owner": {"reputation": 16155, "user_id": 925151, "user_type": "registered", "accept_rate": 51, "profile_image": "https://www.gravatar.com/avatar/b6b0762574ecd4f3a5ea50b737aa08e9?s=128&d=identicon&r=PG&f=1", "display_name": "pleerock", "link": "https://stackoverflow.com/users/925151/pleerock"}, "is_accepted": false, "score": 1, "last_activity_date": 1471020352, "creation_date": 1471020352, "answer_id": 38922900, "question_id": 34454481, "link": "https://stackoverflow.com/questions/34454481/angular2-di-in-typescript-can-we-use-it-in-node-js-non-angular-projects/38922900#38922900", "title": "Angular2 DI in Typescript. Can we use it in node.js / non-angular projects?", "body": "<p>Checkout <a href=\"https://github.com/ubiquits/ubiquits\" rel=\"nofollow\">ubiquits</a> sources - he did somehow integrated angular 2's DI on the backend.</p>\n\n<p>If you want simple but powerfull and painless dependency injection tool for typescript and node.js <a href=\"https://github.com/pleerock/typedi\" rel=\"nofollow\">typedi</a>. It works great with angular frontends too. Also checkout other repositories of this author, there are lot of components that will help you to build node applications using TypeScript.</p>\n"}, {"comments": [{"owner": {"reputation": 84872, "user_id": 2545680, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/DCo33.jpg?s=128&g=1", "display_name": "Max Koretskyi", "link": "https://stackoverflow.com/users/2545680/max-koretskyi"}, "edited": false, "score": 0, "creation_date": 1487241870, "post_id": 38923612, "comment_id": 71699339, "body": "thanks, why do you use <code>Sandwich.parameters=[new Inject(bread)...</code> instead of <code>constructor(new Inject(bread)...) {</code>?"}, {"owner": {"reputation": 147776, "user_id": 3731501, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/e4783dfa8ec98c884e61d29f2192ac97?s=128&d=identicon&r=PG&f=1", "display_name": "Estus Flask", "link": "https://stackoverflow.com/users/3731501/estus-flask"}, "reply_to_user": {"reputation": 84872, "user_id": 2545680, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/DCo33.jpg?s=128&g=1", "display_name": "Max Koretskyi", "link": "https://stackoverflow.com/users/2545680/max-koretskyi"}, "edited": false, "score": 0, "creation_date": 1487242351, "post_id": 38923612, "comment_id": 71699680, "body": "@Maximus <code>parameters</code> static property is how the decorators are translated to ES5/ES6 (notice that there may be multiple decorators per constructor param, i.e Inject Optional). See also <a href=\"https://angular.io/docs/ts/latest/cookbook/ts-to-js.html#!#dependency-injection\" rel=\"nofollow noreferrer\">angular.io/docs/ts/latest/cookbook/&hellip;</a> ."}, {"owner": {"reputation": 147776, "user_id": 3731501, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/e4783dfa8ec98c884e61d29f2192ac97?s=128&d=identicon&r=PG&f=1", "display_name": "Estus Flask", "link": "https://stackoverflow.com/users/3731501/estus-flask"}, "reply_to_user": {"reputation": 84872, "user_id": 2545680, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/DCo33.jpg?s=128&g=1", "display_name": "Max Koretskyi", "link": "https://stackoverflow.com/users/2545680/max-koretskyi"}, "edited": false, "score": 0, "creation_date": 1487242480, "post_id": 38923612, "comment_id": 71699771, "body": "@Maximus You can also check this question, it addresses this <a href=\"http://stackoverflow.com/a/39029435/3731501\">stackoverflow.com/a/39029435/3731501</a>"}, {"owner": {"reputation": 84872, "user_id": 2545680, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/DCo33.jpg?s=128&g=1", "display_name": "Max Koretskyi", "link": "https://stackoverflow.com/users/2545680/max-koretskyi"}, "edited": false, "score": 0, "creation_date": 1487242778, "post_id": 38923612, "comment_id": 71699983, "body": "I see, thanks. I think it&#39;s due to the fact that plain ES6 doesn&#39;t support decorators, right? Because I just checked transpiled ES5 code and it doesn&#39;t have <code>parameters</code>. It looks like this <code>Car = __decorate([     __param(0, injection_js_1.Inject(engine_1.Engine)),</code>"}, {"owner": {"reputation": 147776, "user_id": 3731501, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/e4783dfa8ec98c884e61d29f2192ac97?s=128&d=identicon&r=PG&f=1", "display_name": "Estus Flask", "link": "https://stackoverflow.com/users/3731501/estus-flask"}, "reply_to_user": {"reputation": 84872, "user_id": 2545680, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/DCo33.jpg?s=128&g=1", "display_name": "Max Koretskyi", "link": "https://stackoverflow.com/users/2545680/max-koretskyi"}, "edited": false, "score": 0, "creation_date": 1487243000, "post_id": 38923612, "comment_id": 71700162, "body": "@Maximus Yes. The framework is heavily TS-oriented, it was the best common denominator they could come up with. It looks a bit more readable with <code>Class</code> helper which allows to annotate a constructor with an array, AngularJS style."}], "tags": [], "owner": {"reputation": 147776, "user_id": 3731501, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/e4783dfa8ec98c884e61d29f2192ac97?s=128&d=identicon&r=PG&f=1", "display_name": "Estus Flask", "link": "https://stackoverflow.com/users/3731501/estus-flask"}, "is_accepted": false, "score": 6, "last_activity_date": 1485422792, "last_edit_date": 1485422792, "creation_date": 1471023377, "answer_id": 38923612, "question_id": 34454481, "link": "https://stackoverflow.com/questions/34454481/angular2-di-in-typescript-can-we-use-it-in-node-js-non-angular-projects/38923612#38923612", "title": "Angular2 DI in Typescript. Can we use it in node.js / non-angular projects?", "body": "<p>As of Angular 2 RC.5, DI is a part of <code>@angular/core</code> package. For non-Angular uses, it was recently extracted into <code>injection-js</code> package by Minko Gechev, a member of Angular team.</p>\n\n<p>Here is a short ES6, Node-friendly example:</p>\n\n<pre><code>// may not be needed for injection-js and recent @angular/core versions\n// if ES5-flavoured `Class` helper isn't used\nrequire('reflect-metadata');\n\nconst { Inject, Injector, ReflectiveInjector, OpaqueToken } = require('@angular/core');\n// or ... = require('injection-js');\n\nconst bread = new OpaqueToken;\nconst cutlet = new OpaqueToken;\n\nclass Sandwich {\n    constructor(bread, cutlet, injector) {\n        const anotherBread = injector.get('bread');\n\n        injector === rootInjector;\n        bread === 'bread';\n        anotherBread === 'bread';\n        cutlet === 'cutlet';\n    }\n}\n\nSandwich.parameters = [\n    new Inject(bread),\n    new Inject(cutlet),\n    new Inject(Injector)\n];\n\nconst rootInjector = ReflectiveInjector.resolveAndCreate([\n    { provide: 'bread', useValue: 'bread' },\n    { provide: bread, useValue: 'bread' },\n    { provide: cutlet, useValue: 'cutlet' },\n    Sandwich\n]);\n\nconst sandwich = rootInjector.get(Sandwich);\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 147776, "user_id": 3731501, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/e4783dfa8ec98c884e61d29f2192ac97?s=128&d=identicon&r=PG&f=1", "display_name": "Estus Flask", "link": "https://stackoverflow.com/users/3731501/estus-flask"}, "edited": false, "score": 1, "creation_date": 1471300057, "post_id": 38937841, "comment_id": 65282790, "body": "The answer is somewhat guilty of hijacking and doesn&#39;t address the question directly, although it appears that it is certainly possible to use Angular 2 DI with Node (see my own answer). I personally enjoyed it and found it useful in the context."}], "tags": [], "owner": {"reputation": 17182, "user_id": 606821, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/X49xe.png?s=128&g=1", "display_name": "Remo H. Jansen", "link": "https://stackoverflow.com/users/606821/remo-h-jansen"}, "is_accepted": false, "score": 5, "last_activity_date": 1471130896, "creation_date": 1471130896, "answer_id": 38937841, "question_id": 34454481, "link": "https://stackoverflow.com/questions/34454481/angular2-di-in-typescript-can-we-use-it-in-node-js-non-angular-projects/38937841#38937841", "title": "Angular2 DI in Typescript. Can we use it in node.js / non-angular projects?", "body": "<p>At the moment the Angular 2.0 DI code doesn't seem to be ready to be consumed by other libraries. </p>\n\n<p>I would like to suggest an alternative. I have developed an IoC container called InversifyJS with advanced dependency injection features like contextual bindings. It works in both node and browsers and some parts of its API are based on the Angular 2 DI API.</p>\n\n<p>You need to follow <strong>3 basic steps</strong> to use it:</p>\n\n<h3>1. Add annotations</h3>\n\n<p>The annotation API is based on Angular 2.0:</p>\n\n<pre><code>import { injectable, inject } from \"inversify\";\n\n@injectable()\nclass Katana implements IKatana {\n    public hit() {\n        return \"cut!\";\n    }\n}\n\n@injectable()\nclass Shuriken implements IShuriken {\n    public throw() {\n        return \"hit!\";\n    }\n}\n\n@injectable()\nclass Ninja implements INinja {\n\n    private _katana: IKatana;\n    private _shuriken: IShuriken;\n\n    public constructor(\n        @inject(\"IKatana\") katana: IKatana,\n        @inject(\"IShuriken\") shuriken: IShuriken\n    ) {\n        this._katana = katana;\n        this._shuriken = shuriken;\n    }\n\n    public fight() { return this._katana.hit(); };\n    public sneak() { return this._shuriken.throw(); };\n\n}\n</code></pre>\n\n<h3>2. Declare bindings</h3>\n\n<p>The binding API is based on Ninject:</p>\n\n<pre><code>import { Kernel } from \"inversify\";\n\nimport { Ninja } from \"./entities/ninja\";\nimport { Katana } from \"./entities/katana\";\nimport { Shuriken} from \"./entities/shuriken\";\n\nvar kernel = new Kernel();\nkernel.bind&lt;INinja&gt;(\"INinja\").to(Ninja);\nkernel.bind&lt;IKatana&gt;(\"IKatana\").to(Katana);\nkernel.bind&lt;IShuriken&gt;(\"IShuriken\").to(Shuriken);\n\nexport default kernel;\n</code></pre>\n\n<h3>3. Resolve dependencies</h3>\n\n<p>The resolution API is based on Ninject:</p>\n\n<pre><code>import kernel = from \"./inversify.config\";\n\nvar ninja = kernel.get&lt;INinja&gt;(\"INinja\");\n\nexpect(ninja.fight()).eql(\"cut!\"); // true\nexpect(ninja.sneak()).eql(\"hit!\"); // true\n</code></pre>\n\n<p>The latest release (2.0.0) supports many use cases:</p>\n\n<ul>\n<li>Universal JavaScript (Works in Node.js and Browsers)</li>\n<li>Kernel modules</li>\n<li>Kernel middleware</li>\n<li>Use classes, string literals or Symbols as dependency identifiers</li>\n<li>Injection of constant values</li>\n<li>Injection of class constructors</li>\n<li>Injection of factories</li>\n<li>Auto factory</li>\n<li>Injection of providers (async factory)</li>\n<li>Activation handlers (used to inject proxies)</li>\n<li>Multi injections</li>\n<li>Tagged bindings</li>\n<li>Custom tag decorators</li>\n<li>Named bindings</li>\n<li>Contextual bindings</li>\n<li>Friendly exceptions (e.g. Circular dependencies)</li>\n</ul>\n\n<p>You can learn more about it at <a href=\"https://github.com/inversify/InversifyJS\" rel=\"noreferrer\">https://github.com/inversify/InversifyJS</a></p>\n"}, {"comments": [{"owner": {"reputation": 147776, "user_id": 3731501, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/e4783dfa8ec98c884e61d29f2192ac97?s=128&d=identicon&r=PG&f=1", "display_name": "Estus Flask", "link": "https://stackoverflow.com/users/3731501/estus-flask"}, "edited": false, "score": 1, "creation_date": 1485422092, "post_id": 41813596, "comment_id": 70922294, "body": "Just noticed your answer after I&#39;ve updated my own with this information. That&#39;s very good news, because mgechev is active A2 developer, so the repo will surely be up to date."}], "tags": [], "owner": {"reputation": 374, "user_id": 5417798, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2ea5f1b90a9cff464e782d1932349ff4?s=128&d=identicon&r=PG&f=1", "display_name": "Vincent Pang", "link": "https://stackoverflow.com/users/5417798/vincent-pang"}, "is_accepted": false, "score": 6, "last_activity_date": 1485197651, "creation_date": 1485197651, "answer_id": 41813596, "question_id": 34454481, "link": "https://stackoverflow.com/questions/34454481/angular2-di-in-typescript-can-we-use-it-in-node-js-non-angular-projects/41813596#41813596", "title": "Angular2 DI in Typescript. Can we use it in node.js / non-angular projects?", "body": "<p>Seems someone has extracted dependency injection from Angular2 recently(Jan 2017), which allow it to use outside of the framework.</p>\n\n<p><a href=\"https://github.com/mgechev/injection-js\" rel=\"noreferrer\">https://github.com/mgechev/injection-js</a></p>\n"}, {"comments": [{"owner": {"reputation": 37744, "user_id": 578411, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/qj33e.png?s=128&g=1", "display_name": "rene", "link": "https://stackoverflow.com/users/578411/rene"}, "edited": false, "score": 0, "creation_date": 1502639000, "post_id": 45661063, "comment_id": 78281828, "body": "Isn&#39;t this the same library as is mentioned in this answer: <a href=\"https://stackoverflow.com/a/41813596/578411\">stackoverflow.com/a/41813596/578411</a>?"}], "tags": [], "owner": {"reputation": 7792, "user_id": 1691423, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/YtJy0.jpg?s=128&g=1", "display_name": "vlio20", "link": "https://stackoverflow.com/users/1691423/vlio20"}, "is_accepted": false, "score": 1, "last_activity_date": 1502632180, "creation_date": 1502632180, "answer_id": 45661063, "question_id": 34454481, "link": "https://stackoverflow.com/questions/34454481/angular2-di-in-typescript-can-we-use-it-in-node-js-non-angular-projects/45661063#45661063", "title": "Angular2 DI in Typescript. Can we use it in node.js / non-angular projects?", "body": "<p>There is an awesome port of the Angular DI:\n<a href=\"https://github.com/mgechev/injection-js\" rel=\"nofollow noreferrer\">https://github.com/mgechev/injection-js</a></p>\n"}], "owner": {"reputation": 2535, "user_id": 3211143, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/b0fe837f59ba5d0ed42c961c3afa172b?s=128&d=identicon&r=PG&f=1", "display_name": "Ludovic C", "link": "https://stackoverflow.com/users/3211143/ludovic-c"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3208, "favorite_count": 6, "answer_count": 6, "score": 27, "last_activity_date": 1502632180, "creation_date": 1450968493, "last_edit_date": 1470692890, "question_id": 34454481, "link": "https://stackoverflow.com/questions/34454481/angular2-di-in-typescript-can-we-use-it-in-node-js-non-angular-projects", "title": "Angular2 DI in Typescript. Can we use it in node.js / non-angular projects?", "body": "<p>Was the angular2 dependency injection container designed for standalone use, and is it possible to use it for typescript/javascript server-side applications ?</p>\n\n<p>I opened an issue on Oct. 16 (<a href=\"https://github.com/angular/di.js/issues/108\">https://github.com/angular/di.js/issues/108</a>) on the di project which was I guess supposed to make it into v2. Apparently this was not possible. What's up with the new angular2 di ? Can I use it in a standalone fashion with js / es6 / ts projects?</p>\n"}, {"tags": ["javascript", "angularjs", "typescript", "prototype", "minify"], "comments": [{"owner": {"reputation": 22172, "user_id": 1263942, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/b272a5e1d5d3589192d942552e51e2a8?s=128&d=identicon&r=PG", "display_name": "Bruno Grieder", "link": "https://stackoverflow.com/users/1263942/bruno-grieder"}, "edited": false, "score": 3, "creation_date": 1450966628, "post_id": 34453893, "comment_id": 56649692, "body": "Likely, <code>BaseController</code> is not visible from <code>ArticleController</code> (because it is concatenated after for instance). To avoid these sort of issues, write modular Typescript (es6 and/or commonjs style) and use <code>webpack</code> or <code>browserify</code>"}, {"owner": {"reputation": 1620, "user_id": 3368498, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/e03e91b5e921f3c22e3d0688f3fd29a5?s=128&d=identicon&r=PG&f=1", "display_name": "Radek Anuszewski", "link": "https://stackoverflow.com/users/3368498/radek-anuszewski"}, "reply_to_user": {"reputation": 22172, "user_id": 1263942, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/b272a5e1d5d3589192d942552e51e2a8?s=128&d=identicon&r=PG", "display_name": "Bruno Grieder", "link": "https://stackoverflow.com/users/1263942/bruno-grieder"}, "edited": false, "score": 0, "creation_date": 1451047244, "post_id": 34453893, "comment_id": 56667558, "body": "@BrunoGrieder You were right, it was concatenated after and (with variable and IIFE) it was hoisted in different way that earlier (with function) and it makes my code didn&#39;t work. Please place it as regular answer - then I could mark it answer as corrected"}, {"owner": {"reputation": 22172, "user_id": 1263942, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/b272a5e1d5d3589192d942552e51e2a8?s=128&d=identicon&r=PG", "display_name": "Bruno Grieder", "link": "https://stackoverflow.com/users/1263942/bruno-grieder"}, "edited": false, "score": 0, "creation_date": 1451067721, "post_id": 34453893, "comment_id": 56672536, "body": "Glad it helped. Made my comment an answer"}], "answers": [{"tags": [], "owner": {"reputation": 22172, "user_id": 1263942, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/b272a5e1d5d3589192d942552e51e2a8?s=128&d=identicon&r=PG", "display_name": "Bruno Grieder", "link": "https://stackoverflow.com/users/1263942/bruno-grieder"}, "is_accepted": true, "score": 1, "last_activity_date": 1451067705, "creation_date": 1451067705, "answer_id": 34465280, "question_id": 34453893, "link": "https://stackoverflow.com/questions/34453893/angularjs-typescript-compile-process-and-gulp-uglify-is-there-a-way-to-force/34465280#34465280", "title": "AngularJS: TypeScript compile process and gulp-uglify - is there a way to force TS to produce functions instead of variable with IIFE?", "body": "<p>Likely, <code>BaseController</code> is not visible from <code>ArticleController</code> (because it is concatenated after for instance). </p>\n\n<p>To avoid these sort of issues, write modular Typescript (es6 and/or commonjs style) and use webpack or browserify</p>\n"}], "owner": {"reputation": 1620, "user_id": 3368498, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/e03e91b5e921f3c22e3d0688f3fd29a5?s=128&d=identicon&r=PG&f=1", "display_name": "Radek Anuszewski", "link": "https://stackoverflow.com/users/3368498/radek-anuszewski"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 154, "favorite_count": 0, "accepted_answer_id": 34465280, "answer_count": 1, "score": 1, "last_activity_date": 1451067705, "creation_date": 1450965372, "last_edit_date": 1451042788, "question_id": 34453893, "link": "https://stackoverflow.com/questions/34453893/angularjs-typescript-compile-process-and-gulp-uglify-is-there-a-way-to-force", "title": "AngularJS: TypeScript compile process and gulp-uglify - is there a way to force TS to produce functions instead of variable with IIFE?", "body": "<p>I have AngularJS <code>controller</code>:</p>\n\n<pre><code>ArticleController.prototype = Object.create(BaseController.prototype);\n\n/* @ngInject */\n\nfunction ArticleController (CommunicationService){\n    //Some code not related with problem\n}\n</code></pre>\n\n<p>Which is minified with gulp:</p>\n\n<pre><code>return gulp.src(pathsToMinify)\n        .pipe(require('gulp-ng-annotate')())\n        .pipe(require('gulp-uglify')())\n        .pipe(require('gulp-concat')('application.min.js'))\n        .pipe(gulp.dest('dist'));\n</code></pre>\n\n<p>And then I decided to migrate from plain Javascript to Typescript, starting with <code>BaseController</code>:</p>\n\n<pre><code>class BaseController {\n    constructor() {\n        //Some code not related with problem\n    }\n}\n</code></pre>\n\n<p>After minification and concatenation, I got:</p>\n\n<blockquote>\n  <p>Uncaught TypeError: Cannot read property 'prototype' of undefined</p>\n</blockquote>\n\n<p>Related to line:</p>\n\n<pre><code>ArticleController.prototype = Object.create(BaseController.prototype);\n</code></pre>\n\n<p>Then I realised that Typescript compiler otputs BaseController as variable with IIFE:</p>\n\n<pre><code>var BaseController = (function () {\n    function BaseController() {\n\n    }\n    BaseController.prototype.setPath = function (path) {\n        this._path = path;\n    };\n    //Some code not related with problem\n    return BaseController;\n})();\n</code></pre>\n\n<p>Problem IMO is related with variable/function hoisting in Javascript - when I manually replace variable and IIFE with function:</p>\n\n<pre><code>function BaseController() {\n}\n//Some code not related with problem\n</code></pre>\n\n<p>It works properly. Is there any idea to dispose of this problem, like forcing Typescript compiler to output function instead of variable with IIFE? Or, I can not change it, and I have to deal with it in other way? Thank you in advance for any help, I am pretty new to Typescript and I didn't realize that I can find problems like this.</p>\n"}, {"tags": ["angularjs", "json", "typescript"], "answers": [{"comments": [{"owner": {"reputation": 101, "user_id": 4124037, "user_type": "registered", "accept_rate": 25, "profile_image": "https://graph.facebook.com/100008380572237/picture?type=large", "display_name": "Andreea Tirgovatu", "link": "https://stackoverflow.com/users/4124037/andreea-tirgovatu"}, "edited": false, "score": 0, "creation_date": 1450965677, "post_id": 34453498, "comment_id": 56649283, "body": "I received a json like this:[Object, Object, Object, Object, Object, Object, Object, Object, Object, Object, Object, Object, Object, Object, Object, Object, Object, Object, Object, Object, Object, Object, Object, Object, Object, Object, Object, Object, Object] 0: Object Age: &quot;5-6 years old&quot; AvailableForAdoption: true Color: &quot;brown&quot; History: &quot;abandoned by owner&quot; LDAdoption: true Name: &quot;Catty&quot; SpecialCare: true Type: &quot;cat&quot; featured: true imageUrl: &quot;img/photo_latest14.jpg&quot; newest: true <b>proto</b>: Object"}, {"owner": {"reputation": 101, "user_id": 4124037, "user_type": "registered", "accept_rate": 25, "profile_image": "https://graph.facebook.com/100008380572237/picture?type=large", "display_name": "Andreea Tirgovatu", "link": "https://stackoverflow.com/users/4124037/andreea-tirgovatu"}, "edited": false, "score": 0, "creation_date": 1450965728, "post_id": 34453498, "comment_id": 56649309, "body": "and an error : TypeError: Cannot set property &#39;pets&#39; of undefined"}, {"owner": {"reputation": 560, "user_id": 1664034, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mmJ78.jpg?s=128&g=1", "display_name": "S&#233;bastien Ollivier", "link": "https://stackoverflow.com/users/1664034/s%c3%a9bastien-ollivier"}, "reply_to_user": {"reputation": 101, "user_id": 4124037, "user_type": "registered", "accept_rate": 25, "profile_image": "https://graph.facebook.com/100008380572237/picture?type=large", "display_name": "Andreea Tirgovatu", "link": "https://stackoverflow.com/users/4124037/andreea-tirgovatu"}, "edited": false, "score": 0, "creation_date": 1450966538, "post_id": 34453498, "comment_id": 56649653, "body": "Sorry, you have to change the inject property :  <code>petsCtrl.$inject = [&#39;$http&#39;, &#39;$scope&#39;];</code>(I update the code)"}, {"owner": {"reputation": 101, "user_id": 4124037, "user_type": "registered", "accept_rate": 25, "profile_image": "https://graph.facebook.com/100008380572237/picture?type=large", "display_name": "Andreea Tirgovatu", "link": "https://stackoverflow.com/users/4124037/andreea-tirgovatu"}, "edited": false, "score": 0, "creation_date": 1450967044, "post_id": 34453498, "comment_id": 56649860, "body": "Ok. No errors for now , but in my view nothing happend.&lt;table class=&quot;table&quot; ng-controller=&quot;petsCtrl&quot;&gt;     &lt;tr ng-repeat=&quot;pet in pets&quot;&gt;       &lt;td&gt;{{pet.Name}}&lt;/td&gt;       &lt;td&gt;{{pet.Type}}&lt;/td&gt;       &lt;td&gt;{{pet.Name}}&lt;/td&gt;     &lt;/tr&gt;   &lt;/table&gt;"}, {"owner": {"reputation": 560, "user_id": 1664034, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mmJ78.jpg?s=128&g=1", "display_name": "S&#233;bastien Ollivier", "link": "https://stackoverflow.com/users/1664034/s%c3%a9bastien-ollivier"}, "reply_to_user": {"reputation": 101, "user_id": 4124037, "user_type": "registered", "accept_rate": 25, "profile_image": "https://graph.facebook.com/100008380572237/picture?type=large", "display_name": "Andreea Tirgovatu", "link": "https://stackoverflow.com/users/4124037/andreea-tirgovatu"}, "edited": false, "score": 0, "creation_date": 1450967169, "post_id": 34453498, "comment_id": 56649917, "body": "Could you set a breakpoint in the http callback and check if there is data ? Maybe a little jsfiddle/plunkr could help :)"}, {"owner": {"reputation": 560, "user_id": 1664034, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mmJ78.jpg?s=128&g=1", "display_name": "S&#233;bastien Ollivier", "link": "https://stackoverflow.com/users/1664034/s%c3%a9bastien-ollivier"}, "reply_to_user": {"reputation": 101, "user_id": 4124037, "user_type": "registered", "accept_rate": 25, "profile_image": "https://graph.facebook.com/100008380572237/picture?type=large", "display_name": "Andreea Tirgovatu", "link": "https://stackoverflow.com/users/4124037/andreea-tirgovatu"}, "edited": false, "score": 0, "creation_date": 1450968456, "post_id": 34453498, "comment_id": 56650438, "body": "Here a working sample : <a href=\"https://jsfiddle.net/gh32amfh/1/\" rel=\"nofollow noreferrer\">jsfiddle.net/gh32amfh/1</a>. I removed the ngRoute part (not interesting in our case) and replace the http call by a timeout call (to emulate the delay, because I have not access to your json file). Is that ok for you ?"}], "tags": [], "owner": {"reputation": 560, "user_id": 1664034, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mmJ78.jpg?s=128&g=1", "display_name": "S&#233;bastien Ollivier", "link": "https://stackoverflow.com/users/1664034/s%c3%a9bastien-ollivier"}, "is_accepted": false, "score": 0, "last_activity_date": 1450966561, "last_edit_date": 1450966561, "creation_date": 1450963451, "answer_id": 34453498, "question_id": 34452511, "link": "https://stackoverflow.com/questions/34452511/get-json-with-typescript-and-angular/34453498#34453498", "title": "get Json with Typescript and Angular", "body": "<p>Indeed, there is something wrong. You have to assign the response from your http call to a property of your scope, not do a <code>return xxx</code>.</p>\n\n<p>You Ctrl must be something like : </p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code> export class petsCtrl {\r\n        dataFromServer : RootObject;\r\n        constructor(private $http: ng.IHttpService, private $scope: any) {\r\n            this.$http.get('/app/pets/pets.json').then(function(response){\r\n               console.log(response.data);\r\n                   this.$scope.pets = response.data;\r\n\r\n                });\r\n        }\r\n    }\r\n\r\npetsCtrl.$inject = ['$http', '$scope'];</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>Then in your view, you can display the property pets :</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;div data-ng-bind=\"pets | json\"&gt;&lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 101, "user_id": 4124037, "user_type": "registered", "accept_rate": 25, "profile_image": "https://graph.facebook.com/100008380572237/picture?type=large", "display_name": "Andreea Tirgovatu", "link": "https://stackoverflow.com/users/4124037/andreea-tirgovatu"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1112, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1450966561, "creation_date": 1450958485, "question_id": 34452511, "link": "https://stackoverflow.com/questions/34452511/get-json-with-typescript-and-angular", "title": "get Json with Typescript and Angular", "body": "<p>I have this interfaces and this class : </p>\n\n<pre><code>module AnimalPlanet{\n     export interface Pet {\n        Type: string;\n        Name: string;\n        Age: string;\n        Color: string;\n        SpecialCare: boolean;\n        AvailableForAdoption: boolean;\n        LDAdoption: boolean;\n        History?: string;\n        featured: boolean;\n        newest: boolean;\n        imageUrl: string;\n        type: string;\n        name: string;\n    }\n\n    export interface RootObject {\n        pets: Pet[];\n    }\n\n  export class petsCtrl {\n        dataFromServer : RootObject;\n        constructor(private $http: ng.IHttpService) {\n            this.$http.get('/app/pets/pets.json').then(function(response){\n               console.log(response.data);\n                   return response.data;\n\n                });\n        }\n    }\n\n    petsCtrl.$inject = ['$http'];\n    app.controller(\"petsCtrl\", petsCtrl);           \n}\n</code></pre>\n\n<p>I try to show in view some data, but something doesn t work with my get method.Maybe my class is wrong write . Can you help me please? Thnaks!</p>\n"}, {"tags": ["javascript", "typescript"], "comments": [{"owner": {"reputation": 6268, "user_id": 1644422, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/01c7fb4b20926d4dcf7d1125f7adac9f?s=128&d=identicon&r=PG", "display_name": "Louay Alakkad", "link": "https://stackoverflow.com/users/1644422/louay-alakkad"}, "edited": false, "score": 0, "creation_date": 1451130773, "post_id": 34451767, "comment_id": 56683570, "body": "it clearly does follow the interface signature."}], "owner": {"reputation": 4258, "user_id": 512783, "user_type": "registered", "accept_rate": 31, "profile_image": "https://i.stack.imgur.com/FaTbJ.png?s=128&g=1", "display_name": "ppoliani", "link": "https://stackoverflow.com/users/512783/ppoliani"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 131, "favorite_count": 0, "closed_date": 1450955913, "answer_count": 0, "score": 4, "last_activity_date": 1450954993, "creation_date": 1450954993, "question_id": 34451767, "link": "https://stackoverflow.com/questions/34451767/typescript-function-types", "closed_reason": "Duplicate", "title": "Typescript: Function types", "body": "<p>I tried some examples in the typescript handbook. More specifically, I stumbled across function types.</p>\n\n<pre><code>interface SearchFunc {\n    (source: string, subString: string): boolean;\n}\n\ninterface SearchFunc {\n  (source: string, subString: string): boolean;\n}\n\nvar mySearch: SearchFunc;\n\nmySearch = function(subString: string) {\n    var result = 1;\n    if (result == -1) {\n        return false;\n    }\n    else {\n        return true;\n    }\n}\n</code></pre>\n\n<p>I wonder why the above doesn't show me any errors. <code>mySearch</code> clearly doesn't follow the signature declared in the interface.</p>\n"}, {"tags": ["typescript"], "comments": [{"owner": {"reputation": 3983, "user_id": 1274424, "user_type": "registered", "accept_rate": 37, "profile_image": "https://www.gravatar.com/avatar/71c66acfc0635d22236d479f8eb45dda?s=128&d=identicon&r=PG", "display_name": "Konst", "link": "https://stackoverflow.com/users/1274424/konst"}, "edited": false, "score": 0, "creation_date": 1450953659, "post_id": 34451244, "comment_id": 56644395, "body": "What is the point to declare a module as a string? I haven&#39;t seen that before."}, {"owner": {"reputation": 6268, "user_id": 1644422, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/01c7fb4b20926d4dcf7d1125f7adac9f?s=128&d=identicon&r=PG", "display_name": "Louay Alakkad", "link": "https://stackoverflow.com/users/1644422/louay-alakkad"}, "reply_to_user": {"reputation": 3983, "user_id": 1274424, "user_type": "registered", "accept_rate": 37, "profile_image": "https://www.gravatar.com/avatar/71c66acfc0635d22236d479f8eb45dda?s=128&d=identicon&r=PG", "display_name": "Konst", "link": "https://stackoverflow.com/users/1274424/konst"}, "edited": false, "score": 0, "creation_date": 1450953692, "post_id": 34451244, "comment_id": 56644414, "body": "That&#39;s a node module."}, {"owner": {"reputation": 24880, "user_id": 99256, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/HfmF9.png?s=128&g=1", "display_name": "Martin Vseticka", "link": "https://stackoverflow.com/users/99256/martin-vseticka"}, "edited": false, "score": 1, "creation_date": 1450964440, "post_id": 34451244, "comment_id": 56648788, "body": "I&#39;m confused. One does not use import statements when working with internal modules. The <code>&lt;reference&gt;</code> comment should be enough. What if you simply remove <code>import Sequelize = require(&quot;sequelize&quot;);</code> line?"}, {"owner": {"reputation": 6268, "user_id": 1644422, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/01c7fb4b20926d4dcf7d1125f7adac9f?s=128&d=identicon&r=PG", "display_name": "Louay Alakkad", "link": "https://stackoverflow.com/users/1644422/louay-alakkad"}, "edited": false, "score": 0, "creation_date": 1451033538, "post_id": 34451244, "comment_id": 56664745, "body": "I know, but you see the <code>declare module &quot;sequelize&quot;</code>. How can I reuse that? I get <code>Sequelize.Model is not defined</code> or something like that."}], "owner": {"reputation": 6268, "user_id": 1644422, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/01c7fb4b20926d4dcf7d1125f7adac9f?s=128&d=identicon&r=PG", "display_name": "Louay Alakkad", "link": "https://stackoverflow.com/users/1644422/louay-alakkad"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 700, "favorite_count": 1, "answer_count": 0, "score": 1, "last_activity_date": 1450952542, "creation_date": 1450952542, "question_id": 34451244, "link": "https://stackoverflow.com/questions/34451244/using-import-statement-in-an-internal-module", "title": "Using import statement in an internal module", "body": "<p>I have an internal module that declares a module as a string:</p>\n\n<pre><code>declare module \"sequelize\" {\n  // export = ...\n}\n</code></pre>\n\n<p>I want to use that \"sequelize\" module in another declarations file. Something like this:</p>\n\n<pre><code>/// &lt;reference path=\"sequelize/sequelize.d.ts\" /&gt;\n\ndeclare module Orm {\n  import Sequelize = require(\"sequelize\");\n\n  interface Models {\n    item: Sequelize.Model&lt;{}, {}&gt;;\n  }\n}\n</code></pre>\n\n<p>But when I do that, I get <code>typings/orm.d.ts(4,30): error TS1147: Import declarations in a namespace cannot reference a module.</code></p>\n\n<p>If I move the import statement outside, the file becomes an external module and I start having all sorts of errors like <code>error TS2503: Cannot find namespace 'Orm'.</code></p>\n\n<p>Is there a way to achieve what I want <strong>without</strong> having to do two declarations in <code>sequelize.d.ts</code> like this:</p>\n\n<pre><code>declare module Sequelize {\n  // export = ...\n}\n\ndeclare module \"sequelize\" {\n  export = Sequelize;\n}\n</code></pre>\n"}, {"tags": ["angular", "typescript"], "comments": [{"owner": {"reputation": 16298, "user_id": 1449181, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/Drz7M.jpg?s=128&g=1", "display_name": "christiandev", "link": "https://stackoverflow.com/users/1449181/christiandev"}, "edited": false, "score": 0, "creation_date": 1450948951, "post_id": 34449486, "comment_id": 56642256, "body": "<i>So I finally succeed, using a clue from @PierreDuc response</i>, you should probably give them some credit in that case :)"}, {"owner": {"reputation": 6180, "user_id": 916450, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/kiTW9.jpg?s=128&g=1", "display_name": "Yaniv Efraim", "link": "https://stackoverflow.com/users/916450/yaniv-efraim"}, "reply_to_user": {"reputation": 16298, "user_id": 1449181, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/Drz7M.jpg?s=128&g=1", "display_name": "christiandev", "link": "https://stackoverflow.com/users/1449181/christiandev"}, "edited": false, "score": 0, "creation_date": 1450949126, "post_id": 34449486, "comment_id": 56642340, "body": "I did! But it is not a solution for the issue so I cannot mark it as an Answer because it wasn&#39;t the answer..."}, {"owner": {"reputation": 347451, "user_id": 215945, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/203qt.png?s=128&g=1", "display_name": "Mark Rajcok", "link": "https://stackoverflow.com/users/215945/mark-rajcok"}, "edited": false, "score": 0, "creation_date": 1450975768, "post_id": 34449486, "comment_id": 56653221, "body": "I&#39;m late to the party, but for other future readers... &quot;It is a &quot;best practice&quot; to apply the @Injectable() decorator \u200b[to all of your services] from the start\u200b both for consistency and for future-proofing&quot; -- <a href=\"https://angular.io/docs/ts/latest/tutorial/toh-pt4.html\" rel=\"nofollow noreferrer\">Services tutorial</a>."}], "answers": [{"comments": [{"owner": {"reputation": 57430, "user_id": 3106920, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pO5sC.jpg?s=128&g=1", "display_name": "Poul Kruijt", "link": "https://stackoverflow.com/users/3106920/poul-kruijt"}, "reply_to_user": {"reputation": 6180, "user_id": 916450, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/kiTW9.jpg?s=128&g=1", "display_name": "Yaniv Efraim", "link": "https://stackoverflow.com/users/916450/yaniv-efraim"}, "edited": false, "score": 1, "creation_date": 1450946619, "post_id": 34449651, "comment_id": 56641204, "body": "Ah yes, you forgot one more thing. I&#39;ll edit my answer"}, {"owner": {"reputation": 57430, "user_id": 3106920, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pO5sC.jpg?s=128&g=1", "display_name": "Poul Kruijt", "link": "https://stackoverflow.com/users/3106920/poul-kruijt"}, "reply_to_user": {"reputation": 6180, "user_id": 916450, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/kiTW9.jpg?s=128&g=1", "display_name": "Yaniv Efraim", "link": "https://stackoverflow.com/users/916450/yaniv-efraim"}, "edited": false, "score": 1, "creation_date": 1450947189, "post_id": 34449651, "comment_id": 56641463, "body": "without any network/console errors... that is odd. Are you sure you tried it with <code>Injectable</code> and not <code>Inject</code>?"}, {"owner": {"reputation": 6180, "user_id": 916450, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/kiTW9.jpg?s=128&g=1", "display_name": "Yaniv Efraim", "link": "https://stackoverflow.com/users/916450/yaniv-efraim"}, "edited": false, "score": 0, "creation_date": 1450947284, "post_id": 34449651, "comment_id": 56641498, "body": "Yes. I am adding some more details - see my edit. Thanks!"}, {"owner": {"reputation": 57430, "user_id": 3106920, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pO5sC.jpg?s=128&g=1", "display_name": "Poul Kruijt", "link": "https://stackoverflow.com/users/3106920/poul-kruijt"}, "reply_to_user": {"reputation": 6180, "user_id": 916450, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/kiTW9.jpg?s=128&g=1", "display_name": "Yaniv Efraim", "link": "https://stackoverflow.com/users/916450/yaniv-efraim"}, "edited": false, "score": 1, "creation_date": 1450948399, "post_id": 34449651, "comment_id": 56642005, "body": "I cannot see a reason why it should not work. Adding <code>HTTP_PROVIDERS</code> to the adapter, and adding <code>@Injectable</code> really should have done the trick. Did you add the <code>angular2&#47;bundles&#47;http.min.js</code> script to the <code>index.html</code>?"}, {"owner": {"reputation": 6180, "user_id": 916450, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/kiTW9.jpg?s=128&g=1", "display_name": "Yaniv Efraim", "link": "https://stackoverflow.com/users/916450/yaniv-efraim"}, "edited": false, "score": 0, "creation_date": 1450948466, "post_id": 34449651, "comment_id": 56642027, "body": "I found a solution. Your HTTP_PROVIDERS was a clue, so thank you very much. - I am updating with the solution."}, {"owner": {"reputation": 57430, "user_id": 3106920, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pO5sC.jpg?s=128&g=1", "display_name": "Poul Kruijt", "link": "https://stackoverflow.com/users/3106920/poul-kruijt"}, "reply_to_user": {"reputation": 6180, "user_id": 916450, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/kiTW9.jpg?s=128&g=1", "display_name": "Yaniv Efraim", "link": "https://stackoverflow.com/users/916450/yaniv-efraim"}, "edited": false, "score": 1, "creation_date": 1450949030, "post_id": 34449651, "comment_id": 56642296, "body": "Adding <code>HTTP_PROVIDERS</code> to a component instead of the bootstrap sounds counter-intuitive to me. As well as using <code>@Inject</code> for every service/provider. There is a big chance adding the <code>@Injectable</code> to the <code>MyService</code> will work as well now (after adding http_providers to the component), without the need of adding <code>@Inject</code> inside the constructor. But, glad you found a solution :)"}, {"owner": {"reputation": 6180, "user_id": 916450, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/kiTW9.jpg?s=128&g=1", "display_name": "Yaniv Efraim", "link": "https://stackoverflow.com/users/916450/yaniv-efraim"}, "edited": false, "score": 1, "creation_date": 1450949100, "post_id": 34449651, "comment_id": 56642326, "body": "I know, this is odd. I will continue playing with this, thank you very much for the help!"}], "tags": [], "owner": {"reputation": 57430, "user_id": 3106920, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pO5sC.jpg?s=128&g=1", "display_name": "Poul Kruijt", "link": "https://stackoverflow.com/users/3106920/poul-kruijt"}, "is_accepted": true, "score": 4, "last_activity_date": 1450946814, "last_edit_date": 1450946814, "creation_date": 1450945861, "answer_id": 34449651, "question_id": 34449486, "link": "https://stackoverflow.com/questions/34449486/angular-2-0-injected-http-service-is-undefined/34449651#34449651", "title": "Angular 2.0 - Injected Http service is undefined", "body": "<p>You should add the <code>HTTP_PROVIDERS</code> in the bootstrap, and not just <code>Http</code>. Try this for <code>bootstrap.ts</code></p>\n\n<pre><code>declare var angular: any;\n\nimport {UpgradeAdapter} from 'angular2/upgrade';\nimport {HTTP_PROVIDERS} from 'angular2/http';\n\nlet adapter = new UpgradeAdapter();\n\nadapter.addProvider(HTTP_PROVIDERS);\n\n//.....\n\nadapter.bootstrap(document.body, ['myApp']);\n</code></pre>\n\n<p><strong>edit</strong></p>\n\n<p>And above that <code>MyService.ts</code> must have an <code>@Injectable()</code> decorator to let angular know it has to inject its dependencies. The reason the injection of the <code>dataService</code> worked is because you used the decorator <code>@Inject</code>. Try this for <code>MyService.ts</code></p>\n\n<pre><code>import {Injectable} from 'angular2/core';\nimport {Http} from 'angular2/http';\nimport {Observable} from 'rxjs/Observable';\n\n@Injectable()\nexport default class MyService {\n\n  constructor(private _http: Http) {}\n\n  getData(): Observable&lt;any&gt; {\n    return this._http.get(someUrl);\n  }\n}\n</code></pre>\n"}], "owner": {"reputation": 6180, "user_id": 916450, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/kiTW9.jpg?s=128&g=1", "display_name": "Yaniv Efraim", "link": "https://stackoverflow.com/users/916450/yaniv-efraim"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 5742, "favorite_count": 2, "accepted_answer_id": 34449651, "answer_count": 1, "score": 11, "last_activity_date": 1505477916, "creation_date": 1450944941, "last_edit_date": 1505477916, "question_id": 34449486, "link": "https://stackoverflow.com/questions/34449486/angular-2-0-injected-http-service-is-undefined", "title": "Angular 2.0 - Injected Http service is undefined", "body": "<p><strong>Comment</strong> - I managed to fix this issue, see in the bottom of this post</p>\n\n<p>I am upgrading my Angular 1.X application using UpgradeAdapter (ngUpgrade). I added a new Angular 2.0 service which I call from my Angular 2.0 Component:</p>\n\n<p>Service: </p>\n\n<pre><code>import {Inject} from 'angular2/core';\nimport {Http} from 'angular2/http';\nimport {Observable} from 'rxjs/Observable';\n\nexport default class MyService {\n  _http;\n  constructor(http: Http) {\n    this._http = http; //http is undefined here\n  }\n\n  getData(): Observable&lt;any&gt; {\n    return this._http.get(someUrl);\n  }\n}\n</code></pre>\n\n<p>Inside my <code>bootstrap.ts</code> I have:</p>\n\n<pre><code>declare var angular: any;\n\nimport {UpgradeAdapter} from 'angular2/upgrade';\nimport {Http} from 'angular2/http';\n\nlet adapter = new UpgradeAdapter();\n\nadapter.addProvider(Http);\n\n//.....\n\nadapter.bootstrap(document.body, ['myApp']);\n</code></pre>\n\n<p>What am I doing wrong here?</p>\n\n<p><strong>EDIT</strong>:</p>\n\n<p>I am injecting another service (Angular 1.X upgraded service) to my Angular 2.0 service, and it does work:</p>\n\n<pre><code>import {Inject} from 'angular2/core';\nimport {Http} from 'angular2/http';\nimport {Observable} from 'rxjs/Observable';\n\nexport default class MyService {\n  _http;\n  _dataService;\n  constructor( @Inject('dataService') dataService, http: Http) {\n    this._http = http; //http is undefined here\n    this._dataService = dataService; //dataService is defined!!\n  }\n\n  getData(): Observable&lt;any&gt; {\n    return this._http.get(someUrl);\n  }\n}\n</code></pre>\n\n<p>Bootstrap.ts:</p>\n\n<pre><code>declare var angular: any;\n\nimport {UpgradeAdapter} from 'angular2/upgrade';\nimport {Http} from 'angular2/http';\n\nlet adapter = new UpgradeAdapter();\n\nadapter.addProvider(Http);\n\nadapter.upgradeNg1Provider('dataService');\n\nadapter.bootstrap(document.body, ['myApp']);\n</code></pre>\n\n<p><strong>EDIT 2</strong>:</p>\n\n<p>When looking at my ES5 transpired code I found this code:</p>\n\n<pre><code> MyService = __decorate([\n        core_1.Injectable(),\n        __param(0, core_1.Inject('dataService'))\n    ], MyService);\n    return MyService;\n</code></pre>\n\n<p>As you can see - no <code>http</code> injection to <code>MyService</code>. When changing my service constructor to use this syntax</p>\n\n<pre><code>constructor( @Inject('dataService') dataService, @Inject('Http') http)\n</code></pre>\n\n<p>Now I am getting the following error:</p>\n\n<pre><code>Error: No provider for Http!\n</code></pre>\n\n<p><strong>Solution for the problem:</strong></p>\n\n<p>So I finally succeed, using a clue from @PierreDuc response:</p>\n\n<p>I changed the constructor for MyService to be:</p>\n\n<pre><code>constructor( @Inject('dataService') dataService, @Inject(Http) http)\n</code></pre>\n\n<p>And I added <code>HTTP_PROVIDERS</code> as a provider to my component (which uses the service):\n(inside my ng 2 component:)</p>\n\n<p><code>providers: [MyService, HTTP_PROVIDERS]</code></p>\n\n<p>No need for <code>@Injectable</code> or <code>addProvider</code> inside my bootstrap.</p>\n\n<p>I do not fully understand why is this happening and why this solution worked. Will love to have it explained if someone here knows it.</p>\n\n<p><strong>Solution Edit:</strong></p>\n\n<p>After a little reading, I now understand DI better. I can use the <code>addProvider(HTTP_PROVIDERS)</code> instead of defining a provider for each component (it will be available for all components). The only mystery left is why injecting <code>private http: Http</code> doesn't work while <code>@Inject(Http) http</code> does work. Any idea???  </p>\n"}, {"tags": ["node.js", "module", "typescript", "commonjs", "partial-classes"], "comments": [{"owner": {"reputation": 779, "user_id": 2420357, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3686fb3d4891224027284f19a6ed95a9?s=128&d=identicon&r=PG", "display_name": "FlorianTopf", "link": "https://stackoverflow.com/users/2420357/floriantopf"}, "edited": false, "score": 0, "creation_date": 1450954988, "post_id": 34448251, "comment_id": 56645004, "body": "Why don&#39;t you use traditional class inheritance?"}, {"owner": {"reputation": 2535, "user_id": 3211143, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/b0fe837f59ba5d0ed42c961c3afa172b?s=128&d=identicon&r=PG&f=1", "display_name": "Ludovic C", "link": "https://stackoverflow.com/users/3211143/ludovic-c"}, "reply_to_user": {"reputation": 779, "user_id": 2420357, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3686fb3d4891224027284f19a6ed95a9?s=128&d=identicon&r=PG", "display_name": "FlorianTopf", "link": "https://stackoverflow.com/users/2420357/floriantopf"}, "edited": false, "score": 0, "creation_date": 1450963411, "post_id": 34448251, "comment_id": 56648365, "body": "Because multiple modules can add functionality to the same class."}, {"owner": {"reputation": 2535, "user_id": 3211143, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/b0fe837f59ba5d0ed42c961c3afa172b?s=128&d=identicon&r=PG&f=1", "display_name": "Ludovic C", "link": "https://stackoverflow.com/users/3211143/ludovic-c"}, "reply_to_user": {"reputation": 779, "user_id": 2420357, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3686fb3d4891224027284f19a6ed95a9?s=128&d=identicon&r=PG", "display_name": "FlorianTopf", "link": "https://stackoverflow.com/users/2420357/floriantopf"}, "edited": false, "score": 0, "creation_date": 1450963431, "post_id": 34448251, "comment_id": 56648372, "body": "It&#39;s like c# partial classes"}], "answers": [{"comments": [{"owner": {"reputation": 2535, "user_id": 3211143, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/b0fe837f59ba5d0ed42c961c3afa172b?s=128&d=identicon&r=PG&f=1", "display_name": "Ludovic C", "link": "https://stackoverflow.com/users/3211143/ludovic-c"}, "edited": false, "score": 0, "creation_date": 1451151593, "post_id": 34461460, "comment_id": 56688719, "body": "Hi there. The problem is I&#39;m writing the whole thing in typescript , not just declaration files..."}, {"owner": {"reputation": 6268, "user_id": 1644422, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/01c7fb4b20926d4dcf7d1125f7adac9f?s=128&d=identicon&r=PG", "display_name": "Louay Alakkad", "link": "https://stackoverflow.com/users/1644422/louay-alakkad"}, "reply_to_user": {"reputation": 2535, "user_id": 3211143, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/b0fe837f59ba5d0ed42c961c3afa172b?s=128&d=identicon&r=PG&f=1", "display_name": "Ludovic C", "link": "https://stackoverflow.com/users/3211143/ludovic-c"}, "edited": false, "score": 0, "creation_date": 1451151712, "post_id": 34461460, "comment_id": 56688750, "body": "In that case I believe you&#39;ll have to write declaration files manually or use a tool to generate them. In both cases you can only rely on interfaces. No other option that I know of unfortunately."}], "tags": [], "owner": {"reputation": 6268, "user_id": 1644422, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/01c7fb4b20926d4dcf7d1125f7adac9f?s=128&d=identicon&r=PG", "display_name": "Louay Alakkad", "link": "https://stackoverflow.com/users/1644422/louay-alakkad"}, "is_accepted": false, "score": 2, "last_activity_date": 1451033928, "creation_date": 1451033928, "answer_id": 34461460, "question_id": 34448251, "link": "https://stackoverflow.com/questions/34448251/typescript-add-a-method-on-a-class-from-another-module-populate-a-namespace/34461460#34461460", "title": "Typescript : Add a method on a class from another module / Populate a namespace from different modules", "body": "<p>If you're just writing declaration files, you can use interfaces instead and do something like what <a href=\"https://github.com/DefinitelyTyped/DefinitelyTyped/blob/master/moment-timezone/moment-timezone.d.ts\" rel=\"nofollow\"><code>moment-timezone</code></a> does.</p>\n\n<h2>moment.d.ts</h2>\n\n<pre><code>declare module moment {\n    interface Moment {\n        // ...\n    }\n\n    interface MomentStatic {\n        // ...\n    }\n}\ndeclare module 'moment' {\n    var _tmp: moment.MomentStatic;\n    export = _tmp;\n}\n</code></pre>\n\n<h2>moment-timezone.d.ts</h2>\n\n<p>Just redeclare the same interfaces with extra functions.</p>\n\n<pre><code>declare module moment {\n    interface Moment {\n        tz(): void;\n    }\n\n    interface MomentStatic {\n        tz(): void;\n    }\n}\ndeclare module 'moment-timezone' {\n    var _tmp: moment.MomentStatic;\n    export = _tmp;\n}\n</code></pre>\n\n<p>Both packages are identical now, and <code>moment</code> gets the new methods automatically.</p>\n"}], "owner": {"reputation": 2535, "user_id": 3211143, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/b0fe837f59ba5d0ed42c961c3afa172b?s=128&d=identicon&r=PG&f=1", "display_name": "Ludovic C", "link": "https://stackoverflow.com/users/3211143/ludovic-c"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1732, "favorite_count": 0, "answer_count": 1, "score": 3, "last_activity_date": 1451033928, "creation_date": 1450938143, "last_edit_date": 1495541245, "question_id": 34448251, "link": "https://stackoverflow.com/questions/34448251/typescript-add-a-method-on-a-class-from-another-module-populate-a-namespace", "title": "Typescript : Add a method on a class from another module / Populate a namespace from different modules", "body": "<h2>The story</h2>\n\n<p>I am building a modular library for math operations. I also want to divide the library into multiple modules : <code>core</code>, <code>relational</code>, <code>vectors</code>, and so on. The modules can be used on their own (but all depend on the <code>core</code> module)</p>\n\n<ol>\n<li>I know it's not possible to use partial classes <a href=\"https://stackoverflow.com/questions/23876782/how-do-i-split-a-typescript-class-into-multiple-files\">How do I split a TypeScript class into multiple files?</a> / <a href=\"https://github.com/Microsoft/TypeScript/issues/563\" rel=\"nofollow noreferrer\">https://github.com/Microsoft/TypeScript/issues/563</a></li>\n</ol>\n\n<h2>The problem :</h2>\n\n<p>The <code>core</code> module defines the <code>Set</code> class, which is a mathematical set. It defines operations such as <code>Set#add</code>, <code>Set#remove</code>. </p>\n\n<p>Though, the <strong>optional</strong> <code>relational</code> module adds a <code>Set#product</code>operator on the <code>Set</code>class. </p>\n\n<p>Other modules could also add other operations on the <code>Set</code> class. I want to keep the possibility of adding functionality when I will see fit.</p>\n\n<h2>The question</h2>\n\n<ol>\n<li><p>With <strong>typescript</strong>, how can I add a method on a class that resides in another module ?</p></li>\n<li><p>How can I arrange the typings so that the user of my library will see the <code>Set#product</code> in his code completion  <strong>only if he installed the <code>relational</code> module</strong> ? Otherwise he only sees the <code>#add</code> and <code>#remove</code> operations ?</p></li>\n</ol>\n\n<p>I am developing this library for <code>node.js</code>, but also use <code>browserify</code> to bundle it for browser use.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"false\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>// core/set.ts \r\n\r\nexport class Set {\r\n  add(element){}\r\n  remove(element){}\r\n}\r\n\r\n\r\n// relational/set.ts\r\n\r\nimport {Set} from './../core/set.ts';\r\n\r\nSet.prototype.product = function(){} // ?\r\n\r\n\r\n// app/index.js\r\n\r\nimport {core} from 'mylib';\r\n\r\nvar set = new Set();\r\nset.add();\r\nset.remove();\r\n// set.product() is not available\r\n\r\n\r\n// app/index2.js\r\n\r\nimport {core} from 'mylib';\r\nimport {relational} from 'mylib';\r\n\r\nvar set = new Set();\r\nset.add();\r\nset.remove();\r\nset.product() //is available</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<h2>Bonus question</h2>\n\n<p>All these modules are made to be available through a common namespace, let's call it <code>MyLibrary</code>. The <code>core</code> module adds <code>MyLibrary.Core</code>, and the <code>relational</code> module adds some objects into the <code>MyLibrary.Core</code>, and also adds <code>MyLibrary.Relational</code>.</p>\n\n<p>Let's say I publish another module, only used to act as a facade for the other modules. Let's call this module <code>my-library</code>.</p>\n\n<p>If a user installs the <code>my-library</code>, <code>core</code> and <code>relational</code> modules with npm. </p>\n\n<pre><code>npm install my-library &amp;&amp; npm install core and nom-install relational\n</code></pre>\n\n<p>In the client application I would like the user of the library to only have to write</p>\n\n<pre><code>var lib = require('my-library');\n</code></pre>\n\n<p>Then, my-library would automatically check all installed MyLibrary modules, require them and populate the MyLibrary namespace and return it.</p>\n\n<p>How an I tell the <code>my-library</code> module, the first time it is accessed, in both node and browser env to</p>\n\n<ol>\n<li>Check for any available MyLibrary module (browser and node environments)</li>\n<li>Run a method for each module (to install them in the namespace)</li>\n<li>Return that nice fruity namespace </li>\n</ol>\n"}, {"tags": ["angular", "typescript"], "comments": [{"owner": {"reputation": 181899, "user_id": 949476, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8feb0675d5ebf4c11ed13885347cc970?s=128&d=identicon&r=PG", "display_name": "dfsq", "link": "https://stackoverflow.com/users/949476/dfsq"}, "edited": false, "score": 1, "creation_date": 1450942029, "post_id": 34447781, "comment_id": 56639694, "body": "You are also not binding promise success callback to proper context. Should be <code>this._api.getRegions().then((data: RegionalData) =&gt; { this.cities = data.cities; this.counties = data.counties; });</code>"}, {"owner": {"reputation": 181833, "user_id": 1873365, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/45TMV.png?s=128&g=1", "display_name": "Thierry Templier", "link": "https://stackoverflow.com/users/1873365/thierry-templier"}, "edited": false, "score": 1, "creation_date": 1450951965, "post_id": 34447781, "comment_id": 56643560, "body": "Yes in fact, when using callback function, the <code>this</code> keyword corresponds to the object your callback is executed on. With ES6 arrow functions (=&gt;), the <code>this</code> keyword is now the context around..."}], "answers": [{"comments": [{"owner": {"reputation": 5757, "user_id": 2472219, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/N1L0L.jpg?s=128&g=1", "display_name": "Bryce Johnson", "link": "https://stackoverflow.com/users/2472219/bryce-johnson"}, "edited": false, "score": 0, "creation_date": 1450964292, "post_id": 34449751, "comment_id": 56648725, "body": "Ah! That&#39;s it. Thanks -- not too familiar with that notation yet."}], "tags": [], "owner": {"reputation": 57430, "user_id": 3106920, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pO5sC.jpg?s=128&g=1", "display_name": "Poul Kruijt", "link": "https://stackoverflow.com/users/3106920/poul-kruijt"}, "is_accepted": true, "score": 4, "last_activity_date": 1450946420, "creation_date": 1450946420, "answer_id": 34449751, "question_id": 34447781, "link": "https://stackoverflow.com/questions/34447781/why-does-ngfor-render-template-bindings-in-the-dom-instead-of-the-data-bo/34449751#34449751", "title": "Why does NgFor render &quot;template_bindings = {}&quot; in the DOM instead of the data-bound elements in my Component?", "body": "<p>The <code>getRegions</code> promise callback is not properly written</p>\n\n<pre><code>getRegions(): void {\n   this._api.getRegions().then((data: RegionalData) =&gt; { \n          this.cities = data.cities;\n          this.counties = data.counties;\n    });\n}\n</code></pre>\n\n<p>use this notation, otherwise <code>this</code> refers to the callback function, instead of the GeoSelector class</p>\n"}], "owner": {"reputation": 5757, "user_id": 2472219, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/N1L0L.jpg?s=128&g=1", "display_name": "Bryce Johnson", "link": "https://stackoverflow.com/users/2472219/bryce-johnson"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 300, "favorite_count": 0, "accepted_answer_id": 34449751, "answer_count": 1, "score": 3, "last_activity_date": 1505480882, "creation_date": 1450935361, "last_edit_date": 1505480882, "question_id": 34447781, "link": "https://stackoverflow.com/questions/34447781/why-does-ngfor-render-template-bindings-in-the-dom-instead-of-the-data-bo", "title": "Why does NgFor render &quot;template_bindings = {}&quot; in the DOM instead of the data-bound elements in my Component?", "body": "<p>When I inspect the data (cities and counties) in DevTools, it's being loaded properly. Everything on the template is loading properly too (no errors being thrown), except that the values of the <code>option</code> elements aren't rendering. Unfortunately, because Angular 2 just went beta, the syntax is different depending on when X blog post was written, or when Y SO question was asked, or even which page on angular.io you're looking at. No idea what I'm missing here.</p>\n\n<p>I realize assigning the <code>value</code> attr and adding text is probably overkill, but neither makes a difference.</p>\n\n<pre><code>import {Component} from 'angular2/core';\nimport {NgFor} from 'angular2/common';\nimport {City, County, RegionalData} from './interfaces';\nimport {api} from './api.service';\n\n@Component({\n    selector: 'geo-selector',\n    template: `\n        &lt;div&gt;\n            &lt;select name=\"region-selector\"&gt;\n                &lt;optgroup label=\"Cities\"&gt;\n                    &lt;option *ngFor=\"#city of cities\" selected=\"selected\" [value]=\"city.name\"&gt;{{city.name}}&lt;/option&gt;\n                &lt;/optgroup&gt;\n                &lt;optgroup label=\"Counties\"&gt;\n                    &lt;option *ngFor=\"#county of counties\" [value]=\"county.name\"&gt;{{county.name}}&lt;/option&gt;\n                &lt;/optgroup&gt;\n            &lt;/select&gt;\n            &lt;label for=\"\"&gt;Zip Search&lt;/label&gt;\n            &lt;input type=\"text\" name=\"zip-search\"/&gt;\n        &lt;/div&gt;\n                        `,\n    providers: [api],\n    directives: [NgFor]\n})\n\nexport class GeoSelector {\n        public cities: City[];\n        public counties: County[];\n\n        constructor(private _api:api) {\n            this.getRegions();\n        }\n\n        getRegions(): void {\n            this._api.getRegions().then(function(data: RegionalData) {\n                this.cities = data.cities;\n                this.counties = data.counties;\n            });\n        }\n\n        onSelect() {\n\n        }\n\n}\n</code></pre>\n\n<p>When I inspect the elements in DevTools, in the space where the <code>option</code> elements should be, I see this: </p>\n\n<pre><code>&lt;!--template bindings={}--&gt;\n</code></pre>\n\n<p>A clue: I see that the comment is being rendered by <code>setBindingDebugInfo</code> in <code>angular2/ts/src/platform/dom/dom_renderer.ts</code>, which is \"used only in debug mode to serialize property changes to comment nodes, such as &lt;template> placeholders.\"</p>\n"}, {"tags": ["javascript", "node.js", "typescript", "gulp"], "answers": [{"comments": [{"owner": {"reputation": 379, "user_id": 4087199, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-YTVMhYTU8-I/AAAAAAAAAAI/AAAAAAAAABg/7PMMvKYaEZ4/photo.jpg?sz=128", "display_name": "Erick Wendel", "link": "https://stackoverflow.com/users/4087199/erick-wendel"}, "edited": false, "score": 0, "creation_date": 1450935276, "post_id": 34447742, "comment_id": 56637450, "body": "yeah, for questions of learning for declaration of class, thank you."}], "tags": [], "owner": {"reputation": 208794, "user_id": 229044, "user_type": "moderator", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/591426cbbacd4025d920467bad356911?s=128&d=identicon&r=PG&f=1", "display_name": "meagar", "link": "https://stackoverflow.com/users/229044/meagar"}, "is_accepted": false, "score": 3, "last_activity_date": 1450935055, "creation_date": 1450935055, "answer_id": 34447742, "question_id": 34447705, "link": "https://stackoverflow.com/questions/34447705/typescript-nodejs-unexpected-token-constructor-function-accessor-or-varia/34447742#34447742", "title": "TypeScript- NodeJS - Unexpected token; &#39;constructor, function, accessor or variable&#39;", "body": "<p>You can't invoke a method inside a class declaration. The line <code>this.testing()</code> cannot go there.</p>\n\n<p>It's not clear why you would want to invoke the method there, or when you think that method would be invoked. Perhaps you're looking for the constructor? As it stands, that line makes no sense in that location.</p>\n"}], "owner": {"reputation": 379, "user_id": 4087199, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-YTVMhYTU8-I/AAAAAAAAAAI/AAAAAAAAABg/7PMMvKYaEZ4/photo.jpg?sz=128", "display_name": "Erick Wendel", "link": "https://stackoverflow.com/users/4087199/erick-wendel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1074, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1451070739, "creation_date": 1450934792, "last_edit_date": 1451070739, "question_id": 34447705, "link": "https://stackoverflow.com/questions/34447705/typescript-nodejs-unexpected-token-constructor-function-accessor-or-varia", "title": "TypeScript- NodeJS - Unexpected token; &#39;constructor, function, accessor or variable&#39;", "body": "<p>I have a app in nodejs, using VS Code, compiling with gulp-typescript-compiler, target ECS5, commonjs. Creating a basic class with error 'Error: Unexpected token; 'constructor, function, accessor or variable' expected on src/app/Test.ts line 7.'</p>\n\n<p>Following code: </p>\n\n<pre><code>class Test {\n    public name:string;\n\n    testing () {\n        console.log('tested...');\n    }\n\n    this.testing();\n }\n//gulp task error compile\n//Error: Unexpected token; 'constructor, function, accessor or variable' expected on src/app/Test.ts line 7.\n</code></pre>\n"}, {"tags": ["apache", "typescript", "xampp", "angular"], "answers": [{"comments": [{"owner": {"reputation": 204459, "user_id": 390330, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/1400be56ff17549b926dd3260da4a494?s=128&d=identicon&r=PG", "display_name": "basarat", "link": "https://stackoverflow.com/users/390330/basarat"}, "reply_to_user": {"reputation": 7536, "user_id": 2419183, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/ac151b3eb8086a1f05da6f80ab1b1f50?s=128&d=identicon&r=PG", "display_name": "Peter Pei Guo", "link": "https://stackoverflow.com/users/2419183/peter-pei-guo"}, "edited": false, "score": 0, "creation_date": 1450931659, "post_id": 34447104, "comment_id": 56636541, "body": "No. Since you are using apache you can put this in your .htaccess : <a href=\"http://stackoverflow.com/a/11724596/390330\">stackoverflow.com/a/11724596/390330</a>"}, {"owner": {"reputation": 204459, "user_id": 390330, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/1400be56ff17549b926dd3260da4a494?s=128&d=identicon&r=PG", "display_name": "basarat", "link": "https://stackoverflow.com/users/390330/basarat"}, "reply_to_user": {"reputation": 7536, "user_id": 2419183, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/ac151b3eb8086a1f05da6f80ab1b1f50?s=128&d=identicon&r=PG", "display_name": "Peter Pei Guo", "link": "https://stackoverflow.com/users/2419183/peter-pei-guo"}, "edited": false, "score": 0, "creation_date": 1450931913, "post_id": 34447104, "comment_id": 56636610, "body": "This should help with your TypeScript JS code compile too ;)"}, {"owner": {"reputation": 7536, "user_id": 2419183, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/ac151b3eb8086a1f05da6f80ab1b1f50?s=128&d=identicon&r=PG", "display_name": "Peter Pei Guo", "link": "https://stackoverflow.com/users/2419183/peter-pei-guo"}, "edited": false, "score": 0, "creation_date": 1450931983, "post_id": 34447104, "comment_id": 56636629, "body": "Yes, now it is worry free."}, {"owner": {"reputation": 7536, "user_id": 2419183, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/ac151b3eb8086a1f05da6f80ab1b1f50?s=128&d=identicon&r=PG", "display_name": "Peter Pei Guo", "link": "https://stackoverflow.com/users/2419183/peter-pei-guo"}, "edited": false, "score": 0, "creation_date": 1450932343, "post_id": 34447104, "comment_id": 56636712, "body": "I am updating my OP, to include &quot;ts|ts!transplied&quot;. ts is the file extension for typescript, and angular2 seemed to use &quot;ts!transplied&quot; as the extension for transplied typescript. I think that way, it is more complete in this situation."}], "tags": [], "owner": {"reputation": 204459, "user_id": 390330, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/1400be56ff17549b926dd3260da4a494?s=128&d=identicon&r=PG", "display_name": "basarat", "link": "https://stackoverflow.com/users/390330/basarat"}, "is_accepted": true, "score": 1, "last_activity_date": 1450929880, "creation_date": 1450929880, "answer_id": 34447104, "question_id": 34447067, "link": "https://stackoverflow.com/questions/34447067/how-to-force-transpile-with-xampp-angular2-typescript/34447104#34447104", "title": "How to force transpile with xampp/angular2/typescript", "body": "<blockquote>\n  <p>refresh the page in browser with ctrl+f5;</p>\n</blockquote>\n\n<p>The ideal solution is to send headers during development from the server to tell the client to not to cache the result:</p>\n\n<pre><code>Cache-Control:no-cache, no-store, must-revalidate\nPragma:no-cache\nExpires:0\n</code></pre>\n"}], "owner": {"reputation": 7536, "user_id": 2419183, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/ac151b3eb8086a1f05da6f80ab1b1f50?s=128&d=identicon&r=PG", "display_name": "Peter Pei Guo", "link": "https://stackoverflow.com/users/2419183/peter-pei-guo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 747, "favorite_count": 1, "accepted_answer_id": 34447104, "answer_count": 1, "score": 0, "last_activity_date": 1450932454, "creation_date": 1450929503, "last_edit_date": 1495535452, "question_id": 34447067, "link": "https://stackoverflow.com/questions/34447067/how-to-force-transpile-with-xampp-angular2-typescript", "title": "How to force transpile with xampp/angular2/typescript", "body": "<p>This is the second time today, I ran into this problem: occasionally after I modified the template file (.html), the old template is still used. I tried multiple ways to solve this:</p>\n\n<ol>\n<li>refresh the page in browser;</li>\n<li>refresh the page in browser with ctrl+f5;</li>\n<li>even restarting Apache.</li>\n</ol>\n\n<p>But the result seemed really inconsistent, and some time none of the above worked. I suspect this somehow relates to how the transpile is triggered.</p>\n\n<p>How can I grantee that the transpile is triggered when the template is modified? </p>\n\n<p>(Not sure whether the code matters in this case, but you can reference <a href=\"https://stackoverflow.com/questions/34444190/how-to-bind-angular-2-expression-and-typescript-method\">this question I asked earlier, the fixed version of that code was used</a>. For exmple, if I change the placeholder to below, the mis-spelled \"first\" won't necessarily show up.)</p>\n\n<pre><code>placeholder=\"Enter firsttttta name here\"&gt;\n</code></pre>\n\n<p><strong>Update:</strong></p>\n\n<p>As <a href=\"https://stackoverflow.com/users/390330/basarat\">@basarat</a> pointed out in his comment, this was solved by adding the following to httpd.conf (I added ts|ts!transpiled to the list. ts is the file extension for typescript, and angular2 seemed to use ts!transpiled for transpiled script.)</p>\n\n<pre><code>&lt;filesMatch \"\\.(html|htm|js|css|ts|ts!transpiled)$\"&gt;\n  FileETag None\n  &lt;ifModule mod_headers.c&gt;\n     Header unset ETag\n     Header set Cache-Control \"max-age=0, no-cache, no-store, must-revalidate\"\n     Header set Pragma \"no-cache\"\n     Header set Expires \"Wed, 11 Jan 1984 05:00:00 GMT\"\n  &lt;/ifModule&gt;\n&lt;/filesMatch&gt;\n</code></pre>\n"}, {"tags": ["angular", "typescript", "angular-material"], "comments": [{"owner": {"reputation": 28908, "user_id": 4933038, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fea342bbab0580d1ee823125a5f0e030?s=128&d=identicon&r=PG&f=1", "display_name": "Eric Martinez", "link": "https://stackoverflow.com/users/4933038/eric-martinez"}, "edited": false, "score": 2, "creation_date": 1450925635, "post_id": 34446653, "comment_id": 56635331, "body": "Check out this website <a href=\"https://justindujardin.github.io/ng2-material/\" rel=\"nofollow noreferrer\">justindujardin.github.io/ng2-material</a>"}, {"owner": {"reputation": 70314, "user_id": 5043867, "user_type": "registered", "accept_rate": 42, "profile_image": "https://i.stack.imgur.com/RX8Aw.jpg?s=128&g=1", "display_name": "Pardeep Jain", "link": "https://stackoverflow.com/users/5043867/pardeep-jain"}, "reply_to_user": {"reputation": 28908, "user_id": 4933038, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fea342bbab0580d1ee823125a5f0e030?s=128&d=identicon&r=PG&f=1", "display_name": "Eric Martinez", "link": "https://stackoverflow.com/users/4933038/eric-martinez"}, "edited": false, "score": 0, "creation_date": 1450933605, "post_id": 34446653, "comment_id": 56637005, "body": "yes not all the components like angular 1.x  are created using angular material for angular2 but few of them are created yet which is mentioned in the link proided by @EricMartinez"}], "answers": [{"comments": [{"owner": {"reputation": 221, "user_id": 828420, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/be3a31cb368e0a5ad4798a7726924864?s=128&d=identicon&r=PG", "display_name": "shaw kwok", "link": "https://stackoverflow.com/users/828420/shaw-kwok"}, "edited": false, "score": 0, "creation_date": 1484170743, "post_id": 37473589, "comment_id": 70405148, "body": "I know this answer is a long time ago. I tried using the Angular CLI &#39;ng new my-project&#39;, and i see at the cmd that is installing, but it take so long to install it looks like it never ends with installing. Does somebody have the same problem?"}], "tags": [], "owner": {"reputation": 347451, "user_id": 215945, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/203qt.png?s=128&g=1", "display_name": "Mark Rajcok", "link": "https://stackoverflow.com/users/215945/mark-rajcok"}, "is_accepted": true, "score": 3, "last_activity_date": 1464314018, "creation_date": 1464314018, "answer_id": 37473589, "question_id": 34446653, "link": "https://stackoverflow.com/questions/34446653/how-can-i-use-angular-material-with-angular-2/37473589#37473589", "title": "How can I use angular material with angular 2?", "body": "<p>Since this question was written, the Angular team has created the \"Material Design for Angular 2\" github project: <a href=\"https://github.com/angular/material2\" rel=\"nofollow\">https://github.com/angular/material2</a></p>\n\n<p>See the <a href=\"https://github.com/angular/material2/blob/master/GETTING_STARTED.md\" rel=\"nofollow\">Getting Started</a> guide for installation instructions.</p>\n\n<p>They want you to (install and) use the <a href=\"https://github.com/angular/angular-cli\" rel=\"nofollow\">Angular CLI</a>.</p>\n\n<p>Since both projects are currently in alpha, the instructions below may change over time:</p>\n\n<pre><code># install the CLI globally\nnpm install -g angular-cli\n\n# create a new project\nng new my-project\n\n# install Angular Material 2 components\nnpm install --save @angular2-material/{core,button,card}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1339, "user_id": 2946032, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4f7c3a43132a68015c1f64b59f231d3d?s=128&d=identicon&r=PG&f=1", "display_name": "Charleston", "link": "https://stackoverflow.com/users/2946032/charleston"}, "is_accepted": false, "score": 0, "last_activity_date": 1525474317, "creation_date": 1525474317, "answer_id": 50184022, "question_id": 34446653, "link": "https://stackoverflow.com/questions/34446653/how-can-i-use-angular-material-with-angular-2/50184022#50184022", "title": "How can I use angular material with angular 2?", "body": "<p>An alternative is use materialize from <a href=\"https://materializecss.com\" rel=\"nofollow noreferrer\">https://materializecss.com</a>\nYou just import this files into your index.html that is in src folder</p>\n\n<pre><code>&lt;!-- Compiled and minified CSS --&gt;\n    &lt;link rel=\"stylesheet\" href=\"https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0-beta/css/materialize.min.css\"&gt;\n\n    &lt;!-- Compiled and minified JavaScript --&gt;\n    &lt;script src=\"https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0-beta/js/materialize.min.js\"&gt;&lt;/script&gt;\n</code></pre>\n\n<p>thus you can use material design\nex:</p>\n\n<pre><code> &lt;label&gt;\n    &lt;input type=\"checkbox\" /&gt;\n    &lt;span&gt;Red&lt;/span&gt;\n  &lt;/label&gt;\n</code></pre>\n"}], "owner": {"reputation": 2606, "user_id": 1890135, "user_type": "registered", "accept_rate": 48, "profile_image": "https://i.stack.imgur.com/8A052.jpg?s=128&g=1", "display_name": "monty_lennie", "link": "https://stackoverflow.com/users/1890135/monty-lennie"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4695, "favorite_count": 0, "accepted_answer_id": 37473589, "answer_count": 2, "score": 5, "last_activity_date": 1525474317, "creation_date": 1450925481, "last_edit_date": 1503884490, "question_id": 34446653, "link": "https://stackoverflow.com/questions/34446653/how-can-i-use-angular-material-with-angular-2", "title": "How can I use angular material with angular 2?", "body": "<p>I've tried <code>npm install angular-material --save</code> and followed <a href=\"https://github.com/angular/bower-material\" rel=\"nofollow\">the instructions here.</a>    </p>\n\n<p>Then I added the script and link to <code>index.html</code></p>\n\n<pre><code>&lt;script src=\"node_modules/angular-material/index.js\"&gt;&lt;/script&gt;\n&lt;link ref=\"stylesheet\" href=\"node_modules/angular-material/modules/angular-material.css\"&gt;\n</code></pre>\n\n<p>Then I tried adding a simple <code>&lt;md-button&gt;</code> but am having no luck. </p>\n"}]